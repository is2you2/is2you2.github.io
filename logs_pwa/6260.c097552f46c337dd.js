"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6260],{6260:(U,m,s)=>{s.r(m),s.d(m,{HomePageModule:()=>F});var g=s(6814),r=s(3582),u=s(95),h=s(6958),_=s(5861),x=s(9868),e=s(6689),f=s(797),T=s(8534),p=s(4414);function v(o,a){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-item",3),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.go_to_playstore_page())}),e._UZ(5,"ion-icon",13),e.TgZ(6,"ion-label"),e._uU(7),e.qZA()()()}if(2&o){const n=e.oxw();e.xp6(3),e.Oqu(n.lang.text.MobileApp),e.xp6(4),e.Oqu(n.lang.text.LinkPlaystore)}}function C(o,a){if(1&o&&e._UZ(0,"img",20),2&o){const n=e.oxw(2);e.Q6J("src",n.userInput.url,e.LSH)}}function I(o,a){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"ion-card")(2,"ion-button",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.ActiveInputSelector())}),e._uU(3),e.qZA(),e.TgZ(4,"input",15),e.NdJ("change",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.inputImageSelected(i))}),e.qZA(),e.YNc(5,C,1,1,"img",16),e.TgZ(6,"ion-card-header")(7,"ion-card-subtitle")(8,"input",17),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.CardTargetDate=i)}),e.qZA()(),e.TgZ(9,"ion-card-title")(10,"input",18),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.userInput.title=i)}),e.qZA()()(),e.TgZ(11,"ion-card-content")(12,"input",19),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.userInput.content=i)}),e.qZA(),e.TgZ(13,"ion-button",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.save())}),e._uU(14),e.qZA()()()()}if(2&o){const n=e.oxw();e.xp6(3),e.hij(" ",n.lang.text.AddImage," "),e.xp6(2),e.Q6J("ngIf",n.userInput.url),e.xp6(3),e.Q6J("ngModel",n.CardTargetDate),e.xp6(2),e.Q6J("placeholder",n.lang.text.NoTitle)("ngModel",n.userInput.title),e.xp6(2),e.Q6J("placeholder",n.lang.text.NoContent)("ngModel",n.userInput.content),e.xp6(2),e.hij(" ",n.lang.text.Write," ")}}function Z(o,a){if(1&o&&e._UZ(0,"img",20),2&o){const n=e.oxw().$implicit,t=e.oxw();e.Q6J("src",t.AllFileList[n].url,e.LSH)}}function b(o,a){if(1&o&&(e.TgZ(0,"ion-card-content"),e._uU(1),e.qZA()),2&o){const n=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.hij(" ",t.AllFileList[n].content," ")}}function A(o,a){if(1&o){const n=e.EpF();e.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-button",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw().$implicit,l=e.oxw();return e.KtG(l.remove(i))}),e._uU(4),e.qZA()()()()}if(2&o){const n=e.oxw(2);e.xp6(4),e.hij(" ",n.lang.text.Delete," ")}}function L(o,a){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"ion-card",21),e.NdJ("click",function(){const l=e.CHM(n).$implicit,c=e.oxw();return e.KtG(c.SelectedIndex=l)}),e.YNc(2,Z,1,1,"img",16),e.TgZ(3,"ion-card-header")(4,"ion-card-subtitle"),e._uU(5),e.qZA(),e.TgZ(6,"ion-card-title"),e._uU(7),e.qZA()(),e.YNc(8,b,2,1,"ion-card-content",2),e.YNc(9,A,5,1,"ion-grid",2),e.qZA()()}if(2&o){const n=a.$implicit,t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.AllFileList[n].url),e.xp6(3),e.Oqu(t.AllFileList[n].date),e.xp6(2),e.Oqu(t.AllFileList[n].title),e.xp6(1),e.Q6J("ngIf",t.AllFileList[n].content),e.xp6(1),e.Q6J("ngIf",n==t.SelectedIndex)}}const w=[{path:"",component:(()=>{var o;class a{constructor(t,i,l,c,d){this.indexed=t,this.lang=i,this.platform=l,this.alertCtrl=c,this.loadingCtrl=d,this.AllFileList=[],this.startIndex=0,this.SelectedIndex=-1,this.ListSize=[],this.isCreateNew=!1,this.CreateTime="0000-00-00 00:00:00",this.CardTargetDate="",this.userInput={title:"",content:"",url:void 0,blob:void 0},this.isMobile=!0,this.SearchKeyword="",this.FILTERED_LIMIT=5}ionViewDidEnter(){var t=this;return(0,_.Z)(function*(){t.isMobile=t.platform.is("android")||t.platform.is("ios");let i=yield t.indexed.GetFileListFromDB("/");for(let l=0,c=i.length;l<c;l++){let d={};switch(i[l].split(".").pop()){case"log":let H=yield t.indexed.loadTextFromUserPath(i[l]);d={...JSON.parse(H)},t.AllFileList.push(d);break;case"logattach":let P=yield t.indexed.loadBlobFromUserPath(i[l],""),M=URL.createObjectURL(P);t.AllFileList[t.AllFileList.length-1].url=M}}t.SortAllListByDate(),t.CalcListSize(),t.create_p5canvas()})()}create_p5canvas(){this.p5canvas=new x(t=>{t.setup=()=>{t.noCanvas(),t.frameRate(5)},t.draw=()=>{this.isCreateNew||t.noLoop(),this.CreateTime=`${t.year()}-${t.nf(t.month(),2)}-${t.nf(t.day(),2)}`,this.CardTargetDate||(this.CardTargetDate=this.CreateTime),this.CreateTime+=` ${t.nf(t.hour(),2)}:${t.nf(t.minute(),2)}:${t.nf(t.second(),2)}`}})}create_new(){this.isCreateNew?this.isCreateNew=!1:(this.SelectedIndex=-1,this.isCreateNew=!0,this.userInput.title="",this.userInput.content="",this.userInput.url=void 0,this.userInput.blob=void 0,this.CardTargetDate="",this.p5canvas&&this.p5canvas.loop(),setTimeout(()=>{document.getElementById("newTitle").focus()},0))}ActiveInputSelector(){document.getElementById("imageInput").click()}inputImageSelected(t){if(t.target.files.length){let i=new Blob([t.target.files[0]]);this.userInput.blob=i;let l=URL.createObjectURL(i);this.userInput.url=l,setTimeout(()=>{URL.revokeObjectURL(l)},0)}else this.userInput.url=void 0,this.userInput.blob=void 0}filter_with_text(){console.log("filter_with_text: ",this.SearchKeyword),this.SearchKeyword=""}save(){var t=this;return(0,_.Z)(function*(){if(!t.userInput.title)return void(yield t.alertCtrl.create({header:t.lang.text.NoTitle,message:t.lang.text.InputTitle,buttons:[t.lang.text.OK]})).present();t.isCreateNew=!1;let i={date:t.CardTargetDate,title:t.userInput.title,content:t.userInput.content,timestamp:t.CreateTime},l=i.date.split("-");if(yield t.indexed.saveTextFileToUserPath(JSON.stringify(i),`${l[0]}/${l[1]}/${l[2]}/${i.timestamp}.log`),t.userInput.blob){let c=yield t.loadingCtrl.create({message:"\uc800\uc7a5\uc911\uc785\ub2c8\ub2e4"});c.present(),yield t.indexed.saveBlobToUserPath(t.userInput.blob,`${l[0]}/${l[1]}/${l[2]}/${i.timestamp}.logattach`);let d=URL.createObjectURL(t.userInput.blob);i.url=d,c.dismiss()}i.textColor="#ff754e",t.AllFileList.unshift(i),t.SortAllListByDate(),t.CalcListSize(),t.SelectedIndex=-1})()}SortAllListByDate(){this.AllFileList.sort((t,i)=>t.date>i.date?-1:t.date<i.date?1:0)}CalcListSize(){let t=Math.min(this.FILTERED_LIMIT,this.AllFileList.length);this.ListSize=Array.from({length:t},(i,l)=>l+this.startIndex)}remove(t){var i=this;return(0,_.Z)(function*(){let l=i.AllFileList[t].date.split("-");if(yield i.indexed.removeFileFromUserPath(`${l[0]}/${l[1]}/${l[2]}/${i.AllFileList[t].timestamp}.log`),i.AllFileList[t].url){let c=yield i.loadingCtrl.create({message:"\uc0ad\uc81c\uc911\uc785\ub2c8\ub2e4"});c.present(),yield i.indexed.removeFileFromUserPath(`${l[0]}/${l[1]}/${l[2]}/${i.AllFileList[t].timestamp}.logattach`),URL.revokeObjectURL(i.AllFileList[t].url),c.dismiss()}i.AllFileList.splice(t,1),i.CalcListSize()})()}go_to_creator_home(){window.open("https://is2you2.github.io/","_system")}go_to_playstore_page(){window.open("https://play.google.com/store/apps/details?id=org.pjcone.simplelogs","_system")}}return(o=a).\u0275fac=function(t){return new(t||o)(e.Y36(f.H),e.Y36(T.C),e.Y36(p.t4),e.Y36(p.Br),e.Y36(p.HT))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:30,vars:10,consts:[["contentId","menu-content","menuId","menu-content","side","start","type","overlay"],["color","primary"],[4,"ngIf"],["button","",3,"click"],["slot","start"],["src","assets/icon/pjcone.png"],[2,"color","#888"],["id","menu-content",1,"ion-page"],[3,"translucent"],["color","tertiary"],[1,"ion-padding",3,"fullscreen"],["color","tertiary","expand","block","fill","clear","shape","round",3,"click"],[4,"ngFor","ngForOf"],["slot","start","name","logo-google-playstore"],["expand","block","fill","clear",3,"click"],["id","imageInput","type","file","accept","image/*","hidden","",3,"change"],[3,"src",4,"ngIf"],["type","text",1,"new_card_input",3,"ngModel","ngModelChange"],["id","newTitle","type","text",1,"new_card_input",3,"placeholder","ngModel","ngModelChange"],["type","text",1,"new_card_input",3,"placeholder","ngModel","ngModelChange"],[3,"src"],[3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar",1)(3,"ion-title"),e._uU(4),e.qZA()()(),e.TgZ(5,"ion-content"),e.YNc(6,v,8,2,"div",2),e.TgZ(7,"ion-item-divider")(8,"ion-label"),e._uU(9),e.qZA()(),e.TgZ(10,"ion-item",3),e.NdJ("click",function(){return i.go_to_creator_home()}),e.TgZ(11,"ion-avatar",4),e._UZ(12,"img",5),e.qZA(),e.TgZ(13,"ion-label")(14,"div"),e._uU(15,"Project: Cone"),e.qZA(),e.TgZ(16,"div",6),e._uU(17),e.qZA()()()()(),e.TgZ(18,"div",7)(19,"ion-header",8)(20,"ion-toolbar",9)(21,"ion-buttons",4),e._UZ(22,"ion-menu-button"),e.qZA(),e.TgZ(23,"ion-title"),e._uU(24),e.qZA()()(),e.TgZ(25,"ion-content",10)(26,"ion-button",11),e.NdJ("click",function(){return i.create_new()}),e._uU(27),e.qZA(),e.YNc(28,I,15,8,"div",2),e.YNc(29,L,10,5,"div",12),e.qZA()()),2&t&&(e.xp6(4),e.Oqu(i.lang.text.SideTitle),e.xp6(2),e.Q6J("ngIf",!i.isMobile),e.xp6(3),e.Oqu(i.lang.text.Creator),e.xp6(8),e.Oqu(i.lang.text.CreatorName),e.xp6(2),e.Q6J("translucent",!0),e.xp6(5),e.hij(" ",i.lang.text.Title," "),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(2),e.hij(" ",i.lang.text.PressToAdd," "),e.xp6(1),e.Q6J("ngIf",i.isCreateNew),e.xp6(1),e.Q6J("ngForOf",i.ListSize))},dependencies:[g.sg,g.O5,u.Fj,u.JJ,u.On,r.BJ,r.YG,r.Sm,r.PM,r.FN,r.Zi,r.tO,r.Dq,r.wI,r.W2,r.jY,r.Gu,r.gu,r.Ie,r.rH,r.Q$,r.z0,r.fG,r.Nd,r.wd,r.sr],styles:[".new_card_input[_ngcontent-%COMP%]{border:none;width:100%;background-color:transparent}ion-menu[_ngcontent-%COMP%]::part(backdrop){background-color:#ff754e80}ion-menu[_ngcontent-%COMP%]::part(container){border-radius:0 16px 16px 0;box-shadow:4px 0 16px #ff754e2e}"]}),a})()}];let y=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(w),h.Bz]}),a})(),F=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.ez,u.u5,r.Pc,y]}),a})()}}]);