(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{1028:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{Y:()=>Fe});var g=fe(1316),Ce=fe(3080),st=fe(4496),Fe=function(o){function V(){return null!==o&&o.apply(this,arguments)||this}return(0,g.ct)(V,o),V.prototype.enable=function(){return(0,Ce.AN)(this,"enable",{sync:!0},arguments)},V.prototype.disable=function(){return(0,Ce.AN)(this,"disable",{sync:!0},arguments)},V.prototype.setEnabled=function(w){return(0,Ce.AN)(this,"setEnabled",{sync:!0},arguments)},V.prototype.fireEvent=function(w){for(var _=[],d=1;d<arguments.length;d++)_[d-1]=arguments[d];return(0,Ce.AN)(this,"fireEvent",{sync:!0},arguments)},V.prototype.isEnabled=function(){return(0,Ce.AN)(this,"isEnabled",{sync:!0},arguments)},V.prototype.isActive=function(){return(0,Ce.AN)(this,"isActive",{sync:!0},arguments)},V.prototype.setDefaults=function(w){return(0,Ce.AN)(this,"setDefaults",{platforms:["Android"]},arguments)},V.prototype.configure=function(w){return(0,Ce.AN)(this,"configure",{platforms:["Android"],sync:!0},arguments)},V.prototype.on=function(w){return(0,Ce.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},V.prototype.un=function(w,_){return(0,Ce.AN)(this,"un",{},arguments)},V.prototype.moveToBackground=function(){return(0,Ce.AN)(this,"moveToBackground",{platforms:["Android"],sync:!0},arguments)},V.prototype.disableWebViewOptimizations=function(){return(0,Ce.AN)(this,"disableWebViewOptimizations",{platforms:["Android"],sync:!0},arguments)},V.prototype.moveToForeground=function(){return(0,Ce.AN)(this,"moveToForeground",{platforms:["Android"],sync:!0},arguments)},V.prototype.overrideBackButton=function(){return(0,Ce.AN)(this,"overrideBackButton",{platforms:["Android"],sync:!0},arguments)},V.prototype.excludeFromTaskList=function(){return(0,Ce.AN)(this,"excludeFromTaskList",{platforms:["Android"],sync:!0},arguments)},V.prototype.isScreenOff=function(w){return(0,Ce.AN)(this,"isScreenOff",{platforms:["Android"]},arguments)},V.prototype.wakeUp=function(){return(0,Ce.AN)(this,"wakeUp",{platforms:["Android"],sync:!0},arguments)},V.prototype.unlock=function(){return(0,Ce.AN)(this,"unlock",{platforms:["Android"],sync:!0},arguments)},V.prototype.disableBatteryOptimizations=function(){return(0,Ce.AN)(this,"disableBatteryOptimizations",{platforms:["Android"],sync:!0},arguments)},V.\u0275fac=(()=>{let w;return function(d){return(w||(w=st.otF(V)))(d||V)}})(),V.\u0275prov=st.wxM({token:V,factory:V.\u0275fac}),V.pluginName="BackgroundMode",V.plugin="cordova-plugin-background-mode",V.pluginRef="cordova.plugins.backgroundMode",V.repo="https://github.com/katzer/cordova-plugin-background-mode",V.platforms=["AmazonFire OS","Android","Browser","iOS","Windows"],V=(0,g.UN)([],V)}(Ce.SM)},7756:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{_:()=>Fe});var g=fe(1316),Ce=fe(3080),st=fe(4496),Fe=function(o){function V(){return null!==o&&o.apply(this,arguments)||this}return(0,g.ct)(V,o),V.prototype.copy=function(w){return(0,Ce.AN)(this,"copy",{},arguments)},V.prototype.paste=function(){return(0,Ce.AN)(this,"paste",{},arguments)},V.prototype.clear=function(){return(0,Ce.AN)(this,"clear",{},arguments)},V.\u0275fac=(()=>{let w;return function(d){return(w||(w=st.otF(V)))(d||V)}})(),V.\u0275prov=st.wxM({token:V,factory:V.\u0275fac}),V.pluginName="Clipboard",V.plugin="cordova-clipboard",V.pluginRef="cordova.plugins.clipboard",V.repo="https://github.com/ihadeed/cordova-clipboard",V.platforms=["Android","iOS","Windows Phone 8"],V=(0,g.UN)([],V)}(Ce.SM)},3080:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{SM:()=>B,sp:()=>m,AN:()=>F,qE:()=>T,QN:()=>I,Ce:()=>V});var Ce=fe(3252),st=fe(800),Fe={error:"cordova_not_available"},o={error:"plugin_not_installed"};function V(M){if(typeof window<"u"&&window.angular){var K=window.document,Y=window.angular.element(K.querySelector("[ng-app]")||K.body).injector();if(Y)return Y.get("$q")(function(te,z){M(te,z)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(te,z){M(te,z)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function m(M,q,K){var Y,ie;"string"==typeof M?Y=M:(Y=M.constructor.getPluginRef(),K=M.constructor.getPluginName(),ie=M.constructor.getPluginInstallName());var te=h(Y);return!(!te||q&&typeof te[q]>"u")||(typeof window>"u"||!window.cordova?(function l(M,q){typeof process>"u"&&console.warn(q?"Native: tried calling "+M+"."+q+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+M+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(K,q),Fe):(function u(M,q,K){console.warn(K?"Native: tried calling "+M+"."+K+", but the "+M+" plugin is not installed.":"Native: tried accessing the "+M+" plugin but it's not installed."),q&&console.warn("Install the "+M+" plugin: 'ionic cordova plugin add "+q+"'")}(K,ie,q),o))}function s(M,q,K,Y,ie,te){void 0===Y&&(Y={}),K=function x(M,q,K,Y){if(void 0===q&&(q={}),q.sync)return M;if("reverse"===q.callbackOrder)M.unshift(Y),M.unshift(K);else if("node"===q.callbackStyle)M.push(function(oe,le){oe?Y(oe):K(le)});else if("object"===q.callbackStyle&&q.successName&&q.errorName){var ie={};ie[q.successName]=K,ie[q.errorName]=Y,M.push(ie)}else if(typeof q.successIndex<"u"||typeof q.errorIndex<"u"){var te=function(){q.successIndex>M.length?M[q.successIndex]=K:M.splice(q.successIndex,0,K)},z=function(){q.errorIndex>M.length?M[q.errorIndex]=Y:M.splice(q.errorIndex,0,Y)};q.successIndex>q.errorIndex?(z(),te()):(te(),z())}else M.push(K),M.push(Y);return M}(K,Y,ie,te);var z=m(M,q);if(!0===z){var oe=h(M.constructor.getPluginRef());return oe[q].apply(oe,K)}return z}function h(M){return typeof window<"u"?c(window,M):null}function c(M,q){for(var K=q.split("."),Y=M,ie=0;ie<K.length;ie++){if(!Y)return null;Y=Y[K[ie]]}return Y}var y=function(M,q,K){return void 0===K&&(K={}),function(){for(var Y=[],ie=0;ie<arguments.length;ie++)Y[ie]=arguments[ie];return K.sync?s(M,q,Y,K):K.observable?function d(M,q,K,Y){return void 0===Y&&(Y={}),new Ce._(function(ie){var te;return te=Y.destruct?s(M,q,K,Y,function(){for(var z=[],oe=0;oe<arguments.length;oe++)z[oe]=arguments[oe];return ie.next(z)},function(){for(var z=[],oe=0;oe<arguments.length;oe++)z[oe]=arguments[oe];return ie.error(z)}):s(M,q,K,Y,ie.next.bind(ie),ie.error.bind(ie)),te&&te.error&&(ie.error(te.error),ie.complete()),function(){try{if(Y.clearFunction)return Y.clearWithArgs?s(M,Y.clearFunction,K,Y,ie.next.bind(ie),ie.error.bind(ie)):s(M,Y.clearFunction,[])}catch(z){console.warn("Unable to clear the previous observable watch for",M.constructor.getPluginName(),q),console.warn(z)}}})}(M,q,Y,K):K.eventObservable&&K.event?function p(M,q){return q=typeof window<"u"&&q?c(window,q):q||(typeof window<"u"?window:{}),(0,st.w)(q,M)}(K.event,K.element):K.otherPromise?function _(M,q,K,Y){return void 0===Y&&(Y={}),V(function(ie,te){var z=s(M,q,K,Y);z?z.error?te(z.error):z.then&&z.then(ie).catch(te):te({error:"unexpected_error"})})}(M,q,Y,K):function w(M,q,K,Y){void 0===Y&&(Y={});var ie,te,z=V(function(oe,le){ie=Y.destruct?s(M,q,K,Y,function(){for(var Ee=[],W=0;W<arguments.length;W++)Ee[W]=arguments[W];return oe(Ee)},function(){for(var Ee=[],W=0;W<arguments.length;W++)Ee[W]=arguments[W];return le(Ee)}):s(M,q,K,Y,oe,le),te=le});return ie&&ie.error&&(z.catch(function(){}),"function"==typeof te&&te(ie.error)),z}(M,q,Y,K)}},B=function(){function M(){}return M.installed=function(){return!0===m(this.pluginRef)},M.getPlugin=function(){return typeof window<"u"?function b(M,q){for(var K=q.split("."),Y=M,ie=0;ie<K.length;ie++){if(!Y)return null;Y=Y[K[ie]]}return Y}(window,this.pluginRef):null},M.getPluginName=function(){return this.pluginName},M.getPluginRef=function(){return this.pluginRef},M.getPluginInstallName=function(){return this.plugin},M.getSupportedPlatforms=function(){return this.platforms},M.pluginName="",M.pluginRef="",M.plugin="",M.repo="",M.platforms=[],M.install="",M}();function F(M,q,K,Y){return y(M,q,K).apply(this,Y)}function T(M,q){return!0===m(M,q)?h(M.constructor.getPluginRef())[q]:null}function I(M,q,K){!0===m(M,q)&&(h(M.constructor.getPluginRef())[q]=K)}!function g(){if(typeof process>"u"){var M=typeof window<"u"?window:{},K=Date.now(),Y=!1;M.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-K)+" ms"),Y=!0}),setTimeout(function(){!Y&&M.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},8268:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{G:()=>Fe});var g=fe(1316),Ce=fe(3080),st=fe(4496),Fe=function(o){function V(){return null!==o&&o.apply(this,arguments)||this}return(0,g.ct)(V,o),Object.defineProperty(V.prototype,"cordova",{get:function(){return(0,Ce.qE)(this,"cordova")},set:function(w){(0,Ce.QN)(this,"cordova",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"model",{get:function(){return(0,Ce.qE)(this,"model")},set:function(w){(0,Ce.QN)(this,"model",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"platform",{get:function(){return(0,Ce.qE)(this,"platform")},set:function(w){(0,Ce.QN)(this,"platform",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uuid",{get:function(){return(0,Ce.qE)(this,"uuid")},set:function(w){(0,Ce.QN)(this,"uuid",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"version",{get:function(){return(0,Ce.qE)(this,"version")},set:function(w){(0,Ce.QN)(this,"version",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"manufacturer",{get:function(){return(0,Ce.qE)(this,"manufacturer")},set:function(w){(0,Ce.QN)(this,"manufacturer",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isVirtual",{get:function(){return(0,Ce.qE)(this,"isVirtual")},set:function(w){(0,Ce.QN)(this,"isVirtual",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"serial",{get:function(){return(0,Ce.qE)(this,"serial")},set:function(w){(0,Ce.QN)(this,"serial",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"sdkVersion",{get:function(){return(0,Ce.qE)(this,"sdkVersion")},set:function(w){(0,Ce.QN)(this,"sdkVersion",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isiOSAppOnMac",{get:function(){return(0,Ce.qE)(this,"isiOSAppOnMac")},set:function(w){(0,Ce.QN)(this,"isiOSAppOnMac",w)},enumerable:!1,configurable:!0}),V.\u0275fac=(()=>{let w;return function(d){return(w||(w=st.otF(V)))(d||V)}})(),V.\u0275prov=st.wxM({token:V,factory:V.\u0275fac}),V.pluginName="Device",V.plugin="cordova-plugin-device",V.pluginRef="device",V.repo="https://github.com/apache/cordova-plugin-device",V.platforms=["Android","Browser","iOS","macOS","Windows"],V=(0,g.UN)([],V)}(Ce.SM)},544:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{S:()=>Fe});var g=fe(1316),Ce=fe(3080),st=fe(4496),Fe=function(o){function V(){var w=null!==o&&o.apply(this,arguments)||this;return w.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},w}return(0,g.ct)(V,o),V.prototype.getFreeDiskSpace=function(){var w=this;return function(){if(!0===(0,Ce.sp)(w))return(0,Ce.Ce)(function(_,d){cordova.exec(_,d,"File","getFreeDiskSpace",[])})}()},V.prototype.checkDir=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d)){if(/^\//.test(_)){var p=new FileError(5);return p.message="directory cannot start with /",Promise.reject(p)}return d.resolveDirectoryUrl(w+_).then(function(){return!0})}}()},V.prototype.createDir=function(w,_,d){var p=this;return function(){if(!0===(0,Ce.sp)(p)){if(/^\//.test(_)){var m=new FileError(5);return m.message="directory cannot start with /",Promise.reject(m)}var C={create:!0};return d||(C.exclusive=!0),p.resolveDirectoryUrl(w).then(function(x){return p.getDirectory(x,_,C)})}}()},V.prototype.removeDir=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d)){if(/^\//.test(_)){var p=new FileError(5);return p.message="directory cannot start with /",Promise.reject(p)}return d.resolveDirectoryUrl(w).then(function(m){return d.getDirectory(m,_,{create:!1})}).then(function(m){return d.remove(m)})}}()},V.prototype.moveDir=function(w,_,d,p){var m=this;return function(){if(!0===(0,Ce.sp)(m)){if(/^\//.test(p=p||_)){var C=new FileError(5);return C.message="directory cannot start with /",Promise.reject(C)}return m.resolveDirectoryUrl(w).then(function(x){return m.getDirectory(x,_,{create:!1})}).then(function(x){return m.resolveDirectoryUrl(d).then(function(s){return m.move(x,s,p)})})}}()},V.prototype.copyDir=function(w,_,d,p){var m=this;return function(){if(!0===(0,Ce.sp)(m)){if(/^\//.test(p)){var C=new FileError(5);return C.message="directory cannot start with /",Promise.reject(C)}return m.resolveDirectoryUrl(w).then(function(x){return m.getDirectory(x,_,{create:!1})}).then(function(x){return m.resolveDirectoryUrl(d).then(function(s){return m.copy(x,s,p)})})}}()},V.prototype.listDir=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d)){if(/^\//.test(_)){var p=new FileError(5);return p.message="directory cannot start with /",Promise.reject(p)}return d.resolveDirectoryUrl(w).then(function(m){return d.getDirectory(m,_,{create:!1,exclusive:!1})}).then(function(m){var C=m.createReader();return d.readEntries(C)})}}()},V.prototype.removeRecursively=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d)){if(/^\//.test(_)){var p=new FileError(5);return p.message="directory cannot start with /",Promise.reject(p)}return d.resolveDirectoryUrl(w).then(function(m){return d.getDirectory(m,_,{create:!1})}).then(function(m){return d.rimraf(m)})}}()},V.prototype.checkFile=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d)){if(/^\//.test(_)){var p=new FileError(5);return p.message="file cannot start with /",Promise.reject(p)}return d.resolveLocalFilesystemUrl(w+_).then(function(m){if(m.isFile)return!0;var C=new FileError(13);return C.message="input is not a file",Promise.reject(C)})}}()},V.prototype.createFile=function(w,_,d){var p=this;return function(){if(!0===(0,Ce.sp)(p)){if(/^\//.test(_)){var m=new FileError(5);return m.message="file-name cannot start with /",Promise.reject(m)}var C={create:!0};return d||(C.exclusive=!0),p.resolveDirectoryUrl(w).then(function(x){return p.getFile(x,_,C)})}}()},V.prototype.removeFile=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d)){if(/^\//.test(_)){var p=new FileError(5);return p.message="file-name cannot start with /",Promise.reject(p)}return d.resolveDirectoryUrl(w).then(function(m){return d.getFile(m,_,{create:!1})}).then(function(m){return d.remove(m)})}}()},V.prototype.writeFile=function(w,_,d,p){var m=this;return void 0===p&&(p={}),function(){if(!0===(0,Ce.sp)(m)){if(/^\//.test(_)){var C=new FileError(5);return C.message="file-name cannot start with /",Promise.reject(C)}var x={create:!p.append,exclusive:!p.replace};return m.resolveDirectoryUrl(w).then(function(s){return m.getFile(s,_,x)}).then(function(s){return m.writeFileEntry(s,d,p)})}}()},V.prototype.writeFileEntry=function(w,_,d){var p=this;return this.createWriter(w).then(function(m){return d.append&&m.seek(m.length),d.truncate&&m.truncate(d.truncate),p.write(m,_)}).then(function(){return w})},V.prototype.writeExistingFile=function(w,_,d){var p=this;return function(){if(!0===(0,Ce.sp)(p))return p.writeFile(w,_,d,{replace:!0})}()},V.prototype.readAsText=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d))return d.readFile(w,_,"Text")}()},V.prototype.readAsDataURL=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d))return d.readFile(w,_,"DataURL")}()},V.prototype.readAsBinaryString=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d))return d.readFile(w,_,"BinaryString")}()},V.prototype.readAsArrayBuffer=function(w,_){var d=this;return function(){if(!0===(0,Ce.sp)(d))return d.readFile(w,_,"ArrayBuffer")}()},V.prototype.moveFile=function(w,_,d,p){var m=this;return function(){if(!0===(0,Ce.sp)(m)){if(/^\//.test(p=p||_)){var C=new FileError(5);return C.message="file name cannot start with /",Promise.reject(C)}return m.resolveDirectoryUrl(w).then(function(x){return m.getFile(x,_,{create:!1})}).then(function(x){return m.resolveDirectoryUrl(d).then(function(s){return m.move(x,s,p)})})}}()},V.prototype.copyFile=function(w,_,d,p){var m=this;return function(){if(!0===(0,Ce.sp)(m)){if(/^\//.test(p=p||_)){var C=new FileError(5);return C.message="file name cannot start with /",Promise.reject(C)}return m.resolveDirectoryUrl(w).then(function(x){return m.getFile(x,_,{create:!1})}).then(function(x){return m.resolveDirectoryUrl(d).then(function(s){return m.copy(x,s,p)})})}}()},V.prototype.fillErrorMessage=function(w){try{w.message=this.cordovaFileError[w.code]}catch{}},V.prototype.resolveLocalFilesystemUrl=function(w){var _=this;return function(){if(!0===(0,Ce.sp)(_))return(0,Ce.Ce)(function(d,p){try{window.resolveLocalFileSystemURL(w,function(m){d(m)},function(m){_.fillErrorMessage(m),p(m)})}catch(m){_.fillErrorMessage(m),p(m)}})}()},V.prototype.resolveDirectoryUrl=function(w){var _=this;return function(){if(!0===(0,Ce.sp)(_))return _.resolveLocalFilesystemUrl(w).then(function(d){if(d.isDirectory)return d;var p=new FileError(13);return p.message="input is not a directory",Promise.reject(p)})}()},V.prototype.getDirectory=function(w,_,d){var p=this;return function(){if(!0===(0,Ce.sp)(p))return new Promise(function(m,C){try{w.getDirectory(_,d,function(x){m(x)},function(x){p.fillErrorMessage(x),C(x)})}catch(x){p.fillErrorMessage(x),C(x)}})}()},V.prototype.getFile=function(w,_,d){var p=this;return function(){if(!0===(0,Ce.sp)(p))return new Promise(function(m,C){try{w.getFile(_,d,m,function(x){p.fillErrorMessage(x),C(x)})}catch(x){p.fillErrorMessage(x),C(x)}})}()},V.prototype.readFile=function(w,_,d){var p=this;if(/^\//.test(_)){var m=new FileError(5);return m.message="file-name cannot start with /",Promise.reject(m)}return this.resolveDirectoryUrl(w).then(function(C){return p.getFile(C,_,{create:!1})}).then(function(C){var x=new FileReader;return(0,Ce.Ce)(function(s,a){x.onloadend=function(){void 0!==x.result||null!==x.result?s(x.result):a(void 0!==x.error||null!==x.error?x.error:{code:null,message:"READER_ONLOADEND_ERR"})},C.file(function(h){x["readAs"+d].call(x,h)},function(h){a(h)})})})},V.prototype.remove=function(w){var _=this;return new Promise(function(d,p){w.remove(function(){d({success:!0,fileRemoved:w})},function(m){_.fillErrorMessage(m),p(m)})})},V.prototype.move=function(w,_,d){var p=this;return new Promise(function(m,C){w.moveTo(_,d,function(x){m(x)},function(x){p.fillErrorMessage(x),C(x)})})},V.prototype.copy=function(w,_,d){var p=this;return new Promise(function(m,C){w.copyTo(_,d,function(x){m(x)},function(x){p.fillErrorMessage(x),C(x)})})},V.prototype.readEntries=function(w){var _=this;return new Promise(function(d,p){w.readEntries(function(m){d(m)},function(m){_.fillErrorMessage(m),p(m)})})},V.prototype.rimraf=function(w){var _=this;return new Promise(function(d,p){w.removeRecursively(function(){d({success:!0,fileRemoved:w})},function(m){_.fillErrorMessage(m),p(m)})})},V.prototype.createWriter=function(w){var _=this;return new Promise(function(d,p){w.createWriter(function(m){d(m)},function(m){_.fillErrorMessage(m),p(m)})})},V.prototype.write=function(w,_){return _ instanceof Blob?this.writeFileInChunks(w,_):new Promise(function(d,p){w.onwriteend=function(m){w.error?p(w.error):d(m)},w.write(_)})},V.prototype.writeFileInChunks=function(w,_){var p=0;function m(){var C=Math.min(1048576,_.size-p),x=_.slice(p,p+C);p+=C,w.write(x)}return(0,Ce.Ce)(function(C,x){w.onerror=x,w.onwrite=function(){p<_.size?m():C()},m()})},Object.defineProperty(V.prototype,"applicationDirectory",{get:function(){return(0,Ce.qE)(this,"applicationDirectory")},set:function(w){(0,Ce.QN)(this,"applicationDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"applicationStorageDirectory",{get:function(){return(0,Ce.qE)(this,"applicationStorageDirectory")},set:function(w){(0,Ce.QN)(this,"applicationStorageDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"dataDirectory",{get:function(){return(0,Ce.qE)(this,"dataDirectory")},set:function(w){(0,Ce.QN)(this,"dataDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cacheDirectory",{get:function(){return(0,Ce.qE)(this,"cacheDirectory")},set:function(w){(0,Ce.QN)(this,"cacheDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"externalApplicationStorageDirectory",{get:function(){return(0,Ce.qE)(this,"externalApplicationStorageDirectory")},set:function(w){(0,Ce.QN)(this,"externalApplicationStorageDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"externalDataDirectory",{get:function(){return(0,Ce.qE)(this,"externalDataDirectory")},set:function(w){(0,Ce.QN)(this,"externalDataDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"externalCacheDirectory",{get:function(){return(0,Ce.qE)(this,"externalCacheDirectory")},set:function(w){(0,Ce.QN)(this,"externalCacheDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"externalRootDirectory",{get:function(){return(0,Ce.qE)(this,"externalRootDirectory")},set:function(w){(0,Ce.QN)(this,"externalRootDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"tempDirectory",{get:function(){return(0,Ce.qE)(this,"tempDirectory")},set:function(w){(0,Ce.QN)(this,"tempDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"syncedDataDirectory",{get:function(){return(0,Ce.qE)(this,"syncedDataDirectory")},set:function(w){(0,Ce.QN)(this,"syncedDataDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"documentsDirectory",{get:function(){return(0,Ce.qE)(this,"documentsDirectory")},set:function(w){(0,Ce.QN)(this,"documentsDirectory",w)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"sharedDirectory",{get:function(){return(0,Ce.qE)(this,"sharedDirectory")},set:function(w){(0,Ce.QN)(this,"sharedDirectory",w)},enumerable:!1,configurable:!0}),V.\u0275fac=(()=>{let w;return function(d){return(w||(w=st.otF(V)))(d||V)}})(),V.\u0275prov=st.wxM({token:V,factory:V.\u0275fac}),V.pluginName="File",V.plugin="cordova-plugin-file",V.pluginRef="cordova.file",V.repo="https://github.com/apache/cordova-plugin-file",V.platforms=["Android","Browser","iOS","macOS","Windows"],V=(0,g.UN)([],V)}(Ce.SM)},6928:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{G8:()=>V,kZ:()=>o});var g=fe(1316),Ce=fe(3080),st=fe(4496),o=function(w){return w.INPUT="input",w.BUTTON="button",w}(o||{}),V=function(w){function _(){return null!==w&&w.apply(this,arguments)||this}return(0,g.ct)(_,w),_.prototype.hasPermission=function(){return(0,Ce.AN)(this,"hasPermission",{},arguments)},_.prototype.requestPermission=function(){return(0,Ce.AN)(this,"requestPermission",{},arguments)},_.prototype.schedule=function(d){return(0,Ce.AN)(this,"schedule",{sync:!0},arguments)},_.prototype.update=function(d){return(0,Ce.AN)(this,"update",{sync:!0},arguments)},_.prototype.clear=function(d){return(0,Ce.AN)(this,"clear",{},arguments)},_.prototype.clearAll=function(){return(0,Ce.AN)(this,"clearAll",{},arguments)},_.prototype.cancel=function(d){return(0,Ce.AN)(this,"cancel",{},arguments)},_.prototype.cancelAll=function(){return(0,Ce.AN)(this,"cancelAll",{},arguments)},_.prototype.isPresent=function(d){return(0,Ce.AN)(this,"isPresent",{},arguments)},_.prototype.isScheduled=function(d){return(0,Ce.AN)(this,"isScheduled",{},arguments)},_.prototype.isTriggered=function(d){return(0,Ce.AN)(this,"isTriggered",{},arguments)},_.prototype.hasType=function(d,p){return(0,Ce.AN)(this,"hasType",{},arguments)},_.prototype.getType=function(d){return(0,Ce.AN)(this,"getType",{},arguments)},_.prototype.getIds=function(){return(0,Ce.AN)(this,"getIds",{},arguments)},_.prototype.getScheduledIds=function(){return(0,Ce.AN)(this,"getScheduledIds",{},arguments)},_.prototype.getTriggeredIds=function(){return(0,Ce.AN)(this,"getTriggeredIds",{},arguments)},_.prototype.get=function(d){return(0,Ce.AN)(this,"get",{},arguments)},_.prototype.getAll=function(){return(0,Ce.AN)(this,"getAll",{},arguments)},_.prototype.getScheduled=function(d){return(0,Ce.AN)(this,"getScheduled",{},arguments)},_.prototype.getTriggered=function(d){return(0,Ce.AN)(this,"getTriggered",{},arguments)},_.prototype.addActions=function(d,p){return(0,Ce.AN)(this,"addActions",{},arguments)},_.prototype.removeActions=function(d){return(0,Ce.AN)(this,"removeActions",{},arguments)},_.prototype.hasActions=function(d){return(0,Ce.AN)(this,"hasActions",{},arguments)},_.prototype.getDefaults=function(){return(0,Ce.AN)(this,"getDefaults",{sync:!0},arguments)},_.prototype.setDefaults=function(d){return(0,Ce.AN)(this,"setDefaults",{sync:!0},arguments)},_.prototype.getAllScheduled=function(){return(0,Ce.AN)(this,"getAllScheduled",{},arguments)},_.prototype.getAllTriggered=function(){return(0,Ce.AN)(this,"getAllTriggered",{},arguments)},_.prototype.on=function(d){return(0,Ce.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},_.prototype.fireEvent=function(d,p){return(0,Ce.AN)(this,"fireEvent",{sync:!0},arguments)},_.prototype.fireQueuedEvents=function(){return(0,Ce.AN)(this,"fireQueuedEvents",{},arguments)},_.\u0275fac=(()=>{let d;return function(m){return(d||(d=st.otF(_)))(m||_)}})(),_.\u0275prov=st.wxM({token:_,factory:_.\u0275fac}),_.pluginName="LocalNotifications",_.plugin="cordova-plugin-local-notification",_.pluginRef="cordova.plugins.notification.local",_.repo="https://github.com/katzer/cordova-plugin-local-notifications",_.platforms=["Android","iOS","Windows"],_=(0,g.UN)([],_)}(Ce.SM)},6400:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{C_:()=>s,Yr:()=>d,io:()=>j,w8:()=>c});var g=fe(1528);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var _=function(T){return T.Unimplemented="UNIMPLEMENTED",T.Unavailable="UNAVAILABLE",T}(_||{});class d extends Error{constructor(I,M,q){super(I),this.message=I,this.code=M,this.data=q}}const m=T=>{var I,M,q,K,Y;const ie=T.CapacitorCustomPlatform||null,te=T.Capacitor||{},z=te.Plugins=te.Plugins||{},oe=T.CapacitorPlatforms,Ee=(null===(I=null==oe?void 0:oe.currentPlatform)||void 0===I?void 0:I.getPlatform)||(()=>null!==ie?ie.name:(T=>{var I,M;return null!=T&&T.androidBridge?"android":null!==(M=null===(I=null==T?void 0:T.webkit)||void 0===I?void 0:I.messageHandlers)&&void 0!==M&&M.bridge?"ios":"web"})(T)),R=(null===(M=null==oe?void 0:oe.currentPlatform)||void 0===M?void 0:M.isNativePlatform)||(()=>"web"!==Ee()),ue=(null===(q=null==oe?void 0:oe.currentPlatform)||void 0===q?void 0:q.isPluginAvailable)||(ke=>{const Qe=Oe.get(ke);return!!(null!=Qe&&Qe.platforms.has(Ee())||je(ke))}),je=(null===(K=null==oe?void 0:oe.currentPlatform)||void 0===K?void 0:K.getPluginHeader)||(ke=>{var Qe;return null===(Qe=te.PluginHeaders)||void 0===Qe?void 0:Qe.find(tt=>tt.name===ke)}),Oe=new Map,$e=(null===(Y=null==oe?void 0:oe.currentPlatform)||void 0===Y?void 0:Y.registerPlugin)||((ke,Qe={})=>{const tt=Oe.get(ke);if(tt)return console.warn(`Capacitor plugin "${ke}" already registered. Cannot register plugins twice.`),tt.proxy;const _t=Ee(),gt=je(ke);let xt;const $t=function(){var Rt=(0,g.c)(function*(){return!xt&&_t in Qe?xt=xt="function"==typeof Qe[_t]?yield Qe[_t]():Qe[_t]:null!==ie&&!xt&&"web"in Qe&&(xt=xt="function"==typeof Qe.web?yield Qe.web():Qe.web),xt});return function(){return Rt.apply(this,arguments)}}(),jt=Rt=>{let Ze;const Dt=(...pt)=>{const Re=$t().then(Ne=>{const Me=((Rt,Ze)=>{var Dt,pt;if(!gt){if(Rt)return null===(pt=Rt[Ze])||void 0===pt?void 0:pt.bind(Rt);throw new d(`"${ke}" plugin is not implemented on ${_t}`,_.Unimplemented)}{const Re=null==gt?void 0:gt.methods.find(Ne=>Ze===Ne.name);if(Re)return"promise"===Re.rtype?Ne=>te.nativePromise(ke,Ze.toString(),Ne):(Ne,Me)=>te.nativeCallback(ke,Ze.toString(),Ne,Me);if(Rt)return null===(Dt=Rt[Ze])||void 0===Dt?void 0:Dt.bind(Rt)}})(Ne,Rt);if(Me){const Ye=Me(...pt);return Ze=null==Ye?void 0:Ye.remove,Ye}throw new d(`"${ke}.${Rt}()" is not implemented on ${_t}`,_.Unimplemented)});return"addListener"===Rt&&(Re.remove=(0,g.c)(function*(){return Ze()})),Re};return Dt.toString=()=>`${Rt.toString()}() { [capacitor code] }`,Object.defineProperty(Dt,"name",{value:Rt,writable:!1,configurable:!1}),Dt},Tt=jt("addListener"),ge=jt("removeListener"),Je=(Rt,Ze)=>{const Dt=Tt({eventName:Rt},Ze),pt=function(){var Ne=(0,g.c)(function*(){const Me=yield Dt;ge({eventName:Rt,callbackId:Me},Ze)});return function(){return Ne.apply(this,arguments)}}(),Re=new Promise(Ne=>Dt.then(()=>Ne({remove:pt})));return Re.remove=(0,g.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield pt()}),Re},ut=new Proxy({},{get(Rt,Ze){switch(Ze){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return gt?Je:Tt;case"removeListener":return ge;default:return jt(Ze)}}});return z[ke]=ut,Oe.set(ke,{name:ke,proxy:ut,platforms:new Set([...Object.keys(Qe),...gt?[_t]:[]])}),ut});return te.convertFileSrc||(te.convertFileSrc=ke=>ke),te.getPlatform=Ee,te.handleError=ke=>T.console.error(ke),te.isNativePlatform=R,te.isPluginAvailable=ue,te.pluginMethodNoop=(ke,Qe,tt)=>Promise.reject(`${tt} does not have an implementation of "${Qe}".`),te.registerPlugin=$e,te.Exception=d,te.DEBUG=!!te.DEBUG,te.isLoggingEnabled=!!te.isLoggingEnabled,te.platform=te.getPlatform(),te.isNative=te.isNativePlatform(),te},x=(T=>T.Capacitor=m(T))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),s=x.registerPlugin;class c{constructor(I){this.listeners={},this.windowListeners={},I&&(console.warn(`Capacitor WebPlugin "${I.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=I)}addListener(I,M){var q=this;this.listeners[I]||(this.listeners[I]=[]),this.listeners[I].push(M);const Y=this.windowListeners[I];Y&&!Y.registered&&this.addWindowListener(Y);const ie=function(){var z=(0,g.c)(function*(){return q.removeListener(I,M)});return function(){return z.apply(this,arguments)}}(),te=Promise.resolve({remove:ie});return Object.defineProperty(te,"remove",{value:(z=(0,g.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield ie()}),function(){return z.apply(this,arguments)})}),te;var z}removeAllListeners(){var I=this;return(0,g.c)(function*(){I.listeners={};for(const M in I.windowListeners)I.removeWindowListener(I.windowListeners[M]);I.windowListeners={}})()}notifyListeners(I,M){const q=this.listeners[I];q&&q.forEach(K=>K(M))}hasListeners(I){return!!this.listeners[I].length}registerWindowListener(I,M){this.windowListeners[M]={registered:!1,windowEventName:I,pluginEventName:M,handler:q=>{this.notifyListeners(M,q)}}}unimplemented(I="not implemented"){return new x.Exception(I,_.Unimplemented)}unavailable(I="not available"){return new x.Exception(I,_.Unavailable)}removeListener(I,M){var q=this;return(0,g.c)(function*(){const K=q.listeners[I];if(!K)return;const Y=K.indexOf(M);q.listeners[I].splice(Y,1),q.listeners[I].length||q.removeWindowListener(q.windowListeners[I])})()}addWindowListener(I){window.addEventListener(I.windowEventName,I.handler),I.registered=!0}removeWindowListener(I){I&&(window.removeEventListener(I.windowEventName,I.handler),I.registered=!1)}}const l=T=>encodeURIComponent(T).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),y=T=>T.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class f extends c{getCookies(){return(0,g.c)(function*(){const I=document.cookie,M={};return I.split(";").forEach(q=>{if(q.length<=0)return;let[K,Y]=q.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");K=y(K).trim(),Y=y(Y).trim(),M[K]=Y}),M})()}setCookie(I){return(0,g.c)(function*(){try{const M=l(I.key),q=l(I.value),K=`; expires=${(I.expires||"").replace("expires=","")}`,Y=(I.path||"/").replace("path=",""),ie=null!=I.url&&I.url.length>0?`domain=${I.url}`:"";document.cookie=`${M}=${q||""}${K}; path=${Y}; ${ie};`}catch(M){return Promise.reject(M)}})()}deleteCookie(I){return(0,g.c)(function*(){try{document.cookie=`${I.key}=; Max-Age=0`}catch(M){return Promise.reject(M)}})()}clearCookies(){return(0,g.c)(function*(){try{const I=document.cookie.split(";")||[];for(const M of I)document.cookie=M.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(I){return Promise.reject(I)}})()}clearAllCookies(){var I=this;return(0,g.c)(function*(){try{yield I.clearCookies()}catch(M){return Promise.reject(M)}})()}}s("CapacitorCookies",{web:()=>new f});const D=function(){var T=(0,g.c)(function*(I){return new Promise((M,q)=>{const K=new FileReader;K.onload=()=>{const Y=K.result;M(Y.indexOf(",")>=0?Y.split(",")[1]:Y)},K.onerror=Y=>q(Y),K.readAsDataURL(I)})});return function(M){return T.apply(this,arguments)}}(),j=(T,I={})=>{const M=Object.assign({method:T.method||"GET",headers:T.headers},I),K=((T={})=>{const I=Object.keys(T);return Object.keys(T).map(K=>K.toLocaleLowerCase()).reduce((K,Y,ie)=>(K[Y]=T[I[ie]],K),{})})(T.headers)["content-type"]||"";if("string"==typeof T.data)M.body=T.data;else if(K.includes("application/x-www-form-urlencoded")){const Y=new URLSearchParams;for(const[ie,te]of Object.entries(T.data||{}))Y.set(ie,te);M.body=Y.toString()}else if(K.includes("multipart/form-data")||T.data instanceof FormData){const Y=new FormData;if(T.data instanceof FormData)T.data.forEach((te,z)=>{Y.append(z,te)});else for(const te of Object.keys(T.data))Y.append(te,T.data[te]);M.body=Y;const ie=new Headers(M.headers);ie.delete("content-type"),M.headers=ie}else(K.includes("application/json")||"object"==typeof T.data)&&(M.body=JSON.stringify(T.data));return M};class k extends c{request(I){return(0,g.c)(function*(){const M=j(I,I.webFetchExtra),q=((T,I=!0)=>T?Object.entries(T).reduce((q,K)=>{const[Y,ie]=K;let te,z;return Array.isArray(ie)?(z="",ie.forEach(oe=>{te=I?encodeURIComponent(oe):oe,z+=`${Y}=${te}&`}),z.slice(0,-1)):(te=I?encodeURIComponent(ie):ie,z=`${Y}=${te}`),`${q}&${z}`},"").substr(1):null)(I.params,I.shouldEncodeUrlParams),K=q?`${I.url}?${q}`:I.url,Y=yield fetch(K,M),ie=Y.headers.get("content-type")||"";let z,oe,{responseType:te="text"}=Y.ok?I:{};switch(ie.includes("application/json")&&(te="json"),te){case"arraybuffer":case"blob":oe=yield Y.blob(),z=yield D(oe);break;case"json":z=yield Y.json();break;default:z=yield Y.text()}const le={};return Y.headers.forEach((Ee,W)=>{le[W]=Ee}),{data:z,headers:le,status:Y.status,url:Y.url}})()}get(I){var M=this;return(0,g.c)(function*(){return M.request(Object.assign(Object.assign({},I),{method:"GET"}))})()}post(I){var M=this;return(0,g.c)(function*(){return M.request(Object.assign(Object.assign({},I),{method:"POST"}))})()}put(I){var M=this;return(0,g.c)(function*(){return M.request(Object.assign(Object.assign({},I),{method:"PUT"}))})()}patch(I){var M=this;return(0,g.c)(function*(){return M.request(Object.assign(Object.assign({},I),{method:"PATCH"}))})()}delete(I){var M=this;return(0,g.c)(function*(){return M.request(Object.assign(Object.assign({},I),{method:"DELETE"}))})()}}s("CapacitorHttp",{web:()=>new k})},9248:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{c:()=>st,r:()=>m});const st=(F,j)=>{F.componentOnReady?F.componentOnReady().then(k=>j(k)):m(()=>j(F))},m=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F)},1896:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{L:()=>g,a:()=>Ce,b:()=>st,c:()=>Fe,d:()=>o,g:()=>F});const g="ionViewWillEnter",Ce="ionViewDidEnter",st="ionViewWillLeave",Fe="ionViewDidLeave",o="ionViewWillUnload",F=j=>j.classList.contains("ion-page")?j:j.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||j},388:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{c:()=>h});var g=fe(4829),Ce=fe(6384);let st;const o=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V=c=>(void 0===st&&(st=void 0===c.style.animationName&&void 0!==c.style.webkitAnimationName?"-webkit-":""),st),w=(c,u,l)=>{const y=u.startsWith("animation")?V(c):"";c.style.setProperty(y+u,l)},_=(c,u)=>{const l=u.startsWith("animation")?V(c):"";c.style.removeProperty(l+u)},m=[],a=(c=[],u)=>{if(void 0!==u){const l=Array.isArray(u)?u:[u];return[...c,...l]}return c},h=c=>{let u,l,y,f,b,D,U,te,z,oe,le,ne,ue,B=[],F=[],j=[],k=!1,T={},I=[],M=[],q={},K=0,Y=!1,ie=!1,Ee=!0,W=!1,R=!0,we=!1;const je=c,Be=[],We=[],Oe=[],Pe=[],$e=[],ke=[],Qe=[],tt=[],_t=[],gt=[],xt=[],$t="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,Ot="function"==typeof Element&&"function"==typeof Element.prototype.animate&&$t,Tt=()=>xt,Ze=(Bt,Le)=>{const Ke=Le.findIndex(Nt=>Nt.c===Bt);Ke>-1&&Le.splice(Ke,1)},pt=(Bt,Le)=>((null!=Le&&Le.oneTimeCallback?We:Be).push({c:Bt,o:Le}),ue),Ne=()=>{if(Ot)xt.forEach(Bt=>{Bt.cancel()}),xt.length=0;else{const Bt=Pe.slice();(0,Ce.r)(()=>{Bt.forEach(Le=>{_(Le,"animation-name"),_(Le,"animation-duration"),_(Le,"animation-timing-function"),_(Le,"animation-iteration-count"),_(Le,"animation-delay"),_(Le,"animation-play-state"),_(Le,"animation-fill-mode"),_(Le,"animation-direction")})})}},Me=()=>{ke.forEach(Bt=>{null!=Bt&&Bt.parentNode&&Bt.parentNode.removeChild(Bt)}),ke.length=0},It=()=>void 0!==b?b:U?U.getFill():"both",Yt=()=>void 0!==z?z:void 0!==D?D:U?U.getDirection():"normal",et=()=>Y?"linear":void 0!==y?y:U?U.getEasing():"linear",Mt=()=>ie?0:void 0!==oe?oe:void 0!==l?l:U?U.getDuration():0,Ut=()=>void 0!==f?f:U?U.getIterations():1,Wt=()=>void 0!==le?le:void 0!==u?u:U?U.getDelay():0,L=()=>{0!==K&&(K--,0===K&&((()=>{Ln(),_t.forEach(Ht=>Ht()),gt.forEach(Ht=>Ht());const Bt=Ee?1:0,Le=I,Ke=M,Nt=q;Pe.forEach(Ht=>{const Xt=Ht.classList;Le.forEach(se=>Xt.add(se)),Ke.forEach(se=>Xt.remove(se));for(const se in Nt)Nt.hasOwnProperty(se)&&w(Ht,se,Nt[se])}),oe=void 0,z=void 0,le=void 0,Be.forEach(Ht=>Ht.c(Bt,ue)),We.forEach(Ht=>Ht.c(Bt,ue)),We.length=0,R=!0,Ee&&(W=!0),Ee=!0})(),U&&U.animationFinish()))},H=(Bt=!0)=>{Me();const Le=(c=>(c.forEach(u=>{for(const l in u)if(u.hasOwnProperty(l)){const y=u[l];if("easing"===l)u["animation-timing-function"]=y,delete u[l];else{const f=o(l);f!==l&&(u[f]=y,delete u[l])}}}),c))(B);Pe.forEach(Ke=>{if(Le.length>0){const Nt=((c=[])=>c.map(u=>{const l=u.offset,y=[];for(const f in u)u.hasOwnProperty(f)&&"offset"!==f&&y.push(`${f}: ${u[f]};`);return`${100*l}% { ${y.join(" ")} }`}).join(" "))(Le);ne=void 0!==c?c:(c=>{let u=m.indexOf(c);return u<0&&(u=m.push(c)-1),`ion-animation-${u}`})(Nt);const Ht=((c,u,l)=>{var y;const f=(c=>{const u=void 0!==c.getRootNode?c.getRootNode():c;return u.head||u})(l),b=V(l),D=f.querySelector("#"+c);if(D)return D;const B=(null!==(y=l.ownerDocument)&&void 0!==y?y:document).createElement("style");return B.id=c,B.textContent=`@${b}keyframes ${c} { ${u} } @${b}keyframes ${c}-alt { ${u} }`,f.appendChild(B),B})(ne,Nt,Ke);ke.push(Ht),w(Ke,"animation-duration",`${Mt()}ms`),w(Ke,"animation-timing-function",et()),w(Ke,"animation-delay",`${Wt()}ms`),w(Ke,"animation-fill-mode",It()),w(Ke,"animation-direction",Yt());const Xt=Ut()===1/0?"infinite":Ut().toString();w(Ke,"animation-iteration-count",Xt),w(Ke,"animation-play-state","paused"),Bt&&w(Ke,"animation-name",`${Ht.id}-alt`),(0,Ce.r)(()=>{w(Ke,"animation-name",Ht.id||null)})}})},Q=(Bt=!0)=>{(()=>{Qe.forEach(Nt=>Nt()),tt.forEach(Nt=>Nt());const Bt=F,Le=j,Ke=T;Pe.forEach(Nt=>{const Ht=Nt.classList;Bt.forEach(Xt=>Ht.add(Xt)),Le.forEach(Xt=>Ht.remove(Xt));for(const Xt in Ke)Ke.hasOwnProperty(Xt)&&w(Nt,Xt,Ke[Xt])})})(),B.length>0&&(Ot?(Pe.forEach(Bt=>{const Le=Bt.animate(B,{id:je,delay:Wt(),duration:Mt(),easing:et(),iterations:Ut(),fill:It(),direction:Yt()});Le.pause(),xt.push(Le)}),xt.length>0&&(xt[0].onfinish=()=>{L()})):H(Bt)),k=!0},pe=Bt=>{if(Bt=Math.min(Math.max(Bt,0),.9999),Ot)xt.forEach(Le=>{Le.currentTime=Le.effect.getComputedTiming().delay+Mt()*Bt,Le.pause()});else{const Le=`-${Mt()*Bt}ms`;Pe.forEach(Ke=>{B.length>0&&(w(Ke,"animation-delay",Le),w(Ke,"animation-play-state","paused"))})}},Ie=Bt=>{xt.forEach(Le=>{Le.effect.updateTiming({delay:Wt(),duration:Mt(),easing:et(),iterations:Ut(),fill:It(),direction:Yt()})}),void 0!==Bt&&pe(Bt)},He=(Bt=!0,Le)=>{(0,Ce.r)(()=>{Pe.forEach(Ke=>{w(Ke,"animation-name",ne||null),w(Ke,"animation-duration",`${Mt()}ms`),w(Ke,"animation-timing-function",et()),w(Ke,"animation-delay",void 0!==Le?`-${Le*Mt()}ms`:`${Wt()}ms`),w(Ke,"animation-fill-mode",It()||null),w(Ke,"animation-direction",Yt()||null);const Nt=Ut()===1/0?"infinite":Ut().toString();w(Ke,"animation-iteration-count",Nt),Bt&&w(Ke,"animation-name",`${ne}-alt`),(0,Ce.r)(()=>{w(Ke,"animation-name",ne||null)})})})},dt=(Bt=!1,Le=!0,Ke)=>(Bt&&$e.forEach(Nt=>{Nt.update(Bt,Le,Ke)}),Ot?Ie(Ke):He(Le,Ke),ue),fn=()=>{k&&(Ot?xt.forEach(Bt=>{Bt.pause()}):Pe.forEach(Bt=>{w(Bt,"animation-play-state","paused")}),we=!0)},Un=()=>{te=void 0,L()},Ln=()=>{te&&clearTimeout(te)},ze=Bt=>new Promise(Le=>{null!=Bt&&Bt.sync&&(ie=!0,pt(()=>ie=!1,{oneTimeCallback:!0})),k||Q(),W&&(Ot?(pe(0),Ie()):He(),W=!1),R&&(K=$e.length+1,R=!1);const Ke=()=>{Ze(Nt,We),Le()},Nt=()=>{Ze(Ke,Oe),Le()};pt(Nt,{oneTimeCallback:!0}),((Bt,Le)=>{Oe.push({c:Bt,o:{oneTimeCallback:!0}})})(Ke),$e.forEach(Ht=>{Ht.play()}),Ot?(xt.forEach(Bt=>{Bt.play()}),(0===B.length||0===Pe.length)&&L()):(()=>{if(Ln(),(0,Ce.r)(()=>{Pe.forEach(Bt=>{B.length>0&&w(Bt,"animation-play-state","running")})}),0===B.length||0===Pe.length)L();else{const Bt=Wt()||0,Le=Mt()||0,Ke=Ut()||1;isFinite(Ke)&&(te=setTimeout(Un,Bt+Le*Ke+100)),((c,u)=>{let l;const y={passive:!0},b=D=>{c===D.target&&(l&&l(),Ln(),(0,Ce.r)(()=>{Pe.forEach(Bt=>{_(Bt,"animation-duration"),_(Bt,"animation-delay"),_(Bt,"animation-play-state")}),(0,Ce.r)(L)}))};c&&(c.addEventListener("webkitAnimationEnd",b,y),c.addEventListener("animationend",b,y),l=()=>{c.removeEventListener("webkitAnimationEnd",b,y),c.removeEventListener("animationend",b,y)})})(Pe[0])}})(),we=!1}),qt=(Bt,Le)=>{const Ke=B[0];return void 0===Ke||void 0!==Ke.offset&&0!==Ke.offset?B=[{offset:0,[Bt]:Le},...B]:Ke[Bt]=Le,ue};return ue={parentAnimation:U,elements:Pe,childAnimations:$e,id:je,animationFinish:L,from:qt,to:(Bt,Le)=>{const Ke=B[B.length-1];return void 0===Ke||void 0!==Ke.offset&&1!==Ke.offset?B=[...B,{offset:1,[Bt]:Le}]:Ke[Bt]=Le,ue},fromTo:(Bt,Le,Ke)=>qt(Bt,Le).to(Bt,Ke),parent:Bt=>(U=Bt,ue),play:ze,pause:()=>($e.forEach(Bt=>{Bt.pause()}),fn(),ue),stop:()=>{$e.forEach(Bt=>{Bt.stop()}),k&&(Ne(),k=!1),Y=!1,ie=!1,R=!0,z=void 0,oe=void 0,le=void 0,K=0,W=!1,Ee=!0,we=!1,Oe.forEach(Bt=>Bt.c(0,ue)),Oe.length=0},destroy:Bt=>($e.forEach(Le=>{Le.destroy(Bt)}),(Bt=>{Ne(),Bt&&Me()})(Bt),Pe.length=0,$e.length=0,B.length=0,Be.length=0,We.length=0,k=!1,R=!0,ue),keyframes:Bt=>{const Le=B!==Bt;return B=Bt,Le&&(Bt=>{Ot?Tt().forEach(Le=>{const Ke=Le.effect;if(Ke.setKeyframes)Ke.setKeyframes(Bt);else{const Nt=new KeyframeEffect(Ke.target,Bt,Ke.getTiming());Le.effect=Nt}}):H()})(B),ue},addAnimation:Bt=>{if(null!=Bt)if(Array.isArray(Bt))for(const Le of Bt)Le.parent(ue),$e.push(Le);else Bt.parent(ue),$e.push(Bt);return ue},addElement:Bt=>{if(null!=Bt)if(1===Bt.nodeType)Pe.push(Bt);else if(Bt.length>=0)for(let Le=0;Le<Bt.length;Le++)Pe.push(Bt[Le]);else console.error("Invalid addElement value");return ue},update:dt,fill:Bt=>(b=Bt,dt(!0),ue),direction:Bt=>(D=Bt,dt(!0),ue),iterations:Bt=>(f=Bt,dt(!0),ue),duration:Bt=>(!Ot&&0===Bt&&(Bt=1),l=Bt,dt(!0),ue),easing:Bt=>(y=Bt,dt(!0),ue),delay:Bt=>(u=Bt,dt(!0),ue),getWebAnimations:Tt,getKeyframes:()=>B,getFill:It,getDirection:Yt,getDelay:Wt,getIterations:Ut,getEasing:et,getDuration:Mt,afterAddRead:Bt=>(_t.push(Bt),ue),afterAddWrite:Bt=>(gt.push(Bt),ue),afterClearStyles:(Bt=[])=>{for(const Le of Bt)q[Le]="";return ue},afterStyles:(Bt={})=>(q=Bt,ue),afterRemoveClass:Bt=>(M=a(M,Bt),ue),afterAddClass:Bt=>(I=a(I,Bt),ue),beforeAddRead:Bt=>(Qe.push(Bt),ue),beforeAddWrite:Bt=>(tt.push(Bt),ue),beforeClearStyles:(Bt=[])=>{for(const Le of Bt)T[Le]="";return ue},beforeStyles:(Bt={})=>(T=Bt,ue),beforeRemoveClass:Bt=>(j=a(j,Bt),ue),beforeAddClass:Bt=>(F=a(F,Bt),ue),onFinish:pt,isRunning:()=>0!==K&&!we,progressStart:(Bt=!1,Le)=>($e.forEach(Ke=>{Ke.progressStart(Bt,Le)}),fn(),Y=Bt,k||Q(),dt(!1,!0,Le),ue),progressStep:Bt=>($e.forEach(Le=>{Le.progressStep(Bt)}),pe(Bt),ue),progressEnd:(Bt,Le,Ke)=>(Y=!1,$e.forEach(Nt=>{Nt.progressEnd(Bt,Le,Ke)}),void 0!==Ke&&(oe=Ke),W=!1,Ee=!0,0===Bt?(z="reverse"===Yt()?"normal":"reverse","reverse"===z&&(Ee=!1),Ot?(dt(),pe(1-Le)):(le=(1-Le)*Mt()*-1,dt(!1,!1))):1===Bt&&(Ot?(dt(),pe(Le)):(le=Le*Mt()*-1,dt(!1,!1))),void 0!==Bt&&!U&&ze(),ue)}}},9637:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{E:()=>p,I:()=>w,a:()=>g,s:()=>_});const g=m=>{try{if(m instanceof w)return m.value;if(!Fe()||"string"!=typeof m||""===m)return m;if(m.includes("onload="))return"";const C=document.createDocumentFragment(),x=document.createElement("div");C.appendChild(x),x.innerHTML=m,V.forEach(c=>{const u=C.querySelectorAll(c);for(let l=u.length-1;l>=0;l--){const y=u[l];y.parentNode?y.parentNode.removeChild(y):C.removeChild(y);const f=st(y);for(let b=0;b<f.length;b++)Ce(f[b])}});const s=st(C);for(let c=0;c<s.length;c++)Ce(s[c]);const a=document.createElement("div");a.appendChild(C);const h=a.querySelector("div");return null!==h?h.innerHTML:a.innerHTML}catch(C){return console.error(C),""}},Ce=m=>{if(m.nodeType&&1!==m.nodeType)return;if(typeof NamedNodeMap<"u"&&!(m.attributes instanceof NamedNodeMap))return void m.remove();for(let x=m.attributes.length-1;x>=0;x--){const s=m.attributes.item(x),a=s.name;if(!o.includes(a.toLowerCase())){m.removeAttribute(a);continue}const h=s.value,c=m[a];(null!=h&&h.toLowerCase().includes("javascript:")||null!=c&&c.toLowerCase().includes("javascript:"))&&m.removeAttribute(a)}const C=st(m);for(let x=0;x<C.length;x++)Ce(C[x])},st=m=>null!=m.children?m.children:m.childNodes,Fe=()=>{var m;const C=window,x=null===(m=null==C?void 0:C.Ionic)||void 0===m?void 0:m.config;return!x||(x.get?x.get("sanitizerEnabled",!0):!0===x.sanitizerEnabled||void 0===x.sanitizerEnabled)},o=["class","id","href","src","name","slot"],V=["script","style","iframe","meta","link","object","embed"];class w{constructor(C){this.value=C}}const _=m=>{const C=window,x=C.Ionic;if(!x||!x.config||"Object"===x.config.constructor.name)return C.Ionic=C.Ionic||{},C.Ionic.config=Object.assign(Object.assign({},C.Ionic.config),m),C.Ionic.config},p=!1},495:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{C:()=>o,a:()=>st,d:()=>Fe});var g=fe(1528),Ce=fe(6384);const st=function(){var V=(0,g.c)(function*(w,_,d,p,m,C){var x;if(w)return w.attachViewToDom(_,d,m,p);if(!(C||"string"==typeof d||d instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof d?null===(x=_.ownerDocument)||void 0===x?void 0:x.createElement(d):d;return p&&p.forEach(a=>s.classList.add(a)),m&&Object.assign(s,m),_.appendChild(s),yield new Promise(a=>(0,Ce.c)(s,a)),s});return function(_,d,p,m,C,x){return V.apply(this,arguments)}}(),Fe=(V,w)=>{if(w){if(V)return V.removeViewFromDom(w.parentElement,w);w.remove()}return Promise.resolve()},o=()=>{let V,w;return{attachViewToDom:function(){var p=(0,g.c)(function*(m,C,x={},s=[]){var a,h;let c;if(V=m,C){const l="string"==typeof C?null===(a=V.ownerDocument)||void 0===a?void 0:a.createElement(C):C;s.forEach(y=>l.classList.add(y)),Object.assign(l,x),V.appendChild(l),c=l,yield new Promise(y=>(0,Ce.c)(l,y))}else if(V.children.length>0&&("ION-MODAL"===V.tagName||"ION-POPOVER"===V.tagName)&&!(c=V.children[0]).classList.contains("ion-delegate-host")){const y=null===(h=V.ownerDocument)||void 0===h?void 0:h.createElement("div");y.classList.add("ion-delegate-host"),s.forEach(f=>y.classList.add(f)),y.append(...V.children),V.appendChild(y),c=y}const u=document.querySelector("ion-app")||document.body;return w=document.createComment("ionic teleport"),V.parentNode.insertBefore(w,V),u.appendChild(V),null!=c?c:V});return function(C,x){return p.apply(this,arguments)}}(),removeViewFromDom:()=>(V&&w&&(w.parentNode.insertBefore(V,w),w.remove()),Promise.resolve())}}},6560:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{G:()=>o});class Ce{constructor(w,_,d,p,m){this.id=_,this.name=d,this.disableScroll=m,this.priority=1e6*p+_,this.ctrl=w}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const w=this.ctrl.capture(this.name,this.id,this.priority);return w&&this.disableScroll&&this.ctrl.disableScroll(this.id),w}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class st{constructor(w,_,d,p){this.id=_,this.disable=d,this.disableScroll=p,this.ctrl=w}block(){if(this.ctrl){if(this.disable)for(const w of this.disable)this.ctrl.disableGesture(w,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const w of this.disable)this.ctrl.enableGesture(w,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Fe="backdrop-no-scroll",o=new class g{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(w){var _;return new Ce(this,this.newID(),w.name,null!==(_=w.priority)&&void 0!==_?_:0,!!w.disableScroll)}createBlocker(w={}){return new st(this,this.newID(),w.disable,!!w.disableScroll)}start(w,_,d){return this.canStart(w)?(this.requestedStart.set(_,d),!0):(this.requestedStart.delete(_),!1)}capture(w,_,d){if(!this.start(w,_,d))return!1;const p=this.requestedStart;let m=-1e4;if(p.forEach(C=>{m=Math.max(m,C)}),m===d){this.capturedId=_,p.clear();const C=new CustomEvent("ionGestureCaptured",{detail:{gestureName:w}});return document.dispatchEvent(C),!0}return p.delete(_),!1}release(w){this.requestedStart.delete(w),this.capturedId===w&&(this.capturedId=void 0)}disableGesture(w,_){let d=this.disabledGestures.get(w);void 0===d&&(d=new Set,this.disabledGestures.set(w,d)),d.add(_)}enableGesture(w,_){const d=this.disabledGestures.get(w);void 0!==d&&d.delete(_)}disableScroll(w){this.disabledScroll.add(w),1===this.disabledScroll.size&&document.body.classList.add(Fe)}enableScroll(w){this.disabledScroll.delete(w),0===this.disabledScroll.size&&document.body.classList.remove(Fe)}canStart(w){return!(void 0!==this.capturedId||this.isDisabled(w))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(w){const _=this.disabledGestures.get(w);return!!(_&&_.size>0)}newID(){return this.gestureId++,this.gestureId}}},136:(pn,Vt,fe)=>{"use strict";fe.r(Vt),fe.d(Vt,{MENU_BACK_BUTTON_PRIORITY:()=>d,OVERLAY_BACK_BUTTON_PRIORITY:()=>_,blockHardwareBackButton:()=>V,shoudUseCloseWatcher:()=>o,startHardwareBackButton:()=>w});var g=fe(1528),Ce=fe(4829),st=fe(1780);fe(3716);const o=()=>st.c.get("experimentalCloseWatcher",!1)&&void 0!==Ce.w&&"CloseWatcher"in Ce.w,V=()=>{document.addEventListener("backbutton",()=>{})},w=()=>{const p=document;let m=!1;const C=()=>{if(m)return;let x=0,s=[];const a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(u,l){s.push({priority:u,handler:l,id:x++})}}});p.dispatchEvent(a);const h=function(){var u=(0,g.c)(function*(l){try{if(null!=l&&l.handler){const y=l.handler(c);null!=y&&(yield y)}}catch(y){console.error(y)}});return function(y){return u.apply(this,arguments)}}(),c=()=>{if(s.length>0){let u={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};s.forEach(l=>{l.priority>=u.priority&&(u=l)}),m=!0,s=s.filter(l=>l.id!==u.id),h(u).then(()=>m=!1)}};c()};if(o()){let x;const s=()=>{null==x||x.destroy(),x=new Ce.w.CloseWatcher,x.onclose=()=>{C(),s()}};s()}else p.addEventListener("backbutton",C)},_=100,d=99},6384:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{a:()=>_,b:()=>d,c:()=>st,d:()=>h,e:()=>a,f:()=>s,g:()=>p,h:()=>x,i:()=>w,j:()=>b,k:()=>o,l:()=>c,m:()=>Fe,n:()=>C,o:()=>u,p:()=>f,q:()=>D,r:()=>m,s:()=>B,t:()=>g,u:()=>l,v:()=>y});const g=(F,j=0)=>new Promise(k=>{Ce(F,j,k)}),Ce=(F,j=0,k)=>{let U,T;const I={passive:!0},q=()=>{U&&U()},K=Y=>{(void 0===Y||F===Y.target)&&(q(),k(Y))};return F&&(F.addEventListener("webkitTransitionEnd",K,I),F.addEventListener("transitionend",K,I),T=setTimeout(K,j+500),U=()=>{void 0!==T&&(clearTimeout(T),T=void 0),F.removeEventListener("webkitTransitionEnd",K,I),F.removeEventListener("transitionend",K,I)}),q},st=(F,j)=>{F.componentOnReady?F.componentOnReady().then(k=>j(k)):m(()=>j(F))},Fe=F=>void 0!==F.componentOnReady,o=(F,j=[])=>{const k={};return j.forEach(U=>{F.hasAttribute(U)&&(null!==F.getAttribute(U)&&(k[U]=F.getAttribute(U)),F.removeAttribute(U))}),k},V=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],w=(F,j)=>{let k=V;return j&&j.length>0&&(k=k.filter(U=>!j.includes(U))),o(F,k)},_=(F,j,k,U)=>{var T;if(typeof window<"u"){const I=window,M=null===(T=null==I?void 0:I.Ionic)||void 0===T?void 0:T.config;if(M){const q=M.get("_ael");if(q)return q(F,j,k,U);if(M._ael)return M._ael(F,j,k,U)}}return F.addEventListener(j,k,U)},d=(F,j,k,U)=>{var T;if(typeof window<"u"){const I=window,M=null===(T=null==I?void 0:I.Ionic)||void 0===T?void 0:T.config;if(M){const q=M.get("_rel");if(q)return q(F,j,k,U);if(M._rel)return M._rel(F,j,k,U)}}return F.removeEventListener(j,k,U)},p=(F,j=F)=>F.shadowRoot||j,m=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F),C=F=>!!F.shadowRoot&&!!F.attachShadow,x=F=>{const j=F.closest("ion-item");return j?j.querySelector("ion-label"):null},s=F=>{if(F.focus(),F.classList.contains("ion-focusable")){const j=F.closest("ion-app");j&&j.setFocus([F])}},a=(F,j)=>{let k;const U=F.getAttribute("aria-labelledby"),T=F.id;let I=null!==U&&""!==U.trim()?U:j+"-lbl",M=null!==U&&""!==U.trim()?document.getElementById(U):x(F);return M?(null===U&&(M.id=I),k=M.textContent,M.setAttribute("aria-hidden","true")):""!==T.trim()&&(M=document.querySelector(`label[for="${T}"]`),M&&(""!==M.id?I=M.id:M.id=I=`${T}-lbl`,k=M.textContent)),{label:M,labelId:I,labelText:k}},h=(F,j,k,U,T)=>{if(F||C(j)){let I=j.querySelector("input.aux-input");I||(I=j.ownerDocument.createElement("input"),I.type="hidden",I.classList.add("aux-input"),j.appendChild(I)),I.disabled=T,I.name=k,I.value=U||""}},c=(F,j,k)=>Math.max(F,Math.min(j,k)),u=(F,j)=>{if(!F){const k="ASSERT: "+j;throw console.error(k),new Error(k)}},l=F=>F.timeStamp||Date.now(),y=F=>{if(F){const j=F.changedTouches;if(j&&j.length>0){const k=j[0];return{x:k.clientX,y:k.clientY}}if(void 0!==F.pageX)return{x:F.pageX,y:F.pageY}}return{x:0,y:0}},f=F=>{const j="rtl"===document.dir;switch(F){case"start":return j;case"end":return!j;default:throw new Error(`"${F}" is not a valid value for [side]. Use "start" or "end" instead.`)}},b=(F,j)=>{const k=F._original||F;return{_original:F,emit:D(k.emit.bind(k),j)}},D=(F,j=0)=>{let k;return(...U)=>{clearTimeout(k),k=setTimeout(F,j,...U)}},B=(F,j)=>{if(null!=F||(F={}),null!=j||(j={}),F===j)return!0;const k=Object.keys(F);if(k.length!==Object.keys(j).length)return!1;for(const U of k)if(!(U in j)||F[U]!==j[U])return!1;return!0}},2528:(pn,Vt,fe)=>{"use strict";fe.r(Vt),fe.d(Vt,{GESTURE_CONTROLLER:()=>g.G,createGesture:()=>d});var g=fe(6560);const Ce=(x,s,a,h)=>{const c=st(x)?{capture:!!h.capture,passive:!!h.passive}:!!h.capture;let u,l;return x.__zone_symbol__addEventListener?(u="__zone_symbol__addEventListener",l="__zone_symbol__removeEventListener"):(u="addEventListener",l="removeEventListener"),x[u](s,a,c),()=>{x[l](s,a,c)}},st=x=>{if(void 0===Fe)try{const s=Object.defineProperty({},"passive",{get:()=>{Fe=!0}});x.addEventListener("optsTest",()=>{},s)}catch{Fe=!1}return!!Fe};let Fe;const w=x=>x instanceof Document?x:x.ownerDocument,d=x=>{let s=!1,a=!1,h=!0,c=!1;const u=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},x),l=u.canStart,y=u.onWillStart,f=u.onStart,b=u.onEnd,D=u.notCaptured,B=u.onMove,F=u.threshold,j=u.passive,k=u.blurOnStart,U={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},T=((x,s,a)=>{const h=a*(Math.PI/180),c="x"===x,u=Math.cos(h),l=s*s;let y=0,f=0,b=!1,D=0;return{start(B,F){y=B,f=F,D=0,b=!0},detect(B,F){if(!b)return!1;const j=B-y,k=F-f,U=j*j+k*k;if(U<l)return!1;const T=Math.sqrt(U),I=(c?j:k)/T;return D=I>u?1:I<-u?-1:0,b=!1,!0},isGesture:()=>0!==D,getDirection:()=>D}})(u.direction,u.threshold,u.maxAngle),I=g.G.createGesture({name:x.gestureName,priority:x.gesturePriority,disableScroll:x.disableScroll}),K=()=>{s&&(c=!1,B&&B(U))},Y=()=>!!I.capture()&&(s=!0,h=!1,U.startX=U.currentX,U.startY=U.currentY,U.startTime=U.currentTime,y?y(U).then(te):te(),!0),te=()=>{k&&(()=>{if(typeof document<"u"){const W=document.activeElement;null!=W&&W.blur&&W.blur()}})(),f&&f(U),h=!0},z=()=>{s=!1,a=!1,c=!1,h=!0,I.release()},oe=W=>{const R=s,ne=h;if(z(),ne){if(p(U,W),R)return void(b&&b(U));D&&D(U)}},le=((x,s,a,h,c)=>{let u,l,y,f,b,D,B,F=0;const j=ie=>{F=Date.now()+2e3,s(ie)&&(!l&&a&&(l=Ce(x,"touchmove",a,c)),y||(y=Ce(ie.target,"touchend",U,c)),f||(f=Ce(ie.target,"touchcancel",U,c)))},k=ie=>{F>Date.now()||s(ie)&&(!D&&a&&(D=Ce(w(x),"mousemove",a,c)),B||(B=Ce(w(x),"mouseup",T,c)))},U=ie=>{I(),h&&h(ie)},T=ie=>{M(),h&&h(ie)},I=()=>{l&&l(),y&&y(),f&&f(),l=y=f=void 0},M=()=>{D&&D(),B&&B(),D=B=void 0},q=()=>{I(),M()},K=(ie=!0)=>{ie?(u||(u=Ce(x,"touchstart",j,c)),b||(b=Ce(x,"mousedown",k,c))):(u&&u(),b&&b(),u=b=void 0,q())};return{enable:K,stop:q,destroy:()=>{K(!1),h=a=s=void 0}}})(u.el,W=>{const R=C(W);return!(a||!h||(m(W,U),U.startX=U.currentX,U.startY=U.currentY,U.startTime=U.currentTime=R,U.velocityX=U.velocityY=U.deltaX=U.deltaY=0,U.event=W,l&&!1===l(U))||(I.release(),!I.start()))&&(a=!0,0===F?Y():(T.start(U.startX,U.startY),!0))},W=>{s?!c&&h&&(c=!0,p(U,W),requestAnimationFrame(K)):(p(U,W),T.detect(U.currentX,U.currentY)&&(!T.isGesture()||!Y())&&Ee())},oe,{capture:!1,passive:j}),Ee=()=>{z(),le.stop(),D&&D(U)};return{enable(W=!0){W||(s&&oe(void 0),z()),le.enable(W)},destroy(){I.destroy(),le.destroy()}}},p=(x,s)=>{if(!s)return;const a=x.currentX,h=x.currentY,c=x.currentTime;m(s,x);const u=x.currentX,l=x.currentY,f=(x.currentTime=C(s))-c;if(f>0&&f<100){const D=(l-h)/f;x.velocityX=(u-a)/f*.7+.3*x.velocityX,x.velocityY=.7*D+.3*x.velocityY}x.deltaX=u-x.startX,x.deltaY=l-x.startY,x.event=s},m=(x,s)=>{let a=0,h=0;if(x){const c=x.changedTouches;if(c&&c.length>0){const u=c[0];a=u.clientX,h=u.clientY}else void 0!==x.pageX&&(a=x.pageX,h=x.pageY)}s.currentX=a,s.currentY=h},C=x=>x.timeStamp||Date.now()},2032:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{a:()=>Ce,b:()=>st,p:()=>g});const g=(Fe,...o)=>console.warn(`[Ionic Warning]: ${Fe}`,...o),Ce=(Fe,...o)=>console.error(`[Ionic Error]: ${Fe}`,...o),st=(Fe,...o)=>console.error(`<${Fe.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},3716:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{B:()=>C,H:()=>Y,a:()=>kn,b:()=>Bn,c:()=>ne,d:()=>Be,e:()=>An,f:()=>je,g:()=>ue,h:()=>q,i:()=>It,j:()=>x,r:()=>H,w:()=>Bt});var g=fe(1528);let Fe,o,V,w=!1,_=!1,d=!1,p=!1,m=!1;const C={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},x=Le=>{const Ke=new URL(Le,fn.$resourcesUrl$);return Ke.origin!==un.location.origin?Ke.href:Ke.pathname},y="s-id",f="sty-id",b="c-id",B="slot-fb{display:contents}slot-fb[hidden]{display:none}",F="http://www.w3.org/1999/xlink",j={},I=Le=>"object"==(Le=typeof Le)||"function"===Le;function M(Le){var Ke,Nt,Ht;return null!==(Ht=null===(Nt=null===(Ke=Le.head)||void 0===Ke?void 0:Ke.querySelector('meta[name="csp-nonce"]'))||void 0===Nt?void 0:Nt.getAttribute("content"))&&void 0!==Ht?Ht:void 0}const q=(Le,Ke,...Nt)=>{let Ht=null,Xt=null,se=null,Ge=!1,_e=!1;const qe=[],Et=In=>{for(let Pn=0;Pn<In.length;Pn++)Ht=In[Pn],Array.isArray(Ht)?Et(Ht):null!=Ht&&"boolean"!=typeof Ht&&((Ge="function"!=typeof Le&&!I(Ht))&&(Ht=String(Ht)),Ge&&_e?qe[qe.length-1].$text$+=Ht:qe.push(Ge?K(null,Ht):Ht),_e=Ge)};if(Et(Nt),Ke){Ke.key&&(Xt=Ke.key),Ke.name&&(se=Ke.name);{const In=Ke.className||Ke.class;In&&(Ke.class="object"!=typeof In?In:Object.keys(In).filter(Pn=>In[Pn]).join(" "))}}if("function"==typeof Le)return Le(null===Ke?{}:Ke,qe,te);const nn=K(Le,null);return nn.$attrs$=Ke,qe.length>0&&(nn.$children$=qe),nn.$key$=Xt,nn.$name$=se,nn},K=(Le,Ke)=>({$flags$:0,$tag$:Le,$text$:Ke,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Y={},te={forEach:(Le,Ke)=>Le.map(z).forEach(Ke),map:(Le,Ke)=>Le.map(z).map(Ke).map(oe)},z=Le=>({vattrs:Le.$attrs$,vchildren:Le.$children$,vkey:Le.$key$,vname:Le.$name$,vtag:Le.$tag$,vtext:Le.$text$}),oe=Le=>{if("function"==typeof Le.vtag){const Nt=Object.assign({},Le.vattrs);return Le.vkey&&(Nt.key=Le.vkey),Le.vname&&(Nt.name=Le.vname),q(Le.vtag,Nt,...Le.vchildren||[])}const Ke=K(Le.vtag,Le.vtext);return Ke.$attrs$=Le.vattrs,Ke.$children$=Le.vchildren,Ke.$key$=Le.vkey,Ke.$name$=Le.vname,Ke},Ee=(Le,Ke,Nt,Ht,Xt,se,Ge)=>{let _e,qe,Et,nn;if(1===se.nodeType){for(_e=se.getAttribute(b),_e&&(qe=_e.split("."),(qe[0]===Ge||"0"===qe[0])&&(Et={$flags$:0,$hostId$:qe[0],$nodeId$:qe[1],$depth$:qe[2],$index$:qe[3],$tag$:se.tagName.toLowerCase(),$elm$:se,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ke.push(Et),se.removeAttribute(b),Le.$children$||(Le.$children$=[]),Le.$children$[Et.$index$]=Et,Le=Et,Ht&&"0"===Et.$depth$&&(Ht[Et.$index$]=Et.$elm$))),nn=se.childNodes.length-1;nn>=0;nn--)Ee(Le,Ke,Nt,Ht,Xt,se.childNodes[nn],Ge);if(se.shadowRoot)for(nn=se.shadowRoot.childNodes.length-1;nn>=0;nn--)Ee(Le,Ke,Nt,Ht,Xt,se.shadowRoot.childNodes[nn],Ge)}else if(8===se.nodeType)qe=se.nodeValue.split("."),(qe[1]===Ge||"0"===qe[1])&&(_e=qe[0],Et={$flags$:0,$hostId$:qe[1],$nodeId$:qe[2],$depth$:qe[3],$index$:qe[4],$elm$:se,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===_e?(Et.$elm$=se.nextSibling,Et.$elm$&&3===Et.$elm$.nodeType&&(Et.$text$=Et.$elm$.textContent,Ke.push(Et),se.remove(),Le.$children$||(Le.$children$=[]),Le.$children$[Et.$index$]=Et,Ht&&"0"===Et.$depth$&&(Ht[Et.$index$]=Et.$elm$))):Et.$hostId$===Ge&&("s"===_e?(Et.$tag$="slot",se["s-sn"]=qe[5]?Et.$name$=qe[5]:"",se["s-sr"]=!0,Ht&&(Et.$elm$=ln.createElement(Et.$tag$),Et.$name$&&Et.$elm$.setAttribute("name",Et.$name$),se.parentNode.insertBefore(Et.$elm$,se),se.remove(),"0"===Et.$depth$&&(Ht[Et.$index$]=Et.$elm$)),Nt.push(Et),Le.$children$||(Le.$children$=[]),Le.$children$[Et.$index$]=Et):"r"===_e&&(Ht?se.remove():(Xt["s-cr"]=se,se["s-cn"]=!0))));else if(Le&&"style"===Le.$tag$){const In=K(null,se.textContent);In.$elm$=se,In.$index$="0",Le.$children$=[In]}},W=(Le,Ke)=>{if(1===Le.nodeType){let Nt=0;for(;Nt<Le.childNodes.length;Nt++)W(Le.childNodes[Nt],Ke);if(Le.shadowRoot)for(Nt=0;Nt<Le.shadowRoot.childNodes.length;Nt++)W(Le.shadowRoot.childNodes[Nt],Ke)}else if(8===Le.nodeType){const Nt=Le.nodeValue.split(".");"o"===Nt[0]&&(Ke.set(Nt[1]+"."+Nt[2],Le),Le.nodeValue="",Le["s-en"]=Nt[3])}},ne=Le=>Jt.push(Le),ue=Le=>L(Le).$modeName$,je=Le=>L(Le).$hostElement$,Be=(Le,Ke,Nt)=>{const Ht=je(Le);return{emit:Xt=>We(Ht,Ke,{bubbles:!!(4&Nt),composed:!!(2&Nt),cancelable:!!(1&Nt),detail:Xt})}},We=(Le,Ke,Nt)=>{const Ht=fn.ce(Ke,Nt);return Le.dispatchEvent(Ht),Ht},Oe=new WeakMap,Pe=(Le,Ke,Nt)=>{let Ht=dt.get(Le);nr&&Nt?(Ht=Ht||new CSSStyleSheet,"string"==typeof Ht?Ht=Ke:Ht.replaceSync(Ke)):Ht=Ke,dt.set(Le,Ht)},$e=(Le,Ke,Nt)=>{var Ht;const Xt=Qe(Ke,Nt),se=dt.get(Xt);if(Le=11===Le.nodeType?Le:ln,se)if("string"==typeof se){let _e,Ge=Oe.get(Le=Le.head||Le);if(Ge||Oe.set(Le,Ge=new Set),!Ge.has(Xt)){if(Le.host&&(_e=Le.querySelector(`[${f}="${Xt}"]`)))_e.innerHTML=se;else{_e=ln.createElement("style"),_e.innerHTML=se;const qe=null!==(Ht=fn.$nonce$)&&void 0!==Ht?Ht:M(ln);null!=qe&&_e.setAttribute("nonce",qe),Le.insertBefore(_e,Le.querySelector("link"))}4&Ke.$flags$&&(_e.innerHTML+=B),Ge&&Ge.add(Xt)}}else Le.adoptedStyleSheets.includes(se)||(Le.adoptedStyleSheets=[...Le.adoptedStyleSheets,se]);return Xt},Qe=(Le,Ke)=>"sc-"+(Ke&&32&Le.$flags$?Le.$tagName$+"-"+Ke:Le.$tagName$),tt=Le=>Le.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),_t=(Le,Ke,Nt,Ht,Xt,se)=>{if(Nt!==Ht){let Ge=Q(Le,Ke),_e=Ke.toLowerCase();if("class"===Ke){const qe=Le.classList,Et=xt(Nt),nn=xt(Ht);qe.remove(...Et.filter(In=>In&&!nn.includes(In))),qe.add(...nn.filter(In=>In&&!Et.includes(In)))}else if("style"===Ke){for(const qe in Nt)(!Ht||null==Ht[qe])&&(qe.includes("-")?Le.style.removeProperty(qe):Le.style[qe]="");for(const qe in Ht)(!Nt||Ht[qe]!==Nt[qe])&&(qe.includes("-")?Le.style.setProperty(qe,Ht[qe]):Le.style[qe]=Ht[qe])}else if("key"!==Ke)if("ref"===Ke)Ht&&Ht(Le);else if(Ge||"o"!==Ke[0]||"n"!==Ke[1]){const qe=I(Ht);if((Ge||qe&&null!==Ht)&&!Xt)try{if(Le.tagName.includes("-"))Le[Ke]=Ht;else{const nn=null==Ht?"":Ht;"list"===Ke?Ge=!1:(null==Nt||Le[Ke]!=nn)&&(Le[Ke]=nn)}}catch{}let Et=!1;_e!==(_e=_e.replace(/^xlink\:?/,""))&&(Ke=_e,Et=!0),null==Ht||!1===Ht?(!1!==Ht||""===Le.getAttribute(Ke))&&(Et?Le.removeAttributeNS(F,Ke):Le.removeAttribute(Ke)):(!Ge||4&se||Xt)&&!qe&&(Ht=!0===Ht?"":Ht,Et?Le.setAttributeNS(F,Ke,Ht):Le.setAttribute(Ke,Ht))}else if(Ke="-"===Ke[2]?Ke.slice(3):Q(un,_e)?_e.slice(2):_e[2]+Ke.slice(3),Nt||Ht){const qe=Ke.endsWith($t);Ke=Ke.replace(Ot,""),Nt&&fn.rel(Le,Ke,Nt,qe),Ht&&fn.ael(Le,Ke,Ht,qe)}}},gt=/\s/,xt=Le=>Le?Le.split(gt):[],$t="Capture",Ot=new RegExp($t+"$"),jt=(Le,Ke,Nt,Ht)=>{const Xt=11===Ke.$elm$.nodeType&&Ke.$elm$.host?Ke.$elm$.host:Ke.$elm$,se=Le&&Le.$attrs$||j,Ge=Ke.$attrs$||j;for(Ht in se)Ht in Ge||_t(Xt,Ht,se[Ht],void 0,Nt,Ke.$flags$);for(Ht in Ge)_t(Xt,Ht,se[Ht],Ge[Ht],Nt,Ke.$flags$)},Tt=(Le,Ke,Nt,Ht)=>{const Xt=Ke.$children$[Nt];let Ge,_e,qe,se=0;if(w||(d=!0,"slot"===Xt.$tag$&&(Fe&&Ht.classList.add(Fe+"-s"),Xt.$flags$|=Xt.$children$?2:1)),null!==Xt.$text$)Ge=Xt.$elm$=ln.createTextNode(Xt.$text$);else if(1&Xt.$flags$)Ge=Xt.$elm$=ln.createTextNode("");else{if(p||(p="svg"===Xt.$tag$),Ge=Xt.$elm$=ln.createElementNS(p?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Xt.$flags$?"slot-fb":Xt.$tag$),p&&"foreignObject"===Xt.$tag$&&(p=!1),jt(null,Xt,p),(Le=>null!=Le)(Fe)&&Ge["s-si"]!==Fe&&Ge.classList.add(Ge["s-si"]=Fe),Xt.$children$)for(se=0;se<Xt.$children$.length;++se)_e=Tt(Le,Xt,se,Ge),_e&&Ge.appendChild(_e);"svg"===Xt.$tag$?p=!1:"foreignObject"===Ge.tagName&&(p=!0)}return Ge["s-hn"]=V,3&Xt.$flags$&&(Ge["s-sr"]=!0,Ge["s-cr"]=o,Ge["s-sn"]=Xt.$name$||"",qe=Le&&Le.$children$&&Le.$children$[Nt],qe&&qe.$tag$===Xt.$tag$&&Le.$elm$&&ge(Le.$elm$,!1)),Ge},ge=(Le,Ke)=>{fn.$flags$|=1;const Nt=Le.childNodes;for(let Ht=Nt.length-1;Ht>=0;Ht--){const Xt=Nt[Ht];Xt["s-hn"]!==V&&Xt["s-ol"]&&(pt(Xt).insertBefore(Xt,Dt(Xt)),Xt["s-ol"].remove(),Xt["s-ol"]=void 0,Xt["s-sh"]=void 0,d=!0),Ke&&ge(Xt,Ke)}fn.$flags$&=-2},Je=(Le,Ke,Nt,Ht,Xt,se)=>{let _e,Ge=Le["s-cr"]&&Le["s-cr"].parentNode||Le;for(Ge.shadowRoot&&Ge.tagName===V&&(Ge=Ge.shadowRoot);Xt<=se;++Xt)Ht[Xt]&&(_e=Tt(null,Nt,Xt,Le),_e&&(Ht[Xt].$elm$=_e,Ge.insertBefore(_e,Dt(Ke))))},ut=(Le,Ke,Nt)=>{for(let Ht=Ke;Ht<=Nt;++Ht){const Xt=Le[Ht];if(Xt){const se=Xt.$elm$;kt(Xt),se&&(_=!0,se["s-ol"]?se["s-ol"].remove():ge(se,!0),se.remove())}}},Ze=(Le,Ke,Nt=!1)=>Le.$tag$===Ke.$tag$&&("slot"===Le.$tag$?Le.$name$===Ke.$name$:!!Nt||Le.$key$===Ke.$key$),Dt=Le=>Le&&Le["s-ol"]||Le,pt=Le=>(Le["s-ol"]?Le["s-ol"]:Le).parentNode,Re=(Le,Ke,Nt=!1)=>{const Ht=Ke.$elm$=Le.$elm$,Xt=Le.$children$,se=Ke.$children$,Ge=Ke.$tag$,_e=Ke.$text$;let qe;null===_e?(p="svg"===Ge||"foreignObject"!==Ge&&p,"slot"===Ge&&!w||jt(Le,Ke,p),null!==Xt&&null!==se?((Le,Ke,Nt,Ht,Xt=!1)=>{let Pr,Or,se=0,Ge=0,_e=0,qe=0,Et=Ke.length-1,nn=Ke[0],In=Ke[Et],Pn=Ht.length-1,qn=Ht[0],Kn=Ht[Pn];for(;se<=Et&&Ge<=Pn;)if(null==nn)nn=Ke[++se];else if(null==In)In=Ke[--Et];else if(null==qn)qn=Ht[++Ge];else if(null==Kn)Kn=Ht[--Pn];else if(Ze(nn,qn,Xt))Re(nn,qn,Xt),nn=Ke[++se],qn=Ht[++Ge];else if(Ze(In,Kn,Xt))Re(In,Kn,Xt),In=Ke[--Et],Kn=Ht[--Pn];else if(Ze(nn,Kn,Xt))("slot"===nn.$tag$||"slot"===Kn.$tag$)&&ge(nn.$elm$.parentNode,!1),Re(nn,Kn,Xt),Le.insertBefore(nn.$elm$,In.$elm$.nextSibling),nn=Ke[++se],Kn=Ht[--Pn];else if(Ze(In,qn,Xt))("slot"===nn.$tag$||"slot"===Kn.$tag$)&&ge(In.$elm$.parentNode,!1),Re(In,qn,Xt),Le.insertBefore(In.$elm$,nn.$elm$),In=Ke[--Et],qn=Ht[++Ge];else{for(_e=-1,qe=se;qe<=Et;++qe)if(Ke[qe]&&null!==Ke[qe].$key$&&Ke[qe].$key$===qn.$key$){_e=qe;break}_e>=0?(Or=Ke[_e],Or.$tag$!==qn.$tag$?Pr=Tt(Ke&&Ke[Ge],Nt,_e,Le):(Re(Or,qn,Xt),Ke[_e]=void 0,Pr=Or.$elm$),qn=Ht[++Ge]):(Pr=Tt(Ke&&Ke[Ge],Nt,Ge,Le),qn=Ht[++Ge]),Pr&&pt(nn.$elm$).insertBefore(Pr,Dt(nn.$elm$))}se>Et?Je(Le,null==Ht[Pn+1]?null:Ht[Pn+1].$elm$,Nt,Ht,Ge,Pn):Ge>Pn&&ut(Ke,se,Et)})(Ht,Xt,Ke,se,Nt):null!==se?(null!==Le.$text$&&(Ht.textContent=""),Je(Ht,null,Ke,se,0,se.length-1)):null!==Xt&&ut(Xt,0,Xt.length-1),p&&"svg"===Ge&&(p=!1)):(qe=Ht["s-cr"])?qe.parentNode.textContent=_e:Le.$text$!==_e&&(Ht.data=_e)},Ne=Le=>{const Ke=Le.childNodes;for(const Nt of Ke)if(1===Nt.nodeType){if(Nt["s-sr"]){const Ht=Nt["s-sn"];Nt.hidden=!1;for(const Xt of Ke)if(Xt!==Nt)if(Xt["s-hn"]!==Nt["s-hn"]||""!==Ht){if(1===Xt.nodeType&&(Ht===Xt.getAttribute("slot")||Ht===Xt["s-sn"])){Nt.hidden=!0;break}}else if(1===Xt.nodeType||3===Xt.nodeType&&""!==Xt.textContent.trim()){Nt.hidden=!0;break}}Ne(Nt)}},Me=[],Ye=Le=>{let Ke,Nt,Ht;for(const Xt of Le.childNodes){if(Xt["s-sr"]&&(Ke=Xt["s-cr"])&&Ke.parentNode){Nt=Ke.parentNode.childNodes;const se=Xt["s-sn"];for(Ht=Nt.length-1;Ht>=0;Ht--)if(Ke=Nt[Ht],!Ke["s-cn"]&&!Ke["s-nr"]&&Ke["s-hn"]!==Xt["s-hn"])if(vt(Ke,se)){let Ge=Me.find(_e=>_e.$nodeToRelocate$===Ke);_=!0,Ke["s-sn"]=Ke["s-sn"]||se,Ge?(Ge.$nodeToRelocate$["s-sh"]=Xt["s-hn"],Ge.$slotRefNode$=Xt):(Ke["s-sh"]=Xt["s-hn"],Me.push({$slotRefNode$:Xt,$nodeToRelocate$:Ke})),Ke["s-sr"]&&Me.map(_e=>{vt(_e.$nodeToRelocate$,Ke["s-sn"])&&(Ge=Me.find(qe=>qe.$nodeToRelocate$===Ke),Ge&&!_e.$slotRefNode$&&(_e.$slotRefNode$=Ge.$slotRefNode$))})}else Me.some(Ge=>Ge.$nodeToRelocate$===Ke)||Me.push({$nodeToRelocate$:Ke})}1===Xt.nodeType&&Ye(Xt)}},vt=(Le,Ke)=>1===Le.nodeType?null===Le.getAttribute("slot")&&""===Ke||Le.getAttribute("slot")===Ke:Le["s-sn"]===Ke||""===Ke,kt=Le=>{Le.$attrs$&&Le.$attrs$.ref&&Le.$attrs$.ref(null),Le.$children$&&Le.$children$.map(kt)},tn=(Le,Ke)=>{Ke&&!Le.$onRenderResolve$&&Ke["s-p"]&&Ke["s-p"].push(new Promise(Nt=>Le.$onRenderResolve$=Nt))},bn=(Le,Ke)=>{if(Le.$flags$|=16,!(4&Le.$flags$))return tn(Le,Le.$ancestorComponent$),Bt(()=>gn(Le,Ke));Le.$flags$|=512},gn=(Le,Ke)=>{const Ht=Le.$lazyInstance$;let Xt;return Ke&&(Le.$flags$|=256,Le.$queuedListeners$&&(Le.$queuedListeners$.map(([se,Ge])=>et(Ht,se,Ge)),Le.$queuedListeners$=void 0),Xt=et(Ht,"componentWillLoad")),Xt=Pt(Xt,()=>et(Ht,"componentWillRender")),Pt(Xt,()=>it(Le,Ht,Ke))},Pt=(Le,Ke)=>yt(Le)?Le.then(Ke):Ke(),yt=Le=>Le instanceof Promise||Le&&Le.then&&"function"==typeof Le.then,it=function(){var Le=(0,g.c)(function*(Ke,Nt,Ht){var Xt;const se=Ke.$hostElement$,_e=se["s-rc"];Ht&&(Le=>{const Ke=Le.$cmpMeta$,Nt=Le.$hostElement$,Ht=Ke.$flags$,se=$e(Nt.shadowRoot?Nt.shadowRoot:Nt.getRootNode(),Ke,Le.$modeName$);10&Ht&&(Nt["s-sc"]=se,Nt.classList.add(se+"-h"),2&Ht&&Nt.classList.add(se+"-s"))})(Ke);Xe(Ke,Nt,se,Ht),_e&&(_e.map(Et=>Et()),se["s-rc"]=void 0);{const Et=null!==(Xt=se["s-p"])&&void 0!==Xt?Xt:[],nn=()=>at(Ke);0===Et.length?nn():(Promise.all(Et).then(nn),Ke.$flags$|=4,Et.length=0)}});return function(Nt,Ht,Xt){return Le.apply(this,arguments)}}(),Xe=(Le,Ke,Nt,Ht)=>{try{Ke=Ke.render&&Ke.render(),Le.$flags$&=-17,Le.$flags$|=2,((Le,Ke,Nt=!1)=>{var Ht,Xt,se,Ge;const _e=Le.$hostElement$,qe=Le.$cmpMeta$,Et=Le.$vnode$||K(null,null),nn=(Le=>Le&&Le.$tag$===Y)(Ke)?Ke:q(null,null,Ke);if(V=_e.tagName,qe.$attrsToReflect$&&(nn.$attrs$=nn.$attrs$||{},qe.$attrsToReflect$.map(([In,Pn])=>nn.$attrs$[Pn]=_e[In])),Nt&&nn.$attrs$)for(const In of Object.keys(nn.$attrs$))_e.hasAttribute(In)&&!["key","ref","style","class"].includes(In)&&(nn.$attrs$[In]=_e[In]);if(nn.$tag$=null,nn.$flags$|=4,Le.$vnode$=nn,nn.$elm$=Et.$elm$=_e.shadowRoot||_e,Fe=_e["s-sc"],w=0!=(1&qe.$flags$),o=_e["s-cr"],_=!1,Re(Et,nn,Nt),fn.$flags$|=1,d){Ye(nn.$elm$);for(const In of Me){const Pn=In.$nodeToRelocate$;if(!Pn["s-ol"]){const qn=ln.createTextNode("");qn["s-nr"]=Pn,Pn.parentNode.insertBefore(Pn["s-ol"]=qn,Pn)}}for(const In of Me){const Pn=In.$nodeToRelocate$,qn=In.$slotRefNode$;if(qn){const Kn=qn.parentNode;let Pr=qn.nextSibling;{let Or=null===(Ht=Pn["s-ol"])||void 0===Ht?void 0:Ht.previousSibling;for(;Or;){let Rr=null!==(Xt=Or["s-nr"])&&void 0!==Xt?Xt:null;if(Rr&&Rr["s-sn"]===Pn["s-sn"]&&Kn===Rr.parentNode&&(Rr=Rr.nextSibling,!Rr||!Rr["s-nr"])){Pr=Rr;break}Or=Or.previousSibling}}(!Pr&&Kn!==Pn.parentNode||Pn.nextSibling!==Pr)&&Pn!==Pr&&(!Pn["s-hn"]&&Pn["s-ol"]&&(Pn["s-hn"]=Pn["s-ol"].parentNode.nodeName),Kn.insertBefore(Pn,Pr),1===Pn.nodeType&&(Pn.hidden=null!==(se=Pn["s-ih"])&&void 0!==se&&se))}else 1===Pn.nodeType&&(Nt&&(Pn["s-ih"]=null!==(Ge=Pn.hidden)&&void 0!==Ge&&Ge),Pn.hidden=!0)}}_&&Ne(nn.$elm$),fn.$flags$&=-2,Me.length=0,o=void 0})(Le,Ke,Ht)}catch(Xt){pe(Xt,Le.$hostElement$)}return null},at=Le=>{const Nt=Le.$hostElement$,Xt=Le.$lazyInstance$,se=Le.$ancestorComponent$;et(Xt,"componentDidRender"),64&Le.$flags$?et(Xt,"componentDidUpdate"):(Le.$flags$|=64,Mt(Nt),et(Xt,"componentDidLoad"),Le.$onReadyResolve$(Nt),se||Yt()),Le.$onInstanceResolve$(Nt),Le.$onRenderResolve$&&(Le.$onRenderResolve$(),Le.$onRenderResolve$=void 0),512&Le.$flags$&&hn(()=>bn(Le,!1)),Le.$flags$&=-517},It=Le=>{{const Ke=L(Le),Nt=Ke.$hostElement$.isConnected;return Nt&&2==(18&Ke.$flags$)&&bn(Ke,!1),Nt}},Yt=Le=>{Mt(ln.documentElement),hn(()=>We(un,"appload",{detail:{namespace:"ionic"}}))},et=(Le,Ke,Nt)=>{if(Le&&Le[Ke])try{return Le[Ke](Nt)}catch(Ht){pe(Ht)}},Mt=Le=>Le.classList.add("hydrated"),Zt=(Le,Ke,Nt)=>{var Ht;const Xt=Le.prototype;if(Ke.$members$){Le.watchers&&(Ke.$watchers$=Le.watchers);const se=Object.entries(Ke.$members$);if(se.map(([Ge,[_e]])=>{31&_e||2&Nt&&32&_e?Object.defineProperty(Xt,Ge,{get(){return((Le,Ke)=>L(this).$instanceValues$.get(Ke))(0,Ge)},set(qe){((Le,Ke,Nt,Ht)=>{const Xt=L(Le),se=Xt.$hostElement$,Ge=Xt.$instanceValues$.get(Ke),_e=Xt.$flags$,qe=Xt.$lazyInstance$;Nt=((Le,Ke)=>null==Le||I(Le)?Le:4&Ke?"false"!==Le&&(""===Le||!!Le):2&Ke?parseFloat(Le):1&Ke?String(Le):Le)(Nt,Ht.$members$[Ke][0]);const Et=Number.isNaN(Ge)&&Number.isNaN(Nt);if((!(8&_e)||void 0===Ge)&&Nt!==Ge&&!Et&&(Xt.$instanceValues$.set(Ke,Nt),qe)){if(Ht.$watchers$&&128&_e){const In=Ht.$watchers$[Ke];In&&In.map(Pn=>{try{qe[Pn](Nt,Ge,Ke)}catch(qn){pe(qn,se)}})}2==(18&_e)&&bn(Xt,!1)}})(this,Ge,qe,Ke)},configurable:!0,enumerable:!0}):1&Nt&&64&_e&&Object.defineProperty(Xt,Ge,{value(...qe){var Et;const nn=L(this);return null===(Et=null==nn?void 0:nn.$onInstancePromise$)||void 0===Et?void 0:Et.then(()=>{var In;return null===(In=nn.$lazyInstance$)||void 0===In?void 0:In[Ge](...qe)})}})}),1&Nt){const Ge=new Map;Xt.attributeChangedCallback=function(_e,qe,Et){fn.jmp(()=>{var nn;const In=Ge.get(_e);if(this.hasOwnProperty(In))Et=this[In],delete this[In];else{if(Xt.hasOwnProperty(In)&&"number"==typeof this[In]&&this[In]==Et)return;if(null==In){const Pn=L(this),qn=null==Pn?void 0:Pn.$flags$;if(qn&&!(8&qn)&&128&qn&&Et!==qe){const Kn=Pn.$lazyInstance$,Pr=null===(nn=Ke.$watchers$)||void 0===nn?void 0:nn[_e];null==Pr||Pr.forEach(Or=>{null!=Kn[Or]&&Kn[Or].call(Kn,Et,qe,_e)})}return}}this[In]=(null!==Et||"boolean"!=typeof this[In])&&Et})},Le.observedAttributes=Array.from(new Set([...Object.keys(null!==(Ht=Ke.$watchers$)&&void 0!==Ht?Ht:{}),...se.filter(([_e,qe])=>15&qe[0]).map(([_e,qe])=>{var Et;const nn=qe[1]||_e;return Ge.set(nn,_e),512&qe[0]&&(null===(Et=Ke.$attrsToReflect$)||void 0===Et||Et.push([_e,nn])),nn})]))}}return Le},mn=function(){var Le=(0,g.c)(function*(Ke,Nt,Ht,Xt){let se;if(!(32&Nt.$flags$)){Nt.$flags$|=32;{if(se=He(Ht),se.then){const Et=()=>{};se=yield se,Et()}se.isProxied||(Ht.$watchers$=se.watchers,Zt(se,Ht,2),se.isProxied=!0);const qe=()=>{};Nt.$flags$|=8;try{new se(Nt)}catch(Et){pe(Et)}Nt.$flags$&=-9,Nt.$flags$|=128,qe(),wn(Nt.$lazyInstance$)}if(se.style){let qe=se.style;"string"!=typeof qe&&(qe=qe[Nt.$modeName$=(Le=>Jt.map(Ke=>Ke(Le)).find(Ke=>!!Ke))(Ke)]);const Et=Qe(Ht,Nt.$modeName$);if(!dt.has(Et)){const nn=()=>{};Pe(Et,qe,!!(1&Ht.$flags$)),nn()}}}const Ge=Nt.$ancestorComponent$,_e=()=>bn(Nt,!0);Ge&&Ge["s-rc"]?Ge["s-rc"].push(_e):_e()});return function(Nt,Ht,Xt,se){return Le.apply(this,arguments)}}(),wn=Le=>{et(Le,"connectedCallback")},Sn=Le=>{const Ke=Le["s-cr"]=ln.createComment("");Ke["s-cn"]=!0,Le.insertBefore(Ke,Le.firstChild)},Dn=Le=>{et(Le,"disconnectedCallback")},tr=function(){var Le=(0,g.c)(function*(Ke){if(!(1&fn.$flags$)){const Nt=L(Ke);Nt.$rmListeners$&&(Nt.$rmListeners$.map(Ht=>Ht()),Nt.$rmListeners$=void 0),null!=Nt&&Nt.$lazyInstance$?Dn(Nt.$lazyInstance$):null!=Nt&&Nt.$onReadyPromise$&&Nt.$onReadyPromise$.then(()=>Dn(Nt.$lazyInstance$))}});return function(Nt){return Le.apply(this,arguments)}}(),Bn=(Le,Ke={})=>{var Nt;const Xt=[],se=Ke.exclude||[],Ge=un.customElements,_e=ln.head,qe=_e.querySelector("meta[charset]"),Et=ln.createElement("style"),nn=[],In=ln.querySelectorAll(`[${f}]`);let Pn,qn=!0,Kn=0;for(Object.assign(fn,Ke),fn.$resourcesUrl$=new URL(Ke.resourcesUrl||"./",ln.baseURI).href,fn.$flags$|=2;Kn<In.length;Kn++)Pe(In[Kn].getAttribute(f),tt(In[Kn].innerHTML),!0);let Pr=!1;if(Le.map(Or=>{Or[1].map(Rr=>{var Bo;const Br={$flags$:Rr[0],$tagName$:Rr[1],$members$:Rr[2],$listeners$:Rr[3]};4&Br.$flags$&&(Pr=!0),Br.$members$=Rr[2],Br.$listeners$=Rr[3],Br.$attrsToReflect$=[],Br.$watchers$=null!==(Bo=Rr[4])&&void 0!==Bo?Bo:{};const mr=Br.$tagName$,On=class extends HTMLElement{constructor(Gn){super(Gn),ee(Gn=this,Br),1&Br.$flags$&&Gn.attachShadow({mode:"open",delegatesFocus:!!(16&Br.$flags$)})}connectedCallback(){Pn&&(clearTimeout(Pn),Pn=null),qn?nn.push(this):fn.jmp(()=>(Le=>{if(!(1&fn.$flags$)){const Ke=L(Le),Nt=Ke.$cmpMeta$,Ht=()=>{};if(1&Ke.$flags$)lr(Le,Ke,Nt.$listeners$),null!=Ke&&Ke.$lazyInstance$?wn(Ke.$lazyInstance$):null!=Ke&&Ke.$onReadyPromise$&&Ke.$onReadyPromise$.then(()=>wn(Ke.$lazyInstance$));else{let Xt;if(Ke.$flags$|=1,Xt=Le.getAttribute(y),Xt){if(1&Nt.$flags$){const se=$e(Le.shadowRoot,Nt,Le.getAttribute("s-mode"));Le.classList.remove(se+"-h",se+"-s")}((Le,Ke,Nt,Ht)=>{const se=Le.shadowRoot,Ge=[],qe=se?[]:null,Et=Ht.$vnode$=K(Ke,null);fn.$orgLocNodes$||W(ln.body,fn.$orgLocNodes$=new Map),Le[y]=Nt,Le.removeAttribute(y),Ee(Et,Ge,[],qe,Le,Le,Nt),Ge.map(nn=>{const In=nn.$hostId$+"."+nn.$nodeId$,Pn=fn.$orgLocNodes$.get(In),qn=nn.$elm$;Pn&&Un&&""===Pn["s-en"]&&Pn.parentNode.insertBefore(qn,Pn.nextSibling),se||(qn["s-hn"]=Ke,Pn&&(qn["s-ol"]=Pn,qn["s-ol"]["s-nr"]=qn)),fn.$orgLocNodes$.delete(In)}),se&&qe.map(nn=>{nn&&se.appendChild(nn)})})(Le,Nt.$tagName$,Xt,Ke)}Xt||12&Nt.$flags$&&Sn(Le);{let se=Le;for(;se=se.parentNode||se.host;)if(1===se.nodeType&&se.hasAttribute("s-id")&&se["s-p"]||se["s-p"]){tn(Ke,Ke.$ancestorComponent$=se);break}}Nt.$members$&&Object.entries(Nt.$members$).map(([se,[Ge]])=>{if(31&Ge&&Le.hasOwnProperty(se)){const _e=Le[se];delete Le[se],Le[se]=_e}}),mn(Le,Ke,Nt)}Ht()}})(this))}disconnectedCallback(){fn.jmp(()=>tr(this))}componentOnReady(){return L(this).$onReadyPromise$}};Br.$lazyBundleId$=Or[0],!se.includes(mr)&&!Ge.get(mr)&&(Xt.push(mr),Ge.define(mr,Zt(On,Br,1)))})}),Xt.length>0&&(Pr&&(Et.textContent+=B),Et.textContent+=Xt+"{visibility:hidden}.hydrated{visibility:inherit}",Et.innerHTML.length)){Et.setAttribute("data-styles","");const Or=null!==(Nt=fn.$nonce$)&&void 0!==Nt?Nt:M(ln);null!=Or&&Et.setAttribute("nonce",Or),_e.insertBefore(Et,qe?qe.nextSibling:_e.firstChild)}qn=!1,nn.length?nn.map(Or=>Or.connectedCallback()):fn.jmp(()=>Pn=setTimeout(Yt,30))},lr=(Le,Ke,Nt,Ht)=>{Nt&&Nt.map(([Xt,se,Ge])=>{const _e=be(Le,Xt),qe=Z(Ke,Ge),Et=ye(Xt);fn.ael(_e,se,qe,Et),(Ke.$rmListeners$=Ke.$rmListeners$||[]).push(()=>fn.rel(_e,se,qe,Et))})},Z=(Le,Ke)=>Nt=>{try{256&Le.$flags$?Le.$lazyInstance$[Ke](Nt):(Le.$queuedListeners$=Le.$queuedListeners$||[]).push([Ke,Nt])}catch(Ht){pe(Ht)}},be=(Le,Ke)=>4&Ke?ln:8&Ke?un:16&Ke?ln.body:Le,ye=Le=>Ln?{passive:0!=(1&Le),capture:0!=(2&Le)}:0!=(2&Le),N=new WeakMap,L=Le=>N.get(Le),H=(Le,Ke)=>N.set(Ke.$lazyInstance$=Le,Ke),ee=(Le,Ke)=>{const Nt={$flags$:0,$hostElement$:Le,$cmpMeta$:Ke,$instanceValues$:new Map};return Nt.$onInstancePromise$=new Promise(Ht=>Nt.$onInstanceResolve$=Ht),Nt.$onReadyPromise$=new Promise(Ht=>Nt.$onReadyResolve$=Ht),Le["s-p"]=[],Le["s-rc"]=[],lr(Le,Nt,Ke.$listeners$),N.set(Le,Nt)},Q=(Le,Ke)=>Ke in Le,pe=(Le,Ke)=>(0,console.error)(Le,Ke),Ie=new Map,He=(Le,Ke,Nt)=>{const Ht=Le.$tagName$.replace(/-/g,"_"),Xt=Le.$lazyBundleId$,se=Ie.get(Xt);return se?se[Ht]:fe(1480)(`./${Xt}.entry.js`).then(Ge=>(Ie.set(Xt,Ge),Ge[Ht]),pe)},dt=new Map,Jt=[],un=typeof window<"u"?window:{},ln=un.document||{head:{}},fn={$flags$:0,$resourcesUrl$:"",jmp:Le=>Le(),raf:Le=>requestAnimationFrame(Le),ael:(Le,Ke,Nt,Ht)=>Le.addEventListener(Ke,Nt,Ht),rel:(Le,Ke,Nt,Ht)=>Le.removeEventListener(Ke,Nt,Ht),ce:(Le,Ke)=>new CustomEvent(Le,Ke)},kn=Le=>{Object.assign(fn,Le)},Un=!0,Ln=(()=>{let Le=!1;try{ln.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Le=!0}}))}catch{}return Le})(),nr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ft=[],wt=[],ze=(Le,Ke)=>Nt=>{Le.push(Nt),m||(m=!0,Ke&&4&fn.$flags$?hn(qt):fn.raf(qt))},mt=Le=>{for(let Ke=0;Ke<Le.length;Ke++)try{Le[Ke](performance.now())}catch(Nt){pe(Nt)}Le.length=0},qt=()=>{mt(ft),mt(wt),(m=ft.length>0)&&fn.raf(qt)},hn=Le=>Promise.resolve(void 0).then(Le),An=ze(ft,!1),Bt=ze(wt,!0)},148:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{m:()=>x});var g=fe(1528),Ce=fe(4829),st=fe(136),Fe=fe(2032),o=fe(6384),V=fe(1780),w=fe(388);const _=s=>(0,w.c)().duration(s?400:300),d=s=>{let a,h;const c=s.width+8,u=(0,w.c)(),l=(0,w.c)();s.isEndSide?(a=c+"px",h="0px"):(a=-c+"px",h="0px"),u.addElement(s.menuInnerEl).fromTo("transform",`translateX(${a})`,`translateX(${h})`);const f="ios"===(0,V.b)(s),b=f?.2:.25;return l.addElement(s.backdropEl).fromTo("opacity",.01,b),_(f).addAnimation([u,l])},p=s=>{let a,h;const c=(0,V.b)(s),u=s.width;s.isEndSide?(a=-u+"px",h=u+"px"):(a=u+"px",h=-u+"px");const l=(0,w.c)().addElement(s.menuInnerEl).fromTo("transform",`translateX(${h})`,"translateX(0px)"),y=(0,w.c)().addElement(s.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`),f=(0,w.c)().addElement(s.backdropEl).fromTo("opacity",.01,.32);return _("ios"===c).addAnimation([l,y,f])},m=s=>{const a=(0,V.b)(s),h=s.width*(s.isEndSide?-1:1)+"px",c=(0,w.c)().addElement(s.contentEl).fromTo("transform","translateX(0px)",`translateX(${h})`);return _("ios"===a).addAnimation(c)},x=(()=>{const s=new Map,a=[],h=function(){var z=(0,g.c)(function*(oe){const le=yield D(oe,!0);return!!le&&le.open()});return function(le){return z.apply(this,arguments)}}(),c=function(){var z=(0,g.c)(function*(oe){const le=yield void 0!==oe?D(oe,!0):B();return void 0!==le&&le.close()});return function(le){return z.apply(this,arguments)}}(),u=function(){var z=(0,g.c)(function*(oe){const le=yield D(oe,!0);return!!le&&le.toggle()});return function(le){return z.apply(this,arguments)}}(),l=function(){var z=(0,g.c)(function*(oe,le){const Ee=yield D(le);return Ee&&(Ee.disabled=!oe),Ee});return function(le,Ee){return z.apply(this,arguments)}}(),y=function(){var z=(0,g.c)(function*(oe,le){const Ee=yield D(le);return Ee&&(Ee.swipeGesture=oe),Ee});return function(le,Ee){return z.apply(this,arguments)}}(),f=function(){var z=(0,g.c)(function*(oe){if(null!=oe){const le=yield D(oe);return void 0!==le&&le.isOpen()}return void 0!==(yield B())});return function(le){return z.apply(this,arguments)}}(),b=function(){var z=(0,g.c)(function*(oe){const le=yield D(oe);return!!le&&!le.disabled});return function(le){return z.apply(this,arguments)}}(),D=function(){var z=(0,g.c)(function*(oe,le=!1){if(yield te(),"start"===oe||"end"===oe){const W=a.filter(ne=>ne.side===oe&&!ne.disabled);if(W.length>=1)return W.length>1&&le&&(0,Fe.p)(`menuController queried for a menu on the "${oe}" side, but ${W.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,W.map(ne=>ne.el)),W[0].el;const R=a.filter(ne=>ne.side===oe);if(R.length>=1)return R.length>1&&le&&(0,Fe.p)(`menuController queried for a menu on the "${oe}" side, but ${R.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,R.map(ne=>ne.el)),R[0].el}else if(null!=oe)return ie(W=>W.menuId===oe);return ie(W=>!W.disabled)||(a.length>0?a[0].el:void 0)});return function(le){return z.apply(this,arguments)}}(),B=function(){var z=(0,g.c)(function*(){return yield te(),q()});return function(){return z.apply(this,arguments)}}(),F=function(){var z=(0,g.c)(function*(){return yield te(),K()});return function(){return z.apply(this,arguments)}}(),j=function(){var z=(0,g.c)(function*(){return yield te(),Y()});return function(){return z.apply(this,arguments)}}(),k=(z,oe)=>{s.set(z,oe)},I=function(){var z=(0,g.c)(function*(oe,le,Ee){if(Y())return!1;if(le){const W=yield B();W&&oe.el!==W&&(yield W.setOpen(!1,!1))}return oe._setOpen(le,Ee)});return function(le,Ee,W){return z.apply(this,arguments)}}(),q=()=>ie(z=>z._isOpen),K=()=>a.map(z=>z.el),Y=()=>a.some(z=>z.isAnimating),ie=z=>{const oe=a.find(z);if(void 0!==oe)return oe.el},te=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(z=>new Promise(oe=>(0,o.c)(z,oe))));return k("reveal",m),k("push",p),k("overlay",d),null==Ce.d||Ce.d.addEventListener("ionBackButton",z=>{const oe=q();oe&&z.detail.register(st.MENU_BACK_BUTTON_PRIORITY,()=>oe.close())}),{registerAnimation:k,get:D,getMenus:F,getOpen:B,isEnabled:b,swipeGesture:y,isAnimating:j,isOpen:f,enable:l,toggle:u,close:c,open:h,_getOpenSync:q,_createAnimation:(z,oe)=>{const le=s.get(z);if(!le)throw new Error("animation not registered");return le(oe)},_register:z=>{a.indexOf(z)<0&&a.push(z)},_unregister:z=>{const oe=a.indexOf(z);oe>-1&&a.splice(oe,1)},_setOpen:I}})()},4829:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{d:()=>Ce,w:()=>g});const g=typeof window<"u"?window:void 0,Ce=typeof document<"u"?document:void 0},968:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{b:()=>V,c:()=>w,d:()=>_,e:()=>F,g:()=>U,l:()=>D,s:()=>j,t:()=>m,w:()=>B});var g=fe(1528),Ce=fe(3716),st=fe(6384);const V="ionViewWillLeave",w="ionViewDidLeave",_="ionViewWillUnload",m=T=>new Promise((I,M)=>{(0,Ce.w)(()=>{C(T),x(T).then(q=>{q.animation&&q.animation.destroy(),s(T),I(q)},q=>{s(T),M(q)})})}),C=T=>{const I=T.enteringEl,M=T.leavingEl;k(I,M,T.direction),T.showGoBack?I.classList.add("can-go-back"):I.classList.remove("can-go-back"),j(I,!1),I.style.setProperty("pointer-events","none"),M&&(j(M,!1),M.style.setProperty("pointer-events","none"))},x=function(){var T=(0,g.c)(function*(I){const M=yield a(I);return M&&Ce.B.isBrowser?h(M,I):c(I)});return function(M){return T.apply(this,arguments)}}(),s=T=>{const I=T.enteringEl,M=T.leavingEl;I.classList.remove("ion-page-invisible"),I.style.removeProperty("pointer-events"),void 0!==M&&(M.classList.remove("ion-page-invisible"),M.style.removeProperty("pointer-events"))},a=function(){var T=(0,g.c)(function*(I){return I.leavingEl&&I.animated&&0!==I.duration?I.animationBuilder?I.animationBuilder:"ios"===I.mode?(yield Promise.resolve().then(fe.bind(fe,3760))).iosTransitionAnimation:(yield Promise.resolve().then(fe.bind(fe,2976))).mdTransitionAnimation:void 0});return function(M){return T.apply(this,arguments)}}(),h=function(){var T=(0,g.c)(function*(I,M){yield u(M,!0);const q=I(M.baseEl,M);f(M.enteringEl,M.leavingEl);const K=yield y(q,M);return M.progressCallback&&M.progressCallback(void 0),K&&b(M.enteringEl,M.leavingEl),{hasCompleted:K,animation:q}});return function(M,q){return T.apply(this,arguments)}}(),c=function(){var T=(0,g.c)(function*(I){const M=I.enteringEl,q=I.leavingEl;return yield u(I,!1),f(M,q),b(M,q),{hasCompleted:!0}});return function(M){return T.apply(this,arguments)}}(),u=function(){var T=(0,g.c)(function*(I,M){(void 0!==I.deepWait?I.deepWait:M)&&(yield Promise.all([F(I.enteringEl),F(I.leavingEl)])),yield l(I.viewIsReady,I.enteringEl)});return function(M,q){return T.apply(this,arguments)}}(),l=function(){var T=(0,g.c)(function*(I,M){I&&(yield I(M))});return function(M,q){return T.apply(this,arguments)}}(),y=(T,I)=>{const M=I.progressCallback,q=new Promise(K=>{T.onFinish(Y=>K(1===Y))});return M?(T.progressStart(!0),M(T)):T.play(),q},f=(T,I)=>{D(I,V),D(T,"ionViewWillEnter")},b=(T,I)=>{D(T,"ionViewDidEnter"),D(I,w)},D=(T,I)=>{if(T){const M=new CustomEvent(I,{bubbles:!1,cancelable:!1});T.dispatchEvent(M)}},B=()=>new Promise(T=>(0,st.r)(()=>(0,st.r)(()=>T()))),F=function(){var T=(0,g.c)(function*(I){const M=I;if(M){if(null!=M.componentOnReady){if(null!=(yield M.componentOnReady()))return}else if(null!=M.__registerHost)return void(yield new Promise(K=>(0,st.r)(K)));yield Promise.all(Array.from(M.children).map(F))}});return function(M){return T.apply(this,arguments)}}(),j=(T,I)=>{I?(T.setAttribute("aria-hidden","true"),T.classList.add("ion-page-hidden")):(T.hidden=!1,T.removeAttribute("aria-hidden"),T.classList.remove("ion-page-hidden"))},k=(T,I,M)=>{void 0!==T&&(T.style.zIndex="back"===M?"99":"101"),void 0!==I&&(I.style.zIndex="100")},U=T=>T.classList.contains("ion-page")?T:T.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||T},4708:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{AF:()=>w.I,KQ:()=>d.l,MZ:()=>Fe.mdTransitionAnimation,W4:()=>d.a,cp:()=>w.s,kT:()=>d.m,oz:()=>d.c,uw:()=>st.iosTransitionAnimation}),fe(388),fe(968);var st=fe(3760),Fe=fe(2976),w=(fe(2528),fe(1780),fe(9637)),d=(fe(148),fe(5820));fe(4829),fe(3716),fe(6560),fe(136)},1780:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{a:()=>m,b:()=>K,c:()=>st,i:()=>Y});var g=fe(3716);class Ce{constructor(){this.m=new Map}reset(te){this.m=new Map(Object.entries(te))}get(te,z){const oe=this.m.get(te);return void 0!==oe?oe:z}getBoolean(te,z=!1){const oe=this.m.get(te);return void 0===oe?z:"string"==typeof oe?"true"===oe:!!oe}getNumber(te,z){const oe=parseFloat(this.m.get(te));return isNaN(oe)?void 0!==z?z:NaN:oe}set(te,z){this.m.set(te,z)}}const st=new Ce,_="ionic:",d="ionic-persist-config",m=(ie,te)=>("string"==typeof ie&&(te=ie,ie=void 0),(ie=>C(ie))(ie).includes(te)),C=(ie=window)=>{if(typeof ie>"u")return[];ie.Ionic=ie.Ionic||{};let te=ie.Ionic.platforms;return null==te&&(te=ie.Ionic.platforms=x(ie),te.forEach(z=>ie.document.documentElement.classList.add(`plt-${z}`))),te},x=ie=>{const te=st.get("platform");return Object.keys(M).filter(z=>{const oe=null==te?void 0:te[z];return"function"==typeof oe?oe(ie):M[z](ie)})},a=ie=>!!(T(ie,/iPad/i)||T(ie,/Macintosh/i)&&b(ie)),u=ie=>T(ie,/android|sink/i),b=ie=>I(ie,"(any-pointer:coarse)"),B=ie=>F(ie)||j(ie),F=ie=>!!(ie.cordova||ie.phonegap||ie.PhoneGap),j=ie=>{const te=ie.Capacitor;return!(null==te||!te.isNative)},T=(ie,te)=>te.test(ie.navigator.userAgent),I=(ie,te)=>{var z;return null===(z=ie.matchMedia)||void 0===z?void 0:z.call(ie,te).matches},M={ipad:a,iphone:ie=>T(ie,/iPhone/i),ios:ie=>T(ie,/iPhone|iPod/i)||a(ie),android:u,phablet:ie=>{const te=ie.innerWidth,z=ie.innerHeight,oe=Math.min(te,z),le=Math.max(te,z);return oe>390&&oe<520&&le>620&&le<800},tablet:ie=>{const te=ie.innerWidth,z=ie.innerHeight,oe=Math.min(te,z),le=Math.max(te,z);return a(ie)||(ie=>u(ie)&&!T(ie,/mobile/i))(ie)||oe>460&&oe<820&&le>780&&le<1400},cordova:F,capacitor:j,electron:ie=>T(ie,/electron/i),pwa:ie=>{var te;return!!(null!==(te=ie.matchMedia)&&void 0!==te&&te.call(ie,"(display-mode: standalone)").matches||ie.navigator.standalone)},mobile:b,mobileweb:ie=>b(ie)&&!B(ie),desktop:ie=>!b(ie),hybrid:B};let q;const K=ie=>ie&&(0,g.g)(ie)||q,Y=(ie={})=>{if(typeof window>"u")return;const te=window.document,z=window,oe=z.Ionic=z.Ionic||{},le={};ie._ael&&(le.ael=ie._ael),ie._rel&&(le.rel=ie._rel),ie._ce&&(le.ce=ie._ce),(0,g.a)(le);const Ee=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ie=>{try{const te=ie.sessionStorage.getItem(d);return null!==te?JSON.parse(te):{}}catch{return{}}})(z)),{persistConfig:!1}),oe.config),(ie=>{const te={};return ie.location.search.slice(1).split("&").map(z=>z.split("=")).map(([z,oe])=>[decodeURIComponent(z),decodeURIComponent(oe)]).filter(([z])=>((ie,te)=>ie.substr(0,te.length)===te)(z,_)).map(([z,oe])=>[z.slice(6),oe]).forEach(([z,oe])=>{te[z]=oe}),te})(z)),ie);st.reset(Ee),st.getBoolean("persistConfig")&&((ie,te)=>{try{ie.sessionStorage.setItem(d,JSON.stringify(te))}catch{return}})(z,Ee),C(z),oe.config=st,oe.mode=q=st.get("mode",te.documentElement.getAttribute("mode")||(m(z,"ios")?"ios":"md")),st.set("mode",q),te.documentElement.setAttribute("mode",q),te.documentElement.classList.add(q),st.getBoolean("_testing")&&st.set("animated",!1);const W=ne=>{var ue;return null===(ue=ne.tagName)||void 0===ue?void 0:ue.startsWith("ION-")},R=ne=>["ios","md"].includes(ne);(0,g.c)(ne=>{for(;ne;){const ue=ne.mode||ne.getAttribute("mode");if(ue){if(R(ue))return ue;W(ne)&&console.warn('Invalid ionic mode: "'+ue+'", expected: "ios" or "md"')}ne=ne.parentElement}return q})}},3760:(pn,Vt,fe)=>{"use strict";fe.r(Vt),fe.d(Vt,{iosTransitionAnimation:()=>x,shadow:()=>w});var g=fe(388),Ce=fe(968);fe(4829),fe(3716);const V=a=>document.querySelector(`${a}.ion-cloned-element`),w=a=>a.shadowRoot||a,_=a=>{const h="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs"),c="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=h){const u=h.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=u?u.querySelector(c):null}return a.querySelector(c)},d=(a,h)=>{const c="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs");let u=[];if(null!=c){const l=c.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=l&&(u=l.querySelectorAll("ion-buttons"))}else u=a.querySelectorAll("ion-buttons");for(const l of u){const y=l.closest("ion-header"),f=y&&!y.classList.contains("header-collapse-condense-inactive"),b=l.querySelector("ion-back-button"),D=l.classList.contains("buttons-collapse");if(null!==b&&("start"===l.slot||""===l.slot)&&(D&&f&&h||!D))return b}return null},m=(a,h,c,u,l,y,f,b,D)=>{var B,F;const j=h?`calc(100% - ${l.right+4}px)`:l.left-4+"px",k=h?"right":"left",U=h?"left":"right",T=h?"right":"left",I=(null===(B=y.textContent)||void 0===B?void 0:B.trim())===(null===(F=b.textContent)||void 0===F?void 0:F.trim()),q=(D.height-s)/f.height,K=I?`scale(${D.width/f.width}, ${q})`:`scale(${q})`,Y="scale(1)",te=w(u).querySelector("ion-icon").getBoundingClientRect(),z=h?te.width/2-(te.right-l.right)+"px":l.left-te.width/2+"px",oe=h?`-${window.innerWidth-l.right}px`:`${l.left}px`,le=`${D.top}px`,Ee=`${l.top}px`,ne=c?[{offset:0,transform:`translate3d(${oe}, ${Ee}, 0)`},{offset:1,transform:`translate3d(${z}, ${le}, 0)`}]:[{offset:0,transform:`translate3d(${z}, ${le}, 0)`},{offset:1,transform:`translate3d(${oe}, ${Ee}, 0)`}],je=c?[{offset:0,opacity:1,transform:Y},{offset:1,opacity:0,transform:K}]:[{offset:0,opacity:0,transform:K},{offset:1,opacity:1,transform:Y}],Oe=c?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Pe=(0,g.c)(),$e=(0,g.c)(),ke=(0,g.c)(),Qe=V("ion-back-button"),tt=w(Qe).querySelector(".button-text"),_t=w(Qe).querySelector("ion-icon");Qe.text=u.text,Qe.mode=u.mode,Qe.icon=u.icon,Qe.color=u.color,Qe.disabled=u.disabled,Qe.style.setProperty("display","block"),Qe.style.setProperty("position","fixed"),$e.addElement(_t),Pe.addElement(tt),ke.addElement(Qe),ke.beforeStyles({position:"absolute",top:"0px",[T]:"0px"}).keyframes(ne),Pe.beforeStyles({"transform-origin":`${k} top`}).beforeAddWrite(()=>{u.style.setProperty("display","none"),Qe.style.setProperty(k,j)}).afterAddWrite(()=>{u.style.setProperty("display",""),Qe.style.setProperty("display","none"),Qe.style.removeProperty(k)}).keyframes(je),$e.beforeStyles({"transform-origin":`${U} center`}).keyframes(Oe),a.addAnimation([Pe,$e,ke])},C=(a,h,c,u,l,y,f,b)=>{var D,B;const F=h?"right":"left",j=h?`calc(100% - ${l.right}px)`:`${l.left}px`,U=`${l.top}px`,I=h?`-${window.innerWidth-b.right-8}px`:b.x-8+"px",q=b.y-2+"px",K=(null===(D=f.textContent)||void 0===D?void 0:D.trim())===(null===(B=u.textContent)||void 0===B?void 0:B.trim()),ie=b.height/(y.height-s),te="scale(1)",z=K?`scale(${b.width/y.width}, ${ie})`:`scale(${ie})`,Ee=c?[{offset:0,opacity:0,transform:`translate3d(${I}, ${q}, 0) ${z}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${U}, 0) ${te}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${U}, 0) ${te}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${I}, ${q}, 0) ${z}`}],W=V("ion-title"),R=(0,g.c)();W.innerText=u.innerText,W.size=u.size,W.color=u.color,R.addElement(W),R.beforeStyles({"transform-origin":`${F} top`,height:`${l.height}px`,display:"",position:"relative",[F]:j}).beforeAddWrite(()=>{u.style.setProperty("opacity","0")}).afterAddWrite(()=>{u.style.setProperty("opacity",""),W.style.setProperty("display","none")}).keyframes(Ee),a.addAnimation(R)},x=(a,h)=>{var c;try{const u="cubic-bezier(0.32,0.72,0,1)",l="opacity",y="transform",f="0%",D="rtl"===a.ownerDocument.dir,B=D?"-99.5%":"99.5%",F=D?"33%":"-33%",j=h.enteringEl,k=h.leavingEl,U="back"===h.direction,T=j.querySelector(":scope > ion-content"),I=j.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),M=j.querySelectorAll(":scope > ion-header > ion-toolbar"),q=(0,g.c)(),K=(0,g.c)();if(q.addElement(j).duration((null!==(c=h.duration)&&void 0!==c?c:0)||540).easing(h.easing||u).fill("both").beforeRemoveClass("ion-page-invisible"),k&&null!=a){const z=(0,g.c)();z.addElement(a),q.addAnimation(z)}if(T||0!==M.length||0!==I.length?(K.addElement(T),K.addElement(I)):K.addElement(j.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),q.addAnimation(K),U?K.beforeClearStyles([l]).fromTo("transform",`translateX(${F})`,`translateX(${f})`).fromTo(l,.8,1):K.beforeClearStyles([l]).fromTo("transform",`translateX(${B})`,`translateX(${f})`),T){const z=w(T).querySelector(".transition-effect");if(z){const oe=z.querySelector(".transition-cover"),le=z.querySelector(".transition-shadow"),Ee=(0,g.c)(),W=(0,g.c)(),R=(0,g.c)();Ee.addElement(z).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),W.addElement(oe).beforeClearStyles([l]).fromTo(l,0,.1),R.addElement(le).beforeClearStyles([l]).fromTo(l,.03,.7),Ee.addAnimation([W,R]),K.addAnimation([Ee])}}const Y=j.querySelector("ion-header.header-collapse-condense"),{forward:ie,backward:te}=((a,h,c,u,l)=>{const y=d(u,c),f=_(l),b=_(u),D=d(l,c),B=null!==y&&null!==f&&!c,F=null!==b&&null!==D&&c;if(B){const j=f.getBoundingClientRect(),k=y.getBoundingClientRect(),U=w(y).querySelector(".button-text"),T=U.getBoundingClientRect(),M=w(f).querySelector(".toolbar-title").getBoundingClientRect();C(a,h,c,f,j,M,U,T),m(a,h,c,y,k,U,T,f,M)}else if(F){const j=b.getBoundingClientRect(),k=D.getBoundingClientRect(),U=w(D).querySelector(".button-text"),T=U.getBoundingClientRect(),M=w(b).querySelector(".toolbar-title").getBoundingClientRect();C(a,h,c,b,j,M,U,T),m(a,h,c,D,k,U,T,b,M)}return{forward:B,backward:F}})(q,D,U,j,k);if(M.forEach(z=>{const oe=(0,g.c)();oe.addElement(z),q.addAnimation(oe);const le=(0,g.c)();le.addElement(z.querySelector("ion-title"));const Ee=(0,g.c)(),W=Array.from(z.querySelectorAll("ion-buttons,[menuToggle]")),R=z.closest("ion-header"),ne=null==R?void 0:R.classList.contains("header-collapse-condense-inactive");let ue;ue=W.filter(U?Oe=>{const Pe=Oe.classList.contains("buttons-collapse");return Pe&&!ne||!Pe}:Oe=>!Oe.classList.contains("buttons-collapse")),Ee.addElement(ue);const we=(0,g.c)();we.addElement(z.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const je=(0,g.c)();je.addElement(w(z).querySelector(".toolbar-background"));const Be=(0,g.c)(),We=z.querySelector("ion-back-button");if(We&&Be.addElement(We),oe.addAnimation([le,Ee,we,je,Be]),Ee.fromTo(l,.01,1),we.fromTo(l,.01,1),U)ne||le.fromTo("transform",`translateX(${F})`,`translateX(${f})`).fromTo(l,.01,1),we.fromTo("transform",`translateX(${F})`,`translateX(${f})`),Be.fromTo(l,.01,1);else if(Y||le.fromTo("transform",`translateX(${B})`,`translateX(${f})`).fromTo(l,.01,1),we.fromTo("transform",`translateX(${B})`,`translateX(${f})`),je.beforeClearStyles([l,"transform"]),(null==R?void 0:R.translucent)?je.fromTo("transform",D?"translateX(-100%)":"translateX(100%)","translateX(0px)"):je.fromTo(l,.01,"var(--opacity)"),ie||Be.fromTo(l,.01,1),We&&!ie){const Pe=(0,g.c)();Pe.addElement(w(We).querySelector(".button-text")).fromTo("transform",D?"translateX(-100px)":"translateX(100px)","translateX(0px)"),oe.addAnimation(Pe)}}),k){const z=(0,g.c)(),oe=k.querySelector(":scope > ion-content"),le=k.querySelectorAll(":scope > ion-header > ion-toolbar"),Ee=k.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(oe||0!==le.length||0!==Ee.length?(z.addElement(oe),z.addElement(Ee)):z.addElement(k.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),q.addAnimation(z),U){z.beforeClearStyles([l]).fromTo("transform",`translateX(${f})`,D?"translateX(-100%)":"translateX(100%)");const W=(0,Ce.g)(k);q.afterAddWrite(()=>{"normal"===q.getDirection()&&W.style.setProperty("display","none")})}else z.fromTo("transform",`translateX(${f})`,`translateX(${F})`).fromTo(l,1,.8);if(oe){const W=w(oe).querySelector(".transition-effect");if(W){const R=W.querySelector(".transition-cover"),ne=W.querySelector(".transition-shadow"),ue=(0,g.c)(),we=(0,g.c)(),je=(0,g.c)();ue.addElement(W).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),we.addElement(R).beforeClearStyles([l]).fromTo(l,.1,0),je.addElement(ne).beforeClearStyles([l]).fromTo(l,.7,.03),ue.addAnimation([we,je]),z.addAnimation([ue])}}le.forEach(W=>{const R=(0,g.c)();R.addElement(W);const ne=(0,g.c)();ne.addElement(W.querySelector("ion-title"));const ue=(0,g.c)(),we=W.querySelectorAll("ion-buttons,[menuToggle]"),je=W.closest("ion-header"),Be=null==je?void 0:je.classList.contains("header-collapse-condense-inactive"),We=Array.from(we).filter(tt=>{const _t=tt.classList.contains("buttons-collapse");return _t&&!Be||!_t});ue.addElement(We);const Oe=(0,g.c)(),Pe=W.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Pe.length>0&&Oe.addElement(Pe);const $e=(0,g.c)();$e.addElement(w(W).querySelector(".toolbar-background"));const ke=(0,g.c)(),Qe=W.querySelector("ion-back-button");if(Qe&&ke.addElement(Qe),R.addAnimation([ne,ue,Oe,ke,$e]),q.addAnimation(R),ke.fromTo(l,.99,0),ue.fromTo(l,.99,0),Oe.fromTo(l,.99,0),U){if(Be||ne.fromTo("transform",`translateX(${f})`,D?"translateX(-100%)":"translateX(100%)").fromTo(l,.99,0),Oe.fromTo("transform",`translateX(${f})`,D?"translateX(-100%)":"translateX(100%)"),$e.beforeClearStyles([l,"transform"]),(null==je?void 0:je.translucent)?$e.fromTo("transform","translateX(0px)",D?"translateX(-100%)":"translateX(100%)"):$e.fromTo(l,"var(--opacity)",0),Qe&&!te){const _t=(0,g.c)();_t.addElement(w(Qe).querySelector(".button-text")).fromTo("transform",`translateX(${f})`,`translateX(${(D?-124:124)+"px"})`),R.addAnimation(_t)}}else Be||ne.fromTo("transform",`translateX(${f})`,`translateX(${F})`).fromTo(l,.99,0).afterClearStyles([y,l]),Oe.fromTo("transform",`translateX(${f})`,`translateX(${F})`).afterClearStyles([y,l]),ke.afterClearStyles([l]),ne.afterClearStyles([l]),ue.afterClearStyles([l])})}return q}catch(u){throw u}},s=10},2976:(pn,Vt,fe)=>{"use strict";fe.r(Vt),fe.d(Vt,{mdTransitionAnimation:()=>o});var g=fe(388),Ce=fe(968);fe(4829),fe(3716);const o=(V,w)=>{var _,d,p;const m="40px",x="back"===w.direction,a=w.leavingEl,h=(0,Ce.g)(w.enteringEl),c=h.querySelector("ion-toolbar"),u=(0,g.c)();if(u.addElement(h).fill("both").beforeRemoveClass("ion-page-invisible"),x?u.duration((null!==(_=w.duration)&&void 0!==_?_:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):u.duration((null!==(d=w.duration)&&void 0!==d?d:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${m})`,"translateY(0px)").fromTo("opacity",.01,1),c){const l=(0,g.c)();l.addElement(c),u.addAnimation(l)}if(a&&x){u.duration((null!==(p=w.duration)&&void 0!==p?p:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const l=(0,g.c)();l.addElement((0,Ce.g)(a)).onFinish(y=>{1===y&&l.elements.length>0&&l.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${m})`).fromTo("opacity",1,0),u.addAnimation(l)}return u}},5820:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{B:()=>ue,G:()=>we,O:()=>je,a:()=>C,b:()=>x,c:()=>c,d:()=>Be,e:()=>We,f:()=>Y,g:()=>te,h:()=>le,i:()=>W,j:()=>l,k:()=>y,l:()=>s,m:()=>a,n:()=>B,o:()=>q,s:()=>ne});var g=fe(1528),Ce=fe(4829),st=fe(136),Fe=fe(1780),o=fe(495),V=fe(6384),w=fe(2032);let _=0,d=0;const p=new WeakMap,m=Oe=>({create:Pe=>f(Oe,Pe),dismiss:(Pe,$e,ke)=>T(document,Pe,$e,Oe,ke),getTop:()=>(0,g.c)(function*(){return q(document,Oe)})()}),C=m("ion-alert"),x=m("ion-action-sheet"),s=m("ion-loading"),a=m("ion-modal"),c=m("ion-popover"),l=Oe=>{typeof document<"u"&&U(document);const Pe=_++;Oe.overlayIndex=Pe},y=Oe=>(Oe.hasAttribute("id")||(Oe.id="ion-overlay-"+ ++d),Oe.id),f=(Oe,Pe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Oe).then(()=>{const $e=document.createElement(Oe);return $e.classList.add("overlay-hidden"),Object.assign($e,Object.assign(Object.assign({},Pe),{hasController:!0})),z(document).appendChild($e),new Promise(ke=>(0,V.c)($e,ke))}):Promise.resolve(),b='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',B=(Oe,Pe)=>{const $e=Oe.querySelector(b);j($e,Pe)},F=(Oe,Pe)=>{const $e=Array.from(Oe.querySelectorAll(b));j($e.length>0?$e[$e.length-1]:null,Pe)},j=(Oe,Pe)=>{let $e=Oe;const ke=null==Oe?void 0:Oe.shadowRoot;ke&&($e=ke.querySelector(b)||Oe),$e?(0,V.f)($e):Pe.focus()},U=Oe=>{0===_&&(_=1,Oe.addEventListener("focus",Pe=>{((Oe,Pe)=>{const $e=q(Pe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ke=Oe.target;$e&&ke&&!$e.classList.contains("ion-disable-focus-trap")&&($e.shadowRoot?(()=>{if($e.contains(ke))$e.lastFocus=ke;else if("ION-TOAST"===ke.tagName)j($e.lastFocus,$e);else{const _t=$e.lastFocus;B($e,$e),_t===Pe.activeElement&&F($e,$e),$e.lastFocus=Pe.activeElement}})():(()=>{if($e===ke)$e.lastFocus=void 0;else if("ION-TOAST"===ke.tagName)j($e.lastFocus,$e);else{const _t=(0,V.g)($e);if(!_t.contains(ke))return;const gt=_t.querySelector(".ion-overlay-wrapper");if(!gt)return;if(gt.contains(ke)||ke===_t.querySelector("ion-backdrop"))$e.lastFocus=ke;else{const xt=$e.lastFocus;B(gt,$e),xt===Pe.activeElement&&F(gt,$e),$e.lastFocus=Pe.activeElement}}})())})(Pe,Oe)},!0),Oe.addEventListener("ionBackButton",Pe=>{const $e=q(Oe);null!=$e&&$e.backdropDismiss&&Pe.detail.register(st.OVERLAY_BACK_BUTTON_PRIORITY,()=>{$e.dismiss(void 0,ue)})}),(0,st.shoudUseCloseWatcher)()||Oe.addEventListener("keydown",Pe=>{if("Escape"===Pe.key){const $e=q(Oe);null!=$e&&$e.backdropDismiss&&$e.dismiss(void 0,ue)}}))},T=(Oe,Pe,$e,ke,Qe)=>{const tt=q(Oe,ke,Qe);return tt?tt.dismiss(Pe,$e):Promise.reject("overlay does not exist")},M=(Oe,Pe)=>((Oe,Pe)=>(void 0===Pe&&(Pe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Oe.querySelectorAll(Pe)).filter($e=>$e.overlayIndex>0)))(Oe,Pe).filter($e=>!(Oe=>Oe.classList.contains("overlay-hidden"))($e)),q=(Oe,Pe,$e)=>{const ke=M(Oe,Pe);return void 0===$e?ke[ke.length-1]:ke.find(Qe=>Qe.id===$e)},K=(Oe=!1)=>{const $e=z(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");$e&&(Oe?$e.setAttribute("aria-hidden","true"):$e.removeAttribute("aria-hidden"))},Y=function(){var Oe=(0,g.c)(function*(Pe,$e,ke,Qe,tt){var _t,gt;if(Pe.presented)return;K(!0),void 0!==Ce.d&&M(Ce.d).forEach(Tt=>Tt.setAttribute("aria-hidden","true")),Pe.presented=!0,Pe.willPresent.emit(),null===(_t=Pe.willPresentShorthand)||void 0===_t||_t.emit();const xt=(0,Fe.b)(Pe),$t=Pe.enterAnimation?Pe.enterAnimation:Fe.c.get($e,"ios"===xt?ke:Qe);(yield oe(Pe,$t,Pe.el,tt))&&(Pe.didPresent.emit(),null===(gt=Pe.didPresentShorthand)||void 0===gt||gt.emit()),"ION-TOAST"!==Pe.el.tagName&&ie(Pe.el),Pe.keyboardClose&&(null===document.activeElement||!Pe.el.contains(document.activeElement))&&Pe.el.focus(),Pe.el.removeAttribute("aria-hidden")});return function($e,ke,Qe,tt,_t){return Oe.apply(this,arguments)}}(),ie=function(){var Oe=(0,g.c)(function*(Pe){let $e=document.activeElement;if(!$e)return;const ke=null==$e?void 0:$e.shadowRoot;ke&&($e=ke.querySelector(b)||$e),yield Pe.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&$e.focus()});return function($e){return Oe.apply(this,arguments)}}(),te=function(){var Oe=(0,g.c)(function*(Pe,$e,ke,Qe,tt,_t,gt){var xt,$t,Ot;if(!Pe.presented)return!1;void 0!==Ce.d&&1===M(Ce.d).length&&K(!1),Pe.presented=!1;try{Pe.el.style.setProperty("pointer-events","none"),Pe.willDismiss.emit({data:$e,role:ke}),null===(xt=Pe.willDismissShorthand)||void 0===xt||xt.emit({data:$e,role:ke});const jt=(0,Fe.b)(Pe),Tt=Pe.leaveAnimation?Pe.leaveAnimation:Fe.c.get(Qe,"ios"===jt?tt:_t);ke!==we&&(yield oe(Pe,Tt,Pe.el,gt)),Pe.didDismiss.emit({data:$e,role:ke}),null===($t=Pe.didDismissShorthand)||void 0===$t||$t.emit({data:$e,role:ke}),(p.get(Pe)||[]).forEach(Je=>Je.destroy()),p.delete(Pe),Pe.el.classList.add("overlay-hidden"),Pe.el.style.removeProperty("pointer-events"),void 0!==Pe.el.lastFocus&&(Pe.el.lastFocus=void 0)}catch(jt){console.error(jt)}return Pe.el.remove(),void 0!==Ce.d&&(null===(Ot=q(Ce.d))||void 0===Ot||Ot.removeAttribute("aria-hidden")),!0});return function($e,ke,Qe,tt,_t,gt,xt){return Oe.apply(this,arguments)}}(),z=Oe=>Oe.querySelector("ion-app")||Oe.body,oe=function(){var Oe=(0,g.c)(function*(Pe,$e,ke,Qe){ke.classList.remove("overlay-hidden");const _t=$e(Pe.el,Qe);(!Pe.animated||!Fe.c.getBoolean("animated",!0))&&_t.duration(0),Pe.keyboardClose&&_t.beforeAddWrite(()=>{const xt=ke.ownerDocument.activeElement;null!=xt&&xt.matches("input,ion-input, ion-textarea")&&xt.blur()});const gt=p.get(Pe)||[];return p.set(Pe,[...gt,_t]),yield _t.play(),!0});return function($e,ke,Qe,tt){return Oe.apply(this,arguments)}}(),le=(Oe,Pe)=>{let $e;const ke=new Promise(Qe=>$e=Qe);return Ee(Oe,Pe,Qe=>{$e(Qe.detail)}),ke},Ee=(Oe,Pe,$e)=>{const ke=Qe=>{(0,V.b)(Oe,Pe,ke),$e(Qe)};(0,V.a)(Oe,Pe,ke)},W=Oe=>"cancel"===Oe||Oe===ue,R=Oe=>Oe(),ne=(Oe,Pe)=>{if("function"==typeof Oe)return Fe.c.get("_zoneGate",R)(()=>{try{return Oe(Pe)}catch(ke){throw ke}})},ue="backdrop",we="gesture",je=39,Be=Oe=>{let $e,Pe=!1;const ke=(0,o.C)(),Qe=(gt=!1)=>{if($e&&!gt)return{delegate:$e,inline:Pe};const{el:xt,hasController:$t,delegate:Ot}=Oe;return Pe=null!==xt.parentNode&&!$t,$e=Pe?Ot||ke:Ot,{inline:Pe,delegate:$e}};return{attachViewToDom:function(){var gt=(0,g.c)(function*(xt){const{delegate:$t}=Qe(!0);if($t)return yield $t.attachViewToDom(Oe.el,xt);const{hasController:Ot}=Oe;if(Ot&&void 0!==xt)throw new Error("framework delegate is missing");return null});return function($t){return gt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:gt}=Qe();gt&&void 0!==Oe.el&&gt.removeViewFromDom(Oe.el.parentElement,Oe.el)}}},We=()=>{let Oe;const Pe=()=>{Oe&&(Oe(),Oe=void 0)};return{addClickListener:(ke,Qe)=>{Pe();const tt=void 0!==Qe?document.getElementById(Qe):null;tt?Oe=((gt,xt)=>{const $t=()=>{xt.present()};return gt.addEventListener("click",$t),()=>{gt.removeEventListener("click",$t)}})(tt,ke):(0,w.p)(`A trigger element with the ID "${Qe}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ke)},removeClickListener:Pe}}},8637:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{H:()=>u,b:()=>Ot,c:()=>b,f:()=>Oe,g:()=>f,h:()=>h,p:()=>bn,r:()=>Dt});var g=fe(1528);let st,Fe,o=!1,V=!1;const p={},s=et=>"object"==(et=typeof et)||"function"===et;function a(et){var Mt,Ut,Wt;return null!==(Wt=null===(Ut=null===(Mt=et.head)||void 0===Mt?void 0:Mt.querySelector('meta[name="csp-nonce"]'))||void 0===Ut?void 0:Ut.getAttribute("content"))&&void 0!==Wt?Wt:void 0}const h=(et,Mt,...Ut)=>{let Wt=null,Zt=!1,mn=!1;const wn=[],Cn=Dn=>{for(let tr=0;tr<Dn.length;tr++)Wt=Dn[tr],Array.isArray(Wt)?Cn(Wt):null!=Wt&&"boolean"!=typeof Wt&&((Zt="function"!=typeof et&&!s(Wt))&&(Wt=String(Wt)),Zt&&mn?wn[wn.length-1].$text$+=Wt:wn.push(Zt?c(null,Wt):Wt),mn=Zt)};if(Cn(Ut),Mt){const Dn=Mt.className||Mt.class;Dn&&(Mt.class="object"!=typeof Dn?Dn:Object.keys(Dn).filter(tr=>Dn[tr]).join(" "))}const Sn=c(et,null);return Sn.$attrs$=Mt,wn.length>0&&(Sn.$children$=wn),Sn},c=(et,Mt)=>({$flags$:0,$tag$:et,$text$:Mt,$elm$:null,$children$:null,$attrs$:null}),u={},f=et=>Ze(et).$hostElement$,b=(et,Mt,Ut)=>{const Wt=f(et);return{emit:Zt=>D(Wt,Mt,{bubbles:!!(4&Ut),composed:!!(2&Ut),cancelable:!!(1&Ut),detail:Zt})}},D=(et,Mt,Ut)=>{const Wt=tn.ce(Mt,Ut);return et.dispatchEvent(Wt),Wt},B=new WeakMap,U=(et,Mt)=>"sc-"+et.$tagName$,T=(et,Mt,Ut,Wt,Zt,mn)=>{if(Ut!==Wt){let wn=Re(et,Mt),Cn=Mt.toLowerCase();if("class"===Mt){const Sn=et.classList,Dn=M(Ut),tr=M(Wt);Sn.remove(...Dn.filter(Bn=>Bn&&!tr.includes(Bn))),Sn.add(...tr.filter(Bn=>Bn&&!Dn.includes(Bn)))}else if("style"===Mt){for(const Sn in Ut)(!Wt||null==Wt[Sn])&&(Sn.includes("-")?et.style.removeProperty(Sn):et.style[Sn]="");for(const Sn in Wt)(!Ut||Wt[Sn]!==Ut[Sn])&&(Sn.includes("-")?et.style.setProperty(Sn,Wt[Sn]):et.style[Sn]=Wt[Sn])}else if("ref"===Mt)Wt&&Wt(et);else if(wn||"o"!==Mt[0]||"n"!==Mt[1]){const Sn=s(Wt);if((wn||Sn&&null!==Wt)&&!Zt)try{if(et.tagName.includes("-"))et[Mt]=Wt;else{const Dn=null==Wt?"":Wt;"list"===Mt?wn=!1:(null==Ut||et[Mt]!=Dn)&&(et[Mt]=Dn)}}catch{}null==Wt||!1===Wt?(!1!==Wt||""===et.getAttribute(Mt))&&et.removeAttribute(Mt):(!wn||4&mn||Zt)&&!Sn&&et.setAttribute(Mt,Wt=!0===Wt?"":Wt)}else Mt="-"===Mt[2]?Mt.slice(3):Re(kt,Cn)?Cn.slice(2):Cn[2]+Mt.slice(3),Ut&&tn.rel(et,Mt,Ut,!1),Wt&&tn.ael(et,Mt,Wt,!1)}},I=/\s/,M=et=>et?et.split(I):[],q=(et,Mt,Ut,Wt)=>{const Zt=11===Mt.$elm$.nodeType&&Mt.$elm$.host?Mt.$elm$.host:Mt.$elm$,mn=et&&et.$attrs$||p,wn=Mt.$attrs$||p;for(Wt in mn)Wt in wn||T(Zt,Wt,mn[Wt],void 0,Ut,Mt.$flags$);for(Wt in wn)T(Zt,Wt,mn[Wt],wn[Wt],Ut,Mt.$flags$)},K=(et,Mt,Ut,Wt)=>{const Zt=Mt.$children$[Ut];let wn,Cn,mn=0;if(null!==Zt.$text$)wn=Zt.$elm$=Lt.createTextNode(Zt.$text$);else{if(o||(o="svg"===Zt.$tag$),wn=Zt.$elm$=Lt.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Zt.$tag$),o&&"foreignObject"===Zt.$tag$&&(o=!1),q(null,Zt,o),(et=>null!=et)(st)&&wn["s-si"]!==st&&wn.classList.add(wn["s-si"]=st),Zt.$children$)for(mn=0;mn<Zt.$children$.length;++mn)Cn=K(et,Zt,mn),Cn&&wn.appendChild(Cn);"svg"===Zt.$tag$?o=!1:"foreignObject"===wn.tagName&&(o=!0)}return wn},Y=(et,Mt,Ut,Wt,Zt,mn)=>{let Cn,wn=et;for(wn.shadowRoot&&wn.tagName===Fe&&(wn=wn.shadowRoot);Zt<=mn;++Zt)Wt[Zt]&&(Cn=K(null,Ut,Zt),Cn&&(Wt[Zt].$elm$=Cn,wn.insertBefore(Cn,Mt)))},ie=(et,Mt,Ut)=>{for(let Wt=Mt;Wt<=Ut;++Wt){const Zt=et[Wt];if(Zt){const mn=Zt.$elm$;le(Zt),mn&&mn.remove()}}},z=(et,Mt)=>et.$tag$===Mt.$tag$,oe=(et,Mt)=>{const Ut=Mt.$elm$=et.$elm$,Wt=et.$children$,Zt=Mt.$children$,mn=Mt.$tag$,wn=Mt.$text$;null===wn?(o="svg"===mn||"foreignObject"!==mn&&o,q(et,Mt,o),null!==Wt&&null!==Zt?((et,Mt,Ut,Wt)=>{let lr,Zt=0,mn=0,wn=Mt.length-1,Cn=Mt[0],Sn=Mt[wn],Dn=Wt.length-1,tr=Wt[0],Bn=Wt[Dn];for(;Zt<=wn&&mn<=Dn;)null==Cn?Cn=Mt[++Zt]:null==Sn?Sn=Mt[--wn]:null==tr?tr=Wt[++mn]:null==Bn?Bn=Wt[--Dn]:z(Cn,tr)?(oe(Cn,tr),Cn=Mt[++Zt],tr=Wt[++mn]):z(Sn,Bn)?(oe(Sn,Bn),Sn=Mt[--wn],Bn=Wt[--Dn]):z(Cn,Bn)?(oe(Cn,Bn),et.insertBefore(Cn.$elm$,Sn.$elm$.nextSibling),Cn=Mt[++Zt],Bn=Wt[--Dn]):z(Sn,tr)?(oe(Sn,tr),et.insertBefore(Sn.$elm$,Cn.$elm$),Sn=Mt[--wn],tr=Wt[++mn]):(lr=K(Mt&&Mt[mn],Ut,mn),tr=Wt[++mn],lr&&Cn.$elm$.parentNode.insertBefore(lr,Cn.$elm$));Zt>wn?Y(et,null==Wt[Dn+1]?null:Wt[Dn+1].$elm$,Ut,Wt,mn,Dn):mn>Dn&&ie(Mt,Zt,wn)})(Ut,Wt,Mt,Zt):null!==Zt?(null!==et.$text$&&(Ut.textContent=""),Y(Ut,null,Mt,Zt,0,Zt.length-1)):null!==Wt&&ie(Wt,0,Wt.length-1),o&&"svg"===mn&&(o=!1)):et.$text$!==wn&&(Ut.data=wn)},le=et=>{et.$attrs$&&et.$attrs$.ref&&et.$attrs$.ref(null),et.$children$&&et.$children$.map(le)},W=(et,Mt)=>{Mt&&!et.$onRenderResolve$&&Mt["s-p"]&&Mt["s-p"].push(new Promise(Ut=>et.$onRenderResolve$=Ut))},R=(et,Mt)=>{if(et.$flags$|=16,!(4&et.$flags$))return W(et,et.$ancestorComponent$),Yt(()=>ne(et,Mt));et.$flags$|=512},ne=(et,Mt)=>{const Wt=et.$lazyInstance$;return Mt&&(et.$flags$|=256,et.$queuedListeners$&&(et.$queuedListeners$.map(([mn,wn])=>$e(Wt,mn,wn)),et.$queuedListeners$=void 0)),ue(void 0,()=>je(et,Wt,Mt))},ue=(et,Mt)=>we(et)?et.then(Mt):Mt(),we=et=>et instanceof Promise||et&&et.then&&"function"==typeof et.then,je=function(){var et=(0,g.c)(function*(Mt,Ut,Wt){var Zt;const mn=Mt.$hostElement$,Cn=mn["s-rc"];Wt&&(et=>{const Mt=et.$cmpMeta$,Ut=et.$hostElement$,Wt=Mt.$flags$,mn=((et,Mt,Ut,Wt)=>{var Zt;let mn=U(Mt);const wn=vt.get(mn);if(et=11===et.nodeType?et:Lt,wn)if("string"==typeof wn){let Sn,Cn=B.get(et=et.head||et);if(Cn||B.set(et,Cn=new Set),!Cn.has(mn)){{Sn=Lt.createElement("style"),Sn.innerHTML=wn;const Dn=null!==(Zt=tn.$nonce$)&&void 0!==Zt?Zt:a(Lt);null!=Dn&&Sn.setAttribute("nonce",Dn),et.insertBefore(Sn,et.querySelector("link"))}Cn&&Cn.add(mn)}}else et.adoptedStyleSheets.includes(wn)||(et.adoptedStyleSheets=[...et.adoptedStyleSheets,wn]);return mn})(Ut.shadowRoot?Ut.shadowRoot:Ut.getRootNode(),Mt);10&Wt&&(Ut["s-sc"]=mn,Ut.classList.add(mn+"-h"))})(Mt);Be(Mt,Ut),Cn&&(Cn.map(Dn=>Dn()),mn["s-rc"]=void 0);{const Dn=null!==(Zt=mn["s-p"])&&void 0!==Zt?Zt:[],tr=()=>We(Mt);0===Dn.length?tr():(Promise.all(Dn).then(tr),Mt.$flags$|=4,Dn.length=0)}});return function(Ut,Wt,Zt){return et.apply(this,arguments)}}(),Be=(et,Mt,Ut)=>{try{Mt=Mt.render(),et.$flags$&=-17,et.$flags$|=2,((et,Mt)=>{const Ut=et.$hostElement$,Wt=et.$vnode$||c(null,null),Zt=(et=>et&&et.$tag$===u)(Mt)?Mt:h(null,null,Mt);Fe=Ut.tagName,Zt.$tag$=null,Zt.$flags$|=4,et.$vnode$=Zt,Zt.$elm$=Wt.$elm$=Ut.shadowRoot||Ut,st=Ut["s-sc"],oe(Wt,Zt)})(et,Mt)}catch(Wt){Ne(Wt,et.$hostElement$)}return null},We=et=>{const Ut=et.$hostElement$,Zt=et.$lazyInstance$,mn=et.$ancestorComponent$;64&et.$flags$||(et.$flags$|=64,ke(Ut),$e(Zt,"componentDidLoad"),et.$onReadyResolve$(Ut),mn||Pe()),et.$onInstanceResolve$(Ut),et.$onRenderResolve$&&(et.$onRenderResolve$(),et.$onRenderResolve$=void 0),512&et.$flags$&&It(()=>R(et,!1)),et.$flags$&=-517},Oe=et=>{{const Mt=Ze(et),Ut=Mt.$hostElement$.isConnected;return Ut&&2==(18&Mt.$flags$)&&R(Mt,!1),Ut}},Pe=et=>{ke(Lt.documentElement),It(()=>D(kt,"appload",{detail:{namespace:"ionicpwaelements"}}))},$e=(et,Mt,Ut)=>{if(et&&et[Mt])try{return et[Mt](Ut)}catch(Wt){Ne(Wt)}},ke=et=>et.classList.add("hydrated"),_t=(et,Mt,Ut)=>{if(Mt.$members$){const Wt=Object.entries(Mt.$members$),Zt=et.prototype;if(Wt.map(([mn,[wn]])=>{31&wn||2&Ut&&32&wn?Object.defineProperty(Zt,mn,{get(){return((et,Mt)=>Ze(this).$instanceValues$.get(Mt))(0,mn)},set(Cn){((et,Mt,Ut,Wt)=>{const Zt=Ze(et),mn=Zt.$instanceValues$.get(Mt),wn=Zt.$flags$,Cn=Zt.$lazyInstance$;Ut=((et,Mt)=>null==et||s(et)?et:4&Mt?"false"!==et&&(""===et||!!et):2&Mt?parseFloat(et):1&Mt?String(et):et)(Ut,Wt.$members$[Mt][0]);const Sn=Number.isNaN(mn)&&Number.isNaN(Ut);(!(8&wn)||void 0===mn)&&Ut!==mn&&!Sn&&(Zt.$instanceValues$.set(Mt,Ut),Cn&&2==(18&wn)&&R(Zt,!1))})(this,mn,Cn,Mt)},configurable:!0,enumerable:!0}):1&Ut&&64&wn&&Object.defineProperty(Zt,mn,{value(...Cn){const Sn=Ze(this);return Sn.$onInstancePromise$.then(()=>Sn.$lazyInstance$[mn](...Cn))}})}),1&Ut){const mn=new Map;Zt.attributeChangedCallback=function(wn,Cn,Sn){tn.jmp(()=>{const Dn=mn.get(wn);if(this.hasOwnProperty(Dn))Sn=this[Dn],delete this[Dn];else if(Zt.hasOwnProperty(Dn)&&"number"==typeof this[Dn]&&this[Dn]==Sn)return;this[Dn]=(null!==Sn||"boolean"!=typeof this[Dn])&&Sn})},et.observedAttributes=Wt.filter(([wn,Cn])=>15&Cn[0]).map(([wn,Cn])=>{const Sn=Cn[1]||wn;return mn.set(Sn,wn),Sn})}}return et},gt=function(){var et=(0,g.c)(function*(Mt,Ut,Wt,Zt,mn){if(!(32&Ut.$flags$)){Ut.$flags$|=32;{if((mn=Ye(Wt)).then){const Dn=()=>{};mn=yield mn,Dn()}mn.isProxied||(_t(mn,Wt,2),mn.isProxied=!0);const Sn=()=>{};Ut.$flags$|=8;try{new mn(Ut)}catch(Dn){Ne(Dn)}Ut.$flags$&=-9,Sn()}if(mn.style){let Sn=mn.style;const Dn=U(Wt);if(!vt.has(Dn)){const tr=()=>{};((et,Mt,Ut)=>{let Wt=vt.get(et);gn&&Ut?(Wt=Wt||new CSSStyleSheet,"string"==typeof Wt?Wt=Mt:Wt.replaceSync(Mt)):Wt=Mt,vt.set(et,Wt)})(Dn,Sn,!!(1&Wt.$flags$)),tr()}}}const wn=Ut.$ancestorComponent$,Cn=()=>R(Ut,!0);wn&&wn["s-rc"]?wn["s-rc"].push(Cn):Cn()});return function(Ut,Wt,Zt,mn,wn){return et.apply(this,arguments)}}(),Ot=(et,Mt={})=>{var Ut;const Zt=[],mn=Mt.exclude||[],wn=kt.customElements,Cn=Lt.head,Sn=Cn.querySelector("meta[charset]"),Dn=Lt.createElement("style"),tr=[];let Bn,lr=!0;Object.assign(tn,Mt),tn.$resourcesUrl$=new URL(Mt.resourcesUrl||"./",Lt.baseURI).href,et.map(Z=>{Z[1].map(be=>{const ye={$flags$:be[0],$tagName$:be[1],$members$:be[2],$listeners$:be[3]};ye.$members$=be[2],ye.$listeners$=be[3];const E=ye.$tagName$,N=class extends HTMLElement{constructor(L){super(L),pt(L=this,ye),1&ye.$flags$&&L.attachShadow({mode:"open"})}connectedCallback(){Bn&&(clearTimeout(Bn),Bn=null),lr?tr.push(this):tn.jmp(()=>(et=>{if(!(1&tn.$flags$)){const Mt=Ze(et),Ut=Mt.$cmpMeta$,Wt=()=>{};if(1&Mt.$flags$)jt(et,Mt,Ut.$listeners$);else{Mt.$flags$|=1;{let Zt=et;for(;Zt=Zt.parentNode||Zt.host;)if(Zt["s-p"]){W(Mt,Mt.$ancestorComponent$=Zt);break}}Ut.$members$&&Object.entries(Ut.$members$).map(([Zt,[mn]])=>{if(31&mn&&et.hasOwnProperty(Zt)){const wn=et[Zt];delete et[Zt],et[Zt]=wn}}),gt(et,Mt,Ut)}Wt()}})(this))}disconnectedCallback(){tn.jmp(()=>(et=>{if(!(1&tn.$flags$)){const Mt=Ze(this),Ut=Mt.$lazyInstance$;Mt.$rmListeners$&&(Mt.$rmListeners$.map(Wt=>Wt()),Mt.$rmListeners$=void 0),$e(Ut,"disconnectedCallback")}})())}componentOnReady(){return Ze(this).$onReadyPromise$}};ye.$lazyBundleId$=Z[0],!mn.includes(E)&&!wn.get(E)&&(Zt.push(E),wn.define(E,_t(N,ye,1)))})});{Dn.innerHTML=Zt+"{visibility:hidden}.hydrated{visibility:inherit}",Dn.setAttribute("data-styles","");const Z=null!==(Ut=tn.$nonce$)&&void 0!==Ut?Ut:a(Lt);null!=Z&&Dn.setAttribute("nonce",Z),Cn.insertBefore(Dn,Sn?Sn.nextSibling:Cn.firstChild)}lr=!1,tr.length?tr.map(Z=>Z.connectedCallback()):tn.jmp(()=>Bn=setTimeout(Pe,30))},jt=(et,Mt,Ut,Wt)=>{Ut&&Ut.map(([Zt,mn,wn])=>{const Cn=ge(et,Zt),Sn=Tt(Mt,wn),Dn=Je(Zt);tn.ael(Cn,mn,Sn,Dn),(Mt.$rmListeners$=Mt.$rmListeners$||[]).push(()=>tn.rel(Cn,mn,Sn,Dn))})},Tt=(et,Mt)=>Ut=>{try{256&et.$flags$?et.$lazyInstance$[Mt](Ut):(et.$queuedListeners$=et.$queuedListeners$||[]).push([Mt,Ut])}catch(Wt){Ne(Wt)}},ge=(et,Mt)=>16&Mt?Lt.body:et,Je=et=>0!=(2&et),Rt=new WeakMap,Ze=et=>Rt.get(et),Dt=(et,Mt)=>Rt.set(Mt.$lazyInstance$=et,Mt),pt=(et,Mt)=>{const Ut={$flags$:0,$hostElement$:et,$cmpMeta$:Mt,$instanceValues$:new Map};return Ut.$onInstancePromise$=new Promise(Wt=>Ut.$onInstanceResolve$=Wt),Ut.$onReadyPromise$=new Promise(Wt=>Ut.$onReadyResolve$=Wt),et["s-p"]=[],et["s-rc"]=[],jt(et,Ut,Mt.$listeners$),Rt.set(et,Ut)},Re=(et,Mt)=>Mt in et,Ne=(et,Mt)=>(0,console.error)(et,Mt),Me=new Map,Ye=(et,Mt,Ut)=>{const Wt=et.$tagName$.replace(/-/g,"_"),Zt=et.$lazyBundleId$,mn=Me.get(Zt);if(mn)return mn[Wt];if(!Ut||!BUILD.hotModuleReplacement){const wn=Cn=>(Me.set(Zt,Cn),Cn[Wt]);switch(Zt){case"pwa-action-sheet":return fe.e(2152).then(fe.bind(fe,2152)).then(wn,Ne);case"pwa-camera-modal":return fe.e(6056).then(fe.bind(fe,6056)).then(wn,Ne);case"pwa-toast":return fe.e(3276).then(fe.bind(fe,3276)).then(wn,Ne);case"pwa-camera-modal-instance":return fe.e(1148).then(fe.bind(fe,1148)).then(wn,Ne);case"pwa-camera":return fe.e(580).then(fe.bind(fe,580)).then(wn,Ne)}}return fe(996)(`./${Zt}.entry.js`).then(wn=>(Me.set(Zt,wn),wn[Wt]),Ne)},vt=new Map,kt=typeof window<"u"?window:{},Lt=kt.document||{head:{}},tn={$flags$:0,$resourcesUrl$:"",jmp:et=>et(),raf:et=>requestAnimationFrame(et),ael:(et,Mt,Ut,Wt)=>et.addEventListener(Mt,Ut,Wt),rel:(et,Mt,Ut,Wt)=>et.removeEventListener(Mt,Ut,Wt),ce:(et,Mt)=>new CustomEvent(et,Mt)},bn=et=>Promise.resolve(et),gn=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Pt=[],yt=[],it=(et,Mt)=>Ut=>{et.push(Ut),V||(V=!0,Mt&&4&tn.$flags$?It(at):tn.raf(at))},Xe=et=>{for(let Mt=0;Mt<et.length;Mt++)try{et[Mt](performance.now())}catch(Ut){Ne(Ut)}et.length=0},at=()=>{Xe(Pt),Xe(yt),(V=Pt.length>0)&&tn.raf(at)},It=et=>bn().then(et),Yt=it(yt,!0)},5193:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{a0:()=>b,uM:()=>f,O$:()=>y,s1:()=>l});var g=fe(1528),Ce=fe(6400);const st=(0,Ce.C_)("App",{web:()=>fe.e(4736).then(fe.bind(fe,4736)).then(D=>new D.AppWeb)});var Fe=fe(4708),o=fe(6124);const w=(0,Ce.C_)("LocalNotifications",{web:()=>fe.e(1208).then(fe.bind(fe,1208)).then(D=>new D.LocalNotificationsWeb)});var _=fe(9352),d=fe(4496),p=fe(9240),m=fe(5624),C=fe(3332),x=fe(6819),s=fe(1028),a=fe(7136),h=fe(4668),c=fe(4500),u=fe(5020),l="DesktopPWA",y=!1;const f="https://is2you2.github.io/";window.p5=_;let b=(()=>{var D;class B{constructor(j,k,U,T,I,M,q,K,Y,ie,te){this.platform=j,this.nakama=M,this.modalCtrl=K,this.lang=ie,j.is("desktop")?l="DesktopPWA":j.is("mobileweb")?l="MobilePWA":j.is("android")?l="Android":j.is("iphone")&&(l="iOS"),y=j.is("electron"),q.initialize(()=>{let z=te.CatchGETs(location.href)||{};te.initialize(),M.AddressToQRCodeAct(z),T.initialize(),"Android"==l&&w.checkPermissions().then(function(){var oe=(0,g.c)(function*(le){"granted"!=le.display&&(yield w.requestPermissions())});return function(le){return oe.apply(this,arguments)}}()),T.load_settings(),q.GetFileListFromDB("tmp_files",oe=>{oe.forEach(le=>q.removeFileFromUserPath(le))})}),ie.Callback_nakama=()=>{M.initialize(),M.check_if_online(),ie.isFirstTime=!1},("Android"==l||"iOS"==l)&&st.addListener("appUrlOpen",z=>{U.run(()=>{const oe=z.url.split(".app").pop();oe&&k.navigateByUrl(oe)})}),T.SetListener("click",z=>{try{let oe,Ee,le=z.data.page.componentProps;switch(z.data.page.component){case"ChatRoomPage":Ee=le.info.noti_id;break;case"MinimalChatPage":oe=o._,Ee=le.noti_id;break;case"AddTodoMenuPage":le={data:le.data},Ee=JSON.parse(le.data).id;break;case"NakamaReqContTitle":let W=M.servers[le.data.isOfficial][le.data.Target],R="";return R+=`${ie.text.Nakama.ReqContServer}: ${le.data.serverName}<br>`,R+=`${ie.text.Nakama.ReqContUserName}: ${le.data.userName}`,void Y.create({header:ie.text.Nakama.ReqContTitle,message:R,buttons:[{text:ie.text.Nakama.ReqContAccept,handler:()=>{W.client.addGroupUsers(W.session,le.data.group_id,[le.data.user_id]).then(ne=>{ne||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),W.client.deleteNotifications(W.session,[le.data.noti_id]).then(ue=>{ue?M.update_notifications(le.data.isOfficial,le.data.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",ue)})})}},{text:ie.text.Nakama.ReqContReject,handler:()=>{W.client.kickGroupUsers(W.session,le.data.group_id,[le.data.user_id]).then(function(){var ne=(0,g.c)(function*(ue){ue||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield W.client.deleteNotifications(W.session,[le.data.noti_id]),M.update_notifications(le.data.isOfficial,le.data.Target)});return function(ue){return ne.apply(this,arguments)}}())},cssClass:"redfont"}]}).then(ne=>ne.present());case"AllUserNotification":break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0\uac00 \uc544\ub2d8: ",z.data.page.component)}if(Ee==T.Current)return;this.waiting_open_page(z,oe,le)}catch{if("AllUserNotification"===z.data.type){let Ee=`<div>${z.data.body}</div>`;Y.create({header:z.data.title,message:new Fe.AF(z.data.image?`<img *ngIf="${z.data.image}" src="${z.data.image}" alt="noti_image" style="border-radius: 8px">`+Ee:Ee),buttons:[{text:ie.text.Nakama.LocalNotiOK,handler:()=>{M.servers[z.data.isOfficial][z.data.target].client.deleteNotifications(M.servers[z.data.isOfficial][z.data.target].session,[z.data.noti_id])}}]}).then(R=>R.present())}else console.log("\uc900\ube44\ub41c \uc54c\ub9bc \ud589\ub3d9 \uc5c6\uc74c: ",z.data)}}),I.enable(),M.on_socket_connected.connection_check=()=>{M.check_if_online()},M.on_socket_disconnected.connection_check=()=>{M.check_if_online()}}waiting_open_page(j,k,U){var T=this;return(0,g.c)(function*(){try{let I=yield T.modalCtrl.create({component:k,componentProps:U});switch(j.data.page.component){case"ChatRoomPage":if(!T.lang.text.ChatRoom.YouReadHereLast)throw"ChatRoomPage \ubc88\uc5ed \uc900\ube44\uc911";if(U.info.noti_id)throw U={info:T.nakama.channels_orig[U.info.isOfficial][U.info.target][U.info.id]},"ChatRoomPage props \uc7ac\uc815\ube44";break;case"MinimalChatPage":if(!T.lang.text.MinimalChat.leave_chat_group)throw"MinimalChatPage \ubc88\uc5ed \uc900\ube44\uc911";I.present();break;case"AddTodoMenuPage":if(!T.lang.text.TodoDetail.ToggleWorkers)throw"AddTodoMenuPage \ubc88\uc5ed \uc900\ube44\uc911";T.nakama.open_add_todo_page(U.data);break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0 \ud589\ub3d9 \uc5c6\uc74c: ",j.data.page.component),I.present()}}catch(I){console.log("retry open notification clicked because... : ",I),setTimeout(()=>{T.waiting_open_page(j,k,U)},200)}})()}}return(D=B).\u0275fac=function(j){return new(j||D)(d.GI1(p.WU),d.GI1(C.E5),d.GI1(d.WW2),d.GI1(x.s),d.GI1(s.Y),d.GI1(a.h),d.GI1(h.k),d.GI1(m.qS),d.GI1(m.iW),d.GI1(c.o),d.GI1(u.A1))},D.\u0275cmp=d.In1({type:D,selectors:[["app-root"]],decls:2,vars:0,template:function(j,k){1&j&&(d.I0R(0,"ion-app"),d.wR5(1,"ion-router-outlet"),d.C$Y())},dependencies:[m.qk,m.Cg]}),B})()},5020:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{A1:()=>s,KY:()=>x,Mp:()=>C});var g=fe(1528),Ce=fe(4972),Fe=fe(9352),V=fe(4496),w=fe(3824),_=fe(4500),d=fe(4476),p=fe(4668),m=fe(5624),C=!1;const x=8e4;let s=(()=>{var a;class h{constructor(u,l,y,f,b){this.p5toast=u,this.lang=l,this.sanitizer=y,this.indexed=f,this.loadingCtrl=b,C=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}initialize(){this.p5key=new Fe(u=>{u.setup=()=>{u.noCanvas(),u.noLoop(),u.KeyShortCut={}},u.keyPressed=l=>{switch(l.code){case"Backquote":u.KeyShortCut.Backquote&&u.KeyShortCut.Backquote();break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":case"Numpad0":if(u.KeyShortCut.Digit){let y=(Number(l.code.slice(-1))-1+10)%10;u.KeyShortCut.Digit(y)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":u.KeyShortCut.BottomTab&&u.KeyShortCut.BottomTab(l.code.slice(-1));break;case"KeyA":u.KeyShortCut.AddAct&&u.KeyShortCut.AddAct();break;case"KeyS":u.KeyShortCut.SKeyAct&&u.KeyShortCut.SKeyAct();break;case"KeyD":u.KeyShortCut.DeleteAct&&u.KeyShortCut.DeleteAct();break;case"KeyF":u.KeyShortCut.FKeyAct&&u.KeyShortCut.FKeyAct();break;case"Enter":case"NumpadEnter":u.KeyShortCut.EnterAct&&u.KeyShortCut.EnterAct();break;case"Escape":u.KeyShortCut.Escape&&u.KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":u.KeyShortCut.HistoryAct&&u.KeyShortCut.HistoryAct(l.code.slice(-1))}}})}UpdateIsDarkMode(u){C=u}GetExactDarkMode(){return C=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}CatchGETs(u){const l=u.split("?");if(l.length>1){const y=l[1].split("&");let f={};for(let b=0,D=y.length;b<D;b++){const B=y[b].split("=");f[B[0]]||(f[B[0]]=[]),f[B[0]].push(decodeURIComponent(B[1]))}return f}}readasQRCodeFromString(u){try{let l=new Ce({content:u,padding:4,width:8,height:8,color:C?"#bbb":"#444",background:C?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(l)}`)}catch(l){console.log("readasQRCodeFromString: ",l),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${l}`})}}CreateGodotIFrame(u,l,y="",f=!1){var b=this;let D=!1;return new Promise(function(){var B=(0,g.c)(function*(F){let j=function(){var I=(0,g.c)(function*(){try{if("godot"!=window.godot)throw"No godot";if(y&&!b.godot_window[y])throw"No act ready";D=!0,yield b.indexed.GetGodotIndexedDB(),F()}catch{setTimeout(()=>{j()},1e3)}});return function(){return I.apply(this,arguments)}}();b.godot_window&&b.godot_window.quit_godot&&b.godot_window.quit_godot(),b.godot_splash&&b.godot_splash.remove(),b.godot&&b.godot.remove(),window.godot="";let k=document.createElement("iframe");k.id="godot",k.setAttribute("src","assets/html/index.html"),k.setAttribute("frameborder","0"),k.setAttribute("class","full_screen"),k.setAttribute("allow","fullscreen; encrypted-media"),k.setAttribute("scrolling","no"),k.setAttribute("withCredentials","true"),"content_viewer_canvas"==u&&(l.create_thumbnail_p5=function(){var I=(0,g.c)(function*(M,q=void 0){new Fe(K=>{K.setup=()=>{K.noCanvas(),K.pixelDensity(1),K.loadImage("data:image/png;base64,"+M,function(){var Y=(0,g.c)(function*(ie){let te=K.createCanvas(ie.width,ie.height);K.image(ie,0,0),K.textSize(16),K.textWrap(K.CHAR);let z=K.height/24;K.push(),K.translate(z/6,z/6),K.fill(0),K.text(b.godot_window.filename,z,z,K.width-2*z,K.height-2*z),K.filter(K.BLUR,3,!1),K.pop(),K.fill(255),K.text(b.godot_window.filename,z,z,K.width-2*z,K.height-2*z);let oe=te.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield b.indexed.saveBase64ToUserPath(oe,`${l.alt_path||l.path}_thumbnail.png`),b.modulate_thumbnail(q,"")}catch(le){console.log("p.saveFrames: ",le)}K.remove()});return function(ie){return Y.apply(this,arguments)}}(),Y=>{console.error("create_thumbnail_load thumbnail failed: ",Y),K.remove()})}})});return function(M){return I.apply(this,arguments)}}());let U=document.getElementById(u);U.appendChild(k),b.godot_window=k.contentWindow||k.contentDocument,Object.keys(l).forEach(I=>b.godot_window[I]=l[I]),b.godot=k,f||(b.godot_splash=new Fe(I=>{let M,q,te,z;I.setup=()=>{let ne=I.createCanvas(U.clientWidth,U.clientHeight);ne.parent(U),ne.style("position: fixed;"),I.imageMode(I.CENTER),I.rectMode(I.CENTER),I.noStroke(),I.CurrentLoaded=0,I.LoadLength=1,b.godot_window.update_load=(ue,we)=>{I.CurrentLoaded=ue,I.LoadLength=we},I.loadImage("assets/icon/favicon.png",ue=>{M=ue}),I.pixelDensity(1),l.background&&I.loadImage(l.background,ue=>{q=ue,ue.width>ue.height?(z=I.height,te=ue.width/ue.height*I.height):(te=I.width,z=ue.height/ue.width*I.width)})};let oe=2,le=0,Ee=C?80:200,W=C?200:80,R=C?40:160;I.draw=()=>{I.clear(255,255,255,255);let ne=I.constrain(255*oe,0,255);I.background(Ee),I.tint(255,ne),q&&I.image(q,I.width/2,I.height/2,te,z),M&&I.image(M,I.width/2,I.height/2),I.push(),I.translate(I.width/2,I.height/2+80),le+=.07,I.rotate(le),I.fill(W,I.constrain(255*oe,0,255)),I.push(),I.translate(-6,-6),I.rotate(2*-le),I.rect(0,0,8,8,2),I.pop(),I.push(),I.translate(6,-6),I.rotate(2*-le),I.rect(0,0,8,8,2),I.pop(),I.push(),I.translate(-6,6),I.rotate(2*-le),I.rect(0,0,8,8,2),I.pop(),I.push(),I.translate(6,6),I.rotate(2*-le),I.rect(0,0,8,8,2),I.pop(),I.pop(),I.push(),I.translate(I.width/2,I.height/2+120),I.stroke(R,ne),I.strokeWeight(3),I.line(-30,0,30,0),I.stroke(W,ne),I.line(-30,0,I.lerp(-30,30,I.CurrentLoaded/I.LoadLength),0),I.pop(),D&&(oe-=.04,oe<=0&&I.remove())},I.windowResized=()=>{I.resizeCanvas(U.clientWidth,U.clientHeight)}})),yield j()});return function(F){return B.apply(this,arguments)}}())}req_file_info(u){var l=this;return(0,g.c)(function*(){return new Promise(function(){var y=(0,g.c)(function*(f){f(yield l.indexed.GetFileInfoFromDB(u))});return function(f){return y.apply(this,arguments)}}())})()}req_file_part_base64(u,l,y){for(var f="",b=new Uint8Array(u.contents.slice(l*x,(l+1)*x)),D=0,B=b.byteLength;D<B;D++)f+=String.fromCharCode(b[D]);let F=btoa(f);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:l}),`${y}.history`),F}save_file_part(u,l,y){this.indexed.saveBase64ToUserPath(","+y,`${u}_part/${l}.part`),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:l}),`${u}.history`)}remove_req_file_info(u,l){delete u.content.transfer_index,this.indexed.removeFileFromUserPath(`${l}.history`)}modulate_thumbnail(u,l){var y=this;return(0,g.c)(function*(){try{let f=yield y.indexed.loadBlobFromUserPath(`${u.path}_thumbnail.png`,"image/png"),b=URL.createObjectURL(f);return u.thumbnail=y.sanitizer.bypassSecurityTrustUrl(b),void setTimeout(()=>{URL.revokeObjectURL(b),l&&URL.revokeObjectURL(l)},100)}catch{}switch(u.viewer){case"image":u.thumbnail=u.url?u.url:y.sanitizer.bypassSecurityTrustUrl(l);break;case"text":if(u.url){let f=yield fetch(u.url).then(b=>b.text());u.text=f.split("\n")}else new Fe(f=>{f.setup=()=>{f.noCanvas(),f.loadStrings(l,b=>{u.text=b,URL.revokeObjectURL(l),f.remove()},b=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",b),u.text=[y.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(l),f.remove()})}})}l&&setTimeout(()=>{URL.revokeObjectURL(l)},100)})()}set_viewer_category(u){try{if(this.set_viewer_category_from_ext(u),"disabled"==u.viewer)if(0==u.type.indexOf("image/"))u.viewer="image";else if(0==u.type.indexOf("audio/"))u.viewer="audio";else if(0==u.type.indexOf("video/"))u.viewer="video";else{if(0!=u.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";u.viewer="text"}}catch(l){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",l,"/ type: ",u.type)}}set_viewer_category_from_ext(u){switch(u.file_ext){case"blend":u.viewer="blender";break;case"pck":u.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":u.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":u.viewer="audio";break;case"mp4":case"ogv":u.viewer="video";break;case"webm":u.type?0==u.type.indexOf("audio/")?u.viewer="audio":0==u.type.indexOf("video/")&&(u.viewer="video"):u.viewer="disabled";break;case"cs":case"c":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"css":case"pl":case"scss":case"json":u.viewer="code";break;case"md":case"csv":case"prop":case"conf":case"log":case"txt":case"yml":case"gitignore":u.viewer="text";break;case"pdf":u.viewer="pdf";break;default:u.viewer="disabled"}}GetBase64ThroughFileReader(u){return new Promise((l,y)=>{var f;let b=new FileReader;b=null!==(f=b._realReader)&&void 0!==f?f:b,b.onload=D=>{l(D.target.result.replace(/"|\\|=/g,""))},b.onerror=D=>{y(D)},b.readAsDataURL(u)})}Base64ToBlob(u,l=""){let y=atob(u.split(",")[1]),f=new ArrayBuffer(y.length),b=new Int8Array(f);for(let B=0,F=y.length;B<F;B++)b[B]=y.charCodeAt(B);return new Blob([b],{type:l})}upload_file_to_storage(u,l,y,f,b,D){var B=this;return(0,g.c)(function*(){let F;F=D||(yield B.loadingCtrl.create({message:B.lang.text.Settings.TryToFallbackFS})),F.present();let j=new FormData,k=(new Date).getTime(),U=u.filename.substring(0,u.filename.lastIndexOf(".")),T=`${l}_${U}_${k}.${u.file_ext}`,I=new File([u.blob],T);j.append("files",I);let q,M=!1;b&&(q=yield B.try_upload_to_user_custom_fs(u,l,j,F)),F.message=B.lang.text.GlobalAct.CheckCdnServer;try{if(q)throw M=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";q=`${y}//${f}:9002/cdn/${T}`;let K=new Headers;K.append("Access-Control-Allow-Origin","*"),K.append("Access-Control-Allow-Method","*"),K.append("Access-Control-Allow-Headers","*");let Y=setInterval((0,g.c)(function*(){let te=yield fetch(`${y}//${f}:9001/filesize/${T}`,{method:"POST",headers:K}),z=Number(yield te.text()),oe=Math.floor(z/u.size*100);F.message=`${u.filename}: ${oe}%`}),700);yield fetch(`${y}//${f}:9001/${T}`,{method:"POST",headers:K,body:j}),clearInterval(Y),(yield fetch(q)).ok&&(M=!0)}catch(K){F.message=B.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",K)}return F.dismiss(),M?q:void 0})()}remove_file_from_storage(u){return(0,g.c)(function*(){let l=u.split("/cdn/"),y=l.pop(),f=l.shift(),b=f.lastIndexOf(":");b>5&&(f=f.substring(0,b));let D=new Headers;D.append("Access-Control-Allow-Origin","*"),D.append("Access-Control-Allow-Method","*"),D.append("Access-Control-Allow-Headers","*"),yield fetch(`${f}:9001/remove/${y}`,{method:"POST",headers:D})})()}remove_files_from_storage_with_key(u,l){return(0,g.c)(function*(){let y=u.lastIndexOf(":");y>5&&(u=u.substring(0,y));let f=new Headers;f.append("Access-Control-Allow-Origin","*"),f.append("Access-Control-Allow-Method","*"),f.append("Access-Control-Allow-Headers","*"),yield fetch(`${u}:9001/remove_key/${l}`,{method:"POST",headers:f})})()}try_upload_to_user_custom_fs(u,l,y,f){var b=this;return(0,g.c)(function*(){let D;D=f||(yield b.loadingCtrl.create({message:b.lang.text.Settings.TryToFallbackFS}));let B=(new Date).getTime(),F=u.filename.substring(0,u.filename.lastIndexOf(".")),j=`${l}_${F}_${B}.${u.file_ext}`;if(!y){y=new FormData;let I=new File([u.blob],j);y.append("files",I)}let k,T,U=localStorage.getItem("fallback_fs");try{if(!U)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let I=U.split(":"),q=I[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:";k=`${q}//${I[0]}:${I[1]||9002}/cdn/${j}`;let K=new Headers;K.append("Access-Control-Allow-Origin","*"),K.append("Access-Control-Allow-Method","*"),K.append("Access-Control-Allow-Headers","*"),T=setInterval((0,g.c)(function*(){let ie=yield fetch(`${q}//${I}:9001/filesize/${j}`,{method:"POST",headers:K}),te=Number(yield ie.text()),z=Math.floor(te/u.size*100);f.message=`${u.filename}: ${z}%`}),700),yield fetch(`${q}//${I[0]}:9001/${j}`,{method:"POST",headers:K,body:y}),clearInterval(T);let Y=yield fetch(k);if(f||D.dismiss(),Y.ok)return k}catch{return clearInterval(T),void(f||D.dismiss())}})()}load_blender_file(u,l,y,f,b){var D=this;return new Fe(B=>{let T,F=[],j=[],U={};B.setup=(0,g.c)(function*(){let M,I=B.createCanvas(u.clientWidth,u.clientHeight,B.WEBGL);I.parent(u),B.canvas=I,B.textureMode(B.NORMAL),B.textureWrap(B.REPEAT),B.clear(255,255,255,0),B.pixelDensity(1);try{M=yield D.indexed.loadBlobFromUserPath(l.path,l.type||"")}catch{try{M=yield(yield fetch(l.url)).blob()}catch(Y){console.log("\ubdf0\uc5b4\uc5d0\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",Y),b()}}let q=B.createElement("iframe");q.elt.id="jsBlend",q.elt.setAttribute("src","assets/js.blend/index.html"),q.elt.setAttribute("frameborder","0"),q.elt.setAttribute("class","full_screen"),q.elt.setAttribute("allow","fullscreen; encrypted-media"),q.elt.setAttribute("scrolling","no"),q.elt.setAttribute("withCredentials","true"),q.hide(),u.appendChild(q.elt),q.elt.contentWindow.TARGET_FILE=M,q.elt.onload=(0,g.c)(function*(){if(!M)return D.p5toast.show({text:D.lang.text.ContentViewer.CannotOpenText}),void(y&&y.dismiss());T=B.createDiv(),T.parent(u),T.id("logDiv"),T.style("position","absolute"),T.style("top","0"),T.style("left","0"),T.style("width","100%"),T.style("height","100%"),T.style("max-height",`${u.clientHeight}px`),T.style("pointer-events","none");let K=yield q.elt.contentWindow.JSBLEND(M);const Y=100;let ie=K.file.AB;if(K.file.objects.PackedFile)for(let We=0,Oe=K.file.objects.PackedFile.length;We<Oe;We++){let Pe=K.file.objects.PackedFile[We],$e=Pe.data.__data_address__,Qe=ie.slice($e,$e+Pe.size),tt=new Blob([Qe]),_t=URL.createObjectURL(tt);B.loadImage(_t,gt=>{U[Pe.data.__data_address__]=gt,URL.revokeObjectURL(_t)},gt=>{console.log("\ud14d\uc2a4\uccd0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",gt),URL.revokeObjectURL(_t)})}let te=K.file.objects.vec2f,z=0,oe=K.file.objects.Mesh,le=K.file.objects.vec3f,Ee=0,W=K.file.objects.vec2i,R=0;for(let We=0,Oe=K.file.objects.Object.length;We<Oe;We++){let Pe=K.file.objects.Object[We];y&&(y.message=`${D.lang.text.ContentViewer.ReadObject}: ${Pe.aname}`);let $e=B.createVector(-Pe.loc[0]*Y,-Pe.loc[2]*Y,Pe.loc[1]*Y),ke=B.createVector(Pe.rot[0],Pe.rot[2],-Pe.rot[1]);switch(Pe.type){case 1:{{let Je=["noimp","colonly","convcolonly","navmesh"],ut=!1;for(let Rt=0,Ze=Je.length;Rt<Ze;Rt++)if(-1!==Pe.aname.indexOf(Je[Rt],Pe.aname.length-Je[Rt].length)){ut=!0;break}if(ut||(ut=448==Pe.base_flag),ut)continue}let tt,_t,gt,xt,Qe=null;for(let Je=0,ut=oe.length;Je<ut;Je++)if(oe[Je].address==Pe.data.address){Qe=Je;break}try{let Je=-1;for(let ut=0,Rt=te.length;ut<Rt;ut++)if(te[ut].address&&(Je++,Je==Qe)){z=ut;break}}catch{}try{let Je=-1,ut=!1,Rt=le.length;for(let Ze=0;Ze<Rt;Ze++)if(le[Ze].address){if(Je++,ut){tt=le.slice(Ee,Ze);break}Je==Qe&&(Ee=Ze,ut=!0)}tt||(tt=le.slice(Ee,Rt))}catch{}try{let Je=-1,ut=!1,Rt=W.length;for(let Ze=0;Ze<Rt;Ze++)if(W[Ze].address){if(Je++,ut){_t=W.slice(R,Ze);break}Je==Qe&&(R=Ze,ut=!0)}_t||(_t=W.slice(R,Rt))}catch{}if(Pe.data.ldata.layers.length)for(let Je=0,ut=Pe.data.ldata.layers.length;Je<ut;Je++)11===Pe.data.ldata.layers[Je].type&&(xt=Pe.data.ldata.layers[Je].data);else xt=Pe.data.ldata.layers.data;B.beginGeometry(),B.push(),B.translate($e),B.scale(Pe.size[0],Pe.size[2],Pe.size[1]),Pe.rot[0]+Pe.rot[1]+Pe.rot[2]&&(T.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Pe.aname}: ${D.lang.text.ContentViewer.MayGimbalLock}</div>`,B.rotate(B.HALF_PI,ke));try{let Je=[];for(let ut=0,Rt=tt.length;ut<Rt;ut++)Je.push([]);for(let ut=0,Rt=_t.length;ut<Rt;ut++){var ne,ue;let Ze=null!==(ne=_t[ut].x)&&void 0!==ne?ne:_t[ut].v1,Dt=null!==(ue=_t[ut].y)&&void 0!==ue?ue:_t[ut].v2;Je[Ze].push(Dt),Je[Dt].push(Ze)}for(let Ze,Dt,Rt=xt.length-1;Rt>=0;Rt--){var we,je,Be;let pt=xt[Rt].i,Re=null!==(we=tt[pt].x)&&void 0!==we?we:tt[pt].co[0],Ne=null!==(je=tt[pt].y)&&void 0!==je?je:tt[pt].co[1],Me=null!==(Be=tt[pt].z)&&void 0!==Be?Be:tt[pt].co[2];if(void 0!==Dt){try{if(!Je[Dt].includes(pt))throw"\ub9c8\uc9c0\ub9c9 \uc810\uc73c\ub85c\ubd80\ud130 \uadf8\ub9b4 \uc218 \uc5c6\uc74c";B.vertex(-Re*Y,-Me*Y,Ne*Y,te[z+Rt].x,-te[z+Rt].y);let vt=!1;if(Dt!=Ze&&(vt=Je[pt].includes(Ze)),vt)throw"\ub3cc\uc544\uac08 \uc218 \uc788\ub294\ub370 \ub3cc\uc544\uac00\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc0c8 \uc2dc\uc791\uc810\uc73c\ub85c \uc778\uc2dd"}catch{B.endShape(B.CLOSE),Dt=void 0;continue}Dt=pt}else B.beginShape(),B.vertex(-Re*Y,-Me*Y,Ne*Y,te[z+Rt].x,-te[z+Rt].y),Ze=pt,Dt=pt}}catch(Je){console.log("\uba54\uc26c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Je),T.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Pe.aname}: ${D.lang.text.ContentViewer.LoadMeshFailed}: ${Je}</div>`}B.pop(),gt=B.endGeometry();let Ot,jt,Tt,ge=0;try{if(!Pe.data.mat.length)throw"no_mat";for(let Je=0,ut=Pe.data.mat.length;Je<ut;Je++){try{let Rt=Pe.data.mat[Je].nodetree.nodes.first.next.inputs.first.default_value.value;jt=B.color(255*Rt[0],255*Rt[1],255*Rt[2],255*Rt[3])}catch(Rt){console.log("\ubca0\uc774\uc2a4 \uc0c9\uc0c1 \uac00\uc838\uc624\uae30 \uc2e4\ud328: ",Rt),T.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Pe.aname}: ${D.lang.text.ContentViewer.FailedGetBaseColor}: ${Rt}</div>`}try{let Rt=Pe.data.mat[Je].nodetree.nodes.first.next.inputs.last.prev.default_value.value;ge=Pe.data.mat[Je].nodetree.nodes.first.next.inputs.last.default_value.value,Tt=B.color(255*Rt[0],255*Rt[1],255*Rt[2],255*Rt[3])}catch(Rt){T.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Pe.aname}: ${D.lang.text.ContentViewer.FailedGetEmitColor}: ${Rt}</div>`}if(Pe.data.mat[Je].nodetree.nodes.last.id){let Rt=Pe.data.mat[Je].nodetree.nodes.last.id.packedfile;if(!Rt)throw"unpacked";Ot=Rt.data.__data_address__}}}catch(Je){switch(Je){case"unpacked":T.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Pe.aname}: ${D.lang.text.ContentViewer.LinkedTexFile}</div>`;break;case"no_mat":T.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${Pe.aname}: ${D.lang.text.ContentViewer.NoMaterial}</div>`;break;default:console.log(Pe.aname,"_\uc7ac\uc9c8 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Je),T.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Pe.aname}: ${Je}</div>`}}gt.computeNormals(),j.push({id:Pe.data.address,name:Pe.data.aname,color:jt,emissionColor:Tt,emissionStrength:ge,texture:Ot,mesh:gt})}break;case 10:F.length<5?(T.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Pe.aname}: ${D.lang.text.ContentViewer.OnWorkReadLightMode}</div>`,F.push({type:"point",loc:$e,rot:ke,color:B.color(255,255,255)})):T.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${Pe.aname}: ${D.lang.text.ContentViewer.ReachLightLimit}</div>`}yield new Promise(Qe=>setTimeout(Qe,0))}y&&y.dismiss(),setTimeout(()=>{T.elt.remove()},8e3),f()}),B.camera(0,0,-B.height/2/B.tan(30*B.PI/180),0,0,0,0,1,0)}),B.draw=()=>{if(B.clear(255,255,255,0),B.orbitControl(),F.length)for(let I=0,M=F.length;I<M;I++)"point"===F[I].type&&B.pointLight(F[I].color,F[I].loc);else B.directionalLight(128,128,128,-1,1,1);B.ambientLight(128);for(let I=0,M=j.length;I<M;I++)B.push(),j[I].texture?(B.noStroke(),U[j[I].texture]&&B.texture(U[j[I].texture])):j[I].color&&(B.noStroke(),B.ambientMaterial(j[I].color)),j[I].emissionStrength&&(B.noStroke(),B.emissiveMaterial(j[I].emissionColor)),B.model(j[I].mesh),B.pop()},B.windowResized=()=>{setTimeout(()=>{u.style.maxHeight=window.innerHeight-56-45+"px",T&&T.style("max-height",`${u.clientHeight}px`),B.resizeCanvas(u.clientWidth,u.clientHeight)},50)}})}}return(a=h).\u0275fac=function(u){return new(u||a)(V.CoB(w.O),V.CoB(_.o),V.CoB(d.mI),V.CoB(p.k),V.CoB(m.Kg))},a.\u0275prov=V.wxM({token:a,factory:a.\u0275fac,providedIn:"root"}),h})()},4668:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{k:()=>o});var g=fe(1528),Ce=fe(4496),st=fe(3824),Fe=fe(4500);let o=(()=>{var V;class w{constructor(d,p){this.p5toast=d,this.lang=p}initialize(d=(()=>{})){if(this.ionicDB)return;let p=indexedDB.open("/ionicfs",10);p.onsuccess=m=>{m.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=s=>{this.ionicDB=s.target.result,d()}},p.onupgradeneeded=m=>{m.target.result.createObjectStore("FILE_DATA")},p.onerror=m=>{indexedDB.open("/ionicfs",11).onsuccess=x=>{this.ionicDB=x.target.result,d()}}}GetGodotIndexedDB(){var d=this;return(0,g.c)(function*(){if(!d.godotDB)return new Promise((p,m)=>{let C=indexedDB.open("/userfs",21);C.onsuccess=x=>{d.godotDB=C.result,p(void 0)},C.onerror=x=>{console.error("IndexedDB initialized failed: ",x),m(x)}})})()}createRecursiveDirectory(d,p=this.ionicDB){let m=d.lastIndexOf("/"),C=d.substring(0,m);C&&this.checkIfFileExist(C,x=>{let s=p.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${C}`);s.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",d),this.createRecursiveDirectory(C,p)},s.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a)}})}createDirectory(d){return new Promise((p,m)=>{this.checkIfFileExist(d,C=>{let x=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${d}`);x.onsuccess=s=>{"success"!=s.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",d),p(void 0)},x.onerror=s=>{console.error("IndexedDB createRecursiveDirectory failed: ",s),m(s)}})})}saveTextFileToUserPath(d,p,m=(x=>{}),C=this.ionicDB){return this.createRecursiveDirectory(p,C),new Promise((x,s)=>{let a=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(d)},`/userfs/${p}`);a.onsuccess=h=>{"success"!=h.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),m(h),x(h)},a.onerror=h=>{s(h)}})}saveBase64ToUserPath(d,p,m=(x=>{}),C=this.ionicDB){return new Promise((x,s)=>{let a=atob(d.split(",")[1]),h=new ArrayBuffer(a.length),c=new Int8Array(h);for(let l=0,y=a.length;l<y;l++)c[l]=a.charCodeAt(l);this.createRecursiveDirectory(p,C);let u=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:c},`/userfs/${p}`);u.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),m(c),x(c)},u.onerror=l=>{s(l)}})}saveInt8ArrayToUserPath(d,p,m=this.ionicDB){return new Promise((C,x)=>{this.createRecursiveDirectory(p,m);let s=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:d},`/userfs/${p}`);s.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),C()},s.onerror=a=>{x(a)}})}saveBlobToUserPath(d,p,m=(x=>{}),C=this.ionicDB){var x=this;return new Promise(function(){var s=(0,g.c)(function*(a,h){let c;try{let l=yield d.arrayBuffer();c=new Int8Array(l)}catch(l){h(l)}x.createRecursiveDirectory(p,C);let u=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:c},`/userfs/${p}`);u.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),m(c),a(c)},u.onerror=l=>{h(l)}});return function(a,h){return s.apply(this,arguments)}}())}saveFileToUserPath(d,p,m=(x=>{}),C=this.ionicDB){return this.createRecursiveDirectory(p,C),new Promise((x,s)=>{let a=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(d,`/userfs/${p}`);a.onsuccess=h=>{"success"!=h.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),m(h),x(h)},a.onerror=h=>{s(h)}})}checkIfFileExist(d,p=(C=>{}),m=this.ionicDB){return new Promise((C,x)=>{let s=m.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${d}`);s.onsuccess=a=>{let h=a.target.result;p(h),C(h)},s.onerror=a=>{x(a)}})}GetFileListFromDB(d,p=(C=>{}),m=this.ionicDB){let C=m.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((x,s)=>{C.onsuccess=a=>{const h=a.target.result;for(let c=h.length-1;c>=0;c--)h[c].includes(d)?h[c]=h[c].substring(8):h.splice(c,1);p(h),x(h)},C.onerror=a=>{s(a)}})}GetFileInfoFromDB(d,p=(C=>{}),m=this.ionicDB){let C=m.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${d}`);return new Promise((x,s)=>{C.onsuccess=a=>{const h=a.target.result;p(h),x(h)},C.onerror=a=>{s(a)}})}loadTextFromUserPath(d,p=((C,x)=>{}),m=this.ionicDB){return new Promise(C=>{let x=m.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${d}`);x.onsuccess=s=>{if(s.target.result){let a=(new TextDecoder).decode(s.target.result.contents);p(!0,a),C(a)}else p(!1,`No file: , ${d}`),C(void 0)},x.onerror=s=>{console.error("IndexedDB loadTextFromUserPath failed: ",s),C(void 0)}})}loadBlobFromUserPath(d,p,m=(x=>{}),C=this.ionicDB){let x=C.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${d}`);return new Promise((s,a)=>{x.onsuccess=h=>{try{let c=new Blob([h.target.result.contents],{type:p});m(c),s(c)}catch(c){a(c)}},x.onerror=h=>{a(h)}})}DownloadFileFromUserPath(d,p,m,C=this.ionicDB){let x=C.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${d}`);x.onsuccess=s=>{try{let a=new Blob([s.target.result.contents],{type:p}),h=URL.createObjectURL(a),c=document.createElement("a");c.download=m,c.href=h,document.body.appendChild(c),c.click(),document.body.removeChild(c),c.remove(),URL.revokeObjectURL(h),this.p5toast.show({text:this.lang.text.ContentViewer.fileSaved})}catch(a){console.error("DownloadFileFromUserPath: ",a),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${a}`})}},x.onerror=s=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",s)}}removeFileFromUserPath(d,p=(C=>{}),m=this.ionicDB){let C=m.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${d}`);return new Promise((x,s)=>{C.onsuccess=a=>{p(a),x(a)},C.onerror=a=>{s(a)}})}}return(V=w).\u0275fac=function(d){return new(d||V)(Ce.CoB(st.O),Ce.CoB(Fe.o))},V.\u0275prov=Ce.wxM({token:V,factory:V.\u0275fac,providedIn:"root"}),w})()},4500:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{o:()=>Fe});var g=fe(9352),st=fe(4496);let Fe=(()=>{var o;class V{constructor(){this.text={Front:{},Portal:{},Main:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{},MinimalChat:{}},this.isFirstTime=!0,this.lang=navigator.language.split("-")[0];let _=localStorage.getItem("lang");_&&(this.lang=_),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){new g(_=>{_.setup=()=>{_.noCanvas(),_.loadTable("assets/data/translate.csv","csv","header",d=>{let p;d.columns.includes(this.lang)||(this.lang="en"),localStorage.setItem("lang",this.lang);for(let m=0,C=d.rows.length;m<C;m++)"#"==d.rows[m].obj["#"].charAt(0)?(p=d.rows[m].obj["#"].substring(3),this.text[p]||(this.text[p]={})):this.text[p][d.rows[m].obj["#"]]=d.rows[m].obj[this.lang];this.isFirstTime&&this.Callback_nakama(),_.remove()},d=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",d),_.remove()})}})}}return(o=V).\u0275fac=function(_){return new(_||o)},o.\u0275prov=st.wxM({token:o,factory:o.\u0275fac,providedIn:"root"}),V})()},6884:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{a:()=>st});var g=fe(5193),Ce=fe(4496);let st=(()=>{var Fe;class o{constructor(){this.users={},this.funcs={onStart:w=>console.warn("onStart \ud568\uc218 \uc5c6\uc74c: ",w),onCheck:w=>console.warn("onCheck \ud568\uc218 \uc5c6\uc74c: ",w),onFailed:w=>console.error("onFailed \ud568\uc218 \uc5c6\uc74c: ",w)}}initialize(){"DesktopPWA"!=g.s1&&"MobilePWA"!=g.s1?(this.server||(this.server=cordova.plugins.wsserver),this.server.start(12011,{onFailure:(_,d,p)=>{this.funcs.onFailed(`Stopped listening on ${_}:${d}. Reason: ${p}`)},onOpen:_=>{this.users[_.uuid]={address:this.users[_.remoteAddr]},Object.keys(this.users).forEach(d=>{this.send_to(d,`Counter:${Object.keys(this.users).length}`)})},onMessage:(_,d)=>{let p=d;try{p=JSON.parse(d),"join"==p.type&&(this.users[_.uuid].uid=p.uid,this.users[_.uuid].name=p.name),p.uid=_.uuid,p=JSON.stringify(p)}catch(m){console.error(`json \ubcc0\ud658 \uc624\ub958_${d}: ${m}`)}Object.keys(this.users).forEach(m=>{this.send_to(m,p)})},onClose:(_,d,p,m)=>{let C=this.users[_.uuid].name;delete this.users[_.uuid];let x={uid:_.uuid,name:C,type:"leave",count:Object.keys(this.users).length},s=JSON.stringify(x);Object.keys(this.users).forEach(a=>{this.send_to(a,s)})},origins:[],protocols:[],tcpNoDelay:!0},(_,d)=>{this.funcs.onStart("")},_=>{this.funcs.onFailed(`Did not start. Reason: ${_}`)})):this.funcs.onFailed("Did not start. Reason: \ud50c\ub7ab\ud3fc \ubd88\uc77c\uce58: \uc0ac\uc124 \uc11c\ubc84 \uad6c\ucd95 \ucde8\uc18c")}check_addresses(){"DesktopPWA"!=g.s1&&"MobilePWA"!=g.s1&&(this.server||(this.server=cordova.plugins.wsserver),this.server.getInterfaces(w=>{this.funcs.onCheck(w)}))}disconnect_peer(w,_=4e3,d="EMPTY"){this.server.close({uuid:w},_,d)}stop(){"DesktopPWA"!=g.s1&&"MobilePWA"!=g.s1&&this.server.stop((w,_)=>{this.funcs.onFailed(`Stopped listening on ${_}`)})}send_to(w,_){this.server.send({uuid:w},_)}}return(Fe=o).\u0275fac=function(w){return new(w||Fe)},Fe.\u0275prov=Ce.wxM({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),o})()},6819:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{s:()=>w});var g=fe(1528),Ce=fe(5193),st=fe(4496),Fe=fe(6928),o=fe(1028),V=fe(4668);let w=(()=>{var _;class d{constructor(m,C,x){this.noti=m,this.bgmode=C,this.indexed=x,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={},this.listeners={}}change_silent_settings(m){this.settings.silent[m]=!this.settings.silent[m],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(m,C)=>{m&&C&&(this.settings=JSON.parse(C)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){var m=this;return(0,g.c)(function*(){("DesktopPWA"==Ce.s1||"MobilePWA"==Ce.s1)&&("Notification"in window||console.error("Notification \ubbf8\uc9c0\uc6d0 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4"),Notification.requestPermission().then(C=>{"granted"!=C&&console.log("\uc54c\ub9bc \uac70\uc808",C)},C=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800:",C)})),m.ClearNoti(11)})()}PushLocal(m,C="favicon",x=(()=>{})){if("DesktopPWA"==Ce.s1||"MobilePWA"==Ce.s1){if(document.hasFocus()&&this.Current==C||m.triggerWhen_ln)return;const s={badge:`${m.badge}`,body:m.body,icon:`assets/icon/${m.icon||m.smallIcon_ln||C||"favicon"}.png`,image:m.image,lang:m.lang_wn,silent:!this.settings.silent[m.icon||m.smallIcon_ln]||!1,tag:m.tag_wn,actions:m.actions_wn,data:m.data_wn,renotify:m.renotify_wn,requireInteraction:m.requireInteraction_wn,dir:m.dir_wn};if("DesktopPWA"==Ce.s1)this.WebNoties[m.id]&&(this.WebNoties[m.id].close(),delete this.WebNoties[m.id]),this.WebNoties[m.id]=new Notification(m.title,{...s}),this.WebNoties[m.id].onclick=()=>{x(),window.focus(),this.WebNoties[m.id].close()};else if(window.swReg&&window.swReg.active){if(this.WebNoties[m.id]){try{this.WebNoties[m.id].close()}catch{}delete this.WebNoties[m.id]}try{this.WebNoties[m.id]=window.swReg.showNotification(m.title,{...s})}catch{}try{this.WebNoties[m.id].onclick=()=>{x(),window.focus(),this.WebNoties[m.id].close()}}catch{}}}else{if(!this.bgmode.isActive()&&this.Current==C)return;let s={};s.id=m.id,s.title=m.title,m.body&&(s.text=m.body),m.actions_ln&&(s.actions=m.actions_ln),m.autoCancel_ln&&(s.autoClear=m.autoCancel_ln),m.launch_ln&&(s.launch=m.launch_ln),m.badge&&(s.badge=m.badge),m.image&&(s.attachments=[m.image]),m.clock_ln&&(s.clock=m.clock_ln),m.iconColor_ln&&(s.color=m.iconColor_ln||"ffd94e"),m.extra_ln&&(s.data=m.extra_ln),m.group_ln&&(s.group=m.group_ln),m.groupSummary_ln&&(s.groupSummary=m.groupSummary_ln),m.groupSummaryText_ln&&(s.summary=m.groupSummaryText_ln),m.led_ln&&(s.led=m.led_ln),m.lockscreen_ln&&(s.lockscreen=m.lockscreen_ln),m.mediaSesion_ln&&(s.mediaSession=m.mediaSesion_ln),m.number_ln&&(s.number=m.number_ln),m.progressBar_ln&&(s.progressBar=m.progressBar_ln),m.priority_ln&&(s.priority=m.priority_ln),s.silent=!this.settings.silent[m.smallIcon_ln]||!1,m.timeoutAfter_ln&&(s.timeoutAfter=m.timeoutAfter_ln),m.wakeup_ln&&(s.wakeup=m.wakeup_ln),m.ongoing_ln&&(s.sticky=m.ongoing_ln),m.triggerWhen_ln&&(s.trigger=m.triggerWhen_ln),m.vibrate_ln&&(s.vibrate=m.vibrate_ln),m.icon&&(s.icon=m.icon),s.smallIcon=`res://${m.smallIcon_ln||C||"icon_mono"}`,s.sound=`res://${m.sound_ln||"platform_default"}`,s.foreground=!0,this.noti.schedule(s)}}GetNotificationIds(m=(C=>{})){"DesktopPWA"==Ce.s1||"MobilePWA"==Ce.s1||this.noti.getScheduledIds().then(C=>{m(C)})}ClearNoti(m){setTimeout(()=>{"DesktopPWA"==Ce.s1?this.WebNoties[m]&&this.WebNoties[m].close():"MobilePWA"!=Ce.s1&&this.noti.clear(m)},1e3)}SetListener(m,C=((x,s)=>console.warn(`${m}: ${x}/${s}`))){"DesktopPWA"==Ce.s1||"MobilePWA"==Ce.s1||(this.listeners[m]=(x,s)=>{C(x,s)},cordova.plugins.notification.local.on(m,this.listeners[m]))}RemoveListener(m){"DesktopPWA"==Ce.s1||"MobilePWA"==Ce.s1||(cordova.plugins.notification.local.un(m,this.listeners[m]),delete this.listeners[m])}}return(_=d).\u0275fac=function(m){return new(m||_)(st.CoB(Fe.G8),st.CoB(o.Y),st.CoB(V.k))},_.\u0275prov=st.wxM({token:_,factory:_.\u0275fac,providedIn:"root"}),d})()},6124:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{_:()=>Ee});var g=fe(1528),Ce=fe(6928),st=fe(5193),Fe=fe(5020),o=fe(2272),V=fe(8744),w=fe(4496),_=fe(9352),d=fe(5624),p=fe(7136);let m=(()=>{var W;class R{constructor(ue,we,je){this.modalCtrl=ue,this.nakama=we,this.global=je,this.client={},this.status={dedicated_groupchat:"idle"},this.userInput={dedicated_groupchat:{logs:[],text:"",last_message:{}}},this.ConnectedNow={dedicated_groupchat:0},this.funcs={dedicated_groupchat:{onopen:Be=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",Be),onclose:Be=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",Be),onmessage:Be=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",Be)}},this.FFS_Urls=[],this.DownloadPartManager={},this.cacheAddress="",this.IsConnected=!1}initialize(ue,we){this.cacheAddress=we,this.client[ue]=new WebSocket(`${we}:12011`),this.client[ue].onopen=Be=>{this.funcs[ue].onopen(Be),this.IsConnected=!0},this.client[ue].onclose=Be=>{this.funcs[ue].onclose(Be),this.IsConnected=!1},this.client[ue].onerror=Be=>{console.error("MiniranchatClientService \uc624\ub958 \ubc1c\uc0dd: ",Be)},this.client[ue].onmessage=Be=>{"string"==typeof Be.data?this.funcs[ue].onmessage(Be.data):Be.data.text().then(We=>{this.funcs[ue].onmessage(We)})}}send(ue,we){this.client?this.client[ue].send(we):console.warn("client \uc5f0\uacb0\ub418\uc5b4\uc788\uc9c0 \uc54a\uc74c: \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \ucde8\uc18c: ",we)}CreateRejoinButton(){this.p5canvas&&this.p5canvas.remove(),this.p5canvas=new _(ue=>{ue.noCanvas(),ue.setup=()=>{let we=ue.createDiv('<ion-icon style="width: 36px; height: 36px" name="chatbox-ellipses-outline"></ion-icon>');we.style("position: absolute; right: 0; bottom: 56px; z-index: 1"),we.style("width: 64px; height: 64px"),we.style("text-align: center; align-content: center"),we.style("cursor: pointer"),we.style("margin: 16px"),we.style("padding-top: 6px"),we.style("background-color: #8888"),we.style("border-radius: 24px"),ue.OnDediMessage=je=>{we.style(`background-color: #${je}88`)},we.elt.onclick=()=>{this.modalCtrl.create({component:Ee,componentProps:{address:this.cacheAddress,name:this.nakama.users.self.display_name}}).then(je=>{let Be=this.global.p5key.KeyShortCut;this.global.p5key.KeyShortCut={},je.onDidDismiss().then(()=>{this.global.p5key.KeyShortCut=Be}),je.present()})}}})}disconnect(ue,we=1e3,je="user_close"){this.client&&this.client[ue].close(we,je),this.IsConnected=!1,this.p5canvas&&this.p5canvas.remove()}}return(W=R).\u0275fac=function(ue){return new(ue||W)(w.CoB(d.qS),w.CoB(p.h),w.CoB(Fe.A1))},W.\u0275prov=w.wxM({token:W,factory:W.\u0275fac,providedIn:"root"}),R})();var C=fe(9240),x=fe(8268),s=fe(6819),a=fe(4476),h=fe(4180),c=fe(4500),u=fe(6884),l=fe(7756),y=fe(3824),f=fe(4668),b=fe(1368),D=fe(4716);const B=["minimalchat_input"];function F(W,R){if(1&W&&(w.I0R(0,"ion-select-option"),w.OEk(1),w.C$Y()),2&W){const ne=R.$implicit;w.yG2(),w.oRS("",ne.key+" ("+ne.address+")"," ")}}function j(W,R){if(1&W){const ne=w.KQA();w.I0R(0,"ion-select",21),w.qCj("ionChange",function(we){w.usT(ne);const je=w.GaO(3);return w.CGJ(je.SelectOtherAddress(we))}),w.yuY(1,F,2,1,"ion-select-option",9),w.C$Y()}if(2&W){const ne=w.GaO(3);w.E7m("label",ne.lang.text.MinimalChat.shareAddress)("placeholder",ne.lang.text.MinimalChat.selectNetwork),w.yG2(),w.E7m("ngForOf",ne.addresses)}}function k(W,R){if(1&W&&(w.I0R(0,"ion-item-divider"),w.yuY(1,j,2,3,"ion-select",20),w.C$Y()),2&W){const ne=w.GaO(2);w.yG2(),w.E7m("ngIf",ne.isLocalAddress&&ne.isMobileApp)}}function U(W,R){if(1&W){const ne=w.KQA();w.I0R(0,"img",22),w.qCj("click",function(){w.usT(ne);const we=w.GaO(2);return w.CGJ(we.copy_qr_address())}),w.C$Y()}if(2&W){const ne=w.GaO(2);w.E7m("src",ne.QRCodeSRC,w.K6U)}}function T(W,R){if(1&W&&(w.I0R(0,"div"),w.yuY(1,k,2,1,"ion-item-divider",8)(2,U,1,1,"img",19),w.C$Y()),2&W){const ne=w.GaO();w.yG2(),w.E7m("ngIf",ne.isLocalAddress),w.yG2(),w.E7m("ngIf",ne.QRCodeSRC)}}function I(W,R){if(1&W&&(w.I0R(0,"font",25),w.OEk(1),w.C$Y()),2&W){const ne=w.GaO().$implicit;w.CI5("color","#",ne.color,""),w.yG2(),w.cNF(" "+ne.text)}}function M(W,R){if(1&W&&(w.I0R(0,"b"),w.OEk(1),w.C$Y()),2&W){const ne=w.GaO(2).$implicit;w.yG2(),w.oRS("",ne.target,":")}}function q(W,R){if(1&W&&(w.I0R(0,"span"),w.OEk(1),w.C$Y()),2&W){const ne=w.GaO().$implicit;w.yG2(),w.cNF(ne.text)}}function K(W,R){if(1&W){const ne=w.KQA();w.I0R(0,"a",28),w.qCj("click",function(){w.usT(ne);const we=w.GaO().$implicit,je=w.GaO(4);return w.CGJ(je.open_url_link(we.text))}),w.OEk(1),w.C$Y()}if(2&W){const ne=w.GaO().$implicit;w.E7m("href",ne.text,w.K6U),w.yG2(),w.cNF(ne.text)}}function Y(W,R){if(1&W&&(w.I0R(0,"span"),w.yuY(1,q,2,1,"span",8)(2,K,2,2,"a",27),w.C$Y()),2&W){const ne=R.$implicit;w.yG2(),w.E7m("ngIf",!ne.href),w.yG2(),w.E7m("ngIf",ne.href)}}function ie(W,R){if(1&W&&(w.I0R(0,"span"),w.yuY(1,Y,3,2,"span",9),w.C$Y()),2&W){const ne=w.GaO(2).$implicit;w.yG2(),w.E7m("ngForOf",ne.text)}}function te(W,R){if(1&W&&(w.I0R(0,"span"),w.OEk(1),w.C$Y()),2&W){const ne=w.GaO(3).$implicit;w.yG2(),w.oRS(" ",ne.Progress," ")}}function z(W,R){if(1&W){const ne=w.KQA();w.I0R(0,"span")(1,"span",29),w.qCj("click",function(){w.usT(ne);const we=w.GaO(2).$implicit,je=w.GaO();return w.CGJ(je.open_file_viewer(we.file.info))}),w.OEk(2),w.C$Y(),w.yuY(3,te,2,1,"span",8),w.C$Y()}if(2&W){const ne=w.GaO(2).$implicit,ue=w.GaO();w.yG2(2),w.cNF(ue.lang.text.ChatRoom.attachments+": "+ne.file.info.filename),w.yG2(),w.E7m("ngIf",ne.Progress)}}function oe(W,R){if(1&W&&(w.I0R(0,"font",26)(1,"font",25),w.yuY(2,M,2,1,"b",8),w.C$Y(),w.yuY(3,ie,2,1,"span",8)(4,z,4,2,"span",8),w.C$Y()),2&W){const ne=w.GaO().$implicit;w.yG2(),w.CI5("color","#",ne.color,""),w.yG2(),w.E7m("ngIf",ne.target),w.yG2(),w.E7m("ngIf",ne.text),w.yG2(),w.E7m("ngIf",ne.file)}}function le(W,R){if(1&W&&(w.I0R(0,"p"),w.yuY(1,I,2,2,"font",23)(2,oe,5,4,"font",24),w.C$Y()),2&W){const ne=R.$implicit;w.yG2(),w.E7m("ngIf",!ne.target),w.yG2(),w.E7m("ngIf",ne.target)}}let Ee=(()=>{var W;class R{constructor(ue,we,je,Be,We,Oe,Pe,$e,ke,Qe,tt,_t,gt){this.client=ue,this.modalCtrl=we,this.device=je,this.noti=Be,this.title=We,this.params=Oe,this.statusBar=Pe,this.lang=$e,this.local_server=ke,this.global=Qe,this.mClipboard=tt,this.p5toast=_t,this.indexed=gt,this.uuid=this.device.uuid,this.Header="ranchat",this.iconColor="d8d8d8",this.lnId=11,this.req_refreshed=!1,this.isCustomDedicated=!1,this.isLocalAddress=!1,this.SelectedAddress="",this.isMobileApp=!1,this.open_this=xt=>{xt.id==this.lnId&&this.modalCtrl.create({component:R,componentProps:{address:this.params.get("address"),name:this.params.get("name")}}).then($t=>$t.present())},this.BackButtonPressed=!1}SelectOtherAddress(ue){var we=this;return(0,g.c)(function*(){let je=ue.detail.value,Be=je.substring(je.indexOf("(")+1,je.indexOf(")"));try{let We=`${location.protocol}//${Be}:8080`;const Oe=new AbortController,Pe=setTimeout(()=>{Oe.abort()},500);let $e=yield fetch(We,{signal:Oe.signal});clearTimeout(Pe),$e.ok&&(we.SelectedAddress=`${location.protocol}//${Be}:8080/www/?group_dedi=${Be}`)}catch{we.SelectedAddress=`http://pjcone.ddns.net/?group_dedi=${Be}`}we.QRCodeSRC=we.global.readasQRCodeFromString(we.SelectedAddress)})()}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}open_url_link(ue){var we=this;return(0,g.c)(function*(){if(0==ue.indexOf("https://is2you2.github.io/pjcone_pwa/?")||0==ue.indexOf("http://pjcone.ddns.net/?")){let je=we.global.CatchGETs(ue)||{};we.global.initialize();try{yield we.global.AddressToQRCodeAct(je)}catch(Be){we.p5toast.show({text:`${we.lang.text.ChatRoom.QRLinkFailed}: ${Be}`})}}else window.open(ue,"_system")})()}ngOnInit(){var ue=this;this.InitBrowserBackButtonOverride(),this.isMobileApp="Android"==st.s1||"iOS"==st.s1,this.local_server.funcs.onCheck=Be=>{let We=Object.keys(Be),Oe=[];We.forEach(Pe=>{Be[Pe].ipv4Addresses.length&&Be[Pe].ipv4Addresses.forEach($e=>{Oe.push({address:$e,key:Pe})}),this.addresses=Oe})},this.client.p5canvas&&this.client.p5canvas.remove(),this.local_server.check_addresses(),this.header_title=this.lang.text.MinimalChat.header_title_ranchat;let we=this.params.get("address");if(this.MyUserName=this.params.get("name"),we&&(this.lnId=12,this.header_title=this.lang.text.MinimalChat.header_title_group,this.client.status.dedicated_groupchat="custom",this.Header="simplechat",this.isCustomDedicated=!0,this.isLocalAddress="ws://127.0.0.1"==we,this.isLocalAddress||(this.SelectedAddress=`${location.protocol}//${location.host}${window.sub_path}?group_dedi=${we.split("ws://").pop()}`,this.QRCodeSRC=this.global.readasQRCodeFromString(this.SelectedAddress))),this.noti.RemoveListener("senddedicated_groupchat"),this.noti.RemoveListener("reconndedicated_groupchat"),this.noti.RemoveListener("exitdedicated_groupchat"),this.noti.ClearNoti(this.lnId),this.title.setTitle(this.lang.text.MinimalChat.WebTitle_group),this.noti.Current=this.Header,this.minimal_chat_log=document.getElementById("minimal_chat_div"),this.minimal_chat_log.onscroll=Be=>{this.minimal_chat_log.scrollHeight==this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight&&this.scroll_down()},document.getElementById("favicon").setAttribute("href","assets/icon/simplechat.png"),!this.client.client.dedicated_groupchat||this.client.client.dedicated_groupchat.readyState!=this.client.client.dedicated_groupchat.OPEN&&(!this.client.p5canvas||!this.client.p5canvas.OnDediMessage)){this.noti.SetListener("senddedicated_groupchat",(We,Oe)=>{this.noti.ClearNoti(We.id),this.send(Oe.text)}),this.noti.SetListener("reconndedicated_groupchat",We=>{this.noti.ClearNoti(We.id)}),this.noti.SetListener("exitdedicated_groupchat",We=>{this.noti.ClearNoti(We.id),this.quit_chat()}),this.reply_act=[{id:"senddedicated_groupchat",type:Ce.kZ.INPUT,title:this.lang.text.MinimalChat.Noti_Reply}],this.client.userInput.dedicated_groupchat.logs.length=0;let Be={color:Fe.Mp?"bbb":"444",text:this.lang.text.MinimalChat.joinChat_group};this.client.userInput.dedicated_groupchat.logs.push(Be),this.client.userInput.dedicated_groupchat.last_message=Be,this.client.initialize("dedicated_groupchat",we)}this.client.funcs.dedicated_groupchat.onmessage=Be=>{try{let We=JSON.parse(Be),Pe=this.uuid==We.uid?this.MyUserName||this.lang.text.MinimalChat.name_me:We.name||this.lang.text.MinimalChat.name_stranger_group,$e=We.uid?(We.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):Fe.Mp?"888888":"444444";if(this.client.p5canvas&&this.client.p5canvas.OnDediMessage&&this.client.p5canvas.OnDediMessage($e),We.msg){let Qe=We.msg.split(" "),tt=[];for(let gt=0,xt=Qe.length;gt<xt;gt++)0==Qe[gt].indexOf("http://")||0==Qe[gt].indexOf("https://")?(tt.push({text:" "}),tt.push({href:!0,text:Qe[gt]})):tt.push({text:" "+Qe[gt]});let _t={color:$e,text:tt,target:Pe};this.client.userInput.dedicated_groupchat.logs.push(_t),this.client.userInput.dedicated_groupchat.last_message=_t}else if(We.type)switch(We.type){case"join":let Qe={color:$e,text:[{text:" "+this.lang.text.MinimalChat.user_join_comment}],target:Pe};this.client.userInput.dedicated_groupchat.logs.push(Qe),this.client.userInput.dedicated_groupchat.last_message=Qe;break;case"leave":let tt={color:$e,text:[{text:" "+this.lang.text.MinimalChat.user_out_comment}],target:Pe};this.client.userInput.dedicated_groupchat.logs.push(tt),this.client.userInput.dedicated_groupchat.last_message=tt;break;case"file":let _t={color:$e,file:We,target:Pe};if(this.client.userInput.dedicated_groupchat.logs.push(_t),this.client.userInput.dedicated_groupchat.last_message=_t,!We.info.url){let gt=We.info;this.indexed.checkIfFileExist(gt.path,xt=>{xt||(this.client.DownloadPartManager[We.uid]||(this.client.DownloadPartManager[We.uid]={}),this.client.DownloadPartManager[We.uid][We.temp_id]||(this.client.DownloadPartManager[We.uid][We.temp_id]=_t),_t.Progress=gt.partsize)})}break;case"part":return void this.indexed.checkIfFileExist(We.path,gt=>{if(!gt){try{this.client.DownloadPartManager[We.uid][We.temp_id].Progress--}catch{}this.indexed.saveBase64ToUserPath(","+We.part,`${We.path}_${We.index}`)}});case"EOF":return void this.indexed.checkIfFileExist(We.path,gt=>{gt||(new Promise(function(){var xt=(0,g.c)(function*($t,Ot){let jt=[],Tt=0;for(let ge=0,Je=We.partsize;ge<Je;ge++)try{let ut=yield ue.indexed.GetFileInfoFromDB(`${We.path}_${ge}`);Tt+=ut.contents.length,jt[ge]=ut}catch(ut){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",ut);break}try{let ge=new Int8Array(Tt),Je=0;for(let ut=0,Rt=jt.length;ut<Rt;ut++)ge.set(jt[ut].contents,Je),Je+=jt[ut].contents.length;yield ue.indexed.saveInt8ArrayToUserPath(ge,We.path);for(let ut=0,Rt=We.partsize;ut<Rt;ut++)ue.indexed.removeFileFromUserPath(`${We.path}_${ut}`);yield ue.indexed.removeFileFromUserPath(`${We.path}.history`)}catch(ge){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",ge),Ot()}$t(void 0)});return function($t,Ot){return xt.apply(this,arguments)}}()),delete this.client.DownloadPartManager[We.uid][We.temp_id].Progress,delete this.client.DownloadPartManager[We.uid][We.temp_id])})}let ke="certified";if(We.count&&(this.client.ConnectedNow.dedicated_groupchat=We.count),We.msg)this.noti.PushLocal({id:this.lnId,title:Pe,body:We.msg,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this);else if(We.type){let Qe="join"==We.type;Qe||(ke="pending"),this.noti.PushLocal({id:this.lnId,title:Qe?this.lang.text.MinimalChat.user_join:this.lang.text.MinimalChat.user_out,body:Pe+` | ${Qe?this.lang.text.MinimalChat.user_join_comment:this.lang.text.MinimalChat.user_out_comment}`,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this)}this.statusBar.settings.dedicated_groupchat=ke,setTimeout(()=>{this.statusBar.settings.dedicated_groupchat==ke&&(this.statusBar.settings.dedicated_groupchat="online")},250)}catch{switch(Be){case"GOT_MATCHED":this.statusBar.settings.dedicated_groupchat="certified",setTimeout(()=>{"certified"==this.statusBar.settings.dedicated_groupchat&&(this.statusBar.settings.dedicated_groupchat="online")},250),this.client.userInput.dedicated_groupchat.logs.length=0;let Oe={color:Fe.Mp?"8bb":"488",text:this.lang.text.MinimalChat.meet_someone};this.client.userInput.dedicated_groupchat.logs.push(Oe),this.client.userInput.dedicated_groupchat.last_message=Oe,this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.meet_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;case"PARTNER_OUT":this.statusBar.settings.dedicated_groupchat="pending",setTimeout(()=>{"pending"==this.statusBar.settings.dedicated_groupchat&&(this.statusBar.settings.dedicated_groupchat="online")},250);let Pe={color:Fe.Mp?"b88":"844",text:this.lang.text.MinimalChat.leave_someone};this.client.userInput.dedicated_groupchat.logs.push(Pe),this.client.userInput.dedicated_groupchat.last_message=Pe,this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.leave_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;default:let $e=Be.split(":");this.client.ConnectedNow.dedicated_groupchat=parseInt($e[1])}}this.auto_scroll_down()},this.client.funcs.dedicated_groupchat.onclose=Be=>{this.statusBar.settings.dedicated_groupchat="missing",setTimeout(()=>{this.statusBar.settings.dedicated_groupchat="offline"},1500);let We={color:"faa",text:this.lang.text.MinimalChat.failed_to_join};this.client.userInput.dedicated_groupchat.logs.push(We),this.client.userInput.dedicated_groupchat.last_message=We,this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.failed_to_join,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this),this.client.p5canvas&&this.client.p5canvas.OnDediMessage&&this.client.p5canvas.OnDediMessage("ff0000")},this.client.funcs.dedicated_groupchat.onopen=Be=>{this.statusBar.settings.dedicated_groupchat="online",we&&this.client.send("dedicated_groupchat",JSON.stringify({uid:this.uuid,name:this.MyUserName,type:"join"})),this.client.funcs.dedicated_groupchat.onclose=We=>{this.statusBar.settings.dedicated_groupchat="missing",setTimeout(()=>{this.statusBar.settings.dedicated_groupchat="offline"},1500);let Oe=this.lang.text.MinimalChat.cannot_join,Pe={color:"faa",text:Oe};this.client.userInput.dedicated_groupchat.logs.push(Pe),this.client.userInput.dedicated_groupchat.last_message=Pe,this.noti.PushLocal({id:this.lnId,title:Oe,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this),this.client.p5canvas&&this.client.p5canvas.OnDediMessage&&this.client.p5canvas.OnDediMessage("ff0000")}}}SelectAttach(){document.getElementById("minimal_chat_file").click()}SendAttachAct(ue){var we=this;return(0,g.c)(function*(){let je=ue.target.files[0],Be={};Be.blob=je,Be.filename=je.name,Be.size=je.size,Be.file_ext=je.name.split(".").pop(),Be.type=je.type,we.global.set_viewer_category(Be),Be.content_related_creator=[{user_id:we.MyUserName,timestamp:(new Date).getTime(),display_name:we.MyUserName,various:"loaded"}],Be.content_creator={user_id:we.MyUserName,timestamp:(new Date).getTime(),display_name:we.MyUserName,various:"loaded"};let We=`${Date.now()}`,Oe={type:"file",info:Be,uid:we.uuid,temp_id:We,name:we.MyUserName};try{let Pe=yield we.global.try_upload_to_user_custom_fs(Be,"minimal_chat");if(!Pe)throw"\ubd84\ud560 \uc804\uc1a1 \uc2dc\ub3c4 \ud544\uc694";Be.url=Pe,we.client.FFS_Urls.push(Pe),delete Be.blob,we.client.send("dedicated_groupchat",JSON.stringify(Oe)),we.focus_on_input()}catch{Be.path=`tmp_files/dedi_chat/${We}.${Be.file_ext}`,yield we.indexed.saveBlobToUserPath(Be.blob,Be.path);let $e=yield we.indexed.GetFileInfoFromDB(Be.path);Be.partsize=Math.ceil(Be.size/Fe.KY),delete Be.blob,we.client.send("dedicated_groupchat",JSON.stringify(Oe)),we.focus_on_input();for(let Qe=0;Qe<Be.partsize;Qe++){new Promise(gt=>setTimeout(gt,500));let tt=we.global.req_file_part_base64($e,Qe,Be.path);we.client.send("dedicated_groupchat",JSON.stringify({type:"part",path:Be.path,index:Qe,part:tt,temp_id:We}))}new Promise(Qe=>setTimeout(Qe,500)),we.client.send("dedicated_groupchat",JSON.stringify({type:"EOF",path:Be.path,partsize:Be.partsize,temp_id:We}))}})()}open_file_viewer(ue){this.modalCtrl.create({component:V.K,componentProps:{info:{content:ue},path:ue.path,noEdit:!0},cssClass:"fullscreen"}).then(we=>{we.onDidDismiss().then(je=>{je.data&&je.data.share&&this.modalCtrl.dismiss()}),we.present()})}copy_qr_address(){this.mClipboard.copy(this.SelectedAddress).catch(ue=>{o.c.write(this.SelectedAddress).then(()=>{"DesktopPWA"==st.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${this.SelectedAddress}`})}).catch(we=>{})})}ionViewDidEnter(){setTimeout(()=>{this.scroll_down()},0)}scroll_down(){this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"})}focus_on_input(ue){this.minimalchat_input.setFocus(),this.auto_scroll_down(ue)}auto_scroll_down(ue){setTimeout(()=>{let we=this.minimal_chat_log.scrollHeight;we<this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight+120&&this.minimal_chat_log.scrollTo({top:we,behavior:"smooth"})},ue||0)}send(ue){this.statusBar.settings.dedicated_groupchat="certified",setTimeout(()=>{"certified"==this.statusBar.settings.dedicated_groupchat&&(this.statusBar.settings.dedicated_groupchat="online")},250);let we={uid:this.uuid,msg:ue||this.client.userInput.dedicated_groupchat.text};we.msg.trim()&&(we.name=this.MyUserName,this.client.send("dedicated_groupchat",JSON.stringify(we)),this.client.userInput.dedicated_groupchat.text="",this.focus_on_input())}quit_chat(){this.client.funcs.dedicated_groupchat.onclose=()=>{this.statusBar.settings.dedicated_groupchat="missing",setTimeout(()=>{this.statusBar.settings.dedicated_groupchat="offline"},1500);let ue={color:Fe.Mp?"ffa":"884",text:this.lang.text.MinimalChat.leave_chat_group};this.client.userInput.dedicated_groupchat.logs.push(ue),this.client.userInput.dedicated_groupchat.last_message=ue,this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"})},this.noti.RemoveListener("senddedicated_groupchat"),this.noti.RemoveListener("reconndedicated_groupchat"),this.noti.RemoveListener("exitdedicated_groupchat"),this.noti.ClearNoti(this.lnId),this.client.disconnect("dedicated_groupchat"),this.indexed.GetFileListFromDB("tmp_files/dedi_chat",ue=>ue.forEach(we=>this.indexed.removeFileFromUserPath(we)));for(let ue=0,we=this.client.FFS_Urls.length;ue<we;ue++)this.global.remove_files_from_storage_with_key(this.client.FFS_Urls[ue],"minimal_chat");this.client.FFS_Urls.length=0,this.client.userInput.dedicated_groupchat.logs.length=0,this.client.DownloadPartManager={},"ws://127.0.0.1"==this.params.get("address")&&this.local_server.stop(),this.modalCtrl.dismiss()}ionViewWillLeave(){this.title.setTitle("Project: Cone"),document.getElementById("favicon").setAttribute("href","assets/icon/favicon.png"),this.noti.Current=void 0,this.client.IsConnected&&this.client.CreateRejoinButton()}}return(W=R).\u0275fac=function(ue){return new(ue||W)(w.GI1(m),w.GI1(d.qS),w.GI1(x.G),w.GI1(s.s),w.GI1(a.OY),w.GI1(C.a6),w.GI1(h.Y),w.GI1(c.o),w.GI1(u.a),w.GI1(Fe.A1),w.GI1(l._),w.GI1(y.O),w.GI1(f.k))},W.\u0275cmp=w.In1({type:W,selectors:[["app-minimal-chat"]],viewQuery:function(ue,we){if(1&ue&&w.CC$(B,5),2&ue){let je;w.wto(je=w.Gqi())&&(we.minimalchat_input=je.first)}},decls:31,vars:7,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["slot","end",2,"margin","8px 16px"],["id","main_table",2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],["id","minimal_chat_div",1,"main",2,"max-width","100vw"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","input_table",2,"width","100%"],["expand","block","fill","clear",3,"click"],["name","exit"],[2,"width","100%"],["id","minimalchat_input","type","text",3,"placeholder","ngModel","ionFocus","keyup.enter","ngModelChange"],["minimalchat_input",""],["name","document-attach-outline"],["hidden","","type","file","id","minimal_chat_file","accept","*",3,"change"],["name","send"],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],[3,"label","placeholder","ionChange",4,"ngIf"],[3,"label","placeholder","ionChange"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"src","click"],[3,"color",4,"ngIf"],["class","default_text",4,"ngIf"],[3,"color"],[1,"default_text"],["target","_system","onclick","return false;",3,"href","click",4,"ngIf"],["target","_system","onclick","return false;",3,"href","click"],[1,"file_attach_box",3,"click"]],template:function(ue,we){1&ue&&(w.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),w.qCj("click",function(){return we.modalCtrl.dismiss()}),w.wR5(3,"ion-back-button",2),w.C$Y(),w.I0R(4,"ion-title"),w.OEk(5),w.C$Y(),w.I0R(6,"div",3),w.OEk(7),w.C$Y()()(),w.I0R(8,"ion-content")(9,"table",4)(10,"tr",5)(11,"td",6)(12,"div",7),w.yuY(13,T,3,2,"div",8)(14,le,3,2,"p",9),w.C$Y()()()()(),w.I0R(15,"ion-footer")(16,"table",10)(17,"tr")(18,"td")(19,"ion-button",11),w.qCj("click",function(){return we.quit_chat()}),w.wR5(20,"ion-icon",12),w.C$Y()(),w.I0R(21,"td",13)(22,"ion-input",14,15),w.qCj("ionFocus",function(){return we.focus_on_input(120)})("keyup.enter",function(){return we.send()}),w.iHE("ngModelChange",function(Be){return w.kNx(we.client.userInput.dedicated_groupchat.text,Be)||(we.client.userInput.dedicated_groupchat.text=Be),Be}),w.C$Y()(),w.I0R(24,"td")(25,"ion-button",11),w.qCj("click",function(){return we.SelectAttach()}),w.wR5(26,"ion-icon",16),w.C$Y(),w.I0R(27,"input",17),w.qCj("change",function(Be){return we.SendAttachAct(Be)}),w.C$Y()(),w.I0R(28,"td")(29,"ion-button",11),w.qCj("click",function(){return we.send()}),w.wR5(30,"ion-icon",18),w.C$Y()()()()()),2&ue&&(w.yG2(5),w.cNF(we.header_title),w.yG2(2),w.CAO("",we.lang.text.MinimalChat.concurrent_users,": ",we.client.ConnectedNow.dedicated_groupchat,""),w.yG2(6),w.E7m("ngIf",we.isCustomDedicated&&(!we.isLocalAddress||we.isMobileApp)),w.yG2(),w.E7m("ngForOf",we.client.userInput.dedicated_groupchat.logs),w.yG2(8),w.E7m("placeholder",we.lang.text.MinimalChat.input_placeholder),w.OKB("ngModel",we.client.userInput.dedicated_groupchat.text))},dependencies:[b.ay,b.u_,D.ue,D._G,d.sn,d.GS,d._i,d.eV,d.wB,d.Ko,d.A5,d.S8,d.Cy,d.gd,d.tM,d.Md,d.IT,d.qG,d.Im],styles:[".main[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}p[_ngcontent-%COMP%]{margin:8px 0 0}.default_text[_ngcontent-%COMP%]{color:var(--miniranchat-default-text)}.bottom_thumbnail[_ngcontent-%COMP%]{width:100%;max-width:100vw;height:-moz-fit-content;height:fit-content;max-height:96px;transform:translateY(-100%);position:absolute;background:var(--chatroom-last-msg-viewer-bg);padding:8px;overflow:hidden}ion-button[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px}.file_attach_box[_ngcontent-%COMP%]{margin-left:8px;padding:2px 8px;border-radius:6px;background-color:#8888;cursor:pointer}"]}),R})()},7136:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{i:()=>Bn,h:()=>lr});var C,x,g=fe(1528),Ce=Object.defineProperty,st=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,V=(Z,be,ye)=>be in Z?Ce(Z,be,{enumerable:!0,configurable:!0,writable:!0,value:ye}):Z[be]=ye,w=(Z,be)=>{for(var ye in be||(be={}))Fe.call(be,ye)&&V(Z,ye,be[ye]);if(st)for(var ye of st(be))o.call(be,ye)&&V(Z,ye,be[ye]);return Z},_=(Z,be,ye)=>new Promise((E,N)=>{var L=Q=>{try{ee(ye.next(Q))}catch(pe){N(pe)}},H=Q=>{try{ee(ye.throw(Q))}catch(pe){N(pe)}},ee=Q=>Q.done?E(Q.value):Promise.resolve(Q.value).then(L,H);ee((ye=ye.apply(Z,be)).next())}),d=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof d<"u"&&d,p_searchParams="URLSearchParams"in d,p_iterable="Symbol"in d&&"iterator"in Symbol,p_blob="FileReader"in d&&"Blob"in d&&function(){try{return new Blob,!0}catch{return!1}}(),p_formData="FormData"in d,p_arrayBuffer="ArrayBuffer"in d;function s(Z){if("string"!=typeof Z&&(Z=String(Z)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(Z)||""===Z)throw new TypeError('Invalid character in header field name: "'+Z+'"');return Z.toLowerCase()}function a(Z){return"string"!=typeof Z&&(Z=String(Z)),Z}function h(Z){var be={next:function(){var ye=Z.shift();return{done:void 0===ye,value:ye}}};return p_iterable&&(be[Symbol.iterator]=function(){return be}),be}function c(Z){this.map={},Z instanceof c?Z.forEach(function(be,ye){this.append(ye,be)},this):Array.isArray(Z)?Z.forEach(function(be){this.append(be[0],be[1])},this):Z&&Object.getOwnPropertyNames(Z).forEach(function(be){this.append(be,Z[be])},this)}function u(Z){if(Z.bodyUsed)return Promise.reject(new TypeError("Already read"));Z.bodyUsed=!0}function l(Z){return new Promise(function(be,ye){Z.onload=function(){be(Z.result)},Z.onerror=function(){ye(Z.error)}})}function y(Z){var be=new FileReader,ye=l(be);return be.readAsArrayBuffer(Z),ye}function D(Z){if(Z.slice)return Z.slice(0);var be=new Uint8Array(Z.byteLength);return be.set(new Uint8Array(Z)),be.buffer}function B(){return this.bodyUsed=!1,this._initBody=function(Z){this.bodyUsed=this.bodyUsed,this._bodyInit=Z,Z?"string"==typeof Z?this._bodyText=Z:p_blob&&Blob.prototype.isPrototypeOf(Z)?this._bodyBlob=Z:p_formData&&FormData.prototype.isPrototypeOf(Z)?this._bodyFormData=Z:p_searchParams&&URLSearchParams.prototype.isPrototypeOf(Z)?this._bodyText=Z.toString():p_arrayBuffer&&p_blob&&function m(Z){return Z&&DataView.prototype.isPrototypeOf(Z)}(Z)?(this._bodyArrayBuffer=D(Z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Z)||x(Z))?this._bodyArrayBuffer=D(Z):this._bodyText=Z=Object.prototype.toString.call(Z):this._bodyText="",this.headers.get("content-type")||("string"==typeof Z?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p_searchParams&&URLSearchParams.prototype.isPrototypeOf(Z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p_blob&&(this.blob=function(){var Z=u(this);if(Z)return Z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(y)}),this.text=function(){var Z=u(this);if(Z)return Z;if(this._bodyBlob)return function f(Z){var be=new FileReader,ye=l(be);return be.readAsText(Z),ye}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function b(Z){for(var be=new Uint8Array(Z),ye=new Array(be.length),E=0;E<be.length;E++)ye[E]=String.fromCharCode(be[E]);return ye.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p_formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}p_arrayBuffer&&(C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=ArrayBuffer.isView||function(Z){return Z&&C.indexOf(Object.prototype.toString.call(Z))>-1}),c.prototype.append=function(Z,be){Z=s(Z),be=a(be);var ye=this.map[Z];this.map[Z]=ye?ye+", "+be:be},c.prototype.delete=function(Z){delete this.map[s(Z)]},c.prototype.get=function(Z){return Z=s(Z),this.has(Z)?this.map[Z]:null},c.prototype.has=function(Z){return this.map.hasOwnProperty(s(Z))},c.prototype.set=function(Z,be){this.map[s(Z)]=a(be)},c.prototype.forEach=function(Z,be){for(var ye in this.map)this.map.hasOwnProperty(ye)&&Z.call(be,this.map[ye],ye,this)},c.prototype.keys=function(){var Z=[];return this.forEach(function(be,ye){Z.push(ye)}),h(Z)},c.prototype.values=function(){var Z=[];return this.forEach(function(be){Z.push(be)}),h(Z)},c.prototype.entries=function(){var Z=[];return this.forEach(function(be,ye){Z.push([ye,be])}),h(Z)},p_iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(Z,be){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var ye=(be=be||{}).body;if(Z instanceof k){if(Z.bodyUsed)throw new TypeError("Already read");this.url=Z.url,this.credentials=Z.credentials,be.headers||(this.headers=new c(Z.headers)),this.method=Z.method,this.mode=Z.mode,this.signal=Z.signal,!ye&&null!=Z._bodyInit&&(ye=Z._bodyInit,Z.bodyUsed=!0)}else this.url=String(Z);if(this.credentials=be.credentials||this.credentials||"same-origin",(be.headers||!this.headers)&&(this.headers=new c(be.headers)),this.method=function j(Z){var be=Z.toUpperCase();return F.indexOf(be)>-1?be:Z}(be.method||this.method||"GET"),this.mode=be.mode||this.mode||null,this.signal=be.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&ye)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ye),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==be.cache&&"no-cache"!==be.cache)){var E=/([?&])_=[^&]*/;E.test(this.url)?this.url=this.url.replace(E,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function U(Z){var be=new FormData;return Z.trim().split("&").forEach(function(ye){if(ye){var E=ye.split("="),N=E.shift().replace(/\+/g," "),L=E.join("=").replace(/\+/g," ");be.append(decodeURIComponent(N),decodeURIComponent(L))}}),be}function T(Z){var be=new c;return Z.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(E){return 0===E.indexOf("\n")?E.substr(1,E.length):E}).forEach(function(E){var N=E.split(":"),L=N.shift().trim();if(L){var H=N.join(":").trim();be.append(L,H)}}),be}function I(Z,be){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');be||(be={}),this.type="default",this.status=void 0===be.status?200:be.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===be.statusText?"":""+be.statusText,this.headers=new c(be.headers),this.url=be.url||"",this._initBody(Z)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},B.call(k.prototype),B.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},I.error=function(){var Z=new I(null,{status:0,statusText:""});return Z.type="error",Z};var M=[301,302,303,307,308];I.redirect=function(Z,be){if(-1===M.indexOf(be))throw new RangeError("Invalid status code");return new I(null,{status:be,headers:{location:Z}})};var q=d.DOMException;try{new q}catch{(q=function(be,ye){this.message=be,this.name=ye;var E=Error(be);this.stack=E.stack}).prototype=Object.create(Error.prototype),q.prototype.constructor=q}function K(Z,be){return new Promise(function(ye,E){var N=new k(Z,be);if(N.signal&&N.signal.aborted)return E(new q("Aborted","AbortError"));var L=new XMLHttpRequest;function H(){L.abort()}L.onload=function(){var Q={status:L.status,statusText:L.statusText,headers:T(L.getAllResponseHeaders()||"")};Q.url="responseURL"in L?L.responseURL:Q.headers.get("X-Request-URL");var pe="response"in L?L.response:L.responseText;setTimeout(function(){ye(new I(pe,Q))},0)},L.onerror=function(){setTimeout(function(){E(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){E(new TypeError("Network request failed"))},0)},L.onabort=function(){setTimeout(function(){E(new q("Aborted","AbortError"))},0)},L.open(N.method,function ee(Q){try{return""===Q&&d.location.href?d.location.href:Q}catch{return Q}}(N.url),!0),"include"===N.credentials?L.withCredentials=!0:"omit"===N.credentials&&(L.withCredentials=!1),"responseType"in L&&(p_blob?L.responseType="blob":p_arrayBuffer&&N.headers.get("Content-Type")&&-1!==N.headers.get("Content-Type").indexOf("application/octet-stream")&&(L.responseType="arraybuffer")),!be||"object"!=typeof be.headers||be.headers instanceof c?N.headers.forEach(function(Q,pe){L.setRequestHeader(pe,Q)}):Object.getOwnPropertyNames(be.headers).forEach(function(Q){L.setRequestHeader(Q,a(be.headers[Q]))}),N.signal&&(N.signal.addEventListener("abort",H),L.onreadystatechange=function(){4===L.readyState&&N.signal.removeEventListener("abort",H)}),L.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}K.polyfill=!0,d.fetch||(d.fetch=K,d.Headers=c,d.Request=k,d.Response=I);var Y="function"==typeof atob,ie="function"==typeof btoa,te="function"==typeof Buffer,z="function"==typeof TextDecoder?new TextDecoder:void 0,oe="function"==typeof TextEncoder?new TextEncoder:void 0,Ee=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),W=(Z=>{let be={};return Z.forEach((ye,E)=>be[ye]=E),be})(Ee),R=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ne=String.fromCharCode.bind(String),ue="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):Z=>new Uint8Array(Array.prototype.slice.call(Z,0)),je=Z=>Z.replace(/[^A-Za-z0-9\+\/]/g,""),We=ie?Z=>btoa(Z):te?Z=>Buffer.from(Z,"binary").toString("base64"):Z=>{let be,ye,E,N,L="";const H=Z.length%3;for(let ee=0;ee<Z.length;){if((ye=Z.charCodeAt(ee++))>255||(E=Z.charCodeAt(ee++))>255||(N=Z.charCodeAt(ee++))>255)throw new TypeError("invalid character found");be=ye<<16|E<<8|N,L+=Ee[be>>18&63]+Ee[be>>12&63]+Ee[be>>6&63]+Ee[63&be]}return H?L.slice(0,H-3)+"===".substring(H):L},Oe=te?Z=>Buffer.from(Z).toString("base64"):Z=>{let ye=[];for(let E=0,N=Z.length;E<N;E+=4096)ye.push(ne.apply(null,Z.subarray(E,E+4096)));return We(ye.join(""))},Pe=Z=>{if(Z.length<2)return(be=Z.charCodeAt(0))<128?Z:be<2048?ne(192|be>>>6)+ne(128|63&be):ne(224|be>>>12&15)+ne(128|be>>>6&63)+ne(128|63&be);var be=65536+1024*(Z.charCodeAt(0)-55296)+(Z.charCodeAt(1)-56320);return ne(240|be>>>18&7)+ne(128|be>>>12&63)+ne(128|be>>>6&63)+ne(128|63&be)},$e=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Qe=te?Z=>Buffer.from(Z,"utf8").toString("base64"):oe?Z=>Oe(oe.encode(Z)):Z=>We((Z=>Z.replace($e,Pe))(Z)),tt=(Z,be=!1)=>be?(Z=>Z.replace(/=/g,"").replace(/[+\/]/g,be=>"+"==be?"-":"_"))(Qe(Z)):Qe(Z),_t=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,gt=Z=>{switch(Z.length){case 4:var ye=((7&Z.charCodeAt(0))<<18|(63&Z.charCodeAt(1))<<12|(63&Z.charCodeAt(2))<<6|63&Z.charCodeAt(3))-65536;return ne(55296+(ye>>>10))+ne(56320+(1023&ye));case 3:return ne((15&Z.charCodeAt(0))<<12|(63&Z.charCodeAt(1))<<6|63&Z.charCodeAt(2));default:return ne((31&Z.charCodeAt(0))<<6|63&Z.charCodeAt(1))}},Ot=Y?Z=>atob(je(Z)):te?Z=>Buffer.from(Z,"base64").toString("binary"):Z=>{if(Z=Z.replace(/\s+/g,""),!R.test(Z))throw new TypeError("malformed base64.");Z+="==".slice(2-(3&Z.length));let be,E,N,ye="";for(let L=0;L<Z.length;)be=W[Z.charAt(L++)]<<18|W[Z.charAt(L++)]<<12|(E=W[Z.charAt(L++)])<<6|(N=W[Z.charAt(L++)]),ye+=64===E?ne(be>>16&255):64===N?ne(be>>16&255,be>>8&255):ne(be>>16&255,be>>8&255,255&be);return ye},jt=te?Z=>ue(Buffer.from(Z,"base64")):Z=>ue(Ot(Z).split("").map(be=>be.charCodeAt(0))),Tt=te?Z=>Buffer.from(Z,"base64").toString("utf8"):z?Z=>z.decode(jt(Z)):Z=>(Z=>Z.replace(_t,gt))(Ot(Z)),Je=Z=>Tt((Z=>je(Z.replace(/[-_]/g,be=>"-"==be?"+":"/")))(Z));function ut(Z,be,ye){const E=w(w({},{method:Z}),be);if(E.headers=w({},be.headers),typeof XMLHttpRequest<"u"){const N=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=N&&N.set||(E.credentials="cocos-ignore")}return Object.keys(E.headers).includes("Accept")||(E.headers.Accept="application/json"),Object.keys(E.headers).includes("Content-Type")||(E.headers["Content-Type"]="application/json"),Object.keys(E.headers).forEach(N=>{E.headers[N]||delete E.headers[N]}),ye&&(E.body=ye),E}var Rt=class{constructor(Z,be,ye){this.serverKey=Z,this.basePath=be,this.timeoutMs=ye}healthcheck(Z,be={}){const L=this.buildFullUrl(this.basePath,"/healthcheck",new Map),H=ut("GET",be,"");return Z&&(H.headers.Authorization="Bearer "+Z),Promise.race([fetch(L,H).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,Q)=>setTimeout(Q,this.timeoutMs,"Request timed out."))])}getAccount(Z,be={}){const L=this.buildFullUrl(this.basePath,"/v2/account",new Map),H=ut("GET",be,"");return Z&&(H.headers.Authorization="Bearer "+Z),Promise.race([fetch(L,H).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,Q)=>setTimeout(Q,this.timeoutMs,"Request timed out."))])}updateAccount(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account",N),ee=ut("PUT",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}authenticateApple(Z,be,ye,E,N,L={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const ee=new Map;ee.set("create",E),ee.set("username",N);let Q="";Q=JSON.stringify(ye||{});const pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",ee),Ie=ut("POST",L,Q);return Ie.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}authenticateCustom(Z,be,ye,E,N,L={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const ee=new Map;ee.set("create",E),ee.set("username",N);let Q="";Q=JSON.stringify(ye||{});const pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",ee),Ie=ut("POST",L,Q);return Ie.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}authenticateDevice(Z,be,ye,E,N,L={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const ee=new Map;ee.set("create",E),ee.set("username",N);let Q="";Q=JSON.stringify(ye||{});const pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",ee),Ie=ut("POST",L,Q);return Ie.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}authenticateEmail(Z,be,ye,E,N,L={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const ee=new Map;ee.set("create",E),ee.set("username",N);let Q="";Q=JSON.stringify(ye||{});const pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",ee),Ie=ut("POST",L,Q);return Ie.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}authenticateFacebook(Z,be,ye,E,N,L,H={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",E),Q.set("username",N),Q.set("sync",L);let pe="";pe=JSON.stringify(ye||{});const Ie=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",Q),He=ut("POST",H,pe);return He.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(Ie,He).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,Jt)=>setTimeout(Jt,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(Z,be,ye,E,N,L={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const ee=new Map;ee.set("create",E),ee.set("username",N);let Q="";Q=JSON.stringify(ye||{});const pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",ee),Ie=ut("POST",L,Q);return Ie.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(Z,be,ye,E,N,L={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const ee=new Map;ee.set("create",E),ee.set("username",N);let Q="";Q=JSON.stringify(ye||{});const pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",ee),Ie=ut("POST",L,Q);return Ie.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}authenticateGoogle(Z,be,ye,E,N,L={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const ee=new Map;ee.set("create",E),ee.set("username",N);let Q="";Q=JSON.stringify(ye||{});const pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",ee),Ie=ut("POST",L,Q);return Ie.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}authenticateSteam(Z,be,ye,E,N,L,H={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",E),Q.set("username",N),Q.set("sync",L);let pe="";pe=JSON.stringify(ye||{});const Ie=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",Q),He=ut("POST",H,pe);return He.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(Ie,He).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,Jt)=>setTimeout(Jt,this.timeoutMs,"Request timed out."))])}linkApple(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/apple",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}linkCustom(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/custom",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}linkDevice(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/device",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}linkEmail(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/email",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}linkFacebook(Z,be,ye,E={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;L.set("sync",ye);let H="";H=JSON.stringify(be||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",L),Q=ut("POST",E,H);return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}linkGameCenter(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}linkGoogle(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/google",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}linkSteam(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/steam",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}sessionRefresh(Z,be,ye,E={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;let H="";H=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",L),Q=ut("POST",E,H);return Q.headers.Authorization="Basic "+tt(Z+":"+be),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}unlinkApple(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}unlinkCustom(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}unlinkDevice(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}unlinkEmail(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}unlinkFacebook(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}unlinkGoogle(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}unlinkSteam(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}listChannelMessages(Z,be,ye,E,N,L={}){if(null==be)throw new Error("'channelId' is a required parameter but is null or undefined.");const H="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(be))),ee=new Map;ee.set("limit",ye),ee.set("forward",E),ee.set("cursor",N);const pe=this.buildFullUrl(this.basePath,H,ee),Ie=ut("GET",L,"");return Z&&(Ie.headers.Authorization="Bearer "+Z),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}event(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/event",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}deleteFriends(Z,be,ye,E={}){const L=new Map;L.set("ids",be),L.set("usernames",ye);const ee=this.buildFullUrl(this.basePath,"/v2/friend",L),Q=ut("DELETE",E,"");return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}listFriends(Z,be,ye,E,N={}){const H=new Map;H.set("limit",be),H.set("state",ye),H.set("cursor",E);const Q=this.buildFullUrl(this.basePath,"/v2/friend",H),pe=ut("GET",N,"");return Z&&(pe.headers.Authorization="Bearer "+Z),Promise.race([fetch(Q,pe).then(Ie=>{if(204==Ie.status)return Ie;if(Ie.status>=200&&Ie.status<300)return Ie.json();throw Ie}),new Promise((Ie,He)=>setTimeout(He,this.timeoutMs,"Request timed out."))])}addFriends(Z,be,ye,E={}){const L=new Map;L.set("ids",be),L.set("usernames",ye);const ee=this.buildFullUrl(this.basePath,"/v2/friend",L),Q=ut("POST",E,"");return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}blockFriends(Z,be,ye,E={}){const L=new Map;L.set("ids",be),L.set("usernames",ye);const ee=this.buildFullUrl(this.basePath,"/v2/friend/block",L),Q=ut("POST",E,"");return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}importFacebookFriends(Z,be,ye,E={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;L.set("reset",ye);let H="";H=JSON.stringify(be||{});const ee=this.buildFullUrl(this.basePath,"/v2/friend/facebook",L),Q=ut("POST",E,H);return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}importSteamFriends(Z,be,ye,E={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;L.set("reset",ye);let H="";H=JSON.stringify(be||{});const ee=this.buildFullUrl(this.basePath,"/v2/friend/steam",L),Q=ut("POST",E,H);return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}listGroups(Z,be,ye,E,N,L,H,ee={}){const pe=new Map;pe.set("name",be),pe.set("cursor",ye),pe.set("limit",E),pe.set("lang_tag",N),pe.set("members",L),pe.set("open",H);const He=this.buildFullUrl(this.basePath,"/v2/group",pe),dt=ut("GET",ee,"");return Z&&(dt.headers.Authorization="Bearer "+Z),Promise.race([fetch(He,dt).then(Jt=>{if(204==Jt.status)return Jt;if(Jt.status>=200&&Jt.status<300)return Jt.json();throw Jt}),new Promise((Jt,un)=>setTimeout(un,this.timeoutMs,"Request timed out."))])}createGroup(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/group",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}deleteGroup(Z,be,ye={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const E="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(be))),H=this.buildFullUrl(this.basePath,E,new Map),ee=ut("DELETE",ye,"");return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}updateGroup(Z,be,ye,E={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const N="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(be))),L=new Map;let H="";H=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,N,L),Q=ut("PUT",E,H);return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}addGroupUsers(Z,be,ye,E={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const N="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(be))),L=new Map;L.set("user_ids",ye);const ee=this.buildFullUrl(this.basePath,N,L),Q=ut("POST",E,"");return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}banGroupUsers(Z,be,ye,E={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const N="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(be))),L=new Map;L.set("user_ids",ye);const ee=this.buildFullUrl(this.basePath,N,L),Q=ut("POST",E,"");return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(Z,be,ye,E={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==ye)throw new Error("'userIds' is a required parameter but is null or undefined.");const N="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(be))),L=new Map;L.set("user_ids",ye);const ee=this.buildFullUrl(this.basePath,N,L),Q=ut("POST",E,"");return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}joinGroup(Z,be,ye={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const E="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(be))),H=this.buildFullUrl(this.basePath,E,new Map),ee=ut("POST",ye,"");return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}kickGroupUsers(Z,be,ye,E={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const N="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(be))),L=new Map;L.set("user_ids",ye);const ee=this.buildFullUrl(this.basePath,N,L),Q=ut("POST",E,"");return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}leaveGroup(Z,be,ye={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const E="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(be))),H=this.buildFullUrl(this.basePath,E,new Map),ee=ut("POST",ye,"");return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(Z,be,ye,E={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const N="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(be))),L=new Map;L.set("user_ids",ye);const ee=this.buildFullUrl(this.basePath,N,L),Q=ut("POST",E,"");return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}listGroupUsers(Z,be,ye,E,N,L={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const H="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(be))),ee=new Map;ee.set("limit",ye),ee.set("state",E),ee.set("cursor",N);const pe=this.buildFullUrl(this.basePath,H,ee),Ie=ut("GET",L,"");return Z&&(Ie.headers.Authorization="Bearer "+Z),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(Z,be,ye={}){if(null==be)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const E="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(be))),H=this.buildFullUrl(this.basePath,E,new Map),ee=ut("DELETE",ye,"");return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(Z,be,ye,E,N,L,H={}){if(null==be)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const ee="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(be))),Q=new Map;Q.set("owner_ids",ye),Q.set("limit",E),Q.set("cursor",N),Q.set("expiry",L);const Ie=this.buildFullUrl(this.basePath,ee,Q),He=ut("GET",H,"");return Z&&(He.headers.Authorization="Bearer "+Z),Promise.race([fetch(Ie,He).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,Jt)=>setTimeout(Jt,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(Z,be,ye,E={}){if(null==be)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const N="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(be))),L=new Map;let H="";H=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,N,L),Q=ut("POST",E,H);return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(Z,be,ye,E,N,L={}){if(null==be)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==ye)throw new Error("'ownerId' is a required parameter but is null or undefined.");const H="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(be))).replace("{ownerId}",encodeURIComponent(String(ye))),ee=new Map;ee.set("limit",E),ee.set("expiry",N);const pe=this.buildFullUrl(this.basePath,H,ee),Ie=ut("GET",L,"");return Z&&(Ie.headers.Authorization="Bearer "+Z),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}listMatches(Z,be,ye,E,N,L,H,ee={}){const pe=new Map;pe.set("limit",be),pe.set("authoritative",ye),pe.set("label",E),pe.set("min_size",N),pe.set("max_size",L),pe.set("query",H);const He=this.buildFullUrl(this.basePath,"/v2/match",pe),dt=ut("GET",ee,"");return Z&&(dt.headers.Authorization="Bearer "+Z),Promise.race([fetch(He,dt).then(Jt=>{if(204==Jt.status)return Jt;if(Jt.status>=200&&Jt.status<300)return Jt.json();throw Jt}),new Promise((Jt,un)=>setTimeout(un,this.timeoutMs,"Request timed out."))])}deleteNotifications(Z,be,ye={}){const N=new Map;N.set("ids",be);const H=this.buildFullUrl(this.basePath,"/v2/notification",N),ee=ut("DELETE",ye,"");return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}listNotifications(Z,be,ye,E={}){const L=new Map;L.set("limit",be),L.set("cacheable_cursor",ye);const ee=this.buildFullUrl(this.basePath,"/v2/notification",L),Q=ut("GET",E,"");return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}rpcFunc2(Z,be,ye,E,N={}){if(null==be)throw new Error("'id' is a required parameter but is null or undefined.");const L="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(be))),H=new Map;H.set("payload",ye),H.set("http_key",E);const Q=this.buildFullUrl(this.basePath,L,H),pe=ut("GET",N,"");return Z&&(pe.headers.Authorization="Bearer "+Z),Promise.race([fetch(Q,pe).then(Ie=>{if(204==Ie.status)return Ie;if(Ie.status>=200&&Ie.status<300)return Ie.json();throw Ie}),new Promise((Ie,He)=>setTimeout(He,this.timeoutMs,"Request timed out."))])}rpcFunc(Z,be,ye,E,N={}){if(null==be)throw new Error("'id' is a required parameter but is null or undefined.");if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const L="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(be))),H=new Map;H.set("http_key",E);let ee="";ee=JSON.stringify(ye||{});const Q=this.buildFullUrl(this.basePath,L,H),pe=ut("POST",N,ee);return Z&&(pe.headers.Authorization="Bearer "+Z),Promise.race([fetch(Q,pe).then(Ie=>{if(204==Ie.status)return Ie;if(Ie.status>=200&&Ie.status<300)return Ie.json();throw Ie}),new Promise((Ie,He)=>setTimeout(He,this.timeoutMs,"Request timed out."))])}sessionLogout(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/session/logout",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}readStorageObjects(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/storage",N),ee=ut("POST",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}writeStorageObjects(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/storage",N),ee=ut("PUT",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(Z,be,ye={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const N=new Map;let L="";L=JSON.stringify(be||{});const H=this.buildFullUrl(this.basePath,"/v2/storage/delete",N),ee=ut("PUT",ye,L);return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}listStorageObjects(Z,be,ye,E,N,L={}){if(null==be)throw new Error("'collection' is a required parameter but is null or undefined.");const H="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(be))),ee=new Map;ee.set("user_id",ye),ee.set("limit",E),ee.set("cursor",N);const pe=this.buildFullUrl(this.basePath,H,ee),Ie=ut("GET",L,"");return Z&&(Ie.headers.Authorization="Bearer "+Z),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}listStorageObjects2(Z,be,ye,E,N,L={}){if(null==be)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==ye)throw new Error("'userId' is a required parameter but is null or undefined.");const H="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(be))).replace("{userId}",encodeURIComponent(String(ye))),ee=new Map;ee.set("limit",E),ee.set("cursor",N);const pe=this.buildFullUrl(this.basePath,H,ee),Ie=ut("GET",L,"");return Z&&(Ie.headers.Authorization="Bearer "+Z),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}listTournaments(Z,be,ye,E,N,L,H,ee={}){const pe=new Map;pe.set("category_start",be),pe.set("category_end",ye),pe.set("start_time",E),pe.set("end_time",N),pe.set("limit",L),pe.set("cursor",H);const He=this.buildFullUrl(this.basePath,"/v2/tournament",pe),dt=ut("GET",ee,"");return Z&&(dt.headers.Authorization="Bearer "+Z),Promise.race([fetch(He,dt).then(Jt=>{if(204==Jt.status)return Jt;if(Jt.status>=200&&Jt.status<300)return Jt.json();throw Jt}),new Promise((Jt,un)=>setTimeout(un,this.timeoutMs,"Request timed out."))])}listTournamentRecords(Z,be,ye,E,N,L,H={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const ee="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(be))),Q=new Map;Q.set("owner_ids",ye),Q.set("limit",E),Q.set("cursor",N),Q.set("expiry",L);const Ie=this.buildFullUrl(this.basePath,ee,Q),He=ut("GET",H,"");return Z&&(He.headers.Authorization="Bearer "+Z),Promise.race([fetch(Ie,He).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,Jt)=>setTimeout(Jt,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(Z,be,ye,E={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const N="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(be))),L=new Map;let H="";H=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,N,L),Q=ut("POST",E,H);return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(Z,be,ye,E={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const N="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(be))),L=new Map;let H="";H=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,N,L),Q=ut("PUT",E,H);return Z&&(Q.headers.Authorization="Bearer "+Z),Promise.race([fetch(ee,Q).then(pe=>{if(204==pe.status)return pe;if(pe.status>=200&&pe.status<300)return pe.json();throw pe}),new Promise((pe,Ie)=>setTimeout(Ie,this.timeoutMs,"Request timed out."))])}joinTournament(Z,be,ye={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const E="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(be))),H=this.buildFullUrl(this.basePath,E,new Map),ee=ut("POST",ye,"");return Z&&(ee.headers.Authorization="Bearer "+Z),Promise.race([fetch(H,ee).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,pe)=>setTimeout(pe,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(Z,be,ye,E,N,L={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==ye)throw new Error("'ownerId' is a required parameter but is null or undefined.");const H="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(be))).replace("{ownerId}",encodeURIComponent(String(ye))),ee=new Map;ee.set("limit",E),ee.set("expiry",N);const pe=this.buildFullUrl(this.basePath,H,ee),Ie=ut("GET",L,"");return Z&&(Ie.headers.Authorization="Bearer "+Z),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}getUsers(Z,be,ye,E,N={}){const H=new Map;H.set("ids",be),H.set("usernames",ye),H.set("facebook_ids",E);const Q=this.buildFullUrl(this.basePath,"/v2/user",H),pe=ut("GET",N,"");return Z&&(pe.headers.Authorization="Bearer "+Z),Promise.race([fetch(Q,pe).then(Ie=>{if(204==Ie.status)return Ie;if(Ie.status>=200&&Ie.status<300)return Ie.json();throw Ie}),new Promise((Ie,He)=>setTimeout(He,this.timeoutMs,"Request timed out."))])}listUserGroups(Z,be,ye,E,N,L={}){if(null==be)throw new Error("'userId' is a required parameter but is null or undefined.");const H="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(be))),ee=new Map;ee.set("limit",ye),ee.set("state",E),ee.set("cursor",N);const pe=this.buildFullUrl(this.basePath,H,ee),Ie=ut("GET",L,"");return Z&&(Ie.headers.Authorization="Bearer "+Z),Promise.race([fetch(pe,Ie).then(He=>{if(204==He.status)return He;if(He.status>=200&&He.status<300)return He.json();throw He}),new Promise((He,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}buildFullUrl(Z,be,ye){let E=Z+be+"?";for(let[N,L]of ye)L instanceof Array?E+=L.reduce((H,ee)=>H+encodeURIComponent(N)+"="+encodeURIComponent(ee)+"&",""):null!=L&&(E+=encodeURIComponent(N)+"="+encodeURIComponent(L)+"&");return E}},Ze=class{constructor(Z,be,ye){this.created=ye,this.token=Z,this.refresh_token=be,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(Z,be)}isexpired(Z){return this.expires_at-Z<0}isrefreshexpired(Z){return this.refresh_expires_at-Z<0}update(Z,be){const ye=Z.split(".");if(3!=ye.length)throw"jwt is not valid.";const E=JSON.parse(Ot(ye[1])),N=Math.floor(parseInt(E.exp));if(be){const L=be.split(".");if(3!=L.length)throw"refresh jwt is not valid.";const H=JSON.parse(Ot(L[1])),ee=Math.floor(parseInt(H.exp));this.refresh_expires_at=ee,this.refresh_token=be}this.token=Z,this.expires_at=N,this.username=E.usn,this.user_id=E.uid,this.vars=E.vrs}static restore(Z,be){return new Ze(Z,be,!1)}},Dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Re=0;Re<64;Re++)pt[Dt.charCodeAt(Re)]=Re;var Re,Ne=function(Z){var ye,be=new Uint8Array(Z),E=be.length,N="";for(ye=0;ye<E;ye+=3)N+=Dt[be[ye]>>2],N+=Dt[(3&be[ye])<<4|be[ye+1]>>4],N+=Dt[(15&be[ye+1])<<2|be[ye+2]>>6],N+=Dt[63&be[ye+2]];return E%3==2?N=N.substring(0,N.length-1)+"=":E%3==1&&(N=N.substring(0,N.length-2)+"=="),N},Me=function(Z){var E,L,H,ee,Q,be=.75*Z.length,ye=Z.length,N=0;"="===Z[Z.length-1]&&(be--,"="===Z[Z.length-2]&&be--);var pe=new ArrayBuffer(be),Ie=new Uint8Array(pe);for(E=0;E<ye;E+=4)L=pt[Z.charCodeAt(E)],H=pt[Z.charCodeAt(E+1)],ee=pt[Z.charCodeAt(E+2)],Q=pt[Z.charCodeAt(E+3)],Ie[N++]=L<<2|H>>4,Ie[N++]=(15&H)<<4|ee>>2,Ie[N++]=(3&ee)<<6|63&Q;return pe},Ye=class{get onClose(){return this._socket.onclose}set onClose(Z){this._socket.onclose=Z}get onError(){return this._socket.onerror}set onError(Z){this._socket.onerror=Z}get onMessage(){return this._socket.onmessage}set onMessage(Z){Z?this._socket.onmessage=be=>{const ye=JSON.parse(be.data);ye.match_data&&ye.match_data.data?ye.match_data.data=new Uint8Array(Me(ye.match_data.data)):ye.party_data&&ye.party_data.data&&(ye.party_data.data=new Uint8Array(Me(ye.party_data.data))),Z(ye)}:Z=null}get onOpen(){return this._socket.onopen}set onOpen(Z){this._socket.onopen=Z}isOpen(){var Z;return(null==(Z=this._socket)?void 0:Z.readyState)==WebSocket.OPEN}connect(Z,be,ye,E,N){const L=`${Z}${be}:${ye}/ws?lang=en&status=${encodeURIComponent(E.toString())}&token=${encodeURIComponent(N)}`;this._socket=new WebSocket(L)}close(){this._socket.close(),this._socket=void 0}send(Z){if(Z.match_data_send){Z.match_data_send.op_code=Z.match_data_send.op_code.toString();let be=Z.match_data_send.data;be&&be instanceof Uint8Array?Z.match_data_send.data=Ne(be.buffer):be&&(Z.match_data_send.data=We(be))}else if(Z.party_data_send){Z.party_data_send.op_code=Z.party_data_send.op_code.toString();let be=Z.party_data_send.data;be&&be instanceof Uint8Array?Z.party_data_send.data=Ne(be.buffer):be&&(Z.party_data_send.data=We(be))}this._socket.send(JSON.stringify(Z))}},vt=class{constructor(Z,be,ye=!1,E=!1,N=new Ye,L=vt.DefaultSendTimeoutMs){this.host=Z,this.port=be,this.useSSL=ye,this.verbose=E,this.adapter=N,this.sendTimeoutMs=L,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=vt.DefaultHeartbeatTimeoutMs}generatecid(){const Z=this.nextCid.toString();return++this.nextCid,Z}connect(Z,be=!1,ye=vt.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(Z):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,be,Z.token),this.adapter.onClose=N=>{this.ondisconnect(N)},this.adapter.onError=N=>{this.onerror(N)},this.adapter.onMessage=N=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(N)),N.cid){const L=this.cIds[N.cid];if(!L)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",N));delete this.cIds[N.cid],N.error?L.reject(N.error):L.resolve(N)}else N.notifications?N.notifications.notifications.forEach(L=>{L.content=L.content?JSON.parse(L.content):void 0,this.onnotification(L)}):N.match_data?(N.match_data.op_code=parseInt(N.match_data.op_code),this.onmatchdata(N.match_data)):N.match_presence_event?this.onmatchpresence(N.match_presence_event):N.matchmaker_ticket?this.onmatchmakerticket(N.matchmaker_ticket):N.matchmaker_matched?this.onmatchmakermatched(N.matchmaker_matched):N.status_presence_event?this.onstatuspresence(N.status_presence_event):N.stream_presence_event?this.onstreampresence(N.stream_presence_event):N.stream_data?this.onstreamdata(N.stream_data):N.channel_message?(N.channel_message.content=JSON.parse(N.channel_message.content),this.onchannelmessage(N.channel_message)):N.channel_presence_event?this.onchannelpresence(N.channel_presence_event):N.party_data?(N.party_data.op_code=parseInt(N.party_data.op_code),this.onpartydata(N.party_data)):N.party_close?this.onpartyclose(N.party_close):N.party_join_request?this.onpartyjoinrequest(N.party_join_request):N.party_leader?this.onpartyleader(N.party_leader):N.party_matchmaker_ticket?this.onpartymatchmakerticket(N.party_matchmaker_ticket):N.party_presence_event?this.onpartypresence(N.party_presence_event):N.party?this.onparty(N.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",N)},new Promise((N,L)=>{this.adapter.onOpen=H=>{this.verbose&&window&&window.console&&console.log(H),this.pingPong(),N(Z)},this.adapter.onError=H=>{L(H),this.adapter.close()},setTimeout(()=>{L("The socket timed out when trying to connect.")},ye)}))}disconnect(Z=!0){this.adapter.isOpen()&&this.adapter.close(),Z&&this.ondisconnect({})}setHeartbeatTimeoutMs(Z){this._heartbeatTimeoutMs=Z}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(Z){this.verbose&&window&&window.console&&console.log(Z)}onerror(Z){this.verbose&&window&&window.console&&console.log(Z)}onchannelmessage(Z){this.verbose&&window&&window.console&&console.log(Z)}onchannelpresence(Z){this.verbose&&window&&window.console&&console.log(Z)}onnotification(Z){this.verbose&&window&&window.console&&console.log(Z)}onmatchdata(Z){this.verbose&&window&&window.console&&console.log(Z)}onmatchpresence(Z){this.verbose&&window&&window.console&&console.log(Z)}onmatchmakerticket(Z){this.verbose&&window&&window.console&&console.log(Z)}onmatchmakermatched(Z){this.verbose&&window&&window.console&&console.log(Z)}onparty(Z){this.verbose&&window&&window.console&&console.log(Z)}onpartyclose(Z){this.verbose&&window&&window.console&&console.log("Party closed: "+Z)}onpartyjoinrequest(Z){this.verbose&&window&&window.console&&console.log(Z)}onpartydata(Z){this.verbose&&window&&window.console&&console.log(Z)}onpartyleader(Z){this.verbose&&window&&window.console&&console.log(Z)}onpartymatchmakerticket(Z){this.verbose&&window&&window.console&&console.log(Z)}onpartypresence(Z){this.verbose&&window&&window.console&&console.log(Z)}onstatuspresence(Z){this.verbose&&window&&window.console&&console.log(Z)}onstreampresence(Z){this.verbose&&window&&window.console&&console.log(Z)}onstreamdata(Z){this.verbose&&window&&window.console&&console.log(Z)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(Z,be=vt.DefaultSendTimeoutMs){const ye=Z;return new Promise((E,N)=>{if(this.adapter.isOpen())if(ye.match_data_send)this.adapter.send(ye),E();else if(ye.party_data_send)this.adapter.send(ye),E();else{ye.channel_message_send?ye.channel_message_send.content=JSON.stringify(ye.channel_message_send.content):ye.channel_message_update&&(ye.channel_message_update.content=JSON.stringify(ye.channel_message_update.content));const L=this.generatecid();this.cIds[L]={resolve:E,reject:N},setTimeout(()=>{N("The socket timed out while waiting for a response.")},be),ye.cid=L,this.adapter.send(ye)}else N("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const L=w({},ye);L.match_data_send&&L.match_data_send.data?L.match_data_send.data=Je(L.match_data_send.data):L.party_data_send&&L.party_data_send.data&&(L.party_data_send.data=Je(L.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(L))}})}acceptPartyMember(Z,be){return this.send({party_accept:{party_id:Z,presence:be}})}addMatchmaker(Z,be,ye,E,N){return _(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:be,max_count:ye,query:Z,string_properties:E,numeric_properties:N}})).matchmaker_ticket})}addMatchmakerParty(Z,be,ye,E,N,L){return _(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:Z,min_count:ye,max_count:E,query:be,string_properties:N,numeric_properties:L}})).party_matchmaker_ticket})}closeParty(Z){return _(this,null,function*(){return yield this.send({party_close:{party_id:Z}})})}createMatch(Z){return _(this,null,function*(){return(yield this.send({match_create:{name:Z}})).match})}createParty(Z,be){return _(this,null,function*(){return(yield this.send({party_create:{open:Z,max_size:be}})).party})}followUsers(Z){return _(this,null,function*(){return(yield this.send({status_follow:{user_ids:Z}})).status})}joinChat(Z,be,ye,E){return _(this,null,function*(){return(yield this.send({channel_join:{target:Z,type:be,persistence:ye,hidden:E}})).channel})}joinMatch(Z,be,ye){return _(this,null,function*(){const E={match_join:{metadata:ye}};return be?E.match_join.token=be:E.match_join.match_id=Z,(yield this.send(E)).match})}joinParty(Z){return _(this,null,function*(){return yield this.send({party_join:{party_id:Z}})})}leaveChat(Z){return this.send({channel_leave:{channel_id:Z}})}leaveMatch(Z){return this.send({match_leave:{match_id:Z}})}leaveParty(Z){return this.send({party_leave:{party_id:Z}})}listPartyJoinRequests(Z){return _(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:Z}})).party_join_request})}promotePartyMember(Z,be){return _(this,null,function*(){return(yield this.send({party_promote:{party_id:Z,presence:be}})).party_leader})}removeChatMessage(Z,be){return _(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:Z,message_id:be}})).channel_message_ack})}removeMatchmaker(Z){return this.send({matchmaker_remove:{ticket:Z}})}removeMatchmakerParty(Z,be){return this.send({party_matchmaker_remove:{party_id:Z,ticket:be}})}removePartyMember(Z,be){return _(this,null,function*(){return this.send({party_remove:{party_id:Z,presence:be}})})}rpc(Z,be,ye){return _(this,null,function*(){return(yield this.send({rpc:{id:Z,payload:be,http_key:ye}})).rpc})}sendMatchState(Z,be,ye,E,N){return _(this,null,function*(){return this.send({match_data_send:{match_id:Z,op_code:be,data:ye,presences:null!=E?E:[],reliable:N}})})}sendPartyData(Z,be,ye){return this.send({party_data_send:{party_id:Z,op_code:be,data:ye}})}unfollowUsers(Z){return this.send({status_unfollow:{user_ids:Z}})}updateChatMessage(Z,be,ye){return _(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:Z,message_id:be,content:ye}})).channel_message_ack})}updateStatus(Z){return this.send({status_update:{status:Z}})}writeChatMessage(Z,be){return _(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:Z,content:be}})).channel_message_ack})}pingPong(){return _(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},kt=vt;kt.DefaultHeartbeatTimeoutMs=1e4,kt.DefaultSendTimeoutMs=1e4,kt.DefaultConnectTimeoutMs=3e4;var yt=class{constructor(Z="defaultkey",be="127.0.0.1",ye="7350",E=!1,N=7e3,L=!0){this.serverkey=Z,this.host=be,this.port=ye,this.useSSL=E,this.timeout=N,this.autoRefreshSession=L,this.expiredTimespanMs=3e5,this.apiClient=new Rt(Z,`${E?"https://":"http://"}${be}:${ye}`,N)}addGroupUsers(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.addGroupUsers(Z.token,be,ye).then(E=>void 0!==E)})}addFriends(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.addFriends(Z.token,be,ye).then(E=>void 0!==E)})}authenticateApple(Z,be,ye){return _(this,arguments,function*(E,N,L,H={},ee={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:E,vars:H},N,L,ee).then(pe=>new Ze(pe.token||"",pe.refresh_token||"",pe.created||!1))})}authenticateCustom(Z,be,ye,E={},N={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:Z,vars:E},be,ye,N).then(H=>new Ze(H.token||"",H.refresh_token||"",H.created||!1))}authenticateDevice(Z,be,ye,E){return this.apiClient.authenticateDevice(this.serverkey,"",{id:Z,vars:E},be,ye).then(L=>new Ze(L.token||"",L.refresh_token||"",L.created||!1))}authenticateEmail(Z,be,ye,E,N){return this.apiClient.authenticateEmail(this.serverkey,"",{email:Z,password:be,vars:N},ye,E).then(H=>new Ze(H.token||"",H.refresh_token||"",H.created||!1))}authenticateFacebookInstantGame(Z,be,ye,E,N={}){const L={signed_player_info:Z,vars:E};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:L.signed_player_info,vars:L.vars},be,ye,N).then(H=>new Ze(H.token||"",H.refresh_token||"",H.created||!1))}authenticateFacebook(Z,be,ye,E,N,L={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:Z,vars:N},be,ye,E,L).then(ee=>new Ze(ee.token||"",ee.refresh_token||"",ee.created||!1))}authenticateGoogle(Z,be,ye,E){return _(this,arguments,function*(N,L,H,ee,Q={}){const pe={token:N,vars:ee},Ie=yield this.apiClient.authenticateGoogle(this.serverkey,"",pe,L,H,Q);return new Ze(Ie.token||"",Ie.refresh_token||"",Ie.created||!1)})}authenticateGameCenter(Z,be,ye,E,N,L,H,ee,Q){return _(this,arguments,function*(pe,Ie,He,dt,Jt,un,ln,fn,kn,Un={}){const Ln={bundle_id:pe,player_id:Ie,public_key_url:He,salt:dt,signature:Jt,timestamp_seconds:un,vars:kn},hr=yield this.apiClient.authenticateGameCenter(this.serverkey,"",Ln,fn,ln,Un);return new Ze(hr.token||"",hr.refresh_token||"",hr.created||!1)})}authenticateSteam(Z,be,ye,E,N){return _(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:Z,vars:N,sync:E},be,ye).then(H=>new Ze(H.token||"",H.refresh_token||"",H.created||!1))})}banGroupUsers(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.banGroupUsers(Z.token,be,ye).then(E=>void 0!==E)})}blockFriends(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.blockFriends(Z.token,be,ye).then(E=>Promise.resolve(null!=E))})}createGroup(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.createGroup(Z.token,be).then(ye=>Promise.resolve({avatar_url:ye.avatar_url,create_time:ye.create_time,creator_id:ye.creator_id,description:ye.description,edge_count:ye.edge_count?Number(ye.edge_count):0,id:ye.id,lang_tag:ye.lang_tag,max_count:ye.max_count?Number(ye.max_count):0,metadata:ye.metadata?JSON.parse(ye.metadata):void 0,name:ye.name,open:ye.open,update_time:ye.update_time}))})}createSocket(Z=!1,be=!1,ye=new Ye,E=kt.DefaultSendTimeoutMs){return new kt(this.host,this.port,Z,be,ye,E)}deleteFriends(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.deleteFriends(Z.token,be,ye).then(E=>void 0!==E)})}deleteGroup(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.deleteGroup(Z.token,be).then(ye=>void 0!==ye)})}deleteNotifications(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.deleteNotifications(Z.token,be).then(ye=>Promise.resolve(null!=ye))})}deleteStorageObjects(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.deleteStorageObjects(Z.token,be).then(ye=>Promise.resolve(null!=ye))})}demoteGroupUsers(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.demoteGroupUsers(Z.token,be,ye).then(E=>Promise.resolve(null!=E))})}emitEvent(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.event(Z.token,be).then(ye=>Promise.resolve(null!=ye))})}getAccount(Z){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.getAccount(Z.token)})}importFacebookFriends(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.importFacebookFriends(Z.token,be).then(ye=>void 0!==ye)})}importSteamFriends(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.importSteamFriends(Z.token,be,ye).then(E=>void 0!==E)})}getUsers(Z,be,ye,E){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.getUsers(Z.token,be,ye,E).then(N=>{var L={users:[]};return null==N.users||N.users.forEach(H=>{L.users.push({avatar_url:H.avatar_url,create_time:H.create_time,display_name:H.display_name,edge_count:H.edge_count?Number(H.edge_count):0,facebook_id:H.facebook_id,gamecenter_id:H.gamecenter_id,google_id:H.google_id,id:H.id,lang_tag:H.lang_tag,location:H.location,online:H.online,steam_id:H.steam_id,timezone:H.timezone,update_time:H.update_time,username:H.username,metadata:H.metadata?JSON.parse(H.metadata):void 0})}),Promise.resolve(L)})})}joinGroup(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.joinGroup(Z.token,be,{}).then(ye=>void 0!==ye)})}joinTournament(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.joinTournament(Z.token,be,{}).then(ye=>void 0!==ye)})}kickGroupUsers(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.kickGroupUsers(Z.token,be,ye).then(E=>Promise.resolve(null!=E))})}leaveGroup(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.leaveGroup(Z.token,be,{}).then(ye=>void 0!==ye)})}listChannelMessages(Z,be,ye,E,N){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listChannelMessages(Z.token,be,ye,E,N).then(L=>{var H={messages:[],next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,cacheable_cursor:L.cacheable_cursor};return null==L.messages||L.messages.forEach(ee=>{H.messages.push({channel_id:ee.channel_id,code:ee.code?Number(ee.code):0,create_time:ee.create_time,message_id:ee.message_id,persistent:ee.persistent,sender_id:ee.sender_id,update_time:ee.update_time,username:ee.username,content:ee.content?JSON.parse(ee.content):void 0,group_id:ee.group_id,room_name:ee.room_name,user_id_one:ee.user_id_one,user_id_two:ee.user_id_two})}),Promise.resolve(H)})})}listGroupUsers(Z,be,ye,E,N){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listGroupUsers(Z.token,be,E,ye,N).then(L=>{var H={group_users:[],cursor:L.cursor};return null==L.group_users||L.group_users.forEach(ee=>{H.group_users.push({user:{avatar_url:ee.user.avatar_url,create_time:ee.user.create_time,display_name:ee.user.display_name,edge_count:ee.user.edge_count?Number(ee.user.edge_count):0,facebook_id:ee.user.facebook_id,gamecenter_id:ee.user.gamecenter_id,google_id:ee.user.google_id,id:ee.user.id,lang_tag:ee.user.lang_tag,location:ee.user.location,online:ee.user.online,steam_id:ee.user.steam_id,timezone:ee.user.timezone,update_time:ee.user.update_time,username:ee.user.username,metadata:ee.user.metadata?JSON.parse(ee.user.metadata):void 0},state:ee.state?Number(ee.state):0})}),Promise.resolve(H)})})}listUserGroups(Z,be,ye,E,N){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listUserGroups(Z.token,be,ye,E,N).then(L=>{var H={user_groups:[],cursor:L.cursor};return null==L.user_groups||L.user_groups.forEach(ee=>{H.user_groups.push({group:{avatar_url:ee.group.avatar_url,create_time:ee.group.create_time,creator_id:ee.group.creator_id,description:ee.group.description,edge_count:ee.group.edge_count?Number(ee.group.edge_count):0,id:ee.group.id,lang_tag:ee.group.lang_tag,max_count:ee.group.max_count,metadata:ee.group.metadata?JSON.parse(ee.group.metadata):void 0,name:ee.group.name,open:ee.group.open,update_time:ee.group.update_time},state:ee.state?Number(ee.state):0})}),Promise.resolve(H)})})}listGroups(Z,be,ye,E){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listGroups(Z.token,be,ye,E).then(N=>{var L={groups:[]};return null==N.groups||(L.cursor=N.cursor,N.groups.forEach(H=>{L.groups.push({avatar_url:H.avatar_url,create_time:H.create_time,creator_id:H.creator_id,description:H.description,edge_count:H.edge_count?Number(H.edge_count):0,id:H.id,lang_tag:H.lang_tag,max_count:H.max_count,metadata:H.metadata?JSON.parse(H.metadata):void 0,name:H.name,open:H.open,update_time:H.update_time})})),Promise.resolve(L)})})}linkApple(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.linkApple(Z.token,be).then(ye=>void 0!==ye)})}linkCustom(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.linkCustom(Z.token,be).then(ye=>void 0!==ye)})}linkDevice(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.linkDevice(Z.token,be).then(ye=>void 0!==ye)})}linkEmail(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.linkEmail(Z.token,be).then(ye=>void 0!==ye)})}linkFacebook(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.linkFacebook(Z.token,be).then(ye=>void 0!==ye)})}linkFacebookInstantGame(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.linkFacebookInstantGame(Z.token,be).then(ye=>void 0!==ye)})}linkGoogle(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.linkGoogle(Z.token,be).then(ye=>void 0!==ye)})}linkGameCenter(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.linkGameCenter(Z.token,be).then(ye=>void 0!==ye)})}linkSteam(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.linkSteam(Z.token,be).then(ye=>void 0!==ye)})}listFriends(Z,be,ye,E){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listFriends(Z.token,ye,be,E).then(N=>{var L={friends:[],cursor:N.cursor};return null==N.friends||N.friends.forEach(H=>{L.friends.push({user:{avatar_url:H.user.avatar_url,create_time:H.user.create_time,display_name:H.user.display_name,edge_count:H.user.edge_count?Number(H.user.edge_count):0,facebook_id:H.user.facebook_id,gamecenter_id:H.user.gamecenter_id,google_id:H.user.google_id,id:H.user.id,lang_tag:H.user.lang_tag,location:H.user.location,online:H.user.online,steam_id:H.user.steam_id,timezone:H.user.timezone,update_time:H.user.update_time,username:H.user.username,metadata:H.user.metadata?JSON.parse(H.user.metadata):void 0,facebook_instant_game_id:H.user.facebook_instant_game_id},state:H.state})}),Promise.resolve(L)})})}listLeaderboardRecords(Z,be,ye,E,N,L){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listLeaderboardRecords(Z.token,be,ye,E,N,L).then(H=>{var ee={next_cursor:H.next_cursor,prev_cursor:H.prev_cursor,owner_records:[],records:[]};return null!=H.owner_records&&H.owner_records.forEach(Q=>{ee.owner_records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),null!=H.records&&H.records.forEach(Q=>{ee.records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),Promise.resolve(ee)})})}listLeaderboardRecordsAroundOwner(Z,be,ye,E,N){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listLeaderboardRecordsAroundOwner(Z.token,be,ye,E,N).then(L=>{var H={next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,owner_records:[],records:[]};return null!=L.owner_records&&L.owner_records.forEach(ee=>{H.owner_records.push({expiry_time:ee.expiry_time,leaderboard_id:ee.leaderboard_id,metadata:ee.metadata?JSON.parse(ee.metadata):void 0,num_score:ee.num_score?Number(ee.num_score):0,owner_id:ee.owner_id,rank:ee.rank?Number(ee.rank):0,score:ee.score?Number(ee.score):0,subscore:ee.subscore?Number(ee.subscore):0,update_time:ee.update_time,username:ee.username,max_num_score:ee.max_num_score?Number(ee.max_num_score):0})}),null!=L.records&&L.records.forEach(ee=>{H.records.push({expiry_time:ee.expiry_time,leaderboard_id:ee.leaderboard_id,metadata:ee.metadata?JSON.parse(ee.metadata):void 0,num_score:ee.num_score?Number(ee.num_score):0,owner_id:ee.owner_id,rank:ee.rank?Number(ee.rank):0,score:ee.score?Number(ee.score):0,subscore:ee.subscore?Number(ee.subscore):0,update_time:ee.update_time,username:ee.username,max_num_score:ee.max_num_score?Number(ee.max_num_score):0})}),Promise.resolve(H)})})}listMatches(Z,be,ye,E,N,L,H){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listMatches(Z.token,be,ye,E,N,L,H)})}listNotifications(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listNotifications(Z.token,be,ye).then(E=>{var N={cacheable_cursor:E.cacheable_cursor,notifications:[]};return null==E.notifications||E.notifications.forEach(L=>{N.notifications.push({code:L.code?Number(L.code):0,create_time:L.create_time,id:L.id,persistent:L.persistent,sender_id:L.sender_id,subject:L.subject,content:L.content?JSON.parse(L.content):void 0})}),Promise.resolve(N)})})}listStorageObjects(Z,be,ye,E,N){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listStorageObjects(Z.token,be,ye,E,N).then(L=>{var H={objects:[],cursor:L.cursor};return null==L.objects||L.objects.forEach(ee=>{H.objects.push({collection:ee.collection,key:ee.key,permission_read:ee.permission_read?Number(ee.permission_read):0,permission_write:ee.permission_write?Number(ee.permission_write):0,value:ee.value?JSON.parse(ee.value):void 0,version:ee.version,user_id:ee.user_id,create_time:ee.create_time,update_time:ee.update_time})}),Promise.resolve(H)})})}listTournaments(Z,be,ye,E,N,L,H){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listTournaments(Z.token,be,ye,E,N,L,H).then(ee=>{var Q={cursor:ee.cursor,tournaments:[]};return null!=ee.tournaments&&ee.tournaments.forEach(pe=>{Q.tournaments.push({id:pe.id,title:pe.title,description:pe.description,duration:pe.duration?Number(pe.duration):0,category:pe.category?Number(pe.category):0,sort_order:pe.sort_order?Number(pe.sort_order):0,size:pe.size?Number(pe.size):0,max_size:pe.max_size?Number(pe.max_size):0,max_num_score:pe.max_num_score?Number(pe.max_num_score):0,can_enter:pe.can_enter,end_active:pe.end_active?Number(pe.end_active):0,next_reset:pe.next_reset?Number(pe.next_reset):0,metadata:pe.metadata?JSON.parse(pe.metadata):void 0,create_time:pe.create_time,start_time:pe.start_time,end_time:pe.end_time,start_active:pe.start_active})}),Promise.resolve(Q)})})}listTournamentRecords(Z,be,ye,E,N,L){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listTournamentRecords(Z.token,be,ye,E,N,L).then(H=>{var ee={next_cursor:H.next_cursor,prev_cursor:H.prev_cursor,owner_records:[],records:[]};return null!=H.owner_records&&H.owner_records.forEach(Q=>{ee.owner_records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),null!=H.records&&H.records.forEach(Q=>{ee.records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),Promise.resolve(ee)})})}listTournamentRecordsAroundOwner(Z,be,ye,E,N){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.listTournamentRecordsAroundOwner(Z.token,be,ye,E,N).then(L=>{var H={next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,owner_records:[],records:[]};return null!=L.owner_records&&L.owner_records.forEach(ee=>{H.owner_records.push({expiry_time:ee.expiry_time,leaderboard_id:ee.leaderboard_id,metadata:ee.metadata?JSON.parse(ee.metadata):void 0,num_score:ee.num_score?Number(ee.num_score):0,owner_id:ee.owner_id,rank:ee.rank?Number(ee.rank):0,score:ee.score?Number(ee.score):0,subscore:ee.subscore?Number(ee.subscore):0,update_time:ee.update_time,username:ee.username,max_num_score:ee.max_num_score?Number(ee.max_num_score):0})}),null!=L.records&&L.records.forEach(ee=>{H.records.push({expiry_time:ee.expiry_time,leaderboard_id:ee.leaderboard_id,metadata:ee.metadata?JSON.parse(ee.metadata):void 0,num_score:ee.num_score?Number(ee.num_score):0,owner_id:ee.owner_id,rank:ee.rank?Number(ee.rank):0,score:ee.score?Number(ee.score):0,subscore:ee.subscore?Number(ee.subscore):0,update_time:ee.update_time,username:ee.username,max_num_score:ee.max_num_score?Number(ee.max_num_score):0})}),Promise.resolve(H)})})}promoteGroupUsers(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.promoteGroupUsers(Z.token,be,ye)})}readStorageObjects(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.readStorageObjects(Z.token,be).then(ye=>{var E={objects:[]};return null==ye.objects||ye.objects.forEach(N=>{E.objects.push({collection:N.collection,key:N.key,permission_read:N.permission_read?Number(N.permission_read):0,permission_write:N.permission_write?Number(N.permission_write):0,value:N.value?JSON.parse(N.value):void 0,version:N.version,user_id:N.user_id,create_time:N.create_time,update_time:N.update_time})}),Promise.resolve(E)})})}rpc(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.rpcFunc(Z.token,be,JSON.stringify(ye)).then(E=>Promise.resolve({id:E.id,payload:E.payload?JSON.parse(E.payload):void 0}))})}rpcHttpKey(Z,be,ye){return _(this,null,function*(){return this.apiClient.rpcFunc2("",be,ye&&JSON.stringify(ye)||"",Z).then(E=>Promise.resolve({id:E.id,payload:E.payload?JSON.parse(E.payload):void 0})).catch(E=>{throw E})})}sessionLogout(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.sessionLogout(Z.token,{refresh_token:ye,token:be}).then(E=>void 0!==E)})}sessionRefresh(Z){return _(this,arguments,function*(be,ye={}){if(!be)return console.error("Cannot refresh a null session."),be;be.created&&be.expires_at-be.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),be.created&&be.refresh_expires_at-be.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const E=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:be.refresh_token,vars:ye});return be.update(E.token,E.refresh_token),be})}unlinkApple(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.unlinkApple(Z.token,be).then(ye=>void 0!==ye)})}unlinkCustom(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.unlinkCustom(Z.token,be).then(ye=>void 0!==ye)})}unlinkDevice(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.unlinkDevice(Z.token,be).then(ye=>void 0!==ye)})}unlinkEmail(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.unlinkEmail(Z.token,be).then(ye=>void 0!==ye)})}unlinkFacebook(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.unlinkFacebook(Z.token,be).then(ye=>void 0!==ye)})}unlinkFacebookInstantGame(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.unlinkFacebookInstantGame(Z.token,be).then(ye=>void 0!==ye)})}unlinkGoogle(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.unlinkGoogle(Z.token,be).then(ye=>void 0!==ye)})}unlinkGameCenter(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.unlinkGameCenter(Z.token,be).then(ye=>void 0!==ye)})}unlinkSteam(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.unlinkSteam(Z.token,be).then(ye=>void 0!==ye)})}updateAccount(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.updateAccount(Z.token,be).then(ye=>void 0!==ye)})}updateGroup(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.updateGroup(Z.token,be,ye).then(E=>void 0!==E)})}validatePurchaseApple(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.validatePurchaseApple(Z.token,{receipt:be})})}validatePurchaseGoogle(Z,be){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.validatePurchaseGoogle(Z.token,{purchase:be})})}validatePurchaseHuawei(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.validatePurchaseHuawei(Z.token,{purchase:be,signature:ye})})}writeLeaderboardRecord(Z,be,ye){return _(this,null,function*(){return this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z)),this.apiClient.writeLeaderboardRecord(Z.token,be,{metadata:ye.metadata?JSON.stringify(ye.metadata):void 0,score:ye.score,subscore:ye.subscore}).then(E=>Promise.resolve({expiry_time:E.expiry_time,leaderboard_id:E.leaderboard_id,metadata:E.metadata?JSON.parse(E.metadata):void 0,num_score:E.num_score?Number(E.num_score):0,owner_id:E.owner_id,score:E.score?Number(E.score):0,subscore:E.subscore?Number(E.subscore):0,update_time:E.update_time,username:E.username,max_num_score:E.max_num_score?Number(E.max_num_score):0,rank:E.rank?Number(E.rank):0}))})}writeStorageObjects(Z,be){return _(this,null,function*(){this.autoRefreshSession&&Z.refresh_token&&Z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Z));var ye={objects:[]};return be.forEach(E=>{ye.objects.push({collection:E.collection,key:E.key,permission_read:E.permission_read,permission_write:E.permission_write,value:JSON.stringify(E.value),version:E.version})}),this.apiClient.writeStorageObjects(Z.token,ye)})}writeTournamentRecord(Z,be,ye){return _(this,null,function*(){return this.apiClient.writeTournamentRecord(Z.token,be,{metadata:ye.metadata?JSON.stringify(ye.metadata):void 0,score:ye.score,subscore:ye.subscore}).then(E=>Promise.resolve({expiry_time:E.expiry_time,leaderboard_id:E.leaderboard_id,metadata:E.metadata?JSON.parse(E.metadata):void 0,num_score:E.num_score?Number(E.num_score):0,owner_id:E.owner_id,score:E.score?Number(E.score):0,subscore:E.subscore?Number(E.subscore):0,update_time:E.update_time,username:E.username,max_num_score:E.max_num_score?Number(E.max_num_score):0,rank:E.rank?Number(E.rank):0}))})}},it=fe(5193),Xe=fe(9352),at=fe(4708),It=fe(6756),Yt=fe(5020),et=fe(6124),Mt=fe(9404),Ut=fe(4496),Wt=fe(3824),Zt=fe(4180),mn=fe(4668),wn=fe(6819),Cn=fe(5624),Sn=fe(9240),Dn=fe(4500),tr=fe(1028),Bn=function(Z){return Z[Z.MANAGE_TODO=10]="MANAGE_TODO",Z[Z.EDIT_PROFILE=11]="EDIT_PROFILE",Z[Z.MANAGE_POST=12]="MANAGE_POST",Z[Z.ADD_CHANNEL=14]="ADD_CHANNEL",Z[Z.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",Z[Z.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",Z[Z.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",Z[Z.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",Z[Z.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",Z[Z.WEBRTC_RECEIVED_CALL_SELF=25]="WEBRTC_RECEIVED_CALL_SELF",Z[Z.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",Z[Z.USER_PROFILE_CHANGED=100]="USER_PROFILE_CHANGED",Z[Z.USER_PROFILE_IMAGE_CHANGED=101]="USER_PROFILE_IMAGE_CHANGED",Z[Z.GROUP_DATA_CHANGED=200]="GROUP_DATA_CHANGED",Z[Z.GROUP_IMAGE_CHANGED=201]="GROUP_IMAGE_CHANGED",Z}(Bn||{});let lr=(()=>{var Z;class be{constructor(E,N,L,H,ee,Q,pe,Ie,He,dt,Jt,un,ln){this.p5toast=E,this.statusBar=N,this.indexed=L,this.noti=H,this.modalCtrl=ee,this.alertCtrl=Q,this.lang=pe,this.global=Ie,this.bgmode=He,this.navCtrl=dt,this.ngZone=Jt,this.loadingCtrl=un,this.nav=ln,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.TogglingSession=!1,this.isRewardAdsUsed=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.RemoteTodoCounter={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.after_rearrange_group={},this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.is_post_lock=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.OnTransfer={},this.OnTransferMessage={},this.post_counter={local:{target:{me:0}},official:{},unofficial:{}}}initialize(){var E=this;return(0,g.c)(function*(){E.global.AddressToQRCodeAct=E.AddressToQRCodeAct,E.noti.GetNotificationIds(Ie=>{E.registered_id=Ie}),yield E.set_all_todo_notification();let N=yield E.indexed.loadTextFromUserPath("servers/self/profile.json");N&&(E.users.self=JSON.parse(N));try{let Ie=(yield E.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Ie&&(E.users.self.img=Ie)}catch{}let L=yield E.indexed.loadTextFromUserPath("servers/list_detail.csv");if(L)L.split("\n").forEach(He=>{let dt=He.split(","),Jt={isOfficial:dt[1],name:dt[2],target:dt[3],address:dt[4],port:+dt[5],useSSL:"true"==dt[6]};E.servers[Jt.isOfficial][Jt.target]={},E.servers[Jt.isOfficial][Jt.target].info=Jt,E.init_server(Jt)});else{let Ie=location.href.split("?").length>1;(E.users.self.online||Ie)&&E.toggle_all_session()}E.catch_group_server_header("offline");let H=yield E.indexed.loadTextFromUserPath("servers/groups.json");H&&(E.groups=JSON.parse(H)),E.rearrange_group_list().forEach(function(){var Ie=(0,g.c)(function*(He){let dt=yield E.indexed.loadTextFromUserPath(`servers/${He.server.isOfficial}/${He.server.target}/groups/${He.id}.img`);if(dt&&(He.img=dt.replace(/"|=|\\/g,"")),"missing"!=He.status){delete He.status;let Jt=He.server.isOfficial,un=He.server.target;if(He.users)for(let ln=0,fn=He.users.length;ln<fn;ln++)He.users[ln].is_me||(He.users[ln].user=E.load_other_user(He.users[ln].user.id,Jt,un))}});return function(He){return Ie.apply(this,arguments)}}()),yield E.load_channel_list();let Q=yield E.indexed.loadTextFromUserPath("servers/list.json");Q&&(E.statusBar.groupServer=JSON.parse(Q)),Object.keys(E.statusBar.groupServer).forEach(Ie=>{E.servers[Ie]?Object.keys(E.statusBar.groupServer[Ie]).forEach(dt=>{E.servers[Ie][dt]||delete E.statusBar.groupServer[Ie][dt]}):delete E.statusBar.groupServer[Ie]}),E.users.self.online&&E.init_all_sessions(),E.showServer=!!localStorage.getItem("showServer")})()}set_all_todo_notification(){var E=this;return(0,g.c)(function*(){let N=yield E.indexed.GetFileListFromDB("info.todo");for(let L=0,H=N.length;L<H;L++){let ee=yield E.indexed.loadTextFromUserPath(N[L]);if(ee){let Q=JSON.parse(ee);E.registered_id.push(Q.noti_id),E.set_todo_notification(Q)}}})()}getGodotDBRecursive(){var E=this;return(0,g.c)(function*(){try{if(void 0===E.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(L=>{setTimeout(()=>{L(void 0)},100)}),yield E.getGodotDBRecursive()}})()}open_add_todo_page(E=""){this.AddTodoLinkAct?this.AddTodoLinkAct(E):this.ngZone.run(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:at.MZ,state:{data:E}})})}set_todo_notification(E){var N=this;return(0,g.c)(function*(){let L=E.startFrom||E.limit;if("DesktopPWA"==it.s1||"MobilePWA"==it.s1){let H=new Date(L).getTime()-(new Date).getTime();if(H>0&&H<2e9){let ee=setTimeout(()=>{N.noti.PushLocal({id:E.noti_id,title:E.title,body:E.description},void 0,Q=>{N.open_add_todo_page(JSON.stringify(E))})},H);N.web_noti_id[E.noti_id]=ee}}else{let H=new Date(L).getTime();for(let ee=0,Q=N.registered_id.length;ee<Q;ee++)if(N.registered_id[ee]==E.id){if(N.registered_id.splice(ee,1),E.id=N.get_noti_id(),!E.done&&E.remote){let pe=E.remote.isOfficial,Ie=E.remote.target;try{yield N.servers[pe][Ie].client.writeStorageObjects(N.servers[pe][Ie].session,[{collection:"server_todo",key:E.id,permission_read:2,permission_write:1,value:E}]).then(function(){var He=(0,g.c)(function*(dt){yield N.servers[pe][Ie].socket.sendMatchState(N.self_match[pe][Ie].match_id,Bn.MANAGE_TODO,encodeURIComponent(`add,${dt.acks[0].collection},${dt.acks[0].key}`))});return function(dt){return He.apply(this,arguments)}}())}catch(He){console.log("\uc11c\ubc84 \uc54c\ub9bc \uc7ac\ub4f1\ub85d \uc2e4\ud328: ",He)}}break}if(!E.done&&H>(new Date).getTime()){let ee="58a192";switch(E.importance){case"1":ee="ddbb41";break;case"2":ee="b95437"}E.custom_color&&(ee=E.custom_color),N.noti.PushLocal({id:E.noti_id,title:E.title,body:E.description,smallIcon_ln:"todo",iconColor_ln:ee,group_ln:"todo",triggerWhen_ln:{at:new Date(L)},extra_ln:{page:{component:"AddTodoMenuPage",componentProps:{data:JSON.stringify(E)}}}})}}})()}init_server(E){this.servers[E.isOfficial][E.target]||(this.servers[E.isOfficial][E.target]={}),this.servers[E.isOfficial][E.target].client=new yt(E.key||"defaultkey",E.address,(E.port||7350).toString(),E.useSSL||!1)}go_to_chatroom_without_admob_act(E,N){this.has_new_channel_msg=!1,this.rearrange_channels(),this.ChatroomLinkAct?this.ChatroomLinkAct(E,N):this.ngZone.run(()=>{this.navCtrl.navigateForward("chat-room",{animation:at.MZ,state:{info:E,file:N}})})}init_all_sessions(){var E=this;return(0,g.c)(function*(){let N=Object.keys(E.servers.official);for(let H=0,ee=N.length;H<ee;H++)yield E.init_session(E.servers.official[N[H]].info);let L=Object.keys(E.servers.unofficial);for(let H=0,ee=L.length;H<ee;H++)yield E.init_session(E.servers.unofficial[L[H]].info);return N.length+L.length})()}logout_all_server(){let E=Object.keys(this.statusBar.groupServer);for(let N=0,L=E.length;N<L;N++){let H=Object.keys(this.statusBar.groupServer[E[N]]);for(let ee=0,Q=H.length;ee<Q;ee++)"online"==this.statusBar.groupServer[E[N]][H[ee]]&&(this.servers[E[N]][H[ee]].socket?this.servers[E[N]][H[ee]].socket.disconnect(!0):this.link_group(E[N],H[ee],!1))}}toggle_all_session(E=!1){var N=this;return(0,g.c)(function*(){if(!N.TogglingSession){if(N.TogglingSession=!0,"online"==N.statusBar.settings.groupServer)N.logout_all_server(),N.p5toast.show({text:N.lang.text.Nakama.SessionLogout});else{N.p5toast.show({text:N.lang.text.Nakama.PendingLogin});try{(yield N.init_all_sessions())||(N.p5toast.show({text:N.lang.text.Subscribes.Disconnected}),E&&N.nav.navigateForward("portal/settings/group-server"))}catch{}}N.TogglingSession=!1}})()}WatchAdsAndGetDevServerInfo(E=!1){var N=this;return(0,g.c)(function*(){if(!N.isRewardAdsUsed||E){let L=yield N.loadingCtrl.create({message:N.lang.text.TodoDetail.WIP});L.present();try{if(!(yield fetch(`${it.uM}pjcone_ads/admob.txt`)).ok)throw"\uc900\ube44\ub41c \uad11\uace0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4";L.dismiss(),console.log("\ube0c\ub77c\uc6b0\uc800\uc2dd \ubcf4\uc0c1\ud615 \uad11\uace0 \uc900\ube44\uc911"),yield N.AccessToOfficialTestServer()}catch(H){console.log(H),yield N.AccessToOfficialTestServer(),L.dismiss()}return!0}return!1})()}AccessToOfficialTestServer(){var E=this;return(0,g.c)(function*(){let L=(yield(yield fetch(`${it.uM}assets/data/WSAddress.txt`)).text()).split("\n")[0];yield E.add_group_server({isOfficial:"official",address:L,name:E.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0}),E.isRewardAdsUsed=!0;let H=Object.keys(E.servers.official);for(let ee=0,Q=H.length;ee<Q;ee++)yield E.init_session(E.servers.official[H[ee]].info);"online"==E.statusBar.settings.groupServer&&E.p5toast.show({text:E.lang.text.Nakama.AccessTestServer})})()}link_group(E,N,L="offline"==this.statusBar.groupServer[E][N]){var H=this;return(0,g.c)(function*(){if(L)H.statusBar.groupServer[E][N]="pending",H.catch_group_server_header("pending"),H.users.self.online&&(yield H.init_session(H.servers[E][N].info));else{if(H.channels_orig[E]&&H.channels_orig[E][N]&&(Object.keys(H.channels_orig[E][N]).forEach(Q=>{"missing"!=H.channels_orig[E][N][Q].status&&delete H.channels_orig[E][N][Q].status}),H.rearrange_channels()),H.groups[E]&&H.groups[E][N]&&Object.keys(H.groups[E][N]).forEach(Q=>{"missing"!=H.groups[E][N][Q].status&&(H.groups[E][N][Q].status="offline")}),H.set_group_statusBar("offline",E,N),H.statusBar.groupServer[E][N]="offline",H.catch_group_server_header("offline"),H.servers[E][N].session){try{yield H.servers[E][N].client.sessionLogout(H.servers[E][N].session,H.servers[E][N].session.token,H.servers[E][N].session.refresh_token)}catch{}H.noti_origin[E]&&H.noti_origin[E][N]&&delete H.noti_origin[E][N],H.rearrange_notifications()}H.channels_orig[E]&&H.channels_orig[E][N]&&Object.keys(H.channels_orig[E][N]).forEach(Q=>{"missing"!=H.channels_orig[E][N][Q].status&&delete H.channels_orig[E][N][Q].status})}H.indexed.saveTextFileToUserPath(JSON.stringify(H.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let E=[];return Object.keys(this.servers.official).forEach(H=>{"online"==this.statusBar.groupServer.official[H]&&E.push(this.servers.official[H])}),Object.keys(this.servers.unofficial).forEach(H=>{"online"==this.statusBar.groupServer.unofficial[H]&&E.push(this.servers.unofficial[H])}),E}get_all_server_info(E=!1,N=!1){let L=[],H=Object.keys(this.servers.official);return E&&H.forEach(Q=>{N?("online"==this.statusBar.groupServer.official[Q]||"pending"==this.statusBar.groupServer.official[Q])&&L.push(this.servers.official[Q].info):this.servers.official[Q]&&L.push(this.servers.official[Q].info)}),Object.keys(this.servers.unofficial).forEach(Q=>{N?("online"==this.statusBar.groupServer.unofficial[Q]||"pending"==this.statusBar.groupServer.unofficial[Q])&&L.push(this.servers.unofficial[Q].info):this.servers.unofficial[Q]&&L.push(this.servers.unofficial[Q].info)}),L}add_group_server(E,N=(()=>{})){var L=this;if(this.statusBar.groupServer.unofficial[E.target||E.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${E.target||E.name}`});E.target=E.target||E.name,E.address=E.address||"192.168.0.1",E.port=E.port||7350,E.useSSL=E.useSSL||!1,E.isOfficial=E.isOfficial||"unofficial",E.key=E.key||"defaultkey",this.groups[E.isOfficial]||(this.groups[E.isOfficial]={}),this.groups[E.isOfficial][E.target]||(this.groups[E.isOfficial][E.target]={}),this.channels_orig[E.isOfficial]||(this.channels_orig[E.isOfficial]={}),this.channels_orig[E.isOfficial][E.target]||(this.channels_orig[E.isOfficial][E.target]={});let H=(new Date).getTime().toString();return H+=`,${E.isOfficial}`,H+=`,${E.name}`,H+=`,${E.target}`,H+=`,${E.address}`,H+=`,${E.port}`,H+=`,${E.useSSL}`,new Promise(function(){var ee=(0,g.c)(function*(Q){{let pe={urls:[`stun:${E.address}:3478`,`turn:${E.address}:3478`],username:"username",credential:"password"};yield L.SaveWebRTCServer(pe)}"official"!=E.isOfficial?L.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var pe=(0,g.c)(function*(Ie,He){let dt=[];Ie&&He&&(dt=He.split("\n")),dt.push(H),L.indexed.saveTextFileToUserPath(dt.join("\n"),"servers/list_detail.csv",Jt=>{L.init_server(E),L.servers[E.isOfficial][E.target].info={...E},N()}),L.statusBar.groupServer[E.isOfficial][E.target]="offline",yield L.indexed.saveTextFileToUserPath(JSON.stringify(L.statusBar.groupServer),"servers/list.json"),Q()});return function(Ie,He){return pe.apply(this,arguments)}}()):(L.init_server(E),L.servers[E.isOfficial][E.target].info={...E},L.statusBar.groupServer[E.isOfficial][E.target]="offline",Q())});return function(Q){return ee.apply(this,arguments)}}())}SaveWebRTCServer(E){var N=this;return(0,g.c)(function*(){let L=(yield N.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",H=JSON.parse(L),ee=!1;for(let pe=0,Ie=Object.keys(H).length;pe<Ie;pe++)if(N.catch_address_from_rtc_server_address(E)==N.catch_address_from_rtc_server_address(H[pe])){ee=!0;break}ee||H.push(E),yield N.indexed.saveTextFileToUserPath(JSON.stringify(H),"servers/webrtc_server.json")})()}RemoveWebRTCServer(E){var N=this;return(0,g.c)(function*(){let L=(yield N.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",H=JSON.parse(L);for(let Q=0,pe=Object.keys(H).length;Q<pe;Q++){let Ie=N.catch_address_from_rtc_server_address(H[Q]);E==Ie&&H.splice(Q,1)}yield N.indexed.saveTextFileToUserPath(JSON.stringify(H),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(E){let N;try{let L=E.urls[0];(L.indexOf("stun:")>=0||L.indexOf("turn:")>=0)&&(L=L.substring(5));let H=L.lastIndexOf(":");N=L.substring(0,H)}catch(L){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",L)}return N}catch_group_server_header(E){let N=E;this.statusBar.settings.groupServer=E,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(H=>{switch(this.statusBar.groupServer.official[H]){case"online":N="online";break;case"pending":"online"!=N&&(N="pending");break;case"missing":case"offline":"online"!=N&&"pending"!=N&&(N="offline")}}),"online"!=N&&Object.keys(this.statusBar.groupServer.unofficial).forEach(ee=>{switch(this.statusBar.groupServer.unofficial[ee]){case"online":N="online";break;case"pending":"online"!=N&&(N="pending");break;case"missing":case"offline":"online"!=N&&"pending"!=N&&(N="offline")}}),this.statusBar.settings.groupServer=N},1500)}init_session(E){var N=this;return(0,g.c)(function*(){N.TogglingSession=!0;try{N.servers[E.isOfficial][E.target].session=yield N.servers[E.isOfficial][E.target].client.authenticateEmail(N.users.self.email,N.users.self.password,!1),yield N.after_login(E.isOfficial,E.target,E.useSSL)}catch(L){switch(L.status){case 400:N.p5toast.show({text:N.lang.text.Nakama.NeedLoginInfo}),N.nav.navigateForward("portal/settings/group-server"),N.users.self.online=!1,delete N.users.self.password,N.set_group_statusBar("offline",E.isOfficial,E.target);break;case 401:N.p5toast.show({text:N.lang.text.Nakama.NeedAccountReset}),N.users.self.online=!1,delete N.users.self.password,N.set_group_statusBar("offline",E.isOfficial,E.target);break;case 404:if(N.servers[E.isOfficial][E.target].session=yield N.servers[E.isOfficial][E.target].client.authenticateEmail(N.users.self.email,N.users.self.password,!0),N.users.self.display_name&&N.servers[E.isOfficial][E.target].client.updateAccount(N.servers[E.isOfficial][E.target].session,{display_name:N.users.self.display_name,lang_tag:navigator.language.split("-")[0]||N.lang.lang}),N.p5toast.show({text:`${N.lang.text.Nakama.RegisterUserSucc}: ${E.name}`,lateable:!0}),N.users.self.img)try{let ee=yield N.servers[E.isOfficial][E.target].client.writeStorageObjects(N.servers[E.isOfficial][E.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:N.users.self.img}}]);N.servers[E.isOfficial][E.target].client.updateAccount(N.servers[E.isOfficial][E.target].session,{avatar_url:ee.acks[0].version})}catch(ee){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",ee)}(yield N.indexed.checkIfFileExist("servers/self/content.pck"))&&N.sync_save_file({path:"servers/self/content.pck"},E.isOfficial,E.target,"user_public","main_content"),yield N.after_login(E.isOfficial,E.target,E.useSSL);break;default:N.p5toast.show({text:`(${E.name}) ${N.lang.text.Nakama.UnexpectedLoginErr}: ${L}`}),N.set_group_statusBar("offline",E.isOfficial,E.target)}}N.TogglingSession=!1})()}after_login(E,N,L){var H=this;return(0,g.c)(function*(){H.set_group_statusBar("pending",E,N),H.servers[E][N].socket=H.servers[E][N].client.createSocket(L);try{let Q=yield H.servers[E][N].client.getAccount(H.servers[E][N].session),pe=JSON.parse(Q.user.metadata);H.servers[E][N].info.is_admin=pe.is_admin,Object.keys(Q.user).forEach(He=>{"display_name"==He?H.users.self[He]=Q.user[He]:H.users.self.display_name||(H.users.self[He]=Q.user[He])}),H.save_self_profile()}catch{}try{let Q=yield H.servers[E][N].client.readStorageObjects(H.servers[E][N].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:H.servers[E][N].session.user_id}]});Q.objects.length?H.socket_reactive.profile?(H.users.self.img=Q.objects[0].value.img,H.socket_reactive.profile(Q.objects[0].value.img)):(H.users.self.img=Q.objects[0].value.img,H.indexed.saveTextFileToUserPath(JSON.stringify(H.users.self.img),"servers/self/profile.img")):H.socket_reactive.profile("")}catch{}let ee=yield H.connect_to(E,N);try{let Q=yield H.servers[E][N].client.readStorageObjects(H.servers[E][N].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:H.servers[E][N].session.user_id}]});try{H.self_match[E]||(H.self_match[E]={}),H.self_match[E][N]||(H.self_match[E][N]=void 0),H.self_match[E][N]=yield ee.joinMatch(Q.objects[0].value.match_id)}catch{let Ie=yield ee.createMatch();H.self_match[E][N]=Ie,H.servers[E][N].client.writeStorageObjects(H.servers[E][N].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:Ie.match_id}}])}}catch{}yield H.SyncTodoCounter(E,N),yield H.load_server_todo(E,N),yield H.RemoteTodoSelfCheck(E,N),yield H.get_group_list_from_server(E,N),yield H.redirect_channel(E,N),yield H.load_posts_counter(),H.noti_origin[E]||(H.noti_origin[E]={}),H.noti_origin[E][N]||(H.noti_origin[E][N]={}),yield H.update_notifications(E,N),H.rearrange_channels(),H.rearrange_group_list(),H.set_group_statusBar("online",E,N);for(let Q=0,pe=H.AfterLoginAct.length;Q<pe;Q++)try{yield H.AfterLoginAct[Q]()}catch(Ie){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",Ie)}H.AfterLoginAct.length=0,H.AfterLoginActDone=!0})()}load_server_todo(E,N){var L=this;return(0,g.c)(function*(){try{let H=L.RemoteTodoCounter[E][N];L.RemoteTodoCounter[E]||(L.RemoteTodoCounter[E]={});for(let ee=H.length-1;ee>=0;ee--)try{let Q=`RemoteTodo_${H[ee]}`,pe=yield L.servers[E][N].client.readStorageObjects(L.servers[E][N].session,{object_ids:[{collection:"server_todo",key:Q,user_id:L.servers[E][N].session.user_id}]});if(pe.objects.length)yield L.modify_remote_info_as_local(pe.objects[0].value,E,N);else try{let Ie;L.RemoteTodoCounter[E][N].splice(ee,1);try{Ie=`todo/${Q}_${E}_${N}/info.todo`}catch{Ie=`todo/${Q}/info.todo`}let He=yield L.indexed.loadTextFromUserPath(Ie),dt=JSON.parse(He);L.deleteTodoFromStorage(!0,dt,!0)}catch{}}catch(Q){console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Q)}}catch{}})()}RemoteTodoSelfCheck(E,N){var L=this;return(0,g.c)(function*(){let H=yield L.indexed.GetFileListFromDB("todo/RemoteTodo_");for(let ee=0,Q=H.length;ee<Q;ee++)if(H[ee].indexOf("info.todo")>=0){let pe=yield L.indexed.loadTextFromUserPath(H[ee]),Ie=JSON.parse(pe);Ie.remote.isOfficial==E&&Ie.remote.target==N&&((yield L.servers[E][N].client.readStorageObjects(L.servers[E][N].session,{object_ids:[{collection:"server_todo",key:Ie.id,user_id:L.servers[E][N].session.user_id}]})).objects.length||((yield L.indexed.GetFileListFromDB(`todo/${Ie.id}_${E}_${N}`)).forEach(Jt=>L.indexed.removeFileFromUserPath(Jt)),Ie.noti_id&&("DesktopPWA"==it.s1||"MobilePWA"==it.s1)&&(clearTimeout(L.web_noti_id[Ie.noti_id]),delete L.web_noti_id[Ie.noti_id]),L.noti.ClearNoti(Ie.id),L.global.p5todo&&L.global.p5todo.remove_todo&&L.global.p5todo.remove_todo(pe)))}})()}getRemoteTodoCounter(E,N){var L=this;return(0,g.c)(function*(){try{L.RemoteTodoCounter[E][N].sort((Q,pe)=>Q-pe);let H=L.RemoteTodoCounter[E][N].length;if(!H)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let ee=L.RemoteTodoCounter[E][N][H-1]+1;return L.RemoteTodoCounter[E][N].push(ee),ee}catch{let ee=yield L.SyncTodoCounter(E,N),Q=0;return ee&&ee.objects.length&&ee.objects[0].value.data.length?Q=ee.objects[0].value.data.pop()+1:(L.RemoteTodoCounter[E]||(L.RemoteTodoCounter[E]={}),L.RemoteTodoCounter[E][N]=[0]),Q}})()}SyncTodoCounter(E,N){var L=this;return(0,g.c)(function*(){try{let H=yield L.servers[E][N].client.readStorageObjects(L.servers[E][N].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:L.servers[E][N].session.user_id}]});return L.RemoteTodoCounter[E]||(L.RemoteTodoCounter[E]={}),L.RemoteTodoCounter[E][N]=H.objects[0].value.data,H}catch{}})()}removeRemoteTodoCounter(E,N,L){var H=this;return(0,g.c)(function*(){try{let ee=H.RemoteTodoCounter[E][N].indexOf(L);ee>=0&&H.RemoteTodoCounter[E][N].splice(ee,1)}catch{H.RemoteTodoCounter[E]||(H.RemoteTodoCounter[E]={}),H.RemoteTodoCounter[E][N]||(H.RemoteTodoCounter[E][N]=[])}yield H.updateRemoteCounter(E,N)})()}updateRemoteCounter(E,N){var L=this;return(0,g.c)(function*(){if(L.RemoteTodoCounter[E][N].length){for(let H=L.RemoteTodoCounter[E][N].length-1;H>=0;H--)(void 0===L.RemoteTodoCounter[E][N][H]||null==L.RemoteTodoCounter[E][N][H])&&L.RemoteTodoCounter[E][N].splice(H,1);L.RemoteTodoCounter[E][N].sort((H,ee)=>H-ee);for(let H=L.RemoteTodoCounter[E][N].length-2;H>=0;H--)L.RemoteTodoCounter[E][N][H+1]==L.RemoteTodoCounter[E][N][H]&&L.RemoteTodoCounter[E][N].splice(H,1)}yield L.servers[E][N].client.writeStorageObjects(L.servers[E][N].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:L.RemoteTodoCounter[E][N]}}])})()}modify_remote_info_as_local(E,N,L){var H=this;return(0,g.c)(function*(){E.remote.name=H.servers[N][L].info.name,E.remote.isOfficial=N,E.remote.target=L,E.remote.type=`${N}/${L}`,H.set_todo_notification(E),H.global.p5todo&&H.global.p5todo.add_todo&&H.global.p5todo.add_todo(JSON.stringify(E));let ee=yield H.indexed.loadTextFromUserPath(`todo/${E.id}_${N}_${L}/info.todo`);if(ee){let Q=JSON.parse(ee);if(E.create_at<=Q.create_at&&Q.modified){if(Q.done)return void H.doneTodo(E,!0);if(Q.removed)return void H.deleteTodoFromStorage(!0,Q,!0);delete Q.modified,yield H.indexed.saveTextFileToUserPath(JSON.stringify(Q),`todo/${Q.id}_${N}_${L}/info.todo`),yield H.servers[Q.remote.isOfficial][Q.remote.target].client.writeStorageObjects(H.servers[Q.remote.isOfficial][Q.remote.target].session,[{collection:"server_todo",key:Q.id,permission_read:2,permission_write:1,value:Q}]).then(function(){var pe=(0,g.c)(function*(Ie){yield H.servers[Q.remote.isOfficial][Q.remote.target].socket.sendMatchState(H.self_match[Q.remote.isOfficial][Q.remote.target].match_id,Bn.MANAGE_TODO,encodeURIComponent(`add,${Ie.acks[0].collection},${Ie.acks[0].key}`))});return function(Ie){return pe.apply(this,arguments)}}())}else H.indexed.saveTextFileToUserPath(JSON.stringify(E),`todo/${E.id}_${N}_${L}/info.todo`)}else H.indexed.saveTextFileToUserPath(JSON.stringify(E),`todo/${E.id}_${N}_${L}/info.todo`)})()}doneTodo(E,N=!1){var L=this;return(0,g.c)(function*(){if(E.done=!0,L.global.p5todo&&L.global.p5todo.add_todo&&L.global.p5todo.add_todo(JSON.stringify(E)),E.remote){let H;N||(H=yield L.loadingCtrl.create({message:L.lang.text.TodoDetail.WIP}),H.present());try{L.servers[E.remote.isOfficial][E.remote.target]&&L.self_match[E.remote.isOfficial][E.remote.target]&&(yield L.servers[E.remote.isOfficial][E.remote.target].socket.sendMatchState(L.self_match[E.remote.isOfficial][E.remote.target].match_id,Bn.MANAGE_TODO,encodeURIComponent(`done,${E.id}`))),N||H.dismiss()}catch{let Q;E.modified=!0;try{Q=`todo/${E.id}_${E.remote.isOfficial}_${E.remote.target}/info.todo`}catch{Q=`todo/${E.id}/info.todo`}return yield L.indexed.saveTextFileToUserPath(JSON.stringify(E),Q),N||H.dismiss(),void L.navCtrl.pop()}}yield L.deleteTodoFromStorage(!1,E,N),L.navCtrl.pop()})()}deleteTodoFromStorage(E,N,L=!1){var H=this;return(0,g.c)(function*(){let ee;L||(ee=yield H.loadingCtrl.create({message:H.lang.text.TodoDetail.WIP}),ee.present());for(let pe=0,Ie=N.attach.length;pe<Ie;pe++)N.attach[pe].url&&(yield H.global.remove_file_from_storage(N.attach[pe].url));if(N.remote)try{if(!H.servers[N.remote.isOfficial][N.remote.target])throw"Server deleted.";try{let pe=N.remote.isOfficial,Ie=N.remote.target;yield H.servers[pe][Ie].client.deleteStorageObjects(H.servers[pe][Ie].session,{object_ids:[{collection:"server_todo",key:N.id}]});for(let He=0,dt=N.attach.length;He<dt;He++)N.attach[He].url?yield H.global.remove_file_from_storage(N.attach[He].url):yield H.sync_remove_file(N.attach[He].path,pe,Ie,"todo_attach");E&&(yield H.servers[pe][Ie].socket.sendMatchState(H.self_match[pe][Ie].match_id,Bn.MANAGE_TODO,encodeURIComponent(`delete,${N.id}`)))}catch(pe){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",pe)}try{if(N.remote.creator_id!=H.servers[N.remote.isOfficial][N.remote.target].session.user_id){let pe=(new Date).getTime();try{yield H.servers[N.remote.isOfficial][N.remote.target].client.rpc(H.servers[N.remote.isOfficial][N.remote.target].session,"manage_todo_done_fn",{id:N.id,creator_id:N.remote.creator_id,user_id:H.servers[N.remote.isOfficial][N.remote.target].session.user_id,timestamp:pe,isDelete:E})}catch{}try{let Ie=yield H.servers[N.remote.isOfficial][N.remote.target].client.readStorageObjects(H.servers[N.remote.isOfficial][N.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:N.remote.creator_id}]});Ie.objects.length&&(yield H.servers[N.remote.isOfficial][N.remote.target].socket.joinMatch(Ie.objects[0].value.match_id),yield H.servers[N.remote.isOfficial][N.remote.target].socket.sendMatchState(Ie.objects[0].value.match_id,Bn.MANAGE_TODO,encodeURIComponent(`worker,${N.id},${H.servers[N.remote.isOfficial][N.remote.target].session.user_id},${E},${pe}`)),yield H.servers[N.remote.isOfficial][N.remote.target].socket.leaveMatch(Ie.objects[0].value.match_id))}catch{}}}catch{}if(N.workers){try{yield H.servers[N.remote.isOfficial][N.remote.target].client.rpc(H.servers[N.remote.isOfficial][N.remote.target].session,"manage_todo_delete_fn",{id:N.id,workers:N.workers})}catch{}for(let pe=0,Ie=N.workers.length;pe<Ie;pe++)try{let He=yield H.servers[N.remote.isOfficial][N.remote.target].client.readStorageObjects(H.servers[N.remote.isOfficial][N.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:N.workers[pe].id}]});He.objects.length&&(yield H.servers[N.remote.isOfficial][N.remote.target].socket.joinMatch(He.objects[0].value.match_id),yield H.servers[N.remote.isOfficial][N.remote.target].socket.sendMatchState(He.objects[0].value.match_id,Bn.MANAGE_TODO,encodeURIComponent(E?`delete,${N.id}`:`done,${N.id}`)),yield H.servers[N.remote.isOfficial][N.remote.target].socket.leaveMatch(He.objects[0].value.match_id))}catch{}}yield H.removeRemoteTodoCounter(N.remote.isOfficial,N.remote.target,Number(N.id.split("_").pop()))}catch{let Ie;N.modified=!0,N.removed=!0;try{Ie=`todo/${N.id}_${N.remote.isOfficial}_${N.remote.target}/info.todo`}catch{Ie=`todo/${N.id}/info.todo`}return yield H.indexed.saveTextFileToUserPath(JSON.stringify(N),Ie),void(L||ee.dismiss())}(yield H.indexed.GetFileListFromDB(`todo/${N.id}`)).forEach(pe=>H.indexed.removeFileFromUserPath(pe)),N.noti_id&&("Android"==it.s1||"iOS"==it.s1||(clearTimeout(H.web_noti_id[N.noti_id]),delete H.web_noti_id[N.noti_id])),H.removeRegisteredId(N.noti_id),H.noti.ClearNoti(N.noti_id),E&&H.global.p5todo&&H.global.p5todo.remove_todo(JSON.stringify(N)),L||ee.dismiss()})()}load_groups(E,N,L){var H=this;return(0,g.c)(function*(){let ee=H.groups[E][N][L].channel_id;try{if("missing"!=H.groups[E][N][L].status){let Q=yield H.servers[E][N].client.listGroupUsers(H.servers[E][N].session,L);if(Q.group_users.length){let pe=!0;for(let Ie=0,He=Q.group_users.length;Ie<He;Ie++)if(Q.group_users[Ie].user.id==H.servers[E][N].session.user_id){switch(Q.group_users[Ie].state){case 0:case 1:case 2:H.groups[E][N][L].status="online";break;case 3:H.groups[E][N][L].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",Q.group_users[Ie].state),H.groups[E][N][L].status="missing"}pe=!1,Q.group_users[Ie].is_me=!0;break}pe&&(H.groups[E][N][L].status="missing",ee&&(H.channels_orig[E][N][ee].status="missing"),H.save_channels_with_less_info())}else H.groups[E][N][L].status="missing",H.channels_orig[E][N][ee].status="missing",H.save_channels_with_less_info();Q.group_users.length&&(H.groups[E][N][L].users=Q.group_users);for(let pe=0,Ie=Q.group_users.length;pe<Ie;pe++)if(Q.group_users[pe].is_me)Q.group_users[pe].user=H.users.self;else try{let He=yield H.servers[E][N].client.readStorageObjects(H.servers[E][N].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:Q.group_users[pe].user.id}]});He.objects.length?Q.group_users[pe].user.img=He.objects[0].value.img:delete Q.group_users[pe].user.img,H.save_other_user(Q.group_users[pe].user,E,N)}catch(He){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",He),H.save_other_user(Q.group_users[pe].user,E,N)}H.save_groups_with_less_info()}}catch(Q){console.log("load_groups_error: ",Q)}})()}save_self_profile(){let E={...this.users.self};delete E.img,this.indexed.saveTextFileToUserPath(JSON.stringify(E),"servers/self/profile.json")}rearrange_all_user(){let E=[];return Object.keys(this.users).forEach(L=>{"self"!=L&&Object.keys(this.users[L]).forEach(ee=>{Object.keys(this.users[L][ee]).forEach(pe=>{E.push(this.users[L][ee][pe])})})}),E}load_other_user(E,N,L,H=(ee=>{})){try{if(this.servers[N][L].session.user_id==E)return this.users.self}catch{}let ee=!1;return this.users[N][L]||(this.users[N][L]={}),this.users[N][L][E]||(this.users[N][L][E]={},this.indexed.loadTextFromUserPath(`servers/${N}/${L}/users/${E}/profile.json`,(Q,pe)=>{if(Q&&pe){let Ie=JSON.parse(pe);Object.keys(Ie).forEach(dt=>this.users[N][L][E][dt]=Ie[dt]),ee||(H(this.users[N][L][E]),ee=!0)}else try{this.servers[N][L].client.getUsers(this.servers[N][L].session,[E]).then(Ie=>{Ie.users.length?(Object.keys(Ie.users[0]).forEach(dt=>this.users[N][L][E][dt]=Ie.users[0][dt]),ee||(H(this.users[N][L][E]),ee=!0),this.users[N][L][E].img||(this.users[N][L][E].img=null),this.save_other_user(this.users[N][L][E],N,L)):(this.indexed.removeFileFromUserPath(`${N}/${L}/users/${E}`),this.indexed.removeFileFromUserPath(`${N}/${L}/users/${E}/profile.json`),this.indexed.removeFileFromUserPath(`${N}/${L}/users/${E}/profile.img`))})}catch{}}),this.users[N][L][E].img?this.save_other_user(this.users[N][L][E],N,L):this.indexed.loadTextFromUserPath(`servers/${N}/${L}/users/${E}/profile.img`,(Q,pe)=>{if(Q&&pe)this.users[N][L][E].img=pe.replace(/"|=|\\/g,"");else if(this.users[N][L][E].avatar_url)try{"online"==this.statusBar.groupServer[N][L]&&this.servers[N][L].client.readStorageObjects(this.servers[N][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:E}]}).then(Ie=>{Ie.objects.length?this.users[N][L][E].img=Ie.objects[0].value.img:delete this.users[N][L][E].avatar_url,ee||(H(this.users[N][L][E]),ee=!0),this.save_other_user(this.users[N][L][E],N,L)}).catch(Ie=>{this.users[N][L][E].img&&(delete this.users[N][L][E].img,ee||(H(this.users[N][L][E]),ee=!0),this.save_other_user(this.users[N][L][E],N,L))})}catch{}})),this.users[N][L][E]}save_other_user(E,N,L){if(this.servers[N][L].session.user_id==E.id)return;let H=JSON.parse(JSON.stringify(E));E.id!=this.servers[N][L].session.user_id&&(delete H.img,delete H.online,delete H.todo_checked,delete H.todo_done,this.users[N][L]||(this.users[N][L]={}),this.users[N][L][E.id]||(this.users[N][L][E.id]={}),Object.keys(E).forEach(Q=>this.users[N][L][E.id][Q]=E[Q]),this.indexed.saveTextFileToUserPath(JSON.stringify(H),`servers/${N}/${L}/users/${H.id}/profile.json`),E.img?this.indexed.saveTextFileToUserPath(E.img,`servers/${N}/${L}/users/${E.id}/profile.img`):void 0===E.img&&this.indexed.removeFileFromUserPath(`servers/${N}/${L}/users/${E.id}/profile.img`))}update_notifications(E,N){var L=this;return(0,g.c)(function*(){let H=yield L.servers[E][N].client.listNotifications(L.servers[E][N].session,1);L.noti_origin[E][N]={};for(let ee=0,Q=H.notifications.length;ee<Q;ee++)L.act_on_notification(H.notifications[ee],E,N);L.rearrange_notifications()})()}rearrange_notifications(){let E=[];return Object.keys(this.noti_origin).forEach(L=>{Object.keys(this.noti_origin[L]).forEach(ee=>{Object.keys(this.noti_origin[L][ee]).forEach(pe=>{E.push(this.noti_origin[L][ee][pe])})})}),E.sort((L,H)=>L.create_time<H.create_time?1:L.create_time>H.create_time?-1:0),this.notifications_rearrange=E,E}add_channels(E,N,L){var H=this;return(0,g.c)(function*(){if(!H.channels_orig[N][L][E.id]){switch(H.channels_orig[N][L][E.id]={},Object.keys(E).forEach(Q=>H.channels_orig[N][L][E.id][Q]=E[Q]),H.channels_orig[N][L][E.id].cnoti_id||(H.channels_orig[N][L][E.id].cnoti_id=H.get_noti_id()),H.channels_orig[N][L][E.id].redirect.type){case 2:let Q=H.channels_orig[N][L][E.id].redirect.id;H.channels_orig[N][L][E.id].color=(Q.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let pe=H.load_other_user(Q,N,L).online?"online":"pending";H.channels_orig[N][L][E.id].status=pe;break;case 3:try{let Ie=H.channels_orig[N][L][E.id].redirect.id;H.channels_orig[N][L][E.id].color=(Ie.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let He=yield H.servers[N][L].client.listGroupUsers(H.servers[N][L].session,Ie);H.groups[N][L][Ie].users||(H.groups[N][L][Ie].users=[]),He.group_users.forEach(dt=>{dt.user.id!=H.servers[N][L].session.user_id&&(H.users[N][L][dt.user.id]||H.save_other_user(dt.user,N,L)),dt.user.id==H.servers[N][L].session.user_id?dt.user.is_me=!0:H.users[N][L][dt.user.id]||H.save_other_user(dt.user,N,L),dt.user=H.load_other_user(dt.user.id,N,L),H.add_group_user_without_duplicate(dt,Ie,N,L)})}catch(Ie){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Ie)}H.count_channel_online_member(H.channels_orig[N][L][E.id],N,L);break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",H.channels_orig[N][L][E.id])}H.rearrange_channels(),H.servers[N][L].socket.sendMatchState(H.self_match[N][L].match_id,Bn.ADD_CHANNEL,encodeURIComponent(""))}})()}add_group_user_without_duplicate(E,N,L,H){let ee=!1;this.groups[L][H][N].users||(this.groups[L][H][N].users=[]);for(let Q=0,pe=this.groups[L][H][N].users.length;Q<pe;Q++)if(this.groups[L][H][N].users[Q].user.id==E.user.id){ee=!0;break}ee||this.groups[L][H][N].users.push(E)}load_channel_list(){var E=this;return(0,g.c)(function*(){let N=yield E.indexed.loadTextFromUserPath("servers/channels.json");N&&(E.channels_orig=JSON.parse(N),Object.keys(E.channels_orig).forEach(H=>{Object.keys(E.channels_orig[H]).forEach(Q=>{Object.keys(E.channels_orig[H][Q]).forEach(Ie=>{2==E.channels_orig[H][Q][Ie].redirect.type&&(E.channels_orig[H][Q][Ie].info=E.load_other_user(E.channels_orig[H][Q][Ie].redirect.id,H,Q)),"missing"!=E.channels_orig[H][Q][Ie].status&&delete E.channels_orig[H][Q][Ie].status,0==E.channels_orig[H][Q][Ie].redirect.type&&(E.channels_orig[H][Q][Ie].status="online"),E.channels_orig[H][Q][Ie].is_new&&!E.subscribe_lock&&(E.has_new_channel_msg=!0)})})})),E.rearrange_channels()})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(E){let N=!1;for(let L=0,H=this.registered_id.length;L<H;L++)if(this.registered_id[L]==E){N=!0;break}return N?this.check_If_RegisteredId(E+1):E}removeRegisteredId(E){for(let N=0,L=this.registered_id.length;N<L;N++)if(this.registered_id[N]==E){this.registered_id.splice(N,1);break}}redirect_channel(E,N){var L=this;return(0,g.c)(function*(){if(L.channels_orig[E][N]){let H=Object.keys(L.channels_orig[E][N]);for(let ee=0,Q=H.length;ee<Q;ee++)if("missing"!=L.channels_orig[E][N][H[ee]].status)try{switch(yield L.servers[E][N].socket.joinChat(L.channels_orig[E][N][H[ee]].redirect.id,L.channels_orig[E][N][H[ee]].redirect.type,L.channels_orig[E][N][H[ee]].redirect.persistence,!1),L.channels_orig[E][N][H[ee]].cnoti_id||(L.channels_orig[E][N][H[ee]].cnoti_id=L.get_noti_id()),L.channels_orig[E][N][H[ee]].color=(L.channels_orig[E][N][H[ee]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),L.channels_orig[E][N][H[ee]].redirect.type){case 2:try{let pe=yield L.servers[E][N].client.readStorageObjects(L.servers[E][N].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:L.channels_orig[E][N][H[ee]].redirect.id}]}),Ie=L.load_other_user(L.channels_orig[E][N][H[ee]].redirect.id,E,N);Ie.img=pe.objects.length?pe.objects[0].value.img:void 0,L.save_other_user(Ie,E,N)}catch{}case 3:if(!L.channels_orig[E][N][H[ee]].update){let pe=yield L.servers[E][N].client.listChannelMessages(L.servers[E][N].session,H[ee],1,!1);pe.messages.length&&L.update_from_channel_msg(pe.messages[0],E,N)}L.count_channel_online_member(L.channels_orig[E][N][H[ee]],E,N);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub9ac\ub2e4\uc774\ub809\uc158 \ud0c0\uc785: ",L.channels_orig[E][N][H[ee]].redirect.type)}}catch{L.channels_orig[E][N][H[ee]].status="missing"}L.rearrange_channels()}})()}rearrange_channels(){let E=[];return Object.keys(this.channels_orig).forEach(L=>{Object.keys(this.channels_orig[L]).forEach(ee=>{Object.keys(this.channels_orig[L][ee]).forEach(pe=>{this.channels_orig[L][ee][pe].server={isOfficial:L,target:ee};try{this.channels_orig[L][ee][pe].server.name=this.servers[L][ee].info.name}catch{this.channels_orig[L][ee][pe].server.name=this.lang.text.Nakama.DeletedServer}switch(this.channels_orig[L][ee][pe].redirect.type){case 1:break;case 2:this.channels_orig[L][ee][pe].info=this.load_other_user(this.channels_orig[L][ee][pe].redirect.id,L,ee),this.channels_orig[L][ee][pe].title=this.channels_orig[L][ee][pe].info.display_name;break;case 3:"missing"!=this.channels_orig[L][ee][pe].status&&(this.groups[L][ee]&&this.groups[L][ee][this.channels_orig[L][ee][pe].redirect.id]?(this.channels_orig[L][ee][pe].info=this.groups[L][ee][this.channels_orig[L][ee][pe].redirect.id],this.channels_orig[L][ee][pe].title=this.groups[L][ee][this.channels_orig[L][ee][pe].redirect.id].name,"missing"==this.groups[L][ee][this.channels_orig[L][ee][pe].redirect.id].status&&(this.channels_orig[L][ee][pe].status=this.groups[L][ee][this.channels_orig[L][ee][pe].redirect.id].status)):this.channels_orig[L][ee][pe].status="missing");break;case 0:this.channels_orig[L][ee][pe].info||(this.channels_orig[L][ee][pe].info={}),this.channels_orig[L][ee][pe].info.name=this.channels_orig[L][ee][pe].title,this.channels_orig[L][ee][pe].info.img||this.indexed.loadTextFromUserPath(`servers/${L}/${ee}/groups/${pe}.img`,(Ie,He)=>{Ie&&He&&(this.channels_orig[L][ee][pe].info.img=He)});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \ub300\ud654\ud615\uc2dd: ",this.channels_orig[L][ee][pe])}E.push(this.channels_orig[L][ee][pe])})})}),E.sort((L,H)=>{let ee=new Date(L.last_comment_time||0).getTime(),Q=new Date(H.last_comment_time||0).getTime();return ee<Q?1:ee>Q?-1:0}),E.sort((L,H)=>L.is_new?H.is_new?0:-1:H.is_new?1:0),this.channels=E,this.MakeChannelHaveContextMenuAct(),this.save_channels_with_less_info(),E}MakeChannelHaveContextMenuAct(){var E=this;setTimeout(()=>{for(let N=0,L=this.channels.length;N<L;N++){let H=document.getElementById(`${this.channels[N].server.isOfficial}_${this.channels[N].server.target}_${this.channels[N].id}`);H&&null==H.oncontextmenu&&(H.oncontextmenu=()=>{let ee;for(let He=0,dt=this.channels.length;He<dt;He++)if(`${this.channels[He].server.isOfficial}_${this.channels[He].server.target}_${this.channels[He].id}`==H.id){ee=He;break}let Q=this.channels[ee].server.isOfficial,pe=this.channels[ee].server.target,Ie=this.channels[ee].info.name||this.channels[ee].info.display_name;switch(Ie=2==this.channels[ee].redirect.type?Ie||this.lang.text.Profile.noname_user:Ie||this.lang.text.ChatRoom.noname_chatroom,this.channels[ee].redirect.type){case 3:if("online"==this.channels[ee].status||"pending"==this.channels[ee].status){this.modalCtrl.create({component:It.q,componentProps:{info:this.groups[Q][pe][this.channels[ee].group_id],server:{isOfficial:Q,target:pe}}}).then(He=>{let dt=this.global.p5key.KeyShortCut;this.global.p5key.KeyShortCut={},He.onDidDismiss().then(()=>{this.global.p5key.KeyShortCut=dt}),He.present()});break}case 2:"online"==this.channels[ee].status||"pending"==this.channels[ee].status?this.alertCtrl.create({header:Ie,message:this.lang.text.ChatRoom.UnlinkChannel,buttons:[{text:this.lang.text.ChatRoom.LogOut,handler:(He=(0,g.c)(function*(){try{yield E.servers[Q][pe].socket.leaveChat(E.channels[ee].id),E.channels_orig[Q][pe][E.channels[ee].id].status="missing"}catch(dt){console.error("\ucc44\ub110\uc5d0\uc11c \ub098\uc624\uae30 \uc2e4\ud328: ",dt)}E.rearrange_channels()}),function(){return He.apply(this,arguments)}),cssClass:"redfont"}]}).then(He=>He.present()):this.alertCtrl.create({header:Ie,message:this.lang.text.ChatRoom.RemoveChannelLogs,buttons:[{text:this.lang.text.ChatRoom.Delete,handler:function(){var He=(0,g.c)(function*(){let dt=yield E.loadingCtrl.create({message:E.lang.text.TodoDetail.WIP});dt.present(),yield E.remove_group_list(E.channels_orig[Q][pe][E.channels[ee].id].info,Q,pe,!0),delete E.channels_orig[Q][pe][E.channels[ee].id],E.remove_channel_files(Q,pe,E.channels[ee].id);try{let un=localStorage.getItem("fallback_fs");if(!un)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let ln=un.split(":"),Un=`${ln[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:"}//${ln[0]}:${ln[1]||9002}/`,Ln=`${E.channels[ee].id}_${E.users.self.display_name}`;try{Ln=`${E.channels[ee].info.id}_${E.servers[Q][pe].session.user_id}`}catch{}E.global.remove_files_from_storage_with_key(Un,Ln)}catch{}try{E.global.remove_files_from_storage_with_key(`${[E.channels[ee].info.server.useSSL?"https:":"http:"]}//${E.channels[ee].info.server.address}:9002/`,`${E.channels[ee].info.id}_${E.servers[Q][pe].session.user_id}`)}catch{}let Jt=yield E.indexed.GetFileListFromDB(`servers/${Q}/${pe}/channels/${E.channels[ee].id}`);for(let un=0,ln=Jt.length;un<ln;un++)dt.message=`${E.lang.text.UserFsDir.DeleteFile}: ${ln-un}`,yield E.indexed.removeFileFromUserPath(Jt[un]);dt.dismiss(),E.rearrange_channels()});return function(){return He.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(He=>He.present());break;case 0:this.alertCtrl.create({header:Ie,message:this.lang.text.ChatRoom.RemoveChannelLogs,buttons:[{text:this.lang.text.ChatRoom.Delete,handler:function(){var He=(0,g.c)(function*(){let dt=yield E.loadingCtrl.create({message:E.lang.text.TodoDetail.WIP});dt.present(),delete E.channels_orig[Q][pe][E.channels[ee].id];try{yield E.indexed.removeFileFromUserPath(`servers/${Q}/${pe}/groups/${E.channels[ee].id}.img`)}catch(un){console.log("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uc0ad\uc81c \uc624\ub958: ",un)}E.save_groups_with_less_info();try{let un=localStorage.getItem("fallback_fs");if(!un)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let ln=un.split(":"),Un=`${ln[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:"}//${ln[0]}:${ln[1]||9002}/`,Ln=`${E.channels[ee].id}_${E.users.self.display_name}`;try{Ln=`${E.channels[ee].info.id}_${E.servers[Q][pe].session.user_id}`}catch{}E.global.remove_files_from_storage_with_key(Un,Ln)}catch{}let Jt=yield E.indexed.GetFileListFromDB(`servers/${Q}/${pe}/channels/${E.channels[ee].id}`);for(let un=0,ln=Jt.length;un<ln;un++)dt.message=`${E.lang.text.UserFsDir.DeleteFile}: ${ln-un}`,yield E.indexed.removeFileFromUserPath(Jt[un]);dt.dismiss(),E.rearrange_channels()});return function(){return He.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(He=>He.present())}var He;return!1})}},100)}save_channels_with_less_info(){let E=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(E).forEach(L=>{Object.keys(E[L]).forEach(ee=>{let Q=Object.keys(E[L][ee]);Q.forEach(pe=>{delete E[L][ee][pe].img,delete E[L][ee][pe].group,delete E[L][ee][pe].info,delete E[L][ee][pe].update,delete E[L][ee][pe].presences,delete E[L][ee][pe].cnoti_id,delete E[L][ee][pe].status,delete E[L][ee][pe].color,E[L][ee][pe].is_new||delete E[L][ee][pe].is_new}),Q.length||delete E[L][ee]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(E),"servers/channels.json")}limit_image_size(E,N=(L=>{})){new Xe(H=>{H.setup=()=>{H.noCanvas(),H.loadImage(E,Q=>{Q.resize(window.innerWidth,window.innerWidth*Q.height/Q.width),Q.canvas.toDataURL().length>245e3&&ee(Q),N(Q),H.remove()},Q=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),H.remove()})};let ee=Q=>{Q.resize(.95*Q.width,.95*Q.height),Q.canvas.toDataURL().length>245e3&&ee(Q)}})}try_add_group(E){var N=this;return new Promise(function(){var L=(0,g.c)(function*(H,ee){let Q=N.get_all_online_server();for(let pe=0,Ie=Q.length;pe<Ie;pe++)try{let He=yield Q[pe].client.joinGroup(Q[pe].session,E.id);if(!He)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");He=yield Q[pe].client.listGroups(Q[pe].session,decodeURIComponent(E.name));for(let dt=0,Jt=He.groups.length;dt<Jt;dt++)if(He.groups[dt].id==E.id){let un=He.groups[dt];un.status=un.open?"online":"pending",un.server=N.servers[Q[pe].info.isOfficial][Q[pe].info.target].info;try{let ln=yield N.servers[Q[pe].info.isOfficial][Q[pe].info.target].client.listGroupUsers(N.servers[Q[pe].info.isOfficial][Q[pe].info.target].session,He.groups[dt].id);un.users=ln.group_users,ln.group_users.forEach(fn=>{fn.user.id==N.servers[Q[pe].info.isOfficial][Q[pe].info.target].session.user_id?fn.is_me=!0:N.save_other_user(fn.user,Q[pe].info.isOfficial,Q[pe].info.target)})}catch(ln){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",ln)}try{let ln=yield N.servers[Q[pe].info.isOfficial][Q[pe].info.target].client.readStorageObjects(N.servers[Q[pe].info.isOfficial][Q[pe].info.target].session,{object_ids:[{collection:"group_public",key:`group_${He.groups[dt].id}`,user_id:He.groups[dt].creator_id}]});ln.objects.length&&(un.img=ln.objects[0].value.img)}catch(ln){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",ln)}if(N.save_group_info(un,Q[pe].info.isOfficial,Q[pe].info.target),yield Q[pe].socket.sendMatchState(N.self_match[Q[pe].info.isOfficial][Q[pe].info.target].match_id,Bn.ADD_CHANNEL,encodeURIComponent("")),un.open){let ln=yield N.join_chat_with_modulation(un.id,3,Q[pe].info.isOfficial,Q[pe].info.target);if(!N.opened_page_info.channel||N.opened_page_info.channel.isOfficial!=Q[pe].info.isOfficial||N.opened_page_info.channel.target!=Q[pe].info.target||N.opened_page_info.channel.id!=ln.id)try{let fn=yield N.servers[Q[pe].info.isOfficial][Q[pe].info.target].client.listChannelMessages(N.servers[Q[pe].info.isOfficial][Q[pe].info.target].session,ln.id,1,!1);fn.messages.length&&N.update_from_channel_msg(fn.messages[0],Q[pe].info.isOfficial,Q[pe].info.target),N.save_group_info(un,Q[pe].info.isOfficial,Q[pe].info.target),N.go_to_chatroom_without_admob_act(ln)}catch(fn){console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",fn)}}H();break}}catch(He){switch(He.status){case 400:let dt=yield Q[pe].client.listGroups(Q[pe].session,decodeURIComponent(E.name));for(let Jt=0,un=dt.groups.length;Jt<un;Jt++)if(dt.groups[Jt].id==E.id){try{let ln=dt.groups[Jt],fn=yield N.servers[Q[Jt].info.isOfficial][Q[Jt].info.target].client.listGroupUsers(N.servers[Q[Jt].info.isOfficial][Q[Jt].info.target].session,dt.groups[Jt].id);ln.users=fn.group_users,fn.group_users.forEach(kn=>{kn.user.id==N.servers[Q[Jt].info.isOfficial][Q[Jt].info.target].session.user_id?kn.is_me=!0:N.save_other_user(kn.user,Q[Jt].info.isOfficial,Q[Jt].info.target)}),N.save_group_info(ln,Q[Jt].info.isOfficial,Q[Jt].info.target)}catch(ln){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uc911\ubcf5 \uc815\ubcf4: ",ln)}break}break;case 404:break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",He)}}ee(N.lang.text.Nakama.GroupAllListDone)});return function(H,ee){return L.apply(this,arguments)}}())}save_group_info(E,N,L){this.groups[N][L]||(this.groups[N][L]={}),this.groups[N][L][E.id]=E,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(E.img,`servers/${N}/${L}/groups/${E.id}.img`),E.owner==this.servers[N][L].session.user_id&&E.img&&this.servers[N][L].client.writeStorageObjects(this.servers[N][L].session,[{collection:"group_public",key:`group_${E.id}`,value:{img:E.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(E=(()=>{})){let N=JSON.parse(JSON.stringify(this.groups));Object.keys(N).forEach(H=>{Object.keys(N[H]).forEach(Q=>{let pe=Object.keys(N[H][Q]);pe.forEach(Ie=>{if(delete N[H][Q][Ie].server,delete N[H][Q][Ie].img,N[H][Q][Ie].users)for(let He=0,dt=N[H][Q][Ie].users.length;He<dt;He++)if(N[H][Q][Ie].users[He]){delete N[H][Q][Ie].users[He].state;try{N[H][Q][Ie].users[He].user.id?(N[H][Q][Ie].users[He].user={id:N[H][Q][Ie].users[He].user.id},this.servers[H][Q]&&this.servers[H][Q].session&&N[H][Q][Ie].users[He].user.id==this.servers[H][Q].session.user_id&&(N[H][Q][Ie].users[He].is_me=!0)):N[H][Q][Ie].users[He].is_me||N[H][Q][Ie].users.splice(He,1)}catch{}}}),pe.length||delete N[H][Q]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(N),"servers/groups.json",()=>{E()}),this.MakeChannelHaveContextMenuAct()}remove_group_list(E,N,L,H=!1){var ee=this;return(0,g.c)(function*(){try{let Q=E.creator_id==ee.servers[N][L].session.user_id;if(!ee.servers[N][L]||!Q)throw"not a group creator";try{let Ie=`${E.server.useSSL?"https":"http"}://${E.server.address}`;yield ee.global.remove_files_from_storage_with_key(Ie,E.id)}catch{}(yield ee.servers[N][L].client.deleteGroup(ee.servers[N][L].session,E.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),ee.remove_channel_files(N,L,E.channel_id,Q);try{throw yield ee.servers[N][L].client.deleteStorageObjects(ee.servers[N][L].session,{object_ids:[{collection:"group_public",key:`group_${E.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{let pe=localStorage.getItem("fallback_fs");if(!pe)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Ie=pe.split(":"),Jt=`${Ie[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:"}//${Ie[0]}:${Ie[1]||9002}/`;yield ee.global.remove_files_from_storage_with_key(Jt,`${E.id}_${ee.servers[N][L].session.user_id}`)}catch{}try{let pe=`${E.server.useSSL?"https":"http"}://${E.server.address}`;yield ee.global.remove_files_from_storage_with_key(pe,`${E.id}_${ee.servers[N][L].session.user_id}`)}catch{}}try{H&&(yield ee.indexed.removeFileFromUserPath(`servers/${N}/${L}/groups/${E.id}.img`))}catch{}})()}remove_channel_files(E,N,L,H){try{this.servers[E][N].client.rpc(this.servers[E][N].session,"remove_channel_file",{collection:`file_${L.replace(/[.]/g,"_")}`,is_creator:H}).catch(ee=>{})}catch{}}get_group_list_from_server(E,N){var L=this;return(0,g.c)(function*(){L.groups[E]||(L.groups[E]={}),L.groups[E][N]||(L.groups[E][N]={});try{let H=yield L.servers[E][N].client.listUserGroups(L.servers[E][N].session,L.servers[E][N].session.user_id);for(let ee=0,Q=H.user_groups.length;ee<Q;ee++){if(!L.groups[E][N][H.user_groups[ee].group.id]){L.groups[E][N][H.user_groups[ee].group.id]={};try{let pe=yield L.servers[E][N].client.readStorageObjects(L.servers[E][N].session,{object_ids:[{collection:"group_public",key:`group_${H.user_groups[ee].group.id}`,user_id:H.user_groups[ee].group.creator_id}]});pe.objects.length&&(L.groups[E][N][H.user_groups[ee].group.id].img=pe.objects[0].value.img,L.indexed.saveTextFileToUserPath(pe.objects[0].value.img,`servers/${E}/${N}/groups/${H.user_groups[ee].group.id}.img`))}catch(pe){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",pe)}}L.groups[E][N][H.user_groups[ee].group.id]={...L.groups[E][N][H.user_groups[ee].group.id],...H.user_groups[ee].group},L.groups[E][N][H.user_groups[ee].group.id].status="online";try{let pe=yield L.servers[E][N].client.listGroupUsers(L.servers[E][N].session,H.user_groups[ee].group.id);for(let Ie=0,He=pe.group_users.length;Ie<He;Ie++)pe.group_users[Ie].user.id==L.servers[E][N].session.user_id?pe.group_users[Ie].user.is_me=!0:(pe.group_users[Ie].user.img=null,L.save_other_user(pe.group_users[Ie].user,E,N)),pe.group_users[Ie].user=L.load_other_user(pe.group_users[Ie].user.id,E,N),L.add_group_user_without_duplicate(pe.group_users[Ie],H.user_groups[ee].group.id,E,N)}catch(pe){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",pe)}try{yield L.join_chat_with_modulation(H.user_groups[ee].group.id,3,E,N)}catch{}}L.save_groups_with_less_info()}catch(H){console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",H)}})()}rearrange_group_list(){let E=[];return Object.keys(this.groups).forEach(H=>{Object.keys(this.groups[H]).forEach(Q=>{Object.keys(this.groups[H][Q]).forEach(Ie=>{try{this.groups[H][Q][Ie].server=this.servers[H][Q].info}catch{this.groups[H][Q][Ie].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:H,target:Q}}E.push(this.groups[H][Q][Ie])})})}),Object.keys(this.after_rearrange_group).forEach(H=>this.after_rearrange_group[H](E)),E}set_group_statusBar(E,N,L){this.statusBar.groupServer[N][L]&&(this.statusBar.groupServer[N][L]=E),this.catch_group_server_header(E),this.StatusBarChangedCallback&&this.StatusBarChangedCallback()}count_channel_online_member(E,N,L){var H=this;return(0,g.c)(function*(){let ee="pending";try{if("offline"==H.statusBar.groupServer[N][L])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(E.group_id){if(H.groups[N][L][E.group_id]&&H.groups[N][L][E.group_id].users){let Q=H.groups[N][L][E.group_id].users.length;if(1==Q)ee=H.users.self.online?"online":"offline";else for(let pe=0;pe<Q;pe++){let Ie=H.groups[N][L][E.group_id].users[pe].user.id||H.servers[N][L].session.user_id;if(Ie!=H.servers[N][L].session.user_id&&H.load_other_user(Ie,N,L).online){ee="online";break}}}}else if(E.user_id_one)if(H.channels_orig[N][L][E.channel_id||E.id]){let Q=H.channels_orig[N][L][E.channel_id||E.id].redirect.id,pe=yield H.servers[N][L].client.getUsers(H.servers[N][L].session,[Q]);Object.keys(pe.users[0]).forEach(He=>{H.users[N][L][Q][He]=pe.users[0][He]}),ee=H.load_other_user(Q,N,L).online?"online":"pending"}else try{let Q=yield H.join_chat_with_modulation(E.user_id_one!=H.servers[N][L].session.user_id?E.user_id_one:E.user_id_two,2,N,L);ee=H.load_other_user(H.channels_orig[N][L][Q.id].redirect.id,N,L).online?"online":"pending"}catch(Q){console.error(Q)}}catch{ee="offline"==H.statusBar.groupServer[N][L]?"offline":"missing"}H.channels_orig[N][L][E.channel_id||E.id]||(H.channels_orig[N][L][E.channel_id||E.id]={}),"missing"!=H.channels_orig[N][L][E.channel_id||E.id].status&&(H.channels_orig[N][L][E.channel_id||E.id].status=ee)})()}remove_server(E,N){var L=this;return(0,g.c)(function*(){let H=yield L.loadingCtrl.create({message:L.lang.text.TodoDetail.WIP});H.present(),H.message=L.lang.text.Nakama.RemovingAccount;let ee=L.servers[E][N].info;try{let Ie=L.servers[E][N].session.user_id,He=`${ee.useSSL?"https":"http"}://${ee.address}`;try{yield L.global.remove_files_from_storage_with_key(He,Ie)}catch{}try{let dt=localStorage.getItem("fallback_fs");if(!dt)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Jt=dt.split(":"),fn=`${Jt[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:"}//${Jt[0]}:${Jt[1]||9002}/`;yield L.global.remove_files_from_storage_with_key(fn,Ie)}catch{}L.servers[E][N].client.rpc(L.servers[E][N].session,"remove_account_fn",{user_id:Ie}).catch(dt=>{})}catch{}if(H.message=L.lang.text.Nakama.LogoutAccount,"online"==L.statusBar.groupServer[E][N])try{L.servers[E][N].socket.disconnect(!0)}catch{L.link_group(E,N,!1)}H.message=L.lang.text.Nakama.RemovingNotification;try{delete L.noti_origin[E][N]}catch{}L.rearrange_notifications(),H.message=L.lang.text.Nakama.MissingChannels;try{let Ie=Object.keys(L.channels_orig[E][N]);L.channels_orig.deleted||(L.channels_orig.deleted={}),L.channels_orig.deleted[N]||(L.channels_orig.deleted[N]={}),Ie.forEach(He=>{L.channels_orig[E][N][He].info.status="missing",L.channels_orig[E][N][He].status="missing",L.channels_orig.deleted[N][He]=JSON.parse(JSON.stringify(L.channels_orig[E][N][He]))}),delete L.channels_orig[E][N]}catch{}L.rearrange_channels();let Q=yield L.indexed.GetFileListFromDB(`servers/unofficial/${N}`);for(let Ie=0,He=Q.length;Ie<He;Ie++){let dt=yield L.indexed.GetFileInfoFromDB(Q[Ie]),Jt=Q[Ie].replace("/official/","/deleted/").replace("/unofficial/","/deleted/");yield L.indexed.saveFileToUserPath(dt,Jt),yield L.indexed.removeFileFromUserPath(Q[Ie]),H.message=`${L.lang.text.Nakama.MissingChannelFiles}: ${Q[Ie]}`,("Android"==it.s1||"iOS"==it.s1)&&L.noti.noti.schedule({id:9,title:`${L.lang.text.Nakama.MissingChannelFiles}: ${He-Ie}`,progressBar:{value:Ie,maxValue:He},sound:null,smallIcon:"res://icon_mono",color:"b0b0b0"})}H.message=L.lang.text.Nakama.MissingGroups;try{L.groups.deleted||(L.groups.deleted={}),L.groups.deleted[N]||(L.groups.deleted[N]={}),L.groups.deleted[N]=JSON.parse(JSON.stringify(L.groups[E][N])),Object.keys(L.groups.deleted[N]).forEach(He=>{L.groups.deleted[N][He].server.name=L.lang.text.Nakama.DeletedServer,L.groups.deleted[N][He].server.isOfficial="deleted",L.groups.deleted[N][He].status="missing",L.groups.deleted[N][He]=JSON.parse(JSON.stringify(L.groups[E][N][He]))}),delete L.groups[E][N]}catch{}H.message=L.lang.text.Nakama.DeletingServerInfo,L.set_group_statusBar("offline",E,N),delete L.statusBar.groupServer[E][N],yield L.RemoveWebRTCServer(L.servers[E][N].info.address),delete L.servers[E][N],L.save_groups_with_less_info(),L.indexed.saveTextFileToUserPath(JSON.stringify(L.statusBar.groupServer),"servers/list.json");let pe=yield L.indexed.loadTextFromUserPath("servers/list_detail.csv");if(pe){let Ie=pe.split("\n");for(let He=0,dt=Ie.length;He<dt;He++)if(Ie[He].split(",")[3]==N){Ie.splice(He,1);break}L.indexed.saveTextFileToUserPath(Ie.join("\n"),"servers/list_detail.csv")}L.noti.ClearNoti(9),H.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0).length?(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"})):(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}))}connect_to(E="official",N="default"){var L=this;return(0,g.c)(function*(){yield L.servers[E][N].socket.connect(L.servers[E][N].session,!0);let H=L.servers[E][N].socket;return Object.keys(L.on_socket_connected).forEach(Q=>L.on_socket_connected[Q]()),H.onnotification=Q=>{L.act_on_notification(Q,E,N),L.rearrange_notifications()},H.onchannelpresence=Q=>{if(void 0!==Q.joins)Q.joins.forEach(pe=>{L.servers[E][N].session.user_id!=pe.user_id&&(L.load_other_user(pe.user_id,E,N).online=!0)}),L.count_channel_online_member(Q,E,N);else if(void 0!==Q.leaves){let pe=[];Q.leaves.forEach(Ie=>{L.servers[E][N].session.user_id!=Ie.user_id&&(delete L.load_other_user(Ie.user_id,E,N).online,pe.push(Ie.user_id),L.socket_reactive.WEBRTC_CHECK_ONLINE&&L.socket_reactive.WEBRTC_CHECK_ONLINE(Ie.user_id))}),pe.forEach(Ie=>L.load_other_user(Ie,E,N)),L.count_channel_online_member(Q,E,N)}L.socket_reactive["others-online"]&&L.socket_reactive["others-online"]()},H.onmatchdata=function(){var Q=(0,g.c)(function*(pe){switch(pe.data_str=decodeURIComponent((new TextDecoder).decode(pe.data)),pe.op_code){case Bn.MANAGE_TODO:{let Ie=pe.data_str.split(",");switch(Ie[0]){case"add":L.servers[E][N].client.readStorageObjects(L.servers[E][N].session,{object_ids:[{collection:Ie[1],key:Ie[2],user_id:L.servers[E][N].session.user_id}]}).then(function(){var Jt=(0,g.c)(function*(un){if(un.objects.length){try{let kn,fn=un.objects[0].value;try{if(kn=yield L.indexed.loadTextFromUserPath(`todo/${fn.id}_${E}_${N}/info.todo`),!kn)throw"empty"}catch{kn=yield L.indexed.loadTextFromUserPath(`todo/${fn.id}/info.todo`)}let Un=JSON.parse(kn);L.removeRegisteredId(Un.noti_id),L.noti.ClearNoti(Un.noti_id)}catch{}yield L.modify_remote_info_as_local(un.objects[0].value,E,N);let ln=un.objects[0].value;L.noti.ClearNoti(ln.noti_id),L.set_todo_notification(ln),L.p5toast.show({text:`${L.lang.text.Main.RequestTodo}: ${ln.title}`})}});return function(un){return Jt.apply(this,arguments)}}());break;case"done":L.indexed.loadTextFromUserPath(`todo/${Ie[1]}_${E}_${N}/info.todo`,function(){var Jt=(0,g.c)(function*(un,ln){if(un&&ln){let fn=JSON.parse(ln);fn.done=!0,yield L.modify_remote_info_as_local(fn,E,N),L.indexed.GetFileListFromDB(`todo/${Ie[1]}`,kn=>{kn.forEach(Un=>L.indexed.removeFileFromUserPath(Un)),fn.noti_id&&("DesktopPWA"==it.s1||"MobilePWA"==it.s1)&&(clearTimeout(L.web_noti_id[fn.noti_id]),delete L.web_noti_id[fn.noti_id]),L.removeRegisteredId(fn.noti_id),L.noti.ClearNoti(fn.noti_id),L.SyncTodoCounter(E,N)})}else L.indexed.loadTextFromUserPath(`todo/${Ie[1]}/info.todo`,function(){var fn=(0,g.c)(function*(kn,Un){if(kn&&Un){let Ln=JSON.parse(Un);Ln.done=!0,yield L.modify_remote_info_as_local(Ln,E,N),L.indexed.GetFileListFromDB(`todo/${Ie[1]}`,hr=>{hr.forEach(nr=>L.indexed.removeFileFromUserPath(nr)),Ln.noti_id&&("DesktopPWA"==it.s1||"MobilePWA"==it.s1)&&(clearTimeout(L.web_noti_id[Ln.noti_id]),delete L.web_noti_id[Ln.noti_id]),L.removeRegisteredId(Ln.noti_id),L.noti.ClearNoti(Ln.noti_id),L.SyncTodoCounter(E,N)})}});return function(kn,Un){return fn.apply(this,arguments)}}())});return function(un,ln){return Jt.apply(this,arguments)}}());break;case"delete":L.indexed.loadTextFromUserPath(`todo/${Ie[1]}_${E}_${N}/info.todo`,(Jt,un)=>{if(Jt&&un){let ln=JSON.parse(un);L.indexed.GetFileListFromDB(`todo/${Ie[1]}`,fn=>{fn.forEach(kn=>L.indexed.removeFileFromUserPath(kn)),ln.noti_id&&("DesktopPWA"==it.s1||"MobilePWA"==it.s1)&&(clearTimeout(L.web_noti_id[ln.noti_id]),delete L.web_noti_id[ln.noti_id]),L.removeRegisteredId(ln.noti_id),L.noti.ClearNoti(ln.noti_id),L.global.p5todo&&L.global.p5todo.remove_todo&&L.global.p5todo.remove_todo(JSON.stringify(ln))}),L.SyncTodoCounter(E,N)}else L.indexed.loadTextFromUserPath(`todo/${Ie[1]}/info.todo`,(ln,fn)=>{if(ln&&fn){let kn=JSON.parse(fn);L.indexed.GetFileListFromDB(`todo/${Ie[1]}`,Un=>{Un.forEach(Ln=>L.indexed.removeFileFromUserPath(Ln)),kn.noti_id&&("DesktopPWA"==it.s1||"MobilePWA"==it.s1)&&(clearTimeout(L.web_noti_id[kn.noti_id]),delete L.web_noti_id[kn.noti_id]),L.removeRegisteredId(kn.noti_id),L.noti.ClearNoti(kn.noti_id),L.global.p5todo&&L.global.p5todo.remove_todo&&L.global.p5todo.remove_todo(JSON.stringify(kn))}),L.SyncTodoCounter(E,N)}})});break;case"worker":let He="true"==Ie[3];L.AddTodoManageUpdateAct&&L.AddTodoManageUpdateAct(Ie[1],Ie[2],He,Number(Ie[4])),L.p5toast.show({text:`${He?L.lang.text.Main.WorkerAbandon:L.lang.text.Main.WorkerDone}: ${L.users[E][N][Ie[2]].display_name}`}),L.indexed.loadTextFromUserPath(`todo/${Ie[1]}_${E}_${N}/info.todo`,function(){var Jt=(0,g.c)(function*(un,ln){if(un&&ln){let fn=JSON.parse(ln);for(let kn=0,Un=fn.workers.length;kn<Un;kn++)if((fn.workers[kn].user_id||fn.workers[kn].id)==Ie[2]){fn.workers[kn].isDelete="true"==Ie[3],fn.workers[kn].timestamp=Number(Ie[4]);break}yield L.modify_remote_info_as_local(fn,E,N),L.SyncTodoCounter(E,N)}else L.indexed.loadTextFromUserPath(`todo/${Ie[1]}/info.todo`,function(){var fn=(0,g.c)(function*(kn,Un){if(kn&&Un){let Ln=JSON.parse(Un);for(let hr=0,nr=Ln.workers.length;hr<nr;hr++)if((Ln.workers[hr].user_id||Ln.workers[hr].id)==Ie[2]){Ln.workers[hr].isDelete="true"==Ie[3],Ln.workers[hr].timestamp=Number(Ie[4]);break}yield L.modify_remote_info_as_local(Ln,E,N),L.SyncTodoCounter(E,N)}});return function(kn,Un){return fn.apply(this,arguments)}}())});return function(un,ln){return Jt.apply(this,arguments)}}());break;default:console.log("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",pe)}L.SyncTodoCounter(E,N)}break;case Bn.EDIT_PROFILE:switch(pe.data_str){case"info":L.servers[E][N].client.getAccount(L.servers[E][N].session).then(Ie=>{Object.keys(Ie.user).forEach(dt=>L.users.self[dt]=Ie.user[dt]),L.save_self_profile()});break;case"image":L.servers[E][N].client.readStorageObjects(L.servers[E][N].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:L.servers[E][N].session.user_id}]}).then(Ie=>{Ie.objects.length?(L.indexed.saveTextFileToUserPath(JSON.stringify(Ie.objects[0].value.img),"servers/self/profile.img"),L.users.self.img=Ie.objects[0].value.img.replace(/"|=|\\/g,"")):L.indexed.removeFileFromUserPath("servers/self/profile.img")});break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",pe)}break;case Bn.ADD_CHANNEL:L.get_group_list_from_server(E,N);break;case Bn.WEBRTC_INIT_REQ_SIGNAL:L.servers[E][N].session.user_id!=pe.presence.user_id&&L.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&L.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case Bn.WEBRTC_REPLY_INIT_SIGNAL:L.servers[E][N].session.user_id!=pe.presence.user_id&&L.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&L.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(pe.data_str);break;case Bn.WEBRTC_RECEIVE_ANSWER:L.servers[E][N].session.user_id!=pe.presence.user_id&&L.socket_reactive.WEBRTC_RECEIVE_ANSWER&&L.socket_reactive.WEBRTC_RECEIVE_ANSWER(pe.data_str);break;case Bn.WEBRTC_ICE_CANDIDATES:L.servers[E][N].session.user_id!=pe.presence.user_id&&L.socket_reactive.WEBRTC_ICE_CANDIDATES&&L.socket_reactive.WEBRTC_ICE_CANDIDATES(pe.data_str);break;case Bn.WEBRTC_NEGOCIATENEEDED:L.servers[E][N].session.user_id!=pe.presence.user_id&&L.socket_reactive.WEBRTC_NEGOCIATENEEDED&&L.socket_reactive.WEBRTC_NEGOCIATENEEDED(pe.data_str);break;case Bn.WEBRTC_RECEIVED_CALL_SELF:L.socket_reactive.WEBRTC_RECEIVED_CALL_SELF&&L.socket_reactive.WEBRTC_RECEIVED_CALL_SELF();break;case Bn.WEBRTC_HANGUP:L.servers[E][N].session.user_id!=pe.presence.user_id&&L.WebRTCService&&(yield L.WebRTCService.close_webrtc());break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",pe)}});return function(pe){return Q.apply(this,arguments)}}(),H.onchannelmessage=Q=>{L.channels_orig[E][N][Q.channel_id]?(L.update_from_channel_msg(Q,E,N),Q.content.match&&Q.sender_id!=L.servers[E][N].session.user_id&&L.JoinWebRTCMatch(Q,E,N,L.channels_orig[E][N][Q.channel_id])):Q.user_id_one?L.join_chat_with_modulation(Q.sender_id,2,E,N):Q.group_id&&L.join_chat_with_modulation(Q.group_id,3,E,N)},H.ondisconnect=Q=>{L.OnSocketDisconnect(E,N)},H})()}OnSocketDisconnect(E,N){this.link_group(E,N,!1),Object.keys(this.on_socket_disconnected).forEach(H=>this.on_socket_disconnected[H]())}saveListedMessage(E,N,L,H){let ee={},Q=JSON.parse(JSON.stringify(E));for(;Q.length;){ee.target!=Q[0].msgDate&&(ee.msg&&this.saveMessageByDate(ee,N,L,H),ee.target=Q[0].msgDate,ee.msg=[]);let pe=Q.shift();delete pe.content.text,delete pe.content.img,delete pe.content.local_comp,delete pe.content.path,delete pe.msgDate,delete pe.displayDate,delete pe.msgTime,delete pe.isLastRead,delete pe.showInfo,ee.msg.push(pe)}this.saveMessageByDate(ee,N,L,H)}saveMessageByDate(E,N,L,H){if(!E.msg||!E.msg.length)return;let ee=JSON.parse(JSON.stringify(E)),Q=ee.target.split("-");this.indexed.loadTextFromUserPath(`servers/${L}/${H}/channels/${N.id}/chats/${Q[0]}/${Q[1]}/${Q[2]}`,(pe,Ie)=>{let He=[],dt=[];pe&&Ie&&(He=JSON.parse(Ie)),ee.msg.forEach(un=>{let ln=!1;for(let fn=0,kn=He.length;fn<kn;fn++)if(He[fn].message_id==un.message_id){ln=!0,He[fn]=un;break}ln||dt.push(un)});let Jt=[...He,...dt];Jt.sort((un,ln)=>un.create_time<ln.create_time?-1:un.create_time>ln.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(Jt),`servers/${L}/${H}/channels/${N.id}/chats/${Q[0]}/${Q[1]}/${Q[2]}`)})}ModulateTimeDate(E){let N=new Date(E.create_time),L=N.toLocaleDateString(this.lang.lang);E.displayDate=L,E.msgDate=`${N.getFullYear()}-${("00"+(N.getMonth()+1)).slice(-2)}-${("00"+N.getDate()).slice(-2)}`,E.msgTime=`${("00"+N.getHours()).slice(-2)}:${("00"+N.getMinutes()).slice(-2)}`}join_chat_with_modulation(E,N,L,H,ee=!1){var Q=this;return(0,g.c)(function*(){Q.channels_orig[L][H]||(Q.channels_orig[L][H]={});let pe=yield Q.servers[L][H].socket.joinChat(E,N,!0,!1);try{switch(pe.redirect={id:E,type:N,persistence:!0},pe.server={isOfficial:L,target:H},N){case 2:pe.title=Q.load_other_user(E,L,H).display_name,pe.info=Q.load_other_user(E,L,H);break;case 3:pe.title=Q.groups[L][H][E].name,pe.info=Q.groups[L][H][E],Q.groups[L][H][E].channel_id=pe.id,Q.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",N)}try{Q.channels_orig[L][H][pe.id].status="offline"}catch{}if(yield Q.add_channels(pe,L,H),!Q.opened_page_info.channel||Q.opened_page_info.channel.isOfficial!=L||Q.opened_page_info.channel.target!=H||Q.opened_page_info.channel.id!=pe.id)try{let Ie=yield Q.servers[L][H].client.listChannelMessages(Q.servers[L][H].session,pe.id,1,!1);Ie.messages.length&&Q.update_from_channel_msg(Ie.messages[0],L,H,ee)}catch(Ie){console.error("\ub9c8\uc9c0\ub9c9 \uba54\uc2dc\uc9c0 \ubc1b\uc544\uc11c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Ie)}return Q.count_channel_online_member(pe,L,H),Q.save_groups_with_less_info(),pe}catch(Ie){let He="";throw He=3===Ie.code?Q.lang.text.Nakama.AddChannelFailed_Code3:Ie.message,Q.p5toast.show({text:`${Q.lang.text.Nakama.AddChannelFailed}: ${He}`}),`${Q.lang.text.Nakama.AddChannelFailed}: ${He}`}})()}update_from_channel_msg(E,N,L,H=!1){var ee=this;return(0,g.c)(function*(){let Q=E.sender_id==ee.servers[N][L].session.user_id,pe=E.message_id!=ee.channels_orig[N][L][E.channel_id].last_comment_id,Ie=ee.modulation_channel_message(E,N,L);if(!Q&&pe){let Jt={id:ee.channels_orig[N][L][E.channel_id].cnoti_id,title:ee.channels_orig[N][L][E.channel_id].info.name||ee.channels_orig[N][L][E.channel_id].info.display_name||ee.channels_orig[N][L][E.channel_id].title||ee.lang.text.Subscribes.noTitiedChat,body:Ie.content.msg||Ie.content.noti||(Ie.content.match?ee.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${ee.lang.text.ChatRoom.attachments})`,extra_ln:{page:{component:"ChatRoomPage",componentProps:{info:{id:E.channel_id,isOfficial:N,target:L,noti_id:ee.channels_orig[N][L][E.channel_id].cnoti_id}}}},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"};Ie.content.url&&0==Ie.content.type.indexOf("image/")&&(Jt.image=Ie.content.url),ee.noti.PushLocal(Jt,ee.channels_orig[N][L][E.channel_id].cnoti_id,un=>{ee.go_to_chatroom_without_admob_act(ee.channels_orig[N][L][E.channel_id])})}switch(Q&&ee.noti.ClearNoti(ee.channels_orig[N][L][E.channel_id].cnoti_id),Ie.code){case 0:Ie.content.gupdate&&ee.update_group_info(Ie,N,L),Ie.content.user_update&&ee.update_group_user_info(Ie,N,L),pe&&(ee.channels_orig[N][L][E.channel_id].is_new=!Q,ee.subscribe_lock||(ee.has_new_channel_msg=!Q));break;case 1:case 2:break;case 3:case 4:case 5:case 6:if(ee.socket_reactive.group_detail&&ee.socket_reactive.group_detail.update_GroupUsersList(N,L),3==Ie.code||4==Ie.code)break;if(ee.noti_origin[N]&&ee.noti_origin[N][L]){let Jt=Object.keys(ee.noti_origin[N][L]),un=[];Jt.forEach(ln=>{-5==ee.noti_origin[N][L][ln].code&&ee.noti_origin[N][L][ln].sender_id==Ie.sender_id&&un.push(ln)});try{(yield ee.servers[N][L].client.deleteNotifications(ee.servers[N][L].session,un))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),ee.update_notifications(N,L)}catch(ln){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ln)}}Q&&(ee.channels_orig[N][L][Ie.channel_id].status="missing",delete ee.channels_orig[N][L][Ie.channel_id].info);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Ie)}ee.ModulateTimeDate(Ie),ee.check_sender_and_show_name(Ie,N,L);let He=E.content.msg;ee.content_to_hyperlink(Ie),!H&&ee.channels_orig[N][L][Ie.channel_id].update&&ee.channels_orig[N][L][Ie.channel_id].update(Ie),ee.channels_orig[N][L][E.channel_id].last_comment_time=E.update_time,ee.channels_orig[N][L][Ie.channel_id].last_comment_id=Ie.message_id,ee.saveListedMessage([Ie],ee.channels_orig[N][L][Ie.channel_id],N,L),2!=Ie.code&&(ee.channels_orig[N][L][Ie.channel_id].last_comment=(Ie.content.filename?`(${ee.lang.text.ChatRoom.attachments}) `:"")+(He||Ie.content.noti||(Ie.content.match?ee.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||"")),ee.rearrange_channels()})()}rearrange_posts(){this.posts.length=0;let E=Object.keys(this.posts_orig);for(let N=0,L=E.length;N<L;N++){let H=Object.keys(this.posts_orig[E[N]]);for(let ee=0,Q=H.length;ee<Q;ee++){let pe=Object.keys(this.posts_orig[E[N]][H[ee]]);for(let Ie=0,He=pe.length;Ie<He;Ie++){let dt=Object.keys(this.posts_orig[E[N]][H[ee]][pe[Ie]]);for(let Jt=0,un=dt.length;Jt<un;Jt++)this.posts.push(this.posts_orig[E[N]][H[ee]][pe[Ie]][dt[Jt]])}}}this.posts.sort((N,L)=>N.create_time<L.create_time?1:N.create_time>L.create_time?-1:0),this.MakeContextMenuOnPost()}MakeContextMenuOnPost(){setTimeout(()=>{for(let E=0,N=this.posts.length;E<N;E++){let L=document.getElementById(this.posts[E].id);L&&null==L.oncontextmenu&&(L.oncontextmenu=()=>{let H;for(let ee=0,Q=this.posts.length;ee<Q;ee++)if(this.posts[ee].id==L.id){H=ee;break}try{(this.posts[H].server.local||this.posts[H].creator_id==this.servers[this.posts[H].server.isOfficial][this.posts[H].server.target].session.user_id)&&this.alertCtrl.create({header:this.posts[H].title,message:this.posts[H].content,buttons:[{text:this.lang.text.ChatRoom.EditChat,handler:()=>{this.EditPost(this.posts[H])}},{text:this.lang.text.TodoDetail.remove,handler:()=>{this.RemovePost(this.posts[H])},cssClass:"redfont"}]}).then(ee=>ee.present())}catch{}return!1})}},100)}EditPost(E){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(E),this.socket_reactive.try_load_post&&this.socket_reactive.try_load_post()}RemovePost(E,N=!1){var L=this;return(0,g.c)(function*(){let H,ee=E.server.isOfficial,Q=E.server.target;N||(H=yield L.loadingCtrl.create({message:L.lang.text.PostViewer.RemovePost}));let pe=yield L.indexed.GetFileListFromDB(`servers/${ee}/${Q}/posts/${E.creator_id}/${E.id}`);H&&H.present();for(let Ie=0,He=pe.length;Ie<He;Ie++)H&&(H.message=`${L.lang.text.PostViewer.RemovePost}: ${pe[Ie]}`),yield L.indexed.removeFileFromUserPath(pe[Ie]);for(let Ie=0,He=E.attachments.length;Ie<He;Ie++)try{if(H&&(H.message=`${L.lang.text.PostViewer.RemovePost}: ${E.attachments[Ie].filename}`),E.attachments[Ie].url)yield L.global.remove_file_from_storage(E.attachments[Ie].url);else try{E.server.local||(yield L.sync_remove_file(`${E.id}_attach_${Ie}`,ee,Q,"server_post","",`${E.id}_attach_${Ie}`))}catch{}}catch{}if(E.mainImage)try{if(E.mainImage.url)yield L.global.remove_file_from_storage(E.mainImage.url);else try{E.server.local||(yield L.sync_remove_file(`${E.id}_mainImage`,ee,Q,"server_post","",`${E.id}_mainImage`))}catch{}}catch{}try{E.server.local||(yield L.sync_remove_file(E.id,ee,Q,"server_post","",`${E.id}`))}catch{}if(H&&H.dismiss(),delete L.posts_orig[ee][Q][E.creator_id][E.id],L.rearrange_posts(),L.socket_reactive.try_load_post&&L.socket_reactive.try_load_post(),!N)try{yield L.servers[ee][Q].client.rpc(L.servers[ee][Q].session,"send_noti_all_fn",{noti_id:Bn.MANAGE_POST,type:"remove",user_id:E.creator_id,post_id:E.id,persistent:!1})}catch{}})()}JoinWebRTCMatch(E,N,L,H){var ee=this;return(0,g.c)(function*(){try{try{ee.WebRTCService.CurrentMatch=yield ee.servers[N][L].socket.joinMatch(E.content.match)}catch(Q){throw Q}ee.WebRTCService&&(yield ee.WebRTCService.initialize("audio",void 0,{isOfficial:N,target:L,channel_id:H.id,user_id:H.info.id||H.info.user_id},!1)),yield ee.servers[N][L].socket.sendMatchState(E.content.match,Bn.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(Q){4===Q.code?ee.p5toast.show({text:ee.lang.text.ChatRoom.MatchExpiration}):(console.log("\ucc38\uc5ec \uc2e4\ud328: ",Q),ee.p5toast.show({text:`${ee.lang.text.ChatRoom.JoinMatchFailed}: ${Q}`}))}})()}content_to_hyperlink(E){if(!E.content.msg||"object"==typeof E.content.msg)return;let N=E.content.msg.split("\n");E.content.msg=[],N.forEach(L=>{let H={text:L};L&&E.content.msg.push([H]);try{let ee=H.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");H.text.length==ee.length&&(H.size=48)}catch{}});for(let L=0,H=E.content.msg.length;L<H;L++)if(E.content.msg[L][0].text){let ee=E.content.msg[L][0].text.indexOf("http://");if(ee<0&&(ee=E.content.msg[L][0].text.indexOf("https://")),ee>=0){let pe,Q=[];0!=ee&&(pe=E.content.msg[L][0].text.substring(0,ee),Q.push({text:pe}));let dt,Jt,Ie=E.content.msg[L][0].text.substring(ee),He=Ie.indexOf(" ");He<0?(dt=Ie,Q.push({text:dt,href:!0})):(dt=Ie.substring(0,He),Q.push({text:dt,href:!0}),Jt=Ie.substring(He),Q.push({text:Jt})),E.content.msg[L]=Q}}}check_sender_and_show_name(E,N,L){try{E.color=(E.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),E.sender_id==this.servers[N][L].session.user_id?(E.user_display_name=this.users.self.display_name,E.is_me=!0):E.user_display_name=this.load_other_user(E.sender_id,N,L).display_name,E.user_display_name=E.user_display_name||this.lang.text.Profile.noname_user}catch(H){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",H)}}modulation_channel_message(E,N,L){this.translate_updates(E);let ee,H=!1;try{H=E.sender_id==this.servers[N][L].session.user_id}catch{H=E.content.user_update}try{ee=H?this.users.self:this.load_other_user(E.sender_id,N,L)}catch{ee=this.users.self}switch(E.code){case 0:if(E.content.filename){try{E.content.transfer_index=this.OnTransfer[N][L][E.channel_id][E.message_id]}catch{}try{this.OnTransferMessage[E.message_id]=E}catch{}}break;case 1:case 2:break;case 3:case 4:E.content.user_update=ee,E.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${ee.display_name}`,setTimeout(()=>{this.count_channel_online_member(E,N,L)},50);break;case 5:E.content.user_update=ee,E.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${ee.display_name}`,setTimeout(()=>{this.count_channel_online_member(E,N,L)},50);break;case 6:E.content.user_update=ee,E.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${ee.display_name}`,setTimeout(()=>{this.count_channel_online_member(E,N,L)},50);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",E)}return E}update_group_info(E,N,L){switch(this.translate_updates(E),E.content.gupdate){case"remove":case"force_remove":this.groups[N][L][E.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[N][L][E.channel_id].status="missing",this.servers[N][L].socket.leaveChat(E.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",E)}}translate_updates(E){if(E.content.user_update)switch(E.content.user_update){case"modify_data":E.content.noti=`${this.lang.text.Profile.user_profile_changed}${E.content.noti_form}`;break;case"modify_img":E.content.noti=`${this.lang.text.Profile.user_image_changed}${E.content.noti_form}`}if(E.content.gupdate)switch(E.content.gupdate){case"remove":E.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":E.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(E,N,L){var H=this;return(0,g.c)(function*(){if(H.translate_updates(E),H.servers[N][L].session.user_id!=E.sender_id)switch(E.content.user_update){case"modify_data":try{let ee=yield H.servers[N][L].client.getUsers(H.servers[N][L].session,[E.sender_id]);ee.users.length?H.save_other_user(ee.users[0],N,L):(delete H.users[N][L][E.sender_id],H.indexed.removeFileFromUserPath(`servers/${N}/${L}/users/${E.sender_id}/profile.json`))}catch(ee){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",ee)}break;case"modify_img":try{let ee=yield H.servers[N][L].client.readStorageObjects(H.servers[N][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:E.sender_id}]});if(ee.objects.length)try{if(H.servers[N][L].session.user_id==E.sender_id)throw"me";H.load_other_user(E.sender_id,N,L).img=ee.objects[0].value.img.replace(/"|\\|=/g,""),H.indexed.saveTextFileToUserPath(H.users[N][L][E.sender_id].img,`servers/${N}/${L}/users/${E.sender_id}/profile.img`)}catch{H.users.self.img=ee.objects[0].value.img.replace(/"|\\|=/g,""),yield H.indexed.saveTextFileToUserPath(H.users.self.img,"servers/self/profile.img")}else try{if(H.servers[N][L].session.user_id==E.sender_id)throw"me";delete H.users[N][L][E.sender_id].img,H.indexed.removeFileFromUserPath(`servers/${N}/${L}/users/${E.sender_id}/profile.img`)}catch{delete H.users.self.img}}catch(ee){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",ee)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",E)}})()}check_notifications(E,N,L){var H=this;return(0,g.c)(function*(){let ee=H.servers[N][L];switch(E.code){case 0:case-2:break;case 1:let Q=`<img src="${E.content.url}" alt="noti_image" style="border-radius: 2px">`,pe=`<div>${decodeURIComponent(E.content.msg)}</div>`;H.alertCtrl.create({header:H.servers[N][L].info.name,message:new at.AF(E.content.url?Q+pe:pe),buttons:[{text:H.lang.text.Nakama.LocalNotiOK,handler:(He=(0,g.c)(function*(){try{yield H.servers[N][L].client.deleteNotifications(H.servers[N][L].session,[E.id])}catch{}H.noti.ClearNoti(E.id),H.update_notifications(N,L)}),function(){return He.apply(this,arguments)})}]}).then(He=>He.present());break;case-1:case-3:case-4:case-6:H.noti.RemoveListener(`check${E.code}`),H.noti.ClearNoti(E.code);try{(yield ee.client.deleteNotifications(ee.session,[E.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),H.update_notifications(N,L)}catch(He){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",He)}break;case-5:try{let He=yield ee.client.getUsers(ee.session,[E.sender_id]);if(He.users.length){let dt="";dt+=`${H.lang.text.Nakama.ReqContServer}: ${E.server.name}<br>`,dt+=`${H.lang.text.Nakama.ReqContUserName}: ${He.users[0].display_name}`,H.alertCtrl.create({header:H.lang.text.Nakama.ReqContTitle,message:dt,buttons:[{text:H.lang.text.Nakama.ReqContAccept,handler:(Jt=(0,g.c)(function*(){try{(yield ee.client.addGroupUsers(ee.session,E.content.group_id,[He.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),H.noti.RemoveListener(`check${E.code}`),H.noti.ClearNoti(E.code);try{let ln=yield ee.client.deleteNotifications(ee.session,[E.id]);ln?H.update_notifications(N,L):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",ln)}catch(ln){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ln)}}catch(un){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",un)}}),function(){return Jt.apply(this,arguments)})},{text:H.lang.text.Nakama.ReqContReject,handler:function(){var Jt=(0,g.c)(function*(){try{(yield ee.client.kickGroupUsers(ee.session,E.content.group_id,[He.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield ee.client.deleteNotifications(ee.session,[E.id]),H.update_notifications(N,L)}catch(un){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",un)}});return function(){return Jt.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(Jt=>Jt.present())}else try{(yield ee.client.deleteNotifications(ee.session,[E.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),H.p5toast.show({text:H.lang.text.Nakama.UserNotFound}),H.update_notifications(N,L)}catch(dt){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",dt)}}catch(He){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",He)}break;case-7:H.LoginAgain(H.noti_origin,N,L);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",E.code);try{yield H.servers[N][L].client.deleteNotifications(H.servers[N][L].session,[E.id])}catch{}H.update_notifications(N,L)}var Jt,He})()}act_on_notification(E,N,L){var H=this;return(0,g.c)(function*(){let ee=!1;switch(E.server=H.servers[N][L].info,E.code){case 404:H.remove_server(N,L);break;case Bn.USER_PROFILE_CHANGED:break;case Bn.USER_PROFILE_IMAGE_CHANGED:try{if(!H.users[N][L][E.content.user_id])throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let dt=yield H.servers[N][L].client.readStorageObjects(H.servers[N][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:E.content.user_id}]});if(dt.objects.length)try{if(H.servers[N][L].session.user_id==E.content.user_id)throw"me";H.load_other_user(E.content.user_id,N,L).img=dt.objects[0].value.img.replace(/"|\\|=/g,""),H.indexed.saveTextFileToUserPath(H.users[N][L][E.content.user_id].img,`servers/${N}/${L}/users/${E.content.user_id}/profile.img`)}catch{H.users.self.img=dt.objects[0].value.img.replace(/"|\\|=/g,""),yield H.indexed.saveTextFileToUserPath(H.users.self.img,"servers/self/profile.img")}else try{if(H.servers[N][L].session.user_id==E.content.user_id)throw"me";delete H.users[N][L][E.content.user_id].img,H.indexed.removeFileFromUserPath(`servers/${N}/${L}/users/${E.content.user_id}/profile.img`)}catch{delete H.users.self.img}}catch(dt){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",dt)}return;case Bn.MANAGE_POST:switch(E.content.type){case"add":try{let Jt=E.content.user_id==H.servers[N][L].session.user_id;if(!H.users[N][L][E.content.user_id]&&!Jt)throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let un=yield H.load_server_post_with_id(E.content.post_id,N,L,E.content.user_id,Jt);H.rearrange_posts(),Jt||(H.p5toast.show({text:`${H.lang.text.AddPost.Title}: ${un.title}`}),H.has_new_post=!0)}catch{}break;case"remove":H.RemovePost({id:E.content.post_id,creator_id:E.content.user_id,attachments:[],server:{isOfficial:N,target:L}},!0)}return;case Bn.GROUP_DATA_CHANGED:case Bn.GROUP_IMAGE_CHANGED:break;case 1:E.request=`${H.lang.text.Nakama.ServerNoti}: ${decodeURIComponent(E.content.msg)}`;let Q=decodeURIComponent(E.content.msg),pe=decodeURIComponent(E.content.uri);H.noti.PushLocal({id:E.code,title:H.servers[N][L].info.name,body:Q,image:pe,extra_ln:{type:"AllUserNotification",title:H.servers[N][L].info.name,body:Q,image:pe,isOfficial:N,target:L,noti_id:E.id},smallIcon_ln:"diychat",group_ln:"all_user_noti",iconColor_ln:"b95437"},"global_noti_all",dt=>{let un=`<div>${Q}</div>`;var fn;H.alertCtrl.create({header:H.servers[N][L].info.name,message:new at.AF(pe?`<img src="${pe}" alt="noti_image" style="border-radius: 2px">`+un:un),buttons:[{text:H.lang.text.Nakama.LocalNotiOK,handler:(fn=(0,g.c)(function*(){try{yield H.servers[N][L].client.deleteNotifications(H.servers[N][L].session,[E.id])}catch{}H.rearrange_notifications()}),function(){return fn.apply(this,arguments)})}]}).then(fn=>fn.present())});break;case 0:E.request=`${E.code}-${E.subject}`;break;case-1:let Ie;E.request=`${E.code}-${E.subject}`,2===(E.content&&E.content.username&&(Ie=2),Ie)?H.join_chat_with_modulation(E.sender_id,Ie,N,L):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",E,Ie),E.request=`${E.code}-${E.subject}`),ee=!0;try{(yield H.servers[N][L].client.deleteNotifications(H.servers[N][L].session,[E.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),H.update_notifications(N,L)}catch(dt){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",dt)}break;case-2:case-3:E.request=`${E.code}-${E.subject}`;break;case-4:H.socket_reactive.group_detail&&H.socket_reactive.group_detail.info.id==E.content.group_id&&H.socket_reactive.group_detail.update_from_notification(E),H.groups[N][L][E.content.group_id].status="online",E.request=`${E.code}-${E.subject}`,H.noti.RemoveListener(`check${E.code}`),H.noti.SetListener(`check${E.code}`,dt=>{H.noti.ClearNoti(dt.id),H.noti.RemoveListener(`check${E.code}`),H.check_notifications(E,N,L)});try{let dt=yield H.servers[N][L].client.readStorageObjects(H.servers[N][L].session,{object_ids:[{collection:"group_public",key:`group_${E.content.group_id}`,user_id:H.groups[N][L][E.content.group_id].creator_id}]});dt.objects.length&&(H.groups[N][L][E.content.group_id].img=dt.objects[0].value.img,H.indexed.saveTextFileToUserPath(dt.objects[0].value.img,`servers/${N}/${L}/groups/${E.content.group_id}.img`))}catch(dt){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",dt)}try{let dt=yield H.servers[N][L].client.listGroupUsers(H.servers[N][L].session,E.content.group_id);dt.group_users.length&&dt.group_users.forEach(Jt=>{H.load_other_user(Jt.user.id,N,L)})}catch(dt){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",dt)}H.join_chat_with_modulation(E.content.group_id,3,N,L),H.noti.PushLocal({id:E.code,title:`${H.groups[N][L][E.content.group_id].name}: ${H.lang.text.Nakama.LocalNotiTitle}`,body:E.subject,group_ln:"diychat",icon:H.groups[N][L][E.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,dt=>{H.check_notifications(E,N,L)});break;case-5:let He=H.groups[N][L][E.content.group_id];if(He)E.request=`${H.lang.text.Nakama.ReqContTitle}: ${He.name}`;else{ee=!0;try{let dt=yield H.servers[N][L].client.deleteNotifications(H.servers[N][L].session,[E.id]);dt?H.update_notifications(N,L):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",dt)}catch(dt){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",dt)}}H.socket_reactive.group_detail&&H.socket_reactive.group_detail.info.id==E.content.group_id&&H.socket_reactive.group_detail.update_from_notification(E),H.noti.RemoveListener(`check${E.code}`),H.noti.SetListener(`check${E.code}`,dt=>{H.noti.ClearNoti(dt.id),H.noti.RemoveListener(`check${E.code}`),!H.socket_reactive.group_detail&&H.modalCtrl.create({component:It.q,componentProps:{info:H.groups[N][L][E.content.group_id],server:H.servers[N][L].info}}).then(Jt=>Jt.present())}),H.noti.PushLocal({id:E.code,title:`${H.groups[N][L][E.content.group_id].name}: ${H.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:H.groups[N][L][E.content.group_id].img,extra_ln:{page:{component:"NakamaReqContTitle",componentProps:{data:{noti_id:E.id,serverName:H.servers[N][L].info.name,userName:H.load_other_user(E.sender_id,N,L).display_name,group_id:E.content.group_id,user_id:E.sender_id,isOfficial:N,Target:L}}}},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,dt=>{H.socket_reactive.group_detail.info.id!=E.content.group_id&&H.modalCtrl.create({component:It.q,componentProps:{info:H.groups[N][L][E.content.group_id]}}).then(Jt=>Jt.present())});break;case-6:E.request=`${E.code}-${E.subject}`;break;case-7:E.request=`${H.servers[N][L].info.name}: ${H.lang.text.Nakama.SessionLogout}`,H.LoginAgain(E,N,L);break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",E),E.request=`${E.code}-${E.subject}`}ee||(H.noti_origin[N]||(H.noti_origin[N]={}),H.noti_origin[N][L]||(H.noti_origin[N][L]={}),H.noti_origin[N][L][E.id]=E)})()}LoginAgain(E,N,L){this.alertCtrl.create({header:this.servers[N][L].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[N][L][E.id]}catch{}this.rearrange_notifications(),this.link_group(N,L,!0)}}]}).then(H=>H.present())}WriteStorage_From_channel(E,N,L,H,ee=0){var Q=this;return(0,g.c)(function*(){let pe=JSON.parse(JSON.stringify(E)),Ie=yield Q.global.req_file_info(N),He=Math.ceil(Ie.contents.length/Yt.KY);if(Q.OnTransfer[L]||(Q.OnTransfer[L]={}),Q.OnTransfer[L][H]||(Q.OnTransfer[L][H]={}),Q.OnTransfer[L][H][E.channel_id]||(Q.OnTransfer[L][H][E.channel_id]={}),Q.OnTransfer[L][H][E.channel_id][E.message_id]||(Q.OnTransfer[L][H][E.channel_id][E.message_id]={index:He}),!Q.OnTransfer[L][H][E.channel_id][E.message_id].OnTransfer){E.content.transfer_index||(E.content.transfer_index=Q.OnTransfer[L][H][E.channel_id][E.message_id]);for(let dt=ee;dt<He;dt++)try{let Jt=Q.global.req_file_part_base64(Ie,dt,N);yield Q.servers[L][H].client.writeStorageObjects(Q.servers[L][H].session,[{collection:`file_${pe.channel_id.replace(/[.]/g,"_")}`,key:`msg_${pe.message_id}_${dt}`,permission_read:2,permission_write:1,value:{data:Jt}}]),Q.OnTransfer[L][H][E.channel_id][E.message_id].index=He-1-dt,Q.OnTransfer[L][H][E.channel_id][E.message_id].OnTransfer="upload"}catch(Jt){console.log("WriteStorage_From_channel: ",Jt),Q.p5toast.show({text:`${Q.lang.text.Nakama.FailedUpload}: ${Jt}`});break}setTimeout(()=>{delete Q.OnTransfer[L][H][E.channel_id][E.message_id],Q.global.remove_req_file_info(E,N),Q.p5toast.show({text:`${Q.lang.text.ChatRoom.SendFile}: ${pe.content.filename}`})},100)}})()}ReadStorage_From_channel(E,N,L,H,ee=0){var Q=this;return(0,g.c)(function*(){let pe=JSON.parse(JSON.stringify(E));if(Q.OnTransfer[L]||(Q.OnTransfer[L]={}),Q.OnTransfer[L][H]||(Q.OnTransfer[L][H]={}),Q.OnTransfer[L][H][E.channel_id]||(Q.OnTransfer[L][H][E.channel_id]={}),Q.OnTransfer[L][H][E.channel_id][E.message_id]||(Q.OnTransfer[L][H][E.channel_id][E.message_id]={index:pe.content.partsize}),Q.OnTransfer[L][H][E.channel_id][E.message_id].OnTransfer)return;E.content.transfer_index||(E.content.transfer_index=Q.OnTransfer[L][H][E.channel_id][E.message_id]);let Ie=!0;for(let He=ee,dt=pe.content.partsize;He<dt;He++)try{let Jt=yield Q.servers[L][H].client.readStorageObjects(Q.servers[L][H].session,{object_ids:[{collection:`file_${pe.channel_id.replace(/[.]/g,"_")}`,key:`msg_${pe.message_id}_${He}`,user_id:pe.sender_id}]});Q.global.save_file_part(N,He,Jt.objects[0].value.data),Q.OnTransfer[L][H][E.channel_id][E.message_id].index=dt-1-He,Q.OnTransfer[L][H][E.channel_id][E.message_id].OnTransfer="download"}catch(Jt){console.log("ReadStorage_From_channel: ",Jt),Ie=!1,Q.p5toast.show({text:`${Q.lang.text.Nakama.FailedDownload}: ${Jt}`});break}if(Ie){if(E.content.url)E.content.thumbnail=E.content.url;else{E.content.text=[Q.lang.text.ChatRoom.SavingFile],delete E.content.transfer_index,delete Q.OnTransfer[L][H][pe.channel_id][pe.message_id].index,Q.p5toast.show({text:`${Q.lang.text.ChatRoom.SavingFile}: ${pe.content.filename}`}),("Android"==it.s1||"iOS"==it.s1)&&Q.noti.noti.schedule({id:8,title:`${Q.lang.text.ChatRoom.SavingFile}: ${E.content.filename}`,progressBar:{indeterminate:!0},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});let dt=[],Jt=0;yield new Promise(function(){var un=(0,g.c)(function*(ln){for(let fn=0,kn=pe.content.partsize;fn<kn;fn++)try{let Un=yield Q.indexed.GetFileInfoFromDB(`${N}_part/${fn}.part`);Jt+=Un.contents.length,dt[fn]=Un}catch(Un){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",Un);break}try{let fn=new Int8Array(Jt),kn=0;for(let Un=0,Ln=dt.length;Un<Ln;Un++)fn.set(dt[Un].contents,kn),kn+=dt[Un].contents.length;yield Q.indexed.saveInt8ArrayToUserPath(fn,N);for(let Un=0,Ln=pe.content.partsize;Un<Ln;Un++)Q.indexed.removeFileFromUserPath(`${N}_part/${Un}.part`);yield Q.indexed.removeFileFromUserPath(`${N}_part`),Q.global.remove_req_file_info(pe,N),E.content.text=[Q.lang.text.ChatRoom.FileSaved]}catch(fn){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",fn)}ln(void 0)});return function(ln){return un.apply(this,arguments)}}()),Q.noti.ClearNoti(8)}let He;if(pe.content.path=N,"godot"!=pe.content.viewer){let dt=yield Q.indexed.loadBlobFromUserPath(N,E.content.type||"");He=URL.createObjectURL(dt)}yield Q.global.modulate_thumbnail((Q.OnTransferMessage[pe.message_id]||E).content,He),delete Q.OnTransfer[L][H][pe.channel_id][pe.message_id],delete Q.OnTransferMessage[pe.message_id]}return Ie})()}sync_save_file(E,N,L,H,ee=""){var Q=this;return(0,g.c)(function*(){try{E.blob.size&&(yield Q.indexed.saveBlobToUserPath(E.blob,E.path));let pe=yield Q.global.req_file_info(E.path);E.partsize=Math.ceil((E.filesize||pe.contents.length)/Yt.KY),delete E.blob,yield Q.servers[N][L].client.writeStorageObjects(Q.servers[N][L].session,[{collection:H,key:ee||E.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:E}]);for(let Ie=0;Ie<E.partsize;Ie++){let He=Q.global.req_file_part_base64(pe,Ie,E.path);yield Q.servers[N][L].client.writeStorageObjects(Q.servers[N][L].session,[{collection:H,key:ee?`${ee}_${Ie}`:E.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Ie}`,permission_read:2,permission_write:1,value:{data:He}}])}Q.indexed.removeFileFromUserPath(`${E.path}.history`)}catch(pe){console.log("SyncSaveFailed: ",pe)}})()}sync_load_file(E,N,L,H,ee="",Q="",pe=!0){var Ie=this;return(0,g.c)(function*(){try{let dt=(yield Ie.servers[N][L].client.readStorageObjects(Ie.servers[N][L].session,{object_ids:[{collection:H,key:Q||E.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:ee||Ie.servers[N][L].session.user_id}]})).objects[0].value,Jt=!0;for(let un=0;un<dt.partsize;un++)try{let ln=yield Ie.servers[N][L].client.readStorageObjects(Ie.servers[N][L].session,{object_ids:[{collection:H,key:Q?`${Q}_${un}`:E.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${un}`,user_id:ee||Ie.servers[N][L].session.user_id}]});Ie.global.save_file_part(E.alt_path||E.path,un,ln.objects[0].value.data)}catch(ln){console.log("ReadStorage_From_channel: ",ln),Jt=!1,Ie.p5toast.show({text:`${Ie.lang.text.Nakama.FailedDownload}: ${ln}`}),E.url&&(E.thumbnail=E.url);break}if(Jt){delete E.url,E.text=[Ie.lang.text.ChatRoom.SavingFile],pe&&Ie.p5toast.show({text:`${Ie.lang.text.ChatRoom.SavingFile}: ${dt.filename}`}),("Android"==it.s1||"iOS"==it.s1)&&Ie.noti.noti.schedule({id:8,title:`${Ie.lang.text.ChatRoom.SavingFile}: ${dt.filename}`,progressBar:{indeterminate:!0},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});let un=[],ln=0;yield new Promise(function(){var fn=(0,g.c)(function*(kn,Un){for(let Ln=0,hr=dt.partsize;Ln<hr;Ln++)try{let nr=yield Ie.indexed.GetFileInfoFromDB(`${E.alt_path||E.path}_part/${Ln}.part`);ln+=nr.contents.length,un[Ln]=nr}catch(nr){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",nr);break}try{let Ln=new Int8Array(ln),hr=0;for(let nr=0,ft=un.length;nr<ft;nr++)Ln.set(un[nr].contents,hr),hr+=un[nr].contents.length;yield Ie.indexed.saveInt8ArrayToUserPath(Ln,E.alt_path||E.path);for(let nr=0,ft=dt.partsize;nr<ft;nr++)Ie.indexed.removeFileFromUserPath(`${E.alt_path||E.path}_part/${nr}.part`);yield Ie.indexed.removeFileFromUserPath(`${E.alt_path||E.path}_part`)}catch(Ln){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",Ln),Un()}kn(void 0)});return function(kn,Un){return fn.apply(this,arguments)}}()),Ie.noti.ClearNoti(8),Ie.indexed.removeFileFromUserPath(`${E.alt_path||E.path}.history`)}return{from:"remote",value:yield Ie.indexed.loadBlobFromUserPath(E.alt_path||E.path,dt.type||"")}}catch{try{return{from:"local",value:yield Ie.indexed.loadBlobFromUserPath(E.alt_path||E.path,E.type||"")}}catch(dt){return{from:"failed",value:null,error:dt}}}})()}sync_remove_file(E,N,L,H,ee="",Q=""){var pe=this;return(0,g.c)(function*(){try{yield pe.indexed.removeFileFromUserPath(E)}catch{}try{let He=(yield pe.servers[N][L].client.readStorageObjects(pe.servers[N][L].session,{object_ids:[{collection:H,key:E.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:ee||pe.servers[N][L].session.user_id}]})).objects[0].value;try{pe.servers[N][L].client.rpc(pe.servers[N][L].session,"remove_channel_file",{collection:H,key:(Q||He.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120))+"_"})}catch{}yield pe.servers[N][L].client.deleteStorageObjects(pe.servers[N][L].session,{object_ids:[{collection:H,key:Q||He.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch{}})()}AddressToQRCodeAct(E,N=!1){var L=this;return(0,g.c)(function*(){let H=[];if(E.open_profile&&H.push({type:"open_profile"}),E.tmp_user){let ee=E.tmp_user[0].split(",");L.users.self.email=ee[0],L.users.self.password=ee[1],L.users.self.display_name=ee[2],L.users.self.online=!0,L.save_self_profile()}if(E.server)for(let ee=0,Q=E.server.length;ee<Q;ee++){let pe=E.server[ee].split(",");H.push({type:"server",value:{name:pe[0]||"No named server",target:pe[0]||"No named server",address:pe[1]||"192.168.0.1",useSSL:pe[2]||!1,port:pe[3]||7350,key:pe[4]||"defaultkey",isOfficial:"unofficial"}})}if(E.group)for(let ee=0,Q=E.group.length;ee<Q;ee++){let pe=E.group[ee].split(",");H.push({type:"group",name:pe[0],id:pe[1]})}if(E.group_dedi&&"http:"==window.location.protocol&&H.push({type:"group_dedi",value:{address:`ws://${E.group_dedi[0]}`}}),E.open_prv_channel){let ee=E.open_prv_channel[0].split(",");H.push({type:"open_prv_channel",user_id:ee[0],isOfficial:ee[1]||"official",target:ee[2]||"DevTestServer"})}if(E.open_channel){let ee=E.open_channel[0].split(",");H.push({type:"open_channel",group_id:ee[0],isOfficial:ee[1],target:ee[2]})}if(E.rtcserver)for(let ee=0,Q=E.rtcserver.length;ee<Q;ee++){let pe=E.rtcserver[ee].split("]"),Ie=pe[0].split("[")[1],He=pe[1].split(",");H.push({type:"rtcserver",value:{urls:Ie.split(","),username:He[1],credential:He[2]}})}if(N)return H;yield L.act_from_QRInfo(H)})()}act_from_QRInfo(E){var N=this;return(0,g.c)(function*(){let L=!1;for(let H=0,ee=E.length;H<ee;H++)switch(E[H].type){case"open_profile":N.nav.navigateForward("portal/settings/group-server");break;case"tmp_user":break;case"server":if(N.statusBar.groupServer.unofficial[E[H].value.name])N.p5toast.show({text:`${N.lang.text.Nakama.AlreadyHaveTargetName}: ${E[H].value.name}`}),delete E[H].value.name,yield N.modalCtrl.create({component:Mt.E,componentProps:{data:E[H].value}}).then(Ie=>{Ie.onWillDismiss().then(()=>{L=!0}),Ie.present()});else{let Ie={name:decodeURIComponent(E[H].value.name),target:decodeURIComponent(E[H].value.target),address:decodeURIComponent(E[H].value.address),port:E[H].value.port,useSSL:E[H].value.useSSL,isOfficial:E[H].value.isOfficial,key:decodeURIComponent(E[H].value.key)};yield N.add_group_server(Ie),yield N.init_session(Ie)}break;case"group_dedi":for(let Ie=0,He=20;Ie<He&&!N.lang.text.MinimalChat.leave_chat_group;Ie++)yield new Promise(dt=>setTimeout(dt,1e3));yield N.modalCtrl.create({component:et._,componentProps:{address:E[H].value.address,name:N.users.self.display_name}}).then(Ie=>{let He=N.global.p5key.KeyShortCut;N.global.p5key.KeyShortCut={},Ie.onDidDismiss().then(()=>{N.global.p5key.KeyShortCut=He}),Ie.present()});break;case"group":N.AfterLoginActDone?yield N.try_add_group(E[H]):N.AfterLoginAct.push((0,g.c)(function*(){L||(yield N.WatchAdsAndGetDevServerInfo()),yield N.try_add_group(E[H])}));break;case"open_prv_channel":if(N.AfterLoginActDone){let Ie=yield N.join_chat_with_modulation(E[H].user_id,2,E[H].isOfficial,E[H].target,!0);N.go_to_chatroom_without_admob_act(Ie)}else N.AfterLoginAct.push((0,g.c)(function*(){L||(yield N.WatchAdsAndGetDevServerInfo());let Ie=yield N.join_chat_with_modulation(E[H].user_id,2,E[H].isOfficial,E[H].target,!0);N.go_to_chatroom_without_admob_act(Ie)}));break;case"open_channel":if(N.AfterLoginActDone){let Ie=yield N.join_chat_with_modulation(E[H].group_id,3,E[H].isOfficial,E[H].target,!0);N.go_to_chatroom_without_admob_act(Ie)}else N.AfterLoginAct.push((0,g.c)(function*(){L||(yield N.WatchAdsAndGetDevServerInfo());let Ie=yield N.join_chat_with_modulation(E[H].group_id,3,E[H].isOfficial,E[H].target,!0);N.go_to_chatroom_without_admob_act(Ie)}));break;case"rtcserver":let pe=[];try{if(!N.lang.text.WebRTCDevManager.NoRegServer)throw"\ubc88\uc5ed \uc900\ube44 \uc548\ub428";let Ie=yield N.indexed.loadTextFromUserPath("servers/webrtc_server.json");pe=JSON.parse(Ie)}catch{}pe.push(E[H].value),yield N.indexed.saveTextFileToUserPath(JSON.stringify(pe),"servers/webrtc_server.json");break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}load_local_post_with_id(E,N,L,H){var ee=this;return(0,g.c)(function*(){let Q=yield ee.indexed.loadTextFromUserPath(`servers/${N}/${L}/posts/${H}/${E}/info.json`);try{try{if(ee.posts_orig[N][L][H][E])throw"exist"}catch(Ie){if("exist"==Ie)throw"\uc774\ubbf8 \uc788\ub294 \uac8c\uc2dc\ubb3c"}let pe=JSON.parse(Q);if(pe.server={name:ee.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0},pe.mainImage)try{if(pe.mainImage.url)pe.mainImage.thumbnail=pe.mainImage.url;else{let Ie=yield ee.indexed.loadBlobFromUserPath(pe.mainImage.path,pe.mainImage.type);pe.mainImage.blob=Ie;let He=URL.createObjectURL(Ie);pe.mainImage.thumbnail=He,setTimeout(()=>{URL.revokeObjectURL(He)},5e3)}}catch{}return ee.posts_orig[N][L][H][E]=pe,!0}catch{return!1}})()}load_server_post_with_id(E,N,L,H,ee){var Q=this;return(0,g.c)(function*(){try{let pe={path:`servers/${N}/${L}/posts/${H}/${E}/info.json`,type:"application/json"},Ie=yield Q.sync_load_file(pe,N,L,"server_post",H,E,!1),He=yield Ie.value.text(),dt=JSON.parse(He);ee&&(dt.is_me=!0);let Jt=new Blob([JSON.stringify(dt)],{type:"application/json"});Q.indexed.saveBlobToUserPath(Jt,pe.path),dt.server={isOfficial:N,target:L};try{dt.server.name=Q.servers[N][L].info.name}catch{dt.server.name=Q.lang.text.Nakama.DeletedServer}if(dt.mainImage)if(dt.mainImage.url)dt.mainImage.thumbnail=dt.mainImage.url;else{let un={path:dt.mainImage.path,alt_path:`servers/${N}/${L}/posts/${H}/${E}/mainImage.png`,type:"image/png"},ln=(yield Q.sync_load_file(un,N,L,"server_post",H,`${E}_mainImage`,!1)).value;dt.mainImage.blob=ln;let fn=URL.createObjectURL(ln);dt.mainImage.thumbnail=fn,setTimeout(()=>{URL.revokeObjectURL(fn)},5e3)}if(Q.posts_orig[N][L]||(Q.posts_orig[N][L]={}),Q.posts_orig[N][L][H]||(Q.posts_orig[N][L][H]={}),Q.posts_orig[N][L][H][E]=dt,"local"==Ie.from)try{if(!(yield Q.servers[N][L].client.readStorageObjects(Q.servers[N][L].session,{object_ids:[{collection:"server_post",key:E,user_id:H}]})).objects.length)throw"Not RemoteExist"}catch(un){if("Not RemoteExist"==un)throw"RemoveSelf"}return dt}catch(pe){return"RemoveSelf"==pe&&Q.RemovePost(Q.posts_orig[N][L][H][E],!0),!1}})()}load_posts_counter(){var E=this;return(0,g.c)(function*(){let N={};try{let ee=yield E.indexed.loadTextFromUserPath("servers/post_counter.json"),Q=JSON.parse(ee);N=ee,E.post_counter=Q}catch{}let L=Number(yield E.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;E.post_counter.local.target.me=L;let H=E.get_all_server_info(!0,!0);for(let ee=0,Q=H.length;ee<Q;ee++){let pe=H[ee].isOfficial,Ie=H[ee].target;E.post_counter[pe][Ie]||(E.post_counter[pe][Ie]={});try{let He=yield E.servers[pe][Ie].client.readStorageObjects(E.servers[pe][Ie].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:E.servers[pe][Ie].session.user_id}]}),dt=0;He.objects.length&&(dt=He.objects[0].value.counter),E.post_counter[pe][Ie][E.servers[pe][Ie].session.user_id]=dt}catch(He){console.log("\ub0b4 \uc11c\ubc84 \uac8c\uc2dc\ubb3c \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",He)}if(E.users[pe][Ie]){let He=Object.keys(E.users[pe][Ie]);for(let dt=0,Jt=He.length;dt<Jt;dt++)try{let un=yield E.servers[pe][Ie].client.readStorageObjects(E.servers[pe][Ie].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:He[dt]}]}),ln=0;un.objects.length&&(ln=un.objects[0].value.counter),E.post_counter[pe][Ie][He[dt]]=ln}catch(un){console.log("\ub2e4\ub978 \uc0ac\ub78c\uc758 \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",un)}}N!=JSON.stringify(E.post_counter)&&(yield E.indexed.saveTextFileToUserPath(JSON.stringify(E.post_counter),"servers/post_counter.json"),E.has_new_post=!0)}})()}}return(Z=be).\u0275fac=function(E){return new(E||Z)(Ut.CoB(Wt.O),Ut.CoB(Zt.Y),Ut.CoB(mn.k),Ut.CoB(wn.s),Ut.CoB(Cn.qS),Ut.CoB(Cn.iW),Ut.CoB(Dn.o),Ut.CoB(Yt.A1),Ut.CoB(tr.Y),Ut.CoB(Sn.wX),Ut.CoB(Ut.WW2),Ut.CoB(Cn.Kg),Ut.CoB(Sn.wX))},Z.\u0275prov=Ut.wxM({token:Z,factory:Z.\u0275fac,providedIn:"root"}),be})()},4428:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{y:()=>l});var g=fe(1528),Ce=fe(9352),Fe=fe(2272),o=fe(5193),V=fe(4496),w=fe(5624),_=fe(9240),d=fe(7136),p=fe(4180),m=fe(3824),C=fe(4500),x=fe(7756),s=fe(1368);function a(y,f){if(1&y){const b=V.KQA();V.I0R(0,"td")(1,"ion-button",9),V.qCj("click",function(){V.usT(b);const B=V.GaO(2);return V.CGJ(B.notification_react(-5))}),V.OEk(2),V.C$Y()()}if(2&y){const b=V.GaO(2);V.yG2(2),V.oRS(" ",b.lang.text.OtherProfile.add_to_group," ")}}function h(y,f){if(1&y){const b=V.KQA();V.I0R(0,"td")(1,"ion-button",9),V.qCj("click",function(){V.usT(b);const B=V.GaO(2);return V.CGJ(B.notification_react(-2))}),V.OEk(2),V.C$Y()()}if(2&y){const b=V.GaO(2);V.yG2(2),V.oRS(" ",b.lang.text.OtherProfile.add_friend," ")}}function c(y,f){if(1&y){const b=V.KQA();V.I0R(0,"td")(1,"ion-button",10),V.qCj("click",function(){V.usT(b);const B=V.GaO(2);return V.CGJ(B.kick_user_from_group())}),V.OEk(2),V.C$Y()()}if(2&y){const b=V.GaO(2);V.yG2(2),V.oRS(" ",b.lang.text.OtherProfile.kick_from_group," ")}}function u(y,f){if(1&y){const b=V.KQA();V.I0R(0,"div",5)(1,"table",6)(2,"tr"),V.yuY(3,a,3,1,"td",7)(4,h,3,1,"td",7),V.I0R(5,"td")(6,"ion-button",8),V.qCj("click",function(){V.usT(b);const B=V.GaO();return V.CGJ(B.create_chat())}),V.OEk(7),V.C$Y()(),V.yuY(8,c,3,1,"td",7),V.C$Y()()()}if(2&y){const b=V.GaO();V.yG2(3),V.E7m("ngIf",b.has_admin&&b.additional_buttons[-5]),V.yG2(),V.E7m("ngIf",b.additional_buttons[-2]),V.yG2(2),V.E7m("disabled",b.lock_create_chat),V.yG2(),V.oRS(" ",b.lang.text.OtherProfile.privacy_chat," "),V.yG2(),V.E7m("ngIf",b.has_admin)}}let l=(()=>{var y;class f{constructor(D,B,F,j,k,U,T){this.modalCtrl=D,this.navParams=B,this.nakama=F,this.statusBar=j,this.p5toast=k,this.lang=U,this.mClipboard=T,this.info={},this.group_info={},this.additional_buttons={},this.has_admin=!1,this.BackButtonPressed=!1,this.onDismissData={},this.lock_create_chat=!1}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){var D=this;return(0,g.c)(function*(){D.InitBrowserBackButtonOverride(),D.info=D.navParams.get("info"),D.has_admin=D.navParams.get("has_admin"),D.group_info=D.navParams.get("group"),D.isOfficial=D.group_info.server.isOfficial,D.target=D.group_info.server.target,D.nakama.load_other_user(D.info.user.id,D.isOfficial,D.target),D.nakama.socket_reactive["others-profile"]=B=>{D.p5canvas.ChangeImageSmooth(B)},D.nakama.socket_reactive["others-online"]=()=>{D.p5canvas.loop()},D.catch_user_noties()})()}ionViewWillEnter(){this.OtherCanvasDiv=document.getElementById("OtherUserCanvasDiv"),this.p5canvas=new Ce(D=>{let F,j,k,T,q,U=1,I="0, 0, 0",M=0;D.setup=()=>{let K=D.color(`#${(this.info.user.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}`);I=`${D.red(K)}, ${D.green(K)}, ${D.blue(K)}`,T=D.createDiv(),T.style("width","100%"),T.style("height","100%"),T.style("background-image",`linear-gradient(to top, rgba(${I}, 0), rgba(${I}, 0))`),T.parent(this.OtherCanvasDiv),D.noCanvas(),D.pixelDensity(1),q=D.createDiv();const Y="156px";q.style("width",Y),q.style("height",Y),q.style("position","absolute"),q.style("top","120px"),q.style("left","50%"),q.style("transform","translateX(-50%)"),q.style("border-radius",Y),q.style("background-image","url(assets/data/avatar.svg)"),q.style("background-position","center"),q.style("background-repeat","no-repeat"),q.style("background-size","cover"),q.parent(this.OtherCanvasDiv);let ie=D.createDiv();const te="36px";ie.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),ie.style("width",te),ie.style("height",te),ie.style("position","absolute"),ie.style("top","128px"),ie.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px"),setTimeout(()=>{ie.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")},0),ie.style("border-radius",te),ie.parent(this.OtherCanvasDiv),D.OnlineLamp=ie,j=D.createImg(this.info.user.img,"profile_img"),j.style("width",Y),j.style("height",Y),j.style("border-radius",Y),j.style("position","absolute"),j.style("object-fit","cover"),this.info.user.img||j.hide(),j.parent(q),k=D.createImg(void 0,"before_img"),k.style("width",Y),k.style("height",Y),k.style("border-radius",Y),k.style("position","absolute"),k.style("object-fit","cover"),k.hide(),k.parent(q),D.ChangeImageSmooth=Ee=>{q.style("background-image","url(assets/data/avatar.svg)"),Ee?(k.elt.src=void 0,k.hide()):(k.elt.src=j.elt.src,k.show()),j.elt.src=Ee,U=1,D.loop(),this.info.user.img=Ee,Ee?j.show():j.hide()};let oe=D.createDiv();oe.style("width","100%"),oe.style("position","absolute"),oe.style("top","330px"),oe.style("display","flex"),oe.style("flex-direction","column"),oe.parent(this.OtherCanvasDiv),F=D.createDiv(this.info.user.display_name||this.lang.text.Profile.noname_user),F.style("font-size","36px"),F.style("font-weight","bold"),F.style("align-self","center"),F.style("width","80%"),F.style("text-align","center"),F.parent(oe);let le=D.createDiv(this.info.user.id);le.style("color","var(--ion-color-medium)"),le.style("align-self","center"),le.style("margin-top","36px"),le.style("width","80%"),le.style("text-align","center"),le.style("cursor","copy"),le.parent(oe),le.elt.onclick=()=>{this.copy_id()}},D.draw=()=>{U>0&&(U-=.025,k.style("opacity",`${U}`),j.style("opacity",""+(1-U))),this.info.user.online?this.lerpVal<1?this.lerpVal+=.025:this.lerpVal=1:this.lerpVal>0?this.lerpVal-=.025:this.lerpVal=0,M<1&&(M+=.025),j.style("filter",`grayscale(${D.lerp(.9,0,this.lerpVal)}) contrast(${D.lerp(1.4,1,this.lerpVal)})`),k.style("filter",`grayscale(${D.lerp(.9,0,this.lerpVal)}) contrast(${D.lerp(1.4,1,this.lerpVal)})`),T.style("background-image",`linear-gradient(to top, rgba(${I}, ${D.min(1,M)/2}), rgba(${I}, 0))`),U<=0&&(this.lerpVal>=1||this.lerpVal<=0)&&M>=1&&(this.info.user.img&&q.style("background-image",""),this.p5canvas.OnlineLamp.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),D.noLoop())},D.windowResized=()=>{D.OnlineLamp.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")}})}catch_user_noties(){this.nakama.noti_origin[this.isOfficial]&&this.nakama.noti_origin[this.isOfficial][this.target]&&Object.keys(this.nakama.noti_origin[this.isOfficial][this.target]).forEach(F=>{this.nakama.noti_origin[this.isOfficial][this.target][F].sender_id==this.info.user.id&&(this.additional_buttons[this.nakama.noti_origin[this.isOfficial][this.target][F].code.toString()]=F)})}notification_react(D){switch(D){case 0:case-1:case-2:break;case-5:this.nakama.servers[this.isOfficial][this.target].client.addGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(B=>{B||console.warn("\ubc34 \uc720\uc800\uc5d0 \ub300\ud55c\uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.p5toast.show({text:`${this.lang.text.OtherProfile.added_to_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[D.toString()]]).then(F=>{F||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),delete this.additional_buttons[D.toString()],this.nakama.update_notifications(this.isOfficial,this.target),this.onDismissData={id:this.info.user.id,act:"accept_join"},this.info.status="online",this.p5canvas.loop()})});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ubc18\uc751: ",D)}}create_chat(){var D=this;return(0,g.c)(function*(){if(!D.lock_create_chat){D.lock_create_chat=!0;try{let B=yield D.nakama.join_chat_with_modulation(D.info.user.id,2,D.isOfficial,D.target,!0);D.nakama.go_to_chatroom_without_admob_act(B),D.lock_create_chat=!1,D.modalCtrl.dismiss({dismiss:!0})}catch(B){D.lock_create_chat=!1,console.error(B)}}})()}kick_user_from_group(){switch(this.info.state){case 0:case 1:case 2:this.after_announce_kick();break;case 3:this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[-5]]).then(D=>{D||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),this.after_announce_kick(),delete this.additional_buttons[-5],this.nakama.update_notifications(this.isOfficial,this.target),this.info.status="missing",this.p5canvas.loop()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uc0c1\ud0dc: ",this.info)}}after_announce_kick(){this.nakama.servers[this.isOfficial][this.target].client.kickGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(D=>{this.p5toast.show({text:`${this.lang.text.OtherProfile.kicked_from_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.modalCtrl.dismiss({id:this.info.user.id,act:"kick"})})}copy_id(){this.mClipboard.copy(this.info.user.id).catch(D=>{Fe.c.write(this.info.user.id).then(()=>{"DesktopPWA"==o.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${this.info.user.id}`})}).catch(B=>{})})}ngOnDestroy(){delete this.nakama.socket_reactive["others-profile"],delete this.nakama.socket_reactive["others-online"],this.p5canvas.remove()}}return(y=f).\u0275fac=function(D){return new(D||y)(V.GI1(w.qS),V.GI1(_.a6),V.GI1(d.h),V.GI1(p.Y),V.GI1(m.O),V.GI1(C.o),V.GI1(x._))},y.\u0275cmp=V.In1({type:y,selectors:[["app-others-profile"]],decls:9,vars:2,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","OtherUserCanvasDiv",2,"position","absolute","width","100%","height","100%","display","flex"],["style","width: 100%; position: absolute; bottom: 0;",4,"ngIf"],[2,"width","100%","position","absolute","bottom","0"],["id","input_table",2,"width","100%","background-color","black"],[4,"ngIf"],["expand","block",3,"disabled","click"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(D,B){1&D&&(V.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),V.OEk(3),V.C$Y(),V.I0R(4,"ion-buttons",1),V.qCj("click",function(){return B.modalCtrl.dismiss(B.onDismissData)}),V.wR5(5,"ion-back-button",2),V.C$Y()()(),V.I0R(6,"ion-content"),V.wR5(7,"div",3),V.yuY(8,u,9,5,"div",4),V.C$Y()),2&D&&(V.yG2(3),V.cNF(B.lang.text.OtherProfile.Title),V.yG2(5),V.E7m("ngIf","online"==B.statusBar.groupServer[B.isOfficial][B.target]))},dependencies:[s.u_,w.sn,w.GS,w._i,w.wB,w.tM,w.Md,w.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),f})()},3824:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{O:()=>V});var g=fe(9352),st=fe(5020),Fe=fe(4496),o=function(w){return w[w.Idle=0]="Idle",w[w.DivFadeIn=1]="DivFadeIn",w[w.BorderAlert=2]="BorderAlert",w[w.Reading=3]="Reading",w[w.FadeOut=4]="FadeOut",w}(o||{});let V=(()=>{var w;class _{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=o.Idle}show(p){let m;p.time=(new Date).getTime(),p.lateable||(this.AlertNow=p,this.status=o.DivFadeIn),this.alert.length&&(m=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==p.text?this.status=o.DivFadeIn:m&&m.text==p.text||this.alert.push(p),this.isShowing?this.status==o.FadeOut&&(this.status=o.DivFadeIn):(this.CurrentToast=new g(x=>{let s,a,h,c=0,u=0,l=0;x.setup=()=>{x.noCanvas(),s=x.createDiv(),s.style("position: absolute; left: 0; top: 0; z-index: 1"),s.style("width: 100%; height: fit-content"),s.style("padding: 32px;"),s.style("display: flex; justify-content: center;"),s.style("pointer-events: none"),y(),h=x.createDiv(),h.parent(s),h.style("display: flex; justify-content: center;"),h.style("width: fit-content; height: fit-content"),h.style("border-radius: 24px"),h.style("background: #"+(st.Mp?"30564e88":"b9543788")),h.style("padding: 4px"),a=x.createDiv(),a.parent(h),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("word-break: break-all"),a.style("background: #"+(st.Mp?"30564e88":"b9543788")),a.style("border-radius: 20px"),a.style("padding: 12px"),a.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),a.html(this.AlertNow.text),f(),this.status=o.DivFadeIn},x.draw=()=>{switch(this.status){case o.DivFadeIn:c<1?c+=1:(c=1,u=1,this.status=o.BorderAlert,a.html(this.AlertNow.text));break;case o.BorderAlert:if(u>0)u-=.03;else{let D;u=0,D=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,l=x.millis()+D+960,this.status=o.Reading}break;case o.Reading:x.millis()>l&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),a.html(this.AlertNow.text),this.status=o.DivFadeIn):this.status=o.FadeOut);break;case o.FadeOut:c>0?c-=.04:b()}y(),f()};let y=()=>{s.style(`opacity: ${c}`)},f=()=>{let D=x.lerpColor(x.color("#"+(st.Mp?"30564e88":"b9543788")),x.color("#ffd94ebb"),u).levels;h.style(`padding: ${4*u}px`),a.style(`padding: ${x.lerp(16,12,u)}px`),a.style(`border-radius: ${x.lerp(24,20,u)}px`),h.style(`background: rgba(${D[0]}, ${D[1]}, ${D[2]}, ${D[3]/255})`)},b=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=o.FadeOut}}return(w=_).\u0275fac=function(p){return new(p||w)},w.\u0275prov=Fe.wxM({token:w,factory:w.\u0275fac,providedIn:"root"}),_})()},6756:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{q:()=>j});var g=fe(1528),Ce=fe(4428),st=fe(340),Fe=fe(2272),o=fe(5193),V=fe(4496),w=fe(9240),_=fe(5624),d=fe(7136),p=fe(4180),m=fe(4668),C=fe(4500),x=fe(5020),s=fe(3824),a=fe(7756),h=fe(1368),c=fe(4716);function u(k,U){if(1&k){const T=V.KQA();V.I0R(0,"img",21),V.qCj("click",function(){V.usT(T);const M=V.GaO(2);return V.CGJ(M.copy_startup_address())}),V.C$Y()}if(2&k){const T=V.GaO(2);V.E7m("src",T.QRCodeSRC,V.K6U)}}function l(k,U){if(1&k&&(V.I0R(0,"div"),V.yuY(1,u,1,1,"img",20),V.C$Y()),2&k){const T=V.GaO();V.yG2(),V.E7m("ngIf",T.QRCodeSRC)}}function y(k,U){if(1&k&&(V.I0R(0,"ion-item",22)(1,"ion-label",23),V.OEk(2),V.C$Y()()),2&k){const T=V.GaO();V.yG2(2),V.cNF(T.lang.text.GroupDetail.NotAcceptYet)}}function f(k,U){if(1&k&&(V.I0R(0,"ion-item",22)(1,"ion-label",23),V.OEk(2),V.C$Y()()),2&k){const T=V.GaO();V.yG2(2),V.cNF(T.lang.text.GroupDetail.MissedGroup)}}function b(k,U){if(1&k&&(V.I0R(0,"ion-item-divider")(1,"ion-label"),V.OEk(2),V.C$Y()()),2&k){const T=V.GaO();V.yG2(2),V.oRS("",T.lang.text.GroupDetail.Members+" ("+T.info.users.length+"/"+T.info.max_count+")"," ")}}function D(k,U){if(1&k){const T=V.KQA();V.I0R(0,"ion-item",7),V.qCj("click",function(){const q=V.usT(T).$implicit,K=V.GaO();return V.CGJ(K.open_user_profile(q))}),V.wR5(1,"div",8),V.I0R(2,"div",9),V.wR5(3,"img",10),V.C$Y(),V.I0R(4,"ion-label",11),V.OEk(5),V.C$Y()()}if(2&k){const T=U.$implicit,I=V.GaO();V.yG2(),V.m_g("background-color: "+I.statusBar.colors[T.user.online?"online":"offline"]),V.yG2(2),V.m_g("filter: "+(T.user.online?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),V.E7m("src",T.user.img,V.K6U),V.yG2(2),V.cNF(T.user.display_name||I.lang.text.Profile.noname_user)}}function B(k,U){if(1&k){const T=V.KQA();V.I0R(0,"ion-item",7),V.qCj("click",function(){V.usT(T);const M=V.GaO();return V.CGJ(M.remove_group())}),V.I0R(1,"ion-label",24),V.OEk(2),V.C$Y()()}if(2&k){const T=V.GaO();V.yG2(2),V.cNF(T.lang.text.GroupDetail.BreakupGroup)}}function F(k,U){if(1&k){const T=V.KQA();V.I0R(0,"ion-item",7),V.qCj("click",function(){V.usT(T);const M=V.GaO();return V.CGJ(M.leave_group())}),V.I0R(1,"ion-label",24),V.OEk(2),V.C$Y()()}if(2&k){const T=V.GaO();V.yG2(2),V.cNF(T.lang.text.GroupDetail.LeaveGroup)}}let j=(()=>{var k;class U{constructor(I,M,q,K,Y,ie,te,z,oe){this.navParams=I,this.nakama=M,this.modalCtrl=q,this.statusBar=K,this.indexed=Y,this.lang=ie,this.global=te,this.p5toast=z,this.mClipboard=oe,this.has_admin=!1,this.BackButtonPressed=!1,this.file_sel_id="",this.need_edit=!1,this.lock_modal_open=!1}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){var I=this;return(0,g.c)(function*(){I.InitBrowserBackButtonOverride(),I.info=I.navParams.get("info"),I.file_sel_id=`group_detail_${I.info.id}_${(new Date).getTime()}}`,I.info_orig=JSON.parse(JSON.stringify(I.navParams.get("info"))),I.nakama.socket_reactive.group_detail=I,I.QRCodeSRC=I.global.readasQRCodeFromString(`${o.uM}pjcone_pwa/?group=${I.info.name},${I.info.id}`),I.info.server||(I.info.server=I.navParams.get("server")),I.isOfficial=I.info.server.isOfficial,I.target=I.info.server.target;try{I.has_admin=I.info.creator_id==I.nakama.servers[I.isOfficial][I.target].session.user_id}catch(M){console.log("check is admin failed: ",M),I.has_admin=!1}if(I.info.users&&I.info.users.length)for(let M=0,q=I.info.users.length;M<q;M++)I.info.users[M].is_me?(I.info.users[M].user=I.nakama.users.self,I.indexed.loadTextFromUserPath("servers/self/profile.img",(K,Y)=>{K&&Y&&(I.nakama.users.self.img=Y.replace(/"|\\|=/g,""))})):I.info.users[M].user.id?I.info.users[M].user=I.nakama.load_other_user(I.info.users[M].user.id,I.isOfficial,I.target):I.info.users.splice(M,1);try{I.nakama.servers[I.isOfficial][I.target].client.readStorageObjects(I.nakama.servers[I.isOfficial][I.target].session,{object_ids:[{collection:"group_public",key:`group_${I.info.id}`,user_id:I.info.creator_id}]}).then(M=>{M.objects.length?(I.nakama.groups[I.isOfficial][I.target][I.info.id].img=M.objects[0].value.img.replace(/"|=|\\/g,""),I.indexed.saveTextFileToUserPath(M.objects[0].value.img,`servers/${I.isOfficial}/${I.target}/groups/${I.info.id}.img`)):I.info.status&&(delete I.nakama.groups[I.isOfficial][I.target][I.info.id].img,I.indexed.removeFileFromUserPath(`servers/${I.isOfficial}/${I.target}/groups/${I.info.id}.img`))})}catch(M){console.log(M)}})()}update_from_notification(I){switch(I.code){case-4:case-5:this.update_GroupUsersList(I.server.isOfficial,I.server.target);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",I)}}update_GroupUsersList(I,M){this.nakama.servers[I][M].client.listGroupUsers(this.nakama.servers[I][M].session,this.info.id).then(q=>{let K=[];for(let Y=0,ie=q.group_users.length;Y<ie;Y++)if(q.group_users[Y].user.id==this.nakama.servers[I][M].session.user_id)K.push({state:q.group_users[Y].state,user:this.nakama.users.self});else{let te=this.nakama.load_other_user(q.group_users[Y].user.id,I,M);this.nakama.save_other_user(q.group_users[Y].user,I,M),K.push({state:q.group_users[Y].state,user:te})}this.info.users=K})}buttonClickInputFile(){var I=this;return(0,g.c)(function*(){if(I.has_admin)if(I.info.img)I.info.img=void 0,I.nakama.servers[I.info.server.isOfficial][I.info.server.target].client.deleteStorageObjects(I.nakama.servers[I.info.server.isOfficial][I.info.server.target].session,{object_ids:[{collection:"group_public",key:`group_${I.info.id}`}]}).then(M=>{I.indexed.removeFileFromUserPath(`servers/${I.info.server.isOfficial}/${I.info.server.target}/groups/${I.info.id}.img`)});else try{let M=yield Fe.c.read();yield I.check_if_clipboard_available(M)}catch{try{let q=yield I.mClipboard.paste();yield I.check_if_clipboard_available(q)}catch{document.getElementById(I.file_sel_id).click()}}})()}inputImageSelected(I){var M=this;return(0,g.c)(function*(){let q=yield M.global.GetBase64ThroughFileReader(I.target.files[0]);M.nakama.limit_image_size(q,Y=>{M.info.img=Y.canvas.toDataURL(),M.announce_update_group_image(M.info.img)}),document.getElementById(M.file_sel_id).value=""})()}announce_update_group_image(I){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.writeStorageObjects(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,[{collection:"group_public",key:`group_${this.info.id}`,value:{img:I},permission_read:2,permission_write:1}]).then(M=>{this.indexed.saveTextFileToUserPath(JSON.stringify(I),`servers/${this.info.server.isOfficial}/${this.info.server.target}/groups/${this.info.id}.img`)})}check_if_clipboard_available(I){var M=this;return(0,g.c)(function*(){try{if(0!=I.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((q,K)=>{let Y=document.createElement("img");Y.src=I,Y.onload=()=>{M.info.img=I,M.announce_update_group_image(I),Y.remove(),q(void 0)},Y.onerror=()=>{Y.remove(),K()}})}catch{try{if(0!=I.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";M.nakama.limit_image_size(I,K=>{M.info.img=K.canvas.toDataURL(),M.announce_update_group_image(M.info.img)})}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}remove_group(){var I=this;this.need_edit=!1;try{if(this.nakama.servers[this.info.server.isOfficial][this.info.server.target]){if(this.info.creator_id!=this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session.user_id)throw this.lang.text.GroupDetail.YouAreNotCreator;"online"==this.info.status?this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"remove"}).then(function(){var M=(0,g.c)(function*(q){let K=yield I.nakama.servers[I.info.server.isOfficial][I.info.server.target].client.getAccount(I.nakama.servers[I.info.server.isOfficial][I.info.server.target].session),Y=JSON.parse(K.user.metadata);for(let ie=0,te=Y.is_manager.length;ie<te;ie++)if(Y.is_manager[ie]==I.info.id){Y.is_manager.splice(ie,1);break}Y.is_manager.length||delete Y.is_manager;try{yield I.nakama.servers[I.info.server.isOfficial][I.info.server.target].client.rpc(I.nakama.servers[I.info.server.isOfficial][I.info.server.target].session,"update_user_metadata_fn",{user_id:I.nakama.servers[I.info.server.isOfficial][I.info.server.target].session.user_id,metadata:Y})}catch(ie){console.log("\uadf8\ub8f9 \uc0ad\uc81c\uc2dc \uc0dd\uc131\uc790\uc758 \ub9e4\ub2c8\uc800 \uad8c\ud55c \ubc15\ud0c8 \ub3d9\uae30\ud654 \uc624\ub958: ",ie)}I.after_remove_group()});return function(q){return M.apply(this,arguments)}}()):this.after_remove_group()}else this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}catch(M){console.log("remove_group: ",M),this.p5toast.show({text:M})}}after_remove_group(){this.leave_channel(),this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}edit_group(){"online"==this.statusBar.groupServer[this.info.server.isOfficial][this.info.server.target]&&"missing"!=this.info.status&&this.has_admin&&this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.updateGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id,{name:this.info.name,lang_tag:this.info.lang_tag,description:this.info.description,open:this.info.open}),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id]=this.info,this.nakama.save_groups_with_less_info()}open_user_profile(I){this.lock_modal_open||(this.lock_modal_open=!0,I.is_me?this.modalCtrl.create({component:st.w,componentProps:{isOfficial:this.info.server.isOfficial,target:this.info.server.target}}).then(M=>{M.present(),this.lock_modal_open=!1}):this.modalCtrl.create({component:Ce.y,componentProps:{info:I,group:this.info,has_admin:this.has_admin}}).then(M=>{M.onDidDismiss().then(q=>{if(q.data){if(q.data.id)for(let K=0,Y=this.info.users.length;K<Y;K++)if(this.info.users[K].user.id==q.data.id){switch(q.data.act){case"accept_join":this.info.users[K].status="online";break;case"kick":this.info.users.splice(K,1);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc0c1\ub300\ubc29 \uc815\ubcf4: ",q)}break}q.data.dismiss&&this.modalCtrl.dismiss()}}),M.present(),this.lock_modal_open=!1}))}leave_group(){this.need_edit=!1,"online"==this.info.status?this.after_leave_group(()=>{this.leave_channel(),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))}):"pending"==this.info.status&&this.after_leave_group(()=>{this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))})}after_leave_group(I=(()=>console.warn("after_leave_group_announce Func Null"))){var M=this;this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.leaveGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id).then(function(){var q=(0,g.c)(function*(K){K&&I(),M.nakama.remove_channel_files(M.info.server.isOfficial,M.info.server.target,M.info.channel_id);let Y=M.nakama.servers[M.info.server.isOfficial][M.info.server.target].info;try{let ie=localStorage.getItem("fallback_fs");if(!ie)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let te=ie.split(":"),le=`${te[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:"}//${te[0]}:${te[1]||9002}/`;yield M.global.remove_files_from_storage_with_key(le,`${M.info.id}_${M.nakama.servers[Y.isOfficial][Y.target].session.user_id}`)}catch{}try{let ie=`${Y.useSSL?"https":"http"}://${Y.address}`;yield M.global.remove_files_from_storage_with_key(ie,`${M.info.id}_${M.nakama.servers[Y.isOfficial][Y.target].session.user_id}`)}catch{}});return function(K){return q.apply(this,arguments)}}())}leave_channel(){this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target]&&this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id]&&"missing"!=this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status&&(this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status="missing")}copy_id(){this.mClipboard.copy(this.info.id).catch(I=>{Fe.c.write(this.info.id).then(()=>{"DesktopPWA"==o.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${this.info.id}`})}).catch(M=>{})})}copy_startup_address(){let I=encodeURI(`https://is2you2.github.io/pjcone_pwa/?group=${this.info.name},${this.info.id}`);this.mClipboard.copy(I).catch(M=>{Fe.c.write(I).then(()=>{"DesktopPWA"==o.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${I}`})}).catch(q=>{})})}ionViewWillLeave(){delete this.nakama.socket_reactive.group_detail,this.need_edit=this.info.description!=this.info_orig.description,this.need_edit&&this.edit_group()}}return(k=U).\u0275fac=function(I){return new(I||k)(V.GI1(w.a6),V.GI1(d.h),V.GI1(_.qS),V.GI1(p.Y),V.GI1(m.k),V.GI1(C.o),V.GI1(x.A1),V.GI1(s.O),V.GI1(a._))},k.\u0275cmp=V.In1({type:k,selectors:[["app-group-detail"]],decls:39,vars:24,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["color","warning",4,"ngIf"],[2,"cursor","copy",3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],["button","",3,"click"],[1,"additional_form","status_bar_single"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],[1,"form_margin"],[1,"server_target"],[1,"form_margin","content"],["hidden","","type","file","accept","image/*",3,"id","change"],[1,"infobox",3,"disabled","ngModel","placeholder","ngModelChange"],[2,"pointer-events","none"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"src","click"],["color","warning"],[1,"ion-text-center"],["color","danger",1,"ion-text-center"]],template:function(I,M){1&I&&(V.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),V.OEk(3),V.C$Y(),V.I0R(4,"ion-buttons",1),V.qCj("click",function(){return M.modalCtrl.dismiss()}),V.wR5(5,"ion-back-button",2),V.C$Y()()(),V.I0R(6,"ion-content"),V.yuY(7,l,2,1,"div",3)(8,y,3,1,"ion-item",4)(9,f,3,1,"ion-item",4),V.I0R(10,"ion-item",5),V.qCj("click",function(){return M.copy_id()}),V.I0R(11,"ion-label",6),V.OEk(12),V.C$Y()(),V.I0R(13,"ion-item",7),V.qCj("click",function(){return M.buttonClickInputFile()}),V.wR5(14,"div",8),V.I0R(15,"div",9),V.wR5(16,"img",10),V.C$Y(),V.I0R(17,"ion-label",11)(18,"div")(19,"table")(20,"tr")(21,"td"),V.OEk(22),V.C$Y(),V.I0R(23,"td",12),V.OEk(24),V.C$Y()()()(),V.I0R(25,"div",13),V.OEk(26),V.C$Y()()(),V.I0R(27,"input",14),V.qCj("change",function(K){return M.inputImageSelected(K)}),V.C$Y(),V.I0R(28,"ion-item-divider")(29,"ion-label"),V.OEk(30),V.C$Y()(),V.I0R(31,"textarea",15),V.iHE("ngModelChange",function(K){return V.kNx(M.info.description,K)||(M.info.description=K),K}),V.C$Y(),V.I0R(32,"ion-item",16)(33,"ion-toggle",17),V.iHE("ngModelChange",function(K){return V.kNx(M.info.open,K)||(M.info.open=K),K}),V.OEk(34),V.C$Y()(),V.yuY(35,b,3,1,"ion-item-divider",3)(36,D,6,6,"ion-item",18)(37,B,3,1,"ion-item",19)(38,F,3,1,"ion-item",19),V.C$Y()),2&I&&(V.yG2(3),V.cNF(M.lang.text.GroupDetail.Title),V.yG2(4),V.E7m("ngIf","missing"!=M.info.status),V.yG2(),V.E7m("ngIf","pending"==M.info.status),V.yG2(),V.E7m("ngIf","missing"==M.info.status),V.yG2(3),V.cNF(M.info.id),V.yG2(2),V.m_g("background-color: "+M.statusBar.colors[M.info.status||"offline"]),V.yG2(2),V.m_g("filter: "+("online"==M.info.status?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),V.E7m("src",M.info.img,V.K6U),V.yG2(6),V.oRS(" ",M.info.name||M.info.title||M.info.display_name," "),V.yG2(2),V.oRS(" ","("+(M.info.server.name||M.info.server.target)+")"," "),V.yG2(2),V.oRS(" ",M.lang.text.AddGroup.ClicktoChangeGroupImg," "),V.yG2(),V.E7m("id",M.file_sel_id),V.yG2(3),V.cNF(M.lang.text.AddGroup.GroupDetail_placeholder),V.yG2(),V.E7m("disabled",!M.has_admin),V.OKB("ngModel",M.info.description),V.E7m("placeholder",M.lang.text.GroupDetail.NoDetailGroup),V.yG2(2),V.OKB("ngModel",M.info.open),V.yG2(),V.cNF(M.lang.text.GroupDetail.IsOpen),V.yG2(),V.E7m("ngIf",M.info.users&&M.info.users.length),V.yG2(),V.E7m("ngForOf",M.info.users),V.yG2(),V.E7m("ngIf",("online"==M.info.status||"pending"==M.info.status)&&M.has_admin),V.yG2(),V.E7m("ngIf",("online"==M.info.status||"pending"==M.info.status)&&!M.has_admin))},dependencies:[h.ay,h.u_,c.ot,c.ue,c._G,_.GS,_._i,_.wB,_.Yb,_.S8,_.QR,_.tM,_.E$,_.Md,_.UJ,_.Im],styles:[".content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle}"]}),U})()},340:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{w:()=>F});var g=fe(1528),Ce=fe(7136),st=fe(2272),Fe=fe(5193),o=fe(9352),w=fe(4496),_=fe(3824),d=fe(4180),p=fe(4668),m=fe(4500),C=fe(5020),x=fe(7756),s=fe(9240),a=fe(5624),h=fe(1368),c=fe(4716);const u=["RegisterNewServer"];function l(j,k){if(1&j){const U=w.KQA();w.I0R(0,"ion-item",14),w.qCj("click",function(){w.usT(U);const I=w.GaO(2);return w.CGJ(I.add_dev_test_server())}),w.I0R(1,"ion-label",17),w.OEk(2),w.C$Y()()}if(2&j){const U=w.GaO(2);w.yG2(2),w.cNF(U.lang.text.GroupServer.UseDevTestServer)}}function y(j,k){if(1&j&&(w.I0R(0,"p"),w.OEk(1),w.C$Y()),2&j){const U=w.GaO().$implicit,T=w.GaO(2);w.yG2(),w.cNF(U.useSSL?T.lang.text.GroupServer.useSSL:T.lang.text.GroupServer.NotuseSSL)}}function f(j,k){if(1&j){const U=w.KQA();w.I0R(0,"ion-item",14),w.qCj("click",function(){const M=w.usT(U).$implicit,q=w.GaO(2);return w.CGJ(q.link_group(M.isOfficial,M.target))}),w.wR5(1,"div",18),w.I0R(2,"ion-label",19)(3,"h2"),w.OEk(4),w.C$Y(),w.yuY(5,y,2,1,"p",20),w.C$Y(),w.I0R(6,"ion-button",21),w.qCj("click",function(){const M=w.usT(U).$implicit,q=w.GaO(2);return w.CGJ(q.remove_server(M.isOfficial,M.target))}),w.OEk(7),w.C$Y()()}if(2&j){const U=k.$implicit,T=w.GaO(2);w.yG2(),w.m_g("background-color: "+T.statusBar.colors[T.statusBar.groupServer[U.isOfficial][U.target]||"offline"]),w.yG2(3),w.cNF(U.name),w.yG2(),w.E7m("ngIf","official"!=U.isOfficial),w.yG2(2),w.oRS(" ","online"==T.statusBar.groupServer[U.isOfficial][U.target]?T.lang.text.GroupServer.RemoveAccount:T.lang.text.GroupServer.RemoveUnofficial," ")}}function b(j,k){if(1&j){const U=w.KQA();w.I0R(0,"div",8)(1,"ion-accordion-group")(2,"ion-accordion",9)(3,"ion-item",10)(4,"ion-label"),w.OEk(5),w.C$Y()(),w.I0R(6,"div",11),w.yuY(7,l,3,1,"ion-item",12)(8,f,8,5,"ion-item",13),w.I0R(9,"ion-item",14),w.qCj("click",function(){w.usT(U);const I=w.GaO();return w.CGJ(I.OpenNewServerForm())}),w.I0R(10,"ion-label",15),w.OEk(11),w.C$Y()()()()(),w.I0R(12,"ion-item",14),w.qCj("click",function(){w.usT(U);const I=w.GaO();return w.CGJ(I.toggle_online())}),w.I0R(13,"ion-label",16),w.OEk(14),w.C$Y()()()}if(2&j){const U=w.GaO();w.yG2(5),w.cNF(U.lang.text.GroupServer.JoinedServerList),w.yG2(2),w.E7m("ngIf",U.CanAddTestServer),w.yG2(),w.E7m("ngForOf",U.servers),w.yG2(3),w.cNF(U.lang.text.GroupServer.RegisterServer),w.yG2(3),w.cNF(U.lang.text.Profile.LogOut)}}function D(j,k){if(1&j){const U=w.KQA();w.I0R(0,"ion-content")(1,"ion-item")(2,"ion-label",15),w.OEk(3),w.C$Y()(),w.I0R(4,"ion-item",22)(5,"ion-input",23),w.iHE("ngModelChange",function(I){w.usT(U);const M=w.GaO();return w.kNx(M.dedicated_info.name,I)||(M.dedicated_info.name=I),w.CGJ(I)}),w.C$Y()(),w.I0R(6,"ion-item",22)(7,"ion-input",24),w.iHE("ngModelChange",function(I){w.usT(U);const M=w.GaO();return w.kNx(M.dedicated_info.address,I)||(M.dedicated_info.address=I),w.CGJ(I)}),w.C$Y()(),w.I0R(8,"ion-item",22)(9,"ion-input",25),w.iHE("ngModelChange",function(I){w.usT(U);const M=w.GaO();return w.kNx(M.dedicated_info.key,I)||(M.dedicated_info.key=I),w.CGJ(I)}),w.C$Y()(),w.I0R(10,"ion-item",26),w.qCj("click",function(){w.usT(U);const I=w.GaO();return w.CGJ(I.add_custom_dedicated())}),w.I0R(11,"ion-label",15),w.OEk(12),w.C$Y()()()}if(2&j){const U=w.GaO();w.yG2(3),w.cNF(U.lang.text.GroupServer.RegisterServer),w.yG2(),w.E7m("disabled",U.add_custom_tog),w.yG2(),w.E7m("label",U.lang.text.GroupServer.DisplayName),w.OKB("ngModel",U.dedicated_info.name),w.E7m("placeholder",U.lang.text.GroupServer.DisplayName_placeholder),w.yG2(),w.E7m("disabled",U.add_custom_tog),w.yG2(),w.E7m("label",U.lang.text.GroupServer.Address),w.OKB("ngModel",U.dedicated_info.address),w.yG2(),w.E7m("disabled",U.add_custom_tog),w.yG2(),w.E7m("label",U.lang.text.GroupServer.Key),w.OKB("ngModel",U.dedicated_info.key),w.yG2(),w.E7m("disabled",U.add_custom_tog),w.yG2(2),w.cNF(U.lang.text.GroupServer.submit)}}const B=()=>[.4,.6];let F=(()=>{var j;class k{constructor(T,I,M,q,K,Y,ie,te,z,oe){this.nakama=T,this.p5toast=I,this.statusBar=M,this.indexed=q,this.lang=K,this.global=Y,this.mClipboard=ie,this.navCtrl=te,this.navParams=z,this.modalCtrl=oe,this.session_uid="",this.BackButtonPressed=!1,this.isMobilePWA=!1,this.CanAddTestServer=!1,this.OnlineToggle=!1,this.ShowServerList=!1,this.isClickDisplayNameEdit=!1,this.dedicated_info={name:void 0,address:void 0,target:void 0,port:void 0,useSSL:void 0,isOfficial:void 0,key:void 0},this.add_custom_tog=!1,this.isOverrideButtonPressed=!1,this.announce_update_profile=!1,this.original_profile={},this.file_sel_id="",this.can_auto_modified=!1}ngOnInit(){if(window.history.pushState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.navCtrl.back())},this.servers=this.nakama.get_all_server_info(!0),this.file_sel_id=`self_profile_${(new Date).getTime()}`,this.original_profile=JSON.parse(JSON.stringify(this.nakama.users.self)),this.nakama.users.self.img||this.indexed.loadTextFromUserPath("servers/self/profile.img",(T,I)=>{T&&I&&(this.nakama.users.self.img=I.replace(/"|\\|=/g,""))}),this.nakama.socket_reactive.profile=T=>{this.p5canvas.ChangeImageSmooth(T)},this.navParams.data.target){let T=this.navParams.get("isOfficial"),I=this.navParams.get("target");try{this.session_uid=this.nakama.servers[T][I].session.user_id}catch{}}}ionViewWillEnter(){this.gsCanvasDiv=document.getElementById("GroupServerCanvasDiv"),this.OnlineToggle=this.nakama.users.self.online,this.p5canvas=new o(T=>{let M,q,K,Y,te,Ee,ie=1,z="0, 0, 0",oe=0,le=!!this.session_uid;T.setup=()=>{if(le){let Pe=T.color(`#${(this.session_uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}`);z=`${T.red(Pe)}, ${T.green(Pe)}, ${T.blue(Pe)}`,te=T.createDiv(),te.style("width","100%"),te.style("height","100%"),te.style("background-image",`linear-gradient(to top, rgba(${z}, 0), rgba(${z}, 0))`),te.parent(this.gsCanvasDiv)}T.noCanvas(),T.pixelDensity(1),Ee=T.createDiv();const W="156px";Ee.style("width",W),Ee.style("height",W),Ee.style("position","absolute"),Ee.style("top","120px"),Ee.style("left","50%"),Ee.style("transform","translateX(-50%)"),Ee.style("border-radius",W),Ee.style("background-image","url(assets/data/avatar.svg)"),Ee.style("background-position","center"),Ee.style("background-repeat","no-repeat"),Ee.style("background-size","cover"),Ee.style("cursor","pointer"),Ee.parent(this.gsCanvasDiv),Ee.elt.onclick=()=>{this.change_img_from_file()};let R=T.createDiv();const ne="36px";R.style("background-color",this.OnlineToggle?this.statusBar.colors.online:this.statusBar.colors.offline),R.style("width",ne),R.style("height",ne),R.style("position","absolute"),R.style("top","128px"),R.style("left",this.gsCanvasDiv.clientWidth/2+38+"px"),setTimeout(()=>{R.style("left",this.gsCanvasDiv.clientWidth/2+38+"px")},0),R.style("border-radius",ne),R.style("cursor","pointer"),R.parent(this.gsCanvasDiv),R.elt.onclick=()=>{this.toggle_online()},T.OnlineLamp=R,K=T.createImg(this.nakama.users.self.img,"profile_img"),K.style("width",W),K.style("height",W),K.style("border-radius",W),K.style("position","absolute"),K.style("object-fit","cover"),this.nakama.users.self.img||K.hide(),K.parent(Ee),Y=T.createImg(void 0,"before_img"),Y.style("width",W),Y.style("height",W),Y.style("border-radius",W),Y.style("position","absolute"),Y.style("object-fit","cover"),Y.hide(),Y.parent(Ee),T.ChangeImageSmooth=Pe=>{Ee.style("background-image","url(assets/data/avatar.svg)"),Pe?(Y.elt.src=void 0,Y.hide()):(Y.elt.src=K.elt.src,Y.show()),K.elt.src=Pe,ie=1,T.loop(),this.nakama.users.self.img=Pe,this.sync_to_all_server(),document.getElementById(this.file_sel_id).value="",Pe?K.show():K.hide()};let ue=T.createDiv();if(ue.style("width","100%"),ue.style("position","absolute"),ue.style("top","330px"),ue.style("display","flex"),ue.style("flex-direction","column"),ue.parent(this.gsCanvasDiv),M=T.createDiv(this.nakama.users.self.display_name||this.lang.text.Profile.noname_user),M.style("font-size","36px"),M.style("font-weight","bold"),M.style("align-self","center"),M.style("width","80%"),M.style("text-align","center"),M.parent(ue),M.elt.onclick=()=>{"DesktopPWA"!=Fe.s1&&(this.ShowServerList=!1),q.value(this.nakama.users.self.display_name?M.html():""),q.show(),M.hide(),q.elt.focus(),this.isClickDisplayNameEdit=!0},q=T.createInput(),q.style("font-size","36px"),q.style("font-weight","bold"),q.style("align-self","center"),q.style("width","80%"),q.style("text-align","center"),q.attribute("placeholder",this.lang.text.Profile.name_placeholder),M.style("text-align","center"),q.parent(ue),q.hide(),q.elt.addEventListener("input",()=>{this.nakama.users.self.display_name=q.value()}),q.elt.addEventListener("focusout",()=>{"DesktopPWA"!=Fe.s1&&(this.ShowServerList=this.OnlineToggle),this.nakama.users.self.display_name=q.value(),M.html(`${q.value()||this.lang.text.Profile.noname_user}`),q.hide(),M.show()}),this.session_uid){let Pe=T.createDiv(this.session_uid);Pe.style("margin-top","36px"),Pe.style("color","var(--ion-color-medium)"),Pe.style("width","80%"),Pe.style("text-align","center"),Pe.style("align-self","center"),Pe.style("cursor","copy"),Pe.parent(ue),Pe.elt.onclick=()=>{this.copy_id()}}let je=T.createDiv();je.style("margin-top","60px"),je.style("width","80%"),je.style("align-self","center"),je.style("max-width","384px"),je.style("height","180px"),je.style("background-color","#8888"),je.style("text-align","center"),je.style("border-radius","24px"),je.style("display","flex"),je.style("flex-direction","column"),je.parent(ue),T.InputForm=je,this.OnlineToggle&&je.hide();let Be=T.createInput(this.nakama.users.self.email);Be.style("align-self","center"),Be.style("margin-top","24px"),Be.style("width","50%"),Be.style("text-align","center"),Be.attribute("placeholder","test@example.com"),Be.parent(je),Be.elt.onchange=()=>{this.nakama.users.self.email=Be.value(),this.email_modified()},Be.elt.onkeypress=Pe=>{"Enter"==Pe.key&&We.elt.focus()},this.nakama.users.self.email||Be.elt.focus();let We=T.createInput();We.style("margin-top","10px"),We.style("align-self","center"),We.style("width","50%"),We.style("text-align","center"),We.attribute("type","password"),We.attribute("placeholder",this.lang.text.Profile.at_least),We.parent(je),We.elt.onchange=()=>{this.nakama.users.self.password=We.value()},We.elt.onkeypress=Pe=>{"Enter"==Pe.key&&(this.nakama.users.self.password=We.value(),Oe.elt.disabled=!0,this.toggle_online())},T.PasswordInput=We;let Oe=T.createButton(this.OnlineToggle?this.lang.text.Profile.LogOut:this.lang.text.Profile.login_toggle);Oe.style("margin-top","17px"),Oe.style("align-self","center"),Oe.style("text-align","center"),Oe.style("font-size","24px"),Oe.style("border-radius","16px"),Oe.style("padding","12px 30px"),Oe.parent(je),Oe.elt.onclick=()=>{Oe.elt.disabled=!0,this.toggle_online()},T.LoginButton=Oe},T.draw=()=>{ie>0&&(ie-=.025,Y.style("opacity",`${ie}`),K.style("opacity",""+(1-ie))),this.nakama.users.self.online?this.lerpVal<1?this.lerpVal+=.025:this.lerpVal=1:this.lerpVal>0?this.lerpVal-=.025:this.lerpVal=0,le&&oe<1&&(oe+=.025),K.style("filter",`grayscale(${T.lerp(.9,0,this.lerpVal)}) contrast(${T.lerp(1.4,1,this.lerpVal)})`),Y.style("filter",`grayscale(${T.lerp(.9,0,this.lerpVal)}) contrast(${T.lerp(1.4,1,this.lerpVal)})`),le&&te.style("background-image",`linear-gradient(to top, rgba(${z}, ${T.min(1,oe)/2}), rgba(${z}, 0))`),ie<=0&&(this.lerpVal>=1||this.lerpVal<=0)&&(!le||oe>=1)&&(this.nakama.users.self.img&&Ee.style("background-image",""),this.OnlineToggle=this.lerpVal>=1,this.OnlineToggle?(this.p5canvas.InputForm.hide(),T.LoginButton.html(this.lang.text.Profile.LogOut),T.OnlineLamp.style("background-color",this.statusBar.colors.online)):(this.p5canvas.InputForm.show(),this.p5canvas.InputForm.style("display","flex"),T.LoginButton.html(this.lang.text.Profile.login_toggle),T.OnlineLamp.style("background-color",this.statusBar.colors.offline)),this.nakama.users.self.display_name&&(M.html(this.nakama.users.self.display_name),q.value(this.nakama.users.self.display_name)),this.ShowServerList=this.OnlineToggle,this.p5canvas.PasswordInput.value(""),T.LoginButton.elt.disabled=!1,T.noLoop())},T.windowResized=()=>{T.OnlineLamp.style("left",this.gsCanvasDiv.clientWidth/2+38+"px")}}),this.ShowServerList=this.OnlineToggle,this.CanAddTestServer=0==Object.keys(this.nakama.servers.official).length,this.isMobilePWA="MobilePWA"==Fe.s1}add_dev_test_server(){var T=this;return(0,g.c)(function*(){T.CanAddTestServer=!(yield T.nakama.WatchAdsAndGetDevServerInfo()),T.servers=T.nakama.get_all_server_info(!0)})()}link_group(T,I){var M=this;return(0,g.c)(function*(){if(M.isOverrideButtonPressed)M.isOverrideButtonPressed=!1;else if("offline"==M.statusBar.groupServer[T][I])yield M.nakama.link_group(T,I),M.original_profile=JSON.parse(JSON.stringify(M.nakama.users.self));else try{M.nakama.servers[T][I].socket.disconnect(!0)}catch{M.nakama.OnSocketDisconnect(T,I)}})()}add_custom_dedicated(){if(this.add_custom_tog)return;if(!this.dedicated_info.name)return void this.p5toast.show({text:this.lang.text.GroupServer.NeedSetDIsplayName});this.add_custom_tog=!0;let T=(this.dedicated_info.address||"192.168.0.1").split(":");this.dedicated_info.address=T[0],this.dedicated_info.port=Number(T[1])||7350,this.dedicated_info.useSSL="https:"==window.location.protocol&&!Fe.O$,this.dedicated_info.useSSL=this.dedicated_info.useSSL||!!this.dedicated_info.address.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,""),this.dedicated_info.key=this.dedicated_info.key||"defaultkey",this.nakama.add_group_server(this.dedicated_info,()=>{this.servers=this.nakama.get_all_server_info(!0),this.link_group(this.dedicated_info.isOfficial,this.dedicated_info.target),this.dedicated_info.name=void 0,this.dedicated_info.address=void 0,this.dedicated_info.target=void 0,this.dedicated_info.port=void 0,this.dedicated_info.key=void 0,this.dedicated_info.useSSL=void 0,this.dedicated_info.isOfficial=void 0}),this.RegisterNewServer.dismiss(),setTimeout(()=>{this.add_custom_tog=!1},1e3)}remove_server(T,I){var M=this;return(0,g.c)(function*(){M.isOverrideButtonPressed=!0;try{yield M.nakama.remove_server(T,I)}catch(q){console.log("\uc11c\ubc84 \uc0ad\uc81c \uc624\ub958: ",q)}M.servers=M.nakama.get_all_server_info(!0)})()}ionViewWillLeave(){var T=this;return(0,g.c)(function*(){delete T.global.p5key.KeyShortCut.Escape,T.nakama.on_socket_disconnected.group_unlink_by_user&&delete T.nakama.on_socket_disconnected.group_unlink_by_user,delete T.nakama.socket_reactive.profile;let I=Object.keys(T.nakama.users.self),M=!1;for(let q=0,K=I.length;q<K;q++)if("img"!=I[q]&&T.nakama.users.self[I[q]]!=T.original_profile[I[q]]){M=!0;break}if(T.nakama.users.self.img=T.tmp_img||T.nakama.users.self.img,M){let q=T.nakama.get_all_online_server();for(let K=0,Y=q.length;K<Y;K++){if(T.nakama.users.self.display_name!=T.original_profile.display_name)try{yield q[K].client.updateAccount(q[K].session,{display_name:T.nakama.users.self.display_name});try{yield q[K].socket.sendMatchState(T.nakama.self_match[q[K].info.isOfficial][q[K].info.target].match_id,Ce.i.EDIT_PROFILE,encodeURIComponent("info"))}catch{}}catch{}if(T.isClickDisplayNameEdit&&T.nakama.channels_orig[q[K].info.isOfficial][q[K].info.target]){let ie=Object.keys(T.nakama.channels_orig[q[K].info.isOfficial][q[K].info.target]);ie&&ie.forEach(te=>{q[K].socket.writeChatMessage(te,{user_update:"modify_data",noti_form:T.original_profile.display_name==T.nakama.users.self.display_name?`: ${T.original_profile.display_name}`:`: ${T.original_profile.display_name} -> ${T.nakama.users.self.display_name}`})})}}T.nakama.save_self_profile()}T.nakama.MakeChannelHaveContextMenuAct()})()}ngOnDestroy(){this.p5canvas.remove()}sync_to_all_server(){var T=this;return(0,g.c)(function*(){let I=T.nakama.get_all_online_server();T.nakama.save_self_profile(),T.indexed.saveTextFileToUserPath(JSON.stringify(T.nakama.users.self.img),"servers/self/profile.img"),T.tmp_img="";for(let M=0,q=I.length;M<q;M++){if(T.nakama.users.self.img)try{let K=yield I[M].client.writeStorageObjects(I[M].session,[{collection:"user_public",key:"profile_image",value:{img:T.nakama.users.self.img},permission_read:2,permission_write:1}]);yield I[M].socket.sendMatchState(T.nakama.self_match[I[M].info.isOfficial][I[M].info.target].match_id,Ce.i.EDIT_PROFILE,encodeURIComponent("image")),yield I[M].client.updateAccount(I[M].session,{avatar_url:K.acks[0].version})}catch(K){console.error("inputImageSelected_err: ",K)}else try{yield I[M].client.deleteStorageObjects(I[M].session,{object_ids:[{collection:"user_public",key:"profile_image"}]}),yield I[M].socket.sendMatchState(T.nakama.self_match[I[M].info.isOfficial][I[M].info.target].match_id,Ce.i.EDIT_PROFILE,encodeURIComponent("image")),yield I[M].client.updateAccount(I[M].session,{avatar_url:""})}catch(K){console.error("inputImageSelected_err: ",K)}try{yield I[M].client.rpc(I[M].session,"send_noti_all_fn",{user_id:I[M].session.user_id,noti_id:Ce.i.USER_PROFILE_IMAGE_CHANGED,persistent:!1})}catch(K){console.log("\uc11c\ubc84\uc5d0 \uc54c\ub9ac\uae30 \uc2e4\ud328: ",K)}T.announce_update_profile=!1}})()}change_img_from_file(){var T=this;return(0,g.c)(function*(){if(T.announce_update_profile=!0,T.nakama.users.self.img)T.p5canvas.ChangeImageSmooth();else try{let I=yield st.c.read();yield T.check_if_clipboard_available(I)}catch{try{let M=yield T.mClipboard.paste();yield T.check_if_clipboard_available(M)}catch{document.getElementById(T.file_sel_id).click()}}})()}inputImageSelected(T){var I=this;return(0,g.c)(function*(){let M=setInterval(()=>{},110);setTimeout(()=>{clearInterval(M)},1500);let q=yield I.global.GetBase64ThroughFileReader(T.target.files[0]);I.nakama.limit_image_size(q,Y=>{I.p5canvas.ChangeImageSmooth(Y.canvas.toDataURL())}),document.getElementById(I.file_sel_id).value=""})()}ionViewDidEnter(){this.can_auto_modified=!0,this.global.p5key.KeyShortCut.Escape=()=>{this.navCtrl.pop()}}email_modified(){this.can_auto_modified&&(this.nakama.users.self.online&&this.toggle_online(),this.nakama.users.self.online=!1,delete this.nakama.users.self.password,this.p5canvas.PasswordInput.value(""))}toggle_online(){var T=this;return(0,g.c)(function*(){if(T.OnlineToggle=!T.OnlineToggle,T.nakama.users.self.online=T.OnlineToggle,T.OnlineToggle){T.announce_update_profile=!1;try{if(!T.nakama.users.self.email)throw T.p5toast.show({text:T.lang.text.Profile.need_email}),"\uc774\uba54\uc77c \uacf5\ubc31";if(!T.nakama.users.self.password)throw T.p5toast.show({text:T.lang.text.Profile.need_password}),"\ube44\ubc00\ubc88\ud638 \uacf5\ubc31";T.nakama.save_self_profile(),yield T.nakama.init_all_sessions(),T.original_profile=JSON.parse(JSON.stringify(T.nakama.users.self))}catch{T.nakama.users.self.online=!1,T.OnlineToggle=!1}}else T.nakama.logout_all_server(),delete T.nakama.users.self.password,T.nakama.groups.official={},T.nakama.groups.unofficial={},T.nakama.save_groups_with_less_info(),T.nakama.channels_orig.official={},T.nakama.channels_orig.unofficial={},T.nakama.rearrange_channels();T.p5canvas.loop()})()}check_if_clipboard_available(T){var I=this;return(0,g.c)(function*(){try{if(0!=T.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((M,q)=>{let K=document.createElement("img");K.src=T,K.onload=()=>{I.p5canvas.ChangeImageSmooth(T),K.remove(),M(void 0)},K.onerror=()=>{K.remove(),q()}})}catch{try{if(0!=T.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";I.nakama.limit_image_size(T,q=>I.p5canvas.ChangeImageSmooth(q.canvas.toDataURL()))}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}OpenNewServerForm(){this.RegisterNewServer.present()}copy_id(){this.mClipboard.copy(this.session_uid).catch(T=>{st.c.write(this.session_uid).then(()=>{"DesktopPWA"==Fe.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${this.session_uid}`})}).catch(I=>{})})}go_back(){var T=this;return(0,g.c)(function*(){try{yield T.modalCtrl.dismiss()}catch{}})()}}return(j=k).\u0275fac=function(T){return new(T||j)(w.GI1(Ce.h),w.GI1(_.O),w.GI1(d.Y),w.GI1(p.k),w.GI1(m.o),w.GI1(C.A1),w.GI1(x._),w.GI1(s.wX),w.GI1(s.a6),w.GI1(a.qS))},j.\u0275cmp=w.In1({type:j,selectors:[["app-group-server"]],viewQuery:function(T,I){if(1&T&&w.CC$(u,5),2&T){let M;w.wto(M=w.Gqi())&&(I.RegisterNewServer=M.first)}},decls:13,vars:6,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","GroupServerCanvasDiv",2,"position","absolute","width","100%","height","100%","display","flex"],["style","position: absolute; bottom: 0; width: 100%;",4,"ngIf"],["hidden","","type","file","accept","image/*",3,"id","change"],[3,"initialBreakpoint","breakpoints"],["RegisterNewServer",""],[2,"position","absolute","bottom","0","width","100%"],["value","open"],["button","","slot","header"],["slot","content"],["button","",3,"click",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"ion-text-center"],["color","tertiary",1,"ion-text-center"],["color","secondary"],[1,"additional_form","status_bar_single"],[1,"form_margin"],[4,"ngIf"],[3,"click"],["button","",3,"disabled"],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"disabled","click"]],template:function(T,I){1&T&&(w.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),w.OEk(3),w.C$Y(),w.I0R(4,"ion-buttons",1),w.qCj("click",function(){return I.go_back()}),w.wR5(5,"ion-back-button",2),w.C$Y()()(),w.I0R(6,"ion-content"),w.wR5(7,"div",3),w.yuY(8,b,15,5,"div",4),w.I0R(9,"input",5),w.qCj("change",function(q){return I.inputImageSelected(q)}),w.C$Y(),w.I0R(10,"ion-modal",6,7),w.yuY(12,D,13,13,"ng-template"),w.C$Y()()),2&T&&(w.yG2(3),w.cNF(I.lang.text.Settings.groupServer),w.yG2(5),w.E7m("ngIf",I.ShowServerList),w.yG2(),w.E7m("id",I.file_sel_id),w.yG2(),w.E7m("initialBreakpoint",I.isMobilePWA?.6:.4)("breakpoints",w.q4q(5,B)))},dependencies:[h.ay,h.u_,c.ue,c._G,a.cm,a.qU,a.sn,a.GS,a._i,a.wB,a.A5,a.Yb,a.QR,a.tM,a.Md,a.yc,a.qG,a.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),k})()},9404:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{E:()=>u});var g=fe(1528),Ce=fe(2272),st=fe(5193),Fe=fe(4496),o=fe(5624),V=fe(9240),w=fe(4500),_=fe(3824),d=fe(4180),p=fe(4668),m=fe(7136),C=fe(5020),x=fe(7756),s=fe(1368),a=fe(4716);const h=["ServerDetailuseSSL"];function c(l,y){if(1&l){const f=Fe.KQA();Fe.I0R(0,"img",14),Fe.qCj("click",function(){Fe.usT(f);const D=Fe.GaO();return Fe.CGJ(D.copy_startup_address())}),Fe.C$Y()}if(2&l){const f=Fe.GaO();Fe.E7m("src",f.QRCodeSRC,Fe.K6U)}}let u=(()=>{var l;class y{constructor(b,D,B,F,j,k,U,T,I){this.modalCtrl=b,this.navParams=D,this.lang=B,this.p5toast=F,this.statusBar=j,this.indexed=k,this.nakama=U,this.global=T,this.mClipboard=I,this.isTargetAlreadyExist=!0,this.index=0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let b={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete b.address,"defaultkey"==this.dedicated_info.key&&delete b.key,7350==this.dedicated_info.port&&delete b.port,this.dedicated_info.useSSL||delete b.useSSL,this.QRCodeSRC=this.global.readasQRCodeFromString(`${st.uM}pjcone_pwa/?server=${b.name||""},${b.address||""},${b.useSSL?"true":""},${b.port||7350},${b.key||""}`),this.isTargetAlreadyExist=!!this.statusBar.groupServer.unofficial[this.dedicated_info.target]}ionViewDidEnter(){this.ServerDetailuseSSL.checked=this.dedicated_info.useSSL}copy_startup_address(){let b=`https://is2you2.github.io/pjcone_pwa/?server=${this.dedicated_info.name||""},${this.dedicated_info.address||""},${this.dedicated_info.useSSL||""},${this.dedicated_info.port||""},${this.dedicated_info.key||""}&open_profile=true`;this.mClipboard.copy(b).catch(D=>{Ce.c.write(b).then(()=>{"DesktopPWA"==st.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${b}`})}).catch(B=>{})})}apply_changed_info(){var b=this;return(0,g.c)(function*(){if(!b.dedicated_info.name)return void b.p5toast.show({text:b.lang.text.GroupServer.NeedSetDIsplayName});b.dedicated_info.target=b.dedicated_info.target||b.dedicated_info.name,b.dedicated_info.address=b.dedicated_info.address||"192.168.0.1",b.dedicated_info.port=b.dedicated_info.port||7350,b.dedicated_info.useSSL=b.ServerDetailuseSSL.checked||!1,b.dedicated_info.isOfficial=b.dedicated_info.isOfficial||"unofficial",b.dedicated_info.key=b.dedicated_info.key||"defaultkey";let D=(new Date).getTime().toString();D+=`,${b.dedicated_info.isOfficial}`,D+=`,${b.dedicated_info.name}`,D+=`,${b.dedicated_info.target}`,D+=`,${b.dedicated_info.address}`,D+=`,${b.dedicated_info.port}`,D+=`,${b.dedicated_info.useSSL}`;let B=yield b.indexed.loadTextFromUserPath("servers/list_detail.csv"),F=[];if(B&&(F=B.split("\n")),b.isTargetAlreadyExist)for(let j=0,k=F.length;j<k;j++)if(F[j].split(",")[3]==b.dedicated_info.target){F.splice(j,1);break}F.push(D),yield b.indexed.saveTextFileToUserPath(F.join("\n"),"servers/list_detail.csv"),b.nakama.init_server(b.dedicated_info),b.nakama.servers[b.dedicated_info.isOfficial][b.dedicated_info.target].info={...b.dedicated_info};try{b.nakama.servers[b.dedicated_info.isOfficial][b.dedicated_info.target].socket.disconnect(!0)}catch{}b.modalCtrl.dismiss()})()}}return(l=y).\u0275fac=function(b){return new(b||l)(Fe.GI1(o.qS),Fe.GI1(V.a6),Fe.GI1(w.o),Fe.GI1(_.O),Fe.GI1(d.Y),Fe.GI1(p.k),Fe.GI1(m.h),Fe.GI1(C.A1),Fe.GI1(x._))},l.\u0275cmp=Fe.In1({type:l,selectors:[["app-server-detail"]],viewQuery:function(b,D){if(1&b&&Fe.CC$(h,5),2&b){let B;Fe.wto(B=Fe.Gqi())&&(D.ServerDetailuseSSL=B.first)}},decls:31,vars:19,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["button",""],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["type","number","placeholder","7350",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"click"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["ServerDetailuseSSL",""],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"src","click"]],template:function(b,D){1&b&&(Fe.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Fe.OEk(3),Fe.C$Y(),Fe.I0R(4,"ion-buttons",1),Fe.qCj("click",function(){return D.modalCtrl.dismiss()}),Fe.wR5(5,"ion-back-button",2),Fe.C$Y()()(),Fe.I0R(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),Fe.OEk(9),Fe.C$Y()(),Fe.yuY(10,c,1,1,"img",3),Fe.I0R(11,"ion-item-divider")(12,"ion-label"),Fe.OEk(13,"\uc11c\ubc84 \uc124\uc815"),Fe.C$Y()(),Fe.I0R(14,"ion-item",4)(15,"ion-input",5),Fe.iHE("ngModelChange",function(F){return Fe.kNx(D.dedicated_info.name,F)||(D.dedicated_info.name=F),F}),Fe.C$Y()(),Fe.I0R(16,"ion-item",6)(17,"ion-input",5),Fe.iHE("ngModelChange",function(F){return Fe.kNx(D.dedicated_info.target,F)||(D.dedicated_info.target=F),F}),Fe.C$Y()(),Fe.I0R(18,"ion-item",4)(19,"ion-input",7),Fe.iHE("ngModelChange",function(F){return Fe.kNx(D.dedicated_info.address,F)||(D.dedicated_info.address=F),F}),Fe.C$Y()(),Fe.I0R(20,"ion-item",4)(21,"ion-input",8),Fe.iHE("ngModelChange",function(F){return Fe.kNx(D.dedicated_info.key,F)||(D.dedicated_info.key=F),F}),Fe.C$Y()(),Fe.I0R(22,"ion-item",4)(23,"ion-input",9),Fe.iHE("ngModelChange",function(F){return Fe.kNx(D.dedicated_info.port,F)||(D.dedicated_info.port=F),F}),Fe.C$Y()(),Fe.I0R(24,"ion-item",10),Fe.qCj("click",function(){return D.dedicated_info.useSSL=!D.dedicated_info.useSSL}),Fe.I0R(25,"ion-toggle",11,12),Fe.iHE("ngModelChange",function(F){return Fe.kNx(D.dedicated_info.useSSL,F)||(D.dedicated_info.useSSL=F),F}),Fe.OEk(27),Fe.C$Y()(),Fe.I0R(28,"ion-item",10),Fe.qCj("click",function(){return D.apply_changed_info()}),Fe.I0R(29,"ion-label",13),Fe.OEk(30),Fe.C$Y()()()),2&b&&(Fe.yG2(3),Fe.cNF(D.lang.text.GroupServer.ServerDetail),Fe.yG2(6),Fe.cNF(D.lang.text.ServerDetail.copy_scan_below),Fe.yG2(),Fe.E7m("ngIf",D.QRCodeSRC),Fe.yG2(5),Fe.E7m("label",D.lang.text.GroupServer.DisplayName),Fe.OKB("ngModel",D.dedicated_info.name),Fe.E7m("placeholder",D.lang.text.GroupServer.DisplayName_placeholder),Fe.yG2(),Fe.E7m("disabled",D.isTargetAlreadyExist),Fe.yG2(),Fe.E7m("label",D.lang.text.GroupServer.DivisionName),Fe.OKB("ngModel",D.dedicated_info.target),Fe.E7m("placeholder",D.dedicated_info.name||D.lang.text.GroupServer.DivisionName_placeholder),Fe.yG2(2),Fe.E7m("label",D.lang.text.GroupServer.Address),Fe.OKB("ngModel",D.dedicated_info.address),Fe.yG2(2),Fe.E7m("label",D.lang.text.GroupServer.Key),Fe.OKB("ngModel",D.dedicated_info.key),Fe.yG2(2),Fe.E7m("label",D.lang.text.GroupServer.Port),Fe.OKB("ngModel",D.dedicated_info.port),Fe.yG2(2),Fe.OKB("ngModel",D.dedicated_info.useSSL),Fe.yG2(2),Fe.cNF(D.lang.text.GroupServer.isSSL),Fe.yG2(3),Fe.cNF(D.lang.text.ServerDetail.ApplyChangeServerInfo))},dependencies:[s.u_,a.ue,a._G,o.GS,o._i,o.wB,o.A5,o.Yb,o.S8,o.QR,o.tM,o.E$,o.Md,o.UJ,o.Ch,o.qG,o.Im],styles:[".icon_style[_ngcontent-%COMP%]{width:22px;height:22px;transform:translateY(2px);margin-left:4px;margin-right:4px}"]}),y})()},8744:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{K:()=>$t});var g=fe(1528),Ce=fe(5193),st=fe(9352),o=fe(896),V=fe(2272),w=fe(7668),d=fe(4496),p=fe(5624),m=fe(9240),C=fe(4668),x=fe(4500),s=fe(544),a=fe(3824),h=fe(5020),c=fe(7136),u=fe(7756),l=fe(6819),y=fe(1368),f=fe(4716);const b=["FileMenu"],D=["ShowContentInfoIonic"];function B(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-icon",21),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO();return d.CGJ(Je.AutoPlayNext=!Je.AutoPlayNext)}),d.C$Y()}}function F(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-icon",22),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO();return d.CGJ(Je.AutoPlayNext=!Je.AutoPlayNext)}),d.C$Y()}}function j(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-icon",23),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO();return d.CGJ(Je.ChangeToAnother(-1))}),d.C$Y()}}function k(Ot,jt){if(1&Ot&&(d.I0R(0,"ion-label",24),d.OEk(1),d.C$Y()),2&Ot){const Tt=d.GaO();d.yG2(),d.cNF(Tt.RelevanceIndex+" / "+Tt.Relevances.length)}}function U(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-icon",25),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO();return d.CGJ(Je.ChangeToAnother(1))}),d.C$Y()}}function T(Ot,jt){if(1&Ot&&(d.I0R(0,"ion-label",26),d.OEk(1),d.C$Y()),2&Ot){const Tt=d.GaO();d.yG2(),d.cNF(Tt.FileInfo.filename||Tt.FileInfo.name)}}function I(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-input",27),d.iHE("ngModelChange",function(Je){d.usT(Tt);const ut=d.GaO();return d.kNx(ut.NewTextFileName,Je)||(ut.NewTextFileName=Je),d.CGJ(Je)}),d.C$Y()}if(2&Ot){const Tt=d.GaO();d.OKB("ngModel",Tt.NewTextFileName),d.E7m("placeholder",Tt.FileInfo.filename||Tt.FileInfo.name)}}function M(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-button",28),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO();return d.CGJ(Je.close_text_edit())}),d.wR5(1,"ion-icon",29),d.C$Y()}}function q(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-button",28),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO();return d.CGJ(Je.SaveText())}),d.wR5(1,"ion-icon",30),d.C$Y()}}function K(Ot,jt){1&Ot&&(d.I0R(0,"ion-button",31),d.wR5(1,"ion-icon",32),d.C$Y())}function Y(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-item",36),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO(3);return d.CGJ(Je.open_text_editor())}),d.I0R(1,"ion-label"),d.OEk(2),d.C$Y()()}if(2&Ot){const Tt=d.GaO(3);d.yG2(2),d.cNF(Tt.lang.text.ContentViewer.EditText)}}function ie(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-item",36),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO(3);return d.CGJ(Je.modify_image())}),d.I0R(1,"ion-label"),d.OEk(2),d.C$Y()()}if(2&Ot){const Tt=d.GaO(3);d.yG2(2),d.cNF(Tt.lang.text.ContentViewer.Edit)}}function te(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-item",36),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO(3);return d.CGJ(Je.ShareContent())}),d.I0R(1,"ion-label"),d.OEk(2),d.C$Y()()}if(2&Ot){const Tt=d.GaO(3);d.yG2(2),d.cNF(Tt.lang.text.ContentViewer.ShareContent)}}function z(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-item",36),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO(3);return d.CGJ(Je.download_file())}),d.I0R(1,"ion-label"),d.OEk(2),d.C$Y()()}if(2&Ot){const Tt=d.GaO(3);d.yG2(2),d.cNF(Tt.lang.text.ContentViewer.Download)}}function oe(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-item",36),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO(3);return d.CGJ(Je.RemoveFile())}),d.I0R(1,"ion-label"),d.OEk(2),d.C$Y()()}if(2&Ot){const Tt=d.GaO(3);d.yG2(2),d.cNF(Tt.lang.text.ContentViewer.RemoveFile)}}function le(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-content")(1,"ion-list"),d.yuY(2,Y,3,1,"ion-item",35)(3,ie,3,1,"ion-item",35)(4,te,3,1,"ion-item",35)(5,z,3,1,"ion-item",35),d.I0R(6,"ion-item",36),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO(2);return d.CGJ(Je.open_bottom_modal())}),d.I0R(7,"ion-label"),d.OEk(8),d.C$Y()(),d.yuY(9,oe,3,1,"ion-item",35),d.C$Y()()}if(2&Ot){const Tt=d.GaO(2);d.yG2(2),d.E7m("ngIf",!Tt.NeedDownloadFile&&Tt.showEditText&&Tt.showEdit),d.yG2(),d.E7m("ngIf",!Tt.NeedDownloadFile&&"audio"!=Tt.FileInfo.viewer&&Tt.showEdit),d.yG2(),d.E7m("ngIf",!Tt.NeedDownloadFile),d.yG2(),d.E7m("ngIf",!Tt.NeedDownloadFile&&Tt.isPWA),d.yG2(3),d.cNF(Tt.lang.text.ContentViewer.ContentInfo),d.yG2(),d.E7m("ngIf",!Tt.NeedDownloadFile&&Tt.OpenInChannelChat&&!Tt.FileInfo.url)}}function Ee(Ot,jt){1&Ot&&(d.I0R(0,"ion-popover",33,34),d.yuY(2,le,10,6,"ng-template"),d.C$Y())}function W(Ot,jt){if(1&Ot&&(d.I0R(0,"div")(1,"div",38),d.wR5(2,"ion-icon",39),d.I0R(3,"div")(4,"ion-label",40),d.OEk(5),d.C$Y()()()()),2&Ot){const Tt=d.GaO(2);d.yG2(5),d.cNF(Tt.lang.text.ContentViewer.OnLoadContent)}}function R(Ot,jt){if(1&Ot&&(d.I0R(0,"div")(1,"div",38),d.wR5(2,"ion-icon",41),d.I0R(3,"div")(4,"ion-label",40),d.OEk(5),d.C$Y()()()()),2&Ot){const Tt=d.GaO(2);d.yG2(5),d.cNF(Tt.lang.text.ContentViewer.OnFailedLoadContent)}}function ne(Ot,jt){if(1&Ot&&(d.I0R(0,"td"),d.yuY(1,W,6,1,"div",18)(2,R,6,1,"div",18),d.wR5(3,"div",37),d.C$Y()),2&Ot){const Tt=d.GaO();d.yG2(),d.E7m("ngIf",!Tt.ContentOnLoad),d.yG2(),d.E7m("ngIf",Tt.ContentOnLoad&&Tt.ContentFailedLoad)}}function ue(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"td")(1,"ion-grid")(2,"ion-row",42)(3,"ion-col",43)(4,"ion-button",44),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO();return d.CGJ(Je.DownloadCurrentFile())}),d.OEk(5),d.C$Y()()()()()}if(2&Ot){const Tt=d.GaO();d.yG2(4),d.E7m("disabled",Tt.isDownloading||Tt.MessageInfo.content.transfer_index&&"download"==Tt.MessageInfo.content.transfer_index.OnTransfer),d.yG2(),d.oRS(" ",Tt.MessageInfo.content.transfer_index&&"download"==Tt.MessageInfo.content.transfer_index.OnTransfer?Tt.lang.text.ContentViewer.FileDownloading:Tt.lang.text.ContentViewer.DownloadThisFile," ")}}function we(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-item",36),d.qCj("click",function(){d.usT(Tt);const Je=d.GaO(2);return d.CGJ(Je.copy_url(Je.content_creator.user_id))}),d.I0R(1,"ion-label"),d.OEk(2),d.C$Y(),d.I0R(3,"ion-label",46),d.OEk(4),d.C$Y()()}if(2&Ot){const Tt=d.GaO(2);d.yG2(2),d.cNF(Tt.lang.text.ContentInfo.LastPost),d.yG2(2),d.oRS(" ",Tt.content_creator.publisher||Tt.content_creator.display_name||Tt.lang.text.Profile.noname_user,"")}}function je(Ot,jt){if(1&Ot&&(d.I0R(0,"ion-item",49)(1,"ion-label"),d.OEk(2),d.C$Y(),d.I0R(3,"ion-label",46),d.OEk(4),d.C$Y()()),2&Ot){const Tt=d.GaO(2);d.yG2(2),d.cNF(Tt.lang.text.ContentInfo.SourceFrom),d.yG2(2),d.cNF(Tt.content_creator.various_display)}}function Be(Ot,jt){if(1&Ot&&(d.I0R(0,"ion-item")(1,"ion-label"),d.OEk(2),d.C$Y(),d.I0R(3,"ion-label",46),d.OEk(4),d.C$Y()()),2&Ot){const Tt=d.GaO(2);d.yG2(2),d.cNF(Tt.lang.text.ContentInfo.FileSize),d.yG2(2),d.cNF(Tt.CurrentFileSize)}}function We(Ot,jt){1&Ot&&d.wR5(0,"ion-icon",58)}function Oe(Ot,jt){1&Ot&&d.wR5(0,"ion-icon",59)}function Pe(Ot,jt){1&Ot&&d.wR5(0,"ion-icon",60)}function $e(Ot,jt){1&Ot&&d.wR5(0,"ion-icon",61)}function ke(Ot,jt){1&Ot&&d.wR5(0,"ion-icon",62)}function Qe(Ot,jt){1&Ot&&d.wR5(0,"ion-icon",63)}function tt(Ot,jt){1&Ot&&(d.I0R(0,"ion-avatar"),d.wR5(1,"img",64),d.C$Y())}function _t(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"div")(1,"div",50),d.OEk(2),d.I0R(3,"ion-chip",51),d.qCj("click",function(){const ut=d.usT(Tt).$implicit,Rt=d.GaO(2);return d.CGJ(Rt.toast_info(ut))}),d.yuY(4,We,1,0,"ion-icon",52)(5,Oe,1,0,"ion-icon",53)(6,Pe,1,0,"ion-icon",54)(7,$e,1,0,"ion-icon",55)(8,ke,1,0,"ion-icon",56)(9,Qe,1,0,"ion-icon",57)(10,tt,2,0,"ion-avatar",18),d.I0R(11,"ion-label"),d.OEk(12),d.C$Y()()()()}if(2&Ot){const Tt=jt.$implicit,ge=d.GaO(2);d.yG2(2),d.oRS(" ",Tt.timeDisplay," "),d.yG2(2),d.E7m("ngIf","loaded"==Tt.various),d.yG2(),d.E7m("ngIf","camera"==Tt.various),d.yG2(),d.E7m("ngIf","link"==Tt.various),d.yG2(),d.E7m("ngIf","long_text"==Tt.various),d.yG2(),d.E7m("ngIf","textedit"==Tt.various),d.yG2(),d.E7m("ngIf","shared"==Tt.various),d.yG2(),d.E7m("ngIf","voidDraw"==Tt.various),d.yG2(2),d.cNF(Tt.publisher||Tt.display_name||ge.lang.text.Profile.noname_user)}}function gt(Ot,jt){if(1&Ot){const Tt=d.KQA();d.I0R(0,"ion-content")(1,"ion-item-divider")(2,"ion-label"),d.OEk(3),d.C$Y()(),d.yuY(4,we,5,2,"ion-item",35)(5,je,5,2,"ion-item",45)(6,Be,5,2,"ion-item",18),d.I0R(7,"ion-item")(8,"ion-label"),d.OEk(9),d.C$Y(),d.I0R(10,"ion-label",46),d.OEk(11),d.C$Y()(),d.I0R(12,"ion-item-divider")(13,"ion-label"),d.OEk(14),d.C$Y()(),d.yuY(15,_t,13,9,"div",47),d.I0R(16,"ion-item",36),d.qCj("click",function(){d.usT(Tt),d.GaO();const Je=d.Gew(26);return d.CGJ(Je.dismiss())}),d.I0R(17,"ion-label",48),d.OEk(18),d.C$Y()()()}if(2&Ot){const Tt=d.GaO();d.yG2(3),d.cNF(Tt.lang.text.ContentInfo.WorkLogs),d.yG2(),d.E7m("ngIf",!Tt.FromUserFsDir),d.yG2(),d.E7m("ngIf",Tt.content_creator.various),d.yG2(),d.E7m("ngIf",!Tt.FileInfo.url),d.yG2(3),d.cNF(Tt.lang.text.ContentInfo.TimeAt),d.yG2(2),d.cNF(Tt.content_creator.timeDisplay),d.yG2(3),d.cNF(Tt.lang.text.ContentInfo.WorkHistory),d.yG2(),d.E7m("ngForOf",Tt.content_related_creator),d.yG2(3),d.cNF(Tt.lang.text.ContentInfo.CloseModal)}}const xt=()=>[.5,1];let $t=(()=>{var Ot;class jt{constructor(ge,Je,ut,Rt,Ze,Dt,pt,Re,Ne,Me,Ye,vt){this.modalCtrl=ge,this.navParams=Je,this.indexed=ut,this.lang=Rt,this.file=Ze,this.p5toast=Dt,this.alertCtrl=pt,this.loadingCtrl=Re,this.global=Ne,this.nakama=Me,this.mClipboard=Ye,this.noti=vt,this.useP5Navigator=!0,this.RelevanceIndex=0,this.HaveRelevances=!1,this.NeedDownloadFile=!1,this.ContentOnLoad=!1,this.ContentFailedLoad=!0,this.isDownloading=!1,this.OpenInChannelChat=!1,this.isChannelOnline=!0,this.fromLocalChannel=!1,this.showEdit=!0,this.showEditText=!1,this.EventListenerAct=kt=>{kt.detail.register(120,Lt=>{})},this.BackButtonPressed=!1,this.ContentChanging=!1,this.AutoPlayNext=!1,this.isTextEditMode=!1,this.NewTextFileName="",this.image_info={},this.forceWrite=!1,this.isPWA=!1}ngOnDestroy(){this.p5viewerkey&&this.p5viewerkey.remove()}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){var ge=this;return(0,g.c)(function*(){ge.InitBrowserBackButtonOverride(),ge.fromLocalChannel=ge.navParams.get("local"),ge.MessageInfo=ge.navParams.get("info"),ge.OpenInChannelChat=void 0!==ge.MessageInfo.code,ge.CurrentViewId=ge.MessageInfo.message_id,ge.FileInfo=ge.MessageInfo.content,ge.ContentBox=document.getElementById("ContentBox"),ge.FileHeader=document.getElementById("FileHeader"),ge.isOfficial=ge.navParams.get("isOfficial"),ge.target=ge.navParams.get("target");try{ge.isChannelOnline="online"==ge.nakama.channels_orig[ge.isOfficial][ge.target][ge.MessageInfo.channel_id].info.status,ge.isChannelOnline=ge.isChannelOnline||"online"==ge.nakama.channels_orig[ge.isOfficial][ge.target][ge.MessageInfo.channel_id].status||"pending"==ge.nakama.channels_orig[ge.isOfficial][ge.target][ge.MessageInfo.channel_id].status}catch{}switch(ge.FromUserFsDir=ge.navParams.get("no_edit")||!1,ge.FileInfo.is_new){case"code":case"text":break;default:if(ge.Relevances=ge.navParams.get("relevance"),ge.Relevances){for(let Je=0,ut=ge.Relevances.length;Je<ut;Je++)if(ge.Relevances[Je].message_id&&ge.MessageInfo.message_id){if(ge.Relevances[Je].message_id==ge.MessageInfo.message_id){ge.RelevanceIndex=Je+1;break}}else if(ge.Relevances[Je].content.path==ge.MessageInfo.content.path){ge.RelevanceIndex=Je+1;break}ge.HaveRelevances=ge.Relevances.length>1}else ge.HaveRelevances=!1;ge.CreateContentInfo()}ge.showEdit=!ge.navParams.get("noEdit"),ge.ChangeContentWithKeyInput(),ge.isPWA="Android"!=Ce.s1&&"iOS"!=Ce.s1})()}reinit_content_data(ge){var Je=this;return(0,g.c)(function*(){if(Je.NewTextFileName="",Je.NeedDownloadFile=!0,Je.ContentOnLoad=!1,Je.ContentFailedLoad=!0,Je.isTextEditMode=!1,Je.MessageInfo=ge,Je.CurrentViewId=Je.MessageInfo.message_id,Je.FileInfo=Je.MessageInfo.content,Je.p5canvas&&Je.p5canvas.remove(),Je.canvasDiv=document.getElementById("content_viewer_canvas"),Je.canvasDiv)for(let ut=0,Rt=Je.canvasDiv.childNodes.length;ut<Rt;ut++)Je.canvasDiv.removeChild(Je.canvasDiv.childNodes[ut]);if(URL.revokeObjectURL(Je.FileURL),Je.FileInfo.url)Je.CreateContentInfo(),Je.NeedDownloadFile=!1,Je.ContentOnLoad=!0,Je.ionViewDidEnter();else{let ut=Je.FileInfo.alt_path||Je.FileInfo.path||`servers/${Je.isOfficial}/${Je.target}/channels/${ge.channel_id}/files/msg_${ge.message_id}.${ge.content.file_ext}`;Je.image_info.path=ut,Je.NeedDownloadFile=yield Je.indexed.checkIfFileExist(`${ut}.history`);try{Je.blob=yield Je.indexed.loadBlobFromUserPath(ut,Je.FileInfo.type),Je.CreateContentInfo(),Je.ionViewDidEnter()}catch{Je.FileURL=void 0,Je.blob=void 0,Je.isDownloading=!1,Je.NeedDownloadFile=!0,Je.ContentOnLoad=!0,Je.ContentFailedLoad=!1,Je.CreateContentInfo(),Je.p5canvas&&Je.p5canvas.remove(),Je.p5canvas=new st(Ze=>{Ze.setup=()=>{Ze.noCanvas()}})}}})()}DownloadInOrder(){var ge=this;return(0,g.c)(function*(){("Android"==Ce.s1||"iOS"==Ce.s1)&&ge.noti.noti.schedule({id:6,title:ge.lang.text.ContentViewer.DownloadThisFile,progressBar:{indeterminate:!0},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});for(let Je=0,ut=ge.Relevances.length;Je<ut;Je++)ge.nakama.OnTransfer[ge.isOfficial]||(ge.nakama.OnTransfer[ge.isOfficial]={}),ge.nakama.OnTransfer[ge.isOfficial][ge.target]||(ge.nakama.OnTransfer[ge.isOfficial][ge.target]={}),ge.nakama.OnTransfer[ge.isOfficial][ge.target][ge.Relevances[Je].channel_id]||(ge.nakama.OnTransfer[ge.isOfficial][ge.target][ge.Relevances[Je].channel_id]={}),ge.nakama.OnTransfer[ge.isOfficial][ge.target][ge.Relevances[Je].channel_id][ge.Relevances[Je].message_id]||(ge.nakama.OnTransfer[ge.isOfficial][ge.target][ge.Relevances[Je].channel_id][ge.Relevances[Je].message_id]={});for(let Je=0,ut=ge.Relevances.length;Je<ut;Je++){("Android"==Ce.s1||"iOS"==Ce.s1)&&ge.noti.noti.schedule({id:6,title:`${ge.lang.text.ContentViewer.DownloadThisFile}: ${ut-Je}`,progressBar:{value:Je,maxValue:ut},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});let Rt=`servers/${ge.isOfficial}/${ge.target}/channels/${ge.Relevances[Je].channel_id}/files/msg_${ge.Relevances[Je].message_id}.${ge.Relevances[Je].content.file_ext}`;if(!(yield ge.indexed.checkIfFileExist(Rt)))try{yield ge.DownloadCurrentFile(Je)}catch(Dt){console.log(Dt)}}ge.noti.ClearNoti(6)})()}ChangeToAnother(ge){if(this.ContentChanging)return;this.ContentChanging=!0;let Je=this.RelevanceIndex+ge;Je<=0||Je>this.Relevances.length||(this.p5canvas&&this.p5canvas.remove(),this.RelevanceIndex=Je,this.FileInfo={file_ext:""},this.reinit_content_data(this.Relevances[this.RelevanceIndex-1])),this.ContentChanging=!1}DownloadCurrentFile(ge){var Je=this;return(0,g.c)(function*(){Je.isDownloading=!0;let ut=0,Rt=Je.Relevances[null!=ge?ge:Je.RelevanceIndex-1],Ze=`servers/${Je.isOfficial}/${Je.target}/channels/${Rt.channel_id}/files/msg_${Rt.message_id}.${Rt.content.file_ext}`;try{let pt=yield Je.indexed.loadTextFromUserPath(`${Ze}.history`);ut=JSON.parse(pt).index}catch{}let Dt=Rt.message_id;yield Je.nakama.ReadStorage_From_channel(Rt,Ze,Je.isOfficial,Je.target,ut),Je.CurrentViewId==Dt&&Je.reinit_content_data(Rt)})()}formatBytes(ge,Je=2){if(!+ge)return"0 Bytes";const Rt=Je<0?0:Je,Dt=Math.floor(Math.log(ge)/Math.log(1024));return`${parseFloat((ge/Math.pow(1024,Dt)).toFixed(Rt))} ${["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][Dt]}`}CreateContentInfo(){try{if(this.FileInfo.url||(this.CurrentFileSize=this.formatBytes(this.FileInfo.size||this.FileInfo.filesize||this.blob.size)),this.content_creator=this.FileInfo.content_creator||{timestamp:this.FileInfo.timestamp},this.content_creator.timeDisplay=new Date(this.content_creator.timestamp).toLocaleString(),this.content_related_creator=this.FileInfo.content_related_creator||[],this.content_creator.user_id)try{this.content_creator.is_me=this.nakama.servers[this.isOfficial][this.target].session.user_id==this.content_creator.user_id}catch{}try{this.content_creator.publisher=this.content_creator.is_me?this.nakama.users.self.display_name:this.nakama.users[this.isOfficial][this.target][this.content_creator.user_id].display_name}catch{}this.set_various_display(this.content_creator);for(let ge=0,Je=this.content_related_creator.length;ge<Je;ge++){if(this.content_related_creator[ge].user_id)try{this.content_related_creator[ge].is_me=this.nakama.servers[this.isOfficial][this.target].session.user_id==this.content_related_creator[ge].user_id}catch{}this.content_related_creator[ge].timeDisplay=new Date(this.content_related_creator[ge].timestamp).toLocaleString()}}catch{}try{this.content_related_creator[0].publisher=this.content_related_creator[0].is_me?this.nakama.users.self.display_name:this.nakama.users[this.isOfficial][this.target][this.content_related_creator[0].user_id].display_name,this.content_related_creator[0].timestamp==this.content_related_creator[1].timestamp&&(this.content_related_creator[0].publisher=this.content_related_creator[1].is_me?this.nakama.users.self.display_name:this.nakama.users[this.isOfficial][this.target][this.content_related_creator[1].user_id].display_name,this.content_related_creator.splice(1,1))}catch{try{this.content_related_creator[0].publisher=this.content_related_creator[1].display_name,this.content_related_creator[0].timestamp==this.content_related_creator[1].timestamp&&(this.content_related_creator[0].publisher=this.content_related_creator[1].display_name,this.content_related_creator.splice(1,1))}catch{}try{this.content_related_creator[0].publisher||(this.content_related_creator[0].publisher=this.content_related_creator[0].display_name)}catch{}}try{this.content_related_creator.sort((ge,Je)=>ge.timestamp>Je.timestamp?-1:ge.timestamp<Je.timestamp?1:0)}catch{}}set_various_display(ge){switch(ge.various){case"camera":ge.various_display=this.lang.text.GlobalAct.FromCamera;break;case"link":ge.various_display=this.lang.text.ChatRoom.ExternalLinkFile;break;case"loaded":ge.various_display=this.lang.text.GlobalAct.variousCreator;break;case"voidDraw":ge.various_display=this.lang.text.GlobalAct.FromVoidDraw;break;case"long_text":ge.various_display=this.lang.text.GlobalAct.FromAutoLongText;break;case"textedit":ge.various_display=this.lang.text.GlobalAct.FromTextEditor;break;case"shared":ge.various_display=this.lang.text.GlobalAct.SharedContent;break;default:ge.various_display=this.lang.text.GlobalAct.UnknownSource}}close_text_edit(){this.FileInfo.is_new?this.modalCtrl.dismiss():this.reinit_content_data(this.MessageInfo)}ionViewDidEnter(){var ge=this;return(0,g.c)(function*(){if(ge.FileInfo.url)ge.FileURL=ge.FileInfo.url;else if(!ge.FileInfo.is_new)try{ge.blob=yield ge.indexed.loadBlobFromUserPath(ge.FileInfo.alt_path||ge.FileInfo.path||ge.navParams.get("path"),ge.FileInfo.type),ge.FileURL=URL.createObjectURL(ge.blob)}catch(Je){ge.ContentOnLoad=!0,ge.ContentFailedLoad=!0,console.log(Je)}switch(ge.forceWrite=!1,ge.canvasDiv=document.getElementById("content_viewer_canvas"),null==ge.canvasDiv.oncontextmenu&&(ge.canvasDiv.oncontextmenu=()=>("blender"!=ge.FileInfo.viewer&&ge.FileMenu.present(),!1)),ge.canvasDiv&&(ge.canvasDiv.style.backgroundImage=""),document.removeEventListener("ionBackButton",ge.EventListenerAct),ge.p5canvas&&ge.p5canvas.remove(),ge.FileInfo.viewer){case"image":ge.p5canvas=new st(Ze=>{Ze.setup=(0,g.c)(function*(){ge.canvasDiv.style.maxWidth="100%",ge.canvasDiv.style.overflow="hidden",ge.ContentBox.style.overflow="hidden",Ze.noCanvas();let yt=Ze.createElement("img");yt.elt.hidden=!0,yt.elt.src=ge.FileURL,yt.elt.onload=()=>{ge.canvasDiv.style.backgroundImage=`url('${ge.FileURL}')`,ge.canvasDiv.style.backgroundRepeat="no-repeat",ge.image_info.width=yt.elt.naturalWidth,ge.image_info.height=yt.elt.naturalHeight,pt=Ze.createVector(yt.elt.naturalWidth,yt.elt.naturalHeight),Dt(),yt.remove(),ge.ContentOnLoad=!0,ge.ContentFailedLoad=!1},Ze.noLoop()});let Dt=()=>{if(ge.image_info.width/ge.image_info.height<ge.canvasDiv.clientWidth/ge.canvasDiv.clientHeight){let yt=ge.image_info.width*ge.canvasDiv.clientHeight/ge.image_info.height;ge.canvasDiv.style.backgroundSize=`${yt}px`,ge.canvasDiv.style.backgroundPositionX=(ge.canvasDiv.clientWidth-yt)/2+"px",ge.canvasDiv.style.backgroundPositionY="0px"}else ge.canvasDiv.style.backgroundSize=`${ge.canvasDiv.clientWidth}px`,ge.canvasDiv.style.backgroundPositionX="0px",ge.canvasDiv.style.backgroundPositionY=ge.canvasDiv.clientHeight/2-pt.y*(ge.canvasDiv.clientWidth/pt.x)/2+"px";gn=!0};Ze.windowResized=()=>{setTimeout(()=>{Dt()},50)};let pt,Re=Ze.createVector(),Ne=Ze.createVector(),Me=Ze.createVector(),Ye=1,vt=()=>{ge.canvasDiv.style.backgroundPositionX=`${Re.x+Me.x}px`,ge.canvasDiv.style.backgroundPositionY=`${Re.y+Me.y}px`},kt=(yt,it)=>{let Xe=Ye,at=Ye*it,It=Number(ge.canvasDiv.style.backgroundPositionX.split("px")[0]),Yt=Number(ge.canvasDiv.style.backgroundPositionY.split("px")[0]),et=(Xe-at)*Ze.map(yt.x,It,It+Xe,0,1),Ut=(Xe-at)/pt.x*pt.y*Ze.map(yt.y,Yt,Yt+Xe/pt.x*pt.y,0,1);ge.canvasDiv.style.backgroundPositionX=`${It+et}px`,ge.canvasDiv.style.backgroundPositionY=`${Yt+Ut}px`,ge.canvasDiv.style.backgroundSize=`${at}px`};Ze.mousePressed=()=>{ge.useP5Navigator&&(Ze.mouseButton==Ze.CENTER&&Dt(),"DesktopPWA"==Ce.s1&&(Re=Ze.createVector(Number(ge.canvasDiv.style.backgroundPositionX.split("px")[0]),Number(ge.canvasDiv.style.backgroundPositionY.split("px")[0])),Ne=Ze.createVector(Ze.mouseX,Ze.mouseY)))},Ze.mouseWheel=yt=>{ge.useP5Navigator&&(Ye=Number(ge.canvasDiv.style.backgroundSize.split("px")[0]),kt(Ze.createVector(ge.canvasDiv.clientWidth/2,ge.canvasDiv.clientHeight/2),1-yt.delta/1e3))},Ze.mouseDragged=()=>{ge.useP5Navigator&&"DesktopPWA"==Ce.s1&&(Me=Ze.createVector(Ze.mouseX,Ze.mouseY),Me.sub(Ne),vt())};let tn,Lt={},bn=!1,gn=!0;Ze.touchStarted=yt=>{if(ge.useP5Navigator){for(let Xe=0,at=yt.changedTouches.length;Xe<at;Xe++)Lt[yt.changedTouches[Xe].identifier]=Ze.createVector(yt.changedTouches[Xe].clientX,yt.changedTouches[Xe].clientY);switch(Object.keys(Lt).length){case 1:Re=Ze.createVector(Number(ge.canvasDiv.style.backgroundPositionX.split("px")[0]),Number(ge.canvasDiv.style.backgroundPositionY.split("px")[0])),Ne=Lt[yt.changedTouches[0].identifier].copy();break;case 2:Re=Ze.createVector(Number(ge.canvasDiv.style.backgroundPositionX.split("px")[0]),Number(ge.canvasDiv.style.backgroundPositionY.split("px")[0]));let Xe=Lt[0].copy();tn=Xe.dist(Lt[1]),Ne=Xe.add(Lt[1]).div(2).copy(),Ye=Number(ge.canvasDiv.style.backgroundSize.split("px")[0]),vt();break;default:bn=!0,Dt()}}},Ze.touchMoved=yt=>{if(ge.useP5Navigator&&!bn){for(let Xe=0,at=yt.changedTouches.length;Xe<at;Xe++)Lt[yt.changedTouches[Xe].identifier]=Ze.createVector(yt.changedTouches[Xe].clientX,yt.changedTouches[Xe].clientY);switch(Object.keys(Lt).length){case 1:Me=Lt[yt.changedTouches[0].identifier].copy(),Me.sub(Ne),gn||vt();break;case 2:gn=!1;let Xe=Lt[0].copy(),at=Xe.dist(Lt[1]);Me=Xe.add(Lt[1]).div(2).copy();let It=Me.copy();Me.sub(Ne),vt(),kt(It,at/tn)}}},Ze.touchEnded=yt=>{if(ge.useP5Navigator&&"changedTouches"in yt){for(let Xe=0,at=yt.changedTouches.length;Xe<at;Xe++)delete Lt[yt.changedTouches[Xe].identifier];switch(Object.keys(Lt).length){case 1:Re=Ze.createVector(Number(ge.canvasDiv.style.backgroundPositionX.split("px")[0]),Number(ge.canvasDiv.style.backgroundPositionY.split("px")[0])),Ne=Lt[Object.keys(Lt)[0]].copy();break;case 0:gn&&!bn&&(Me.x>50?ge.ChangeToAnother(-1):Me.x<-50&&ge.ChangeToAnother(1)),bn=!1}}}});break;case"audio":ge.p5canvas=new st(Ze=>{var Dt;Ze.setup=()=>{Ze.noCanvas(),Ze.noLoop(),(Dt=Ze.createAudio([ge.FileURL],()=>{ge.canvasDiv.appendChild(Dt.elt),Dt.elt.onended=()=>{ge.AutoPlayNext&&ge.ChangeToAnother(1)},setTimeout(()=>{pt(),Dt.elt.hidden=!1},50),Dt.showControls(),Dt.play(),ge.ContentOnLoad=!0,ge.ContentFailedLoad=!1})).elt.hidden=!0};let pt=()=>{let Ye=ge.ContentBox.offsetWidth;Dt.elt.setAttribute("style","position: relative; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%);"),Dt.size(Ye,25)};Ze.windowResized=()=>{setTimeout(()=>{pt()},50)};let Re=Ze.createVector(),Ne={};Ze.touchStarted=Ye=>{if(ge.useP5Navigator&&!document.pictureInPictureElement&&"changedTouches"in Ye){for(let kt=0,Lt=Ye.changedTouches.length;kt<Lt;kt++)Ne[Ye.changedTouches[kt].identifier]=Ze.createVector(Ye.changedTouches[kt].clientX,Ye.changedTouches[kt].clientY);1===Object.keys(Ne).length&&(Re=Ne[Ye.changedTouches[0].identifier].copy())}},Ze.touchEnded=Ye=>{if(ge.useP5Navigator&&!document.pictureInPictureElement&&"changedTouches"in Ye){let vt;for(let Lt=0,tn=Ye.changedTouches.length;Lt<tn;Lt++)vt=Ze.createVector(Ye.changedTouches[Lt].clientX,Ye.changedTouches[Lt].clientY),delete Ne[Ye.changedTouches[Lt].identifier];0===Object.keys(Ne).length&&(vt.sub(Re),vt.x>50?ge.ChangeToAnother(-1):vt.x<-50&&ge.ChangeToAnother(1))}}});break;case"video":ge.p5canvas=new st(Ze=>{var Dt;Ze.setup=(0,g.c)(function*(){Ze.noCanvas(),Ze.noLoop(),(Dt=Ze.createVideo([ge.FileURL],()=>{ge.global.PIPLinkedVideoElement?(Dt.elt.remove(),Dt.elt=ge.global.PIPLinkedVideoElement,Dt.elt.setAttribute("src",ge.FileURL)):ge.global.PIPLinkedVideoElement=Dt.elt,ge.canvasDiv&&ge.canvasDiv.appendChild(Dt.elt),Dt.elt.onended=()=>{ge.AutoPlayNext&&ge.ChangeToAnother(1)},setTimeout(()=>{ge.image_info.width=Dt.elt.videoWidth,ge.image_info.height=Dt.elt.videoHeight,pt(),Dt.elt.hidden=!1},50),Dt.showControls(),Dt.play(),ge.ContentOnLoad=!0,ge.ContentFailedLoad=!1})).elt.hidden=!0,Ze.VideoMedia=Dt});let pt=()=>{let Ye=ge.ContentBox.offsetWidth,vt=ge.ContentBox.offsetHeight-ge.FileHeader.offsetHeight,kt=Dt.elt.videoWidth,Lt=Dt.elt.videoHeight;0!=kt&&0!=Lt&&(Ye/vt>kt/Lt?(Lt=vt,kt=kt/Dt.elt.videoHeight*Lt,Dt.elt.setAttribute("style","position: relative; left: 50%; transform: translateX(-50%);")):(kt=Ye,Lt=Lt/Dt.elt.videoWidth*kt||vt/2,Dt.elt.setAttribute("style","position: relative; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%);")),Dt.size(kt,Lt))};Ze.windowResized=()=>{setTimeout(()=>{pt()},50)};let Re=Ze.createVector(),Ne={};Ze.touchStarted=Ye=>{if(ge.useP5Navigator&&!document.pictureInPictureElement&&"changedTouches"in Ye){for(let kt=0,Lt=Ye.changedTouches.length;kt<Lt;kt++)Ne[Ye.changedTouches[kt].identifier]=Ze.createVector(Ye.changedTouches[kt].clientX,Ye.changedTouches[kt].clientY);1===Object.keys(Ne).length&&(Re=Ne[Ye.changedTouches[0].identifier].copy())}},Ze.touchEnded=Ye=>{if(ge.useP5Navigator&&!document.pictureInPictureElement&&"changedTouches"in Ye){let vt;for(let Lt=0,tn=Ye.changedTouches.length;Lt<tn;Lt++)vt=Ze.createVector(Ye.changedTouches[Lt].clientX,Ye.changedTouches[Lt].clientY),delete Ne[Ye.changedTouches[Lt].identifier];0===Object.keys(Ne).length&&(vt.sub(Re),vt.x>50?ge.ChangeToAnother(-1):vt.x<-50&&ge.ChangeToAnother(1))}}});break;case"code":case"text":ge.showEditText=!0,ge.p5canvas=new st(Ze=>{Ze.setup=()=>{if(Ze.noCanvas(),Ze.noLoop(),"json"==ge.FileInfo.file_ext){let Dt=Ze.createDiv();Dt.elt.className="infobox",Dt.style("height: 100%; display: block"),Dt.elt.src=ge.FileInfo.thumbnail,Dt.parent(ge.canvasDiv),Ze.loadStrings(ge.FileURL,pt=>{try{let Ne,Re=JSON.parse(pt);Re=JSON.stringify(Re,void 0,2),Re=Re.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ne=Re.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,Ye=>{var vt="var(--syntax-text-coding-number)";return/^"/.test(Ye)?vt=/:$/.test(Ye)?"var(--syntax-text-coding-json-key)":"var(--syntax-text-coding-spechar)":/true|false/.test(Ye)?vt="var(--syntax-text-coding-basic)":/null/.test(Ye)&&(vt="var(--syntax-text-coding-equalmark)"),'<span style="color: '+vt+'">'+Ye+"</span>"});let Me=Ne.split("\n");for(let Ye=0,vt=Me.length;Ye<vt;Ye++){let kt=Me[Ye].split(" ");for(let Lt=0,tn=kt.length;Lt<tn;Lt++)""==kt[Lt]&&(kt[Lt]="<span>&nbsp</span>");Me[Ye]=kt.join("\n"),Me[Ye]+="<br>"}Dt.elt.innerHTML=Me.join("\n")}catch{Dt.remove();let Ne=Ze.createElement("textarea");Ne.elt.disabled=!0,Ne.elt.className="infobox",Ne.elt.setAttribute("style","height: 100%; display: block;"),Ne.elt.textContent="",ge.canvasDiv.appendChild(Ne.elt),Ze.TextArea=Ne.elt,ge.FileInfo.is_new?ge.open_text_editor(Ne.elt):Ze.loadStrings(ge.FileURL,Me=>{Ne.elt.textContent=Me.join("\n"),ge.open_text_reader(Ze),ge.ContentOnLoad=!0,ge.ContentFailedLoad=!1},Me=>{ge.FileInfo.else=!0,ge.ContentOnLoad=!0})}ge.ContentOnLoad=!0,ge.ContentFailedLoad=!1},pt=>{ge.FileInfo.else=!0,ge.ContentOnLoad=!0})}else{let Dt=Ze.createElement("textarea");Dt.elt.disabled=!0,Dt.elt.className="infobox",Dt.elt.setAttribute("style","height: 100%; display: block;"),Dt.elt.textContent="",ge.canvasDiv.appendChild(Dt.elt),Ze.TextArea=Dt.elt,ge.FileInfo.is_new?ge.open_text_editor(Dt.elt):Ze.loadStrings(ge.FileURL,pt=>{Dt.elt.textContent=pt.join("\n"),ge.open_text_reader(Ze),ge.ContentOnLoad=!0,ge.ContentFailedLoad=!1},pt=>{ge.FileInfo.else=!0,ge.ContentOnLoad=!0})}},Ze.windowResized=()=>{let Dt=window.innerHeight-45-56;Ze.SyntaxHighlightReader.setAttribute("style",`height: ${Dt}px; display: ${ge.isTextEditMode?"none":"block"}; overflow-y: scroll;`)}});break;case"godot":document.addEventListener("ionBackButton",ge.EventListenerAct);let Je,ut=ge.MessageInfo.message_id;try{let Ze=yield ge.indexed.loadBlobFromUserPath((ge.FileInfo.alt_path||ge.FileInfo.path||ge.navParams.get("path"))+"_thumbnail.png","");Je=URL.createObjectURL(Ze)}catch{}!ge.NeedDownloadFile&&ge.CurrentViewId==ut&&setTimeout((0,g.c)(function*(){let Ze=!1;if(ge.indexed.godotDB)try{let Dt=yield ge.indexed.loadBlobFromUserPath(ge.FileInfo.alt_path||ge.FileInfo.path||ge.navParams.get("path"),"",void 0,ge.indexed.ionicDB);yield ge.indexed.GetGodotIndexedDB(),yield ge.indexed.saveBlobToUserPath(Dt,"tmp_files/duplicate/viewer.pck",void 0,ge.indexed.godotDB),Ze=!0}catch(Dt){console.log("\ub0b4\ubd80 \ud30c\uc77c \uc5c6\uc74c: ",Dt)}if(yield ge.global.CreateGodotIFrame("content_viewer_canvas",{path:"tmp_files/duplicate/viewer.pck",alt_path:ge.FileInfo.alt_path||ge.FileInfo.path||ge.navParams.get("path"),url:ge.FileInfo.url,background:Je,receive_image:(Dt=(0,g.c)(function*(pt,Re,Ne){let Me="tmp_files/modify_image.png";yield ge.indexed.saveBase64ToUserPath(","+pt,Me),ge.modalCtrl.dismiss({type:"image",path:Me,width:Re,height:Ne,msg:ge.MessageInfo,index:ge.RelevanceIndex-1})}),function(Re,Ne,Me){return Dt.apply(this,arguments)})},"start_load_pck"),!Ze){try{let Dt=yield ge.indexed.loadBlobFromUserPath(ge.FileInfo.alt_path||ge.FileInfo.path||ge.navParams.get("path"),"",void 0,ge.indexed.ionicDB);yield ge.indexed.GetGodotIndexedDB(),yield ge.indexed.saveBlobToUserPath(Dt,"tmp_files/duplicate/viewer.pck",void 0,ge.indexed.godotDB)}catch{}yield ge.global.CreateGodotIFrame("content_viewer_canvas",{path:"tmp_files/duplicate/viewer.pck",alt_path:ge.FileInfo.alt_path||ge.FileInfo.path||ge.navParams.get("path"),url:ge.FileInfo.url,background:Je,receive_image:function(){var Dt=(0,g.c)(function*(pt,Re,Ne){let Me="tmp_files/modify_image.png";yield ge.indexed.saveBase64ToUserPath(","+pt,Me),ge.modalCtrl.dismiss({type:"image",path:Me,width:Re,height:Ne,msg:ge.MessageInfo,index:ge.RelevanceIndex-1})});return function(Re,Ne,Me){return Dt.apply(this,arguments)}}()},"start_load_pck")}var Dt;ge.ContentOnLoad=!0,ge.ContentFailedLoad=!1,Je&&URL.revokeObjectURL(Je),ge.FileInfo.url?ge.global.godot_window.download_url():ge.global.godot_window.start_load_pck()}),100);break;case"blender":let Rt=yield ge.loadingCtrl.create({message:ge.lang.text.ContentViewer.OnLoadContent});Rt.present(),ge.p5canvas=ge.global.load_blender_file(ge.canvasDiv,ge.FileInfo,Rt,()=>{ge.ContentOnLoad=!0,ge.ContentFailedLoad=!1},()=>{ge.ContentFailedLoad=!0});break;case"pdf":if("Android"!=Ce.s1){ge.showEdit=!1,ge.p5canvas=new st(Ze=>{Ze.setup=()=>{Ze.noCanvas(),Ze.noLoop();let Dt=Ze.createElement("iframe");Dt.attribute("src",ge.FileURL),Dt.attribute("frameborder","0"),Dt.attribute("class","full_screen"),Dt.attribute("allow","fullscreen; encrypted-media"),Dt.attribute("scrolling","no"),Dt.attribute("withCredentials","true"),Dt.attribute("type","application/pdf"),Dt.parent(ge.canvasDiv),ge.ContentOnLoad=!0,ge.ContentFailedLoad=!1}});break}default:console.log("\uc815\uc758\ub418\uc9c0 \uc54a\uc740 \ud30c\uc77c \uc815\ubcf4: ",ge.FileInfo.viewer);case"disabled":ge.p5canvas=new st(Ze=>{Ze.setup=()=>{Ze.noCanvas()}}),ge.ContentOnLoad=!0}})()}ChangeContentWithKeyInput(){this.p5viewerkey=new st(ge=>{ge.keyPressed=Je=>{if(!this.isTextEditMode&&"godot"!=this.FileInfo.viewer)switch(Je.code){case"KeyA":case"ArrowLeft":this.ChangeToAnother(-1);break;case"KeyS":this.NeedDownloadFile?this.DownloadCurrentFile():this.download_file();break;case"KeyD":case"ArrowRight":this.ChangeToAnother(1)}}})}open_bottom_modal(){this.ShowContentInfoIonic.onDidDismiss().then(ge=>{this.useP5Navigator=!0}),this.useP5Navigator=!1,this.ShowContentInfoIonic.present()}open_text_editor(ge=this.p5canvas.TextArea){this.p5canvas&&this.p5canvas.SyntaxHighlightReader&&(this.p5canvas.SyntaxHighlightReader.style.display="none"),ge.style.display="block",ge.disabled=!1,setTimeout(()=>{this.isTextEditMode=!0,ge.focus()},500)}open_text_reader(ge=this.p5canvas){if(!ge.SyntaxHighlightReader){let vt=ge.createDiv();vt.elt.className="infobox",vt.elt.setAttribute("style",`height: ${ge.TextArea.clientHeight}px; display: block; overflow-y: auto;`),this.canvasDiv.appendChild(vt.elt),ge.SyntaxHighlightReader=vt.elt}let ut=ge.TextArea.textContent.split("\n");const Rt=["void","static","import","export","interface","include","#include","using","from","as","public","protected","private","use","package","local","async","await","program","namespace","begin","end","puts","Private","Protected","Public","Sub","End","var","let","enum","String","char","Integer","Float","Boolean","Array","NULL","Resource","strings","integer","complex","byte","ubyte","int","uint","short","ushort","long","ulong","bvec2","bvec3","bvec4","ivec2","ivec3","ivec4","uvec2","uvec3","uvec4","mat2","mat3","mat4","Vector","Vector2","Vector3","PVector","PImage","PGraphics","float","double","number","color","bool","boolean","Arary","Object","Table","TableRow","HashMap","JSONObject","JSONArray","ArrayList","IntDict","IntList","FloatDict","FloatList","StringDict","StringList","null","undefined","data","function","func","fn","def","fun","class","extends","implements","object","override","partial"],Ze=["final","const"],Dt=["for","match","switch","if","else","elif","return","continue","pass","throw","loop","while","in","try","catch","and","or","do","then","yield"],pt=["!=",">=","<=","==","<",">"],Re=["#","##","\x3c!--","--\x3e","/**","*/","//"],Ne=["="],Me=["{","}","<<",">>",":","(",")","[","]",">>>","->","<-","=>","<="],Ye=["SELECT","UPDATE","DELETE","INSERT INTO","CREATE DATABASE","ALTER DATABASE","CREATE TABLE","ALTER TABLE","DROP TABLE","CREATE INDEX","DROP INDEX","ECHO","FROM","WHERE","AND","OR","NOT","ALTER","ADD","echo","<?php","?>"];for(let vt=0,kt=ut.length;vt<kt;vt++){let Lt=ge.createDiv(),tn=ut[vt].split(" "),bn=!1;for(let gn=0,Pt=tn.length;gn<Pt;gn++){let yt=this.HTMLEncode(tn[gn]),it=!1;for(let at=0,It=Re.length;at<It;at++)if(tn[gn]==Re[at]){bn=!0;break}if(!bn){for(let at=0,It=Ne.length;at<It;at++)if(tn[gn]==Ne[at]){let Yt=ge.createSpan(yt+"&nbsp");Yt.style("color","var(--syntax-text-coding-equalmark)"),Yt.style("white-space","break-spaces"),Yt.parent(Lt),it=!0;break}if(it)continue;for(let at=0,It=Ze.length;at<It;at++)if(tn[gn]==Ze[at]){let Yt=ge.createSpan(yt+"&nbsp");Yt.style("color","var(--syntax-text-coding-final)"),Yt.style("white-space","break-spaces"),Yt.parent(Lt),it=!0;break}for(let at=0,It=pt.length;at<It;at++)if(tn[gn]==pt[at]){let Yt=ge.createSpan(yt+"&nbsp");Yt.style("color","var(--syntax-text-coding-comparion-op)"),Yt.style("white-space","break-spaces"),Yt.parent(Lt),it=!0;break}if(it)continue;for(let at=0,It=Dt.length;at<It;at++)if(tn[gn]==Dt[at]){let Yt=ge.createSpan(yt+"&nbsp");Yt.style("color","var(--syntax-text-coding-operator)"),Yt.style("white-space","break-spaces"),Yt.parent(Lt),it=!0;break}if(it)continue;for(let at=0,It=Me.length;at<It;at++)if(tn[gn]==Me[at]){let Yt=ge.createSpan(yt+"&nbsp");Yt.style("color","var(--syntax-text-coding-spechar)"),Yt.style("white-space","break-spaces"),Yt.parent(Lt),it=!0;break}if(it)continue;for(let at=0,It=Ye.length;at<It;at++)if(tn[gn]==Ye[at]){let Yt=ge.createSpan(yt+"&nbsp");Yt.style("color","var(--syntax-text-coding-command)"),Yt.style("white-space","break-spaces"),Yt.parent(Lt),it=!0;break}if(it)continue;for(let at=0,It=Rt.length;at<It;at++)if(tn[gn]==Rt[at]){let Yt=ge.createSpan(yt+"&nbsp");Yt.style("color","var(--syntax-text-coding-basic)"),Yt.style("white-space","break-spaces"),Yt.parent(Lt),it=!0;break}if(it)continue}let Xe=ge.createSpan(yt+"&nbsp");bn&&Xe.style("color","var(--syntax-text-coding-comments)"),Xe.style("white-space","break-spaces"),Xe.parent(Lt)}Lt.parent(ge.SyntaxHighlightReader)}ge.TextArea.style.display="none",ge.SyntaxHighlightReader.style.display="block"}HTMLEncode(ge){let Je=(ge=[...ge]).length,ut=[];for(;Je--;){var Rt=ge[Je].codePointAt(0);ut[Je]=Rt<65||Rt>127||Rt>90&&Rt<97?"&#"+Rt+";":ge[Je]}return ut.join("")}SaveText(){var ge=this;return(0,g.c)(function*(){let Je=new Blob([ge.p5canvas.TextArea.value],{type:ge.FileInfo.type});if(Je.name=ge.NewTextFileName||ge.FileInfo.filename||ge.FileInfo.name,ge.OpenInChannelChat)ge.modalCtrl.dismiss({type:"text",blob:Je,contentRelated:ge.FileInfo.content_related_creator});else{let ut=yield ge.loadingCtrl.create({message:ge.lang.text.TodoDetail.WIP});ut.present();let Rt=`tmp_files/texteditor/${ge.FileInfo.filename||ge.FileInfo.name}`;ge.FileInfo.path||(ge.FileInfo.path=Rt),yield ge.indexed.saveBlobToUserPath(Je,Rt),ut.dismiss(),ge.p5toast.show({text:ge.lang.text.ContentViewer.fileSaved}),ge.modalCtrl.dismiss({type:"text",blob:Je,path:Rt,index:ge.RelevanceIndex-1})}})()}modify_image(){var ge=this;return(0,g.c)(function*(){switch(ge.FileInfo.viewer){case"image":{let ut=yield ge.loadingCtrl.create({message:ge.lang.text.TodoDetail.WIP});ut.present();try{let Rt;ge.image_info.path=ge.FileInfo.alt_path||ge.FileInfo.path||ge.navParams.get("path"),ge.FileInfo.url&&(ge.image_info.path="tmp_files/modify_image.png",Rt=yield fetch(ge.FileInfo.url).then(Ze=>Ze.blob()),yield ge.indexed.saveBlobToUserPath(Rt,ge.image_info.path)),ge.modalCtrl.dismiss({type:"image",...ge.image_info,path:ge.image_info.path,msg:ge.MessageInfo,index:ge.RelevanceIndex-1})}catch(Rt){ge.p5toast.show({text:`${ge.lang.text.ContentViewer.CannotEditFile}: ${Rt}`})}ut.dismiss()}break;case"code":case"text":let Je=yield ge.loadingCtrl.create({message:ge.lang.text.TodoDetail.WIP});Je.present();try{ge.p5canvas.SyntaxHighlightReader.style.height="fit-content";let ut=yield w.toBlob(ge.p5canvas.SyntaxHighlightReader);ge.image_info.width=ge.p5canvas.SyntaxHighlightReader.clientWidth,ge.image_info.height=ge.p5canvas.SyntaxHighlightReader.clientHeight,ge.image_info.path="tmp_files/modify_image.png",yield ge.indexed.saveBlobToUserPath(ut,ge.image_info.path),ge.modalCtrl.dismiss({type:"image",...ge.image_info,path:ge.image_info.path,msg:ge.MessageInfo,index:ge.RelevanceIndex-1,isDarkMode:ge.global.GetExactDarkMode()})}catch(ut){ge.p5toast.show({text:`${ge.lang.text.ContentViewer.CannotEditFile}: ${ut}`})}Je.dismiss();break;case"video":try{let ut=yield ge.loadingCtrl.create({message:ge.lang.text.TodoDetail.WIP});ut.present(),ge.p5canvas.pixelDensity(1),ge.p5canvas.VideoMedia.pause(),ge.p5canvas.VideoMedia.size(ge.image_info.width,ge.image_info.height);let Rt=ge.p5canvas.createCanvas(ge.image_info.width,ge.image_info.height);ge.p5canvas.image(ge.p5canvas.VideoMedia,0,0,ge.p5canvas.width,ge.p5canvas.height);let Ze=Rt.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{ut.dismiss(),ge.image_info.path="tmp_files/modify_image.png",yield ge.indexed.saveBase64ToUserPath(Ze,ge.image_info.path),ge.modalCtrl.dismiss({type:"image",...ge.image_info,msg:ge.MessageInfo,index:ge.RelevanceIndex-1})}catch(Dt){console.log("\ud30c\uc77c \uc800\uc7a5 \uc624\ub958: ",Dt)}}catch(ut){console.log("\uc7ac\uc0dd\uc911\uc778 \ube44\ub514\uc624 \uc774\ubbf8\uc9c0 \ucd94\ucd9c \uc624\ub958: ",ut)}break;case"blender":try{let ut=yield ge.loadingCtrl.create({message:ge.lang.text.TodoDetail.WIP});ut.present(),ge.p5canvas.pixelDensity(1);let Rt=ge.p5canvas.canvas.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{ut.dismiss(),ge.image_info.path="tmp_files/modify_image.png",ge.image_info.width=ge.p5canvas.width,ge.image_info.height=ge.p5canvas.height,yield ge.indexed.saveBase64ToUserPath(Rt,ge.image_info.path),ge.modalCtrl.dismiss({type:"image",...ge.image_info,msg:ge.MessageInfo,index:ge.RelevanceIndex-1,isDarkMode:ge.global.GetExactDarkMode()})}catch(Ze){console.log("\ud30c\uc77c \uc800\uc7a5 \uc624\ub958: ",Ze)}}catch(ut){console.log("\uc7ac\uc0dd\uc911\uc778 \ube44\ub514\uc624 \uc774\ubbf8\uc9c0 \ucd94\ucd9c \uc624\ub958: ",ut)}break;case"godot":ge.global.godot_window.modify_image();break;default:console.log("\ud3b8\uc9d1 \ubd88\uac00 \ud30c\uc77c \uc815\ubcf4: ",ge.FileInfo)}})()}download_file(){var ge=this;return(0,g.c)(function*(){if("DesktopPWA"==Ce.s1||"MobilePWA"==Ce.s1)if(ge.FileInfo.url)try{let Je=yield fetch(ge.FileInfo.url),ut=yield Je.blob();if(!Je.ok)throw"\uc81c\ub300\ub85c \ub2e4\uc6b4\ubc1b\uc544\uc9c0\uc9c0 \uc54a\uc74c";yield ge.indexed.saveBlobToUserPath(ut,ge.FileInfo.alt_path||ge.FileInfo.path),ge.indexed.DownloadFileFromUserPath(ge.FileInfo.alt_path||ge.FileInfo.path,ge.FileInfo.type,ge.FileInfo.filename||ge.FileInfo.name)}catch(Je){console.log("\ub2e4\uc6b4\ubc1b\uae30 \uc2e4\ud328: ",Je),ge.p5toast.show({text:`${ge.lang.text.Nakama.FailedDownload}: ${Je}`})}else ge.indexed.DownloadFileFromUserPath(ge.FileInfo.alt_path||ge.FileInfo.path,ge.FileInfo.type,ge.FileInfo.filename||ge.FileInfo.name);else ge.alertCtrl.create({header:ge.lang.text.ContentViewer.Filename,inputs:[{name:"filename",placeholder:ge.FileInfo.filename||ge.FileInfo.name,type:"text"}],buttons:[{text:ge.lang.text.ContentViewer.saveFile,handler:(Je=(0,g.c)(function*(ut){if(ge.FileInfo.url)try{let Rt=yield fetch(ge.FileInfo.url),Ze=yield Rt.blob();if(!Rt.ok)throw"\uc81c\ub300\ub85c \ub2e4\uc6b4\ubc1b\uc544\uc9c0\uc9c0 \uc54a\uc74c";yield ge.indexed.saveBlobToUserPath(Ze,ge.FileInfo.alt_path||ge.FileInfo.path),ge.DownloadFileAct(ut)}catch(Rt){console.log("\ub2e4\uc6b4\ubc1b\uae30 \uc2e4\ud328: ",Rt),ge.p5toast.show({text:`${ge.lang.text.Nakama.FailedDownload}: ${Rt}`})}else ge.DownloadFileAct(ut)}),function(Rt){return Je.apply(this,arguments)})}]}).then(Je=>Je.present());var Je})()}DownloadFileAct(ge){var Je=this;return(0,g.c)(function*(){let ut=yield Je.loadingCtrl.create({message:Je.lang.text.TodoDetail.WIP});ut.present();let Rt=ge.filename?ge.filename.replace(/:|\?|\/|\\|<|>/g,""):Je.FileInfo.filename||Je.FileInfo.name,Ze=yield Je.indexed.loadBlobFromUserPath(Je.FileInfo.alt_path||Je.FileInfo.path,Je.FileInfo.type);Je.forceWrite&&!ge.filename?Je.file.writeExistingFile(Je.file.externalDataDirectory,Rt,Ze).then(Dt=>{Je.forceWrite=!1,ut.dismiss(),Je.p5toast.show({text:`${Je.lang.text.ContentViewer.OverWriteFile}: ${Rt}`})}):Je.file.writeFile(Je.file.externalDataDirectory,Rt,Ze).then(Dt=>{ut.dismiss(),Je.p5toast.show({text:Je.lang.text.ContentViewer.fileSaved})}).catch(Dt=>{12===(ut.dismiss(),Dt.code)?(Je.p5toast.show({text:Je.lang.text.ContentViewer.AlreadyExist}),Je.forceWrite=!0,Je.download_file()):console.log("\uc900\ube44\ub418\uc9c0 \uc54a\uc740 \uc624\ub958 \ubc18\ud658: ",Dt)})})()}toast_info(ge){ge.various_display||this.set_various_display(ge),this.p5toast.show({text:ge.various_display})}ShareContent(){let ge=this.nakama.rearrange_channels();for(let Je=ge.length-1;Je>=0;Je--)("missing"==ge[Je].status||"offline"==ge[Je].status)&&ge.splice(Je,1);ge.length?this.modalCtrl.create({component:o._,componentProps:{file:this.FileInfo,channels:ge}}).then(Je=>{Je.onDidDismiss().then(ut=>{ut.data&&this.modalCtrl.dismiss({share:!0})}),Je.present()}):this.p5toast.show({text:this.lang.text.ShareContentToOther.NoChannelToShare})}RemoveFile(){this.alertCtrl.create({header:this.lang.text.ContentViewer.RemoveFile,message:this.FileInfo.alt_path||this.FileInfo.path,buttons:[{text:this.lang.text.TodoDetail.remove,handler:()=>{this.RemoveFileAct()},cssClass:"redfont"}]}).then(ge=>ge.present())}RemoveFileAct(){var ge=this;return(0,g.c)(function*(){URL.revokeObjectURL(ge.FileURL),delete ge.FileInfo.thumbnail,delete ge.FileInfo.text,yield ge.indexed.removeFileFromUserPath(ge.FileInfo.alt_path||ge.FileInfo.path),ge.RelevanceIndex-=1,ge.ChangeToAnother(1)})()}ionViewWillLeave(){var ge=this;return(0,g.c)(function*(){switch(document.removeEventListener("ionBackButton",ge.EventListenerAct),ge.FileInfo.viewer){case"video":try{let Rt,Ze,ut=ge.p5canvas.VideoMedia.size();ut.width>ut.height?(Rt=192,Ze=ut.height/ut.width*192):(Rt=ut.width/ut.height*192,Ze=192);let Dt=ge.p5canvas.createCanvas(Rt,Ze);ge.p5canvas.pixelDensity(1),ge.p5canvas.imageMode(ge.p5canvas.CORNER),ge.p5canvas.image(ge.p5canvas.VideoMedia,0,0,Rt,Ze),ge.p5canvas.fill(255,128),ge.p5canvas.rect(0,0,Rt,Ze),ge.p5canvas.textWrap(ge.p5canvas.CHAR),ge.p5canvas.textSize(16);let pt=Ze/16;ge.p5canvas.push(),ge.p5canvas.translate(pt/6,pt/6),ge.p5canvas.fill(0),ge.p5canvas.text(ge.FileInfo.filename||ge.FileInfo.name,pt,pt,Rt-2*pt,Ze-2*pt),ge.p5canvas.filter(ge.p5canvas.BLUR,3,!1),ge.p5canvas.pop(),ge.p5canvas.fill(255),ge.p5canvas.text(ge.FileInfo.filename||ge.FileInfo.name,pt,pt,Rt-2*pt,Ze-2*pt);let Re=Dt.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield ge.indexed.saveBase64ToUserPath(Re,`${ge.FileInfo.alt_path||ge.FileInfo.path}_thumbnail.png`),ge.FileInfo.thumbnail=Re,ge.global.modulate_thumbnail(ge.FileInfo,""),ge.p5canvas&&ge.p5canvas.remove()}catch(Ne){console.log("\uc378\ub124\uc77c \uc800\uc7a5 \uc624\ub958: ",Ne)}}catch(ut){console.log("\ube44\ub514\uc624 \uc378\ub124\uc77c \uc0dd\uc131 \ucde8\uc18c: ",ut)}break;case"godot":try{ge.global.godot_window.filename=ge.FileInfo.filename||ge.FileInfo.name,ge.global.godot_window.create_thumbnail(ge.FileInfo),(yield ge.indexed.GetFileListFromDB("tmp_files",void 0,ge.indexed.godotDB)).forEach(Rt=>ge.indexed.removeFileFromUserPath(Rt,void 0,ge.indexed.godotDB)),ge.p5canvas&&ge.p5canvas.remove()}catch(ut){console.log("godot \uc378\ub124\uc77c \uc800\uc7a5 \uc624\ub958: ",ut)}break;case"blender":let Je=ge.p5canvas.canvas.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{new st(ut=>{ut.setup=()=>{ut.loadImage(Je,function(){var Rt=(0,g.c)(function*(Ze){let Dt,pt;Ze.width>Ze.height?(Dt=192,pt=Ze.height/Ze.width*192):(Dt=Ze.width/Ze.height*192,pt=192);let Re=ut.createCanvas(Dt,pt);ut.pixelDensity(1),ut.imageMode(ut.CORNER),ut.image(Ze,0,0,ut.width,ut.height),ut.fill(255,128),ut.rect(0,0,Dt,pt),ut.textWrap(ut.CHAR),ut.textSize(16);let Ne=pt/16;ut.push(),ut.translate(Ne/6,Ne/6),ut.fill(0),ut.text(ge.FileInfo.filename||ge.FileInfo.name,Ne,Ne,Dt-2*Ne,pt-2*Ne),ut.filter(ut.BLUR,3,!1),ut.pop(),ut.fill(255),ut.text(ge.FileInfo.filename||ge.FileInfo.name,Ne,Ne,Dt-2*Ne,pt-2*Ne);let Me=Re.elt.toDataURL("image/png").replace("image/png","image/octet-stream");yield ge.indexed.saveBase64ToUserPath(Me,`${ge.FileInfo.alt_path||ge.FileInfo.path}_thumbnail.png`),ge.FileInfo.thumbnail=Me,ge.global.modulate_thumbnail(ge.FileInfo,""),ut.remove(),ge.p5canvas&&ge.p5canvas.remove()});return function(Ze){return Rt.apply(this,arguments)}}(),Rt=>{console.log("\ube14\ub80c\ub354 \uc378\ub124\uc77c \ubc30\uacbd \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",Rt),ut.remove(),ge.p5canvas&&ge.p5canvas.remove()})}})}catch(ut){console.log("blender \uc378\ub124\uc77c \uc800\uc7a5 \uc624\ub958: ",ut)}break;default:ge.p5canvas&&ge.p5canvas.remove()}URL.revokeObjectURL(ge.FileURL)})()}ionViewDidLeave(){this.noti.ClearNoti(6)}copy_url(ge){this.mClipboard.copy(ge).catch(Je=>{V.c.write(ge).then(()=>{"DesktopPWA"==Ce.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${ge}`})}).catch(ut=>{})})}}return(Ot=jt).\u0275fac=function(ge){return new(ge||Ot)(d.GI1(p.qS),d.GI1(m.a6),d.GI1(C.k),d.GI1(x.o),d.GI1(s.S),d.GI1(a.O),d.GI1(p.iW),d.GI1(p.Kg),d.GI1(h.A1),d.GI1(c.h),d.GI1(u._),d.GI1(l.s))},Ot.\u0275cmp=d.In1({type:Ot,selectors:[["app-ionic-viewer"]],viewQuery:function(ge,Je){if(1&ge&&(d.CC$(b,5),d.CC$(D,5)),2&ge){let ut;d.wto(ut=d.Gqi())&&(Je.FileMenu=ut.first),d.wto(ut=d.Gqi())&&(Je.ShowContentInfoIonic=ut.first)}},decls:28,vars:17,consts:[[1,"ion-no-border"],["id","Toolbar"],["slot","start",3,"click"],["defaultHref",""],["class","relevance_change","style","padding-right: 16px;","slot","end","name","pause-circle",3,"click",4,"ngIf"],["class","relevance_change","style","padding-right: 16px;","slot","end","name","play-circle",3,"click",4,"ngIf"],["class","relevance_change","style","padding-right: 4px;","slot","end","name","arrow-back-circle-outline",3,"click",4,"ngIf"],["slot","end",4,"ngIf"],["class","relevance_change","style","padding-right: 16px; padding-left: 4px;","slot","end","name","arrow-forward-circle-outline",3,"click",4,"ngIf"],["id","ContentBox"],[1,"main_table_elt"],[2,"height","0"],["id","FileHeader",2,"max-width","100vw"],["text-wrap","","style","overflow-x: auto;",4,"ngIf"],["type","text","text-warp","","style","overflow-x: auto; overflow-y: hidden;",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],[3,"click",4,"ngIf"],["id","menu_trigger",4,"ngIf"],["trigger","menu_trigger","dismissOnSelect","",4,"ngIf"],[4,"ngIf"],[3,"initialBreakpoint","breakpoints"],["ShowContentInfoIonic",""],["slot","end","name","pause-circle",1,"relevance_change",2,"padding-right","16px",3,"click"],["slot","end","name","play-circle",1,"relevance_change",2,"padding-right","16px",3,"click"],["slot","end","name","arrow-back-circle-outline",1,"relevance_change",2,"padding-right","4px",3,"click"],["slot","end"],["slot","end","name","arrow-forward-circle-outline",1,"relevance_change",2,"padding-right","16px","padding-left","4px",3,"click"],["text-wrap","",2,"overflow-x","auto"],["type","text","text-warp","",2,"overflow-x","auto","overflow-y","hidden",3,"ngModel","placeholder","ngModelChange"],[3,"click"],["name","close-circle-outline"],["name","save-outline"],["id","menu_trigger"],["name","ellipsis-vertical"],["trigger","menu_trigger","dismissOnSelect",""],["FileMenu",""],["button","",3,"click",4,"ngIf"],["button","",3,"click"],["id","content_viewer_canvas",1,"full_screen",2,"max-width","100vw","position","relative"],[1,"disconnect_info"],["color","medium","name","attach-outline",2,"width","60px","height","60px"],["color","medium"],["color","medium","name","close-circle-outline",2,"width","60px","height","60px"],[1,"ion-align-items-center"],["size","12",1,"ion-text-center"],["color","warning","shape","round",1,"ion-align-items-center",3,"disabled","click"],["button","",4,"ngIf"],[1,"ion-text-end"],[4,"ngFor","ngForOf"],[1,"ion-text-center"],["button",""],[1,"history_center"],["color","secondary","mode","ios","outline","true",3,"click"],["name","document-attach-outline",4,"ngIf"],["name","camera-outline",4,"ngIf"],["name","link-outline",4,"ngIf"],["name","text-outline",4,"ngIf"],["name","document-text-outline",4,"ngIf"],["name","share-social-outline",4,"ngIf"],["name","document-attach-outline"],["name","camera-outline"],["name","link-outline"],["name","text-outline"],["name","document-text-outline"],["name","share-social-outline"],["src","assets/icon/voidDraw.png"]],template:function(ge,Je){1&ge&&(d.I0R(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),d.OEk(3),d.C$Y(),d.I0R(4,"ion-buttons",2),d.qCj("click",function(){return Je.modalCtrl.dismiss()}),d.wR5(5,"ion-back-button",3),d.C$Y(),d.yuY(6,B,1,0,"ion-icon",4)(7,F,1,0,"ion-icon",5)(8,j,1,0,"ion-icon",6)(9,k,2,1,"ion-label",7)(10,U,1,0,"ion-icon",8),d.C$Y()(),d.I0R(11,"ion-content",9)(12,"table",10)(13,"tr",11)(14,"td")(15,"ion-list-header",12),d.yuY(16,T,2,1,"ion-label",13)(17,I,1,2,"ion-input",14)(18,M,2,0,"ion-button",15)(19,q,2,0,"ion-button",15)(20,K,2,0,"ion-button",16)(21,Ee,3,0,"ion-popover",17),d.C$Y()()(),d.I0R(22,"tr"),d.yuY(23,ne,4,2,"td",18)(24,ue,6,2,"td",18),d.C$Y()(),d.I0R(25,"ion-modal",19,20),d.yuY(27,gt,19,9,"ng-template"),d.C$Y()()),2&ge&&(d.yG2(3),d.cNF(Je.lang.text.ContentViewer.Title),d.yG2(3),d.E7m("ngIf",Je.HaveRelevances&&("video"==Je.FileInfo.viewer||"audio"==Je.FileInfo.viewer)&&Je.AutoPlayNext),d.yG2(),d.E7m("ngIf",Je.HaveRelevances&&("video"==Je.FileInfo.viewer||"audio"==Je.FileInfo.viewer)&&!Je.AutoPlayNext),d.yG2(),d.E7m("ngIf",Je.HaveRelevances),d.yG2(),d.E7m("ngIf",Je.HaveRelevances),d.yG2(),d.E7m("ngIf",Je.HaveRelevances),d.yG2(6),d.E7m("ngIf",!Je.isTextEditMode),d.yG2(),d.E7m("ngIf",Je.isTextEditMode),d.yG2(),d.E7m("ngIf",Je.isTextEditMode),d.yG2(),d.E7m("ngIf",Je.isTextEditMode),d.yG2(),d.E7m("ngIf",!Je.isTextEditMode),d.yG2(),d.E7m("ngIf",!Je.isTextEditMode),d.yG2(2),d.E7m("ngIf",!Je.NeedDownloadFile),d.yG2(),d.E7m("ngIf",Je.NeedDownloadFile),d.yG2(),d.E7m("initialBreakpoint",.5)("breakpoints",d.q4q(16,xt)))},dependencies:[y.ay,y.u_,f.ue,f._G,p.O7,p.sn,p.GS,p.cz,p.Kk,p._i,p.YP,p.wB,p.Ko,p.A5,p.Yb,p.S8,p.QR,p.OC,p.zz,p.qo,p.tM,p.Md,p.yc,p.sW,p.qG,p.Im],styles:[".main_table_elt[_ngcontent-%COMP%]{width:100%;height:100%;border:0;margin:0}.relevance_change[_ngcontent-%COMP%]{width:25px;height:25px}.history_center[_ngcontent-%COMP%]{text-align:center}"]}),jt})()},896:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{_:()=>x});var g=fe(4496),Ce=fe(4500),st=fe(9240),Fe=fe(5624),o=fe(4180),V=fe(7136),w=fe(1368);function _(s,a){if(1&s&&g.wR5(0,"img",12),2&s){const h=g.GaO().$implicit;g.m_g("online"==h.status||3==h.redirect.type&&"pending"==h.status?"filter: grayscale(0) contrast(1)":"filter: grayscale(.9) contrast(1.4)"),g.E7m("src",h.info.img||"assets/data/channel.svg",g.K6U)}}function d(s,a){if(1&s&&g.wR5(0,"div",13),2&s){const h=g.GaO().$implicit,c=g.GaO();g.m_g("background-color: "+c.statusBar.colors[h.status||"offline"])}}function p(s,a){if(1&s&&g.wR5(0,"div",14),2&s){const h=g.GaO().$implicit;g.m_g("background-image: linear-gradient(to right, #0000, #"+(h.color||"abcdef")+"44)")}}function m(s,a){if(1&s&&(g.I0R(0,"td",15),g.OEk(1),g.C$Y()),2&s){const h=g.GaO().$implicit,c=g.GaO();g.yG2(),g.oRS(" ","("+(h.local?c.lang.text.AddGroup.UseLocalStorage:h.server.name||h.server.target)+")"," ")}}function C(s,a){if(1&s){const h=g.KQA();g.I0R(0,"ion-item",4),g.qCj("click",function(){const l=g.usT(h).$implicit,y=g.GaO();return g.CGJ(y.go_to_chatroom(l))}),g.I0R(1,"div",5),g.yuY(2,_,1,3,"img",6)(3,d,1,2,"div",7),g.C$Y(),g.yuY(4,p,1,2,"div",8),g.I0R(5,"ion-label")(6,"div",9)(7,"table")(8,"tr")(9,"td"),g.OEk(10),g.C$Y(),g.yuY(11,m,2,1,"td",10),g.C$Y()()(),g.I0R(12,"div",11),g.OEk(13),g.C$Y()()()}if(2&s){const h=a.$implicit,c=g.GaO();g.yG2(2),g.E7m("ngIf",h.info),g.yG2(),g.E7m("ngIf",!h.local),g.yG2(),g.E7m("ngIf",h.is_new),g.yG2(6),g.oRS(" ",h.info?h.info.name||h.info.display_name||c.lang.text.ChatRoom.noname_chatroom:h.title||c.lang.text.ChatRoom.noname_chatroom," "),g.yG2(),g.E7m("ngIf",c.nakama.showServer),g.yG2(2),g.oRS(" ",h.last_comment||h.noti||c.lang.text.Subscribes.noMessageHistory," ")}}let x=(()=>{var s;class a{constructor(c,u,l,y,f){this.lang=c,this.navParams=u,this.modalCtrl=l,this.statusBar=y,this.nakama=f,this.BackButtonPressed=!1}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){this.InitBrowserBackButtonOverride(),this.channels=this.navParams.get("channels")}go_to_chatroom(c){let u=this.navParams.get("file");delete u.db,this.nakama.go_to_chatroom_without_admob_act(c,u),this.modalCtrl.dismiss(!0)}}return(s=a).\u0275fac=function(c){return new(c||s)(g.GI1(Ce.o),g.GI1(st.a6),g.GI1(Fe.qS),g.GI1(o.Y),g.GI1(V.h))},s.\u0275cmp=g.In1({type:s,selectors:[["app-share-content-to-other"]],decls:11,vars:3,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"channel_image","channel_image_div"],["class","channel_image","alt","ch_img",3,"src","style",4,"ngIf"],["class","status_circle",3,"style",4,"ngIf"],["class","additional_form new_bg_form",3,"style",4,"ngIf"],[1,"channel_text_form","header"],["class","server_target",4,"ngIf"],[1,"channel_text_form","content"],["alt","ch_img",1,"channel_image",3,"src"],[1,"status_circle"],[1,"additional_form","new_bg_form"],[1,"server_target"]],template:function(c,u){1&c&&(g.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),g.OEk(3),g.C$Y(),g.I0R(4,"ion-buttons",1),g.qCj("click",function(){return u.modalCtrl.dismiss()}),g.wR5(5,"ion-back-button",2),g.C$Y()()(),g.I0R(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),g.OEk(9),g.C$Y()(),g.yuY(10,C,14,6,"ion-item",3),g.C$Y()),2&c&&(g.yG2(3),g.cNF(u.lang.text.ShareContentToOther.Title),g.yG2(6),g.cNF(u.lang.text.ShareContentToOther.AvailableChannels),g.yG2(),g.E7m("ngForOf",u.channels))},dependencies:[w.ay,w.u_,Fe.GS,Fe._i,Fe.wB,Fe.Yb,Fe.S8,Fe.QR,Fe.tM,Fe.Md,Fe.Im],styles:[".header[_ngcontent-%COMP%]{padding-bottom:4px}.content[_ngcontent-%COMP%]{color:#888;height:24px;line-height:24px;vertical-align:middle;overflow:hidden}.channel_image_div[_ngcontent-%COMP%]{position:absolute}.channel_image[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:64px;object-fit:cover}.status_circle[_ngcontent-%COMP%]{position:relative;top:-56px;left:38px;width:12px;height:12px;border-radius:12px}.channel_text_form[_ngcontent-%COMP%]{margin-left:64px}"]}),a})()},4180:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{Y:()=>Ce});var g=fe(4496);let Ce=(()=>{var st;class Fe{constructor(){this.colors={offline:"#888888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},this.dedicated={official:{groupchat:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(st=Fe).\u0275fac=function(V){return new(V||st)},st.\u0275prov=g.wxM({token:st,factory:st.\u0275fac,providedIn:"root"}),Fe})()},5788:(pn,Vt,fe)=>{"use strict";var g=fe(4476),Ce=fe(4496),st=fe(3332),Fe=fe(9240),o=fe(5624),V=fe(5193);const w=[{path:"",loadChildren:()=>fe.e(5504).then(fe.bind(fe,5504)).then(it=>it.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>fe.e(8668).then(fe.bind(fe,8668)).then(it=>it.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>fe.e(732).then(fe.bind(fe,732)).then(it=>it.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>Promise.all([fe.e(1052),fe.e(7048),fe.e(7988)]).then(fe.bind(fe,7988)).then(it=>it.UserFsDirPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([fe.e(1052),fe.e(7048),fe.e(3872),fe.e(4712)]).then(fe.bind(fe,3872)).then(it=>it.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([fe.e(1052),fe.e(9596),fe.e(5929),fe.e(8696)]).then(fe.bind(fe,5929)).then(it=>it.ChatRoomPageModule)},{path:"share-content-to-other",loadChildren:()=>fe.e(3116).then(fe.bind(fe,3116)).then(it=>it.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>Promise.all([fe.e(9596),fe.e(8080)]).then(fe.bind(fe,8080)).then(it=>it.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>Promise.all([fe.e(9596),fe.e(8696),fe.e(516)]).then(fe.bind(fe,516)).then(it=>it.PortalPageModule)}];let _=(()=>{var it;class Xe{}return(it=Xe).\u0275fac=function(It){return new(It||it)},it.\u0275mod=Ce.a4G({type:it}),it.\u0275inj=Ce.s3X({imports:[st.qQ.forRoot(w,{preloadingStrategy:st.eu}),st.qQ]}),Xe})();var d=fe(8268),p=fe(1028),m=fe(6928),C=fe(1368),x=fe(1424),s=fe(3800),a=fe(800),h=fe(2700),c=fe(7228),u=fe(5657),l=fe(3252),y=fe(308);const f=new l._(y.K);var D=fe(267),B=fe(560),F=fe(8960),j=fe(6624),k=fe(2115);function U(...it){const Xe=(0,j.e_)(it),at=(0,j._8)(it,1/0),It=it;return It.length?1===It.length?(0,B.Uv)(It[0]):(0,D.u)(at)((0,k.Q)(It,Xe)):F.k}var T=fe(4704),I=fe(6684),M=fe(7368),q=fe(2376),K=fe(8880),Y=fe(5448);const te={connector:()=>new u.E};function z(it,Xe=te){const{connector:at}=Xe;return(0,Y.i)((It,Yt)=>{const et=at();(0,B.Uv)(it(function ie(it){return new l._(Xe=>it.subscribe(Xe))}(et))).subscribe(Yt),Yt.add(It.subscribe(et))})}var Ee=fe(3992),W=fe(9212),R=fe(4548);class ne extends R.wH{constructor(Xe,at){super()}schedule(Xe,at=0){return this}}const ue={setInterval(it,Xe,...at){const{delegate:It}=ue;return null!=It&&It.setInterval?It.setInterval(it,Xe,...at):setInterval(it,Xe,...at)},clearInterval(it){const{delegate:Xe}=ue;return((null==Xe?void 0:Xe.clearInterval)||clearInterval)(it)},delegate:void 0};var we=fe(1248);const Be={now:()=>(Be.delegate||Date).now(),delegate:void 0};class We{constructor(Xe,at=We.now){this.schedulerActionCtor=Xe,this.now=at}schedule(Xe,at=0,It){return new this.schedulerActionCtor(this,Xe).schedule(It,at)}}We.now=Be.now;const Pe=new class Oe extends We{constructor(Xe,at=We.now){super(Xe,at),this.actions=[],this._active=!1}flush(Xe){const{actions:at}=this;if(this._active)return void at.push(Xe);let It;this._active=!0;do{if(It=Xe.execute(Xe.state,Xe.delay))break}while(Xe=at.shift());if(this._active=!1,It){for(;Xe=at.shift();)Xe.unsubscribe();throw It}}}(class je extends ne{constructor(Xe,at){super(Xe,at),this.scheduler=Xe,this.work=at,this.pending=!1}schedule(Xe,at=0){var It;if(this.closed)return this;this.state=Xe;const Yt=this.id,et=this.scheduler;return null!=Yt&&(this.id=this.recycleAsyncId(et,Yt,at)),this.pending=!0,this.delay=at,this.id=null!==(It=this.id)&&void 0!==It?It:this.requestAsyncId(et,this.id,at),this}requestAsyncId(Xe,at,It=0){return ue.setInterval(Xe.flush.bind(Xe,this),It)}recycleAsyncId(Xe,at,It=0){if(null!=It&&this.delay===It&&!1===this.pending)return at;null!=at&&ue.clearInterval(at)}execute(Xe,at){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const It=this._execute(Xe,at);if(It)return It;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Xe,at){let Yt,It=!1;try{this.work(Xe)}catch(et){It=!0,Yt=et||new Error("Scheduled action threw falsy error")}if(It)return this.unsubscribe(),Yt}unsubscribe(){if(!this.closed){const{id:Xe,scheduler:at}=this,{actions:It}=at;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.k)(It,this),null!=Xe&&(this.id=this.recycleAsyncId(at,Xe,null)),this.delay=null,super.unsubscribe()}}}),$e=Pe;var ke=fe(7773),tt=fe(320),_t=fe(7400);function gt(it,Xe){return Xe?at=>(0,c.W)(Xe.pipe((0,Ee.U)(1),function Qe(){return(0,Y.i)((it,Xe)=>{it.subscribe((0,ke.e)(Xe,y.K))})}()),at.pipe(gt(it))):(0,_t.O)((at,It)=>(0,B.Uv)(it(at,It)).pipe((0,Ee.U)(1),(0,tt.e)(at)))}var xt=fe(3048);const Tt="Service workers are disabled or not supported by this browser";class Je{constructor(Xe){if(this.serviceWorker=Xe,Xe){const It=(0,a.w)(Xe,"controllerchange").pipe((0,T.k)(()=>Xe.controller)),Yt=(0,x.Q)(()=>(0,h.of)(Xe.controller)),et=(0,c.W)(Yt,It);this.worker=et.pipe((0,I.I)(mn=>!!mn)),this.registration=this.worker.pipe((0,M.G)(()=>Xe.getRegistration()));const Zt=(0,a.w)(Xe,"message").pipe((0,T.k)(mn=>mn.data)).pipe((0,I.I)(mn=>mn&&mn.type)).pipe(function le(it){return it?Xe=>z(it)(Xe):Xe=>function oe(it,Xe){const at=(0,K.m)(it)?it:()=>it;return(0,K.m)(Xe)?z(Xe,{connector:at}):It=>new q.C(It,at)}(new u.E)(Xe)}());Zt.connect(),this.events=Zt}else this.worker=this.events=this.registration=function ge(it){return(0,x.Q)(()=>(0,s.c)(new Error(it)))}(Tt)}postMessage(Xe,at){return this.worker.pipe((0,Ee.U)(1),(0,W.y)(It=>{It.postMessage({action:Xe,...at})})).toPromise().then(()=>{})}postMessageWithOperation(Xe,at,It){const Yt=this.waitForOperationCompleted(It),et=this.postMessage(Xe,at);return Promise.all([et,Yt]).then(([,Mt])=>Mt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Xe){let at;return at="string"==typeof Xe?It=>It.type===Xe:It=>Xe.includes(It.type),this.events.pipe((0,I.I)(at))}nextEventOfType(Xe){return this.eventsOfType(Xe).pipe((0,Ee.U)(1))}waitForOperationCompleted(Xe){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,I.I)(at=>at.nonce===Xe),(0,Ee.U)(1),(0,T.k)(at=>{if(void 0!==at.result)return at.result;throw new Error(at.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ut=(()=>{var it;class Xe{get isEnabled(){return this.sw.isEnabled}constructor(It){if(this.sw=It,this.pushManager=null,this.subscriptionChanges=new u.E,!It.isEnabled)return this.messages=f,this.notificationClicks=f,void(this.subscription=f);this.messages=this.sw.eventsOfType("PUSH").pipe((0,T.k)(et=>et.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,T.k)(et=>et.data)),this.pushManager=this.sw.registration.pipe((0,T.k)(et=>et.pushManager));const Yt=this.pushManager.pipe((0,M.G)(et=>et.getSubscription()));this.subscription=U(Yt,this.subscriptionChanges)}requestSubscription(It){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Tt));const Yt={userVisibleOnly:!0};let et=this.decodeBase64(It.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Mt=new Uint8Array(new ArrayBuffer(et.length));for(let Ut=0;Ut<et.length;Ut++)Mt[Ut]=et.charCodeAt(Ut);return Yt.applicationServerKey=Mt,this.pushManager.pipe((0,M.G)(Ut=>Ut.subscribe(Yt)),(0,Ee.U)(1)).toPromise().then(Ut=>(this.subscriptionChanges.next(Ut),Ut))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Ee.U)(1),(0,M.G)(Yt=>{if(null===Yt)throw new Error("Not subscribed to push notifications.");return Yt.unsubscribe().then(et=>{if(!et)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Tt))}decodeBase64(It){return atob(It)}}return(it=Xe).\u0275fac=function(It){return new(It||it)(Ce.CoB(Je))},it.\u0275prov=Ce.wxM({token:it,factory:it.\u0275fac}),Xe})(),Rt=(()=>{var it;class Xe{get isEnabled(){return this.sw.isEnabled}constructor(It){if(this.sw=It,!It.isEnabled)return this.versionUpdates=f,void(this.unrecoverable=f);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Tt));const It=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:It},It)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Tt));const It=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:It},It)}}return(it=Xe).\u0275fac=function(It){return new(It||it)(Ce.CoB(Je))},it.\u0275prov=Ce.wxM({token:it,factory:it.\u0275fac}),Xe})();const Ze=new Ce.UbH("");function Dt(it,Xe,at,It){return()=>{if(!(0,C.c0)(It)||!("serviceWorker"in navigator)||!1===at.enabled)return;let Yt;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof at.registrationStrategy)Yt=at.registrationStrategy();else{const[Mt,...Ut]=(at.registrationStrategy||"registerWhenStable:30000").split(":");switch(Mt){case"registerImmediately":Yt=(0,h.of)(null);break;case"registerWithDelay":Yt=pt(+Ut[0]||0);break;case"registerWhenStable":Yt=Ut[0]?U(Re(it),pt(+Ut[0])):Re(it);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${at.registrationStrategy}`)}}it.get(Ce.WW2).runOutsideAngular(()=>Yt.pipe((0,Ee.U)(1)).subscribe(()=>navigator.serviceWorker.register(Xe,{scope:at.scope}).catch(Mt=>console.error("Service worker registration failed with:",Mt))))}}function pt(it){return(0,h.of)(null).pipe(function jt(it,Xe=Pe){const at=function Ot(it=0,Xe,at=$e){let It=-1;return null!=Xe&&((0,xt.G)(Xe)?at=Xe:It=Xe),new l._(Yt=>{let et=function $t(it){return it instanceof Date&&!isNaN(it)}(it)?+it-at.now():it;et<0&&(et=0);let Mt=0;return at.schedule(function(){Yt.closed||(Yt.next(Mt++),0<=It?this.schedule(void 0,It):Yt.complete())},et)})}(it,Xe);return gt(()=>at)}(it))}function Re(it){return it.get(Ce.Swk).isStable.pipe((0,I.I)(at=>at))}function Ne(it,Xe){return new Je((0,C.c0)(Xe)&&!1!==it.enabled?navigator.serviceWorker:void 0)}class Me{}function Ye(it,Xe={}){return(0,Ce.AFj)([ut,Rt,{provide:Ze,useValue:it},{provide:Me,useValue:Xe},{provide:Je,useFactory:Ne,deps:[Me,Ce.AHE]},{provide:Ce.kZF,useFactory:Dt,deps:[Ce.zZn,Ze,Me,Ce.AHE],multi:!0}])}let vt=(()=>{var it;class Xe{static register(It,Yt={}){return{ngModule:Xe,providers:[Ye(It,Yt)]}}}return(it=Xe).\u0275fac=function(It){return new(It||it)},it.\u0275mod=Ce.a4G({type:it}),it.\u0275inj=Ce.s3X({providers:[ut,Rt]}),Xe})();var Lt=fe(544),tn=fe(7756);let bn=(()=>{var it;class Xe{}return(it=Xe).\u0275fac=function(It){return new(It||it)},it.\u0275mod=Ce.a4G({type:it,bootstrap:[V.a0]}),it.\u0275inj=Ce.s3X({providers:[{provide:st.XE,useClass:Fe.um},d.G,Lt.S,p.Y,Fe.a6,m.G8,tn._],imports:[g.iE,o.wZ.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),_,vt.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),Xe})();var gn=fe(8637);(0,Ce.agy)(),g.o_().bootstrapModule(bn).catch(it=>console.log(it)),window,typeof window>"u"?Promise.resolve():(0,gn.p)().then(()=>(0,gn.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},7668:function(pn){!function(Vt){"use strict";var fe=function c(){return{escape:function q(le){return le.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:b,mimeType:function D(le){var Ee=b(le).toLowerCase();return function f(){var le="application/font-woff",Ee="image/jpeg";return{woff:le,woff2:le,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ee,jpeg:Ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[Ee]||""},dataAsUrl:function M(le,Ee){return"data:"+Ee+";base64,"+le},isDataUrl:function B(le){return-1!==le.search(/^(data:)/)},canvasToBlob:function j(le){return le.toBlob?new Promise(function(Ee){le.toBlob(Ee)}):function F(le){return new Promise(function(Ee){for(var W=window.atob(le.toDataURL().split(",")[1]),R=W.length,ne=new Uint8Array(R),ue=0;ue<R;ue++)ne[ue]=W.charCodeAt(ue);Ee(new Blob([ne],{type:"image/png"}))})}(le)},resolveUrl:function k(le,Ee){var W=document.implementation.createHTMLDocument(),R=W.createElement("base");W.head.appendChild(R);var ne=W.createElement("a");return W.body.appendChild(ne),R.href=Ee,ne.href=le,ne.href},getAndEncode:function I(le){return o.impl.options.cacheBust&&(le+=(/\?/.test(le)?"&":"?")+(new Date).getTime()),new Promise(function(W){var ne,R=new XMLHttpRequest;if(R.onreadystatechange=function we(){if(4===R.readyState){if(200!==R.status)return void(ne?W(ne):Be("cannot fetch resource: "+le+", status: "+R.status));var We=new FileReader;We.onloadend=function(){var Oe=We.result.split(/,/)[1];W(Oe)},We.readAsDataURL(R.response)}},R.ontimeout=function je(){ne?W(ne):Be("timeout of 30000ms occured while fetching resource: "+le)},R.responseType="blob",R.timeout=3e4,R.open("GET",le,!0),R.send(),o.impl.options.imagePlaceholder){var ue=o.impl.options.imagePlaceholder.split(/,/);ue&&ue[1]&&(ne=ue[1])}function Be(We){console.error(We),W("")}})},uid:function U(){var le=0;return function(){return"u"+function Ee(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}()+le++}}(),delay:function K(le){return function(Ee){return new Promise(function(W){setTimeout(function(){W(Ee)},le)})}},asArray:function Y(le){for(var Ee=[],W=le.length,R=0;R<W;R++)Ee.push(le[R]);return Ee},escapeXhtml:function ie(le){return le.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function T(le){return new Promise(function(Ee,W){var R=new Image;R.onload=function(){Ee(R)},R.onerror=W,R.src=le})},width:function te(le){var Ee=oe(le,"border-left-width"),W=oe(le,"border-right-width");return le.scrollWidth+Ee+W},height:function z(le){var Ee=oe(le,"border-top-width"),W=oe(le,"border-bottom-width");return le.scrollHeight+Ee+W}};function b(le){var Ee=/\.([^\.\/]*?)$/g.exec(le);return Ee?Ee[1]:""}function oe(le,Ee){var W=window.getComputedStyle(le).getPropertyValue(Ee);return parseFloat(W.replace("px",""))}}(),g=function u(){var f=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function F(j,k,U){return function T(){return!b(j)}()?Promise.resolve(j):Promise.resolve(j).then(D).then(function(I){var M=Promise.resolve(j);return I.forEach(function(q){M=M.then(function(K){return B(K,q,k,U)})}),M})},shouldProcess:b,impl:{readUrls:D,inline:B}};function b(j){return-1!==j.search(f)}function D(j){for(var U,k=[];null!==(U=f.exec(j));)k.push(U[1]);return k.filter(function(T){return!fe.isDataUrl(T)})}function B(j,k,U,T){return Promise.resolve(k).then(function(M){return U?fe.resolveUrl(M,U):M}).then(T||fe.getAndEncode).then(function(M){return fe.dataAsUrl(M,fe.mimeType(k))}).then(function(M){return j.replace(function I(M){return new RegExp("(url\\(['\"]?)("+fe.escape(M)+")(['\"]?\\))","g")}(k),"$1"+M+"$3")})}}(),Ce=function l(){return{resolveAll:function f(){return b(document).then(function(D){return Promise.all(D.map(function(B){return B.resolve()}))}).then(function(D){return D.join("\n")})},impl:{readAll:b}};function b(){return Promise.resolve(fe.asArray(document.styleSheets)).then(function B(j){var k=[];return j.forEach(function(U){try{fe.asArray(U.cssRules||[]).forEach(k.push.bind(k))}catch(T){console.log("Error while reading CSS rules from "+U.href,T.toString())}}),k}).then(function D(j){return j.filter(function(k){return k.type===CSSRule.FONT_FACE_RULE}).filter(function(k){return g.shouldProcess(k.style.getPropertyValue("src"))})}).then(function(j){return j.map(F)});function F(j){return{resolve:function(){return g.inlineAll(j.cssText,(j.parentStyleSheet||{}).href)},src:function(){return j.style.getPropertyValue("src")}}}}}(),st=function y(){return{inlineAll:function b(D){return D instanceof Element?function B(F){var j=F.style.getPropertyValue("background");return j?g.inlineAll(j).then(function(k){F.style.setProperty("background",k,F.style.getPropertyPriority("background"))}).then(function(){return F}):Promise.resolve(F)}(D).then(function(){return D instanceof HTMLImageElement?f(D).inline():Promise.all(fe.asArray(D.childNodes).map(function(F){return b(F)}))}):Promise.resolve(D)},impl:{newImage:f}};function f(D){return{inline:function B(F){return fe.isDataUrl(D.src)?Promise.resolve():Promise.resolve(D.src).then(F||fe.getAndEncode).then(function(j){return fe.dataAsUrl(j,fe.mimeType(D.src))}).then(function(j){return new Promise(function(k,U){D.onload=k,D.onerror=U,D.src=j})})}}}}(),Fe={imagePlaceholder:void 0,cacheBust:!1},o={toSvg:V,toPng:function _(f,b){return C(f,b||{}).then(function(D){return D.toDataURL()})},toJpeg:function d(f,b){return C(f,b=b||{}).then(function(D){return D.toDataURL("image/jpeg",b.quality||1)})},toBlob:function p(f,b){return C(f,b||{}).then(fe.canvasToBlob)},toPixelData:function w(f,b){return C(f,b||{}).then(function(D){return D.getContext("2d").getImageData(0,0,fe.width(f),fe.height(f)).data})},impl:{fontFaces:Ce,images:st,util:fe,inliner:g,options:{}}};function V(f,b){return function m(f){o.impl.options.imagePlaceholder=typeof f.imagePlaceholder>"u"?Fe.imagePlaceholder:f.imagePlaceholder,o.impl.options.cacheBust=typeof f.cacheBust>"u"?Fe.cacheBust:f.cacheBust}(b=b||{}),Promise.resolve(f).then(function(B){return x(B,b.filter,!0)}).then(s).then(a).then(function D(B){return b.bgcolor&&(B.style.backgroundColor=b.bgcolor),b.width&&(B.style.width=b.width+"px"),b.height&&(B.style.height=b.height+"px"),b.style&&Object.keys(b.style).forEach(function(F){B.style[F]=b.style[F]}),B}).then(function(B){return function h(f,b,D){return Promise.resolve(f).then(function(B){return B.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(B)}).then(fe.escapeXhtml).then(function(B){return'<foreignObject x="0" y="0" width="100%" height="100%">'+B+"</foreignObject>"}).then(function(B){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+b+'" height="'+D+'">'+B+"</svg>"}).then(function(B){return"data:image/svg+xml;charset=utf-8,"+B})}(B,b.width||fe.width(f),b.height||fe.height(f))})}function C(f,b){return V(f,b).then(fe.makeImage).then(fe.delay(100)).then(function(B){var F=function D(B){var F=document.createElement("canvas");if(F.width=b.width||fe.width(B),F.height=b.height||fe.height(B),b.bgcolor){var j=F.getContext("2d");j.fillStyle=b.bgcolor,j.fillRect(0,0,F.width,F.height)}return F}(f);return F.getContext("2d").drawImage(B,0,0),F})}function x(f,b,D){return D||!b||b(f)?Promise.resolve(f).then(function B(k){return k instanceof HTMLCanvasElement?fe.makeImage(k.toDataURL()):k.cloneNode(!1)}).then(function(k){return function F(k,U,T){var I=k.childNodes;return 0===I.length?Promise.resolve(U):function M(q,K,Y){var ie=Promise.resolve();return K.forEach(function(te){ie=ie.then(function(){return x(te,Y)}).then(function(z){z&&q.appendChild(z)})}),ie}(U,fe.asArray(I),T).then(function(){return U})}(f,k,b)}).then(function(k){return function j(k,U){return U instanceof Element?Promise.resolve().then(function T(){!function K(Y,ie){Y.cssText?ie.cssText=Y.cssText:function te(z,oe){fe.asArray(z).forEach(function(le){oe.setProperty(le,z.getPropertyValue(le),z.getPropertyPriority(le))})}(Y,ie)}(window.getComputedStyle(k),U.style)}).then(function I(){[":before",":after"].forEach(function(Y){!function K(Y){var ie=window.getComputedStyle(k,Y),te=ie.getPropertyValue("content");if(""!==te&&"none"!==te){var z=fe.uid();U.className=U.className+" "+z;var oe=document.createElement("style");oe.appendChild(function le(Ee,W,R){var ne="."+Ee+":"+W,ue=R.cssText?we(R):je(R);return document.createTextNode(ne+"{"+ue+"}");function we(Be){var We=Be.getPropertyValue("content");return Be.cssText+" content: "+We+";"}function je(Be){return fe.asArray(Be).map(We).join("; ")+";";function We(Oe){return Oe+": "+Be.getPropertyValue(Oe)+(Be.getPropertyPriority(Oe)?" !important":"")}}}(z,Y,ie)),U.appendChild(oe)}}(Y)})}).then(function M(){k instanceof HTMLTextAreaElement&&(U.innerHTML=k.value),k instanceof HTMLInputElement&&U.setAttribute("value",k.value)}).then(function q(){U instanceof SVGElement&&(U.setAttribute("xmlns","http://www.w3.org/2000/svg"),U instanceof SVGRectElement&&["width","height"].forEach(function(K){var Y=U.getAttribute(K);Y&&U.style.setProperty(K,Y)}))}).then(function(){return U}):U}(f,k)}):Promise.resolve()}function s(f){return Ce.resolveAll().then(function(b){var D=document.createElement("style");return f.appendChild(D),D.appendChild(document.createTextNode(b)),f})}function a(f){return st.inlineAll(f).then(function(){return f})}pn.exports=o}()},9352:(pn,Vt,fe)=>{var g=fe(3248);pn.exports=function o(V,w,_){function d(C,x){if(!w[C]){if(!V[C]){var s=void 0;if(!x&&s)return require(C,!0);if(p)return p(C,!0);throw(x=new Error("Cannot find module '"+C+"'")).code="MODULE_NOT_FOUND",x}s=w[C]={exports:{}},V[C][0].call(s.exports,function(a){return d(V[C][1][a]||a)},s,s.exports,o,V,w,_)}return w[C].exports}for(var p=void 0,m=0;m<_.length;m++)d(_[m]);return d}({1:[function(o,V,w){"use strict";w.byteLength=function(c){return 3*((c=s(c))[0]+(c=c[1]))/4-c},w.toByteArray=function(a){var h,c,l,B,u=(l=s(a))[0],y=new p(3*(u+(B=l=l[1]))/4-B),f=0,b=0<l?u-4:u;for(c=0;c<b;c+=4)h=d[a.charCodeAt(c)]<<18|d[a.charCodeAt(c+1)]<<12|d[a.charCodeAt(c+2)]<<6|d[a.charCodeAt(c+3)],y[f++]=h>>16&255,y[f++]=h>>8&255,y[f++]=255&h;return 2===l&&(h=d[a.charCodeAt(c)]<<2|d[a.charCodeAt(c+1)]>>4,y[f++]=255&h),1===l&&(h=d[a.charCodeAt(c)]<<10|d[a.charCodeAt(c+1)]<<4|d[a.charCodeAt(c+2)]>>2,y[f++]=h>>8&255,y[f++]=255&h),y},w.fromByteArray=function(a){for(var h,c=a.length,u=c%3,l=[],y=0,f=c-u;y<f;y+=16383)l.push(function(b,D,B){for(var j=[],k=D;k<B;k+=3)j.push(_[(U=(b[k]<<16&16711680)+(b[k+1]<<8&65280)+(255&b[k+2]))>>18&63]+_[U>>12&63]+_[U>>6&63]+_[63&U]);var U;return j.join("")}(a,y,f<y+16383?f:y+16383));return 1==u?l.push(_[(h=a[c-1])>>2]+_[h<<4&63]+"=="):2==u&&l.push(_[(h=(a[c-2]<<8)+a[c-1])>>10]+_[h>>4&63]+_[h<<2&63]+"="),l.join("")};for(var _=[],d=[],p=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0;C<64;++C)_[C]=m[C],d[m.charCodeAt(C)]=C;function s(a){var h=a.length;if(0<h%4)throw new Error("Invalid string. Length must be a multiple of 4");return h=(a=-1===(a=a.indexOf("="))?h:a)===h?0:4-a%4,[a,h]}d[45]=62,d[95]=63},{}],2:[function(o,V,w){},{}],3:[function(o,V,w){},{}],4:[function(o,V,w){(function(s){"use strict";var d=o("base64-js"),p=o("ieee754"),m="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,C=(w.Buffer=s,w.SlowBuffer=function(W){return+W!=W&&(W=0),s.alloc(+W)},w.INSPECT_MAX_BYTES=50,2147483647);function x(W){if(C<W)throw new RangeError('The value "'+W+'" is invalid for option "size"');return W=new Uint8Array(W),Object.setPrototypeOf(W,s.prototype),W}function s(W,R,ne){if("number"!=typeof W)return a(W,R,ne);if("string"==typeof R)throw new TypeError('The "string" argument must be of type string. Received type number');return c(W)}function a(W,R,ne){if("string"==typeof W){var ue=W,we=R;if(s.isEncoding(we="string"==typeof we&&""!==we?we:"utf8"))return(ue=(Be=x(je=0|y(ue,we))).write(ue,we))!==je?Be.slice(0,ue):Be;throw new TypeError("Unknown encoding: "+we)}if(ArrayBuffer.isView(W))return u(W);if(null!=W){if(oe(W,ArrayBuffer)||W&&oe(W.buffer,ArrayBuffer)){var je=W,Be=ne;if((ue=R)<0||je.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(je.byteLength<ue+(Be||0))throw new RangeError('"length" is outside of buffer bounds');return je=void 0===ue&&void 0===Be?new Uint8Array(je):void 0===Be?new Uint8Array(je,ue):new Uint8Array(je,ue,Be),Object.setPrototypeOf(je,s.prototype),je}if("number"==typeof W)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(we=W.valueOf&&W.valueOf())&&we!==W)return s.from(we,R,ne);var We=s.isBuffer(Oe=W)?(0!==($e=x(Pe=0|l(Oe.length))).length&&Oe.copy($e,0,0,Pe),$e):void 0!==Oe.length?"number"!=typeof Oe.length||le(Oe.length)?x(0):u(Oe):"Buffer"===Oe.type&&Array.isArray(Oe.data)?u(Oe.data):void 0;if(We)return We;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof W[Symbol.toPrimitive])return s.from(W[Symbol.toPrimitive]("string"),R,ne)}var Oe,Pe,$e;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}function h(W){if("number"!=typeof W)throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function c(W){return h(W),x(W<0?0:0|l(W))}function u(W){for(var R=W.length<0?0:0|l(W.length),ne=x(R),ue=0;ue<R;ue+=1)ne[ue]=255&W[ue];return ne}function l(W){if(C<=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return 0|W}function y(W,R){if(s.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||oe(W,ArrayBuffer))return W.byteLength;if("string"!=typeof W)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);var ne=W.length,ue=2<arguments.length&&!0===arguments[2];if(!ue&&0===ne)return 0;for(var we=!1;;)switch(R){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return ie(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ne;case"hex":return ne>>>1;case"base64":return te(W).length;default:if(we)return ue?-1:ie(W).length;R=(""+R).toLowerCase(),we=!0}}function f(W,R,ne){var ue,we=!1;if((R=void 0===R||R<0?0:R)>this.length||(ne=void 0===ne||ne>this.length?this.length:ne)<=0||(ne>>>=0)<=(R>>>=0))return"";for(W=W||"utf8";;)switch(W){case"hex":var Be=ne,$e=this.length;(!Be||Be<0||$e<Be)&&(Be=$e);for(var We="",Oe=gt=!(gt=R)||gt<0?0:gt;Oe<Be;++Oe)We+=Ee[this[Oe]];return We;case"utf8":case"utf-8":return k(this,R,ne);case"ascii":var ke=($e=R,ne),Qe="";ke=Math.min(this.length,ke);for(var tt=$e;tt<ke;++tt)Qe+=String.fromCharCode(127&this[tt]);return Qe;case"latin1":case"binary":var gt=R,xt=ne,$t="";xt=Math.min(this.length,xt);for(var Ot=gt;Ot<xt;++Ot)$t+=String.fromCharCode(this[Ot]);return $t;case"base64":return jt=this,ue=ne,0===(Tt=R)&&ue===jt.length?d.fromByteArray(jt):d.fromByteArray(jt.slice(Tt,ue));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var jt=R,Tt=ne,ge=this.slice(jt,Tt),Je="",ut=0;ut<ge.length;ut+=2)Je+=String.fromCharCode(ge[ut]+256*ge[ut+1]);return Je;default:if(we)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),we=!0}}function b(W,R,ne){var ue=W[R];W[R]=W[ne],W[ne]=ue}function D(W,R,ne,ue,we){if(0===W.length)return-1;if("string"==typeof ne?(ue=ne,ne=0):2147483647<ne?ne=2147483647:ne<-2147483648&&(ne=-2147483648),(ne=(ne=le(ne=+ne)?we?0:W.length-1:ne)<0?W.length+ne:ne)>=W.length){if(we)return-1;ne=W.length-1}else if(ne<0){if(!we)return-1;ne=0}if("string"==typeof R&&(R=s.from(R,ue)),s.isBuffer(R))return 0===R.length?-1:B(W,R,ne,ue,we);if("number"==typeof R)return R&=255,"function"==typeof Uint8Array.prototype.indexOf?(we?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(W,R,ne):B(W,[R],ne,ue,we);throw new TypeError("val must be string, number or Buffer")}function B(W,R,ne,ue,we){var je=1,Be=W.length,We=R.length;if(void 0!==ue&&("ucs2"===(ue=String(ue).toLowerCase())||"ucs-2"===ue||"utf16le"===ue||"utf-16le"===ue)){if(W.length<2||R.length<2)return-1;Be/=je=2,We/=2,ne/=2}function Oe(tt,_t){return 1===je?tt[_t]:tt.readUInt16BE(_t*je)}if(we)for(var Pe=-1,$e=ne;$e<Be;$e++)if(Oe(W,$e)===Oe(R,-1===Pe?0:$e-Pe)){if($e-(Pe=-1===Pe?$e:Pe)+1===We)return Pe*je}else-1!==Pe&&($e-=$e-Pe),Pe=-1;else for($e=ne=Be<ne+We?Be-We:ne;0<=$e;$e--){for(var ke=!0,Qe=0;Qe<We;Qe++)if(Oe(W,$e+Qe)!==Oe(R,Qe)){ke=!1;break}if(ke)return $e}return-1}function F(W,R,ne,ue){return z(function(we){for(var je=[],Be=0;Be<we.length;++Be)je.push(255&we.charCodeAt(Be));return je}(R),W,ne,ue)}function j(W,R,ne,ue){return z(function(we,je){for(var Be,We,Oe=[],Pe=0;Pe<we.length&&!((je-=2)<0);++Pe)Be=(We=we.charCodeAt(Pe))>>8,Oe.push(We%=256),Oe.push(Be);return Oe}(R,W.length-ne),W,ne,ue)}function k(W,R,ne){ne=Math.min(W.length,ne);for(var ue=[],we=R;we<ne;){var je,Be,We,Oe,Pe=W[we],$e=null,ke=239<Pe?4:223<Pe?3:191<Pe?2:1;if(we+ke<=ne)switch(ke){case 1:Pe<128&&($e=Pe);break;case 2:128==(192&(je=W[we+1]))&&127<(Oe=(31&Pe)<<6|63&je)&&($e=Oe);break;case 3:Be=W[we+2],128==(192&(je=W[we+1]))&&128==(192&Be)&&2047<(Oe=(15&Pe)<<12|(63&je)<<6|63&Be)&&(Oe<55296||57343<Oe)&&($e=Oe);break;case 4:Be=W[we+2],We=W[we+3],128==(192&(je=W[we+1]))&&128==(192&Be)&&128==(192&We)&&65535<(Oe=(15&Pe)<<18|(63&je)<<12|(63&Be)<<6|63&We)&&Oe<1114112&&($e=Oe)}null===$e?($e=65533,ke=1):65535<$e&&(ue.push(($e-=65536)>>>10&1023|55296),$e=56320|1023&$e),ue.push($e),we+=ke}var Qe=ue,tt=Qe.length;if(tt<=U)return String.fromCharCode.apply(String,Qe);for(var _t="",gt=0;gt<tt;)_t+=String.fromCharCode.apply(String,Qe.slice(gt,gt+=U));return _t}w.kMaxLength=C,(s.TYPED_ARRAY_SUPPORT=function(){try{var W=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(W,R),42===W.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=a,Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(W,R,ne){return h(W),W<=0||void 0===R?x(W):"string"==typeof ne?x(W).fill(R,ne):x(W).fill(R)},s.allocUnsafe=c,s.allocUnsafeSlow=c,s.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==s.prototype},s.compare=function(W,R){if(oe(W,Uint8Array)&&(W=s.from(W,W.offset,W.byteLength)),oe(R,Uint8Array)&&(R=s.from(R,R.offset,R.byteLength)),!s.isBuffer(W)||!s.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===R)return 0;for(var ne=W.length,ue=R.length,we=0,je=Math.min(ne,ue);we<je;++we)if(W[we]!==R[we]){ne=W[we],ue=R[we];break}return ne<ue?-1:ue<ne?1:0},s.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(W,R){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return s.alloc(0);if(void 0===R)for(we=R=0;we<W.length;++we)R+=W[we].length;for(var ne=s.allocUnsafe(R),ue=0,we=0;we<W.length;++we){var je=W[we];if(oe(je,Uint8Array)&&(je=s.from(je)),!s.isBuffer(je))throw new TypeError('"list" argument must be an Array of Buffers');je.copy(ne,ue),ue+=je.length}return ne},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<W;R+=2)b(this,R,R+1);return this},s.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<W;R+=4)b(this,R,R+3),b(this,R+1,R+2);return this},s.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<W;R+=8)b(this,R,R+7),b(this,R+1,R+6),b(this,R+2,R+5),b(this,R+3,R+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var W=this.length;return 0===W?"":0===arguments.length?k(this,0,W):f.apply(this,arguments)},s.prototype.equals=function(W){if(s.isBuffer(W))return this===W||0===s.compare(this,W);throw new TypeError("Argument must be a Buffer")},s.prototype.inspect=function(){var R="",W=w.INSPECT_MAX_BYTES;return R=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(R+=" ... "),"<Buffer "+R+">"},m&&(s.prototype[m]=s.prototype.inspect),s.prototype.compare=function(W,R,ne,ue,we){if(oe(W,Uint8Array)&&(W=s.from(W,W.offset,W.byteLength)),!s.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===ne&&(ne=W?W.length:0),void 0===ue&&(ue=0),void 0===we&&(we=this.length),(R=void 0===R?0:R)<0||ne>W.length||ue<0||we>this.length)throw new RangeError("out of range index");if(we<=ue&&ne<=R)return 0;if(we<=ue)return-1;if(ne<=R)return 1;if(this===W)return 0;for(var je=(we>>>=0)-(ue>>>=0),Be=(ne>>>=0)-(R>>>=0),We=Math.min(je,Be),Oe=this.slice(ue,we),Pe=W.slice(R,ne),$e=0;$e<We;++$e)if(Oe[$e]!==Pe[$e]){je=Oe[$e],Be=Pe[$e];break}return je<Be?-1:Be<je?1:0},s.prototype.includes=function(W,R,ne){return-1!==this.indexOf(W,R,ne)},s.prototype.indexOf=function(W,R,ne){return D(this,W,R,ne,!0)},s.prototype.lastIndexOf=function(W,R,ne){return D(this,W,R,ne,!1)},s.prototype.write=function(W,R,ne,ue){if(void 0===R)ue="utf8",ne=this.length,R=0;else if(void 0===ne&&"string"==typeof R)ue=R,ne=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(ne)?(ne>>>=0,void 0===ue&&(ue="utf8")):(ue=ne,ne=void 0)}var we=this.length-R;if((void 0===ne||we<ne)&&(ne=we),0<W.length&&(ne<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue=ue||"utf8";for(var je,Be,We,Oe=!1;;)switch(ue){case"hex":var $e=W,ke=R,Qe=ne,tt=(ke=Number(ke)||0,this.length-ke);(!Qe||tt<(Qe=Number(Qe)))&&(Qe=tt),(tt=$e.length)/2<Qe&&(Qe=tt/2);for(var _t=0;_t<Qe;++_t){var gt=parseInt($e.substr(2*_t,2),16);if(le(gt))return _t;this[ke+_t]=gt}return _t;case"utf8":case"utf-8":return We=ne,z(ie(W,(Be=this).length-(tt=R)),Be,tt,We);case"ascii":case"latin1":case"binary":return F(this,W,R,ne);case"base64":return Be=this,We=R,je=ne,z(te(W),Be,We,je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,W,R,ne);default:if(Oe)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),Oe=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;function T(W,R,ne){if(W%1!=0||W<0)throw new RangeError("offset is not uint");if(ne<W+R)throw new RangeError("Trying to access beyond buffer length")}function I(W,R,ne,ue,we,je){if(!s.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(we<R||R<je)throw new RangeError('"value" argument is out of bounds');if(ne+ue>W.length)throw new RangeError("Index out of range")}function M(W,R,ne,ue){if(ne+ue>W.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function q(W,R,ne,ue,we){return R=+R,ne>>>=0,we||M(W,0,ne,4),p.write(W,R,ne,ue,23,4),ne+4}function K(W,R,ne,ue,we){return R=+R,ne>>>=0,we||M(W,0,ne,8),p.write(W,R,ne,ue,52,8),ne+8}s.prototype.slice=function(W,R){var ne=this.length;return(W=~~W)<0?(W+=ne)<0&&(W=0):ne<W&&(W=ne),(R=void 0===R?ne:~~R)<0?(R+=ne)<0&&(R=0):ne<R&&(R=ne),R<W&&(R=W),ne=this.subarray(W,R),Object.setPrototypeOf(ne,s.prototype),ne},s.prototype.readUIntLE=function(W,R,ne){W>>>=0,R>>>=0,ne||T(W,R,this.length);for(var ue=this[W],we=1,je=0;++je<R&&(we*=256);)ue+=this[W+je]*we;return ue},s.prototype.readUIntBE=function(W,R,ne){W>>>=0,R>>>=0,ne||T(W,R,this.length);for(var ue=this[W+--R],we=1;0<R&&(we*=256);)ue+=this[W+--R]*we;return ue},s.prototype.readUInt8=function(W,R){return W>>>=0,R||T(W,1,this.length),this[W]},s.prototype.readUInt16LE=function(W,R){return W>>>=0,R||T(W,2,this.length),this[W]|this[W+1]<<8},s.prototype.readUInt16BE=function(W,R){return W>>>=0,R||T(W,2,this.length),this[W]<<8|this[W+1]},s.prototype.readUInt32LE=function(W,R){return W>>>=0,R||T(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},s.prototype.readUInt32BE=function(W,R){return W>>>=0,R||T(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},s.prototype.readIntLE=function(W,R,ne){W>>>=0,R>>>=0,ne||T(W,R,this.length);for(var ue=this[W],we=1,je=0;++je<R&&(we*=256);)ue+=this[W+je]*we;return(we*=128)<=ue&&(ue-=Math.pow(2,8*R)),ue},s.prototype.readIntBE=function(W,R,ne){W>>>=0,R>>>=0,ne||T(W,R,this.length);for(var ue=R,we=1,je=this[W+--ue];0<ue&&(we*=256);)je+=this[W+--ue]*we;return(we*=128)<=je&&(je-=Math.pow(2,8*R)),je},s.prototype.readInt8=function(W,R){return W>>>=0,R||T(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},s.prototype.readInt16LE=function(W,R){return W>>>=0,R||T(W,2,this.length),32768&(R=this[W]|this[W+1]<<8)?4294901760|R:R},s.prototype.readInt16BE=function(W,R){return W>>>=0,R||T(W,2,this.length),32768&(R=this[W+1]|this[W]<<8)?4294901760|R:R},s.prototype.readInt32LE=function(W,R){return W>>>=0,R||T(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},s.prototype.readInt32BE=function(W,R){return W>>>=0,R||T(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},s.prototype.readFloatLE=function(W,R){return W>>>=0,R||T(W,4,this.length),p.read(this,W,!0,23,4)},s.prototype.readFloatBE=function(W,R){return W>>>=0,R||T(W,4,this.length),p.read(this,W,!1,23,4)},s.prototype.readDoubleLE=function(W,R){return W>>>=0,R||T(W,8,this.length),p.read(this,W,!0,52,8)},s.prototype.readDoubleBE=function(W,R){return W>>>=0,R||T(W,8,this.length),p.read(this,W,!1,52,8)},s.prototype.writeUIntLE=function(W,R,ne,ue){W=+W,R>>>=0,ne>>>=0,ue||I(this,W,R,ne,Math.pow(2,8*ne)-1,0);var we=1,je=0;for(this[R]=255&W;++je<ne&&(we*=256);)this[R+je]=W/we&255;return R+ne},s.prototype.writeUIntBE=function(W,R,ne,ue){W=+W,R>>>=0,ne>>>=0,ue||I(this,W,R,ne,Math.pow(2,8*ne)-1,0);var we=ne-1,je=1;for(this[R+we]=255&W;0<=--we&&(je*=256);)this[R+we]=W/je&255;return R+ne},s.prototype.writeUInt8=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,1,255,0),this[R]=255&W,R+1},s.prototype.writeUInt16LE=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,2,65535,0),this[R]=255&W,this[R+1]=W>>>8,R+2},s.prototype.writeUInt16BE=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,2,65535,0),this[R]=W>>>8,this[R+1]=255&W,R+2},s.prototype.writeUInt32LE=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,4,4294967295,0),this[R+3]=W>>>24,this[R+2]=W>>>16,this[R+1]=W>>>8,this[R]=255&W,R+4},s.prototype.writeUInt32BE=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,4,4294967295,0),this[R]=W>>>24,this[R+1]=W>>>16,this[R+2]=W>>>8,this[R+3]=255&W,R+4},s.prototype.writeIntLE=function(W,R,ne,ue){W=+W,R>>>=0,ue||I(this,W,R,ne,(ue=Math.pow(2,8*ne-1))-1,-ue);var we=0,je=1,Be=0;for(this[R]=255&W;++we<ne&&(je*=256);)W<0&&0===Be&&0!==this[R+we-1]&&(Be=1),this[R+we]=(W/je>>0)-Be&255;return R+ne},s.prototype.writeIntBE=function(W,R,ne,ue){W=+W,R>>>=0,ue||I(this,W,R,ne,(ue=Math.pow(2,8*ne-1))-1,-ue);var we=ne-1,je=1,Be=0;for(this[R+we]=255&W;0<=--we&&(je*=256);)W<0&&0===Be&&0!==this[R+we+1]&&(Be=1),this[R+we]=(W/je>>0)-Be&255;return R+ne},s.prototype.writeInt8=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,1,127,-128),this[R]=255&(W=W<0?255+W+1:W),R+1},s.prototype.writeInt16LE=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,2,32767,-32768),this[R]=255&W,this[R+1]=W>>>8,R+2},s.prototype.writeInt16BE=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,2,32767,-32768),this[R]=W>>>8,this[R+1]=255&W,R+2},s.prototype.writeInt32LE=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,4,2147483647,-2147483648),this[R]=255&W,this[R+1]=W>>>8,this[R+2]=W>>>16,this[R+3]=W>>>24,R+4},s.prototype.writeInt32BE=function(W,R,ne){return W=+W,R>>>=0,ne||I(this,W,R,4,2147483647,-2147483648),this[R]=(W=W<0?4294967295+W+1:W)>>>24,this[R+1]=W>>>16,this[R+2]=W>>>8,this[R+3]=255&W,R+4},s.prototype.writeFloatLE=function(W,R,ne){return q(this,W,R,!0,ne)},s.prototype.writeFloatBE=function(W,R,ne){return q(this,W,R,!1,ne)},s.prototype.writeDoubleLE=function(W,R,ne){return K(this,W,R,!0,ne)},s.prototype.writeDoubleBE=function(W,R,ne){return K(this,W,R,!1,ne)},s.prototype.copy=function(W,R,ne,ue){if(!s.isBuffer(W))throw new TypeError("argument should be a Buffer");if(ne=ne||0,ue||0===ue||(ue=this.length),R>=W.length&&(R=W.length),(ue=0<ue&&ue<ne?ne:ue)===ne||0===W.length||0===this.length)return 0;if((R=R||0)<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length);var we=(ue=W.length-R<ue-ne?W.length-R+ne:ue)-ne;if(this===W&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(R,ne,ue);else if(this===W&&ne<R&&R<ue)for(var je=we-1;0<=je;--je)W[je+R]=this[je+ne];else Uint8Array.prototype.set.call(W,this.subarray(ne,ue),R);return we},s.prototype.fill=function(W,R,ne,ue){if("string"==typeof W){if("string"==typeof R?(ue=R,R=0,ne=this.length):"string"==typeof ne&&(ue=ne,ne=this.length),void 0!==ue&&"string"!=typeof ue)throw new TypeError("encoding must be a string");if("string"==typeof ue&&!s.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);var we;1===W.length&&(we=W.charCodeAt(0),("utf8"===ue&&we<128||"latin1"===ue)&&(W=we))}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(R<0||this.length<R||this.length<ne)throw new RangeError("Out of range index");var je;if(!(ne<=R))if(R>>>=0,ne=void 0===ne?this.length:ne>>>0,"number"==typeof(W=W||0))for(je=R;je<ne;++je)this[je]=W;else{var Be=s.isBuffer(W)?W:s.from(W,ue),We=Be.length;if(0===We)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(je=0;je<ne-R;++je)this[je+R]=Be[je%We]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function ie(W,R){R=R||1/0;for(var ne,ue=W.length,we=null,je=[],Be=0;Be<ue;++Be){if(55295<(ne=W.charCodeAt(Be))&&ne<57344){if(!we){if(56319<ne){-1<(R-=3)&&je.push(239,191,189);continue}if(Be+1===ue){-1<(R-=3)&&je.push(239,191,189);continue}we=ne;continue}if(ne<56320){-1<(R-=3)&&je.push(239,191,189),we=ne;continue}ne=65536+(we-55296<<10|ne-56320)}else we&&-1<(R-=3)&&je.push(239,191,189);if(we=null,ne<128){if(--R<0)break;je.push(ne)}else if(ne<2048){if((R-=2)<0)break;je.push(ne>>6|192,63&ne|128)}else if(ne<65536){if((R-=3)<0)break;je.push(ne>>12|224,ne>>6&63|128,63&ne|128)}else{if(!(ne<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;je.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,63&ne|128)}}return je}function te(W){return d.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(W))}function z(W,R,ne,ue){for(var we=0;we<ue&&!(we+ne>=R.length||we>=W.length);++we)R[we+ne]=W[we];return we}function oe(W,R){return W instanceof R||null!=W&&null!=W.constructor&&null!=W.constructor.name&&W.constructor.name===R.name}function le(W){return W!=W}var Ee=function(){for(var W="0123456789abcdef",R=new Array(256),ne=0;ne<16;++ne)for(var ue=16*ne,we=0;we<16;++we)R[ue+we]=W[ne]+W[we];return R}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(o,V,w){V.exports=function(_){if("function"!=typeof _)throw TypeError(String(_)+" is not a function");return _}},{}],6:[function(o,V,w){var _=o("../internals/is-object");V.exports=function(d){if(_(d)||null===d)return d;throw TypeError("Can't set "+String(d)+" as a prototype")}},{"../internals/is-object":75}],7:[function(p,V,w){var _=p("../internals/well-known-symbol"),d=p("../internals/object-create"),m=(p=p("../internals/object-define-property"),_("unscopables")),C=Array.prototype;null==C[m]&&p.f(C,m,{configurable:!0,value:d(null)}),V.exports=function(x){C[m][x]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(o,V,w){"use strict";var _=o("../internals/string-multibyte").charAt;V.exports=function(d,p,m){return p+(m?_(d,p).length:1)}},{"../internals/string-multibyte":124}],9:[function(o,V,w){V.exports=function(_,d,p){if(_ instanceof d)return _;throw TypeError("Incorrect "+(p?p+" ":"")+"invocation")}},{}],10:[function(o,V,w){var _=o("../internals/is-object");V.exports=function(d){if(_(d))return d;throw TypeError(String(d)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,V,w){V.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(M,V,w){"use strict";function _(K){return x(K)&&s(q,a(K))}var d,p=M("../internals/array-buffer-native"),m=M("../internals/descriptors"),C=M("../internals/global"),x=M("../internals/is-object"),s=M("../internals/has"),a=M("../internals/classof"),h=M("../internals/create-non-enumerable-property"),c=M("../internals/redefine"),u=M("../internals/object-define-property").f,l=M("../internals/object-get-prototype-of"),y=M("../internals/object-set-prototype-of"),U=M("../internals/well-known-symbol"),f=(M=M("../internals/uid"),C.Int8Array),b=f&&f.prototype,D=(D=C.Uint8ClampedArray)&&D.prototype,B=f&&l(f),F=b&&l(b),j=Object.prototype,k=j.isPrototypeOf,T=(U=U("toStringTag"),M("TYPED_ARRAY_TAG")),I=p&&!!y&&"Opera"!==a(C.opera),q=(M=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(d in q)C[d]||(I=!1);if((!I||"function"!=typeof B||B===Function.prototype)&&(B=function(){throw TypeError("Incorrect invocation")},I))for(d in q)C[d]&&y(C[d],B);if((!I||!F||F===j)&&(F=B.prototype,I))for(d in q)C[d]&&y(C[d].prototype,F);if(I&&l(D)!==F&&y(D,F),m&&!s(F,U))for(d in M=!0,u(F,U,{get:function(){return x(this)?this[T]:void 0}}),q)C[d]&&h(C[d],T,d);V.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:M&&T,aTypedArray:function(K){if(_(K))return K;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(K){if(y){if(k.call(B,K))return K}else for(var Y in q)if(s(q,d)&&(Y=C[Y])&&(K===Y||k.call(Y,K)))return K;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(K,Y,ie){if(m){if(ie)for(var te in q)(te=C[te])&&s(te.prototype,K)&&delete te.prototype[K];F[K]&&!ie||c(F,K,!ie&&I&&b[K]||Y)}},exportTypedArrayStaticMethod:function(K,Y,ie){var te,z;if(m){if(y){if(ie)for(te in q)(z=C[te])&&s(z,K)&&delete z[K];if(B[K]&&!ie)return;try{return c(B,K,!ie&&I&&f[K]||Y)}catch{}}for(te in q)!(z=C[te])||z[K]&&!ie||c(z,K,Y)}},isView:function(K){return"DataView"===(K=a(K))||s(q,K)},isTypedArray:_,TypedArray:B,TypedArrayPrototype:F}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(ne,V,w){"use strict";function _(ke){return[255&ke]}function d(ke){return[255&ke,ke>>8&255]}function p(ke){return[255&ke,ke>>8&255,ke>>16&255,ke>>24&255]}function m(ke){return ke[3]<<24|ke[2]<<16|ke[1]<<8|ke[0]}function C(ke){return je(ke,23,4)}function x(ke){return je(ke,52,8)}function s(ke,Qe){M(ke[oe],Qe,{get:function(){return Y(this)[Qe]}})}function a($t,Qe,xt,_t){if((xt=j(xt))+Qe>($t=Y($t)).byteLength)throw we(le);return $t=Y($t.buffer).bytes.slice(xt+=$t.byteOffset,xt+Qe),_t?$t:$t.reverse()}function h(ke,Qe,tt,_t,gt,xt){if((tt=j(tt))+Qe>(ke=Y(ke)).byteLength)throw we(le);for(var $t=Y(ke.buffer).bytes,Ot=tt+ke.byteOffset,jt=_t(+gt),Tt=0;Tt<Qe;Tt++)$t[Ot+Tt]=jt[xt?Tt:Qe-Tt-1]}var c=ne("../internals/global"),u=ne("../internals/descriptors"),l=ne("../internals/array-buffer-native"),y=ne("../internals/create-non-enumerable-property"),f=ne("../internals/redefine-all"),b=ne("../internals/fails"),D=ne("../internals/an-instance"),B=ne("../internals/to-integer"),F=ne("../internals/to-length"),j=ne("../internals/to-index"),k=ne("../internals/ieee754"),U=ne("../internals/object-get-prototype-of"),T=ne("../internals/object-set-prototype-of"),I=ne("../internals/object-get-own-property-names").f,M=ne("../internals/object-define-property").f,q=ne("../internals/array-fill"),K=ne("../internals/set-to-string-tag"),Y=(ne=ne("../internals/internal-state")).get,ie=ne.set,te="ArrayBuffer",z="DataView",oe="prototype",le="Wrong index",Ee=c[te],W=Ee,R=c[z],ue=(ne=R&&R[oe],Object.prototype),we=c.RangeError,je=k.pack,Be=k.unpack;if(l){if(!b(function(){Ee(1)})||!b(function(){new Ee(-1)})||b(function(){return new Ee,new Ee(1.5),new Ee(NaN),Ee.name!=te})){c=(W=function(tt){return D(this,W),new Ee(j(tt))})[oe]=Ee[oe];for(var We,Oe=I(Ee),Pe=0;Oe.length>Pe;)(We=Oe[Pe++])in W||y(W,We,Ee[We]);c.constructor=W}T&&U(ne)!==ue&&T(ne,ue),k=new R(new W(2));var $e=ne.setInt8;k.setInt8(0,2147483648),k.setInt8(1,2147483649),!k.getInt8(0)&&k.getInt8(1)||f(ne,{setInt8:function(Qe,tt){$e.call(this,Qe,tt<<24>>24)},setUint8:function(Qe,tt){$e.call(this,Qe,tt<<24>>24)}},{unsafe:!0})}else W=function(ke){D(this,W,te),ke=j(ke),ie(this,{bytes:q.call(new Array(ke),0),byteLength:ke}),u||(this.byteLength=ke)},R=function(ke,gt,tt){D(this,R,z),D(ke,W,z);var _t=Y(ke).byteLength;if((gt=B(gt))<0||_t<gt)throw we("Wrong offset");if(_t<gt+(tt=void 0===tt?_t-gt:F(tt)))throw we("Wrong length");ie(this,{buffer:ke,byteLength:tt,byteOffset:gt}),u||(this.buffer=ke,this.byteLength=tt,this.byteOffset=gt)},u&&(s(W,"byteLength"),s(R,"buffer"),s(R,"byteLength"),s(R,"byteOffset")),f(R[oe],{getInt8:function(ke){return a(this,1,ke)[0]<<24>>24},getUint8:function(ke){return a(this,1,ke)[0]},getInt16:function(ke){return((ke=a(this,2,ke,1<arguments.length?arguments[1]:void 0))[1]<<8|ke[0])<<16>>16},getUint16:function(ke){return(ke=a(this,2,ke,1<arguments.length?arguments[1]:void 0))[1]<<8|ke[0]},getInt32:function(ke){return m(a(this,4,ke,1<arguments.length?arguments[1]:void 0))},getUint32:function(ke){return m(a(this,4,ke,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ke){return Be(a(this,4,ke,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ke){return Be(a(this,8,ke,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ke,Qe){h(this,1,ke,_,Qe)},setUint8:function(ke,Qe){h(this,1,ke,_,Qe)},setInt16:function(ke,Qe){h(this,2,ke,d,Qe,2<arguments.length?arguments[2]:void 0)},setUint16:function(ke,Qe){h(this,2,ke,d,Qe,2<arguments.length?arguments[2]:void 0)},setInt32:function(ke,Qe){h(this,4,ke,p,Qe,2<arguments.length?arguments[2]:void 0)},setUint32:function(ke,Qe){h(this,4,ke,p,Qe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ke,Qe){h(this,4,ke,C,Qe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ke,Qe){h(this,8,ke,x,Qe,2<arguments.length?arguments[2]:void 0)}});K(W,te),K(R,z),V.exports={ArrayBuffer:W,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(o,V,w){"use strict";var _=o("../internals/to-object"),d=o("../internals/to-absolute-index"),p=o("../internals/to-length"),m=Math.min;V.exports=[].copyWithin||function(u,x){var s=_(this),a=p(s.length),h=d(u,a),c=d(x,a),l=m((void 0===(u=2<arguments.length?arguments[2]:void 0)?a:d(u,a))-c,a-h),y=1;for(c<h&&h<c+l&&(y=-1,c+=l-1,h+=l-1);0<l--;)c in s?s[h]=s[c]:delete s[h],h+=y,c+=y;return s}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(o,V,w){"use strict";var _=o("../internals/to-object"),d=o("../internals/to-absolute-index"),p=o("../internals/to-length");V.exports=function(m){for(var a,C=_(this),x=p(C.length),s=d(1<(a=arguments.length)?arguments[1]:void 0,x),h=void 0===(a=2<a?arguments[2]:void 0)?x:d(a,x);s<h;)C[s++]=m;return C}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(p,V,w){"use strict";var _=p("../internals/array-iteration").forEach,d=p("../internals/array-method-is-strict");p=p("../internals/array-method-uses-to-length"),d=d("forEach"),p=p("forEach"),V.exports=d&&p?[].forEach:function(m){return _(this,m,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,V,w){"use strict";var _=o("../internals/function-bind-context"),d=o("../internals/to-object"),p=o("../internals/call-with-safe-iteration-closing"),m=o("../internals/is-array-iterator-method"),C=o("../internals/to-length"),x=o("../internals/create-property"),s=o("../internals/get-iterator-method");V.exports=function(D){var h,c,u,l,y,f,b=d(D),B=(D="function"==typeof this?this:Array,arguments.length),F=1<B?arguments[1]:void 0,j=void 0!==F,k=s(b),U=0;if(j&&(F=_(F,2<B?arguments[2]:void 0,2)),null==k||D==Array&&m(k))for(c=new D(h=C(b.length));U<h;U++)f=j?F(b[U],U):b[U],x(c,U,f);else for(y=(l=k.call(b)).next,c=new D;!(u=y.call(l)).done;U++)f=j?p(l,F,[u.value,U],!0):u.value,x(c,U,f);return c.length=U,c}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(o,V,w){function _(C){return function(x,s,a){var h,c=d(x),u=p(c.length),l=m(a,u);if(C&&s!=s){for(;l<u;)if((h=c[l++])!=h)return!0}else for(;l<u;l++)if((C||l in c)&&c[l]===s)return C||l||0;return!C&&-1}}var d=o("../internals/to-indexed-object"),p=o("../internals/to-length"),m=o("../internals/to-absolute-index");V.exports={includes:_(!0),indexOf:_(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(o,V,w){function _(a){var h=1==a,c=2==a,u=3==a,l=4==a,y=6==a,f=5==a||y;return function(b,D,B,F){for(var j,k,U=m(b),T=p(U),I=d(D,B,3),M=C(T.length),q=0,K=(D=F||x,h?D(b,M):c?D(b,0):void 0);q<M;q++)if((f||q in T)&&(k=I(j=T[q],q,U),a))if(h)K[q]=k;else if(k)switch(a){case 3:return!0;case 5:return j;case 6:return q;case 2:s.call(K,j)}else if(l)return!1;return y?-1:u||l?l:K}}var d=o("../internals/function-bind-context"),p=o("../internals/indexed-object"),m=o("../internals/to-object"),C=o("../internals/to-length"),x=o("../internals/array-species-create"),s=[].push;V.exports={forEach:_(0),map:_(1),filter:_(2),some:_(3),every:_(4),find:_(5),findIndex:_(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(a,V,w){"use strict";var _=a("../internals/to-indexed-object"),d=a("../internals/to-integer"),p=a("../internals/to-length"),s=a("../internals/array-method-is-strict"),m=(a=a("../internals/array-method-uses-to-length"),Math.min),C=[].lastIndexOf,x=!!C&&1/[1].lastIndexOf(1,-0)<0;s=s("lastIndexOf"),a=a("indexOf",{ACCESSORS:!0,1:0}),V.exports=!x&&s&&a?C:function(h){if(x)return C.apply(this,arguments)||0;var c=_(this),u=p(c.length),l=u-1;for((l=1<arguments.length?m(l,d(arguments[1])):l)<0&&(l=u+l);0<=l;l--)if(l in c&&c[l]===h)return l||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(o,V,w){var _=o("../internals/fails"),d=o("../internals/well-known-symbol"),p=o("../internals/engine-v8-version"),m=d("species");V.exports=function(C){return 51<=p||!_(function(){var x=[];return(x.constructor={})[m]=function(){return{foo:1}},1!==x[C](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(o,V,w){"use strict";var _=o("../internals/fails");V.exports=function(d,p){var m=[][d];return!!m&&_(function(){m.call(null,p||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,V,w){function _(s){throw s}var d=o("../internals/descriptors"),p=o("../internals/fails"),m=o("../internals/has"),C=Object.defineProperty,x={};V.exports=function(s,a){var h,c,u,l;return m(x,s)?x[s]:(h=[][s],c=!!m(a=a||{},"ACCESSORS")&&a.ACCESSORS,u=m(a,0)?a[0]:_,l=m(a,1)?a[1]:void 0,x[s]=!!h&&!p(function(){if(c&&!d)return!0;var y={length:-1};c?C(y,1,{enumerable:!0,get:_}):y[1]=1,h.call(y,u,l)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,V,w){function _(x){return function(s,a,h,c){d(a);var u=p(s),l=m(u),y=C(u.length),f=x?y-1:0,b=x?-1:1;if(h<2)for(;;){if(f in l){c=l[f],f+=b;break}if(f+=b,x?f<0:y<=f)throw TypeError("Reduce of empty array with no initial value")}for(;x?0<=f:f<y;f+=b)f in l&&(c=a(c,l[f],f,u));return c}}var d=o("../internals/a-function"),p=o("../internals/to-object"),m=o("../internals/indexed-object"),C=o("../internals/to-length");V.exports={left:_(!1),right:_(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(o,V,w){var _=o("../internals/is-object"),d=o("../internals/is-array"),p=o("../internals/well-known-symbol")("species");V.exports=function(m,C){var x;return new(void 0===(x=d(m)&&("function"==typeof(x=m.constructor)&&(x===Array||d(x.prototype))||_(x)&&null===(x=x[p]))?void 0:x)?Array:x)(0===C?0:C)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(o,V,w){var _=o("../internals/an-object");V.exports=function(d,p,m,C){try{return C?p(_(m)[0],m[1]):p(m)}catch(x){throw void 0!==(C=d.return)&&_(C.call(d)),x}}},{"../internals/an-object":10}],27:[function(o,V,w){var _=o("../internals/well-known-symbol")("iterator"),d=!1;try{var p=0,m={next:function(){return{done:!!p++}},return:function(){d=!0}};m[_]=function(){return this},Array.from(m,function(){throw 2})}catch{}V.exports=function(C,x){if(!x&&!d)return!1;var s=!1;try{var a={};a[_]=function(){return{next:function(){return{done:s=!0}}}},C(a)}catch{}return s}},{"../internals/well-known-symbol":149}],28:[function(o,V,w){var _={}.toString;V.exports=function(d){return _.call(d).slice(8,-1)}},{}],29:[function(o,V,w){var _=o("../internals/to-string-tag-support"),d=o("../internals/classof-raw"),p=o("../internals/well-known-symbol")("toStringTag"),m="Arguments"==d(function(){return arguments}());V.exports=_?d:function(C){var x;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(x=function(s,a){try{return s[a]}catch{}}(C=Object(C),p))?x:m?d(C):"Object"==(x=d(C))&&"function"==typeof C.callee?"Arguments":x}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(u,V,w){"use strict";var _=u("../internals/object-define-property").f,d=u("../internals/object-create"),p=u("../internals/redefine-all"),m=u("../internals/function-bind-context"),C=u("../internals/an-instance"),x=u("../internals/iterate"),s=u("../internals/define-iterator"),a=u("../internals/set-species"),h=u("../internals/descriptors"),c=u("../internals/internal-metadata").fastKey,l=(u=u("../internals/internal-state")).set,y=u.getterFor;V.exports={getConstructor:function(f,b,D,B){function F(T,I,M){var q,K=U(T),Y=j(T,I);return Y?Y.value=M:(K.last=Y={index:q=c(I,!0),key:I,value:M,previous:I=K.last,next:void 0,removed:!1},K.first||(K.first=Y),I&&(I.next=Y),h?K.size++:T.size++,"F"!==q&&(K.index[q]=Y)),T}function j(q,I){q=U(q);var M,K=c(I);if("F"!==K)return q.index[K];for(M=q.first;M;M=M.next)if(M.key==I)return M}var k=f(function(T,I){C(T,k,b),l(T,{type:b,index:d(null),first:void 0,last:void 0,size:0}),h||(T.size=0),null!=I&&x(I,T[B],T,D)}),U=y(b);return p(k.prototype,{clear:function(){for(var T=U(this),I=T.index,M=T.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=void 0),delete I[M.index],M=M.next;T.first=T.last=void 0,h?T.size=0:this.size=0},delete:function(K){var I,M,q=U(this);return(K=j(this,K))&&(I=K.next,M=K.previous,delete q.index[K.index],K.removed=!0,M&&(M.next=I),I&&(I.previous=M),q.first==K&&(q.first=I),q.last==K&&(q.last=M),h?q.size--:this.size--),!!K},forEach:function(T){for(var I,M=U(this),q=m(T,1<arguments.length?arguments[1]:void 0,3);I=I?I.next:M.first;)for(q(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(T){return!!j(this,T)}}),p(k.prototype,D?{get:function(T){return(T=j(this,T))&&T.value},set:function(T,I){return F(this,0===T?0:T,I)}}:{add:function(T){return F(this,T=0===T?0:T,T)}}),h&&_(k.prototype,"size",{get:function(){return U(this).size}}),k},setStrong:function(f,b,D){var B=b+" Iterator",F=y(b),j=y(B);s(f,b,function(k,U){l(this,{type:B,target:k,state:F(k),kind:U,last:void 0})},function(){for(var k=j(this),U=k.kind,T=k.last;T&&T.removed;)T=T.previous;return k.target&&(k.last=T=T?T.next:k.state.first)?"keys"==U?{value:T.key,done:!1}:"values"==U?{value:T.value,done:!1}:{value:[T.key,T.value],done:!1}:{value:k.target=void 0,done:!0}},D?"entries":"values",!D,!0),a(b)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(l,V,w){"use strict";function _(F){return F.frozen||(F.frozen=new d)}function d(){this.entries=[]}function p(F,j){return b(F.entries,function(k){return k[0]===j})}var m=l("../internals/redefine-all"),C=l("../internals/internal-metadata").getWeakData,x=l("../internals/an-object"),s=l("../internals/is-object"),a=l("../internals/an-instance"),h=l("../internals/iterate"),c=l("../internals/array-iteration"),u=l("../internals/has"),y=(l=l("../internals/internal-state")).set,f=l.getterFor,b=c.find,D=c.findIndex,B=0;d.prototype={get:function(F){if(F=p(this,F))return F[1]},has:function(F){return!!p(this,F)},set:function(F,j){var k=p(this,F);k?k[1]=j:this.entries.push([F,j])},delete:function(F){var j=D(this.entries,function(k){return k[0]===F});return~j&&this.entries.splice(j,1),!!~j}},V.exports={getConstructor:function(F,j,k,U){function T(q,K,Y){var ie=M(q),te=C(x(K),!0);return!0===te?_(ie).set(K,Y):te[ie.id]=Y,q}var I=F(function(q,K){a(q,I,j),y(q,{type:j,id:B++,frozen:void 0}),null!=K&&h(K,q[U],q,k)}),M=f(j);return m(I.prototype,{delete:function(q){var K,Y=M(this);return!!s(q)&&(!0===(K=C(q))?_(Y).delete(q):K&&u(K,Y.id)&&delete K[Y.id])},has:function(q){var K,Y=M(this);return!!s(q)&&(!0===(K=C(q))?_(Y).has(q):K&&u(K,Y.id))}}),m(I.prototype,k?{get:function(q){var K,Y=M(this);if(s(q))return!0===(K=C(q))?_(Y).get(q):K?K[Y.id]:void 0},set:function(q,K){return T(this,q,K)}}:{add:function(q){return T(this,q,!0)}}),I}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(o,V,w){"use strict";var _=o("../internals/export"),d=o("../internals/global"),p=o("../internals/is-forced"),m=o("../internals/redefine"),C=o("../internals/internal-metadata"),x=o("../internals/iterate"),s=o("../internals/an-instance"),a=o("../internals/is-object"),h=o("../internals/fails"),c=o("../internals/check-correctness-of-iteration"),u=o("../internals/set-to-string-tag"),l=o("../internals/inherit-if-required");V.exports=function(y,f,b){function D(te){var z=K[te];m(K,te,"add"==te?function(oe){return z.call(this,0===oe?0:oe),this}:"delete"==te?function(oe){return!(I&&!a(oe))&&z.call(this,0===oe?0:oe)}:"get"==te?function(oe){return I&&!a(oe)?void 0:z.call(this,0===oe?0:oe)}:"has"==te?function(oe){return!(I&&!a(oe))&&z.call(this,0===oe?0:oe)}:function(oe,le){return z.call(this,0===oe?0:oe,le),this})}var B,F,j,k,U,T=-1!==y.indexOf("Map"),I=-1!==y.indexOf("Weak"),M=T?"set":"add",q=d[y],K=q&&q.prototype,Y=q,ie={};return p(y,"function"!=typeof q||!(I||K.forEach&&!h(function(){(new q).entries().next()})))?(Y=b.getConstructor(f,y,T,M),C.REQUIRED=!0):p(y,!0)&&(F=(B=new Y)[M](I?{}:-0,1)!=B,j=h(function(){B.has(1)}),k=c(function(te){new q(te)}),U=!I&&h(function(){for(var te=new q,z=5;z--;)te[M](z,z);return!te.has(-0)}),k||(((Y=f(function(te,z){return s(te,Y,y),te=l(new q,te,Y),null!=z&&x(z,te[M],te,T),te})).prototype=K).constructor=Y),(j||U)&&(D("delete"),D("has"),T&&D("get")),(U||F)&&D(M),I&&K.clear&&delete K.clear),ie[y]=Y,_({global:!0,forced:Y!=q},ie),u(Y,y),I||b.setStrong(Y,y,T),Y}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(o,V,w){var _=o("../internals/has"),d=o("../internals/own-keys"),p=o("../internals/object-get-own-property-descriptor"),m=o("../internals/object-define-property");V.exports=function(C,x){for(var s=d(x),a=m.f,h=p.f,c=0;c<s.length;c++){var u=s[c];_(C,u)||a(C,u,h(x,u))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(o,V,w){var _=o("../internals/well-known-symbol")("match");V.exports=function(d){var p=/./;try{"/./"[d](p)}catch{try{return p[_]=!1,"/./"[d](p)}catch{}}return!1}},{"../internals/well-known-symbol":149}],35:[function(o,V,w){o=o("../internals/fails"),V.exports=!o(function(){function _(){}return _.prototype.constructor=null,Object.getPrototypeOf(new _)!==_.prototype})},{"../internals/fails":51}],36:[function(o,V,w){var _=o("../internals/require-object-coercible"),d=/"/g;V.exports=function(s,m,C,x){s=String(_(s));var a="<"+m;return""!==C&&(a+=" "+C+'="'+String(x).replace(d,"&quot;")+'"'),a+">"+s+"</"+m+">"}},{"../internals/require-object-coercible":114}],37:[function(o,V,w){"use strict";function _(){return this}var d=o("../internals/iterators-core").IteratorPrototype,p=o("../internals/object-create"),m=o("../internals/create-property-descriptor"),C=o("../internals/set-to-string-tag"),x=o("../internals/iterators");V.exports=function(s,a,h){return a+=" Iterator",s.prototype=p(d,{next:m(1,h)}),C(s,a,!1,!0),x[a]=_,s}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(o,V,w){var _=o("../internals/descriptors"),d=o("../internals/object-define-property"),p=o("../internals/create-property-descriptor");V.exports=_?function(m,C,x){return d.f(m,C,p(1,x))}:function(m,C,x){return m[C]=x,m}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,V,w){V.exports=function(_,d){return{enumerable:!(1&_),configurable:!(2&_),writable:!(4&_),value:d}}},{}],40:[function(o,V,w){"use strict";var _=o("../internals/to-primitive"),d=o("../internals/object-define-property"),p=o("../internals/create-property-descriptor");V.exports=function(m,C,x){(C=_(C))in m?d.f(m,C,p(0,x)):m[C]=x}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(l,V,w){"use strict";function _(){return this}var d=l("../internals/export"),p=l("../internals/create-iterator-constructor"),m=l("../internals/object-get-prototype-of"),C=l("../internals/object-set-prototype-of"),x=l("../internals/set-to-string-tag"),s=l("../internals/create-non-enumerable-property"),a=l("../internals/redefine"),h=l("../internals/well-known-symbol"),c=l("../internals/is-pure"),u=l("../internals/iterators"),y=(l=l("../internals/iterators-core")).IteratorPrototype,f=l.BUGGY_SAFARI_ITERATORS,b=h("iterator"),D="values",B="entries";V.exports=function(F,j,k,ie,T,I,M){function q(W){if(W===T&&le)return le;if(!f&&W in z)return z[W];switch(W){case"keys":case D:case B:return function(){return new k(this,W)}}return function(){return new k(this)}}p(k,j,ie),ie=j+" Iterator";var K,Y,te=!1,z=F.prototype,oe=z[b]||z["@@iterator"]||T&&z[T],le=!f&&oe||q(T),Ee="Array"==j&&z.entries||oe;if(Ee&&(Ee=m(Ee.call(new F)),y!==Object.prototype&&Ee.next&&(c||m(Ee)===y||(C?C(Ee,y):"function"!=typeof Ee[b]&&s(Ee,b,_)),x(Ee,ie,!0,!0),c&&(u[ie]=_))),T==D&&oe&&oe.name!==D&&(te=!0,le=function(){return oe.call(this)}),c&&!M||z[b]===le||s(z,b,le),u[j]=le,T)if(K={values:q(D),keys:I?le:q("keys"),entries:q(B)},M)for(Y in K)!f&&!te&&Y in z||a(z,Y,K[Y]);else d({target:j,proto:!0,forced:f||te},K);return K}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(o,V,w){var _=o("../internals/path"),d=o("../internals/has"),p=o("../internals/well-known-symbol-wrapped"),m=o("../internals/object-define-property").f;V.exports=function(C){var x=_.Symbol||(_.Symbol={});d(x,C)||m(x,C,{value:p.f(C)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(o,V,w){o=o("../internals/fails"),V.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(d,V,w){var _=d("../internals/global"),p=(d=d("../internals/is-object"),_.document),m=d(p)&&d(p.createElement);V.exports=function(C){return m?p.createElement(C):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,V,w){V.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,V,w){o=o("../internals/engine-user-agent"),V.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,V,w){o=o("../internals/get-built-in"),V.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(p,V,w){var _,d,m=p("../internals/global");p=p("../internals/engine-user-agent"),(m=(m=(m=m.process)&&m.versions)&&m.v8)?d=(_=m.split("."))[0]+_[1]:p&&(!(_=p.match(/Edge\/(\d+)/))||74<=_[1])&&(_=p.match(/Chrome\/(\d+)/))&&(d=_[1]),V.exports=d&&+d},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,V,w){V.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,V,w){var _=o("../internals/global"),d=o("../internals/object-get-own-property-descriptor").f,p=o("../internals/create-non-enumerable-property"),m=o("../internals/redefine"),C=o("../internals/set-global"),x=o("../internals/copy-constructor-properties"),s=o("../internals/is-forced");V.exports=function(a,h){var c,u,l,y=a.target,f=a.global,b=a.stat,D=f?_:b?_[y]||C(y,{}):(_[y]||{}).prototype;if(D)for(c in h){if(u=h[c],l=a.noTargetGet?(l=d(D,c))&&l.value:D[c],!s(f?c:y+(b?".":"#")+c,a.forced)&&void 0!==l){if(typeof u==typeof l)continue;x(u,l)}(a.sham||l&&l.sham)&&p(u,"sham",!0),m(D,c,u,a)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(o,V,w){V.exports=function(_){try{return!!_()}catch{return!0}}},{}],52:[function(h,V,w){"use strict";h("../modules/es.regexp.exec");var _=h("../internals/redefine"),d=h("../internals/fails"),p=h("../internals/well-known-symbol"),m=h("../internals/regexp-exec"),C=h("../internals/create-non-enumerable-property"),x=p("species"),s=!d(function(){var l=/./;return l.exec=function(){var y=[];return y.groups={a:"7"},y},"7"!=="".replace(l,"$<a>")}),a="$0"==="a".replace(/./,"$0"),c=!!/./[h=p("replace")]&&""===/./[h]("a","$0"),u=!d(function(){var l=(y=/(?:)/).exec,y=(y.exec=function(){return l.apply(this,arguments)},"ab".split(y));return 2!==y.length||"a"!==y[0]||"b"!==y[1]});V.exports=function(l,y,f,b){var D,B,F=p(l),j=!d(function(){var U={};return U[F]=function(){return 7},7!=""[l](U)}),k=j&&!d(function(){var U=!1,T=/a/;return"split"===l&&((T={constructor:{}}).constructor[x]=function(){return T},T.flags="",T[F]=/./[F]),T.exec=function(){return U=!0,null},T[F](""),!U});j&&k&&("replace"!==l||s&&a&&!c)&&("split"!==l||u)||(D=/./[F],f=(k=f(F,""[l],function(U,T,I,M,q){return T.exec===m?j&&!q?{done:!0,value:D.call(T,I,M)}:{done:!0,value:U.call(I,T,M)}:{done:!1}},{REPLACE_KEEPS_$0:a,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:c}))[0],B=k[1],_(String.prototype,l,f),_(RegExp.prototype,F,2==y?function(U,T){return B.call(U,this,T)}:function(U){return B.call(U,this)})),b&&C(RegExp.prototype[F],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(o,V,w){"use strict";var d=o("../internals/is-array"),p=o("../internals/to-length"),m=o("../internals/function-bind-context");V.exports=function _(C,x,s,a,h,c,u,l){for(var y,f=h,b=0,D=!!u&&m(u,l,3);b<a;){if(b in s){if(y=D?D(s[b],b,x):s[b],0<c&&d(y))f=_(C,x,y,p(y.length),f,c-1)-1;else{if(9007199254740991<=f)throw TypeError("Exceed the acceptable array length");C[f]=y}f++}b++}return f}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(o,V,w){o=o("../internals/fails"),V.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,V,w){var _=o("../internals/a-function");V.exports=function(d,p,m){if(_(d),void 0===p)return d;switch(m){case 0:return function(){return d.call(p)};case 1:return function(C){return d.call(p,C)};case 2:return function(C,x){return d.call(p,C,x)};case 3:return function(C,x,s){return d.call(p,C,x,s)}}return function(){return d.apply(p,arguments)}}},{"../internals/a-function":5}],56:[function(o,V,w){"use strict";var _=o("../internals/a-function"),d=o("../internals/is-object"),p=[].slice,m={};V.exports=Function.bind||function(C){var x=_(this),s=p.call(arguments,1),a=function(){var h=s.concat(p.call(arguments));if(this instanceof a){var c=x,u=h.length,l=h;if(!(u in m)){for(var y=[],f=0;f<u;f++)y[f]="a["+f+"]";m[u]=Function("C,a","return new C("+y.join(",")+")")}return m[u](c,l)}return x.apply(C,h)};return d(x.prototype)&&(a.prototype=x.prototype),a}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,V,w){function _(m){return"function"==typeof m?m:void 0}var d=o("../internals/path"),p=o("../internals/global");V.exports=function(m,C){return arguments.length<2?_(d[m])||_(p[m]):d[m]&&d[m][C]||p[m]&&p[m][C]}},{"../internals/global":60,"../internals/path":105}],58:[function(o,V,w){var _=o("../internals/classof"),d=o("../internals/iterators"),p=o("../internals/well-known-symbol")("iterator");V.exports=function(m){if(null!=m)return m[p]||m["@@iterator"]||d[_(m)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(o,V,w){var _=o("../internals/an-object"),d=o("../internals/get-iterator-method");V.exports=function(p){var m=d(p);if("function"!=typeof m)throw TypeError(String(p)+" is not iterable");return _(m.call(p))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,V,w){(function(_){function d(p){return p&&p.Math==Math&&p}V.exports=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof _&&_)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,V,w){var _={}.hasOwnProperty;V.exports=function(d,p){return _.call(d,p)}},{}],62:[function(o,V,w){V.exports={}},{}],63:[function(o,V,w){var _=o("../internals/global");V.exports=function(d,p){var m=_.console;m&&m.error&&(1===arguments.length?m.error(d):m.error(d,p))}},{"../internals/global":60}],64:[function(o,V,w){o=o("../internals/get-built-in"),V.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,V,w){var _=o("../internals/descriptors"),d=o("../internals/fails"),p=o("../internals/document-create-element");V.exports=!_&&!d(function(){return 7!=Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,V,w){var _=Math.abs,d=Math.pow,p=Math.floor,m=Math.log,C=Math.LN2;V.exports={pack:function(x,s,f){var h,c,u,l=new Array(f),y=8*f-s-1,b=(f=(1<<y)-1)>>1,D=23===s?d(2,-24)-d(2,-77):0,B=x<0||0===x&&1/x<0?1:0,F=0;for((x=_(x))!=x||x===1/0?(c=x!=x?1:0,h=f):(h=p(m(x)/C),x*(u=d(2,-h))<1&&(h--,u*=2),2<=(x+=1<=h+b?D/u:D*d(2,1-b))*u&&(h++,u/=2),f<=h+b?(c=0,h=f):1<=h+b?(c=(x*u-1)*d(2,s),h+=b):(c=x*d(2,b-1)*d(2,s),h=0));8<=s;l[F++]=255&c,c/=256,s-=8);for(h=h<<s|c,y+=s;0<y;l[F++]=255&h,h/=256,y-=8);return l[--F]|=128*B,l},unpack:function(x,s){var a,f,h=x.length,c=(1<<(f=8*h-s-1))-1,u=c>>1,l=f-7,y=h-1,b=127&(f=x[y--]);for(f>>=7;0<l;b=256*b+x[y],y--,l-=8);for(a=b&(1<<-l)-1,b>>=-l,l+=s;0<l;a=256*a+x[y],y--,l-=8);if(0===b)b=1-u;else{if(b===c)return a?NaN:f?-1/0:1/0;a+=d(2,s),b-=u}return(f?-1:1)*a*d(2,b-s)}}},{}],67:[function(o,V,w){var _=o("../internals/fails"),d=o("../internals/classof-raw"),p="".split;V.exports=_(function(){return!Object("z").propertyIsEnumerable(0)})?function(m){return"String"==d(m)?p.call(m,""):Object(m)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,V,w){var _=o("../internals/is-object"),d=o("../internals/object-set-prototype-of");V.exports=function(p,m,C){return d&&"function"==typeof(m=m.constructor)&&m!==C&&_(m=m.prototype)&&m!==C.prototype&&d(p,m),p}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(_,V,w){_=_("../internals/shared-store");var d=Function.toString;"function"!=typeof _.inspectSource&&(_.inspectSource=function(p){return d.call(p)}),V.exports=_.inspectSource},{"../internals/shared-store":120}],70:[function(o,V,w){function _(l){C(l,a,{value:{objectID:"O"+ ++h,weakData:{}}})}var d=o("../internals/hidden-keys"),p=o("../internals/is-object"),m=o("../internals/has"),C=o("../internals/object-define-property").f,x=o("../internals/uid"),s=o("../internals/freezing"),a=x("meta"),h=0,c=Object.isExtensible||function(){return!0},u=V.exports={REQUIRED:!1,fastKey:function(l,y){if(!p(l))return"symbol"==typeof l?l:("string"==typeof l?"S":"P")+l;if(!m(l,a)){if(!c(l))return"F";if(!y)return"E";_(l)}return l[a].objectID},getWeakData:function(l,y){if(!m(l,a)){if(!c(l))return!0;if(!y)return!1;_(l)}return l[a].weakData},onFreeze:function(l){return s&&u.REQUIRED&&c(l)&&!m(l,a)&&_(l),l}};d[a]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(f,V,w){var _,d,p,m,C,x,s,a,h=f("../internals/native-weak-map"),b=f("../internals/global"),c=f("../internals/is-object"),u=f("../internals/create-non-enumerable-property"),l=f("../internals/has"),y=f("../internals/shared-key");f=f("../internals/hidden-keys"),b=b.WeakMap,s=h?(_=new b,d=_.get,p=_.has,m=_.set,C=function(D,B){return m.call(_,D,B),B},x=function(D){return d.call(_,D)||{}},function(D){return p.call(_,D)}):(f[a=y("state")]=!0,C=function(D,B){return u(D,a,B),B},x=function(D){return l(D,a)?D[a]:{}},function(D){return l(D,a)}),V.exports={set:C,get:x,has:s,enforce:function(D){return s(D)?x(D):C(D,{})},getterFor:function(D){return function(B){if(c(B)&&(B=x(B)).type===D)return B;throw TypeError("Incompatible receiver, "+D+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(o,V,w){var _=o("../internals/well-known-symbol"),d=o("../internals/iterators"),p=_("iterator"),m=Array.prototype;V.exports=function(C){return void 0!==C&&(d.Array===C||m[p]===C)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(o,V,w){var _=o("../internals/classof-raw");V.exports=Array.isArray||function(d){return"Array"==_(d)}},{"../internals/classof-raw":28}],74:[function(o,V,w){function _(a,h){return(a=C[m(a)])==s||a!=x&&("function"==typeof h?d(h):!!h)}var d=o("../internals/fails"),p=/#|\.prototype\./,m=_.normalize=function(a){return String(a).replace(p,".").toLowerCase()},C=_.data={},x=_.NATIVE="N",s=_.POLYFILL="P";V.exports=_},{"../internals/fails":51}],75:[function(o,V,w){V.exports=function(_){return"object"==typeof _?null!==_:"function"==typeof _}},{}],76:[function(o,V,w){V.exports=!1},{}],77:[function(o,V,w){var _=o("../internals/is-object"),d=o("../internals/classof-raw"),p=o("../internals/well-known-symbol")("match");V.exports=function(m){var C;return _(m)&&(void 0!==(C=m[p])?!!C:"RegExp"==d(m))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(o,V,w){function _(a,h){this.stopped=a,this.result=h}var d=o("../internals/an-object"),p=o("../internals/is-array-iterator-method"),m=o("../internals/to-length"),C=o("../internals/function-bind-context"),x=o("../internals/get-iterator-method"),s=o("../internals/call-with-safe-iteration-closing");(V.exports=function(a,h,c,u,l){var y,f,b,D,B,F,j=C(h,c,u?2:1);if(l)y=a;else{if("function"!=typeof(h=x(a)))throw TypeError("Target is not iterable");if(p(h)){for(f=0,b=m(a.length);f<b;f++)if((D=u?j(d(F=a[f])[0],F[1]):j(a[f]))&&D instanceof _)return D;return new _(!1)}y=h.call(a)}for(B=y.next;!(F=B.call(y)).done;)if("object"==typeof(D=s(y,j,F.value,u))&&D&&D instanceof _)return D;return new _(!1)}).stop=function(a){return new _(!0,a)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(x,V,w){"use strict";var _,d,p=x("../internals/object-get-prototype-of"),m=x("../internals/create-non-enumerable-property"),C=x("../internals/has"),s=x("../internals/well-known-symbol"),a=(x=x("../internals/is-pure"),s=s("iterator"),!1);[].keys&&("next"in(d=[].keys())?(p=p(p(d)))!==Object.prototype&&(_=p):a=!0),null==_&&(_={}),x||C(_,s)||m(_,s,function(){return this}),V.exports={IteratorPrototype:_,BUGGY_SAFARI_ITERATORS:a}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(o,V,w){V.exports={}},{}],81:[function(o,V,w){V.exports=Math.sign||function(_){return 0==(_=+_)||_!=_?_:_<0?-1:1}},{}],82:[function(u,V,w){var _,d,p,m,C,x,s,a,h=u("../internals/global"),B=u("../internals/object-get-own-property-descriptor").f,D=u("../internals/classof-raw"),c=u("../internals/task").set,l=(u=u("../internals/engine-is-ios"),h.MutationObserver||h.WebKitMutationObserver),y=h.process,f=h.Promise,b="process"==D(y);D=B(h,"queueMicrotask"),(B=D&&D.value)||(_=function(){var F,j;for(b&&(F=y.domain)&&F.exit();d;){j=d.fn,d=d.next;try{j()}catch(k){throw d?m():p=void 0,k}}p=void 0,F&&F.enter()},m=b?function(){y.nextTick(_)}:l&&!u?(C=!0,x=document.createTextNode(""),new l(_).observe(x,{characterData:!0}),function(){x.data=C=!C}):f&&f.resolve?(s=f.resolve(void 0),a=s.then,function(){a.call(s,_)}):function(){c.call(h,_)}),V.exports=B||function(F){F={fn:F,next:void 0},p&&(p.next=F),d||(d=F,m()),p=F}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(o,V,w){o=o("../internals/global"),V.exports=o.Promise},{"../internals/global":60}],84:[function(o,V,w){o=o("../internals/fails"),V.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,V,w){var _=o("../internals/fails"),d=o("../internals/well-known-symbol"),p=o("../internals/is-pure"),m=d("iterator");V.exports=!_(function(){var C=new URL("b?a=1&b=2&c=3","http://a"),x=C.searchParams,s="";return C.pathname="c%20d",x.forEach(function(a,h){x.delete("b"),s+=h+a}),p&&!C.toJSON||!x.sort||"http://a/c%20d?a=1&c=3"!==C.href||"3"!==x.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!x[m]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==s||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(_,V,w){var d=_("../internals/global");_=_("../internals/inspect-source"),V.exports="function"==typeof(d=d.WeakMap)&&/native code/.test(_(d))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,V,w){"use strict";function _(p){var m,C;this.promise=new p(function(x,s){if(void 0!==m||void 0!==C)throw TypeError("Bad Promise constructor");m=x,C=s}),this.resolve=d(m),this.reject=d(C)}var d=o("../internals/a-function");V.exports.f=function(p){return new _(p)}},{"../internals/a-function":5}],88:[function(o,V,w){var _=o("../internals/is-regexp");V.exports=function(d){if(_(d))throw TypeError("The method doesn't accept regular expressions");return d}},{"../internals/is-regexp":77}],89:[function(o,V,w){var _=o("../internals/global").isFinite;V.exports=Number.isFinite||function(d){return"number"==typeof d&&_(d)}},{"../internals/global":60}],90:[function(o,V,w){"use strict";var _=o("../internals/descriptors"),d=o("../internals/fails"),p=o("../internals/object-keys"),m=o("../internals/object-get-own-property-symbols"),C=o("../internals/object-property-is-enumerable"),x=o("../internals/to-object"),s=o("../internals/indexed-object"),a=Object.assign,h=Object.defineProperty;V.exports=!a||d(function(){var c,u,l,y;return!(!_||1===a({b:1},a(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(u={},y="abcdefghijklmnopqrst",(c={})[l=Symbol()]=7,y.split("").forEach(function(f){u[f]=f}),7!=a({},c)[l]||p(a({},u)).join("")!=y)})?function(c,u){for(var l=x(c),y=arguments.length,f=1,b=m.f,D=C.f;f<y;)for(var B,F=s(arguments[f++]),j=b?p(F).concat(b(F)):p(F),k=j.length,U=0;U<k;)B=j[U++],_&&!D.call(F,B)||(l[B]=F[B]);return l}:a},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(h,V,w){function _(){}var d,p=h("../internals/an-object"),m=h("../internals/object-define-properties"),C=h("../internals/enum-bug-keys"),x=h("../internals/hidden-keys"),s=h("../internals/html"),a=h("../internals/document-create-element"),c=(h=h("../internals/shared-key"),"prototype"),u="script",l=h("IE_PROTO"),y=function(b){return"<"+u+">"+b+"</"+u+">"},f=function(){try{d=document.domain&&new ActiveXObject("htmlfile")}catch{}f=d?((b=d).write(y("")),b.close(),D=b.parentWindow.Object,b=null,D):(b=a("iframe"),D="java"+u+":",b.style.display="none",s.appendChild(b),b.src=String(D),(D=b.contentWindow.document).open(),D.write(y("document.F=Object")),D.close(),D.F);for(var b,D,B=C.length;B--;)delete f[c][C[B]];return f()};x[l]=!0,V.exports=Object.create||function(b,D){var B;return null!==b?(_[c]=p(b),B=new _,_[c]=null,B[l]=b):B=f(),void 0===D?B:m(B,D)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(o,V,w){var _=o("../internals/descriptors"),d=o("../internals/object-define-property"),p=o("../internals/an-object"),m=o("../internals/object-keys");V.exports=_?Object.defineProperties:function(C,x){p(C);for(var s,a=m(x),h=a.length,c=0;c<h;)d.f(C,s=a[c++],x[s]);return C}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,V,w){var _=o("../internals/descriptors"),d=o("../internals/ie8-dom-define"),p=o("../internals/an-object"),m=o("../internals/to-primitive"),C=Object.defineProperty;w.f=_?C:function(x,s,a){if(p(x),s=m(s,!0),p(a),d)try{return C(x,s,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(x[s]=a.value),x}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(o,V,w){var _=o("../internals/descriptors"),d=o("../internals/object-property-is-enumerable"),p=o("../internals/create-property-descriptor"),m=o("../internals/to-indexed-object"),C=o("../internals/to-primitive"),x=o("../internals/has"),s=o("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;w.f=_?a:function(h,c){if(h=m(h),c=C(c,!0),s)try{return a(h,c)}catch{}if(x(h,c))return p(!d.f.call(h,c),h[c])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(o,V,w){var _=o("../internals/to-indexed-object"),d=o("../internals/object-get-own-property-names").f,p={}.toString,m="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];V.exports.f=function(C){if(!m||"[object Window]"!=p.call(C))return d(_(C));try{return d(C)}catch{return m.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(o,V,w){var _=o("../internals/object-keys-internal"),d=o("../internals/enum-bug-keys").concat("length","prototype");w.f=Object.getOwnPropertyNames||function(p){return _(p,d)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,V,w){w.f=Object.getOwnPropertySymbols},{}],98:[function(m,V,w){var _=m("../internals/has"),d=m("../internals/to-object"),p=m("../internals/shared-key"),C=(m=m("../internals/correct-prototype-getter"),p("IE_PROTO")),x=Object.prototype;V.exports=m?Object.getPrototypeOf:function(s){return s=d(s),_(s,C)?s[C]:"function"==typeof s.constructor&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?x:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(o,V,w){var _=o("../internals/has"),d=o("../internals/to-indexed-object"),p=o("../internals/array-includes").indexOf,m=o("../internals/hidden-keys");V.exports=function(C,x){var s,a=d(C),h=0,c=[];for(s in a)!_(m,s)&&_(a,s)&&c.push(s);for(;x.length>h;)!_(a,s=x[h++])||~p(c,s)||c.push(s);return c}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(o,V,w){var _=o("../internals/object-keys-internal"),d=o("../internals/enum-bug-keys");V.exports=Object.keys||function(p){return _(p,d)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,V,w){"use strict";var _={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,p=d&&!_.call({1:2},1);w.f=p?function(m){return!!(m=d(this,m))&&m.enumerable}:_},{}],102:[function(o,V,w){var _=o("../internals/an-object"),d=o("../internals/a-possible-prototype");V.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,m=!1,C={};try{(p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(C,[]),m=C instanceof Array}catch{}return function(x,s){return _(x),d(s),m?p.call(x,s):x.__proto__=s,x}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,V,w){"use strict";var _=o("../internals/to-string-tag-support"),d=o("../internals/classof");V.exports=_?{}.toString:function(){return"[object "+d(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(o,V,w){var _=o("../internals/get-built-in"),d=o("../internals/object-get-own-property-names"),p=o("../internals/object-get-own-property-symbols"),m=o("../internals/an-object");V.exports=_("Reflect","ownKeys")||function(C){var x=d.f(m(C)),s=p.f;return s?x.concat(s(C)):x}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(o,V,w){o=o("../internals/global"),V.exports=o},{"../internals/global":60}],106:[function(o,V,w){V.exports=function(_){try{return{error:!1,value:_()}}catch(d){return{error:!0,value:d}}}},{}],107:[function(o,V,w){var _=o("../internals/an-object"),d=o("../internals/is-object"),p=o("../internals/new-promise-capability");V.exports=function(m,C){return _(m),d(C)&&C.constructor===m?C:((0,(m=p.f(m)).resolve)(C),m.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(o,V,w){var _=o("../internals/redefine");V.exports=function(d,p,m){for(var C in p)_(d,C,p[C],m);return d}},{"../internals/redefine":109}],109:[function(x,V,w){var _=x("../internals/global"),d=x("../internals/create-non-enumerable-property"),p=x("../internals/has"),m=x("../internals/set-global"),C=x("../internals/inspect-source"),s=(x=x("../internals/internal-state")).get,a=x.enforce,h=String(String).split("String");(V.exports=function(c,u,l,D){var f=!!D&&!!D.unsafe,b=!!D&&!!D.enumerable;D=!!D&&!!D.noTargetGet,"function"==typeof l&&("string"!=typeof u||p(l,"name")||d(l,"name",u),a(l).source=h.join("string"==typeof u?u:"")),c===_?b?c[u]=l:m(u,l):(f?!D&&c[u]&&(b=!0):delete c[u],b?c[u]=l:d(c,u,l))})(Function.prototype,"toString",function(){return"function"==typeof this&&s(this).source||C(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(o,V,w){var _=o("./classof-raw"),d=o("./regexp-exec");V.exports=function(p,m){var C=p.exec;if("function"==typeof C){if("object"!=typeof(C=C.call(p,m)))throw TypeError("RegExp exec method returned something other than an Object or null");return C}if("RegExp"!==_(p))throw TypeError("RegExp#exec called on incompatible receiver");return d.call(p,m)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(m,V,w){"use strict";var _,d,p=m("./regexp-flags"),C=(m=m("./regexp-sticky-helpers"),RegExp.prototype.exec),x=String.prototype.replace,s=C,a=(d=/b*/g,C.call(_=/a/,"a"),C.call(d,"a"),0!==_.lastIndex||0!==d.lastIndex),h=m.UNSUPPORTED_Y||m.BROKEN_CARET,c=void 0!==/()??/.exec("")[1];V.exports=s=a||c||h?function(u){var l,y,f,b,D=this,B=h&&D.sticky,F=p.call(D),j=D.source,k=0,U=u;return B&&(-1===(F=F.replace("y","")).indexOf("g")&&(F+="g"),U=String(u).slice(D.lastIndex),0<D.lastIndex&&(!D.multiline||D.multiline&&"\n"!==u[D.lastIndex-1])&&(j="(?: "+j+")",U=" "+U,k++),y=new RegExp("^(?:"+j+")",F)),c&&(y=new RegExp("^"+j+"$(?!\\s)",F)),a&&(l=D.lastIndex),f=C.call(B?y:D,U),B?f?(f.input=f.input.slice(k),f[0]=f[0].slice(k),f.index=D.lastIndex,D.lastIndex+=f[0].length):D.lastIndex=0:a&&f&&(D.lastIndex=D.global?f.index+f[0].length:l),c&&f&&1<f.length&&x.call(f[0],y,function(){for(b=1;b<arguments.length-2;b++)void 0===arguments[b]&&(f[b]=void 0)}),f}:s},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(o,V,w){"use strict";var _=o("../internals/an-object");V.exports=function(){var d=_(this),p="";return d.global&&(p+="g"),d.ignoreCase&&(p+="i"),d.multiline&&(p+="m"),d.dotAll&&(p+="s"),d.unicode&&(p+="u"),d.sticky&&(p+="y"),p}},{"../internals/an-object":10}],113:[function(o,V,w){"use strict";function _(d,p){return RegExp(d,p)}o=o("./fails"),w.UNSUPPORTED_Y=o(function(){var d=_("a","y");return d.lastIndex=2,null!=d.exec("abcd")}),w.BROKEN_CARET=o(function(){var d=_("^r","gy");return d.lastIndex=2,null!=d.exec("str")})},{"./fails":51}],114:[function(o,V,w){V.exports=function(_){if(null==_)throw TypeError("Can't call method on "+_);return _}},{}],115:[function(o,V,w){V.exports=Object.is||function(_,d){return _===d?0!==_||1/_==1/d:_!=_&&d!=d}},{}],116:[function(o,V,w){var _=o("../internals/global"),d=o("../internals/create-non-enumerable-property");V.exports=function(p,m){try{d(_,p,m)}catch{_[p]=m}return m}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(o,V,w){"use strict";var _=o("../internals/get-built-in"),d=o("../internals/object-define-property"),p=o("../internals/well-known-symbol"),m=o("../internals/descriptors"),C=p("species");V.exports=function(s){s=_(s),m&&s&&!s[C]&&(0,d.f)(s,C,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(o,V,w){var _=o("../internals/object-define-property").f,d=o("../internals/has"),p=o("../internals/well-known-symbol")("toStringTag");V.exports=function(m,C,x){m&&!d(m=x?m:m.prototype,p)&&_(m,p,{configurable:!0,value:C})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(o,V,w){var _=o("../internals/shared"),d=o("../internals/uid"),p=_("keys");V.exports=function(m){return p[m]||(p[m]=d(m))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(_,V,w){var p=_("../internals/global"),d=(_=_("../internals/set-global"),"__core-js_shared__");p=p[d]||_(d,{}),V.exports=p},{"../internals/global":60,"../internals/set-global":116}],121:[function(o,V,w){var _=o("../internals/is-pure"),d=o("../internals/shared-store");(V.exports=function(p,m){return d[p]||(d[p]=void 0!==m?m:{})})("versions",[]).push({version:"3.6.5",mode:_?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(o,V,w){var _=o("../internals/an-object"),d=o("../internals/a-function"),p=o("../internals/well-known-symbol")("species");V.exports=function(x,C){return void 0===(x=_(x).constructor)||null==(x=_(x)[p])?C:d(x)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(o,V,w){var _=o("../internals/fails");V.exports=function(d){return _(function(){var p=""[d]('"');return p!==p.toLowerCase()||3<p.split('"').length})}},{"../internals/fails":51}],124:[function(o,V,w){function _(m){return function(a,h){a=String(p(a)),h=d(h);var s,c=a.length;return h<0||c<=h?m?"":void 0:(s=a.charCodeAt(h))<55296||56319<s||h+1===c||(c=a.charCodeAt(h+1))<56320||57343<c?m?a.charAt(h):s:m?a.slice(h,h+2):c-56320+(s-55296<<10)+65536}}var d=o("../internals/to-integer"),p=o("../internals/require-object-coercible");V.exports={codeAt:_(!1),charAt:_(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(o,V,w){o=o("../internals/engine-user-agent"),V.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],126:[function(o,V,w){function _(x){return function(c,y,l){var u=(c=String(m(c))).length;return l=void 0===l?" ":String(l),(y=d(y))<=u||""==l?c:((u=p.call(l,C((y-=u)/l.length))).length>y&&(u=u.slice(0,y)),x?c+u:u+c)}}var d=o("../internals/to-length"),p=o("../internals/string-repeat"),m=o("../internals/require-object-coercible"),C=Math.ceil;V.exports={start:_(!1),end:_(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(o,V,w){"use strict";function _(f){return f+22+75*(f<26)}function d(f){var b,D=[],B=(f=function(oe){for(var le=[],Ee=0,W=oe.length;Ee<W;){var R,ne=oe.charCodeAt(Ee++);55296<=ne&&ne<=56319&&Ee<W?56320==(64512&(R=oe.charCodeAt(Ee++)))?le.push(((1023&ne)<<10)+(1023&R)+65536):(le.push(ne),Ee--):le.push(ne)}return le}(f)).length,F=128,j=0,k=72;for(M=0;M<f.length;M++)(b=f[M])<128&&D.push(y(b));var U=D.length,T=U;for(U&&D.push("-");T<B;){for(var I=p,M=0;M<f.length;M++)F<=(b=f[M])&&b<I&&(I=b);var q=T+1;if(I-F>l((p-j)/q))throw RangeError(c);for(j+=(I-F)*q,F=I,M=0;M<f.length;M++){if((b=f[M])<F&&++j>p)throw RangeError(c);if(b==F){for(var K=j,Y=m;;Y+=m){var ie=Y<=k?1:k+C<=Y?C:Y-k;if(K<ie)break;var te=K-ie,z=m-ie;D.push(y(_(ie+te%z))),K=l(te/z)}D.push(y(_(K))),k=function(oe,le,Ee){var W=0;for(oe=Ee?l(oe/s):oe>>1,oe+=l(oe/le);u*C>>1<oe;W+=m)oe=l(oe/u);return l(W+(u+1)*oe/(oe+x))}(j,q,T==U),j=0,++T}}++j,++F}return D.join("")}var p=2147483647,m=36,C=26,x=38,s=700,a=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",u=m-1,l=Math.floor,y=String.fromCharCode;V.exports=function(f){for(var b,D=[],B=f.toLowerCase().replace(h,".").split("."),F=0;F<B.length;F++)D.push(a.test(b=B[F])?"xn--"+d(b):b);return D.join(".")}},{}],128:[function(o,V,w){"use strict";var _=o("../internals/to-integer"),d=o("../internals/require-object-coercible");V.exports="".repeat||function(p){var m=String(d(this)),C="",x=_(p);if(x<0||x==1/0)throw RangeError("Wrong number of repetitions");for(;0<x;(x>>>=1)&&(m+=m))1&x&&(C+=m);return C}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(o,V,w){var _=o("../internals/fails"),d=o("../internals/whitespaces");V.exports=function(p){return _(function(){return!!d[p]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[p]()||d[p].name!==p})}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(p,V,w){function _(x){return function(s){return s=String(d(s)),1&x&&(s=s.replace(m,"")),2&x?s.replace(C,""):s}}var d=p("../internals/require-object-coercible"),m=(p="["+p("../internals/whitespaces")+"]",RegExp("^"+p+p+"*")),C=RegExp(p+p+"*$");V.exports={start:_(1),end:_(2),trim:_(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(u,V,w){function _(T){return function(){U(T)}}function d(T){U(T.data)}function p(T){C.postMessage(T+"",l.protocol+"//"+l.host)}var m,C=u("../internals/global"),x=u("../internals/fails"),s=u("../internals/classof-raw"),a=u("../internals/function-bind-context"),h=u("../internals/html"),c=u("../internals/document-create-element"),l=(u=u("../internals/engine-is-ios"),C.location),y=C.setImmediate,f=C.clearImmediate,b=C.process,D=C.MessageChannel,B=C.Dispatch,F=0,j={},k="onreadystatechange",U=function(T){var I;j.hasOwnProperty(T)&&(I=j[T],delete j[T],I())};y&&f||(y=function(T){for(var I=[],M=1;M<arguments.length;)I.push(arguments[M++]);return j[++F]=function(){("function"==typeof T?T:Function(T)).apply(void 0,I)},m(F),F},f=function(T){delete j[T]},"process"==s(b)?m=function(T){b.nextTick(_(T))}:B&&B.now?m=function(T){B.now(_(T))}:D&&!u?(u=(s=new D).port2,s.port1.onmessage=d,m=a(u.postMessage,u,1)):!C.addEventListener||"function"!=typeof postMessage||C.importScripts||x(p)||"file:"===l.protocol?m=k in c("script")?function(T){h.appendChild(c("script"))[k]=function(){h.removeChild(this),U(T)}}:function(T){setTimeout(_(T),0)}:(m=p,C.addEventListener("message",d,!1))),V.exports={set:y,clear:f}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(o,V,w){var _=o("../internals/classof-raw");V.exports=function(d){if("number"!=typeof d&&"Number"!=_(d))throw TypeError("Incorrect invocation");return+d}},{"../internals/classof-raw":28}],133:[function(o,V,w){var _=o("../internals/to-integer"),d=Math.max,p=Math.min;V.exports=function(m,C){return(m=_(m))<0?d(m+C,0):p(m,C)}},{"../internals/to-integer":136}],134:[function(o,V,w){var _=o("../internals/to-integer"),d=o("../internals/to-length");V.exports=function(m){if(void 0===m)return 0;m=_(m);var C=d(m);if(m!==C)throw RangeError("Wrong length or index");return C}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(o,V,w){var _=o("../internals/indexed-object"),d=o("../internals/require-object-coercible");V.exports=function(p){return _(d(p))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(o,V,w){var _=Math.ceil,d=Math.floor;V.exports=function(p){return isNaN(p=+p)?0:(0<p?d:_)(p)}},{}],137:[function(o,V,w){var _=o("../internals/to-integer"),d=Math.min;V.exports=function(p){return 0<p?d(_(p),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(o,V,w){var _=o("../internals/require-object-coercible");V.exports=function(d){return Object(_(d))}},{"../internals/require-object-coercible":114}],139:[function(o,V,w){var _=o("../internals/to-positive-integer");V.exports=function(d,p){if((d=_(d))%p)throw RangeError("Wrong offset");return d}},{"../internals/to-positive-integer":140}],140:[function(o,V,w){var _=o("../internals/to-integer");V.exports=function(d){if((d=_(d))<0)throw RangeError("The argument can't be less than 0");return d}},{"../internals/to-integer":136}],141:[function(o,V,w){var _=o("../internals/is-object");V.exports=function(d,p){if(!_(d))return d;var m,C;if(p&&"function"==typeof(m=d.toString)&&!_(C=m.call(d))||"function"==typeof(m=d.valueOf)&&!_(C=m.call(d))||!p&&"function"==typeof(m=d.toString)&&!_(C=m.call(d)))return C;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(o,V,w){var _={};_[o("../internals/well-known-symbol")("toStringTag")]="z",V.exports="[object z]"===String(_)},{"../internals/well-known-symbol":149}],143:[function(o,V,w){"use strict";function _(gt,xt){for(var $t=0,Ot=xt.length,jt=new(ke(gt))(Ot);$t<Ot;)jt[$t]=xt[$t++];return jt}function d(gt,xt){R(gt,xt,{get:function(){return Ee(this)[xt]}})}function p(gt){return gt instanceof je||"ArrayBuffer"==(gt=U(gt))||"SharedArrayBuffer"==gt}function m(gt,xt){return Qe(gt)&&"symbol"!=typeof xt&&xt in gt&&String(+xt)==String(xt)}function C(gt,xt){return m(gt,xt=j(xt,!0))?f(2,gt[xt]):ne(gt,xt)}function x(gt,xt,$t){return!(m(gt,xt=j(xt,!0))&&T($t)&&k($t,"value"))||k($t,"get")||k($t,"set")||$t.configurable||k($t,"writable")&&!$t.writable||k($t,"enumerable")&&!$t.enumerable?R(gt,xt,$t):(gt[xt]=$t.value,gt)}var s=o("../internals/export"),a=o("../internals/global"),h=o("../internals/descriptors"),c=o("../internals/typed-array-constructors-require-wrappers"),u=o("../internals/array-buffer-view-core"),l=o("../internals/array-buffer"),y=o("../internals/an-instance"),f=o("../internals/create-property-descriptor"),b=o("../internals/create-non-enumerable-property"),D=o("../internals/to-length"),B=o("../internals/to-index"),F=o("../internals/to-offset"),j=o("../internals/to-primitive"),k=o("../internals/has"),U=o("../internals/classof"),T=o("../internals/is-object"),I=o("../internals/object-create"),M=o("../internals/object-set-prototype-of"),q=o("../internals/object-get-own-property-names").f,K=o("../internals/typed-array-from"),Y=o("../internals/array-iteration").forEach,ie=o("../internals/set-species"),te=o("../internals/object-define-property"),z=o("../internals/object-get-own-property-descriptor"),oe=o("../internals/internal-state"),le=o("../internals/inherit-if-required"),Ee=oe.get,W=oe.set,R=te.f,ne=z.f,ue=Math.round,we=a.RangeError,je=l.ArrayBuffer,Be=l.DataView,We=u.NATIVE_ARRAY_BUFFER_VIEWS,Oe=u.TYPED_ARRAY_TAG,Pe=u.TypedArray,$e=u.TypedArrayPrototype,ke=u.aTypedArrayConstructor,Qe=u.isTypedArray,tt="BYTES_PER_ELEMENT",_t="Wrong length";h?(We||(z.f=C,te.f=x,d($e,"buffer"),d($e,"byteOffset"),d($e,"byteLength"),d($e,"length")),s({target:"Object",stat:!0,forced:!We},{getOwnPropertyDescriptor:C,defineProperty:x}),V.exports=function(Ze,xt,$t){function Ot(pt,Re){R(pt,Re,{get:function(){var Ne=this,Me=Re;return(Ne=Ee(Ne)).view[ge](Me*jt+Ne.byteOffset,!0)},set:function(Ne){var Me=this,Ye=Re;Me=Ee(Me),$t&&(Ne=(Ne=ue(Ne))<0?0:255<Ne?255:255&Ne),Me.view[Je](Ye*jt+Me.byteOffset,Ne,!0)},enumerable:!0})}var jt=Ze.match(/\d+$/)[0]/8,Tt=Ze+($t?"Clamped":"")+"Array",ge="get"+Ze,Je="set"+Ze,ut=a[Tt],Rt=ut,Dt=(Ze=Rt&&Rt.prototype,{});We?c&&(Rt=xt(function(pt,Re,Ne,Me){return y(pt,Rt,Tt),le(T(Re)?p(Re)?void 0!==Me?new ut(Re,F(Ne,jt),Me):void 0!==Ne?new ut(Re,F(Ne,jt)):new ut(Re):Qe(Re)?_(Rt,Re):K.call(Rt,Re):new ut(B(Re)),pt,Rt)}),M&&M(Rt,Pe),Y(q(ut),function(pt){pt in Rt||b(Rt,pt,ut[pt])}),Rt.prototype=Ze):(Rt=xt(function(pt,Re,Ne,Me){y(pt,Rt,Tt);var Ye,vt,kt=0,Lt=0;if(T(Re)){if(!p(Re))return Qe(Re)?_(Rt,Re):K.call(Rt,Re);var tn=Re;if(Lt=F(Ne,jt),Ne=Re.byteLength,void 0===Me){if(Ne%jt||(Ye=Ne-Lt)<0)throw we(_t)}else if(Ne<(Ye=D(Me)*jt)+Lt)throw we(_t);vt=Ye/jt}else vt=B(Re),tn=new je(Ye=vt*jt);for(W(pt,{buffer:tn,byteOffset:Lt,byteLength:Ye,length:vt,view:new Be(tn)});kt<vt;)Ot(pt,kt++)}),M&&M(Rt,Pe),Ze=Rt.prototype=I($e)),Ze.constructor!==Rt&&b(Ze,"constructor",Rt),Oe&&b(Ze,Oe,Tt),Dt[Tt]=Rt,s({global:!0,forced:Rt!=ut,sham:!We},Dt),tt in Rt||b(Rt,tt,jt),tt in Ze||b(Ze,tt,jt),ie(Tt)}):V.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(m,V,w){var _=m("../internals/global"),d=m("../internals/fails"),p=m("../internals/check-correctness-of-iteration"),C=(m=m("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,_.ArrayBuffer),x=_.Int8Array;V.exports=!m||!d(function(){x(1)})||!d(function(){new x(-1)})||!p(function(s){new x,new x(null),new x(1.5),new x(s)},!0)||d(function(){return 1!==new x(new C(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(o,V,w){var _=o("../internals/to-object"),d=o("../internals/to-length"),p=o("../internals/get-iterator-method"),m=o("../internals/is-array-iterator-method"),C=o("../internals/function-bind-context"),x=o("../internals/array-buffer-view-core").aTypedArrayConstructor;V.exports=function(s){var a,h,c,u,l,y,f=_(s),b=arguments.length,D=1<b?arguments[1]:void 0,B=void 0!==D,F=p(f);if(null!=F&&!m(F))for(y=(l=F.call(f)).next,f=[];!(u=y.call(l)).done;)f.push(u.value);for(B&&2<b&&(D=C(D,arguments[2],2)),h=d(f.length),c=new(x(this))(h),a=0;a<h;a++)c[a]=B?D(f[a],a):f[a];return c}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(o,V,w){var _=0,d=Math.random();V.exports=function(p){return"Symbol("+String(void 0===p?"":p)+")_"+(++_+d).toString(36)}},{}],147:[function(o,V,w){o=o("../internals/native-symbol"),V.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],148:[function(o,V,w){o=o("../internals/well-known-symbol"),w.f=o},{"../internals/well-known-symbol":149}],149:[function(x,V,w){var _=x("../internals/global"),d=x("../internals/shared"),p=x("../internals/has"),m=x("../internals/uid"),C=x("../internals/native-symbol"),s=(x=x("../internals/use-symbol-as-uid"),d("wks")),a=_.Symbol,h=x?a:a&&a.withoutSetter||m;V.exports=function(c){return p(s,c)||(s[c]=C&&p(a,c)?a[c]:h("Symbol."+c)),s[c]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(o,V,w){V.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],151:[function(p,V,w){"use strict";var _=p("../internals/export"),d=p("../internals/global"),C=p("../internals/array-buffer"),m=(p=p("../internals/set-species"),"ArrayBuffer");_({global:!0,forced:d[m]!==(C=C[m])},{ArrayBuffer:C}),p(m)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(f,V,w){"use strict";var _=f("../internals/export"),d=f("../internals/fails"),p=f("../internals/is-array"),m=f("../internals/is-object"),C=f("../internals/to-object"),x=f("../internals/to-length"),s=f("../internals/create-property"),a=f("../internals/array-species-create"),h=f("../internals/array-method-has-species-support"),y=f("../internals/well-known-symbol"),c=(f=f("../internals/engine-v8-version"),y("isConcatSpreadable")),u=9007199254740991,l="Maximum allowed index exceeded";y=51<=f||!d(function(){var b=[];return b[c]=!1,b.concat()[0]!==b}),f=h("concat"),_({target:"Array",proto:!0,forced:!y||!f},{concat:function(b){for(var D,B,F,j,k,U=C(this),T=a(U,0),I=0,M=-1,q=arguments.length;M<q;M++)if(k=void 0,m(j=F=-1===M?U:arguments[M])&&(void 0!==(k=j[c])?k:p(j))){if(B=x(F.length),u<I+B)throw TypeError(l);for(D=0;D<B;D++,I++)D in F&&s(T,I,F[D])}else{if(u<=I)throw TypeError(l);s(T,I++,F)}return T.length=I,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(p,V,w){var _=p("../internals/export"),d=p("../internals/array-copy-within");p=p("../internals/add-to-unscopables"),_({target:"Array",proto:!0},{copyWithin:d}),p("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(m,V,w){"use strict";var _=m("../internals/export"),d=m("../internals/array-iteration").every,p=m("../internals/array-method-is-strict");m=m("../internals/array-method-uses-to-length"),p=p("every"),m=m("every"),_({target:"Array",proto:!0,forced:!p||!m},{every:function(C){return d(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(p,V,w){var _=p("../internals/export"),d=p("../internals/array-fill");p=p("../internals/add-to-unscopables"),_({target:"Array",proto:!0},{fill:d}),p("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(m,V,w){"use strict";var _=m("../internals/export"),d=m("../internals/array-iteration").filter,p=m("../internals/array-method-has-species-support");m=m("../internals/array-method-uses-to-length"),p=p("filter"),m=m("filter"),_({target:"Array",proto:!0,forced:!p||!m},{filter:function(C){return d(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(x,V,w){"use strict";var _=x("../internals/export"),d=x("../internals/array-iteration").findIndex,p=x("../internals/add-to-unscopables"),m=(x=x("../internals/array-method-uses-to-length"),"findIndex"),C=!0;x=x(m),m in[]&&Array(1)[m](function(){C=!1}),_({target:"Array",proto:!0,forced:C||!x},{findIndex:function(s){return d(this,s,1<arguments.length?arguments[1]:void 0)}}),p(m)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(o,V,w){"use strict";var _=o("../internals/export"),d=o("../internals/flatten-into-array"),p=o("../internals/to-object"),m=o("../internals/to-length"),C=o("../internals/a-function"),x=o("../internals/array-species-create");_({target:"Array",proto:!0},{flatMap:function(s){var a,h=p(this),c=m(h.length);return C(s),(a=x(h,0)).length=d(a,h,h,c,0,1,s,1<arguments.length?arguments[1]:void 0),a}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(o,V,w){"use strict";var _=o("../internals/export"),d=o("../internals/flatten-into-array"),p=o("../internals/to-object"),m=o("../internals/to-length"),C=o("../internals/to-integer"),x=o("../internals/array-species-create");_({target:"Array",proto:!0},{flat:function(){var s=arguments.length?arguments[0]:void 0,a=p(this),h=m(a.length),c=x(a,0);return c.length=d(c,a,a,h,0,void 0===s?1:C(s)),c}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(d,V,w){"use strict";var _=d("../internals/export");d=d("../internals/array-for-each"),_({target:"Array",proto:!0,forced:[].forEach!=d},{forEach:d})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(o,V,w){var _=o("../internals/export"),d=o("../internals/array-from");_({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(p){Array.from(p)})},{from:d})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(o,V,w){"use strict";var _=o("../internals/export"),d=o("../internals/array-includes").includes,p=o("../internals/add-to-unscopables");_({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(m){return d(this,m,1<arguments.length?arguments[1]:void 0)}}),p("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(x,V,w){"use strict";var _=x("../internals/export"),d=x("../internals/array-includes").indexOf,C=x("../internals/array-method-is-strict"),p=(x=x("../internals/array-method-uses-to-length"),[].indexOf),m=!!p&&1/[1].indexOf(1,-0)<0;C=C("indexOf"),x=x("indexOf",{ACCESSORS:!0,1:0}),_({target:"Array",proto:!0,forced:m||!C||!x},{indexOf:function(s){return m?p.apply(this,arguments)||0:d(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(C,V,w){"use strict";var _=C("../internals/to-indexed-object"),d=C("../internals/add-to-unscopables"),p=C("../internals/iterators"),m=C("../internals/internal-state"),x=(C=C("../internals/define-iterator"),"Array Iterator"),s=m.set,a=m.getterFor(x);V.exports=C(Array,"Array",function(h,c){s(this,{type:x,target:_(h),index:0,kind:c})},function(){var h=a(this),c=h.target,u=h.kind,l=h.index++;return!c||l>=c.length?{value:h.target=void 0,done:!0}:"keys"==u?{value:l,done:!1}:"values"==u?{value:c[l],done:!1}:{value:[l,c[l]],done:!1}},"values"),p.Arguments=p.Array,d("keys"),d("values"),d("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(C,V,w){"use strict";var _=C("../internals/export"),m=C("../internals/indexed-object"),d=C("../internals/to-indexed-object"),p=(C=C("../internals/array-method-is-strict"),[].join);m=m!=Object,C=C("join",","),_({target:"Array",proto:!0,forced:m||!C},{join:function(x){return p.call(d(this),void 0===x?",":x)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(d,V,w){d("../internals/export")({target:"Array",proto:!0,forced:(d=d("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:d})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(m,V,w){"use strict";var _=m("../internals/export"),d=m("../internals/array-iteration").map,p=m("../internals/array-method-has-species-support");m=m("../internals/array-method-uses-to-length"),p=p("map"),m=m("map"),_({target:"Array",proto:!0,forced:!p||!m},{map:function(C){return d(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(c,V,w){"use strict";var _=c("../internals/export"),d=c("../internals/is-object"),p=c("../internals/is-array"),m=c("../internals/to-absolute-index"),C=c("../internals/to-length"),x=c("../internals/to-indexed-object"),s=c("../internals/create-property"),a=c("../internals/well-known-symbol"),h=c("../internals/array-method-has-species-support"),u=(c=c("../internals/array-method-uses-to-length"),h=h("slice"),c=c("slice",{ACCESSORS:!0,0:0,1:2}),a("species")),l=[].slice,y=Math.max;_({target:"Array",proto:!0,forced:!h||!c},{slice:function(f,b){var D,B,F,j=x(this),k=C(j.length),U=m(f,k),T=m(void 0===b?k:b,k);if(p(j)&&((D="function"==typeof(D=j.constructor)&&(D===Array||p(D.prototype))||d(D)&&null===(D=D[u])?void 0:D)===Array||void 0===D))return l.call(j,U,T);for(B=new(void 0===D?Array:D)(y(T-U,0)),F=0;U<T;U++,F++)U in j&&s(B,F,j[U]);return B.length=F,B}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(m,V,w){"use strict";var _=m("../internals/export"),d=m("../internals/array-iteration").some,p=m("../internals/array-method-is-strict");m=m("../internals/array-method-uses-to-length"),p=p("some"),m=m("some"),_({target:"Array",proto:!0,forced:!p||!m},{some:function(C){return d(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(h,V,w){"use strict";var _=h("../internals/export"),d=h("../internals/to-absolute-index"),p=h("../internals/to-integer"),m=h("../internals/to-length"),C=h("../internals/to-object"),x=h("../internals/array-species-create"),s=h("../internals/create-property"),a=h("../internals/array-method-has-species-support"),c=(h=h("../internals/array-method-uses-to-length"),a=a("splice"),h=h("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),u=Math.min;_({target:"Array",proto:!0,forced:!a||!h},{splice:function(I,y){var f,b,D,B,F,j,k=C(this),U=m(k.length),T=d(I,U);if(0===(I=arguments.length)?f=b=0:b=1===I?(f=0,U-T):(f=I-2,u(c(p(y),0),U-T)),9007199254740991<U+f-b)throw TypeError("Maximum allowed length exceeded");for(D=x(k,b),B=0;B<b;B++)(F=T+B)in k&&s(D,B,k[F]);if(f<(D.length=b)){for(B=T;B<U-b;B++)j=B+f,(F=B+b)in k?k[j]=k[F]:delete k[j];for(B=U;U-b+f<B;B--)delete k[B-1]}else if(b<f)for(B=U-b;T<B;B--)j=B+f-1,(F=B+b-1)in k?k[j]=k[F]:delete k[j];for(B=0;B<f;B++)k[B+T]=arguments[B+2];return k.length=U-b+f,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(o,V,w){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(o,V,w){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(d,V,w){var _=d("../internals/descriptors"),p=(d=d("../internals/object-define-property").f,Function.prototype),m=p.toString,C=/^\s*function ([^ (]*)/;!_||"name"in p||d(p,"name",{configurable:!0,get:function(){try{return m.call(this).match(C)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(d,V,w){"use strict";var _=d("../internals/collection");d=d("../internals/collection-strong"),V.exports=_("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},d)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(_,V,w){_=_("../internals/export");var d=Math.hypot,p=Math.abs,m=Math.sqrt;_({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(C,x){for(var s,a,h=0,c=0,u=arguments.length,l=0;c<u;)l<(s=p(arguments[c++]))?(h=h*(a=l/s)*a+1,l=s):h+=0<s?(a=s/l)*a:s;return l===1/0?1/0:l*m(h)}})},{"../internals/export":50}],176:[function(_,V,w){_=_("../internals/export");var d=Math.log,p=Math.LN2;_({target:"Math",stat:!0},{log2:function(m){return d(m)/p}})},{"../internals/export":50}],177:[function(o,V,w){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(o,V,w){"use strict";function _(M){var q,K,Y,ie,te,z,oe,le=h(M,!1);if("string"==typeof le&&2<le.length)if(43===(M=(le=b(le)).charCodeAt(0))||45===M){if(88===(q=le.charCodeAt(2))||120===q)return NaN}else if(48===M){switch(le.charCodeAt(1)){case 66:case 98:K=2,Y=49;break;case 79:case 111:K=8,Y=55;break;default:return+le}for(te=(ie=le.slice(2)).length,z=0;z<te;z++)if((oe=ie.charCodeAt(z))<48||Y<oe)return NaN;return parseInt(ie,K)}return+le}var d=o("../internals/descriptors"),p=o("../internals/global"),m=o("../internals/is-forced"),C=o("../internals/redefine"),x=o("../internals/has"),s=o("../internals/classof-raw"),a=o("../internals/inherit-if-required"),h=o("../internals/to-primitive"),c=o("../internals/fails"),u=o("../internals/object-create"),l=o("../internals/object-get-own-property-names").f,y=o("../internals/object-get-own-property-descriptor").f,f=o("../internals/object-define-property").f,b=o("../internals/string-trim").trim,D="Number",B=p[D],F=B.prototype,j=s(u(F))==D;if(m(D,!B(" 0o1")||!B("0b1")||B("+0x1"))){for(var k,U=function(q){q=arguments.length<1?0:q;var K=this;return K instanceof U&&(j?c(function(){F.valueOf.call(K)}):s(K)!=D)?a(new B(_(q)),K,U):_(q)},T=d?l(B):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;T.length>I;I++)x(B,k=T[I])&&!x(U,k)&&f(U,k,y(B,k));(U.prototype=F).constructor=U,C(p,D,U)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(o,V,w){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(x,V,w){"use strict";function _(h,c,u){return 0===c?u:c%2==1?_(h,c-1,u*h):_(h*h,c/2,u)}var d=x("../internals/export"),p=x("../internals/to-integer"),m=x("../internals/this-number-value"),C=x("../internals/string-repeat"),s=(x=x("../internals/fails"),1..toFixed),a=Math.floor;d({target:"Number",proto:!0,forced:s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!x(function(){s.call({})})},{toFixed:function(D){function c(k,U){for(var T=-1,I=U;++T<6;)B[T]=(I+=k*B[T])%1e7,I=a(I/1e7)}function u(k){for(var U=6,T=0;0<=--U;)B[U]=a((T+=B[U])/k),T=T%k*1e7}function l(){for(var k,U=6,T="";0<=--U;)""===T&&0!==U&&0===B[U]||(k=String(B[U]),T=""===T?k:T+C.call("0",7-k.length)+k);return T}var y,f,b=m(this),B=(D=p(D),[0,0,0,0,0,0]),F="",j="0";if(D<0||20<D)throw RangeError("Incorrect fraction digits");if(b!=b)return"NaN";if(b<=-1e21||1e21<=b)return String(b);if(b<0&&(F="-",b=-b),1e-21<b)if(b=(y=function(k){for(var U=0,T=k;4096<=T;)U+=12,T/=4096;for(;2<=T;)U+=1,T/=2;return U}(b*_(2,69,1))-69)<0?b*_(2,-y,1):b/_(2,y,1),b*=4503599627370496,0<(y=52-y)){for(c(0,b),f=D;7<=f;)c(1e7,0),f-=7;for(c(_(10,f,1),0),f=y-1;23<=f;)u(1<<23),f-=23;u(1<<f),c(1,1),u(2),j=l()}else c(0,b),c(1<<-y,0),j=l()+C.call("0",D);return 0<D?F+((b=j.length)<=D?"0."+C.call("0",D-b)+j:j.slice(0,b-D)+"."+j.slice(b-D)):F+j}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(d,V,w){var _=d("../internals/export");d=d("../internals/object-assign"),_({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(o,V,w){var _=o("../internals/export"),d=o("../internals/iterate"),p=o("../internals/create-property");_({target:"Object",stat:!0},{fromEntries:function(m){var C={};return d(m,function(x,s){p(C,x,s)},void 0,!0),C}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(m,V,w){var _=m("../internals/export"),C=m("../internals/fails"),d=m("../internals/to-indexed-object"),p=m("../internals/object-get-own-property-descriptor").f;m=m("../internals/descriptors"),C=C(function(){p(1)}),_({target:"Object",stat:!0,forced:!m||C,sham:!m},{getOwnPropertyDescriptor:function(x,s){return p(d(x),s)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(p,V,w){var _=p("../internals/export"),d=p("../internals/fails");p=p("../internals/object-get-own-property-names-external").f,_({target:"Object",stat:!0,forced:d(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(C,V,w){var _=C("../internals/export"),d=C("../internals/fails"),p=C("../internals/to-object"),m=C("../internals/object-get-prototype-of");C=C("../internals/correct-prototype-getter"),_({target:"Object",stat:!0,forced:d(function(){m(1)}),sham:!C},{getPrototypeOf:function(x){return m(p(x))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(o,V,w){var _=o("../internals/export"),d=o("../internals/to-object"),p=o("../internals/object-keys");_({target:"Object",stat:!0,forced:o("../internals/fails")(function(){p(1)})},{keys:function(m){return p(d(m))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(p,V,w){var _=p("../internals/to-string-tag-support"),d=p("../internals/redefine");p=p("../internals/object-to-string"),_||d(Object.prototype,"toString",p,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function($t,V,w){"use strict";var _,d,p,m,C=$t("../internals/export"),x=$t("../internals/is-pure"),s=$t("../internals/global"),a=$t("../internals/get-built-in"),h=$t("../internals/native-promise-constructor"),c=$t("../internals/redefine"),u=$t("../internals/redefine-all"),l=$t("../internals/set-to-string-tag"),y=$t("../internals/set-species"),f=$t("../internals/is-object"),b=$t("../internals/a-function"),D=$t("../internals/an-instance"),B=$t("../internals/classof-raw"),F=$t("../internals/inspect-source"),j=$t("../internals/iterate"),k=$t("../internals/check-correctness-of-iteration"),U=$t("../internals/species-constructor"),T=$t("../internals/task").set,I=$t("../internals/microtask"),M=$t("../internals/promise-resolve"),q=$t("../internals/host-report-errors"),K=$t("../internals/new-promise-capability"),Y=$t("../internals/perform"),ie=$t("../internals/internal-state"),te=$t("../internals/is-forced"),Ot=$t("../internals/well-known-symbol"),z=$t("../internals/engine-v8-version"),oe=Ot("species"),le="Promise",Ee=ie.get,W=ie.set,R=ie.getterFor(le),ne=h,ue=s.TypeError,we=s.document,je=s.process,Be=a("fetch"),We=K.f,Oe=We,Pe="process"==B(je),$e=!!(we&&we.createEvent&&s.dispatchEvent),ke="unhandledrejection",jt=(Ot=($t=te(le,function(){var Dt,pt;return F(ne)===String(ne)&&(66===z||!Pe&&"function"!=typeof PromiseRejectionEvent)||!((!x||ne.prototype.finally)&&(51<=z&&/native code/.test(ne)||(pt=function(Re){Re(function(){},function(){})},((Dt=ne.resolve(1)).constructor={})[oe]=pt,Dt.then(function(){})instanceof pt)))}))||!k(function(Dt){ne.all(Dt).catch(function(){})}),function(Dt){var pt;return!(!f(Dt)||"function"!=typeof(pt=Dt.then))&&pt}),Tt=function(Dt,pt,Re){var Ne;pt.notified||(pt.notified=!0,Ne=pt.reactions,I(function(){for(var Me,Ye,vt=pt.value,kt=1==pt.state,Lt=0;Ne.length>Lt;){var tn,bn,gn,Pt=Ne[Lt++],yt=kt?Pt.ok:Pt.fail,it=Pt.resolve,Xe=Pt.reject,at=Pt.domain;try{yt?(kt||(2===pt.rejection&&function(It,Yt){T.call(s,function(){Pe?je.emit("rejectionHandled",It):ge("rejectionhandled",It,Yt.value)})}(Dt,pt),pt.rejection=1),!0===yt?tn=vt:(at&&at.enter(),tn=yt(vt),at&&(at.exit(),gn=!0)),tn===Pt.promise?Xe(ue("Promise-chain cycle")):(bn=jt(tn))?bn.call(tn,it,Xe):it(tn)):Xe(vt)}catch(It){at&&!gn&&at.exit(),Xe(It)}}pt.reactions=[],pt.notified=!1,Re&&!pt.rejection&&(Me=Dt,Ye=pt,T.call(s,function(){var It=Ye.value,Yt=Je(Ye);if(Yt&&(Yt=Y(function(){Pe?je.emit("unhandledRejection",It,Me):ge(ke,Me,It)}),Ye.rejection=Pe||Je(Ye)?2:1,Yt.error))throw Yt.value}))}))},ge=function(Dt,pt,Re){var Ne;$e?((Ne=we.createEvent("Event")).promise=pt,Ne.reason=Re,Ne.initEvent(Dt,!1,!0),s.dispatchEvent(Ne)):Ne={promise:pt,reason:Re},(pt=s["on"+Dt])?pt(Ne):Dt===ke&&q("Unhandled promise rejection",Re)},Je=function(Dt){return 1!==Dt.rejection&&!Dt.parent},ut=function(Dt,pt,Re,Ne){return function(Me){Dt(pt,Re,Me,Ne)}},Rt=function(Dt,pt,Re,Ne){pt.done||(pt.done=!0,(pt=Ne||pt).value=Re,pt.state=2,Tt(Dt,pt,!0))},Ze=function(Dt,pt,Re,Ne){if(!pt.done){pt.done=!0,Ne&&(pt=Ne);try{if(Dt===Re)throw ue("Promise can't be resolved itself");var Me=jt(Re);Me?I(function(){var Ye={done:!1};try{Me.call(Re,ut(Ze,Dt,Ye,pt),ut(Rt,Dt,Ye,pt))}catch(vt){Rt(Dt,Ye,vt,pt)}}):(pt.value=Re,pt.state=1,Tt(Dt,pt,!1))}catch(Ye){Rt(Dt,{done:!1},Ye,pt)}}};$t&&(ne=function(Dt){D(this,ne,le),b(Dt),_.call(this);var pt=Ee(this);try{Dt(ut(Ze,this,pt),ut(Rt,this,pt))}catch(Re){Rt(this,pt,Re)}},(_=function(Dt){W(this,{type:le,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(ne.prototype,{then:function(Dt,pt){var Re=R(this),Ne=We(U(this,ne));return Ne.ok="function"!=typeof Dt||Dt,Ne.fail="function"==typeof pt&&pt,Ne.domain=Pe?je.domain:void 0,Re.parent=!0,Re.reactions.push(Ne),0!=Re.state&&Tt(this,Re,!1),Ne.promise},catch:function(Dt){return this.then(void 0,Dt)}}),d=function(){var Dt=new _,pt=Ee(Dt);this.promise=Dt,this.resolve=ut(Ze,Dt,pt),this.reject=ut(Rt,Dt,pt)},K.f=We=function(Dt){return Dt===ne||Dt===p?new d:Oe(Dt)},x||"function"!=typeof h||(m=h.prototype.then,c(h.prototype,"then",function(Dt,pt){var Re=this;return new ne(function(Ne,Me){m.call(Re,Ne,Me)}).then(Dt,pt)},{unsafe:!0}),"function"==typeof Be&&C({global:!0,enumerable:!0,forced:!0},{fetch:function(Dt){return M(ne,Be.apply(s,arguments))}}))),C({global:!0,wrap:!0,forced:$t},{Promise:ne}),l(ne,le,!1,!0),y(le),p=a(le),C({target:le,stat:!0,forced:$t},{reject:function(Dt){var pt=We(this);return pt.reject.call(void 0,Dt),pt.promise}}),C({target:le,stat:!0,forced:x||$t},{resolve:function(Dt){return M(x&&this===p?ne:this,Dt)}}),C({target:le,stat:!0,forced:Ot},{all:function(Dt){var pt=this,Re=We(pt),Ne=Re.resolve,Me=Re.reject,Ye=Y(function(){var vt=b(pt.resolve),kt=[],Lt=0,tn=1;j(Dt,function(bn){var gn=Lt++,Pt=!1;kt.push(void 0),tn++,vt.call(pt,bn).then(function(yt){Pt||(Pt=!0,kt[gn]=yt,--tn||Ne(kt))},Me)}),--tn||Ne(kt)});return Ye.error&&Me(Ye.value),Re.promise},race:function(Dt){var pt=this,Re=We(pt),Ne=Re.reject,Me=Y(function(){var Ye=b(pt.resolve);j(Dt,function(vt){Ye.call(pt,vt).then(Re.resolve,Ne)})});return Me.error&&Ne(Me.value),Re.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(s,V,w){var _=s("../internals/export"),u=s("../internals/get-built-in"),d=s("../internals/a-function"),p=s("../internals/an-object"),m=s("../internals/is-object"),C=s("../internals/object-create"),x=s("../internals/function-bind"),a=(s=s("../internals/fails"),u("Reflect","construct")),h=s(function(){function l(){}return!(a(function(){},[],l)instanceof l)}),c=!s(function(){a(function(){})});_({target:"Reflect",stat:!0,forced:u=h||c,sham:u},{construct:function(l,y){d(l),p(y);var f=arguments.length<3?l:d(arguments[2]);if(c&&!h)return a(l,y,f);if(l==f){switch(y.length){case 0:return new l;case 1:return new l(y[0]);case 2:return new l(y[0],y[1]);case 3:return new l(y[0],y[1],y[2]);case 4:return new l(y[0],y[1],y[2],y[3])}var b=[null];return b.push.apply(b,y),new(x.apply(l,b))}return f=C(m(b=f.prototype)?b:Object.prototype),b=Function.apply.call(l,f,y),m(b)?b:f}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(o,V,w){var _=o("../internals/export"),d=o("../internals/is-object"),p=o("../internals/an-object"),m=o("../internals/has"),C=o("../internals/object-get-own-property-descriptor"),x=o("../internals/object-get-prototype-of");_({target:"Reflect",stat:!0},{get:function s(a,h){var c,u=arguments.length<3?a:arguments[2];return p(a)===u?a[h]:(c=C.f(a,h))?m(c,"value")?c.value:void 0===c.get?void 0:c.get.call(u):d(c=x(a))?s(c,h,u):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(o,V,w){var _=o("../internals/descriptors"),d=o("../internals/global"),p=o("../internals/is-forced"),m=o("../internals/inherit-if-required"),C=o("../internals/object-define-property").f,x=o("../internals/object-get-own-property-names").f,s=o("../internals/is-regexp"),a=o("../internals/regexp-flags"),h=o("../internals/regexp-sticky-helpers"),c=o("../internals/redefine"),u=o("../internals/fails"),l=o("../internals/internal-state").set,y=o("../internals/set-species"),f=o("../internals/well-known-symbol")("match"),b=d.RegExp,D=b.prototype,B=/a/g,F=/a/g,j=new b(B)!==B,k=h.UNSUPPORTED_Y;if(_&&p("RegExp",!j||k||u(function(){return F[f]=!1,b(B)!=B||b(F)==F||"/a/i"!=b(B,"i")}))){for(var U=function(M,q){var K,Y=this instanceof U,ie=s(M),te=void 0===q;return!Y&&ie&&M.constructor===U&&te?M:(j?ie&&!te&&(M=M.source):M instanceof U&&(te&&(q=a.call(M)),M=M.source),k&&(K=!!q&&-1<q.indexOf("y"))&&(q=q.replace(/y/g,"")),ie=m(j?new b(M,q):b(M,q),Y?this:D,U),k&&K&&l(ie,{sticky:K}),ie)},T=x(b),I=0;T.length>I;)!function(M){M in U||C(U,M,{configurable:!0,get:function(){return b[M]},set:function(q){b[M]=q}})}(T[I++]);(D.constructor=U).prototype=D,c(d,"RegExp",U)}y("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(d,V,w){"use strict";var _=d("../internals/export");d=d("../internals/regexp-exec"),_({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(m,V,w){"use strict";var _=m("../internals/redefine"),d=m("../internals/an-object"),s=m("../internals/fails"),p=m("../internals/regexp-flags"),C=(m="toString",RegExp.prototype),x=C[m];((s=s(function(){return"/a/b"!=x.call({source:"a",flags:"b"})}))||x.name!=m)&&_(RegExp.prototype,m,function(){var h=d(this),c=String(h.source),u=h.flags;return"/"+c+"/"+String(void 0===u&&h instanceof RegExp&&!("flags"in C)?p.call(h):u)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(d,V,w){"use strict";var _=d("../internals/collection");d=d("../internals/collection-strong"),V.exports=_("Set",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},d)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(x,V,w){"use strict";var _=x("../internals/export"),d=x("../internals/object-get-own-property-descriptor").f,p=x("../internals/to-length"),m=x("../internals/not-a-regexp"),C=x("../internals/require-object-coercible"),h=x("../internals/correct-is-regexp-logic"),s=(x=x("../internals/is-pure"),"".endsWith),a=Math.min;h=h("endsWith"),_({target:"String",proto:!0,forced:!(!x&&!h&&(_=d(String.prototype,"endsWith"))&&!_.writable||h)},{endsWith:function(c){var u=String(C(this)),l=(m(c),1<arguments.length?arguments[1]:void 0),y=p(u.length);return l=void 0===l?y:a(p(l),y),y=String(c),s?s.call(u,y,l):u.slice(l-y.length,l)===y}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(o,V,w){"use strict";var _=o("../internals/export"),d=o("../internals/not-a-regexp"),p=o("../internals/require-object-coercible");_({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(m){return!!~String(p(this)).indexOf(d(m),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(p,V,w){"use strict";var _=p("../internals/string-multibyte").charAt,d=p("../internals/internal-state"),m=(p=p("../internals/define-iterator"),"String Iterator"),C=d.set,x=d.getterFor(m);p(String,"String",function(s){C(this,{type:m,string:String(s),index:0})},function(){var s=x(this),a=s.string,h=s.index;return h>=a.length?{value:void 0,done:!0}:(a=_(a,h),s.index+=a.length,{value:a,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(o,V,w){"use strict";var _=o("../internals/fix-regexp-well-known-symbol-logic"),d=o("../internals/an-object"),p=o("../internals/to-length"),m=o("../internals/require-object-coercible"),C=o("../internals/advance-string-index"),x=o("../internals/regexp-exec-abstract");_("match",1,function(s,a,h){return[function(c){var u=m(this),l=null==c?void 0:c[s];return void 0!==l?l.call(c,u):new RegExp(c)[s](String(u))},function(c){var u=h(a,c,this);if(u.done)return u.value;var l=d(c),y=String(this);if(!l.global)return x(l,y);for(var f=l.unicode,b=[],D=l.lastIndex=0;null!==(B=x(l,y));){var B=String(B[0]);""===(b[D]=B)&&(l.lastIndex=C(y,p(l.lastIndex),f)),D++}return 0===D?null:b}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(o,V,w){"use strict";var _=o("../internals/export"),d=o("../internals/string-pad").start;_({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(p){return d(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(o,V,w){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(o,V,w){"use strict";var _=o("../internals/fix-regexp-well-known-symbol-logic"),d=o("../internals/an-object"),p=o("../internals/to-object"),m=o("../internals/to-length"),C=o("../internals/to-integer"),x=o("../internals/require-object-coercible"),s=o("../internals/advance-string-index"),a=o("../internals/regexp-exec-abstract"),h=Math.max,c=Math.min,u=Math.floor,l=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;_("replace",2,function(f,b,D,B){var F=B.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,j=B.REPLACE_KEEPS_$0,k=F?"$":"$0";return[function(U,T){var I=x(this),M=null==U?void 0:U[f];return void 0!==M?M.call(U,I,T):b.call(String(I),U,T)},function(U,T){if(!F&&j||"string"==typeof T&&-1===T.indexOf(k)){var I=D(b,U,this,T);if(I.done)return I.value}for(var M,q=d(U),K=String(this),Y="function"==typeof T,ie=(Y||(T=String(T)),q.global),te=(ie&&(M=q.unicode,q.lastIndex=0),[]);null!==(W=a(q,K))&&(te.push(W),ie);)""===String(W[0])&&(q.lastIndex=s(K,m(q.lastIndex),M));for(var z,oe="",le=0,Ee=0;Ee<te.length;Ee++){for(var W=te[Ee],R=String(W[0]),ne=h(c(C(W.index),K.length),0),ue=[],we=1;we<W.length;we++)ue.push(void 0===(z=W[we])?z:String(z));var je=W.groups,Be=Y?(Be=[R].concat(ue,ne,K),void 0!==je&&Be.push(je),String(T.apply(void 0,Be))):function(We,Oe,Pe,$e,ke,Qe){var tt=Pe+We.length,_t=$e.length,gt=y;return void 0!==ke&&(ke=p(ke),gt=l),b.call(Qe,gt,function(xt,$t){var Ot;switch($t.charAt(0)){case"$":return"$";case"&":return We;case"`":return Oe.slice(0,Pe);case"'":return Oe.slice(tt);case"<":Ot=ke[$t.slice(1,-1)];break;default:var jt,Tt=+$t;if(0==Tt)return xt;if(_t<Tt)return 0!==(jt=u(Tt/10))&&jt<=_t?void 0===$e[jt-1]?$t.charAt(1):$e[jt-1]+$t.charAt(1):xt;Ot=$e[Tt-1]}return void 0===Ot?"":Ot})}(R,K,ne,ue,je,T);le<=ne&&(oe+=K.slice(le,ne)+Be,le=ne+R.length)}return oe+K.slice(le)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(o,V,w){"use strict";var _=o("../internals/fix-regexp-well-known-symbol-logic"),d=o("../internals/an-object"),p=o("../internals/require-object-coercible"),m=o("../internals/same-value"),C=o("../internals/regexp-exec-abstract");_("search",1,function(x,s,a){return[function(h){var c=p(this),u=null==h?void 0:h[x];return void 0!==u?u.call(h,c):new RegExp(h)[x](String(c))},function(h){var c,u=a(s,h,this);return u.done?u.value:(u=d(h),h=String(this),m(c=u.lastIndex,0)||(u.lastIndex=0),h=C(u,h),m(u.lastIndex,c)||(u.lastIndex=c),null===h?-1:h.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(c,V,w){"use strict";var _=c("../internals/fix-regexp-well-known-symbol-logic"),d=c("../internals/is-regexp"),p=c("../internals/an-object"),m=c("../internals/require-object-coercible"),C=c("../internals/species-constructor"),x=c("../internals/advance-string-index"),s=c("../internals/to-length"),a=c("../internals/regexp-exec-abstract"),h=c("../internals/regexp-exec"),u=(c=c("../internals/fails"),[].push),l=Math.min,y=4294967295,f=!c(function(){return!RegExp(y,"y")});_("split",2,function(b,D,B){var F="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(j,k){var U=String(m(this)),T=void 0===k?y:k>>>0;if(0==T)return[];if(void 0===j)return[U];if(!d(j))return D.call(U,j,T);for(var I,M,q,K=[],Y=(k=(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.unicode?"u":"")+(j.sticky?"y":""),0),ie=new RegExp(j.source,k+"g");(I=h.call(ie,U))&&!(Y<(M=ie.lastIndex)&&(K.push(U.slice(Y,I.index)),1<I.length&&I.index<U.length&&u.apply(K,I.slice(1)),q=I[0].length,Y=M,K.length>=T));)ie.lastIndex===I.index&&ie.lastIndex++;return Y===U.length?!q&&ie.test("")||K.push(""):K.push(U.slice(Y)),K.length>T?K.slice(0,T):K}:"0".split(void 0,0).length?function(j,k){return void 0===j&&0===k?[]:D.call(this,j,k)}:D;return[function(j,k){var U=m(this),T=null==j?void 0:j[b];return void 0!==T?T.call(j,U,k):F.call(String(U),j,k)},function(I,k){if((U=B(F,I,this,k,F!==D)).done)return U.value;var U=p(I),T=String(this),M=(I=C(U,RegExp),U.unicode),K=new I(f?U:"^(?:"+U.source+")",(U.ignoreCase?"i":"")+(U.multiline?"m":"")+(U.unicode?"u":"")+(f?"y":"g")),Y=void 0===k?y:k>>>0;if(0==Y)return[];if(0===T.length)return null===a(K,T)?[T]:[];for(var ie=0,te=0,z=[];te<T.length;){K.lastIndex=f?te:0;var oe,le=a(K,f?T:T.slice(te));if(null===le||(oe=l(s(K.lastIndex+(f?0:te)),T.length))===ie)te=x(T,te,M);else{if(z.push(T.slice(ie,te)),z.length===Y)return z;for(var Ee=1;Ee<=le.length-1;Ee++)if(z.push(le[Ee]),z.length===Y)return z;te=ie=oe}}return z.push(T.slice(ie)),z}]},!f)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(x,V,w){"use strict";var _=x("../internals/export"),d=x("../internals/object-get-own-property-descriptor").f,p=x("../internals/to-length"),m=x("../internals/not-a-regexp"),C=x("../internals/require-object-coercible"),h=x("../internals/correct-is-regexp-logic"),s=(x=x("../internals/is-pure"),"".startsWith),a=Math.min;h=h("startsWith"),_({target:"String",proto:!0,forced:!(!x&&!h&&(_=d(String.prototype,"startsWith"))&&!_.writable||h)},{startsWith:function(y){var u=String(C(this)),l=(m(y),p(a(1<arguments.length?arguments[1]:void 0,u.length)));return y=String(y),s?s.call(u,y,l):u.slice(l,l+y.length)===y}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(o,V,w){"use strict";var _=o("../internals/export"),d=o("../internals/create-html");_({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return d(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(o,V,w){"use strict";var _=o("../internals/export"),d=o("../internals/string-trim").trim;_({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return d(this)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(l,V,w){"use strict";var _,d,p,m,C,x=l("../internals/export"),s=l("../internals/descriptors"),a=l("../internals/global"),h=l("../internals/has"),c=l("../internals/is-object"),u=l("../internals/object-define-property").f,y=(l=l("../internals/copy-constructor-properties"),a.Symbol);!s||"function"!=typeof y||"description"in y.prototype&&void 0===y().description||(_={},l(d=function(){var f=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),b=this instanceof d?new y(f):void 0===f?y():y(f);return""===f&&(_[b]=!0),b},y),(a=d.prototype=y.prototype).constructor=d,p=a.toString,m="Symbol(test)"==String(y("test")),C=/^Symbol\((.*)\)[^)]+$/,u(a,"description",{configurable:!0,get:function(){var f=c(this)?this.valueOf():this,b=p.call(f);return h(_,f)?"":""===(f=m?b.slice(7,-1):b.replace(C,"$1"))?void 0:f}}),x({global:!0,forced:!0},{Symbol:d}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(o,V,w){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function(Oe,V,w){"use strict";function _(Me,Ye){var vt=Ot[Me]=U(Qe[We]);return Pe(vt,{type:Be,tag:Me,description:Ye}),h||(vt.description=Ye),vt}function d(Me,kt){D(Me);var vt=F(kt);return kt=T(vt).concat(Ne(vt)),we(kt,function(Lt){h&&!Re.call(vt,Lt)||pt(Me,Lt,vt[Lt])}),Me}function p(kt,Lt){var vt;if(kt=F(kt),Lt=j(Lt,!0),kt!==ke||!y(Ot,Lt)||y(jt,Lt))return!(vt=_t(kt,Lt))||!y(Ot,Lt)||y(kt,je)&&kt[je][Lt]||(vt.enumerable=!0),vt}function m(Ye){Ye=xt(F(Ye));var vt=[];return we(Ye,function(kt){y(Ot,kt)||y(le,kt)||vt.push(kt)}),vt}var C=Oe("../internals/export"),x=Oe("../internals/global"),s=Oe("../internals/get-built-in"),a=Oe("../internals/is-pure"),h=Oe("../internals/descriptors"),c=Oe("../internals/native-symbol"),u=Oe("../internals/use-symbol-as-uid"),l=Oe("../internals/fails"),y=Oe("../internals/has"),f=Oe("../internals/is-array"),b=Oe("../internals/is-object"),D=Oe("../internals/an-object"),B=Oe("../internals/to-object"),F=Oe("../internals/to-indexed-object"),j=Oe("../internals/to-primitive"),k=Oe("../internals/create-property-descriptor"),U=Oe("../internals/object-create"),T=Oe("../internals/object-keys"),I=Oe("../internals/object-get-own-property-names"),M=Oe("../internals/object-get-own-property-names-external"),q=Oe("../internals/object-get-own-property-symbols"),K=Oe("../internals/object-get-own-property-descriptor"),Y=Oe("../internals/object-define-property"),ie=Oe("../internals/object-property-is-enumerable"),te=Oe("../internals/create-non-enumerable-property"),z=Oe("../internals/redefine"),oe=Oe("../internals/shared"),Je=Oe("../internals/shared-key"),le=Oe("../internals/hidden-keys"),Ee=Oe("../internals/uid"),W=Oe("../internals/well-known-symbol"),R=Oe("../internals/well-known-symbol-wrapped"),ne=Oe("../internals/define-well-known-symbol"),ue=Oe("../internals/set-to-string-tag"),ut=Oe("../internals/internal-state"),we=Oe("../internals/array-iteration").forEach,je=Je("hidden"),Be="Symbol",We="prototype",Pe=(Oe=W("toPrimitive"),ut.set),$e=ut.getterFor(Be),ke=Object[We],Qe=x.Symbol,tt=s("JSON","stringify"),_t=K.f,gt=Y.f,xt=M.f,$t=ie.f,Ot=oe("symbols"),jt=oe("op-symbols"),Tt=oe("string-to-symbol-registry"),ge=oe("symbol-to-string-registry"),Rt=(Je=oe("wks"),!(ut=x.QObject)||!ut[We]||!ut[We].findChild),Ze=h&&l(function(){return 7!=U(gt({},"a",{get:function(){return gt(this,"a",{value:7}).a}})).a})?function(Me,Ye,vt){var kt=_t(ke,Ye);kt&&delete ke[Ye],gt(Me,Ye,vt),kt&&Me!==ke&&gt(ke,Ye,kt)}:gt,Dt=u?function(Me){return"symbol"==typeof Me}:function(Me){return Object(Me)instanceof Qe},pt=function(Me,Ye,vt){return Me===ke&&pt(jt,Ye,vt),D(Me),Ye=j(Ye,!0),D(vt),(y(Ot,Ye)?(vt.enumerable?(y(Me,je)&&Me[je][Ye]&&(Me[je][Ye]=!1),vt=U(vt,{enumerable:k(0,!1)})):(y(Me,je)||gt(Me,je,k(1,{})),Me[je][Ye]=!0),Ze):gt)(Me,Ye,vt)},Re=function(Ye){Ye=j(Ye,!0);var vt=$t.call(this,Ye);return!(this===ke&&y(Ot,Ye)&&!y(jt,Ye))&&(!(vt||!y(this,Ye)||!y(Ot,Ye)||y(this,je)&&this[je][Ye])||vt)},Ne=function(vt){var Ye=vt===ke,kt=(vt=xt(Ye?jt:F(vt)),[]);return we(vt,function(Lt){!y(Ot,Lt)||Ye&&!y(ke,Lt)||kt.push(Ot[Lt])}),kt};c||(z((Qe=function(){if(this instanceof Qe)throw TypeError("Symbol is not a constructor");var Me=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Ye=Ee(Me),vt=function(kt){this===ke&&vt.call(jt,kt),y(this,je)&&y(this[je],Ye)&&(this[je][Ye]=!1),Ze(this,Ye,k(1,kt))};return h&&Rt&&Ze(ke,Ye,{configurable:!0,set:vt}),_(Ye,Me)})[We],"toString",function(){return $e(this).tag}),z(Qe,"withoutSetter",function(Me){return _(Ee(Me),Me)}),ie.f=Re,Y.f=pt,K.f=p,I.f=M.f=m,q.f=Ne,R.f=function(Me){return _(W(Me),Me)},h&&(gt(Qe[We],"description",{configurable:!0,get:function(){return $e(this).description}}),a||z(ke,"propertyIsEnumerable",Re,{unsafe:!0}))),C({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Qe}),we(T(Je),function(Me){ne(Me)}),C({target:Be,stat:!0,forced:!c},{for:function(vt){var Ye;return vt=String(vt),y(Tt,vt)?Tt[vt]:(Ye=Qe(vt),Tt[vt]=Ye,ge[Ye]=vt,Ye)},keyFor:function(Me){if(!Dt(Me))throw TypeError(Me+" is not a symbol");if(y(ge,Me))return ge[Me]},useSetter:function(){Rt=!0},useSimple:function(){Rt=!1}}),C({target:"Object",stat:!0,forced:!c,sham:!h},{create:function(Me,Ye){return void 0===Ye?U(Me):d(U(Me),Ye)},defineProperty:pt,defineProperties:d,getOwnPropertyDescriptor:p}),C({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:m,getOwnPropertySymbols:Ne}),C({target:"Object",stat:!0,forced:l(function(){q.f(1)})},{getOwnPropertySymbols:function(Me){return q.f(B(Me))}}),tt&&C({target:"JSON",stat:!0,forced:!c||l(function(){var Me=Qe();return"[null]"!=tt([Me])||"{}"!=tt({a:Me})||"{}"!=tt(Object(Me))})},{stringify:function(Me,Ye,vt){for(var kt,Lt=[Me],tn=1;tn<arguments.length;)Lt.push(arguments[tn++]);if((b(kt=Ye)||void 0!==Me)&&!Dt(Me))return f(Ye)||(Ye=function(bn,gn){if("function"==typeof kt&&(gn=kt.call(this,bn,gn)),!Dt(gn))return gn}),Lt[1]=Ye,tt.apply(null,Lt)}}),Qe[We][Oe]||te(Qe[We],Oe,Qe[We].valueOf),ue(Qe,Be),le[je]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-copy-within"),p=_.aTypedArray;(0,_.exportTypedArrayMethod)("copyWithin",function(m,C){return d.call(p(this),m,C,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-iteration").every,p=_.aTypedArray;(0,_.exportTypedArrayMethod)("every",function(m){return d(p(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-fill"),p=_.aTypedArray;(0,_.exportTypedArrayMethod)("fill",function(m){return d.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-iteration").filter,p=o("../internals/species-constructor"),m=_.aTypedArray,C=_.aTypedArrayConstructor;(0,_.exportTypedArrayMethod)("filter",function(x){for(var s=d(m(this),x,1<arguments.length?arguments[1]:void 0),a=(x=p(this,this.constructor),0),h=s.length,c=new(C(x))(h);a<h;)c[a]=s[a++];return c})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-iteration").findIndex,p=_.aTypedArray;(0,_.exportTypedArrayMethod)("findIndex",function(m){return d(p(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-iteration").find,p=_.aTypedArray;(0,_.exportTypedArrayMethod)("find",function(m){return d(p(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(o,V,w){o("../internals/typed-array-constructor")("Float32",function(_){return function(d,p,m){return _(this,d,p,m)}})},{"../internals/typed-array-constructor":143}],217:[function(o,V,w){o("../internals/typed-array-constructor")("Float64",function(_){return function(d,p,m){return _(this,d,p,m)}})},{"../internals/typed-array-constructor":143}],218:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-iteration").forEach,p=_.aTypedArray;(0,_.exportTypedArrayMethod)("forEach",function(m){d(p(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-includes").includes,p=_.aTypedArray;(0,_.exportTypedArrayMethod)("includes",function(m){return d(p(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-includes").indexOf,p=_.aTypedArray;(0,_.exportTypedArrayMethod)("indexOf",function(m){return d(p(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(o,V,w){o("../internals/typed-array-constructor")("Int16",function(_){return function(d,p,m){return _(this,d,p,m)}})},{"../internals/typed-array-constructor":143}],222:[function(o,V,w){o("../internals/typed-array-constructor")("Int32",function(_){return function(d,p,m){return _(this,d,p,m)}})},{"../internals/typed-array-constructor":143}],223:[function(d,V,w){"use strict";function _(){return p.call(x(this))}var h=d("../internals/global"),a=d("../internals/array-buffer-view-core"),s=d("../modules/es.array.iterator"),p=(d=d("../internals/well-known-symbol")("iterator"),s.values),m=s.keys,C=s.entries,x=a.aTypedArray;s=a.exportTypedArrayMethod,h=!!(a=(h=h.Uint8Array)&&h.prototype[d])&&("values"==a.name||null==a.name),s("entries",function(){return C.call(x(this))}),s("keys",function(){return m.call(x(this))}),s("values",_,!h),s(d,_,!h)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(d,V,w){"use strict";var _=(d=d("../internals/array-buffer-view-core")).aTypedArray,p=[].join;(d=d.exportTypedArrayMethod)("join",function(m){return p.apply(_(this),arguments)})},{"../internals/array-buffer-view-core":12}],225:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-last-index-of"),p=_.aTypedArray;(0,_.exportTypedArrayMethod)("lastIndexOf",function(m){return d.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-iteration").map,p=o("../internals/species-constructor"),m=_.aTypedArray,C=_.aTypedArrayConstructor;(0,_.exportTypedArrayMethod)("map",function(x){return d(m(this),x,1<arguments.length?arguments[1]:void 0,function(s,a){return new(C(p(s,s.constructor)))(a)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-reduce").right,p=_.aTypedArray;(0,_.exportTypedArrayMethod)("reduceRight",function(m){return d(p(this),m,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-reduce").left,p=_.aTypedArray;(0,_.exportTypedArrayMethod)("reduce",function(m){return d(p(this),m,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(d,V,w){"use strict";var _=(d=d("../internals/array-buffer-view-core")).aTypedArray,p=(d=d.exportTypedArrayMethod,Math.floor);d("reverse",function(){for(var m,C=_(this).length,x=p(C/2),s=0;s<x;)m=this[s],this[s++]=this[--C],this[C]=m;return this})},{"../internals/array-buffer-view-core":12}],230:[function(C,V,w){"use strict";var _=C("../internals/array-buffer-view-core"),d=C("../internals/to-length"),p=C("../internals/to-offset"),m=C("../internals/to-object"),x=(C=C("../internals/fails"),_.aTypedArray);(0,_.exportTypedArrayMethod)("set",function(s){x(this);var a=p(1<arguments.length?arguments[1]:void 0,1),h=this.length,c=m(s),u=d(c.length),l=0;if(h<u+a)throw RangeError("Wrong length");for(;l<u;)this[a+l]=c[l++]},C(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(d,V,w){"use strict";var C=d("../internals/array-buffer-view-core"),_=d("../internals/species-constructor"),p=(d=d("../internals/fails"),C.aTypedArray),m=C.aTypedArrayConstructor,x=[].slice;(C=C.exportTypedArrayMethod)("slice",function(s,a){for(var h=x.call(p(this),s,a),c=(s=_(this,this.constructor),0),u=h.length,l=new(m(s))(u);c<u;)l[c]=h[c++];return l},d(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/array-iteration").some,p=_.aTypedArray;(0,_.exportTypedArrayMethod)("some",function(m){return d(p(this),m,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(d,V,w){"use strict";var _=(d=d("../internals/array-buffer-view-core")).aTypedArray,p=[].sort;(d=d.exportTypedArrayMethod)("sort",function(m){return p.call(_(this),m)})},{"../internals/array-buffer-view-core":12}],234:[function(o,V,w){"use strict";var _=o("../internals/array-buffer-view-core"),d=o("../internals/to-length"),p=o("../internals/to-absolute-index"),m=o("../internals/species-constructor"),C=_.aTypedArray;(0,_.exportTypedArrayMethod)("subarray",function(c,s){var a=C(this),h=a.length;return c=p(c,h),new(m(a,a.constructor))(a.buffer,a.byteOffset+c*a.BYTES_PER_ELEMENT,d((void 0===s?h:p(s,h))-c))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(d,V,w){"use strict";var C=d("../internals/global"),_=d("../internals/array-buffer-view-core"),p=(d=d("../internals/fails"),C.Int8Array),m=_.aTypedArray,x=(C=_.exportTypedArrayMethod,[].toLocaleString),s=[].slice,a=!!p&&d(function(){x.call(new p(1))});C("toLocaleString",function(){return x.apply(a?s.call(m(this)):m(this),arguments)},d(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!d(function(){p.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(d,V,w){"use strict";var _=d("../internals/array-buffer-view-core").exportTypedArrayMethod,C=d("../internals/fails"),p=(d=(d=d("../internals/global").Uint8Array)&&d.prototype||{},[].toString),m=[].join;C(function(){p.call({})})&&(p=function(){return m.call(this)}),_("toString",p,C=d.toString!=p)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(o,V,w){o("../internals/typed-array-constructor")("Uint16",function(_){return function(d,p,m){return _(this,d,p,m)}})},{"../internals/typed-array-constructor":143}],238:[function(o,V,w){o("../internals/typed-array-constructor")("Uint32",function(_){return function(d,p,m){return _(this,d,p,m)}})},{"../internals/typed-array-constructor":143}],239:[function(o,V,w){o("../internals/typed-array-constructor")("Uint8",function(_){return function(d,p,m){return _(this,d,p,m)}})},{"../internals/typed-array-constructor":143}],240:[function(o,V,w){o("../internals/typed-array-constructor")("Uint8",function(_){return function(d,p,m){return _(this,d,p,m)}},!0)},{"../internals/typed-array-constructor":143}],241:[function(y,D,w){"use strict";function _(B){return function(){return B(this,arguments.length?arguments[0]:void 0)}}var d,p,m,C,x,f=y("../internals/global"),s=y("../internals/redefine-all"),a=y("../internals/internal-metadata"),h=y("../internals/collection"),c=y("../internals/collection-weak"),u=y("../internals/is-object"),l=y("../internals/internal-state").enforce,b=(y=y("../internals/native-weak-map"),f=!f.ActiveXObject&&"ActiveXObject"in f,Object.isExtensible);D=D.exports=h("WeakMap",_,c),y&&f&&(d=c.getConstructor(_,"WeakMap",!0),a.REQUIRED=!0,p=(h=D.prototype).delete,m=h.has,C=h.get,x=h.set,s(h,{delete:function(B){var F;return u(B)&&!b(B)?((F=l(this)).frozen||(F.frozen=new d),p.call(this,B)||F.frozen.delete(B)):p.call(this,B)},has:function(B){var F;return u(B)&&!b(B)?((F=l(this)).frozen||(F.frozen=new d),m.call(this,B)||F.frozen.has(B)):m.call(this,B)},get:function(B){var F;return!u(B)||b(B)||((F=l(this)).frozen||(F.frozen=new d),m.call(this,B))?C.call(this,B):F.frozen.get(B)},set:function(B,F){var j;return!u(B)||b(B)||((j=l(this)).frozen||(j.frozen=new d),m.call(this,B))?x.call(this,B,F):j.frozen.set(B,F),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(o,V,w){var _,d=o("../internals/global"),p=o("../internals/dom-iterables"),m=o("../internals/array-for-each"),C=o("../internals/create-non-enumerable-property");for(_ in p){var x;if((x=(x=d[_])&&x.prototype)&&x.forEach!==m)try{C(x,"forEach",m)}catch{x.forEach=m}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(x,V,w){var _,d=x("../internals/global"),p=x("../internals/dom-iterables"),m=x("../modules/es.array.iterator"),C=x("../internals/create-non-enumerable-property"),s=(x=x("../internals/well-known-symbol"))("iterator"),a=x("toStringTag"),h=m.values;for(_ in p){var c=d[_],u=c&&c.prototype;if(u){if(u[s]!==h)try{C(u,s,h)}catch{u[s]=h}if(u[a]||C(u,a,_),p[_])for(var l in m)if(u[l]!==m[l])try{C(u,l,m[l])}catch{u[l]=m[l]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(je,V,w){"use strict";function _(Be){try{return decodeURIComponent(Be)}catch{return Be}}function d(Be){return ne[Be]}function p(Be){return encodeURIComponent(Be).replace(R,d)}function m(Be){this.entries.length=0,ue(this.entries,Be)}function C(Be,We){if(Be<We)throw TypeError("Not enough arguments")}function x(){f(this,x,Y);var Be,We,Oe,Pe,$e,ke,Qe,tt,_t=0<arguments.length?arguments[0]:void 0,gt=[];if(te(this,{type:Y,entries:gt,updateURL:function(){},updateSearchParams:m}),void 0!==_t)if(j(_t))if("function"==typeof(Be=I(_t)))for(Oe=(We=Be.call(_t)).next;!(Pe=Oe.call(We)).done;){if((ke=($e=(Pe=T(F(Pe.value))).next).call(Pe)).done||(Qe=$e.call(Pe)).done||!$e.call(Pe).done)throw TypeError("Expected sequence with length 2");gt.push({key:ke.value+"",value:Qe.value+""})}else for(tt in _t)b(_t,tt)&&gt.push({key:tt,value:_t[tt]+""});else ue(gt,"string"==typeof _t?"?"===_t.charAt(0)?_t.slice(1):_t:_t+"")}je("../modules/es.array.iterator");var s=je("../internals/export"),K=je("../internals/get-built-in"),a=je("../internals/native-url"),h=je("../internals/redefine"),c=je("../internals/redefine-all"),u=je("../internals/set-to-string-tag"),l=je("../internals/create-iterator-constructor"),y=je("../internals/internal-state"),f=je("../internals/an-instance"),b=je("../internals/has"),D=je("../internals/function-bind-context"),B=je("../internals/classof"),F=je("../internals/an-object"),j=je("../internals/is-object"),k=je("../internals/object-create"),U=je("../internals/create-property-descriptor"),T=je("../internals/get-iterator"),I=je("../internals/get-iterator-method"),M=(je=je("../internals/well-known-symbol"),K("fetch")),q=K("Headers"),Y=(K=je("iterator"),"URLSearchParams"),ie=Y+"Iterator",te=y.set,z=y.getterFor(Y),oe=y.getterFor(ie),le=/\+/g,Ee=Array(4),W=function(Be){var We,Oe=Be.replace(le," "),Pe=4;try{return decodeURIComponent(Oe)}catch{for(;Pe;)Oe=Oe.replace((We=Pe--,Ee[We-1]||(Ee[We-1]=RegExp("((?:%[\\da-f]{2}){"+We+"})","gi"))),_);return Oe}},R=/[!'()~]|%20/g,ne={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(Be,We){if(We)for(var Oe,Pe=We.split("&"),$e=0;$e<Pe.length;)(Oe=Pe[$e++]).length&&(Oe=Oe.split("="),Be.push({key:W(Oe.shift()),value:W(Oe.join("="))}))},we=l(function(Be,We){te(this,{type:ie,iterator:T(z(Be).entries),kind:We})},"Iterator",function(){var We,Be=(We=oe(this)).kind,Oe=(We=We.iterator.next()).value;return We.done||(We.value="keys"===Be?Oe.key:"values"===Be?Oe.value:[Oe.key,Oe.value]),We});c(je=x.prototype,{append:function(Be,We){C(arguments.length,2);var Oe=z(this);Oe.entries.push({key:Be+"",value:We+""}),Oe.updateURL()},delete:function(Be){C(arguments.length,1);for(var We=z(this),Oe=We.entries,Pe=Be+"",$e=0;$e<Oe.length;)Oe[$e].key===Pe?Oe.splice($e,1):$e++;We.updateURL()},get:function(Be){C(arguments.length,1);for(var We=z(this).entries,Oe=Be+"",Pe=0;Pe<We.length;Pe++)if(We[Pe].key===Oe)return We[Pe].value;return null},getAll:function(Be){C(arguments.length,1);for(var We=z(this).entries,Oe=Be+"",Pe=[],$e=0;$e<We.length;$e++)We[$e].key===Oe&&Pe.push(We[$e].value);return Pe},has:function(Be){C(arguments.length,1);for(var We=z(this).entries,Oe=Be+"",Pe=0;Pe<We.length;)if(We[Pe++].key===Oe)return!0;return!1},set:function(Be,We){C(arguments.length,1);for(var Oe,Pe=z(this),$e=Pe.entries,ke=!1,Qe=Be+"",tt=We+"",_t=0;_t<$e.length;_t++)(Oe=$e[_t]).key===Qe&&(ke?$e.splice(_t--,1):(ke=!0,Oe.value=tt));ke||$e.push({key:Qe,value:tt}),Pe.updateURL()},sort:function(){for(var Be,We,Oe=z(this),Pe=Oe.entries,$e=Pe.slice(),ke=Pe.length=0;ke<$e.length;ke++){for(Be=$e[ke],We=0;We<ke;We++)if(Pe[We].key>Be.key){Pe.splice(We,0,Be);break}We===ke&&Pe.push(Be)}Oe.updateURL()},forEach:function(Be){for(var We,Oe=z(this).entries,Pe=D(Be,1<arguments.length?arguments[1]:void 0,3),$e=0;$e<Oe.length;)Pe((We=Oe[$e++]).value,We.key,this)},keys:function(){return new we(this,"keys")},values:function(){return new we(this,"values")},entries:function(){return new we(this,"entries")}},{enumerable:!0}),h(je,K,je.entries),h(je,"toString",function(){for(var Be,We=z(this).entries,Oe=[],Pe=0;Pe<We.length;)Be=We[Pe++],Oe.push(p(Be.key)+"="+p(Be.value));return Oe.join("&")},{enumerable:!0}),u(x,Y),s({global:!0,forced:!a},{URLSearchParams:x}),a||"function"!=typeof M||"function"!=typeof q||s({global:!0,enumerable:!0,forced:!0},{fetch:function($e){var We,Oe,Pe;return $e=[$e],1<arguments.length&&(j(We=arguments[1])&&B(Oe=We.body)===Y&&((Pe=We.headers?new q(We.headers):new q).has("content-type")||Pe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),We=k(We,{body:U(0,String(Oe)),headers:U(0,Pe)})),$e.push(We)),M.apply(this,$e)}}),V.exports={URLSearchParams:x,getState:z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(T,V,w){"use strict";function _(ye){var E,N,L,H;if("number"==typeof ye){for(E=[],N=0;N<4;N++)E.unshift(ye%256),ye=ie(ye/256);return E.join(".")}if("object"!=typeof ye)return ye;for(E="",L=Qe(ye),N=0;N<8;N++)H&&0===ye[N]||(H=H&&!1,L===N?(E+=N?":":"::",H=!0):(E+=ye[N].toString(16),N<7&&(E+=":")));return"["+E+"]"}function d(ye){return!ye.host||ye.cannotBeABaseURL||"file"==ye.scheme}function p(ye,E,N,L){var H,ee,Q,pe=N||Dt,Ie=0,He="",dt=!1,Jt=!1,un=!1;for(N||(ye.scheme="",ye.username="",ye.password="",ye.host=null,ye.port=null,ye.path=[],ye.query=null,ye.fragment=null,ye.cannotBeABaseURL=!1,E=E.replace(Pe,"")),E=E.replace($e,""),H=B(E);Ie<=H.length;){switch(ee=H[Ie],pe){case Dt:if(!ee||!W.test(ee)){if(N)return oe;pe=Re;continue}He+=ee.toLowerCase(),pe=pt;break;case pt:if(ee&&(R.test(ee)||"+"==ee||"-"==ee||"."==ee))He+=ee.toLowerCase();else{if(":"!=ee){if(N)return oe;He="",pe=Re,Ie=0;continue}if(N&&(jt(ye)!=b(Ot,He)||"file"==He&&(Tt(ye)||null!==ye.port)||"file"==ye.scheme&&!ye.host))return;if(ye.scheme=He,N)return void(jt(ye)&&Ot[ye.scheme]==ye.port&&(ye.port=null));He="","file"==ye.scheme?pe=yt:jt(ye)&&L&&L.scheme==ye.scheme?pe=Ne:jt(ye)?pe=kt:"/"==H[Ie+1]?(pe=Me,Ie++):(ye.cannotBeABaseURL=!0,ye.path.push(""),pe=Yt)}break;case Re:if(!L||L.cannotBeABaseURL&&"#"!=ee)return oe;if(L.cannotBeABaseURL&&"#"==ee){ye.scheme=L.scheme,ye.path=L.path.slice(),ye.query=L.query,ye.fragment="",ye.cannotBeABaseURL=!0,pe=Mt;break}pe="file"==L.scheme?yt:Ye;continue;case Ne:if("/"!=ee||"/"!=H[Ie+1]){pe=Ye;continue}pe=Lt,Ie++;break;case Me:if("/"==ee){pe=tn;break}pe=It;continue;case Ye:if(ye.scheme=L.scheme,ee==x)ye.username=L.username,ye.password=L.password,ye.host=L.host,ye.port=L.port,ye.path=L.path.slice(),ye.query=L.query;else if("/"==ee||"\\"==ee&&jt(ye))pe=vt;else if("?"==ee)ye.username=L.username,ye.password=L.password,ye.host=L.host,ye.port=L.port,ye.path=L.path.slice(),ye.query="",pe=et;else{if("#"!=ee){ye.username=L.username,ye.password=L.password,ye.host=L.host,ye.port=L.port,ye.path=L.path.slice(),ye.path.pop(),pe=It;continue}ye.username=L.username,ye.password=L.password,ye.host=L.host,ye.port=L.port,ye.path=L.path.slice(),ye.query=L.query,ye.fragment="",pe=Mt}break;case vt:if(!jt(ye)||"/"!=ee&&"\\"!=ee){if("/"!=ee){ye.username=L.username,ye.password=L.password,ye.host=L.host,ye.port=L.port,pe=It;continue}pe=tn}else pe=Lt;break;case kt:if(pe=Lt,"/"!=ee||"/"!=He.charAt(Ie+1))continue;Ie++;break;case Lt:if("/"==ee||"\\"==ee)break;pe=tn;continue;case tn:if("@"==ee){dt&&(He="%40"+He),dt=!0;for(var ln=B(He),fn=0;fn<ln.length;fn++){var kn=ln[fn];":"!=kn||un?(kn=$t(kn,xt),un?ye.password+=kn:ye.username+=kn):un=!0}He=""}else if(ee==x||"/"==ee||"?"==ee||"#"==ee||"\\"==ee&&jt(ye)){if(dt&&""==He)return z;Ie-=B(He).length+1,He="",pe=bn}else He+=ee;break;case bn:case gn:if(N&&"file"==ye.scheme){pe=Xe;continue}if(":"!=ee||Jt){if(ee==x||"/"==ee||"?"==ee||"#"==ee||"\\"==ee&&jt(ye)){if(jt(ye)&&""==He)return le;if(N&&""==He&&(Tt(ye)||null!==ye.port))return;if(Q=ke(ye,He))return Q;if(He="",pe=at,N)return;continue}"["==ee?Jt=!0:"]"==ee&&(Jt=!1),He+=ee}else{if(""==He)return le;if(Q=ke(ye,He))return Q;if(He="",pe=Pt,N==gn)return}break;case Pt:if(!ne.test(ee)){if(ee==x||"/"==ee||"?"==ee||"#"==ee||"\\"==ee&&jt(ye)||N){if(""!=He){var Un=parseInt(He,10);if(65535<Un)return Ee;ye.port=jt(ye)&&Un===Ot[ye.scheme]?null:Un,He=""}if(N)return;pe=at;continue}return Ee}He+=ee;break;case yt:if(ye.scheme="file","/"==ee||"\\"==ee)pe=it;else{if(!L||"file"!=L.scheme){pe=It;continue}if(ee==x)ye.host=L.host,ye.path=L.path.slice(),ye.query=L.query;else if("?"==ee)ye.host=L.host,ye.path=L.path.slice(),ye.query="",pe=et;else{if("#"!=ee){Je(H.slice(Ie).join(""))||(ye.host=L.host,ye.path=L.path.slice(),ut(ye)),pe=It;continue}ye.host=L.host,ye.path=L.path.slice(),ye.query=L.query,ye.fragment="",pe=Mt}}break;case it:if("/"==ee||"\\"==ee){pe=Xe;break}L&&"file"==L.scheme&&!Je(H.slice(Ie).join(""))&&(ge(L.path[0],!0)?ye.path.push(L.path[0]):ye.host=L.host),pe=It;continue;case Xe:if(ee==x||"/"==ee||"\\"==ee||"?"==ee||"#"==ee){if(!N&&ge(He))pe=It;else{if(""==He){if(ye.host="",N)return}else{if(Q=ke(ye,He))return Q;if("localhost"==ye.host&&(ye.host=""),N)return;He=""}pe=at}continue}He+=ee;break;case at:if(jt(ye)){if(pe=It,"/"!=ee&&"\\"!=ee)continue}else if(N||"?"!=ee)if(N||"#"!=ee){if(ee!=x&&(pe=It,"/"!=ee))continue}else ye.fragment="",pe=Mt;else ye.query="",pe=et;break;case It:if(ee==x||"/"==ee||"\\"==ee&&jt(ye)||!N&&("?"==ee||"#"==ee)){if(Ze(He)?(ut(ye),"/"==ee||"\\"==ee&&jt(ye)||ye.path.push("")):Rt(He)?"/"==ee||"\\"==ee&&jt(ye)||ye.path.push(""):("file"==ye.scheme&&!ye.path.length&&ge(He)&&(ye.host&&(ye.host=""),He=He.charAt(0)+":"),ye.path.push(He)),He="","file"==ye.scheme&&(ee==x||"?"==ee||"#"==ee))for(;1<ye.path.length&&""===ye.path[0];)ye.path.shift();"?"==ee?(ye.query="",pe=et):"#"==ee&&(ye.fragment="",pe=Mt)}else He+=$t(ee,gt);break;case Yt:"?"==ee?(ye.query="",pe=et):"#"==ee?(ye.fragment="",pe=Mt):ee!=x&&(ye.path[0]+=$t(ee,tt));break;case et:N||"#"!=ee?ee!=x&&("'"==ee&&jt(ye)?ye.query+="%27":ye.query+="#"==ee?"%23":$t(ee,tt)):(ye.fragment="",pe=Mt);break;case Mt:ee!=x&&(ye.fragment+=$t(ee,_t))}Ie++}}function m(ee){var E,N,L=f(this,m,"URL"),H=1<arguments.length?arguments[1]:void 0,Q=(ee=String(ee),K(L,{type:"URL"}));if(void 0!==H)if(H instanceof m)E=Y(H);else if(N=p(E={},String(H)))throw TypeError(N);if(N=p(Q,ee,null,E))throw TypeError(N);var pe=Q.searchParams=new M;(H=q(pe)).updateSearchParams(Q.query),H.updateURL=function(){Q.query=String(pe)||null},c||(L.href=Wt.call(L),L.origin=Zt.call(L),L.protocol=mn.call(L),L.username=wn.call(L),L.password=Cn.call(L),L.host=Sn.call(L),L.hostname=Dn.call(L),L.port=tr.call(L),L.pathname=Bn.call(L),L.search=lr.call(L),L.searchParams=Z.call(L),L.hash=be.call(L))}function C(ye,E){return{get:ye,set:E,configurable:!0,enumerable:!0}}T("../modules/es.string.iterator");var x,s,a,h=T("../internals/export"),c=T("../internals/descriptors"),u=T("../internals/native-url"),Ut=T("../internals/global"),l=T("../internals/object-define-properties"),y=T("../internals/redefine"),f=T("../internals/an-instance"),b=T("../internals/has"),D=T("../internals/object-assign"),B=T("../internals/array-from"),F=T("../internals/string-multibyte").codeAt,j=T("../internals/string-punycode-to-ascii"),k=T("../internals/set-to-string-tag"),U=T("../modules/web.url-search-params"),I=(T=T("../internals/internal-state"),Ut.URL),M=U.URLSearchParams,q=U.getState,K=T.set,Y=T.getterFor("URL"),ie=Math.floor,te=Math.pow,z="Invalid authority",oe="Invalid scheme",le="Invalid host",Ee="Invalid port",W=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,ne=/\d/,ue=/^(0x|0X)/,we=/^[0-7]+$/,je=/^\d+$/,Be=/^[\dA-Fa-f]+$/,We=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Pe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,$e=/[\u0009\u000A\u000D]/g,ke=function(ye,E){var N,L,H;if("["==E.charAt(0))return"]"==E.charAt(E.length-1)&&(N=function(ee){var dt,Jt,un,ln,fn,kn,Un,Q=[0,0,0,0,0,0,0,0],pe=0,Ie=null,He=0,Ln=function(){return ee.charAt(He)};if(":"==Ln()){if(":"!=ee.charAt(1))return;He+=2,Ie=++pe}for(;Ln();){if(8==pe)return;if(":"!=Ln()){for(dt=Jt=0;Jt<4&&Be.test(Ln());)dt=16*dt+parseInt(Ln(),16),He++,Jt++;if("."==Ln()){if(0==Jt||(He-=Jt,pe>6))return;for(un=0;Ln();){if(ln=null,un>0){if(!("."==Ln()&&un<4))return;He++}if(!ne.test(Ln()))return;for(;ne.test(Ln());){if(fn=parseInt(Ln(),10),null===ln)ln=fn;else{if(0==ln)return;ln=10*ln+fn}if(ln>255)return;He++}Q[pe]=256*Q[pe]+ln,(2==++un||4==un)&&pe++}if(4!=un)return;break}if(":"==Ln()){if(He++,!Ln())return}else if(Ln())return;Q[pe++]=dt}else{if(null!==Ie)return;He++,Ie=++pe}}if(null!==Ie)for(kn=pe-Ie,pe=7;0!=pe&&kn>0;)Un=Q[pe],Q[pe--]=Q[Ie+kn-1],Q[Ie+--kn]=Un;else if(8!=pe)return;return Q}(E.slice(1,-1)))?void(ye.host=N):le;if(jt(ye))return E=j(E),We.test(E)||null===(N=function(ee){var pe,Ie,He,dt,Jt,un,ln,Q=ee.split(".");if(Q.length&&""==Q[Q.length-1]&&Q.pop(),(pe=Q.length)>4)return ee;for(Ie=[],He=0;He<pe;He++){if(""==(dt=Q[He]))return ee;if(Jt=10,dt.length>1&&"0"==dt.charAt(0)&&(Jt=ue.test(dt)?16:8,dt=dt.slice(8==Jt?1:2)),""===dt)un=0;else{if(!(10==Jt?je:8==Jt?we:Be).test(dt))return ee;un=parseInt(dt,Jt)}Ie.push(un)}for(He=0;He<pe;He++)if(un=Ie[He],He==pe-1){if(un>=te(256,5-pe))return null}else if(un>255)return null;for(ln=Ie.pop(),He=0;He<Ie.length;He++)ln+=Ie[He]*te(256,3-He);return ln}(E))?le:void(ye.host=N);if(Oe.test(E))return le;for(N="",L=B(E),H=0;H<L.length;H++)N+=$t(L[H],tt);ye.host=N},Qe=function(ye){for(var E=null,N=1,L=null,H=0,ee=0;ee<8;ee++)0!==ye[ee]?(N<H&&(E=L,N=H),L=null,H=0):(null===L&&(L=ee),++H);return N<H&&(E=L,N=H),E},tt={},_t=D({},tt,{" ":1,'"':1,"<":1,">":1,"`":1}),gt=D({},_t,{"#":1,"?":1,"{":1,"}":1}),xt=D({},gt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),$t=function(ye,E){var N=F(ye,0);return 32<N&&N<127&&!b(E,ye)?ye:encodeURIComponent(ye)},Ot={ftp:21,file:null,http:80,https:443,ws:80,wss:443},jt=function(ye){return b(Ot,ye.scheme)},Tt=function(ye){return""!=ye.username||""!=ye.password},ge=function(ye,E){return 2==ye.length&&W.test(ye.charAt(0))&&(":"==(ye=ye.charAt(1))||!E&&"|"==ye)},Je=function(ye){return 1<ye.length&&ge(ye.slice(0,2))&&(2==ye.length||"/"===(ye=ye.charAt(2))||"\\"===ye||"?"===ye||"#"===ye)},ut=function(ye){var E=ye.path,N=E.length;!N||"file"==ye.scheme&&1==N&&ge(E[0],!0)||E.pop()},Rt=function(ye){return"."===ye||"%2e"===ye.toLowerCase()},Ze=function(ye){return".."===(ye=ye.toLowerCase())||"%2e."===ye||".%2e"===ye||"%2e%2e"===ye},Dt={},pt={},Re={},Ne={},Me={},Ye={},vt={},kt={},Lt={},tn={},bn={},gn={},Pt={},yt={},it={},Xe={},at={},It={},Yt={},et={},Mt={},Wt=(Ut=m.prototype,function(){var ye=Y(this),E=ye.scheme,N=ye.username,L=ye.password,H=ye.host,ee=ye.port,Q=ye.path,pe=ye.query,Ie=ye.fragment,He=E+":";return null!==H?(He+="//",Tt(ye)&&(He+=N+(L?":"+L:"")+"@"),He+=_(H),null!==ee&&(He+=":"+ee)):"file"==E&&(He+="//"),He+=ye.cannotBeABaseURL?Q[0]:Q.length?"/"+Q.join("/"):"",null!==pe&&(He+="?"+pe),null!==Ie&&(He+="#"+Ie),He}),Zt=function(){var ye=Y(this),E=ye.scheme,N=ye.port;if("blob"==E)try{return new URL(E.path[0]).origin}catch{return"null"}return"file"!=E&&jt(ye)?E+"://"+_(ye.host)+(null!==N?":"+N:""):"null"},mn=function(){return Y(this).scheme+":"},wn=function(){return Y(this).username},Cn=function(){return Y(this).password},Sn=function(){var ye=(E=Y(this)).host,E=E.port;return null===ye?"":null===E?_(ye):_(ye)+":"+E},Dn=function(){var ye=Y(this).host;return null===ye?"":_(ye)},tr=function(){var ye=Y(this).port;return null===ye?"":String(ye)},Bn=function(){var ye=Y(this),E=ye.path;return ye.cannotBeABaseURL?E[0]:E.length?"/"+E.join("/"):""},lr=function(){var ye=Y(this).query;return ye?"?"+ye:""},Z=function(){return Y(this).searchParams},be=function(){var ye=Y(this).fragment;return ye?"#"+ye:""};c&&l(Ut,{href:C(Wt,function(N){var E=Y(this);if(N=p(E,N=String(N)))throw TypeError(N);q(E.searchParams).updateSearchParams(E.query)}),origin:C(Zt),protocol:C(mn,function(ye){p(Y(this),String(ye)+":",Dt)}),username:C(wn,function(ye){var E=Y(this),N=B(String(ye));if(!d(E)){E.username="";for(var L=0;L<N.length;L++)E.username+=$t(N[L],xt)}}),password:C(Cn,function(ye){var E=Y(this),N=B(String(ye));if(!d(E)){E.password="";for(var L=0;L<N.length;L++)E.password+=$t(N[L],xt)}}),host:C(Sn,function(ye){var E=Y(this);E.cannotBeABaseURL||p(E,String(ye),bn)}),hostname:C(Dn,function(ye){var E=Y(this);E.cannotBeABaseURL||p(E,String(ye),gn)}),port:C(tr,function(ye){var E=Y(this);d(E)||(""==(ye=String(ye))?E.port=null:p(E,ye,Pt))}),pathname:C(Bn,function(ye){var E=Y(this);E.cannotBeABaseURL||(E.path=[],p(E,ye+"",at))}),search:C(lr,function(ye){var E=Y(this);""==(ye=String(ye))?E.query=null:("?"==ye.charAt(0)&&(ye=ye.slice(1)),E.query="",p(E,ye,et)),q(E.searchParams).updateSearchParams(E.query)}),searchParams:C(Z),hash:C(be,function(ye){var E=Y(this);""==(ye=String(ye))?E.fragment=null:("#"==ye.charAt(0)&&(ye=ye.slice(1)),E.fragment="",p(E,ye,Mt))})}),y(Ut,"toJSON",function(){return Wt.call(this)},{enumerable:!0}),y(Ut,"toString",function(){return Wt.call(this)},{enumerable:!0}),I&&(a=I.revokeObjectURL,(s=I.createObjectURL)&&y(m,"createObjectURL",function(ye){return s.apply(I,arguments)}),a&&y(m,"revokeObjectURL",function(ye){return a.apply(I,arguments)})),k(m,"URL"),h({global:!0,forced:!u,sham:!c},{URL:m})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(o,V,w){"use strict";V.exports=o("./").polyfill()},{"./":247}],247:[function(o,V,w){(function(_,d){var m;m=function(){"use strict";function C(ke){return"function"==typeof ke}var x=Array.isArray||function(ke){return"[object Array]"===Object.prototype.toString.call(ke)},s=0,a=void 0,h=void 0,c=function(ke,Qe){D[s]=ke,D[s+1]=Qe,2===(s+=2)&&(h?h(B):M())},u=typeof window<"u"?window:void 0,l=(l=u||{}).MutationObserver||l.WebKitMutationObserver,y=typeof self>"u"&&void 0!==_&&"[object process]"==={}.toString.call(_),f=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var ke=setTimeout;return function(){return ke(B,1)}}var D=new Array(1e3);function B(){for(var ke=0;ke<s;ke+=2)(0,D[ke])(D[ke+1]),D[ke]=void 0,D[ke+1]=void 0;s=0}var j,k,U,M=void 0;function T(ke,Qe){var tt,_t=this,gt=new this.constructor(K),xt=(void 0===gt[q]&&Be(gt),_t._state);return xt?(tt=arguments[xt-1],c(function(){return we(xt,gt,tt,_t._result)})):ne(_t,gt,ke,Qe),gt}function I(ke){var Qe;return ke&&"object"==typeof ke&&ke.constructor===this?ke:(le(Qe=new this(K),ke),Qe)}M=y?function(){return _.nextTick(B)}:l?(k=0,y=new l(B),U=document.createTextNode(""),y.observe(U,{characterData:!0}),function(){U.data=k=++k%2}):f?((j=new MessageChannel).port1.onmessage=B,function(){return j.port2.postMessage(0)}):(void 0===u&&"function"==typeof o?function F(){try{var ke=Function("return this")().require("vertx");return void 0!==(a=ke.runOnLoop||ke.runOnContext)?function(){a(B)}:b()}catch{return b()}}:b)();var q=Math.random().toString(36).substring(2);function K(){}var Y=void 0,ie=1,te=2;function z(ke,Qe,tt){c(function(_t){var gt=!1,xt=function($t,Ot,jt,Tt){try{$t.call(Ot,function($t){gt||(gt=!0,(Qe!==$t?le:W)(_t,$t))},function($t){gt||(gt=!0,R(_t,$t))})}catch(ge){return ge}}(tt,Qe);!gt&&xt&&(gt=!0,R(_t,xt))},ke)}function oe(ke,Qe,tt){var _t,gt;Qe.constructor===ke.constructor&&tt===T&&Qe.constructor.resolve===I?(_t=ke,(gt=Qe)._state===ie?W(_t,gt._result):gt._state===te?R(_t,gt._result):ne(gt,void 0,function(xt){return le(_t,xt)},function(xt){return R(_t,xt)})):void 0!==tt&&C(tt)?z(ke,Qe,tt):W(ke,Qe)}function le(ke,Qe){if(ke===Qe)R(ke,new TypeError("You cannot resolve a promise with itself"));else if(tt=typeof Qe,null===Qe||"object"!=tt&&"function"!=tt)W(ke,Qe);else{tt=void 0;try{tt=Qe.then}catch(_t){return void R(ke,_t)}oe(ke,Qe,tt)}var tt}function Ee(ke){ke._onerror&&ke._onerror(ke._result),ue(ke)}function W(ke,Qe){ke._state===Y&&(ke._result=Qe,ke._state=ie,0!==ke._subscribers.length&&c(ue,ke))}function R(ke,Qe){ke._state===Y&&(ke._state=te,ke._result=Qe,c(Ee,ke))}function ne(ke,Qe,tt,_t){var gt=ke._subscribers,xt=gt.length;ke._onerror=null,gt[xt]=Qe,gt[xt+ie]=tt,gt[xt+te]=_t,0===xt&&ke._state&&c(ue,ke)}function ue(ke){var Qe=ke._subscribers,tt=ke._state;if(0!==Qe.length){for(var _t,gt=void 0,xt=ke._result,$t=0;$t<Qe.length;$t+=3)gt=Qe[$t+tt],(_t=Qe[$t])?we(tt,_t,gt,xt):gt(xt);ke._subscribers.length=0}}function we(ke,Qe,tt,_t){var gt=C(tt),xt=void 0,$t=void 0,Ot=!0;if(gt){try{xt=tt(_t)}catch(jt){Ot=!1,$t=jt}if(Qe===xt)return void R(Qe,new TypeError("A promises callback cannot return that same promise."))}else xt=_t;Qe._state===Y&&(gt&&Ot?le(Qe,xt):!1===Ot?R(Qe,$t):ke===ie?W(Qe,xt):ke===te&&R(Qe,xt))}var je=0;function Be(ke){ke[q]=je++,ke._state=void 0,ke._result=void 0,ke._subscribers=[]}Oe.prototype._enumerate=function(ke){for(var Qe=0;this._state===Y&&Qe<ke.length;Qe++)this._eachEntry(ke[Qe],Qe)},Oe.prototype._eachEntry=function(ke,Qe){var tt=this._instanceConstructor,_t=tt.resolve;if(_t===I){var gt,xt=void 0,$t=void 0,Ot=!1;try{xt=ke.then}catch(jt){Ot=!0,$t=jt}xt===T&&ke._state!==Y?this._settledAt(ke._state,Qe,ke._result):"function"!=typeof xt?(this._remaining--,this._result[Qe]=ke):tt===Pe?(gt=new tt(K),Ot?R(gt,$t):oe(gt,ke,xt),this._willSettleAt(gt,Qe)):this._willSettleAt(new tt(function(jt){return jt(ke)}),Qe)}else this._willSettleAt(_t(ke),Qe)},Oe.prototype._settledAt=function(ke,Qe,tt){var _t=this.promise;_t._state===Y&&(this._remaining--,ke===te?R(_t,tt):this._result[Qe]=tt),0===this._remaining&&W(_t,this._result)},Oe.prototype._willSettleAt=function(ke,Qe){var tt=this;ne(ke,void 0,function(_t){return tt._settledAt(ie,Qe,_t)},function(_t){return tt._settledAt(te,Qe,_t)})};var We=Oe;function Oe(ke,Qe){this._instanceConstructor=ke,this.promise=new ke(K),this.promise[q]||Be(this.promise),x(Qe)?(this.length=Qe.length,this._remaining=Qe.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Qe),0!==this._remaining)||W(this.promise,this._result)):R(this.promise,new Error("Array Methods must be provided an Array"))}$e.prototype.catch=function(ke){return this.then(null,ke)},$e.prototype.finally=function(ke){var Qe=this.constructor;return C(ke)?this.then(function(tt){return Qe.resolve(ke()).then(function(){return tt})},function(tt){return Qe.resolve(ke()).then(function(){throw tt})}):this.then(ke,ke)};var Pe=$e;function $e(ke){if(this[q]=je++,this._result=this._state=void 0,this._subscribers=[],K!==ke){if("function"!=typeof ke)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof $e))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Qe=this;try{ke(function(tt){le(Qe,tt)},function(tt){R(Qe,tt)})}catch(tt){R(Qe,tt)}}}return Pe.prototype.then=T,Pe.all=function(ke){return new We(this,ke).promise},Pe.race=function(ke){var Qe=this;return x(ke)?new Qe(function(tt,_t){for(var gt=ke.length,xt=0;xt<gt;xt++)Qe.resolve(ke[xt]).then(tt,_t)}):new Qe(function(tt,_t){return _t(new TypeError("You must pass an array to race."))})},Pe.resolve=I,Pe.reject=function(ke){var Qe=new this(K);return R(Qe,ke),Qe},Pe._setScheduler=function(ke){h=ke},Pe._setAsap=function(ke){c=ke},Pe._asap=c,Pe.polyfill=function(){var ke=void 0;if(void 0!==d)ke=d;else if(typeof self<"u")ke=self;else try{ke=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Qe=ke.Promise;if(Qe){var tt=null;try{tt=Object.prototype.toString.call(Qe.resolve())}catch{}if("[object Promise]"===tt&&!Qe.cast)return}ke.Promise=Pe},Pe.Promise=Pe},"object"==typeof w&&void 0!==V?V.exports=m():this.ES6Promise=m()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:256}],248:[function(o,V,w){var d;d=function(p,m){"use strict";function s(h){try{delete window[h]}catch{window[h]=void 0}}function a(h){(h=document.getElementById(h))&&document.getElementsByTagName("head")[0].removeChild(h)}m.exports=function(h){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=h,l=c.timeout||5e3,y=c.jsonpCallback||"callback",f=void 0;return new Promise(function(b,D){var B=c.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),F=y+"_"+B,j=(window[B]=function(k){b({ok:!0,json:function(){return Promise.resolve(k)}}),f&&clearTimeout(f),a(F),s(B)},u+=-1===u.indexOf("?")?"?":"&",document.createElement("script"));j.setAttribute("src",""+u+y+"="+B),c.charset&&j.setAttribute("charset",c.charset),j.id=F,document.getElementsByTagName("head")[0].appendChild(j),f=setTimeout(function(){D(new Error("JSONP request to "+h+" timed out")),s(B),a(F),window[B]=function(){s(B)}},l),j.onerror=function(){D(new Error("JSONP request to "+h+" failed")),s(B),a(F),f&&clearTimeout(f)}})}},void 0!==w&&void 0!==V?d(0,V):(d(d={exports:{}},d),this.fetchJsonp=d.exports)},{}],249:[function(o,V,w){var _=function(d){"use strict";var p,m,C,x,s,a,c,u,l,y;if(!(void 0===d||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return p=function(){return d.URL||d.webkitURL||d},m=(y=d.document).createElementNS("http://www.w3.org/1999/xhtml","a"),C="download"in m,x=/constructor/i.test(d.HTMLElement)||d.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(f){(d.setImmediate||d.setTimeout)(function(){throw f},0)},4e4,c=function(f){setTimeout(function(){"string"==typeof f?p().revokeObjectURL(f):f.remove()},4e4)},u=function(f){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\ufeff",f],{type:f.type}):f},y=(l=function(f,b,k){k||(f=u(f));var B,F,j=this,U=(k="application/octet-stream"===f.type,function(){for(var T=j,I="writestart progress write writeend".split(" "),q=(I=[].concat(I)).length;q--;){var K=T["on"+I[q]];if("function"==typeof K)try{K.call(T,T)}catch(Y){a(Y)}}});j.readyState=j.INIT,C?(B=p().createObjectURL(f),setTimeout(function(){var T,I;m.href=B,m.download=b,T=m,I=new MouseEvent("click"),T.dispatchEvent(I),U(),c(B),j.readyState=j.DONE})):(s||k&&x)&&d.FileReader?((F=new FileReader).onloadend=function(){var T=s?F.result:F.result.replace(/^data:[^;]*;/,"data:attachment/file;");d.open(T,"_blank")||(d.location.href=T),T=void 0,j.readyState=j.DONE,U()},F.readAsDataURL(f),j.readyState=j.INIT):(B=B||p().createObjectURL(f),!k&&d.open(B,"_blank")||(d.location.href=B),j.readyState=j.DONE,U(),c(B))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(f,b,D){return b=b||f.name||"download",D||(f=u(f)),navigator.msSaveOrOpenBlob(f,b)}:(y.abort=function(){},y.readyState=y.INIT=0,y.WRITING=1,y.DONE=2,y.error=y.onwritestart=y.onprogress=y.onwrite=y.onabort=y.onerror=y.onwriteend=null,function(f,b,D){return new l(f,b||f.name||"download",D)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==V&&V.exports&&(V.exports.saveAs=_)},{}],250:[function(o,V,w){var _,d=Object.defineProperty,p=(d(w,"__esModule",{value:!0}),w),m={GIFEncoder:()=>U,applyPalette:()=>function(Y,ie,te="rgb565"){if(!Y||!Y.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Y instanceof Uint8Array||Y instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<ie.length)throw new Error("applyPalette() only works with 256 colors or less");const z=new Uint32Array(Y.buffer),oe=z.length,le="rgb444"===te?4096:65536,Ee=new Uint8Array(oe),W=new Array(le);if("rgba4444"===te)for(let $e=0;$e<oe;$e++){var we,R=(we=z[$e])>>24&255,ne=we>>16&255,ue=we>>8&255,je=(je=c(we&=255,ue,ne,R))in W?W[je]:W[je]=function(ke,Qe,tt,_t,gt){let xt=0,$t=1e100;for(let ge=0;ge<gt.length;ge++){var jt=gt[ge],Tt=F(jt[3]-_t);Tt>$t||(Tt+=F(jt[0]-ke))>$t||(Tt+=F(jt[1]-Qe))>$t||(Tt+=F(jt[2]-tt))>$t||($t=Tt,xt=ge)}return xt}(we,ue,ne,R,ie);Ee[$e]=je}else{const $e="rgb444"===te?u:h;for(let ke=0;ke<oe;ke++){var Oe,Be=(Oe=z[ke])>>16&255,We=Oe>>8&255,Pe=(Pe=$e(Oe&=255,We,Be))in W?W[Pe]:W[Pe]=function(Qe,tt,_t,gt){let xt=0,$t=1e100;for(let ge=0;ge<gt.length;ge++){var jt=gt[ge],Tt=F(jt[0]-Qe);Tt>$t||(Tt+=F(jt[1]-tt))>$t||(Tt+=F(jt[2]-_t))>$t||($t=Tt,xt=ge)}return xt}(Oe,We,Be,ie);Ee[ke]=Pe}}return Ee},default:()=>K,nearestColor:()=>function(Y,ie,te=D){return Y[j(Y,ie,te)]},nearestColorIndex:()=>j,nearestColorIndexWithDistance:()=>k,prequantize:()=>function(Y,{roundRGB:ie=5,roundAlpha:te=10,oneBitAlpha:z=null}={}){const oe=new Uint32Array(Y.buffer);for(let ne=0;ne<oe.length;ne++){let ue=(R=oe[ne])>>24&255;var Ee=R>>16&255,W=R>>8&255,R=255&R;ue=B(ue,te),z&&(ue=ue<=("number"==typeof z?z:127)?0:255),R=B(R,ie),W=B(W,ie),Ee=B(Ee,ie),oe[ne]=ue<<24|Ee<<16|W<<8|R<<0}},quantize:()=>function(Y,ie,te={}){var{format:z="rgb565",clearAlpha:oe=!0,clearAlphaColor:le=0,clearAlphaThreshold:Ee=0,oneBitAlpha:W=!1}=te;if(!Y||!Y.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Y instanceof Uint8Array||Y instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");Y=new Uint32Array(Y.buffer);let R=!1!==te.useSqrt;const ne="rgba4444"===z,ue=function(Je,ut){const Ze=new Array("rgb444"===ut?4096:65536),Dt=Je.length;if("rgba4444"===ut)for(let it=0;it<Dt;++it){var Me,pt=(Me=Je[it])>>24&255,Re=Me>>16&255,Ne=Me>>8&255,Ye=c(Me&=255,Ne,Re,pt);let Xe=Ye in Ze?Ze[Ye]:Ze[Ye]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Xe.rc+=Me,Xe.gc+=Ne,Xe.bc+=Re,Xe.ac+=pt,Xe.cnt++}else if("rgb444"===ut)for(let it=0;it<Dt;++it){var Lt,vt=(Lt=Je[it])>>16&255,kt=Lt>>8&255,tn=u(Lt&=255,kt,vt);let Xe=tn in Ze?Ze[tn]:Ze[tn]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Xe.rc+=Lt,Xe.gc+=kt,Xe.bc+=vt,Xe.cnt++}else for(let it=0;it<Dt;++it){var Pt,bn=(Pt=Je[it])>>16&255,gn=Pt>>8&255,yt=h(Pt&=255,gn,bn);let Xe=yt in Ze?Ze[yt]:Ze[yt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Xe.rc+=Pt,Xe.gc+=gn,Xe.bc+=bn,Xe.cnt++}return Ze}(Y,z),we=ue.length,je=we-1,Be=new Uint32Array(we+1);for(var We=0,Oe=0;Oe<we;++Oe){const Je=ue[Oe];null!=Je&&(jt=1/Je.cnt,ne&&(Je.ac*=jt),Je.rc*=jt,Je.gc*=jt,Je.bc*=jt,ue[We++]=Je)}var Pe,$e,ke;for(y(ie)/We<.022&&(R=!1),Oe=0;Oe<We-1;++Oe)ue[Oe].fw=Oe+1,ue[Oe+1].bk=Oe,R&&(ue[Oe].cnt=Math.sqrt(ue[Oe].cnt));for(R&&(ue[Oe].cnt=Math.sqrt(ue[Oe].cnt)),Oe=0;Oe<We;++Oe){f(ue,Oe,!1);var Qe=ue[Oe].err;for($e=++Be[0];1<$e&&!(ue[Pe=Be[ke=$e>>1]].err<=Qe);$e=ke)Be[$e]=Pe;Be[$e]=Oe}var tt,_t=We-ie;for(Oe=0;Oe<_t;){for(;;){var gt=Be[1];if((tt=ue[gt]).tm>=tt.mtm&&ue[tt.nn].mtm<=tt.tm)break;for(tt.mtm==je?gt=Be[1]=Be[Be[0]--]:(f(ue,gt,!1),tt.tm=Oe),Qe=ue[gt].err,$e=1;(ke=$e+$e)<=Be[0]&&(ke<Be[0]&&ue[Be[ke]].err>ue[Be[ke+1]].err&&ke++,!(Qe<=ue[Pe=Be[ke]].err));$e=ke)Be[$e]=Pe;Be[$e]=gt}var xt=ue[tt.nn],$t=tt.cnt,Ot=xt.cnt,jt=1/($t+Ot);ne&&(tt.ac=jt*($t*tt.ac+Ot*xt.ac)),tt.rc=jt*($t*tt.rc+Ot*xt.rc),tt.gc=jt*($t*tt.gc+Ot*xt.gc),tt.bc=jt*($t*tt.bc+Ot*xt.bc),tt.cnt+=xt.cnt,tt.mtm=++Oe,ue[xt.bk].fw=xt.fw,ue[xt.fw].bk=xt.bk,xt.mtm=je}let Tt=[];for(Oe=0;;0){let Je=l(Math.round(ue[Oe].rc),0,255),ut=l(Math.round(ue[Oe].gc),0,255),Rt=l(Math.round(ue[Oe].bc),0,255),Ze=255;ne&&(Ze=l(Math.round(ue[Oe].ac),0,255),W&&(Ze=Ze<=(ge="number"==typeof W?W:127)?0:255),oe&&Ze<=Ee&&(Je=ut=Rt=le,Ze=0));var ge=ne?[Je,ut,Rt,Ze]:[Je,ut,Rt];if(function(Dt,pt){for(let Me=0;Me<Dt.length;Me++){var Re=(Ne=Dt[Me])[0]===pt[0]&&Ne[1]===pt[1]&&Ne[2]===pt[2],Ne=!(4<=Ne.length&&4<=pt.length)||Ne[3]===pt[3];if(Re&&Ne)return!0}return!1}(Tt,ge)||Tt.push(ge),0==(Oe=ue[Oe].fw))break}return Tt},snapColorsToPalette:()=>function(Y,ie,te=5){if(Y.length&&ie.length){var z=Y.map(R=>R.slice(0,3)),oe=te*te,le=Y[0].length;for(let R=0;R<ie.length;R++){let ne=ie[R];ne=ne.length<le?[ne[0],ne[1],ne[2],255]:ne.length>le?ne.slice(0,3):ne.slice();var W,Ee=(W=k(z,ne.slice(0,3),D))[0];0<(W=W[1])&&W<=oe&&(Y[Ee]=ne)}}}};for(_ in m)d(p,_,{get:m[_],enumerable:!0});var C={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function x(Y=256){let ie=0,te=new Uint8Array(Y);return{get buffer(){return te.buffer},reset(){ie=0},bytesView:()=>te.subarray(0,ie),bytes:()=>te.slice(0,ie),writeByte(oe){z(ie+1),te[ie]=oe,ie++},writeBytes(oe,le=0,Ee=oe.length){z(ie+Ee);for(let W=0;W<Ee;W++)te[ie++]=oe[W+le]},writeBytesView(oe,le=0,Ee=oe.byteLength){z(ie+Ee),te.set(oe.subarray(le,le+Ee),ie),ie+=Ee}};function z(oe){var le=te.length;if(!(oe<=le)){oe=Math.max(oe,le*(le<1048576?2:1.125)>>>0),0!=le&&(oe=Math.max(oe,256));const Ee=te;te=new Uint8Array(oe),0<ie&&te.set(Ee.subarray(0,ie),0)}}}var s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],a=function(Y,ie,te,ne,oe=x(512),le=new Uint8Array(256),Ee=new Int32Array(5003),W=new Int32Array(5003)){var R=Ee.length;ne=Math.max(2,ne),le.fill(0),W.fill(0),Ee.fill(-1);let ue=0,we=0;var je=ne+1;const Be=je;let We=!1,Oe=Be,Pe=(1<<Oe)-1;var $e=1<<je-1;const ke=1+$e;let Qe=2+$e,tt=0,_t=te[0],gt=0;for(let ge=R;ge<65536;ge*=2)++gt;gt=8-gt,oe.writeByte(ne),Tt($e);var xt=te.length;for(let ge=1;ge<xt;ge++)e:{var $t=te[ge],Ot=($t<<12)+_t;let Je=$t<<gt^_t;if(Ee[Je]===Ot)_t=W[Je];else{for(var jt=0===Je?1:R-Je;0<=Ee[Je];)if((Je-=jt)<0&&(Je+=R),Ee[Je]===Ot){_t=W[Je];break e}Tt(_t),_t=$t,Qe<4096?(W[Je]=Qe++,Ee[Je]=Ot):(Ee.fill(-1),Qe=2+$e,We=!0,Tt($e))}}return Tt(_t),Tt(ke),oe.writeByte(0),oe.bytesView();function Tt(ge){for(ue&=s[we],0<we?ue|=ge<<we:ue=ge,we+=Oe;8<=we;)le[tt++]=255&ue,254<=tt&&(oe.writeByte(tt),oe.writeBytesView(le,0,tt),tt=0),ue>>=8,we-=8;if((Qe>Pe||We)&&(We?(Oe=Be,Pe=(1<<Oe)-1,We=!1):(++Oe,Pe=12===Oe?1<<Oe:(1<<Oe)-1)),ge==ke){for(;0<we;)le[tt++]=255&ue,254<=tt&&(oe.writeByte(tt),oe.writeBytesView(le,0,tt),tt=0),ue>>=8,we-=8;0<tt&&(oe.writeByte(tt),oe.writeBytesView(le,0,tt),tt=0)}}};function h(Y,ie,te){return Y<<8&63488|ie<<2&992|te>>3}function c(Y,ie,te,z){return Y>>4|240&ie|(240&te)<<4|(240&z)<<8}function u(Y,ie,te){return Y>>4<<8|240&ie|te>>4}function l(Y,ie,te){return Y<ie?ie:te<Y?te:Y}function y(Y){return Y*Y}function f(Y,ie,te){var z=0,oe=1e100;const le=Y[ie];for(var Ee=le.cnt,W=le.ac,R=le.rc,ne=le.gc,ue=le.bc,we=le.fw;0!=we;we=Y[we].fw){var je,We,Be=Y[we];oe<=(We=Ee*(We=Be.cnt)/(Ee+We))||(je=0,te&&oe<=(je+=We*y(Be.ac-W))||oe<=(je+=We*y(Be.rc-R))||oe<=(je+=We*y(Be.gc-ne))||oe<=(je+=We*y(Be.bc-ue))||(oe=je,z=we))}le.err=oe,le.nn=z}function D(Y,ie){for(var te=0,z=0;z<Y.length;z++){var oe=Y[z]-ie[z];te+=oe*oe}return te}function B(Y,ie){return 1<ie?Math.round(Y/ie)*ie:Y}function F(Y){return Y*Y}function j(Y,ie,te=D){let z=1/0,oe=-1;for(let Ee=0;Ee<Y.length;Ee++){var le=te(ie,Y[Ee]);le<z&&(z=le,oe=Ee)}return oe}function k(Y,ie,te=D){let z=1/0,oe=-1;for(let Ee=0;Ee<Y.length;Ee++){var le=te(ie,Y[Ee]);le<z&&(z=le,oe=Ee)}return[oe,z]}function U(Y={}){const{initialCapacity:ie=4096,auto:te=!0}=Y,z=x(ie),oe=new Uint8Array(256),le=new Int32Array(5003),Ee=new Int32Array(5003);let W=!1;return{reset(){z.reset(),W=!1},finish(){z.writeByte(C.trailer)},bytes:()=>z.bytes(),bytesView:()=>z.bytesView(),get buffer(){return z.buffer},get stream(){return z},writeHeader:R,writeFrame(ne,ue,we,_t={}){var{transparent:Be=!1,transparentIndex:We=0,delay:jt=0,palette:Oe=null,repeat:xt=0,colorDepth:Pe=8,dispose:$e=-1}=_t;let ke=!1;if(te?W||(ke=!0,R(),W=!0):ke=!!_t.first,ue=Math.max(0,Math.floor(ue)),we=Math.max(0,Math.floor(we)),ke){if(!Oe)throw new Error("First frame must include a { palette } option");var[_t,$t,tt,Ot,gt=8]=[z,ue,we,Oe,Pe];gt=128|gt-1<<4|(Ot=q(Ot.length)-1),I(_t,$t),I(_t,tt),_t.writeBytes([gt,0,0]),T(z,Oe),0<=xt&&($t=xt,(Ot=z).writeByte(33),Ot.writeByte(255),Ot.writeByte(11),M(Ot,"NETSCAPE2.0"),Ot.writeByte(3),Ot.writeByte(1),I(Ot,$t),Ot.writeByte(0))}var Qe,tt,gt=$e,xt=tt=Math.round(jt/10),$t=Be,Ot=We,jt=((_t=z).writeByte(33),_t.writeByte(249),_t.writeByte(4),Ot<0&&(Ot=0,$t=!1),$t=$t?(Qe=1,2):Qe=0,0<=gt&&($t=7&gt),_t.writeByte(0|($t<<=2)|Qe),I(_t,xt),_t.writeByte(Ot||0),_t.writeByte(0),!!Oe&&!ke);Be=ue,We=we,Qe=jt?Oe:null,($e=z).writeByte(44),I($e,0),I($e,0),I($e,Be),I($e,We),Qe?(Be=q(Qe.length)-1,$e.writeByte(128|Be)):$e.writeByte(0),jt&&T(z,Oe),[xt,_t,We,Be,$e=8,jt,Oe,ne]=[z,ne,ue,we,Pe,oe,le,Ee],a(We,Be,_t,$e,xt,jt,Oe,ne)}};function R(){M(z,"GIF89a")}}function T(Y,ie){var te=1<<q(ie.length);for(let z=0;z<te;z++){let oe=[0,0,0];z<ie.length&&(oe=ie[z]),Y.writeByte(oe[0]),Y.writeByte(oe[1]),Y.writeByte(oe[2])}}function I(Y,ie){Y.writeByte(255&ie),Y.writeByte(ie>>8&255)}function M(Y,ie){for(var te=0;te<ie.length;te++)Y.writeByte(ie.charCodeAt(te))}function q(Y){return Math.max(Math.ceil(Math.log2(Y)),1)}var K=U},{}],251:[function(o,V,w){w.read=function(_,d,p,m,f){var x,s,a=8*f-m-1,h=(1<<a)-1,c=h>>1,u=-7,l=p?f-1:0,y=p?-1:1;for(f=_[d+l],l+=y,x=f&(1<<-u)-1,f>>=-u,u+=a;0<u;x=256*x+_[d+l],l+=y,u-=8);for(s=x&(1<<-u)-1,x>>=-u,u+=m;0<u;s=256*s+_[d+l],l+=y,u-=8);if(0===x)x=1-c;else{if(x===h)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,m),x-=c}return(f?-1:1)*s*Math.pow(2,x-m)},w.write=function(_,d,p,m,C,b){var s,a,h=8*b-C-1,c=(1<<h)-1,u=c>>1,l=23===C?Math.pow(2,-24)-Math.pow(2,-77):0,y=m?0:b-1,f=m?1:-1;for(b=d<0||0===d&&1/d<0?1:0,d=Math.abs(d),isNaN(d)||d===1/0?(a=isNaN(d)?1:0,s=c):(s=Math.floor(Math.log(d)/Math.LN2),d*(m=Math.pow(2,-s))<1&&(s--,m*=2),2<=(d+=1<=s+u?l/m:l*Math.pow(2,1-u))*m&&(s++,m/=2),c<=s+u?(a=0,s=c):1<=s+u?(a=(d*m-1)*Math.pow(2,C),s+=u):(a=d*Math.pow(2,u-1)*Math.pow(2,C),s=0));8<=C;_[p+y]=255&a,y+=f,a/=256,C-=8);for(s=s<<C|a,h+=C;0<h;_[p+y]=255&s,y+=f,s/=256,h-=8);_[p+y-f]|=128*b}},{}],252:[function(o,V,w){"use strict";var _;function d(Re,Ne){return Re.b===Ne.b&&Re.a===Ne.a}function p(Re,Ne){return Re.b<Ne.b||Re.b===Ne.b&&Re.a<=Ne.a}function m(Re,Ne,Me){var Ye=Ne.b-Re.b,vt=Me.b-Ne.b;return 0<Ye+vt?Ye<vt?Ne.a-Re.a+Ye/(Ye+vt)*(Re.a-Me.a):Ne.a-Me.a+vt/(Ye+vt)*(Me.a-Re.a):0}function C(Re,Ne,Me){var Ye=Ne.b-Re.b,vt=Me.b-Ne.b;return 0<Ye+vt?(Ne.a-Me.a)*Ye+(Ne.a-Re.a)*vt:0}function x(Re,Ne){return Re.a<Ne.a||Re.a===Ne.a&&Re.b<=Ne.b}function s(Re,Ne,Me){var Ye=Ne.a-Re.a,vt=Me.a-Ne.a;return 0<Ye+vt?Ye<vt?Ne.b-Re.b+Ye/(Ye+vt)*(Re.b-Me.b):Ne.b-Me.b+vt/(Ye+vt)*(Me.b-Re.b):0}function a(Re,Ne,Me){var Ye=Ne.a-Re.a,vt=Me.a-Ne.a;return 0<Ye+vt?(Ne.b-Me.b)*Ye+(Ne.b-Re.b)*vt:0}function h(Re,Ne,Me,Ye){return(Re=Re<0?0:Re)<=(Me=Me<0?0:Me)?0===Me?(Ne+Ye)/2:Ne+Re/(Re+Me)*(Ye-Ne):Ye+Me/(Re+Me)*(Ne-Ye)}function c(Re){var Ne=b(Re.b);return B(Ne,Re.c),B(Ne.b,Re.c),F(Ne,Re.a),Ne}function u(Re,Ne){var Me=!1,Ye=!1;Re!==Ne&&(Ne.a!==Re.a&&(Ye=!0,k(Ne.a,Re.a)),Ne.d!==Re.d&&(Me=!0,U(Ne.d,Re.d)),D(Ne,Re),Ye||(B(Ne,Re.a),Re.a.c=Re),Me||(F(Ne,Re.d),Re.d.a=Re))}function l(Re){var Ne=Re.b,Me=!1;Re.d!==Re.b.d&&(Me=!0,U(Re.d,Re.b.d)),Re.c===Re?k(Re.a,null):(Re.b.d.a=Re.b.e,Re.a.c=Re.c,D(Re,Re.b.e),Me||F(Re,Re.d)),Ne.c===Ne?(k(Ne.a,null),U(Ne.d,null)):(Re.d.a=Ne.b.e,Ne.a.c=Ne.c,D(Ne,Ne.b.e)),j(Re)}function y(Re){var Ne=b(Re),Me=Ne.b;return D(Ne,Re.e),Ne.a=Re.b.a,B(Me,Ne.a),Ne.d=Me.d=Re.d,Ne=Ne.b,D(Re.b,Re.b.b.e),D(Re.b,Ne),Re.b.a=Ne.a,Ne.b.a.c=Ne.b,Ne.b.d=Re.b.d,Ne.f=Re.f,Ne.b.f=Re.b.f,Ne}function f(Re,Ne){var Me=!1,Ye=b(Re),vt=Ye.b;return Ne.d!==Re.d&&(Me=!0,U(Ne.d,Re.d)),D(Ye,Re.e),D(vt,Ne),Ye.a=Re.b.a,vt.a=Ne.a,Ye.d=vt.d=Re.d,Re.d.a=vt,Me||F(Ye,Re.d),Ye}function b(Re){var Ne=new tt,Me=new tt;return(((Me.h=Re.b.h).b.h=Ne).h=Re).b.h=Me,Ne.b=Me,((Ne.c=Ne).e=Me).b=Ne,(Me.c=Me).e=Ne}function D(Re,Ne){var Me=Re.c,Ye=Ne.c;Me.b.e=Ne,(Ye.b.e=Re).c=Ye,Ne.c=Me}function B(Re,Ne){var Me=Ne.f,Ye=new gt(Ne,Me);for(Me.e=Ye,Me=(Ne.f=Ye).c=Re;Me.a=Ye,(Me=Me.c)!==Re;);}function F(Re,Ne){var Me=Ne.d,Ye=new Qe(Ne,Me);for(Me.b=Ye,(Ne.d=Ye).a=Re,Ye.c=Ne.c,Me=Re;Me.d=Ye,(Me=Me.e)!==Re;);}function j(Re){var Ne=Re.h;(Ne.b.h=Re=Re.b.h).b.h=Ne}function k(Re,Ne){for(var Me=Re.c,Ye=Me;Ye.a=Ne,(Ye=Ye.c)!==Me;);((Ye=Re.e).f=Me=Re.f).e=Ye}function U(Re,Ne){for(var Me=Re.a,Ye=Me;Ye.d=Ne,(Ye=Ye.e)!==Me;);((Ye=Re.b).d=Me=Re.d).b=Ye}function T(Re){var Ne=0;return Math.abs(Re[1])>Math.abs(Re[0])&&(Ne=1),Math.abs(Re[2])>Math.abs(Re[Ne])?2:Ne}function I(Re,Ne){Re.f+=Ne.f,Re.b.f+=Ne.b.f}function M(Re,Ne,Me){return Me=Me.a,(Ne=Ne.a).b.a===(Re=Re.a)?Me.b.a===Re?p(Ne.a,Me.a)?C(Me.b.a,Ne.a,Me.a)<=0:0<=C(Ne.b.a,Me.a,Ne.a):C(Me.b.a,Re,Me.a)<=0:Me.b.a===Re?0<=C(Ne.b.a,Re,Ne.a):(Ne=m(Ne.b.a,Re,Ne.a),(Re=m(Me.b.a,Re,Me.a))<=Ne)}function q(Re){Re.a.i=null;var Ne=Re.e;Ne.a.c=Ne.c,Ne.c.a=Ne.a,Re.e=null}function K(Re,Ne){l(Re.a),Re.c=!1,(Re.a=Ne).i=Re}function Y(Re){for(var Ne=Re.a.a;(Re=pt(Re)).a.a===Ne;);return Re.c&&(K(Re,Ne=f(Dt(Re).a.b,Re.a.e)),Re=pt(Re)),Re}function ie(Re,Ne,Me){var Ye=new Ze;return Ye.a=Me,Ye.e=We(Re.f,Ne.e,Ye),Me.i=Ye}function te(Re,Ne){switch(Re.s){case 100130:return 0!=(1&Ne);case 100131:return 0!==Ne;case 100132:return 0<Ne;case 100133:return Ne<0;case 100134:return 2<=Ne||Ne<=-2}return!1}function z(Re){var Ne=Re.a,Me=Ne.d;Me.c=Re.d,Me.a=Ne,q(Re)}function oe(Re,Ne,Me){for(Ne=(Re=Ne).a;Re!==Me;){Re.c=!1;var Ye=Dt(Re),vt=Ye.a;if(vt.a!==Ne.a){if(!Ye.c){z(Re);break}K(Ye,vt=f(Ne.c.b,vt.b))}Ne.c!==vt&&(u(vt.b.e,vt),u(Ne,vt)),z(Re),Ne=Ye.a,Re=Ye}return Ne}function le(Re,Ne,Me,Ye,vt,kt){for(var Lt=!0;ie(Re,Ne,Me.b),(Me=Me.c)!==Ye;);for(null===vt&&(vt=Dt(Ne).a.b.c);(Me=(Ye=Dt(Ne)).a.b).a===vt.a;)Me.c!==vt&&(u(Me.b.e,Me),u(vt.b.e,Me)),Ye.f=Ne.f-Me.f,Ye.d=te(Re,Ye.f),Ne.b=!0,!Lt&&ne(Re,Ne)&&(I(Me,vt),q(Ne),l(vt)),Lt=!1,Ne=Ye,vt=Me;Ne.b=!0,kt&&we(Re,Ne)}function Ee(Re,Ne,Me,Ye,vt){var kt=[Ne.g[0],Ne.g[1],Ne.g[2]];Ne.d=null,Ne.d=Re.o&&Re.o(kt,Me,Ye,Re.c)||null,null===Ne.d&&(vt?Re.n||(ke(Re,100156),Re.n=!0):Ne.d=Me[0])}function W(Re,Ne,Me){var Ye=[null,null,null,null];Ye[0]=Ne.a.d,Ye[1]=Me.a.d,Ee(Re,Ne.a,Ye,[.5,.5,0,0],!1),u(Ne,Me)}function R(Re,Ne,Me,Ye,vt){var kt=Math.abs(Ne.b-Re.b)+Math.abs(Ne.a-Re.a),Lt=Math.abs(Me.b-Re.b)+Math.abs(Me.a-Re.a),tn=vt+1;Ye[vt]=.5*Lt/(kt+Lt),Ye[tn]=.5*kt/(kt+Lt),Re.g[0]+=Ye[vt]*Ne.g[0]+Ye[tn]*Me.g[0],Re.g[1]+=Ye[vt]*Ne.g[1]+Ye[tn]*Me.g[1],Re.g[2]+=Ye[vt]*Ne.g[2]+Ye[tn]*Me.g[2]}function ne(Re,Ne){var Me=Dt(Ne),Ye=Ne.a,vt=Me.a;if(p(Ye.a,vt.a)){if(0<C(vt.b.a,Ye.a,vt.a))return;if(d(Ye.a,vt.a)){if(Ye.a!==vt.a){Me=Re.e;var kt=Ye.a.h;if(0<=kt){var Lt=(Me=Me.b).d,tn=Me.e,bn=Me.c,gn=bn[kt];Lt[gn]=Lt[Me.a],(bn[Lt[gn]]=gn)<=--Me.a&&(gn<=1||p(tn[Lt[gn>>1]],tn[Lt[gn]])?ut:Rt)(Me,gn),tn[kt]=null,bn[kt]=Me.b,Me.b=kt}else for(Me.c[-(kt+1)]=null;0<Me.a&&null===Me.c[Me.d[Me.a-1]];)--Me.a;W(Re,vt.b.e,Ye)}}else y(vt.b),u(Ye,vt.b.e),Ne.b=Me.b=!0}else{if(C(Ye.b.a,vt.a,Ye.a)<0)return;pt(Ne).b=Ne.b=!0,y(Ye.b),u(vt.b.e,Ye)}return 1}function ue(Re,Ne){var Me=Dt(Ne),Ye=Ne.a,vt=Me.a,kt=Ye.a,Lt=vt.a,tn=Ye.b.a,bn=vt.b.a,gn=new gt;if(C(tn,Re.a,kt),C(bn,Re.a,Lt),!(kt===Lt||Math.min(kt.a,tn.a)>Math.max(Lt.a,bn.a))){if(p(kt,Lt)){if(0<C(bn,kt,Lt))return}else if(C(tn,Lt,kt)<0)return;var Pt,yt,it=tn,Xe=kt,at=bn,It=Lt;if(p(it,Xe)||(Pt=it,it=Xe,Xe=Pt),p(at,It)||(Pt=at,at=It,It=Pt),p(it,at)||(Pt=it,it=at,at=Pt,Pt=Xe,Xe=It,It=Pt),p(at,Xe)?p(Xe,It)?((Pt=m(it,at,Xe))+(yt=m(at,Xe,It))<0&&(Pt=-Pt,yt=-yt),gn.b=h(Pt,at.b,yt,Xe.b)):((Pt=C(it,at,Xe))+(yt=-C(it,It,Xe))<0&&(Pt=-Pt,yt=-yt),gn.b=h(Pt,at.b,yt,It.b)):gn.b=(at.b+Xe.b)/2,x(it,Xe)||(Pt=it,it=Xe,Xe=Pt),x(at,It)||(Pt=at,at=It,It=Pt),x(it,at)||(Pt=it,it=at,at=Pt,Pt=Xe,Xe=It,It=Pt),x(at,Xe)?x(Xe,It)?((Pt=s(it,at,Xe))+(yt=s(at,Xe,It))<0&&(Pt=-Pt,yt=-yt),gn.a=h(Pt,at.a,yt,Xe.a)):((Pt=a(it,at,Xe))+(yt=-a(it,It,Xe))<0&&(Pt=-Pt,yt=-yt),gn.a=h(Pt,at.a,yt,It.a)):gn.a=(at.a+Xe.a)/2,p(gn,Re.a)&&(gn.b=Re.a.b,gn.a=Re.a.a),it=p(kt,Lt)?kt:Lt,p(it,gn)&&(gn.b=it.b,gn.a=it.a),d(gn,kt)||d(gn,Lt))return ne(Re,Ne),0;if(!d(tn,Re.a)&&0<=C(tn,Re.a,gn)||!d(bn,Re.a)&&C(bn,Re.a,gn)<=0){if(bn===Re.a)y(Ye.b),u(vt.b,Ye),Ye=Dt(Ne=Y(Ne)).a,oe(Re,Dt(Ne),Me),le(Re,Ne,Ye.b.e,Ye,Ye,!0);else{if(tn!==Re.a)return 0<=C(tn,Re.a,gn)&&(pt(Ne).b=Ne.b=!0,y(Ye.b),Ye.a.b=Re.a.b,Ye.a.a=Re.a.a),void(C(bn,Re.a,gn)<=0&&(Ne.b=Me.b=!0,y(vt.b),vt.a.b=Re.a.b,vt.a.a=Re.a.a));for(y(vt.b),u(Ye.e,vt.b.e),Lt=(kt=Me=Ne).a.b.a;(kt=pt(kt)).a.b.a===Lt;);kt=Dt(Ne=kt).a.b.c,Me.a=vt.b.e,le(Re,Ne,(vt=oe(Re,Me,null)).c,Ye.b.c,kt,!0)}return 1}y(Ye.b),y(vt.b),u(vt.b.e,Ye),Ye.a.b=gn.b,Ye.a.a=gn.a,Ye.a.h=$t(Re.e,Ye.a),vt=[0,0,0,0],gn=[kt.d,tn.d,Lt.d,bn.d],(Ye=Ye.a).g[0]=Ye.g[1]=Ye.g[2]=0,R(Ye,kt,tn,vt,0),R(Ye,Lt,bn,vt,2),Ee(Re,Ye,gn,vt,!0),pt(Ne).b=Ne.b=Me.b=!0}}function we(Re,Ne){for(var Me=Dt(Ne);;){for(;Me.b;)Me=Dt(Ne=Me);if(!(Ne.b||null!==(Ne=pt(Me=Ne))&&Ne.b))break;Ne.b=!1;var Ye=Ne.a,vt=Me.a;if(kt=Ye.b.a!==vt.b.a)e:{var kt,Lt=Dt(kt=Ne),tn=kt.a,bn=Lt.a,gn=void 0;if(p(tn.b.a,bn.b.a)){if(C(tn.b.a,bn.b.a,tn.a)<0){kt=!1;break e}pt(kt).b=kt.b=!0,gn=y(tn),u(bn.b,gn),gn.d.c=kt.d}else{if(0<C(bn.b.a,tn.b.a,bn.a)){kt=!1;break e}kt.b=Lt.b=!0,gn=y(bn),u(tn.e,bn.b),gn.b.d.c=kt.d}kt=!0}if(kt&&(Me.c?(q(Me),l(vt),vt=(Me=Dt(Ne)).a):Ne.c&&(q(Ne),l(Ye),Ye=(Ne=pt(Me)).a)),Ye.a!==vt.a)if(Ye.b.a===vt.b.a||Ne.c||Me.c||Ye.b.a!==Re.a&&vt.b.a!==Re.a)ne(Re,Ne);else if(ue(Re,Ne))break;Ye.a===vt.a&&Ye.b.a===vt.b.a&&(I(vt,Ye),q(Ne),l(Ye),Ne=pt(Me))}}function je(Re,Ne){var Me=new Ze,Ye=c(Re.b);Ye.a.b=4e150,Ye.a.a=Ne,Ye.b.a.b=-4e150,Ye.b.a.a=Ne,Re.a=Ye.b.a,Me.a=Ye,Me.f=0,Me.d=!1,Me.c=!1,Me.h=!0,Me.b=!1,Ye=We(Ye=Re.f,Ye.a,Me),Me.e=Ye}function Be(Re){this.a=new Oe,this.b=Re,this.c=M}function We(Re,Ne,Me){for(;null!==(Ne=Ne.c).b&&!Re.c(Re.b,Ne.b,Me););return Re=new Oe(Me,Ne.a,Ne),Ne.a.c=Re,Ne.a=Re}function Oe(Re,Ne,Me){this.b=Re||null,this.a=Ne||this,this.c=Me||this}function Pe(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function $e(Re,Ne){if(Re.d!==Ne)for(;Re.d!==Ne;)if(Re.d<Ne)switch(Re.d){case 0:ke(Re,100151),Re.u(null);break;case 1:ke(Re,100152),Re.t()}else switch(Re.d){case 2:ke(Re,100154),Re.v();break;case 1:ke(Re,100153),Re.w()}}function ke(Re,Ne){Re.p&&Re.p(Ne,Re.c)}function Qe(Re,Ne){this.b=Re||this,this.d=Ne||this,this.a=null,this.c=!1}function tt(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function _t(){this.c=new gt,this.a=new Qe,this.b=new tt,this.d=new tt,this.b.b=this.d,this.d.b=this.b}function gt(Re,Ne){this.e=Re||this,this.f=Ne||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function xt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new jt}function $t(Re,Ne){var Me,Ye,vt;return Re.e?(2*(Ye=++(Me=Re.b).a)>Me.f&&(Me.f*=2,Me.c=Tt(Me.c,Me.f+1)),0===Me.b?vt=Ye:(vt=Me.b,Me.b=Me.c[Me.b]),Me.e[vt]=Ne,Me.c[vt]=Ye,Me.d[Ye]=vt,Me.h&&Rt(Me,Ye),vt):(Me=Re.a++,Re.c[Me]=Ne,-(Me+1))}function Ot(Re){if(0===Re.a)return Je(Re.b);var Ne=Re.c[Re.d[Re.a-1]];if(0!==Re.b.a&&p(ge(Re.b),Ne))return Je(Re.b);for(;--Re.a,0<Re.a&&null===Re.c[Re.d[Re.a-1]];);return Ne}function jt(){this.d=Tt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Tt(Re,Ne){for(var Me=Array(Ne),Ye=0;Ye<Re.length;Ye++)Me[Ye]=Re[Ye];for(;Ye<Ne;Ye++)Me[Ye]=0;return Me}function ge(Re){return Re.e[Re.d[1]]}function Je(Re){var Ne=Re.d,Me=Re.e,Ye=Re.c,vt=Ne[1],kt=Me[vt];return 0<Re.a&&(Ne[1]=Ne[Re.a],Ye[Ne[1]]=1,Me[vt]=null,Ye[vt]=Re.b,Re.b=vt,0<--Re.a&&ut(Re,1)),kt}function ut(Re,Ne){for(var Me=Re.d,Ye=Re.e,vt=Re.c,kt=Ne,Lt=Me[kt];;){var tn=kt<<1,bn=(tn<Re.a&&p(Ye[Me[tn+1]],Ye[Me[tn]])&&(tn+=1),Me[tn]);if(tn>Re.a||p(Ye[Lt],Ye[bn])){vt[Me[kt]=Lt]=kt;break}vt[Me[kt]=bn]=kt,kt=tn}}function Rt(Re,Ne){for(var Me=Re.d,Ye=Re.e,vt=Re.c,kt=Ne,Lt=Me[kt];;){var tn=kt>>1,bn=Me[tn];if(0==tn||p(Ye[bn],Ye[Lt])){vt[Me[kt]=Lt]=kt;break}vt[Me[kt]=bn]=kt,kt=tn}}function Ze(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Dt(Re){return Re.e.c.b}function pt(Re){return Re.e.a.b}(_=Pe.prototype).x=function(){$e(this,0)},_.B=function(Re,Ne){switch(Re){case 100142:return;case 100140:switch(Ne){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Ne)}break;case 100141:return void(this.m=!!Ne);default:return void ke(this,100900)}ke(this,100901)},_.y=function(Re){switch(Re){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ke(this,100900)}return!1},_.A=function(Re,Ne,Me){this.j[0]=Re,this.j[1]=Ne,this.j[2]=Me},_.z=function(Re,Ne){var Me=Ne||null;switch(Re){case 100100:case 100106:this.h=Me;break;case 100104:case 100110:this.l=Me;break;case 100101:case 100107:this.k=Me;break;case 100102:case 100108:this.i=Me;break;case 100103:case 100109:this.p=Me;break;case 100105:case 100111:this.o=Me;break;case 100112:this.r=Me;break;default:ke(this,100900)}},_.C=function(Re,Ne){var Me=!1,Ye=[0,0,0];$e(this,2);for(var vt=0;vt<3;++vt){var kt=Re[vt];kt<-1e150&&(kt=-1e150,Me=!0),1e150<kt&&(kt=1e150,Me=!0),Ye[vt]=kt}Me&&ke(this,100155),null===(Me=this.q)?u(Me=c(this.b),Me.b):(y(Me),Me=Me.e),Me.a.d=Ne,Me.a.g[0]=Ye[0],Me.a.g[1]=Ye[1],Me.a.g[2]=Ye[2],Me.f=1,Me.b.f=-1,this.q=Me},_.u=function(Re){$e(this,0),this.d=1,this.b=new _t,this.c=Re},_.t=function(){$e(this,1),this.d=2,this.q=null},_.v=function(){$e(this,2),this.d=1},_.w=function(){$e(this,1),this.d=0;var Re,Ne,kt=!1,Lt=[Me=this.j[0],Ye=this.j[1],vt=this.j[2]];if(0===Me&&0===Ye&&0===vt){for(var Ye=[-2e150,-2e150,-2e150],tn=[2e150,2e150,2e150],vt=[],bn=[],Me=(kt=this.b.c).e;Me!==kt;Me=Me.e)for(var gn=0;gn<3;++gn){var Pt=Me.g[gn];Pt<tn[gn]&&(tn[gn]=Pt,bn[gn]=Me),Pt>Ye[gn]&&(Ye[gn]=Pt,vt[gn]=Me)}if(Ye[1]-tn[1]>Ye[Me=0]-tn[0]&&(Me=1),tn[Me=Ye[2]-tn[2]>Ye[Me]-tn[Me]?2:Me]>=Ye[Me])Lt[0]=0,Lt[1]=0,Lt[2]=1;else{for(tn=bn[Me],bn=[Ye=0,0,0],tn=[tn.g[0]-(vt=vt[Me]).g[0],tn.g[1]-vt.g[1],tn.g[2]-vt.g[2]],gn=[0,0,0],Me=kt.e;Me!==kt;Me=Me.e)gn[0]=Me.g[0]-vt.g[0],gn[1]=Me.g[1]-vt.g[1],gn[2]=Me.g[2]-vt.g[2],bn[0]=tn[1]*gn[2]-tn[2]*gn[1],bn[1]=tn[2]*gn[0]-tn[0]*gn[2],bn[2]=tn[0]*gn[1]-tn[1]*gn[0],Ye<(Pt=bn[0]*bn[0]+bn[1]*bn[1]+bn[2]*bn[2])&&(Ye=Pt,Lt[0]=bn[0],Lt[1]=bn[1],Lt[2]=bn[2]);Ye<=0&&(Lt[0]=Lt[1]=Lt[2]=0,Lt[T(tn)]=1)}kt=!0}for(Ye=((bn=T(Lt))+1)%3,vt=(bn+2)%3,bn=0<Lt[bn]?1:-1,Lt=(Me=this.b.c).e;Lt!==Me;Lt=Lt.e)Lt.b=Lt.g[Ye],Lt.a=bn*Lt.g[vt];if(kt){for(Lt=0,Me=(kt=this.b.a).b;Me!==kt;Me=Me.b)if(!((Ye=Me.a).f<=0))for(;Lt+=(Ye.a.b-Ye.b.a.b)*(Ye.a.a+Ye.b.a.a),(Ye=Ye.e)!==Me.a;);if(Lt<0)for(kt=(Lt=this.b.c).e;kt!==Lt;kt=kt.e)kt.a=-kt.a}for(this.n=!1,Me=(Lt=this.b.b).h;Me!==Lt;Me=kt)kt=Me.h,Ye=Me.e,d(Me.a,Me.b.a)&&Me.e.e!==Me&&(W(this,Ye,Me),l(Me),Ye=(Me=Ye).e),Ye.e===Me&&(Ye!==Me&&(Ye!==kt&&Ye!==kt.b||(kt=kt.h),l(Ye)),Me!==kt&&Me!==kt.b||(kt=kt.h),l(Me));for(this.e=Lt=new xt,Me=(kt=this.b.c).e;Me!==kt;Me=Me.e)Me.h=$t(Lt,Me);var yt=Lt;yt.d=[];for(var it=0;it<yt.a;it++)yt.d[it]=it;yt.d.sort(function(It){return function(Yt,et){return p(It[Yt],It[et])?1:-1}}(yt.c)),yt.e=!0;for(var Xe=yt.b,at=Xe.a;1<=at;--at)ut(Xe,at);for(Xe.h=!0,this.f=new Be(this),je(this,-4e150),je(this,4e150);null!==(Lt=Ot(this.e));){for(;;){e:if(0===(Me=this.e).a)kt=ge(Me.b);else if(kt=Me.c[Me.d[Me.a-1]],0!==Me.b.a&&p(Me=ge(Me.b),kt)){kt=Me;break e}if(null===kt||!d(kt,Lt))break;kt=Ot(this.e),W(this,Lt.c,kt.c)}!function It(Yt,et){for(var Mt,Ut=(Yt.a=et).c;null===Ut.i;)if((Ut=Ut.c)===et.c){Ut=Yt;var Wt=et;(Cn=new Ze).a=Wt.c.b;for(var Sn=(Zt=Ut.f).a;null!==(Sn=Sn.a).b&&!Zt.c(Zt.b,Cn,Sn.b););var Zt,mn,wn=Dt(Zt=Sn.b),Cn=Zt.a;return Sn=wn.a,void(0===C(Cn.b.a,Wt,Cn.a)?d((Cn=Zt.a).a,Wt)||d(Cn.b.a,Wt)||(y(Cn.b),Zt.c&&(l(Cn.c),Zt.c=!1),u(Wt.c,Cn),It(Ut,Wt)):(mn=p(Sn.b.a,Cn.b.a)?Zt:wn,wn=void 0,Zt.d||mn.c?(wn=mn===Zt?f(Wt.c.b,Cn.e):f(Sn.b.c.b,Wt.c).b,mn.c?K(mn,wn):((Zt=ie(Cn=Ut,Zt,wn)).f=pt(Zt).f+Zt.a.f,Zt.d=te(Cn,Zt.f)),It(Ut,Wt)):le(Ut,Zt,Wt.c,Wt.c,null,!0)))}Zt=(Cn=Dt(Ut=Y(Ut.i))).a,(Cn=oe(Yt,Cn,null)).c===Zt?(Cn=(Zt=Cn).c,Sn=Dt(Ut),Mt=!1,(wn=Ut.a).b.a!==(mn=Sn.a).b.a&&ue(Yt,Ut),d(wn.a,Yt.a)&&(u(Cn.b.e,wn),Cn=Dt(Ut=Y(Ut)).a,oe(Yt,Dt(Ut),Sn),Mt=!0),d(mn.a,Yt.a)&&(u(Zt,mn.b.e),Zt=oe(Yt,Sn,null),Mt=!0),Mt?le(Yt,Ut,Zt.c,Cn,Cn,!0):(Wt=p(mn.a,wn.a)?mn.b.e:wn,le(Yt,Ut,Wt=f(Zt.c.b,Wt),Wt.c,Wt.c,!1),Wt.b.i.c=!0,we(Yt,Ut))):le(Yt,Ut,Cn.c,Zt,Zt,!0)}(this,Lt)}for(this.a=this.f.a.a.b.a.a,Lt=0;null!==(kt=this.f.a.a.b);)kt.h||++Lt,q(kt);for(this.f=null,(Lt=this.e).b=null,Lt.d=null,this.e=Lt.c=null,Me=(Lt=this.b).a.b;Me!==Lt.a;Me=kt)kt=Me.b,(Me=Me.a).e.e===Me&&(I(Me.c,Me),l(Me));if(!this.n){if(Lt=this.b,this.m)for(Me=Lt.b.h;Me!==Lt.b;Me=kt)kt=Me.h,Me.b.d.c!==Me.d.c?Me.f=Me.d.c?1:-1:l(Me);else for(Me=Lt.a.b;Me!==Lt.a;Me=kt)if(kt=Me.b,Me.c){for(Me=Me.a;p(Me.b.a,Me.a);Me=Me.c.b);for(;p(Me.a,Me.b.a);Me=Me.e);for(Ye=Me.c.b,vt=void 0;Me.e!==Ye;)if(p(Me.b.a,Ye.a)){for(;Ye.e!==Me&&(p((Ne=Ye.e).b.a,Ne.a)||C(Ye.a,Ye.b.a,Ye.e.b.a)<=0);)Ye=(vt=f(Ye.e,Ye)).b;Ye=Ye.c.b}else{for(;Ye.e!==Me&&(p((Re=Me.c.b).a,Re.b.a)||0<=C(Me.b.a,Me.a,Me.c.b.a));)Me=(vt=f(Me,Me.c.b)).b;Me=Me.e}for(;Ye.e.e!==Me;)Ye=(vt=f(Ye.e,Ye)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(kt=(Lt=this.b).a.b;kt!==Lt.a;kt=kt.b)if(kt.c){for(this.h&&this.h(2,this.c),Me=kt.a;this.k&&this.k(Me.a.d,this.c),(Me=Me.e)!==kt.a;);this.i&&this.i(this.c)}}else{for(kt=!!this.l,Me=!1,Ye=-1,vt=(Lt=this.b).a.d;vt!==Lt.a;vt=vt.d)if(vt.c)for(Me||(this.h&&this.h(4,this.c),Me=!0),bn=vt.a;kt&&Ye!==(tn=bn.b.d.c?0:1)&&(Ye=tn,this.l&&this.l(!!Ye,this.c)),this.k&&this.k(bn.a.d,this.c),(bn=bn.e)!==vt.a;);Me&&this.i&&this.i(this.c)}if(this.r){for(Me=(Lt=this.b).a.b;Me!==Lt.a;Me=kt)if(kt=Me.b,!Me.c){for(vt=(Ye=Me.a).e,bn=void 0;vt=(bn=vt).e,(bn.d=null)===bn.b.d&&(bn.c===bn?k(bn.a,null):(bn.a.c=bn.c,D(bn,bn.b.e)),(tn=bn.b).c===tn?k(tn.a,null):(tn.a.c=tn.c,D(tn,tn.b.e)),j(bn)),bn!==Ye;);Ye=Me.d,((Me=Me.b).d=Ye).b=Me}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Pe,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Pe.prototype.gluDeleteTess=Pe.prototype.x,Pe.prototype.gluTessProperty=Pe.prototype.B,Pe.prototype.gluGetTessProperty=Pe.prototype.y,Pe.prototype.gluTessNormal=Pe.prototype.A,Pe.prototype.gluTessCallback=Pe.prototype.z,Pe.prototype.gluTessVertex=Pe.prototype.C,Pe.prototype.gluTessBeginPolygon=Pe.prototype.u,Pe.prototype.gluTessBeginContour=Pe.prototype.t,Pe.prototype.gluTessEndContour=Pe.prototype.v,Pe.prototype.gluTessEndPolygon=Pe.prototype.w,void 0!==V&&(V.exports=this.libtess)},{}],253:[function(o,V,w){"use strict";function d(p,m,C,x){for(var s=p[m++],a=1<<s,h=1+a,c=1+h,u=s+1,l=(1<<u)-1,y=0,f=0,b=0,D=p[m++],B=new Int32Array(4096),F=null;;){for(;y<16&&0!==D;)f|=p[m++]<<y,y+=8,1===D?D=p[m++]:--D;if(y<u)break;var j=f&l;if(f>>=u,y-=u,j==a)c=1+h,l=(1<<(u=s+1))-1,F=null;else{if(j==h)break;for(var k=j<c?j:F,U=0,T=k;a<T;)T=B[T]>>8,++U;var I=T;if(x<b+U+(k!==j?1:0))return void console.log("Warning, gif stream longer than expected.");C[b++]=I;var M=b+=U;for(k!==j&&(C[b++]=I),T=k;U--;)C[--M]=255&(T=B[T]),T>>=8;null!==F&&c<4096&&(B[c++]=F<<8|I,l+1<=c&&u<12&&(++u,l=l<<1|1)),F=j}}b!==x&&console.log("Warning, gif stream shorter than expected.")}try{w.GifWriter=function _(p,m,C,x){var s=0,a=void 0===(x=void 0===x?{}:x).loop?null:x.loop,h=void 0===x.palette?null:x.palette;if(m<=0||C<=0||65535<m||65535<C)throw new Error("Width/Height invalid.");function c(F){if((F=F.length)<2||256<F||F&F-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return F}p[s++]=71,p[s++]=73,p[s++]=70,p[s++]=56,p[s++]=57,p[s++]=97;var u=0,l=0;if(null!==h){for(var y=c(h);y>>=1;)++u;if(y=1<<u,--u,void 0!==x.background){if(y<=(l=x.background))throw new Error("Background index out of range.");if(0===l)throw new Error("Background index explicitly passed as 0.")}}if(p[s++]=255&m,p[s++]=m>>8&255,p[s++]=255&C,p[s++]=C>>8&255,p[s++]=(null!==h?128:0)|u,p[s++]=l,p[s++]=0,null!==h)for(var f=0,b=h.length;f<b;++f){var D=h[f];p[s++]=D>>16&255,p[s++]=D>>8&255,p[s++]=255&D}if(null!==a){if(a<0||65535<a)throw new Error("Loop count invalid.");p[s++]=33,p[s++]=255,p[s++]=11,p[s++]=78,p[s++]=69,p[s++]=84,p[s++]=83,p[s++]=67,p[s++]=65,p[s++]=80,p[s++]=69,p[s++]=50,p[s++]=46,p[s++]=48,p[s++]=3,p[s++]=1,p[s++]=255&a,p[s++]=a>>8&255,p[s++]=0}var B=!1;this.addFrame=function(F,j,k,U,T,I){if(!0===B&&(--s,B=!1),I=void 0===I?{}:I,F<0||j<0||65535<F||65535<j)throw new Error("x/y invalid.");if(k<=0||U<=0||65535<k||65535<U)throw new Error("Width/Height invalid.");if(T.length<k*U)throw new Error("Not enough pixels for the frame size.");var M=!0,q=I.palette;if(null==q&&(M=!1,q=h),null==q)throw new Error("Must supply either a local or global palette.");for(var Y=c(q),K=0;Y>>=1;)++K;Y=1<<K;var ie=void 0===I.delay?0:I.delay,te=void 0===I.disposal?0:I.disposal;if(te<0||3<te)throw new Error("Disposal out of range.");var z=!1,oe=0;if(null!=I.transparent&&(z=!0,(oe=I.transparent)<0||Y<=oe))throw new Error("Transparent color index.");if(0===te&&!z&&0===ie||(p[s++]=33,p[s++]=249,p[s++]=4,p[s++]=te<<2|(!0===z?1:0),p[s++]=255&ie,p[s++]=ie>>8&255,p[s++]=oe,p[s++]=0),p[s++]=44,p[s++]=255&F,p[s++]=F>>8&255,p[s++]=255&j,p[s++]=j>>8&255,p[s++]=255&k,p[s++]=k>>8&255,p[s++]=255&U,p[s++]=U>>8&255,p[s++]=!0===M?128|K-1:0,!0===M)for(var le=0,Ee=q.length;le<Ee;++le){var W=q[le];p[s++]=W>>16&255,p[s++]=W>>8&255,p[s++]=255&W}return s=function(R,ne,ue,we){R[ne++]=ue;var je=ne++,Be=1<<ue,We=Be-1,Oe=1+Be,Pe=1+Oe,$e=ue+1,ke=0,Qe=0;function tt(Je){for(;Je<=ke;)R[ne++]=255&Qe,Qe>>=8,ke-=8,ne===je+256&&(R[je]=255,je=ne++)}function _t(Je){Qe|=Je<<ke,ke+=$e,tt(8)}var gt=we[0]&We,xt={};_t(Be);for(var $t=1,Ot=we.length;$t<Ot;++$t){var jt=we[$t]&We,Tt=gt<<8|jt,ge=xt[Tt];if(void 0===ge){for(Qe|=gt<<ke,ke+=$e;8<=ke;)R[ne++]=255&Qe,Qe>>=8,ke-=8,ne===je+256&&(R[je]=255,je=ne++);4096===Pe?(_t(Be),Pe=1+Oe,$e=ue+1,xt={}):(1<<$e<=Pe&&++$e,xt[Tt]=Pe++),gt=jt}else gt=ge}return _t(gt),_t(Oe),tt(1),je+1===ne?R[je]=0:(R[je]=ne-je-1,R[ne++]=0),ne}(p,s,K<2?2:K,T)},this.end=function(){return!1===B&&(p[s++]=59,B=!0),s},this.getOutputBuffer=function(){return p},this.setOutputBuffer=function(F){p=F},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(F){s=F}},w.GifReader=function(p){var m=0;if(71!==p[m++]||73!==p[m++]||70!==p[m++]||56!==p[m++]||56!=(p[m++]+1&253)||97!==p[m++])throw new Error("Invalid GIF 87a/89a header.");var C=p[m++]|p[m++]<<8,x=p[m++]|p[m++]<<8,s=p[m++],h=(m++,m++,null),c=null,u=(s>>7&&(h=m,m+=3*(c=1<<1+(7&s))),!0),l=[],y=0,f=null,b=0,D=null;for(this.width=C,this.height=x;u&&m<p.length;)switch(p[m++]){case 33:switch(p[m++]){case 255:if(11!==p[m]||78==p[m+1]&&69==p[m+2]&&84==p[m+3]&&83==p[m+4]&&67==p[m+5]&&65==p[m+6]&&80==p[m+7]&&69==p[m+8]&&50==p[m+9]&&46==p[m+10]&&48==p[m+11]&&3==p[m+12]&&1==p[m+13]&&0==p[m+16])m+=14,D=p[m++]|p[m++]<<8,m++;else for(m+=12;;){if(!(0<=(F=p[m++])))throw Error("Invalid block size");if(0===F)break;m+=F}break;case 249:if(4!==p[m++]||0!==p[m+4])throw new Error("Invalid graphics extension block.");var B=p[m++];y=p[m++]|p[m++]<<8,f=p[m++],!(1&B)&&(f=null),b=B>>2&7,m++;break;case 254:for(;;){if(!(0<=(F=p[m++])))throw Error("Invalid block size");if(0===F)break;m+=F}break;default:throw new Error("Unknown graphic control label: 0x"+p[m-1].toString(16))}break;case 44:var F,j=p[m++]|p[m++]<<8,k=p[m++]|p[m++]<<8,U=p[m++]|p[m++]<<8,T=p[m++]|p[m++]<<8,I=(ie=p[m++])>>6&1,q=h,K=c,Y=!1,ie=(ie>>7&&(Y=!0,q=m,m+=3*(K=1<<1+(7&ie))),m);for(m++;;){if(!(0<=(F=p[m++])))throw Error("Invalid block size");if(0===F)break;m+=F}l.push({x:j,y:k,width:U,height:T,has_local_palette:Y,palette_offset:q,palette_size:K,data_offset:ie,data_length:m-ie,transparent_index:f,interlaced:!!I,delay:y,disposal:b});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+p[m-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return D},this.frameInfo=function(te){if(te<0||te>=l.length)throw new Error("Frame index out of range.");return l[te]},this.decodeAndBlitFrameBGRA=function(te,z){for(var oe=(te=this.frameInfo(te)).width*te.height,le=new Uint8Array(oe),Ee=(d(p,te.data_offset,le,oe),te.palette_offset),W=te.transparent_index,R=(null===W&&(W=256),te.width),ne=C-R,ue=R,we=4*(te.y*C+te.x),je=4*((te.y+te.height)*C+te.x),Be=we,We=4*ne,Oe=(!0===te.interlaced&&(We+=4*C*7),8),Pe=0,$e=le.length;Pe<$e;++Pe){var ke,Qe,tt=le[Pe];0===ue&&(ue=R,je<=(Be+=We)&&(We=4*ne+4*C*(Oe-1),Be=we+(R+ne)*(Oe<<1),Oe>>=1)),tt===W?Be+=4:(ke=p[Ee+3*tt],Qe=p[Ee+3*tt+1],z[Be++]=tt=p[Ee+3*tt+2],z[Be++]=Qe,z[Be++]=ke,z[Be++]=255),--ue}},this.decodeAndBlitFrameRGBA=function(te,z){for(var oe=(te=this.frameInfo(te)).width*te.height,le=new Uint8Array(oe),Ee=(d(p,te.data_offset,le,oe),te.palette_offset),W=te.transparent_index,R=(null===W&&(W=256),te.width),ne=C-R,ue=R,we=4*(te.y*C+te.x),je=4*((te.y+te.height)*C+te.x),Be=we,We=4*ne,Oe=(!0===te.interlaced&&(We+=4*C*7),8),Pe=0,$e=le.length;Pe<$e;++Pe){var ke,Qe,tt=le[Pe];0===ue&&(ue=R,je<=(Be+=We)&&(We=4*ne+4*C*(Oe-1),Be=we+(R+ne)*(Oe<<1),Oe>>=1)),tt===W?Be+=4:(ke=p[Ee+3*tt],Qe=p[Ee+3*tt+1],tt=p[Ee+3*tt+2],z[Be++]=ke,z[Be++]=Qe,z[Be++]=tt,z[Be++]=255),--ue}}}}catch{}},{}],254:[function(o,V,w){(function(_){var p;p=function(m){"use strict";function C(J){if(null==this)throw TypeError();var G,A=String(this),O=A.length;if(!((J=(J=J?Number(J):0)!=J?0:J)<0||O<=J))return 55296<=(G=A.charCodeAt(J))&&G<=56319&&J+1<O&&56320<=(O=A.charCodeAt(J+1))&&O<=57343?1024*(G-55296)+O-56320+65536:G}String.prototype.codePointAt||((x=function(){try{var S={},G=Object.defineProperty,A=G(S,S,S)&&G}catch{}return A}())?x(String.prototype,"codePointAt",{value:C,configurable:!0,writable:!0}):String.prototype.codePointAt=C);var x;function h(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function c(S,G){this.source=S,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=G,this.destLen=0,this.ltree=new h,this.dtree=new h}var u=new h,l=new h,y=new Uint8Array(30),f=new Uint16Array(30),b=new Uint8Array(30),D=new Uint16Array(30),B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),F=new h,j=new Uint8Array(320);function k(S,G,A,O){for(var J,X=0;X<A;++X)S[X]=0;for(X=0;X<30-A;++X)S[X+A]=X/A|0;for(J=O,X=0;X<30;++X)G[X]=J,J+=1<<S[X]}var U=new Uint16Array(16);function T(S,G,A,O){for(var J,X=0;X<16;++X)S.table[X]=0;for(X=0;X<O;++X)S.table[G[A+X]]++;for(X=J=S.table[0]=0;X<16;++X)U[X]=J,J+=S.table[X];for(X=0;X<O;++X)G[A+X]&&(S.trans[U[G[A+X]]++]=X)}function I(S,G,A){if(!G)return A;for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;var O=S.tag&65535>>>16-G;return S.tag>>>=G,S.bitcount-=G,O+A}function M(S,G){for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;for(var A=0,O=0,J=0,X=S.tag;O=2*O+(1&X),X>>>=1,A+=G.table[++J],0<=(O-=G.table[J]););return S.tag=X,S.bitcount-=J,G.trans[A+O]}function q(S,G,A){for(;;){if(256===(O=M(S,G)))return 0;if(O<256)S.dest[S.destLen++]=O;else for(var J,X=I(S,y[O-=257],f[O]),O=M(S,A),ce=J=S.destLen-I(S,b[O],D[O]);ce<J+X;++ce)S.dest[S.destLen++]=S.dest[ce]}}for(var K=u,Y=l,ie=0;ie<7;++ie)K.table[ie]=0;for(K.table[7]=24,K.table[8]=152,K.table[9]=112,ie=0;ie<24;++ie)K.trans[ie]=256+ie;for(ie=0;ie<144;++ie)K.trans[24+ie]=ie;for(ie=0;ie<8;++ie)K.trans[168+ie]=280+ie;for(ie=0;ie<112;++ie)K.trans[176+ie]=144+ie;for(ie=0;ie<5;++ie)Y.table[ie]=0;for(Y.table[5]=32,ie=0;ie<32;++ie)Y.trans[ie]=ie;k(y,f,4,3),k(b,D,2,1),y[28]=0,f[28]=258;var te=function(S,G){var A,O,J,X=new c(S,G);do{switch(void 0,(O=X).bitcount--||(O.tag=O.source[O.sourceIndex++],O.bitcount=7),J=1&O.tag,O.tag>>>=1,O=J,I(X,2,0)){case 0:A=function(en){for(var $n,Hn;8<en.bitcount;)en.sourceIndex--,en.bitcount-=8;if(($n=256*en.source[en.sourceIndex+1]+en.source[en.sourceIndex])!==(65535&~(256*en.source[en.sourceIndex+3]+en.source[en.sourceIndex+2])))return-3;for(en.sourceIndex+=4,Hn=$n;Hn;--Hn)en.dest[en.destLen++]=en.source[en.sourceIndex++];return en.bitcount=0,0}(X);break;case 1:A=q(X,u,l);break;case 2:cn=sn=_n=rn=ce=St=void 0;for(var ce,Ue=X,rt=X.ltree,ct=X.dtree,Ft=I(Ue,5,257),Kt=I(Ue,5,1),zt=I(Ue,4,4),St=0;St<19;++St)j[St]=0;for(St=0;St<zt;++St){var _n=I(Ue,3,0);j[B[St]]=_n}for(T(F,j,0,19),ce=0;ce<Ft+Kt;){var sn=M(Ue,F);switch(sn){case 16:for(var cn=j[ce-1],rn=I(Ue,2,3);rn;--rn)j[ce++]=cn;break;case 17:for(rn=I(Ue,3,3);rn;--rn)j[ce++]=0;break;case 18:for(rn=I(Ue,7,11);rn;--rn)j[ce++]=0;break;default:j[ce++]=sn}}T(rt,j,0,Ft),T(ct,j,Ft,Kt),A=q(X,X.ltree,X.dtree);break;default:A=-3}if(0!==A)throw new Error("Data error")}while(!O);return X.destLen<X.dest.length?"function"==typeof X.dest.slice?X.dest.slice(0,X.destLen):X.dest.subarray(0,X.destLen):X.dest};function z(S,G,A,O,J){return Math.pow(1-J,3)*S+3*Math.pow(1-J,2)*J*G+3*(1-J)*Math.pow(J,2)*A+Math.pow(J,3)*O}function oe(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function le(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Ee(S){throw new Error(S)}function W(S,G){S||Ee(G)}oe.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},oe.prototype.addPoint=function(S,G){"number"==typeof S&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=S,this.x2=S),S<this.x1&&(this.x1=S),S>this.x2&&(this.x2=S)),"number"==typeof G&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=G,this.y2=G),G<this.y1&&(this.y1=G),G>this.y2&&(this.y2=G))},oe.prototype.addX=function(S){this.addPoint(S,null)},oe.prototype.addY=function(S){this.addPoint(null,S)},oe.prototype.addBezier=function(S,G,A,O,J,X,ce,Ue){var rt=[S,G],ct=[A,O],Ft=[J,X],Kt=[ce,Ue];this.addPoint(S,G),this.addPoint(ce,Ue);for(var zt=0;zt<=1;zt++){var St,_n=6*rt[zt]-12*ct[zt]+6*Ft[zt],sn=-3*rt[zt]+9*ct[zt]-9*Ft[zt]+3*Kt[zt],cn=3*ct[zt]-3*rt[zt];0==sn?0==_n||0<(St=-cn/_n)&&St<1&&(0===zt&&this.addX(z(rt[zt],ct[zt],Ft[zt],Kt[zt],St)),1===zt&&this.addY(z(rt[zt],ct[zt],Ft[zt],Kt[zt],St))):(St=Math.pow(_n,2)-4*cn*sn)<0||(0<(cn=(-_n+Math.sqrt(St))/(2*sn))&&cn<1&&(0===zt&&this.addX(z(rt[zt],ct[zt],Ft[zt],Kt[zt],cn)),1===zt&&this.addY(z(rt[zt],ct[zt],Ft[zt],Kt[zt],cn))),0<(cn=(-_n-Math.sqrt(St))/(2*sn))&&cn<1&&(0===zt&&this.addX(z(rt[zt],ct[zt],Ft[zt],Kt[zt],cn)),1===zt&&this.addY(z(rt[zt],ct[zt],Ft[zt],Kt[zt],cn))))}},oe.prototype.addQuad=function(S,G,A,O,J,X){this.addBezier(S,G,A=S+2/3*(A-S),O=G+2/3*(O-G),A+1/3*(J-S),O+1/3*(X-G),J,X)},le.prototype.moveTo=function(S,G){this.commands.push({type:"M",x:S,y:G})},le.prototype.lineTo=function(S,G){this.commands.push({type:"L",x:S,y:G})},le.prototype.curveTo=le.prototype.bezierCurveTo=function(S,G,A,O,J,X){this.commands.push({type:"C",x1:S,y1:G,x2:A,y2:O,x:J,y:X})},le.prototype.quadTo=le.prototype.quadraticCurveTo=function(S,G,A,O){this.commands.push({type:"Q",x1:S,y1:G,x:A,y:O})},le.prototype.close=le.prototype.closePath=function(){this.commands.push({type:"Z"})},le.prototype.extend=function(S){var G;if(S.commands)S=S.commands;else if(S instanceof oe)return this.moveTo((G=S).x1,G.y1),this.lineTo(G.x2,G.y1),this.lineTo(G.x2,G.y2),this.lineTo(G.x1,G.y2),void this.close();Array.prototype.push.apply(this.commands,S)},le.prototype.getBoundingBox=function(){for(var S=new oe,G=0,A=0,O=0,J=0,X=0;X<this.commands.length;X++){var ce=this.commands[X];switch(ce.type){case"M":S.addPoint(ce.x,ce.y),G=O=ce.x,A=J=ce.y;break;case"L":S.addPoint(ce.x,ce.y),O=ce.x,J=ce.y;break;case"Q":S.addQuad(O,J,ce.x1,ce.y1,ce.x,ce.y),O=ce.x,J=ce.y;break;case"C":S.addBezier(O,J,ce.x1,ce.y1,ce.x2,ce.y2,ce.x,ce.y),O=ce.x,J=ce.y;break;case"Z":O=G,J=A;break;default:throw new Error("Unexpected path command "+ce.type)}}return S.isEmpty()&&S.addPoint(0,0),S},le.prototype.draw=function(S){S.beginPath();for(var G=0;G<this.commands.length;G+=1){var A=this.commands[G];"M"===A.type?S.moveTo(A.x,A.y):"L"===A.type?S.lineTo(A.x,A.y):"C"===A.type?S.bezierCurveTo(A.x1,A.y1,A.x2,A.y2,A.x,A.y):"Q"===A.type?S.quadraticCurveTo(A.x1,A.y1,A.x,A.y):"Z"===A.type&&S.closePath()}this.fill&&(S.fillStyle=this.fill,S.fill()),this.stroke&&(S.strokeStyle=this.stroke,S.lineWidth=this.strokeWidth,S.stroke())},le.prototype.toPathData=function(S){function G(){for(var X=arguments,ce="",Ue=0;Ue<arguments.length;Ue+=1){var rt=X[Ue];0<=rt&&0<Ue&&(ce+=" "),ce+=Math.round(rt)===rt?""+Math.round(rt):rt.toFixed(S)}return ce}S=void 0!==S?S:2;for(var A="",O=0;O<this.commands.length;O+=1){var J=this.commands[O];"M"===J.type?A+="M"+G(J.x,J.y):"L"===J.type?A+="L"+G(J.x,J.y):"C"===J.type?A+="C"+G(J.x1,J.y1,J.x2,J.y2,J.x,J.y):"Q"===J.type?A+="Q"+G(J.x1,J.y1,J.x,J.y):"Z"===J.type&&(A+="Z")}return A},le.prototype.toSVG=function(S){var G=(G='<path d="')+this.toPathData(S)+'"';return this.fill&&"black"!==this.fill&&(G+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(G+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),G+"/>"},le.prototype.toDOMElement=function(G){G=this.toPathData(G);var A=document.createElementNS("http://www.w3.org/2000/svg","path");return A.setAttribute("d",G),A};var R={fail:Ee,argument:W,assert:W},ne={},ue={},we={};function je(S){return function(){return S}}ue.BYTE=function(S){return R.argument(0<=S&&S<=255,"Byte value should be between 0 and 255."),[S]},we.BYTE=je(1),ue.CHAR=function(S){return[S.charCodeAt(0)]},we.CHAR=je(1),ue.CHARARRAY=function(S){for(var G=[],A=0;A<S.length;A+=1)G[A]=S.charCodeAt(A);return G},we.CHARARRAY=function(S){return S.length},ue.USHORT=function(S){return[S>>8&255,255&S]},we.USHORT=je(2),ue.SHORT=function(S){return[(S=32768<=S?-(65536-S):S)>>8&255,255&S]},we.SHORT=je(2),ue.UINT24=function(S){return[S>>16&255,S>>8&255,255&S]},we.UINT24=je(3),ue.ULONG=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},we.ULONG=je(4),ue.LONG=function(S){return[(S=2147483648<=S?-(4294967296-S):S)>>24&255,S>>16&255,S>>8&255,255&S]},we.LONG=je(4),ue.FIXED=ue.ULONG,we.FIXED=we.ULONG,ue.FWORD=ue.SHORT,we.FWORD=we.SHORT,ue.UFWORD=ue.USHORT,we.UFWORD=we.USHORT,ue.LONGDATETIME=function(S){return[0,0,0,0,S>>24&255,S>>16&255,S>>8&255,255&S]},we.LONGDATETIME=je(8),ue.TAG=function(S){return R.argument(4===S.length,"Tag should be exactly 4 ASCII characters."),[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]},we.TAG=je(4),ue.Card8=ue.BYTE,we.Card8=we.BYTE,ue.Card16=ue.USHORT,we.Card16=we.USHORT,ue.OffSize=ue.BYTE,we.OffSize=we.BYTE,ue.SID=ue.USHORT,we.SID=we.USHORT,ue.NUMBER=function(S){return-107<=S&&S<=107?[S+139]:108<=S&&S<=1131?[247+((S-=108)>>8),255&S]:-1131<=S&&S<=-108?[251+((S=-S-108)>>8),255&S]:-32768<=S&&S<=32767?ue.NUMBER16(S):ue.NUMBER32(S)},we.NUMBER=function(S){return ue.NUMBER(S).length},ue.NUMBER16=function(S){return[28,S>>8&255,255&S]},we.NUMBER16=je(3),ue.NUMBER32=function(S){return[29,S>>24&255,S>>16&255,S>>8&255,255&S]},we.NUMBER32=je(5),ue.REAL=function(S){for(var G=S.toString(),A=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(G),O=(A&&(A=parseFloat("1e"+((A[2]?+A[2]:0)+A[1].length)),G=(Math.round(S*A)/A).toString()),""),J=0,X=G.length;J<X;J+=1){var ce=G[J];O+="e"===ce?"-"===G[++J]?"c":"b":"."===ce?"a":"-"===ce?"e":ce}for(var Ue=[30],rt=0,ct=(O+=1&O.length?"f":"ff").length;rt<ct;rt+=2)Ue.push(parseInt(O.substr(rt,2),16));return Ue},we.REAL=function(S){return ue.REAL(S).length},ue.NAME=ue.CHARARRAY,we.NAME=we.CHARARRAY,ue.STRING=ue.CHARARRAY,we.STRING=we.CHARARRAY,ne.UTF8=function(S,G,A){for(var O=[],J=A,X=0;X<J;X++,G+=1)O[X]=S.getUint8(G);return String.fromCharCode.apply(null,O)},ne.UTF16=function(S,G,A){for(var O=[],J=A/2,X=0;X<J;X++,G+=2)O[X]=S.getUint16(G);return String.fromCharCode.apply(null,O)},ue.UTF16=function(S){for(var G=[],A=0;A<S.length;A+=1){var O=S.charCodeAt(A);G[G.length]=O>>8&255,G[G.length]=255&O}return G},we.UTF16=function(S){return 2*S.length};var Be,We={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},Oe=(ne.MACSTRING=function(S,G,A,O){var J=We[O];if(void 0!==J){for(var X="",ce=0;ce<A;ce++){var Ue=S.getUint8(G+ce);X+=Ue<=127?String.fromCharCode(Ue):J[127&Ue]}return X}},"function"==typeof WeakMap&&new WeakMap);function Pe(S){return-128<=S&&S<=127}ue.MACSTRING=function(S,G){var A=function(ce){if(!Be)for(var Ue in Be={},We)Be[Ue]=new String(Ue);var rt=Be[ce];if(void 0!==rt){if(Oe){var ct=Oe.get(rt);if(void 0!==ct)return ct}var Ft=We[ce];if(void 0!==Ft){for(var Kt={},zt=0;zt<Ft.length;zt++)Kt[Ft.charCodeAt(zt)]=zt+128;return Oe&&Oe.set(rt,Kt),Kt}}}(G);if(void 0!==A){for(var O=[],J=0;J<S.length;J++){var X=S.charCodeAt(J);if(128<=X&&void 0===(X=A[X]))return;O[J]=X}return O}},we.MACSTRING=function(S,G){return void 0!==(S=ue.MACSTRING(S,G))?S.length:0},ue.VARDELTAS=function(S){for(var O=0,G=[];O<S.length;){var A=S[O];O=(0===A?function(J,X,ce){for(var Ue=0,rt=J.length;X<rt&&Ue<64&&0===J[X];)++X,++Ue;return ce.push(128|Ue-1),X}:-128<=A&&A<=127?function(J,X,ce){for(var Ue=0,rt=J.length,ct=X;ct<rt&&Ue<64;){var Ft=J[ct];if(!Pe(Ft)||0===Ft&&ct+1<rt&&0===J[ct+1])break;++ct,++Ue}ce.push(Ue-1);for(var Kt=X;Kt<ct;++Kt)ce.push(J[Kt]+256&255);return ct}:function(J,X,ce){for(var Ue=0,rt=J.length,ct=X;ct<rt&&Ue<64;){var Ft=J[ct];if(0===Ft||Pe(Ft)&&ct+1<rt&&Pe(J[ct+1]))break;++ct,++Ue}ce.push(64|Ue-1);for(var Kt=X;Kt<ct;++Kt){var zt=J[Kt];ce.push(zt+65536>>8&255,zt+256&255)}return ct})(S,O,G)}return G},ue.INDEX=function(S){for(var G=1,A=[G],O=[],J=0;J<S.length;J+=1){var X=ue.OBJECT(S[J]);Array.prototype.push.apply(O,X),A.push(G+=X.length)}if(0===O.length)return[0,0];for(var ce=[],Ue=1+Math.floor(Math.log(G)/Math.log(2))/8|0,rt=[void 0,ue.BYTE,ue.USHORT,ue.UINT24,ue.ULONG][Ue],ct=0;ct<A.length;ct+=1){var Ft=rt(A[ct]);Array.prototype.push.apply(ce,Ft)}return Array.prototype.concat(ue.Card16(S.length),ue.OffSize(Ue),ce,O)},we.INDEX=function(S){return ue.INDEX(S).length},ue.DICT=function(S){for(var G=[],A=Object.keys(S),O=A.length,J=0;J<O;J+=1){var X=parseInt(A[J],0),ce=S[X];G=(G=G.concat(ue.OPERAND(ce.value,ce.type))).concat(ue.OPERATOR(X))}return G},we.DICT=function(S){return ue.DICT(S).length},ue.OPERATOR=function(S){return S<1200?[S]:[12,S-1200]},ue.OPERAND=function(S,G){var A=[];if(Array.isArray(G))for(var O=0;O<G.length;O+=1)R.argument(S.length===G.length,"Not enough arguments given for type"+G),A=A.concat(ue.OPERAND(S[O],G[O]));else if("SID"===G)A=A.concat(ue.NUMBER(S));else if("offset"===G)A=A.concat(ue.NUMBER32(S));else if("number"===G)A=A.concat(ue.NUMBER(S));else{if("real"!==G)throw new Error("Unknown operand type "+G);A=A.concat(ue.REAL(S))}return A},ue.OP=ue.BYTE,we.OP=we.BYTE;var $e="function"==typeof WeakMap&&new WeakMap;function ke(S,G,A){for(var O=0;O<G.length;O+=1){var J=G[O];this[J.name]=J.value}if(this.tableName=S,this.fields=G,A)for(var X=Object.keys(A),ce=0;ce<X.length;ce+=1){var Ue=X[ce];void 0!==this[Ue]&&(this[Ue]=A[Ue])}}function Qe(S,G,A){void 0===A&&(A=G.length);var O=new Array(G.length+1);O[0]={name:S+"Count",type:"USHORT",value:A};for(var J=0;J<G.length;J++)O[J+1]={name:S+J,type:"USHORT",value:G[J]};return O}function tt(S,G,A){var O=G.length,J=new Array(O+1);J[0]={name:S+"Count",type:"USHORT",value:O};for(var X=0;X<O;X++)J[X+1]={name:S+X,type:"TABLE",value:A(G[X],X)};return J}function _t(S,G,A){var O=G.length,J=[];J[0]={name:S+"Count",type:"USHORT",value:O};for(var X=0;X<O;X++)J=J.concat(A(G[X],X));return J}function gt(S){1===S.format?ke.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Qe("glyph",S.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function xt(S){ke.call(this,"scriptListTable",_t("scriptRecord",S,function(G,A){var O=G.script,J=O.defaultLangSys;return R.assert(!!J,"Unable to write GSUB: script "+G.tag+" has no default language system."),[{name:"scriptTag"+A,type:"TAG",value:G.tag},{name:"script"+A,type:"TABLE",value:new ke("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ke("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:J.reqFeatureIndex}].concat(Qe("featureIndex",J.featureIndexes)))}].concat(_t("langSys",O.langSysRecords,function(X,ce){var Ue=X.langSys;return[{name:"langSysTag"+ce,type:"TAG",value:X.tag},{name:"langSys"+ce,type:"TABLE",value:new ke("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Ue.reqFeatureIndex}].concat(Qe("featureIndex",Ue.featureIndexes)))}]})))}]}))}function $t(S){ke.call(this,"featureListTable",_t("featureRecord",S,function(G,A){var O=G.feature;return[{name:"featureTag"+A,type:"TAG",value:G.tag},{name:"feature"+A,type:"TABLE",value:new ke("featureTable",[{name:"featureParams",type:"USHORT",value:O.featureParams}].concat(Qe("lookupListIndex",O.lookupListIndexes)))}]}))}function Ot(S,G){ke.call(this,"lookupListTable",tt("lookup",S,function(A){var O=G[A.lookupType];return R.assert(!!O,"Unable to write GSUB lookup type "+A.lookupType+" tables."),new ke("lookupTable",[{name:"lookupType",type:"USHORT",value:A.lookupType},{name:"lookupFlag",type:"USHORT",value:A.lookupFlag}].concat(tt("subtable",A.subtables,O)))}))}ue.CHARSTRING=function(S){if($e){var G=$e.get(S);if(void 0!==G)return G}for(var X=[],A=S.length,O=0;O<A;O+=1){var J=S[O];X=X.concat(ue[J.type](J.value))}return $e&&$e.set(S,X),X},we.CHARSTRING=function(S){return ue.CHARSTRING(S).length},ue.OBJECT=function(S){var G=ue[S.type];return R.argument(void 0!==G,"No encoding function for type "+S.type),G(S.value)},we.OBJECT=function(S){var G=we[S.type];return R.argument(void 0!==G,"No sizeOf function for type "+S.type),G(S.value)},ue.TABLE=function(S){for(var G=[],A=S.fields.length,O=[],J=[],X=0;X<A;X+=1){var ce=S.fields[X],Ue=(R.argument(void 0!==(rt=ue[ce.type]),"No encoding function for field type "+ce.type+" ("+ce.name+")"),S[ce.name]),rt=rt(Ue=void 0===Ue?ce.value:Ue);"TABLE"===ce.type?(J.push(G.length),G=G.concat([0,0]),O.push(rt)):G=G.concat(rt)}for(var ct=0;ct<O.length;ct+=1){var Ft=J[ct],Kt=G.length;R.argument(Kt<65536,"Table "+S.tableName+" too big."),G[Ft]=Kt>>8,G[Ft+1]=255&Kt,G=G.concat(O[ct])}return G},we.TABLE=function(S){for(var G=0,A=S.fields.length,O=0;O<A;O+=1){var J=S.fields[O],X=we[J.type],ce=(R.argument(void 0!==X,"No sizeOf function for field type "+J.type+" ("+J.name+")"),S[J.name]);G+=X(ce=void 0===ce?J.value:ce),"TABLE"===J.type&&(G+=2)}return G},ue.RECORD=ue.TABLE,we.RECORD=we.TABLE,ue.LITERAL=function(S){return S},we.LITERAL=function(S){return S.length},ke.prototype.encode=function(){return ue.TABLE(this)},ke.prototype.sizeOf=function(){return we.TABLE(this)};var jt={Table:ke,Record:ke,Coverage:(gt.prototype=Object.create(ke.prototype)).constructor=gt,ScriptList:(xt.prototype=Object.create(ke.prototype)).constructor=xt,FeatureList:($t.prototype=Object.create(ke.prototype)).constructor=$t,LookupList:(Ot.prototype=Object.create(ke.prototype)).constructor=Ot,ushortList:Qe,tableList:tt,recordList:_t};function Tt(S,G){return S.getUint8(G)}function ge(S,G){return S.getUint16(G,!1)}function Je(S,G){return S.getUint32(G,!1)}function ut(S,G){return S.getInt16(G,!1)+S.getUint16(G+2,!1)/65535}var Rt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ze(S,G){this.data=S,this.offset=G,this.relativeOffset=0}Ze.prototype.parseByte=function(){var S=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Ze.prototype.parseChar=function(){var S=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Ze.prototype.parseCard8=Ze.prototype.parseByte,Ze.prototype.parseCard16=Ze.prototype.parseUShort=function(){var S=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Ze.prototype.parseSID=Ze.prototype.parseUShort,Ze.prototype.parseOffset16=Ze.prototype.parseUShort,Ze.prototype.parseShort=function(){var S=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Ze.prototype.parseF2Dot14=function(){var S=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,S},Ze.prototype.parseOffset32=Ze.prototype.parseULong=function(){var S=Je(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Ze.prototype.parseFixed=function(){var S=ut(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Ze.prototype.parseString=function(S){var G=this.data,A=this.offset+this.relativeOffset,O="";this.relativeOffset+=S;for(var J=0;J<S;J++)O+=String.fromCharCode(G.getUint8(A+J));return O},Ze.prototype.parseTag=function(){return this.parseString(4)},Ze.prototype.parseLongDateTime=function(){var S=Je(this.data,this.offset+this.relativeOffset+4);return S-=2082844800,this.relativeOffset+=8,S},Ze.prototype.parseVersion=function(S){var G=ge(this.data,this.offset+this.relativeOffset),A=ge(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,G+A/(S=void 0===S?4096:S)/10},Ze.prototype.skip=function(S,G){this.relativeOffset+=Rt[S]*(G=void 0===G?1:G)},Ze.prototype.parseULongList=function(S){void 0===S&&(S=this.parseULong());for(var G=new Array(S),A=this.data,O=this.offset+this.relativeOffset,J=0;J<S;J++)G[J]=A.getUint32(O),O+=4;return this.relativeOffset+=4*S,G},Ze.prototype.parseOffset16List=Ze.prototype.parseUShortList=function(S){void 0===S&&(S=this.parseUShort());for(var G=new Array(S),A=this.data,O=this.offset+this.relativeOffset,J=0;J<S;J++)G[J]=A.getUint16(O),O+=2;return this.relativeOffset+=2*S,G},Ze.prototype.parseShortList=function(S){for(var G=new Array(S),A=this.data,O=this.offset+this.relativeOffset,J=0;J<S;J++)G[J]=A.getInt16(O),O+=2;return this.relativeOffset+=2*S,G},Ze.prototype.parseByteList=function(S){for(var G=new Array(S),A=this.data,O=this.offset+this.relativeOffset,J=0;J<S;J++)G[J]=A.getUint8(O++);return this.relativeOffset+=S,G},Ze.prototype.parseList=function(S,G){G||(G=S,S=this.parseUShort());for(var A=new Array(S),O=0;O<S;O++)A[O]=G.call(this);return A},Ze.prototype.parseList32=function(S,G){G||(G=S,S=this.parseULong());for(var A=new Array(S),O=0;O<S;O++)A[O]=G.call(this);return A},Ze.prototype.parseRecordList=function(S,G){G||(G=S,S=this.parseUShort());for(var A=new Array(S),O=Object.keys(G),J=0;J<S;J++){for(var X={},ce=0;ce<O.length;ce++){var Ue=O[ce];X[Ue]=G[Ue].call(this)}A[J]=X}return A},Ze.prototype.parseRecordList32=function(S,G){G||(G=S,S=this.parseULong());for(var A=new Array(S),O=Object.keys(G),J=0;J<S;J++){for(var X={},ce=0;ce<O.length;ce++){var Ue=O[ce];X[Ue]=G[Ue].call(this)}A[J]=X}return A},Ze.prototype.parseStruct=function(S){if("function"==typeof S)return S.call(this);for(var G=Object.keys(S),A={},O=0;O<G.length;O++){var J=G[O];A[J]=S[J].call(this)}return A},Ze.prototype.parseValueRecord=function(S){var G;if(0!==(S=void 0===S?this.parseUShort():S))return G={},1&S&&(G.xPlacement=this.parseShort()),2&S&&(G.yPlacement=this.parseShort()),4&S&&(G.xAdvance=this.parseShort()),8&S&&(G.yAdvance=this.parseShort()),16&S&&(G.xPlaDevice=void 0,this.parseShort()),32&S&&(G.yPlaDevice=void 0,this.parseShort()),64&S&&(G.xAdvDevice=void 0,this.parseShort()),128&S&&(G.yAdvDevice=void 0,this.parseShort()),G},Ze.prototype.parseValueRecordList=function(){for(var S=this.parseUShort(),G=this.parseUShort(),A=new Array(G),O=0;O<G;O++)A[O]=this.parseValueRecord(S);return A},Ze.prototype.parsePointer=function(S){var G=this.parseOffset16();if(0<G)return new Ze(this.data,this.offset+G).parseStruct(S)},Ze.prototype.parsePointer32=function(S){var G=this.parseOffset32();if(0<G)return new Ze(this.data,this.offset+G).parseStruct(S)},Ze.prototype.parseListOfLists=function(S){for(var G=this.parseOffset16List(),A=G.length,O=this.relativeOffset,J=new Array(A),X=0;X<A;X++){var ce=G[X];if(0===ce)J[X]=void 0;else if(this.relativeOffset=ce,S){for(var Ue=this.parseOffset16List(),rt=new Array(Ue.length),ct=0;ct<Ue.length;ct++)this.relativeOffset=ce+Ue[ct],rt[ct]=S.call(this);J[X]=rt}else J[X]=this.parseUShortList()}return this.relativeOffset=O,J},Ze.prototype.parseCoverage=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort(),A=this.parseUShort();if(1===G)return{format:1,glyphs:this.parseUShortList(A)};if(2!==G)throw new Error("0x"+S.toString(16)+": Coverage format must be 1 or 2.");for(var O=new Array(A),J=0;J<A;J++)O[J]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:O}},Ze.prototype.parseClassDef=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort();if(1===G)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===G)return{format:2,ranges:this.parseRecordList({start:Ze.uShort,end:Ze.uShort,classId:Ze.uShort})};throw new Error("0x"+S.toString(16)+": ClassDef format must be 1 or 2.")},Ze.list=function(S,G){return function(){return this.parseList(S,G)}},Ze.list32=function(S,G){return function(){return this.parseList32(S,G)}},Ze.recordList=function(S,G){return function(){return this.parseRecordList(S,G)}},Ze.recordList32=function(S,G){return function(){return this.parseRecordList32(S,G)}},Ze.pointer=function(S){return function(){return this.parsePointer(S)}},Ze.pointer32=function(S){return function(){return this.parsePointer32(S)}},Ze.tag=Ze.prototype.parseTag,Ze.byte=Ze.prototype.parseByte,Ze.uShort=Ze.offset16=Ze.prototype.parseUShort,Ze.uShortList=Ze.prototype.parseUShortList,Ze.uLong=Ze.offset32=Ze.prototype.parseULong,Ze.uLongList=Ze.prototype.parseULongList,Ze.struct=Ze.prototype.parseStruct,Ze.coverage=Ze.prototype.parseCoverage,Ze.classDef=Ze.prototype.parseClassDef;var Dt={reserved:Ze.uShort,reqFeatureIndex:Ze.uShort,featureIndexes:Ze.uShortList},pt=(Ze.prototype.parseScriptList=function(){return this.parsePointer(Ze.recordList({tag:Ze.tag,script:Ze.pointer({defaultLangSys:Ze.pointer(Dt),langSysRecords:Ze.recordList({tag:Ze.tag,langSys:Ze.pointer(Dt)})})}))||[]},Ze.prototype.parseFeatureList=function(){return this.parsePointer(Ze.recordList({tag:Ze.tag,feature:Ze.pointer({featureParams:Ze.offset16,lookupListIndexes:Ze.uShortList})}))||[]},Ze.prototype.parseLookupList=function(S){return this.parsePointer(Ze.list(Ze.pointer(function(){var G=this.parseUShort(),A=(R.argument(1<=G&&G<=9,"GPOS/GSUB lookup type "+G+" unknown."),this.parseUShort()),O=16&A;return{lookupType:G,lookupFlag:A,subtables:this.parseList(Ze.pointer(S[G])),markFilteringSet:O?this.parseUShort():void 0}})))||[]},Ze.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var S=this.parseUShort(),G=this.parseUShort();return R.argument(1===S&&G<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ze.offset32,featureTableSubstitutionOffset:Ze.offset32})})||[]},{getByte:Tt,getCard8:Tt,getUShort:ge,getCard16:ge,getShort:function(S,G){return S.getInt16(G,!1)},getULong:Je,getFixed:ut,getTag:function(S,G){for(var A="",O=G;O<G+4;O+=1)A+=String.fromCharCode(S.getInt8(O));return A},getOffset:function(S,G,A){for(var O=0,J=0;J<A;J+=1)O=(O<<=8)+S.getUint8(G+J);return O},getBytes:function(S,G,A){for(var O=[],J=G;J<A;J+=1)O.push(S.getUint8(J));return O},bytesToString:function(S){for(var G="",A=0;A<S.length;A+=1)G+=String.fromCharCode(S[A]);return G},Parser:Ze}),Re_parse=function(S,G){for(var A={},O=(A.version=pt.getUShort(S,G),R.argument(0===A.version,"cmap table version should be 0."),A.numTables=pt.getUShort(S,G+2),-1),J=A.numTables-1;0<=J;--J){var X=pt.getUShort(S,G+4+8*J),ce=pt.getUShort(S,G+4+8*J+2);if(3===X&&(0===ce||1===ce||10===ce)||0===X&&(0===ce||1===ce||2===ce||3===ce||4===ce)){O=pt.getULong(S,G+4+8*J+4);break}}if(-1===O)throw new Error("No valid cmap sub-tables found.");var Ue=new pt.Parser(S,G+O);if(A.format=Ue.parseUShort(),12===A.format){var rt,ct=A,Ft=Ue;Ft.parseUShort(),ct.length=Ft.parseULong(),ct.language=Ft.parseULong(),ct.groupCount=rt=Ft.parseULong(),ct.glyphIndexMap={};for(var Kt=0;Kt<rt;Kt+=1)for(var zt=Ft.parseULong(),St=Ft.parseULong(),_n=Ft.parseULong(),sn=zt;sn<=St;sn+=1)ct.glyphIndexMap[sn]=_n,_n++}else{if(4!==A.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+A.format+").");var cn=A,rn=S,en=G,$n=O;cn.length=Ue.parseUShort(),cn.language=Ue.parseUShort(),cn.segCount=Hn=Ue.parseUShort()>>1,Ue.skip("uShort",3),cn.glyphIndexMap={};for(var Hn,Wn=new pt.Parser(rn,en+$n+14),Vn=new pt.Parser(rn,en+$n+16+2*Hn),Zn=new pt.Parser(rn,en+$n+16+4*Hn),er=new pt.Parser(rn,en+$n+16+6*Hn),Ur=en+$n+16+8*Hn,Kr=0;Kr<Hn-1;Kr+=1)for(var Zr=void 0,Jr=Wn.parseUShort(),ho=Vn.parseUShort(),Cr=Zn.parseShort(),Ir=er.parseUShort(),yr=ho;yr<=Jr;yr+=1)0!==Ir?(Ur=(Ur=er.offset+er.relativeOffset-2)+Ir+2*(yr-ho),0!==(Zr=pt.getUShort(rn,Ur))&&(Zr=Zr+Cr&65535)):Zr=yr+Cr&65535,cn.glyphIndexMap[yr]=Zr}return A},Re_make=function(S){for(var G=!0,A=S.length-1;0<A;--A)if(65535<S.get(A).unicode){console.log("Adding CMAP format 12 (needed!)"),G=!1;break}var O,J,X=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:G?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:G?12:20}],ce=(X=(X=G?X:X.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new jt.Table("cmap",X));for(ce.segments=[],A=0;A<S.length;A+=1){for(var Ue=S.get(A),rt=0;rt<Ue.unicodes.length;rt+=1)ce.segments.push({end:O=Ue.unicodes[rt],start:O,delta:-(O-(J=A)),offset:0,glyphIndex:J});ce.segments=ce.segments.sort(function(en,$n){return en.start-$n.start})}ce.segments.push({end:65535,start:65535,delta:1,offset:0});var ct=ce.segments.length,Ft=0,Kt=[],zt=[],St=[],_n=[],sn=[],cn=[];for(A=0;A<ct;A+=1){var rn=ce.segments[A];rn.end<=65535&&rn.start<=65535?(Kt=Kt.concat({name:"end_"+A,type:"USHORT",value:rn.end}),zt=zt.concat({name:"start_"+A,type:"USHORT",value:rn.start}),St=St.concat({name:"idDelta_"+A,type:"SHORT",value:rn.delta}),_n=_n.concat({name:"idRangeOffset_"+A,type:"USHORT",value:rn.offset}),void 0!==rn.glyphId&&(sn=sn.concat({name:"glyph_"+A,type:"USHORT",value:rn.glyphId}))):Ft+=1,G||void 0===rn.glyphIndex||(cn=(cn=(cn=cn.concat({name:"cmap12Start_"+A,type:"ULONG",value:rn.start})).concat({name:"cmap12End_"+A,type:"ULONG",value:rn.end})).concat({name:"cmap12Glyph_"+A,type:"ULONG",value:rn.glyphIndex}))}return ce.segCountX2=2*(ct-Ft),ce.searchRange=2*Math.pow(2,Math.floor(Math.log(ct-Ft)/Math.log(2))),ce.entrySelector=Math.log(ce.searchRange/2)/Math.log(2),ce.rangeShift=ce.segCountX2-ce.searchRange,ce.fields=ce.fields.concat(Kt),ce.fields.push({name:"reservedPad",type:"USHORT",value:0}),ce.fields=ce.fields.concat(zt),ce.fields=ce.fields.concat(St),ce.fields=ce.fields.concat(_n),ce.fields=ce.fields.concat(sn),ce.cmap4Length=14+2*Kt.length+2+2*zt.length+2*St.length+2*_n.length+2*sn.length,G||(X=16+4*cn.length,ce.cmap12Offset=20+ce.cmap4Length,ce.fields=ce.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:X},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:cn.length/3}]),ce.fields=ce.fields.concat(cn)),ce},Ne=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Me=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ye=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],vt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function kt(S){this.font=S}function Lt(S){this.cmap=S}function tn(S,G){this.encoding=S,this.charset=G}function bn(S){switch(S.version){case 1:this.names=vt.slice();break;case 2:this.names=new Array(S.numberOfGlyphs);for(var G=0;G<S.numberOfGlyphs;G++)this.names[G]=S.glyphNameIndex[G]<vt.length?vt[S.glyphNameIndex[G]]:S.names[S.glyphNameIndex[G]-vt.length];break;case 2.5:this.names=new Array(S.numberOfGlyphs);for(var A=0;A<S.numberOfGlyphs;A++)this.names[A]=vt[A+S.glyphNameIndex[A]];break;default:this.names=[]}}kt.prototype.charToGlyphIndex=function(S){var G=S.codePointAt(0),A=this.font.glyphs;if(A)for(var O=0;O<A.length;O+=1)for(var J=A.get(O),X=0;X<J.unicodes.length;X+=1)if(J.unicodes[X]===G)return O;return null},Lt.prototype.charToGlyphIndex=function(S){return this.cmap.glyphIndexMap[S.codePointAt(0)]||0},tn.prototype.charToGlyphIndex=function(S){return S=S.codePointAt(0),this.charset.indexOf(S=this.encoding[S])},bn.prototype.nameToGlyphIndex=function(S){return this.names.indexOf(S)},bn.prototype.glyphIndexToName=function(S){return this.names[S]};var gn_line=function(S,G,A,O,J){S.beginPath(),S.moveTo(G,A),S.lineTo(O,J),S.stroke()};function Pt(S){this.bindConstructorValues(S)}function yt(S,G,A){Object.defineProperty(S,G,{get:function(){return S[A]},set:function(O){S[A]=O},enumerable:!0,configurable:!0})}function it(S,G){if(this.font=S,this.glyphs={},Array.isArray(G))for(var A=0;A<G.length;A++)this.glyphs[A]=G[A];this.length=G&&G.length||0}Pt.prototype.bindConstructorValues=function(S){var G;this.index=S.index||0,this.name=S.name||null,this.unicode=S.unicode||void 0,this.unicodes=S.unicodes||void 0!==S.unicode?[S.unicode]:[],S.xMin&&(this.xMin=S.xMin),S.yMin&&(this.yMin=S.yMin),S.xMax&&(this.xMax=S.xMax),S.yMax&&(this.yMax=S.yMax),S.advanceWidth&&(this.advanceWidth=S.advanceWidth),Object.defineProperty(this,"path",(G=(S=S.path)||new le,{configurable:!0,get:function(){return G="function"==typeof G?G():G},set:function(A){G=A}}))},Pt.prototype.addUnicode=function(S){0===this.unicodes.length&&(this.unicode=S),this.unicodes.push(S)},Pt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Pt.prototype.getPath=function(S,G,A,O,J){S=void 0!==S?S:0,G=void 0!==G?G:0,A=void 0!==A?A:72;for(var X,ce,Ue=(O=O||{}).xScale,rt=O.yScale,ct=((X=O.hinting&&J&&J.hinting?this.path&&J.hinting.exec(this,A):X)?(ce=J.hinting.getCommands(X),S=Math.round(S),G=Math.round(G),Ue=rt=1):(ce=this.path.commands,O=1/this.path.unitsPerEm*A,void 0===Ue&&(Ue=O),void 0===rt&&(rt=O)),new le),Ft=0;Ft<ce.length;Ft+=1){var Kt=ce[Ft];"M"===Kt.type?ct.moveTo(S+Kt.x*Ue,G+-Kt.y*rt):"L"===Kt.type?ct.lineTo(S+Kt.x*Ue,G+-Kt.y*rt):"Q"===Kt.type?ct.quadraticCurveTo(S+Kt.x1*Ue,G+-Kt.y1*rt,S+Kt.x*Ue,G+-Kt.y*rt):"C"===Kt.type?ct.curveTo(S+Kt.x1*Ue,G+-Kt.y1*rt,S+Kt.x2*Ue,G+-Kt.y2*rt,S+Kt.x*Ue,G+-Kt.y*rt):"Z"===Kt.type&&ct.closePath()}return ct},Pt.prototype.getContours=function(){if(void 0===this.points)return[];for(var S=[],G=[],A=0;A<this.points.length;A+=1){var O=this.points[A];G.push(O),O.lastPointOfContour&&(S.push(G),G=[])}return R.argument(0===G.length,"There are still points left in the current contour."),S},Pt.prototype.getMetrics=function(){for(var S=this.path.commands,G=[],A=[],O=0;O<S.length;O+=1){var J=S[O];"Z"!==J.type&&(G.push(J.x),A.push(J.y)),"Q"!==J.type&&"C"!==J.type||(G.push(J.x1),A.push(J.y1)),"C"===J.type&&(G.push(J.x2),A.push(J.y2))}var X={xMin:Math.min.apply(null,G),yMin:Math.min.apply(null,A),xMax:Math.max.apply(null,G),yMax:Math.max.apply(null,A),leftSideBearing:this.leftSideBearing};return isFinite(X.xMin)||(X.xMin=0),isFinite(X.xMax)||(X.xMax=this.advanceWidth),isFinite(X.yMin)||(X.yMin=0),isFinite(X.yMax)||(X.yMax=0),X.rightSideBearing=this.advanceWidth-X.leftSideBearing-(X.xMax-X.xMin),X},Pt.prototype.draw=function(S,G,A,O,J){this.getPath(G,A,O,J).draw(S)},Pt.prototype.drawPoints=function(S,G,A,O){function J(Ft,Kt,zt,St){var _n=2*Math.PI;S.beginPath();for(var sn=0;sn<Ft.length;sn+=1)S.moveTo(Kt+Ft[sn].x*St,zt+Ft[sn].y*St),S.arc(Kt+Ft[sn].x*St,zt+Ft[sn].y*St,2,0,_n,!1);S.closePath(),S.fill()}G=void 0!==G?G:0,A=void 0!==A?A:0,O=1/this.path.unitsPerEm*(O=void 0!==O?O:24);for(var X=[],ce=[],Ue=this.path,rt=0;rt<Ue.commands.length;rt+=1){var ct=Ue.commands[rt];void 0!==ct.x&&X.push({x:ct.x,y:-ct.y}),void 0!==ct.x1&&ce.push({x:ct.x1,y:-ct.y1}),void 0!==ct.x2&&ce.push({x:ct.x2,y:-ct.y2})}S.fillStyle="blue",J(X,G,A,O),S.fillStyle="red",J(ce,G,A,O)},Pt.prototype.drawMetrics=function(S,G,A,O){G=void 0!==G?G:0,A=void 0!==A?A:0,O=1/this.path.unitsPerEm*(O=void 0!==O?O:24),S.lineWidth=1,S.strokeStyle="black",gn_line(S,G,-1e4,G,1e4),gn_line(S,-1e4,A,1e4,A);var J=this.xMin||0,X=this.yMin||0,ce=this.xMax||0,Ue=this.yMax||0,rt=this.advanceWidth||0;S.strokeStyle="blue",gn_line(S,G+J*O,-1e4,G+J*O,1e4),gn_line(S,G+ce*O,-1e4,G+ce*O,1e4),gn_line(S,-1e4,A+-X*O,1e4,A+-X*O),gn_line(S,-1e4,A+-Ue*O,1e4,A+-Ue*O),S.strokeStyle="green",gn_line(S,G+rt*O,-1e4,G+rt*O,1e4)},it.prototype.get=function(S){return"function"==typeof this.glyphs[S]&&(this.glyphs[S]=this.glyphs[S]()),this.glyphs[S]},it.prototype.push=function(S,G){this.glyphs[S]=G,this.length++};var Xe={GlyphSet:it,glyphLoader:function(S,G){return new Pt({index:G,font:S})},ttfGlyphLoader:function(S,G,A,O,J,X){return function(){var ce=new Pt({index:G,font:S});return ce.path=function(){A(ce,O,J);var Ue=X(S.glyphs,ce);return Ue.unitsPerEm=S.unitsPerEm,Ue},yt(ce,"xMin","_xMin"),yt(ce,"xMax","_xMax"),yt(ce,"yMin","_yMin"),yt(ce,"yMax","_yMax"),ce}},cffGlyphLoader:function(S,G,A,O){return function(){var J=new Pt({index:G,font:S});return J.path=function(){var X=A(S,J,O);return X.unitsPerEm=S.unitsPerEm,X},J}}};function at(S){return S.length<1240?107:S.length<33900?1131:32768}function It(S,G,A){var O,J=[],X=[],ce=pt.getCard16(S,G);if(0!==ce){for(var Ue=pt.getByte(S,G+2),rt=G+(ce+1)*Ue+2,ct=G+3,Ft=0;Ft<ce+1;Ft+=1)J.push(pt.getOffset(S,ct,Ue)),ct+=Ue;O=rt+J[ce]}else O=G+2;for(var Kt=0;Kt<J.length-1;Kt+=1){var zt=pt.getBytes(S,rt+J[Kt],rt+J[Kt+1]);A&&(zt=A(zt)),X.push(zt)}return{objects:X,startOffset:G,endOffset:O}}function Yt(S,G){if(28===G)return S.parseByte()<<8|S.parseByte();if(29===G)return S.parseByte()<<24|S.parseByte()<<16|S.parseByte()<<8|S.parseByte();if(30===G){for(var A=S,O="",J=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var X=(ce=A.parseByte())>>4,ce=15&ce;if(15==X||(O+=J[X],15==ce))break;O+=J[ce]}return parseFloat(O)}if(32<=G&&G<=246)return G-139;if(247<=G&&G<=250)return 256*(G-247)+S.parseByte()+108;if(251<=G&&G<=254)return 256*-(G-251)-S.parseByte()-108;throw new Error("Invalid b0 "+G)}function et(S,G,A){var O=new pt.Parser(S,G=void 0!==G?G:0),J=[],X=[];for(A=void 0!==A?A:S.length;O.relativeOffset<A;){var ce=O.parseByte();ce<=21?(12===ce&&(ce=1200+O.parseByte()),J.push([ce,X]),X=[]):X.push(Yt(O,ce))}for(var Ue=J,rt={},ct=0;ct<Ue.length;ct+=1){var zt,Ft=Ue[ct][0],Kt=Ue[ct][1];if(zt=1===Kt.length?Kt[0]:Kt,rt.hasOwnProperty(Ft)&&!isNaN(rt[Ft]))throw new Error("Object "+rt+" already has key "+Ft);rt[Ft]=zt}return rt}function Mt(S,G){return G<=390?Ne[G]:S[G-391]}function Ut(S,G,A){for(var O,J={},X=0;X<G.length;X+=1){var ce=G[X];if(Array.isArray(ce.type)){var Ue=[];Ue.length=ce.type.length;for(var rt=0;rt<ce.type.length;rt++)void 0===(O=void 0!==S[ce.op]?S[ce.op][rt]:void 0)&&(O=void 0!==ce.value&&void 0!==ce.value[rt]?ce.value[rt]:null),"SID"===ce.type[rt]&&(O=Mt(A,O)),Ue[rt]=O;J[ce.name]=Ue}else void 0===(O=S[ce.op])&&(O=void 0!==ce.value?ce.value:null),"SID"===ce.type&&(O=Mt(A,O)),J[ce.name]=O}return J}var Wt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Zt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function mn(S,G,A,O){return Ut(et(S,G,A),Zt,O)}function wn(S,G,A,O){for(var J=[],X=0;X<A.length;X+=1){var ce,Ue=((Ue=O,ce=Ut(et(ce=new DataView(new Uint8Array(A[X]).buffer),0,ce.byteLength),Wt,Ue))._subrs=[],ce._subrsBias=0,ce.private[0]),rt=ce.private[1];0!==Ue&&0!==rt&&(Ue=mn(S,rt+G,Ue,O),ce._defaultWidthX=Ue.defaultWidthX,ce._nominalWidthX=Ue.nominalWidthX,0!==Ue.subrs&&(rt=It(S,rt+Ue.subrs+G),ce._subrs=rt.objects,ce._subrsBias=at(ce._subrs)),ce._privateDict=Ue),J.push(ce)}return J}function Cn(S,G,A){var O,J,X,ce,Ue,rt,ct,Ft,Kt,zt=new le,St=[],_n=0,sn=!1,cn=!1,rn=0,en=0,$n=(Kt=(S.isCIDFont?(Ue=S.tables.cff.topDict._fdSelect[G.index],Ue=S.tables.cff.topDict._fdArray[Ue],rt=Ue._subrs,ct=Ue._subrsBias,Ft=Ue._defaultWidthX,Ue):(rt=S.tables.cff.topDict._subrs,ct=S.tables.cff.topDict._subrsBias,Ft=S.tables.cff.topDict._defaultWidthX,S.tables.cff.topDict))._nominalWidthX,Ft);function Hn(Vn,Zn){cn&&zt.closePath(),zt.moveTo(Vn,Zn),cn=!0}function Wn(){St.length%2==0||sn||($n=St.shift()+Kt),_n+=St.length>>1,St.length=0,sn=!0}return function Vn(Zn){for(var er,Ur,Kr,Zr,Jr,ho,Cr,Ir,yr,kr,Fn,to,Nr=0;Nr<Zn.length;){var no=Zn[Nr];switch(Nr+=1,no){case 1:case 3:case 18:case 23:Wn();break;case 4:1<St.length&&!sn&&($n=St.shift()+Kt,sn=!0),en+=St.pop(),Hn(rn,en);break;case 5:for(;0<St.length;)rn+=St.shift(),en+=St.shift(),zt.lineTo(rn,en);break;case 6:for(;0<St.length&&(rn+=St.shift(),zt.lineTo(rn,en),0!==St.length);)en+=St.shift(),zt.lineTo(rn,en);break;case 7:for(;0<St.length&&(en+=St.shift(),zt.lineTo(rn,en),0!==St.length);)rn+=St.shift(),zt.lineTo(rn,en);break;case 8:for(;0<St.length;)O=rn+St.shift(),J=en+St.shift(),X=O+St.shift(),ce=J+St.shift(),rn=X+St.shift(),en=ce+St.shift(),zt.curveTo(O,J,X,ce,rn,en);break;case 10:Jr=St.pop()+ct,(ho=rt[Jr])&&Vn(ho);break;case 11:return;case 12:switch(no=Zn[Nr],Nr+=1,no){case 35:O=rn+St.shift(),J=en+St.shift(),X=O+St.shift(),ce=J+St.shift(),Cr=X+St.shift(),Ir=ce+St.shift(),yr=Cr+St.shift(),kr=Ir+St.shift(),Fn=yr+St.shift(),to=kr+St.shift(),rn=Fn+St.shift(),en=to+St.shift(),St.shift(),zt.curveTo(O,J,X,ce,Cr,Ir),zt.curveTo(yr,kr,Fn,to,rn,en);break;case 34:O=rn+St.shift(),J=en,X=O+St.shift(),ce=J+St.shift(),Cr=X+St.shift(),Ir=ce,yr=Cr+St.shift(),kr=ce,Fn=yr+St.shift(),to=en,rn=Fn+St.shift(),zt.curveTo(O,J,X,ce,Cr,Ir),zt.curveTo(yr,kr,Fn,to,rn,en);break;case 36:O=rn+St.shift(),J=en+St.shift(),X=O+St.shift(),ce=J+St.shift(),Cr=X+St.shift(),Ir=ce,yr=Cr+St.shift(),kr=ce,Fn=yr+St.shift(),to=kr+St.shift(),rn=Fn+St.shift(),zt.curveTo(O,J,X,ce,Cr,Ir),zt.curveTo(yr,kr,Fn,to,rn,en);break;case 37:O=rn+St.shift(),J=en+St.shift(),X=O+St.shift(),ce=J+St.shift(),Cr=X+St.shift(),Ir=ce+St.shift(),yr=Cr+St.shift(),kr=Ir+St.shift(),Fn=yr+St.shift(),to=kr+St.shift(),Math.abs(Fn-rn)>Math.abs(to-en)?rn=Fn+St.shift():en=to+St.shift(),zt.curveTo(O,J,X,ce,Cr,Ir),zt.curveTo(yr,kr,Fn,to,rn,en);break;default:console.log("Glyph "+G.index+": unknown operator 1200"+no),St.length=0}break;case 14:0<St.length&&!sn&&($n=St.shift()+Kt,sn=!0),cn&&(zt.closePath(),cn=!1);break;case 19:case 20:Wn(),Nr+=_n+7>>3;break;case 21:2<St.length&&!sn&&($n=St.shift()+Kt,sn=!0),en+=St.pop(),Hn(rn+=St.pop(),en);break;case 22:1<St.length&&!sn&&($n=St.shift()+Kt,sn=!0),Hn(rn+=St.pop(),en);break;case 24:for(;2<St.length;)O=rn+St.shift(),J=en+St.shift(),X=O+St.shift(),ce=J+St.shift(),rn=X+St.shift(),en=ce+St.shift(),zt.curveTo(O,J,X,ce,rn,en);rn+=St.shift(),en+=St.shift(),zt.lineTo(rn,en);break;case 25:for(;6<St.length;)rn+=St.shift(),en+=St.shift(),zt.lineTo(rn,en);O=rn+St.shift(),J=en+St.shift(),X=O+St.shift(),ce=J+St.shift(),rn=X+St.shift(),en=ce+St.shift(),zt.curveTo(O,J,X,ce,rn,en);break;case 26:for(St.length%2&&(rn+=St.shift());0<St.length;)O=rn,J=en+St.shift(),X=O+St.shift(),ce=J+St.shift(),rn=X,en=ce+St.shift(),zt.curveTo(O,J,X,ce,rn,en);break;case 27:for(St.length%2&&(en+=St.shift());0<St.length;)O=rn+St.shift(),J=en,X=O+St.shift(),ce=J+St.shift(),rn=X+St.shift(),zt.curveTo(O,J,X,ce,rn,en=ce);break;case 28:St.push(((er=Zn[Nr])<<24|(Ur=Zn[Nr+1])<<16)>>16),Nr+=2;break;case 29:Jr=St.pop()+S.gsubrsBias,(ho=S.gsubrs[Jr])&&Vn(ho);break;case 30:for(;0<St.length&&(O=rn,J=en+St.shift(),X=O+St.shift(),ce=J+St.shift(),rn=X+St.shift(),en=ce+(1===St.length?St.shift():0),zt.curveTo(O,J,X,ce,rn,en),0!==St.length);)O=rn+St.shift(),J=en,X=O+St.shift(),ce=J+St.shift(),en=ce+St.shift(),rn=X+(1===St.length?St.shift():0),zt.curveTo(O,J,X,ce,rn,en);break;case 31:for(;0<St.length&&(O=rn+St.shift(),J=en,X=O+St.shift(),ce=J+St.shift(),en=ce+St.shift(),rn=X+(1===St.length?St.shift():0),zt.curveTo(O,J,X,ce,rn,en),0!==St.length);)O=rn,J=en+St.shift(),X=O+St.shift(),ce=J+St.shift(),rn=X+St.shift(),en=ce+(1===St.length?St.shift():0),zt.curveTo(O,J,X,ce,rn,en);break;default:no<32?console.log("Glyph "+G.index+": unknown operator "+no):no<247?St.push(no-139):no<251?(er=Zn[Nr],Nr+=1,St.push(256*(no-247)+er+108)):no<255?(er=Zn[Nr],Nr+=1,St.push(256*-(no-251)-er-108)):(er=Zn[Nr],Ur=Zn[Nr+1],Kr=Zn[Nr+2],Zr=Zn[Nr+3],Nr+=4,St.push((er<<24|Ur<<16|Kr<<8|Zr)/65536))}}}(A),G.advanceWidth=$n,zt}function Sn(S,G){var A,O=Ne.indexOf(S);return 0<=O&&(A=O),0<=(O=G.indexOf(S))?A=O+Ne.length:(A=Ne.length+G.length,G.push(S)),A}function Dn(S,G,A){for(var O={},J=0;J<S.length;J+=1){var X=S[J],ce=G[X.name];void 0===ce||function Ue(rt,ct){if(rt===ct)return 1;if(Array.isArray(rt)&&Array.isArray(ct)&&rt.length===ct.length){for(var Ft=0;Ft<rt.length;Ft+=1)if(!Ue(rt[Ft],ct[Ft]))return;return 1}}(ce,X.value)||("SID"===X.type&&(ce=Sn(ce,A)),O[X.op]={name:X.name,type:X.type,value:ce})}return O}function tr(S,G){var A=new jt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return A.dict=Dn(Wt,S,G),A}function Bn(S){var G=new jt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return G.topDicts=[{name:"topDict_0",type:"TABLE",value:S}],G}var Z_parse=function(S,G,A){A.tables.cff={},(J={}).formatMajor=pt.getCard8(Ue=S,O=G),J.formatMinor=pt.getCard8(Ue,O+1),J.size=pt.getCard8(Ue,O+2),J.offsetSize=pt.getCard8(Ue,O+3),J.startOffset=O,J.endOffset=O+4;var Ue=It(S,J.endOffset,pt.bytesToString),O=It(S,Ue.endOffset),J=It(S,O.endOffset,pt.bytesToString);if(Ue=It(S,J.endOffset),A.gsubrs=Ue.objects,A.gsubrsBias=at(A.gsubrs),1!==(Ue=wn(S,G,O.objects,J.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Ue.length);if((A.tables.cff.topDict=O=Ue[0])._privateDict&&(A.defaultWidthX=O._privateDict.defaultWidthX,A.nominalWidthX=O._privateDict.nominalWidthX),void 0!==O.ros[0]&&void 0!==O.ros[1]&&(A.isCIDFont=!0),A.isCIDFont){var X=O.fdSelect;if(0===(Ue=O.fdArray)||0===X)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Ue=wn(S,G,It(S,Ue+=G).objects,J.objects),O._fdArray=Ue,O._fdSelect=function(zt,St,_n,sn){var cn,rn=[],en=new pt.Parser(zt,St);if(0===(zt=en.parseCard8()))for(var $n=0;$n<_n;$n++){if(sn<=(cn=en.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+cn+" (FD count "+sn+")");rn.push(cn)}else{if(3!==zt)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+zt);var Hn,Wn=en.parseCard16(),Vn=en.parseCard16();if(0!==Vn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Vn);for(var Zn=0;Zn<Wn;Zn++){if(cn=en.parseCard8(),Hn=en.parseCard16(),sn<=cn)throw new Error("CFF table CID Font FDSelect has bad FD index value "+cn+" (FD count "+sn+")");if(_n<Hn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Hn);for(;Vn<Hn;Vn++)rn.push(cn);Vn=Hn}if(Hn!==_n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Hn)}return rn}(S,X+=G,A.numGlyphs,Ue.length)}Ue=mn(S,X=G+O.private[1],O.private[0],J.objects);var ce=(A.defaultWidthX=Ue.defaultWidthX,A.nominalWidthX=Ue.nominalWidthX,0!==Ue.subrs?(X=It(S,X+Ue.subrs),A.subrs=X.objects,A.subrsBias=at(A.subrs)):(A.subrs=[],A.subrsBias=0),It(S,G+O.charStrings));A.nGlyphs=ce.objects.length,Ue=function(Ft,Kt,zt,St){var _n=new pt.Parser(Ft,Kt),sn=(--zt,[".notdef"]);if(0===(Ft=_n.parseCard8()))for(var cn=0;cn<zt;cn+=1)rn=_n.parseSID(),sn.push(Mt(St,rn));else if(1===Ft)for(;sn.length<=zt;)for(var rn=_n.parseSID(),en=_n.parseCard8(),$n=0;$n<=en;$n+=1)sn.push(Mt(St,rn)),rn+=1;else{if(2!==Ft)throw new Error("Unknown charset format "+Ft);for(;sn.length<=zt;){rn=_n.parseSID(),en=_n.parseCard16();for(var Hn=0;Hn<=en;Hn+=1)sn.push(Mt(St,rn)),rn+=1}}return sn}(S,G+O.charset,A.nGlyphs,J.objects),A.cffEncoding=0===O.encoding?new tn(Me,Ue):1===O.encoding?new tn(Ye,Ue):function(Ft,Kt,zt){var St={},_n=new pt.Parser(Ft,Kt);if(0===(Ft=_n.parseCard8()))for(var sn=_n.parseCard8(),cn=0;cn<sn;cn+=1)St[en=_n.parseCard8()]=cn;else{if(1!==Ft)throw new Error("Unknown encoding format "+Ft);for(var rn=_n.parseCard8(),en=1,$n=0;$n<rn;$n+=1)for(var Hn=_n.parseCard8(),Wn=_n.parseCard8(),Vn=Hn;Vn<=Hn+Wn;Vn+=1)St[Vn]=en,en+=1}return new tn(St,zt)}(S,G+O.encoding,Ue),A.encoding=A.encoding||A.cffEncoding,A.glyphs=new Xe.GlyphSet(A);for(var rt=0;rt<A.nGlyphs;rt+=1)A.glyphs.push(rt,Xe.cffGlyphLoader(A,rt,Cn,ce.objects[rt]))},Z_make=function(S,Ft){for(var A,O=new jt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),J={version:Ft.version,fullName:Ft.fullName,familyName:Ft.familyName,weight:Ft.weightName,fontBBox:Ft.fontBBox||[0,0,0,0],fontMatrix:[J=1/Ft.unitsPerEm,0,0,J,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},X=[],ce=1;ce<S.length;ce+=1)A=S.get(ce),X.push(A.name);var Ue,rt,ct=[],Kt=(O.header=new jt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),O.nameIndex=function(zt){var St=new jt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);St.names=[];for(var _n=0;_n<zt.length;_n+=1)St.names.push({name:"name_"+_n,type:"NAME",value:zt[_n]});return St}([Ft.postScriptName]),Ft=tr(J,ct),O.topDictIndex=Bn(Ft),O.globalSubrIndex=new jt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),O.charsets=function(zt,St){for(var _n=new jt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),sn=0;sn<zt.length;sn+=1){var cn=Sn(zt[sn],St);_n.fields.push({name:"glyph_"+sn,type:"SID",value:cn})}return _n}(X,ct),O.charStringsIndex=function lr(S){for(var G=new jt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),A=0;A<S.length;A+=1){var O=S.get(A),J=function(X){for(var ce=[],Ue=X.path,rt=(ce.push({name:"width",type:"NUMBER",value:X.advanceWidth}),0),ct=0,Ft=0;Ft<Ue.commands.length;Ft+=1){var Kt,zt,St,_n,sn=void 0,cn=void 0,rn=Ue.commands[Ft];"M"===(rn="Q"===rn.type?{type:"C",x:rn.x,y:rn.y,x1:1/3*rt+2/3*rn.x1,y1:1/3*ct+2/3*rn.y1,x2:1/3*rn.x+2/3*rn.x1,y2:1/3*rn.y+2/3*rn.y1}:rn).type?(sn=Math.round(rn.x-rt),cn=Math.round(rn.y-ct),ce.push({name:"dx",type:"NUMBER",value:sn}),ce.push({name:"dy",type:"NUMBER",value:cn}),ce.push({name:"rmoveto",type:"OP",value:21}),rt=Math.round(rn.x),ct=Math.round(rn.y)):"L"===rn.type?(sn=Math.round(rn.x-rt),cn=Math.round(rn.y-ct),ce.push({name:"dx",type:"NUMBER",value:sn}),ce.push({name:"dy",type:"NUMBER",value:cn}),ce.push({name:"rlineto",type:"OP",value:5}),rt=Math.round(rn.x),ct=Math.round(rn.y)):"C"===rn.type&&(Kt=Math.round(rn.x1-rt),zt=Math.round(rn.y1-ct),St=Math.round(rn.x2-rn.x1),_n=Math.round(rn.y2-rn.y1),sn=Math.round(rn.x-rn.x2),cn=Math.round(rn.y-rn.y2),ce.push({name:"dx1",type:"NUMBER",value:Kt}),ce.push({name:"dy1",type:"NUMBER",value:zt}),ce.push({name:"dx2",type:"NUMBER",value:St}),ce.push({name:"dy2",type:"NUMBER",value:_n}),ce.push({name:"dx",type:"NUMBER",value:sn}),ce.push({name:"dy",type:"NUMBER",value:cn}),ce.push({name:"rrcurveto",type:"OP",value:8}),rt=Math.round(rn.x),ct=Math.round(rn.y))}return ce.push({name:"endchar",type:"OP",value:14}),ce}(O);G.charStrings.push({name:O.name,type:"CHARSTRING",value:J})}return G}(S),O.privateDict=(Kt={},Ue=ct,(rt=new jt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Dn(Zt,Kt,Ue),rt),O.stringIndex=function(zt){var St=new jt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);St.strings=[];for(var _n=0;_n<zt.length;_n+=1)St.strings.push({name:"string_"+_n,type:"STRING",value:zt[_n]});return St}(ct),O.header.sizeOf()+O.nameIndex.sizeOf()+O.topDictIndex.sizeOf()+O.stringIndex.sizeOf()+O.globalSubrIndex.sizeOf());return J.charset=Kt,J.encoding=0,J.charStrings=J.charset+O.charsets.sizeOf(),J.private[1]=J.charStrings+O.charStringsIndex.sizeOf(),Ft=tr(J,ct),O.topDictIndex=Bn(Ft),O},be_parse=function(O,G){var A={};return O=new pt.Parser(O,G),A.version=O.parseVersion(),A.fontRevision=Math.round(1e3*O.parseFixed())/1e3,A.checkSumAdjustment=O.parseULong(),A.magicNumber=O.parseULong(),R.argument(1594834165===A.magicNumber,"Font header has wrong magic number."),A.flags=O.parseUShort(),A.unitsPerEm=O.parseUShort(),A.created=O.parseLongDateTime(),A.modified=O.parseLongDateTime(),A.xMin=O.parseShort(),A.yMin=O.parseShort(),A.xMax=O.parseShort(),A.yMax=O.parseShort(),A.macStyle=O.parseUShort(),A.lowestRecPPEM=O.parseUShort(),A.fontDirectionHint=O.parseShort(),A.indexToLocFormat=O.parseShort(),A.glyphDataFormat=O.parseShort(),A},be_make=function(S){var G=Math.round((new Date).getTime()/1e3)+2082844800,A=G;return S.createdTimestamp&&(A=S.createdTimestamp+2082844800),new jt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:A},{name:"modified",type:"LONGDATETIME",value:G},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],S)},ye_parse=function(O,G){var A={};return O=new pt.Parser(O,G),A.version=O.parseVersion(),A.ascender=O.parseShort(),A.descender=O.parseShort(),A.lineGap=O.parseShort(),A.advanceWidthMax=O.parseUShort(),A.minLeftSideBearing=O.parseShort(),A.minRightSideBearing=O.parseShort(),A.xMaxExtent=O.parseShort(),A.caretSlopeRise=O.parseShort(),A.caretSlopeRun=O.parseShort(),A.caretOffset=O.parseShort(),O.relativeOffset+=8,A.metricDataFormat=O.parseShort(),A.numberOfHMetrics=O.parseUShort(),A},ye_make=function(S){return new jt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],S)},E_parse=function(S,G,A,O,J){for(var X,ce,Ue=new pt.Parser(S,G),rt=0;rt<O;rt+=1){rt<A&&(X=Ue.parseUShort(),ce=Ue.parseShort());var ct=J.get(rt);ct.advanceWidth=X,ct.leftSideBearing=ce}},E_make=function(S){for(var G=new jt.Table("hmtx",[]),A=0;A<S.length;A+=1){var O=(J=S.get(A)).advanceWidth||0,J=J.leftSideBearing||0;G.fields.push({name:"advanceWidth_"+A,type:"USHORT",value:O}),G.fields.push({name:"leftSideBearing_"+A,type:"SHORT",value:J})}return G},N_make=function(S){for(var G=new jt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:S.length}]),A="",O=12+4*S.length,J=0;J<S.length;++J){var X=A.indexOf(S[J]);X<0&&(X=A.length,A+=S[J]),G.fields.push({name:"offset "+J,type:"USHORT",value:O+X}),G.fields.push({name:"length "+J,type:"USHORT",value:S[J].length})}return G.fields.push({name:"stringPool",type:"CHARARRAY",value:A}),G},N_parse=function(S,G){for(var A=new pt.Parser(S,G),O=A.parseULong(),J=(R.argument(1===O,"Unsupported ltag table version."),A.skip("uLong",1),A.parseULong()),X=[],ce=0;ce<J;ce++){for(var Ue="",rt=G+A.parseUShort(),ct=A.parseUShort(),Ft=rt;Ft<rt+ct;++Ft)Ue+=String.fromCharCode(S.getInt8(Ft));X.push(Ue)}return X},L_parse=function(O,G){var A={};return O=new pt.Parser(O,G),A.version=O.parseVersion(),A.numGlyphs=O.parseUShort(),1===A.version&&(A.maxPoints=O.parseUShort(),A.maxContours=O.parseUShort(),A.maxCompositePoints=O.parseUShort(),A.maxCompositeContours=O.parseUShort(),A.maxZones=O.parseUShort(),A.maxTwilightPoints=O.parseUShort(),A.maxStorage=O.parseUShort(),A.maxFunctionDefs=O.parseUShort(),A.maxInstructionDefs=O.parseUShort(),A.maxStackElements=O.parseUShort(),A.maxSizeOfInstructions=O.parseUShort(),A.maxComponentElements=O.parseUShort(),A.maxComponentDepth=O.parseUShort()),A},L_make=function(S){return new jt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:S}])},H=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],ee={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Q={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},pe={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Ie="utf-16",He={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},dt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Jt(S,G,A){switch(S){case 0:return Ie;case 1:return dt[A]||He[G];case 3:if(1===G||10===G)return Ie}}function un(S){var G,A={};for(G in S)A[S[G]]=parseInt(G);return A}function ln(S,G,A,O,J,X){return new jt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:S},{name:"encodingID",type:"USHORT",value:G},{name:"languageID",type:"USHORT",value:A},{name:"nameID",type:"USHORT",value:O},{name:"length",type:"USHORT",value:J},{name:"offset",type:"USHORT",value:X}])}function fn(S,G){if((A=function(X,ce){var Ue=X.length,rt=ce.length-Ue+1;e:for(var ct=0;ct<rt;ct++)for(;ct<rt;ct++){for(var Ft=0;Ft<Ue;Ft++)if(ce[ct+Ft]!==X[Ft])continue e;return ct}return-1}(S,G))<0)for(var A=G.length,O=0,J=S.length;O<J;++O)G.push(S[O]);return A}var kn_parse=function(S,G,A){for(var O={},J=new pt.Parser(S,G),X=(G=J.parseUShort(),J.parseUShort()),ce=J.offset+J.parseUShort(),Ue=0;Ue<X;Ue++){var _n=J.parseUShort(),rt=J.parseUShort(),ct=J.parseUShort(),Ft=J.parseUShort(),Kt=(Ft=H[Ft]||Ft,J.parseUShort()),zt=J.parseUShort(),St=function(cn,rn,en){switch(cn){case 0:if(65535===rn)return"und";if(en)return en[rn];break;case 1:return ee[rn];case 3:return pe[rn]}}(_n,ct,A);void 0!==(_n=Jt(_n,rt,ct))&&void 0!==St&&(rt=void 0,(rt=_n===Ie?ne.UTF16(S,ce+zt,Kt):ne.MACSTRING(S,ce+zt,Kt,_n))&&((ct=void 0===(ct=O[Ft])?O[Ft]={}:ct)[St]=rt))}return 1===G&&J.parseUShort(),O},kn_make=function(S,G){var A,O=[],J={},X=un(H);for(A in S){var ce=X[A];if(void 0===ce&&(ce=A),zt=parseInt(ce),isNaN(zt))throw new Error('Name table entry "'+A+'" does not exist, see nameTableNames for complete list.');J[zt]=S[A],O.push(zt)}for(var Ue=un(ee),rt=un(pe),ct=[],Ft=[],Kt=0;Kt<O.length;Kt++){var zt,St,_n=J[zt=O[Kt]];for(St in _n){var Hn,sn=_n[St],cn=Ue[St],rn=Q[cn],en=Jt(Hn=1,rn,cn),$n=(void 0===(en=ue.MACSTRING(sn,en))&&(Hn=0,(cn=G.indexOf(St))<0&&(cn=G.length,G.push(St)),rn=4,en=ue.UTF16(sn)),fn(en,Ft));void 0!==(ct.push(ln(Hn,rn,cn,zt,en.length,$n)),Hn=rt[St])&&(cn=fn(rn=ue.UTF16(sn),Ft),ct.push(ln(3,1,Hn,zt,rn.length,cn)))}}ct.sort(function(Zn,er){return Zn.platformID-er.platformID||Zn.encodingID-er.encodingID||Zn.languageID-er.languageID||Zn.nameID-er.nameID});for(var Wn=new jt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ct.length},{name:"stringOffset",type:"USHORT",value:6+12*ct.length}]),Vn=0;Vn<ct.length;Vn++)Wn.fields.push({name:"record_"+Vn,type:"RECORD",value:ct[Vn]});return Wn.fields.push({name:"strings",type:"LITERAL",value:Ft}),Wn},Un=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Ln_parse=function(S,G){var A={},O=new pt.Parser(S,G);A.version=O.parseUShort(),A.xAvgCharWidth=O.parseShort(),A.usWeightClass=O.parseUShort(),A.usWidthClass=O.parseUShort(),A.fsType=O.parseUShort(),A.ySubscriptXSize=O.parseShort(),A.ySubscriptYSize=O.parseShort(),A.ySubscriptXOffset=O.parseShort(),A.ySubscriptYOffset=O.parseShort(),A.ySuperscriptXSize=O.parseShort(),A.ySuperscriptYSize=O.parseShort(),A.ySuperscriptXOffset=O.parseShort(),A.ySuperscriptYOffset=O.parseShort(),A.yStrikeoutSize=O.parseShort(),A.yStrikeoutPosition=O.parseShort(),A.sFamilyClass=O.parseShort(),A.panose=[];for(var J=0;J<10;J++)A.panose[J]=O.parseByte();return A.ulUnicodeRange1=O.parseULong(),A.ulUnicodeRange2=O.parseULong(),A.ulUnicodeRange3=O.parseULong(),A.ulUnicodeRange4=O.parseULong(),A.achVendID=String.fromCharCode(O.parseByte(),O.parseByte(),O.parseByte(),O.parseByte()),A.fsSelection=O.parseUShort(),A.usFirstCharIndex=O.parseUShort(),A.usLastCharIndex=O.parseUShort(),A.sTypoAscender=O.parseShort(),A.sTypoDescender=O.parseShort(),A.sTypoLineGap=O.parseShort(),A.usWinAscent=O.parseUShort(),A.usWinDescent=O.parseUShort(),1<=A.version&&(A.ulCodePageRange1=O.parseULong(),A.ulCodePageRange2=O.parseULong()),2<=A.version&&(A.sxHeight=O.parseShort(),A.sCapHeight=O.parseShort(),A.usDefaultChar=O.parseUShort(),A.usBreakChar=O.parseUShort(),A.usMaxContent=O.parseUShort()),A},Ln_make=function(S){return new jt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],S)},Ln_getUnicodeRange=function(S){for(var G=0;G<Un.length;G+=1){var A=Un[G];if(S>=A.begin&&S<A.end)return G}return-1},hr_parse=function(S,G){var A={},O=new pt.Parser(S,G);switch(A.version=O.parseVersion(),A.italicAngle=O.parseFixed(),A.underlinePosition=O.parseShort(),A.underlineThickness=O.parseShort(),A.isFixedPitch=O.parseULong(),A.minMemType42=O.parseULong(),A.maxMemType42=O.parseULong(),A.minMemType1=O.parseULong(),A.maxMemType1=O.parseULong(),A.version){case 1:A.names=vt.slice();break;case 2:A.numberOfGlyphs=O.parseUShort(),A.glyphNameIndex=new Array(A.numberOfGlyphs);for(var J=0;J<A.numberOfGlyphs;J++)A.glyphNameIndex[J]=O.parseUShort();A.names=[];for(var X,ce=0;ce<A.numberOfGlyphs;ce++)A.glyphNameIndex[ce]>=vt.length&&(X=O.parseChar(),A.names.push(O.parseString(X)));break;case 2.5:A.numberOfGlyphs=O.parseUShort(),A.offset=new Array(A.numberOfGlyphs);for(var Ue=0;Ue<A.numberOfGlyphs;Ue++)A.offset[Ue]=O.parseChar()}return A},hr_make=function(){return new jt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},nr=new Array(9),ft=(nr[1]=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort();return 1===G?{substFormat:1,coverage:this.parsePointer(Ze.coverage),deltaGlyphId:this.parseUShort()}:2===G?{substFormat:2,coverage:this.parsePointer(Ze.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+S.toString(16)+": lookup type 1 format must be 1 or 2.")},nr[2]=function(){var S=this.parseUShort();return R.argument(1===S,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ze.coverage),sequences:this.parseListOfLists()}},nr[3]=function(){var S=this.parseUShort();return R.argument(1===S,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ze.coverage),alternateSets:this.parseListOfLists()}},nr[4]=function(){var S=this.parseUShort();return R.argument(1===S,"GSUB ligature table identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ze.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ze.uShort,lookupListIndex:Ze.uShort});nr[5]=function(){var S,G,A=this.offset+this.relativeOffset,O=this.parseUShort();return 1===O?{substFormat:O,coverage:this.parsePointer(Ze.coverage),ruleSets:this.parseListOfLists(function(){var J=this.parseUShort(),X=this.parseUShort();return{input:this.parseUShortList(J-1),lookupRecords:this.parseRecordList(X,ft)}})}:2===O?{substFormat:O,coverage:this.parsePointer(Ze.coverage),classDef:this.parsePointer(Ze.classDef),classSets:this.parseListOfLists(function(){var J=this.parseUShort(),X=this.parseUShort();return{classes:this.parseUShortList(J-1),lookupRecords:this.parseRecordList(X,ft)}})}:3===O?(S=this.parseUShort(),G=this.parseUShort(),{substFormat:O,coverages:this.parseList(S,Ze.pointer(Ze.coverage)),lookupRecords:this.parseRecordList(G,ft)}):void R.assert(!1,"0x"+A.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},nr[6]=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort();return 1===G?{substFormat:1,coverage:this.parsePointer(Ze.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ft)}})}:2===G?{substFormat:2,coverage:this.parsePointer(Ze.coverage),backtrackClassDef:this.parsePointer(Ze.classDef),inputClassDef:this.parsePointer(Ze.classDef),lookaheadClassDef:this.parsePointer(Ze.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ft)}})}:3===G?{substFormat:3,backtrackCoverage:this.parseList(Ze.pointer(Ze.coverage)),inputCoverage:this.parseList(Ze.pointer(Ze.coverage)),lookaheadCoverage:this.parseList(Ze.pointer(Ze.coverage)),lookupRecords:this.parseRecordList(ft)}:void R.assert(!1,"0x"+S.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},nr[7]=function(){var S=this.parseUShort(),G=(R.argument(1===S,"GSUB Extension Substitution subtable identifier-format must be 1"),S=this.parseUShort(),new Ze(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:S,extension:nr[S].call(G)}},nr[8]=function(){var S=this.parseUShort();return R.argument(1===S,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ze.coverage),backtrackCoverage:this.parseList(Ze.pointer(Ze.coverage)),lookaheadCoverage:this.parseList(Ze.pointer(Ze.coverage)),substitutes:this.parseUShortList()}};var wt=new Array(9);wt[1]=function(S){return new jt.Table("substitutionTable",1===S.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new jt.Coverage(S.coverage)},{name:"deltaGlyphID",type:"USHORT",value:S.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new jt.Coverage(S.coverage)}].concat(jt.ushortList("substitute",S.substitute)))},wt[3]=function(S){return R.assert(1===S.substFormat,"Lookup type 3 substFormat must be 1."),new jt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new jt.Coverage(S.coverage)}].concat(jt.tableList("altSet",S.alternateSets,function(G){return new jt.Table("alternateSetTable",jt.ushortList("alternate",G))})))},wt[4]=function(S){return R.assert(1===S.substFormat,"Lookup type 4 substFormat must be 1."),new jt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new jt.Coverage(S.coverage)}].concat(jt.tableList("ligSet",S.ligatureSets,function(G){return new jt.Table("ligatureSetTable",jt.tableList("ligature",G,function(A){return new jt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:A.ligGlyph}].concat(jt.ushortList("component",A.components,A.components.length+1)))}))})))};var ze_parse=function(S,G){return G=(S=new Ze(S,G=G||0)).parseVersion(1),R.argument(1===G||1.1===G,"Unsupported GSUB table version."),1===G?{version:G,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(nr)}:{version:G,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(nr),variations:S.parseFeatureVariationsList()}},ze_make=function(S){return new jt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new jt.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new jt.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new jt.LookupList(S.lookups,wt)}])},mt_parse=function(S,G){for(var A=new pt.Parser(S,G),O=A.parseULong(),J=(R.argument(1===O,"Unsupported META table version."),A.parseULong(),A.parseULong(),A.parseULong()),X={},ce=0;ce<J;ce++){var Ue=A.parseTag(),ct=A.parseULong(),rt=A.parseULong();ct=ne.UTF8(S,G+ct,rt),X[Ue]=ct}return X},mt_make=function(S){var G,A=Object.keys(S).length,O="",J=16+12*A,X=new jt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:J},{name:"numTags",type:"ULONG",value:A}]);for(G in S){var ce=O.length;O+=S[G],X.fields.push({name:"tag "+G,type:"TAG",value:G}),X.fields.push({name:"offset "+G,type:"ULONG",value:J+ce}),X.fields.push({name:"length "+G,type:"ULONG",value:S[G].length})}return X.fields.push({name:"stringPool",type:"CHARARRAY",value:O}),X};function qt(S){return Math.log(S)/Math.log(2)|0}function hn(S){for(;S.length%4!=0;)S.push(0);for(var G=0,A=0;A<S.length;A+=4)G+=(S[A]<<24)+(S[A+1]<<16)+(S[A+2]<<8)+S[A+3];return G%Math.pow(2,32)}function An(S,G,A,O){return new jt.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==S?S:""},{name:"checkSum",type:"ULONG",value:void 0!==G?G:0},{name:"offset",type:"ULONG",value:void 0!==A?A:0},{name:"length",type:"ULONG",value:void 0!==O?O:0}])}function Bt(S){for(var G=new jt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),A=(G.tables=S,G.numTables=S.length,Math.pow(2,qt(G.numTables))),O=(G.searchRange=16*A,G.entrySelector=qt(A),G.rangeShift=16*G.numTables-G.searchRange,[]),J=[],X=G.sizeOf()+An().sizeOf()*G.numTables;X%4!=0;)X+=1,J.push({name:"padding",type:"BYTE",value:0});for(var ce=0;ce<S.length;ce+=1){var Ue=S[ce],rt=(R.argument(4===Ue.tableName.length,"Table name"+Ue.tableName+" is invalid."),Ue.sizeOf()),ct=An(Ue.tableName,hn(Ue.encode()),X,rt);for(O.push({name:ct.tag+" Table Record",type:"RECORD",value:ct}),J.push({name:Ue.tableName+" table",type:"RECORD",value:Ue}),X+=rt,R.argument(!isNaN(X),"Something went wrong calculating the offset.");X%4!=0;)X+=1,J.push({name:"padding",type:"BYTE",value:0})}return O.sort(function(Ft,Kt){return Ft.value.tag>Kt.value.tag?1:-1}),G.fields=G.fields.concat(O),G.fields=G.fields.concat(J),G}function Le(S,G,A){for(var O=0;O<G.length;O+=1){var J=S.charToGlyphIndex(G[O]);if(0<J)return S.glyphs.get(J).getMetrics()}return A}var Ke_fontToTable=function(S){for(var G,A=[],O=[],J=[],X=[],ce=[],Ue=[],rt=[],ct=0,Ft=0,Kt=0,zt=0,St=0,_n=0;_n<S.glyphs.length;_n+=1){var sn=S.glyphs.get(_n),cn=0|sn.unicode;if(isNaN(sn.advanceWidth))throw new Error("Glyph "+sn.name+" ("+_n+"): advanceWidth is not a number.");if((cn<G||void 0===G)&&0<cn&&(G=cn),ct<cn&&(ct=cn),(cn=Ln_getUnicodeRange(cn))<32)Ft|=1<<cn;else if(cn<64)Kt|=1<<cn-32;else if(cn<96)zt|=1<<cn-64;else{if(!(cn<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");St|=1<<cn-96}".notdef"!==sn.name&&(cn=sn.getMetrics(),A.push(cn.xMin),O.push(cn.yMin),J.push(cn.xMax),X.push(cn.yMax),Ue.push(cn.leftSideBearing),rt.push(cn.rightSideBearing),ce.push(sn.advanceWidth))}var rn,en={xMin:Math.min.apply(null,A),yMin:Math.min.apply(null,O),xMax:Math.max.apply(null,J),yMax:Math.max.apply(null,X),advanceWidthMax:Math.max.apply(null,ce),advanceWidthAvg:function(no){for(var Jo=0,ci=0;ci<no.length;ci+=1)Jo+=no[ci];return Jo/no.length}(ce),minLeftSideBearing:Math.min.apply(null,Ue),maxLeftSideBearing:Math.max.apply(null,Ue),minRightSideBearing:Math.min.apply(null,rt)},$n=(en.ascender=S.ascender,en.descender=S.descender,be_make({flags:3,unitsPerEm:S.unitsPerEm,xMin:en.xMin,yMin:en.yMin,xMax:en.xMax,yMax:en.yMax,lowestRecPPEM:3,createdTimestamp:S.createdTimestamp})),Hn=ye_make({ascender:en.ascender,descender:en.descender,advanceWidthMax:en.advanceWidthMax,minLeftSideBearing:en.minLeftSideBearing,minRightSideBearing:en.minRightSideBearing,xMaxExtent:en.maxLeftSideBearing+(en.xMax-en.xMin),numberOfHMetrics:S.glyphs.length}),Wn=L_make(S.glyphs.length),Vn=Ln_make({xAvgCharWidth:Math.round(en.advanceWidthAvg),usWeightClass:S.tables.os2.usWeightClass,usWidthClass:S.tables.os2.usWidthClass,usFirstCharIndex:G,usLastCharIndex:ct,ulUnicodeRange1:Ft,ulUnicodeRange2:Kt,ulUnicodeRange3:zt,ulUnicodeRange4:St,fsSelection:S.tables.os2.fsSelection,sTypoAscender:en.ascender,sTypoDescender:en.descender,sTypoLineGap:0,usWinAscent:en.yMax,usWinDescent:Math.abs(en.yMin),ulCodePageRange1:1,sxHeight:Le(S,"xyvw",{yMax:Math.round(en.ascender/2)}).yMax,sCapHeight:Le(S,"HIKLEFJMNTZBDPRAGOQSUVWXY",en).yMax,usDefaultChar:S.hasChar(" ")?32:0,usBreakChar:S.hasChar(" ")?32:0}),Zn=E_make(S.glyphs),er=Re_make(S.glyphs),Cr=(Ir=S.getEnglishName("fontFamily"))+" "+(yr=S.getEnglishName("fontSubfamily")),Ur=(Ur=S.getEnglishName("postScriptName"))||Ir.replace(/\s/g,"")+"-"+yr,Kr={};for(rn in S.names)Kr[rn]=S.names[rn];Kr.uniqueID||(Kr.uniqueID={en:S.getEnglishName("manufacturer")+":"+Cr}),Kr.postScriptName||(Kr.postScriptName={en:Ur}),Kr.preferredFamily||(Kr.preferredFamily=S.names.fontFamily),Kr.preferredSubfamily||(Kr.preferredSubfamily=S.names.fontSubfamily);var Zr=kn_make(Kr,Jr=[]),Jr=0<Jr.length?N_make(Jr):void 0,ho=hr_make(),Ir=(Cr=Z_make(S.glyphs,{version:S.getEnglishName("version"),fullName:Cr,familyName:Ir,weightName:yr,postScriptName:Ur,unitsPerEm:S.unitsPerEm,fontBBox:[0,en.yMin,en.ascender,en.advanceWidthMax]}),S.metas&&0<Object.keys(S.metas).length?mt_make(S.metas):void 0),yr=[$n,Hn,Wn,Vn,Zr,er,ho,Cr,Zn];Jr&&yr.push(Jr),S.tables.gsub&&yr.push(ze_make(S.tables.gsub)),Ir&&yr.push(Ir);for(var kr=hn((Ur=Bt(yr)).encode()),Fn=Ur.fields,to=!1,Nr=0;Nr<Fn.length;Nr+=1)if("head table"===Fn[Nr].name){Fn[Nr].value.checkSumAdjustment=2981146554-kr,to=!0;break}if(to)return Ur;throw new Error("Could not find head table with checkSum to adjust.")};function Nt(S,G){for(var A=0,O=S.length-1;A<=O;){var J=A+O>>>1,X=S[J].tag;if(X===G)return J;X<G?A=1+J:O=J-1}return-A-1}function Ht(S,G){for(var A=0,O=S.length-1;A<=O;){var J=A+O>>>1,X=S[J];if(X===G)return J;X<G?A=1+J:O=J-1}return-A-1}function Xt(S,G){for(var A=0,O=S.length-1;A<=O;){var J,X=A+O>>>1,ce=(J=S[X]).start;if(ce===G)return J;ce<G?A=1+X:O=X-1}if(0<A)return G>(J=S[A-1]).end?0:J}function se(S,G){this.font=S,this.tableName=G}function Ge(S){se.call(this,S,"gpos")}function _e(S){se.call(this,S,"gsub")}function qe(S,G,A){for(var O=S.subtables,J=0;J<O.length;J++){var X=O[J];if(X.substFormat===G)return X}if(A)return O.push(A),A}function Et(S){for(var G=new ArrayBuffer(S.length),A=new Uint8Array(G),O=0;O<S.length;++O)A[O]=S[O];return G}function nn(S,G){if(!S)throw G}function In(S,G,A,O,J){var X=0<(G&O)?(X=S.parseByte(),A+(X=G&J?X:-X)):0<(G&J)?A:A+S.parseShort();return X}function Pn(S,G,A){var O,J=new pt.Parser(G,A);if(S.numberOfContours=J.parseShort(),S._xMin=J.parseShort(),S._yMin=J.parseShort(),S._xMax=J.parseShort(),S._yMax=J.parseShort(),0<S.numberOfContours){for(var X=S.endPointIndices=[],ce=0;ce<S.numberOfContours;ce+=1)X.push(J.parseUShort());S.instructionLength=J.parseUShort(),S.instructions=[];for(var Ue=0;Ue<S.instructionLength;Ue+=1)S.instructions.push(J.parseByte());for(var rt=X[X.length-1]+1,ct=[],Ft=0;Ft<rt;Ft+=1)if(O=J.parseByte(),ct.push(O),0<(8&O))for(var Kt=J.parseByte(),zt=0;zt<Kt;zt+=1)ct.push(O),Ft+=1;if(R.argument(ct.length===rt,"Bad flags."),0<X.length){var St,_n=[];if(0<rt){for(var sn=0;sn<rt;sn+=1)(St={}).onCurve=!!(1&(O=ct[sn])),St.lastPointOfContour=0<=X.indexOf(sn),_n.push(St);for(var cn=0,rn=0;rn<rt;rn+=1)(St=_n[rn]).x=In(J,O=ct[rn],cn,2,16),cn=St.x;for(var en=0,$n=0;$n<rt;$n+=1)(St=_n[$n]).y=In(J,O=ct[$n],en,4,32),en=St.y}S.points=_n}else S.points=[]}else if(0===S.numberOfContours)S.points=[];else{S.isComposite=!0,S.points=[],S.components=[];for(var Hn=!0;Hn;){ct=J.parseUShort();var Wn={glyphIndex:J.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&ct)?0<(2&ct)?(Wn.dx=J.parseShort(),Wn.dy=J.parseShort()):Wn.matchedPoints=[J.parseUShort(),J.parseUShort()]:0<(2&ct)?(Wn.dx=J.parseChar(),Wn.dy=J.parseChar()):Wn.matchedPoints=[J.parseByte(),J.parseByte()],0<(8&ct)?Wn.xScale=Wn.yScale=J.parseF2Dot14():0<(64&ct)?(Wn.xScale=J.parseF2Dot14(),Wn.yScale=J.parseF2Dot14()):0<(128&ct)&&(Wn.xScale=J.parseF2Dot14(),Wn.scale01=J.parseF2Dot14(),Wn.scale10=J.parseF2Dot14(),Wn.yScale=J.parseF2Dot14()),S.components.push(Wn),Hn=!!(32&ct)}if(256&ct){S.instructionLength=J.parseUShort(),S.instructions=[];for(var Vn=0;Vn<S.instructionLength;Vn+=1)S.instructions.push(J.parseByte())}}}function qn(S,G){for(var A=[],O=0;O<S.length;O+=1){var J;A.push(J={x:G.xScale*(J=S[O]).x+G.scale01*J.y+G.dx,y:G.scale10*J.x+G.yScale*J.y+G.dy,onCurve:J.onCurve,lastPointOfContour:J.lastPointOfContour})}return A}function Kn(S){var G=new le;if(S)for(var A=function(Kt){for(var zt=[],St=[],_n=0;_n<Kt.length;_n+=1){var sn=Kt[_n];St.push(sn),sn.lastPointOfContour&&(zt.push(St),St=[])}return R.argument(0===St.length,"There are still points left in the current contour."),zt}(S),O=0;O<A.length;++O){var J,X=A[O],Ue=X[0];(ce=X[X.length-1]).onCurve?G.moveTo(ce.x,ce.y):Ue.onCurve?G.moveTo(Ue.x,Ue.y):G.moveTo((J={x:.5*(ce.x+Ue.x),y:.5*(ce.y+Ue.y)}).x,J.y);for(var rt=0;rt<X.length;++rt){var ct,ce=Ue;Ue=X[(rt+1)%X.length],ce.onCurve?G.lineTo(ce.x,ce.y):(ct=Ue,Ue.onCurve||(ct={x:.5*(ce.x+Ue.x),y:.5*(ce.y+Ue.y)}),G.quadraticCurveTo(ce.x,ce.y,ct.x,ct.y))}G.closePath()}return G}function Pr(S,G){if(G.isComposite)for(var A=0;A<G.components.length;A+=1){var J=S.get((O=G.components[A]).glyphIndex);if(J.getPath(),J.points){var X=void 0;if(void 0===O.matchedPoints)X=qn(J.points,O);else{if(O.matchedPoints[0]>G.points.length-1||O.matchedPoints[1]>J.points.length-1)throw Error("Matched points out of range in "+G.name);var O,ce=G.points[O.matchedPoints[0]],Ue=qn([Ue=J.points[O.matchedPoints[1]]],O={xScale:O.xScale,scale01:O.scale01,scale10:O.scale10,yScale:O.yScale,dx:0,dy:0})[0];O.dx=ce.x-Ue.x,O.dy=ce.y-Ue.y,X=qn(J.points,O)}G.points=G.points.concat(X)}}return Kn(G.points)}(Ge.prototype=se.prototype={searchTag:Nt,binSearch:Ht,getTable:function(S){var G=this.font.tables[this.tableName];return!G&&S?this.font.tables[this.tableName]=this.createDefaultTable():G},getScriptNames:function(){var S=this.getTable();return S?S.scripts.map(function(G){return G.tag}):[]},getDefaultScriptName:function(){var S=this.getTable();if(S){for(var G=!1,A=0;A<S.scripts.length;A++){var O=S.scripts[A].tag;if("DFLT"===O)return O;"latn"===O&&(G=!0)}return G?"latn":void 0}},getScriptTable:function(S,G){var A,O=this.getTable(G);if(O)return A=O.scripts,0<=(O=Nt(O.scripts,S=S||"DFLT"))?A[O].script:G?(A.splice(-1-O,0,G={tag:S,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),G.script):void 0},getLangSysTable:function(J,G,A){var O;if(J=this.getScriptTable(J,A))return G&&"dflt"!==G&&"DFLT"!==G?0<=(O=Nt(J.langSysRecords,G))?J.langSysRecords[O].langSys:A?(J.langSysRecords.splice(-1-O,0,A={tag:G,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),A.langSys):void 0:J.defaultLangSys},getFeatureTable:function(S,G,A,O){if(S=this.getLangSysTable(S,G,O)){for(var J,X=S.featureIndexes,ce=this.font.tables[this.tableName].features,Ue=0;Ue<X.length;Ue++)if((J=ce[X[Ue]]).tag===A)return J.feature;if(O)return R.assert(0===(G=ce.length)||A>=ce[G-1].tag,"Features must be added in alphabetical order."),ce.push(J={tag:A,feature:{params:0,lookupListIndexes:[]}}),X.push(G),J.feature}},getLookupTables:function(X,G,A,O,J){var ce=[];if(X=this.getFeatureTable(X,G,A,J)){for(var Ue,rt=X.lookupListIndexes,ct=this.font.tables[this.tableName].lookups,Ft=0;Ft<rt.length;Ft++)(Ue=ct[rt[Ft]]).lookupType===O&&ce.push(Ue);if(0===ce.length&&J)return G=ct.length,ct.push(Ue={lookupType:O,lookupFlag:0,subtables:[],markFilteringSet:void 0}),rt.push(G),[Ue]}return ce},getGlyphClass:function(S,G){switch(S.format){case 1:return S.startGlyph<=G&&G<S.startGlyph+S.classes.length?S.classes[G-S.startGlyph]:0;case 2:var A=Xt(S.ranges,G);return A?A.classId:0}},getCoverageIndex:function(S,G){switch(S.format){case 1:var A=Ht(S.glyphs,G);return 0<=A?A:-1;case 2:return(A=Xt(S.ranges,G))?A.index+G-A.start:-1}},expandCoverage:function(S){if(1===S.format)return S.glyphs;for(var G=[],A=S.ranges,O=0;O<A.length;O++)for(var J=A[O],ce=J.end,Ue=J.start;Ue<=ce;Ue++)G.push(Ue);return G}}).init=function(){var S=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(S)},Ge.prototype.getKerningValue=function(S,G,A){for(var O=0;O<S.length;O++)for(var J=S[O].subtables,X=0;X<J.length;X++){var ce=J[X],Ue=this.getCoverageIndex(ce.coverage,G);if(!(Ue<0))switch(ce.posFormat){case 1:for(var rt=ce.pairSets[Ue],ct=0;ct<rt.length;ct++){var Ft=rt[ct];if(Ft.secondGlyph===A)return Ft.value1&&Ft.value1.xAdvance||0}break;case 2:var zt=this.getGlyphClass(ce.classDef1,G),Kt=this.getGlyphClass(ce.classDef2,A);return(zt=ce.classRecords[zt][Kt]).value1&&zt.value1.xAdvance||0}}return 0},Ge.prototype.getKerningTables=function(S,G){if(this.font.tables.gpos)return this.getLookupTables(S,G,"kern",2)},(_e.prototype=se.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},_e.prototype.getSingle=function(S,G,A){for(var O=[],J=this.getLookupTables(G,A,S,1),X=0;X<J.length;X++)for(var ce=J[X].subtables,Ue=0;Ue<ce.length;Ue++){var rt=ce[Ue],ct=this.expandCoverage(rt.coverage),Ft=void 0;if(1===rt.substFormat){var Kt=rt.deltaGlyphId;for(Ft=0;Ft<ct.length;Ft++){var zt=ct[Ft];O.push({sub:zt,by:zt+Kt})}}else{var St=rt.substitute;for(Ft=0;Ft<ct.length;Ft++)O.push({sub:ct[Ft],by:St[Ft]})}}return O},_e.prototype.getAlternates=function(S,G,A){for(var O=[],J=this.getLookupTables(G,A,S,3),X=0;X<J.length;X++)for(var ce=J[X].subtables,Ue=0;Ue<ce.length;Ue++)for(var rt=ce[Ue],ct=this.expandCoverage(rt.coverage),Ft=rt.alternateSets,Kt=0;Kt<ct.length;Kt++)O.push({sub:ct[Kt],by:Ft[Kt]});return O},_e.prototype.getLigatures=function(S,G,A){for(var O=[],J=this.getLookupTables(G,A,S,4),X=0;X<J.length;X++)for(var ce=J[X].subtables,Ue=0;Ue<ce.length;Ue++)for(var rt=ce[Ue],ct=this.expandCoverage(rt.coverage),Ft=rt.ligatureSets,Kt=0;Kt<ct.length;Kt++)for(var zt=ct[Kt],St=Ft[Kt],_n=0;_n<St.length;_n++){var sn=St[_n];O.push({sub:[zt].concat(sn.components),by:sn.ligGlyph})}return O},_e.prototype.addSingle=function(S,G,A,O){A=qe(this.getLookupTables(A,O,S,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),R.assert(1===A.coverage.format,"Ligature: unable to modify coverage table format "+A.coverage.format),(S=this.binSearch(A.coverage.glyphs,O=G.sub))<0&&(A.coverage.glyphs.splice(S=-1-S,0,O),A.substitute.splice(S,0,0)),A.substitute[S]=G.by},_e.prototype.addAlternate=function(S,G,A,O){A=qe(this.getLookupTables(A,O,S,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),R.assert(1===A.coverage.format,"Ligature: unable to modify coverage table format "+A.coverage.format),(S=this.binSearch(A.coverage.glyphs,O=G.sub))<0&&(A.coverage.glyphs.splice(S=-1-S,0,O),A.alternateSets.splice(S,0,0)),A.alternateSets[S]=G.by},_e.prototype.addLigature=function(X,rt,Ue,J){(J=(Ue=this.getLookupTables(Ue,J,X,4,!0)[0]).subtables[0])||(Ue.subtables[0]=J={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),R.assert(1===J.coverage.format,"Ligature: unable to modify coverage table format "+J.coverage.format),X=rt.sub[0];var ce=rt.sub.slice(1);if(Ue={ligGlyph:rt.by,components:ce},0<=(rt=this.binSearch(J.coverage.glyphs,X))){for(var ct=J.ligatureSets[rt],Ft=0;Ft<ct.length;Ft++)if(function(Kt,zt){var St=Kt.length;if(St===zt.length){for(var _n=0;_n<St;_n++)if(Kt[_n]!==zt[_n])return;return 1}}(ct[Ft].components,ce))return;ct.push(Ue)}else J.coverage.glyphs.splice(rt=-1-rt,0,X),J.ligatureSets.splice(rt,0,[Ue])},_e.prototype.getFeature=function(S,G,A){if(/ss\d\d/.test(S))return this.getSingle(S,G,A);switch(S){case"aalt":case"salt":return this.getSingle(S,G,A).concat(this.getAlternates(S,G,A));case"dlig":case"liga":case"rlig":return this.getLigatures(S,G,A)}},_e.prototype.add=function(S,G,A,O){if(/ss\d\d/.test(S))return this.addSingle(S,G,A,O);switch(S){case"aalt":case"salt":return"number"==typeof G.by?this.addSingle(S,G,A,O):this.addAlternate(S,G,A,O);case"dlig":case"liga":case"rlig":return this.addLigature(S,G,A,O)}};var Or={getPath:Kn,parse:function(S,G,A,O){for(var J=new Xe.GlyphSet(O),X=0;X<A.length-1;X+=1){var ce=A[X];J.push(X,ce!==A[X+1]?Xe.ttfGlyphLoader(O,X,Pn,S,G+ce,Pr):Xe.glyphLoader(O,X))}return J}};function Rr(S){this.font=S,this.getCommands=function(G){return Or.getPath(G).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Bo(S){return S}function Br(S){return Math.sign(S)*Math.round(Math.abs(S))}function mr(S){return Math.sign(S)*Math.round(Math.abs(2*S))/2}function On(S){return Math.sign(S)*(Math.round(Math.abs(S)+.5)-.5)}function Gn(S){return Math.sign(S)*Math.ceil(Math.abs(S))}function fr(S){return Math.sign(S)*Math.floor(Math.abs(S))}function Yr(S){var G=this.srPeriod,A=this.srPhase,O=1;return S<0&&(S=-S,O=-1),S+=this.srThreshold-A,S=Math.trunc(S/G)*G,(S+=A)<0?A*O:S*O}var xr={x:1,y:0,axis:"x",distance:function(S,G,A,O){return(A?S.xo:S.x)-(O?G.xo:G.x)},interpolate:function(S,G,A,O){var J,X,ce,Ue,rt,ct,Ft;if(!O||O===this)return J=S.xo-G.xo,X=S.xo-A.xo,rt=G.x-G.xo,ct=A.x-A.xo,0===(Ft=(ce=Math.abs(J))+(Ue=Math.abs(X)))?void(S.x=S.xo+(rt+ct)/2):void(S.x=S.xo+(rt*Ue+ct*ce)/Ft);J=O.distance(S,G,!0,!0),X=O.distance(S,A,!0,!0),rt=O.distance(G,G,!1,!0),ct=O.distance(A,A,!1,!0),0===(Ft=(ce=Math.abs(J))+(Ue=Math.abs(X)))?xr.setRelative(S,S,(rt+ct)/2,O,!0):xr.setRelative(S,S,(rt*Ue+ct*ce)/Ft,O,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(S,G,A,O,J){var X,ce;O&&O!==this?(X=J?G.xo:G.x,ce=J?G.yo:G.y,S.x=(X+=A*O.x)+(S.y-(ce+=A*O.y))/O.normalSlope):S.x=(J?G.xo:G.x)+A},slope:0,touch:function(S){S.xTouched=!0},touched:function(S){return S.xTouched},untouch:function(S){S.xTouched=!1}},Lr={x:0,y:1,axis:"y",distance:function(S,G,A,O){return(A?S.yo:S.y)-(O?G.yo:G.y)},interpolate:function(S,G,A,O){var J,X,ce,Ue,rt,ct,Ft;if(!O||O===this)return J=S.yo-G.yo,X=S.yo-A.yo,rt=G.y-G.yo,ct=A.y-A.yo,0===(Ft=(ce=Math.abs(J))+(Ue=Math.abs(X)))?void(S.y=S.yo+(rt+ct)/2):void(S.y=S.yo+(rt*Ue+ct*ce)/Ft);J=O.distance(S,G,!0,!0),X=O.distance(S,A,!0,!0),rt=O.distance(G,G,!1,!0),ct=O.distance(A,A,!1,!0),0===(Ft=(ce=Math.abs(J))+(Ue=Math.abs(X)))?Lr.setRelative(S,S,(rt+ct)/2,O,!0):Lr.setRelative(S,S,(rt*Ue+ct*ce)/Ft,O,!0)},normalSlope:0,setRelative:function(S,G,A,O,J){var X,ce;O&&O!==this?(X=J?G.xo:G.x,ce=J?G.yo:G.y,S.y=(ce+=A*O.y)+O.normalSlope*(S.x-(X+=A*O.x))):S.y=(J?G.yo:G.y)+A},slope:Number.POSITIVE_INFINITY,touch:function(S){S.yTouched=!0},touched:function(S){return S.yTouched},untouch:function(S){S.yTouched=!1}};function uo(S,G){this.x=S,this.y=G,this.axis=void 0,this.slope=G/S,this.normalSlope=-S/G,Object.freeze(this)}function ur(S,G){var A=Math.sqrt(S*S+G*G);return G/=A,1==(S/=A)&&0===G?xr:0===S&&1===G?Lr:new uo(S,G)}function vr(S,G,A,O){this.x=this.xo=Math.round(64*S)/64,this.y=this.yo=Math.round(64*G)/64,this.lastPointOfContour=A,this.onCurve=O,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(xr),Object.freeze(Lr),uo.prototype.distance=function(S,G,A,O){return this.x*xr.distance(S,G,A,O)+this.y*Lr.distance(S,G,A,O)},uo.prototype.interpolate=function(S,J,X,O){var ce=O.distance(S,J,!0,!0),Ue=O.distance(S,X,!0,!0),rt=(J=O.distance(J,J,!1,!0),X=O.distance(X,X,!1,!0),(ce=Math.abs(ce))+(Ue=Math.abs(Ue)));this.setRelative(S,S,0===rt?(J+X)/2:(J*Ue+X*ce)/rt,O,!0)},uo.prototype.setRelative=function(S,X,rt,ct,Ue){var ce=Ue?X.xo:X.x,Ft=(Ue=Ue?X.yo:X.y,X=ce+rt*(ct=ct||this).x,ce=Ue+rt*ct.y,Ue=ct.normalSlope,S.y);S.x=((rt=this.slope)*(ct=S.x)-Ue*X+ce-Ft)/(rt-Ue),S.y=rt*(S.x-ct)+Ft},uo.prototype.touch=function(S){S.xTouched=!0,S.yTouched=!0},vr.prototype.nextTouched=function(S){for(var G=this.nextPointOnContour;!S.touched(G)&&G!==this;)G=G.nextPointOnContour;return G},vr.prototype.prevTouched=function(S){for(var G=this.prevPointOnContour;!S.touched(G)&&G!==this;)G=G.prevPointOnContour;return G};var $r=Object.freeze(new vr(0,0)),Yn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ro(S,G){switch(this.env=S,this.stack=[],this.prog=G,S){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xr,this.round=Br}}function zo(S){for(var G=S.tZone=new Array(S.gZone.length),A=0;A<G.length;A++)G[A]=new vr(0,0)}function xo(S,G){var A,O=S.prog,J=S.ip,X=1;do{if(88===(A=O[++J]))X++;else if(89===A)X--;else if(64===A)J+=O[J+1]+1;else if(65===A)J+=2*O[J+1]+1;else if(176<=A&&A<=183)J+=A-176+1;else if(184<=A&&A<=191)J+=2*(A-184+1);else if(G&&1===X&&27===A)break}while(0<X);S.ip=J}function Dr(S,G){m.DEBUG&&console.log(G.step,"SVTCA["+S.axis+"]"),G.fv=G.pv=G.dpv=S}function So(S,G){m.DEBUG&&console.log(G.step,"SPVTCA["+S.axis+"]"),G.pv=G.dpv=S}function To(S,G){m.DEBUG&&console.log(G.step,"SFVTCA["+S.axis+"]"),G.fv=S}function fo(S,G){var A,O=(J=G.stack).pop(),J=J.pop(),X=G.z2[O],ce=G.z1[J];m.DEBUG&&console.log("SPVTL["+S+"]",O,J),O=S?(A=X.y-ce.y,ce.x-X.x):(A=ce.x-X.x,ce.y-X.y),G.pv=G.dpv=ur(A,O)}function po(S,G){var A,O=(J=G.stack).pop(),J=J.pop(),X=G.z2[O],ce=G.z1[J];m.DEBUG&&console.log("SFVTL["+S+"]",O,J),O=S?(A=X.y-ce.y,ce.x-X.x):(A=ce.x-X.x,ce.y-X.y),G.fv=ur(A,O)}function qo(S){m.DEBUG&&console.log(S.step,"POP[]"),S.stack.pop()}function jo(S,G){var A=G.stack.pop(),O=G.z0[A],J=G.fv,X=G.pv,ce=(m.DEBUG&&console.log(G.step,"MDAP["+S+"]",A),X.distance(O,$r));S&&(ce=G.round(ce)),J.setRelative(O,$r,ce,X),J.touch(O),G.rp0=G.rp1=A}function mo(S,G){var A,O,J,X=G.z2,ce=X.length-2;m.DEBUG&&console.log(G.step,"IUP["+S.axis+"]");for(var Ue=0;Ue<ce;Ue++)S.touched(A=X[Ue])||(O=A.prevTouched(S))!==A&&(O===(J=A.nextTouched(S))&&S.setRelative(A,A,S.distance(O,O,!1,!0),S,!0),S.interpolate(A,O,J,S))}function ko(S,G){for(var A=G.stack,J=(S?G.z0:G.z1)[S?G.rp1:G.rp2],X=G.fv,ce=G.pv,Ue=G.loop,rt=G.z2;Ue--;){var ct=A.pop(),Ft=rt[ct],Kt=ce.distance(J,J,!1,!0);X.setRelative(Ft,Ft,Kt,ce),X.touch(Ft),m.DEBUG&&console.log(G.step,(1<G.loop?"loop "+(G.loop-Ue)+": ":"")+"SHP["+(S?"rp1":"rp2")+"]",ct)}G.loop=1}function Xn(S,G){for(var O=(S?G.z0:G.z1)[S?G.rp1:G.rp2],J=G.fv,X=G.pv,ce=G.stack.pop(),Ue=G.z2[G.contours[ce]],rt=Ue,ct=(m.DEBUG&&console.log(G.step,"SHC["+S+"]",ce),X.distance(O,O,!1,!0));rt!==O&&J.setRelative(rt,rt,ct,X),(rt=rt.nextPointOnContour)!==Ue;);}function Uo(S,G){var A,O,J=(S?G.z0:G.z1)[J=S?G.rp1:G.rp2],X=G.fv,ce=G.pv,Ue=(Ue=G.stack).pop();switch(m.DEBUG&&console.log(G.step,"SHZ["+S+"]",Ue),Ue){case 0:A=G.tZone;break;case 1:A=G.gZone;break;default:throw new Error("Invalid zone")}for(var rt=ce.distance(J,J,!1,!0),ct=A.length-2,Ft=0;Ft<ct;Ft++)X.setRelative(O=A[Ft],O,rt,ce)}function oo(S,G){var A=(O=G.stack).pop()/64,O=O.pop(),J=G.z1[O],ce=G.fv;ce.setRelative(J,G.z0[G.rp0],A,G.pv),ce.touch(J),m.DEBUG&&console.log(G.step,"MSIRP["+S+"]",A,O),G.rp1=G.rp0,G.rp2=O,S&&(G.rp0=O)}function co(S,G){var Ue=(A=G.stack).pop(),A=A.pop(),O=G.z0[A],J=G.fv,X=G.pv,ce=G.cvt[Ue];m.DEBUG&&console.log(G.step,"MIAP["+S+"]",Ue,"(",ce,")",A),Ue=X.distance(O,$r),S&&(Math.abs(Ue-ce)<G.cvCutIn&&(Ue=ce),Ue=G.round(Ue)),J.setRelative(O,$r,Ue,X),0===G.zp0&&(O.xo=O.x,O.yo=O.y),J.touch(O),G.rp0=G.rp1=A}function Ro(S,G){var A=G.stack,O=A.pop(),J=G.z2[O];m.DEBUG&&console.log(G.step,"GC["+S+"]",O),A.push(64*G.dpv.distance(J,$r,S,!1))}function Lo(S,G){var A=(O=G.stack).pop(),O=O.pop(),X=G.dpv.distance(X=G.z0[O],G.z1[A],S,S);m.DEBUG&&console.log(G.step,"MD["+S+"]",A,O,"->",X),G.stack.push(Math.round(64*X))}function _r(S,G){var A=G.stack,O=A.pop(),J=G.fv,X=G.pv,ce=G.ppem,Ue=G.deltaBase+16*(S-1),rt=G.deltaShift,ct=G.z0;m.DEBUG&&console.log(G.step,"DELTAP["+S+"]",O,A);for(var Ft=0;Ft<O;Ft++){var Kt=A.pop(),zt=A.pop();Ue+((240&zt)>>4)===ce&&(0<=(zt=(15&zt)-8)&&zt++,m.DEBUG&&console.log(G.step,"DELTAPFIX",Kt,"by",zt*rt),J.setRelative(Kt=ct[Kt],Kt,zt*rt,X))}}function Yo(S,G){var A=G.stack,O=A.pop();m.DEBUG&&console.log(G.step,"ROUND[]"),A.push(64*G.round(O/64))}function Vr(S,G){var A=G.stack,O=A.pop(),J=G.ppem,X=G.deltaBase+16*(S-1),ce=G.deltaShift;m.DEBUG&&console.log(G.step,"DELTAC["+S+"]",O,A);for(var Ue=0;Ue<O;Ue++){var rt=A.pop(),ct=A.pop();X+((240&ct)>>4)===J&&(0<=(ct=(15&ct)-8)&&ct++,ct*=ce,m.DEBUG&&console.log(G.step,"DELTACFIX",rt,"by",ct),G.cvt[rt]+=ct)}}function Hr(S,G){var A,O=(J=G.stack).pop(),J=J.pop(),X=G.z2[O],ce=G.z1[J];m.DEBUG&&console.log(G.step,"SDPVTL["+S+"]",O,J),O=S?(A=X.y-ce.y,ce.x-X.x):(A=ce.x-X.x,ce.y-X.y),G.dpv=ur(A,O)}function Co(S,G){var A=G.stack,O=G.prog,J=G.ip;m.DEBUG&&console.log(G.step,"PUSHB["+S+"]");for(var X=0;X<S;X++)A.push(O[++J]);G.ip=J}function Xr(S,G){var A=G.ip,O=G.prog,J=G.stack;m.DEBUG&&console.log(G.ip,"PUSHW["+S+"]");for(var X=0;X<S;X++){var ce=O[++A]<<8|O[++A];32768&ce&&(ce=-(1+(65535^ce))),J.push(ce)}G.ip=A}function Nn(S,G,A,O,J,X){var ce,Ue,Ft,ct=X.stack,rt=S&&ct.pop(),Kt=(ct=ct.pop(),X.z1[ct]),zt=X.minDis,St=X.fv,_n=X.dpv,sn=ce=_n.distance(Kt,Ft=X.z0[Ft=X.rp0],!0,!0),cn=0<=sn?1:-1;sn=Math.abs(sn),S&&(Ue=X.cvt[rt],O&&Math.abs(sn-Ue)<X.cvCutIn&&(sn=Ue)),A&&sn<zt&&(sn=zt),O&&(sn=X.round(sn)),St.setRelative(Kt,Ft,cn*sn,_n),St.touch(Kt),m.DEBUG&&console.log(X.step,(S?"MIRP[":"MDRP[")+(G?"M":"m")+(A?">":"_")+(O?"R":"_")+(0===J?"Gr":1===J?"Bl":2===J?"Wh":"")+"]",S?rt+"("+X.cvt[rt]+","+Ue+")":"",ct,"(d =",ce,"->",cn*sn,")"),X.rp1=X.rp0,X.rp2=ct,G&&(X.rp0=ct)}Rr.prototype.exec=function(S,G){if("number"!=typeof G)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var A=this.font,O=this._prepState;if(!O||O.ppem!==G){var J=this._fpgmState;if(!J){ro.prototype=Yn,(J=this._fpgmState=new ro("fpgm",A.tables.fpgm)).funcs=[],J.font=A,m.DEBUG&&(console.log("---EXEC FPGM---"),J.step=-1);try{Go(J)}catch(ct){return console.log("Hinting error in FPGM:"+ct),void(this._errorState=3)}}ro.prototype=J,(O=this._prepState=new ro("prep",A.tables.prep)).ppem=G;var X=A.tables.cvt;if(X)for(var ce=O.cvt=new Array(X.length),Ue=G/A.unitsPerEm,rt=0;rt<X.length;rt++)ce[rt]=X[rt]*Ue;else O.cvt=[];m.DEBUG&&(console.log("---EXEC PREP---"),O.step=-1);try{Go(O)}catch(ct){this._errorState<2&&console.log("Hinting error in PREP:"+ct),this._errorState=2}}if(!(1<this._errorState))try{return Do(S,O)}catch(ct){this._errorState<1&&(console.log("Hinting error:"+ct),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Do=function(S,G){var A=G.ppem/G.font.unitsPerEm,O=A,J=S.components;if(ro.prototype=G,J){for(var X=G.font,ce=[],Ue=[],rt=0;rt<J.length;rt++){var ct=J[rt],Ft=X.glyphs.get(ct.glyphIndex),Kt=new ro("glyf",Ft.instructions);m.DEBUG&&(console.log("---EXEC COMP "+rt+"---"),Kt.step=-1),Xo(Ft,Kt,A,O);for(var zt=Math.round(ct.dx*A),St=Math.round(ct.dy*O),_n=Kt.gZone,sn=Kt.contours,cn=0;cn<_n.length;cn++){var rn=_n[cn];rn.xTouched=rn.yTouched=!1,rn.xo=rn.x=rn.x+zt,rn.yo=rn.y=rn.y+St}var en=ce.length;ce.push.apply(ce,_n);for(var $n=0;$n<sn.length;$n++)Ue.push(sn[$n]+en)}S.instructions&&!Kt.inhibitGridFit&&((Kt=new ro("glyf",S.instructions)).gZone=Kt.z0=Kt.z1=Kt.z2=ce,Kt.contours=Ue,ce.push(new vr(0,0),new vr(Math.round(S.advanceWidth*A),0)),m.DEBUG&&(console.log("---EXEC COMPOSITE---"),Kt.step=-1),Go(Kt),ce.length-=2)}else Kt=new ro("glyf",S.instructions),m.DEBUG&&(console.log("---EXEC GLYPH---"),Kt.step=-1),Xo(S,Kt,A,O),ce=Kt.gZone;return ce},Xo=function(S,G,A,O){for(var J,X,Ue=S.points||[],rt=Ue.length,ct=G.gZone=G.z0=G.z1=G.z2=[],Ft=G.contours=[],Kt=0;Kt<rt;Kt++)ct[Kt]=new vr((J=Ue[Kt]).x*A,J.y*O,J.lastPointOfContour,J.onCurve);for(var zt=0;zt<rt;zt++)J=ct[zt],X||(X=J,Ft.push(zt)),J.lastPointOfContour?((J.nextPointOnContour=X).prevPointOnContour=J,X=void 0):(J.nextPointOnContour=ct[zt+1]).prevPointOnContour=J;if(!G.inhibitGridFit){if(m.DEBUG){console.log("PROCESSING GLYPH",G.stack);for(var St=0;St<rt;St++)console.log(St,ct[St].x,ct[St].y)}if(ct.push(new vr(0,0),new vr(Math.round(S.advanceWidth*A),0)),Go(G),ct.length-=2,m.DEBUG){console.log("FINISHED GLYPH",G.stack);for(var _n=0;_n<rt;_n++)console.log(_n,ct[_n].x,ct[_n].y)}}},Go=function(S){var G=S.prog;if(G){var A,O=G.length;for(S.ip=0;S.ip<O;S.ip++){if(m.DEBUG&&S.step++,!(A=li[G[S.ip]]))throw new Error("unknown instruction: 0x"+Number(G[S.ip]).toString(16));A(S)}}},li=[Dr.bind(void 0,Lr),Dr.bind(void 0,xr),So.bind(void 0,Lr),So.bind(void 0,xr),To.bind(void 0,Lr),To.bind(void 0,xr),fo.bind(void 0,0),fo.bind(void 0,1),po.bind(void 0,0),po.bind(void 0,1),function(S){var G=(A=S.stack).pop(),A=A.pop();m.DEBUG&&console.log(S.step,"SPVFS[]",G,A),S.pv=S.dpv=ur(A,G)},function(S){var G=(A=S.stack).pop(),A=A.pop();m.DEBUG&&console.log(S.step,"SPVFS[]",G,A),S.fv=ur(A,G)},function(S){var G=S.stack,A=S.pv;m.DEBUG&&console.log(S.step,"GPV[]"),G.push(16384*A.x),G.push(16384*A.y)},function(S){var G=S.stack,A=S.fv;m.DEBUG&&console.log(S.step,"GFV[]"),G.push(16384*A.x),G.push(16384*A.y)},function(S){S.fv=S.pv,m.DEBUG&&console.log(S.step,"SFVTPV[]")},function(G){var A=(ce=G.stack).pop(),O=ce.pop(),J=ce.pop(),X=ce.pop(),ce=ce.pop(),Ue=(rt=G.z0)[A],rt=rt[O],ct=(Ft=G.z1)[J],Ft=Ft[X],Kt=(G=G.z2[ce],m.DEBUG&&console.log("ISECT[], ",A,O,J,X,ce),A=Ue.x,O=Ue.y,Ue=ct.y,A*(X=rt.y)-O*(J=rt.x)),zt=(ce=ct.x)*(ct=Ft.y)-Ue*(rt=Ft.x);G.x=(Kt*(ce-rt)-zt*(A-J))/(Ft=(A-J)*(Ue-ct)-(O-X)*(ce-rt)),G.y=(Kt*(Ue-ct)-zt*(O-X))/Ft},function(S){S.rp0=S.stack.pop(),m.DEBUG&&console.log(S.step,"SRP0[]",S.rp0)},function(S){S.rp1=S.stack.pop(),m.DEBUG&&console.log(S.step,"SRP1[]",S.rp1)},function(S){S.rp2=S.stack.pop(),m.DEBUG&&console.log(S.step,"SRP2[]",S.rp2)},function(S){var G=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SZP0[]",G),S.zp0=G){case 0:S.tZone||zo(S),S.z0=S.tZone;break;case 1:S.z0=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var G=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SZP1[]",G),S.zp1=G){case 0:S.tZone||zo(S),S.z1=S.tZone;break;case 1:S.z1=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var G=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SZP2[]",G),S.zp2=G){case 0:S.tZone||zo(S),S.z2=S.tZone;break;case 1:S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var G=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SZPS[]",G),S.zp0=S.zp1=S.zp2=G){case 0:S.tZone||zo(S),S.z0=S.z1=S.z2=S.tZone;break;case 1:S.z0=S.z1=S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){S.loop=S.stack.pop(),m.DEBUG&&console.log(S.step,"SLOOP[]",S.loop)},function(S){m.DEBUG&&console.log(S.step,"RTG[]"),S.round=Br},function(S){m.DEBUG&&console.log(S.step,"RTHG[]"),S.round=On},function(S){var G=S.stack.pop();m.DEBUG&&console.log(S.step,"SMD[]",G),S.minDis=G/64},function(S){m.DEBUG&&console.log(S.step,"ELSE[]"),xo(S,!1)},function(S){var G=S.stack.pop();m.DEBUG&&console.log(S.step,"JMPR[]",G),S.ip+=G-1},function(S){var G=S.stack.pop();m.DEBUG&&console.log(S.step,"SCVTCI[]",G),S.cvCutIn=G/64},void 0,void 0,function(S){var G=S.stack;m.DEBUG&&console.log(S.step,"DUP[]"),G.push(G[G.length-1])},qo,function(S){m.DEBUG&&console.log(S.step,"CLEAR[]"),S.stack.length=0},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"SWAP[]"),G.push(A),G.push(O)},function(S){var G=S.stack;m.DEBUG&&console.log(S.step,"DEPTH[]"),G.push(G.length)},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"CINDEX[]",A),G.push(G[G.length-A])},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"MINDEX[]",A),G.push(G.splice(G.length-A,1)[0])},void 0,void 0,void 0,function(S){var G=(O=S.stack).pop(),A=O.pop(),O=(m.DEBUG&&console.log(S.step,"LOOPCALL[]",G,A),S.ip),J=S.prog;S.prog=S.funcs[G];for(var X=0;X<A;X++)Go(S),m.DEBUG&&console.log(++S.step,X+1<A?"next loopcall":"done loopcall",X);S.ip=O,S.prog=J},function(S){var G=S.stack.pop(),A=(m.DEBUG&&console.log(S.step,"CALL[]",G),S.ip),O=S.prog;S.prog=S.funcs[G],Go(S),S.ip=A,S.prog=O,m.DEBUG&&console.log(++S.step,"returning from",G)},function(S){if("fpgm"!==S.env)throw new Error("FDEF not allowed here");var G=S.prog,A=S.ip,O=(O=S.stack).pop(),J=A;for(m.DEBUG&&console.log(S.step,"FDEF[]",O);45!==G[++A];);S.ip=A,S.funcs[O]=G.slice(J+1,A)},void 0,jo.bind(void 0,0),jo.bind(void 0,1),mo.bind(void 0,Lr),mo.bind(void 0,xr),ko.bind(void 0,0),ko.bind(void 0,1),Xn.bind(void 0,0),Xn.bind(void 0,1),Uo.bind(void 0,0),Uo.bind(void 0,1),function(S){for(var G=S.stack,A=S.loop,O=S.fv,J=G.pop()/64,X=S.z2;A--;){var ce=G.pop(),Ue=X[ce];m.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-A)+": ":"")+"SHPIX[]",ce,J),O.setRelative(Ue,Ue,J),O.touch(Ue)}S.loop=1},function(S){for(var G=S.stack,A=S.rp1,O=S.rp2,J=S.loop,X=S.z0[A],ce=S.z1[O],Ue=S.fv,rt=S.dpv,ct=S.z2;J--;){var Ft=G.pop(),Kt=ct[Ft];m.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-J)+": ":"")+"IP[]",Ft,A,"<->",O),Ue.interpolate(Kt,X,ce,rt),Ue.touch(Kt)}S.loop=1},oo.bind(void 0,0),oo.bind(void 0,1),function(S){for(var G=S.stack,O=S.z0[S.rp0],J=S.loop,X=S.fv,ce=S.pv,Ue=S.z1;J--;){var rt=G.pop(),ct=Ue[rt];m.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-J)+": ":"")+"ALIGNRP[]",rt),X.setRelative(ct,O,0,ce),X.touch(ct)}S.loop=1},function(S){m.DEBUG&&console.log(S.step,"RTDG[]"),S.round=mr},co.bind(void 0,0),co.bind(void 0,1),function(S){var G=S.prog,A=S.ip,O=S.stack,J=G[++A];m.DEBUG&&console.log(S.step,"NPUSHB[]",J);for(var X=0;X<J;X++)O.push(G[++A]);S.ip=A},function(S){var G=S.ip,A=S.prog,O=S.stack,J=A[++G];m.DEBUG&&console.log(S.step,"NPUSHW[]",J);for(var X=0;X<J;X++){var ce=A[++G]<<8|A[++G];32768&ce&&(ce=-(1+(65535^ce))),O.push(ce)}S.ip=G},function(S){var O=S.stack,G=(G=S.store)||(S.store=[]),A=O.pop();O=O.pop(),m.DEBUG&&console.log(S.step,"WS",A,O),G[O]=A},function(J){var G=J.stack,A=J.store,O=G.pop();m.DEBUG&&console.log(J.step,"RS",O),G.push(J=A&&A[O]||0)},function(S){var G=(A=S.stack).pop(),A=A.pop();m.DEBUG&&console.log(S.step,"WCVTP",G,A),S.cvt[A]=G/64},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"RCVT",A),G.push(64*S.cvt[A])},Ro.bind(void 0,0),Ro.bind(void 0,1),void 0,Lo.bind(void 0,0),Lo.bind(void 0,1),function(S){m.DEBUG&&console.log(S.step,"MPPEM[]"),S.stack.push(S.ppem)},void 0,function(S){m.DEBUG&&console.log(S.step,"FLIPON[]"),S.autoFlip=!0},void 0,void 0,function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"LT[]",A,O),G.push(O<A?1:0)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"LTEQ[]",A,O),G.push(O<=A?1:0)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"GT[]",A,O),G.push(A<O?1:0)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"GTEQ[]",A,O),G.push(A<=O?1:0)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"EQ[]",A,O),G.push(A===O?1:0)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"NEQ[]",A,O),G.push(A!==O?1:0)},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"ODD[]",A),G.push(Math.trunc(A)%2?1:0)},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"EVEN[]",A),G.push(Math.trunc(A)%2?0:1)},function(S){var G=S.stack.pop();m.DEBUG&&console.log(S.step,"IF[]",G),G||(xo(S,!0),m.DEBUG&&console.log(S.step,"EIF[]"))},function(S){m.DEBUG&&console.log(S.step,"EIF[]")},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"AND[]",A,O),G.push(A&&O?1:0)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"OR[]",A,O),G.push(A||O?1:0)},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"NOT[]",A),G.push(A?0:1)},_r.bind(void 0,1),function(S){var G=S.stack.pop();m.DEBUG&&console.log(S.step,"SDB[]",G),S.deltaBase=G},function(S){var G=S.stack.pop();m.DEBUG&&console.log(S.step,"SDS[]",G),S.deltaShift=Math.pow(.5,G)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"ADD[]",A,O),G.push(O+A)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"SUB[]",A,O),G.push(O-A)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"DIV[]",A,O),G.push(64*O/A)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"MUL[]",A,O),G.push(O*A/64)},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"ABS[]",A),G.push(Math.abs(A))},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"NEG[]",A),G.push(-A)},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"FLOOR[]",A),G.push(64*Math.floor(A/64))},function(S){var G=S.stack,A=G.pop();m.DEBUG&&console.log(S.step,"CEILING[]",A),G.push(64*Math.ceil(A/64))},Yo.bind(void 0,0),Yo.bind(void 0,1),Yo.bind(void 0,2),Yo.bind(void 0,3),void 0,void 0,void 0,void 0,function(S){var G=(A=S.stack).pop(),A=A.pop();m.DEBUG&&console.log(S.step,"WCVTF[]",G,A),S.cvt[A]=G*S.ppem/S.font.unitsPerEm},_r.bind(void 0,2),_r.bind(void 0,3),Vr.bind(void 0,1),Vr.bind(void 0,2),Vr.bind(void 0,3),function(S){var G,A=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"SROUND[]",A),S.round=Yr,192&A){case 0:G=.5;break;case 64:G=1;break;case 128:G=2;break;default:throw new Error("invalid SROUND value")}switch(S.srPeriod=G,48&A){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*G;break;case 32:S.srPhase=.5*G;break;case 48:S.srPhase=.75*G;break;default:throw new Error("invalid SROUND value")}S.srThreshold=0==(A&=15)?0:(A/8-.5)*G},function(S){var G,A=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"S45ROUND[]",A),S.round=Yr,192&A){case 0:G=Math.sqrt(2)/2;break;case 64:G=Math.sqrt(2);break;case 128:G=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(S.srPeriod=G,48&A){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*G;break;case 32:S.srPhase=.5*G;break;case 48:S.srPhase=.75*G;break;default:throw new Error("invalid S45ROUND value")}S.srThreshold=0==(A&=15)?0:(A/8-.5)*G},void 0,void 0,function(S){m.DEBUG&&console.log(S.step,"ROFF[]"),S.round=Bo},void 0,function(S){m.DEBUG&&console.log(S.step,"RUTG[]"),S.round=Gn},function(S){m.DEBUG&&console.log(S.step,"RDTG[]"),S.round=fr},qo,qo,void 0,void 0,void 0,void 0,void 0,function(S){var G=S.stack.pop();m.DEBUG&&console.log(S.step,"SCANCTRL[]",G)},Hr.bind(void 0,0),Hr.bind(void 0,1),function(S){var G=S.stack,A=G.pop(),O=0;m.DEBUG&&console.log(S.step,"GETINFO[]",A),1&A&&(O=35),32&A&&(O|=4096),G.push(O)},void 0,function(S){var G=S.stack,A=G.pop(),O=G.pop(),J=G.pop();m.DEBUG&&console.log(S.step,"ROLL[]"),G.push(O),G.push(A),G.push(J)},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"MAX[]",A,O),G.push(Math.max(O,A))},function(S){var G=S.stack,A=G.pop(),O=G.pop();m.DEBUG&&console.log(S.step,"MIN[]",A,O),G.push(Math.min(O,A))},function(S){var G=S.stack.pop();m.DEBUG&&console.log(S.step,"SCANTYPE[]",G)},function(S){var G=S.stack.pop(),A=S.stack.pop();switch(m.DEBUG&&console.log(S.step,"INSTCTRL[]",G,A),G){case 1:return void(S.inhibitGridFit=!!A);case 2:return void(S.ignoreCvt=!!A);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Co.bind(void 0,1),Co.bind(void 0,2),Co.bind(void 0,3),Co.bind(void 0,4),Co.bind(void 0,5),Co.bind(void 0,6),Co.bind(void 0,7),Co.bind(void 0,8),Xr.bind(void 0,1),Xr.bind(void 0,2),Xr.bind(void 0,3),Xr.bind(void 0,4),Xr.bind(void 0,5),Xr.bind(void 0,6),Xr.bind(void 0,7),Xr.bind(void 0,8),Nn.bind(void 0,0,0,0,0,0),Nn.bind(void 0,0,0,0,0,1),Nn.bind(void 0,0,0,0,0,2),Nn.bind(void 0,0,0,0,0,3),Nn.bind(void 0,0,0,0,1,0),Nn.bind(void 0,0,0,0,1,1),Nn.bind(void 0,0,0,0,1,2),Nn.bind(void 0,0,0,0,1,3),Nn.bind(void 0,0,0,1,0,0),Nn.bind(void 0,0,0,1,0,1),Nn.bind(void 0,0,0,1,0,2),Nn.bind(void 0,0,0,1,0,3),Nn.bind(void 0,0,0,1,1,0),Nn.bind(void 0,0,0,1,1,1),Nn.bind(void 0,0,0,1,1,2),Nn.bind(void 0,0,0,1,1,3),Nn.bind(void 0,0,1,0,0,0),Nn.bind(void 0,0,1,0,0,1),Nn.bind(void 0,0,1,0,0,2),Nn.bind(void 0,0,1,0,0,3),Nn.bind(void 0,0,1,0,1,0),Nn.bind(void 0,0,1,0,1,1),Nn.bind(void 0,0,1,0,1,2),Nn.bind(void 0,0,1,0,1,3),Nn.bind(void 0,0,1,1,0,0),Nn.bind(void 0,0,1,1,0,1),Nn.bind(void 0,0,1,1,0,2),Nn.bind(void 0,0,1,1,0,3),Nn.bind(void 0,0,1,1,1,0),Nn.bind(void 0,0,1,1,1,1),Nn.bind(void 0,0,1,1,1,2),Nn.bind(void 0,0,1,1,1,3),Nn.bind(void 0,1,0,0,0,0),Nn.bind(void 0,1,0,0,0,1),Nn.bind(void 0,1,0,0,0,2),Nn.bind(void 0,1,0,0,0,3),Nn.bind(void 0,1,0,0,1,0),Nn.bind(void 0,1,0,0,1,1),Nn.bind(void 0,1,0,0,1,2),Nn.bind(void 0,1,0,0,1,3),Nn.bind(void 0,1,0,1,0,0),Nn.bind(void 0,1,0,1,0,1),Nn.bind(void 0,1,0,1,0,2),Nn.bind(void 0,1,0,1,0,3),Nn.bind(void 0,1,0,1,1,0),Nn.bind(void 0,1,0,1,1,1),Nn.bind(void 0,1,0,1,1,2),Nn.bind(void 0,1,0,1,1,3),Nn.bind(void 0,1,1,0,0,0),Nn.bind(void 0,1,1,0,0,1),Nn.bind(void 0,1,1,0,0,2),Nn.bind(void 0,1,1,0,0,3),Nn.bind(void 0,1,1,0,1,0),Nn.bind(void 0,1,1,0,1,1),Nn.bind(void 0,1,1,0,1,2),Nn.bind(void 0,1,1,0,1,3),Nn.bind(void 0,1,1,1,0,0),Nn.bind(void 0,1,1,1,0,1),Nn.bind(void 0,1,1,1,0,2),Nn.bind(void 0,1,1,1,0,3),Nn.bind(void 0,1,1,1,1,0),Nn.bind(void 0,1,1,1,1,1),Nn.bind(void 0,1,1,1,1,2),Nn.bind(void 0,1,1,1,1,3)],go=Array.from||function(S){return S.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function br(S){(S=S||{}).empty||(nn(S.familyName,"When creating a new Font object, familyName is required."),nn(S.styleName,"When creating a new Font object, styleName is required."),nn(S.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),nn(S.ascender,"When creating a new Font object, ascender is required."),nn(S.descender,"When creating a new Font object, descender is required."),nn(S.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:S.familyName||" "},fontSubfamily:{en:S.styleName||" "},fullName:{en:S.fullName||S.familyName+" "+S.styleName},postScriptName:{en:S.postScriptName||(S.familyName+S.styleName).replace(/\s/g,"")},designer:{en:S.designer||" "},designerURL:{en:S.designerURL||" "},manufacturer:{en:S.manufacturer||" "},manufacturerURL:{en:S.manufacturerURL||" "},license:{en:S.license||" "},licenseURL:{en:S.licenseURL||" "},version:{en:S.version||"Version 0.1"},description:{en:S.description||" "},copyright:{en:S.copyright||" "},trademark:{en:S.trademark||" "}},this.unitsPerEm=S.unitsPerEm||1e3,this.ascender=S.ascender,this.descender=S.descender,this.createdTimestamp=S.createdTimestamp,this.tables={os2:{usWeightClass:S.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:S.widthClass||this.usWidthClasses.MEDIUM,fsSelection:S.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Xe.GlyphSet(this,S.glyphs||[]),this.encoding=new kt(this),this.position=new Ge(this),this.substitution=new _e(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Rr(this):void 0)}})}br.prototype.hasChar=function(S){return null!==this.encoding.charToGlyphIndex(S)},br.prototype.charToGlyphIndex=function(S){return this.encoding.charToGlyphIndex(S)},br.prototype.charToGlyph=function(S){return S=this.charToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},br.prototype.stringToGlyphs=function(S,G){G=G||this.defaultRenderOptions;for(var A=go(S),O=[],J=0;J<A.length;J+=1)O.push(this.charToGlyphIndex(A[J]));var ce=O.length;if(G.features){S=G.script||this.substitution.getDefaultScriptName();var Ue=[];G.features.liga&&(Ue=Ue.concat(this.substitution.getFeature("liga",S,G.language))),G.features.rlig&&(Ue=Ue.concat(this.substitution.getFeature("rlig",S,G.language)));for(var rt=0;rt<ce;rt+=1)for(var ct=0;ct<Ue.length;ct++){for(var Ft=Ue[ct],Kt=Ft.sub,zt=Kt.length,St=0;St<zt&&Kt[St]===O[rt+St];)St++;St===zt&&(O.splice(rt,zt,Ft.by),ce=ce-zt+1)}}for(var _n=new Array(ce),sn=this.glyphs.get(0),cn=0;cn<ce;cn+=1)_n[cn]=this.glyphs.get(O[cn])||sn;return _n},br.prototype.nameToGlyphIndex=function(S){return this.glyphNames.nameToGlyphIndex(S)},br.prototype.nameToGlyph=function(S){return S=this.nameToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},br.prototype.glyphIndexToName=function(S){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(S):""},br.prototype.getKerningValue=function(S,G){S=S.index||S,G=G.index||G;var A=this.position.defaultKerningTables;return A?this.position.getKerningValue(A,S,G):this.kerningPairs[S+","+G]||0},br.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},br.prototype.forEachGlyph=function(S,G,A,O,J,X){G=void 0!==G?G:0,A=void 0!==A?A:0;var ce,Ue=1/this.unitsPerEm*(O=void 0!==O?O:72),rt=this.stringToGlyphs(S,J=J||this.defaultRenderOptions);J.kerning&&(S=J.script||this.position.getDefaultScriptName(),ce=this.position.getKerningTables(S,J.language));for(var ct=0;ct<rt.length;ct+=1){var Ft=rt[ct];X.call(this,Ft,G,A,O,J),Ft.advanceWidth&&(G+=Ft.advanceWidth*Ue),J.kerning&&ct<rt.length-1&&(G+=(ce?this.position.getKerningValue(ce,Ft.index,rt[ct+1].index):this.getKerningValue(Ft,rt[ct+1]))*Ue),J.letterSpacing?G+=J.letterSpacing*O:J.tracking&&(G+=J.tracking/1e3*O)}return G},br.prototype.getPath=function(S,G,A,O,J){var X=new le;return this.forEachGlyph(S,G,A,O,J,function(ce,Ue,rt,ct){ce=ce.getPath(Ue,rt,ct,J,this),X.extend(ce)}),X},br.prototype.getPaths=function(S,G,A,O,J){var X=[];return this.forEachGlyph(S,G,A,O,J,function(ce,Ue,rt,ct){ce=ce.getPath(Ue,rt,ct,J,this),X.push(ce)}),X},br.prototype.getAdvanceWidth=function(S,G,A){return this.forEachGlyph(S,0,0,G,A,function(){})},br.prototype.draw=function(S,G,A,O,J,X){this.getPath(G,A,O,J,X).draw(S)},br.prototype.drawPoints=function(S,G,A,O,J,X){this.forEachGlyph(G,A,O,J,X,function(ce,Ue,rt,ct){ce.drawPoints(S,Ue,rt,ct)})},br.prototype.drawMetrics=function(S,G,A,O,J,X){this.forEachGlyph(G,A,O,J,X,function(ce,Ue,rt,ct){ce.drawMetrics(S,Ue,rt,ct)})},br.prototype.getEnglishName=function(S){if(S=this.names[S])return S.en},br.prototype.validate=function(){var S=this;function G(A){(A=S.getEnglishName(A))&&A.trim()}G("fontFamily"),G("weightName"),G("manufacturer"),G("copyright"),G("version")},br.prototype.toTables=function(){return Ke_fontToTable(this)},br.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},br.prototype.toArrayBuffer=function(){for(var S=this.toTables().encode(),G=new ArrayBuffer(S.length),A=new Uint8Array(G),O=0;O<S.length;O++)A[O]=S[O];return G},br.prototype.download=function(S){var G=this.getEnglishName("fontFamily"),A=this.getEnglishName("fontSubfamily"),O=(S=S||G.replace(/\s/g,"")+"-"+A+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,O.byteLength,function(J){J.root.getFile(S,{create:!0},function(X){X.createWriter(function(ce){var Ue=new DataView(O);Ue=new Blob([Ue],{type:"font/opentype"}),ce.write(Ue),ce.addEventListener("writeend",function(){location.href=X.toURL()},!1)})})},function(J){throw new Error(J.name+": "+J.message)})):(G=o("fs"),A=function(J){for(var X=new _(J.byteLength),ce=new Uint8Array(J),Ue=0;Ue<X.length;++Ue)X[Ue]=ce[Ue];return X}(O),G.writeFileSync(S,A))},br.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},br.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},br.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ei_parse=function(S,G,A){for(var O,X,ce,Ue=new pt.Parser(S,G),rt=Ue.parseULong(),ct=(R.argument(65536===rt,"Unsupported fvar table version."),Ue.parseOffset16()),Ft=(Ue.skip("uShort",1),Ue.parseUShort()),Kt=Ue.parseUShort(),zt=Ue.parseUShort(),St=Ue.parseUShort(),_n=[],sn=0;sn<Ft;sn++)_n.push((X=A,ce={},O=new pt.Parser(O=S,G+ct+sn*Kt),ce.tag=O.parseTag(),ce.minValue=O.parseFixed(),ce.defaultValue=O.parseFixed(),ce.maxValue=O.parseFixed(),O.skip("uShort",1),ce.name=X[O.parseUShort()]||{},ce));for(var cn=[],rn=G+ct+Ft*Kt,en=0;en<zt;en++)cn.push(function($n,Hn,Wn,Vn){var Zn={},er=new pt.Parser($n,Hn);Zn.name=Vn[er.parseUShort()]||{},er.skip("uShort",1),Zn.coordinates={};for(var Ur=0;Ur<Wn.length;++Ur)Zn.coordinates[Wn[Ur].tag]=er.parseFixed();return Zn}(S,rn+en*St,_n,A));return{axes:_n,instances:cn}},Oo=new Array(10);Oo[1]=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort();return 1===G?{posFormat:1,coverage:this.parsePointer(Ze.coverage),value:this.parseValueRecord()}:2===G?{posFormat:2,coverage:this.parsePointer(Ze.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+S.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Oo[2]=function(){var S,G,A,O,X=this.offset+this.relativeOffset,J=this.parseUShort(),ce=(R.assert(1===J||2===J,"0x"+X.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),X=this.parsePointer(Ze.coverage),this.parseUShort()),Ue=this.parseUShort();return 1===J?{posFormat:J,coverage:X,valueFormat1:ce,valueFormat2:Ue,pairSets:this.parseList(Ze.pointer(Ze.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ce),value2:this.parseValueRecord(Ue)}})))}:2===J?(S=this.parsePointer(Ze.classDef),G=this.parsePointer(Ze.classDef),A=this.parseUShort(),O=this.parseUShort(),{posFormat:J,coverage:X,valueFormat1:ce,valueFormat2:Ue,classDef1:S,classDef2:G,class1Count:A,class2Count:O,classRecords:this.parseList(A,Ze.list(O,function(){return{value1:this.parseValueRecord(ce),value2:this.parseValueRecord(Ue)}}))}):void 0},Oo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Oo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Oo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Oo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Oo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Oo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Oo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Si_parse=function(S,G){return G=(S=new Ze(S,G=G||0)).parseVersion(1),R.argument(1===G||1.1===G,"Unsupported GPOS table version "+G),1===G?{version:G,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Oo)}:{version:G,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Oo),variations:S.parseFeatureVariationsList()}},mi_parse=function(S,G){if(0===(G=(S=new pt.Parser(S,G)).parseUShort())){var A=S,O={},Kt=(A.skip("uShort"),A.parseUShort()),J=(R.argument(0===Kt,"Unsupported kern sub-table version."),A.skip("uShort",2),A.parseUShort());A.skip("uShort",3);for(var X=0;X<J;X+=1){var ce=A.parseUShort(),Ue=A.parseUShort(),rt=A.parseShort();O[ce+","+Ue]=rt}return O}if(1!==G)throw new Error("Unsupported kern table version ("+G+").");var ct=S,Ft={};if(ct.skip("uShort"),1<ct.parseULong()&&console.warn("Only the first kern subtable is supported."),ct.skip("uLong"),Kt=255&ct.parseUShort(),ct.skip("uShort"),0==Kt){var zt=ct.parseUShort();ct.skip("uShort",3);for(var St=0;St<zt;St+=1){var _n=ct.parseUShort(),sn=ct.parseUShort(),cn=ct.parseShort();Ft[_n+","+sn]=cn}}return Ft},Zi_parse=function(S,G,A,O){for(var J=new pt.Parser(S,G),X=O?J.parseUShort:J.parseULong,ce=[],Ue=0;Ue<A+1;Ue+=1){var rt=X.call(J);O&&(rt*=2),ce.push(rt)}return ce};function _s(S,G){o("fs").readFile(S,function(A,O){if(A)return G(A.message);G(null,Et(O))})}function ui(S,G){var A=new XMLHttpRequest;A.open("get",S,!0),A.responseType="arraybuffer",A.onload=function(){return A.response?G(null,A.response):G("Font could not be loaded: "+A.statusText)},A.onerror=function(){G("Font could not be loaded")},A.send()}function oi(S,G){for(var A=[],O=12,J=0;J<G;J+=1){var X=pt.getTag(S,O),ce=pt.getULong(S,O+4),Ue=pt.getULong(S,O+8),rt=pt.getULong(S,O+12);A.push({tag:X,checksum:ce,offset:Ue,length:rt,compression:!1}),O+=16}return A}function Wr(A,G){if("WOFF"!==G.compression)return{data:A,offset:G.offset};A=new Uint8Array(A.buffer,G.offset+2,G.compressedLength-2);var O=new Uint8Array(G.length);if(te(A,O),O.byteLength!==G.length)throw new Error("Decompression error: "+G.tag+" decompressed length doesn't match recorded length");return{data:new DataView(O.buffer,0),offset:0}}function Di(en){var G,A,O,J,X,ce,Ue,rt,ct,Ft,Kt,zt,St,_n,sn=new br({empty:!0}),cn=new DataView(en,0),rn=[];if("\0\x01\0\0"===(en=pt.getTag(cn,0))||"true"===en||"typ1"===en)sn.outlinesFormat="truetype",rn=oi(cn,O=pt.getUShort(cn,4));else if("OTTO"===en)sn.outlinesFormat="cff",rn=oi(cn,O=pt.getUShort(cn,4));else{if("wOFF"!==en)throw new Error("Unsupported OpenType signature "+en);if("\0\x01\0\0"===($n=pt.getTag(cn,4)))sn.outlinesFormat="truetype";else{if("OTTO"!==$n)throw new Error("Unsupported OpenType flavor "+en);sn.outlinesFormat="cff"}rn=function(Ir,yr){for(var kr=[],Fn=44,to=0;to<yr;to+=1){var Nr=pt.getTag(Ir,Fn),no=pt.getULong(Ir,Fn+4),Jo=pt.getULong(Ir,Fn+8),ci=pt.getULong(Ir,Fn+12);kr.push({tag:Nr,offset:no,compression:Jo<ci&&"WOFF",compressedLength:Jo,length:ci}),Fn+=20}return kr}(cn,O=pt.getUShort(cn,12))}for(var Hn=0;Hn<O;Hn+=1){var Wn=rn[Hn],Vn=void 0;switch(Wn.tag){case"cmap":Vn=Wr(cn,Wn),sn.tables.cmap=Re_parse(Vn.data,Vn.offset),sn.encoding=new Lt(sn.tables.cmap);break;case"cvt ":Vn=Wr(cn,Wn),_n=new pt.Parser(Vn.data,Vn.offset),sn.tables.cvt=_n.parseShortList(Wn.length/2);break;case"fvar":X=Wn;break;case"fpgm":Vn=Wr(cn,Wn),_n=new pt.Parser(Vn.data,Vn.offset),sn.tables.fpgm=_n.parseByteList(Wn.length);break;case"head":Vn=Wr(cn,Wn),sn.tables.head=be_parse(Vn.data,Vn.offset),sn.unitsPerEm=sn.tables.head.unitsPerEm,G=sn.tables.head.indexToLocFormat;break;case"hhea":Vn=Wr(cn,Wn),sn.tables.hhea=ye_parse(Vn.data,Vn.offset),sn.ascender=sn.tables.hhea.ascender,sn.descender=sn.tables.hhea.descender,sn.numberOfHMetrics=sn.tables.hhea.numberOfHMetrics;break;case"hmtx":ct=Wn;break;case"ltag":Vn=Wr(cn,Wn),A=N_parse(Vn.data,Vn.offset);break;case"maxp":Vn=Wr(cn,Wn),sn.tables.maxp=L_parse(Vn.data,Vn.offset),sn.numGlyphs=sn.tables.maxp.numGlyphs;break;case"name":zt=Wn;break;case"OS/2":Vn=Wr(cn,Wn),sn.tables.os2=Ln_parse(Vn.data,Vn.offset);break;case"post":Vn=Wr(cn,Wn),sn.tables.post=hr_parse(Vn.data,Vn.offset),sn.glyphNames=new bn(sn.tables.post);break;case"prep":Vn=Wr(cn,Wn),_n=new pt.Parser(Vn.data,Vn.offset),sn.tables.prep=_n.parseByteList(Wn.length);break;case"glyf":ce=Wn;break;case"loca":Kt=Wn;break;case"CFF ":J=Wn;break;case"kern":Ft=Wn;break;case"GPOS":Ue=Wn;break;case"GSUB":rt=Wn;break;case"meta":St=Wn}}if($n=Wr(cn,zt),sn.tables.name=kn_parse($n.data,$n.offset,A),sn.names=sn.tables.name,ce&&Kt)en=0===G,$n=Wr(cn,Kt),$n=Zi_parse($n.data,$n.offset,sn.numGlyphs,en),en=Wr(cn,ce),sn.glyphs=Or.parse(en.data,en.offset,$n,sn);else{if(!J)throw new Error("Font doesn't contain TrueType or CFF outlines.");en=Wr(cn,J),Z_parse(en.data,en.offset,sn)}for(var $n=Wr(cn,ct),Zn=(E_parse($n.data,$n.offset,sn.numberOfHMetrics,sn.numGlyphs,sn.glyphs),sn),er=Zn.tables.cmap.glyphIndexMap,Ur=Object.keys(er),Kr=0;Kr<Ur.length;Kr+=1){var Zr,Jr=Ur[Kr];(Zr=Zn.glyphs.get(er[Jr])).addUnicode(parseInt(Jr))}for(var Cr=0;Cr<Zn.glyphs.length;Cr+=1)Zr=Zn.glyphs.get(Cr),Zn.cffEncoding?Zr.name=Zn.isCIDFont?"gid"+Cr:Zn.cffEncoding.charset[Cr]:Zn.glyphNames.names&&(Zr.name=Zn.glyphNames.glyphIndexToName(Cr));return Ft?(en=Wr(cn,Ft),sn.kerningPairs=mi_parse(en.data,en.offset)):sn.kerningPairs={},Ue&&($n=Wr(cn,Ue),sn.tables.gpos=Si_parse($n.data,$n.offset),sn.position.init()),rt&&(en=Wr(cn,rt),sn.tables.gsub=ze_parse(en.data,en.offset)),X&&($n=Wr(cn,X),sn.tables.fvar=Ei_parse($n.data,$n.offset,sn.names)),St&&(en=Wr(cn,St),sn.tables.meta=mt_parse(en.data,en.offset),sn.metas=sn.tables.meta),sn}m.Font=br,m.Glyph=Pt,m.Path=le,m.BoundingBox=oe,m._parse=pt,m.parse=Di,m.load=function(S,G){(typeof window>"u"?_s:ui)(S,function(A,O){if(A)return G(A);var J;try{J=Di(O)}catch(X){return G(X,null)}return G(null,J)})},m.loadSync=function(S){return Di(Et(o("fs").readFileSync(S)))},Object.defineProperty(m,"__esModule",{value:!0})},p("object"==typeof w&&void 0!==V?w:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],255:[function(o,V,w){(function(_){function d(C,x){for(var s=0,a=C.length-1;0<=a;a--){var h=C[a];"."===h?C.splice(a,1):".."===h?(C.splice(a,1),s++):s&&(C.splice(a,1),s--)}if(x)for(;s--;)C.unshift("..");return C}function p(C,x){if(C.filter)return C.filter(x);for(var s=[],a=0;a<C.length;a++)x(C[a],a,C)&&s.push(C[a]);return s}w.resolve=function(){for(var C="",x=!1,s=arguments.length-1;-1<=s&&!x;s--){var a=0<=s?arguments[s]:_.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(C=a+"/"+C,x="/"===a.charAt(0))}return(x?"/":"")+(C=d(p(C.split("/"),function(h){return!!h}),!x).join("/"))||"."},w.normalize=function(C){var x=w.isAbsolute(C),s="/"===m(C,-1);return(C=(C=d(p(C.split("/"),function(a){return!!a}),!x).join("/"))||x?C:".")&&s&&(C+="/"),(x?"/":"")+C},w.isAbsolute=function(C){return"/"===C.charAt(0)},w.join=function(){var C=Array.prototype.slice.call(arguments,0);return w.normalize(p(C,function(x,s){if("string"!=typeof x)throw new TypeError("Arguments to path.join must be strings");return x}).join("/"))},w.relative=function(C,x){function s(f){for(var b=0;b<f.length&&""===f[b];b++);for(var D=f.length-1;0<=D&&""===f[D];D--);return D<b?[]:f.slice(b,D-b+1)}C=w.resolve(C).substr(1),x=w.resolve(x).substr(1);for(var a=s(C.split("/")),h=s(x.split("/")),c=Math.min(a.length,h.length),u=c,l=0;l<c;l++)if(a[l]!==h[l]){u=l;break}var y=[];for(l=u;l<a.length;l++)y.push("..");return(y=y.concat(h.slice(u))).join("/")},w.sep="/",w.delimiter=":",w.dirname=function(C){if("string"!=typeof C&&(C+=""),0===C.length)return".";for(var x=47===C.charCodeAt(0),s=-1,a=!0,h=C.length-1;1<=h;--h)if(47===C.charCodeAt(h)){if(!a){s=h;break}}else a=!1;return-1===s?x?"/":".":x&&1===s?"/":C.slice(0,s)},w.basename=function(C,x){return C=function(s){"string"!=typeof s&&(s+="");for(var a=0,h=-1,c=!0,u=s.length-1;0<=u;--u)if(47===s.charCodeAt(u)){if(!c){a=u+1;break}}else-1===h&&(c=!1,h=u+1);return-1===h?"":s.slice(a,h)}(C),x&&C.substr(-1*x.length)===x?C.substr(0,C.length-x.length):C},w.extname=function(C){"string"!=typeof C&&(C+="");for(var x=-1,s=0,a=-1,h=!0,c=0,u=C.length-1;0<=u;--u){var l=C.charCodeAt(u);if(47===l){if(h)continue;s=u+1;break}-1===a&&(h=!1,a=u+1),46===l?-1===x?x=u:1!==c&&(c=1):-1!==x&&(c=-1)}return-1===x||-1===a||0===c||1===c&&x===a-1&&x===s+1?"":C.slice(x,a)};var m=function(C,x,s){return C.substr(x,s)}}).call(this,o("_process"))},{_process:256}],256:[function(o,p,w){var _,d;function m(){throw new Error("setTimeout has not been defined")}function C(){throw new Error("clearTimeout has not been defined")}p=p.exports={};try{_="function"==typeof setTimeout?setTimeout:m}catch{_=m}try{d="function"==typeof clearTimeout?clearTimeout:C}catch{d=C}function x(b){if(_===setTimeout)return setTimeout(b,0);if((_===m||!_)&&setTimeout)return(_=setTimeout)(b,0);try{return _(b,0)}catch{try{return _.call(null,b,0)}catch{return _.call(this,b,0)}}}var s,a=[],h=!1,c=-1;function u(){h&&s&&(h=!1,s.length?a=s.concat(a):c=-1,a.length&&l())}function l(){if(!h){for(var b=x(u),D=(h=!0,a.length);D;){for(s=a,a=[];++c<D;)s&&s[c].run();c=-1,D=a.length}s=null,h=!1,function(B){if(d===clearTimeout)return clearTimeout(B);if((d===C||!d)&&clearTimeout)return(d=clearTimeout)(B);try{d(B)}catch{try{return d.call(null,B)}catch{return d.call(this,B)}}}(b)}}function y(b,D){this.fun=b,this.array=D}function f(){}p.nextTick=function(b){var D=new Array(arguments.length-1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)D[B-1]=arguments[B];a.push(new y(b,D)),1!==a.length||h||x(l)},y.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.prependListener=f,p.prependOnceListener=f,p.listeners=function(b){return[]},p.binding=function(b){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(b){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],257:[function(o,V,w){V=function(_){"use strict";var d,p=Object.prototype,m=p.hasOwnProperty,C=(F="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",x=F.asyncIterator||"@@asyncIterator",s=F.toStringTag||"@@toStringTag";function a(ie,ne,z,ue){var le,Ee,W,R;return ne=ne&&ne.prototype instanceof b?ne:b,ne=Object.create(ne.prototype),ue=new q(ue||[]),ne._invoke=(le=ie,Ee=z,W=ue,R=c,function(we,je){if(R===l)throw new Error("Generator is already running");if(R===y){if("throw"===we)throw je;return Y()}for(W.method=we,W.arg=je;;){var Be=W.delegate;if(Be&&(Be=function We(Oe,Pe){var $e=Oe.iterator[Pe.method];if($e===d){if(Pe.delegate=null,"throw"===Pe.method){if(Oe.iterator.return&&(Pe.method="return",Pe.arg=d,We(Oe,Pe),"throw"===Pe.method))return f;Pe.method="throw",Pe.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}return"throw"===($e=h($e,Oe.iterator,Pe.arg)).type?(Pe.method="throw",Pe.arg=$e.arg,Pe.delegate=null,f):($e=$e.arg)?$e.done?(Pe[Oe.resultName]=$e.value,Pe.next=Oe.nextLoc,"return"!==Pe.method&&(Pe.method="next",Pe.arg=d),Pe.delegate=null,f):$e:(Pe.method="throw",Pe.arg=new TypeError("iterator result is not an object"),Pe.delegate=null,f)}(Be,W))){if(Be===f)continue;return Be}if("next"===W.method)W.sent=W._sent=W.arg;else if("throw"===W.method){if(R===c)throw R=y,W.arg;W.dispatchException(W.arg)}else"return"===W.method&&W.abrupt("return",W.arg);if(R=l,"normal"===(Be=h(le,Ee,W)).type){if(R=W.done?y:u,Be.arg!==f)return{value:Be.arg,done:W.done}}else"throw"===Be.type&&(R=y,W.method="throw",W.arg=Be.arg)}}),ne}function h(ie,te,z){try{return{type:"normal",arg:ie.call(te,z)}}catch(oe){return{type:"throw",arg:oe}}}_.wrap=a;var c="suspendedStart",u="suspendedYield",l="executing",y="completed",f={};function b(){}function D(){}function B(){}var F,j,k=((F={})[C]=function(){return this},(j=(j=Object.getPrototypeOf)&&j(j(K([]))))&&j!==p&&m.call(j,C)&&(F=j),B.prototype=b.prototype=Object.create(F));function U(ie){["next","throw","return"].forEach(function(te){ie[te]=function(z){return this._invoke(te,z)}})}function T(ie){var te;this._invoke=function(z,oe){function le(){return new Promise(function(Ee,W){!function R(We,ue,we,je){var Be;if("throw"!==(We=h(ie[We],ie,ue)).type)return(ue=(Be=We.arg).value)&&"object"==typeof ue&&m.call(ue,"__await")?Promise.resolve(ue.__await).then(function(Oe){R("next",Oe,we,je)},function(Oe){R("throw",Oe,we,je)}):Promise.resolve(ue).then(function(Oe){Be.value=Oe,we(Be)},function(Oe){return R("throw",Oe,we,je)});je(We.arg)}(z,oe,Ee,W)})}return te=te?te.then(le,le):le()}}function I(ie){var te={tryLoc:ie[0]};1 in ie&&(te.catchLoc=ie[1]),2 in ie&&(te.finallyLoc=ie[2],te.afterLoc=ie[3]),this.tryEntries.push(te)}function M(ie){var te=ie.completion||{};te.type="normal",delete te.arg,ie.completion=te}function q(ie){this.tryEntries=[{tryLoc:"root"}],ie.forEach(I,this),this.reset(!0)}function K(ie){if(ie){var te,z=ie[C];if(z)return z.call(ie);if("function"==typeof ie.next)return ie;if(!isNaN(ie.length))return te=-1,(z=function oe(){for(;++te<ie.length;)if(m.call(ie,te))return oe.value=ie[te],oe.done=!1,oe;return oe.value=d,oe.done=!0,oe}).next=z}return{next:Y}}function Y(){return{value:d,done:!0}}return(D.prototype=k.constructor=B).constructor=D,B[s]=D.displayName="GeneratorFunction",_.isGeneratorFunction=function(ie){return!!(ie="function"==typeof ie&&ie.constructor)&&(ie===D||"GeneratorFunction"===(ie.displayName||ie.name))},_.mark=function(ie){return Object.setPrototypeOf?Object.setPrototypeOf(ie,B):(ie.__proto__=B,s in ie||(ie[s]="GeneratorFunction")),ie.prototype=Object.create(k),ie},_.awrap=function(ie){return{__await:ie}},U(T.prototype),T.prototype[x]=function(){return this},_.AsyncIterator=T,_.async=function(ie,te,z,oe){var le=new T(a(ie,te,z,oe));return _.isGeneratorFunction(te)?le:le.next().then(function(Ee){return Ee.done?Ee.value:le.next()})},U(k),k[s]="Generator",k[C]=function(){return this},k.toString=function(){return"[object Generator]"},_.keys=function(ie){var te,z=[];for(te in ie)z.push(te);return z.reverse(),function oe(){for(;z.length;){var le=z.pop();if(le in ie)return oe.value=le,oe.done=!1,oe}return oe.done=!0,oe}},_.values=K,q.prototype={constructor:q,reset:function(ie){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(M),!ie)for(var te in this)"t"===te.charAt(0)&&m.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=d)},stop:function(){this.done=!0;var ie=this.tryEntries[0].completion;if("throw"===ie.type)throw ie.arg;return this.rval},dispatchException:function(ie){if(this.done)throw ie;var te=this;function z(ne,ue){return Ee.type="throw",Ee.arg=ie,te.next=ne,ue&&(te.method="next",te.arg=d),!!ue}for(var oe=this.tryEntries.length-1;0<=oe;--oe){var le=this.tryEntries[oe],Ee=le.completion;if("root"===le.tryLoc)return z("end");if(le.tryLoc<=this.prev){var W=m.call(le,"catchLoc"),R=m.call(le,"finallyLoc");if(W&&R){if(this.prev<le.catchLoc)return z(le.catchLoc,!0);if(this.prev<le.finallyLoc)return z(le.finallyLoc)}else if(W){if(this.prev<le.catchLoc)return z(le.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return z(le.finallyLoc)}}}},abrupt:function(ie,te){for(var z=this.tryEntries.length-1;0<=z;--z){var oe=this.tryEntries[z];if(oe.tryLoc<=this.prev&&m.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var le=oe;break}}var Ee=(le=le&&("break"===ie||"continue"===ie)&&le.tryLoc<=te&&te<=le.finallyLoc?null:le)?le.completion:{};return Ee.type=ie,Ee.arg=te,le?(this.method="next",this.next=le.finallyLoc,f):this.complete(Ee)},complete:function(ie,te){if("throw"===ie.type)throw ie.arg;return"break"===ie.type||"continue"===ie.type?this.next=ie.arg:"return"===ie.type?(this.rval=this.arg=ie.arg,this.method="return",this.next="end"):"normal"===ie.type&&te&&(this.next=te),f},finish:function(ie){for(var te=this.tryEntries.length-1;0<=te;--te){var z=this.tryEntries[te];if(z.finallyLoc===ie)return this.complete(z.completion,z.afterLoc),M(z),f}},catch:function(ie){for(var te=this.tryEntries.length-1;0<=te;--te){var z,oe,le=this.tryEntries[te];if(le.tryLoc===ie)return"throw"===(z=le.completion).type&&(oe=z.arg,M(le)),oe}throw new Error("illegal catch attempt")},delegateYield:function(ie,te,z){return this.delegate={iterator:K(ie),resultName:te,nextLoc:z},"next"===this.method&&(this.arg=d),f}},_}("object"==typeof V?V.exports:{});try{regeneratorRuntime=V}catch{Function("r","regeneratorRuntime = r")(V)}},{}],258:[function(o,V,w){!function(_){"use strict";var d,p,m,C,x,s,a,h,c,u;function l(M){if("string"!=typeof M&&(M=String(M)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(M))throw new TypeError("Invalid character in header field name");return M.toLowerCase()}function y(M){return"string"!=typeof M?String(M):M}function f(M){var q={next:function(){var K=M.shift();return{done:void 0===K,value:K}}};return p&&(q[Symbol.iterator]=function(){return q}),q}function b(M){this.map={},M instanceof b?M.forEach(function(q,K){this.append(K,q)},this):Array.isArray(M)?M.forEach(function(q){this.append(q[0],q[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(q){this.append(q,M[q])},this)}function D(M){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}function B(M){return new Promise(function(q,K){M.onload=function(){q(M.result)},M.onerror=function(){K(M.error)}})}function F(M){var q=new FileReader,K=B(q);return q.readAsArrayBuffer(M),K}function j(M){var q;return M.slice?M.slice(0):((q=new Uint8Array(M.byteLength)).set(new Uint8Array(M)),q.buffer)}function k(){return this.bodyUsed=!1,this._initBody=function(M){if(this._bodyInit=M)if("string"==typeof M)this._bodyText=M;else if(m&&Blob.prototype.isPrototypeOf(M))this._bodyBlob=M;else if(C&&FormData.prototype.isPrototypeOf(M))this._bodyFormData=M;else if(d&&URLSearchParams.prototype.isPrototypeOf(M))this._bodyText=M.toString();else if(x&&m&&a(M))this._bodyArrayBuffer=j(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!x||!ArrayBuffer.prototype.isPrototypeOf(M)&&!h(M))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=j(M)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof M?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m&&(this.blob=function(){var M=D(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?D(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(F)}),this.text=function(){var M,q,K=D(this);if(K)return K;if(this._bodyBlob)return K=this._bodyBlob,q=B(M=new FileReader),M.readAsText(K),q;if(this._bodyArrayBuffer)return Promise.resolve(function(Y){for(var ie=new Uint8Array(Y),te=new Array(ie.length),z=0;z<ie.length;z++)te[z]=String.fromCharCode(ie[z]);return te.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},C&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}function U(M,q){var K,Y=(q=q||{}).body;if(M instanceof U){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,q.headers||(this.headers=new b(M.headers)),this.method=M.method,this.mode=M.mode,Y||null==M._bodyInit||(Y=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=q.credentials||this.credentials||"omit",!q.headers&&this.headers||(this.headers=new b(q.headers)),this.method=(K=(M=q.method||this.method||"GET").toUpperCase(),-1<c.indexOf(K)?K:M),this.mode=q.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Y)}function T(M){var q=new FormData;return M.trim().split("&").forEach(function(K){var Y;K&&(Y=(K=K.split("=")).shift().replace(/\+/g," "),K=K.join("=").replace(/\+/g," "),q.append(decodeURIComponent(Y),decodeURIComponent(K)))}),q}function I(M,q){q=q||{},this.type="default",this.status=void 0===q.status?200:q.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in q?q.statusText:"OK",this.headers=new b(q.headers),this.url=q.url||"",this._initBody(M)}_.fetch||(d="URLSearchParams"in _,p="Symbol"in _&&"iterator"in Symbol,m="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),C="FormData"in _,(x="ArrayBuffer"in _)&&(s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(M){return M&&DataView.prototype.isPrototypeOf(M)},h=ArrayBuffer.isView||function(M){return M&&-1<s.indexOf(Object.prototype.toString.call(M))}),b.prototype.append=function(M,q){M=l(M),q=y(q);var K=this.map[M];this.map[M]=K?K+","+q:q},b.prototype.delete=function(M){delete this.map[l(M)]},b.prototype.get=function(M){return M=l(M),this.has(M)?this.map[M]:null},b.prototype.has=function(M){return this.map.hasOwnProperty(l(M))},b.prototype.set=function(M,q){this.map[l(M)]=y(q)},b.prototype.forEach=function(M,q){for(var K in this.map)this.map.hasOwnProperty(K)&&M.call(q,this.map[K],K,this)},b.prototype.keys=function(){var M=[];return this.forEach(function(q,K){M.push(K)}),f(M)},b.prototype.values=function(){var M=[];return this.forEach(function(q){M.push(q)}),f(M)},b.prototype.entries=function(){var M=[];return this.forEach(function(q,K){M.push([K,q])}),f(M)},p&&(b.prototype[Symbol.iterator]=b.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],U.prototype.clone=function(){return new U(this,{body:this._bodyInit})},k.call(U.prototype),k.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},I.error=function(){var M=new I(null,{status:0,statusText:""});return M.type="error",M},u=[301,302,303,307,308],I.redirect=function(M,q){if(-1===u.indexOf(q))throw new RangeError("Invalid status code");return new I(null,{status:q,headers:{location:M}})},_.Headers=b,_.Request=U,_.Response=I,_.fetch=function(M,q){return new Promise(function(K,Y){var ie=new U(M,q),te=new XMLHttpRequest;te.onload=function(){var z,oe={status:te.status,statusText:te.statusText,headers:(oe=te.getAllResponseHeaders()||"",z=new b,oe.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(W){var R=(W=W.split(":")).shift().trim();R&&(W=W.join(":").trim(),z.append(R,W))}),z)},le=(oe.url="responseURL"in te?te.responseURL:oe.headers.get("X-Request-URL"),"response"in te?te.response:te.responseText);K(new I(le,oe))},te.onerror=function(){Y(new TypeError("Network request failed"))},te.ontimeout=function(){Y(new TypeError("Network request failed"))},te.open(ie.method,ie.url,!0),"include"===ie.credentials?te.withCredentials=!0:"omit"===ie.credentials&&(te.withCredentials=!1),"responseType"in te&&m&&(te.responseType="blob"),ie.headers.forEach(function(z,oe){te.setRequestHeader(oe,z)}),te.send(void 0===ie._bodyInit?null:ie._bodyInit)})},_.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],259:[function(o,V,w){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _,d=m(o("../core/main")),p=m(o("../color/color_conversion"));function m(s){return s&&s.__esModule?s:{default:s}}var C=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],x=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];d.default.prototype._rgbColorName=function(c){c=p.default._rgbaToHSBA(c);var a,h,u=[(_=c)[0],c[1],c[2]];0!==u[0]&&(u[0]=Math.round(100*u[0]),(c=u[0].toString().split(""))[h=c.length-1]=parseInt(c[h]),c[h]<2.5?c[h]=0:2.5<=c[h]&&c[h]<7.5&&(c[h]=5),2===c.length?(c[0]=parseInt(c[0]),7.5<=c[h]&&(c[h]=0,c[0]=c[0]+1),u[0]=10*c[0]+c[1]):u[0]=7.5<=c[h]?10:c[h]),u[2]=u[2]/255;for(var l=u.length-1;1<=l;l--)u[l]=u[l]<=.25?0:.25<u[l]&&u[l]<.75?.5:1;if(0===u[0]&&0===u[1]&&1===u[2]){for(var y=2;0<=y;y--)_[y]=Math.round(1e4*_[y])/1e4;for(var f=0;f<C.length;f++){if(C[f].h===_[0]&&C[f].s===_[1]&&C[f].b===_[2]){a=C[f].name;break}a="white"}}else for(var b=0;b<x.length;b++)if(x[b].h===u[0]&&x[b].s===u[1]&&x[b].b===u[2]){a=x[b].name;break}return a},w.default=o=d.default},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(o,V,w){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o},d="_Description",p="_fallbackDesc",m="_fallbackTable",C="_Label",x="_labelDesc",s="_labelTable";function a(h){if("label"===h||"fallback"===h)throw new Error("description should not be LABEL or FALLBACK");return h.endsWith(".")||h.endsWith(";")||h.endsWith(",")||h.endsWith("?")||h.endsWith("!")||(h+="."),h}_.default.prototype.describe=function(h,c){var u;_.default._validateParameters("describe",arguments),"string"==typeof h&&(u=this.canvas.id,h=a(h),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==h&&(this.descriptions.fallback.innerHTML=h):this._describeHTML("fallback",h),c===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==h&&(this.descriptions.label.innerHTML=h):this._describeHTML("label",h)))},_.default.prototype.describeElement=function(h,c,u){var l,y;_.default._validateParameters("describeElement",arguments),"string"==typeof c&&"string"==typeof h&&(l=this.canvas.id,c=a(c),y=function(f){if("label"===f||"fallback"===f)throw new Error("element name should not be LABEL or FALLBACK");return f.endsWith(".")||f.endsWith(";")||f.endsWith(",")?f=f.replace(/.$/,":"):f.endsWith(":")||(f+=":"),f}(h),h=h.replace(/[^a-zA-Z0-9]/g,""),y='<th scope="row">'.concat(y,"</th><td>").concat(c,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[h]?this.descriptions.fallbackElements[h].innerHTML!==y&&(this.descriptions.fallbackElements[h].innerHTML=y):this._describeElementHTML("fallback",h,y),u===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[h]?this.descriptions.labelElements[h].innerHTML!==y&&(this.descriptions.labelElements[h].innerHTML=y):this._describeElementHTML("label",h,y)))},_.default.prototype._describeHTML=function(h,c){var u,l=this.canvas.id;"fallback"===h?(this.dummyDOM.querySelector("#".concat(l+d))?this.dummyDOM.querySelector("#"+l+m).insertAdjacentHTML("beforebegin",'<p id="'.concat(l+p,'"></p>')):(u='<div id="'.concat(l).concat(d,'" role="region" aria-label="Canvas Description"><p id="').concat(l).concat(p,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutput")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#".concat(l)).innerHTML=u),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(l).concat(p)),this.descriptions.fallback.innerHTML=c):"label"===h&&(this.dummyDOM.querySelector("#".concat(l+C))?this.dummyDOM.querySelector("#".concat(l+s))&&this.dummyDOM.querySelector("#".concat(l+s)).insertAdjacentHTML("beforebegin",'<p id="'.concat(l).concat(x,'"></p>')):(u='<div id="'.concat(l).concat(C,'" class="p5Label"><p id="').concat(l).concat(x,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+l).insertAdjacentHTML("afterend",u)),this.descriptions.label=this.dummyDOM.querySelector("#"+l+x),this.descriptions.label.innerHTML=c)},_.default.prototype._describeElementHTML=function(h,c,u){var l,y=this.canvas.id;"fallback"===h?(this.dummyDOM.querySelector("#".concat(y+d))?this.dummyDOM.querySelector("#"+y+m)||this.dummyDOM.querySelector("#"+y+p).insertAdjacentHTML("afterend",'<table id="'.concat(y).concat(m,'"><caption>Canvas elements and their descriptions</caption></table>')):(l='<div id="'.concat(y).concat(d,'" role="region" aria-label="Canvas Description"><table id="').concat(y).concat(m,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutput")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+y).innerHTML=l),(l=document.createElement("tr")).id=y+"_fte_"+c,this.dummyDOM.querySelector("#"+y+m).appendChild(l),this.descriptions.fallbackElements[c]=this.dummyDOM.querySelector("#".concat(y).concat("_fte_").concat(c)),this.descriptions.fallbackElements[c].innerHTML=u):"label"===h&&(this.dummyDOM.querySelector("#".concat(y+C))?this.dummyDOM.querySelector("#".concat(y+s))||this.dummyDOM.querySelector("#"+y+x).insertAdjacentHTML("afterend",'<table id="'.concat(y+s,'"></table>')):(l='<div id="'.concat(y).concat(C,'" class="p5Label"><table id="').concat(y).concat(s,'"></table></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+y).insertAdjacentHTML("afterend",l)),(h=document.createElement("tr")).id=y+"_lte_"+c,this.dummyDOM.querySelector("#"+y+s).appendChild(h),this.descriptions.labelElements[c]=this.dummyDOM.querySelector("#".concat(y).concat("_lte_").concat(c)),this.descriptions.labelElements[c].innerHTML=u)},w.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(o,V,w){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(_){var d,p,m,C,x,s,a,h;this.dummyDOM.querySelector("#".concat(_,"_summary"))&&(d=this._accessibleOutputs[_],x=(p=function(x,s){var a,h="",c="",u=0;for(a in s){var l,y=0;for(l in s[a]){var f='<li id="'.concat(x,"shape").concat(u,'">').concat(s[a][l].color," ").concat(a,",");"line"===a?f+=" location = ".concat(s[a][l].pos,", length = ").concat(s[a][l].length," pixels"):(f+=" location = ".concat(s[a][l].pos),"point"!==a&&(f+=", area = ".concat(s[a][l].area," %")),f+="</li>"),h+=f,y++,u++}c=1<y?"".concat(c," ").concat(y," ").concat(a,"s"):"".concat(c," ").concat(y," ").concat(a)}return{numShapes:[u,c],details:h}}(_,this.ingredients.shapes)).numShapes,a=this.width,h=this.height,s="".concat(s=this.ingredients.colors.background," canvas, ").concat(a," by ").concat(h," pixels, contains ").concat(x[0]),m=s="".concat(s,1===x[0]?" shape: ":" shapes: ").concat(x[1]),C=function(x,s){var a,h,c=0,u="",l=Array.from(Array(10),function(){return Array(10)});for(a in s)for(var y in s[a]){var f;f="line"!==a?'<a href="#'.concat(x,"shape").concat(c,'">').concat(s[a][y].color," ").concat(a,"</a>"):'<a href="#'.concat(x,"shape").concat(c,'">').concat(s[a][y].color," ").concat(a," midpoint</a>"),l[s[a][y].loc.locY][s[a][y].loc.locX]=l[s[a][y].loc.locY][s[a][y].loc.locX]?l[s[a][y].loc.locY][s[a][y].loc.locX]+"  "+f:f,c++}for(h in l){var b,D="<tr>";for(b in l[h])D+="<td>",void 0!==l[h][b]&&(D+=l[h][b]),D+="</td>";u=u+D+"</tr>"}return u}(_,this.ingredients.shapes),m!==d.summary.innerHTML&&(d.summary.innerHTML=m),C!==d.map.innerHTML&&(d.map.innerHTML=C),p.details!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=p.details),this._accessibleOutputs[_]=d)},w.default=o=o.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function p(m,C,x){return 10===(C=Math.floor(m[0]/C*10))&&(C-=1),10===(m=Math.floor(m[1]/x*10))&&(m-=1),{locX:C,locY:m}}_.default.prototype.textOutput=function(m){_.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},_.default.prototype.gridOutput=function(m){_.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},_.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},_.default.prototype._createOutput=function(m,C){var x,s,a,h=this.canvas.id,c=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),"");"Fallback"===C?(x=h+m,this.dummyDOM.querySelector("#".concat(s=h+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(h,"_Description"))?this.dummyDOM.querySelector("#".concat(h,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(h)).innerHTML='<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===C&&(x=h+m+(c=C),this.dummyDOM.querySelector("#".concat(s=h+"accessibleOutput"+C))||(this.dummyDOM.querySelector("#".concat(h,"_Label"))?this.dummyDOM.querySelector("#".concat(h,"_Label")):this.dummyDOM.querySelector("#".concat(h))).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>'))),this._accessibleOutputs[x]={},"textOutput"===m?(c="#".concat(h,"gridOutput").concat(c),a='<div id="'.concat(x,'">Text Output<div id="').concat(x,'Summary" aria-label="text output summary"><p id="').concat(x,'_summary"></p><ul id="').concat(x,'_list"></ul></div><table id="').concat(x,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("beforebegin",a):this.dummyDOM.querySelector("#".concat(s)).innerHTML=a,this._accessibleOutputs[x].list=this.dummyDOM.querySelector("#".concat(x,"_list"))):"gridOutput"===m&&(c="#".concat(h,"textOutput").concat(c),a='<div id="'.concat(x,'">Grid Output<p id="').concat(x,'_summary" aria-label="grid output summary"><table id="').concat(x,'_map" summary="grid output content"></table><ul id="').concat(x,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("afterend",a):this.dummyDOM.querySelector("#".concat(s)).innerHTML=a,this._accessibleOutputs[x].map=this.dummyDOM.querySelector("#".concat(x,"_map"))),this._accessibleOutputs[x].shapeDetails=this.dummyDOM.querySelector("#".concat(x,"_shapeDetails")),this._accessibleOutputs[x].summary=this.dummyDOM.querySelector("#".concat(x,"_summary"))},_.default.prototype._updateAccsOutput=function(){var m=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(m+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(m+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(m+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(m+"gridOutputLabel"))},_.default.prototype._accsBackground=function(m){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==m&&(this.ingredients.colors.backgroundRGBA=m,this.ingredients.colors.background=this._rgbColorName(m))},_.default.prototype._accsCanvasColors=function(m,C){"fill"===m?this.ingredients.colors.fillRGBA!==C&&(this.ingredients.colors.fillRGBA=C,this.ingredients.colors.fill=this._rgbColorName(C)):"stroke"===m&&this.ingredients.colors.strokeRGBA!==C&&(this.ingredients.colors.strokeRGBA=C,this.ingredients.colors.stroke=this._rgbColorName(C))},_.default.prototype._accsOutput=function(m,C){"ellipse"===m&&C[2]===C[3]?m="circle":"rectangle"===m&&C[2]===C[3]&&(m="square");var x,s,l,y,f,a={},h=!0,c=(y=C,l="rectangle"===(l=m)||"ellipse"===l||"arc"===l||"circle"===l||"square"===l?(f=Math.round(y[0]+y[2]/2),Math.round(y[1]+y[3]/2)):"triangle"===l?(f=(y[0]+y[2]+y[4])/3,(y[1]+y[3]+y[5])/3):"quadrilateral"===l?(f=(y[0]+y[2]+y[4]+y[6])/4,(y[1]+y[3]+y[5]+y[7])/4):"line"===l?(f=(y[0]+y[2])/2,(y[1]+y[3])/2):(f=y[0],y[1]),[f,l]);if("line"===m?(a.color=this.ingredients.colors.stroke,a.length=Math.round(this.dist(C[0],C[1],C[2],C[3])),x=this._getPos(C[0],[1]),s=this._getPos(C[2],[3]),a.loc=p(c,this.width,this.height),a.pos=x===s?"at ".concat(x):"from ".concat(x," to ").concat(s)):("point"===m?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(m,C)),a.pos=this._getPos.apply(this,function d(m){return function(C){if(Array.isArray(C)){for(var x=0,s=new Array(C.length);x<C.length;x++)s[x]=C[x];return s}}(m)||function(C){if(Symbol.iterator in Object(C)||"[object Arguments]"===Object.prototype.toString.call(C))return Array.from(C)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(c)),a.loc=p(c,this.width,this.height)),this.ingredients.shapes[m]){if(this.ingredients.shapes[m]!==[a]){for(var u in this.ingredients.shapes[m])JSON.stringify(this.ingredients.shapes[m][u])===JSON.stringify(a)&&(h=!1);!0===h&&this.ingredients.shapes[m].push(a)}}else this.ingredients.shapes[m]=[a]},_.default.prototype._getPos=function(s,x){s=new DOMPointReadOnly(s,x),x=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),x=(s=s.matrixTransform(x)).x,s=s.y;var a=this.width*this._pixelDensity,h=this.height*this._pixelDensity;return x<.4*a?s<.4*h?"top left":.6*h<s?"bottom left":"mid left":.6*a<x?s<.4*h?"top right":.6*h<s?"bottom right":"mid right":s<.4*h?"top middle":.6*h<s?"bottom middle":"middle"},_.default.prototype._getArea=function(m,C){var x,s,a=0,h=("arc"===m?(a=(x=((C[5]-C[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*C[2]*C[3]/8,"open"!==C[6]&&"chord"!==C[6]||(s=C[0],y=C[1],h=C[0]+C[2]/2*Math.cos(C[4]).toFixed(2),f=C[1]+C[3]/2*Math.sin(C[4]).toFixed(2),u=C[0]+C[2]/2*Math.cos(C[5]).toFixed(2),c=C[1]+C[3]/2*Math.sin(C[5]).toFixed(2),s=Math.abs(s*(f-c)+h*(c-y)+u*(y-f))/2,x>Math.PI?a+=s:a-=s)):"ellipse"===m||"circle"===m?a=3.14*C[2]/2*C[3]/2:"line"===m||"point"===m?a=0:"quadrilateral"===m?a=Math.abs((C[6]+C[0])*(C[7]-C[1])+(C[0]+C[2])*(C[1]-C[3])+(C[2]+C[4])*(C[3]-C[5])+(C[4]+C[6])*(C[5]-C[7]))/2:"rectangle"===m||"square"===m?a=C[2]*C[3]:"triangle"===m&&(a=Math.abs(C[0]*(C[3]-C[5])+C[2]*(C[5]-C[1])+C[4]*(C[1]-C[3]))/2),this.width*this._pixelDensity),c=this.height*this._pixelDensity,u=[new DOMPoint(0,0),new DOMPoint(h,0),new DOMPoint(h,c),new DOMPoint(0,c)],l=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),y=u.map(function(b){return b.matrixTransform(l)}),f=Math.abs((y[3].x+y[0].x)*(y[3].y-y[0].y)+(y[0].x+y[1].x)*(y[0].y-y[1].y)+(y[1].x+y[2].x)*(y[1].y-y[2].y)+(y[2].x+y[3].x)*(y[2].y-y[3].y))/2;return Math.round(100*a/f)},w.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(o,V,w){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(_){var d,p,m,C,x,s,a,h;this.dummyDOM.querySelector("#".concat(_,"_summary"))&&(d=this._accessibleOutputs[_],x=(p=function(x,s){var a,h="",c=0;for(a in s)for(var u in s[a]){var l='<li><a href="#'.concat(x,"shape").concat(c,'">').concat(s[a][u].color," ").concat(a,"</a>");"line"===a?l+=", ".concat(s[a][u].pos,", ").concat(s[a][u].length," pixels long.</li>"):(l+=", at ".concat(s[a][u].pos),"point"!==a&&(l+=", covering ".concat(s[a][u].area,"% of the canvas")),l+=".</li>"),h+=l,c++}return{numShapes:c,listShapes:h}}(_,this.ingredients.shapes)).numShapes,s=this.ingredients.colors.background,h=this.height,a="Your output is a, ".concat(a=this.width," by ").concat(h," pixels, ").concat(s," canvas containing the following"),m=a=1===x?"".concat(a," shape:"):"".concat(a," ").concat(x," shapes:"),C=function(x,s){var a,h="",c=0;for(a in s)for(var u in s[a]){var l='<tr id="'.concat(x,"shape").concat(c,'"><th>').concat(s[a][u].color," ").concat(a,"</th>");"line"===a?l+="<td>location = ".concat(s[a][u].pos,"</td><td>length = ").concat(s[a][u].length," pixels</td></tr>"):(l+="<td>location = ".concat(s[a][u].pos,"</td>"),"point"!==a&&(l+="<td> area = ".concat(s[a][u].area,"%</td>")),l+="</tr>"),h+=l,c++}return h}(_,this.ingredients.shapes),m!==d.summary.innerHTML&&(d.summary.innerHTML=m),p.listShapes!==d.list.innerHTML&&(d.list.innerHTML=p.listShapes),C!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=C),this._accessibleOutputs[_]=d)},w.default=o=o.default},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(o,V,w){"use strict";var _=(_=o("./core/main"))&&_.__esModule?_:{default:_};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),V.exports=_.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(o,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(_){var p=_[1],m=_[2],C=(2-p)*m/2;return 0!=C&&(1==C?p=0:C<.5?p/=2-p:p=p*m/(2-2*C)),[_[0],p,C,_[3]]},_hsbaToRGBA:function(_){var d,p,m,C,x,s=6*_[0],a=_[1],h=_[2];return 0===a?[h,h,h,_[3]]:(p=h*(1-a),m=h*(1-a*(s-(d=Math.floor(s)))),a=h*(1-a*(1+d-s)),s=1===d?(C=m,x=h,p):2===d?(C=p,x=h,a):3===d?(C=p,x=m,h):4===d?(C=a,x=p,h):5===d?(C=h,x=p,m):(C=h,x=a,p),[C,x,s,_[3]])},_hslaToHSBA:function(_){var p=_[1],m=_[2],C=m<.5?(1+p)*m:m+p-m*p;return[_[0],p=2*(C-m)/C,C,_[3]]},_hslaToRGBA:function(_){var d,p=6*_[0],m=_[1],C=_[2];return 0===m?[C,C,C,_[3]]:[(d=function(x,s,a){return x<0?x+=6:6<=x&&(x-=6),x<1?s+(a-s)*x:x<3?a:x<4?s+(a-s)*(4-x):s})(2+p,m=2*C-(C=C<.5?(1+m)*C:C+m-C*m),C),d(p,m,C),d(p-2,m,C),_[3]]},_rgbaToHSBA:function(_){var d,p,m=_[0],C=_[1],x=_[2],s=Math.max(m,C,x),a=s-Math.min(m,C,x);return 0==a?p=d=0:(p=a/s,m===s?d=(C-x)/a:C===s?d=2+(x-m)/a:x===s&&(d=4+(m-C)/a),d<0?d+=6:6<=d&&(d-=6)),[d/6,p,s,_[3]]},_rgbaToHSLA:function(_){var d,p,h,m=_[0],C=_[1],x=_[2],s=Math.max(m,C,x),a=s+(h=Math.min(m,C,x));return 0==(h=s-h)?p=d=0:(p=a<1?h/a:h/(2-a),m===s?d=(C-x)/h:C===s?d=2+(x-m)/h:x===s&&(d=4+(m-C)/h),d<0?d+=6:6<=d&&(d-=6)),[d/6,p,a/2,_[3]]}},w.default=o=o.default.ColorConversion},{"../core/main":280}],266:[function(o,V,w){"use strict";function _(s){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function d(s){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(a){return _(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_(a)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(x=o("../core/main"))&&x.__esModule?x:{default:x},m=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==d(s)&&"function"!=typeof s)return{default:s};var a=C();if(a&&a.has(s))return a.get(s);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in s){var l;Object.prototype.hasOwnProperty.call(s,h)&&((l=u?Object.getOwnPropertyDescriptor(s,h):null)&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=s[h])}return c.default=s,a&&a.set(s,c),c}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),p.default.prototype.alpha=function(s){return p.default._validateParameters("alpha",arguments),this.color(s)._getAlpha()},p.default.prototype.blue=function(s){return p.default._validateParameters("blue",arguments),this.color(s)._getBlue()},p.default.prototype.brightness=function(s){return p.default._validateParameters("brightness",arguments),this.color(s)._getBrightness()},p.default.prototype.color=function(){for(var s,a=arguments.length,h=new Array(a),c=0;c<a;c++)h[c]=arguments[c];return p.default._validateParameters("color",h),h[0]instanceof p.default.Color?h[0]:(s=Array.isArray(h[0])?h[0]:h,new p.default.Color(this,s))},p.default.prototype.green=function(s){return p.default._validateParameters("green",arguments),this.color(s)._getGreen()},p.default.prototype.hue=function(s){return p.default._validateParameters("hue",arguments),this.color(s)._getHue()},p.default.prototype.lerpColor=function(s,a,h){p.default._validateParameters("lerpColor",arguments);var c,u,l,y=this._colorMode,f=this._colorMaxes;if(y===m.RGB)u=s.levels.map(function(b){return b/255}),l=a.levels.map(function(b){return b/255});else if(y===m.HSB)s._getBrightness(),a._getBrightness(),u=s.hsba,l=a.hsba;else{if(y!==m.HSL)throw new Error("".concat(y," cannot be used for interpolation."));s._getLightness(),a._getLightness(),u=s.hsla,l=a.hsla}return h=Math.max(Math.min(h,1),0),void 0===this.lerp&&(this.lerp=function(b,D,B){return B*(D-b)+b}),y===m.RGB?c=this.lerp(u[0],l[0],h):(.5<Math.abs(u[0]-l[0])&&(u[0]>l[0]?l[0]+=1:u[0]+=1),1<=(c=this.lerp(u[0],l[0],h))&&--c),s=this.lerp(u[1],l[1],h),a=this.lerp(u[2],l[2],h),u=this.lerp(u[3],l[3],h),this.color(c*=f[y][0],s*=f[y][1],a*=f[y][2],u*=f[y][3])},p.default.prototype.lightness=function(s){return p.default._validateParameters("lightness",arguments),this.color(s)._getLightness()},p.default.prototype.red=function(s){return p.default._validateParameters("red",arguments),this.color(s)._getRed()},p.default.prototype.saturation=function(s){return p.default._validateParameters("saturation",arguments),this.color(s)._getSaturation()};var x=p.default;w.default=x},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(c,V,w){"use strict";function _(b){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(b)}function d(b){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(D){return _(D)}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":_(D)})(b)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.trim"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.trim"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=s(c("../core/main")),m=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==d(b)&&"function"!=typeof b)return{default:b};var D=x();if(D&&D.has(b))return D.get(b);var B,F={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(B in b){var k;Object.prototype.hasOwnProperty.call(b,B)&&((k=j?Object.getOwnPropertyDescriptor(b,B):null)&&(k.get||k.set)?Object.defineProperty(F,B,k):F[B]=b[B])}return F.default=b,D&&D.set(b,F),F}(c("../core/constants")),C=s(c("./color_conversion"));function x(){var b;return"function"!=typeof WeakMap?null:(x=function(){return b},b=new WeakMap)}function s(b){return b&&b.__esModule?b:{default:b}}function a(b,D){for(var B=0;B<D.length;B++){var F=D[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(b,F.key,F)}}var h={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=(c=/\s*/,/(\d{1,3})/),u=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,l=new RegExp("".concat(u.source,"%")),y={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",f.source,",",f.source,",",f.source,"\\)$"].join(c.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(c.source),"i"),RGBA:new RegExp(["^rgba\\(",f.source,",",f.source,",",f.source,",",u.source,"\\)$"].join(c.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",u.source,"\\)$"].join(c.source),"i"),HSL:new RegExp(["^hsl\\(",f.source,",",l.source,",",l.source,"\\)$"].join(c.source),"i"),HSLA:new RegExp(["^hsla\\(",f.source,",",l.source,",",l.source,",",u.source,"\\)$"].join(c.source),"i"),HSB:new RegExp(["^hsb\\(",f.source,",",l.source,",",l.source,"\\)$"].join(c.source),"i"),HSBA:new RegExp(["^hsba\\(",f.source,",",l.source,",",l.source,",",u.source,"\\)$"].join(c.source),"i")};p.default.Color=function(){function b(j,k){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(j._colorMode,j._colorMaxes),![m.RGB,m.HSL,m.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=b._parseInputs.apply(this,k),this._calculateLevels()}var D,B,F;return D=b,F=[{key:"_parseInputs",value:function(j,k,U,T){var I,M=arguments.length,q=this.mode,K=this.maxes[q],Y=[];if(3<=M){for(Y[0]=j/K[0],Y[1]=k/K[1],Y[2]=U/K[2],Y[3]="number"==typeof T?T/K[3]:1,I=Y.length-1;0<=I;--I){var ie=Y[I];ie<0?Y[I]=0:1<ie&&(Y[I]=1)}return q===m.HSL?C.default._hslaToRGBA(Y):q===m.HSB?C.default._hsbaToRGBA(Y):Y}if(1===M&&"string"==typeof j){if(U=j.trim().toLowerCase(),h[U])return b._parseInputs.call(this,h[U]);if(y.HEX3.test(U))return(Y=y.HEX3.exec(U).slice(1).map(function(te){return parseInt(te+te,16)/255}))[3]=1,Y;if(y.HEX6.test(U))return(Y=y.HEX6.exec(U).slice(1).map(function(te){return parseInt(te,16)/255}))[3]=1,Y;if(y.HEX4.test(U))return y.HEX4.exec(U).slice(1).map(function(te){return parseInt(te+te,16)/255});if(y.HEX8.test(U))return y.HEX8.exec(U).slice(1).map(function(te){return parseInt(te,16)/255});if(y.RGB.test(U))return(Y=y.RGB.exec(U).slice(1).map(function(te){return te/255}))[3]=1,Y;if(y.RGB_PERCENT.test(U))return(Y=y.RGB_PERCENT.exec(U).slice(1).map(function(te){return parseFloat(te)/100}))[3]=1,Y;if(y.RGBA.test(U))return y.RGBA.exec(U).slice(1).map(function(te,z){return 3===z?parseFloat(te):te/255});if(y.RGBA_PERCENT.test(U))return y.RGBA_PERCENT.exec(U).slice(1).map(function(te,z){return 3===z?parseFloat(te):parseFloat(te)/100});if(y.HSL.test(U)?(Y=y.HSL.exec(U).slice(1).map(function(te,z){return 0===z?parseInt(te,10)/360:parseInt(te,10)/100}))[3]=1:y.HSLA.test(U)&&(Y=y.HSLA.exec(U).slice(1).map(function(te,z){return 0===z?parseInt(te,10)/360:3===z?parseFloat(te):parseInt(te,10)/100})),(Y=Y.map(function(te){return Math.max(Math.min(te,1),0)})).length)return C.default._hslaToRGBA(Y);if(y.HSB.test(U)?(Y=y.HSB.exec(U).slice(1).map(function(te,z){return 0===z?parseInt(te,10)/360:parseInt(te,10)/100}))[3]=1:y.HSBA.test(U)&&(Y=y.HSBA.exec(U).slice(1).map(function(te,z){return 0===z?parseInt(te,10)/360:3===z?parseFloat(te):parseInt(te,10)/100})),Y.length){for(I=Y.length-1;0<=I;--I)Y[I]=Math.max(Math.min(Y[I],1),0);return C.default._hsbaToRGBA(Y)}Y=[1,1,1,1]}else{if(1!==M&&2!==M||"number"!=typeof j)throw new Error("".concat(arguments,"is not a valid color representation."));Y[0]=j/K[2],Y[1]=j/K[2],Y[2]=j/K[2],Y[3]="number"==typeof k?k/K[3]:1,Y=Y.map(function(te){return Math.max(Math.min(te,1),0)})}return Y}}],(B=[{key:"toString",value:function(j){var k=this.levels,U=this._array,T=U[3];switch(j){case"#rrggbb":return"#".concat(k[0]<16?"0".concat(k[0].toString(16)):k[0].toString(16),k[1]<16?"0".concat(k[1].toString(16)):k[1].toString(16),k[2]<16?"0".concat(k[2].toString(16)):k[2].toString(16));case"#rrggbbaa":return"#".concat(k[0]<16?"0".concat(k[0].toString(16)):k[0].toString(16),k[1]<16?"0".concat(k[1].toString(16)):k[1].toString(16),k[2]<16?"0".concat(k[2].toString(16)):k[2].toString(16),k[3]<16?"0".concat(k[3].toString(16)):k[3].toString(16));case"#rgb":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16),Math.round(15*U[3]).toString(16));case"rgb":return"rgb(".concat(k[0],", ",k[1],", ",k[2],")");case"rgb%":return"rgb(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%, ",(100*U[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[m.HSB][0],", ",this.hsba[1]*this.maxes[m.HSB][1],", ",this.hsba[2]*this.maxes[m.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[m.HSB][0],", ",this.hsba[1]*this.maxes[m.HSB][1],", ",this.hsba[2]*this.maxes[m.HSB][2],", ",T,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*T).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[m.HSL][0],", ",this.hsla[1]*this.maxes[m.HSL][1],", ",this.hsla[2]*this.maxes[m.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[m.HSL][0],", ",this.hsla[1]*this.maxes[m.HSL][1],", ",this.hsla[2]*this.maxes[m.HSL][2],", ",T,")");case"hsla%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*T).toPrecision(3),"%)");default:return"rgba(".concat(k[0],",",k[1],",",k[2],",",T,")")}}},{key:"setRed",value:function(j){this._array[0]=j/this.maxes[m.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(j){this._array[1]=j/this.maxes[m.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(j){this._array[2]=j/this.maxes[m.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(j){this._array[3]=j/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var j=this._array,k=this.levels=new Array(j.length),U=j.length-1;0<=U;--U)k[U]=Math.round(255*j[U]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(j,k){this.mode=j,this.maxes=k}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[m.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[m.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[m.RGB][1]}},{key:"_getHue",value:function(){return this.mode===m.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[m.HSB][0]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[m.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[m.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[m.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===m.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[m.HSB][1]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[m.HSL][1])}}])&&a(D.prototype,B),F&&a(D,F),b}(),w.default=f=p.default.Color},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(o,V,w){"use strict";function _(s){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function d(s){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(a){return _(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_(a)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(x=o("../core/main"))&&x.__esModule?x:{default:x},m=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==d(s)&&"function"!=typeof s)return{default:s};var a=C();if(a&&a.has(s))return a.get(s);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in s){var l;Object.prototype.hasOwnProperty.call(s,h)&&((l=u?Object.getOwnPropertyDescriptor(s,h):null)&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=s[h])}return c.default=s,a&&a.set(s,c),c}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Color"),p.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},p.default.prototype.endClip=function(){this._renderer.endClip()},p.default.prototype.clip=function(s,a){this._renderer.beginClip(a),s(),this._renderer.endClip(a)},p.default.prototype.background=function(){var s;return(s=this._renderer).background.apply(s,arguments),this},p.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},p.default.prototype.colorMode=function(s,a,h,c,u){return p.default._validateParameters("colorMode",arguments),s!==m.RGB&&s!==m.HSB&&s!==m.HSL||(this._colorMode=s,s=this._colorMaxes[s],2===arguments.length?(s[0]=a,s[1]=a,s[2]=a,s[3]=a):4===arguments.length?(s[0]=a,s[1]=h,s[2]=c):5===arguments.length&&(s[0]=a,s[1]=h,s[2]=c,s[3]=u)),this},p.default.prototype.fill=function(){var s;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(s=this._renderer).fill.apply(s,arguments),this},p.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},p.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},p.default.prototype.stroke=function(){var s;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(s=this._renderer).stroke.apply(s,arguments),this},p.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},p.default.prototype.noErase=function(){return this._renderer.noErase(),this};var x=p.default;w.default=x},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(o,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.QUADRATIC=w.LINEAR=w._CTX_MIDDLE=w._DEFAULT_LEADMULT=w._DEFAULT_TEXT_FILL=w.WORD=w.CHAR=w.BOLDITALIC=w.BOLD=w.ITALIC=w.NORMAL=w.BLUR=w.ERODE=w.DILATE=w.POSTERIZE=w.INVERT=w.OPAQUE=w.GRAY=w.THRESHOLD=w.BURN=w.DODGE=w.SOFT_LIGHT=w.HARD_LIGHT=w.OVERLAY=w.REPLACE=w.SCREEN=w.MULTIPLY=w.EXCLUSION=w.SUBTRACT=w.DIFFERENCE=w.LIGHTEST=w.DARKEST=w.ADD=w.REMOVE=w.BLEND=w.UP_ARROW=w.TAB=w.SHIFT=w.RIGHT_ARROW=w.RETURN=w.OPTION=w.LEFT_ARROW=w.ESCAPE=w.ENTER=w.DOWN_ARROW=w.DELETE=w.CONTROL=w.BACKSPACE=w.ALT=w.AUTO=w.HSL=w.HSB=w.RGB=w.MITER=w.BEVEL=w.ROUND=w.SQUARE=w.PROJECT=w.PIE=w.CHORD=w.OPEN=w.CLOSE=w.TESS=w.QUAD_STRIP=w.QUADS=w.TRIANGLE_STRIP=w.TRIANGLE_FAN=w.TRIANGLES=w.LINE_LOOP=w.LINE_STRIP=w.LINES=w.POINTS=w.BASELINE=w.BOTTOM=w.TOP=w.CENTER=w.LEFT=w.RIGHT=w.RADIUS=w.CORNERS=w.CORNER=w.RAD_TO_DEG=w.DEG_TO_RAD=w.RADIANS=w.DEGREES=w.TWO_PI=w.TAU=w.QUARTER_PI=w.PI=w.HALF_PI=w.WAIT=w.TEXT=w.MOVE=w.HAND=w.CROSS=w.ARROW=w.WEBGL2=w.WEBGL=w.P2D=w.VERSION=void 0,w.RGBA=w.HALF_FLOAT=w.FLOAT=w.UNSIGNED_INT=w.UNSIGNED_BYTE=w.COVER=w.CONTAIN=w.FALLBACK=w.LABEL=w.AXES=w.GRID=w._DEFAULT_FILL=w._DEFAULT_STROKE=w.PORTRAIT=w.LANDSCAPE=w.SMOOTH=w.FLAT=w.MIRROR=w.CLAMP=w.REPEAT=w.NEAREST=w.IMAGE=w.IMMEDIATE=w.TEXTURE=w.FILL=w.STROKE=w.CURVE=w.BEZIER=void 0;var _=Math.PI,d=(w.VERSION="1.9.2",w.P2D="p2d",w.WEBGL="webgl",w.WEBGL2="webgl2",w.ARROW="default",w.CROSS="crosshair",w.HAND="pointer",w.MOVE="move",w.TEXT="text",w.WAIT="wait",_/2);w.HALF_PI=d,w.PI=d=_,w.QUARTER_PI=d=_/4,w.TAU=d=2*_,w.TWO_PI=d=2*_,w.DEGREES="degrees",w.RADIANS="radians",w.DEG_TO_RAD=d=_/180,w.RAD_TO_DEG=d=180/_,w.CORNER="corner",w.CORNERS="corners",w.RADIUS="radius",w.RIGHT="right",w.LEFT="left",w.CENTER="center",w.TOP="top",w.BOTTOM="bottom",w.BASELINE="alphabetic",w.POINTS=0,w.LINES=1,w.LINE_STRIP=3,w.LINE_LOOP=2,w.TRIANGLES=4,w.TRIANGLE_FAN=6,w.TRIANGLE_STRIP=5,w.QUADS="quads",w.QUAD_STRIP="quad_strip",w.TESS="tess",w.CLOSE="close",w.OPEN="open",w.CHORD="chord",w.PIE="pie",w.PROJECT="square",w.SQUARE="butt",w.ROUND="round",w.BEVEL="bevel",w.MITER="miter",w.RGB="rgb",w.HSB="hsb",w.HSL="hsl",w.AUTO="auto",w.ALT=18,w.BACKSPACE=8,w.CONTROL=17,w.DELETE=46,w.DOWN_ARROW=40,w.ENTER=13,w.ESCAPE=27,w.LEFT_ARROW=37,w.OPTION=18,w.RETURN=13,w.RIGHT_ARROW=39,w.SHIFT=16,w.TAB=9,w.UP_ARROW=38,w.BLEND="source-over",w.REMOVE="destination-out",w.ADD="lighter",w.DARKEST="darken",w.LIGHTEST="lighten",w.DIFFERENCE="difference",w.SUBTRACT="subtract",w.EXCLUSION="exclusion",w.MULTIPLY="multiply",w.SCREEN="screen",w.REPLACE="copy",w.OVERLAY="overlay",w.HARD_LIGHT="hard-light",w.SOFT_LIGHT="soft-light",w.DODGE="color-dodge",w.BURN="color-burn",w.THRESHOLD="threshold",w.GRAY="gray",w.OPAQUE="opaque",w.INVERT="invert",w.POSTERIZE="posterize",w.DILATE="dilate",w.ERODE="erode",w.BLUR="blur",w.NORMAL="normal",w.ITALIC="italic",w.BOLD="bold",w.BOLDITALIC="bold italic",w.CHAR="CHAR",w.WORD="WORD",w._DEFAULT_TEXT_FILL="#000000",w._DEFAULT_LEADMULT=1.25,w._CTX_MIDDLE="middle",w.LINEAR="linear",w.QUADRATIC="quadratic",w.BEZIER="bezier",w.CURVE="curve",w.STROKE="stroke",w.FILL="fill",w.TEXTURE="texture",w.IMMEDIATE="immediate",w.IMAGE="image",w.NEAREST="nearest",w.REPEAT="repeat",w.CLAMP="clamp",w.MIRROR="mirror",w.FLAT="flat",w.SMOOTH="smooth",w.LANDSCAPE="landscape",w.PORTRAIT="portrait",w._DEFAULT_STROKE="#000000",w._DEFAULT_FILL="#FFFFFF",w.GRID="grid",w.AXES="axes",w.LABEL="label",w.FALLBACK="fallback",w.CONTAIN="contain",w.COVER="cover",w.UNSIGNED_BYTE="unsigned-byte",w.UNSIGNED_INT="unsigned-int",w.FLOAT="float",w.HALF_FLOAT="half-float",w.RGBA="rgba"},{}],270:[function(o,V,w){"use strict";function _(u){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function d(u){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(l){return _(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":_(l)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(m=o("./main"))&&m.__esModule?m:{default:m},m=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==d(u)&&"function"!=typeof u)return{default:u};var l=C();if(l&&l.has(u))return l.get(u);var y,f={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var D;Object.prototype.hasOwnProperty.call(u,y)&&((D=b?Object.getOwnPropertyDescriptor(u,y):null)&&(D.get||D.set)?Object.defineProperty(f,y,D):f[y]=u[y])}return f.default=u,l&&l.set(u,f),f}(o("./constants"));function C(){var u;return"function"!=typeof WeakMap?null:(C=function(){return u},u=new WeakMap)}var x=[m.ARROW,m.CROSS,m.HAND,m.MOVE,m.TEXT,m.WAIT],s=(p.default.prototype._frameRate=0,p.default.prototype._lastFrameTime=window.performance.now(),p.default.prototype._targetFrameRate=60,window.print),a=!1;function h(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function c(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}p.default.prototype.print=function(){var u;arguments.length?(u=console).log.apply(u,arguments):a||(s(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(a=!0))},p.default.prototype.frameCount=0,p.default.prototype.deltaTime=0,p.default.prototype.focused=document.hasFocus(),p.default.prototype.cursor=function(u,l,y){var f,b="auto",D=this._curElement.elt;x.includes(u)?b=u:"string"==typeof u&&(f="",l&&y&&"number"==typeof l&&"number"==typeof y&&(f="".concat(l," ").concat(y)),b="http://"===u.substring(0,7)||"https://"===u.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(u)?"url(".concat(u,") ").concat(f,", auto"):u),D.style.cursor=b},p.default.prototype.frameRate=function(u){return p.default._validateParameters("frameRate",arguments),"number"!=typeof u||u<0?this._frameRate:(this._setProperty("_targetFrameRate",u),0===u&&this._setProperty("_frameRate",u),this)},p.default.prototype.getFrameRate=function(){return this.frameRate()},p.default.prototype.setFrameRate=function(u){return this.frameRate(u)},p.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},p.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},p.default.prototype.webglVersion=m.P2D,p.default.prototype.displayWidth=screen.width,p.default.prototype.displayHeight=screen.height,p.default.prototype.windowWidth=h(),p.default.prototype.windowHeight=c(),p.default.prototype._onresize=function(u){this._setProperty("windowWidth",h()),this._setProperty("windowHeight",c());var l=this._isGlobal?window:this;"function"!=typeof l.windowResized||void 0===(l=l.windowResized(u))||l||u.preventDefault()},p.default.prototype.width=0,p.default.prototype.height=0,p.default.prototype.fullscreen=function(u){if(p.default._validateParameters("fullscreen",arguments),void 0===u)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(u){if(u=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");u.requestFullscreen?u.requestFullscreen():u.mozRequestFullScreen?u.mozRequestFullScreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen():u.msRequestFullscreen&&u.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},p.default.prototype.pixelDensity=function(u){var l;return p.default._validateParameters("pixelDensity",arguments),"number"==typeof u?(u!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=u),(l=this).resizeCanvas(this.width,this.height,!0)):l=this._pixelDensity,l},p.default.prototype.displayDensity=function(){return window.devicePixelRatio},p.default.prototype.getURL=function(){return location.href},p.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(u){return""!==u})},p.default.prototype.getURLParams=function(){for(var u,l=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,y={};null!=(u=l.exec(location.search));)u.index===l.lastIndex&&l.lastIndex++,y[u[1]]=u[2];return y},w.default=o=p.default},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(x=o("../main"))&&x.__esModule?x:{default:x};function d(s,a){a=a||console.log.bind(console),p||C(),p.some(function(h){var c;if(s.message&&null!==s.message.match("\\W?".concat(h.name,"\\W")))return c="function"===h.type?"".concat(h.name,"()"):h.name,a("Did you just try to use p5.js's ".concat(c," ").concat(h.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(m)),!0})}o("../internationalization");var p=null,C=null,m=(_.default._friendlyError=_.default._checkForUserDefinedFunctions=_.default._fesErrorMonitor=function(){},p=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),x=(C=function(){function s(h){return Object.getOwnPropertyNames(h).filter(function(c){return"_"!==c[0]&&!(c in a)&&(a[c]=!0)}).map(function(c){var u="function"==typeof h[c]?"function":c===c.toUpperCase()?"constant":"variable";return{name:c,type:u}})}var a={};(p=[].concat(s(_.default.prototype),s(o("../constants")))).sort(function(h,c){return c.name.length-h.name.length})},_.default.prototype._helpForMisusedAtTopLevelCode=d,"complete"!==document.readyState&&(window.addEventListener("error",d,!1),window.addEventListener("load",function(){window.removeEventListener("error",d,!1)})),_.default);w.default=x},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(o,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(_=o("../main"))&&_.__esModule?_:{default:_};o("../internationalization"),_.default._friendlyFileLoadError=function(){},w.default=o=_.default},{"../internationalization":278,"../main":280}],273:[function(o,V,w){"use strict";function _(R){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(R)}function d(R){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(ne){return _(ne)}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":_(ne)})(R)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=function te(R){return R&&R.__esModule?R:{default:R}}(o("../main"));function Y(){var R;return"function"!=typeof WeakMap?null:(Y=function(){return R},R=new WeakMap)}o("../internationalization"),function ie(R){if(R&&R.__esModule)return R;if(null===R||"object"!==d(R)&&"function"!=typeof R)return{default:R};var ne=Y();if(ne&&ne.has(R))return ne.get(R);var ue,we,je={},Be=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ue in R)Object.prototype.hasOwnProperty.call(R,ue)&&((we=Be?Object.getOwnPropertyDescriptor(R,ue):null)&&(we.get||we.set)?Object.defineProperty(je,ue,we):je[ue]=R[ue]);return je.default=R,ne&&ne.set(R,je),je}(o("../constants")),p.default._fesCodeReader=function(){},w.default=p.default},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(o,V,w){"use strict";function _(){var d=/(^|@)\S+:\d+/,p=/^\s*at .*(\S+:\d+|\(native\))/m,m=/^(eval@)?(\[native code])?$/;return{parse:function(C){return void 0!==C.stacktrace||void 0!==C["opera#sourceloc"]?this.parseOpera(C):C.stack&&C.stack.match(p)?this.parseV8OrIE(C):C.stack?this.parseFFOrSafari(C):void 0},extractLocation:function(C){return-1===C.indexOf(":")?[C]:[(C=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(C.replace(/[()]/g,"")))[1],C[2]||void 0,C[3]||void 0]},parseV8OrIE:function(C){return C.stack.split("\n").filter(function(x){return!!x.match(p)},this).map(function(x){var a=(s=(x=-1<x.indexOf("(eval ")?x.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):x).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),s=(s=a?s.replace(a[0],""):s).split(/\s+/).slice(1);return a=this.extractLocation(a?a[1]:s.pop()),{functionName:s.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(a[0])?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:x}},this)},parseFFOrSafari:function(C){return C.stack.split("\n").filter(function(x){return!x.match(m)},this).map(function(x){var s,a;return-1===(x=-1<x.indexOf(" > eval")?x.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):x).indexOf("@")&&-1===x.indexOf(":")?{functionName:x}:{functionName:(a=x.match(s=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&a[1]?a[1]:void 0,fileName:(a=this.extractLocation(x.replace(s,"")))[0],lineNumber:a[1],columnNumber:a[2],source:x}},this)},parseOpera:function(C){return!C.stacktrace||-1<C.message.indexOf("\n")&&C.message.split("\n").length>C.stacktrace.split("\n").length?this.parseOpera9(C):C.stack?this.parseOpera11(C):this.parseOpera10(C)},parseOpera9:function(C){for(var x=/Line (\d+).*script (?:in )?(\S+)/i,s=C.message.split("\n"),a=[],h=2,c=s.length;h<c;h+=2){var u=x.exec(s[h]);u&&a.push({fileName:u[2],lineNumber:u[1],source:s[h]})}return a},parseOpera10:function(C){for(var x=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=C.stacktrace.split("\n"),a=[],h=0,c=s.length;h<c;h+=2){var u=x.exec(s[h]);u&&a.push({functionName:u[3]||void 0,fileName:u[2],lineNumber:u[1],source:s[h]})}return a},parseOpera11:function(C){return C.stack.split("\n").filter(function(x){return!!x.match(d)&&!x.match(/^Error created at/)},this).map(function(x){var s,h=x.split("@"),a=this.extractLocation(h.pop());return{functionName:(h=h.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(s=h.match(/\(([^)]*)\)/)?h.replace(/^[^(]+\(([^)]*)\)$/,"$1"):s)||"[arguments not available]"===s?void 0:s.split(","),fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:x}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new _},w.default=o=o.default},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(o,V,w){"use strict";function _(C){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var d=(d=o("../main"))&&d.__esModule?d:{default:d};function p(){var C;return"function"!=typeof WeakMap?null:(p=function(){return C},C=new WeakMap)}function m(C){return(m="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(x){return _(x)}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":_(x)})(C)}(function(C){if(!(C&&C.__esModule||null===C||"object"!==m(C)&&"function"!=typeof C)){var x=p();if(x&&x.has(C))return x.get(C);var s,a={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in C){var c;Object.prototype.hasOwnProperty.call(C,s)&&((c=h?Object.getOwnPropertyDescriptor(C,s):null)&&(c.get||c.set)?Object.defineProperty(a,s,c):a[s]=C[s])}a.default=C,x&&x.set(C,a)}})(o("../constants")),o("../internationalization"),d.default._validateParameters=d.default._clearValidateParamsCache=function(){},w.default=o=d.default},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(o,V,w){"use strict";function _(C){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(C)}function d(C){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(x){return _(x)}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":_(x)})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=function(C){if(C&&C.__esModule)return C;if(null===C||"object"!==d(C)&&"function"!=typeof C)return{default:C};var x=m();if(x&&x.has(C))return x.get(C);var s,a={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in C){var c;Object.prototype.hasOwnProperty.call(C,s)&&((c=h?Object.getOwnPropertyDescriptor(C,s):null)&&(c.get||c.set)?Object.defineProperty(a,s,c):a[s]=C[s])}return a.default=C,x&&x.set(C,a),a}(o("./constants"));function m(){var C;return"function"!=typeof WeakMap?null:(m=function(){return C},C=new WeakMap)}w.default={modeAdjust:function(C,x,s,a,h){return h===p.CORNER?{x:C,y:x,w:s,h:a}:h===p.CORNERS?{x:C,y:x,w:s-C,h:a-x}:h===p.RADIUS?{x:C-s,y:x-a,w:2*s,h:2*a}:h===p.CENTER?{x:C-.5*s,y:x-.5*a,w:s,h:a}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(o,V,w){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var _=(d=o("../core/main"))&&d.__esModule?d:{default:d};o("./internationalization");var d=Promise.resolve();Promise.all([new Promise(function(p,m){"complete"===document.readyState?p():window.addEventListener("load",p,!1)}),d]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!_.default.instance&&new _.default})},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(o,V,w){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.setTranslatorLanguage=w.currentTranslatorLanguage=w.availableTranslatorLanguages=w.initialize=w.translator=void 0;var _,p=C(o("i18next")),m=C(o("i18next-browser-languagedetector"));function C(a){return a&&a.__esModule?a:{default:a}}function x(a,h){for(var c=0;c<h.length;c++){var u=h[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}var s=function(){function a(l,y){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.init(l,y)}var h,c;return h=a,(c=[{key:"fetchWithTimeout",value:function(l,y){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(l,y),new Promise(function(b,D){return setTimeout(function(){return D(new Error("timeout"))},f)})])}},{key:"init",value:function(l){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=l,this.options=y}},{key:"read",value:function(l,y,f){var b=this.options.loadPath;l===this.options.fallback?f(null,_[l][y]):undefined.includes(l)?(b=this.services.interpolator.interpolate(b,{lng:l,ns:y}),this.loadUrl(b,f)):f("Not found",!1)}},{key:"loadUrl",value:function(l,y){this.fetchWithTimeout(l).then(function(f){if(f.ok)return f.json();throw new Error("failed loading ".concat(l))},function(){throw new Error("failed loading ".concat(l))}).then(function(f){return y(null,f)}).catch(y)}}])&&x(h.prototype,c),a}();s.type="backend",w.translator=function(a,h){console.debug("p5.js translator called before translations were loaded"),p.default.t(a,h)},w.initialize=function(){return p.default.use(m.default).use(s).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:_}).then(function(a){w.translator=a},function(a){return console.debug("Translations failed to load (".concat(a,")"))})},w.availableTranslatorLanguages=function(){return p.default.languages},w.currentTranslatorLanguage=function(a){return p.default.language},w.setTranslatorLanguage=function(a){return p.default.changeLanguage(a||void 0,function(h){return console.debug("Translations failed to load (".concat(h,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(o,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},w.default=o=o.default},{"./main":280}],280:[function(o,V,w){"use strict";function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(a)}function d(a){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(h){return _(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":_(h)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,o("./shim");var p=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==d(a)&&"function"!=typeof a)return{default:a};var h=m();if(h&&h.has(a))return h.get(a);var c,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var y;Object.prototype.hasOwnProperty.call(a,c)&&((y=l?Object.getOwnPropertyDescriptor(a,c):null)&&(y.get||y.set)?Object.defineProperty(u,c,y):u[c]=a[c])}return u.default=a,h&&h.set(a,u),u}(o("./constants"));function m(){var a;return"function"!=typeof WeakMap?null:(m=function(){return a},a=new WeakMap)}function C(a,h){for(var c=0;c<h.length;c++){var u=h[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}var x,s=function(){function a(l,b){var f=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=b,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},b=Object.getOwnPropertyNames(a.prototype._registeredMethods);var D=!0,B=!1,F=void 0;try{for(var j,k=b[Symbol.iterator]();!(D=(j=k.next()).done);D=!0){var U=j.value;this._registeredMethods[U]=a.prototype._registeredMethods[U].slice()}}catch(z){B=!0,F=z}finally{try{D||null==k.return||k.return()}finally{if(B)throw F}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),a.prototype.callRegisteredHooksFor=function(z){var oe=this||a.prototype,le=this._isGlobal?window:this;if(oe._registeredMethods.hasOwnProperty(z)){oe=oe._registeredMethods[z];var Ee=!0,W=void(z=!1);try{for(var R,ne=oe[Symbol.iterator]();!(Ee=(R=ne.next()).done);Ee=!0){var ue=R.value;"function"==typeof ue&&ue.call(le)}}catch(Be){z=!0,W=Be}finally{try{Ee||null==ne.return||ne.return()}finally{if(z)throw W}}}},this._start=function(){f._userNode&&"string"==typeof f._userNode&&(f._userNode=document.getElementById(f._userNode));var z=f._isGlobal?window:f;if(z.preload){f.callRegisteredHooksFor("beforePreload");var oe,le=document.getElementById(f._loadingScreenId),Ee=(le||((le=document.createElement("div")).innerHTML="Loading...",le.style.position="absolute",le.id=f._loadingScreenId,(f._userNode||document.body).appendChild(le)),f._preloadMethods);for(oe in Ee){Ee[oe]=Ee[oe]||a;var W=Ee[oe];W!==a.prototype&&W!==a||(f._isGlobal&&(window[oe]=f._wrapPreload(f,oe)),W=f),f._registeredPreloadMethods[oe]=W[oe],W[oe]=f._wrapPreload(W,oe)}z.preload(),f._runIfPreloadsAreDone()}else f._setup(),f._recording||f._draw()},this._runIfPreloadsAreDone=function(){var z,oe=this._isGlobal?window:this;0===oe._preloadCount&&((z=document.getElementById(oe._loadingScreenId))&&z.parentNode.removeChild(z),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),oe._setup(),this._recording||oe._draw()))},this._decrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||"function"!=typeof z.preload||(z._setProperty("_preloadCount",z._preloadCount-1),z._runIfPreloadsAreDone())},this._wrapPreload=function(z,oe){var le=this;return function(){le._incrementPreload();for(var Ee=arguments.length,W=new Array(Ee),R=0;R<Ee;R++)W[R]=arguments[R];return le._registeredPreloadMethods[oe].apply(z,W)}},this._incrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||z._setProperty("_preloadCount",z._preloadCount+1)},this._setup=function(){f.callRegisteredHooksFor("beforeSetup"),f.createCanvas(f._defaultCanvasSize.width,f._defaultCanvasSize.height,"p2d");var z=f._isGlobal?window:f;if("function"==typeof z.preload)for(var oe in f._preloadMethods)z[oe]=f._preloadMethods[oe][oe],z[oe]&&f&&(z[oe]=z[oe].bind(f));f._millisStart=window.performance.now(),z._preloadDone=!0,"function"==typeof z.setup&&z.setup();var le=document.getElementsByTagName("canvas"),Ee=!0,W=!1,R=void 0;try{for(var ne,ue=le[Symbol.iterator]();!(Ee=(ne=ue.next()).done);Ee=!0){var we=ne.value;"true"===we.dataset.hidden&&(we.style.visibility="",delete we.dataset.hidden)}}catch(je){W=!0,R=je}finally{try{Ee||null==ue.return||ue.return()}finally{if(W)throw R}}f._lastTargetFrameTime=window.performance.now(),f._lastRealFrameTime=window.performance.now(),f._setupDone=!0,(f._accessibleOutputs.grid||f._accessibleOutputs.text)&&f._updateAccsOutput(),f.callRegisteredHooksFor("afterSetup")},this._draw=function(){var z=window.performance.now(),le=1e3/f._targetFrameRate;(!f._loop||le-5<=z-f._lastTargetFrameTime)&&(f.deltaTime=z-f._lastRealFrameTime,f._setProperty("deltaTime",f.deltaTime),f._frameRate=1e3/f.deltaTime,f.redraw(),f._lastTargetFrameTime=Math.max(f._lastTargetFrameTime+le,z),f._lastRealFrameTime=z,void 0!==f._updateMouseCoords&&(f._updateMouseCoords(),f._setProperty("movedX",0),f._setProperty("movedY",0))),f._loop&&(f._requestAnimId=window.requestAnimationFrame(f._draw))},this._setProperty=function(z,oe){f[z]=oe,f._isGlobal&&(window[z]=oe)},this.remove=function(){if(f._startListener&&window.removeEventListener("load",f._startListener,!1),(z=document.getElementById(f._loadingScreenId))&&(z.parentNode.removeChild(z),f._incrementPreload()),f._curElement){for(var oe in f._loop=!1,f._requestAnimId&&window.cancelAnimationFrame(f._requestAnimId),f._events)window.removeEventListener(oe,f._events[oe]);var le=!0,z=!1,Ee=void 0;try{for(var W,R=f._elements[Symbol.iterator]();!(le=(W=R.next()).done);le=!0){var ne,ue=W.value;for(ne in ue.elt&&ue.elt.parentNode&&ue.elt.parentNode.removeChild(ue.elt),ue._events)ue.elt.removeEventListener(ne,ue._events[ne])}}catch(Oe){z=!0,Ee=Oe}finally{try{le||null==R.return||R.return()}finally{if(z)throw Ee}}var we=f;f._registeredMethods.remove.forEach(function(Oe){void 0!==Oe&&Oe.call(we)})}if(f._isGlobal){for(var je in a.prototype)try{delete window[je]}catch{window[je]=void 0}for(var Be in f)if(f.hasOwnProperty(Be))try{delete window[Be]}catch{window[Be]=void 0}a.instance=null}},this._registeredMethods.init.forEach(function(z){void 0!==z&&z.call(this)},this),this._setupPromisePreloads();var T,I,M=this._createFriendlyGlobalFunctionBinder();if(l)l(this),a._checkForUserDefinedFunctions(this);else{for(var q in this._isGlobal=!0,a.instance=this,a.prototype)"function"==typeof a.prototype[q]?(T=q.substring(2),this._events.hasOwnProperty(T)||(Math.hasOwnProperty(q)&&Math[q]===a.prototype[q]?M(q,a.prototype[q]):M(q,a.prototype[q].bind(this)))):M(q,a.prototype[q]);for(var K in this)this.hasOwnProperty(K)&&M(K,this[K])}for(I in this._events){var Y=this["_on".concat(I)];Y&&(Y=Y.bind(this),window.addEventListener(I,Y,{passive:!1}),this._events[I]=Y)}function ie(){f._setProperty("focused",!0)}function te(){f._setProperty("focused",!1)}window.addEventListener("focus",ie),window.addEventListener("blur",te),this.registerMethod("remove",function(){window.removeEventListener("focus",ie),window.removeEventListener("blur",te)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var h,c;return h=a,(c=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=p.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(l,y){a.prototype._preloadMethods.hasOwnProperty(l)||(a.prototype._preloadMethods[l]=y)}},{key:"registerMethod",value:function(l,y){var f=this||a.prototype;f._registeredMethods.hasOwnProperty(l)||(f._registeredMethods[l]=[]),f._registeredMethods[l].push(y)}},{key:"unregisterMethod",value:function(l,y){var f=this||a.prototype;if(f._registeredMethods.hasOwnProperty(l)){for(var b=f._registeredMethods[l],D=[],B=0;B<b.length;B++)b[B]===y&&D.push(B);for(var F=D.length-1;0<=F;F--)b.splice(D[F],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},y=l.globalObject||window;return l.log||console.log.bind(console),function(f,b){y[f]=b}}}])&&C(h.prototype,c),a}();for(x in s.instance=null,s.disableFriendlyErrors=!1,p)s.prototype[x]=p[x];s.VERSION=p.VERSION,s.prototype._preloadMethods={loadJSON:s.prototype,loadImage:s.prototype,loadStrings:s.prototype,loadXML:s.prototype,loadBytes:s.prototype,loadTable:s.prototype,loadFont:s.prototype,loadModel:s.prototype,loadShader:s.prototype},s.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},s.prototype._registeredPreloadMethods={},w.default=s},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(o,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("./main"))&&o.__esModule?o:{default:o};function d(p,m){for(var C=0;C<m.length;C++){var x=m[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}_.default.Element=function(){function p(s,a){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.elt=s,this._pInst=this._pixelsState=a,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var m,C,x;return m=p,x=[{key:"_adjustListener",value:function(s,a,h){return!1===a?_.default.Element._detachListener(s,h):_.default.Element._attachListener(s,a,h),this}},{key:"_attachListener",value:function(s,a,h){h._events[s]&&_.default.Element._detachListener(s,h),a=a.bind(h),h.elt.addEventListener(s,a,!1),h._events[s]=a}},{key:"_detachListener",value:function(s,a){a.elt.removeEventListener(s,a._events[s],!1),a._events[s]=null}}],(C=[{key:"parent",value:function(s){return void 0===s?this.elt.parentNode:("string"==typeof s?("#"===s[0]&&(s=s.substring(1)),s=document.getElementById(s)):s instanceof _.default.Element&&(s=s.elt),s.appendChild(this.elt),this)}},{key:"id",value:function(s){return void 0===s?this.elt.id:(this.elt.id=s,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(s){return void 0===s?this.elt.className:(this.elt.className=s,this)}},{key:"mousePressed",value:function(s){return _.default.Element._adjustListener("mousedown",function(a){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(a),s.call(this,a)},this),this}},{key:"doubleClicked",value:function(s){return _.default.Element._adjustListener("dblclick",s,this),this}},{key:"mouseWheel",value:function(s){return _.default.Element._adjustListener("wheel",s,this),this}},{key:"mouseReleased",value:function(s){return _.default.Element._adjustListener("mouseup",s,this),this}},{key:"mouseClicked",value:function(s){return _.default.Element._adjustListener("click",s,this),this}},{key:"mouseMoved",value:function(s){return _.default.Element._adjustListener("mousemove",s,this),this}},{key:"mouseOver",value:function(s){return _.default.Element._adjustListener("mouseover",s,this),this}},{key:"mouseOut",value:function(s){return _.default.Element._adjustListener("mouseout",s,this),this}},{key:"touchStarted",value:function(s){return _.default.Element._adjustListener("touchstart",s,this),this}},{key:"touchMoved",value:function(s){return _.default.Element._adjustListener("touchmove",s,this),this}},{key:"touchEnded",value:function(s){return _.default.Element._adjustListener("touchend",s,this),this}},{key:"dragOver",value:function(s){return _.default.Element._adjustListener("dragover",s,this),this}},{key:"dragLeave",value:function(s){return _.default.Element._adjustListener("dragleave",s,this),this}},{key:"_setProperty",value:function(s,a){this[s]=a}}])&&d(m.prototype,C),x&&d(m,x),p}(),w.default=o=_.default.Element},{"./main":280}],282:[function(o,V,w){"use strict";function _(y){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(y)}function d(y){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(f){return _(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":_(f)})(y)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(l=o("./main"))&&l.__esModule?l:{default:l},m=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==d(y)&&"function"!=typeof y)return{default:y};var f=C();if(f&&f.has(y))return f.get(y);var b,D={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in y){var F;Object.prototype.hasOwnProperty.call(y,b)&&((F=B?Object.getOwnPropertyDescriptor(y,b):null)&&(F.get||F.set)?Object.defineProperty(D,b,F):D[b]=y[b])}return D.default=y,f&&f.set(y,D),D}(o("./constants"));function C(){var y;return"function"!=typeof WeakMap?null:(C=function(){return y},y=new WeakMap)}function x(y,f){for(var b=0;b<f.length;b++){var D=f[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(y,D.key,D)}}function s(y,f){return(s=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(y,f)}function h(y,f){return!f||"object"!==d(f)&&"function"!=typeof f?c(y):f}function c(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function u(y){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(y)}p.default.Graphics=function(y){var f=B;if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),y&&s(f,y);var D=function a(y){return function(){var f,b=u(y);return h(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(f=u(this).constructor,Reflect.construct(b,arguments,f)):b.apply(this,arguments))}}(B);function B(F,j,K,U,T){var I;if(!(this instanceof B))throw new TypeError("Cannot call a class as a function");q=T||document.createElement("canvas"),(I=D.call(this,q,U)).canvas=q;var M,q=K||m.P2D;for(M in K=U._userNode||document.body,T||K.appendChild(I.canvas),p.default.prototype)I[M]||(I[M]="function"==typeof p.default.prototype[M]?p.default.prototype[M].bind(c(I)):p.default.prototype[M]);return p.default.prototype._initializeInstanceVariables.apply(c(I)),I.width=F,I.height=j,I._pixelDensity=U._pixelDensity,q===m.WEBGL?(I._renderer=new p.default.RendererGL(I.canvas,c(I),!1),F=(T=I._renderer._adjustDimensions(F,j)).adjustedWidth,j=T.adjustedHeight):I._renderer=new p.default.Renderer2D(I.canvas,c(I),!1),U._elements.push(c(I)),Object.defineProperty(c(I),"deltaTime",{get:function(){return this._pInst.deltaTime}}),I._renderer.resize(F,j),I._renderer._applyDefaults(),h(I,c(I))}return f=B,(y=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var F,j=this._pInst._elements.indexOf(this);for(F in-1!==j&&this._pInst._elements.splice(j,1),this._events)this.elt.removeEventListener(F,this._events[F])}},{key:"createFramebuffer",value:function(F){return new p.default.Framebuffer(this,F)}}])&&x(f.prototype,y),B}(p.default.Element);var l=p.default.Graphics;w.default=l},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(o,V,w){"use strict";function _(y){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(y)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var d=(u=o("./main"))&&u.__esModule?u:{default:u},p=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==C(y)&&"function"!=typeof y)return{default:y};var f=m();if(f&&f.has(y))return f.get(y);var b,D={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in y){var F;Object.prototype.hasOwnProperty.call(y,b)&&((F=B?Object.getOwnPropertyDescriptor(y,b):null)&&(F.get||F.set)?Object.defineProperty(D,b,F):D[b]=y[b])}return D.default=y,f&&f.set(y,D),D}(o("../core/constants"));function m(){var y;return"function"!=typeof WeakMap?null:(m=function(){return y},y=new WeakMap)}function C(y){return(C="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(f){return _(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":_(f)})(y)}function x(y,f){for(var b=0;b<f.length;b++){var D=f[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(y,D.key,D)}}function s(y,f){return(s=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(y,f)}function h(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function c(y){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(y)}var u=function(y){var f=B;if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),y&&s(f,y);var D=function a(y){return function(){var f,b,D=c(y);return f=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(f=c(this).constructor,Reflect.construct(D,arguments,f)):D.apply(this,arguments),D=this,!(b=f)||"object"!==C(b)&&"function"!=typeof b?h(D):b}}(B);function B(F,j,k){var U;if(this instanceof B)return(U=D.call(this,F,j)).canvas=F,U._pixelsState=j,k?(U._isMainCanvas=!0,U._pInst._setProperty("_curElement",h(U)),U._pInst._setProperty("canvas",U.canvas),U._pInst._setProperty("width",U.width),U._pInst._setProperty("height",U.height)):(U.canvas.style.display="none",U._styles=[]),U._clipping=!1,U._clipInvert=!1,U._textSize=12,U._textLeading=15,U._textFont="sans-serif",U._textStyle=p.NORMAL,U._textAscent=null,U._textDescent=null,U._textAlign=p.LEFT,U._textBaseline=p.BASELINE,U._textWrap=p.WORD,U._rectMode=p.CORNER,U._ellipseMode=p.CENTER,U._curveTightness=0,U._imageMode=p.CORNER,U._tint=null,U._doStroke=!0,U._doFill=!0,U._strokeSet=!1,U._fillSet=!1,U._leadingSet=!1,U._pushPopDepth=0,U;throw new TypeError("Cannot call a class as a function")}return f=B,(y=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(F){this._pushPopDepth--,F.properties&&Object.assign(this,F.properties)}},{key:"beginClip",value:function(){var F=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=F.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(F,j){this.width=F,this.height=j,this.elt.width=F*this._pInst._pixelDensity,this.elt.height=j*this._pInst._pixelDensity,this.elt.style.width="".concat(F,"px"),this.elt.style.height="".concat(j,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(F,j,k,U){var T=this._pixelsState,I=T._pixelDensity,M=this.canvas;if(void 0===F&&void 0===j)F=j=0,k=T.width,U=T.height;else if(F*=I,j*=I,void 0===k&&void 0===U)return F<0||j<0||F>=M.width||j>=M.height?[0,0,0,0]:this._getPixel(F,j);return(T=new d.default.Image(k*I,U*I)).pixelDensity(I),T.canvas.getContext("2d").drawImage(M,F,j,k*I,U*I,0,0,k*I,U*I),T}},{key:"textLeading",value:function(F){return"number"==typeof F?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",F),this._pInst):this._textLeading}},{key:"textStyle",value:function(F){return F?(F!==p.NORMAL&&F!==p.ITALIC&&F!==p.BOLD&&F!==p.BOLDITALIC||this._setProperty("_textStyle",F),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(F,j){return void 0!==F?(this._setProperty("_textAlign",F),void 0!==j&&this._setProperty("_textBaseline",j),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(F){return this._setProperty("_textWrap",F),this._textWrap}},{key:"text",value:function(F,j,k,U,T){var I,M,q,K,Y=this._pInst,ie=this._textWrap,te=Number.MAX_VALUE,z=k;if((this._doFill||this._doStroke)&&void 0!==F){if(I=(F=(F="string"!=typeof F?F.toString():F).replace(/(\t)/g,"  ")).split("\n"),void 0!==U){switch(this._rectMode===p.CENTER&&(j-=U/2),this._textAlign){case p.CENTER:j+=U/2;break;case p.RIGHT:j+=U}if(void 0!==T){this._rectMode===p.CENTER&&(k-=T/2,z-=T/2),F=k;var oe=Y.textAscent();switch(this._textBaseline){case p.BOTTOM:K=k+T,k=Math.max(K,k),z+=oe;break;case p.CENTER:K=k+T/2,k=Math.max(K,k),z+=oe/2}te=k+T-oe,this._textBaseline===p.CENTER&&(te=F+T-oe/2)}else this._textBaseline!==p.BOTTOM&&this._textBaseline!==p.CENTER||(z=k-(F=Y.textSize()*this._textLeading)/2,te=k+F/2);if(ie===p.WORD){for(var le=[],Ee=0;Ee<I.length;Ee++){for(var W="",R=I[Ee].split(" "),ne=0;ne<R.length;ne++)M="".concat(W+R[ne])+" ",W=U<(q=this.textWidth(M))&&0<W.length?(le.push(W),"".concat(R[ne])+" "):M;le.push(W)}var ue=0;this._textBaseline===p.CENTER?ue=(le.length-1)*Y.textLeading()/2:this._textBaseline===p.BOTTOM&&(ue=(le.length-1)*Y.textLeading());for(var we=0;we<I.length;we++){W="",R=I[we].split(" ");for(var je=0;je<R.length;je++)M="".concat(W+R[je])+" ",U<(q=this.textWidth(M))&&0<W.length?(this._renderText(Y,W.trim(),j,k-ue,te,z),W="".concat(R[je])+" ",k+=Y.textLeading()):W=M;this._renderText(Y,W.trim(),j,k-ue,te,z),k+=Y.textLeading()}}else{for(var Be=[],We=0;We<I.length;We++)for(var Oe=I[We].split(W=""),Pe=0;Pe<Oe.length;Pe++)M="".concat(W+Oe[Pe]),(q=this.textWidth(M))<=U?W+=Oe[Pe]:U<q&&0<W.length&&(Be.push(W),W="".concat(Oe[Pe]));Be.push(W);var $e=0;this._textBaseline===p.CENTER?$e=(Be.length-1)*Y.textLeading()/2:this._textBaseline===p.BOTTOM&&($e=(Be.length-1)*Y.textLeading());for(var ke=0;ke<I.length;ke++){Oe=I[ke].split(W="");for(var Qe=0;Qe<Oe.length;Qe++)M="".concat(W+Oe[Qe]),(q=this.textWidth(M))<=U?W+=Oe[Qe]:U<q&&0<W.length&&(this._renderText(Y,W.trim(),j,k-$e,te,z),k+=Y.textLeading(),W="".concat(Oe[Qe]))}this._renderText(Y,W.trim(),j,k-$e,te,z),k+=Y.textLeading()}}else{var tt=0;this._textBaseline===p.CENTER?tt=(I.length-1)*Y.textLeading()/2:this._textBaseline===p.BOTTOM&&(tt=(I.length-1)*Y.textLeading());for(var _t=0;_t<I.length;_t++)this._renderText(Y,I[_t],j,k-tt,te,z-tt),k+=Y.textLeading()}return Y}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var F=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===C(F)&&F.font&&F.font.supported}},{key:"_updateTextMetrics",value:function(){var F,j,k,U,T,I;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((F=document.createElement("span")).style.fontFamily=this._textFont,F.style.fontSize="".concat(this._textSize,"px"),F.innerHTML="ABCjgq|",(I=document.createElement("div")).style.display="inline-block",I.style.width="1px",I.style.height="0px",(j=document.createElement("div")).appendChild(F),j.appendChild(I),j.style.height="0px",j.style.overflow="hidden",document.body.appendChild(j),I.style.verticalAlign="baseline",U=l(I),T=l(F),k=U[1]-T[1],I.style.verticalAlign="bottom",U=l(I),T=l(F),I=U[1]-T[1]-k,document.body.removeChild(j),this._setProperty("_textAscent",k),this._setProperty("_textDescent",I)),this}}])&&x(f.prototype,y),B}(d.default.Element);function l(y){var f=0,b=0;if(y.offsetParent)for(;f+=y.offsetLeft,b+=y.offsetTop,y=y.offsetParent;);else f+=y.offsetLeft,b+=y.offsetTop;return[f,b]}u.prototype.textSize=function(y){return"number"==typeof y?(this._setProperty("_textSize",y),this._leadingSet||this._setProperty("_textLeading",y*p._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},d.default.Renderer=u,w.default=o=d.default.Renderer},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(y,V,w){"use strict";function _(f){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}function d(f){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(b){return _(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_(b)})(f)}y("core-js/modules/es.symbol"),y("core-js/modules/es.symbol.description"),y("core-js/modules/es.symbol.iterator"),y("core-js/modules/es.array.concat"),y("core-js/modules/es.array.fill"),y("core-js/modules/es.array.for-each"),y("core-js/modules/es.array.iterator"),y("core-js/modules/es.array.join"),y("core-js/modules/es.array.slice"),y("core-js/modules/es.function.name"),y("core-js/modules/es.number.to-fixed"),y("core-js/modules/es.object.get-own-property-descriptor"),y("core-js/modules/es.object.get-prototype-of"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.reflect.construct"),y("core-js/modules/es.reflect.get"),y("core-js/modules/es.regexp.exec"),y("core-js/modules/es.regexp.to-string"),y("core-js/modules/es.string.iterator"),y("core-js/modules/es.weak-map"),y("core-js/modules/web.dom-collections.iterator"),y("core-js/modules/es.array.concat"),y("core-js/modules/es.array.fill"),y("core-js/modules/es.array.for-each"),y("core-js/modules/es.array.join"),y("core-js/modules/es.array.slice"),y("core-js/modules/es.function.name"),y("core-js/modules/es.number.to-fixed"),y("core-js/modules/es.object.get-prototype-of"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.regexp.exec"),y("core-js/modules/es.regexp.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(l=y("./main"))&&l.__esModule?l:{default:l},m=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==d(f)&&"function"!=typeof f)return{default:f};var b=C();if(b&&b.has(f))return b.get(f);var D,B={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in f){var j;Object.prototype.hasOwnProperty.call(f,D)&&((j=F?Object.getOwnPropertyDescriptor(f,D):null)&&(j.get||j.set)?Object.defineProperty(B,D,j):B[D]=f[D])}return B.default=f,b&&b.set(f,B),B}(y("./constants"));function C(){var f;return"function"!=typeof WeakMap?null:(C=function(){return f},f=new WeakMap)}function x(f,b){for(var D=0;D<b.length;D++){var B=b[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(f,B.key,B)}}function s(f,b,D){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(k,F,j){if(k=function(U,T){for(;!Object.prototype.hasOwnProperty.call(U,T)&&null!==(U=c(U)););return U}(k,F))return(k=Object.getOwnPropertyDescriptor(k,F)).get?k.get.call(j):k.value})(f,b,D||f)}function a(f,b){return(a=Object.setPrototypeOf||function(D,B){return D.__proto__=B,D})(f,b)}function c(f){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(f)}y("./p5.Renderer");var u="rgba(0,0,0,0)",l=function(f){var b=F;if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),f&&a(b,f);var B=function h(f){return function(){var b,D=c(f);if(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=c(this).constructor,Reflect.construct(D,arguments,b)):D.apply(this,arguments),D=this,!b||"object"!==d(b)&&"function"!=typeof b){if(void 0!==D)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}(F);function F(j,k,U){if(this instanceof F)return(j=B.call(this,j,k,U)).drawingContext=j.canvas.getContext("2d"),j._pInst._setProperty("drawingContext",j.drawingContext),j;throw new TypeError("Cannot call a class as a function")}return b=F,(f=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new p.default.Graphics(this.width,this.height,m.WEBGL,(this._pInst instanceof p.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=m.BLEND,this._setFill(m._DEFAULT_FILL),this._setStroke(m._DEFAULT_STROKE),this.drawingContext.lineCap=m.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(j,k){s(c(F.prototype),"resize",this).call(this,j,k),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var j,k;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof p.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(j=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(j,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(j=this._getFill(),k=(k=this._pInst).color.apply(k,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(k.levels),k=k.toString(),this._setFill(k),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(j),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setFill(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",j.levels)}},{key:"stroke",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setStroke(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",j.levels)}},{key:"erase",value:function(j,k){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,j=this._pInst.color(255,j).toString(),this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,j=this._pInst.color(255,k).toString(),this.drawingContext.strokeStyle=j,k=this._cachedBlendMode,this.blendMode(m.REMOVE),this._cachedBlendMode=k,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(c(F.prototype),"beginClip",this).call(this,j),this._cachedFillStyle=this.drawingContext.fillStyle,j=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,j=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=j,j=this._cachedBlendMode,this.blendMode(m.BLEND),this._cachedBlendMode=j,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),s(c(F.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(j,k,U,T,I,M,q,K,Y){j.gifProperties&&j._animateGif(this._pInst);try{p.default.MediaElement&&j instanceof p.default.MediaElement&&j._ensureCanvas();var ie=(ie=this._tint&&j.canvas?this._getTintedImageCanvas(j):ie)||j.canvas||j.elt,te=1;j.width&&0<j.width&&(te=ie.width/j.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(ie,te*k,te*U,te*T,te*I,M,q,K,Y),this._isErasing&&this._pInst.erase()}catch(z){if("NS_ERROR_NOT_AVAILABLE"!==z.name)throw z}}},{key:"_getTintedImageCanvas",value:function(j){if(!j.canvas)return j;j.tintCanvas||(j.tintCanvas=document.createElement("canvas")),j.tintCanvas.width!==j.canvas.width&&(j.tintCanvas.width=j.canvas.width),j.tintCanvas.height!==j.canvas.height&&(j.tintCanvas.height=j.canvas.height);var k=j.tintCanvas.getContext("2d");return k.save(),k.clearRect(0,0,j.canvas.width,j.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(k.drawImage(j.canvas,0,0),k.globalCompositeOperation="luminosity",k.drawImage(j.canvas,0,0),k.globalCompositeOperation="color",k.drawImage(j.canvas,0,0),k.globalCompositeOperation="multiply",k.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),k.fillRect(0,0,j.canvas.width,j.canvas.height),k.globalCompositeOperation="destination-in"),k.globalAlpha=this._tint[3]/255,k.drawImage(j.canvas,0,0),k.restore(),j.tintCanvas}},{key:"blendMode",value:function(j){if(j===m.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(j!==m.BLEND&&j!==m.REMOVE&&j!==m.DARKEST&&j!==m.LIGHTEST&&j!==m.DIFFERENCE&&j!==m.MULTIPLY&&j!==m.EXCLUSION&&j!==m.SCREEN&&j!==m.REPLACE&&j!==m.OVERLAY&&j!==m.HARD_LIGHT&&j!==m.SOFT_LIGHT&&j!==m.DODGE&&j!==m.BURN&&j!==m.ADD)throw new Error("Mode ".concat(j," not recognized."));this._cachedBlendMode=j,this.drawingContext.globalCompositeOperation=j}}},{key:"blend",value:function(){for(var j=this.drawingContext.globalCompositeOperation,k=arguments.length,U=new Array(k),T=0;T<k;T++)U[T]=arguments[T];var I=U[U.length-1],M=Array.prototype.slice.call(U,0,U.length-1);this.drawingContext.globalCompositeOperation=I,p.default.prototype.copy.apply(this,M),this.drawingContext.globalCompositeOperation=j}},{key:"_getPixel",value:function(j,k){return[(j=this.drawingContext.getImageData(j,k,1,1).data)[0],j[1],j[2],j[3]]}},{key:"loadPixels",value:function(){var k,j=this._pixelsState,U=this.drawingContext.getImageData(0,0,U=this.width*(k=j._pixelDensity),k*=this.height);j._setProperty("imageData",U),j._setProperty("pixels",U.data)}},{key:"set",value:function(j,k,U){j=Math.floor(j),k=Math.floor(k);var T=this._pixelsState;if(U instanceof p.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(T._pixelDensity,T._pixelDensity),this.drawingContext.clearRect(j,k,U.width,U.height),this.drawingContext.drawImage(U.canvas,j,k),this.drawingContext.restore();else{var I=0,M=0,q=0,K=0,Y=4*(k*T._pixelDensity*(this.width*T._pixelDensity)+j*T._pixelDensity);if(T.imageData||T.loadPixels(),"number"==typeof U)Y<T.pixels.length&&(q=M=I=U,K=255);else if(Array.isArray(U)){if(U.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");Y<T.pixels.length&&(I=U[0],M=U[1],q=U[2],K=U[3])}else U instanceof p.default.Color&&Y<T.pixels.length&&(I=U.levels[0],M=U.levels[1],q=U.levels[2],K=U.levels[3]);for(var ie=0;ie<T._pixelDensity;ie++)for(var te=0;te<T._pixelDensity;te++)T.pixels[Y=4*((k*T._pixelDensity+te)*this.width*T._pixelDensity+(j*T._pixelDensity+ie))]=I,T.pixels[Y+1]=M,T.pixels[Y+2]=q,T.pixels[Y+3]=K}}},{key:"updatePixels",value:function(j,k,U,T){var I=this._pixelsState,M=I._pixelDensity;void 0===j&&void 0===k&&void 0===U&&void 0===T&&(k=j=0,U=this.width,T=this.height),j*=M,k*=M,U*=M,T*=M,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=I.imageData),this.drawingContext.putImageData(I.imageData,j,k,0,0,U,T)}},{key:"_acuteArcToBezier",value:function(j,k){var M=k/2,U=Math.cos(M),K=Math.sin(M),T=1/Math.tan(M),I=(M=j+M,Math.cos(M)),q=(M=Math.sin(M),(4-U)/3);return K+=(U-q)*T,{ax:Math.cos(j).toFixed(7),ay:Math.sin(j).toFixed(7),bx:(q*I+K*M).toFixed(7),by:(q*M-K*I).toFixed(7),cx:(q*I-K*M).toFixed(7),cy:(q*M+K*I).toFixed(7),dx:Math.cos(j+k).toFixed(7),dy:Math.sin(j+k).toFixed(7)}}},{key:"arc",value:function(j,k,U,T,I,M,q){var K,Y=this.drawingContext,ie=U/2,te=T/2,z=[];for(j+=ie,k+=te;1e-5<=M-I;)K=Math.min(M-I,m.HALF_PI),z.push(this._acuteArcToBezier(I,K)),I+=K;return this._doFill&&(this._clipping||Y.beginPath(),z.forEach(function(oe,le){0===le&&Y.moveTo(j+oe.ax*ie,k+oe.ay*te),Y.bezierCurveTo(j+oe.bx*ie,k+oe.by*te,j+oe.cx*ie,k+oe.cy*te,j+oe.dx*ie,k+oe.dy*te)}),q!==m.PIE&&null!=q||Y.lineTo(j,k),Y.closePath(),this._clipping||Y.fill()),this._doStroke&&(this._clipping||Y.beginPath(),z.forEach(function(oe,le){0===le&&Y.moveTo(j+oe.ax*ie,k+oe.ay*te),Y.bezierCurveTo(j+oe.bx*ie,k+oe.by*te,j+oe.cx*ie,k+oe.cy*te,j+oe.dx*ie,k+oe.dy*te)}),q===m.PIE?(Y.lineTo(j,k),Y.closePath()):q===m.CHORD&&Y.closePath(),this._clipping||Y.stroke()),this}},{key:"ellipse",value:function(K){var k=this.drawingContext,U=this._doFill,T=this._doStroke,I=parseFloat(K[0]),M=parseFloat(K[1]),q=parseFloat(K[2]);if(K=parseFloat(K[3]),U&&!T){if(this._getFill()===u)return this}else if(!U&&T&&this._getStroke()===u)return this;I+=q/2,M+=K/2,q/=2,K/=2,this._clipping||k.beginPath(),k.ellipse(I,M,q,K,0,0,2*Math.PI),!this._clipping&&U&&k.fill(),!this._clipping&&T&&k.stroke()}},{key:"line",value:function(j,k,U,T){var I=this.drawingContext;return this._doStroke&&this._getStroke()!==u&&(this._clipping||I.beginPath(),I.moveTo(j,k),I.lineTo(U,T),I.stroke()),this}},{key:"point",value:function(j,k){var U,T,I=this.drawingContext;return this._doStroke&&this._getStroke()!==u?(U=this._getStroke(),T=this._getFill(),this._clipping||this._setFill(U),this._clipping||I.beginPath(),I.arc(j,k,I.lineWidth/2,0,m.TWO_PI,!1),void(this._clipping||(I.fill(),this._setFill(T)))):this}},{key:"quad",value:function(j,k,U,T,I,M,q,K){var Y=this.drawingContext,ie=this._doFill,te=this._doStroke;if(ie&&!te){if(this._getFill()===u)return this}else if(!ie&&te&&this._getStroke()===u)return this;return this._clipping||Y.beginPath(),Y.moveTo(j,k),Y.lineTo(U,T),Y.lineTo(I,M),Y.lineTo(q,K),Y.closePath(),!this._clipping&&ie&&Y.fill(),!this._clipping&&te&&Y.stroke(),this}},{key:"rect",value:function(te){var k,U,T=te[0],I=te[1],M=te[2],q=te[3],K=te[4],Y=te[5],ie=te[6],z=(te=te[7],this.drawingContext),oe=this._doFill,le=this._doStroke;if(oe&&!le){if(this._getFill()===u)return this}else if(!oe&&le&&this._getStroke()===u)return this;return this._clipping||z.beginPath(),void 0===K?z.rect(T,I,M,q):(void 0===Y&&(Y=K),void 0===ie&&(ie=Y),void 0===te&&(te=ie),le=(oe=Math.abs(M))/2,U=(k=Math.abs(q))/2,k<2*(K=oe<2*K?le:K)&&(K=U),k<2*(Y=oe<2*Y?le:Y)&&(Y=U),k<2*(ie=oe<2*ie?le:ie)&&(ie=U),k<2*(te=oe<2*te?le:te)&&(te=U),this._clipping||z.beginPath(),z.moveTo(T+K,I),z.arcTo(T+M,I,T+M,I+q,Y),z.arcTo(T+M,I+q,T,I+q,ie),z.arcTo(T,I+q,T,I,te),z.arcTo(T,I,T+M,I,K),z.closePath()),!this._clipping&&this._doFill&&z.fill(),!this._clipping&&this._doStroke&&z.stroke(),this}},{key:"triangle",value:function(ie){var k=this.drawingContext,U=this._doFill,T=this._doStroke,I=ie[0],M=ie[1],q=ie[2],K=ie[3],Y=ie[4];if(ie=ie[5],U&&!T){if(this._getFill()===u)return this}else if(!U&&T&&this._getStroke()===u)return this;this._clipping||k.beginPath(),k.moveTo(I,M),k.lineTo(q,K),k.lineTo(Y,ie),k.closePath(),!this._clipping&&U&&k.fill(),!this._clipping&&T&&k.stroke()}},{key:"endShape",value:function(j,k,U,T,I,M,q){if(0!==k.length&&(this._doStroke||this._doFill)){var K,Y,ie,te=j===m.CLOSE,z=(te&&!M&&k.push(k[0]),k.length);if(U&&null===q){if(3<z){var oe=[],le=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(k[1][0],k[1][1]),Y=1;Y+2<z;Y++)oe[0]=[(K=k[Y])[0],K[1]],oe[1]=[K[0]+(le*k[Y+1][0]-le*k[Y-1][0])/6,K[1]+(le*k[Y+1][1]-le*k[Y-1][1])/6],oe[2]=[k[Y+1][0]+(le*k[Y][0]-le*k[Y+2][0])/6,k[Y+1][1]+(le*k[Y][1]-le*k[Y+2][1])/6],oe[3]=[k[Y+1][0],k[Y+1][1]],this.drawingContext.bezierCurveTo(oe[1][0],oe[1][1],oe[2][0],oe[2][1],oe[3][0],oe[3][1]);te&&this.drawingContext.lineTo(k[Y+1][0],k[Y+1][1]),this._doFillStrokeClose(te)}}else if(T&&null===q){for(this._clipping||this.drawingContext.beginPath(),Y=0;Y<z;Y++)k[Y].isVert?k[Y].moveTo?this.drawingContext.moveTo(k[Y][0],k[Y][1]):this.drawingContext.lineTo(k[Y][0],k[Y][1]):this.drawingContext.bezierCurveTo(k[Y][0],k[Y][1],k[Y][2],k[Y][3],k[Y][4],k[Y][5]);this._doFillStrokeClose(te)}else if(I&&null===q){for(this._clipping||this.drawingContext.beginPath(),Y=0;Y<z;Y++)k[Y].isVert?k[Y].moveTo?this.drawingContext.moveTo(k[Y][0],k[Y][1]):this.drawingContext.lineTo(k[Y][0],k[Y][1]):this.drawingContext.quadraticCurveTo(k[Y][0],k[Y][1],k[Y][2],k[Y][3]);this._doFillStrokeClose(te)}else if(q===m.POINTS)for(Y=0;Y<z;Y++)K=k[Y],this._doStroke&&this._pInst.stroke(K[6]),this._pInst.point(K[0],K[1]);else if(q===m.LINES)for(Y=0;Y+1<z;Y+=2)K=k[Y],this._doStroke&&this._pInst.stroke(k[Y+1][6]),this._pInst.line(K[0],K[1],k[Y+1][0],k[Y+1][1]);else if(q===m.TRIANGLES)for(Y=0;Y+2<z;Y+=3)K=k[Y],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(K[0],K[1]),this.drawingContext.lineTo(k[Y+1][0],k[Y+1][1]),this.drawingContext.lineTo(k[Y+2][0],k[Y+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(k[Y+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(k[Y+2][6]),this.drawingContext.stroke());else if(q===m.TRIANGLE_STRIP)for(Y=0;Y+1<z;Y++)K=k[Y],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(k[Y+1][0],k[Y+1][1]),this.drawingContext.lineTo(K[0],K[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(k[Y+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(k[Y+1][5]),Y+2<z&&(this.drawingContext.lineTo(k[Y+2][0],k[Y+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(k[Y+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(k[Y+2][5])),this._doFillStrokeClose(te);else if(q===m.TRIANGLE_FAN){if(2<z){for(this._clipping||this.drawingContext.beginPath(),Y=2;Y<z;Y++)K=k[Y],this.drawingContext.moveTo(k[0][0],k[0][1]),this.drawingContext.lineTo(k[Y-1][0],k[Y-1][1]),this.drawingContext.lineTo(K[0],K[1]),this.drawingContext.lineTo(k[0][0],k[0][1]),Y<z-1&&(this._doFill&&K[5]!==k[Y+1][5]||this._doStroke&&K[6]!==k[Y+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(K[5]),this.drawingContext.fill(),this._pInst.fill(k[Y+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(K[6]),this.drawingContext.stroke(),this._pInst.stroke(k[Y+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(te)}}else if(q===m.QUADS)for(Y=0;Y+3<z;Y+=4){for(K=k[Y],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(K[0],K[1]),ie=1;ie<4;ie++)this.drawingContext.lineTo(k[Y+ie][0],k[Y+ie][1]);this.drawingContext.lineTo(K[0],K[1]),!this._clipping&&this._doFill&&this._pInst.fill(k[Y+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(k[Y+3][6]),this._doFillStrokeClose(te)}else if(q===m.QUAD_STRIP){if(3<z)for(Y=0;Y+1<z;Y+=2)K=k[Y],this._clipping||this.drawingContext.beginPath(),Y+3<z?(this.drawingContext.moveTo(k[Y+2][0],k[Y+2][1]),this.drawingContext.lineTo(K[0],K[1]),this.drawingContext.lineTo(k[Y+1][0],k[Y+1][1]),this.drawingContext.lineTo(k[Y+3][0],k[Y+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(k[Y+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(k[Y+3][6])):(this.drawingContext.moveTo(K[0],K[1]),this.drawingContext.lineTo(k[Y+1][0],k[Y+1][1])),this._doFillStrokeClose(te)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(k[0][0],k[0][1]),Y=1;Y<z;Y++)(K=k[Y]).isVert&&(K.moveTo?(te&&this.drawingContext.closePath(),this.drawingContext.moveTo(K[0],K[1])):this.drawingContext.lineTo(K[0],K[1]));this._doFillStrokeClose(te)}M=I=T=U=!1,te&&k.pop()}return this}},{key:"strokeCap",value:function(j){return j!==m.ROUND&&j!==m.SQUARE&&j!==m.PROJECT||(this.drawingContext.lineCap=j),this}},{key:"strokeJoin",value:function(j){return j!==m.ROUND&&j!==m.BEVEL&&j!==m.MITER||(this.drawingContext.lineJoin=j),this}},{key:"strokeWeight",value:function(j){return this.drawingContext.lineWidth=void 0===j||0===j?1e-4:j,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(j){j!==this._cachedFillStyle&&(this.drawingContext.fillStyle=j,this._cachedFillStyle=j)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(j){j!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=j,this._cachedStrokeStyle=j)}},{key:"bezier",value:function(j,k,U,T,I,M,q,K){return this._pInst.beginShape(),this._pInst.vertex(j,k),this._pInst.bezierVertex(U,T,I,M,q,K),this._pInst.endShape(),this}},{key:"curve",value:function(j,k,U,T,I,M,q,K){return this._pInst.beginShape(),this._pInst.curveVertex(j,k),this._pInst.curveVertex(U,T),this._pInst.curveVertex(I,M),this._pInst.curveVertex(q,K),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(j){j&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(j,k,U,T,I,M){this.drawingContext.transform(j,k,U,T,I,M)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(j){this.drawingContext.rotate(j)}},{key:"scale",value:function(j,k){return this.drawingContext.scale(j,k),this}},{key:"translate",value:function(j,k){return j instanceof p.default.Vector&&(k=j.y,j=j.x),this.drawingContext.translate(j,k),this}},{key:"_renderText",value:function(j,k,U,T,I,M){if(!(T<M||I<=T))return j.push(),this._isOpenType()?this._textFont._renderPath(k,U,T,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(k,U,T),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(m._DEFAULT_TEXT_FILL),this.drawingContext.fillText(k,U,T))),j.pop(),j}},{key:"textWidth",value:function(j){return this._isOpenType()?this._textFont._textWidth(j,this._textSize):this.drawingContext.measureText(j).width}},{key:"_applyTextProperties",value:function(){var j=this._pInst,k=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),k=this._textFont,this._isOpenType()&&(k=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),k||"sans-serif");return/\s/.exec(k)&&(k='"'.concat(k,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(k),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===m.CENTER?m._CTX_MIDDLE:this._textBaseline,j}},{key:"push",value:function(){return this.drawingContext.save(),s(c(F.prototype),"push",this).call(this)}},{key:"pop",value:function(j){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s(c(F.prototype),"pop",this).call(this,j)}}])&&x(b.prototype,f),F}(p.default.Renderer);l.prototype.text=function(f,b,D,k,F){var j;return void 0!==k&&this.drawingContext.textBaseline===m.BASELINE&&(j=!0,this.drawingContext.textBaseline=m.TOP),k=p.default.Renderer.prototype.text.apply(this,arguments),j&&(this.drawingContext.textBaseline=m.BASELINE),k},p.default.Renderer2D=l,w.default=y=p.default.Renderer2D},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var _=(o=o("./main"))&&o.__esModule?o:{default:o};function d(){return{}}_.default.prototype._promisePreloads=[];var p=!(_.default.prototype.registerPromisePreload=function(m){_.default.prototype._promisePreloads.push(m)});_.default.prototype._setupPromisePreloads=function(){var m=!0,C=!1,x=void 0;try{for(var s,a=this._promisePreloads[Symbol.iterator]();!(m=(s=a.next()).done);m=!0){var h=s.value,c=this,u=h.method,l=h.addCallbacks,y=h.legacyPreloadSetup,f=h.target||this,b=f[u].bind(f);if(f===_.default.prototype){if(p)continue;c=null,b=f[u]}f[u]=this._wrapPromisePreload(c,b,l),y&&(f[y.method]=this._legacyPreloadGenerator(c,y,f[u]))}}catch(D){C=!0,x=D}finally{try{m||null==a.return||a.return()}finally{if(C)throw x}}p=!0},_.default.prototype._wrapPromisePreload=function(m,C,x){var s=function(){for(var a=this,h=(this._incrementPreload(),null),c=null,u=arguments.length,l=new Array(u),y=0;y<u;y++)l[y]=arguments[y];if(x)for(var f=l.length-1;0<=f&&!c&&"function"==typeof l[f];f--)c=h,h=l.pop();var b=Promise.resolve(C.apply(this,l));return h&&b.then(h),c&&b.catch(c),b.then(function(){return a._decrementPreload()}),b};return m?s.bind(m):s},_.default.prototype._legacyPreloadGenerator=function(m,a,x){var s=a.createBaseObject||d;return a=function(){var h=this;this._incrementPreload();for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];var y=s.apply(this,u);return x.apply(this,u).then(function(f){Object.assign(y,f),h._decrementPreload()}),y},m?a.bind(m):a}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(o,V,w){"use strict";function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var d=(s=o("./main"))&&s.__esModule?s:{default:s},p=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==C(a)&&"function"!=typeof a)return{default:a};var h=m();if(h&&h.has(a))return h.get(a);var c,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var y;Object.prototype.hasOwnProperty.call(a,c)&&((y=l?Object.getOwnPropertyDescriptor(a,c):null)&&(y.get||y.set)?Object.defineProperty(u,c,y):u[c]=a[c])}return u.default=a,h&&h.set(a,u),u}(o("./constants"));function m(){var a;return"function"!=typeof WeakMap?null:(m=function(){return a},a=new WeakMap)}function C(a){return(C="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(h){return _(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":_(h)})(a)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var x="defaultCanvas0",s=(d.default.prototype.createCanvas=function(a,h,c,u){var l,y,f;if(d.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(c=p.P2D,u=arguments[2]):l=c||p.P2D,u)(f=document.getElementById(x))&&f.parentNode.removeChild(f),f=u,this._defaultGraphicsCreated=!1;else{if(l===p.WEBGL)(f=document.getElementById(x))&&(f.parentNode.removeChild(f),y=this._renderer,this._elements=this._elements.filter(function(D){return D!==y})),(f=document.createElement("canvas")).id=x,f.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)f=this.canvas;else{f=u||document.createElement("canvas");for(var b=0;document.getElementById("defaultCanvas".concat(b));)b++;x="defaultCanvas".concat(b),f.id=x,f.classList.add("p5Canvas")}this._setupDone||(f.dataset.hidden=!0,f.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(c=document.createElement("main"),document.body.appendChild(c)),document.getElementsByTagName("main")[0])).appendChild(f)}return l===p.WEBGL?(this._setProperty("_renderer",new d.default.RendererGL(f,this,!0)),this._elements.push(this._renderer),a=(u=this._renderer._adjustDimensions(a,h)).adjustedWidth,h=u.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new d.default.Renderer2D(f,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(a,h),this._renderer._applyDefaults(),this._renderer},d.default.prototype.resizeCanvas=function(a,h,c){if(d.default._validateParameters("resizeCanvas",arguments),this._renderer){var u,l,y,f={};for(u in this.drawingContext){var b=this.drawingContext[u];"object"!==C(b)&&"function"!=typeof b&&(f[u]=b)}for(y in this._renderer instanceof d.default.RendererGL&&(a=(l=this._renderer._adjustDimensions(a,h)).adjustedWidth,h=l.adjustedHeight),this.width=a,this.height=h,this._renderer.resize(a,h),f)try{this.drawingContext[y]=f[y]}catch{}c||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},d.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},d.default.prototype.createGraphics=function(a,h){for(var c=arguments.length,u=new Array(2<c?c-2:0),l=2;l<c;l++)u[l-2]=arguments[l];return u[0]instanceof HTMLCanvasElement&&(u[1]=u[0],u[0]=p.P2D),d.default._validateParameters("createGraphics",arguments),new d.default.Graphics(a,h,u[0],this,u[1])},d.default.prototype.createFramebuffer=function(a){return new d.default.Framebuffer(this,a)},d.default.prototype.clearDepth=function(a){this._assert3d("clearDepth"),this._renderer.clearDepth(a)},d.default.prototype.blendMode=function(a){d.default._validateParameters("blendMode",arguments),a===p.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),a=p.BLEND),this._renderer.blendMode(a)},d.default);w.default=s},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(o,V,w){"use strict";function _(h){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}function d(h){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(c){return _(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":_(c)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=s(o("../main")),m=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==d(h)&&"function"!=typeof h)return{default:h};var c=x();if(c&&c.has(h))return c.get(h);var u,l={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h){var f;Object.prototype.hasOwnProperty.call(h,u)&&((f=y?Object.getOwnPropertyDescriptor(h,u):null)&&(f.get||f.set)?Object.defineProperty(l,u,f):l[u]=h[u])}return l.default=h,c&&c.set(h,l),l}(o("../constants")),C=s(o("../helpers"));function x(){var h;return"function"!=typeof WeakMap?null:(x=function(){return h},h=new WeakMap)}function s(h){return h&&h.__esModule?h:{default:h}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),p.default.prototype._normalizeArcAngles=function(h,c,u,l,y){var f;return h-=m.TWO_PI*Math.floor(h/m.TWO_PI),c-=m.TWO_PI*Math.floor(c/m.TWO_PI),f=Math.min(Math.abs(h-c),m.TWO_PI-Math.abs(h-c)),y&&(h=h<=m.HALF_PI?Math.atan(u/l*Math.tan(h)):h>m.HALF_PI&&h<=3*m.HALF_PI?Math.atan(u/l*Math.tan(h))+m.PI:Math.atan(u/l*Math.tan(h))+m.TWO_PI,c=c<=m.HALF_PI?Math.atan(u/l*Math.tan(c)):c>m.HALF_PI&&c<=3*m.HALF_PI?Math.atan(u/l*Math.tan(c))+m.PI:Math.atan(u/l*Math.tan(c))+m.TWO_PI),c<h&&(c+=m.TWO_PI),{start:h,stop:c,correspondToSamePoint:f<1e-5}},p.default.prototype.arc=function(h,c,u,l,y,f,b,D){return p.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&y!==f&&(y=this._toRadians(y),f=this._toRadians(f),u=Math.abs(u),l=Math.abs(l),h=C.default.modeAdjust(h,c,u,l,this._renderer._ellipseMode),(c=this._normalizeArcAngles(y,f,h.w,h.h,!0)).correspondToSamePoint?this._renderer.ellipse([h.x,h.y,h.w,h.h,D]):(this._renderer.arc(h.x,h.y,h.w,h.h,c.start,c.stop,b,D),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[h.x,h.y,h.w,h.h,c.start,c.stop,b]))),this},p.default.prototype.ellipse=function(h,c,u,l,y){return p.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},p.default.prototype.circle=function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];p.default._validateParameters("circle",c);var l=c.slice(0,2);return l.push(c[2],c[2]),this._renderEllipse.apply(this,function a(h){return function(c){if(Array.isArray(c)){for(var u=0,l=new Array(c.length);u<c.length;u++)l[u]=c[u];return l}}(h)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(l))},p.default.prototype._renderEllipse=function(h,c,u,l,y){return(this._renderer._doStroke||this._renderer._doFill)&&(u<0&&(u=Math.abs(u)),void 0===l?l=u:l<0&&(l=Math.abs(l)),h=C.default.modeAdjust(h,c,u,l,this._renderer._ellipseMode),this._renderer.ellipse([h.x,h.y,h.w,h.h,y]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[h.x,h.y,h.w,h.h])),this},p.default.prototype.line=function(){for(var h,c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return p.default._validateParameters("line",u),this._renderer._doStroke&&(h=this._renderer).line.apply(h,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",u),this},p.default.prototype.point=function(){for(var h,c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return p.default._validateParameters("point",u),this._renderer._doStroke&&(1===u.length&&u[0]instanceof p.default.Vector?this._renderer.point.call(this._renderer,u[0].x,u[0].y,u[0].z):((h=this._renderer).point.apply(h,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",u))),this},p.default.prototype.quad=function(){for(var h,c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return p.default._validateParameters("quad",u),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&u.length<12?this._renderer.quad.call(this._renderer,u[0],u[1],0,u[2],u[3],0,u[4],u[5],0,u[6],u[7],0,u[8],u[9]):((h=this._renderer).quad.apply(h,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",u))),this},p.default.prototype.rect=function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];return p.default._validateParameters("rect",c),this._renderRect.apply(this,c)},p.default.prototype.square=function(h,c,u,l,y,f,b){return p.default._validateParameters("square",arguments),this._renderRect.call(this,h,c,u,u,l,y,f,b)},p.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var h=C.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),c=[h.x,h.y,h.w,h.h],u=4;u<arguments.length;u++)c[u]=arguments[u];this._renderer.rect(c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[h.x,h.y,h.w,h.h])}return this},p.default.prototype.triangle=function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];return p.default._validateParameters("triangle",c),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",c),this},w.default=o=p.default},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(o,V,w){"use strict";function _(s){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function d(s){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(a){return _(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_(a)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(x=o("../main"))&&x.__esModule?x:{default:x},m=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==d(s)&&"function"!=typeof s)return{default:s};var a=C();if(a&&a.has(s))return a.get(s);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in s){var l;Object.prototype.hasOwnProperty.call(s,h)&&((l=u?Object.getOwnPropertyDescriptor(s,h):null)&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=s[h])}return c.default=s,a&&a.set(s,c),c}(o("../constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}p.default.prototype.ellipseMode=function(s){return p.default._validateParameters("ellipseMode",arguments),s!==m.CORNER&&s!==m.CORNERS&&s!==m.RADIUS&&s!==m.CENTER||(this._renderer._ellipseMode=s),this},p.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},p.default.prototype.rectMode=function(s){return p.default._validateParameters("rectMode",arguments),s!==m.CORNER&&s!==m.CORNERS&&s!==m.RADIUS&&s!==m.CENTER||(this._renderer._rectMode=s),this},p.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},p.default.prototype.strokeCap=function(s){return p.default._validateParameters("strokeCap",arguments),s!==m.ROUND&&s!==m.SQUARE&&s!==m.PROJECT||this._renderer.strokeCap(s),this},p.default.prototype.strokeJoin=function(s){return p.default._validateParameters("strokeJoin",arguments),s!==m.ROUND&&s!==m.BEVEL&&s!==m.MITER||this._renderer.strokeJoin(s),this},p.default.prototype.strokeWeight=function(s){return p.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(s),this};var x=p.default;w.default=x},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(o,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(d=o("../main"))&&d.__esModule?d:{default:d};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),_.default.prototype.bezier=function(){for(var p,m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];return _.default._validateParameters("bezier",C),(this._renderer._doStroke||this._renderer._doFill)&&(p=this._renderer).bezier.apply(p,C),this},_.default.prototype.bezierDetail=function(p){return _.default._validateParameters("bezierDetail",arguments),this._bezierDetail=p,this},_.default.prototype.bezierPoint=function(p,m,C,x,s){_.default._validateParameters("bezierPoint",arguments);var a=1-s;return Math.pow(a,3)*p+3*Math.pow(a,2)*s*m+3*a*Math.pow(s,2)*C+Math.pow(s,3)*x},_.default.prototype.bezierTangent=function(p,m,C,x,s){_.default._validateParameters("bezierTangent",arguments);var a=1-s;return 3*x*Math.pow(s,2)-3*C*Math.pow(s,2)+6*C*a*s-6*m*a*s+3*m*Math.pow(a,2)-3*p*Math.pow(a,2)},_.default.prototype.curve=function(){for(var p,m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];return _.default._validateParameters("curve",C),this._renderer._doStroke&&(p=this._renderer).curve.apply(p,C),this},_.default.prototype.curveDetail=function(p){return _.default._validateParameters("curveDetail",arguments),this._curveDetail=p<3?3:p,this},_.default.prototype.curveTightness=function(p){return _.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=p,this},_.default.prototype.curvePoint=function(p,m,C,x,s){_.default._validateParameters("curvePoint",arguments);var a=this._renderer._curveTightness,h=s*s*s,c=s*s;return p*((a-1)/2*h+(1-a)*c+(a-1)/2*s)+m*((a+3)/2*h+(-5-a)/2*c+1)+C*((-3-a)/2*h+(a+2)*c+(1-a)/2*s)+x*((1-a)/2*h+(a-1)/2*c)},_.default.prototype.curveTangent=function(p,m,C,x,c){_.default._validateParameters("curveTangent",arguments);var a=this._renderer._curveTightness,h=c*c*3;return p*((a-1)/2*h+(1-a)*(c*=2)+(a-1)/2)+m*((a+3)/2*h+(-5-a)/2*c)+C*((-3-a)/2*h+(a+2)*c+(1-a)/2)+x*((1-a)/2*h+(a-1)/2*c)};var d=_.default;w.default=d},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(o,V,w){"use strict";function _(b){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(b)}function d(b){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(D){return _(D)}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":_(D)})(b)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(f=o("../main"))&&f.__esModule?f:{default:f},m=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==d(b)&&"function"!=typeof b)return{default:b};var D=C();if(D&&D.has(b))return D.get(b);var B,F={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(B in b){var k;Object.prototype.hasOwnProperty.call(b,B)&&((k=j?Object.getOwnPropertyDescriptor(b,B):null)&&(k.get||k.set)?Object.defineProperty(F,B,k):F[B]=b[B])}return F.default=b,D&&D.set(b,F),F}(o("../constants"));function C(){var b;return"function"!=typeof WeakMap?null:(C=function(){return b},b=new WeakMap)}var x=null,s=[],a=[],h=!1,c=!1,u=!1,l=!1,y=!0,f=(p.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(a=[],l=!0),this},p.default.prototype.beginShape=function(b){var D;return p.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(D=this._renderer).beginShape.apply(D,arguments):(x=b===m.POINTS||b===m.LINES||b===m.TRIANGLES||b===m.TRIANGLE_FAN||b===m.TRIANGLE_STRIP||b===m.QUADS||b===m.QUAD_STRIP?b:null,s=[],a=[]),this},p.default.prototype.bezierVertex=function(){for(var b,D=arguments.length,B=new Array(D),F=0;F<D;F++)B[F]=arguments[F];if(p.default._validateParameters("bezierVertex",B),this._renderer.isP3D)(b=this._renderer).bezierVertex.apply(b,B);else if(0===s.length)p.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{h=!0;for(var j=[],k=0;k<B.length;k++)j[k]=B[k];j.isVert=!1,(l?a:s).push(j)}return this},p.default.prototype.curveVertex=function(){for(var b,D=arguments.length,B=new Array(D),F=0;F<D;F++)B[F]=arguments[F];return p.default._validateParameters("curveVertex",B),this._renderer.isP3D?(b=this._renderer).curveVertex.apply(b,B):(c=!0,this.vertex(B[0],B[1])),this},p.default.prototype.endContour=function(){if(!this._renderer.isP3D){var b=a[0].slice();b.isVert=a[0].isVert,b.moveTo=!1,a.push(b),y&&(s.push(s[0]),y=!1);for(var D=0;D<a.length;D++)s.push(a[D])}return this},p.default.prototype.endShape=function(b){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(p.default._validateParameters("endShape",arguments),D<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),D=1),this._renderer.isP3D)this._renderer.endShape(b,c,h,u,l,x,D);else{if(1!==D&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===s.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(D=b===m.CLOSE)&&!l&&s.push(s[0]),this._renderer.endShape(b,s,c,h,u,l,x),y=!(l=u=h=c=!1),D&&s.pop()}return this},p.default.prototype.quadraticVertex=function(){for(var b,D=arguments.length,B=new Array(D),F=0;F<D;F++)B[F]=arguments[F];if(p.default._validateParameters("quadraticVertex",B),this._renderer.isP3D)(b=this._renderer).quadraticVertex.apply(b,B);else{if(this._contourInited)return(b={}).x=B[0],b.y=B[1],b.x3=B[2],b.y3=B[3],b.type=m.QUADRATIC,this._contourVertices.push(b),this;if(0<s.length){u=!0;for(var j=[],k=0;k<B.length;k++)j[k]=B[k];j.isVert=!1,(l?a:s).push(j)}else p.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},p.default.prototype.vertex=function(b,D,B,F,j){var k;return this._renderer.isP3D?(k=this._renderer).vertex.apply(k,arguments):((k=[]).isVert=!0,k[0]=b,k[1]=D,k[2]=0,k[3]=0,k[4]=0,k[5]=this._renderer._getFill(),k[6]=this._renderer._getStroke(),B&&(k.moveTo=B),(l?(0===a.length&&(k.moveTo=!0),a):s).push(k)),this},p.default.prototype.normal=function(b,D,B){var F;return this._assert3d("normal"),p.default._validateParameters("normal",arguments),(F=this._renderer).normal.apply(F,arguments),this},p.default);w.default=f},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(o,V,w){},{}],292:[function(o,V,w){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var _=this._styles.pop();_?(this._renderer.pop(_.renderer),Object.assign(this,_.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(_){if(!this._inUserDraw&&this._setupDone){var d=parseInt(_),p=((isNaN(d)||d<1)&&(d=1),this._isGlobal?window:this);if("function"==typeof p.draw){void 0===p.setup&&p.scale(p._pixelDensity,p._pixelDensity);for(var m=0;m<d;m++){p.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),p._renderer.isP3D&&p._renderer._update(),p._setProperty("frameCount",p.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{p.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},w.default=o=o.default},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("./main"))&&o.__esModule?o:{default:o};_.default.prototype.applyMatrix=function(){var p=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||p?(p=this._renderer).applyMatrix.apply(p,function d(p){return function(m){if(Array.isArray(m)){for(var C=0,x=new Array(m.length);C<m.length;C++)x[C]=m[C];return x}}(p)||function(m){if(Symbol.iterator in Object(m)||"[object Arguments]"===Object.prototype.toString.call(m))return Array.from(m)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(p=this._renderer).applyMatrix.apply(p,arguments),this},_.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},_.default.prototype.rotate=function(p,m){return _.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(p),m),this},_.default.prototype.rotateX=function(p){return this._assert3d("rotateX"),_.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(p)),this},_.default.prototype.rotateY=function(p){return this._assert3d("rotateY"),_.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(p)),this},_.default.prototype.rotateZ=function(p){return this._assert3d("rotateZ"),_.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(p)),this},_.default.prototype.scale=function(p,m,C){var x;return _.default._validateParameters("scale",arguments),p instanceof _.default.Vector?(p=(x=p).x,m=x.y,C=x.z):Array.isArray(p)&&(p=(x=p)[0],m=x[1],C=x[2]||1),isNaN(m)?m=C=p:isNaN(C)&&(C=1),this._renderer.scale(p,m,C),this},_.default.prototype.shearX=function(p){return _.default._validateParameters("shearX",arguments),p=this._toRadians(p),this._renderer.applyMatrix(1,0,Math.tan(p),1,0,0),this},_.default.prototype.shearY=function(p){return _.default._validateParameters("shearY",arguments),p=this._toRadians(p),this._renderer.applyMatrix(1,Math.tan(p),0,1,0,0),this},_.default.prototype.translate=function(p,m,C){return _.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(p,m,C):this._renderer.translate(p,m),this},w.default=o=_.default},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(o,V,w){"use strict";function _(C){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var d=(o=o("../core/main"))&&o.__esModule?o:{default:o};function p(C){return function(x){if(Array.isArray(x)){for(var s=0,a=new Array(x.length);s<x.length;s++)a[s]=x[s];return a}}(C)||function(x){if(Symbol.iterator in Object(x)||"[object Arguments]"===Object.prototype.toString.call(x))return Array.from(x)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(C){return(m="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(x){return _(x)}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":_(x)})(C)}d.default.prototype.storeItem=function(C,x){"string"!=typeof C&&console.log("The argument that you passed to storeItem() - ".concat(C," is not a string.")),C.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(C," must not end with 'p5TypeID'.")),void 0===x&&console.log("You cannot store undefined variables using storeItem().");var s=m(x);switch(s){case"number":case"boolean":x=x.toString();break;case"object":x instanceof d.default.Color?s="p5.Color":x instanceof d.default.Vector&&(s="p5.Vector",x=[x.x,x.y,x.z]),x=JSON.stringify(x)}localStorage.setItem(C,x),C="".concat(C,"p5TypeID"),localStorage.setItem(C,s)},d.default.prototype.getItem=function(C){var x=localStorage.getItem(C),s=localStorage.getItem("".concat(C,"p5TypeID"));if(void 0===s)console.log("Unable to determine type of item stored under ".concat(C,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==x)switch(s){case"number":x=parseFloat(x);break;case"boolean":x="true"===x;break;case"object":x=JSON.parse(x);break;case"p5.Color":x=JSON.parse(x),x=this.color.apply(this,p(x.levels));break;case"p5.Vector":x=JSON.parse(x),x=this.createVector.apply(this,p(x))}return x},d.default.prototype.clearStorage=function(){localStorage.clear()},d.default.prototype.removeItem=function(C){"string"!=typeof C&&console.log("The argument that you passed to removeItem() - ".concat(C," is not a string.")),localStorage.removeItem(C),localStorage.removeItem("".concat(C,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],295:[function(o,V,w){"use strict";function _(u){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function d(u){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(l){return _(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":_(l)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(o=o("../core/main"))&&o.__esModule?o:{default:o};function m(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&C(u,l)}function C(u,l){return(C=Object.setPrototypeOf||function(y,f){return y.__proto__=f,y})(u,l)}function x(u){return function(){var l,y=s(u);if(l=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(l=s(this).constructor,Reflect.construct(y,arguments,l)):y.apply(this,arguments),y=this,!l||"object"!==d(l)&&"function"!=typeof l){if(void 0!==y)return y;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return l}}function s(u){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(u)}function a(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function h(u,l){for(var y=0;y<l.length;y++){var f=l[y];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function c(u,l,y){l&&h(u.prototype,l),y&&h(u,y)}p.default.prototype.createStringDict=function(u,l){return p.default._validateParameters("createStringDict",arguments),new p.default.StringDict(u,l)},p.default.prototype.createNumberDict=function(u,l){return p.default._validateParameters("createNumberDict",arguments),new p.default.NumberDict(u,l)},p.default.TypedDict=function(){function u(l,y){return a(this,u),l instanceof Object?this.data=l:(this.data={},this.data[l]=y),this}return c(u,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(l){return this.data.hasOwnProperty(l)}},{key:"get",value:function(l){if(this.data.hasOwnProperty(l))return this.data[l];console.log("".concat(l," does not exist in this Dictionary"))}},{key:"set",value:function(l,y){this._validate(y)?this.data[l]=y:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(l){for(var y in l)this.set(y,l[y])}},{key:"create",value:function(l,y){l instanceof Object&&void 0===y?this._addObj(l):void 0!==l?this.set(l,y):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(l){if(!this.data.hasOwnProperty(l))throw new Error("".concat(l," does not exist in this Dictionary"));delete this.data[l]}},{key:"print",value:function(){for(var l in this.data)console.log("key:".concat(l," value:").concat(this.data[l]))}},{key:"saveTable",value:function(l){var y,f="";for(y in this.data)f+="".concat(y,",").concat(this.data[y],"\n");var b=new Blob([f],{type:"text/csv"});p.default.prototype.downloadFile(b,l||"mycsv","csv")}},{key:"saveJSON",value:function(l,y){p.default.prototype.saveJSON(this.data,l,y)}},{key:"_validate",value:function(l){return!0}}]),u}(),p.default.StringDict=function(){m(l,p.default.TypedDict);var u=x(l);function l(){a(this,l);for(var y=arguments.length,f=new Array(y),b=0;b<y;b++)f[b]=arguments[b];return u.call.apply(u,[this].concat(f))}return c(l,[{key:"_validate",value:function(y){return"string"==typeof y}}]),l}(),p.default.NumberDict=function(){m(l,p.default.TypedDict);var u=x(l);function l(){a(this,l);for(var y=arguments.length,f=new Array(y),b=0;b<y;b++)f[b]=arguments[b];return u.call.apply(u,[this].concat(f))}return c(l,[{key:"_validate",value:function(y){return"number"==typeof y}},{key:"add",value:function(y,f){this.data.hasOwnProperty(y)?this.data[y]+=f:console.log("The key - ".concat(y," does not exist in this dictionary."))}},{key:"sub",value:function(y,f){this.add(y,-f)}},{key:"mult",value:function(y,f){this.data.hasOwnProperty(y)?this.data[y]*=f:console.log("The key - ".concat(y," does not exist in this dictionary."))}},{key:"div",value:function(y,f){this.data.hasOwnProperty(y)?this.data[y]/=f:console.log("The key - ".concat(y," does not exist in this dictionary."))}},{key:"_valueTest",value:function(y){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var f,b=this.data[Object.keys(this.data)[0]];for(f in this.data)this.data[f]*y<b*y&&(b=this.data[f]);return b}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(y){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var f=Object.keys(this.data)[0],b=1;b<Object.keys(this.data).length;b++)Object.keys(this.data)[b]*y<f*y&&(f=Object.keys(this.data)[b]);return f}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),l}(),w.default=o=p.default.TypedDict},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(o,V,w){"use strict";function _(f){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var d=(o=o("../core/main"))&&o.__esModule?o:{default:o};function p(f,b){for(var D=0;D<b.length;D++){var B=b[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(f,B.key,B)}}function m(f,b,D){b&&p(f.prototype,b),D&&p(f,D)}function C(f,b){return(C=Object.setPrototypeOf||function(D,B){return D.__proto__=B,D})(f,b)}function s(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function a(f){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(f)}function h(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}function c(f){return(c="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(b){return _(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_(b)})(f)}function u(f,b,D){return(b._userNode||document.body).appendChild(f),D=new(D?d.default.MediaElement:d.default.Element)(f,b),b._elements.push(D),D}function l(f,k,D,B){var F=document.createElement(k),j=("string"==typeof(D=D||"")&&(D=[D]),!0),U=void(k=!1);try{for(var T,I=D[Symbol.iterator]();!(j=(T=I.next()).done);j=!0){var M=T.value,q=document.createElement("source");q.setAttribute("src",M),F.appendChild(q)}}catch(Y){k=!0,U=Y}finally{try{j||null==I.return||I.return()}finally{if(k)throw U}}"function"==typeof B&&F.addEventListener("canplaythrough",function Y(){B(),F.removeEventListener("canplaythrough",Y)});var K=u(F,f,!0);return K.loadedmetadata=!1,F.addEventListener("loadedmetadata",function(){K.width=F.videoWidth,K.height=F.videoHeight,0===K.elt.width&&(K.elt.width=F.videoWidth),0===K.elt.height&&(K.elt.height=F.videoHeight),K.presetPlaybackRate&&(K.elt.playbackRate=K.presetPlaybackRate,delete K.presetPlaybackRate),K.loadedmetadata=!0}),K}function y(f,b,D,B){h(this,y),this.callback=f,this.time=b,this.id=D,this.val=B}d.default.prototype.select=function(f,b){return d.default._validateParameters("select",arguments),(b=this._getContainer(b).querySelector(f))?this._wrapElement(b):null},d.default.prototype.selectAll=function(f,b){d.default._validateParameters("selectAll",arguments);var D=[],B=this._getContainer(b).querySelectorAll(f);if(B)for(var F=0;F<B.length;F++){var j=this._wrapElement(B[F]);D.push(j)}return D},d.default.prototype._getContainer=function(f){var b=document;return"string"==typeof f?b=document.querySelector(f)||document:f instanceof d.default.Element?b=f.elt:f instanceof HTMLElement&&(b=f),b},d.default.prototype._wrapElement=function(f){var b,D=Array.prototype.slice.call(f.children);return"INPUT"===f.tagName&&"checkbox"===f.type?((b=new d.default.Element(f,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},b):"VIDEO"===f.tagName||"AUDIO"===f.tagName?new d.default.MediaElement(f,this):"SELECT"===f.tagName?this.createSelect(new d.default.Element(f,this)):0<D.length&&D.every(function(B){return"INPUT"===B.tagName||"LABEL"===B.tagName})?this.createRadio(new d.default.Element(f,this)):new d.default.Element(f,this)},d.default.prototype.removeElements=function(f){d.default._validateParameters("removeElements",arguments),this._elements.filter(function(b){return!(b.elt instanceof HTMLCanvasElement)}).map(function(b){return b.remove()})},d.default.Element.prototype.changed=function(f){return d.default.Element._adjustListener("change",f,this),this},d.default.Element.prototype.input=function(f){return d.default.Element._adjustListener("input",f,this),this},d.default.prototype.createDiv=function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("div");return b.innerHTML=f,u(b,this)},d.default.prototype.createP=function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("p");return b.innerHTML=f,u(b,this)},d.default.prototype.createSpan=function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("span");return b.innerHTML=f,u(b,this)},d.default.prototype.createImg=function(){d.default._validateParameters("createImg",arguments);var f,b=document.createElement("img"),D=arguments;return 1<D.length&&"string"==typeof D[1]&&(b.alt=D[1]),2<D.length&&"string"==typeof D[2]&&(b.crossOrigin=D[2]),b.src=D[0],f=u(b,this),b.addEventListener("load",function(){f.width=b.offsetWidth||b.width,f.height=b.offsetHeight||b.height;var B=D[D.length-1];"function"==typeof B&&B(f)}),f},d.default.prototype.createA=function(f,b,D){d.default._validateParameters("createA",arguments);var B=document.createElement("a");return B.href=f,B.innerHTML=b,D&&(B.target=D),u(B,this)},d.default.prototype.createSlider=function(f,b,D,B){d.default._validateParameters("createSlider",arguments);var F=document.createElement("input");return F.type="range",F.min=f,F.max=b,0===B?F.step=1e-18:B&&(F.step=B),"number"==typeof D&&(F.value=D),u(F,this)},d.default.prototype.createButton=function(f,b){d.default._validateParameters("createButton",arguments);var D=document.createElement("button");return D.innerHTML=f,b&&(D.value=b),u(D,this)},d.default.prototype.createCheckbox=function(){for(var f=arguments.length,b=new Array(f),D=0;D<f;D++)b[D]=arguments[D];d.default._validateParameters("createCheckbox",b);var B=document.createElement("div"),F=document.createElement("input"),j=(F.type="checkbox",document.createElement("label")),k=(j.appendChild(F),B.appendChild(j),u(B,this));return k.checked=function(){var U=k.elt.firstElementChild.getElementsByTagName("input")[0];if(U){if(0===arguments.length)return U.checked;U.checked=!(arguments.length<=0||!arguments[0])}return k},this.value=function(U){return k.value=U,this},b[0]&&(k.value(b[0]),(B=document.createElement("span")).innerHTML=b[0],j.appendChild(B)),b[1]&&(F.checked=!0),k},d.default.prototype.createSelect=function(){for(var f,b=arguments.length,D=new Array(b),B=0;B<b;B++)D[B]=arguments[B];d.default._validateParameters("createSelect",D);var F,j=D[0];return j instanceof d.default.Element&&j.elt instanceof HTMLSelectElement?this.elt=(f=j).elt:j instanceof HTMLSelectElement?(f=u(j,this),this.elt=j):(F=document.createElement("select"),j&&"boolean"==typeof j&&F.setAttribute("multiple","true"),f=u(F,this),this.elt=F),f.option=function(k,U){var T;if(void 0!==k){for(var I,M=0;M<this.elt.length;M+=1)if(this.elt[M].textContent===k){T=M;break}void 0!==T?!1===U?this.elt.remove(T):this.elt[T].value=U:((I=document.createElement("option")).textContent=k,I.value=void 0===U?k:U,this.elt.appendChild(I),this._pInst._elements.push(I))}},f.selected=function(k){if(void 0!==k){for(var U=0;U<this.elt.length;U+=1)this.elt[U].value.toString()===k.toString()&&(this.elt.selectedIndex=U);return this}if(this.elt.getAttribute("multiple")){var T=[],I=!0,M=!1,q=void 0;try{for(var K,Y=this.elt.selectedOptions[Symbol.iterator]();!(I=(K=Y.next()).done);I=!0)T.push(K.value.value)}catch(te){M=!0,q=te}finally{try{I||null==Y.return||Y.return()}finally{if(M)throw q}}return T}return this.elt.value},f.disable=function(k){if("string"==typeof k)for(var U=0;U<this.elt.length;U++)this.elt[U].value.toString()===k&&(this.elt[U].disabled=!0,this.elt[U].selected=!1);else this.elt.disabled=!0;return this},f.enable=function(k){if("string"==typeof k)for(var U=0;U<this.elt.length;U++)this.elt[U].value.toString()===k&&(this.elt[U].disabled=!1,this.elt[U].selected=!1);else{this.elt.disabled=!1;for(var T=0;T<this.elt.length;T++)this.elt[T].disabled=!1,this.elt[T].selected=!1}return this},f},d.default.prototype.createRadio=function(){function f(k){return k instanceof HTMLInputElement&&"radio"===k.type}function b(k){return k instanceof HTMLLabelElement}var D,B,F,j=arguments.length<=0?void 0:arguments[0];return j instanceof d.default.Element&&(j.elt instanceof HTMLDivElement||j.elt instanceof HTMLSpanElement)?(D=j,this.elt=j.elt):j instanceof HTMLDivElement||j instanceof HTMLSpanElement?(D=u(j,this),B=this.elt=j,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(F=arguments.length<=1?void 0:arguments[1])):("string"==typeof j&&(F=j),B=document.createElement("div"),D=u(B,this),this.elt=B),D._name=F||"radioOption",D._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(k){return f(k)||b(k)&&f(k.firstElementChild)}).map(function(k){return f(k)?k:k.firstElementChild})},D.option=function(k,U){var T,I,M,q=!0,K=!1,Y=void 0;try{for(var ie,te=D._getOptionsArray()[Symbol.iterator]();!(q=(ie=te.next()).done);q=!0){var z=ie.value;if(z.value===k){T=z;break}}}catch(oe){K=!0,Y=oe}finally{try{q||null==te.return||te.return()}finally{if(K)throw Y}}return void 0===T&&((T=document.createElement("input")).setAttribute("type","radio"),T.setAttribute("value",k)),T.setAttribute("name",D._name),b(T.parentElement)?I=T.parentElement:(I=document.createElement("label")).insertAdjacentElement("afterbegin",T),I.lastElementChild instanceof HTMLSpanElement?M=I.lastElementChild:(M=document.createElement("span"),T.insertAdjacentElement("afterend",M)),M.innerHTML=void 0===U?k:U,this.elt.appendChild(I),T},D.remove=function(k){var U=!0,T=!1,I=void 0;try{for(var M,q=D._getOptionsArray()[Symbol.iterator]();!(U=(M=q.next()).done);U=!0){var K=M.value;if(K.value===k)return void(b(K.parentElement)?K.parentElement:K).remove()}}catch(Y){T=!0,I=Y}finally{try{U||null==q.return||q.return()}finally{if(T)throw I}}},D.value=function(){var k="",U=!0,T=!1,I=void 0;try{for(var M,q=D._getOptionsArray()[Symbol.iterator]();!(U=(M=q.next()).done);U=!0){var K=M.value;if(K.checked){k=K.value;break}}}catch(Y){T=!0,I=Y}finally{try{U||null==q.return||q.return()}finally{if(T)throw I}}return k},D.selected=function(k){var U=null;if(void 0===k){var T=!0,I=!1,M=void 0;try{for(var q,K=D._getOptionsArray()[Symbol.iterator]();!(T=(q=K.next()).done);T=!0){var Y=q.value;if(Y.checked){U=Y;break}}}catch(le){I=!0,M=le}finally{try{T||null==K.return||K.return()}finally{if(I)throw M}}}else{D._getOptionsArray().forEach(function(W){W.checked=!1,W.removeAttribute("checked")});var ie=!0;I=!1,M=void 0;try{for(var te,z=D._getOptionsArray()[Symbol.iterator]();!(ie=(te=z.next()).done);ie=!0){var oe=te.value;oe.value===k&&(oe.setAttribute("checked",!0),oe.checked=!0,U=oe)}}catch(W){I=!0,M=W}finally{try{ie||null==z.return||z.return()}finally{if(I)throw M}}}return U},D.disable=function(){var k=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],U=!0,T=!1,I=void 0;try{for(var M,q=D._getOptionsArray()[Symbol.iterator]();!(U=(M=q.next()).done);U=!0)M.value.setAttribute("disabled",k)}catch(K){T=!0,I=K}finally{try{U||null==q.return||q.return()}finally{if(T)throw I}}},D},d.default.prototype.createColorPicker=function(f){d.default._validateParameters("createColorPicker",arguments);var b=document.createElement("input");return b.type="color",f?f instanceof d.default.Color?b.value=f.toString("#rrggbb"):(d.default.prototype._colorMode="rgb",d.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},b.value=d.default.prototype.color(f).toString("#rrggbb")):b.value="#000000",(b=u(b,this)).color=function(){return f&&(f.mode&&(d.default.prototype._colorMode=f.mode),f.maxes&&(d.default.prototype._colorMaxes=f.maxes)),d.default.prototype.color(this.elt.value)},b},d.default.prototype.createInput=function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",D=(d.default._validateParameters("createInput",arguments),document.createElement("input"));return D.setAttribute("value",f),D.setAttribute("type",b),u(D,this)},d.default.prototype.createFileInput=function(f){var b,D=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(d.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(b=document.createElement("input")).setAttribute("type","file"),D&&b.setAttribute("multiple",!0),b.addEventListener("change",function(B){var F=!0,j=!1,k=void 0;try{for(var U,T=B.target.files[Symbol.iterator]();!(F=(U=T.next()).done);F=!0)d.default.File._load(U.value,f)}catch(M){j=!0,k=M}finally{try{F||null==T.return||T.return()}finally{if(j)throw k}}},!1),u(b,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},d.default.prototype.createVideo=function(f,b){return d.default._validateParameters("createVideo",arguments),l(this,"video",f,b)},d.default.prototype.createAudio=function(f,b){return d.default._validateParameters("createAudio",arguments),l(this,"audio",f,b)},d.default.prototype.VIDEO="video",d.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(f){var b=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return b?new Promise(function(D,B){b.call(navigator,f,D,B)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),d.default.prototype.createCapture=function(){for(var f=arguments.length,b=new Array(f),D=0;D<f;D++)b[D]=arguments[D];if(d.default._validateParameters("createCapture",b),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var B,F=!0,j=!0,k=!1,U=0,T=b;U<T.length;U++){var I=T[U];I===d.default.prototype.VIDEO?j=!1:I===d.default.prototype.AUDIO?F=!1:"object"===c(I)?(void 0!==I.flipped&&(k=I.flipped,delete I.flipped),M=Object.assign({},M,I)):"function"==typeof I&&(B=I)}var M=Object.assign({},{video:F,audio:j},M),q=document.createElement("video"),K=(q.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(M).then(function(Y){try{"srcObject"in q?q.srcObject=Y:q.src=window.URL.createObjectURL(Y)}catch{q.src=Y}},console.error),u(q,this,!0));return K.loadedmetadata=!1,q.addEventListener("loadedmetadata",function(){q.play(),q.width?(K.width=q.width,K.height=q.height,k&&(K.elt.style.transform="scaleX(-1)")):(K.width=K.elt.width=q.videoWidth,K.height=K.elt.height=q.videoHeight),K.loadedmetadata=!0,B&&B(q.srcObject)}),K.flipped=k,K},d.default.prototype.createElement=function(f,b){return d.default._validateParameters("createElement",arguments),f=document.createElement(f),void 0!==b&&(f.innerHTML=b),u(f,this)},d.default.Element.prototype.addClass=function(f){return this.elt.className?this.hasClass(f)||(this.elt.className=this.elt.className+" "+f):this.elt.className=f,this},d.default.Element.prototype.removeClass=function(f){return this.elt.classList.remove(f),this},d.default.Element.prototype.hasClass=function(f){return this.elt.classList.contains(f)},d.default.Element.prototype.toggleClass=function(f){return this.elt.classList.contains(f)?this.elt.classList.remove(f):this.elt.classList.add(f),this},d.default.Element.prototype.child=function(f){return void 0===f?this.elt.childNodes:("string"==typeof f?("#"===f[0]&&(f=f.substring(1)),f=document.getElementById(f)):f instanceof d.default.Element&&(f=f.elt),f instanceof HTMLElement&&this.elt.appendChild(f),this)},d.default.Element.prototype.center=function(f){var b=this.elt.style.display,D="none"===this.elt.style.display,B="none"===this.parent().style.display,F={x:this.elt.offsetLeft,y:this.elt.offsetTop},j=(D&&this.show(),B&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),k=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===f||void 0===f?this.position(j/2+this.parent().offsetLeft,k/2+this.parent().offsetTop):"horizontal"===f?this.position(j/2+this.parent().offsetLeft,F.y):"vertical"===f&&this.position(F.x,k/2+this.parent().offsetTop),this.style("display",b),D&&this.hide(),B&&this.parent().hide(),this},d.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},d.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},d.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var f="";return this.elt.style.transform&&(f=(f=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=f,this},d.default.Element.prototype._rotate=function(){var f="";return this.elt.style.transform&&(f=(f=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=f,this},d.default.Element.prototype.style=function(f,b){if(void 0===(b=b instanceof d.default.Color?"rgba("+b.levels[0]+","+b.levels[1]+","+b.levels[2]+","+b.levels[3]/255+")":b)){if(-1===f.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(f);for(var D=f.split(";"),B=0;B<D.length;B++){var F=D[B].split(":");F[0]&&F[1]&&(this.elt.style[F[0].trim()]=F[1].trim())}}else this.elt.style[f]=b,"width"!==f&&"height"!==f&&"left"!==f&&"top"!==f||(b=window.getComputedStyle(this.elt).getPropertyValue(f).replace(/[^\d.]/g,""),this[f]=Math.round(parseFloat(b,10)));return this},d.default.Element.prototype.attribute=function(f,b){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===b?this.elt.getAttribute(f):(this.elt.setAttribute(f,b),this);if(void 0===b)return this.elt.firstChild.getAttribute(f);for(var D=0;D<this.elt.childNodes.length;D++)this.elt.childNodes[D].setAttribute(f,b)},d.default.Element.prototype.removeAttribute=function(f){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var b=0;b<this.elt.childNodes.length;b++)this.elt.childNodes[b].removeAttribute(f);return this.elt.removeAttribute(f),this},d.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},d.default.Element.prototype.show=function(){return this.elt.style.display="block",this},d.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},d.default.Element.prototype.size=function(f,b){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var D=f,B=b,F=d.default.prototype.AUTO;if(D!==F||B!==F){if(D===F?D=b*this.width/this.height:B===F&&(B=f*this.height/this.width),this.elt instanceof HTMLCanvasElement){var j,k={},U=this.elt.getContext("2d");for(j in U)k[j]=U[j];for(j in this.elt.setAttribute("width",D*this._pInst._pixelDensity),this.elt.setAttribute("height",B*this._pInst._pixelDensity),this.elt.style.width=D+"px",this.elt.style.height=B+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),k)this.elt.getContext("2d")[j]=k[j]}else this.elt.style.width=D+"px",this.elt.style.height=B+"px",this.elt.width=D,this.elt.height=B;this.width=D,this.height=B,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",D),this._pInst._setProperty("height",B))}return this},d.default.Element.prototype.remove=function(){this instanceof d.default.MediaElement&&(this.stop(),null!==(b=this.elt.srcObject)&&b.getTracks().forEach(function(D){D.stop()}));var f,b=this._pInst._elements.indexOf(this);for(f in-1!==b&&this._pInst._elements.splice(b,1),this._events)this.elt.removeEventListener(f,this._events[f]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},d.default.Element.prototype.drop=function(f,b){var D;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",D=function(B){B.preventDefault()}),this.elt.addEventListener("dragleave",D)),d.default.Element._attachListener("drop",function(F){F.preventDefault(),"function"==typeof b&&b.call(this,F),F=F.dataTransfer.files;var j=!0,k=!1,U=void 0;try{for(var T,I=F[Symbol.iterator]();!(j=(T=I.next()).done);j=!0)d.default.File._load(T.value,f)}catch(q){k=!0,U=q}finally{try{j||null==I.return||I.return()}finally{if(k)throw U}}},this)):console.log("The File APIs are not fully supported in this browser."),this},d.default.Element.prototype.draggable=function(f){var b,D="ontouchstart"in window,B=0,F=0,j=0,k=0,U=D?"touchend":"mouseup",T=D?"touchmove":"mousemove";function I(q){var K;q=q||window.event,k=D?(K=q.changedTouches,B=j-parseInt(K[0].clientX),F=k-parseInt(K[0].clientY),j=parseInt(K[0].clientX),parseInt(K[0].clientY)):(B=j-parseInt(q.clientX),F=k-parseInt(q.clientY),j=parseInt(q.clientX),parseInt(q.clientY)),f.style.left=f.offsetLeft-B+"px",f.style.top=f.offsetTop-F+"px"}function M(){document.removeEventListener(U,M,!1),document.removeEventListener(T,I,!1)}return void 0===f?b=f=this.elt:f!==this.elt&&f.elt!==this.elt&&(f=f.elt,b=this.elt),b.addEventListener(D?"touchstart":"mousedown",function(q){var K;return q=q||window.event,k=D?(K=q.changedTouches,j=parseInt(K[0].clientX),parseInt(K[0].clientY)):(j=parseInt(q.clientX),parseInt(q.clientY)),document.addEventListener(U,M,!1),document.addEventListener(T,I,!1),!1},!1),b.style.cursor="move",this},o=function(f){var b=B;if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),f&&C(b,f);var D=function x(f){return function(){var b,D,B=a(f);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=a(this).constructor,Reflect.construct(B,arguments,b)):B.apply(this,arguments),B=this,!(D=b)||"object"!==c(D)&&"function"!=typeof D?s(B):D}}(B);function B(F,j){h(this,B);var k=s(j=D.call(this,F,j));return j.elt.crossOrigin="anonymous",j._prevTime=0,j._cueIDCounter=0,j._cues=[],j.pixels=[],j._pixelsState=s(j),j._pixelDensity=1,j._modified=!1,j._frameOnCanvas=-1,Object.defineProperty(k,"src",{get:function(){var U=k.elt.children[0].src,T=k.elt.src===window.location.href?"":k.elt.src;return U===window.location.href?T:U},set:function(U){for(var T=0;T<k.elt.children.length;T++)k.elt.removeChild(k.elt.children[T]);var I=document.createElement("source");I.src=U,F.appendChild(I),k.elt.src=U,k.modified=!0}}),k._onended=function(){},k.elt.onended=function(){k._onended(k)},j}return m(B,[{key:"play",value:function(){var F;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(F=this.elt.play())&&F.catch&&F.catch(function(j){"NotAllowedError"===j.name?console.error(j):console.error("Media play method encountered an unexpected error",j)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var F=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(F)},{passive:!0,once:!0})}},{key:"autoplay",value:function(F){var j=this,k=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",F),F&&!k&&(F=function(){return j._setupAutoplayFailDetection()},4===this.elt.readyState?F():this.elt.addEventListener("canplay",F,{passive:!0,once:!0})),this}},{key:"volume",value:function(F){if(void 0===F)return this.elt.volume;this.elt.volume=F}},{key:"speed",value:function(F){if(void 0===F)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=F:this.presetPlaybackRate=F}},{key:"time",value:function(F){return void 0===F?this.elt.currentTime:(this.elt.currentTime=F,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var F=arguments.length,j=new Array(F),k=0;k<F;k++)j[k]=arguments[k];return d.default.Renderer2D.prototype.loadPixels.apply(this,j)}},{key:"updatePixels",value:function(F,j,k,U){return this.loadedmetadata&&(this._ensureCanvas(),d.default.Renderer2D.prototype.updatePixels.call(this,F,j,k,U)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var F=arguments.length,j=new Array(F),k=0;k<F;k++)j[k]=arguments[k];return d.default.Renderer2D.prototype.get.apply(this,j)}},{key:"_getPixel",value:function(){this.loadPixels();for(var F=arguments.length,j=new Array(F),k=0;k<F;k++)j[k]=arguments[k];return d.default.Renderer2D.prototype._getPixel.apply(this,j)}},{key:"set",value:function(F,j,k){this.loadedmetadata&&(this._ensureCanvas(),d.default.Renderer2D.prototype.set.call(this,F,j,k),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var F=arguments.length,j=new Array(F),k=0;k<F;k++)j[k]=arguments[k];d.default.prototype.copy.apply(this,j)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var F=arguments.length,j=new Array(F),k=0;k<F;k++)j[k]=arguments[k];d.default.Image.prototype.mask.apply(this,j)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(F){this._modified=F}},{key:"onended",value:function(F){return this._onended=F,this}},{key:"connect",value:function(F){var j,k;if("function"==typeof d.default.prototype.getAudioContext)j=d.default.prototype.getAudioContext(),k=d.default.soundOut.input;else try{k=(j=F.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=j.createMediaElementSource(this.elt),this.audioSourceNode.connect(k)),this.audioSourceNode.connect(F?F.input?F.input:F:k)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(F,T,k){var U=this._cueIDCounter++;return T=new y(T,F,U,k),this._cues.push(T),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),U}},{key:"removeCue",value:function(F){for(var j=0;j<this._cues.length;j++)this._cues[j].id===F&&(console.log(F),this._cues.splice(j,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var F=this.time(),j=0;j<this._cues.length;j++){var k=this._cues[j].time;this._prevTime<k&&k<=F&&this._cues[j].callback(this._cues[j].val)}this._prevTime=F}}]),B}(d.default.Element),d.default.MediaElement=o,o=function(){function f(b,D){h(this,f),this.file=b,this._pInst=D,D=b.type.split("/"),this.type=D[0],this.subtype=D[1],this.name=b.name,this.size=b.size,this.data=void 0}return m(f,null,[{key:"_createLoader",value:function(b,D){var B=new FileReader;return B.onload=function(F){var j,k=new d.default.File(b);"application/json"===k.file.type?k.data=JSON.parse(F.target.result):"text/xml"===k.file.type?(j=(new DOMParser).parseFromString(F.target.result,"text/xml"),k.data=new d.default.XML(j.documentElement)):k.data=F.target.result,D(k)},B}},{key:"_load",value:function(b,D){var B;/^text\//.test(b.type)||"application/json"===b.type?d.default.File._createLoader(b,D).readAsText(b):/^(video|audio)\//.test(b.type)?((B=new d.default.File(b)).data=URL.createObjectURL(b),D(B)):d.default.File._createLoader(b,D).readAsDataURL(b)}}]),f}(),d.default.File=o,w.default=o=d.default},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(c,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(c=c("../core/main"))&&c.__esModule?c:{default:c};_.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",_.default.prototype.accelerationX=0,_.default.prototype.accelerationY=0,_.default.prototype.accelerationZ=0,_.default.prototype.pAccelerationX=0,_.default.prototype.pAccelerationY=0,_.default.prototype.pAccelerationZ=0,_.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},_.default.prototype.rotationX=0,_.default.prototype.rotationY=0,_.default.prototype.rotationZ=0,_.default.prototype.pRotationX=0,_.default.prototype.pRotationY=0;var d=_.default.prototype.pRotationZ=0,p=0,m=0,C="clockwise",x="clockwise",s="clockwise",a=(_.default.prototype.pRotateDirectionX=void 0,_.default.prototype.pRotateDirectionY=void 0,_.default.prototype.pRotateDirectionZ=void 0,_.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},_.default.prototype.turnAxis=void 0,.5),h=30;_.default.prototype.setMoveThreshold=function(u){_.default._validateParameters("setMoveThreshold",arguments),a=u},_.default.prototype.setShakeThreshold=function(u){_.default._validateParameters("setShakeThreshold",arguments),h=u},_.default.prototype._ondeviceorientation=function(u){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(u.beta)),this._setProperty("rotationY",this._fromDegrees(u.gamma)),this._setProperty("rotationZ",this._fromDegrees(u.alpha)),this._handleMotion()},_.default.prototype._ondevicemotion=function(u){this._updatePAccelerations(),this._setProperty("accelerationX",2*u.acceleration.x),this._setProperty("accelerationY",2*u.acceleration.y),this._setProperty("accelerationZ",2*u.acceleration.z),this._handleMotion()},_.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var u,l,y,f,b,D=this._isGlobal?window:this;"function"==typeof D.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>a||Math.abs(this.accelerationY-this.pAccelerationY)>a||Math.abs(this.accelerationZ-this.pAccelerationZ)>a)&&D.deviceMoved(),"function"==typeof D.deviceTurned&&(l=this._toDegrees(this.rotationX)+180,y=this._toDegrees(this.pRotationX)+180,u=d+180,0<l-y&&l-y<270||l-y<-270?C="clockwise":(l-y<0||270<l-y)&&(C="counter-clockwise"),C!==this.pRotateDirectionX&&(u=l),90<Math.abs(l-u)&&Math.abs(l-u)<270&&(u=l,this._setProperty("turnAxis","X"),D.deviceTurned()),this.pRotateDirectionX=C,d=u-180,y=this._toDegrees(this.rotationY)+180,l=this._toDegrees(this.pRotationY)+180,u=p+180,0<y-l&&y-l<270||y-l<-270?x="clockwise":(y-l<0||270<y-this.pRotationY)&&(x="counter-clockwise"),x!==this.pRotateDirectionY&&(u=y),90<Math.abs(y-u)&&Math.abs(y-u)<270&&(u=y,this._setProperty("turnAxis","Y"),D.deviceTurned()),this.pRotateDirectionY=x,p=u-180,0<(l=this._toDegrees(this.rotationZ))-(y=this._toDegrees(this.pRotationZ))&&l-y<270||l-y<-270?s="clockwise":(l-y<0||270<l-y)&&(s="counter-clockwise"),s!==this.pRotateDirectionZ&&(m=l),90<Math.abs(l-m)&&Math.abs(l-m)<270&&(m=l,this._setProperty("turnAxis","Z"),D.deviceTurned()),this.pRotateDirectionZ=s,this._setProperty("turnAxis",void 0)),"function"==typeof D.deviceShaken&&(null!==this.pAccelerationX&&(f=Math.abs(this.accelerationX-this.pAccelerationX),b=Math.abs(this.accelerationY-this.pAccelerationY)),h<f+b&&D.deviceShaken())},w.default=c=_.default},{"../core/main":280}],298:[function(o,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};_.default.prototype.isKeyPressed=!1,_.default.prototype.keyIsPressed=!1,_.default.prototype.key="",_.default.prototype.keyCode=0,_.default.prototype._onkeydown=function(d){var p;this._downKeys[d.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",d.which),this._downKeys[d.which]=!0,this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which),"function"!=typeof(p=this._isGlobal?window:this).keyPressed||d.charCode||!1===p.keyPressed(d)&&d.preventDefault())},_.default.prototype._onkeyup=function(d){this._downKeys[d.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which),this._setProperty("keyCode",d.which);var p=this._isGlobal?window:this;"function"==typeof p.keyReleased&&!1===p.keyReleased(d)&&d.preventDefault()},_.default.prototype._onkeypress=function(d){var p;d.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",d.which),this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which),"function"==typeof(p=this._isGlobal?window:this).keyTyped&&!1===p.keyTyped(d)&&d.preventDefault())},_.default.prototype._onblur=function(d){this._downKeys={}},_.default.prototype.keyIsDown=function(d){return _.default._validateParameters("keyIsDown",arguments),this._downKeys[d]||!1},_.default.prototype._areDownKeys=function(){for(var d in this._downKeys)if(this._downKeys.hasOwnProperty(d)&&!0===this._downKeys[d])return!0;return!1},w.default=o=_.default},{"../core/main":280}],299:[function(o,V,w){"use strict";function _(x){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(x)}function d(x){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(s){return _(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":_(s)})(x)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(p=o("../core/main"))&&p.__esModule?p:{default:p},m=function(x){if(x&&x.__esModule)return x;if(null===x||"object"!==d(x)&&"function"!=typeof x)return{default:x};var s=C();if(s&&s.has(x))return s.get(x);var a,h={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in x){var u;Object.prototype.hasOwnProperty.call(x,a)&&((u=c?Object.getOwnPropertyDescriptor(x,a):null)&&(u.get||u.set)?Object.defineProperty(h,a,u):h[a]=x[a])}return h.default=x,s&&s.set(x,h),h}(o("../core/constants"));function C(){var x;return"function"!=typeof WeakMap?null:(C=function(){return x},x=new WeakMap)}p.default.prototype.movedX=0,p.default.prototype.movedY=0,p.default.prototype._hasMouseInteracted=!1,p.default.prototype.mouseX=0,p.default.prototype.mouseY=0,p.default.prototype.pmouseX=0,p.default.prototype.pmouseY=0,p.default.prototype.winMouseX=0,p.default.prototype.winMouseY=0,p.default.prototype.pwinMouseX=0,p.default.prototype.pwinMouseY=0,p.default.prototype.mouseButton=0,p.default.prototype.mouseIsPressed=!1,p.default.prototype._updateNextMouseCoords=function(x){var s,a,h,c,u;null!==this._curElement&&(!x.touches||0<x.touches.length)&&(a=this.width,h=this.height,(c=x)&&!c.clientX&&(c.touches?c=c.touches[0]:c.changedTouches&&(c=c.changedTouches[0])),u=(s=this._curElement.elt).getBoundingClientRect(),h={x:(c.clientX-u.left)/(a=s.scrollWidth/a||1),y:(c.clientY-u.top)/(s=s.scrollHeight/h||1),winX:c.clientX,winY:c.clientY,id:c.identifier},this._setProperty("movedX",x.movementX),this._setProperty("movedY",x.movementY),this._setProperty("mouseX",h.x),this._setProperty("mouseY",h.y),this._setProperty("winMouseX",h.winX),this._setProperty("winMouseY",h.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},p.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},p.default.prototype._setMouseButton=function(x){this._setProperty("mouseButton",1===x.button?m.CENTER:2===x.button?m.RIGHT:m.LEFT)},p.default.prototype._onmousemove=function(x){var s=this._isGlobal?window:this;this._updateNextMouseCoords(x),this.mouseIsPressed?"function"==typeof s.mouseDragged?!1===s.mouseDragged(x)&&x.preventDefault():"function"==typeof s.touchMoved&&!1===s.touchMoved(x)&&x.preventDefault():"function"==typeof s.mouseMoved&&!1===s.mouseMoved(x)&&x.preventDefault()},p.default.prototype._onmousedown=function(x){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(x),this._updateNextMouseCoords(x),this.touchstart||("function"==typeof s.mousePressed?!1===s.mousePressed(x)&&x.preventDefault():"function"==typeof s.touchStarted&&!1===s.touchStarted(x)&&x.preventDefault(),this.touchstart=!1)},p.default.prototype._onmouseup=function(x){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof s.mouseReleased?!1===s.mouseReleased(x)&&x.preventDefault():"function"==typeof s.touchEnded&&!1===s.touchEnded(x)&&x.preventDefault(),this.touchend=!1)},p.default.prototype._ondragend=p.default.prototype._onmouseup,p.default.prototype._ondragover=p.default.prototype._onmousemove,p.default.prototype._onclick=function(x){var s=this._isGlobal?window:this;"function"==typeof s.mouseClicked&&!1===s.mouseClicked(x)&&x.preventDefault()},p.default.prototype._ondblclick=function(x){var s=this._isGlobal?window:this;"function"==typeof s.doubleClicked&&!1===s.doubleClicked(x)&&x.preventDefault()},p.default.prototype._mouseWheelDeltaY=0,p.default.prototype._pmouseWheelDeltaY=0,p.default.prototype._onwheel=function(x){var s=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",x.deltaY),"function"==typeof s.mouseWheel&&(x.delta=x.deltaY,!1===s.mouseWheel(x)&&x.preventDefault())},p.default.prototype.requestPointerLock=function(){var x=this._curElement.elt;return x.requestPointerLock=x.requestPointerLock||x.mozRequestPointerLock,x.requestPointerLock?(x.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},p.default.prototype.exitPointerLock=function(){document.exitPointerLock()},w.default=o=p.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(o,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(_){if(null!==this._curElement){for(var d=[],p=0;p<_.touches.length;p++)d[p]=function(u,c,l,s){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,h=u.getBoundingClientRect();return c=u.scrollWidth/c||1,u=u.scrollHeight/l||1,{x:((l=s.touches[a]||s.changedTouches[a]).clientX-h.left)/c,y:(l.clientY-h.top)/u,winX:l.clientX,winY:l.clientY,id:l.identifier}}(this._curElement.elt,this.width,this.height,_,p);this._setProperty("touches",d)}},o.default.prototype._ontouchstart=function(_){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(_),this._updateNextMouseCoords(_),this._updateMouseCoords(),"function"==typeof d.touchStarted&&(!1===d.touchStarted(_)&&_.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(_){var d=this._isGlobal?window:this;this._updateTouchCoords(_),this._updateNextMouseCoords(_),"function"==typeof d.touchMoved?!1===d.touchMoved(_)&&_.preventDefault():"function"==typeof d.mouseDragged&&!1===d.mouseDragged(_)&&_.preventDefault()},o.default.prototype._ontouchend=function(_){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(_),this._updateNextMouseCoords(_);var d=this._isGlobal?window:this;"function"==typeof d.touchEnded&&(!1===d.touchEnded(_)&&_.preventDefault(),this.touchend=!0)},w.default=o=o.default},{"../core/main":280}],301:[function(o,V,w){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _,d,p,m,C={_toPixels:function(x){var s,a;return x instanceof ImageData?x.data:x.getContext("2d")?x.getContext("2d").getImageData(0,0,x.width,x.height).data:x.getContext("webgl")?(a=(s=x.getContext("webgl")).drawingBufferWidth*s.drawingBufferHeight*4,a=new Uint8Array(a),s.readPixels(0,0,x.width,x.height,s.RGBA,s.UNSIGNED_BYTE,a),a):void 0},_getARGB:function(x,s){return x[3+(s*=4)]<<24&4278190080|x[s]<<16&16711680|x[1+s]<<8&65280|255&x[2+s]},_setPixels:function(x,s){for(var a,h=0,c=x.length;h<c;h++)x[0+(a=4*h)]=(16711680&s[h])>>>16,x[1+a]=(65280&s[h])>>>8,x[2+a]=255&s[h],x[3+a]=(4278190080&s[h])>>>24},_toImageData:function(x){return x instanceof ImageData?x:x.getContext("2d").getImageData(0,0,x.width,x.height)},_createImageData:function(x,s){return C._tmpCanvas=document.createElement("canvas"),C._tmpCtx=C._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(x,s)},apply:function(x,u,a){var h=x.getContext("2d"),c=h.getImageData(0,0,x.width,x.height);(u=u(c,a))instanceof ImageData?h.putImageData(u,0,0,0,0,x.width,x.height):h.putImageData(c,0,0,0,0,x.width,x.height)},threshold:function(x){for(var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,a=C._toPixels(x),h=Math.floor(255*s),c=0;c<a.length;c+=4)a[c]=a[c+1]=a[c+2]=h<=.2126*a[c]+.7152*a[c+1]+.0722*a[c+2]?255:0},gray:function(x){for(var s=C._toPixels(x),a=0;a<s.length;a+=4)s[a]=s[a+1]=s[a+2]=.2126*s[a]+.7152*s[a+1]+.0722*s[a+2]},opaque:function(x){for(var s=C._toPixels(x),a=0;a<s.length;a+=4)s[a+3]=255;return s},invert:function(x){for(var s=C._toPixels(x),a=0;a<s.length;a+=4)s[a]=255-s[a],s[a+1]=255-s[a+1],s[a+2]=255-s[a+2]},posterize:function(x){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,a=C._toPixels(x);if(s<2||255<s)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var h=s-1,c=0;c<a.length;c+=4){var l=a[c+1],y=a[c+2];a[c]=255*(a[c]*s>>8)/h,a[c+1]=255*(l*s>>8)/h,a[c+2]=255*(y*s>>8)/h}},dilate:function(x){for(var s,a,h,c,u,l,y,f,b,D=C._toPixels(x),B=0,F=D.length?D.length/4:0,j=new Int32Array(F);B<F;)for(a=(s=B)+x.width;B<a;)c=h=C._getARGB(D,B),(b=B-1)<s&&(b=B),a<=(f=B+1)&&(f=B),(u=B-x.width)<0&&(u=0),F<=(l=B+x.width)&&(l=B),u=C._getARGB(D,u),b=C._getARGB(D,b),l=C._getARGB(D,l),(c=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(y=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(h=b,c=y),c<(y=77*((b=C._getARGB(D,f))>>16&255)+151*(b>>8&255)+28*(255&b))&&(h=b,c=y),c<(f=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(h=u,c=f),c<(b=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(h=l,c=b),j[B++]=h;C._setPixels(D,j)},erode:function(x){for(var s,a,h,c,u,l,y,f,b,D=C._toPixels(x),B=0,F=D.length?D.length/4:0,j=new Int32Array(F);B<F;)for(a=(s=B)+x.width;B<a;)c=h=C._getARGB(D,B),(b=B-1)<s&&(b=B),a<=(f=B+1)&&(f=B),(u=B-x.width)<0&&(u=0),F<=(l=B+x.width)&&(l=B),u=C._getARGB(D,u),b=C._getARGB(D,b),l=C._getARGB(D,l),(y=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<(c=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(h=b,c=y),(y=77*((b=C._getARGB(D,f))>>16&255)+151*(b>>8&255)+28*(255&b))<c&&(h=b,c=y),(f=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<c&&(h=u,c=f),(b=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<c&&(h=l,c=b),j[B++]=h;C._setPixels(D,j)},blur:function(x,s){for(var a,h,c,u,l,y,f,b,D,B,F=C._toPixels(x),j=x.width,k=x.height,U=j*k,T=new Int32Array(U),I=0;I<U;I++)T[I]=C._getARGB(F,I);var M,q,K,Y,ie,te,z,oe,le=new Int32Array(U),Ee=new Int32Array(U),W=new Int32Array(U),R=new Int32Array(U),ne=0,ue=3.5*s|0;if(_!==(ue=ue<1?1:ue<248?ue:248)){d=1+(_=ue)<<1,p=new Int32Array(d),m=new Array(d);for(var we=0;we<d;we++)m[we]=new Int32Array(256);for(var je=1,Be=ue-1;je<ue;je++){p[ue+je]=p[Be]=te=Be*Be,z=m[ue+je],oe=m[Be--];for(var We=0;We<256;We++)z[We]=oe[We]=te*We}ie=p[ue]=ue*ue,z=m[ue];for(var Oe=0;Oe<256;Oe++)z[Oe]=ie*Oe}for(q=0;q<k;q++){for(M=0;M<j;M++){if(u=c=h=l=a=0,(y=M-_)<0)B=-y,y=0;else{if(j<=y)break;B=0}for(K=B;K<d&&!(j<=y);K++){var Pe=T[y+ne];l+=(Y=m[K])[(-16777216&Pe)>>>24],h+=Y[(16711680&Pe)>>16],c+=Y[(65280&Pe)>>8],u+=Y[255&Pe],a+=p[K],y++}le[f=ne+M]=l/a,Ee[f]=h/a,W[f]=c/a,R[f]=u/a}ne+=j}for(D=(b=-_)*j,q=ne=0;q<k;q++){for(M=0;M<j;M++){if(u=c=h=l=a=0,b<0)B=f=-b,y=M;else{if(k<=b)break;B=0,f=b,y=M+D}for(K=B;K<d&&!(k<=f);K++)l+=(Y=m[K])[le[y]],h+=Y[Ee[y]],c+=Y[W[y]],u+=Y[R[y]],a+=p[K],f++,y+=j;T[M+ne]=l/a<<24|h/a<<16|c/a<<8|u/a}ne+=j,D+=j,b++}C._setPixels(F,T)}};w.default=C},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=p(o("../core/main")),d=p(o("omggif"));function p(C){return C&&C.__esModule?C:{default:C}}function m(C){return function(x){if(Array.isArray(x)){for(var s=0,a=new Array(x.length);s<x.length;s++)a[s]=x[s];return a}}(C)||function(x){if(Symbol.iterator in Object(x)||"[object Arguments]"===Object.prototype.toString.call(x))return Array.from(x)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}_.default.prototype.createImage=function(C,x){return _.default._validateParameters("createImage",arguments),new _.default.Image(C,x)},_.default.prototype.saveCanvas=function(){for(var C,x,s,a,h,c,u=arguments.length,l=new Array(u),y=0;y<u;y++)l[y]=arguments[y];switch(_.default._validateParameters("saveCanvas",l),l[0]instanceof HTMLCanvasElement?(C=l[0],l.shift()):l[0]instanceof _.default.Element?(C=l[0].elt,l.shift()):l[0]instanceof _.default.Framebuffer?((h=this.createGraphics((a=l[0]).width,a.height)).pixelDensity(pixelDensity()),a.loadPixels(),h.loadPixels(),h.pixels.set(a.pixels),h.updatePixels(),C=h.elt,l.shift()):C=this._curElement&&this._curElement.elt,1<=l.length&&(x=l[0]),s=(s=2<=l.length?l[1]:s)||_.default.prototype._checkFileExtension(x,s)[1]||"png"){default:c="image/png";break;case"jpeg":case"jpg":c="image/jpeg"}C.toBlob(function(f){_.default.prototype.downloadFile(f,x,s),h&&h.remove()},c)},_.default.prototype.encodeAndDownloadGif=function(C,x){for(var s=C.gifProperties,h=(1===(a=s.loopLimit)?a=null:null===a&&(a=0),new Uint8Array(C.width*C.height*s.numFrames)),c=[],u={},l=0;l<s.numFrames;l++){for(var y=new Set,f=s.frames[l].image.data,b=f.length,D=new Uint32Array(C.width*C.height),B=0,F=0;B<b;B+=4,F++){var j=f[B+0]<<16|f[B+1]<<8|f[B+2]<<0;y.add(j),D[F]=j}var k=m(y).sort().toString();void 0===u[k]?u[k]={freq:1,frames:[l]}:(u[k].freq+=1,u[k].frames.push(l)),c.push(D)}for(var I=[],U=Object.keys(u).sort(function(W,R){return u[R].freq-u[W].freq}),T=U[0].split(",").map(function(W){return parseInt(W)}),M=(I=I.concat(u[T].frames),new Set(T)),q=1;q<U.length;q++){var K=U[q].split(",").map(function(W){return parseInt(W)}).filter(function(W){return!M.has(W)});if(T.length+K.length<=256){for(var Y=0;Y<K.length;Y++)T.push(K[Y]),M.add(K[Y]);I=I.concat(u[U[q]].frames)}}I=new Set(I);for(var ie={},te=0;te<T.length;te++)ie[T[te]]||(ie[T[te]]=te);for(var z=1;z<T.length;)z<<=1;T.length=z;for(var a={loop:a,palette:new Uint32Array(T)},oe=new d.default.GifWriter(h,C.width,C.height,a),le={},Ee=0;Ee<s.numFrames;Ee++)!function(R){var ne=!I.has(R),ue=ne?[]:T,we=new Uint8Array(C.width*C.height),je={},Be=new Set,We=(c[R].forEach(function(Qe,tt){ne?(void 0===je[Qe]&&(je[Qe]=ue.length,ue.push(Qe)),we[tt]=je[Qe]):we[tt]=ie[Qe],0<R&&c[R-1][tt]!==Qe&&Be.add(Qe)}),{});if(0<(Oe=ue.filter(function(Qe){return!Be.has(Qe)})).length){var Oe,Pe=(ne?je:ie)[Oe=Oe[0]];if(0<R){for(var $e=0;$e<c[R].length;$e++)c[R-1][$e]===c[R][$e]&&(we[$e]=Pe);We.transparent=Pe,le.frameOpts.disposal=1}}if(We.delay=s.frames[R].delay/10,ne){for(var ke=1;ke<ue.length;)ke<<=1;ue.length=ke,We.palette=new Uint32Array(ue)}0<R&&oe.addFrame(0,0,C.width,C.height,le.pixelPaletteIndex,le.frameOpts),le={pixelPaletteIndex:we,frameOpts:We}}(Ee);le.frameOpts.disposal=1,oe.addFrame(0,0,C.width,C.height,le.pixelPaletteIndex,le.frameOpts),a=new Blob([h.slice(0,oe.end())],{type:"image/gif"}),_.default.prototype.downloadFile(a,x,"gif")},_.default.prototype.saveFrames=function(C,x,s,c,h){_.default._validateParameters("saveFrames",arguments),s=_.default.prototype.constrain(s=s||3,0,15),s*=1e3,c=_.default.prototype.constrain(c||15,0,22);var u=0,l=_.default.prototype._makeFrame,y=this._curElement.elt,f=[],b=setInterval(function(){f.push(l(C+u,x,y)),u++},1e3/c);setTimeout(function(){if(clearInterval(b),h)h(f);else for(var D=0,B=f;D<B.length;D++){var F=B[D];_.default.prototype.downloadFile(F.imageData,F.filename,F.ext)}f=[]},.01+s)},_.default.prototype._makeFrame=function(C,x,h){var a;if(h=this?this._curElement.elt:h,x)switch(x.toLowerCase()){case"png":default:a="image/png";break;case"jpeg":case"jpg":a="image/jpeg"}else x="png",a="image/png";h=(h=h.toDataURL(a)).replace(a,"image/octet-stream");var c={};return c.imageData=h,c.filename=C,c.ext=x,c},w.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(o,V,w){"use strict";function _(y){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(y)}function d(y){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(f){return _(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":_(f)})(y)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,o("regenerator-runtime/runtime");var p=h(o("../core/main")),m=h(o("../core/helpers")),C=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==d(y)&&"function"!=typeof y)return{default:y};var f=a();if(f&&f.has(y))return f.get(y);var b,D={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in y){var F;Object.prototype.hasOwnProperty.call(y,b)&&((F=B?Object.getOwnPropertyDescriptor(y,b):null)&&(F.get||F.set)?Object.defineProperty(D,b,F):D[b]=y[b])}return D.default=y,f&&f.set(y,D),D}(o("../core/constants")),x=h(o("omggif")),s=o("gifenc");function a(){var y;return"function"!=typeof WeakMap?null:(a=function(){return y},y=new WeakMap)}function h(y){return y&&y.__esModule?y:{default:y}}function c(y,f,b,D,B,F,j){try{var k=y[F](j),U=k.value}catch(T){return void b(T)}k.done?f(U):Promise.resolve(U).then(D,B)}function l(y,f){return 0<y&&y<f?y:f}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),p.default.prototype.loadImage=function(y,f,b){p.default._validateParameters("loadImage",arguments);var D=new p.default.Image(1,1,this),B=this,F=new Request(y,{method:"GET",mode:"cors"});return fetch(y,F).then(function(j){var k,U=j.headers.get("content-type");null===U&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),U&&U.includes("image/gif")?j.arrayBuffer().then(function(T){if(T){T=new Uint8Array(T);for(var I=D,M=f,q=b,K=function(ne){B._decrementPreload()}.bind(B),Y=new x.default.GifReader(T),ie=(I.width=I.canvas.width=Y.width,I.height=I.canvas.height=Y.height,[]),te=Y.numFrames(),z=new Uint8ClampedArray(I.width*I.height*4),oe=0;oe<te;oe++){var le=Y.frameInfo(oe),Ee=I.drawingContext.getImageData(0,0,I.width,I.height),W=(z=Ee.data.slice(),function(ne,ue){try{ue.decodeAndBlitFrameRGBA(ne,z)}catch(we){p.default._friendlyFileLoadError(8,I.src),"function"==typeof q?q(we):console.error(we)}}(oe,Y),new ImageData(z,I.width,I.height));0===(I.drawingContext.putImageData(W,0,0),W=le.delay)&&(W=10),ie.push({image:I.drawingContext.getImageData(0,0,I.width,I.height),delay:10*W}),2===le.disposal?I.drawingContext.clearRect(le.x,le.y,le.width,le.height):3===le.disposal&&I.drawingContext.putImageData(Ee,0,0,le.x,le.y,le.width,le.height)}null===(T=Y.loopCount())?T=1:0===T&&(T=null),I.drawingContext.putImageData(ie[0].image,0,0),1<ie.length&&(I.gifProperties={displayIndex:0,loopLimit:T,loopCount:0,frames:ie,numFrames:te,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof M&&M(I),K()}},function(T){"function"==typeof b?(b(T),B._decrementPreload()):console.error(T)}):((k=new Image).onload=function(){D.width=D.canvas.width=k.width,D.height=D.canvas.height=k.height,D.drawingContext.drawImage(k,0,0),D.modified=!0,"function"==typeof f&&f(D),B._decrementPreload()},k.onerror=function(T){p.default._friendlyFileLoadError(0,k.src),"function"==typeof b?(b(T),B._decrementPreload()):console.error(T)},0!==y.indexOf("data:image/")&&(k.crossOrigin="Anonymous"),k.src=y),D.modified=!0}).catch(function(j){p.default._friendlyFileLoadError(0,y),"function"==typeof b?(b(j),B._decrementPreload()):console.error(j)}),D},p.default.prototype.saveGif=function(){y=g.mark(function b(D,B){var F,j,k,U,T,I,M,q,K,Y,ie,te,z,oe,le,Ee,W,R,ne,ue,we,je,Be,We,Oe,Pe,$e=arguments;return g.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(F=2<$e.length&&void 0!==$e[2]?$e[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof D)throw TypeError("fileName parameter must be a string");ke.next=3;break;case 3:if("number"!=typeof B)throw TypeError("Duration parameter must be a number");ke.next=5;break;case 5:if(k=F&&F.units||"seconds",U=F&&F.silent||!1,T=F&&F.notificationDuration||0,I=F&&F.notificationID||"progressBar","number"!=typeof(j=F&&F.delay||0))throw TypeError("Delay parameter must be a number");ke.next=12;break;case 12:if("seconds"!==k&&"frames"!==k)throw TypeError('Units parameter must be either "frames" or "seconds"');ke.next=14;break;case 14:if("boolean"!=typeof U)throw TypeError("Silent parameter must be a boolean");ke.next=16;break;case 16:if("number"!=typeof T)throw TypeError("Notification duration parameter must be a number");ke.next=18;break;case 18:if("string"!=typeof I)throw TypeError("Notification ID parameter must be a string");ke.next=20;break;case 20:return this._recording=!0,M=(M=1/(Y=(Y=this._targetFrameRate)!==1/0&&void 0!==Y&&0!==Y?Y:60)*1e3)<20?20:M,K=(q="seconds"===k?B*Y:B)+(Y="seconds"===k?j*Y:j),this.frameCount=Y,ie=this._pixelDensity,this.pixelDensity(1),te=[],null!==document.getElementById(I)&&document.getElementById(I).remove(),U||((z=this.createP("")).id(I),z.style("font-size","16px"),z.style("font-family","Montserrat"),z.style("background-color","#ffffffa0"),z.style("padding","8px"),z.style("border-radius","10px"),z.position(0,0)),this._renderer instanceof p.default.RendererGL&&(le=this.drawingContext,oe=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4)),this.noLoop(),ke.next=39,Promise.resolve();case 39:if(Y<K)return this.redraw(),We=void 0,We=this._renderer instanceof p.default.RendererGL?(oe=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4),le.readPixels(0,0,le.drawingBufferWidth,le.drawingBufferHeight,le.RGBA,le.UNSIGNED_BYTE,oe),function(Qe,tt,_t){for(var gt=parseInt(_t/2),xt=4*tt,$t=new Uint8Array(4*tt),Ot=0;Ot<gt;++Ot){var jt=Ot*xt,Tt=(_t-Ot-1)*xt;$t.set(Qe.subarray(jt,jt+xt)),Qe.copyWithin(jt,Tt,Tt+xt),Qe.set($t,Tt)}return Qe}(oe,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,te.push(We),Y++,U||z.html("Saved frame <b>"+te.length.toString()+"</b> out of "+q.toString()),ke.next=48,new Promise(function(Qe){return setTimeout(Qe,0)});ke.next=50;break;case 48:ke.next=39;break;case 50:U||z.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(ie),Ee=(0,s.GIFEncoder)(),W=function(Qe){for(var tt=new Uint8Array(Qe.length*Qe[0].length),_t=0;_t<Qe.length;_t++)tt.set(Qe[_t],_t*Qe[0].length);var gt=(0,s.quantize)(tt,256,{format:"rgba4444",oneBitAlpha:!0});return 256===gt.length?gt[gt.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:gt.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),gt}(te),R={},ne=function(Qe){for(var tt=Qe.length/4,_t=new Uint8Array(tt),gt=0;gt<tt;gt++){var xt=Qe[4*gt]<<24|Qe[4*gt+1]<<16|Qe[4*gt+2]<<8|Qe[4*gt+3];void 0===R[xt]&&(R[xt]=(0,s.nearestColorIndex)(W,Qe.slice(4*gt,4*(gt+1)))),_t[gt]=R[xt]}return _t},ue=W.length-1,we=[],je=0;case 60:if(!(je<te.length)){ke.next=71;break}if(Be=ne(te[je]),We=Be.slice(),0===je)Ee.writeFrame(Be,this.width,this.height,{palette:W,delay:M,dispose:1});else{for(Oe=0;Oe<Be.length;Oe++)Be[Oe]===we[Oe]&&(Be[Oe]=ue);Ee.writeFrame(Be,this.width,this.height,{delay:M,transparent:!0,transparentIndex:ue,dispose:1})}return we=We,U||z.html("Rendered frame <b>"+je.toString()+"</b> out of "+q.toString()),ke.next=68,new Promise(function(Qe){return setTimeout(Qe,0)});case 68:je++,ke.next=60;break;case 71:Ee.finish(),Pe=Ee.bytesView(),Pe=new Blob([Pe],{type:"image/gif"}),te=[],this._recording=!1,this.loop(),U||(z.html("Done. Downloading your gif!\u{1f338}"),0<T&&setTimeout(function(){return z.remove()},1e3*T)),p.default.prototype.downloadFile(Pe,D,"gif");case 80:case"end":return ke.stop()}},b,this)});var y,f=function(){var b=this,D=arguments;return new Promise(function(B,F){var j=y.apply(b,D);function k(T){c(j,B,F,k,U,"next",T)}function U(T){c(j,B,F,k,U,"throw",T)}k(void 0)})};return function(b,D){return f.apply(this,arguments)}}(),p.default.prototype.image=function(y,f,b,D,Y,ie,te,z,le,T,I,M){p.default._validateParameters("image",arguments);var oe=y.width,q=y.height,K=(M=M||C.CENTER,I=I||C.CENTER,y.elt&&(oe=void 0!==oe?oe:y.elt.width,q=void 0!==q?q:y.elt.height),y.elt&&y.elt.videoWidth&&!y.canvas&&(oe=void 0!==oe?oe:y.elt.videoWidth,q=void 0!==q?q:y.elt.videoHeight),D||oe);Y=Y||q,ie=ie||0,te=te||0,z=l(void 0!==z?z:oe,oe),oe=l(void 0!==le?le:q,q),le=1,y.elt&&!y.canvas&&y.elt.style.width&&(le=y.elt.videoWidth&&!D?y.elt.videoWidth:y.elt.width,le/=parseInt(y.elt.style.width,10)),ie*=le,te*=le,oe*=le,z*=le,q=function u(y,f,b,D,B,F,j,k,U,T,I){var M,q,K,Y,ie,te,z,oe,le;return y===C.COVER&&(M=f,K=b,z=F,oe=j,te=k,le=U,q=T,Y=I,z/=ie=Math.max(z/q,oe/Y),oe/=ie,ie=te,te=le,M===C.CENTER?ie+=(q-z)/2:M===C.RIGHT&&(ie+=q-z),K===C.CENTER?te+=(Y-oe)/2:K===C.BOTTOM&&(te+=Y-oe),k=(le={x:ie,y:te,w:z,h:oe}).x,U=le.y,T=le.w,I=le.h),y===C.CONTAIN&&(M=f,q=b,K=D,Y=B,ie=F,te=j,z=T,oe=I,z/=le=Math.max(z/ie,oe/te),oe/=le,le=K,K=Y,M===C.CENTER?le+=(ie-z)/2:M===C.RIGHT&&(le+=ie-z),q===C.CENTER?K+=(te-oe)/2:q===C.BOTTOM&&(K+=te-oe),D=(y={x:le,y:K,w:z,h:oe}).x,B=y.y,F=y.w,j=y.h),{sx:k,sy:U,sw:T,sh:I,dx:D,dy:B,dw:F,dh:j}}(T,I,M,(q=m.default.modeAdjust(f,b,K,Y,this._renderer._imageMode)).x,q.y,q.w,q.h,ie,te,z,oe),this._renderer.image(y,q.sx,q.sy,q.sw,q.sh,q.dx,q.dy,q.dw,q.dh)},p.default.prototype.tint=function(){for(var y=arguments.length,f=new Array(y),b=0;b<y;b++)f[b]=arguments[b];p.default._validateParameters("tint",f);var D=this.color.apply(this,f);this._renderer._tint=D.levels},p.default.prototype.noTint=function(){this._renderer._tint=null},p.default.prototype._getTintedImageCanvas=p.default.Renderer2D.prototype._getTintedImageCanvas,p.default.prototype.imageMode=function(y){p.default._validateParameters("imageMode",arguments),y!==C.CORNER&&y!==C.CORNERS&&y!==C.CENTER||(this._renderer._imageMode=y)},w.default=o=p.default},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=p(o("../core/main")),d=p(o("./filters"));function p(C){return C&&C.__esModule?C:{default:C}}function m(C,x){for(var s=0;s<x.length;s++){var a=x[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(C,a.key,a)}}_.default.Image=function(){function C(h,c){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");this.width=h,this.height=c,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var x,s;return x=C,(s=[{key:"pixelDensity",value:function(h){return void 0!==h?(h<=0&&(_.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),h=1),this._pixelDensity=h,this.width/=h,this.height/=h,this):this._pixelDensity}},{key:"_animateGif",value:function(l){var c,u=this.gifProperties;l=l._lastRealFrameTime,0===u.lastChangeTime&&(u.lastChangeTime=l),u.playing&&(u.timeDisplayed=l-u.lastChangeTime,u.timeDisplayed>=(c=u.frames[u.displayIndex].delay)&&(c=Math.floor(u.timeDisplayed/c),u.timeDisplayed=0,u.lastChangeTime=l,u.displayIndex+=c,u.loopCount=Math.floor(u.displayIndex/u.numFrames),null!==u.loopLimit&&u.loopCount>=u.loopLimit?u.playing=!1:(this.drawingContext.putImageData(u.frames[l=u.displayIndex%u.numFrames].image,0,0),u.displayIndex=l,this.setModified(!0))))}},{key:"_setProperty",value:function(h,c){this[h]=c,this.setModified(!0)}},{key:"loadPixels",value:function(){_.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(h,c,u,l){_.default.Renderer2D.prototype.updatePixels.call(this,h,c,u,l),this.setModified(!0)}},{key:"get",value:function(h,c,u,l){return _.default._validateParameters("p5.Image.get",arguments),_.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];return _.default.Renderer2D.prototype._getPixel.apply(this,c)}},{key:"set",value:function(h,c,u){_.default.Renderer2D.prototype.set.call(this,h,c,u),this.setModified(!0)}},{key:"resize",value:function(h,c){0===h&&0===c?(h=this.canvas.width,c=this.canvas.height):0===h?h=this.canvas.width*c/this.canvas.height:0===c&&(c=this.canvas.height*h/this.canvas.width),h=Math.floor(h),c=Math.floor(c);var u=document.createElement("canvas");if(u.width=h,u.height=c,this.gifProperties)for(var l=this.gifProperties,y=0;y<l.numFrames;y++){for(var f=this.drawingContext.createImageData(h,c),b=(k=k=j=F=B=void 0,l.frames[y].image),D=f,B=0,F=0;F<D.height;F++)for(var j=0;j<D.width;j++){var k=Math.floor(j*b.width/D.width);k=4*(Math.floor(F*b.height/D.height)*b.width+k),D.data[B++]=b.data[k++],D.data[B++]=b.data[k++],D.data[B++]=b.data[k++],D.data[B++]=b.data[+k]}l.frames[y].image=f}u.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,u.width,u.height),this.canvas.width=this.width=h,this.canvas.height=this.height=c,this.drawingContext.drawImage(u,0,0,h,c,0,0,h,c),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];_.default.prototype.copy.apply(this,c)}},{key:"mask",value:function(h){var c=this.drawingContext.globalCompositeOperation,u=1,l=[h=void 0===h?this:h,0,0,(u=h instanceof _.default.Renderer?h._pInst._pixelDensity:u)*h.width,u*h.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var y=0;y<this.gifProperties.frames.length;y++)this.drawingContext.putImageData(this.gifProperties.frames[y].image,0,0),this.copy.apply(this,l),this.gifProperties.frames[y].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,l);this.drawingContext.globalCompositeOperation=c,this.setModified(!0)}},{key:"filter",value:function(h,c){d.default.apply(this.canvas,d.default[h],c),this.setModified(!0)}},{key:"blend",value:function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];_.default._validateParameters("p5.Image.blend",arguments),_.default.prototype.blend.apply(this,c),this.setModified(!0)}},{key:"setModified",value:function(h){this._modified=h}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(h,c){this.gifProperties?_.default.prototype.encodeAndDownloadGif(this,h):_.default.prototype.saveCanvas(this.canvas,h,c)}},{key:"reset",value:function(){var h;this.gifProperties&&((h=this.gifProperties).playing=!0,h.timeSinceStart=0,h.timeDisplayed=0,h.lastChangeTime=0,h.loopCount=0,h.displayIndex=0,this.drawingContext.putImageData(h.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var h;if(this.gifProperties)return(h=this.gifProperties).displayIndex%h.numFrames}},{key:"setFrame",value:function(h){var c;this.gifProperties&&(h<(c=this.gifProperties).numFrames&&0<=h?(c.timeDisplayed=0,c.lastChangeTime=0,c.displayIndex=h,this.drawingContext.putImageData(c.frames[h].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(h,c){if(this.gifProperties){var u=this.gifProperties;if(c<u.numFrames&&0<=c)u.frames[c].delay=h;else{var l=!0,y=void(c=!1);try{for(var f,b=u.frames[Symbol.iterator]();!(l=(f=b.next()).done);l=!0)f.value.delay=h}catch(B){c=!0,y=B}finally{try{l||null==b.return||b.return()}finally{if(c)throw y}}}}}}])&&m(x.prototype,s),C}(),w.default=o=_.default.Image},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(o,V,w){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=p(o("../core/main")),d=p(o("./filters"));function p(m){return m&&m.__esModule?m:{default:m}}o("../color/p5.Color"),_.default.prototype.pixels=[],_.default.prototype.blend=function(){for(var m,C=arguments.length,x=new Array(C),s=0;s<C;s++)x[s]=arguments[s];_.default._validateParameters("blend",x),this._renderer?(m=this._renderer).blend.apply(m,x):_.default.Renderer2D.prototype.blend.apply(this,x)},_.default.prototype.copy=function(){for(var m,C,x,s,a,h,c,u,l,y=arguments.length,f=new Array(y),b=0;b<y;b++)f[b]=arguments[b];if(_.default._validateParameters("copy",f),9===f.length)m=f[0],C=f[1],x=f[2],s=f[3],a=f[4],h=f[5],c=f[6],u=f[7],l=f[8];else{if(8!==f.length)throw new Error("Signature not supported");m=this,C=f[0],x=f[1],s=f[2],a=f[3],h=f[4],c=f[5],u=f[6],l=f[7]}_.default.prototype._copyHelper(this,m,C,x,s,a,h,c,u,l)},_.default.prototype._copyHelper=function(m,C,x,s,a,h,c,u,l,y){var f=C.canvas.width/C.width,b=0,D=0;C._renderer&&C._renderer.isP3D&&(b=C.width/2,D=C.height/2),m._renderer&&m._renderer.isP3D?(m.push(),m.resetMatrix(),m.noLights(),m.blendMode(m.BLEND),m.imageMode(m.CORNER),_.default.RendererGL.prototype.image.call(m._renderer,C,x+b,s+D,a,h,c,u,l,y),m.pop()):m.drawingContext.drawImage(C.canvas,f*(x+b),f*(s+D),f*a,f*h,c,u,l,y)},_.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},_.default.prototype.filter=function(){for(var m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];_.default._validateParameters("filter",C);var c=function(){var u,l={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof _.default.Shader?l.shader=arguments.length<=0?void 0:arguments[0]:(l.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(l.value=arguments.length<=1?void 0:arguments[1]),!1===((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])&&(l.useWebGL=!1)),l}.apply(void 0,C),s=c.shader,a=c.operation,h=c.value;c=c.useWebGL,this._renderer.isP3D&&s?_.default.RendererGL.prototype.filter.call(this._renderer,s):c||this._renderer.isP3D?(!c&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?_.default.RendererGL.prototype.filter.call(this._renderer,a,h):((s=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),s.filter.apply(s,C),this.copy(s._renderer,0,0,this.width,this.height,0,0,this.width,this.height),s.clear())):d.default.apply(void 0!==this.canvas?this.canvas:this.elt,d.default[a],h)},_.default.prototype.get=function(m,C,x,s){var a;return _.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},_.default.prototype.loadPixels=function(){for(var m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];_.default._validateParameters("loadPixels",C),this._renderer.loadPixels()},_.default.prototype.set=function(m,C,x){this._renderer.set(m,C,x)},_.default.prototype.updatePixels=function(m,C,x,s){_.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(m,C,x,s)},w.default=o=_.default},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(o,V,w){"use strict";function _(h){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var d=C(o("../core/main")),p=(o("whatwg-fetch"),o("es6-promise/auto"),C(o("fetch-jsonp"))),m=C(o("file-saver"));function C(h){return h&&h.__esModule?h:{default:h}}function x(h){return(x="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(c){return _(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":_(c)})(h)}function s(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(h,c){c&&!0!==c&&"true"!==c||(c="");var u="";return(h=h||"untitled")&&h.includes(".")&&(u=h.split(".").pop()),c&&u!==c&&(u=c,h="".concat(h,".").concat(u)),[h,u]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),d.default.prototype.loadJSON=function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];d.default._validateParameters("loadJSON",c);for(var l,y,f,b=c[0],D={},B="json",F=1;F<c.length;F++){var j=c[F];"string"==typeof j?"jsonp"!==j&&"json"!==j||(B=j):"function"==typeof j?l?y=j:l=j:"object"===x(j)&&(j.hasOwnProperty("jsonpCallback")||j.hasOwnProperty("jsonpCallbackFunction"))&&(B="jsonp",f=j)}var k=this;return this.httpDo(b,"GET",f,B,function(U){for(var T in U)D[T]=U[T];void 0!==l&&l(U),k._decrementPreload()},function(U){if(d.default._friendlyFileLoadError(5,b),!y)throw U;y(U)}),D},d.default.prototype.loadStrings=function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];d.default._validateParameters("loadStrings",c);for(var l,y,f=[],b=1;b<c.length;b++){var D=c[b];"function"==typeof D&&(void 0===l?l=D:void 0===y&&(y=D))}var B=this;return d.default.prototype.httpDo.call(this,c[0],"GET","text",function(F){for(var j=F.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),k=0,U=j.length;k<U;k+=32768)Array.prototype.push.apply(f,j.slice(k,Math.min(k+32768,U)));void 0!==l&&l(f),B._decrementPreload()},function(F){if(d.default._friendlyFileLoadError(3,F),!y)throw F;y(F)}),f},d.default.prototype.loadTable=function(h){var c,u,l,y=[],f=!1,b=h.substring(h.lastIndexOf(".")+1,h.length);"csv"===b?l=",":"ssv"===b?l=";":"tsv"===b&&(l="\t");for(var D=1;D<arguments.length;D++)"function"==typeof arguments[D]?void 0===c?c=arguments[D]:void 0===u&&(u=arguments[D]):"string"==typeof arguments[D]&&(y.push(arguments[D]),"header"===arguments[D]&&(f=!0),"csv"===arguments[D]?l=",":"ssv"===arguments[D]?l=";":"tsv"===arguments[D]&&(l="\t"));var B=new d.default.Table,F=this;return this.httpDo(h,"GET","table",function(j){for(var k,U,T={},M=[],q=0,K=null,Y=function(){T.currentState=0,T.token=""},ie=function(){K.push(T.token),Y()},te=function(){T.currentState=4,M.push(K),K=null};;){if(null==(k=j[q++])){if(T.escaped)throw new Error("Unclosed quote in file.");if(K){ie(),te();break}}if(null===K&&(T.escaped=!1,K=[],Y()),0===T.currentState){if('"'===k){T.escaped=!0,T.currentState=1;continue}T.currentState=1}if(1===T.currentState&&T.escaped)if('"'===k)'"'===j[q]?(T.token+='"',q++):(T.escaped=!1,T.currentState=2);else{if("\r"===k)continue;T.token+=k}else"\r"===k?("\n"===j[q]&&q++,ie(),te()):"\n"===k?(ie(),te()):k===l?ie():1===T.currentState&&(T.token+=k)}if(f)B.columns=M.shift();else for(var z=0;z<M[0].length;z++)B.columns[z]="null";for(var oe=0;oe<M.length;oe++)(1!==M[oe].length||"undefined"!==M[oe][0]&&""!==M[oe][0])&&((U=new d.default.TableRow).arr=M[oe],U.obj=function(le,Ee){if(void 0===(Ee=Ee||[]))for(var W=0;W<le.length;W++)Ee[W.toString()]=W;return Object.fromEntries(Ee.map(function(R,ne){return[R,le[ne]]}))}(M[oe],B.columns),B.addRow(U));"function"==typeof c&&c(B),F._decrementPreload()},function(j){d.default._friendlyFileLoadError(2,h),u?u(j):console.error(j)}),B},d.default.prototype.loadXML=function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];for(var l,y,f=new d.default.XML,b=1;b<c.length;b++){var D=c[b];"function"==typeof D&&(void 0===l?l=D:void 0===y&&(y=D))}var B=this;return this.httpDo(c[0],"GET","xml",function(F){for(var j in F)f[j]=F[j];void 0!==l&&l(f),B._decrementPreload()},function(F){if(d.default._friendlyFileLoadError(1,F),!y)throw F;y(F)}),f},d.default.prototype.loadBytes=function(h,c,u){var l={},y=this;return this.httpDo(h,"GET","arrayBuffer",function(f){l.bytes=new Uint8Array(f),"function"==typeof c&&c(l),y._decrementPreload()},function(f){if(d.default._friendlyFileLoadError(6,h),!u)throw f;u(f)}),l},d.default.prototype.httpGet=function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];return d.default._validateParameters("httpGet",c),c.splice(1,0,"GET"),d.default.prototype.httpDo.apply(this,c)},d.default.prototype.httpPost=function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];return d.default._validateParameters("httpPost",c),c.splice(1,0,"POST"),d.default.prototype.httpDo.apply(this,c)},d.default.prototype.httpDo=function(){for(var h,c,u,l={},y=0,f="text/plain",b=arguments.length-1;0<b&&"function"==typeof(b<0||arguments.length<=b?void 0:arguments[b]);b--)y++;var B=arguments.length<=0?void 0:arguments[0];if(2==(D=arguments.length-y)&&"string"==typeof B&&"object"===x(arguments.length<=1?void 0:arguments[1]))I=new Request(B,arguments.length<=1?void 0:arguments[1]),c=arguments.length<=2?void 0:arguments[2],u=arguments.length<=3?void 0:arguments[3];else{for(var F,j="GET",k=1;k<arguments.length;k++){var U=k<0||arguments.length<=k?void 0:arguments[k];if("string"==typeof U)"GET"===U||"POST"===U||"PUT"===U||"DELETE"===U?j=U:"json"===U||"jsonp"===U||"binary"===U||"arrayBuffer"===U||"xml"===U||"text"===U||"table"===U?h=U:F=U;else if("number"==typeof U)F=U.toString();else if("object"===x(U))if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var T in U)l[T]=U[T];else f=U instanceof d.default.XML?(F=U.serialize(),"application/xml"):(F=JSON.stringify(U),"application/json");else"function"==typeof U&&(c?u=U:c=U)}var D="GET"===j?new Headers:new Headers({"Content-Type":f}),I=new Request(B,{method:j,mode:"cors",body:F,headers:D})}return(D=(D="jsonp"===(h=h||(B.includes("json")?"json":B.includes("xml")?"xml":"text"))?(0,p.default)(B,l):fetch(I)).then(function(M){if(!M.ok)throw(q=new Error(M.body)).status=M.status,q.ok=!1,q;var q=0;switch((q="jsonp"!==h?M.headers.get("content-length"):q)&&64e6<q&&d.default._friendlyFileLoadError(7,B),h){case"json":case"jsonp":return M.json();case"binary":return M.blob();case"arrayBuffer":return M.arrayBuffer();case"xml":return M.text().then(function(K){return K=(new DOMParser).parseFromString(K,"text/xml"),new d.default.XML(K.documentElement)});default:return M.text()}})).then(c||function(){}),D.catch(u||console.error),D},window.URL=window.URL||window.webkitURL,d.default.prototype._pWriters=[],d.default.prototype.createWriter=function(h,c){var u,l;for(l in d.default.prototype._pWriters)if(d.default.prototype._pWriters[l].name===h)return u=new d.default.PrintWriter(h+this.millis(),c),d.default.prototype._pWriters.push(u),u;return u=new d.default.PrintWriter(h,c),d.default.prototype._pWriters.push(u),u},d.default.PrintWriter=function(h,c){var u=this;this.name=h,this.content="",this.write=function(l){this.content+=l},this.print=function(l){this.content+="".concat(l,"\n")},this.clear=function(){this.content=""},this.close=function(){var l,y=[];for(l in y.push(this.content),d.default.prototype.writeFile(y,h,c),d.default.prototype._pWriters)d.default.prototype._pWriters[l].name===this.name&&d.default.prototype._pWriters.splice(l,1);u.clear(),u={}}},d.default.prototype.save=function(h,c,u){var l=arguments,y=(this._curElement||this).elt;if(0===l.length)d.default.prototype.saveCanvas(y);else if(l[0]instanceof d.default.Renderer||l[0]instanceof d.default.Graphics)d.default.prototype.saveCanvas(l[0].elt,l[1],l[2]);else if(1===l.length&&"string"==typeof l[0])d.default.prototype.saveCanvas(y,l[0]);else switch(a(l[1],l[2])[1]){case"json":return void d.default.prototype.saveJSON(l[0],l[1],l[2]);case"txt":return void d.default.prototype.saveStrings(l[0],l[1],l[2]);default:l[0]instanceof Array?d.default.prototype.saveStrings(l[0],l[1],l[2]):l[0]instanceof d.default.Table?d.default.prototype.saveTable(l[0],l[1],l[2]):l[0]instanceof d.default.Image?d.default.prototype.saveCanvas(l[0].canvas,l[1]):l[0]instanceof d.default.SoundFile&&d.default.prototype.saveSound(l[0],l[1],l[2],l[3])}},d.default.prototype.saveJSON=function(h,c,u){d.default._validateParameters("saveJSON",arguments),u=u?JSON.stringify(h):JSON.stringify(h,void 0,2),this.saveStrings(u.split("\n"),c,"json")},d.default.prototype.saveJSONObject=d.default.prototype.saveJSON,d.default.prototype.saveJSONArray=d.default.prototype.saveJSON,d.default.prototype.saveStrings=function(h,c,u,l){d.default._validateParameters("saveStrings",arguments);for(var y=this.createWriter(c,u||"txt"),f=0;f<h.length;f++)y.write(l?h[f]+"\r\n":h[f]+"\n");y.close(),y.clear()},d.default.prototype.saveTable=function(h,c,u){d.default._validateParameters("saveTable",arguments),l=void 0===u?c.substring(c.lastIndexOf(".")+1,c.length):u;var l,y=this.createWriter(c,l),f=h.columns,b="tsv"===l?"\t":",";if("html"!==l){if("0"!==f[0]){for(var D=0;D<f.length;D++)y.write(D<f.length-1?f[D]+b:f[D]);y.write("\n")}for(var B=0;B<h.rows.length;B++){var F=void 0;for(F=0;F<h.rows[B].arr.length;F++)F<h.rows[B].arr.length-1?"csv"===l&&String(h.rows[B].arr[F]).includes(",")?y.write('"'+h.rows[B].arr[F]+'"'+b):y.write(h.rows[B].arr[F]+b):"csv"===l&&String(h.rows[B].arr[F]).includes(",")?y.write('"'+h.rows[B].arr[F]+'"'):y.write(h.rows[B].arr[F]);y.write("\n")}}else{if(y.print("<html>"),y.print("<head>"),y.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),y.print("</head>"),y.print("<body>"),y.print("  <table>"),"0"!==f[0]){y.print("    <tr>");for(var j=0;j<f.length;j++){var k=s(f[j]);y.print("      <td>".concat(k)),y.print("      </td>")}y.print("    </tr>")}for(var U=0;U<h.rows.length;U++){y.print("    <tr>");for(var T=0;T<h.columns.length;T++){var I=s(h.rows[U].getString(T));y.print("      <td>".concat(I)),y.print("      </td>")}y.print("    </tr>")}y.print("  </table>"),y.print("</body>"),y.print("</html>")}y.close(),y.clear()},d.default.prototype.writeFile=function(y,c,u){var l="application/octet-stream";d.default.prototype._isSafari()&&(l="text/plain"),y=new Blob(y,{type:l}),d.default.prototype.downloadFile(y,c,u)},d.default.prototype.downloadFile=function(h,y,f){var l;f=(y=a(y,f))[0],h instanceof Blob?m.default.saveAs(h,f):((l=document.createElement("a")).href=h,l.download=f,l.onclick=function(b){document.body.removeChild(b.target),b.stopPropagation()},l.style.display="none",document.body.appendChild(l),d.default.prototype._isSafari()&&(h=(h='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(y[1],'"'),alert(h)),l.click())},d.default.prototype._checkFileExtension=a,d.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},w.default=o=d.default},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(o,V,w){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function d(p,m){for(var C=0;C<m.length;C++){var x=m[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}_.default.Table=function(){function p(s){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var m,C;return m=p,(C=[{key:"addRow",value:function(s){if(void 0===(s=s||new _.default.TableRow).arr||void 0===s.obj)throw new Error("invalid TableRow: ".concat(s));return(s.table=this).rows.push(s),s}},{key:"removeRow",value:function(s){this.rows[s].table=null,s=this.rows.splice(s+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(s)}},{key:"getRow",value:function(s){return this.rows[s]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(s,a){if("string"==typeof a){for(var h=0;h<this.rows.length;h++)if(this.rows[h].obj[a]===s)return this.rows[h]}else for(var c=0;c<this.rows.length;c++)if(this.rows[c].arr[a]===s)return this.rows[c];return null}},{key:"findRows",value:function(s,a){var h=[];if("string"==typeof a)for(var c=0;c<this.rows.length;c++)this.rows[c].obj[a]===s&&h.push(this.rows[c]);else for(var u=0;u<this.rows.length;u++)this.rows[u].arr[a]===s&&h.push(this.rows[u]);return h}},{key:"matchRow",value:function(s,a){if("number"==typeof a){for(var h=0;h<this.rows.length;h++)if(this.rows[h].arr[a].match(s))return this.rows[h]}else for(var c=0;c<this.rows.length;c++)if(this.rows[c].obj[a].match(s))return this.rows[c];return null}},{key:"matchRows",value:function(s,a){var h=[];if("number"==typeof a)for(var c=0;c<this.rows.length;c++)this.rows[c].arr[a].match(s)&&h.push(this.rows[c]);else for(var u=0;u<this.rows.length;u++)this.rows[u].obj[a].match(s)&&h.push(this.rows[u]);return h}},{key:"getColumn",value:function(s){var a=[];if("string"==typeof s)for(var h=0;h<this.rows.length;h++)a.push(this.rows[h].obj[s]);else for(var c=0;c<this.rows.length;c++)a.push(this.rows[c].arr[s]);return a}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(s){this.columns.push(s||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(s,a){for(var h=[],c=0;c<s.length;c++)h.push(s.charAt(c).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var u=new RegExp(h.join("|"),"g");if(void 0===a)for(var l=0;l<this.columns.length;l++)for(var y=0;y<this.rows.length;y++){var f=(f=this.rows[y].arr[l]).replace(u,"");this.rows[y].arr[l]=f,this.rows[y].obj[this.columns[l]]=f}else if("string"==typeof a)for(var b=0;b<this.rows.length;b++){var D=(D=this.rows[b].obj[a]).replace(u,""),B=(this.rows[b].obj[a]=D,this.columns.indexOf(a));this.rows[b].arr[B]=D}else for(var F=0;F<this.rows.length;F++){var j=(j=this.rows[F].arr[a]).replace(u,"");this.rows[F].arr[a]=j,this.rows[F].obj[this.columns[a]]=j}}},{key:"trim",value:function(s){var a=new RegExp(" ","g");if(void 0===s)for(var h=0;h<this.columns.length;h++)for(var c=0;c<this.rows.length;c++){var u=(u=this.rows[c].arr[h]).replace(a,"");this.rows[c].arr[h]=u,this.rows[c].obj[this.columns[h]]=u}else if("string"==typeof s)for(var l=0;l<this.rows.length;l++){var y=(y=this.rows[l].obj[s]).replace(a,""),f=(this.rows[l].obj[s]=y,this.columns.indexOf(s));this.rows[l].arr[f]=y}else for(var b=0;b<this.rows.length;b++){var D=(D=this.rows[b].arr[s]).replace(a,"");this.rows[b].arr[s]=D,this.rows[b].obj[this.columns[s]]=D}}},{key:"removeColumn",value:function(c){var a,h;"string"==typeof c?h=this.columns.indexOf(a=c):a=this.columns[h=c],c=this.columns.splice(h+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(c);for(var u=0;u<this.rows.length;u++){var l=this.rows[u].arr,y=l.splice(h+1,l.length);l.pop(),this.rows[u].arr=l.concat(y),delete this.rows[u].obj[a]}}},{key:"set",value:function(s,a,h){this.rows[s].set(a,h)}},{key:"setNum",value:function(s,a,h){this.rows[s].setNum(a,h)}},{key:"setString",value:function(s,a,h){this.rows[s].setString(a,h)}},{key:"get",value:function(s,a){return this.rows[s].get(a)}},{key:"getNum",value:function(s,a){return this.rows[s].getNum(a)}},{key:"getString",value:function(s,a){return this.rows[s].getString(a)}},{key:"getObject",value:function(s){for(var a,h={},c=0;c<this.rows.length;c++)if(a=this.rows[c].obj,"string"==typeof s){if(!(0<=this.columns.indexOf(s)))throw new Error('This table has no column named "'.concat(s,'"'));h[a[s]]=a}else h[c]=this.rows[c].obj;return h}},{key:"getArray",value:function(){for(var s=[],a=0;a<this.rows.length;a++)s.push(this.rows[a].arr);return s}}])&&d(m.prototype,C),p}(),w.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(o,V,w){"use strict";function _(d,p){for(var m=0;m<p.length;m++){var C=p[m];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(d,C.key,C)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function d(x,s){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var a=[];x&&(a=x.split(s=s||",")),this.arr=a,this.obj=Object.fromEntries(a.entries()),this.table=null}var p,m;return p=d,(m=[{key:"set",value:function(x,s){if("string"==typeof x){var a=this.table.columns.indexOf(x);if(!(0<=a))throw new Error('This table has no column named "'.concat(x,'"'));this.obj[x]=s,this.arr[a]=s}else{if(!(x<this.table.columns.length))throw new Error("Column #".concat(x," is out of the range of this table"));this.arr[x]=s,this.obj[a=this.table.columns[x]]=s}}},{key:"setNum",value:function(x,s){s=parseFloat(s),this.set(x,s)}},{key:"setString",value:function(x,s){s=s.toString(),this.set(x,s)}},{key:"get",value:function(x){return("string"==typeof x?this.obj:this.arr)[x]}},{key:"getNum",value:function(x){var s=parseFloat("string"==typeof x?this.obj[x]:this.arr[x]);if("NaN"===s.toString())throw"Error: ".concat(this.obj[x]," is NaN (Not a Number)");return s}},{key:"getString",value:function(x){return("string"==typeof x?this.obj:this.arr)[x].toString()}}])&&_(p.prototype,m),d}(),w.default=o=o.default},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function d(m,C){for(var x=0;x<C.length;x++){var s=C[x];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(m,s.key,s)}}_.default.XML=function(){function m(a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");a?this.DOM=a:(a=document.implementation.createDocument(null,"doc"),this.DOM=a.createElement("root"))}var C,x;return C=m,(x=[{key:"getParent",value:function(){return new _.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(a){var h=this.DOM.innerHTML,c=this.DOM.attributes,u=document.implementation.createDocument(null,"default").createElement(a);u.innerHTML=h;for(var l=0;l<c.length;l++)u.setAttribute(c[l].nodeName,c.nodeValue);this.DOM=u}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var a=[],h=0;h<this.DOM.childNodes.length;h++)a.push(this.DOM.childNodes[h].nodeName);return a}},{key:"getChildren",value:function(a){return function p(m){for(var C=[],x=0;x<m.length;x++)C.push(new _.default.XML(m[x]));return C}(a?this.DOM.getElementsByTagName(a):this.DOM.children)}},{key:"getChild",value:function(a){if("string"!=typeof a)return new _.default.XML(this.DOM.children[a]);var h=!0,c=!1,u=void 0;try{for(var l,y=this.DOM.children[Symbol.iterator]();!(h=(l=y.next()).done);h=!0){var f=l.value;if(f.tagName===a)return new _.default.XML(f)}}catch(b){c=!0,u=b}finally{try{h||null==y.return||y.return()}finally{if(c)throw u}}}},{key:"addChild",value:function(a){a instanceof _.default.XML&&this.DOM.appendChild(a.DOM)}},{key:"removeChild",value:function(a){var h=-1;if("string"==typeof a){for(var c=0;c<this.DOM.children.length;c++)if(this.DOM.children[c].tagName===a){h=c;break}}else h=a;-1!==h&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var a=[],h=!0,c=!1,u=void 0;try{for(var l,y=this.DOM.attributes[Symbol.iterator]();!(h=(l=y.next()).done);h=!0)a.push(l.value.nodeName)}catch(b){c=!0,u=b}finally{try{h||null==y.return||y.return()}finally{if(c)throw u}}return a}},{key:"hasAttribute",value:function(a){var h={},c=!0,u=!1,l=void 0;try{for(var y,f=this.DOM.attributes[Symbol.iterator]();!(c=(y=f.next()).done);c=!0){var b=y.value;h[b.nodeName]=b.nodeValue}}catch(D){u=!0,l=D}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}return!!h[a]}},{key:"getNum",value:function(a,h){var c={},u=!0,l=!1,y=void 0;try{for(var f,b=this.DOM.attributes[Symbol.iterator]();!(u=(f=b.next()).done);u=!0){var D=f.value;c[D.nodeName]=D.nodeValue}}catch(B){l=!0,y=B}finally{try{u||null==b.return||b.return()}finally{if(l)throw y}}return Number(c[a])||h||0}},{key:"getString",value:function(a,h){var c={},u=!0,l=!1,y=void 0;try{for(var f,b=this.DOM.attributes[Symbol.iterator]();!(u=(f=b.next()).done);u=!0){var D=f.value;c[D.nodeName]=D.nodeValue}}catch(B){l=!0,y=B}finally{try{u||null==b.return||b.return()}finally{if(l)throw y}}return c[a]?String(c[a]):h||null}},{key:"setAttribute",value:function(a,h){this.DOM.setAttribute(a,h)}},{key:"getContent",value:function(a){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||a||null}},{key:"setContent",value:function(a){this.DOM.children.length||(this.DOM.textContent=a)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&d(C.prototype,x),m}(),w.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function d(p){return function(m){if(Array.isArray(m)){for(var C=0,x=new Array(m.length);C<m.length;C++)x[C]=m[C];return x}}(p)||function(m){if(Symbol.iterator in Object(m)||"[object Arguments]"===Object.prototype.toString.call(m))return Array.from(m)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}_.default.prototype.abs=Math.abs,_.default.prototype.ceil=Math.ceil,_.default.prototype.constrain=function(p,m,C){return _.default._validateParameters("constrain",arguments),Math.max(Math.min(p,C),m)},_.default.prototype.dist=function(){for(var p=arguments.length,m=new Array(p),C=0;C<p;C++)m[C]=arguments[C];return _.default._validateParameters("dist",m),4===m.length?Math.hypot(m[2]-m[0],m[3]-m[1]):6===m.length?Math.hypot(m[3]-m[0],m[4]-m[1],m[5]-m[2]):void 0},_.default.prototype.exp=Math.exp,_.default.prototype.floor=Math.floor,_.default.prototype.lerp=function(p,m,C){return _.default._validateParameters("lerp",arguments),C*(m-p)+p},_.default.prototype.log=Math.log,_.default.prototype.mag=function(p,m){return _.default._validateParameters("mag",arguments),Math.hypot(p,m)},_.default.prototype.map=function(p,m,C,x,s,a){return _.default._validateParameters("map",arguments),p=(p-m)/(C-m)*(s-x)+x,a?x<s?this.constrain(p,x,s):this.constrain(p,s,x):p},_.default.prototype.max=function(){for(var p=function(s){return Math.max.apply(Math,d(s))},m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];return Array.isArray(C[0])?p(C[0]):p(C)},_.default.prototype.min=function(){for(var p=function(s){return Math.min.apply(Math,d(s))},m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];return Array.isArray(C[0])?p(C[0]):p(C)},_.default.prototype.norm=function(p,m,C){return _.default._validateParameters("norm",arguments),this.map(p,m,C,0,1)},_.default.prototype.pow=Math.pow,_.default.prototype.round=function(p,m){return m?(m=Math.pow(10,m),Math.round(p*m)/m):Math.round(p)},_.default.prototype.sq=function(p){return p*p},_.default.prototype.sqrt=Math.sqrt,_.default.prototype.fract=function(x){_.default._validateParameters("fract",arguments);var m,C=0;return x=Number(x),isNaN(x)||Math.abs(x)===1/0?x:(x<0&&(x=-x,C=1),String(x).includes(".")&&!String(x).includes("e")?(m=+("0"+(m=String(x)).slice(m.indexOf("."))),Math.abs(C-m)):x<1?Math.abs(C-x):0)},w.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(o,V,w){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function d(m,C,x){return(d=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(s,a,h){var c=[null];return c.push.apply(c,a),a=new(Function.bind.apply(s,c)),h&&p(a,h.prototype),a}).apply(null,arguments)}function p(m,C){return(p=Object.setPrototypeOf||function(x,s){return x.__proto__=s,x})(m,C)}_.default.prototype.createVector=function(m,C,x){return this instanceof _.default?d(_.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new _.default.Vector(m,C,x)},w.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(x,V,w){"use strict";function _(s){return.5*(1-Math.cos(s*Math.PI))}Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,x=(x=x("../core/main"))&&x.__esModule?x:{default:x};var d,p=4095,m=4,C=.5;x.default.prototype.noise=function(s){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==d){d=new Array(4096);for(var c=0;c<4096;c++)d[c]=Math.random()}s<0&&(s=-s),a<0&&(a=-a),h<0&&(h=-h);for(var u,l,y=Math.floor(s),f=Math.floor(a),b=Math.floor(h),D=s-y,B=a-f,F=h-b,j=0,k=.5,U=0;U<m;U++){var T=y+(f<<4)+(b<<8),I=_(D),M=_(B),q=d[T&p];q+=I*(d[T+1&p]-q),u=d[T+16&p],q+=M*((u+=I*(d[T+16+1&p]-u))-q),u=d[(T+=256)&p],u+=I*(d[T+1&p]-u),l=d[T+16&p],u+=M*((l+=I*(d[T+16+1&p]-l))-u),j+=(q+=_(F)*(u-q))*k,k*=C,y<<=1,f<<=1,b<<=1,1<=(D*=2)&&(y++,D--),1<=(B*=2)&&(f++,B--),1<=(F*=2)&&(b++,F--)}return j},x.default.prototype.noiseDetail=function(s,a){0<s&&(m=s),0<a&&(C=a)},x.default.prototype.noiseSeed=function(s){c=4294967296;var h,c,u_rand=function(){return(h=(1664525*h+1013904223)%c)/c};(function(y){h=(null==y?Math.random()*c:y)>>>0})(s),d=new Array(4096);for(var l=0;l<4096;l++)d[l]=u_rand()},w.default=x=x.default},{"../core/main":280}],313:[function(o,V,w){"use strict";function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(a)}function d(a){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(h){return _(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":_(h)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(s=o("../core/main"))&&s.__esModule?s:{default:s},m=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==d(a)&&"function"!=typeof a)return{default:a};var h=C();if(h&&h.has(a))return h.get(a);var c,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var y;Object.prototype.hasOwnProperty.call(a,c)&&((y=l?Object.getOwnPropertyDescriptor(a,c):null)&&(y.get||y.set)?Object.defineProperty(u,c,y):u[c]=a[c])}return u.default=a,h&&h.set(a,u),u}(o("../core/constants"));function C(){var a;return"function"!=typeof WeakMap?null:(C=function(){return a},a=new WeakMap)}function x(a,h){for(var c=0;c<h.length;c++){var u=h[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}p.default.Vector=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var y,f,b="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],y=(arguments.length<=2?void 0:arguments[2])||0,f=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(y=(arguments.length<=0?void 0:arguments[0])||0,f=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=y,this.y=f,this.z=b}var h,c,u;return h=a,u=[{key:"fromAngle",value:function(l,y){return new p.default.Vector((y=void 0===y?1:y)*Math.cos(l),y*Math.sin(l),0)}},{key:"fromAngles",value:function(F,D,f){void 0===f&&(f=1);var b=Math.cos(D),B=(D=Math.sin(D),Math.cos(F));return F=Math.sin(F),new p.default.Vector(f*F*D,-f*B,f*F*b)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*m.TWO_PI)}},{key:"random3D",value:function(){var l=Math.random()*m.TWO_PI,y=2*Math.random()-1,f=(b=Math.sqrt(1-y*y))*Math.cos(l),b=b*Math.sin(l);return new p.default.Vector(f,b,y)}},{key:"copy",value:function(l){return l.copy(l)}},{key:"add",value:function(l,y,f){return f?f.set(l):(f=l.copy(),3===arguments.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),f.add(y),f}},{key:"rem",value:function(l,y){if(l instanceof p.default.Vector&&y instanceof p.default.Vector)return(l=l.copy()).rem(y),l}},{key:"sub",value:function(l,y,f){return f?f.set(l):(f=l.copy(),3===arguments.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),f.sub(y),f}},{key:"mult",value:function(l,y,f){return f?f.set(l):(f=l.copy(),3===arguments.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),f.mult(y),f}},{key:"rotate",value:function(l,y,f){return 2===arguments.length?f=l.copy():(f instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),f.set(l)),f.rotate(y),f}},{key:"div",value:function(l,y,f){return f?f.set(l):(f=l.copy(),3===arguments.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),f.div(y),f}},{key:"dot",value:function(l,y){return l.dot(y)}},{key:"cross",value:function(l,y){return l.cross(y)}},{key:"dist",value:function(l,y){return l.dist(y)}},{key:"lerp",value:function(l,y,f,b){return b?b.set(l):(b=l.copy(),4===arguments.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),b.lerp(y,f),b}},{key:"slerp",value:function(l,y,f,b){return b?b.set(l):(b=l.copy(),4===arguments.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),b.slerp(y,f),b}},{key:"mag",value:function(l){return l.mag()}},{key:"magSq",value:function(l){return l.magSq()}},{key:"normalize",value:function(l,y){return arguments.length<2?y=l.copy():(y instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),y.set(l)),y.normalize()}},{key:"limit",value:function(l,y,f){return arguments.length<3?f=l.copy():(f instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),f.set(l)),f.limit(y)}},{key:"setMag",value:function(l,y,f){return arguments.length<3?f=l.copy():(f instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),f.set(l)),f.setMag(y)}},{key:"heading",value:function(l){return l.heading()}},{key:"angleBetween",value:function(l,y){return l.angleBetween(y)}},{key:"reflect",value:function(l,y,f){return arguments.length<3?f=l.copy():(f instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),f.set(l)),f.reflect(y)}},{key:"array",value:function(l){return l.array()}},{key:"equals",value:function(l,y){var f;return l instanceof p.default.Vector?f=l:Array.isArray(l)?f=(new p.default.Vector).set(l):p.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),f.equals(y)}}],(c=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(l,y,f){return l instanceof p.default.Vector?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):Array.isArray(l)?(this.x=l[0]||0,this.y=l[1]||0,this.z=l[2]||0):(this.x=l||0,this.y=y||0,this.z=f||0),this}},{key:"copy",value:function(){return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new p.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(l,y,f){return l instanceof p.default.Vector?(this.x+=l.x||0,this.y+=l.y||0,this.z+=l.z||0):Array.isArray(l)?(this.x+=l[0]||0,this.y+=l[1]||0,this.z+=l[2]||0):(this.x+=l||0,this.y+=y||0,this.z+=f||0),this}},{key:"calculateRemainder2D",value:function(l,y){return 0!==l&&(this.x=this.x%l),0!==y&&(this.y=this.y%y),this}},{key:"calculateRemainder3D",value:function(l,y,f){return 0!==l&&(this.x=this.x%l),0!==y&&(this.y=this.y%y),0!==f&&(this.z=this.z%f),this}},{key:"rem",value:function(l,y,f){var b;if(l instanceof p.default.Vector){if([l.x,l.y,l.z].every(Number.isFinite))return D=parseFloat(l.x),B=parseFloat(l.y),b=parseFloat(l.z),this.calculateRemainder3D(D,B,b)}else if(Array.isArray(l)){if(l.every(function(F){return Number.isFinite(F)}))return 2===l.length?this.calculateRemainder2D(l[0],l[1]):3===l.length?this.calculateRemainder3D(l[0],l[1],l[2]):void 0}else if(1===arguments.length){if(Number.isFinite(l)&&0!==l)return this.x=this.x%l,this.y=this.y%l,this.z=this.z%l,this}else if(2===arguments.length){var D=Array.prototype.slice.call(arguments);if(D.every(function(F){return Number.isFinite(F)})&&2===D.length)return this.calculateRemainder2D(D[0],D[1])}else if(3===arguments.length){var B=Array.prototype.slice.call(arguments);if(B.every(function(F){return Number.isFinite(F)})&&3===B.length)return this.calculateRemainder3D(B[0],B[1],B[2])}}},{key:"sub",value:function(l,y,f){return l instanceof p.default.Vector?(this.x-=l.x||0,this.y-=l.y||0,this.z-=l.z||0):Array.isArray(l)?(this.x-=l[0]||0,this.y-=l[1]||0,this.z-=l[2]||0):(this.x-=l||0,this.y-=y||0,this.z-=f||0),this}},{key:"mult",value:function(l,y,f){var b;return l instanceof p.default.Vector?Number.isFinite(l.x)&&Number.isFinite(l.y)&&Number.isFinite(l.z)&&"number"==typeof l.x&&"number"==typeof l.y&&"number"==typeof l.z?(this.x*=l.x,this.y*=l.y,this.z*=l.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(l)?l.every(function(D){return Number.isFinite(D)})&&l.every(function(D){return"number"==typeof D})?1===l.length?(this.x*=l[0],this.y*=l[0],this.z*=l[0]):2===l.length?(this.x*=l[0],this.y*=l[1]):3===l.length&&(this.x*=l[0],this.y*=l[1],this.z*=l[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(b=Array.prototype.slice.call(arguments)).every(function(D){return Number.isFinite(D)})&&b.every(function(D){return"number"==typeof D})?(1===arguments.length&&(this.x*=l,this.y*=l,this.z*=l),2===arguments.length&&(this.x*=l,this.y*=y),3===arguments.length&&(this.x*=l,this.y*=y,this.z*=f)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(l,y,f){if(l instanceof p.default.Vector)if(Number.isFinite(l.x)&&Number.isFinite(l.y)&&Number.isFinite(l.z)&&"number"==typeof l.x&&"number"==typeof l.y&&"number"==typeof l.z){var b=0===l.z&&0===this.z;if(0===l.x||0===l.y||!b&&0===l.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=l.x,this.y/=l.y,b||(this.z/=l.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(l))if(l.every(function(D){return Number.isFinite(D)})&&l.every(function(D){return"number"==typeof D})){if(l.some(function(D){return 0===D}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===l.length?(this.x/=l[0],this.y/=l[0],this.z/=l[0]):2===l.length?(this.x/=l[0],this.y/=l[1]):3===l.length&&(this.x/=l[0],this.y/=l[1],this.z/=l[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((b=Array.prototype.slice.call(arguments)).every(function(D){return Number.isFinite(D)})&&b.every(function(D){return"number"==typeof D})){if(b.some(function(D){return 0===D}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=l,this.y/=l,this.z/=l),2===arguments.length&&(this.x/=l,this.y/=y),3===arguments.length&&(this.x/=l,this.y/=y,this.z/=f)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var l=this.x,y=this.y,f=this.z;return l*l+y*y+f*f}},{key:"dot",value:function(l,y,f){return l instanceof p.default.Vector?this.dot(l.x,l.y,l.z):this.x*(l||0)+this.y*(y||0)+this.z*(f||0)}},{key:"cross",value:function(b){var y=this.y*b.z-this.z*b.y,f=this.z*b.x-this.x*b.z;return b=this.x*b.y-this.y*b.x,this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,y,f,b):new p.default.Vector(y,f,b)}},{key:"dist",value:function(l){return l.copy().sub(this).mag()}},{key:"normalize",value:function(){var l=this.mag();return 0!==l&&this.mult(1/l),this}},{key:"limit",value:function(l){var y=this.magSq();return l*l<y&&this.div(Math.sqrt(y)).mult(l),this}},{key:"setMag",value:function(l){return this.normalize().mult(l)}},{key:"heading",value:function(){var l=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(l):l}},{key:"setHeading",value:function(l){this.isPInst&&(l=this._toRadians(l));var y=this.mag();return this.x=y*Math.cos(l),this.y=y*Math.sin(l),this}},{key:"rotate",value:function(y){y=this.heading()+y;var f=(this.isPInst&&(y=this._toRadians(y)),this.mag());return this.x=Math.cos(y)*f,this.y=Math.sin(y)*f,this}},{key:"angleBetween",value:function(l){var y;return this.magSq()*l.magSq()==0?NaN:(y=this.cross(l),l=Math.atan2(y.mag(),this.dot(l))*Math.sign(y.z||1),this.isPInst?this._fromRadians(l):l)}},{key:"lerp",value:function(l,y,f,b){return l instanceof p.default.Vector?this.lerp(l.x,l.y,l.z,y):(this.x+=(l-this.x)*b||0,this.y+=(y-this.y)*b||0,this.z+=(f-this.z)*b||0,this)}},{key:"slerp",value:function(l,y){if(0!==y){if(1===y)return this.set(l);var f=this.mag(),b=l.mag();if(f*b==0)this.mult(1-y).add(l.x*y,l.y*y,l.z*y);else{var D=this.cross(l),B=D.mag(),F=Math.atan2(B,this.dot(l));if(0<B)D.x/=B,D.y/=B,D.z/=B;else{if(F<.5*Math.PI)return this.mult(1-y).add(l.x*y,l.y*y,l.z*y),this;0===this.z&&0===l.z?D.set(0,0,1):0!==this.x?D.set(this.y,-this.x,0).normalize():D.set(1,0,0)}B=D.cross(this),D=(l=1-y+y*b/f)*Math.cos(y*F),b=l*Math.sin(y*F),this.x=this.x*D+B.x*b,this.y=this.y*D+B.y*b,this.z=this.z*D+B.z*b}}return this}},{key:"reflect",value:function(l){return l.normalize(),this.sub(l.mult(2*this.dot(l)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(B,y,f){var b,D;return B=B instanceof p.default.Vector?(b=B.x||0,D=B.y||0,B.z||0):Array.isArray(B)?(b=B[0]||0,D=B[1]||0,B[2]||0):(b=B||0,D=y||0,f||0),this.x===b&&this.y===D&&this.z===B}}])&&x(h.prototype,c),u&&x(h,u),a}();var s=p.default.Vector;w.default=s},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(C,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(C=C("../core/main"))&&C.__esModule?C:{default:C},d="_lcg_random_state",p=4294967296,m=0;_.default.prototype._lcg=function(x){return this[x]=(1664525*this[x]+1013904223)%p,this[x]/p},_.default.prototype._lcgSetSeed=function(x,s){this[x]=(null==s?Math.random()*p:s)>>>0},_.default.prototype.randomSeed=function(x){this._lcgSetSeed(d,x),this._gaussian_previous=!1},_.default.prototype.random=function(x,s){var a,h;return _.default._validateParameters("random",arguments),a=null!=this[d]?this._lcg(d):Math.random(),void 0===x?a:void 0===s?Array.isArray(x)?x[Math.floor(a*x.length)]:a*x:(s<x&&(h=x,x=s,s=h),a*(s-x)+x)},_.default.prototype.randomGaussian=function(x){var s,a,h,c,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)s=m,this._gaussian_previous=!1;else{for(;1<=(c=(a=this.random(2)-1)*a+(h=this.random(2)-1)*h););s=a*(c=Math.sqrt(-2*Math.log(c)/c)),m=h*c,this._gaussian_previous=!0}return s*u+(x||0)},w.default=C=_.default},{"../core/main":280}],315:[function(o,V,w){"use strict";function _(s){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function d(s){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(a){return _(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_(a)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(x=o("../core/main"))&&x.__esModule?x:{default:x},m=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==d(s)&&"function"!=typeof s)return{default:s};var a=C();if(a&&a.has(s))return a.get(s);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in s){var l;Object.prototype.hasOwnProperty.call(s,h)&&((l=u?Object.getOwnPropertyDescriptor(s,h):null)&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=s[h])}return c.default=s,a&&a.set(s,c),c}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}p.default.prototype._angleMode=m.RADIANS,p.default.prototype.acos=function(s){return this._fromRadians(Math.acos(s))},p.default.prototype.asin=function(s){return this._fromRadians(Math.asin(s))},p.default.prototype.atan=function(s){return this._fromRadians(Math.atan(s))},p.default.prototype.atan2=function(s,a){return this._fromRadians(Math.atan2(s,a))},p.default.prototype.cos=function(s){return Math.cos(this._toRadians(s))},p.default.prototype.sin=function(s){return Math.sin(this._toRadians(s))},p.default.prototype.tan=function(s){return Math.tan(this._toRadians(s))},p.default.prototype.degrees=function(s){return s*m.RAD_TO_DEG},p.default.prototype.radians=function(s){return s*m.DEG_TO_RAD},p.default.prototype.angleMode=function(s){if(p.default._validateParameters("angleMode",arguments),void 0===s)return this._angleMode;s!==m.DEGREES&&s!==m.RADIANS||s!==this._angleMode&&(s===m.RADIANS?(this._setProperty("pRotationX",this.pRotationX*m.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*m.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*m.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*m.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*m.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*m.RAD_TO_DEG)),this._angleMode=s)},p.default.prototype._toRadians=function(s){return this._angleMode===m.DEGREES?s*m.DEG_TO_RAD:s},p.default.prototype._toDegrees=function(s){return this._angleMode===m.RADIANS?s*m.RAD_TO_DEG:s},p.default.prototype._fromRadians=function(s){return this._angleMode===m.DEGREES?s*m.RAD_TO_DEG:s},p.default.prototype._fromDegrees=function(s){return this._angleMode===m.RADIANS?s*m.DEG_TO_RAD:s};var x=p.default;w.default=x},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(o,V,w){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};_.default.prototype.textAlign=function(d,p){var m;return _.default._validateParameters("textAlign",arguments),(m=this._renderer).textAlign.apply(m,arguments)},_.default.prototype.textLeading=function(d){var p;return _.default._validateParameters("textLeading",arguments),(p=this._renderer).textLeading.apply(p,arguments)},_.default.prototype.textSize=function(d){var p;return _.default._validateParameters("textSize",arguments),(p=this._renderer).textSize.apply(p,arguments)},_.default.prototype.textStyle=function(d){var p;return _.default._validateParameters("textStyle",arguments),(p=this._renderer).textStyle.apply(p,arguments)},_.default.prototype.textWidth=function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];if(p[0]+="",_.default._validateParameters("textWidth",p),0===p[0].length)return 0;for(var C=p[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),x=[],s=0;s<C.length;s++)x.push(this._renderer.textWidth(C[s]));return Math.max.apply(Math,x)},_.default.prototype.textAscent=function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return _.default._validateParameters("textAscent",p),this._renderer.textAscent()},_.default.prototype.textDescent=function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return _.default._validateParameters("textDescent",p),this._renderer.textDescent()},_.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},_.default.prototype.textWrap=function(d){if("WORD"!==d&&"CHAR"!==d)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(d)},w.default=o=_.default},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(o,V,w){"use strict";function _(h){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}function d(h){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(c){return _(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":_(c)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(a=o("../core/main"))&&a.__esModule?a:{default:a},m=s(o("../core/constants")),C=s(o("opentype.js"));function x(){var h;return"function"!=typeof WeakMap?null:(x=function(){return h},h=new WeakMap)}function s(h){if(h&&h.__esModule)return h;if(null===h||"object"!==d(h)&&"function"!=typeof h)return{default:h};var c=x();if(c&&c.has(h))return c.get(h);var u,l,y={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h)Object.prototype.hasOwnProperty.call(h,u)&&((l=f?Object.getOwnPropertyDescriptor(h,u):null)&&(l.get||l.set)?Object.defineProperty(y,u,l):y[u]=h[u]);return y.default=h,c&&c.set(h,y),y}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),p.default.prototype.loadFont=function(h,c,u){p.default._validateParameters("loadFont",arguments);var l=new p.default.Font(this),y=this;return C.load(h,function(D,B){if(D)return p.default._friendlyFileLoadError(4,h),void 0!==u?u(D):void console.error(D,h);l.font=B,void 0!==c&&c(l),y._decrementPreload();var F=(B=(D=h.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:D.slice(B+1);["ttf","otf","woff","woff2"].includes(F)&&(F=D.slice(0,-1!==B?B:0),(D=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(F,";\nsrc: url(").concat(h,");\n}\n"))),document.head.appendChild(D))}),l},p.default.prototype.text=function(h,c,u,l,y){var f;return p.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(f=this._renderer).text.apply(f,arguments):this},p.default.prototype.textFont=function(h,c){if(p.default._validateParameters("textFont",arguments),arguments.length){if(h)return this._renderer._setProperty("_textFont",h),c&&(this._renderer._setProperty("_textSize",c),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",c*m._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var a=p.default;w.default=a},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(o,V,w){"use strict";function _(j){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(j)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var d=(d=o("../core/main"))&&d.__esModule?d:{default:d},p=function(j){if(j&&j.__esModule)return j;if(null===j||"object"!==C(j)&&"function"!=typeof j)return{default:j};var k=m();if(k&&k.has(j))return k.get(j);var U,T={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in j){var M;Object.prototype.hasOwnProperty.call(j,U)&&((M=I?Object.getOwnPropertyDescriptor(j,U):null)&&(M.get||M.set)?Object.defineProperty(T,U,M):T[U]=j[U])}return T.default=j,k&&k.set(j,T),T}(o("../core/constants"));function m(){var j;return"function"!=typeof WeakMap?null:(m=function(){return j},j=new WeakMap)}function C(j){return(C="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(k){return _(k)}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":_(k)})(j)}function x(j,k){for(var U=0;U<k.length;U++){var T=k[U];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(j,T.key,T)}}function s(j,k){var U=j.length;return j[k<0?k%U+U:k%U]}function a(j,k,U,T){var I,M,q;return T?(void 0===a.tmpPoint1&&(a.tmpPoint1=[],a.tmpPoint2=[]),q=a.tmpPoint2,(M=a.tmpPoint1).x=k.x-j.x,M.y=k.y-j.y,q.x=U.x-k.x,q.y=U.y-k.y,I=M.x*q.x+M.y*q.y,M=Math.sqrt(M.x*M.x+M.y*M.y),q=Math.sqrt(q.x*q.x+q.y*q.y),Math.acos(I/(M*q))<T):(k[0]-j[0])*(U[1]-j[1])-(U[0]-j[0])*(k[1]-j[1])==0}function h(R,ue,ne,we,je,M,q,K,Y){var ie=1-Y,te=(z=Math.pow(ie,3))*R+3*(oe=Math.pow(ie,2))*Y*ne+3*ie*Y*Y*je+(le=(W=Y*Y)*Y)*q,z=z*ue+3*oe*Y*we+3*ie*Y*Y*M+le*K,oe=R+2*Y*(ne-R)+W*(je-2*ne+R),le=ue+2*Y*(we-ue)+W*(M-2*we+ue),Ee=ne+2*Y*(je-ne)+W*(q-2*je+ne),W=we+2*Y*(M-we)+W*(K-2*M+we);return R=ie*R+Y*ne,ne=ie*ue+Y*we,ue=ie*je+Y*q,we=ie*M+Y*K,je=90-180*Math.atan2(oe-Ee,le-W)/Math.PI,(Ee<oe||le<W)&&(je+=180),{x:te,y:z,m:{x:oe,y:le},n:{x:Ee,y:W},start:{x:R,y:ne},end:{x:ue,y:we},alpha:je}}function c(j,k,U,T,I,M,q,K,Y){return null==Y?B(j,k,U,T,I,M,q,K):h(j,k,U,T,I,M,q,K,function(ie,te,z,oe,le,Ee,W,R,ne){if(!(ne<0||B(ie,te,z,oe,le,Ee,W,R)<ne)){var ue,we=.5,je=1-we;for(ue=B(ie,te,z,oe,le,Ee,W,R,je);.01<Math.abs(ue-ne);)ue=B(ie,te,z,oe,le,Ee,W,R,je+=(ue<ne?1:-1)*(we/=2));return je}}(j,k,U,T,I,M,q,K,Y))}function u(j,k,U){for(var T,I,M,q,K,Y=0,ie=0,te=(j=function(z,oe){function le(gt,xt,$t){var Ot,jt;if(!gt)return["C",xt.x,xt.y,xt.x,xt.y,xt.x,xt.y];switch(gt[0]in{T:1,Q:1}||(xt.qx=xt.qy=null),gt[0]){case"M":xt.X=gt[1],xt.Y=gt[2];break;case"A":gt=["C"].concat(y.apply(0,[xt.x,xt.y].concat(gt.slice(1))));break;case"S":jt="C"===$t||"S"===$t?(Ot=2*xt.x-xt.bx,2*xt.y-xt.by):(Ot=xt.x,xt.y),gt=["C",Ot,jt].concat(gt.slice(1));break;case"T":"Q"===$t||"T"===$t?(xt.qx=2*xt.x-xt.qx,xt.qy=2*xt.y-xt.qy):(xt.qx=xt.x,xt.qy=xt.y),gt=["C"].concat(D(xt.x,xt.y,xt.qx,xt.qy,gt[1],gt[2]));break;case"Q":xt.qx=gt[1],xt.qy=gt[2],gt=["C"].concat(D(xt.x,xt.y,gt[1],gt[2],gt[3],gt[4]));break;case"L":gt=["C"].concat(b(xt.x,xt.y,gt[1],gt[2]));break;case"H":gt=["C"].concat(b(xt.x,xt.y,gt[1],xt.y));break;case"V":gt=["C"].concat(b(xt.x,xt.y,xt.x,gt[1]));break;case"Z":gt=["C"].concat(b(xt.x,xt.y,xt.X,xt.Y))}return gt}function Ee(gt,xt){if(7<gt[xt].length){gt[xt].shift();for(var $t=gt[xt];$t.length;)Be[xt]="A",ue&&(We[xt]="A"),gt.splice(xt++,0,["C"].concat($t.splice(0,6)));gt.splice(xt,1),R=Math.max(ne.length,ue&&ue.length||0)}}function W(gt,xt,$t,Ot,jt){gt&&xt&&"M"===gt[jt][0]&&"M"!==xt[jt][0]&&(xt.splice(jt,0,["M",Ot.x,Ot.y]),$t.bx=0,$t.by=0,$t.x=gt[jt][1],$t.y=gt[jt][2],R=Math.max(ne.length,ue&&ue.length||0))}var R,ne=l(z),ue=undefined,we={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},je={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Be=[],We=[],Oe="",Pe="";R=Math.max(ne.length,ue&&ue.length||0);for(var $e=0;$e<R;$e++){"C"!==(Oe=ne[$e]?ne[$e][0]:Oe)&&(Be[$e]=Oe,$e&&(Pe=Be[$e-1])),ne[$e]=le(ne[$e],we,Pe),"A"!==Be[$e]&&"C"===Oe&&(Be[$e]="C"),Ee(ne,$e),ue&&("C"!==(Oe=ue[$e]?ue[$e][0]:Oe)&&(We[$e]=Oe,$e&&(Pe=We[$e-1])),ue[$e]=le(ue[$e],je,Pe),"A"!==We[$e]&&"C"===Oe&&(We[$e]="C"),Ee(ue,$e)),W(ne,ue,we,je,$e),W(ue,ne,je,we,$e);var ke=ne[$e],Qe=ue&&ue[$e],tt=ke.length,_t=ue&&Qe.length;we.x=ke[tt-2],we.y=ke[tt-1],we.bx=parseFloat(ke[tt-4])||we.x,we.by=parseFloat(ke[tt-3])||we.y,je.bx=ue&&(parseFloat(Qe[_t-4])||je.x),je.by=ue&&(parseFloat(Qe[_t-3])||je.y),je.x=ue&&Qe[_t-2],je.y=ue&&Qe[_t-1]}return ue?[ne,ue]:ne}(j)).length;ie<te;ie++){if("M"===(M=j[ie])[0])T=+M[1],I=+M[2];else{if(k<Y+(q=c(T,I,M[1],M[2],M[3],M[4],M[5],M[6]))&&!U)return{x:(K=c(T,I,M[1],M[2],M[3],M[4],M[5],M[6],k-Y)).x,y:K.y,alpha:K.alpha};Y+=q,T=+M[5],I=+M[6]}M.shift()}return(K=U?Y:h(T,I,M[0],M[1],M[2],M[3],M[4],M[5],1)).alpha?{x:K.x,y:K.y,alpha:K.alpha}:K}function l(j){var k=[],U=0,T=0,I=0,M=0,q=0;if(j){"M"===j[0][0]&&(I=U=+j[0][1],M=T=+j[0][2],q++,k[0]=["M",U,T]);for(var K,Y,ie=3===j.length&&"M"===j[0][0]&&"R"===j[1][0].toUpperCase()&&"Z"===j[2][0].toUpperCase(),te=q,z=j.length;te<z;te++){if(k.push(K=[]),(Y=j[te])[0]!==Y[0].toUpperCase())switch(K[0]=Y[0].toUpperCase(),K[0]){case"A":K[1]=Y[1],K[2]=Y[2],K[3]=Y[3],K[4]=Y[4],K[5]=Y[5],K[6]=+(Y[6]+U),K[7]=+(Y[7]+T);break;case"V":K[1]=+Y[1]+T;break;case"H":K[1]=+Y[1]+U;break;case"R":for(var oe,le=2,Ee=(oe=[U,T].concat(Y.slice(1))).length;le<Ee;le++)oe[le]=+oe[le]+U,oe[++le]=+oe[le]+T;k.pop(),k=k.concat(f(oe,ie));break;case"M":I=+Y[1]+U,M=+Y[2]+T;break;default:for(var W=1,R=Y.length;W<R;W++)K[W]=+Y[W]+(W%2?U:T)}else if("R"===Y[0])oe=[U,T].concat(Y.slice(1)),k.pop(),k=k.concat(f(oe,ie)),K=["R"].concat(Y.slice(-2));else for(var ne=0,ue=Y.length;ne<ue;ne++)K[ne]=Y[ne];switch(K[0]){case"Z":U=I,T=M;break;case"H":U=K[1];break;case"V":T=K[1];break;case"M":I=K[K.length-2],M=K[K.length-1];break;default:U=K[K.length-2],T=K[K.length-1]}}}return k}function y(j,k,U,T,ue,Be,we,K,Y,ie){function te(_t,gt,xt){return{x:_t*Math.cos(xt)-gt*Math.sin(xt),y:_t*Math.sin(xt)+gt*Math.cos(xt)}}var z,ne=120*(R=Math.PI)/180,oe=R/180*(+ue||0),le=[],Ee=(ie?($e=ie[0],z=ie[1],Oe=ie[2],Pe=ie[3]):(j=(je=te(j,k,-oe)).x,k=je.y,1<(Ee=(W=(j-(K=(je=te(K,Y,-oe)).x))/2)*W/(U*U)+(je=(k-(Y=je.y))/2)*je/(T*T))&&(U*=Ee=Math.sqrt(Ee),T*=Ee),Ee=U*U,We=T*T,Oe=(Be=(Be===we?-1:1)*Math.sqrt(Math.abs((Ee*We-Ee*je*je-We*W*W)/(Ee*je*je+We*W*W))))*U*je/T+(j+K)/2,Pe=Be*-T*W/U+(k+Y)/2,$e=Math.asin(((k-Pe)/T).toFixed(9)),z=Math.asin(((Y-Pe)/T).toFixed(9)),($e=j<Oe?R-$e:$e)<0&&($e=2*R+$e),(z=K<Oe?R-z:z)<0&&(z=2*R+z),we&&z<$e&&($e-=2*R),!we&&$e<z&&(z-=2*R)),z-$e),W=(Math.abs(Ee)>ne&&(We=z,je=K,Be=Y,z=$e+ne*(we&&$e<z?1:-1),le=y(K=Oe+U*Math.cos(z),Y=Pe+T*Math.sin(z),U,T,ue,0,we,je,Be,[z,We,Oe,Pe])),Ee=z-$e,Math.cos($e)),R=Math.sin($e),je=(ne=Math.cos(z),ue=Math.sin(z),4/3*U*(we=Math.tan(Ee/4))),We=[j,k],Oe=[j+je*R,k-(Be=4/3*T*we)*W],Pe=[K+je*ue,Y-Be*ne],$e=[K,Y];if(Oe[0]=2*We[0]-Oe[0],Oe[1]=2*We[1]-Oe[1],ie)return[Oe,Pe,$e].concat(le);for(var ke=[],Qe=0,tt=(le=[Oe,Pe,$e].concat(le).join().split(",")).length;Qe<tt;Qe++)ke[Qe]=Qe%2?te(le[Qe-1],le[Qe],oe).y:te(le[Qe],le[Qe+1],oe).x;return ke}function f(j,k){for(var U=[],T=0,I=j.length;T<I-2*!k;T+=2){var M=[{x:+j[T-2],y:+j[T-1]},{x:+j[T],y:+j[T+1]},{x:+j[T+2],y:+j[T+3]},{x:+j[T+4],y:+j[T+5]}];k?T?I-4===T?M[3]={x:+j[0],y:+j[1]}:I-2===T&&(M[2]={x:+j[0],y:+j[1]},M[3]={x:+j[2],y:+j[3]}):M[0]={x:+j[I-2],y:+j[I-1]}:I-4===T?M[3]=M[2]:T||(M[0]={x:+j[T],y:+j[T+1]}),U.push(["C",(6*M[1].x-M[0].x+M[2].x)/6,(6*M[1].y-M[0].y+M[2].y)/6,(M[1].x+6*M[2].x-M[3].x)/6,(M[1].y+6*M[2].y-M[3].y)/6,M[2].x,M[2].y])}return U}function b(j,k,U,T){return[j,k,U,T,U,T]}function D(j,k,U,T,I,M){return[1/3*j+2/3*U,1/3*k+2/3*T,1/3*I+2/3*U,1/3*M+2/3*T,I,M]}function B(j,k,U,T,I,M,q,K,Y){for(var ie=(Y=1<(Y=null==Y?1:Y)?1:Y<0?0:Y)/2,te=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],z=0,oe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],le=0;le<12;le++){var Ee=F(W=ie*te[le]+ie,j,U,I,q),W=F(W,k,T,M,K);z+=oe[le]*Math.sqrt(Ee*Ee+W*W)}return ie*z}function F(j,k,U,T,I){return j*(j*(-3*k+9*U-9*T+3*I)+6*k-12*U+6*T)-3*k+3*U}d.default.Font=function(){function j(I){if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");this.parent=I,this.cache={},this.font=void 0}var k,U;return k=j,(U=[{key:"textBounds",value:function(I){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,K=4<arguments.length?arguments[4]:void 0,Y=K&&K.renderer&&K.renderer._pInst||this.parent,ie=Y._renderer.drawingContext,te=(te=3<arguments.length?arguments[3]:void 0)||Y._renderer._textSize;if(!Be){for(var z=[],oe=[],le=[],Ee=(le[0]=[],[]),W=this._scale(te),R=Y._renderer.textLeading(),ne=0,ue=(this.font.forEachGlyph(I,M,q,te,K,function(Pe,$e,ke,Qe){var tt=Pe.getMetrics();0===Pe.index?le[ne+=1]=[]:(le[ne].push($e+tt.xMin*W),le[ne].push($e+tt.xMax*W),Ee.push(ke+ne*R+-tt.yMin*W),Ee.push(ke+ne*R+-tt.yMax*W))}),0<le[ne].length&&(z[ne]=Math.min.apply(null,le[ne]),oe[ne]=Math.max.apply(null,le[ne])),0),we=0;we<=ne;we++){z[we]=Math.min.apply(null,le[we]),oe[we]=Math.max.apply(null,le[we]);var je=oe[we]-z[we];ue<je&&(ue=je)}var Be={x:ie=Math.min.apply(null,z),y:q=Math.min.apply(null,Ee),h:Math.max.apply(null,Ee)-q,w:ue,advance:ie-M};te=this._handleAlignment(Y._renderer,I,Be.x,Be.y,Be.w+Be.advance),Be.x=te.x,Be.y=te.y}return Be}},{key:"textToPoints",value:function(I,M,q,K,Y){var ie=M,te=[],z=I.split(/\r?\n|\r|\n/g);K=K||this.parent._renderer._textSize;for(var oe,le,Ee,W=0;W<z.length;W++){var R=0;M=ie;for(var ne=(ne=z[W]).replace("\t","  "),ue=this._getGlyphs(ne),we=0;we<ue.length;we++){if(le=ne,!((Ee=ue)[oe=we].name&&"space"===Ee[oe].name||le.length===Ee.length&&" "===le[oe]))for(var je=function(Pe){for(var $e,ke=[],Qe=0;Qe<Pe.length;Qe++)"M"===Pe[Qe].type&&($e&&ke.push($e),$e=[]),$e.push((_t=void 0,_t=[(tt=Pe[Qe]).type],"M"===tt.type||"L"===tt.type?_t.push(tt.x,tt.y):"C"===tt.type?_t.push(tt.x1,tt.y1,tt.x2,tt.y2,tt.x,tt.y):"Q"===tt.type&&_t.push(tt.x1,tt.y1,tt.x,tt.y),_t));var tt,_t;return ke.push($e),ke}(ue[we].getPath(M,q,K).commands),Be=0;Be<je.length;Be++)for(var We=function(Pe,$e){$e=function(xt,$t){if("object"!==C(xt))xt=$t;else for(var Ot in $t)void 0===xt[Ot]&&(xt[Ot]=$t[Ot]);return xt}($e,{sampleFactor:.1,simplifyThreshold:0});for(var ke=u(Pe,0,1),Qe=ke/(ke*$e.sampleFactor),tt=[],_t=0;_t<ke;_t+=Qe)tt.push(u(Pe,_t));return $e.simplifyThreshold&&function(gt){for(var xt=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Ot=gt.length-1;3<gt.length&&0<=Ot;--Ot)a(s(gt,Ot-1),s(gt,Ot),s(gt,Ot+1),xt)&&gt.splice(Ot%gt.length,1)}(tt,$e.simplifyThreshold),tt}(je[Be],Y),Oe=0;Oe<We.length;Oe++)We[Oe].x+=R,te.push(We[Oe]);R+=ue[we].advanceWidth*this._scale(K)}q+=this.parent._renderer._textLeading}return te}},{key:"_getGlyphs",value:function(I){return this.font.stringToGlyphs(I)}},{key:"_getPath",value:function(I,ie,q,K){var Y=(K&&K.renderer&&K.renderer._pInst||this.parent)._renderer;return ie=this._handleAlignment(Y,I,ie,q),this.font.getPath(I,ie.x,ie.y,Y._textSize,K)}},{key:"_getPathData",value:function(I,M,q,K){var Y=3;return"string"==typeof I&&2<arguments.length?I=this._getPath(I,M,q,K):"object"===C(M)&&(K=M),K&&"number"==typeof K.decimals&&(Y=K.decimals),I.toPathData(Y)}},{key:"_getSVG",value:function(I,M,q,K){var Y=3;return"string"==typeof I&&2<arguments.length?I=this._getPath(I,M,q,K):"object"===C(M)&&(K=M),K&&("number"==typeof K.decimals&&(Y=K.decimals),"number"==typeof K.strokeWidth&&(I.strokeWidth=K.strokeWidth),void 0!==K.fill&&(I.fill=K.fill),void 0!==K.stroke&&(I.stroke=K.stroke)),I.toSVG(Y)}},{key:"_renderPath",value:function(te,oe,le,K){var Y=K&&K.renderer||this.parent._renderer,ie=Y.drawingContext,z=(te=("object"===C(te)&&te.commands?te:this._getPath(te,oe,le,K)).commands,ie.beginPath(),!0);oe=!1,le=void 0;try{for(var Ee,W=te[Symbol.iterator]();!(z=(Ee=W.next()).done);z=!0){var R=Ee.value;"M"===R.type?ie.moveTo(R.x,R.y):"L"===R.type?ie.lineTo(R.x,R.y):"C"===R.type?ie.bezierCurveTo(R.x1,R.y1,R.x2,R.y2,R.x,R.y):"Q"===R.type?ie.quadraticCurveTo(R.x1,R.y1,R.x,R.y):"Z"===R.type&&ie.closePath()}}catch(ne){oe=!0,le=ne}finally{try{z||null==W.return||W.return()}finally{if(oe)throw le}}return Y._doStroke&&Y._strokeSet&&!Y._clipping&&ie.stroke(),Y._doFill&&!Y._clipping&&(Y._fillSet||Y._setFill(p._DEFAULT_TEXT_FILL),ie.fill()),this}},{key:"_textWidth",value:function(I,M){return this.font.getAdvanceWidth(I,M)}},{key:"_textAscent",value:function(I){return this.font.ascender*this._scale(I)}},{key:"_textDescent",value:function(I){return-this.font.descender*this._scale(I)}},{key:"_scale",value:function(I){return 1/this.font.unitsPerEm*(I||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(I,M,q,K,Y){var ie=I._textSize;switch(void 0===Y&&(Y=this._textWidth(M,ie)),I._textAlign){case p.CENTER:q-=Y/2;break;case p.RIGHT:q-=Y}switch(I._textBaseline){case p.TOP:K+=this._textAscent(ie);break;case p.CENTER:K+=this._textAscent(ie)/2;break;case p.BOTTOM:K-=this._textDescent(ie)}return{x:q,y:K}}}])&&x(k.prototype,U),j}(),w.default=o=d.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(o,V,w){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(_,d){return _.push(d),_},o.default.prototype.arrayCopy=function(_,d,p,m,C){var x,s;_=void 0!==C?(s=Math.min(C,_.length),x=m,_.slice(d,s+d)):(s=void 0!==p?(s=p,Math.min(s,_.length)):_.length,p=d,_.slice(x=0,s)),Array.prototype.splice.apply(p,[x,s].concat(_))},o.default.prototype.concat=function(_,d){return _.concat(d)},o.default.prototype.reverse=function(_){return _.reverse()},o.default.prototype.shorten=function(_){return _.pop(),_},o.default.prototype.shuffle=function(_,d){for(var p,m,C=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(_),x=(_=d||C?_:_.slice()).length;1<x;)p=this.random(0,1)*x|0,m=_[--x],_[x]=_[p],_[p]=m;return _},o.default.prototype.sort=function(_,m){var p=m?_.slice(0,Math.min(m,_.length)):_;return m=m?_.slice(Math.min(m,_.length)):[],(p="string"==typeof p[0]?p.sort():p.sort(function(C,x){return C-x})).concat(m)},o.default.prototype.splice=function(_,d,p){return Array.prototype.splice.apply(_,[p,0].concat(d)),_},o.default.prototype.subset=function(_,d,p){return _.slice(d,void 0!==p?d+p:_.length)},w.default=o=o.default},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(o,V,w){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};_.default.prototype.float=function(d){return d instanceof Array?d.map(parseFloat):parseFloat(d)},_.default.prototype.int=function(d){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return d===1/0||"Infinity"===d?1/0:d===-1/0||"-Infinity"===d?-1/0:"string"==typeof d?parseInt(d,p):"number"==typeof d?0|d:"boolean"==typeof d?d?1:0:d instanceof Array?d.map(function(m){return _.default.prototype.int(m,p)}):void 0},_.default.prototype.str=function(d){return d instanceof Array?d.map(_.default.prototype.str):String(d)},_.default.prototype.boolean=function(d){return"number"==typeof d?0!==d:"string"==typeof d?"true"===d.toLowerCase():"boolean"==typeof d?d:d instanceof Array?d.map(_.default.prototype.boolean):void 0},_.default.prototype.byte=function(d){return"number"==typeof(d=_.default.prototype.int(d,10))?(d+128)%256-128:d instanceof Array?d.map(_.default.prototype.byte):void 0},_.default.prototype.char=function(d){return"number"!=typeof d||isNaN(d)?d instanceof Array?d.map(_.default.prototype.char):"string"==typeof d?_.default.prototype.char(parseInt(d,10)):void 0:String.fromCharCode(d)},_.default.prototype.unchar=function(d){return"string"==typeof d&&1===d.length?d.charCodeAt(0):d instanceof Array?d.map(_.default.prototype.unchar):void 0},_.default.prototype.hex=function(d,p){if(p=null==p?8:p,d instanceof Array)return d.map(function(C){return _.default.prototype.hex(C,p)});if(d===1/0||d===-1/0)return(d===1/0?"F":"0").repeat(p);if("number"==typeof d){d<0&&(d=4294967295+d+1);for(var m=Number(d).toString(16).toUpperCase();m.length<p;)m="0".concat(m);return m.length>=p?m.substring(m.length-p,m.length):m}},_.default.prototype.unhex=function(d){return d instanceof Array?d.map(_.default.prototype.unhex):parseInt("0x".concat(d),16)},w.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(s=o("../core/main"))&&s.__esModule?s:{default:s};function d(a,h){return function(c){if(Array.isArray(c))return c}(a)||function(c,u){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c)){var l=[],y=!0,f=!1,b=void 0;try{for(var D,B=c[Symbol.iterator]();!(y=(D=B.next()).done)&&(l.push(D.value),!u||l.length!==u);y=!0);}catch(F){f=!0,b=F}finally{try{y||null==B.return||B.return()}finally{if(f)throw b}}return l}}(a,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(a,h,c){var u=(l=d(a.toString().split("."),2))[0],l=l[1];return void 0===c?(u=u.padStart(h,"0"),l?u+"."+l:u):(u=(a=d(a.toFixed(c).toString().split("."),2))[0],l=a[1],u=u.padStart(h,"0"),void 0===l?u:u+"."+l)}function m(l,h){var c=(l=l.toString()).indexOf("."),u=-1!==c?l.substring(c):"";if(l=(l=-1!==c?l.substring(0,c):l).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===h)u="";else if(void 0!==h)if(h>u.length)for(var y=h-(u+=-1===c?".":"").length+1,f=0;f<y;f++)u+="0";else u=u.substring(0,h+1);return l+u}function C(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function x(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),_.default.prototype.join=function(a,h){return _.default._validateParameters("join",arguments),a.join(h)},_.default.prototype.match=function(a,h){return _.default._validateParameters("match",arguments),a.match(h)},_.default.prototype.matchAll=function(a,h){_.default._validateParameters("matchAll",arguments);for(var c=new RegExp(h,"g"),u=c.exec(a),l=[];null!==u;)l.push(u),u=c.exec(a);return l},_.default.prototype.nf=function(a,h,c){return _.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(u){return p(u,h,c)}):"[object Arguments]"===Object.prototype.toString.call(a)?3===a.length?this.nf(a[0],a[1],a[2]):2===a.length?this.nf(a[0],a[1]):this.nf(a[0]):p(a,h,c)},_.default.prototype.nfc=function(a,h){return _.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(c){return m(c,h)}):m(a,h)},_.default.prototype.nfp=function(){for(var a=arguments.length,h=new Array(a),c=0;c<a;c++)h[c]=arguments[c];_.default._validateParameters("nfp",h);var u=_.default.prototype.nf.apply(this,h);return u instanceof Array?u.map(C):C(u)},_.default.prototype.nfs=function(){for(var a=arguments.length,h=new Array(a),c=0;c<a;c++)h[c]=arguments[c];_.default._validateParameters("nfs",h);var u=_.default.prototype.nf.apply(this,h);return u instanceof Array?u.map(x):x(u)},_.default.prototype.split=function(a,h){return _.default._validateParameters("split",arguments),a.split(h)},_.default.prototype.splitTokens=function(a,h){var c,u;return _.default._validateParameters("splitTokens",arguments),u=void 0!==h?(u=/\]/g.exec(h),(c=/\[/g.exec(h))&&u?(h=h.slice(0,u.index)+h.slice(u.index+1),c=/\[/g.exec(h),h=h.slice(0,c.index)+h.slice(c.index+1),new RegExp("[\\[".concat(h,"\\]]"),"g")):u?(h=h.slice(0,u.index)+h.slice(u.index+1),new RegExp("[".concat(h,"\\]]"),"g")):c?(h=h.slice(0,c.index)+h.slice(c.index+1),new RegExp("[".concat(h,"\\[]"),"g")):new RegExp("[".concat(h,"]"),"g")):/\s/g,a.split(u).filter(function(l){return l})},_.default.prototype.trim=function(a){return _.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var s=_.default;w.default=s},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(o,V,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},w.default=o=o.default},{"../core/main":280}],323:[function(o,V,w){"use strict";function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(a)}function d(a){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(h){return _(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":_(h)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(s=o("../core/main"))&&s.__esModule?s:{default:s},m=(o("./p5.Geometry"),function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==d(a)&&"function"!=typeof a)return{default:a};var h=C();if(h&&h.has(a))return h.get(a);var c,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var y;Object.prototype.hasOwnProperty.call(a,c)&&((y=l?Object.getOwnPropertyDescriptor(a,c):null)&&(y.get||y.set)?Object.defineProperty(u,c,y):u[c]=a[c])}return u.default=a,h&&h.set(a,u),u}(o("../core/constants")));function C(){var a;return"function"!=typeof WeakMap?null:(C=function(){return a},a=new WeakMap)}function x(a,h,c,u,l,y,f){a=a<=0?1:a,h=h<0?0:h,c=c<=0?a:c,u=u<3?3:u;for(var b,D,B=(y=void 0===y||y)?-2:0,F=(l=l<1?1:l)+((f=void 0===f?0!==h:f)?2:0),j=Math.atan2(a-h,c),k=Math.sin(j),U=Math.cos(j),T=B;T<=F;++T){var I=T/l,M=c*I,q=void 0;for(q=T<0?(I=M=0,a):l<T?(M=c,I=1,h):a+(h-a)*I,-2!==T&&T!==l+2||(q=0),M-=c/2,b=0;b<u;++b){var K=b/(u-1),ie=2*Math.PI*K,Y=Math.sin(ie),te=(ie=Math.cos(ie),this.vertices.push(new p.default.Vector(Y*q,M,ie*q)));te=T<0?new p.default.Vector(0,-1,0):l<T&&h?new p.default.Vector(0,1,0):new p.default.Vector(Y*U,k,ie*U),this.vertexNormals.push(te),this.uvs.push(K,I)}}var z=0;if(y){for(D=0;D<u;++D)this.faces.push([z+D,z+u+(D+1)%u,z+u+D]);z+=2*u}for(T=0;T<l;++T){for(b=0;b<u;++b){var oe=(b+1)%u;this.faces.push([z+b,z+oe,z+u+oe]),this.faces.push([z+b,z+u+oe,z+u+b])}z+=u}if(f)for(z+=u,b=0;b<u;++b)this.faces.push([z+b,z+(b+1)%u,z+u])}p.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},p.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},p.default.prototype.buildGeometry=function(a){return this._renderer.buildGeometry(a)},p.default.prototype.freeGeometry=function(a){this._renderer._freeBuffers(a.gid)},p.default.prototype.plane=function(){var a,h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,y=(this._assert3d("plane"),p.default._validateParameters("plane",arguments),"plane|".concat(u,"|").concat(l));return this._renderer.geometryInHash(y)||((a=new p.default.Geometry(u,l,function(){for(var f,b,D=0;D<=this.detailY;D++)for(var B=D/this.detailY,F=0;F<=this.detailX;F++)b=new p.default.Vector((f=F/this.detailX)-.5,B-.5,0),this.vertices.push(b),this.uvs.push(f,B)})).computeFaces().computeNormals(),u<=1&&l<=1?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(y,a)),this._renderer.drawBuffersScaled(y,h,c,1),this},p.default.prototype.box=function(a,h,c,u,l){this._assert3d("box"),p.default._validateParameters("box",arguments),void 0===a&&(a=50),void 0===h&&(h=a),void 0===c&&(c=h);var y,f=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===l&&(l=f?1:4),f="box|".concat(u=void 0===u?f?1:4:u,"|").concat(l),this._renderer.geometryInHash(f)||((y=new p.default.Geometry(u,l,function(){var b=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(D,B){B*=4;for(var F=0;F<4;F++){var j=new p.default.Vector((2*(1&(j=D[F]))-1)/2,((2&j)-1)/2,((4&j)/2-1)/2);b.vertices.push(j),b.uvs.push(1&F,(2&F)/2)}b.faces.push([B,1+B,2+B]),b.faces.push([2+B,1+B,3+B])})})).computeNormals(),u<=4&&l<=4?y._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(f,y)),this._renderer.drawBuffersScaled(f,a,h,c),this},p.default.prototype.sphere=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),p.default._validateParameters("sphere",arguments),this.ellipsoid(a,a,a,h,c),this},p.default.prototype.cylinder=function(){var a,h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,y=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],f=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],b=(this._assert3d("cylinder"),p.default._validateParameters("cylinder",arguments),"cylinder|".concat(u,"|").concat(l,"|").concat(y,"|").concat(f));return this._renderer.geometryInHash(b)||(a=new p.default.Geometry(u,l),x.call(a,1,1,1,u,l,y,f),u<=24&&l<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,a)),this._renderer.drawBuffersScaled(b,h,c,h),this},p.default.prototype.cone=function(){var a,h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,y=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],f=(this._assert3d("cone"),p.default._validateParameters("cone",arguments),"cone|".concat(u,"|").concat(l,"|").concat(y));return this._renderer.geometryInHash(f)||(a=new p.default.Geometry(u,l),x.call(a,1,0,1,u,l,y,!1),u<=24&&l<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(f,a)),this._renderer.drawBuffersScaled(f,h,c,h),this},p.default.prototype.ellipsoid=function(){var a,h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,y=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,f=(this._assert3d("ellipsoid"),p.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(l,"|").concat(y));return this._renderer.geometryInHash(f)||((a=new p.default.Geometry(l,y,function(){for(var b=0;b<=this.detailY;b++)for(var D=b/this.detailY,B=Math.PI*D-Math.PI/2,F=Math.cos(B),j=Math.sin(B),k=0;k<=this.detailX;k++){var U=k/this.detailX,I=2*Math.PI*U,T=Math.cos(I);I=Math.sin(I),I=new p.default.Vector(F*I,j,F*T),this.vertices.push(I),this.vertexNormals.push(I),this.uvs.push(U,D)}})).computeFaces(),l<=24&&y<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(f,a)),this._renderer.drawBuffersScaled(f,h,c,u),this},p.default.prototype.torus=function(a,f,c,u){if(this._assert3d("torus"),p.default._validateParameters("torus",arguments),void 0===a)a=50;else if(!a)return;if(void 0===f)f=10;else if(!f)return;void 0===c&&(c=24),void 0===u&&(u=16);var l,y=(f/a).toPrecision(4);return f="torus|".concat(y,"|").concat(c,"|").concat(u),this._renderer.geometryInHash(f)||((l=new p.default.Geometry(c,u,function(){for(var b=0;b<=this.detailY;b++)for(var D=b/this.detailY,B=2*Math.PI*D,F=Math.cos(B),j=Math.sin(B),k=1+y*F,U=0;U<=this.detailX;U++){var T=U/this.detailX,I=2*Math.PI*T,q=Math.cos(I),M=(I=Math.sin(I),new p.default.Vector(k*q,k*I,y*j));q=new p.default.Vector(F*q,F*I,j),this.vertices.push(M),this.vertexNormals.push(q),this.uvs.push(T,D)}})).computeFaces(),c<=24&&u<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(f,l)),this._renderer.drawBuffersScaled(f,a,a,a),this},p.default.RendererGL.prototype.point=function(a,h){var c=[];return c.push(new p.default.Vector(a,h,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(c,this.immediateMode.buffers.point),this},p.default.RendererGL.prototype.triangle=function(f){var h=f[0],c=f[1],u=f[2],l=f[3],y=f[4],b=(f=f[5],this.geometryInHash("tri")||((b=new p.default.Geometry(1,1,function(){var F=[];F.push(new p.default.Vector(0,0,0)),F.push(new p.default.Vector(1,0,0)),F.push(new p.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=F,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),b.computeNormals(),this.createBuffers("tri",b)),this.uMVMatrix.copy());try{var D=Math.sign(h*l-u*c+u*f-y*l+y*c-h*f),B=new p.default.Matrix([u-h,l-c,0,0,y-h,f-c,0,0,0,0,D,0,h,c,0,1]).mult(this.uMVMatrix);this.uMVMatrix=B,this.drawBuffers("tri")}finally{this.uMVMatrix=b}return this},p.default.RendererGL.prototype.ellipse=function(a){this.arc(a[0],a[1],a[2],a[3],0,m.TWO_PI,m.OPEN,a[4])},p.default.RendererGL.prototype.arc=function(){var a,h=arguments.length<=0?void 0:arguments[0],c=arguments.length<=1?void 0:arguments[1],u=arguments.length<=2?void 0:arguments[2],l=arguments.length<=3?void 0:arguments[3],y=arguments.length<=4?void 0:arguments[4],f=arguments.length<=5?void 0:arguments[5],b=arguments.length<=6?void 0:arguments[6],D=(arguments.length<=7?void 0:arguments[7])||25,B=(Math.abs(f-y)>=m.TWO_PI?"".concat(F="ellipse","|"):"".concat(F="arc","|").concat(y,"|").concat(f,"|").concat(b,"|")).concat(D,"|"),F=(this.geometryInHash(B)||((a=new p.default.Geometry(D,1,function(){if(y.toFixed(10)!==f.toFixed(10)){b!==m.PIE&&void 0!==b||(this.vertices.push(new p.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var j=0;j<=D;j++){var U=j/D*(f-y)+y,k=.5+Math.cos(U)/2;U=.5+Math.sin(U)/2,this.vertices.push(new p.default.Vector(k,U,0)),this.uvs.push([k,U]),j<D-1&&(this.faces.push([0,j+1,j+2]),this.edges.push([j+1,j+2]))}switch(b){case m.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case m.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case m.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),D<=50?a._edgesToVertices(a):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(F," with more than 50 detail")),this.createBuffers(B,a)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([h,c,0]),this.uMVMatrix.scale(u,l,1),this.drawBuffers(B)}finally{this.uMVMatrix=F}return this},p.default.RendererGL.prototype.rect=function(a){var h=a[0],c=a[1],u=a[2],l=a[3];if(void 0===a[4]){var b=this._pInst._glAttributes.perPixelLighting,y=a[4]||(b?1:24),f=a[5]||(b?1:16),D=(b="rect|".concat(y,"|").concat(f),this.geometryInHash(b)||((D=new p.default.Geometry(y,f,function(){for(var te=0;te<=this.detailY;te++)for(var z=te/this.detailY,oe=0;oe<=this.detailX;oe++){var le=oe/this.detailX,Ee=new p.default.Vector(le,z,0);this.vertices.push(Ee),this.uvs.push(le,z)}0<y&&0<f&&(this.edges=[[0,y],[y,(y+1)*(f+1)-1],[(y+1)*(f+1)-1,(y+1)*f],[(y+1)*f,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(b,D)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([h,c,0]),this.uMVMatrix.scale(u,l,1),this.drawBuffers(b)}finally{this.uMVMatrix=D}}else{b=a[4],D=void 0===a[5]?b:a[5];var B=void 0===a[6]?D:a[6],I=(a=void 0===a[7]?B:a[7],u),F=l,j=((I+=h)<h&&(U=h,h=I,I=U),(F+=c)<c&&(U=c,c=F,F=U),(U=Math.min((I-h)/2,(F-c)/2))<b&&(b=U),U<D&&(D=U),U<B&&(B=U),U<a&&(a=U),h),k=c,U=I,T=(h=F,this.beginShape(),0!==D?(this.vertex(U-D,k),this.quadraticVertex(U,k,U,k+D)):this.vertex(U,k),0!==B?(this.vertex(U,h-B),this.quadraticVertex(U,h,U-B,h)):this.vertex(U,h),0!==a?(this.vertex(j+a,h),this.quadraticVertex(j,h,j,h-a)):this.vertex(j,h),0!==b?(this.vertex(j,k+b),this.quadraticVertex(j,k,j+b,k)):this.vertex(j,k),!(this.immediateMode.geometry.uvs.length=0));c=!1,I=void 0;try{for(var M,q=this.immediateMode.geometry.vertices[Symbol.iterator]();!(T=(M=q.next()).done);T=!0){var K=M.value;this.immediateMode.geometry.uvs.push((K.x-j)/u,(K.y-k)/l)}}catch(W){c=!0,I=W}finally{try{T||null==q.return||q.return()}finally{if(c)throw I}}this.endShape(m.CLOSE)}return this},p.default.RendererGL.prototype.quad=function(a,h,c,u,l,y,f,b,D,B,F,j){var k=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,U=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,T="quad|".concat(a,"|").concat(h,"|").concat(c,"|").concat(u,"|").concat(l,"|").concat(y,"|").concat(f,"|").concat(b,"|").concat(D,"|").concat(B,"|").concat(F,"|").concat(j,"|").concat(k,"|").concat(U);if(!this.geometryInHash(T)){var I=new p.default.Geometry(k,U,function(){for(var oe=1/(this.detailX-1),le=1/(this.detailY-1),Ee=0;Ee<this.detailY;Ee++)for(var W=0;W<this.detailX;W++){var R=W*oe,ne=Ee*le;this.vertices.push(new p.default.Vector((1-R)*((1-ne)*a+ne*B)+R*((1-ne)*u+ne*f),(1-R)*((1-ne)*h+ne*F)+R*((1-ne)*l+ne*b),(1-R)*((1-ne)*c+ne*j)+R*((1-ne)*y+ne*D))),this.uvs.push([R,ne])}});I.faces=[];for(var M=0;M<U-1;M++)for(var q=0;q<k-1;q++){var K=q+M*k,Y=q+1+(M+1)*k,ie=q+(M+1)*k;I.faces.push([K,q+1+M*k,Y]),I.faces.push([K,Y,ie])}I.computeNormals();for(var te=[I.edges.length=0,2,3,1],z=0;z<te.length;z++)I.edges.push([te[z],te[(z+1)%te.length]]);I._edgesToVertices(),this.createBuffers(T,I)}return this.drawBuffers(T),this},p.default.RendererGL.prototype.bezier=function(a,h,c,u,l,y,f,b,D,B,F,j){8===arguments.length&&(F=b,B=f,b=y,f=l,l=u,u=c,c=y=D=j=0);var k=this._pInst._bezierDetail||20;this.beginShape();for(var U=0;U<=k;U++){var T=Math.pow(1-U/k,3),I=U/k*3*Math.pow(1-U/k,2),M=3*Math.pow(U/k,2)*(1-U/k),q=Math.pow(U/k,3);this.vertex(a*T+u*I+f*M+B*q,h*T+l*I+b*M+F*q,c*T+y*I+D*M+j*q)}return this.endShape(),this},p.default.RendererGL.prototype.curve=function(a,h,c,u,l,y,f,b,D,B,F,j){8===arguments.length&&(B=f,F=b,f=l,b=u,l=u=c,c=y=D=j=0);var k=this._pInst._curveDetail;this.beginShape();for(var U=0;U<=k;U++){var T=.5*Math.pow(U/k,3),I=.5*Math.pow(U/k,2),M=U/k*.5;this.vertex(T*(3*u-a-3*f+B)+I*(2*a-5*u+4*f-B)+M*(-a+f)+2*u*.5,T*(3*l-h-3*b+F)+I*(2*h-5*l+4*b-F)+M*(-h+b)+2*l*.5,T*(3*y-c-3*D+j)+I*(2*c-5*y+4*D-j)+M*(-c+D)+2*y*.5)}return this.endShape(),this},p.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(m.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(m.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},p.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var a,h,c,u,l,y,f=[],b=[],D=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var B=1/this._lutBezierDetail,F=0,j=1,k=0;F<1;){if(y=parseFloat(F.toFixed(6)),this._lookUpTableBezier[k]=this._bezierCoefficients(y),j.toFixed(6)===B.toFixed(6)){y=parseFloat(j.toFixed(6))+parseFloat(F.toFixed(6)),++k,this._lookUpTableBezier[k]=this._bezierCoefficients(y);break}F+=B,j-=B,++k}}for(var U=this._lookUpTableBezier.length,T=[],I=0;I<4;I++)T.push([]);T[0]=this.immediateMode.geometry.vertexColors.slice(-4),T[3]=this.curFillColor.slice();var M=[];for(I=0;I<4;I++)M.push([]);if(M[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),M[3]=this.curStrokeColor.slice(),6===D){this.isBezier=!0,f=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var q=Math.hypot(f[0]-f[1],b[0]-b[1]),Y=Math.hypot(f[1]-f[2],b[1]-b[2]),K=Math.hypot(f[2]-f[3],b[2]-b[3]);for(q/=Y=q+Y+K,K/=Y,l=0;l<4;l++)T[1].push(T[0][l]*(1-q)+T[3][l]*q),T[2].push(T[0][l]*K+T[3][l]*(1-K)),M[1].push(M[0][l]*(1-q)+M[3][l]*q),M[2].push(M[0][l]*K+M[3][l]*(1-K));for(u=0;u<U;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=a=h=0;I<4;I++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[u][I]*T[I][l],this.curStrokeColor[l]+=this._lookUpTableBezier[u][I]*M[I][l];a+=f[I]*this._lookUpTableBezier[u][I],h+=b[I]*this._lookUpTableBezier[u][I]}this.vertex(a,h)}this.curFillColor=T[3],this.curStrokeColor=M[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===D){this.isBezier=!0,f=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var ie=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],te=Math.hypot(f[0]-f[1],b[0]-b[1],ie[0]-ie[1]),z=(Y=Math.hypot(f[1]-f[2],b[1]-b[2],ie[1]-ie[2]),Math.hypot(f[2]-f[3],b[2]-b[3],ie[2]-ie[3]));for(te/=D=te+Y+z,z/=D,l=0;l<4;l++)T[1].push(T[0][l]*(1-te)+T[3][l]*te),T[2].push(T[0][l]*z+T[3][l]*(1-z)),M[1].push(M[0][l]*(1-te)+M[3][l]*te),M[2].push(M[0][l]*z+M[3][l]*(1-z));for(u=0;u<U;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=a=h=c=0;I<4;I++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[u][I]*T[I][l],this.curStrokeColor[l]+=this._lookUpTableBezier[u][I]*M[I][l];a+=f[I]*this._lookUpTableBezier[u][I],h+=b[I]*this._lookUpTableBezier[u][I],c+=ie[I]*this._lookUpTableBezier[u][I]}this.vertex(a,h,c)}this.curFillColor=T[3],this.curStrokeColor=M[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},p.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var a,h,c,u,l,y,f=[],b=[],D=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var B=1/this._lutQuadraticDetail,F=0,j=1,k=0;F<1;){if(y=parseFloat(F.toFixed(6)),this._lookUpTableQuadratic[k]=this._quadraticCoefficients(y),j.toFixed(6)===B.toFixed(6)){y=parseFloat(j.toFixed(6))+parseFloat(F.toFixed(6)),++k,this._lookUpTableQuadratic[k]=this._quadraticCoefficients(y);break}F+=B,j-=B,++k}}for(var U=this._lookUpTableQuadratic.length,T=[],I=0;I<3;I++)T.push([]);T[0]=this.immediateMode.geometry.vertexColors.slice(-4),T[2]=this.curFillColor.slice();var M=[];for(I=0;I<3;I++)M.push([]);if(M[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),M[2]=this.curStrokeColor.slice(),4===D){this.isQuadratic=!0,f=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var q=Math.hypot(f[0]-f[1],b[0]-b[1]);for(q/=q+Math.hypot(f[1]-f[2],b[1]-b[2]),l=0;l<4;l++)T[1].push(T[0][l]*(1-q)+T[2][l]*q),M[1].push(M[0][l]*(1-q)+M[2][l]*q);for(u=0;u<U;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=a=h=0;I<3;I++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[u][I]*T[I][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[u][I]*M[I][l];a+=f[I]*this._lookUpTableQuadratic[u][I],h+=b[I]*this._lookUpTableQuadratic[u][I]}this.vertex(a,h)}this.curFillColor=T[2],this.curStrokeColor=M[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===D){this.isQuadratic=!0,f=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var K=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],Y=Math.hypot(f[0]-f[1],b[0]-b[1],K[0]-K[1]);for(Y/=Y+Math.hypot(f[1]-f[2],b[1]-b[2],K[1]-K[2]),l=0;l<4;l++)T[1].push(T[0][l]*(1-Y)+T[2][l]*Y),M[1].push(M[0][l]*(1-Y)+M[2][l]*Y);for(u=0;u<U;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=a=h=c=0;I<3;I++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[u][I]*T[I][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[u][I]*M[I][l];a+=f[I]*this._lookUpTableQuadratic[u][I],h+=b[I]*this._lookUpTableQuadratic[u][I],c+=K[I]*this._lookUpTableQuadratic[u][I]}this.vertex(a,h,c)}this.curFillColor=T[2],this.curStrokeColor=M[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},p.default.RendererGL.prototype.curveVertex=function(){var a,l,y,f=[],b=[],D=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var B=1/this._lutBezierDetail,F=0,j=1,k=0;F<1;){if(y=parseFloat(F.toFixed(6)),this._lookUpTableBezier[k]=this._bezierCoefficients(y),j.toFixed(6)===B.toFixed(6)){y=parseFloat(j.toFixed(6))+parseFloat(F.toFixed(6)),++k,this._lookUpTableBezier[k]=this._bezierCoefficients(y);break}F+=B,j-=B,++k}}var U=this._lookUpTableBezier.length;if(2===D){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,f=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),l=0;l<U;l++)this.vertex(f[0]*this._lookUpTableBezier[l][0]+f[1]*this._lookUpTableBezier[l][1]+f[2]*this._lookUpTableBezier[l][2]+f[3]*this._lookUpTableBezier[l][3],b[0]*this._lookUpTableBezier[l][0]+b[1]*this._lookUpTableBezier[l][1]+b[2]*this._lookUpTableBezier[l][2]+b[3]*this._lookUpTableBezier[l][3]);for(l=0;l<D;l++)this.immediateMode._curveVertex.shift()}}else if(3===D&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,f=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),l=0;l<U;l++)this.vertex(f[0]*this._lookUpTableBezier[l][0]+f[1]*this._lookUpTableBezier[l][1]+f[2]*this._lookUpTableBezier[l][2]+f[3]*this._lookUpTableBezier[l][3],b[0]*this._lookUpTableBezier[l][0]+b[1]*this._lookUpTableBezier[l][1]+b[2]*this._lookUpTableBezier[l][2]+b[3]*this._lookUpTableBezier[l][3],a[0]*this._lookUpTableBezier[l][0]+a[1]*this._lookUpTableBezier[l][1]+a[2]*this._lookUpTableBezier[l][2]+a[3]*this._lookUpTableBezier[l][3]);for(l=0;l<D;l++)this.immediateMode._curveVertex.shift()}},p.default.RendererGL.prototype.image=function(a,j,c,k,l,y,f,b,D){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(a),this._pInst.textureMode(m.NORMAL);var B=0,F=(j<=a.width&&(B=j/a.width),1);j+k<=a.width&&(F=(j+k)/a.width),j=0,c<=a.height&&(j=c/a.height),k=1,c+l<=a.height&&(k=(c+l)/a.height),this.beginShape(),this.vertex(y,f,0,B,j),this.vertex(y+b,f,0,F,j),this.vertex(y+b,f+D,0,F,k),this.vertex(y,f+D,0,B,k),this.endShape(m.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(m.REMOVE)};var s=p.default;w.default=s},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(o,V,w){"use strict";function _(h){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}function d(h){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(c){return _(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":_(c)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(a=o("../core/main"))&&a.__esModule?a:{default:a},m=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==d(h)&&"function"!=typeof h)return{default:h};var c=C();if(c&&c.has(h))return c.get(h);var u,l={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h){var f;Object.prototype.hasOwnProperty.call(h,u)&&((f=y?Object.getOwnPropertyDescriptor(h,u):null)&&(f.get||f.set)?Object.defineProperty(l,u,f):l[u]=h[u])}return l.default=h,c&&c.set(h,l),l}(o("../core/constants"));function C(){var h;return"function"!=typeof WeakMap?null:(C=function(){return h},h=new WeakMap)}function x(h){return function(c){if(Array.isArray(c)){for(var u=0,l=new Array(c.length);u<c.length;u++)l[u]=c[u];return l}}(h)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(h,c){for(var u=0;u<c.length;u++){var l=c[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}}var a=function(){function h(y){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");(this.renderer=y)._pInst.push(),this.identityMatrix=new p.default.Matrix,y.uMVMatrix=new p.default.Matrix,this.geometry=new p.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(h.nextGeometryId),h.nextGeometryId++,this.hasTransform=!1}var c,u;return c=h,(u=[{key:"transformVertices",value:function(y){var f=this;return this.hasTransform?y.map(function(b){return f.renderer.uMVMatrix.multiplyPoint(b)}):y}},{key:"transformNormals",value:function(y){var f=this;return this.hasTransform?y.map(function(b){return f.renderer.uNMatrix.multiplyVec3(b)}):y}},{key:"addGeometry",value:function(y){for(var f,b=this,D=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(F,j){return F===b.identityMatrix.mat4[j]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),B=((f=this.geometry.vertices).push.apply(f,x(this.transformVertices(y.vertices))),(f=this.geometry.vertexNormals).push.apply(f,x(this.transformNormals(y.vertexNormals))),(f=this.geometry.uvs).push.apply(f,x(y.uvs)),this.renderer._doFill&&(f=this.geometry.faces).push.apply(f,x(y.faces.map(function(F){return F.map(function(j){return j+D})}))),this.renderer._doStroke&&(f=this.geometry.edges).push.apply(f,x(y.edges.map(function(F){return F.map(function(j){return j+D})}))),x(y.vertexColors));B.length<4*y.vertices.length;)B.push.apply(B,x(this.renderer.curFillColor));(f=this.geometry.vertexColors).push.apply(f,x(B))}},{key:"addImmediate",value:function(){var y=this.renderer.immediateMode.geometry,f=this.renderer.immediateMode.shapeMode,b=[];if(this.renderer._doFill)if(f===m.TRIANGLE_STRIP||f===m.QUAD_STRIP)for(var D=2;D<y.vertices.length;D++)b.push(D%2==0?[D,D-1,D-2]:[D,D-2,D-1]);else if(f===m.TRIANGLE_FAN)for(var B=2;B<y.vertices.length;B++)b.push([0,B-1,B]);else for(var F=0;F<y.vertices.length;F+=3)b.push([F,F+1,F+2]);this.addGeometry(Object.assign({},y,{faces:b}))}},{key:"addRetained",value:function(y){this.addGeometry(y.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&s(c.prototype,u),h}();a.nextGeometryId=0,w.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(o,V,w){"use strict";function _(s){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var d=(x=o("../core/main"))&&x.__esModule?x:{default:x},p=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==C(s)&&"function"!=typeof s)return{default:s};var a=m();if(a&&a.has(s))return a.get(s);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in s){var l;Object.prototype.hasOwnProperty.call(s,h)&&((l=u?Object.getOwnPropertyDescriptor(s,h):null)&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=s[h])}return c.default=s,a&&a.set(s,c),c}(o("../core/constants"));function m(){var s;return"function"!=typeof WeakMap?null:(m=function(){return s},s=new WeakMap)}function C(s){return(C="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(a){return _(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_(a)})(s)}d.default.prototype.orbitControl=function(s,a,h,D){var u=this,l=(this._assert3d("orbitControl"),d.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===s&&(s=1),void 0===a&&(a=s),void 0===h&&(h=1),"object"!==C(D)&&(D={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var F=D.disableTouchActions;!0===this.touchActionsDisabled||void 0!==F&&!F||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),D=void 0!==(F=D.freeRotation)&&F;var y,f,b,B=[],j=(this.touches.forEach(function(q){u._renderer.prevTouches.forEach(function(K){q.id===K.id&&B.push(K={x:q.x,y:q.y,px:K.x,py:K.y})})}),this._renderer.prevTouches=this.touches,F=0,0),k=0,U=0,T=0,I=this.height<this.width?this.height:this.width,M=!1;return 0<B.length?(M=0<B[0].x&&B[0].x<this.width&&0<B[0].y&&B[0].y<this.height,1===B.length?(j=-s*((y=B[0]).x-y.px)/I,k=a*(y.y-y.py)/I):(y=B[0],f=B[1],F=-(Math.hypot(y.x-f.x,y.y-f.y)-Math.hypot(y.px-f.px,y.py-f.py))*h*4e-4,U=.5*(y.x+f.x)-.5*(y.px+f.px),T=.5*(y.y+f.y)-.5*(y.py+f.py)),0<this.touches.length?M&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(M=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(F=Math.sign(this._mouseWheelDeltaY)*h,F*=.01,this._mouseWheelDeltaY=0,M&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(j=-s*this.movedX/I,k=a*this.movedY/I):this.mouseButton===this.RIGHT&&(U=this.movedX,T=this.movedY*l.yScale),M&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==F&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=F),.001<Math.abs(this._renderer.zoomVelocity)?(D?l._orbitFree(0,0,this._renderer.zoomVelocity):l._orbit(0,0,this._renderer.zoomVelocity),0!==l.projMatrix.mat4[15]&&(l.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),l.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=l.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=l.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===j&&0===k||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*j,.6*k),1e-6<this._renderer.rotateVelocity.magSq()?(D?l._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):l._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===U&&0===T||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(y=2*U/this.width),.15*(f=2*-T/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(h=l._getLocalAxes(),s=l.eyeX-l.centerX,a=l.eyeY-l.centerY,I=l.eyeZ-l.centerZ,M=Math.sqrt(s*s+a*a+I*I),F=new d.default.Vector(l.centerX,l.centerY,l.centerZ),F=l.cameraMatrix.multiplyPoint(F),(F=this._renderer.uPMatrix.multiplyAndNormalizePoint(F)).x-=this._renderer.moveVelocity.x,F.y-=this._renderer.moveVelocity.y,k=0===(j=this._renderer.uPMatrix.mat4)[15]?(b=(j[8]+F.x)/j[0]*M,(j[9]+F.y)/j[5]*M):(b=(F.x-j[12])/j[0],(F.y-j[13])/j[5]),l.setPosition(l.eyeX+b*h.x[0]+k*h.y[0],l.eyeY+b*h.x[1]+k*h.y[1],l.eyeZ+b*h.x[2]+k*h.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},d.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var s=arguments.length,a=new Array(s),h=0;h<s;h++)a[h]=arguments[h];d.default._validateParameters("debugMode",a);for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1);a[0]===p.GRID?this.registerMethod("post",this._grid(a[1],a[2],a[3],a[4],a[5])):a[0]===p.AXES?this.registerMethod("post",this._axesIcon(a[1],a[2],a[3],a[4])):(this.registerMethod("post",this._grid(a[0],a[1],a[2],a[3],a[4])),this.registerMethod("post",this._axesIcon(a[5],a[6],a[7],a[8])))},d.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1)},d.default.prototype._grid=function(s,a,h,c,u){void 0===s&&(s=this.width/2),void 0===a&&(a=Math.round(s/30)<4?4:Math.round(s/30)),void 0===h&&(h=0),void 0===c&&(c=0),void 0===u&&(u=0);var l=s/a,y=s/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix);for(var f=0;f<=a;f++)this.beginShape(this.LINES),this.vertex(-y+h,c,f*l-y+u),this.vertex(y+h,c,f*l-y+u),this.endShape();for(var b=0;b<=a;b++)this.beginShape(this.LINES),this.vertex(b*l-y+h,c,-y+u),this.vertex(b*l-y+h,c,y+u),this.endShape();this.pop()}},d.default.prototype._axesIcon=function(s,a,h,c){return void 0===s&&(s=40<this.width/20?this.width/20:40),void 0===a&&(a=-this.width/4),void 0===h&&(h=a),void 0===c&&(c=a),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(a,h,c),this.vertex(a+s,h,c),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(a,h,c),this.vertex(a,h+s,c),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(a,h,c),this.vertex(a,h,c+s),this.endShape(),this.pop()}};var x=d.default;w.default=x},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(o,V,w){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};_.default.prototype.ambientLight=function(d,p,m,C){this._assert3d("ambientLight"),_.default._validateParameters("ambientLight",arguments);var x=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(x._array[0],x._array[1],x._array[2]),this._renderer._enableLighting=!0,this},_.default.prototype.specularColor=function(d,p,m){this._assert3d("specularColor"),_.default._validateParameters("specularColor",arguments);var C=this.color.apply(this,arguments);return this._renderer.specularColors=[C._array[0],C._array[1],C._array[2]],this},_.default.prototype.directionalLight=function(d,u,c,C,x,s){var a,h;return this._assert3d("directionalLight"),_.default._validateParameters("directionalLight",arguments),d=d instanceof _.default.Color?d:this.color(d,u,c),c="number"==typeof(u=arguments[arguments.length-1])?(a=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(a=u.x,h=u.y,u.z),u=Math.sqrt(a*a+h*h+c*c),this._renderer.directionalLightDirections.push(a/u,h/u,c/u),this._renderer.directionalLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},_.default.prototype.pointLight=function(d,c,u,C,x,s){var a,h;return this._assert3d("pointLight"),_.default._validateParameters("pointLight",arguments),d=d instanceof _.default.Color?d:this.color(d,c,u),u="number"==typeof(c=arguments[arguments.length-1])?(a=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(a=c.x,h=c.y,c.z),this._renderer.pointLightPositions.push(a,h,u),this._renderer.pointLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},_.default.prototype.imageLight=function(d){this._renderer.activeImageLight=d,this._renderer._enableLighting=!0},_.default.prototype.panorama=function(d){this.filter(this._renderer._getSphereMapping(d))},_.default.prototype.lights=function(){this._assert3d("lights");var d=this.color("rgb(128,128,128)");return this.ambientLight(d),this.directionalLight(d,0,0,-1),this},_.default.prototype.lightFalloff=function(d,p,m){return this._assert3d("lightFalloff"),_.default._validateParameters("lightFalloff",arguments),d<0&&(d=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),p<0&&(p=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),m<0&&(m=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===d&&0===p&&0===m&&(d=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=d,this._renderer.linearAttenuation=p,this._renderer.quadraticAttenuation=m,this},_.default.prototype.spotLight=function(d,p,m,C,x,s,a,h,c,u,l){this._assert3d("spotLight"),_.default._validateParameters("spotLight",arguments);var y,f,b,D=arguments.length;switch(D){case 11:case 10:y=this.color(d,p,m),f=new _.default.Vector(C,x,s),b=new _.default.Vector(a,h,c);break;case 9:d instanceof _.default.Color?(y=d,f=new _.default.Vector(p,m,C),b=new _.default.Vector(x,s,a),u=h,l=c):C instanceof _.default.Vector?(y=this.color(d,p,m),f=C,b=new _.default.Vector(x,s,a),u=h,l=c):a instanceof _.default.Vector?(y=this.color(d,p,m),f=new _.default.Vector(C,x,s),b=a,u=h,l=c):(y=this.color(d,p,m),f=new _.default.Vector(C,x,s),b=new _.default.Vector(a,h,c));break;case 8:b=d instanceof _.default.Color?(y=d,f=new _.default.Vector(p,m,C),new _.default.Vector(x,s,a)):C instanceof _.default.Vector?(y=this.color(d,p,m),f=C,new _.default.Vector(x,s,a)):(y=this.color(d,p,m),f=new _.default.Vector(C,x,s),a),u=h;break;case 7:d instanceof _.default.Color&&p instanceof _.default.Vector?(y=d,f=p,b=new _.default.Vector(m,C,x),u=s,l=a):d instanceof _.default.Color&&x instanceof _.default.Vector?(y=d,f=new _.default.Vector(p,m,C),b=x,u=s,l=a):C instanceof _.default.Vector&&x instanceof _.default.Vector?(y=this.color(d,p,m),f=C,b=x,u=s,l=a):b=d instanceof _.default.Color?(y=d,f=new _.default.Vector(p,m,C),new _.default.Vector(x,s,a)):C instanceof _.default.Vector?(y=this.color(d,p,m),f=C,new _.default.Vector(x,s,a)):(y=this.color(d,p,m),f=new _.default.Vector(C,x,s),a);break;case 6:C instanceof _.default.Vector&&x instanceof _.default.Vector?(y=this.color(d,p,m),f=C,b=x,u=s):d instanceof _.default.Color&&x instanceof _.default.Vector?(y=d,f=new _.default.Vector(p,m,C),b=x,u=s):d instanceof _.default.Color&&p instanceof _.default.Vector&&(y=d,f=p,b=new _.default.Vector(m,C,x),u=s);break;case 5:d instanceof _.default.Color&&p instanceof _.default.Vector&&m instanceof _.default.Vector?(y=d,f=p,b=m,u=C,l=x):C instanceof _.default.Vector&&x instanceof _.default.Vector?(y=this.color(d,p,m),f=C,b=x):d instanceof _.default.Color&&x instanceof _.default.Vector?(y=d,f=new _.default.Vector(p,m,C),b=x):d instanceof _.default.Color&&p instanceof _.default.Vector&&(y=d,f=p,b=new _.default.Vector(m,C,x));break;case 4:y=d,f=p,b=m,u=C;break;case 3:y=d,f=p,b=m;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(D<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(y._array[0],y._array[1],y._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(f.x,f.y,f.z),b.normalize(),this._renderer.spotLightDirections.push(b.x,b.y,b.z),void 0===u&&(u=Math.PI/3),void 0!==l&&l<1?(l=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===l&&(l=100),u=this._renderer._pInst._toRadians(u),this._renderer.spotLightAngle.push(Math.cos(u)),this._renderer.spotLightConc.push(l),this._renderer._enableLighting=!0,this},_.default.prototype.noLights=function(){this._assert3d("noLights");for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return _.default._validateParameters("noLights",p),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},w.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(o,V,w){"use strict";function _(a){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,o("regenerator-runtime/runtime");var d=(s=o("../core/main"))&&s.__esModule?s:{default:s};function p(a){return function(h){if(Array.isArray(h)){for(var c=0,u=new Array(h.length);c<h.length;c++)u[c]=h[c];return u}}(a)||function(h){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h))return Array.from(h)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(a,h,c,u,l,y,f){try{var b=a[y](f),D=b.value}catch(B){return void c(B)}b.done?h(D):Promise.resolve(D).then(u,l)}function C(a){return function(){var h=this,c=arguments;return new Promise(function(u,l){var y=a.apply(h,c);function f(D){m(y,u,l,f,b,"next",D)}function b(D){m(y,u,l,f,b,"throw",D)}f(void 0)})}}function x(a){return(x="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(h){return _(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":_(h)})(a)}o("./p5.Geometry"),d.default.prototype.loadModel=function(a,h){d.default._validateParameters("loadModel",arguments);var c,u,k,l=!1,y=!1,f=!1,b=a.slice(-4),D=(h&&"object"===x(h)?(l=h.normalize||!1,c=h.successCallback,u=h.failureCallback,b=h.fileType||b,y=h.flipU||!1,f=h.flipV||!1):"boolean"==typeof h?(l=h,c=arguments[2],u=arguments[3],void 0!==arguments[4]&&(b=arguments[4])):(c="function"==typeof h?h:void 0,u=arguments[2],void 0!==arguments[3]&&(b=arguments[3])),new d.default.Geometry),B=(D.gid="".concat(a,"|").concat(l),this);function F(){return(F=C(g.mark(function k(U){var T,I,M,q;return g.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:for(T=[],I=0;I<U.length;I++)(M=U[I].match(/^mtllib (.+)/))&&function(){var Y,ie=M[1],te=a.split("/");Y=1<te.length?(te.pop(),te.join("/")+"/"+ie):ie,T.push(function(){return j.apply(this,arguments)}(Y).then(function(z){return z?(oe=B,le=Y,new Promise(function(Ee,W){var R=null,ne={};oe.loadStrings(le,function(ue){for(var we=0;we<ue.length;++we){var Be=ue[we].trim().split(/\s+/);"newmtl"===Be[0]?ne[R=Be[1]]={}:"Kd"===Be[0]?ne[R].diffuseColor=[parseFloat(Be[1]),parseFloat(Be[2]),parseFloat(Be[3])]:"Ka"===Be[0]?ne[R].ambientColor=[parseFloat(Be[1]),parseFloat(Be[2]),parseFloat(Be[3])]:"Ks"===Be[0]?ne[R].specularColor=[parseFloat(Be[1]),parseFloat(Be[2]),parseFloat(Be[3])]:"map_Kd"===Be[0]&&(ne[R].texturePath=Be[1])}Ee(ne)},W)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(Y)),{});var oe,le}).catch(function(z){return console.warn("Error loading MTL file: ".concat(Y),z),{}}))}();return K.prev=2,K.next=5,Promise.all(T);case 5:return q=K.sent,q=Object.assign.apply(Object,[{}].concat(p(q))),K.abrupt("return",q);case 10:return K.prev=10,K.t0=K.catch(2),K.abrupt("return",{});case 13:case"end":return K.stop()}},k,null,[[2,10]])}))).apply(this,arguments)}function j(){return(j=C(g.mark(function k(U){return g.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,fetch(U,{method:"HEAD"});case 3:return I.abrupt("return",I.sent.ok);case 7:return I.prev=7,I.t0=I.catch(0),I.abrupt("return",!1);case 10:case"end":return I.stop()}},k,null,[[0,7]])}))).apply(this,arguments)}return b.match(/\.stl$/i)?this.httpDo(a,"GET","arrayBuffer",function(k){(function(U,T){if(function(I){for(var M=new DataView(I),q=[115,111,108,105,100],K=0;K<5;K++)if(function(Y,ie,te){for(var z=0,oe=Y.length;z<oe;z++)if(Y[z]!==ie.getUint8(te+z,!1))return;return 1}(q,M,K))return;return 1}(T))!function(I,M){for(var q,K,Y,ie,te,z,oe,le=new DataView(M),Ee=le.getUint32(80,!0),W=!1,R=0;R<70;R++)1129270351===le.getUint32(R,!1)&&82===le.getUint8(R+4)&&61===le.getUint8(R+5)&&(W=!0,ie=[],te=le.getUint8(R+6)/255,z=le.getUint8(R+7)/255,oe=le.getUint8(R+8)/255);for(var ne=0;ne<Ee;ne++){for(var ue,we=84+50*ne,je=le.getFloat32(we,!0),Be=le.getFloat32(4+we,!0),We=le.getFloat32(8+we,!0),Oe=(W&&(Y=32768&(ue=le.getUint16(48+we,!0))?(q=te,K=z,oe):(q=(31&ue)/31,K=(ue>>5&31)/31,(ue>>10&31)/31)),new d.default.Vector(je,Be,We)),Pe=1;Pe<=3;Pe++){var $e=new d.default.Vector(le.getFloat32($e=we+12*Pe,!0),le.getFloat32(4+$e,!0),le.getFloat32(8+$e,!0));I.vertices.push($e),I.vertexNormals.push(Oe),W&&ie.push(q,K,Y)}I.faces.push([3*ne,3*ne+1,3*ne+2]),I.uvs.push([0,0],[0,0],[0,0])}}(U,T);else{if(T=new DataView(T),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(I,M){for(var q,K,Y="",ie=[],te=0;te<M.length;++te){for(var z=M[te].trim(),oe=z.split(" "),le=0;le<oe.length;++le)""===oe[le]&&oe.splice(le,1);if(0!==oe.length)switch(Y){case"":if("solid"!==oe[0])return console.error(z),console.error('Invalid state "'.concat(oe[0],'", should be "solid"'));Y="solid";break;case"solid":if("facet"!==oe[0]||"normal"!==oe[1])return console.error(z),console.error('Invalid state "'.concat(oe[0],'", should be "facet normal"'));q=new d.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),I.vertexNormals.push(q,q,q),Y="facet normal";break;case"facet normal":if("outer"!==oe[0]||"loop"!==oe[1])return console.error(z),console.error('Invalid state "'.concat(oe[0],'", should be "outer loop"'));Y="vertex";break;case"vertex":if("vertex"===oe[0])K=new d.default.Vector(parseFloat(oe[1]),parseFloat(oe[2]),parseFloat(oe[3])),I.vertices.push(K),I.uvs.push([0,0]),ie.push(I.vertices.indexOf(K));else{if("endloop"!==oe[0])return console.error(z),console.error('Invalid state "'.concat(oe[0],'", should be "vertex" or "endloop"'));I.faces.push(ie),ie=[],Y="endloop"}break;case"endloop":if("endfacet"!==oe[0])return console.error(z),console.error('Invalid state "'.concat(oe[0],'", should be "endfacet"'));Y="endfacet";break;case"endfacet":if("endsolid"!==oe[0]){if("facet"!==oe[0]||"normal"!==oe[1])return console.error(z),console.error('Invalid state "'.concat(oe[0],'", should be "endsolid" or "facet normal"'));q=new d.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),I.vertexNormals.push(q,q,q),Y="facet normal"}break;default:console.error('Invalid state "'.concat(Y,'"'))}}}(U,T=new TextDecoder("utf-8").decode(T).split("\n"))}})(D,k),l&&D.normalize(),y&&D.flipU(),f&&D.flipV(),B._decrementPreload(),"function"==typeof c&&c(D)},u):b.match(/\.obj$/i)?this.loadStrings(a,(k=C(g.mark(function U(T){return g.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,function(){return F.apply(this,arguments)}(T);case 3:(function(q,K){for(var Y=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},ie={v:[],vt:[],vn:[]},te={},z=null,oe=new Set,le=!1,Ee=!1,W=0;W<K.length;++W){var R=K[W].trim().split(/\b\s+/);if(0<R.length)if("usemtl"===R[0])z=R[1];else if("v"===R[0]||"vn"===R[0]){var ne=new d.default.Vector(parseFloat(R[1]),parseFloat(R[2]),parseFloat(R[3]));ie[R[0]].push(ne)}else if("vt"===R[0])ne=[parseFloat(R[1]),1-parseFloat(R[2])],ie[R[0]].push(ne);else if("f"===R[0])for(var ue=3;ue<R.length;++ue){for(var we=[],je=[1,ue-1,ue],Be=0;Be<je.length;++Be){for(var We,Oe=R[je[Be]].split("/"),Pe=0;Pe<Oe.length;Pe++)Oe[Pe]=parseInt(Oe[Pe])-1;te[Oe[0]]||(te[Oe[0]]={}),void 0===te[Oe[0]][z]?(We=q.vertices.length,q.vertices.push(ie.v[Oe[0]].copy()),q.uvs.push(ie.vt[Oe[1]]?ie.vt[Oe[1]].slice():[0,0]),q.vertexNormals.push(ie.vn[Oe[2]]?ie.vn[Oe[2]].copy():new d.default.Vector),te[Oe[0]][z]=We,we.push(We),z&&Y[z]&&Y[z].diffuseColor&&oe.add(ie.v[Oe[0]])):we.push(te[Oe[0]][z])}if(we[0]!==we[1]&&we[0]!==we[2]&&we[1]!==we[2])if(q.faces.push(we),z&&Y[z]&&Y[z].diffuseColor){le=le=!0;for(var $e=Y[z].diffuseColor,ke=0;ke<we.length;ke++)q.vertexColors.push($e[0]),q.vertexColors.push($e[1]),q.vertexColors.push($e[2])}else Ee=!0}}if(0===q.vertexNormals.length&&q.computeNormals(),le===Ee)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(D,T,M.sent),M.next=11;break;case 7:return M.prev=7,M.t0=M.catch(0),u?u(M.t0):d.default._friendlyError("Error during parsing: "+M.t0.message),M.abrupt("return");case 11:return M.prev=11,l&&D.normalize(),y&&D.flipU(),f&&D.flipV(),B._decrementPreload(),"function"==typeof c&&c(D),M.finish(11);case 18:case"end":return M.stop()}},U,null,[[0,7,11,18]])})),function(U){return k.apply(this,arguments)}),u):(d.default._friendlyFileLoadError(3,a),u?u():d.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),D},d.default.prototype.model=function(a){this._assert3d("model"),d.default._validateParameters("model",arguments),0<a.vertices.length&&(this._renderer.geometryInHash(a.gid)||(0===a.edges.length&&a._makeTriangleEdges(),a._edgesToVertices(),this._renderer.createBuffers(a.gid,a)),this._renderer.drawBuffers(a.gid))};var s=d.default;w.default=s},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243,"regenerator-runtime/runtime":257}],328:[function(o,V,w){"use strict";function _(s){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function d(s){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(a){return _(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_(a)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(x=o("../core/main"))&&x.__esModule?x:{default:x},m=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==d(s)&&"function"!=typeof s)return{default:s};var a=C();if(a&&a.has(s))return a.get(s);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in s){var l;Object.prototype.hasOwnProperty.call(s,h)&&((l=u?Object.getOwnPropertyDescriptor(s,h):null)&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=s[h])}return c.default=s,a&&a.set(s,c),c}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Texture"),p.default.prototype.loadShader=function(s,a,h,c){function u(){y._decrementPreload(),h&&h(l)}p.default._validateParameters("loadShader",arguments),c=c||console.error;var l=new p.default.Shader,y=this,f=!1,b=!1;return this.loadStrings(s,function(D){l._vertSrc=D.join("\n"),b=!0,f&&u()},c),this.loadStrings(a,function(D){l._fragSrc=D.join("\n"),f=!0,b&&u()},c),l},p.default.prototype.createShader=function(s,a){return p.default._validateParameters("createShader",arguments),new p.default.Shader(this._renderer,s,a)},p.default.prototype.createFilterShader=function(s){p.default._validateParameters("createFilterShader",arguments);var a=s.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(a=new p.default.Shader(this._renderer,a,s)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),a},p.default.prototype.shader=function(s){return this._assert3d("shader"),p.default._validateParameters("shader",arguments),s.ensureCompiledOnContext(this),s.isStrokeShader()?this._renderer.userStrokeShader=s:(this._renderer.userFillShader=s,this._renderer._useNormalMaterial=!1),this},p.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},p.default.prototype.texture=function(s){return this._assert3d("texture"),p.default._validateParameters("texture",arguments),s.gifProperties&&s._animateGif(this),this._renderer.drawMode=m.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=s,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.textureMode=function(s){s!==m.IMAGE&&s!==m.NORMAL?console.warn("You tried to set ".concat(s," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=s},p.default.prototype.textureWrap=function(s){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,h=(this._renderer.textureWrapX=s,this._renderer.textureWrapY=a,!0),c=!1,u=void 0;try{for(var l,y=this._renderer.textures.values()[Symbol.iterator]();!(h=(l=y.next()).done);h=!0)l.value.setWrapMode(s,a)}catch(f){c=!0,u=f}finally{try{h||null==y.return||y.return()}finally{if(c)throw u}}},p.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var s=arguments.length,a=new Array(s),h=0;h<s;h++)a[h]=arguments[h];return p.default._validateParameters("normalMaterial",a),this._renderer.drawMode=m.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},p.default.prototype.ambientMaterial=function(s,a,h){this._assert3d("ambientMaterial"),p.default._validateParameters("ambientMaterial",arguments);var c=p.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=c._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.emissiveMaterial=function(s,a,h,c){this._assert3d("emissiveMaterial"),p.default._validateParameters("emissiveMaterial",arguments);var u=p.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=u._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},p.default.prototype.specularMaterial=function(s,a,h,c){this._assert3d("specularMaterial"),p.default._validateParameters("specularMaterial",arguments);var u=p.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=u._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},p.default.prototype.shininess=function(s){return this._assert3d("shininess"),p.default._validateParameters("shininess",arguments),this._renderer._useShininess=s=s<1?1:s,this},p.default.prototype.metalness=function(s){return this._assert3d("metalness"),s=1-Math.exp(-s/100),this._renderer._useMetalness=s,this},p.default.RendererGL.prototype._applyColorBlend=function(s,u){var h=this.GL;return(u=u||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===m.TEXTURE||this.curBlendMode!==m.BLEND||s[s.length-1]<1||this._isErasing)!==this._isBlending&&(u||this.curBlendMode!==m.BLEND&&this.curBlendMode!==m.ADD?h.enable(h.BLEND):h.disable(h.BLEND),h.depthMask(!0),this._isBlending=u),this._applyBlendMode(),s},p.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var s=this.GL;switch(this.curBlendMode){case m.BLEND:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case m.ADD:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE);break;case m.REMOVE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ZERO,s.ONE_MINUS_SRC_ALPHA);break;case m.MULTIPLY:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA);break;case m.SCREEN:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_COLOR);break;case m.EXCLUSION:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ONE_MINUS_DST_COLOR,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE);break;case m.REPLACE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO);break;case m.SUBTRACT:s.blendEquationSeparate(s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case m.DARKEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case m.LIGHTEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var x=p.default;w.default=x},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(o,V,w){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function d(p,m){for(var C=0;C<m.length;C++){var x=m[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}_.default.prototype.camera=function(){var p;this._assert3d("camera");for(var m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];return _.default._validateParameters("camera",C),(p=this._renderer._curCamera).camera.apply(p,C),this},_.default.prototype.perspective=function(){var p;this._assert3d("perspective");for(var m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];return _.default._validateParameters("perspective",C),(p=this._renderer._curCamera).perspective.apply(p,C),this},_.default.prototype.linePerspective=function(p){if(_.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof _.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===p)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=p},_.default.prototype.ortho=function(){var p;this._assert3d("ortho");for(var m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];return _.default._validateParameters("ortho",C),(p=this._renderer._curCamera).ortho.apply(p,C),this},_.default.prototype.frustum=function(){var p;this._assert3d("frustum");for(var m=arguments.length,C=new Array(m),x=0;x<m;x++)C[x]=arguments[x];return _.default._validateParameters("frustum",C),(p=this._renderer._curCamera).frustum.apply(p,C),this},_.default.prototype.createCamera=function(){this._assert3d("createCamera");var p=new _.default.Camera(this._renderer);return p._computeCameraDefaultSettings(),p._setDefaultCamera(),this._renderer._curCamera=p},_.default.Camera=function(){function p(s){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=s,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new _.default.Matrix,this.projMatrix=new _.default.Matrix,this.yScale=1}var m,C;return m=p,(C=[{key:"perspective",value:function(u,a,h,c){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===u?u=this.defaultCameraFOV:this._renderer._pInst._toRadians(u),void 0===a&&(a=this.defaultAspectRatio),void 0===h&&(h=this.defaultCameraNear),void 0===c&&(c=this.defaultCameraFar),h<=1e-4&&(h=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),c<h&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=a,this.cameraNear=h,this.cameraFar=c,this.projMatrix=_.default.Matrix.identity(),u=1/Math.tan(this.cameraFOV/2);var l=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(u/a,0,0,0,0,-u*this.yScale,0,0,0,0,(c+h)*l,-1,0,0,2*c*h*l,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(j,F,h,c,u,l){void 0===j&&(j=-this._renderer.width/2),void 0===F&&(F=+this._renderer.width/2),void 0===h&&(h=-this._renderer.height/2),void 0===c&&(c=+this._renderer.height/2),void 0===u&&(u=0),void 0===l&&(l=Math.max(this._renderer.width,this._renderer.height)+800),this.cameraNear=u;var k=F-j,y=c-h,f=(this.cameraFar=l)-u,b=2/k,D=2/y*this.yScale,B=-2/f;F=-(F+j)/k,j=-(c+h)/y,k=-(l+u)/f,this.projMatrix=_.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-D,0,0,0,0,B,0,F,j,k,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(j,F,h,c,u,l){void 0===j&&(j=.05*-this._renderer.width),void 0===F&&(F=.05*+this._renderer.width),void 0===h&&(h=.05*+this._renderer.height),void 0===c&&(c=.05*-this._renderer.height),void 0===u&&(u=this.defaultCameraNear),void 0===l&&(l=this.defaultCameraFar),this.cameraNear=u;var k=F-j,y=c-h,f=(this.cameraFar=l)-u,b=2*u/k,D=2*u/y*this.yScale,B=-2*l*u/f;F=(F+j)/k,j=(c+h)/y,k=-(l+u)/f,this.projMatrix=_.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-D,0,0,F,j,k,-1,0,0,B,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(b,a,h,c){var u=this.centerX,l=this.centerY,y=this.centerZ,f=(u-=this.eyeX,l-=this.eyeY,y-=this.eyeZ,_.default.Matrix.identity(this._renderer._pInst));(f.rotate(this._renderer._pInst._toRadians(b),a,h,c),b=[u*f.mat4[0]+l*f.mat4[4]+y*f.mat4[8],u*f.mat4[1]+l*f.mat4[5]+y*f.mat4[9],u*f.mat4[2]+l*f.mat4[6]+y*f.mat4[10]])[0]+=this.eyeX,b[1]+=this.eyeY,b[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,b[0],b[1],b[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(s){var a=this._getLocalAxes();this._rotateView(s,a.y[0],a.y[1],a.y[2])}},{key:"tilt",value:function(s){var a=this._getLocalAxes();this._rotateView(s,a.x[0],a.x[1],a.x[2])}},{key:"lookAt",value:function(s,a,h){this.camera(this.eyeX,this.eyeY,this.eyeZ,s,a,h,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(s,a,h,c,u,l,y,f,b){return void 0===s&&(h=this.defaultEyeZ,c=s=this.defaultEyeX,u=a=this.defaultEyeY,f=1,b=y=l=0),this.eyeX=s,this.eyeY=a,this.eyeZ=h,void 0!==c&&(this.centerX=c,this.centerY=u,this.centerZ=l),void 0!==y&&(this.upX=y,this.upY=f,this.upZ=b),c=this._getLocalAxes(),this.cameraMatrix.set(c.x[0],c.y[0],c.z[0],0,c.x[1],c.y[1],c.z[1],0,c.x[2],c.y[2],c.z[2],0,0,0,0,1),this.cameraMatrix.translate([u=-s,-a,-h]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(c,u,h){var l=this._getLocalAxes();this.camera(this.eyeX+(c=[l.x[0]*c,l.x[1]*c,l.x[2]*c])[0]+(u=[l.y[0]*u,l.y[1]*u,l.y[2]*u])[0]+(l=[l.z[0]*h,l.z[1]*h,l.z[2]*h])[0],this.eyeY+c[1]+u[1]+l[1],this.eyeZ+c[2]+u[2]+l[2],this.centerX+c[0]+u[0]+l[0],this.centerY+c[1]+u[1]+l[1],this.centerZ+c[2]+u[2]+l[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(s,a,h){this.camera(s,a,h,this.centerX+(s-this.eyeX),this.centerY+(a-this.eyeY),this.centerZ+(h-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(s){for(var a=0,h=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];a<h.length;a++){var c=h[a];this[c]=s[c]}this.cameraMatrix=s.cameraMatrix.copy(),this.projMatrix=s.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(s,a,h){var c,u,l,y,f,b,D,B,F,j,k,U,T,I,M,q,K,Y;0===h?this.set(s):1===h?this.set(a):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=s.projMatrix.mat4[0]*Math.pow(a.projMatrix.mat4[0]/s.projMatrix.mat4[0],h),this.projMatrix.mat4[5]=s.projMatrix.mat4[5]*Math.pow(a.projMatrix.mat4[5]/s.projMatrix.mat4[5],h),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),y=new _.default.Vector(s.eyeX,s.eyeY,s.eyeZ),f=new _.default.Vector(a.eyeX,a.eyeY,a.eyeZ),q=new _.default.Vector(s.centerX,s.centerY,s.centerZ),Y=new _.default.Vector(a.centerX,a.centerY,a.centerZ),l=_.default.Vector.dist(y,q),c=_.default.Vector.dist(f,Y),c=l*Math.pow(c/l,h),l=_.default.Vector.sub(y,f),u=1,1e-6<(K=(I=y.copy().sub(f).sub(q).add(Y)).magSq())&&(u=_.default.Vector.dot(l,I)/K,u=Math.max(0,Math.min(u,1))),l=_.default.Vector.lerp(_.default.Vector.lerp(y,q,u),_.default.Vector.lerp(f,Y,u),h),I=s.cameraMatrix.createSubMatrix3x3(),K=a.cameraMatrix.createSubMatrix3x3(),y=I.row(2),q=K.row(2),f=I.row(1),Y=K.row(1),s=new _.default.Vector,a=new _.default.Vector,b=new _.default.Vector,D=new _.default.Vector,1-(B=.5*((I=(K=K.mult3x3(I.copy().transpose3x3())).diagonal())[0]+I[1]+I[2]-1))<1e-7?(s.set(_.default.Vector.lerp(y,q,h)).normalize(),b.set(s).mult(u*c).add(l),D.set(s).mult((u-1)*c).add(l),a.set(_.default.Vector.lerp(f,Y,h)).normalize()):(q=1/(1-B),Y=Math.max(I[0],I[1],I[2]),U=K.mat3[1]+K.mat3[3],T=K.mat3[2]+K.mat3[6],M=K.mat3[5]+K.mat3[7],Y=Y===I[0]?(j=.5*U*(q/=F=Math.sqrt((I[0]-B)*q)),k=.5*T*q,.5*(K.mat3[7]-K.mat3[5])/F):Y===I[1]?(k=.5*M*(q/=j=Math.sqrt((I[1]-B)*q)),F=.5*U*q,.5*(K.mat3[2]-K.mat3[6])/j):(F=.5*T*(q/=k=Math.sqrt((I[2]-B)*q)),j=.5*M*q,.5*(K.mat3[3]-K.mat3[1])/k),U=h*Math.atan2(Y,B),T=Math.cos(U),I=Math.sin(U),(Y=new _.default.Matrix("mat3",[T+(M=1-T)*F*F,M*(q=F*j)+I*k,M*(K=k*F)-I*j,M*q-I*k,T+M*j*j,M*(h=j*k)+I*F,M*K+I*j,M*h-I*F,T+M*k*k])).multiplyVec3(y,s),b.set(s).mult(u*c).add(l),D.set(s).mult((u-1)*c).add(l),Y.multiplyVec3(f,a)),this.camera(b.x,b.y,b.z,D.x,D.y,D.z,a.x,a.y,a.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var s=new _.default.Camera(this._renderer);return s.cameraFOV=this.cameraFOV,s.aspectRatio=this.aspectRatio,s.eyeX=this.eyeX,s.eyeY=this.eyeY,s.eyeZ=this.eyeZ,s.centerX=this.centerX,s.centerY=this.centerY,s.centerZ=this.centerZ,s.upX=this.upX,s.upY=this.upY,s.upZ=this.upZ,s.cameraNear=this.cameraNear,s.cameraFar=this.cameraFar,s.cameraType=this.cameraType,s.cameraMatrix=this.cameraMatrix.copy(),s.projMatrix=this.projMatrix.copy(),s.yScale=this.yScale,s}},{key:"_getLocalAxes",value:function(){var D,s=this.eyeX-this.centerX,a=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,y=(0!==(y=Math.sqrt(s*s+a*a+h*h))&&(s/=y,a/=y,h/=y),this.upX),c=(f=this.upY)*h-(b=this.upZ)*a,u=-y*h+b*s,l=y*a-f*s,f=(y=a*l-h*u,-s*l+h*c),b=s*u-a*c;return 0!==(0!==(D=Math.sqrt(c*c+u*u+l*l))&&(c/=D,u/=D,l/=D),D=Math.sqrt(y*y+f*f+b*b))&&(y/=D,f/=D,b/=D),{x:[c,u,l],y:[y,f,b],z:[s,a,h]}}},{key:"_orbit",value:function(s,D,b){var u=this.eyeX-this.centerX,l=this.eyeY-this.centerY,y=this.eyeZ-this.centerZ,c=Math.hypot(u,l,y),f=(u=new _.default.Vector(u,l,y).normalize(),l=new _.default.Vector(this.upX,this.upY,this.upZ).normalize(),y=_.default.Vector.cross(l,u).normalize(),_.default.Vector.cross(y,l));(c=(c*=Math.pow(10,b))<this.cameraNear?this.cameraNear:c)>this.cameraFar&&(c=this.cameraFar),b=Math.acos(Math.max(-1,Math.min(1,_.default.Vector.dot(u,l))))+D,D=s,(b<=0||b>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),l.mult(Math.cos(b)),f.mult(Math.cos(D)*Math.sin(b)),y.mult(Math.sin(D)*Math.sin(b)),u.set(l).add(f).add(y),this.eyeX=c*u.x+this.centerX,this.eyeY=c*u.y+this.centerY,this.eyeZ=c*u.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(b,D,F){var u=this.eyeX-this.centerX,l=this.eyeY-this.centerY,y=this.eyeZ-this.centerZ,c=Math.hypot(u,l,y),f=(u=new _.default.Vector(u,l,y).normalize(),l=new _.default.Vector(this.upX,this.upY,this.upZ),y=_.default.Vector.cross(l,u).normalize(),_.default.Vector.cross(u,y)),j=Math.atan2(D,b),B=(f.mult(Math.sin(j)),y.mult(Math.cos(j)).add(f),j=Math.sqrt(b*b+D*D),f=_.default.Vector.cross(u,y),(c=(c*=Math.pow(10,F))<this.cameraNear?this.cameraNear:c)>this.cameraFar&&(c=this.cameraFar),b=Math.cos(j),D=Math.sin(j),(F=l.dot(u))*b+(j=l.dot(y))*D);F=-F*D+j*b,j=l.dot(f),l.x=B*u.x+F*y.x+j*f.x,l.y=B*u.y+F*y.y+j*f.y,l.z=B*u.z+F*y.z+j*f.z,y.mult(-D),u.mult(b).add(y).mult(c),this.camera(u.x+this.centerX,u.y+this.centerY,u.z+this.centerZ,this.centerX,this.centerY,this.centerZ,l.x,l.y,l.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&d(m.prototype,C),p}(),_.default.prototype.setCamera=function(p){this._renderer._curCamera=p,this._renderer.uPMatrix.set(p.projMatrix)},w.default=o=_.default.Camera},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(o,V,w){"use strict";function _(d,p){for(var m=0;m<p.length;m++){var C=p[m];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(d,C.key,C)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function d(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(x),this.initialLength=x}var p,m;return p=d,(m=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var x;this.length<this.data.length/2&&(x=1<<Math.ceil(Math.log2(this.length)),(x=new Float32Array(x)).set(this.data.subarray(0,this.length),0),this.data=x)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var x=arguments.length,s=new Array(x),a=0;a<x;a++)s[a]=arguments[a];this.ensureLength(this.length+s.length),this.data.set(s,this.length),this.length+=s.length}},{key:"slice",value:function(x,s){return this.data.slice(x,Math.min(s,this.length))}},{key:"subArray",value:function(x,s){return this.data.subarray(x,Math.min(s,this.length))}},{key:"ensureLength",value:function(x){for(;this.data.length<x;){var s=new Float32Array(2*this.data.length);s.set(this.data,0),this.data=s}}}])&&_(p.prototype,m),d}(),w.default=o=o.default.DataArray},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(k,V,w){"use strict";function _(U){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(U)}function d(U){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(T){return _(T)}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":_(T)})(U)}k("core-js/modules/es.symbol"),k("core-js/modules/es.symbol.description"),k("core-js/modules/es.symbol.iterator"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.object.get-own-property-descriptor"),k("core-js/modules/es.object.get-prototype-of"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.reflect.construct"),k("core-js/modules/es.reflect.get"),k("core-js/modules/es.regexp.to-string"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.string.iterator"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint8-clamped-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),k("core-js/modules/es.weak-map"),k("core-js/modules/web.dom-collections.iterator"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.object.get-prototype-of"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint8-clamped-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(j=k("../core/main"))&&j.__esModule?j:{default:j},m=function(U){if(U&&U.__esModule)return U;if(null===U||"object"!==d(U)&&"function"!=typeof U)return{default:U};var T=s();if(T&&T.has(U))return T.get(U);var I,M={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in U){var K;Object.prototype.hasOwnProperty.call(U,I)&&((K=q?Object.getOwnPropertyDescriptor(U,I):null)&&(K.get||K.set)?Object.defineProperty(M,I,K):M[I]=U[I])}return M.default=U,T&&T.set(U,M),M}(k("../core/constants")),C=k("./p5.Texture"),x=k("./p5.RendererGL");function s(){var U;return"function"!=typeof WeakMap?null:(s=function(){return U},U=new WeakMap)}function a(U,T){return function(I){if(Array.isArray(I))return I}(U)||function(I,M){if(Symbol.iterator in Object(I)||"[object Arguments]"===Object.prototype.toString.call(I)){var q=[],K=!0,Y=!1,ie=void 0;try{for(var te,z=I[Symbol.iterator]();!(K=(te=z.next()).done)&&(q.push(te.value),!M||q.length!==M);K=!0);}catch(oe){Y=!0,ie=oe}finally{try{K||null==z.return||z.return()}finally{if(Y)throw ie}}return q}}(U,T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(U,T,I){return T in U?Object.defineProperty(U,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):U[T]=I,U}function c(U,T){if(!(U instanceof T))throw new TypeError("Cannot call a class as a function")}function u(U,T){for(var I=0;I<T.length;I++){var M=T[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(U,M.key,M)}}function l(U,T,I){T&&u(U.prototype,T),I&&u(U,I)}function y(U,T,I){return(y=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Y,q,K){if(Y=function(ie,te){for(;!Object.prototype.hasOwnProperty.call(ie,te)&&null!==(ie=D(ie)););return ie}(Y,q))return(Y=Object.getOwnPropertyDescriptor(Y,q)).get?Y.get.call(K):Y.value})(U,T,I||U)}function f(U,T){return(f=Object.setPrototypeOf||function(I,M){return I.__proto__=M,I})(U,T)}function D(U){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(U)}var B=function(U){var T=M;if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(U&&U.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),U&&f(T,U);var I=function b(U){return function(){var T,I=D(U);if(T=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(T=D(this).constructor,Reflect.construct(I,arguments,T)):I.apply(this,arguments),I=this,!T||"object"!==d(T)&&"function"!=typeof T){if(void 0!==I)return I;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return T}}(M);function M(q){var K;return c(this,M),(K=I.call(this,q.target._renderer)).fbo=q,K.yScale=-1,K}return l(M,[{key:"_computeCameraDefaultSettings",value:function(){y(D(M.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),M}(p.default.Camera),F=(p.default.FramebufferCamera=B,function(){function U(T,I){c(this,U),this.framebuffer=T,this.property=I}return l(U,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),U}()),j=(p.default.FramebufferTexture=F,function(){function U(T){var I=this,M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},q=(c(this,U),this.target=T,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=M.format||m.UNSIGNED_BYTE,this.channels=M.channels||(T._renderer._pInst._glAttributes.alpha?m.RGBA:m.RGB),this.useDepth=void 0===M.depth||M.depth,this.depthFormat=M.depthFormat||m.FLOAT,this.textureFiltering=M.textureFiltering||m.LINEAR,this.antialiasSamples=void 0===M.antialias?T._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof M.antialias?M.antialias:M.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&T.webglVersion!==m.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=M.density||T.pixelDensity(),T._renderer.GL);if(this.gl=q,M.width&&M.height?(K=T._renderer._adjustDimensions(M.width,M.height),this.width=K.adjustedWidth,this.height=K.adjustedHeight,this.autoSized=!1):(void 0===M.width!=(void 0===M.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=T.width,this.height=T.height,this.autoSized=!0),this._checkIfFormatsAvailable(),M.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===M.stencil||M.stencil),this.framebuffer=q.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=q.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var K=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=K,this.draw(function(){return I.target.clear()})}return l(U,[{key:"resize",value:function(T,I){this.autoSized=!1;var M=this.target._renderer._adjustDimensions(T,I);I=M.adjustedHeight,this.width=T=M.adjustedWidth,this.height=I,this._handleResize()}},{key:"pixelDensity",value:function(T){if(!T)return this.density;this.autoSized=!1,this.density=T,this._handleResize()}},{key:"autoSized",value:function(T){if(void 0===T)return this.autoSized;this.autoSized=T,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var T=this.gl;(this.useDepth&&this.target.webglVersion===m.WEBGL&&!T.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===m.WEBGL&&this.depthFormat===m.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=m.UNSIGNED_INT),[m.UNSIGNED_BYTE,m.FLOAT,m.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=m.UNSIGNED_BYTE),this.useDepth&&![m.UNSIGNED_INT,m.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=m.FLOAT),T=(0,C.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==m.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=m.UNSIGNED_BYTE),this.useDepth&&!T.float&&this.depthFormat===m.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=m.UNSIGNED_INT),T.halfFloat||this.format!==m.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=m.UNSIGNED_BYTE),this.channels===m.RGB&&[m.FLOAT,m.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=m.RGBA)}},{key:"_recreateTextures",value:function(){var T=this.gl,I=(this._updateSize(),T.getParameter(T.TEXTURE_BINDING_2D)),M=T.getParameter(T.FRAMEBUFFER_BINDING);if(!(q=T.createTexture()))throw new Error("Unable to create color texture");T.bindTexture(T.TEXTURE_2D,q);var K=this._glColorFormat();if(T.texImage2D(T.TEXTURE_2D,0,K.internalFormat,this.width*this.density,this.height*this.density,0,K.format,K.type,null),this.colorTexture=q,T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,q,0),this.useDepth){var q;if(!(q=T.createTexture()))throw new Error("Unable to create depth texture");var Y=this._glDepthFormat();T.bindTexture(T.TEXTURE_2D,q),T.texImage2D(T.TEXTURE_2D,0,Y.internalFormat,this.width*this.density,this.height*this.density,0,Y.format,Y.type,null),T.framebufferTexture2D(T.FRAMEBUFFER,this.useStencil?T.DEPTH_STENCIL_ATTACHMENT:T.DEPTH_ATTACHMENT,T.TEXTURE_2D,q,0),this.depthTexture=q}this.antialias&&(this.colorRenderbuffer=T.createRenderbuffer(),T.bindRenderbuffer(T.RENDERBUFFER,this.colorRenderbuffer),T.renderbufferStorageMultisample(T.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,T.getParameter(T.MAX_SAMPLES))),K.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(Y=this._glDepthFormat(),this.depthRenderbuffer=T.createRenderbuffer(),T.bindRenderbuffer(T.RENDERBUFFER,this.depthRenderbuffer),T.renderbufferStorageMultisample(T.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,T.getParameter(T.MAX_SAMPLES))),Y.internalFormat,this.width*this.density,this.height*this.density)),T.bindFramebuffer(T.FRAMEBUFFER,this.aaFramebuffer),T.framebufferRenderbuffer(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&T.framebufferRenderbuffer(T.FRAMEBUFFER,this.useStencil?T.DEPTH_STENCIL_ATTACHMENT:T.DEPTH_ATTACHMENT,T.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new F(this,"depthTexture"),this.depthP5Texture=new p.default.Texture(this.target._renderer,this.depth,{minFilter:q=T.NEAREST,magFilter:q}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new F(this,"colorTexture"),this.colorP5Texture=new p.default.Texture(this.target._renderer,this.color,{minFilter:K=this.textureFiltering===m.LINEAR?T.LINEAR:T.NEAREST,magFilter:K}),this.target._renderer.textures.set(this.color,this.colorP5Texture),T.bindTexture(T.TEXTURE_2D,I),T.bindFramebuffer(T.FRAMEBUFFER,M)}},{key:"_glColorFormat",value:function(){var T,I,M=this.gl,q=this.format===m.FLOAT?M.FLOAT:this.format===m.HALF_FLOAT?this.target.webglVersion===m.WEBGL2?M.HALF_FLOAT:M.getExtension("OES_texture_half_float").HALF_FLOAT_OES:M.UNSIGNED_BYTE,K=this.channels===m.RGBA?M.RGBA:M.RGB;return{internalFormat:this.target.webglVersion===m.WEBGL2?(h(I={},M.FLOAT,h({},M.RGBA,M.RGBA32F)),h(I,M.HALF_FLOAT,h({},M.RGBA,M.RGBA16F)),h(I,M.UNSIGNED_BYTE,(h(T={},M.RGBA,M.RGBA8),h(T,M.RGB,M.RGB8),T)),I[q][K]):this.format===m.HALF_FLOAT?M.RGBA:K,format:K,type:q}}},{key:"_glDepthFormat",value:function(){var M=this.gl,T=this.useStencil?this.depthFormat===m.FLOAT?M.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===m.WEBGL2?M.UNSIGNED_INT_24_8:M.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===m.FLOAT?M.FLOAT:M.UNSIGNED_INT,I=this.useStencil?M.DEPTH_STENCIL:M.DEPTH_COMPONENT;return{internalFormat:M=this.useStencil?this.depthFormat===m.FLOAT?M.DEPTH32F_STENCIL8:this.target.webglVersion===m.WEBGL2?M.DEPTH24_STENCIL8:M.DEPTH_STENCIL:this.target.webglVersion===m.WEBGL2?this.depthFormat===m.FLOAT?M.DEPTH_COMPONENT32F:M.DEPTH_COMPONENT24:M.DEPTH_COMPONENT,format:I,type:T}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var T=this.depth,I=this.colorRenderbuffer,M=this.depthRenderbuffer,q=(this._deleteTexture(q=this.color),T&&this._deleteTexture(T),this.gl);I&&q.deleteRenderbuffer(I),M&&q.deleteRenderbuffer(M),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var T=new B(this);return T._computeCameraDefaultSettings(),T._setDefaultCamera(),this.target._renderer._curCamera=T}},{key:"_deleteTexture",value:function(T){this.gl.deleteTexture(T.rawTexture()),this.target._renderer.textures.delete(T)}},{key:"remove",value:function(){var T=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),T.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&T.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&T.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&T.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix)}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var T=this.gl,I=(T.bindFramebuffer(T.READ_FRAMEBUFFER,this.aaFramebuffer),T.bindFramebuffer(T.DRAW_FRAMEBUFFER,this.framebuffer),[[T.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&I.push([T.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var M=0,q=I;M<q.length;M++){var Y=a(q[M],2);T.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,Y[0],Y=Y[1])}}}},{key:"end",value:function(){var T=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(T.bindFramebuffer(T.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(T){this.begin(),T(),this.end()}},{key:"loadPixels",value:function(){var T=this.gl,I=this.target._renderer.activeFramebuffer(),M=(T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,x.readPixelsWebGL)(this.pixels,T,this.framebuffer,0,0,this.width*this.density,this.height*this.density,M.format,M.type),T.bindFramebuffer(T.FRAMEBUFFER,I?I._framebufferToBind():null)}},{key:"get",value:function(T,I,M,q){p.default._validateParameters("p5.Framebuffer.get",arguments);var K=this._glColorFormat();if(void 0===T&&void 0===I)I=T=0,M=this.width,q=this.height;else if(void 0===M&&void 0===q)return(T<0||I<0||T>=this.width||I>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),T=this.target.constrain(T,0,this.width-1),I=this.target.constrain(I,0,this.height-1)),(0,x.readPixelWebGL)(this.gl,this.framebuffer,T*this.density,I*this.density,K.format,K.type);T=this.target.constrain(T,0,this.width-1),I=this.target.constrain(I,0,this.height-1),M=this.target.constrain(M,1,this.width-T),q=this.target.constrain(q,1,this.height-I);for(var Y=(0,x.readPixelsWebGL)(void 0,this.gl,this.framebuffer,T*this.density,I*this.density,M*this.density,q*this.density,K.format,K.type),ie=new Uint8ClampedArray(M*q*this.density*this.density*4),te=(ie.fill(255),K.type===this.gl.RGB?3:4),z=0;z<q*this.density;z++)for(var oe=0;oe<M*this.density;oe++)for(var le=0;le<4;le++){var W=4*(z*M*this.density+oe)+le;le<te&&(ie[W]=Y[4==te?W:(z*M*this.density+oe)*te+le])}return(T=new p.default.Image(M*this.density,q*this.density)).imageData=T.canvas.getContext("2d").createImageData(T.width,T.height),T.imageData.data.set(ie),T.pixels=T.imageData.data,T.updatePixels(),1!==this.density&&T.resize(M,q),T}},{key:"updatePixels",value:function(){var T=this.gl,I=(this.colorP5Texture.bindTexture(),this._glColorFormat()),M=this.width*this.height*this.density*this.density*(M=I.format===T.RGBA?4:3),q=I.type===T.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof q)||this.pixels.length!==M)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");T.texImage2D(T.TEXTURE_2D,0,I.internalFormat,this.width*this.density,this.height*this.density,0,I.format,I.type,this.pixels),this.colorP5Texture.unbindTexture(),q=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(T.clearDepth(1),T.clear(T.DEPTH_BUFFER_BIT)),this.end()):(T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),this.useDepth&&(T.clearDepth(1),T.clear(T.DEPTH_BUFFER_BIT)),T.bindFramebuffer(T.FRAMEBUFFER,q?q._framebufferToBind():null))}}]),U}());k=p.default.Framebuffer=j,w.default=k},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(o,V,w){"use strict";function _(h){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}function d(h){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(c){return _(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":_(c)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(a=o("../core/main"))&&a.__esModule?a:{default:a},m=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==d(h)&&"function"!=typeof h)return{default:h};var c=C();if(c&&c.has(h))return c.get(h);var u,l={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h){var f;Object.prototype.hasOwnProperty.call(h,u)&&((f=y?Object.getOwnPropertyDescriptor(h,u):null)&&(f.get||f.set)?Object.defineProperty(l,u,f):l[u]=h[u])}return l.default=h,c&&c.set(h,l),l}(o("../core/constants"));function C(){var h;return"function"!=typeof WeakMap?null:(C=function(){return h},h=new WeakMap)}function x(h){return function(c){if(Array.isArray(c)){for(var u=0,l=new Array(c.length);u<c.length;u++)l[u]=c[u];return l}}(h)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(h,c){for(var u=0;u<c.length;u++){var l=c[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}}p.default.Geometry=function(){function h(y,f,b){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new p.default.DataArray,this.lineTangentsIn=new p.default.DataArray,this.lineTangentsOut=new p.default.DataArray,this.lineSides=new p.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new p.default.DataArray,this.detailX=void 0!==y?y:1,this.detailY=void 0!==f?f:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,b instanceof Function&&b.call(this)}var c,u;return c=h,(u=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var y=new p.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),f=new p.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),b=0;b<this.vertices.length;b++){var D=this.vertices[b];y.x=Math.min(y.x,D.x),y.y=Math.min(y.y,D.y),y.z=Math.min(y.z,D.z),f.x=Math.max(f.x,D.x),f.y=Math.max(f.y,D.y),f.z=Math.max(f.z,D.z)}var B=new p.default.Vector(f.x-y.x,f.y-y.y,f.z-y.z),F=new p.default.Vector((y.x+f.x)/2,(y.y+f.y)/2,(y.z+f.z)/2);this.boundingBoxCache={min:y,max:f,size:B,offset:F}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var y=0;y<this.vertexColors.length;y+=4)if(this.vertexColors[y+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var y=0;y<this.lineVertexColors.length;y+=4)if(this.lineVertexColors[y+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(y,f){return f%2==0?1-y:y})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(y,f){return f%2==0?y:1-y})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var y,f,b,D=this.detailX+1,B=0;B<this.detailY;B++)for(var F=0;F<this.detailX;F++)f=(B+1)*D+F+1,this.faces.push([B*D+F,y=B*D+F+1,b=(B+1)*D+F]),this.faces.push([b,y,f]);return this}},{key:"_getFaceNormal",value:function(f){var b=this.vertices[(f=this.faces[f])[0]],B=this.vertices[f[1]],D=(f=this.vertices[f[2]],B=p.default.Vector.sub(B,b),f=p.default.Vector.sub(f,b),b=p.default.Vector.cross(B,f),p.default.Vector.mag(b));return 0==(B=D/(p.default.Vector.mag(B)*p.default.Vector.mag(f)))||isNaN(B)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),b):(1<B&&(B=1),b.mult(Math.asin(B)/D))}},{key:"computeNormals",value:function(){var y,f=this,D=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,B=this.vertexNormals,F=this.vertices,j=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:m.FLAT)===m.SMOOTH){for(var k={},U=[],T=Math.pow(10,void 0===D?3:D),I=function(ie){return Math.round(ie*T)/T},M=function(ie){return"".concat(I(ie.x),",").concat(I(ie.y),",").concat(I(ie.z))},q=0;q<F.length;q++){var K=F[q],Y=M(K);void 0===k[Y]&&(k[Y]=U.length,U.push(K))}j.forEach(function(ie){for(var te=0;te<3;++te){var z=M(z=F[z=ie[te]]);ie[te]=k[z]}}),this.edges.forEach(function(ie){for(var te=0;te<2;++te){var z=M(z=F[z=ie[te]]);ie[te]=k[z]}}),this.vertices=F=U}for(y=B.length=0;y<F.length;++y)B.push(new p.default.Vector);for(j.forEach(function(ie,te){for(var z=f._getFaceNormal(te),oe=0;oe<3;++oe)B[ie[oe]].add(z)}),y=0;y<F.length;++y)B[y].normalize();return this}},{key:"averageNormals",value:function(){for(var y=0;y<=this.detailY;y++){var f=this.detailX+1,b=p.default.Vector.add(this.vertexNormals[y*f],this.vertexNormals[y*f+this.detailX]);b=p.default.Vector.div(b,2),this.vertexNormals[y*f]=b,this.vertexNormals[y*f+this.detailX]=b}return this}},{key:"averagePoleNormals",value:function(){for(var y=new p.default.Vector(0,0,0),f=0;f<this.detailX;f++)y.add(this.vertexNormals[f]);y=p.default.Vector.div(y,this.detailX);for(var b=0;b<this.detailX;b++)this.vertexNormals[b]=y;y=new p.default.Vector(0,0,0);for(var D=this.vertices.length-1;D>this.vertices.length-1-this.detailX;D--)y.add(this.vertexNormals[D]);y=p.default.Vector.div(y,this.detailX);for(var B=this.vertices.length-1;B>this.vertices.length-1-this.detailX;B--)this.vertexNormals[B]=y;return this}},{key:"_makeTriangleEdges",value:function(){for(var y=this.edges.length=0;y<this.faces.length;y++)this.edges.push([this.faces[y][0],this.faces[y][1]]),this.edges.push([this.faces[y][1],this.faces[y][2]]),this.edges.push([this.faces[y][2],this.faces[y][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var y,f=new Map,b=new Set,D=0;D<this.edges.length;D++){var B,F=this.edges[D-1],j=this.edges[D],k=this.vertices[j[0]],U=this.vertices[j[1]],T=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[0],4*(j[0]+1)):[0,0,0,0],I=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[1],4*(j[1]+1)):[0,0,0,0],M=U.copy().sub(k).normalize(),q=0<M.magSq();q&&this._addSegment(k,U,T,I,M),0<D&&F[1]===j[0]?b.has(j[0])||(b.add(j[0]),f.delete(j[0]),y&&q&&M.dot(y)<1-1e-8&&this._addJoin(k,y,M,T)):(q&&!b.has(j[0])&&((B=f.get(j[0]))?(this._addJoin(k,B.dir,M,T),f.delete(j[0]),b.add(j[0])):f.set(j[0],{point:k,dir:M.copy().mult(-1),color:T})),y&&!b.has(F[1])&&((B=f.get(F[1]))?(this._addJoin(this.vertices[F[1]],y,B.dir.copy().mult(-1),T),f.delete(F[1]),b.add(F[1])):f.set(F[1],{point:this.vertices[F[1]],dir:y,color:T}),y=void 0)),D!==this.edges.length-1||b.has(j[1])||((k=f.get(j[1]))?(this._addJoin(U,M,k.dir.copy().mult(-1),I),f.delete(j[1]),b.add(j[1])):f.set(j[1],{point:U,dir:M,color:I})),q&&(y=M)}var K=!0,Y=!1,ie=void 0;try{for(var te,z=f.values()[Symbol.iterator]();!(K=(te=z.next()).done);K=!0){var oe=te.value;this._addCap(oe.point,oe.dir,oe.color)}}catch(R){Y=!0,ie=R}finally{try{K||null==z.return||z.return()}finally{if(Y)throw ie}}return this}},{key:"_addSegment",value:function(F,j,b,D,B){F=F.array(),j=j.array();var k=B.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var U=0,T=[this.lineTangentsIn,this.lineTangentsOut];U<T.length;U++)for(var I=T[U],M=0;M<6;M++)I.push.apply(I,x(k));return(B=this.lineVertices).push.apply(B,x(F).concat(x(j),x(F),x(j),x(j),x(F))),(B=this.lineVertexColors).push.apply(B,x(b).concat(x(D),x(b),x(D),x(D),x(b))),this}},{key:"_addCap",value:function(y,f,b){for(var D,B=y.array(),F=f.array(),j=[0,0,0],k=0;k<6;k++)(D=this.lineVertices).push.apply(D,x(B)),(D=this.lineTangentsIn).push.apply(D,x(F)),(D=this.lineTangentsOut).push.apply(D,j),(D=this.lineVertexColors).push.apply(D,x(b));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(y,f,b,D){for(var B,F=y.array(),j=f.array(),k=b.array(),U=0;U<12;U++)(B=this.lineVertices).push.apply(B,x(F)),(B=this.lineTangentsIn).push.apply(B,x(j)),(B=this.lineTangentsOut).push.apply(B,x(k)),(B=this.lineVertexColors).push.apply(B,x(D));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var y=this.vertices[0].copy(),f=this.vertices[0].copy(),b=0;b<this.vertices.length;b++)y.x=Math.max(y.x,this.vertices[b].x),f.x=Math.min(f.x,this.vertices[b].x),y.y=Math.max(y.y,this.vertices[b].y),f.y=Math.min(f.y,this.vertices[b].y),y.z=Math.max(y.z,this.vertices[b].z),f.z=Math.min(f.z,this.vertices[b].z);for(var D=p.default.Vector.lerp(y,f,.5),B=p.default.Vector.sub(y,f),F=200/Math.max(Math.max(B.x,B.y),B.z),j=0;j<this.vertices.length;j++)this.vertices[j].sub(D),this.vertices[j].mult(F)}return this}}])&&s(c.prototype,u),h}();var a=p.default.Geometry;w.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(C,V,w){"use strict";C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(C=C("../core/main"))&&C.__esModule?C:{default:C};function d(x,s){for(var a=0;a<s.length;a++){var h=s[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(x,h.key,h)}}var p=Array,m=function(x){return Array.isArray(x)};typeof Float32Array<"u"&&(p=Float32Array,m=function(x){return Array.isArray(x)||x instanceof Float32Array}),_.default.Matrix=function(){function x(){var c=this,u=x;if(c instanceof u)return arguments.length&&((c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c])instanceof _.default&&(this.p5=(u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new p([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new p([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var s,a,h;return s=x,h=[{key:"identity",value:function(c){return new _.default.Matrix(c)}}],(a=[{key:"set",value:function(c){var u=arguments;if(c instanceof _.default.Matrix?u=c.mat4:m(c)&&(u=c),16!==u.length)_.default._friendlyError("Expected 16 values but received ".concat(u.length,"."),"p5.Matrix.set");else for(var l=0;l<16;l++)this.mat4[l]=u[l];return this}},{key:"get",value:function(){return new _.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var c;return void 0!==this.mat3?((c=new _.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],c.mat3[1]=this.mat3[1],c.mat3[2]=this.mat3[2],c.mat3[3]=this.mat3[3],c.mat3[4]=this.mat3[4],c.mat3[5]=this.mat3[5],c.mat3[6]=this.mat3[6],c.mat3[7]=this.mat3[7],c.mat3[8]=this.mat3[8]):((c=new _.default.Matrix(this.p5)).mat4[0]=this.mat4[0],c.mat4[1]=this.mat4[1],c.mat4[2]=this.mat4[2],c.mat4[3]=this.mat4[3],c.mat4[4]=this.mat4[4],c.mat4[5]=this.mat4[5],c.mat4[6]=this.mat4[6],c.mat4[7]=this.mat4[7],c.mat4[8]=this.mat4[8],c.mat4[9]=this.mat4[9],c.mat4[10]=this.mat4[10],c.mat4[11]=this.mat4[11],c.mat4[12]=this.mat4[12],c.mat4[13]=this.mat4[13],c.mat4[14]=this.mat4[14],c.mat4[15]=this.mat4[15]),c}},{key:"transpose",value:function(c){var u,l,y,f,b,D;return c instanceof _.default.Matrix?(u=c.mat4[1],l=c.mat4[2],y=c.mat4[3],f=c.mat4[6],b=c.mat4[7],D=c.mat4[11],this.mat4[0]=c.mat4[0],this.mat4[1]=c.mat4[4],this.mat4[2]=c.mat4[8],this.mat4[3]=c.mat4[12],this.mat4[4]=u,this.mat4[5]=c.mat4[5],this.mat4[6]=c.mat4[9],this.mat4[7]=c.mat4[13],this.mat4[8]=l,this.mat4[9]=f,this.mat4[10]=c.mat4[10],this.mat4[11]=c.mat4[14],this.mat4[12]=y,this.mat4[13]=b,this.mat4[14]=D,this.mat4[15]=c.mat4[15]):m(c)&&(u=c[1],l=c[2],y=c[3],f=c[6],b=c[7],D=c[11],this.mat4[0]=c[0],this.mat4[1]=c[4],this.mat4[2]=c[8],this.mat4[3]=c[12],this.mat4[4]=u,this.mat4[5]=c[5],this.mat4[6]=c[9],this.mat4[7]=c[13],this.mat4[8]=l,this.mat4[9]=f,this.mat4[10]=c[10],this.mat4[11]=c[14],this.mat4[12]=y,this.mat4[13]=b,this.mat4[14]=D,this.mat4[15]=c[15]),this}},{key:"invert",value:function(Y){Y instanceof _.default.Matrix?(u=Y.mat4[0],l=Y.mat4[1],y=Y.mat4[2],f=Y.mat4[3],b=Y.mat4[4],D=Y.mat4[5],B=Y.mat4[6],F=Y.mat4[7],j=Y.mat4[8],k=Y.mat4[9],U=Y.mat4[10],T=Y.mat4[11],I=Y.mat4[12],M=Y.mat4[13],q=Y.mat4[14],K=Y.mat4[15]):m(Y)&&(u=Y[0],l=Y[1],y=Y[2],f=Y[3],b=Y[4],D=Y[5],B=Y[6],F=Y[7],j=Y[8],k=Y[9],U=Y[10],T=Y[11],I=Y[12],M=Y[13],q=Y[14],K=Y[15]);var u,l,y,f,b,D,B,F,j,k,U,T,I,M,q,K,ie=u*B-y*b,te=u*F-f*b,z=l*B-y*D,oe=l*F-f*D,le=y*F-f*B,Ee=j*M-k*I,W=j*q-U*I,R=j*K-T*I,ne=k*q-U*M,ue=k*K-T*M,we=U*K-T*q,je=(Y=u*D-l*b)*we-ie*ue+te*ne+z*R-oe*W+le*Ee;return je?(this.mat4[0]=(D*we-B*ue+F*ne)*(je=1/je),this.mat4[1]=(y*ue-l*we-f*ne)*je,this.mat4[2]=(M*le-q*oe+K*z)*je,this.mat4[3]=(U*oe-k*le-T*z)*je,this.mat4[4]=(B*R-b*we-F*W)*je,this.mat4[5]=(u*we-y*R+f*W)*je,this.mat4[6]=(q*te-I*le-K*ie)*je,this.mat4[7]=(j*le-U*te+T*ie)*je,this.mat4[8]=(b*ue-D*R+F*Ee)*je,this.mat4[9]=(l*R-u*ue-f*Ee)*je,this.mat4[10]=(I*oe-M*te+K*Y)*je,this.mat4[11]=(k*te-j*oe-T*Y)*je,this.mat4[12]=(D*W-b*ne-B*Ee)*je,this.mat4[13]=(u*ne-l*W+y*Ee)*je,this.mat4[14]=(M*ie-I*z-q*Y)*je,this.mat4[15]=(j*z-k*ie+U*Y)*je,this):null}},{key:"invert3x3",value:function(){var c=this.mat3[0],u=this.mat3[1],l=this.mat3[2],y=this.mat3[3],f=this.mat3[4],b=this.mat3[5],D=this.mat3[6],B=this.mat3[7],F=this.mat3[8],j=F*f-b*B,k=-F*y+b*D,U=B*y-f*D,T=c*j+u*k+l*U;return T?(this.mat3[0]=j*(T=1/T),this.mat3[1]=(-F*u+l*B)*T,this.mat3[2]=(b*u-l*f)*T,this.mat3[3]=k*T,this.mat3[4]=(F*c-l*D)*T,this.mat3[5]=(-b*c+l*y)*T,this.mat3[6]=U*T,this.mat3[7]=(-B*c+u*D)*T,this.mat3[8]=(f*c-u*y)*T,this):null}},{key:"transpose3x3",value:function(c){var u=(c=void 0===c?this.mat3:c)[1],l=c[2],y=c[5];return this.mat3[0]=c[0],this.mat3[1]=c[3],this.mat3[2]=c[6],this.mat3[3]=u,this.mat3[4]=c[4],this.mat3[5]=c[7],this.mat3[6]=l,this.mat3[7]=y,this.mat3[8]=c[8],this}},{key:"inverseTranspose",value:function(c){if(c=c.mat4,void 0===this.mat3?_.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=c[0],this.mat3[1]=c[1],this.mat3[2]=c[2],this.mat3[3]=c[4],this.mat3[4]=c[5],this.mat3[5]=c[6],this.mat3[6]=c[8],this.mat3[7]=c[9],this.mat3[8]=c[10]),c=this.invert3x3())c.transpose3x3(this.mat3);else for(var u=0;u<9;u++)this.mat3[u]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(l){var u;if(l===this||l===this.mat4)u=this.copy().mat4;else if(l instanceof _.default.Matrix)u=l.mat4;else if(m(l))u=l;else{if(16!==arguments.length)return;u=arguments}var y=this.mat4[1],f=this.mat4[2],b=this.mat4[3];return this.mat4[0]=(l=this.mat4[0])*u[0]+y*u[4]+f*u[8]+b*u[12],this.mat4[1]=l*u[1]+y*u[5]+f*u[9]+b*u[13],this.mat4[2]=l*u[2]+y*u[6]+f*u[10]+b*u[14],this.mat4[3]=l*u[3]+y*u[7]+f*u[11]+b*u[15],this.mat4[4]=(l=this.mat4[4])*u[0]+(y=this.mat4[5])*u[4]+(f=this.mat4[6])*u[8]+(b=this.mat4[7])*u[12],this.mat4[5]=l*u[1]+y*u[5]+f*u[9]+b*u[13],this.mat4[6]=l*u[2]+y*u[6]+f*u[10]+b*u[14],this.mat4[7]=l*u[3]+y*u[7]+f*u[11]+b*u[15],this.mat4[8]=(l=this.mat4[8])*u[0]+(y=this.mat4[9])*u[4]+(f=this.mat4[10])*u[8]+(b=this.mat4[11])*u[12],this.mat4[9]=l*u[1]+y*u[5]+f*u[9]+b*u[13],this.mat4[10]=l*u[2]+y*u[6]+f*u[10]+b*u[14],this.mat4[11]=l*u[3]+y*u[7]+f*u[11]+b*u[15],this.mat4[12]=(l=this.mat4[12])*u[0]+(y=this.mat4[13])*u[4]+(f=this.mat4[14])*u[8]+(b=this.mat4[15])*u[12],this.mat4[13]=l*u[1]+y*u[5]+f*u[9]+b*u[13],this.mat4[14]=l*u[2]+y*u[6]+f*u[10]+b*u[14],this.mat4[15]=l*u[3]+y*u[7]+f*u[11]+b*u[15],this}},{key:"apply",value:function(l){var u;if(l===this||l===this.mat4)u=this.copy().mat4;else if(l instanceof _.default.Matrix)u=l.mat4;else if(m(l))u=l;else{if(16!==arguments.length)return;u=arguments}var f,b,D,y=((l=this.mat4)[0]=u[0]*(y=l[0])+u[1]*(f=l[4])+u[2]*(b=l[8])+u[3]*(D=l[12]),l[4]=u[4]*y+u[5]*f+u[6]*b+u[7]*D,l[8]=u[8]*y+u[9]*f+u[10]*b+u[11]*D,l[12]=u[12]*y+u[13]*f+u[14]*b+u[15]*D,l[1]);return l[1]=u[0]*y+u[1]*(f=l[5])+u[2]*(b=l[9])+u[3]*(D=l[13]),l[5]=u[4]*y+u[5]*f+u[6]*b+u[7]*D,l[9]=u[8]*y+u[9]*f+u[10]*b+u[11]*D,l[13]=u[12]*y+u[13]*f+u[14]*b+u[15]*D,l[2]=u[0]*(y=l[2])+u[1]*(f=l[6])+u[2]*(b=l[10])+u[3]*(D=l[14]),l[6]=u[4]*y+u[5]*f+u[6]*b+u[7]*D,l[10]=u[8]*y+u[9]*f+u[10]*b+u[11]*D,l[14]=u[12]*y+u[13]*f+u[14]*b+u[15]*D,l[3]=u[0]*(y=l[3])+u[1]*(f=l[7])+u[2]*(b=l[11])+u[3]*(D=l[15]),l[7]=u[4]*y+u[5]*f+u[6]*b+u[7]*D,l[11]=u[8]*y+u[9]*f+u[10]*b+u[11]*D,l[15]=u[12]*y+u[13]*f+u[14]*b+u[15]*D,this}},{key:"scale",value:function(c,u,l){return c instanceof _.default.Vector?(u=c.y,l=c.z,c=c.x):c instanceof Array&&(u=c[1],l=c[2],c=c[0]),this.mat4[0]*=c,this.mat4[1]*=c,this.mat4[2]*=c,this.mat4[3]*=c,this.mat4[4]*=u,this.mat4[5]*=u,this.mat4[6]*=u,this.mat4[7]*=u,this.mat4[8]*=l,this.mat4[9]*=l,this.mat4[10]*=l,this.mat4[11]*=l,this}},{key:"rotate",value:function(Y,ue,ne,y){ue instanceof _.default.Vector?(ne=ue.y,y=ue.z,ue=ue.x):ue instanceof Array&&(ne=ue[1],y=ue[2],ue=ue[0]);var f=(ue*=1/(f=Math.sqrt(ue*ue+ne*ne+y*y)),ne*=1/f,y*=1/f,this.mat4[0]),b=this.mat4[1],D=this.mat4[2],B=this.mat4[3],F=this.mat4[4],j=this.mat4[5],k=this.mat4[6],U=this.mat4[7],T=this.mat4[8],I=this.mat4[9],M=this.mat4[10],q=this.mat4[11],K=Math.sin(Y),ie=1-(Y=Math.cos(Y)),te=ue*ue*ie+Y,z=ne*ue*ie+y*K,oe=y*ue*ie-ne*K,le=ue*ne*ie-y*K,Ee=ne*ne*ie+Y,W=y*ne*ie+ue*K,R=ue*y*ie+ne*K;return ne=ne*y*ie-ue*K,ue=y*y*ie+Y,this.mat4[0]=f*te+F*z+T*oe,this.mat4[1]=b*te+j*z+I*oe,this.mat4[2]=D*te+k*z+M*oe,this.mat4[3]=B*te+U*z+q*oe,this.mat4[4]=f*le+F*Ee+T*W,this.mat4[5]=b*le+j*Ee+I*W,this.mat4[6]=D*le+k*Ee+M*W,this.mat4[7]=B*le+U*Ee+q*W,this.mat4[8]=f*R+F*ne+T*ue,this.mat4[9]=b*R+j*ne+I*ue,this.mat4[10]=D*R+k*ne+M*ue,this.mat4[11]=B*R+U*ne+q*ue,this}},{key:"translate",value:function(y){var u=y[0],l=y[1];this.mat4[12]+=this.mat4[0]*u+this.mat4[4]*l+this.mat4[8]*(y=y[2]||0),this.mat4[13]+=this.mat4[1]*u+this.mat4[5]*l+this.mat4[9]*y,this.mat4[14]+=this.mat4[2]*u+this.mat4[6]*l+this.mat4[10]*y,this.mat4[15]+=this.mat4[3]*u+this.mat4[7]*l+this.mat4[11]*y}},{key:"rotateX",value:function(c){this.rotate(c,1,0,0)}},{key:"rotateY",value:function(c){this.rotate(c,0,1,0)}},{key:"rotateZ",value:function(c){this.rotate(c,0,0,1)}},{key:"perspective",value:function(f,u,l,y){f=1/Math.tan(f/2);var b=1/(l-y);return this.mat4[0]=f/u,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=f,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(y+l)*b,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*y*l*b,this.mat4[15]=0,this}},{key:"ortho",value:function(c,u,l,y,f,b){var D=1/(c-u),B=1/(l-y),F=1/(f-b);return this.mat4[0]=-2*D,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*B,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*F,this.mat4[11]=0,this.mat4[12]=(c+u)*D,this.mat4[13]=(y+l)*B,this.mat4[14]=(b+f)*F,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(c,u,l,y){var f=new Array(4),b=this.mat4;return f[0]=b[0]*c+b[4]*u+b[8]*l+b[12]*y,f[1]=b[1]*c+b[5]*u+b[9]*l+b[13]*y,f[2]=b[2]*c+b[6]*u+b[10]*l+b[14]*y,f[3]=b[3]*c+b[7]*u+b[11]*l+b[15]*y,f}},{key:"multiplyPoint",value:function(l){var y=this.multiplyVec4(y=l.x,l.y,l=l.z,1);return new _.default.Vector(y[0],y[1],y[2])}},{key:"multiplyAndNormalizePoint",value:function(l){var y;return(y=this.multiplyVec4(y=l.x,l.y,l=l.z,1))[0]/=y[3],y[1]/=y[3],y[2]/=y[3],new _.default.Vector(y[0],y[1],y[2])}},{key:"multiplyDirection",value:function(l){var y=this.multiplyVec4(y=l.x,l.y,l=l.z,0);return new _.default.Vector(y[0],y[1],y[2])}},{key:"mult3x3",value:function(l){var u;if(l===this||l===this.mat3)u=this.copy().mat3;else if(l instanceof _.default.Matrix)u=l.mat3;else if(m(l))u=l;else{if(9!==arguments.length)return;u=arguments}var y=this.mat3[1],f=this.mat3[2];return this.mat3[0]=(l=this.mat3[0])*u[0]+y*u[3]+f*u[6],this.mat3[1]=l*u[1]+y*u[4]+f*u[7],this.mat3[2]=l*u[2]+y*u[5]+f*u[8],this.mat3[3]=(l=this.mat3[3])*u[0]+(y=this.mat3[4])*u[3]+(f=this.mat3[5])*u[6],this.mat3[4]=l*u[1]+y*u[4]+f*u[7],this.mat3[5]=l*u[2]+y*u[5]+f*u[8],this.mat3[6]=(l=this.mat3[6])*u[0]+(y=this.mat3[7])*u[3]+(f=this.mat3[8])*u[6],this.mat3[7]=l*u[1]+y*u[4]+f*u[7],this.mat3[8]=l*u[2]+y*u[5]+f*u[8],this}},{key:"column",value:function(c){return new _.default.Vector(this.mat3[3*c],this.mat3[3*c+1],this.mat3[3*c+2])}},{key:"row",value:function(c){return new _.default.Vector(this.mat3[c],this.mat3[c+3],this.mat3[c+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(c,u){return(u=void 0===u?c.copy():u).x=this.row(0).dot(c),u.y=this.row(1).dot(c),u.z=this.row(2).dot(c),u}},{key:"createSubMatrix3x3",value:function(){var c=new _.default.Matrix("mat3");return c.mat3[0]=this.mat4[0],c.mat3[1]=this.mat4[1],c.mat3[2]=this.mat4[2],c.mat3[3]=this.mat4[4],c.mat3[4]=this.mat4[5],c.mat3[5]=this.mat4[6],c.mat3[6]=this.mat4[8],c.mat3[7]=this.mat4[9],c.mat3[8]=this.mat4[10],c}}])&&d(s.prototype,a),h&&d(s,h),x}(),w.default=C=_.default.Matrix},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(o,V,w){"use strict";function _(d,p){for(var m=0;m<p.length;m++){var C=p[m];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(d,C.key,C)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function d(x,s,a,h,c,u){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.size=x,this.src=s,this.dst=a,this.attr=h,this._renderer=c,this.map=u}var p,m;return p=d,(m=[{key:"_prepareBuffer",value:function(x,s){var a,h,c,y,u=this._renderer.GL,l=x.model||x;(y=(y=s.attributes)[this.attr])&&(a=x[this.dst],0<(h=l[this.src]).length?((c=!a)&&(x[this.dst]=a=u.createBuffer()),u.bindBuffer(u.ARRAY_BUFFER,a),!c&&!1===l.dirtyFlags[this.src]||(c=(x=this.map)?x(h):h,this._renderer._bindBuffer(a,u.ARRAY_BUFFER,c),l.dirtyFlags[this.src]=!1),s.enableAttrib(y,this.size)):-1!==(x=y.location)&&this._renderer.registerEnabled.has(x)&&(u.disableVertexAttribArray(x),this._renderer.registerEnabled.delete(x)))}}])&&_(p.prototype,m),d}(),w.default=o=o.default.RenderBuffer},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(o,V,w){"use strict";function _(h){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}function d(h){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(c){return _(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":_(c)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(a=o("../core/main"))&&a.__esModule?a:{default:a},m=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==d(h)&&"function"!=typeof h)return{default:h};var c=C();if(c&&c.has(h))return c.get(h);var u,l={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h){var f;Object.prototype.hasOwnProperty.call(h,u)&&((f=y?Object.getOwnPropertyDescriptor(h,u):null)&&(f.get||f.set)?Object.defineProperty(l,u,f):l[u]=h[u])}return l.default=h,c&&c.set(h,l),l}(o("../core/constants"));function C(){var h;return"function"!=typeof WeakMap?null:(C=function(){return h},h=new WeakMap)}function x(h){return function(c){if(Array.isArray(c)){for(var u=0,l=new Array(c.length);u<c.length;u++)l[u]=c[u];return l}}(h)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),p.default.RendererGL.prototype.beginShape=function(h){return this.immediateMode.shapeMode=void 0!==h?h:m.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var s={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},a=(p.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==m.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},p.default.RendererGL.prototype.vertex=function(h,c){if(this.immediateMode.shapeMode===m.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var u in s){var l=s[u];(u=this.immediateMode.geometry[u]).push.apply(u,x(u.slice(u.length-3*l,u.length-2*l)).concat(x(u.slice(u.length-l,u.length))))}var y,f,b=y=f=0,D=(3===arguments.length?b=arguments[2]:4===arguments.length?(y=arguments[2],f=arguments[3]):5===arguments.length&&(b=arguments[2],y=arguments[3],f=arguments[4]),new p.default.Vector(h,c,b));return this.immediateMode.geometry.vertices.push(D),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((D=this.curFillColor||[.5,.5,.5,1])[0],D[1],D[2],D[3]),this.immediateMode.geometry.vertexStrokeColors.push((D=this.curStrokeColor||[.5,.5,.5,1])[0],D[1],D[2],D[3]),this.textureMode!==m.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(y/=this._tex.width,f/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(y,f),this.immediateMode._bezierVertex[0]=h,this.immediateMode._bezierVertex[1]=c,this.immediateMode._bezierVertex[2]=b,this.immediateMode._quadraticVertex[0]=h,this.immediateMode._quadraticVertex[1]=c,this.immediateMode._quadraticVertex[2]=b,this},p.default.RendererGL.prototype.normal=function(h,c,u){return this._currentNormal=h instanceof p.default.Vector?h:new p.default.Vector(h,c,u),this},p.default.RendererGL.prototype.endShape=function(h,c,u,l,y,f){var b,D=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===m.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),b=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==m.LINE_STRIP&&this.immediateMode.shapeMode!==m.LINES||(this.immediateMode.shapeMode=m.TRIANGLE_FAN,b=!0),this.immediateMode.shapeMode===m.QUADS?this.immediateMode.shapeMode=m.TRIANGLES:this.immediateMode.shapeMode===m.QUAD_STRIP&&(this.immediateMode.shapeMode=m.TRIANGLE_STRIP),this._doFill&&!b&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(D),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},p.default.RendererGL.prototype._processVertices=function(h){var c;0!==this.immediateMode.geometry.vertices.length&&(h=h===m.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,h),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),c=this.immediateMode.shapeMode===m.TESS,h=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||c||h)&&this.immediateMode.shapeMode!==m.LINES&&this._tesselateShape())},p.default.RendererGL.prototype._calculateEdges=function(h,c,u){var l=[],y=0,f=this.immediateMode.contourIndices.slice(),b=0;switch(h){case m.TRIANGLE_STRIP:for(y=0;y<c.length-2;y++)l.push([y,y+1]),l.push([y,y+2]);l.push([y,y+1]);break;case m.TRIANGLE_FAN:for(y=1;y<c.length-1;y++)l.push([0,y]),l.push([y,y+1]);l.push([0,c.length-1]);break;case m.TRIANGLES:for(y=0;y<c.length-2;y+=3)l.push([y,y+1]),l.push([y+1,y+2]),l.push([y+2,y]);break;case m.LINES:for(y=0;y<c.length-1;y+=2)l.push([y,y+1]);break;case m.QUADS:for(y=0;y<c.length-5;y+=6)l.push([y,y+1]),l.push([y+1,y+2]),l.push([y+3,y+5]),l.push([y+4,y+5]);break;case m.QUAD_STRIP:for(y=0;y<c.length-2;y+=2)l.push([y,y+1]),l.push([y,y+2]),l.push([y+1,y+3]);l.push([y,y+1]);break;default:for(y=0;y<c.length;y++)y+1<c.length&&y+1!==f[0]?l.push([y,y+1]):((u||b)&&l.push([y,b]),0<f.length&&(b=f.shift()))}return h!==m.TESS&&u&&l.push([c.length-1,0]),l},p.default.RendererGL.prototype._tesselateShape=function(){for(var h=this,c=(this.immediateMode.shapeMode=m.TRIANGLES,[[]]),u=0;u<this.immediateMode.geometry.vertices.length;u++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===u&&(this.immediateMode.contourIndices.shift(),c.push([])),c[c.length-1].push(this.immediateMode.geometry.vertices[u].x,this.immediateMode.geometry.vertices[u].y,this.immediateMode.geometry.vertices[u].z,this.immediateMode.geometry.uvs[2*u],this.immediateMode.geometry.uvs[2*u+1],this.immediateMode.geometry.vertexColors[4*u],this.immediateMode.geometry.vertexColors[4*u+1],this.immediateMode.geometry.vertexColors[4*u+2],this.immediateMode.geometry.vertexColors[4*u+3],this.immediateMode.geometry.vertexNormals[u].x,this.immediateMode.geometry.vertexNormals[u].y,this.immediateMode.geometry.vertexNormals[u].z);for(var l,y=this._triangulate(c),f=this.immediateMode.geometry.vertices,b=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),D=0,B=y.length;D<B;D+=p.default.RendererGL.prototype.tessyVertexSize)b.push.apply(b,x(y.slice(D+5,D+9))),this.normal.apply(this,x(y.slice(D+9,D+12))),this.vertex.apply(this,x(y.slice(D,D+5)));this.geometryBuilder&&(l=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(F){return F.map(function(j){if(!l.has(j)){var k=f[j],U=h.immediateMode.geometry.vertices.findIndex(function(ie){return k.x===ie.x&&k.y===ie.y&&k.z===ie.z});if(-1===U){for(var T=1/0,I=0,M=0;M<h.immediateMode.geometry.vertices.length;M++){var K,Y,q=k.y-(K=h.immediateMode.geometry.vertices[M]).y;(Y=(Y=k.x-K.x)*Y+q*q+(K=k.z-K.z)*K)<T&&(T=Y,I=M)}U=I}l.set(j,U)}return l.get(j)})})),this.immediateMode.geometry.vertexColors=b},p.default.RendererGL.prototype._drawImmediateFill=function(){var h,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,u=this.GL,l=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,h=this._getImmediateFillShader(),this._setFillUniforms(h),!0),y=!1,f=void 0;try{for(var b,D=this.immediateMode.buffers.fill[Symbol.iterator]();!(l=(b=D.next()).done);l=!0)b.value._prepareBuffer(this.immediateMode.geometry,h)}catch(B){y=!0,f=B}finally{try{l||null==D.return||D.return()}finally{if(y)throw f}}if(h.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===c)u.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{u.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,c)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}h.unbindShader()},p.default.RendererGL.prototype._drawImmediateStroke=function(){var h=this.GL,c=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),u=(this._setStrokeUniforms(c),!0),l=!1,y=void 0;try{for(var f,b=this.immediateMode.buffers.stroke[Symbol.iterator]();!(u=(f=b.next()).done);u=!0)f.value._prepareBuffer(this.immediateMode.geometry,c)}catch(D){l=!0,y=D}finally{try{u||null==b.return||b.return()}finally{if(l)throw y}}c.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),h.drawArrays(h.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),c.unbindShader()},p.default.RendererGL);w.default=a},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(o,V,w){"use strict";function _(s){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function d(s){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(a){return _(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_(a)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var p=(x=o("../core/main"))&&x.__esModule?x:{default:x},m=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==d(s)&&"function"!=typeof s)return{default:s};var a=C();if(a&&a.has(s))return a.get(s);var h,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in s){var l;Object.prototype.hasOwnProperty.call(s,h)&&((l=u?Object.getOwnPropertyDescriptor(s,h):null)&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=s[h])}return c.default=s,a&&a.set(s,c),c}(o("../core/constants")));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}p.default.RendererGL.prototype.freeGeometry=function(s){s.gid?this._freeBuffers(s.gid):console.warn("The model you passed to freeGeometry does not have an id!")},p.default.RendererGL.prototype._initBufferDefaults=function(s){var a;return this._freeBuffers(s),1e3<Object.keys(this.retainedMode.geometry).length&&(a=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(a)),this.retainedMode.geometry[s]={}},p.default.RendererGL.prototype._freeBuffers=function(s){var a,h=this.retainedMode.geometry[s];function c(u){var l=!0,y=!1,f=void 0;try{for(var b,D=u[Symbol.iterator]();!(l=(b=D.next()).done);l=!0){var B=b.value;h[B.dst]&&(a.deleteBuffer(h[B.dst]),h[B.dst]=null)}}catch(F){y=!0,f=F}finally{try{l||null==D.return||D.return()}finally{if(y)throw f}}}h&&(delete this.retainedMode.geometry[s],a=this.GL,h.indexBuffer&&a.deleteBuffer(h.indexBuffer),c(this.retainedMode.buffers.stroke),c(this.retainedMode.buffers.fill))},p.default.RendererGL.prototype.createBuffers=function(y,a){var h,c,u,l=this.GL,f=((y=this._initBufferDefaults(y)).model=a,y.indexBuffer);return a.faces.length?(f=f||(y.indexBuffer=l.createBuffer()),u=(c=(h=p.default.RendererGL.prototype._flatten(a.faces)).some(function(b){return 65535<b}))?Uint32Array:Uint16Array,this._bindBuffer(f,l.ELEMENT_ARRAY_BUFFER,h,u),y.indexBufferType=c?l.UNSIGNED_INT:l.UNSIGNED_SHORT,y.vertexCount=3*a.faces.length):(f&&(l.deleteBuffer(f),y.indexBuffer=null),y.vertexCount=a.vertices?a.vertices.length:0),y.lineVertexCount=a.lineVertices?a.lineVertices.length/3:0,y},p.default.RendererGL.prototype.drawBuffers=function(s){var a=this.GL,h=this.retainedMode.geometry[s];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[s].vertexCount){this._useVertexColor=0<h.model.vertexColors.length;var c=this._getRetainedFillShader(),u=(this._setFillUniforms(c),!0),l=!1,y=void 0;try{for(var f,b=this.retainedMode.buffers.fill[Symbol.iterator]();!(u=(f=b.next()).done);u=!0)f.value._prepareBuffer(h,c)}catch(k){l=!0,y=k}finally{try{u||null==b.return||b.return()}finally{if(l)throw y}}c.disableRemainingAttributes(),h.indexBuffer&&this._bindBuffer(h.indexBuffer,a.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,h.model.hasFillTransparency()),this._drawElements(a.TRIANGLES,s),c.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<h.lineVertexCount){this._useLineColor=0<h.model.vertexStrokeColors.length;var D=this._getRetainedStrokeShader(),B=(this._setStrokeUniforms(D),!0);l=!1,y=void 0;try{for(var F,j=this.retainedMode.buffers.stroke[Symbol.iterator]();!(B=(F=j.next()).done);B=!0)F.value._prepareBuffer(h,D)}catch(T){l=!0,y=T}finally{try{B||null==j.return||j.return()}finally{if(l)throw y}}D.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,h.model.hasStrokeTransparency()),this._drawArrays(a.TRIANGLES,s),D.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(h),this},p.default.RendererGL.prototype.drawBuffersScaled=function(s,a,h,c){var u=this.uMVMatrix.copy();try{this.uMVMatrix.scale(a,h,c),this.drawBuffers(s)}finally{this.uMVMatrix=u}},p.default.RendererGL.prototype._drawArrays=function(s,a){return this.GL.drawArrays(s,0,this.retainedMode.geometry[a].lineVertexCount),this},p.default.RendererGL.prototype._drawElements=function(s,h){var c=this.GL;if((h=this.retainedMode.geometry[h]).indexBuffer){if(this._pInst.webglVersion!==m.WEBGL2&&h.indexBufferType===c.UNSIGNED_INT&&!c.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");c.drawElements(c.TRIANGLES,h.vertexCount,h.indexBufferType,0)}else c.drawArrays(s||c.TRIANGLES,0,h.vertexCount)},p.default.RendererGL.prototype._drawPoints=function(s,a){var h=this.GL,c=this._getImmediatePointShader();this._setPointUniforms(c),this._bindBuffer(a,h.ARRAY_BUFFER,this._vToNArray(s),Float32Array,h.STATIC_DRAW),c.enableAttrib(c.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),h.drawArrays(h.Points,0,s.length),c.unbindShader()};var x=p.default.RendererGL;w.default=x},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(M,V,w){"use strict";function _(z){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(z)}function d(z){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(oe){return _(oe)}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":_(oe)})(z)}M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.concat"),M("core-js/modules/es.array.copy-within"),M("core-js/modules/es.array.every"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.flat"),M("core-js/modules/es.array.flat-map"),M("core-js/modules/es.array.from"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.array.map"),M("core-js/modules/es.array.slice"),M("core-js/modules/es.array.some"),M("core-js/modules/es.array.unscopables.flat"),M("core-js/modules/es.array.unscopables.flat-map"),M("core-js/modules/es.map"),M("core-js/modules/es.object.assign"),M("core-js/modules/es.object.get-own-property-descriptor"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.reflect.construct"),M("core-js/modules/es.reflect.get"),M("core-js/modules/es.regexp.to-string"),M("core-js/modules/es.set"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.float64-array"),M("core-js/modules/es.typed-array.int16-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint16-array"),M("core-js/modules/es.typed-array.uint32-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),M("core-js/modules/es.weak-map"),M("core-js/modules/web.dom-collections.iterator"),M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.concat"),M("core-js/modules/es.array.copy-within"),M("core-js/modules/es.array.every"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.flat"),M("core-js/modules/es.array.flat-map"),M("core-js/modules/es.array.from"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.array.map"),M("core-js/modules/es.array.slice"),M("core-js/modules/es.array.some"),M("core-js/modules/es.array.unscopables.flat"),M("core-js/modules/es.array.unscopables.flat-map"),M("core-js/modules/es.map"),M("core-js/modules/es.object.assign"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.set"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.float64-array"),M("core-js/modules/es.typed-array.int16-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint16-array"),M("core-js/modules/es.typed-array.uint32-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),M("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.readPixelsWebGL=ie,w.readPixelWebGL=te,w.default=void 0;var p=h(M("../core/main")),m=function(z){if(z&&z.__esModule)return z;if(null===z||"object"!==d(z)&&"function"!=typeof z)return{default:z};var oe=a();if(oe&&oe.has(z))return oe.get(z);var le,Ee={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(le in z){var R;Object.prototype.hasOwnProperty.call(z,le)&&((R=W?Object.getOwnPropertyDescriptor(z,le):null)&&(R.get||R.set)?Object.defineProperty(Ee,le,R):Ee[le]=z[le])}return Ee.default=z,oe&&oe.set(z,Ee),Ee}(M("../core/constants")),C=h(M("./GeometryBuilder")),x=h(M("libtess")),s=(M("./p5.Shader"),M("./p5.Camera"),M("../core/p5.Renderer"),M("./p5.Matrix"),M("./p5.Framebuffer"),M("path"),M("./p5.Texture"));function a(){var z;return"function"!=typeof WeakMap?null:(a=function(){return z},z=new WeakMap)}function h(z){return z&&z.__esModule?z:{default:z}}function c(z){return function(oe){if(Array.isArray(oe)){for(var le=0,Ee=new Array(oe.length);le<oe.length;le++)Ee[le]=oe[le];return Ee}}(z)||function(oe){if(Symbol.iterator in Object(oe)||"[object Arguments]"===Object.prototype.toString.call(oe))return Array.from(oe)}(z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(z,oe){for(var le=0;le<oe.length;le++){var Ee=oe[le];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(z,Ee.key,Ee)}}function l(z,oe,le){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(ne,W,R){if(ne=function(ue,we){for(;!Object.prototype.hasOwnProperty.call(ue,we)&&null!==(ue=D(ue)););return ue}(ne,W))return(ne=Object.getOwnPropertyDescriptor(ne,W)).get?ne.get.call(R):ne.value})(z,oe,le||z)}function y(z,oe){return(y=Object.setPrototypeOf||function(le,Ee){return le.__proto__=Ee,le})(z,oe)}function b(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function D(z){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(oe){return oe.__proto__||Object.getPrototypeOf(oe)})(z)}function B(z,oe,le){oe in z?Object.defineProperty(z,oe,{value:le,enumerable:!0,configurable:!0,writable:!0}):z[oe]=le}function F(z,oe){I+="#define STROKE_CAP_".concat(z," ").concat(oe,"\n"),U[m[z]]=oe}function j(z,oe){I+="#define STROKE_JOIN_".concat(z," ").concat(oe,"\n"),T[m[z]]=oe}var k,U={},T={},I="",q={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(F("ROUND",0),F("PROJECT",1),F("SQUARE",2),j("ROUND",0),j("MITER",1),j("BEVEL",2),(M='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:M+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:I+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:I+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},K=q.sphereMappingFrag;for(k in q)q[k]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+q[k];B(M={},m.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),B(M,m.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),B(M,m.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),B(M,m.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),B(M,m.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),B(M,m.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),B(M,m.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),B(M,m.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var Y=M;function ie(z,oe,We,Ee,W,R,ne,ue,we,je){var Be=oe.getParameter(oe.FRAMEBUFFER_BINDING),Oe=R*ne*(oe.bindFramebuffer(oe.FRAMEBUFFER,We),We=ue===oe.RGBA?4:3),Pe=we===oe.UNSIGNED_BYTE?Uint8Array:Float32Array;if(z instanceof Pe&&z.length===Oe||(z=new Pe(Oe)),oe.readPixels(Ee,je?je-W-ne:W,R,ne,ue,we,z),oe.bindFramebuffer(oe.FRAMEBUFFER,Be),je)for(var $e=Math.floor(ne/2),ke=new Pe(R*We),Qe=0;Qe<$e;Qe++){var tt=Qe*R*4,_t=(ne-Qe-1)*R*4;ke.set(z.subarray(tt,tt+4*R)),z.copyWithin(tt,_t,_t+4*R),z.set(ke,_t)}return z}function te(z,we,le,Ee,W,R,ne){var ue=z.getParameter(z.FRAMEBUFFER_BINDING);return z.bindFramebuffer(z.FRAMEBUFFER,we),we=W===z.RGBA?4:3,we=new(R===z.UNSIGNED_BYTE?Uint8Array:Float32Array)(we),z.readPixels(le,ne?ne-Ee-1:Ee,1,1,W,R,we),z.bindFramebuffer(z.FRAMEBUFFER,ue),Array.from(we)}p.default.prototype.setAttributes=function(z,oe){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var le=!0;if(void 0!==oe?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[z]!==oe&&(this._glAttributes[z]=oe,le=!1)):z instanceof Object&&this._glAttributes!==z&&(this._glAttributes=z,le=!1),this._renderer.isP3D&&!le){if(!this._setupDone)for(var Ee in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Ee))return void p.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},p.default.RendererGL=function(z){var oe=W;if("function"!=typeof z&&null!==z)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(z&&z.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),z&&y(oe,z);var Ee=function f(z){return function(){var oe,le,Ee=D(z);return oe=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(oe=D(this).constructor,Reflect.construct(Ee,arguments,oe)):Ee.apply(this,arguments),Ee=this,!(le=oe)||"object"!==d(le)&&"function"!=typeof le?b(Ee):le}}(W);function W(R,ne,ue,we){if(this instanceof W)return(R=Ee.call(this,R,ne,ue))._setAttributeDefaults(ne),R._initContext(),R.isP3D=!0,R.geometryBuilder=void 0,R.GL=R.drawingContext,R._pInst._setProperty("drawingContext",R.drawingContext),R._isErasing=!1,R._clipDepths=[],R._isClipApplied=!1,R._stencilTestOn=!1,R._enableLighting=!1,R.ambientLightColors=[],R.mixedAmbientLight=[],R.mixedSpecularColor=[],R.specularColors=[1,1,1],R.directionalLightDirections=[],R.directionalLightDiffuseColors=[],R.directionalLightSpecularColors=[],R.pointLightPositions=[],R.pointLightDiffuseColors=[],R.pointLightSpecularColors=[],R.spotLightPositions=[],R.spotLightDirections=[],R.spotLightDiffuseColors=[],R.spotLightSpecularColors=[],R.spotLightAngle=[],R.spotLightConc=[],R.activeImageLight=null,R.diffusedTextures=new Map,R.specularTextures=new Map,R.drawMode=m.FILL,R.curFillColor=R._cachedFillStyle=[1,1,1,1],R.curAmbientColor=R._cachedFillStyle=[1,1,1,1],R.curSpecularColor=R._cachedFillStyle=[0,0,0,0],R.curEmissiveColor=R._cachedFillStyle=[0,0,0,0],R.curStrokeColor=R._cachedStrokeStyle=[0,0,0,1],R.curBlendMode=m.BLEND,R.preEraseBlend=void 0,R._cachedBlendMode=void 0,R.blendExt=R.webglVersion===m.WEBGL2?R.GL:R.GL.getExtension("EXT_blend_minmax"),R._isBlending=!1,R._hasSetAmbient=!1,R._useSpecularMaterial=!1,R._useEmissiveMaterial=!1,R._useNormalMaterial=!1,R._useShininess=1,R._useMetalness=0,R._useLineColor=!1,R._useVertexColor=!1,R.registerEnabled=new Set,R._tint=[255,255,255,255],R.constantAttenuation=1,R.linearAttenuation=0,R.quadraticAttenuation=0,R.uMVMatrix=new p.default.Matrix,R.uPMatrix=new p.default.Matrix,R.uNMatrix=new p.default.Matrix("mat3"),R.curMatrix=new p.default.Matrix("mat3"),R._currentNormal=new p.default.Vector(0,0,1),R._curCamera=new p.default.Camera(b(R)),R._curCamera._computeCameraDefaultSettings(),R._curCamera._setDefaultCamera(),R.filterCamera=new p.default.Camera(b(R)),R.filterCamera._computeCameraDefaultSettings(),R.filterCamera._setDefaultCamera(),R.prevTouches=[],R.zoomVelocity=0,R.rotateVelocity=new p.default.Vector(0,0),R.moveVelocity=new p.default.Vector(0,0),R.executeZoom=!1,R.executeRotateAndMove=!1,R.specularShader=void 0,R.sphereMapping=void 0,R.diffusedShader=void 0,R._defaultLightShader=void 0,R._defaultImmediateModeShader=void 0,R._defaultNormalShader=void 0,R._defaultColorShader=void 0,R._defaultPointShader=void 0,R.userFillShader=void 0,R.userStrokeShader=void 0,R.userPointShader=void 0,R.retainedMode={geometry:{},buffers:{stroke:[new p.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(R)),new p.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(R)),new p.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(R)),new p.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(R)),new p.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(R))],fill:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(R),R._vToNArray),new p.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(R),R._vToNArray),new p.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(R)),new p.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(R)),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(R),R._flatten)],text:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(R),R._vToNArray),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(R),R._flatten)]}},R.immediateMode={geometry:new p.default.Geometry,shapeMode:m.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(R),R._vToNArray),new p.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(R),R._vToNArray),new p.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(R)),new p.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(R)),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(R),R._flatten)],stroke:[new p.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(R)),new p.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(R)),new p.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(R)),new p.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(R)),new p.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(R))],point:R.GL.createBuffer()}},R.pointSize=5,R.curStrokeWeight=1,R.curStrokeCap=m.ROUND,R.curStrokeJoin=m.ROUND,R.textures=new Map,R.framebuffers=new Set,R.activeFramebuffers=[],R.filterShader=void 0,R.filterLayer=void 0,R.filterLayerTemp=void 0,R.defaultFilterShaders={},R.textureMode=m.IMAGE,R.textureWrapX=m.CLAMP,R.textureWrapY=m.CLAMP,R._tex=null,R._curveTightness=6,R._lookUpTableBezier=[],R._lookUpTableQuadratic=[],R._lutBezierDetail=0,R._lutQuadraticDetail=0,R.isProcessingVertices=!1,R._tessy=R._initTessy(),R.fontInfos={},R._curShader=void 0,R;throw new TypeError("Cannot call a class as a function")}return oe=W,(z=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new C.default(this)}},{key:"endGeometry",value:function(){var R;if(this.geometryBuilder)return R=this.geometryBuilder.finish(),this.geometryBuilder=void 0,R;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(R){return this.beginGeometry(),R(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(R){var ne={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};R._glAttributes=null===R._glAttributes?ne:Object.assign(ne,R._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?m.WEBGL2:m.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var R=this.drawingContext;R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.viewport(0,0,R.drawingBufferWidth,R.drawingBufferHeight),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var R=this.drawingContext;return R.getParameter(R.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(R,ne){this._maxTextureSize||(this._maxTextureSize=this._getParam());var we=this._maxTextureSize,ue=(we=Math.floor(we/this.pixelDensity()),Math.min(R,we));return we=Math.min(ne,we),ue===R&&we===ne||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(ue,", height: ").concat(we,".")),{adjustedWidth:ue,adjustedHeight:we}}},{key:"_resetContext",value:function(R,ne){var ue,we=this.width,je=this.height,We=this.canvas.id,Be=this._pInst instanceof p.default.Graphics;Be?((ue=this._pInst).canvas.parentNode.removeChild(ue.canvas),ue.canvas=document.createElement("canvas"),(ue._pInst._userNode||document.body).appendChild(ue.canvas),p.default.Element.call(ue,ue.canvas,ue._pInst),ue.width=we,ue.height=je):((ue=this.canvas)&&ue.parentNode.removeChild(ue),(ue=document.createElement("canvas")).id=We,(this._pInst._userNode||document.body).appendChild(ue),this._pInst.canvas=ue,this.canvas=ue),We=new p.default.RendererGL(this._pInst.canvas,this._pInst,!Be),this._pInst._setProperty("_renderer",We),We.resize(we,je),We._applyDefaults(),Be||this._pInst._elements.push(We),"function"==typeof ne&&setTimeout(function(){ne.apply(window._renderer,R)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var we=(we=this._pInst).color.apply(we,arguments);this.clear(we.levels[0]/255,we.levels[1]/255,we.levels[2]/255,we=we.levels[3]/255)}},{key:"fill",value:function(R,ne,ue,we){var je=p.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=je._array,this.drawMode=m.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(R,ne,ue,we){var je=p.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=je._array}},{key:"strokeCap",value:function(R){this.curStrokeCap=R}},{key:"strokeJoin",value:function(R){this.curStrokeJoin=R}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(R,ne){R.width===ne.width&&R.height===ne.height||R.resize(ne.width,ne.height),R.pixelDensity()!==ne.pixelDensity()&&R.pixelDensity(ne.pixelDensity())}},{key:"filter",value:function(){var R,ne,ue=this,we=this.getFilterLayer(),je=void 0,Be=void 0,We=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Be=arguments.length<=0?void 0:arguments[0],B(R={},m.BLUR,3),B(R,m.POSTERIZE,4),B(R,m.THRESHOLD,.5),je=Be in R&&void 0===(arguments.length<=1?void 0:arguments[1])?R[Be]:arguments.length<=1?void 0:arguments[1],Be in this.defaultFilterShaders||(this.defaultFilterShaders[Be]=new p.default.Shader(we._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",Y[Be])),this.filterShader=this.defaultFilterShaders[Be]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),Oe=(this.matchSize(we,We),we.draw(function(){return ue._pInst.clear()}),[1/(We.width*We.pixelDensity()),1/(We.height*We.pixelDensity())]);Be===m.BLUR?(ne=this.getFilterLayerTemp(),this.matchSize(ne,We),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(m.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",Oe),this.filterShader.setUniform("canvasSize",[We.width,We.height]),this.filterShader.setUniform("radius",Math.max(1,je)),ne.draw(function(){ue.filterShader.setUniform("direction",[1,0]),ue.filterShader.setUniform("tex0",We),ue._pInst.clear(),ue._pInst.shader(ue.filterShader),ue._pInst.noLights(),ue._pInst.plane(We.width,We.height)}),we.draw(function(){ue.filterShader.setUniform("direction",[0,1]),ue.filterShader.setUniform("tex0",ne),ue._pInst.clear(),ue._pInst.shader(ue.filterShader),ue._pInst.noLights(),ue._pInst.plane(We.width,We.height)}),this._pInst.pop()):we.draw(function(){ue._pInst.noStroke(),ue._pInst.blendMode(m.BLEND),ue._pInst.shader(ue.filterShader),ue.filterShader.setUniform("tex0",We),ue.filterShader.setUniform("texelSize",Oe),ue.filterShader.setUniform("canvasSize",[We.width,We.height]),ue.filterShader.setUniform("filterParameter",je),ue._pInst.noLights(),ue._pInst.plane(We.width,We.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(m.CORNER),this._pInst.blendMode(m.BLEND),We.filterCamera._resize(),this._pInst.setCamera(We.filterCamera),this._pInst.resetMatrix(),this._pInst.image(we,-We.width/2,-We.height/2,We.width,We.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(R){return R?this._pInst.pixelDensity(R):this._pInst.pixelDensity()}},{key:"blendMode",value:function(R){R===m.DARKEST||R===m.LIGHTEST||R===m.ADD||R===m.BLEND||R===m.SUBTRACT||R===m.SCREEN||R===m.EXCLUSION||R===m.REPLACE||R===m.MULTIPLY||R===m.REMOVE?this.curBlendMode=R:R!==m.BURN&&R!==m.OVERLAY&&R!==m.HARD_LIGHT&&R!==m.SOFT_LIGHT&&R!==m.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(R,ne){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(m.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,R/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,ne/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(l(D(W.prototype),"beginClip",this).call(this,R),this.drawTarget()._isClipApplied=!0,R=this.GL).clearStencil(0),R.clear(R.STENCIL_BUFFER_BIT),R.enable(R.STENCIL_TEST),this._stencilTestOn=!0,R.stencilFunc(R.ALWAYS,1,255),R.stencilOp(R.KEEP,R.KEEP,R.REPLACE),R.disable(R.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var R=this.GL;R.stencilOp(R.KEEP,R.KEEP,R.KEEP),R.stencilFunc(this._clipInvert?R.EQUAL:R.NOTEQUAL,0,255),R.enable(R.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),l(D(W.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(R){this.curStrokeWeight!==R&&(this.pointSize=R,this.curStrokeWeight=R)}},{key:"_getPixel",value:function(R,ne){var ue=this.GL;return te(ue,null,R,ne,ue.RGBA,ue.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var R,ne,ue=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):ue._setProperty("pixels",ie(ue.pixels,ne=this.GL,null,0,0,this.width*(R=this._pInst._pixelDensity),this.height*R,ne.RGBA,ne.UNSIGNED_BYTE,this.height*R))}},{key:"updatePixels",value:function(){var R=this._getTempFramebuffer();R.pixels=this._pixelsState.pixels,R.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(m.CENTER),this._pInst.image(R,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:m.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:m.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(R){return void 0!==this.retainedMode.geometry[R]}},{key:"viewport",value:function(R,ne){this._viewport=[0,0,R,ne],this.GL.viewport(0,0,R,ne)}},{key:"resize",value:function(je,we){p.default.Renderer.prototype.resize.call(this,je,we),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ue=(void 0!==(je=this._pixelsState).pixels&&je._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);we=!1,je=void 0;try{for(var Be,We=this.framebuffers[Symbol.iterator]();!(ue=(Be=We.next()).done);ue=!0)Be.value._canvasSizeChanged()}catch(Oe){we=!0,je=Oe}finally{try{ue||null==We.return||We.return()}finally{if(we)throw je}}}},{key:"clear",value:function(){var R=(arguments.length<=0?void 0:arguments[0])||0,ne=(arguments.length<=1?void 0:arguments[1])||0,ue=(arguments.length<=2?void 0:arguments[2])||0,we=(arguments.length<=3?void 0:arguments[3])||0,je=this.activeFramebuffer();je&&je.format===m.UNSIGNED_BYTE&&!je.antialias&&0===we&&(we=1e-10),this.GL.clearColor(R*we,ne*we,ue*we,we),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(R,ne,ue,we,je,Be){16===arguments.length?p.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([R,ne,0,0,ue,we,0,0,0,0,1,0,je,Be,0,1])}},{key:"translate",value:function(R,ne,ue){return R instanceof p.default.Vector&&(ue=R.z,ne=R.y,R=R.x),this.uMVMatrix.translate([R,ne,ue]),this}},{key:"scale",value:function(R,ne,ue){return this.uMVMatrix.scale(R,ne,ue),this}},{key:"rotate",value:function(R,ne){return void 0===ne?this.rotateZ(R):(p.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(R){return this.rotate(R,1,0,0),this}},{key:"rotateY",value:function(R){return this.rotate(R,0,1,0),this}},{key:"rotateZ",value:function(R){return this.rotate(R,0,0,1),this}},{key:"push",value:function(){var R=p.default.Renderer.prototype.push.apply(this),ne=R.properties;return ne.uMVMatrix=this.uMVMatrix.copy(),ne.uPMatrix=this.uPMatrix.copy(),ne._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),ne.ambientLightColors=this.ambientLightColors.slice(),ne.specularColors=this.specularColors.slice(),ne.directionalLightDirections=this.directionalLightDirections.slice(),ne.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),ne.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),ne.pointLightPositions=this.pointLightPositions.slice(),ne.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),ne.pointLightSpecularColors=this.pointLightSpecularColors.slice(),ne.spotLightPositions=this.spotLightPositions.slice(),ne.spotLightDirections=this.spotLightDirections.slice(),ne.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),ne.spotLightSpecularColors=this.spotLightSpecularColors.slice(),ne.spotLightAngle=this.spotLightAngle.slice(),ne.spotLightConc=this.spotLightConc.slice(),ne.userFillShader=this.userFillShader,ne.userStrokeShader=this.userStrokeShader,ne.userPointShader=this.userPointShader,ne.pointSize=this.pointSize,ne.curStrokeWeight=this.curStrokeWeight,ne.curStrokeColor=this.curStrokeColor,ne.curFillColor=this.curFillColor,ne.curAmbientColor=this.curAmbientColor,ne.curSpecularColor=this.curSpecularColor,ne.curEmissiveColor=this.curEmissiveColor,ne._hasSetAmbient=this._hasSetAmbient,ne._useSpecularMaterial=this._useSpecularMaterial,ne._useEmissiveMaterial=this._useEmissiveMaterial,ne._useShininess=this._useShininess,ne._useMetalness=this._useMetalness,ne.constantAttenuation=this.constantAttenuation,ne.linearAttenuation=this.linearAttenuation,ne.quadraticAttenuation=this.quadraticAttenuation,ne._enableLighting=this._enableLighting,ne._useNormalMaterial=this._useNormalMaterial,ne._tex=this._tex,ne.drawMode=this.drawMode,ne._currentNormal=this._currentNormal,ne.curBlendMode=this.curBlendMode,ne.activeImageLight=this.activeImageLight,R}},{key:"pop",value:function(){var R;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var ne=arguments.length,ue=new Array(ne),we=0;we<ne;we++)ue[we]=arguments[we];(R=l(D(W.prototype),"pop",this)).call.apply(R,[this].concat(ue)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var R=this.drawTarget();R._isClipApplied!==this._stencilTestOn&&(R._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var R=this.userStrokeShader;return R&&R.isStrokeShader()?R:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(R){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(K)),this.uNMatrix.inverseTranspose(this.uMVMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",R),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var R=this.userFillShader;if(this._useNormalMaterial&&(!R||!R.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getImmediateModeShader();return R}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var R=this.userFillShader;if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getColorShader();return R}},{key:"_getImmediatePointShader",value:function(){var R=this.userPointShader;return R&&R.isPointShader()?R:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+q.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+q.phongFrag):new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+q.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+q.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===m.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+q.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+q.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(R,ne){var ue="";return this.webglVersion===m.WEBGL2&&(ue+="#version 300 es\n#define WEBGL2\n"),"vert"===R?ue+="#define VERTEX_SHADER\n":"frag"===R&&(ue+="#define FRAGMENT_SHADER\n"),ne&&(ue+="precision ".concat(ne," float;\n")),ue}},{key:"_getEmptyTexture",value:function(){var R;return this._emptyTexture||((R=new p.default.Image(1,1)).set(0,0,255),this._emptyTexture=new p.default.Texture(this,R)),this._emptyTexture}},{key:"getTexture",value:function(R){R instanceof p.default.Framebuffer&&(R=R.color);var ne=this.textures.get(R);return ne||(ne=new p.default.Texture(this,R),this.textures.set(R,ne),ne)}},{key:"getDiffusedTexture",value:function(R){var ne,ue,we=this;return null!=this.diffusedTextures.get(R)?this.diffusedTextures.get(R):(ne=Math.floor(R.height/R.width*200),ue=this._pInst.createFramebuffer({width:200,height:ne,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(q.imageLightVert,q.imageLightDiffusedFrag)),ue.draw(function(){we._pInst.shader(we.diffusedShader),we.diffusedShader.setUniform("environmentMap",R),we._pInst.noStroke(),we._pInst.rectMode(m.CENTER),we._pInst.noLights(),we._pInst.rect(0,0,200,ne)}),this.diffusedTextures.set(R,ue),ue)}},{key:"getSpecularTexture",value:function(R){var ne=this;if(null!=this.specularTextures.get(R))return this.specularTextures.get(R);for(var ue,we=[],je=this._pInst.createFramebuffer({width:512,height:512,density:1}),Be=Math.log(512)/Math.log(2),We=(this.specularShader||(this.specularShader=this._pInst.createShader(q.imageLightVert,q.imageLightSpecularFrag)),512);1<=We;We/=2)!function(Oe){je.resize(Oe,Oe);var Pe=1-Math.log(Oe)/Math.log(2)/Be;je.draw(function(){ne._pInst.shader(ne.specularShader),ne._pInst.clear(),ne.specularShader.setUniform("environmentMap",R),ne.specularShader.setUniform("roughness",Pe),ne._pInst.noStroke(),ne._pInst.noLights(),ne._pInst.plane(Oe,Oe)}),we.push(je.get().drawingContext.getImageData(0,0,Oe,Oe))}(We);return je.remove(),ue=new s.MipmapTexture(this,we,{}),this.specularTextures.set(R,ue),ue}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(R){return new p.default.Framebuffer(this,R)}},{key:"_setStrokeUniforms",value:function(R){R.bindShader(),R.setUniform("uUseLineColor",this._useLineColor),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uStrokeWeight",this.curStrokeWeight),R.setUniform("uStrokeCap",U[this.curStrokeCap]),R.setUniform("uStrokeJoin",T[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(R){var ne=this,ue=(R.bindShader(),this.mixedSpecularColor=c(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(we,je){return ne.curFillColor[je]*ne._useMetalness+we*(1-ne._useMetalness)})),R.setUniform("uUseVertexColor",this._useVertexColor),R.setUniform("uMaterialColor",this.curFillColor),R.setUniform("isTexture",!!this._tex),this._tex&&R.setUniform("uSampler",this._tex),R.setUniform("uTint",this._tint),R.setUniform("uHasSetAmbient",this._hasSetAmbient),R.setUniform("uAmbientMatColor",this.curAmbientColor),R.setUniform("uSpecularMatColor",this.mixedSpecularColor),R.setUniform("uEmissiveMatColor",this.curEmissiveColor),R.setUniform("uSpecular",this._useSpecularMaterial),R.setUniform("uEmissive",this._useEmissiveMaterial),R.setUniform("uShininess",this._useShininess),R.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(R),R.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);R.setUniform("uPointLightCount",ue),R.setUniform("uPointLightLocation",this.pointLightPositions),R.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),R.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),R.setUniform("uDirectionalLightCount",ue=this.directionalLightDiffuseColors.length/3),R.setUniform("uLightingDirection",this.directionalLightDirections),R.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),R.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),ue=this.ambientLightColors.length/3,this.mixedAmbientLight=c(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(we){return Math.max(0,we-=ne._useMetalness)})),R.setUniform("uAmbientLightCount",ue),R.setUniform("uAmbientColor",this.mixedAmbientLight),R.setUniform("uSpotLightCount",ue=this.spotLightDiffuseColors.length/3),R.setUniform("uSpotLightAngle",this.spotLightAngle),R.setUniform("uSpotLightConc",this.spotLightConc),R.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),R.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),R.setUniform("uSpotLightLocation",this.spotLightPositions),R.setUniform("uSpotLightDirection",this.spotLightDirections),R.setUniform("uConstantAttenuation",this.constantAttenuation),R.setUniform("uLinearAttenuation",this.linearAttenuation),R.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),R.bindTextures()}},{key:"_setImageLightUniforms",value:function(R){var ne;R.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(ne=this.getDiffusedTexture(this.activeImageLight),R.setUniform("environmentMapDiffused",ne),ne=this.getSpecularTexture(this.activeImageLight),R.setUniform("levelOfDetail",20/this._useShininess*8),R.setUniform("environmentMapSpecular",ne))}},{key:"_setPointUniforms",value:function(R){R.bindShader(),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(R,ne,ue,we,je){this.GL.bindBuffer(ne=ne||this.GL.ARRAY_BUFFER,R),void 0!==ue&&((R=ue)instanceof p.default.DataArray?R=ue.dataArray():R instanceof(we||Float32Array)||(R=new(we||Float32Array)(R)),this.GL.bufferData(ne,R,je||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(R,ne){return R.length===ne.length&&R.every(function(ue,we){return ue===ne[we]})}},{key:"_isTypedArray",value:function(R){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(ne){return R instanceof ne})}},{key:"_flatten",value:function(R){return R.flat()}},{key:"_vToNArray",value:function(R){return R.flatMap(function(ne){return[ne.x,ne.y,ne.z]})}},{key:"_bezierCoefficients",value:function(R){var ne=R*R,ue=1-R,we=ue*ue;return[we*ue,3*we*R,3*ue*ne,ne*R]}},{key:"_quadraticCoefficients",value:function(R){var ne=1-R;return[ne*ne,2*ne*R,R*R]}},{key:"_bezierToCatmull",value:function(R){return[R[1],R[1]+(R[2]-R[0])/this._curveTightness,R[2]-(R[3]-R[1])/this._curveTightness,R[2]]}},{key:"_initTessy",value:function(){var R=new x.default.GluTesselator;return R.gluTessCallback(x.default.gluEnum.GLU_TESS_VERTEX_DATA,function(ne,ue){var we=!0,je=!1,Be=void 0;try{for(var We,Oe=ne[Symbol.iterator]();!(we=(We=Oe.next()).done);we=!0)ue.push(We.value)}catch($e){je=!0,Be=$e}finally{try{we||null==Oe.return||Oe.return()}finally{if(je)throw Be}}}),R.gluTessCallback(x.default.gluEnum.GLU_TESS_BEGIN,function(ne){ne!==x.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(ne))}),R.gluTessCallback(x.default.gluEnum.GLU_TESS_ERROR,function(ne){console.log("error callback"),console.log("error number: ".concat(ne))}),R.gluTessCallback(x.default.gluEnum.GLU_TESS_COMBINE,function(ne,ue,we){for(var je=new Array(p.default.RendererGL.prototype.tessyVertexSize).fill(0),Be=0;Be<we.length;Be++)for(var We=0;We<je.length;We++)0!==we[Be]&&ue[Be]&&(je[We]+=ue[Be][We]*we[Be]);return je}),R.gluTessCallback(x.default.gluEnum.GLU_TESS_EDGE_FLAG,function(ne){}),R.gluTessProperty(x.default.gluEnum.GLU_TESS_WINDING_RULE,x.default.windingRule.GLU_TESS_WINDING_NONZERO),R}},{key:"_triangulate",value:function(R){var ne=R[0]?R[0][2]:void 0,ue=!0,we=!0,Pe=!1,ke=void 0;try{for(var je,Be=R[Symbol.iterator]();!(we=(je=Be.next()).done);we=!0)for(var We=je.value,Oe=0;Oe<We.length;Oe+=p.default.RendererGL.prototype.tessyVertexSize)if(We[Oe+2]!==ne){ue=!1;break}}catch(Ot){Pe=!0,ke=Ot}finally{try{we||null==Be.return||Be.return()}finally{if(Pe)throw ke}}this._tessy.gluTessNormal(0,0,ue?1:0);var $e=(this._tessy.gluTessBeginPolygon(Pe=[]),!0),Qe=void(ke=!1);try{for(var tt,_t=R[Symbol.iterator]();!($e=(tt=_t.next()).done);$e=!0){var gt=tt.value;this._tessy.gluTessBeginContour();for(var xt=0;xt<gt.length;xt+=p.default.RendererGL.prototype.tessyVertexSize){var $t=gt.slice(xt,xt+p.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex($t,$t)}this._tessy.gluTessEndContour()}}catch(Ot){ke=!0,Qe=Ot}finally{try{$e||null==_t.return||_t.return()}finally{if(ke)throw Qe}}return this._tessy.gluTessEndPolygon(),Pe}}])&&u(oe.prototype,z),W}(p.default.Renderer),p.default.prototype._assert3d=function(z){if(!this._renderer.isP3D)throw new Error("".concat(z,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},p.default.RendererGL.prototype.tessyVertexSize=12,w.default=M=p.default.RendererGL},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(o,V,w){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function d(p,m){for(var C=0;C<m.length;C++){var x=m[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}_.default.Shader=function(){function p(s,a,h){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=s,this._vertSrc=a,this._fragSrc=h,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var m,C;return m=p,(C=[{key:"init",value:function(){if(0===this._glProgram){var s=this._renderer.GL;if(this._vertShader=s.createShader(s.VERTEX_SHADER),s.shaderSource(this._vertShader,this._vertSrc),s.compileShader(this._vertShader),!s.getShaderParameter(this._vertShader,s.COMPILE_STATUS))return _.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(s.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=s.createShader(s.FRAGMENT_SHADER),s.shaderSource(this._fragShader,this._fragSrc),s.compileShader(this._fragShader),!s.getShaderParameter(this._fragShader,s.COMPILE_STATUS))return _.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(s.getShaderInfoLog(this._fragShader))),null;this._glProgram=s.createProgram(),s.attachShader(this._glProgram,this._vertShader),s.attachShader(this._glProgram,this._fragShader),s.linkProgram(this._glProgram),s.getProgramParameter(this._glProgram,s.LINK_STATUS)||_.default._friendlyError("Snap! Error linking shader program: ".concat(s.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(s){var a=new _.default.Shader(s._renderer,this._vertSrc,this._fragSrc);return a.ensureCompiledOnContext(s),a}},{key:"ensureCompiledOnContext",value:function(s){if(0!==this._glProgram&&this._renderer!==s._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=s._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var s=this._renderer.GL,a=s.getProgramParameter(this._glProgram,s.ACTIVE_ATTRIBUTES),h=0;h<a;++h){var c=s.getActiveAttrib(this._glProgram,h),u=c.name,l=s.getAttribLocation(this._glProgram,u),y={};y.name=u,y.location=l,y.index=h,y.type=c.type,y.size=c.size,this.attributes[u]=y}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var s=this._renderer.GL,a=s.getProgramParameter(this._glProgram,s.ACTIVE_UNIFORMS),h=0,c=0;c<a;++c){var u=s.getActiveUniform(this._glProgram,c),l={},y=(l.location=s.getUniformLocation(this._glProgram,u.name),l.size=u.size,u.name);1<u.size&&(y=y.substring(0,y.indexOf("[0]"))),l.name=y,l.type=u.type,l._cachedData=void 0,l.type===s.SAMPLER_2D&&(l.samplerIndex=h,h++,this.samplers.push(l)),l.isArray=1<u.size||l.type===s.FLOAT_MAT3||l.type===s.FLOAT_MAT4||l.type===s.FLOAT_VEC2||l.type===s.FLOAT_VEC3||l.type===s.FLOAT_VEC4||l.type===s.INT_VEC2||l.type===s.INT_VEC4||l.type===s.INT_VEC3,this.uniforms[y]=l}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var s=this._renderer.GL,a=!0,h=!1,c=void 0;try{for(var u,l=this.samplers[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var y=u.value,f=y.texture;void 0===f&&(f=this._renderer._getEmptyTexture()),s.activeTexture(s.TEXTURE0+y.samplerIndex),f.bindTexture(),f.update(),s.uniform1i(y.location,y.samplerIndex)}}catch(b){h=!0,c=b}finally{try{a||null==l.return||l.return()}finally{if(h)throw c}}}},{key:"updateTextures",value:function(){var s=!0,a=!1,h=void 0;try{for(var c,u=this.samplers[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var l=c.value.texture;l&&l.update()}}catch(y){a=!0,h=y}finally{try{s||null==u.return||u.return()}finally{if(a)throw h}}}},{key:"unbindTextures",value:function(){var s=!0,a=!1,h=void 0;try{for(var c,u=this.samplers[Symbol.iterator]();!(s=(c=u.next()).done);s=!0)this.setUniform(c.value.name,this._renderer._getEmptyTexture())}catch(y){a=!0,h=y}finally{try{s||null==u.return||u.return()}finally{if(a)throw h}}}},{key:"_setMatrixUniforms",value:function(){var s=this._renderer._curCamera.cameraMatrix,a=this._renderer.uPMatrix,h=this._renderer.uMVMatrix,c=h.copy();c.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",s.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelViewMatrix",h.mat4),this.setUniform("uModelViewProjectionMatrix",c.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(s,a){var h=this.uniforms[s];if(h){var c=this._renderer.GL;if(h.isArray){if(h._cachedData&&this._renderer._arraysEqual(h._cachedData,a))return;h._cachedData=a.slice(0)}else{if(h._cachedData&&h._cachedData===a)return;h._cachedData=Array.isArray(a)?a.slice(0):a}var u=h.location;switch(this.useProgram(),h.type){case c.BOOL:c.uniform1i(u,!0===a?1:0);break;case c.INT:1<h.size?a.length&&c.uniform1iv(u,a):c.uniform1i(u,a);break;case c.FLOAT:1<h.size?a.length&&c.uniform1fv(u,a):c.uniform1f(u,a);break;case c.FLOAT_MAT3:c.uniformMatrix3fv(u,!1,a);break;case c.FLOAT_MAT4:c.uniformMatrix4fv(u,!1,a);break;case c.FLOAT_VEC2:1<h.size?a.length&&c.uniform2fv(u,a):c.uniform2f(u,a[0],a[1]);break;case c.FLOAT_VEC3:1<h.size?a.length&&c.uniform3fv(u,a):c.uniform3f(u,a[0],a[1],a[2]);break;case c.FLOAT_VEC4:1<h.size?a.length&&c.uniform4fv(u,a):c.uniform4f(u,a[0],a[1],a[2],a[3]);break;case c.INT_VEC2:1<h.size?a.length&&c.uniform2iv(u,a):c.uniform2i(u,a[0],a[1]);break;case c.INT_VEC3:1<h.size?a.length&&c.uniform3iv(u,a):c.uniform3i(u,a[0],a[1],a[2]);break;case c.INT_VEC4:1<h.size?a.length&&c.uniform4iv(u,a):c.uniform4i(u,a[0],a[1],a[2],a[3]);break;case c.SAMPLER_2D:c.activeTexture(c.TEXTURE0+h.samplerIndex),h.texture=a instanceof _.default.Texture?a:this._renderer.getTexture(a),c.uniform1i(u,h.samplerIndex),h.texture.src.gifProperties&&h.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(s){return void 0!==s})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(s,a,h,c,u,l){var y;return s&&-1!==(s=s.location)&&(y=this._renderer.GL,this._renderer.registerEnabled.has(s)||(y.enableVertexAttribArray(s),this._renderer.registerEnabled.add(s)),this._renderer.GL.vertexAttribPointer(s,a,h||y.FLOAT,c||!1,u||0,l||0)),this}},{key:"disableRemainingAttributes",value:function(){var s=this,a=!0,h=!1,c=void 0;try{for(var u,l=this._renderer.registerEnabled.values()[Symbol.iterator]();!(a=(u=l.next()).done);a=!0)!function(){var y=u.value;Object.keys(s.attributes).some(function(f){return s.attributes[f].location===y})||(s._renderer.GL.disableVertexAttribArray(y),s._renderer.registerEnabled.delete(y))}()}catch(y){h=!0,c=y}finally{try{a||null==l.return||l.return()}finally{if(h)throw c}}}}])&&d(m.prototype,C),p}(),w.default=o=_.default.Shader},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(o,V,w){"use strict";function _(f){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}function d(f){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(b){return _(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_(b)})(f)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(w,"__esModule",{value:!0}),w.checkWebGLCapabilities=y,w.default=w.MipmapTexture=void 0;var p=(l=o("../core/main"))&&l.__esModule?l:{default:l},m=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==d(f)&&"function"!=typeof f)return{default:f};var b=C();if(b&&b.has(f))return b.get(f);var D,B={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in f){var j;Object.prototype.hasOwnProperty.call(f,D)&&((j=F?Object.getOwnPropertyDescriptor(f,D):null)&&(j.get||j.set)?Object.defineProperty(B,D,j):B[D]=f[D])}return B.default=f,b&&b.set(f,B),B}(o("../core/constants"));function C(){var f;return"function"!=typeof WeakMap?null:(C=function(){return f},f=new WeakMap)}function x(f,b){return(x=Object.setPrototypeOf||function(D,B){return D.__proto__=B,D})(f,b)}function a(f){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(f)}function h(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}function c(f,b){for(var D=0;D<b.length;D++){var B=b[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(f,B.key,B)}}function u(f,b,D){b&&c(f.prototype,b),D&&c(f,D)}p.default.Texture=function(){function f(k,D,j){h(this,f),this._renderer=k;var F=this._renderer.GL;return j=j||{},this.src=D,this.glTex=void 0,this.glTarget=F.TEXTURE_2D,this.glFormat=j.format||F.RGBA,this.mipmaps=!1,this.glMinFilter=j.minFilter||F.LINEAR,this.glMagFilter=j.magFilter||F.LINEAR,this.glWrapS=j.wrapS||F.CLAMP_TO_EDGE,this.glWrapT=j.wrapT||F.CLAMP_TO_EDGE,this.glDataType=j.dataType||F.UNSIGNED_BYTE,j=y(k),this.glFormat!==F.HALF_FLOAT||j.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=F.FLOAT),this.glFormat!==F.HALF_FLOAT||this.glMinFilter!==F.LINEAR&&this.glMagFilter!==F.LINEAR||j.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===F.LINEAR&&(this.glMinFilter=F.NEAREST),this.glMagFilter===F.LINEAR&&(this.glMagFilter=F.NEAREST)),this.glFormat!==F.FLOAT||j.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=F.UNSIGNED_BYTE),this.glFormat!==F.FLOAT||this.glMinFilter!==F.LINEAR&&this.glMagFilter!==F.LINEAR||j.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===F.LINEAR&&(this.glMinFilter=F.NEAREST),this.glMagFilter===F.LINEAR&&(this.glMagFilter=F.NEAREST)),this.isSrcMediaElement=void 0!==p.default.MediaElement&&D instanceof p.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==p.default.Element&&D instanceof p.default.Element&&!(D instanceof p.default.Graphics)&&!(D instanceof p.default.Renderer),this.isSrcP5Image=D instanceof p.default.Image,this.isSrcP5Graphics=D instanceof p.default.Graphics,this.isSrcP5Renderer=D instanceof p.default.Renderer,this.isImageData=typeof ImageData<"u"&&D instanceof ImageData,this.isFramebufferTexture=D instanceof p.default.FramebufferTexture,k=this._getTextureDataFromSource(),this.width=k.width,this.height=k.height,this.init(k),this}return u(f,[{key:"_getTextureDataFromSource",value:function(){var b;return this.isFramebufferTexture?b=this.src.rawTexture():this.isSrcP5Image?b=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?b=this.src.elt:this.isImageData&&(b=this.src),b}},{key:"init",value:function(b){var D,B=this._renderer.GL;this.isFramebufferTexture||(this.glTex=B.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,this.glMagFilter),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(D=new Uint8Array([1,1,1,1]),B.texImage2D(this.glTarget,0,B.RGBA,1,1,0,this.glFormat,this.glDataType,D)):B.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b))}},{key:"update",value:function(){var b,D,B,F=this.src;return 0!==F.width&&0!==F.height&&!this.isFramebufferTexture&&(b=this._getTextureDataFromSource(),D=!1,B=this._renderer.GL,b.width!==this.width||b.height!==this.height?(D=!0,this.width=b.width||F.width,this.height=b.height||F.height,this.isSrcP5Image?F.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&F.setModified(!0)):this.isSrcP5Image?F.isModified()&&F.setModified(!(D=!0)):this.isSrcMediaElement?F.isModified()?F.setModified(!(D=!0)):F.loadedmetadata&&this._videoPrevUpdateTime!==F.time()&&(this._videoPrevUpdateTime=F.time(),D=!0):this.isImageData?F._dirty&&(D=!(F._dirty=!1)):D=!0,D&&(this.bindTexture(),B.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b)),D)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(b,D){var B=this._renderer.GL;this.glMinFilter=this.glFilter(b),this.glMagFilter=this.glFilter(D),this.bindTexture(),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,this.glMinFilter),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(b){var D=this._renderer.GL;return b===m.NEAREST?D.NEAREST:D.LINEAR}},{key:"setWrapMode",value:function(b,D){function B(U){return 0==(U&U-1)}var F=this._renderer.GL,k=(k=this._getTextureDataFromSource()).naturalWidth&&k.naturalHeight?(j=k.naturalWidth,k.naturalHeight):(j=this.width,this.height),j=B(j);k=B(k),b===m.REPEAT?this._renderer.webglVersion===m.WEBGL2||j&&k?this.glWrapS=F.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=F.CLAMP_TO_EDGE):b===m.MIRROR?this._renderer.webglVersion===m.WEBGL2||j&&k?this.glWrapS=F.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=F.CLAMP_TO_EDGE):this.glWrapS=F.CLAMP_TO_EDGE,D===m.REPEAT?this._renderer.webglVersion===m.WEBGL2||j&&k?this.glWrapT=F.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=F.CLAMP_TO_EDGE):D===m.MIRROR?this._renderer.webglVersion===m.WEBGL2||j&&k?this.glWrapT=F.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=F.CLAMP_TO_EDGE):this.glWrapT=F.CLAMP_TO_EDGE,this.bindTexture(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,this.glWrapS),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),f}();var l=function(f){var b=B;if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(f&&f.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),f&&x(b,f);var D=function s(f){return function(){var b,D=a(f);if(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=a(this).constructor,Reflect.construct(D,arguments,b)):D.apply(this,arguments),D=this,!b||"object"!==d(b)&&"function"!=typeof b){if(void 0!==D)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}(B);function B(F,j,k){return h(this,B),j=(F=D.call(this,F,j,k))._renderer.GL,F.glMinFilter===j.LINEAR&&(F.glMinFilter=j.LINEAR_MIPMAP_LINEAR),F}return u(B,[{key:"glFilter",value:function(F){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(F){var j=this._renderer.GL;this.glTex=j.createTexture(),this.bindTexture();for(var k=0;k<F.length;k++)j.texImage2D(this.glTarget,k,this.glFormat,this.glFormat,this.glDataType,F[k]);this.glMinFilter=j.LINEAR_MIPMAP_LINEAR,j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,this.glMagFilter),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),B}(p.default.Texture);function y(F){var b=F.GL,D=(F=F.webglVersion)===m.WEBGL2?b.getExtension("EXT_color_buffer_float")&&b.getExtension("EXT_float_blend"):b.getExtension("OES_texture_float");return{float:D,floatLinear:D&&b.getExtension("OES_texture_float_linear"),halfFloat:F=b.getExtension(F===m.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:F&&b.getExtension("OES_texture_half_float_linear")}}w.MipmapTexture=l,w.default=o=p.default.Texture},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(o,V,w){"use strict";function _(f){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}function d(f){return(d="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(b){return _(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_(b)})(f)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var p,m=(p=o("../core/main"))&&p.__esModule?p:{default:p},C=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==d(f)&&"function"!=typeof f)return{default:f};var b=x();if(b&&b.has(f))return b.get(f);var D,B={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in f){var j;Object.prototype.hasOwnProperty.call(f,D)&&((j=F?Object.getOwnPropertyDescriptor(f,D):null)&&(j.get||j.set)?Object.defineProperty(B,D,j):B[D]=f[D])}return B.default=f,b&&b.set(f,B),B}(o("../core/constants"));function x(){var f;return"function"!=typeof WeakMap?null:(x=function(){return f},f=new WeakMap)}function s(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}function a(f,b){for(var D=0;D<b.length;D++){var B=b[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(f,B.key,B)}}function h(f,b,D){b&&a(f.prototype,b),D&&a(f,D)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),m.default.RendererGL.prototype._applyTextProperties=function(){},m.default.RendererGL.prototype.textWidth=function(f){return this._isOpenType()?this._textFont._textWidth(f,this._textSize):0};var c=function(){function f(b,D){s(this,f),this.width=b,this.height=D,this.infos=[]}return h(f,[{key:"findImage",value:function(b){var D,B,F=this.width*this.height;if(F<b)throw new Error("font is too complex to render in 3D");for(var j=this.infos.length-1;0<=j;--j){var k=this.infos[j];if(k.index+b<F){B=(D=k).imageData;break}}if(!D){try{B=new ImageData(this.width,this.height)}catch{var U=document.getElementsByTagName("canvas")[0],T=!U,I=(U||((U=document.createElement("canvas")).style.display="none",document.body.appendChild(U)),U.getContext("2d"));I&&(B=I.createImageData(this.width,this.height)),T&&document.body.removeChild(U)}this.infos.push(D={index:0,imageData:B})}return I=D.index,D.index+=b,B._dirty=!0,{imageData:B,index:I}}}]),f}();function u(k,b,D,B,F){var j=k.imageData.data;k=4*k.index++,j[k++]=b,j[k++]=D,j[k++]=B,j[+k]=F}var l=Math.sqrt(3),y=function(){function f(b){s(this,f),this.font=b,this.strokeImageInfos=new c(64,64),this.colDimImageInfos=new c(64,64),this.rowDimImageInfos=new c(64,64),this.colCellImageInfos=new c(64,64),this.rowCellImageInfos=new c(64,64),this.glyphInfos={}}return h(f,[{key:"getGlyphInfo",value:function(b){var D=this.glyphInfos[b.index];if(!D){var B=b.getBoundingBox(),F=B.x1,j=B.y1,k=B.x2-F,U=B.y2-j,T=b.path.commands;if(0==k||0==U||!T.length)return this.glyphInfos[b.index]={};for(var I=[],M=[],q=[],K=8;0<=K;--K)q.push([]);for(K=8;0<=K;--K)M.push([]);var Y,ie,te,z,oe=function(){function ge(Je,ut,Rt,Ze){s(this,ge),this.p0=Je,this.c0=ut,this.c1=Rt,this.p1=Ze}return h(ge,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return m.default.Vector.sub(m.default.Vector.sub(this.p1,this.p0),m.default.Vector.mult(m.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Dt){var ut=m.default.Vector.lerp(this.p0,this.c0,Dt),Ze=m.default.Vector.lerp(this.c0,this.c1,Dt),Rt=m.default.Vector.lerp(ut,Ze,Dt);return this.c1=m.default.Vector.lerp(this.c1,this.p1,Dt),this.c0=m.default.Vector.lerp(Ze,this.c1,Dt),Ze=m.default.Vector.lerp(Rt,this.c0,Dt),Dt=new ge(this.p0,ut,Rt,Ze),this.p0=Ze,Dt}},{key:"splitInflections",value:function(){var Je=m.default.Vector.sub(this.c0,this.p0),ut=m.default.Vector.sub(m.default.Vector.sub(this.c1,this.c0),Je),Rt=m.default.Vector.sub(m.default.Vector.sub(m.default.Vector.sub(this.p1,this.c1),Je),m.default.Vector.mult(ut,2)),Ze=[],Dt=ut.x*Rt.y-ut.y*Rt.x;return 0!==Dt&&0<=(Je=(Rt=Je.x*Rt.y-Je.y*Rt.x)*Rt-4*Dt*(Je.x*ut.y-Je.y*ut.x))&&(Dt<0&&(Dt=-Dt,Rt=-Rt),Je=(-Rt+(ut=Math.sqrt(Je)))/(2*Dt),0<(Rt=(-Rt-ut)/(2*Dt))&&Rt<1&&(Ze.push(this.split(Rt)),Je=1-(1-Je)/(1-Rt)),0<Je&&Je<1&&Ze.push(this.split(Je))),Ze.push(this),Ze}}]),ge}(),le=!0,Ee=!1,W=void 0;try{for(var R,ne=T[Symbol.iterator]();!(le=(R=ne.next()).done);le=!0){var ue=R.value,we=(ue.x-F)/k,je=(ue.y-j)/U;if(!jt(Y,ie,we,je)){switch(ue.type){case"M":te=we,z=je;break;case"L":Ot(Y,ie,we,je);break;case"Q":var Be=(ue.x1-F)/k,We=(ue.y1-j)/U;xt([Y,we,Be],[ie,je,We],{x:Y,y:ie,cx:Be,cy:We});break;case"Z":jt(Y,ie,te,z)?I.push({x:Y,y:ie}):(Ot(Y,ie,te,z),I.push({x:te,y:z}));break;case"C":for(var Oe=function(Ne,kt,Lt,Rt,Ze,Dt,pt,Re){Ne=new oe(new m.default.Vector(Ne,kt),new m.default.Vector(Lt,Rt),new m.default.Vector(Ze,Dt),new m.default.Vector(pt,Re)).splitInflections();var Me=[],Ye=30/l,vt=!0;kt=!1,Lt=void 0;try{for(var tn,bn=Ne[Symbol.iterator]();!(vt=(tn=bn.next()).done);vt=!0){for(var gn=tn.value,Pt=[],yt=void 0;!(.125<=(yt=Ye/gn.quadError()));){var it=Math.pow(yt,.3333333333333333),Xe=gn.split(it),at=gn.split(1-it/(1-it));Me.push(Xe),Pt.push(gn),gn=at}yt<1&&Me.push(gn.split(.5)),Me.push(gn),Array.prototype.push.apply(Me,Pt.reverse())}}catch(It){kt=!0,Lt=It}finally{try{vt||null==bn.return||bn.return()}finally{if(kt)throw Lt}}return Me}(Y,ie,(ue.x1-F)/k,(ue.y1-j)/U,(ue.x2-F)/k,(ue.y2-j)/U,we,je),Pe=0;Pe<Oe.length;Pe++){var $e=Oe[Pe].toQuadratic();xt([$e.x,$e.x1,$e.cx],[$e.y,$e.y1,$e.cy],$e)}break;default:throw new Error("unknown command type: ".concat(ue.type))}Y=we,ie=je}}}catch(ge){Ee=!0,W=ge}finally{try{le||null==ne.return||ne.return()}finally{if(Ee)throw W}}for(var ke=I.length,Qe=this.strokeImageInfos.findImage(ke),tt=Qe.index,_t=0;_t<ke;++_t){var gt=I[_t];u(Qe,$t(gt.x),$t(gt.y),$t(gt.cx),$t(gt.cy))}(D=this.glyphInfos[b.index]={glyph:b,uGlyphRect:[B.x1,-B.y1,B.x2,-B.y2],strokeImageInfo:Qe,strokes:I,colInfo:Tt(q,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Tt(M,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[D.colInfo.dimOffset,D.rowInfo.dimOffset]}return D;function xt(ge,Je,ut){var Rt=I.length;function Ze(Me,Ye,vt){for(var kt=Me.length;0<kt--;){var Lt=Me[kt];Lt<Ye&&(Ye=Lt),vt<Lt&&(vt=Lt)}return{min:Ye,max:vt}}I.push(ut),ut=Ze(ge,1,0),ge=Math.max(Math.floor(9*ut.min-.5),0);for(var Dt=Math.min(Math.ceil(9*ut.max+.5),9),pt=ge;pt<Dt;++pt)q[pt].push(Rt);ut=Ze(Je,1,0),ge=Math.max(Math.floor(9*ut.min-.5),0);for(var Re=Math.min(Math.ceil(9*ut.max+.5),9),Ne=ge;Ne<Re;++Ne)M[Ne].push(Rt)}function $t(ge){return(ge=255*ge)<0?0:255<ge?255:ge}function Ot(ge,Je,ut,Rt){xt([ge,ut],[Je,Rt],{x:ge,y:Je,cx:(ge+ut)/2,cy:(Je+Rt)/2})}function jt(ge,Je,ut,Rt){return Math.abs(ut-ge)<1e-5&&Math.abs(Rt-Je)<1e-5}function Tt(ge,Je,ut){for(var Rt=ge.length,Ze=Je.findImage(Rt),Dt=(Je=Ze.index,0),pt=0;pt<Rt;++pt)Dt+=ge[pt].length;for(var Re=ut.findImage(Dt),Ne=0;Ne<Rt;++Ne){var Me=ge[Ne],Ye=Me.length,vt=Re.index;u(Ze,vt>>7,127&vt,Ye>>7,127&Ye);for(var kt=0;kt<Ye;++kt){var Lt=Me[kt]+tt;u(Re,Lt>>7,127&Lt,0,0)}}return{cellImageInfo:Re,dimOffset:Je,dimImageInfo:Ze}}}}]),f}();m.default.RendererGL.prototype._renderText=function(f,b,D,B,F){if(this._textFont&&"string"!=typeof this._textFont){if(!(F<=B)&&this._doFill){if(this._isOpenType()){f.push(),F=this._doStroke;var j=this.drawMode,k=(this._doStroke=!1,this.drawMode=C.TEXTURE,this._textFont.font),U=(U=this._textFont._fontInfo)||(this._textFont._fontInfo=new y(k)),T=(D=this._textFont._handleAlignment(this,b,D,B),B=this._textSize/k.unitsPerEm,this.translate(D.x,D.y,0),this.scale(B,B,1),this.GL),I=(D=!this._defaultFontShader,this._getFontShader()),M=(I.init(),I.bindShader(),D&&(I.setUniform("uGridImageSize",[64,64]),I.setUniform("uCellsImageSize",[64,64]),I.setUniform("uStrokeImageSize",[64,64]),I.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),q=(M||((B=this._textGeom=new m.default.Geometry(1,1,function(){for(var Pe=0;Pe<=1;Pe++)for(var $e=0;$e<=1;$e++)this.vertices.push(new m.default.Vector($e,Pe,0)),this.uvs.push($e,Pe)})).computeFaces().computeNormals(),M=this.createBuffers("glyph",B)),!0);D=!1,B=void 0;try{for(var K,Y=this.retainedMode.buffers.text[Symbol.iterator]();!(q=(K=Y.next()).done);q=!0)K.value._prepareBuffer(M,I)}catch(Pe){D=!0,B=Pe}finally{try{q||null==Y.return||Y.return()}finally{if(D)throw B}}this._bindBuffer(M.indexBuffer,T.ELEMENT_ARRAY_BUFFER),I.setUniform("uMaterialColor",this.curFillColor),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var ie=0,te=null,z=k.stringToGlyphs(b),oe=!0,le=!1,Ee=void 0;try{for(var W,R=z[Symbol.iterator]();!(oe=(W=R.next()).done);oe=!0){var ne,ue,we=W.value,je=(te&&(ie+=k.getKerningValue(te,we)),U.getGlyphInfo(we));je.uGlyphRect&&(ne=je.rowInfo,ue=je.colInfo,I.setUniform("uSamplerStrokes",je.strokeImageInfo.imageData),I.setUniform("uSamplerRowStrokes",ne.cellImageInfo.imageData),I.setUniform("uSamplerRows",ne.dimImageInfo.imageData),I.setUniform("uSamplerColStrokes",ue.cellImageInfo.imageData),I.setUniform("uSamplerCols",ue.dimImageInfo.imageData),I.setUniform("uGridOffset",je.uGridOffset),I.setUniform("uGlyphRect",je.uGlyphRect),I.setUniform("uGlyphOffset",ie),I.bindTextures(),T.drawElements(T.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),ie+=we.advanceWidth,te=we}}catch(Pe){le=!0,Ee=Pe}finally{try{oe||null==R.return||R.return()}finally{if(le)throw Ee}}}finally{I.unbindShader(),this._doStroke=F,this.drawMode=j,T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),f.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return f}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)},4972:(pn,Vt,fe)=>{function g(s){this.mode=st.MODE_8BIT_BYTE,this.data=s,this.parsedData=[];for(var a=0,h=this.data.length;a<h;a++){var c=[],u=this.data.charCodeAt(a);u>65536?(c[0]=240|(1835008&u)>>>18,c[1]=128|(258048&u)>>>12,c[2]=128|(4032&u)>>>6,c[3]=128|63&u):u>2048?(c[0]=224|(61440&u)>>>12,c[1]=128|(4032&u)>>>6,c[2]=128|63&u):u>128?(c[0]=192|(1984&u)>>>6,c[1]=128|63&u):c[0]=u,this.parsedData.push(c)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function Ce(s,a){this.typeNumber=s,this.errorCorrectLevel=a,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}g.prototype={getLength:function(s){return this.parsedData.length},write:function(s){for(var a=0,h=this.parsedData.length;a<h;a++)s.put(this.parsedData[a],8)}},Ce.prototype={addData:function(s){var a=new g(s);this.dataList.push(a),this.dataCache=null},isDark:function(s,a){if(s<0||this.moduleCount<=s||a<0||this.moduleCount<=a)throw new Error(s+","+a);return this.modules[s][a]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(s,a){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var h=0;h<this.moduleCount;h++){this.modules[h]=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++)this.modules[h][c]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,a),this.typeNumber>=7&&this.setupTypeNumber(s),null==this.dataCache&&(this.dataCache=Ce.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,a)},setupPositionProbePattern:function(s,a){for(var h=-1;h<=7;h++)if(!(s+h<=-1||this.moduleCount<=s+h))for(var c=-1;c<=7;c++)a+c<=-1||this.moduleCount<=a+c||(this.modules[s+h][a+c]=0<=h&&h<=6&&(0==c||6==c)||0<=c&&c<=6&&(0==h||6==h)||2<=h&&h<=4&&2<=c&&c<=4)},getBestMaskPattern:function(){for(var s=0,a=0,h=0;h<8;h++){this.makeImpl(!0,h);var c=V.getLostPoint(this);(0==h||s>c)&&(s=c,a=h)}return a},createMovieClip:function(s,a,h){var c=s.createEmptyMovieClip(a,h);this.make();for(var l=0;l<this.modules.length;l++)for(var y=1*l,f=0;f<this.modules[l].length;f++){var b=1*f;this.modules[l][f]&&(c.beginFill(0,100),c.moveTo(b,y),c.lineTo(b+1,y),c.lineTo(b+1,y+1),c.lineTo(b,y+1),c.endFill())}return c},setupTimingPattern:function(){for(var s=8;s<this.moduleCount-8;s++)null==this.modules[s][6]&&(this.modules[s][6]=s%2==0);for(var a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=a%2==0)},setupPositionAdjustPattern:function(){for(var s=V.getPatternPosition(this.typeNumber),a=0;a<s.length;a++)for(var h=0;h<s.length;h++){var c=s[a],u=s[h];if(null==this.modules[c][u])for(var l=-2;l<=2;l++)for(var y=-2;y<=2;y++)this.modules[c+l][u+y]=-2==l||2==l||-2==y||2==y||0==l&&0==y}},setupTypeNumber:function(s){for(var a=V.getBCHTypeNumber(this.typeNumber),h=0;h<18;h++){var c=!s&&1==(a>>h&1);this.modules[Math.floor(h/3)][h%3+this.moduleCount-8-3]=c}for(h=0;h<18;h++)c=!s&&1==(a>>h&1),this.modules[h%3+this.moduleCount-8-3][Math.floor(h/3)]=c},setupTypeInfo:function(s,a){for(var c=V.getBCHTypeInfo(this.errorCorrectLevel<<3|a),u=0;u<15;u++){var l=!s&&1==(c>>u&1);u<6?this.modules[u][8]=l:u<8?this.modules[u+1][8]=l:this.modules[this.moduleCount-15+u][8]=l}for(u=0;u<15;u++)l=!s&&1==(c>>u&1),u<8?this.modules[8][this.moduleCount-u-1]=l:u<9?this.modules[8][15-u-1+1]=l:this.modules[8][15-u-1]=l;this.modules[this.moduleCount-8][8]=!s},mapData:function(s,a){for(var h=-1,c=this.moduleCount-1,u=7,l=0,y=this.moduleCount-1;y>0;y-=2)for(6==y&&y--;;){for(var f=0;f<2;f++)if(null==this.modules[c][y-f]){var b=!1;l<s.length&&(b=1==(s[l]>>>u&1)),V.getMask(a,c,y-f)&&(b=!b),this.modules[c][y-f]=b,-1==--u&&(l++,u=7)}if((c+=h)<0||this.moduleCount<=c){c-=h,h=-h;break}}}},Ce.PAD0=236,Ce.PAD1=17,Ce.createData=function(s,a,h){for(var c=p.getRSBlocks(s,a),u=new m,l=0;l<h.length;l++){var y=h[l];u.put(y.mode,4),u.put(y.getLength(),V.getLengthInBits(y.mode,s)),y.write(u)}var f=0;for(l=0;l<c.length;l++)f+=c[l].dataCount;if(u.getLengthInBits()>8*f)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+8*f+")");for(u.getLengthInBits()+4<=8*f&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=8*f||(u.put(Ce.PAD0,8),u.getLengthInBits()>=8*f));)u.put(Ce.PAD1,8);return Ce.createBytes(u,c)},Ce.createBytes=function(s,a){for(var h=0,c=0,u=0,l=new Array(a.length),y=new Array(a.length),f=0;f<a.length;f++){var b=a[f].dataCount,D=a[f].totalCount-b;c=Math.max(c,b),u=Math.max(u,D),l[f]=new Array(b);for(var B=0;B<l[f].length;B++)l[f][B]=255&s.buffer[B+h];h+=b;var F=V.getErrorCorrectPolynomial(D),k=new d(l[f],F.getLength()-1).mod(F);for(y[f]=new Array(F.getLength()-1),B=0;B<y[f].length;B++){var U=B+k.getLength()-y[f].length;y[f][B]=U>=0?k.get(U):0}}var T=0;for(B=0;B<a.length;B++)T+=a[B].totalCount;var I=new Array(T),M=0;for(B=0;B<c;B++)for(f=0;f<a.length;f++)B<l[f].length&&(I[M++]=l[f][B]);for(B=0;B<u;B++)for(f=0;f<a.length;f++)B<y[f].length&&(I[M++]=y[f][B]);return I};for(var st={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Fe={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},V={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var a=s<<10;V.getBCHDigit(a)-V.getBCHDigit(V.G15)>=0;)a^=V.G15<<V.getBCHDigit(a)-V.getBCHDigit(V.G15);return(s<<10|a)^V.G15_MASK},getBCHTypeNumber:function(s){for(var a=s<<12;V.getBCHDigit(a)-V.getBCHDigit(V.G18)>=0;)a^=V.G18<<V.getBCHDigit(a)-V.getBCHDigit(V.G18);return s<<12|a},getBCHDigit:function(s){for(var a=0;0!=s;)a++,s>>>=1;return a},getPatternPosition:function(s){return V.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,a,h){switch(s){case o.PATTERN000:return(a+h)%2==0;case o.PATTERN001:return a%2==0;case o.PATTERN010:return h%3==0;case o.PATTERN011:return(a+h)%3==0;case o.PATTERN100:return(Math.floor(a/2)+Math.floor(h/3))%2==0;case o.PATTERN101:return a*h%2+a*h%3==0;case o.PATTERN110:return(a*h%2+a*h%3)%2==0;case o.PATTERN111:return(a*h%3+(a+h)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var a=new d([1],0),h=0;h<s;h++)a=a.multiply(new d([1,w.gexp(h)],0));return a},getLengthInBits:function(s,a){if(1<=a&&a<10)switch(s){case st.MODE_NUMBER:return 10;case st.MODE_ALPHA_NUM:return 9;case st.MODE_8BIT_BYTE:case st.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(a<27)switch(s){case st.MODE_NUMBER:return 12;case st.MODE_ALPHA_NUM:return 11;case st.MODE_8BIT_BYTE:return 16;case st.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else{if(!(a<41))throw new Error("type:"+a);switch(s){case st.MODE_NUMBER:return 14;case st.MODE_ALPHA_NUM:return 13;case st.MODE_8BIT_BYTE:return 16;case st.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}}},getLostPoint:function(s){for(var a=s.getModuleCount(),h=0,c=0;c<a;c++)for(var u=0;u<a;u++){for(var l=0,y=s.isDark(c,u),f=-1;f<=1;f++)if(!(c+f<0||a<=c+f))for(var b=-1;b<=1;b++)u+b<0||a<=u+b||0==f&&0==b||y==s.isDark(c+f,u+b)&&l++;l>5&&(h+=3+l-5)}for(c=0;c<a-1;c++)for(u=0;u<a-1;u++){var D=0;s.isDark(c,u)&&D++,s.isDark(c+1,u)&&D++,s.isDark(c,u+1)&&D++,s.isDark(c+1,u+1)&&D++,(0==D||4==D)&&(h+=3)}for(c=0;c<a;c++)for(u=0;u<a-6;u++)s.isDark(c,u)&&!s.isDark(c,u+1)&&s.isDark(c,u+2)&&s.isDark(c,u+3)&&s.isDark(c,u+4)&&!s.isDark(c,u+5)&&s.isDark(c,u+6)&&(h+=40);for(u=0;u<a;u++)for(c=0;c<a-6;c++)s.isDark(c,u)&&!s.isDark(c+1,u)&&s.isDark(c+2,u)&&s.isDark(c+3,u)&&s.isDark(c+4,u)&&!s.isDark(c+5,u)&&s.isDark(c+6,u)&&(h+=40);var B=0;for(u=0;u<a;u++)for(c=0;c<a;c++)s.isDark(c,u)&&B++;return h+Math.abs(100*B/a/a-50)/5*10}},w={glog:function(s){if(s<1)throw new Error("glog("+s+")");return w.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return w.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},_=0;_<8;_++)w.EXP_TABLE[_]=1<<_;for(_=8;_<256;_++)w.EXP_TABLE[_]=w.EXP_TABLE[_-4]^w.EXP_TABLE[_-5]^w.EXP_TABLE[_-6]^w.EXP_TABLE[_-8];for(_=0;_<255;_++)w.LOG_TABLE[w.EXP_TABLE[_]]=_;function d(s,a){if(null==s.length)throw new Error(s.length+"/"+a);for(var h=0;h<s.length&&0==s[h];)h++;this.num=new Array(s.length-h+a);for(var c=0;c<s.length-h;c++)this.num[c]=s[c+h]}function p(s,a){this.totalCount=s,this.dataCount=a}function m(){this.buffer=[],this.length=0}d.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var a=new Array(this.getLength()+s.getLength()-1),h=0;h<this.getLength();h++)for(var c=0;c<s.getLength();c++)a[h+c]^=w.gexp(w.glog(this.get(h))+w.glog(s.get(c)));return new d(a,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var a=w.glog(this.get(0))-w.glog(s.get(0)),h=new Array(this.getLength()),c=0;c<this.getLength();c++)h[c]=this.get(c);for(c=0;c<s.getLength();c++)h[c]^=w.gexp(w.glog(s.get(c))+a);return new d(h,0).mod(s)}},p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(s,a){var h=p.getRsBlockTable(s,a);if(null==h)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+a);for(var c=h.length/3,u=[],l=0;l<c;l++)for(var y=h[3*l+0],f=h[3*l+1],b=h[3*l+2],D=0;D<y;D++)u.push(new p(f,b));return u},p.getRsBlockTable=function(s,a){switch(a){case Fe.L:return p.RS_BLOCK_TABLE[4*(s-1)+0];case Fe.M:return p.RS_BLOCK_TABLE[4*(s-1)+1];case Fe.Q:return p.RS_BLOCK_TABLE[4*(s-1)+2];case Fe.H:return p.RS_BLOCK_TABLE[4*(s-1)+3];default:return}},m.prototype={get:function(s){var a=Math.floor(s/8);return 1==(this.buffer[a]>>>7-s%8&1)},put:function(s,a){for(var h=0;h<a;h++)this.putBit(1==(s>>>a-h-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),s&&(this.buffer[a]|=128>>>this.length%8),this.length++}};var C=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function x(s){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof s&&(s={content:s}),s)for(var h in s)this.options[h]=s[h];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var y=this.options.content,f=function u(D,B){for(var F=function l(D){var B=encodeURI(D).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return B.length+(B.length!=D?3:0)}(D),j=1,k=0,U=0,T=C.length;U<=T;U++){var I=C[U];if(!I)throw new Error("Content too long: expected "+k+" but got "+F);switch(B){case"L":k=I[0];break;case"M":k=I[1];break;case"Q":k=I[2];break;case"H":k=I[3];break;default:throw new Error("Unknwon error correction level: "+B)}if(F<=k)break;j++}if(j>C.length)throw new Error("Content too long");return j}(y,this.options.ecl),b=function c(D){switch(D){case"L":return Fe.L;case"M":return Fe.M;case"Q":return Fe.Q;case"H":return Fe.H;default:throw new Error("Unknwon error correction level: "+D)}}(this.options.ecl);this.qrcode=new Ce(f,b),this.qrcode.addData(y),this.qrcode.make()}x.prototype.svg=function(s){var a=this.options||{},h=this.qrcode.modules;typeof s>"u"&&(s={container:a.container||"svg"});for(var c=!(typeof a.pretty<"u"&&!a.pretty),u=c?"  ":"",l=c?"\r\n":"",y=a.width,f=a.height,b=h.length,D=y/(b+2*a.padding),B=f/(b+2*a.padding),F=typeof a.join<"u"&&!!a.join,j=typeof a.swap<"u"&&!!a.swap,k=!(typeof a.xmlDeclaration<"u"&&!a.xmlDeclaration),U=typeof a.predefined<"u"&&!!a.predefined,T=U?u+'<defs><path id="qrmodule" d="M0 0 h'+B+" v"+D+' H0 z" style="fill:'+a.color+';shape-rendering:crispEdges;" /></defs>'+l:"",I=u+'<rect x="0" y="0" width="'+y+'" height="'+f+'" style="fill:'+a.background+';shape-rendering:crispEdges;"/>'+l,M="",q="",K=0;K<b;K++)for(var Y=0;Y<b;Y++)if(h[Y][K]){var te=Y*D+a.padding*D,z=K*B+a.padding*B;if(j){var oe=te;te=z,z=oe}if(F){var le=D+te,Ee=B+z;te=Number.isInteger(te)?Number(te):te.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),le=Number.isInteger(le)?Number(le):le.toFixed(2),q+="M"+te+","+z+" V"+(Ee=Number.isInteger(Ee)?Number(Ee):Ee.toFixed(2))+" H"+le+" V"+z+" H"+te+" Z "}else M+=U?u+'<use x="'+te.toString()+'" y="'+z.toString()+'" href="#qrmodule" />'+l:u+'<rect x="'+te.toString()+'" y="'+z.toString()+'" width="'+D+'" height="'+B+'" style="fill:'+a.color+';shape-rendering:crispEdges;"/>'+l}F&&(M=u+'<path x="0" y="0" style="fill:'+a.color+';shape-rendering:crispEdges;" d="'+q+'" />');var W="";switch(s.container){case"svg":k&&(W+='<?xml version="1.0" standalone="yes"?>'+l),W+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+y+'" height="'+f+'">'+l,W+=T+I+M,W+="</svg>";break;case"svg-viewbox":k&&(W+='<?xml version="1.0" standalone="yes"?>'+l),W+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+y+" "+f+'">'+l,W+=T+I+M,W+="</svg>";break;case"g":W+='<g width="'+y+'" height="'+f+'">'+l,W+=T+I+M,W+="</g>";break;default:W+=(T+I+M).replace(/^\s+/,"")}return W},x.prototype.save=function(s,a){var h=this.svg();"function"!=typeof a&&(a=function(u,l){});try{fe(Object(function(){var l=new Error("Cannot find module 'fs'");throw l.code="MODULE_NOT_FOUND",l}())).writeFile(s,h,a)}catch(u){a(u)}},pn.exports=x},6700:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{g:()=>Ce});var g=fe(5657);class Ce extends g.E{constructor(Fe){super(),this._value=Fe}get value(){return this.getValue()}_subscribe(Fe){const o=super._subscribe(Fe);return!o.closed&&Fe.next(this._value),o}getValue(){const{hasError:Fe,thrownError:o,_value:V}=this;if(Fe)throw o;return this._throwIfClosed(),V}next(Fe){super.next(this._value=Fe)}}},3252:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{_:()=>_});var g=fe(1760),Ce=fe(4548),st=fe(472),Fe=fe(3928),o=fe(4491),V=fe(8880),w=fe(2075);let _=(()=>{class C{constructor(s){s&&(this._subscribe=s)}lift(s){const a=new C;return a.source=this,a.operator=s,a}subscribe(s,a,h){const c=function m(C){return C&&C instanceof g.yR||function p(C){return C&&(0,V.m)(C.next)&&(0,V.m)(C.error)&&(0,V.m)(C.complete)}(C)&&(0,Ce.GI)(C)}(s)?s:new g.ot(s,a,h);return(0,w.c)(()=>{const{operator:u,source:l}=this;c.add(u?u.call(c,l):l?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(s){try{return this._subscribe(s)}catch(a){s.error(a)}}forEach(s,a){return new(a=d(a))((h,c)=>{const u=new g.ot({next:l=>{try{s(l)}catch(y){c(y),u.unsubscribe()}},error:c,complete:h});this.subscribe(u)})}_subscribe(s){var a;return null===(a=this.source)||void 0===a?void 0:a.subscribe(s)}[st.a](){return this}pipe(...s){return(0,Fe.Y)(s)(this)}toPromise(s){return new(s=d(s))((a,h)=>{let c;this.subscribe(u=>c=u,u=>h(u),()=>a(c))})}}return C.create=x=>new C(x),C})();function d(C){var x;return null!==(x=null!=C?C:o.config.Promise)&&void 0!==x?x:Promise}},5657:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{E:()=>w});var g=fe(3252),Ce=fe(4548);const Fe=(0,fe(4912).w)(d=>function(){d(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=fe(1248),V=fe(2075);let w=(()=>{class d extends g._{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(m){const C=new _(this,this);return C.operator=m,C}_throwIfClosed(){if(this.closed)throw new Fe}next(m){(0,V.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const C of this.currentObservers)C.next(m)}})}error(m){(0,V.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=m;const{observers:C}=this;for(;C.length;)C.shift().error(m)}})}complete(){(0,V.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:m}=this;for(;m.length;)m.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var m;return(null===(m=this.observers)||void 0===m?void 0:m.length)>0}_trySubscribe(m){return this._throwIfClosed(),super._trySubscribe(m)}_subscribe(m){return this._throwIfClosed(),this._checkFinalizedStatuses(m),this._innerSubscribe(m)}_innerSubscribe(m){const{hasError:C,isStopped:x,observers:s}=this;return C||x?Ce.au:(this.currentObservers=null,s.push(m),new Ce.wH(()=>{this.currentObservers=null,(0,o.k)(s,m)}))}_checkFinalizedStatuses(m){const{hasError:C,thrownError:x,isStopped:s}=this;C?m.error(x):s&&m.complete()}asObservable(){const m=new g._;return m.source=this,m}}return d.create=(p,m)=>new _(p,m),d})();class _ extends w{constructor(p,m){super(),this.destination=p,this.source=m}next(p){var m,C;null===(C=null===(m=this.destination)||void 0===m?void 0:m.next)||void 0===C||C.call(m,p)}error(p){var m,C;null===(C=null===(m=this.destination)||void 0===m?void 0:m.error)||void 0===C||C.call(m,p)}complete(){var p,m;null===(m=null===(p=this.destination)||void 0===p?void 0:p.complete)||void 0===m||m.call(p)}_subscribe(p){var m,C;return null!==(C=null===(m=this.source)||void 0===m?void 0:m.subscribe(p))&&void 0!==C?C:Ce.au}}},1760:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{ot:()=>h,yR:()=>C});var g=fe(8880),Ce=fe(4548),st=fe(4491),Fe=fe(1984),o=fe(308);const V=d("C",void 0,void 0);function d(f,b,D){return{kind:f,value:b,error:D}}var p=fe(3376),m=fe(2075);class C extends Ce.wH{constructor(b){super(),this.isStopped=!1,b?(this.destination=b,(0,Ce.GI)(b)&&b.add(this)):this.destination=y}static create(b,D,B){return new h(b,D,B)}next(b){this.isStopped?l(function _(f){return d("N",f,void 0)}(b),this):this._next(b)}error(b){this.isStopped?l(function w(f){return d("E",void 0,f)}(b),this):(this.isStopped=!0,this._error(b))}complete(){this.isStopped?l(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(b){this.destination.next(b)}_error(b){try{this.destination.error(b)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const x=Function.prototype.bind;function s(f,b){return x.call(f,b)}class a{constructor(b){this.partialObserver=b}next(b){const{partialObserver:D}=this;if(D.next)try{D.next(b)}catch(B){c(B)}}error(b){const{partialObserver:D}=this;if(D.error)try{D.error(b)}catch(B){c(B)}else c(b)}complete(){const{partialObserver:b}=this;if(b.complete)try{b.complete()}catch(D){c(D)}}}class h extends C{constructor(b,D,B){let F;if(super(),(0,g.m)(b)||!b)F={next:null!=b?b:void 0,error:null!=D?D:void 0,complete:null!=B?B:void 0};else{let j;this&&st.config.useDeprecatedNextContext?(j=Object.create(b),j.unsubscribe=()=>this.unsubscribe(),F={next:b.next&&s(b.next,j),error:b.error&&s(b.error,j),complete:b.complete&&s(b.complete,j)}):F=b}this.destination=new a(F)}}function c(f){st.config.useDeprecatedSynchronousErrorHandling?(0,m.q)(f):(0,Fe.U)(f)}function l(f,b){const{onStoppedNotification:D}=st.config;D&&p.u.setTimeout(()=>D(f,b))}const y={closed:!0,next:o.K,error:function u(f){throw f},complete:o.K}},4548:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{au:()=>V,wH:()=>o,GI:()=>w});var g=fe(8880);const st=(0,fe(4912).w)(d=>function(m){d(this),this.message=m?`${m.length} errors occurred during unsubscription:\n${m.map((C,x)=>`${x+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=m});var Fe=fe(1248);class o{constructor(p){this.initialTeardown=p,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let p;if(!this.closed){this.closed=!0;const{_parentage:m}=this;if(m)if(this._parentage=null,Array.isArray(m))for(const s of m)s.remove(this);else m.remove(this);const{initialTeardown:C}=this;if((0,g.m)(C))try{C()}catch(s){p=s instanceof st?s.errors:[s]}const{_finalizers:x}=this;if(x){this._finalizers=null;for(const s of x)try{_(s)}catch(a){p=null!=p?p:[],a instanceof st?p=[...p,...a.errors]:p.push(a)}}if(p)throw new st(p)}}add(p){var m;if(p&&p!==this)if(this.closed)_(p);else{if(p instanceof o){if(p.closed||p._hasParent(this))return;p._addParent(this)}(this._finalizers=null!==(m=this._finalizers)&&void 0!==m?m:[]).push(p)}}_hasParent(p){const{_parentage:m}=this;return m===p||Array.isArray(m)&&m.includes(p)}_addParent(p){const{_parentage:m}=this;this._parentage=Array.isArray(m)?(m.push(p),m):m?[m,p]:p}_removeParent(p){const{_parentage:m}=this;m===p?this._parentage=null:Array.isArray(m)&&(0,Fe.k)(m,p)}remove(p){const{_finalizers:m}=this;m&&(0,Fe.k)(m,p),p instanceof o&&p._removeParent(this)}}o.EMPTY=(()=>{const d=new o;return d.closed=!0,d})();const V=o.EMPTY;function w(d){return d instanceof o||d&&"closed"in d&&(0,g.m)(d.remove)&&(0,g.m)(d.add)&&(0,g.m)(d.unsubscribe)}function _(d){(0,g.m)(d)?d():d.unsubscribe()}},4491:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2376:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{C:()=>V});var g=fe(3252),Ce=fe(4548),st=fe(8084),Fe=fe(7773),o=fe(5448);class V extends g._{constructor(_,d){super(),this.source=_,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,o.e)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,null==_||_.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new Ce.wH;const d=this.getSubject();_.add(this.source.subscribe((0,Fe.e)(d,void 0,()=>{this._teardown(),d.complete()},p=>{this._teardown(),d.error(p)},()=>this._teardown()))),_.closed&&(this._connection=null,_=Ce.wH.EMPTY)}return _}refCount(){return(0,st.O)()(this)}}},6040:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{E:()=>p});var g=fe(3252),Ce=fe(4300),st=fe(2115),Fe=fe(528),o=fe(4187),V=fe(6624),w=fe(7904),_=fe(7773),d=fe(9399);function p(...x){const s=(0,V.e_)(x),a=(0,V.yu)(x),{args:h,keys:c}=(0,Ce.Q)(x);if(0===h.length)return(0,st.Q)([],s);const u=new g._(function m(x,s,a=Fe.Z){return h=>{C(s,()=>{const{length:c}=x,u=new Array(c);let l=c,y=c;for(let f=0;f<c;f++)C(s,()=>{const b=(0,st.Q)(x[f],s);let D=!1;b.subscribe((0,_.e)(h,B=>{u[f]=B,D||(D=!0,y--),y||h.next(a(u.slice()))},()=>{--l||h.complete()}))},h)},h)}}(h,s,c?l=>(0,w.q)(c,l):Fe.Z));return a?u.pipe((0,o.j)(a)):u}function C(x,s,a){x?(0,d._)(a,x,s):s()}},7228:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{W:()=>o});var g=fe(267),st=fe(6624),Fe=fe(2115);function o(...V){return function Ce(){return(0,g.u)(1)}()((0,Fe.Q)(V,(0,st.e_)(V)))}},1424:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{Q:()=>st});var g=fe(3252),Ce=fe(560);function st(Fe){return new g._(o=>{(0,Ce.Uv)(Fe()).subscribe(o)})}},8960:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{k:()=>Ce});const Ce=new(fe(3252)._)(o=>o.complete())},2115:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{Q:()=>B});var g=fe(560),Ce=fe(9399),st=fe(5448),Fe=fe(7773);function o(F,j=0){return(0,st.i)((k,U)=>{k.subscribe((0,Fe.e)(U,T=>(0,Ce._)(U,F,()=>U.next(T),j),()=>(0,Ce._)(U,F,()=>U.complete(),j),T=>(0,Ce._)(U,F,()=>U.error(T),j)))})}function V(F,j=0){return(0,st.i)((k,U)=>{U.add(F.schedule(()=>k.subscribe(U),j))})}var d=fe(3252),m=fe(3835),C=fe(8880);function s(F,j){if(!F)throw new Error("Iterable cannot be null");return new d._(k=>{(0,Ce._)(k,j,()=>{const U=F[Symbol.asyncIterator]();(0,Ce._)(k,j,()=>{U.next().then(T=>{T.done?k.complete():k.next(T.value)})},0,!0)})})}var a=fe(5099),h=fe(5432),c=fe(5428),u=fe(1688),l=fe(376),y=fe(8272),f=fe(5832);function B(F,j){return j?function D(F,j){if(null!=F){if((0,a.O)(F))return function w(F,j){return(0,g.Uv)(F).pipe(V(j),o(j))}(F,j);if((0,c.G)(F))return function p(F,j){return new d._(k=>{let U=0;return j.schedule(function(){U===F.length?k.complete():(k.next(F[U++]),k.closed||this.schedule())})})}(F,j);if((0,h.u)(F))return function _(F,j){return(0,g.Uv)(F).pipe(V(j),o(j))}(F,j);if((0,l.E)(F))return s(F,j);if((0,u.i)(F))return function x(F,j){return new d._(k=>{let U;return(0,Ce._)(k,j,()=>{U=F[m.w](),(0,Ce._)(k,j,()=>{let T,I;try{({value:T,done:I}=U.next())}catch(M){return void k.error(M)}I?k.complete():k.next(T)},0,!0)}),()=>(0,C.m)(null==U?void 0:U.return)&&U.return()})}(F,j);if((0,f.K)(F))return function b(F,j){return s((0,f._)(F),j)}(F,j)}throw(0,y.W)(F)}(F,j):(0,g.Uv)(F)}},800:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{w:()=>p});var g=fe(560),Ce=fe(3252),st=fe(7400),Fe=fe(5428),o=fe(8880),V=fe(4187);const w=["addListener","removeListener"],_=["addEventListener","removeEventListener"],d=["on","off"];function p(a,h,c,u){if((0,o.m)(c)&&(u=c,c=void 0),u)return p(a,h,c).pipe((0,V.j)(u));const[l,y]=function s(a){return(0,o.m)(a.addEventListener)&&(0,o.m)(a.removeEventListener)}(a)?_.map(f=>b=>a[f](h,b,c)):function C(a){return(0,o.m)(a.addListener)&&(0,o.m)(a.removeListener)}(a)?w.map(m(a,h)):function x(a){return(0,o.m)(a.on)&&(0,o.m)(a.off)}(a)?d.map(m(a,h)):[];if(!l&&(0,Fe.G)(a))return(0,st.O)(f=>p(f,h,c))((0,g.Uv)(a));if(!l)throw new TypeError("Invalid event target");return new Ce._(f=>{const b=(...D)=>f.next(1<D.length?D:D[0]);return l(b),()=>y(b)})}function m(a,h){return c=>u=>a[c](h,u)}},560:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{Uv:()=>x});var g=fe(1316),Ce=fe(5428),st=fe(5432),Fe=fe(3252),o=fe(5099),V=fe(376),w=fe(8272),_=fe(1688),d=fe(5832),p=fe(8880),m=fe(1984),C=fe(472);function x(f){if(f instanceof Fe._)return f;if(null!=f){if((0,o.O)(f))return function s(f){return new Fe._(b=>{const D=f[C.a]();if((0,p.m)(D.subscribe))return D.subscribe(b);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(f);if((0,Ce.G)(f))return function a(f){return new Fe._(b=>{for(let D=0;D<f.length&&!b.closed;D++)b.next(f[D]);b.complete()})}(f);if((0,st.u)(f))return function h(f){return new Fe._(b=>{f.then(D=>{b.closed||(b.next(D),b.complete())},D=>b.error(D)).then(null,m.U)})}(f);if((0,V.E)(f))return u(f);if((0,_.i)(f))return function c(f){return new Fe._(b=>{for(const D of f)if(b.next(D),b.closed)return;b.complete()})}(f);if((0,d.K)(f))return function l(f){return u((0,d._)(f))}(f)}throw(0,w.W)(f)}function u(f){return new Fe._(b=>{(function y(f,b){var D,B,F,j;return(0,g.kH)(this,void 0,void 0,function*(){try{for(D=(0,g.mA)(f);!(B=yield D.next()).done;)if(b.next(B.value),b.closed)return}catch(k){F={error:k}}finally{try{B&&!B.done&&(j=D.return)&&(yield j.call(D))}finally{if(F)throw F.error}}b.complete()})})(f,b).catch(D=>b.error(D))})}},2700:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{of:()=>st});var g=fe(6624),Ce=fe(2115);function st(...Fe){const o=(0,g.e_)(Fe);return(0,Ce.Q)(Fe,o)}},3800:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{c:()=>st});var g=fe(3252),Ce=fe(8880);function st(Fe,o){const V=(0,Ce.m)(Fe)?Fe:()=>Fe,w=_=>_.error(V());return new g._(o?_=>o.schedule(w,0,_):w)}},7773:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{e:()=>Ce});var g=fe(1760);function Ce(Fe,o,V,w,_){return new st(Fe,o,V,w,_)}class st extends g.yR{constructor(o,V,w,_,d,p){super(o),this.onFinalize=d,this.shouldUnsubscribe=p,this._next=V?function(m){try{V(m)}catch(C){o.error(C)}}:super._next,this._error=_?function(m){try{_(m)}catch(C){o.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=w?function(){try{w()}catch(m){o.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:V}=this;super.unsubscribe(),!V&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},6684:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{I:()=>st});var g=fe(5448),Ce=fe(7773);function st(Fe,o){return(0,g.i)((V,w)=>{let _=0;V.subscribe((0,Ce.e)(w,d=>Fe.call(o,d,_++)&&w.next(d)))})}},4704:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{k:()=>st});var g=fe(5448),Ce=fe(7773);function st(Fe,o){return(0,g.i)((V,w)=>{let _=0;V.subscribe((0,Ce.e)(w,d=>{w.next(Fe.call(o,d,_++))}))})}},320:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{e:()=>Ce});var g=fe(4704);function Ce(st){return(0,g.k)(()=>st)}},267:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{u:()=>st});var g=fe(7400),Ce=fe(528);function st(Fe=1/0){return(0,g.O)(Ce.Z,Fe)}},7400:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{O:()=>_});var g=fe(4704),Ce=fe(560),st=fe(5448),Fe=fe(9399),o=fe(7773),w=fe(8880);function _(d,p,m=1/0){return(0,w.m)(p)?_((C,x)=>(0,g.k)((s,a)=>p(C,s,x,a))((0,Ce.Uv)(d(C,x))),m):("number"==typeof p&&(m=p),(0,st.i)((C,x)=>function V(d,p,m,C,x,s,a,h){const c=[];let u=0,l=0,y=!1;const f=()=>{y&&!c.length&&!u&&p.complete()},b=B=>u<C?D(B):c.push(B),D=B=>{s&&p.next(B),u++;let F=!1;(0,Ce.Uv)(m(B,l++)).subscribe((0,o.e)(p,j=>{null==x||x(j),s?b(j):p.next(j)},()=>{F=!0},void 0,()=>{if(F)try{for(u--;c.length&&u<C;){const j=c.shift();a?(0,Fe._)(p,a,()=>D(j)):D(j)}f()}catch(j){p.error(j)}}))};return d.subscribe((0,o.e)(p,b,()=>{y=!0,f()})),()=>{null==h||h()}}(C,x,d,m)))}},8084:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{O:()=>st});var g=fe(5448),Ce=fe(7773);function st(){return(0,g.i)((Fe,o)=>{let V=null;Fe._refCount++;const w=(0,Ce.e)(o,void 0,void 0,void 0,()=>{if(!Fe||Fe._refCount<=0||0<--Fe._refCount)return void(V=null);const _=Fe._connection,d=V;V=null,_&&(!d||_===d)&&_.unsubscribe(),o.unsubscribe()});Fe.subscribe(w),w.closed||(V=Fe.connect())})}},7368:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{G:()=>Fe});var g=fe(560),Ce=fe(5448),st=fe(7773);function Fe(o,V){return(0,Ce.i)((w,_)=>{let d=null,p=0,m=!1;const C=()=>m&&!d&&_.complete();w.subscribe((0,st.e)(_,x=>{null==d||d.unsubscribe();let s=0;const a=p++;(0,g.Uv)(o(x,a)).subscribe(d=(0,st.e)(_,h=>_.next(V?V(x,h,a,s++):h),()=>{d=null,C()}))},()=>{m=!0,C()}))})}},3992:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{U:()=>Fe});var g=fe(8960),Ce=fe(5448),st=fe(7773);function Fe(o){return o<=0?()=>g.k:(0,Ce.i)((V,w)=>{let _=0;V.subscribe((0,st.e)(w,d=>{++_<=o&&(w.next(d),o<=_&&w.complete())}))})}},9212:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{y:()=>o});var g=fe(8880),Ce=fe(5448),st=fe(7773),Fe=fe(528);function o(V,w,_){const d=(0,g.m)(V)||w||_?{next:V,error:w,complete:_}:V;return d?(0,Ce.i)((p,m)=>{var C;null===(C=d.subscribe)||void 0===C||C.call(d);let x=!0;p.subscribe((0,st.e)(m,s=>{var a;null===(a=d.next)||void 0===a||a.call(d,s),m.next(s)},()=>{var s;x=!1,null===(s=d.complete)||void 0===s||s.call(d),m.complete()},s=>{var a;x=!1,null===(a=d.error)||void 0===a||a.call(d,s),m.error(s)},()=>{var s,a;x&&(null===(s=d.unsubscribe)||void 0===s||s.call(d)),null===(a=d.finalize)||void 0===a||a.call(d)}))}):Fe.Z}},3376:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{u:()=>g});const g={setTimeout(Ce,st,...Fe){const{delegate:o}=g;return null!=o&&o.setTimeout?o.setTimeout(Ce,st,...Fe):setTimeout(Ce,st,...Fe)},clearTimeout(Ce){const{delegate:st}=g;return((null==st?void 0:st.clearTimeout)||clearTimeout)(Ce)},delegate:void 0}},3835:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{w:()=>Ce});const Ce=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},472:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{a:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6624:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{_8:()=>V,e_:()=>o,yu:()=>Fe});var g=fe(8880),Ce=fe(3048);function st(w){return w[w.length-1]}function Fe(w){return(0,g.m)(st(w))?w.pop():void 0}function o(w){return(0,Ce.G)(st(w))?w.pop():void 0}function V(w,_){return"number"==typeof st(w)?w.pop():_}},4300:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{Q:()=>o});const{isArray:g}=Array,{getPrototypeOf:Ce,prototype:st,keys:Fe}=Object;function o(w){if(1===w.length){const _=w[0];if(g(_))return{args:_,keys:null};if(function V(w){return w&&"object"==typeof w&&Ce(w)===st}(_)){const d=Fe(_);return{args:d.map(p=>_[p]),keys:d}}}return{args:w,keys:null}}},1248:(pn,Vt,fe)=>{"use strict";function g(Ce,st){if(Ce){const Fe=Ce.indexOf(st);0<=Fe&&Ce.splice(Fe,1)}}fe.d(Vt,{k:()=>g})},4912:(pn,Vt,fe)=>{"use strict";function g(Ce){const Fe=Ce(o=>{Error.call(o),o.stack=(new Error).stack});return Fe.prototype=Object.create(Error.prototype),Fe.prototype.constructor=Fe,Fe}fe.d(Vt,{w:()=>g})},7904:(pn,Vt,fe)=>{"use strict";function g(Ce,st){return Ce.reduce((Fe,o,V)=>(Fe[o]=st[V],Fe),{})}fe.d(Vt,{q:()=>g})},2075:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{c:()=>st,q:()=>Fe});var g=fe(4491);let Ce=null;function st(o){if(g.config.useDeprecatedSynchronousErrorHandling){const V=!Ce;if(V&&(Ce={errorThrown:!1,error:null}),o(),V){const{errorThrown:w,error:_}=Ce;if(Ce=null,w)throw _}}else o()}function Fe(o){g.config.useDeprecatedSynchronousErrorHandling&&Ce&&(Ce.errorThrown=!0,Ce.error=o)}},9399:(pn,Vt,fe)=>{"use strict";function g(Ce,st,Fe,o=0,V=!1){const w=st.schedule(function(){Fe(),V?Ce.add(this.schedule(null,o)):this.unsubscribe()},o);if(Ce.add(w),!V)return w}fe.d(Vt,{_:()=>g})},528:(pn,Vt,fe)=>{"use strict";function g(Ce){return Ce}fe.d(Vt,{Z:()=>g})},5428:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{G:()=>g});const g=Ce=>Ce&&"number"==typeof Ce.length&&"function"!=typeof Ce},376:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{E:()=>Ce});var g=fe(8880);function Ce(st){return Symbol.asyncIterator&&(0,g.m)(null==st?void 0:st[Symbol.asyncIterator])}},8880:(pn,Vt,fe)=>{"use strict";function g(Ce){return"function"==typeof Ce}fe.d(Vt,{m:()=>g})},5099:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{O:()=>st});var g=fe(472),Ce=fe(8880);function st(Fe){return(0,Ce.m)(Fe[g.a])}},1688:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{i:()=>st});var g=fe(3835),Ce=fe(8880);function st(Fe){return(0,Ce.m)(null==Fe?void 0:Fe[g.w])}},5432:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{u:()=>Ce});var g=fe(8880);function Ce(st){return(0,g.m)(null==st?void 0:st.then)}},5832:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{K:()=>Fe,_:()=>st});var g=fe(1316),Ce=fe(8880);function st(o){return(0,g.o7)(this,arguments,function*(){const w=o.getReader();try{for(;;){const{value:_,done:d}=yield(0,g.U1)(w.read());if(d)return yield(0,g.U1)(void 0);yield yield(0,g.U1)(_)}}finally{w.releaseLock()}})}function Fe(o){return(0,Ce.m)(null==o?void 0:o.getReader)}},3048:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{G:()=>Ce});var g=fe(8880);function Ce(st){return st&&(0,g.m)(st.schedule)}},5448:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{e:()=>Ce,i:()=>st});var g=fe(8880);function Ce(Fe){return(0,g.m)(null==Fe?void 0:Fe.lift)}function st(Fe){return o=>{if(Ce(o))return o.lift(function(V){try{return Fe(V,this)}catch(w){this.error(w)}});throw new TypeError("Unable to lift unknown Observable type")}}},4187:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{j:()=>Fe});var g=fe(4704);const{isArray:Ce}=Array;function Fe(o){return(0,g.k)(V=>function st(o,V){return Ce(V)?o(...V):o(V)}(o,V))}},308:(pn,Vt,fe)=>{"use strict";function g(){}fe.d(Vt,{K:()=>g})},3928:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{W:()=>Ce,Y:()=>st});var g=fe(528);function Ce(...Fe){return st(Fe)}function st(Fe){return 0===Fe.length?g.Z:1===Fe.length?Fe[0]:function(V){return Fe.reduce((w,_)=>_(w),V)}}},1984:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{U:()=>st});var g=fe(4491),Ce=fe(3376);function st(Fe){Ce.u.setTimeout(()=>{const{onUnhandledError:o}=g.config;if(!o)throw Fe;o(Fe)})}},8272:(pn,Vt,fe)=>{"use strict";function g(Ce){return new TypeError(`You provided ${null!==Ce&&"object"==typeof Ce?"an invalid object":`'${Ce}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}fe.d(Vt,{W:()=>g})},1480:(pn,Vt,fe)=>{var g={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function Ce(st){if(!fe.o(g,st))return Promise.resolve().then(()=>{var V=new Error("Cannot find module '"+st+"'");throw V.code="MODULE_NOT_FOUND",V});var Fe=g[st],o=Fe[0];return Promise.all(Fe.slice(1).map(fe.e)).then(()=>fe(o))}Ce.keys=()=>Object.keys(g),Ce.id=1480,pn.exports=Ce},996:(pn,Vt,fe)=>{var g={"./pwa-action-sheet.entry.js":[2152,2152],"./pwa-camera-modal-instance.entry.js":[1148,1148],"./pwa-camera-modal.entry.js":[6056,6056],"./pwa-camera.entry.js":[580,580],"./pwa-toast.entry.js":[3276,3276]};function Ce(st){if(!fe.o(g,st))return Promise.resolve().then(()=>{var V=new Error("Cannot find module '"+st+"'");throw V.code="MODULE_NOT_FOUND",V});var Fe=g[st],o=Fe[0];return fe.e(Fe[1]).then(()=>fe(o))}Ce.keys=()=>Object.keys(g),Ce.id=996,pn.exports=Ce},6636:(pn,Vt,fe)=>{var g=fe(9848).default;function Ce(){"use strict";pn.exports=Ce=function(){return Fe},pn.exports.__esModule=!0,pn.exports.default=pn.exports;var st,Fe={},o=Object.prototype,V=o.hasOwnProperty,w=Object.defineProperty||function(ie,te,z){ie[te]=z.value},_="function"==typeof Symbol?Symbol:{},d=_.iterator||"@@iterator",p=_.asyncIterator||"@@asyncIterator",m=_.toStringTag||"@@toStringTag";function C(ie,te,z){return Object.defineProperty(ie,te,{value:z,enumerable:!0,configurable:!0,writable:!0}),ie[te]}try{C({},"")}catch{C=function(z,oe,le){return z[oe]=le}}function x(ie,te,z,oe){var Ee=Object.create((te&&te.prototype instanceof y?te:y).prototype),W=new K(oe||[]);return w(Ee,"_invoke",{value:T(ie,z,W)}),Ee}function s(ie,te,z){try{return{type:"normal",arg:ie.call(te,z)}}catch(oe){return{type:"throw",arg:oe}}}Fe.wrap=x;var a="suspendedStart",h="suspendedYield",c="executing",u="completed",l={};function y(){}function f(){}function b(){}var D={};C(D,d,function(){return this});var B=Object.getPrototypeOf,F=B&&B(B(Y([])));F&&F!==o&&V.call(F,d)&&(D=F);var j=b.prototype=y.prototype=Object.create(D);function k(ie){["next","throw","return"].forEach(function(te){C(ie,te,function(z){return this._invoke(te,z)})})}function U(ie,te){function z(le,Ee,W,R){var ne=s(ie[le],ie,Ee);if("throw"!==ne.type){var ue=ne.arg,we=ue.value;return we&&"object"==g(we)&&V.call(we,"__await")?te.resolve(we.__await).then(function(je){z("next",je,W,R)},function(je){z("throw",je,W,R)}):te.resolve(we).then(function(je){ue.value=je,W(ue)},function(je){return z("throw",je,W,R)})}R(ne.arg)}var oe;w(this,"_invoke",{value:function(Ee,W){function R(){return new te(function(ne,ue){z(Ee,W,ne,ue)})}return oe=oe?oe.then(R,R):R()}})}function T(ie,te,z){var oe=a;return function(le,Ee){if(oe===c)throw new Error("Generator is already running");if(oe===u){if("throw"===le)throw Ee;return{value:st,done:!0}}for(z.method=le,z.arg=Ee;;){var W=z.delegate;if(W){var R=I(W,z);if(R){if(R===l)continue;return R}}if("next"===z.method)z.sent=z._sent=z.arg;else if("throw"===z.method){if(oe===a)throw oe=u,z.arg;z.dispatchException(z.arg)}else"return"===z.method&&z.abrupt("return",z.arg);oe=c;var ne=s(ie,te,z);if("normal"===ne.type){if(oe=z.done?u:h,ne.arg===l)continue;return{value:ne.arg,done:z.done}}"throw"===ne.type&&(oe=u,z.method="throw",z.arg=ne.arg)}}}function I(ie,te){var z=te.method,oe=ie.iterator[z];if(oe===st)return te.delegate=null,"throw"===z&&ie.iterator.return&&(te.method="return",te.arg=st,I(ie,te),"throw"===te.method)||"return"!==z&&(te.method="throw",te.arg=new TypeError("The iterator does not provide a '"+z+"' method")),l;var le=s(oe,ie.iterator,te.arg);if("throw"===le.type)return te.method="throw",te.arg=le.arg,te.delegate=null,l;var Ee=le.arg;return Ee?Ee.done?(te[ie.resultName]=Ee.value,te.next=ie.nextLoc,"return"!==te.method&&(te.method="next",te.arg=st),te.delegate=null,l):Ee:(te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,l)}function M(ie){var te={tryLoc:ie[0]};1 in ie&&(te.catchLoc=ie[1]),2 in ie&&(te.finallyLoc=ie[2],te.afterLoc=ie[3]),this.tryEntries.push(te)}function q(ie){var te=ie.completion||{};te.type="normal",delete te.arg,ie.completion=te}function K(ie){this.tryEntries=[{tryLoc:"root"}],ie.forEach(M,this),this.reset(!0)}function Y(ie){if(ie||""===ie){var te=ie[d];if(te)return te.call(ie);if("function"==typeof ie.next)return ie;if(!isNaN(ie.length)){var z=-1,oe=function le(){for(;++z<ie.length;)if(V.call(ie,z))return le.value=ie[z],le.done=!1,le;return le.value=st,le.done=!0,le};return oe.next=oe}}throw new TypeError(g(ie)+" is not iterable")}return f.prototype=b,w(j,"constructor",{value:b,configurable:!0}),w(b,"constructor",{value:f,configurable:!0}),f.displayName=C(b,m,"GeneratorFunction"),Fe.isGeneratorFunction=function(ie){var te="function"==typeof ie&&ie.constructor;return!!te&&(te===f||"GeneratorFunction"===(te.displayName||te.name))},Fe.mark=function(ie){return Object.setPrototypeOf?Object.setPrototypeOf(ie,b):(ie.__proto__=b,C(ie,m,"GeneratorFunction")),ie.prototype=Object.create(j),ie},Fe.awrap=function(ie){return{__await:ie}},k(U.prototype),C(U.prototype,p,function(){return this}),Fe.AsyncIterator=U,Fe.async=function(ie,te,z,oe,le){void 0===le&&(le=Promise);var Ee=new U(x(ie,te,z,oe),le);return Fe.isGeneratorFunction(te)?Ee:Ee.next().then(function(W){return W.done?W.value:Ee.next()})},k(j),C(j,m,"Generator"),C(j,d,function(){return this}),C(j,"toString",function(){return"[object Generator]"}),Fe.keys=function(ie){var te=Object(ie),z=[];for(var oe in te)z.push(oe);return z.reverse(),function le(){for(;z.length;){var Ee=z.pop();if(Ee in te)return le.value=Ee,le.done=!1,le}return le.done=!0,le}},Fe.values=Y,K.prototype={constructor:K,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=st,this.done=!1,this.delegate=null,this.method="next",this.arg=st,this.tryEntries.forEach(q),!te)for(var z in this)"t"===z.charAt(0)&&V.call(this,z)&&!isNaN(+z.slice(1))&&(this[z]=st)},stop:function(){this.done=!0;var te=this.tryEntries[0].completion;if("throw"===te.type)throw te.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var z=this;function oe(ue,we){return W.type="throw",W.arg=te,z.next=ue,we&&(z.method="next",z.arg=st),!!we}for(var le=this.tryEntries.length-1;le>=0;--le){var Ee=this.tryEntries[le],W=Ee.completion;if("root"===Ee.tryLoc)return oe("end");if(Ee.tryLoc<=this.prev){var R=V.call(Ee,"catchLoc"),ne=V.call(Ee,"finallyLoc");if(R&&ne){if(this.prev<Ee.catchLoc)return oe(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return oe(Ee.finallyLoc)}else if(R){if(this.prev<Ee.catchLoc)return oe(Ee.catchLoc,!0)}else{if(!ne)throw new Error("try statement without catch or finally");if(this.prev<Ee.finallyLoc)return oe(Ee.finallyLoc)}}}},abrupt:function(te,z){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var le=this.tryEntries[oe];if(le.tryLoc<=this.prev&&V.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var Ee=le;break}}Ee&&("break"===te||"continue"===te)&&Ee.tryLoc<=z&&z<=Ee.finallyLoc&&(Ee=null);var W=Ee?Ee.completion:{};return W.type=te,W.arg=z,Ee?(this.method="next",this.next=Ee.finallyLoc,l):this.complete(W)},complete:function(te,z){if("throw"===te.type)throw te.arg;return"break"===te.type||"continue"===te.type?this.next=te.arg:"return"===te.type?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):"normal"===te.type&&z&&(this.next=z),l},finish:function(te){for(var z=this.tryEntries.length-1;z>=0;--z){var oe=this.tryEntries[z];if(oe.finallyLoc===te)return this.complete(oe.completion,oe.afterLoc),q(oe),l}},catch:function(te){for(var z=this.tryEntries.length-1;z>=0;--z){var oe=this.tryEntries[z];if(oe.tryLoc===te){var le=oe.completion;if("throw"===le.type){var Ee=le.arg;q(oe)}return Ee}}throw new Error("illegal catch attempt")},delegateYield:function(te,z,oe){return this.delegate={iterator:Y(te),resultName:z,nextLoc:oe},"next"===this.method&&(this.arg=st),l}},Fe}pn.exports=Ce,pn.exports.__esModule=!0,pn.exports.default=pn.exports},9848:pn=>{function Vt(fe){return pn.exports=Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},pn.exports.__esModule=!0,pn.exports.default=pn.exports,Vt(fe)}pn.exports=Vt,pn.exports.__esModule=!0,pn.exports.default=pn.exports},3248:(pn,Vt,fe)=>{var g=fe(6636)();pn.exports=g;try{regeneratorRuntime=g}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=g:Function("r","regeneratorRuntime = r")(g)}},1368:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{MD:()=>xo,MP:()=>c,OM:()=>Ro,Qd:()=>s,Sg:()=>He,Ud:()=>w,XV:()=>Xt,YZ:()=>Xn,_k:()=>Dr,ay:()=>Un,c0:()=>po,mQ:()=>d,mg:()=>o,oB:()=>u,uC:()=>h,u_:()=>nr,uf:()=>qo,ug:()=>Fe,uy:()=>st});var g=fe(4496);let Ce=null;function st(){return Ce}function Fe(he){var Ae;null!==(Ae=Ce)&&void 0!==Ae||(Ce=he)}class o{}const w=new g.UbH("");let _=(()=>{var he;class Ae{historyGo(Te){throw new Error("")}}return(he=Ae).\u0275fac=function(Te){return new(Te||he)},he.\u0275prov=g.wxM({token:he,factory:()=>(0,g.uUt)(p),providedIn:"platform"}),Ae})();const d=new g.UbH("");let p=(()=>{var he;class Ae extends _{constructor(){super(),this._doc=(0,g.uUt)(w),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return st().getBaseHref(this._doc)}onPopState(Te){const lt=st().getGlobalEventTarget(this._doc,"window");return lt.addEventListener("popstate",Te,!1),()=>lt.removeEventListener("popstate",Te)}onHashChange(Te){const lt=st().getGlobalEventTarget(this._doc,"window");return lt.addEventListener("hashchange",Te,!1),()=>lt.removeEventListener("hashchange",Te)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Te){this._location.pathname=Te}pushState(Te,lt,At){this._history.pushState(Te,lt,At)}replaceState(Te,lt,At){this._history.replaceState(Te,lt,At)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Te=0){this._history.go(Te)}getState(){return this._history.state}}return(he=Ae).\u0275fac=function(Te){return new(Te||he)},he.\u0275prov=g.wxM({token:he,factory:()=>new he,providedIn:"platform"}),Ae})();function m(he,Ae){if(0==he.length)return Ae;if(0==Ae.length)return he;let bt=0;return he.endsWith("/")&&bt++,Ae.startsWith("/")&&bt++,2==bt?he+Ae.substring(1):1==bt?he+Ae:he+"/"+Ae}function C(he){const Ae=he.match(/#|\?|$/),bt=Ae&&Ae.index||he.length;return he.slice(0,bt-("/"===he[bt-1]?1:0))+he.slice(bt)}function x(he){return he&&"?"!==he[0]?"?"+he:he}let s=(()=>{var he;class Ae{historyGo(Te){throw new Error("")}}return(he=Ae).\u0275fac=function(Te){return new(Te||he)},he.\u0275prov=g.wxM({token:he,factory:()=>(0,g.uUt)(h),providedIn:"root"}),Ae})();const a=new g.UbH("");let h=(()=>{var he;class Ae extends s{constructor(Te,lt){var At,dn,Tn;super(),this._platformLocation=Te,this._removeListenerFns=[],this._baseHref=null!==(At=null!==(dn=null!=lt?lt:this._platformLocation.getBaseHrefFromDOM())&&void 0!==dn?dn:null===(Tn=(0,g.uUt)(w).location)||void 0===Tn?void 0:Tn.origin)&&void 0!==At?At:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Te){this._removeListenerFns.push(this._platformLocation.onPopState(Te),this._platformLocation.onHashChange(Te))}getBaseHref(){return this._baseHref}prepareExternalUrl(Te){return m(this._baseHref,Te)}path(Te=!1){const lt=this._platformLocation.pathname+x(this._platformLocation.search),At=this._platformLocation.hash;return At&&Te?`${lt}${At}`:lt}pushState(Te,lt,At,dn){const Tn=this.prepareExternalUrl(At+x(dn));this._platformLocation.pushState(Te,lt,Tn)}replaceState(Te,lt,At,dn){const Tn=this.prepareExternalUrl(At+x(dn));this._platformLocation.replaceState(Te,lt,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Te=0){var lt,At;null===(lt=(At=this._platformLocation).historyGo)||void 0===lt||lt.call(At,Te)}}return(he=Ae).\u0275fac=function(Te){return new(Te||he)(g.CoB(_),g.CoB(a,8))},he.\u0275prov=g.wxM({token:he,factory:he.\u0275fac,providedIn:"root"}),Ae})(),c=(()=>{var he;class Ae extends s{constructor(Te,lt){super(),this._platformLocation=Te,this._baseHref="",this._removeListenerFns=[],null!=lt&&(this._baseHref=lt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Te){this._removeListenerFns.push(this._platformLocation.onPopState(Te),this._platformLocation.onHashChange(Te))}getBaseHref(){return this._baseHref}path(Te=!1){var lt;const At=null!==(lt=this._platformLocation.hash)&&void 0!==lt?lt:"#";return At.length>0?At.substring(1):At}prepareExternalUrl(Te){const lt=m(this._baseHref,Te);return lt.length>0?"#"+lt:lt}pushState(Te,lt,At,dn){let Tn=this.prepareExternalUrl(At+x(dn));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.pushState(Te,lt,Tn)}replaceState(Te,lt,At,dn){let Tn=this.prepareExternalUrl(At+x(dn));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.replaceState(Te,lt,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Te=0){var lt,At;null===(lt=(At=this._platformLocation).historyGo)||void 0===lt||lt.call(At,Te)}}return(he=Ae).\u0275fac=function(Te){return new(Te||he)(g.CoB(_),g.CoB(a,8))},he.\u0275prov=g.wxM({token:he,factory:he.\u0275fac}),Ae})(),u=(()=>{var he;class Ae{constructor(Te){this._subject=new g._w7,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Te;const lt=this._locationStrategy.getBaseHref();this._basePath=function b(he){if(new RegExp("^(https?:)?//").test(he)){const[,bt]=he.split(/\/\/[^\/]+/);return bt}return he}(C(f(lt))),this._locationStrategy.onPopState(At=>{this._subject.emit({url:this.path(!0),pop:!0,state:At.state,type:At.type})})}ngOnDestroy(){var Te;null===(Te=this._urlChangeSubscription)||void 0===Te||Te.unsubscribe(),this._urlChangeListeners=[]}path(Te=!1){return this.normalize(this._locationStrategy.path(Te))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Te,lt=""){return this.path()==this.normalize(Te+x(lt))}normalize(Te){return Ae.stripTrailingSlash(function y(he,Ae){if(!he||!Ae.startsWith(he))return Ae;const bt=Ae.substring(he.length);return""===bt||["/",";","?","#"].includes(bt[0])?bt:Ae}(this._basePath,f(Te)))}prepareExternalUrl(Te){return Te&&"/"!==Te[0]&&(Te="/"+Te),this._locationStrategy.prepareExternalUrl(Te)}go(Te,lt="",At=null){this._locationStrategy.pushState(At,"",Te,lt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Te+x(lt)),At)}replaceState(Te,lt="",At=null){this._locationStrategy.replaceState(At,"",Te,lt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Te+x(lt)),At)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Te=0){var lt,At;null===(lt=(At=this._locationStrategy).historyGo)||void 0===lt||lt.call(At,Te)}onUrlChange(Te){var lt;return this._urlChangeListeners.push(Te),null!==(lt=this._urlChangeSubscription)&&void 0!==lt||(this._urlChangeSubscription=this.subscribe(At=>{this._notifyUrlChangeListeners(At.url,At.state)})),()=>{const At=this._urlChangeListeners.indexOf(Te);var dn;this._urlChangeListeners.splice(At,1),0===this._urlChangeListeners.length&&(null===(dn=this._urlChangeSubscription)||void 0===dn||dn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Te="",lt){this._urlChangeListeners.forEach(At=>At(Te,lt))}subscribe(Te,lt,At){return this._subject.subscribe({next:Te,error:lt,complete:At})}}return(he=Ae).normalizeQueryParams=x,he.joinWithSlash=m,he.stripTrailingSlash=C,he.\u0275fac=function(Te){return new(Te||he)(g.CoB(s))},he.\u0275prov=g.wxM({token:he,factory:()=>function l(){return new u((0,g.CoB)(s))}(),providedIn:"root"}),Ae})();function f(he){return he.replace(/\/index.html$/,"")}function He(he,Ae){Ae=encodeURIComponent(Ae);for(const bt of he.split(";")){const Te=bt.indexOf("="),[lt,At]=-1==Te?[bt,""]:[bt.slice(0,Te),bt.slice(Te+1)];if(lt.trim()===Ae)return decodeURIComponent(At)}return null}class kn{constructor(Ae,bt,Te,lt){this.$implicit=Ae,this.ngForOf=bt,this.index=Te,this.count=lt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Un=(()=>{var he;class Ae{set ngForOf(Te){this._ngForOf=Te,this._ngForOfDirty=!0}set ngForTrackBy(Te){this._trackByFn=Te}get ngForTrackBy(){return this._trackByFn}constructor(Te,lt,At){this._viewContainer=Te,this._template=lt,this._differs=At,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Te){Te&&(this._template=Te)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Te=this._ngForOf;!this._differ&&Te&&(this._differ=this._differs.find(Te).create(this.ngForTrackBy))}if(this._differ){const Te=this._differ.diff(this._ngForOf);Te&&this._applyChanges(Te)}}_applyChanges(Te){const lt=this._viewContainer;Te.forEachOperation((At,dn,Tn)=>{if(null==At.previousIndex)lt.createEmbeddedView(this._template,new kn(At.item,this._ngForOf,-1,-1),null===Tn?void 0:Tn);else if(null==Tn)lt.remove(null===dn?void 0:dn);else if(null!==dn){const or=lt.get(dn);lt.move(or,Tn),Ln(or,At)}});for(let At=0,dn=lt.length;At<dn;At++){const or=lt.get(At).context;or.index=At,or.count=dn,or.ngForOf=this._ngForOf}Te.forEachIdentityChange(At=>{Ln(lt.get(At.currentIndex),At)})}static ngTemplateContextGuard(Te,lt){return!0}}return(he=Ae).\u0275fac=function(Te){return new(Te||he)(g.GI1(g.y8U),g.GI1(g.Yw2),g.GI1(g.Uj7))},he.\u0275dir=g.Sc5({type:he,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Ae})();function Ln(he,Ae){he.context.$implicit=Ae.item}let nr=(()=>{var he;class Ae{constructor(Te,lt){this._viewContainer=Te,this._context=new ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=lt}set ngIf(Te){this._context.$implicit=this._context.ngIf=Te,this._updateView()}set ngIfThen(Te){wt("ngIfThen",Te),this._thenTemplateRef=Te,this._thenViewRef=null,this._updateView()}set ngIfElse(Te){wt("ngIfElse",Te),this._elseTemplateRef=Te,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Te,lt){return!0}}return(he=Ae).\u0275fac=function(Te){return new(Te||he)(g.GI1(g.y8U),g.GI1(g.Yw2))},he.\u0275dir=g.Sc5({type:he,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Ae})();class ft{constructor(){this.$implicit=null,this.ngIf=null}}function wt(he,Ae){if(Ae&&!Ae.createEmbeddedView)throw new Error(`${he} must be a TemplateRef, but received '${(0,g.GEN)(Ae)}'.`)}let Xt=(()=>{var he;class Ae{constructor(Te){this._viewContainerRef=Te,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Te){if(this._shouldRecreateView(Te)){var lt;const At=this._viewContainerRef;if(this._viewRef&&At.remove(At.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const dn=this._createContextForwardProxy();this._viewRef=At.createEmbeddedView(this.ngTemplateOutlet,dn,{injector:null!==(lt=this.ngTemplateOutletInjector)&&void 0!==lt?lt:void 0})}}_shouldRecreateView(Te){return!!Te.ngTemplateOutlet||!!Te.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Te,lt,At)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,lt,At),get:(Te,lt,At)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,lt,At)}})}}return(he=Ae).\u0275fac=function(Te){return new(Te||he)(g.GI1(g.y8U))},he.\u0275dir=g.Sc5({type:he,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.SYr]}),Ae})(),xo=(()=>{var he;class Ae{}return(he=Ae).\u0275fac=function(Te){return new(Te||he)},he.\u0275mod=g.a4G({type:he}),he.\u0275inj=g.s3X({}),Ae})();const Dr="browser",So="server";function po(he){return he===Dr}function qo(he){return he===So}let Xn=(()=>{var he;class Ae{}return(he=Ae).\u0275prov=(0,g.wxM)({token:he,providedIn:"root",factory:()=>po((0,g.uUt)(g.AHE))?new Uo((0,g.uUt)(w),window):new co}),Ae})();class Uo{constructor(Ae,bt){this.document=Ae,this.window=bt,this.offset=()=>[0,0]}setOffset(Ae){this.offset=Array.isArray(Ae)?()=>Ae:Ae}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Ae){this.window.scrollTo(Ae[0],Ae[1])}scrollToAnchor(Ae){const bt=function oo(he,Ae){const bt=he.getElementById(Ae)||he.getElementsByName(Ae)[0];if(bt)return bt;if("function"==typeof he.createTreeWalker&&he.body&&"function"==typeof he.body.attachShadow){const Te=he.createTreeWalker(he.body,NodeFilter.SHOW_ELEMENT);let lt=Te.currentNode;for(;lt;){const At=lt.shadowRoot;if(At){const dn=At.getElementById(Ae)||At.querySelector(`[name="${Ae}"]`);if(dn)return dn}lt=Te.nextNode()}}return null}(this.document,Ae);bt&&(this.scrollToElement(bt),bt.focus())}setHistoryScrollRestoration(Ae){this.window.history.scrollRestoration=Ae}scrollToElement(Ae){const bt=Ae.getBoundingClientRect(),Te=bt.left+this.window.pageXOffset,lt=bt.top+this.window.pageYOffset,At=this.offset();this.window.scrollTo(Te-At[0],lt-At[1])}}class co{setOffset(Ae){}getScrollPosition(){return[0,0]}scrollToPosition(Ae){}scrollToAnchor(Ae){}setHistoryScrollRestoration(Ae){}}class Ro{}},4496:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{qid:()=>ff,QHP:()=>me,kZF:()=>L0,Ev2:()=>iI,Swk:()=>Xi,YND:()=>an,kD9:()=>X0,ESV:()=>A2,ayF:()=>B2,syz:()=>is,GMv:()=>Bi,SIe:()=>di,eAe:()=>Vi,_w7:()=>Je,_6O:()=>pt,UbH:()=>xe,zZn:()=>ti,Uj7:()=>wf,YNh:()=>xf,KYU:()=>dc,obV:()=>kg,oF$:()=>hs,WW2:()=>io,T7N:()=>Xl,AHE:()=>ht,crf:()=>ot,q87:()=>sx,O8F:()=>Vm,yzm:()=>_u,SI6:()=>us,Qfh:()=>Kl,Yw2:()=>al,G4X:()=>D2,eOv:()=>k0,a8Z:()=>I0,y8U:()=>Uu,K6R:()=>Cn,I44:()=>Km,cZD:()=>jI,kdu:()=>GI,SIz:()=>mh,Gk1:()=>lC,grM:()=>W0,agy:()=>H2,wd:()=>Sr,uUt:()=>wr,_Ap:()=>qn,AFj:()=>Ql,m4O:()=>oI,o9M:()=>$I,SMS:()=>nb,sRj:()=>RI,oPY:()=>M0,i4S:()=>Xc,GUM:()=>ba,g9Y:()=>ta,OBp:()=>tt,aS5:()=>P0,Mn9:()=>j0,Y8L:()=>Qe,Om8:()=>Op,ozE:()=>mu,K2p:()=>qs,GM_:()=>zb,u8n:()=>Kb,ER9:()=>Yb,Vfw:()=>qb,Gc:()=>Xb,iMv:()=>$h,G58:()=>_t,y02:()=>Ly,IHs:()=>Dn,K_M:()=>Of,Guz:()=>Wi,w5$:()=>df,gX2:()=>R0,auf:()=>Mc,GEN:()=>Re,E2t:()=>Ri,eg9:()=>hh,Wk5:()=>Ie,QJr:()=>jg,SYr:()=>ed,M5G:()=>Xv,UHJ:()=>Kv,yG2:()=>lm,e48:()=>Dh,eAK:()=>Ph,szK:()=>Ev,In1:()=>Ht,Sc5:()=>qe,wxM:()=>Fr,s3X:()=>rs,a4G:()=>Ge,UTH:()=>Et,GI1:()=>Ks,wR5:()=>Fh,C_f:()=>Gh,C$Y:()=>ec,I0R:()=>Zu,KQA:()=>jy,otF:()=>up,CoB:()=>Ao,gJ8:()=>ud,KEo:()=>cm,qCj:()=>Wh,Gqi:()=>Iv,GaO:()=>hv,_Xx:()=>pv,kPM:()=>fv,E7m:()=>Oh,CI5:()=>ic,q4q:()=>s0,wto:()=>Dv,Gew:()=>Mv,CGJ:()=>Oa,usT:()=>bs,K6U:()=>yd,YFg:()=>Pp,m_g:()=>hi,yuY:()=>na,OEk:()=>Fv,cNF:()=>qh,oRS:()=>sc,CAO:()=>Yh,kNx:()=>qv,iHE:()=>Kh,OKB:()=>Xh,CC$:()=>Sv}),fe(1528);let st=null,o=1;const V=Symbol("SIGNAL");function w(t){const n=st;return st=t,n}function s(t){if((!B(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==o)){if(!t.producerMustRecompute(t)&&!y(t))return t.dirty=!1,void(t.lastCleanEpoch=o);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=o}}function y(t){F(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==r.version||(s(r),i!==r.version))return!0}return!1}function D(t,n){if(function j(t){var n,r;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(r=t.liveConsumerIndexOfThis)&&void 0!==r||(t.liveConsumerIndexOfThis=[])}(t),F(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)D(t.producerNode[i],t.producerIndexOfThis[i]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],v=t.liveConsumerNode[n];F(v),v.producerIndexOfThis[i]=n}}function B(t){var n,r;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(r=t.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function F(t){var n,r,i;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(r=t.producerIndexOfThis)&&void 0!==r||(t.producerIndexOfThis=[]),null!==(i=t.producerLastReadVersion)&&void 0!==i||(t.producerLastReadVersion=[])}let K=null;var We=fe(5657),Oe=fe(4548),Pe=fe(6700),$e=fe(4704);const Qe="https://g.co/ng/security#xss";class tt extends Error{constructor(n,r){super(_t(n,r)),this.code=n}}function _t(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function ge(t){return n=>{setTimeout(t,void 0,n)}}const Je=class Tt extends We.E{constructor(n=!1){super(),this.__isAsync=n}emit(n){const r=w(null);try{super.next(n)}finally{w(r)}}subscribe(n,r,i){let v=n,P=r||(()=>null),$=i;if(n&&"object"==typeof n){var re,de,De;const nt=n;v=null===(re=nt.next)||void 0===re?void 0:re.bind(nt),P=null===(de=nt.error)||void 0===de?void 0:de.bind(nt),$=null===(De=nt.complete)||void 0===De?void 0:De.bind(nt)}this.__isAsync&&(P=ge(P),v&&(v=ge(v)),$&&($=ge($)));const Ve=super.subscribe({next:v,error:P,complete:$});return n instanceof Oe.wH&&n.add(Ve),Ve}};var pt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pt||{});function Re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Ne(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}var wn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wn||{}),Cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Cn||{});function Sn(t){return{toString:t}.toString()}const Dn=globalThis,lr={},Z=[];function be(t){for(let n in t)if(t[n]===be)return n;throw Error("Could not find renamed property on target object.")}function ye(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}const E=be({\u0275cmp:be}),N=be({\u0275dir:be}),L=be({\u0275pipe:be}),H=be({\u0275mod:be}),ee=be({\u0275fac:be}),Q=be({__NG_ELEMENT_ID__:be}),pe=be({__NG_ENV_ID__:be});var Ie=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ie||{});function He(t,n,r){let i=t.length;for(;;){const v=t.indexOf(n,r);if(-1===v)return v;if(0===v||t.charCodeAt(v-1)<=32){const P=n.length;if(v+P===i||t.charCodeAt(v+P)<=32)return v}r=v+1}}function dt(t,n,r){let i=0;for(;i<r.length;){const v=r[i];if("number"==typeof v){if(0!==v)break;i++;const P=r[i++],$=r[i++],re=r[i++];t.setAttribute(n,$,re,P)}else{const P=v,$=r[++i];un(P)?t.setProperty(n,P,$):t.setAttribute(n,P,$),i++}}return i}function Jt(t){return 3===t||4===t||6===t}function un(t){return 64===t.charCodeAt(0)}function ln(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let i=0;i<n.length;i++){const v=n[i];"number"==typeof v?r=v:0===r||fn(t,r,v,null,-1===r||2===r?n[++i]:null)}}return t}function fn(t,n,r,i,v){let P=0,$=t.length;if(-1===n)$=-1;else for(;P<t.length;){const re=t[P++];if("number"==typeof re){if(re===n){$=-1;break}if(re>n){$=P-1;break}}}for(;P<t.length;){const re=t[P];if("number"==typeof re)break;if(re===r){if(null===i)return void(null!==v&&(t[P+1]=v));if(i===t[P+1])return void(t[P+2]=v)}P++,null!==i&&P++,null!==v&&P++}-1!==$&&(t.splice($,0,n),P=$+1),t.splice(P++,0,r),null!==i&&t.splice(P++,0,i),null!==v&&t.splice(P++,0,v)}const kn="ng-template";function Un(t,n,r){let i=0,v=!0;for(;i<t.length;){let P=t[i++];if("string"==typeof P&&v){const $=t[i++];if(r&&"class"===P&&-1!==He($.toLowerCase(),n,0))return!0}else{if(1===P){for(;i<t.length&&"string"==typeof(P=t[i++]);)if(P.toLowerCase()===n)return!0;return!1}"number"==typeof P&&(v=!1)}}return!1}function Ln(t){return 4===t.type&&t.value!==kn}function hr(t,n,r){return n===(4!==t.type||r?t.value:kn)}function nr(t,n,r){let i=4;const v=t.attrs||[],P=function qt(t){for(let n=0;n<t.length;n++)if(Jt(t[n]))return n;return t.length}(v);let $=!1;for(let re=0;re<n.length;re++){const de=n[re];if("number"!=typeof de){if(!$)if(4&i){if(i=2|1&i,""!==de&&!hr(t,de,r)||""===de&&1===n.length){if(ft(i))return!1;$=!0}}else{const De=8&i?de:n[++re];if(8&i&&null!==t.attrs){if(!Un(t.attrs,De,r)){if(ft(i))return!1;$=!0}continue}const nt=wt(8&i?"class":de,v,Ln(t),r);if(-1===nt){if(ft(i))return!1;$=!0;continue}if(""!==De){let Ct;Ct=nt>P?"":v[nt+1].toLowerCase();const Gt=8&i?Ct:null;if(Gt&&-1!==He(Gt,De,0)||2&i&&De!==Ct){if(ft(i))return!1;$=!0}}}}else{if(!$&&!ft(i)&&!ft(de))return!1;if($&&ft(de))continue;$=!1,i=de|1&i}}return ft(i)||$}function ft(t){return 0==(1&t)}function wt(t,n,r,i){if(null===n)return-1;let v=0;if(i||!r){let P=!1;for(;v<n.length;){const $=n[v];if($===t)return v;if(3===$||6===$)P=!0;else{if(1===$||2===$){let re=n[++v];for(;"string"==typeof re;)re=n[++v];continue}if(4===$)break;if(0===$){v+=4;continue}}v+=P?1:2}return-1}return function hn(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const i=t[r];if("number"==typeof i)return-1;if(i===n)return r;r++}return-1}(n,t)}function ze(t,n,r=!1){for(let i=0;i<n.length;i++)if(nr(t,n[i],r))return!0;return!1}function An(t,n){e:for(let r=0;r<n.length;r++){const i=n[r];if(t.length===i.length){for(let v=0;v<t.length;v++)if(t[v]!==i[v])continue e;return!0}}return!1}function Bt(t,n){return t?":not("+n.trim()+")":n}function Le(t){let n=t[0],r=1,i=2,v="",P=!1;for(;r<t.length;){let $=t[r];if("string"==typeof $)if(2&i){const re=t[++r];v+="["+$+(re.length>0?'="'+re+'"':"")+"]"}else 8&i?v+="."+$:4&i&&(v+=" "+$);else""!==v&&!ft($)&&(n+=Bt(P,v),v=""),i=$,P=P||!ft(i);r++}return""!==v&&(n+=Bt(P,v)),n}function Ht(t){return Sn(()=>{var n;const r=Pr(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||Cn.Emulated,styles:t.styles||Z,_:null,schemas:t.schemas||null,tView:null,id:""};Or(i);const v=t.dependencies;return i.directiveDefs=Rr(v,!1),i.pipeDefs=Rr(v,!0),i.id=function Br(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const v of r)n=Math.imul(31,n)+v.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Xt(t){return nn(t)||In(t)}function se(t){return null!==t}function Ge(t){return Sn(()=>({type:t.type,bootstrap:t.bootstrap||Z,declarations:t.declarations||Z,imports:t.imports||Z,exports:t.exports||Z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _e(t,n){if(null==t)return lr;const r={};for(const v in t)if(t.hasOwnProperty(v)){const P=t[v];let $,re,de=Ie.None;var i;Array.isArray(P)?(de=P[0],$=P[1],re=null!==(i=P[2])&&void 0!==i?i:$):($=P,re=P),n?(r[$]=de!==Ie.None?[v,de]:v,n[$]=re):r[$]=v}return r}function qe(t){return Sn(()=>{const n=Pr(t);return Or(n),n})}function Et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function nn(t){return t[E]||null}function In(t){return t[N]||null}function Pn(t){return t[L]||null}function qn(t){const n=nn(t)||In(t)||Pn(t);return null!==n&&n.standalone}function Kn(t,n){const r=t[H]||null;if(!r&&!0===n)throw new Error(`Type ${Re(t)} does not have '\u0275mod' property.`);return r}function Pr(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||lr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Z,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_e(t.inputs,n),outputs:_e(t.outputs),debugInfo:null}}function Or(t){var n;null===(n=t.features)||void 0===n||n.forEach(r=>r(t))}function Rr(t,n){if(!t)return null;const r=n?Pn:Xt;return()=>("function"==typeof t?t():t).map(i=>r(i)).filter(se)}const mr=0,On=1,Gn=2,fr=3,Yr=4,xr=5,Lr=6,uo=7,ur=8,vr=9,$r=10,Yn=11,ro=12,zo=13,xo=14,Dr=15,So=16,To=17,fo=18,po=19,qo=20,jo=21,mo=22,ko=23,Xn=25,Uo=1,co=7,Lo=9,_r=10;var Yo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yo||{});function Vr(t){return Array.isArray(t)&&"object"==typeof t[Uo]}function Hr(t){return Array.isArray(t)&&!0===t[Uo]}function Co(t){return 0!=(4&t.flags)}function Xr(t){return t.componentOffset>-1}function Nn(t){return 1==(1&t.flags)}function Do(t){return!!t.template}function Xo(t){return 0!=(512&t[Gn])}let Ft=!1;function St(t){for(;Array.isArray(t);)t=t[mr];return t}function sn(t,n){return St(n[t])}function cn(t,n){return St(n[t.index])}function en(t,n){return t.data[n]}function Hn(t,n){const r=n[t];return Vr(r)?r:r[mr]}function Vn(t){return 128==(128&t[Gn])}function er(t,n){return null==n?null:t[n]}function Ur(t){t[To]=0}function Kr(t){1024&t[Gn]||(t[Gn]|=1024,Vn(t)&&Cr(t))}function Jr(t){var n;return!!(9216&t[Gn]||null!==(n=t[ko])&&void 0!==n&&n.dirty)}function ho(t){if(Jr(t))Cr(t);else if(64&t[Gn])if(function Kt(){return Ft}())t[Gn]|=1024,Cr(t);else{var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify()}}function Cr(t){var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();let r=kr(t);for(;null!==r&&!(8192&r[Gn])&&(r[Gn]|=8192,Vn(r));)r=kr(r)}function Ir(t,n){if(256==(256&t[Gn]))throw new tt(911,!1);null===t[jo]&&(t[jo]=[]),t[jo].push(n)}function kr(t){const n=t[fr];return Hr(n)?n[fr]:n}const Fn={lFrame:eo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fi(){return Fn.bindingsEnabled}function Ii(){return null!==Fn.skipHydrationRootTNode}function yn(){return Fn.lFrame.lView}function pr(){return Fn.lFrame.tView}function bs(t){return Fn.lFrame.contextLView=t,t[ur]}function Oa(t){return Fn.lFrame.contextLView=null,t}function Ar(){let t=Aa();for(;null!==t&&64===t.type;)t=t.parent;return t}function Aa(){return Fn.lFrame.currentTNode}function Qo(t,n){const r=Fn.lFrame;r.currentTNode=t,r.isParent=n}function ws(){return Fn.lFrame.isParent}function xs(){Fn.lFrame.isParent=!1}function he(){return Fn.lFrame.bindingIndex++}function Ae(t){const n=Fn.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function lt(t,n){const r=Fn.lFrame;r.bindingIndex=r.bindingRootIndex=t,dn(n)}function dn(t){Fn.lFrame.currentDirectiveIndex=t}function or(){return Fn.lFrame.currentQueryIndex}function ir(t){Fn.lFrame.currentQueryIndex=t}function Er(t){const n=t[On];return 2===n.type?n.declTNode:1===n.type?t[xr]:null}function rr(t,n,r){if(r&pt.SkipSelf){let v=n,P=t;for(;!(v=v.parent,null!==v||r&pt.Host||(v=Er(P),null===v||(P=P[xo],10&v.type))););if(null===v)return!1;n=v,t=P}const i=Fn.lFrame=Mr();return i.currentTNode=n,i.lView=t,!0}function Tr(t){const n=Mr(),r=t[On];Fn.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Mr(){const t=Fn.lFrame,n=null===t?null:t.child;return null===n?eo(t):n}function eo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Zo(){const t=Fn.lFrame;return Fn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yo=Zo;function ei(){const t=Zo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zr(){return Fn.lFrame.selectedIndex}function Eo(t){Fn.lFrame.selectedIndex=t}function sr(){const t=Fn.lFrame;return en(t.tView,t.selectedIndex)}let ja=!0;function Ss(){return ja}function Ti(t){ja=t}function wc(){return gi(Ar(),yn())}function gi(t,n){return new Bi(cn(t,n))}let Na,Bi=(()=>{class n{constructor(i){this.nativeElement=i}}return n.__NG_ELEMENT_ID__=wc,n})();function xc(t){return t instanceof Bi?t.nativeElement:t}function Ui(t,n){t.forEach(r=>Array.isArray(r)?Ui(r,n):n(r))}function Cc(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function ka(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function No(t,n,r){let i=Oi(t,n);return i>=0?t[1|i]=r:(i=~i,function Is(t,n,r,i){let v=t.length;if(v==n)t.push(r,i);else if(1===v)t.push(i,t[0]),t[0]=r;else{for(v--,t.push(t[v-1],t[v]);v>n;)t[v]=t[v-2],v--;t[n]=r,t[n+1]=i}}(t,i,n,r)),i}function Fl(t,n){const r=Oi(t,n);if(r>=0)return t[1|r]}function Oi(t,n){return function Sc(t,n,r){let i=0,v=t.length>>r;for(;v!==i;){const P=i+(v-i>>1),$=t[P<<r];if(n===$)return P<<r;$>n?v=P:i=P+1}return~(v<<r)}(t,n,1)}function Mf(){return this._results[Symbol.iterator]()}class Bl{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new Je}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Bl.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Mf)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const i=function Qr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Nl(t,n,r){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let v=t[i],P=n[i];if(r&&(v=r(v),P=r(P)),P!==v)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Ms(t){return 128==(128&t.flags)}function Mc(t){Na=t}function Fr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rs(t){return{providers:t.providers||[],imports:t.imports||[]}}function Os(t){return Tc(t,Ba)||Tc(t,ae)}function Of(t){return null!==Os(t)}function Tc(t,n){return t.hasOwnProperty(n)?t[n]:null}function Fa(t){return t&&(t.hasOwnProperty(Ul)||t.hasOwnProperty(ve))?t[Ul]:null}const Ba=be({\u0275prov:be}),Ul=be({\u0275inj:be}),ae=be({ngInjectableDef:be}),ve=be({ngInjectorDef:be});class xe{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Fr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const me=new xe("",{providedIn:"root",factory:()=>Se}),Se="ng",ot=new xe(""),ht=new xe("",{providedIn:"platform",factory:()=>"unknown"}),an=new xe("",{providedIn:"root",factory:()=>{var t;return(null===(t=function yi(){if(void 0!==Na)return Na;if(typeof document<"u")return document;throw new tt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),qr=be({__forward_ref__:be});function Sr(t){return t.__forward_ref__=Sr,t.toString=function(){return Re(this())},t}function zn(t){return si(t)?t():t}function si(t){return"function"==typeof t&&t.hasOwnProperty(qr)&&t.__forward_ref__===Sr}function Ac(t){return t&&!!t.\u0275providers}function ar(t){return"string"==typeof t?t:null==t?"":String(t)}function Pc(t,n){throw new tt(-201,!1)}let jc;function Pf(){return jc}function $o(t){const n=jc;return jc=t,n}function jf(t,n,r){const i=Os(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:r&pt.Optional?null:void 0!==n?n:void Pc()}const Ua={},kc="__NG_DI_FLAG__",Gl="ngTempTokenPath",T_=/\n/gm,kf="__source";let As;function $i(t){const n=As;return As=t,n}function P_(t,n=pt.Default){if(void 0===As)throw new tt(-203,!1);return null===As?jf(t,void 0,n):As.get(t,n&pt.Optional?null:void 0,n)}function Ao(t,n=pt.Default){return(Pf()||P_)(zn(t),n)}function wr(t,n=pt.Default){return Ao(t,$l(n))}function $l(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rc(t){const n=[];for(let r=0;r<t.length;r++){const i=zn(t[r]);if(Array.isArray(i)){if(0===i.length)throw new tt(900,!1);let v,P=pt.Default;for(let $=0;$<i.length;$++){const re=i[$],de=j_(re);"number"==typeof de?-1===de?v=re.token:P|=de:v=re}n.push(Ao(v,P))}else n.push(Ao(i))}return n}function Ga(t,n){return t[kc]=n,t.prototype[kc]=n,t}function j_(t){return t[kc]}let Lf=()=>null;function Uc(t,n,r=!1){return Lf(t,n,r)}const Ns="__parameters__";function Bs(t,n,r){return Sn(()=>{const i=function Hc(t){return function(...r){if(t){const i=t(...r);for(const v in i)this[v]=i[v]}}}(n);function v(...P){if(this instanceof v)return i.apply(this,P),this;const $=new v(...P);return re.annotation=$,re;function re(de,De,Ve){const nt=de.hasOwnProperty(Ns)?de[Ns]:Object.defineProperty(de,Ns,{value:[]})[Ns];for(;nt.length<=Ve;)nt.push(null);return(nt[Ve]=nt[Ve]||[]).push($),de}}return r&&(v.prototype=Object.create(r.prototype)),v.prototype.ngMetadataName=t,v.annotationCls=v,v})}const Xl=Ga(Bs("Optional"),8),Kl=Ga(Bs("SkipSelf"),4);function os(t,n){return t.hasOwnProperty(ee)?t[ee]:null}const is=new xe(""),$f=new xe("",-1),Wc=new xe("");class Jl{get(n,r=Ua){if(r===Ua){const i=new Error(`NullInjectorError: No provider for ${Re(n)}!`);throw i.name="NullInjectorError",i}return r}}function Ql(t){return{\u0275providers:t}}function q_(...t){return{\u0275providers:zc(0,t),\u0275fromNgModule:!0}}function zc(t,...n){const r=[],i=new Set;let v;const P=$=>{r.push($)};return Ui(n,$=>{const re=$;Zl(re,P,[],i)&&(v||(v=[]),v.push(re))}),void 0!==v&&Vf(v,P),r}function Vf(t,n){for(let r=0;r<t.length;r++){const{ngModule:i,providers:v}=t[r];qc(v,P=>{n(P,i)})}}function Zl(t,n,r,i){if(!(t=zn(t)))return!1;let v=null,P=Fa(t);const $=!P&&nn(t);if(P||$){if($&&!$.standalone)return!1;v=t}else{const de=t.ngModule;if(P=Fa(de),!P)return!1;v=de}const re=i.has(v);if($){if(re)return!1;if(i.add(v),$.dependencies){const de="function"==typeof $.dependencies?$.dependencies():$.dependencies;for(const De of de)Zl(De,n,r,i)}}else{if(!P)return!1;{if(null!=P.imports&&!re){let De;i.add(v);try{Ui(P.imports,Ve=>{Zl(Ve,n,r,i)&&(De||(De=[]),De.push(Ve))})}finally{}void 0!==De&&Vf(De,n)}if(!re){const De=os(v)||(()=>new v);n({provide:v,useFactory:De,deps:Z},v),n({provide:Wc,useValue:v,multi:!0},v),n({provide:is,useValue:()=>Ao(v),multi:!0},v)}const de=P.providers;if(null!=de&&!re){const De=t;qc(de,Ve=>{n(Ve,De)})}}}return v!==t&&void 0!==t.providers}function qc(t,n){for(let r of t)Ac(r)&&(r=r.\u0275providers),Array.isArray(r)?qc(r,n):n(r)}const Y_=be({provide:String,useValue:be});function Yc(t){return null!==t&&"object"==typeof t&&Y_ in t}function ss(t){return"function"==typeof t}const Xc=new xe(""),eu={},K_={};let Kc;function tu(){return void 0===Kc&&(Kc=new Jl),Kc}class di{}class Us extends di{get destroyed(){return this._destroyed}constructor(n,r,i,v){super(),this.parent=r,this.source=i,this.scopes=v,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qc(n,$=>this.processProvider($)),this.records.set($f,Gs(void 0,this)),v.has("environment")&&this.records.set(di,Gs(void 0,this));const P=this.records.get(Xc);null!=P&&"string"==typeof P.value&&this.scopes.add(P.value),this.injectorDefTypes=new Set(this.get(Wc,Z,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=w(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of r)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),w(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=$i(this),i=$o(void 0);try{return n()}finally{$i(r),$o(i)}}get(n,r=Ua,i=pt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(pe))return n[pe](this);i=$l(i);const P=$i(this),$=$o(void 0);try{if(!(i&pt.SkipSelf)){let de=this.records.get(n);if(void 0===de){const De=function tb(t){return"function"==typeof t||"object"==typeof t&&t instanceof xe}(n)&&Os(n);de=De&&this.injectableDefInScope(De)?Gs(Jc(n),eu):null,this.records.set(n,de)}if(null!=de)return this.hydrate(n,de)}return(i&pt.Self?tu():this.parent).get(n,r=i&pt.Optional&&r===Ua?null:r)}catch(re){if("NullInjectorError"===re.name){if((re[Gl]=re[Gl]||[]).unshift(Re(n)),P)throw re;return function k_(t,n,r,i){const v=t[Gl];throw n[kf]&&v.unshift(n[kf]),t.message=function R_(t,n,r,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let v=Re(n);if(Array.isArray(n))v=n.map(Re).join(" -> ");else if("object"==typeof n){let P=[];for(let $ in n)if(n.hasOwnProperty($)){let re=n[$];P.push($+":"+("string"==typeof re?JSON.stringify(re):Re(re)))}v=`{${P.join(", ")}}`}return`${r}${i?"("+i+")":""}[${v}]: ${t.replace(T_,"\n  ")}`}("\n"+t.message,v,r,i),t.ngTokenPath=v,t[Gl]=null,t}(re,n,"R3InjectorError",this.source)}throw re}finally{$o($),$i(P)}}resolveInjectorInitializers(){const n=w(null),r=$i(this),i=$o(void 0);try{const P=this.get(is,Z,pt.Self);for(const $ of P)$()}finally{$i(r),$o(i),w(n)}}toString(){const n=[],r=this.records;for(const i of r.keys())n.push(Re(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(n){let r=ss(n=zn(n))?n:zn(n&&n.provide);const i=function Q_(t){return Yc(t)?Gs(void 0,t.useValue):Gs(zf(t),eu)}(n);if(!ss(n)&&!0===n.multi){let v=this.records.get(r);v||(v=Gs(void 0,eu,!0),v.factory=()=>Rc(v.multi),this.records.set(r,v)),r=n,v.multi.push(n)}this.records.set(r,i)}hydrate(n,r){const i=w(null);try{return r.value===eu&&(r.value=K_,r.value=r.factory()),"object"==typeof r.value&&r.value&&function eb(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{w(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=zn(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Jc(t){const n=Os(t),r=null!==n?n.factory:os(t);if(null!==r)return r;if(t instanceof xe)throw new tt(204,!1);if(t instanceof Function)return function J_(t){if(t.length>0)throw new tt(204,!1);const r=function Af(t){return t&&(t[Ba]||t[ae])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new tt(204,!1)}function zf(t,n,r){let i;if(ss(t)){const v=zn(t);return os(v)||Jc(v)}if(Yc(t))i=()=>zn(t.useValue);else if(function Wf(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Rc(t.deps||[]));else if(function Hf(t){return!(!t||!t.useExisting)}(t))i=()=>Ao(zn(t.useExisting));else{const v=zn(t&&(t.useClass||t.provide));if(!function Z_(t){return!!t.deps}(t))return os(v)||Jc(v);i=()=>new v(...Rc(t.deps))}return i}function Gs(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Qc(t,n){for(const r of t)Array.isArray(r)?Qc(r,n):r&&Ac(r)?Qc(r.\u0275providers,n):n(r)}function nb(t,n){t instanceof Us&&t.assertNotDestroyed();const i=$i(t),v=$o(void 0);try{return n()}finally{$i(i),$o(v)}}class hb{constructor(n,r,i){this.previousValue=n,this.currentValue=r,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yf(t,n,r,i){null!==n?n.applyValueToInputSignal(n,i):t[r]=i}function ed(){return Xf}function Xf(t){return t.type.prototype.ngOnChanges&&(t.setInput=pb),fb}function fb(){const t=Jf(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===lr)t.previous=n;else for(let i in n)r[i]=n[i];t.current=null,this.ngOnChanges(n)}}function pb(t,n,r,i,v){const P=this.declaredInputs[i],$=Jf(t)||function mb(t,n){return t[Kf]=n}(t,{previous:lr,current:null}),re=$.current||($.current={}),de=$.previous,De=de[P];re[P]=new hb(De&&De.currentValue,r,de===lr),Yf(t,n,v,r)}ed.ngInherit=!0;const Kf="__ngSimpleChanges__";function Jf(t){return t[Kf]||null}const vi=function(t,n,r){};function ou(t,n){for(let De=n.directiveStart,Ve=n.directiveEnd;De<Ve;De++){const Ct=t.data[De].type.prototype,{ngAfterContentInit:Gt,ngAfterContentChecked:on,ngAfterViewInit:vn,ngAfterViewChecked:Mn,ngOnDestroy:jn}=Ct;var r,i,v,P,$,re,de;Gt&&(null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(-De,Gt),on&&((null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(De,on),(null!==(v=t.contentCheckHooks)&&void 0!==v?v:t.contentCheckHooks=[]).push(De,on)),vn&&(null!==(P=t.viewHooks)&&void 0!==P?P:t.viewHooks=[]).push(-De,vn),Mn&&((null!==($=t.viewHooks)&&void 0!==$?$:t.viewHooks=[]).push(De,Mn),(null!==(re=t.viewCheckHooks)&&void 0!==re?re:t.viewCheckHooks=[]).push(De,Mn)),null!=jn&&(null!==(de=t.destroyHooks)&&void 0!==de?de:t.destroyHooks=[]).push(De,jn)}}function iu(t,n,r){Qf(t,n,3,r)}function su(t,n,r,i){(3&t[Gn])===r&&Qf(t,n,r,i)}function nd(t,n){let r=t[Gn];(3&r)===n&&(r&=16383,r+=1,t[Gn]=r)}function Qf(t,n,r,i){const P=null!=i?i:-1,$=n.length-1;let re=0;for(let de=void 0!==i?65535&t[To]:0;de<$;de++)if("number"==typeof n[de+1]){if(re=n[de],null!=i&&re>=i)break}else n[de]<0&&(t[To]+=65536),(re<P||-1==P)&&(vb(t,r,n,de),t[To]=(4294901760&t[To])+de+2),de++}function Zf(t,n){vi(4,t,n);const r=w(null);try{n.call(t)}finally{w(r),vi(5,t,n)}}function vb(t,n,r,i){const v=r[i]<0,P=r[i+1],re=t[v?-r[i]:r[i]];v?t[Gn]>>14<t[To]>>16&&(3&t[Gn])===n&&(t[Gn]+=16384,Zf(re,P)):Zf(re,P)}const Vs=-1;class qa{constructor(n,r,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=i}}function od(t){return t!==Vs}function Ya(t){return 32767&t}function Xa(t,n){let r=function Cb(t){return t>>16}(t),i=n;for(;r>0;)i=i[xo],r--;return i}let id=!0;function au(t){const n=id;return id=t,n}const ep=255,tp=5;let Eb=0;const _i={};function lu(t,n){const r=np(t,n);if(-1!==r)return r;const i=n[On];i.firstCreatePass&&(t.injectorIndex=n.length,sd(i.data,t),sd(n,null),sd(i.blueprint,null));const v=uu(t,n),P=t.injectorIndex;if(od(v)){const $=Ya(v),re=Xa(v,n),de=re[On].data;for(let De=0;De<8;De++)n[P+De]=re[$+De]|de[$+De]}return n[P+8]=v,P}function sd(t,n){t.push(0,0,0,0,0,0,0,0,n)}function np(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function uu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,i=null,v=n;for(;null!==v;){if(i=cp(v),null===i)return Vs;if(r++,v=v[xo],-1!==i.injectorIndex)return i.injectorIndex|r<<16}return Vs}function ad(t,n,r){!function Sb(t,n,r){let i;"string"==typeof r?i=r.charCodeAt(0)||0:r.hasOwnProperty(Q)&&(i=r[Q]),null==i&&(i=r[Q]=Eb++);const v=i&ep;n.data[t+(v>>tp)]|=1<<v}(t,n,r)}function rp(t,n,r){if(r&pt.Optional||void 0!==t)return t;Pc()}function op(t,n,r,i){if(r&pt.Optional&&void 0===i&&(i=null),!(r&(pt.Self|pt.Host))){const v=t[vr],P=$o(void 0);try{return v?v.get(n,i,r&pt.Optional):jf(n,i,r&pt.Optional)}finally{$o(P)}}return rp(i,0,r)}function ip(t,n,r,i=pt.Default,v){if(null!==t){if(2048&n[Gn]&&!(i&pt.Self)){const $=function Ob(t,n,r,i,v){let P=t,$=n;for(;null!==P&&null!==$&&2048&$[Gn]&&!(512&$[Gn]);){const re=sp(P,$,r,i|pt.Self,_i);if(re!==_i)return re;let de=P.parent;if(!de){const De=$[qo];if(De){const Ve=De.get(r,_i,i);if(Ve!==_i)return Ve}de=cp($),$=$[xo]}P=de}return v}(t,n,r,i,_i);if($!==_i)return $}const P=sp(t,n,r,i,_i);if(P!==_i)return P}return op(n,r,i,v)}function sp(t,n,r,i,v){const P=function Mb(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof n?n>=0?n&ep:Tb:n}(r);if("function"==typeof P){if(!rr(n,t,i))return i&pt.Host?rp(v,0,i):op(n,r,i,v);try{let $;if($=P(i),null!=$||i&pt.Optional)return $;Pc()}finally{yo()}}else if("number"==typeof P){let $=null,re=np(t,n),de=Vs,De=i&pt.Host?n[Dr][xr]:null;for((-1===re||i&pt.SkipSelf)&&(de=-1===re?uu(t,n):n[re+8],de!==Vs&&lp(i,!1)?($=n[On],re=Ya(de),n=Xa(de,n)):re=-1);-1!==re;){const Ve=n[On];if(ap(P,re,Ve.data)){const nt=Ib(re,n,r,$,i,De);if(nt!==_i)return nt}de=n[re+8],de!==Vs&&lp(i,n[On].data[re+8]===De)&&ap(P,re,n)?($=Ve,re=Ya(de),n=Xa(de,n)):re=-1}}return v}function Ib(t,n,r,i,v,P){const $=n[On],re=$.data[t+8],Ve=cu(re,$,r,null==i?Xr(re)&&id:i!=$&&0!=(3&re.type),v&pt.Host&&P===re);return null!==Ve?as(n,$,Ve,re):_i}function cu(t,n,r,i,v){const P=t.providerIndexes,$=n.data,re=1048575&P,de=t.directiveStart,Ve=P>>20,Ct=v?re+Ve:t.directiveEnd;for(let Gt=i?re:re+Ve;Gt<Ct;Gt++){const on=$[Gt];if(Gt<de&&r===on||Gt>=de&&on.type===r)return Gt}if(v){const Gt=$[de];if(Gt&&Do(Gt)&&Gt.type===r)return de}return null}function as(t,n,r,i){let v=t[r];const P=n.data;if(function _b(t){return t instanceof qa}(v)){const $=v;$.resolving&&function D_(t,n){throw n&&n.join(" > "),new tt(-200,t)}(function jr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ar(t)}(P[r]));const re=au($.canSeeViewProviders);$.resolving=!0;const De=$.injectImpl?$o($.injectImpl):null;rr(t,i,pt.Default);try{v=t[r]=$.factory(void 0,P,t,i),n.firstCreatePass&&r>=i.directiveStart&&function yb(t,n,r){const{ngOnChanges:i,ngOnInit:v,ngDoCheck:P}=n.type.prototype;if(i){var $,re;const nt=Xf(n);(null!==($=r.preOrderHooks)&&void 0!==$?$:r.preOrderHooks=[]).push(t,nt),(null!==(re=r.preOrderCheckHooks)&&void 0!==re?re:r.preOrderCheckHooks=[]).push(t,nt)}var de,De,Ve;v&&(null!==(de=r.preOrderHooks)&&void 0!==de?de:r.preOrderHooks=[]).push(0-t,v),P&&((null!==(De=r.preOrderHooks)&&void 0!==De?De:r.preOrderHooks=[]).push(t,P),(null!==(Ve=r.preOrderCheckHooks)&&void 0!==Ve?Ve:r.preOrderCheckHooks=[]).push(t,P))}(r,P[r],n)}finally{null!==De&&$o(De),au(re),$.resolving=!1,yo()}}return v}function ap(t,n,r){return!!(r[n+(t>>tp)]&1<<t)}function lp(t,n){return!(t&pt.Self||t&pt.Host&&n)}class _o{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,i){return ip(this._tNode,this._lView,n,$l(i),r)}}function Tb(){return new _o(Ar(),yn())}function up(t){return Sn(()=>{const n=t.prototype.constructor,r=n[ee]||ld(n),i=Object.prototype;let v=Object.getPrototypeOf(t.prototype).constructor;for(;v&&v!==i;){const P=v[ee]||ld(v);if(P&&P!==r)return P;v=Object.getPrototypeOf(v)}return P=>new P})}function ld(t){return si(t)?()=>{const n=ld(zn(t));return n&&n()}:os(t)}function cp(t){const n=t[On],r=n.type;return 2===r?n.declTNode:1===r?t[xr]:null}function ud(t){return function Db(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const i=r.length;let v=0;for(;v<i;){const P=r[v];if(Jt(P))break;if(0===P)v+=2;else if("number"==typeof P)for(v++;v<i&&"string"==typeof r[v];)v++;else{if(P===n)return r[v+1];v+=2}}}return null}(Ar(),t)}function mp(t,n=null,r=null,i){const v=gp(t,n,r,i);return v.resolveInjectorInitializers(),v}function gp(t,n=null,r=null,i,v=new Set){const P=[r||Z,q_(t)];return i=i||("object"==typeof t?void 0:Re(t)),new Us(P,n||tu(),i||null,v)}let ti=(()=>{var t;class n{static create(i,v){if(Array.isArray(i))return mp({name:""},v,i,"");{var P;const $=null!==(P=i.name)&&void 0!==P?P:"";return mp({name:$},i.parent,i.providers,$)}}}return(t=n).THROW_IF_NOT_FOUND=Ua,t.NULL=new Jl,t.\u0275prov=Fr({token:t,providedIn:"any",factory:()=>Ao($f)}),t.__NG_ELEMENT_ID__=-1,n})();function dd(t){return t.ngOriginalError}class Vi{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&dd(n);for(;r&&dd(r);)r=dd(r);return r||null}}const vp=new xe("",{providedIn:"root",factory:()=>wr(Vi).handleError.bind(void 0)}),bp=new xe("",{providedIn:"root",factory:()=>!1});let fu,pu;function zs(t){var n;return(null===(n=function hd(){if(void 0===fu&&(fu=null,Dn.trustedTypes))try{fu=Dn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fu}())||void 0===n?void 0:n.createHTML(t))||t}function Cp(t){var n;return(null===(n=function fd(){if(void 0===pu&&(pu=null,Dn.trustedTypes))try{pu=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pu}())||void 0===n?void 0:n.createScriptURL(t))||t}class ls{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}class Ub extends ls{getTypeName(){return"HTML"}}class Gb extends ls{getTypeName(){return"Style"}}class $b extends ls{getTypeName(){return"Script"}}class Vb extends ls{getTypeName(){return"URL"}}class Hb extends ls{getTypeName(){return"ResourceURL"}}function Ri(t){return t instanceof ls?t.changingThisBreaksApplicationSecurity:t}function qs(t,n){const r=function Wb(t){return t instanceof ls&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Qe})`)}return r===n}function zb(t){return new Ub(t)}function qb(t){return new Gb(t)}function Yb(t){return new $b(t)}function Xb(t){return new Vb(t)}function Kb(t){return new Hb(t)}class Jb{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(zs(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class Qb{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=zs(n),r}}const e1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mu(t){return(t=String(t)).match(e1)?t:"unsafe:"+t}function Li(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Ka(...t){const n={};for(const r of t)for(const i in r)r.hasOwnProperty(i)&&(n[i]=!0);return n}const Sp=Li("area,br,col,hr,img,wbr"),Dp=Li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ip=Li("rp,rt"),pd=Ka(Sp,Ka(Dp,Li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ka(Ip,Li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ka(Ip,Dp)),md=Li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mp=Ka(md,Li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),t1=Li("script,style,template");class n1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,i=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?i=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,i&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let v=this.checkClobberedElement(r,r.nextSibling);if(v){r=v;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!pd.hasOwnProperty(r))return this.sanitizedSomething=!0,!t1.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const i=n.attributes;for(let v=0;v<i.length;v++){const P=i.item(v),$=P.name,re=$.toLowerCase();if(!Mp.hasOwnProperty(re)){this.sanitizedSomething=!0;continue}let de=P.value;md[re]&&(de=mu(de)),this.buf.push(" ",$,'="',Tp(de),'"')}return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();pd.hasOwnProperty(r)&&!Sp.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Tp(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const r1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o1=/([^\#-~ |!])/g;function Tp(t){return t.replace(/&/g,"&amp;").replace(r1,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(o1,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gu;function Op(t,n){let r=null;try{gu=gu||function Ep(t){const n=new Qb(t);return function Zb(){try{return!!(new window.DOMParser).parseFromString(zs(""),"text/html")}catch{return!1}}()?new Jb(n):n}(t);let i=n?String(n):"";r=gu.getInertBodyElement(i);let v=5,P=i;do{if(0===v)throw new Error("Failed to sanitize html because the input is unstable");v--,i=P,P=r.innerHTML,r=gu.getInertBodyElement(i)}while(i!==P);return zs((new n1).sanitizeChildren(gd(r)||r))}finally{if(r){const i=gd(r)||r;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function gd(t){return"content"in t&&function i1(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var us=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(us||{});function yd(t){const n=Ja();return n?n.sanitize(us.URL,t)||"":qs(t,"URL")?Ri(t):mu(ar(t))}function Ap(t){const n=Ja();if(n)return Cp(n.sanitize(us.RESOURCE_URL,t)||"");if(qs(t,"ResourceURL"))return Cp(Ri(t));throw new tt(904,!1)}function Pp(t,n,r){return function d1(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Ap:yd}(n,r)(t)}function Ja(){const t=yn();return t&&t[$r].sanitizer}const h1=/^>|^->|<!--|-->|--!>|<!-$/g,f1=/(<|>)/g,p1="\u200b$1\u200b";const vd=new Map;let _1=0;const bd="__ngContext__";function Po(t,n){Vr(n)?(t[bd]=n[po],function w1(t){vd.set(t[po],t)}(n)):t[bd]=n}function ni(t){return t instanceof Function?t():t}var _u=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_u||{});let Ed;function Sd(t,n){return Ed(t,n)}function Xs(t,n,r,i,v){if(null!=i){let P,$=!1;Hr(i)?P=i:Vr(i)&&($=!0,i=i[mr]);const re=St(i);0===t&&null!==r?null==v?Jp(n,r,re):cs(n,r,re,v||null,!0):1===t&&null!==r?cs(n,r,re,v||null,!0):2===t?function Su(t,n,r){const i=Cu(t,n);i&&function V1(t,n,r,i){t.removeChild(n,r,i)}(t,i,n,r)}(n,re,$):3===t&&n.destroyNode(re),null!=P&&function z1(t,n,r,i,v){const P=r[co];P!==St(r)&&Xs(n,t,i,P,v);for(let re=_r;re<r.length;re++){const de=r[re];Du(de[On],de,t,n,i,P)}}(n,t,P,r,v)}}function Dd(t,n){return t.createComment(function jp(t){return t.replace(h1,n=>n.replace(f1,p1))}(n))}function wu(t,n,r){return t.createElement(n,r)}function Yp(t,n){Du(t,n,n[Yn],2,null,null)}function Xp(t,n){const r=t[Lo],i=r.indexOf(n);r.splice(i,1)}function Za(t,n){if(t.length<=_r)return;const r=_r+n,i=t[r];if(i){const v=i[So];null!==v&&v!==t&&Xp(v,i),n>0&&(t[r-1][Yr]=i[Yr]);const P=ka(t,_r+n);!function L1(t,n){Yp(t,n),n[mr]=null,n[xr]=null}(i[On],i);const $=P[fo];null!==$&&$.detachView(P[On]),i[fr]=null,i[Yr]=null,i[Gn]&=-129}return i}function xu(t,n){if(!(256&n[Gn])){const r=n[Yn];r.destroyNode&&Du(t,n,r,3,null,null),function F1(t){let n=t[ro];if(!n)return Id(t[On],t);for(;n;){let r=null;if(Vr(n))r=n[ro];else{const i=n[_r];i&&(r=i)}if(!r){for(;n&&!n[Yr]&&n!==t;)Vr(n)&&Id(n[On],n),n=n[fr];null===n&&(n=t),Vr(n)&&Id(n[On],n),r=n&&n[Yr]}n=r}}(n)}}function Id(t,n){if(256&n[Gn])return;const r=w(null);try{n[Gn]&=-129,n[Gn]|=256,n[ko]&&function f(t){if(F(t),B(t))for(let n=0;n<t.producerNode.length;n++)D(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[ko]),function $1(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let i=0;i<r.length;i+=2){const v=n[r[i]];if(!(v instanceof qa)){const P=r[i+1];if(Array.isArray(P))for(let $=0;$<P.length;$+=2){const re=v[P[$]],de=P[$+1];vi(4,re,de);try{de.call(re)}finally{vi(5,re,de)}}else{vi(4,v,P);try{P.call(v)}finally{vi(5,v,P)}}}}}(t,n),function G1(t,n){const r=t.cleanup,i=n[uo];if(null!==r)for(let P=0;P<r.length-1;P+=2)if("string"==typeof r[P]){const $=r[P+3];$>=0?i[$]():i[-$].unsubscribe(),P+=2}else r[P].call(i[r[P+1]]);null!==i&&(n[uo]=null);const v=n[jo];if(null!==v){n[jo]=null;for(let P=0;P<v.length;P++)(0,v[P])()}}(t,n),1===n[On].type&&n[Yn].destroy();const i=n[So];if(null!==i&&Hr(n[fr])){i!==n[fr]&&Xp(i,n);const v=n[fo];null!==v&&v.detachView(t)}!function x1(t){vd.delete(t[po])}(n)}finally{w(r)}}function Md(t,n,r){return function Kp(t,n,r){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return r[mr];{const{componentOffset:v}=i;if(v>-1){const{encapsulation:P}=t.data[i.directiveStart+v];if(P===Cn.None||P===Cn.Emulated)return null}return cn(i,r)}}(t,n.parent,r)}function cs(t,n,r,i,v){t.insertBefore(n,r,i,v)}function Jp(t,n,r){t.appendChild(n,r)}function Qp(t,n,r,i,v){null!==i?cs(t,n,r,i,v):Jp(t,n,r)}function Cu(t,n){return t.parentNode(n)}function Zp(t,n,r){return tm(t,n,r)}let Td,tm=function em(t,n,r){return 40&t.type?cn(t,r):null};function Eu(t,n,r,i){const v=Md(t,i,n),P=n[Yn],re=Zp(i.parent||n[xr],i,n);if(null!=v)if(Array.isArray(r))for(let de=0;de<r.length;de++)Qp(P,v,r[de],re,!1);else Qp(P,v,r,re,!1);void 0!==Td&&Td(P,i,n,r,v)}function el(t,n){if(null!==n){const r=n.type;if(3&r)return cn(n,t);if(4&r)return Od(-1,t[n.index]);if(8&r){const i=n.child;if(null!==i)return el(t,i);{const v=t[n.index];return Hr(v)?Od(-1,v):St(v)}}if(32&r)return Sd(n,t)()||St(t[n.index]);{const i=rm(t,n);return null!==i?Array.isArray(i)?i[0]:el(kr(t[Dr]),i):el(t,n.next)}}return null}function rm(t,n){return null!==n?t[Dr][xr].projection[n.projection]:null}function Od(t,n){const r=_r+t+1;if(r<n.length){const i=n[r],v=i[On].firstChild;if(null!==v)return el(i,v)}return n[co]}function Ad(t,n,r,i,v,P,$){for(;null!=r;){const re=i[r.index],de=r.type;if($&&0===n&&(re&&Po(St(re),i),r.flags|=2),32!=(32&r.flags))if(8&de)Ad(t,n,r.child,i,v,P,!1),Xs(n,t,v,re,P);else if(32&de){const De=Sd(r,i);let Ve;for(;Ve=De();)Xs(n,t,v,Ve,P);Xs(n,t,v,re,P)}else 16&de?im(t,n,i,r,v,P):Xs(n,t,v,re,P);r=$?r.projectionNext:r.next}}function Du(t,n,r,i,v,P){Ad(r,i,t.firstChild,n,v,P,!1)}function im(t,n,r,i,v,P){const $=r[Dr],de=$[xr].projection[i.projection];if(Array.isArray(de))for(let De=0;De<de.length;De++)Xs(n,t,v,de[De],P);else{let De=de;const Ve=$[fr];Ms(i)&&(De.flags|=128),Ad(t,n,De,Ve,v,P,!0)}}function sm(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function am(t,n,r){const{mergedAttrs:i,classes:v,styles:P}=r;null!==i&&dt(t,n,i),null!==v&&sm(t,n,v),null!==P&&function Y1(t,n,r){t.setAttribute(n,"style",r)}(t,n,P)}const cr={};function lm(t=1){um(pr(),yn(),zr()+t,!1)}function um(t,n,r,i){if(!i)if(3==(3&n[Gn])){const P=t.preOrderCheckHooks;null!==P&&iu(n,P,r)}else{const P=t.preOrderHooks;null!==P&&su(n,P,0,r)}Eo(r)}function Ks(t,n=pt.Default){const r=yn();return null===r?Ao(t,n):ip(Ar(),r,zn(t),n)}function cm(){throw new Error("invalid")}function dm(t,n,r,i,v,P){const $=w(null);try{let re=null;v&Ie.SignalBased&&(re=n[i][V]),null!==re&&void 0!==re.transformFn&&(P=re.transformFn(P)),v&Ie.HasDecoratorInputTransform&&(P=t.inputTransforms[i].call(n,P)),null!==t.setInput?t.setInput(n,re,P,r,i):Yf(n,re,i,P)}finally{w($)}}function Iu(t,n,r,i,v,P,$,re,de,De,Ve){const nt=n.blueprint.slice();return nt[mr]=v,nt[Gn]=204|i,(null!==De||t&&2048&t[Gn])&&(nt[Gn]|=2048),Ur(nt),nt[fr]=nt[xo]=t,nt[ur]=r,nt[$r]=$||t&&t[$r],nt[Yn]=re||t&&t[Yn],nt[vr]=de||t&&t[vr]||null,nt[xr]=P,nt[po]=function b1(){return _1++}(),nt[Lr]=Ve,nt[qo]=De,nt[Dr]=2==n.type?t[Dr]:nt,nt}function Js(t,n,r,i,v){let P=t.data[n];if(null===P)P=function Pd(t,n,r,i,v){const P=Aa(),$=ws(),de=t.data[n]=function nw(t,n,r,i,v,P){let $=n?n.injectorIndex:-1,re=0;return Ii()&&(re|=128),{type:r,index:i,insertBeforeIndex:null,injectorIndex:$,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:re,providerIndexes:0,value:v,attrs:P,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,$?P:P&&P.parent,r,n,i,v);return null===t.firstChild&&(t.firstChild=de),null!==P&&($?null==P.child&&null!==de.parent&&(P.child=de):null===P.next&&(P.next=de,de.prev=P)),de}(t,n,r,i,v),function bt(){return Fn.lFrame.inI18n}()&&(P.flags|=32);else if(64&P.type){P.type=r,P.value=i,P.attrs=v;const $=function Mi(){const t=Fn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();P.injectorIndex=null===$?-1:$.injectorIndex}return Qo(P,!0),P}function tl(t,n,r,i){if(0===r)return-1;const v=n.length;for(let P=0;P<r;P++)n.push(i),t.blueprint.push(i),t.data.push(null);return v}function hm(t,n,r,i,v){const P=zr(),$=2&i;try{Eo(-1),$&&n.length>Xn&&um(t,n,Xn,!1),vi($?2:0,v),r(i,v)}finally{Eo(P),vi($?3:1,v)}}function jd(t,n,r){if(Co(n)){const i=w(null);try{const P=n.directiveEnd;for(let $=n.directiveStart;$<P;$++){const re=t.data[$];re.contentQueries&&re.contentQueries(1,r[$],$)}}finally{w(i)}}}function kd(t,n,r){Fi()&&(function uw(t,n,r,i){const v=r.directiveStart,P=r.directiveEnd;Xr(r)&&function gw(t,n,r){const i=cn(n,t),v=fm(r);let $=16;r.signals?$=4096:r.onPush&&($=64);const re=Mu(t,Iu(t,v,null,$,i,n,null,t[$r].rendererFactory.createRenderer(i,r),null,null,null));t[n.index]=re}(n,r,t.data[v+r.componentOffset]),t.firstCreatePass||lu(r,n),Po(i,n);const $=r.initialInputs;for(let re=v;re<P;re++){const de=t.data[re],De=as(n,t,re,r);Po(De,n),null!==$&&yw(0,re-v,De,de,0,$),Do(de)&&(Hn(r.index,n)[ur]=as(n,t,re,r))}}(t,n,r,cn(r,n)),64==(64&r.flags)&&vm(t,n,r))}function Rd(t,n,r=cn){const i=n.localNames;if(null!==i){let v=n.index+1;for(let P=0;P<i.length;P+=2){const $=i[P+1],re=-1===$?r(n,t):t[$];t[v++]=re}}}function fm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ld(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ld(t,n,r,i,v,P,$,re,de,De,Ve){const nt=Xn+i,Ct=nt+v,Gt=function K1(t,n){const r=[];for(let i=0;i<n;i++)r.push(i<t?null:cr);return r}(nt,Ct),on="function"==typeof De?De():De;return Gt[On]={type:t,blueprint:Gt,template:r,queries:null,viewQuery:re,declTNode:n,data:Gt.slice().fill(null,nt),bindingStartIndex:nt,expandoStartIndex:Ct,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof P?P():P,pipeRegistry:"function"==typeof $?$():$,firstChild:null,schemas:de,consts:on,incompleteFirstPass:!1,ssrId:Ve}}let pm=()=>null;function mm(t,n,r,i,v){for(let $ in n){var P;if(!n.hasOwnProperty($))continue;const re=n[$];if(void 0===re)continue;null!==(P=i)&&void 0!==P||(i={});let de,De=Ie.None;Array.isArray(re)?(de=re[0],De=re[1]):de=re;let Ve=$;if(null!==v){if(!v.hasOwnProperty($))continue;Ve=v[$]}0===t?gm(i,r,Ve,de,De):gm(i,r,Ve,de)}return i}function gm(t,n,r,i,v){let P;t.hasOwnProperty(r)?(P=t[r]).push(n,i):P=t[r]=[n,i],void 0!==v&&P.push(v)}function Ho(t,n,r,i,v,P,$,re){const de=cn(n,r);let Ve,De=n.inputs;!re&&null!=De&&(Ve=De[i])?(Gd(t,r,Ve,i,v),Xr(n)&&function iw(t,n){const r=Hn(n,t);16&r[Gn]||(r[Gn]|=64)}(r,n.index)):3&n.type&&(i=function ow(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),v=null!=$?$(v,n.value||"",i):v,P.setProperty(de,i,v))}function Nd(t,n,r,i){if(Fi()){const v=null===i?null:{"":-1},P=function dw(t,n){const r=t.directiveRegistry;let i=null,v=null;if(r)for(let $=0;$<r.length;$++){const re=r[$];if(ze(n,re.selectors,!1))if(i||(i=[]),Do(re))if(null!==re.findHostDirectiveDefs){const de=[];v=v||new Map,re.findHostDirectiveDefs(re,de,v),i.unshift(...de,re),Fd(t,n,de.length)}else i.unshift(re),Fd(t,n,0);else{var P;v=v||new Map,null===(P=re.findHostDirectiveDefs)||void 0===P||P.call(re,re,i,v),i.push(re)}}return null===i?null:[i,v]}(t,r);let $,re;null===P?$=re=null:[$,re]=P,null!==$&&ym(t,n,r,$,v,re),v&&function hw(t,n,r){if(n){const i=t.localNames=[];for(let v=0;v<n.length;v+=2){const P=r[n[v+1]];if(null==P)throw new tt(-301,!1);i.push(n[v],P)}}}(r,i,v)}r.mergedAttrs=ln(r.mergedAttrs,r.attrs)}function ym(t,n,r,i,v,P){for(let nt=0;nt<i.length;nt++)ad(lu(r,n),t,i[nt].type);!function pw(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,i.length);for(let nt=0;nt<i.length;nt++){const Ct=i[nt];Ct.providersResolver&&Ct.providersResolver(Ct)}let $=!1,re=!1,de=tl(t,n,i.length,null);for(let nt=0;nt<i.length;nt++){const Ct=i[nt];r.mergedAttrs=ln(r.mergedAttrs,Ct.hostAttrs),mw(t,r,n,de,Ct),fw(de,Ct,v),null!==Ct.contentQueries&&(r.flags|=4),(null!==Ct.hostBindings||null!==Ct.hostAttrs||0!==Ct.hostVars)&&(r.flags|=64);const Gt=Ct.type.prototype;var De,Ve;!$&&(Gt.ngOnChanges||Gt.ngOnInit||Gt.ngDoCheck)&&((null!==(De=t.preOrderHooks)&&void 0!==De?De:t.preOrderHooks=[]).push(r.index),$=!0),re||!Gt.ngOnChanges&&!Gt.ngDoCheck||((null!==(Ve=t.preOrderCheckHooks)&&void 0!==Ve?Ve:t.preOrderCheckHooks=[]).push(r.index),re=!0),de++}!function rw(t,n,r){const v=n.directiveEnd,P=t.data,$=n.attrs,re=[];let de=null,De=null;for(let Ve=n.directiveStart;Ve<v;Ve++){const nt=P[Ve],Ct=r?r.get(nt):null,on=Ct?Ct.outputs:null;de=mm(0,nt.inputs,Ve,de,Ct?Ct.inputs:null),De=mm(1,nt.outputs,Ve,De,on);const vn=null===de||null===$||Ln(n)?null:vw(de,Ve,$);re.push(vn)}null!==de&&(de.hasOwnProperty("class")&&(n.flags|=8),de.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=re,n.inputs=de,n.outputs=De}(t,r,P)}function vm(t,n,r){const i=r.directiveStart,v=r.directiveEnd,P=r.index,$=function At(){return Fn.lFrame.currentDirectiveIndex}();try{Eo(P);for(let re=i;re<v;re++){const de=t.data[re],De=n[re];dn(re),(null!==de.hostBindings||0!==de.hostVars||null!==de.hostAttrs)&&cw(de,De)}}finally{Eo(-1),dn($)}}function cw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Fd(t,n,r){var i;n.componentOffset=r,(null!==(i=t.components)&&void 0!==i?i:t.components=[]).push(n.index)}function fw(t,n,r){if(r){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)r[n.exportAs[i]]=t;Do(n)&&(r[""]=t)}}function mw(t,n,r,i,v){t.data[i]=v;const P=v.factory||(v.factory=os(v.type)),$=new qa(P,Do(v),Ks);t.blueprint[i]=$,r[i]=$,function aw(t,n,r,i,v){const P=v.hostBindings;if(P){let $=t.hostBindingOpCodes;null===$&&($=t.hostBindingOpCodes=[]);const re=~n.index;(function lw(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})($)!=re&&$.push(re),$.push(r,i,P)}}(t,n,i,tl(t,r,v.hostVars,cr),v)}function bi(t,n,r,i,v,P){const $=cn(t,n);!function Bd(t,n,r,i,v,P,$){if(null==P)t.removeAttribute(n,v,r);else{const re=null==$?ar(P):$(P,i||"",v);t.setAttribute(n,v,re,r)}}(n[Yn],$,P,t.value,r,i,v)}function yw(t,n,r,i,v,P){const $=P[n];if(null!==$)for(let re=0;re<$.length;)dm(i,r,$[re++],$[re++],$[re++],$[re++])}function vw(t,n,r){let i=null,v=0;for(;v<r.length;){const P=r[v];if(0!==P)if(5!==P){if("number"==typeof P)break;if(t.hasOwnProperty(P)){null===i&&(i=[]);const $=t[P];for(let re=0;re<$.length;re+=3)if($[re]===n){i.push(P,$[re+1],$[re+2],r[v+1]);break}}v+=2}else v+=2;else v+=4}return i}function _m(t,n,r,i){return[t,!0,0,n,null,i,null,r,null,null]}function bm(t,n){const r=t.contentQueries;if(null!==r){const i=w(null);try{for(let v=0;v<r.length;v+=2){const $=r[v+1];if(-1!==$){const re=t.data[$];ir(r[v]),re.contentQueries(2,n[$],$)}}}finally{w(i)}}}function Mu(t,n){return t[ro]?t[zo][Yr]=n:t[ro]=n,t[zo]=n,n}function Ud(t,n,r){ir(0);const i=w(null);try{n(t,r)}finally{w(i)}}function wm(t){return t[uo]||(t[uo]=[])}function xm(t){return t.cleanup||(t.cleanup=[])}function Tu(t,n){const r=t[vr],i=r?r.get(Vi,null):null;i&&i.handleError(n)}function Gd(t,n,r,i,v){for(let P=0;P<r.length;){const $=r[P++],re=r[P++],de=r[P++];dm(t.data[$],n[$],i,re,de,v)}}function Ni(t,n,r){const i=sn(n,t);!function qp(t,n,r){t.setValue(n,r)}(t[Yn],i,r)}function _w(t,n){const r=Hn(n,t),i=r[On];!function bw(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(i,r);const v=r[mr];null!==v&&null===r[Lr]&&(r[Lr]=Uc(v,r[vr])),$d(i,r,r[ur])}function $d(t,n,r){Tr(n);try{var i;const v=t.viewQuery;null!==v&&Ud(1,v,r);const P=t.template;null!==P&&hm(t,n,P,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),null===(i=n[fo])||void 0===i||i.finishViewCreation(t),t.staticContentQueries&&bm(t,n),t.staticViewQueries&&Ud(2,t.viewQuery,r);const $=t.components;null!==$&&function ww(t,n){for(let r=0;r<n.length;r++)_w(t,n[r])}(n,$)}catch(v){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),v}finally{n[Gn]&=-5,ei()}}function Qs(t,n){return!n||null===n.firstChild||Ms(t)}function rl(t,n,r,i=!0){const v=n[On];if(function B1(t,n,r,i){const v=_r+i,P=r.length;i>0&&(r[v-1][Yr]=n),i<P-_r?(n[Yr]=r[v],Cc(r,_r+i,n)):(r.push(n),n[Yr]=null),n[fr]=r;const $=n[So];null!==$&&r!==$&&function U1(t,n){const r=t[Lo];n[Dr]!==n[fr][fr][Dr]&&(t[Gn]|=Yo.HasTransplantedViews),null===r?t[Lo]=[n]:r.push(n)}($,n);const re=n[fo];null!==re&&re.insertView(t),ho(n),n[Gn]|=128}(v,n,t,r),i){const $=Od(r,t),re=n[Yn],de=Cu(re,t[co]);null!==de&&function N1(t,n,r,i,v,P){i[mr]=v,i[xr]=n,Du(t,i,r,1,v,P)}(v,t[xr],re,n,de,$)}const P=n[Lr];null!==P&&null!==P.firstChild&&(P.firstChild=null)}function ol(t,n,r,i,v=!1){for(;null!==r;){const P=n[r.index];null!==P&&i.push(St(P)),Hr(P)&&Sm(P,i);const $=r.type;if(8&$)ol(t,n,r.child,i);else if(32&$){const re=Sd(r,n);let de;for(;de=re();)i.push(de)}else if(16&$){const re=rm(n,r);if(Array.isArray(re))i.push(...re);else{const de=kr(n[Dr]);ol(de[On],de,re,i,!0)}}r=v?r.projectionNext:r.next}return i}function Sm(t,n){for(let r=_r;r<t.length;r++){const i=t[r],v=i[On].firstChild;null!==v&&ol(i[On],i,v,n)}t[co]!==t[mr]&&n.push(t[co])}let Dm=[];const Sw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Cr(t.lView)},consumerOnSignalRead(){this.lView[ko]=this}};function Im(t){return Tm(t[ro])}function Mm(t){return Tm(t[Yr])}function Tm(t){for(;null!==t&&!Hr(t);)t=t[Yr];return t}function Ou(t,n=!0,r=0){const i=t[$r],v=i.rendererFactory;var $;null===($=v.begin)||void 0===$||$.call(v);try{!function Mw(t,n){Hd(t,n);let r=0;for(;Jr(t);){if(100===r)throw new tt(103,!1);r++,Hd(t,1)}}(t,r)}catch(De){throw n&&Tu(t,De),De}finally{var re,de;null===(re=v.end)||void 0===re||re.call(v),null===(de=i.inlineEffectRunner)||void 0===de||de.flush()}}function Tw(t,n,r,i){var v;const P=n[Gn];if(256==(256&P))return;null===(v=n[$r].inlineEffectRunner)||void 0===v||v.flush(),Tr(n);let re=null,de=null;(function Ow(t){return 2!==t.type})(t)&&(de=function xw(t){var n;return null!==(n=t[ko])&&void 0!==n?n:function Cw(t){var n;const r=null!==(n=Dm.pop())&&void 0!==n?n:Object.create(Sw);return r.lView=t,r}(t)}(n),re=function u(t){return t&&(t.nextProducerIndex=0),w(t)}(de));try{Ur(n),function es(t){return Fn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&hm(t,n,r,2,i);const De=3==(3&P);if(De){const Ct=t.preOrderCheckHooks;null!==Ct&&iu(n,Ct,null)}else{const Ct=t.preOrderHooks;null!==Ct&&su(n,Ct,0,null),nd(n,0)}if(function Aw(t){for(let n=Im(t);null!==n;n=Mm(n)){if(!(n[Gn]&Yo.HasTransplantedViews))continue;const r=n[Lo];for(let i=0;i<r.length;i++){Kr(r[i])}}}(n),Am(n,0),null!==t.contentQueries&&bm(t,n),De){const Ct=t.contentCheckHooks;null!==Ct&&iu(n,Ct)}else{const Ct=t.contentHooks;null!==Ct&&su(n,Ct,1),nd(n,1)}!function X1(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let i=0;i<r.length;i++){const v=r[i];if(v<0)Eo(~v);else{const P=v,$=r[++i],re=r[++i];lt($,P),re(2,n[P])}}}finally{Eo(-1)}}(t,n);const Ve=t.components;null!==Ve&&jm(n,Ve,0);const nt=t.viewQuery;if(null!==nt&&Ud(2,nt,i),De){const Ct=t.viewCheckHooks;null!==Ct&&iu(n,Ct)}else{const Ct=t.viewHooks;null!==Ct&&su(n,Ct,2),nd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[mo]){for(const Ct of n[mo])Ct();n[mo]=null}n[Gn]&=-73}catch(De){throw Cr(n),De}finally{null!==de&&(function l(t,n){if(w(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(B(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)D(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(de,re),function Ew(t){t.lView[ko]!==t&&(t.lView=null,Dm.push(t))}(de)),ei()}}function Am(t,n){for(let r=Im(t);null!==r;r=Mm(r))for(let i=_r;i<r.length;i++)Pm(r[i],n)}function Pw(t,n,r){Pm(Hn(n,t),r)}function Pm(t,n){Vn(t)&&Hd(t,n)}function Hd(t,n){const i=t[On],v=t[Gn],P=t[ko];let $=!!(0===n&&16&v);if($||($=!!(64&v&&0===n)),$||($=!!(1024&v)),$||($=!(null==P||!P.dirty||!y(P))),P&&(P.dirty=!1),t[Gn]&=-9217,$)Tw(i,t,i.template,t[ur]);else if(8192&v){Am(t,1);const re=i.components;null!==re&&jm(t,re,1)}}function jm(t,n,r){for(let i=0;i<n.length;i++)Pw(t,n[i],r)}function il(t){var n;for(null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Gn]|=64;const r=kr(t);if(Xo(t)&&!r)return t;t=r}return null}class sl{get rootNodes(){const n=this._lView,r=n[On];return ol(r,n,r.firstChild,[])}constructor(n,r,i=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(n){this._lView[ur]=n}get destroyed(){return 256==(256&this._lView[Gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[fr];if(Hr(n)){const r=n[8],i=r?r.indexOf(this):-1;i>-1&&(Za(n,i),ka(r,i))}this._attachedToViewContainer=!1}xu(this._lView[On],this._lView)}onDestroy(n){Ir(this._lView,n)}markForCheck(){il(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gn]&=-129}reattach(){ho(this._lView),this._lView[Gn]|=128}detectChanges(){this._lView[Gn]|=1024,Ou(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Yp(this._lView[On],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=n,ho(this._lView)}}let al=(()=>{class n{}return n.__NG_ELEMENT_ID__=Rw,n})();const jw=al,kw=class extends jw{constructor(n,r,i){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const v=function nl(t,n,r,i){const v=w(null);try{var P,$;const re=n.tView,Ve=Iu(t,re,r,4096&t[Gn]?4096:16,null,n,null,null,null,null!==(P=null==i?void 0:i.injector)&&void 0!==P?P:null,null!==($=null==i?void 0:i.dehydratedView)&&void 0!==$?$:null);Ve[So]=t[n.index];const Ct=t[fo];return null!==Ct&&(Ve[fo]=Ct.createEmbeddedView(re)),$d(re,Ve,r),Ve}finally{w(v)}}(this._declarationLView,this._declarationTContainer,n,{injector:r,dehydratedView:i});return new sl(v)}};function Rw(){return Au(Ar(),yn())}function Au(t,n){return 4&t.type?new kw(n,t,gi(t,n)):null}class Um{}class rx{}class Gm{}class ix{resolveComponentFactory(n){throw function ox(t){const n=Error(`No component factory found for ${Re(t)}.`);return n.ngComponent=t,n}(n)}}let Lu=(()=>{class n{}return n.NULL=new ix,n})();class Vm{}let sx=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function ax(){const t=yn(),r=Hn(Ar().index,t);return(Vr(r)?r:t)[Yn]}(),n})(),lx=(()=>{var t;class n{}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:()=>null}),n})();const Kd={};let Nu=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=cx,t.__NG_ENV_ID__=r=>r,n})();class ux extends Nu{constructor(n){super(),this._lView=n}onDestroy(n){return Ir(this._lView,n),()=>function yr(t,n){if(null===t[jo])return;const r=t[jo].indexOf(n);-1!==r&&t[jo].splice(r,1)}(this._lView,n)}}function cx(){return new ux(yn())}const Hm=new Set;function wi(t){var n,r;Hm.has(t)||(Hm.add(t),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:t}}))}function Wm(...t){}class io{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!i&&r,v.shouldCoalesceRunChangeDetection=i,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function dx(){const t="function"==typeof Dn.requestAnimationFrame;let n=Dn[t?"requestAnimationFrame":"setTimeout"],r=Dn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&r){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const v=r[Zone.__symbol__("OriginalDelegate")];v&&(r=v)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function px(t){const n=()=>{!function fx(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qd(t),t.isCheckStableRunning=!0,Jd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,i,v,P,$,re)=>{if(function mx(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(re))return r.invokeTask(v,P,$,re);try{return zm(t),r.invokeTask(v,P,$,re)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===P.type||t.shouldCoalesceRunChangeDetection)&&n(),qm(t)}},onInvoke:(r,i,v,P,$,re,de)=>{try{return zm(t),r.invoke(v,P,$,re,de)}finally{t.shouldCoalesceRunChangeDetection&&n(),qm(t)}},onHasTask:(r,i,v,P)=>{r.hasTask(v,P),i===v&&("microTask"==P.change?(t._hasPendingMicrotasks=P.microTask,Qd(t),Jd(t)):"macroTask"==P.change&&(t.hasPendingMacrotasks=P.macroTask))},onHandleError:(r,i,v,P)=>(r.handleError(v,P),t.runOutsideAngular(()=>t.onError.emit(P)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!io.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(io.isInAngularZone())throw new tt(909,!1)}run(n,r,i){return this._inner.run(n,r,i)}runTask(n,r,i,v){const P=this._inner,$=P.scheduleEventTask("NgZoneEvent: "+v,n,hx,Wm,Wm);try{return P.runTask($,r,i)}finally{P.cancelTask($)}}runGuarded(n,r,i){return this._inner.runGuarded(n,r,i)}runOutsideAngular(n){return this._outer.run(n)}}const hx={};function Jd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qm(t){t._nesting--,Jd(t)}class Ym{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(n,r,i){return n.apply(r,i)}runGuarded(n,r,i){return n.apply(r,i)}runOutsideAngular(n){return n()}runTask(n,r,i,v){return n.apply(r,i)}}var ds=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ds||{});const Xm={destroy(){}};function Km(t,n){var r,i,v;!n&&function nu(t){if(!Pf()&&!function A_(){return As}())throw new tt(-203,!1)}();const P=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:wr(ti);if(!function Hi(t){return"browser"===(null!=t?t:wr(ti)).get(ht)}(P))return Xm;wi("NgAfterNextRender");const $=P.get(hl),re=null!==(i=$.handler)&&void 0!==i?i:$.handler=new Qm,de=null!==(v=null==n?void 0:n.phase)&&void 0!==v?v:ds.MixedReadWrite,De=()=>{re.unregister(nt),Ve()},Ve=P.get(Nu).onDestroy(De),nt=new Jm(P,de,()=>{De(),t()});return re.register(nt),{destroy:De}}class Jm{constructor(n,r,i){this.phase=r,this.callbackFn=i,this.zone=n.get(io),this.errorHandler=n.get(Vi,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(r)}}}class Qm{constructor(){this.executingCallbacks=!1,this.buckets={[ds.EarlyRead]:new Set,[ds.Write]:new Set,[ds.MixedReadWrite]:new Set,[ds.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let hl=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const v of i)v()}ngOnDestroy(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:()=>new t}),n})();function Wi(t){return!!Kn(t)}function Bu(t,n,r){let i=r?t.styles:null,v=r?t.classes:null,P=0;if(null!==n)for(let $=0;$<n.length;$++){const re=n[$];"number"==typeof re?P=re:1==P?v=Ne(v,re):2==P&&(i=Ne(i,re+": "+n[++$]+";"))}r?t.styles=i:t.stylesWithoutHost=i,r?t.classes=v:t.classesWithoutHost=v}class tg extends Lu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=nn(n);return new ml(r,this.ngModule)}}function ng(t){const n=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r];void 0!==i&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:r})}return n}class wx{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,i){i=$l(i);const v=this.injector.get(n,Kd,i);return v!==Kd||r===Kd?v:this.parentInjector.get(n,r,i)}}class ml extends Gm{get inputs(){const n=this.componentDef,r=n.inputTransforms,i=ng(n.inputs);if(null!==r)for(const v of i)r.hasOwnProperty(v.propName)&&(v.transform=r[v.propName]);return i}get outputs(){return ng(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function Ke(t){return t.map(Le).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,i,v){const P=w(null);try{var re;let de=(v=v||this.ngModule)instanceof di?v:null===(re=v)||void 0===re?void 0:re.injector;de&&null!==this.componentDef.getStandaloneInjector&&(de=this.componentDef.getStandaloneInjector(de)||de);const De=de?new wx(n,de):n,Ve=De.get(Vm,null);if(null===Ve)throw new tt(407,!1);const nt=De.get(lx,null),on={rendererFactory:Ve,sanitizer:nt,inlineEffectRunner:null,afterRenderEventManager:De.get(hl,null),changeDetectionScheduler:De.get(Um,null)},vn=Ve.createRenderer(null,this.componentDef),Mn=this.componentDef.selectors[0][0]||"div",jn=i?function J1(t,n,r,i){const P=i.get(bp,!1)||r===Cn.ShadowDom,$=t.selectRootElement(n,P);return function Q1(t){pm(t)}($),$}(vn,i,this.componentDef.encapsulation,De):wu(vn,Mn,function bx(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Mn));let xn=512;this.componentDef.signals?xn|=4096:this.componentDef.onPush||(xn|=16);let Jn=null;null!==jn&&(Jn=Uc(jn,De,!0));const dr=Ld(0,null,null,1,0,null,null,null,null,null,null),gr=Iu(null,dr,null,xn,null,null,on,vn,De,null,Jn);let Mo,vs;Tr(gr);try{const Ji=this.componentDef;let Sa,Sf=null;Ji.findHostDirectiveDefs?(Sa=[],Sf=new Map,Ji.findHostDirectiveDefs(Ji,Sa,Sf),Sa.push(Ji)):Sa=[Ji];const VI=function Cx(t,n){const r=t[On],i=Xn;return t[i]=n,Js(r,i,2,"#host",null)}(gr,jn),HI=function Ex(t,n,r,i,v,P,$){const re=v[On];!function Sx(t,n,r,i){for(const v of t)n.mergedAttrs=ln(n.mergedAttrs,v.hostAttrs);null!==n.mergedAttrs&&(Bu(n,n.mergedAttrs,!0),null!==r&&am(i,r,n))}(i,t,n,$);let de=null;null!==n&&(de=Uc(n,v[vr]));const De=P.rendererFactory.createRenderer(n,r);let Ve=16;r.signals?Ve=4096:r.onPush&&(Ve=64);const nt=Iu(v,fm(r),null,Ve,v[t.index],t,P,De,null,null,de);return re.firstCreatePass&&Fd(re,t,i.length-1),Mu(v,nt),v[t.index]=nt}(VI,jn,Ji,Sa,gr,on,vn);vs=en(dr,Xn),jn&&function Ix(t,n,r,i){if(i)dt(t,r,["ng-version","17.2.4"]);else{const{attrs:v,classes:P}=function Nt(t){const n=[],r=[];let i=1,v=2;for(;i<t.length;){let P=t[i];if("string"==typeof P)2===v?""!==P&&n.push(P,t[++i]):8===v&&r.push(P);else{if(!ft(v))break;v=P}i++}return{attrs:n,classes:r}}(n.selectors[0]);v&&dt(t,r,v),P&&P.length>0&&sm(t,r,P.join(" "))}}(vn,Ji,jn,i),void 0!==r&&function Mx(t,n,r){const i=t.projection=[];for(let v=0;v<n.length;v++){const P=r[v];i.push(null!=P?Array.from(P):null)}}(vs,this.ngContentSelectors,r),Mo=function Dx(t,n,r,i,v,P){const $=Ar(),re=v[On],de=cn($,v);ym(re,v,$,r,null,i);for(let Ve=0;Ve<r.length;Ve++)Po(as(v,re,$.directiveStart+Ve,$),v);vm(re,v,$),de&&Po(de,v);const De=as(v,re,$.directiveStart+$.componentOffset,$);if(t[ur]=v[ur]=De,null!==P)for(const Ve of P)Ve(De,n);return jd(re,$,v),De}(HI,Ji,Sa,Sf,gr,[Tx]),$d(dr,gr,null)}finally{ei()}return new xx(this.componentType,Mo,gi(vs,gr),gr,vs)}finally{w(P)}}}class xx extends rx{constructor(n,r,i,v,P){super(),this.location=i,this._rootLView=v,this._tNode=P,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new sl(v,void 0,!1),this.componentType=n}setInput(n,r){const i=this._tNode.inputs;let v;if(null!==i&&(v=i[n])){var P;if(null!==(P=this.previousInputValues)&&void 0!==P||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const $=this._rootLView;Gd($[On],$,v,n,r),this.previousInputValues.set(n,r),il(Hn(this._tNode.index,$))}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Tx(){const t=Ar();ou(yn()[On],t)}let Uu=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ox,n})();function Ox(){return ig(Ar(),yn())}const Ax=Uu,rg=class extends Ax{constructor(n,r,i){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=i}get element(){return gi(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const n=uu(this._hostTNode,this._hostLView);if(od(n)){const r=Xa(n,this._hostLView),i=Ya(n);return new _o(r[On].data[i+8],r)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=og(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-_r}createEmbeddedView(n,r,i){let v,P;"number"==typeof i?v=i:null!=i&&(v=i.index,P=i.injector);const re=n.createEmbeddedViewImpl(r||{},P,null);return this.insertImpl(re,v,Qs(this._hostTNode,null)),re}createComponent(n,r,i,v,P){var $,de;const De=n&&!function za(t){return"function"==typeof t}(n);let Ve;if(De)Ve=r;else{const jn=r||{};Ve=jn.index,i=jn.injector,v=jn.projectableNodes,P=jn.environmentInjector||jn.ngModuleRef}const nt=De?n:new ml(nn(n)),Ct=i||this.parentInjector;if(!P&&null==nt.ngModule){const xn=(De?Ct:this.parentInjector).get(di,null);xn&&(P=xn)}const Gt=nn(null!==($=nt.componentType)&&void 0!==$?$:{}),on=(null==Gt?void 0:Gt.id,null),vn=null!==(de=null==on?void 0:on.firstChild)&&void 0!==de?de:null,Mn=nt.create(Ct,v,vn,P);return this.insertImpl(Mn.hostView,Ve,Qs(this._hostTNode,on)),Mn}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,i){const v=n._lView;if(function Zn(t){return Hr(t[fr])}(v)){const re=this.indexOf(n);if(-1!==re)this.detach(re);else{const de=v[fr],De=new rg(de,de[xr],de[fr]);De.detach(De.indexOf(n))}}const P=this._adjustIndex(r),$=this._lContainer;return rl($,v,P,i),n.attachToViewContainerRef(),Cc(nh($),P,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=og(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),i=Za(this._lContainer,r);i&&(ka(nh(this._lContainer),r),xu(i[On],i))}detach(n){const r=this._adjustIndex(n,-1),i=Za(this._lContainer,r);return i&&null!=ka(nh(this._lContainer),r)?new sl(i):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function og(t){return t[8]}function nh(t){return t[8]||(t[8]=[])}function ig(t,n){let r;const i=n[t.index];return Hr(i)?r=i:(r=_m(i,n,null,t),n[t.index]=r,Mu(n,r)),sg(r,n,t,i),new rg(r,t,n)}let sg=function lg(t,n,r,i){if(t[co])return;let v;v=8&r.type?St(i):function Px(t,n){const r=t[Yn],i=r.createComment(""),v=cn(n,t);return cs(r,Cu(r,v),i,function H1(t,n){return t.nextSibling(n)}(r,v),!1),i}(n,r),t[co]=v},rh=()=>!1;class oh{constructor(n){this.queryList=n,this.matches=null}clone(){return new oh(this.queryList)}setDirty(){this.queryList.setDirty()}}class ih{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const i=null!==n.contentQueries?n.contentQueries[0]:r.length,v=[];for(let P=0;P<i;P++){const $=r.getByIndex(P);v.push(this.queries[$.indexInDeclarationView].clone())}return new ih(v)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==ch(n,r).matches&&this.queries[r].setDirty()}}class ug{constructor(n,r,i=null){this.flags=r,this.read=i,this.predicate="string"==typeof n?function Ux(t){return t.split(",").map(n=>n.trim())}(n):n}}class sh{constructor(n=[]){this.queries=n}elementStart(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let i=0;i<this.length;i++){const v=null!==r?r.length:0,P=this.getByIndex(i).embeddedTView(n,v);P&&(P.indexInDeclarationView=i,null!==r?r.push(P):r=[P])}return null!==r?new sh(r):null}template(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ah{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new ah(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const i=this.metadata.predicate;if(Array.isArray(i))for(let v=0;v<i.length;v++){const P=i[v];this.matchTNodeWithReadOption(n,r,Lx(r,P)),this.matchTNodeWithReadOption(n,r,cu(r,n,P,!1,!1))}else i===al?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,cu(r,n,i,!1,!1))}matchTNodeWithReadOption(n,r,i){if(null!==i){const v=this.metadata.read;if(null!==v)if(v===Bi||v===Uu||v===al&&4&r.type)this.addMatch(r.index,-2);else{const P=cu(r,n,v,!1,!1);null!==P&&this.addMatch(r.index,P)}else this.addMatch(r.index,i)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function Lx(t,n){const r=t.localNames;if(null!==r)for(let i=0;i<r.length;i+=2)if(r[i]===n)return r[i+1];return null}function Fx(t,n,r,i){return-1===r?function Nx(t,n){return 11&t.type?gi(t,n):4&t.type?Au(t,n):null}(n,t):-2===r?function Bx(t,n,r){return r===Bi?gi(n,t):r===al?Au(n,t):r===Uu?ig(n,t):void 0}(t,n,i):as(t,t[On],r,n)}function cg(t,n,r,i){const v=n[fo].queries[i];if(null===v.matches){const P=t.data,$=r.matches,re=[];for(let de=0;null!==$&&de<$.length;de+=2){const De=$[de];re.push(De<0?null:Fx(n,P[De],$[de+1],r.metadata.read))}v.matches=re}return v.matches}function lh(t,n,r,i){const v=t.queries.getByIndex(r),P=v.matches;if(null!==P){const $=cg(t,n,v,r);for(let re=0;re<P.length;re+=2){const de=P[re];if(de>0)i.push($[re/2]);else{const De=P[re+1],Ve=n[-de];for(let nt=_r;nt<Ve.length;nt++){const Ct=Ve[nt];Ct[So]===Ct[fr]&&lh(Ct[On],Ct,De,i)}if(null!==Ve[Lo]){const nt=Ve[Lo];for(let Ct=0;Ct<nt.length;Ct++){const Gt=nt[Ct];lh(Gt[On],Gt,De,i)}}}}}return i}function dg(t,n,r){var i;const v=new Bl(4==(4&r));return function tw(t,n,r,i){const v=wm(n);v.push(r),t.firstCreatePass&&xm(t).push(i,v.length-1)}(t,n,v,v.destroy),(null!==(i=n[fo])&&void 0!==i?i:n[fo]=new ih).queries.push(new oh(v))-1}function pg(t,n,r){null===t.queries&&(t.queries=new sh),t.queries.track(new ah(n,r))}function ch(t,n){return t.queries.getByIndex(n)}function mg(t,n){const r=t[On],i=ch(r,n);return i.crossesNgTemplate?lh(r,t,n,[]):cg(r,t,i,n)}function vg(t){return function gg(t){return"function"==typeof t&&void 0!==t[V]}(t)&&"function"==typeof t.set}function hh(t){let n=function Tg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const i=[t];for(;n;){let v;if(Do(t))v=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new tt(903,!1);v=n.\u0275dir}if(v){if(r){i.push(v);const $=t;$.inputs=$u(t.inputs),$.inputTransforms=$u(t.inputTransforms),$.declaredInputs=$u(t.declaredInputs),$.outputs=$u(t.outputs);const re=v.hostBindings;re&&nC(t,re);const de=v.viewQuery,De=v.contentQueries;if(de&&eC(t,de),De&&tC(t,De),Qx(t,v),ye(t.outputs,v.outputs),Do(v)&&v.data.animation){const Ve=t.data;Ve.animation=(Ve.animation||[]).concat(v.data.animation)}}const P=v.features;if(P)for(let $=0;$<P.length;$++){const re=P[$];re&&re.ngInherit&&re(t),re===hh&&(r=!1)}}n=Object.getPrototypeOf(n)}!function Zx(t){let n=0,r=null;for(let i=t.length-1;i>=0;i--){const v=t[i];v.hostVars=n+=v.hostVars,v.hostAttrs=ln(v.hostAttrs,r=ln(r,v.hostAttrs))}}(i)}function Qx(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const v=n.inputs[i];if(void 0!==v&&(t.inputs[i]=v,t.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){var r;const P=Array.isArray(v)?v[0]:v;if(!n.inputTransforms.hasOwnProperty(P))continue;null!==(r=t.inputTransforms)&&void 0!==r||(t.inputTransforms={}),t.inputTransforms[P]=n.inputTransforms[P]}}}function $u(t){return t===lr?{}:t===Z?[]:t}function eC(t,n){const r=t.viewQuery;t.viewQuery=r?(i,v)=>{n(i,v),r(i,v)}:n}function tC(t,n){const r=t.contentQueries;t.contentQueries=r?(i,v,P)=>{n(i,v,P),r(i,v,P)}:n}function nC(t,n){const r=t.hostBindings;t.hostBindings=r?(i,v)=>{n(i,v),r(i,v)}:n}function jg(t){const n=t.inputConfig,r={};for(const i in n)if(n.hasOwnProperty(i)){const v=n[i];Array.isArray(v)&&v[3]&&(r[i]=v[3])}t.inputTransforms=r}class hs{}class kg{}function lC(t,n){return new fh(t,null!=n?n:null,[])}class fh extends hs{constructor(n,r,i){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tg(this);const v=Kn(n);this._bootstrapComponents=ni(v.bootstrap),this._r3Injector=gp(n,r,[{provide:hs,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver},...i],Re(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ph extends kg{constructor(n){super(),this.moduleType=n}create(n){return new fh(this.moduleType,n,[])}}class Rg extends hs{constructor(n){super(),this.componentFactoryResolver=new tg(this),this.instance=null;const r=new Us([...n.providers,{provide:hs,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],n.parent||tu(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function mh(t,n,r=null){return new Rg({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let ta=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pe.g(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Hu(t){return!!gh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function gh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function so(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function na(t,n,r,i,v,P,$,re){const de=yn(),De=pr(),Ve=t+Xn,nt=De.firstCreatePass?function mC(t,n,r,i,v,P,$,re,de){const De=n.consts,Ve=Js(n,t,4,$||null,er(De,re));Nd(n,r,Ve,er(De,de)),ou(n,Ve);const nt=Ve.tView=Ld(2,Ve,i,v,P,n.directiveRegistry,n.pipeRegistry,null,n.schemas,De,null);return null!==n.queries&&(n.queries.template(n,Ve),nt.queries=n.queries.embeddedTView(Ve)),Ve}(Ve,De,de,n,r,i,v,P,$):De.data[Ve];Qo(nt,!1);const Ct=Lg(De,de,nt,t);Ss()&&Eu(De,de,Ct,nt),Po(Ct,de);const Gt=_m(Ct,de,Ct,nt);return de[Ve]=Gt,Mu(de,Gt),function ag(t,n,r){return rh(t,n,r)}(Gt,nt,de),Nn(nt)&&kd(De,de,nt),null!=$&&Rd(de,nt,re),na}let Lg=function Ng(t,n,r,i){return Ti(!0),n[Yn].createComment("")};function Dh(t,n,r,i){const v=yn();return so(v,he(),n)&&(pr(),bi(sr(),v,t,n,r,i)),Dh}function ca(t,n,r,i){return so(t,he(),r)?n+ar(r)+i:cr}function da(t,n,r,i,v,P){const re=function fs(t,n,r,i){const v=so(t,n,r);return so(t,n+1,i)||v}(t,function Io(){return Fn.lFrame.bindingIndex}(),r,v);return Ae(2),re?n+ar(r)+i+ar(v)+P:cr}function Ju(t,n){return t<<17|n<<2}function Yi(t){return t>>17&32767}function Ih(t){return 2|t}function ms(t){return(131068&t)>>2}function Mh(t,n){return-131069&t|n<<2}function Th(t){return 1|t}function py(t,n,r,i){const v=t[r+1],P=null===n;let $=i?Yi(v):ms(v),re=!1;for(;0!==$&&(!1===re||P);){const De=t[$+1];ZC(t[$],n)&&(re=!0,t[$+1]=i?Th(De):Ih(De)),$=i?Yi(De):ms(De)}re&&(t[r+1]=i?Ih(v):Th(v))}function ZC(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Oi(t,n)>=0}const bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function my(t){return t.substring(bo.key,bo.keyEnd)}function eE(t){return t.substring(bo.value,bo.valueEnd)}function yy(t,n){const r=bo.textEnd;let i=bo.key=va(t,n,r);return r===i?-1:(i=bo.keyEnd=function oE(t,n,r){let i;for(;n<r&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,r),i=_y(t,i,r),i=bo.value=va(t,i,r),i=bo.valueEnd=function iE(t,n,r){let i=-1,v=-1,P=-1,$=n,re=$;for(;$<r;){const de=t.charCodeAt($++);if(59===de)return re;34===de||39===de?re=$=by(t,de,$,r):n===$-4&&85===P&&82===v&&76===i&&40===de?re=$=by(t,41,$,r):de>32&&(re=$),P=v,v=i,i=-33&de}return re}(t,i,r),_y(t,i,r))}function va(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function _y(t,n,r,i){return(n=va(t,n,r))<r&&n++,n}function by(t,n,r,i){let v=-1,P=r;for(;P<i;){const $=t.charCodeAt(P++);if($==n&&92!==v)return P;v=92==$&&92===v?0:$}throw new Error}function Oh(t,n,r){const i=yn();return so(i,he(),n)&&Ho(pr(),sr(),i,t,n,i[Yn],r,!1),Oh}function Ah(t,n,r,i,v){const $=v?"class":"style";Gd(t,r,n.inputs[$],$,i)}function Ph(t,n){return function fi(t,n,r,i){const v=yn(),P=pr(),$=Ae(2);P.firstUpdatePass&&Cy(P,t,$,i),n!==cr&&so(v,$,n)&&Sy(P,P.data[zr()],v,v[Yn],t,v[$+1]=function mE(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Re(Ri(t)))),t}(n,r),i,$)}(t,n,null,!0),Ph}function hi(t){!function pi(t,n,r,i){const v=pr(),P=Ae(2);v.firstUpdatePass&&Cy(v,null,P,i);const $=yn();if(r!==cr&&so($,P,r)){const re=v.data[zr()];if(Iy(re,i)&&!xy(v,P)){let de=i?re.classesWithoutHost:re.stylesWithoutHost;null!==de&&(r=Ne(de,r||"")),Ah(v,re,$,r,i)}else!function pE(t,n,r,i,v,P,$,re){v===cr&&(v=Z);let de=0,De=0,Ve=0<v.length?v[0]:null,nt=0<P.length?P[0]:null;for(;null!==Ve||null!==nt;){const Ct=de<v.length?v[de+1]:void 0,Gt=De<P.length?P[De+1]:void 0;let vn,on=null;Ve===nt?(de+=2,De+=2,Ct!==Gt&&(on=nt,vn=Gt)):null===nt||null!==Ve&&Ve<nt?(de+=2,on=Ve):(De+=2,on=nt,vn=Gt),null!==on&&Sy(t,n,r,i,on,vn,$,re),Ve=de<v.length?v[de]:null,nt=De<P.length?P[De]:null}}(v,re,$,$[Yn],$[P+1],$[P+1]=function hE(t,n,r){if(null==r||""===r)return Z;const i=[],v=Ri(r);if(Array.isArray(v))for(let P=0;P<v.length;P++)t(i,v[P],!0);else if("object"==typeof v)for(const P in v)v.hasOwnProperty(P)&&t(i,P,v[P]);else"string"==typeof v&&n(i,v);return i}(t,n,r),i,P)}}(Ey,sE,t,!1)}function sE(t,n){for(let r=function nE(t){return function vy(t){bo.key=0,bo.keyEnd=0,bo.value=0,bo.valueEnd=0,bo.textEnd=t.length}(t),yy(t,va(t,0,bo.textEnd))}(n);r>=0;r=yy(n,r))Ey(t,my(n),eE(n))}function xy(t,n){return n>=t.expandoStartIndex}function Cy(t,n,r,i){const v=t.data;if(null===v[r+1]){const P=v[zr()],$=xy(t,r);Iy(P,i)&&null===n&&!$&&(n=!1),n=function lE(t,n,r,i){const v=function Tn(t){const n=Fn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let P=i?n.residualClasses:n.residualStyles;if(null===v)0===(i?n.classBindings:n.styleBindings)&&(r=wl(r=jh(null,t,n,r,i),n.attrs,i),P=null);else{const $=n.directiveStylingLast;if(-1===$||t[$]!==v)if(r=jh(v,t,n,r,i),null===P){let de=function uE(t,n,r){const i=r?n.classBindings:n.styleBindings;if(0!==ms(i))return t[Yi(i)]}(t,n,i);void 0!==de&&Array.isArray(de)&&(de=jh(null,t,n,de[1],i),de=wl(de,n.attrs,i),function cE(t,n,r,i){t[Yi(r?n.classBindings:n.styleBindings)]=i}(t,n,i,de))}else P=function dE(t,n,r){let i;const v=n.directiveEnd;for(let P=1+n.directiveStylingLast;P<v;P++)i=wl(i,t[P].hostAttrs,r);return wl(i,n.attrs,r)}(t,n,i)}return void 0!==P&&(i?n.residualClasses=P:n.residualStyles=P),r}(v,P,n,i),function JC(t,n,r,i,v,P){let $=P?n.classBindings:n.styleBindings,re=Yi($),de=ms($);t[i]=r;let Ve,De=!1;if(Array.isArray(r)?(Ve=r[1],(null===Ve||Oi(r,Ve)>0)&&(De=!0)):Ve=r,v)if(0!==de){const Ct=Yi(t[re+1]);t[i+1]=Ju(Ct,re),0!==Ct&&(t[Ct+1]=Mh(t[Ct+1],i)),t[re+1]=function XC(t,n){return 131071&t|n<<17}(t[re+1],i)}else t[i+1]=Ju(re,0),0!==re&&(t[re+1]=Mh(t[re+1],i)),re=i;else t[i+1]=Ju(de,0),0===re?re=i:t[de+1]=Mh(t[de+1],i),de=i;De&&(t[i+1]=Ih(t[i+1])),py(t,Ve,i,!0),py(t,Ve,i,!1),function QC(t,n,r,i,v){const P=v?t.residualClasses:t.residualStyles;null!=P&&"string"==typeof n&&Oi(P,n)>=0&&(r[i+1]=Th(r[i+1]))}(n,Ve,t,i,P),$=Ju(re,de),P?n.classBindings=$:n.styleBindings=$}(v,P,n,r,$,i)}}function jh(t,n,r,i,v){let P=null;const $=r.directiveEnd;let re=r.directiveStylingLast;for(-1===re?re=r.directiveStart:re++;re<$&&(P=n[re],i=wl(i,P.hostAttrs,v),P!==t);)re++;return null!==t&&(r.directiveStylingLast=re),i}function wl(t,n,r){const i=r?1:2;let v=-1;if(null!==n)for(let P=0;P<n.length;P++){const $=n[P];"number"==typeof $?v=$:v===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),No(t,$,!!r||n[++P]))}return void 0===t?null:t}function Ey(t,n,r){No(t,n,Ri(r))}function Sy(t,n,r,i,v,P,$,re){if(!(3&n.type))return;const de=t.data,De=de[re+1],Ve=function KC(t){return 1==(1&t)}(De)?Dy(de,n,r,v,ms(De),$):void 0;Qu(Ve)||(Qu(P)||function YC(t){return 2==(2&t)}(De)&&(P=Dy(de,null,r,v,re,$)),function q1(t,n,r,i,v){if(n)v?t.addClass(r,i):t.removeClass(r,i);else{let P=-1===i.indexOf("-")?void 0:_u.DashCase;null==v?t.removeStyle(r,i,P):("string"==typeof v&&v.endsWith("!important")&&(v=v.slice(0,-10),P|=_u.Important),t.setStyle(r,i,v,P))}}(i,$,sn(zr(),r),v,P))}function Dy(t,n,r,i,v,P){const $=null===n;let re;for(;v>0;){const de=t[v],De=Array.isArray(de),Ve=De?de[1]:de,nt=null===Ve;let Ct=r[v+1];Ct===cr&&(Ct=nt?Z:void 0);let Gt=nt?Fl(Ct,i):Ve===i?Ct:void 0;if(De&&!Qu(Gt)&&(Gt=Fl(de,i)),Qu(Gt)&&(re=Gt,$))return re;const on=t[v+1];v=$?Yi(on):ms(on)}if(null!==n){let de=P?n.residualClasses:n.residualStyles;null!=de&&(re=Fl(de,i))}return re}function Qu(t){return void 0!==t}function Iy(t,n){return 0!=(t.flags&(n?8:16))}function Zu(t,n,r,i){const v=yn(),P=pr(),$=Xn+t,re=v[Yn],de=P.firstCreatePass?function FE(t,n,r,i,v,P){const $=n.consts,de=Js(n,t,2,i,er($,v));return Nd(n,r,de,er($,P)),null!==de.attrs&&Bu(de,de.attrs,!1),null!==de.mergedAttrs&&Bu(de,de.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,de),de}($,P,v,n,r,i):P.data[$],De=Ay(P,v,de,re,n,t);v[$]=De;const Ve=Nn(de);return Qo(de,!0),am(re,De,de),32!=(32&de.flags)&&Ss()&&Eu(P,v,De,de),0===function no(){return Fn.lFrame.elementDepthCount}()&&Po(De,v),function Jo(){Fn.lFrame.elementDepthCount++}(),Ve&&(kd(P,v,de),jd(P,de,v)),null!==i&&Rd(v,de),Zu}function ec(){let t=Ar();ws()?xs():(t=t.parent,Qo(t,!1));const n=t;(function Da(t){return Fn.skipHydrationRootTNode===t})(n)&&function Ta(){Fn.skipHydrationRootTNode=null}(),function ci(){Fn.lFrame.elementDepthCount--}();const r=pr();return r.firstCreatePass&&(ou(r,t),Co(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function wb(t){return 0!=(8&t.flags)}(n)&&Ah(r,n,yn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function xb(t){return 0!=(16&t.flags)}(n)&&Ah(r,n,yn(),n.stylesWithoutHost,!1),ec}function Fh(t,n,r,i){return Zu(t,n,r,i),ec(),Fh}let Ay=(t,n,r,i,v,P)=>(Ti(!0),wu(i,v,function Ll(){return Fn.lFrame.currentNamespace}()));function Bh(t,n,r){const i=yn(),v=pr(),P=t+Xn,$=v.firstCreatePass?function GE(t,n,r,i,v){const P=n.consts,$=er(P,i),re=Js(n,t,8,"ng-container",$);return null!==$&&Bu(re,$,!0),Nd(n,r,re,er(P,v)),null!==n.queries&&n.queries.elementStart(n,re),re}(P,v,i,n,r):v.data[P];Qo($,!0);const re=Py(v,i,$,t);return i[P]=re,Ss()&&Eu(v,i,re,$),Po(re,i),Nn($)&&(kd(v,i,$),jd(v,$,i)),null!=r&&Rd(i,$),Bh}function Uh(){let t=Ar();const n=pr();return ws()?xs():(t=t.parent,Qo(t,!1)),n.firstCreatePass&&(ou(n,t),Co(t)&&n.queries.elementEnd(t)),Uh}function Gh(t,n,r){return Bh(t,n,r),Uh(),Gh}let Py=(t,n,r,i)=>(Ti(!0),Dd(n[Yn],""));function jy(){return yn()}const gs=void 0;var WE=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HE(t){const r=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===i?1:5}];let _a={};function $h(t){const n=function zE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=Ny(n);if(r)return r;const i=n.split("-")[0];if(r=Ny(i),r)return r;if("en"===i)return WE;throw new tt(701,!1)}function Ly(t){return $h(t)[ba.PluralCase]}function Ny(t){return t in _a||(_a[t]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[t]),_a[t]}var ba=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ba||{});const wa="en-US";let Fy=wa;function Wh(t,n,r,i){const v=yn(),P=pr(),$=Ar();return zh(P,v,v[Yn],$,t,n,i),Wh}function zh(t,n,r,i,v,P,$){const re=Nn(i),De=t.firstCreatePass&&xm(t),Ve=n[ur],nt=wm(n);let Ct=!0;if(3&i.type||$){const vn=cn(i,n),Mn=$?$(vn):vn,jn=nt.length,xn=$?dr=>$(St(dr[i.index])):i.index;let Jn=null;if(!$&&re&&(Jn=function US(t,n,r,i){const v=t.cleanup;if(null!=v)for(let P=0;P<v.length-1;P+=2){const $=v[P];if($===r&&v[P+1]===i){const re=n[uo],de=v[P+2];return re.length>de?re[de]:null}"string"==typeof $&&(P+=2)}return null}(t,n,v,i.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=P,Jn.__ngLastListenerFn__=P,Ct=!1;else{P=dv(i,n,Ve,P,!1);const dr=r.listen(Mn,v,P);nt.push(P,dr),De&&De.push(v,xn,jn,jn+1)}}else P=dv(i,n,Ve,P,!1);const Gt=i.outputs;let on;if(Ct&&null!==Gt&&(on=Gt[v])){const vn=on.length;if(vn)for(let Mn=0;Mn<vn;Mn+=2){const gr=n[on[Mn]][on[Mn+1]].subscribe(P),Mo=nt.length;nt.push(P,gr),De&&De.push(v,i.index,Mo,"function"==typeof gr?Mo+1:-(Mo+1))}}}function cv(t,n,r,i){const v=w(null);try{return vi(6,n,r),!1!==r(i)}catch(P){return Tu(t,P),!1}finally{vi(7,n,r),w(v)}}function dv(t,n,r,i,v){return function P($){if($===Function)return i;il(t.componentOffset>-1?Hn(t.index,n):n);let de=cv(n,r,i,$),De=P.__ngNextListenerFn__;for(;De;)de=cv(n,r,De,$)&&de,De=De.__ngNextListenerFn__;return v&&!1===de&&$.preventDefault(),de}}function hv(t=1){return function ii(t){return(Fn.lFrame.contextLView=function Zr(t,n){for(;t>0;)n=n[xo],t--;return n}(t,Fn.lFrame.contextLView))[ur]}(t)}function GS(t,n){let r=null;const i=function mt(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let v=0;v<n.length;v++){const P=n[v];if("*"!==P){if(null===i?ze(t,P,!0):An(i,P))return v}else r=v}return r}function fv(t){const n=yn()[Dr][xr];if(!n.projection){const i=n.projection=function Ra(t,n){const r=[];for(let i=0;i<t;i++)r.push(n);return r}(t?t.length:1,null),v=i.slice();let P=n.child;for(;null!==P;){const $=t?GS(P,t):0;null!==$&&(v[$]?v[$].projectionNext=P:i[$]=P,v[$]=P),P=P.next}}}function pv(t,n=0,r){const i=yn(),v=pr(),P=Js(v,Xn+t,16,null,r||null);null===P.projection&&(P.projection=n),xs(),(!i[Lr]||Ii())&&32!=(32&P.flags)&&function W1(t,n,r){im(n[Yn],0,n,r,Md(t,r,n),Zp(r.parent||n[xr],r,n))}(v,i,P)}function ic(t,n,r,i,v){const P=yn(),$=ca(P,n,r,i);return $!==cr&&Ho(pr(),sr(),P,t,$,P[Yn],v,!1),ic}function Ev(t,n,r,i){!function fg(t,n,r,i){const v=pr();if(v.firstCreatePass){const P=Ar();pg(v,new ug(n,r,i),P.index),function Gx(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(v,t),2==(2&r)&&(v.staticContentQueries=!0)}return dg(v,yn(),r)}(t,n,r,i)}function Sv(t,n,r){!function hg(t,n,r){const i=pr();return i.firstCreatePass&&(pg(i,new ug(t,n,r),-1),2==(2&n)&&(i.staticViewQueries=!0)),dg(i,yn(),n)}(t,n,r)}function Dv(t){const n=yn(),r=pr(),i=or();ir(i+1);const v=ch(r,i);if(t.dirty&&function Wn(t){return 4==(4&t[Gn])}(n)===(2==(2&v.metadata.flags))){if(null===v.matches)t.reset([]);else{const P=mg(n,i);t.reset(P,xc),t.notifyOnChanges()}return!0}return!1}function Iv(){return function uh(t,n){return t[fo].queries[n].queryList}(yn(),or())}function Mv(t){return function $n(t,n){return t[n]}(function Cs(){return Fn.lFrame.contextLView}(),Xn+t)}function Fv(t,n=""){const r=yn(),i=pr(),v=t+Xn,P=i.firstCreatePass?Js(i,v,1,n,null):i.data[v],$=Bv(i,r,P,n,t);r[v]=$,Ss()&&Eu(i,r,$,P),Qo(P,!1)}let Bv=(t,n,r,i,v)=>(Ti(!0),function bu(t,n){return t.createText(n)}(n[Yn],i));function qh(t){return sc("",t,""),qh}function sc(t,n,r){const i=yn(),v=ca(i,t,n,r);return v!==cr&&Ni(i,zr(),v),sc}function Yh(t,n,r,i,v){const P=yn(),$=da(P,t,n,r,i,v);return $!==cr&&Ni(P,zr(),$),Yh}function Xh(t,n,r){vg(n)&&(n=n());const i=yn();return so(i,he(),n)&&Ho(pr(),sr(),i,t,n,i[Yn],r,!1),Xh}function qv(t,n){const r=vg(t);return r&&t.set(n),r}function Kh(t,n){const r=yn(),i=pr(),v=Ar();return zh(i,r,r[Yn],v,t,n),Kh}function Jh(t,n,r,i,v){if(t=zn(t),Array.isArray(t))for(let P=0;P<t.length;P++)Jh(t[P],n,r,i,v);else{const P=pr(),$=yn(),re=Ar();let de=ss(t)?t:zn(t.provide);const De=zf(t),Ve=1048575&re.providerIndexes,nt=re.directiveStart,Ct=re.providerIndexes>>20;if(ss(t)||!t.multi){const Gt=new qa(De,v,Ks),on=Zh(de,n,v?Ve:Ve+Ct,nt);-1===on?(ad(lu(re,$),P,de),Qh(P,t,n.length),n.push(de),re.directiveStart++,re.directiveEnd++,v&&(re.providerIndexes+=1048576),r.push(Gt),$.push(Gt)):(r[on]=Gt,$[on]=Gt)}else{const Gt=Zh(de,n,Ve+Ct,nt),on=Zh(de,n,Ve,Ve+Ct),Mn=on>=0&&r[on];if(v&&!Mn||!v&&!(Gt>=0&&r[Gt])){ad(lu(re,$),P,de);const jn=function sD(t,n,r,i,v){const P=new qa(t,r,Ks);return P.multi=[],P.index=n,P.componentProviders=0,Yv(P,v,i&&!r),P}(v?iD:oD,r.length,v,i,De);!v&&Mn&&(r[on].providerFactory=jn),Qh(P,t,n.length,0),n.push(de),re.directiveStart++,re.directiveEnd++,v&&(re.providerIndexes+=1048576),r.push(jn),$.push(jn)}else Qh(P,t,Gt>-1?Gt:on,Yv(r[v?on:Gt],De,!v&&i));!v&&i&&Mn&&r[on].componentProviders++}}}function Qh(t,n,r,i){const v=ss(n),P=function X_(t){return!!t.useClass}(n);if(v||P){const de=(P?zn(n.useClass):n).prototype.ngOnDestroy;if(de){const De=t.destroyHooks||(t.destroyHooks=[]);if(!v&&n.multi){const Ve=De.indexOf(r);-1===Ve?De.push(r,[i,de]):De[Ve+1].push(i,de)}else De.push(r,de)}}}function Yv(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Zh(t,n,r,i){for(let v=r;v<i;v++)if(n[v]===t)return v;return-1}function oD(t,n,r,i){return ef(this.multi,[])}function iD(t,n,r,i){const v=this.multi;let P;if(this.providerFactory){const $=this.providerFactory.componentProviders,re=as(r,r[On],this.providerFactory.index,i);P=re.slice(0,$),ef(v,P);for(let de=$;de<re.length;de++)P.push(re[de])}else P=[],ef(v,P);return P}function ef(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function Xv(t,n=[]){return r=>{r.providersResolver=(i,v)=>function rD(t,n,r){const i=pr();if(i.firstCreatePass){const v=Do(t);Jh(r,i.data,i.blueprint,v,!0),Jh(n,i.data,i.blueprint,v,!1)}}(i,v?v(t):t,n)}}let aD=(()=>{var t;class n{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const v=zc(0,i.type),P=v.length>0?mh([v],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,P)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Fr({token:t,providedIn:"environment",factory:()=>new t(Ao(di))}),n})();function Kv(t){wi("NgStandalone"),t.getStandaloneInjector=n=>n.get(aD).getOrCreateStandaloneInjector(t)}function s0(t,n,r){const i=function Gr(){const t=Fn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,v=yn();return v[i]===cr?function xi(t,n,r){return t[n]=r}(v,i,r?n.call(r):n()):function yl(t,n){return t[n]}(v,i)}class I0{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let M0=(()=>{var t;class n{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const P0=new xe(""),j0=new xe("");let cf,D2=(()=>{var t;class n{constructor(i,v,P){this._ngZone=i,this.registry=v,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,cf||(function I2(t){cf=t}(P),P.addToWindow(v)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(i)||(clearTimeout(v.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,v,P){let $=-1;v&&v>0&&($=setTimeout(()=>{this._callbacks=this._callbacks.filter(re=>re.timeoutId!==$),i()},v)),this._callbacks.push({doneCb:i,timeoutId:$,updateCb:P})}whenStable(i,v,P){if(P&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,v,P),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,v,P){return[]}}return(t=n).\u0275fac=function(i){return new(i||t)(Ao(io),Ao(k0),Ao(j0))},t.\u0275prov=Fr({token:t,factory:t.\u0275fac}),n})(),k0=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(i,v){this._applications.set(i,v)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,v=!0){var P,$;return null!==(P=null===($=cf)||void 0===$?void 0:$.findTestabilityInTree(this,i,v))&&void 0!==P?P:null}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function df(t){return!!t&&"function"==typeof t.then}function R0(t){return!!t&&"function"==typeof t.subscribe}const L0=new xe("");let hf=(()=>{var t;class n{constructor(){var i;this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,P)=>{this.resolve=v,this.reject=P}),this.appInits=null!==(i=wr(L0,{optional:!0}))&&void 0!==i?i:[]}runInitializers(){if(this.initialized)return;const i=[];for(const P of this.appInits){const $=P();if(df($))i.push($);else if(R0($)){const re=new Promise((de,De)=>{$.subscribe({complete:de,error:De})});i.push(re)}}const v=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{v()}).catch(P=>{this.reject(P)}),0===i.length&&v(),this.initialized=!0}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const ff=new xe("");function B0(t,n){return Array.isArray(n)?n.reduce(B0,t):{...t,...n}}let Xi=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wr(vp),this.afterRenderEffectManager=wr(hl),this.componentTypes=[],this.components=[],this.isStable=wr(ta).hasPendingTasks.pipe((0,$e.k)(i=>!i)),this._injector=wr(di)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,v){const P=i instanceof Gm;if(!this._injector.get(hf).done)throw!P&&qn(i),new tt(405,!1);let re;re=P?i:this._injector.get(Lu).resolveComponentFactory(i),this.componentTypes.push(re.componentType);const de=function M2(t){return t.isBoundToModule}(re)?void 0:this._injector.get(hs),Ve=re.create(ti.NULL,[],v||re.selector,de),nt=Ve.location.nativeElement,Ct=Ve.injector.get(P0,null);return null==Ct||Ct.registerApplication(nt),Ve.onDestroy(()=>{this.detachView(Ve.hostView),cc(this.components,Ve),null==Ct||Ct.unregisterApplication(nt)}),this._loadComponent(Ve),Ve}tick(){if(this._runningTick)throw new tt(101,!1);const i=w(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(v){this.internalErrorHandler(v)}finally{this._runningTick=!1,w(i)}}detectChangesInAttachedViews(){let i=0;const v=this.afterRenderEffectManager;for(;;){if(100===i)throw new tt(103,!1);const P=0===i;for(let{_lView:$,notifyErrorHandler:re}of this._views)!P&&!pf($)||this.detectChangesInView($,re,P);if(i++,v.executeInternalCallbacks(),!this._views.some(({_lView:$})=>pf($))&&(v.execute(),!this._views.some(({_lView:$})=>pf($))))break}}detectChangesInView(i,v,P){let $;P?($=0,i[Gn]|=1024):$=64&i[Gn]?0:1,Ou(i,v,$)}attachView(i){const v=i;this._views.push(v),v.attachToAppRef(this)}detachView(i){const v=i;cc(this._views,v),v.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const v=this._injector.get(ff,[]);[...this._bootstrapListeners,...v].forEach(P=>P(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cc(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new tt(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function cc(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function pf(t){return Jr(t)}class O2{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let A2=(()=>{var t;class n{compileModuleSync(i){return new ph(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const v=this.compileModuleSync(i),$=ni(Kn(i).declarations).reduce((re,de)=>{const De=nn(de);return De&&re.push(new ml(De)),re},[]);return new O2(v,$)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),k2=(()=>{var t;class n{constructor(){this.zone=wr(io),this.applicationRef=wr(Xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function R2(){const t=wr(io),n=wr(Vi);return r=>t.runOutsideAngular(()=>n.handleError(r))}let N2=(()=>{var t;class n{constructor(){this.subscription=new Oe.wH,this.initialized=!1,this.zone=wr(io),this.pendingTasks=wr(ta)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var v;io.assertInAngularZone(),null!==(v=i)&&void 0!==v||(i=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const dc=new xe("",{providedIn:"root",factory:()=>wr(dc,pt.Optional|pt.SkipSelf)||function F2(){return typeof $localize<"u"&&$localize.locale||wa}()}),B2=new xe("",{providedIn:"root",factory:()=>"USD"}),mf=new xe("");let V0=(()=>{var t;class n{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,v){const P=function gx(t="zone.js",n){return"noop"===t?new Ym:"zone.js"===t?new io(n):t}(null==v?void 0:v.ngZone,function $0(t){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==t?void 0:t.runCoalescing)&&void 0!==r&&r}}({eventCoalescing:null==v?void 0:v.ngZoneEventCoalescing,runCoalescing:null==v?void 0:v.ngZoneRunCoalescing}));return P.run(()=>{const $=function uC(t,n,r){return new fh(t,n,r)}(i.moduleType,this.injector,function G0(t){return[{provide:io,useFactory:t},{provide:is,multi:!0,useFactory:()=>{const n=wr(k2,{optional:!0});return()=>n.initialize()}},{provide:is,multi:!0,useFactory:()=>{const n=wr(N2);return()=>{n.initialize()}}},{provide:vp,useFactory:R2}]}(()=>P)),re=$.injector.get(Vi,null);return P.runOutsideAngular(()=>{const de=P.onError.subscribe({next:De=>{re.handleError(De)}});$.onDestroy(()=>{cc(this._modules,$),de.unsubscribe()})}),function F0(t,n,r){try{const i=r();return df(i)?i.catch(v=>{throw n.runOutsideAngular(()=>t.handleError(v)),v}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(re,P,()=>{const de=$.injector.get(hf);return de.runInitializers(),de.donePromise.then(()=>(function By(t){"string"==typeof t&&(Fy=t.toLowerCase().replace(/_/g,"-"))}($.injector.get(dc,wa)||wa),this._moduleDoBootstrap($),$))})})}bootstrapModule(i,v=[]){const P=B0({},v);return function j2(t,n,r){const i=new ph(r);return Promise.resolve(i)}(0,0,i).then($=>this.bootstrapModuleFactory($,P))}_moduleDoBootstrap(i){const v=i.injector.get(Xi);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(P=>v.bootstrap(P));else{if(!i.instance.ngDoBootstrap)throw new tt(-403,!1);i.instance.ngDoBootstrap(v)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const i=this._injector.get(mf,null);i&&(i.forEach(v=>v()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(i){return new(i||t)(Ao(ti))},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Ki=null;const H0=new xe("");function W0(t,n,r=[]){const i=`Platform: ${n}`,v=new xe(i);return(P=[])=>{let $=gf();if(!$||$.injector.get(H0,!1)){const re=[...r,...P,{provide:v,useValue:!0}];t?t(re):function G2(t){if(Ki&&!Ki.get(H0,!1))throw new tt(400,!1);(function N0(){!function ie(t){K=t}(()=>{throw new tt(600,!1)})})(),Ki=t;const n=t.get(V0);(function q0(t){const n=t.get(ot,null);null==n||n.forEach(r=>r())})(t)}(function z0(t=[],n){return ti.create({name:n,providers:[{provide:Xc,useValue:"platform"},{provide:mf,useValue:new Set([()=>Ki=null])},...t]})}(re,i))}return function $2(t){const n=gf();if(!n)throw new tt(401,!1);return n}()}}function gf(){var t,n;return null!==(t=null===(n=Ki)||void 0===n?void 0:n.get(V0))&&void 0!==t?t:null}function H2(){}let X0=(()=>{class n{}return n.__NG_ELEMENT_ID__=W2,n})();function W2(t){return function z2(t,n,r){if(Xr(t)&&!r){const i=Hn(t.index,n);return new sl(i,i)}return 47&t.type?new sl(n[Dr],n):null}(Ar(),yn(),16==(16&t))}class Z0{constructor(){}supports(n){return Hu(n)}create(n){return new J2(n)}}const K2=(t,n)=>n;class J2{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||K2}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,i=this._removalsHead,v=0,P=null;for(;r||i;){const $=!i||r&&r.currentIndex<t_(i,v,P)?r:i,re=t_($,v,P),de=$.currentIndex;if($===i)v--,i=i._nextRemoved;else if(r=r._next,null==$.previousIndex)v++;else{P||(P=[]);const De=re-v,Ve=de-v;if(De!=Ve){for(let Ct=0;Ct<De;Ct++){const Gt=Ct<P.length?P[Ct]:P[Ct]=0,on=Gt+Ct;Ve<=on&&on<De&&(P[Ct]=Gt+1)}P[$.previousIndex]=Ve-De}}re!==de&&n($,re,de)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Hu(n))throw new tt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let v,P,$,r=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let re=0;re<this.length;re++)P=n[re],$=this._trackByFn(re,P),null!==r&&Object.is(r.trackById,$)?(i&&(r=this._verifyReinsertion(r,P,$,re)),Object.is(r.item,P)||this._addIdentityChange(r,P)):(r=this._mismatch(r,P,$,re),i=!0),r=r._next}else v=0,function fC(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let i;for(;!(i=r.next()).done;)n(i.value)}}(n,re=>{$=this._trackByFn(v,re),null!==r&&Object.is(r.trackById,$)?(i&&(r=this._verifyReinsertion(r,re,$,v)),Object.is(r.item,re)||this._addIdentityChange(r,re)):(r=this._mismatch(r,re,$,v),i=!0),r=r._next,v++}),this.length=v;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,i,v){let P;return null===n?P=this._itTail:(P=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,P,v)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,v))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,P,v)):n=this._addAfter(new Q2(r,i),P,v),n}_verifyReinsertion(n,r,i,v){let P=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==P?n=this._reinsertAfter(P,n._prev,v):n.currentIndex!=v&&(n.currentIndex=v,this._addToMoves(n,v)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const v=n._prevRemoved,P=n._nextRemoved;return null===v?this._removalsHead=P:v._nextRemoved=P,null===P?this._removalsTail=v:P._prevRemoved=v,this._insertAfter(n,r,i),this._addToMoves(n,i),n}_moveAfter(n,r,i){return this._unlink(n),this._insertAfter(n,r,i),this._addToMoves(n,i),n}_addAfter(n,r,i){return this._insertAfter(n,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,i){const v=null===r?this._itHead:r._next;return n._next=v,n._prev=r,null===v?this._itTail=n:v._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new e_),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,i=n._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new e_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Q2{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Z2{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const r=n._prevDup,i=n._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}class e_{constructor(){this.map=new Map}put(n){const r=n.trackById;let i=this.map.get(r);i||(i=new Z2,this.map.set(r,i)),i.add(n)}get(n,r){const v=this.map.get(n);return v?v.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function t_(t,n,r){const i=t.previousIndex;if(null===i)return i;let v=0;return r&&i<r.length&&(v=r[i]),i+n+v}class n_{constructor(){}supports(n){return n instanceof Map||gh(n)}create(){return new eI}}class eI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||gh(n)))throw new tt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,v)=>{if(r&&r.key===v)this._maybeAddToChanges(r,i),this._appendAfter=r,r=r._next;else{const P=this._getOrCreateRecordForKey(v,i);r=this._insertBeforeOrAppend(r,P)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let i=r;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const i=n._prev;return r._next=n,r._prev=i,n._prev=r,i&&(i._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const v=this._records.get(n);this._maybeAddToChanges(v,r);const P=v._prev,$=v._next;return P&&(P._next=$),$&&($._prev=P),v._next=null,v._prev=null,v}const i=new tI(n);return this._records.set(n,i),i.currentValue=r,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(i=>r(n[i],i))}}class tI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function r_(){return new wf([new Z0])}let wf=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,v){if(null!=v){const P=v.factories.slice();i=i.concat(P)}return new n(i)}static extend(i){return{provide:n,useFactory:v=>n.create(i,v||r_()),deps:[[n,new Kl,new Xl]]}}find(i){const v=this.factories.find(P=>P.supports(i));if(null!=v)return v;throw new tt(901,!1)}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:r_}),n})();function o_(){return new xf([new n_])}let xf=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,v){if(v){const P=v.factories.slice();i=i.concat(P)}return new n(i)}static extend(i){return{provide:n,useFactory:v=>n.create(i,v||o_()),deps:[[n,new Kl,new Xl]]}}find(i){const v=this.factories.find(P=>P.supports(i));if(v)return v;throw new tt(901,!1)}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:o_}),n})();const oI=W0(null,"core",[]);let iI=(()=>{var t;class n{constructor(i){}}return(t=n).\u0275fac=function(i){return new(i||t)(Ao(Xi))},t.\u0275mod=Ge({type:t}),t.\u0275inj=rs({}),n})();function jI(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function RI(t){const n=w(null);try{return t()}finally{w(n)}}function GI(t,n){const r=nn(t),i=n.elementInjector||tu();return new ml(r).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function $I(t){const n=nn(t);if(!n)return null;const r=new ml(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4716:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{ot:()=>f,y:()=>S,_t:()=>Ro,Gu:()=>_r,WM:()=>B,Y6:()=>a,eq:()=>gt,ue:()=>jt,_G:()=>In});var g=fe(4496),Ce=fe(1368),st=fe(2115),Fe=fe(3252),o=fe(4300),V=fe(560),w=fe(6624),_=fe(7773),d=fe(4187),p=fe(7904),C=fe(4704);let x=(()=>{var A;class O{constructor(X,ce){this._renderer=X,this._elementRef=ce,this.onChange=Ue=>{},this.onTouched=()=>{}}setProperty(X,ce){this._renderer.setProperty(this._elementRef.nativeElement,X,ce)}registerOnTouched(X){this.onTouched=X}registerOnChange(X){this.onChange=X}setDisabledState(X){this.setProperty("disabled",X)}}return(A=O).\u0275fac=function(X){return new(X||A)(g.GI1(g.q87),g.GI1(g.GMv))},A.\u0275dir=g.Sc5({type:A}),O})(),s=(()=>{var A;class O extends x{}return(A=O).\u0275fac=(()=>{let J;return function(ce){return(J||(J=g.otF(A)))(ce||A)}})(),A.\u0275dir=g.Sc5({type:A,features:[g.eg9]}),O})();const a=new g.UbH(""),u={provide:a,useExisting:(0,g.wd)(()=>f),multi:!0},y=new g.UbH("");let f=(()=>{var A;class O extends x{constructor(X,ce,Ue){super(X,ce),this._compositionMode=Ue,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function l(){const A=(0,Ce.uy)()?(0,Ce.uy)().getUserAgent():"";return/android (\d+)/.test(A.toLowerCase())}())}writeValue(X){this.setProperty("value",null==X?"":X)}_handleInput(X){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(X)}_compositionStart(){this._composing=!0}_compositionEnd(X){this._composing=!1,this._compositionMode&&this.onChange(X)}}return(A=O).\u0275fac=function(X){return new(X||A)(g.GI1(g.q87),g.GI1(g.GMv),g.GI1(y,8))},A.\u0275dir=g.Sc5({type:A,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(X,ce){1&X&&g.qCj("input",function(rt){return ce._handleInput(rt.target.value)})("blur",function(){return ce.onTouched()})("compositionstart",function(){return ce._compositionStart()})("compositionend",function(rt){return ce._compositionEnd(rt.target.value)})},features:[g.M5G([u]),g.eg9]}),O})();function b(A){return null==A||("string"==typeof A||Array.isArray(A))&&0===A.length}const B=new g.UbH(""),F=new g.UbH("");function te(A){return null}function z(A){return null!=A}function oe(A){return(0,g.w5$)(A)?(0,st.Q)(A):A}function le(A){let O={};return A.forEach(J=>{O=null!=J?{...O,...J}:O}),0===Object.keys(O).length?null:O}function Ee(A,O){return O.map(J=>J(A))}function R(A){return A.map(O=>function W(A){return!A.validate}(O)?O:J=>O.validate(J))}function ue(A){return null!=A?function ne(A){if(!A)return null;const O=A.filter(z);return 0==O.length?null:function(J){return le(Ee(J,O))}}(R(A)):null}function je(A){return null!=A?function we(A){if(!A)return null;const O=A.filter(z);return 0==O.length?null:function(J){return function m(...A){const O=(0,w.yu)(A),{args:J,keys:X}=(0,o.Q)(A),ce=new Fe._(Ue=>{const{length:rt}=J;if(!rt)return void Ue.complete();const ct=new Array(rt);let Ft=rt,Kt=rt;for(let zt=0;zt<rt;zt++){let St=!1;(0,V.Uv)(J[zt]).subscribe((0,_.e)(Ue,_n=>{St||(St=!0,Kt--),ct[zt]=_n},()=>Ft--,void 0,()=>{(!Ft||!St)&&(Kt||Ue.next(X?(0,p.q)(X,ct):ct),Ue.complete())}))}});return O?ce.pipe((0,d.j)(O)):ce}(Ee(J,O).map(oe)).pipe((0,C.k)(le))}}(R(A)):null}function Be(A,O){return null===A?[O]:Array.isArray(A)?[...A,O]:[A,O]}function Pe(A){return A?Array.isArray(A)?A:[A]:[]}function $e(A,O){return Array.isArray(A)?A.includes(O):A===O}function ke(A,O){const J=Pe(O);return Pe(A).forEach(ce=>{$e(J,ce)||J.push(ce)}),J}function Qe(A,O){return Pe(O).filter(J=>!$e(A,J))}class tt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=ue(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O=void 0){this.control&&this.control.reset(O)}hasError(O,J){return!!this.control&&this.control.hasError(O,J)}getError(O,J){return this.control?this.control.getError(O,J):null}}class _t extends tt{get formDirective(){return null}get path(){return null}}class gt extends tt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xt{constructor(O){this._cd=O}get isTouched(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.touched)}get isUntouched(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.untouched)}get isPristine(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.pristine)}get isDirty(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.dirty)}get isValid(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.valid)}get isInvalid(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.invalid)}get isPending(){var O;return!(null===(O=this._cd)||void 0===O||null===(O=O.control)||void 0===O||!O.pending)}get isSubmitted(){var O;return!(null===(O=this._cd)||void 0===O||!O.submitted)}}let jt=(()=>{var A;class O extends xt{constructor(X){super(X)}}return(A=O).\u0275fac=function(X){return new(X||A)(g.GI1(gt,2))},A.\u0275dir=g.Sc5({type:A,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(X,ce){2&X&&g.eAK("ng-untouched",ce.isUntouched)("ng-touched",ce.isTouched)("ng-pristine",ce.isPristine)("ng-dirty",ce.isDirty)("ng-valid",ce.isValid)("ng-invalid",ce.isInvalid)("ng-pending",ce.isPending)},features:[g.eg9]}),O})();const Pt="VALID",yt="INVALID",it="PENDING",Xe="DISABLED";function Mt(A){return null!=A&&!Array.isArray(A)&&"object"==typeof A}class Zt{constructor(O,J){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(O),this._assignAsyncValidators(J)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Pt}get invalid(){return this.status===yt}get pending(){return this.status==it}get disabled(){return this.status===Xe}get enabled(){return this.status!==Xe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._assignValidators(O)}setAsyncValidators(O){this._assignAsyncValidators(O)}addValidators(O){this.setValidators(ke(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(ke(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Qe(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Qe(O,this._rawAsyncValidators))}hasValidator(O){return $e(this._rawValidators,O)}hasAsyncValidator(O){return $e(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(J=>{J.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(J=>{J.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=it,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const J=this._parentMarkedDirty(O.onlySelf);this.status=Xe,this.errors=null,this._forEachChild(X=>{X.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:J}),this._onDisabledChange.forEach(X=>X(!0))}enable(O={}){const J=this._parentMarkedDirty(O.onlySelf);this.status=Pt,this._forEachChild(X=>{X.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:J}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pt||this.status===it)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(J=>J._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xe:Pt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=it,this._hasOwnPendingAsyncValidator=!0;const J=oe(this.asyncValidator(this));this._asyncValidationSubscription=J.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,J={}){this.errors=O,this._updateControlsErrors(!1!==J.emitEvent)}get(O){let J=O;return null==J||(Array.isArray(J)||(J=J.split(".")),0===J.length)?null:J.reduce((X,ce)=>X&&X._find(ce),this)}getError(O,J){const X=J?this.get(J):this;return X&&X.errors?X.errors[O]:null}hasError(O,J){return!!this.getError(O,J)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new g._w7,this.statusChanges=new g._w7}_calculateStatus(){return this._allControlsDisabled()?Xe:this.errors?yt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(it)?it:this._anyControlsHaveStatus(yt)?yt:Pt}_anyControlsHaveStatus(O){return this._anyControls(J=>J.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){Mt(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}_assignValidators(O){this._rawValidators=Array.isArray(O)?O.slice():O,this._composedValidatorFn=function It(A){return Array.isArray(A)?ue(A):A||null}(this._rawValidators)}_assignAsyncValidators(O){this._rawAsyncValidators=Array.isArray(O)?O.slice():O,this._composedAsyncValidatorFn=function et(A){return Array.isArray(A)?je(A):A||null}(this._rawAsyncValidators)}}const Bn=new g.UbH("CallSetDisabledState",{providedIn:"root",factory:()=>lr}),lr="always";function be(A,O,J=lr){var X,ce;(function L(A,O){const J=function We(A){return A._rawValidators}(A);null!==O.validator?A.setValidators(Be(J,O.validator)):"function"==typeof J&&A.setValidators([J]);const X=function Oe(A){return A._rawAsyncValidators}(A);null!==O.asyncValidator?A.setAsyncValidators(Be(X,O.asyncValidator)):"function"==typeof X&&A.setAsyncValidators([X]);const ce=()=>A.updateValueAndValidity();E(O._rawValidators,ce),E(O._rawAsyncValidators,ce)})(A,O),O.valueAccessor.writeValue(A.value),(A.disabled||"always"===J)&&(null===(X=(ce=O.valueAccessor).setDisabledState)||void 0===X||X.call(ce,A.disabled)),function ee(A,O){O.valueAccessor.registerOnChange(J=>{A._pendingValue=J,A._pendingChange=!0,A._pendingDirty=!0,"change"===A.updateOn&&pe(A,O)})}(A,O),function Ie(A,O){const J=(X,ce)=>{O.valueAccessor.writeValue(X),ce&&O.viewToModelUpdate(X)};A.registerOnChange(J),O._registerOnDestroy(()=>{A._unregisterOnChange(J)})}(A,O),function Q(A,O){O.valueAccessor.registerOnTouched(()=>{A._pendingTouched=!0,"blur"===A.updateOn&&A._pendingChange&&pe(A,O),"submit"!==A.updateOn&&A.markAsTouched()})}(A,O),function N(A,O){if(O.valueAccessor.setDisabledState){const J=X=>{O.valueAccessor.setDisabledState(X)};A.registerOnDisabledChange(J),O._registerOnDestroy(()=>{A._unregisterOnDisabledChange(J)})}}(A,O)}function E(A,O){A.forEach(J=>{J.registerOnValidatorChange&&J.registerOnValidatorChange(O)})}function pe(A,O){A._pendingDirty&&A.markAsDirty(),A.setValue(A._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(A._pendingValue),A._pendingChange=!1}function hn(A,O){const J=A.indexOf(O);J>-1&&A.splice(J,1)}function An(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}Promise.resolve();const Bt=class extends Zt{constructor(O=null,J,X){super(function at(A){return(Mt(A)?A.validators:A)||null}(J),function Yt(A,O){return(Mt(O)?O.asyncValidators:A)||null}(X,J)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(J),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mt(J)&&(J.nonNullable||J.initialValueIsDefault)&&(this.defaultValue=An(O)?O.value:O)}setValue(O,J={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==J.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==J.emitViewToModelChange)),this.updateValueAndValidity(J)}patchValue(O,J={}){this.setValue(O,J)}reset(O=this.defaultValue,J={}){this._applyFormState(O),this.markAsPristine(J),this.markAsUntouched(J),this.setValue(this.value,J),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){hn(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){hn(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){An(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},Et={provide:gt,useExisting:(0,g.wd)(()=>In)},nn=Promise.resolve();let In=(()=>{var A;class O extends gt{constructor(X,ce,Ue,rt,ct,Ft){super(),this._changeDetectorRef=ct,this.callSetDisabledState=Ft,this.control=new Bt,this._registered=!1,this.name="",this.update=new g._w7,this._parent=X,this._setValidators(ce),this._setAsyncValidators(Ue),this.valueAccessor=function nr(A,O){if(!O)return null;let J,X,ce;return Array.isArray(O),O.forEach(Ue=>{Ue.constructor===f?J=Ue:function Ln(A){return Object.getPrototypeOf(A.constructor)===s}(Ue)?X=Ue:ce=Ue}),ce||X||J||null}(0,rt)}ngOnChanges(X){if(this._checkForErrors(),!this._registered||"name"in X){if(this._registered&&(this._checkName(),this.formDirective)){const ce=X.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in X&&this._updateDisabled(X),function Un(A,O){if(!A.hasOwnProperty("model"))return!1;const J=A.model;return!!J.isFirstChange()||!Object.is(O,J.currentValue)}(X,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(X){this.viewModel=X,this.update.emit(X)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){be(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(X){nn.then(()=>{var ce;this.control.setValue(X,{emitViewToModelChange:!1}),null===(ce=this._changeDetectorRef)||void 0===ce||ce.markForCheck()})}_updateDisabled(X){const ce=X.isDisabled.currentValue,Ue=0!==ce&&(0,g.cZD)(ce);nn.then(()=>{var rt;Ue&&!this.control.disabled?this.control.disable():!Ue&&this.control.disabled&&this.control.enable(),null===(rt=this._changeDetectorRef)||void 0===rt||rt.markForCheck()})}_getPath(X){return this._parent?function Z(A,O){return[...O.path,A]}(X,this._parent):[X]}}return(A=O).\u0275fac=function(X){return new(X||A)(g.GI1(_t,9),g.GI1(B,10),g.GI1(F,10),g.GI1(a,10),g.GI1(g.kD9,8),g.GI1(Bn,8))},A.\u0275dir=g.Sc5({type:A,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[g.Wk5.None,"disabled","isDisabled"],model:[g.Wk5.None,"ngModel","model"],options:[g.Wk5.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g.M5G([Et]),g.eg9,g.SYr]}),O})();function Uo(A){return"number"==typeof A?A:parseFloat(A)}let oo=(()=>{var A;class O{constructor(){this._validator=te}ngOnChanges(X){if(this.inputName in X){const ce=this.normalizeInput(X[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):te,this._onChange&&this._onChange()}}validate(X){return this._validator(X)}registerOnValidatorChange(X){this._onChange=X}enabled(X){return null!=X}}return(A=O).\u0275fac=function(X){return new(X||A)},A.\u0275dir=g.Sc5({type:A,features:[g.SYr]}),O})();const co={provide:B,useExisting:(0,g.wd)(()=>Ro),multi:!0};let Ro=(()=>{var A;class O extends oo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=X=>Uo(X),this.createValidator=X=>function T(A){return O=>{if(b(O.value)||b(A))return null;const J=parseFloat(O.value);return!isNaN(J)&&J>A?{max:{max:A,actual:O.value}}:null}}(X)}}return(A=O).\u0275fac=(()=>{let J;return function(ce){return(J||(J=g.otF(A)))(ce||A)}})(),A.\u0275dir=g.Sc5({type:A,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(X,ce){2&X&&g.e48("max",ce._enabled?ce.max:null)},inputs:{max:"max"},features:[g.M5G([co]),g.eg9]}),O})();const Lo={provide:B,useExisting:(0,g.wd)(()=>_r),multi:!0};let _r=(()=>{var A;class O extends oo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=X=>Uo(X),this.createValidator=X=>function U(A){return O=>{if(b(O.value)||b(A))return null;const J=parseFloat(O.value);return!isNaN(J)&&J<A?{min:{min:A,actual:O.value}}:null}}(X)}}return(A=O).\u0275fac=(()=>{let J;return function(ce){return(J||(J=g.otF(A)))(ce||A)}})(),A.\u0275dir=g.Sc5({type:A,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(X,ce){2&X&&g.e48("min",ce._enabled?ce.min:null)},inputs:{min:"min"},features:[g.M5G([Lo]),g.eg9]}),O})(),Qi=(()=>{var A;class O{}return(A=O).\u0275fac=function(X){return new(X||A)},A.\u0275mod=g.a4G({type:A}),A.\u0275inj=g.s3X({}),O})(),S=(()=>{var A;class O{static withConfig(X){var ce;return{ngModule:O,providers:[{provide:Bn,useValue:null!==(ce=X.callSetDisabledState)&&void 0!==ce?ce:lr}]}}}return(A=O).\u0275fac=function(X){return new(X||A)},A.\u0275mod=g.a4G({type:A}),A.\u0275inj=g.s3X({imports:[Qi]}),O})()},4476:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{OY:()=>Qe,iE:()=>Pe,mI:()=>pt,o_:()=>je});var g=fe(4496),Ce=fe(1368);class st extends Ce.mg{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fe extends st{static makeCurrent(){(0,Ce.ug)(new Fe)}onAndCancel(yt,it,Xe){return yt.addEventListener(it,Xe),()=>{yt.removeEventListener(it,Xe)}}dispatchEvent(yt,it){yt.dispatchEvent(it)}remove(yt){yt.parentNode&&yt.parentNode.removeChild(yt)}createElement(yt,it){return(it=it||this.getDefaultDocument()).createElement(yt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(yt){return yt.nodeType===Node.ELEMENT_NODE}isShadowRoot(yt){return yt instanceof DocumentFragment}getGlobalEventTarget(yt,it){return"window"===it?window:"document"===it?yt:"body"===it?yt.body:null}getBaseHref(yt){const it=function V(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==it?null:function w(Pt){return new URL(Pt,document.baseURI).pathname}(it)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(yt){return(0,Ce.Sg)(document.cookie,yt)}}let o=null,d=(()=>{var Pt;class yt{build(){return new XMLHttpRequest}}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)},Pt.\u0275prov=g.wxM({token:Pt,factory:Pt.\u0275fac}),yt})();const p=new g.UbH("");let m=(()=>{var Pt;class yt{constructor(Xe,at){this._zone=at,this._eventNameToPlugin=new Map,Xe.forEach(It=>{It.manager=this}),this._plugins=Xe.slice().reverse()}addEventListener(Xe,at,It){return this._findPluginFor(at).addEventListener(Xe,at,It)}getZone(){return this._zone}_findPluginFor(Xe){let at=this._eventNameToPlugin.get(Xe);if(at)return at;if(at=this._plugins.find(Yt=>Yt.supports(Xe)),!at)throw new g.OBp(5101,!1);return this._eventNameToPlugin.set(Xe,at),at}}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)(g.CoB(p),g.CoB(g.WW2))},Pt.\u0275prov=g.wxM({token:Pt,factory:Pt.\u0275fac}),yt})();class C{constructor(yt){this._doc=yt}}const x="ng-app-id";let s=(()=>{var Pt;class yt{constructor(Xe,at,It,Yt={}){this.doc=Xe,this.appId=at,this.nonce=It,this.platformId=Yt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Ce.uf)(Yt),this.resetHostNodes()}addStyles(Xe){for(const at of Xe)1===this.changeUsageCount(at,1)&&this.onStyleAdded(at)}removeStyles(Xe){for(const at of Xe)this.changeUsageCount(at,-1)<=0&&this.onStyleRemoved(at)}ngOnDestroy(){const Xe=this.styleNodesInDOM;Xe&&(Xe.forEach(at=>at.remove()),Xe.clear());for(const at of this.getAllStyles())this.onStyleRemoved(at);this.resetHostNodes()}addHost(Xe){this.hostNodes.add(Xe);for(const at of this.getAllStyles())this.addStyleToHost(Xe,at)}removeHost(Xe){this.hostNodes.delete(Xe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Xe){for(const at of this.hostNodes)this.addStyleToHost(at,Xe)}onStyleRemoved(Xe){var at;const It=this.styleRef;null===(at=It.get(Xe))||void 0===at||null===(at=at.elements)||void 0===at||at.forEach(Yt=>Yt.remove()),It.delete(Xe)}collectServerRenderedStyles(){var Xe;const at=null===(Xe=this.doc.head)||void 0===Xe?void 0:Xe.querySelectorAll(`style[${x}="${this.appId}"]`);if(null!=at&&at.length){const It=new Map;return at.forEach(Yt=>{null!=Yt.textContent&&It.set(Yt.textContent,Yt)}),It}return null}changeUsageCount(Xe,at){const It=this.styleRef;if(It.has(Xe)){const Yt=It.get(Xe);return Yt.usage+=at,Yt.usage}return It.set(Xe,{usage:at,elements:[]}),at}getStyleElement(Xe,at){const It=this.styleNodesInDOM,Yt=null==It?void 0:It.get(at);if((null==Yt?void 0:Yt.parentNode)===Xe)return It.delete(at),Yt.removeAttribute(x),Yt;{const et=this.doc.createElement("style");return this.nonce&&et.setAttribute("nonce",this.nonce),et.textContent=at,this.platformIsServer&&et.setAttribute(x,this.appId),Xe.appendChild(et),et}}addStyleToHost(Xe,at){var It;const Yt=this.getStyleElement(Xe,at),et=this.styleRef,Mt=null===(It=et.get(at))||void 0===It?void 0:It.elements;Mt?Mt.push(Yt):et.set(at,{elements:[Yt],usage:1})}resetHostNodes(){const Xe=this.hostNodes;Xe.clear(),Xe.add(this.doc.head)}}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)(g.CoB(Ce.Ud),g.CoB(g.QHP),g.CoB(g.YND,8),g.CoB(g.AHE))},Pt.\u0275prov=g.wxM({token:Pt,factory:Pt.\u0275fac}),yt})();const a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},h=/%COMP%/g,c="%COMP%",u=`_nghost-${c}`,l=`_ngcontent-${c}`,f=new g.UbH("",{providedIn:"root",factory:()=>!0});function B(Pt,yt){return yt.map(it=>it.replace(h,Pt))}let F=(()=>{var Pt;class yt{constructor(Xe,at,It,Yt,et,Mt,Ut,Wt=null){this.eventManager=Xe,this.sharedStylesHost=at,this.appId=It,this.removeStylesOnCompDestroy=Yt,this.doc=et,this.platformId=Mt,this.ngZone=Ut,this.nonce=Wt,this.rendererByCompId=new Map,this.platformIsServer=(0,Ce.uf)(Mt),this.defaultRenderer=new j(Xe,et,Ut,this.platformIsServer)}createRenderer(Xe,at){if(!Xe||!at)return this.defaultRenderer;this.platformIsServer&&at.encapsulation===g.K6R.ShadowDom&&(at={...at,encapsulation:g.K6R.Emulated});const It=this.getOrCreateRenderer(Xe,at);return It instanceof q?It.applyToHost(Xe):It instanceof M&&It.applyStyles(),It}getOrCreateRenderer(Xe,at){const It=this.rendererByCompId;let Yt=It.get(at.id);if(!Yt){const et=this.doc,Mt=this.ngZone,Ut=this.eventManager,Wt=this.sharedStylesHost,Zt=this.removeStylesOnCompDestroy,mn=this.platformIsServer;switch(at.encapsulation){case g.K6R.Emulated:Yt=new q(Ut,Wt,at,this.appId,Zt,et,Mt,mn);break;case g.K6R.ShadowDom:return new I(Ut,Wt,Xe,at,et,Mt,this.nonce,mn);default:Yt=new M(Ut,Wt,at,Zt,et,Mt,mn)}It.set(at.id,Yt)}return Yt}ngOnDestroy(){this.rendererByCompId.clear()}}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)(g.CoB(m),g.CoB(s),g.CoB(g.QHP),g.CoB(f),g.CoB(Ce.Ud),g.CoB(g.AHE),g.CoB(g.WW2),g.CoB(g.YND))},Pt.\u0275prov=g.wxM({token:Pt,factory:Pt.\u0275fac}),yt})();class j{constructor(yt,it,Xe,at){this.eventManager=yt,this.doc=it,this.ngZone=Xe,this.platformIsServer=at,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(yt,it){return it?this.doc.createElementNS(a[it]||it,yt):this.doc.createElement(yt)}createComment(yt){return this.doc.createComment(yt)}createText(yt){return this.doc.createTextNode(yt)}appendChild(yt,it){(T(yt)?yt.content:yt).appendChild(it)}insertBefore(yt,it,Xe){yt&&(T(yt)?yt.content:yt).insertBefore(it,Xe)}removeChild(yt,it){yt&&yt.removeChild(it)}selectRootElement(yt,it){let Xe="string"==typeof yt?this.doc.querySelector(yt):yt;if(!Xe)throw new g.OBp(-5104,!1);return it||(Xe.textContent=""),Xe}parentNode(yt){return yt.parentNode}nextSibling(yt){return yt.nextSibling}setAttribute(yt,it,Xe,at){if(at){it=at+":"+it;const It=a[at];It?yt.setAttributeNS(It,it,Xe):yt.setAttribute(it,Xe)}else yt.setAttribute(it,Xe)}removeAttribute(yt,it,Xe){if(Xe){const at=a[Xe];at?yt.removeAttributeNS(at,it):yt.removeAttribute(`${Xe}:${it}`)}else yt.removeAttribute(it)}addClass(yt,it){yt.classList.add(it)}removeClass(yt,it){yt.classList.remove(it)}setStyle(yt,it,Xe,at){at&(g.yzm.DashCase|g.yzm.Important)?yt.style.setProperty(it,Xe,at&g.yzm.Important?"important":""):yt.style[it]=Xe}removeStyle(yt,it,Xe){Xe&g.yzm.DashCase?yt.style.removeProperty(it):yt.style[it]=""}setProperty(yt,it,Xe){null!=yt&&(yt[it]=Xe)}setValue(yt,it){yt.nodeValue=it}listen(yt,it,Xe){if("string"==typeof yt&&!(yt=(0,Ce.uy)().getGlobalEventTarget(this.doc,yt)))throw new Error(`Unsupported event target ${yt} for event ${it}`);return this.eventManager.addEventListener(yt,it,this.decoratePreventDefault(Xe))}decoratePreventDefault(yt){return it=>{if("__ngUnwrap__"===it)return yt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>yt(it)):yt(it))&&it.preventDefault()}}}function T(Pt){return"TEMPLATE"===Pt.tagName&&void 0!==Pt.content}class I extends j{constructor(yt,it,Xe,at,It,Yt,et,Mt){super(yt,It,Yt,Mt),this.sharedStylesHost=it,this.hostEl=Xe,this.shadowRoot=Xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ut=B(at.id,at.styles);for(const Wt of Ut){const Zt=document.createElement("style");et&&Zt.setAttribute("nonce",et),Zt.textContent=Wt,this.shadowRoot.appendChild(Zt)}}nodeOrShadowRoot(yt){return yt===this.hostEl?this.shadowRoot:yt}appendChild(yt,it){return super.appendChild(this.nodeOrShadowRoot(yt),it)}insertBefore(yt,it,Xe){return super.insertBefore(this.nodeOrShadowRoot(yt),it,Xe)}removeChild(yt,it){return super.removeChild(this.nodeOrShadowRoot(yt),it)}parentNode(yt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(yt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class M extends j{constructor(yt,it,Xe,at,It,Yt,et,Mt){super(yt,It,Yt,et),this.sharedStylesHost=it,this.removeStylesOnCompDestroy=at,this.styles=Mt?B(Mt,Xe.styles):Xe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class q extends M{constructor(yt,it,Xe,at,It,Yt,et,Mt){const Ut=at+"-"+Xe.id;super(yt,it,Xe,It,Yt,et,Mt,Ut),this.contentAttr=function b(Pt){return l.replace(h,Pt)}(Ut),this.hostAttr=function D(Pt){return u.replace(h,Pt)}(Ut)}applyToHost(yt){this.applyStyles(),this.setAttribute(yt,this.hostAttr,"")}createElement(yt,it){const Xe=super.createElement(yt,it);return super.setAttribute(Xe,this.contentAttr,""),Xe}}let K=(()=>{var Pt;class yt extends C{constructor(Xe){super(Xe)}supports(Xe){return!0}addEventListener(Xe,at,It){return Xe.addEventListener(at,It,!1),()=>this.removeEventListener(Xe,at,It)}removeEventListener(Xe,at,It){return Xe.removeEventListener(at,It)}}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)(g.CoB(Ce.Ud))},Pt.\u0275prov=g.wxM({token:Pt,factory:Pt.\u0275fac}),yt})();const Y=["alt","control","meta","shift"],ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},te={alt:Pt=>Pt.altKey,control:Pt=>Pt.ctrlKey,meta:Pt=>Pt.metaKey,shift:Pt=>Pt.shiftKey};let z=(()=>{var Pt;class yt extends C{constructor(Xe){super(Xe)}supports(Xe){return null!=yt.parseEventName(Xe)}addEventListener(Xe,at,It){const Yt=yt.parseEventName(at),et=yt.eventCallback(Yt.fullKey,It,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Ce.uy)().onAndCancel(Xe,Yt.domEventName,et))}static parseEventName(Xe){const at=Xe.toLowerCase().split("."),It=at.shift();if(0===at.length||"keydown"!==It&&"keyup"!==It)return null;const Yt=yt._normalizeKey(at.pop());let et="",Mt=at.indexOf("code");if(Mt>-1&&(at.splice(Mt,1),et="code."),Y.forEach(Wt=>{const Zt=at.indexOf(Wt);Zt>-1&&(at.splice(Zt,1),et+=Wt+".")}),et+=Yt,0!=at.length||0===Yt.length)return null;const Ut={};return Ut.domEventName=It,Ut.fullKey=et,Ut}static matchEventFullKeyCode(Xe,at){let It=ie[Xe.key]||Xe.key,Yt="";return at.indexOf("code.")>-1&&(It=Xe.code,Yt="code."),!(null==It||!It)&&(It=It.toLowerCase()," "===It?It="space":"."===It&&(It="dot"),Y.forEach(et=>{et!==It&&(0,te[et])(Xe)&&(Yt+=et+".")}),Yt+=It,Yt===at)}static eventCallback(Xe,at,It){return Yt=>{yt.matchEventFullKeyCode(Yt,Xe)&&It.runGuarded(()=>at(Yt))}}static _normalizeKey(Xe){return"esc"===Xe?"escape":Xe}}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)(g.CoB(Ce.Ud))},Pt.\u0275prov=g.wxM({token:Pt,factory:Pt.\u0275fac}),yt})();const je=(0,g.grM)(g.m4O,"browser",[{provide:g.AHE,useValue:Ce._k},{provide:g.crf,useValue:function R(){Fe.makeCurrent()},multi:!0},{provide:Ce.Ud,useFactory:function ue(){return(0,g.auf)(document),document},deps:[]}]),Be=new g.UbH(""),We=[{provide:g.Mn9,useClass:class _{addToWindow(yt){g.IHs.getAngularTestability=(Xe,at=!0)=>{const It=yt.findTestabilityInTree(Xe,at);if(null==It)throw new g.OBp(5103,!1);return It},g.IHs.getAllAngularTestabilities=()=>yt.getAllTestabilities(),g.IHs.getAllAngularRootElements=()=>yt.getAllRootElements(),g.IHs.frameworkStabilizers||(g.IHs.frameworkStabilizers=[]),g.IHs.frameworkStabilizers.push(Xe=>{const at=g.IHs.getAllAngularTestabilities();let It=at.length;const Yt=function(){It--,0==It&&Xe()};at.forEach(et=>{et.whenStable(Yt)})})}findTestabilityInTree(yt,it,Xe){if(null==it)return null;const at=yt.getTestability(it);return null!=at?at:Xe?(0,Ce.uy)().isShadowRoot(it)?this.findTestabilityInTree(yt,it.host,!0):this.findTestabilityInTree(yt,it.parentElement,!0):null}},deps:[]},{provide:g.aS5,useClass:g.G4X,deps:[g.WW2,g.eOv,g.Mn9]},{provide:g.G4X,useClass:g.G4X,deps:[g.WW2,g.eOv,g.Mn9]}],Oe=[{provide:g.i4S,useValue:"root"},{provide:g.eAe,useFactory:function ne(){return new g.eAe},deps:[]},{provide:p,useClass:K,multi:!0,deps:[Ce.Ud,g.WW2,g.AHE]},{provide:p,useClass:z,multi:!0,deps:[Ce.Ud]},F,s,m,{provide:g.O8F,useExisting:F},{provide:Ce.OM,useClass:d,deps:[]},[]];let Pe=(()=>{var Pt;class yt{constructor(Xe){}static withServerTransition(Xe){return{ngModule:yt,providers:[{provide:g.QHP,useValue:Xe.appId}]}}}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)(g.CoB(Be,12))},Pt.\u0275mod=g.a4G({type:Pt}),Pt.\u0275inj=g.s3X({providers:[...Oe,...We],imports:[Ce.MD,g.Ev2]}),yt})(),Qe=(()=>{var Pt;class yt{constructor(Xe){this._doc=Xe}getTitle(){return this._doc.title}setTitle(Xe){this._doc.title=Xe||""}}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)(g.CoB(Ce.Ud))},Pt.\u0275prov=g.wxM({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),yt})(),pt=(()=>{var Pt;class yt{}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)},Pt.\u0275prov=g.wxM({token:Pt,factory:function(Xe){let at=null;return at=Xe?new(Xe||Pt):g.CoB(Re),at},providedIn:"root"}),yt})(),Re=(()=>{var Pt;class yt extends pt{constructor(Xe){super(),this._doc=Xe}sanitize(Xe,at){if(null==at)return null;switch(Xe){case g.SI6.NONE:return at;case g.SI6.HTML:return(0,g.K2p)(at,"HTML")?(0,g.E2t)(at):(0,g.Om8)(this._doc,String(at)).toString();case g.SI6.STYLE:return(0,g.K2p)(at,"Style")?(0,g.E2t)(at):at;case g.SI6.SCRIPT:if((0,g.K2p)(at,"Script"))return(0,g.E2t)(at);throw new g.OBp(5200,!1);case g.SI6.URL:return(0,g.K2p)(at,"URL")?(0,g.E2t)(at):(0,g.ozE)(String(at));case g.SI6.RESOURCE_URL:if((0,g.K2p)(at,"ResourceURL"))return(0,g.E2t)(at);throw new g.OBp(5201,!1);default:throw new g.OBp(5202,!1)}}bypassSecurityTrustHtml(Xe){return(0,g.GM_)(Xe)}bypassSecurityTrustStyle(Xe){return(0,g.Vfw)(Xe)}bypassSecurityTrustScript(Xe){return(0,g.ER9)(Xe)}bypassSecurityTrustUrl(Xe){return(0,g.Gc)(Xe)}bypassSecurityTrustResourceUrl(Xe){return(0,g.u8n)(Xe)}}return(Pt=yt).\u0275fac=function(Xe){return new(Xe||Pt)(g.CoB(Ce.Ud))},Pt.\u0275prov=g.wxM({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),yt})()},3332:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{gV:()=>ur,O4:()=>Br,Qx:()=>qt,gf:()=>Oe,eu:()=>Ss,XE:()=>rr,E5:()=>sr,ER:()=>Es,qQ:()=>Ts,qd:()=>Lt});var g=fe(4496),Ce=fe(3252),st=fe(8880),o=fe(2115),V=fe(2700),w=fe(6700),_=fe(6040);const p=(0,fe(4912).w)(ae=>function(){ae(this),this.name="EmptyError",this.message="no elements in sequence"});var m=fe(7228),C=fe(1424),x=fe(3928),s=fe(3800),a=fe(8960),h=fe(2376),c=fe(5657),u=fe(4548),l=fe(1368),y=fe(4704),f=fe(7368),b=fe(3992),D=fe(6624),B=fe(5448),j=fe(6684),k=fe(7400),U=fe(7773);function T(ae){return(0,B.i)((ve,xe)=>{let me=!1;ve.subscribe((0,U.e)(xe,Se=>{me=!0,xe.next(Se)},()=>{me||xe.next(ae),xe.complete()}))})}function I(ae=M){return(0,B.i)((ve,xe)=>{let me=!1;ve.subscribe((0,U.e)(xe,Se=>{me=!0,xe.next(Se)},()=>me?xe.complete():xe.error(ae())))})}function M(){return new p}var q=fe(528);function K(ae,ve){const xe=arguments.length>=2;return me=>me.pipe(ae?(0,j.I)((Se,ot)=>ae(Se,ot,me)):q.Z,(0,b.U)(1),xe?T(ve):I(()=>new p))}function Y(ae,ve){return(0,st.m)(ve)?(0,k.O)(ae,ve,1):(0,k.O)(ae,1)}var ie=fe(9212),te=fe(560);function z(ae){return(0,B.i)((ve,xe)=>{let ot,me=null,Se=!1;me=ve.subscribe((0,U.e)(xe,void 0,void 0,ht=>{ot=(0,te.Uv)(ae(ht,z(ae)(ve))),me?(me.unsubscribe(),me=null,ot.subscribe(xe)):Se=!0})),Se&&(me.unsubscribe(),me=null,ot.subscribe(xe))})}function Ee(ae){return ae<=0?()=>a.k:(0,B.i)((ve,xe)=>{let me=[];ve.subscribe((0,U.e)(xe,Se=>{me.push(Se),ae<me.length&&me.shift()},()=>{for(const Se of me)xe.next(Se);xe.complete()},void 0,()=>{me=null}))})}var R=fe(320);function ne(ae){return(0,B.i)((ve,xe)=>{try{ve.subscribe(xe)}finally{xe.add(ae)}})}var ue=fe(8084),we=fe(308),Be=fe(267),We=fe(4476);const Oe="primary",Pe=Symbol("RouteTitle");class $e{constructor(ve){this.params=ve||{}}has(ve){return Object.prototype.hasOwnProperty.call(this.params,ve)}get(ve){if(this.has(ve)){const xe=this.params[ve];return Array.isArray(xe)?xe[0]:xe}return null}getAll(ve){if(this.has(ve)){const xe=this.params[ve];return Array.isArray(xe)?xe:[xe]}return[]}get keys(){return Object.keys(this.params)}}function ke(ae){return new $e(ae)}function Qe(ae,ve,xe){const me=xe.path.split("/");if(me.length>ae.length||"full"===xe.pathMatch&&(ve.hasChildren()||me.length<ae.length))return null;const Se={};for(let ot=0;ot<me.length;ot++){const ht=me[ot],Qt=ae[ot];if(ht.startsWith(":"))Se[ht.substring(1)]=Qt;else if(ht!==Qt.path)return null}return{consumed:ae.slice(0,me.length),posParams:Se}}function _t(ae,ve){const xe=ae?gt(ae):void 0,me=ve?gt(ve):void 0;if(!xe||!me||xe.length!=me.length)return!1;let Se;for(let ot=0;ot<xe.length;ot++)if(Se=xe[ot],!xt(ae[Se],ve[Se]))return!1;return!0}function gt(ae){return[...Object.keys(ae),...Object.getOwnPropertySymbols(ae)]}function xt(ae,ve){if(Array.isArray(ae)&&Array.isArray(ve)){if(ae.length!==ve.length)return!1;const xe=[...ae].sort(),me=[...ve].sort();return xe.every((Se,ot)=>me[ot]===Se)}return ae===ve}function $t(ae){return ae.length>0?ae[ae.length-1]:null}function Ot(ae){return function Fe(ae){return!!ae&&(ae instanceof Ce._||(0,st.m)(ae.lift)&&(0,st.m)(ae.subscribe))}(ae)?ae:(0,g.w5$)(ae)?(0,o.Q)(Promise.resolve(ae)):(0,V.of)(ae)}const jt={exact:function ut(ae,ve,xe){if(!vt(ae.segments,ve.segments)||!pt(ae.segments,ve.segments,xe)||ae.numberOfChildren!==ve.numberOfChildren)return!1;for(const me in ve.children)if(!ae.children[me]||!ut(ae.children[me],ve.children[me],xe))return!1;return!0},subset:Ze},Tt={exact:function Je(ae,ve){return _t(ae,ve)},subset:function Rt(ae,ve){return Object.keys(ve).length<=Object.keys(ae).length&&Object.keys(ve).every(xe=>xt(ae[xe],ve[xe]))},ignored:()=>!0};function ge(ae,ve,xe){return jt[xe.paths](ae.root,ve.root,xe.matrixParams)&&Tt[xe.queryParams](ae.queryParams,ve.queryParams)&&!("exact"===xe.fragment&&ae.fragment!==ve.fragment)}function Ze(ae,ve,xe){return Dt(ae,ve,ve.segments,xe)}function Dt(ae,ve,xe,me){if(ae.segments.length>xe.length){const Se=ae.segments.slice(0,xe.length);return!(!vt(Se,xe)||ve.hasChildren()||!pt(Se,xe,me))}if(ae.segments.length===xe.length){if(!vt(ae.segments,xe)||!pt(ae.segments,xe,me))return!1;for(const Se in ve.children)if(!ae.children[Se]||!Ze(ae.children[Se],ve.children[Se],me))return!1;return!0}{const Se=xe.slice(0,ae.segments.length),ot=xe.slice(ae.segments.length);return!!(vt(ae.segments,Se)&&pt(ae.segments,Se,me)&&ae.children[Oe])&&Dt(ae.children[Oe],ve,ot,me)}}function pt(ae,ve,xe){return ve.every((me,Se)=>Tt[xe](ae[Se].parameters,me.parameters))}class Re{constructor(ve=new Ne([],{}),xe={},me=null){this.root=ve,this.queryParams=xe,this.fragment=me}get queryParamMap(){var ve;return null!==(ve=this._queryParamMap)&&void 0!==ve||(this._queryParamMap=ke(this.queryParams)),this._queryParamMap}toString(){return bn.serialize(this)}}class Ne{constructor(ve,xe){this.segments=ve,this.children=xe,this.parent=null,Object.values(xe).forEach(me=>me.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gn(this)}}class Me{constructor(ve,xe){this.path=ve,this.parameters=xe}get parameterMap(){var ve;return null!==(ve=this._parameterMap)&&void 0!==ve||(this._parameterMap=ke(this.parameters)),this._parameterMap}toString(){return et(this)}}function vt(ae,ve){return ae.length===ve.length&&ae.every((xe,me)=>xe.path===ve[me].path)}let Lt=(()=>{var ae;class ve{}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:()=>new tn,providedIn:"root"}),ve})();class tn{parse(ve){const xe=new Bn(ve);return new Re(xe.parseRootSegment(),xe.parseQueryParams(),xe.parseFragment())}serialize(ve){const xe=`/${Pt(ve.root,!0)}`,me=function Ut(ae){const ve=Object.entries(ae).map(([xe,me])=>Array.isArray(me)?me.map(Se=>`${it(xe)}=${it(Se)}`).join("&"):`${it(xe)}=${it(me)}`).filter(xe=>xe);return ve.length?`?${ve.join("&")}`:""}(ve.queryParams);return`${xe}${me}${"string"==typeof ve.fragment?`#${function Xe(ae){return encodeURI(ae)}(ve.fragment)}`:""}`}}const bn=new tn;function gn(ae){return ae.segments.map(ve=>et(ve)).join("/")}function Pt(ae,ve){if(!ae.hasChildren())return gn(ae);if(ve){const xe=ae.children[Oe]?Pt(ae.children[Oe],!1):"",me=[];return Object.entries(ae.children).forEach(([Se,ot])=>{Se!==Oe&&me.push(`${Se}:${Pt(ot,!1)}`)}),me.length>0?`${xe}(${me.join("//")})`:xe}{const xe=function kt(ae,ve){let xe=[];return Object.entries(ae.children).forEach(([me,Se])=>{me===Oe&&(xe=xe.concat(ve(Se,me)))}),Object.entries(ae.children).forEach(([me,Se])=>{me!==Oe&&(xe=xe.concat(ve(Se,me)))}),xe}(ae,(me,Se)=>Se===Oe?[Pt(ae.children[Oe],!1)]:[`${Se}:${Pt(me,!1)}`]);return 1===Object.keys(ae.children).length&&null!=ae.children[Oe]?`${gn(ae)}/${xe[0]}`:`${gn(ae)}/(${xe.join("//")})`}}function yt(ae){return encodeURIComponent(ae).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function it(ae){return yt(ae).replace(/%3B/gi,";")}function at(ae){return yt(ae).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function It(ae){return decodeURIComponent(ae)}function Yt(ae){return It(ae.replace(/\+/g,"%20"))}function et(ae){return`${at(ae.path)}${function Mt(ae){return Object.entries(ae).map(([ve,xe])=>`;${at(ve)}=${at(xe)}`).join("")}(ae.parameters)}`}const Wt=/^[^\/()?;#]+/;function Zt(ae){const ve=ae.match(Wt);return ve?ve[0]:""}const mn=/^[^\/()?;=#]+/,Cn=/^[^=?&#]+/,Dn=/^[^&#]+/;class Bn{constructor(ve){this.url=ve,this.remaining=ve}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const ve={};if(this.consumeOptional("?"))do{this.parseQueryParam(ve)}while(this.consumeOptional("&"));return ve}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ve=[];for(this.peekStartsWith("(")||ve.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ve.push(this.parseSegment());let xe={};this.peekStartsWith("/(")&&(this.capture("/"),xe=this.parseParens(!0));let me={};return this.peekStartsWith("(")&&(me=this.parseParens(!1)),(ve.length>0||Object.keys(xe).length>0)&&(me[Oe]=new Ne(ve,xe)),me}parseSegment(){const ve=Zt(this.remaining);if(""===ve&&this.peekStartsWith(";"))throw new g.OBp(4009,!1);return this.capture(ve),new Me(It(ve),this.parseMatrixParams())}parseMatrixParams(){const ve={};for(;this.consumeOptional(";");)this.parseParam(ve);return ve}parseParam(ve){const xe=function wn(ae){const ve=ae.match(mn);return ve?ve[0]:""}(this.remaining);if(!xe)return;this.capture(xe);let me="";if(this.consumeOptional("=")){const Se=Zt(this.remaining);Se&&(me=Se,this.capture(me))}ve[It(xe)]=It(me)}parseQueryParam(ve){const xe=function Sn(ae){const ve=ae.match(Cn);return ve?ve[0]:""}(this.remaining);if(!xe)return;this.capture(xe);let me="";if(this.consumeOptional("=")){const ht=function tr(ae){const ve=ae.match(Dn);return ve?ve[0]:""}(this.remaining);ht&&(me=ht,this.capture(me))}const Se=Yt(xe),ot=Yt(me);if(ve.hasOwnProperty(Se)){let ht=ve[Se];Array.isArray(ht)||(ht=[ht],ve[Se]=ht),ht.push(ot)}else ve[Se]=ot}parseParens(ve){const xe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const me=Zt(this.remaining),Se=this.remaining[me.length];if("/"!==Se&&")"!==Se&&";"!==Se)throw new g.OBp(4010,!1);let ot;me.indexOf(":")>-1?(ot=me.slice(0,me.indexOf(":")),this.capture(ot),this.capture(":")):ve&&(ot=Oe);const ht=this.parseChildren();xe[ot]=1===Object.keys(ht).length?ht[Oe]:new Ne([],ht),this.consumeOptional("//")}return xe}peekStartsWith(ve){return this.remaining.startsWith(ve)}consumeOptional(ve){return!!this.peekStartsWith(ve)&&(this.remaining=this.remaining.substring(ve.length),!0)}capture(ve){if(!this.consumeOptional(ve))throw new g.OBp(4011,!1)}}function lr(ae){return ae.segments.length>0?new Ne([],{[Oe]:ae}):ae}function Z(ae){const ve={};for(const[me,Se]of Object.entries(ae.children)){const ot=Z(Se);if(me===Oe&&0===ot.segments.length&&ot.hasChildren())for(const[ht,Qt]of Object.entries(ot.children))ve[ht]=Qt;else(ot.segments.length>0||ot.hasChildren())&&(ve[me]=ot)}return function be(ae){if(1===ae.numberOfChildren&&ae.children[Oe]){const ve=ae.children[Oe];return new Ne(ae.segments.concat(ve.segments),ve.children)}return ae}(new Ne(ae.segments,ve))}function ye(ae){return ae instanceof Re}function N(ae){var ve;let xe;const ot=lr(function me(ht){const Qt={};for(const an of ht.children){const Rn=me(an);Qt[an.outlet]=Rn}const En=new Ne(ht.url,Qt);return ht===ae&&(xe=En),En}(ae.root));return null!==(ve=xe)&&void 0!==ve?ve:ot}function L(ae,ve,xe,me){let Se=ae;for(;Se.parent;)Se=Se.parent;if(0===ve.length)return Q(Se,Se,Se,xe,me);const ot=function He(ae){if("string"==typeof ae[0]&&1===ae.length&&"/"===ae[0])return new Ie(!0,0,ae);let ve=0,xe=!1;const me=ae.reduce((Se,ot,ht)=>{if("object"==typeof ot&&null!=ot){if(ot.outlets){const Qt={};return Object.entries(ot.outlets).forEach(([En,an])=>{Qt[En]="string"==typeof an?an.split("/"):an}),[...Se,{outlets:Qt}]}if(ot.segmentPath)return[...Se,ot.segmentPath]}return"string"!=typeof ot?[...Se,ot]:0===ht?(ot.split("/").forEach((Qt,En)=>{0==En&&"."===Qt||(0==En&&""===Qt?xe=!0:".."===Qt?ve++:""!=Qt&&Se.push(Qt))}),Se):[...Se,ot]},[]);return new Ie(xe,ve,me)}(ve);if(ot.toRoot())return Q(Se,Se,new Ne([],{}),xe,me);const ht=function Jt(ae,ve,xe){if(ae.isAbsolute)return new dt(ve,!0,0);if(!xe)return new dt(ve,!1,NaN);if(null===xe.parent)return new dt(xe,!0,0);const me=H(ae.commands[0])?0:1;return function un(ae,ve,xe){let me=ae,Se=ve,ot=xe;for(;ot>Se;){if(ot-=Se,me=me.parent,!me)throw new g.OBp(4005,!1);Se=me.segments.length}return new dt(me,!1,Se-ot)}(xe,xe.segments.length-1+me,ae.numberOfDoubleDots)}(ot,Se,ae),Qt=ht.processChildren?kn(ht.segmentGroup,ht.index,ot.commands):fn(ht.segmentGroup,ht.index,ot.commands);return Q(Se,ht.segmentGroup,Qt,xe,me)}function H(ae){return"object"==typeof ae&&null!=ae&&!ae.outlets&&!ae.segmentPath}function ee(ae){return"object"==typeof ae&&null!=ae&&ae.outlets}function Q(ae,ve,xe,me,Se){let ht,ot={};me&&Object.entries(me).forEach(([En,an])=>{ot[En]=Array.isArray(an)?an.map(Rn=>`${Rn}`):`${an}`}),ht=ae===ve?xe:pe(ae,ve,xe);const Qt=lr(Z(ht));return new Re(Qt,ot,Se)}function pe(ae,ve,xe){const me={};return Object.entries(ae.children).forEach(([Se,ot])=>{me[Se]=ot===ve?xe:pe(ot,ve,xe)}),new Ne(ae.segments,me)}class Ie{constructor(ve,xe,me){if(this.isAbsolute=ve,this.numberOfDoubleDots=xe,this.commands=me,ve&&me.length>0&&H(me[0]))throw new g.OBp(4003,!1);const Se=me.find(ee);if(Se&&Se!==$t(me))throw new g.OBp(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dt{constructor(ve,xe,me){this.segmentGroup=ve,this.processChildren=xe,this.index=me}}function fn(ae,ve,xe){var me;if(null!==(me=ae)&&void 0!==me||(ae=new Ne([],{})),0===ae.segments.length&&ae.hasChildren())return kn(ae,ve,xe);const Se=function Un(ae,ve,xe){let me=0,Se=ve;const ot={match:!1,pathIndex:0,commandIndex:0};for(;Se<ae.segments.length;){if(me>=xe.length)return ot;const ht=ae.segments[Se],Qt=xe[me];if(ee(Qt))break;const En=`${Qt}`,an=me<xe.length-1?xe[me+1]:null;if(Se>0&&void 0===En)break;if(En&&an&&"object"==typeof an&&void 0===an.outlets){if(!ft(En,an,ht))return ot;me+=2}else{if(!ft(En,{},ht))return ot;me++}Se++}return{match:!0,pathIndex:Se,commandIndex:me}}(ae,ve,xe),ot=xe.slice(Se.commandIndex);if(Se.match&&Se.pathIndex<ae.segments.length){const ht=new Ne(ae.segments.slice(0,Se.pathIndex),{});return ht.children[Oe]=new Ne(ae.segments.slice(Se.pathIndex),ae.children),kn(ht,0,ot)}return Se.match&&0===ot.length?new Ne(ae.segments,{}):Se.match&&!ae.hasChildren()?Ln(ae,ve,xe):Se.match?kn(ae,0,ot):Ln(ae,ve,xe)}function kn(ae,ve,xe){if(0===xe.length)return new Ne(ae.segments,{});{const me=function ln(ae){return ee(ae[0])?ae[0].outlets:{[Oe]:ae}}(xe),Se={};if(Object.keys(me).some(ot=>ot!==Oe)&&ae.children[Oe]&&1===ae.numberOfChildren&&0===ae.children[Oe].segments.length){const ot=kn(ae.children[Oe],ve,xe);return new Ne(ae.segments,ot.children)}return Object.entries(me).forEach(([ot,ht])=>{"string"==typeof ht&&(ht=[ht]),null!==ht&&(Se[ot]=fn(ae.children[ot],ve,ht))}),Object.entries(ae.children).forEach(([ot,ht])=>{void 0===me[ot]&&(Se[ot]=ht)}),new Ne(ae.segments,Se)}}function Ln(ae,ve,xe){const me=ae.segments.slice(0,ve);let Se=0;for(;Se<xe.length;){const ot=xe[Se];if(ee(ot)){const En=hr(ot.outlets);return new Ne(me,En)}if(0===Se&&H(xe[0])){me.push(new Me(ae.segments[ve].path,nr(xe[0]))),Se++;continue}const ht=ee(ot)?ot.outlets[Oe]:`${ot}`,Qt=Se<xe.length-1?xe[Se+1]:null;ht&&Qt&&H(Qt)?(me.push(new Me(ht,nr(Qt))),Se+=2):(me.push(new Me(ht,{})),Se++)}return new Ne(me,{})}function hr(ae){const ve={};return Object.entries(ae).forEach(([xe,me])=>{"string"==typeof me&&(me=[me]),null!==me&&(ve[xe]=Ln(new Ne([],{}),0,me))}),ve}function nr(ae){const ve={};return Object.entries(ae).forEach(([xe,me])=>ve[xe]=`${me}`),ve}function ft(ae,ve,xe){return ae==xe.path&&_t(ve,xe.parameters)}const wt="imperative";var ze=function(ae){return ae[ae.NavigationStart=0]="NavigationStart",ae[ae.NavigationEnd=1]="NavigationEnd",ae[ae.NavigationCancel=2]="NavigationCancel",ae[ae.NavigationError=3]="NavigationError",ae[ae.RoutesRecognized=4]="RoutesRecognized",ae[ae.ResolveStart=5]="ResolveStart",ae[ae.ResolveEnd=6]="ResolveEnd",ae[ae.GuardsCheckStart=7]="GuardsCheckStart",ae[ae.GuardsCheckEnd=8]="GuardsCheckEnd",ae[ae.RouteConfigLoadStart=9]="RouteConfigLoadStart",ae[ae.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ae[ae.ChildActivationStart=11]="ChildActivationStart",ae[ae.ChildActivationEnd=12]="ChildActivationEnd",ae[ae.ActivationStart=13]="ActivationStart",ae[ae.ActivationEnd=14]="ActivationEnd",ae[ae.Scroll=15]="Scroll",ae[ae.NavigationSkipped=16]="NavigationSkipped",ae}(ze||{});class mt{constructor(ve,xe){this.id=ve,this.url=xe}}class qt extends mt{constructor(ve,xe,me="imperative",Se=null){super(ve,xe),this.type=ze.NavigationStart,this.navigationTrigger=me,this.restoredState=Se}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hn extends mt{constructor(ve,xe,me){super(ve,xe),this.urlAfterRedirects=me,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var An=function(ae){return ae[ae.Redirect=0]="Redirect",ae[ae.SupersededByNewNavigation=1]="SupersededByNewNavigation",ae[ae.NoDataFromResolver=2]="NoDataFromResolver",ae[ae.GuardRejected=3]="GuardRejected",ae}(An||{}),Bt=function(ae){return ae[ae.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ae[ae.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ae}(Bt||{});class Le extends mt{constructor(ve,xe,me,Se){super(ve,xe),this.reason=me,this.code=Se,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ke extends mt{constructor(ve,xe,me,Se){super(ve,xe),this.reason=me,this.code=Se,this.type=ze.NavigationSkipped}}class Nt extends mt{constructor(ve,xe,me,Se){super(ve,xe),this.error=me,this.target=Se,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ht extends mt{constructor(ve,xe,me,Se){super(ve,xe),this.urlAfterRedirects=me,this.state=Se,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xt extends mt{constructor(ve,xe,me,Se){super(ve,xe),this.urlAfterRedirects=me,this.state=Se,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class se extends mt{constructor(ve,xe,me,Se,ot){super(ve,xe),this.urlAfterRedirects=me,this.state=Se,this.shouldActivate=ot,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ge extends mt{constructor(ve,xe,me,Se){super(ve,xe),this.urlAfterRedirects=me,this.state=Se,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _e extends mt{constructor(ve,xe,me,Se){super(ve,xe),this.urlAfterRedirects=me,this.state=Se,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe{constructor(ve){this.route=ve,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Et{constructor(ve){this.route=ve,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nn{constructor(ve){this.snapshot=ve,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class In{constructor(ve){this.snapshot=ve,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(ve){this.snapshot=ve,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(ve){this.snapshot=ve,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(ve,xe,me){this.routerEvent=ve,this.position=xe,this.anchor=me,this.type=ze.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pr{}class Or{constructor(ve){this.url=ve}}class Bo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Br,this.attachRef=null}}let Br=(()=>{var ae;class ve{constructor(){this.contexts=new Map}onChildOutletCreated(me,Se){const ot=this.getOrCreateContext(me);ot.outlet=Se,this.contexts.set(me,ot)}onChildOutletDestroyed(me){const Se=this.getContext(me);Se&&(Se.outlet=null,Se.attachRef=null)}onOutletDeactivated(){const me=this.contexts;return this.contexts=new Map,me}onOutletReAttached(me){this.contexts=me}getOrCreateContext(me){let Se=this.getContext(me);return Se||(Se=new Bo,this.contexts.set(me,Se)),Se}getContext(me){return this.contexts.get(me)||null}}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})();class mr{constructor(ve){this._root=ve}get root(){return this._root.value}parent(ve){const xe=this.pathFromRoot(ve);return xe.length>1?xe[xe.length-2]:null}children(ve){const xe=On(ve,this._root);return xe?xe.children.map(me=>me.value):[]}firstChild(ve){const xe=On(ve,this._root);return xe&&xe.children.length>0?xe.children[0].value:null}siblings(ve){const xe=Gn(ve,this._root);return xe.length<2?[]:xe[xe.length-2].children.map(Se=>Se.value).filter(Se=>Se!==ve)}pathFromRoot(ve){return Gn(ve,this._root).map(xe=>xe.value)}}function On(ae,ve){if(ae===ve.value)return ve;for(const xe of ve.children){const me=On(ae,xe);if(me)return me}return null}function Gn(ae,ve){if(ae===ve.value)return[ve];for(const xe of ve.children){const me=Gn(ae,xe);if(me.length)return me.unshift(ve),me}return[]}class fr{constructor(ve,xe){this.value=ve,this.children=xe}toString(){return`TreeNode(${this.value})`}}function Yr(ae){const ve={};return ae&&ae.children.forEach(xe=>ve[xe.value.outlet]=xe),ve}class xr extends mr{constructor(ve,xe){super(ve),this.snapshot=xe,ro(this,ve)}toString(){return this.snapshot.toString()}}function Lr(ae){const ve=function uo(ae){const ot=new $r([],{},{},"",{},Oe,ae,null,{});return new Yn("",new fr(ot,[]))}(ae),xe=new w.g([new Me("",{})]),me=new w.g({}),Se=new w.g({}),ot=new w.g({}),ht=new w.g(""),Qt=new ur(xe,me,ot,ht,Se,Oe,ae,ve.root);return Qt.snapshot=ve.root,new xr(new fr(Qt,[]),ve)}class ur{constructor(ve,xe,me,Se,ot,ht,Qt,En){var an,Rn;this.urlSubject=ve,this.paramsSubject=xe,this.queryParamsSubject=me,this.fragmentSubject=Se,this.dataSubject=ot,this.outlet=ht,this.component=Qt,this._futureSnapshot=En,this.title=null!==(an=null===(Rn=this.dataSubject)||void 0===Rn?void 0:Rn.pipe((0,y.k)(Qn=>Qn[Pe])))&&void 0!==an?an:(0,V.of)(void 0),this.url=ve,this.params=xe,this.queryParams=me,this.fragment=Se,this.data=ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var ve;return null!==(ve=this._paramMap)&&void 0!==ve||(this._paramMap=this.params.pipe((0,y.k)(xe=>ke(xe)))),this._paramMap}get queryParamMap(){var ve;return null!==(ve=this._queryParamMap)&&void 0!==ve||(this._queryParamMap=this.queryParams.pipe((0,y.k)(xe=>ke(xe)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vr(ae,ve,xe="emptyOnly"){var me;let Se;const{routeConfig:ot}=ae;var ht;return Se=null===ve||"always"!==xe&&""!==(null==ot?void 0:ot.path)&&(ve.component||null!==(me=ve.routeConfig)&&void 0!==me&&me.loadComponent)?{params:{...ae.params},data:{...ae.data},resolve:{...ae.data,...null!==(ht=ae._resolvedData)&&void 0!==ht?ht:{}}}:{params:{...ve.params,...ae.params},data:{...ve.data,...ae.data},resolve:{...ae.data,...ve.data,...null==ot?void 0:ot.data,...ae._resolvedData}},ot&&So(ot)&&(Se.resolve[Pe]=ot.title),Se}class $r{get title(){var ve;return null===(ve=this.data)||void 0===ve?void 0:ve[Pe]}constructor(ve,xe,me,Se,ot,ht,Qt,En,an){this.url=ve,this.params=xe,this.queryParams=me,this.fragment=Se,this.data=ot,this.outlet=ht,this.component=Qt,this.routeConfig=En,this._resolve=an}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var ve;return null!==(ve=this._paramMap)&&void 0!==ve||(this._paramMap=ke(this.params)),this._paramMap}get queryParamMap(){var ve;return null!==(ve=this._queryParamMap)&&void 0!==ve||(this._queryParamMap=ke(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(me=>me.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yn extends mr{constructor(ve,xe){super(xe),this.url=ve,ro(this,xe)}toString(){return zo(this._root)}}function ro(ae,ve){ve.value._routerState=ae,ve.children.forEach(xe=>ro(ae,xe))}function zo(ae){const ve=ae.children.length>0?` { ${ae.children.map(zo).join(", ")} } `:"";return`${ae.value}${ve}`}function xo(ae){if(ae.snapshot){const ve=ae.snapshot,xe=ae._futureSnapshot;ae.snapshot=xe,_t(ve.queryParams,xe.queryParams)||ae.queryParamsSubject.next(xe.queryParams),ve.fragment!==xe.fragment&&ae.fragmentSubject.next(xe.fragment),_t(ve.params,xe.params)||ae.paramsSubject.next(xe.params),function tt(ae,ve){if(ae.length!==ve.length)return!1;for(let xe=0;xe<ae.length;++xe)if(!_t(ae[xe],ve[xe]))return!1;return!0}(ve.url,xe.url)||ae.urlSubject.next(xe.url),_t(ve.data,xe.data)||ae.dataSubject.next(xe.data)}else ae.snapshot=ae._futureSnapshot,ae.dataSubject.next(ae._futureSnapshot.data)}function Dr(ae,ve){const xe=_t(ae.params,ve.params)&&function Ye(ae,ve){return vt(ae,ve)&&ae.every((xe,me)=>_t(xe.parameters,ve[me].parameters))}(ae.url,ve.url);return xe&&!(!ae.parent!=!ve.parent)&&(!ae.parent||Dr(ae.parent,ve.parent))}function So(ae){return"string"==typeof ae.title||null===ae.title}let To=(()=>{var ae;class ve{constructor(){this.activated=null,this._activatedRoute=null,this.name=Oe,this.activateEvents=new g._w7,this.deactivateEvents=new g._w7,this.attachEvents=new g._w7,this.detachEvents=new g._w7,this.parentContexts=(0,g.uUt)(Br),this.location=(0,g.uUt)(g.y8U),this.changeDetector=(0,g.uUt)(g.kD9),this.environmentInjector=(0,g.uUt)(g.SIe),this.inputBinder=(0,g.uUt)(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(me){if(me.name){const{firstChange:Se,previousValue:ot}=me.name;if(Se)return;this.isTrackedInParentContexts(ot)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ot)),this.initializeOutletWithName()}}ngOnDestroy(){var me;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(me=this.inputBinder)||void 0===me||me.unsubscribeFromRouteData(this)}isTrackedInParentContexts(me){var Se;return(null===(Se=this.parentContexts.getContext(me))||void 0===Se?void 0:Se.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const me=this.parentContexts.getContext(this.name);null!=me&&me.route&&(me.attachRef?this.attach(me.attachRef,me.route):this.activateWith(me.route,me.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.OBp(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.OBp(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.OBp(4012,!1);this.location.detach();const me=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(me.instance),me}attach(me,Se){var ot;this.activated=me,this._activatedRoute=Se,this.location.insert(me.hostView),null===(ot=this.inputBinder)||void 0===ot||ot.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(me.instance)}deactivate(){if(this.activated){const me=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(me)}}activateWith(me,Se){var ot;if(this.isActivated)throw new g.OBp(4013,!1);this._activatedRoute=me;const ht=this.location,En=me.snapshot.component,an=this.parentContexts.getOrCreateContext(this.name).children,Rn=new fo(me,an,ht.injector);this.activated=ht.createComponent(En,{index:ht.length,injector:Rn,environmentInjector:null!=Se?Se:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ot=this.inputBinder)||void 0===ot||ot.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275dir=g.Sc5({type:ae,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.SYr]}),ve})();class fo{constructor(ve,xe,me){this.route=ve,this.childContexts=xe,this.parent=me}get(ve,xe){return ve===ur?this.route:ve===Br?this.childContexts:this.parent.get(ve,xe)}}const po=new g.UbH("");let qo=(()=>{var ae;class ve{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(me){this.unsubscribeFromRouteData(me),this.subscribeToRouteData(me)}unsubscribeFromRouteData(me){var Se;null===(Se=this.outletDataSubscriptions.get(me))||void 0===Se||Se.unsubscribe(),this.outletDataSubscriptions.delete(me)}subscribeToRouteData(me){const{activatedRoute:Se}=me,ot=(0,_.E)([Se.queryParams,Se.params,Se.data]).pipe((0,f.G)(([ht,Qt,En],an)=>(En={...ht,...Qt,...En},0===an?(0,V.of)(En):Promise.resolve(En)))).subscribe(ht=>{if(!me.isActivated||!me.activatedComponentRef||me.activatedRoute!==Se||null===Se.component)return void this.unsubscribeFromRouteData(me);const Qt=(0,g.o9M)(Se.component);if(Qt)for(const{templateName:En}of Qt.inputs)me.activatedComponentRef.setInput(En,ht[En]);else this.unsubscribeFromRouteData(me)});this.outletDataSubscriptions.set(me,ot)}}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac}),ve})();function mo(ae,ve,xe){if(xe&&ae.shouldReuseRoute(ve.value,xe.value.snapshot)){const me=xe.value;me._futureSnapshot=ve.value;const Se=function ko(ae,ve,xe){return ve.children.map(me=>{for(const Se of xe.children)if(ae.shouldReuseRoute(me.value,Se.value.snapshot))return mo(ae,me,Se);return mo(ae,me)})}(ae,ve,xe);return new fr(me,Se)}{if(ae.shouldAttach(ve.value)){const ot=ae.retrieve(ve.value);if(null!==ot){const ht=ot.route;return ht.value._futureSnapshot=ve.value,ht.children=ve.children.map(Qt=>mo(ae,Qt)),ht}}const me=function Xn(ae){return new ur(new w.g(ae.url),new w.g(ae.params),new w.g(ae.queryParams),new w.g(ae.fragment),new w.g(ae.data),ae.outlet,ae.component,ae)}(ve.value),Se=ve.children.map(ot=>mo(ae,ot));return new fr(me,Se)}}const Uo="ngNavigationCancelingError";function oo(ae,ve){const{redirectTo:xe,navigationBehaviorOptions:me}=ye(ve)?{redirectTo:ve,navigationBehaviorOptions:void 0}:ve,Se=co(!1,An.Redirect);return Se.url=xe,Se.navigationBehaviorOptions=me,Se}function co(ae,ve){const xe=new Error(`NavigationCancelingError: ${ae||""}`);return xe[Uo]=!0,xe.cancellationCode=ve,xe}function Lo(ae){return!!ae&&ae[Uo]}let _r=(()=>{var ae;class ve{}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275cmp=g.In1({type:ae,selectors:[["ng-component"]],standalone:!0,features:[g.UHJ],decls:1,vars:0,template:function(me,Se){1&me&&g.wR5(0,"router-outlet")},dependencies:[To],encapsulation:2}),ve})();function li(ae){const ve=ae.children&&ae.children.map(li),xe=ve?{...ae,children:ve}:{...ae};return!xe.component&&!xe.loadComponent&&(ve||xe.loadChildren)&&xe.outlet&&xe.outlet!==Oe&&(xe.component=_r),xe}function go(ae){return ae.outlet||Oe}function Ko(ae){var ve;if(!ae)return null;if(null!==(ve=ae.routeConfig)&&void 0!==ve&&ve._injector)return ae.routeConfig._injector;for(let xe=ae.parent;xe;xe=xe.parent){const me=xe.routeConfig;if(null!=me&&me._loadedInjector)return me._loadedInjector;if(null!=me&&me._injector)return me._injector}return null}class Qi{constructor(ve,xe,me,Se,ot){this.routeReuseStrategy=ve,this.futureState=xe,this.currState=me,this.forwardEvent=Se,this.inputBindingEnabled=ot}activate(ve){const xe=this.futureState._root,me=this.currState?this.currState._root:null;this.deactivateChildRoutes(xe,me,ve),xo(this.futureState.root),this.activateChildRoutes(xe,me,ve)}deactivateChildRoutes(ve,xe,me){const Se=Yr(xe);ve.children.forEach(ot=>{const ht=ot.value.outlet;this.deactivateRoutes(ot,Se[ht],me),delete Se[ht]}),Object.values(Se).forEach(ot=>{this.deactivateRouteAndItsChildren(ot,me)})}deactivateRoutes(ve,xe,me){const Se=ve.value,ot=xe?xe.value:null;if(Se===ot)if(Se.component){const ht=me.getContext(Se.outlet);ht&&this.deactivateChildRoutes(ve,xe,ht.children)}else this.deactivateChildRoutes(ve,xe,me);else ot&&this.deactivateRouteAndItsChildren(xe,me)}deactivateRouteAndItsChildren(ve,xe){ve.value.component&&this.routeReuseStrategy.shouldDetach(ve.value.snapshot)?this.detachAndStoreRouteSubtree(ve,xe):this.deactivateRouteAndOutlet(ve,xe)}detachAndStoreRouteSubtree(ve,xe){const me=xe.getContext(ve.value.outlet),Se=me&&ve.value.component?me.children:xe,ot=Yr(ve);for(const ht of Object.values(ot))this.deactivateRouteAndItsChildren(ht,Se);if(me&&me.outlet){const ht=me.outlet.detach(),Qt=me.children.onOutletDeactivated();this.routeReuseStrategy.store(ve.value.snapshot,{componentRef:ht,route:ve,contexts:Qt})}}deactivateRouteAndOutlet(ve,xe){const me=xe.getContext(ve.value.outlet),Se=me&&ve.value.component?me.children:xe,ot=Yr(ve);for(const ht of Object.values(ot))this.deactivateRouteAndItsChildren(ht,Se);me&&(me.outlet&&(me.outlet.deactivate(),me.children.onOutletDeactivated()),me.attachRef=null,me.route=null)}activateChildRoutes(ve,xe,me){const Se=Yr(xe);ve.children.forEach(ot=>{this.activateRoutes(ot,Se[ot.value.outlet],me),this.forwardEvent(new qn(ot.value.snapshot))}),ve.children.length&&this.forwardEvent(new In(ve.value.snapshot))}activateRoutes(ve,xe,me){const Se=ve.value,ot=xe?xe.value:null;if(xo(Se),Se===ot)if(Se.component){const ht=me.getOrCreateContext(Se.outlet);this.activateChildRoutes(ve,xe,ht.children)}else this.activateChildRoutes(ve,xe,me);else if(Se.component){const ht=me.getOrCreateContext(Se.outlet);if(this.routeReuseStrategy.shouldAttach(Se.snapshot)){const Qt=this.routeReuseStrategy.retrieve(Se.snapshot);this.routeReuseStrategy.store(Se.snapshot,null),ht.children.onOutletReAttached(Qt.contexts),ht.attachRef=Qt.componentRef,ht.route=Qt.route.value,ht.outlet&&ht.outlet.attach(Qt.componentRef,Qt.route.value),xo(Qt.route.value),this.activateChildRoutes(ve,null,ht.children)}else{const Qt=Ko(Se.snapshot);ht.attachRef=null,ht.route=Se,ht.injector=Qt,ht.outlet&&ht.outlet.activateWith(Se,ht.injector),this.activateChildRoutes(ve,null,ht.children)}}else this.activateChildRoutes(ve,null,me)}}class Si{constructor(ve){this.path=ve,this.route=this.path[this.path.length-1]}}class mi{constructor(ve,xe){this.component=ve,this.route=xe}}function Zi(ae,ve,xe){const me=ae._root;return oi(me,ve?ve._root:null,xe,[me.value])}function ui(ae,ve){const xe=Symbol(),me=ve.get(ae,xe);return me===xe?"function"!=typeof ae||(0,g.K_M)(ae)?ve.get(ae):ae:me}function oi(ae,ve,xe,me,Se={canDeactivateChecks:[],canActivateChecks:[]}){const ot=Yr(ve);return ae.children.forEach(ht=>{(function Wr(ae,ve,xe,me,Se={canDeactivateChecks:[],canActivateChecks:[]}){const ot=ae.value,ht=ve?ve.value:null,Qt=xe?xe.getContext(ae.value.outlet):null;if(ht&&ot.routeConfig===ht.routeConfig){const En=function Di(ae,ve,xe){if("function"==typeof xe)return xe(ae,ve);switch(xe){case"pathParamsChange":return!vt(ae.url,ve.url);case"pathParamsOrQueryParamsChange":return!vt(ae.url,ve.url)||!_t(ae.queryParams,ve.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dr(ae,ve)||!_t(ae.queryParams,ve.queryParams);default:return!Dr(ae,ve)}}(ht,ot,ot.routeConfig.runGuardsAndResolvers);En?Se.canActivateChecks.push(new Si(me)):(ot.data=ht.data,ot._resolvedData=ht._resolvedData),oi(ae,ve,ot.component?Qt?Qt.children:null:xe,me,Se),En&&Qt&&Qt.outlet&&Qt.outlet.isActivated&&Se.canDeactivateChecks.push(new mi(Qt.outlet.component,ht))}else ht&&S(ve,Qt,Se),Se.canActivateChecks.push(new Si(me)),oi(ae,null,ot.component?Qt?Qt.children:null:xe,me,Se)})(ht,ot[ht.value.outlet],xe,me.concat([ht.value]),Se),delete ot[ht.value.outlet]}),Object.entries(ot).forEach(([ht,Qt])=>S(Qt,xe.getContext(ht),Se)),Se}function S(ae,ve,xe){const me=Yr(ae),Se=ae.value;Object.entries(me).forEach(([ot,ht])=>{S(ht,Se.component?ve?ve.children.getContext(ot):null:ve,xe)}),xe.canDeactivateChecks.push(new mi(Se.component&&ve&&ve.outlet&&ve.outlet.isActivated?ve.outlet.component:null,Se))}function G(ae){return"function"==typeof ae}function rt(ae){return ae instanceof p||"EmptyError"===(null==ae?void 0:ae.name)}const ct=Symbol("INITIAL_VALUE");function Ft(){return(0,f.G)(ae=>(0,_.E)(ae.map(ve=>ve.pipe((0,b.U)(1),function F(...ae){const ve=(0,D.e_)(ae);return(0,B.i)((xe,me)=>{(ve?(0,m.W)(ae,xe,ve):(0,m.W)(ae,xe)).subscribe(me)})}(ct)))).pipe((0,y.k)(ve=>{for(const xe of ve)if(!0!==xe){if(xe===ct)return ct;if(!1===xe||xe instanceof Re)return xe}return!0}),(0,j.I)(ve=>ve!==ct),(0,b.U)(1)))}function Hn(ae){return(0,x.W)((0,ie.y)(ve=>{if(ye(ve))throw oo(0,ve)}),(0,y.k)(ve=>!0===ve))}class Vn{constructor(ve){this.segmentGroup=ve||null}}class Zn extends Error{constructor(ve){super(),this.urlTree=ve}}function er(ae){return(0,s.c)(new Vn(ae))}class Jr{constructor(ve,xe){this.urlSerializer=ve,this.urlTree=xe}lineralizeSegments(ve,xe){let me=[],Se=xe.root;for(;;){if(me=me.concat(Se.segments),0===Se.numberOfChildren)return(0,V.of)(me);if(Se.numberOfChildren>1||!Se.children[Oe])return(0,s.c)(new g.OBp(4e3,!1));Se=Se.children[Oe]}}applyRedirectCommands(ve,xe,me){const Se=this.applyRedirectCreateUrlTree(xe,this.urlSerializer.parse(xe),ve,me);if(xe.startsWith("/"))throw new Zn(Se);return Se}applyRedirectCreateUrlTree(ve,xe,me,Se){const ot=this.createSegmentGroup(ve,xe.root,me,Se);return new Re(ot,this.createQueryParams(xe.queryParams,this.urlTree.queryParams),xe.fragment)}createQueryParams(ve,xe){const me={};return Object.entries(ve).forEach(([Se,ot])=>{if("string"==typeof ot&&ot.startsWith(":")){const Qt=ot.substring(1);me[Se]=xe[Qt]}else me[Se]=ot}),me}createSegmentGroup(ve,xe,me,Se){const ot=this.createSegments(ve,xe.segments,me,Se);let ht={};return Object.entries(xe.children).forEach(([Qt,En])=>{ht[Qt]=this.createSegmentGroup(ve,En,me,Se)}),new Ne(ot,ht)}createSegments(ve,xe,me,Se){return xe.map(ot=>ot.path.startsWith(":")?this.findPosParam(ve,ot,Se):this.findOrReturn(ot,me))}findPosParam(ve,xe,me){const Se=me[xe.path.substring(1)];if(!Se)throw new g.OBp(4001,!1);return Se}findOrReturn(ve,xe){let me=0;for(const Se of xe){if(Se.path===ve.path)return xe.splice(me),Se;me++}return ve}}const ho={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cr(ae,ve,xe,me,Se){const ot=Ir(ae,ve,xe);return ot.matched?(me=function Yo(ae,ve){var xe;return ae.providers&&!ae._injector&&(ae._injector=(0,g.SIz)(ae.providers,ve,`Route: ${ae.path}`)),null!==(xe=ae._injector)&&void 0!==xe?xe:ve}(ve,me),function Wn(ae,ve,xe,me){const Se=ve.canMatch;if(!Se||0===Se.length)return(0,V.of)(!0);const ot=Se.map(ht=>{const Qt=ui(ht,ae);return Ot(function Ue(ae){return ae&&G(ae.canMatch)}(Qt)?Qt.canMatch(ve,xe):(0,g.SMS)(ae,()=>Qt(ve,xe)))});return(0,V.of)(ot).pipe(Ft(),Hn())}(me,ve,xe).pipe((0,y.k)(ht=>!0===ht?ot:{...ho}))):(0,V.of)(ot)}function Ir(ae,ve,xe){var me,Se;if("**"===ve.path)return function yr(ae){return{matched:!0,parameters:ae.length>0?$t(ae).parameters:{},consumedSegments:ae,remainingSegments:[],positionalParamSegments:{}}}(xe);if(""===ve.path)return"full"===ve.pathMatch&&(ae.hasChildren()||xe.length>0)?{...ho}:{matched:!0,consumedSegments:[],remainingSegments:xe,parameters:{},positionalParamSegments:{}};const ht=(ve.matcher||Qe)(xe,ae,ve);if(!ht)return{...ho};const Qt={};Object.entries(null!==(me=ht.posParams)&&void 0!==me?me:{}).forEach(([an,Rn])=>{Qt[an]=Rn.path});const En=ht.consumed.length>0?{...Qt,...ht.consumed[ht.consumed.length-1].parameters}:Qt;return{matched:!0,consumedSegments:ht.consumed,remainingSegments:xe.slice(ht.consumed.length),parameters:En,positionalParamSegments:null!==(Se=ht.posParams)&&void 0!==Se?Se:{}}}function kr(ae,ve,xe,me){return xe.length>0&&function Nr(ae,ve,xe){return xe.some(me=>Jo(ae,ve,me)&&go(me)!==Oe)}(ae,xe,me)?{segmentGroup:new Ne(ve,to(me,new Ne(xe,ae.children))),slicedSegments:[]}:0===xe.length&&function no(ae,ve,xe){return xe.some(me=>Jo(ae,ve,me))}(ae,xe,me)?{segmentGroup:new Ne(ae.segments,Fn(ae,xe,me,ae.children)),slicedSegments:xe}:{segmentGroup:new Ne(ae.segments,ae.children),slicedSegments:xe}}function Fn(ae,ve,xe,me){const Se={};for(const ot of xe)if(Jo(ae,ve,ot)&&!me[go(ot)]){const ht=new Ne([],{});Se[go(ot)]=ht}return{...me,...Se}}function to(ae,ve){const xe={};xe[Oe]=ve;for(const me of ae)if(""===me.path&&go(me)!==Oe){const Se=new Ne([],{});xe[go(me)]=Se}return xe}function Jo(ae,ve,xe){return(!(ae.hasChildren()||ve.length>0)||"full"!==xe.pathMatch)&&""===xe.path}class Ii{}class Ma{constructor(ve,xe,me,Se,ot,ht,Qt){this.injector=ve,this.configLoader=xe,this.rootComponentType=me,this.config=Se,this.urlTree=ot,this.paramsInheritanceStrategy=ht,this.urlSerializer=Qt,this.applyRedirects=new Jr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ve){return new g.OBp(4002,`'${ve.segmentGroup}'`)}recognize(){const ve=kr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ve).pipe((0,y.k)(xe=>{const me=new $r([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Oe,this.rootComponentType,null,{}),Se=new fr(me,xe),ot=new Yn("",Se),ht=function E(ae,ve,xe=null,me=null){return L(N(ae),ve,xe,me)}(me,[],this.urlTree.queryParams,this.urlTree.fragment);return ht.queryParams=this.urlTree.queryParams,ot.url=this.urlSerializer.serialize(ht),this.inheritParamsAndData(ot._root,null),{state:ot,tree:ht}}))}match(ve){return this.processSegmentGroup(this.injector,this.config,ve,Oe).pipe(z(me=>{if(me instanceof Zn)return this.urlTree=me.urlTree,this.match(me.urlTree.root);throw me instanceof Vn?this.noMatchError(me):me}))}inheritParamsAndData(ve,xe){const me=ve.value,Se=vr(me,xe,this.paramsInheritanceStrategy);me.params=Object.freeze(Se.params),me.data=Object.freeze(Se.data),ve.children.forEach(ot=>this.inheritParamsAndData(ot,me))}processSegmentGroup(ve,xe,me,Se){return 0===me.segments.length&&me.hasChildren()?this.processChildren(ve,xe,me):this.processSegment(ve,xe,me,me.segments,Se,!0).pipe((0,y.k)(ot=>ot instanceof fr?[ot]:[]))}processChildren(ve,xe,me){const Se=[];for(const ot of Object.keys(me.children))"primary"===ot?Se.unshift(ot):Se.push(ot);return(0,o.Q)(Se).pipe(Y(ot=>{const ht=me.children[ot],Qt=function br(ae,ve){const xe=ae.filter(me=>go(me)===ve);return xe.push(...ae.filter(me=>go(me)!==ve)),xe}(xe,ot);return this.processSegmentGroup(ve,Qt,ht,ot)}),function le(ae,ve){return(0,B.i)(function oe(ae,ve,xe,me,Se){return(ot,ht)=>{let Qt=xe,En=ve,an=0;ot.subscribe((0,U.e)(ht,Rn=>{const Qn=an++;En=Qt?ae(En,Rn,Qn):(Qt=!0,Rn),me&&ht.next(En)},Se&&(()=>{Qt&&ht.next(En),ht.complete()})))}}(ae,ve,arguments.length>=2,!0))}((ot,ht)=>(ot.push(...ht),ot)),T(null),function W(ae,ve){const xe=arguments.length>=2;return me=>me.pipe(ae?(0,j.I)((Se,ot)=>ae(Se,ot,me)):q.Z,Ee(1),xe?T(ve):I(()=>new p))}(),(0,k.O)(ot=>{if(null===ot)return er(me);const ht=yn(ot);return function kl(ae){ae.sort((ve,xe)=>ve.value.outlet===Oe?-1:xe.value.outlet===Oe?1:ve.value.outlet.localeCompare(xe.value.outlet))}(ht),(0,V.of)(ht)}))}processSegment(ve,xe,me,Se,ot,ht){return(0,o.Q)(xe).pipe(Y(Qt=>{var En;return this.processSegmentAgainstRoute(null!==(En=Qt._injector)&&void 0!==En?En:ve,xe,Qt,me,Se,ot,ht).pipe(z(an=>{if(an instanceof Vn)return(0,V.of)(null);throw an}))}),K(Qt=>!!Qt),z(Qt=>{if(rt(Qt))return function Fi(ae,ve,xe){return 0===ve.length&&!ae.children[xe]}(me,Se,ot)?(0,V.of)(new Ii):er(me);throw Qt}))}processSegmentAgainstRoute(ve,xe,me,Se,ot,ht,Qt){return function ci(ae,ve,xe,me){return!!(go(ae)===me||me!==Oe&&Jo(ve,xe,ae))&&Ir(ve,ae,xe).matched}(me,Se,ot,ht)?void 0===me.redirectTo?this.matchSegmentAgainstRoute(ve,Se,me,ot,ht):this.allowRedirects&&Qt?this.expandSegmentAgainstRouteUsingRedirect(ve,Se,xe,me,ot,ht):er(Se):er(Se)}expandSegmentAgainstRouteUsingRedirect(ve,xe,me,Se,ot,ht){const{matched:Qt,consumedSegments:En,positionalParamSegments:an,remainingSegments:Rn}=Ir(xe,Se,ot);if(!Qt)return er(xe);Se.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Qn=this.applyRedirects.applyRedirectCommands(En,Se.redirectTo,an);return this.applyRedirects.lineralizeSegments(Se,Qn).pipe((0,k.O)(qr=>this.processSegment(ve,me,xe,qr.concat(Rn),ht,!1)))}matchSegmentAgainstRoute(ve,xe,me,Se,ot){const ht=Cr(xe,me,Se,ve);return"**"===me.path&&(xe.children={}),ht.pipe((0,f.G)(Qt=>{var En;return Qt.matched?(ve=null!==(En=me._injector)&&void 0!==En?En:ve,this.getChildConfig(ve,me,Se).pipe((0,f.G)(({routes:an})=>{var Rn,Qn,qr;const Sr=null!==(Rn=me._loadedInjector)&&void 0!==Rn?Rn:ve,{consumedSegments:zn,remainingSegments:si,parameters:Ai}=Qt,Pi=new $r(zn,Ai,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function bs(ae){return ae.data||{}}(me),go(me),null!==(Qn=null!==(qr=me.component)&&void 0!==qr?qr:me._loadedComponent)&&void 0!==Qn?Qn:null,me,function Oa(ae){return ae.resolve||{}}(me)),{segmentGroup:Gi,slicedSegments:ji}=kr(xe,zn,si,an);if(0===ji.length&&Gi.hasChildren())return this.processChildren(Sr,an,Gi).pipe((0,y.k)(ki=>null===ki?null:new fr(Pi,ki)));if(0===an.length&&0===ji.length)return(0,V.of)(new fr(Pi,[]));const Oc=go(me)===ot;return this.processSegment(Sr,an,Gi,ji,Oc?Oe:ot,!0).pipe((0,y.k)(ki=>new fr(Pi,ki instanceof fr?[ki]:[])))}))):er(xe)}))}getChildConfig(ve,xe,me){return xe.children?(0,V.of)({routes:xe.children,injector:ve}):xe.loadChildren?void 0!==xe._loadedRoutes?(0,V.of)({routes:xe._loadedRoutes,injector:xe._loadedInjector}):function $n(ae,ve,xe,me){const Se=ve.canLoad;if(void 0===Se||0===Se.length)return(0,V.of)(!0);const ot=Se.map(ht=>{const Qt=ui(ht,ae);return Ot(function O(ae){return ae&&G(ae.canLoad)}(Qt)?Qt.canLoad(ve,xe):(0,g.SMS)(ae,()=>Qt(ve,xe)))});return(0,V.of)(ot).pipe(Ft(),Hn())}(ve,xe,me).pipe((0,k.O)(Se=>Se?this.configLoader.loadChildren(ve,xe).pipe((0,ie.y)(ot=>{xe._loadedRoutes=ot.routes,xe._loadedInjector=ot.injector})):function Zr(ae){return(0,s.c)(co(!1,An.GuardRejected))}())):(0,V.of)({routes:[],injector:ve})}}function Ta(ae){const ve=ae.value.routeConfig;return ve&&""===ve.path}function yn(ae){const ve=[],xe=new Set;for(const me of ae){if(!Ta(me)){ve.push(me);continue}const Se=ve.find(ot=>me.value.routeConfig===ot.value.routeConfig);void 0!==Se?(Se.children.push(...me.children),xe.add(Se)):ve.push(me)}for(const me of xe){const Se=yn(me.children);ve.push(new fr(me.value,Se))}return ve.filter(me=>!xe.has(me))}function Mi(ae){const ve=ae.children.map(xe=>Mi(xe)).flat();return[ae,...ve]}function Cs(ae){return(0,f.G)(ve=>{const xe=ae(ve);return xe?(0,o.Q)(xe).pipe((0,y.k)(()=>ve)):(0,V.of)(ve)})}let Rl=(()=>{var ae;class ve{buildTitle(me){let Se,ot=me.root;for(;void 0!==ot;){var ht;Se=null!==(ht=this.getResolvedTitleForRoute(ot))&&void 0!==ht?ht:Se,ot=ot.children.find(Qt=>Qt.outlet===Oe)}return Se}getResolvedTitleForRoute(me){return me.data[Pe]}}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:()=>(0,g.uUt)(Pa),providedIn:"root"}),ve})(),Pa=(()=>{var ae;class ve extends Rl{constructor(me){super(),this.title=me}updateTitle(me){const Se=this.buildTitle(me);void 0!==Se&&this.title.setTitle(Se)}}return(ae=ve).\u0275fac=function(me){return new(me||ae)(g.CoB(We.OY))},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})();const Gr=new g.UbH("",{providedIn:"root",factory:()=>({})}),Io=new g.UbH("");let es=(()=>{var ae;class ve{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.uUt)(g.ESV)}loadComponent(me){if(this.componentLoaders.get(me))return this.componentLoaders.get(me);if(me._loadedComponent)return(0,V.of)(me._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(me);const Se=Ot(me.loadComponent()).pipe((0,y.k)(bt),(0,ie.y)(ht=>{this.onLoadEndListener&&this.onLoadEndListener(me),me._loadedComponent=ht}),ne(()=>{this.componentLoaders.delete(me)})),ot=new h.C(Se,()=>new c.E).pipe((0,ue.O)());return this.componentLoaders.set(me,ot),ot}loadChildren(me,Se){if(this.childrenLoaders.get(Se))return this.childrenLoaders.get(Se);if(Se._loadedRoutes)return(0,V.of)({routes:Se._loadedRoutes,injector:Se._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Se);const ht=function he(ae,ve,xe,me){return Ot(ae.loadChildren()).pipe((0,y.k)(bt),(0,k.O)(Se=>Se instanceof g.obV||Array.isArray(Se)?(0,V.of)(Se):(0,o.Q)(ve.compileModuleAsync(Se))),(0,y.k)(Se=>{me&&me(ae);let ot,ht,Qt=!1;return Array.isArray(Se)?(ht=Se,!0):(ot=Se.create(xe).injector,ht=ot.get(Io,[],{optional:!0,self:!0}).flat()),{routes:ht.map(li),injector:ot}}))}(Se,this.compiler,me,this.onLoadEndListener).pipe(ne(()=>{this.childrenLoaders.delete(Se)})),Qt=new h.C(ht,()=>new c.E).pipe((0,ue.O)());return this.childrenLoaders.set(Se,Qt),Qt}}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})();function bt(ae){return function Ae(ae){return ae&&"object"==typeof ae&&"default"in ae}(ae)?ae.default:ae}let Te=(()=>{var ae;class ve{}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:()=>(0,g.uUt)(lt),providedIn:"root"}),ve})(),lt=(()=>{var ae;class ve{shouldProcessUrl(me){return!0}extract(me){return me}merge(me,Se){return me}}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})();const At=new g.UbH(""),dn=new g.UbH("");function Tn(ae,ve,xe){const me=ae.get(dn),Se=ae.get(l.Ud);return ae.get(g.WW2).runOutsideAngular(()=>{if(!Se.startViewTransition||me.skipNextTransition)return me.skipNextTransition=!1,Promise.resolve();let ot;const ht=new Promise(an=>{ot=an}),Qt=Se.startViewTransition(()=>(ot(),function or(ae){return new Promise(ve=>{(0,g.I44)(ve,{injector:ae})})}(ae))),{onViewTransitionCreated:En}=me;return En&&(0,g.SMS)(ae,()=>En({transition:Qt,from:ve,to:xe})),ht})}let ir=(()=>{var ae;class ve{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new c.E,this.transitionAbortSubject=new c.E,this.configLoader=(0,g.uUt)(es),this.environmentInjector=(0,g.uUt)(g.SIe),this.urlSerializer=(0,g.uUt)(Lt),this.rootContexts=(0,g.uUt)(Br),this.location=(0,g.uUt)(l.oB),this.inputBindingEnabled=null!==(0,g.uUt)(po,{optional:!0}),this.titleStrategy=(0,g.uUt)(Rl),this.options=(0,g.uUt)(Gr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,g.uUt)(Te),this.createViewTransition=(0,g.uUt)(At,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,V.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ot=>this.events.next(new Et(ot)),this.configLoader.onLoadStartListener=ot=>this.events.next(new qe(ot))}complete(){var me;null===(me=this.transitions)||void 0===me||me.complete()}handleNavigationRequest(me){var Se;const ot=++this.navigationId;null===(Se=this.transitions)||void 0===Se||Se.next({...this.transitions.value,...me,id:ot})}setupNavigations(me,Se,ot){return this.transitions=new w.g({id:0,currentUrlTree:Se,currentRawUrl:Se,extractedUrl:this.urlHandlingStrategy.extract(Se),urlAfterRedirects:this.urlHandlingStrategy.extract(Se),rawUrl:Se,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wt,restoredState:null,currentSnapshot:ot.snapshot,targetSnapshot:null,currentRouterState:ot,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,j.I)(ht=>0!==ht.id),(0,y.k)(ht=>({...ht,extractedUrl:this.urlHandlingStrategy.extract(ht.rawUrl)})),(0,f.G)(ht=>{this.currentTransition=ht;let Qt=!1,En=!1;return(0,V.of)(ht).pipe((0,ie.y)(an=>{this.currentNavigation={id:an.id,initialUrl:an.rawUrl,extractedUrl:an.extractedUrl,trigger:an.source,extras:an.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,f.G)(an=>{var Rn;const Qn=!me.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),qr=null!==(Rn=an.extras.onSameUrlNavigation)&&void 0!==Rn?Rn:me.onSameUrlNavigation;if(!Qn&&"reload"!==qr){const Sr="";return this.events.next(new Ke(an.id,this.urlSerializer.serialize(an.rawUrl),Sr,Bt.IgnoredSameUrlNavigation)),an.resolve(null),a.k}if(this.urlHandlingStrategy.shouldProcessUrl(an.rawUrl))return(0,V.of)(an).pipe((0,f.G)(Sr=>{var zn,si;const Ai=null===(zn=this.transitions)||void 0===zn?void 0:zn.getValue();return this.events.next(new qt(Sr.id,this.urlSerializer.serialize(Sr.extractedUrl),Sr.source,Sr.restoredState)),Ai!==(null===(si=this.transitions)||void 0===si?void 0:si.getValue())?a.k:Promise.resolve(Sr)}),function Ar(ae,ve,xe,me,Se,ot){return(0,k.O)(ht=>function Da(ae,ve,xe,me,Se,ot,ht="emptyOnly"){return new Ma(ae,ve,xe,me,Se,ht,ot).recognize()}(ae,ve,xe,me,ht.extractedUrl,Se,ot).pipe((0,y.k)(({state:Qt,tree:En})=>({...ht,targetSnapshot:Qt,urlAfterRedirects:En}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,me.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ie.y)(Sr=>{ht.targetSnapshot=Sr.targetSnapshot,ht.urlAfterRedirects=Sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Sr.urlAfterRedirects};const zn=new Ht(Sr.id,this.urlSerializer.serialize(Sr.extractedUrl),this.urlSerializer.serialize(Sr.urlAfterRedirects),Sr.targetSnapshot);this.events.next(zn)}));if(Qn&&this.urlHandlingStrategy.shouldProcessUrl(an.currentRawUrl)){const{id:Sr,extractedUrl:zn,source:si,restoredState:Ai,extras:Pi}=an,Gi=new qt(Sr,this.urlSerializer.serialize(zn),si,Ai);this.events.next(Gi);const ji=Lr(this.rootComponentType).snapshot;return this.currentTransition=ht={...an,targetSnapshot:ji,urlAfterRedirects:zn,extras:{...Pi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=zn,(0,V.of)(ht)}{const Sr="";return this.events.next(new Ke(an.id,this.urlSerializer.serialize(an.extractedUrl),Sr,Bt.IgnoredByUrlHandlingStrategy)),an.resolve(null),a.k}}),(0,ie.y)(an=>{const Rn=new Xt(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Rn)}),(0,y.k)(an=>(this.currentTransition=ht={...an,guards:Zi(an.targetSnapshot,an.currentSnapshot,this.rootContexts)},ht)),function Kt(ae,ve){return(0,k.O)(xe=>{const{targetSnapshot:me,currentSnapshot:Se,guards:{canActivateChecks:ot,canDeactivateChecks:ht}}=xe;return 0===ht.length&&0===ot.length?(0,V.of)({...xe,guardsResult:!0}):function zt(ae,ve,xe,me){return(0,o.Q)(ae).pipe((0,k.O)(Se=>function en(ae,ve,xe,me,Se){const ot=ve&&ve.routeConfig?ve.routeConfig.canDeactivate:null;if(!ot||0===ot.length)return(0,V.of)(!0);const ht=ot.map(Qt=>{var En;const an=null!==(En=Ko(ve))&&void 0!==En?En:Se,Rn=ui(Qt,an);return Ot(function ce(ae){return ae&&G(ae.canDeactivate)}(Rn)?Rn.canDeactivate(ae,ve,xe,me):(0,g.SMS)(an,()=>Rn(ae,ve,xe,me))).pipe(K())});return(0,V.of)(ht).pipe(Ft())}(Se.component,Se.route,xe,ve,me)),K(Se=>!0!==Se,!0))}(ht,me,Se,ae).pipe((0,k.O)(Qt=>Qt&&function A(ae){return"boolean"==typeof ae}(Qt)?function St(ae,ve,xe,me){return(0,o.Q)(ve).pipe(Y(Se=>(0,m.W)(function sn(ae,ve){return null!==ae&&ve&&ve(new nn(ae)),(0,V.of)(!0)}(Se.route.parent,me),function _n(ae,ve){return null!==ae&&ve&&ve(new Pn(ae)),(0,V.of)(!0)}(Se.route,me),function rn(ae,ve,xe){const me=ve[ve.length-1],ot=ve.slice(0,ve.length-1).reverse().map(ht=>function _s(ae){const ve=ae.routeConfig?ae.routeConfig.canActivateChild:null;return ve&&0!==ve.length?{node:ae,guards:ve}:null}(ht)).filter(ht=>null!==ht).map(ht=>(0,C.Q)(()=>{const Qt=ht.guards.map(En=>{var an;const Rn=null!==(an=Ko(ht.node))&&void 0!==an?an:xe,Qn=ui(En,Rn);return Ot(function X(ae){return ae&&G(ae.canActivateChild)}(Qn)?Qn.canActivateChild(me,ae):(0,g.SMS)(Rn,()=>Qn(me,ae))).pipe(K())});return(0,V.of)(Qt).pipe(Ft())}));return(0,V.of)(ot).pipe(Ft())}(ae,Se.path,xe),function cn(ae,ve,xe){const me=ve.routeConfig?ve.routeConfig.canActivate:null;if(!me||0===me.length)return(0,V.of)(!0);const Se=me.map(ot=>(0,C.Q)(()=>{var ht;const Qt=null!==(ht=Ko(ve))&&void 0!==ht?ht:xe,En=ui(ot,Qt);return Ot(function J(ae){return ae&&G(ae.canActivate)}(En)?En.canActivate(ve,ae):(0,g.SMS)(Qt,()=>En(ve,ae))).pipe(K())}));return(0,V.of)(Se).pipe(Ft())}(ae,Se.route,xe))),K(Se=>!0!==Se,!0))}(me,ot,ae,ve):(0,V.of)(Qt)),(0,y.k)(Qt=>({...xe,guardsResult:Qt})))})}(this.environmentInjector,an=>this.events.next(an)),(0,ie.y)(an=>{if(ht.guardsResult=an.guardsResult,ye(an.guardsResult))throw oo(0,an.guardsResult);const Rn=new se(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot,!!an.guardsResult);this.events.next(Rn)}),(0,j.I)(an=>!!an.guardsResult||(this.cancelNavigationTransition(an,"",An.GuardRejected),!1)),Cs(an=>{if(an.guards.canActivateChecks.length)return(0,V.of)(an).pipe((0,ie.y)(Rn=>{const Qn=new Ge(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(Qn)}),(0,f.G)(Rn=>{let Qn=!1;return(0,V.of)(Rn).pipe(function Aa(ae,ve){return(0,k.O)(xe=>{const{targetSnapshot:me,guards:{canActivateChecks:Se}}=xe;if(!Se.length)return(0,V.of)(xe);const ot=new Set(Se.map(En=>En.route)),ht=new Set;for(const En of ot)if(!ht.has(En))for(const an of Mi(En))ht.add(an);let Qt=0;return(0,o.Q)(ht).pipe(Y(En=>ot.has(En)?function Qo(ae,ve,xe,me){const Se=ae.routeConfig,ot=ae._resolve;return void 0!==(null==Se?void 0:Se.title)&&!So(Se)&&(ot[Pe]=Se.title),function ws(ae,ve,xe,me){const Se=gt(ae);if(0===Se.length)return(0,V.of)({});const ot={};return(0,o.Q)(Se).pipe((0,k.O)(ht=>function xs(ae,ve,xe,me){var Se;const ot=null!==(Se=Ko(ve))&&void 0!==Se?Se:me,ht=ui(ae,ot);return Ot(ht.resolve?ht.resolve(ve,xe):(0,g.SMS)(ot,()=>ht(ve,xe)))}(ae[ht],ve,xe,me).pipe(K(),(0,ie.y)(Qt=>{ot[ht]=Qt}))),Ee(1),(0,R.e)(ot),z(ht=>rt(ht)?a.k:(0,s.c)(ht)))}(ot,ae,ve,me).pipe((0,y.k)(ht=>(ae._resolvedData=ht,ae.data=vr(ae,ae.parent,xe).resolve,null)))}(En,me,ae,ve):(En.data=vr(En,En.parent,ae).resolve,(0,V.of)(void 0))),(0,ie.y)(()=>Qt++),Ee(1),(0,k.O)(En=>Qt===ht.size?(0,V.of)(xe):a.k))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ie.y)({next:()=>Qn=!0,complete:()=>{Qn||this.cancelNavigationTransition(Rn,"",An.NoDataFromResolver)}}))}),(0,ie.y)(Rn=>{const Qn=new _e(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(Qn)}))}),Cs(an=>{const Rn=Qn=>{var qr;const Sr=[];null!==(qr=Qn.routeConfig)&&void 0!==qr&&qr.loadComponent&&!Qn.routeConfig._loadedComponent&&Sr.push(this.configLoader.loadComponent(Qn.routeConfig).pipe((0,ie.y)(zn=>{Qn.component=zn}),(0,y.k)(()=>{})));for(const zn of Qn.children)Sr.push(...Rn(zn));return Sr};return(0,_.E)(Rn(an.targetSnapshot.root)).pipe(T(null),(0,b.U)(1))}),Cs(()=>this.afterPreactivation()),(0,f.G)(()=>{var an;const{currentSnapshot:Rn,targetSnapshot:Qn}=ht,qr=null===(an=this.createViewTransition)||void 0===an?void 0:an.call(this,this.environmentInjector,Rn.root,Qn.root);return qr?(0,o.Q)(qr).pipe((0,y.k)(()=>ht)):(0,V.of)(ht)}),(0,y.k)(an=>{const Rn=function jo(ae,ve,xe){const me=mo(ae,ve._root,xe?xe._root:void 0);return new xr(me,ve)}(me.routeReuseStrategy,an.targetSnapshot,an.currentRouterState);return this.currentTransition=ht={...an,targetRouterState:Rn},this.currentNavigation.targetRouterState=Rn,ht}),(0,ie.y)(()=>{this.events.next(new Pr)}),((ae,ve,xe,me)=>(0,y.k)(Se=>(new Qi(ve,Se.targetRouterState,Se.currentRouterState,xe,me).activate(ae),Se)))(this.rootContexts,me.routeReuseStrategy,an=>this.events.next(an),this.inputBindingEnabled),(0,b.U)(1),(0,ie.y)({next:an=>{var Rn;Qt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects))),null===(Rn=this.titleStrategy)||void 0===Rn||Rn.updateTitle(an.targetRouterState.snapshot),an.resolve(!0)},complete:()=>{Qt=!0}}),function je(ae){return(0,B.i)((ve,xe)=>{(0,te.Uv)(ae).subscribe((0,U.e)(xe,()=>xe.complete(),we.K)),!xe.closed&&ve.subscribe(xe)})}(this.transitionAbortSubject.pipe((0,ie.y)(an=>{throw an}))),ne(()=>{var an;!Qt&&!En&&this.cancelNavigationTransition(ht,"",An.SupersededByNewNavigation),(null===(an=this.currentTransition)||void 0===an?void 0:an.id)===ht.id&&(this.currentNavigation=null,this.currentTransition=null)}),z(an=>{if(En=!0,Lo(an))this.events.next(new Le(ht.id,this.urlSerializer.serialize(ht.extractedUrl),an.message,an.cancellationCode)),function Ro(ae){return Lo(ae)&&ye(ae.url)}(an)?this.events.next(new Or(an.url)):ht.resolve(!1);else{var Rn;this.events.next(new Nt(ht.id,this.urlSerializer.serialize(ht.extractedUrl),an,null!==(Rn=ht.targetSnapshot)&&void 0!==Rn?Rn:void 0));try{ht.resolve(me.errorHandler(an))}catch(Qn){this.options.resolveNavigationPromiseOnError?ht.resolve(!1):ht.reject(Qn)}}return a.k}))}))}cancelNavigationTransition(me,Se,ot){const ht=new Le(me.id,this.urlSerializer.serialize(me.extractedUrl),Se,ot);this.events.next(ht),me.resolve(!1)}isUpdatingInternalState(){var me,Se;return(null===(me=this.currentTransition)||void 0===me?void 0:me.extractedUrl.toString())!==(null===(Se=this.currentTransition)||void 0===Se?void 0:Se.currentUrlTree.toString())}isUpdatedBrowserUrl(){var me,Se;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(me=this.currentTransition)||void 0===me?void 0:me.extractedUrl.toString())&&!(null!==(Se=this.currentTransition)&&void 0!==Se&&Se.extras.skipLocationChange)}}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})();function Er(ae){return ae!==wt}let rr=(()=>{var ae;class ve{}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:()=>(0,g.uUt)(Mr),providedIn:"root"}),ve})();class Tr{shouldDetach(ve){return!1}store(ve,xe){}shouldAttach(ve){return!1}retrieve(ve){return null}shouldReuseRoute(ve,xe){return ve.routeConfig===xe.routeConfig}}let Mr=(()=>{var ae;class ve extends Tr{}return(ae=ve).\u0275fac=(()=>{let xe;return function(Se){return(xe||(xe=g.otF(ae)))(Se||ae)}})(),ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})(),eo=(()=>{var ae;class ve{}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:()=>(0,g.uUt)(Zo),providedIn:"root"}),ve})(),Zo=(()=>{var ae;class ve extends eo{constructor(){super(...arguments),this.location=(0,g.uUt)(l.oB),this.urlSerializer=(0,g.uUt)(Lt),this.options=(0,g.uUt)(Gr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,g.uUt)(Te),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Re,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var me,Se;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(me=null===(Se=this.restoredState())||void 0===Se?void 0:Se.\u0275routerPageId)&&void 0!==me?me:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(me){return this.location.subscribe(Se=>{"popstate"===Se.type&&me(Se.url,Se.state)})}handleRouterEvent(me,Se){if(me instanceof qt)this.stateMemento=this.createStateMemento();else if(me instanceof Ke)this.rawUrlTree=Se.initialUrl;else if(me instanceof Ht){if("eager"===this.urlUpdateStrategy&&!Se.extras.skipLocationChange){const ot=this.urlHandlingStrategy.merge(Se.finalUrl,Se.initialUrl);this.setBrowserUrl(ot,Se)}}else me instanceof Pr?(this.currentUrlTree=Se.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Se.finalUrl,Se.initialUrl),this.routerState=Se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Se))):me instanceof Le&&(me.code===An.GuardRejected||me.code===An.NoDataFromResolver)?this.restoreHistory(Se):me instanceof Nt?this.restoreHistory(Se,!0):me instanceof hn&&(this.lastSuccessfulId=me.id,this.currentPageId=this.browserPageId)}setBrowserUrl(me,Se){const ot=this.urlSerializer.serialize(me);if(this.location.isCurrentPathEqualTo(ot)||Se.extras.replaceUrl){const Qt={...Se.extras.state,...this.generateNgRouterState(Se.id,this.browserPageId)};this.location.replaceState(ot,"",Qt)}else{const ht={...Se.extras.state,...this.generateNgRouterState(Se.id,this.browserPageId+1)};this.location.go(ot,"",ht)}}restoreHistory(me,Se=!1){if("computed"===this.canceledNavigationResolution){const ht=this.currentPageId-this.browserPageId;0!==ht?this.location.historyGo(ht):this.currentUrlTree===me.finalUrl&&0===ht&&(this.resetState(me),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Se&&this.resetState(me),this.resetUrlToCurrentUrlTree())}resetState(me){var Se;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(Se=me.finalUrl)&&void 0!==Se?Se:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(me,Se){return"computed"===this.canceledNavigationResolution?{navigationId:me,\u0275routerPageId:Se}:{navigationId:me}}}return(ae=ve).\u0275fac=(()=>{let xe;return function(Se){return(xe||(xe=g.otF(ae)))(Se||ae)}})(),ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})();var yo=function(ae){return ae[ae.COMPLETE=0]="COMPLETE",ae[ae.FAILED=1]="FAILED",ae[ae.REDIRECTING=2]="REDIRECTING",ae}(yo||{});function ei(ae,ve){ae.events.pipe((0,j.I)(xe=>xe instanceof hn||xe instanceof Le||xe instanceof Nt||xe instanceof Ke),(0,y.k)(xe=>xe instanceof hn||xe instanceof Ke?yo.COMPLETE:xe instanceof Le&&(xe.code===An.Redirect||xe.code===An.SupersededByNewNavigation)?yo.REDIRECTING:yo.FAILED),(0,j.I)(xe=>xe!==yo.REDIRECTING),(0,b.U)(1)).subscribe(()=>{ve()})}function ii(ae){throw ae}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Eo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{var ae;class ve{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var me,Se;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,g.uUt)(g.oPY),this.stateManager=(0,g.uUt)(eo),this.options=(0,g.uUt)(Gr,{optional:!0})||{},this.pendingTasks=(0,g.uUt)(g.g9Y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,g.uUt)(ir),this.urlSerializer=(0,g.uUt)(Lt),this.location=(0,g.uUt)(l.oB),this.urlHandlingStrategy=(0,g.uUt)(Te),this._events=new c.E,this.errorHandler=this.options.errorHandler||ii,this.navigated=!1,this.routeReuseStrategy=(0,g.uUt)(rr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(me=null===(Se=(0,g.uUt)(Io,{optional:!0}))||void 0===Se?void 0:Se.flat())&&void 0!==me?me:[],this.componentInputBindingEnabled=!!(0,g.uUt)(po,{optional:!0}),this.eventsSubscription=new u.wH,this.isNgZoneEnabled=(0,g.uUt)(g.WW2)instanceof g.WW2&&g.WW2.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ot=>{this.console.warn(ot)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const me=this.navigationTransitions.events.subscribe(Se=>{try{const ot=this.navigationTransitions.currentTransition,ht=this.navigationTransitions.currentNavigation;if(null!==ot&&null!==ht)if(this.stateManager.handleRouterEvent(Se,ht),Se instanceof Le&&Se.code!==An.Redirect&&Se.code!==An.SupersededByNewNavigation)this.navigated=!0;else if(Se instanceof hn)this.navigated=!0;else if(Se instanceof Or){const Qt=this.urlHandlingStrategy.merge(Se.url,ot.currentRawUrl),En={info:ot.extras.info,skipLocationChange:ot.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Er(ot.source)};this.scheduleNavigation(Qt,wt,null,En,{resolve:ot.resolve,reject:ot.reject,promise:ot.promise})}(function _c(ae){return!(ae instanceof Pr||ae instanceof Or)})(Se)&&this._events.next(Se)}catch(ot){this.navigationTransitions.transitionAbortSubject.next(ot)}});this.eventsSubscription.add(me)}resetRootComponentType(me){this.routerState.root.component=me,this.navigationTransitions.rootComponentType=me}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wt,this.stateManager.restoredState())}setUpLocationChangeListener(){var me;null!==(me=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==me||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((Se,ot)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Se,"popstate",ot)},0)}))}navigateToSyncWithBrowser(me,Se,ot){const ht={replaceUrl:!0},Qt=null!=ot&&ot.navigationId?ot:null;if(ot){const an={...ot};delete an.navigationId,delete an.\u0275routerPageId,0!==Object.keys(an).length&&(ht.state=an)}const En=this.parseUrl(me);this.scheduleNavigation(En,Se,Qt,ht)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(me){this.config=me.map(li),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(me,Se={}){const{relativeTo:ot,queryParams:ht,fragment:Qt,queryParamsHandling:En,preserveFragment:an}=Se,Rn=an?this.currentUrlTree.fragment:Qt;let qr,Qn=null;switch(En){case"merge":Qn={...this.currentUrlTree.queryParams,...ht};break;case"preserve":Qn=this.currentUrlTree.queryParams;break;default:Qn=ht||null}null!==Qn&&(Qn=this.removeEmptyProps(Qn));try{qr=N(ot?ot.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof me[0]||!me[0].startsWith("/"))&&(me=[]),qr=this.currentUrlTree.root}return L(qr,me,Qn,null!=Rn?Rn:null)}navigateByUrl(me,Se={skipLocationChange:!1}){const ot=ye(me)?me:this.parseUrl(me),ht=this.urlHandlingStrategy.merge(ot,this.rawUrlTree);return this.scheduleNavigation(ht,wt,null,Se)}navigate(me,Se={skipLocationChange:!1}){return function ts(ae){for(let ve=0;ve<ae.length;ve++)if(null==ae[ve])throw new g.OBp(4008,!1)}(me),this.navigateByUrl(this.createUrlTree(me,Se),Se)}serializeUrl(me){return this.urlSerializer.serialize(me)}parseUrl(me){try{return this.urlSerializer.parse(me)}catch{return this.urlSerializer.parse("/")}}isActive(me,Se){let ot;if(ot=!0===Se?{...zr}:!1===Se?{...Eo}:Se,ye(me))return ge(this.currentUrlTree,me,ot);const ht=this.parseUrl(me);return ge(this.currentUrlTree,ht,ot)}removeEmptyProps(me){return Object.entries(me).reduce((Se,[ot,ht])=>(null!=ht&&(Se[ot]=ht),Se),{})}scheduleNavigation(me,Se,ot,ht,Qt){if(this.disposed)return Promise.resolve(!1);let En,an,Rn;Qt?(En=Qt.resolve,an=Qt.reject,Rn=Qt.promise):Rn=new Promise((qr,Sr)=>{En=qr,an=Sr});const Qn=this.pendingTasks.add();return ei(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Qn))}),this.navigationTransitions.handleNavigationRequest({source:Se,restoredState:ot,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:me,extras:ht,resolve:En,reject:an,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(qr=>Promise.reject(qr))}}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})(),Es=(()=>{var ae;class ve{constructor(me,Se,ot,ht,Qt,En){var an;this.router=me,this.route=Se,this.tabIndexAttribute=ot,this.renderer=ht,this.el=Qt,this.locationStrategy=En,this.href=null,this.commands=null,this.onChanges=new c.E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Rn=null===(an=Qt.nativeElement.tagName)||void 0===an?void 0:an.toLowerCase();this.isAnchorElement="a"===Rn||"area"===Rn,this.isAnchorElement?this.subscription=me.events.subscribe(Qn=>{Qn instanceof hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(me){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",me)}ngOnChanges(me){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(me){null!=me?(this.commands=Array.isArray(me)?me:[me],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(me,Se,ot,ht,Qt){const En=this.urlTree;return!!(null===En||this.isAnchorElement&&(0!==me||Se||ot||ht||Qt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(En,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var me;null===(me=this.subscription)||void 0===me||me.unsubscribe()}updateHref(){var me;const Se=this.urlTree;this.href=null!==Se&&this.locationStrategy?null===(me=this.locationStrategy)||void 0===me?void 0:me.prepareExternalUrl(this.router.serializeUrl(Se)):null;const ot=null===this.href?null:(0,g.YFg)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ot)}applyAttributeValue(me,Se){const ot=this.renderer,ht=this.el.nativeElement;null!==Se?ot.setAttribute(ht,me,Se):ot.removeAttribute(ht,me)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(ae=ve).\u0275fac=function(me){return new(me||ae)(g.GI1(sr),g.GI1(ur),g.gJ8("tabindex"),g.GI1(g.q87),g.GI1(g.GMv),g.GI1(l.Qd))},ae.\u0275dir=g.Sc5({type:ae,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(me,Se){1&me&&g.qCj("click",function(ht){return Se.onClick(ht.button,ht.ctrlKey,ht.shiftKey,ht.altKey,ht.metaKey)}),2&me&&g.e48("target",Se.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[g.Wk5.HasDecoratorInputTransform,"preserveFragment","preserveFragment",g.cZD],skipLocationChange:[g.Wk5.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",g.cZD],replaceUrl:[g.Wk5.HasDecoratorInputTransform,"replaceUrl","replaceUrl",g.cZD],routerLink:"routerLink"},standalone:!0,features:[g.QJr,g.SYr]}),ve})();class ja{}let Ss=(()=>{var ae;class ve{preload(me,Se){return Se().pipe(z(()=>(0,V.of)(null)))}}return(ae=ve).\u0275fac=function(me){return new(me||ae)},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})(),wc=(()=>{var ae;class ve{constructor(me,Se,ot,ht,Qt){this.router=me,this.injector=ot,this.preloadingStrategy=ht,this.loader=Qt}setUpPreloading(){this.subscription=this.router.events.pipe((0,j.I)(me=>me instanceof hn),Y(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(me,Se){const ot=[];for(const an of Se){var ht,Qt;an.providers&&!an._injector&&(an._injector=(0,g.SIz)(an.providers,me,`Route: ${an.path}`));const Rn=null!==(ht=an._injector)&&void 0!==ht?ht:me,Qn=null!==(Qt=an._loadedInjector)&&void 0!==Qt?Qt:Rn;var En;(an.loadChildren&&!an._loadedRoutes&&void 0===an.canLoad||an.loadComponent&&!an._loadedComponent)&&ot.push(this.preloadConfig(Rn,an)),(an.children||an._loadedRoutes)&&ot.push(this.processRoutes(Qn,null!==(En=an.children)&&void 0!==En?En:an._loadedRoutes))}return(0,o.Q)(ot).pipe((0,Be.u)())}preloadConfig(me,Se){return this.preloadingStrategy.preload(Se,()=>{let ot;ot=Se.loadChildren&&void 0===Se.canLoad?this.loader.loadChildren(me,Se):(0,V.of)(null);const ht=ot.pipe((0,k.O)(Qt=>{var En;return null===Qt?(0,V.of)(void 0):(Se._loadedRoutes=Qt.routes,Se._loadedInjector=Qt.injector,this.processRoutes(null!==(En=Qt.injector)&&void 0!==En?En:me,Qt.routes))}));if(Se.loadComponent&&!Se._loadedComponent){const Qt=this.loader.loadComponent(Se);return(0,o.Q)([ht,Qt]).pipe((0,Be.u)())}return ht})}}return(ae=ve).\u0275fac=function(me){return new(me||ae)(g.CoB(sr),g.CoB(g.ESV),g.CoB(g.SIe),g.CoB(ja),g.CoB(es))},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ve})();const gi=new g.UbH("");let Bi=(()=>{var ae;class ve{constructor(me,Se,ot,ht,Qt={}){this.urlSerializer=me,this.transitions=Se,this.viewportScroller=ot,this.zone=ht,this.options=Qt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Qt.scrollPositionRestoration||(Qt.scrollPositionRestoration="disabled"),Qt.anchorScrolling||(Qt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(me=>{me instanceof qt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=me.navigationTrigger,this.restoredId=me.restoredState?me.restoredState.navigationId:0):me instanceof hn?(this.lastId=me.id,this.scheduleScrollEvent(me,this.urlSerializer.parse(me.urlAfterRedirects).fragment)):me instanceof Ke&&me.code===Bt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(me,this.urlSerializer.parse(me.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(me=>{me instanceof Kn&&(me.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(me.position):me.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(me.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(me,Se){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kn(me,"popstate"===this.lastSource?this.store[this.restoredId]:null,Se))})},0)})}ngOnDestroy(){var me,Se;null===(me=this.routerEventsSubscription)||void 0===me||me.unsubscribe(),null===(Se=this.scrollEventsSubscription)||void 0===Se||Se.unsubscribe()}}return(ae=ve).\u0275fac=function(me){g.KEo()},ae.\u0275prov=g.wxM({token:ae,factory:ae.\u0275fac}),ve})();function Qr(ae,ve){return{\u0275kind:ae,\u0275providers:ve}}function Ds(){const ae=(0,g.uUt)(g.zZn);return ve=>{var xe,me;const Se=ae.get(g.Swk);if(ve!==Se.components[0])return;const ot=ae.get(sr),ht=ae.get(Ec);1===ae.get(Is)&&ot.initialNavigation(),null===(xe=ae.get(Oi,null,g._6O.Optional))||void 0===xe||xe.setUpPreloading(),null===(me=ae.get(gi,null,g._6O.Optional))||void 0===me||me.init(),ot.resetRootComponentType(Se.componentTypes[0]),ht.closed||(ht.next(),ht.complete(),ht.unsubscribe())}}const Ec=new g.UbH("",{factory:()=>new c.E}),Is=new g.UbH("",{providedIn:"root",factory:()=>1}),Oi=new g.UbH("");function If(ae){return Qr(0,[{provide:Oi,useExisting:wc},{provide:ja,useExisting:ae}])}function Dc(ae){return Qr(9,[{provide:At,useValue:Tn},{provide:dn,useValue:{skipNextTransition:!(null==ae||!ae.skipInitialTransition),...ae}}])}const La=new g.UbH("ROUTER_FORROOT_GUARD"),Ms=[l.oB,{provide:Lt,useClass:tn},sr,Br,{provide:ur,useFactory:function Nl(ae){return ae.routerState.root},deps:[sr]},es,[]];let Ts=(()=>{var ae;class ve{constructor(me){}static forRoot(me,Se){return{ngModule:ve,providers:[Ms,[],{provide:Io,multi:!0,useValue:me},{provide:La,useFactory:Fr,deps:[[sr,new g.T7N,new g.Qfh]]},{provide:Gr,useValue:Se||{}},null!=Se&&Se.useHash?{provide:l.Qd,useClass:l.MP}:{provide:l.Qd,useClass:l.uC},{provide:gi,useFactory:()=>{const ae=(0,g.uUt)(l.YZ),ve=(0,g.uUt)(g.WW2),xe=(0,g.uUt)(Gr),me=(0,g.uUt)(ir),Se=(0,g.uUt)(Lt);return xe.scrollOffset&&ae.setOffset(xe.scrollOffset),new Bi(Se,me,ae,ve,xe)}},null!=Se&&Se.preloadingStrategy?If(Se.preloadingStrategy).\u0275providers:[],null!=Se&&Se.initialNavigation?Tf(Se):[],null!=Se&&Se.bindToComponentInputs?Qr(8,[qo,{provide:po,useExisting:qo}]).\u0275providers:[],null!=Se&&Se.enableViewTransitions?Dc().\u0275providers:[],[{provide:rs,useFactory:Ds},{provide:g.qid,multi:!0,useExisting:rs}]]}}static forChild(me){return{ngModule:ve,providers:[{provide:Io,multi:!0,useValue:me}]}}}return(ae=ve).\u0275fac=function(me){return new(me||ae)(g.CoB(La,8))},ae.\u0275mod=g.a4G({type:ae}),ae.\u0275inj=g.s3X({}),ve})();function Fr(ae){return"guarded"}function Tf(ae){return["disabled"===ae.initialNavigation?Qr(3,[{provide:g.kZF,multi:!0,useFactory:()=>{const ve=(0,g.uUt)(sr);return()=>{ve.setUpLocationChangeListener()}}},{provide:Is,useValue:2}]).\u0275providers:[],"enabledBlocking"===ae.initialNavigation?Qr(2,[{provide:Is,useValue:0},{provide:g.kZF,multi:!0,deps:[g.zZn],useFactory:ve=>{const xe=ve.get(l.mQ,Promise.resolve());return()=>xe.then(()=>new Promise(me=>{const Se=ve.get(sr),ot=ve.get(Ec);ei(Se,()=>{me(!0)}),ve.get(ir).afterPreactivation=()=>(me(!0),ot.closed?(0,V.of)(void 0):ot),Se.initialNavigation()}))}}]).\u0275providers:[]]}const rs=new g.UbH("")},9240:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{kh:()=>Re,_U:()=>Rt,m2:()=>Ze,Im:()=>ee,Qz:()=>et,Ej:()=>dt,sW:()=>at,Cg:()=>Z,CE:()=>Jt,um:()=>hr,wX:()=>Tt,a6:()=>pt,gk:()=>nr,WU:()=>$t,g5:()=>Q,GY:()=>pe,uU:()=>ln,Al:()=>N,cl:()=>un,ag:()=>fn});var g=fe(1528),Ce=fe(4496),st=fe(3332),Fe=fe(1368);class o{constructor(){this.m=new Map}reset(wt){this.m=new Map(Object.entries(wt))}get(wt,ze){const mt=this.m.get(wt);return void 0!==mt?mt:ze}getBoolean(wt,ze=!1){const mt=this.m.get(wt);return void 0===mt?ze:"string"==typeof mt?"true"===mt:!!mt}getNumber(wt,ze){const mt=parseFloat(this.m.get(wt));return isNaN(mt)?void 0!==ze?ze:NaN:mt}set(wt,ze){this.m.set(wt,ze)}}const V=new o,x=ft=>a(ft),a=(ft=window)=>{if(typeof ft>"u")return[];ft.Ionic=ft.Ionic||{};let wt=ft.Ionic.platforms;return null==wt&&(wt=ft.Ionic.platforms=h(ft),wt.forEach(ze=>ft.document.documentElement.classList.add(`plt-${ze}`))),wt},h=ft=>{const wt=V.get("platform");return Object.keys(Y).filter(ze=>{const mt=null==wt?void 0:wt[ze];return"function"==typeof mt?mt(ft):Y[ze](ft)})},u=ft=>!!(q(ft,/iPad/i)||q(ft,/Macintosh/i)&&F(ft)),f=ft=>q(ft,/android|sink/i),F=ft=>K(ft,"(any-pointer:coarse)"),k=ft=>U(ft)||T(ft),U=ft=>!!(ft.cordova||ft.phonegap||ft.PhoneGap),T=ft=>{const wt=ft.Capacitor;return!(null==wt||!wt.isNative)},q=(ft,wt)=>wt.test(ft.navigator.userAgent),K=(ft,wt)=>{var ze;return null===(ze=ft.matchMedia)||void 0===ze?void 0:ze.call(ft,wt).matches},Y={ipad:u,iphone:ft=>q(ft,/iPhone/i),ios:ft=>q(ft,/iPhone|iPod/i)||u(ft),android:f,phablet:ft=>{const wt=ft.innerWidth,ze=ft.innerHeight,mt=Math.min(wt,ze),qt=Math.max(wt,ze);return mt>390&&mt<520&&qt>620&&qt<800},tablet:ft=>{const wt=ft.innerWidth,ze=ft.innerHeight,mt=Math.min(wt,ze),qt=Math.max(wt,ze);return u(ft)||(ft=>f(ft)&&!q(ft,/mobile/i))(ft)||mt>460&&mt<820&&qt>780&&qt<1400},cordova:U,capacitor:T,electron:ft=>q(ft,/electron/i),pwa:ft=>{var wt;return!!(null!==(wt=ft.matchMedia)&&void 0!==wt&&wt.call(ft,"(display-mode: standalone)").matches||ft.navigator.standalone)},mobile:F,mobileweb:ft=>F(ft)&&!k(ft),desktop:ft=>!F(ft),hybrid:k};var oe=fe(1896),le=fe(9248),Ee=fe(5657),W=fe(800),R=fe(6700),ne=fe(6040),ue=fe(2700),we=fe(1316),je=fe(6684),Be=fe(7368),We=fe(528),Oe=fe(5448),Pe=fe(7773);function ke(ft,wt){return ft===wt}var Qe=fe(4716);const tt=["tabsInner"];let $t=(()=>{class ft{constructor(ze,mt){this.doc=ze,this.backButton=new Ee.E,this.keyboardDidShow=new Ee.E,this.keyboardDidHide=new Ee.E,this.pause=new Ee.E,this.resume=new Ee.E,this.resize=new Ee.E,mt.run(()=>{var qt;let hn;this.win=ze.defaultView,this.backButton.subscribeWithPriority=function(An,Bt){return this.subscribe(Le=>Le.register(An,Ke=>mt.run(()=>Bt(Ke))))},jt(this.pause,ze,"pause",mt),jt(this.resume,ze,"resume",mt),jt(this.backButton,ze,"ionBackButton",mt),jt(this.resize,this.win,"resize",mt),jt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",mt),jt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",mt),this._readyPromise=new Promise(An=>{hn=An}),null!==(qt=this.win)&&void 0!==qt&&qt.cordova?ze.addEventListener("deviceready",()=>{hn("cordova")},{once:!0}):hn("dom")})}is(ze){return((ft,wt)=>("string"==typeof ft&&(wt=ft,ft=void 0),x(ft).includes(wt)))(this.win,ze)}platforms(){return x(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ze){return Ot(this.win.location.href,ze)}isLandscape(){return!this.isPortrait()}isPortrait(){var ze,mt;return null===(ze=(mt=this.win).matchMedia)||void 0===ze?void 0:ze.call(mt,"(orientation: portrait)").matches}testUserAgent(ze){const mt=this.win.navigator;return!!(null!=mt&&mt.userAgent&&mt.userAgent.indexOf(ze)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.CoB(Fe.Ud),Ce.CoB(Ce.WW2))},ft.\u0275prov=Ce.wxM({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})();const Ot=(ft,wt)=>{wt=wt.replace(/[[\]\\]/g,"\\$&");const mt=new RegExp("[\\?&]"+wt+"=([^&#]*)").exec(ft);return mt?decodeURIComponent(mt[1].replace(/\+/g," ")):null},jt=(ft,wt,ze,mt)=>{wt&&wt.addEventListener(ze,qt=>{mt.run(()=>{ft.next(null!=qt?qt.detail:void 0)})})};let Tt=(()=>{class ft{constructor(ze,mt,qt,hn){this.location=mt,this.serializer=qt,this.router=hn,this.direction=Je,this.animated=ut,this.guessDirection="forward",this.lastNavId=-1,hn&&hn.events.subscribe(An=>{if(An instanceof st.Qx){const Bt=An.restoredState?An.restoredState.navigationId:An.id;this.guessDirection=Bt<this.lastNavId?"back":"forward",this.guessAnimation=An.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?An.id:Bt}}),ze.backButton.subscribeWithPriority(0,An=>{this.pop(),An()})}navigateForward(ze,mt={}){return this.setDirection("forward",mt.animated,mt.animationDirection,mt.animation),this.navigate(ze,mt)}navigateBack(ze,mt={}){return this.setDirection("back",mt.animated,mt.animationDirection,mt.animation),this.navigate(ze,mt)}navigateRoot(ze,mt={}){return this.setDirection("root",mt.animated,mt.animationDirection,mt.animation),this.navigate(ze,mt)}back(ze={animated:!0,animationDirection:"back"}){return this.setDirection("back",ze.animated,ze.animationDirection,ze.animation),this.location.back()}pop(){var ze=this;return(0,g.c)(function*(){let mt=ze.topOutlet;for(;mt;){if(yield mt.pop())return!0;mt=mt.parentOutlet}return!1})()}setDirection(ze,mt,qt,hn){this.direction=ze,this.animated=ge(ze,mt,qt),this.animationBuilder=hn}setTopOutlet(ze){this.topOutlet=ze}consumeTransition(){let mt,ze="root";const qt=this.animationBuilder;return"auto"===this.direction?(ze=this.guessDirection,mt=this.guessAnimation):(mt=this.animated,ze=this.direction),this.direction=Je,this.animated=ut,this.animationBuilder=void 0,{direction:ze,animation:mt,animationBuilder:qt}}navigate(ze,mt){if(Array.isArray(ze))return this.router.navigate(ze,mt);{const qt=this.serializer.parse(ze.toString());return void 0!==mt.queryParams&&(qt.queryParams={...mt.queryParams}),void 0!==mt.fragment&&(qt.fragment=mt.fragment),this.router.navigateByUrl(qt,mt)}}}return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.CoB($t),Ce.CoB(Fe.oB),Ce.CoB(st.qd),Ce.CoB(st.E5,8))},ft.\u0275prov=Ce.wxM({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})();const ge=(ft,wt,ze)=>{if(!1!==wt){if(void 0!==ze)return ze;if("forward"===ft||"back"===ft)return ft;if("root"===ft&&!0===wt)return"forward"}},Je="auto",ut=void 0;let Rt=(()=>{class ft{get(ze,mt){const qt=Dt();return qt?qt.get(ze,mt):null}getBoolean(ze,mt){const qt=Dt();return!!qt&&qt.getBoolean(ze,mt)}getNumber(ze,mt){const qt=Dt();return qt?qt.getNumber(ze,mt):0}}return ft.\u0275fac=function(ze){return new(ze||ft)},ft.\u0275prov=Ce.wxM({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})();const Ze=new Ce.UbH("USERCONFIG"),Dt=()=>{if(typeof window<"u"){const ft=window.Ionic;if(null!=ft&&ft.config)return ft.config}return null};class pt{constructor(wt={}){this.data=wt}get(wt){return this.data[wt]}}let Re=(()=>{class ft{constructor(){this.zone=(0,Ce.uUt)(Ce.WW2),this.applicationRef=(0,Ce.uUt)(Ce.Swk)}create(ze,mt,qt){return new Ne(ze,mt,this.applicationRef,this.zone,qt)}}return ft.\u0275fac=function(ze){return new(ze||ft)},ft.\u0275prov=Ce.wxM({token:ft,factory:ft.\u0275fac}),ft})();class Ne{constructor(wt,ze,mt,qt,hn){this.environmentInjector=wt,this.injector=ze,this.applicationRef=mt,this.zone=qt,this.elementReferenceKey=hn,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(wt,ze,mt,qt){return this.zone.run(()=>new Promise(hn=>{const An={...mt};void 0!==this.elementReferenceKey&&(An[this.elementReferenceKey]=wt),hn(Me(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,wt,ze,An,qt,this.elementReferenceKey))}))}removeViewFromDom(wt,ze){return this.zone.run(()=>new Promise(mt=>{const qt=this.elRefMap.get(ze);if(qt){qt.destroy(),this.elRefMap.delete(ze);const hn=this.elEventsMap.get(ze);hn&&(hn(),this.elEventsMap.delete(ze))}mt()}))}}const Me=(ft,wt,ze,mt,qt,hn,An,Bt,Le,Ke,Nt)=>{const Ht=Ce.zZn.create({providers:Lt(Le),parent:ze}),Xt=(0,Ce.kdu)(Bt,{environmentInjector:wt,elementInjector:Ht}),se=Xt.instance,Ge=Xt.location.nativeElement;if(Le&&(Nt&&void 0!==se[Nt]&&console.error(`[Ionic Error]: ${Nt} is a reserved property when using ${An.tagName.toLowerCase()}. Rename or remove the "${Nt}" property from ${Bt.name}.`),Object.assign(se,Le)),Ke)for(const qe of Ke)Ge.classList.add(qe);const _e=vt(ft,se,Ge);return An.appendChild(Ge),mt.attachView(Xt.hostView),qt.set(Ge,Xt),hn.set(Ge,_e),Ge},Ye=[oe.L,oe.a,oe.b,oe.c,oe.d],vt=(ft,wt,ze)=>ft.run(()=>{const mt=Ye.filter(qt=>"function"==typeof wt[qt]).map(qt=>{const hn=An=>wt[qt](An.detail);return ze.addEventListener(qt,hn),()=>ze.removeEventListener(qt,hn)});return()=>mt.forEach(qt=>qt())}),kt=new Ce.UbH("NavParamsToken"),Lt=ft=>[{provide:kt,useValue:ft},{provide:pt,useFactory:tn,deps:[kt]}],tn=ft=>new pt(ft),bn=(ft,wt)=>{const ze=ft.prototype;wt.forEach(mt=>{Object.defineProperty(ze,mt,{get(){return this.el[mt]},set(qt){this.z.runOutsideAngular(()=>this.el[mt]=qt)}})})},gn=(ft,wt)=>{const ze=ft.prototype;wt.forEach(mt=>{ze[mt]=function(){const qt=arguments;return this.z.runOutsideAngular(()=>this.el[mt].apply(this.el,qt))}})},Pt=(ft,wt,ze)=>{ze.forEach(mt=>ft[mt]=(0,W.w)(wt,mt))};function yt(ft){return function(ze){const{defineCustomElementFn:mt,inputs:qt,methods:hn}=ft;return void 0!==mt&&mt(),qt&&bn(ze,qt),hn&&gn(ze,hn),ze}}const it=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Xe=["present","dismiss","onDidDismiss","onWillDismiss"];let at=(()=>{let ft=class{constructor(ze,mt,qt){this.z=qt,this.isCmpOpen=!1,this.el=mt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ze.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ze.detectChanges()}),Pt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.GI1(Ce.kD9),Ce.GI1(Ce.GMv),Ce.GI1(Ce.WW2))},ft.\u0275dir=Ce.Sc5({type:ft,selectors:[["ion-popover"]],contentQueries:function(ze,mt,qt){if(1&ze&&Ce.szK(qt,Ce.Yw2,5),2&ze){let hn;Ce.wto(hn=Ce.Gqi())&&(mt.template=hn.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),ft=(0,we.UN)([yt({inputs:it,methods:Xe})],ft),ft})();const It=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Yt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let et=(()=>{let ft=class{constructor(ze,mt,qt){this.z=qt,this.isCmpOpen=!1,this.el=mt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ze.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ze.detectChanges()}),Pt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.GI1(Ce.kD9),Ce.GI1(Ce.GMv),Ce.GI1(Ce.WW2))},ft.\u0275dir=Ce.Sc5({type:ft,selectors:[["ion-modal"]],contentQueries:function(ze,mt,qt){if(1&ze&&Ce.szK(qt,Ce.Yw2,5),2&ze){let hn;Ce.wto(hn=Ce.Gqi())&&(mt.template=hn.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),ft=(0,we.UN)([yt({inputs:It,methods:Yt})],ft),ft})();const Ut=(ft,wt)=>((ft=ft.filter(ze=>ze.stackId!==wt.stackId)).push(wt),ft),mn=(ft,wt)=>{const ze=ft.createUrlTree(["."],{relativeTo:wt});return ft.serializeUrl(ze)},wn=(ft,wt)=>!wt||ft.stackId!==wt.stackId,Cn=(ft,wt)=>{if(!ft)return;const ze=Sn(wt);for(let mt=0;mt<ze.length;mt++){if(mt>=ft.length)return ze[mt];if(ze[mt]!==ft[mt])return}},Sn=ft=>ft.split("/").map(wt=>wt.trim()).filter(wt=>""!==wt),Dn=ft=>{ft&&(ft.ref.destroy(),ft.unlistenEvents())};class tr{constructor(wt,ze,mt,qt,hn,An){this.containerEl=ze,this.router=mt,this.navCtrl=qt,this.zone=hn,this.location=An,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==wt?Sn(wt):void 0}createView(wt,ze){var mt;const qt=mn(this.router,ze),hn=null==wt||null===(mt=wt.location)||void 0===mt?void 0:mt.nativeElement,An=vt(this.zone,wt.instance,hn);return{id:this.nextId++,stackId:Cn(this.tabsPrefix,qt),unlistenEvents:An,element:hn,ref:wt,url:qt}}getExistingView(wt){const ze=mn(this.router,wt),mt=this.views.find(qt=>qt.url===ze);return mt&&mt.ref.changeDetectorRef.reattach(),mt}setActive(wt){var ze,mt;const qt=this.navCtrl.consumeTransition();let{direction:hn,animation:An,animationBuilder:Bt}=qt;const Le=this.activeView,Ke=wn(wt,Le);Ke&&(hn="back",An=void 0);const Nt=this.views.slice();let Ht;const Xt=this.router;Xt.getCurrentNavigation?Ht=Xt.getCurrentNavigation():null!==(ze=Xt.navigations)&&void 0!==ze&&ze.value&&(Ht=Xt.navigations.value),null!==(mt=Ht)&&void 0!==mt&&null!==(mt=mt.extras)&&void 0!==mt&&mt.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const se=this.views.includes(wt),Ge=this.insertView(wt,hn);se||wt.ref.changeDetectorRef.detectChanges();const _e=wt.animationBuilder;return void 0===Bt&&"back"===hn&&!Ke&&void 0!==_e&&(Bt=_e),Le&&(Le.animationBuilder=Bt),this.zone.runOutsideAngular(()=>this.wait(()=>(Le&&Le.ref.changeDetectorRef.detach(),wt.ref.changeDetectorRef.reattach(),this.transition(wt,Le,An,this.canGoBack(1),!1,Bt).then(()=>Bn(wt,Ge,Nt,this.location,this.zone)).then(()=>({enteringView:wt,direction:hn,animation:An,tabSwitch:Ke})))))}canGoBack(wt,ze=this.getActiveStackId()){return this.getStack(ze).length>wt}pop(wt,ze=this.getActiveStackId()){return this.zone.run(()=>{const mt=this.getStack(ze);if(mt.length<=wt)return Promise.resolve(!1);const qt=mt[mt.length-wt-1];let hn=qt.url;const An=qt.savedData;if(An){var Bt;const Ke=An.get("primary");null!=Ke&&null!==(Bt=Ke.route)&&void 0!==Bt&&null!==(Bt=Bt._routerState)&&void 0!==Bt&&Bt.snapshot.url&&(hn=Ke.route._routerState.snapshot.url)}const{animationBuilder:Le}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(hn,{...qt.savedExtras,animation:Le}).then(()=>!0)})}startBackTransition(){const wt=this.activeView;if(wt){const ze=this.getStack(wt.stackId),mt=ze[ze.length-2],qt=mt.animationBuilder;return this.wait(()=>this.transition(mt,wt,"back",this.canGoBack(2),!0,qt))}return Promise.resolve()}endBackTransition(wt){wt?(this.skipTransition=!0,this.pop(1)):this.activeView&&lr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(wt){const ze=this.getStack(wt);return ze.length>0?ze[ze.length-1]:void 0}getRootUrl(wt){const ze=this.getStack(wt);return ze.length>0?ze[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Dn),this.activeView=void 0,this.views=[]}getStack(wt){return this.views.filter(ze=>ze.stackId===wt)}insertView(wt,ze){return this.activeView=wt,this.views=((ft,wt,ze)=>"root"===ze?Ut(ft,wt):"forward"===ze?((ft,wt)=>(ft.indexOf(wt)>=0?ft=ft.filter(mt=>mt.stackId!==wt.stackId||mt.id<=wt.id):ft.push(wt),ft))(ft,wt):((ft,wt)=>ft.indexOf(wt)>=0?ft.filter(mt=>mt.stackId!==wt.stackId||mt.id<=wt.id):Ut(ft,wt))(ft,wt))(this.views,wt,ze),this.views.slice()}transition(wt,ze,mt,qt,hn,An){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ze===wt)return Promise.resolve(!1);const Bt=wt?wt.element:void 0,Le=ze?ze.element:void 0,Ke=this.containerEl;return Bt&&Bt!==Le&&(Bt.classList.add("ion-page"),Bt.classList.add("ion-page-invisible"),Bt.parentElement!==Ke&&Ke.appendChild(Bt),Ke.commit)?Ke.commit(Bt,Le,{duration:void 0===mt?0:void 0,direction:mt,showGoBack:qt,progressAnimation:hn,animationBuilder:An}):Promise.resolve(!1)}wait(wt){var ze=this;return(0,g.c)(function*(){void 0!==ze.runningTask&&(yield ze.runningTask,ze.runningTask=void 0);const mt=ze.runningTask=wt();return mt.finally(()=>ze.runningTask=void 0),mt})()}}const Bn=(ft,wt,ze,mt,qt)=>"function"==typeof requestAnimationFrame?new Promise(hn=>{requestAnimationFrame(()=>{lr(ft,wt,ze,mt,qt),hn()})}):Promise.resolve(),lr=(ft,wt,ze,mt,qt)=>{qt.run(()=>ze.filter(hn=>!wt.includes(hn)).forEach(Dn)),wt.forEach(hn=>{const Bt=mt.path().split("?")[0].split("#")[0];if(hn!==ft&&hn.url!==Bt){const Le=hn.element;Le.setAttribute("aria-hidden","true"),Le.classList.add("ion-page-hidden"),hn.ref.changeDetectorRef.detach()}})};let Z=(()=>{class ft{constructor(ze,mt,qt,hn,An,Bt,Le,Ke){this.parentOutlet=Ke,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new R.g(null),this.activated=null,this._activatedRoute=null,this.name=st.gf,this.stackWillChange=new Ce._w7,this.stackDidChange=new Ce._w7,this.activateEvents=new Ce._w7,this.deactivateEvents=new Ce._w7,this.parentContexts=(0,Ce.uUt)(st.O4),this.location=(0,Ce.uUt)(Ce.y8U),this.environmentInjector=(0,Ce.uUt)(Ce.SIe),this.inputBinder=(0,Ce.uUt)(ye,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,Ce.uUt)(Rt),this.navCtrl=(0,Ce.uUt)(Tt),this.nativeEl=hn.nativeElement,this.name=ze||st.gf,this.tabsPrefix="true"===mt?mn(An,Le):void 0,this.stackCtrl=new tr(this.tabsPrefix,this.nativeEl,An,this.navCtrl,Bt,qt),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(ze){this.nativeEl.animation=ze}set animated(ze){this.nativeEl.animated=ze}set swipeGesture(ze){this._swipeGesture=ze,this.nativeEl.swipeHandler=ze?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:mt=>this.stackCtrl.endBackTransition(mt)}:void 0}ngOnDestroy(){var ze;this.stackCtrl.destroy(),null===(ze=this.inputBinder)||void 0===ze||ze.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ze=this.getContext();null!=ze&&ze.route&&this.activateWith(ze.route,ze.injector)}new Promise(ze=>(0,le.c)(this.nativeEl,ze)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ze,mt){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const mt=this.getContext();this.activatedView.savedData=new Map(mt.children.contexts);const qt=this.activatedView.savedData.get("primary");if(qt&&mt.route&&(qt.route={...mt.route}),this.activatedView.savedExtras={},mt.route){const hn=mt.route.snapshot;this.activatedView.savedExtras.queryParams=hn.queryParams,this.activatedView.savedExtras.fragment=hn.fragment}}const ze=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ze)}}activateWith(ze,mt){var qt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ze;let hn,An=this.stackCtrl.getExistingView(ze);if(An){hn=this.activated=An.ref;const Ke=An.savedData;Ke&&(this.getContext().children.contexts=Ke),this.updateActivatedRouteProxy(hn.instance,ze)}else{var Bt;const Ke=ze._futureSnapshot,Nt=this.parentContexts.getOrCreateContext(this.name).children,Ht=new R.g(null),Xt=this.createActivatedRouteProxy(Ht,ze),se=new be(Xt,Nt,this.location.injector),Ge=null!==(Bt=Ke.routeConfig.component)&&void 0!==Bt?Bt:Ke.component;hn=this.activated=this.location.createComponent(Ge,{index:this.location.length,injector:se,environmentInjector:null!=mt?mt:this.environmentInjector}),Ht.next(hn.instance),An=this.stackCtrl.createView(this.activated,ze),this.proxyMap.set(hn.instance,Xt),this.currentActivatedRoute$.next({component:hn.instance,activatedRoute:ze})}null===(qt=this.inputBinder)||void 0===qt||qt.bindActivatedRouteToOutletComponent(this),this.activatedView=An,this.navCtrl.setTopOutlet(this);const Le=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:An,tabSwitch:wn(An,Le)}),this.stackCtrl.setActive(An).then(Ke=>{this.activateEvents.emit(hn.instance),this.stackDidChange.emit(Ke)})}canGoBack(ze=1,mt){return this.stackCtrl.canGoBack(ze,mt)}pop(ze=1,mt){return this.stackCtrl.pop(ze,mt)}getLastUrl(ze){const mt=this.stackCtrl.getLastUrl(ze);return mt?mt.url:void 0}getLastRouteView(ze){return this.stackCtrl.getLastUrl(ze)}getRootView(ze){return this.stackCtrl.getRootUrl(ze)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ze,mt){const qt=new st.gV;return qt._futureSnapshot=mt._futureSnapshot,qt._routerState=mt._routerState,qt.snapshot=mt.snapshot,qt.outlet=mt.outlet,qt.component=mt.component,qt._paramMap=this.proxyObservable(ze,"paramMap"),qt._queryParamMap=this.proxyObservable(ze,"queryParamMap"),qt.url=this.proxyObservable(ze,"url"),qt.params=this.proxyObservable(ze,"params"),qt.queryParams=this.proxyObservable(ze,"queryParams"),qt.fragment=this.proxyObservable(ze,"fragment"),qt.data=this.proxyObservable(ze,"data"),qt}proxyObservable(ze,mt){return ze.pipe((0,je.I)(qt=>!!qt),(0,Be.G)(qt=>this.currentActivatedRoute$.pipe((0,je.I)(hn=>null!==hn&&hn.component===qt),(0,Be.G)(hn=>hn&&hn.activatedRoute[mt]),function $e(ft,wt=We.Z){return ft=null!=ft?ft:ke,(0,Oe.i)((ze,mt)=>{let qt,hn=!0;ze.subscribe((0,Pe.e)(mt,An=>{const Bt=wt(An);(hn||!ft(qt,Bt))&&(hn=!1,qt=Bt,mt.next(An))}))})}())))}updateActivatedRouteProxy(ze,mt){const qt=this.proxyMap.get(ze);if(!qt)throw new Error("Could not find activated route proxy for view");qt._futureSnapshot=mt._futureSnapshot,qt._routerState=mt._routerState,qt.snapshot=mt.snapshot,qt.outlet=mt.outlet,qt.component=mt.component,this.currentActivatedRoute$.next({component:ze,activatedRoute:mt})}}return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.gJ8("name"),Ce.gJ8("tabs"),Ce.GI1(Fe.oB),Ce.GI1(Ce.GMv),Ce.GI1(st.E5),Ce.GI1(Ce.WW2),Ce.GI1(st.gV),Ce.GI1(ft,12))},ft.\u0275dir=Ce.Sc5({type:ft,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),ft})();class be{constructor(wt,ze,mt){this.route=wt,this.childContexts=ze,this.parent=mt}get(wt,ze){return wt===st.gV?this.route:wt===st.O4?this.childContexts:this.parent.get(wt,ze)}}const ye=new Ce.UbH("");let E=(()=>{class ft{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ze){this.unsubscribeFromRouteData(ze),this.subscribeToRouteData(ze)}unsubscribeFromRouteData(ze){var mt;null===(mt=this.outletDataSubscriptions.get(ze))||void 0===mt||mt.unsubscribe(),this.outletDataSubscriptions.delete(ze)}subscribeToRouteData(ze){const{activatedRoute:mt}=ze,qt=(0,ne.E)([mt.queryParams,mt.params,mt.data]).pipe((0,Be.G)(([hn,An,Bt],Le)=>(Bt={...hn,...An,...Bt},0===Le?(0,ue.of)(Bt):Promise.resolve(Bt)))).subscribe(hn=>{if(!ze.isActivated||!ze.activatedComponentRef||ze.activatedRoute!==mt||null===mt.component)return void this.unsubscribeFromRouteData(ze);const An=(0,Ce.o9M)(mt.component);if(An)for(const{templateName:Bt}of An.inputs)ze.activatedComponentRef.setInput(Bt,hn[Bt]);else this.unsubscribeFromRouteData(ze)});this.outletDataSubscriptions.set(ze,qt)}}return ft.\u0275fac=function(ze){return new(ze||ft)},ft.\u0275prov=Ce.wxM({token:ft,factory:ft.\u0275fac}),ft})();const N=()=>({provide:ye,useFactory:L,deps:[st.E5]});function L(ft){return null!=ft&&ft.componentInputBindingEnabled?new E:null}const H=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let ee=(()=>{let ft=class{constructor(ze,mt,qt,hn,An,Bt){this.routerOutlet=ze,this.navCtrl=mt,this.config=qt,this.r=hn,this.z=An,Bt.detach(),this.el=this.r.nativeElement}onClick(ze){var mt;const qt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(mt=this.routerOutlet)&&void 0!==mt&&mt.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ze.preventDefault()):null!=qt&&(this.navCtrl.navigateBack(qt,{animation:this.routerAnimation}),ze.preventDefault())}};return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.GI1(Z,8),Ce.GI1(Tt),Ce.GI1(Rt),Ce.GI1(Ce.GMv),Ce.GI1(Ce.WW2),Ce.GI1(Ce.kD9))},ft.\u0275dir=Ce.Sc5({type:ft,hostBindings:function(ze,mt){1&ze&&Ce.qCj("click",function(hn){return mt.onClick(hn)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),ft=(0,we.UN)([yt({inputs:H})],ft),ft})(),Q=(()=>{class ft{constructor(ze,mt,qt,hn,An){this.locationStrategy=ze,this.navCtrl=mt,this.elementRef=qt,this.router=hn,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ze;if(null!==(ze=this.routerLink)&&void 0!==ze&&ze.urlTree){const mt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=mt}}onClick(ze){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ze.preventDefault()}}return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.GI1(Fe.Qd),Ce.GI1(Tt),Ce.GI1(Ce.GMv),Ce.GI1(st.E5),Ce.GI1(st.ER,8))},ft.\u0275dir=Ce.Sc5({type:ft,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ze,mt){1&ze&&Ce.qCj("click",function(hn){return mt.onClick(hn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Ce.SYr]}),ft})(),pe=(()=>{class ft{constructor(ze,mt,qt,hn,An){this.locationStrategy=ze,this.navCtrl=mt,this.elementRef=qt,this.router=hn,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ze;if(null!==(ze=this.routerLink)&&void 0!==ze&&ze.urlTree){const mt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=mt}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.GI1(Fe.Qd),Ce.GI1(Tt),Ce.GI1(Ce.GMv),Ce.GI1(st.E5),Ce.GI1(st.ER,8))},ft.\u0275dir=Ce.Sc5({type:ft,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ze,mt){1&ze&&Ce.qCj("click",function(){return mt.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Ce.SYr]}),ft})();const Ie=["animated","animation","root","rootParams","swipeGesture"],He=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let dt=(()=>{let ft=class{constructor(ze,mt,qt,hn,An,Bt){this.z=An,Bt.detach(),this.el=ze.nativeElement,ze.nativeElement.delegate=hn.create(mt,qt),Pt(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.GI1(Ce.GMv),Ce.GI1(Ce.SIe),Ce.GI1(Ce.zZn),Ce.GI1(Re),Ce.GI1(Ce.WW2),Ce.GI1(Ce.kD9))},ft.\u0275dir=Ce.Sc5({type:ft,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),ft=(0,we.UN)([yt({inputs:Ie,methods:He})],ft),ft})(),Jt=(()=>{class ft{constructor(ze){this.navCtrl=ze,this.ionTabsWillChange=new Ce._w7,this.ionTabsDidChange=new Ce._w7,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ze,tabSwitch:mt}){const qt=ze.stackId;mt&&void 0!==qt&&this.ionTabsWillChange.emit({tab:qt})}onStackDidChange({enteringView:ze,tabSwitch:mt}){const qt=ze.stackId;mt&&void 0!==qt&&(this.tabBar&&(this.tabBar.selectedTab=qt),this.ionTabsDidChange.emit({tab:qt}))}select(ze){const mt="string"==typeof ze,qt=mt?ze:ze.detail.tab,hn=this.outlet.getActiveStackId()===qt,An=`${this.outlet.tabsPrefix}/${qt}`;if(mt||ze.stopPropagation(),hn){const Bt=this.outlet.getActiveStackId(),Le=this.outlet.getLastRouteView(Bt);if((null==Le?void 0:Le.url)===An)return;const Ke=this.outlet.getRootView(qt);return this.navCtrl.navigateRoot(An,{...Ke&&An===Ke.url&&Ke.savedExtras,animated:!0,animationDirection:"back"})}{const Bt=this.outlet.getLastRouteView(qt);return this.navCtrl.navigateRoot((null==Bt?void 0:Bt.url)||An,{...null==Bt?void 0:Bt.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ze=>{const mt=ze.el.getAttribute("slot");mt!==this.tabBarSlot&&(this.tabBarSlot=mt,this.relocateTabBar())})}relocateTabBar(){const ze=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ze):this.tabsInner.nativeElement.after(ze)}}return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.GI1(Tt))},ft.\u0275dir=Ce.Sc5({type:ft,selectors:[["ion-tabs"]],viewQuery:function(ze,mt){if(1&ze&&Ce.CC$(tt,7,Ce.GMv),2&ze){let qt;Ce.wto(qt=Ce.Gqi())&&(mt.tabsInner=qt.first)}},hostBindings:function(ze,mt){1&ze&&Ce.qCj("ionTabButtonClick",function(hn){return mt.select(hn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),ft})();const un=ft=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ft):"function"==typeof requestAnimationFrame?requestAnimationFrame(ft):setTimeout(ft);let ln=(()=>{class ft{constructor(ze,mt){this.injector=ze,this.elementRef=mt,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(ze){this.elementRef.nativeElement.value=this.lastValue=ze,fn(this.elementRef)}handleValueChange(ze,mt){ze===this.elementRef.nativeElement&&(mt!==this.lastValue&&(this.lastValue=mt,this.onChange(mt)),fn(this.elementRef))}_handleBlurEvent(ze){ze===this.elementRef.nativeElement&&(this.onTouched(),fn(this.elementRef))}registerOnChange(ze){this.onChange=ze}registerOnTouched(ze){this.onTouched=ze}setDisabledState(ze){this.elementRef.nativeElement.disabled=ze}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ze;try{ze=this.injector.get(Qe.eq)}catch{}if(!ze)return;ze.statusChanges&&(this.statusChanges=ze.statusChanges.subscribe(()=>fn(this.elementRef)));const mt=ze.control;mt&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(hn=>{if(typeof mt[hn]<"u"){const An=mt[hn].bind(mt);mt[hn]=(...Bt)=>{An(...Bt),fn(this.elementRef)}}})}}return ft.\u0275fac=function(ze){return new(ze||ft)(Ce.GI1(Ce.zZn),Ce.GI1(Ce.GMv))},ft.\u0275dir=Ce.Sc5({type:ft,hostBindings:function(ze,mt){1&ze&&Ce.qCj("ionBlur",function(hn){return mt._handleBlurEvent(hn.target)})}}),ft})();const fn=ft=>{un(()=>{const wt=ft.nativeElement,ze=null!=wt.value&&wt.value.toString().length>0,mt=kn(wt);Un(wt,mt);const qt=wt.closest("ion-item");qt&&Un(qt,ze?[...mt,"item-has-value"]:mt)})},kn=ft=>{const wt=ft.classList,ze=[];for(let mt=0;mt<wt.length;mt++){const qt=wt.item(mt);null!==qt&&Ln(qt,"ng-")&&ze.push(`ion-${qt.substring(3)}`)}return ze},Un=(ft,wt)=>{const ze=ft.classList;ze.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ze.add(...wt)},Ln=(ft,wt)=>ft.substring(0,wt.length)===wt;class hr{shouldDetach(wt){return!1}shouldAttach(wt){return!1}store(wt,ze){}retrieve(wt){return null}shouldReuseRoute(wt,ze){if(wt.routeConfig!==ze.routeConfig)return!1;const mt=wt.params,qt=ze.params,hn=Object.keys(mt),An=Object.keys(qt);if(hn.length!==An.length)return!1;for(const Bt of hn)if(qt[Bt]!==mt[Bt])return!1;return!0}}class nr{constructor(wt){this.ctrl=wt}create(wt){return this.ctrl.create(wt||{})}dismiss(wt,ze,mt){return this.ctrl.dismiss(wt,ze,mt)}getTop(){return this.ctrl.getTop()}}},5624:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{iW:()=>nr,UJ:()=>f,cm:()=>M,qU:()=>q,qk:()=>ie,O7:()=>te,Im:()=>He,Gi:()=>oe,sn:()=>W,GS:()=>R,KC:()=>ne,Gg:()=>ue,YY:()=>we,MN:()=>je,I7:()=>Be,ew:()=>We,cz:()=>Oe,Kk:()=>Pe,_i:()=>$e,on:()=>ke,eV:()=>xt,YP:()=>$t,wB:()=>Ot,Ko:()=>jt,A5:()=>ut,Yb:()=>Rt,S8:()=>Ze,QR:()=>Me,OC:()=>Ye,zz:()=>vt,W9:()=>hr,yc:()=>ln,sW:()=>fn,CS:()=>Xe,ue:()=>at,Cg:()=>pe,qo:()=>Zt,Cy:()=>Sn,gd:()=>Dn,mx:()=>Z,ej:()=>be,CE:()=>Ie,tM:()=>L,E$:()=>ee,Md:()=>Q,wZ:()=>Xt,Kg:()=>mt,qS:()=>hn,Ch:()=>b,Gv:()=>D,IT:()=>B,qG:()=>F});var g=fe(4496),Ce=fe(4716),st=fe(9240),Fe=fe(1316),o=fe(800),V=fe(1368),w=fe(3332),_=fe(4708),p=fe(1528),m=fe(3716);const x=fe(1780).i,s=function(){var se=(0,p.c)(function*(Ge,_e){if(!(typeof window>"u"))return yield x(),(0,m.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),_e)});return function(_e,qe){return se.apply(this,arguments)}}(),a=["*"],h=["outlet"],c=[[["","slot","top"]],"*"],u=["[slot=top]","*"];function l(se,Ge){if(1&se&&(g.I0R(0,"div",1),g.C_f(1,2),g.C$Y()),2&se){const _e=g.GaO();g.yG2(),g.E7m("ngTemplateOutlet",_e.template)}}function y(se,Ge){if(1&se&&g.C_f(0,1),2&se){const _e=g.GaO();g.E7m("ngTemplateOutlet",_e.template)}}let f=(()=>{class se extends st.uU{constructor(_e,qe){super(_e,qe)}writeValue(_e){this.elementRef.nativeElement.checked=this.lastValue=_e,(0,st.ag)(this.elementRef)}_handleIonChange(_e){this.handleValueChange(_e,_e.checked)}}return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.zZn),g.GI1(g.GMv))},se.\u0275dir=g.Sc5({type:se,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(_e,qe){1&_e&&g.qCj("ionChange",function(nn){return qe._handleIonChange(nn.target)})},features:[g.M5G([{provide:Ce.Y6,useExisting:se,multi:!0}]),g.eg9]}),se})(),b=(()=>{class se extends st.uU{constructor(_e,qe){super(_e,qe)}handleInputEvent(_e){this.handleValueChange(_e,_e.value)}registerOnChange(_e){super.registerOnChange(qe=>{_e(""===qe?null:parseFloat(qe))})}}return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.zZn),g.GI1(g.GMv))},se.\u0275dir=g.Sc5({type:se,selectors:[["ion-input","type","number"]],hostBindings:function(_e,qe){1&_e&&g.qCj("ionInput",function(nn){return qe.handleInputEvent(nn.target)})},features:[g.M5G([{provide:Ce.Y6,useExisting:se,multi:!0}]),g.eg9]}),se})(),D=(()=>{class se extends st.uU{constructor(_e,qe){super(_e,qe)}_handleIonSelect(_e){this.handleValueChange(_e,_e.checked)}}return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.zZn),g.GI1(g.GMv))},se.\u0275dir=g.Sc5({type:se,selectors:[["ion-radio"]],hostBindings:function(_e,qe){1&_e&&g.qCj("ionSelect",function(nn){return qe._handleIonSelect(nn.target)})},features:[g.M5G([{provide:Ce.Y6,useExisting:se,multi:!0}]),g.eg9]}),se})(),B=(()=>{class se extends st.uU{constructor(_e,qe){super(_e,qe)}_handleChangeEvent(_e){this.handleValueChange(_e,_e.value)}}return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.zZn),g.GI1(g.GMv))},se.\u0275dir=g.Sc5({type:se,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(_e,qe){1&_e&&g.qCj("ionChange",function(nn){return qe._handleChangeEvent(nn.target)})},features:[g.M5G([{provide:Ce.Y6,useExisting:se,multi:!0}]),g.eg9]}),se})(),F=(()=>{class se extends st.uU{constructor(_e,qe){super(_e,qe)}_handleInputEvent(_e){this.handleValueChange(_e,_e.value)}}return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.zZn),g.GI1(g.GMv))},se.\u0275dir=g.Sc5({type:se,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(_e,qe){1&_e&&g.qCj("ionInput",function(nn){return qe._handleInputEvent(nn.target)})},features:[g.M5G([{provide:Ce.Y6,useExisting:se,multi:!0}]),g.eg9]}),se})();const j=(se,Ge)=>{const _e=se.prototype;Ge.forEach(qe=>{Object.defineProperty(_e,qe,{get(){return this.el[qe]},set(Et){this.z.runOutsideAngular(()=>this.el[qe]=Et)},configurable:!0})})},k=(se,Ge)=>{const _e=se.prototype;Ge.forEach(qe=>{_e[qe]=function(){const Et=arguments;return this.z.runOutsideAngular(()=>this.el[qe].apply(this.el,Et))}})},U=(se,Ge,_e)=>{_e.forEach(qe=>se[qe]=(0,o.w)(Ge,qe))};function I(se){return function(_e){const{defineCustomElementFn:qe,inputs:Et,methods:nn}=se;return void 0!==qe&&qe(),Et&&j(_e,Et),nn&&k(_e,nn),_e}}let M=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],se),se})(),q=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionChange"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],se),se})(),ie=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-app"]],ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({})],se),se})(),te=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-avatar"]],ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({})],se),se})(),oe=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","mode"]})],se),se})(),W=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionFocus","ionBlur"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],se),se})(),R=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["collapse"]})],se),se})(),ne=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],se),se})(),ue=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["mode"]})],se),se})(),we=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","mode","translucent"]})],se),se})(),je=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","mode"]})],se),se})(),Be=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","mode"]})],se),se})(),We=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionChange","ionFocus","ionBlur"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],se),se})(),Oe=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","disabled","mode","outline"]})],se),se})(),Pe=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],se),se})(),$e=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],se),se})(),ke=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],se),se})(),xt=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["collapse","mode","translucent"]})],se),se})(),$t=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["fixed"]})],se),se})(),Ot=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["collapse","mode","translucent"]})],se),se})(),jt=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],se),se})(),ut=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],se),se})(),Rt=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],se),se})(),Ze=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","mode","sticky"]})],se),se})(),Me=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","mode","position"]})],se),se})(),Ye=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],se),se})(),vt=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","lines","mode"]})],se),se})(),Xe=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionFocus","ionBlur"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["alignment","color","disabled","justify","labelPlacement","legacy","mode","name","value"]})],se),se})(),at=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionChange"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["allowEmptySelection","compareWith","name","value"]})],se),se})(),Zt=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-row"]],ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({})],se),se})(),Sn=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],se),se})(),Dn=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["disabled","value"]})],se),se})(),Z=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","mode","selectedTab","translucent"]})],se),se})(),be=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],se),se})(),L=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","size"]})],se),se})(),ee=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement,U(this,this.el,["ionChange","ionFocus","ionBlur"])}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],se),se})(),Q=(()=>{let se=class{constructor(_e,qe,Et){this.z=Et,_e.detach(),this.el=qe.nativeElement}};return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(g.kD9),g.GI1(g.GMv),g.GI1(g.WW2))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se=(0,Fe.UN)([I({inputs:["color","mode"]})],se),se})(),pe=(()=>{class se extends st.Cg{constructor(_e,qe,Et,nn,In,Pn,qn,Kn){super(_e,qe,Et,nn,In,Pn,qn,Kn),this.parentOutlet=Kn}}return se.\u0275fac=function(_e){return new(_e||se)(g.gJ8("name"),g.gJ8("tabs"),g.GI1(V.oB),g.GI1(g.GMv),g.GI1(w.E5),g.GI1(g.WW2),g.GI1(w.gV),g.GI1(se,12))},se.\u0275dir=g.Sc5({type:se,selectors:[["ion-router-outlet"]],features:[g.eg9]}),se})(),Ie=(()=>{class se extends st.CE{}return se.\u0275fac=(()=>{let Ge;return function(qe){return(Ge||(Ge=g.otF(se)))(qe||se)}})(),se.\u0275cmp=g.In1({type:se,selectors:[["ion-tabs"]],contentQueries:function(_e,qe,Et){if(1&_e&&(g.szK(Et,Z,5),g.szK(Et,Z,4)),2&_e){let nn;g.wto(nn=g.Gqi())&&(qe.tabBar=nn.first),g.wto(nn=g.Gqi())&&(qe.tabBars=nn)}},viewQuery:function(_e,qe){if(1&_e&&g.CC$(h,5,pe),2&_e){let Et;g.wto(Et=g.Gqi())&&(qe.outlet=Et.first)}},features:[g.eg9],ngContentSelectors:u,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(_e,qe){1&_e&&(g.kPM(c),g._Xx(0),g.I0R(1,"div",0,1)(3,"ion-router-outlet",2,3),g.qCj("stackWillChange",function(nn){return qe.onStackWillChange(nn)})("stackDidChange",function(nn){return qe.onStackDidChange(nn)}),g.C$Y()(),g._Xx(5,1))},dependencies:[pe],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),se})(),He=(()=>{class se extends st.Im{constructor(_e,qe,Et,nn,In,Pn){super(_e,qe,Et,nn,In,Pn)}}return se.\u0275fac=function(_e){return new(_e||se)(g.GI1(pe,8),g.GI1(st.wX),g.GI1(st._U),g.GI1(g.GMv),g.GI1(g.WW2),g.GI1(g.kD9))},se.\u0275cmp=g.In1({type:se,selectors:[["ion-back-button"]],features:[g.eg9],ngContentSelectors:a,decls:1,vars:0,template:function(_e,qe){1&_e&&(g.kPM(),g._Xx(0))},encapsulation:2,changeDetection:0}),se})(),ln=(()=>{class se extends st.Qz{}return se.\u0275fac=(()=>{let Ge;return function(qe){return(Ge||(Ge=g.otF(se)))(qe||se)}})(),se.\u0275cmp=g.In1({type:se,selectors:[["ion-modal"]],features:[g.eg9],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(_e,qe){1&_e&&g.yuY(0,l,2,1,"div",0),2&_e&&g.E7m("ngIf",qe.isCmpOpen||qe.keepContentsMounted)},dependencies:[V.u_,V.XV],encapsulation:2,changeDetection:0}),se})(),fn=(()=>{class se extends st.sW{}return se.\u0275fac=(()=>{let Ge;return function(qe){return(Ge||(Ge=g.otF(se)))(qe||se)}})(),se.\u0275cmp=g.In1({type:se,selectors:[["ion-popover"]],features:[g.eg9],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(_e,qe){1&_e&&g.yuY(0,y,1,1,"ng-container",0),2&_e&&g.E7m("ngIf",qe.isCmpOpen||qe.keepContentsMounted)},dependencies:[V.u_,V.XV],encapsulation:2,changeDetection:0}),se})();const kn={provide:Ce.WM,useExisting:(0,g.wd)(()=>Un),multi:!0};let Un=(()=>{class se extends Ce._t{}return se.\u0275fac=(()=>{let Ge;return function(qe){return(Ge||(Ge=g.otF(se)))(qe||se)}})(),se.\u0275dir=g.Sc5({type:se,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(_e,qe){2&_e&&g.e48("max",qe._enabled?qe.max:null)},features:[g.M5G([kn]),g.eg9]}),se})();const Ln={provide:Ce.WM,useExisting:(0,g.wd)(()=>hr),multi:!0};let hr=(()=>{class se extends Ce.Gu{}return se.\u0275fac=(()=>{let Ge;return function(qe){return(Ge||(Ge=g.otF(se)))(qe||se)}})(),se.\u0275dir=g.Sc5({type:se,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(_e,qe){2&_e&&g.e48("min",qe._enabled?qe.min:null)},features:[g.M5G([Ln]),g.eg9]}),se})(),nr=(()=>{class se extends st.gk{constructor(){super(_.W4)}}return se.\u0275fac=function(_e){return new(_e||se)},se.\u0275prov=g.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),mt=(()=>{class se extends st.gk{constructor(){super(_.KQ)}}return se.\u0275fac=function(_e){return new(_e||se)},se.\u0275prov=g.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),hn=(()=>{class se extends st.gk{constructor(){super(_.kT),this.angularDelegate=(0,g.uUt)(st.kh),this.injector=(0,g.uUt)(g.zZn),this.environmentInjector=(0,g.uUt)(g.SIe)}create(_e){return super.create({..._e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return se.\u0275fac=function(_e){return new(_e||se)},se.\u0275prov=g.wxM({token:se,factory:se.\u0275fac}),se})();class Bt extends st.gk{constructor(){super(_.oz),this.angularDelegate=(0,g.uUt)(st.kh),this.injector=(0,g.uUt)(g.zZn),this.environmentInjector=(0,g.uUt)(g.SIe)}create(Ge){return super.create({...Ge,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Ke=(se,Ge,_e)=>()=>{const qe=Ge.defaultView;if(qe&&typeof window<"u"){(0,_.cp)({...se,_zoneGate:nn=>_e.run(nn)});const Et="__zone_symbol__addEventListener"in Ge.body?"__zone_symbol__addEventListener":"addEventListener";return function d(){var se=[];if(typeof window<"u"){var Ge=window;(!Ge.customElements||Ge.Element&&(!Ge.Element.prototype.closest||!Ge.Element.prototype.matches||!Ge.Element.prototype.remove||!Ge.Element.prototype.getRootNode))&&se.push(fe.e(4448).then(fe.t.bind(fe,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Ge.NodeList&&!Ge.NodeList.prototype.forEach||!Ge.fetch||!function(){try{var qe=new URL("b","http://a");return qe.pathname="c%20d","http://a/c%20d"===qe.href&&qe.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&se.push(fe.e(488).then(fe.t.bind(fe,6304,23)))}return Promise.all(se)}().then(()=>s(qe,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:st.cl,jmp:nn=>_e.runOutsideAngular(nn),ael(nn,In,Pn,qn){nn[Et](In,Pn,qn)},rel(nn,In,Pn,qn){nn.removeEventListener(In,Pn,qn)}}))}};let Xt=(()=>{class se{static forRoot(_e){return{ngModule:se,providers:[{provide:st.m2,useValue:_e},{provide:g.kZF,useFactory:Ke,multi:!0,deps:[st.m2,V.Ud,g.WW2]},(0,st.Al)()]}}}return se.\u0275fac=function(_e){return new(_e||se)},se.\u0275mod=g.a4G({type:se}),se.\u0275inj=g.s3X({providers:[st.kh,hn,Bt],imports:[V.MD]}),se})()},2272:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{c:()=>st});var g=fe(1528);const Ce={};Ce.write=function(){var Fe=(0,g.c)(function*(o){yield navigator.clipboard.writeText(o)});return function(o){return Fe.apply(this,arguments)}}(),Ce.read=(0,g.c)(function*(){return navigator.clipboard.readText()}),Ce.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")},Ce.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};const st=Ce},1528:(pn,Vt,fe)=>{"use strict";function g(st,Fe,o,V,w,_,d){try{var p=st[_](d),m=p.value}catch(C){return void o(C)}p.done?Fe(m):Promise.resolve(m).then(V,w)}function Ce(st){return function(){var Fe=this,o=arguments;return new Promise(function(V,w){var _=st.apply(Fe,o);function d(m){g(_,V,w,d,p,"next",m)}function p(m){g(_,V,w,d,p,"throw",m)}d(void 0)})}}fe.d(Vt,{c:()=>Ce})},1316:(pn,Vt,fe)=>{"use strict";fe.d(Vt,{U1:()=>f,UN:()=>o,ct:()=>Ce,kH:()=>C,mA:()=>B,o7:()=>b});var g=function(te,z){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,le){oe.__proto__=le}||function(oe,le){for(var Ee in le)Object.prototype.hasOwnProperty.call(le,Ee)&&(oe[Ee]=le[Ee])})(te,z)};function Ce(te,z){if("function"!=typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function oe(){this.constructor=te}g(te,z),te.prototype=null===z?Object.create(z):(oe.prototype=z.prototype,new oe)}function o(te,z,oe,le){var R,Ee=arguments.length,W=Ee<3?z:null===le?le=Object.getOwnPropertyDescriptor(z,oe):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(te,z,oe,le);else for(var ne=te.length-1;ne>=0;ne--)(R=te[ne])&&(W=(Ee<3?R(W):Ee>3?R(z,oe,W):R(z,oe))||W);return Ee>3&&W&&Object.defineProperty(z,oe,W),W}function C(te,z,oe,le){return new(oe||(oe=Promise))(function(W,R){function ne(je){try{we(le.next(je))}catch(Be){R(Be)}}function ue(je){try{we(le.throw(je))}catch(Be){R(Be)}}function we(je){je.done?W(je.value):function Ee(W){return W instanceof oe?W:new oe(function(R){R(W)})}(je.value).then(ne,ue)}we((le=le.apply(te,z||[])).next())})}function f(te){return this instanceof f?(this.v=te,this):new f(te)}function b(te,z,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,le=oe.apply(te,z||[]),W=[];return Ee={},R("next"),R("throw"),R("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function R(We){le[We]&&(Ee[We]=function(Oe){return new Promise(function(Pe,$e){W.push([We,Oe,Pe,$e])>1||ne(We,Oe)})})}function ne(We,Oe){try{!function ue(We){We.value instanceof f?Promise.resolve(We.value.v).then(we,je):Be(W[0][2],We)}(le[We](Oe))}catch(Pe){Be(W[0][3],Pe)}}function we(We){ne("next",We)}function je(We){ne("throw",We)}function Be(We,Oe){We(Oe),W.shift(),W.length&&ne(W[0][0],W[0][1])}}function B(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,z=te[Symbol.asyncIterator];return z?z.call(te):(te=function h(te){var z="function"==typeof Symbol&&Symbol.iterator,oe=z&&te[z],le=0;if(oe)return oe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&le>=te.length&&(te=void 0),{value:te&&te[le++],done:!te}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),oe={},le("next"),le("throw"),le("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function le(W){oe[W]=te[W]&&function(R){return new Promise(function(ne,ue){!function Ee(W,R,ne,ue){Promise.resolve(ue).then(function(we){W({value:we,done:ne})},R)}(ne,ue,(R=te[W](R)).done,R.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},pn=>{pn(pn.s=5788)}]);