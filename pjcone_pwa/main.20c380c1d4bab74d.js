(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{1028:(pn,jt,ge)=>{"use strict";ge.d(jt,{Y:()=>_e});var y=ge(1316),xe=ge(3080),rt=ge(4496),_e=function(o){function $(){return null!==o&&o.apply(this,arguments)||this}return(0,y.ct)($,o),$.prototype.enable=function(){return(0,xe.AN)(this,"enable",{sync:!0},arguments)},$.prototype.disable=function(){return(0,xe.AN)(this,"disable",{sync:!0},arguments)},$.prototype.setEnabled=function(S){return(0,xe.AN)(this,"setEnabled",{sync:!0},arguments)},$.prototype.fireEvent=function(S){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];return(0,xe.AN)(this,"fireEvent",{sync:!0},arguments)},$.prototype.isEnabled=function(){return(0,xe.AN)(this,"isEnabled",{sync:!0},arguments)},$.prototype.isActive=function(){return(0,xe.AN)(this,"isActive",{sync:!0},arguments)},$.prototype.setDefaults=function(S){return(0,xe.AN)(this,"setDefaults",{platforms:["Android"]},arguments)},$.prototype.configure=function(S){return(0,xe.AN)(this,"configure",{platforms:["Android"],sync:!0},arguments)},$.prototype.on=function(S){return(0,xe.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},$.prototype.un=function(S,v){return(0,xe.AN)(this,"un",{},arguments)},$.prototype.moveToBackground=function(){return(0,xe.AN)(this,"moveToBackground",{platforms:["Android"],sync:!0},arguments)},$.prototype.disableWebViewOptimizations=function(){return(0,xe.AN)(this,"disableWebViewOptimizations",{platforms:["Android"],sync:!0},arguments)},$.prototype.moveToForeground=function(){return(0,xe.AN)(this,"moveToForeground",{platforms:["Android"],sync:!0},arguments)},$.prototype.overrideBackButton=function(){return(0,xe.AN)(this,"overrideBackButton",{platforms:["Android"],sync:!0},arguments)},$.prototype.excludeFromTaskList=function(){return(0,xe.AN)(this,"excludeFromTaskList",{platforms:["Android"],sync:!0},arguments)},$.prototype.isScreenOff=function(S){return(0,xe.AN)(this,"isScreenOff",{platforms:["Android"]},arguments)},$.prototype.wakeUp=function(){return(0,xe.AN)(this,"wakeUp",{platforms:["Android"],sync:!0},arguments)},$.prototype.unlock=function(){return(0,xe.AN)(this,"unlock",{platforms:["Android"],sync:!0},arguments)},$.prototype.disableBatteryOptimizations=function(){return(0,xe.AN)(this,"disableBatteryOptimizations",{platforms:["Android"],sync:!0},arguments)},$.\u0275fac=(()=>{let S;return function(_){return(S||(S=rt.otF($)))(_||$)}})(),$.\u0275prov=rt.wxM({token:$,factory:$.\u0275fac}),$.pluginName="BackgroundMode",$.plugin="cordova-plugin-background-mode",$.pluginRef="cordova.plugins.backgroundMode",$.repo="https://github.com/katzer/cordova-plugin-background-mode",$.platforms=["AmazonFire OS","Android","Browser","iOS","Windows"],$=(0,y.UN)([],$)}(xe.SM)},7756:(pn,jt,ge)=>{"use strict";ge.d(jt,{_:()=>_e});var y=ge(1316),xe=ge(3080),rt=ge(4496),_e=function(o){function $(){return null!==o&&o.apply(this,arguments)||this}return(0,y.ct)($,o),$.prototype.copy=function(S){return(0,xe.AN)(this,"copy",{},arguments)},$.prototype.paste=function(){return(0,xe.AN)(this,"paste",{},arguments)},$.prototype.clear=function(){return(0,xe.AN)(this,"clear",{},arguments)},$.\u0275fac=(()=>{let S;return function(_){return(S||(S=rt.otF($)))(_||$)}})(),$.\u0275prov=rt.wxM({token:$,factory:$.\u0275fac}),$.pluginName="Clipboard",$.plugin="cordova-clipboard",$.pluginRef="cordova.plugins.clipboard",$.repo="https://github.com/ihadeed/cordova-clipboard",$.platforms=["Android","iOS","Windows Phone 8"],$=(0,y.UN)([],$)}(xe.SM)},3080:(pn,jt,ge)=>{"use strict";ge.d(jt,{SM:()=>F,sp:()=>f,AN:()=>N,qE:()=>k,QN:()=>E,Ce:()=>$});var xe=ge(3252),rt=ge(800),_e={error:"cordova_not_available"},o={error:"plugin_not_installed"};function $(I){if(typeof window<"u"&&window.angular){var Y=window.document,z=window.angular.element(Y.querySelector("[ng-app]")||Y.body).injector();if(z)return z.get("$q")(function(J,q){I(J,q)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(J,q){I(J,q)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function f(I,W,Y){var z,te;"string"==typeof I?z=I:(z=I.constructor.getPluginRef(),Y=I.constructor.getPluginName(),te=I.constructor.getPluginInstallName());var J=d(z);return!(!J||W&&typeof J[W]>"u")||(typeof window>"u"||!window.cordova?(function l(I,W){typeof process>"u"&&console.warn(W?"Native: tried calling "+I+"."+W+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+I+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Y,W),_e):(function u(I,W,Y){console.warn(Y?"Native: tried calling "+I+"."+Y+", but the "+I+" plugin is not installed.":"Native: tried accessing the "+I+" plugin but it's not installed."),W&&console.warn("Install the "+I+" plugin: 'ionic cordova plugin add "+W+"'")}(Y,te,W),o))}function i(I,W,Y,z,te,J){void 0===z&&(z={}),Y=function w(I,W,Y,z){if(void 0===W&&(W={}),W.sync)return I;if("reverse"===W.callbackOrder)I.unshift(z),I.unshift(Y);else if("node"===W.callbackStyle)I.push(function(ne,fe){ne?z(ne):Y(fe)});else if("object"===W.callbackStyle&&W.successName&&W.errorName){var te={};te[W.successName]=Y,te[W.errorName]=z,I.push(te)}else if(typeof W.successIndex<"u"||typeof W.errorIndex<"u"){var J=function(){W.successIndex>I.length?I[W.successIndex]=Y:I.splice(W.successIndex,0,Y)},q=function(){W.errorIndex>I.length?I[W.errorIndex]=z:I.splice(W.errorIndex,0,z)};W.successIndex>W.errorIndex?(q(),J()):(J(),q())}else I.push(Y),I.push(z);return I}(Y,z,te,J);var q=f(I,W);if(!0===q){var ne=d(I.constructor.getPluginRef());return ne[W].apply(ne,Y)}return q}function d(I){return typeof window<"u"?c(window,I):null}function c(I,W){for(var Y=W.split("."),z=I,te=0;te<Y.length;te++){if(!z)return null;z=z[Y[te]]}return z}var m=function(I,W,Y){return void 0===Y&&(Y={}),function(){for(var z=[],te=0;te<arguments.length;te++)z[te]=arguments[te];return Y.sync?i(I,W,z,Y):Y.observable?function _(I,W,Y,z){return void 0===z&&(z={}),new xe._(function(te){var J;return J=z.destruct?i(I,W,Y,z,function(){for(var q=[],ne=0;ne<arguments.length;ne++)q[ne]=arguments[ne];return te.next(q)},function(){for(var q=[],ne=0;ne<arguments.length;ne++)q[ne]=arguments[ne];return te.error(q)}):i(I,W,Y,z,te.next.bind(te),te.error.bind(te)),J&&J.error&&(te.error(J.error),te.complete()),function(){try{if(z.clearFunction)return z.clearWithArgs?i(I,z.clearFunction,Y,z,te.next.bind(te),te.error.bind(te)):i(I,z.clearFunction,[])}catch(q){console.warn("Unable to clear the previous observable watch for",I.constructor.getPluginName(),W),console.warn(q)}}})}(I,W,z,Y):Y.eventObservable&&Y.event?function h(I,W){return W=typeof window<"u"&&W?c(window,W):W||(typeof window<"u"?window:{}),(0,rt.w)(W,I)}(Y.event,Y.element):Y.otherPromise?function v(I,W,Y,z){return void 0===z&&(z={}),$(function(te,J){var q=i(I,W,Y,z);q?q.error?J(q.error):q.then&&q.then(te).catch(J):J({error:"unexpected_error"})})}(I,W,z,Y):function S(I,W,Y,z){void 0===z&&(z={});var te,J,q=$(function(ne,fe){te=z.destruct?i(I,W,Y,z,function(){for(var De=[],K=0;K<arguments.length;K++)De[K]=arguments[K];return ne(De)},function(){for(var De=[],K=0;K<arguments.length;K++)De[K]=arguments[K];return fe(De)}):i(I,W,Y,z,ne,fe),J=fe});return te&&te.error&&(q.catch(function(){}),"function"==typeof J&&J(te.error)),q}(I,W,z,Y)}},F=function(){function I(){}return I.installed=function(){return!0===f(this.pluginRef)},I.getPlugin=function(){return typeof window<"u"?function b(I,W){for(var Y=W.split("."),z=I,te=0;te<Y.length;te++){if(!z)return null;z=z[Y[te]]}return z}(window,this.pluginRef):null},I.getPluginName=function(){return this.pluginName},I.getPluginRef=function(){return this.pluginRef},I.getPluginInstallName=function(){return this.plugin},I.getSupportedPlatforms=function(){return this.platforms},I.pluginName="",I.pluginRef="",I.plugin="",I.repo="",I.platforms=[],I.install="",I}();function N(I,W,Y,z){return m(I,W,Y).apply(this,z)}function k(I,W){return!0===f(I,W)?d(I.constructor.getPluginRef())[W]:null}function E(I,W,Y){!0===f(I,W)&&(d(I.constructor.getPluginRef())[W]=Y)}!function y(){if(typeof process>"u"){var I=typeof window<"u"?window:{},Y=Date.now(),z=!1;I.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Y)+" ms"),z=!0}),setTimeout(function(){!z&&I.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},8268:(pn,jt,ge)=>{"use strict";ge.d(jt,{G:()=>_e});var y=ge(1316),xe=ge(3080),rt=ge(4496),_e=function(o){function $(){return null!==o&&o.apply(this,arguments)||this}return(0,y.ct)($,o),Object.defineProperty($.prototype,"cordova",{get:function(){return(0,xe.qE)(this,"cordova")},set:function(S){(0,xe.QN)(this,"cordova",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"model",{get:function(){return(0,xe.qE)(this,"model")},set:function(S){(0,xe.QN)(this,"model",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"platform",{get:function(){return(0,xe.qE)(this,"platform")},set:function(S){(0,xe.QN)(this,"platform",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"uuid",{get:function(){return(0,xe.qE)(this,"uuid")},set:function(S){(0,xe.QN)(this,"uuid",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"version",{get:function(){return(0,xe.qE)(this,"version")},set:function(S){(0,xe.QN)(this,"version",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"manufacturer",{get:function(){return(0,xe.qE)(this,"manufacturer")},set:function(S){(0,xe.QN)(this,"manufacturer",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"isVirtual",{get:function(){return(0,xe.qE)(this,"isVirtual")},set:function(S){(0,xe.QN)(this,"isVirtual",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"serial",{get:function(){return(0,xe.qE)(this,"serial")},set:function(S){(0,xe.QN)(this,"serial",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"sdkVersion",{get:function(){return(0,xe.qE)(this,"sdkVersion")},set:function(S){(0,xe.QN)(this,"sdkVersion",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"isiOSAppOnMac",{get:function(){return(0,xe.qE)(this,"isiOSAppOnMac")},set:function(S){(0,xe.QN)(this,"isiOSAppOnMac",S)},enumerable:!1,configurable:!0}),$.\u0275fac=(()=>{let S;return function(_){return(S||(S=rt.otF($)))(_||$)}})(),$.\u0275prov=rt.wxM({token:$,factory:$.\u0275fac}),$.pluginName="Device",$.plugin="cordova-plugin-device",$.pluginRef="device",$.repo="https://github.com/apache/cordova-plugin-device",$.platforms=["Android","Browser","iOS","macOS","Windows"],$=(0,y.UN)([],$)}(xe.SM)},544:(pn,jt,ge)=>{"use strict";ge.d(jt,{S:()=>_e});var y=ge(1316),xe=ge(3080),rt=ge(4496),_e=function(o){function $(){var S=null!==o&&o.apply(this,arguments)||this;return S.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},S}return(0,y.ct)($,o),$.prototype.getFreeDiskSpace=function(){var S=this;return function(){if(!0===(0,xe.sp)(S))return(0,xe.Ce)(function(v,_){cordova.exec(v,_,"File","getFreeDiskSpace",[])})}()},$.prototype.checkDir=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(v)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(S+v).then(function(){return!0})}}()},$.prototype.createDir=function(S,v,_){var h=this;return function(){if(!0===(0,xe.sp)(h)){if(/^\//.test(v)){var f=new FileError(5);return f.message="directory cannot start with /",Promise.reject(f)}var x={create:!0};return _||(x.exclusive=!0),h.resolveDirectoryUrl(S).then(function(w){return h.getDirectory(w,v,x)})}}()},$.prototype.removeDir=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(v)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(S).then(function(f){return _.getDirectory(f,v,{create:!1})}).then(function(f){return _.remove(f)})}}()},$.prototype.moveDir=function(S,v,_,h){var f=this;return function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(h=h||v)){var x=new FileError(5);return x.message="directory cannot start with /",Promise.reject(x)}return f.resolveDirectoryUrl(S).then(function(w){return f.getDirectory(w,v,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(i){return f.move(w,i,h)})})}}()},$.prototype.copyDir=function(S,v,_,h){var f=this;return function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(h)){var x=new FileError(5);return x.message="directory cannot start with /",Promise.reject(x)}return f.resolveDirectoryUrl(S).then(function(w){return f.getDirectory(w,v,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(i){return f.copy(w,i,h)})})}}()},$.prototype.listDir=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(v)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(S).then(function(f){return _.getDirectory(f,v,{create:!1,exclusive:!1})}).then(function(f){var x=f.createReader();return _.readEntries(x)})}}()},$.prototype.removeRecursively=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(v)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(S).then(function(f){return _.getDirectory(f,v,{create:!1})}).then(function(f){return _.rimraf(f)})}}()},$.prototype.checkFile=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(v)){var h=new FileError(5);return h.message="file cannot start with /",Promise.reject(h)}return _.resolveLocalFilesystemUrl(S+v).then(function(f){if(f.isFile)return!0;var x=new FileError(13);return x.message="input is not a file",Promise.reject(x)})}}()},$.prototype.createFile=function(S,v,_){var h=this;return function(){if(!0===(0,xe.sp)(h)){if(/^\//.test(v)){var f=new FileError(5);return f.message="file-name cannot start with /",Promise.reject(f)}var x={create:!0};return _||(x.exclusive=!0),h.resolveDirectoryUrl(S).then(function(w){return h.getFile(w,v,x)})}}()},$.prototype.removeFile=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(v)){var h=new FileError(5);return h.message="file-name cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(S).then(function(f){return _.getFile(f,v,{create:!1})}).then(function(f){return _.remove(f)})}}()},$.prototype.writeFile=function(S,v,_,h){var f=this;return void 0===h&&(h={}),function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(v)){var x=new FileError(5);return x.message="file-name cannot start with /",Promise.reject(x)}var w={create:!h.append,exclusive:!h.replace};return f.resolveDirectoryUrl(S).then(function(i){return f.getFile(i,v,w)}).then(function(i){return f.writeFileEntry(i,_,h)})}}()},$.prototype.writeFileEntry=function(S,v,_){var h=this;return this.createWriter(S).then(function(f){return _.append&&f.seek(f.length),_.truncate&&f.truncate(_.truncate),h.write(f,v)}).then(function(){return S})},$.prototype.writeExistingFile=function(S,v,_){var h=this;return function(){if(!0===(0,xe.sp)(h))return h.writeFile(S,v,_,{replace:!0})}()},$.prototype.readAsText=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_))return _.readFile(S,v,"Text")}()},$.prototype.readAsDataURL=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_))return _.readFile(S,v,"DataURL")}()},$.prototype.readAsBinaryString=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_))return _.readFile(S,v,"BinaryString")}()},$.prototype.readAsArrayBuffer=function(S,v){var _=this;return function(){if(!0===(0,xe.sp)(_))return _.readFile(S,v,"ArrayBuffer")}()},$.prototype.moveFile=function(S,v,_,h){var f=this;return function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(h=h||v)){var x=new FileError(5);return x.message="file name cannot start with /",Promise.reject(x)}return f.resolveDirectoryUrl(S).then(function(w){return f.getFile(w,v,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(i){return f.move(w,i,h)})})}}()},$.prototype.copyFile=function(S,v,_,h){var f=this;return function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(h=h||v)){var x=new FileError(5);return x.message="file name cannot start with /",Promise.reject(x)}return f.resolveDirectoryUrl(S).then(function(w){return f.getFile(w,v,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(i){return f.copy(w,i,h)})})}}()},$.prototype.fillErrorMessage=function(S){try{S.message=this.cordovaFileError[S.code]}catch{}},$.prototype.resolveLocalFilesystemUrl=function(S){var v=this;return function(){if(!0===(0,xe.sp)(v))return(0,xe.Ce)(function(_,h){try{window.resolveLocalFileSystemURL(S,function(f){_(f)},function(f){v.fillErrorMessage(f),h(f)})}catch(f){v.fillErrorMessage(f),h(f)}})}()},$.prototype.resolveDirectoryUrl=function(S){var v=this;return function(){if(!0===(0,xe.sp)(v))return v.resolveLocalFilesystemUrl(S).then(function(_){if(_.isDirectory)return _;var h=new FileError(13);return h.message="input is not a directory",Promise.reject(h)})}()},$.prototype.getDirectory=function(S,v,_){var h=this;return function(){if(!0===(0,xe.sp)(h))return new Promise(function(f,x){try{S.getDirectory(v,_,function(w){f(w)},function(w){h.fillErrorMessage(w),x(w)})}catch(w){h.fillErrorMessage(w),x(w)}})}()},$.prototype.getFile=function(S,v,_){var h=this;return function(){if(!0===(0,xe.sp)(h))return new Promise(function(f,x){try{S.getFile(v,_,f,function(w){h.fillErrorMessage(w),x(w)})}catch(w){h.fillErrorMessage(w),x(w)}})}()},$.prototype.readFile=function(S,v,_){var h=this;if(/^\//.test(v)){var f=new FileError(5);return f.message="file-name cannot start with /",Promise.reject(f)}return this.resolveDirectoryUrl(S).then(function(x){return h.getFile(x,v,{create:!1})}).then(function(x){var w=new FileReader;return(0,xe.Ce)(function(i,a){w.onloadend=function(){void 0!==w.result||null!==w.result?i(w.result):a(void 0!==w.error||null!==w.error?w.error:{code:null,message:"READER_ONLOADEND_ERR"})},x.file(function(d){w["readAs"+_].call(w,d)},function(d){a(d)})})})},$.prototype.remove=function(S){var v=this;return new Promise(function(_,h){S.remove(function(){_({success:!0,fileRemoved:S})},function(f){v.fillErrorMessage(f),h(f)})})},$.prototype.move=function(S,v,_){var h=this;return new Promise(function(f,x){S.moveTo(v,_,function(w){f(w)},function(w){h.fillErrorMessage(w),x(w)})})},$.prototype.copy=function(S,v,_){var h=this;return new Promise(function(f,x){S.copyTo(v,_,function(w){f(w)},function(w){h.fillErrorMessage(w),x(w)})})},$.prototype.readEntries=function(S){var v=this;return new Promise(function(_,h){S.readEntries(function(f){_(f)},function(f){v.fillErrorMessage(f),h(f)})})},$.prototype.rimraf=function(S){var v=this;return new Promise(function(_,h){S.removeRecursively(function(){_({success:!0,fileRemoved:S})},function(f){v.fillErrorMessage(f),h(f)})})},$.prototype.createWriter=function(S){var v=this;return new Promise(function(_,h){S.createWriter(function(f){_(f)},function(f){v.fillErrorMessage(f),h(f)})})},$.prototype.write=function(S,v){return v instanceof Blob?this.writeFileInChunks(S,v):new Promise(function(_,h){S.onwriteend=function(f){S.error?h(S.error):_(f)},S.write(v)})},$.prototype.writeFileInChunks=function(S,v){var h=0;function f(){var x=Math.min(1048576,v.size-h),w=v.slice(h,h+x);h+=x,S.write(w)}return(0,xe.Ce)(function(x,w){S.onerror=w,S.onwrite=function(){h<v.size?f():x()},f()})},Object.defineProperty($.prototype,"applicationDirectory",{get:function(){return(0,xe.qE)(this,"applicationDirectory")},set:function(S){(0,xe.QN)(this,"applicationDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"applicationStorageDirectory",{get:function(){return(0,xe.qE)(this,"applicationStorageDirectory")},set:function(S){(0,xe.QN)(this,"applicationStorageDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"dataDirectory",{get:function(){return(0,xe.qE)(this,"dataDirectory")},set:function(S){(0,xe.QN)(this,"dataDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"cacheDirectory",{get:function(){return(0,xe.qE)(this,"cacheDirectory")},set:function(S){(0,xe.QN)(this,"cacheDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"externalApplicationStorageDirectory",{get:function(){return(0,xe.qE)(this,"externalApplicationStorageDirectory")},set:function(S){(0,xe.QN)(this,"externalApplicationStorageDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"externalDataDirectory",{get:function(){return(0,xe.qE)(this,"externalDataDirectory")},set:function(S){(0,xe.QN)(this,"externalDataDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"externalCacheDirectory",{get:function(){return(0,xe.qE)(this,"externalCacheDirectory")},set:function(S){(0,xe.QN)(this,"externalCacheDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"externalRootDirectory",{get:function(){return(0,xe.qE)(this,"externalRootDirectory")},set:function(S){(0,xe.QN)(this,"externalRootDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"tempDirectory",{get:function(){return(0,xe.qE)(this,"tempDirectory")},set:function(S){(0,xe.QN)(this,"tempDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"syncedDataDirectory",{get:function(){return(0,xe.qE)(this,"syncedDataDirectory")},set:function(S){(0,xe.QN)(this,"syncedDataDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"documentsDirectory",{get:function(){return(0,xe.qE)(this,"documentsDirectory")},set:function(S){(0,xe.QN)(this,"documentsDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"sharedDirectory",{get:function(){return(0,xe.qE)(this,"sharedDirectory")},set:function(S){(0,xe.QN)(this,"sharedDirectory",S)},enumerable:!1,configurable:!0}),$.\u0275fac=(()=>{let S;return function(_){return(S||(S=rt.otF($)))(_||$)}})(),$.\u0275prov=rt.wxM({token:$,factory:$.\u0275fac}),$.pluginName="File",$.plugin="cordova-plugin-file",$.pluginRef="cordova.file",$.repo="https://github.com/apache/cordova-plugin-file",$.platforms=["Android","Browser","iOS","macOS","Windows"],$=(0,y.UN)([],$)}(xe.SM)},6928:(pn,jt,ge)=>{"use strict";ge.d(jt,{G8:()=>$,kZ:()=>o});var y=ge(1316),xe=ge(3080),rt=ge(4496),o=function(S){return S.INPUT="input",S.BUTTON="button",S}(o||{}),$=function(S){function v(){return null!==S&&S.apply(this,arguments)||this}return(0,y.ct)(v,S),v.prototype.hasPermission=function(){return(0,xe.AN)(this,"hasPermission",{},arguments)},v.prototype.requestPermission=function(){return(0,xe.AN)(this,"requestPermission",{},arguments)},v.prototype.schedule=function(_){return(0,xe.AN)(this,"schedule",{sync:!0},arguments)},v.prototype.update=function(_){return(0,xe.AN)(this,"update",{sync:!0},arguments)},v.prototype.clear=function(_){return(0,xe.AN)(this,"clear",{},arguments)},v.prototype.clearAll=function(){return(0,xe.AN)(this,"clearAll",{},arguments)},v.prototype.cancel=function(_){return(0,xe.AN)(this,"cancel",{},arguments)},v.prototype.cancelAll=function(){return(0,xe.AN)(this,"cancelAll",{},arguments)},v.prototype.isPresent=function(_){return(0,xe.AN)(this,"isPresent",{},arguments)},v.prototype.isScheduled=function(_){return(0,xe.AN)(this,"isScheduled",{},arguments)},v.prototype.isTriggered=function(_){return(0,xe.AN)(this,"isTriggered",{},arguments)},v.prototype.hasType=function(_,h){return(0,xe.AN)(this,"hasType",{},arguments)},v.prototype.getType=function(_){return(0,xe.AN)(this,"getType",{},arguments)},v.prototype.getIds=function(){return(0,xe.AN)(this,"getIds",{},arguments)},v.prototype.getScheduledIds=function(){return(0,xe.AN)(this,"getScheduledIds",{},arguments)},v.prototype.getTriggeredIds=function(){return(0,xe.AN)(this,"getTriggeredIds",{},arguments)},v.prototype.get=function(_){return(0,xe.AN)(this,"get",{},arguments)},v.prototype.getAll=function(){return(0,xe.AN)(this,"getAll",{},arguments)},v.prototype.getScheduled=function(_){return(0,xe.AN)(this,"getScheduled",{},arguments)},v.prototype.getTriggered=function(_){return(0,xe.AN)(this,"getTriggered",{},arguments)},v.prototype.addActions=function(_,h){return(0,xe.AN)(this,"addActions",{},arguments)},v.prototype.removeActions=function(_){return(0,xe.AN)(this,"removeActions",{},arguments)},v.prototype.hasActions=function(_){return(0,xe.AN)(this,"hasActions",{},arguments)},v.prototype.getDefaults=function(){return(0,xe.AN)(this,"getDefaults",{sync:!0},arguments)},v.prototype.setDefaults=function(_){return(0,xe.AN)(this,"setDefaults",{sync:!0},arguments)},v.prototype.getAllScheduled=function(){return(0,xe.AN)(this,"getAllScheduled",{},arguments)},v.prototype.getAllTriggered=function(){return(0,xe.AN)(this,"getAllTriggered",{},arguments)},v.prototype.on=function(_){return(0,xe.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},v.prototype.fireEvent=function(_,h){return(0,xe.AN)(this,"fireEvent",{sync:!0},arguments)},v.prototype.fireQueuedEvents=function(){return(0,xe.AN)(this,"fireQueuedEvents",{},arguments)},v.\u0275fac=(()=>{let _;return function(f){return(_||(_=rt.otF(v)))(f||v)}})(),v.\u0275prov=rt.wxM({token:v,factory:v.\u0275fac}),v.pluginName="LocalNotifications",v.plugin="cordova-plugin-local-notification",v.pluginRef="cordova.plugins.notification.local",v.repo="https://github.com/katzer/cordova-plugin-local-notifications",v.platforms=["Android","iOS","Windows"],v=(0,y.UN)([],v)}(xe.SM)},9312:(pn,jt,ge)=>{"use strict";ge.d(jt,{G:()=>y});var y=function(xe){return xe.NOT_REQUIRED="NOT_REQUIRED",xe.OBTAINED="OBTAINED",xe.REQUIRED="REQUIRED",xe.UNKNOWN="UNKNOWN",xe}(y||{})},3428:(pn,jt,ge)=>{"use strict";ge.d(jt,{i8:()=>h,iK:()=>S});var y=ge(6400),S=function(f){return f.Loaded="onRewardedVideoAdLoaded",f.FailedToLoad="onRewardedVideoAdFailedToLoad",f.Showed="onRewardedVideoAdShowed",f.FailedToShow="onRewardedVideoAdFailedToShow",f.Dismissed="onRewardedVideoAdDismissed",f.Rewarded="onRewardedVideoAdReward",f}(S||{});ge(9312);const h=(0,y.C_)("AdMob",{web:()=>ge.e(9192).then(ge.bind(ge,9192)).then(f=>new f.AdMobWeb)})},6400:(pn,jt,ge)=>{"use strict";ge.d(jt,{C_:()=>i,Yr:()=>_,io:()=>P,w8:()=>c});var y=ge(1528);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var v=function(k){return k.Unimplemented="UNIMPLEMENTED",k.Unavailable="UNAVAILABLE",k}(v||{});class _ extends Error{constructor(E,I,W){super(E),this.message=E,this.code=I,this.data=W}}const f=k=>{var E,I,W,Y,z;const te=k.CapacitorCustomPlatform||null,J=k.Capacitor||{},q=J.Plugins=J.Plugins||{},ne=k.CapacitorPlatforms,De=(null===(E=null==ne?void 0:ne.currentPlatform)||void 0===E?void 0:E.getPlatform)||(()=>null!==te?te.name:(k=>{var E,I;return null!=k&&k.androidBridge?"android":null!==(I=null===(E=null==k?void 0:k.webkit)||void 0===E?void 0:E.messageHandlers)&&void 0!==I&&I.bridge?"ios":"web"})(k)),L=(null===(I=null==ne?void 0:ne.currentPlatform)||void 0===I?void 0:I.isNativePlatform)||(()=>"web"!==De()),pe=(null===(W=null==ne?void 0:ne.currentPlatform)||void 0===W?void 0:W.isPluginAvailable)||(je=>{const Qe=Oe.get(je);return!!(null!=Qe&&Qe.platforms.has(De())||Fe(je))}),Fe=(null===(Y=null==ne?void 0:ne.currentPlatform)||void 0===Y?void 0:Y.getPluginHeader)||(je=>{var Qe;return null===(Qe=J.PluginHeaders)||void 0===Qe?void 0:Qe.find(Ke=>Ke.name===je)}),Oe=new Map,Be=(null===(z=null==ne?void 0:ne.currentPlatform)||void 0===z?void 0:z.registerPlugin)||((je,Qe={})=>{const Ke=Oe.get(je);if(Ke)return console.warn(`Capacitor plugin "${je}" already registered. Cannot register plugins twice.`),Ke.proxy;const gt=De(),ft=Fe(je);let yt;const Pt=function(){var zt=(0,y.c)(function*(){return!yt&&gt in Qe?yt=yt="function"==typeof Qe[gt]?yield Qe[gt]():Qe[gt]:null!==te&&!yt&&"web"in Qe&&(yt=yt="function"==typeof Qe.web?yield Qe.web():Qe.web),yt});return function(){return zt.apply(this,arguments)}}(),Ft=zt=>{let vt;const Ht=(...wt)=>{const Re=Pt().then(Ge=>{const Te=((zt,vt)=>{var Ht,wt;if(!ft){if(zt)return null===(wt=zt[vt])||void 0===wt?void 0:wt.bind(zt);throw new _(`"${je}" plugin is not implemented on ${gt}`,v.Unimplemented)}{const Re=null==ft?void 0:ft.methods.find(Ge=>vt===Ge.name);if(Re)return"promise"===Re.rtype?Ge=>J.nativePromise(je,vt.toString(),Ge):(Ge,Te)=>J.nativeCallback(je,vt.toString(),Ge,Te);if(zt)return null===(Ht=zt[vt])||void 0===Ht?void 0:Ht.bind(zt)}})(Ge,zt);if(Te){const et=Te(...wt);return vt=null==et?void 0:et.remove,et}throw new _(`"${je}.${zt}()" is not implemented on ${gt}`,v.Unimplemented)});return"addListener"===zt&&(Re.remove=(0,y.c)(function*(){return vt()})),Re};return Ht.toString=()=>`${zt.toString()}() { [capacitor code] }`,Object.defineProperty(Ht,"name",{value:zt,writable:!1,configurable:!1}),Ht},un=Ft("addListener"),sn=Ft("removeListener"),Yt=(zt,vt)=>{const Ht=un({eventName:zt},vt),wt=function(){var Ge=(0,y.c)(function*(){const Te=yield Ht;sn({eventName:zt,callbackId:Te},vt)});return function(){return Ge.apply(this,arguments)}}(),Re=new Promise(Ge=>Ht.then(()=>Ge({remove:wt})));return Re.remove=(0,y.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield wt()}),Re},kt=new Proxy({},{get(zt,vt){switch(vt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ft?Yt:un;case"removeListener":return sn;default:return Ft(vt)}}});return q[je]=kt,Oe.set(je,{name:je,proxy:kt,platforms:new Set([...Object.keys(Qe),...ft?[gt]:[]])}),kt});return J.convertFileSrc||(J.convertFileSrc=je=>je),J.getPlatform=De,J.handleError=je=>k.console.error(je),J.isNativePlatform=L,J.isPluginAvailable=pe,J.pluginMethodNoop=(je,Qe,Ke)=>Promise.reject(`${Ke} does not have an implementation of "${Qe}".`),J.registerPlugin=Be,J.Exception=_,J.DEBUG=!!J.DEBUG,J.isLoggingEnabled=!!J.isLoggingEnabled,J.platform=J.getPlatform(),J.isNative=J.isNativePlatform(),J},w=(k=>k.Capacitor=f(k))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),i=w.registerPlugin;class c{constructor(E){this.listeners={},this.windowListeners={},E&&(console.warn(`Capacitor WebPlugin "${E.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=E)}addListener(E,I){var W=this;this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push(I);const z=this.windowListeners[E];z&&!z.registered&&this.addWindowListener(z);const te=function(){var q=(0,y.c)(function*(){return W.removeListener(E,I)});return function(){return q.apply(this,arguments)}}(),J=Promise.resolve({remove:te});return Object.defineProperty(J,"remove",{value:(q=(0,y.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield te()}),function(){return q.apply(this,arguments)})}),J;var q}removeAllListeners(){var E=this;return(0,y.c)(function*(){E.listeners={};for(const I in E.windowListeners)E.removeWindowListener(E.windowListeners[I]);E.windowListeners={}})()}notifyListeners(E,I){const W=this.listeners[E];W&&W.forEach(Y=>Y(I))}hasListeners(E){return!!this.listeners[E].length}registerWindowListener(E,I){this.windowListeners[I]={registered:!1,windowEventName:E,pluginEventName:I,handler:W=>{this.notifyListeners(I,W)}}}unimplemented(E="not implemented"){return new w.Exception(E,v.Unimplemented)}unavailable(E="not available"){return new w.Exception(E,v.Unavailable)}removeListener(E,I){var W=this;return(0,y.c)(function*(){const Y=W.listeners[E];if(!Y)return;const z=Y.indexOf(I);W.listeners[E].splice(z,1),W.listeners[E].length||W.removeWindowListener(W.windowListeners[E])})()}addWindowListener(E){window.addEventListener(E.windowEventName,E.handler),E.registered=!0}removeWindowListener(E){E&&(window.removeEventListener(E.windowEventName,E.handler),E.registered=!1)}}const l=k=>encodeURIComponent(k).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),m=k=>k.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends c{getCookies(){return(0,y.c)(function*(){const E=document.cookie,I={};return E.split(";").forEach(W=>{if(W.length<=0)return;let[Y,z]=W.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");Y=m(Y).trim(),z=m(z).trim(),I[Y]=z}),I})()}setCookie(E){return(0,y.c)(function*(){try{const I=l(E.key),W=l(E.value),Y=`; expires=${(E.expires||"").replace("expires=","")}`,z=(E.path||"/").replace("path=",""),te=null!=E.url&&E.url.length>0?`domain=${E.url}`:"";document.cookie=`${I}=${W||""}${Y}; path=${z}; ${te};`}catch(I){return Promise.reject(I)}})()}deleteCookie(E){return(0,y.c)(function*(){try{document.cookie=`${E.key}=; Max-Age=0`}catch(I){return Promise.reject(I)}})()}clearCookies(){return(0,y.c)(function*(){try{const E=document.cookie.split(";")||[];for(const I of E)document.cookie=I.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(E){return Promise.reject(E)}})()}clearAllCookies(){var E=this;return(0,y.c)(function*(){try{yield E.clearCookies()}catch(I){return Promise.reject(I)}})()}}i("CapacitorCookies",{web:()=>new p});const M=function(){var k=(0,y.c)(function*(E){return new Promise((I,W)=>{const Y=new FileReader;Y.onload=()=>{const z=Y.result;I(z.indexOf(",")>=0?z.split(",")[1]:z)},Y.onerror=z=>W(z),Y.readAsDataURL(E)})});return function(I){return k.apply(this,arguments)}}(),P=(k,E={})=>{const I=Object.assign({method:k.method||"GET",headers:k.headers},E),Y=((k={})=>{const E=Object.keys(k);return Object.keys(k).map(Y=>Y.toLocaleLowerCase()).reduce((Y,z,te)=>(Y[z]=k[E[te]],Y),{})})(k.headers)["content-type"]||"";if("string"==typeof k.data)I.body=k.data;else if(Y.includes("application/x-www-form-urlencoded")){const z=new URLSearchParams;for(const[te,J]of Object.entries(k.data||{}))z.set(te,J);I.body=z.toString()}else if(Y.includes("multipart/form-data")||k.data instanceof FormData){const z=new FormData;if(k.data instanceof FormData)k.data.forEach((J,q)=>{z.append(q,J)});else for(const J of Object.keys(k.data))z.append(J,k.data[J]);I.body=z;const te=new Headers(I.headers);te.delete("content-type"),I.headers=te}else(Y.includes("application/json")||"object"==typeof k.data)&&(I.body=JSON.stringify(k.data));return I};class j extends c{request(E){return(0,y.c)(function*(){const I=P(E,E.webFetchExtra),W=((k,E=!0)=>k?Object.entries(k).reduce((W,Y)=>{const[z,te]=Y;let J,q;return Array.isArray(te)?(q="",te.forEach(ne=>{J=E?encodeURIComponent(ne):ne,q+=`${z}=${J}&`}),q.slice(0,-1)):(J=E?encodeURIComponent(te):te,q=`${z}=${J}`),`${W}&${q}`},"").substr(1):null)(E.params,E.shouldEncodeUrlParams),Y=W?`${E.url}?${W}`:E.url,z=yield fetch(Y,I),te=z.headers.get("content-type")||"";let q,ne,{responseType:J="text"}=z.ok?E:{};switch(te.includes("application/json")&&(J="json"),J){case"arraybuffer":case"blob":ne=yield z.blob(),q=yield M(ne);break;case"json":q=yield z.json();break;default:q=yield z.text()}const fe={};return z.headers.forEach((De,K)=>{fe[K]=De}),{data:q,headers:fe,status:z.status,url:z.url}})()}get(E){var I=this;return(0,y.c)(function*(){return I.request(Object.assign(Object.assign({},E),{method:"GET"}))})()}post(E){var I=this;return(0,y.c)(function*(){return I.request(Object.assign(Object.assign({},E),{method:"POST"}))})()}put(E){var I=this;return(0,y.c)(function*(){return I.request(Object.assign(Object.assign({},E),{method:"PUT"}))})()}patch(E){var I=this;return(0,y.c)(function*(){return I.request(Object.assign(Object.assign({},E),{method:"PATCH"}))})()}delete(E){var I=this;return(0,y.c)(function*(){return I.request(Object.assign(Object.assign({},E),{method:"DELETE"}))})()}}i("CapacitorHttp",{web:()=>new j})},9248:(pn,jt,ge)=>{"use strict";ge.d(jt,{c:()=>rt,r:()=>f});const rt=(N,P)=>{N.componentOnReady?N.componentOnReady().then(j=>P(j)):f(()=>P(N))},f=N=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(N):"function"==typeof requestAnimationFrame?requestAnimationFrame(N):setTimeout(N)},1896:(pn,jt,ge)=>{"use strict";ge.d(jt,{L:()=>y,a:()=>xe,b:()=>rt,c:()=>_e,d:()=>o,g:()=>N});const y="ionViewWillEnter",xe="ionViewDidEnter",rt="ionViewWillLeave",_e="ionViewDidLeave",o="ionViewWillUnload",N=P=>P.classList.contains("ion-page")?P:P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||P},388:(pn,jt,ge)=>{"use strict";ge.d(jt,{c:()=>d});var y=ge(4829),xe=ge(6384);let rt;const o=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$=c=>(void 0===rt&&(rt=void 0===c.style.animationName&&void 0!==c.style.webkitAnimationName?"-webkit-":""),rt),S=(c,u,l)=>{const m=u.startsWith("animation")?$(c):"";c.style.setProperty(m+u,l)},v=(c,u)=>{const l=u.startsWith("animation")?$(c):"";c.style.removeProperty(l+u)},f=[],a=(c=[],u)=>{if(void 0!==u){const l=Array.isArray(u)?u:[u];return[...c,...l]}return c},d=c=>{let u,l,m,p,b,M,V,J,q,ne,fe,se,pe,F=[],N=[],P=[],j=!1,k={},E=[],I=[],W={},Y=0,z=!1,te=!1,De=!0,K=!1,L=!0,Ce=!1;const Fe=c,We=[],tt=[],Oe=[],ke=[],Be=[],je=[],Qe=[],Ke=[],gt=[],ft=[],yt=[],Pt="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,Jt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Pt,un=()=>yt,vt=(Tt,Pe)=>{const He=Pe.findIndex(Mt=>Mt.c===Tt);He>-1&&Pe.splice(He,1)},wt=(Tt,Pe)=>((null!=Pe&&Pe.oneTimeCallback?tt:We).push({c:Tt,o:Pe}),pe),Ge=()=>{if(Jt)yt.forEach(Tt=>{Tt.cancel()}),yt.length=0;else{const Tt=ke.slice();(0,xe.r)(()=>{Tt.forEach(Pe=>{v(Pe,"animation-name"),v(Pe,"animation-duration"),v(Pe,"animation-timing-function"),v(Pe,"animation-iteration-count"),v(Pe,"animation-delay"),v(Pe,"animation-play-state"),v(Pe,"animation-fill-mode"),v(Pe,"animation-direction")})})}},Te=()=>{je.forEach(Tt=>{null!=Tt&&Tt.parentNode&&Tt.parentNode.removeChild(Tt)}),je.length=0},Ct=()=>void 0!==b?b:V?V.getFill():"both",rn=()=>void 0!==q?q:void 0!==M?M:V?V.getDirection():"normal",ze=()=>z?"linear":void 0!==m?m:V?V.getEasing():"linear",bt=()=>te?0:void 0!==ne?ne:void 0!==l?l:V?V.getDuration():0,Nt=()=>void 0!==p?p:V?V.getIterations():1,Lt=()=>void 0!==fe?fe:void 0!==u?u:V?V.getDelay():0,R=()=>{0!==Y&&(Y--,0===Y&&((()=>{Gn(),gt.forEach(Ot=>Ot()),ft.forEach(Ot=>Ot());const Tt=De?1:0,Pe=E,He=I,Mt=W;ke.forEach(Ot=>{const $t=Ot.classList;Pe.forEach(oe=>$t.add(oe)),He.forEach(oe=>$t.remove(oe));for(const oe in Mt)Mt.hasOwnProperty(oe)&&S(Ot,oe,Mt[oe])}),ne=void 0,q=void 0,fe=void 0,We.forEach(Ot=>Ot.c(Tt,pe)),tt.forEach(Ot=>Ot.c(Tt,pe)),tt.length=0,L=!0,De&&(K=!0),De=!0})(),V&&V.animationFinish()))},U=(Tt=!0)=>{Te();const Pe=(c=>(c.forEach(u=>{for(const l in u)if(u.hasOwnProperty(l)){const m=u[l];if("easing"===l)u["animation-timing-function"]=m,delete u[l];else{const p=o(l);p!==l&&(u[p]=m,delete u[l])}}}),c))(F);ke.forEach(He=>{if(Pe.length>0){const Mt=((c=[])=>c.map(u=>{const l=u.offset,m=[];for(const p in u)u.hasOwnProperty(p)&&"offset"!==p&&m.push(`${p}: ${u[p]};`);return`${100*l}% { ${m.join(" ")} }`}).join(" "))(Pe);se=void 0!==c?c:(c=>{let u=f.indexOf(c);return u<0&&(u=f.push(c)-1),`ion-animation-${u}`})(Mt);const Ot=((c,u,l)=>{var m;const p=(c=>{const u=void 0!==c.getRootNode?c.getRootNode():c;return u.head||u})(l),b=$(l),M=p.querySelector("#"+c);if(M)return M;const F=(null!==(m=l.ownerDocument)&&void 0!==m?m:document).createElement("style");return F.id=c,F.textContent=`@${b}keyframes ${c} { ${u} } @${b}keyframes ${c}-alt { ${u} }`,p.appendChild(F),F})(se,Mt,He);je.push(Ot),S(He,"animation-duration",`${bt()}ms`),S(He,"animation-timing-function",ze()),S(He,"animation-delay",`${Lt()}ms`),S(He,"animation-fill-mode",Ct()),S(He,"animation-direction",rn());const $t=Nt()===1/0?"infinite":Nt().toString();S(He,"animation-iteration-count",$t),S(He,"animation-play-state","paused"),Tt&&S(He,"animation-name",`${Ot.id}-alt`),(0,xe.r)(()=>{S(He,"animation-name",Ot.id||null)})}})},le=(Tt=!0)=>{(()=>{Qe.forEach(Mt=>Mt()),Ke.forEach(Mt=>Mt());const Tt=N,Pe=P,He=k;ke.forEach(Mt=>{const Ot=Mt.classList;Tt.forEach($t=>Ot.add($t)),Pe.forEach($t=>Ot.remove($t));for(const $t in He)He.hasOwnProperty($t)&&S(Mt,$t,He[$t])})})(),F.length>0&&(Jt?(ke.forEach(Tt=>{const Pe=Tt.animate(F,{id:Fe,delay:Lt(),duration:bt(),easing:ze(),iterations:Nt(),fill:Ct(),direction:rn()});Pe.pause(),yt.push(Pe)}),yt.length>0&&(yt[0].onfinish=()=>{R()})):U(Tt)),j=!0},Q=Tt=>{if(Tt=Math.min(Math.max(Tt,0),.9999),Jt)yt.forEach(Pe=>{Pe.currentTime=Pe.effect.getComputedTiming().delay+bt()*Tt,Pe.pause()});else{const Pe=`-${bt()*Tt}ms`;ke.forEach(He=>{F.length>0&&(S(He,"animation-delay",Pe),S(He,"animation-play-state","paused"))})}},ye=Tt=>{yt.forEach(Pe=>{Pe.effect.updateTiming({delay:Lt(),duration:bt(),easing:ze(),iterations:Nt(),fill:Ct(),direction:rn()})}),void 0!==Tt&&Q(Tt)},Me=(Tt=!0,Pe)=>{(0,xe.r)(()=>{ke.forEach(He=>{S(He,"animation-name",se||null),S(He,"animation-duration",`${bt()}ms`),S(He,"animation-timing-function",ze()),S(He,"animation-delay",void 0!==Pe?`-${Pe*bt()}ms`:`${Lt()}ms`),S(He,"animation-fill-mode",Ct()||null),S(He,"animation-direction",rn()||null);const Mt=Nt()===1/0?"infinite":Nt().toString();S(He,"animation-iteration-count",Mt),Tt&&S(He,"animation-name",`${se}-alt`),(0,xe.r)(()=>{S(He,"animation-name",se||null)})})})},qe=(Tt=!1,Pe=!0,He)=>(Tt&&Be.forEach(Mt=>{Mt.update(Tt,Pe,He)}),Jt?ye(He):Me(Pe,He),pe),an=()=>{j&&(Jt?yt.forEach(Tt=>{Tt.pause()}):ke.forEach(Tt=>{S(Tt,"animation-play-state","paused")}),Ce=!0)},zn=()=>{J=void 0,R()},Gn=()=>{J&&clearTimeout(J)},$e=Tt=>new Promise(Pe=>{null!=Tt&&Tt.sync&&(te=!0,wt(()=>te=!1,{oneTimeCallback:!0})),j||le(),K&&(Jt?(Q(0),ye()):Me(),K=!1),L&&(Y=Be.length+1,L=!1);const He=()=>{vt(Mt,tt),Pe()},Mt=()=>{vt(He,Oe),Pe()};wt(Mt,{oneTimeCallback:!0}),((Tt,Pe)=>{Oe.push({c:Tt,o:{oneTimeCallback:!0}})})(He),Be.forEach(Ot=>{Ot.play()}),Jt?(yt.forEach(Tt=>{Tt.play()}),(0===F.length||0===ke.length)&&R()):(()=>{if(Gn(),(0,xe.r)(()=>{ke.forEach(Tt=>{F.length>0&&S(Tt,"animation-play-state","running")})}),0===F.length||0===ke.length)R();else{const Tt=Lt()||0,Pe=bt()||0,He=Nt()||1;isFinite(He)&&(J=setTimeout(zn,Tt+Pe*He+100)),((c,u)=>{let l;const m={passive:!0},b=M=>{c===M.target&&(l&&l(),Gn(),(0,xe.r)(()=>{ke.forEach(Tt=>{v(Tt,"animation-duration"),v(Tt,"animation-delay"),v(Tt,"animation-play-state")}),(0,xe.r)(R)}))};c&&(c.addEventListener("webkitAnimationEnd",b,m),c.addEventListener("animationend",b,m),l=()=>{c.removeEventListener("webkitAnimationEnd",b,m),c.removeEventListener("animationend",b,m)})})(ke[0])}})(),Ce=!1}),Ut=(Tt,Pe)=>{const He=F[0];return void 0===He||void 0!==He.offset&&0!==He.offset?F=[{offset:0,[Tt]:Pe},...F]:He[Tt]=Pe,pe};return pe={parentAnimation:V,elements:ke,childAnimations:Be,id:Fe,animationFinish:R,from:Ut,to:(Tt,Pe)=>{const He=F[F.length-1];return void 0===He||void 0!==He.offset&&1!==He.offset?F=[...F,{offset:1,[Tt]:Pe}]:He[Tt]=Pe,pe},fromTo:(Tt,Pe,He)=>Ut(Tt,Pe).to(Tt,He),parent:Tt=>(V=Tt,pe),play:$e,pause:()=>(Be.forEach(Tt=>{Tt.pause()}),an(),pe),stop:()=>{Be.forEach(Tt=>{Tt.stop()}),j&&(Ge(),j=!1),z=!1,te=!1,L=!0,q=void 0,ne=void 0,fe=void 0,Y=0,K=!1,De=!0,Ce=!1,Oe.forEach(Tt=>Tt.c(0,pe)),Oe.length=0},destroy:Tt=>(Be.forEach(Pe=>{Pe.destroy(Tt)}),(Tt=>{Ge(),Tt&&Te()})(Tt),ke.length=0,Be.length=0,F.length=0,We.length=0,tt.length=0,j=!1,L=!0,pe),keyframes:Tt=>{const Pe=F!==Tt;return F=Tt,Pe&&(Tt=>{Jt?un().forEach(Pe=>{const He=Pe.effect;if(He.setKeyframes)He.setKeyframes(Tt);else{const Mt=new KeyframeEffect(He.target,Tt,He.getTiming());Pe.effect=Mt}}):U()})(F),pe},addAnimation:Tt=>{if(null!=Tt)if(Array.isArray(Tt))for(const Pe of Tt)Pe.parent(pe),Be.push(Pe);else Tt.parent(pe),Be.push(Tt);return pe},addElement:Tt=>{if(null!=Tt)if(1===Tt.nodeType)ke.push(Tt);else if(Tt.length>=0)for(let Pe=0;Pe<Tt.length;Pe++)ke.push(Tt[Pe]);else console.error("Invalid addElement value");return pe},update:qe,fill:Tt=>(b=Tt,qe(!0),pe),direction:Tt=>(M=Tt,qe(!0),pe),iterations:Tt=>(p=Tt,qe(!0),pe),duration:Tt=>(!Jt&&0===Tt&&(Tt=1),l=Tt,qe(!0),pe),easing:Tt=>(m=Tt,qe(!0),pe),delay:Tt=>(u=Tt,qe(!0),pe),getWebAnimations:un,getKeyframes:()=>F,getFill:Ct,getDirection:rn,getDelay:Lt,getIterations:Nt,getEasing:ze,getDuration:bt,afterAddRead:Tt=>(gt.push(Tt),pe),afterAddWrite:Tt=>(ft.push(Tt),pe),afterClearStyles:(Tt=[])=>{for(const Pe of Tt)W[Pe]="";return pe},afterStyles:(Tt={})=>(W=Tt,pe),afterRemoveClass:Tt=>(I=a(I,Tt),pe),afterAddClass:Tt=>(E=a(E,Tt),pe),beforeAddRead:Tt=>(Qe.push(Tt),pe),beforeAddWrite:Tt=>(Ke.push(Tt),pe),beforeClearStyles:(Tt=[])=>{for(const Pe of Tt)k[Pe]="";return pe},beforeStyles:(Tt={})=>(k=Tt,pe),beforeRemoveClass:Tt=>(P=a(P,Tt),pe),beforeAddClass:Tt=>(N=a(N,Tt),pe),onFinish:wt,isRunning:()=>0!==Y&&!Ce,progressStart:(Tt=!1,Pe)=>(Be.forEach(He=>{He.progressStart(Tt,Pe)}),an(),z=Tt,j||le(),qe(!1,!0,Pe),pe),progressStep:Tt=>(Be.forEach(Pe=>{Pe.progressStep(Tt)}),Q(Tt),pe),progressEnd:(Tt,Pe,He)=>(z=!1,Be.forEach(Mt=>{Mt.progressEnd(Tt,Pe,He)}),void 0!==He&&(ne=He),K=!1,De=!0,0===Tt?(q="reverse"===rn()?"normal":"reverse","reverse"===q&&(De=!1),Jt?(qe(),Q(1-Pe)):(fe=(1-Pe)*bt()*-1,qe(!1,!1))):1===Tt&&(Jt?(qe(),Q(Pe)):(fe=Pe*bt()*-1,qe(!1,!1))),void 0!==Tt&&!V&&$e(),pe)}}},9637:(pn,jt,ge)=>{"use strict";ge.d(jt,{E:()=>h,I:()=>S,a:()=>y,s:()=>v});const y=f=>{try{if(f instanceof S)return f.value;if(!_e()||"string"!=typeof f||""===f)return f;if(f.includes("onload="))return"";const x=document.createDocumentFragment(),w=document.createElement("div");x.appendChild(w),w.innerHTML=f,$.forEach(c=>{const u=x.querySelectorAll(c);for(let l=u.length-1;l>=0;l--){const m=u[l];m.parentNode?m.parentNode.removeChild(m):x.removeChild(m);const p=rt(m);for(let b=0;b<p.length;b++)xe(p[b])}});const i=rt(x);for(let c=0;c<i.length;c++)xe(i[c]);const a=document.createElement("div");a.appendChild(x);const d=a.querySelector("div");return null!==d?d.innerHTML:a.innerHTML}catch(x){return console.error(x),""}},xe=f=>{if(f.nodeType&&1!==f.nodeType)return;if(typeof NamedNodeMap<"u"&&!(f.attributes instanceof NamedNodeMap))return void f.remove();for(let w=f.attributes.length-1;w>=0;w--){const i=f.attributes.item(w),a=i.name;if(!o.includes(a.toLowerCase())){f.removeAttribute(a);continue}const d=i.value,c=f[a];(null!=d&&d.toLowerCase().includes("javascript:")||null!=c&&c.toLowerCase().includes("javascript:"))&&f.removeAttribute(a)}const x=rt(f);for(let w=0;w<x.length;w++)xe(x[w])},rt=f=>null!=f.children?f.children:f.childNodes,_e=()=>{var f;const x=window,w=null===(f=null==x?void 0:x.Ionic)||void 0===f?void 0:f.config;return!w||(w.get?w.get("sanitizerEnabled",!0):!0===w.sanitizerEnabled||void 0===w.sanitizerEnabled)},o=["class","id","href","src","name","slot"],$=["script","style","iframe","meta","link","object","embed"];class S{constructor(x){this.value=x}}const v=f=>{const x=window,w=x.Ionic;if(!w||!w.config||"Object"===w.config.constructor.name)return x.Ionic=x.Ionic||{},x.Ionic.config=Object.assign(Object.assign({},x.Ionic.config),f),x.Ionic.config},h=!1},495:(pn,jt,ge)=>{"use strict";ge.d(jt,{C:()=>o,a:()=>rt,d:()=>_e});var y=ge(1528),xe=ge(6384);const rt=function(){var $=(0,y.c)(function*(S,v,_,h,f,x){var w;if(S)return S.attachViewToDom(v,_,f,h);if(!(x||"string"==typeof _||_ instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof _?null===(w=v.ownerDocument)||void 0===w?void 0:w.createElement(_):_;return h&&h.forEach(a=>i.classList.add(a)),f&&Object.assign(i,f),v.appendChild(i),yield new Promise(a=>(0,xe.c)(i,a)),i});return function(v,_,h,f,x,w){return $.apply(this,arguments)}}(),_e=($,S)=>{if(S){if($)return $.removeViewFromDom(S.parentElement,S);S.remove()}return Promise.resolve()},o=()=>{let $,S;return{attachViewToDom:function(){var h=(0,y.c)(function*(f,x,w={},i=[]){var a,d;let c;if($=f,x){const l="string"==typeof x?null===(a=$.ownerDocument)||void 0===a?void 0:a.createElement(x):x;i.forEach(m=>l.classList.add(m)),Object.assign(l,w),$.appendChild(l),c=l,yield new Promise(m=>(0,xe.c)(l,m))}else if($.children.length>0&&("ION-MODAL"===$.tagName||"ION-POPOVER"===$.tagName)&&!(c=$.children[0]).classList.contains("ion-delegate-host")){const m=null===(d=$.ownerDocument)||void 0===d?void 0:d.createElement("div");m.classList.add("ion-delegate-host"),i.forEach(p=>m.classList.add(p)),m.append(...$.children),$.appendChild(m),c=m}const u=document.querySelector("ion-app")||document.body;return S=document.createComment("ionic teleport"),$.parentNode.insertBefore(S,$),u.appendChild($),null!=c?c:$});return function(x,w){return h.apply(this,arguments)}}(),removeViewFromDom:()=>($&&S&&(S.parentNode.insertBefore($,S),S.remove()),Promise.resolve())}}},6560:(pn,jt,ge)=>{"use strict";ge.d(jt,{G:()=>o});class xe{constructor(S,v,_,h,f){this.id=v,this.name=_,this.disableScroll=f,this.priority=1e6*h+v,this.ctrl=S}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const S=this.ctrl.capture(this.name,this.id,this.priority);return S&&this.disableScroll&&this.ctrl.disableScroll(this.id),S}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class rt{constructor(S,v,_,h){this.id=v,this.disable=_,this.disableScroll=h,this.ctrl=S}block(){if(this.ctrl){if(this.disable)for(const S of this.disable)this.ctrl.disableGesture(S,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const S of this.disable)this.ctrl.enableGesture(S,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const _e="backdrop-no-scroll",o=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(S){var v;return new xe(this,this.newID(),S.name,null!==(v=S.priority)&&void 0!==v?v:0,!!S.disableScroll)}createBlocker(S={}){return new rt(this,this.newID(),S.disable,!!S.disableScroll)}start(S,v,_){return this.canStart(S)?(this.requestedStart.set(v,_),!0):(this.requestedStart.delete(v),!1)}capture(S,v,_){if(!this.start(S,v,_))return!1;const h=this.requestedStart;let f=-1e4;if(h.forEach(x=>{f=Math.max(f,x)}),f===_){this.capturedId=v,h.clear();const x=new CustomEvent("ionGestureCaptured",{detail:{gestureName:S}});return document.dispatchEvent(x),!0}return h.delete(v),!1}release(S){this.requestedStart.delete(S),this.capturedId===S&&(this.capturedId=void 0)}disableGesture(S,v){let _=this.disabledGestures.get(S);void 0===_&&(_=new Set,this.disabledGestures.set(S,_)),_.add(v)}enableGesture(S,v){const _=this.disabledGestures.get(S);void 0!==_&&_.delete(v)}disableScroll(S){this.disabledScroll.add(S),1===this.disabledScroll.size&&document.body.classList.add(_e)}enableScroll(S){this.disabledScroll.delete(S),0===this.disabledScroll.size&&document.body.classList.remove(_e)}canStart(S){return!(void 0!==this.capturedId||this.isDisabled(S))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(S){const v=this.disabledGestures.get(S);return!!(v&&v.size>0)}newID(){return this.gestureId++,this.gestureId}}},136:(pn,jt,ge)=>{"use strict";ge.r(jt),ge.d(jt,{MENU_BACK_BUTTON_PRIORITY:()=>_,OVERLAY_BACK_BUTTON_PRIORITY:()=>v,blockHardwareBackButton:()=>$,shoudUseCloseWatcher:()=>o,startHardwareBackButton:()=>S});var y=ge(1528),xe=ge(4829),rt=ge(1780);ge(3716);const o=()=>rt.c.get("experimentalCloseWatcher",!1)&&void 0!==xe.w&&"CloseWatcher"in xe.w,$=()=>{document.addEventListener("backbutton",()=>{})},S=()=>{const h=document;let f=!1;const x=()=>{if(f)return;let w=0,i=[];const a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(u,l){i.push({priority:u,handler:l,id:w++})}}});h.dispatchEvent(a);const d=function(){var u=(0,y.c)(function*(l){try{if(null!=l&&l.handler){const m=l.handler(c);null!=m&&(yield m)}}catch(m){console.error(m)}});return function(m){return u.apply(this,arguments)}}(),c=()=>{if(i.length>0){let u={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(l=>{l.priority>=u.priority&&(u=l)}),f=!0,i=i.filter(l=>l.id!==u.id),d(u).then(()=>f=!1)}};c()};if(o()){let w;const i=()=>{null==w||w.destroy(),w=new xe.w.CloseWatcher,w.onclose=()=>{x(),i()}};i()}else h.addEventListener("backbutton",x)},v=100,_=99},6384:(pn,jt,ge)=>{"use strict";ge.d(jt,{a:()=>v,b:()=>_,c:()=>rt,d:()=>d,e:()=>a,f:()=>i,g:()=>h,h:()=>w,i:()=>S,j:()=>b,k:()=>o,l:()=>c,m:()=>_e,n:()=>x,o:()=>u,p:()=>p,q:()=>M,r:()=>f,s:()=>F,t:()=>y,u:()=>l,v:()=>m});const y=(N,P=0)=>new Promise(j=>{xe(N,P,j)}),xe=(N,P=0,j)=>{let V,k;const E={passive:!0},W=()=>{V&&V()},Y=z=>{(void 0===z||N===z.target)&&(W(),j(z))};return N&&(N.addEventListener("webkitTransitionEnd",Y,E),N.addEventListener("transitionend",Y,E),k=setTimeout(Y,P+500),V=()=>{void 0!==k&&(clearTimeout(k),k=void 0),N.removeEventListener("webkitTransitionEnd",Y,E),N.removeEventListener("transitionend",Y,E)}),W},rt=(N,P)=>{N.componentOnReady?N.componentOnReady().then(j=>P(j)):f(()=>P(N))},_e=N=>void 0!==N.componentOnReady,o=(N,P=[])=>{const j={};return P.forEach(V=>{N.hasAttribute(V)&&(null!==N.getAttribute(V)&&(j[V]=N.getAttribute(V)),N.removeAttribute(V))}),j},$=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],S=(N,P)=>{let j=$;return P&&P.length>0&&(j=j.filter(V=>!P.includes(V))),o(N,j)},v=(N,P,j,V)=>{var k;if(typeof window<"u"){const E=window,I=null===(k=null==E?void 0:E.Ionic)||void 0===k?void 0:k.config;if(I){const W=I.get("_ael");if(W)return W(N,P,j,V);if(I._ael)return I._ael(N,P,j,V)}}return N.addEventListener(P,j,V)},_=(N,P,j,V)=>{var k;if(typeof window<"u"){const E=window,I=null===(k=null==E?void 0:E.Ionic)||void 0===k?void 0:k.config;if(I){const W=I.get("_rel");if(W)return W(N,P,j,V);if(I._rel)return I._rel(N,P,j,V)}}return N.removeEventListener(P,j,V)},h=(N,P=N)=>N.shadowRoot||P,f=N=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(N):"function"==typeof requestAnimationFrame?requestAnimationFrame(N):setTimeout(N),x=N=>!!N.shadowRoot&&!!N.attachShadow,w=N=>{const P=N.closest("ion-item");return P?P.querySelector("ion-label"):null},i=N=>{if(N.focus(),N.classList.contains("ion-focusable")){const P=N.closest("ion-app");P&&P.setFocus([N])}},a=(N,P)=>{let j;const V=N.getAttribute("aria-labelledby"),k=N.id;let E=null!==V&&""!==V.trim()?V:P+"-lbl",I=null!==V&&""!==V.trim()?document.getElementById(V):w(N);return I?(null===V&&(I.id=E),j=I.textContent,I.setAttribute("aria-hidden","true")):""!==k.trim()&&(I=document.querySelector(`label[for="${k}"]`),I&&(""!==I.id?E=I.id:I.id=E=`${k}-lbl`,j=I.textContent)),{label:I,labelId:E,labelText:j}},d=(N,P,j,V,k)=>{if(N||x(P)){let E=P.querySelector("input.aux-input");E||(E=P.ownerDocument.createElement("input"),E.type="hidden",E.classList.add("aux-input"),P.appendChild(E)),E.disabled=k,E.name=j,E.value=V||""}},c=(N,P,j)=>Math.max(N,Math.min(P,j)),u=(N,P)=>{if(!N){const j="ASSERT: "+P;throw console.error(j),new Error(j)}},l=N=>N.timeStamp||Date.now(),m=N=>{if(N){const P=N.changedTouches;if(P&&P.length>0){const j=P[0];return{x:j.clientX,y:j.clientY}}if(void 0!==N.pageX)return{x:N.pageX,y:N.pageY}}return{x:0,y:0}},p=N=>{const P="rtl"===document.dir;switch(N){case"start":return P;case"end":return!P;default:throw new Error(`"${N}" is not a valid value for [side]. Use "start" or "end" instead.`)}},b=(N,P)=>{const j=N._original||N;return{_original:N,emit:M(j.emit.bind(j),P)}},M=(N,P=0)=>{let j;return(...V)=>{clearTimeout(j),j=setTimeout(N,P,...V)}},F=(N,P)=>{if(null!=N||(N={}),null!=P||(P={}),N===P)return!0;const j=Object.keys(N);if(j.length!==Object.keys(P).length)return!1;for(const V of j)if(!(V in P)||N[V]!==P[V])return!1;return!0}},2528:(pn,jt,ge)=>{"use strict";ge.r(jt),ge.d(jt,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>_});var y=ge(6560);const xe=(w,i,a,d)=>{const c=rt(w)?{capture:!!d.capture,passive:!!d.passive}:!!d.capture;let u,l;return w.__zone_symbol__addEventListener?(u="__zone_symbol__addEventListener",l="__zone_symbol__removeEventListener"):(u="addEventListener",l="removeEventListener"),w[u](i,a,c),()=>{w[l](i,a,c)}},rt=w=>{if(void 0===_e)try{const i=Object.defineProperty({},"passive",{get:()=>{_e=!0}});w.addEventListener("optsTest",()=>{},i)}catch{_e=!1}return!!_e};let _e;const S=w=>w instanceof Document?w:w.ownerDocument,_=w=>{let i=!1,a=!1,d=!0,c=!1;const u=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},w),l=u.canStart,m=u.onWillStart,p=u.onStart,b=u.onEnd,M=u.notCaptured,F=u.onMove,N=u.threshold,P=u.passive,j=u.blurOnStart,V={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},k=((w,i,a)=>{const d=a*(Math.PI/180),c="x"===w,u=Math.cos(d),l=i*i;let m=0,p=0,b=!1,M=0;return{start(F,N){m=F,p=N,M=0,b=!0},detect(F,N){if(!b)return!1;const P=F-m,j=N-p,V=P*P+j*j;if(V<l)return!1;const k=Math.sqrt(V),E=(c?P:j)/k;return M=E>u?1:E<-u?-1:0,b=!1,!0},isGesture:()=>0!==M,getDirection:()=>M}})(u.direction,u.threshold,u.maxAngle),E=y.G.createGesture({name:w.gestureName,priority:w.gesturePriority,disableScroll:w.disableScroll}),Y=()=>{i&&(c=!1,F&&F(V))},z=()=>!!E.capture()&&(i=!0,d=!1,V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime,m?m(V).then(J):J(),!0),J=()=>{j&&(()=>{if(typeof document<"u"){const K=document.activeElement;null!=K&&K.blur&&K.blur()}})(),p&&p(V),d=!0},q=()=>{i=!1,a=!1,c=!1,d=!0,E.release()},ne=K=>{const L=i,se=d;if(q(),se){if(h(V,K),L)return void(b&&b(V));M&&M(V)}},fe=((w,i,a,d,c)=>{let u,l,m,p,b,M,F,N=0;const P=te=>{N=Date.now()+2e3,i(te)&&(!l&&a&&(l=xe(w,"touchmove",a,c)),m||(m=xe(te.target,"touchend",V,c)),p||(p=xe(te.target,"touchcancel",V,c)))},j=te=>{N>Date.now()||i(te)&&(!M&&a&&(M=xe(S(w),"mousemove",a,c)),F||(F=xe(S(w),"mouseup",k,c)))},V=te=>{E(),d&&d(te)},k=te=>{I(),d&&d(te)},E=()=>{l&&l(),m&&m(),p&&p(),l=m=p=void 0},I=()=>{M&&M(),F&&F(),M=F=void 0},W=()=>{E(),I()},Y=(te=!0)=>{te?(u||(u=xe(w,"touchstart",P,c)),b||(b=xe(w,"mousedown",j,c))):(u&&u(),b&&b(),u=b=void 0,W())};return{enable:Y,stop:W,destroy:()=>{Y(!1),d=a=i=void 0}}})(u.el,K=>{const L=x(K);return!(a||!d||(f(K,V),V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime=L,V.velocityX=V.velocityY=V.deltaX=V.deltaY=0,V.event=K,l&&!1===l(V))||(E.release(),!E.start()))&&(a=!0,0===N?z():(k.start(V.startX,V.startY),!0))},K=>{i?!c&&d&&(c=!0,h(V,K),requestAnimationFrame(Y)):(h(V,K),k.detect(V.currentX,V.currentY)&&(!k.isGesture()||!z())&&De())},ne,{capture:!1,passive:P}),De=()=>{q(),fe.stop(),M&&M(V)};return{enable(K=!0){K||(i&&ne(void 0),q()),fe.enable(K)},destroy(){E.destroy(),fe.destroy()}}},h=(w,i)=>{if(!i)return;const a=w.currentX,d=w.currentY,c=w.currentTime;f(i,w);const u=w.currentX,l=w.currentY,p=(w.currentTime=x(i))-c;if(p>0&&p<100){const M=(l-d)/p;w.velocityX=(u-a)/p*.7+.3*w.velocityX,w.velocityY=.7*M+.3*w.velocityY}w.deltaX=u-w.startX,w.deltaY=l-w.startY,w.event=i},f=(w,i)=>{let a=0,d=0;if(w){const c=w.changedTouches;if(c&&c.length>0){const u=c[0];a=u.clientX,d=u.clientY}else void 0!==w.pageX&&(a=w.pageX,d=w.pageY)}i.currentX=a,i.currentY=d},x=w=>w.timeStamp||Date.now()},2032:(pn,jt,ge)=>{"use strict";ge.d(jt,{a:()=>xe,b:()=>rt,p:()=>y});const y=(_e,...o)=>console.warn(`[Ionic Warning]: ${_e}`,...o),xe=(_e,...o)=>console.error(`[Ionic Error]: ${_e}`,...o),rt=(_e,...o)=>console.error(`<${_e.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},3716:(pn,jt,ge)=>{"use strict";ge.d(jt,{B:()=>x,H:()=>z,a:()=>On,b:()=>nr,c:()=>se,d:()=>We,e:()=>An,f:()=>Fe,g:()=>pe,h:()=>W,i:()=>Ct,j:()=>w,r:()=>U,w:()=>Tt});var y=ge(1528);let _e,o,$,S=!1,v=!1,_=!1,h=!1,f=!1;const x={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},w=Pe=>{const He=new URL(Pe,an.$resourcesUrl$);return He.origin!==qt.location.origin?He.href:He.pathname},m="s-id",p="sty-id",b="c-id",F="slot-fb{display:contents}slot-fb[hidden]{display:none}",N="http://www.w3.org/1999/xlink",P={},E=Pe=>"object"==(Pe=typeof Pe)||"function"===Pe;function I(Pe){var He,Mt,Ot;return null!==(Ot=null===(Mt=null===(He=Pe.head)||void 0===He?void 0:He.querySelector('meta[name="csp-nonce"]'))||void 0===Mt?void 0:Mt.getAttribute("content"))&&void 0!==Ot?Ot:void 0}const W=(Pe,He,...Mt)=>{let Ot=null,$t=null,oe=null,Ne=!1,ve=!1;const Ve=[],pt=Dn=>{for(let jn=0;jn<Dn.length;jn++)Ot=Dn[jn],Array.isArray(Ot)?pt(Ot):null!=Ot&&"boolean"!=typeof Ot&&((Ne="function"!=typeof Pe&&!E(Ot))&&(Ot=String(Ot)),Ne&&ve?Ve[Ve.length-1].$text$+=Ot:Ve.push(Ne?Y(null,Ot):Ot),ve=Ne)};if(pt(Mt),He){He.key&&($t=He.key),He.name&&(oe=He.name);{const Dn=He.className||He.class;Dn&&(He.class="object"!=typeof Dn?Dn:Object.keys(Dn).filter(jn=>Dn[jn]).join(" "))}}if("function"==typeof Pe)return Pe(null===He?{}:He,Ve,J);const Qt=Y(Pe,null);return Qt.$attrs$=He,Ve.length>0&&(Qt.$children$=Ve),Qt.$key$=$t,Qt.$name$=oe,Qt},Y=(Pe,He)=>({$flags$:0,$tag$:Pe,$text$:He,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),z={},J={forEach:(Pe,He)=>Pe.map(q).forEach(He),map:(Pe,He)=>Pe.map(q).map(He).map(ne)},q=Pe=>({vattrs:Pe.$attrs$,vchildren:Pe.$children$,vkey:Pe.$key$,vname:Pe.$name$,vtag:Pe.$tag$,vtext:Pe.$text$}),ne=Pe=>{if("function"==typeof Pe.vtag){const Mt=Object.assign({},Pe.vattrs);return Pe.vkey&&(Mt.key=Pe.vkey),Pe.vname&&(Mt.name=Pe.vname),W(Pe.vtag,Mt,...Pe.vchildren||[])}const He=Y(Pe.vtag,Pe.vtext);return He.$attrs$=Pe.vattrs,He.$children$=Pe.vchildren,He.$key$=Pe.vkey,He.$name$=Pe.vname,He},De=(Pe,He,Mt,Ot,$t,oe,Ne)=>{let ve,Ve,pt,Qt;if(1===oe.nodeType){for(ve=oe.getAttribute(b),ve&&(Ve=ve.split("."),(Ve[0]===Ne||"0"===Ve[0])&&(pt={$flags$:0,$hostId$:Ve[0],$nodeId$:Ve[1],$depth$:Ve[2],$index$:Ve[3],$tag$:oe.tagName.toLowerCase(),$elm$:oe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},He.push(pt),oe.removeAttribute(b),Pe.$children$||(Pe.$children$=[]),Pe.$children$[pt.$index$]=pt,Pe=pt,Ot&&"0"===pt.$depth$&&(Ot[pt.$index$]=pt.$elm$))),Qt=oe.childNodes.length-1;Qt>=0;Qt--)De(Pe,He,Mt,Ot,$t,oe.childNodes[Qt],Ne);if(oe.shadowRoot)for(Qt=oe.shadowRoot.childNodes.length-1;Qt>=0;Qt--)De(Pe,He,Mt,Ot,$t,oe.shadowRoot.childNodes[Qt],Ne)}else if(8===oe.nodeType)Ve=oe.nodeValue.split("."),(Ve[1]===Ne||"0"===Ve[1])&&(ve=Ve[0],pt={$flags$:0,$hostId$:Ve[1],$nodeId$:Ve[2],$depth$:Ve[3],$index$:Ve[4],$elm$:oe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ve?(pt.$elm$=oe.nextSibling,pt.$elm$&&3===pt.$elm$.nodeType&&(pt.$text$=pt.$elm$.textContent,He.push(pt),oe.remove(),Pe.$children$||(Pe.$children$=[]),Pe.$children$[pt.$index$]=pt,Ot&&"0"===pt.$depth$&&(Ot[pt.$index$]=pt.$elm$))):pt.$hostId$===Ne&&("s"===ve?(pt.$tag$="slot",oe["s-sn"]=Ve[5]?pt.$name$=Ve[5]:"",oe["s-sr"]=!0,Ot&&(pt.$elm$=cn.createElement(pt.$tag$),pt.$name$&&pt.$elm$.setAttribute("name",pt.$name$),oe.parentNode.insertBefore(pt.$elm$,oe),oe.remove(),"0"===pt.$depth$&&(Ot[pt.$index$]=pt.$elm$)),Mt.push(pt),Pe.$children$||(Pe.$children$=[]),Pe.$children$[pt.$index$]=pt):"r"===ve&&(Ot?oe.remove():($t["s-cr"]=oe,oe["s-cn"]=!0))));else if(Pe&&"style"===Pe.$tag$){const Dn=Y(null,oe.textContent);Dn.$elm$=oe,Dn.$index$="0",Pe.$children$=[Dn]}},K=(Pe,He)=>{if(1===Pe.nodeType){let Mt=0;for(;Mt<Pe.childNodes.length;Mt++)K(Pe.childNodes[Mt],He);if(Pe.shadowRoot)for(Mt=0;Mt<Pe.shadowRoot.childNodes.length;Mt++)K(Pe.shadowRoot.childNodes[Mt],He)}else if(8===Pe.nodeType){const Mt=Pe.nodeValue.split(".");"o"===Mt[0]&&(He.set(Mt[1]+"."+Mt[2],Pe),Pe.nodeValue="",Pe["s-en"]=Mt[3])}},se=Pe=>_t.push(Pe),pe=Pe=>R(Pe).$modeName$,Fe=Pe=>R(Pe).$hostElement$,We=(Pe,He,Mt)=>{const Ot=Fe(Pe);return{emit:$t=>tt(Ot,He,{bubbles:!!(4&Mt),composed:!!(2&Mt),cancelable:!!(1&Mt),detail:$t})}},tt=(Pe,He,Mt)=>{const Ot=an.ce(He,Mt);return Pe.dispatchEvent(Ot),Ot},Oe=new WeakMap,ke=(Pe,He,Mt)=>{let Ot=qe.get(Pe);ar&&Mt?(Ot=Ot||new CSSStyleSheet,"string"==typeof Ot?Ot=He:Ot.replaceSync(He)):Ot=He,qe.set(Pe,Ot)},Be=(Pe,He,Mt)=>{var Ot;const $t=Qe(He,Mt),oe=qe.get($t);if(Pe=11===Pe.nodeType?Pe:cn,oe)if("string"==typeof oe){let ve,Ne=Oe.get(Pe=Pe.head||Pe);if(Ne||Oe.set(Pe,Ne=new Set),!Ne.has($t)){if(Pe.host&&(ve=Pe.querySelector(`[${p}="${$t}"]`)))ve.innerHTML=oe;else{ve=cn.createElement("style"),ve.innerHTML=oe;const Ve=null!==(Ot=an.$nonce$)&&void 0!==Ot?Ot:I(cn);null!=Ve&&ve.setAttribute("nonce",Ve),Pe.insertBefore(ve,Pe.querySelector("link"))}4&He.$flags$&&(ve.innerHTML+=F),Ne&&Ne.add($t)}}else Pe.adoptedStyleSheets.includes(oe)||(Pe.adoptedStyleSheets=[...Pe.adoptedStyleSheets,oe]);return $t},Qe=(Pe,He)=>"sc-"+(He&&32&Pe.$flags$?Pe.$tagName$+"-"+He:Pe.$tagName$),Ke=Pe=>Pe.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),gt=(Pe,He,Mt,Ot,$t,oe)=>{if(Mt!==Ot){let Ne=le(Pe,He),ve=He.toLowerCase();if("class"===He){const Ve=Pe.classList,pt=yt(Mt),Qt=yt(Ot);Ve.remove(...pt.filter(Dn=>Dn&&!Qt.includes(Dn))),Ve.add(...Qt.filter(Dn=>Dn&&!pt.includes(Dn)))}else if("style"===He){for(const Ve in Mt)(!Ot||null==Ot[Ve])&&(Ve.includes("-")?Pe.style.removeProperty(Ve):Pe.style[Ve]="");for(const Ve in Ot)(!Mt||Ot[Ve]!==Mt[Ve])&&(Ve.includes("-")?Pe.style.setProperty(Ve,Ot[Ve]):Pe.style[Ve]=Ot[Ve])}else if("key"!==He)if("ref"===He)Ot&&Ot(Pe);else if(Ne||"o"!==He[0]||"n"!==He[1]){const Ve=E(Ot);if((Ne||Ve&&null!==Ot)&&!$t)try{if(Pe.tagName.includes("-"))Pe[He]=Ot;else{const Qt=null==Ot?"":Ot;"list"===He?Ne=!1:(null==Mt||Pe[He]!=Qt)&&(Pe[He]=Qt)}}catch{}let pt=!1;ve!==(ve=ve.replace(/^xlink\:?/,""))&&(He=ve,pt=!0),null==Ot||!1===Ot?(!1!==Ot||""===Pe.getAttribute(He))&&(pt?Pe.removeAttributeNS(N,He):Pe.removeAttribute(He)):(!Ne||4&oe||$t)&&!Ve&&(Ot=!0===Ot?"":Ot,pt?Pe.setAttributeNS(N,He,Ot):Pe.setAttribute(He,Ot))}else if(He="-"===He[2]?He.slice(3):le(qt,ve)?ve.slice(2):ve[2]+He.slice(3),Mt||Ot){const Ve=He.endsWith(Pt);He=He.replace(Jt,""),Mt&&an.rel(Pe,He,Mt,Ve),Ot&&an.ael(Pe,He,Ot,Ve)}}},ft=/\s/,yt=Pe=>Pe?Pe.split(ft):[],Pt="Capture",Jt=new RegExp(Pt+"$"),Ft=(Pe,He,Mt,Ot)=>{const $t=11===He.$elm$.nodeType&&He.$elm$.host?He.$elm$.host:He.$elm$,oe=Pe&&Pe.$attrs$||P,Ne=He.$attrs$||P;for(Ot in oe)Ot in Ne||gt($t,Ot,oe[Ot],void 0,Mt,He.$flags$);for(Ot in Ne)gt($t,Ot,oe[Ot],Ne[Ot],Mt,He.$flags$)},un=(Pe,He,Mt,Ot)=>{const $t=He.$children$[Mt];let Ne,ve,Ve,oe=0;if(S||(_=!0,"slot"===$t.$tag$&&(_e&&Ot.classList.add(_e+"-s"),$t.$flags$|=$t.$children$?2:1)),null!==$t.$text$)Ne=$t.$elm$=cn.createTextNode($t.$text$);else if(1&$t.$flags$)Ne=$t.$elm$=cn.createTextNode("");else{if(h||(h="svg"===$t.$tag$),Ne=$t.$elm$=cn.createElementNS(h?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&$t.$flags$?"slot-fb":$t.$tag$),h&&"foreignObject"===$t.$tag$&&(h=!1),Ft(null,$t,h),(Pe=>null!=Pe)(_e)&&Ne["s-si"]!==_e&&Ne.classList.add(Ne["s-si"]=_e),$t.$children$)for(oe=0;oe<$t.$children$.length;++oe)ve=un(Pe,$t,oe,Ne),ve&&Ne.appendChild(ve);"svg"===$t.$tag$?h=!1:"foreignObject"===Ne.tagName&&(h=!0)}return Ne["s-hn"]=$,3&$t.$flags$&&(Ne["s-sr"]=!0,Ne["s-cr"]=o,Ne["s-sn"]=$t.$name$||"",Ve=Pe&&Pe.$children$&&Pe.$children$[Mt],Ve&&Ve.$tag$===$t.$tag$&&Pe.$elm$&&sn(Pe.$elm$,!1)),Ne},sn=(Pe,He)=>{an.$flags$|=1;const Mt=Pe.childNodes;for(let Ot=Mt.length-1;Ot>=0;Ot--){const $t=Mt[Ot];$t["s-hn"]!==$&&$t["s-ol"]&&(wt($t).insertBefore($t,Ht($t)),$t["s-ol"].remove(),$t["s-ol"]=void 0,$t["s-sh"]=void 0,_=!0),He&&sn($t,He)}an.$flags$&=-2},Yt=(Pe,He,Mt,Ot,$t,oe)=>{let ve,Ne=Pe["s-cr"]&&Pe["s-cr"].parentNode||Pe;for(Ne.shadowRoot&&Ne.tagName===$&&(Ne=Ne.shadowRoot);$t<=oe;++$t)Ot[$t]&&(ve=un(null,Mt,$t,Pe),ve&&(Ot[$t].$elm$=ve,Ne.insertBefore(ve,Ht(He))))},kt=(Pe,He,Mt)=>{for(let Ot=He;Ot<=Mt;++Ot){const $t=Pe[Ot];if($t){const oe=$t.$elm$;Rt($t),oe&&(v=!0,oe["s-ol"]?oe["s-ol"].remove():sn(oe,!0),oe.remove())}}},vt=(Pe,He,Mt=!1)=>Pe.$tag$===He.$tag$&&("slot"===Pe.$tag$?Pe.$name$===He.$name$:!!Mt||Pe.$key$===He.$key$),Ht=Pe=>Pe&&Pe["s-ol"]||Pe,wt=Pe=>(Pe["s-ol"]?Pe["s-ol"]:Pe).parentNode,Re=(Pe,He,Mt=!1)=>{const Ot=He.$elm$=Pe.$elm$,$t=Pe.$children$,oe=He.$children$,Ne=He.$tag$,ve=He.$text$;let Ve;null===ve?(h="svg"===Ne||"foreignObject"!==Ne&&h,"slot"===Ne&&!S||Ft(Pe,He,h),null!==$t&&null!==oe?((Pe,He,Mt,Ot,$t=!1)=>{let Or,Tr,oe=0,Ne=0,ve=0,Ve=0,pt=He.length-1,Qt=He[0],Dn=He[pt],jn=Ot.length-1,qn=Ot[0],Kn=Ot[jn];for(;oe<=pt&&Ne<=jn;)if(null==Qt)Qt=He[++oe];else if(null==Dn)Dn=He[--pt];else if(null==qn)qn=Ot[++Ne];else if(null==Kn)Kn=Ot[--jn];else if(vt(Qt,qn,$t))Re(Qt,qn,$t),Qt=He[++oe],qn=Ot[++Ne];else if(vt(Dn,Kn,$t))Re(Dn,Kn,$t),Dn=He[--pt],Kn=Ot[--jn];else if(vt(Qt,Kn,$t))("slot"===Qt.$tag$||"slot"===Kn.$tag$)&&sn(Qt.$elm$.parentNode,!1),Re(Qt,Kn,$t),Pe.insertBefore(Qt.$elm$,Dn.$elm$.nextSibling),Qt=He[++oe],Kn=Ot[--jn];else if(vt(Dn,qn,$t))("slot"===Qt.$tag$||"slot"===Kn.$tag$)&&sn(Dn.$elm$.parentNode,!1),Re(Dn,qn,$t),Pe.insertBefore(Dn.$elm$,Qt.$elm$),Dn=He[--pt],qn=Ot[++Ne];else{for(ve=-1,Ve=oe;Ve<=pt;++Ve)if(He[Ve]&&null!==He[Ve].$key$&&He[Ve].$key$===qn.$key$){ve=Ve;break}ve>=0?(Tr=He[ve],Tr.$tag$!==qn.$tag$?Or=un(He&&He[Ne],Mt,ve,Pe):(Re(Tr,qn,$t),He[ve]=void 0,Or=Tr.$elm$),qn=Ot[++Ne]):(Or=un(He&&He[Ne],Mt,Ne,Pe),qn=Ot[++Ne]),Or&&wt(Qt.$elm$).insertBefore(Or,Ht(Qt.$elm$))}oe>pt?Yt(Pe,null==Ot[jn+1]?null:Ot[jn+1].$elm$,Mt,Ot,Ne,jn):Ne>jn&&kt(He,oe,pt)})(Ot,$t,He,oe,Mt):null!==oe?(null!==Pe.$text$&&(Ot.textContent=""),Yt(Ot,null,He,oe,0,oe.length-1)):null!==$t&&kt($t,0,$t.length-1),h&&"svg"===Ne&&(h=!1)):(Ve=Ot["s-cr"])?Ve.parentNode.textContent=ve:Pe.$text$!==ve&&(Ot.data=ve)},Ge=Pe=>{const He=Pe.childNodes;for(const Mt of He)if(1===Mt.nodeType){if(Mt["s-sr"]){const Ot=Mt["s-sn"];Mt.hidden=!1;for(const $t of He)if($t!==Mt)if($t["s-hn"]!==Mt["s-hn"]||""!==Ot){if(1===$t.nodeType&&(Ot===$t.getAttribute("slot")||Ot===$t["s-sn"])){Mt.hidden=!0;break}}else if(1===$t.nodeType||3===$t.nodeType&&""!==$t.textContent.trim()){Mt.hidden=!0;break}}Ge(Mt)}},Te=[],et=Pe=>{let He,Mt,Ot;for(const $t of Pe.childNodes){if($t["s-sr"]&&(He=$t["s-cr"])&&He.parentNode){Mt=He.parentNode.childNodes;const oe=$t["s-sn"];for(Ot=Mt.length-1;Ot>=0;Ot--)if(He=Mt[Ot],!He["s-cn"]&&!He["s-nr"]&&He["s-hn"]!==$t["s-hn"])if(Et(He,oe)){let Ne=Te.find(ve=>ve.$nodeToRelocate$===He);v=!0,He["s-sn"]=He["s-sn"]||oe,Ne?(Ne.$nodeToRelocate$["s-sh"]=$t["s-hn"],Ne.$slotRefNode$=$t):(He["s-sh"]=$t["s-hn"],Te.push({$slotRefNode$:$t,$nodeToRelocate$:He})),He["s-sr"]&&Te.map(ve=>{Et(ve.$nodeToRelocate$,He["s-sn"])&&(Ne=Te.find(Ve=>Ve.$nodeToRelocate$===He),Ne&&!ve.$slotRefNode$&&(ve.$slotRefNode$=Ne.$slotRefNode$))})}else Te.some(Ne=>Ne.$nodeToRelocate$===He)||Te.push({$nodeToRelocate$:He})}1===$t.nodeType&&et($t)}},Et=(Pe,He)=>1===Pe.nodeType?null===Pe.getAttribute("slot")&&""===He||Pe.getAttribute("slot")===He:Pe["s-sn"]===He||""===He,Rt=Pe=>{Pe.$attrs$&&Pe.$attrs$.ref&&Pe.$attrs$.ref(null),Pe.$children$&&Pe.$children$.map(Rt)},ln=(Pe,He)=>{He&&!Pe.$onRenderResolve$&&He["s-p"]&&He["s-p"].push(new Promise(Mt=>Pe.$onRenderResolve$=Mt))},_n=(Pe,He)=>{if(Pe.$flags$|=16,!(4&Pe.$flags$))return ln(Pe,Pe.$ancestorComponent$),Tt(()=>wn(Pe,He));Pe.$flags$|=512},wn=(Pe,He)=>{const Ot=Pe.$lazyInstance$;let $t;return He&&(Pe.$flags$|=256,Pe.$queuedListeners$&&(Pe.$queuedListeners$.map(([oe,Ne])=>ze(Ot,oe,Ne)),Pe.$queuedListeners$=void 0),$t=ze(Ot,"componentWillLoad")),$t=Dt($t,()=>ze(Ot,"componentWillRender")),Dt($t,()=>ot(Pe,Ot,He))},Dt=(Pe,He)=>xt(Pe)?Pe.then(He):He(),xt=Pe=>Pe instanceof Promise||Pe&&Pe.then&&"function"==typeof Pe.then,ot=function(){var Pe=(0,y.c)(function*(He,Mt,Ot){var $t;const oe=He.$hostElement$,ve=oe["s-rc"];Ot&&(Pe=>{const He=Pe.$cmpMeta$,Mt=Pe.$hostElement$,Ot=He.$flags$,oe=Be(Mt.shadowRoot?Mt.shadowRoot:Mt.getRootNode(),He,Pe.$modeName$);10&Ot&&(Mt["s-sc"]=oe,Mt.classList.add(oe+"-h"),2&Ot&&Mt.classList.add(oe+"-s"))})(He);Ye(He,Mt,oe,Ot),ve&&(ve.map(pt=>pt()),oe["s-rc"]=void 0);{const pt=null!==($t=oe["s-p"])&&void 0!==$t?$t:[],Qt=()=>ut(He);0===pt.length?Qt():(Promise.all(pt).then(Qt),He.$flags$|=4,pt.length=0)}});return function(Mt,Ot,$t){return Pe.apply(this,arguments)}}(),Ye=(Pe,He,Mt,Ot)=>{try{He=He.render&&He.render(),Pe.$flags$&=-17,Pe.$flags$|=2,((Pe,He,Mt=!1)=>{var Ot,$t,oe,Ne;const ve=Pe.$hostElement$,Ve=Pe.$cmpMeta$,pt=Pe.$vnode$||Y(null,null),Qt=(Pe=>Pe&&Pe.$tag$===z)(He)?He:W(null,null,He);if($=ve.tagName,Ve.$attrsToReflect$&&(Qt.$attrs$=Qt.$attrs$||{},Ve.$attrsToReflect$.map(([Dn,jn])=>Qt.$attrs$[jn]=ve[Dn])),Mt&&Qt.$attrs$)for(const Dn of Object.keys(Qt.$attrs$))ve.hasAttribute(Dn)&&!["key","ref","style","class"].includes(Dn)&&(Qt.$attrs$[Dn]=ve[Dn]);if(Qt.$tag$=null,Qt.$flags$|=4,Pe.$vnode$=Qt,Qt.$elm$=pt.$elm$=ve.shadowRoot||ve,_e=ve["s-sc"],S=0!=(1&Ve.$flags$),o=ve["s-cr"],v=!1,Re(pt,Qt,Mt),an.$flags$|=1,_){et(Qt.$elm$);for(const Dn of Te){const jn=Dn.$nodeToRelocate$;if(!jn["s-ol"]){const qn=cn.createTextNode("");qn["s-nr"]=jn,jn.parentNode.insertBefore(jn["s-ol"]=qn,jn)}}for(const Dn of Te){const jn=Dn.$nodeToRelocate$,qn=Dn.$slotRefNode$;if(qn){const Kn=qn.parentNode;let Or=qn.nextSibling;{let Tr=null===(Ot=jn["s-ol"])||void 0===Ot?void 0:Ot.previousSibling;for(;Tr;){let Rr=null!==($t=Tr["s-nr"])&&void 0!==$t?$t:null;if(Rr&&Rr["s-sn"]===jn["s-sn"]&&Kn===Rr.parentNode&&(Rr=Rr.nextSibling,!Rr||!Rr["s-nr"])){Or=Rr;break}Tr=Tr.previousSibling}}(!Or&&Kn!==jn.parentNode||jn.nextSibling!==Or)&&jn!==Or&&(!jn["s-hn"]&&jn["s-ol"]&&(jn["s-hn"]=jn["s-ol"].parentNode.nodeName),Kn.insertBefore(jn,Or),1===jn.nodeType&&(jn.hidden=null!==(oe=jn["s-ih"])&&void 0!==oe&&oe))}else 1===jn.nodeType&&(Mt&&(jn["s-ih"]=null!==(Ne=jn.hidden)&&void 0!==Ne&&Ne),jn.hidden=!0)}}v&&Ge(Qt.$elm$),an.$flags$&=-2,Te.length=0,o=void 0})(Pe,He,Ot)}catch($t){Q($t,Pe.$hostElement$)}return null},ut=Pe=>{const Mt=Pe.$hostElement$,$t=Pe.$lazyInstance$,oe=Pe.$ancestorComponent$;ze($t,"componentDidRender"),64&Pe.$flags$?ze($t,"componentDidUpdate"):(Pe.$flags$|=64,bt(Mt),ze($t,"componentDidLoad"),Pe.$onReadyResolve$(Mt),oe||rn()),Pe.$onInstanceResolve$(Mt),Pe.$onRenderResolve$&&(Pe.$onRenderResolve$(),Pe.$onRenderResolve$=void 0),512&Pe.$flags$&&fn(()=>_n(Pe,!1)),Pe.$flags$&=-517},Ct=Pe=>{{const He=R(Pe),Mt=He.$hostElement$.isConnected;return Mt&&2==(18&He.$flags$)&&_n(He,!1),Mt}},rn=Pe=>{bt(cn.documentElement),fn(()=>tt(qt,"appload",{detail:{namespace:"ionic"}}))},ze=(Pe,He,Mt)=>{if(Pe&&Pe[He])try{return Pe[He](Mt)}catch(Ot){Q(Ot)}},bt=Pe=>Pe.classList.add("hydrated"),Xt=(Pe,He,Mt)=>{var Ot;const $t=Pe.prototype;if(He.$members$){Pe.watchers&&(He.$watchers$=Pe.watchers);const oe=Object.entries(He.$members$);if(oe.map(([Ne,[ve]])=>{31&ve||2&Mt&&32&ve?Object.defineProperty($t,Ne,{get(){return((Pe,He)=>R(this).$instanceValues$.get(He))(0,Ne)},set(Ve){((Pe,He,Mt,Ot)=>{const $t=R(Pe),oe=$t.$hostElement$,Ne=$t.$instanceValues$.get(He),ve=$t.$flags$,Ve=$t.$lazyInstance$;Mt=((Pe,He)=>null==Pe||E(Pe)?Pe:4&He?"false"!==Pe&&(""===Pe||!!Pe):2&He?parseFloat(Pe):1&He?String(Pe):Pe)(Mt,Ot.$members$[He][0]);const pt=Number.isNaN(Ne)&&Number.isNaN(Mt);if((!(8&ve)||void 0===Ne)&&Mt!==Ne&&!pt&&($t.$instanceValues$.set(He,Mt),Ve)){if(Ot.$watchers$&&128&ve){const Dn=Ot.$watchers$[He];Dn&&Dn.map(jn=>{try{Ve[jn](Mt,Ne,He)}catch(qn){Q(qn,oe)}})}2==(18&ve)&&_n($t,!1)}})(this,Ne,Ve,He)},configurable:!0,enumerable:!0}):1&Mt&&64&ve&&Object.defineProperty($t,Ne,{value(...Ve){var pt;const Qt=R(this);return null===(pt=null==Qt?void 0:Qt.$onInstancePromise$)||void 0===pt?void 0:pt.then(()=>{var Dn;return null===(Dn=Qt.$lazyInstance$)||void 0===Dn?void 0:Dn[Ne](...Ve)})}})}),1&Mt){const Ne=new Map;$t.attributeChangedCallback=function(ve,Ve,pt){an.jmp(()=>{var Qt;const Dn=Ne.get(ve);if(this.hasOwnProperty(Dn))pt=this[Dn],delete this[Dn];else{if($t.hasOwnProperty(Dn)&&"number"==typeof this[Dn]&&this[Dn]==pt)return;if(null==Dn){const jn=R(this),qn=null==jn?void 0:jn.$flags$;if(qn&&!(8&qn)&&128&qn&&pt!==Ve){const Kn=jn.$lazyInstance$,Or=null===(Qt=He.$watchers$)||void 0===Qt?void 0:Qt[ve];null==Or||Or.forEach(Tr=>{null!=Kn[Tr]&&Kn[Tr].call(Kn,pt,Ve,ve)})}return}}this[Dn]=(null!==pt||"boolean"!=typeof this[Dn])&&pt})},Pe.observedAttributes=Array.from(new Set([...Object.keys(null!==(Ot=He.$watchers$)&&void 0!==Ot?Ot:{}),...oe.filter(([ve,Ve])=>15&Ve[0]).map(([ve,Ve])=>{var pt;const Qt=Ve[1]||ve;return Ne.set(Qt,ve),512&Ve[0]&&(null===(pt=He.$attrsToReflect$)||void 0===pt||pt.push([ve,Qt])),Qt})]))}}return Pe},hn=function(){var Pe=(0,y.c)(function*(He,Mt,Ot,$t){let oe;if(!(32&Mt.$flags$)){Mt.$flags$|=32;{if(oe=Me(Ot),oe.then){const pt=()=>{};oe=yield oe,pt()}oe.isProxied||(Ot.$watchers$=oe.watchers,Xt(oe,Ot,2),oe.isProxied=!0);const Ve=()=>{};Mt.$flags$|=8;try{new oe(Mt)}catch(pt){Q(pt)}Mt.$flags$&=-9,Mt.$flags$|=128,Ve(),vn(Mt.$lazyInstance$)}if(oe.style){let Ve=oe.style;"string"!=typeof Ve&&(Ve=Ve[Mt.$modeName$=(Pe=>_t.map(He=>He(Pe)).find(He=>!!He))(He)]);const pt=Qe(Ot,Mt.$modeName$);if(!qe.has(pt)){const Qt=()=>{};ke(pt,Ve,!!(1&Ot.$flags$)),Qt()}}}const Ne=Mt.$ancestorComponent$,ve=()=>_n(Mt,!0);Ne&&Ne["s-rc"]?Ne["s-rc"].push(ve):ve()});return function(Mt,Ot,$t,oe){return Pe.apply(this,arguments)}}(),vn=Pe=>{ze(Pe,"connectedCallback")},Cn=Pe=>{const He=Pe["s-cr"]=cn.createComment("");He["s-cn"]=!0,Pe.insertBefore(He,Pe.firstChild)},Sn=Pe=>{ze(Pe,"disconnectedCallback")},tr=function(){var Pe=(0,y.c)(function*(He){if(!(1&an.$flags$)){const Mt=R(He);Mt.$rmListeners$&&(Mt.$rmListeners$.map(Ot=>Ot()),Mt.$rmListeners$=void 0),null!=Mt&&Mt.$lazyInstance$?Sn(Mt.$lazyInstance$):null!=Mt&&Mt.$onReadyPromise$&&Mt.$onReadyPromise$.then(()=>Sn(Mt.$lazyInstance$))}});return function(Mt){return Pe.apply(this,arguments)}}(),nr=(Pe,He={})=>{var Mt;const $t=[],oe=He.exclude||[],Ne=qt.customElements,ve=cn.head,Ve=ve.querySelector("meta[charset]"),pt=cn.createElement("style"),Qt=[],Dn=cn.querySelectorAll(`[${p}]`);let jn,qn=!0,Kn=0;for(Object.assign(an,He),an.$resourcesUrl$=new URL(He.resourcesUrl||"./",cn.baseURI).href,an.$flags$|=2;Kn<Dn.length;Kn++)ke(Dn[Kn].getAttribute(p),Ke(Dn[Kn].innerHTML),!0);let Or=!1;if(Pe.map(Tr=>{Tr[1].map(Rr=>{var Bo;const Br={$flags$:Rr[0],$tagName$:Rr[1],$members$:Rr[2],$listeners$:Rr[3]};4&Br.$flags$&&(Or=!0),Br.$members$=Rr[2],Br.$listeners$=Rr[3],Br.$attrsToReflect$=[],Br.$watchers$=null!==(Bo=Rr[4])&&void 0!==Bo?Bo:{};const pr=Br.$tagName$,Tn=class extends HTMLElement{constructor(Fn){super(Fn),H(Fn=this,Br),1&Br.$flags$&&Fn.attachShadow({mode:"open",delegatesFocus:!!(16&Br.$flags$)})}connectedCallback(){jn&&(clearTimeout(jn),jn=null),qn?Qt.push(this):an.jmp(()=>(Pe=>{if(!(1&an.$flags$)){const He=R(Pe),Mt=He.$cmpMeta$,Ot=()=>{};if(1&He.$flags$)Wn(Pe,He,Mt.$listeners$),null!=He&&He.$lazyInstance$?vn(He.$lazyInstance$):null!=He&&He.$onReadyPromise$&&He.$onReadyPromise$.then(()=>vn(He.$lazyInstance$));else{let $t;if(He.$flags$|=1,$t=Pe.getAttribute(m),$t){if(1&Mt.$flags$){const oe=Be(Pe.shadowRoot,Mt,Pe.getAttribute("s-mode"));Pe.classList.remove(oe+"-h",oe+"-s")}((Pe,He,Mt,Ot)=>{const oe=Pe.shadowRoot,Ne=[],Ve=oe?[]:null,pt=Ot.$vnode$=Y(He,null);an.$orgLocNodes$||K(cn.body,an.$orgLocNodes$=new Map),Pe[m]=Mt,Pe.removeAttribute(m),De(pt,Ne,[],Ve,Pe,Pe,Mt),Ne.map(Qt=>{const Dn=Qt.$hostId$+"."+Qt.$nodeId$,jn=an.$orgLocNodes$.get(Dn),qn=Qt.$elm$;jn&&zn&&""===jn["s-en"]&&jn.parentNode.insertBefore(qn,jn.nextSibling),oe||(qn["s-hn"]=He,jn&&(qn["s-ol"]=jn,qn["s-ol"]["s-nr"]=qn)),an.$orgLocNodes$.delete(Dn)}),oe&&Ve.map(Qt=>{Qt&&oe.appendChild(Qt)})})(Pe,Mt.$tagName$,$t,He)}$t||12&Mt.$flags$&&Cn(Pe);{let oe=Pe;for(;oe=oe.parentNode||oe.host;)if(1===oe.nodeType&&oe.hasAttribute("s-id")&&oe["s-p"]||oe["s-p"]){ln(He,He.$ancestorComponent$=oe);break}}Mt.$members$&&Object.entries(Mt.$members$).map(([oe,[Ne]])=>{if(31&Ne&&Pe.hasOwnProperty(oe)){const ve=Pe[oe];delete Pe[oe],Pe[oe]=ve}}),hn(Pe,He,Mt)}Ot()}})(this))}disconnectedCallback(){an.jmp(()=>tr(this))}componentOnReady(){return R(this).$onReadyPromise$}};Br.$lazyBundleId$=Tr[0],!oe.includes(pr)&&!Ne.get(pr)&&($t.push(pr),Ne.define(pr,Xt(Tn,Br,1)))})}),$t.length>0&&(Or&&(pt.textContent+=F),pt.textContent+=$t+"{visibility:hidden}.hydrated{visibility:inherit}",pt.innerHTML.length)){pt.setAttribute("data-styles","");const Tr=null!==(Mt=an.$nonce$)&&void 0!==Mt?Mt:I(cn);null!=Tr&&pt.setAttribute("nonce",Tr),ve.insertBefore(pt,Ve?Ve.nextSibling:ve.firstChild)}qn=!1,Qt.length?Qt.map(Tr=>Tr.connectedCallback()):an.jmp(()=>jn=setTimeout(rn,30))},Wn=(Pe,He,Mt,Ot)=>{Mt&&Mt.map(([$t,oe,Ne])=>{const ve=ee(Pe,$t),Ve=Nn(He,Ne),pt=ie($t);an.ael(ve,oe,Ve,pt),(He.$rmListeners$=He.$rmListeners$||[]).push(()=>an.rel(ve,oe,Ve,pt))})},Nn=(Pe,He)=>Mt=>{try{256&Pe.$flags$?Pe.$lazyInstance$[He](Mt):(Pe.$queuedListeners$=Pe.$queuedListeners$||[]).push([He,Mt])}catch(Ot){Q(Ot)}},ee=(Pe,He)=>4&He?cn:8&He?qt:16&He?cn.body:Pe,ie=Pe=>Gn?{passive:0!=(1&Pe),capture:0!=(2&Pe)}:0!=(2&Pe),D=new WeakMap,R=Pe=>D.get(Pe),U=(Pe,He)=>D.set(He.$lazyInstance$=Pe,He),H=(Pe,He)=>{const Mt={$flags$:0,$hostElement$:Pe,$cmpMeta$:He,$instanceValues$:new Map};return Mt.$onInstancePromise$=new Promise(Ot=>Mt.$onInstanceResolve$=Ot),Mt.$onReadyPromise$=new Promise(Ot=>Mt.$onReadyResolve$=Ot),Pe["s-p"]=[],Pe["s-rc"]=[],Wn(Pe,Mt,He.$listeners$),D.set(Pe,Mt)},le=(Pe,He)=>He in Pe,Q=(Pe,He)=>(0,console.error)(Pe,He),ye=new Map,Me=(Pe,He,Mt)=>{const Ot=Pe.$tagName$.replace(/-/g,"_"),$t=Pe.$lazyBundleId$,oe=ye.get($t);return oe?oe[Ot]:ge(1480)(`./${$t}.entry.js`).then(Ne=>(ye.set($t,Ne),Ne[Ot]),Q)},qe=new Map,_t=[],qt=typeof window<"u"?window:{},cn=qt.document||{head:{}},an={$flags$:0,$resourcesUrl$:"",jmp:Pe=>Pe(),raf:Pe=>requestAnimationFrame(Pe),ael:(Pe,He,Mt,Ot)=>Pe.addEventListener(He,Mt,Ot),rel:(Pe,He,Mt,Ot)=>Pe.removeEventListener(He,Mt,Ot),ce:(Pe,He)=>new CustomEvent(Pe,He)},On=Pe=>{Object.assign(an,Pe)},zn=!0,Gn=(()=>{let Pe=!1;try{cn.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Pe=!0}}))}catch{}return Pe})(),ar=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),at=[],ct=[],$e=(Pe,He)=>Mt=>{Pe.push(Mt),f||(f=!0,He&&4&an.$flags$?fn(Ut):an.raf(Ut))},lt=Pe=>{for(let He=0;He<Pe.length;He++)try{Pe[He](performance.now())}catch(Mt){Q(Mt)}Pe.length=0},Ut=()=>{lt(at),lt(ct),(f=at.length>0)&&an.raf(Ut)},fn=Pe=>Promise.resolve(void 0).then(Pe),An=$e(at,!1),Tt=$e(ct,!0)},148:(pn,jt,ge)=>{"use strict";ge.d(jt,{m:()=>w});var y=ge(1528),xe=ge(4829),rt=ge(136),_e=ge(2032),o=ge(6384),$=ge(1780),S=ge(388);const v=i=>(0,S.c)().duration(i?400:300),_=i=>{let a,d;const c=i.width+8,u=(0,S.c)(),l=(0,S.c)();i.isEndSide?(a=c+"px",d="0px"):(a=-c+"px",d="0px"),u.addElement(i.menuInnerEl).fromTo("transform",`translateX(${a})`,`translateX(${d})`);const p="ios"===(0,$.b)(i),b=p?.2:.25;return l.addElement(i.backdropEl).fromTo("opacity",.01,b),v(p).addAnimation([u,l])},h=i=>{let a,d;const c=(0,$.b)(i),u=i.width;i.isEndSide?(a=-u+"px",d=u+"px"):(a=u+"px",d=-u+"px");const l=(0,S.c)().addElement(i.menuInnerEl).fromTo("transform",`translateX(${d})`,"translateX(0px)"),m=(0,S.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`),p=(0,S.c)().addElement(i.backdropEl).fromTo("opacity",.01,.32);return v("ios"===c).addAnimation([l,m,p])},f=i=>{const a=(0,$.b)(i),d=i.width*(i.isEndSide?-1:1)+"px",c=(0,S.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${d})`);return v("ios"===a).addAnimation(c)},w=(()=>{const i=new Map,a=[],d=function(){var q=(0,y.c)(function*(ne){const fe=yield M(ne,!0);return!!fe&&fe.open()});return function(fe){return q.apply(this,arguments)}}(),c=function(){var q=(0,y.c)(function*(ne){const fe=yield void 0!==ne?M(ne,!0):F();return void 0!==fe&&fe.close()});return function(fe){return q.apply(this,arguments)}}(),u=function(){var q=(0,y.c)(function*(ne){const fe=yield M(ne,!0);return!!fe&&fe.toggle()});return function(fe){return q.apply(this,arguments)}}(),l=function(){var q=(0,y.c)(function*(ne,fe){const De=yield M(fe);return De&&(De.disabled=!ne),De});return function(fe,De){return q.apply(this,arguments)}}(),m=function(){var q=(0,y.c)(function*(ne,fe){const De=yield M(fe);return De&&(De.swipeGesture=ne),De});return function(fe,De){return q.apply(this,arguments)}}(),p=function(){var q=(0,y.c)(function*(ne){if(null!=ne){const fe=yield M(ne);return void 0!==fe&&fe.isOpen()}return void 0!==(yield F())});return function(fe){return q.apply(this,arguments)}}(),b=function(){var q=(0,y.c)(function*(ne){const fe=yield M(ne);return!!fe&&!fe.disabled});return function(fe){return q.apply(this,arguments)}}(),M=function(){var q=(0,y.c)(function*(ne,fe=!1){if(yield J(),"start"===ne||"end"===ne){const K=a.filter(se=>se.side===ne&&!se.disabled);if(K.length>=1)return K.length>1&&fe&&(0,_e.p)(`menuController queried for a menu on the "${ne}" side, but ${K.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,K.map(se=>se.el)),K[0].el;const L=a.filter(se=>se.side===ne);if(L.length>=1)return L.length>1&&fe&&(0,_e.p)(`menuController queried for a menu on the "${ne}" side, but ${L.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,L.map(se=>se.el)),L[0].el}else if(null!=ne)return te(K=>K.menuId===ne);return te(K=>!K.disabled)||(a.length>0?a[0].el:void 0)});return function(fe){return q.apply(this,arguments)}}(),F=function(){var q=(0,y.c)(function*(){return yield J(),W()});return function(){return q.apply(this,arguments)}}(),N=function(){var q=(0,y.c)(function*(){return yield J(),Y()});return function(){return q.apply(this,arguments)}}(),P=function(){var q=(0,y.c)(function*(){return yield J(),z()});return function(){return q.apply(this,arguments)}}(),j=(q,ne)=>{i.set(q,ne)},E=function(){var q=(0,y.c)(function*(ne,fe,De){if(z())return!1;if(fe){const K=yield F();K&&ne.el!==K&&(yield K.setOpen(!1,!1))}return ne._setOpen(fe,De)});return function(fe,De,K){return q.apply(this,arguments)}}(),W=()=>te(q=>q._isOpen),Y=()=>a.map(q=>q.el),z=()=>a.some(q=>q.isAnimating),te=q=>{const ne=a.find(q);if(void 0!==ne)return ne.el},J=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(q=>new Promise(ne=>(0,o.c)(q,ne))));return j("reveal",f),j("push",h),j("overlay",_),null==xe.d||xe.d.addEventListener("ionBackButton",q=>{const ne=W();ne&&q.detail.register(rt.MENU_BACK_BUTTON_PRIORITY,()=>ne.close())}),{registerAnimation:j,get:M,getMenus:N,getOpen:F,isEnabled:b,swipeGesture:m,isAnimating:P,isOpen:p,enable:l,toggle:u,close:c,open:d,_getOpenSync:W,_createAnimation:(q,ne)=>{const fe=i.get(q);if(!fe)throw new Error("animation not registered");return fe(ne)},_register:q=>{a.indexOf(q)<0&&a.push(q)},_unregister:q=>{const ne=a.indexOf(q);ne>-1&&a.splice(ne,1)},_setOpen:E}})()},4829:(pn,jt,ge)=>{"use strict";ge.d(jt,{d:()=>xe,w:()=>y});const y=typeof window<"u"?window:void 0,xe=typeof document<"u"?document:void 0},968:(pn,jt,ge)=>{"use strict";ge.d(jt,{b:()=>$,c:()=>S,d:()=>v,e:()=>N,g:()=>V,l:()=>M,s:()=>P,t:()=>f,w:()=>F});var y=ge(1528),xe=ge(3716),rt=ge(6384);const $="ionViewWillLeave",S="ionViewDidLeave",v="ionViewWillUnload",f=k=>new Promise((E,I)=>{(0,xe.w)(()=>{x(k),w(k).then(W=>{W.animation&&W.animation.destroy(),i(k),E(W)},W=>{i(k),I(W)})})}),x=k=>{const E=k.enteringEl,I=k.leavingEl;j(E,I,k.direction),k.showGoBack?E.classList.add("can-go-back"):E.classList.remove("can-go-back"),P(E,!1),E.style.setProperty("pointer-events","none"),I&&(P(I,!1),I.style.setProperty("pointer-events","none"))},w=function(){var k=(0,y.c)(function*(E){const I=yield a(E);return I&&xe.B.isBrowser?d(I,E):c(E)});return function(I){return k.apply(this,arguments)}}(),i=k=>{const E=k.enteringEl,I=k.leavingEl;E.classList.remove("ion-page-invisible"),E.style.removeProperty("pointer-events"),void 0!==I&&(I.classList.remove("ion-page-invisible"),I.style.removeProperty("pointer-events"))},a=function(){var k=(0,y.c)(function*(E){return E.leavingEl&&E.animated&&0!==E.duration?E.animationBuilder?E.animationBuilder:"ios"===E.mode?(yield Promise.resolve().then(ge.bind(ge,3760))).iosTransitionAnimation:(yield Promise.resolve().then(ge.bind(ge,2976))).mdTransitionAnimation:void 0});return function(I){return k.apply(this,arguments)}}(),d=function(){var k=(0,y.c)(function*(E,I){yield u(I,!0);const W=E(I.baseEl,I);p(I.enteringEl,I.leavingEl);const Y=yield m(W,I);return I.progressCallback&&I.progressCallback(void 0),Y&&b(I.enteringEl,I.leavingEl),{hasCompleted:Y,animation:W}});return function(I,W){return k.apply(this,arguments)}}(),c=function(){var k=(0,y.c)(function*(E){const I=E.enteringEl,W=E.leavingEl;return yield u(E,!1),p(I,W),b(I,W),{hasCompleted:!0}});return function(I){return k.apply(this,arguments)}}(),u=function(){var k=(0,y.c)(function*(E,I){(void 0!==E.deepWait?E.deepWait:I)&&(yield Promise.all([N(E.enteringEl),N(E.leavingEl)])),yield l(E.viewIsReady,E.enteringEl)});return function(I,W){return k.apply(this,arguments)}}(),l=function(){var k=(0,y.c)(function*(E,I){E&&(yield E(I))});return function(I,W){return k.apply(this,arguments)}}(),m=(k,E)=>{const I=E.progressCallback,W=new Promise(Y=>{k.onFinish(z=>Y(1===z))});return I?(k.progressStart(!0),I(k)):k.play(),W},p=(k,E)=>{M(E,$),M(k,"ionViewWillEnter")},b=(k,E)=>{M(k,"ionViewDidEnter"),M(E,S)},M=(k,E)=>{if(k){const I=new CustomEvent(E,{bubbles:!1,cancelable:!1});k.dispatchEvent(I)}},F=()=>new Promise(k=>(0,rt.r)(()=>(0,rt.r)(()=>k()))),N=function(){var k=(0,y.c)(function*(E){const I=E;if(I){if(null!=I.componentOnReady){if(null!=(yield I.componentOnReady()))return}else if(null!=I.__registerHost)return void(yield new Promise(Y=>(0,rt.r)(Y)));yield Promise.all(Array.from(I.children).map(N))}});return function(I){return k.apply(this,arguments)}}(),P=(k,E)=>{E?(k.setAttribute("aria-hidden","true"),k.classList.add("ion-page-hidden")):(k.hidden=!1,k.removeAttribute("aria-hidden"),k.classList.remove("ion-page-hidden"))},j=(k,E,I)=>{void 0!==k&&(k.style.zIndex="back"===I?"99":"101"),void 0!==E&&(E.style.zIndex="100")},V=k=>k.classList.contains("ion-page")?k:k.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||k},4708:(pn,jt,ge)=>{"use strict";ge.d(jt,{AF:()=>S.I,KQ:()=>_.l,MZ:()=>_e.mdTransitionAnimation,W4:()=>_.a,cp:()=>S.s,kT:()=>_.m,oz:()=>_.c,uw:()=>rt.iosTransitionAnimation}),ge(388),ge(968);var rt=ge(3760),_e=ge(2976),S=(ge(2528),ge(1780),ge(9637)),_=(ge(148),ge(5820));ge(4829),ge(3716),ge(6560),ge(136)},1780:(pn,jt,ge)=>{"use strict";ge.d(jt,{a:()=>f,b:()=>Y,c:()=>rt,i:()=>z});var y=ge(3716);class xe{constructor(){this.m=new Map}reset(J){this.m=new Map(Object.entries(J))}get(J,q){const ne=this.m.get(J);return void 0!==ne?ne:q}getBoolean(J,q=!1){const ne=this.m.get(J);return void 0===ne?q:"string"==typeof ne?"true"===ne:!!ne}getNumber(J,q){const ne=parseFloat(this.m.get(J));return isNaN(ne)?void 0!==q?q:NaN:ne}set(J,q){this.m.set(J,q)}}const rt=new xe,v="ionic:",_="ionic-persist-config",f=(te,J)=>("string"==typeof te&&(J=te,te=void 0),(te=>x(te))(te).includes(J)),x=(te=window)=>{if(typeof te>"u")return[];te.Ionic=te.Ionic||{};let J=te.Ionic.platforms;return null==J&&(J=te.Ionic.platforms=w(te),J.forEach(q=>te.document.documentElement.classList.add(`plt-${q}`))),J},w=te=>{const J=rt.get("platform");return Object.keys(I).filter(q=>{const ne=null==J?void 0:J[q];return"function"==typeof ne?ne(te):I[q](te)})},a=te=>!!(k(te,/iPad/i)||k(te,/Macintosh/i)&&b(te)),u=te=>k(te,/android|sink/i),b=te=>E(te,"(any-pointer:coarse)"),F=te=>N(te)||P(te),N=te=>!!(te.cordova||te.phonegap||te.PhoneGap),P=te=>{const J=te.Capacitor;return!(null==J||!J.isNative)},k=(te,J)=>J.test(te.navigator.userAgent),E=(te,J)=>{var q;return null===(q=te.matchMedia)||void 0===q?void 0:q.call(te,J).matches},I={ipad:a,iphone:te=>k(te,/iPhone/i),ios:te=>k(te,/iPhone|iPod/i)||a(te),android:u,phablet:te=>{const J=te.innerWidth,q=te.innerHeight,ne=Math.min(J,q),fe=Math.max(J,q);return ne>390&&ne<520&&fe>620&&fe<800},tablet:te=>{const J=te.innerWidth,q=te.innerHeight,ne=Math.min(J,q),fe=Math.max(J,q);return a(te)||(te=>u(te)&&!k(te,/mobile/i))(te)||ne>460&&ne<820&&fe>780&&fe<1400},cordova:N,capacitor:P,electron:te=>k(te,/electron/i),pwa:te=>{var J;return!!(null!==(J=te.matchMedia)&&void 0!==J&&J.call(te,"(display-mode: standalone)").matches||te.navigator.standalone)},mobile:b,mobileweb:te=>b(te)&&!F(te),desktop:te=>!b(te),hybrid:F};let W;const Y=te=>te&&(0,y.g)(te)||W,z=(te={})=>{if(typeof window>"u")return;const J=window.document,q=window,ne=q.Ionic=q.Ionic||{},fe={};te._ael&&(fe.ael=te._ael),te._rel&&(fe.rel=te._rel),te._ce&&(fe.ce=te._ce),(0,y.a)(fe);const De=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(te=>{try{const J=te.sessionStorage.getItem(_);return null!==J?JSON.parse(J):{}}catch{return{}}})(q)),{persistConfig:!1}),ne.config),(te=>{const J={};return te.location.search.slice(1).split("&").map(q=>q.split("=")).map(([q,ne])=>[decodeURIComponent(q),decodeURIComponent(ne)]).filter(([q])=>((te,J)=>te.substr(0,J.length)===J)(q,v)).map(([q,ne])=>[q.slice(6),ne]).forEach(([q,ne])=>{J[q]=ne}),J})(q)),te);rt.reset(De),rt.getBoolean("persistConfig")&&((te,J)=>{try{te.sessionStorage.setItem(_,JSON.stringify(J))}catch{return}})(q,De),x(q),ne.config=rt,ne.mode=W=rt.get("mode",J.documentElement.getAttribute("mode")||(f(q,"ios")?"ios":"md")),rt.set("mode",W),J.documentElement.setAttribute("mode",W),J.documentElement.classList.add(W),rt.getBoolean("_testing")&&rt.set("animated",!1);const K=se=>{var pe;return null===(pe=se.tagName)||void 0===pe?void 0:pe.startsWith("ION-")},L=se=>["ios","md"].includes(se);(0,y.c)(se=>{for(;se;){const pe=se.mode||se.getAttribute("mode");if(pe){if(L(pe))return pe;K(se)&&console.warn('Invalid ionic mode: "'+pe+'", expected: "ios" or "md"')}se=se.parentElement}return W})}},3760:(pn,jt,ge)=>{"use strict";ge.r(jt),ge.d(jt,{iosTransitionAnimation:()=>w,shadow:()=>S});var y=ge(388),xe=ge(968);ge(4829),ge(3716);const $=a=>document.querySelector(`${a}.ion-cloned-element`),S=a=>a.shadowRoot||a,v=a=>{const d="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs"),c="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=d){const u=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=u?u.querySelector(c):null}return a.querySelector(c)},_=(a,d)=>{const c="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs");let u=[];if(null!=c){const l=c.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=l&&(u=l.querySelectorAll("ion-buttons"))}else u=a.querySelectorAll("ion-buttons");for(const l of u){const m=l.closest("ion-header"),p=m&&!m.classList.contains("header-collapse-condense-inactive"),b=l.querySelector("ion-back-button"),M=l.classList.contains("buttons-collapse");if(null!==b&&("start"===l.slot||""===l.slot)&&(M&&p&&d||!M))return b}return null},f=(a,d,c,u,l,m,p,b,M)=>{var F,N;const P=d?`calc(100% - ${l.right+4}px)`:l.left-4+"px",j=d?"right":"left",V=d?"left":"right",k=d?"right":"left",E=(null===(F=m.textContent)||void 0===F?void 0:F.trim())===(null===(N=b.textContent)||void 0===N?void 0:N.trim()),W=(M.height-i)/p.height,Y=E?`scale(${M.width/p.width}, ${W})`:`scale(${W})`,z="scale(1)",J=S(u).querySelector("ion-icon").getBoundingClientRect(),q=d?J.width/2-(J.right-l.right)+"px":l.left-J.width/2+"px",ne=d?`-${window.innerWidth-l.right}px`:`${l.left}px`,fe=`${M.top}px`,De=`${l.top}px`,se=c?[{offset:0,transform:`translate3d(${ne}, ${De}, 0)`},{offset:1,transform:`translate3d(${q}, ${fe}, 0)`}]:[{offset:0,transform:`translate3d(${q}, ${fe}, 0)`},{offset:1,transform:`translate3d(${ne}, ${De}, 0)`}],Fe=c?[{offset:0,opacity:1,transform:z},{offset:1,opacity:0,transform:Y}]:[{offset:0,opacity:0,transform:Y},{offset:1,opacity:1,transform:z}],Oe=c?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ke=(0,y.c)(),Be=(0,y.c)(),je=(0,y.c)(),Qe=$("ion-back-button"),Ke=S(Qe).querySelector(".button-text"),gt=S(Qe).querySelector("ion-icon");Qe.text=u.text,Qe.mode=u.mode,Qe.icon=u.icon,Qe.color=u.color,Qe.disabled=u.disabled,Qe.style.setProperty("display","block"),Qe.style.setProperty("position","fixed"),Be.addElement(gt),ke.addElement(Ke),je.addElement(Qe),je.beforeStyles({position:"absolute",top:"0px",[k]:"0px"}).keyframes(se),ke.beforeStyles({"transform-origin":`${j} top`}).beforeAddWrite(()=>{u.style.setProperty("display","none"),Qe.style.setProperty(j,P)}).afterAddWrite(()=>{u.style.setProperty("display",""),Qe.style.setProperty("display","none"),Qe.style.removeProperty(j)}).keyframes(Fe),Be.beforeStyles({"transform-origin":`${V} center`}).keyframes(Oe),a.addAnimation([ke,Be,je])},x=(a,d,c,u,l,m,p,b)=>{var M,F;const N=d?"right":"left",P=d?`calc(100% - ${l.right}px)`:`${l.left}px`,V=`${l.top}px`,E=d?`-${window.innerWidth-b.right-8}px`:b.x-8+"px",W=b.y-2+"px",Y=(null===(M=p.textContent)||void 0===M?void 0:M.trim())===(null===(F=u.textContent)||void 0===F?void 0:F.trim()),te=b.height/(m.height-i),J="scale(1)",q=Y?`scale(${b.width/m.width}, ${te})`:`scale(${te})`,De=c?[{offset:0,opacity:0,transform:`translate3d(${E}, ${W}, 0) ${q}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${V}, 0) ${J}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${V}, 0) ${J}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${E}, ${W}, 0) ${q}`}],K=$("ion-title"),L=(0,y.c)();K.innerText=u.innerText,K.size=u.size,K.color=u.color,L.addElement(K),L.beforeStyles({"transform-origin":`${N} top`,height:`${l.height}px`,display:"",position:"relative",[N]:P}).beforeAddWrite(()=>{u.style.setProperty("opacity","0")}).afterAddWrite(()=>{u.style.setProperty("opacity",""),K.style.setProperty("display","none")}).keyframes(De),a.addAnimation(L)},w=(a,d)=>{var c;try{const u="cubic-bezier(0.32,0.72,0,1)",l="opacity",m="transform",p="0%",M="rtl"===a.ownerDocument.dir,F=M?"-99.5%":"99.5%",N=M?"33%":"-33%",P=d.enteringEl,j=d.leavingEl,V="back"===d.direction,k=P.querySelector(":scope > ion-content"),E=P.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),I=P.querySelectorAll(":scope > ion-header > ion-toolbar"),W=(0,y.c)(),Y=(0,y.c)();if(W.addElement(P).duration((null!==(c=d.duration)&&void 0!==c?c:0)||540).easing(d.easing||u).fill("both").beforeRemoveClass("ion-page-invisible"),j&&null!=a){const q=(0,y.c)();q.addElement(a),W.addAnimation(q)}if(k||0!==I.length||0!==E.length?(Y.addElement(k),Y.addElement(E)):Y.addElement(P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),W.addAnimation(Y),V?Y.beforeClearStyles([l]).fromTo("transform",`translateX(${N})`,`translateX(${p})`).fromTo(l,.8,1):Y.beforeClearStyles([l]).fromTo("transform",`translateX(${F})`,`translateX(${p})`),k){const q=S(k).querySelector(".transition-effect");if(q){const ne=q.querySelector(".transition-cover"),fe=q.querySelector(".transition-shadow"),De=(0,y.c)(),K=(0,y.c)(),L=(0,y.c)();De.addElement(q).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),K.addElement(ne).beforeClearStyles([l]).fromTo(l,0,.1),L.addElement(fe).beforeClearStyles([l]).fromTo(l,.03,.7),De.addAnimation([K,L]),Y.addAnimation([De])}}const z=P.querySelector("ion-header.header-collapse-condense"),{forward:te,backward:J}=((a,d,c,u,l)=>{const m=_(u,c),p=v(l),b=v(u),M=_(l,c),F=null!==m&&null!==p&&!c,N=null!==b&&null!==M&&c;if(F){const P=p.getBoundingClientRect(),j=m.getBoundingClientRect(),V=S(m).querySelector(".button-text"),k=V.getBoundingClientRect(),I=S(p).querySelector(".toolbar-title").getBoundingClientRect();x(a,d,c,p,P,I,V,k),f(a,d,c,m,j,V,k,p,I)}else if(N){const P=b.getBoundingClientRect(),j=M.getBoundingClientRect(),V=S(M).querySelector(".button-text"),k=V.getBoundingClientRect(),I=S(b).querySelector(".toolbar-title").getBoundingClientRect();x(a,d,c,b,P,I,V,k),f(a,d,c,M,j,V,k,b,I)}return{forward:F,backward:N}})(W,M,V,P,j);if(I.forEach(q=>{const ne=(0,y.c)();ne.addElement(q),W.addAnimation(ne);const fe=(0,y.c)();fe.addElement(q.querySelector("ion-title"));const De=(0,y.c)(),K=Array.from(q.querySelectorAll("ion-buttons,[menuToggle]")),L=q.closest("ion-header"),se=null==L?void 0:L.classList.contains("header-collapse-condense-inactive");let pe;pe=K.filter(V?Oe=>{const ke=Oe.classList.contains("buttons-collapse");return ke&&!se||!ke}:Oe=>!Oe.classList.contains("buttons-collapse")),De.addElement(pe);const Ce=(0,y.c)();Ce.addElement(q.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Fe=(0,y.c)();Fe.addElement(S(q).querySelector(".toolbar-background"));const We=(0,y.c)(),tt=q.querySelector("ion-back-button");if(tt&&We.addElement(tt),ne.addAnimation([fe,De,Ce,Fe,We]),De.fromTo(l,.01,1),Ce.fromTo(l,.01,1),V)se||fe.fromTo("transform",`translateX(${N})`,`translateX(${p})`).fromTo(l,.01,1),Ce.fromTo("transform",`translateX(${N})`,`translateX(${p})`),We.fromTo(l,.01,1);else if(z||fe.fromTo("transform",`translateX(${F})`,`translateX(${p})`).fromTo(l,.01,1),Ce.fromTo("transform",`translateX(${F})`,`translateX(${p})`),Fe.beforeClearStyles([l,"transform"]),(null==L?void 0:L.translucent)?Fe.fromTo("transform",M?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Fe.fromTo(l,.01,"var(--opacity)"),te||We.fromTo(l,.01,1),tt&&!te){const ke=(0,y.c)();ke.addElement(S(tt).querySelector(".button-text")).fromTo("transform",M?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ne.addAnimation(ke)}}),j){const q=(0,y.c)(),ne=j.querySelector(":scope > ion-content"),fe=j.querySelectorAll(":scope > ion-header > ion-toolbar"),De=j.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ne||0!==fe.length||0!==De.length?(q.addElement(ne),q.addElement(De)):q.addElement(j.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),W.addAnimation(q),V){q.beforeClearStyles([l]).fromTo("transform",`translateX(${p})`,M?"translateX(-100%)":"translateX(100%)");const K=(0,xe.g)(j);W.afterAddWrite(()=>{"normal"===W.getDirection()&&K.style.setProperty("display","none")})}else q.fromTo("transform",`translateX(${p})`,`translateX(${N})`).fromTo(l,1,.8);if(ne){const K=S(ne).querySelector(".transition-effect");if(K){const L=K.querySelector(".transition-cover"),se=K.querySelector(".transition-shadow"),pe=(0,y.c)(),Ce=(0,y.c)(),Fe=(0,y.c)();pe.addElement(K).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ce.addElement(L).beforeClearStyles([l]).fromTo(l,.1,0),Fe.addElement(se).beforeClearStyles([l]).fromTo(l,.7,.03),pe.addAnimation([Ce,Fe]),q.addAnimation([pe])}}fe.forEach(K=>{const L=(0,y.c)();L.addElement(K);const se=(0,y.c)();se.addElement(K.querySelector("ion-title"));const pe=(0,y.c)(),Ce=K.querySelectorAll("ion-buttons,[menuToggle]"),Fe=K.closest("ion-header"),We=null==Fe?void 0:Fe.classList.contains("header-collapse-condense-inactive"),tt=Array.from(Ce).filter(Ke=>{const gt=Ke.classList.contains("buttons-collapse");return gt&&!We||!gt});pe.addElement(tt);const Oe=(0,y.c)(),ke=K.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ke.length>0&&Oe.addElement(ke);const Be=(0,y.c)();Be.addElement(S(K).querySelector(".toolbar-background"));const je=(0,y.c)(),Qe=K.querySelector("ion-back-button");if(Qe&&je.addElement(Qe),L.addAnimation([se,pe,Oe,je,Be]),W.addAnimation(L),je.fromTo(l,.99,0),pe.fromTo(l,.99,0),Oe.fromTo(l,.99,0),V){if(We||se.fromTo("transform",`translateX(${p})`,M?"translateX(-100%)":"translateX(100%)").fromTo(l,.99,0),Oe.fromTo("transform",`translateX(${p})`,M?"translateX(-100%)":"translateX(100%)"),Be.beforeClearStyles([l,"transform"]),(null==Fe?void 0:Fe.translucent)?Be.fromTo("transform","translateX(0px)",M?"translateX(-100%)":"translateX(100%)"):Be.fromTo(l,"var(--opacity)",0),Qe&&!J){const gt=(0,y.c)();gt.addElement(S(Qe).querySelector(".button-text")).fromTo("transform",`translateX(${p})`,`translateX(${(M?-124:124)+"px"})`),L.addAnimation(gt)}}else We||se.fromTo("transform",`translateX(${p})`,`translateX(${N})`).fromTo(l,.99,0).afterClearStyles([m,l]),Oe.fromTo("transform",`translateX(${p})`,`translateX(${N})`).afterClearStyles([m,l]),je.afterClearStyles([l]),se.afterClearStyles([l]),pe.afterClearStyles([l])})}return W}catch(u){throw u}},i=10},2976:(pn,jt,ge)=>{"use strict";ge.r(jt),ge.d(jt,{mdTransitionAnimation:()=>o});var y=ge(388),xe=ge(968);ge(4829),ge(3716);const o=($,S)=>{var v,_,h;const f="40px",w="back"===S.direction,a=S.leavingEl,d=(0,xe.g)(S.enteringEl),c=d.querySelector("ion-toolbar"),u=(0,y.c)();if(u.addElement(d).fill("both").beforeRemoveClass("ion-page-invisible"),w?u.duration((null!==(v=S.duration)&&void 0!==v?v:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):u.duration((null!==(_=S.duration)&&void 0!==_?_:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${f})`,"translateY(0px)").fromTo("opacity",.01,1),c){const l=(0,y.c)();l.addElement(c),u.addAnimation(l)}if(a&&w){u.duration((null!==(h=S.duration)&&void 0!==h?h:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const l=(0,y.c)();l.addElement((0,xe.g)(a)).onFinish(m=>{1===m&&l.elements.length>0&&l.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${f})`).fromTo("opacity",1,0),u.addAnimation(l)}return u}},5820:(pn,jt,ge)=>{"use strict";ge.d(jt,{B:()=>pe,G:()=>Ce,O:()=>Fe,a:()=>x,b:()=>w,c:()=>c,d:()=>We,e:()=>tt,f:()=>z,g:()=>J,h:()=>fe,i:()=>K,j:()=>l,k:()=>m,l:()=>i,m:()=>a,n:()=>F,o:()=>W,s:()=>se});var y=ge(1528),xe=ge(4829),rt=ge(136),_e=ge(1780),o=ge(495),$=ge(6384),S=ge(2032);let v=0,_=0;const h=new WeakMap,f=Oe=>({create:ke=>p(Oe,ke),dismiss:(ke,Be,je)=>k(document,ke,Be,Oe,je),getTop:()=>(0,y.c)(function*(){return W(document,Oe)})()}),x=f("ion-alert"),w=f("ion-action-sheet"),i=f("ion-loading"),a=f("ion-modal"),c=f("ion-popover"),l=Oe=>{typeof document<"u"&&V(document);const ke=v++;Oe.overlayIndex=ke},m=Oe=>(Oe.hasAttribute("id")||(Oe.id="ion-overlay-"+ ++_),Oe.id),p=(Oe,ke)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Oe).then(()=>{const Be=document.createElement(Oe);return Be.classList.add("overlay-hidden"),Object.assign(Be,Object.assign(Object.assign({},ke),{hasController:!0})),q(document).appendChild(Be),new Promise(je=>(0,$.c)(Be,je))}):Promise.resolve(),b='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',F=(Oe,ke)=>{const Be=Oe.querySelector(b);P(Be,ke)},N=(Oe,ke)=>{const Be=Array.from(Oe.querySelectorAll(b));P(Be.length>0?Be[Be.length-1]:null,ke)},P=(Oe,ke)=>{let Be=Oe;const je=null==Oe?void 0:Oe.shadowRoot;je&&(Be=je.querySelector(b)||Oe),Be?(0,$.f)(Be):ke.focus()},V=Oe=>{0===v&&(v=1,Oe.addEventListener("focus",ke=>{((Oe,ke)=>{const Be=W(ke,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),je=Oe.target;Be&&je&&!Be.classList.contains("ion-disable-focus-trap")&&(Be.shadowRoot?(()=>{if(Be.contains(je))Be.lastFocus=je;else if("ION-TOAST"===je.tagName)P(Be.lastFocus,Be);else{const gt=Be.lastFocus;F(Be,Be),gt===ke.activeElement&&N(Be,Be),Be.lastFocus=ke.activeElement}})():(()=>{if(Be===je)Be.lastFocus=void 0;else if("ION-TOAST"===je.tagName)P(Be.lastFocus,Be);else{const gt=(0,$.g)(Be);if(!gt.contains(je))return;const ft=gt.querySelector(".ion-overlay-wrapper");if(!ft)return;if(ft.contains(je)||je===gt.querySelector("ion-backdrop"))Be.lastFocus=je;else{const yt=Be.lastFocus;F(ft,Be),yt===ke.activeElement&&N(ft,Be),Be.lastFocus=ke.activeElement}}})())})(ke,Oe)},!0),Oe.addEventListener("ionBackButton",ke=>{const Be=W(Oe);null!=Be&&Be.backdropDismiss&&ke.detail.register(rt.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Be.dismiss(void 0,pe)})}),(0,rt.shoudUseCloseWatcher)()||Oe.addEventListener("keydown",ke=>{if("Escape"===ke.key){const Be=W(Oe);null!=Be&&Be.backdropDismiss&&Be.dismiss(void 0,pe)}}))},k=(Oe,ke,Be,je,Qe)=>{const Ke=W(Oe,je,Qe);return Ke?Ke.dismiss(ke,Be):Promise.reject("overlay does not exist")},I=(Oe,ke)=>((Oe,ke)=>(void 0===ke&&(ke="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Oe.querySelectorAll(ke)).filter(Be=>Be.overlayIndex>0)))(Oe,ke).filter(Be=>!(Oe=>Oe.classList.contains("overlay-hidden"))(Be)),W=(Oe,ke,Be)=>{const je=I(Oe,ke);return void 0===Be?je[je.length-1]:je.find(Qe=>Qe.id===Be)},Y=(Oe=!1)=>{const Be=q(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Be&&(Oe?Be.setAttribute("aria-hidden","true"):Be.removeAttribute("aria-hidden"))},z=function(){var Oe=(0,y.c)(function*(ke,Be,je,Qe,Ke){var gt,ft;if(ke.presented)return;Y(!0),void 0!==xe.d&&I(xe.d).forEach(un=>un.setAttribute("aria-hidden","true")),ke.presented=!0,ke.willPresent.emit(),null===(gt=ke.willPresentShorthand)||void 0===gt||gt.emit();const yt=(0,_e.b)(ke),Pt=ke.enterAnimation?ke.enterAnimation:_e.c.get(Be,"ios"===yt?je:Qe);(yield ne(ke,Pt,ke.el,Ke))&&(ke.didPresent.emit(),null===(ft=ke.didPresentShorthand)||void 0===ft||ft.emit()),"ION-TOAST"!==ke.el.tagName&&te(ke.el),ke.keyboardClose&&(null===document.activeElement||!ke.el.contains(document.activeElement))&&ke.el.focus(),ke.el.removeAttribute("aria-hidden")});return function(Be,je,Qe,Ke,gt){return Oe.apply(this,arguments)}}(),te=function(){var Oe=(0,y.c)(function*(ke){let Be=document.activeElement;if(!Be)return;const je=null==Be?void 0:Be.shadowRoot;je&&(Be=je.querySelector(b)||Be),yield ke.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Be.focus()});return function(Be){return Oe.apply(this,arguments)}}(),J=function(){var Oe=(0,y.c)(function*(ke,Be,je,Qe,Ke,gt,ft){var yt,Pt,Jt;if(!ke.presented)return!1;void 0!==xe.d&&1===I(xe.d).length&&Y(!1),ke.presented=!1;try{ke.el.style.setProperty("pointer-events","none"),ke.willDismiss.emit({data:Be,role:je}),null===(yt=ke.willDismissShorthand)||void 0===yt||yt.emit({data:Be,role:je});const Ft=(0,_e.b)(ke),un=ke.leaveAnimation?ke.leaveAnimation:_e.c.get(Qe,"ios"===Ft?Ke:gt);je!==Ce&&(yield ne(ke,un,ke.el,ft)),ke.didDismiss.emit({data:Be,role:je}),null===(Pt=ke.didDismissShorthand)||void 0===Pt||Pt.emit({data:Be,role:je}),(h.get(ke)||[]).forEach(Yt=>Yt.destroy()),h.delete(ke),ke.el.classList.add("overlay-hidden"),ke.el.style.removeProperty("pointer-events"),void 0!==ke.el.lastFocus&&(ke.el.lastFocus=void 0)}catch(Ft){console.error(Ft)}return ke.el.remove(),void 0!==xe.d&&(null===(Jt=W(xe.d))||void 0===Jt||Jt.removeAttribute("aria-hidden")),!0});return function(Be,je,Qe,Ke,gt,ft,yt){return Oe.apply(this,arguments)}}(),q=Oe=>Oe.querySelector("ion-app")||Oe.body,ne=function(){var Oe=(0,y.c)(function*(ke,Be,je,Qe){je.classList.remove("overlay-hidden");const gt=Be(ke.el,Qe);(!ke.animated||!_e.c.getBoolean("animated",!0))&&gt.duration(0),ke.keyboardClose&&gt.beforeAddWrite(()=>{const yt=je.ownerDocument.activeElement;null!=yt&&yt.matches("input,ion-input, ion-textarea")&&yt.blur()});const ft=h.get(ke)||[];return h.set(ke,[...ft,gt]),yield gt.play(),!0});return function(Be,je,Qe,Ke){return Oe.apply(this,arguments)}}(),fe=(Oe,ke)=>{let Be;const je=new Promise(Qe=>Be=Qe);return De(Oe,ke,Qe=>{Be(Qe.detail)}),je},De=(Oe,ke,Be)=>{const je=Qe=>{(0,$.b)(Oe,ke,je),Be(Qe)};(0,$.a)(Oe,ke,je)},K=Oe=>"cancel"===Oe||Oe===pe,L=Oe=>Oe(),se=(Oe,ke)=>{if("function"==typeof Oe)return _e.c.get("_zoneGate",L)(()=>{try{return Oe(ke)}catch(je){throw je}})},pe="backdrop",Ce="gesture",Fe=39,We=Oe=>{let Be,ke=!1;const je=(0,o.C)(),Qe=(ft=!1)=>{if(Be&&!ft)return{delegate:Be,inline:ke};const{el:yt,hasController:Pt,delegate:Jt}=Oe;return ke=null!==yt.parentNode&&!Pt,Be=ke?Jt||je:Jt,{inline:ke,delegate:Be}};return{attachViewToDom:function(){var ft=(0,y.c)(function*(yt){const{delegate:Pt}=Qe(!0);if(Pt)return yield Pt.attachViewToDom(Oe.el,yt);const{hasController:Jt}=Oe;if(Jt&&void 0!==yt)throw new Error("framework delegate is missing");return null});return function(Pt){return ft.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:ft}=Qe();ft&&void 0!==Oe.el&&ft.removeViewFromDom(Oe.el.parentElement,Oe.el)}}},tt=()=>{let Oe;const ke=()=>{Oe&&(Oe(),Oe=void 0)};return{addClickListener:(je,Qe)=>{ke();const Ke=void 0!==Qe?document.getElementById(Qe):null;Ke?Oe=((ft,yt)=>{const Pt=()=>{yt.present()};return ft.addEventListener("click",Pt),()=>{ft.removeEventListener("click",Pt)}})(Ke,je):(0,S.p)(`A trigger element with the ID "${Qe}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,je)},removeClickListener:ke}}},8637:(pn,jt,ge)=>{"use strict";ge.d(jt,{H:()=>u,b:()=>Jt,c:()=>b,f:()=>Oe,g:()=>p,h:()=>d,p:()=>_n,r:()=>Ht});var y=ge(1528);let rt,_e,o=!1,$=!1;const h={},i=ze=>"object"==(ze=typeof ze)||"function"===ze;function a(ze){var bt,Nt,Lt;return null!==(Lt=null===(Nt=null===(bt=ze.head)||void 0===bt?void 0:bt.querySelector('meta[name="csp-nonce"]'))||void 0===Nt?void 0:Nt.getAttribute("content"))&&void 0!==Lt?Lt:void 0}const d=(ze,bt,...Nt)=>{let Lt=null,Xt=!1,hn=!1;const vn=[],En=Sn=>{for(let tr=0;tr<Sn.length;tr++)Lt=Sn[tr],Array.isArray(Lt)?En(Lt):null!=Lt&&"boolean"!=typeof Lt&&((Xt="function"!=typeof ze&&!i(Lt))&&(Lt=String(Lt)),Xt&&hn?vn[vn.length-1].$text$+=Lt:vn.push(Xt?c(null,Lt):Lt),hn=Xt)};if(En(Nt),bt){const Sn=bt.className||bt.class;Sn&&(bt.class="object"!=typeof Sn?Sn:Object.keys(Sn).filter(tr=>Sn[tr]).join(" "))}const Cn=c(ze,null);return Cn.$attrs$=bt,vn.length>0&&(Cn.$children$=vn),Cn},c=(ze,bt)=>({$flags$:0,$tag$:ze,$text$:bt,$elm$:null,$children$:null,$attrs$:null}),u={},p=ze=>vt(ze).$hostElement$,b=(ze,bt,Nt)=>{const Lt=p(ze);return{emit:Xt=>M(Lt,bt,{bubbles:!!(4&Nt),composed:!!(2&Nt),cancelable:!!(1&Nt),detail:Xt})}},M=(ze,bt,Nt)=>{const Lt=ln.ce(bt,Nt);return ze.dispatchEvent(Lt),Lt},F=new WeakMap,V=(ze,bt)=>"sc-"+ze.$tagName$,k=(ze,bt,Nt,Lt,Xt,hn)=>{if(Nt!==Lt){let vn=Re(ze,bt),En=bt.toLowerCase();if("class"===bt){const Cn=ze.classList,Sn=I(Nt),tr=I(Lt);Cn.remove(...Sn.filter(nr=>nr&&!tr.includes(nr))),Cn.add(...tr.filter(nr=>nr&&!Sn.includes(nr)))}else if("style"===bt){for(const Cn in Nt)(!Lt||null==Lt[Cn])&&(Cn.includes("-")?ze.style.removeProperty(Cn):ze.style[Cn]="");for(const Cn in Lt)(!Nt||Lt[Cn]!==Nt[Cn])&&(Cn.includes("-")?ze.style.setProperty(Cn,Lt[Cn]):ze.style[Cn]=Lt[Cn])}else if("ref"===bt)Lt&&Lt(ze);else if(vn||"o"!==bt[0]||"n"!==bt[1]){const Cn=i(Lt);if((vn||Cn&&null!==Lt)&&!Xt)try{if(ze.tagName.includes("-"))ze[bt]=Lt;else{const Sn=null==Lt?"":Lt;"list"===bt?vn=!1:(null==Nt||ze[bt]!=Sn)&&(ze[bt]=Sn)}}catch{}null==Lt||!1===Lt?(!1!==Lt||""===ze.getAttribute(bt))&&ze.removeAttribute(bt):(!vn||4&hn||Xt)&&!Cn&&ze.setAttribute(bt,Lt=!0===Lt?"":Lt)}else bt="-"===bt[2]?bt.slice(3):Re(Rt,En)?En.slice(2):En[2]+bt.slice(3),Nt&&ln.rel(ze,bt,Nt,!1),Lt&&ln.ael(ze,bt,Lt,!1)}},E=/\s/,I=ze=>ze?ze.split(E):[],W=(ze,bt,Nt,Lt)=>{const Xt=11===bt.$elm$.nodeType&&bt.$elm$.host?bt.$elm$.host:bt.$elm$,hn=ze&&ze.$attrs$||h,vn=bt.$attrs$||h;for(Lt in hn)Lt in vn||k(Xt,Lt,hn[Lt],void 0,Nt,bt.$flags$);for(Lt in vn)k(Xt,Lt,hn[Lt],vn[Lt],Nt,bt.$flags$)},Y=(ze,bt,Nt,Lt)=>{const Xt=bt.$children$[Nt];let vn,En,hn=0;if(null!==Xt.$text$)vn=Xt.$elm$=Gt.createTextNode(Xt.$text$);else{if(o||(o="svg"===Xt.$tag$),vn=Xt.$elm$=Gt.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Xt.$tag$),o&&"foreignObject"===Xt.$tag$&&(o=!1),W(null,Xt,o),(ze=>null!=ze)(rt)&&vn["s-si"]!==rt&&vn.classList.add(vn["s-si"]=rt),Xt.$children$)for(hn=0;hn<Xt.$children$.length;++hn)En=Y(ze,Xt,hn),En&&vn.appendChild(En);"svg"===Xt.$tag$?o=!1:"foreignObject"===vn.tagName&&(o=!0)}return vn},z=(ze,bt,Nt,Lt,Xt,hn)=>{let En,vn=ze;for(vn.shadowRoot&&vn.tagName===_e&&(vn=vn.shadowRoot);Xt<=hn;++Xt)Lt[Xt]&&(En=Y(null,Nt,Xt),En&&(Lt[Xt].$elm$=En,vn.insertBefore(En,bt)))},te=(ze,bt,Nt)=>{for(let Lt=bt;Lt<=Nt;++Lt){const Xt=ze[Lt];if(Xt){const hn=Xt.$elm$;fe(Xt),hn&&hn.remove()}}},q=(ze,bt)=>ze.$tag$===bt.$tag$,ne=(ze,bt)=>{const Nt=bt.$elm$=ze.$elm$,Lt=ze.$children$,Xt=bt.$children$,hn=bt.$tag$,vn=bt.$text$;null===vn?(o="svg"===hn||"foreignObject"!==hn&&o,W(ze,bt,o),null!==Lt&&null!==Xt?((ze,bt,Nt,Lt)=>{let Wn,Xt=0,hn=0,vn=bt.length-1,En=bt[0],Cn=bt[vn],Sn=Lt.length-1,tr=Lt[0],nr=Lt[Sn];for(;Xt<=vn&&hn<=Sn;)null==En?En=bt[++Xt]:null==Cn?Cn=bt[--vn]:null==tr?tr=Lt[++hn]:null==nr?nr=Lt[--Sn]:q(En,tr)?(ne(En,tr),En=bt[++Xt],tr=Lt[++hn]):q(Cn,nr)?(ne(Cn,nr),Cn=bt[--vn],nr=Lt[--Sn]):q(En,nr)?(ne(En,nr),ze.insertBefore(En.$elm$,Cn.$elm$.nextSibling),En=bt[++Xt],nr=Lt[--Sn]):q(Cn,tr)?(ne(Cn,tr),ze.insertBefore(Cn.$elm$,En.$elm$),Cn=bt[--vn],tr=Lt[++hn]):(Wn=Y(bt&&bt[hn],Nt,hn),tr=Lt[++hn],Wn&&En.$elm$.parentNode.insertBefore(Wn,En.$elm$));Xt>vn?z(ze,null==Lt[Sn+1]?null:Lt[Sn+1].$elm$,Nt,Lt,hn,Sn):hn>Sn&&te(bt,Xt,vn)})(Nt,Lt,bt,Xt):null!==Xt?(null!==ze.$text$&&(Nt.textContent=""),z(Nt,null,bt,Xt,0,Xt.length-1)):null!==Lt&&te(Lt,0,Lt.length-1),o&&"svg"===hn&&(o=!1)):ze.$text$!==vn&&(Nt.data=vn)},fe=ze=>{ze.$attrs$&&ze.$attrs$.ref&&ze.$attrs$.ref(null),ze.$children$&&ze.$children$.map(fe)},K=(ze,bt)=>{bt&&!ze.$onRenderResolve$&&bt["s-p"]&&bt["s-p"].push(new Promise(Nt=>ze.$onRenderResolve$=Nt))},L=(ze,bt)=>{if(ze.$flags$|=16,!(4&ze.$flags$))return K(ze,ze.$ancestorComponent$),rn(()=>se(ze,bt));ze.$flags$|=512},se=(ze,bt)=>{const Lt=ze.$lazyInstance$;return bt&&(ze.$flags$|=256,ze.$queuedListeners$&&(ze.$queuedListeners$.map(([hn,vn])=>Be(Lt,hn,vn)),ze.$queuedListeners$=void 0)),pe(void 0,()=>Fe(ze,Lt,bt))},pe=(ze,bt)=>Ce(ze)?ze.then(bt):bt(),Ce=ze=>ze instanceof Promise||ze&&ze.then&&"function"==typeof ze.then,Fe=function(){var ze=(0,y.c)(function*(bt,Nt,Lt){var Xt;const hn=bt.$hostElement$,En=hn["s-rc"];Lt&&(ze=>{const bt=ze.$cmpMeta$,Nt=ze.$hostElement$,Lt=bt.$flags$,hn=((ze,bt,Nt,Lt)=>{var Xt;let hn=V(bt);const vn=Et.get(hn);if(ze=11===ze.nodeType?ze:Gt,vn)if("string"==typeof vn){let Cn,En=F.get(ze=ze.head||ze);if(En||F.set(ze,En=new Set),!En.has(hn)){{Cn=Gt.createElement("style"),Cn.innerHTML=vn;const Sn=null!==(Xt=ln.$nonce$)&&void 0!==Xt?Xt:a(Gt);null!=Sn&&Cn.setAttribute("nonce",Sn),ze.insertBefore(Cn,ze.querySelector("link"))}En&&En.add(hn)}}else ze.adoptedStyleSheets.includes(vn)||(ze.adoptedStyleSheets=[...ze.adoptedStyleSheets,vn]);return hn})(Nt.shadowRoot?Nt.shadowRoot:Nt.getRootNode(),bt);10&Lt&&(Nt["s-sc"]=hn,Nt.classList.add(hn+"-h"))})(bt);We(bt,Nt),En&&(En.map(Sn=>Sn()),hn["s-rc"]=void 0);{const Sn=null!==(Xt=hn["s-p"])&&void 0!==Xt?Xt:[],tr=()=>tt(bt);0===Sn.length?tr():(Promise.all(Sn).then(tr),bt.$flags$|=4,Sn.length=0)}});return function(Nt,Lt,Xt){return ze.apply(this,arguments)}}(),We=(ze,bt,Nt)=>{try{bt=bt.render(),ze.$flags$&=-17,ze.$flags$|=2,((ze,bt)=>{const Nt=ze.$hostElement$,Lt=ze.$vnode$||c(null,null),Xt=(ze=>ze&&ze.$tag$===u)(bt)?bt:d(null,null,bt);_e=Nt.tagName,Xt.$tag$=null,Xt.$flags$|=4,ze.$vnode$=Xt,Xt.$elm$=Lt.$elm$=Nt.shadowRoot||Nt,rt=Nt["s-sc"],ne(Lt,Xt)})(ze,bt)}catch(Lt){Ge(Lt,ze.$hostElement$)}return null},tt=ze=>{const Nt=ze.$hostElement$,Xt=ze.$lazyInstance$,hn=ze.$ancestorComponent$;64&ze.$flags$||(ze.$flags$|=64,je(Nt),Be(Xt,"componentDidLoad"),ze.$onReadyResolve$(Nt),hn||ke()),ze.$onInstanceResolve$(Nt),ze.$onRenderResolve$&&(ze.$onRenderResolve$(),ze.$onRenderResolve$=void 0),512&ze.$flags$&&Ct(()=>L(ze,!1)),ze.$flags$&=-517},Oe=ze=>{{const bt=vt(ze),Nt=bt.$hostElement$.isConnected;return Nt&&2==(18&bt.$flags$)&&L(bt,!1),Nt}},ke=ze=>{je(Gt.documentElement),Ct(()=>M(Rt,"appload",{detail:{namespace:"ionicpwaelements"}}))},Be=(ze,bt,Nt)=>{if(ze&&ze[bt])try{return ze[bt](Nt)}catch(Lt){Ge(Lt)}},je=ze=>ze.classList.add("hydrated"),gt=(ze,bt,Nt)=>{if(bt.$members$){const Lt=Object.entries(bt.$members$),Xt=ze.prototype;if(Lt.map(([hn,[vn]])=>{31&vn||2&Nt&&32&vn?Object.defineProperty(Xt,hn,{get(){return((ze,bt)=>vt(this).$instanceValues$.get(bt))(0,hn)},set(En){((ze,bt,Nt,Lt)=>{const Xt=vt(ze),hn=Xt.$instanceValues$.get(bt),vn=Xt.$flags$,En=Xt.$lazyInstance$;Nt=((ze,bt)=>null==ze||i(ze)?ze:4&bt?"false"!==ze&&(""===ze||!!ze):2&bt?parseFloat(ze):1&bt?String(ze):ze)(Nt,Lt.$members$[bt][0]);const Cn=Number.isNaN(hn)&&Number.isNaN(Nt);(!(8&vn)||void 0===hn)&&Nt!==hn&&!Cn&&(Xt.$instanceValues$.set(bt,Nt),En&&2==(18&vn)&&L(Xt,!1))})(this,hn,En,bt)},configurable:!0,enumerable:!0}):1&Nt&&64&vn&&Object.defineProperty(Xt,hn,{value(...En){const Cn=vt(this);return Cn.$onInstancePromise$.then(()=>Cn.$lazyInstance$[hn](...En))}})}),1&Nt){const hn=new Map;Xt.attributeChangedCallback=function(vn,En,Cn){ln.jmp(()=>{const Sn=hn.get(vn);if(this.hasOwnProperty(Sn))Cn=this[Sn],delete this[Sn];else if(Xt.hasOwnProperty(Sn)&&"number"==typeof this[Sn]&&this[Sn]==Cn)return;this[Sn]=(null!==Cn||"boolean"!=typeof this[Sn])&&Cn})},ze.observedAttributes=Lt.filter(([vn,En])=>15&En[0]).map(([vn,En])=>{const Cn=En[1]||vn;return hn.set(Cn,vn),Cn})}}return ze},ft=function(){var ze=(0,y.c)(function*(bt,Nt,Lt,Xt,hn){if(!(32&Nt.$flags$)){Nt.$flags$|=32;{if((hn=et(Lt)).then){const Sn=()=>{};hn=yield hn,Sn()}hn.isProxied||(gt(hn,Lt,2),hn.isProxied=!0);const Cn=()=>{};Nt.$flags$|=8;try{new hn(Nt)}catch(Sn){Ge(Sn)}Nt.$flags$&=-9,Cn()}if(hn.style){let Cn=hn.style;const Sn=V(Lt);if(!Et.has(Sn)){const tr=()=>{};((ze,bt,Nt)=>{let Lt=Et.get(ze);wn&&Nt?(Lt=Lt||new CSSStyleSheet,"string"==typeof Lt?Lt=bt:Lt.replaceSync(bt)):Lt=bt,Et.set(ze,Lt)})(Sn,Cn,!!(1&Lt.$flags$)),tr()}}}const vn=Nt.$ancestorComponent$,En=()=>L(Nt,!0);vn&&vn["s-rc"]?vn["s-rc"].push(En):En()});return function(Nt,Lt,Xt,hn,vn){return ze.apply(this,arguments)}}(),Jt=(ze,bt={})=>{var Nt;const Xt=[],hn=bt.exclude||[],vn=Rt.customElements,En=Gt.head,Cn=En.querySelector("meta[charset]"),Sn=Gt.createElement("style"),tr=[];let nr,Wn=!0;Object.assign(ln,bt),ln.$resourcesUrl$=new URL(bt.resourcesUrl||"./",Gt.baseURI).href,ze.map(Nn=>{Nn[1].map(ee=>{const ie={$flags$:ee[0],$tagName$:ee[1],$members$:ee[2],$listeners$:ee[3]};ie.$members$=ee[2],ie.$listeners$=ee[3];const we=ie.$tagName$,D=class extends HTMLElement{constructor(R){super(R),wt(R=this,ie),1&ie.$flags$&&R.attachShadow({mode:"open"})}connectedCallback(){nr&&(clearTimeout(nr),nr=null),Wn?tr.push(this):ln.jmp(()=>(ze=>{if(!(1&ln.$flags$)){const bt=vt(ze),Nt=bt.$cmpMeta$,Lt=()=>{};if(1&bt.$flags$)Ft(ze,bt,Nt.$listeners$);else{bt.$flags$|=1;{let Xt=ze;for(;Xt=Xt.parentNode||Xt.host;)if(Xt["s-p"]){K(bt,bt.$ancestorComponent$=Xt);break}}Nt.$members$&&Object.entries(Nt.$members$).map(([Xt,[hn]])=>{if(31&hn&&ze.hasOwnProperty(Xt)){const vn=ze[Xt];delete ze[Xt],ze[Xt]=vn}}),ft(ze,bt,Nt)}Lt()}})(this))}disconnectedCallback(){ln.jmp(()=>(ze=>{if(!(1&ln.$flags$)){const bt=vt(this),Nt=bt.$lazyInstance$;bt.$rmListeners$&&(bt.$rmListeners$.map(Lt=>Lt()),bt.$rmListeners$=void 0),Be(Nt,"disconnectedCallback")}})())}componentOnReady(){return vt(this).$onReadyPromise$}};ie.$lazyBundleId$=Nn[0],!hn.includes(we)&&!vn.get(we)&&(Xt.push(we),vn.define(we,gt(D,ie,1)))})});{Sn.innerHTML=Xt+"{visibility:hidden}.hydrated{visibility:inherit}",Sn.setAttribute("data-styles","");const Nn=null!==(Nt=ln.$nonce$)&&void 0!==Nt?Nt:a(Gt);null!=Nn&&Sn.setAttribute("nonce",Nn),En.insertBefore(Sn,Cn?Cn.nextSibling:En.firstChild)}Wn=!1,tr.length?tr.map(Nn=>Nn.connectedCallback()):ln.jmp(()=>nr=setTimeout(ke,30))},Ft=(ze,bt,Nt,Lt)=>{Nt&&Nt.map(([Xt,hn,vn])=>{const En=sn(ze,Xt),Cn=un(bt,vn),Sn=Yt(Xt);ln.ael(En,hn,Cn,Sn),(bt.$rmListeners$=bt.$rmListeners$||[]).push(()=>ln.rel(En,hn,Cn,Sn))})},un=(ze,bt)=>Nt=>{try{256&ze.$flags$?ze.$lazyInstance$[bt](Nt):(ze.$queuedListeners$=ze.$queuedListeners$||[]).push([bt,Nt])}catch(Lt){Ge(Lt)}},sn=(ze,bt)=>16&bt?Gt.body:ze,Yt=ze=>0!=(2&ze),zt=new WeakMap,vt=ze=>zt.get(ze),Ht=(ze,bt)=>zt.set(bt.$lazyInstance$=ze,bt),wt=(ze,bt)=>{const Nt={$flags$:0,$hostElement$:ze,$cmpMeta$:bt,$instanceValues$:new Map};return Nt.$onInstancePromise$=new Promise(Lt=>Nt.$onInstanceResolve$=Lt),Nt.$onReadyPromise$=new Promise(Lt=>Nt.$onReadyResolve$=Lt),ze["s-p"]=[],ze["s-rc"]=[],Ft(ze,Nt,bt.$listeners$),zt.set(ze,Nt)},Re=(ze,bt)=>bt in ze,Ge=(ze,bt)=>(0,console.error)(ze,bt),Te=new Map,et=(ze,bt,Nt)=>{const Lt=ze.$tagName$.replace(/-/g,"_"),Xt=ze.$lazyBundleId$,hn=Te.get(Xt);if(hn)return hn[Lt];if(!Nt||!BUILD.hotModuleReplacement){const vn=En=>(Te.set(Xt,En),En[Lt]);switch(Xt){case"pwa-action-sheet":return ge.e(2152).then(ge.bind(ge,2152)).then(vn,Ge);case"pwa-camera-modal":return ge.e(6056).then(ge.bind(ge,6056)).then(vn,Ge);case"pwa-toast":return ge.e(3276).then(ge.bind(ge,3276)).then(vn,Ge);case"pwa-camera-modal-instance":return ge.e(1148).then(ge.bind(ge,1148)).then(vn,Ge);case"pwa-camera":return ge.e(580).then(ge.bind(ge,580)).then(vn,Ge)}}return ge(996)(`./${Xt}.entry.js`).then(vn=>(Te.set(Xt,vn),vn[Lt]),Ge)},Et=new Map,Rt=typeof window<"u"?window:{},Gt=Rt.document||{head:{}},ln={$flags$:0,$resourcesUrl$:"",jmp:ze=>ze(),raf:ze=>requestAnimationFrame(ze),ael:(ze,bt,Nt,Lt)=>ze.addEventListener(bt,Nt,Lt),rel:(ze,bt,Nt,Lt)=>ze.removeEventListener(bt,Nt,Lt),ce:(ze,bt)=>new CustomEvent(ze,bt)},_n=ze=>Promise.resolve(ze),wn=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Dt=[],xt=[],ot=(ze,bt)=>Nt=>{ze.push(Nt),$||($=!0,bt&&4&ln.$flags$?Ct(ut):ln.raf(ut))},Ye=ze=>{for(let bt=0;bt<ze.length;bt++)try{ze[bt](performance.now())}catch(Nt){Ge(Nt)}ze.length=0},ut=()=>{Ye(Dt),Ye(xt),($=Dt.length>0)&&ln.raf(ut)},Ct=ze=>_n().then(ze),rn=ot(xt,!0)},5193:(pn,jt,ge)=>{"use strict";ge.d(jt,{a0:()=>M,uM:()=>b,O$:()=>p,s1:()=>m});var y=ge(1528),xe=ge(6400);const rt=(0,xe.C_)("App",{web:()=>ge.e(4736).then(ge.bind(ge,4736)).then(F=>new F.AppWeb)});var _e=ge(4708),o=ge(6124),$=ge(3428);const v=(0,xe.C_)("LocalNotifications",{web:()=>ge.e(1208).then(ge.bind(ge,1208)).then(F=>new F.LocalNotificationsWeb)});var _=ge(9352),h=ge(4496),f=ge(9240),x=ge(5624),w=ge(3332),i=ge(6819),a=ge(1028),d=ge(7136),c=ge(4668),u=ge(4500),l=ge(5020),m="DesktopPWA",p=!1;const b="https://is2you2.github.io/";window.p5=_;let M=(()=>{var F;class N{constructor(j,V,k,E,I,W,Y,z,te,J,q){this.platform=j,this.nakama=W,this.modalCtrl=z,this.lang=J,j.is("desktop")?m="DesktopPWA":j.is("mobileweb")?m="MobilePWA":j.is("android")?m="Android":j.is("iphone")&&(m="iOS"),p=j.is("electron"),Y.initialize(()=>{let ne=q.CatchGETs(location.href)||{};q.initialize(),W.AddressToQRCodeAct(ne),E.initialize(),"Android"==m&&v.checkPermissions().then(function(){var fe=(0,y.c)(function*(De){"granted"!=De.display&&(yield v.requestPermissions())});return function(De){return fe.apply(this,arguments)}}()),E.load_settings(),Y.GetFileListFromDB("tmp_files",fe=>{fe.forEach(De=>Y.removeFileFromUserPath(De))})}),J.Callback_nakama=()=>{W.initialize(),W.check_if_online(),J.isFirstTime=!1},this.init_admob(),("Android"==m||"iOS"==m)&&rt.addListener("appUrlOpen",ne=>{k.run(()=>{const fe=ne.url.split(".app").pop();fe&&V.navigateByUrl(fe)})}),E.SetListener("click",ne=>{try{let fe,K,De=ne.data.page.componentProps;switch(ne.data.page.component){case"ChatRoomPage":K=De.info.noti_id;break;case"MinimalChatPage":fe=o._,K=De.noti_id;break;case"AddTodoMenuPage":De={data:De.data},K=JSON.parse(De.data).id;break;case"NakamaReqContTitle":let L=W.servers[De.data.isOfficial][De.data.Target],se="";return se+=`${J.text.Nakama.ReqContServer}: ${De.data.serverName}<br>`,se+=`${J.text.Nakama.ReqContUserName}: ${De.data.userName}`,void te.create({header:J.text.Nakama.ReqContTitle,message:se,buttons:[{text:J.text.Nakama.ReqContAccept,handler:()=>{L.client.addGroupUsers(L.session,De.data.group_id,[De.data.user_id]).then(pe=>{pe||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),L.client.deleteNotifications(L.session,[De.data.noti_id]).then(Ce=>{Ce?W.update_notifications(De.data.isOfficial,De.data.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Ce)})})}},{text:J.text.Nakama.ReqContReject,handler:()=>{L.client.kickGroupUsers(L.session,De.data.group_id,[De.data.user_id]).then(function(){var pe=(0,y.c)(function*(Ce){Ce||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield L.client.deleteNotifications(L.session,[De.data.noti_id]),W.update_notifications(De.data.isOfficial,De.data.Target)});return function(Ce){return pe.apply(this,arguments)}}())},cssClass:"redfont"}]}).then(pe=>pe.present());case"AllUserNotification":break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0\uac00 \uc544\ub2d8: ",ne.data.page.component)}if(K==E.Current)return;this.waiting_open_page(ne,fe,De)}catch{if("AllUserNotification"===ne.data.type){let K=`<div>${ne.data.body}</div>`;te.create({header:ne.data.title,message:new _e.AF(ne.data.image?`<img *ngIf="${ne.data.image}" src="${ne.data.image}" alt="noti_image" style="border-radius: 8px">`+K:K),buttons:[{text:J.text.Nakama.LocalNotiOK,handler:()=>{W.servers[ne.data.isOfficial][ne.data.target].client.deleteNotifications(W.servers[ne.data.isOfficial][ne.data.target].session,[ne.data.noti_id])}}]}).then(se=>se.present())}else console.log("\uc900\ube44\ub41c \uc54c\ub9bc \ud589\ub3d9 \uc5c6\uc74c: ",ne.data)}}),I.enable(),W.on_socket_connected.connection_check=()=>{W.check_if_online()},W.on_socket_disconnected.connection_check=()=>{W.check_if_online()}}waiting_open_page(j,V,k){var E=this;return(0,y.c)(function*(){try{let I=yield E.modalCtrl.create({component:V,componentProps:k});switch(j.data.page.component){case"ChatRoomPage":if(!E.lang.text.ChatRoom.YouReadHereLast)throw"ChatRoomPage \ubc88\uc5ed \uc900\ube44\uc911";if(k.info.noti_id)throw k={info:E.nakama.channels_orig[k.info.isOfficial][k.info.target][k.info.id]},"ChatRoomPage props \uc7ac\uc815\ube44";E.nakama.go_to_chatroom_without_admob_act(k.info);break;case"MinimalChatPage":if(!E.lang.text.MinimalChat.leave_chat_group)throw"MinimalChatPage \ubc88\uc5ed \uc900\ube44\uc911";I.present();break;case"AddTodoMenuPage":if(!E.lang.text.TodoDetail.ToggleWorkers)throw"AddTodoMenuPage \ubc88\uc5ed \uc900\ube44\uc911";E.nakama.open_add_todo_page(k.data);break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0 \ud589\ub3d9 \uc5c6\uc74c: ",j.data.page.component),I.present()}}catch(I){console.log("retry open notification clicked because... : ",I),setTimeout(()=>{E.waiting_open_page(j,V,k)},200)}})()}init_admob(){this.platform.ready().then(()=>{$.i8.initialize({testingDevices:["1bc3817e4873fd6f"],initializeForTesting:!0})})}}return(F=N).\u0275fac=function(j){return new(j||F)(h.GI1(f.WU),h.GI1(w.E5),h.GI1(h.WW2),h.GI1(i.s),h.GI1(a.Y),h.GI1(d.h),h.GI1(c.k),h.GI1(x.qS),h.GI1(x.iW),h.GI1(u.o),h.GI1(l.A1))},F.\u0275cmp=h.In1({type:F,selectors:[["app-root"]],decls:2,vars:0,template:function(j,V){1&j&&(h.I0R(0,"ion-app"),h.wR5(1,"ion-router-outlet"),h.C$Y())},dependencies:[x.qk,x.Cg]}),N})()},5020:(pn,jt,ge)=>{"use strict";ge.d(jt,{A1:()=>i,KY:()=>w,Mp:()=>x});var y=ge(1528),xe=ge(4972),_e=ge(9352),$=ge(4496),S=ge(3824),v=ge(4500),_=ge(4476),h=ge(4668),f=ge(5624),x=!1;const w=8e4;let i=(()=>{var a;class d{constructor(u,l,m,p,b){this.p5toast=u,this.lang=l,this.sanitizer=m,this.indexed=p,this.loadingCtrl=b,x=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}initialize(){this.p5key=new _e(u=>{u.setup=()=>{u.noCanvas(),u.noLoop(),u.KeyShortCut={}},u.keyPressed=l=>{switch(l.code){case"Backquote":u.KeyShortCut.Backquote&&u.KeyShortCut.Backquote();break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":if(u.KeyShortCut.Digit){let m=(Number(l.code.slice(-1))-1+10)%10;u.KeyShortCut.Digit(m)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":u.KeyShortCut.BottomTab&&u.KeyShortCut.BottomTab(l.code.slice(-1));break;case"KeyA":u.KeyShortCut.AddAct&&u.KeyShortCut.AddAct();break;case"KeyS":u.KeyShortCut.SKeyAct&&u.KeyShortCut.SKeyAct();break;case"KeyD":u.KeyShortCut.DeleteAct&&u.KeyShortCut.DeleteAct();break;case"KeyF":u.KeyShortCut.FKeyAct&&u.KeyShortCut.FKeyAct();break;case"Enter":u.KeyShortCut.EnterAct&&u.KeyShortCut.EnterAct();break;case"Escape":u.KeyShortCut.Escape&&u.KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":u.KeyShortCut.HistoryAct&&u.KeyShortCut.HistoryAct(l.code.slice(-1))}}})}UpdateIsDarkMode(u){x=u}GetExactDarkMode(){return x=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}CatchGETs(u){const l=u.split("?");if(l.length>1){const m=l[1].split("&");let p={};for(let b=0,M=m.length;b<M;b++){const F=m[b].split("=");p[F[0]]||(p[F[0]]=[]),p[F[0]].push(decodeURIComponent(F[1]))}return p}}readasQRCodeFromId(u){try{let l=new xe({content:`[${JSON.stringify(u)}]`,padding:4,width:8,height:8,color:x?"#bbb":"#444",background:x?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(l)}`)}catch(l){console.log("readasQRCodeFromId: ",l),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${l}`})}}readasQRCodeFromString(u){try{let l=new xe({content:u,padding:4,width:8,height:8,color:x?"#bbb":"#444",background:x?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(l)}`)}catch(l){console.log("readasQRCodeFromString: ",l),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${l}`})}}CreateGodotIFrame(u,l,m="",p=!1){var b=this;let M=!1;return new Promise(function(){var F=(0,y.c)(function*(N){let P=function(){var E=(0,y.c)(function*(){try{if("godot"!=window.godot)throw"No godot";if(m&&!b.godot_window[m])throw"No act ready";M=!0,yield b.indexed.GetGodotIndexedDB(),N()}catch{setTimeout(()=>{P()},1e3)}});return function(){return E.apply(this,arguments)}}();b.godot_window&&b.godot_window.quit_godot&&b.godot_window.quit_godot(),b.godot_splash&&b.godot_splash.remove(),b.godot&&b.godot.remove(),window.godot="";let j=document.createElement("iframe");j.id="godot",j.setAttribute("src","assets/html/index.html"),j.setAttribute("frameborder","0"),j.setAttribute("class","full_screen"),j.setAttribute("allow","fullscreen; encrypted-media"),j.setAttribute("scrolling","no"),j.setAttribute("withCredentials","true"),"content_viewer_canvas"==u&&(l.create_thumbnail_p5=function(){var E=(0,y.c)(function*(I,W=void 0){new _e(Y=>{Y.setup=()=>{Y.noCanvas(),Y.pixelDensity(1),Y.loadImage("data:image/png;base64,"+I,function(){var z=(0,y.c)(function*(te){let J=Y.createCanvas(te.width,te.height);Y.image(te,0,0),Y.textSize(16),Y.textWrap(Y.CHAR);let q=Y.height/24;Y.push(),Y.translate(q/6,q/6),Y.fill(0),Y.text(b.godot_window.filename,q,q,Y.width-2*q,Y.height-2*q),Y.filter(Y.BLUR,3,!1),Y.pop(),Y.fill(255),Y.text(b.godot_window.filename,q,q,Y.width-2*q,Y.height-2*q);let ne=J.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield b.indexed.saveBase64ToUserPath(ne,`${l.alt_path||l.path}_thumbnail.png`),b.modulate_thumbnail(W,"")}catch(fe){console.log("p.saveFrames: ",fe)}Y.remove()});return function(te){return z.apply(this,arguments)}}(),z=>{console.error("create_thumbnail_load thumbnail failed: ",z),Y.remove()})}})});return function(I){return E.apply(this,arguments)}}());let V=document.getElementById(u);V.appendChild(j),b.godot_window=j.contentWindow||j.contentDocument,Object.keys(l).forEach(E=>b.godot_window[E]=l[E]),b.godot=j,p||(b.godot_splash=new _e(E=>{let I,W,J,q;E.setup=()=>{let se=E.createCanvas(V.clientWidth,V.clientHeight);se.parent(V),se.style("position: fixed;"),E.imageMode(E.CENTER),E.rectMode(E.CENTER),E.noStroke(),E.CurrentLoaded=0,E.LoadLength=1,b.godot_window.update_load=(pe,Ce)=>{E.CurrentLoaded=pe,E.LoadLength=Ce},E.loadImage("assets/icon/favicon.png",pe=>{I=pe}),E.pixelDensity(1),l.background&&E.loadImage(l.background,pe=>{W=pe,pe.width>pe.height?(q=E.height,J=pe.width/pe.height*E.height):(J=E.width,q=pe.height/pe.width*E.width)})};let ne=2,fe=0,De=x?80:200,K=x?200:80,L=x?40:160;E.draw=()=>{E.clear(255,255,255,255);let se=E.constrain(255*ne,0,255);E.background(De),E.tint(255,se),W&&E.image(W,E.width/2,E.height/2,J,q),I&&E.image(I,E.width/2,E.height/2),E.push(),E.translate(E.width/2,E.height/2+80),fe+=.07,E.rotate(fe),E.fill(K,E.constrain(255*ne,0,255)),E.push(),E.translate(-6,-6),E.rotate(2*-fe),E.rect(0,0,8,8,2),E.pop(),E.push(),E.translate(6,-6),E.rotate(2*-fe),E.rect(0,0,8,8,2),E.pop(),E.push(),E.translate(-6,6),E.rotate(2*-fe),E.rect(0,0,8,8,2),E.pop(),E.push(),E.translate(6,6),E.rotate(2*-fe),E.rect(0,0,8,8,2),E.pop(),E.pop(),E.push(),E.translate(E.width/2,E.height/2+120),E.stroke(L,se),E.strokeWeight(3),E.line(-30,0,30,0),E.stroke(K,se),E.line(-30,0,E.lerp(-30,30,E.CurrentLoaded/E.LoadLength),0),E.pop(),M&&(ne-=.04,ne<=0&&E.remove())},E.windowResized=()=>{E.resizeCanvas(V.clientWidth,V.clientHeight)}})),yield P()});return function(N){return F.apply(this,arguments)}}())}req_file_info(u,l){var m=this;return(0,y.c)(function*(){return new Promise(function(){var p=(0,y.c)(function*(b){b(yield m.indexed.GetFileInfoFromDB(u,void 0,l))});return function(b){return p.apply(this,arguments)}}())})()}req_file_part_base64(u,l,m,p){for(var b="",M=new Uint8Array(u.contents.slice(l*w,(l+1)*w)),F=0,N=M.byteLength;F<N;F++)b+=String.fromCharCode(M[F]);let P=btoa(b);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:l}),`${m}.history`,void 0,p),P}save_file_part(u,l,m,p){this.indexed.saveBase64ToUserPath(","+m,`${u}_part/${l}.part`,void 0,p),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:l}),`${u}.history`,void 0,p)}remove_req_file_info(u,l){delete u.content.transfer_index,this.indexed.removeFileFromUserPath(`${l}.history`)}modulate_thumbnail(u,l){var m=this;return(0,y.c)(function*(){try{let p=yield m.indexed.loadBlobFromUserPath(`${u.path}_thumbnail.png`,"image/png"),b=URL.createObjectURL(p);return u.thumbnail=m.sanitizer.bypassSecurityTrustUrl(b),void setTimeout(()=>{URL.revokeObjectURL(b),l&&URL.revokeObjectURL(l)},100)}catch{}switch(u.viewer){case"image":u.thumbnail=u.url?u.url:m.sanitizer.bypassSecurityTrustUrl(l);break;case"text":if(u.url){let p=yield fetch(u.url).then(b=>b.text());u.text=p.split("\n")}else new _e(p=>{p.setup=()=>{p.noCanvas(),p.loadStrings(l,b=>{u.text=b,URL.revokeObjectURL(l),p.remove()},b=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",b),u.text=[m.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(l),p.remove()})}})}l&&setTimeout(()=>{URL.revokeObjectURL(l)},100)})()}set_viewer_category(u){try{if(this.set_viewer_category_from_ext(u),"disabled"==u.viewer)if(0==u.type.indexOf("image/"))u.viewer="image";else if(0==u.type.indexOf("audio/"))u.viewer="audio";else if(0==u.type.indexOf("video/"))u.viewer="video";else{if(0!=u.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";u.viewer="text"}}catch(l){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",l)}}set_viewer_category_from_ext(u){switch(u.file_ext){case"blend":u.viewer="blender";break;case"pck":u.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":u.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":u.viewer="audio";break;case"mp4":case"ogv":u.viewer="video";break;case"webm":u.type?0==u.type.indexOf("audio/")?u.viewer="audio":0==u.type.indexOf("video/")&&(u.viewer="video"):u.viewer="disabled";break;case"cs":case"c":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"css":case"pl":case"scss":u.viewer="code";break;case"md":case"csv":case"prop":case"conf":case"log":case"txt":case"yml":case"gitignore":case"json":u.viewer="text";break;default:u.viewer="disabled"}}GetBase64ThroughFileReader(u){return new Promise((l,m)=>{var p;let b=new FileReader;b=null!==(p=b._realReader)&&void 0!==p?p:b,b.onload=M=>{l(M.target.result.replace(/"|\\|=/g,""))},b.onerror=M=>{m(M)},b.readAsDataURL(u)})}Base64ToBlob(u,l=""){let m=atob(u.split(",")[1]),p=new ArrayBuffer(m.length),b=new Int8Array(p);for(let F=0,N=m.length;F<N;F++)b[F]=m.charCodeAt(F);return new Blob([b],{type:l})}upload_file_to_storage(u,l,m,p,b){var M=this;return(0,y.c)(function*(){let F=yield M.loadingCtrl.create({message:M.lang.text.Settings.TryToFallbackFS});F.present();let N=new FormData,P=(new Date).getTime(),j=u.filename.split(".")[0],V=`${l}_${j}_${P}.${u.file_ext}`,k=new File([u.blob],V);N.append("files",k);let I,E=!1;b&&(I=yield M.try_upload_to_user_custom_fs(u,l,N,F)),F.message=M.lang.text.GlobalAct.CheckCdnServer;try{if(I)throw E=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";I=`${m}//${p}:9002/cdn/${V}`;let W=new Headers;W.append("Access-Control-Allow-Origin","*"),W.append("Access-Control-Allow-Method","*"),W.append("Access-Control-Allow-Headers","*");const Y=new AbortController,z=setTimeout(()=>{M.p5toast.show({text:M.lang.text.GlobalAct.UploadFailed}),Y.abort()},6e3);yield fetch(`${m}//${p}:9001/${V}`,{method:"POST",headers:W,body:N,signal:Y.signal}),clearTimeout(z),(yield fetch(I)).ok&&(E=!0)}catch(W){F.message=M.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",W)}return F.dismiss(),E?I:void 0})()}remove_file_from_storage(u){var l=this;return(0,y.c)(function*(){let m=u.split("/cdn/"),p=m.pop(),b=m.shift(),M=b.lastIndexOf(":");M>5&&(b=b.substring(0,M));let F=new Headers;F.append("Access-Control-Allow-Origin","*"),F.append("Access-Control-Allow-Method","*"),F.append("Access-Control-Allow-Headers","*");const N=new AbortController,P=setTimeout(()=>{l.p5toast.show({text:l.lang.text.GlobalAct.UploadFailed}),N.abort()},6e3);yield fetch(`${b}:9001/remove/${p}`,{method:"POST",headers:F,signal:N.signal}),clearTimeout(P)})()}remove_files_from_storage_with_key(u,l){var m=this;return(0,y.c)(function*(){let p=u.lastIndexOf(":");p>5&&(u=u.substring(0,p));let b=new Headers;b.append("Access-Control-Allow-Origin","*"),b.append("Access-Control-Allow-Method","*"),b.append("Access-Control-Allow-Headers","*");const M=new AbortController,F=setTimeout(()=>{m.p5toast.show({text:m.lang.text.GlobalAct.UploadFailed}),M.abort()},6e3);yield fetch(`${u}:9001/remove_key/${l}`,{method:"POST",headers:b,signal:M.signal}),clearTimeout(F)})()}try_upload_to_user_custom_fs(u,l,m,p){var b=this;return(0,y.c)(function*(){let M;M=p||(yield b.loadingCtrl.create({message:b.lang.text.Settings.TryToFallbackFS}));let F=(new Date).getTime(),N=u.filename.split(".")[0],P=`${l}_${N}_${F}.${u.file_ext}`;if(!m){m=new FormData;let k=new File([u.blob],P);m.append("files",k)}let j,V=localStorage.getItem("fallback_fs");try{if(!V)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let k=V.split(":"),I=k[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:";j=`${I}//${k[0]}:${k[1]||9002}/cdn/${P}`;let W=new Headers;W.append("Access-Control-Allow-Origin","*"),W.append("Access-Control-Allow-Method","*"),W.append("Access-Control-Allow-Headers","*");const Y=new AbortController,z=setTimeout(()=>{b.p5toast.show({text:b.lang.text.GlobalAct.FFSFailed}),Y.abort()},1500);yield fetch(`${I}//${k[0]}:9001/${P}`,{method:"POST",headers:W,body:m,signal:Y.signal}),clearTimeout(z);let te=yield fetch(j);if(p||M.dismiss(),te.ok)return j}catch{return void(p||M.dismiss())}})()}load_blender_file(u,l,m,p,b){var M=this;return new _e(F=>{let k,N=[],P=[],V={};F.setup=(0,y.c)(function*(){let I,E=F.createCanvas(u.clientWidth,u.clientHeight,F.WEBGL);E.parent(u),F.canvas=E,F.textureMode(F.NORMAL),F.textureWrap(F.REPEAT),F.clear(255,255,255,0),F.pixelDensity(1);try{I=yield M.indexed.loadBlobFromUserPath(l.path,l.type||"")}catch{try{I=yield(yield fetch(l.url)).blob()}catch(z){console.log("\ubdf0\uc5b4\uc5d0\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",z),b()}}let W=F.createElement("iframe");W.elt.id="jsBlend",W.elt.setAttribute("src","assets/js.blend/index.html"),W.elt.setAttribute("frameborder","0"),W.elt.setAttribute("class","full_screen"),W.elt.setAttribute("allow","fullscreen; encrypted-media"),W.elt.setAttribute("scrolling","no"),W.elt.setAttribute("withCredentials","true"),W.hide(),u.appendChild(W.elt),W.elt.contentWindow.TARGET_FILE=I,W.elt.onload=(0,y.c)(function*(){if(!I)return M.p5toast.show({text:M.lang.text.ContentViewer.CannotOpenText}),void(m&&m.dismiss());k=F.createDiv(),k.parent(u),k.id("logDiv"),k.style("position","absolute"),k.style("top","0"),k.style("left","0"),k.style("width","100%"),k.style("height","100%"),k.style("max-height",`${u.clientHeight}px`),k.style("pointer-events","none");let Y=yield W.elt.contentWindow.JSBLEND(I);const z=100;let te=Y.file.AB;if(Y.file.objects.PackedFile)for(let tt=0,Oe=Y.file.objects.PackedFile.length;tt<Oe;tt++){let ke=Y.file.objects.PackedFile[tt],Be=ke.data.__data_address__,Qe=te.slice(Be,Be+ke.size),Ke=new Blob([Qe]),gt=URL.createObjectURL(Ke);F.loadImage(gt,ft=>{V[ke.data.__data_address__]=ft,URL.revokeObjectURL(gt)},ft=>{console.log("\ud14d\uc2a4\uccd0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",ft),URL.revokeObjectURL(gt)})}let J=Y.file.objects.vec2f,q=0,ne=Y.file.objects.Mesh,fe=Y.file.objects.vec3f,De=0,K=Y.file.objects.vec2i,L=0;for(let tt=0,Oe=Y.file.objects.Object.length;tt<Oe;tt++){let ke=Y.file.objects.Object[tt];m&&(m.message=`${M.lang.text.ContentViewer.ReadObject}: ${ke.aname}`);let Be=F.createVector(-ke.loc[0]*z,-ke.loc[2]*z,ke.loc[1]*z),je=F.createVector(ke.rot[0],ke.rot[2],-ke.rot[1]);switch(ke.type){case 1:{{let Yt=["noimp","colonly","convcolonly","navmesh"],kt=!1;for(let zt=0,vt=Yt.length;zt<vt;zt++)if(-1!==ke.aname.indexOf(Yt[zt],ke.aname.length-Yt[zt].length)){kt=!0;break}if(kt||(kt=448==ke.base_flag),kt)continue}let Ke,gt,ft,yt,Qe=null;for(let Yt=0,kt=ne.length;Yt<kt;Yt++)if(ne[Yt].address==ke.data.address){Qe=Yt;break}try{let Yt=-1;for(let kt=0,zt=J.length;kt<zt;kt++)if(J[kt].address&&(Yt++,Yt==Qe)){q=kt;break}}catch{}try{let Yt=-1,kt=!1,zt=fe.length;for(let vt=0;vt<zt;vt++)if(fe[vt].address){if(Yt++,kt){Ke=fe.slice(De,vt);break}Yt==Qe&&(De=vt,kt=!0)}Ke||(Ke=fe.slice(De,zt))}catch{}try{let Yt=-1,kt=!1,zt=K.length;for(let vt=0;vt<zt;vt++)if(K[vt].address){if(Yt++,kt){gt=K.slice(L,vt);break}Yt==Qe&&(L=vt,kt=!0)}gt||(gt=K.slice(L,zt))}catch{}if(ke.data.ldata.layers.length)for(let Yt=0,kt=ke.data.ldata.layers.length;Yt<kt;Yt++)11===ke.data.ldata.layers[Yt].type&&(yt=ke.data.ldata.layers[Yt].data);else yt=ke.data.ldata.layers.data;F.beginGeometry(),F.push(),F.translate(Be),F.scale(ke.size[0],ke.size[2],ke.size[1]),ke.rot[0]+ke.rot[1]+ke.rot[2]&&(k.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${ke.aname}: ${M.lang.text.ContentViewer.MayGimbalLock}</div>`,F.rotate(F.HALF_PI,je));try{let Yt=[];for(let kt=0,zt=Ke.length;kt<zt;kt++)Yt.push([]);for(let kt=0,zt=gt.length;kt<zt;kt++){var se,pe;let vt=null!==(se=gt[kt].x)&&void 0!==se?se:gt[kt].v1,Ht=null!==(pe=gt[kt].y)&&void 0!==pe?pe:gt[kt].v2;Yt[vt].push(Ht),Yt[Ht].push(vt)}for(let vt,Ht,zt=yt.length-1;zt>=0;zt--){var Ce,Fe,We;let wt=yt[zt].i,Re=null!==(Ce=Ke[wt].x)&&void 0!==Ce?Ce:Ke[wt].co[0],Ge=null!==(Fe=Ke[wt].y)&&void 0!==Fe?Fe:Ke[wt].co[1],Te=null!==(We=Ke[wt].z)&&void 0!==We?We:Ke[wt].co[2];if(void 0!==Ht){try{if(!Yt[Ht].includes(wt))throw"\ub9c8\uc9c0\ub9c9 \uc810\uc73c\ub85c\ubd80\ud130 \uadf8\ub9b4 \uc218 \uc5c6\uc74c";F.vertex(-Re*z,-Te*z,Ge*z,J[q+zt].x,-J[q+zt].y);let Et=!1;if(Ht!=vt&&(Et=Yt[wt].includes(vt)),Et)throw"\ub3cc\uc544\uac08 \uc218 \uc788\ub294\ub370 \ub3cc\uc544\uac00\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc0c8 \uc2dc\uc791\uc810\uc73c\ub85c \uc778\uc2dd"}catch{F.endShape(F.CLOSE),Ht=void 0;continue}Ht=wt}else F.beginShape(),F.vertex(-Re*z,-Te*z,Ge*z,J[q+zt].x,-J[q+zt].y),vt=wt,Ht=wt}}catch(Yt){console.log("\uba54\uc26c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Yt),k.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${ke.aname}: ${M.lang.text.ContentViewer.LoadMeshFailed}: ${Yt}</div>`}F.pop(),ft=F.endGeometry();let Jt,Ft,un,sn=0;try{if(!ke.data.mat.length)throw"no_mat";for(let Yt=0,kt=ke.data.mat.length;Yt<kt;Yt++){try{let zt=ke.data.mat[Yt].nodetree.nodes.first.next.inputs.first.default_value.value;Ft=F.color(255*zt[0],255*zt[1],255*zt[2],255*zt[3])}catch(zt){console.log("\ubca0\uc774\uc2a4 \uc0c9\uc0c1 \uac00\uc838\uc624\uae30 \uc2e4\ud328: ",zt),k.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${ke.aname}: ${M.lang.text.ContentViewer.FailedGetBaseColor}: ${zt}</div>`}try{let zt=ke.data.mat[Yt].nodetree.nodes.first.next.inputs.last.prev.default_value.value;sn=ke.data.mat[Yt].nodetree.nodes.first.next.inputs.last.default_value.value,un=F.color(255*zt[0],255*zt[1],255*zt[2],255*zt[3])}catch(zt){k.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${ke.aname}: ${M.lang.text.ContentViewer.FailedGetEmitColor}: ${zt}</div>`}if(ke.data.mat[Yt].nodetree.nodes.last.id){let zt=ke.data.mat[Yt].nodetree.nodes.last.id.packedfile;if(!zt)throw"unpacked";Jt=zt.data.__data_address__}}}catch(Yt){switch(Yt){case"unpacked":k.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${ke.aname}: ${M.lang.text.ContentViewer.LinkedTexFile}</div>`;break;case"no_mat":k.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${ke.aname}: ${M.lang.text.ContentViewer.NoMaterial}</div>`;break;default:console.log(ke.aname,"_\uc7ac\uc9c8 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Yt),k.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${ke.aname}: ${Yt}</div>`}}ft.computeNormals(),P.push({id:ke.data.address,name:ke.data.aname,color:Ft,emissionColor:un,emissionStrength:sn,texture:Jt,mesh:ft})}break;case 10:N.length<5?(k.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${ke.aname}: ${M.lang.text.ContentViewer.OnWorkReadLightMode}</div>`,N.push({type:"point",loc:Be,rot:je,color:F.color(255,255,255)})):k.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${ke.aname}: ${M.lang.text.ContentViewer.ReachLightLimit}</div>`}yield new Promise(Qe=>setTimeout(Qe,0))}m&&m.dismiss(),setTimeout(()=>{},8e3),p()}),F.camera(0,0,-F.height/2/F.tan(30*F.PI/180),0,0,0,0,1,0)}),F.draw=()=>{if(F.clear(255,255,255,0),F.orbitControl(),N.length)for(let E=0,I=N.length;E<I;E++)"point"===N[E].type&&F.pointLight(N[E].color,N[E].loc);else F.directionalLight(128,128,128,-1,1,1);F.ambientLight(128);for(let E=0,I=P.length;E<I;E++)F.push(),P[E].texture?(F.noStroke(),V[P[E].texture]&&F.texture(V[P[E].texture])):P[E].color&&(F.noStroke(),F.ambientMaterial(P[E].color)),P[E].emissionStrength&&(F.noStroke(),F.emissiveMaterial(P[E].emissionColor)),F.model(P[E].mesh),F.pop()},F.windowResized=()=>{setTimeout(()=>{u.style.maxHeight=window.innerHeight-56-45+"px",k&&k.style("max-height",`${u.clientHeight}px`),F.resizeCanvas(u.clientWidth,u.clientHeight)},50)}})}}return(a=d).\u0275fac=function(u){return new(u||a)($.CoB(S.O),$.CoB(v.o),$.CoB(_.mI),$.CoB(h.k),$.CoB(f.Kg))},a.\u0275prov=$.wxM({token:a,factory:a.\u0275fac,providedIn:"root"}),d})()},4668:(pn,jt,ge)=>{"use strict";ge.d(jt,{k:()=>o});var y=ge(1528),xe=ge(4496),rt=ge(3824),_e=ge(4500);let o=(()=>{var $;class S{constructor(_,h){this.p5toast=_,this.lang=h}initialize(_=(()=>{})){if(this.ionicDB)return;let h=indexedDB.open("/ionicfs",10);h.onsuccess=f=>{f.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=i=>{this.ionicDB=i.target.result,_()}},h.onupgradeneeded=f=>{f.target.result.createObjectStore("FILE_DATA")},h.onerror=f=>{indexedDB.open("/ionicfs",11).onsuccess=w=>{this.ionicDB=w.target.result,_()}}}GetGodotIndexedDB(){var _=this;return(0,y.c)(function*(){if(!_.godotDB)return new Promise((h,f)=>{let x=indexedDB.open("/userfs",21);x.onsuccess=w=>{_.godotDB=x.result,h(void 0)},x.onerror=w=>{console.error("IndexedDB initialized failed: ",w),f(w)}})})()}createRecursiveDirectory(_,h=this.ionicDB){let f=_.lastIndexOf("/"),x=_.substring(0,f);x&&this.checkIfFileExist(x,w=>{let i=h.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${x}`);i.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),this.createRecursiveDirectory(x,h)},i.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a)}})}createDirectory(_){return new Promise((h,f)=>{this.checkIfFileExist(_,x=>{let w=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${_}`);w.onsuccess=i=>{"success"!=i.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),h(void 0)},w.onerror=i=>{console.error("IndexedDB createRecursiveDirectory failed: ",i),f(i)}})})}saveTextFileToUserPath(_,h,f=(w=>{}),x=this.ionicDB){return this.createRecursiveDirectory(h,x),new Promise((w,i)=>{let a=x.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(_)},`/userfs/${h}`);a.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(d),w(d)},a.onerror=d=>{i(d)}})}saveBase64ToUserPath(_,h,f=(w=>{}),x=this.ionicDB){return new Promise((w,i)=>{let a=atob(_.split(",")[1]),d=new ArrayBuffer(a.length),c=new Int8Array(d);for(let l=0,m=a.length;l<m;l++)c[l]=a.charCodeAt(l);this.createRecursiveDirectory(h,x);let u=x.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:c},`/userfs/${h}`);u.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(c),w(c)},u.onerror=l=>{i(l)}})}saveInt8ArrayToUserPath(_,h,f=this.ionicDB){return new Promise((x,w)=>{this.createRecursiveDirectory(h,f);let i=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:_},`/userfs/${h}`);i.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),x()},i.onerror=a=>{w(a)}})}saveBlobToUserPath(_,h,f=(w=>{}),x=this.ionicDB){var w=this;return new Promise(function(){var i=(0,y.c)(function*(a,d){let c;try{let l=yield _.arrayBuffer();c=new Int8Array(l)}catch(l){d(l)}w.createRecursiveDirectory(h,x);let u=x.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:c},`/userfs/${h}`);u.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(c),a(c)},u.onerror=l=>{d(l)}});return function(a,d){return i.apply(this,arguments)}}())}saveFileToUserPath(_,h,f=(w=>{}),x=this.ionicDB){return this.createRecursiveDirectory(h,x),new Promise((w,i)=>{let a=x.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(_,`/userfs/${h}`);a.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(d),w(d)},a.onerror=d=>{i(d)}})}checkIfFileExist(_,h=(x=>{}),f=this.ionicDB){return new Promise((x,w)=>{let i=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${_}`);i.onsuccess=a=>{let d=a.target.result;h(d),x(d)},i.onerror=a=>{w(a)}})}GetFileListFromDB(_,h=(x=>{}),f=this.ionicDB){let x=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((w,i)=>{x.onsuccess=a=>{const d=a.target.result;for(let c=d.length-1;c>=0;c--)d[c].includes(_)?d[c]=d[c].substring(8):d.splice(c,1);h(d),w(d)},x.onerror=a=>{i(a)}})}GetFileInfoFromDB(_,h=(x=>{}),f=this.ionicDB){let x=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((w,i)=>{x.onsuccess=a=>{const d=a.target.result;h(d),w(d)},x.onerror=a=>{i(a)}})}loadTextFromUserPath(_,h=((x,w)=>{}),f=this.ionicDB){return new Promise(x=>{let w=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=i=>{if(i.target.result){let a=(new TextDecoder).decode(i.target.result.contents);h(!0,a),x(a)}else h(!1,`No file: , ${_}`),x(void 0)},w.onerror=i=>{console.error("IndexedDB loadTextFromUserPath failed: ",i),x(void 0)}})}loadBlobFromUserPath(_,h,f=(w=>{}),x=this.ionicDB){let w=x.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((i,a)=>{w.onsuccess=d=>{try{let c=new Blob([d.target.result.contents],{type:h});f(c),i(c)}catch(c){a(c)}},w.onerror=d=>{a(d)}})}DownloadFileFromUserPath(_,h,f,x=this.ionicDB){let w=x.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=i=>{try{let a=new Blob([i.target.result.contents],{type:h}),d=URL.createObjectURL(a),c=document.createElement("a");c.download=f,c.href=d,document.body.appendChild(c),c.click(),document.body.removeChild(c),c.remove(),URL.revokeObjectURL(d),this.p5toast.show({text:this.lang.text.ContentViewer.fileSaved})}catch(a){console.error("DownloadFileFromUserPath: ",a),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${a}`})}},w.onerror=i=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",i)}}removeFileFromUserPath(_,h=(x=>{}),f=this.ionicDB){let x=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${_}`);return new Promise((w,i)=>{x.onsuccess=a=>{h(a),w(a)},x.onerror=a=>{i(a)}})}}return($=S).\u0275fac=function(_){return new(_||$)(xe.CoB(rt.O),xe.CoB(_e.o))},$.\u0275prov=xe.wxM({token:$,factory:$.\u0275fac,providedIn:"root"}),S})()},4500:(pn,jt,ge)=>{"use strict";ge.d(jt,{o:()=>_e});var y=ge(9352),rt=ge(4496);let _e=(()=>{var o;class ${constructor(){this.text={Front:{},Portal:{},Main:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{}},this.isFirstTime=!0,this.lang=navigator.language.split("-")[0];let v=localStorage.getItem("lang");v&&(this.lang=v),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){new y(v=>{v.setup=()=>{v.noCanvas(),v.loadTable("assets/data/translate.csv","csv","header",_=>{let h;_.columns.includes(this.lang)||(this.lang="en"),localStorage.setItem("lang",this.lang);for(let f=0,x=_.rows.length;f<x;f++)"#"==_.rows[f].obj["#"].charAt(0)?(h=_.rows[f].obj["#"].substring(3),this.text[h]||(this.text[h]={})):this.text[h][_.rows[f].obj["#"]]=_.rows[f].obj[this.lang];this.isFirstTime&&this.Callback_nakama(),v.remove()},_=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",_),v.remove()})}})}}return(o=$).\u0275fac=function(v){return new(v||o)},o.\u0275prov=rt.wxM({token:o,factory:o.\u0275fac,providedIn:"root"}),$})()},6884:(pn,jt,ge)=>{"use strict";ge.d(jt,{a:()=>rt});var y=ge(5193),xe=ge(4496);let rt=(()=>{var _e;class o{constructor(){this.users={},this.funcs={onStart:S=>console.warn("onStart \ud568\uc218 \uc5c6\uc74c: ",S),onCheck:S=>console.warn("onCheck \ud568\uc218 \uc5c6\uc74c: ",S),onFailed:S=>console.error("onFailed \ud568\uc218 \uc5c6\uc74c: ",S)}}initialize(){"DesktopPWA"!=y.s1&&"MobilePWA"!=y.s1?(this.server||(this.server=cordova.plugins.wsserver),this.server.start(12011,{onFailure:(v,_,h)=>{this.funcs.onFailed(`Stopped listening on ${v}:${_}. Reason: ${h}`)},onOpen:v=>{this.users[v.uuid]={address:this.users[v.remoteAddr]},Object.keys(this.users).forEach(_=>{this.send_to(_,`Counter:${Object.keys(this.users).length}`)})},onMessage:(v,_)=>{try{let h=JSON.parse(_);"join"==h.type&&(this.users[v.uuid].uid=h.uid,this.users[v.uuid].name=h.name)}catch(h){console.error(`json \ubcc0\ud658 \uc624\ub958_${_}: ${h}`)}Object.keys(this.users).forEach(h=>{this.send_to(h,_)})},onClose:(v,_,h,f)=>{let x=this.users[v.uuid].uid,w=this.users[v.uuid].name;delete this.users[v.uuid];let i={uid:x,name:w,type:"leave",count:Object.keys(this.users).length},a=JSON.stringify(i);Object.keys(this.users).forEach(d=>{this.send_to(d,a)})},origins:[],protocols:[],tcpNoDelay:!0},(v,_)=>{this.funcs.onStart("")},v=>{this.funcs.onFailed(`Did not start. Reason: ${v}`)})):this.funcs.onFailed("Did not start. Reason: \ud50c\ub7ab\ud3fc \ubd88\uc77c\uce58: \uc0ac\uc124 \uc11c\ubc84 \uad6c\ucd95 \ucde8\uc18c")}check_addresses(){"DesktopPWA"!=y.s1&&"MobilePWA"!=y.s1&&(this.server||(this.server=cordova.plugins.wsserver),this.server.getInterfaces(S=>{this.funcs.onCheck(S)}))}disconnect_peer(S,v=4e3,_="EMPTY"){this.server.close({uuid:S},v,_)}stop(){"DesktopPWA"!=y.s1&&"MobilePWA"!=y.s1&&this.server.stop((S,v)=>{this.funcs.onFailed(`Stopped listening on ${v}`)})}send_to(S,v){this.server.send({uuid:S},v)}}return(_e=o).\u0275fac=function(S){return new(S||_e)},_e.\u0275prov=xe.wxM({token:_e,factory:_e.\u0275fac,providedIn:"root"}),o})()},6819:(pn,jt,ge)=>{"use strict";ge.d(jt,{s:()=>S});var y=ge(1528),xe=ge(5193),rt=ge(4496),_e=ge(6928),o=ge(1028),$=ge(4668);let S=(()=>{var v;class _{constructor(f,x,w){this.noti=f,this.bgmode=x,this.indexed=w,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={},this.listeners={}}change_silent_settings(f){this.settings.silent[f]=!this.settings.silent[f],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(f,x)=>{f&&x&&(this.settings=JSON.parse(x)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){return(0,y.c)(function*(){("DesktopPWA"==xe.s1||"MobilePWA"==xe.s1)&&("Notification"in window||console.error("Notification \ubbf8\uc9c0\uc6d0 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4"),Notification.requestPermission().then(f=>{"granted"!=f&&console.log("\uc54c\ub9bc \uac70\uc808",f)},f=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800:",f)}))})()}PushLocal(f,x="favicon",w=(()=>{})){if("DesktopPWA"==xe.s1||"MobilePWA"==xe.s1){if(document.hasFocus()&&this.Current==x||f.triggerWhen_ln)return;const i={badge:`${f.badge}`,body:f.body,icon:`assets/icon/${f.icon||f.smallIcon_ln||x||"favicon"}.png`,image:f.image,lang:f.lang_wn,silent:!this.settings.silent[f.icon||f.smallIcon_ln]||!1,tag:f.tag_wn,actions:f.actions_wn,data:f.data_wn,renotify:f.renotify_wn,requireInteraction:f.requireInteraction_wn,dir:f.dir_wn};if("DesktopPWA"==xe.s1)this.WebNoties[f.id]&&(this.WebNoties[f.id].close(),delete this.WebNoties[f.id]),this.WebNoties[f.id]=new Notification(f.title,{...i}),this.WebNoties[f.id].onclick=()=>{w(),window.focus(),this.WebNoties[f.id].close()};else if(window.swReg&&window.swReg.active){if(this.WebNoties[f.id]){try{this.WebNoties[f.id].close()}catch{}delete this.WebNoties[f.id]}try{this.WebNoties[f.id]=window.swReg.showNotification(f.title,{...i})}catch{}try{this.WebNoties[f.id].onclick=()=>{w(),window.focus(),this.WebNoties[f.id].close()}}catch{}}}else{if(!this.bgmode.isActive()&&this.Current==x)return;let i={};i.id=f.id,i.title=f.title,f.body&&(i.text=f.body),f.actions_ln&&(i.actions=f.actions_ln),f.autoCancel_ln&&(i.autoClear=f.autoCancel_ln),f.launch_ln&&(i.launch=f.launch_ln),f.badge&&(i.badge=f.badge),f.image&&(i.attachments=[f.image]),f.clock_ln&&(i.clock=f.clock_ln),f.iconColor_ln&&(i.color=f.iconColor_ln||"ffd94e"),f.extra_ln&&(i.data=f.extra_ln),f.group_ln&&(i.group=f.group_ln),f.groupSummary_ln&&(i.groupSummary=f.groupSummary_ln),f.groupSummaryText_ln&&(i.summary=f.groupSummaryText_ln),f.led_ln&&(i.led=f.led_ln),f.lockscreen_ln&&(i.lockscreen=f.lockscreen_ln),f.mediaSesion_ln&&(i.mediaSession=f.mediaSesion_ln),f.number_ln&&(i.number=f.number_ln),f.progressBar_ln&&(i.progressBar=f.progressBar_ln),f.priority_ln&&(i.priority=f.priority_ln),i.silent=!this.settings.silent[f.smallIcon_ln]||!1,f.timeoutAfter_ln&&(i.timeoutAfter=f.timeoutAfter_ln),f.wakeup_ln&&(i.wakeup=f.wakeup_ln),f.ongoing_ln&&(i.sticky=f.ongoing_ln),f.triggerWhen_ln&&(i.trigger=f.triggerWhen_ln),f.vibrate_ln&&(i.vibrate=f.vibrate_ln),f.icon&&(i.icon=f.icon),i.smallIcon=`res://${f.smallIcon_ln||x||"icon_mono"}`,i.sound=`res://${f.sound_ln||"platform_default"}`,i.foreground=!0,this.noti.schedule(i)}}GetNotificationIds(f=(x=>{})){"DesktopPWA"==xe.s1||"MobilePWA"==xe.s1||this.noti.getScheduledIds().then(x=>{f(x)})}ClearNoti(f){"DesktopPWA"==xe.s1?this.WebNoties[f]&&this.WebNoties[f].close():"MobilePWA"!=xe.s1&&this.noti.clear(f)}SetListener(f,x=((w,i)=>console.warn(`${f}: ${w}/${i}`))){"DesktopPWA"==xe.s1||"MobilePWA"==xe.s1||(this.listeners[f]=(w,i)=>{x(w,i)},cordova.plugins.notification.local.on(f,this.listeners[f]))}RemoveListener(f){"DesktopPWA"==xe.s1||"MobilePWA"==xe.s1||(cordova.plugins.notification.local.un(f,this.listeners[f]),delete this.listeners[f])}}return(v=_).\u0275fac=function(f){return new(f||v)(rt.CoB(_e.G8),rt.CoB(o.Y),rt.CoB($.k))},v.\u0275prov=rt.wxM({token:v,factory:v.\u0275fac,providedIn:"root"}),_})()},6124:(pn,jt,ge)=>{"use strict";ge.d(jt,{_:()=>I});var y=ge(6928),xe=ge(5193),rt=ge(5020),_e=ge(4496);let o=(()=>{var W;class Y{constructor(){this.client={},this.status={dedicated_groupchat:"idle",community_ranchat:"idle"},this.userInput={dedicated_groupchat:{logs:[],text:"",last_message:{}},community_ranchat:{logs:[],text:"",last_message:{}}},this.ConnectedNow={dedicated_groupchat:0,community_ranchat:0},this.funcs={dedicated_groupchat:{onopen:te=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",te),onclose:te=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",te),onmessage:te=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",te)},community_ranchat:{onopen:te=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",te),onclose:te=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",te),onmessage:te=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",te)}}}initialize(te,J){this.client[te]=new WebSocket(`${J}:12011`),this.client[te].onopen=ne=>{this.funcs[te].onopen(ne)},this.client[te].onclose=ne=>{this.funcs[te].onclose(ne)},this.client[te].onerror=ne=>{console.error("\uc624\ub958 \ubc1c\uc0dd: ",ne)},this.client[te].onmessage=ne=>{"string"==typeof ne.data?this.funcs[te].onmessage(ne.data):ne.data.text().then(fe=>{this.funcs[te].onmessage(fe)})}}send(te,J){this.client?this.client[te].send(J):console.warn("client \uc5f0\uacb0\ub418\uc5b4\uc788\uc9c0 \uc54a\uc74c: \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \ucde8\uc18c: ",J)}disconnect(te,J=1e3,q="user_close"){this.client&&this.client[te].close(J,q)}}return(W=Y).\u0275fac=function(te){return new(te||W)},W.\u0275prov=_e.wxM({token:W,factory:W.\u0275fac,providedIn:"root"}),Y})();var $=ge(5624),S=ge(9240),v=ge(8268),_=ge(6819),h=ge(4476),f=ge(4180),x=ge(4500),w=ge(7136),i=ge(6884),a=ge(1368),d=ge(4716);const c=["minimalchat_input"];function u(W,Y){if(1&W&&(_e.I0R(0,"ion-select-option"),_e.OEk(1),_e.C$Y()),2&W){const z=Y.$implicit;_e.yG2(),_e.oRS("",z.key+" ("+z.address+")"," ")}}function l(W,Y){if(1&W){const z=_e.KQA();_e.I0R(0,"ion-select",14),_e.qCj("ionChange",function(J){_e.usT(z);const q=_e.GaO(2);return _e.CGJ(q.SelectOtherAddress(J))}),_e.yuY(1,u,2,1,"ion-select-option",9),_e.C$Y()}if(2&W){const z=_e.GaO(2);_e.E7m("label",z.lang.text.MinimalChat.shareAddress)("placeholder",z.lang.text.MinimalChat.selectNetwork),_e.yG2(),_e.E7m("ngForOf",z.addresses)}}function m(W,Y){if(1&W&&_e.wR5(0,"img",15),2&W){const z=_e.GaO(2);_e.E7m("src",z.QRCodeSRC,_e.K6U)}}function p(W,Y){if(1&W&&(_e.I0R(0,"div")(1,"ion-item-divider"),_e.yuY(2,l,2,3,"ion-select",12),_e.C$Y(),_e.yuY(3,m,1,1,"img",13),_e.C$Y()),2&W){const z=_e.GaO();_e.yG2(2),_e.E7m("ngIf",z.isLocalAddress&&z.isMobileApp),_e.yG2(),_e.E7m("ngIf",z.QRCodeSRC)}}function b(W,Y){if(1&W&&(_e.I0R(0,"font",18),_e.OEk(1),_e.C$Y()),2&W){const z=_e.GaO().$implicit;_e.CI5("color","#",z.color,""),_e.yG2(),_e.cNF(z.text)}}function M(W,Y){if(1&W&&(_e.I0R(0,"b"),_e.OEk(1),_e.C$Y()),2&W){const z=_e.GaO(2).$implicit;_e.yG2(),_e.oRS("",z.target,":")}}function F(W,Y){if(1&W&&(_e.I0R(0,"font",19)(1,"font",18),_e.yuY(2,M,2,1,"b",8),_e.C$Y(),_e.OEk(3),_e.C$Y()),2&W){const z=_e.GaO().$implicit;_e.yG2(),_e.CI5("color","#",z.color,""),_e.yG2(),_e.E7m("ngIf",z.target),_e.yG2(),_e.oRS(" "," "+z.text," ")}}function N(W,Y){if(1&W&&(_e.I0R(0,"p"),_e.yuY(1,b,2,2,"font",16)(2,F,4,3,"font",17),_e.C$Y()),2&W){const z=Y.$implicit;_e.yG2(),_e.E7m("ngIf",!z.target),_e.yG2(),_e.E7m("ngIf",z.target)}}function P(W,Y){if(1&W){const z=_e.KQA();_e.I0R(0,"td")(1,"ion-button",20),_e.qCj("click",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.join_ranchat())}),_e.OEk(2),_e.C$Y()()}if(2&W){const z=_e.GaO();_e.yG2(2),_e.oRS(" ",z.lang.text.MinimalChat.start_chat," ")}}function j(W,Y){if(1&W){const z=_e.KQA();_e.I0R(0,"td")(1,"ion-button",21),_e.qCj("click",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.join_ranchat())}),_e.OEk(2),_e.C$Y()()}if(2&W){const z=_e.GaO();_e.yG2(),_e.E7m("disabled",z.req_refreshed),_e.yG2(),_e.oRS(" ",z.lang.text.MinimalChat.new_chat," ")}}function V(W,Y){if(1&W){const z=_e.KQA();_e.I0R(0,"td")(1,"ion-button",22),_e.qCj("click",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.quit_chat())}),_e.wR5(2,"ion-icon",23),_e.C$Y()()}}function k(W,Y){if(1&W){const z=_e.KQA();_e.I0R(0,"td",24)(1,"ion-input",25,26),_e.qCj("ionFocus",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.focus_on_input(120))})("keyup.enter",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.send())}),_e.iHE("ngModelChange",function(J){_e.usT(z);const q=_e.GaO();return _e.kNx(q.client.userInput[q.target].text,J)||(q.client.userInput[q.target].text=J),_e.CGJ(J)}),_e.C$Y()()}if(2&W){const z=_e.GaO();_e.yG2(),_e.E7m("placeholder",z.lang.text.MinimalChat.input_placeholder),_e.OKB("ngModel",z.client.userInput[z.target].text)}}function E(W,Y){if(1&W){const z=_e.KQA();_e.I0R(0,"td")(1,"ion-button",22),_e.qCj("click",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.send())}),_e.wR5(2,"ion-icon",27),_e.C$Y()()}}let I=(()=>{var W;class Y{constructor(te,J,q,ne,fe,De,K,L,se,pe,Ce){this.client=te,this.modalCtrl=J,this.device=q,this.noti=ne,this.title=fe,this.params=De,this.statusBar=K,this.lang=L,this.nakama=se,this.local_server=pe,this.global=Ce,this.uuid=this.device.uuid,this.Header="ranchat",this.iconColor="d8d8d8",this.lnId=11,this.req_refreshed=!1,this.isCustomDedicated=!1,this.isLocalAddress=!1,this.isMobileApp=!1,this.open_this=Fe=>{Fe.id==this.lnId&&this.modalCtrl.create({component:Y,componentProps:{address:this.params.get("address"),name:this.params.get("name")}}).then(We=>We.present())},this.target="community_ranchat",this.BackButtonPressed=!1}SelectOtherAddress(te){let J=te.detail.value,q=J.substring(J.indexOf("(")+1,J.indexOf(")"));this.QRCodeSRC=this.global.readasQRCodeFromString(`${xe.uM}pjcone_pwa/?group_dedi=ws://${q}`)}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){this.InitBrowserBackButtonOverride(),this.isMobileApp="Android"==xe.s1||"iOS"==xe.s1,this.local_server.funcs.onCheck=ne=>{let fe=Object.keys(ne),De=[];fe.forEach(K=>{ne[K].ipv4Addresses.length&&ne[K].ipv4Addresses.forEach(L=>{De.push({address:L,key:K})}),this.addresses=De})},this.local_server.check_addresses(),this.header_title=this.lang.text.MinimalChat.header_title_ranchat;let te=this.params.get("address"),J=this.params.get("name");if(te&&(this.target="dedicated_groupchat",this.lnId=12,this.header_title=this.lang.text.MinimalChat.header_title_group,this.client.status[this.target]="custom",this.Header="simplechat",this.isCustomDedicated=!0,this.isLocalAddress="ws://127.0.0.1"==te,this.isLocalAddress||(this.QRCodeSRC=this.global.readasQRCodeFromId({type:"group_dedi",value:{address:te}}))),this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.title.setTitle(te?this.lang.text.MinimalChat.WebTitle_group:this.lang.text.MinimalChat.WebTitle_ran),this.noti.Current=this.Header,this.minimal_chat_log=document.getElementById("minimal_chat_div"),this.minimal_chat_log.onscroll=ne=>{this.minimal_chat_log.scrollHeight==this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight&&this.scroll_down()},document.getElementById("favicon").setAttribute("href","assets/icon/simplechat.png"),!this.client.client[this.target]||this.client.client[this.target].readyState!=this.client.client[this.target].OPEN){this.noti.SetListener(`send${this.target}`,(fe,De)=>{this.noti.ClearNoti(fe.id),this.send(De.text)}),this.noti.SetListener(`reconn${this.target}`,fe=>{this.noti.ClearNoti(fe.id),this.join_ranchat()}),this.noti.SetListener(`exit${this.target}`,fe=>{this.noti.ClearNoti(fe.id),this.quit_chat()}),this.reply_act=[{id:`send${this.target}`,type:y.kZ.INPUT,title:this.lang.text.MinimalChat.Noti_Reply}],te||this.reply_act.push({id:`reconn${this.target}`,title:this.lang.text.MinimalChat.new_chat,launch:!1}),this.client.userInput[this.target].logs.length=0;let ne={color:rt.Mp?"bbb":"444",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.joinChat_group:this.lang.text.MinimalChat.joinChat_ran};this.client.userInput[this.target].logs.push(ne),this.client.userInput[this.target].last_message=ne,this.client.initialize(this.target,te)}this.client.funcs[this.target].onmessage=ne=>{try{let fe=JSON.parse(ne),K=this.uuid==fe.uid?J||this.lang.text.MinimalChat.name_me:fe.name||("custom"==this.client.status[this.target]?this.lang.text.MinimalChat.name_stranger_group:this.lang.text.MinimalChat.name_stranger_ran),L=fe.uid?(fe.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):rt.Mp?"888":"444";if(fe.msg){let pe={color:L,text:fe.msg,target:K};this.client.userInput[this.target].logs.push(pe),this.client.userInput[this.target].last_message=pe}else if(fe.type)if("join"==fe.type){let pe={color:L,text:this.lang.text.MinimalChat.user_join_comment,target:K};this.client.userInput[this.target].logs.push(pe),this.client.userInput[this.target].last_message=pe}else{let pe={color:L,text:this.lang.text.MinimalChat.user_out_comment,target:K};this.client.userInput[this.target].logs.push(pe),this.client.userInput[this.target].last_message=pe}let se="certified";if(fe.count&&(this.client.ConnectedNow[this.target]=fe.count),fe.msg)this.noti.PushLocal({id:this.lnId,title:K,body:fe.msg,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this);else if(fe.type){let pe="join"==fe.type;pe||(se="pending"),this.noti.PushLocal({id:this.lnId,title:pe?this.lang.text.MinimalChat.user_join:this.lang.text.MinimalChat.user_out,body:K+` | ${pe?this.lang.text.MinimalChat.user_join_comment:this.lang.text.MinimalChat.user_out_comment}`,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this)}this.statusBar.settings[this.target]=se,setTimeout(()=>{this.statusBar.settings[this.target]==se&&(this.statusBar.settings[this.target]="online")},250)}catch{switch(ne){case"GOT_MATCHED":this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250),this.client.userInput[this.target].logs.length=0;let De={color:rt.Mp?"8bb":"488",text:this.lang.text.MinimalChat.meet_someone};this.client.userInput[this.target].logs.push(De),this.client.userInput[this.target].last_message=De,this.client.status[this.target]="linked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.meet_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;case"PARTNER_OUT":this.statusBar.settings[this.target]="pending",setTimeout(()=>{"pending"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250);let K={color:rt.Mp?"b88":"844",text:this.lang.text.MinimalChat.leave_someone};this.client.userInput[this.target].logs.push(K),this.client.userInput[this.target].last_message=K,this.client.status[this.target]="unlinked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.leave_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;default:let L=ne.split(":");this.client.ConnectedNow[this.target]=parseInt(L[1])}}this.focus_on_input()},this.client.funcs[this.target].onclose=ne=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let fe={color:"faa",text:this.lang.text.MinimalChat.failed_to_join};this.client.userInput[this.target].logs.push(fe),this.client.userInput[this.target].last_message=fe,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.failed_to_join,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)},this.client.funcs[this.target].onopen=ne=>{this.statusBar.settings[this.target]="online",te&&this.client.send(this.target,JSON.stringify({uid:this.uuid,name:J,type:"join"})),this.client.funcs[this.target].onclose=fe=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let De=this.lang.text.MinimalChat.cannot_join,K={color:"faa",text:De};this.client.userInput[this.target].logs.push(K),this.client.userInput[this.target].last_message=K,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:De,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}}}ionViewDidEnter(){setTimeout(()=>{this.scroll_down()},0)}scroll_down(){this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"})}join_ranchat(){if(this.client.client[this.target].readyState==this.client.client[this.target].OPEN){this.client.send(this.target,"REQ_REGROUPING"),this.client.status[this.target]="unlinked",this.client.userInput[this.target].logs.length=0;let te={color:rt.Mp?"bbb":"444",text:this.lang.text.MinimalChat.waiting_someone};this.client.userInput[this.target].logs.push(te),this.client.userInput[this.target].last_message=te,this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"}),this.focus_on_input(),this.req_refreshed=!0,setTimeout(()=>{this.req_refreshed=!1},1e3)}else{let te=this.lang.text.MinimalChat.cannot_start,J={color:"faa",text:te};this.client.userInput[this.target].logs.push(J),this.client.userInput[this.target].last_message=J,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:te,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}}focus_on_input(te){this.minimalchat_input.setFocus(),setTimeout(()=>{let J=this.minimal_chat_log.scrollHeight;J<this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight+120&&this.minimal_chat_log.scrollTo({top:J,behavior:"smooth"})},te||0)}send(te){this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250);let J={uid:this.uuid,msg:te||this.client.userInput[this.target].text};if(!J.msg.trim())return;let q=this.params.get("name");q&&(J.name=q),this.client.send(this.target,JSON.stringify(J)),this.client.userInput[this.target].text="",this.focus_on_input()}quit_chat(){this.client.funcs[this.target].onclose=()=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let te={color:rt.Mp?"ffa":"884",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.leave_chat_group:this.lang.text.MinimalChat.leave_chat_ran};this.client.userInput[this.target].logs.push(te),this.client.userInput[this.target].last_message=te,this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"})},this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.client.disconnect(this.target),"ws://127.0.0.1"==this.params.get("address")&&this.local_server.stop(),this.modalCtrl.dismiss()}ionViewWillLeave(){this.title.setTitle("Project: Cone"),document.getElementById("favicon").setAttribute("href","assets/icon/favicon.png"),this.noti.Current=void 0}}return(W=Y).\u0275fac=function(te){return new(te||W)(_e.GI1(o),_e.GI1($.qS),_e.GI1(v.G),_e.GI1(_.s),_e.GI1(h.OY),_e.GI1(S.a6),_e.GI1(f.Y),_e.GI1(x.o),_e.GI1(w.h),_e.GI1(i.a),_e.GI1(rt.A1))},W.\u0275cmp=_e.In1({type:W,selectors:[["app-minimal-chat"]],viewQuery:function(te,J){if(1&te&&_e.CC$(c,5),2&te){let q;_e.wto(q=_e.Gqi())&&(J.minimalchat_input=q.first)}},decls:23,vars:10,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["slot","end",2,"margin","8px 16px"],["id","main_table",2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],["id","minimal_chat_div",1,"main",2,"max-width","100vw"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","input_table",2,"width","100%"],["style","width: 100%;",4,"ngIf"],[3,"label","placeholder","ionChange",4,"ngIf"],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src",4,"ngIf"],[3,"label","placeholder","ionChange"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"src"],[3,"color",4,"ngIf"],["class","default_text",4,"ngIf"],[3,"color"],[1,"default_text"],["expand","block",3,"click"],["expand","block",3,"disabled","click"],["expand","block","fill","clear",3,"click"],["name","exit"],[2,"width","100%"],["id","minimalchat_input","type","text",3,"placeholder","ngModel","ionFocus","keyup.enter","ngModelChange"],["minimalchat_input",""],["name","send"]],template:function(te,J){1&te&&(_e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),_e.qCj("click",function(){return J.modalCtrl.dismiss()}),_e.wR5(3,"ion-back-button",2),_e.C$Y(),_e.I0R(4,"ion-title"),_e.OEk(5),_e.C$Y(),_e.I0R(6,"div",3),_e.OEk(7),_e.C$Y()()(),_e.I0R(8,"ion-content")(9,"table",4)(10,"tr",5)(11,"td",6)(12,"div",7),_e.yuY(13,p,4,2,"div",8)(14,N,3,2,"p",9),_e.C$Y()()()()(),_e.I0R(15,"ion-footer")(16,"table",10)(17,"tr"),_e.yuY(18,P,3,1,"td",8)(19,j,3,2,"td",8)(20,V,3,0,"td",8)(21,k,3,2,"td",11)(22,E,3,0,"td",8),_e.C$Y()()()),2&te&&(_e.yG2(5),_e.cNF(J.header_title),_e.yG2(2),_e.CAO("",J.lang.text.MinimalChat.concurrent_users,": ",J.client.ConnectedNow[J.target],""),_e.yG2(6),_e.E7m("ngIf",J.isCustomDedicated&&(!J.isLocalAddress||J.isMobileApp)),_e.yG2(),_e.E7m("ngForOf",J.client.userInput[J.target].logs),_e.yG2(4),_e.E7m("ngIf","idle"==J.client.status[J.target]),_e.yG2(),_e.E7m("ngIf","linked"==J.client.status[J.target]||"unlinked"==J.client.status[J.target]),_e.yG2(),_e.E7m("ngIf","unlinked"==J.client.status[J.target]||"idle"==J.client.status[J.target]||"custom"==J.client.status[J.target]),_e.yG2(),_e.E7m("ngIf","linked"==J.client.status[J.target]||"custom"==J.client.status[J.target]),_e.yG2(),_e.E7m("ngIf","linked"==J.client.status[J.target]||"custom"==J.client.status[J.target]))},dependencies:[a.ay,a.u_,d.ue,d._G,$.sn,$.GS,$._i,$.eV,$.wB,$.Ko,$.A5,$.S8,$.Cy,$.gd,$.tM,$.Md,$.IT,$.qG,$.Im],styles:[".main[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}p[_ngcontent-%COMP%]{margin:8px 0 0}.default_text[_ngcontent-%COMP%]{color:var(--miniranchat-default-text)}.bottom_thumbnail[_ngcontent-%COMP%]{width:100%;max-width:100vw;height:-moz-fit-content;height:fit-content;max-height:96px;transform:translateY(-100%);position:absolute;background:var(--chatroom-last-msg-viewer-bg);padding:8px;overflow:hidden}ion-button[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px}"]}),Y})()},7136:(pn,jt,ge)=>{"use strict";ge.d(jt,{i:()=>Wn,h:()=>Nn});var x,w,y=ge(1528),xe=Object.defineProperty,rt=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,$=(ee,ie,we)=>ie in ee?xe(ee,ie,{enumerable:!0,configurable:!0,writable:!0,value:we}):ee[ie]=we,S=(ee,ie)=>{for(var we in ie||(ie={}))_e.call(ie,we)&&$(ee,we,ie[we]);if(rt)for(var we of rt(ie))o.call(ie,we)&&$(ee,we,ie[we]);return ee},v=(ee,ie,we)=>new Promise((D,R)=>{var U=Q=>{try{le(we.next(Q))}catch(ye){R(ye)}},H=Q=>{try{le(we.throw(Q))}catch(ye){R(ye)}},le=Q=>Q.done?D(Q.value):Promise.resolve(Q.value).then(U,H);le((we=we.apply(ee,ie)).next())}),_=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof _<"u"&&_,h_searchParams="URLSearchParams"in _,h_iterable="Symbol"in _&&"iterator"in Symbol,h_blob="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),h_formData="FormData"in _,h_arrayBuffer="ArrayBuffer"in _;function i(ee){if("string"!=typeof ee&&(ee=String(ee)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(ee)||""===ee)throw new TypeError('Invalid character in header field name: "'+ee+'"');return ee.toLowerCase()}function a(ee){return"string"!=typeof ee&&(ee=String(ee)),ee}function d(ee){var ie={next:function(){var we=ee.shift();return{done:void 0===we,value:we}}};return h_iterable&&(ie[Symbol.iterator]=function(){return ie}),ie}function c(ee){this.map={},ee instanceof c?ee.forEach(function(ie,we){this.append(we,ie)},this):Array.isArray(ee)?ee.forEach(function(ie){this.append(ie[0],ie[1])},this):ee&&Object.getOwnPropertyNames(ee).forEach(function(ie){this.append(ie,ee[ie])},this)}function u(ee){if(ee.bodyUsed)return Promise.reject(new TypeError("Already read"));ee.bodyUsed=!0}function l(ee){return new Promise(function(ie,we){ee.onload=function(){ie(ee.result)},ee.onerror=function(){we(ee.error)}})}function m(ee){var ie=new FileReader,we=l(ie);return ie.readAsArrayBuffer(ee),we}function M(ee){if(ee.slice)return ee.slice(0);var ie=new Uint8Array(ee.byteLength);return ie.set(new Uint8Array(ee)),ie.buffer}function F(){return this.bodyUsed=!1,this._initBody=function(ee){this.bodyUsed=this.bodyUsed,this._bodyInit=ee,ee?"string"==typeof ee?this._bodyText=ee:h_blob&&Blob.prototype.isPrototypeOf(ee)?this._bodyBlob=ee:h_formData&&FormData.prototype.isPrototypeOf(ee)?this._bodyFormData=ee:h_searchParams&&URLSearchParams.prototype.isPrototypeOf(ee)?this._bodyText=ee.toString():h_arrayBuffer&&h_blob&&function f(ee){return ee&&DataView.prototype.isPrototypeOf(ee)}(ee)?(this._bodyArrayBuffer=M(ee.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ee)||w(ee))?this._bodyArrayBuffer=M(ee):this._bodyText=ee=Object.prototype.toString.call(ee):this._bodyText="",this.headers.get("content-type")||("string"==typeof ee?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h_searchParams&&URLSearchParams.prototype.isPrototypeOf(ee)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h_blob&&(this.blob=function(){var ee=u(this);if(ee)return ee;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(m)}),this.text=function(){var ee=u(this);if(ee)return ee;if(this._bodyBlob)return function p(ee){var ie=new FileReader,we=l(ie);return ie.readAsText(ee),we}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function b(ee){for(var ie=new Uint8Array(ee),we=new Array(ie.length),D=0;D<ie.length;D++)we[D]=String.fromCharCode(ie[D]);return we.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h_formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}h_arrayBuffer&&(x=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(ee){return ee&&x.indexOf(Object.prototype.toString.call(ee))>-1}),c.prototype.append=function(ee,ie){ee=i(ee),ie=a(ie);var we=this.map[ee];this.map[ee]=we?we+", "+ie:ie},c.prototype.delete=function(ee){delete this.map[i(ee)]},c.prototype.get=function(ee){return ee=i(ee),this.has(ee)?this.map[ee]:null},c.prototype.has=function(ee){return this.map.hasOwnProperty(i(ee))},c.prototype.set=function(ee,ie){this.map[i(ee)]=a(ie)},c.prototype.forEach=function(ee,ie){for(var we in this.map)this.map.hasOwnProperty(we)&&ee.call(ie,this.map[we],we,this)},c.prototype.keys=function(){var ee=[];return this.forEach(function(ie,we){ee.push(we)}),d(ee)},c.prototype.values=function(){var ee=[];return this.forEach(function(ie){ee.push(ie)}),d(ee)},c.prototype.entries=function(){var ee=[];return this.forEach(function(ie,we){ee.push([we,ie])}),d(ee)},h_iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function j(ee,ie){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var we=(ie=ie||{}).body;if(ee instanceof j){if(ee.bodyUsed)throw new TypeError("Already read");this.url=ee.url,this.credentials=ee.credentials,ie.headers||(this.headers=new c(ee.headers)),this.method=ee.method,this.mode=ee.mode,this.signal=ee.signal,!we&&null!=ee._bodyInit&&(we=ee._bodyInit,ee.bodyUsed=!0)}else this.url=String(ee);if(this.credentials=ie.credentials||this.credentials||"same-origin",(ie.headers||!this.headers)&&(this.headers=new c(ie.headers)),this.method=function P(ee){var ie=ee.toUpperCase();return N.indexOf(ie)>-1?ie:ee}(ie.method||this.method||"GET"),this.mode=ie.mode||this.mode||null,this.signal=ie.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&we)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(we),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==ie.cache&&"no-cache"!==ie.cache)){var D=/([?&])_=[^&]*/;D.test(this.url)?this.url=this.url.replace(D,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function V(ee){var ie=new FormData;return ee.trim().split("&").forEach(function(we){if(we){var D=we.split("="),R=D.shift().replace(/\+/g," "),U=D.join("=").replace(/\+/g," ");ie.append(decodeURIComponent(R),decodeURIComponent(U))}}),ie}function k(ee){var ie=new c;return ee.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(D){return 0===D.indexOf("\n")?D.substr(1,D.length):D}).forEach(function(D){var R=D.split(":"),U=R.shift().trim();if(U){var H=R.join(":").trim();ie.append(U,H)}}),ie}function E(ee,ie){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ie||(ie={}),this.type="default",this.status=void 0===ie.status?200:ie.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===ie.statusText?"":""+ie.statusText,this.headers=new c(ie.headers),this.url=ie.url||"",this._initBody(ee)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})},F.call(j.prototype),F.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},E.error=function(){var ee=new E(null,{status:0,statusText:""});return ee.type="error",ee};var I=[301,302,303,307,308];E.redirect=function(ee,ie){if(-1===I.indexOf(ie))throw new RangeError("Invalid status code");return new E(null,{status:ie,headers:{location:ee}})};var W=_.DOMException;try{new W}catch{(W=function(ie,we){this.message=ie,this.name=we;var D=Error(ie);this.stack=D.stack}).prototype=Object.create(Error.prototype),W.prototype.constructor=W}function Y(ee,ie){return new Promise(function(we,D){var R=new j(ee,ie);if(R.signal&&R.signal.aborted)return D(new W("Aborted","AbortError"));var U=new XMLHttpRequest;function H(){U.abort()}U.onload=function(){var Q={status:U.status,statusText:U.statusText,headers:k(U.getAllResponseHeaders()||"")};Q.url="responseURL"in U?U.responseURL:Q.headers.get("X-Request-URL");var ye="response"in U?U.response:U.responseText;setTimeout(function(){we(new E(ye,Q))},0)},U.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},U.onabort=function(){setTimeout(function(){D(new W("Aborted","AbortError"))},0)},U.open(R.method,function le(Q){try{return""===Q&&_.location.href?_.location.href:Q}catch{return Q}}(R.url),!0),"include"===R.credentials?U.withCredentials=!0:"omit"===R.credentials&&(U.withCredentials=!1),"responseType"in U&&(h_blob?U.responseType="blob":h_arrayBuffer&&R.headers.get("Content-Type")&&-1!==R.headers.get("Content-Type").indexOf("application/octet-stream")&&(U.responseType="arraybuffer")),!ie||"object"!=typeof ie.headers||ie.headers instanceof c?R.headers.forEach(function(Q,ye){U.setRequestHeader(ye,Q)}):Object.getOwnPropertyNames(ie.headers).forEach(function(Q){U.setRequestHeader(Q,a(ie.headers[Q]))}),R.signal&&(R.signal.addEventListener("abort",H),U.onreadystatechange=function(){4===U.readyState&&R.signal.removeEventListener("abort",H)}),U.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}Y.polyfill=!0,_.fetch||(_.fetch=Y,_.Headers=c,_.Request=j,_.Response=E);var z="function"==typeof atob,te="function"==typeof btoa,J="function"==typeof Buffer,q="function"==typeof TextDecoder?new TextDecoder:void 0,ne="function"==typeof TextEncoder?new TextEncoder:void 0,De=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),K=(ee=>{let ie={};return ee.forEach((we,D)=>ie[we]=D),ie})(De),L=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,se=String.fromCharCode.bind(String),pe="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):ee=>new Uint8Array(Array.prototype.slice.call(ee,0)),Fe=ee=>ee.replace(/[^A-Za-z0-9\+\/]/g,""),tt=te?ee=>btoa(ee):J?ee=>Buffer.from(ee,"binary").toString("base64"):ee=>{let ie,we,D,R,U="";const H=ee.length%3;for(let le=0;le<ee.length;){if((we=ee.charCodeAt(le++))>255||(D=ee.charCodeAt(le++))>255||(R=ee.charCodeAt(le++))>255)throw new TypeError("invalid character found");ie=we<<16|D<<8|R,U+=De[ie>>18&63]+De[ie>>12&63]+De[ie>>6&63]+De[63&ie]}return H?U.slice(0,H-3)+"===".substring(H):U},Oe=J?ee=>Buffer.from(ee).toString("base64"):ee=>{let we=[];for(let D=0,R=ee.length;D<R;D+=4096)we.push(se.apply(null,ee.subarray(D,D+4096)));return tt(we.join(""))},ke=ee=>{if(ee.length<2)return(ie=ee.charCodeAt(0))<128?ee:ie<2048?se(192|ie>>>6)+se(128|63&ie):se(224|ie>>>12&15)+se(128|ie>>>6&63)+se(128|63&ie);var ie=65536+1024*(ee.charCodeAt(0)-55296)+(ee.charCodeAt(1)-56320);return se(240|ie>>>18&7)+se(128|ie>>>12&63)+se(128|ie>>>6&63)+se(128|63&ie)},Be=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Qe=J?ee=>Buffer.from(ee,"utf8").toString("base64"):ne?ee=>Oe(ne.encode(ee)):ee=>tt((ee=>ee.replace(Be,ke))(ee)),Ke=(ee,ie=!1)=>ie?(ee=>ee.replace(/=/g,"").replace(/[+\/]/g,ie=>"+"==ie?"-":"_"))(Qe(ee)):Qe(ee),gt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ft=ee=>{switch(ee.length){case 4:var we=((7&ee.charCodeAt(0))<<18|(63&ee.charCodeAt(1))<<12|(63&ee.charCodeAt(2))<<6|63&ee.charCodeAt(3))-65536;return se(55296+(we>>>10))+se(56320+(1023&we));case 3:return se((15&ee.charCodeAt(0))<<12|(63&ee.charCodeAt(1))<<6|63&ee.charCodeAt(2));default:return se((31&ee.charCodeAt(0))<<6|63&ee.charCodeAt(1))}},Jt=z?ee=>atob(Fe(ee)):J?ee=>Buffer.from(ee,"base64").toString("binary"):ee=>{if(ee=ee.replace(/\s+/g,""),!L.test(ee))throw new TypeError("malformed base64.");ee+="==".slice(2-(3&ee.length));let ie,D,R,we="";for(let U=0;U<ee.length;)ie=K[ee.charAt(U++)]<<18|K[ee.charAt(U++)]<<12|(D=K[ee.charAt(U++)])<<6|(R=K[ee.charAt(U++)]),we+=64===D?se(ie>>16&255):64===R?se(ie>>16&255,ie>>8&255):se(ie>>16&255,ie>>8&255,255&ie);return we},Ft=J?ee=>pe(Buffer.from(ee,"base64")):ee=>pe(Jt(ee).split("").map(ie=>ie.charCodeAt(0))),un=J?ee=>Buffer.from(ee,"base64").toString("utf8"):q?ee=>q.decode(Ft(ee)):ee=>(ee=>ee.replace(gt,ft))(Jt(ee)),Yt=ee=>un((ee=>Fe(ee.replace(/[-_]/g,ie=>"-"==ie?"+":"/")))(ee));function kt(ee,ie,we){const D=S(S({},{method:ee}),ie);if(D.headers=S({},ie.headers),typeof XMLHttpRequest<"u"){const R=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=R&&R.set||(D.credentials="cocos-ignore")}return Object.keys(D.headers).includes("Accept")||(D.headers.Accept="application/json"),Object.keys(D.headers).includes("Content-Type")||(D.headers["Content-Type"]="application/json"),Object.keys(D.headers).forEach(R=>{D.headers[R]||delete D.headers[R]}),we&&(D.body=we),D}var zt=class{constructor(ee,ie,we){this.serverKey=ee,this.basePath=ie,this.timeoutMs=we}healthcheck(ee,ie={}){const U=this.buildFullUrl(this.basePath,"/healthcheck",new Map),H=kt("GET",ie,"");return ee&&(H.headers.Authorization="Bearer "+ee),Promise.race([fetch(U,H).then(le=>{if(204==le.status)return le;if(le.status>=200&&le.status<300)return le.json();throw le}),new Promise((le,Q)=>setTimeout(Q,this.timeoutMs,"Request timed out."))])}getAccount(ee,ie={}){const U=this.buildFullUrl(this.basePath,"/v2/account",new Map),H=kt("GET",ie,"");return ee&&(H.headers.Authorization="Bearer "+ee),Promise.race([fetch(U,H).then(le=>{if(204==le.status)return le;if(le.status>=200&&le.status<300)return le.json();throw le}),new Promise((le,Q)=>setTimeout(Q,this.timeoutMs,"Request timed out."))])}updateAccount(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account",R),le=kt("PUT",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}authenticateApple(ee,ie,we,D,R,U={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const le=new Map;le.set("create",D),le.set("username",R);let Q="";Q=JSON.stringify(we||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",le),Me=kt("POST",U,Q);return Me.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateCustom(ee,ie,we,D,R,U={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const le=new Map;le.set("create",D),le.set("username",R);let Q="";Q=JSON.stringify(we||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",le),Me=kt("POST",U,Q);return Me.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateDevice(ee,ie,we,D,R,U={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const le=new Map;le.set("create",D),le.set("username",R);let Q="";Q=JSON.stringify(we||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",le),Me=kt("POST",U,Q);return Me.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateEmail(ee,ie,we,D,R,U={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const le=new Map;le.set("create",D),le.set("username",R);let Q="";Q=JSON.stringify(we||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",le),Me=kt("POST",U,Q);return Me.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateFacebook(ee,ie,we,D,R,U,H={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",D),Q.set("username",R),Q.set("sync",U);let ye="";ye=JSON.stringify(we||{});const Me=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",Q),qe=kt("POST",H,ye);return qe.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(Me,qe).then(_t=>{if(204==_t.status)return _t;if(_t.status>=200&&_t.status<300)return _t.json();throw _t}),new Promise((_t,qt)=>setTimeout(qt,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(ee,ie,we,D,R,U={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const le=new Map;le.set("create",D),le.set("username",R);let Q="";Q=JSON.stringify(we||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",le),Me=kt("POST",U,Q);return Me.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(ee,ie,we,D,R,U={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const le=new Map;le.set("create",D),le.set("username",R);let Q="";Q=JSON.stringify(we||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",le),Me=kt("POST",U,Q);return Me.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateGoogle(ee,ie,we,D,R,U={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const le=new Map;le.set("create",D),le.set("username",R);let Q="";Q=JSON.stringify(we||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",le),Me=kt("POST",U,Q);return Me.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateSteam(ee,ie,we,D,R,U,H={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",D),Q.set("username",R),Q.set("sync",U);let ye="";ye=JSON.stringify(we||{});const Me=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",Q),qe=kt("POST",H,ye);return qe.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(Me,qe).then(_t=>{if(204==_t.status)return _t;if(_t.status>=200&&_t.status<300)return _t.json();throw _t}),new Promise((_t,qt)=>setTimeout(qt,this.timeoutMs,"Request timed out."))])}linkApple(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/apple",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkCustom(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/custom",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkDevice(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/device",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkEmail(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/email",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkFacebook(ee,ie,we,D={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const U=new Map;U.set("sync",we);let H="";H=JSON.stringify(ie||{});const le=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",U),Q=kt("POST",D,H);return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkGameCenter(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkGoogle(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/google",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkSteam(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/link/steam",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}sessionRefresh(ee,ie,we,D={}){if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const U=new Map;let H="";H=JSON.stringify(we||{});const le=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",U),Q=kt("POST",D,H);return Q.headers.Authorization="Basic "+Ke(ee+":"+ie),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}unlinkApple(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkCustom(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkDevice(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkEmail(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkFacebook(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkGoogle(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkSteam(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listChannelMessages(ee,ie,we,D,R,U={}){if(null==ie)throw new Error("'channelId' is a required parameter but is null or undefined.");const H="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(ie))),le=new Map;le.set("limit",we),le.set("forward",D),le.set("cursor",R);const ye=this.buildFullUrl(this.basePath,H,le),Me=kt("GET",U,"");return ee&&(Me.headers.Authorization="Bearer "+ee),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}event(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/event",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteFriends(ee,ie,we,D={}){const U=new Map;U.set("ids",ie),U.set("usernames",we);const le=this.buildFullUrl(this.basePath,"/v2/friend",U),Q=kt("DELETE",D,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}listFriends(ee,ie,we,D,R={}){const H=new Map;H.set("limit",ie),H.set("state",we),H.set("cursor",D);const Q=this.buildFullUrl(this.basePath,"/v2/friend",H),ye=kt("GET",R,"");return ee&&(ye.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,ye).then(Me=>{if(204==Me.status)return Me;if(Me.status>=200&&Me.status<300)return Me.json();throw Me}),new Promise((Me,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}addFriends(ee,ie,we,D={}){const U=new Map;U.set("ids",ie),U.set("usernames",we);const le=this.buildFullUrl(this.basePath,"/v2/friend",U),Q=kt("POST",D,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}blockFriends(ee,ie,we,D={}){const U=new Map;U.set("ids",ie),U.set("usernames",we);const le=this.buildFullUrl(this.basePath,"/v2/friend/block",U),Q=kt("POST",D,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}importFacebookFriends(ee,ie,we,D={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const U=new Map;U.set("reset",we);let H="";H=JSON.stringify(ie||{});const le=this.buildFullUrl(this.basePath,"/v2/friend/facebook",U),Q=kt("POST",D,H);return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}importSteamFriends(ee,ie,we,D={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const U=new Map;U.set("reset",we);let H="";H=JSON.stringify(ie||{});const le=this.buildFullUrl(this.basePath,"/v2/friend/steam",U),Q=kt("POST",D,H);return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}listGroups(ee,ie,we,D,R,U,H,le={}){const ye=new Map;ye.set("name",ie),ye.set("cursor",we),ye.set("limit",D),ye.set("lang_tag",R),ye.set("members",U),ye.set("open",H);const qe=this.buildFullUrl(this.basePath,"/v2/group",ye),_t=kt("GET",le,"");return ee&&(_t.headers.Authorization="Bearer "+ee),Promise.race([fetch(qe,_t).then(qt=>{if(204==qt.status)return qt;if(qt.status>=200&&qt.status<300)return qt.json();throw qt}),new Promise((qt,cn)=>setTimeout(cn,this.timeoutMs,"Request timed out."))])}createGroup(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/group",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteGroup(ee,ie,we={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(ie))),H=this.buildFullUrl(this.basePath,D,new Map),le=kt("DELETE",we,"");return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}updateGroup(ee,ie,we,D={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const R="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(ie))),U=new Map;let H="";H=JSON.stringify(we||{});const le=this.buildFullUrl(this.basePath,R,U),Q=kt("PUT",D,H);return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}addGroupUsers(ee,ie,we,D={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");const R="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(ie))),U=new Map;U.set("user_ids",we);const le=this.buildFullUrl(this.basePath,R,U),Q=kt("POST",D,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}banGroupUsers(ee,ie,we,D={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");const R="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(ie))),U=new Map;U.set("user_ids",we);const le=this.buildFullUrl(this.basePath,R,U),Q=kt("POST",D,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(ee,ie,we,D={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==we)throw new Error("'userIds' is a required parameter but is null or undefined.");const R="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(ie))),U=new Map;U.set("user_ids",we);const le=this.buildFullUrl(this.basePath,R,U),Q=kt("POST",D,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}joinGroup(ee,ie,we={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(ie))),H=this.buildFullUrl(this.basePath,D,new Map),le=kt("POST",we,"");return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}kickGroupUsers(ee,ie,we,D={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");const R="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(ie))),U=new Map;U.set("user_ids",we);const le=this.buildFullUrl(this.basePath,R,U),Q=kt("POST",D,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}leaveGroup(ee,ie,we={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(ie))),H=this.buildFullUrl(this.basePath,D,new Map),le=kt("POST",we,"");return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(ee,ie,we,D={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");const R="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(ie))),U=new Map;U.set("user_ids",we);const le=this.buildFullUrl(this.basePath,R,U),Q=kt("POST",D,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}listGroupUsers(ee,ie,we,D,R,U={}){if(null==ie)throw new Error("'groupId' is a required parameter but is null or undefined.");const H="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(ie))),le=new Map;le.set("limit",we),le.set("state",D),le.set("cursor",R);const ye=this.buildFullUrl(this.basePath,H,le),Me=kt("GET",U,"");return ee&&(Me.headers.Authorization="Bearer "+ee),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(ee,ie,we={}){if(null==ie)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const D="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ie))),H=this.buildFullUrl(this.basePath,D,new Map),le=kt("DELETE",we,"");return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(ee,ie,we,D,R,U,H={}){if(null==ie)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const le="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ie))),Q=new Map;Q.set("owner_ids",we),Q.set("limit",D),Q.set("cursor",R),Q.set("expiry",U);const Me=this.buildFullUrl(this.basePath,le,Q),qe=kt("GET",H,"");return ee&&(qe.headers.Authorization="Bearer "+ee),Promise.race([fetch(Me,qe).then(_t=>{if(204==_t.status)return _t;if(_t.status>=200&&_t.status<300)return _t.json();throw _t}),new Promise((_t,qt)=>setTimeout(qt,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(ee,ie,we,D={}){if(null==ie)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const R="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ie))),U=new Map;let H="";H=JSON.stringify(we||{});const le=this.buildFullUrl(this.basePath,R,U),Q=kt("POST",D,H);return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(ee,ie,we,D,R,U={}){if(null==ie)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==we)throw new Error("'ownerId' is a required parameter but is null or undefined.");const H="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(ie))).replace("{ownerId}",encodeURIComponent(String(we))),le=new Map;le.set("limit",D),le.set("expiry",R);const ye=this.buildFullUrl(this.basePath,H,le),Me=kt("GET",U,"");return ee&&(Me.headers.Authorization="Bearer "+ee),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}listMatches(ee,ie,we,D,R,U,H,le={}){const ye=new Map;ye.set("limit",ie),ye.set("authoritative",we),ye.set("label",D),ye.set("min_size",R),ye.set("max_size",U),ye.set("query",H);const qe=this.buildFullUrl(this.basePath,"/v2/match",ye),_t=kt("GET",le,"");return ee&&(_t.headers.Authorization="Bearer "+ee),Promise.race([fetch(qe,_t).then(qt=>{if(204==qt.status)return qt;if(qt.status>=200&&qt.status<300)return qt.json();throw qt}),new Promise((qt,cn)=>setTimeout(cn,this.timeoutMs,"Request timed out."))])}deleteNotifications(ee,ie,we={}){const R=new Map;R.set("ids",ie);const H=this.buildFullUrl(this.basePath,"/v2/notification",R),le=kt("DELETE",we,"");return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listNotifications(ee,ie,we,D={}){const U=new Map;U.set("limit",ie),U.set("cacheable_cursor",we);const le=this.buildFullUrl(this.basePath,"/v2/notification",U),Q=kt("GET",D,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}rpcFunc2(ee,ie,we,D,R={}){if(null==ie)throw new Error("'id' is a required parameter but is null or undefined.");const U="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(ie))),H=new Map;H.set("payload",we),H.set("http_key",D);const Q=this.buildFullUrl(this.basePath,U,H),ye=kt("GET",R,"");return ee&&(ye.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,ye).then(Me=>{if(204==Me.status)return Me;if(Me.status>=200&&Me.status<300)return Me.json();throw Me}),new Promise((Me,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}rpcFunc(ee,ie,we,D,R={}){if(null==ie)throw new Error("'id' is a required parameter but is null or undefined.");if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const U="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(ie))),H=new Map;H.set("http_key",D);let le="";le=JSON.stringify(we||{});const Q=this.buildFullUrl(this.basePath,U,H),ye=kt("POST",R,le);return ee&&(ye.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,ye).then(Me=>{if(204==Me.status)return Me;if(Me.status>=200&&Me.status<300)return Me.json();throw Me}),new Promise((Me,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}sessionLogout(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/session/logout",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}readStorageObjects(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/storage",R),le=kt("POST",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}writeStorageObjects(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/storage",R),le=kt("PUT",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(ee,ie,we={}){if(null==ie)throw new Error("'body' is a required parameter but is null or undefined.");const R=new Map;let U="";U=JSON.stringify(ie||{});const H=this.buildFullUrl(this.basePath,"/v2/storage/delete",R),le=kt("PUT",we,U);return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listStorageObjects(ee,ie,we,D,R,U={}){if(null==ie)throw new Error("'collection' is a required parameter but is null or undefined.");const H="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(ie))),le=new Map;le.set("user_id",we),le.set("limit",D),le.set("cursor",R);const ye=this.buildFullUrl(this.basePath,H,le),Me=kt("GET",U,"");return ee&&(Me.headers.Authorization="Bearer "+ee),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}listStorageObjects2(ee,ie,we,D,R,U={}){if(null==ie)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==we)throw new Error("'userId' is a required parameter but is null or undefined.");const H="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(ie))).replace("{userId}",encodeURIComponent(String(we))),le=new Map;le.set("limit",D),le.set("cursor",R);const ye=this.buildFullUrl(this.basePath,H,le),Me=kt("GET",U,"");return ee&&(Me.headers.Authorization="Bearer "+ee),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}listTournaments(ee,ie,we,D,R,U,H,le={}){const ye=new Map;ye.set("category_start",ie),ye.set("category_end",we),ye.set("start_time",D),ye.set("end_time",R),ye.set("limit",U),ye.set("cursor",H);const qe=this.buildFullUrl(this.basePath,"/v2/tournament",ye),_t=kt("GET",le,"");return ee&&(_t.headers.Authorization="Bearer "+ee),Promise.race([fetch(qe,_t).then(qt=>{if(204==qt.status)return qt;if(qt.status>=200&&qt.status<300)return qt.json();throw qt}),new Promise((qt,cn)=>setTimeout(cn,this.timeoutMs,"Request timed out."))])}listTournamentRecords(ee,ie,we,D,R,U,H={}){if(null==ie)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const le="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ie))),Q=new Map;Q.set("owner_ids",we),Q.set("limit",D),Q.set("cursor",R),Q.set("expiry",U);const Me=this.buildFullUrl(this.basePath,le,Q),qe=kt("GET",H,"");return ee&&(qe.headers.Authorization="Bearer "+ee),Promise.race([fetch(Me,qe).then(_t=>{if(204==_t.status)return _t;if(_t.status>=200&&_t.status<300)return _t.json();throw _t}),new Promise((_t,qt)=>setTimeout(qt,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(ee,ie,we,D={}){if(null==ie)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const R="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ie))),U=new Map;let H="";H=JSON.stringify(we||{});const le=this.buildFullUrl(this.basePath,R,U),Q=kt("POST",D,H);return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(ee,ie,we,D={}){if(null==ie)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==we)throw new Error("'body' is a required parameter but is null or undefined.");const R="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ie))),U=new Map;let H="";H=JSON.stringify(we||{});const le=this.buildFullUrl(this.basePath,R,U),Q=kt("PUT",D,H);return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(le,Q).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}joinTournament(ee,ie,we={}){if(null==ie)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const D="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(ie))),H=this.buildFullUrl(this.basePath,D,new Map),le=kt("POST",we,"");return ee&&(le.headers.Authorization="Bearer "+ee),Promise.race([fetch(H,le).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(ee,ie,we,D,R,U={}){if(null==ie)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==we)throw new Error("'ownerId' is a required parameter but is null or undefined.");const H="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(ie))).replace("{ownerId}",encodeURIComponent(String(we))),le=new Map;le.set("limit",D),le.set("expiry",R);const ye=this.buildFullUrl(this.basePath,H,le),Me=kt("GET",U,"");return ee&&(Me.headers.Authorization="Bearer "+ee),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}getUsers(ee,ie,we,D,R={}){const H=new Map;H.set("ids",ie),H.set("usernames",we),H.set("facebook_ids",D);const Q=this.buildFullUrl(this.basePath,"/v2/user",H),ye=kt("GET",R,"");return ee&&(ye.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,ye).then(Me=>{if(204==Me.status)return Me;if(Me.status>=200&&Me.status<300)return Me.json();throw Me}),new Promise((Me,qe)=>setTimeout(qe,this.timeoutMs,"Request timed out."))])}listUserGroups(ee,ie,we,D,R,U={}){if(null==ie)throw new Error("'userId' is a required parameter but is null or undefined.");const H="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(ie))),le=new Map;le.set("limit",we),le.set("state",D),le.set("cursor",R);const ye=this.buildFullUrl(this.basePath,H,le),Me=kt("GET",U,"");return ee&&(Me.headers.Authorization="Bearer "+ee),Promise.race([fetch(ye,Me).then(qe=>{if(204==qe.status)return qe;if(qe.status>=200&&qe.status<300)return qe.json();throw qe}),new Promise((qe,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}buildFullUrl(ee,ie,we){let D=ee+ie+"?";for(let[R,U]of we)U instanceof Array?D+=U.reduce((H,le)=>H+encodeURIComponent(R)+"="+encodeURIComponent(le)+"&",""):null!=U&&(D+=encodeURIComponent(R)+"="+encodeURIComponent(U)+"&");return D}},vt=class{constructor(ee,ie,we){this.created=we,this.token=ee,this.refresh_token=ie,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(ee,ie)}isexpired(ee){return this.expires_at-ee<0}isrefreshexpired(ee){return this.refresh_expires_at-ee<0}update(ee,ie){const we=ee.split(".");if(3!=we.length)throw"jwt is not valid.";const D=JSON.parse(Jt(we[1])),R=Math.floor(parseInt(D.exp));if(ie){const U=ie.split(".");if(3!=U.length)throw"refresh jwt is not valid.";const H=JSON.parse(Jt(U[1])),le=Math.floor(parseInt(H.exp));this.refresh_expires_at=le,this.refresh_token=ie}this.token=ee,this.expires_at=R,this.username=D.usn,this.user_id=D.uid,this.vars=D.vrs}static restore(ee,ie){return new vt(ee,ie,!1)}},Ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Re=0;Re<64;Re++)wt[Ht.charCodeAt(Re)]=Re;var Re,Ge=function(ee){var we,ie=new Uint8Array(ee),D=ie.length,R="";for(we=0;we<D;we+=3)R+=Ht[ie[we]>>2],R+=Ht[(3&ie[we])<<4|ie[we+1]>>4],R+=Ht[(15&ie[we+1])<<2|ie[we+2]>>6],R+=Ht[63&ie[we+2]];return D%3==2?R=R.substring(0,R.length-1)+"=":D%3==1&&(R=R.substring(0,R.length-2)+"=="),R},Te=function(ee){var D,U,H,le,Q,ie=.75*ee.length,we=ee.length,R=0;"="===ee[ee.length-1]&&(ie--,"="===ee[ee.length-2]&&ie--);var ye=new ArrayBuffer(ie),Me=new Uint8Array(ye);for(D=0;D<we;D+=4)U=wt[ee.charCodeAt(D)],H=wt[ee.charCodeAt(D+1)],le=wt[ee.charCodeAt(D+2)],Q=wt[ee.charCodeAt(D+3)],Me[R++]=U<<2|H>>4,Me[R++]=(15&H)<<4|le>>2,Me[R++]=(3&le)<<6|63&Q;return ye},et=class{get onClose(){return this._socket.onclose}set onClose(ee){this._socket.onclose=ee}get onError(){return this._socket.onerror}set onError(ee){this._socket.onerror=ee}get onMessage(){return this._socket.onmessage}set onMessage(ee){ee?this._socket.onmessage=ie=>{const we=JSON.parse(ie.data);we.match_data&&we.match_data.data?we.match_data.data=new Uint8Array(Te(we.match_data.data)):we.party_data&&we.party_data.data&&(we.party_data.data=new Uint8Array(Te(we.party_data.data))),ee(we)}:ee=null}get onOpen(){return this._socket.onopen}set onOpen(ee){this._socket.onopen=ee}isOpen(){var ee;return(null==(ee=this._socket)?void 0:ee.readyState)==WebSocket.OPEN}connect(ee,ie,we,D,R){const U=`${ee}${ie}:${we}/ws?lang=en&status=${encodeURIComponent(D.toString())}&token=${encodeURIComponent(R)}`;this._socket=new WebSocket(U)}close(){this._socket.close(),this._socket=void 0}send(ee){if(ee.match_data_send){ee.match_data_send.op_code=ee.match_data_send.op_code.toString();let ie=ee.match_data_send.data;ie&&ie instanceof Uint8Array?ee.match_data_send.data=Ge(ie.buffer):ie&&(ee.match_data_send.data=tt(ie))}else if(ee.party_data_send){ee.party_data_send.op_code=ee.party_data_send.op_code.toString();let ie=ee.party_data_send.data;ie&&ie instanceof Uint8Array?ee.party_data_send.data=Ge(ie.buffer):ie&&(ee.party_data_send.data=tt(ie))}this._socket.send(JSON.stringify(ee))}},Et=class{constructor(ee,ie,we=!1,D=!1,R=new et,U=Et.DefaultSendTimeoutMs){this.host=ee,this.port=ie,this.useSSL=we,this.verbose=D,this.adapter=R,this.sendTimeoutMs=U,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=Et.DefaultHeartbeatTimeoutMs}generatecid(){const ee=this.nextCid.toString();return++this.nextCid,ee}connect(ee,ie=!1,we=Et.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(ee):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,ie,ee.token),this.adapter.onClose=R=>{this.ondisconnect(R)},this.adapter.onError=R=>{this.onerror(R)},this.adapter.onMessage=R=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(R)),R.cid){const U=this.cIds[R.cid];if(!U)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",R));delete this.cIds[R.cid],R.error?U.reject(R.error):U.resolve(R)}else R.notifications?R.notifications.notifications.forEach(U=>{U.content=U.content?JSON.parse(U.content):void 0,this.onnotification(U)}):R.match_data?(R.match_data.op_code=parseInt(R.match_data.op_code),this.onmatchdata(R.match_data)):R.match_presence_event?this.onmatchpresence(R.match_presence_event):R.matchmaker_ticket?this.onmatchmakerticket(R.matchmaker_ticket):R.matchmaker_matched?this.onmatchmakermatched(R.matchmaker_matched):R.status_presence_event?this.onstatuspresence(R.status_presence_event):R.stream_presence_event?this.onstreampresence(R.stream_presence_event):R.stream_data?this.onstreamdata(R.stream_data):R.channel_message?(R.channel_message.content=JSON.parse(R.channel_message.content),this.onchannelmessage(R.channel_message)):R.channel_presence_event?this.onchannelpresence(R.channel_presence_event):R.party_data?(R.party_data.op_code=parseInt(R.party_data.op_code),this.onpartydata(R.party_data)):R.party_close?this.onpartyclose(R.party_close):R.party_join_request?this.onpartyjoinrequest(R.party_join_request):R.party_leader?this.onpartyleader(R.party_leader):R.party_matchmaker_ticket?this.onpartymatchmakerticket(R.party_matchmaker_ticket):R.party_presence_event?this.onpartypresence(R.party_presence_event):R.party?this.onparty(R.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",R)},new Promise((R,U)=>{this.adapter.onOpen=H=>{this.verbose&&window&&window.console&&console.log(H),this.pingPong(),R(ee)},this.adapter.onError=H=>{U(H),this.adapter.close()},setTimeout(()=>{U("The socket timed out when trying to connect.")},we)}))}disconnect(ee=!0){this.adapter.isOpen()&&this.adapter.close(),ee&&this.ondisconnect({})}setHeartbeatTimeoutMs(ee){this._heartbeatTimeoutMs=ee}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(ee){this.verbose&&window&&window.console&&console.log(ee)}onerror(ee){this.verbose&&window&&window.console&&console.log(ee)}onchannelmessage(ee){this.verbose&&window&&window.console&&console.log(ee)}onchannelpresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onnotification(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchdata(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchpresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchmakerticket(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchmakermatched(ee){this.verbose&&window&&window.console&&console.log(ee)}onparty(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartyclose(ee){this.verbose&&window&&window.console&&console.log("Party closed: "+ee)}onpartyjoinrequest(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartydata(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartyleader(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartymatchmakerticket(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartypresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onstatuspresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onstreampresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onstreamdata(ee){this.verbose&&window&&window.console&&console.log(ee)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(ee,ie=Et.DefaultSendTimeoutMs){const we=ee;return new Promise((D,R)=>{if(this.adapter.isOpen())if(we.match_data_send)this.adapter.send(we),D();else if(we.party_data_send)this.adapter.send(we),D();else{we.channel_message_send?we.channel_message_send.content=JSON.stringify(we.channel_message_send.content):we.channel_message_update&&(we.channel_message_update.content=JSON.stringify(we.channel_message_update.content));const U=this.generatecid();this.cIds[U]={resolve:D,reject:R},setTimeout(()=>{R("The socket timed out while waiting for a response.")},ie),we.cid=U,this.adapter.send(we)}else R("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const U=S({},we);U.match_data_send&&U.match_data_send.data?U.match_data_send.data=Yt(U.match_data_send.data):U.party_data_send&&U.party_data_send.data&&(U.party_data_send.data=Yt(U.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(U))}})}acceptPartyMember(ee,ie){return this.send({party_accept:{party_id:ee,presence:ie}})}addMatchmaker(ee,ie,we,D,R){return v(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:ie,max_count:we,query:ee,string_properties:D,numeric_properties:R}})).matchmaker_ticket})}addMatchmakerParty(ee,ie,we,D,R,U){return v(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:ee,min_count:we,max_count:D,query:ie,string_properties:R,numeric_properties:U}})).party_matchmaker_ticket})}closeParty(ee){return v(this,null,function*(){return yield this.send({party_close:{party_id:ee}})})}createMatch(ee){return v(this,null,function*(){return(yield this.send({match_create:{name:ee}})).match})}createParty(ee,ie){return v(this,null,function*(){return(yield this.send({party_create:{open:ee,max_size:ie}})).party})}followUsers(ee){return v(this,null,function*(){return(yield this.send({status_follow:{user_ids:ee}})).status})}joinChat(ee,ie,we,D){return v(this,null,function*(){return(yield this.send({channel_join:{target:ee,type:ie,persistence:we,hidden:D}})).channel})}joinMatch(ee,ie,we){return v(this,null,function*(){const D={match_join:{metadata:we}};return ie?D.match_join.token=ie:D.match_join.match_id=ee,(yield this.send(D)).match})}joinParty(ee){return v(this,null,function*(){return yield this.send({party_join:{party_id:ee}})})}leaveChat(ee){return this.send({channel_leave:{channel_id:ee}})}leaveMatch(ee){return this.send({match_leave:{match_id:ee}})}leaveParty(ee){return this.send({party_leave:{party_id:ee}})}listPartyJoinRequests(ee){return v(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:ee}})).party_join_request})}promotePartyMember(ee,ie){return v(this,null,function*(){return(yield this.send({party_promote:{party_id:ee,presence:ie}})).party_leader})}removeChatMessage(ee,ie){return v(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:ee,message_id:ie}})).channel_message_ack})}removeMatchmaker(ee){return this.send({matchmaker_remove:{ticket:ee}})}removeMatchmakerParty(ee,ie){return this.send({party_matchmaker_remove:{party_id:ee,ticket:ie}})}removePartyMember(ee,ie){return v(this,null,function*(){return this.send({party_remove:{party_id:ee,presence:ie}})})}rpc(ee,ie,we){return v(this,null,function*(){return(yield this.send({rpc:{id:ee,payload:ie,http_key:we}})).rpc})}sendMatchState(ee,ie,we,D,R){return v(this,null,function*(){return this.send({match_data_send:{match_id:ee,op_code:ie,data:we,presences:null!=D?D:[],reliable:R}})})}sendPartyData(ee,ie,we){return this.send({party_data_send:{party_id:ee,op_code:ie,data:we}})}unfollowUsers(ee){return this.send({status_unfollow:{user_ids:ee}})}updateChatMessage(ee,ie,we){return v(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:ee,message_id:ie,content:we}})).channel_message_ack})}updateStatus(ee){return this.send({status_update:{status:ee}})}writeChatMessage(ee,ie){return v(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:ee,content:ie}})).channel_message_ack})}pingPong(){return v(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},Rt=Et;Rt.DefaultHeartbeatTimeoutMs=1e4,Rt.DefaultSendTimeoutMs=1e4,Rt.DefaultConnectTimeoutMs=3e4;var xt=class{constructor(ee="defaultkey",ie="127.0.0.1",we="7350",D=!1,R=7e3,U=!0){this.serverkey=ee,this.host=ie,this.port=we,this.useSSL=D,this.timeout=R,this.autoRefreshSession=U,this.expiredTimespanMs=3e5,this.apiClient=new zt(ee,`${D?"https://":"http://"}${ie}:${we}`,R)}addGroupUsers(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.addGroupUsers(ee.token,ie,we).then(D=>void 0!==D)})}addFriends(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.addFriends(ee.token,ie,we).then(D=>void 0!==D)})}authenticateApple(ee,ie,we){return v(this,arguments,function*(D,R,U,H={},le={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:D,vars:H},R,U,le).then(ye=>new vt(ye.token||"",ye.refresh_token||"",ye.created||!1))})}authenticateCustom(ee,ie,we,D={},R={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:ee,vars:D},ie,we,R).then(H=>new vt(H.token||"",H.refresh_token||"",H.created||!1))}authenticateDevice(ee,ie,we,D){return this.apiClient.authenticateDevice(this.serverkey,"",{id:ee,vars:D},ie,we).then(U=>new vt(U.token||"",U.refresh_token||"",U.created||!1))}authenticateEmail(ee,ie,we,D,R){return this.apiClient.authenticateEmail(this.serverkey,"",{email:ee,password:ie,vars:R},we,D).then(H=>new vt(H.token||"",H.refresh_token||"",H.created||!1))}authenticateFacebookInstantGame(ee,ie,we,D,R={}){const U={signed_player_info:ee,vars:D};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:U.signed_player_info,vars:U.vars},ie,we,R).then(H=>new vt(H.token||"",H.refresh_token||"",H.created||!1))}authenticateFacebook(ee,ie,we,D,R,U={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:ee,vars:R},ie,we,D,U).then(le=>new vt(le.token||"",le.refresh_token||"",le.created||!1))}authenticateGoogle(ee,ie,we,D){return v(this,arguments,function*(R,U,H,le,Q={}){const ye={token:R,vars:le},Me=yield this.apiClient.authenticateGoogle(this.serverkey,"",ye,U,H,Q);return new vt(Me.token||"",Me.refresh_token||"",Me.created||!1)})}authenticateGameCenter(ee,ie,we,D,R,U,H,le,Q){return v(this,arguments,function*(ye,Me,qe,_t,qt,cn,an,On,zn,Gn={}){const kr={bundle_id:ye,player_id:Me,public_key_url:qe,salt:_t,signature:qt,timestamp_seconds:cn,vars:zn},ar=yield this.apiClient.authenticateGameCenter(this.serverkey,"",kr,On,an,Gn);return new vt(ar.token||"",ar.refresh_token||"",ar.created||!1)})}authenticateSteam(ee,ie,we,D,R){return v(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:ee,vars:R,sync:D},ie,we).then(H=>new vt(H.token||"",H.refresh_token||"",H.created||!1))})}banGroupUsers(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.banGroupUsers(ee.token,ie,we).then(D=>void 0!==D)})}blockFriends(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.blockFriends(ee.token,ie,we).then(D=>Promise.resolve(null!=D))})}createGroup(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.createGroup(ee.token,ie).then(we=>Promise.resolve({avatar_url:we.avatar_url,create_time:we.create_time,creator_id:we.creator_id,description:we.description,edge_count:we.edge_count?Number(we.edge_count):0,id:we.id,lang_tag:we.lang_tag,max_count:we.max_count?Number(we.max_count):0,metadata:we.metadata?JSON.parse(we.metadata):void 0,name:we.name,open:we.open,update_time:we.update_time}))})}createSocket(ee=!1,ie=!1,we=new et,D=Rt.DefaultSendTimeoutMs){return new Rt(this.host,this.port,ee,ie,we,D)}deleteFriends(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteFriends(ee.token,ie,we).then(D=>void 0!==D)})}deleteGroup(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteGroup(ee.token,ie).then(we=>void 0!==we)})}deleteNotifications(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteNotifications(ee.token,ie).then(we=>Promise.resolve(null!=we))})}deleteStorageObjects(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteStorageObjects(ee.token,ie).then(we=>Promise.resolve(null!=we))})}demoteGroupUsers(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.demoteGroupUsers(ee.token,ie,we).then(D=>Promise.resolve(null!=D))})}emitEvent(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.event(ee.token,ie).then(we=>Promise.resolve(null!=we))})}getAccount(ee){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.getAccount(ee.token)})}importFacebookFriends(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.importFacebookFriends(ee.token,ie).then(we=>void 0!==we)})}importSteamFriends(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.importSteamFriends(ee.token,ie,we).then(D=>void 0!==D)})}getUsers(ee,ie,we,D){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.getUsers(ee.token,ie,we,D).then(R=>{var U={users:[]};return null==R.users||R.users.forEach(H=>{U.users.push({avatar_url:H.avatar_url,create_time:H.create_time,display_name:H.display_name,edge_count:H.edge_count?Number(H.edge_count):0,facebook_id:H.facebook_id,gamecenter_id:H.gamecenter_id,google_id:H.google_id,id:H.id,lang_tag:H.lang_tag,location:H.location,online:H.online,steam_id:H.steam_id,timezone:H.timezone,update_time:H.update_time,username:H.username,metadata:H.metadata?JSON.parse(H.metadata):void 0})}),Promise.resolve(U)})})}joinGroup(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.joinGroup(ee.token,ie,{}).then(we=>void 0!==we)})}joinTournament(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.joinTournament(ee.token,ie,{}).then(we=>void 0!==we)})}kickGroupUsers(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.kickGroupUsers(ee.token,ie,we).then(D=>Promise.resolve(null!=D))})}leaveGroup(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.leaveGroup(ee.token,ie,{}).then(we=>void 0!==we)})}listChannelMessages(ee,ie,we,D,R){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listChannelMessages(ee.token,ie,we,D,R).then(U=>{var H={messages:[],next_cursor:U.next_cursor,prev_cursor:U.prev_cursor,cacheable_cursor:U.cacheable_cursor};return null==U.messages||U.messages.forEach(le=>{H.messages.push({channel_id:le.channel_id,code:le.code?Number(le.code):0,create_time:le.create_time,message_id:le.message_id,persistent:le.persistent,sender_id:le.sender_id,update_time:le.update_time,username:le.username,content:le.content?JSON.parse(le.content):void 0,group_id:le.group_id,room_name:le.room_name,user_id_one:le.user_id_one,user_id_two:le.user_id_two})}),Promise.resolve(H)})})}listGroupUsers(ee,ie,we,D,R){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listGroupUsers(ee.token,ie,D,we,R).then(U=>{var H={group_users:[],cursor:U.cursor};return null==U.group_users||U.group_users.forEach(le=>{H.group_users.push({user:{avatar_url:le.user.avatar_url,create_time:le.user.create_time,display_name:le.user.display_name,edge_count:le.user.edge_count?Number(le.user.edge_count):0,facebook_id:le.user.facebook_id,gamecenter_id:le.user.gamecenter_id,google_id:le.user.google_id,id:le.user.id,lang_tag:le.user.lang_tag,location:le.user.location,online:le.user.online,steam_id:le.user.steam_id,timezone:le.user.timezone,update_time:le.user.update_time,username:le.user.username,metadata:le.user.metadata?JSON.parse(le.user.metadata):void 0},state:le.state?Number(le.state):0})}),Promise.resolve(H)})})}listUserGroups(ee,ie,we,D,R){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listUserGroups(ee.token,ie,we,D,R).then(U=>{var H={user_groups:[],cursor:U.cursor};return null==U.user_groups||U.user_groups.forEach(le=>{H.user_groups.push({group:{avatar_url:le.group.avatar_url,create_time:le.group.create_time,creator_id:le.group.creator_id,description:le.group.description,edge_count:le.group.edge_count?Number(le.group.edge_count):0,id:le.group.id,lang_tag:le.group.lang_tag,max_count:le.group.max_count,metadata:le.group.metadata?JSON.parse(le.group.metadata):void 0,name:le.group.name,open:le.group.open,update_time:le.group.update_time},state:le.state?Number(le.state):0})}),Promise.resolve(H)})})}listGroups(ee,ie,we,D){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listGroups(ee.token,ie,we,D).then(R=>{var U={groups:[]};return null==R.groups||(U.cursor=R.cursor,R.groups.forEach(H=>{U.groups.push({avatar_url:H.avatar_url,create_time:H.create_time,creator_id:H.creator_id,description:H.description,edge_count:H.edge_count?Number(H.edge_count):0,id:H.id,lang_tag:H.lang_tag,max_count:H.max_count,metadata:H.metadata?JSON.parse(H.metadata):void 0,name:H.name,open:H.open,update_time:H.update_time})})),Promise.resolve(U)})})}linkApple(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkApple(ee.token,ie).then(we=>void 0!==we)})}linkCustom(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkCustom(ee.token,ie).then(we=>void 0!==we)})}linkDevice(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkDevice(ee.token,ie).then(we=>void 0!==we)})}linkEmail(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkEmail(ee.token,ie).then(we=>void 0!==we)})}linkFacebook(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkFacebook(ee.token,ie).then(we=>void 0!==we)})}linkFacebookInstantGame(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkFacebookInstantGame(ee.token,ie).then(we=>void 0!==we)})}linkGoogle(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkGoogle(ee.token,ie).then(we=>void 0!==we)})}linkGameCenter(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkGameCenter(ee.token,ie).then(we=>void 0!==we)})}linkSteam(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkSteam(ee.token,ie).then(we=>void 0!==we)})}listFriends(ee,ie,we,D){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listFriends(ee.token,we,ie,D).then(R=>{var U={friends:[],cursor:R.cursor};return null==R.friends||R.friends.forEach(H=>{U.friends.push({user:{avatar_url:H.user.avatar_url,create_time:H.user.create_time,display_name:H.user.display_name,edge_count:H.user.edge_count?Number(H.user.edge_count):0,facebook_id:H.user.facebook_id,gamecenter_id:H.user.gamecenter_id,google_id:H.user.google_id,id:H.user.id,lang_tag:H.user.lang_tag,location:H.user.location,online:H.user.online,steam_id:H.user.steam_id,timezone:H.user.timezone,update_time:H.user.update_time,username:H.user.username,metadata:H.user.metadata?JSON.parse(H.user.metadata):void 0,facebook_instant_game_id:H.user.facebook_instant_game_id},state:H.state})}),Promise.resolve(U)})})}listLeaderboardRecords(ee,ie,we,D,R,U){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listLeaderboardRecords(ee.token,ie,we,D,R,U).then(H=>{var le={next_cursor:H.next_cursor,prev_cursor:H.prev_cursor,owner_records:[],records:[]};return null!=H.owner_records&&H.owner_records.forEach(Q=>{le.owner_records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),null!=H.records&&H.records.forEach(Q=>{le.records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),Promise.resolve(le)})})}listLeaderboardRecordsAroundOwner(ee,ie,we,D,R){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listLeaderboardRecordsAroundOwner(ee.token,ie,we,D,R).then(U=>{var H={next_cursor:U.next_cursor,prev_cursor:U.prev_cursor,owner_records:[],records:[]};return null!=U.owner_records&&U.owner_records.forEach(le=>{H.owner_records.push({expiry_time:le.expiry_time,leaderboard_id:le.leaderboard_id,metadata:le.metadata?JSON.parse(le.metadata):void 0,num_score:le.num_score?Number(le.num_score):0,owner_id:le.owner_id,rank:le.rank?Number(le.rank):0,score:le.score?Number(le.score):0,subscore:le.subscore?Number(le.subscore):0,update_time:le.update_time,username:le.username,max_num_score:le.max_num_score?Number(le.max_num_score):0})}),null!=U.records&&U.records.forEach(le=>{H.records.push({expiry_time:le.expiry_time,leaderboard_id:le.leaderboard_id,metadata:le.metadata?JSON.parse(le.metadata):void 0,num_score:le.num_score?Number(le.num_score):0,owner_id:le.owner_id,rank:le.rank?Number(le.rank):0,score:le.score?Number(le.score):0,subscore:le.subscore?Number(le.subscore):0,update_time:le.update_time,username:le.username,max_num_score:le.max_num_score?Number(le.max_num_score):0})}),Promise.resolve(H)})})}listMatches(ee,ie,we,D,R,U,H){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listMatches(ee.token,ie,we,D,R,U,H)})}listNotifications(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listNotifications(ee.token,ie,we).then(D=>{var R={cacheable_cursor:D.cacheable_cursor,notifications:[]};return null==D.notifications||D.notifications.forEach(U=>{R.notifications.push({code:U.code?Number(U.code):0,create_time:U.create_time,id:U.id,persistent:U.persistent,sender_id:U.sender_id,subject:U.subject,content:U.content?JSON.parse(U.content):void 0})}),Promise.resolve(R)})})}listStorageObjects(ee,ie,we,D,R){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listStorageObjects(ee.token,ie,we,D,R).then(U=>{var H={objects:[],cursor:U.cursor};return null==U.objects||U.objects.forEach(le=>{H.objects.push({collection:le.collection,key:le.key,permission_read:le.permission_read?Number(le.permission_read):0,permission_write:le.permission_write?Number(le.permission_write):0,value:le.value?JSON.parse(le.value):void 0,version:le.version,user_id:le.user_id,create_time:le.create_time,update_time:le.update_time})}),Promise.resolve(H)})})}listTournaments(ee,ie,we,D,R,U,H){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listTournaments(ee.token,ie,we,D,R,U,H).then(le=>{var Q={cursor:le.cursor,tournaments:[]};return null!=le.tournaments&&le.tournaments.forEach(ye=>{Q.tournaments.push({id:ye.id,title:ye.title,description:ye.description,duration:ye.duration?Number(ye.duration):0,category:ye.category?Number(ye.category):0,sort_order:ye.sort_order?Number(ye.sort_order):0,size:ye.size?Number(ye.size):0,max_size:ye.max_size?Number(ye.max_size):0,max_num_score:ye.max_num_score?Number(ye.max_num_score):0,can_enter:ye.can_enter,end_active:ye.end_active?Number(ye.end_active):0,next_reset:ye.next_reset?Number(ye.next_reset):0,metadata:ye.metadata?JSON.parse(ye.metadata):void 0,create_time:ye.create_time,start_time:ye.start_time,end_time:ye.end_time,start_active:ye.start_active})}),Promise.resolve(Q)})})}listTournamentRecords(ee,ie,we,D,R,U){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listTournamentRecords(ee.token,ie,we,D,R,U).then(H=>{var le={next_cursor:H.next_cursor,prev_cursor:H.prev_cursor,owner_records:[],records:[]};return null!=H.owner_records&&H.owner_records.forEach(Q=>{le.owner_records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),null!=H.records&&H.records.forEach(Q=>{le.records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),Promise.resolve(le)})})}listTournamentRecordsAroundOwner(ee,ie,we,D,R){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listTournamentRecordsAroundOwner(ee.token,ie,we,D,R).then(U=>{var H={next_cursor:U.next_cursor,prev_cursor:U.prev_cursor,owner_records:[],records:[]};return null!=U.owner_records&&U.owner_records.forEach(le=>{H.owner_records.push({expiry_time:le.expiry_time,leaderboard_id:le.leaderboard_id,metadata:le.metadata?JSON.parse(le.metadata):void 0,num_score:le.num_score?Number(le.num_score):0,owner_id:le.owner_id,rank:le.rank?Number(le.rank):0,score:le.score?Number(le.score):0,subscore:le.subscore?Number(le.subscore):0,update_time:le.update_time,username:le.username,max_num_score:le.max_num_score?Number(le.max_num_score):0})}),null!=U.records&&U.records.forEach(le=>{H.records.push({expiry_time:le.expiry_time,leaderboard_id:le.leaderboard_id,metadata:le.metadata?JSON.parse(le.metadata):void 0,num_score:le.num_score?Number(le.num_score):0,owner_id:le.owner_id,rank:le.rank?Number(le.rank):0,score:le.score?Number(le.score):0,subscore:le.subscore?Number(le.subscore):0,update_time:le.update_time,username:le.username,max_num_score:le.max_num_score?Number(le.max_num_score):0})}),Promise.resolve(H)})})}promoteGroupUsers(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.promoteGroupUsers(ee.token,ie,we)})}readStorageObjects(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.readStorageObjects(ee.token,ie).then(we=>{var D={objects:[]};return null==we.objects||we.objects.forEach(R=>{D.objects.push({collection:R.collection,key:R.key,permission_read:R.permission_read?Number(R.permission_read):0,permission_write:R.permission_write?Number(R.permission_write):0,value:R.value?JSON.parse(R.value):void 0,version:R.version,user_id:R.user_id,create_time:R.create_time,update_time:R.update_time})}),Promise.resolve(D)})})}rpc(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.rpcFunc(ee.token,ie,JSON.stringify(we)).then(D=>Promise.resolve({id:D.id,payload:D.payload?JSON.parse(D.payload):void 0}))})}rpcHttpKey(ee,ie,we){return v(this,null,function*(){return this.apiClient.rpcFunc2("",ie,we&&JSON.stringify(we)||"",ee).then(D=>Promise.resolve({id:D.id,payload:D.payload?JSON.parse(D.payload):void 0})).catch(D=>{throw D})})}sessionLogout(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.sessionLogout(ee.token,{refresh_token:we,token:ie}).then(D=>void 0!==D)})}sessionRefresh(ee){return v(this,arguments,function*(ie,we={}){if(!ie)return console.error("Cannot refresh a null session."),ie;ie.created&&ie.expires_at-ie.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),ie.created&&ie.refresh_expires_at-ie.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const D=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:ie.refresh_token,vars:we});return ie.update(D.token,D.refresh_token),ie})}unlinkApple(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkApple(ee.token,ie).then(we=>void 0!==we)})}unlinkCustom(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkCustom(ee.token,ie).then(we=>void 0!==we)})}unlinkDevice(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkDevice(ee.token,ie).then(we=>void 0!==we)})}unlinkEmail(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkEmail(ee.token,ie).then(we=>void 0!==we)})}unlinkFacebook(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkFacebook(ee.token,ie).then(we=>void 0!==we)})}unlinkFacebookInstantGame(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkFacebookInstantGame(ee.token,ie).then(we=>void 0!==we)})}unlinkGoogle(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkGoogle(ee.token,ie).then(we=>void 0!==we)})}unlinkGameCenter(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkGameCenter(ee.token,ie).then(we=>void 0!==we)})}unlinkSteam(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkSteam(ee.token,ie).then(we=>void 0!==we)})}updateAccount(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.updateAccount(ee.token,ie).then(we=>void 0!==we)})}updateGroup(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.updateGroup(ee.token,ie,we).then(D=>void 0!==D)})}validatePurchaseApple(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.validatePurchaseApple(ee.token,{receipt:ie})})}validatePurchaseGoogle(ee,ie){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.validatePurchaseGoogle(ee.token,{purchase:ie})})}validatePurchaseHuawei(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.validatePurchaseHuawei(ee.token,{purchase:ie,signature:we})})}writeLeaderboardRecord(ee,ie,we){return v(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.writeLeaderboardRecord(ee.token,ie,{metadata:we.metadata?JSON.stringify(we.metadata):void 0,score:we.score,subscore:we.subscore}).then(D=>Promise.resolve({expiry_time:D.expiry_time,leaderboard_id:D.leaderboard_id,metadata:D.metadata?JSON.parse(D.metadata):void 0,num_score:D.num_score?Number(D.num_score):0,owner_id:D.owner_id,score:D.score?Number(D.score):0,subscore:D.subscore?Number(D.subscore):0,update_time:D.update_time,username:D.username,max_num_score:D.max_num_score?Number(D.max_num_score):0,rank:D.rank?Number(D.rank):0}))})}writeStorageObjects(ee,ie){return v(this,null,function*(){this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee));var we={objects:[]};return ie.forEach(D=>{we.objects.push({collection:D.collection,key:D.key,permission_read:D.permission_read,permission_write:D.permission_write,value:JSON.stringify(D.value),version:D.version})}),this.apiClient.writeStorageObjects(ee.token,we)})}writeTournamentRecord(ee,ie,we){return v(this,null,function*(){return this.apiClient.writeTournamentRecord(ee.token,ie,{metadata:we.metadata?JSON.stringify(we.metadata):void 0,score:we.score,subscore:we.subscore}).then(D=>Promise.resolve({expiry_time:D.expiry_time,leaderboard_id:D.leaderboard_id,metadata:D.metadata?JSON.parse(D.metadata):void 0,num_score:D.num_score?Number(D.num_score):0,owner_id:D.owner_id,score:D.score?Number(D.score):0,subscore:D.subscore?Number(D.subscore):0,update_time:D.update_time,username:D.username,max_num_score:D.max_num_score?Number(D.max_num_score):0,rank:D.rank?Number(D.rank):0}))})}},ot=ge(5193),Ye=ge(9352),ut=ge(4708),Ct=ge(6756),rn=ge(3428),ze=ge(5020),bt=ge(6124),Nt=ge(9404),Lt=ge(4496),Xt=ge(3824),hn=ge(4180),vn=ge(4668),En=ge(6819),Cn=ge(5624),Sn=ge(9240),tr=ge(4500),nr=ge(1028),Wn=function(ee){return ee[ee.MANAGE_TODO=10]="MANAGE_TODO",ee[ee.EDIT_PROFILE=11]="EDIT_PROFILE",ee[ee.ADD_CHANNEL=14]="ADD_CHANNEL",ee[ee.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",ee[ee.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",ee[ee.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",ee[ee.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",ee[ee.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",ee[ee.WEBRTC_RECEIVED_CALL_SELF=25]="WEBRTC_RECEIVED_CALL_SELF",ee[ee.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",ee}(Wn||{});let Nn=(()=>{var ee;class ie{constructor(D,R,U,H,le,Q,ye,Me,qe,_t,qt,cn,an){this.p5toast=D,this.statusBar=R,this.indexed=U,this.noti=H,this.modalCtrl=le,this.alertCtrl=Q,this.lang=ye,this.global=Me,this.bgmode=qe,this.navCtrl=_t,this.ngZone=qt,this.loadingCtrl=cn,this.nav=an,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.TogglingSession=!1,this.isRewardAdsUsed=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.RemoteTodoCounter={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.after_rearrange_group={},this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.is_post_lock=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.OnTransfer={},this.OnTransferMessage={},this.post_counter={local:{target:{me:0}},official:{},unofficial:{}}}initialize(){var D=this;return(0,y.c)(function*(){D.noti.GetNotificationIds(Me=>{D.registered_id=Me}),yield D.set_all_todo_notification();let R=yield D.indexed.loadTextFromUserPath("servers/self/profile.json");R&&(D.users.self=JSON.parse(R));try{let Me=(yield D.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Me&&(D.users.self.img=Me)}catch{}let U=yield D.indexed.loadTextFromUserPath("servers/list_detail.csv");if(U)U.split("\n").forEach(qe=>{let _t=qe.split(","),qt={isOfficial:_t[1],name:_t[2],target:_t[3],address:_t[4],port:+_t[5],useSSL:"true"==_t[6]};D.servers[qt.isOfficial][qt.target]={},D.servers[qt.isOfficial][qt.target].info=qt,D.init_server(qt)});else{let Me=location.href.split("?").length>1;(D.users.self.online||Me)&&D.toggle_all_session()}D.catch_group_server_header("offline");let H=yield D.indexed.loadTextFromUserPath("servers/groups.json");H&&(D.groups=JSON.parse(H)),D.rearrange_group_list().forEach(function(){var Me=(0,y.c)(function*(qe){let _t=yield D.indexed.loadTextFromUserPath(`servers/${qe.server.isOfficial}/${qe.server.target}/groups/${qe.id}.img`);if(_t&&(qe.img=_t.replace(/"|=|\\/g,"")),"missing"!=qe.status){delete qe.status;let qt=qe.server.isOfficial,cn=qe.server.target;if(qe.users)for(let an=0,On=qe.users.length;an<On;an++)qe.users[an].is_me||(qe.users[an].user=D.load_other_user(qe.users[an].user.id,qt,cn))}});return function(qe){return Me.apply(this,arguments)}}()),yield D.load_channel_list();let Q=yield D.indexed.loadTextFromUserPath("servers/list.json");Q&&(D.statusBar.groupServer=JSON.parse(Q)),Object.keys(D.statusBar.groupServer).forEach(Me=>{D.servers[Me]?Object.keys(D.statusBar.groupServer[Me]).forEach(_t=>{D.servers[Me][_t]||delete D.statusBar.groupServer[Me][_t]}):delete D.statusBar.groupServer[Me]}),D.users.self.online&&D.init_all_sessions(),D.showServer=!!localStorage.getItem("showServer")})()}set_all_todo_notification(){var D=this;return(0,y.c)(function*(){let R=yield D.indexed.GetFileListFromDB("info.todo");for(let U=0,H=R.length;U<H;U++){let le=yield D.indexed.loadTextFromUserPath(R[U]);if(le){let Q=JSON.parse(le);D.registered_id.push(Q.noti_id),D.set_todo_notification(Q)}}})()}getGodotDBRecursive(){var D=this;return(0,y.c)(function*(){try{if(void 0===D.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(U=>{setTimeout(()=>{U(void 0)},100)}),yield D.getGodotDBRecursive()}})()}open_add_todo_page(D=""){this.AddTodoLinkAct?this.AddTodoLinkAct(D):this.ngZone.run(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:ut.MZ,state:{data:D}})})}set_todo_notification(D){var R=this;return(0,y.c)(function*(){let U=D.startFrom||D.limit;if("DesktopPWA"==ot.s1||"MobilePWA"==ot.s1){let H=new Date(U).getTime()-(new Date).getTime();if(H>0&&H<2e9){let le=setTimeout(()=>{R.noti.PushLocal({id:D.noti_id,title:D.title,body:D.description},void 0,Q=>{R.open_add_todo_page(JSON.stringify(D))})},H);R.web_noti_id[D.noti_id]=le}}else{let H=new Date(U).getTime();for(let le=0,Q=R.registered_id.length;le<Q;le++)if(R.registered_id[le]==D.id){if(R.registered_id.splice(le,1),D.id=R.get_noti_id(),!D.done&&D.remote){let ye=D.remote.isOfficial,Me=D.remote.target;try{yield R.servers[ye][Me].client.writeStorageObjects(R.servers[ye][Me].session,[{collection:"server_todo",key:D.id,permission_read:2,permission_write:1,value:D}]).then(function(){var qe=(0,y.c)(function*(_t){yield R.servers[ye][Me].socket.sendMatchState(R.self_match[ye][Me].match_id,Wn.MANAGE_TODO,encodeURIComponent(`add,${_t.acks[0].collection},${_t.acks[0].key}`))});return function(_t){return qe.apply(this,arguments)}}())}catch(qe){console.log("\uc11c\ubc84 \uc54c\ub9bc \uc7ac\ub4f1\ub85d \uc2e4\ud328: ",qe)}}break}if(!D.done&&H>(new Date).getTime()){let le="58a192";switch(D.importance){case"1":le="ddbb41";break;case"2":le="b95437"}D.custom_color&&(le=D.custom_color),R.noti.PushLocal({id:D.noti_id,title:D.title,body:D.description,smallIcon_ln:"todo",iconColor_ln:le,group_ln:"todo",triggerWhen_ln:{at:new Date(U)},extra_ln:{page:{component:"AddTodoMenuPage",componentProps:{data:JSON.stringify(D)}}}})}}})()}init_server(D){this.servers[D.isOfficial][D.target]||(this.servers[D.isOfficial][D.target]={}),this.servers[D.isOfficial][D.target].client=new xt(D.key||"defaultkey",D.address,(D.port||7350).toString(),D.useSSL||!1)}go_to_chatroom_without_admob_act(D,R){this.has_new_channel_msg=!1,this.rearrange_channels(),this.ChatroomLinkAct?this.ChatroomLinkAct(D,R):this.ngZone.run(()=>{this.navCtrl.navigateForward("chat-room",{animation:ut.MZ,state:{info:D,file:R}})})}init_all_sessions(){var D=this;return(0,y.c)(function*(){let R=Object.keys(D.servers.official);for(let H=0,le=R.length;H<le;H++)yield D.init_session(D.servers.official[R[H]].info);let U=Object.keys(D.servers.unofficial);for(let H=0,le=U.length;H<le;H++)yield D.init_session(D.servers.unofficial[U[H]].info);return R.length+U.length})()}logout_all_server(){let D=Object.keys(this.statusBar.groupServer);for(let R=0,U=D.length;R<U;R++){let H=Object.keys(this.statusBar.groupServer[D[R]]);for(let le=0,Q=H.length;le<Q;le++)"online"==this.statusBar.groupServer[D[R]][H[le]]&&(this.servers[D[R]][H[le]].socket?this.servers[D[R]][H[le]].socket.disconnect(!0):this.link_group(D[R],H[le],!1))}}toggle_all_session(D=!1){var R=this;return(0,y.c)(function*(){if(!R.TogglingSession){if(R.TogglingSession=!0,"online"==R.statusBar.settings.groupServer)R.logout_all_server(),R.p5toast.show({text:R.lang.text.Nakama.SessionLogout});else{R.p5toast.show({text:R.lang.text.Nakama.PendingLogin});try{(yield R.init_all_sessions())||(R.p5toast.show({text:R.lang.text.Subscribes.Disconnected}),D&&R.nav.navigateForward("portal/settings/group-server"))}catch{}}R.TogglingSession=!1}})()}WatchAdsAndGetDevServerInfo(D=!1){var R=this;return(0,y.c)(function*(){if(!R.isRewardAdsUsed||D){const U={adId:"ca-app-pub-6577630868247944/4325703911"};let H=yield R.loadingCtrl.create({message:R.lang.text.TodoDetail.WIP});H.present();try{if(!(yield fetch(`${ot.uM}pjcone_ads/admob.txt`)).ok)throw"\uc900\ube44\ub41c \uad11\uace0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4";yield rn.i8.prepareRewardVideoAd(U),H.dismiss(),yield rn.i8.showRewardVideoAd(),"Android"==ot.s1?(R.bgmode.disable(),rn.i8.addListener(rn.iK.Dismissed,()=>{R.bgmode.enable()}),rn.i8.addListener(rn.iK.Rewarded,function(){var Q=(0,y.c)(function*(ye){0!=ye.amount&&(yield R.AccessToOfficialTestServer())});return function(ye){return Q.apply(this,arguments)}}())):(console.log("\ube0c\ub77c\uc6b0\uc800\uc2dd \ubcf4\uc0c1\ud615 \uad11\uace0 \uc900\ube44\uc911"),yield R.AccessToOfficialTestServer())}catch(le){console.log(le),yield R.AccessToOfficialTestServer(),H.dismiss()}return!0}return!1})()}AccessToOfficialTestServer(){var D=this;return(0,y.c)(function*(){let U=(yield(yield fetch(`${ot.uM}assets/data/WSAddress.txt`)).text()).split("\n")[0];yield D.add_group_server({isOfficial:"official",address:U,name:D.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0}),D.isRewardAdsUsed=!0;let H=Object.keys(D.servers.official);for(let le=0,Q=H.length;le<Q;le++)yield D.init_session(D.servers.official[H[le]].info);"online"==D.statusBar.settings.groupServer&&D.p5toast.show({text:D.lang.text.Nakama.AccessTestServer})})()}link_group(D,R,U="offline"==this.statusBar.groupServer[D][R]){var H=this;return(0,y.c)(function*(){if(U)H.statusBar.groupServer[D][R]="pending",H.catch_group_server_header("pending"),H.users.self.online&&(yield H.init_session(H.servers[D][R].info));else{if(H.channels_orig[D]&&H.channels_orig[D][R]&&(Object.keys(H.channels_orig[D][R]).forEach(Q=>{"missing"!=H.channels_orig[D][R][Q].status&&delete H.channels_orig[D][R][Q].status}),H.rearrange_channels()),H.groups[D]&&H.groups[D][R]&&Object.keys(H.groups[D][R]).forEach(Q=>{"missing"!=H.groups[D][R][Q].status&&(H.groups[D][R][Q].status="offline")}),H.set_group_statusBar("offline",D,R),H.statusBar.groupServer[D][R]="offline",H.catch_group_server_header("offline"),H.servers[D][R].session){try{yield H.servers[D][R].client.sessionLogout(H.servers[D][R].session,H.servers[D][R].session.token,H.servers[D][R].session.refresh_token)}catch{}H.noti_origin[D]&&H.noti_origin[D][R]&&delete H.noti_origin[D][R],H.rearrange_notifications()}H.channels_orig[D]&&H.channels_orig[D][R]&&Object.keys(H.channels_orig[D][R]).forEach(Q=>{"missing"!=H.channels_orig[D][R][Q].status&&delete H.channels_orig[D][R][Q].status})}H.indexed.saveTextFileToUserPath(JSON.stringify(H.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let D=[];return Object.keys(this.servers.official).forEach(H=>{"online"==this.statusBar.groupServer.official[H]&&D.push(this.servers.official[H])}),Object.keys(this.servers.unofficial).forEach(H=>{"online"==this.statusBar.groupServer.unofficial[H]&&D.push(this.servers.unofficial[H])}),D}get_all_server_info(D=!1,R=!1){let U=[],H=Object.keys(this.servers.official);return D&&H.forEach(Q=>{R?("online"==this.statusBar.groupServer.official[Q]||"pending"==this.statusBar.groupServer.official[Q])&&U.push(this.servers.official[Q].info):this.servers.official[Q]&&U.push(this.servers.official[Q].info)}),Object.keys(this.servers.unofficial).forEach(Q=>{R?("online"==this.statusBar.groupServer.unofficial[Q]||"pending"==this.statusBar.groupServer.unofficial[Q])&&U.push(this.servers.unofficial[Q].info):this.servers.unofficial[Q]&&U.push(this.servers.unofficial[Q].info)}),U}add_group_server(D,R=(()=>{})){var U=this;if(this.statusBar.groupServer.unofficial[D.target||D.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${D.target||D.name}`});D.target=D.target||D.name,D.address=D.address||"192.168.0.1",D.port=D.port||7350,D.useSSL=D.useSSL||!1,D.isOfficial=D.isOfficial||"unofficial",D.key=D.key||"defaultkey",this.groups[D.isOfficial]||(this.groups[D.isOfficial]={}),this.groups[D.isOfficial][D.target]||(this.groups[D.isOfficial][D.target]={}),this.channels_orig[D.isOfficial]||(this.channels_orig[D.isOfficial]={}),this.channels_orig[D.isOfficial][D.target]||(this.channels_orig[D.isOfficial][D.target]={});let H=(new Date).getTime().toString();return H+=`,${D.isOfficial}`,H+=`,${D.name}`,H+=`,${D.target}`,H+=`,${D.address}`,H+=`,${D.port}`,H+=`,${D.useSSL}`,new Promise(function(){var le=(0,y.c)(function*(Q){{let ye={urls:[`stun:${D.address}:3478`,`turn:${D.address}:3478`],username:"username",credential:"password"};yield U.SaveWebRTCServer(ye)}"official"!=D.isOfficial?U.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var ye=(0,y.c)(function*(Me,qe){let _t=[];Me&&qe&&(_t=qe.split("\n")),_t.push(H),U.indexed.saveTextFileToUserPath(_t.join("\n"),"servers/list_detail.csv",qt=>{U.init_server(D),U.servers[D.isOfficial][D.target].info={...D},R()}),U.statusBar.groupServer[D.isOfficial][D.target]="offline",yield U.indexed.saveTextFileToUserPath(JSON.stringify(U.statusBar.groupServer),"servers/list.json"),Q()});return function(Me,qe){return ye.apply(this,arguments)}}()):(U.init_server(D),U.servers[D.isOfficial][D.target].info={...D},U.statusBar.groupServer[D.isOfficial][D.target]="offline",Q())});return function(Q){return le.apply(this,arguments)}}())}SaveWebRTCServer(D){var R=this;return(0,y.c)(function*(){let U=(yield R.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",H=JSON.parse(U),le=!1;for(let ye=0,Me=Object.keys(H).length;ye<Me;ye++)if(R.catch_address_from_rtc_server_address(D)==R.catch_address_from_rtc_server_address(H[ye])){le=!0;break}le||H.push(D),yield R.indexed.saveTextFileToUserPath(JSON.stringify(H),"servers/webrtc_server.json")})()}RemoveWebRTCServer(D){var R=this;return(0,y.c)(function*(){let U=(yield R.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",H=JSON.parse(U);for(let Q=0,ye=Object.keys(H).length;Q<ye;Q++){let Me=R.catch_address_from_rtc_server_address(H[Q]);D==Me&&H.splice(Q,1)}yield R.indexed.saveTextFileToUserPath(JSON.stringify(H),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(D){let R;try{let U=D.urls[0];(U.indexOf("stun:")>=0||U.indexOf("turn:")>=0)&&(U=U.substring(5));let H=U.lastIndexOf(":");R=U.substring(0,H)}catch(U){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",U)}return R}catch_group_server_header(D){let R=D;this.statusBar.settings.groupServer=D,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(H=>{switch(this.statusBar.groupServer.official[H]){case"online":R="online";break;case"pending":"online"!=R&&(R="pending");break;case"missing":case"offline":"online"!=R&&"pending"!=R&&(R="offline")}}),"online"!=R&&Object.keys(this.statusBar.groupServer.unofficial).forEach(le=>{switch(this.statusBar.groupServer.unofficial[le]){case"online":R="online";break;case"pending":"online"!=R&&(R="pending");break;case"missing":case"offline":"online"!=R&&"pending"!=R&&(R="offline")}}),this.statusBar.settings.groupServer=R},1500)}init_session(D){var R=this;return(0,y.c)(function*(){R.TogglingSession=!0;try{R.servers[D.isOfficial][D.target].session=yield R.servers[D.isOfficial][D.target].client.authenticateEmail(R.users.self.email,R.users.self.password,!1),yield R.after_login(D.isOfficial,D.target,D.useSSL)}catch(U){switch(U.status){case 400:R.p5toast.show({text:R.lang.text.Nakama.NeedLoginInfo}),R.nav.navigateForward("portal/settings/group-server"),R.users.self.online=!1,delete R.users.self.password,R.set_group_statusBar("offline",D.isOfficial,D.target);break;case 401:R.p5toast.show({text:R.lang.text.Nakama.NeedAccountReset}),R.users.self.online=!1,delete R.users.self.password,R.set_group_statusBar("offline",D.isOfficial,D.target);break;case 404:if(R.servers[D.isOfficial][D.target].session=yield R.servers[D.isOfficial][D.target].client.authenticateEmail(R.users.self.email,R.users.self.password,!0),R.users.self.display_name&&R.servers[D.isOfficial][D.target].client.updateAccount(R.servers[D.isOfficial][D.target].session,{display_name:R.users.self.display_name,lang_tag:navigator.language.split("-")[0]||R.lang.lang}),R.p5toast.show({text:`${R.lang.text.Nakama.RegisterUserSucc}: ${D.name}`,lateable:!0}),R.users.self.img)try{let le=yield R.servers[D.isOfficial][D.target].client.writeStorageObjects(R.servers[D.isOfficial][D.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:R.users.self.img}}]);R.servers[D.isOfficial][D.target].client.updateAccount(R.servers[D.isOfficial][D.target].session,{avatar_url:le.acks[0].version})}catch(le){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",le)}(yield R.indexed.checkIfFileExist("servers/self/content.pck"))&&R.sync_save_file({path:"servers/self/content.pck"},D.isOfficial,D.target,"user_public","main_content"),yield R.after_login(D.isOfficial,D.target,D.useSSL);break;default:R.p5toast.show({text:`(${D.name}) ${R.lang.text.Nakama.UnexpectedLoginErr}: ${U}`}),R.set_group_statusBar("offline",D.isOfficial,D.target)}}R.TogglingSession=!1})()}after_login(D,R,U){var H=this;return(0,y.c)(function*(){H.set_group_statusBar("pending",D,R),H.servers[D][R].socket=H.servers[D][R].client.createSocket(U);try{let Q=yield H.servers[D][R].client.getAccount(H.servers[D][R].session),ye=JSON.parse(Q.user.metadata);H.servers[D][R].info.is_admin=ye.is_admin,Object.keys(Q.user).forEach(qe=>{"display_name"==qe?H.users.self[qe]=Q.user[qe]:H.users.self.display_name||(H.users.self[qe]=Q.user[qe])}),H.save_self_profile()}catch{}try{let Q=yield H.servers[D][R].client.readStorageObjects(H.servers[D][R].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:H.servers[D][R].session.user_id}]});Q.objects.length&&(H.socket_reactive.profile?H.socket_reactive.profile(Q.objects[0].value.img):(H.users.self.img=Q.objects[0].value.img,H.indexed.saveTextFileToUserPath(JSON.stringify(H.users.self.img),"servers/self/profile.img")))}catch{}let le=yield H.connect_to(D,R);try{let Q=yield H.servers[D][R].client.readStorageObjects(H.servers[D][R].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:H.servers[D][R].session.user_id}]});try{H.self_match[D]||(H.self_match[D]={}),H.self_match[D][R]||(H.self_match[D][R]=void 0),H.self_match[D][R]=yield le.joinMatch(Q.objects[0].value.match_id)}catch{let Me=yield le.createMatch();H.self_match[D][R]=Me,H.servers[D][R].client.writeStorageObjects(H.servers[D][R].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:Me.match_id}}])}}catch{}yield H.SyncTodoCounter(D,R),yield H.load_server_todo(D,R),yield H.RemoteTodoSelfCheck(D,R),yield H.get_group_list_from_server(D,R),yield H.redirect_channel(D,R),yield H.load_posts_counter(),H.noti_origin[D]||(H.noti_origin[D]={}),H.noti_origin[D][R]||(H.noti_origin[D][R]={}),yield H.update_notifications(D,R),H.rearrange_channels(),H.rearrange_group_list(),H.set_group_statusBar("online",D,R);for(let Q=0,ye=H.AfterLoginAct.length;Q<ye;Q++)try{yield H.AfterLoginAct[Q]()}catch(Me){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",Me)}H.AfterLoginAct.length=0,H.AfterLoginActDone=!0})()}load_server_todo(D,R){var U=this;return(0,y.c)(function*(){try{let H=U.RemoteTodoCounter[D][R];U.RemoteTodoCounter[D]||(U.RemoteTodoCounter[D]={});for(let le=H.length-1;le>=0;le--)try{let Q=`RemoteTodo_${H[le]}`,ye=yield U.servers[D][R].client.readStorageObjects(U.servers[D][R].session,{object_ids:[{collection:"server_todo",key:Q,user_id:U.servers[D][R].session.user_id}]});if(ye.objects.length)yield U.modify_remote_info_as_local(ye.objects[0].value,D,R);else try{U.RemoteTodoCounter[D][R].splice(le,1);let Me=yield U.indexed.loadTextFromUserPath(`todo/${Q}/info.todo`),qe=JSON.parse(Me);U.deleteTodoFromStorage(!0,qe)}catch{}}catch(Q){console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Q)}}catch{}})()}RemoteTodoSelfCheck(D,R){var U=this;return(0,y.c)(function*(){let H=yield U.indexed.GetFileListFromDB("todo/RemoteTodo_");for(let le=0,Q=H.length;le<Q;le++)if(H[le].indexOf("info.todo")>=0){let ye=yield U.indexed.loadTextFromUserPath(H[le]),Me=JSON.parse(ye);Me.remote.isOfficial==D&&Me.remote.target==R&&((yield U.servers[D][R].client.readStorageObjects(U.servers[D][R].session,{object_ids:[{collection:"server_todo",key:Me.id,user_id:U.servers[D][R].session.user_id}]})).objects.length||((yield U.indexed.GetFileListFromDB(`todo/${Me.id}`)).forEach(qt=>U.indexed.removeFileFromUserPath(qt)),Me.noti_id&&("DesktopPWA"==ot.s1||"MobilePWA"==ot.s1)&&(clearTimeout(U.web_noti_id[Me.noti_id]),delete U.web_noti_id[Me.noti_id]),U.noti.ClearNoti(Me.id),U.global.p5todo&&U.global.p5todo.remove_todo&&U.global.p5todo.remove_todo(ye)))}})()}getRemoteTodoCounter(D,R){var U=this;return(0,y.c)(function*(){try{U.RemoteTodoCounter[D][R].sort((Q,ye)=>Q-ye);let H=U.RemoteTodoCounter[D][R].length;if(!H)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let le=U.RemoteTodoCounter[D][R][H-1]+1;return U.RemoteTodoCounter[D][R].push(le),le}catch{let le=yield U.SyncTodoCounter(D,R),Q=0;return le&&le.objects.length&&le.objects[0].value.data.length?Q=le.objects[0].value.data.pop()+1:(U.RemoteTodoCounter[D]||(U.RemoteTodoCounter[D]={}),U.RemoteTodoCounter[D][R]=[0]),Q}})()}SyncTodoCounter(D,R){var U=this;return(0,y.c)(function*(){try{let H=yield U.servers[D][R].client.readStorageObjects(U.servers[D][R].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:U.servers[D][R].session.user_id}]});return U.RemoteTodoCounter[D]||(U.RemoteTodoCounter[D]={}),U.RemoteTodoCounter[D][R]=H.objects[0].value.data,H}catch{}})()}removeRemoteTodoCounter(D,R,U){var H=this;return(0,y.c)(function*(){try{let le=H.RemoteTodoCounter[D][R].indexOf(U);le>=0&&H.RemoteTodoCounter[D][R].splice(le,1)}catch{H.RemoteTodoCounter[D]||(H.RemoteTodoCounter[D]={}),H.RemoteTodoCounter[D][R]||(H.RemoteTodoCounter[D][R]=[])}yield H.updateRemoteCounter(D,R)})()}updateRemoteCounter(D,R){var U=this;return(0,y.c)(function*(){if(U.RemoteTodoCounter[D][R].length){for(let H=U.RemoteTodoCounter[D][R].length-1;H>=0;H--)(void 0===U.RemoteTodoCounter[D][R][H]||null==U.RemoteTodoCounter[D][R][H])&&U.RemoteTodoCounter[D][R].splice(H,1);U.RemoteTodoCounter[D][R].sort((H,le)=>H-le);for(let H=U.RemoteTodoCounter[D][R].length-2;H>=0;H--)U.RemoteTodoCounter[D][R][H+1]==U.RemoteTodoCounter[D][R][H]&&U.RemoteTodoCounter[D][R].splice(H,1)}yield U.servers[D][R].client.writeStorageObjects(U.servers[D][R].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:U.RemoteTodoCounter[D][R]}}])})()}modify_remote_info_as_local(D,R,U){var H=this;return(0,y.c)(function*(){D.remote.name=H.servers[R][U].info.name,D.remote.isOfficial=R,D.remote.target=U,D.remote.type=`${R}/${U}`,H.set_todo_notification(D),H.global.p5todo&&H.global.p5todo.add_todo&&H.global.p5todo.add_todo(JSON.stringify(D));let le=yield H.indexed.loadTextFromUserPath(`todo/${D.id}/info.todo`);if(le){let Q=JSON.parse(le);if(D.create_at<=Q.create_at&&Q.modified){if(Q.done)return void H.doneTodo(D,!0);if(Q.removed)return void H.deleteTodoFromStorage(!0,Q,!0);delete Q.modified,yield H.indexed.saveTextFileToUserPath(JSON.stringify(Q),`todo/${Q.id}/info.todo`),yield H.servers[Q.remote.isOfficial][Q.remote.target].client.writeStorageObjects(H.servers[Q.remote.isOfficial][Q.remote.target].session,[{collection:"server_todo",key:Q.id,permission_read:2,permission_write:1,value:Q}]).then(function(){var ye=(0,y.c)(function*(Me){yield H.servers[Q.remote.isOfficial][Q.remote.target].socket.sendMatchState(H.self_match[Q.remote.isOfficial][Q.remote.target].match_id,Wn.MANAGE_TODO,encodeURIComponent(`add,${Me.acks[0].collection},${Me.acks[0].key}`))});return function(Me){return ye.apply(this,arguments)}}())}else H.indexed.saveTextFileToUserPath(JSON.stringify(D),`todo/${D.id}/info.todo`)}else H.indexed.saveTextFileToUserPath(JSON.stringify(D),`todo/${D.id}/info.todo`)})()}doneTodo(D,R=!1){var U=this;return(0,y.c)(function*(){if(D.done=!0,U.global.p5todo&&U.global.p5todo.add_todo&&U.global.p5todo.add_todo(JSON.stringify(D)),D.remote){let H;R||(H=yield U.loadingCtrl.create({message:U.lang.text.TodoDetail.WIP}),H.present());try{U.servers[D.remote.isOfficial][D.remote.target]&&U.self_match[D.remote.isOfficial][D.remote.target]&&(yield U.servers[D.remote.isOfficial][D.remote.target].socket.sendMatchState(U.self_match[D.remote.isOfficial][D.remote.target].match_id,Wn.MANAGE_TODO,encodeURIComponent(`done,${D.id}`))),R||H.dismiss()}catch{return D.modified=!0,yield U.indexed.saveTextFileToUserPath(JSON.stringify(D),`todo/${D.id}/info.todo`),R||H.dismiss(),void U.navCtrl.pop()}}yield U.deleteTodoFromStorage(!1,D,R),U.navCtrl.pop()})()}deleteTodoFromStorage(D,R,U=!1){var H=this;return(0,y.c)(function*(){let le;if(U||(le=yield H.loadingCtrl.create({message:H.lang.text.TodoDetail.WIP}),le.present()),R.remote)try{if(!H.servers[R.remote.isOfficial][R.remote.target])throw"Server deleted.";try{let ye=R.remote.isOfficial,Me=R.remote.target;yield H.servers[ye][Me].client.deleteStorageObjects(H.servers[ye][Me].session,{object_ids:[{collection:"server_todo",key:R.id}]});for(let qe=0,_t=R.attach.length;qe<_t;qe++)yield H.sync_remove_file(R.attach[qe].path,ye,Me,"todo_attach");D&&(yield H.servers[ye][Me].socket.sendMatchState(H.self_match[ye][Me].match_id,Wn.MANAGE_TODO,encodeURIComponent(`delete,${R.id}`)))}catch(ye){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",ye)}try{if(R.remote.creator_id!=H.servers[R.remote.isOfficial][R.remote.target].session.user_id){let ye=(new Date).getTime();try{yield H.servers[R.remote.isOfficial][R.remote.target].client.rpc(H.servers[R.remote.isOfficial][R.remote.target].session,"manage_todo_done_fn",{id:R.id,creator_id:R.remote.creator_id,user_id:H.servers[R.remote.isOfficial][R.remote.target].session.user_id,timestamp:ye,isDelete:D})}catch{}try{let Me=yield H.servers[R.remote.isOfficial][R.remote.target].client.readStorageObjects(H.servers[R.remote.isOfficial][R.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:R.remote.creator_id}]});Me.objects.length&&(yield H.servers[R.remote.isOfficial][R.remote.target].socket.joinMatch(Me.objects[0].value.match_id),yield H.servers[R.remote.isOfficial][R.remote.target].socket.sendMatchState(Me.objects[0].value.match_id,Wn.MANAGE_TODO,encodeURIComponent(`worker,${R.id},${H.servers[R.remote.isOfficial][R.remote.target].session.user_id},${D},${ye}`)),yield H.servers[R.remote.isOfficial][R.remote.target].socket.leaveMatch(Me.objects[0].value.match_id))}catch{}}}catch{}if(R.workers){try{yield H.servers[R.remote.isOfficial][R.remote.target].client.rpc(H.servers[R.remote.isOfficial][R.remote.target].session,"manage_todo_delete_fn",{id:R.id,workers:R.workers})}catch{}for(let ye=0,Me=R.workers.length;ye<Me;ye++)try{let qe=yield H.servers[R.remote.isOfficial][R.remote.target].client.readStorageObjects(H.servers[R.remote.isOfficial][R.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:R.workers[ye].id}]});qe.objects.length&&(yield H.servers[R.remote.isOfficial][R.remote.target].socket.joinMatch(qe.objects[0].value.match_id),yield H.servers[R.remote.isOfficial][R.remote.target].socket.sendMatchState(qe.objects[0].value.match_id,Wn.MANAGE_TODO,encodeURIComponent(D?`delete,${R.id}`:`done,${R.id}`)),yield H.servers[R.remote.isOfficial][R.remote.target].socket.leaveMatch(qe.objects[0].value.match_id))}catch{}}yield H.removeRemoteTodoCounter(R.remote.isOfficial,R.remote.target,Number(R.id.split("_").pop()))}catch{return R.modified=!0,R.removed=!0,yield H.indexed.saveTextFileToUserPath(JSON.stringify(R),`todo/${R.id}/info.todo`),void(U||le.dismiss())}(yield H.indexed.GetFileListFromDB(`todo/${R.id}`)).forEach(ye=>H.indexed.removeFileFromUserPath(ye)),R.noti_id&&("Android"==ot.s1||"iOS"==ot.s1||(clearTimeout(H.web_noti_id[R.noti_id]),delete H.web_noti_id[R.noti_id])),H.removeRegisteredId(R.noti_id),H.noti.ClearNoti(R.noti_id),D&&H.global.p5todo&&H.global.p5todo.remove_todo(JSON.stringify(R)),U||le.dismiss()})()}load_groups(D,R,U){var H=this;return(0,y.c)(function*(){let le=H.groups[D][R][U].channel_id;try{if("missing"!=H.groups[D][R][U].status){let Q=yield H.servers[D][R].client.listGroupUsers(H.servers[D][R].session,U);if(Q.group_users.length){let ye=!0;for(let Me=0,qe=Q.group_users.length;Me<qe;Me++)if(Q.group_users[Me].user.id==H.servers[D][R].session.user_id){switch(Q.group_users[Me].state){case 0:case 1:case 2:H.groups[D][R][U].status="online";break;case 3:H.groups[D][R][U].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",Q.group_users[Me].state),H.groups[D][R][U].status="missing"}ye=!1,Q.group_users[Me].is_me=!0;break}ye&&(H.groups[D][R][U].status="missing",le&&(H.channels_orig[D][R][le].status="missing"),H.save_channels_with_less_info())}else H.groups[D][R][U].status="missing",H.channels_orig[D][R][le].status="missing",H.save_channels_with_less_info();Q.group_users.length&&(H.groups[D][R][U].users=Q.group_users);for(let ye=0,Me=Q.group_users.length;ye<Me;ye++)if(Q.group_users[ye].is_me)Q.group_users[ye].user=H.users.self;else try{let qe=yield H.servers[D][R].client.readStorageObjects(H.servers[D][R].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:Q.group_users[ye].user.id}]});qe.objects.length?Q.group_users[ye].user.img=qe.objects[0].value.img:delete Q.group_users[ye].user.img,H.save_other_user(Q.group_users[ye].user,D,R)}catch(qe){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",qe),H.save_other_user(Q.group_users[ye].user,D,R)}H.save_groups_with_less_info()}}catch(Q){console.log("load_groups_error: ",Q)}})()}save_self_profile(){let D={...this.users.self};delete D.img,this.indexed.saveTextFileToUserPath(JSON.stringify(D),"servers/self/profile.json")}rearrange_all_user(){let D=[];return Object.keys(this.users).forEach(U=>{"self"!=U&&Object.keys(this.users[U]).forEach(le=>{Object.keys(this.users[U][le]).forEach(ye=>{D.push(this.users[U][le][ye])})})}),D}load_other_user(D,R,U,H=(le=>{})){try{if(this.servers[R][U].session.user_id==D)return this.users.self}catch{}let le=!1;return this.users[R][U]||(this.users[R][U]={}),this.users[R][U][D]||(this.users[R][U][D]={},this.indexed.loadTextFromUserPath(`servers/${R}/${U}/users/${D}/profile.json`,(Q,ye)=>{if(Q&&ye){let Me=JSON.parse(ye);Object.keys(Me).forEach(_t=>this.users[R][U][D][_t]=Me[_t]),le||(H(this.users[R][U][D]),le=!0)}else try{this.servers[R][U].client.getUsers(this.servers[R][U].session,[D]).then(Me=>{Me.users.length?(Object.keys(Me.users[0]).forEach(_t=>this.users[R][U][D][_t]=Me.users[0][_t]),le||(H(this.users[R][U][D]),le=!0),this.users[R][U][D].img||(this.users[R][U][D].img=null),this.save_other_user(this.users[R][U][D],R,U)):(this.indexed.removeFileFromUserPath(`${R}/${U}/users/${D}`),this.indexed.removeFileFromUserPath(`${R}/${U}/users/${D}/profile.json`),this.indexed.removeFileFromUserPath(`${R}/${U}/users/${D}/profile.img`))})}catch{}}),this.users[R][U][D].img?this.save_other_user(this.users[R][U][D],R,U):this.indexed.loadTextFromUserPath(`servers/${R}/${U}/users/${D}/profile.img`,(Q,ye)=>{if(Q&&ye)this.users[R][U][D].img=ye.replace(/"|=|\\/g,"");else if(this.users[R][U][D].avatar_url)try{"online"==this.statusBar.groupServer[R][U]&&this.servers[R][U].client.readStorageObjects(this.servers[R][U].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:D}]}).then(Me=>{Me.objects.length?this.users[R][U][D].img=Me.objects[0].value.img:delete this.users[R][U][D].avatar_url,le||(H(this.users[R][U][D]),le=!0),this.save_other_user(this.users[R][U][D],R,U)}).catch(Me=>{this.users[R][U][D].img&&(delete this.users[R][U][D].img,le||(H(this.users[R][U][D]),le=!0),this.save_other_user(this.users[R][U][D],R,U))})}catch{}})),this.users[R][U][D]}save_other_user(D,R,U){if(this.servers[R][U].session.user_id==D.id)return;let H=JSON.parse(JSON.stringify(D));D.id!=this.servers[R][U].session.user_id&&(delete H.img,delete H.online,delete H.todo_checked,delete H.todo_done,this.users[R][U]||(this.users[R][U]={}),this.users[R][U][D.id]||(this.users[R][U][D.id]={}),Object.keys(D).forEach(Q=>this.users[R][U][D.id][Q]=D[Q]),this.indexed.saveTextFileToUserPath(JSON.stringify(H),`servers/${R}/${U}/users/${H.id}/profile.json`),D.img?this.indexed.saveTextFileToUserPath(D.img,`servers/${R}/${U}/users/${D.id}/profile.img`):void 0===D.img&&this.indexed.removeFileFromUserPath(`servers/${R}/${U}/users/${D.id}/profile.img`))}update_notifications(D,R){var U=this;return(0,y.c)(function*(){let H=yield U.servers[D][R].client.listNotifications(U.servers[D][R].session,1);U.noti_origin[D][R]={};for(let le=0,Q=H.notifications.length;le<Q;le++)U.act_on_notification(H.notifications[le],D,R);U.rearrange_notifications()})()}rearrange_notifications(){let D=[];return Object.keys(this.noti_origin).forEach(U=>{Object.keys(this.noti_origin[U]).forEach(le=>{Object.keys(this.noti_origin[U][le]).forEach(ye=>{D.push(this.noti_origin[U][le][ye])})})}),D.sort((U,H)=>U.create_time<H.create_time?1:U.create_time>H.create_time?-1:0),this.notifications_rearrange=D,D}add_channels(D,R,U){var H=this;return(0,y.c)(function*(){if(!H.channels_orig[R][U][D.id]){switch(H.channels_orig[R][U][D.id]={},Object.keys(D).forEach(Q=>H.channels_orig[R][U][D.id][Q]=D[Q]),H.channels_orig[R][U][D.id].cnoti_id||(H.channels_orig[R][U][D.id].cnoti_id=H.get_noti_id()),H.channels_orig[R][U][D.id].redirect.type){case 2:let Q=H.channels_orig[R][U][D.id].redirect.id;H.channels_orig[R][U][D.id].color=(Q.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let ye=H.load_other_user(Q,R,U).online?"online":"pending";H.channels_orig[R][U][D.id].status=ye;break;case 3:try{let Me=H.channels_orig[R][U][D.id].redirect.id;H.channels_orig[R][U][D.id].color=(Me.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let qe=yield H.servers[R][U].client.listGroupUsers(H.servers[R][U].session,Me);H.groups[R][U][Me].users||(H.groups[R][U][Me].users=[]),qe.group_users.forEach(_t=>{_t.user.id!=H.servers[R][U].session.user_id&&(H.users[R][U][_t.user.id]||H.save_other_user(_t.user,R,U)),_t.user.id==H.servers[R][U].session.user_id?_t.user.is_me=!0:H.users[R][U][_t.user.id]||H.save_other_user(_t.user,R,U),_t.user=H.load_other_user(_t.user.id,R,U),H.add_group_user_without_duplicate(_t,Me,R,U)})}catch(Me){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Me)}H.count_channel_online_member(H.channels_orig[R][U][D.id],R,U);break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",H.channels_orig[R][U][D.id])}H.rearrange_channels(),H.servers[R][U].socket.sendMatchState(H.self_match[R][U].match_id,Wn.ADD_CHANNEL,encodeURIComponent(""))}})()}add_group_user_without_duplicate(D,R,U,H){let le=!1;this.groups[U][H][R].users||(this.groups[U][H][R].users=[]);for(let Q=0,ye=this.groups[U][H][R].users.length;Q<ye;Q++)if(this.groups[U][H][R].users[Q].user.id==D.user.id){le=!0;break}le||this.groups[U][H][R].users.push(D)}load_channel_list(){var D=this;return(0,y.c)(function*(){let R=yield D.indexed.loadTextFromUserPath("servers/channels.json");R&&(D.channels_orig=JSON.parse(R),Object.keys(D.channels_orig).forEach(H=>{Object.keys(D.channels_orig[H]).forEach(Q=>{Object.keys(D.channels_orig[H][Q]).forEach(Me=>{2==D.channels_orig[H][Q][Me].redirect.type&&(D.channels_orig[H][Q][Me].info=D.load_other_user(D.channels_orig[H][Q][Me].redirect.id,H,Q)),"missing"!=D.channels_orig[H][Q][Me].status&&delete D.channels_orig[H][Q][Me].status,0==D.channels_orig[H][Q][Me].redirect.type&&(D.channels_orig[H][Q][Me].status="online"),D.channels_orig[H][Q][Me].is_new&&!D.subscribe_lock&&(D.has_new_channel_msg=!0)})})})),D.rearrange_channels()})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(D){let R=!1;for(let U=0,H=this.registered_id.length;U<H;U++)if(this.registered_id[U]==D){R=!0;break}return R?this.check_If_RegisteredId(D+1):D}removeRegisteredId(D){for(let R=0,U=this.registered_id.length;R<U;R++)if(this.registered_id[R]==D){this.registered_id.splice(R,1);break}}redirect_channel(D,R){var U=this;return(0,y.c)(function*(){if(U.channels_orig[D][R]){let H=Object.keys(U.channels_orig[D][R]);for(let le=0,Q=H.length;le<Q;le++)if("missing"!=U.channels_orig[D][R][H[le]].status)try{switch(yield U.servers[D][R].socket.joinChat(U.channels_orig[D][R][H[le]].redirect.id,U.channels_orig[D][R][H[le]].redirect.type,U.channels_orig[D][R][H[le]].redirect.persistence,!1),U.channels_orig[D][R][H[le]].cnoti_id||(U.channels_orig[D][R][H[le]].cnoti_id=U.get_noti_id()),U.channels_orig[D][R][H[le]].color=(U.channels_orig[D][R][H[le]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),U.channels_orig[D][R][H[le]].redirect.type){case 2:try{let ye=yield U.servers[D][R].client.readStorageObjects(U.servers[D][R].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:U.channels_orig[D][R][H[le]].redirect.id}]}),Me=U.load_other_user(U.channels_orig[D][R][H[le]].redirect.id,D,R);Me.img=ye.objects.length?ye.objects[0].value.img:void 0,U.save_other_user(Me,D,R)}catch{}case 3:if(!U.channels_orig[D][R][H[le]].update){let ye=yield U.servers[D][R].client.listChannelMessages(U.servers[D][R].session,H[le],1,!1);ye.messages.length&&U.update_from_channel_msg(ye.messages[0],D,R)}U.count_channel_online_member(U.channels_orig[D][R][H[le]],D,R);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub9ac\ub2e4\uc774\ub809\uc158 \ud0c0\uc785: ",U.channels_orig[D][R][H[le]].redirect.type)}}catch{U.channels_orig[D][R][H[le]].status="missing"}U.rearrange_channels()}})()}rearrange_channels(){let D=[];return Object.keys(this.channels_orig).forEach(U=>{Object.keys(this.channels_orig[U]).forEach(le=>{Object.keys(this.channels_orig[U][le]).forEach(ye=>{this.channels_orig[U][le][ye].server={isOfficial:U,target:le};try{this.channels_orig[U][le][ye].server.name=this.servers[U][le].info.name}catch{this.channels_orig[U][le][ye].server.name=this.lang.text.Nakama.DeletedServer}switch(this.channels_orig[U][le][ye].redirect.type){case 1:break;case 2:this.channels_orig[U][le][ye].info=this.load_other_user(this.channels_orig[U][le][ye].redirect.id,U,le),this.channels_orig[U][le][ye].title=this.channels_orig[U][le][ye].info.display_name;break;case 3:"missing"!=this.channels_orig[U][le][ye].status&&(this.groups[U][le]&&this.groups[U][le][this.channels_orig[U][le][ye].redirect.id]?(this.channels_orig[U][le][ye].info=this.groups[U][le][this.channels_orig[U][le][ye].redirect.id],this.channels_orig[U][le][ye].title=this.groups[U][le][this.channels_orig[U][le][ye].redirect.id].name,"missing"==this.groups[U][le][this.channels_orig[U][le][ye].redirect.id].status&&(this.channels_orig[U][le][ye].status=this.groups[U][le][this.channels_orig[U][le][ye].redirect.id].status)):this.channels_orig[U][le][ye].status="missing");break;case 0:this.channels_orig[U][le][ye].info||(this.channels_orig[U][le][ye].info={}),this.channels_orig[U][le][ye].info.name=this.channels_orig[U][le][ye].title,this.channels_orig[U][le][ye].info.img||this.indexed.loadTextFromUserPath(`servers/${U}/${le}/groups/${ye}.img`,(Me,qe)=>{Me&&qe&&(this.channels_orig[U][le][ye].info.img=qe)});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \ub300\ud654\ud615\uc2dd: ",this.channels_orig[U][le][ye])}D.push(this.channels_orig[U][le][ye])})})}),D.sort((U,H)=>{let le=new Date(U.last_comment_time||0).getTime(),Q=new Date(H.last_comment_time||0).getTime();return le<Q?1:le>Q?-1:0}),D.sort((U,H)=>U.is_new?H.is_new?0:-1:H.is_new?1:0),this.channels=D,this.MakeChannelHaveContextMenuAct(),this.save_channels_with_less_info(),D}MakeChannelHaveContextMenuAct(){var D=this;setTimeout(()=>{for(let R=0,U=this.channels.length;R<U;R++){let H=document.getElementById(`${this.channels[R].server.isOfficial}_${this.channels[R].server.target}_${this.channels[R].id}`);H&&null==H.oncontextmenu&&(H.oncontextmenu=()=>{let le;for(let qe=0,_t=this.channels.length;qe<_t;qe++)if(`${this.channels[qe].server.isOfficial}_${this.channels[qe].server.target}_${this.channels[qe].id}`==H.id){le=qe;break}let Q=this.channels[le].server.isOfficial,ye=this.channels[le].server.target,Me=this.channels[le].info.name||this.channels[le].info.display_name;switch(Me=2==this.channels[le].redirect.type?Me||this.lang.text.Profile.noname_user:Me||this.lang.text.ChatRoom.noname_chatroom,this.channels[le].redirect.type){case 3:if("online"==this.channels[le].status||"pending"==this.channels[le].status){this.modalCtrl.create({component:Ct.q,componentProps:{info:this.groups[Q][ye][this.channels[le].group_id],server:{isOfficial:Q,target:ye}}}).then(qe=>{let _t=this.global.p5key.KeyShortCut;this.global.p5key.KeyShortCut={},qe.onDidDismiss().then(()=>{this.global.p5key.KeyShortCut=_t}),qe.present()});break}case 2:"online"==this.channels[le].status||"pending"==this.channels[le].status?this.alertCtrl.create({header:Me,message:this.lang.text.ChatRoom.UnlinkChannel,buttons:[{text:this.lang.text.ChatRoom.LogOut,handler:(qe=(0,y.c)(function*(){try{yield D.servers[Q][ye].socket.leaveChat(D.channels[le].id),D.channels_orig[Q][ye][D.channels[le].id].status="missing"}catch(_t){console.error("\ucc44\ub110\uc5d0\uc11c \ub098\uc624\uae30 \uc2e4\ud328: ",_t)}D.rearrange_channels()}),function(){return qe.apply(this,arguments)}),cssClass:"redfont"}]}).then(qe=>qe.present()):this.alertCtrl.create({header:Me,message:this.lang.text.ChatRoom.RemoveChannelLogs,buttons:[{text:this.lang.text.ChatRoom.Delete,handler:function(){var qe=(0,y.c)(function*(){let _t=yield D.loadingCtrl.create({message:D.lang.text.TodoDetail.WIP});_t.present(),D.remove_group_list(D.channels_orig[Q][ye][D.channels[le].id].info,Q,ye,!0),delete D.channels_orig[Q][ye][D.channels[le].id],D.remove_channel_files(Q,ye,D.channels[le].id);let qt=yield D.indexed.GetFileListFromDB(`servers/${Q}/${ye}/channels/${D.channels[le].id}`);for(let cn=0,an=qt.length;cn<an;cn++)_t.message=`${D.lang.text.UserFsDir.DeleteFile}: ${an-cn}`,yield D.indexed.removeFileFromUserPath(qt[cn]);_t.dismiss(),D.rearrange_channels()});return function(){return qe.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(qe=>qe.present());break;case 0:this.alertCtrl.create({header:Me,message:this.lang.text.ChatRoom.RemoveChannelLogs,buttons:[{text:this.lang.text.ChatRoom.Delete,handler:function(){var qe=(0,y.c)(function*(){let _t=yield D.loadingCtrl.create({message:D.lang.text.TodoDetail.WIP});_t.present(),delete D.channels_orig[Q][ye][D.channels[le].id];try{yield D.indexed.removeFileFromUserPath(`servers/${Q}/${ye}/groups/${D.channels[le].id}.img`)}catch(cn){console.log("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uc0ad\uc81c \uc624\ub958: ",cn)}D.save_groups_with_less_info();let qt=yield D.indexed.GetFileListFromDB(`servers/${Q}/${ye}/channels/${D.channels[le].id}`);for(let cn=0,an=qt.length;cn<an;cn++)_t.message=`${D.lang.text.UserFsDir.DeleteFile}: ${an-cn}`,yield D.indexed.removeFileFromUserPath(qt[cn]);_t.dismiss(),D.rearrange_channels()});return function(){return qe.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(qe=>qe.present())}var qe;return!1})}},100)}save_channels_with_less_info(){let D=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(D).forEach(U=>{Object.keys(D[U]).forEach(le=>{let Q=Object.keys(D[U][le]);Q.forEach(ye=>{delete D[U][le][ye].img,delete D[U][le][ye].group,delete D[U][le][ye].info,delete D[U][le][ye].update,delete D[U][le][ye].presences,delete D[U][le][ye].cnoti_id,delete D[U][le][ye].status,delete D[U][le][ye].color,D[U][le][ye].is_new||delete D[U][le][ye].is_new}),Q.length||delete D[U][le]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(D),"servers/channels.json")}limit_image_size(D,R=(U=>{})){new Ye(H=>{H.setup=()=>{H.noCanvas(),H.loadImage(D,Q=>{Q.resize(window.innerWidth,window.innerWidth*Q.height/Q.width),Q.canvas.toDataURL().length>245e3&&le(Q),R(Q),H.remove()},Q=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),H.remove()})};let le=Q=>{Q.resize(.95*Q.width,.95*Q.height),Q.canvas.toDataURL().length>245e3&&le(Q)}})}try_add_group(D){var R=this;return new Promise(function(){var U=(0,y.c)(function*(H,le){let Q=R.get_all_online_server();for(let ye=0,Me=Q.length;ye<Me;ye++)try{let qe=yield Q[ye].client.joinGroup(Q[ye].session,D.id);if(!qe)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");qe=yield Q[ye].client.listGroups(Q[ye].session,decodeURIComponent(D.name));for(let _t=0,qt=qe.groups.length;_t<qt;_t++)if(qe.groups[_t].id==D.id){let cn=qe.groups[_t];cn.status=cn.open?"online":"pending",cn.server=R.servers[Q[ye].info.isOfficial][Q[ye].info.target].info;try{let an=yield R.servers[Q[ye].info.isOfficial][Q[ye].info.target].client.listGroupUsers(R.servers[Q[ye].info.isOfficial][Q[ye].info.target].session,qe.groups[_t].id);cn.users=an.group_users,an.group_users.forEach(On=>{On.user.id==R.servers[Q[ye].info.isOfficial][Q[ye].info.target].session.user_id?On.is_me=!0:R.save_other_user(On.user,Q[ye].info.isOfficial,Q[ye].info.target)})}catch(an){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",an)}try{let an=yield R.servers[Q[ye].info.isOfficial][Q[ye].info.target].client.readStorageObjects(R.servers[Q[ye].info.isOfficial][Q[ye].info.target].session,{object_ids:[{collection:"group_public",key:`group_${qe.groups[_t].id}`,user_id:qe.groups[_t].creator_id}]});an.objects.length&&(cn.img=an.objects[0].value.img)}catch(an){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",an)}if(R.save_group_info(cn,Q[ye].info.isOfficial,Q[ye].info.target),yield Q[ye].socket.sendMatchState(R.self_match[Q[ye].info.isOfficial][Q[ye].info.target].match_id,Wn.ADD_CHANNEL,encodeURIComponent("")),cn.open){let an=yield R.join_chat_with_modulation(cn.id,3,Q[ye].info.isOfficial,Q[ye].info.target);if(!R.opened_page_info.channel||R.opened_page_info.channel.isOfficial!=Q[ye].info.isOfficial||R.opened_page_info.channel.target!=Q[ye].info.target||R.opened_page_info.channel.id!=an.id)try{let On=yield R.servers[Q[ye].info.isOfficial][Q[ye].info.target].client.listChannelMessages(R.servers[Q[ye].info.isOfficial][Q[ye].info.target].session,an.id,1,!1);On.messages.length&&R.update_from_channel_msg(On.messages[0],Q[ye].info.isOfficial,Q[ye].info.target),R.save_group_info(cn,Q[ye].info.isOfficial,Q[ye].info.target),R.go_to_chatroom_without_admob_act(an)}catch(On){console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",On)}}H();break}}catch(qe){switch(qe.status){case 400:let _t=yield Q[ye].client.listGroups(Q[ye].session,decodeURIComponent(D.name));for(let qt=0,cn=_t.groups.length;qt<cn;qt++)if(_t.groups[qt].id==D.id){try{let an=_t.groups[qt],On=yield R.servers[Q[qt].info.isOfficial][Q[qt].info.target].client.listGroupUsers(R.servers[Q[qt].info.isOfficial][Q[qt].info.target].session,_t.groups[qt].id);an.users=On.group_users,On.group_users.forEach(zn=>{zn.user.id==R.servers[Q[qt].info.isOfficial][Q[qt].info.target].session.user_id?zn.is_me=!0:R.save_other_user(zn.user,Q[qt].info.isOfficial,Q[qt].info.target)}),R.save_group_info(an,Q[qt].info.isOfficial,Q[qt].info.target)}catch(an){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uc911\ubcf5 \uc815\ubcf4: ",an)}break}break;case 404:break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",qe)}}le(R.lang.text.Nakama.GroupAllListDone)});return function(H,le){return U.apply(this,arguments)}}())}save_group_info(D,R,U){this.groups[R][U]||(this.groups[R][U]={}),this.groups[R][U][D.id]=D,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(D.img,`servers/${R}/${U}/groups/${D.id}.img`),D.owner==this.servers[R][U].session.user_id&&D.img&&this.servers[R][U].client.writeStorageObjects(this.servers[R][U].session,[{collection:"group_public",key:`group_${D.id}`,value:{img:D.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(D=(()=>{})){let R=JSON.parse(JSON.stringify(this.groups));Object.keys(R).forEach(H=>{Object.keys(R[H]).forEach(Q=>{let ye=Object.keys(R[H][Q]);ye.forEach(Me=>{if(delete R[H][Q][Me].server,delete R[H][Q][Me].img,R[H][Q][Me].users)for(let qe=0,_t=R[H][Q][Me].users.length;qe<_t;qe++)if(R[H][Q][Me].users[qe]){delete R[H][Q][Me].users[qe].state;try{R[H][Q][Me].users[qe].user.id?(R[H][Q][Me].users[qe].user={id:R[H][Q][Me].users[qe].user.id},this.servers[H][Q]&&this.servers[H][Q].session&&R[H][Q][Me].users[qe].user.id==this.servers[H][Q].session.user_id&&(R[H][Q][Me].users[qe].is_me=!0)):R[H][Q][Me].users[qe].is_me||R[H][Q][Me].users.splice(qe,1)}catch{}}}),ye.length||delete R[H][Q]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(R),"servers/groups.json",()=>{D()}),this.MakeChannelHaveContextMenuAct()}remove_group_list(D,R,U,H=!1){var le=this;return(0,y.c)(function*(){try{let Q=D.creator_id==le.servers[R][U].session.user_id;if(!le.servers[R][U]||!Q)throw"not a group creator";try{let Me=`${D.server.useSSL?"https":"http"}://${D.server.address}`;yield le.global.remove_files_from_storage_with_key(Me,D.id)}catch(Me){console.log("\ud30c\uc77c \uc77c\uad04 \uc0ad\uc81c \uc694\uccad \uc2e4\ud328: ",Me)}(yield le.servers[R][U].client.deleteGroup(le.servers[R][U].session,D.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),le.remove_channel_files(R,U,D.channel_id,Q);try{throw yield le.servers[R][U].client.deleteStorageObjects(le.servers[R][U].session,{object_ids:[{collection:"group_public",key:`group_${D.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{}try{H&&(yield le.indexed.removeFileFromUserPath(`servers/${R}/${U}/groups/${D.id}.img`))}catch{}})()}remove_channel_files(D,R,U,H){try{this.servers[D][R].client.rpc(this.servers[D][R].session,"remove_channel_file",{collection:`file_${U.replace(/[.]/g,"_")}`,is_creator:H}).catch(le=>{})}catch{}}get_group_list_from_server(D,R){var U=this;return(0,y.c)(function*(){U.groups[D]||(U.groups[D]={}),U.groups[D][R]||(U.groups[D][R]={});try{let H=yield U.servers[D][R].client.listUserGroups(U.servers[D][R].session,U.servers[D][R].session.user_id);for(let le=0,Q=H.user_groups.length;le<Q;le++){if(!U.groups[D][R][H.user_groups[le].group.id]){U.groups[D][R][H.user_groups[le].group.id]={};try{let ye=yield U.servers[D][R].client.readStorageObjects(U.servers[D][R].session,{object_ids:[{collection:"group_public",key:`group_${H.user_groups[le].group.id}`,user_id:H.user_groups[le].group.creator_id}]});ye.objects.length&&(U.groups[D][R][H.user_groups[le].group.id].img=ye.objects[0].value.img,U.indexed.saveTextFileToUserPath(ye.objects[0].value.img,`servers/${D}/${R}/groups/${H.user_groups[le].group.id}.img`))}catch(ye){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ye)}}U.groups[D][R][H.user_groups[le].group.id]={...U.groups[D][R][H.user_groups[le].group.id],...H.user_groups[le].group},U.groups[D][R][H.user_groups[le].group.id].status="online";try{let ye=yield U.servers[D][R].client.listGroupUsers(U.servers[D][R].session,H.user_groups[le].group.id);for(let Me=0,qe=ye.group_users.length;Me<qe;Me++)ye.group_users[Me].user.id==U.servers[D][R].session.user_id?ye.group_users[Me].user.is_me=!0:(ye.group_users[Me].user.img=null,U.save_other_user(ye.group_users[Me].user,D,R)),ye.group_users[Me].user=U.load_other_user(ye.group_users[Me].user.id,D,R),U.add_group_user_without_duplicate(ye.group_users[Me],H.user_groups[le].group.id,D,R)}catch(ye){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ye)}try{yield U.join_chat_with_modulation(H.user_groups[le].group.id,3,D,R)}catch{}}U.save_groups_with_less_info()}catch(H){console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",H)}})()}rearrange_group_list(){let D=[];return Object.keys(this.groups).forEach(H=>{Object.keys(this.groups[H]).forEach(Q=>{Object.keys(this.groups[H][Q]).forEach(Me=>{try{this.groups[H][Q][Me].server=this.servers[H][Q].info}catch{this.groups[H][Q][Me].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:H,target:Q}}D.push(this.groups[H][Q][Me])})})}),Object.keys(this.after_rearrange_group).forEach(H=>this.after_rearrange_group[H](D)),D}set_group_statusBar(D,R,U){this.statusBar.groupServer[R][U]&&(this.statusBar.groupServer[R][U]=D),this.catch_group_server_header(D),this.StatusBarChangedCallback&&this.StatusBarChangedCallback()}count_channel_online_member(D,R,U){var H=this;return(0,y.c)(function*(){let le="pending";try{if("offline"==H.statusBar.groupServer[R][U])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(D.group_id){if(H.groups[R][U][D.group_id]&&H.groups[R][U][D.group_id].users){let Q=H.groups[R][U][D.group_id].users.length;if(1==Q)le=H.users.self.online?"online":"offline";else for(let ye=0;ye<Q;ye++){let Me=H.groups[R][U][D.group_id].users[ye].user.id||H.servers[R][U].session.user_id;if(Me!=H.servers[R][U].session.user_id&&H.load_other_user(Me,R,U).online){le="online";break}}}}else if(D.user_id_one)if(H.channels_orig[R][U][D.channel_id||D.id]){let Q=H.channels_orig[R][U][D.channel_id||D.id].redirect.id,ye=yield H.servers[R][U].client.getUsers(H.servers[R][U].session,[Q]);Object.keys(ye.users[0]).forEach(qe=>{H.users[R][U][Q][qe]=ye.users[0][qe]}),le=H.load_other_user(Q,R,U).online?"online":"pending"}else try{let Q=yield H.join_chat_with_modulation(D.user_id_one!=H.servers[R][U].session.user_id?D.user_id_one:D.user_id_two,2,R,U);le=H.load_other_user(H.channels_orig[R][U][Q.id].redirect.id,R,U).online?"online":"pending"}catch(Q){console.error(Q)}}catch{le="offline"==H.statusBar.groupServer[R][U]?"offline":"missing"}H.channels_orig[R][U][D.channel_id||D.id]||(H.channels_orig[R][U][D.channel_id||D.id]={}),"missing"!=H.channels_orig[R][U][D.channel_id||D.id].status&&(H.channels_orig[R][U][D.channel_id||D.id].status=le)})()}remove_server(D,R){var U=this;return(0,y.c)(function*(){let H=yield U.loadingCtrl.create({message:U.lang.text.TodoDetail.WIP});H.present(),H.message=U.lang.text.Nakama.RemovingAccount;let le=U.servers[D][R].info;try{let Me=U.servers[D][R].session.user_id,qe=`${le.useSSL?"https":"http"}://${le.address}`;U.servers[D][R].client.rpc(U.servers[D][R].session,"remove_account_fn",{user_id:Me}).catch(_t=>{});try{yield U.global.remove_files_from_storage_with_key(qe,Me)}catch(_t){console.log("\ud30c\uc77c \uc77c\uad04 \uc0ad\uc81c \uc694\uccad \uc2e4\ud328: ",_t)}}catch{}if(H.message=U.lang.text.Nakama.LogoutAccount,"online"==U.statusBar.groupServer[D][R])try{U.servers[D][R].socket.disconnect(!0)}catch{U.link_group(D,R,!1)}H.message=U.lang.text.Nakama.RemovingNotification;try{delete U.noti_origin[D][R]}catch{}U.rearrange_notifications(),H.message=U.lang.text.Nakama.MissingChannels;try{let Me=Object.keys(U.channels_orig[D][R]);U.channels_orig.deleted||(U.channels_orig.deleted={}),U.channels_orig.deleted[R]||(U.channels_orig.deleted[R]={}),Me.forEach(qe=>{U.channels_orig[D][R][qe].info.status="missing",U.channels_orig[D][R][qe].status="missing",U.channels_orig.deleted[R][qe]=JSON.parse(JSON.stringify(U.channels_orig[D][R][qe]))}),delete U.channels_orig[D][R]}catch{}U.rearrange_channels();let Q=yield U.indexed.GetFileListFromDB(`servers/unofficial/${R}`);for(let Me=0,qe=Q.length;Me<qe;Me++){let _t=yield U.indexed.GetFileInfoFromDB(Q[Me]),qt=Q[Me].replace("/official/","/deleted/").replace("/unofficial/","/deleted/");yield U.indexed.saveFileToUserPath(_t,qt),yield U.indexed.removeFileFromUserPath(Q[Me]),H.message=`${U.lang.text.Nakama.MissingChannelFiles}: ${Q[Me]}`,("Android"==ot.s1||"iOS"==ot.s1)&&U.noti.noti.schedule({id:9,title:`${U.lang.text.Nakama.MissingChannelFiles}: ${qe-Me}`,progressBar:{value:Me,maxValue:qe},sound:null,smallIcon:"res://icon_mono",color:"b0b0b0"})}H.message=U.lang.text.Nakama.MissingGroups;try{U.groups.deleted||(U.groups.deleted={}),U.groups.deleted[R]||(U.groups.deleted[R]={}),U.groups.deleted[R]=JSON.parse(JSON.stringify(U.groups[D][R])),Object.keys(U.groups.deleted[R]).forEach(qe=>{U.groups.deleted[R][qe].server.name=U.lang.text.Nakama.DeletedServer,U.groups.deleted[R][qe].server.isOfficial="deleted",U.groups.deleted[R][qe].status="missing",U.groups.deleted[R][qe]=JSON.parse(JSON.stringify(U.groups[D][R][qe]))}),delete U.groups[D][R]}catch{}H.message=U.lang.text.Nakama.DeletingServerInfo,U.set_group_statusBar("offline",D,R),delete U.statusBar.groupServer[D][R],U.RemoveWebRTCServer(U.servers[D][R].info.address),delete U.servers[D][R],U.save_groups_with_less_info(),U.indexed.saveTextFileToUserPath(JSON.stringify(U.statusBar.groupServer),"servers/list.json");let ye=yield U.indexed.loadTextFromUserPath("servers/list_detail.csv");if(ye){let Me=ye.split("\n");for(let qe=0,_t=Me.length;qe<_t;qe++)if(Me[qe].split(",")[3]==R){Me.splice(qe,1);break}U.indexed.saveTextFileToUserPath(Me.join("\n"),"servers/list_detail.csv")}setTimeout(()=>{U.noti.ClearNoti(9)},100),H.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0).length?(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"})):(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}))}connect_to(D="official",R="default"){var U=this;return(0,y.c)(function*(){yield U.servers[D][R].socket.connect(U.servers[D][R].session,!0);let H=U.servers[D][R].socket;return Object.keys(U.on_socket_connected).forEach(Q=>U.on_socket_connected[Q]()),H.onnotification=Q=>{U.act_on_notification(Q,D,R),U.rearrange_notifications()},H.onchannelpresence=Q=>{if(void 0!==Q.joins)Q.joins.forEach(ye=>{U.servers[D][R].session.user_id!=ye.user_id&&(U.load_other_user(ye.user_id,D,R).online=!0)}),U.count_channel_online_member(Q,D,R);else if(void 0!==Q.leaves){let ye=[];Q.leaves.forEach(Me=>{U.servers[D][R].session.user_id!=Me.user_id&&(delete U.load_other_user(Me.user_id,D,R).online,ye.push(Me.user_id))}),ye.forEach(Me=>U.load_other_user(Me,D,R)),U.count_channel_online_member(Q,D,R)}U.socket_reactive["others-online"]&&U.socket_reactive["others-online"]()},H.onmatchdata=function(){var Q=(0,y.c)(function*(ye){switch(ye.data_str=decodeURIComponent((new TextDecoder).decode(ye.data)),ye.op_code){case Wn.MANAGE_TODO:{let Me=ye.data_str.split(",");switch(Me[0]){case"add":U.servers[D][R].client.readStorageObjects(U.servers[D][R].session,{object_ids:[{collection:Me[1],key:Me[2],user_id:U.servers[D][R].session.user_id}]}).then(function(){var qt=(0,y.c)(function*(cn){if(cn.objects.length){try{let On=cn.objects[0].value,zn=yield U.indexed.loadTextFromUserPath(`todo/${On.id}/info.todo`),Gn=JSON.parse(zn);U.removeRegisteredId(Gn.noti_id),U.noti.ClearNoti(Gn.noti_id)}catch{}yield U.modify_remote_info_as_local(cn.objects[0].value,D,R);let an=cn.objects[0].value;U.noti.ClearNoti(an.noti_id),U.set_todo_notification(an),U.p5toast.show({text:`${U.lang.text.Main.RequestTodo}: ${an.title}`})}});return function(cn){return qt.apply(this,arguments)}}());break;case"done":U.indexed.loadTextFromUserPath(`todo/${Me[1]}/info.todo`,function(){var qt=(0,y.c)(function*(cn,an){if(cn&&an){let On=JSON.parse(an);On.done=!0,yield U.modify_remote_info_as_local(On,D,R),U.indexed.GetFileListFromDB(`todo/${Me[1]}`,zn=>{zn.forEach(Gn=>U.indexed.removeFileFromUserPath(Gn)),On.noti_id&&("DesktopPWA"==ot.s1||"MobilePWA"==ot.s1)&&(clearTimeout(U.web_noti_id[On.noti_id]),delete U.web_noti_id[On.noti_id]),U.removeRegisteredId(On.noti_id),U.noti.ClearNoti(On.noti_id),U.SyncTodoCounter(D,R)})}});return function(cn,an){return qt.apply(this,arguments)}}());break;case"delete":U.indexed.loadTextFromUserPath(`todo/${Me[1]}/info.todo`,(qt,cn)=>{if(qt&&cn){let an=JSON.parse(cn);U.indexed.GetFileListFromDB(`todo/${Me[1]}`,On=>{On.forEach(zn=>U.indexed.removeFileFromUserPath(zn)),an.noti_id&&("DesktopPWA"==ot.s1||"MobilePWA"==ot.s1)&&(clearTimeout(U.web_noti_id[an.noti_id]),delete U.web_noti_id[an.noti_id]),U.removeRegisteredId(an.noti_id),U.noti.ClearNoti(an.noti_id),U.global.p5todo&&U.global.p5todo.remove_todo&&U.global.p5todo.remove_todo(JSON.stringify(an))}),U.SyncTodoCounter(D,R)}});break;case"worker":let qe="true"==Me[3];U.AddTodoManageUpdateAct&&U.AddTodoManageUpdateAct(Me[1],Me[2],qe,Number(Me[4])),U.p5toast.show({text:`${qe?U.lang.text.Main.WorkerAbandon:U.lang.text.Main.WorkerDone}: ${U.users[D][R][Me[2]].display_name}`}),U.indexed.loadTextFromUserPath(`todo/${Me[1]}/info.todo`,function(){var qt=(0,y.c)(function*(cn,an){if(cn&&an){let On=JSON.parse(an);for(let zn=0,Gn=On.workers.length;zn<Gn;zn++)if((On.workers[zn].user_id||On.workers[zn].id)==Me[2]){On.workers[zn].isDelete="true"==Me[3],On.workers[zn].timestamp=Number(Me[4]);break}yield U.modify_remote_info_as_local(On,D,R),U.SyncTodoCounter(D,R)}});return function(cn,an){return qt.apply(this,arguments)}}());break;default:console.log("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",ye)}U.SyncTodoCounter(D,R)}break;case Wn.EDIT_PROFILE:switch(ye.data_str){case"info":U.servers[D][R].client.getAccount(U.servers[D][R].session).then(Me=>{Object.keys(Me.user).forEach(_t=>U.users.self[_t]=Me.user[_t]),U.save_self_profile()});break;case"image":U.servers[D][R].client.readStorageObjects(U.servers[D][R].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:U.servers[D][R].session.user_id}]}).then(Me=>{Me.objects.length?(U.indexed.saveTextFileToUserPath(JSON.stringify(Me.objects[0].value.img),"servers/self/profile.img"),U.users.self.img=Me.objects[0].value.img.replace(/"|=|\\/g,"")):U.indexed.removeFileFromUserPath("servers/self/profile.img")});break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",ye)}break;case Wn.ADD_CHANNEL:U.get_group_list_from_server(D,R);break;case Wn.WEBRTC_INIT_REQ_SIGNAL:U.servers[D][R].session.user_id!=ye.presence.user_id&&U.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&U.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case Wn.WEBRTC_REPLY_INIT_SIGNAL:U.servers[D][R].session.user_id!=ye.presence.user_id&&U.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&U.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(ye.data_str);break;case Wn.WEBRTC_RECEIVE_ANSWER:U.servers[D][R].session.user_id!=ye.presence.user_id&&U.socket_reactive.WEBRTC_RECEIVE_ANSWER&&U.socket_reactive.WEBRTC_RECEIVE_ANSWER(ye.data_str);break;case Wn.WEBRTC_ICE_CANDIDATES:U.servers[D][R].session.user_id!=ye.presence.user_id&&U.socket_reactive.WEBRTC_ICE_CANDIDATES&&U.socket_reactive.WEBRTC_ICE_CANDIDATES(ye.data_str);break;case Wn.WEBRTC_NEGOCIATENEEDED:U.servers[D][R].session.user_id!=ye.presence.user_id&&U.socket_reactive.WEBRTC_NEGOCIATENEEDED&&U.socket_reactive.WEBRTC_NEGOCIATENEEDED(ye.data_str);break;case Wn.WEBRTC_RECEIVED_CALL_SELF:U.socket_reactive.WEBRTC_RECEIVED_CALL_SELF&&U.socket_reactive.WEBRTC_RECEIVED_CALL_SELF();break;case Wn.WEBRTC_HANGUP:U.servers[D][R].session.user_id!=ye.presence.user_id&&U.WebRTCService&&(yield U.WebRTCService.close_webrtc());break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",ye)}});return function(ye){return Q.apply(this,arguments)}}(),H.onchannelmessage=Q=>{U.channels_orig[D][R][Q.channel_id]?(U.update_from_channel_msg(Q,D,R),Q.content.match&&Q.sender_id!=U.servers[D][R].session.user_id&&U.JoinWebRTCMatch(Q,D,R,U.channels_orig[D][R][Q.channel_id])):Q.user_id_one?U.join_chat_with_modulation(Q.sender_id,2,D,R):Q.group_id&&U.join_chat_with_modulation(Q.group_id,3,D,R)},H.ondisconnect=Q=>{U.OnSocketDisconnect(D,R)},H})()}OnSocketDisconnect(D,R){this.link_group(D,R,!1),Object.keys(this.on_socket_disconnected).forEach(H=>this.on_socket_disconnected[H]())}saveListedMessage(D,R,U,H){let le={},Q=JSON.parse(JSON.stringify(D));for(;Q.length;){le.target!=Q[0].msgDate&&(le.msg&&this.saveMessageByDate(le,R,U,H),le.target=Q[0].msgDate,le.msg=[]);let ye=Q.shift();delete ye.content.text,delete ye.content.img,delete ye.content.local_comp,delete ye.content.path,delete ye.msgDate,delete ye.displayDate,delete ye.msgTime,delete ye.isLastRead,delete ye.showInfo,le.msg.push(ye)}this.saveMessageByDate(le,R,U,H)}saveMessageByDate(D,R,U,H){if(!D.msg||!D.msg.length)return;let le=JSON.parse(JSON.stringify(D)),Q=le.target.split("-");this.indexed.loadTextFromUserPath(`servers/${U}/${H}/channels/${R.id}/chats/${Q[0]}/${Q[1]}/${Q[2]}`,(ye,Me)=>{let qe=[],_t=[];ye&&Me&&(qe=JSON.parse(Me)),le.msg.forEach(cn=>{let an=!1;for(let On=0,zn=qe.length;On<zn;On++)if(qe[On].message_id==cn.message_id){an=!0,qe[On]=cn;break}an||_t.push(cn)});let qt=[...qe,..._t];qt.sort((cn,an)=>cn.create_time<an.create_time?-1:cn.create_time>an.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(qt),`servers/${U}/${H}/channels/${R.id}/chats/${Q[0]}/${Q[1]}/${Q[2]}`)})}ModulateTimeDate(D){let R=new Date(D.create_time),U=R.toLocaleDateString(this.lang.lang);D.displayDate=U,D.msgDate=`${R.getFullYear()}-${("00"+(R.getMonth()+1)).slice(-2)}-${("00"+R.getDate()).slice(-2)}`,D.msgTime=`${("00"+R.getHours()).slice(-2)}:${("00"+R.getMinutes()).slice(-2)}`}join_chat_with_modulation(D,R,U,H,le=!1){var Q=this;return(0,y.c)(function*(){Q.channels_orig[U][H]||(Q.channels_orig[U][H]={});let ye=yield Q.servers[U][H].socket.joinChat(D,R,!0,!1);try{switch(ye.redirect={id:D,type:R,persistence:!0},ye.server={isOfficial:U,target:H},R){case 2:ye.title=Q.load_other_user(D,U,H).display_name,ye.info=Q.load_other_user(D,U,H);break;case 3:ye.title=Q.groups[U][H][D].name,ye.info=Q.groups[U][H][D],Q.groups[U][H][D].channel_id=ye.id,Q.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",R)}try{Q.channels_orig[U][H][ye.id].status="offline"}catch{}if(yield Q.add_channels(ye,U,H),!Q.opened_page_info.channel||Q.opened_page_info.channel.isOfficial!=U||Q.opened_page_info.channel.target!=H||Q.opened_page_info.channel.id!=ye.id)try{let Me=yield Q.servers[U][H].client.listChannelMessages(Q.servers[U][H].session,ye.id,1,!1);Me.messages.length&&Q.update_from_channel_msg(Me.messages[0],U,H,le)}catch(Me){console.error("\ub9c8\uc9c0\ub9c9 \uba54\uc2dc\uc9c0 \ubc1b\uc544\uc11c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Me)}return Q.count_channel_online_member(ye,U,H),Q.save_groups_with_less_info(),ye}catch(Me){let qe="";throw qe=3===Me.code?Q.lang.text.Nakama.AddChannelFailed_Code3:Me.message,Q.p5toast.show({text:`${Q.lang.text.Nakama.AddChannelFailed}: ${qe}`}),`${Q.lang.text.Nakama.AddChannelFailed}: ${qe}`}})()}update_from_channel_msg(D,R,U,H=!1){var le=this;return(0,y.c)(function*(){let Q=D.sender_id==le.servers[R][U].session.user_id,ye=D.message_id!=le.channels_orig[R][U][D.channel_id].last_comment_id,Me=le.modulation_channel_message(D,R,U);if(!Q&&ye){let qt={id:le.channels_orig[R][U][D.channel_id].cnoti_id,title:le.channels_orig[R][U][D.channel_id].info.name||le.channels_orig[R][U][D.channel_id].info.display_name||le.channels_orig[R][U][D.channel_id].title||le.lang.text.Subscribes.noTitiedChat,body:Me.content.msg||Me.content.noti||(Me.content.match?le.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${le.lang.text.ChatRoom.attachments})`,extra_ln:{page:{component:"ChatRoomPage",componentProps:{info:{id:D.channel_id,isOfficial:R,target:U,noti_id:le.channels_orig[R][U][D.channel_id].cnoti_id}}}},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"};Me.content.url&&0==Me.content.type.indexOf("image/")&&(qt.image=Me.content.url),le.noti.PushLocal(qt,le.channels_orig[R][U][D.channel_id].cnoti_id,cn=>{le.go_to_chatroom_without_admob_act(le.channels_orig[R][U][D.channel_id])})}switch(Q&&le.noti.ClearNoti(le.channels_orig[R][U][D.channel_id].cnoti_id),Me.code){case 0:Me.content.gupdate&&le.update_group_info(Me,R,U),Me.content.user_update&&le.update_group_user_info(Me,R,U),ye&&(le.channels_orig[R][U][D.channel_id].is_new=!Q,le.subscribe_lock||(le.has_new_channel_msg=!Q));break;case 1:case 2:break;case 3:case 4:case 5:case 6:if(le.socket_reactive.group_detail&&le.socket_reactive.group_detail.update_GroupUsersList(R,U),3==Me.code||4==Me.code)break;if(le.noti_origin[R]&&le.noti_origin[R][U]){let qt=Object.keys(le.noti_origin[R][U]),cn=[];qt.forEach(an=>{-5==le.noti_origin[R][U][an].code&&le.noti_origin[R][U][an].sender_id==Me.sender_id&&cn.push(an)});try{(yield le.servers[R][U].client.deleteNotifications(le.servers[R][U].session,cn))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),le.update_notifications(R,U)}catch(an){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",an)}}Q&&(le.channels_orig[R][U][Me.channel_id].status="missing",delete le.channels_orig[R][U][Me.channel_id].info);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Me)}le.ModulateTimeDate(Me),le.check_sender_and_show_name(Me,R,U);let qe=D.content.msg;le.content_to_hyperlink(Me),!H&&le.channels_orig[R][U][Me.channel_id].update&&le.channels_orig[R][U][Me.channel_id].update(Me),le.channels_orig[R][U][D.channel_id].last_comment_time=D.update_time,le.channels_orig[R][U][Me.channel_id].last_comment_id=Me.message_id,le.saveListedMessage([Me],le.channels_orig[R][U][Me.channel_id],R,U),2!=Me.code&&(le.channels_orig[R][U][Me.channel_id].last_comment=(Me.content.filename?`(${le.lang.text.ChatRoom.attachments}) `:"")+(qe||Me.content.noti||(Me.content.match?le.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||"")),le.rearrange_channels()})()}rearrange_posts(){this.posts.length=0;let D=Object.keys(this.posts_orig);for(let R=0,U=D.length;R<U;R++){let H=Object.keys(this.posts_orig[D[R]]);for(let le=0,Q=H.length;le<Q;le++){let ye=Object.keys(this.posts_orig[D[R]][H[le]]);for(let Me=0,qe=ye.length;Me<qe;Me++){let _t=Object.keys(this.posts_orig[D[R]][H[le]][ye[Me]]);for(let qt=0,cn=_t.length;qt<cn;qt++)this.posts.push(this.posts_orig[D[R]][H[le]][ye[Me]][_t[qt]])}}}this.posts.sort((R,U)=>R.create_time<U.create_time?1:R.create_time>U.create_time?-1:0),this.MakeContextMenuOnPost()}MakeContextMenuOnPost(){setTimeout(()=>{for(let D=0,R=this.posts.length;D<R;D++){let U=document.getElementById(this.posts[D].id);U&&null==U.oncontextmenu&&(U.oncontextmenu=()=>{let H;for(let le=0,Q=this.posts.length;le<Q;le++)if(this.posts[le].id==U.id){H=le;break}return(this.posts[H].server.local||this.posts[H].creator_id==this.servers[this.posts[H].server.isOfficial][this.posts[H].server.target].session.user_id)&&this.alertCtrl.create({header:this.posts[H].title,message:this.posts[H].content,buttons:[{text:this.lang.text.ChatRoom.EditChat,handler:()=>{this.EditPost(this.posts[H])}},{text:this.lang.text.TodoDetail.remove,handler:()=>{this.RemovePost(this.posts[H])},cssClass:"redfont"}]}).then(le=>le.present()),!1})}},100)}EditPost(D){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(D)}RemovePost(D,R=!1){var U=this;return(0,y.c)(function*(){let H;R||(H=yield U.loadingCtrl.create({message:U.lang.text.PostViewer.RemovePost}));let le=yield U.indexed.GetFileListFromDB(`servers/${D.server.isOfficial}/${D.server.target}/posts/${D.creator_id}/${D.id}`);H&&H.present();for(let Q=0,ye=le.length;Q<ye;Q++)H&&(H.message=`${U.lang.text.PostViewer.RemovePost}: ${le[Q]}`),yield U.indexed.removeFileFromUserPath(le[Q]);for(let Q=0,ye=D.attachments.length;Q<ye;Q++)try{if(H&&(H.message=`${U.lang.text.PostViewer.RemovePost}: ${D.attachments[Q].filename}`),D.attachments[Q].url)yield U.global.remove_file_from_storage(D.attachments[Q].url);else try{D.server.local||(yield U.sync_remove_file(`${D.id}_attach_${Q}`,D.server.isOfficial,D.server.target,"server_post","",`${D.id}_attach_${Q}`))}catch{}}catch{}if(D.mainImage)try{if(D.mainImage.url)yield U.global.remove_file_from_storage(D.mainImage.url);else try{D.server.local||(yield U.sync_remove_file(`${D.id}_mainImage`,D.server.isOfficial,D.server.target,"server_post","",`${D.id}_mainImage`))}catch{}}catch{}try{D.server.local||(yield U.sync_remove_file(D.id,D.server.isOfficial,D.server.target,"server_post","",`${D.id}`))}catch{}H&&H.dismiss(),delete U.posts_orig[D.server.isOfficial][D.server.target][D.creator_id][D.id],U.rearrange_posts()})()}JoinWebRTCMatch(D,R,U,H){var le=this;return(0,y.c)(function*(){try{try{le.WebRTCService.CurrentMatch=yield le.servers[R][U].socket.joinMatch(D.content.match)}catch(Q){throw Q}le.WebRTCService&&(yield le.WebRTCService.initialize("audio",void 0,{isOfficial:R,target:U,channel_id:H.id,user_id:H.info.id||H.info.user_id},!1)),yield le.servers[R][U].socket.sendMatchState(D.content.match,Wn.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(Q){4===Q.code?le.p5toast.show({text:le.lang.text.ChatRoom.MatchExpiration}):(console.log("\ucc38\uc5ec \uc2e4\ud328: ",Q),le.p5toast.show({text:`${le.lang.text.ChatRoom.JoinMatchFailed}: ${Q}`}))}})()}content_to_hyperlink(D){if(!D.content.msg||"object"==typeof D.content.msg)return;let R=D.content.msg.split("\n");D.content.msg=[],R.forEach(U=>{let H={text:U};U&&D.content.msg.push([H]);try{let le=H.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");H.text.length==le.length&&(H.size=48)}catch{}});for(let U=0,H=D.content.msg.length;U<H;U++)if(D.content.msg[U][0].text){let le=D.content.msg[U][0].text.indexOf("http://");if(le<0&&(le=D.content.msg[U][0].text.indexOf("https://")),le>=0){let ye,Q=[];0!=le&&(ye=D.content.msg[U][0].text.substring(0,le),Q.push({text:ye}));let _t,qt,Me=D.content.msg[U][0].text.substring(le),qe=Me.indexOf(" ");qe<0?(_t=Me,Q.push({text:_t,href:!0})):(_t=Me.substring(0,qe),Q.push({text:_t,href:!0}),qt=Me.substring(qe),Q.push({text:qt})),D.content.msg[U]=Q}}}check_sender_and_show_name(D,R,U){try{D.color=(D.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),D.sender_id==this.servers[R][U].session.user_id?(D.user_display_name=this.users.self.display_name,D.is_me=!0):D.user_display_name=this.load_other_user(D.sender_id,R,U).display_name,D.user_display_name=D.user_display_name||this.lang.text.Profile.noname_user}catch(H){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",H)}}modulation_channel_message(D,R,U){this.translate_updates(D);let le,H=!1;try{H=D.sender_id==this.servers[R][U].session.user_id}catch{H=D.content.user_update}try{le=H?this.users.self:this.load_other_user(D.sender_id,R,U)}catch{le=this.users.self}switch(D.code){case 0:if(D.content.filename){try{D.content.transfer_index=this.OnTransfer[R][U][D.channel_id][D.message_id]}catch{}try{this.OnTransferMessage[D.message_id]=D}catch{}}break;case 1:case 2:break;case 3:case 4:D.content.user_update=le,D.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${le.display_name}`,setTimeout(()=>{this.count_channel_online_member(D,R,U)},50);break;case 5:D.content.user_update=le,D.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${le.display_name}`,setTimeout(()=>{this.count_channel_online_member(D,R,U)},50);break;case 6:D.content.user_update=le,D.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${le.display_name}`,setTimeout(()=>{this.count_channel_online_member(D,R,U)},50);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",D)}return D}update_group_info(D,R,U){switch(this.translate_updates(D),D.content.gupdate){case"remove":case"force_remove":this.groups[R][U][D.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[R][U][D.channel_id].status="missing",this.servers[R][U].socket.leaveChat(D.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",D)}}translate_updates(D){if(D.content.user_update)switch(D.content.user_update){case"modify_data":D.content.noti=`${this.lang.text.Profile.user_profile_changed}${D.content.noti_form}`;break;case"modify_img":D.content.noti=`${this.lang.text.Profile.user_image_changed}${D.content.noti_form}`}if(D.content.gupdate)switch(D.content.gupdate){case"remove":D.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":D.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(D,R,U){var H=this;return(0,y.c)(function*(){if(H.translate_updates(D),H.servers[R][U].session.user_id!=D.sender_id)switch(D.content.user_update){case"modify_data":try{let le=yield H.servers[R][U].client.getUsers(H.servers[R][U].session,[D.sender_id]);le.users.length?H.save_other_user(le.users[0],R,U):(delete H.users[R][U][D.sender_id],H.indexed.removeFileFromUserPath(`servers/${R}/${U}/users/${D.sender_id}/profile.json`))}catch(le){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",le)}break;case"modify_img":try{let le=yield H.servers[R][U].client.readStorageObjects(H.servers[R][U].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:D.sender_id}]});le.objects.length?(H.load_other_user(D.sender_id,R,U).img=le.objects[0].value.img.replace(/"|\\|=/g,""),H.indexed.saveTextFileToUserPath(H.users[R][U][D.sender_id].img,`servers/${R}/${U}/users/${D.sender_id}/profile.img`)):(delete H.users[R][U][D.sender_id].img,H.indexed.removeFileFromUserPath(`servers/${R}/${U}/users/${D.sender_id}/profile.img`))}catch(le){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",le)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",D)}})()}check_notifications(D,R,U){var H=this;return(0,y.c)(function*(){let le=H.servers[R][U];switch(D.code){case 0:case-2:break;case 1:let Q=`<img src="${D.content.url}" alt="noti_image" style="border-radius: 2px">`,ye=`<div>${decodeURIComponent(D.content.msg)}</div>`;H.alertCtrl.create({header:H.servers[R][U].info.name,message:new ut.AF(D.content.url?Q+ye:ye),buttons:[{text:H.lang.text.Nakama.LocalNotiOK,handler:(qe=(0,y.c)(function*(){try{yield H.servers[R][U].client.deleteNotifications(H.servers[R][U].session,[D.id])}catch{}H.noti.ClearNoti(D.id),H.update_notifications(R,U)}),function(){return qe.apply(this,arguments)})}]}).then(qe=>qe.present());break;case-1:case-3:case-4:case-6:H.noti.RemoveListener(`check${D.code}`),H.noti.ClearNoti(D.code);try{(yield le.client.deleteNotifications(le.session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),H.update_notifications(R,U)}catch(qe){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",qe)}break;case-5:try{let qe=yield le.client.getUsers(le.session,[D.sender_id]);if(qe.users.length){let _t="";_t+=`${H.lang.text.Nakama.ReqContServer}: ${D.server.name}<br>`,_t+=`${H.lang.text.Nakama.ReqContUserName}: ${qe.users[0].display_name}`,H.alertCtrl.create({header:H.lang.text.Nakama.ReqContTitle,message:_t,buttons:[{text:H.lang.text.Nakama.ReqContAccept,handler:(qt=(0,y.c)(function*(){try{(yield le.client.addGroupUsers(le.session,D.content.group_id,[qe.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),H.noti.RemoveListener(`check${D.code}`),H.noti.ClearNoti(D.code);try{let an=yield le.client.deleteNotifications(le.session,[D.id]);an?H.update_notifications(R,U):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",an)}catch(an){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",an)}}catch(cn){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",cn)}}),function(){return qt.apply(this,arguments)})},{text:H.lang.text.Nakama.ReqContReject,handler:function(){var qt=(0,y.c)(function*(){try{(yield le.client.kickGroupUsers(le.session,D.content.group_id,[qe.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield le.client.deleteNotifications(le.session,[D.id]),H.update_notifications(R,U)}catch(cn){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",cn)}});return function(){return qt.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(qt=>qt.present())}else try{(yield le.client.deleteNotifications(le.session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),H.p5toast.show({text:H.lang.text.Nakama.UserNotFound}),H.update_notifications(R,U)}catch(_t){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",_t)}}catch(qe){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",qe)}break;case-7:H.LoginAgain(H.noti_origin,R,U);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",D.code)}var qt,qe})()}act_on_notification(D,R,U){var H=this;return(0,y.c)(function*(){let le=!1;switch(D.server=H.servers[R][U].info,D.code){case 404:H.remove_server(R,U);break;case 100:case 101:case 200:case 201:break;case 1:D.request=`${H.lang.text.Nakama.ServerNoti}: ${decodeURIComponent(D.content.msg)}`;let Q=decodeURIComponent(D.content.msg),ye=decodeURIComponent(D.content.uri);H.noti.PushLocal({id:D.code,title:H.servers[R][U].info.name,body:Q,image:ye,extra_ln:{type:"AllUserNotification",title:H.servers[R][U].info.name,body:Q,image:ye,isOfficial:R,target:U,noti_id:D.id},smallIcon_ln:"diychat",group_ln:"all_user_noti",iconColor_ln:"b95437"},"global_noti_all",_t=>{let cn=`<div>${Q}</div>`;var On;H.alertCtrl.create({header:H.servers[R][U].info.name,message:new ut.AF(ye?`<img src="${ye}" alt="noti_image" style="border-radius: 2px">`+cn:cn),buttons:[{text:H.lang.text.Nakama.LocalNotiOK,handler:(On=(0,y.c)(function*(){try{yield H.servers[R][U].client.deleteNotifications(H.servers[R][U].session,[D.id])}catch{}H.rearrange_notifications()}),function(){return On.apply(this,arguments)})}]}).then(On=>On.present())});break;case 0:D.request=`${D.code}-${D.subject}`;break;case-1:let Me;D.request=`${D.code}-${D.subject}`,2===(D.content&&D.content.username&&(Me=2),Me)?H.join_chat_with_modulation(D.sender_id,Me,R,U):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",D,Me),D.request=`${D.code}-${D.subject}`),le=!0;try{(yield H.servers[R][U].client.deleteNotifications(H.servers[R][U].session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),H.update_notifications(R,U)}catch(_t){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",_t)}break;case-2:case-3:D.request=`${D.code}-${D.subject}`;break;case-4:H.socket_reactive.group_detail&&H.socket_reactive.group_detail.info.id==D.content.group_id&&H.socket_reactive.group_detail.update_from_notification(D),H.groups[R][U][D.content.group_id].status="online",D.request=`${D.code}-${D.subject}`,H.noti.RemoveListener(`check${D.code}`),H.noti.SetListener(`check${D.code}`,_t=>{H.noti.ClearNoti(_t.id),H.noti.RemoveListener(`check${D.code}`),H.check_notifications(D,R,U)});try{let _t=yield H.servers[R][U].client.readStorageObjects(H.servers[R][U].session,{object_ids:[{collection:"group_public",key:`group_${D.content.group_id}`,user_id:H.groups[R][U][D.content.group_id].creator_id}]});_t.objects.length&&(H.groups[R][U][D.content.group_id].img=_t.objects[0].value.img,H.indexed.saveTextFileToUserPath(_t.objects[0].value.img,`servers/${R}/${U}/groups/${D.content.group_id}.img`))}catch(_t){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",_t)}try{let _t=yield H.servers[R][U].client.listGroupUsers(H.servers[R][U].session,D.content.group_id);_t.group_users.length&&_t.group_users.forEach(qt=>{H.load_other_user(qt.user.id,R,U)})}catch(_t){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",_t)}H.join_chat_with_modulation(D.content.group_id,3,R,U),H.noti.PushLocal({id:D.code,title:`${H.groups[R][U][D.content.group_id].name}: ${H.lang.text.Nakama.LocalNotiTitle}`,body:D.subject,group_ln:"diychat",icon:H.groups[R][U][D.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,_t=>{H.check_notifications(D,R,U)});break;case-5:let qe=H.groups[R][U][D.content.group_id];if(qe)D.request=`${H.lang.text.Nakama.ReqContTitle}: ${qe.name}`;else{le=!0;try{let _t=yield H.servers[R][U].client.deleteNotifications(H.servers[R][U].session,[D.id]);_t?H.update_notifications(R,U):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",_t)}catch(_t){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",_t)}}H.socket_reactive.group_detail&&H.socket_reactive.group_detail.info.id==D.content.group_id&&H.socket_reactive.group_detail.update_from_notification(D),H.noti.RemoveListener(`check${D.code}`),H.noti.SetListener(`check${D.code}`,_t=>{H.noti.ClearNoti(_t.id),H.noti.RemoveListener(`check${D.code}`),!H.socket_reactive.group_detail&&H.modalCtrl.create({component:Ct.q,componentProps:{info:H.groups[R][U][D.content.group_id],server:H.servers[R][U].info}}).then(qt=>qt.present())}),H.noti.PushLocal({id:D.code,title:`${H.groups[R][U][D.content.group_id].name}: ${H.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:H.groups[R][U][D.content.group_id].img,extra_ln:{page:{component:"NakamaReqContTitle",componentProps:{data:{noti_id:D.id,serverName:H.servers[R][U].info.name,userName:H.load_other_user(D.sender_id,R,U).display_name,group_id:D.content.group_id,user_id:D.sender_id,isOfficial:R,Target:U}}}},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,_t=>{H.socket_reactive.group_detail.info.id!=D.content.group_id&&H.modalCtrl.create({component:Ct.q,componentProps:{info:H.groups[R][U][D.content.group_id]}}).then(qt=>qt.present())});break;case-6:D.request=`${D.code}-${D.subject}`;break;case-7:D.request=`${H.servers[R][U].info.name}: ${H.lang.text.Nakama.SessionLogout}`,H.LoginAgain(D,R,U);break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",D),D.request=`${D.code}-${D.subject}`}le||(H.noti_origin[R]||(H.noti_origin[R]={}),H.noti_origin[R][U]||(H.noti_origin[R][U]={}),H.noti_origin[R][U][D.id]=D)})()}LoginAgain(D,R,U){this.alertCtrl.create({header:this.servers[R][U].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[R][U][D.id]}catch{}this.rearrange_notifications(),this.link_group(R,U,!0)}}]}).then(H=>H.present())}WriteStorage_From_channel(D,R,U,H,le=0){var Q=this;return(0,y.c)(function*(){let ye=JSON.parse(JSON.stringify(D)),Me=yield Q.global.req_file_info(R),qe=Math.ceil(Me.contents.length/ze.KY);if(Q.OnTransfer[U]||(Q.OnTransfer[U]={}),Q.OnTransfer[U][H]||(Q.OnTransfer[U][H]={}),Q.OnTransfer[U][H][D.channel_id]||(Q.OnTransfer[U][H][D.channel_id]={}),Q.OnTransfer[U][H][D.channel_id][D.message_id]||(Q.OnTransfer[U][H][D.channel_id][D.message_id]={index:qe}),!Q.OnTransfer[U][H][D.channel_id][D.message_id].OnTransfer){D.content.transfer_index||(D.content.transfer_index=Q.OnTransfer[U][H][D.channel_id][D.message_id]);for(let _t=le;_t<qe;_t++)try{let qt=Q.global.req_file_part_base64(Me,_t,R);yield Q.servers[U][H].client.writeStorageObjects(Q.servers[U][H].session,[{collection:`file_${ye.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ye.message_id}_${_t}`,permission_read:2,permission_write:1,value:{data:qt}}]),Q.OnTransfer[U][H][D.channel_id][D.message_id].index=qe-1-_t,Q.OnTransfer[U][H][D.channel_id][D.message_id].OnTransfer="upload"}catch(qt){console.log("WriteStorage_From_channel: ",qt),Q.p5toast.show({text:`${Q.lang.text.Nakama.FailedUpload}: ${qt}`});break}setTimeout(()=>{delete Q.OnTransfer[U][H][D.channel_id][D.message_id],Q.global.remove_req_file_info(D,R),Q.p5toast.show({text:`${Q.lang.text.ChatRoom.SendFile}: ${ye.content.filename}`})},100)}})()}ReadStorage_From_channel(D,R,U,H,le=0){var Q=this;return(0,y.c)(function*(){let ye=JSON.parse(JSON.stringify(D));if(Q.OnTransfer[U]||(Q.OnTransfer[U]={}),Q.OnTransfer[U][H]||(Q.OnTransfer[U][H]={}),Q.OnTransfer[U][H][D.channel_id]||(Q.OnTransfer[U][H][D.channel_id]={}),Q.OnTransfer[U][H][D.channel_id][D.message_id]||(Q.OnTransfer[U][H][D.channel_id][D.message_id]={index:ye.content.partsize}),Q.OnTransfer[U][H][D.channel_id][D.message_id].OnTransfer)return;D.content.transfer_index||(D.content.transfer_index=Q.OnTransfer[U][H][D.channel_id][D.message_id]);let Me=!0;for(let qe=le,_t=ye.content.partsize;qe<_t;qe++)try{let qt=yield Q.servers[U][H].client.readStorageObjects(Q.servers[U][H].session,{object_ids:[{collection:`file_${ye.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ye.message_id}_${qe}`,user_id:ye.sender_id}]});Q.global.save_file_part(R,qe,qt.objects[0].value.data),Q.OnTransfer[U][H][D.channel_id][D.message_id].index=_t-1-qe,Q.OnTransfer[U][H][D.channel_id][D.message_id].OnTransfer="download"}catch(qt){console.log("ReadStorage_From_channel: ",qt),Me=!1,Q.p5toast.show({text:`${Q.lang.text.Nakama.FailedDownload}: ${qt}`});break}if(Me){if(D.content.url)D.content.thumbnail=D.content.url;else{D.content.text=[Q.lang.text.ChatRoom.SavingFile],delete D.content.transfer_index,delete Q.OnTransfer[U][H][ye.channel_id][ye.message_id].index,Q.p5toast.show({text:`${Q.lang.text.ChatRoom.SavingFile}: ${ye.content.filename}`}),("Android"==ot.s1||"iOS"==ot.s1)&&Q.noti.noti.schedule({id:8,title:`${Q.lang.text.ChatRoom.SavingFile}: ${D.content.filename}`,progressBar:{indeterminate:!0},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});let _t=[],qt=0;yield new Promise(function(){var cn=(0,y.c)(function*(an){for(let On=0,zn=ye.content.partsize;On<zn;On++)try{let Gn=yield Q.indexed.GetFileInfoFromDB(`${R}_part/${On}.part`);qt+=Gn.contents.length,_t[On]=Gn}catch(Gn){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",Gn);break}try{let On=new Int8Array(qt),zn=0;for(let Gn=0,kr=_t.length;Gn<kr;Gn++)On.set(_t[Gn].contents,zn),zn+=_t[Gn].contents.length;yield Q.indexed.saveInt8ArrayToUserPath(On,R);for(let Gn=0,kr=ye.content.partsize;Gn<kr;Gn++)Q.indexed.removeFileFromUserPath(`${R}_part/${Gn}.part`);yield Q.indexed.removeFileFromUserPath(`${R}_part`),Q.global.remove_req_file_info(ye,R),D.content.text=[Q.lang.text.ChatRoom.FileSaved]}catch(On){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",On)}an(void 0)});return function(an){return cn.apply(this,arguments)}}()),Q.noti.ClearNoti(8)}let qe;if(ye.content.path=R,"godot"!=ye.content.viewer){let _t=yield Q.indexed.loadBlobFromUserPath(R,D.content.type||"");qe=URL.createObjectURL(_t)}yield Q.global.modulate_thumbnail((Q.OnTransferMessage[ye.message_id]||D).content,qe),delete Q.OnTransfer[U][H][ye.channel_id][ye.message_id],delete Q.OnTransferMessage[ye.message_id]}return Me})()}sync_save_file(D,R,U,H,le=""){var Q=this;return(0,y.c)(function*(){try{D.blob.size&&(yield Q.indexed.saveBlobToUserPath(D.blob,D.path));let ye=yield Q.global.req_file_info(D.path);D.partsize=Math.ceil((D.filesize||ye.contents.length)/ze.KY),delete D.blob,yield Q.servers[R][U].client.writeStorageObjects(Q.servers[R][U].session,[{collection:H,key:le||D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:D}]);for(let Me=0;Me<D.partsize;Me++){let qe=Q.global.req_file_part_base64(ye,Me,D.path);yield Q.servers[R][U].client.writeStorageObjects(Q.servers[R][U].session,[{collection:H,key:le?`${le}_${Me}`:D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Me}`,permission_read:2,permission_write:1,value:{data:qe}}])}Q.indexed.removeFileFromUserPath(`${D.path}.history`)}catch(ye){console.log("SyncSaveFailed: ",ye)}})()}sync_load_file(D,R,U,H,le="",Q="",ye=!0){var Me=this;return(0,y.c)(function*(){try{return{from:"local",value:yield Me.indexed.loadBlobFromUserPath(D.path,D.type||"")}}catch{try{let qt=(yield Me.servers[R][U].client.readStorageObjects(Me.servers[R][U].session,{object_ids:[{collection:H,key:Q||D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:le||Me.servers[R][U].session.user_id}]})).objects[0].value,cn=!0;for(let an=0;an<qt.partsize;an++)try{let On=yield Me.servers[R][U].client.readStorageObjects(Me.servers[R][U].session,{object_ids:[{collection:H,key:Q?`${Q}_${an}`:D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${an}`,user_id:le||Me.servers[R][U].session.user_id}]});Me.global.save_file_part(D.path,an,On.objects[0].value.data)}catch(On){console.log("ReadStorage_From_channel: ",On),cn=!1,Me.p5toast.show({text:`${Me.lang.text.Nakama.FailedDownload}: ${On}`});break}if(cn)if(D.url)D.thumbnail=D.url;else{D.text=[Me.lang.text.ChatRoom.SavingFile],ye&&Me.p5toast.show({text:`${Me.lang.text.ChatRoom.SavingFile}: ${qt.filename}`}),("Android"==ot.s1||"iOS"==ot.s1)&&Me.noti.noti.schedule({id:8,title:`${Me.lang.text.ChatRoom.SavingFile}: ${qt.filename}`,progressBar:{indeterminate:!0},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});let an=[],On=0;yield new Promise(function(){var zn=(0,y.c)(function*(Gn,kr){for(let ar=0,at=qt.partsize;ar<at;ar++)try{let ct=yield Me.indexed.GetFileInfoFromDB(`${D.path}_part/${ar}.part`);On+=ct.contents.length,an[ar]=ct}catch(ct){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",ct);break}try{let ar=new Int8Array(On),at=0;for(let ct=0,$e=an.length;ct<$e;ct++)ar.set(an[ct].contents,at),at+=an[ct].contents.length;yield Me.indexed.saveInt8ArrayToUserPath(ar,D.path);for(let ct=0,$e=qt.partsize;ct<$e;ct++)Me.indexed.removeFileFromUserPath(`${D.path}_part/${ct}.part`);yield Me.indexed.removeFileFromUserPath(`${D.path}_part`)}catch(ar){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",ar),kr()}Gn(void 0)});return function(Gn,kr){return zn.apply(this,arguments)}}()),setTimeout(()=>{Me.noti.ClearNoti(8)},1e3),Me.indexed.removeFileFromUserPath(`${D.path}.history`)}return{from:"remote",value:yield Me.indexed.loadBlobFromUserPath(D.path,qt.type||"")}}catch{return{from:"failed",value:null}}}})()}sync_remove_file(D,R,U,H,le="",Q=""){var ye=this;return(0,y.c)(function*(){try{yield ye.indexed.removeFileFromUserPath(D)}catch{}try{let qe=(yield ye.servers[R][U].client.readStorageObjects(ye.servers[R][U].session,{object_ids:[{collection:H,key:D.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:le||ye.servers[R][U].session.user_id}]})).objects[0].value;try{ye.servers[R][U].client.rpc(ye.servers[R][U].session,"remove_channel_file",{collection:H,key:(Q||qe.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120))+"_"})}catch{}yield ye.servers[R][U].client.deleteStorageObjects(ye.servers[R][U].session,{object_ids:[{collection:H,key:Q||qe.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch(Me){console.log("SyncRemoveFailed: ",Me)}})()}AddressToQRCodeAct(D,R=!1){var U=this;return(0,y.c)(function*(){let H=[];if(D.open_profile&&H.push({type:"open_profile"}),D.tmp_user){let le=D.tmp_user[0].split(",");U.users.self.email=le[0],U.users.self.password=le[1],U.users.self.display_name=le[2],U.users.self.online=!0,U.save_self_profile()}if(D.server)for(let le=0,Q=D.server.length;le<Q;le++){let ye=D.server[le].split(",");H.push({type:"server",value:{name:ye[0]||"No named server",target:ye[0]||"No named server",address:ye[1]||"192.168.0.1",useSSL:ye[2]||!1,port:ye[3]||7350,key:ye[4]||"defaultkey",isOfficial:"unofficial"}})}if(D.group)for(let le=0,Q=D.group.length;le<Q;le++){let ye=D.group[le].split(",");H.push({type:"group",name:ye[0],id:ye[1]})}if(D.group_dedi&&"http:"==window.location.protocol&&H.push({type:"group_dedi",value:{address:`ws://${D.group_dedi[0]}`}}),D.open_prv_channel){let le=D.open_prv_channel[0].split(",");H.push({type:"open_prv_channel",user_id:le[0],isOfficial:le[1]||"official",target:le[2]||"DevTestServer"})}if(D.open_channel){let le=D.open_channel[0].split(",");H.push({type:"open_channel",group_id:le[0],isOfficial:le[1],target:le[2]})}if(D.rtcserver)for(let le=0,Q=D.rtcserver.length;le<Q;le++){let ye=D.rtcserver[le].split("]"),Me=ye[0].split("[")[1],qe=ye[1].split(",");H.push({type:"rtcserver",value:{urls:Me.split(","),username:qe[1],credential:qe[2]}})}if(R)return H;yield U.act_from_QRInfo(H)})()}act_from_QRInfo(D){var R=this;return(0,y.c)(function*(){let U=!1;for(let H=0,le=D.length;H<le;H++)switch(D[H].type){case"open_profile":R.nav.navigateForward("portal/settings/group-server");break;case"tmp_user":break;case"server":if(R.statusBar.groupServer.unofficial[D[H].value.name])R.p5toast.show({text:`${R.lang.text.Nakama.AlreadyHaveTargetName}: ${D[H].value.name}`}),delete D[H].value.name,yield R.modalCtrl.create({component:Nt.E,componentProps:{data:D[H].value}}).then(Me=>{Me.onWillDismiss().then(()=>{U=!0}),Me.present()});else{let Me={name:decodeURIComponent(D[H].value.name),target:decodeURIComponent(D[H].value.target),address:decodeURIComponent(D[H].value.address),port:D[H].value.port,useSSL:D[H].value.useSSL,isOfficial:D[H].value.isOfficial,key:decodeURIComponent(D[H].value.key)};yield R.add_group_server(Me),yield R.init_session(Me)}break;case"group_dedi":yield R.modalCtrl.create({component:bt._,componentProps:{address:D[H].value.address,name:R.users.self.display_name}}).then(Me=>{Me.present()});break;case"group":R.AfterLoginActDone?yield R.try_add_group(D[H]):R.AfterLoginAct.push((0,y.c)(function*(){U||(yield R.WatchAdsAndGetDevServerInfo()),yield R.try_add_group(D[H])}));break;case"open_prv_channel":if(R.AfterLoginActDone){let Me=yield R.join_chat_with_modulation(D[H].user_id,2,D[H].isOfficial,D[H].target,!0);R.go_to_chatroom_without_admob_act(Me)}else R.AfterLoginAct.push((0,y.c)(function*(){U||(yield R.WatchAdsAndGetDevServerInfo());let Me=yield R.join_chat_with_modulation(D[H].user_id,2,D[H].isOfficial,D[H].target,!0);R.go_to_chatroom_without_admob_act(Me)}));break;case"open_channel":if(R.AfterLoginActDone){let Me=yield R.join_chat_with_modulation(D[H].group_id,3,D[H].isOfficial,D[H].target,!0);R.go_to_chatroom_without_admob_act(Me)}else R.AfterLoginAct.push((0,y.c)(function*(){U||(yield R.WatchAdsAndGetDevServerInfo());let Me=yield R.join_chat_with_modulation(D[H].group_id,3,D[H].isOfficial,D[H].target,!0);R.go_to_chatroom_without_admob_act(Me)}));break;case"rtcserver":let ye=[];try{if(!R.lang.text.WebRTCDevManager.NoRegServer)throw"\ubc88\uc5ed \uc900\ube44 \uc548\ub428";let Me=yield R.indexed.loadTextFromUserPath("servers/webrtc_server.json");ye=JSON.parse(Me)}catch{}ye.push(D[H].value),yield R.indexed.saveTextFileToUserPath(JSON.stringify(ye),"servers/webrtc_server.json");break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}load_local_post_with_id(D,R,U,H){var le=this;return(0,y.c)(function*(){let Q=yield le.indexed.loadTextFromUserPath(`servers/${R}/${U}/posts/${H}/${D}/info.json`);try{try{if(le.posts_orig[R][U][H][D])throw"exist"}catch(Me){if("exist"==Me)throw"\uc774\ubbf8 \uc788\ub294 \uac8c\uc2dc\ubb3c"}let ye=JSON.parse(Q);if(ye.server={name:le.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0},ye.mainImage)if(ye.mainImage.url)ye.mainImage.thumbnail=ye.mainImage.url;else{let Me=yield le.indexed.loadBlobFromUserPath(ye.mainImage.path,ye.mainImage.type);ye.mainImage.blob=Me;let qe=URL.createObjectURL(Me);ye.mainImage.thumbnail=qe,setTimeout(()=>{URL.revokeObjectURL(qe)},100)}return le.posts_orig[R][U][H][D]=ye,!0}catch{return!1}})()}load_posts_counter(){var D=this;return(0,y.c)(function*(){let R={};try{let le=yield D.indexed.loadTextFromUserPath("servers/post_counter.json"),Q=JSON.parse(le);R=le,D.post_counter=Q}catch{}let U=Number(yield D.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;D.post_counter.local.target.me=U;let H=D.get_all_server_info(!0,!0);for(let le=0,Q=H.length;le<Q;le++){let ye=H[le].isOfficial,Me=H[le].target;D.post_counter[ye][Me]||(D.post_counter[ye][Me]={});try{let qe=yield D.servers[ye][Me].client.readStorageObjects(D.servers[ye][Me].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:D.servers[ye][Me].session.user_id}]}),_t=0;qe.objects.length&&(_t=qe.objects[0].value.counter),D.post_counter[ye][Me][D.servers[ye][Me].session.user_id]=_t}catch(qe){console.log("\ub0b4 \uc11c\ubc84 \uac8c\uc2dc\ubb3c \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",qe)}if(D.users[ye][Me]){let qe=Object.keys(D.users[ye][Me]);for(let _t=0,qt=qe.length;_t<qt;_t++)try{let cn=yield D.servers[ye][Me].client.readStorageObjects(D.servers[ye][Me].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:qe[_t]}]}),an=0;cn.objects.length&&(an=cn.objects[0].value.counter),D.post_counter[ye][Me][qe[_t]]=an}catch(cn){console.log("\ub2e4\ub978 \uc0ac\ub78c\uc758 \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",cn)}}R!=JSON.stringify(D.post_counter)&&(yield D.indexed.saveTextFileToUserPath(JSON.stringify(D.post_counter),"servers/post_counter.json"),D.has_new_post=!0)}})()}}return(ee=ie).\u0275fac=function(D){return new(D||ee)(Lt.CoB(Xt.O),Lt.CoB(hn.Y),Lt.CoB(vn.k),Lt.CoB(En.s),Lt.CoB(Cn.qS),Lt.CoB(Cn.iW),Lt.CoB(tr.o),Lt.CoB(ze.A1),Lt.CoB(nr.Y),Lt.CoB(Sn.wX),Lt.CoB(Lt.WW2),Lt.CoB(Cn.Kg),Lt.CoB(Sn.wX))},ee.\u0275prov=Lt.wxM({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ie})()},4428:(pn,jt,ge)=>{"use strict";ge.d(jt,{y:()=>l});var y=ge(1528),xe=ge(9352),_e=ge(2272),o=ge(5193),$=ge(4496),S=ge(5624),v=ge(9240),_=ge(7136),h=ge(4180),f=ge(3824),x=ge(4500),w=ge(7756),i=ge(1368);function a(m,p){if(1&m){const b=$.KQA();$.I0R(0,"td")(1,"ion-button",9),$.qCj("click",function(){$.usT(b);const F=$.GaO(2);return $.CGJ(F.notification_react(-5))}),$.OEk(2),$.C$Y()()}if(2&m){const b=$.GaO(2);$.yG2(2),$.oRS(" ",b.lang.text.OtherProfile.add_to_group," ")}}function d(m,p){if(1&m){const b=$.KQA();$.I0R(0,"td")(1,"ion-button",9),$.qCj("click",function(){$.usT(b);const F=$.GaO(2);return $.CGJ(F.notification_react(-2))}),$.OEk(2),$.C$Y()()}if(2&m){const b=$.GaO(2);$.yG2(2),$.oRS(" ",b.lang.text.OtherProfile.add_friend," ")}}function c(m,p){if(1&m){const b=$.KQA();$.I0R(0,"td")(1,"ion-button",10),$.qCj("click",function(){$.usT(b);const F=$.GaO(2);return $.CGJ(F.kick_user_from_group())}),$.OEk(2),$.C$Y()()}if(2&m){const b=$.GaO(2);$.yG2(2),$.oRS(" ",b.lang.text.OtherProfile.kick_from_group," ")}}function u(m,p){if(1&m){const b=$.KQA();$.I0R(0,"div",5)(1,"table",6)(2,"tr"),$.yuY(3,a,3,1,"td",7)(4,d,3,1,"td",7),$.I0R(5,"td")(6,"ion-button",8),$.qCj("click",function(){$.usT(b);const F=$.GaO();return $.CGJ(F.create_chat())}),$.OEk(7),$.C$Y()(),$.yuY(8,c,3,1,"td",7),$.C$Y()()()}if(2&m){const b=$.GaO();$.yG2(3),$.E7m("ngIf",b.has_admin&&b.additional_buttons[-5]),$.yG2(),$.E7m("ngIf",b.additional_buttons[-2]),$.yG2(2),$.E7m("disabled",b.lock_create_chat),$.yG2(),$.oRS(" ",b.lang.text.OtherProfile.privacy_chat," "),$.yG2(),$.E7m("ngIf",b.has_admin)}}let l=(()=>{var m;class p{constructor(M,F,N,P,j,V,k){this.modalCtrl=M,this.navParams=F,this.nakama=N,this.statusBar=P,this.p5toast=j,this.lang=V,this.mClipboard=k,this.info={},this.group_info={},this.additional_buttons={},this.has_admin=!1,this.BackButtonPressed=!1,this.onDismissData={},this.lock_create_chat=!1}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){var M=this;return(0,y.c)(function*(){M.InitBrowserBackButtonOverride(),M.info=M.navParams.get("info"),M.has_admin=M.navParams.get("has_admin"),M.group_info=M.navParams.get("group"),M.isOfficial=M.group_info.server.isOfficial,M.target=M.group_info.server.target,M.nakama.load_other_user(M.info.user.id,M.isOfficial,M.target),M.nakama.socket_reactive["others-profile"]=F=>{M.p5canvas.ChangeImageSmooth(F)},M.nakama.socket_reactive["others-online"]=()=>{M.p5canvas.loop()},M.catch_user_noties()})()}ionViewWillEnter(){this.OtherCanvasDiv=document.getElementById("OtherUserCanvasDiv"),this.p5canvas=new xe(M=>{let N,P,j,k,V=1,E="0, 0, 0",I=0;M.setup=()=>{let W=M.color(`#${(this.info.user.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}`);E=`${M.red(W)}, ${M.green(W)}, ${M.blue(W)}`,k=M.createDiv(),k.style("width","100%"),k.style("height","100%"),k.style("background-image",`linear-gradient(to top, rgba(${E}, 0), rgba(${E}, 0))`),k.parent(this.OtherCanvasDiv),M.noCanvas(),M.pixelDensity(1);let Y=M.createDiv();const z="156px";Y.style("width",z),Y.style("height",z),Y.style("position","absolute"),Y.style("top","120px"),Y.style("left","50%"),Y.style("transform","translateX(-50%)"),Y.style("border-radius",z),Y.style("background-image","url(assets/data/avatar.svg)"),Y.style("background-position","center"),Y.style("background-repeat","no-repeat"),Y.style("background-size","cover"),Y.parent(this.OtherCanvasDiv);let te=M.createDiv();const J="36px";te.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),te.style("width",J),te.style("height",J),te.style("position","absolute"),te.style("top","128px"),te.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px"),setTimeout(()=>{te.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")},0),te.style("border-radius",J),te.parent(this.OtherCanvasDiv),M.OnlineLamp=te,P=M.createImg(this.info.user.img,"profile_img"),P.style("width",z),P.style("height",z),P.style("border-radius",z),P.style("position","absolute"),P.style("object-fit","cover"),this.info.user.img||P.hide(),P.parent(Y),j=M.createImg(void 0,"before_img"),j.style("width",z),j.style("height",z),j.style("border-radius",z),j.style("position","absolute"),j.style("object-fit","cover"),j.hide(),j.parent(Y),M.ChangeImageSmooth=De=>{De?(j.elt.src=void 0,j.hide()):(j.elt.src=P.elt.src,j.show()),P.elt.src=De,V=1,M.loop(),this.info.user.img=De,De?P.show():P.hide()};let ne=M.createDiv();ne.style("width","100%"),ne.style("position","absolute"),ne.style("top","330px"),ne.style("display","flex"),ne.style("flex-direction","column"),ne.parent(this.OtherCanvasDiv),N=M.createDiv(this.info.user.display_name||this.lang.text.Profile.noname_user),N.style("font-size","36px"),N.style("font-weight","bold"),N.style("align-self","center"),N.style("width","80%"),N.style("text-align","center"),N.parent(ne);let fe=M.createDiv(this.info.user.id);fe.style("color","var(--ion-color-medium)"),fe.style("align-self","center"),fe.style("margin-top","36px"),fe.style("width","80%"),fe.style("text-align","center"),fe.style("cursor","copy"),fe.parent(ne),fe.elt.onclick=()=>{this.copy_id()}},M.draw=()=>{V>0&&(V-=.025,j.style("opacity",`${V}`),P.style("opacity",""+(1-V))),this.info.user.online?this.lerpVal<1?this.lerpVal+=.025:this.lerpVal=1:this.lerpVal>0?this.lerpVal-=.025:this.lerpVal=0,I<1&&(I+=.025),P.style("filter",`grayscale(${M.lerp(.9,0,this.lerpVal)}) contrast(${M.lerp(1.4,1,this.lerpVal)})`),j.style("filter",`grayscale(${M.lerp(.9,0,this.lerpVal)}) contrast(${M.lerp(1.4,1,this.lerpVal)})`),k.style("background-image",`linear-gradient(to top, rgba(${E}, ${M.min(1,I)/2}), rgba(${E}, 0))`),V<=0&&(this.lerpVal>=1||this.lerpVal<=0)&&I>=1&&(this.p5canvas.OnlineLamp.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),M.noLoop())},M.windowResized=()=>{M.OnlineLamp.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")}})}catch_user_noties(){this.nakama.noti_origin[this.isOfficial]&&this.nakama.noti_origin[this.isOfficial][this.target]&&Object.keys(this.nakama.noti_origin[this.isOfficial][this.target]).forEach(N=>{this.nakama.noti_origin[this.isOfficial][this.target][N].sender_id==this.info.user.id&&(this.additional_buttons[this.nakama.noti_origin[this.isOfficial][this.target][N].code.toString()]=N)})}notification_react(M){switch(M){case 0:case-1:case-2:break;case-5:this.nakama.servers[this.isOfficial][this.target].client.addGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(F=>{F||console.warn("\ubc34 \uc720\uc800\uc5d0 \ub300\ud55c\uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.p5toast.show({text:`${this.lang.text.OtherProfile.added_to_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[M.toString()]]).then(N=>{N||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),delete this.additional_buttons[M.toString()],this.nakama.update_notifications(this.isOfficial,this.target),this.onDismissData={id:this.info.user.id,act:"accept_join"},this.info.status="online",this.p5canvas.loop()})});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ubc18\uc751: ",M)}}create_chat(){var M=this;return(0,y.c)(function*(){if(!M.lock_create_chat){M.lock_create_chat=!0;try{let F=yield M.nakama.join_chat_with_modulation(M.info.user.id,2,M.isOfficial,M.target,!0);M.nakama.go_to_chatroom_without_admob_act(F),M.lock_create_chat=!1,M.modalCtrl.dismiss({dismiss:!0})}catch(F){M.lock_create_chat=!1,console.error(F)}}})()}kick_user_from_group(){switch(this.info.state){case 0:case 1:case 2:this.after_announce_kick();break;case 3:this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[-5]]).then(M=>{M||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),this.after_announce_kick(),delete this.additional_buttons[-5],this.nakama.update_notifications(this.isOfficial,this.target),this.info.status="missing",this.p5canvas.loop()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uc0c1\ud0dc: ",this.info)}}after_announce_kick(){this.nakama.servers[this.isOfficial][this.target].client.kickGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(M=>{this.p5toast.show({text:`${this.lang.text.OtherProfile.kicked_from_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.modalCtrl.dismiss({id:this.info.user.id,act:"kick"})})}copy_id(){this.mClipboard.copy(this.info.user.id).catch(M=>{_e.c.write(this.info.user.id).then(()=>{"DesktopPWA"==o.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${this.info.user.id}`})}).catch(F=>{})})}ngOnDestroy(){delete this.nakama.socket_reactive["others-profile"],delete this.nakama.socket_reactive["others-online"],this.p5canvas.remove()}}return(m=p).\u0275fac=function(M){return new(M||m)($.GI1(S.qS),$.GI1(v.a6),$.GI1(_.h),$.GI1(h.Y),$.GI1(f.O),$.GI1(x.o),$.GI1(w._))},m.\u0275cmp=$.In1({type:m,selectors:[["app-others-profile"]],decls:9,vars:2,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","OtherUserCanvasDiv",2,"position","absolute","width","100%","height","100%","display","flex"],["style","width: 100%; position: absolute; bottom: 0;",4,"ngIf"],[2,"width","100%","position","absolute","bottom","0"],["id","input_table",2,"width","100%","background-color","black"],[4,"ngIf"],["expand","block",3,"disabled","click"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(M,F){1&M&&($.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),$.OEk(3),$.C$Y(),$.I0R(4,"ion-buttons",1),$.qCj("click",function(){return F.modalCtrl.dismiss(F.onDismissData)}),$.wR5(5,"ion-back-button",2),$.C$Y()()(),$.I0R(6,"ion-content"),$.wR5(7,"div",3),$.yuY(8,u,9,5,"div",4),$.C$Y()),2&M&&($.yG2(3),$.cNF(F.lang.text.OtherProfile.Title),$.yG2(5),$.E7m("ngIf","online"==F.statusBar.groupServer[F.isOfficial][F.target]))},dependencies:[i.u_,S.sn,S.GS,S._i,S.wB,S.tM,S.Md,S.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),p})()},3824:(pn,jt,ge)=>{"use strict";ge.d(jt,{O:()=>$});var y=ge(9352),rt=ge(5020),_e=ge(4496),o=function(S){return S[S.Idle=0]="Idle",S[S.DivFadeIn=1]="DivFadeIn",S[S.BorderAlert=2]="BorderAlert",S[S.Reading=3]="Reading",S[S.FadeOut=4]="FadeOut",S}(o||{});let $=(()=>{var S;class v{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=o.Idle}show(h){let f;h.time=(new Date).getTime(),h.lateable||(this.AlertNow=h,this.status=o.DivFadeIn),this.alert.length&&(f=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==h.text?this.status=o.DivFadeIn:f&&f.text==h.text||this.alert.push(h),this.isShowing?this.status==o.FadeOut&&(this.status=o.DivFadeIn):(this.CurrentToast=new y(w=>{let i,a,d,c=0,u=0,l=0;w.setup=()=>{w.noCanvas(),i=w.createDiv(),i.style("position: absolute; left: 0; top: 0; z-index: 1"),i.style("width: 100%; height: fit-content"),i.style("padding: 32px;"),i.style("display: flex; justify-content: center;"),i.style("pointer-events: none"),m(),d=w.createDiv(),d.parent(i),d.style("display: flex; justify-content: center;"),d.style("width: fit-content; height: fit-content"),d.style("border-radius: 24px"),d.style("background: #"+(rt.Mp?"30564e88":"b9543788")),d.style("padding: 4px"),a=w.createDiv(),a.parent(d),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("word-break: break-all"),a.style("background: #"+(rt.Mp?"30564e88":"b9543788")),a.style("border-radius: 20px"),a.style("padding: 12px"),a.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),a.html(this.AlertNow.text),p(),this.status=o.DivFadeIn},w.draw=()=>{switch(this.status){case o.DivFadeIn:c<1?c+=1:(c=1,u=1,this.status=o.BorderAlert,a.html(this.AlertNow.text));break;case o.BorderAlert:if(u>0)u-=.03;else{let M;u=0,M=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,l=w.millis()+M+960,this.status=o.Reading}break;case o.Reading:w.millis()>l&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),a.html(this.AlertNow.text),this.status=o.DivFadeIn):this.status=o.FadeOut);break;case o.FadeOut:c>0?c-=.04:b()}m(),p()};let m=()=>{i.style(`opacity: ${c}`)},p=()=>{let M=w.lerpColor(w.color("#"+(rt.Mp?"30564e88":"b9543788")),w.color("#ffd94ebb"),u).levels;d.style(`padding: ${4*u}px`),a.style(`padding: ${w.lerp(16,12,u)}px`),a.style(`border-radius: ${w.lerp(24,20,u)}px`),d.style(`background: rgba(${M[0]}, ${M[1]}, ${M[2]}, ${M[3]/255})`)},b=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=o.FadeOut}}return(S=v).\u0275fac=function(h){return new(h||S)},S.\u0275prov=_e.wxM({token:S,factory:S.\u0275fac,providedIn:"root"}),v})()},6756:(pn,jt,ge)=>{"use strict";ge.d(jt,{q:()=>P});var y=ge(1528),xe=ge(4428),rt=ge(340),_e=ge(2272),o=ge(5193),$=ge(4496),S=ge(9240),v=ge(5624),_=ge(7136),h=ge(4180),f=ge(4668),x=ge(4500),w=ge(5020),i=ge(3824),a=ge(7756),d=ge(1368),c=ge(4716);function u(j,V){if(1&j){const k=$.KQA();$.I0R(0,"img",21),$.qCj("click",function(){$.usT(k);const I=$.GaO(2);return $.CGJ(I.copy_startup_address())}),$.C$Y()}if(2&j){const k=$.GaO(2);$.E7m("src",k.QRCodeSRC,$.K6U)}}function l(j,V){if(1&j&&($.I0R(0,"div"),$.yuY(1,u,1,1,"img",20),$.C$Y()),2&j){const k=$.GaO();$.yG2(),$.E7m("ngIf",k.QRCodeSRC)}}function m(j,V){if(1&j&&($.I0R(0,"ion-item",22)(1,"ion-label",23),$.OEk(2),$.C$Y()()),2&j){const k=$.GaO();$.yG2(2),$.cNF(k.lang.text.GroupDetail.NotAcceptYet)}}function p(j,V){if(1&j&&($.I0R(0,"ion-item",22)(1,"ion-label",23),$.OEk(2),$.C$Y()()),2&j){const k=$.GaO();$.yG2(2),$.cNF(k.lang.text.GroupDetail.MissedGroup)}}function b(j,V){if(1&j&&($.I0R(0,"ion-item-divider")(1,"ion-label"),$.OEk(2),$.C$Y()()),2&j){const k=$.GaO();$.yG2(2),$.oRS("",k.lang.text.GroupDetail.Members+" ("+k.info.users.length+"/"+k.info.max_count+")"," ")}}function M(j,V){if(1&j){const k=$.KQA();$.I0R(0,"ion-item",7),$.qCj("click",function(){const W=$.usT(k).$implicit,Y=$.GaO();return $.CGJ(Y.open_user_profile(W))}),$.wR5(1,"div",8),$.I0R(2,"div",9),$.wR5(3,"img",10),$.C$Y(),$.I0R(4,"ion-label",11),$.OEk(5),$.C$Y()()}if(2&j){const k=V.$implicit,E=$.GaO();$.yG2(),$.m_g("background-color: "+E.statusBar.colors[k.user.online?"online":"offline"]),$.yG2(2),$.m_g("filter: "+(k.user.online?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),$.E7m("src",k.user.img,$.K6U),$.yG2(2),$.cNF(k.user.display_name||E.lang.text.Profile.noname_user)}}function F(j,V){if(1&j){const k=$.KQA();$.I0R(0,"ion-item",7),$.qCj("click",function(){$.usT(k);const I=$.GaO();return $.CGJ(I.remove_group())}),$.I0R(1,"ion-label",24),$.OEk(2),$.C$Y()()}if(2&j){const k=$.GaO();$.yG2(2),$.cNF(k.lang.text.GroupDetail.BreakupGroup)}}function N(j,V){if(1&j){const k=$.KQA();$.I0R(0,"ion-item",7),$.qCj("click",function(){$.usT(k);const I=$.GaO();return $.CGJ(I.leave_group())}),$.I0R(1,"ion-label",24),$.OEk(2),$.C$Y()()}if(2&j){const k=$.GaO();$.yG2(2),$.cNF(k.lang.text.GroupDetail.LeaveGroup)}}let P=(()=>{var j;class V{constructor(E,I,W,Y,z,te,J,q,ne){this.navParams=E,this.nakama=I,this.modalCtrl=W,this.statusBar=Y,this.indexed=z,this.lang=te,this.global=J,this.p5toast=q,this.mClipboard=ne,this.has_admin=!1,this.BackButtonPressed=!1,this.file_sel_id="",this.need_edit=!1,this.lock_modal_open=!1}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){var E=this;return(0,y.c)(function*(){E.InitBrowserBackButtonOverride(),E.info=E.navParams.get("info"),E.file_sel_id=`group_detail_${E.info.id}_${(new Date).getTime()}}`,E.info_orig=JSON.parse(JSON.stringify(E.navParams.get("info"))),E.nakama.socket_reactive.group_detail=E,E.QRCodeSRC=E.global.readasQRCodeFromString(`${o.uM}pjcone_pwa/?group=${E.info.name},${E.info.id}`),E.info.server||(E.info.server=E.navParams.get("server")),E.isOfficial=E.info.server.isOfficial,E.target=E.info.server.target;try{E.has_admin=E.info.creator_id==E.nakama.servers[E.isOfficial][E.target].session.user_id}catch(I){console.log("check is admin failed: ",I),E.has_admin=!1}if(E.info.users&&E.info.users.length)for(let I=0,W=E.info.users.length;I<W;I++)E.info.users[I].is_me?(E.info.users[I].user=E.nakama.users.self,E.indexed.loadTextFromUserPath("servers/self/profile.img",(Y,z)=>{Y&&z&&(E.nakama.users.self.img=z.replace(/"|\\|=/g,""))})):E.info.users[I].user.id?E.info.users[I].user=E.nakama.load_other_user(E.info.users[I].user.id,E.isOfficial,E.target):E.info.users.splice(I,1);try{E.nakama.servers[E.isOfficial][E.target].client.readStorageObjects(E.nakama.servers[E.isOfficial][E.target].session,{object_ids:[{collection:"group_public",key:`group_${E.info.id}`,user_id:E.info.creator_id}]}).then(I=>{I.objects.length?(E.nakama.groups[E.isOfficial][E.target][E.info.id].img=I.objects[0].value.img.replace(/"|=|\\/g,""),E.indexed.saveTextFileToUserPath(I.objects[0].value.img,`servers/${E.isOfficial}/${E.target}/groups/${E.info.id}.img`)):E.info.status&&(delete E.nakama.groups[E.isOfficial][E.target][E.info.id].img,E.indexed.removeFileFromUserPath(`servers/${E.isOfficial}/${E.target}/groups/${E.info.id}.img`))})}catch(I){console.log(I)}})()}update_from_notification(E){switch(E.code){case-4:case-5:this.update_GroupUsersList(E.server.isOfficial,E.server.target);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",E)}}update_GroupUsersList(E,I){this.nakama.servers[E][I].client.listGroupUsers(this.nakama.servers[E][I].session,this.info.id).then(W=>{let Y=[];for(let z=0,te=W.group_users.length;z<te;z++)if(W.group_users[z].user.id==this.nakama.servers[E][I].session.user_id)Y.push({state:W.group_users[z].state,user:this.nakama.users.self});else{let J=this.nakama.load_other_user(W.group_users[z].user.id,E,I);this.nakama.save_other_user(W.group_users[z].user,E,I),Y.push({state:W.group_users[z].state,user:J})}this.info.users=Y})}buttonClickInputFile(){var E=this;return(0,y.c)(function*(){if(E.has_admin)if(E.info.img)E.info.img=void 0,E.nakama.servers[E.info.server.isOfficial][E.info.server.target].client.deleteStorageObjects(E.nakama.servers[E.info.server.isOfficial][E.info.server.target].session,{object_ids:[{collection:"group_public",key:`group_${E.info.id}`}]}).then(I=>{E.indexed.removeFileFromUserPath(`servers/${E.info.server.isOfficial}/${E.info.server.target}/groups/${E.info.id}.img`)});else try{let I=yield _e.c.read();yield E.check_if_clipboard_available(I)}catch{try{let W=yield E.mClipboard.paste();yield E.check_if_clipboard_available(W)}catch{document.getElementById(E.file_sel_id).click()}}})()}inputImageSelected(E){var I=this;return(0,y.c)(function*(){let W=yield I.global.GetBase64ThroughFileReader(E.target.files[0]);I.nakama.limit_image_size(W,z=>{I.info.img=z.canvas.toDataURL(),I.announce_update_group_image(I.info.img)}),document.getElementById(I.file_sel_id).value=""})()}announce_update_group_image(E){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.writeStorageObjects(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,[{collection:"group_public",key:`group_${this.info.id}`,value:{img:E},permission_read:2,permission_write:1}]).then(I=>{this.indexed.saveTextFileToUserPath(JSON.stringify(E),`servers/${this.info.server.isOfficial}/${this.info.server.target}/groups/${this.info.id}.img`)})}check_if_clipboard_available(E){var I=this;return(0,y.c)(function*(){try{if(0!=E.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((W,Y)=>{let z=document.createElement("img");z.src=E,z.onload=()=>{I.info.img=E,I.announce_update_group_image(E),z.remove(),W(void 0)},z.onerror=()=>{z.remove(),Y()}})}catch{try{if(0!=E.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";I.nakama.limit_image_size(E,Y=>{I.info.img=Y.canvas.toDataURL(),I.announce_update_group_image(I.info.img)})}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}remove_group(){var E=this;this.need_edit=!1;try{if(this.nakama.servers[this.info.server.isOfficial][this.info.server.target]){if(this.info.creator_id!=this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session.user_id)throw this.lang.text.GroupDetail.YouAreNotCreator;"online"==this.info.status?this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"remove"}).then(function(){var I=(0,y.c)(function*(W){let Y=yield E.nakama.servers[E.info.server.isOfficial][E.info.server.target].client.getAccount(E.nakama.servers[E.info.server.isOfficial][E.info.server.target].session),z=JSON.parse(Y.user.metadata);for(let te=0,J=z.is_manager.length;te<J;te++)if(z.is_manager[te]==E.info.id){z.is_manager.splice(te,1);break}z.is_manager.length||delete z.is_manager;try{yield E.nakama.servers[E.info.server.isOfficial][E.info.server.target].client.rpc(E.nakama.servers[E.info.server.isOfficial][E.info.server.target].session,"update_user_metadata_fn",{user_id:E.nakama.servers[E.info.server.isOfficial][E.info.server.target].session.user_id,metadata:z})}catch(te){console.log("\uadf8\ub8f9 \uc0ad\uc81c\uc2dc \uc0dd\uc131\uc790\uc758 \ub9e4\ub2c8\uc800 \uad8c\ud55c \ubc15\ud0c8 \ub3d9\uae30\ud654 \uc624\ub958: ",te)}E.after_remove_group()});return function(W){return I.apply(this,arguments)}}()):this.after_remove_group()}else this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}catch(I){console.log("remove_group: ",I),this.p5toast.show({text:I})}}after_remove_group(){this.leave_channel(),this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}edit_group(){"online"==this.statusBar.groupServer[this.info.server.isOfficial][this.info.server.target]&&"missing"!=this.info.status&&this.has_admin&&this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.updateGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id,{name:this.info.name,lang_tag:this.info.lang_tag,description:this.info.description,open:this.info.open}),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id]=this.info,this.nakama.save_groups_with_less_info()}open_user_profile(E){this.lock_modal_open||(this.lock_modal_open=!0,E.is_me?this.modalCtrl.create({component:rt.w,componentProps:{isOfficial:this.info.server.isOfficial,target:this.info.server.target}}).then(I=>{I.present(),this.lock_modal_open=!1}):this.modalCtrl.create({component:xe.y,componentProps:{info:E,group:this.info,has_admin:this.has_admin}}).then(I=>{I.onDidDismiss().then(W=>{if(W.data){if(W.data.id)for(let Y=0,z=this.info.users.length;Y<z;Y++)if(this.info.users[Y].user.id==W.data.id){switch(W.data.act){case"accept_join":this.info.users[Y].status="online";break;case"kick":this.info.users.splice(Y,1);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc0c1\ub300\ubc29 \uc815\ubcf4: ",W)}break}W.data.dismiss&&this.modalCtrl.dismiss()}}),I.present(),this.lock_modal_open=!1}))}leave_group(){this.need_edit=!1,"online"==this.info.status?this.after_leave_group(()=>{this.leave_channel(),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))}):"pending"==this.info.status&&this.after_leave_group(()=>{this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))})}after_leave_group(E=(()=>console.warn("after_leave_group_announce Func Null"))){var I=this;this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.leaveGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id).then(function(){var W=(0,y.c)(function*(Y){Y&&E(),I.nakama.remove_channel_files(I.info.server.isOfficial,I.info.server.target,I.info.channel_id);try{let z=I.nakama.servers[I.info.server.isOfficial][I.info.server.target].info,te=`${z.useSSL?"https":"http"}://${z.address}`;yield I.global.remove_files_from_storage_with_key(te,`${I.info.id}_${I.nakama.servers[z.isOfficial][z.target].session.user_id}`)}catch(z){console.log("\ud30c\uc77c \uc77c\uad04 \uc0ad\uc81c \uc694\uccad \uc2e4\ud328: ",z)}});return function(Y){return W.apply(this,arguments)}}())}leave_channel(){this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target]&&this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id]&&"missing"!=this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status&&(this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status="missing")}copy_id(){this.mClipboard.copy(this.info.id).catch(E=>{_e.c.write(this.info.id).then(()=>{"DesktopPWA"==o.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${this.info.id}`})}).catch(I=>{})})}copy_startup_address(){let E=`https://is2you2.github.io/pjcone_pwa/?group=${this.info.name},${this.info.id}`;this.mClipboard.copy(E).catch(I=>{_e.c.write(E).then(()=>{"DesktopPWA"==o.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${E}`})}).catch(W=>{})})}ionViewWillLeave(){delete this.nakama.socket_reactive.group_detail,this.need_edit=this.info.description!=this.info_orig.description,this.need_edit&&this.edit_group()}}return(j=V).\u0275fac=function(E){return new(E||j)($.GI1(S.a6),$.GI1(_.h),$.GI1(v.qS),$.GI1(h.Y),$.GI1(f.k),$.GI1(x.o),$.GI1(w.A1),$.GI1(i.O),$.GI1(a._))},j.\u0275cmp=$.In1({type:j,selectors:[["app-group-detail"]],decls:39,vars:24,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["color","warning",4,"ngIf"],[2,"cursor","copy",3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],["button","",3,"click"],[1,"additional_form","status_bar_single"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],[1,"form_margin"],[1,"server_target"],[1,"form_margin","content"],["hidden","","type","file","accept","image/*",3,"id","change"],[1,"infobox",3,"disabled","ngModel","placeholder","ngModelChange"],[2,"pointer-events","none"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"src","click"],["color","warning"],[1,"ion-text-center"],["color","danger",1,"ion-text-center"]],template:function(E,I){1&E&&($.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),$.OEk(3),$.C$Y(),$.I0R(4,"ion-buttons",1),$.qCj("click",function(){return I.modalCtrl.dismiss()}),$.wR5(5,"ion-back-button",2),$.C$Y()()(),$.I0R(6,"ion-content"),$.yuY(7,l,2,1,"div",3)(8,m,3,1,"ion-item",4)(9,p,3,1,"ion-item",4),$.I0R(10,"ion-item",5),$.qCj("click",function(){return I.copy_id()}),$.I0R(11,"ion-label",6),$.OEk(12),$.C$Y()(),$.I0R(13,"ion-item",7),$.qCj("click",function(){return I.buttonClickInputFile()}),$.wR5(14,"div",8),$.I0R(15,"div",9),$.wR5(16,"img",10),$.C$Y(),$.I0R(17,"ion-label",11)(18,"div")(19,"table")(20,"tr")(21,"td"),$.OEk(22),$.C$Y(),$.I0R(23,"td",12),$.OEk(24),$.C$Y()()()(),$.I0R(25,"div",13),$.OEk(26),$.C$Y()()(),$.I0R(27,"input",14),$.qCj("change",function(Y){return I.inputImageSelected(Y)}),$.C$Y(),$.I0R(28,"ion-item-divider")(29,"ion-label"),$.OEk(30),$.C$Y()(),$.I0R(31,"textarea",15),$.iHE("ngModelChange",function(Y){return $.kNx(I.info.description,Y)||(I.info.description=Y),Y}),$.C$Y(),$.I0R(32,"ion-item",16)(33,"ion-toggle",17),$.iHE("ngModelChange",function(Y){return $.kNx(I.info.open,Y)||(I.info.open=Y),Y}),$.OEk(34),$.C$Y()(),$.yuY(35,b,3,1,"ion-item-divider",3)(36,M,6,6,"ion-item",18)(37,F,3,1,"ion-item",19)(38,N,3,1,"ion-item",19),$.C$Y()),2&E&&($.yG2(3),$.cNF(I.lang.text.GroupDetail.Title),$.yG2(4),$.E7m("ngIf","missing"!=I.info.status),$.yG2(),$.E7m("ngIf","pending"==I.info.status),$.yG2(),$.E7m("ngIf","missing"==I.info.status),$.yG2(3),$.cNF(I.info.id),$.yG2(2),$.m_g("background-color: "+I.statusBar.colors[I.info.status||"offline"]),$.yG2(2),$.m_g("filter: "+("online"==I.info.status?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),$.E7m("src",I.info.img,$.K6U),$.yG2(6),$.oRS(" ",I.info.name||I.info.title||I.info.display_name," "),$.yG2(2),$.oRS(" ","("+(I.info.server.name||I.info.server.target)+")"," "),$.yG2(2),$.oRS(" ",I.lang.text.AddGroup.ClicktoChangeGroupImg," "),$.yG2(),$.E7m("id",I.file_sel_id),$.yG2(3),$.cNF(I.lang.text.AddGroup.GroupDetail_placeholder),$.yG2(),$.E7m("disabled",!I.has_admin),$.OKB("ngModel",I.info.description),$.E7m("placeholder",I.lang.text.GroupDetail.NoDetailGroup),$.yG2(2),$.OKB("ngModel",I.info.open),$.yG2(),$.cNF(I.lang.text.GroupDetail.IsOpen),$.yG2(),$.E7m("ngIf",I.info.users&&I.info.users.length),$.yG2(),$.E7m("ngForOf",I.info.users),$.yG2(),$.E7m("ngIf",("online"==I.info.status||"pending"==I.info.status)&&I.has_admin),$.yG2(),$.E7m("ngIf",("online"==I.info.status||"pending"==I.info.status)&&!I.has_admin))},dependencies:[d.ay,d.u_,c.ot,c.ue,c._G,v.GS,v._i,v.wB,v.Yb,v.S8,v.QR,v.tM,v.E$,v.Md,v.UJ,v.Im],styles:[".content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle}"]}),V})()},340:(pn,jt,ge)=>{"use strict";ge.d(jt,{w:()=>P});var y=ge(1528),xe=ge(7136),rt=ge(2272),_e=ge(5193),o=ge(9352),S=ge(4496),v=ge(3824),_=ge(4180),h=ge(4668),f=ge(4500),x=ge(5020),w=ge(7756),i=ge(9240),a=ge(5624),d=ge(1368),c=ge(4716);const u=["RegisterNewServer"];function l(j,V){if(1&j){const k=S.KQA();S.I0R(0,"ion-item",14),S.qCj("click",function(){S.usT(k);const I=S.GaO(2);return S.CGJ(I.add_dev_test_server())}),S.I0R(1,"ion-label",17),S.OEk(2),S.C$Y()()}if(2&j){const k=S.GaO(2);S.yG2(2),S.cNF(k.lang.text.GroupServer.UseDevTestServer)}}function m(j,V){if(1&j&&(S.I0R(0,"p"),S.OEk(1),S.C$Y()),2&j){const k=S.GaO().$implicit,E=S.GaO(2);S.yG2(),S.cNF(k.useSSL?E.lang.text.GroupServer.useSSL:E.lang.text.GroupServer.NotuseSSL)}}function p(j,V){if(1&j){const k=S.KQA();S.I0R(0,"ion-button",22),S.qCj("click",function(){S.usT(k);const I=S.GaO().$implicit,W=S.GaO(2);return S.CGJ(W.remove_server(I.isOfficial,I.target))}),S.OEk(1),S.C$Y()}if(2&j){const k=S.GaO().$implicit,E=S.GaO(2);S.yG2(),S.oRS(" ","online"==E.statusBar.groupServer[k.isOfficial][k.target]?E.lang.text.GroupServer.RemoveAccount:E.lang.text.GroupServer.RemoveUnofficial," ")}}function b(j,V){if(1&j){const k=S.KQA();S.I0R(0,"ion-item",14),S.qCj("click",function(){const W=S.usT(k).$implicit,Y=S.GaO(2);return S.CGJ(Y.link_group(W.isOfficial,W.target))}),S.wR5(1,"div",18),S.I0R(2,"ion-label",19)(3,"h2"),S.OEk(4),S.C$Y(),S.yuY(5,m,2,1,"p",20),S.C$Y(),S.yuY(6,p,2,1,"ion-button",21),S.C$Y()}if(2&j){const k=V.$implicit,E=S.GaO(2);S.yG2(),S.m_g("background-color: "+E.statusBar.colors[E.statusBar.groupServer[k.isOfficial][k.target]||"offline"]),S.yG2(3),S.cNF(k.name),S.yG2(),S.E7m("ngIf","official"!=k.isOfficial),S.yG2(),S.E7m("ngIf","official"!=k.isOfficial)}}function M(j,V){if(1&j){const k=S.KQA();S.I0R(0,"div",8)(1,"ion-accordion-group")(2,"ion-accordion",9)(3,"ion-item",10)(4,"ion-label"),S.OEk(5),S.C$Y()(),S.I0R(6,"div",11),S.yuY(7,l,3,1,"ion-item",12)(8,b,7,5,"ion-item",13),S.I0R(9,"ion-item",14),S.qCj("click",function(){S.usT(k);const I=S.GaO();return S.CGJ(I.OpenNewServerForm())}),S.I0R(10,"ion-label",15),S.OEk(11),S.C$Y()()()()(),S.I0R(12,"ion-item",14),S.qCj("click",function(){S.usT(k);const I=S.GaO();return S.CGJ(I.toggle_online())}),S.I0R(13,"ion-label",16),S.OEk(14),S.C$Y()()()}if(2&j){const k=S.GaO();S.yG2(5),S.cNF(k.lang.text.GroupServer.JoinedServerList),S.yG2(2),S.E7m("ngIf",k.CanAddTestServer),S.yG2(),S.E7m("ngForOf",k.servers),S.yG2(3),S.cNF(k.lang.text.GroupServer.RegisterServer),S.yG2(3),S.cNF(k.lang.text.Profile.LogOut)}}function F(j,V){if(1&j){const k=S.KQA();S.I0R(0,"ion-content")(1,"ion-item")(2,"ion-label",15),S.OEk(3),S.C$Y()(),S.I0R(4,"ion-item",23)(5,"ion-input",24),S.iHE("ngModelChange",function(I){S.usT(k);const W=S.GaO();return S.kNx(W.dedicated_info.name,I)||(W.dedicated_info.name=I),S.CGJ(I)}),S.C$Y()(),S.I0R(6,"ion-item",23)(7,"ion-input",25),S.iHE("ngModelChange",function(I){S.usT(k);const W=S.GaO();return S.kNx(W.dedicated_info.address,I)||(W.dedicated_info.address=I),S.CGJ(I)}),S.C$Y()(),S.I0R(8,"ion-item",23)(9,"ion-input",26),S.iHE("ngModelChange",function(I){S.usT(k);const W=S.GaO();return S.kNx(W.dedicated_info.key,I)||(W.dedicated_info.key=I),S.CGJ(I)}),S.C$Y()(),S.I0R(10,"ion-item",27),S.qCj("click",function(){S.usT(k);const I=S.GaO();return S.CGJ(I.add_custom_dedicated())}),S.I0R(11,"ion-label",15),S.OEk(12),S.C$Y()()()}if(2&j){const k=S.GaO();S.yG2(3),S.cNF(k.lang.text.GroupServer.RegisterServer),S.yG2(),S.E7m("disabled",k.add_custom_tog),S.yG2(),S.E7m("label",k.lang.text.GroupServer.DisplayName),S.OKB("ngModel",k.dedicated_info.name),S.E7m("placeholder",k.lang.text.GroupServer.DisplayName_placeholder),S.yG2(),S.E7m("disabled",k.add_custom_tog),S.yG2(),S.E7m("label",k.lang.text.GroupServer.Address),S.OKB("ngModel",k.dedicated_info.address),S.yG2(),S.E7m("disabled",k.add_custom_tog),S.yG2(),S.E7m("label",k.lang.text.GroupServer.Key),S.OKB("ngModel",k.dedicated_info.key),S.yG2(),S.E7m("disabled",k.add_custom_tog),S.yG2(2),S.cNF(k.lang.text.GroupServer.submit)}}const N=()=>[.4,.6];let P=(()=>{var j;class V{constructor(E,I,W,Y,z,te,J,q,ne,fe){this.nakama=E,this.p5toast=I,this.statusBar=W,this.indexed=Y,this.lang=z,this.global=te,this.mClipboard=J,this.navCtrl=q,this.navParams=ne,this.modalCtrl=fe,this.session_uid="",this.BackButtonPressed=!1,this.isMobilePWA=!1,this.CanAddTestServer=!1,this.OnlineToggle=!1,this.ShowServerList=!1,this.isClickDisplayNameEdit=!1,this.dedicated_info={name:void 0,address:void 0,target:void 0,port:void 0,useSSL:void 0,isOfficial:void 0,key:void 0},this.add_custom_tog=!1,this.isOverrideButtonPressed=!1,this.announce_update_profile=!1,this.original_profile={},this.file_sel_id="",this.can_auto_modified=!1}ngOnInit(){if(window.history.pushState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.navCtrl.back())},this.servers=this.nakama.get_all_server_info(!0),this.file_sel_id=`self_profile_${(new Date).getTime()}`,this.original_profile=JSON.parse(JSON.stringify(this.nakama.users.self)),this.nakama.users.self.img||this.indexed.loadTextFromUserPath("servers/self/profile.img",(E,I)=>{E&&I&&(this.nakama.users.self.img=I.replace(/"|\\|=/g,""))}),this.nakama.socket_reactive.profile=E=>{this.p5canvas.ChangeImageSmooth(E)},this.navParams.data.target){let E=this.navParams.get("isOfficial"),I=this.navParams.get("target");try{this.session_uid=this.nakama.servers[E][I].session.user_id}catch{}}}ionViewWillEnter(){this.gsCanvasDiv=document.getElementById("GroupServerCanvasDiv"),this.OnlineToggle=this.nakama.users.self.online,this.p5canvas=new o(E=>{let W,Y,z,te,q,J=1,ne="0, 0, 0",fe=0,De=!!this.session_uid;E.setup=()=>{if(De){let Be=E.color(`#${(this.session_uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}`);ne=`${E.red(Be)}, ${E.green(Be)}, ${E.blue(Be)}`,q=E.createDiv(),q.style("width","100%"),q.style("height","100%"),q.style("background-image",`linear-gradient(to top, rgba(${ne}, 0), rgba(${ne}, 0))`),q.parent(this.gsCanvasDiv)}E.noCanvas(),E.pixelDensity(1);let K=E.createDiv();const L="156px";K.style("width",L),K.style("height",L),K.style("position","absolute"),K.style("top","120px"),K.style("left","50%"),K.style("transform","translateX(-50%)"),K.style("border-radius",L),K.style("background-image","url(assets/data/avatar.svg)"),K.style("background-position","center"),K.style("background-repeat","no-repeat"),K.style("background-size","cover"),K.style("cursor","pointer"),K.parent(this.gsCanvasDiv),K.elt.onclick=()=>{this.change_img_from_file()};let se=E.createDiv();const pe="36px";se.style("background-color",this.OnlineToggle?this.statusBar.colors.online:this.statusBar.colors.offline),se.style("width",pe),se.style("height",pe),se.style("position","absolute"),se.style("top","128px"),se.style("left",this.gsCanvasDiv.clientWidth/2+38+"px"),setTimeout(()=>{se.style("left",this.gsCanvasDiv.clientWidth/2+38+"px")},0),se.style("border-radius",pe),se.style("cursor","pointer"),se.parent(this.gsCanvasDiv),se.elt.onclick=()=>{this.toggle_online()},E.OnlineLamp=se,z=E.createImg(this.nakama.users.self.img,"profile_img"),z.style("width",L),z.style("height",L),z.style("border-radius",L),z.style("position","absolute"),z.style("object-fit","cover"),this.nakama.users.self.img||z.hide(),z.parent(K),te=E.createImg(void 0,"before_img"),te.style("width",L),te.style("height",L),te.style("border-radius",L),te.style("position","absolute"),te.style("object-fit","cover"),te.hide(),te.parent(K),E.ChangeImageSmooth=Be=>{Be?(te.elt.src=void 0,te.hide()):(te.elt.src=z.elt.src,te.show()),z.elt.src=Be,J=1,E.loop(),this.nakama.users.self.img=Be,this.sync_to_all_server(),document.getElementById(this.file_sel_id).value="",Be?z.show():z.hide()};let Ce=E.createDiv();if(Ce.style("width","100%"),Ce.style("position","absolute"),Ce.style("top","330px"),Ce.style("display","flex"),Ce.style("flex-direction","column"),Ce.parent(this.gsCanvasDiv),W=E.createDiv(this.nakama.users.self.display_name||this.lang.text.Profile.noname_user),W.style("font-size","36px"),W.style("font-weight","bold"),W.style("align-self","center"),W.style("width","80%"),W.style("text-align","center"),W.parent(Ce),W.elt.onclick=()=>{"DesktopPWA"!=_e.s1&&(this.ShowServerList=!1),Y.value(this.nakama.users.self.display_name?W.html():""),Y.show(),W.hide(),Y.elt.focus(),this.isClickDisplayNameEdit=!0},Y=E.createInput(),Y.style("font-size","36px"),Y.style("font-weight","bold"),Y.style("align-self","center"),Y.style("width","80%"),Y.style("text-align","center"),Y.attribute("placeholder",this.lang.text.Profile.name_placeholder),W.style("text-align","center"),Y.parent(Ce),Y.hide(),Y.elt.addEventListener("input",()=>{this.nakama.users.self.display_name=Y.value()}),Y.elt.addEventListener("focusout",()=>{"DesktopPWA"!=_e.s1&&(this.ShowServerList=this.OnlineToggle),this.nakama.users.self.display_name=Y.value(),W.html(`${Y.value()||this.lang.text.Profile.noname_user}`),Y.hide(),W.show()}),this.session_uid){let Be=E.createDiv(this.session_uid);Be.style("margin-top","36px"),Be.style("color","var(--ion-color-medium)"),Be.style("width","80%"),Be.style("text-align","center"),Be.style("align-self","center"),Be.style("cursor","copy"),Be.parent(Ce),Be.elt.onclick=()=>{this.copy_id()}}let We=E.createDiv();We.style("margin-top","60px"),We.style("width","80%"),We.style("align-self","center"),We.style("max-width","384px"),We.style("height","180px"),We.style("background-color","#8888"),We.style("text-align","center"),We.style("border-radius","24px"),We.style("display","flex"),We.style("flex-direction","column"),We.parent(Ce),E.InputForm=We,this.OnlineToggle&&We.hide();let tt=E.createInput(this.nakama.users.self.email);tt.style("align-self","center"),tt.style("margin-top","24px"),tt.style("width","50%"),tt.style("text-align","center"),tt.attribute("placeholder","test@example.com"),tt.parent(We),tt.elt.onchange=()=>{this.nakama.users.self.email=tt.value(),this.email_modified()},tt.elt.onkeypress=Be=>{"Enter"==Be.key&&Oe.elt.focus()},this.nakama.users.self.email||tt.elt.focus();let Oe=E.createInput();Oe.style("margin-top","10px"),Oe.style("align-self","center"),Oe.style("width","50%"),Oe.style("text-align","center"),Oe.attribute("type","password"),Oe.attribute("placeholder",this.lang.text.Profile.at_least),Oe.parent(We),Oe.elt.onchange=()=>{this.nakama.users.self.password=Oe.value()},Oe.elt.onkeypress=Be=>{"Enter"==Be.key&&(this.nakama.users.self.password=Oe.value(),ke.elt.disabled=!0,this.toggle_online())},E.PasswordInput=Oe;let ke=E.createButton(this.OnlineToggle?this.lang.text.Profile.LogOut:this.lang.text.Profile.login_toggle);ke.style("margin-top","17px"),ke.style("align-self","center"),ke.style("text-align","center"),ke.style("font-size","24px"),ke.style("border-radius","16px"),ke.style("padding","12px 30px"),ke.parent(We),ke.elt.onclick=()=>{ke.elt.disabled=!0,this.toggle_online()},E.LoginButton=ke},E.draw=()=>{J>0&&(J-=.025,te.style("opacity",`${J}`),z.style("opacity",""+(1-J))),this.nakama.users.self.online?this.lerpVal<1?this.lerpVal+=.025:this.lerpVal=1:this.lerpVal>0?this.lerpVal-=.025:this.lerpVal=0,De&&fe<1&&(fe+=.025),z.style("filter",`grayscale(${E.lerp(.9,0,this.lerpVal)}) contrast(${E.lerp(1.4,1,this.lerpVal)})`),te.style("filter",`grayscale(${E.lerp(.9,0,this.lerpVal)}) contrast(${E.lerp(1.4,1,this.lerpVal)})`),De&&q.style("background-image",`linear-gradient(to top, rgba(${ne}, ${E.min(1,fe)/2}), rgba(${ne}, 0))`),J<=0&&(this.lerpVal>=1||this.lerpVal<=0)&&(!De||fe>=1)&&(this.OnlineToggle=this.lerpVal>=1,this.OnlineToggle?(this.p5canvas.InputForm.hide(),E.LoginButton.html(this.lang.text.Profile.LogOut),E.OnlineLamp.style("background-color",this.statusBar.colors.online)):(this.p5canvas.InputForm.show(),this.p5canvas.InputForm.style("display","flex"),E.LoginButton.html(this.lang.text.Profile.login_toggle),E.OnlineLamp.style("background-color",this.statusBar.colors.offline)),this.nakama.users.self.display_name&&(W.html(this.nakama.users.self.display_name),Y.value(this.nakama.users.self.display_name)),this.ShowServerList=this.OnlineToggle,this.p5canvas.PasswordInput.value(""),E.LoginButton.elt.disabled=!1,E.noLoop())},E.windowResized=()=>{E.OnlineLamp.style("left",this.gsCanvasDiv.clientWidth/2+38+"px")}}),this.ShowServerList=this.OnlineToggle,this.CanAddTestServer=0==Object.keys(this.nakama.servers.official).length,this.isMobilePWA="MobilePWA"==_e.s1}add_dev_test_server(){var E=this;return(0,y.c)(function*(){E.CanAddTestServer=!(yield E.nakama.WatchAdsAndGetDevServerInfo()),E.servers=E.nakama.get_all_server_info(!0)})()}link_group(E,I){var W=this;return(0,y.c)(function*(){if(W.isOverrideButtonPressed)W.isOverrideButtonPressed=!1;else if("offline"==W.statusBar.groupServer[E][I])yield W.nakama.link_group(E,I),W.original_profile=JSON.parse(JSON.stringify(W.nakama.users.self));else try{W.nakama.servers[E][I].socket.disconnect(!0)}catch{W.nakama.OnSocketDisconnect(E,I)}})()}add_custom_dedicated(){if(this.add_custom_tog)return;if(!this.dedicated_info.name)return void this.p5toast.show({text:this.lang.text.GroupServer.NeedSetDIsplayName});this.add_custom_tog=!0;let E=(this.dedicated_info.address||"192.168.0.1").split(":");this.dedicated_info.address=E[0],this.dedicated_info.port=Number(E[1])||7350,this.dedicated_info.useSSL="https:"==window.location.protocol&&!_e.O$,this.dedicated_info.useSSL=this.dedicated_info.useSSL||!!this.dedicated_info.address.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,""),this.dedicated_info.key=this.dedicated_info.key||"defaultkey",this.nakama.add_group_server(this.dedicated_info,()=>{this.servers=this.nakama.get_all_server_info(!0),this.link_group(this.dedicated_info.isOfficial,this.dedicated_info.target),this.dedicated_info.name=void 0,this.dedicated_info.address=void 0,this.dedicated_info.target=void 0,this.dedicated_info.port=void 0,this.dedicated_info.key=void 0,this.dedicated_info.useSSL=void 0,this.dedicated_info.isOfficial=void 0}),this.RegisterNewServer.dismiss(),setTimeout(()=>{this.add_custom_tog=!1},1e3)}remove_server(E,I){var W=this;return(0,y.c)(function*(){W.isOverrideButtonPressed=!0;try{yield W.nakama.remove_server(E,I)}catch(Y){console.log("\uc11c\ubc84 \uc0ad\uc81c \uc624\ub958: ",Y)}W.servers=W.nakama.get_all_server_info(!0)})()}ionViewWillLeave(){var E=this;return(0,y.c)(function*(){delete E.global.p5key.KeyShortCut.Escape,E.nakama.on_socket_disconnected.group_unlink_by_user&&delete E.nakama.on_socket_disconnected.group_unlink_by_user,delete E.nakama.socket_reactive.profile;let I=Object.keys(E.nakama.users.self),W=!1;for(let Y=0,z=I.length;Y<z;Y++)if("img"!=I[Y]&&E.nakama.users.self[I[Y]]!=E.original_profile[I[Y]]){W=!0;break}if(E.nakama.users.self.img=E.tmp_img||E.nakama.users.self.img,W){let Y=E.nakama.get_all_online_server();for(let z=0,te=Y.length;z<te;z++){if(E.nakama.users.self.display_name!=E.original_profile.display_name)try{yield Y[z].client.updateAccount(Y[z].session,{display_name:E.nakama.users.self.display_name});try{yield Y[z].socket.sendMatchState(E.nakama.self_match[Y[z].info.isOfficial][Y[z].info.target].match_id,xe.i.EDIT_PROFILE,encodeURIComponent("info"))}catch{}}catch{}if(E.isClickDisplayNameEdit&&E.nakama.channels_orig[Y[z].info.isOfficial][Y[z].info.target]){let J=Object.keys(E.nakama.channels_orig[Y[z].info.isOfficial][Y[z].info.target]);J&&J.forEach(q=>{Y[z].socket.writeChatMessage(q,{user_update:"modify_data",noti_form:E.original_profile.display_name==E.nakama.users.self.display_name?`: ${E.original_profile.display_name}`:`: ${E.original_profile.display_name} -> ${E.nakama.users.self.display_name}`})})}}E.nakama.save_self_profile()}E.nakama.MakeChannelHaveContextMenuAct()})()}ngOnDestroy(){this.p5canvas.remove()}sync_to_all_server(){var E=this;return(0,y.c)(function*(){let I=E.nakama.get_all_online_server();E.nakama.save_self_profile(),E.indexed.saveTextFileToUserPath(JSON.stringify(E.nakama.users.self.img),"servers/self/profile.img"),E.tmp_img="";for(let W=0,Y=I.length;W<Y;W++){if(E.nakama.users.self.img)try{let te=yield I[W].client.writeStorageObjects(I[W].session,[{collection:"user_public",key:"profile_image",value:{img:E.nakama.users.self.img},permission_read:2,permission_write:1}]);yield I[W].socket.sendMatchState(E.nakama.self_match[I[W].info.isOfficial][I[W].info.target].match_id,xe.i.EDIT_PROFILE,encodeURIComponent("image")),yield I[W].client.updateAccount(I[W].session,{avatar_url:te.acks[0].version})}catch(te){console.error("inputImageSelected_err: ",te)}else try{yield I[W].client.deleteStorageObjects(I[W].session,{object_ids:[{collection:"user_public",key:"profile_image"}]}),yield I[W].socket.sendMatchState(E.nakama.self_match[I[W].info.isOfficial][I[W].info.target].match_id,xe.i.EDIT_PROFILE,encodeURIComponent("image")),yield I[W].client.updateAccount(I[W].session,{avatar_url:""})}catch(te){console.error("inputImageSelected_err: ",te)}let z=Object.keys(E.nakama.channels_orig[I[W].info.isOfficial][I[W].info.target]);z&&(z.forEach(te=>{E.announce_update_profile&&I[W].socket.writeChatMessage(te,{user_update:"modify_img",noti_form:`: ${E.nakama.users.self.display_name}`})}),E.announce_update_profile=!1)}})()}change_img_from_file(){var E=this;return(0,y.c)(function*(){if(E.announce_update_profile=!0,E.nakama.users.self.img)E.p5canvas.ChangeImageSmooth();else try{let I=yield rt.c.read();yield E.check_if_clipboard_available(I)}catch{try{let W=yield E.mClipboard.paste();yield E.check_if_clipboard_available(W)}catch{document.getElementById(E.file_sel_id).click()}}})()}inputImageSelected(E){var I=this;return(0,y.c)(function*(){let W=setInterval(()=>{},110);setTimeout(()=>{clearInterval(W)},1500);let Y=yield I.global.GetBase64ThroughFileReader(E.target.files[0]);I.nakama.limit_image_size(Y,te=>{I.p5canvas.ChangeImageSmooth(te.canvas.toDataURL())}),document.getElementById(I.file_sel_id).value=""})()}ionViewDidEnter(){this.can_auto_modified=!0,this.global.p5key.KeyShortCut.Escape=()=>{this.navCtrl.pop()}}email_modified(){this.can_auto_modified&&(this.nakama.users.self.online&&this.toggle_online(),this.nakama.users.self.online=!1,delete this.nakama.users.self.password,this.p5canvas.PasswordInput.value(""))}toggle_online(){var E=this;return(0,y.c)(function*(){if(E.OnlineToggle=!E.OnlineToggle,E.nakama.users.self.online=E.OnlineToggle,E.OnlineToggle){E.announce_update_profile=!1;try{if(!E.nakama.users.self.email)throw E.p5toast.show({text:E.lang.text.Profile.need_email}),"\uc774\uba54\uc77c \uacf5\ubc31";if(!E.nakama.users.self.password)throw E.p5toast.show({text:E.lang.text.Profile.need_password}),"\ube44\ubc00\ubc88\ud638 \uacf5\ubc31";E.nakama.save_self_profile(),yield E.nakama.init_all_sessions(),E.original_profile=JSON.parse(JSON.stringify(E.nakama.users.self))}catch{E.nakama.users.self.online=!1,E.OnlineToggle=!1}}else E.nakama.logout_all_server(),delete E.nakama.users.self.password,E.nakama.save_groups_with_less_info(),E.nakama.channels_orig.official={},E.nakama.channels_orig.unofficial={},E.nakama.rearrange_channels();E.p5canvas.loop()})()}check_if_clipboard_available(E){var I=this;return(0,y.c)(function*(){try{if(0!=E.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((W,Y)=>{let z=document.createElement("img");z.src=E,z.onload=()=>{I.p5canvas.ChangeImageSmooth(E),z.remove(),W(void 0)},z.onerror=()=>{z.remove(),Y()}})}catch{try{if(0!=E.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";I.nakama.limit_image_size(E,Y=>I.p5canvas.ChangeImageSmooth(Y.canvas.toDataURL()))}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}OpenNewServerForm(){this.RegisterNewServer.present()}copy_id(){this.mClipboard.copy(this.session_uid).catch(E=>{rt.c.write(this.session_uid).then(()=>{"DesktopPWA"==_e.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${this.session_uid}`})}).catch(I=>{})})}go_back(){var E=this;return(0,y.c)(function*(){try{yield E.modalCtrl.dismiss()}catch{}})()}}return(j=V).\u0275fac=function(E){return new(E||j)(S.GI1(xe.h),S.GI1(v.O),S.GI1(_.Y),S.GI1(h.k),S.GI1(f.o),S.GI1(x.A1),S.GI1(w._),S.GI1(i.wX),S.GI1(i.a6),S.GI1(a.qS))},j.\u0275cmp=S.In1({type:j,selectors:[["app-group-server"]],viewQuery:function(E,I){if(1&E&&S.CC$(u,5),2&E){let W;S.wto(W=S.Gqi())&&(I.RegisterNewServer=W.first)}},decls:13,vars:6,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","GroupServerCanvasDiv",2,"position","absolute","width","100%","height","100%","display","flex"],["style","position: absolute; bottom: 0; width: 100%;",4,"ngIf"],["hidden","","type","file","accept","image/*",3,"id","change"],[3,"initialBreakpoint","breakpoints"],["RegisterNewServer",""],[2,"position","absolute","bottom","0","width","100%"],["value","open"],["button","","slot","header"],["slot","content"],["button","",3,"click",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"ion-text-center"],["color","tertiary",1,"ion-text-center"],["color","secondary"],[1,"additional_form","status_bar_single"],[1,"form_margin"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],["button","",3,"disabled"],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"disabled","click"]],template:function(E,I){1&E&&(S.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),S.OEk(3),S.C$Y(),S.I0R(4,"ion-buttons",1),S.qCj("click",function(){return I.go_back()}),S.wR5(5,"ion-back-button",2),S.C$Y()()(),S.I0R(6,"ion-content"),S.wR5(7,"div",3),S.yuY(8,M,15,5,"div",4),S.I0R(9,"input",5),S.qCj("change",function(Y){return I.inputImageSelected(Y)}),S.C$Y(),S.I0R(10,"ion-modal",6,7),S.yuY(12,F,13,13,"ng-template"),S.C$Y()()),2&E&&(S.yG2(3),S.cNF(I.lang.text.Settings.groupServer),S.yG2(5),S.E7m("ngIf",I.ShowServerList),S.yG2(),S.E7m("id",I.file_sel_id),S.yG2(),S.E7m("initialBreakpoint",I.isMobilePWA?.6:.4)("breakpoints",S.q4q(5,N)))},dependencies:[d.ay,d.u_,c.ue,c._G,a.cm,a.qU,a.sn,a.GS,a._i,a.wB,a.A5,a.Yb,a.QR,a.tM,a.Md,a.yc,a.qG,a.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),V})()},9404:(pn,jt,ge)=>{"use strict";ge.d(jt,{E:()=>u});var y=ge(1528),xe=ge(2272),rt=ge(5193),_e=ge(4496),o=ge(5624),$=ge(9240),S=ge(4500),v=ge(3824),_=ge(4180),h=ge(4668),f=ge(7136),x=ge(5020),w=ge(7756),i=ge(1368),a=ge(4716);const d=["ServerDetailuseSSL"];function c(l,m){if(1&l){const p=_e.KQA();_e.I0R(0,"img",14),_e.qCj("click",function(){_e.usT(p);const M=_e.GaO();return _e.CGJ(M.copy_startup_address())}),_e.C$Y()}if(2&l){const p=_e.GaO();_e.E7m("src",p.QRCodeSRC,_e.K6U)}}let u=(()=>{var l;class m{constructor(b,M,F,N,P,j,V,k,E){this.modalCtrl=b,this.navParams=M,this.lang=F,this.p5toast=N,this.statusBar=P,this.indexed=j,this.nakama=V,this.global=k,this.mClipboard=E,this.isTargetAlreadyExist=!0,this.index=0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let b={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete b.address,"defaultkey"==this.dedicated_info.key&&delete b.key,7350==this.dedicated_info.port&&delete b.port,this.dedicated_info.useSSL||delete b.useSSL,this.QRCodeSRC=this.global.readasQRCodeFromString(`${rt.uM}pjcone_pwa/?server=${b.name||""},${b.address||""},${b.useSSL?"true":""},${b.port||7350},${b.key||""}`),this.isTargetAlreadyExist=!!this.statusBar.groupServer.unofficial[this.dedicated_info.target]}ionViewDidEnter(){this.ServerDetailuseSSL.checked=this.dedicated_info.useSSL}copy_startup_address(){let b=`https://is2you2.github.io/pjcone_pwa/?server=${this.dedicated_info.name||""},${this.dedicated_info.address||""},${this.dedicated_info.useSSL||""},${this.dedicated_info.port||""},${this.dedicated_info.key||""}&open_profile=true`;this.mClipboard.copy(b).catch(M=>{xe.c.write(b).then(()=>{"DesktopPWA"==rt.s1&&this.p5toast.show({text:`${this.lang.text.GlobalAct.PCClipboard}: ${b}`})}).catch(F=>{})})}apply_changed_info(){var b=this;return(0,y.c)(function*(){if(!b.dedicated_info.name)return void b.p5toast.show({text:b.lang.text.GroupServer.NeedSetDIsplayName});b.dedicated_info.target=b.dedicated_info.target||b.dedicated_info.name,b.dedicated_info.address=b.dedicated_info.address||"192.168.0.1",b.dedicated_info.port=b.dedicated_info.port||7350,b.dedicated_info.useSSL=b.ServerDetailuseSSL.checked||!1,b.dedicated_info.isOfficial=b.dedicated_info.isOfficial||"unofficial",b.dedicated_info.key=b.dedicated_info.key||"defaultkey";let M=(new Date).getTime().toString();M+=`,${b.dedicated_info.isOfficial}`,M+=`,${b.dedicated_info.name}`,M+=`,${b.dedicated_info.target}`,M+=`,${b.dedicated_info.address}`,M+=`,${b.dedicated_info.port}`,M+=`,${b.dedicated_info.useSSL}`;let F=yield b.indexed.loadTextFromUserPath("servers/list_detail.csv"),N=[];if(F&&(N=F.split("\n")),b.isTargetAlreadyExist)for(let P=0,j=N.length;P<j;P++)if(N[P].split(",")[3]==b.dedicated_info.target){N.splice(P,1);break}N.push(M),yield b.indexed.saveTextFileToUserPath(N.join("\n"),"servers/list_detail.csv"),b.nakama.init_server(b.dedicated_info),b.nakama.servers[b.dedicated_info.isOfficial][b.dedicated_info.target].info={...b.dedicated_info};try{b.nakama.servers[b.dedicated_info.isOfficial][b.dedicated_info.target].socket.disconnect(!0)}catch{}b.modalCtrl.dismiss()})()}}return(l=m).\u0275fac=function(b){return new(b||l)(_e.GI1(o.qS),_e.GI1($.a6),_e.GI1(S.o),_e.GI1(v.O),_e.GI1(_.Y),_e.GI1(h.k),_e.GI1(f.h),_e.GI1(x.A1),_e.GI1(w._))},l.\u0275cmp=_e.In1({type:l,selectors:[["app-server-detail"]],viewQuery:function(b,M){if(1&b&&_e.CC$(d,5),2&b){let F;_e.wto(F=_e.Gqi())&&(M.ServerDetailuseSSL=F.first)}},decls:31,vars:19,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["button",""],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["type","number","placeholder","7350",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"click"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["ServerDetailuseSSL",""],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"src","click"]],template:function(b,M){1&b&&(_e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),_e.OEk(3),_e.C$Y(),_e.I0R(4,"ion-buttons",1),_e.qCj("click",function(){return M.modalCtrl.dismiss()}),_e.wR5(5,"ion-back-button",2),_e.C$Y()()(),_e.I0R(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),_e.OEk(9),_e.C$Y()(),_e.yuY(10,c,1,1,"img",3),_e.I0R(11,"ion-item-divider")(12,"ion-label"),_e.OEk(13,"\uc11c\ubc84 \uc124\uc815"),_e.C$Y()(),_e.I0R(14,"ion-item",4)(15,"ion-input",5),_e.iHE("ngModelChange",function(N){return _e.kNx(M.dedicated_info.name,N)||(M.dedicated_info.name=N),N}),_e.C$Y()(),_e.I0R(16,"ion-item",6)(17,"ion-input",5),_e.iHE("ngModelChange",function(N){return _e.kNx(M.dedicated_info.target,N)||(M.dedicated_info.target=N),N}),_e.C$Y()(),_e.I0R(18,"ion-item",4)(19,"ion-input",7),_e.iHE("ngModelChange",function(N){return _e.kNx(M.dedicated_info.address,N)||(M.dedicated_info.address=N),N}),_e.C$Y()(),_e.I0R(20,"ion-item",4)(21,"ion-input",8),_e.iHE("ngModelChange",function(N){return _e.kNx(M.dedicated_info.key,N)||(M.dedicated_info.key=N),N}),_e.C$Y()(),_e.I0R(22,"ion-item",4)(23,"ion-input",9),_e.iHE("ngModelChange",function(N){return _e.kNx(M.dedicated_info.port,N)||(M.dedicated_info.port=N),N}),_e.C$Y()(),_e.I0R(24,"ion-item",10),_e.qCj("click",function(){return M.dedicated_info.useSSL=!M.dedicated_info.useSSL}),_e.I0R(25,"ion-toggle",11,12),_e.iHE("ngModelChange",function(N){return _e.kNx(M.dedicated_info.useSSL,N)||(M.dedicated_info.useSSL=N),N}),_e.OEk(27),_e.C$Y()(),_e.I0R(28,"ion-item",10),_e.qCj("click",function(){return M.apply_changed_info()}),_e.I0R(29,"ion-label",13),_e.OEk(30),_e.C$Y()()()),2&b&&(_e.yG2(3),_e.cNF(M.lang.text.GroupServer.ServerDetail),_e.yG2(6),_e.cNF(M.lang.text.ServerDetail.copy_scan_below),_e.yG2(),_e.E7m("ngIf",M.QRCodeSRC),_e.yG2(5),_e.E7m("label",M.lang.text.GroupServer.DisplayName),_e.OKB("ngModel",M.dedicated_info.name),_e.E7m("placeholder",M.lang.text.GroupServer.DisplayName_placeholder),_e.yG2(),_e.E7m("disabled",M.isTargetAlreadyExist),_e.yG2(),_e.E7m("label",M.lang.text.GroupServer.DivisionName),_e.OKB("ngModel",M.dedicated_info.target),_e.E7m("placeholder",M.dedicated_info.name||M.lang.text.GroupServer.DivisionName_placeholder),_e.yG2(2),_e.E7m("label",M.lang.text.GroupServer.Address),_e.OKB("ngModel",M.dedicated_info.address),_e.yG2(2),_e.E7m("label",M.lang.text.GroupServer.Key),_e.OKB("ngModel",M.dedicated_info.key),_e.yG2(2),_e.E7m("label",M.lang.text.GroupServer.Port),_e.OKB("ngModel",M.dedicated_info.port),_e.yG2(2),_e.OKB("ngModel",M.dedicated_info.useSSL),_e.yG2(2),_e.cNF(M.lang.text.GroupServer.isSSL),_e.yG2(3),_e.cNF(M.lang.text.ServerDetail.ApplyChangeServerInfo))},dependencies:[i.u_,a.ue,a._G,o.GS,o._i,o.wB,o.A5,o.Yb,o.S8,o.QR,o.tM,o.E$,o.Md,o.UJ,o.Ch,o.qG,o.Im],styles:[".icon_style[_ngcontent-%COMP%]{width:22px;height:22px;transform:translateY(2px);margin-left:4px;margin-right:4px}"]}),m})()},4180:(pn,jt,ge)=>{"use strict";ge.d(jt,{Y:()=>xe});var y=ge(4496);let xe=(()=>{var rt;class _e{constructor(){this.colors={offline:"#888888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",community_ranchat:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},this.dedicated={official:{groupchat:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(rt=_e).\u0275fac=function($){return new($||rt)},rt.\u0275prov=y.wxM({token:rt,factory:rt.\u0275fac,providedIn:"root"}),_e})()},5788:(pn,jt,ge)=>{"use strict";var y=ge(4476),xe=ge(4496),rt=ge(3332),_e=ge(9240),o=ge(5624),$=ge(5193);const S=[{path:"",loadChildren:()=>ge.e(5504).then(ge.bind(ge,5504)).then(ot=>ot.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>ge.e(8668).then(ge.bind(ge,8668)).then(ot=>ot.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>ge.e(732).then(ge.bind(ge,732)).then(ot=>ot.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>Promise.all([ge.e(8744),ge.e(1052),ge.e(7048),ge.e(7988)]).then(ge.bind(ge,7988)).then(ot=>ot.UserFsDirPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([ge.e(8744),ge.e(1052),ge.e(7048),ge.e(3872),ge.e(4712)]).then(ge.bind(ge,3872)).then(ot=>ot.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([ge.e(8744),ge.e(1052),ge.e(9596),ge.e(5929),ge.e(8696)]).then(ge.bind(ge,5929)).then(ot=>ot.ChatRoomPageModule)},{path:"share-content-to-other",loadChildren:()=>ge.e(3116).then(ge.bind(ge,3116)).then(ot=>ot.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>Promise.all([ge.e(9596),ge.e(8080)]).then(ge.bind(ge,8080)).then(ot=>ot.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>Promise.all([ge.e(9596),ge.e(8696),ge.e(516)]).then(ge.bind(ge,516)).then(ot=>ot.PortalPageModule)}];let v=(()=>{var ot;class Ye{}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)},ot.\u0275mod=xe.a4G({type:ot}),ot.\u0275inj=xe.s3X({imports:[rt.qQ.forRoot(S,{preloadingStrategy:rt.eu}),rt.qQ]}),Ye})();var _=ge(8268),h=ge(1028),f=ge(6928),x=ge(1368),w=ge(1424),i=ge(3800),a=ge(800),d=ge(2700),c=ge(7228),u=ge(5657),l=ge(3252),m=ge(308);const p=new l._(m.K);var M=ge(267),F=ge(560),N=ge(8960),P=ge(6624),j=ge(2115);function V(...ot){const Ye=(0,P.e_)(ot),ut=(0,P._8)(ot,1/0),Ct=ot;return Ct.length?1===Ct.length?(0,F.Uv)(Ct[0]):(0,M.u)(ut)((0,j.Q)(Ct,Ye)):N.k}var k=ge(4704),E=ge(6684),I=ge(7368),W=ge(2376),Y=ge(8880),z=ge(5448);const J={connector:()=>new u.E};function q(ot,Ye=J){const{connector:ut}=Ye;return(0,z.i)((Ct,rn)=>{const ze=ut();(0,F.Uv)(ot(function te(ot){return new l._(Ye=>ot.subscribe(Ye))}(ze))).subscribe(rn),rn.add(Ct.subscribe(ze))})}var De=ge(3992),K=ge(9212),L=ge(4548);class se extends L.wH{constructor(Ye,ut){super()}schedule(Ye,ut=0){return this}}const pe={setInterval(ot,Ye,...ut){const{delegate:Ct}=pe;return null!=Ct&&Ct.setInterval?Ct.setInterval(ot,Ye,...ut):setInterval(ot,Ye,...ut)},clearInterval(ot){const{delegate:Ye}=pe;return((null==Ye?void 0:Ye.clearInterval)||clearInterval)(ot)},delegate:void 0};var Ce=ge(1248);const We={now:()=>(We.delegate||Date).now(),delegate:void 0};class tt{constructor(Ye,ut=tt.now){this.schedulerActionCtor=Ye,this.now=ut}schedule(Ye,ut=0,Ct){return new this.schedulerActionCtor(this,Ye).schedule(Ct,ut)}}tt.now=We.now;const ke=new class Oe extends tt{constructor(Ye,ut=tt.now){super(Ye,ut),this.actions=[],this._active=!1}flush(Ye){const{actions:ut}=this;if(this._active)return void ut.push(Ye);let Ct;this._active=!0;do{if(Ct=Ye.execute(Ye.state,Ye.delay))break}while(Ye=ut.shift());if(this._active=!1,Ct){for(;Ye=ut.shift();)Ye.unsubscribe();throw Ct}}}(class Fe extends se{constructor(Ye,ut){super(Ye,ut),this.scheduler=Ye,this.work=ut,this.pending=!1}schedule(Ye,ut=0){var Ct;if(this.closed)return this;this.state=Ye;const rn=this.id,ze=this.scheduler;return null!=rn&&(this.id=this.recycleAsyncId(ze,rn,ut)),this.pending=!0,this.delay=ut,this.id=null!==(Ct=this.id)&&void 0!==Ct?Ct:this.requestAsyncId(ze,this.id,ut),this}requestAsyncId(Ye,ut,Ct=0){return pe.setInterval(Ye.flush.bind(Ye,this),Ct)}recycleAsyncId(Ye,ut,Ct=0){if(null!=Ct&&this.delay===Ct&&!1===this.pending)return ut;null!=ut&&pe.clearInterval(ut)}execute(Ye,ut){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ct=this._execute(Ye,ut);if(Ct)return Ct;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ye,ut){let rn,Ct=!1;try{this.work(Ye)}catch(ze){Ct=!0,rn=ze||new Error("Scheduled action threw falsy error")}if(Ct)return this.unsubscribe(),rn}unsubscribe(){if(!this.closed){const{id:Ye,scheduler:ut}=this,{actions:Ct}=ut;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.k)(Ct,this),null!=Ye&&(this.id=this.recycleAsyncId(ut,Ye,null)),this.delay=null,super.unsubscribe()}}}),Be=ke;var je=ge(7773),Ke=ge(320),gt=ge(7400);function ft(ot,Ye){return Ye?ut=>(0,c.W)(Ye.pipe((0,De.U)(1),function Qe(){return(0,z.i)((ot,Ye)=>{ot.subscribe((0,je.e)(Ye,m.K))})}()),ut.pipe(ft(ot))):(0,gt.O)((ut,Ct)=>(0,F.Uv)(ot(ut,Ct)).pipe((0,De.U)(1),(0,Ke.e)(ut)))}var yt=ge(3048);const un="Service workers are disabled or not supported by this browser";class Yt{constructor(Ye){if(this.serviceWorker=Ye,Ye){const Ct=(0,a.w)(Ye,"controllerchange").pipe((0,k.k)(()=>Ye.controller)),rn=(0,w.Q)(()=>(0,d.of)(Ye.controller)),ze=(0,c.W)(rn,Ct);this.worker=ze.pipe((0,E.I)(hn=>!!hn)),this.registration=this.worker.pipe((0,I.G)(()=>Ye.getRegistration()));const Xt=(0,a.w)(Ye,"message").pipe((0,k.k)(hn=>hn.data)).pipe((0,E.I)(hn=>hn&&hn.type)).pipe(function fe(ot){return ot?Ye=>q(ot)(Ye):Ye=>function ne(ot,Ye){const ut=(0,Y.m)(ot)?ot:()=>ot;return(0,Y.m)(Ye)?q(Ye,{connector:ut}):Ct=>new W.C(Ct,ut)}(new u.E)(Ye)}());Xt.connect(),this.events=Xt}else this.worker=this.events=this.registration=function sn(ot){return(0,w.Q)(()=>(0,i.c)(new Error(ot)))}(un)}postMessage(Ye,ut){return this.worker.pipe((0,De.U)(1),(0,K.y)(Ct=>{Ct.postMessage({action:Ye,...ut})})).toPromise().then(()=>{})}postMessageWithOperation(Ye,ut,Ct){const rn=this.waitForOperationCompleted(Ct),ze=this.postMessage(Ye,ut);return Promise.all([ze,rn]).then(([,bt])=>bt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Ye){let ut;return ut="string"==typeof Ye?Ct=>Ct.type===Ye:Ct=>Ye.includes(Ct.type),this.events.pipe((0,E.I)(ut))}nextEventOfType(Ye){return this.eventsOfType(Ye).pipe((0,De.U)(1))}waitForOperationCompleted(Ye){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,E.I)(ut=>ut.nonce===Ye),(0,De.U)(1),(0,k.k)(ut=>{if(void 0!==ut.result)return ut.result;throw new Error(ut.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let kt=(()=>{var ot;class Ye{get isEnabled(){return this.sw.isEnabled}constructor(Ct){if(this.sw=Ct,this.pushManager=null,this.subscriptionChanges=new u.E,!Ct.isEnabled)return this.messages=p,this.notificationClicks=p,void(this.subscription=p);this.messages=this.sw.eventsOfType("PUSH").pipe((0,k.k)(ze=>ze.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,k.k)(ze=>ze.data)),this.pushManager=this.sw.registration.pipe((0,k.k)(ze=>ze.pushManager));const rn=this.pushManager.pipe((0,I.G)(ze=>ze.getSubscription()));this.subscription=V(rn,this.subscriptionChanges)}requestSubscription(Ct){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(un));const rn={userVisibleOnly:!0};let ze=this.decodeBase64(Ct.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),bt=new Uint8Array(new ArrayBuffer(ze.length));for(let Nt=0;Nt<ze.length;Nt++)bt[Nt]=ze.charCodeAt(Nt);return rn.applicationServerKey=bt,this.pushManager.pipe((0,I.G)(Nt=>Nt.subscribe(rn)),(0,De.U)(1)).toPromise().then(Nt=>(this.subscriptionChanges.next(Nt),Nt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,De.U)(1),(0,I.G)(rn=>{if(null===rn)throw new Error("Not subscribed to push notifications.");return rn.unsubscribe().then(ze=>{if(!ze)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(un))}decodeBase64(Ct){return atob(Ct)}}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)(xe.CoB(Yt))},ot.\u0275prov=xe.wxM({token:ot,factory:ot.\u0275fac}),Ye})(),zt=(()=>{var ot;class Ye{get isEnabled(){return this.sw.isEnabled}constructor(Ct){if(this.sw=Ct,!Ct.isEnabled)return this.versionUpdates=p,void(this.unrecoverable=p);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(un));const Ct=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Ct},Ct)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(un));const Ct=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Ct},Ct)}}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)(xe.CoB(Yt))},ot.\u0275prov=xe.wxM({token:ot,factory:ot.\u0275fac}),Ye})();const vt=new xe.UbH("");function Ht(ot,Ye,ut,Ct){return()=>{if(!(0,x.c0)(Ct)||!("serviceWorker"in navigator)||!1===ut.enabled)return;let rn;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof ut.registrationStrategy)rn=ut.registrationStrategy();else{const[bt,...Nt]=(ut.registrationStrategy||"registerWhenStable:30000").split(":");switch(bt){case"registerImmediately":rn=(0,d.of)(null);break;case"registerWithDelay":rn=wt(+Nt[0]||0);break;case"registerWhenStable":rn=Nt[0]?V(Re(ot),wt(+Nt[0])):Re(ot);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${ut.registrationStrategy}`)}}ot.get(xe.WW2).runOutsideAngular(()=>rn.pipe((0,De.U)(1)).subscribe(()=>navigator.serviceWorker.register(Ye,{scope:ut.scope}).catch(bt=>console.error("Service worker registration failed with:",bt))))}}function wt(ot){return(0,d.of)(null).pipe(function Ft(ot,Ye=ke){const ut=function Jt(ot=0,Ye,ut=Be){let Ct=-1;return null!=Ye&&((0,yt.G)(Ye)?ut=Ye:Ct=Ye),new l._(rn=>{let ze=function Pt(ot){return ot instanceof Date&&!isNaN(ot)}(ot)?+ot-ut.now():ot;ze<0&&(ze=0);let bt=0;return ut.schedule(function(){rn.closed||(rn.next(bt++),0<=Ct?this.schedule(void 0,Ct):rn.complete())},ze)})}(ot,Ye);return ft(()=>ut)}(ot))}function Re(ot){return ot.get(xe.Swk).isStable.pipe((0,E.I)(ut=>ut))}function Ge(ot,Ye){return new Yt((0,x.c0)(Ye)&&!1!==ot.enabled?navigator.serviceWorker:void 0)}class Te{}function et(ot,Ye={}){return(0,xe.AFj)([kt,zt,{provide:vt,useValue:ot},{provide:Te,useValue:Ye},{provide:Yt,useFactory:Ge,deps:[Te,xe.AHE]},{provide:xe.kZF,useFactory:Ht,deps:[xe.zZn,vt,Te,xe.AHE],multi:!0}])}let Et=(()=>{var ot;class Ye{static register(Ct,rn={}){return{ngModule:Ye,providers:[et(Ct,rn)]}}}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)},ot.\u0275mod=xe.a4G({type:ot}),ot.\u0275inj=xe.s3X({providers:[kt,zt]}),Ye})();var Gt=ge(544),ln=ge(7756);let _n=(()=>{var ot;class Ye{}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)},ot.\u0275mod=xe.a4G({type:ot,bootstrap:[$.a0]}),ot.\u0275inj=xe.s3X({providers:[{provide:rt.XE,useClass:_e.um},_.G,Gt.S,h.Y,_e.a6,f.G8,ln._],imports:[y.iE,o.wZ.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),v,Et.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),Ye})();var wn=ge(8637);(0,xe.agy)(),y.o_().bootstrapModule(_n).catch(ot=>console.log(ot)),window,typeof window>"u"?Promise.resolve():(0,wn.p)().then(()=>(0,wn.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},9352:(pn,jt,ge)=>{var y=ge(3248);pn.exports=function o($,S,v){function _(x,w){if(!S[x]){if(!$[x]){var i=void 0;if(!w&&i)return require(x,!0);if(h)return h(x,!0);throw(w=new Error("Cannot find module '"+x+"'")).code="MODULE_NOT_FOUND",w}i=S[x]={exports:{}},$[x][0].call(i.exports,function(a){return _($[x][1][a]||a)},i,i.exports,o,$,S,v)}return S[x].exports}for(var h=void 0,f=0;f<v.length;f++)_(v[f]);return _}({1:[function(o,$,S){"use strict";S.byteLength=function(c){return 3*((c=i(c))[0]+(c=c[1]))/4-c},S.toByteArray=function(a){var d,c,l,F,u=(l=i(a))[0],m=new h(3*(u+(F=l=l[1]))/4-F),p=0,b=0<l?u-4:u;for(c=0;c<b;c+=4)d=_[a.charCodeAt(c)]<<18|_[a.charCodeAt(c+1)]<<12|_[a.charCodeAt(c+2)]<<6|_[a.charCodeAt(c+3)],m[p++]=d>>16&255,m[p++]=d>>8&255,m[p++]=255&d;return 2===l&&(d=_[a.charCodeAt(c)]<<2|_[a.charCodeAt(c+1)]>>4,m[p++]=255&d),1===l&&(d=_[a.charCodeAt(c)]<<10|_[a.charCodeAt(c+1)]<<4|_[a.charCodeAt(c+2)]>>2,m[p++]=d>>8&255,m[p++]=255&d),m},S.fromByteArray=function(a){for(var d,c=a.length,u=c%3,l=[],m=0,p=c-u;m<p;m+=16383)l.push(function(b,M,F){for(var P=[],j=M;j<F;j+=3)P.push(v[(V=(b[j]<<16&16711680)+(b[j+1]<<8&65280)+(255&b[j+2]))>>18&63]+v[V>>12&63]+v[V>>6&63]+v[63&V]);var V;return P.join("")}(a,m,p<m+16383?p:m+16383));return 1==u?l.push(v[(d=a[c-1])>>2]+v[d<<4&63]+"=="):2==u&&l.push(v[(d=(a[c-2]<<8)+a[c-1])>>10]+v[d>>4&63]+v[d<<2&63]+"="),l.join("")};for(var v=[],_=[],h=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0;x<64;++x)v[x]=f[x],_[f.charCodeAt(x)]=x;function i(a){var d=a.length;if(0<d%4)throw new Error("Invalid string. Length must be a multiple of 4");return d=(a=-1===(a=a.indexOf("="))?d:a)===d?0:4-a%4,[a,d]}_[45]=62,_[95]=63},{}],2:[function(o,$,S){},{}],3:[function(o,$,S){},{}],4:[function(o,$,S){(function(i){"use strict";var _=o("base64-js"),h=o("ieee754"),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,x=(S.Buffer=i,S.SlowBuffer=function(K){return+K!=K&&(K=0),i.alloc(+K)},S.INSPECT_MAX_BYTES=50,2147483647);function w(K){if(x<K)throw new RangeError('The value "'+K+'" is invalid for option "size"');return K=new Uint8Array(K),Object.setPrototypeOf(K,i.prototype),K}function i(K,L,se){if("number"!=typeof K)return a(K,L,se);if("string"==typeof L)throw new TypeError('The "string" argument must be of type string. Received type number');return c(K)}function a(K,L,se){if("string"==typeof K){var pe=K,Ce=L;if(i.isEncoding(Ce="string"==typeof Ce&&""!==Ce?Ce:"utf8"))return(pe=(We=w(Fe=0|m(pe,Ce))).write(pe,Ce))!==Fe?We.slice(0,pe):We;throw new TypeError("Unknown encoding: "+Ce)}if(ArrayBuffer.isView(K))return u(K);if(null!=K){if(ne(K,ArrayBuffer)||K&&ne(K.buffer,ArrayBuffer)){var Fe=K,We=se;if((pe=L)<0||Fe.byteLength<pe)throw new RangeError('"offset" is outside of buffer bounds');if(Fe.byteLength<pe+(We||0))throw new RangeError('"length" is outside of buffer bounds');return Fe=void 0===pe&&void 0===We?new Uint8Array(Fe):void 0===We?new Uint8Array(Fe,pe):new Uint8Array(Fe,pe,We),Object.setPrototypeOf(Fe,i.prototype),Fe}if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(Ce=K.valueOf&&K.valueOf())&&Ce!==K)return i.from(Ce,L,se);var tt=i.isBuffer(Oe=K)?(0!==(Be=w(ke=0|l(Oe.length))).length&&Oe.copy(Be,0,0,ke),Be):void 0!==Oe.length?"number"!=typeof Oe.length||fe(Oe.length)?w(0):u(Oe):"Buffer"===Oe.type&&Array.isArray(Oe.data)?u(Oe.data):void 0;if(tt)return tt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return i.from(K[Symbol.toPrimitive]("string"),L,se)}var Oe,ke,Be;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function d(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function c(K){return d(K),w(K<0?0:0|l(K))}function u(K){for(var L=K.length<0?0:0|l(K.length),se=w(L),pe=0;pe<L;pe+=1)se[pe]=255&K[pe];return se}function l(K){if(x<=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|K}function m(K,L){if(i.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ne(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var se=K.length,pe=2<arguments.length&&!0===arguments[2];if(!pe&&0===se)return 0;for(var Ce=!1;;)switch(L){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return te(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return J(K).length;default:if(Ce)return pe?-1:te(K).length;L=(""+L).toLowerCase(),Ce=!0}}function p(K,L,se){var pe,Ce=!1;if((L=void 0===L||L<0?0:L)>this.length||(se=void 0===se||se>this.length?this.length:se)<=0||(se>>>=0)<=(L>>>=0))return"";for(K=K||"utf8";;)switch(K){case"hex":var We=se,Be=this.length;(!We||We<0||Be<We)&&(We=Be);for(var tt="",Oe=ft=!(ft=L)||ft<0?0:ft;Oe<We;++Oe)tt+=De[this[Oe]];return tt;case"utf8":case"utf-8":return j(this,L,se);case"ascii":var je=(Be=L,se),Qe="";je=Math.min(this.length,je);for(var Ke=Be;Ke<je;++Ke)Qe+=String.fromCharCode(127&this[Ke]);return Qe;case"latin1":case"binary":var ft=L,yt=se,Pt="";yt=Math.min(this.length,yt);for(var Jt=ft;Jt<yt;++Jt)Pt+=String.fromCharCode(this[Jt]);return Pt;case"base64":return Ft=this,pe=se,0===(un=L)&&pe===Ft.length?_.fromByteArray(Ft):_.fromByteArray(Ft.slice(un,pe));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ft=L,un=se,sn=this.slice(Ft,un),Yt="",kt=0;kt<sn.length;kt+=2)Yt+=String.fromCharCode(sn[kt]+256*sn[kt+1]);return Yt;default:if(Ce)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Ce=!0}}function b(K,L,se){var pe=K[L];K[L]=K[se],K[se]=pe}function M(K,L,se,pe,Ce){if(0===K.length)return-1;if("string"==typeof se?(pe=se,se=0):2147483647<se?se=2147483647:se<-2147483648&&(se=-2147483648),(se=(se=fe(se=+se)?Ce?0:K.length-1:se)<0?K.length+se:se)>=K.length){if(Ce)return-1;se=K.length-1}else if(se<0){if(!Ce)return-1;se=0}if("string"==typeof L&&(L=i.from(L,pe)),i.isBuffer(L))return 0===L.length?-1:F(K,L,se,pe,Ce);if("number"==typeof L)return L&=255,"function"==typeof Uint8Array.prototype.indexOf?(Ce?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(K,L,se):F(K,[L],se,pe,Ce);throw new TypeError("val must be string, number or Buffer")}function F(K,L,se,pe,Ce){var Fe=1,We=K.length,tt=L.length;if(void 0!==pe&&("ucs2"===(pe=String(pe).toLowerCase())||"ucs-2"===pe||"utf16le"===pe||"utf-16le"===pe)){if(K.length<2||L.length<2)return-1;We/=Fe=2,tt/=2,se/=2}function Oe(Ke,gt){return 1===Fe?Ke[gt]:Ke.readUInt16BE(gt*Fe)}if(Ce)for(var ke=-1,Be=se;Be<We;Be++)if(Oe(K,Be)===Oe(L,-1===ke?0:Be-ke)){if(Be-(ke=-1===ke?Be:ke)+1===tt)return ke*Fe}else-1!==ke&&(Be-=Be-ke),ke=-1;else for(Be=se=We<se+tt?We-tt:se;0<=Be;Be--){for(var je=!0,Qe=0;Qe<tt;Qe++)if(Oe(K,Be+Qe)!==Oe(L,Qe)){je=!1;break}if(je)return Be}return-1}function N(K,L,se,pe){return q(function(Ce){for(var Fe=[],We=0;We<Ce.length;++We)Fe.push(255&Ce.charCodeAt(We));return Fe}(L),K,se,pe)}function P(K,L,se,pe){return q(function(Ce,Fe){for(var We,tt,Oe=[],ke=0;ke<Ce.length&&!((Fe-=2)<0);++ke)We=(tt=Ce.charCodeAt(ke))>>8,Oe.push(tt%=256),Oe.push(We);return Oe}(L,K.length-se),K,se,pe)}function j(K,L,se){se=Math.min(K.length,se);for(var pe=[],Ce=L;Ce<se;){var Fe,We,tt,Oe,ke=K[Ce],Be=null,je=239<ke?4:223<ke?3:191<ke?2:1;if(Ce+je<=se)switch(je){case 1:ke<128&&(Be=ke);break;case 2:128==(192&(Fe=K[Ce+1]))&&127<(Oe=(31&ke)<<6|63&Fe)&&(Be=Oe);break;case 3:We=K[Ce+2],128==(192&(Fe=K[Ce+1]))&&128==(192&We)&&2047<(Oe=(15&ke)<<12|(63&Fe)<<6|63&We)&&(Oe<55296||57343<Oe)&&(Be=Oe);break;case 4:We=K[Ce+2],tt=K[Ce+3],128==(192&(Fe=K[Ce+1]))&&128==(192&We)&&128==(192&tt)&&65535<(Oe=(15&ke)<<18|(63&Fe)<<12|(63&We)<<6|63&tt)&&Oe<1114112&&(Be=Oe)}null===Be?(Be=65533,je=1):65535<Be&&(pe.push((Be-=65536)>>>10&1023|55296),Be=56320|1023&Be),pe.push(Be),Ce+=je}var Qe=pe,Ke=Qe.length;if(Ke<=V)return String.fromCharCode.apply(String,Qe);for(var gt="",ft=0;ft<Ke;)gt+=String.fromCharCode.apply(String,Qe.slice(ft,ft+=V));return gt}S.kMaxLength=x,(i.TYPED_ARRAY_SUPPORT=function(){try{var K=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(K,L),42===K.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=a,Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(K,L,se){return d(K),K<=0||void 0===L?w(K):"string"==typeof se?w(K).fill(L,se):w(K).fill(L)},i.allocUnsafe=c,i.allocUnsafeSlow=c,i.isBuffer=function(K){return null!=K&&!0===K._isBuffer&&K!==i.prototype},i.compare=function(K,L){if(ne(K,Uint8Array)&&(K=i.from(K,K.offset,K.byteLength)),ne(L,Uint8Array)&&(L=i.from(L,L.offset,L.byteLength)),!i.isBuffer(K)||!i.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===L)return 0;for(var se=K.length,pe=L.length,Ce=0,Fe=Math.min(se,pe);Ce<Fe;++Ce)if(K[Ce]!==L[Ce]){se=K[Ce],pe=L[Ce];break}return se<pe?-1:pe<se?1:0},i.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(K,L){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return i.alloc(0);if(void 0===L)for(Ce=L=0;Ce<K.length;++Ce)L+=K[Ce].length;for(var se=i.allocUnsafe(L),pe=0,Ce=0;Ce<K.length;++Ce){var Fe=K[Ce];if(ne(Fe,Uint8Array)&&(Fe=i.from(Fe)),!i.isBuffer(Fe))throw new TypeError('"list" argument must be an Array of Buffers');Fe.copy(se,pe),pe+=Fe.length}return se},i.byteLength=m,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<K;L+=2)b(this,L,L+1);return this},i.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<K;L+=4)b(this,L,L+3),b(this,L+1,L+2);return this},i.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<K;L+=8)b(this,L,L+7),b(this,L+1,L+6),b(this,L+2,L+5),b(this,L+3,L+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var K=this.length;return 0===K?"":0===arguments.length?j(this,0,K):p.apply(this,arguments)},i.prototype.equals=function(K){if(i.isBuffer(K))return this===K||0===i.compare(this,K);throw new TypeError("Argument must be a Buffer")},i.prototype.inspect=function(){var L="",K=S.INSPECT_MAX_BYTES;return L=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(L+=" ... "),"<Buffer "+L+">"},f&&(i.prototype[f]=i.prototype.inspect),i.prototype.compare=function(K,L,se,pe,Ce){if(ne(K,Uint8Array)&&(K=i.from(K,K.offset,K.byteLength)),!i.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(void 0===se&&(se=K?K.length:0),void 0===pe&&(pe=0),void 0===Ce&&(Ce=this.length),(L=void 0===L?0:L)<0||se>K.length||pe<0||Ce>this.length)throw new RangeError("out of range index");if(Ce<=pe&&se<=L)return 0;if(Ce<=pe)return-1;if(se<=L)return 1;if(this===K)return 0;for(var Fe=(Ce>>>=0)-(pe>>>=0),We=(se>>>=0)-(L>>>=0),tt=Math.min(Fe,We),Oe=this.slice(pe,Ce),ke=K.slice(L,se),Be=0;Be<tt;++Be)if(Oe[Be]!==ke[Be]){Fe=Oe[Be],We=ke[Be];break}return Fe<We?-1:We<Fe?1:0},i.prototype.includes=function(K,L,se){return-1!==this.indexOf(K,L,se)},i.prototype.indexOf=function(K,L,se){return M(this,K,L,se,!0)},i.prototype.lastIndexOf=function(K,L,se){return M(this,K,L,se,!1)},i.prototype.write=function(K,L,se,pe){if(void 0===L)pe="utf8",se=this.length,L=0;else if(void 0===se&&"string"==typeof L)pe=L,se=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(se)?(se>>>=0,void 0===pe&&(pe="utf8")):(pe=se,se=void 0)}var Ce=this.length-L;if((void 0===se||Ce<se)&&(se=Ce),0<K.length&&(se<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe=pe||"utf8";for(var Fe,We,tt,Oe=!1;;)switch(pe){case"hex":var Be=K,je=L,Qe=se,Ke=(je=Number(je)||0,this.length-je);(!Qe||Ke<(Qe=Number(Qe)))&&(Qe=Ke),(Ke=Be.length)/2<Qe&&(Qe=Ke/2);for(var gt=0;gt<Qe;++gt){var ft=parseInt(Be.substr(2*gt,2),16);if(fe(ft))return gt;this[je+gt]=ft}return gt;case"utf8":case"utf-8":return tt=se,q(te(K,(We=this).length-(Ke=L)),We,Ke,tt);case"ascii":case"latin1":case"binary":return N(this,K,L,se);case"base64":return We=this,tt=L,Fe=se,q(J(K),We,tt,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,K,L,se);default:if(Oe)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Oe=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;function k(K,L,se){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(se<K+L)throw new RangeError("Trying to access beyond buffer length")}function E(K,L,se,pe,Ce,Fe){if(!i.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ce<L||L<Fe)throw new RangeError('"value" argument is out of bounds');if(se+pe>K.length)throw new RangeError("Index out of range")}function I(K,L,se,pe){if(se+pe>K.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function W(K,L,se,pe,Ce){return L=+L,se>>>=0,Ce||I(K,0,se,4),h.write(K,L,se,pe,23,4),se+4}function Y(K,L,se,pe,Ce){return L=+L,se>>>=0,Ce||I(K,0,se,8),h.write(K,L,se,pe,52,8),se+8}i.prototype.slice=function(K,L){var se=this.length;return(K=~~K)<0?(K+=se)<0&&(K=0):se<K&&(K=se),(L=void 0===L?se:~~L)<0?(L+=se)<0&&(L=0):se<L&&(L=se),L<K&&(L=K),se=this.subarray(K,L),Object.setPrototypeOf(se,i.prototype),se},i.prototype.readUIntLE=function(K,L,se){K>>>=0,L>>>=0,se||k(K,L,this.length);for(var pe=this[K],Ce=1,Fe=0;++Fe<L&&(Ce*=256);)pe+=this[K+Fe]*Ce;return pe},i.prototype.readUIntBE=function(K,L,se){K>>>=0,L>>>=0,se||k(K,L,this.length);for(var pe=this[K+--L],Ce=1;0<L&&(Ce*=256);)pe+=this[K+--L]*Ce;return pe},i.prototype.readUInt8=function(K,L){return K>>>=0,L||k(K,1,this.length),this[K]},i.prototype.readUInt16LE=function(K,L){return K>>>=0,L||k(K,2,this.length),this[K]|this[K+1]<<8},i.prototype.readUInt16BE=function(K,L){return K>>>=0,L||k(K,2,this.length),this[K]<<8|this[K+1]},i.prototype.readUInt32LE=function(K,L){return K>>>=0,L||k(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},i.prototype.readUInt32BE=function(K,L){return K>>>=0,L||k(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},i.prototype.readIntLE=function(K,L,se){K>>>=0,L>>>=0,se||k(K,L,this.length);for(var pe=this[K],Ce=1,Fe=0;++Fe<L&&(Ce*=256);)pe+=this[K+Fe]*Ce;return(Ce*=128)<=pe&&(pe-=Math.pow(2,8*L)),pe},i.prototype.readIntBE=function(K,L,se){K>>>=0,L>>>=0,se||k(K,L,this.length);for(var pe=L,Ce=1,Fe=this[K+--pe];0<pe&&(Ce*=256);)Fe+=this[K+--pe]*Ce;return(Ce*=128)<=Fe&&(Fe-=Math.pow(2,8*L)),Fe},i.prototype.readInt8=function(K,L){return K>>>=0,L||k(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},i.prototype.readInt16LE=function(K,L){return K>>>=0,L||k(K,2,this.length),32768&(L=this[K]|this[K+1]<<8)?4294901760|L:L},i.prototype.readInt16BE=function(K,L){return K>>>=0,L||k(K,2,this.length),32768&(L=this[K+1]|this[K]<<8)?4294901760|L:L},i.prototype.readInt32LE=function(K,L){return K>>>=0,L||k(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},i.prototype.readInt32BE=function(K,L){return K>>>=0,L||k(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},i.prototype.readFloatLE=function(K,L){return K>>>=0,L||k(K,4,this.length),h.read(this,K,!0,23,4)},i.prototype.readFloatBE=function(K,L){return K>>>=0,L||k(K,4,this.length),h.read(this,K,!1,23,4)},i.prototype.readDoubleLE=function(K,L){return K>>>=0,L||k(K,8,this.length),h.read(this,K,!0,52,8)},i.prototype.readDoubleBE=function(K,L){return K>>>=0,L||k(K,8,this.length),h.read(this,K,!1,52,8)},i.prototype.writeUIntLE=function(K,L,se,pe){K=+K,L>>>=0,se>>>=0,pe||E(this,K,L,se,Math.pow(2,8*se)-1,0);var Ce=1,Fe=0;for(this[L]=255&K;++Fe<se&&(Ce*=256);)this[L+Fe]=K/Ce&255;return L+se},i.prototype.writeUIntBE=function(K,L,se,pe){K=+K,L>>>=0,se>>>=0,pe||E(this,K,L,se,Math.pow(2,8*se)-1,0);var Ce=se-1,Fe=1;for(this[L+Ce]=255&K;0<=--Ce&&(Fe*=256);)this[L+Ce]=K/Fe&255;return L+se},i.prototype.writeUInt8=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,1,255,0),this[L]=255&K,L+1},i.prototype.writeUInt16LE=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,2,65535,0),this[L]=255&K,this[L+1]=K>>>8,L+2},i.prototype.writeUInt16BE=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,2,65535,0),this[L]=K>>>8,this[L+1]=255&K,L+2},i.prototype.writeUInt32LE=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,4,4294967295,0),this[L+3]=K>>>24,this[L+2]=K>>>16,this[L+1]=K>>>8,this[L]=255&K,L+4},i.prototype.writeUInt32BE=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,4,4294967295,0),this[L]=K>>>24,this[L+1]=K>>>16,this[L+2]=K>>>8,this[L+3]=255&K,L+4},i.prototype.writeIntLE=function(K,L,se,pe){K=+K,L>>>=0,pe||E(this,K,L,se,(pe=Math.pow(2,8*se-1))-1,-pe);var Ce=0,Fe=1,We=0;for(this[L]=255&K;++Ce<se&&(Fe*=256);)K<0&&0===We&&0!==this[L+Ce-1]&&(We=1),this[L+Ce]=(K/Fe>>0)-We&255;return L+se},i.prototype.writeIntBE=function(K,L,se,pe){K=+K,L>>>=0,pe||E(this,K,L,se,(pe=Math.pow(2,8*se-1))-1,-pe);var Ce=se-1,Fe=1,We=0;for(this[L+Ce]=255&K;0<=--Ce&&(Fe*=256);)K<0&&0===We&&0!==this[L+Ce+1]&&(We=1),this[L+Ce]=(K/Fe>>0)-We&255;return L+se},i.prototype.writeInt8=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,1,127,-128),this[L]=255&(K=K<0?255+K+1:K),L+1},i.prototype.writeInt16LE=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,2,32767,-32768),this[L]=255&K,this[L+1]=K>>>8,L+2},i.prototype.writeInt16BE=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,2,32767,-32768),this[L]=K>>>8,this[L+1]=255&K,L+2},i.prototype.writeInt32LE=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,4,2147483647,-2147483648),this[L]=255&K,this[L+1]=K>>>8,this[L+2]=K>>>16,this[L+3]=K>>>24,L+4},i.prototype.writeInt32BE=function(K,L,se){return K=+K,L>>>=0,se||E(this,K,L,4,2147483647,-2147483648),this[L]=(K=K<0?4294967295+K+1:K)>>>24,this[L+1]=K>>>16,this[L+2]=K>>>8,this[L+3]=255&K,L+4},i.prototype.writeFloatLE=function(K,L,se){return W(this,K,L,!0,se)},i.prototype.writeFloatBE=function(K,L,se){return W(this,K,L,!1,se)},i.prototype.writeDoubleLE=function(K,L,se){return Y(this,K,L,!0,se)},i.prototype.writeDoubleBE=function(K,L,se){return Y(this,K,L,!1,se)},i.prototype.copy=function(K,L,se,pe){if(!i.isBuffer(K))throw new TypeError("argument should be a Buffer");if(se=se||0,pe||0===pe||(pe=this.length),L>=K.length&&(L=K.length),(pe=0<pe&&pe<se?se:pe)===se||0===K.length||0===this.length)return 0;if((L=L||0)<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length);var Ce=(pe=K.length-L<pe-se?K.length-L+se:pe)-se;if(this===K&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(L,se,pe);else if(this===K&&se<L&&L<pe)for(var Fe=Ce-1;0<=Fe;--Fe)K[Fe+L]=this[Fe+se];else Uint8Array.prototype.set.call(K,this.subarray(se,pe),L);return Ce},i.prototype.fill=function(K,L,se,pe){if("string"==typeof K){if("string"==typeof L?(pe=L,L=0,se=this.length):"string"==typeof se&&(pe=se,se=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!i.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);var Ce;1===K.length&&(Ce=K.charCodeAt(0),("utf8"===pe&&Ce<128||"latin1"===pe)&&(K=Ce))}else"number"==typeof K?K&=255:"boolean"==typeof K&&(K=Number(K));if(L<0||this.length<L||this.length<se)throw new RangeError("Out of range index");var Fe;if(!(se<=L))if(L>>>=0,se=void 0===se?this.length:se>>>0,"number"==typeof(K=K||0))for(Fe=L;Fe<se;++Fe)this[Fe]=K;else{var We=i.isBuffer(K)?K:i.from(K,pe),tt=We.length;if(0===tt)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(Fe=0;Fe<se-L;++Fe)this[Fe+L]=We[Fe%tt]}return this};var z=/[^+/0-9A-Za-z-_]/g;function te(K,L){L=L||1/0;for(var se,pe=K.length,Ce=null,Fe=[],We=0;We<pe;++We){if(55295<(se=K.charCodeAt(We))&&se<57344){if(!Ce){if(56319<se){-1<(L-=3)&&Fe.push(239,191,189);continue}if(We+1===pe){-1<(L-=3)&&Fe.push(239,191,189);continue}Ce=se;continue}if(se<56320){-1<(L-=3)&&Fe.push(239,191,189),Ce=se;continue}se=65536+(Ce-55296<<10|se-56320)}else Ce&&-1<(L-=3)&&Fe.push(239,191,189);if(Ce=null,se<128){if(--L<0)break;Fe.push(se)}else if(se<2048){if((L-=2)<0)break;Fe.push(se>>6|192,63&se|128)}else if(se<65536){if((L-=3)<0)break;Fe.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;Fe.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return Fe}function J(K){return _.toByteArray(function(L){if((L=(L=L.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L}(K))}function q(K,L,se,pe){for(var Ce=0;Ce<pe&&!(Ce+se>=L.length||Ce>=K.length);++Ce)L[Ce+se]=K[Ce];return Ce}function ne(K,L){return K instanceof L||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===L.name}function fe(K){return K!=K}var De=function(){for(var K="0123456789abcdef",L=new Array(256),se=0;se<16;++se)for(var pe=16*se,Ce=0;Ce<16;++Ce)L[pe+Ce]=K[se]+K[Ce];return L}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(o,$,S){$.exports=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(o,$,S){var v=o("../internals/is-object");$.exports=function(_){if(v(_)||null===_)return _;throw TypeError("Can't set "+String(_)+" as a prototype")}},{"../internals/is-object":75}],7:[function(h,$,S){var v=h("../internals/well-known-symbol"),_=h("../internals/object-create"),f=(h=h("../internals/object-define-property"),v("unscopables")),x=Array.prototype;null==x[f]&&h.f(x,f,{configurable:!0,value:_(null)}),$.exports=function(w){x[f][w]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(o,$,S){"use strict";var v=o("../internals/string-multibyte").charAt;$.exports=function(_,h,f){return h+(f?v(_,h).length:1)}},{"../internals/string-multibyte":124}],9:[function(o,$,S){$.exports=function(v,_,h){if(v instanceof _)return v;throw TypeError("Incorrect "+(h?h+" ":"")+"invocation")}},{}],10:[function(o,$,S){var v=o("../internals/is-object");$.exports=function(_){if(v(_))return _;throw TypeError(String(_)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,$,S){$.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(I,$,S){"use strict";function v(Y){return w(Y)&&i(W,a(Y))}var _,h=I("../internals/array-buffer-native"),f=I("../internals/descriptors"),x=I("../internals/global"),w=I("../internals/is-object"),i=I("../internals/has"),a=I("../internals/classof"),d=I("../internals/create-non-enumerable-property"),c=I("../internals/redefine"),u=I("../internals/object-define-property").f,l=I("../internals/object-get-prototype-of"),m=I("../internals/object-set-prototype-of"),V=I("../internals/well-known-symbol"),p=(I=I("../internals/uid"),x.Int8Array),b=p&&p.prototype,M=(M=x.Uint8ClampedArray)&&M.prototype,F=p&&l(p),N=b&&l(b),P=Object.prototype,j=P.isPrototypeOf,k=(V=V("toStringTag"),I("TYPED_ARRAY_TAG")),E=h&&!!m&&"Opera"!==a(x.opera),W=(I=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(_ in W)x[_]||(E=!1);if((!E||"function"!=typeof F||F===Function.prototype)&&(F=function(){throw TypeError("Incorrect invocation")},E))for(_ in W)x[_]&&m(x[_],F);if((!E||!N||N===P)&&(N=F.prototype,E))for(_ in W)x[_]&&m(x[_].prototype,N);if(E&&l(M)!==N&&m(M,N),f&&!i(N,V))for(_ in I=!0,u(N,V,{get:function(){return w(this)?this[k]:void 0}}),W)x[_]&&d(x[_],k,_);$.exports={NATIVE_ARRAY_BUFFER_VIEWS:E,TYPED_ARRAY_TAG:I&&k,aTypedArray:function(Y){if(v(Y))return Y;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(Y){if(m){if(j.call(F,Y))return Y}else for(var z in W)if(i(W,_)&&(z=x[z])&&(Y===z||j.call(z,Y)))return Y;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(Y,z,te){if(f){if(te)for(var J in W)(J=x[J])&&i(J.prototype,Y)&&delete J.prototype[Y];N[Y]&&!te||c(N,Y,!te&&E&&b[Y]||z)}},exportTypedArrayStaticMethod:function(Y,z,te){var J,q;if(f){if(m){if(te)for(J in W)(q=x[J])&&i(q,Y)&&delete q[Y];if(F[Y]&&!te)return;try{return c(F,Y,!te&&E&&p[Y]||z)}catch{}}for(J in W)!(q=x[J])||q[Y]&&!te||c(q,Y,z)}},isView:function(Y){return"DataView"===(Y=a(Y))||i(W,Y)},isTypedArray:v,TypedArray:F,TypedArrayPrototype:N}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(se,$,S){"use strict";function v(je){return[255&je]}function _(je){return[255&je,je>>8&255]}function h(je){return[255&je,je>>8&255,je>>16&255,je>>24&255]}function f(je){return je[3]<<24|je[2]<<16|je[1]<<8|je[0]}function x(je){return Fe(je,23,4)}function w(je){return Fe(je,52,8)}function i(je,Qe){I(je[ne],Qe,{get:function(){return z(this)[Qe]}})}function a(Pt,Qe,yt,gt){if((yt=P(yt))+Qe>(Pt=z(Pt)).byteLength)throw Ce(fe);return Pt=z(Pt.buffer).bytes.slice(yt+=Pt.byteOffset,yt+Qe),gt?Pt:Pt.reverse()}function d(je,Qe,Ke,gt,ft,yt){if((Ke=P(Ke))+Qe>(je=z(je)).byteLength)throw Ce(fe);for(var Pt=z(je.buffer).bytes,Jt=Ke+je.byteOffset,Ft=gt(+ft),un=0;un<Qe;un++)Pt[Jt+un]=Ft[yt?un:Qe-un-1]}var c=se("../internals/global"),u=se("../internals/descriptors"),l=se("../internals/array-buffer-native"),m=se("../internals/create-non-enumerable-property"),p=se("../internals/redefine-all"),b=se("../internals/fails"),M=se("../internals/an-instance"),F=se("../internals/to-integer"),N=se("../internals/to-length"),P=se("../internals/to-index"),j=se("../internals/ieee754"),V=se("../internals/object-get-prototype-of"),k=se("../internals/object-set-prototype-of"),E=se("../internals/object-get-own-property-names").f,I=se("../internals/object-define-property").f,W=se("../internals/array-fill"),Y=se("../internals/set-to-string-tag"),z=(se=se("../internals/internal-state")).get,te=se.set,J="ArrayBuffer",q="DataView",ne="prototype",fe="Wrong index",De=c[J],K=De,L=c[q],pe=(se=L&&L[ne],Object.prototype),Ce=c.RangeError,Fe=j.pack,We=j.unpack;if(l){if(!b(function(){De(1)})||!b(function(){new De(-1)})||b(function(){return new De,new De(1.5),new De(NaN),De.name!=J})){c=(K=function(Ke){return M(this,K),new De(P(Ke))})[ne]=De[ne];for(var tt,Oe=E(De),ke=0;Oe.length>ke;)(tt=Oe[ke++])in K||m(K,tt,De[tt]);c.constructor=K}k&&V(se)!==pe&&k(se,pe),j=new L(new K(2));var Be=se.setInt8;j.setInt8(0,2147483648),j.setInt8(1,2147483649),!j.getInt8(0)&&j.getInt8(1)||p(se,{setInt8:function(Qe,Ke){Be.call(this,Qe,Ke<<24>>24)},setUint8:function(Qe,Ke){Be.call(this,Qe,Ke<<24>>24)}},{unsafe:!0})}else K=function(je){M(this,K,J),je=P(je),te(this,{bytes:W.call(new Array(je),0),byteLength:je}),u||(this.byteLength=je)},L=function(je,ft,Ke){M(this,L,q),M(je,K,q);var gt=z(je).byteLength;if((ft=F(ft))<0||gt<ft)throw Ce("Wrong offset");if(gt<ft+(Ke=void 0===Ke?gt-ft:N(Ke)))throw Ce("Wrong length");te(this,{buffer:je,byteLength:Ke,byteOffset:ft}),u||(this.buffer=je,this.byteLength=Ke,this.byteOffset=ft)},u&&(i(K,"byteLength"),i(L,"buffer"),i(L,"byteLength"),i(L,"byteOffset")),p(L[ne],{getInt8:function(je){return a(this,1,je)[0]<<24>>24},getUint8:function(je){return a(this,1,je)[0]},getInt16:function(je){return((je=a(this,2,je,1<arguments.length?arguments[1]:void 0))[1]<<8|je[0])<<16>>16},getUint16:function(je){return(je=a(this,2,je,1<arguments.length?arguments[1]:void 0))[1]<<8|je[0]},getInt32:function(je){return f(a(this,4,je,1<arguments.length?arguments[1]:void 0))},getUint32:function(je){return f(a(this,4,je,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(je){return We(a(this,4,je,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(je){return We(a(this,8,je,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(je,Qe){d(this,1,je,v,Qe)},setUint8:function(je,Qe){d(this,1,je,v,Qe)},setInt16:function(je,Qe){d(this,2,je,_,Qe,2<arguments.length?arguments[2]:void 0)},setUint16:function(je,Qe){d(this,2,je,_,Qe,2<arguments.length?arguments[2]:void 0)},setInt32:function(je,Qe){d(this,4,je,h,Qe,2<arguments.length?arguments[2]:void 0)},setUint32:function(je,Qe){d(this,4,je,h,Qe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(je,Qe){d(this,4,je,x,Qe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(je,Qe){d(this,8,je,w,Qe,2<arguments.length?arguments[2]:void 0)}});Y(K,J),Y(L,q),$.exports={ArrayBuffer:K,DataView:L}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(o,$,S){"use strict";var v=o("../internals/to-object"),_=o("../internals/to-absolute-index"),h=o("../internals/to-length"),f=Math.min;$.exports=[].copyWithin||function(u,w){var i=v(this),a=h(i.length),d=_(u,a),c=_(w,a),l=f((void 0===(u=2<arguments.length?arguments[2]:void 0)?a:_(u,a))-c,a-d),m=1;for(c<d&&d<c+l&&(m=-1,c+=l-1,d+=l-1);0<l--;)c in i?i[d]=i[c]:delete i[d],d+=m,c+=m;return i}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(o,$,S){"use strict";var v=o("../internals/to-object"),_=o("../internals/to-absolute-index"),h=o("../internals/to-length");$.exports=function(f){for(var a,x=v(this),w=h(x.length),i=_(1<(a=arguments.length)?arguments[1]:void 0,w),d=void 0===(a=2<a?arguments[2]:void 0)?w:_(a,w);i<d;)x[i++]=f;return x}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(h,$,S){"use strict";var v=h("../internals/array-iteration").forEach,_=h("../internals/array-method-is-strict");h=h("../internals/array-method-uses-to-length"),_=_("forEach"),h=h("forEach"),$.exports=_&&h?[].forEach:function(f){return v(this,f,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,$,S){"use strict";var v=o("../internals/function-bind-context"),_=o("../internals/to-object"),h=o("../internals/call-with-safe-iteration-closing"),f=o("../internals/is-array-iterator-method"),x=o("../internals/to-length"),w=o("../internals/create-property"),i=o("../internals/get-iterator-method");$.exports=function(M){var d,c,u,l,m,p,b=_(M),F=(M="function"==typeof this?this:Array,arguments.length),N=1<F?arguments[1]:void 0,P=void 0!==N,j=i(b),V=0;if(P&&(N=v(N,2<F?arguments[2]:void 0,2)),null==j||M==Array&&f(j))for(c=new M(d=x(b.length));V<d;V++)p=P?N(b[V],V):b[V],w(c,V,p);else for(m=(l=j.call(b)).next,c=new M;!(u=m.call(l)).done;V++)p=P?h(l,N,[u.value,V],!0):u.value,w(c,V,p);return c.length=V,c}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(o,$,S){function v(x){return function(w,i,a){var d,c=_(w),u=h(c.length),l=f(a,u);if(x&&i!=i){for(;l<u;)if((d=c[l++])!=d)return!0}else for(;l<u;l++)if((x||l in c)&&c[l]===i)return x||l||0;return!x&&-1}}var _=o("../internals/to-indexed-object"),h=o("../internals/to-length"),f=o("../internals/to-absolute-index");$.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(o,$,S){function v(a){var d=1==a,c=2==a,u=3==a,l=4==a,m=6==a,p=5==a||m;return function(b,M,F,N){for(var P,j,V=f(b),k=h(V),E=_(M,F,3),I=x(k.length),W=0,Y=(M=N||w,d?M(b,I):c?M(b,0):void 0);W<I;W++)if((p||W in k)&&(j=E(P=k[W],W,V),a))if(d)Y[W]=j;else if(j)switch(a){case 3:return!0;case 5:return P;case 6:return W;case 2:i.call(Y,P)}else if(l)return!1;return m?-1:u||l?l:Y}}var _=o("../internals/function-bind-context"),h=o("../internals/indexed-object"),f=o("../internals/to-object"),x=o("../internals/to-length"),w=o("../internals/array-species-create"),i=[].push;$.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(a,$,S){"use strict";var v=a("../internals/to-indexed-object"),_=a("../internals/to-integer"),h=a("../internals/to-length"),i=a("../internals/array-method-is-strict"),f=(a=a("../internals/array-method-uses-to-length"),Math.min),x=[].lastIndexOf,w=!!x&&1/[1].lastIndexOf(1,-0)<0;i=i("lastIndexOf"),a=a("indexOf",{ACCESSORS:!0,1:0}),$.exports=!w&&i&&a?x:function(d){if(w)return x.apply(this,arguments)||0;var c=v(this),u=h(c.length),l=u-1;for((l=1<arguments.length?f(l,_(arguments[1])):l)<0&&(l=u+l);0<=l;l--)if(l in c&&c[l]===d)return l||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(o,$,S){var v=o("../internals/fails"),_=o("../internals/well-known-symbol"),h=o("../internals/engine-v8-version"),f=_("species");$.exports=function(x){return 51<=h||!v(function(){var w=[];return(w.constructor={})[f]=function(){return{foo:1}},1!==w[x](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(o,$,S){"use strict";var v=o("../internals/fails");$.exports=function(_,h){var f=[][_];return!!f&&v(function(){f.call(null,h||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,$,S){function v(i){throw i}var _=o("../internals/descriptors"),h=o("../internals/fails"),f=o("../internals/has"),x=Object.defineProperty,w={};$.exports=function(i,a){var d,c,u,l;return f(w,i)?w[i]:(d=[][i],c=!!f(a=a||{},"ACCESSORS")&&a.ACCESSORS,u=f(a,0)?a[0]:v,l=f(a,1)?a[1]:void 0,w[i]=!!d&&!h(function(){if(c&&!_)return!0;var m={length:-1};c?x(m,1,{enumerable:!0,get:v}):m[1]=1,d.call(m,u,l)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,$,S){function v(w){return function(i,a,d,c){_(a);var u=h(i),l=f(u),m=x(u.length),p=w?m-1:0,b=w?-1:1;if(d<2)for(;;){if(p in l){c=l[p],p+=b;break}if(p+=b,w?p<0:m<=p)throw TypeError("Reduce of empty array with no initial value")}for(;w?0<=p:p<m;p+=b)p in l&&(c=a(c,l[p],p,u));return c}}var _=o("../internals/a-function"),h=o("../internals/to-object"),f=o("../internals/indexed-object"),x=o("../internals/to-length");$.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(o,$,S){var v=o("../internals/is-object"),_=o("../internals/is-array"),h=o("../internals/well-known-symbol")("species");$.exports=function(f,x){var w;return new(void 0===(w=_(f)&&("function"==typeof(w=f.constructor)&&(w===Array||_(w.prototype))||v(w)&&null===(w=w[h]))?void 0:w)?Array:w)(0===x?0:x)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(o,$,S){var v=o("../internals/an-object");$.exports=function(_,h,f,x){try{return x?h(v(f)[0],f[1]):h(f)}catch(w){throw void 0!==(x=_.return)&&v(x.call(_)),w}}},{"../internals/an-object":10}],27:[function(o,$,S){var v=o("../internals/well-known-symbol")("iterator"),_=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){_=!0}};f[v]=function(){return this},Array.from(f,function(){throw 2})}catch{}$.exports=function(x,w){if(!w&&!_)return!1;var i=!1;try{var a={};a[v]=function(){return{next:function(){return{done:i=!0}}}},x(a)}catch{}return i}},{"../internals/well-known-symbol":149}],28:[function(o,$,S){var v={}.toString;$.exports=function(_){return v.call(_).slice(8,-1)}},{}],29:[function(o,$,S){var v=o("../internals/to-string-tag-support"),_=o("../internals/classof-raw"),h=o("../internals/well-known-symbol")("toStringTag"),f="Arguments"==_(function(){return arguments}());$.exports=v?_:function(x){var w;return void 0===x?"Undefined":null===x?"Null":"string"==typeof(w=function(i,a){try{return i[a]}catch{}}(x=Object(x),h))?w:f?_(x):"Object"==(w=_(x))&&"function"==typeof x.callee?"Arguments":w}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(u,$,S){"use strict";var v=u("../internals/object-define-property").f,_=u("../internals/object-create"),h=u("../internals/redefine-all"),f=u("../internals/function-bind-context"),x=u("../internals/an-instance"),w=u("../internals/iterate"),i=u("../internals/define-iterator"),a=u("../internals/set-species"),d=u("../internals/descriptors"),c=u("../internals/internal-metadata").fastKey,l=(u=u("../internals/internal-state")).set,m=u.getterFor;$.exports={getConstructor:function(p,b,M,F){function N(k,E,I){var W,Y=V(k),z=P(k,E);return z?z.value=I:(Y.last=z={index:W=c(E,!0),key:E,value:I,previous:E=Y.last,next:void 0,removed:!1},Y.first||(Y.first=z),E&&(E.next=z),d?Y.size++:k.size++,"F"!==W&&(Y.index[W]=z)),k}function P(W,E){W=V(W);var I,Y=c(E);if("F"!==Y)return W.index[Y];for(I=W.first;I;I=I.next)if(I.key==E)return I}var j=p(function(k,E){x(k,j,b),l(k,{type:b,index:_(null),first:void 0,last:void 0,size:0}),d||(k.size=0),null!=E&&w(E,k[F],k,M)}),V=m(b);return h(j.prototype,{clear:function(){for(var k=V(this),E=k.index,I=k.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=void 0),delete E[I.index],I=I.next;k.first=k.last=void 0,d?k.size=0:this.size=0},delete:function(Y){var E,I,W=V(this);return(Y=P(this,Y))&&(E=Y.next,I=Y.previous,delete W.index[Y.index],Y.removed=!0,I&&(I.next=E),E&&(E.previous=I),W.first==Y&&(W.first=E),W.last==Y&&(W.last=I),d?W.size--:this.size--),!!Y},forEach:function(k){for(var E,I=V(this),W=f(k,1<arguments.length?arguments[1]:void 0,3);E=E?E.next:I.first;)for(W(E.value,E.key,this);E&&E.removed;)E=E.previous},has:function(k){return!!P(this,k)}}),h(j.prototype,M?{get:function(k){return(k=P(this,k))&&k.value},set:function(k,E){return N(this,0===k?0:k,E)}}:{add:function(k){return N(this,k=0===k?0:k,k)}}),d&&v(j.prototype,"size",{get:function(){return V(this).size}}),j},setStrong:function(p,b,M){var F=b+" Iterator",N=m(b),P=m(F);i(p,b,function(j,V){l(this,{type:F,target:j,state:N(j),kind:V,last:void 0})},function(){for(var j=P(this),V=j.kind,k=j.last;k&&k.removed;)k=k.previous;return j.target&&(j.last=k=k?k.next:j.state.first)?"keys"==V?{value:k.key,done:!1}:"values"==V?{value:k.value,done:!1}:{value:[k.key,k.value],done:!1}:{value:j.target=void 0,done:!0}},M?"entries":"values",!M,!0),a(b)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(l,$,S){"use strict";function v(N){return N.frozen||(N.frozen=new _)}function _(){this.entries=[]}function h(N,P){return b(N.entries,function(j){return j[0]===P})}var f=l("../internals/redefine-all"),x=l("../internals/internal-metadata").getWeakData,w=l("../internals/an-object"),i=l("../internals/is-object"),a=l("../internals/an-instance"),d=l("../internals/iterate"),c=l("../internals/array-iteration"),u=l("../internals/has"),m=(l=l("../internals/internal-state")).set,p=l.getterFor,b=c.find,M=c.findIndex,F=0;_.prototype={get:function(N){if(N=h(this,N))return N[1]},has:function(N){return!!h(this,N)},set:function(N,P){var j=h(this,N);j?j[1]=P:this.entries.push([N,P])},delete:function(N){var P=M(this.entries,function(j){return j[0]===N});return~P&&this.entries.splice(P,1),!!~P}},$.exports={getConstructor:function(N,P,j,V){function k(W,Y,z){var te=I(W),J=x(w(Y),!0);return!0===J?v(te).set(Y,z):J[te.id]=z,W}var E=N(function(W,Y){a(W,E,P),m(W,{type:P,id:F++,frozen:void 0}),null!=Y&&d(Y,W[V],W,j)}),I=p(P);return f(E.prototype,{delete:function(W){var Y,z=I(this);return!!i(W)&&(!0===(Y=x(W))?v(z).delete(W):Y&&u(Y,z.id)&&delete Y[z.id])},has:function(W){var Y,z=I(this);return!!i(W)&&(!0===(Y=x(W))?v(z).has(W):Y&&u(Y,z.id))}}),f(E.prototype,j?{get:function(W){var Y,z=I(this);if(i(W))return!0===(Y=x(W))?v(z).get(W):Y?Y[z.id]:void 0},set:function(W,Y){return k(this,W,Y)}}:{add:function(W){return k(this,W,!0)}}),E}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(o,$,S){"use strict";var v=o("../internals/export"),_=o("../internals/global"),h=o("../internals/is-forced"),f=o("../internals/redefine"),x=o("../internals/internal-metadata"),w=o("../internals/iterate"),i=o("../internals/an-instance"),a=o("../internals/is-object"),d=o("../internals/fails"),c=o("../internals/check-correctness-of-iteration"),u=o("../internals/set-to-string-tag"),l=o("../internals/inherit-if-required");$.exports=function(m,p,b){function M(J){var q=Y[J];f(Y,J,"add"==J?function(ne){return q.call(this,0===ne?0:ne),this}:"delete"==J?function(ne){return!(E&&!a(ne))&&q.call(this,0===ne?0:ne)}:"get"==J?function(ne){return E&&!a(ne)?void 0:q.call(this,0===ne?0:ne)}:"has"==J?function(ne){return!(E&&!a(ne))&&q.call(this,0===ne?0:ne)}:function(ne,fe){return q.call(this,0===ne?0:ne,fe),this})}var F,N,P,j,V,k=-1!==m.indexOf("Map"),E=-1!==m.indexOf("Weak"),I=k?"set":"add",W=_[m],Y=W&&W.prototype,z=W,te={};return h(m,"function"!=typeof W||!(E||Y.forEach&&!d(function(){(new W).entries().next()})))?(z=b.getConstructor(p,m,k,I),x.REQUIRED=!0):h(m,!0)&&(N=(F=new z)[I](E?{}:-0,1)!=F,P=d(function(){F.has(1)}),j=c(function(J){new W(J)}),V=!E&&d(function(){for(var J=new W,q=5;q--;)J[I](q,q);return!J.has(-0)}),j||(((z=p(function(J,q){return i(J,z,m),J=l(new W,J,z),null!=q&&w(q,J[I],J,k),J})).prototype=Y).constructor=z),(P||V)&&(M("delete"),M("has"),k&&M("get")),(V||N)&&M(I),E&&Y.clear&&delete Y.clear),te[m]=z,v({global:!0,forced:z!=W},te),u(z,m),E||b.setStrong(z,m,k),z}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(o,$,S){var v=o("../internals/has"),_=o("../internals/own-keys"),h=o("../internals/object-get-own-property-descriptor"),f=o("../internals/object-define-property");$.exports=function(x,w){for(var i=_(w),a=f.f,d=h.f,c=0;c<i.length;c++){var u=i[c];v(x,u)||a(x,u,d(w,u))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(o,$,S){var v=o("../internals/well-known-symbol")("match");$.exports=function(_){var h=/./;try{"/./"[_](h)}catch{try{return h[v]=!1,"/./"[_](h)}catch{}}return!1}},{"../internals/well-known-symbol":149}],35:[function(o,$,S){o=o("../internals/fails"),$.exports=!o(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(o,$,S){var v=o("../internals/require-object-coercible"),_=/"/g;$.exports=function(i,f,x,w){i=String(v(i));var a="<"+f;return""!==x&&(a+=" "+x+'="'+String(w).replace(_,"&quot;")+'"'),a+">"+i+"</"+f+">"}},{"../internals/require-object-coercible":114}],37:[function(o,$,S){"use strict";function v(){return this}var _=o("../internals/iterators-core").IteratorPrototype,h=o("../internals/object-create"),f=o("../internals/create-property-descriptor"),x=o("../internals/set-to-string-tag"),w=o("../internals/iterators");$.exports=function(i,a,d){return a+=" Iterator",i.prototype=h(_,{next:f(1,d)}),x(i,a,!1,!0),w[a]=v,i}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(o,$,S){var v=o("../internals/descriptors"),_=o("../internals/object-define-property"),h=o("../internals/create-property-descriptor");$.exports=v?function(f,x,w){return _.f(f,x,h(1,w))}:function(f,x,w){return f[x]=w,f}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,$,S){$.exports=function(v,_){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:_}}},{}],40:[function(o,$,S){"use strict";var v=o("../internals/to-primitive"),_=o("../internals/object-define-property"),h=o("../internals/create-property-descriptor");$.exports=function(f,x,w){(x=v(x))in f?_.f(f,x,h(0,w)):f[x]=w}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(l,$,S){"use strict";function v(){return this}var _=l("../internals/export"),h=l("../internals/create-iterator-constructor"),f=l("../internals/object-get-prototype-of"),x=l("../internals/object-set-prototype-of"),w=l("../internals/set-to-string-tag"),i=l("../internals/create-non-enumerable-property"),a=l("../internals/redefine"),d=l("../internals/well-known-symbol"),c=l("../internals/is-pure"),u=l("../internals/iterators"),m=(l=l("../internals/iterators-core")).IteratorPrototype,p=l.BUGGY_SAFARI_ITERATORS,b=d("iterator"),M="values",F="entries";$.exports=function(N,P,j,te,k,E,I){function W(K){if(K===k&&fe)return fe;if(!p&&K in q)return q[K];switch(K){case"keys":case M:case F:return function(){return new j(this,K)}}return function(){return new j(this)}}h(j,P,te),te=P+" Iterator";var Y,z,J=!1,q=N.prototype,ne=q[b]||q["@@iterator"]||k&&q[k],fe=!p&&ne||W(k),De="Array"==P&&q.entries||ne;if(De&&(De=f(De.call(new N)),m!==Object.prototype&&De.next&&(c||f(De)===m||(x?x(De,m):"function"!=typeof De[b]&&i(De,b,v)),w(De,te,!0,!0),c&&(u[te]=v))),k==M&&ne&&ne.name!==M&&(J=!0,fe=function(){return ne.call(this)}),c&&!I||q[b]===fe||i(q,b,fe),u[P]=fe,k)if(Y={values:W(M),keys:E?fe:W("keys"),entries:W(F)},I)for(z in Y)!p&&!J&&z in q||a(q,z,Y[z]);else _({target:P,proto:!0,forced:p||J},Y);return Y}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(o,$,S){var v=o("../internals/path"),_=o("../internals/has"),h=o("../internals/well-known-symbol-wrapped"),f=o("../internals/object-define-property").f;$.exports=function(x){var w=v.Symbol||(v.Symbol={});_(w,x)||f(w,x,{value:h.f(x)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(o,$,S){o=o("../internals/fails"),$.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(_,$,S){var v=_("../internals/global"),h=(_=_("../internals/is-object"),v.document),f=_(h)&&_(h.createElement);$.exports=function(x){return f?h.createElement(x):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,$,S){$.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,$,S){o=o("../internals/engine-user-agent"),$.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,$,S){o=o("../internals/get-built-in"),$.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(h,$,S){var v,_,f=h("../internals/global");h=h("../internals/engine-user-agent"),(f=(f=(f=f.process)&&f.versions)&&f.v8)?_=(v=f.split("."))[0]+v[1]:h&&(!(v=h.match(/Edge\/(\d+)/))||74<=v[1])&&(v=h.match(/Chrome\/(\d+)/))&&(_=v[1]),$.exports=_&&+_},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,$,S){$.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,$,S){var v=o("../internals/global"),_=o("../internals/object-get-own-property-descriptor").f,h=o("../internals/create-non-enumerable-property"),f=o("../internals/redefine"),x=o("../internals/set-global"),w=o("../internals/copy-constructor-properties"),i=o("../internals/is-forced");$.exports=function(a,d){var c,u,l,m=a.target,p=a.global,b=a.stat,M=p?v:b?v[m]||x(m,{}):(v[m]||{}).prototype;if(M)for(c in d){if(u=d[c],l=a.noTargetGet?(l=_(M,c))&&l.value:M[c],!i(p?c:m+(b?".":"#")+c,a.forced)&&void 0!==l){if(typeof u==typeof l)continue;w(u,l)}(a.sham||l&&l.sham)&&h(u,"sham",!0),f(M,c,u,a)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(o,$,S){$.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(d,$,S){"use strict";d("../modules/es.regexp.exec");var v=d("../internals/redefine"),_=d("../internals/fails"),h=d("../internals/well-known-symbol"),f=d("../internals/regexp-exec"),x=d("../internals/create-non-enumerable-property"),w=h("species"),i=!_(function(){var l=/./;return l.exec=function(){var m=[];return m.groups={a:"7"},m},"7"!=="".replace(l,"$<a>")}),a="$0"==="a".replace(/./,"$0"),c=!!/./[d=h("replace")]&&""===/./[d]("a","$0"),u=!_(function(){var l=(m=/(?:)/).exec,m=(m.exec=function(){return l.apply(this,arguments)},"ab".split(m));return 2!==m.length||"a"!==m[0]||"b"!==m[1]});$.exports=function(l,m,p,b){var M,F,N=h(l),P=!_(function(){var V={};return V[N]=function(){return 7},7!=""[l](V)}),j=P&&!_(function(){var V=!1,k=/a/;return"split"===l&&((k={constructor:{}}).constructor[w]=function(){return k},k.flags="",k[N]=/./[N]),k.exec=function(){return V=!0,null},k[N](""),!V});P&&j&&("replace"!==l||i&&a&&!c)&&("split"!==l||u)||(M=/./[N],p=(j=p(N,""[l],function(V,k,E,I,W){return k.exec===f?P&&!W?{done:!0,value:M.call(k,E,I)}:{done:!0,value:V.call(E,k,I)}:{done:!1}},{REPLACE_KEEPS_$0:a,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:c}))[0],F=j[1],v(String.prototype,l,p),v(RegExp.prototype,N,2==m?function(V,k){return F.call(V,this,k)}:function(V){return F.call(V,this)})),b&&x(RegExp.prototype[N],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(o,$,S){"use strict";var _=o("../internals/is-array"),h=o("../internals/to-length"),f=o("../internals/function-bind-context");$.exports=function v(x,w,i,a,d,c,u,l){for(var m,p=d,b=0,M=!!u&&f(u,l,3);b<a;){if(b in i){if(m=M?M(i[b],b,w):i[b],0<c&&_(m))p=v(x,w,m,h(m.length),p,c-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");x[p]=m}p++}b++}return p}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(o,$,S){o=o("../internals/fails"),$.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,$,S){var v=o("../internals/a-function");$.exports=function(_,h,f){if(v(_),void 0===h)return _;switch(f){case 0:return function(){return _.call(h)};case 1:return function(x){return _.call(h,x)};case 2:return function(x,w){return _.call(h,x,w)};case 3:return function(x,w,i){return _.call(h,x,w,i)}}return function(){return _.apply(h,arguments)}}},{"../internals/a-function":5}],56:[function(o,$,S){"use strict";var v=o("../internals/a-function"),_=o("../internals/is-object"),h=[].slice,f={};$.exports=Function.bind||function(x){var w=v(this),i=h.call(arguments,1),a=function(){var d=i.concat(h.call(arguments));if(this instanceof a){var c=w,u=d.length,l=d;if(!(u in f)){for(var m=[],p=0;p<u;p++)m[p]="a["+p+"]";f[u]=Function("C,a","return new C("+m.join(",")+")")}return f[u](c,l)}return w.apply(x,d)};return _(w.prototype)&&(a.prototype=w.prototype),a}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,$,S){function v(f){return"function"==typeof f?f:void 0}var _=o("../internals/path"),h=o("../internals/global");$.exports=function(f,x){return arguments.length<2?v(_[f])||v(h[f]):_[f]&&_[f][x]||h[f]&&h[f][x]}},{"../internals/global":60,"../internals/path":105}],58:[function(o,$,S){var v=o("../internals/classof"),_=o("../internals/iterators"),h=o("../internals/well-known-symbol")("iterator");$.exports=function(f){if(null!=f)return f[h]||f["@@iterator"]||_[v(f)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(o,$,S){var v=o("../internals/an-object"),_=o("../internals/get-iterator-method");$.exports=function(h){var f=_(h);if("function"!=typeof f)throw TypeError(String(h)+" is not iterable");return v(f.call(h))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,$,S){(function(v){function _(h){return h&&h.Math==Math&&h}$.exports=_("object"==typeof globalThis&&globalThis)||_("object"==typeof window&&window)||_("object"==typeof self&&self)||_("object"==typeof v&&v)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,$,S){var v={}.hasOwnProperty;$.exports=function(_,h){return v.call(_,h)}},{}],62:[function(o,$,S){$.exports={}},{}],63:[function(o,$,S){var v=o("../internals/global");$.exports=function(_,h){var f=v.console;f&&f.error&&(1===arguments.length?f.error(_):f.error(_,h))}},{"../internals/global":60}],64:[function(o,$,S){o=o("../internals/get-built-in"),$.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,$,S){var v=o("../internals/descriptors"),_=o("../internals/fails"),h=o("../internals/document-create-element");$.exports=!v&&!_(function(){return 7!=Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,$,S){var v=Math.abs,_=Math.pow,h=Math.floor,f=Math.log,x=Math.LN2;$.exports={pack:function(w,i,p){var d,c,u,l=new Array(p),m=8*p-i-1,b=(p=(1<<m)-1)>>1,M=23===i?_(2,-24)-_(2,-77):0,F=w<0||0===w&&1/w<0?1:0,N=0;for((w=v(w))!=w||w===1/0?(c=w!=w?1:0,d=p):(d=h(f(w)/x),w*(u=_(2,-d))<1&&(d--,u*=2),2<=(w+=1<=d+b?M/u:M*_(2,1-b))*u&&(d++,u/=2),p<=d+b?(c=0,d=p):1<=d+b?(c=(w*u-1)*_(2,i),d+=b):(c=w*_(2,b-1)*_(2,i),d=0));8<=i;l[N++]=255&c,c/=256,i-=8);for(d=d<<i|c,m+=i;0<m;l[N++]=255&d,d/=256,m-=8);return l[--N]|=128*F,l},unpack:function(w,i){var a,p,d=w.length,c=(1<<(p=8*d-i-1))-1,u=c>>1,l=p-7,m=d-1,b=127&(p=w[m--]);for(p>>=7;0<l;b=256*b+w[m],m--,l-=8);for(a=b&(1<<-l)-1,b>>=-l,l+=i;0<l;a=256*a+w[m],m--,l-=8);if(0===b)b=1-u;else{if(b===c)return a?NaN:p?-1/0:1/0;a+=_(2,i),b-=u}return(p?-1:1)*a*_(2,b-i)}}},{}],67:[function(o,$,S){var v=o("../internals/fails"),_=o("../internals/classof-raw"),h="".split;$.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return"String"==_(f)?h.call(f,""):Object(f)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,$,S){var v=o("../internals/is-object"),_=o("../internals/object-set-prototype-of");$.exports=function(h,f,x){return _&&"function"==typeof(f=f.constructor)&&f!==x&&v(f=f.prototype)&&f!==x.prototype&&_(h,f),h}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(v,$,S){v=v("../internals/shared-store");var _=Function.toString;"function"!=typeof v.inspectSource&&(v.inspectSource=function(h){return _.call(h)}),$.exports=v.inspectSource},{"../internals/shared-store":120}],70:[function(o,$,S){function v(l){x(l,a,{value:{objectID:"O"+ ++d,weakData:{}}})}var _=o("../internals/hidden-keys"),h=o("../internals/is-object"),f=o("../internals/has"),x=o("../internals/object-define-property").f,w=o("../internals/uid"),i=o("../internals/freezing"),a=w("meta"),d=0,c=Object.isExtensible||function(){return!0},u=$.exports={REQUIRED:!1,fastKey:function(l,m){if(!h(l))return"symbol"==typeof l?l:("string"==typeof l?"S":"P")+l;if(!f(l,a)){if(!c(l))return"F";if(!m)return"E";v(l)}return l[a].objectID},getWeakData:function(l,m){if(!f(l,a)){if(!c(l))return!0;if(!m)return!1;v(l)}return l[a].weakData},onFreeze:function(l){return i&&u.REQUIRED&&c(l)&&!f(l,a)&&v(l),l}};_[a]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(p,$,S){var v,_,h,f,x,w,i,a,d=p("../internals/native-weak-map"),b=p("../internals/global"),c=p("../internals/is-object"),u=p("../internals/create-non-enumerable-property"),l=p("../internals/has"),m=p("../internals/shared-key");p=p("../internals/hidden-keys"),b=b.WeakMap,i=d?(v=new b,_=v.get,h=v.has,f=v.set,x=function(M,F){return f.call(v,M,F),F},w=function(M){return _.call(v,M)||{}},function(M){return h.call(v,M)}):(p[a=m("state")]=!0,x=function(M,F){return u(M,a,F),F},w=function(M){return l(M,a)?M[a]:{}},function(M){return l(M,a)}),$.exports={set:x,get:w,has:i,enforce:function(M){return i(M)?w(M):x(M,{})},getterFor:function(M){return function(F){if(c(F)&&(F=w(F)).type===M)return F;throw TypeError("Incompatible receiver, "+M+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(o,$,S){var v=o("../internals/well-known-symbol"),_=o("../internals/iterators"),h=v("iterator"),f=Array.prototype;$.exports=function(x){return void 0!==x&&(_.Array===x||f[h]===x)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(o,$,S){var v=o("../internals/classof-raw");$.exports=Array.isArray||function(_){return"Array"==v(_)}},{"../internals/classof-raw":28}],74:[function(o,$,S){function v(a,d){return(a=x[f(a)])==i||a!=w&&("function"==typeof d?_(d):!!d)}var _=o("../internals/fails"),h=/#|\.prototype\./,f=v.normalize=function(a){return String(a).replace(h,".").toLowerCase()},x=v.data={},w=v.NATIVE="N",i=v.POLYFILL="P";$.exports=v},{"../internals/fails":51}],75:[function(o,$,S){$.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},{}],76:[function(o,$,S){$.exports=!1},{}],77:[function(o,$,S){var v=o("../internals/is-object"),_=o("../internals/classof-raw"),h=o("../internals/well-known-symbol")("match");$.exports=function(f){var x;return v(f)&&(void 0!==(x=f[h])?!!x:"RegExp"==_(f))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(o,$,S){function v(a,d){this.stopped=a,this.result=d}var _=o("../internals/an-object"),h=o("../internals/is-array-iterator-method"),f=o("../internals/to-length"),x=o("../internals/function-bind-context"),w=o("../internals/get-iterator-method"),i=o("../internals/call-with-safe-iteration-closing");($.exports=function(a,d,c,u,l){var m,p,b,M,F,N,P=x(d,c,u?2:1);if(l)m=a;else{if("function"!=typeof(d=w(a)))throw TypeError("Target is not iterable");if(h(d)){for(p=0,b=f(a.length);p<b;p++)if((M=u?P(_(N=a[p])[0],N[1]):P(a[p]))&&M instanceof v)return M;return new v(!1)}m=d.call(a)}for(F=m.next;!(N=F.call(m)).done;)if("object"==typeof(M=i(m,P,N.value,u))&&M&&M instanceof v)return M;return new v(!1)}).stop=function(a){return new v(!0,a)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(w,$,S){"use strict";var v,_,h=w("../internals/object-get-prototype-of"),f=w("../internals/create-non-enumerable-property"),x=w("../internals/has"),i=w("../internals/well-known-symbol"),a=(w=w("../internals/is-pure"),i=i("iterator"),!1);[].keys&&("next"in(_=[].keys())?(h=h(h(_)))!==Object.prototype&&(v=h):a=!0),null==v&&(v={}),w||x(v,i)||f(v,i,function(){return this}),$.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:a}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(o,$,S){$.exports={}},{}],81:[function(o,$,S){$.exports=Math.sign||function(v){return 0==(v=+v)||v!=v?v:v<0?-1:1}},{}],82:[function(u,$,S){var v,_,h,f,x,w,i,a,d=u("../internals/global"),F=u("../internals/object-get-own-property-descriptor").f,M=u("../internals/classof-raw"),c=u("../internals/task").set,l=(u=u("../internals/engine-is-ios"),d.MutationObserver||d.WebKitMutationObserver),m=d.process,p=d.Promise,b="process"==M(m);M=F(d,"queueMicrotask"),(F=M&&M.value)||(v=function(){var N,P;for(b&&(N=m.domain)&&N.exit();_;){P=_.fn,_=_.next;try{P()}catch(j){throw _?f():h=void 0,j}}h=void 0,N&&N.enter()},f=b?function(){m.nextTick(v)}:l&&!u?(x=!0,w=document.createTextNode(""),new l(v).observe(w,{characterData:!0}),function(){w.data=x=!x}):p&&p.resolve?(i=p.resolve(void 0),a=i.then,function(){a.call(i,v)}):function(){c.call(d,v)}),$.exports=F||function(N){N={fn:N,next:void 0},h&&(h.next=N),_||(_=N,f()),h=N}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(o,$,S){o=o("../internals/global"),$.exports=o.Promise},{"../internals/global":60}],84:[function(o,$,S){o=o("../internals/fails"),$.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,$,S){var v=o("../internals/fails"),_=o("../internals/well-known-symbol"),h=o("../internals/is-pure"),f=_("iterator");$.exports=!v(function(){var x=new URL("b?a=1&b=2&c=3","http://a"),w=x.searchParams,i="";return x.pathname="c%20d",w.forEach(function(a,d){w.delete("b"),i+=d+a}),h&&!x.toJSON||!w.sort||"http://a/c%20d?a=1&c=3"!==x.href||"3"!==w.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!w[f]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(v,$,S){var _=v("../internals/global");v=v("../internals/inspect-source"),$.exports="function"==typeof(_=_.WeakMap)&&/native code/.test(v(_))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,$,S){"use strict";function v(h){var f,x;this.promise=new h(function(w,i){if(void 0!==f||void 0!==x)throw TypeError("Bad Promise constructor");f=w,x=i}),this.resolve=_(f),this.reject=_(x)}var _=o("../internals/a-function");$.exports.f=function(h){return new v(h)}},{"../internals/a-function":5}],88:[function(o,$,S){var v=o("../internals/is-regexp");$.exports=function(_){if(v(_))throw TypeError("The method doesn't accept regular expressions");return _}},{"../internals/is-regexp":77}],89:[function(o,$,S){var v=o("../internals/global").isFinite;$.exports=Number.isFinite||function(_){return"number"==typeof _&&v(_)}},{"../internals/global":60}],90:[function(o,$,S){"use strict";var v=o("../internals/descriptors"),_=o("../internals/fails"),h=o("../internals/object-keys"),f=o("../internals/object-get-own-property-symbols"),x=o("../internals/object-property-is-enumerable"),w=o("../internals/to-object"),i=o("../internals/indexed-object"),a=Object.assign,d=Object.defineProperty;$.exports=!a||_(function(){var c,u,l,m;return!(!v||1===a({b:1},a(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(u={},m="abcdefghijklmnopqrst",(c={})[l=Symbol()]=7,m.split("").forEach(function(p){u[p]=p}),7!=a({},c)[l]||h(a({},u)).join("")!=m)})?function(c,u){for(var l=w(c),m=arguments.length,p=1,b=f.f,M=x.f;p<m;)for(var F,N=i(arguments[p++]),P=b?h(N).concat(b(N)):h(N),j=P.length,V=0;V<j;)F=P[V++],v&&!M.call(N,F)||(l[F]=N[F]);return l}:a},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(d,$,S){function v(){}var _,h=d("../internals/an-object"),f=d("../internals/object-define-properties"),x=d("../internals/enum-bug-keys"),w=d("../internals/hidden-keys"),i=d("../internals/html"),a=d("../internals/document-create-element"),c=(d=d("../internals/shared-key"),"prototype"),u="script",l=d("IE_PROTO"),m=function(b){return"<"+u+">"+b+"</"+u+">"},p=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}p=_?((b=_).write(m("")),b.close(),M=b.parentWindow.Object,b=null,M):(b=a("iframe"),M="java"+u+":",b.style.display="none",i.appendChild(b),b.src=String(M),(M=b.contentWindow.document).open(),M.write(m("document.F=Object")),M.close(),M.F);for(var b,M,F=x.length;F--;)delete p[c][x[F]];return p()};w[l]=!0,$.exports=Object.create||function(b,M){var F;return null!==b?(v[c]=h(b),F=new v,v[c]=null,F[l]=b):F=p(),void 0===M?F:f(F,M)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(o,$,S){var v=o("../internals/descriptors"),_=o("../internals/object-define-property"),h=o("../internals/an-object"),f=o("../internals/object-keys");$.exports=v?Object.defineProperties:function(x,w){h(x);for(var i,a=f(w),d=a.length,c=0;c<d;)_.f(x,i=a[c++],w[i]);return x}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,$,S){var v=o("../internals/descriptors"),_=o("../internals/ie8-dom-define"),h=o("../internals/an-object"),f=o("../internals/to-primitive"),x=Object.defineProperty;S.f=v?x:function(w,i,a){if(h(w),i=f(i,!0),h(a),_)try{return x(w,i,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(w[i]=a.value),w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(o,$,S){var v=o("../internals/descriptors"),_=o("../internals/object-property-is-enumerable"),h=o("../internals/create-property-descriptor"),f=o("../internals/to-indexed-object"),x=o("../internals/to-primitive"),w=o("../internals/has"),i=o("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;S.f=v?a:function(d,c){if(d=f(d),c=x(c,!0),i)try{return a(d,c)}catch{}if(w(d,c))return h(!_.f.call(d,c),d[c])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(o,$,S){var v=o("../internals/to-indexed-object"),_=o("../internals/object-get-own-property-names").f,h={}.toString,f="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];$.exports.f=function(x){if(!f||"[object Window]"!=h.call(x))return _(v(x));try{return _(x)}catch{return f.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(o,$,S){var v=o("../internals/object-keys-internal"),_=o("../internals/enum-bug-keys").concat("length","prototype");S.f=Object.getOwnPropertyNames||function(h){return v(h,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,$,S){S.f=Object.getOwnPropertySymbols},{}],98:[function(f,$,S){var v=f("../internals/has"),_=f("../internals/to-object"),h=f("../internals/shared-key"),x=(f=f("../internals/correct-prototype-getter"),h("IE_PROTO")),w=Object.prototype;$.exports=f?Object.getPrototypeOf:function(i){return i=_(i),v(i,x)?i[x]:"function"==typeof i.constructor&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?w:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(o,$,S){var v=o("../internals/has"),_=o("../internals/to-indexed-object"),h=o("../internals/array-includes").indexOf,f=o("../internals/hidden-keys");$.exports=function(x,w){var i,a=_(x),d=0,c=[];for(i in a)!v(f,i)&&v(a,i)&&c.push(i);for(;w.length>d;)!v(a,i=w[d++])||~h(c,i)||c.push(i);return c}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(o,$,S){var v=o("../internals/object-keys-internal"),_=o("../internals/enum-bug-keys");$.exports=Object.keys||function(h){return v(h,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,$,S){"use strict";var v={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,h=_&&!v.call({1:2},1);S.f=h?function(f){return!!(f=_(this,f))&&f.enumerable}:v},{}],102:[function(o,$,S){var v=o("../internals/an-object"),_=o("../internals/a-possible-prototype");$.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,f=!1,x={};try{(h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(x,[]),f=x instanceof Array}catch{}return function(w,i){return v(w),_(i),f?h.call(w,i):w.__proto__=i,w}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,$,S){"use strict";var v=o("../internals/to-string-tag-support"),_=o("../internals/classof");$.exports=v?{}.toString:function(){return"[object "+_(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(o,$,S){var v=o("../internals/get-built-in"),_=o("../internals/object-get-own-property-names"),h=o("../internals/object-get-own-property-symbols"),f=o("../internals/an-object");$.exports=v("Reflect","ownKeys")||function(x){var w=_.f(f(x)),i=h.f;return i?w.concat(i(x)):w}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(o,$,S){o=o("../internals/global"),$.exports=o},{"../internals/global":60}],106:[function(o,$,S){$.exports=function(v){try{return{error:!1,value:v()}}catch(_){return{error:!0,value:_}}}},{}],107:[function(o,$,S){var v=o("../internals/an-object"),_=o("../internals/is-object"),h=o("../internals/new-promise-capability");$.exports=function(f,x){return v(f),_(x)&&x.constructor===f?x:((0,(f=h.f(f)).resolve)(x),f.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(o,$,S){var v=o("../internals/redefine");$.exports=function(_,h,f){for(var x in h)v(_,x,h[x],f);return _}},{"../internals/redefine":109}],109:[function(w,$,S){var v=w("../internals/global"),_=w("../internals/create-non-enumerable-property"),h=w("../internals/has"),f=w("../internals/set-global"),x=w("../internals/inspect-source"),i=(w=w("../internals/internal-state")).get,a=w.enforce,d=String(String).split("String");($.exports=function(c,u,l,M){var p=!!M&&!!M.unsafe,b=!!M&&!!M.enumerable;M=!!M&&!!M.noTargetGet,"function"==typeof l&&("string"!=typeof u||h(l,"name")||_(l,"name",u),a(l).source=d.join("string"==typeof u?u:"")),c===v?b?c[u]=l:f(u,l):(p?!M&&c[u]&&(b=!0):delete c[u],b?c[u]=l:_(c,u,l))})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||x(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(o,$,S){var v=o("./classof-raw"),_=o("./regexp-exec");$.exports=function(h,f){var x=h.exec;if("function"==typeof x){if("object"!=typeof(x=x.call(h,f)))throw TypeError("RegExp exec method returned something other than an Object or null");return x}if("RegExp"!==v(h))throw TypeError("RegExp#exec called on incompatible receiver");return _.call(h,f)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(f,$,S){"use strict";var v,_,h=f("./regexp-flags"),x=(f=f("./regexp-sticky-helpers"),RegExp.prototype.exec),w=String.prototype.replace,i=x,a=(_=/b*/g,x.call(v=/a/,"a"),x.call(_,"a"),0!==v.lastIndex||0!==_.lastIndex),d=f.UNSUPPORTED_Y||f.BROKEN_CARET,c=void 0!==/()??/.exec("")[1];$.exports=i=a||c||d?function(u){var l,m,p,b,M=this,F=d&&M.sticky,N=h.call(M),P=M.source,j=0,V=u;return F&&(-1===(N=N.replace("y","")).indexOf("g")&&(N+="g"),V=String(u).slice(M.lastIndex),0<M.lastIndex&&(!M.multiline||M.multiline&&"\n"!==u[M.lastIndex-1])&&(P="(?: "+P+")",V=" "+V,j++),m=new RegExp("^(?:"+P+")",N)),c&&(m=new RegExp("^"+P+"$(?!\\s)",N)),a&&(l=M.lastIndex),p=x.call(F?m:M,V),F?p?(p.input=p.input.slice(j),p[0]=p[0].slice(j),p.index=M.lastIndex,M.lastIndex+=p[0].length):M.lastIndex=0:a&&p&&(M.lastIndex=M.global?p.index+p[0].length:l),c&&p&&1<p.length&&w.call(p[0],m,function(){for(b=1;b<arguments.length-2;b++)void 0===arguments[b]&&(p[b]=void 0)}),p}:i},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(o,$,S){"use strict";var v=o("../internals/an-object");$.exports=function(){var _=v(this),h="";return _.global&&(h+="g"),_.ignoreCase&&(h+="i"),_.multiline&&(h+="m"),_.dotAll&&(h+="s"),_.unicode&&(h+="u"),_.sticky&&(h+="y"),h}},{"../internals/an-object":10}],113:[function(o,$,S){"use strict";function v(_,h){return RegExp(_,h)}o=o("./fails"),S.UNSUPPORTED_Y=o(function(){var _=v("a","y");return _.lastIndex=2,null!=_.exec("abcd")}),S.BROKEN_CARET=o(function(){var _=v("^r","gy");return _.lastIndex=2,null!=_.exec("str")})},{"./fails":51}],114:[function(o,$,S){$.exports=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v}},{}],115:[function(o,$,S){$.exports=Object.is||function(v,_){return v===_?0!==v||1/v==1/_:v!=v&&_!=_}},{}],116:[function(o,$,S){var v=o("../internals/global"),_=o("../internals/create-non-enumerable-property");$.exports=function(h,f){try{_(v,h,f)}catch{v[h]=f}return f}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(o,$,S){"use strict";var v=o("../internals/get-built-in"),_=o("../internals/object-define-property"),h=o("../internals/well-known-symbol"),f=o("../internals/descriptors"),x=h("species");$.exports=function(i){i=v(i),f&&i&&!i[x]&&(0,_.f)(i,x,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(o,$,S){var v=o("../internals/object-define-property").f,_=o("../internals/has"),h=o("../internals/well-known-symbol")("toStringTag");$.exports=function(f,x,w){f&&!_(f=w?f:f.prototype,h)&&v(f,h,{configurable:!0,value:x})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(o,$,S){var v=o("../internals/shared"),_=o("../internals/uid"),h=v("keys");$.exports=function(f){return h[f]||(h[f]=_(f))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(v,$,S){var h=v("../internals/global"),_=(v=v("../internals/set-global"),"__core-js_shared__");h=h[_]||v(_,{}),$.exports=h},{"../internals/global":60,"../internals/set-global":116}],121:[function(o,$,S){var v=o("../internals/is-pure"),_=o("../internals/shared-store");($.exports=function(h,f){return _[h]||(_[h]=void 0!==f?f:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(o,$,S){var v=o("../internals/an-object"),_=o("../internals/a-function"),h=o("../internals/well-known-symbol")("species");$.exports=function(w,x){return void 0===(w=v(w).constructor)||null==(w=v(w)[h])?x:_(w)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(o,$,S){var v=o("../internals/fails");$.exports=function(_){return v(function(){var h=""[_]('"');return h!==h.toLowerCase()||3<h.split('"').length})}},{"../internals/fails":51}],124:[function(o,$,S){function v(f){return function(a,d){a=String(h(a)),d=_(d);var i,c=a.length;return d<0||c<=d?f?"":void 0:(i=a.charCodeAt(d))<55296||56319<i||d+1===c||(c=a.charCodeAt(d+1))<56320||57343<c?f?a.charAt(d):i:f?a.slice(d,d+2):c-56320+(i-55296<<10)+65536}}var _=o("../internals/to-integer"),h=o("../internals/require-object-coercible");$.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(o,$,S){o=o("../internals/engine-user-agent"),$.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],126:[function(o,$,S){function v(w){return function(c,m,l){var u=(c=String(f(c))).length;return l=void 0===l?" ":String(l),(m=_(m))<=u||""==l?c:((u=h.call(l,x((m-=u)/l.length))).length>m&&(u=u.slice(0,m)),w?c+u:u+c)}}var _=o("../internals/to-length"),h=o("../internals/string-repeat"),f=o("../internals/require-object-coercible"),x=Math.ceil;$.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(o,$,S){"use strict";function v(p){return p+22+75*(p<26)}function _(p){var b,M=[],F=(p=function(ne){for(var fe=[],De=0,K=ne.length;De<K;){var L,se=ne.charCodeAt(De++);55296<=se&&se<=56319&&De<K?56320==(64512&(L=ne.charCodeAt(De++)))?fe.push(((1023&se)<<10)+(1023&L)+65536):(fe.push(se),De--):fe.push(se)}return fe}(p)).length,N=128,P=0,j=72;for(I=0;I<p.length;I++)(b=p[I])<128&&M.push(m(b));var V=M.length,k=V;for(V&&M.push("-");k<F;){for(var E=h,I=0;I<p.length;I++)N<=(b=p[I])&&b<E&&(E=b);var W=k+1;if(E-N>l((h-P)/W))throw RangeError(c);for(P+=(E-N)*W,N=E,I=0;I<p.length;I++){if((b=p[I])<N&&++P>h)throw RangeError(c);if(b==N){for(var Y=P,z=f;;z+=f){var te=z<=j?1:j+x<=z?x:z-j;if(Y<te)break;var J=Y-te,q=f-te;M.push(m(v(te+J%q))),Y=l(J/q)}M.push(m(v(Y))),j=function(ne,fe,De){var K=0;for(ne=De?l(ne/i):ne>>1,ne+=l(ne/fe);u*x>>1<ne;K+=f)ne=l(ne/u);return l(K+(u+1)*ne/(ne+w))}(P,W,k==V),P=0,++k}}++P,++N}return M.join("")}var h=2147483647,f=36,x=26,w=38,i=700,a=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",u=f-1,l=Math.floor,m=String.fromCharCode;$.exports=function(p){for(var b,M=[],F=p.toLowerCase().replace(d,".").split("."),N=0;N<F.length;N++)M.push(a.test(b=F[N])?"xn--"+_(b):b);return M.join(".")}},{}],128:[function(o,$,S){"use strict";var v=o("../internals/to-integer"),_=o("../internals/require-object-coercible");$.exports="".repeat||function(h){var f=String(_(this)),x="",w=v(h);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=1)&&(f+=f))1&w&&(x+=f);return x}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(o,$,S){var v=o("../internals/fails"),_=o("../internals/whitespaces");$.exports=function(h){return v(function(){return!!_[h]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[h]()||_[h].name!==h})}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(h,$,S){function v(w){return function(i){return i=String(_(i)),1&w&&(i=i.replace(f,"")),2&w?i.replace(x,""):i}}var _=h("../internals/require-object-coercible"),f=(h="["+h("../internals/whitespaces")+"]",RegExp("^"+h+h+"*")),x=RegExp(h+h+"*$");$.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(u,$,S){function v(k){return function(){V(k)}}function _(k){V(k.data)}function h(k){x.postMessage(k+"",l.protocol+"//"+l.host)}var f,x=u("../internals/global"),w=u("../internals/fails"),i=u("../internals/classof-raw"),a=u("../internals/function-bind-context"),d=u("../internals/html"),c=u("../internals/document-create-element"),l=(u=u("../internals/engine-is-ios"),x.location),m=x.setImmediate,p=x.clearImmediate,b=x.process,M=x.MessageChannel,F=x.Dispatch,N=0,P={},j="onreadystatechange",V=function(k){var E;P.hasOwnProperty(k)&&(E=P[k],delete P[k],E())};m&&p||(m=function(k){for(var E=[],I=1;I<arguments.length;)E.push(arguments[I++]);return P[++N]=function(){("function"==typeof k?k:Function(k)).apply(void 0,E)},f(N),N},p=function(k){delete P[k]},"process"==i(b)?f=function(k){b.nextTick(v(k))}:F&&F.now?f=function(k){F.now(v(k))}:M&&!u?(u=(i=new M).port2,i.port1.onmessage=_,f=a(u.postMessage,u,1)):!x.addEventListener||"function"!=typeof postMessage||x.importScripts||w(h)||"file:"===l.protocol?f=j in c("script")?function(k){d.appendChild(c("script"))[j]=function(){d.removeChild(this),V(k)}}:function(k){setTimeout(v(k),0)}:(f=h,x.addEventListener("message",_,!1))),$.exports={set:m,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(o,$,S){var v=o("../internals/classof-raw");$.exports=function(_){if("number"!=typeof _&&"Number"!=v(_))throw TypeError("Incorrect invocation");return+_}},{"../internals/classof-raw":28}],133:[function(o,$,S){var v=o("../internals/to-integer"),_=Math.max,h=Math.min;$.exports=function(f,x){return(f=v(f))<0?_(f+x,0):h(f,x)}},{"../internals/to-integer":136}],134:[function(o,$,S){var v=o("../internals/to-integer"),_=o("../internals/to-length");$.exports=function(f){if(void 0===f)return 0;f=v(f);var x=_(f);if(f!==x)throw RangeError("Wrong length or index");return x}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(o,$,S){var v=o("../internals/indexed-object"),_=o("../internals/require-object-coercible");$.exports=function(h){return v(_(h))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(o,$,S){var v=Math.ceil,_=Math.floor;$.exports=function(h){return isNaN(h=+h)?0:(0<h?_:v)(h)}},{}],137:[function(o,$,S){var v=o("../internals/to-integer"),_=Math.min;$.exports=function(h){return 0<h?_(v(h),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(o,$,S){var v=o("../internals/require-object-coercible");$.exports=function(_){return Object(v(_))}},{"../internals/require-object-coercible":114}],139:[function(o,$,S){var v=o("../internals/to-positive-integer");$.exports=function(_,h){if((_=v(_))%h)throw RangeError("Wrong offset");return _}},{"../internals/to-positive-integer":140}],140:[function(o,$,S){var v=o("../internals/to-integer");$.exports=function(_){if((_=v(_))<0)throw RangeError("The argument can't be less than 0");return _}},{"../internals/to-integer":136}],141:[function(o,$,S){var v=o("../internals/is-object");$.exports=function(_,h){if(!v(_))return _;var f,x;if(h&&"function"==typeof(f=_.toString)&&!v(x=f.call(_))||"function"==typeof(f=_.valueOf)&&!v(x=f.call(_))||!h&&"function"==typeof(f=_.toString)&&!v(x=f.call(_)))return x;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(o,$,S){var v={};v[o("../internals/well-known-symbol")("toStringTag")]="z",$.exports="[object z]"===String(v)},{"../internals/well-known-symbol":149}],143:[function(o,$,S){"use strict";function v(ft,yt){for(var Pt=0,Jt=yt.length,Ft=new(je(ft))(Jt);Pt<Jt;)Ft[Pt]=yt[Pt++];return Ft}function _(ft,yt){L(ft,yt,{get:function(){return De(this)[yt]}})}function h(ft){return ft instanceof Fe||"ArrayBuffer"==(ft=V(ft))||"SharedArrayBuffer"==ft}function f(ft,yt){return Qe(ft)&&"symbol"!=typeof yt&&yt in ft&&String(+yt)==String(yt)}function x(ft,yt){return f(ft,yt=P(yt,!0))?p(2,ft[yt]):se(ft,yt)}function w(ft,yt,Pt){return!(f(ft,yt=P(yt,!0))&&k(Pt)&&j(Pt,"value"))||j(Pt,"get")||j(Pt,"set")||Pt.configurable||j(Pt,"writable")&&!Pt.writable||j(Pt,"enumerable")&&!Pt.enumerable?L(ft,yt,Pt):(ft[yt]=Pt.value,ft)}var i=o("../internals/export"),a=o("../internals/global"),d=o("../internals/descriptors"),c=o("../internals/typed-array-constructors-require-wrappers"),u=o("../internals/array-buffer-view-core"),l=o("../internals/array-buffer"),m=o("../internals/an-instance"),p=o("../internals/create-property-descriptor"),b=o("../internals/create-non-enumerable-property"),M=o("../internals/to-length"),F=o("../internals/to-index"),N=o("../internals/to-offset"),P=o("../internals/to-primitive"),j=o("../internals/has"),V=o("../internals/classof"),k=o("../internals/is-object"),E=o("../internals/object-create"),I=o("../internals/object-set-prototype-of"),W=o("../internals/object-get-own-property-names").f,Y=o("../internals/typed-array-from"),z=o("../internals/array-iteration").forEach,te=o("../internals/set-species"),J=o("../internals/object-define-property"),q=o("../internals/object-get-own-property-descriptor"),ne=o("../internals/internal-state"),fe=o("../internals/inherit-if-required"),De=ne.get,K=ne.set,L=J.f,se=q.f,pe=Math.round,Ce=a.RangeError,Fe=l.ArrayBuffer,We=l.DataView,tt=u.NATIVE_ARRAY_BUFFER_VIEWS,Oe=u.TYPED_ARRAY_TAG,ke=u.TypedArray,Be=u.TypedArrayPrototype,je=u.aTypedArrayConstructor,Qe=u.isTypedArray,Ke="BYTES_PER_ELEMENT",gt="Wrong length";d?(tt||(q.f=x,J.f=w,_(Be,"buffer"),_(Be,"byteOffset"),_(Be,"byteLength"),_(Be,"length")),i({target:"Object",stat:!0,forced:!tt},{getOwnPropertyDescriptor:x,defineProperty:w}),$.exports=function(vt,yt,Pt){function Jt(wt,Re){L(wt,Re,{get:function(){var Ge=this,Te=Re;return(Ge=De(Ge)).view[sn](Te*Ft+Ge.byteOffset,!0)},set:function(Ge){var Te=this,et=Re;Te=De(Te),Pt&&(Ge=(Ge=pe(Ge))<0?0:255<Ge?255:255&Ge),Te.view[Yt](et*Ft+Te.byteOffset,Ge,!0)},enumerable:!0})}var Ft=vt.match(/\d+$/)[0]/8,un=vt+(Pt?"Clamped":"")+"Array",sn="get"+vt,Yt="set"+vt,kt=a[un],zt=kt,Ht=(vt=zt&&zt.prototype,{});tt?c&&(zt=yt(function(wt,Re,Ge,Te){return m(wt,zt,un),fe(k(Re)?h(Re)?void 0!==Te?new kt(Re,N(Ge,Ft),Te):void 0!==Ge?new kt(Re,N(Ge,Ft)):new kt(Re):Qe(Re)?v(zt,Re):Y.call(zt,Re):new kt(F(Re)),wt,zt)}),I&&I(zt,ke),z(W(kt),function(wt){wt in zt||b(zt,wt,kt[wt])}),zt.prototype=vt):(zt=yt(function(wt,Re,Ge,Te){m(wt,zt,un);var et,Et,Rt=0,Gt=0;if(k(Re)){if(!h(Re))return Qe(Re)?v(zt,Re):Y.call(zt,Re);var ln=Re;if(Gt=N(Ge,Ft),Ge=Re.byteLength,void 0===Te){if(Ge%Ft||(et=Ge-Gt)<0)throw Ce(gt)}else if(Ge<(et=M(Te)*Ft)+Gt)throw Ce(gt);Et=et/Ft}else Et=F(Re),ln=new Fe(et=Et*Ft);for(K(wt,{buffer:ln,byteOffset:Gt,byteLength:et,length:Et,view:new We(ln)});Rt<Et;)Jt(wt,Rt++)}),I&&I(zt,ke),vt=zt.prototype=E(Be)),vt.constructor!==zt&&b(vt,"constructor",zt),Oe&&b(vt,Oe,un),Ht[un]=zt,i({global:!0,forced:zt!=kt,sham:!tt},Ht),Ke in zt||b(zt,Ke,Ft),Ke in vt||b(vt,Ke,Ft),te(un)}):$.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(f,$,S){var v=f("../internals/global"),_=f("../internals/fails"),h=f("../internals/check-correctness-of-iteration"),x=(f=f("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v.ArrayBuffer),w=v.Int8Array;$.exports=!f||!_(function(){w(1)})||!_(function(){new w(-1)})||!h(function(i){new w,new w(null),new w(1.5),new w(i)},!0)||_(function(){return 1!==new w(new x(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(o,$,S){var v=o("../internals/to-object"),_=o("../internals/to-length"),h=o("../internals/get-iterator-method"),f=o("../internals/is-array-iterator-method"),x=o("../internals/function-bind-context"),w=o("../internals/array-buffer-view-core").aTypedArrayConstructor;$.exports=function(i){var a,d,c,u,l,m,p=v(i),b=arguments.length,M=1<b?arguments[1]:void 0,F=void 0!==M,N=h(p);if(null!=N&&!f(N))for(m=(l=N.call(p)).next,p=[];!(u=m.call(l)).done;)p.push(u.value);for(F&&2<b&&(M=x(M,arguments[2],2)),d=_(p.length),c=new(w(this))(d),a=0;a<d;a++)c[a]=F?M(p[a],a):p[a];return c}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(o,$,S){var v=0,_=Math.random();$.exports=function(h){return"Symbol("+String(void 0===h?"":h)+")_"+(++v+_).toString(36)}},{}],147:[function(o,$,S){o=o("../internals/native-symbol"),$.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],148:[function(o,$,S){o=o("../internals/well-known-symbol"),S.f=o},{"../internals/well-known-symbol":149}],149:[function(w,$,S){var v=w("../internals/global"),_=w("../internals/shared"),h=w("../internals/has"),f=w("../internals/uid"),x=w("../internals/native-symbol"),i=(w=w("../internals/use-symbol-as-uid"),_("wks")),a=v.Symbol,d=w?a:a&&a.withoutSetter||f;$.exports=function(c){return h(i,c)||(i[c]=x&&h(a,c)?a[c]:d("Symbol."+c)),i[c]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(o,$,S){$.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],151:[function(h,$,S){"use strict";var v=h("../internals/export"),_=h("../internals/global"),x=h("../internals/array-buffer"),f=(h=h("../internals/set-species"),"ArrayBuffer");v({global:!0,forced:_[f]!==(x=x[f])},{ArrayBuffer:x}),h(f)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(p,$,S){"use strict";var v=p("../internals/export"),_=p("../internals/fails"),h=p("../internals/is-array"),f=p("../internals/is-object"),x=p("../internals/to-object"),w=p("../internals/to-length"),i=p("../internals/create-property"),a=p("../internals/array-species-create"),d=p("../internals/array-method-has-species-support"),m=p("../internals/well-known-symbol"),c=(p=p("../internals/engine-v8-version"),m("isConcatSpreadable")),u=9007199254740991,l="Maximum allowed index exceeded";m=51<=p||!_(function(){var b=[];return b[c]=!1,b.concat()[0]!==b}),p=d("concat"),v({target:"Array",proto:!0,forced:!m||!p},{concat:function(b){for(var M,F,N,P,j,V=x(this),k=a(V,0),E=0,I=-1,W=arguments.length;I<W;I++)if(j=void 0,f(P=N=-1===I?V:arguments[I])&&(void 0!==(j=P[c])?j:h(P))){if(F=w(N.length),u<E+F)throw TypeError(l);for(M=0;M<F;M++,E++)M in N&&i(k,E,N[M])}else{if(u<=E)throw TypeError(l);i(k,E++,N)}return k.length=E,k}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(h,$,S){var v=h("../internals/export"),_=h("../internals/array-copy-within");h=h("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{copyWithin:_}),h("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(f,$,S){"use strict";var v=f("../internals/export"),_=f("../internals/array-iteration").every,h=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),h=h("every"),f=f("every"),v({target:"Array",proto:!0,forced:!h||!f},{every:function(x){return _(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(h,$,S){var v=h("../internals/export"),_=h("../internals/array-fill");h=h("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{fill:_}),h("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(f,$,S){"use strict";var v=f("../internals/export"),_=f("../internals/array-iteration").filter,h=f("../internals/array-method-has-species-support");f=f("../internals/array-method-uses-to-length"),h=h("filter"),f=f("filter"),v({target:"Array",proto:!0,forced:!h||!f},{filter:function(x){return _(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(w,$,S){"use strict";var v=w("../internals/export"),_=w("../internals/array-iteration").findIndex,h=w("../internals/add-to-unscopables"),f=(w=w("../internals/array-method-uses-to-length"),"findIndex"),x=!0;w=w(f),f in[]&&Array(1)[f](function(){x=!1}),v({target:"Array",proto:!0,forced:x||!w},{findIndex:function(i){return _(this,i,1<arguments.length?arguments[1]:void 0)}}),h(f)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(o,$,S){"use strict";var v=o("../internals/export"),_=o("../internals/flatten-into-array"),h=o("../internals/to-object"),f=o("../internals/to-length"),x=o("../internals/a-function"),w=o("../internals/array-species-create");v({target:"Array",proto:!0},{flatMap:function(i){var a,d=h(this),c=f(d.length);return x(i),(a=w(d,0)).length=_(a,d,d,c,0,1,i,1<arguments.length?arguments[1]:void 0),a}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(o,$,S){"use strict";var v=o("../internals/export"),_=o("../internals/flatten-into-array"),h=o("../internals/to-object"),f=o("../internals/to-length"),x=o("../internals/to-integer"),w=o("../internals/array-species-create");v({target:"Array",proto:!0},{flat:function(){var i=arguments.length?arguments[0]:void 0,a=h(this),d=f(a.length),c=w(a,0);return c.length=_(c,a,a,d,0,void 0===i?1:x(i)),c}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(_,$,S){"use strict";var v=_("../internals/export");_=_("../internals/array-for-each"),v({target:"Array",proto:!0,forced:[].forEach!=_},{forEach:_})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(o,$,S){var v=o("../internals/export"),_=o("../internals/array-from");v({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(h){Array.from(h)})},{from:_})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(o,$,S){"use strict";var v=o("../internals/export"),_=o("../internals/array-includes").includes,h=o("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(f){return _(this,f,1<arguments.length?arguments[1]:void 0)}}),h("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(w,$,S){"use strict";var v=w("../internals/export"),_=w("../internals/array-includes").indexOf,x=w("../internals/array-method-is-strict"),h=(w=w("../internals/array-method-uses-to-length"),[].indexOf),f=!!h&&1/[1].indexOf(1,-0)<0;x=x("indexOf"),w=w("indexOf",{ACCESSORS:!0,1:0}),v({target:"Array",proto:!0,forced:f||!x||!w},{indexOf:function(i){return f?h.apply(this,arguments)||0:_(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(x,$,S){"use strict";var v=x("../internals/to-indexed-object"),_=x("../internals/add-to-unscopables"),h=x("../internals/iterators"),f=x("../internals/internal-state"),w=(x=x("../internals/define-iterator"),"Array Iterator"),i=f.set,a=f.getterFor(w);$.exports=x(Array,"Array",function(d,c){i(this,{type:w,target:v(d),index:0,kind:c})},function(){var d=a(this),c=d.target,u=d.kind,l=d.index++;return!c||l>=c.length?{value:d.target=void 0,done:!0}:"keys"==u?{value:l,done:!1}:"values"==u?{value:c[l],done:!1}:{value:[l,c[l]],done:!1}},"values"),h.Arguments=h.Array,_("keys"),_("values"),_("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(x,$,S){"use strict";var v=x("../internals/export"),f=x("../internals/indexed-object"),_=x("../internals/to-indexed-object"),h=(x=x("../internals/array-method-is-strict"),[].join);f=f!=Object,x=x("join",","),v({target:"Array",proto:!0,forced:f||!x},{join:function(w){return h.call(_(this),void 0===w?",":w)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(_,$,S){_("../internals/export")({target:"Array",proto:!0,forced:(_=_("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:_})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(f,$,S){"use strict";var v=f("../internals/export"),_=f("../internals/array-iteration").map,h=f("../internals/array-method-has-species-support");f=f("../internals/array-method-uses-to-length"),h=h("map"),f=f("map"),v({target:"Array",proto:!0,forced:!h||!f},{map:function(x){return _(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(c,$,S){"use strict";var v=c("../internals/export"),_=c("../internals/is-object"),h=c("../internals/is-array"),f=c("../internals/to-absolute-index"),x=c("../internals/to-length"),w=c("../internals/to-indexed-object"),i=c("../internals/create-property"),a=c("../internals/well-known-symbol"),d=c("../internals/array-method-has-species-support"),u=(c=c("../internals/array-method-uses-to-length"),d=d("slice"),c=c("slice",{ACCESSORS:!0,0:0,1:2}),a("species")),l=[].slice,m=Math.max;v({target:"Array",proto:!0,forced:!d||!c},{slice:function(p,b){var M,F,N,P=w(this),j=x(P.length),V=f(p,j),k=f(void 0===b?j:b,j);if(h(P)&&((M="function"==typeof(M=P.constructor)&&(M===Array||h(M.prototype))||_(M)&&null===(M=M[u])?void 0:M)===Array||void 0===M))return l.call(P,V,k);for(F=new(void 0===M?Array:M)(m(k-V,0)),N=0;V<k;V++,N++)V in P&&i(F,N,P[V]);return F.length=N,F}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(f,$,S){"use strict";var v=f("../internals/export"),_=f("../internals/array-iteration").some,h=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),h=h("some"),f=f("some"),v({target:"Array",proto:!0,forced:!h||!f},{some:function(x){return _(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(d,$,S){"use strict";var v=d("../internals/export"),_=d("../internals/to-absolute-index"),h=d("../internals/to-integer"),f=d("../internals/to-length"),x=d("../internals/to-object"),w=d("../internals/array-species-create"),i=d("../internals/create-property"),a=d("../internals/array-method-has-species-support"),c=(d=d("../internals/array-method-uses-to-length"),a=a("splice"),d=d("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),u=Math.min;v({target:"Array",proto:!0,forced:!a||!d},{splice:function(E,m){var p,b,M,F,N,P,j=x(this),V=f(j.length),k=_(E,V);if(0===(E=arguments.length)?p=b=0:b=1===E?(p=0,V-k):(p=E-2,u(c(h(m),0),V-k)),9007199254740991<V+p-b)throw TypeError("Maximum allowed length exceeded");for(M=w(j,b),F=0;F<b;F++)(N=k+F)in j&&i(M,F,j[N]);if(p<(M.length=b)){for(F=k;F<V-b;F++)P=F+p,(N=F+b)in j?j[P]=j[N]:delete j[P];for(F=V;V-b+p<F;F--)delete j[F-1]}else if(b<p)for(F=V-b;k<F;F--)P=F+p-1,(N=F+b-1)in j?j[P]=j[N]:delete j[P];for(F=0;F<p;F++)j[F+k]=arguments[F+2];return j.length=V-b+p,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(o,$,S){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(o,$,S){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(_,$,S){var v=_("../internals/descriptors"),h=(_=_("../internals/object-define-property").f,Function.prototype),f=h.toString,x=/^\s*function ([^ (]*)/;!v||"name"in h||_(h,"name",{configurable:!0,get:function(){try{return f.call(this).match(x)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(_,$,S){"use strict";var v=_("../internals/collection");_=_("../internals/collection-strong"),$.exports=v("Map",function(h){return function(){return h(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(v,$,S){v=v("../internals/export");var _=Math.hypot,h=Math.abs,f=Math.sqrt;v({target:"Math",stat:!0,forced:!!_&&_(1/0,NaN)!==1/0},{hypot:function(x,w){for(var i,a,d=0,c=0,u=arguments.length,l=0;c<u;)l<(i=h(arguments[c++]))?(d=d*(a=l/i)*a+1,l=i):d+=0<i?(a=i/l)*a:i;return l===1/0?1/0:l*f(d)}})},{"../internals/export":50}],176:[function(v,$,S){v=v("../internals/export");var _=Math.log,h=Math.LN2;v({target:"Math",stat:!0},{log2:function(f){return _(f)/h}})},{"../internals/export":50}],177:[function(o,$,S){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(o,$,S){"use strict";function v(I){var W,Y,z,te,J,q,ne,fe=d(I,!1);if("string"==typeof fe&&2<fe.length)if(43===(I=(fe=b(fe)).charCodeAt(0))||45===I){if(88===(W=fe.charCodeAt(2))||120===W)return NaN}else if(48===I){switch(fe.charCodeAt(1)){case 66:case 98:Y=2,z=49;break;case 79:case 111:Y=8,z=55;break;default:return+fe}for(J=(te=fe.slice(2)).length,q=0;q<J;q++)if((ne=te.charCodeAt(q))<48||z<ne)return NaN;return parseInt(te,Y)}return+fe}var _=o("../internals/descriptors"),h=o("../internals/global"),f=o("../internals/is-forced"),x=o("../internals/redefine"),w=o("../internals/has"),i=o("../internals/classof-raw"),a=o("../internals/inherit-if-required"),d=o("../internals/to-primitive"),c=o("../internals/fails"),u=o("../internals/object-create"),l=o("../internals/object-get-own-property-names").f,m=o("../internals/object-get-own-property-descriptor").f,p=o("../internals/object-define-property").f,b=o("../internals/string-trim").trim,M="Number",F=h[M],N=F.prototype,P=i(u(N))==M;if(f(M,!F(" 0o1")||!F("0b1")||F("+0x1"))){for(var j,V=function(W){W=arguments.length<1?0:W;var Y=this;return Y instanceof V&&(P?c(function(){N.valueOf.call(Y)}):i(Y)!=M)?a(new F(v(W)),Y,V):v(W)},k=_?l(F):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;k.length>E;E++)w(F,j=k[E])&&!w(V,j)&&p(V,j,m(F,j));(V.prototype=N).constructor=V,x(h,M,V)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(o,$,S){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(w,$,S){"use strict";function v(d,c,u){return 0===c?u:c%2==1?v(d,c-1,u*d):v(d*d,c/2,u)}var _=w("../internals/export"),h=w("../internals/to-integer"),f=w("../internals/this-number-value"),x=w("../internals/string-repeat"),i=(w=w("../internals/fails"),1..toFixed),a=Math.floor;_({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!w(function(){i.call({})})},{toFixed:function(M){function c(j,V){for(var k=-1,E=V;++k<6;)F[k]=(E+=j*F[k])%1e7,E=a(E/1e7)}function u(j){for(var V=6,k=0;0<=--V;)F[V]=a((k+=F[V])/j),k=k%j*1e7}function l(){for(var j,V=6,k="";0<=--V;)""===k&&0!==V&&0===F[V]||(j=String(F[V]),k=""===k?j:k+x.call("0",7-j.length)+j);return k}var m,p,b=f(this),F=(M=h(M),[0,0,0,0,0,0]),N="",P="0";if(M<0||20<M)throw RangeError("Incorrect fraction digits");if(b!=b)return"NaN";if(b<=-1e21||1e21<=b)return String(b);if(b<0&&(N="-",b=-b),1e-21<b)if(b=(m=function(j){for(var V=0,k=j;4096<=k;)V+=12,k/=4096;for(;2<=k;)V+=1,k/=2;return V}(b*v(2,69,1))-69)<0?b*v(2,-m,1):b/v(2,m,1),b*=4503599627370496,0<(m=52-m)){for(c(0,b),p=M;7<=p;)c(1e7,0),p-=7;for(c(v(10,p,1),0),p=m-1;23<=p;)u(1<<23),p-=23;u(1<<p),c(1,1),u(2),P=l()}else c(0,b),c(1<<-m,0),P=l()+x.call("0",M);return 0<M?N+((b=P.length)<=M?"0."+x.call("0",M-b)+P:P.slice(0,b-M)+"."+P.slice(b-M)):N+P}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(_,$,S){var v=_("../internals/export");_=_("../internals/object-assign"),v({target:"Object",stat:!0,forced:Object.assign!==_},{assign:_})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(o,$,S){var v=o("../internals/export"),_=o("../internals/iterate"),h=o("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(f){var x={};return _(f,function(w,i){h(x,w,i)},void 0,!0),x}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(f,$,S){var v=f("../internals/export"),x=f("../internals/fails"),_=f("../internals/to-indexed-object"),h=f("../internals/object-get-own-property-descriptor").f;f=f("../internals/descriptors"),x=x(function(){h(1)}),v({target:"Object",stat:!0,forced:!f||x,sham:!f},{getOwnPropertyDescriptor:function(w,i){return h(_(w),i)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(h,$,S){var v=h("../internals/export"),_=h("../internals/fails");h=h("../internals/object-get-own-property-names-external").f,v({target:"Object",stat:!0,forced:_(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(x,$,S){var v=x("../internals/export"),_=x("../internals/fails"),h=x("../internals/to-object"),f=x("../internals/object-get-prototype-of");x=x("../internals/correct-prototype-getter"),v({target:"Object",stat:!0,forced:_(function(){f(1)}),sham:!x},{getPrototypeOf:function(w){return f(h(w))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(o,$,S){var v=o("../internals/export"),_=o("../internals/to-object"),h=o("../internals/object-keys");v({target:"Object",stat:!0,forced:o("../internals/fails")(function(){h(1)})},{keys:function(f){return h(_(f))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(h,$,S){var v=h("../internals/to-string-tag-support"),_=h("../internals/redefine");h=h("../internals/object-to-string"),v||_(Object.prototype,"toString",h,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function(Pt,$,S){"use strict";var v,_,h,f,x=Pt("../internals/export"),w=Pt("../internals/is-pure"),i=Pt("../internals/global"),a=Pt("../internals/get-built-in"),d=Pt("../internals/native-promise-constructor"),c=Pt("../internals/redefine"),u=Pt("../internals/redefine-all"),l=Pt("../internals/set-to-string-tag"),m=Pt("../internals/set-species"),p=Pt("../internals/is-object"),b=Pt("../internals/a-function"),M=Pt("../internals/an-instance"),F=Pt("../internals/classof-raw"),N=Pt("../internals/inspect-source"),P=Pt("../internals/iterate"),j=Pt("../internals/check-correctness-of-iteration"),V=Pt("../internals/species-constructor"),k=Pt("../internals/task").set,E=Pt("../internals/microtask"),I=Pt("../internals/promise-resolve"),W=Pt("../internals/host-report-errors"),Y=Pt("../internals/new-promise-capability"),z=Pt("../internals/perform"),te=Pt("../internals/internal-state"),J=Pt("../internals/is-forced"),Jt=Pt("../internals/well-known-symbol"),q=Pt("../internals/engine-v8-version"),ne=Jt("species"),fe="Promise",De=te.get,K=te.set,L=te.getterFor(fe),se=d,pe=i.TypeError,Ce=i.document,Fe=i.process,We=a("fetch"),tt=Y.f,Oe=tt,ke="process"==F(Fe),Be=!!(Ce&&Ce.createEvent&&i.dispatchEvent),je="unhandledrejection",Ft=(Jt=(Pt=J(fe,function(){var Ht,wt;return N(se)===String(se)&&(66===q||!ke&&"function"!=typeof PromiseRejectionEvent)||!((!w||se.prototype.finally)&&(51<=q&&/native code/.test(se)||(wt=function(Re){Re(function(){},function(){})},((Ht=se.resolve(1)).constructor={})[ne]=wt,Ht.then(function(){})instanceof wt)))}))||!j(function(Ht){se.all(Ht).catch(function(){})}),function(Ht){var wt;return!(!p(Ht)||"function"!=typeof(wt=Ht.then))&&wt}),un=function(Ht,wt,Re){var Ge;wt.notified||(wt.notified=!0,Ge=wt.reactions,E(function(){for(var Te,et,Et=wt.value,Rt=1==wt.state,Gt=0;Ge.length>Gt;){var ln,_n,wn,Dt=Ge[Gt++],xt=Rt?Dt.ok:Dt.fail,ot=Dt.resolve,Ye=Dt.reject,ut=Dt.domain;try{xt?(Rt||(2===wt.rejection&&function(Ct,rn){k.call(i,function(){ke?Fe.emit("rejectionHandled",Ct):sn("rejectionhandled",Ct,rn.value)})}(Ht,wt),wt.rejection=1),!0===xt?ln=Et:(ut&&ut.enter(),ln=xt(Et),ut&&(ut.exit(),wn=!0)),ln===Dt.promise?Ye(pe("Promise-chain cycle")):(_n=Ft(ln))?_n.call(ln,ot,Ye):ot(ln)):Ye(Et)}catch(Ct){ut&&!wn&&ut.exit(),Ye(Ct)}}wt.reactions=[],wt.notified=!1,Re&&!wt.rejection&&(Te=Ht,et=wt,k.call(i,function(){var Ct=et.value,rn=Yt(et);if(rn&&(rn=z(function(){ke?Fe.emit("unhandledRejection",Ct,Te):sn(je,Te,Ct)}),et.rejection=ke||Yt(et)?2:1,rn.error))throw rn.value}))}))},sn=function(Ht,wt,Re){var Ge;Be?((Ge=Ce.createEvent("Event")).promise=wt,Ge.reason=Re,Ge.initEvent(Ht,!1,!0),i.dispatchEvent(Ge)):Ge={promise:wt,reason:Re},(wt=i["on"+Ht])?wt(Ge):Ht===je&&W("Unhandled promise rejection",Re)},Yt=function(Ht){return 1!==Ht.rejection&&!Ht.parent},kt=function(Ht,wt,Re,Ge){return function(Te){Ht(wt,Re,Te,Ge)}},zt=function(Ht,wt,Re,Ge){wt.done||(wt.done=!0,(wt=Ge||wt).value=Re,wt.state=2,un(Ht,wt,!0))},vt=function(Ht,wt,Re,Ge){if(!wt.done){wt.done=!0,Ge&&(wt=Ge);try{if(Ht===Re)throw pe("Promise can't be resolved itself");var Te=Ft(Re);Te?E(function(){var et={done:!1};try{Te.call(Re,kt(vt,Ht,et,wt),kt(zt,Ht,et,wt))}catch(Et){zt(Ht,et,Et,wt)}}):(wt.value=Re,wt.state=1,un(Ht,wt,!1))}catch(et){zt(Ht,{done:!1},et,wt)}}};Pt&&(se=function(Ht){M(this,se,fe),b(Ht),v.call(this);var wt=De(this);try{Ht(kt(vt,this,wt),kt(zt,this,wt))}catch(Re){zt(this,wt,Re)}},(v=function(Ht){K(this,{type:fe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(se.prototype,{then:function(Ht,wt){var Re=L(this),Ge=tt(V(this,se));return Ge.ok="function"!=typeof Ht||Ht,Ge.fail="function"==typeof wt&&wt,Ge.domain=ke?Fe.domain:void 0,Re.parent=!0,Re.reactions.push(Ge),0!=Re.state&&un(this,Re,!1),Ge.promise},catch:function(Ht){return this.then(void 0,Ht)}}),_=function(){var Ht=new v,wt=De(Ht);this.promise=Ht,this.resolve=kt(vt,Ht,wt),this.reject=kt(zt,Ht,wt)},Y.f=tt=function(Ht){return Ht===se||Ht===h?new _:Oe(Ht)},w||"function"!=typeof d||(f=d.prototype.then,c(d.prototype,"then",function(Ht,wt){var Re=this;return new se(function(Ge,Te){f.call(Re,Ge,Te)}).then(Ht,wt)},{unsafe:!0}),"function"==typeof We&&x({global:!0,enumerable:!0,forced:!0},{fetch:function(Ht){return I(se,We.apply(i,arguments))}}))),x({global:!0,wrap:!0,forced:Pt},{Promise:se}),l(se,fe,!1,!0),m(fe),h=a(fe),x({target:fe,stat:!0,forced:Pt},{reject:function(Ht){var wt=tt(this);return wt.reject.call(void 0,Ht),wt.promise}}),x({target:fe,stat:!0,forced:w||Pt},{resolve:function(Ht){return I(w&&this===h?se:this,Ht)}}),x({target:fe,stat:!0,forced:Jt},{all:function(Ht){var wt=this,Re=tt(wt),Ge=Re.resolve,Te=Re.reject,et=z(function(){var Et=b(wt.resolve),Rt=[],Gt=0,ln=1;P(Ht,function(_n){var wn=Gt++,Dt=!1;Rt.push(void 0),ln++,Et.call(wt,_n).then(function(xt){Dt||(Dt=!0,Rt[wn]=xt,--ln||Ge(Rt))},Te)}),--ln||Ge(Rt)});return et.error&&Te(et.value),Re.promise},race:function(Ht){var wt=this,Re=tt(wt),Ge=Re.reject,Te=z(function(){var et=b(wt.resolve);P(Ht,function(Et){et.call(wt,Et).then(Re.resolve,Ge)})});return Te.error&&Ge(Te.value),Re.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(i,$,S){var v=i("../internals/export"),u=i("../internals/get-built-in"),_=i("../internals/a-function"),h=i("../internals/an-object"),f=i("../internals/is-object"),x=i("../internals/object-create"),w=i("../internals/function-bind"),a=(i=i("../internals/fails"),u("Reflect","construct")),d=i(function(){function l(){}return!(a(function(){},[],l)instanceof l)}),c=!i(function(){a(function(){})});v({target:"Reflect",stat:!0,forced:u=d||c,sham:u},{construct:function(l,m){_(l),h(m);var p=arguments.length<3?l:_(arguments[2]);if(c&&!d)return a(l,m,p);if(l==p){switch(m.length){case 0:return new l;case 1:return new l(m[0]);case 2:return new l(m[0],m[1]);case 3:return new l(m[0],m[1],m[2]);case 4:return new l(m[0],m[1],m[2],m[3])}var b=[null];return b.push.apply(b,m),new(w.apply(l,b))}return p=x(f(b=p.prototype)?b:Object.prototype),b=Function.apply.call(l,p,m),f(b)?b:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(o,$,S){var v=o("../internals/export"),_=o("../internals/is-object"),h=o("../internals/an-object"),f=o("../internals/has"),x=o("../internals/object-get-own-property-descriptor"),w=o("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:function i(a,d){var c,u=arguments.length<3?a:arguments[2];return h(a)===u?a[d]:(c=x.f(a,d))?f(c,"value")?c.value:void 0===c.get?void 0:c.get.call(u):_(c=w(a))?i(c,d,u):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(o,$,S){var v=o("../internals/descriptors"),_=o("../internals/global"),h=o("../internals/is-forced"),f=o("../internals/inherit-if-required"),x=o("../internals/object-define-property").f,w=o("../internals/object-get-own-property-names").f,i=o("../internals/is-regexp"),a=o("../internals/regexp-flags"),d=o("../internals/regexp-sticky-helpers"),c=o("../internals/redefine"),u=o("../internals/fails"),l=o("../internals/internal-state").set,m=o("../internals/set-species"),p=o("../internals/well-known-symbol")("match"),b=_.RegExp,M=b.prototype,F=/a/g,N=/a/g,P=new b(F)!==F,j=d.UNSUPPORTED_Y;if(v&&h("RegExp",!P||j||u(function(){return N[p]=!1,b(F)!=F||b(N)==N||"/a/i"!=b(F,"i")}))){for(var V=function(I,W){var Y,z=this instanceof V,te=i(I),J=void 0===W;return!z&&te&&I.constructor===V&&J?I:(P?te&&!J&&(I=I.source):I instanceof V&&(J&&(W=a.call(I)),I=I.source),j&&(Y=!!W&&-1<W.indexOf("y"))&&(W=W.replace(/y/g,"")),te=f(P?new b(I,W):b(I,W),z?this:M,V),j&&Y&&l(te,{sticky:Y}),te)},k=w(b),E=0;k.length>E;)!function(I){I in V||x(V,I,{configurable:!0,get:function(){return b[I]},set:function(W){b[I]=W}})}(k[E++]);(M.constructor=V).prototype=M,c(_,"RegExp",V)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(_,$,S){"use strict";var v=_("../internals/export");_=_("../internals/regexp-exec"),v({target:"RegExp",proto:!0,forced:/./.exec!==_},{exec:_})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(f,$,S){"use strict";var v=f("../internals/redefine"),_=f("../internals/an-object"),i=f("../internals/fails"),h=f("../internals/regexp-flags"),x=(f="toString",RegExp.prototype),w=x[f];((i=i(function(){return"/a/b"!=w.call({source:"a",flags:"b"})}))||w.name!=f)&&v(RegExp.prototype,f,function(){var d=_(this),c=String(d.source),u=d.flags;return"/"+c+"/"+String(void 0===u&&d instanceof RegExp&&!("flags"in x)?h.call(d):u)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(_,$,S){"use strict";var v=_("../internals/collection");_=_("../internals/collection-strong"),$.exports=v("Set",function(h){return function(){return h(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(w,$,S){"use strict";var v=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,h=w("../internals/to-length"),f=w("../internals/not-a-regexp"),x=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),i=(w=w("../internals/is-pure"),"".endsWith),a=Math.min;d=d("endsWith"),v({target:"String",proto:!0,forced:!(!w&&!d&&(v=_(String.prototype,"endsWith"))&&!v.writable||d)},{endsWith:function(c){var u=String(x(this)),l=(f(c),1<arguments.length?arguments[1]:void 0),m=h(u.length);return l=void 0===l?m:a(h(l),m),m=String(c),i?i.call(u,m,l):u.slice(l-m.length,l)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(o,$,S){"use strict";var v=o("../internals/export"),_=o("../internals/not-a-regexp"),h=o("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(f){return!!~String(h(this)).indexOf(_(f),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(h,$,S){"use strict";var v=h("../internals/string-multibyte").charAt,_=h("../internals/internal-state"),f=(h=h("../internals/define-iterator"),"String Iterator"),x=_.set,w=_.getterFor(f);h(String,"String",function(i){x(this,{type:f,string:String(i),index:0})},function(){var i=w(this),a=i.string,d=i.index;return d>=a.length?{value:void 0,done:!0}:(a=v(a,d),i.index+=a.length,{value:a,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(o,$,S){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),_=o("../internals/an-object"),h=o("../internals/to-length"),f=o("../internals/require-object-coercible"),x=o("../internals/advance-string-index"),w=o("../internals/regexp-exec-abstract");v("match",1,function(i,a,d){return[function(c){var u=f(this),l=null==c?void 0:c[i];return void 0!==l?l.call(c,u):new RegExp(c)[i](String(u))},function(c){var u=d(a,c,this);if(u.done)return u.value;var l=_(c),m=String(this);if(!l.global)return w(l,m);for(var p=l.unicode,b=[],M=l.lastIndex=0;null!==(F=w(l,m));){var F=String(F[0]);""===(b[M]=F)&&(l.lastIndex=x(m,h(l.lastIndex),p)),M++}return 0===M?null:b}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(o,$,S){"use strict";var v=o("../internals/export"),_=o("../internals/string-pad").start;v({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(h){return _(this,h,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(o,$,S){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(o,$,S){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),_=o("../internals/an-object"),h=o("../internals/to-object"),f=o("../internals/to-length"),x=o("../internals/to-integer"),w=o("../internals/require-object-coercible"),i=o("../internals/advance-string-index"),a=o("../internals/regexp-exec-abstract"),d=Math.max,c=Math.min,u=Math.floor,l=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;v("replace",2,function(p,b,M,F){var N=F.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=F.REPLACE_KEEPS_$0,j=N?"$":"$0";return[function(V,k){var E=w(this),I=null==V?void 0:V[p];return void 0!==I?I.call(V,E,k):b.call(String(E),V,k)},function(V,k){if(!N&&P||"string"==typeof k&&-1===k.indexOf(j)){var E=M(b,V,this,k);if(E.done)return E.value}for(var I,W=_(V),Y=String(this),z="function"==typeof k,te=(z||(k=String(k)),W.global),J=(te&&(I=W.unicode,W.lastIndex=0),[]);null!==(K=a(W,Y))&&(J.push(K),te);)""===String(K[0])&&(W.lastIndex=i(Y,f(W.lastIndex),I));for(var q,ne="",fe=0,De=0;De<J.length;De++){for(var K=J[De],L=String(K[0]),se=d(c(x(K.index),Y.length),0),pe=[],Ce=1;Ce<K.length;Ce++)pe.push(void 0===(q=K[Ce])?q:String(q));var Fe=K.groups,We=z?(We=[L].concat(pe,se,Y),void 0!==Fe&&We.push(Fe),String(k.apply(void 0,We))):function(tt,Oe,ke,Be,je,Qe){var Ke=ke+tt.length,gt=Be.length,ft=m;return void 0!==je&&(je=h(je),ft=l),b.call(Qe,ft,function(yt,Pt){var Jt;switch(Pt.charAt(0)){case"$":return"$";case"&":return tt;case"`":return Oe.slice(0,ke);case"'":return Oe.slice(Ke);case"<":Jt=je[Pt.slice(1,-1)];break;default:var Ft,un=+Pt;if(0==un)return yt;if(gt<un)return 0!==(Ft=u(un/10))&&Ft<=gt?void 0===Be[Ft-1]?Pt.charAt(1):Be[Ft-1]+Pt.charAt(1):yt;Jt=Be[un-1]}return void 0===Jt?"":Jt})}(L,Y,se,pe,Fe,k);fe<=se&&(ne+=Y.slice(fe,se)+We,fe=se+L.length)}return ne+Y.slice(fe)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(o,$,S){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),_=o("../internals/an-object"),h=o("../internals/require-object-coercible"),f=o("../internals/same-value"),x=o("../internals/regexp-exec-abstract");v("search",1,function(w,i,a){return[function(d){var c=h(this),u=null==d?void 0:d[w];return void 0!==u?u.call(d,c):new RegExp(d)[w](String(c))},function(d){var c,u=a(i,d,this);return u.done?u.value:(u=_(d),d=String(this),f(c=u.lastIndex,0)||(u.lastIndex=0),d=x(u,d),f(u.lastIndex,c)||(u.lastIndex=c),null===d?-1:d.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(c,$,S){"use strict";var v=c("../internals/fix-regexp-well-known-symbol-logic"),_=c("../internals/is-regexp"),h=c("../internals/an-object"),f=c("../internals/require-object-coercible"),x=c("../internals/species-constructor"),w=c("../internals/advance-string-index"),i=c("../internals/to-length"),a=c("../internals/regexp-exec-abstract"),d=c("../internals/regexp-exec"),u=(c=c("../internals/fails"),[].push),l=Math.min,m=4294967295,p=!c(function(){return!RegExp(m,"y")});v("split",2,function(b,M,F){var N="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(P,j){var V=String(f(this)),k=void 0===j?m:j>>>0;if(0==k)return[];if(void 0===P)return[V];if(!_(P))return M.call(V,P,k);for(var E,I,W,Y=[],z=(j=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),0),te=new RegExp(P.source,j+"g");(E=d.call(te,V))&&!(z<(I=te.lastIndex)&&(Y.push(V.slice(z,E.index)),1<E.length&&E.index<V.length&&u.apply(Y,E.slice(1)),W=E[0].length,z=I,Y.length>=k));)te.lastIndex===E.index&&te.lastIndex++;return z===V.length?!W&&te.test("")||Y.push(""):Y.push(V.slice(z)),Y.length>k?Y.slice(0,k):Y}:"0".split(void 0,0).length?function(P,j){return void 0===P&&0===j?[]:M.call(this,P,j)}:M;return[function(P,j){var V=f(this),k=null==P?void 0:P[b];return void 0!==k?k.call(P,V,j):N.call(String(V),P,j)},function(E,j){if((V=F(N,E,this,j,N!==M)).done)return V.value;var V=h(E),k=String(this),I=(E=x(V,RegExp),V.unicode),Y=new E(p?V:"^(?:"+V.source+")",(V.ignoreCase?"i":"")+(V.multiline?"m":"")+(V.unicode?"u":"")+(p?"y":"g")),z=void 0===j?m:j>>>0;if(0==z)return[];if(0===k.length)return null===a(Y,k)?[k]:[];for(var te=0,J=0,q=[];J<k.length;){Y.lastIndex=p?J:0;var ne,fe=a(Y,p?k:k.slice(J));if(null===fe||(ne=l(i(Y.lastIndex+(p?0:J)),k.length))===te)J=w(k,J,I);else{if(q.push(k.slice(te,J)),q.length===z)return q;for(var De=1;De<=fe.length-1;De++)if(q.push(fe[De]),q.length===z)return q;J=te=ne}}return q.push(k.slice(te)),q}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(w,$,S){"use strict";var v=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,h=w("../internals/to-length"),f=w("../internals/not-a-regexp"),x=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),i=(w=w("../internals/is-pure"),"".startsWith),a=Math.min;d=d("startsWith"),v({target:"String",proto:!0,forced:!(!w&&!d&&(v=_(String.prototype,"startsWith"))&&!v.writable||d)},{startsWith:function(m){var u=String(x(this)),l=(f(m),h(a(1<arguments.length?arguments[1]:void 0,u.length)));return m=String(m),i?i.call(u,m,l):u.slice(l,l+m.length)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(o,$,S){"use strict";var v=o("../internals/export"),_=o("../internals/create-html");v({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return _(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(o,$,S){"use strict";var v=o("../internals/export"),_=o("../internals/string-trim").trim;v({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return _(this)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(l,$,S){"use strict";var v,_,h,f,x,w=l("../internals/export"),i=l("../internals/descriptors"),a=l("../internals/global"),d=l("../internals/has"),c=l("../internals/is-object"),u=l("../internals/object-define-property").f,m=(l=l("../internals/copy-constructor-properties"),a.Symbol);!i||"function"!=typeof m||"description"in m.prototype&&void 0===m().description||(v={},l(_=function(){var p=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),b=this instanceof _?new m(p):void 0===p?m():m(p);return""===p&&(v[b]=!0),b},m),(a=_.prototype=m.prototype).constructor=_,h=a.toString,f="Symbol(test)"==String(m("test")),x=/^Symbol\((.*)\)[^)]+$/,u(a,"description",{configurable:!0,get:function(){var p=c(this)?this.valueOf():this,b=h.call(p);return d(v,p)?"":""===(p=f?b.slice(7,-1):b.replace(x,"$1"))?void 0:p}}),w({global:!0,forced:!0},{Symbol:_}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(o,$,S){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function(Oe,$,S){"use strict";function v(Te,et){var Et=Jt[Te]=V(Qe[tt]);return ke(Et,{type:We,tag:Te,description:et}),d||(Et.description=et),Et}function _(Te,Rt){M(Te);var Et=N(Rt);return Rt=k(Et).concat(Ge(Et)),Ce(Rt,function(Gt){d&&!Re.call(Et,Gt)||wt(Te,Gt,Et[Gt])}),Te}function h(Rt,Gt){var Et;if(Rt=N(Rt),Gt=P(Gt,!0),Rt!==je||!m(Jt,Gt)||m(Ft,Gt))return!(Et=gt(Rt,Gt))||!m(Jt,Gt)||m(Rt,Fe)&&Rt[Fe][Gt]||(Et.enumerable=!0),Et}function f(et){et=yt(N(et));var Et=[];return Ce(et,function(Rt){m(Jt,Rt)||m(fe,Rt)||Et.push(Rt)}),Et}var x=Oe("../internals/export"),w=Oe("../internals/global"),i=Oe("../internals/get-built-in"),a=Oe("../internals/is-pure"),d=Oe("../internals/descriptors"),c=Oe("../internals/native-symbol"),u=Oe("../internals/use-symbol-as-uid"),l=Oe("../internals/fails"),m=Oe("../internals/has"),p=Oe("../internals/is-array"),b=Oe("../internals/is-object"),M=Oe("../internals/an-object"),F=Oe("../internals/to-object"),N=Oe("../internals/to-indexed-object"),P=Oe("../internals/to-primitive"),j=Oe("../internals/create-property-descriptor"),V=Oe("../internals/object-create"),k=Oe("../internals/object-keys"),E=Oe("../internals/object-get-own-property-names"),I=Oe("../internals/object-get-own-property-names-external"),W=Oe("../internals/object-get-own-property-symbols"),Y=Oe("../internals/object-get-own-property-descriptor"),z=Oe("../internals/object-define-property"),te=Oe("../internals/object-property-is-enumerable"),J=Oe("../internals/create-non-enumerable-property"),q=Oe("../internals/redefine"),ne=Oe("../internals/shared"),Yt=Oe("../internals/shared-key"),fe=Oe("../internals/hidden-keys"),De=Oe("../internals/uid"),K=Oe("../internals/well-known-symbol"),L=Oe("../internals/well-known-symbol-wrapped"),se=Oe("../internals/define-well-known-symbol"),pe=Oe("../internals/set-to-string-tag"),kt=Oe("../internals/internal-state"),Ce=Oe("../internals/array-iteration").forEach,Fe=Yt("hidden"),We="Symbol",tt="prototype",ke=(Oe=K("toPrimitive"),kt.set),Be=kt.getterFor(We),je=Object[tt],Qe=w.Symbol,Ke=i("JSON","stringify"),gt=Y.f,ft=z.f,yt=I.f,Pt=te.f,Jt=ne("symbols"),Ft=ne("op-symbols"),un=ne("string-to-symbol-registry"),sn=ne("symbol-to-string-registry"),zt=(Yt=ne("wks"),!(kt=w.QObject)||!kt[tt]||!kt[tt].findChild),vt=d&&l(function(){return 7!=V(ft({},"a",{get:function(){return ft(this,"a",{value:7}).a}})).a})?function(Te,et,Et){var Rt=gt(je,et);Rt&&delete je[et],ft(Te,et,Et),Rt&&Te!==je&&ft(je,et,Rt)}:ft,Ht=u?function(Te){return"symbol"==typeof Te}:function(Te){return Object(Te)instanceof Qe},wt=function(Te,et,Et){return Te===je&&wt(Ft,et,Et),M(Te),et=P(et,!0),M(Et),(m(Jt,et)?(Et.enumerable?(m(Te,Fe)&&Te[Fe][et]&&(Te[Fe][et]=!1),Et=V(Et,{enumerable:j(0,!1)})):(m(Te,Fe)||ft(Te,Fe,j(1,{})),Te[Fe][et]=!0),vt):ft)(Te,et,Et)},Re=function(et){et=P(et,!0);var Et=Pt.call(this,et);return!(this===je&&m(Jt,et)&&!m(Ft,et))&&(!(Et||!m(this,et)||!m(Jt,et)||m(this,Fe)&&this[Fe][et])||Et)},Ge=function(Et){var et=Et===je,Rt=(Et=yt(et?Ft:N(Et)),[]);return Ce(Et,function(Gt){!m(Jt,Gt)||et&&!m(je,Gt)||Rt.push(Jt[Gt])}),Rt};c||(q((Qe=function(){if(this instanceof Qe)throw TypeError("Symbol is not a constructor");var Te=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,et=De(Te),Et=function(Rt){this===je&&Et.call(Ft,Rt),m(this,Fe)&&m(this[Fe],et)&&(this[Fe][et]=!1),vt(this,et,j(1,Rt))};return d&&zt&&vt(je,et,{configurable:!0,set:Et}),v(et,Te)})[tt],"toString",function(){return Be(this).tag}),q(Qe,"withoutSetter",function(Te){return v(De(Te),Te)}),te.f=Re,z.f=wt,Y.f=h,E.f=I.f=f,W.f=Ge,L.f=function(Te){return v(K(Te),Te)},d&&(ft(Qe[tt],"description",{configurable:!0,get:function(){return Be(this).description}}),a||q(je,"propertyIsEnumerable",Re,{unsafe:!0}))),x({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Qe}),Ce(k(Yt),function(Te){se(Te)}),x({target:We,stat:!0,forced:!c},{for:function(Et){var et;return Et=String(Et),m(un,Et)?un[Et]:(et=Qe(Et),un[Et]=et,sn[et]=Et,et)},keyFor:function(Te){if(!Ht(Te))throw TypeError(Te+" is not a symbol");if(m(sn,Te))return sn[Te]},useSetter:function(){zt=!0},useSimple:function(){zt=!1}}),x({target:"Object",stat:!0,forced:!c,sham:!d},{create:function(Te,et){return void 0===et?V(Te):_(V(Te),et)},defineProperty:wt,defineProperties:_,getOwnPropertyDescriptor:h}),x({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:f,getOwnPropertySymbols:Ge}),x({target:"Object",stat:!0,forced:l(function(){W.f(1)})},{getOwnPropertySymbols:function(Te){return W.f(F(Te))}}),Ke&&x({target:"JSON",stat:!0,forced:!c||l(function(){var Te=Qe();return"[null]"!=Ke([Te])||"{}"!=Ke({a:Te})||"{}"!=Ke(Object(Te))})},{stringify:function(Te,et,Et){for(var Rt,Gt=[Te],ln=1;ln<arguments.length;)Gt.push(arguments[ln++]);if((b(Rt=et)||void 0!==Te)&&!Ht(Te))return p(et)||(et=function(_n,wn){if("function"==typeof Rt&&(wn=Rt.call(this,_n,wn)),!Ht(wn))return wn}),Gt[1]=et,Ke.apply(null,Gt)}}),Qe[tt][Oe]||J(Qe[tt],Oe,Qe[tt].valueOf),pe(Qe,We),fe[Fe]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-copy-within"),h=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(f,x){return _.call(h(this),f,x,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").every,h=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-fill"),h=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(f){return _.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").filter,h=o("../internals/species-constructor"),f=v.aTypedArray,x=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(w){for(var i=_(f(this),w,1<arguments.length?arguments[1]:void 0),a=(w=h(this,this.constructor),0),d=i.length,c=new(x(w))(d);a<d;)c[a]=i[a++];return c})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").findIndex,h=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").find,h=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(o,$,S){o("../internals/typed-array-constructor")("Float32",function(v){return function(_,h,f){return v(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],217:[function(o,$,S){o("../internals/typed-array-constructor")("Float64",function(v){return function(_,h,f){return v(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],218:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").forEach,h=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(f){_(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-includes").includes,h=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-includes").indexOf,h=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(o,$,S){o("../internals/typed-array-constructor")("Int16",function(v){return function(_,h,f){return v(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],222:[function(o,$,S){o("../internals/typed-array-constructor")("Int32",function(v){return function(_,h,f){return v(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],223:[function(_,$,S){"use strict";function v(){return h.call(w(this))}var d=_("../internals/global"),a=_("../internals/array-buffer-view-core"),i=_("../modules/es.array.iterator"),h=(_=_("../internals/well-known-symbol")("iterator"),i.values),f=i.keys,x=i.entries,w=a.aTypedArray;i=a.exportTypedArrayMethod,d=!!(a=(d=d.Uint8Array)&&d.prototype[_])&&("values"==a.name||null==a.name),i("entries",function(){return x.call(w(this))}),i("keys",function(){return f.call(w(this))}),i("values",v,!d),i(_,v,!d)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(_,$,S){"use strict";var v=(_=_("../internals/array-buffer-view-core")).aTypedArray,h=[].join;(_=_.exportTypedArrayMethod)("join",function(f){return h.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],225:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-last-index-of"),h=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(f){return _.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").map,h=o("../internals/species-constructor"),f=v.aTypedArray,x=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(w){return _(f(this),w,1<arguments.length?arguments[1]:void 0,function(i,a){return new(x(h(i,i.constructor)))(a)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-reduce").right,h=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(f){return _(h(this),f,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-reduce").left,h=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(f){return _(h(this),f,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(_,$,S){"use strict";var v=(_=_("../internals/array-buffer-view-core")).aTypedArray,h=(_=_.exportTypedArrayMethod,Math.floor);_("reverse",function(){for(var f,x=v(this).length,w=h(x/2),i=0;i<w;)f=this[i],this[i++]=this[--x],this[x]=f;return this})},{"../internals/array-buffer-view-core":12}],230:[function(x,$,S){"use strict";var v=x("../internals/array-buffer-view-core"),_=x("../internals/to-length"),h=x("../internals/to-offset"),f=x("../internals/to-object"),w=(x=x("../internals/fails"),v.aTypedArray);(0,v.exportTypedArrayMethod)("set",function(i){w(this);var a=h(1<arguments.length?arguments[1]:void 0,1),d=this.length,c=f(i),u=_(c.length),l=0;if(d<u+a)throw RangeError("Wrong length");for(;l<u;)this[a+l]=c[l++]},x(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(_,$,S){"use strict";var x=_("../internals/array-buffer-view-core"),v=_("../internals/species-constructor"),h=(_=_("../internals/fails"),x.aTypedArray),f=x.aTypedArrayConstructor,w=[].slice;(x=x.exportTypedArrayMethod)("slice",function(i,a){for(var d=w.call(h(this),i,a),c=(i=v(this,this.constructor),0),u=d.length,l=new(f(i))(u);c<u;)l[c]=d[c++];return l},_(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").some,h=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(_,$,S){"use strict";var v=(_=_("../internals/array-buffer-view-core")).aTypedArray,h=[].sort;(_=_.exportTypedArrayMethod)("sort",function(f){return h.call(v(this),f)})},{"../internals/array-buffer-view-core":12}],234:[function(o,$,S){"use strict";var v=o("../internals/array-buffer-view-core"),_=o("../internals/to-length"),h=o("../internals/to-absolute-index"),f=o("../internals/species-constructor"),x=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(c,i){var a=x(this),d=a.length;return c=h(c,d),new(f(a,a.constructor))(a.buffer,a.byteOffset+c*a.BYTES_PER_ELEMENT,_((void 0===i?d:h(i,d))-c))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(_,$,S){"use strict";var x=_("../internals/global"),v=_("../internals/array-buffer-view-core"),h=(_=_("../internals/fails"),x.Int8Array),f=v.aTypedArray,w=(x=v.exportTypedArrayMethod,[].toLocaleString),i=[].slice,a=!!h&&_(function(){w.call(new h(1))});x("toLocaleString",function(){return w.apply(a?i.call(f(this)):f(this),arguments)},_(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!_(function(){h.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(_,$,S){"use strict";var v=_("../internals/array-buffer-view-core").exportTypedArrayMethod,x=_("../internals/fails"),h=(_=(_=_("../internals/global").Uint8Array)&&_.prototype||{},[].toString),f=[].join;x(function(){h.call({})})&&(h=function(){return f.call(this)}),v("toString",h,x=_.toString!=h)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(o,$,S){o("../internals/typed-array-constructor")("Uint16",function(v){return function(_,h,f){return v(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],238:[function(o,$,S){o("../internals/typed-array-constructor")("Uint32",function(v){return function(_,h,f){return v(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],239:[function(o,$,S){o("../internals/typed-array-constructor")("Uint8",function(v){return function(_,h,f){return v(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],240:[function(o,$,S){o("../internals/typed-array-constructor")("Uint8",function(v){return function(_,h,f){return v(this,_,h,f)}},!0)},{"../internals/typed-array-constructor":143}],241:[function(m,M,S){"use strict";function v(F){return function(){return F(this,arguments.length?arguments[0]:void 0)}}var _,h,f,x,w,p=m("../internals/global"),i=m("../internals/redefine-all"),a=m("../internals/internal-metadata"),d=m("../internals/collection"),c=m("../internals/collection-weak"),u=m("../internals/is-object"),l=m("../internals/internal-state").enforce,b=(m=m("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,Object.isExtensible);M=M.exports=d("WeakMap",v,c),m&&p&&(_=c.getConstructor(v,"WeakMap",!0),a.REQUIRED=!0,h=(d=M.prototype).delete,f=d.has,x=d.get,w=d.set,i(d,{delete:function(F){var N;return u(F)&&!b(F)?((N=l(this)).frozen||(N.frozen=new _),h.call(this,F)||N.frozen.delete(F)):h.call(this,F)},has:function(F){var N;return u(F)&&!b(F)?((N=l(this)).frozen||(N.frozen=new _),f.call(this,F)||N.frozen.has(F)):f.call(this,F)},get:function(F){var N;return!u(F)||b(F)||((N=l(this)).frozen||(N.frozen=new _),f.call(this,F))?x.call(this,F):N.frozen.get(F)},set:function(F,N){var P;return!u(F)||b(F)||((P=l(this)).frozen||(P.frozen=new _),f.call(this,F))?w.call(this,F,N):P.frozen.set(F,N),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(o,$,S){var v,_=o("../internals/global"),h=o("../internals/dom-iterables"),f=o("../internals/array-for-each"),x=o("../internals/create-non-enumerable-property");for(v in h){var w;if((w=(w=_[v])&&w.prototype)&&w.forEach!==f)try{x(w,"forEach",f)}catch{w.forEach=f}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(w,$,S){var v,_=w("../internals/global"),h=w("../internals/dom-iterables"),f=w("../modules/es.array.iterator"),x=w("../internals/create-non-enumerable-property"),i=(w=w("../internals/well-known-symbol"))("iterator"),a=w("toStringTag"),d=f.values;for(v in h){var c=_[v],u=c&&c.prototype;if(u){if(u[i]!==d)try{x(u,i,d)}catch{u[i]=d}if(u[a]||x(u,a,v),h[v])for(var l in f)if(u[l]!==f[l])try{x(u,l,f[l])}catch{u[l]=f[l]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(Fe,$,S){"use strict";function v(We){try{return decodeURIComponent(We)}catch{return We}}function _(We){return se[We]}function h(We){return encodeURIComponent(We).replace(L,_)}function f(We){this.entries.length=0,pe(this.entries,We)}function x(We,tt){if(We<tt)throw TypeError("Not enough arguments")}function w(){p(this,w,z);var We,tt,Oe,ke,Be,je,Qe,Ke,gt=0<arguments.length?arguments[0]:void 0,ft=[];if(J(this,{type:z,entries:ft,updateURL:function(){},updateSearchParams:f}),void 0!==gt)if(P(gt))if("function"==typeof(We=E(gt)))for(Oe=(tt=We.call(gt)).next;!(ke=Oe.call(tt)).done;){if((je=(Be=(ke=k(N(ke.value))).next).call(ke)).done||(Qe=Be.call(ke)).done||!Be.call(ke).done)throw TypeError("Expected sequence with length 2");ft.push({key:je.value+"",value:Qe.value+""})}else for(Ke in gt)b(gt,Ke)&&ft.push({key:Ke,value:gt[Ke]+""});else pe(ft,"string"==typeof gt?"?"===gt.charAt(0)?gt.slice(1):gt:gt+"")}Fe("../modules/es.array.iterator");var i=Fe("../internals/export"),Y=Fe("../internals/get-built-in"),a=Fe("../internals/native-url"),d=Fe("../internals/redefine"),c=Fe("../internals/redefine-all"),u=Fe("../internals/set-to-string-tag"),l=Fe("../internals/create-iterator-constructor"),m=Fe("../internals/internal-state"),p=Fe("../internals/an-instance"),b=Fe("../internals/has"),M=Fe("../internals/function-bind-context"),F=Fe("../internals/classof"),N=Fe("../internals/an-object"),P=Fe("../internals/is-object"),j=Fe("../internals/object-create"),V=Fe("../internals/create-property-descriptor"),k=Fe("../internals/get-iterator"),E=Fe("../internals/get-iterator-method"),I=(Fe=Fe("../internals/well-known-symbol"),Y("fetch")),W=Y("Headers"),z=(Y=Fe("iterator"),"URLSearchParams"),te=z+"Iterator",J=m.set,q=m.getterFor(z),ne=m.getterFor(te),fe=/\+/g,De=Array(4),K=function(We){var tt,Oe=We.replace(fe," "),ke=4;try{return decodeURIComponent(Oe)}catch{for(;ke;)Oe=Oe.replace((tt=ke--,De[tt-1]||(De[tt-1]=RegExp("((?:%[\\da-f]{2}){"+tt+"})","gi"))),v);return Oe}},L=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},pe=function(We,tt){if(tt)for(var Oe,ke=tt.split("&"),Be=0;Be<ke.length;)(Oe=ke[Be++]).length&&(Oe=Oe.split("="),We.push({key:K(Oe.shift()),value:K(Oe.join("="))}))},Ce=l(function(We,tt){J(this,{type:te,iterator:k(q(We).entries),kind:tt})},"Iterator",function(){var tt,We=(tt=ne(this)).kind,Oe=(tt=tt.iterator.next()).value;return tt.done||(tt.value="keys"===We?Oe.key:"values"===We?Oe.value:[Oe.key,Oe.value]),tt});c(Fe=w.prototype,{append:function(We,tt){x(arguments.length,2);var Oe=q(this);Oe.entries.push({key:We+"",value:tt+""}),Oe.updateURL()},delete:function(We){x(arguments.length,1);for(var tt=q(this),Oe=tt.entries,ke=We+"",Be=0;Be<Oe.length;)Oe[Be].key===ke?Oe.splice(Be,1):Be++;tt.updateURL()},get:function(We){x(arguments.length,1);for(var tt=q(this).entries,Oe=We+"",ke=0;ke<tt.length;ke++)if(tt[ke].key===Oe)return tt[ke].value;return null},getAll:function(We){x(arguments.length,1);for(var tt=q(this).entries,Oe=We+"",ke=[],Be=0;Be<tt.length;Be++)tt[Be].key===Oe&&ke.push(tt[Be].value);return ke},has:function(We){x(arguments.length,1);for(var tt=q(this).entries,Oe=We+"",ke=0;ke<tt.length;)if(tt[ke++].key===Oe)return!0;return!1},set:function(We,tt){x(arguments.length,1);for(var Oe,ke=q(this),Be=ke.entries,je=!1,Qe=We+"",Ke=tt+"",gt=0;gt<Be.length;gt++)(Oe=Be[gt]).key===Qe&&(je?Be.splice(gt--,1):(je=!0,Oe.value=Ke));je||Be.push({key:Qe,value:Ke}),ke.updateURL()},sort:function(){for(var We,tt,Oe=q(this),ke=Oe.entries,Be=ke.slice(),je=ke.length=0;je<Be.length;je++){for(We=Be[je],tt=0;tt<je;tt++)if(ke[tt].key>We.key){ke.splice(tt,0,We);break}tt===je&&ke.push(We)}Oe.updateURL()},forEach:function(We){for(var tt,Oe=q(this).entries,ke=M(We,1<arguments.length?arguments[1]:void 0,3),Be=0;Be<Oe.length;)ke((tt=Oe[Be++]).value,tt.key,this)},keys:function(){return new Ce(this,"keys")},values:function(){return new Ce(this,"values")},entries:function(){return new Ce(this,"entries")}},{enumerable:!0}),d(Fe,Y,Fe.entries),d(Fe,"toString",function(){for(var We,tt=q(this).entries,Oe=[],ke=0;ke<tt.length;)We=tt[ke++],Oe.push(h(We.key)+"="+h(We.value));return Oe.join("&")},{enumerable:!0}),u(w,z),i({global:!0,forced:!a},{URLSearchParams:w}),a||"function"!=typeof I||"function"!=typeof W||i({global:!0,enumerable:!0,forced:!0},{fetch:function(Be){var tt,Oe,ke;return Be=[Be],1<arguments.length&&(P(tt=arguments[1])&&F(Oe=tt.body)===z&&((ke=tt.headers?new W(tt.headers):new W).has("content-type")||ke.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),tt=j(tt,{body:V(0,String(Oe)),headers:V(0,ke)})),Be.push(tt)),I.apply(this,Be)}}),$.exports={URLSearchParams:w,getState:q}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(k,$,S){"use strict";function v(ie){var we,D,R,U;if("number"==typeof ie){for(we=[],D=0;D<4;D++)we.unshift(ie%256),ie=te(ie/256);return we.join(".")}if("object"!=typeof ie)return ie;for(we="",R=Qe(ie),D=0;D<8;D++)U&&0===ie[D]||(U=U&&!1,R===D?(we+=D?":":"::",U=!0):(we+=ie[D].toString(16),D<7&&(we+=":")));return"["+we+"]"}function _(ie){return!ie.host||ie.cannotBeABaseURL||"file"==ie.scheme}function h(ie,we,D,R){var U,H,le,Q=D||Ht,ye=0,Me="",qe=!1,_t=!1,qt=!1;for(D||(ie.scheme="",ie.username="",ie.password="",ie.host=null,ie.port=null,ie.path=[],ie.query=null,ie.fragment=null,ie.cannotBeABaseURL=!1,we=we.replace(ke,"")),we=we.replace(Be,""),U=F(we);ye<=U.length;){switch(H=U[ye],Q){case Ht:if(!H||!K.test(H)){if(D)return ne;Q=Re;continue}Me+=H.toLowerCase(),Q=wt;break;case wt:if(H&&(L.test(H)||"+"==H||"-"==H||"."==H))Me+=H.toLowerCase();else{if(":"!=H){if(D)return ne;Me="",Q=Re,ye=0;continue}if(D&&(Ft(ie)!=b(Jt,Me)||"file"==Me&&(un(ie)||null!==ie.port)||"file"==ie.scheme&&!ie.host))return;if(ie.scheme=Me,D)return void(Ft(ie)&&Jt[ie.scheme]==ie.port&&(ie.port=null));Me="","file"==ie.scheme?Q=xt:Ft(ie)&&R&&R.scheme==ie.scheme?Q=Ge:Ft(ie)?Q=Rt:"/"==U[ye+1]?(Q=Te,ye++):(ie.cannotBeABaseURL=!0,ie.path.push(""),Q=rn)}break;case Re:if(!R||R.cannotBeABaseURL&&"#"!=H)return ne;if(R.cannotBeABaseURL&&"#"==H){ie.scheme=R.scheme,ie.path=R.path.slice(),ie.query=R.query,ie.fragment="",ie.cannotBeABaseURL=!0,Q=bt;break}Q="file"==R.scheme?xt:et;continue;case Ge:if("/"!=H||"/"!=U[ye+1]){Q=et;continue}Q=Gt,ye++;break;case Te:if("/"==H){Q=ln;break}Q=Ct;continue;case et:if(ie.scheme=R.scheme,H==w)ie.username=R.username,ie.password=R.password,ie.host=R.host,ie.port=R.port,ie.path=R.path.slice(),ie.query=R.query;else if("/"==H||"\\"==H&&Ft(ie))Q=Et;else if("?"==H)ie.username=R.username,ie.password=R.password,ie.host=R.host,ie.port=R.port,ie.path=R.path.slice(),ie.query="",Q=ze;else{if("#"!=H){ie.username=R.username,ie.password=R.password,ie.host=R.host,ie.port=R.port,ie.path=R.path.slice(),ie.path.pop(),Q=Ct;continue}ie.username=R.username,ie.password=R.password,ie.host=R.host,ie.port=R.port,ie.path=R.path.slice(),ie.query=R.query,ie.fragment="",Q=bt}break;case Et:if(!Ft(ie)||"/"!=H&&"\\"!=H){if("/"!=H){ie.username=R.username,ie.password=R.password,ie.host=R.host,ie.port=R.port,Q=Ct;continue}Q=ln}else Q=Gt;break;case Rt:if(Q=Gt,"/"!=H||"/"!=Me.charAt(ye+1))continue;ye++;break;case Gt:if("/"==H||"\\"==H)break;Q=ln;continue;case ln:if("@"==H){qe&&(Me="%40"+Me),qe=!0;for(var cn=F(Me),an=0;an<cn.length;an++){var On=cn[an];":"!=On||qt?(On=Pt(On,yt),qt?ie.password+=On:ie.username+=On):qt=!0}Me=""}else if(H==w||"/"==H||"?"==H||"#"==H||"\\"==H&&Ft(ie)){if(qe&&""==Me)return q;ye-=F(Me).length+1,Me="",Q=_n}else Me+=H;break;case _n:case wn:if(D&&"file"==ie.scheme){Q=Ye;continue}if(":"!=H||_t){if(H==w||"/"==H||"?"==H||"#"==H||"\\"==H&&Ft(ie)){if(Ft(ie)&&""==Me)return fe;if(D&&""==Me&&(un(ie)||null!==ie.port))return;if(le=je(ie,Me))return le;if(Me="",Q=ut,D)return;continue}"["==H?_t=!0:"]"==H&&(_t=!1),Me+=H}else{if(""==Me)return fe;if(le=je(ie,Me))return le;if(Me="",Q=Dt,D==wn)return}break;case Dt:if(!se.test(H)){if(H==w||"/"==H||"?"==H||"#"==H||"\\"==H&&Ft(ie)||D){if(""!=Me){var zn=parseInt(Me,10);if(65535<zn)return De;ie.port=Ft(ie)&&zn===Jt[ie.scheme]?null:zn,Me=""}if(D)return;Q=ut;continue}return De}Me+=H;break;case xt:if(ie.scheme="file","/"==H||"\\"==H)Q=ot;else{if(!R||"file"!=R.scheme){Q=Ct;continue}if(H==w)ie.host=R.host,ie.path=R.path.slice(),ie.query=R.query;else if("?"==H)ie.host=R.host,ie.path=R.path.slice(),ie.query="",Q=ze;else{if("#"!=H){Yt(U.slice(ye).join(""))||(ie.host=R.host,ie.path=R.path.slice(),kt(ie)),Q=Ct;continue}ie.host=R.host,ie.path=R.path.slice(),ie.query=R.query,ie.fragment="",Q=bt}}break;case ot:if("/"==H||"\\"==H){Q=Ye;break}R&&"file"==R.scheme&&!Yt(U.slice(ye).join(""))&&(sn(R.path[0],!0)?ie.path.push(R.path[0]):ie.host=R.host),Q=Ct;continue;case Ye:if(H==w||"/"==H||"\\"==H||"?"==H||"#"==H){if(!D&&sn(Me))Q=Ct;else{if(""==Me){if(ie.host="",D)return}else{if(le=je(ie,Me))return le;if("localhost"==ie.host&&(ie.host=""),D)return;Me=""}Q=ut}continue}Me+=H;break;case ut:if(Ft(ie)){if(Q=Ct,"/"!=H&&"\\"!=H)continue}else if(D||"?"!=H)if(D||"#"!=H){if(H!=w&&(Q=Ct,"/"!=H))continue}else ie.fragment="",Q=bt;else ie.query="",Q=ze;break;case Ct:if(H==w||"/"==H||"\\"==H&&Ft(ie)||!D&&("?"==H||"#"==H)){if(vt(Me)?(kt(ie),"/"==H||"\\"==H&&Ft(ie)||ie.path.push("")):zt(Me)?"/"==H||"\\"==H&&Ft(ie)||ie.path.push(""):("file"==ie.scheme&&!ie.path.length&&sn(Me)&&(ie.host&&(ie.host=""),Me=Me.charAt(0)+":"),ie.path.push(Me)),Me="","file"==ie.scheme&&(H==w||"?"==H||"#"==H))for(;1<ie.path.length&&""===ie.path[0];)ie.path.shift();"?"==H?(ie.query="",Q=ze):"#"==H&&(ie.fragment="",Q=bt)}else Me+=Pt(H,ft);break;case rn:"?"==H?(ie.query="",Q=ze):"#"==H?(ie.fragment="",Q=bt):H!=w&&(ie.path[0]+=Pt(H,Ke));break;case ze:D||"#"!=H?H!=w&&("'"==H&&Ft(ie)?ie.query+="%27":ie.query+="#"==H?"%23":Pt(H,Ke)):(ie.fragment="",Q=bt);break;case bt:H!=w&&(ie.fragment+=Pt(H,gt))}ye++}}function f(H){var we,D,R=p(this,f,"URL"),U=1<arguments.length?arguments[1]:void 0,le=(H=String(H),Y(R,{type:"URL"}));if(void 0!==U)if(U instanceof f)we=z(U);else if(D=h(we={},String(U)))throw TypeError(D);if(D=h(le,H,null,we))throw TypeError(D);var Q=le.searchParams=new I;(U=W(Q)).updateSearchParams(le.query),U.updateURL=function(){le.query=String(Q)||null},c||(R.href=Lt.call(R),R.origin=Xt.call(R),R.protocol=hn.call(R),R.username=vn.call(R),R.password=En.call(R),R.host=Cn.call(R),R.hostname=Sn.call(R),R.port=tr.call(R),R.pathname=nr.call(R),R.search=Wn.call(R),R.searchParams=Nn.call(R),R.hash=ee.call(R))}function x(ie,we){return{get:ie,set:we,configurable:!0,enumerable:!0}}k("../modules/es.string.iterator");var w,i,a,d=k("../internals/export"),c=k("../internals/descriptors"),u=k("../internals/native-url"),Nt=k("../internals/global"),l=k("../internals/object-define-properties"),m=k("../internals/redefine"),p=k("../internals/an-instance"),b=k("../internals/has"),M=k("../internals/object-assign"),F=k("../internals/array-from"),N=k("../internals/string-multibyte").codeAt,P=k("../internals/string-punycode-to-ascii"),j=k("../internals/set-to-string-tag"),V=k("../modules/web.url-search-params"),E=(k=k("../internals/internal-state"),Nt.URL),I=V.URLSearchParams,W=V.getState,Y=k.set,z=k.getterFor("URL"),te=Math.floor,J=Math.pow,q="Invalid authority",ne="Invalid scheme",fe="Invalid host",De="Invalid port",K=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,se=/\d/,pe=/^(0x|0X)/,Ce=/^[0-7]+$/,Fe=/^\d+$/,We=/^[\dA-Fa-f]+$/,tt=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ke=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Be=/[\u0009\u000A\u000D]/g,je=function(ie,we){var D,R,U;if("["==we.charAt(0))return"]"==we.charAt(we.length-1)&&(D=function(H){var qe,_t,qt,cn,an,On,zn,le=[0,0,0,0,0,0,0,0],Q=0,ye=null,Me=0,Gn=function(){return H.charAt(Me)};if(":"==Gn()){if(":"!=H.charAt(1))return;Me+=2,ye=++Q}for(;Gn();){if(8==Q)return;if(":"!=Gn()){for(qe=_t=0;_t<4&&We.test(Gn());)qe=16*qe+parseInt(Gn(),16),Me++,_t++;if("."==Gn()){if(0==_t||(Me-=_t,Q>6))return;for(qt=0;Gn();){if(cn=null,qt>0){if(!("."==Gn()&&qt<4))return;Me++}if(!se.test(Gn()))return;for(;se.test(Gn());){if(an=parseInt(Gn(),10),null===cn)cn=an;else{if(0==cn)return;cn=10*cn+an}if(cn>255)return;Me++}le[Q]=256*le[Q]+cn,(2==++qt||4==qt)&&Q++}if(4!=qt)return;break}if(":"==Gn()){if(Me++,!Gn())return}else if(Gn())return;le[Q++]=qe}else{if(null!==ye)return;Me++,ye=++Q}}if(null!==ye)for(On=Q-ye,Q=7;0!=Q&&On>0;)zn=le[Q],le[Q--]=le[ye+On-1],le[ye+--On]=zn;else if(8!=Q)return;return le}(we.slice(1,-1)))?void(ie.host=D):fe;if(Ft(ie))return we=P(we),tt.test(we)||null===(D=function(H){var Q,ye,Me,qe,_t,qt,cn,le=H.split(".");if(le.length&&""==le[le.length-1]&&le.pop(),(Q=le.length)>4)return H;for(ye=[],Me=0;Me<Q;Me++){if(""==(qe=le[Me]))return H;if(_t=10,qe.length>1&&"0"==qe.charAt(0)&&(_t=pe.test(qe)?16:8,qe=qe.slice(8==_t?1:2)),""===qe)qt=0;else{if(!(10==_t?Fe:8==_t?Ce:We).test(qe))return H;qt=parseInt(qe,_t)}ye.push(qt)}for(Me=0;Me<Q;Me++)if(qt=ye[Me],Me==Q-1){if(qt>=J(256,5-Q))return null}else if(qt>255)return null;for(cn=ye.pop(),Me=0;Me<ye.length;Me++)cn+=ye[Me]*J(256,3-Me);return cn}(we))?fe:void(ie.host=D);if(Oe.test(we))return fe;for(D="",R=F(we),U=0;U<R.length;U++)D+=Pt(R[U],Ke);ie.host=D},Qe=function(ie){for(var we=null,D=1,R=null,U=0,H=0;H<8;H++)0!==ie[H]?(D<U&&(we=R,D=U),R=null,U=0):(null===R&&(R=H),++U);return D<U&&(we=R,D=U),we},Ke={},gt=M({},Ke,{" ":1,'"':1,"<":1,">":1,"`":1}),ft=M({},gt,{"#":1,"?":1,"{":1,"}":1}),yt=M({},ft,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pt=function(ie,we){var D=N(ie,0);return 32<D&&D<127&&!b(we,ie)?ie:encodeURIComponent(ie)},Jt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ft=function(ie){return b(Jt,ie.scheme)},un=function(ie){return""!=ie.username||""!=ie.password},sn=function(ie,we){return 2==ie.length&&K.test(ie.charAt(0))&&(":"==(ie=ie.charAt(1))||!we&&"|"==ie)},Yt=function(ie){return 1<ie.length&&sn(ie.slice(0,2))&&(2==ie.length||"/"===(ie=ie.charAt(2))||"\\"===ie||"?"===ie||"#"===ie)},kt=function(ie){var we=ie.path,D=we.length;!D||"file"==ie.scheme&&1==D&&sn(we[0],!0)||we.pop()},zt=function(ie){return"."===ie||"%2e"===ie.toLowerCase()},vt=function(ie){return".."===(ie=ie.toLowerCase())||"%2e."===ie||".%2e"===ie||"%2e%2e"===ie},Ht={},wt={},Re={},Ge={},Te={},et={},Et={},Rt={},Gt={},ln={},_n={},wn={},Dt={},xt={},ot={},Ye={},ut={},Ct={},rn={},ze={},bt={},Lt=(Nt=f.prototype,function(){var ie=z(this),we=ie.scheme,D=ie.username,R=ie.password,U=ie.host,H=ie.port,le=ie.path,Q=ie.query,ye=ie.fragment,Me=we+":";return null!==U?(Me+="//",un(ie)&&(Me+=D+(R?":"+R:"")+"@"),Me+=v(U),null!==H&&(Me+=":"+H)):"file"==we&&(Me+="//"),Me+=ie.cannotBeABaseURL?le[0]:le.length?"/"+le.join("/"):"",null!==Q&&(Me+="?"+Q),null!==ye&&(Me+="#"+ye),Me}),Xt=function(){var ie=z(this),we=ie.scheme,D=ie.port;if("blob"==we)try{return new URL(we.path[0]).origin}catch{return"null"}return"file"!=we&&Ft(ie)?we+"://"+v(ie.host)+(null!==D?":"+D:""):"null"},hn=function(){return z(this).scheme+":"},vn=function(){return z(this).username},En=function(){return z(this).password},Cn=function(){var ie=(we=z(this)).host,we=we.port;return null===ie?"":null===we?v(ie):v(ie)+":"+we},Sn=function(){var ie=z(this).host;return null===ie?"":v(ie)},tr=function(){var ie=z(this).port;return null===ie?"":String(ie)},nr=function(){var ie=z(this),we=ie.path;return ie.cannotBeABaseURL?we[0]:we.length?"/"+we.join("/"):""},Wn=function(){var ie=z(this).query;return ie?"?"+ie:""},Nn=function(){return z(this).searchParams},ee=function(){var ie=z(this).fragment;return ie?"#"+ie:""};c&&l(Nt,{href:x(Lt,function(D){var we=z(this);if(D=h(we,D=String(D)))throw TypeError(D);W(we.searchParams).updateSearchParams(we.query)}),origin:x(Xt),protocol:x(hn,function(ie){h(z(this),String(ie)+":",Ht)}),username:x(vn,function(ie){var we=z(this),D=F(String(ie));if(!_(we)){we.username="";for(var R=0;R<D.length;R++)we.username+=Pt(D[R],yt)}}),password:x(En,function(ie){var we=z(this),D=F(String(ie));if(!_(we)){we.password="";for(var R=0;R<D.length;R++)we.password+=Pt(D[R],yt)}}),host:x(Cn,function(ie){var we=z(this);we.cannotBeABaseURL||h(we,String(ie),_n)}),hostname:x(Sn,function(ie){var we=z(this);we.cannotBeABaseURL||h(we,String(ie),wn)}),port:x(tr,function(ie){var we=z(this);_(we)||(""==(ie=String(ie))?we.port=null:h(we,ie,Dt))}),pathname:x(nr,function(ie){var we=z(this);we.cannotBeABaseURL||(we.path=[],h(we,ie+"",ut))}),search:x(Wn,function(ie){var we=z(this);""==(ie=String(ie))?we.query=null:("?"==ie.charAt(0)&&(ie=ie.slice(1)),we.query="",h(we,ie,ze)),W(we.searchParams).updateSearchParams(we.query)}),searchParams:x(Nn),hash:x(ee,function(ie){var we=z(this);""==(ie=String(ie))?we.fragment=null:("#"==ie.charAt(0)&&(ie=ie.slice(1)),we.fragment="",h(we,ie,bt))})}),m(Nt,"toJSON",function(){return Lt.call(this)},{enumerable:!0}),m(Nt,"toString",function(){return Lt.call(this)},{enumerable:!0}),E&&(a=E.revokeObjectURL,(i=E.createObjectURL)&&m(f,"createObjectURL",function(ie){return i.apply(E,arguments)}),a&&m(f,"revokeObjectURL",function(ie){return a.apply(E,arguments)})),j(f,"URL"),d({global:!0,forced:!u,sham:!c},{URL:f})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(o,$,S){"use strict";$.exports=o("./").polyfill()},{"./":247}],247:[function(o,$,S){(function(v,_){var f;f=function(){"use strict";function x(je){return"function"==typeof je}var w=Array.isArray||function(je){return"[object Array]"===Object.prototype.toString.call(je)},i=0,a=void 0,d=void 0,c=function(je,Qe){M[i]=je,M[i+1]=Qe,2===(i+=2)&&(d?d(F):I())},u=typeof window<"u"?window:void 0,l=(l=u||{}).MutationObserver||l.WebKitMutationObserver,m=typeof self>"u"&&void 0!==v&&"[object process]"==={}.toString.call(v),p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var je=setTimeout;return function(){return je(F,1)}}var M=new Array(1e3);function F(){for(var je=0;je<i;je+=2)(0,M[je])(M[je+1]),M[je]=void 0,M[je+1]=void 0;i=0}var P,j,V,I=void 0;function k(je,Qe){var Ke,gt=this,ft=new this.constructor(Y),yt=(void 0===ft[W]&&We(ft),gt._state);return yt?(Ke=arguments[yt-1],c(function(){return Ce(yt,ft,Ke,gt._result)})):se(gt,ft,je,Qe),ft}function E(je){var Qe;return je&&"object"==typeof je&&je.constructor===this?je:(fe(Qe=new this(Y),je),Qe)}I=m?function(){return v.nextTick(F)}:l?(j=0,m=new l(F),V=document.createTextNode(""),m.observe(V,{characterData:!0}),function(){V.data=j=++j%2}):p?((P=new MessageChannel).port1.onmessage=F,function(){return P.port2.postMessage(0)}):(void 0===u&&"function"==typeof o?function N(){try{var je=Function("return this")().require("vertx");return void 0!==(a=je.runOnLoop||je.runOnContext)?function(){a(F)}:b()}catch{return b()}}:b)();var W=Math.random().toString(36).substring(2);function Y(){}var z=void 0,te=1,J=2;function q(je,Qe,Ke){c(function(gt){var ft=!1,yt=function(Pt,Jt,Ft,un){try{Pt.call(Jt,function(Pt){ft||(ft=!0,(Qe!==Pt?fe:K)(gt,Pt))},function(Pt){ft||(ft=!0,L(gt,Pt))})}catch(sn){return sn}}(Ke,Qe);!ft&&yt&&(ft=!0,L(gt,yt))},je)}function ne(je,Qe,Ke){var gt,ft;Qe.constructor===je.constructor&&Ke===k&&Qe.constructor.resolve===E?(gt=je,(ft=Qe)._state===te?K(gt,ft._result):ft._state===J?L(gt,ft._result):se(ft,void 0,function(yt){return fe(gt,yt)},function(yt){return L(gt,yt)})):void 0!==Ke&&x(Ke)?q(je,Qe,Ke):K(je,Qe)}function fe(je,Qe){if(je===Qe)L(je,new TypeError("You cannot resolve a promise with itself"));else if(Ke=typeof Qe,null===Qe||"object"!=Ke&&"function"!=Ke)K(je,Qe);else{Ke=void 0;try{Ke=Qe.then}catch(gt){return void L(je,gt)}ne(je,Qe,Ke)}var Ke}function De(je){je._onerror&&je._onerror(je._result),pe(je)}function K(je,Qe){je._state===z&&(je._result=Qe,je._state=te,0!==je._subscribers.length&&c(pe,je))}function L(je,Qe){je._state===z&&(je._state=J,je._result=Qe,c(De,je))}function se(je,Qe,Ke,gt){var ft=je._subscribers,yt=ft.length;je._onerror=null,ft[yt]=Qe,ft[yt+te]=Ke,ft[yt+J]=gt,0===yt&&je._state&&c(pe,je)}function pe(je){var Qe=je._subscribers,Ke=je._state;if(0!==Qe.length){for(var gt,ft=void 0,yt=je._result,Pt=0;Pt<Qe.length;Pt+=3)ft=Qe[Pt+Ke],(gt=Qe[Pt])?Ce(Ke,gt,ft,yt):ft(yt);je._subscribers.length=0}}function Ce(je,Qe,Ke,gt){var ft=x(Ke),yt=void 0,Pt=void 0,Jt=!0;if(ft){try{yt=Ke(gt)}catch(Ft){Jt=!1,Pt=Ft}if(Qe===yt)return void L(Qe,new TypeError("A promises callback cannot return that same promise."))}else yt=gt;Qe._state===z&&(ft&&Jt?fe(Qe,yt):!1===Jt?L(Qe,Pt):je===te?K(Qe,yt):je===J&&L(Qe,yt))}var Fe=0;function We(je){je[W]=Fe++,je._state=void 0,je._result=void 0,je._subscribers=[]}Oe.prototype._enumerate=function(je){for(var Qe=0;this._state===z&&Qe<je.length;Qe++)this._eachEntry(je[Qe],Qe)},Oe.prototype._eachEntry=function(je,Qe){var Ke=this._instanceConstructor,gt=Ke.resolve;if(gt===E){var ft,yt=void 0,Pt=void 0,Jt=!1;try{yt=je.then}catch(Ft){Jt=!0,Pt=Ft}yt===k&&je._state!==z?this._settledAt(je._state,Qe,je._result):"function"!=typeof yt?(this._remaining--,this._result[Qe]=je):Ke===ke?(ft=new Ke(Y),Jt?L(ft,Pt):ne(ft,je,yt),this._willSettleAt(ft,Qe)):this._willSettleAt(new Ke(function(Ft){return Ft(je)}),Qe)}else this._willSettleAt(gt(je),Qe)},Oe.prototype._settledAt=function(je,Qe,Ke){var gt=this.promise;gt._state===z&&(this._remaining--,je===J?L(gt,Ke):this._result[Qe]=Ke),0===this._remaining&&K(gt,this._result)},Oe.prototype._willSettleAt=function(je,Qe){var Ke=this;se(je,void 0,function(gt){return Ke._settledAt(te,Qe,gt)},function(gt){return Ke._settledAt(J,Qe,gt)})};var tt=Oe;function Oe(je,Qe){this._instanceConstructor=je,this.promise=new je(Y),this.promise[W]||We(this.promise),w(Qe)?(this.length=Qe.length,this._remaining=Qe.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Qe),0!==this._remaining)||K(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}Be.prototype.catch=function(je){return this.then(null,je)},Be.prototype.finally=function(je){var Qe=this.constructor;return x(je)?this.then(function(Ke){return Qe.resolve(je()).then(function(){return Ke})},function(Ke){return Qe.resolve(je()).then(function(){throw Ke})}):this.then(je,je)};var ke=Be;function Be(je){if(this[W]=Fe++,this._result=this._state=void 0,this._subscribers=[],Y!==je){if("function"!=typeof je)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Be))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Qe=this;try{je(function(Ke){fe(Qe,Ke)},function(Ke){L(Qe,Ke)})}catch(Ke){L(Qe,Ke)}}}return ke.prototype.then=k,ke.all=function(je){return new tt(this,je).promise},ke.race=function(je){var Qe=this;return w(je)?new Qe(function(Ke,gt){for(var ft=je.length,yt=0;yt<ft;yt++)Qe.resolve(je[yt]).then(Ke,gt)}):new Qe(function(Ke,gt){return gt(new TypeError("You must pass an array to race."))})},ke.resolve=E,ke.reject=function(je){var Qe=new this(Y);return L(Qe,je),Qe},ke._setScheduler=function(je){d=je},ke._setAsap=function(je){c=je},ke._asap=c,ke.polyfill=function(){var je=void 0;if(void 0!==_)je=_;else if(typeof self<"u")je=self;else try{je=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Qe=je.Promise;if(Qe){var Ke=null;try{Ke=Object.prototype.toString.call(Qe.resolve())}catch{}if("[object Promise]"===Ke&&!Qe.cast)return}je.Promise=ke},ke.Promise=ke},"object"==typeof S&&void 0!==$?$.exports=f():this.ES6Promise=f()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:256}],248:[function(o,$,S){var _;_=function(h,f){"use strict";function i(d){try{delete window[d]}catch{window[d]=void 0}}function a(d){(d=document.getElementById(d))&&document.getElementsByTagName("head")[0].removeChild(d)}f.exports=function(d){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=d,l=c.timeout||5e3,m=c.jsonpCallback||"callback",p=void 0;return new Promise(function(b,M){var F=c.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),N=m+"_"+F,P=(window[F]=function(j){b({ok:!0,json:function(){return Promise.resolve(j)}}),p&&clearTimeout(p),a(N),i(F)},u+=-1===u.indexOf("?")?"?":"&",document.createElement("script"));P.setAttribute("src",""+u+m+"="+F),c.charset&&P.setAttribute("charset",c.charset),P.id=N,document.getElementsByTagName("head")[0].appendChild(P),p=setTimeout(function(){M(new Error("JSONP request to "+d+" timed out")),i(F),a(N),window[F]=function(){i(F)}},l),P.onerror=function(){M(new Error("JSONP request to "+d+" failed")),i(F),a(N),p&&clearTimeout(p)}})}},void 0!==S&&void 0!==$?_(0,$):(_(_={exports:{}},_),this.fetchJsonp=_.exports)},{}],249:[function(o,$,S){var v=function(_){"use strict";var h,f,x,w,i,a,c,u,l,m;if(!(void 0===_||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return h=function(){return _.URL||_.webkitURL||_},f=(m=_.document).createElementNS("http://www.w3.org/1999/xhtml","a"),x="download"in f,w=/constructor/i.test(_.HTMLElement)||_.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(p){(_.setImmediate||_.setTimeout)(function(){throw p},0)},4e4,c=function(p){setTimeout(function(){"string"==typeof p?h().revokeObjectURL(p):p.remove()},4e4)},u=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p},m=(l=function(p,b,j){j||(p=u(p));var F,N,P=this,V=(j="application/octet-stream"===p.type,function(){for(var k=P,E="writestart progress write writeend".split(" "),W=(E=[].concat(E)).length;W--;){var Y=k["on"+E[W]];if("function"==typeof Y)try{Y.call(k,k)}catch(z){a(z)}}});P.readyState=P.INIT,x?(F=h().createObjectURL(p),setTimeout(function(){var k,E;f.href=F,f.download=b,k=f,E=new MouseEvent("click"),k.dispatchEvent(E),V(),c(F),P.readyState=P.DONE})):(i||j&&w)&&_.FileReader?((N=new FileReader).onloadend=function(){var k=i?N.result:N.result.replace(/^data:[^;]*;/,"data:attachment/file;");_.open(k,"_blank")||(_.location.href=k),k=void 0,P.readyState=P.DONE,V()},N.readAsDataURL(p),P.readyState=P.INIT):(F=F||h().createObjectURL(p),!j&&_.open(F,"_blank")||(_.location.href=F),P.readyState=P.DONE,V(),c(F))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,b,M){return b=b||p.name||"download",M||(p=u(p)),navigator.msSaveOrOpenBlob(p,b)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,function(p,b,M){return new l(p,b||p.name||"download",M)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==$&&$.exports&&($.exports.saveAs=v)},{}],250:[function(o,$,S){var v,_=Object.defineProperty,h=(_(S,"__esModule",{value:!0}),S),f={GIFEncoder:()=>V,applyPalette:()=>function(z,te,J="rgb565"){if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<te.length)throw new Error("applyPalette() only works with 256 colors or less");const q=new Uint32Array(z.buffer),ne=q.length,fe="rgb444"===J?4096:65536,De=new Uint8Array(ne),K=new Array(fe);if("rgba4444"===J)for(let Be=0;Be<ne;Be++){var Ce,L=(Ce=q[Be])>>24&255,se=Ce>>16&255,pe=Ce>>8&255,Fe=(Fe=c(Ce&=255,pe,se,L))in K?K[Fe]:K[Fe]=function(je,Qe,Ke,gt,ft){let yt=0,Pt=1e100;for(let sn=0;sn<ft.length;sn++){var Ft=ft[sn],un=N(Ft[3]-gt);un>Pt||(un+=N(Ft[0]-je))>Pt||(un+=N(Ft[1]-Qe))>Pt||(un+=N(Ft[2]-Ke))>Pt||(Pt=un,yt=sn)}return yt}(Ce,pe,se,L,te);De[Be]=Fe}else{const Be="rgb444"===J?u:d;for(let je=0;je<ne;je++){var Oe,We=(Oe=q[je])>>16&255,tt=Oe>>8&255,ke=(ke=Be(Oe&=255,tt,We))in K?K[ke]:K[ke]=function(Qe,Ke,gt,ft){let yt=0,Pt=1e100;for(let sn=0;sn<ft.length;sn++){var Ft=ft[sn],un=N(Ft[0]-Qe);un>Pt||(un+=N(Ft[1]-Ke))>Pt||(un+=N(Ft[2]-gt))>Pt||(Pt=un,yt=sn)}return yt}(Oe,tt,We,te);De[je]=ke}}return De},default:()=>Y,nearestColor:()=>function(z,te,J=M){return z[P(z,te,J)]},nearestColorIndex:()=>P,nearestColorIndexWithDistance:()=>j,prequantize:()=>function(z,{roundRGB:te=5,roundAlpha:J=10,oneBitAlpha:q=null}={}){const ne=new Uint32Array(z.buffer);for(let se=0;se<ne.length;se++){let pe=(L=ne[se])>>24&255;var De=L>>16&255,K=L>>8&255,L=255&L;pe=F(pe,J),q&&(pe=pe<=("number"==typeof q?q:127)?0:255),L=F(L,te),K=F(K,te),De=F(De,te),ne[se]=pe<<24|De<<16|K<<8|L<<0}},quantize:()=>function(z,te,J={}){var{format:q="rgb565",clearAlpha:ne=!0,clearAlphaColor:fe=0,clearAlphaThreshold:De=0,oneBitAlpha:K=!1}=J;if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");z=new Uint32Array(z.buffer);let L=!1!==J.useSqrt;const se="rgba4444"===q,pe=function(Yt,kt){const vt=new Array("rgb444"===kt?4096:65536),Ht=Yt.length;if("rgba4444"===kt)for(let ot=0;ot<Ht;++ot){var Te,wt=(Te=Yt[ot])>>24&255,Re=Te>>16&255,Ge=Te>>8&255,et=c(Te&=255,Ge,Re,wt);let Ye=et in vt?vt[et]:vt[et]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ye.rc+=Te,Ye.gc+=Ge,Ye.bc+=Re,Ye.ac+=wt,Ye.cnt++}else if("rgb444"===kt)for(let ot=0;ot<Ht;++ot){var Gt,Et=(Gt=Yt[ot])>>16&255,Rt=Gt>>8&255,ln=u(Gt&=255,Rt,Et);let Ye=ln in vt?vt[ln]:vt[ln]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ye.rc+=Gt,Ye.gc+=Rt,Ye.bc+=Et,Ye.cnt++}else for(let ot=0;ot<Ht;++ot){var Dt,_n=(Dt=Yt[ot])>>16&255,wn=Dt>>8&255,xt=d(Dt&=255,wn,_n);let Ye=xt in vt?vt[xt]:vt[xt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ye.rc+=Dt,Ye.gc+=wn,Ye.bc+=_n,Ye.cnt++}return vt}(z,q),Ce=pe.length,Fe=Ce-1,We=new Uint32Array(Ce+1);for(var tt=0,Oe=0;Oe<Ce;++Oe){const Yt=pe[Oe];null!=Yt&&(Ft=1/Yt.cnt,se&&(Yt.ac*=Ft),Yt.rc*=Ft,Yt.gc*=Ft,Yt.bc*=Ft,pe[tt++]=Yt)}var ke,Be,je;for(m(te)/tt<.022&&(L=!1),Oe=0;Oe<tt-1;++Oe)pe[Oe].fw=Oe+1,pe[Oe+1].bk=Oe,L&&(pe[Oe].cnt=Math.sqrt(pe[Oe].cnt));for(L&&(pe[Oe].cnt=Math.sqrt(pe[Oe].cnt)),Oe=0;Oe<tt;++Oe){p(pe,Oe,!1);var Qe=pe[Oe].err;for(Be=++We[0];1<Be&&!(pe[ke=We[je=Be>>1]].err<=Qe);Be=je)We[Be]=ke;We[Be]=Oe}var Ke,gt=tt-te;for(Oe=0;Oe<gt;){for(;;){var ft=We[1];if((Ke=pe[ft]).tm>=Ke.mtm&&pe[Ke.nn].mtm<=Ke.tm)break;for(Ke.mtm==Fe?ft=We[1]=We[We[0]--]:(p(pe,ft,!1),Ke.tm=Oe),Qe=pe[ft].err,Be=1;(je=Be+Be)<=We[0]&&(je<We[0]&&pe[We[je]].err>pe[We[je+1]].err&&je++,!(Qe<=pe[ke=We[je]].err));Be=je)We[Be]=ke;We[Be]=ft}var yt=pe[Ke.nn],Pt=Ke.cnt,Jt=yt.cnt,Ft=1/(Pt+Jt);se&&(Ke.ac=Ft*(Pt*Ke.ac+Jt*yt.ac)),Ke.rc=Ft*(Pt*Ke.rc+Jt*yt.rc),Ke.gc=Ft*(Pt*Ke.gc+Jt*yt.gc),Ke.bc=Ft*(Pt*Ke.bc+Jt*yt.bc),Ke.cnt+=yt.cnt,Ke.mtm=++Oe,pe[yt.bk].fw=yt.fw,pe[yt.fw].bk=yt.bk,yt.mtm=Fe}let un=[];for(Oe=0;;0){let Yt=l(Math.round(pe[Oe].rc),0,255),kt=l(Math.round(pe[Oe].gc),0,255),zt=l(Math.round(pe[Oe].bc),0,255),vt=255;se&&(vt=l(Math.round(pe[Oe].ac),0,255),K&&(vt=vt<=(sn="number"==typeof K?K:127)?0:255),ne&&vt<=De&&(Yt=kt=zt=fe,vt=0));var sn=se?[Yt,kt,zt,vt]:[Yt,kt,zt];if(function(Ht,wt){for(let Te=0;Te<Ht.length;Te++){var Re=(Ge=Ht[Te])[0]===wt[0]&&Ge[1]===wt[1]&&Ge[2]===wt[2],Ge=!(4<=Ge.length&&4<=wt.length)||Ge[3]===wt[3];if(Re&&Ge)return!0}return!1}(un,sn)||un.push(sn),0==(Oe=pe[Oe].fw))break}return un},snapColorsToPalette:()=>function(z,te,J=5){if(z.length&&te.length){var q=z.map(L=>L.slice(0,3)),ne=J*J,fe=z[0].length;for(let L=0;L<te.length;L++){let se=te[L];se=se.length<fe?[se[0],se[1],se[2],255]:se.length>fe?se.slice(0,3):se.slice();var K,De=(K=j(q,se.slice(0,3),M))[0];0<(K=K[1])&&K<=ne&&(z[De]=se)}}}};for(v in f)_(h,v,{get:f[v],enumerable:!0});var x={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function w(z=256){let te=0,J=new Uint8Array(z);return{get buffer(){return J.buffer},reset(){te=0},bytesView:()=>J.subarray(0,te),bytes:()=>J.slice(0,te),writeByte(ne){q(te+1),J[te]=ne,te++},writeBytes(ne,fe=0,De=ne.length){q(te+De);for(let K=0;K<De;K++)J[te++]=ne[K+fe]},writeBytesView(ne,fe=0,De=ne.byteLength){q(te+De),J.set(ne.subarray(fe,fe+De),te),te+=De}};function q(ne){var fe=J.length;if(!(ne<=fe)){ne=Math.max(ne,fe*(fe<1048576?2:1.125)>>>0),0!=fe&&(ne=Math.max(ne,256));const De=J;J=new Uint8Array(ne),0<te&&J.set(De.subarray(0,te),0)}}}var i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],a=function(z,te,J,se,ne=w(512),fe=new Uint8Array(256),De=new Int32Array(5003),K=new Int32Array(5003)){var L=De.length;se=Math.max(2,se),fe.fill(0),K.fill(0),De.fill(-1);let pe=0,Ce=0;var Fe=se+1;const We=Fe;let tt=!1,Oe=We,ke=(1<<Oe)-1;var Be=1<<Fe-1;const je=1+Be;let Qe=2+Be,Ke=0,gt=J[0],ft=0;for(let sn=L;sn<65536;sn*=2)++ft;ft=8-ft,ne.writeByte(se),un(Be);var yt=J.length;for(let sn=1;sn<yt;sn++)e:{var Pt=J[sn],Jt=(Pt<<12)+gt;let Yt=Pt<<ft^gt;if(De[Yt]===Jt)gt=K[Yt];else{for(var Ft=0===Yt?1:L-Yt;0<=De[Yt];)if((Yt-=Ft)<0&&(Yt+=L),De[Yt]===Jt){gt=K[Yt];break e}un(gt),gt=Pt,Qe<4096?(K[Yt]=Qe++,De[Yt]=Jt):(De.fill(-1),Qe=2+Be,tt=!0,un(Be))}}return un(gt),un(je),ne.writeByte(0),ne.bytesView();function un(sn){for(pe&=i[Ce],0<Ce?pe|=sn<<Ce:pe=sn,Ce+=Oe;8<=Ce;)fe[Ke++]=255&pe,254<=Ke&&(ne.writeByte(Ke),ne.writeBytesView(fe,0,Ke),Ke=0),pe>>=8,Ce-=8;if((Qe>ke||tt)&&(tt?(Oe=We,ke=(1<<Oe)-1,tt=!1):(++Oe,ke=12===Oe?1<<Oe:(1<<Oe)-1)),sn==je){for(;0<Ce;)fe[Ke++]=255&pe,254<=Ke&&(ne.writeByte(Ke),ne.writeBytesView(fe,0,Ke),Ke=0),pe>>=8,Ce-=8;0<Ke&&(ne.writeByte(Ke),ne.writeBytesView(fe,0,Ke),Ke=0)}}};function d(z,te,J){return z<<8&63488|te<<2&992|J>>3}function c(z,te,J,q){return z>>4|240&te|(240&J)<<4|(240&q)<<8}function u(z,te,J){return z>>4<<8|240&te|J>>4}function l(z,te,J){return z<te?te:J<z?J:z}function m(z){return z*z}function p(z,te,J){var q=0,ne=1e100;const fe=z[te];for(var De=fe.cnt,K=fe.ac,L=fe.rc,se=fe.gc,pe=fe.bc,Ce=fe.fw;0!=Ce;Ce=z[Ce].fw){var Fe,tt,We=z[Ce];ne<=(tt=De*(tt=We.cnt)/(De+tt))||(Fe=0,J&&ne<=(Fe+=tt*m(We.ac-K))||ne<=(Fe+=tt*m(We.rc-L))||ne<=(Fe+=tt*m(We.gc-se))||ne<=(Fe+=tt*m(We.bc-pe))||(ne=Fe,q=Ce))}fe.err=ne,fe.nn=q}function M(z,te){for(var J=0,q=0;q<z.length;q++){var ne=z[q]-te[q];J+=ne*ne}return J}function F(z,te){return 1<te?Math.round(z/te)*te:z}function N(z){return z*z}function P(z,te,J=M){let q=1/0,ne=-1;for(let De=0;De<z.length;De++){var fe=J(te,z[De]);fe<q&&(q=fe,ne=De)}return ne}function j(z,te,J=M){let q=1/0,ne=-1;for(let De=0;De<z.length;De++){var fe=J(te,z[De]);fe<q&&(q=fe,ne=De)}return[ne,q]}function V(z={}){const{initialCapacity:te=4096,auto:J=!0}=z,q=w(te),ne=new Uint8Array(256),fe=new Int32Array(5003),De=new Int32Array(5003);let K=!1;return{reset(){q.reset(),K=!1},finish(){q.writeByte(x.trailer)},bytes:()=>q.bytes(),bytesView:()=>q.bytesView(),get buffer(){return q.buffer},get stream(){return q},writeHeader:L,writeFrame(se,pe,Ce,gt={}){var{transparent:We=!1,transparentIndex:tt=0,delay:Ft=0,palette:Oe=null,repeat:yt=0,colorDepth:ke=8,dispose:Be=-1}=gt;let je=!1;if(J?K||(je=!0,L(),K=!0):je=!!gt.first,pe=Math.max(0,Math.floor(pe)),Ce=Math.max(0,Math.floor(Ce)),je){if(!Oe)throw new Error("First frame must include a { palette } option");var[gt,Pt,Ke,Jt,ft=8]=[q,pe,Ce,Oe,ke];ft=128|ft-1<<4|(Jt=W(Jt.length)-1),E(gt,Pt),E(gt,Ke),gt.writeBytes([ft,0,0]),k(q,Oe),0<=yt&&(Pt=yt,(Jt=q).writeByte(33),Jt.writeByte(255),Jt.writeByte(11),I(Jt,"NETSCAPE2.0"),Jt.writeByte(3),Jt.writeByte(1),E(Jt,Pt),Jt.writeByte(0))}var Qe,Ke,ft=Be,yt=Ke=Math.round(Ft/10),Pt=We,Jt=tt,Ft=((gt=q).writeByte(33),gt.writeByte(249),gt.writeByte(4),Jt<0&&(Jt=0,Pt=!1),Pt=Pt?(Qe=1,2):Qe=0,0<=ft&&(Pt=7&ft),gt.writeByte(0|(Pt<<=2)|Qe),E(gt,yt),gt.writeByte(Jt||0),gt.writeByte(0),!!Oe&&!je);We=pe,tt=Ce,Qe=Ft?Oe:null,(Be=q).writeByte(44),E(Be,0),E(Be,0),E(Be,We),E(Be,tt),Qe?(We=W(Qe.length)-1,Be.writeByte(128|We)):Be.writeByte(0),Ft&&k(q,Oe),[yt,gt,tt,We,Be=8,Ft,Oe,se]=[q,se,pe,Ce,ke,ne,fe,De],a(tt,We,gt,Be,yt,Ft,Oe,se)}};function L(){I(q,"GIF89a")}}function k(z,te){var J=1<<W(te.length);for(let q=0;q<J;q++){let ne=[0,0,0];q<te.length&&(ne=te[q]),z.writeByte(ne[0]),z.writeByte(ne[1]),z.writeByte(ne[2])}}function E(z,te){z.writeByte(255&te),z.writeByte(te>>8&255)}function I(z,te){for(var J=0;J<te.length;J++)z.writeByte(te.charCodeAt(J))}function W(z){return Math.max(Math.ceil(Math.log2(z)),1)}var Y=V},{}],251:[function(o,$,S){S.read=function(v,_,h,f,p){var w,i,a=8*p-f-1,d=(1<<a)-1,c=d>>1,u=-7,l=h?p-1:0,m=h?-1:1;for(p=v[_+l],l+=m,w=p&(1<<-u)-1,p>>=-u,u+=a;0<u;w=256*w+v[_+l],l+=m,u-=8);for(i=w&(1<<-u)-1,w>>=-u,u+=f;0<u;i=256*i+v[_+l],l+=m,u-=8);if(0===w)w=1-c;else{if(w===d)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,f),w-=c}return(p?-1:1)*i*Math.pow(2,w-f)},S.write=function(v,_,h,f,x,b){var i,a,d=8*b-x-1,c=(1<<d)-1,u=c>>1,l=23===x?Math.pow(2,-24)-Math.pow(2,-77):0,m=f?0:b-1,p=f?1:-1;for(b=_<0||0===_&&1/_<0?1:0,_=Math.abs(_),isNaN(_)||_===1/0?(a=isNaN(_)?1:0,i=c):(i=Math.floor(Math.log(_)/Math.LN2),_*(f=Math.pow(2,-i))<1&&(i--,f*=2),2<=(_+=1<=i+u?l/f:l*Math.pow(2,1-u))*f&&(i++,f/=2),c<=i+u?(a=0,i=c):1<=i+u?(a=(_*f-1)*Math.pow(2,x),i+=u):(a=_*Math.pow(2,u-1)*Math.pow(2,x),i=0));8<=x;v[h+m]=255&a,m+=p,a/=256,x-=8);for(i=i<<x|a,d+=x;0<d;v[h+m]=255&i,m+=p,i/=256,d-=8);v[h+m-p]|=128*b}},{}],252:[function(o,$,S){"use strict";var v;function _(Re,Ge){return Re.b===Ge.b&&Re.a===Ge.a}function h(Re,Ge){return Re.b<Ge.b||Re.b===Ge.b&&Re.a<=Ge.a}function f(Re,Ge,Te){var et=Ge.b-Re.b,Et=Te.b-Ge.b;return 0<et+Et?et<Et?Ge.a-Re.a+et/(et+Et)*(Re.a-Te.a):Ge.a-Te.a+Et/(et+Et)*(Te.a-Re.a):0}function x(Re,Ge,Te){var et=Ge.b-Re.b,Et=Te.b-Ge.b;return 0<et+Et?(Ge.a-Te.a)*et+(Ge.a-Re.a)*Et:0}function w(Re,Ge){return Re.a<Ge.a||Re.a===Ge.a&&Re.b<=Ge.b}function i(Re,Ge,Te){var et=Ge.a-Re.a,Et=Te.a-Ge.a;return 0<et+Et?et<Et?Ge.b-Re.b+et/(et+Et)*(Re.b-Te.b):Ge.b-Te.b+Et/(et+Et)*(Te.b-Re.b):0}function a(Re,Ge,Te){var et=Ge.a-Re.a,Et=Te.a-Ge.a;return 0<et+Et?(Ge.b-Te.b)*et+(Ge.b-Re.b)*Et:0}function d(Re,Ge,Te,et){return(Re=Re<0?0:Re)<=(Te=Te<0?0:Te)?0===Te?(Ge+et)/2:Ge+Re/(Re+Te)*(et-Ge):et+Te/(Re+Te)*(Ge-et)}function c(Re){var Ge=b(Re.b);return F(Ge,Re.c),F(Ge.b,Re.c),N(Ge,Re.a),Ge}function u(Re,Ge){var Te=!1,et=!1;Re!==Ge&&(Ge.a!==Re.a&&(et=!0,j(Ge.a,Re.a)),Ge.d!==Re.d&&(Te=!0,V(Ge.d,Re.d)),M(Ge,Re),et||(F(Ge,Re.a),Re.a.c=Re),Te||(N(Ge,Re.d),Re.d.a=Re))}function l(Re){var Ge=Re.b,Te=!1;Re.d!==Re.b.d&&(Te=!0,V(Re.d,Re.b.d)),Re.c===Re?j(Re.a,null):(Re.b.d.a=Re.b.e,Re.a.c=Re.c,M(Re,Re.b.e),Te||N(Re,Re.d)),Ge.c===Ge?(j(Ge.a,null),V(Ge.d,null)):(Re.d.a=Ge.b.e,Ge.a.c=Ge.c,M(Ge,Ge.b.e)),P(Re)}function m(Re){var Ge=b(Re),Te=Ge.b;return M(Ge,Re.e),Ge.a=Re.b.a,F(Te,Ge.a),Ge.d=Te.d=Re.d,Ge=Ge.b,M(Re.b,Re.b.b.e),M(Re.b,Ge),Re.b.a=Ge.a,Ge.b.a.c=Ge.b,Ge.b.d=Re.b.d,Ge.f=Re.f,Ge.b.f=Re.b.f,Ge}function p(Re,Ge){var Te=!1,et=b(Re),Et=et.b;return Ge.d!==Re.d&&(Te=!0,V(Ge.d,Re.d)),M(et,Re.e),M(Et,Ge),et.a=Re.b.a,Et.a=Ge.a,et.d=Et.d=Re.d,Re.d.a=Et,Te||N(et,Re.d),et}function b(Re){var Ge=new Ke,Te=new Ke;return(((Te.h=Re.b.h).b.h=Ge).h=Re).b.h=Te,Ge.b=Te,((Ge.c=Ge).e=Te).b=Ge,(Te.c=Te).e=Ge}function M(Re,Ge){var Te=Re.c,et=Ge.c;Te.b.e=Ge,(et.b.e=Re).c=et,Ge.c=Te}function F(Re,Ge){var Te=Ge.f,et=new ft(Ge,Te);for(Te.e=et,Te=(Ge.f=et).c=Re;Te.a=et,(Te=Te.c)!==Re;);}function N(Re,Ge){var Te=Ge.d,et=new Qe(Ge,Te);for(Te.b=et,(Ge.d=et).a=Re,et.c=Ge.c,Te=Re;Te.d=et,(Te=Te.e)!==Re;);}function P(Re){var Ge=Re.h;(Ge.b.h=Re=Re.b.h).b.h=Ge}function j(Re,Ge){for(var Te=Re.c,et=Te;et.a=Ge,(et=et.c)!==Te;);((et=Re.e).f=Te=Re.f).e=et}function V(Re,Ge){for(var Te=Re.a,et=Te;et.d=Ge,(et=et.e)!==Te;);((et=Re.b).d=Te=Re.d).b=et}function k(Re){var Ge=0;return Math.abs(Re[1])>Math.abs(Re[0])&&(Ge=1),Math.abs(Re[2])>Math.abs(Re[Ge])?2:Ge}function E(Re,Ge){Re.f+=Ge.f,Re.b.f+=Ge.b.f}function I(Re,Ge,Te){return Te=Te.a,(Ge=Ge.a).b.a===(Re=Re.a)?Te.b.a===Re?h(Ge.a,Te.a)?x(Te.b.a,Ge.a,Te.a)<=0:0<=x(Ge.b.a,Te.a,Ge.a):x(Te.b.a,Re,Te.a)<=0:Te.b.a===Re?0<=x(Ge.b.a,Re,Ge.a):(Ge=f(Ge.b.a,Re,Ge.a),(Re=f(Te.b.a,Re,Te.a))<=Ge)}function W(Re){Re.a.i=null;var Ge=Re.e;Ge.a.c=Ge.c,Ge.c.a=Ge.a,Re.e=null}function Y(Re,Ge){l(Re.a),Re.c=!1,(Re.a=Ge).i=Re}function z(Re){for(var Ge=Re.a.a;(Re=wt(Re)).a.a===Ge;);return Re.c&&(Y(Re,Ge=p(Ht(Re).a.b,Re.a.e)),Re=wt(Re)),Re}function te(Re,Ge,Te){var et=new vt;return et.a=Te,et.e=tt(Re.f,Ge.e,et),Te.i=et}function J(Re,Ge){switch(Re.s){case 100130:return 0!=(1&Ge);case 100131:return 0!==Ge;case 100132:return 0<Ge;case 100133:return Ge<0;case 100134:return 2<=Ge||Ge<=-2}return!1}function q(Re){var Ge=Re.a,Te=Ge.d;Te.c=Re.d,Te.a=Ge,W(Re)}function ne(Re,Ge,Te){for(Ge=(Re=Ge).a;Re!==Te;){Re.c=!1;var et=Ht(Re),Et=et.a;if(Et.a!==Ge.a){if(!et.c){q(Re);break}Y(et,Et=p(Ge.c.b,Et.b))}Ge.c!==Et&&(u(Et.b.e,Et),u(Ge,Et)),q(Re),Ge=et.a,Re=et}return Ge}function fe(Re,Ge,Te,et,Et,Rt){for(var Gt=!0;te(Re,Ge,Te.b),(Te=Te.c)!==et;);for(null===Et&&(Et=Ht(Ge).a.b.c);(Te=(et=Ht(Ge)).a.b).a===Et.a;)Te.c!==Et&&(u(Te.b.e,Te),u(Et.b.e,Te)),et.f=Ge.f-Te.f,et.d=J(Re,et.f),Ge.b=!0,!Gt&&se(Re,Ge)&&(E(Te,Et),W(Ge),l(Et)),Gt=!1,Ge=et,Et=Te;Ge.b=!0,Rt&&Ce(Re,Ge)}function De(Re,Ge,Te,et,Et){var Rt=[Ge.g[0],Ge.g[1],Ge.g[2]];Ge.d=null,Ge.d=Re.o&&Re.o(Rt,Te,et,Re.c)||null,null===Ge.d&&(Et?Re.n||(je(Re,100156),Re.n=!0):Ge.d=Te[0])}function K(Re,Ge,Te){var et=[null,null,null,null];et[0]=Ge.a.d,et[1]=Te.a.d,De(Re,Ge.a,et,[.5,.5,0,0],!1),u(Ge,Te)}function L(Re,Ge,Te,et,Et){var Rt=Math.abs(Ge.b-Re.b)+Math.abs(Ge.a-Re.a),Gt=Math.abs(Te.b-Re.b)+Math.abs(Te.a-Re.a),ln=Et+1;et[Et]=.5*Gt/(Rt+Gt),et[ln]=.5*Rt/(Rt+Gt),Re.g[0]+=et[Et]*Ge.g[0]+et[ln]*Te.g[0],Re.g[1]+=et[Et]*Ge.g[1]+et[ln]*Te.g[1],Re.g[2]+=et[Et]*Ge.g[2]+et[ln]*Te.g[2]}function se(Re,Ge){var Te=Ht(Ge),et=Ge.a,Et=Te.a;if(h(et.a,Et.a)){if(0<x(Et.b.a,et.a,Et.a))return;if(_(et.a,Et.a)){if(et.a!==Et.a){Te=Re.e;var Rt=et.a.h;if(0<=Rt){var Gt=(Te=Te.b).d,ln=Te.e,_n=Te.c,wn=_n[Rt];Gt[wn]=Gt[Te.a],(_n[Gt[wn]]=wn)<=--Te.a&&(wn<=1||h(ln[Gt[wn>>1]],ln[Gt[wn]])?kt:zt)(Te,wn),ln[Rt]=null,_n[Rt]=Te.b,Te.b=Rt}else for(Te.c[-(Rt+1)]=null;0<Te.a&&null===Te.c[Te.d[Te.a-1]];)--Te.a;K(Re,Et.b.e,et)}}else m(Et.b),u(et,Et.b.e),Ge.b=Te.b=!0}else{if(x(et.b.a,Et.a,et.a)<0)return;wt(Ge).b=Ge.b=!0,m(et.b),u(Et.b.e,et)}return 1}function pe(Re,Ge){var Te=Ht(Ge),et=Ge.a,Et=Te.a,Rt=et.a,Gt=Et.a,ln=et.b.a,_n=Et.b.a,wn=new ft;if(x(ln,Re.a,Rt),x(_n,Re.a,Gt),!(Rt===Gt||Math.min(Rt.a,ln.a)>Math.max(Gt.a,_n.a))){if(h(Rt,Gt)){if(0<x(_n,Rt,Gt))return}else if(x(ln,Gt,Rt)<0)return;var Dt,xt,ot=ln,Ye=Rt,ut=_n,Ct=Gt;if(h(ot,Ye)||(Dt=ot,ot=Ye,Ye=Dt),h(ut,Ct)||(Dt=ut,ut=Ct,Ct=Dt),h(ot,ut)||(Dt=ot,ot=ut,ut=Dt,Dt=Ye,Ye=Ct,Ct=Dt),h(ut,Ye)?h(Ye,Ct)?((Dt=f(ot,ut,Ye))+(xt=f(ut,Ye,Ct))<0&&(Dt=-Dt,xt=-xt),wn.b=d(Dt,ut.b,xt,Ye.b)):((Dt=x(ot,ut,Ye))+(xt=-x(ot,Ct,Ye))<0&&(Dt=-Dt,xt=-xt),wn.b=d(Dt,ut.b,xt,Ct.b)):wn.b=(ut.b+Ye.b)/2,w(ot,Ye)||(Dt=ot,ot=Ye,Ye=Dt),w(ut,Ct)||(Dt=ut,ut=Ct,Ct=Dt),w(ot,ut)||(Dt=ot,ot=ut,ut=Dt,Dt=Ye,Ye=Ct,Ct=Dt),w(ut,Ye)?w(Ye,Ct)?((Dt=i(ot,ut,Ye))+(xt=i(ut,Ye,Ct))<0&&(Dt=-Dt,xt=-xt),wn.a=d(Dt,ut.a,xt,Ye.a)):((Dt=a(ot,ut,Ye))+(xt=-a(ot,Ct,Ye))<0&&(Dt=-Dt,xt=-xt),wn.a=d(Dt,ut.a,xt,Ct.a)):wn.a=(ut.a+Ye.a)/2,h(wn,Re.a)&&(wn.b=Re.a.b,wn.a=Re.a.a),ot=h(Rt,Gt)?Rt:Gt,h(ot,wn)&&(wn.b=ot.b,wn.a=ot.a),_(wn,Rt)||_(wn,Gt))return se(Re,Ge),0;if(!_(ln,Re.a)&&0<=x(ln,Re.a,wn)||!_(_n,Re.a)&&x(_n,Re.a,wn)<=0){if(_n===Re.a)m(et.b),u(Et.b,et),et=Ht(Ge=z(Ge)).a,ne(Re,Ht(Ge),Te),fe(Re,Ge,et.b.e,et,et,!0);else{if(ln!==Re.a)return 0<=x(ln,Re.a,wn)&&(wt(Ge).b=Ge.b=!0,m(et.b),et.a.b=Re.a.b,et.a.a=Re.a.a),void(x(_n,Re.a,wn)<=0&&(Ge.b=Te.b=!0,m(Et.b),Et.a.b=Re.a.b,Et.a.a=Re.a.a));for(m(Et.b),u(et.e,Et.b.e),Gt=(Rt=Te=Ge).a.b.a;(Rt=wt(Rt)).a.b.a===Gt;);Rt=Ht(Ge=Rt).a.b.c,Te.a=Et.b.e,fe(Re,Ge,(Et=ne(Re,Te,null)).c,et.b.c,Rt,!0)}return 1}m(et.b),m(Et.b),u(Et.b.e,et),et.a.b=wn.b,et.a.a=wn.a,et.a.h=Pt(Re.e,et.a),Et=[0,0,0,0],wn=[Rt.d,ln.d,Gt.d,_n.d],(et=et.a).g[0]=et.g[1]=et.g[2]=0,L(et,Rt,ln,Et,0),L(et,Gt,_n,Et,2),De(Re,et,wn,Et,!0),wt(Ge).b=Ge.b=Te.b=!0}}function Ce(Re,Ge){for(var Te=Ht(Ge);;){for(;Te.b;)Te=Ht(Ge=Te);if(!(Ge.b||null!==(Ge=wt(Te=Ge))&&Ge.b))break;Ge.b=!1;var et=Ge.a,Et=Te.a;if(Rt=et.b.a!==Et.b.a)e:{var Rt,Gt=Ht(Rt=Ge),ln=Rt.a,_n=Gt.a,wn=void 0;if(h(ln.b.a,_n.b.a)){if(x(ln.b.a,_n.b.a,ln.a)<0){Rt=!1;break e}wt(Rt).b=Rt.b=!0,wn=m(ln),u(_n.b,wn),wn.d.c=Rt.d}else{if(0<x(_n.b.a,ln.b.a,_n.a)){Rt=!1;break e}Rt.b=Gt.b=!0,wn=m(_n),u(ln.e,_n.b),wn.b.d.c=Rt.d}Rt=!0}if(Rt&&(Te.c?(W(Te),l(Et),Et=(Te=Ht(Ge)).a):Ge.c&&(W(Ge),l(et),et=(Ge=wt(Te)).a)),et.a!==Et.a)if(et.b.a===Et.b.a||Ge.c||Te.c||et.b.a!==Re.a&&Et.b.a!==Re.a)se(Re,Ge);else if(pe(Re,Ge))break;et.a===Et.a&&et.b.a===Et.b.a&&(E(Et,et),W(Ge),l(et),Ge=wt(Te))}}function Fe(Re,Ge){var Te=new vt,et=c(Re.b);et.a.b=4e150,et.a.a=Ge,et.b.a.b=-4e150,et.b.a.a=Ge,Re.a=et.b.a,Te.a=et,Te.f=0,Te.d=!1,Te.c=!1,Te.h=!0,Te.b=!1,et=tt(et=Re.f,et.a,Te),Te.e=et}function We(Re){this.a=new Oe,this.b=Re,this.c=I}function tt(Re,Ge,Te){for(;null!==(Ge=Ge.c).b&&!Re.c(Re.b,Ge.b,Te););return Re=new Oe(Te,Ge.a,Ge),Ge.a.c=Re,Ge.a=Re}function Oe(Re,Ge,Te){this.b=Re||null,this.a=Ge||this,this.c=Te||this}function ke(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Be(Re,Ge){if(Re.d!==Ge)for(;Re.d!==Ge;)if(Re.d<Ge)switch(Re.d){case 0:je(Re,100151),Re.u(null);break;case 1:je(Re,100152),Re.t()}else switch(Re.d){case 2:je(Re,100154),Re.v();break;case 1:je(Re,100153),Re.w()}}function je(Re,Ge){Re.p&&Re.p(Ge,Re.c)}function Qe(Re,Ge){this.b=Re||this,this.d=Ge||this,this.a=null,this.c=!1}function Ke(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function gt(){this.c=new ft,this.a=new Qe,this.b=new Ke,this.d=new Ke,this.b.b=this.d,this.d.b=this.b}function ft(Re,Ge){this.e=Re||this,this.f=Ge||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function yt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ft}function Pt(Re,Ge){var Te,et,Et;return Re.e?(2*(et=++(Te=Re.b).a)>Te.f&&(Te.f*=2,Te.c=un(Te.c,Te.f+1)),0===Te.b?Et=et:(Et=Te.b,Te.b=Te.c[Te.b]),Te.e[Et]=Ge,Te.c[Et]=et,Te.d[et]=Et,Te.h&&zt(Te,et),Et):(Te=Re.a++,Re.c[Te]=Ge,-(Te+1))}function Jt(Re){if(0===Re.a)return Yt(Re.b);var Ge=Re.c[Re.d[Re.a-1]];if(0!==Re.b.a&&h(sn(Re.b),Ge))return Yt(Re.b);for(;--Re.a,0<Re.a&&null===Re.c[Re.d[Re.a-1]];);return Ge}function Ft(){this.d=un([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function un(Re,Ge){for(var Te=Array(Ge),et=0;et<Re.length;et++)Te[et]=Re[et];for(;et<Ge;et++)Te[et]=0;return Te}function sn(Re){return Re.e[Re.d[1]]}function Yt(Re){var Ge=Re.d,Te=Re.e,et=Re.c,Et=Ge[1],Rt=Te[Et];return 0<Re.a&&(Ge[1]=Ge[Re.a],et[Ge[1]]=1,Te[Et]=null,et[Et]=Re.b,Re.b=Et,0<--Re.a&&kt(Re,1)),Rt}function kt(Re,Ge){for(var Te=Re.d,et=Re.e,Et=Re.c,Rt=Ge,Gt=Te[Rt];;){var ln=Rt<<1,_n=(ln<Re.a&&h(et[Te[ln+1]],et[Te[ln]])&&(ln+=1),Te[ln]);if(ln>Re.a||h(et[Gt],et[_n])){Et[Te[Rt]=Gt]=Rt;break}Et[Te[Rt]=_n]=Rt,Rt=ln}}function zt(Re,Ge){for(var Te=Re.d,et=Re.e,Et=Re.c,Rt=Ge,Gt=Te[Rt];;){var ln=Rt>>1,_n=Te[ln];if(0==ln||h(et[_n],et[Gt])){Et[Te[Rt]=Gt]=Rt;break}Et[Te[Rt]=_n]=Rt,Rt=ln}}function vt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ht(Re){return Re.e.c.b}function wt(Re){return Re.e.a.b}(v=ke.prototype).x=function(){Be(this,0)},v.B=function(Re,Ge){switch(Re){case 100142:return;case 100140:switch(Ge){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Ge)}break;case 100141:return void(this.m=!!Ge);default:return void je(this,100900)}je(this,100901)},v.y=function(Re){switch(Re){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:je(this,100900)}return!1},v.A=function(Re,Ge,Te){this.j[0]=Re,this.j[1]=Ge,this.j[2]=Te},v.z=function(Re,Ge){var Te=Ge||null;switch(Re){case 100100:case 100106:this.h=Te;break;case 100104:case 100110:this.l=Te;break;case 100101:case 100107:this.k=Te;break;case 100102:case 100108:this.i=Te;break;case 100103:case 100109:this.p=Te;break;case 100105:case 100111:this.o=Te;break;case 100112:this.r=Te;break;default:je(this,100900)}},v.C=function(Re,Ge){var Te=!1,et=[0,0,0];Be(this,2);for(var Et=0;Et<3;++Et){var Rt=Re[Et];Rt<-1e150&&(Rt=-1e150,Te=!0),1e150<Rt&&(Rt=1e150,Te=!0),et[Et]=Rt}Te&&je(this,100155),null===(Te=this.q)?u(Te=c(this.b),Te.b):(m(Te),Te=Te.e),Te.a.d=Ge,Te.a.g[0]=et[0],Te.a.g[1]=et[1],Te.a.g[2]=et[2],Te.f=1,Te.b.f=-1,this.q=Te},v.u=function(Re){Be(this,0),this.d=1,this.b=new gt,this.c=Re},v.t=function(){Be(this,1),this.d=2,this.q=null},v.v=function(){Be(this,2),this.d=1},v.w=function(){Be(this,1),this.d=0;var Re,Ge,Rt=!1,Gt=[Te=this.j[0],et=this.j[1],Et=this.j[2]];if(0===Te&&0===et&&0===Et){for(var et=[-2e150,-2e150,-2e150],ln=[2e150,2e150,2e150],Et=[],_n=[],Te=(Rt=this.b.c).e;Te!==Rt;Te=Te.e)for(var wn=0;wn<3;++wn){var Dt=Te.g[wn];Dt<ln[wn]&&(ln[wn]=Dt,_n[wn]=Te),Dt>et[wn]&&(et[wn]=Dt,Et[wn]=Te)}if(et[1]-ln[1]>et[Te=0]-ln[0]&&(Te=1),ln[Te=et[2]-ln[2]>et[Te]-ln[Te]?2:Te]>=et[Te])Gt[0]=0,Gt[1]=0,Gt[2]=1;else{for(ln=_n[Te],_n=[et=0,0,0],ln=[ln.g[0]-(Et=Et[Te]).g[0],ln.g[1]-Et.g[1],ln.g[2]-Et.g[2]],wn=[0,0,0],Te=Rt.e;Te!==Rt;Te=Te.e)wn[0]=Te.g[0]-Et.g[0],wn[1]=Te.g[1]-Et.g[1],wn[2]=Te.g[2]-Et.g[2],_n[0]=ln[1]*wn[2]-ln[2]*wn[1],_n[1]=ln[2]*wn[0]-ln[0]*wn[2],_n[2]=ln[0]*wn[1]-ln[1]*wn[0],et<(Dt=_n[0]*_n[0]+_n[1]*_n[1]+_n[2]*_n[2])&&(et=Dt,Gt[0]=_n[0],Gt[1]=_n[1],Gt[2]=_n[2]);et<=0&&(Gt[0]=Gt[1]=Gt[2]=0,Gt[k(ln)]=1)}Rt=!0}for(et=((_n=k(Gt))+1)%3,Et=(_n+2)%3,_n=0<Gt[_n]?1:-1,Gt=(Te=this.b.c).e;Gt!==Te;Gt=Gt.e)Gt.b=Gt.g[et],Gt.a=_n*Gt.g[Et];if(Rt){for(Gt=0,Te=(Rt=this.b.a).b;Te!==Rt;Te=Te.b)if(!((et=Te.a).f<=0))for(;Gt+=(et.a.b-et.b.a.b)*(et.a.a+et.b.a.a),(et=et.e)!==Te.a;);if(Gt<0)for(Rt=(Gt=this.b.c).e;Rt!==Gt;Rt=Rt.e)Rt.a=-Rt.a}for(this.n=!1,Te=(Gt=this.b.b).h;Te!==Gt;Te=Rt)Rt=Te.h,et=Te.e,_(Te.a,Te.b.a)&&Te.e.e!==Te&&(K(this,et,Te),l(Te),et=(Te=et).e),et.e===Te&&(et!==Te&&(et!==Rt&&et!==Rt.b||(Rt=Rt.h),l(et)),Te!==Rt&&Te!==Rt.b||(Rt=Rt.h),l(Te));for(this.e=Gt=new yt,Te=(Rt=this.b.c).e;Te!==Rt;Te=Te.e)Te.h=Pt(Gt,Te);var xt=Gt;xt.d=[];for(var ot=0;ot<xt.a;ot++)xt.d[ot]=ot;xt.d.sort(function(Ct){return function(rn,ze){return h(Ct[rn],Ct[ze])?1:-1}}(xt.c)),xt.e=!0;for(var Ye=xt.b,ut=Ye.a;1<=ut;--ut)kt(Ye,ut);for(Ye.h=!0,this.f=new We(this),Fe(this,-4e150),Fe(this,4e150);null!==(Gt=Jt(this.e));){for(;;){e:if(0===(Te=this.e).a)Rt=sn(Te.b);else if(Rt=Te.c[Te.d[Te.a-1]],0!==Te.b.a&&h(Te=sn(Te.b),Rt)){Rt=Te;break e}if(null===Rt||!_(Rt,Gt))break;Rt=Jt(this.e),K(this,Gt.c,Rt.c)}!function Ct(rn,ze){for(var bt,Nt=(rn.a=ze).c;null===Nt.i;)if((Nt=Nt.c)===ze.c){Nt=rn;var Lt=ze;(En=new vt).a=Lt.c.b;for(var Cn=(Xt=Nt.f).a;null!==(Cn=Cn.a).b&&!Xt.c(Xt.b,En,Cn.b););var Xt,hn,vn=Ht(Xt=Cn.b),En=Xt.a;return Cn=vn.a,void(0===x(En.b.a,Lt,En.a)?_((En=Xt.a).a,Lt)||_(En.b.a,Lt)||(m(En.b),Xt.c&&(l(En.c),Xt.c=!1),u(Lt.c,En),Ct(Nt,Lt)):(hn=h(Cn.b.a,En.b.a)?Xt:vn,vn=void 0,Xt.d||hn.c?(vn=hn===Xt?p(Lt.c.b,En.e):p(Cn.b.c.b,Lt.c).b,hn.c?Y(hn,vn):((Xt=te(En=Nt,Xt,vn)).f=wt(Xt).f+Xt.a.f,Xt.d=J(En,Xt.f)),Ct(Nt,Lt)):fe(Nt,Xt,Lt.c,Lt.c,null,!0)))}Xt=(En=Ht(Nt=z(Nt.i))).a,(En=ne(rn,En,null)).c===Xt?(En=(Xt=En).c,Cn=Ht(Nt),bt=!1,(vn=Nt.a).b.a!==(hn=Cn.a).b.a&&pe(rn,Nt),_(vn.a,rn.a)&&(u(En.b.e,vn),En=Ht(Nt=z(Nt)).a,ne(rn,Ht(Nt),Cn),bt=!0),_(hn.a,rn.a)&&(u(Xt,hn.b.e),Xt=ne(rn,Cn,null),bt=!0),bt?fe(rn,Nt,Xt.c,En,En,!0):(Lt=h(hn.a,vn.a)?hn.b.e:vn,fe(rn,Nt,Lt=p(Xt.c.b,Lt),Lt.c,Lt.c,!1),Lt.b.i.c=!0,Ce(rn,Nt))):fe(rn,Nt,En.c,Xt,Xt,!0)}(this,Gt)}for(this.a=this.f.a.a.b.a.a,Gt=0;null!==(Rt=this.f.a.a.b);)Rt.h||++Gt,W(Rt);for(this.f=null,(Gt=this.e).b=null,Gt.d=null,this.e=Gt.c=null,Te=(Gt=this.b).a.b;Te!==Gt.a;Te=Rt)Rt=Te.b,(Te=Te.a).e.e===Te&&(E(Te.c,Te),l(Te));if(!this.n){if(Gt=this.b,this.m)for(Te=Gt.b.h;Te!==Gt.b;Te=Rt)Rt=Te.h,Te.b.d.c!==Te.d.c?Te.f=Te.d.c?1:-1:l(Te);else for(Te=Gt.a.b;Te!==Gt.a;Te=Rt)if(Rt=Te.b,Te.c){for(Te=Te.a;h(Te.b.a,Te.a);Te=Te.c.b);for(;h(Te.a,Te.b.a);Te=Te.e);for(et=Te.c.b,Et=void 0;Te.e!==et;)if(h(Te.b.a,et.a)){for(;et.e!==Te&&(h((Ge=et.e).b.a,Ge.a)||x(et.a,et.b.a,et.e.b.a)<=0);)et=(Et=p(et.e,et)).b;et=et.c.b}else{for(;et.e!==Te&&(h((Re=Te.c.b).a,Re.b.a)||0<=x(Te.b.a,Te.a,Te.c.b.a));)Te=(Et=p(Te,Te.c.b)).b;Te=Te.e}for(;et.e.e!==Te;)et=(Et=p(et.e,et)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(Rt=(Gt=this.b).a.b;Rt!==Gt.a;Rt=Rt.b)if(Rt.c){for(this.h&&this.h(2,this.c),Te=Rt.a;this.k&&this.k(Te.a.d,this.c),(Te=Te.e)!==Rt.a;);this.i&&this.i(this.c)}}else{for(Rt=!!this.l,Te=!1,et=-1,Et=(Gt=this.b).a.d;Et!==Gt.a;Et=Et.d)if(Et.c)for(Te||(this.h&&this.h(4,this.c),Te=!0),_n=Et.a;Rt&&et!==(ln=_n.b.d.c?0:1)&&(et=ln,this.l&&this.l(!!et,this.c)),this.k&&this.k(_n.a.d,this.c),(_n=_n.e)!==Et.a;);Te&&this.i&&this.i(this.c)}if(this.r){for(Te=(Gt=this.b).a.b;Te!==Gt.a;Te=Rt)if(Rt=Te.b,!Te.c){for(Et=(et=Te.a).e,_n=void 0;Et=(_n=Et).e,(_n.d=null)===_n.b.d&&(_n.c===_n?j(_n.a,null):(_n.a.c=_n.c,M(_n,_n.b.e)),(ln=_n.b).c===ln?j(ln.a,null):(ln.a.c=ln.c,M(ln,ln.b.e)),P(_n)),_n!==et;);et=Te.d,((Te=Te.b).d=et).b=Te}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ke,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ke.prototype.gluDeleteTess=ke.prototype.x,ke.prototype.gluTessProperty=ke.prototype.B,ke.prototype.gluGetTessProperty=ke.prototype.y,ke.prototype.gluTessNormal=ke.prototype.A,ke.prototype.gluTessCallback=ke.prototype.z,ke.prototype.gluTessVertex=ke.prototype.C,ke.prototype.gluTessBeginPolygon=ke.prototype.u,ke.prototype.gluTessBeginContour=ke.prototype.t,ke.prototype.gluTessEndContour=ke.prototype.v,ke.prototype.gluTessEndPolygon=ke.prototype.w,void 0!==$&&($.exports=this.libtess)},{}],253:[function(o,$,S){"use strict";function _(h,f,x,w){for(var i=h[f++],a=1<<i,d=1+a,c=1+d,u=i+1,l=(1<<u)-1,m=0,p=0,b=0,M=h[f++],F=new Int32Array(4096),N=null;;){for(;m<16&&0!==M;)p|=h[f++]<<m,m+=8,1===M?M=h[f++]:--M;if(m<u)break;var P=p&l;if(p>>=u,m-=u,P==a)c=1+d,l=(1<<(u=i+1))-1,N=null;else{if(P==d)break;for(var j=P<c?P:N,V=0,k=j;a<k;)k=F[k]>>8,++V;var E=k;if(w<b+V+(j!==P?1:0))return void console.log("Warning, gif stream longer than expected.");x[b++]=E;var I=b+=V;for(j!==P&&(x[b++]=E),k=j;V--;)x[--I]=255&(k=F[k]),k>>=8;null!==N&&c<4096&&(F[c++]=N<<8|E,l+1<=c&&u<12&&(++u,l=l<<1|1)),N=P}}b!==w&&console.log("Warning, gif stream shorter than expected.")}try{S.GifWriter=function v(h,f,x,w){var i=0,a=void 0===(w=void 0===w?{}:w).loop?null:w.loop,d=void 0===w.palette?null:w.palette;if(f<=0||x<=0||65535<f||65535<x)throw new Error("Width/Height invalid.");function c(N){if((N=N.length)<2||256<N||N&N-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return N}h[i++]=71,h[i++]=73,h[i++]=70,h[i++]=56,h[i++]=57,h[i++]=97;var u=0,l=0;if(null!==d){for(var m=c(d);m>>=1;)++u;if(m=1<<u,--u,void 0!==w.background){if(m<=(l=w.background))throw new Error("Background index out of range.");if(0===l)throw new Error("Background index explicitly passed as 0.")}}if(h[i++]=255&f,h[i++]=f>>8&255,h[i++]=255&x,h[i++]=x>>8&255,h[i++]=(null!==d?128:0)|u,h[i++]=l,h[i++]=0,null!==d)for(var p=0,b=d.length;p<b;++p){var M=d[p];h[i++]=M>>16&255,h[i++]=M>>8&255,h[i++]=255&M}if(null!==a){if(a<0||65535<a)throw new Error("Loop count invalid.");h[i++]=33,h[i++]=255,h[i++]=11,h[i++]=78,h[i++]=69,h[i++]=84,h[i++]=83,h[i++]=67,h[i++]=65,h[i++]=80,h[i++]=69,h[i++]=50,h[i++]=46,h[i++]=48,h[i++]=3,h[i++]=1,h[i++]=255&a,h[i++]=a>>8&255,h[i++]=0}var F=!1;this.addFrame=function(N,P,j,V,k,E){if(!0===F&&(--i,F=!1),E=void 0===E?{}:E,N<0||P<0||65535<N||65535<P)throw new Error("x/y invalid.");if(j<=0||V<=0||65535<j||65535<V)throw new Error("Width/Height invalid.");if(k.length<j*V)throw new Error("Not enough pixels for the frame size.");var I=!0,W=E.palette;if(null==W&&(I=!1,W=d),null==W)throw new Error("Must supply either a local or global palette.");for(var z=c(W),Y=0;z>>=1;)++Y;z=1<<Y;var te=void 0===E.delay?0:E.delay,J=void 0===E.disposal?0:E.disposal;if(J<0||3<J)throw new Error("Disposal out of range.");var q=!1,ne=0;if(null!=E.transparent&&(q=!0,(ne=E.transparent)<0||z<=ne))throw new Error("Transparent color index.");if(0===J&&!q&&0===te||(h[i++]=33,h[i++]=249,h[i++]=4,h[i++]=J<<2|(!0===q?1:0),h[i++]=255&te,h[i++]=te>>8&255,h[i++]=ne,h[i++]=0),h[i++]=44,h[i++]=255&N,h[i++]=N>>8&255,h[i++]=255&P,h[i++]=P>>8&255,h[i++]=255&j,h[i++]=j>>8&255,h[i++]=255&V,h[i++]=V>>8&255,h[i++]=!0===I?128|Y-1:0,!0===I)for(var fe=0,De=W.length;fe<De;++fe){var K=W[fe];h[i++]=K>>16&255,h[i++]=K>>8&255,h[i++]=255&K}return i=function(L,se,pe,Ce){L[se++]=pe;var Fe=se++,We=1<<pe,tt=We-1,Oe=1+We,ke=1+Oe,Be=pe+1,je=0,Qe=0;function Ke(Yt){for(;Yt<=je;)L[se++]=255&Qe,Qe>>=8,je-=8,se===Fe+256&&(L[Fe]=255,Fe=se++)}function gt(Yt){Qe|=Yt<<je,je+=Be,Ke(8)}var ft=Ce[0]&tt,yt={};gt(We);for(var Pt=1,Jt=Ce.length;Pt<Jt;++Pt){var Ft=Ce[Pt]&tt,un=ft<<8|Ft,sn=yt[un];if(void 0===sn){for(Qe|=ft<<je,je+=Be;8<=je;)L[se++]=255&Qe,Qe>>=8,je-=8,se===Fe+256&&(L[Fe]=255,Fe=se++);4096===ke?(gt(We),ke=1+Oe,Be=pe+1,yt={}):(1<<Be<=ke&&++Be,yt[un]=ke++),ft=Ft}else ft=sn}return gt(ft),gt(Oe),Ke(1),Fe+1===se?L[Fe]=0:(L[Fe]=se-Fe-1,L[se++]=0),se}(h,i,Y<2?2:Y,k)},this.end=function(){return!1===F&&(h[i++]=59,F=!0),i},this.getOutputBuffer=function(){return h},this.setOutputBuffer=function(N){h=N},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(N){i=N}},S.GifReader=function(h){var f=0;if(71!==h[f++]||73!==h[f++]||70!==h[f++]||56!==h[f++]||56!=(h[f++]+1&253)||97!==h[f++])throw new Error("Invalid GIF 87a/89a header.");var x=h[f++]|h[f++]<<8,w=h[f++]|h[f++]<<8,i=h[f++],d=(f++,f++,null),c=null,u=(i>>7&&(d=f,f+=3*(c=1<<1+(7&i))),!0),l=[],m=0,p=null,b=0,M=null;for(this.width=x,this.height=w;u&&f<h.length;)switch(h[f++]){case 33:switch(h[f++]){case 255:if(11!==h[f]||78==h[f+1]&&69==h[f+2]&&84==h[f+3]&&83==h[f+4]&&67==h[f+5]&&65==h[f+6]&&80==h[f+7]&&69==h[f+8]&&50==h[f+9]&&46==h[f+10]&&48==h[f+11]&&3==h[f+12]&&1==h[f+13]&&0==h[f+16])f+=14,M=h[f++]|h[f++]<<8,f++;else for(f+=12;;){if(!(0<=(N=h[f++])))throw Error("Invalid block size");if(0===N)break;f+=N}break;case 249:if(4!==h[f++]||0!==h[f+4])throw new Error("Invalid graphics extension block.");var F=h[f++];m=h[f++]|h[f++]<<8,p=h[f++],!(1&F)&&(p=null),b=F>>2&7,f++;break;case 254:for(;;){if(!(0<=(N=h[f++])))throw Error("Invalid block size");if(0===N)break;f+=N}break;default:throw new Error("Unknown graphic control label: 0x"+h[f-1].toString(16))}break;case 44:var N,P=h[f++]|h[f++]<<8,j=h[f++]|h[f++]<<8,V=h[f++]|h[f++]<<8,k=h[f++]|h[f++]<<8,E=(te=h[f++])>>6&1,W=d,Y=c,z=!1,te=(te>>7&&(z=!0,W=f,f+=3*(Y=1<<1+(7&te))),f);for(f++;;){if(!(0<=(N=h[f++])))throw Error("Invalid block size");if(0===N)break;f+=N}l.push({x:P,y:j,width:V,height:k,has_local_palette:z,palette_offset:W,palette_size:Y,data_offset:te,data_length:f-te,transparent_index:p,interlaced:!!E,delay:m,disposal:b});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+h[f-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return M},this.frameInfo=function(J){if(J<0||J>=l.length)throw new Error("Frame index out of range.");return l[J]},this.decodeAndBlitFrameBGRA=function(J,q){for(var ne=(J=this.frameInfo(J)).width*J.height,fe=new Uint8Array(ne),De=(_(h,J.data_offset,fe,ne),J.palette_offset),K=J.transparent_index,L=(null===K&&(K=256),J.width),se=x-L,pe=L,Ce=4*(J.y*x+J.x),Fe=4*((J.y+J.height)*x+J.x),We=Ce,tt=4*se,Oe=(!0===J.interlaced&&(tt+=4*x*7),8),ke=0,Be=fe.length;ke<Be;++ke){var je,Qe,Ke=fe[ke];0===pe&&(pe=L,Fe<=(We+=tt)&&(tt=4*se+4*x*(Oe-1),We=Ce+(L+se)*(Oe<<1),Oe>>=1)),Ke===K?We+=4:(je=h[De+3*Ke],Qe=h[De+3*Ke+1],q[We++]=Ke=h[De+3*Ke+2],q[We++]=Qe,q[We++]=je,q[We++]=255),--pe}},this.decodeAndBlitFrameRGBA=function(J,q){for(var ne=(J=this.frameInfo(J)).width*J.height,fe=new Uint8Array(ne),De=(_(h,J.data_offset,fe,ne),J.palette_offset),K=J.transparent_index,L=(null===K&&(K=256),J.width),se=x-L,pe=L,Ce=4*(J.y*x+J.x),Fe=4*((J.y+J.height)*x+J.x),We=Ce,tt=4*se,Oe=(!0===J.interlaced&&(tt+=4*x*7),8),ke=0,Be=fe.length;ke<Be;++ke){var je,Qe,Ke=fe[ke];0===pe&&(pe=L,Fe<=(We+=tt)&&(tt=4*se+4*x*(Oe-1),We=Ce+(L+se)*(Oe<<1),Oe>>=1)),Ke===K?We+=4:(je=h[De+3*Ke],Qe=h[De+3*Ke+1],Ke=h[De+3*Ke+2],q[We++]=je,q[We++]=Qe,q[We++]=Ke,q[We++]=255),--pe}}}}catch{}},{}],254:[function(o,$,S){(function(v){var h;h=function(f){"use strict";function x(Z){if(null==this)throw TypeError();var B,A=String(this),T=A.length;if(!((Z=(Z=Z?Number(Z):0)!=Z?0:Z)<0||T<=Z))return 55296<=(B=A.charCodeAt(Z))&&B<=56319&&Z+1<T&&56320<=(T=A.charCodeAt(Z+1))&&T<=57343?1024*(B-55296)+T-56320+65536:B}String.prototype.codePointAt||((w=function(){try{var C={},B=Object.defineProperty,A=B(C,C,C)&&B}catch{}return A}())?w(String.prototype,"codePointAt",{value:x,configurable:!0,writable:!0}):String.prototype.codePointAt=x);var w;function d(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function c(C,B){this.source=C,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=B,this.destLen=0,this.ltree=new d,this.dtree=new d}var u=new d,l=new d,m=new Uint8Array(30),p=new Uint16Array(30),b=new Uint8Array(30),M=new Uint16Array(30),F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N=new d,P=new Uint8Array(320);function j(C,B,A,T){for(var Z,X=0;X<A;++X)C[X]=0;for(X=0;X<30-A;++X)C[X+A]=X/A|0;for(Z=T,X=0;X<30;++X)B[X]=Z,Z+=1<<C[X]}var V=new Uint16Array(16);function k(C,B,A,T){for(var Z,X=0;X<16;++X)C.table[X]=0;for(X=0;X<T;++X)C.table[B[A+X]]++;for(X=Z=C.table[0]=0;X<16;++X)V[X]=Z,Z+=C.table[X];for(X=0;X<T;++X)B[A+X]&&(C.trans[V[B[A+X]]++]=X)}function E(C,B,A){if(!B)return A;for(;C.bitcount<24;)C.tag|=C.source[C.sourceIndex++]<<C.bitcount,C.bitcount+=8;var T=C.tag&65535>>>16-B;return C.tag>>>=B,C.bitcount-=B,T+A}function I(C,B){for(;C.bitcount<24;)C.tag|=C.source[C.sourceIndex++]<<C.bitcount,C.bitcount+=8;for(var A=0,T=0,Z=0,X=C.tag;T=2*T+(1&X),X>>>=1,A+=B.table[++Z],0<=(T-=B.table[Z]););return C.tag=X,C.bitcount-=Z,B.trans[A+T]}function W(C,B,A){for(;;){if(256===(T=I(C,B)))return 0;if(T<256)C.dest[C.destLen++]=T;else for(var Z,X=E(C,m[T-=257],p[T]),T=I(C,A),ue=Z=C.destLen-E(C,b[T],M[T]);ue<Z+X;++ue)C.dest[C.destLen++]=C.dest[ue]}}for(var Y=u,z=l,te=0;te<7;++te)Y.table[te]=0;for(Y.table[7]=24,Y.table[8]=152,Y.table[9]=112,te=0;te<24;++te)Y.trans[te]=256+te;for(te=0;te<144;++te)Y.trans[24+te]=te;for(te=0;te<8;++te)Y.trans[168+te]=280+te;for(te=0;te<112;++te)Y.trans[176+te]=144+te;for(te=0;te<5;++te)z.table[te]=0;for(z.table[5]=32,te=0;te<32;++te)z.trans[te]=te;j(m,p,4,3),j(b,M,2,1),m[28]=0,p[28]=258;var J=function(C,B){var A,T,Z,X=new c(C,B);do{switch(void 0,(T=X).bitcount--||(T.tag=T.source[T.sourceIndex++],T.bitcount=7),Z=1&T.tag,T.tag>>>=1,T=Z,E(X,2,0)){case 0:A=function(Kt){for(var Bn,$n;8<Kt.bitcount;)Kt.sourceIndex--,Kt.bitcount-=8;if((Bn=256*Kt.source[Kt.sourceIndex+1]+Kt.source[Kt.sourceIndex])!==(65535&~(256*Kt.source[Kt.sourceIndex+3]+Kt.source[Kt.sourceIndex+2])))return-3;for(Kt.sourceIndex+=4,$n=Bn;$n;--$n)Kt.dest[Kt.destLen++]=Kt.source[Kt.sourceIndex++];return Kt.bitcount=0,0}(X);break;case 1:A=W(X,u,l);break;case 2:on=tn=yn=Zt=ue=mt=void 0;for(var ue,Le=X,Je=X.ltree,st=X.dtree,It=E(Le,5,257),Vt=E(Le,5,1),Bt=E(Le,4,4),mt=0;mt<19;++mt)P[mt]=0;for(mt=0;mt<Bt;++mt){var yn=E(Le,3,0);P[F[mt]]=yn}for(k(N,P,0,19),ue=0;ue<It+Vt;){var tn=I(Le,N);switch(tn){case 16:for(var on=P[ue-1],Zt=E(Le,2,3);Zt;--Zt)P[ue++]=on;break;case 17:for(Zt=E(Le,3,3);Zt;--Zt)P[ue++]=0;break;case 18:for(Zt=E(Le,7,11);Zt;--Zt)P[ue++]=0;break;default:P[ue++]=tn}}k(Je,P,0,It),k(st,P,It,Vt),A=W(X,X.ltree,X.dtree);break;default:A=-3}if(0!==A)throw new Error("Data error")}while(!T);return X.destLen<X.dest.length?"function"==typeof X.dest.slice?X.dest.slice(0,X.destLen):X.dest.subarray(0,X.destLen):X.dest};function q(C,B,A,T,Z){return Math.pow(1-Z,3)*C+3*Math.pow(1-Z,2)*Z*B+3*(1-Z)*Math.pow(Z,2)*A+Math.pow(Z,3)*T}function ne(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function fe(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function De(C){throw new Error(C)}function K(C,B){C||De(B)}ne.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ne.prototype.addPoint=function(C,B){"number"==typeof C&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=C,this.x2=C),C<this.x1&&(this.x1=C),C>this.x2&&(this.x2=C)),"number"==typeof B&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=B,this.y2=B),B<this.y1&&(this.y1=B),B>this.y2&&(this.y2=B))},ne.prototype.addX=function(C){this.addPoint(C,null)},ne.prototype.addY=function(C){this.addPoint(null,C)},ne.prototype.addBezier=function(C,B,A,T,Z,X,ue,Le){var Je=[C,B],st=[A,T],It=[Z,X],Vt=[ue,Le];this.addPoint(C,B),this.addPoint(ue,Le);for(var Bt=0;Bt<=1;Bt++){var mt,yn=6*Je[Bt]-12*st[Bt]+6*It[Bt],tn=-3*Je[Bt]+9*st[Bt]-9*It[Bt]+3*Vt[Bt],on=3*st[Bt]-3*Je[Bt];0==tn?0==yn||0<(mt=-on/yn)&&mt<1&&(0===Bt&&this.addX(q(Je[Bt],st[Bt],It[Bt],Vt[Bt],mt)),1===Bt&&this.addY(q(Je[Bt],st[Bt],It[Bt],Vt[Bt],mt))):(mt=Math.pow(yn,2)-4*on*tn)<0||(0<(on=(-yn+Math.sqrt(mt))/(2*tn))&&on<1&&(0===Bt&&this.addX(q(Je[Bt],st[Bt],It[Bt],Vt[Bt],on)),1===Bt&&this.addY(q(Je[Bt],st[Bt],It[Bt],Vt[Bt],on))),0<(on=(-yn-Math.sqrt(mt))/(2*tn))&&on<1&&(0===Bt&&this.addX(q(Je[Bt],st[Bt],It[Bt],Vt[Bt],on)),1===Bt&&this.addY(q(Je[Bt],st[Bt],It[Bt],Vt[Bt],on))))}},ne.prototype.addQuad=function(C,B,A,T,Z,X){this.addBezier(C,B,A=C+2/3*(A-C),T=B+2/3*(T-B),A+1/3*(Z-C),T+1/3*(X-B),Z,X)},fe.prototype.moveTo=function(C,B){this.commands.push({type:"M",x:C,y:B})},fe.prototype.lineTo=function(C,B){this.commands.push({type:"L",x:C,y:B})},fe.prototype.curveTo=fe.prototype.bezierCurveTo=function(C,B,A,T,Z,X){this.commands.push({type:"C",x1:C,y1:B,x2:A,y2:T,x:Z,y:X})},fe.prototype.quadTo=fe.prototype.quadraticCurveTo=function(C,B,A,T){this.commands.push({type:"Q",x1:C,y1:B,x:A,y:T})},fe.prototype.close=fe.prototype.closePath=function(){this.commands.push({type:"Z"})},fe.prototype.extend=function(C){var B;if(C.commands)C=C.commands;else if(C instanceof ne)return this.moveTo((B=C).x1,B.y1),this.lineTo(B.x2,B.y1),this.lineTo(B.x2,B.y2),this.lineTo(B.x1,B.y2),void this.close();Array.prototype.push.apply(this.commands,C)},fe.prototype.getBoundingBox=function(){for(var C=new ne,B=0,A=0,T=0,Z=0,X=0;X<this.commands.length;X++){var ue=this.commands[X];switch(ue.type){case"M":C.addPoint(ue.x,ue.y),B=T=ue.x,A=Z=ue.y;break;case"L":C.addPoint(ue.x,ue.y),T=ue.x,Z=ue.y;break;case"Q":C.addQuad(T,Z,ue.x1,ue.y1,ue.x,ue.y),T=ue.x,Z=ue.y;break;case"C":C.addBezier(T,Z,ue.x1,ue.y1,ue.x2,ue.y2,ue.x,ue.y),T=ue.x,Z=ue.y;break;case"Z":T=B,Z=A;break;default:throw new Error("Unexpected path command "+ue.type)}}return C.isEmpty()&&C.addPoint(0,0),C},fe.prototype.draw=function(C){C.beginPath();for(var B=0;B<this.commands.length;B+=1){var A=this.commands[B];"M"===A.type?C.moveTo(A.x,A.y):"L"===A.type?C.lineTo(A.x,A.y):"C"===A.type?C.bezierCurveTo(A.x1,A.y1,A.x2,A.y2,A.x,A.y):"Q"===A.type?C.quadraticCurveTo(A.x1,A.y1,A.x,A.y):"Z"===A.type&&C.closePath()}this.fill&&(C.fillStyle=this.fill,C.fill()),this.stroke&&(C.strokeStyle=this.stroke,C.lineWidth=this.strokeWidth,C.stroke())},fe.prototype.toPathData=function(C){function B(){for(var X=arguments,ue="",Le=0;Le<arguments.length;Le+=1){var Je=X[Le];0<=Je&&0<Le&&(ue+=" "),ue+=Math.round(Je)===Je?""+Math.round(Je):Je.toFixed(C)}return ue}C=void 0!==C?C:2;for(var A="",T=0;T<this.commands.length;T+=1){var Z=this.commands[T];"M"===Z.type?A+="M"+B(Z.x,Z.y):"L"===Z.type?A+="L"+B(Z.x,Z.y):"C"===Z.type?A+="C"+B(Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y):"Q"===Z.type?A+="Q"+B(Z.x1,Z.y1,Z.x,Z.y):"Z"===Z.type&&(A+="Z")}return A},fe.prototype.toSVG=function(C){var B=(B='<path d="')+this.toPathData(C)+'"';return this.fill&&"black"!==this.fill&&(B+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(B+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),B+"/>"},fe.prototype.toDOMElement=function(B){B=this.toPathData(B);var A=document.createElementNS("http://www.w3.org/2000/svg","path");return A.setAttribute("d",B),A};var L={fail:De,argument:K,assert:K},se={},pe={},Ce={};function Fe(C){return function(){return C}}pe.BYTE=function(C){return L.argument(0<=C&&C<=255,"Byte value should be between 0 and 255."),[C]},Ce.BYTE=Fe(1),pe.CHAR=function(C){return[C.charCodeAt(0)]},Ce.CHAR=Fe(1),pe.CHARARRAY=function(C){for(var B=[],A=0;A<C.length;A+=1)B[A]=C.charCodeAt(A);return B},Ce.CHARARRAY=function(C){return C.length},pe.USHORT=function(C){return[C>>8&255,255&C]},Ce.USHORT=Fe(2),pe.SHORT=function(C){return[(C=32768<=C?-(65536-C):C)>>8&255,255&C]},Ce.SHORT=Fe(2),pe.UINT24=function(C){return[C>>16&255,C>>8&255,255&C]},Ce.UINT24=Fe(3),pe.ULONG=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},Ce.ULONG=Fe(4),pe.LONG=function(C){return[(C=2147483648<=C?-(4294967296-C):C)>>24&255,C>>16&255,C>>8&255,255&C]},Ce.LONG=Fe(4),pe.FIXED=pe.ULONG,Ce.FIXED=Ce.ULONG,pe.FWORD=pe.SHORT,Ce.FWORD=Ce.SHORT,pe.UFWORD=pe.USHORT,Ce.UFWORD=Ce.USHORT,pe.LONGDATETIME=function(C){return[0,0,0,0,C>>24&255,C>>16&255,C>>8&255,255&C]},Ce.LONGDATETIME=Fe(8),pe.TAG=function(C){return L.argument(4===C.length,"Tag should be exactly 4 ASCII characters."),[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]},Ce.TAG=Fe(4),pe.Card8=pe.BYTE,Ce.Card8=Ce.BYTE,pe.Card16=pe.USHORT,Ce.Card16=Ce.USHORT,pe.OffSize=pe.BYTE,Ce.OffSize=Ce.BYTE,pe.SID=pe.USHORT,Ce.SID=Ce.USHORT,pe.NUMBER=function(C){return-107<=C&&C<=107?[C+139]:108<=C&&C<=1131?[247+((C-=108)>>8),255&C]:-1131<=C&&C<=-108?[251+((C=-C-108)>>8),255&C]:-32768<=C&&C<=32767?pe.NUMBER16(C):pe.NUMBER32(C)},Ce.NUMBER=function(C){return pe.NUMBER(C).length},pe.NUMBER16=function(C){return[28,C>>8&255,255&C]},Ce.NUMBER16=Fe(3),pe.NUMBER32=function(C){return[29,C>>24&255,C>>16&255,C>>8&255,255&C]},Ce.NUMBER32=Fe(5),pe.REAL=function(C){for(var B=C.toString(),A=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(B),T=(A&&(A=parseFloat("1e"+((A[2]?+A[2]:0)+A[1].length)),B=(Math.round(C*A)/A).toString()),""),Z=0,X=B.length;Z<X;Z+=1){var ue=B[Z];T+="e"===ue?"-"===B[++Z]?"c":"b":"."===ue?"a":"-"===ue?"e":ue}for(var Le=[30],Je=0,st=(T+=1&T.length?"f":"ff").length;Je<st;Je+=2)Le.push(parseInt(T.substr(Je,2),16));return Le},Ce.REAL=function(C){return pe.REAL(C).length},pe.NAME=pe.CHARARRAY,Ce.NAME=Ce.CHARARRAY,pe.STRING=pe.CHARARRAY,Ce.STRING=Ce.CHARARRAY,se.UTF8=function(C,B,A){for(var T=[],Z=A,X=0;X<Z;X++,B+=1)T[X]=C.getUint8(B);return String.fromCharCode.apply(null,T)},se.UTF16=function(C,B,A){for(var T=[],Z=A/2,X=0;X<Z;X++,B+=2)T[X]=C.getUint16(B);return String.fromCharCode.apply(null,T)},pe.UTF16=function(C){for(var B=[],A=0;A<C.length;A+=1){var T=C.charCodeAt(A);B[B.length]=T>>8&255,B[B.length]=255&T}return B},Ce.UTF16=function(C){return 2*C.length};var We,tt={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},Oe=(se.MACSTRING=function(C,B,A,T){var Z=tt[T];if(void 0!==Z){for(var X="",ue=0;ue<A;ue++){var Le=C.getUint8(B+ue);X+=Le<=127?String.fromCharCode(Le):Z[127&Le]}return X}},"function"==typeof WeakMap&&new WeakMap);function ke(C){return-128<=C&&C<=127}pe.MACSTRING=function(C,B){var A=function(ue){if(!We)for(var Le in We={},tt)We[Le]=new String(Le);var Je=We[ue];if(void 0!==Je){if(Oe){var st=Oe.get(Je);if(void 0!==st)return st}var It=tt[ue];if(void 0!==It){for(var Vt={},Bt=0;Bt<It.length;Bt++)Vt[It.charCodeAt(Bt)]=Bt+128;return Oe&&Oe.set(Je,Vt),Vt}}}(B);if(void 0!==A){for(var T=[],Z=0;Z<C.length;Z++){var X=C.charCodeAt(Z);if(128<=X&&void 0===(X=A[X]))return;T[Z]=X}return T}},Ce.MACSTRING=function(C,B){return void 0!==(C=pe.MACSTRING(C,B))?C.length:0},pe.VARDELTAS=function(C){for(var T=0,B=[];T<C.length;){var A=C[T];T=(0===A?function(Z,X,ue){for(var Le=0,Je=Z.length;X<Je&&Le<64&&0===Z[X];)++X,++Le;return ue.push(128|Le-1),X}:-128<=A&&A<=127?function(Z,X,ue){for(var Le=0,Je=Z.length,st=X;st<Je&&Le<64;){var It=Z[st];if(!ke(It)||0===It&&st+1<Je&&0===Z[st+1])break;++st,++Le}ue.push(Le-1);for(var Vt=X;Vt<st;++Vt)ue.push(Z[Vt]+256&255);return st}:function(Z,X,ue){for(var Le=0,Je=Z.length,st=X;st<Je&&Le<64;){var It=Z[st];if(0===It||ke(It)&&st+1<Je&&ke(Z[st+1]))break;++st,++Le}ue.push(64|Le-1);for(var Vt=X;Vt<st;++Vt){var Bt=Z[Vt];ue.push(Bt+65536>>8&255,Bt+256&255)}return st})(C,T,B)}return B},pe.INDEX=function(C){for(var B=1,A=[B],T=[],Z=0;Z<C.length;Z+=1){var X=pe.OBJECT(C[Z]);Array.prototype.push.apply(T,X),A.push(B+=X.length)}if(0===T.length)return[0,0];for(var ue=[],Le=1+Math.floor(Math.log(B)/Math.log(2))/8|0,Je=[void 0,pe.BYTE,pe.USHORT,pe.UINT24,pe.ULONG][Le],st=0;st<A.length;st+=1){var It=Je(A[st]);Array.prototype.push.apply(ue,It)}return Array.prototype.concat(pe.Card16(C.length),pe.OffSize(Le),ue,T)},Ce.INDEX=function(C){return pe.INDEX(C).length},pe.DICT=function(C){for(var B=[],A=Object.keys(C),T=A.length,Z=0;Z<T;Z+=1){var X=parseInt(A[Z],0),ue=C[X];B=(B=B.concat(pe.OPERAND(ue.value,ue.type))).concat(pe.OPERATOR(X))}return B},Ce.DICT=function(C){return pe.DICT(C).length},pe.OPERATOR=function(C){return C<1200?[C]:[12,C-1200]},pe.OPERAND=function(C,B){var A=[];if(Array.isArray(B))for(var T=0;T<B.length;T+=1)L.argument(C.length===B.length,"Not enough arguments given for type"+B),A=A.concat(pe.OPERAND(C[T],B[T]));else if("SID"===B)A=A.concat(pe.NUMBER(C));else if("offset"===B)A=A.concat(pe.NUMBER32(C));else if("number"===B)A=A.concat(pe.NUMBER(C));else{if("real"!==B)throw new Error("Unknown operand type "+B);A=A.concat(pe.REAL(C))}return A},pe.OP=pe.BYTE,Ce.OP=Ce.BYTE;var Be="function"==typeof WeakMap&&new WeakMap;function je(C,B,A){for(var T=0;T<B.length;T+=1){var Z=B[T];this[Z.name]=Z.value}if(this.tableName=C,this.fields=B,A)for(var X=Object.keys(A),ue=0;ue<X.length;ue+=1){var Le=X[ue];void 0!==this[Le]&&(this[Le]=A[Le])}}function Qe(C,B,A){void 0===A&&(A=B.length);var T=new Array(B.length+1);T[0]={name:C+"Count",type:"USHORT",value:A};for(var Z=0;Z<B.length;Z++)T[Z+1]={name:C+Z,type:"USHORT",value:B[Z]};return T}function Ke(C,B,A){var T=B.length,Z=new Array(T+1);Z[0]={name:C+"Count",type:"USHORT",value:T};for(var X=0;X<T;X++)Z[X+1]={name:C+X,type:"TABLE",value:A(B[X],X)};return Z}function gt(C,B,A){var T=B.length,Z=[];Z[0]={name:C+"Count",type:"USHORT",value:T};for(var X=0;X<T;X++)Z=Z.concat(A(B[X],X));return Z}function ft(C){1===C.format?je.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Qe("glyph",C.glyphs))):L.assert(!1,"Can't create coverage table format 2 yet.")}function yt(C){je.call(this,"scriptListTable",gt("scriptRecord",C,function(B,A){var T=B.script,Z=T.defaultLangSys;return L.assert(!!Z,"Unable to write GSUB: script "+B.tag+" has no default language system."),[{name:"scriptTag"+A,type:"TAG",value:B.tag},{name:"script"+A,type:"TABLE",value:new je("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new je("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Z.reqFeatureIndex}].concat(Qe("featureIndex",Z.featureIndexes)))}].concat(gt("langSys",T.langSysRecords,function(X,ue){var Le=X.langSys;return[{name:"langSysTag"+ue,type:"TAG",value:X.tag},{name:"langSys"+ue,type:"TABLE",value:new je("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Le.reqFeatureIndex}].concat(Qe("featureIndex",Le.featureIndexes)))}]})))}]}))}function Pt(C){je.call(this,"featureListTable",gt("featureRecord",C,function(B,A){var T=B.feature;return[{name:"featureTag"+A,type:"TAG",value:B.tag},{name:"feature"+A,type:"TABLE",value:new je("featureTable",[{name:"featureParams",type:"USHORT",value:T.featureParams}].concat(Qe("lookupListIndex",T.lookupListIndexes)))}]}))}function Jt(C,B){je.call(this,"lookupListTable",Ke("lookup",C,function(A){var T=B[A.lookupType];return L.assert(!!T,"Unable to write GSUB lookup type "+A.lookupType+" tables."),new je("lookupTable",[{name:"lookupType",type:"USHORT",value:A.lookupType},{name:"lookupFlag",type:"USHORT",value:A.lookupFlag}].concat(Ke("subtable",A.subtables,T)))}))}pe.CHARSTRING=function(C){if(Be){var B=Be.get(C);if(void 0!==B)return B}for(var X=[],A=C.length,T=0;T<A;T+=1){var Z=C[T];X=X.concat(pe[Z.type](Z.value))}return Be&&Be.set(C,X),X},Ce.CHARSTRING=function(C){return pe.CHARSTRING(C).length},pe.OBJECT=function(C){var B=pe[C.type];return L.argument(void 0!==B,"No encoding function for type "+C.type),B(C.value)},Ce.OBJECT=function(C){var B=Ce[C.type];return L.argument(void 0!==B,"No sizeOf function for type "+C.type),B(C.value)},pe.TABLE=function(C){for(var B=[],A=C.fields.length,T=[],Z=[],X=0;X<A;X+=1){var ue=C.fields[X],Le=(L.argument(void 0!==(Je=pe[ue.type]),"No encoding function for field type "+ue.type+" ("+ue.name+")"),C[ue.name]),Je=Je(Le=void 0===Le?ue.value:Le);"TABLE"===ue.type?(Z.push(B.length),B=B.concat([0,0]),T.push(Je)):B=B.concat(Je)}for(var st=0;st<T.length;st+=1){var It=Z[st],Vt=B.length;L.argument(Vt<65536,"Table "+C.tableName+" too big."),B[It]=Vt>>8,B[It+1]=255&Vt,B=B.concat(T[st])}return B},Ce.TABLE=function(C){for(var B=0,A=C.fields.length,T=0;T<A;T+=1){var Z=C.fields[T],X=Ce[Z.type],ue=(L.argument(void 0!==X,"No sizeOf function for field type "+Z.type+" ("+Z.name+")"),C[Z.name]);B+=X(ue=void 0===ue?Z.value:ue),"TABLE"===Z.type&&(B+=2)}return B},pe.RECORD=pe.TABLE,Ce.RECORD=Ce.TABLE,pe.LITERAL=function(C){return C},Ce.LITERAL=function(C){return C.length},je.prototype.encode=function(){return pe.TABLE(this)},je.prototype.sizeOf=function(){return Ce.TABLE(this)};var Ft={Table:je,Record:je,Coverage:(ft.prototype=Object.create(je.prototype)).constructor=ft,ScriptList:(yt.prototype=Object.create(je.prototype)).constructor=yt,FeatureList:(Pt.prototype=Object.create(je.prototype)).constructor=Pt,LookupList:(Jt.prototype=Object.create(je.prototype)).constructor=Jt,ushortList:Qe,tableList:Ke,recordList:gt};function un(C,B){return C.getUint8(B)}function sn(C,B){return C.getUint16(B,!1)}function Yt(C,B){return C.getUint32(B,!1)}function kt(C,B){return C.getInt16(B,!1)+C.getUint16(B+2,!1)/65535}var zt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function vt(C,B){this.data=C,this.offset=B,this.relativeOffset=0}vt.prototype.parseByte=function(){var C=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,C},vt.prototype.parseChar=function(){var C=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,C},vt.prototype.parseCard8=vt.prototype.parseByte,vt.prototype.parseCard16=vt.prototype.parseUShort=function(){var C=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,C},vt.prototype.parseSID=vt.prototype.parseUShort,vt.prototype.parseOffset16=vt.prototype.parseUShort,vt.prototype.parseShort=function(){var C=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,C},vt.prototype.parseF2Dot14=function(){var C=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,C},vt.prototype.parseOffset32=vt.prototype.parseULong=function(){var C=Yt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,C},vt.prototype.parseFixed=function(){var C=kt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,C},vt.prototype.parseString=function(C){var B=this.data,A=this.offset+this.relativeOffset,T="";this.relativeOffset+=C;for(var Z=0;Z<C;Z++)T+=String.fromCharCode(B.getUint8(A+Z));return T},vt.prototype.parseTag=function(){return this.parseString(4)},vt.prototype.parseLongDateTime=function(){var C=Yt(this.data,this.offset+this.relativeOffset+4);return C-=2082844800,this.relativeOffset+=8,C},vt.prototype.parseVersion=function(C){var B=sn(this.data,this.offset+this.relativeOffset),A=sn(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,B+A/(C=void 0===C?4096:C)/10},vt.prototype.skip=function(C,B){this.relativeOffset+=zt[C]*(B=void 0===B?1:B)},vt.prototype.parseULongList=function(C){void 0===C&&(C=this.parseULong());for(var B=new Array(C),A=this.data,T=this.offset+this.relativeOffset,Z=0;Z<C;Z++)B[Z]=A.getUint32(T),T+=4;return this.relativeOffset+=4*C,B},vt.prototype.parseOffset16List=vt.prototype.parseUShortList=function(C){void 0===C&&(C=this.parseUShort());for(var B=new Array(C),A=this.data,T=this.offset+this.relativeOffset,Z=0;Z<C;Z++)B[Z]=A.getUint16(T),T+=2;return this.relativeOffset+=2*C,B},vt.prototype.parseShortList=function(C){for(var B=new Array(C),A=this.data,T=this.offset+this.relativeOffset,Z=0;Z<C;Z++)B[Z]=A.getInt16(T),T+=2;return this.relativeOffset+=2*C,B},vt.prototype.parseByteList=function(C){for(var B=new Array(C),A=this.data,T=this.offset+this.relativeOffset,Z=0;Z<C;Z++)B[Z]=A.getUint8(T++);return this.relativeOffset+=C,B},vt.prototype.parseList=function(C,B){B||(B=C,C=this.parseUShort());for(var A=new Array(C),T=0;T<C;T++)A[T]=B.call(this);return A},vt.prototype.parseList32=function(C,B){B||(B=C,C=this.parseULong());for(var A=new Array(C),T=0;T<C;T++)A[T]=B.call(this);return A},vt.prototype.parseRecordList=function(C,B){B||(B=C,C=this.parseUShort());for(var A=new Array(C),T=Object.keys(B),Z=0;Z<C;Z++){for(var X={},ue=0;ue<T.length;ue++){var Le=T[ue];X[Le]=B[Le].call(this)}A[Z]=X}return A},vt.prototype.parseRecordList32=function(C,B){B||(B=C,C=this.parseULong());for(var A=new Array(C),T=Object.keys(B),Z=0;Z<C;Z++){for(var X={},ue=0;ue<T.length;ue++){var Le=T[ue];X[Le]=B[Le].call(this)}A[Z]=X}return A},vt.prototype.parseStruct=function(C){if("function"==typeof C)return C.call(this);for(var B=Object.keys(C),A={},T=0;T<B.length;T++){var Z=B[T];A[Z]=C[Z].call(this)}return A},vt.prototype.parseValueRecord=function(C){var B;if(0!==(C=void 0===C?this.parseUShort():C))return B={},1&C&&(B.xPlacement=this.parseShort()),2&C&&(B.yPlacement=this.parseShort()),4&C&&(B.xAdvance=this.parseShort()),8&C&&(B.yAdvance=this.parseShort()),16&C&&(B.xPlaDevice=void 0,this.parseShort()),32&C&&(B.yPlaDevice=void 0,this.parseShort()),64&C&&(B.xAdvDevice=void 0,this.parseShort()),128&C&&(B.yAdvDevice=void 0,this.parseShort()),B},vt.prototype.parseValueRecordList=function(){for(var C=this.parseUShort(),B=this.parseUShort(),A=new Array(B),T=0;T<B;T++)A[T]=this.parseValueRecord(C);return A},vt.prototype.parsePointer=function(C){var B=this.parseOffset16();if(0<B)return new vt(this.data,this.offset+B).parseStruct(C)},vt.prototype.parsePointer32=function(C){var B=this.parseOffset32();if(0<B)return new vt(this.data,this.offset+B).parseStruct(C)},vt.prototype.parseListOfLists=function(C){for(var B=this.parseOffset16List(),A=B.length,T=this.relativeOffset,Z=new Array(A),X=0;X<A;X++){var ue=B[X];if(0===ue)Z[X]=void 0;else if(this.relativeOffset=ue,C){for(var Le=this.parseOffset16List(),Je=new Array(Le.length),st=0;st<Le.length;st++)this.relativeOffset=ue+Le[st],Je[st]=C.call(this);Z[X]=Je}else Z[X]=this.parseUShortList()}return this.relativeOffset=T,Z},vt.prototype.parseCoverage=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort(),A=this.parseUShort();if(1===B)return{format:1,glyphs:this.parseUShortList(A)};if(2!==B)throw new Error("0x"+C.toString(16)+": Coverage format must be 1 or 2.");for(var T=new Array(A),Z=0;Z<A;Z++)T[Z]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:T}},vt.prototype.parseClassDef=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort();if(1===B)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===B)return{format:2,ranges:this.parseRecordList({start:vt.uShort,end:vt.uShort,classId:vt.uShort})};throw new Error("0x"+C.toString(16)+": ClassDef format must be 1 or 2.")},vt.list=function(C,B){return function(){return this.parseList(C,B)}},vt.list32=function(C,B){return function(){return this.parseList32(C,B)}},vt.recordList=function(C,B){return function(){return this.parseRecordList(C,B)}},vt.recordList32=function(C,B){return function(){return this.parseRecordList32(C,B)}},vt.pointer=function(C){return function(){return this.parsePointer(C)}},vt.pointer32=function(C){return function(){return this.parsePointer32(C)}},vt.tag=vt.prototype.parseTag,vt.byte=vt.prototype.parseByte,vt.uShort=vt.offset16=vt.prototype.parseUShort,vt.uShortList=vt.prototype.parseUShortList,vt.uLong=vt.offset32=vt.prototype.parseULong,vt.uLongList=vt.prototype.parseULongList,vt.struct=vt.prototype.parseStruct,vt.coverage=vt.prototype.parseCoverage,vt.classDef=vt.prototype.parseClassDef;var Ht={reserved:vt.uShort,reqFeatureIndex:vt.uShort,featureIndexes:vt.uShortList},wt=(vt.prototype.parseScriptList=function(){return this.parsePointer(vt.recordList({tag:vt.tag,script:vt.pointer({defaultLangSys:vt.pointer(Ht),langSysRecords:vt.recordList({tag:vt.tag,langSys:vt.pointer(Ht)})})}))||[]},vt.prototype.parseFeatureList=function(){return this.parsePointer(vt.recordList({tag:vt.tag,feature:vt.pointer({featureParams:vt.offset16,lookupListIndexes:vt.uShortList})}))||[]},vt.prototype.parseLookupList=function(C){return this.parsePointer(vt.list(vt.pointer(function(){var B=this.parseUShort(),A=(L.argument(1<=B&&B<=9,"GPOS/GSUB lookup type "+B+" unknown."),this.parseUShort()),T=16&A;return{lookupType:B,lookupFlag:A,subtables:this.parseList(vt.pointer(C[B])),markFilteringSet:T?this.parseUShort():void 0}})))||[]},vt.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var C=this.parseUShort(),B=this.parseUShort();return L.argument(1===C&&B<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:vt.offset32,featureTableSubstitutionOffset:vt.offset32})})||[]},{getByte:un,getCard8:un,getUShort:sn,getCard16:sn,getShort:function(C,B){return C.getInt16(B,!1)},getULong:Yt,getFixed:kt,getTag:function(C,B){for(var A="",T=B;T<B+4;T+=1)A+=String.fromCharCode(C.getInt8(T));return A},getOffset:function(C,B,A){for(var T=0,Z=0;Z<A;Z+=1)T=(T<<=8)+C.getUint8(B+Z);return T},getBytes:function(C,B,A){for(var T=[],Z=B;Z<A;Z+=1)T.push(C.getUint8(Z));return T},bytesToString:function(C){for(var B="",A=0;A<C.length;A+=1)B+=String.fromCharCode(C[A]);return B},Parser:vt}),Re_parse=function(C,B){for(var A={},T=(A.version=wt.getUShort(C,B),L.argument(0===A.version,"cmap table version should be 0."),A.numTables=wt.getUShort(C,B+2),-1),Z=A.numTables-1;0<=Z;--Z){var X=wt.getUShort(C,B+4+8*Z),ue=wt.getUShort(C,B+4+8*Z+2);if(3===X&&(0===ue||1===ue||10===ue)||0===X&&(0===ue||1===ue||2===ue||3===ue||4===ue)){T=wt.getULong(C,B+4+8*Z+4);break}}if(-1===T)throw new Error("No valid cmap sub-tables found.");var Le=new wt.Parser(C,B+T);if(A.format=Le.parseUShort(),12===A.format){var Je,st=A,It=Le;It.parseUShort(),st.length=It.parseULong(),st.language=It.parseULong(),st.groupCount=Je=It.parseULong(),st.glyphIndexMap={};for(var Vt=0;Vt<Je;Vt+=1)for(var Bt=It.parseULong(),mt=It.parseULong(),yn=It.parseULong(),tn=Bt;tn<=mt;tn+=1)st.glyphIndexMap[tn]=yn,yn++}else{if(4!==A.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+A.format+").");var on=A,Zt=C,Kt=B,Bn=T;on.length=Le.parseUShort(),on.language=Le.parseUShort(),on.segCount=$n=Le.parseUShort()>>1,Le.skip("uShort",3),on.glyphIndexMap={};for(var $n,Vn=new wt.Parser(Zt,Kt+Bn+14),Un=new wt.Parser(Zt,Kt+Bn+16+2*$n),Zn=new wt.Parser(Zt,Kt+Bn+16+4*$n),er=new wt.Parser(Zt,Kt+Bn+16+6*$n),Ur=Kt+Bn+16+8*$n,Kr=0;Kr<$n-1;Kr+=1)for(var Zr=void 0,Jr=Vn.parseUShort(),fo=Un.parseUShort(),xr=Zn.parseShort(),Dr=er.parseUShort(),gr=fo;gr<=Jr;gr+=1)0!==Dr?(Ur=(Ur=er.offset+er.relativeOffset-2)+Dr+2*(gr-fo),0!==(Zr=wt.getUShort(Zt,Ur))&&(Zr=Zr+xr&65535)):Zr=gr+xr&65535,on.glyphIndexMap[gr]=Zr}return A},Re_make=function(C){for(var B=!0,A=C.length-1;0<A;--A)if(65535<C.get(A).unicode){console.log("Adding CMAP format 12 (needed!)"),B=!1;break}var T,Z,X=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:B?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:B?12:20}],ue=(X=(X=B?X:X.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ft.Table("cmap",X));for(ue.segments=[],A=0;A<C.length;A+=1){for(var Le=C.get(A),Je=0;Je<Le.unicodes.length;Je+=1)ue.segments.push({end:T=Le.unicodes[Je],start:T,delta:-(T-(Z=A)),offset:0,glyphIndex:Z});ue.segments=ue.segments.sort(function(Kt,Bn){return Kt.start-Bn.start})}ue.segments.push({end:65535,start:65535,delta:1,offset:0});var st=ue.segments.length,It=0,Vt=[],Bt=[],mt=[],yn=[],tn=[],on=[];for(A=0;A<st;A+=1){var Zt=ue.segments[A];Zt.end<=65535&&Zt.start<=65535?(Vt=Vt.concat({name:"end_"+A,type:"USHORT",value:Zt.end}),Bt=Bt.concat({name:"start_"+A,type:"USHORT",value:Zt.start}),mt=mt.concat({name:"idDelta_"+A,type:"SHORT",value:Zt.delta}),yn=yn.concat({name:"idRangeOffset_"+A,type:"USHORT",value:Zt.offset}),void 0!==Zt.glyphId&&(tn=tn.concat({name:"glyph_"+A,type:"USHORT",value:Zt.glyphId}))):It+=1,B||void 0===Zt.glyphIndex||(on=(on=(on=on.concat({name:"cmap12Start_"+A,type:"ULONG",value:Zt.start})).concat({name:"cmap12End_"+A,type:"ULONG",value:Zt.end})).concat({name:"cmap12Glyph_"+A,type:"ULONG",value:Zt.glyphIndex}))}return ue.segCountX2=2*(st-It),ue.searchRange=2*Math.pow(2,Math.floor(Math.log(st-It)/Math.log(2))),ue.entrySelector=Math.log(ue.searchRange/2)/Math.log(2),ue.rangeShift=ue.segCountX2-ue.searchRange,ue.fields=ue.fields.concat(Vt),ue.fields.push({name:"reservedPad",type:"USHORT",value:0}),ue.fields=ue.fields.concat(Bt),ue.fields=ue.fields.concat(mt),ue.fields=ue.fields.concat(yn),ue.fields=ue.fields.concat(tn),ue.cmap4Length=14+2*Vt.length+2+2*Bt.length+2*mt.length+2*yn.length+2*tn.length,B||(X=16+4*on.length,ue.cmap12Offset=20+ue.cmap4Length,ue.fields=ue.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:X},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:on.length/3}]),ue.fields=ue.fields.concat(on)),ue},Ge=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Te=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],et=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Et=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Rt(C){this.font=C}function Gt(C){this.cmap=C}function ln(C,B){this.encoding=C,this.charset=B}function _n(C){switch(C.version){case 1:this.names=Et.slice();break;case 2:this.names=new Array(C.numberOfGlyphs);for(var B=0;B<C.numberOfGlyphs;B++)this.names[B]=C.glyphNameIndex[B]<Et.length?Et[C.glyphNameIndex[B]]:C.names[C.glyphNameIndex[B]-Et.length];break;case 2.5:this.names=new Array(C.numberOfGlyphs);for(var A=0;A<C.numberOfGlyphs;A++)this.names[A]=Et[A+C.glyphNameIndex[A]];break;default:this.names=[]}}Rt.prototype.charToGlyphIndex=function(C){var B=C.codePointAt(0),A=this.font.glyphs;if(A)for(var T=0;T<A.length;T+=1)for(var Z=A.get(T),X=0;X<Z.unicodes.length;X+=1)if(Z.unicodes[X]===B)return T;return null},Gt.prototype.charToGlyphIndex=function(C){return this.cmap.glyphIndexMap[C.codePointAt(0)]||0},ln.prototype.charToGlyphIndex=function(C){return C=C.codePointAt(0),this.charset.indexOf(C=this.encoding[C])},_n.prototype.nameToGlyphIndex=function(C){return this.names.indexOf(C)},_n.prototype.glyphIndexToName=function(C){return this.names[C]};var wn_line=function(C,B,A,T,Z){C.beginPath(),C.moveTo(B,A),C.lineTo(T,Z),C.stroke()};function Dt(C){this.bindConstructorValues(C)}function xt(C,B,A){Object.defineProperty(C,B,{get:function(){return C[A]},set:function(T){C[A]=T},enumerable:!0,configurable:!0})}function ot(C,B){if(this.font=C,this.glyphs={},Array.isArray(B))for(var A=0;A<B.length;A++)this.glyphs[A]=B[A];this.length=B&&B.length||0}Dt.prototype.bindConstructorValues=function(C){var B;this.index=C.index||0,this.name=C.name||null,this.unicode=C.unicode||void 0,this.unicodes=C.unicodes||void 0!==C.unicode?[C.unicode]:[],C.xMin&&(this.xMin=C.xMin),C.yMin&&(this.yMin=C.yMin),C.xMax&&(this.xMax=C.xMax),C.yMax&&(this.yMax=C.yMax),C.advanceWidth&&(this.advanceWidth=C.advanceWidth),Object.defineProperty(this,"path",(B=(C=C.path)||new fe,{configurable:!0,get:function(){return B="function"==typeof B?B():B},set:function(A){B=A}}))},Dt.prototype.addUnicode=function(C){0===this.unicodes.length&&(this.unicode=C),this.unicodes.push(C)},Dt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Dt.prototype.getPath=function(C,B,A,T,Z){C=void 0!==C?C:0,B=void 0!==B?B:0,A=void 0!==A?A:72;for(var X,ue,Le=(T=T||{}).xScale,Je=T.yScale,st=((X=T.hinting&&Z&&Z.hinting?this.path&&Z.hinting.exec(this,A):X)?(ue=Z.hinting.getCommands(X),C=Math.round(C),B=Math.round(B),Le=Je=1):(ue=this.path.commands,T=1/this.path.unitsPerEm*A,void 0===Le&&(Le=T),void 0===Je&&(Je=T)),new fe),It=0;It<ue.length;It+=1){var Vt=ue[It];"M"===Vt.type?st.moveTo(C+Vt.x*Le,B+-Vt.y*Je):"L"===Vt.type?st.lineTo(C+Vt.x*Le,B+-Vt.y*Je):"Q"===Vt.type?st.quadraticCurveTo(C+Vt.x1*Le,B+-Vt.y1*Je,C+Vt.x*Le,B+-Vt.y*Je):"C"===Vt.type?st.curveTo(C+Vt.x1*Le,B+-Vt.y1*Je,C+Vt.x2*Le,B+-Vt.y2*Je,C+Vt.x*Le,B+-Vt.y*Je):"Z"===Vt.type&&st.closePath()}return st},Dt.prototype.getContours=function(){if(void 0===this.points)return[];for(var C=[],B=[],A=0;A<this.points.length;A+=1){var T=this.points[A];B.push(T),T.lastPointOfContour&&(C.push(B),B=[])}return L.argument(0===B.length,"There are still points left in the current contour."),C},Dt.prototype.getMetrics=function(){for(var C=this.path.commands,B=[],A=[],T=0;T<C.length;T+=1){var Z=C[T];"Z"!==Z.type&&(B.push(Z.x),A.push(Z.y)),"Q"!==Z.type&&"C"!==Z.type||(B.push(Z.x1),A.push(Z.y1)),"C"===Z.type&&(B.push(Z.x2),A.push(Z.y2))}var X={xMin:Math.min.apply(null,B),yMin:Math.min.apply(null,A),xMax:Math.max.apply(null,B),yMax:Math.max.apply(null,A),leftSideBearing:this.leftSideBearing};return isFinite(X.xMin)||(X.xMin=0),isFinite(X.xMax)||(X.xMax=this.advanceWidth),isFinite(X.yMin)||(X.yMin=0),isFinite(X.yMax)||(X.yMax=0),X.rightSideBearing=this.advanceWidth-X.leftSideBearing-(X.xMax-X.xMin),X},Dt.prototype.draw=function(C,B,A,T,Z){this.getPath(B,A,T,Z).draw(C)},Dt.prototype.drawPoints=function(C,B,A,T){function Z(It,Vt,Bt,mt){var yn=2*Math.PI;C.beginPath();for(var tn=0;tn<It.length;tn+=1)C.moveTo(Vt+It[tn].x*mt,Bt+It[tn].y*mt),C.arc(Vt+It[tn].x*mt,Bt+It[tn].y*mt,2,0,yn,!1);C.closePath(),C.fill()}B=void 0!==B?B:0,A=void 0!==A?A:0,T=1/this.path.unitsPerEm*(T=void 0!==T?T:24);for(var X=[],ue=[],Le=this.path,Je=0;Je<Le.commands.length;Je+=1){var st=Le.commands[Je];void 0!==st.x&&X.push({x:st.x,y:-st.y}),void 0!==st.x1&&ue.push({x:st.x1,y:-st.y1}),void 0!==st.x2&&ue.push({x:st.x2,y:-st.y2})}C.fillStyle="blue",Z(X,B,A,T),C.fillStyle="red",Z(ue,B,A,T)},Dt.prototype.drawMetrics=function(C,B,A,T){B=void 0!==B?B:0,A=void 0!==A?A:0,T=1/this.path.unitsPerEm*(T=void 0!==T?T:24),C.lineWidth=1,C.strokeStyle="black",wn_line(C,B,-1e4,B,1e4),wn_line(C,-1e4,A,1e4,A);var Z=this.xMin||0,X=this.yMin||0,ue=this.xMax||0,Le=this.yMax||0,Je=this.advanceWidth||0;C.strokeStyle="blue",wn_line(C,B+Z*T,-1e4,B+Z*T,1e4),wn_line(C,B+ue*T,-1e4,B+ue*T,1e4),wn_line(C,-1e4,A+-X*T,1e4,A+-X*T),wn_line(C,-1e4,A+-Le*T,1e4,A+-Le*T),C.strokeStyle="green",wn_line(C,B+Je*T,-1e4,B+Je*T,1e4)},ot.prototype.get=function(C){return"function"==typeof this.glyphs[C]&&(this.glyphs[C]=this.glyphs[C]()),this.glyphs[C]},ot.prototype.push=function(C,B){this.glyphs[C]=B,this.length++};var Ye={GlyphSet:ot,glyphLoader:function(C,B){return new Dt({index:B,font:C})},ttfGlyphLoader:function(C,B,A,T,Z,X){return function(){var ue=new Dt({index:B,font:C});return ue.path=function(){A(ue,T,Z);var Le=X(C.glyphs,ue);return Le.unitsPerEm=C.unitsPerEm,Le},xt(ue,"xMin","_xMin"),xt(ue,"xMax","_xMax"),xt(ue,"yMin","_yMin"),xt(ue,"yMax","_yMax"),ue}},cffGlyphLoader:function(C,B,A,T){return function(){var Z=new Dt({index:B,font:C});return Z.path=function(){var X=A(C,Z,T);return X.unitsPerEm=C.unitsPerEm,X},Z}}};function ut(C){return C.length<1240?107:C.length<33900?1131:32768}function Ct(C,B,A){var T,Z=[],X=[],ue=wt.getCard16(C,B);if(0!==ue){for(var Le=wt.getByte(C,B+2),Je=B+(ue+1)*Le+2,st=B+3,It=0;It<ue+1;It+=1)Z.push(wt.getOffset(C,st,Le)),st+=Le;T=Je+Z[ue]}else T=B+2;for(var Vt=0;Vt<Z.length-1;Vt+=1){var Bt=wt.getBytes(C,Je+Z[Vt],Je+Z[Vt+1]);A&&(Bt=A(Bt)),X.push(Bt)}return{objects:X,startOffset:B,endOffset:T}}function rn(C,B){if(28===B)return C.parseByte()<<8|C.parseByte();if(29===B)return C.parseByte()<<24|C.parseByte()<<16|C.parseByte()<<8|C.parseByte();if(30===B){for(var A=C,T="",Z=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var X=(ue=A.parseByte())>>4,ue=15&ue;if(15==X||(T+=Z[X],15==ue))break;T+=Z[ue]}return parseFloat(T)}if(32<=B&&B<=246)return B-139;if(247<=B&&B<=250)return 256*(B-247)+C.parseByte()+108;if(251<=B&&B<=254)return 256*-(B-251)-C.parseByte()-108;throw new Error("Invalid b0 "+B)}function ze(C,B,A){var T=new wt.Parser(C,B=void 0!==B?B:0),Z=[],X=[];for(A=void 0!==A?A:C.length;T.relativeOffset<A;){var ue=T.parseByte();ue<=21?(12===ue&&(ue=1200+T.parseByte()),Z.push([ue,X]),X=[]):X.push(rn(T,ue))}for(var Le=Z,Je={},st=0;st<Le.length;st+=1){var Bt,It=Le[st][0],Vt=Le[st][1];if(Bt=1===Vt.length?Vt[0]:Vt,Je.hasOwnProperty(It)&&!isNaN(Je[It]))throw new Error("Object "+Je+" already has key "+It);Je[It]=Bt}return Je}function bt(C,B){return B<=390?Ge[B]:C[B-391]}function Nt(C,B,A){for(var T,Z={},X=0;X<B.length;X+=1){var ue=B[X];if(Array.isArray(ue.type)){var Le=[];Le.length=ue.type.length;for(var Je=0;Je<ue.type.length;Je++)void 0===(T=void 0!==C[ue.op]?C[ue.op][Je]:void 0)&&(T=void 0!==ue.value&&void 0!==ue.value[Je]?ue.value[Je]:null),"SID"===ue.type[Je]&&(T=bt(A,T)),Le[Je]=T;Z[ue.name]=Le}else void 0===(T=C[ue.op])&&(T=void 0!==ue.value?ue.value:null),"SID"===ue.type&&(T=bt(A,T)),Z[ue.name]=T}return Z}var Lt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Xt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function hn(C,B,A,T){return Nt(ze(C,B,A),Xt,T)}function vn(C,B,A,T){for(var Z=[],X=0;X<A.length;X+=1){var ue,Le=((Le=T,ue=Nt(ze(ue=new DataView(new Uint8Array(A[X]).buffer),0,ue.byteLength),Lt,Le))._subrs=[],ue._subrsBias=0,ue.private[0]),Je=ue.private[1];0!==Le&&0!==Je&&(Le=hn(C,Je+B,Le,T),ue._defaultWidthX=Le.defaultWidthX,ue._nominalWidthX=Le.nominalWidthX,0!==Le.subrs&&(Je=Ct(C,Je+Le.subrs+B),ue._subrs=Je.objects,ue._subrsBias=ut(ue._subrs)),ue._privateDict=Le),Z.push(ue)}return Z}function En(C,B,A){var T,Z,X,ue,Le,Je,st,It,Vt,Bt=new fe,mt=[],yn=0,tn=!1,on=!1,Zt=0,Kt=0,Bn=(Vt=(C.isCIDFont?(Le=C.tables.cff.topDict._fdSelect[B.index],Le=C.tables.cff.topDict._fdArray[Le],Je=Le._subrs,st=Le._subrsBias,It=Le._defaultWidthX,Le):(Je=C.tables.cff.topDict._subrs,st=C.tables.cff.topDict._subrsBias,It=C.tables.cff.topDict._defaultWidthX,C.tables.cff.topDict))._nominalWidthX,It);function $n(Un,Zn){on&&Bt.closePath(),Bt.moveTo(Un,Zn),on=!0}function Vn(){mt.length%2==0||tn||(Bn=mt.shift()+Vt),yn+=mt.length>>1,mt.length=0,tn=!0}return function Un(Zn){for(var er,Ur,Kr,Zr,Jr,fo,xr,Dr,gr,Pr,Ln,to,Nr=0;Nr<Zn.length;){var no=Zn[Nr];switch(Nr+=1,no){case 1:case 3:case 18:case 23:Vn();break;case 4:1<mt.length&&!tn&&(Bn=mt.shift()+Vt,tn=!0),Kt+=mt.pop(),$n(Zt,Kt);break;case 5:for(;0<mt.length;)Zt+=mt.shift(),Kt+=mt.shift(),Bt.lineTo(Zt,Kt);break;case 6:for(;0<mt.length&&(Zt+=mt.shift(),Bt.lineTo(Zt,Kt),0!==mt.length);)Kt+=mt.shift(),Bt.lineTo(Zt,Kt);break;case 7:for(;0<mt.length&&(Kt+=mt.shift(),Bt.lineTo(Zt,Kt),0!==mt.length);)Zt+=mt.shift(),Bt.lineTo(Zt,Kt);break;case 8:for(;0<mt.length;)T=Zt+mt.shift(),Z=Kt+mt.shift(),X=T+mt.shift(),ue=Z+mt.shift(),Zt=X+mt.shift(),Kt=ue+mt.shift(),Bt.curveTo(T,Z,X,ue,Zt,Kt);break;case 10:Jr=mt.pop()+st,(fo=Je[Jr])&&Un(fo);break;case 11:return;case 12:switch(no=Zn[Nr],Nr+=1,no){case 35:T=Zt+mt.shift(),Z=Kt+mt.shift(),X=T+mt.shift(),ue=Z+mt.shift(),xr=X+mt.shift(),Dr=ue+mt.shift(),gr=xr+mt.shift(),Pr=Dr+mt.shift(),Ln=gr+mt.shift(),to=Pr+mt.shift(),Zt=Ln+mt.shift(),Kt=to+mt.shift(),mt.shift(),Bt.curveTo(T,Z,X,ue,xr,Dr),Bt.curveTo(gr,Pr,Ln,to,Zt,Kt);break;case 34:T=Zt+mt.shift(),Z=Kt,X=T+mt.shift(),ue=Z+mt.shift(),xr=X+mt.shift(),Dr=ue,gr=xr+mt.shift(),Pr=ue,Ln=gr+mt.shift(),to=Kt,Zt=Ln+mt.shift(),Bt.curveTo(T,Z,X,ue,xr,Dr),Bt.curveTo(gr,Pr,Ln,to,Zt,Kt);break;case 36:T=Zt+mt.shift(),Z=Kt+mt.shift(),X=T+mt.shift(),ue=Z+mt.shift(),xr=X+mt.shift(),Dr=ue,gr=xr+mt.shift(),Pr=ue,Ln=gr+mt.shift(),to=Pr+mt.shift(),Zt=Ln+mt.shift(),Bt.curveTo(T,Z,X,ue,xr,Dr),Bt.curveTo(gr,Pr,Ln,to,Zt,Kt);break;case 37:T=Zt+mt.shift(),Z=Kt+mt.shift(),X=T+mt.shift(),ue=Z+mt.shift(),xr=X+mt.shift(),Dr=ue+mt.shift(),gr=xr+mt.shift(),Pr=Dr+mt.shift(),Ln=gr+mt.shift(),to=Pr+mt.shift(),Math.abs(Ln-Zt)>Math.abs(to-Kt)?Zt=Ln+mt.shift():Kt=to+mt.shift(),Bt.curveTo(T,Z,X,ue,xr,Dr),Bt.curveTo(gr,Pr,Ln,to,Zt,Kt);break;default:console.log("Glyph "+B.index+": unknown operator 1200"+no),mt.length=0}break;case 14:0<mt.length&&!tn&&(Bn=mt.shift()+Vt,tn=!0),on&&(Bt.closePath(),on=!1);break;case 19:case 20:Vn(),Nr+=yn+7>>3;break;case 21:2<mt.length&&!tn&&(Bn=mt.shift()+Vt,tn=!0),Kt+=mt.pop(),$n(Zt+=mt.pop(),Kt);break;case 22:1<mt.length&&!tn&&(Bn=mt.shift()+Vt,tn=!0),$n(Zt+=mt.pop(),Kt);break;case 24:for(;2<mt.length;)T=Zt+mt.shift(),Z=Kt+mt.shift(),X=T+mt.shift(),ue=Z+mt.shift(),Zt=X+mt.shift(),Kt=ue+mt.shift(),Bt.curveTo(T,Z,X,ue,Zt,Kt);Zt+=mt.shift(),Kt+=mt.shift(),Bt.lineTo(Zt,Kt);break;case 25:for(;6<mt.length;)Zt+=mt.shift(),Kt+=mt.shift(),Bt.lineTo(Zt,Kt);T=Zt+mt.shift(),Z=Kt+mt.shift(),X=T+mt.shift(),ue=Z+mt.shift(),Zt=X+mt.shift(),Kt=ue+mt.shift(),Bt.curveTo(T,Z,X,ue,Zt,Kt);break;case 26:for(mt.length%2&&(Zt+=mt.shift());0<mt.length;)T=Zt,Z=Kt+mt.shift(),X=T+mt.shift(),ue=Z+mt.shift(),Zt=X,Kt=ue+mt.shift(),Bt.curveTo(T,Z,X,ue,Zt,Kt);break;case 27:for(mt.length%2&&(Kt+=mt.shift());0<mt.length;)T=Zt+mt.shift(),Z=Kt,X=T+mt.shift(),ue=Z+mt.shift(),Zt=X+mt.shift(),Bt.curveTo(T,Z,X,ue,Zt,Kt=ue);break;case 28:mt.push(((er=Zn[Nr])<<24|(Ur=Zn[Nr+1])<<16)>>16),Nr+=2;break;case 29:Jr=mt.pop()+C.gsubrsBias,(fo=C.gsubrs[Jr])&&Un(fo);break;case 30:for(;0<mt.length&&(T=Zt,Z=Kt+mt.shift(),X=T+mt.shift(),ue=Z+mt.shift(),Zt=X+mt.shift(),Kt=ue+(1===mt.length?mt.shift():0),Bt.curveTo(T,Z,X,ue,Zt,Kt),0!==mt.length);)T=Zt+mt.shift(),Z=Kt,X=T+mt.shift(),ue=Z+mt.shift(),Kt=ue+mt.shift(),Zt=X+(1===mt.length?mt.shift():0),Bt.curveTo(T,Z,X,ue,Zt,Kt);break;case 31:for(;0<mt.length&&(T=Zt+mt.shift(),Z=Kt,X=T+mt.shift(),ue=Z+mt.shift(),Kt=ue+mt.shift(),Zt=X+(1===mt.length?mt.shift():0),Bt.curveTo(T,Z,X,ue,Zt,Kt),0!==mt.length);)T=Zt,Z=Kt+mt.shift(),X=T+mt.shift(),ue=Z+mt.shift(),Zt=X+mt.shift(),Kt=ue+(1===mt.length?mt.shift():0),Bt.curveTo(T,Z,X,ue,Zt,Kt);break;default:no<32?console.log("Glyph "+B.index+": unknown operator "+no):no<247?mt.push(no-139):no<251?(er=Zn[Nr],Nr+=1,mt.push(256*(no-247)+er+108)):no<255?(er=Zn[Nr],Nr+=1,mt.push(256*-(no-251)-er-108)):(er=Zn[Nr],Ur=Zn[Nr+1],Kr=Zn[Nr+2],Zr=Zn[Nr+3],Nr+=4,mt.push((er<<24|Ur<<16|Kr<<8|Zr)/65536))}}}(A),B.advanceWidth=Bn,Bt}function Cn(C,B){var A,T=Ge.indexOf(C);return 0<=T&&(A=T),0<=(T=B.indexOf(C))?A=T+Ge.length:(A=Ge.length+B.length,B.push(C)),A}function Sn(C,B,A){for(var T={},Z=0;Z<C.length;Z+=1){var X=C[Z],ue=B[X.name];void 0===ue||function Le(Je,st){if(Je===st)return 1;if(Array.isArray(Je)&&Array.isArray(st)&&Je.length===st.length){for(var It=0;It<Je.length;It+=1)if(!Le(Je[It],st[It]))return;return 1}}(ue,X.value)||("SID"===X.type&&(ue=Cn(ue,A)),T[X.op]={name:X.name,type:X.type,value:ue})}return T}function tr(C,B){var A=new Ft.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return A.dict=Sn(Lt,C,B),A}function nr(C){var B=new Ft.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return B.topDicts=[{name:"topDict_0",type:"TABLE",value:C}],B}var Nn_parse=function(C,B,A){A.tables.cff={},(Z={}).formatMajor=wt.getCard8(Le=C,T=B),Z.formatMinor=wt.getCard8(Le,T+1),Z.size=wt.getCard8(Le,T+2),Z.offsetSize=wt.getCard8(Le,T+3),Z.startOffset=T,Z.endOffset=T+4;var Le=Ct(C,Z.endOffset,wt.bytesToString),T=Ct(C,Le.endOffset),Z=Ct(C,T.endOffset,wt.bytesToString);if(Le=Ct(C,Z.endOffset),A.gsubrs=Le.objects,A.gsubrsBias=ut(A.gsubrs),1!==(Le=vn(C,B,T.objects,Z.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Le.length);if((A.tables.cff.topDict=T=Le[0])._privateDict&&(A.defaultWidthX=T._privateDict.defaultWidthX,A.nominalWidthX=T._privateDict.nominalWidthX),void 0!==T.ros[0]&&void 0!==T.ros[1]&&(A.isCIDFont=!0),A.isCIDFont){var X=T.fdSelect;if(0===(Le=T.fdArray)||0===X)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Le=vn(C,B,Ct(C,Le+=B).objects,Z.objects),T._fdArray=Le,T._fdSelect=function(Bt,mt,yn,tn){var on,Zt=[],Kt=new wt.Parser(Bt,mt);if(0===(Bt=Kt.parseCard8()))for(var Bn=0;Bn<yn;Bn++){if(tn<=(on=Kt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+on+" (FD count "+tn+")");Zt.push(on)}else{if(3!==Bt)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Bt);var $n,Vn=Kt.parseCard16(),Un=Kt.parseCard16();if(0!==Un)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Un);for(var Zn=0;Zn<Vn;Zn++){if(on=Kt.parseCard8(),$n=Kt.parseCard16(),tn<=on)throw new Error("CFF table CID Font FDSelect has bad FD index value "+on+" (FD count "+tn+")");if(yn<$n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+$n);for(;Un<$n;Un++)Zt.push(on);Un=$n}if($n!==yn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+$n)}return Zt}(C,X+=B,A.numGlyphs,Le.length)}Le=hn(C,X=B+T.private[1],T.private[0],Z.objects);var ue=(A.defaultWidthX=Le.defaultWidthX,A.nominalWidthX=Le.nominalWidthX,0!==Le.subrs?(X=Ct(C,X+Le.subrs),A.subrs=X.objects,A.subrsBias=ut(A.subrs)):(A.subrs=[],A.subrsBias=0),Ct(C,B+T.charStrings));A.nGlyphs=ue.objects.length,Le=function(It,Vt,Bt,mt){var yn=new wt.Parser(It,Vt),tn=(--Bt,[".notdef"]);if(0===(It=yn.parseCard8()))for(var on=0;on<Bt;on+=1)Zt=yn.parseSID(),tn.push(bt(mt,Zt));else if(1===It)for(;tn.length<=Bt;)for(var Zt=yn.parseSID(),Kt=yn.parseCard8(),Bn=0;Bn<=Kt;Bn+=1)tn.push(bt(mt,Zt)),Zt+=1;else{if(2!==It)throw new Error("Unknown charset format "+It);for(;tn.length<=Bt;){Zt=yn.parseSID(),Kt=yn.parseCard16();for(var $n=0;$n<=Kt;$n+=1)tn.push(bt(mt,Zt)),Zt+=1}}return tn}(C,B+T.charset,A.nGlyphs,Z.objects),A.cffEncoding=0===T.encoding?new ln(Te,Le):1===T.encoding?new ln(et,Le):function(It,Vt,Bt){var mt={},yn=new wt.Parser(It,Vt);if(0===(It=yn.parseCard8()))for(var tn=yn.parseCard8(),on=0;on<tn;on+=1)mt[Kt=yn.parseCard8()]=on;else{if(1!==It)throw new Error("Unknown encoding format "+It);for(var Zt=yn.parseCard8(),Kt=1,Bn=0;Bn<Zt;Bn+=1)for(var $n=yn.parseCard8(),Vn=yn.parseCard8(),Un=$n;Un<=$n+Vn;Un+=1)mt[Un]=Kt,Kt+=1}return new ln(mt,Bt)}(C,B+T.encoding,Le),A.encoding=A.encoding||A.cffEncoding,A.glyphs=new Ye.GlyphSet(A);for(var Je=0;Je<A.nGlyphs;Je+=1)A.glyphs.push(Je,Ye.cffGlyphLoader(A,Je,En,ue.objects[Je]))},Nn_make=function(C,It){for(var A,T=new Ft.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),Z={version:It.version,fullName:It.fullName,familyName:It.familyName,weight:It.weightName,fontBBox:It.fontBBox||[0,0,0,0],fontMatrix:[Z=1/It.unitsPerEm,0,0,Z,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},X=[],ue=1;ue<C.length;ue+=1)A=C.get(ue),X.push(A.name);var Le,Je,st=[],Vt=(T.header=new Ft.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),T.nameIndex=function(Bt){var mt=new Ft.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);mt.names=[];for(var yn=0;yn<Bt.length;yn+=1)mt.names.push({name:"name_"+yn,type:"NAME",value:Bt[yn]});return mt}([It.postScriptName]),It=tr(Z,st),T.topDictIndex=nr(It),T.globalSubrIndex=new Ft.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),T.charsets=function(Bt,mt){for(var yn=new Ft.Record("Charsets",[{name:"format",type:"Card8",value:0}]),tn=0;tn<Bt.length;tn+=1){var on=Cn(Bt[tn],mt);yn.fields.push({name:"glyph_"+tn,type:"SID",value:on})}return yn}(X,st),T.charStringsIndex=function Wn(C){for(var B=new Ft.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),A=0;A<C.length;A+=1){var T=C.get(A),Z=function(X){for(var ue=[],Le=X.path,Je=(ue.push({name:"width",type:"NUMBER",value:X.advanceWidth}),0),st=0,It=0;It<Le.commands.length;It+=1){var Vt,Bt,mt,yn,tn=void 0,on=void 0,Zt=Le.commands[It];"M"===(Zt="Q"===Zt.type?{type:"C",x:Zt.x,y:Zt.y,x1:1/3*Je+2/3*Zt.x1,y1:1/3*st+2/3*Zt.y1,x2:1/3*Zt.x+2/3*Zt.x1,y2:1/3*Zt.y+2/3*Zt.y1}:Zt).type?(tn=Math.round(Zt.x-Je),on=Math.round(Zt.y-st),ue.push({name:"dx",type:"NUMBER",value:tn}),ue.push({name:"dy",type:"NUMBER",value:on}),ue.push({name:"rmoveto",type:"OP",value:21}),Je=Math.round(Zt.x),st=Math.round(Zt.y)):"L"===Zt.type?(tn=Math.round(Zt.x-Je),on=Math.round(Zt.y-st),ue.push({name:"dx",type:"NUMBER",value:tn}),ue.push({name:"dy",type:"NUMBER",value:on}),ue.push({name:"rlineto",type:"OP",value:5}),Je=Math.round(Zt.x),st=Math.round(Zt.y)):"C"===Zt.type&&(Vt=Math.round(Zt.x1-Je),Bt=Math.round(Zt.y1-st),mt=Math.round(Zt.x2-Zt.x1),yn=Math.round(Zt.y2-Zt.y1),tn=Math.round(Zt.x-Zt.x2),on=Math.round(Zt.y-Zt.y2),ue.push({name:"dx1",type:"NUMBER",value:Vt}),ue.push({name:"dy1",type:"NUMBER",value:Bt}),ue.push({name:"dx2",type:"NUMBER",value:mt}),ue.push({name:"dy2",type:"NUMBER",value:yn}),ue.push({name:"dx",type:"NUMBER",value:tn}),ue.push({name:"dy",type:"NUMBER",value:on}),ue.push({name:"rrcurveto",type:"OP",value:8}),Je=Math.round(Zt.x),st=Math.round(Zt.y))}return ue.push({name:"endchar",type:"OP",value:14}),ue}(T);B.charStrings.push({name:T.name,type:"CHARSTRING",value:Z})}return B}(C),T.privateDict=(Vt={},Le=st,(Je=new Ft.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Sn(Xt,Vt,Le),Je),T.stringIndex=function(Bt){var mt=new Ft.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);mt.strings=[];for(var yn=0;yn<Bt.length;yn+=1)mt.strings.push({name:"string_"+yn,type:"STRING",value:Bt[yn]});return mt}(st),T.header.sizeOf()+T.nameIndex.sizeOf()+T.topDictIndex.sizeOf()+T.stringIndex.sizeOf()+T.globalSubrIndex.sizeOf());return Z.charset=Vt,Z.encoding=0,Z.charStrings=Z.charset+T.charsets.sizeOf(),Z.private[1]=Z.charStrings+T.charStringsIndex.sizeOf(),It=tr(Z,st),T.topDictIndex=nr(It),T},ee_parse=function(T,B){var A={};return T=new wt.Parser(T,B),A.version=T.parseVersion(),A.fontRevision=Math.round(1e3*T.parseFixed())/1e3,A.checkSumAdjustment=T.parseULong(),A.magicNumber=T.parseULong(),L.argument(1594834165===A.magicNumber,"Font header has wrong magic number."),A.flags=T.parseUShort(),A.unitsPerEm=T.parseUShort(),A.created=T.parseLongDateTime(),A.modified=T.parseLongDateTime(),A.xMin=T.parseShort(),A.yMin=T.parseShort(),A.xMax=T.parseShort(),A.yMax=T.parseShort(),A.macStyle=T.parseUShort(),A.lowestRecPPEM=T.parseUShort(),A.fontDirectionHint=T.parseShort(),A.indexToLocFormat=T.parseShort(),A.glyphDataFormat=T.parseShort(),A},ee_make=function(C){var B=Math.round((new Date).getTime()/1e3)+2082844800,A=B;return C.createdTimestamp&&(A=C.createdTimestamp+2082844800),new Ft.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:A},{name:"modified",type:"LONGDATETIME",value:B},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],C)},ie_parse=function(T,B){var A={};return T=new wt.Parser(T,B),A.version=T.parseVersion(),A.ascender=T.parseShort(),A.descender=T.parseShort(),A.lineGap=T.parseShort(),A.advanceWidthMax=T.parseUShort(),A.minLeftSideBearing=T.parseShort(),A.minRightSideBearing=T.parseShort(),A.xMaxExtent=T.parseShort(),A.caretSlopeRise=T.parseShort(),A.caretSlopeRun=T.parseShort(),A.caretOffset=T.parseShort(),T.relativeOffset+=8,A.metricDataFormat=T.parseShort(),A.numberOfHMetrics=T.parseUShort(),A},ie_make=function(C){return new Ft.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],C)},we_parse=function(C,B,A,T,Z){for(var X,ue,Le=new wt.Parser(C,B),Je=0;Je<T;Je+=1){Je<A&&(X=Le.parseUShort(),ue=Le.parseShort());var st=Z.get(Je);st.advanceWidth=X,st.leftSideBearing=ue}},we_make=function(C){for(var B=new Ft.Table("hmtx",[]),A=0;A<C.length;A+=1){var T=(Z=C.get(A)).advanceWidth||0,Z=Z.leftSideBearing||0;B.fields.push({name:"advanceWidth_"+A,type:"USHORT",value:T}),B.fields.push({name:"leftSideBearing_"+A,type:"SHORT",value:Z})}return B},D_make=function(C){for(var B=new Ft.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:C.length}]),A="",T=12+4*C.length,Z=0;Z<C.length;++Z){var X=A.indexOf(C[Z]);X<0&&(X=A.length,A+=C[Z]),B.fields.push({name:"offset "+Z,type:"USHORT",value:T+X}),B.fields.push({name:"length "+Z,type:"USHORT",value:C[Z].length})}return B.fields.push({name:"stringPool",type:"CHARARRAY",value:A}),B},D_parse=function(C,B){for(var A=new wt.Parser(C,B),T=A.parseULong(),Z=(L.argument(1===T,"Unsupported ltag table version."),A.skip("uLong",1),A.parseULong()),X=[],ue=0;ue<Z;ue++){for(var Le="",Je=B+A.parseUShort(),st=A.parseUShort(),It=Je;It<Je+st;++It)Le+=String.fromCharCode(C.getInt8(It));X.push(Le)}return X},R_parse=function(T,B){var A={};return T=new wt.Parser(T,B),A.version=T.parseVersion(),A.numGlyphs=T.parseUShort(),1===A.version&&(A.maxPoints=T.parseUShort(),A.maxContours=T.parseUShort(),A.maxCompositePoints=T.parseUShort(),A.maxCompositeContours=T.parseUShort(),A.maxZones=T.parseUShort(),A.maxTwilightPoints=T.parseUShort(),A.maxStorage=T.parseUShort(),A.maxFunctionDefs=T.parseUShort(),A.maxInstructionDefs=T.parseUShort(),A.maxStackElements=T.parseUShort(),A.maxSizeOfInstructions=T.parseUShort(),A.maxComponentElements=T.parseUShort(),A.maxComponentDepth=T.parseUShort()),A},R_make=function(C){return new Ft.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:C}])},U=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],H={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},le={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Q={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},ye="utf-16",Me={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},qe={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function _t(C,B,A){switch(C){case 0:return ye;case 1:return qe[A]||Me[B];case 3:if(1===B||10===B)return ye}}function qt(C){var B,A={};for(B in C)A[C[B]]=parseInt(B);return A}function cn(C,B,A,T,Z,X){return new Ft.Record("NameRecord",[{name:"platformID",type:"USHORT",value:C},{name:"encodingID",type:"USHORT",value:B},{name:"languageID",type:"USHORT",value:A},{name:"nameID",type:"USHORT",value:T},{name:"length",type:"USHORT",value:Z},{name:"offset",type:"USHORT",value:X}])}function an(C,B){if((A=function(X,ue){var Le=X.length,Je=ue.length-Le+1;e:for(var st=0;st<Je;st++)for(;st<Je;st++){for(var It=0;It<Le;It++)if(ue[st+It]!==X[It])continue e;return st}return-1}(C,B))<0)for(var A=B.length,T=0,Z=C.length;T<Z;++T)B.push(C[T]);return A}var On_parse=function(C,B,A){for(var T={},Z=new wt.Parser(C,B),X=(B=Z.parseUShort(),Z.parseUShort()),ue=Z.offset+Z.parseUShort(),Le=0;Le<X;Le++){var yn=Z.parseUShort(),Je=Z.parseUShort(),st=Z.parseUShort(),It=Z.parseUShort(),Vt=(It=U[It]||It,Z.parseUShort()),Bt=Z.parseUShort(),mt=function(on,Zt,Kt){switch(on){case 0:if(65535===Zt)return"und";if(Kt)return Kt[Zt];break;case 1:return H[Zt];case 3:return Q[Zt]}}(yn,st,A);void 0!==(yn=_t(yn,Je,st))&&void 0!==mt&&(Je=void 0,(Je=yn===ye?se.UTF16(C,ue+Bt,Vt):se.MACSTRING(C,ue+Bt,Vt,yn))&&((st=void 0===(st=T[It])?T[It]={}:st)[mt]=Je))}return 1===B&&Z.parseUShort(),T},On_make=function(C,B){var A,T=[],Z={},X=qt(U);for(A in C){var ue=X[A];if(void 0===ue&&(ue=A),Bt=parseInt(ue),isNaN(Bt))throw new Error('Name table entry "'+A+'" does not exist, see nameTableNames for complete list.');Z[Bt]=C[A],T.push(Bt)}for(var Le=qt(H),Je=qt(Q),st=[],It=[],Vt=0;Vt<T.length;Vt++){var Bt,mt,yn=Z[Bt=T[Vt]];for(mt in yn){var $n,tn=yn[mt],on=Le[mt],Zt=le[on],Kt=_t($n=1,Zt,on),Bn=(void 0===(Kt=pe.MACSTRING(tn,Kt))&&($n=0,(on=B.indexOf(mt))<0&&(on=B.length,B.push(mt)),Zt=4,Kt=pe.UTF16(tn)),an(Kt,It));void 0!==(st.push(cn($n,Zt,on,Bt,Kt.length,Bn)),$n=Je[mt])&&(on=an(Zt=pe.UTF16(tn),It),st.push(cn(3,1,$n,Bt,Zt.length,on)))}}st.sort(function(Zn,er){return Zn.platformID-er.platformID||Zn.encodingID-er.encodingID||Zn.languageID-er.languageID||Zn.nameID-er.nameID});for(var Vn=new Ft.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:st.length},{name:"stringOffset",type:"USHORT",value:6+12*st.length}]),Un=0;Un<st.length;Un++)Vn.fields.push({name:"record_"+Un,type:"RECORD",value:st[Un]});return Vn.fields.push({name:"strings",type:"LITERAL",value:It}),Vn},zn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Gn_parse=function(C,B){var A={},T=new wt.Parser(C,B);A.version=T.parseUShort(),A.xAvgCharWidth=T.parseShort(),A.usWeightClass=T.parseUShort(),A.usWidthClass=T.parseUShort(),A.fsType=T.parseUShort(),A.ySubscriptXSize=T.parseShort(),A.ySubscriptYSize=T.parseShort(),A.ySubscriptXOffset=T.parseShort(),A.ySubscriptYOffset=T.parseShort(),A.ySuperscriptXSize=T.parseShort(),A.ySuperscriptYSize=T.parseShort(),A.ySuperscriptXOffset=T.parseShort(),A.ySuperscriptYOffset=T.parseShort(),A.yStrikeoutSize=T.parseShort(),A.yStrikeoutPosition=T.parseShort(),A.sFamilyClass=T.parseShort(),A.panose=[];for(var Z=0;Z<10;Z++)A.panose[Z]=T.parseByte();return A.ulUnicodeRange1=T.parseULong(),A.ulUnicodeRange2=T.parseULong(),A.ulUnicodeRange3=T.parseULong(),A.ulUnicodeRange4=T.parseULong(),A.achVendID=String.fromCharCode(T.parseByte(),T.parseByte(),T.parseByte(),T.parseByte()),A.fsSelection=T.parseUShort(),A.usFirstCharIndex=T.parseUShort(),A.usLastCharIndex=T.parseUShort(),A.sTypoAscender=T.parseShort(),A.sTypoDescender=T.parseShort(),A.sTypoLineGap=T.parseShort(),A.usWinAscent=T.parseUShort(),A.usWinDescent=T.parseUShort(),1<=A.version&&(A.ulCodePageRange1=T.parseULong(),A.ulCodePageRange2=T.parseULong()),2<=A.version&&(A.sxHeight=T.parseShort(),A.sCapHeight=T.parseShort(),A.usDefaultChar=T.parseUShort(),A.usBreakChar=T.parseUShort(),A.usMaxContent=T.parseUShort()),A},Gn_make=function(C){return new Ft.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],C)},Gn_getUnicodeRange=function(C){for(var B=0;B<zn.length;B+=1){var A=zn[B];if(C>=A.begin&&C<A.end)return B}return-1},kr_parse=function(C,B){var A={},T=new wt.Parser(C,B);switch(A.version=T.parseVersion(),A.italicAngle=T.parseFixed(),A.underlinePosition=T.parseShort(),A.underlineThickness=T.parseShort(),A.isFixedPitch=T.parseULong(),A.minMemType42=T.parseULong(),A.maxMemType42=T.parseULong(),A.minMemType1=T.parseULong(),A.maxMemType1=T.parseULong(),A.version){case 1:A.names=Et.slice();break;case 2:A.numberOfGlyphs=T.parseUShort(),A.glyphNameIndex=new Array(A.numberOfGlyphs);for(var Z=0;Z<A.numberOfGlyphs;Z++)A.glyphNameIndex[Z]=T.parseUShort();A.names=[];for(var X,ue=0;ue<A.numberOfGlyphs;ue++)A.glyphNameIndex[ue]>=Et.length&&(X=T.parseChar(),A.names.push(T.parseString(X)));break;case 2.5:A.numberOfGlyphs=T.parseUShort(),A.offset=new Array(A.numberOfGlyphs);for(var Le=0;Le<A.numberOfGlyphs;Le++)A.offset[Le]=T.parseChar()}return A},kr_make=function(){return new Ft.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},ar=new Array(9),at=(ar[1]=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort();return 1===B?{substFormat:1,coverage:this.parsePointer(vt.coverage),deltaGlyphId:this.parseUShort()}:2===B?{substFormat:2,coverage:this.parsePointer(vt.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+C.toString(16)+": lookup type 1 format must be 1 or 2.")},ar[2]=function(){var C=this.parseUShort();return L.argument(1===C,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(vt.coverage),sequences:this.parseListOfLists()}},ar[3]=function(){var C=this.parseUShort();return L.argument(1===C,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(vt.coverage),alternateSets:this.parseListOfLists()}},ar[4]=function(){var C=this.parseUShort();return L.argument(1===C,"GSUB ligature table identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(vt.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:vt.uShort,lookupListIndex:vt.uShort});ar[5]=function(){var C,B,A=this.offset+this.relativeOffset,T=this.parseUShort();return 1===T?{substFormat:T,coverage:this.parsePointer(vt.coverage),ruleSets:this.parseListOfLists(function(){var Z=this.parseUShort(),X=this.parseUShort();return{input:this.parseUShortList(Z-1),lookupRecords:this.parseRecordList(X,at)}})}:2===T?{substFormat:T,coverage:this.parsePointer(vt.coverage),classDef:this.parsePointer(vt.classDef),classSets:this.parseListOfLists(function(){var Z=this.parseUShort(),X=this.parseUShort();return{classes:this.parseUShortList(Z-1),lookupRecords:this.parseRecordList(X,at)}})}:3===T?(C=this.parseUShort(),B=this.parseUShort(),{substFormat:T,coverages:this.parseList(C,vt.pointer(vt.coverage)),lookupRecords:this.parseRecordList(B,at)}):void L.assert(!1,"0x"+A.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},ar[6]=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort();return 1===B?{substFormat:1,coverage:this.parsePointer(vt.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(at)}})}:2===B?{substFormat:2,coverage:this.parsePointer(vt.coverage),backtrackClassDef:this.parsePointer(vt.classDef),inputClassDef:this.parsePointer(vt.classDef),lookaheadClassDef:this.parsePointer(vt.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(at)}})}:3===B?{substFormat:3,backtrackCoverage:this.parseList(vt.pointer(vt.coverage)),inputCoverage:this.parseList(vt.pointer(vt.coverage)),lookaheadCoverage:this.parseList(vt.pointer(vt.coverage)),lookupRecords:this.parseRecordList(at)}:void L.assert(!1,"0x"+C.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},ar[7]=function(){var C=this.parseUShort(),B=(L.argument(1===C,"GSUB Extension Substitution subtable identifier-format must be 1"),C=this.parseUShort(),new vt(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:C,extension:ar[C].call(B)}},ar[8]=function(){var C=this.parseUShort();return L.argument(1===C,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(vt.coverage),backtrackCoverage:this.parseList(vt.pointer(vt.coverage)),lookaheadCoverage:this.parseList(vt.pointer(vt.coverage)),substitutes:this.parseUShortList()}};var ct=new Array(9);ct[1]=function(C){return new Ft.Table("substitutionTable",1===C.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ft.Coverage(C.coverage)},{name:"deltaGlyphID",type:"USHORT",value:C.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ft.Coverage(C.coverage)}].concat(Ft.ushortList("substitute",C.substitute)))},ct[3]=function(C){return L.assert(1===C.substFormat,"Lookup type 3 substFormat must be 1."),new Ft.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ft.Coverage(C.coverage)}].concat(Ft.tableList("altSet",C.alternateSets,function(B){return new Ft.Table("alternateSetTable",Ft.ushortList("alternate",B))})))},ct[4]=function(C){return L.assert(1===C.substFormat,"Lookup type 4 substFormat must be 1."),new Ft.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ft.Coverage(C.coverage)}].concat(Ft.tableList("ligSet",C.ligatureSets,function(B){return new Ft.Table("ligatureSetTable",Ft.tableList("ligature",B,function(A){return new Ft.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:A.ligGlyph}].concat(Ft.ushortList("component",A.components,A.components.length+1)))}))})))};var $e_parse=function(C,B){return B=(C=new vt(C,B=B||0)).parseVersion(1),L.argument(1===B||1.1===B,"Unsupported GSUB table version."),1===B?{version:B,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(ar)}:{version:B,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(ar),variations:C.parseFeatureVariationsList()}},$e_make=function(C){return new Ft.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ft.ScriptList(C.scripts)},{name:"features",type:"TABLE",value:new Ft.FeatureList(C.features)},{name:"lookups",type:"TABLE",value:new Ft.LookupList(C.lookups,ct)}])},lt_parse=function(C,B){for(var A=new wt.Parser(C,B),T=A.parseULong(),Z=(L.argument(1===T,"Unsupported META table version."),A.parseULong(),A.parseULong(),A.parseULong()),X={},ue=0;ue<Z;ue++){var Le=A.parseTag(),st=A.parseULong(),Je=A.parseULong();st=se.UTF8(C,B+st,Je),X[Le]=st}return X},lt_make=function(C){var B,A=Object.keys(C).length,T="",Z=16+12*A,X=new Ft.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:Z},{name:"numTags",type:"ULONG",value:A}]);for(B in C){var ue=T.length;T+=C[B],X.fields.push({name:"tag "+B,type:"TAG",value:B}),X.fields.push({name:"offset "+B,type:"ULONG",value:Z+ue}),X.fields.push({name:"length "+B,type:"ULONG",value:C[B].length})}return X.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),X};function Ut(C){return Math.log(C)/Math.log(2)|0}function fn(C){for(;C.length%4!=0;)C.push(0);for(var B=0,A=0;A<C.length;A+=4)B+=(C[A]<<24)+(C[A+1]<<16)+(C[A+2]<<8)+C[A+3];return B%Math.pow(2,32)}function An(C,B,A,T){return new Ft.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==C?C:""},{name:"checkSum",type:"ULONG",value:void 0!==B?B:0},{name:"offset",type:"ULONG",value:void 0!==A?A:0},{name:"length",type:"ULONG",value:void 0!==T?T:0}])}function Tt(C){for(var B=new Ft.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),A=(B.tables=C,B.numTables=C.length,Math.pow(2,Ut(B.numTables))),T=(B.searchRange=16*A,B.entrySelector=Ut(A),B.rangeShift=16*B.numTables-B.searchRange,[]),Z=[],X=B.sizeOf()+An().sizeOf()*B.numTables;X%4!=0;)X+=1,Z.push({name:"padding",type:"BYTE",value:0});for(var ue=0;ue<C.length;ue+=1){var Le=C[ue],Je=(L.argument(4===Le.tableName.length,"Table name"+Le.tableName+" is invalid."),Le.sizeOf()),st=An(Le.tableName,fn(Le.encode()),X,Je);for(T.push({name:st.tag+" Table Record",type:"RECORD",value:st}),Z.push({name:Le.tableName+" table",type:"RECORD",value:Le}),X+=Je,L.argument(!isNaN(X),"Something went wrong calculating the offset.");X%4!=0;)X+=1,Z.push({name:"padding",type:"BYTE",value:0})}return T.sort(function(It,Vt){return It.value.tag>Vt.value.tag?1:-1}),B.fields=B.fields.concat(T),B.fields=B.fields.concat(Z),B}function Pe(C,B,A){for(var T=0;T<B.length;T+=1){var Z=C.charToGlyphIndex(B[T]);if(0<Z)return C.glyphs.get(Z).getMetrics()}return A}var He_fontToTable=function(C){for(var B,A=[],T=[],Z=[],X=[],ue=[],Le=[],Je=[],st=0,It=0,Vt=0,Bt=0,mt=0,yn=0;yn<C.glyphs.length;yn+=1){var tn=C.glyphs.get(yn),on=0|tn.unicode;if(isNaN(tn.advanceWidth))throw new Error("Glyph "+tn.name+" ("+yn+"): advanceWidth is not a number.");if((on<B||void 0===B)&&0<on&&(B=on),st<on&&(st=on),(on=Gn_getUnicodeRange(on))<32)It|=1<<on;else if(on<64)Vt|=1<<on-32;else if(on<96)Bt|=1<<on-64;else{if(!(on<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");mt|=1<<on-96}".notdef"!==tn.name&&(on=tn.getMetrics(),A.push(on.xMin),T.push(on.yMin),Z.push(on.xMax),X.push(on.yMax),Le.push(on.leftSideBearing),Je.push(on.rightSideBearing),ue.push(tn.advanceWidth))}var Zt,Kt={xMin:Math.min.apply(null,A),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,Z),yMax:Math.max.apply(null,X),advanceWidthMax:Math.max.apply(null,ue),advanceWidthAvg:function(no){for(var Jo=0,cs=0;cs<no.length;cs+=1)Jo+=no[cs];return Jo/no.length}(ue),minLeftSideBearing:Math.min.apply(null,Le),maxLeftSideBearing:Math.max.apply(null,Le),minRightSideBearing:Math.min.apply(null,Je)},Bn=(Kt.ascender=C.ascender,Kt.descender=C.descender,ee_make({flags:3,unitsPerEm:C.unitsPerEm,xMin:Kt.xMin,yMin:Kt.yMin,xMax:Kt.xMax,yMax:Kt.yMax,lowestRecPPEM:3,createdTimestamp:C.createdTimestamp})),$n=ie_make({ascender:Kt.ascender,descender:Kt.descender,advanceWidthMax:Kt.advanceWidthMax,minLeftSideBearing:Kt.minLeftSideBearing,minRightSideBearing:Kt.minRightSideBearing,xMaxExtent:Kt.maxLeftSideBearing+(Kt.xMax-Kt.xMin),numberOfHMetrics:C.glyphs.length}),Vn=R_make(C.glyphs.length),Un=Gn_make({xAvgCharWidth:Math.round(Kt.advanceWidthAvg),usWeightClass:C.tables.os2.usWeightClass,usWidthClass:C.tables.os2.usWidthClass,usFirstCharIndex:B,usLastCharIndex:st,ulUnicodeRange1:It,ulUnicodeRange2:Vt,ulUnicodeRange3:Bt,ulUnicodeRange4:mt,fsSelection:C.tables.os2.fsSelection,sTypoAscender:Kt.ascender,sTypoDescender:Kt.descender,sTypoLineGap:0,usWinAscent:Kt.yMax,usWinDescent:Math.abs(Kt.yMin),ulCodePageRange1:1,sxHeight:Pe(C,"xyvw",{yMax:Math.round(Kt.ascender/2)}).yMax,sCapHeight:Pe(C,"HIKLEFJMNTZBDPRAGOQSUVWXY",Kt).yMax,usDefaultChar:C.hasChar(" ")?32:0,usBreakChar:C.hasChar(" ")?32:0}),Zn=we_make(C.glyphs),er=Re_make(C.glyphs),xr=(Dr=C.getEnglishName("fontFamily"))+" "+(gr=C.getEnglishName("fontSubfamily")),Ur=(Ur=C.getEnglishName("postScriptName"))||Dr.replace(/\s/g,"")+"-"+gr,Kr={};for(Zt in C.names)Kr[Zt]=C.names[Zt];Kr.uniqueID||(Kr.uniqueID={en:C.getEnglishName("manufacturer")+":"+xr}),Kr.postScriptName||(Kr.postScriptName={en:Ur}),Kr.preferredFamily||(Kr.preferredFamily=C.names.fontFamily),Kr.preferredSubfamily||(Kr.preferredSubfamily=C.names.fontSubfamily);var Zr=On_make(Kr,Jr=[]),Jr=0<Jr.length?D_make(Jr):void 0,fo=kr_make(),Dr=(xr=Nn_make(C.glyphs,{version:C.getEnglishName("version"),fullName:xr,familyName:Dr,weightName:gr,postScriptName:Ur,unitsPerEm:C.unitsPerEm,fontBBox:[0,Kt.yMin,Kt.ascender,Kt.advanceWidthMax]}),C.metas&&0<Object.keys(C.metas).length?lt_make(C.metas):void 0),gr=[Bn,$n,Vn,Un,Zr,er,fo,xr,Zn];Jr&&gr.push(Jr),C.tables.gsub&&gr.push($e_make(C.tables.gsub)),Dr&&gr.push(Dr);for(var Pr=fn((Ur=Tt(gr)).encode()),Ln=Ur.fields,to=!1,Nr=0;Nr<Ln.length;Nr+=1)if("head table"===Ln[Nr].name){Ln[Nr].value.checkSumAdjustment=2981146554-Pr,to=!0;break}if(to)return Ur;throw new Error("Could not find head table with checkSum to adjust.")};function Mt(C,B){for(var A=0,T=C.length-1;A<=T;){var Z=A+T>>>1,X=C[Z].tag;if(X===B)return Z;X<B?A=1+Z:T=Z-1}return-A-1}function Ot(C,B){for(var A=0,T=C.length-1;A<=T;){var Z=A+T>>>1,X=C[Z];if(X===B)return Z;X<B?A=1+Z:T=Z-1}return-A-1}function $t(C,B){for(var A=0,T=C.length-1;A<=T;){var Z,X=A+T>>>1,ue=(Z=C[X]).start;if(ue===B)return Z;ue<B?A=1+X:T=X-1}if(0<A)return B>(Z=C[A-1]).end?0:Z}function oe(C,B){this.font=C,this.tableName=B}function Ne(C){oe.call(this,C,"gpos")}function ve(C){oe.call(this,C,"gsub")}function Ve(C,B,A){for(var T=C.subtables,Z=0;Z<T.length;Z++){var X=T[Z];if(X.substFormat===B)return X}if(A)return T.push(A),A}function pt(C){for(var B=new ArrayBuffer(C.length),A=new Uint8Array(B),T=0;T<C.length;++T)A[T]=C[T];return B}function Qt(C,B){if(!C)throw B}function Dn(C,B,A,T,Z){var X=0<(B&T)?(X=C.parseByte(),A+(X=B&Z?X:-X)):0<(B&Z)?A:A+C.parseShort();return X}function jn(C,B,A){var T,Z=new wt.Parser(B,A);if(C.numberOfContours=Z.parseShort(),C._xMin=Z.parseShort(),C._yMin=Z.parseShort(),C._xMax=Z.parseShort(),C._yMax=Z.parseShort(),0<C.numberOfContours){for(var X=C.endPointIndices=[],ue=0;ue<C.numberOfContours;ue+=1)X.push(Z.parseUShort());C.instructionLength=Z.parseUShort(),C.instructions=[];for(var Le=0;Le<C.instructionLength;Le+=1)C.instructions.push(Z.parseByte());for(var Je=X[X.length-1]+1,st=[],It=0;It<Je;It+=1)if(T=Z.parseByte(),st.push(T),0<(8&T))for(var Vt=Z.parseByte(),Bt=0;Bt<Vt;Bt+=1)st.push(T),It+=1;if(L.argument(st.length===Je,"Bad flags."),0<X.length){var mt,yn=[];if(0<Je){for(var tn=0;tn<Je;tn+=1)(mt={}).onCurve=!!(1&(T=st[tn])),mt.lastPointOfContour=0<=X.indexOf(tn),yn.push(mt);for(var on=0,Zt=0;Zt<Je;Zt+=1)(mt=yn[Zt]).x=Dn(Z,T=st[Zt],on,2,16),on=mt.x;for(var Kt=0,Bn=0;Bn<Je;Bn+=1)(mt=yn[Bn]).y=Dn(Z,T=st[Bn],Kt,4,32),Kt=mt.y}C.points=yn}else C.points=[]}else if(0===C.numberOfContours)C.points=[];else{C.isComposite=!0,C.points=[],C.components=[];for(var $n=!0;$n;){st=Z.parseUShort();var Vn={glyphIndex:Z.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&st)?0<(2&st)?(Vn.dx=Z.parseShort(),Vn.dy=Z.parseShort()):Vn.matchedPoints=[Z.parseUShort(),Z.parseUShort()]:0<(2&st)?(Vn.dx=Z.parseChar(),Vn.dy=Z.parseChar()):Vn.matchedPoints=[Z.parseByte(),Z.parseByte()],0<(8&st)?Vn.xScale=Vn.yScale=Z.parseF2Dot14():0<(64&st)?(Vn.xScale=Z.parseF2Dot14(),Vn.yScale=Z.parseF2Dot14()):0<(128&st)&&(Vn.xScale=Z.parseF2Dot14(),Vn.scale01=Z.parseF2Dot14(),Vn.scale10=Z.parseF2Dot14(),Vn.yScale=Z.parseF2Dot14()),C.components.push(Vn),$n=!!(32&st)}if(256&st){C.instructionLength=Z.parseUShort(),C.instructions=[];for(var Un=0;Un<C.instructionLength;Un+=1)C.instructions.push(Z.parseByte())}}}function qn(C,B){for(var A=[],T=0;T<C.length;T+=1){var Z;A.push(Z={x:B.xScale*(Z=C[T]).x+B.scale01*Z.y+B.dx,y:B.scale10*Z.x+B.yScale*Z.y+B.dy,onCurve:Z.onCurve,lastPointOfContour:Z.lastPointOfContour})}return A}function Kn(C){var B=new fe;if(C)for(var A=function(Vt){for(var Bt=[],mt=[],yn=0;yn<Vt.length;yn+=1){var tn=Vt[yn];mt.push(tn),tn.lastPointOfContour&&(Bt.push(mt),mt=[])}return L.argument(0===mt.length,"There are still points left in the current contour."),Bt}(C),T=0;T<A.length;++T){var Z,X=A[T],Le=X[0];(ue=X[X.length-1]).onCurve?B.moveTo(ue.x,ue.y):Le.onCurve?B.moveTo(Le.x,Le.y):B.moveTo((Z={x:.5*(ue.x+Le.x),y:.5*(ue.y+Le.y)}).x,Z.y);for(var Je=0;Je<X.length;++Je){var st,ue=Le;Le=X[(Je+1)%X.length],ue.onCurve?B.lineTo(ue.x,ue.y):(st=Le,Le.onCurve||(st={x:.5*(ue.x+Le.x),y:.5*(ue.y+Le.y)}),B.quadraticCurveTo(ue.x,ue.y,st.x,st.y))}B.closePath()}return B}function Or(C,B){if(B.isComposite)for(var A=0;A<B.components.length;A+=1){var Z=C.get((T=B.components[A]).glyphIndex);if(Z.getPath(),Z.points){var X=void 0;if(void 0===T.matchedPoints)X=qn(Z.points,T);else{if(T.matchedPoints[0]>B.points.length-1||T.matchedPoints[1]>Z.points.length-1)throw Error("Matched points out of range in "+B.name);var T,ue=B.points[T.matchedPoints[0]],Le=qn([Le=Z.points[T.matchedPoints[1]]],T={xScale:T.xScale,scale01:T.scale01,scale10:T.scale10,yScale:T.yScale,dx:0,dy:0})[0];T.dx=ue.x-Le.x,T.dy=ue.y-Le.y,X=qn(Z.points,T)}B.points=B.points.concat(X)}}return Kn(B.points)}(Ne.prototype=oe.prototype={searchTag:Mt,binSearch:Ot,getTable:function(C){var B=this.font.tables[this.tableName];return!B&&C?this.font.tables[this.tableName]=this.createDefaultTable():B},getScriptNames:function(){var C=this.getTable();return C?C.scripts.map(function(B){return B.tag}):[]},getDefaultScriptName:function(){var C=this.getTable();if(C){for(var B=!1,A=0;A<C.scripts.length;A++){var T=C.scripts[A].tag;if("DFLT"===T)return T;"latn"===T&&(B=!0)}return B?"latn":void 0}},getScriptTable:function(C,B){var A,T=this.getTable(B);if(T)return A=T.scripts,0<=(T=Mt(T.scripts,C=C||"DFLT"))?A[T].script:B?(A.splice(-1-T,0,B={tag:C,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),B.script):void 0},getLangSysTable:function(Z,B,A){var T;if(Z=this.getScriptTable(Z,A))return B&&"dflt"!==B&&"DFLT"!==B?0<=(T=Mt(Z.langSysRecords,B))?Z.langSysRecords[T].langSys:A?(Z.langSysRecords.splice(-1-T,0,A={tag:B,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),A.langSys):void 0:Z.defaultLangSys},getFeatureTable:function(C,B,A,T){if(C=this.getLangSysTable(C,B,T)){for(var Z,X=C.featureIndexes,ue=this.font.tables[this.tableName].features,Le=0;Le<X.length;Le++)if((Z=ue[X[Le]]).tag===A)return Z.feature;if(T)return L.assert(0===(B=ue.length)||A>=ue[B-1].tag,"Features must be added in alphabetical order."),ue.push(Z={tag:A,feature:{params:0,lookupListIndexes:[]}}),X.push(B),Z.feature}},getLookupTables:function(X,B,A,T,Z){var ue=[];if(X=this.getFeatureTable(X,B,A,Z)){for(var Le,Je=X.lookupListIndexes,st=this.font.tables[this.tableName].lookups,It=0;It<Je.length;It++)(Le=st[Je[It]]).lookupType===T&&ue.push(Le);if(0===ue.length&&Z)return B=st.length,st.push(Le={lookupType:T,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Je.push(B),[Le]}return ue},getGlyphClass:function(C,B){switch(C.format){case 1:return C.startGlyph<=B&&B<C.startGlyph+C.classes.length?C.classes[B-C.startGlyph]:0;case 2:var A=$t(C.ranges,B);return A?A.classId:0}},getCoverageIndex:function(C,B){switch(C.format){case 1:var A=Ot(C.glyphs,B);return 0<=A?A:-1;case 2:return(A=$t(C.ranges,B))?A.index+B-A.start:-1}},expandCoverage:function(C){if(1===C.format)return C.glyphs;for(var B=[],A=C.ranges,T=0;T<A.length;T++)for(var Z=A[T],ue=Z.end,Le=Z.start;Le<=ue;Le++)B.push(Le);return B}}).init=function(){var C=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(C)},Ne.prototype.getKerningValue=function(C,B,A){for(var T=0;T<C.length;T++)for(var Z=C[T].subtables,X=0;X<Z.length;X++){var ue=Z[X],Le=this.getCoverageIndex(ue.coverage,B);if(!(Le<0))switch(ue.posFormat){case 1:for(var Je=ue.pairSets[Le],st=0;st<Je.length;st++){var It=Je[st];if(It.secondGlyph===A)return It.value1&&It.value1.xAdvance||0}break;case 2:var Bt=this.getGlyphClass(ue.classDef1,B),Vt=this.getGlyphClass(ue.classDef2,A);return(Bt=ue.classRecords[Bt][Vt]).value1&&Bt.value1.xAdvance||0}}return 0},Ne.prototype.getKerningTables=function(C,B){if(this.font.tables.gpos)return this.getLookupTables(C,B,"kern",2)},(ve.prototype=oe.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ve.prototype.getSingle=function(C,B,A){for(var T=[],Z=this.getLookupTables(B,A,C,1),X=0;X<Z.length;X++)for(var ue=Z[X].subtables,Le=0;Le<ue.length;Le++){var Je=ue[Le],st=this.expandCoverage(Je.coverage),It=void 0;if(1===Je.substFormat){var Vt=Je.deltaGlyphId;for(It=0;It<st.length;It++){var Bt=st[It];T.push({sub:Bt,by:Bt+Vt})}}else{var mt=Je.substitute;for(It=0;It<st.length;It++)T.push({sub:st[It],by:mt[It]})}}return T},ve.prototype.getAlternates=function(C,B,A){for(var T=[],Z=this.getLookupTables(B,A,C,3),X=0;X<Z.length;X++)for(var ue=Z[X].subtables,Le=0;Le<ue.length;Le++)for(var Je=ue[Le],st=this.expandCoverage(Je.coverage),It=Je.alternateSets,Vt=0;Vt<st.length;Vt++)T.push({sub:st[Vt],by:It[Vt]});return T},ve.prototype.getLigatures=function(C,B,A){for(var T=[],Z=this.getLookupTables(B,A,C,4),X=0;X<Z.length;X++)for(var ue=Z[X].subtables,Le=0;Le<ue.length;Le++)for(var Je=ue[Le],st=this.expandCoverage(Je.coverage),It=Je.ligatureSets,Vt=0;Vt<st.length;Vt++)for(var Bt=st[Vt],mt=It[Vt],yn=0;yn<mt.length;yn++){var tn=mt[yn];T.push({sub:[Bt].concat(tn.components),by:tn.ligGlyph})}return T},ve.prototype.addSingle=function(C,B,A,T){A=Ve(this.getLookupTables(A,T,C,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(1===A.coverage.format,"Ligature: unable to modify coverage table format "+A.coverage.format),(C=this.binSearch(A.coverage.glyphs,T=B.sub))<0&&(A.coverage.glyphs.splice(C=-1-C,0,T),A.substitute.splice(C,0,0)),A.substitute[C]=B.by},ve.prototype.addAlternate=function(C,B,A,T){A=Ve(this.getLookupTables(A,T,C,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(1===A.coverage.format,"Ligature: unable to modify coverage table format "+A.coverage.format),(C=this.binSearch(A.coverage.glyphs,T=B.sub))<0&&(A.coverage.glyphs.splice(C=-1-C,0,T),A.alternateSets.splice(C,0,0)),A.alternateSets[C]=B.by},ve.prototype.addLigature=function(X,Je,Le,Z){(Z=(Le=this.getLookupTables(Le,Z,X,4,!0)[0]).subtables[0])||(Le.subtables[0]=Z={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(1===Z.coverage.format,"Ligature: unable to modify coverage table format "+Z.coverage.format),X=Je.sub[0];var ue=Je.sub.slice(1);if(Le={ligGlyph:Je.by,components:ue},0<=(Je=this.binSearch(Z.coverage.glyphs,X))){for(var st=Z.ligatureSets[Je],It=0;It<st.length;It++)if(function(Vt,Bt){var mt=Vt.length;if(mt===Bt.length){for(var yn=0;yn<mt;yn++)if(Vt[yn]!==Bt[yn])return;return 1}}(st[It].components,ue))return;st.push(Le)}else Z.coverage.glyphs.splice(Je=-1-Je,0,X),Z.ligatureSets.splice(Je,0,[Le])},ve.prototype.getFeature=function(C,B,A){if(/ss\d\d/.test(C))return this.getSingle(C,B,A);switch(C){case"aalt":case"salt":return this.getSingle(C,B,A).concat(this.getAlternates(C,B,A));case"dlig":case"liga":case"rlig":return this.getLigatures(C,B,A)}},ve.prototype.add=function(C,B,A,T){if(/ss\d\d/.test(C))return this.addSingle(C,B,A,T);switch(C){case"aalt":case"salt":return"number"==typeof B.by?this.addSingle(C,B,A,T):this.addAlternate(C,B,A,T);case"dlig":case"liga":case"rlig":return this.addLigature(C,B,A,T)}};var Tr={getPath:Kn,parse:function(C,B,A,T){for(var Z=new Ye.GlyphSet(T),X=0;X<A.length-1;X+=1){var ue=A[X];Z.push(X,ue!==A[X+1]?Ye.ttfGlyphLoader(T,X,jn,C,B+ue,Or):Ye.glyphLoader(T,X))}return Z}};function Rr(C){this.font=C,this.getCommands=function(B){return Tr.getPath(B).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Bo(C){return C}function Br(C){return Math.sign(C)*Math.round(Math.abs(C))}function pr(C){return Math.sign(C)*Math.round(Math.abs(2*C))/2}function Tn(C){return Math.sign(C)*(Math.round(Math.abs(C)+.5)-.5)}function Fn(C){return Math.sign(C)*Math.ceil(Math.abs(C))}function fr(C){return Math.sign(C)*Math.floor(Math.abs(C))}function Yr(C){var B=this.srPeriod,A=this.srPhase,T=1;return C<0&&(C=-C,T=-1),C+=this.srThreshold-A,C=Math.trunc(C/B)*B,(C+=A)<0?A*T:C*T}var wr={x:1,y:0,axis:"x",distance:function(C,B,A,T){return(A?C.xo:C.x)-(T?B.xo:B.x)},interpolate:function(C,B,A,T){var Z,X,ue,Le,Je,st,It;if(!T||T===this)return Z=C.xo-B.xo,X=C.xo-A.xo,Je=B.x-B.xo,st=A.x-A.xo,0===(It=(ue=Math.abs(Z))+(Le=Math.abs(X)))?void(C.x=C.xo+(Je+st)/2):void(C.x=C.xo+(Je*Le+st*ue)/It);Z=T.distance(C,B,!0,!0),X=T.distance(C,A,!0,!0),Je=T.distance(B,B,!1,!0),st=T.distance(A,A,!1,!0),0===(It=(ue=Math.abs(Z))+(Le=Math.abs(X)))?wr.setRelative(C,C,(Je+st)/2,T,!0):wr.setRelative(C,C,(Je*Le+st*ue)/It,T,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(C,B,A,T,Z){var X,ue;T&&T!==this?(X=Z?B.xo:B.x,ue=Z?B.yo:B.y,C.x=(X+=A*T.x)+(C.y-(ue+=A*T.y))/T.normalSlope):C.x=(Z?B.xo:B.x)+A},slope:0,touch:function(C){C.xTouched=!0},touched:function(C){return C.xTouched},untouch:function(C){C.xTouched=!1}},Lr={x:0,y:1,axis:"y",distance:function(C,B,A,T){return(A?C.yo:C.y)-(T?B.yo:B.y)},interpolate:function(C,B,A,T){var Z,X,ue,Le,Je,st,It;if(!T||T===this)return Z=C.yo-B.yo,X=C.yo-A.yo,Je=B.y-B.yo,st=A.y-A.yo,0===(It=(ue=Math.abs(Z))+(Le=Math.abs(X)))?void(C.y=C.yo+(Je+st)/2):void(C.y=C.yo+(Je*Le+st*ue)/It);Z=T.distance(C,B,!0,!0),X=T.distance(C,A,!0,!0),Je=T.distance(B,B,!1,!0),st=T.distance(A,A,!1,!0),0===(It=(ue=Math.abs(Z))+(Le=Math.abs(X)))?Lr.setRelative(C,C,(Je+st)/2,T,!0):Lr.setRelative(C,C,(Je*Le+st*ue)/It,T,!0)},normalSlope:0,setRelative:function(C,B,A,T,Z){var X,ue;T&&T!==this?(X=Z?B.xo:B.x,ue=Z?B.yo:B.y,C.y=(ue+=A*T.y)+T.normalSlope*(C.x-(X+=A*T.x))):C.y=(Z?B.yo:B.y)+A},slope:Number.POSITIVE_INFINITY,touch:function(C){C.yTouched=!0},touched:function(C){return C.yTouched},untouch:function(C){C.yTouched=!1}};function uo(C,B){this.x=C,this.y=B,this.axis=void 0,this.slope=B/C,this.normalSlope=-C/B,Object.freeze(this)}function ur(C,B){var A=Math.sqrt(C*C+B*B);return B/=A,1==(C/=A)&&0===B?wr:0===C&&1===B?Lr:new uo(C,B)}function yr(C,B,A,T){this.x=this.xo=Math.round(64*C)/64,this.y=this.yo=Math.round(64*B)/64,this.lastPointOfContour=A,this.onCurve=T,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(wr),Object.freeze(Lr),uo.prototype.distance=function(C,B,A,T){return this.x*wr.distance(C,B,A,T)+this.y*Lr.distance(C,B,A,T)},uo.prototype.interpolate=function(C,Z,X,T){var ue=T.distance(C,Z,!0,!0),Le=T.distance(C,X,!0,!0),Je=(Z=T.distance(Z,Z,!1,!0),X=T.distance(X,X,!1,!0),(ue=Math.abs(ue))+(Le=Math.abs(Le)));this.setRelative(C,C,0===Je?(Z+X)/2:(Z*Le+X*ue)/Je,T,!0)},uo.prototype.setRelative=function(C,X,Je,st,Le){var ue=Le?X.xo:X.x,It=(Le=Le?X.yo:X.y,X=ue+Je*(st=st||this).x,ue=Le+Je*st.y,Le=st.normalSlope,C.y);C.x=((Je=this.slope)*(st=C.x)-Le*X+ue-It)/(Je-Le),C.y=Je*(C.x-st)+It},uo.prototype.touch=function(C){C.xTouched=!0,C.yTouched=!0},yr.prototype.nextTouched=function(C){for(var B=this.nextPointOnContour;!C.touched(B)&&B!==this;)B=B.nextPointOnContour;return B},yr.prototype.prevTouched=function(C){for(var B=this.prevPointOnContour;!C.touched(B)&&B!==this;)B=B.prevPointOnContour;return B};var $r=Object.freeze(new yr(0,0)),Yn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ro(C,B){switch(this.env=C,this.stack=[],this.prog=B,C){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=wr,this.round=Br}}function zo(C){for(var B=C.tZone=new Array(C.gZone.length),A=0;A<B.length;A++)B[A]=new yr(0,0)}function xo(C,B){var A,T=C.prog,Z=C.ip,X=1;do{if(88===(A=T[++Z]))X++;else if(89===A)X--;else if(64===A)Z+=T[Z+1]+1;else if(65===A)Z+=2*T[Z+1]+1;else if(176<=A&&A<=183)Z+=A-176+1;else if(184<=A&&A<=191)Z+=2*(A-184+1);else if(B&&1===X&&27===A)break}while(0<X);C.ip=Z}function Sr(C,B){f.DEBUG&&console.log(B.step,"SVTCA["+C.axis+"]"),B.fv=B.pv=B.dpv=C}function So(C,B){f.DEBUG&&console.log(B.step,"SPVTCA["+C.axis+"]"),B.pv=B.dpv=C}function To(C,B){f.DEBUG&&console.log(B.step,"SFVTCA["+C.axis+"]"),B.fv=C}function ho(C,B){var A,T=(Z=B.stack).pop(),Z=Z.pop(),X=B.z2[T],ue=B.z1[Z];f.DEBUG&&console.log("SPVTL["+C+"]",T,Z),T=C?(A=X.y-ue.y,ue.x-X.x):(A=ue.x-X.x,ue.y-X.y),B.pv=B.dpv=ur(A,T)}function po(C,B){var A,T=(Z=B.stack).pop(),Z=Z.pop(),X=B.z2[T],ue=B.z1[Z];f.DEBUG&&console.log("SFVTL["+C+"]",T,Z),T=C?(A=X.y-ue.y,ue.x-X.x):(A=ue.x-X.x,ue.y-X.y),B.fv=ur(A,T)}function qo(C){f.DEBUG&&console.log(C.step,"POP[]"),C.stack.pop()}function Po(C,B){var A=B.stack.pop(),T=B.z0[A],Z=B.fv,X=B.pv,ue=(f.DEBUG&&console.log(B.step,"MDAP["+C+"]",A),X.distance(T,$r));C&&(ue=B.round(ue)),Z.setRelative(T,$r,ue,X),Z.touch(T),B.rp0=B.rp1=A}function mo(C,B){var A,T,Z,X=B.z2,ue=X.length-2;f.DEBUG&&console.log(B.step,"IUP["+C.axis+"]");for(var Le=0;Le<ue;Le++)C.touched(A=X[Le])||(T=A.prevTouched(C))!==A&&(T===(Z=A.nextTouched(C))&&C.setRelative(A,A,C.distance(T,T,!1,!0),C,!0),C.interpolate(A,T,Z,C))}function ko(C,B){for(var A=B.stack,Z=(C?B.z0:B.z1)[C?B.rp1:B.rp2],X=B.fv,ue=B.pv,Le=B.loop,Je=B.z2;Le--;){var st=A.pop(),It=Je[st],Vt=ue.distance(Z,Z,!1,!0);X.setRelative(It,It,Vt,ue),X.touch(It),f.DEBUG&&console.log(B.step,(1<B.loop?"loop "+(B.loop-Le)+": ":"")+"SHP["+(C?"rp1":"rp2")+"]",st)}B.loop=1}function Xn(C,B){for(var T=(C?B.z0:B.z1)[C?B.rp1:B.rp2],Z=B.fv,X=B.pv,ue=B.stack.pop(),Le=B.z2[B.contours[ue]],Je=Le,st=(f.DEBUG&&console.log(B.step,"SHC["+C+"]",ue),X.distance(T,T,!1,!0));Je!==T&&Z.setRelative(Je,Je,st,X),(Je=Je.nextPointOnContour)!==Le;);}function Uo(C,B){var A,T,Z=(C?B.z0:B.z1)[Z=C?B.rp1:B.rp2],X=B.fv,ue=B.pv,Le=(Le=B.stack).pop();switch(f.DEBUG&&console.log(B.step,"SHZ["+C+"]",Le),Le){case 0:A=B.tZone;break;case 1:A=B.gZone;break;default:throw new Error("Invalid zone")}for(var Je=ue.distance(Z,Z,!1,!0),st=A.length-2,It=0;It<st;It++)X.setRelative(T=A[It],T,Je,ue)}function oo(C,B){var A=(T=B.stack).pop()/64,T=T.pop(),Z=B.z1[T],ue=B.fv;ue.setRelative(Z,B.z0[B.rp0],A,B.pv),ue.touch(Z),f.DEBUG&&console.log(B.step,"MSIRP["+C+"]",A,T),B.rp1=B.rp0,B.rp2=T,C&&(B.rp0=T)}function co(C,B){var Le=(A=B.stack).pop(),A=A.pop(),T=B.z0[A],Z=B.fv,X=B.pv,ue=B.cvt[Le];f.DEBUG&&console.log(B.step,"MIAP["+C+"]",Le,"(",ue,")",A),Le=X.distance(T,$r),C&&(Math.abs(Le-ue)<B.cvCutIn&&(Le=ue),Le=B.round(Le)),Z.setRelative(T,$r,Le,X),0===B.zp0&&(T.xo=T.x,T.yo=T.y),Z.touch(T),B.rp0=B.rp1=A}function Ro(C,B){var A=B.stack,T=A.pop(),Z=B.z2[T];f.DEBUG&&console.log(B.step,"GC["+C+"]",T),A.push(64*B.dpv.distance(Z,$r,C,!1))}function Lo(C,B){var A=(T=B.stack).pop(),T=T.pop(),X=B.dpv.distance(X=B.z0[T],B.z1[A],C,C);f.DEBUG&&console.log(B.step,"MD["+C+"]",A,T,"->",X),B.stack.push(Math.round(64*X))}function vr(C,B){var A=B.stack,T=A.pop(),Z=B.fv,X=B.pv,ue=B.ppem,Le=B.deltaBase+16*(C-1),Je=B.deltaShift,st=B.z0;f.DEBUG&&console.log(B.step,"DELTAP["+C+"]",T,A);for(var It=0;It<T;It++){var Vt=A.pop(),Bt=A.pop();Le+((240&Bt)>>4)===ue&&(0<=(Bt=(15&Bt)-8)&&Bt++,f.DEBUG&&console.log(B.step,"DELTAPFIX",Vt,"by",Bt*Je),Z.setRelative(Vt=st[Vt],Vt,Bt*Je,X))}}function Yo(C,B){var A=B.stack,T=A.pop();f.DEBUG&&console.log(B.step,"ROUND[]"),A.push(64*B.round(T/64))}function Vr(C,B){var A=B.stack,T=A.pop(),Z=B.ppem,X=B.deltaBase+16*(C-1),ue=B.deltaShift;f.DEBUG&&console.log(B.step,"DELTAC["+C+"]",T,A);for(var Le=0;Le<T;Le++){var Je=A.pop(),st=A.pop();X+((240&st)>>4)===Z&&(0<=(st=(15&st)-8)&&st++,st*=ue,f.DEBUG&&console.log(B.step,"DELTACFIX",Je,"by",st),B.cvt[Je]+=st)}}function Hr(C,B){var A,T=(Z=B.stack).pop(),Z=Z.pop(),X=B.z2[T],ue=B.z1[Z];f.DEBUG&&console.log(B.step,"SDPVTL["+C+"]",T,Z),T=C?(A=X.y-ue.y,ue.x-X.x):(A=ue.x-X.x,ue.y-X.y),B.dpv=ur(A,T)}function Eo(C,B){var A=B.stack,T=B.prog,Z=B.ip;f.DEBUG&&console.log(B.step,"PUSHB["+C+"]");for(var X=0;X<C;X++)A.push(T[++Z]);B.ip=Z}function Xr(C,B){var A=B.ip,T=B.prog,Z=B.stack;f.DEBUG&&console.log(B.ip,"PUSHW["+C+"]");for(var X=0;X<C;X++){var ue=T[++A]<<8|T[++A];32768&ue&&(ue=-(1+(65535^ue))),Z.push(ue)}B.ip=A}function Rn(C,B,A,T,Z,X){var ue,Le,It,st=X.stack,Je=C&&st.pop(),Vt=(st=st.pop(),X.z1[st]),Bt=X.minDis,mt=X.fv,yn=X.dpv,tn=ue=yn.distance(Vt,It=X.z0[It=X.rp0],!0,!0),on=0<=tn?1:-1;tn=Math.abs(tn),C&&(Le=X.cvt[Je],T&&Math.abs(tn-Le)<X.cvCutIn&&(tn=Le)),A&&tn<Bt&&(tn=Bt),T&&(tn=X.round(tn)),mt.setRelative(Vt,It,on*tn,yn),mt.touch(Vt),f.DEBUG&&console.log(X.step,(C?"MIRP[":"MDRP[")+(B?"M":"m")+(A?">":"_")+(T?"R":"_")+(0===Z?"Gr":1===Z?"Bl":2===Z?"Wh":"")+"]",C?Je+"("+X.cvt[Je]+","+Le+")":"",st,"(d =",ue,"->",on*tn,")"),X.rp1=X.rp0,X.rp2=st,B&&(X.rp0=st)}Rr.prototype.exec=function(C,B){if("number"!=typeof B)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var A=this.font,T=this._prepState;if(!T||T.ppem!==B){var Z=this._fpgmState;if(!Z){ro.prototype=Yn,(Z=this._fpgmState=new ro("fpgm",A.tables.fpgm)).funcs=[],Z.font=A,f.DEBUG&&(console.log("---EXEC FPGM---"),Z.step=-1);try{Go(Z)}catch(st){return console.log("Hinting error in FPGM:"+st),void(this._errorState=3)}}ro.prototype=Z,(T=this._prepState=new ro("prep",A.tables.prep)).ppem=B;var X=A.tables.cvt;if(X)for(var ue=T.cvt=new Array(X.length),Le=B/A.unitsPerEm,Je=0;Je<X.length;Je++)ue[Je]=X[Je]*Le;else T.cvt=[];f.DEBUG&&(console.log("---EXEC PREP---"),T.step=-1);try{Go(T)}catch(st){this._errorState<2&&console.log("Hinting error in PREP:"+st),this._errorState=2}}if(!(1<this._errorState))try{return Do(C,T)}catch(st){this._errorState<1&&(console.log("Hinting error:"+st),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Do=function(C,B){var A=B.ppem/B.font.unitsPerEm,T=A,Z=C.components;if(ro.prototype=B,Z){for(var X=B.font,ue=[],Le=[],Je=0;Je<Z.length;Je++){var st=Z[Je],It=X.glyphs.get(st.glyphIndex),Vt=new ro("glyf",It.instructions);f.DEBUG&&(console.log("---EXEC COMP "+Je+"---"),Vt.step=-1),Xo(It,Vt,A,T);for(var Bt=Math.round(st.dx*A),mt=Math.round(st.dy*T),yn=Vt.gZone,tn=Vt.contours,on=0;on<yn.length;on++){var Zt=yn[on];Zt.xTouched=Zt.yTouched=!1,Zt.xo=Zt.x=Zt.x+Bt,Zt.yo=Zt.y=Zt.y+mt}var Kt=ue.length;ue.push.apply(ue,yn);for(var Bn=0;Bn<tn.length;Bn++)Le.push(tn[Bn]+Kt)}C.instructions&&!Vt.inhibitGridFit&&((Vt=new ro("glyf",C.instructions)).gZone=Vt.z0=Vt.z1=Vt.z2=ue,Vt.contours=Le,ue.push(new yr(0,0),new yr(Math.round(C.advanceWidth*A),0)),f.DEBUG&&(console.log("---EXEC COMPOSITE---"),Vt.step=-1),Go(Vt),ue.length-=2)}else Vt=new ro("glyf",C.instructions),f.DEBUG&&(console.log("---EXEC GLYPH---"),Vt.step=-1),Xo(C,Vt,A,T),ue=Vt.gZone;return ue},Xo=function(C,B,A,T){for(var Z,X,Le=C.points||[],Je=Le.length,st=B.gZone=B.z0=B.z1=B.z2=[],It=B.contours=[],Vt=0;Vt<Je;Vt++)st[Vt]=new yr((Z=Le[Vt]).x*A,Z.y*T,Z.lastPointOfContour,Z.onCurve);for(var Bt=0;Bt<Je;Bt++)Z=st[Bt],X||(X=Z,It.push(Bt)),Z.lastPointOfContour?((Z.nextPointOnContour=X).prevPointOnContour=Z,X=void 0):(Z.nextPointOnContour=st[Bt+1]).prevPointOnContour=Z;if(!B.inhibitGridFit){if(f.DEBUG){console.log("PROCESSING GLYPH",B.stack);for(var mt=0;mt<Je;mt++)console.log(mt,st[mt].x,st[mt].y)}if(st.push(new yr(0,0),new yr(Math.round(C.advanceWidth*A),0)),Go(B),st.length-=2,f.DEBUG){console.log("FINISHED GLYPH",B.stack);for(var yn=0;yn<Je;yn++)console.log(yn,st[yn].x,st[yn].y)}}},Go=function(C){var B=C.prog;if(B){var A,T=B.length;for(C.ip=0;C.ip<T;C.ip++){if(f.DEBUG&&C.step++,!(A=ls[B[C.ip]]))throw new Error("unknown instruction: 0x"+Number(B[C.ip]).toString(16));A(C)}}},ls=[Sr.bind(void 0,Lr),Sr.bind(void 0,wr),So.bind(void 0,Lr),So.bind(void 0,wr),To.bind(void 0,Lr),To.bind(void 0,wr),ho.bind(void 0,0),ho.bind(void 0,1),po.bind(void 0,0),po.bind(void 0,1),function(C){var B=(A=C.stack).pop(),A=A.pop();f.DEBUG&&console.log(C.step,"SPVFS[]",B,A),C.pv=C.dpv=ur(A,B)},function(C){var B=(A=C.stack).pop(),A=A.pop();f.DEBUG&&console.log(C.step,"SPVFS[]",B,A),C.fv=ur(A,B)},function(C){var B=C.stack,A=C.pv;f.DEBUG&&console.log(C.step,"GPV[]"),B.push(16384*A.x),B.push(16384*A.y)},function(C){var B=C.stack,A=C.fv;f.DEBUG&&console.log(C.step,"GFV[]"),B.push(16384*A.x),B.push(16384*A.y)},function(C){C.fv=C.pv,f.DEBUG&&console.log(C.step,"SFVTPV[]")},function(B){var A=(ue=B.stack).pop(),T=ue.pop(),Z=ue.pop(),X=ue.pop(),ue=ue.pop(),Le=(Je=B.z0)[A],Je=Je[T],st=(It=B.z1)[Z],It=It[X],Vt=(B=B.z2[ue],f.DEBUG&&console.log("ISECT[], ",A,T,Z,X,ue),A=Le.x,T=Le.y,Le=st.y,A*(X=Je.y)-T*(Z=Je.x)),Bt=(ue=st.x)*(st=It.y)-Le*(Je=It.x);B.x=(Vt*(ue-Je)-Bt*(A-Z))/(It=(A-Z)*(Le-st)-(T-X)*(ue-Je)),B.y=(Vt*(Le-st)-Bt*(T-X))/It},function(C){C.rp0=C.stack.pop(),f.DEBUG&&console.log(C.step,"SRP0[]",C.rp0)},function(C){C.rp1=C.stack.pop(),f.DEBUG&&console.log(C.step,"SRP1[]",C.rp1)},function(C){C.rp2=C.stack.pop(),f.DEBUG&&console.log(C.step,"SRP2[]",C.rp2)},function(C){var B=C.stack.pop();switch(f.DEBUG&&console.log(C.step,"SZP0[]",B),C.zp0=B){case 0:C.tZone||zo(C),C.z0=C.tZone;break;case 1:C.z0=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){var B=C.stack.pop();switch(f.DEBUG&&console.log(C.step,"SZP1[]",B),C.zp1=B){case 0:C.tZone||zo(C),C.z1=C.tZone;break;case 1:C.z1=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){var B=C.stack.pop();switch(f.DEBUG&&console.log(C.step,"SZP2[]",B),C.zp2=B){case 0:C.tZone||zo(C),C.z2=C.tZone;break;case 1:C.z2=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){var B=C.stack.pop();switch(f.DEBUG&&console.log(C.step,"SZPS[]",B),C.zp0=C.zp1=C.zp2=B){case 0:C.tZone||zo(C),C.z0=C.z1=C.z2=C.tZone;break;case 1:C.z0=C.z1=C.z2=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){C.loop=C.stack.pop(),f.DEBUG&&console.log(C.step,"SLOOP[]",C.loop)},function(C){f.DEBUG&&console.log(C.step,"RTG[]"),C.round=Br},function(C){f.DEBUG&&console.log(C.step,"RTHG[]"),C.round=Tn},function(C){var B=C.stack.pop();f.DEBUG&&console.log(C.step,"SMD[]",B),C.minDis=B/64},function(C){f.DEBUG&&console.log(C.step,"ELSE[]"),xo(C,!1)},function(C){var B=C.stack.pop();f.DEBUG&&console.log(C.step,"JMPR[]",B),C.ip+=B-1},function(C){var B=C.stack.pop();f.DEBUG&&console.log(C.step,"SCVTCI[]",B),C.cvCutIn=B/64},void 0,void 0,function(C){var B=C.stack;f.DEBUG&&console.log(C.step,"DUP[]"),B.push(B[B.length-1])},qo,function(C){f.DEBUG&&console.log(C.step,"CLEAR[]"),C.stack.length=0},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"SWAP[]"),B.push(A),B.push(T)},function(C){var B=C.stack;f.DEBUG&&console.log(C.step,"DEPTH[]"),B.push(B.length)},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"CINDEX[]",A),B.push(B[B.length-A])},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"MINDEX[]",A),B.push(B.splice(B.length-A,1)[0])},void 0,void 0,void 0,function(C){var B=(T=C.stack).pop(),A=T.pop(),T=(f.DEBUG&&console.log(C.step,"LOOPCALL[]",B,A),C.ip),Z=C.prog;C.prog=C.funcs[B];for(var X=0;X<A;X++)Go(C),f.DEBUG&&console.log(++C.step,X+1<A?"next loopcall":"done loopcall",X);C.ip=T,C.prog=Z},function(C){var B=C.stack.pop(),A=(f.DEBUG&&console.log(C.step,"CALL[]",B),C.ip),T=C.prog;C.prog=C.funcs[B],Go(C),C.ip=A,C.prog=T,f.DEBUG&&console.log(++C.step,"returning from",B)},function(C){if("fpgm"!==C.env)throw new Error("FDEF not allowed here");var B=C.prog,A=C.ip,T=(T=C.stack).pop(),Z=A;for(f.DEBUG&&console.log(C.step,"FDEF[]",T);45!==B[++A];);C.ip=A,C.funcs[T]=B.slice(Z+1,A)},void 0,Po.bind(void 0,0),Po.bind(void 0,1),mo.bind(void 0,Lr),mo.bind(void 0,wr),ko.bind(void 0,0),ko.bind(void 0,1),Xn.bind(void 0,0),Xn.bind(void 0,1),Uo.bind(void 0,0),Uo.bind(void 0,1),function(C){for(var B=C.stack,A=C.loop,T=C.fv,Z=B.pop()/64,X=C.z2;A--;){var ue=B.pop(),Le=X[ue];f.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-A)+": ":"")+"SHPIX[]",ue,Z),T.setRelative(Le,Le,Z),T.touch(Le)}C.loop=1},function(C){for(var B=C.stack,A=C.rp1,T=C.rp2,Z=C.loop,X=C.z0[A],ue=C.z1[T],Le=C.fv,Je=C.dpv,st=C.z2;Z--;){var It=B.pop(),Vt=st[It];f.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-Z)+": ":"")+"IP[]",It,A,"<->",T),Le.interpolate(Vt,X,ue,Je),Le.touch(Vt)}C.loop=1},oo.bind(void 0,0),oo.bind(void 0,1),function(C){for(var B=C.stack,T=C.z0[C.rp0],Z=C.loop,X=C.fv,ue=C.pv,Le=C.z1;Z--;){var Je=B.pop(),st=Le[Je];f.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-Z)+": ":"")+"ALIGNRP[]",Je),X.setRelative(st,T,0,ue),X.touch(st)}C.loop=1},function(C){f.DEBUG&&console.log(C.step,"RTDG[]"),C.round=pr},co.bind(void 0,0),co.bind(void 0,1),function(C){var B=C.prog,A=C.ip,T=C.stack,Z=B[++A];f.DEBUG&&console.log(C.step,"NPUSHB[]",Z);for(var X=0;X<Z;X++)T.push(B[++A]);C.ip=A},function(C){var B=C.ip,A=C.prog,T=C.stack,Z=A[++B];f.DEBUG&&console.log(C.step,"NPUSHW[]",Z);for(var X=0;X<Z;X++){var ue=A[++B]<<8|A[++B];32768&ue&&(ue=-(1+(65535^ue))),T.push(ue)}C.ip=B},function(C){var T=C.stack,B=(B=C.store)||(C.store=[]),A=T.pop();T=T.pop(),f.DEBUG&&console.log(C.step,"WS",A,T),B[T]=A},function(Z){var B=Z.stack,A=Z.store,T=B.pop();f.DEBUG&&console.log(Z.step,"RS",T),B.push(Z=A&&A[T]||0)},function(C){var B=(A=C.stack).pop(),A=A.pop();f.DEBUG&&console.log(C.step,"WCVTP",B,A),C.cvt[A]=B/64},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"RCVT",A),B.push(64*C.cvt[A])},Ro.bind(void 0,0),Ro.bind(void 0,1),void 0,Lo.bind(void 0,0),Lo.bind(void 0,1),function(C){f.DEBUG&&console.log(C.step,"MPPEM[]"),C.stack.push(C.ppem)},void 0,function(C){f.DEBUG&&console.log(C.step,"FLIPON[]"),C.autoFlip=!0},void 0,void 0,function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"LT[]",A,T),B.push(T<A?1:0)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"LTEQ[]",A,T),B.push(T<=A?1:0)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"GT[]",A,T),B.push(A<T?1:0)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"GTEQ[]",A,T),B.push(A<=T?1:0)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"EQ[]",A,T),B.push(A===T?1:0)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"NEQ[]",A,T),B.push(A!==T?1:0)},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"ODD[]",A),B.push(Math.trunc(A)%2?1:0)},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"EVEN[]",A),B.push(Math.trunc(A)%2?0:1)},function(C){var B=C.stack.pop();f.DEBUG&&console.log(C.step,"IF[]",B),B||(xo(C,!0),f.DEBUG&&console.log(C.step,"EIF[]"))},function(C){f.DEBUG&&console.log(C.step,"EIF[]")},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"AND[]",A,T),B.push(A&&T?1:0)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"OR[]",A,T),B.push(A||T?1:0)},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"NOT[]",A),B.push(A?0:1)},vr.bind(void 0,1),function(C){var B=C.stack.pop();f.DEBUG&&console.log(C.step,"SDB[]",B),C.deltaBase=B},function(C){var B=C.stack.pop();f.DEBUG&&console.log(C.step,"SDS[]",B),C.deltaShift=Math.pow(.5,B)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"ADD[]",A,T),B.push(T+A)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"SUB[]",A,T),B.push(T-A)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"DIV[]",A,T),B.push(64*T/A)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"MUL[]",A,T),B.push(T*A/64)},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"ABS[]",A),B.push(Math.abs(A))},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"NEG[]",A),B.push(-A)},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"FLOOR[]",A),B.push(64*Math.floor(A/64))},function(C){var B=C.stack,A=B.pop();f.DEBUG&&console.log(C.step,"CEILING[]",A),B.push(64*Math.ceil(A/64))},Yo.bind(void 0,0),Yo.bind(void 0,1),Yo.bind(void 0,2),Yo.bind(void 0,3),void 0,void 0,void 0,void 0,function(C){var B=(A=C.stack).pop(),A=A.pop();f.DEBUG&&console.log(C.step,"WCVTF[]",B,A),C.cvt[A]=B*C.ppem/C.font.unitsPerEm},vr.bind(void 0,2),vr.bind(void 0,3),Vr.bind(void 0,1),Vr.bind(void 0,2),Vr.bind(void 0,3),function(C){var B,A=C.stack.pop();switch(f.DEBUG&&console.log(C.step,"SROUND[]",A),C.round=Yr,192&A){case 0:B=.5;break;case 64:B=1;break;case 128:B=2;break;default:throw new Error("invalid SROUND value")}switch(C.srPeriod=B,48&A){case 0:C.srPhase=0;break;case 16:C.srPhase=.25*B;break;case 32:C.srPhase=.5*B;break;case 48:C.srPhase=.75*B;break;default:throw new Error("invalid SROUND value")}C.srThreshold=0==(A&=15)?0:(A/8-.5)*B},function(C){var B,A=C.stack.pop();switch(f.DEBUG&&console.log(C.step,"S45ROUND[]",A),C.round=Yr,192&A){case 0:B=Math.sqrt(2)/2;break;case 64:B=Math.sqrt(2);break;case 128:B=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(C.srPeriod=B,48&A){case 0:C.srPhase=0;break;case 16:C.srPhase=.25*B;break;case 32:C.srPhase=.5*B;break;case 48:C.srPhase=.75*B;break;default:throw new Error("invalid S45ROUND value")}C.srThreshold=0==(A&=15)?0:(A/8-.5)*B},void 0,void 0,function(C){f.DEBUG&&console.log(C.step,"ROFF[]"),C.round=Bo},void 0,function(C){f.DEBUG&&console.log(C.step,"RUTG[]"),C.round=Fn},function(C){f.DEBUG&&console.log(C.step,"RDTG[]"),C.round=fr},qo,qo,void 0,void 0,void 0,void 0,void 0,function(C){var B=C.stack.pop();f.DEBUG&&console.log(C.step,"SCANCTRL[]",B)},Hr.bind(void 0,0),Hr.bind(void 0,1),function(C){var B=C.stack,A=B.pop(),T=0;f.DEBUG&&console.log(C.step,"GETINFO[]",A),1&A&&(T=35),32&A&&(T|=4096),B.push(T)},void 0,function(C){var B=C.stack,A=B.pop(),T=B.pop(),Z=B.pop();f.DEBUG&&console.log(C.step,"ROLL[]"),B.push(T),B.push(A),B.push(Z)},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"MAX[]",A,T),B.push(Math.max(T,A))},function(C){var B=C.stack,A=B.pop(),T=B.pop();f.DEBUG&&console.log(C.step,"MIN[]",A,T),B.push(Math.min(T,A))},function(C){var B=C.stack.pop();f.DEBUG&&console.log(C.step,"SCANTYPE[]",B)},function(C){var B=C.stack.pop(),A=C.stack.pop();switch(f.DEBUG&&console.log(C.step,"INSTCTRL[]",B,A),B){case 1:return void(C.inhibitGridFit=!!A);case 2:return void(C.ignoreCvt=!!A);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Eo.bind(void 0,1),Eo.bind(void 0,2),Eo.bind(void 0,3),Eo.bind(void 0,4),Eo.bind(void 0,5),Eo.bind(void 0,6),Eo.bind(void 0,7),Eo.bind(void 0,8),Xr.bind(void 0,1),Xr.bind(void 0,2),Xr.bind(void 0,3),Xr.bind(void 0,4),Xr.bind(void 0,5),Xr.bind(void 0,6),Xr.bind(void 0,7),Xr.bind(void 0,8),Rn.bind(void 0,0,0,0,0,0),Rn.bind(void 0,0,0,0,0,1),Rn.bind(void 0,0,0,0,0,2),Rn.bind(void 0,0,0,0,0,3),Rn.bind(void 0,0,0,0,1,0),Rn.bind(void 0,0,0,0,1,1),Rn.bind(void 0,0,0,0,1,2),Rn.bind(void 0,0,0,0,1,3),Rn.bind(void 0,0,0,1,0,0),Rn.bind(void 0,0,0,1,0,1),Rn.bind(void 0,0,0,1,0,2),Rn.bind(void 0,0,0,1,0,3),Rn.bind(void 0,0,0,1,1,0),Rn.bind(void 0,0,0,1,1,1),Rn.bind(void 0,0,0,1,1,2),Rn.bind(void 0,0,0,1,1,3),Rn.bind(void 0,0,1,0,0,0),Rn.bind(void 0,0,1,0,0,1),Rn.bind(void 0,0,1,0,0,2),Rn.bind(void 0,0,1,0,0,3),Rn.bind(void 0,0,1,0,1,0),Rn.bind(void 0,0,1,0,1,1),Rn.bind(void 0,0,1,0,1,2),Rn.bind(void 0,0,1,0,1,3),Rn.bind(void 0,0,1,1,0,0),Rn.bind(void 0,0,1,1,0,1),Rn.bind(void 0,0,1,1,0,2),Rn.bind(void 0,0,1,1,0,3),Rn.bind(void 0,0,1,1,1,0),Rn.bind(void 0,0,1,1,1,1),Rn.bind(void 0,0,1,1,1,2),Rn.bind(void 0,0,1,1,1,3),Rn.bind(void 0,1,0,0,0,0),Rn.bind(void 0,1,0,0,0,1),Rn.bind(void 0,1,0,0,0,2),Rn.bind(void 0,1,0,0,0,3),Rn.bind(void 0,1,0,0,1,0),Rn.bind(void 0,1,0,0,1,1),Rn.bind(void 0,1,0,0,1,2),Rn.bind(void 0,1,0,0,1,3),Rn.bind(void 0,1,0,1,0,0),Rn.bind(void 0,1,0,1,0,1),Rn.bind(void 0,1,0,1,0,2),Rn.bind(void 0,1,0,1,0,3),Rn.bind(void 0,1,0,1,1,0),Rn.bind(void 0,1,0,1,1,1),Rn.bind(void 0,1,0,1,1,2),Rn.bind(void 0,1,0,1,1,3),Rn.bind(void 0,1,1,0,0,0),Rn.bind(void 0,1,1,0,0,1),Rn.bind(void 0,1,1,0,0,2),Rn.bind(void 0,1,1,0,0,3),Rn.bind(void 0,1,1,0,1,0),Rn.bind(void 0,1,1,0,1,1),Rn.bind(void 0,1,1,0,1,2),Rn.bind(void 0,1,1,0,1,3),Rn.bind(void 0,1,1,1,0,0),Rn.bind(void 0,1,1,1,0,1),Rn.bind(void 0,1,1,1,0,2),Rn.bind(void 0,1,1,1,0,3),Rn.bind(void 0,1,1,1,1,0),Rn.bind(void 0,1,1,1,1,1),Rn.bind(void 0,1,1,1,1,2),Rn.bind(void 0,1,1,1,1,3)],go=Array.from||function(C){return C.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function br(C){(C=C||{}).empty||(Qt(C.familyName,"When creating a new Font object, familyName is required."),Qt(C.styleName,"When creating a new Font object, styleName is required."),Qt(C.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Qt(C.ascender,"When creating a new Font object, ascender is required."),Qt(C.descender,"When creating a new Font object, descender is required."),Qt(C.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:C.familyName||" "},fontSubfamily:{en:C.styleName||" "},fullName:{en:C.fullName||C.familyName+" "+C.styleName},postScriptName:{en:C.postScriptName||(C.familyName+C.styleName).replace(/\s/g,"")},designer:{en:C.designer||" "},designerURL:{en:C.designerURL||" "},manufacturer:{en:C.manufacturer||" "},manufacturerURL:{en:C.manufacturerURL||" "},license:{en:C.license||" "},licenseURL:{en:C.licenseURL||" "},version:{en:C.version||"Version 0.1"},description:{en:C.description||" "},copyright:{en:C.copyright||" "},trademark:{en:C.trademark||" "}},this.unitsPerEm=C.unitsPerEm||1e3,this.ascender=C.ascender,this.descender=C.descender,this.createdTimestamp=C.createdTimestamp,this.tables={os2:{usWeightClass:C.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:C.widthClass||this.usWidthClasses.MEDIUM,fsSelection:C.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ye.GlyphSet(this,C.glyphs||[]),this.encoding=new Rt(this),this.position=new Ne(this),this.substitution=new ve(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Rr(this):void 0)}})}br.prototype.hasChar=function(C){return null!==this.encoding.charToGlyphIndex(C)},br.prototype.charToGlyphIndex=function(C){return this.encoding.charToGlyphIndex(C)},br.prototype.charToGlyph=function(C){return C=this.charToGlyphIndex(C),this.glyphs.get(C)||this.glyphs.get(0)},br.prototype.stringToGlyphs=function(C,B){B=B||this.defaultRenderOptions;for(var A=go(C),T=[],Z=0;Z<A.length;Z+=1)T.push(this.charToGlyphIndex(A[Z]));var ue=T.length;if(B.features){C=B.script||this.substitution.getDefaultScriptName();var Le=[];B.features.liga&&(Le=Le.concat(this.substitution.getFeature("liga",C,B.language))),B.features.rlig&&(Le=Le.concat(this.substitution.getFeature("rlig",C,B.language)));for(var Je=0;Je<ue;Je+=1)for(var st=0;st<Le.length;st++){for(var It=Le[st],Vt=It.sub,Bt=Vt.length,mt=0;mt<Bt&&Vt[mt]===T[Je+mt];)mt++;mt===Bt&&(T.splice(Je,Bt,It.by),ue=ue-Bt+1)}}for(var yn=new Array(ue),tn=this.glyphs.get(0),on=0;on<ue;on+=1)yn[on]=this.glyphs.get(T[on])||tn;return yn},br.prototype.nameToGlyphIndex=function(C){return this.glyphNames.nameToGlyphIndex(C)},br.prototype.nameToGlyph=function(C){return C=this.nameToGlyphIndex(C),this.glyphs.get(C)||this.glyphs.get(0)},br.prototype.glyphIndexToName=function(C){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(C):""},br.prototype.getKerningValue=function(C,B){C=C.index||C,B=B.index||B;var A=this.position.defaultKerningTables;return A?this.position.getKerningValue(A,C,B):this.kerningPairs[C+","+B]||0},br.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},br.prototype.forEachGlyph=function(C,B,A,T,Z,X){B=void 0!==B?B:0,A=void 0!==A?A:0;var ue,Le=1/this.unitsPerEm*(T=void 0!==T?T:72),Je=this.stringToGlyphs(C,Z=Z||this.defaultRenderOptions);Z.kerning&&(C=Z.script||this.position.getDefaultScriptName(),ue=this.position.getKerningTables(C,Z.language));for(var st=0;st<Je.length;st+=1){var It=Je[st];X.call(this,It,B,A,T,Z),It.advanceWidth&&(B+=It.advanceWidth*Le),Z.kerning&&st<Je.length-1&&(B+=(ue?this.position.getKerningValue(ue,It.index,Je[st+1].index):this.getKerningValue(It,Je[st+1]))*Le),Z.letterSpacing?B+=Z.letterSpacing*T:Z.tracking&&(B+=Z.tracking/1e3*T)}return B},br.prototype.getPath=function(C,B,A,T,Z){var X=new fe;return this.forEachGlyph(C,B,A,T,Z,function(ue,Le,Je,st){ue=ue.getPath(Le,Je,st,Z,this),X.extend(ue)}),X},br.prototype.getPaths=function(C,B,A,T,Z){var X=[];return this.forEachGlyph(C,B,A,T,Z,function(ue,Le,Je,st){ue=ue.getPath(Le,Je,st,Z,this),X.push(ue)}),X},br.prototype.getAdvanceWidth=function(C,B,A){return this.forEachGlyph(C,0,0,B,A,function(){})},br.prototype.draw=function(C,B,A,T,Z,X){this.getPath(B,A,T,Z,X).draw(C)},br.prototype.drawPoints=function(C,B,A,T,Z,X){this.forEachGlyph(B,A,T,Z,X,function(ue,Le,Je,st){ue.drawPoints(C,Le,Je,st)})},br.prototype.drawMetrics=function(C,B,A,T,Z,X){this.forEachGlyph(B,A,T,Z,X,function(ue,Le,Je,st){ue.drawMetrics(C,Le,Je,st)})},br.prototype.getEnglishName=function(C){if(C=this.names[C])return C.en},br.prototype.validate=function(){var C=this;function B(A){(A=C.getEnglishName(A))&&A.trim()}B("fontFamily"),B("weightName"),B("manufacturer"),B("copyright"),B("version")},br.prototype.toTables=function(){return He_fontToTable(this)},br.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},br.prototype.toArrayBuffer=function(){for(var C=this.toTables().encode(),B=new ArrayBuffer(C.length),A=new Uint8Array(B),T=0;T<C.length;T++)A[T]=C[T];return B},br.prototype.download=function(C){var B=this.getEnglishName("fontFamily"),A=this.getEnglishName("fontSubfamily"),T=(C=C||B.replace(/\s/g,"")+"-"+A+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,T.byteLength,function(Z){Z.root.getFile(C,{create:!0},function(X){X.createWriter(function(ue){var Le=new DataView(T);Le=new Blob([Le],{type:"font/opentype"}),ue.write(Le),ue.addEventListener("writeend",function(){location.href=X.toURL()},!1)})})},function(Z){throw new Error(Z.name+": "+Z.message)})):(B=o("fs"),A=function(Z){for(var X=new v(Z.byteLength),ue=new Uint8Array(Z),Le=0;Le<X.length;++Le)X[Le]=ue[Le];return X}(T),B.writeFileSync(C,A))},br.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},br.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},br.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Cs_parse=function(C,B,A){for(var T,X,ue,Le=new wt.Parser(C,B),Je=Le.parseULong(),st=(L.argument(65536===Je,"Unsupported fvar table version."),Le.parseOffset16()),It=(Le.skip("uShort",1),Le.parseUShort()),Vt=Le.parseUShort(),Bt=Le.parseUShort(),mt=Le.parseUShort(),yn=[],tn=0;tn<It;tn++)yn.push((X=A,ue={},T=new wt.Parser(T=C,B+st+tn*Vt),ue.tag=T.parseTag(),ue.minValue=T.parseFixed(),ue.defaultValue=T.parseFixed(),ue.maxValue=T.parseFixed(),T.skip("uShort",1),ue.name=X[T.parseUShort()]||{},ue));for(var on=[],Zt=B+st+It*Vt,Kt=0;Kt<Bt;Kt++)on.push(function(Bn,$n,Vn,Un){var Zn={},er=new wt.Parser(Bn,$n);Zn.name=Un[er.parseUShort()]||{},er.skip("uShort",1),Zn.coordinates={};for(var Ur=0;Ur<Vn.length;++Ur)Zn.coordinates[Vn[Ur].tag]=er.parseFixed();return Zn}(C,Zt+Kt*mt,yn,A));return{axes:yn,instances:on}},Ao=new Array(10);Ao[1]=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort();return 1===B?{posFormat:1,coverage:this.parsePointer(vt.coverage),value:this.parseValueRecord()}:2===B?{posFormat:2,coverage:this.parsePointer(vt.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+C.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ao[2]=function(){var C,B,A,T,X=this.offset+this.relativeOffset,Z=this.parseUShort(),ue=(L.assert(1===Z||2===Z,"0x"+X.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),X=this.parsePointer(vt.coverage),this.parseUShort()),Le=this.parseUShort();return 1===Z?{posFormat:Z,coverage:X,valueFormat1:ue,valueFormat2:Le,pairSets:this.parseList(vt.pointer(vt.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ue),value2:this.parseValueRecord(Le)}})))}:2===Z?(C=this.parsePointer(vt.classDef),B=this.parsePointer(vt.classDef),A=this.parseUShort(),T=this.parseUShort(),{posFormat:Z,coverage:X,valueFormat1:ue,valueFormat2:Le,classDef1:C,classDef2:B,class1Count:A,class2Count:T,classRecords:this.parseList(A,vt.list(T,function(){return{value1:this.parseValueRecord(ue),value2:this.parseValueRecord(Le)}}))}):void 0},Ao[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ao[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ao[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ao[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ao[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ao[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ao[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Ss_parse=function(C,B){return B=(C=new vt(C,B=B||0)).parseVersion(1),L.argument(1===B||1.1===B,"Unsupported GPOS table version "+B),1===B?{version:B,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(Ao)}:{version:B,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(Ao),variations:C.parseFeatureVariationsList()}},ms_parse=function(C,B){if(0===(B=(C=new wt.Parser(C,B)).parseUShort())){var A=C,T={},Vt=(A.skip("uShort"),A.parseUShort()),Z=(L.argument(0===Vt,"Unsupported kern sub-table version."),A.skip("uShort",2),A.parseUShort());A.skip("uShort",3);for(var X=0;X<Z;X+=1){var ue=A.parseUShort(),Le=A.parseUShort(),Je=A.parseShort();T[ue+","+Le]=Je}return T}if(1!==B)throw new Error("Unsupported kern table version ("+B+").");var st=C,It={};if(st.skip("uShort"),1<st.parseULong()&&console.warn("Only the first kern subtable is supported."),st.skip("uLong"),Vt=255&st.parseUShort(),st.skip("uShort"),0==Vt){var Bt=st.parseUShort();st.skip("uShort",3);for(var mt=0;mt<Bt;mt+=1){var yn=st.parseUShort(),tn=st.parseUShort(),on=st.parseShort();It[yn+","+tn]=on}}return It},Zs_parse=function(C,B,A,T){for(var Z=new wt.Parser(C,B),X=T?Z.parseUShort:Z.parseULong,ue=[],Le=0;Le<A+1;Le+=1){var Je=X.call(Z);T&&(Je*=2),ue.push(Je)}return ue};function bi(C,B){o("fs").readFile(C,function(A,T){if(A)return B(A.message);B(null,pt(T))})}function us(C,B){var A=new XMLHttpRequest;A.open("get",C,!0),A.responseType="arraybuffer",A.onload=function(){return A.response?B(null,A.response):B("Font could not be loaded: "+A.statusText)},A.onerror=function(){B("Font could not be loaded")},A.send()}function os(C,B){for(var A=[],T=12,Z=0;Z<B;Z+=1){var X=wt.getTag(C,T),ue=wt.getULong(C,T+4),Le=wt.getULong(C,T+8),Je=wt.getULong(C,T+12);A.push({tag:X,checksum:ue,offset:Le,length:Je,compression:!1}),T+=16}return A}function Wr(A,B){if("WOFF"!==B.compression)return{data:A,offset:B.offset};A=new Uint8Array(A.buffer,B.offset+2,B.compressedLength-2);var T=new Uint8Array(B.length);if(J(A,T),T.byteLength!==B.length)throw new Error("Decompression error: "+B.tag+" decompressed length doesn't match recorded length");return{data:new DataView(T.buffer,0),offset:0}}function Ds(Kt){var B,A,T,Z,X,ue,Le,Je,st,It,Vt,Bt,mt,yn,tn=new br({empty:!0}),on=new DataView(Kt,0),Zt=[];if("\0\x01\0\0"===(Kt=wt.getTag(on,0))||"true"===Kt||"typ1"===Kt)tn.outlinesFormat="truetype",Zt=os(on,T=wt.getUShort(on,4));else if("OTTO"===Kt)tn.outlinesFormat="cff",Zt=os(on,T=wt.getUShort(on,4));else{if("wOFF"!==Kt)throw new Error("Unsupported OpenType signature "+Kt);if("\0\x01\0\0"===(Bn=wt.getTag(on,4)))tn.outlinesFormat="truetype";else{if("OTTO"!==Bn)throw new Error("Unsupported OpenType flavor "+Kt);tn.outlinesFormat="cff"}Zt=function(Dr,gr){for(var Pr=[],Ln=44,to=0;to<gr;to+=1){var Nr=wt.getTag(Dr,Ln),no=wt.getULong(Dr,Ln+4),Jo=wt.getULong(Dr,Ln+8),cs=wt.getULong(Dr,Ln+12);Pr.push({tag:Nr,offset:no,compression:Jo<cs&&"WOFF",compressedLength:Jo,length:cs}),Ln+=20}return Pr}(on,T=wt.getUShort(on,12))}for(var $n=0;$n<T;$n+=1){var Vn=Zt[$n],Un=void 0;switch(Vn.tag){case"cmap":Un=Wr(on,Vn),tn.tables.cmap=Re_parse(Un.data,Un.offset),tn.encoding=new Gt(tn.tables.cmap);break;case"cvt ":Un=Wr(on,Vn),yn=new wt.Parser(Un.data,Un.offset),tn.tables.cvt=yn.parseShortList(Vn.length/2);break;case"fvar":X=Vn;break;case"fpgm":Un=Wr(on,Vn),yn=new wt.Parser(Un.data,Un.offset),tn.tables.fpgm=yn.parseByteList(Vn.length);break;case"head":Un=Wr(on,Vn),tn.tables.head=ee_parse(Un.data,Un.offset),tn.unitsPerEm=tn.tables.head.unitsPerEm,B=tn.tables.head.indexToLocFormat;break;case"hhea":Un=Wr(on,Vn),tn.tables.hhea=ie_parse(Un.data,Un.offset),tn.ascender=tn.tables.hhea.ascender,tn.descender=tn.tables.hhea.descender,tn.numberOfHMetrics=tn.tables.hhea.numberOfHMetrics;break;case"hmtx":st=Vn;break;case"ltag":Un=Wr(on,Vn),A=D_parse(Un.data,Un.offset);break;case"maxp":Un=Wr(on,Vn),tn.tables.maxp=R_parse(Un.data,Un.offset),tn.numGlyphs=tn.tables.maxp.numGlyphs;break;case"name":Bt=Vn;break;case"OS/2":Un=Wr(on,Vn),tn.tables.os2=Gn_parse(Un.data,Un.offset);break;case"post":Un=Wr(on,Vn),tn.tables.post=kr_parse(Un.data,Un.offset),tn.glyphNames=new _n(tn.tables.post);break;case"prep":Un=Wr(on,Vn),yn=new wt.Parser(Un.data,Un.offset),tn.tables.prep=yn.parseByteList(Vn.length);break;case"glyf":ue=Vn;break;case"loca":Vt=Vn;break;case"CFF ":Z=Vn;break;case"kern":It=Vn;break;case"GPOS":Le=Vn;break;case"GSUB":Je=Vn;break;case"meta":mt=Vn}}if(Bn=Wr(on,Bt),tn.tables.name=On_parse(Bn.data,Bn.offset,A),tn.names=tn.tables.name,ue&&Vt)Kt=0===B,Bn=Wr(on,Vt),Bn=Zs_parse(Bn.data,Bn.offset,tn.numGlyphs,Kt),Kt=Wr(on,ue),tn.glyphs=Tr.parse(Kt.data,Kt.offset,Bn,tn);else{if(!Z)throw new Error("Font doesn't contain TrueType or CFF outlines.");Kt=Wr(on,Z),Nn_parse(Kt.data,Kt.offset,tn)}for(var Bn=Wr(on,st),Zn=(we_parse(Bn.data,Bn.offset,tn.numberOfHMetrics,tn.numGlyphs,tn.glyphs),tn),er=Zn.tables.cmap.glyphIndexMap,Ur=Object.keys(er),Kr=0;Kr<Ur.length;Kr+=1){var Zr,Jr=Ur[Kr];(Zr=Zn.glyphs.get(er[Jr])).addUnicode(parseInt(Jr))}for(var xr=0;xr<Zn.glyphs.length;xr+=1)Zr=Zn.glyphs.get(xr),Zn.cffEncoding?Zr.name=Zn.isCIDFont?"gid"+xr:Zn.cffEncoding.charset[xr]:Zn.glyphNames.names&&(Zr.name=Zn.glyphNames.glyphIndexToName(xr));return It?(Kt=Wr(on,It),tn.kerningPairs=ms_parse(Kt.data,Kt.offset)):tn.kerningPairs={},Le&&(Bn=Wr(on,Le),tn.tables.gpos=Ss_parse(Bn.data,Bn.offset),tn.position.init()),Je&&(Kt=Wr(on,Je),tn.tables.gsub=$e_parse(Kt.data,Kt.offset)),X&&(Bn=Wr(on,X),tn.tables.fvar=Cs_parse(Bn.data,Bn.offset,tn.names)),mt&&(Kt=Wr(on,mt),tn.tables.meta=lt_parse(Kt.data,Kt.offset),tn.metas=tn.tables.meta),tn}f.Font=br,f.Glyph=Dt,f.Path=fe,f.BoundingBox=ne,f._parse=wt,f.parse=Ds,f.load=function(C,B){(typeof window>"u"?bi:us)(C,function(A,T){if(A)return B(A);var Z;try{Z=Ds(T)}catch(X){return B(X,null)}return B(null,Z)})},f.loadSync=function(C){return Ds(pt(o("fs").readFileSync(C)))},Object.defineProperty(f,"__esModule",{value:!0})},h("object"==typeof S&&void 0!==$?S:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],255:[function(o,$,S){(function(v){function _(x,w){for(var i=0,a=x.length-1;0<=a;a--){var d=x[a];"."===d?x.splice(a,1):".."===d?(x.splice(a,1),i++):i&&(x.splice(a,1),i--)}if(w)for(;i--;)x.unshift("..");return x}function h(x,w){if(x.filter)return x.filter(w);for(var i=[],a=0;a<x.length;a++)w(x[a],a,x)&&i.push(x[a]);return i}S.resolve=function(){for(var x="",w=!1,i=arguments.length-1;-1<=i&&!w;i--){var a=0<=i?arguments[i]:v.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(x=a+"/"+x,w="/"===a.charAt(0))}return(w?"/":"")+(x=_(h(x.split("/"),function(d){return!!d}),!w).join("/"))||"."},S.normalize=function(x){var w=S.isAbsolute(x),i="/"===f(x,-1);return(x=(x=_(h(x.split("/"),function(a){return!!a}),!w).join("/"))||w?x:".")&&i&&(x+="/"),(w?"/":"")+x},S.isAbsolute=function(x){return"/"===x.charAt(0)},S.join=function(){var x=Array.prototype.slice.call(arguments,0);return S.normalize(h(x,function(w,i){if("string"!=typeof w)throw new TypeError("Arguments to path.join must be strings");return w}).join("/"))},S.relative=function(x,w){function i(p){for(var b=0;b<p.length&&""===p[b];b++);for(var M=p.length-1;0<=M&&""===p[M];M--);return M<b?[]:p.slice(b,M-b+1)}x=S.resolve(x).substr(1),w=S.resolve(w).substr(1);for(var a=i(x.split("/")),d=i(w.split("/")),c=Math.min(a.length,d.length),u=c,l=0;l<c;l++)if(a[l]!==d[l]){u=l;break}var m=[];for(l=u;l<a.length;l++)m.push("..");return(m=m.concat(d.slice(u))).join("/")},S.sep="/",S.delimiter=":",S.dirname=function(x){if("string"!=typeof x&&(x+=""),0===x.length)return".";for(var w=47===x.charCodeAt(0),i=-1,a=!0,d=x.length-1;1<=d;--d)if(47===x.charCodeAt(d)){if(!a){i=d;break}}else a=!1;return-1===i?w?"/":".":w&&1===i?"/":x.slice(0,i)},S.basename=function(x,w){return x=function(i){"string"!=typeof i&&(i+="");for(var a=0,d=-1,c=!0,u=i.length-1;0<=u;--u)if(47===i.charCodeAt(u)){if(!c){a=u+1;break}}else-1===d&&(c=!1,d=u+1);return-1===d?"":i.slice(a,d)}(x),w&&x.substr(-1*w.length)===w?x.substr(0,x.length-w.length):x},S.extname=function(x){"string"!=typeof x&&(x+="");for(var w=-1,i=0,a=-1,d=!0,c=0,u=x.length-1;0<=u;--u){var l=x.charCodeAt(u);if(47===l){if(d)continue;i=u+1;break}-1===a&&(d=!1,a=u+1),46===l?-1===w?w=u:1!==c&&(c=1):-1!==w&&(c=-1)}return-1===w||-1===a||0===c||1===c&&w===a-1&&w===i+1?"":x.slice(w,a)};var f=function(x,w,i){return x.substr(w,i)}}).call(this,o("_process"))},{_process:256}],256:[function(o,h,S){var v,_;function f(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}h=h.exports={};try{v="function"==typeof setTimeout?setTimeout:f}catch{v=f}try{_="function"==typeof clearTimeout?clearTimeout:x}catch{_=x}function w(b){if(v===setTimeout)return setTimeout(b,0);if((v===f||!v)&&setTimeout)return(v=setTimeout)(b,0);try{return v(b,0)}catch{try{return v.call(null,b,0)}catch{return v.call(this,b,0)}}}var i,a=[],d=!1,c=-1;function u(){d&&i&&(d=!1,i.length?a=i.concat(a):c=-1,a.length&&l())}function l(){if(!d){for(var b=w(u),M=(d=!0,a.length);M;){for(i=a,a=[];++c<M;)i&&i[c].run();c=-1,M=a.length}i=null,d=!1,function(F){if(_===clearTimeout)return clearTimeout(F);if((_===x||!_)&&clearTimeout)return(_=clearTimeout)(F);try{_(F)}catch{try{return _.call(null,F)}catch{return _.call(this,F)}}}(b)}}function m(b,M){this.fun=b,this.array=M}function p(){}h.nextTick=function(b){var M=new Array(arguments.length-1);if(1<arguments.length)for(var F=1;F<arguments.length;F++)M[F-1]=arguments[F];a.push(new m(b,M)),1!==a.length||d||w(l)},m.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=p,h.addListener=p,h.once=p,h.off=p,h.removeListener=p,h.removeAllListeners=p,h.emit=p,h.prependListener=p,h.prependOnceListener=p,h.listeners=function(b){return[]},h.binding=function(b){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(b){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],257:[function(o,$,S){$=function(v){"use strict";var _,h=Object.prototype,f=h.hasOwnProperty,x=(N="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",w=N.asyncIterator||"@@asyncIterator",i=N.toStringTag||"@@toStringTag";function a(te,se,q,pe){var fe,De,K,L;return se=se&&se.prototype instanceof b?se:b,se=Object.create(se.prototype),pe=new W(pe||[]),se._invoke=(fe=te,De=q,K=pe,L=c,function(Ce,Fe){if(L===l)throw new Error("Generator is already running");if(L===m){if("throw"===Ce)throw Fe;return z()}for(K.method=Ce,K.arg=Fe;;){var We=K.delegate;if(We&&(We=function tt(Oe,ke){var Be=Oe.iterator[ke.method];if(Be===_){if(ke.delegate=null,"throw"===ke.method){if(Oe.iterator.return&&(ke.method="return",ke.arg=_,tt(Oe,ke),"throw"===ke.method))return p;ke.method="throw",ke.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(Be=d(Be,Oe.iterator,ke.arg)).type?(ke.method="throw",ke.arg=Be.arg,ke.delegate=null,p):(Be=Be.arg)?Be.done?(ke[Oe.resultName]=Be.value,ke.next=Oe.nextLoc,"return"!==ke.method&&(ke.method="next",ke.arg=_),ke.delegate=null,p):Be:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,p)}(We,K))){if(We===p)continue;return We}if("next"===K.method)K.sent=K._sent=K.arg;else if("throw"===K.method){if(L===c)throw L=m,K.arg;K.dispatchException(K.arg)}else"return"===K.method&&K.abrupt("return",K.arg);if(L=l,"normal"===(We=d(fe,De,K)).type){if(L=K.done?m:u,We.arg!==p)return{value:We.arg,done:K.done}}else"throw"===We.type&&(L=m,K.method="throw",K.arg=We.arg)}}),se}function d(te,J,q){try{return{type:"normal",arg:te.call(J,q)}}catch(ne){return{type:"throw",arg:ne}}}v.wrap=a;var c="suspendedStart",u="suspendedYield",l="executing",m="completed",p={};function b(){}function M(){}function F(){}var N,P,j=((N={})[x]=function(){return this},(P=(P=Object.getPrototypeOf)&&P(P(Y([]))))&&P!==h&&f.call(P,x)&&(N=P),F.prototype=b.prototype=Object.create(N));function V(te){["next","throw","return"].forEach(function(J){te[J]=function(q){return this._invoke(J,q)}})}function k(te){var J;this._invoke=function(q,ne){function fe(){return new Promise(function(De,K){!function L(tt,pe,Ce,Fe){var We;if("throw"!==(tt=d(te[tt],te,pe)).type)return(pe=(We=tt.arg).value)&&"object"==typeof pe&&f.call(pe,"__await")?Promise.resolve(pe.__await).then(function(Oe){L("next",Oe,Ce,Fe)},function(Oe){L("throw",Oe,Ce,Fe)}):Promise.resolve(pe).then(function(Oe){We.value=Oe,Ce(We)},function(Oe){return L("throw",Oe,Ce,Fe)});Fe(tt.arg)}(q,ne,De,K)})}return J=J?J.then(fe,fe):fe()}}function E(te){var J={tryLoc:te[0]};1 in te&&(J.catchLoc=te[1]),2 in te&&(J.finallyLoc=te[2],J.afterLoc=te[3]),this.tryEntries.push(J)}function I(te){var J=te.completion||{};J.type="normal",delete J.arg,te.completion=J}function W(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(E,this),this.reset(!0)}function Y(te){if(te){var J,q=te[x];if(q)return q.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length))return J=-1,(q=function ne(){for(;++J<te.length;)if(f.call(te,J))return ne.value=te[J],ne.done=!1,ne;return ne.value=_,ne.done=!0,ne}).next=q}return{next:z}}function z(){return{value:_,done:!0}}return(M.prototype=j.constructor=F).constructor=M,F[i]=M.displayName="GeneratorFunction",v.isGeneratorFunction=function(te){return!!(te="function"==typeof te&&te.constructor)&&(te===M||"GeneratorFunction"===(te.displayName||te.name))},v.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,F):(te.__proto__=F,i in te||(te[i]="GeneratorFunction")),te.prototype=Object.create(j),te},v.awrap=function(te){return{__await:te}},V(k.prototype),k.prototype[w]=function(){return this},v.AsyncIterator=k,v.async=function(te,J,q,ne){var fe=new k(a(te,J,q,ne));return v.isGeneratorFunction(J)?fe:fe.next().then(function(De){return De.done?De.value:fe.next()})},V(j),j[i]="Generator",j[x]=function(){return this},j.toString=function(){return"[object Generator]"},v.keys=function(te){var J,q=[];for(J in te)q.push(J);return q.reverse(),function ne(){for(;q.length;){var fe=q.pop();if(fe in te)return ne.value=fe,ne.done=!1,ne}return ne.done=!0,ne}},v.values=Y,W.prototype={constructor:W,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(I),!te)for(var J in this)"t"===J.charAt(0)&&f.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=_)},stop:function(){this.done=!0;var te=this.tryEntries[0].completion;if("throw"===te.type)throw te.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var J=this;function q(se,pe){return De.type="throw",De.arg=te,J.next=se,pe&&(J.method="next",J.arg=_),!!pe}for(var ne=this.tryEntries.length-1;0<=ne;--ne){var fe=this.tryEntries[ne],De=fe.completion;if("root"===fe.tryLoc)return q("end");if(fe.tryLoc<=this.prev){var K=f.call(fe,"catchLoc"),L=f.call(fe,"finallyLoc");if(K&&L){if(this.prev<fe.catchLoc)return q(fe.catchLoc,!0);if(this.prev<fe.finallyLoc)return q(fe.finallyLoc)}else if(K){if(this.prev<fe.catchLoc)return q(fe.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<fe.finallyLoc)return q(fe.finallyLoc)}}}},abrupt:function(te,J){for(var q=this.tryEntries.length-1;0<=q;--q){var ne=this.tryEntries[q];if(ne.tryLoc<=this.prev&&f.call(ne,"finallyLoc")&&this.prev<ne.finallyLoc){var fe=ne;break}}var De=(fe=fe&&("break"===te||"continue"===te)&&fe.tryLoc<=J&&J<=fe.finallyLoc?null:fe)?fe.completion:{};return De.type=te,De.arg=J,fe?(this.method="next",this.next=fe.finallyLoc,p):this.complete(De)},complete:function(te,J){if("throw"===te.type)throw te.arg;return"break"===te.type||"continue"===te.type?this.next=te.arg:"return"===te.type?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):"normal"===te.type&&J&&(this.next=J),p},finish:function(te){for(var J=this.tryEntries.length-1;0<=J;--J){var q=this.tryEntries[J];if(q.finallyLoc===te)return this.complete(q.completion,q.afterLoc),I(q),p}},catch:function(te){for(var J=this.tryEntries.length-1;0<=J;--J){var q,ne,fe=this.tryEntries[J];if(fe.tryLoc===te)return"throw"===(q=fe.completion).type&&(ne=q.arg,I(fe)),ne}throw new Error("illegal catch attempt")},delegateYield:function(te,J,q){return this.delegate={iterator:Y(te),resultName:J,nextLoc:q},"next"===this.method&&(this.arg=_),p}},v}("object"==typeof $?$.exports:{});try{regeneratorRuntime=$}catch{Function("r","regeneratorRuntime = r")($)}},{}],258:[function(o,$,S){!function(v){"use strict";var _,h,f,x,w,i,a,d,c,u;function l(I){if("string"!=typeof I&&(I=String(I)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function m(I){return"string"!=typeof I?String(I):I}function p(I){var W={next:function(){var Y=I.shift();return{done:void 0===Y,value:Y}}};return h&&(W[Symbol.iterator]=function(){return W}),W}function b(I){this.map={},I instanceof b?I.forEach(function(W,Y){this.append(Y,W)},this):Array.isArray(I)?I.forEach(function(W){this.append(W[0],W[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(W){this.append(W,I[W])},this)}function M(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function F(I){return new Promise(function(W,Y){I.onload=function(){W(I.result)},I.onerror=function(){Y(I.error)}})}function N(I){var W=new FileReader,Y=F(W);return W.readAsArrayBuffer(I),Y}function P(I){var W;return I.slice?I.slice(0):((W=new Uint8Array(I.byteLength)).set(new Uint8Array(I)),W.buffer)}function j(){return this.bodyUsed=!1,this._initBody=function(I){if(this._bodyInit=I)if("string"==typeof I)this._bodyText=I;else if(f&&Blob.prototype.isPrototypeOf(I))this._bodyBlob=I;else if(x&&FormData.prototype.isPrototypeOf(I))this._bodyFormData=I;else if(_&&URLSearchParams.prototype.isPrototypeOf(I))this._bodyText=I.toString();else if(w&&f&&a(I))this._bodyArrayBuffer=P(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!w||!ArrayBuffer.prototype.isPrototypeOf(I)&&!d(I))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=P(I)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof I?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f&&(this.blob=function(){var I=M(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?M(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(N)}),this.text=function(){var I,W,Y=M(this);if(Y)return Y;if(this._bodyBlob)return Y=this._bodyBlob,W=F(I=new FileReader),I.readAsText(Y),W;if(this._bodyArrayBuffer)return Promise.resolve(function(z){for(var te=new Uint8Array(z),J=new Array(te.length),q=0;q<te.length;q++)J[q]=String.fromCharCode(te[q]);return J.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},x&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function V(I,W){var Y,z=(W=W||{}).body;if(I instanceof V){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,W.headers||(this.headers=new b(I.headers)),this.method=I.method,this.mode=I.mode,z||null==I._bodyInit||(z=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=W.credentials||this.credentials||"omit",!W.headers&&this.headers||(this.headers=new b(W.headers)),this.method=(Y=(I=W.method||this.method||"GET").toUpperCase(),-1<c.indexOf(Y)?Y:I),this.mode=W.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}function k(I){var W=new FormData;return I.trim().split("&").forEach(function(Y){var z;Y&&(z=(Y=Y.split("=")).shift().replace(/\+/g," "),Y=Y.join("=").replace(/\+/g," "),W.append(decodeURIComponent(z),decodeURIComponent(Y)))}),W}function E(I,W){W=W||{},this.type="default",this.status=void 0===W.status?200:W.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in W?W.statusText:"OK",this.headers=new b(W.headers),this.url=W.url||"",this._initBody(I)}v.fetch||(_="URLSearchParams"in v,h="Symbol"in v&&"iterator"in Symbol,f="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),x="FormData"in v,(w="ArrayBuffer"in v)&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(I){return I&&DataView.prototype.isPrototypeOf(I)},d=ArrayBuffer.isView||function(I){return I&&-1<i.indexOf(Object.prototype.toString.call(I))}),b.prototype.append=function(I,W){I=l(I),W=m(W);var Y=this.map[I];this.map[I]=Y?Y+","+W:W},b.prototype.delete=function(I){delete this.map[l(I)]},b.prototype.get=function(I){return I=l(I),this.has(I)?this.map[I]:null},b.prototype.has=function(I){return this.map.hasOwnProperty(l(I))},b.prototype.set=function(I,W){this.map[l(I)]=m(W)},b.prototype.forEach=function(I,W){for(var Y in this.map)this.map.hasOwnProperty(Y)&&I.call(W,this.map[Y],Y,this)},b.prototype.keys=function(){var I=[];return this.forEach(function(W,Y){I.push(Y)}),p(I)},b.prototype.values=function(){var I=[];return this.forEach(function(W){I.push(W)}),p(I)},b.prototype.entries=function(){var I=[];return this.forEach(function(W,Y){I.push([Y,W])}),p(I)},h&&(b.prototype[Symbol.iterator]=b.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],V.prototype.clone=function(){return new V(this,{body:this._bodyInit})},j.call(V.prototype),j.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},E.error=function(){var I=new E(null,{status:0,statusText:""});return I.type="error",I},u=[301,302,303,307,308],E.redirect=function(I,W){if(-1===u.indexOf(W))throw new RangeError("Invalid status code");return new E(null,{status:W,headers:{location:I}})},v.Headers=b,v.Request=V,v.Response=E,v.fetch=function(I,W){return new Promise(function(Y,z){var te=new V(I,W),J=new XMLHttpRequest;J.onload=function(){var q,ne={status:J.status,statusText:J.statusText,headers:(ne=J.getAllResponseHeaders()||"",q=new b,ne.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(K){var L=(K=K.split(":")).shift().trim();L&&(K=K.join(":").trim(),q.append(L,K))}),q)},fe=(ne.url="responseURL"in J?J.responseURL:ne.headers.get("X-Request-URL"),"response"in J?J.response:J.responseText);Y(new E(fe,ne))},J.onerror=function(){z(new TypeError("Network request failed"))},J.ontimeout=function(){z(new TypeError("Network request failed"))},J.open(te.method,te.url,!0),"include"===te.credentials?J.withCredentials=!0:"omit"===te.credentials&&(J.withCredentials=!1),"responseType"in J&&f&&(J.responseType="blob"),te.headers.forEach(function(q,ne){J.setRequestHeader(ne,q)}),J.send(void 0===te._bodyInit?null:te._bodyInit)})},v.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],259:[function(o,$,S){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v,_=f(o("../core/main")),h=f(o("../color/color_conversion"));function f(i){return i&&i.__esModule?i:{default:i}}var x=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],w=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];_.default.prototype._rgbColorName=function(c){c=h.default._rgbaToHSBA(c);var a,d,u=[(v=c)[0],c[1],c[2]];0!==u[0]&&(u[0]=Math.round(100*u[0]),(c=u[0].toString().split(""))[d=c.length-1]=parseInt(c[d]),c[d]<2.5?c[d]=0:2.5<=c[d]&&c[d]<7.5&&(c[d]=5),2===c.length?(c[0]=parseInt(c[0]),7.5<=c[d]&&(c[d]=0,c[0]=c[0]+1),u[0]=10*c[0]+c[1]):u[0]=7.5<=c[d]?10:c[d]),u[2]=u[2]/255;for(var l=u.length-1;1<=l;l--)u[l]=u[l]<=.25?0:.25<u[l]&&u[l]<.75?.5:1;if(0===u[0]&&0===u[1]&&1===u[2]){for(var m=2;0<=m;m--)v[m]=Math.round(1e4*v[m])/1e4;for(var p=0;p<x.length;p++){if(x[p].h===v[0]&&x[p].s===v[1]&&x[p].b===v[2]){a=x[p].name;break}a="white"}}else for(var b=0;b<w.length;b++)if(w[b].h===u[0]&&w[b].s===u[1]&&w[b].b===u[2]){a=w[b].name;break}return a},S.default=o=_.default},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(o,$,S){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o},_="_Description",h="_fallbackDesc",f="_fallbackTable",x="_Label",w="_labelDesc",i="_labelTable";function a(d){if("label"===d||"fallback"===d)throw new Error("description should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")||d.endsWith("?")||d.endsWith("!")||(d+="."),d}v.default.prototype.describe=function(d,c){var u;v.default._validateParameters("describe",arguments),"string"==typeof d&&(u=this.canvas.id,d=a(d),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),c===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d)))},v.default.prototype.describeElement=function(d,c,u){var l,m;v.default._validateParameters("describeElement",arguments),"string"==typeof c&&"string"==typeof d&&(l=this.canvas.id,c=a(c),m=function(p){if("label"===p||"fallback"===p)throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p}(d),d=d.replace(/[^a-zA-Z0-9]/g,""),m='<th scope="row">'.concat(m,"</th><td>").concat(c,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==m&&(this.descriptions.fallbackElements[d].innerHTML=m):this._describeElementHTML("fallback",d,m),u===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==m&&(this.descriptions.labelElements[d].innerHTML=m):this._describeElementHTML("label",d,m)))},v.default.prototype._describeHTML=function(d,c){var u,l=this.canvas.id;"fallback"===d?(this.dummyDOM.querySelector("#".concat(l+_))?this.dummyDOM.querySelector("#"+l+f).insertAdjacentHTML("beforebegin",'<p id="'.concat(l+h,'"></p>')):(u='<div id="'.concat(l).concat(_,'" role="region" aria-label="Canvas Description"><p id="').concat(l).concat(h,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutput")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#".concat(l)).innerHTML=u),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(l).concat(h)),this.descriptions.fallback.innerHTML=c):"label"===d&&(this.dummyDOM.querySelector("#".concat(l+x))?this.dummyDOM.querySelector("#".concat(l+i))&&this.dummyDOM.querySelector("#".concat(l+i)).insertAdjacentHTML("beforebegin",'<p id="'.concat(l).concat(w,'"></p>')):(u='<div id="'.concat(l).concat(x,'" class="p5Label"><p id="').concat(l).concat(w,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+l).insertAdjacentHTML("afterend",u)),this.descriptions.label=this.dummyDOM.querySelector("#"+l+w),this.descriptions.label.innerHTML=c)},v.default.prototype._describeElementHTML=function(d,c,u){var l,m=this.canvas.id;"fallback"===d?(this.dummyDOM.querySelector("#".concat(m+_))?this.dummyDOM.querySelector("#"+m+f)||this.dummyDOM.querySelector("#"+m+h).insertAdjacentHTML("afterend",'<table id="'.concat(m).concat(f,'"><caption>Canvas elements and their descriptions</caption></table>')):(l='<div id="'.concat(m).concat(_,'" role="region" aria-label="Canvas Description"><table id="').concat(m).concat(f,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+m).innerHTML=l),(l=document.createElement("tr")).id=m+"_fte_"+c,this.dummyDOM.querySelector("#"+m+f).appendChild(l),this.descriptions.fallbackElements[c]=this.dummyDOM.querySelector("#".concat(m).concat("_fte_").concat(c)),this.descriptions.fallbackElements[c].innerHTML=u):"label"===d&&(this.dummyDOM.querySelector("#".concat(m+x))?this.dummyDOM.querySelector("#".concat(m+i))||this.dummyDOM.querySelector("#"+m+w).insertAdjacentHTML("afterend",'<table id="'.concat(m+i,'"></table>')):(l='<div id="'.concat(m).concat(x,'" class="p5Label"><table id="').concat(m).concat(i,'"></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",l)),(d=document.createElement("tr")).id=m+"_lte_"+c,this.dummyDOM.querySelector("#"+m+i).appendChild(d),this.descriptions.labelElements[c]=this.dummyDOM.querySelector("#".concat(m).concat("_lte_").concat(c)),this.descriptions.labelElements[c].innerHTML=u)},S.default=o=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(o,$,S){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(v){var _,h,f,x,w,i,a,d;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(_=this._accessibleOutputs[v],w=(h=function(w,i){var a,d="",c="",u=0;for(a in i){var l,m=0;for(l in i[a]){var p='<li id="'.concat(w,"shape").concat(u,'">').concat(i[a][l].color," ").concat(a,",");"line"===a?p+=" location = ".concat(i[a][l].pos,", length = ").concat(i[a][l].length," pixels"):(p+=" location = ".concat(i[a][l].pos),"point"!==a&&(p+=", area = ".concat(i[a][l].area," %")),p+="</li>"),d+=p,m++,u++}c=1<m?"".concat(c," ").concat(m," ").concat(a,"s"):"".concat(c," ").concat(m," ").concat(a)}return{numShapes:[u,c],details:d}}(v,this.ingredients.shapes)).numShapes,a=this.width,d=this.height,i="".concat(i=this.ingredients.colors.background," canvas, ").concat(a," by ").concat(d," pixels, contains ").concat(w[0]),f=i="".concat(i,1===w[0]?" shape: ":" shapes: ").concat(w[1]),x=function(w,i){var a,d,c=0,u="",l=Array.from(Array(10),function(){return Array(10)});for(a in i)for(var m in i[a]){var p;p="line"!==a?'<a href="#'.concat(w,"shape").concat(c,'">').concat(i[a][m].color," ").concat(a,"</a>"):'<a href="#'.concat(w,"shape").concat(c,'">').concat(i[a][m].color," ").concat(a," midpoint</a>"),l[i[a][m].loc.locY][i[a][m].loc.locX]=l[i[a][m].loc.locY][i[a][m].loc.locX]?l[i[a][m].loc.locY][i[a][m].loc.locX]+"  "+p:p,c++}for(d in l){var b,M="<tr>";for(b in l[d])M+="<td>",void 0!==l[d][b]&&(M+=l[d][b]),M+="</td>";u=u+M+"</tr>"}return u}(v,this.ingredients.shapes),f!==_.summary.innerHTML&&(_.summary.innerHTML=f),x!==_.map.innerHTML&&(_.map.innerHTML=x),h.details!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=h.details),this._accessibleOutputs[v]=_)},S.default=o=o.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function h(f,x,w){return 10===(x=Math.floor(f[0]/x*10))&&(x-=1),10===(f=Math.floor(f[1]/w*10))&&(f-=1),{locX:x,locY:f}}v.default.prototype.textOutput=function(f){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(f){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(f,x){var w,i,a,d=this.canvas.id,c=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),"");"Fallback"===x?(w=d+f,this.dummyDOM.querySelector("#".concat(i=d+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(d,"_Description"))?this.dummyDOM.querySelector("#".concat(d,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(d)).innerHTML='<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===x&&(w=d+f+(c=x),this.dummyDOM.querySelector("#".concat(i=d+"accessibleOutput"+x))||(this.dummyDOM.querySelector("#".concat(d,"_Label"))?this.dummyDOM.querySelector("#".concat(d,"_Label")):this.dummyDOM.querySelector("#".concat(d))).insertAdjacentHTML("afterend",'<div id="'.concat(i,'"></div>'))),this._accessibleOutputs[w]={},"textOutput"===f?(c="#".concat(d,"gridOutput").concat(c),a='<div id="'.concat(w,'">Text Output<div id="').concat(w,'Summary" aria-label="text output summary"><p id="').concat(w,'_summary"></p><ul id="').concat(w,'_list"></ul></div><table id="').concat(w,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("beforebegin",a):this.dummyDOM.querySelector("#".concat(i)).innerHTML=a,this._accessibleOutputs[w].list=this.dummyDOM.querySelector("#".concat(w,"_list"))):"gridOutput"===f&&(c="#".concat(d,"textOutput").concat(c),a='<div id="'.concat(w,'">Grid Output<p id="').concat(w,'_summary" aria-label="grid output summary"><table id="').concat(w,'_map" summary="grid output content"></table><ul id="').concat(w,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("afterend",a):this.dummyDOM.querySelector("#".concat(i)).innerHTML=a,this._accessibleOutputs[w].map=this.dummyDOM.querySelector("#".concat(w,"_map"))),this._accessibleOutputs[w].shapeDetails=this.dummyDOM.querySelector("#".concat(w,"_shapeDetails")),this._accessibleOutputs[w].summary=this.dummyDOM.querySelector("#".concat(w,"_summary"))},v.default.prototype._updateAccsOutput=function(){var f=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(f+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(f+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(f+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(f+"gridOutputLabel"))},v.default.prototype._accsBackground=function(f){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==f&&(this.ingredients.colors.backgroundRGBA=f,this.ingredients.colors.background=this._rgbColorName(f))},v.default.prototype._accsCanvasColors=function(f,x){"fill"===f?this.ingredients.colors.fillRGBA!==x&&(this.ingredients.colors.fillRGBA=x,this.ingredients.colors.fill=this._rgbColorName(x)):"stroke"===f&&this.ingredients.colors.strokeRGBA!==x&&(this.ingredients.colors.strokeRGBA=x,this.ingredients.colors.stroke=this._rgbColorName(x))},v.default.prototype._accsOutput=function(f,x){"ellipse"===f&&x[2]===x[3]?f="circle":"rectangle"===f&&x[2]===x[3]&&(f="square");var w,i,l,m,p,a={},d=!0,c=(m=x,l="rectangle"===(l=f)||"ellipse"===l||"arc"===l||"circle"===l||"square"===l?(p=Math.round(m[0]+m[2]/2),Math.round(m[1]+m[3]/2)):"triangle"===l?(p=(m[0]+m[2]+m[4])/3,(m[1]+m[3]+m[5])/3):"quadrilateral"===l?(p=(m[0]+m[2]+m[4]+m[6])/4,(m[1]+m[3]+m[5]+m[7])/4):"line"===l?(p=(m[0]+m[2])/2,(m[1]+m[3])/2):(p=m[0],m[1]),[p,l]);if("line"===f?(a.color=this.ingredients.colors.stroke,a.length=Math.round(this.dist(x[0],x[1],x[2],x[3])),w=this._getPos(x[0],[1]),i=this._getPos(x[2],[3]),a.loc=h(c,this.width,this.height),a.pos=w===i?"at ".concat(w):"from ".concat(w," to ").concat(i)):("point"===f?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(f,x)),a.pos=this._getPos.apply(this,function _(f){return function(x){if(Array.isArray(x)){for(var w=0,i=new Array(x.length);w<x.length;w++)i[w]=x[w];return i}}(f)||function(x){if(Symbol.iterator in Object(x)||"[object Arguments]"===Object.prototype.toString.call(x))return Array.from(x)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(c)),a.loc=h(c,this.width,this.height)),this.ingredients.shapes[f]){if(this.ingredients.shapes[f]!==[a]){for(var u in this.ingredients.shapes[f])JSON.stringify(this.ingredients.shapes[f][u])===JSON.stringify(a)&&(d=!1);!0===d&&this.ingredients.shapes[f].push(a)}}else this.ingredients.shapes[f]=[a]},v.default.prototype._getPos=function(i,w){i=new DOMPointReadOnly(i,w),w=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),w=(i=i.matrixTransform(w)).x,i=i.y;var a=this.width*this._pixelDensity,d=this.height*this._pixelDensity;return w<.4*a?i<.4*d?"top left":.6*d<i?"bottom left":"mid left":.6*a<w?i<.4*d?"top right":.6*d<i?"bottom right":"mid right":i<.4*d?"top middle":.6*d<i?"bottom middle":"middle"},v.default.prototype._getArea=function(f,x){var w,i,a=0,d=("arc"===f?(a=(w=((x[5]-x[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*x[2]*x[3]/8,"open"!==x[6]&&"chord"!==x[6]||(i=x[0],m=x[1],d=x[0]+x[2]/2*Math.cos(x[4]).toFixed(2),p=x[1]+x[3]/2*Math.sin(x[4]).toFixed(2),u=x[0]+x[2]/2*Math.cos(x[5]).toFixed(2),c=x[1]+x[3]/2*Math.sin(x[5]).toFixed(2),i=Math.abs(i*(p-c)+d*(c-m)+u*(m-p))/2,w>Math.PI?a+=i:a-=i)):"ellipse"===f||"circle"===f?a=3.14*x[2]/2*x[3]/2:"line"===f||"point"===f?a=0:"quadrilateral"===f?a=Math.abs((x[6]+x[0])*(x[7]-x[1])+(x[0]+x[2])*(x[1]-x[3])+(x[2]+x[4])*(x[3]-x[5])+(x[4]+x[6])*(x[5]-x[7]))/2:"rectangle"===f||"square"===f?a=x[2]*x[3]:"triangle"===f&&(a=Math.abs(x[0]*(x[3]-x[5])+x[2]*(x[5]-x[1])+x[4]*(x[1]-x[3]))/2),this.width*this._pixelDensity),c=this.height*this._pixelDensity,u=[new DOMPoint(0,0),new DOMPoint(d,0),new DOMPoint(d,c),new DOMPoint(0,c)],l=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),m=u.map(function(b){return b.matrixTransform(l)}),p=Math.abs((m[3].x+m[0].x)*(m[3].y-m[0].y)+(m[0].x+m[1].x)*(m[0].y-m[1].y)+(m[1].x+m[2].x)*(m[1].y-m[2].y)+(m[2].x+m[3].x)*(m[2].y-m[3].y))/2;return Math.round(100*a/p)},S.default=o=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(o,$,S){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(v){var _,h,f,x,w,i,a,d;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(_=this._accessibleOutputs[v],w=(h=function(w,i){var a,d="",c=0;for(a in i)for(var u in i[a]){var l='<li><a href="#'.concat(w,"shape").concat(c,'">').concat(i[a][u].color," ").concat(a,"</a>");"line"===a?l+=", ".concat(i[a][u].pos,", ").concat(i[a][u].length," pixels long.</li>"):(l+=", at ".concat(i[a][u].pos),"point"!==a&&(l+=", covering ".concat(i[a][u].area,"% of the canvas")),l+=".</li>"),d+=l,c++}return{numShapes:c,listShapes:d}}(v,this.ingredients.shapes)).numShapes,i=this.ingredients.colors.background,d=this.height,a="Your output is a, ".concat(a=this.width," by ").concat(d," pixels, ").concat(i," canvas containing the following"),f=a=1===w?"".concat(a," shape:"):"".concat(a," ").concat(w," shapes:"),x=function(w,i){var a,d="",c=0;for(a in i)for(var u in i[a]){var l='<tr id="'.concat(w,"shape").concat(c,'"><th>').concat(i[a][u].color," ").concat(a,"</th>");"line"===a?l+="<td>location = ".concat(i[a][u].pos,"</td><td>length = ").concat(i[a][u].length," pixels</td></tr>"):(l+="<td>location = ".concat(i[a][u].pos,"</td>"),"point"!==a&&(l+="<td> area = ".concat(i[a][u].area,"%</td>")),l+="</tr>"),d+=l,c++}return d}(v,this.ingredients.shapes),f!==_.summary.innerHTML&&(_.summary.innerHTML=f),h.listShapes!==_.list.innerHTML&&(_.list.innerHTML=h.listShapes),x!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=x),this._accessibleOutputs[v]=_)},S.default=o=o.default},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(o,$,S){"use strict";var v=(v=o("./core/main"))&&v.__esModule?v:{default:v};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),$.exports=v.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(o,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(v){var h=v[1],f=v[2],x=(2-h)*f/2;return 0!=x&&(1==x?h=0:x<.5?h/=2-h:h=h*f/(2-2*x)),[v[0],h,x,v[3]]},_hsbaToRGBA:function(v){var _,h,f,x,w,i=6*v[0],a=v[1],d=v[2];return 0===a?[d,d,d,v[3]]:(h=d*(1-a),f=d*(1-a*(i-(_=Math.floor(i)))),a=d*(1-a*(1+_-i)),i=1===_?(x=f,w=d,h):2===_?(x=h,w=d,a):3===_?(x=h,w=f,d):4===_?(x=a,w=h,d):5===_?(x=d,w=h,f):(x=d,w=a,h),[x,w,i,v[3]])},_hslaToHSBA:function(v){var h=v[1],f=v[2],x=f<.5?(1+h)*f:f+h-f*h;return[v[0],h=2*(x-f)/x,x,v[3]]},_hslaToRGBA:function(v){var _,h=6*v[0],f=v[1],x=v[2];return 0===f?[x,x,x,v[3]]:[(_=function(w,i,a){return w<0?w+=6:6<=w&&(w-=6),w<1?i+(a-i)*w:w<3?a:w<4?i+(a-i)*(4-w):i})(2+h,f=2*x-(x=x<.5?(1+f)*x:x+f-x*f),x),_(h,f,x),_(h-2,f,x),v[3]]},_rgbaToHSBA:function(v){var _,h,f=v[0],x=v[1],w=v[2],i=Math.max(f,x,w),a=i-Math.min(f,x,w);return 0==a?h=_=0:(h=a/i,f===i?_=(x-w)/a:x===i?_=2+(w-f)/a:w===i&&(_=4+(f-x)/a),_<0?_+=6:6<=_&&(_-=6)),[_/6,h,i,v[3]]},_rgbaToHSLA:function(v){var _,h,d,f=v[0],x=v[1],w=v[2],i=Math.max(f,x,w),a=i+(d=Math.min(f,x,w));return 0==(d=i-d)?h=_=0:(h=a<1?d/a:d/(2-a),f===i?_=(x-w)/d:x===i?_=2+(w-f)/d:w===i&&(_=4+(f-x)/d),_<0?_+=6:6<=_&&(_-=6)),[_/6,h,a/2,v[3]]}},S.default=o=o.default.ColorConversion},{"../core/main":280}],266:[function(o,$,S){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var a=x();if(a&&a.has(i))return a.get(i);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in i){var l;Object.prototype.hasOwnProperty.call(i,d)&&((l=u?Object.getOwnPropertyDescriptor(i,d):null)&&(l.get||l.set)?Object.defineProperty(c,d,l):c[d]=i[d])}return c.default=i,a&&a.set(i,c),c}(o("../core/constants"));function x(){var i;return"function"!=typeof WeakMap?null:(x=function(){return i},i=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),h.default.prototype.alpha=function(i){return h.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},h.default.prototype.blue=function(i){return h.default._validateParameters("blue",arguments),this.color(i)._getBlue()},h.default.prototype.brightness=function(i){return h.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},h.default.prototype.color=function(){for(var i,a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];return h.default._validateParameters("color",d),d[0]instanceof h.default.Color?d[0]:(i=Array.isArray(d[0])?d[0]:d,new h.default.Color(this,i))},h.default.prototype.green=function(i){return h.default._validateParameters("green",arguments),this.color(i)._getGreen()},h.default.prototype.hue=function(i){return h.default._validateParameters("hue",arguments),this.color(i)._getHue()},h.default.prototype.lerpColor=function(i,a,d){h.default._validateParameters("lerpColor",arguments);var c,u,l,m=this._colorMode,p=this._colorMaxes;if(m===f.RGB)u=i.levels.map(function(b){return b/255}),l=a.levels.map(function(b){return b/255});else if(m===f.HSB)i._getBrightness(),a._getBrightness(),u=i.hsba,l=a.hsba;else{if(m!==f.HSL)throw new Error("".concat(m," cannot be used for interpolation."));i._getLightness(),a._getLightness(),u=i.hsla,l=a.hsla}return d=Math.max(Math.min(d,1),0),void 0===this.lerp&&(this.lerp=function(b,M,F){return F*(M-b)+b}),m===f.RGB?c=this.lerp(u[0],l[0],d):(.5<Math.abs(u[0]-l[0])&&(u[0]>l[0]?l[0]+=1:u[0]+=1),1<=(c=this.lerp(u[0],l[0],d))&&--c),i=this.lerp(u[1],l[1],d),a=this.lerp(u[2],l[2],d),u=this.lerp(u[3],l[3],d),this.color(c*=p[m][0],i*=p[m][1],a*=p[m][2],u*=p[m][3])},h.default.prototype.lightness=function(i){return h.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},h.default.prototype.red=function(i){return h.default._validateParameters("red",arguments),this.color(i)._getRed()},h.default.prototype.saturation=function(i){return h.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var w=h.default;S.default=w},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(c,$,S){"use strict";function v(b){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(b)}function _(b){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(M){return v(M)}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":v(M)})(b)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.trim"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=i(c("../core/main")),f=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==_(b)&&"function"!=typeof b)return{default:b};var M=w();if(M&&M.has(b))return M.get(b);var F,N={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in b){var j;Object.prototype.hasOwnProperty.call(b,F)&&((j=P?Object.getOwnPropertyDescriptor(b,F):null)&&(j.get||j.set)?Object.defineProperty(N,F,j):N[F]=b[F])}return N.default=b,M&&M.set(b,N),N}(c("../core/constants")),x=i(c("./color_conversion"));function w(){var b;return"function"!=typeof WeakMap?null:(w=function(){return b},b=new WeakMap)}function i(b){return b&&b.__esModule?b:{default:b}}function a(b,M){for(var F=0;F<M.length;F++){var N=M[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=(c=/\s*/,/(\d{1,3})/),u=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,l=new RegExp("".concat(u.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(c.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(c.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",u.source,"\\)$"].join(c.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",u.source,"\\)$"].join(c.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",l.source,",",l.source,"\\)$"].join(c.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",l.source,",",l.source,",",u.source,"\\)$"].join(c.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",l.source,",",l.source,"\\)$"].join(c.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",l.source,",",l.source,",",u.source,"\\)$"].join(c.source),"i")};h.default.Color=function(){function b(P,j){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(P._colorMode,P._colorMaxes),![f.RGB,f.HSL,f.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=b._parseInputs.apply(this,j),this._calculateLevels()}var M,F,N;return M=b,N=[{key:"_parseInputs",value:function(P,j,V,k){var E,I=arguments.length,W=this.mode,Y=this.maxes[W],z=[];if(3<=I){for(z[0]=P/Y[0],z[1]=j/Y[1],z[2]=V/Y[2],z[3]="number"==typeof k?k/Y[3]:1,E=z.length-1;0<=E;--E){var te=z[E];te<0?z[E]=0:1<te&&(z[E]=1)}return W===f.HSL?x.default._hslaToRGBA(z):W===f.HSB?x.default._hsbaToRGBA(z):z}if(1===I&&"string"==typeof P){if(V=P.trim().toLowerCase(),d[V])return b._parseInputs.call(this,d[V]);if(m.HEX3.test(V))return(z=m.HEX3.exec(V).slice(1).map(function(J){return parseInt(J+J,16)/255}))[3]=1,z;if(m.HEX6.test(V))return(z=m.HEX6.exec(V).slice(1).map(function(J){return parseInt(J,16)/255}))[3]=1,z;if(m.HEX4.test(V))return m.HEX4.exec(V).slice(1).map(function(J){return parseInt(J+J,16)/255});if(m.HEX8.test(V))return m.HEX8.exec(V).slice(1).map(function(J){return parseInt(J,16)/255});if(m.RGB.test(V))return(z=m.RGB.exec(V).slice(1).map(function(J){return J/255}))[3]=1,z;if(m.RGB_PERCENT.test(V))return(z=m.RGB_PERCENT.exec(V).slice(1).map(function(J){return parseFloat(J)/100}))[3]=1,z;if(m.RGBA.test(V))return m.RGBA.exec(V).slice(1).map(function(J,q){return 3===q?parseFloat(J):J/255});if(m.RGBA_PERCENT.test(V))return m.RGBA_PERCENT.exec(V).slice(1).map(function(J,q){return 3===q?parseFloat(J):parseFloat(J)/100});if(m.HSL.test(V)?(z=m.HSL.exec(V).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:parseInt(J,10)/100}))[3]=1:m.HSLA.test(V)&&(z=m.HSLA.exec(V).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:3===q?parseFloat(J):parseInt(J,10)/100})),(z=z.map(function(J){return Math.max(Math.min(J,1),0)})).length)return x.default._hslaToRGBA(z);if(m.HSB.test(V)?(z=m.HSB.exec(V).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:parseInt(J,10)/100}))[3]=1:m.HSBA.test(V)&&(z=m.HSBA.exec(V).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:3===q?parseFloat(J):parseInt(J,10)/100})),z.length){for(E=z.length-1;0<=E;--E)z[E]=Math.max(Math.min(z[E],1),0);return x.default._hsbaToRGBA(z)}z=[1,1,1,1]}else{if(1!==I&&2!==I||"number"!=typeof P)throw new Error("".concat(arguments,"is not a valid color representation."));z[0]=P/Y[2],z[1]=P/Y[2],z[2]=P/Y[2],z[3]="number"==typeof j?j/Y[3]:1,z=z.map(function(J){return Math.max(Math.min(J,1),0)})}return z}}],(F=[{key:"toString",value:function(P){var j=this.levels,V=this._array,k=V[3];switch(P){case"#rrggbb":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16));case"#rrggbbaa":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16),j[3]<16?"0".concat(j[3].toString(16)):j[3].toString(16));case"#rgb":return"#".concat(Math.round(15*V[0]).toString(16),Math.round(15*V[1]).toString(16),Math.round(15*V[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*V[0]).toString(16),Math.round(15*V[1]).toString(16),Math.round(15*V[2]).toString(16),Math.round(15*V[3]).toString(16));case"rgb":return"rgb(".concat(j[0],", ",j[1],", ",j[2],")");case"rgb%":return"rgb(".concat((100*V[0]).toPrecision(3),"%, ",(100*V[1]).toPrecision(3),"%, ",(100*V[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*V[0]).toPrecision(3),"%, ",(100*V[1]).toPrecision(3),"%, ",(100*V[2]).toPrecision(3),"%, ",(100*V[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],", ",k,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],", ",k,")");case"hsla%":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");default:return"rgba(".concat(j[0],",",j[1],",",j[2],",",k,")")}}},{key:"setRed",value:function(P){this._array[0]=P/this.maxes[f.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(P){this._array[1]=P/this.maxes[f.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(P){this._array[2]=P/this.maxes[f.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(P){this._array[3]=P/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var P=this._array,j=this.levels=new Array(P.length),V=P.length-1;0<=V;--V)j[V]=Math.round(255*P[V]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(P,j){this.mode=P,this.maxes=j}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[f.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[f.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[f.RGB][1]}},{key:"_getHue",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[f.HSB][0]):(this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[f.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[f.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[f.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[f.HSB][1]):(this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[f.HSL][1])}}])&&a(M.prototype,F),N&&a(M,N),b}(),S.default=p=h.default.Color},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(o,$,S){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var a=x();if(a&&a.has(i))return a.get(i);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in i){var l;Object.prototype.hasOwnProperty.call(i,d)&&((l=u?Object.getOwnPropertyDescriptor(i,d):null)&&(l.get||l.set)?Object.defineProperty(c,d,l):c[d]=i[d])}return c.default=i,a&&a.set(i,c),c}(o("../core/constants"));function x(){var i;return"function"!=typeof WeakMap?null:(x=function(){return i},i=new WeakMap)}o("./p5.Color"),h.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},h.default.prototype.endClip=function(){this._renderer.endClip()},h.default.prototype.clip=function(i,a){this._renderer.beginClip(a),i(),this._renderer.endClip(a)},h.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},h.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},h.default.prototype.colorMode=function(i,a,d,c,u){return h.default._validateParameters("colorMode",arguments),i!==f.RGB&&i!==f.HSB&&i!==f.HSL||(this._colorMode=i,i=this._colorMaxes[i],2===arguments.length?(i[0]=a,i[1]=a,i[2]=a,i[3]=a):4===arguments.length?(i[0]=a,i[1]=d,i[2]=c):5===arguments.length&&(i[0]=a,i[1]=d,i[2]=c,i[3]=u)),this},h.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},h.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},h.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},h.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},h.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},h.default.prototype.noErase=function(){return this._renderer.noErase(),this};var w=h.default;S.default=w},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(o,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.QUADRATIC=S.LINEAR=S._CTX_MIDDLE=S._DEFAULT_LEADMULT=S._DEFAULT_TEXT_FILL=S.WORD=S.CHAR=S.BOLDITALIC=S.BOLD=S.ITALIC=S.NORMAL=S.BLUR=S.ERODE=S.DILATE=S.POSTERIZE=S.INVERT=S.OPAQUE=S.GRAY=S.THRESHOLD=S.BURN=S.DODGE=S.SOFT_LIGHT=S.HARD_LIGHT=S.OVERLAY=S.REPLACE=S.SCREEN=S.MULTIPLY=S.EXCLUSION=S.SUBTRACT=S.DIFFERENCE=S.LIGHTEST=S.DARKEST=S.ADD=S.REMOVE=S.BLEND=S.UP_ARROW=S.TAB=S.SHIFT=S.RIGHT_ARROW=S.RETURN=S.OPTION=S.LEFT_ARROW=S.ESCAPE=S.ENTER=S.DOWN_ARROW=S.DELETE=S.CONTROL=S.BACKSPACE=S.ALT=S.AUTO=S.HSL=S.HSB=S.RGB=S.MITER=S.BEVEL=S.ROUND=S.SQUARE=S.PROJECT=S.PIE=S.CHORD=S.OPEN=S.CLOSE=S.TESS=S.QUAD_STRIP=S.QUADS=S.TRIANGLE_STRIP=S.TRIANGLE_FAN=S.TRIANGLES=S.LINE_LOOP=S.LINE_STRIP=S.LINES=S.POINTS=S.BASELINE=S.BOTTOM=S.TOP=S.CENTER=S.LEFT=S.RIGHT=S.RADIUS=S.CORNERS=S.CORNER=S.RAD_TO_DEG=S.DEG_TO_RAD=S.RADIANS=S.DEGREES=S.TWO_PI=S.TAU=S.QUARTER_PI=S.PI=S.HALF_PI=S.WAIT=S.TEXT=S.MOVE=S.HAND=S.CROSS=S.ARROW=S.WEBGL2=S.WEBGL=S.P2D=S.VERSION=void 0,S.RGBA=S.HALF_FLOAT=S.FLOAT=S.UNSIGNED_INT=S.UNSIGNED_BYTE=S.COVER=S.CONTAIN=S.FALLBACK=S.LABEL=S.AXES=S.GRID=S._DEFAULT_FILL=S._DEFAULT_STROKE=S.PORTRAIT=S.LANDSCAPE=S.SMOOTH=S.FLAT=S.MIRROR=S.CLAMP=S.REPEAT=S.NEAREST=S.IMAGE=S.IMMEDIATE=S.TEXTURE=S.FILL=S.STROKE=S.CURVE=S.BEZIER=void 0;var v=Math.PI,_=(S.VERSION="1.9.2",S.P2D="p2d",S.WEBGL="webgl",S.WEBGL2="webgl2",S.ARROW="default",S.CROSS="crosshair",S.HAND="pointer",S.MOVE="move",S.TEXT="text",S.WAIT="wait",v/2);S.HALF_PI=_,S.PI=_=v,S.QUARTER_PI=_=v/4,S.TAU=_=2*v,S.TWO_PI=_=2*v,S.DEGREES="degrees",S.RADIANS="radians",S.DEG_TO_RAD=_=v/180,S.RAD_TO_DEG=_=180/v,S.CORNER="corner",S.CORNERS="corners",S.RADIUS="radius",S.RIGHT="right",S.LEFT="left",S.CENTER="center",S.TOP="top",S.BOTTOM="bottom",S.BASELINE="alphabetic",S.POINTS=0,S.LINES=1,S.LINE_STRIP=3,S.LINE_LOOP=2,S.TRIANGLES=4,S.TRIANGLE_FAN=6,S.TRIANGLE_STRIP=5,S.QUADS="quads",S.QUAD_STRIP="quad_strip",S.TESS="tess",S.CLOSE="close",S.OPEN="open",S.CHORD="chord",S.PIE="pie",S.PROJECT="square",S.SQUARE="butt",S.ROUND="round",S.BEVEL="bevel",S.MITER="miter",S.RGB="rgb",S.HSB="hsb",S.HSL="hsl",S.AUTO="auto",S.ALT=18,S.BACKSPACE=8,S.CONTROL=17,S.DELETE=46,S.DOWN_ARROW=40,S.ENTER=13,S.ESCAPE=27,S.LEFT_ARROW=37,S.OPTION=18,S.RETURN=13,S.RIGHT_ARROW=39,S.SHIFT=16,S.TAB=9,S.UP_ARROW=38,S.BLEND="source-over",S.REMOVE="destination-out",S.ADD="lighter",S.DARKEST="darken",S.LIGHTEST="lighten",S.DIFFERENCE="difference",S.SUBTRACT="subtract",S.EXCLUSION="exclusion",S.MULTIPLY="multiply",S.SCREEN="screen",S.REPLACE="copy",S.OVERLAY="overlay",S.HARD_LIGHT="hard-light",S.SOFT_LIGHT="soft-light",S.DODGE="color-dodge",S.BURN="color-burn",S.THRESHOLD="threshold",S.GRAY="gray",S.OPAQUE="opaque",S.INVERT="invert",S.POSTERIZE="posterize",S.DILATE="dilate",S.ERODE="erode",S.BLUR="blur",S.NORMAL="normal",S.ITALIC="italic",S.BOLD="bold",S.BOLDITALIC="bold italic",S.CHAR="CHAR",S.WORD="WORD",S._DEFAULT_TEXT_FILL="#000000",S._DEFAULT_LEADMULT=1.25,S._CTX_MIDDLE="middle",S.LINEAR="linear",S.QUADRATIC="quadratic",S.BEZIER="bezier",S.CURVE="curve",S.STROKE="stroke",S.FILL="fill",S.TEXTURE="texture",S.IMMEDIATE="immediate",S.IMAGE="image",S.NEAREST="nearest",S.REPEAT="repeat",S.CLAMP="clamp",S.MIRROR="mirror",S.FLAT="flat",S.SMOOTH="smooth",S.LANDSCAPE="landscape",S.PORTRAIT="portrait",S._DEFAULT_STROKE="#000000",S._DEFAULT_FILL="#FFFFFF",S.GRID="grid",S.AXES="axes",S.LABEL="label",S.FALLBACK="fallback",S.CONTAIN="contain",S.COVER="cover",S.UNSIGNED_BYTE="unsigned-byte",S.UNSIGNED_INT="unsigned-int",S.FLOAT="float",S.HALF_FLOAT="half-float",S.RGBA="rgba"},{}],270:[function(o,$,S){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function _(u){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(f=o("./main"))&&f.__esModule?f:{default:f},f=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==_(u)&&"function"!=typeof u)return{default:u};var l=x();if(l&&l.has(u))return l.get(u);var m,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in u){var M;Object.prototype.hasOwnProperty.call(u,m)&&((M=b?Object.getOwnPropertyDescriptor(u,m):null)&&(M.get||M.set)?Object.defineProperty(p,m,M):p[m]=u[m])}return p.default=u,l&&l.set(u,p),p}(o("./constants"));function x(){var u;return"function"!=typeof WeakMap?null:(x=function(){return u},u=new WeakMap)}var w=[f.ARROW,f.CROSS,f.HAND,f.MOVE,f.TEXT,f.WAIT],i=(h.default.prototype._frameRate=0,h.default.prototype._lastFrameTime=window.performance.now(),h.default.prototype._targetFrameRate=60,window.print),a=!1;function d(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function c(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}h.default.prototype.print=function(){var u;arguments.length?(u=console).log.apply(u,arguments):a||(i(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(a=!0))},h.default.prototype.frameCount=0,h.default.prototype.deltaTime=0,h.default.prototype.focused=document.hasFocus(),h.default.prototype.cursor=function(u,l,m){var p,b="auto",M=this._curElement.elt;w.includes(u)?b=u:"string"==typeof u&&(p="",l&&m&&"number"==typeof l&&"number"==typeof m&&(p="".concat(l," ").concat(m)),b="http://"===u.substring(0,7)||"https://"===u.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(u)?"url(".concat(u,") ").concat(p,", auto"):u),M.style.cursor=b},h.default.prototype.frameRate=function(u){return h.default._validateParameters("frameRate",arguments),"number"!=typeof u||u<0?this._frameRate:(this._setProperty("_targetFrameRate",u),0===u&&this._setProperty("_frameRate",u),this)},h.default.prototype.getFrameRate=function(){return this.frameRate()},h.default.prototype.setFrameRate=function(u){return this.frameRate(u)},h.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},h.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},h.default.prototype.webglVersion=f.P2D,h.default.prototype.displayWidth=screen.width,h.default.prototype.displayHeight=screen.height,h.default.prototype.windowWidth=d(),h.default.prototype.windowHeight=c(),h.default.prototype._onresize=function(u){this._setProperty("windowWidth",d()),this._setProperty("windowHeight",c());var l=this._isGlobal?window:this;"function"!=typeof l.windowResized||void 0===(l=l.windowResized(u))||l||u.preventDefault()},h.default.prototype.width=0,h.default.prototype.height=0,h.default.prototype.fullscreen=function(u){if(h.default._validateParameters("fullscreen",arguments),void 0===u)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(u){if(u=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");u.requestFullscreen?u.requestFullscreen():u.mozRequestFullScreen?u.mozRequestFullScreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen():u.msRequestFullscreen&&u.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},h.default.prototype.pixelDensity=function(u){var l;return h.default._validateParameters("pixelDensity",arguments),"number"==typeof u?(u!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=u),(l=this).resizeCanvas(this.width,this.height,!0)):l=this._pixelDensity,l},h.default.prototype.displayDensity=function(){return window.devicePixelRatio},h.default.prototype.getURL=function(){return location.href},h.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(u){return""!==u})},h.default.prototype.getURLParams=function(){for(var u,l=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};null!=(u=l.exec(location.search));)u.index===l.lastIndex&&l.lastIndex++,m[u[1]]=u[2];return m},S.default=o=h.default},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(w=o("../main"))&&w.__esModule?w:{default:w};function _(i,a){a=a||console.log.bind(console),h||x(),h.some(function(d){var c;if(i.message&&null!==i.message.match("\\W?".concat(d.name,"\\W")))return c="function"===d.type?"".concat(d.name,"()"):d.name,a("Did you just try to use p5.js's ".concat(c," ").concat(d.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(f)),!0})}o("../internationalization");var h=null,x=null,f=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},h=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),w=(x=function(){function i(d){return Object.getOwnPropertyNames(d).filter(function(c){return"_"!==c[0]&&!(c in a)&&(a[c]=!0)}).map(function(c){var u="function"==typeof d[c]?"function":c===c.toUpperCase()?"constant":"variable";return{name:c,type:u}})}var a={};(h=[].concat(i(v.default.prototype),i(o("../constants")))).sort(function(d,c){return c.name.length-d.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=_,"complete"!==document.readyState&&(window.addEventListener("error",_,!1),window.addEventListener("load",function(){window.removeEventListener("error",_,!1)})),v.default);S.default=w},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(o,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(v=o("../main"))&&v.__esModule?v:{default:v};o("../internationalization"),v.default._friendlyFileLoadError=function(){},S.default=o=v.default},{"../internationalization":278,"../main":280}],273:[function(o,$,S){"use strict";function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se})(L)}function _(L){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(se){return v(se)}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":v(se)})(L)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=function J(L){return L&&L.__esModule?L:{default:L}}(o("../main"));function z(){var L;return"function"!=typeof WeakMap?null:(z=function(){return L},L=new WeakMap)}o("../internationalization"),function te(L){if(L&&L.__esModule)return L;if(null===L||"object"!==_(L)&&"function"!=typeof L)return{default:L};var se=z();if(se&&se.has(L))return se.get(L);var pe,Ce,Fe={},We=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(pe in L)Object.prototype.hasOwnProperty.call(L,pe)&&((Ce=We?Object.getOwnPropertyDescriptor(L,pe):null)&&(Ce.get||Ce.set)?Object.defineProperty(Fe,pe,Ce):Fe[pe]=L[pe]);return Fe.default=L,se&&se.set(L,Fe),Fe}(o("../constants")),h.default._fesCodeReader=function(){},S.default=h.default},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(o,$,S){"use strict";function v(){var _=/(^|@)\S+:\d+/,h=/^\s*at .*(\S+:\d+|\(native\))/m,f=/^(eval@)?(\[native code])?$/;return{parse:function(x){return void 0!==x.stacktrace||void 0!==x["opera#sourceloc"]?this.parseOpera(x):x.stack&&x.stack.match(h)?this.parseV8OrIE(x):x.stack?this.parseFFOrSafari(x):void 0},extractLocation:function(x){return-1===x.indexOf(":")?[x]:[(x=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(x.replace(/[()]/g,"")))[1],x[2]||void 0,x[3]||void 0]},parseV8OrIE:function(x){return x.stack.split("\n").filter(function(w){return!!w.match(h)},this).map(function(w){var a=(i=(w=-1<w.indexOf("(eval ")?w.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):w).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),i=(i=a?i.replace(a[0],""):i).split(/\s+/).slice(1);return a=this.extractLocation(a?a[1]:i.pop()),{functionName:i.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(a[0])?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:w}},this)},parseFFOrSafari:function(x){return x.stack.split("\n").filter(function(w){return!w.match(f)},this).map(function(w){var i,a;return-1===(w=-1<w.indexOf(" > eval")?w.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):w).indexOf("@")&&-1===w.indexOf(":")?{functionName:w}:{functionName:(a=w.match(i=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&a[1]?a[1]:void 0,fileName:(a=this.extractLocation(w.replace(i,"")))[0],lineNumber:a[1],columnNumber:a[2],source:w}},this)},parseOpera:function(x){return!x.stacktrace||-1<x.message.indexOf("\n")&&x.message.split("\n").length>x.stacktrace.split("\n").length?this.parseOpera9(x):x.stack?this.parseOpera11(x):this.parseOpera10(x)},parseOpera9:function(x){for(var w=/Line (\d+).*script (?:in )?(\S+)/i,i=x.message.split("\n"),a=[],d=2,c=i.length;d<c;d+=2){var u=w.exec(i[d]);u&&a.push({fileName:u[2],lineNumber:u[1],source:i[d]})}return a},parseOpera10:function(x){for(var w=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=x.stacktrace.split("\n"),a=[],d=0,c=i.length;d<c;d+=2){var u=w.exec(i[d]);u&&a.push({functionName:u[3]||void 0,fileName:u[2],lineNumber:u[1],source:i[d]})}return a},parseOpera11:function(x){return x.stack.split("\n").filter(function(w){return!!w.match(_)&&!w.match(/^Error created at/)},this).map(function(w){var i,d=w.split("@"),a=this.extractLocation(d.pop());return{functionName:(d=d.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(i=d.match(/\(([^)]*)\)/)?d.replace(/^[^(]+\(([^)]*)\)$/,"$1"):i)||"[arguments not available]"===i?void 0:i.split(","),fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:w}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new v},S.default=o=o.default},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(o,$,S){"use strict";function v(x){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(_=o("../main"))&&_.__esModule?_:{default:_};function h(){var x;return"function"!=typeof WeakMap?null:(h=function(){return x},x=new WeakMap)}function f(x){return(f="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(x)}(function(x){if(!(x&&x.__esModule||null===x||"object"!==f(x)&&"function"!=typeof x)){var w=h();if(w&&w.has(x))return w.get(x);var i,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in x){var c;Object.prototype.hasOwnProperty.call(x,i)&&((c=d?Object.getOwnPropertyDescriptor(x,i):null)&&(c.get||c.set)?Object.defineProperty(a,i,c):a[i]=x[i])}a.default=x,w&&w.set(x,a)}})(o("../constants")),o("../internationalization"),_.default._validateParameters=_.default._clearValidateParamsCache=function(){},S.default=o=_.default},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(o,$,S){"use strict";function v(x){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function _(x){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(x)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=function(x){if(x&&x.__esModule)return x;if(null===x||"object"!==_(x)&&"function"!=typeof x)return{default:x};var w=f();if(w&&w.has(x))return w.get(x);var i,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in x){var c;Object.prototype.hasOwnProperty.call(x,i)&&((c=d?Object.getOwnPropertyDescriptor(x,i):null)&&(c.get||c.set)?Object.defineProperty(a,i,c):a[i]=x[i])}return a.default=x,w&&w.set(x,a),a}(o("./constants"));function f(){var x;return"function"!=typeof WeakMap?null:(f=function(){return x},x=new WeakMap)}S.default={modeAdjust:function(x,w,i,a,d){return d===h.CORNER?{x,y:w,w:i,h:a}:d===h.CORNERS?{x,y:w,w:i-x,h:a-w}:d===h.RADIUS?{x:x-i,y:w-a,w:2*i,h:2*a}:d===h.CENTER?{x:x-.5*i,y:w-.5*a,w:i,h:a}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(o,$,S){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(_=o("../core/main"))&&_.__esModule?_:{default:_};o("./internationalization");var _=Promise.resolve();Promise.all([new Promise(function(h,f){"complete"===document.readyState?h():window.addEventListener("load",h,!1)}),_]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default})},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(o,$,S){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.setTranslatorLanguage=S.currentTranslatorLanguage=S.availableTranslatorLanguages=S.initialize=S.translator=void 0;var v,h=x(o("i18next")),f=x(o("i18next-browser-languagedetector"));function x(a){return a&&a.__esModule?a:{default:a}}function w(a,d){for(var c=0;c<d.length;c++){var u=d[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}var i=function(){function a(l,m){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.init(l,m)}var d,c;return d=a,(c=[{key:"fetchWithTimeout",value:function(l,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(l,m),new Promise(function(b,M){return setTimeout(function(){return M(new Error("timeout"))},p)})])}},{key:"init",value:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=l,this.options=m}},{key:"read",value:function(l,m,p){var b=this.options.loadPath;l===this.options.fallback?p(null,v[l][m]):undefined.includes(l)?(b=this.services.interpolator.interpolate(b,{lng:l,ns:m}),this.loadUrl(b,p)):p("Not found",!1)}},{key:"loadUrl",value:function(l,m){this.fetchWithTimeout(l).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(l))},function(){throw new Error("failed loading ".concat(l))}).then(function(p){return m(null,p)}).catch(m)}}])&&w(d.prototype,c),a}();i.type="backend",S.translator=function(a,d){console.debug("p5.js translator called before translations were loaded"),h.default.t(a,d)},S.initialize=function(){return h.default.use(f.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(a){S.translator=a},function(a){return console.debug("Translations failed to load (".concat(a,")"))})},S.availableTranslatorLanguages=function(){return h.default.languages},S.currentTranslatorLanguage=function(a){return h.default.language},S.setTranslatorLanguage=function(a){return h.default.changeLanguage(a||void 0,function(d){return console.debug("Translations failed to load (".concat(d,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(o,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},S.default=o=o.default},{"./main":280}],280:[function(o,$,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,o("./shim");var h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var d=f();if(d&&d.has(a))return d.get(a);var c,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var m;Object.prototype.hasOwnProperty.call(a,c)&&((m=l?Object.getOwnPropertyDescriptor(a,c):null)&&(m.get||m.set)?Object.defineProperty(u,c,m):u[c]=a[c])}return u.default=a,d&&d.set(a,u),u}(o("./constants"));function f(){var a;return"function"!=typeof WeakMap?null:(f=function(){return a},a=new WeakMap)}function x(a,d){for(var c=0;c<d.length;c++){var u=d[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}var w,i=function(){function a(l,b){var p=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=b,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},b=Object.getOwnPropertyNames(a.prototype._registeredMethods);var M=!0,F=!1,N=void 0;try{for(var P,j=b[Symbol.iterator]();!(M=(P=j.next()).done);M=!0){var V=P.value;this._registeredMethods[V]=a.prototype._registeredMethods[V].slice()}}catch(q){F=!0,N=q}finally{try{M||null==j.return||j.return()}finally{if(F)throw N}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),a.prototype.callRegisteredHooksFor=function(q){var ne=this||a.prototype,fe=this._isGlobal?window:this;if(ne._registeredMethods.hasOwnProperty(q)){ne=ne._registeredMethods[q];var De=!0,K=void(q=!1);try{for(var L,se=ne[Symbol.iterator]();!(De=(L=se.next()).done);De=!0){var pe=L.value;"function"==typeof pe&&pe.call(fe)}}catch(We){q=!0,K=We}finally{try{De||null==se.return||se.return()}finally{if(q)throw K}}}},this._start=function(){p._userNode&&"string"==typeof p._userNode&&(p._userNode=document.getElementById(p._userNode));var q=p._isGlobal?window:p;if(q.preload){p.callRegisteredHooksFor("beforePreload");var ne,fe=document.getElementById(p._loadingScreenId),De=(fe||((fe=document.createElement("div")).innerHTML="Loading...",fe.style.position="absolute",fe.id=p._loadingScreenId,(p._userNode||document.body).appendChild(fe)),p._preloadMethods);for(ne in De){De[ne]=De[ne]||a;var K=De[ne];K!==a.prototype&&K!==a||(p._isGlobal&&(window[ne]=p._wrapPreload(p,ne)),K=p),p._registeredPreloadMethods[ne]=K[ne],K[ne]=p._wrapPreload(K,ne)}q.preload(),p._runIfPreloadsAreDone()}else p._setup(),p._recording||p._draw()},this._runIfPreloadsAreDone=function(){var q,ne=this._isGlobal?window:this;0===ne._preloadCount&&((q=document.getElementById(ne._loadingScreenId))&&q.parentNode.removeChild(q),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),ne._setup(),this._recording||ne._draw()))},this._decrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||"function"!=typeof q.preload||(q._setProperty("_preloadCount",q._preloadCount-1),q._runIfPreloadsAreDone())},this._wrapPreload=function(q,ne){var fe=this;return function(){fe._incrementPreload();for(var De=arguments.length,K=new Array(De),L=0;L<De;L++)K[L]=arguments[L];return fe._registeredPreloadMethods[ne].apply(q,K)}},this._incrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||q._setProperty("_preloadCount",q._preloadCount+1)},this._setup=function(){p.callRegisteredHooksFor("beforeSetup"),p.createCanvas(p._defaultCanvasSize.width,p._defaultCanvasSize.height,"p2d");var q=p._isGlobal?window:p;if("function"==typeof q.preload)for(var ne in p._preloadMethods)q[ne]=p._preloadMethods[ne][ne],q[ne]&&p&&(q[ne]=q[ne].bind(p));p._millisStart=window.performance.now(),q._preloadDone=!0,"function"==typeof q.setup&&q.setup();var fe=document.getElementsByTagName("canvas"),De=!0,K=!1,L=void 0;try{for(var se,pe=fe[Symbol.iterator]();!(De=(se=pe.next()).done);De=!0){var Ce=se.value;"true"===Ce.dataset.hidden&&(Ce.style.visibility="",delete Ce.dataset.hidden)}}catch(Fe){K=!0,L=Fe}finally{try{De||null==pe.return||pe.return()}finally{if(K)throw L}}p._lastTargetFrameTime=window.performance.now(),p._lastRealFrameTime=window.performance.now(),p._setupDone=!0,(p._accessibleOutputs.grid||p._accessibleOutputs.text)&&p._updateAccsOutput(),p.callRegisteredHooksFor("afterSetup")},this._draw=function(){var q=window.performance.now(),fe=1e3/p._targetFrameRate;(!p._loop||fe-5<=q-p._lastTargetFrameTime)&&(p.deltaTime=q-p._lastRealFrameTime,p._setProperty("deltaTime",p.deltaTime),p._frameRate=1e3/p.deltaTime,p.redraw(),p._lastTargetFrameTime=Math.max(p._lastTargetFrameTime+fe,q),p._lastRealFrameTime=q,void 0!==p._updateMouseCoords&&(p._updateMouseCoords(),p._setProperty("movedX",0),p._setProperty("movedY",0))),p._loop&&(p._requestAnimId=window.requestAnimationFrame(p._draw))},this._setProperty=function(q,ne){p[q]=ne,p._isGlobal&&(window[q]=ne)},this.remove=function(){if(p._startListener&&window.removeEventListener("load",p._startListener,!1),(q=document.getElementById(p._loadingScreenId))&&(q.parentNode.removeChild(q),p._incrementPreload()),p._curElement){for(var ne in p._loop=!1,p._requestAnimId&&window.cancelAnimationFrame(p._requestAnimId),p._events)window.removeEventListener(ne,p._events[ne]);var fe=!0,q=!1,De=void 0;try{for(var K,L=p._elements[Symbol.iterator]();!(fe=(K=L.next()).done);fe=!0){var se,pe=K.value;for(se in pe.elt&&pe.elt.parentNode&&pe.elt.parentNode.removeChild(pe.elt),pe._events)pe.elt.removeEventListener(se,pe._events[se])}}catch(Oe){q=!0,De=Oe}finally{try{fe||null==L.return||L.return()}finally{if(q)throw De}}var Ce=p;p._registeredMethods.remove.forEach(function(Oe){void 0!==Oe&&Oe.call(Ce)})}if(p._isGlobal){for(var Fe in a.prototype)try{delete window[Fe]}catch{window[Fe]=void 0}for(var We in p)if(p.hasOwnProperty(We))try{delete window[We]}catch{window[We]=void 0}a.instance=null}},this._registeredMethods.init.forEach(function(q){void 0!==q&&q.call(this)},this),this._setupPromisePreloads();var k,E,I=this._createFriendlyGlobalFunctionBinder();if(l)l(this),a._checkForUserDefinedFunctions(this);else{for(var W in this._isGlobal=!0,a.instance=this,a.prototype)"function"==typeof a.prototype[W]?(k=W.substring(2),this._events.hasOwnProperty(k)||(Math.hasOwnProperty(W)&&Math[W]===a.prototype[W]?I(W,a.prototype[W]):I(W,a.prototype[W].bind(this)))):I(W,a.prototype[W]);for(var Y in this)this.hasOwnProperty(Y)&&I(Y,this[Y])}for(E in this._events){var z=this["_on".concat(E)];z&&(z=z.bind(this),window.addEventListener(E,z,{passive:!1}),this._events[E]=z)}function te(){p._setProperty("focused",!0)}function J(){p._setProperty("focused",!1)}window.addEventListener("focus",te),window.addEventListener("blur",J),this.registerMethod("remove",function(){window.removeEventListener("focus",te),window.removeEventListener("blur",J)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var d,c;return d=a,(c=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=h.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(l,m){a.prototype._preloadMethods.hasOwnProperty(l)||(a.prototype._preloadMethods[l]=m)}},{key:"registerMethod",value:function(l,m){var p=this||a.prototype;p._registeredMethods.hasOwnProperty(l)||(p._registeredMethods[l]=[]),p._registeredMethods[l].push(m)}},{key:"unregisterMethod",value:function(l,m){var p=this||a.prototype;if(p._registeredMethods.hasOwnProperty(l)){for(var b=p._registeredMethods[l],M=[],F=0;F<b.length;F++)b[F]===m&&M.push(F);for(var N=M.length-1;0<=N;N--)b.splice(M[N],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},m=l.globalObject||window;return l.log||console.log.bind(console),function(p,b){m[p]=b}}}])&&x(d.prototype,c),a}();for(w in i.instance=null,i.disableFriendlyErrors=!1,h)i.prototype[w]=h[w];i.VERSION=h.VERSION,i.prototype._preloadMethods={loadJSON:i.prototype,loadImage:i.prototype,loadStrings:i.prototype,loadXML:i.prototype,loadBytes:i.prototype,loadTable:i.prototype,loadFont:i.prototype,loadModel:i.prototype,loadShader:i.prototype},i.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},i.prototype._registeredPreloadMethods={},S.default=i},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(o,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};function _(h,f){for(var x=0;x<f.length;x++){var w=f[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}v.default.Element=function(){function h(i,a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.elt=i,this._pInst=this._pixelsState=a,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var f,x,w;return f=h,w=[{key:"_adjustListener",value:function(i,a,d){return!1===a?v.default.Element._detachListener(i,d):v.default.Element._attachListener(i,a,d),this}},{key:"_attachListener",value:function(i,a,d){d._events[i]&&v.default.Element._detachListener(i,d),a=a.bind(d),d.elt.addEventListener(i,a,!1),d._events[i]=a}},{key:"_detachListener",value:function(i,a){a.elt.removeEventListener(i,a._events[i],!1),a._events[i]=null}}],(x=[{key:"parent",value:function(i){return void 0===i?this.elt.parentNode:("string"==typeof i?("#"===i[0]&&(i=i.substring(1)),i=document.getElementById(i)):i instanceof v.default.Element&&(i=i.elt),i.appendChild(this.elt),this)}},{key:"id",value:function(i){return void 0===i?this.elt.id:(this.elt.id=i,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(i){return void 0===i?this.elt.className:(this.elt.className=i,this)}},{key:"mousePressed",value:function(i){return v.default.Element._adjustListener("mousedown",function(a){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(a),i.call(this,a)},this),this}},{key:"doubleClicked",value:function(i){return v.default.Element._adjustListener("dblclick",i,this),this}},{key:"mouseWheel",value:function(i){return v.default.Element._adjustListener("wheel",i,this),this}},{key:"mouseReleased",value:function(i){return v.default.Element._adjustListener("mouseup",i,this),this}},{key:"mouseClicked",value:function(i){return v.default.Element._adjustListener("click",i,this),this}},{key:"mouseMoved",value:function(i){return v.default.Element._adjustListener("mousemove",i,this),this}},{key:"mouseOver",value:function(i){return v.default.Element._adjustListener("mouseover",i,this),this}},{key:"mouseOut",value:function(i){return v.default.Element._adjustListener("mouseout",i,this),this}},{key:"touchStarted",value:function(i){return v.default.Element._adjustListener("touchstart",i,this),this}},{key:"touchMoved",value:function(i){return v.default.Element._adjustListener("touchmove",i,this),this}},{key:"touchEnded",value:function(i){return v.default.Element._adjustListener("touchend",i,this),this}},{key:"dragOver",value:function(i){return v.default.Element._adjustListener("dragover",i,this),this}},{key:"dragLeave",value:function(i){return v.default.Element._adjustListener("dragleave",i,this),this}},{key:"_setProperty",value:function(i,a){this[i]=a}}])&&_(f.prototype,x),w&&_(f,w),h}(),S.default=o=v.default.Element},{"./main":280}],282:[function(o,$,S){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function _(m){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(l=o("./main"))&&l.__esModule?l:{default:l},f=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==_(m)&&"function"!=typeof m)return{default:m};var p=x();if(p&&p.has(m))return p.get(m);var b,M={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var N;Object.prototype.hasOwnProperty.call(m,b)&&((N=F?Object.getOwnPropertyDescriptor(m,b):null)&&(N.get||N.set)?Object.defineProperty(M,b,N):M[b]=m[b])}return M.default=m,p&&p.set(m,M),M}(o("./constants"));function x(){var m;return"function"!=typeof WeakMap?null:(x=function(){return m},m=new WeakMap)}function w(m,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(m,M.key,M)}}function i(m,p){return(i=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(m,p)}function d(m,p){return!p||"object"!==_(p)&&"function"!=typeof p?c(m):p}function c(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(m){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}h.default.Graphics=function(m){var p=F;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&i(p,m);var M=function a(m){return function(){var p,b=u(m);return d(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=u(this).constructor,Reflect.construct(b,arguments,p)):b.apply(this,arguments))}}(F);function F(N,P,Y,V,k){var E;if(!(this instanceof F))throw new TypeError("Cannot call a class as a function");W=k||document.createElement("canvas"),(E=M.call(this,W,V)).canvas=W;var I,W=Y||f.P2D;for(I in Y=V._userNode||document.body,k||Y.appendChild(E.canvas),h.default.prototype)E[I]||(E[I]="function"==typeof h.default.prototype[I]?h.default.prototype[I].bind(c(E)):h.default.prototype[I]);return h.default.prototype._initializeInstanceVariables.apply(c(E)),E.width=N,E.height=P,E._pixelDensity=V._pixelDensity,W===f.WEBGL?(E._renderer=new h.default.RendererGL(E.canvas,c(E),!1),N=(k=E._renderer._adjustDimensions(N,P)).adjustedWidth,P=k.adjustedHeight):E._renderer=new h.default.Renderer2D(E.canvas,c(E),!1),V._elements.push(c(E)),Object.defineProperty(c(E),"deltaTime",{get:function(){return this._pInst.deltaTime}}),E._renderer.resize(N,P),E._renderer._applyDefaults(),d(E,c(E))}return p=F,(m=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var N,P=this._pInst._elements.indexOf(this);for(N in-1!==P&&this._pInst._elements.splice(P,1),this._events)this.elt.removeEventListener(N,this._events[N])}},{key:"createFramebuffer",value:function(N){return new h.default.Framebuffer(this,N)}}])&&w(p.prototype,m),F}(h.default.Element);var l=h.default.Graphics;S.default=l},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(o,$,S){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(u=o("./main"))&&u.__esModule?u:{default:u},h=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==x(m)&&"function"!=typeof m)return{default:m};var p=f();if(p&&p.has(m))return p.get(m);var b,M={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var N;Object.prototype.hasOwnProperty.call(m,b)&&((N=F?Object.getOwnPropertyDescriptor(m,b):null)&&(N.get||N.set)?Object.defineProperty(M,b,N):M[b]=m[b])}return M.default=m,p&&p.set(m,M),M}(o("../core/constants"));function f(){var m;return"function"!=typeof WeakMap?null:(f=function(){return m},m=new WeakMap)}function x(m){return(x="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(m)}function w(m,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(m,M.key,M)}}function i(m,p){return(i=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(m,p)}function d(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function c(m){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}var u=function(m){var p=F;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&i(p,m);var M=function a(m){return function(){var p,b,M=c(m);return p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=c(this).constructor,Reflect.construct(M,arguments,p)):M.apply(this,arguments),M=this,!(b=p)||"object"!==x(b)&&"function"!=typeof b?d(M):b}}(F);function F(N,P,j){var V;if(this instanceof F)return(V=M.call(this,N,P)).canvas=N,V._pixelsState=P,j?(V._isMainCanvas=!0,V._pInst._setProperty("_curElement",d(V)),V._pInst._setProperty("canvas",V.canvas),V._pInst._setProperty("width",V.width),V._pInst._setProperty("height",V.height)):(V.canvas.style.display="none",V._styles=[]),V._clipping=!1,V._clipInvert=!1,V._textSize=12,V._textLeading=15,V._textFont="sans-serif",V._textStyle=h.NORMAL,V._textAscent=null,V._textDescent=null,V._textAlign=h.LEFT,V._textBaseline=h.BASELINE,V._textWrap=h.WORD,V._rectMode=h.CORNER,V._ellipseMode=h.CENTER,V._curveTightness=0,V._imageMode=h.CORNER,V._tint=null,V._doStroke=!0,V._doFill=!0,V._strokeSet=!1,V._fillSet=!1,V._leadingSet=!1,V._pushPopDepth=0,V;throw new TypeError("Cannot call a class as a function")}return p=F,(m=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(N){this._pushPopDepth--,N.properties&&Object.assign(this,N.properties)}},{key:"beginClip",value:function(){var N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=N.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(N,P){this.width=N,this.height=P,this.elt.width=N*this._pInst._pixelDensity,this.elt.height=P*this._pInst._pixelDensity,this.elt.style.width="".concat(N,"px"),this.elt.style.height="".concat(P,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(N,P,j,V){var k=this._pixelsState,E=k._pixelDensity,I=this.canvas;if(void 0===N&&void 0===P)N=P=0,j=k.width,V=k.height;else if(N*=E,P*=E,void 0===j&&void 0===V)return N<0||P<0||N>=I.width||P>=I.height?[0,0,0,0]:this._getPixel(N,P);return(k=new _.default.Image(j*E,V*E)).pixelDensity(E),k.canvas.getContext("2d").drawImage(I,N,P,j*E,V*E,0,0,j*E,V*E),k}},{key:"textLeading",value:function(N){return"number"==typeof N?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",N),this._pInst):this._textLeading}},{key:"textStyle",value:function(N){return N?(N!==h.NORMAL&&N!==h.ITALIC&&N!==h.BOLD&&N!==h.BOLDITALIC||this._setProperty("_textStyle",N),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(N,P){return void 0!==N?(this._setProperty("_textAlign",N),void 0!==P&&this._setProperty("_textBaseline",P),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(N){return this._setProperty("_textWrap",N),this._textWrap}},{key:"text",value:function(N,P,j,V,k){var E,I,W,Y,z=this._pInst,te=this._textWrap,J=Number.MAX_VALUE,q=j;if((this._doFill||this._doStroke)&&void 0!==N){if(E=(N=(N="string"!=typeof N?N.toString():N).replace(/(\t)/g,"  ")).split("\n"),void 0!==V){switch(this._rectMode===h.CENTER&&(P-=V/2),this._textAlign){case h.CENTER:P+=V/2;break;case h.RIGHT:P+=V}if(void 0!==k){this._rectMode===h.CENTER&&(j-=k/2,q-=k/2),N=j;var ne=z.textAscent();switch(this._textBaseline){case h.BOTTOM:Y=j+k,j=Math.max(Y,j),q+=ne;break;case h.CENTER:Y=j+k/2,j=Math.max(Y,j),q+=ne/2}J=j+k-ne,this._textBaseline===h.CENTER&&(J=N+k-ne/2)}else this._textBaseline!==h.BOTTOM&&this._textBaseline!==h.CENTER||(q=j-(N=z.textSize()*this._textLeading)/2,J=j+N/2);if(te===h.WORD){for(var fe=[],De=0;De<E.length;De++){for(var K="",L=E[De].split(" "),se=0;se<L.length;se++)I="".concat(K+L[se])+" ",K=V<(W=this.textWidth(I))&&0<K.length?(fe.push(K),"".concat(L[se])+" "):I;fe.push(K)}var pe=0;this._textBaseline===h.CENTER?pe=(fe.length-1)*z.textLeading()/2:this._textBaseline===h.BOTTOM&&(pe=(fe.length-1)*z.textLeading());for(var Ce=0;Ce<E.length;Ce++){K="",L=E[Ce].split(" ");for(var Fe=0;Fe<L.length;Fe++)I="".concat(K+L[Fe])+" ",V<(W=this.textWidth(I))&&0<K.length?(this._renderText(z,K.trim(),P,j-pe,J,q),K="".concat(L[Fe])+" ",j+=z.textLeading()):K=I;this._renderText(z,K.trim(),P,j-pe,J,q),j+=z.textLeading()}}else{for(var We=[],tt=0;tt<E.length;tt++)for(var Oe=E[tt].split(K=""),ke=0;ke<Oe.length;ke++)I="".concat(K+Oe[ke]),(W=this.textWidth(I))<=V?K+=Oe[ke]:V<W&&0<K.length&&(We.push(K),K="".concat(Oe[ke]));We.push(K);var Be=0;this._textBaseline===h.CENTER?Be=(We.length-1)*z.textLeading()/2:this._textBaseline===h.BOTTOM&&(Be=(We.length-1)*z.textLeading());for(var je=0;je<E.length;je++){Oe=E[je].split(K="");for(var Qe=0;Qe<Oe.length;Qe++)I="".concat(K+Oe[Qe]),(W=this.textWidth(I))<=V?K+=Oe[Qe]:V<W&&0<K.length&&(this._renderText(z,K.trim(),P,j-Be,J,q),j+=z.textLeading(),K="".concat(Oe[Qe]))}this._renderText(z,K.trim(),P,j-Be,J,q),j+=z.textLeading()}}else{var Ke=0;this._textBaseline===h.CENTER?Ke=(E.length-1)*z.textLeading()/2:this._textBaseline===h.BOTTOM&&(Ke=(E.length-1)*z.textLeading());for(var gt=0;gt<E.length;gt++)this._renderText(z,E[gt],P,j-Ke,J,q-Ke),j+=z.textLeading()}return z}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===x(N)&&N.font&&N.font.supported}},{key:"_updateTextMetrics",value:function(){var N,P,j,V,k,E;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((N=document.createElement("span")).style.fontFamily=this._textFont,N.style.fontSize="".concat(this._textSize,"px"),N.innerHTML="ABCjgq|",(E=document.createElement("div")).style.display="inline-block",E.style.width="1px",E.style.height="0px",(P=document.createElement("div")).appendChild(N),P.appendChild(E),P.style.height="0px",P.style.overflow="hidden",document.body.appendChild(P),E.style.verticalAlign="baseline",V=l(E),k=l(N),j=V[1]-k[1],E.style.verticalAlign="bottom",V=l(E),k=l(N),E=V[1]-k[1]-j,document.body.removeChild(P),this._setProperty("_textAscent",j),this._setProperty("_textDescent",E)),this}}])&&w(p.prototype,m),F}(_.default.Element);function l(m){var p=0,b=0;if(m.offsetParent)for(;p+=m.offsetLeft,b+=m.offsetTop,m=m.offsetParent;);else p+=m.offsetLeft,b+=m.offsetTop;return[p,b]}u.prototype.textSize=function(m){return"number"==typeof m?(this._setProperty("_textSize",m),this._leadingSet||this._setProperty("_textLeading",m*h._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},_.default.Renderer=u,S.default=o=_.default.Renderer},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(m,$,S){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(b){return v(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":v(b)})(p)}m("core-js/modules/es.symbol"),m("core-js/modules/es.symbol.description"),m("core-js/modules/es.symbol.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-own-property-descriptor"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.reflect.construct"),m("core-js/modules/es.reflect.get"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.iterator"),m("core-js/modules/es.weak-map"),m("core-js/modules/web.dom-collections.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(l=m("./main"))&&l.__esModule?l:{default:l},f=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var b=x();if(b&&b.has(p))return b.get(p);var M,F={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in p){var P;Object.prototype.hasOwnProperty.call(p,M)&&((P=N?Object.getOwnPropertyDescriptor(p,M):null)&&(P.get||P.set)?Object.defineProperty(F,M,P):F[M]=p[M])}return F.default=p,b&&b.set(p,F),F}(m("./constants"));function x(){var p;return"function"!=typeof WeakMap?null:(x=function(){return p},p=new WeakMap)}function w(p,b){for(var M=0;M<b.length;M++){var F=b[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(p,F.key,F)}}function i(p,b,M){return(i=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(j,N,P){if(j=function(V,k){for(;!Object.prototype.hasOwnProperty.call(V,k)&&null!==(V=c(V)););return V}(j,N))return(j=Object.getOwnPropertyDescriptor(j,N)).get?j.get.call(P):j.value})(p,b,M||p)}function a(p,b){return(a=Object.setPrototypeOf||function(M,F){return M.__proto__=F,M})(p,b)}function c(p){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}m("./p5.Renderer");var u="rgba(0,0,0,0)",l=function(p){var b=N;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&a(b,p);var F=function d(p){return function(){var b,M=c(p);if(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=c(this).constructor,Reflect.construct(M,arguments,b)):M.apply(this,arguments),M=this,!b||"object"!==_(b)&&"function"!=typeof b){if(void 0!==M)return M;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}(N);function N(P,j,V){if(this instanceof N)return(P=F.call(this,P,j,V)).drawingContext=P.canvas.getContext("2d"),P._pInst._setProperty("drawingContext",P.drawingContext),P;throw new TypeError("Cannot call a class as a function")}return b=N,(p=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new h.default.Graphics(this.width,this.height,f.WEBGL,(this._pInst instanceof h.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=f.BLEND,this._setFill(f._DEFAULT_FILL),this._setStroke(f._DEFAULT_STROKE),this.drawingContext.lineCap=f.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(P,j){i(c(N.prototype),"resize",this).call(this,P,j),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var P,j;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof h.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(P=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(P,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(P=this._getFill(),j=(j=this._pInst).color.apply(j,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(j.levels),j=j.toString(),this._setFill(j),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(P),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var P=(P=this._pInst).color.apply(P,arguments);this._setFill(P.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",P.levels)}},{key:"stroke",value:function(){var P=(P=this._pInst).color.apply(P,arguments);this._setStroke(P.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",P.levels)}},{key:"erase",value:function(P,j){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,P=this._pInst.color(255,P).toString(),this.drawingContext.fillStyle=P,this._cachedStrokeStyle=this.drawingContext.strokeStyle,P=this._pInst.color(255,j).toString(),this.drawingContext.strokeStyle=P,j=this._cachedBlendMode,this.blendMode(f.REMOVE),this._cachedBlendMode=j,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(c(N.prototype),"beginClip",this).call(this,P),this._cachedFillStyle=this.drawingContext.fillStyle,P=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=P,this._cachedStrokeStyle=this.drawingContext.strokeStyle,P=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=P,P=this._cachedBlendMode,this.blendMode(f.BLEND),this._cachedBlendMode=P,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),i(c(N.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(P,j,V,k,E,I,W,Y,z){P.gifProperties&&P._animateGif(this._pInst);try{h.default.MediaElement&&P instanceof h.default.MediaElement&&P._ensureCanvas();var te=(te=this._tint&&P.canvas?this._getTintedImageCanvas(P):te)||P.canvas||P.elt,J=1;P.width&&0<P.width&&(J=te.width/P.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(te,J*j,J*V,J*k,J*E,I,W,Y,z),this._isErasing&&this._pInst.erase()}catch(q){if("NS_ERROR_NOT_AVAILABLE"!==q.name)throw q}}},{key:"_getTintedImageCanvas",value:function(P){if(!P.canvas)return P;P.tintCanvas||(P.tintCanvas=document.createElement("canvas")),P.tintCanvas.width!==P.canvas.width&&(P.tintCanvas.width=P.canvas.width),P.tintCanvas.height!==P.canvas.height&&(P.tintCanvas.height=P.canvas.height);var j=P.tintCanvas.getContext("2d");return j.save(),j.clearRect(0,0,P.canvas.width,P.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(j.drawImage(P.canvas,0,0),j.globalCompositeOperation="luminosity",j.drawImage(P.canvas,0,0),j.globalCompositeOperation="color",j.drawImage(P.canvas,0,0),j.globalCompositeOperation="multiply",j.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),j.fillRect(0,0,P.canvas.width,P.canvas.height),j.globalCompositeOperation="destination-in"),j.globalAlpha=this._tint[3]/255,j.drawImage(P.canvas,0,0),j.restore(),P.tintCanvas}},{key:"blendMode",value:function(P){if(P===f.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(P!==f.BLEND&&P!==f.REMOVE&&P!==f.DARKEST&&P!==f.LIGHTEST&&P!==f.DIFFERENCE&&P!==f.MULTIPLY&&P!==f.EXCLUSION&&P!==f.SCREEN&&P!==f.REPLACE&&P!==f.OVERLAY&&P!==f.HARD_LIGHT&&P!==f.SOFT_LIGHT&&P!==f.DODGE&&P!==f.BURN&&P!==f.ADD)throw new Error("Mode ".concat(P," not recognized."));this._cachedBlendMode=P,this.drawingContext.globalCompositeOperation=P}}},{key:"blend",value:function(){for(var P=this.drawingContext.globalCompositeOperation,j=arguments.length,V=new Array(j),k=0;k<j;k++)V[k]=arguments[k];var E=V[V.length-1],I=Array.prototype.slice.call(V,0,V.length-1);this.drawingContext.globalCompositeOperation=E,h.default.prototype.copy.apply(this,I),this.drawingContext.globalCompositeOperation=P}},{key:"_getPixel",value:function(P,j){return[(P=this.drawingContext.getImageData(P,j,1,1).data)[0],P[1],P[2],P[3]]}},{key:"loadPixels",value:function(){var j,P=this._pixelsState,V=this.drawingContext.getImageData(0,0,V=this.width*(j=P._pixelDensity),j*=this.height);P._setProperty("imageData",V),P._setProperty("pixels",V.data)}},{key:"set",value:function(P,j,V){P=Math.floor(P),j=Math.floor(j);var k=this._pixelsState;if(V instanceof h.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(k._pixelDensity,k._pixelDensity),this.drawingContext.clearRect(P,j,V.width,V.height),this.drawingContext.drawImage(V.canvas,P,j),this.drawingContext.restore();else{var E=0,I=0,W=0,Y=0,z=4*(j*k._pixelDensity*(this.width*k._pixelDensity)+P*k._pixelDensity);if(k.imageData||k.loadPixels(),"number"==typeof V)z<k.pixels.length&&(W=I=E=V,Y=255);else if(Array.isArray(V)){if(V.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");z<k.pixels.length&&(E=V[0],I=V[1],W=V[2],Y=V[3])}else V instanceof h.default.Color&&z<k.pixels.length&&(E=V.levels[0],I=V.levels[1],W=V.levels[2],Y=V.levels[3]);for(var te=0;te<k._pixelDensity;te++)for(var J=0;J<k._pixelDensity;J++)k.pixels[z=4*((j*k._pixelDensity+J)*this.width*k._pixelDensity+(P*k._pixelDensity+te))]=E,k.pixels[z+1]=I,k.pixels[z+2]=W,k.pixels[z+3]=Y}}},{key:"updatePixels",value:function(P,j,V,k){var E=this._pixelsState,I=E._pixelDensity;void 0===P&&void 0===j&&void 0===V&&void 0===k&&(j=P=0,V=this.width,k=this.height),P*=I,j*=I,V*=I,k*=I,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=E.imageData),this.drawingContext.putImageData(E.imageData,P,j,0,0,V,k)}},{key:"_acuteArcToBezier",value:function(P,j){var I=j/2,V=Math.cos(I),Y=Math.sin(I),k=1/Math.tan(I),E=(I=P+I,Math.cos(I)),W=(I=Math.sin(I),(4-V)/3);return Y+=(V-W)*k,{ax:Math.cos(P).toFixed(7),ay:Math.sin(P).toFixed(7),bx:(W*E+Y*I).toFixed(7),by:(W*I-Y*E).toFixed(7),cx:(W*E-Y*I).toFixed(7),cy:(W*I+Y*E).toFixed(7),dx:Math.cos(P+j).toFixed(7),dy:Math.sin(P+j).toFixed(7)}}},{key:"arc",value:function(P,j,V,k,E,I,W){var Y,z=this.drawingContext,te=V/2,J=k/2,q=[];for(P+=te,j+=J;1e-5<=I-E;)Y=Math.min(I-E,f.HALF_PI),q.push(this._acuteArcToBezier(E,Y)),E+=Y;return this._doFill&&(this._clipping||z.beginPath(),q.forEach(function(ne,fe){0===fe&&z.moveTo(P+ne.ax*te,j+ne.ay*J),z.bezierCurveTo(P+ne.bx*te,j+ne.by*J,P+ne.cx*te,j+ne.cy*J,P+ne.dx*te,j+ne.dy*J)}),W!==f.PIE&&null!=W||z.lineTo(P,j),z.closePath(),this._clipping||z.fill()),this._doStroke&&(this._clipping||z.beginPath(),q.forEach(function(ne,fe){0===fe&&z.moveTo(P+ne.ax*te,j+ne.ay*J),z.bezierCurveTo(P+ne.bx*te,j+ne.by*J,P+ne.cx*te,j+ne.cy*J,P+ne.dx*te,j+ne.dy*J)}),W===f.PIE?(z.lineTo(P,j),z.closePath()):W===f.CHORD&&z.closePath(),this._clipping||z.stroke()),this}},{key:"ellipse",value:function(Y){var j=this.drawingContext,V=this._doFill,k=this._doStroke,E=parseFloat(Y[0]),I=parseFloat(Y[1]),W=parseFloat(Y[2]);if(Y=parseFloat(Y[3]),V&&!k){if(this._getFill()===u)return this}else if(!V&&k&&this._getStroke()===u)return this;E+=W/2,I+=Y/2,W/=2,Y/=2,this._clipping||j.beginPath(),j.ellipse(E,I,W,Y,0,0,2*Math.PI),!this._clipping&&V&&j.fill(),!this._clipping&&k&&j.stroke()}},{key:"line",value:function(P,j,V,k){var E=this.drawingContext;return this._doStroke&&this._getStroke()!==u&&(this._clipping||E.beginPath(),E.moveTo(P,j),E.lineTo(V,k),E.stroke()),this}},{key:"point",value:function(P,j){var V,k,E=this.drawingContext;return this._doStroke&&this._getStroke()!==u?(V=this._getStroke(),k=this._getFill(),this._clipping||this._setFill(V),this._clipping||E.beginPath(),E.arc(P,j,E.lineWidth/2,0,f.TWO_PI,!1),void(this._clipping||(E.fill(),this._setFill(k)))):this}},{key:"quad",value:function(P,j,V,k,E,I,W,Y){var z=this.drawingContext,te=this._doFill,J=this._doStroke;if(te&&!J){if(this._getFill()===u)return this}else if(!te&&J&&this._getStroke()===u)return this;return this._clipping||z.beginPath(),z.moveTo(P,j),z.lineTo(V,k),z.lineTo(E,I),z.lineTo(W,Y),z.closePath(),!this._clipping&&te&&z.fill(),!this._clipping&&J&&z.stroke(),this}},{key:"rect",value:function(J){var j,V,k=J[0],E=J[1],I=J[2],W=J[3],Y=J[4],z=J[5],te=J[6],q=(J=J[7],this.drawingContext),ne=this._doFill,fe=this._doStroke;if(ne&&!fe){if(this._getFill()===u)return this}else if(!ne&&fe&&this._getStroke()===u)return this;return this._clipping||q.beginPath(),void 0===Y?q.rect(k,E,I,W):(void 0===z&&(z=Y),void 0===te&&(te=z),void 0===J&&(J=te),fe=(ne=Math.abs(I))/2,V=(j=Math.abs(W))/2,j<2*(Y=ne<2*Y?fe:Y)&&(Y=V),j<2*(z=ne<2*z?fe:z)&&(z=V),j<2*(te=ne<2*te?fe:te)&&(te=V),j<2*(J=ne<2*J?fe:J)&&(J=V),this._clipping||q.beginPath(),q.moveTo(k+Y,E),q.arcTo(k+I,E,k+I,E+W,z),q.arcTo(k+I,E+W,k,E+W,te),q.arcTo(k,E+W,k,E,J),q.arcTo(k,E,k+I,E,Y),q.closePath()),!this._clipping&&this._doFill&&q.fill(),!this._clipping&&this._doStroke&&q.stroke(),this}},{key:"triangle",value:function(te){var j=this.drawingContext,V=this._doFill,k=this._doStroke,E=te[0],I=te[1],W=te[2],Y=te[3],z=te[4];if(te=te[5],V&&!k){if(this._getFill()===u)return this}else if(!V&&k&&this._getStroke()===u)return this;this._clipping||j.beginPath(),j.moveTo(E,I),j.lineTo(W,Y),j.lineTo(z,te),j.closePath(),!this._clipping&&V&&j.fill(),!this._clipping&&k&&j.stroke()}},{key:"endShape",value:function(P,j,V,k,E,I,W){if(0!==j.length&&(this._doStroke||this._doFill)){var Y,z,te,J=P===f.CLOSE,q=(J&&!I&&j.push(j[0]),j.length);if(V&&null===W){if(3<q){var ne=[],fe=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[1][0],j[1][1]),z=1;z+2<q;z++)ne[0]=[(Y=j[z])[0],Y[1]],ne[1]=[Y[0]+(fe*j[z+1][0]-fe*j[z-1][0])/6,Y[1]+(fe*j[z+1][1]-fe*j[z-1][1])/6],ne[2]=[j[z+1][0]+(fe*j[z][0]-fe*j[z+2][0])/6,j[z+1][1]+(fe*j[z][1]-fe*j[z+2][1])/6],ne[3]=[j[z+1][0],j[z+1][1]],this.drawingContext.bezierCurveTo(ne[1][0],ne[1][1],ne[2][0],ne[2][1],ne[3][0],ne[3][1]);J&&this.drawingContext.lineTo(j[z+1][0],j[z+1][1]),this._doFillStrokeClose(J)}}else if(k&&null===W){for(this._clipping||this.drawingContext.beginPath(),z=0;z<q;z++)j[z].isVert?j[z].moveTo?this.drawingContext.moveTo(j[z][0],j[z][1]):this.drawingContext.lineTo(j[z][0],j[z][1]):this.drawingContext.bezierCurveTo(j[z][0],j[z][1],j[z][2],j[z][3],j[z][4],j[z][5]);this._doFillStrokeClose(J)}else if(E&&null===W){for(this._clipping||this.drawingContext.beginPath(),z=0;z<q;z++)j[z].isVert?j[z].moveTo?this.drawingContext.moveTo(j[z][0],j[z][1]):this.drawingContext.lineTo(j[z][0],j[z][1]):this.drawingContext.quadraticCurveTo(j[z][0],j[z][1],j[z][2],j[z][3]);this._doFillStrokeClose(J)}else if(W===f.POINTS)for(z=0;z<q;z++)Y=j[z],this._doStroke&&this._pInst.stroke(Y[6]),this._pInst.point(Y[0],Y[1]);else if(W===f.LINES)for(z=0;z+1<q;z+=2)Y=j[z],this._doStroke&&this._pInst.stroke(j[z+1][6]),this._pInst.line(Y[0],Y[1],j[z+1][0],j[z+1][1]);else if(W===f.TRIANGLES)for(z=0;z+2<q;z+=3)Y=j[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(Y[0],Y[1]),this.drawingContext.lineTo(j[z+1][0],j[z+1][1]),this.drawingContext.lineTo(j[z+2][0],j[z+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(j[z+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(j[z+2][6]),this.drawingContext.stroke());else if(W===f.TRIANGLE_STRIP)for(z=0;z+1<q;z++)Y=j[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[z+1][0],j[z+1][1]),this.drawingContext.lineTo(Y[0],Y[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[z+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(j[z+1][5]),z+2<q&&(this.drawingContext.lineTo(j[z+2][0],j[z+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[z+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(j[z+2][5])),this._doFillStrokeClose(J);else if(W===f.TRIANGLE_FAN){if(2<q){for(this._clipping||this.drawingContext.beginPath(),z=2;z<q;z++)Y=j[z],this.drawingContext.moveTo(j[0][0],j[0][1]),this.drawingContext.lineTo(j[z-1][0],j[z-1][1]),this.drawingContext.lineTo(Y[0],Y[1]),this.drawingContext.lineTo(j[0][0],j[0][1]),z<q-1&&(this._doFill&&Y[5]!==j[z+1][5]||this._doStroke&&Y[6]!==j[z+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(Y[5]),this.drawingContext.fill(),this._pInst.fill(j[z+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(Y[6]),this.drawingContext.stroke(),this._pInst.stroke(j[z+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(J)}}else if(W===f.QUADS)for(z=0;z+3<q;z+=4){for(Y=j[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(Y[0],Y[1]),te=1;te<4;te++)this.drawingContext.lineTo(j[z+te][0],j[z+te][1]);this.drawingContext.lineTo(Y[0],Y[1]),!this._clipping&&this._doFill&&this._pInst.fill(j[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[z+3][6]),this._doFillStrokeClose(J)}else if(W===f.QUAD_STRIP){if(3<q)for(z=0;z+1<q;z+=2)Y=j[z],this._clipping||this.drawingContext.beginPath(),z+3<q?(this.drawingContext.moveTo(j[z+2][0],j[z+2][1]),this.drawingContext.lineTo(Y[0],Y[1]),this.drawingContext.lineTo(j[z+1][0],j[z+1][1]),this.drawingContext.lineTo(j[z+3][0],j[z+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(j[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[z+3][6])):(this.drawingContext.moveTo(Y[0],Y[1]),this.drawingContext.lineTo(j[z+1][0],j[z+1][1])),this._doFillStrokeClose(J)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0][0],j[0][1]),z=1;z<q;z++)(Y=j[z]).isVert&&(Y.moveTo?(J&&this.drawingContext.closePath(),this.drawingContext.moveTo(Y[0],Y[1])):this.drawingContext.lineTo(Y[0],Y[1]));this._doFillStrokeClose(J)}I=E=k=V=!1,J&&j.pop()}return this}},{key:"strokeCap",value:function(P){return P!==f.ROUND&&P!==f.SQUARE&&P!==f.PROJECT||(this.drawingContext.lineCap=P),this}},{key:"strokeJoin",value:function(P){return P!==f.ROUND&&P!==f.BEVEL&&P!==f.MITER||(this.drawingContext.lineJoin=P),this}},{key:"strokeWeight",value:function(P){return this.drawingContext.lineWidth=void 0===P||0===P?1e-4:P,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(P){P!==this._cachedFillStyle&&(this.drawingContext.fillStyle=P,this._cachedFillStyle=P)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(P){P!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=P,this._cachedStrokeStyle=P)}},{key:"bezier",value:function(P,j,V,k,E,I,W,Y){return this._pInst.beginShape(),this._pInst.vertex(P,j),this._pInst.bezierVertex(V,k,E,I,W,Y),this._pInst.endShape(),this}},{key:"curve",value:function(P,j,V,k,E,I,W,Y){return this._pInst.beginShape(),this._pInst.curveVertex(P,j),this._pInst.curveVertex(V,k),this._pInst.curveVertex(E,I),this._pInst.curveVertex(W,Y),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(P){P&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(P,j,V,k,E,I){this.drawingContext.transform(P,j,V,k,E,I)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(P){this.drawingContext.rotate(P)}},{key:"scale",value:function(P,j){return this.drawingContext.scale(P,j),this}},{key:"translate",value:function(P,j){return P instanceof h.default.Vector&&(j=P.y,P=P.x),this.drawingContext.translate(P,j),this}},{key:"_renderText",value:function(P,j,V,k,E,I){if(!(k<I||E<=k))return P.push(),this._isOpenType()?this._textFont._renderPath(j,V,k,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(j,V,k),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(f._DEFAULT_TEXT_FILL),this.drawingContext.fillText(j,V,k))),P.pop(),P}},{key:"textWidth",value:function(P){return this._isOpenType()?this._textFont._textWidth(P,this._textSize):this.drawingContext.measureText(P).width}},{key:"_applyTextProperties",value:function(){var P=this._pInst,j=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),j=this._textFont,this._isOpenType()&&(j=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),j||"sans-serif");return/\s/.exec(j)&&(j='"'.concat(j,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(j),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===f.CENTER?f._CTX_MIDDLE:this._textBaseline,P}},{key:"push",value:function(){return this.drawingContext.save(),i(c(N.prototype),"push",this).call(this)}},{key:"pop",value:function(P){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i(c(N.prototype),"pop",this).call(this,P)}}])&&w(b.prototype,p),N}(h.default.Renderer);l.prototype.text=function(p,b,M,j,N){var P;return void 0!==j&&this.drawingContext.textBaseline===f.BASELINE&&(P=!0,this.drawingContext.textBaseline=f.TOP),j=h.default.Renderer.prototype.text.apply(this,arguments),P&&(this.drawingContext.textBaseline=f.BASELINE),j},h.default.Renderer2D=l,S.default=m=h.default.Renderer2D},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(o=o("./main"))&&o.__esModule?o:{default:o};function _(){return{}}v.default.prototype._promisePreloads=[];var h=!(v.default.prototype.registerPromisePreload=function(f){v.default.prototype._promisePreloads.push(f)});v.default.prototype._setupPromisePreloads=function(){var f=!0,x=!1,w=void 0;try{for(var i,a=this._promisePreloads[Symbol.iterator]();!(f=(i=a.next()).done);f=!0){var d=i.value,c=this,u=d.method,l=d.addCallbacks,m=d.legacyPreloadSetup,p=d.target||this,b=p[u].bind(p);if(p===v.default.prototype){if(h)continue;c=null,b=p[u]}p[u]=this._wrapPromisePreload(c,b,l),m&&(p[m.method]=this._legacyPreloadGenerator(c,m,p[u]))}}catch(M){x=!0,w=M}finally{try{f||null==a.return||a.return()}finally{if(x)throw w}}h=!0},v.default.prototype._wrapPromisePreload=function(f,x,w){var i=function(){for(var a=this,d=(this._incrementPreload(),null),c=null,u=arguments.length,l=new Array(u),m=0;m<u;m++)l[m]=arguments[m];if(w)for(var p=l.length-1;0<=p&&!c&&"function"==typeof l[p];p--)c=d,d=l.pop();var b=Promise.resolve(x.apply(this,l));return d&&b.then(d),c&&b.catch(c),b.then(function(){return a._decrementPreload()}),b};return f?i.bind(f):i},v.default.prototype._legacyPreloadGenerator=function(f,a,w){var i=a.createBaseObject||_;return a=function(){var d=this;this._incrementPreload();for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];var m=i.apply(this,u);return w.apply(this,u).then(function(p){Object.assign(m,p),d._decrementPreload()}),m},f?a.bind(f):a}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(o,$,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(i=o("./main"))&&i.__esModule?i:{default:i},h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==x(a)&&"function"!=typeof a)return{default:a};var d=f();if(d&&d.has(a))return d.get(a);var c,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var m;Object.prototype.hasOwnProperty.call(a,c)&&((m=l?Object.getOwnPropertyDescriptor(a,c):null)&&(m.get||m.set)?Object.defineProperty(u,c,m):u[c]=a[c])}return u.default=a,d&&d.set(a,u),u}(o("./constants"));function f(){var a;return"function"!=typeof WeakMap?null:(f=function(){return a},a=new WeakMap)}function x(a){return(x="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var w="defaultCanvas0",i=(_.default.prototype.createCanvas=function(a,d,c,u){var l,m,p;if(_.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(c=h.P2D,u=arguments[2]):l=c||h.P2D,u)(p=document.getElementById(w))&&p.parentNode.removeChild(p),p=u,this._defaultGraphicsCreated=!1;else{if(l===h.WEBGL)(p=document.getElementById(w))&&(p.parentNode.removeChild(p),m=this._renderer,this._elements=this._elements.filter(function(M){return M!==m})),(p=document.createElement("canvas")).id=w,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=u||document.createElement("canvas");for(var b=0;document.getElementById("defaultCanvas".concat(b));)b++;w="defaultCanvas".concat(b),p.id=w,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(c=document.createElement("main"),document.body.appendChild(c)),document.getElementsByTagName("main")[0])).appendChild(p)}return l===h.WEBGL?(this._setProperty("_renderer",new _.default.RendererGL(p,this,!0)),this._elements.push(this._renderer),a=(u=this._renderer._adjustDimensions(a,d)).adjustedWidth,d=u.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new _.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(a,d),this._renderer._applyDefaults(),this._renderer},_.default.prototype.resizeCanvas=function(a,d,c){if(_.default._validateParameters("resizeCanvas",arguments),this._renderer){var u,l,m,p={};for(u in this.drawingContext){var b=this.drawingContext[u];"object"!==x(b)&&"function"!=typeof b&&(p[u]=b)}for(m in this._renderer instanceof _.default.RendererGL&&(a=(l=this._renderer._adjustDimensions(a,d)).adjustedWidth,d=l.adjustedHeight),this.width=a,this.height=d,this._renderer.resize(a,d),p)try{this.drawingContext[m]=p[m]}catch{}c||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},_.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},_.default.prototype.createGraphics=function(a,d){for(var c=arguments.length,u=new Array(2<c?c-2:0),l=2;l<c;l++)u[l-2]=arguments[l];return u[0]instanceof HTMLCanvasElement&&(u[1]=u[0],u[0]=h.P2D),_.default._validateParameters("createGraphics",arguments),new _.default.Graphics(a,d,u[0],this,u[1])},_.default.prototype.createFramebuffer=function(a){return new _.default.Framebuffer(this,a)},_.default.prototype.clearDepth=function(a){this._assert3d("clearDepth"),this._renderer.clearDepth(a)},_.default.prototype.blendMode=function(a){_.default._validateParameters("blendMode",arguments),a===h.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),a=h.BLEND),this._renderer.blendMode(a)},_.default);S.default=i},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(o,$,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=i(o("../main")),f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var c=w();if(c&&c.has(d))return c.get(d);var u,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in d){var p;Object.prototype.hasOwnProperty.call(d,u)&&((p=m?Object.getOwnPropertyDescriptor(d,u):null)&&(p.get||p.set)?Object.defineProperty(l,u,p):l[u]=d[u])}return l.default=d,c&&c.set(d,l),l}(o("../constants")),x=i(o("../helpers"));function w(){var d;return"function"!=typeof WeakMap?null:(w=function(){return d},d=new WeakMap)}function i(d){return d&&d.__esModule?d:{default:d}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),h.default.prototype._normalizeArcAngles=function(d,c,u,l,m){var p;return d-=f.TWO_PI*Math.floor(d/f.TWO_PI),c-=f.TWO_PI*Math.floor(c/f.TWO_PI),p=Math.min(Math.abs(d-c),f.TWO_PI-Math.abs(d-c)),m&&(d=d<=f.HALF_PI?Math.atan(u/l*Math.tan(d)):d>f.HALF_PI&&d<=3*f.HALF_PI?Math.atan(u/l*Math.tan(d))+f.PI:Math.atan(u/l*Math.tan(d))+f.TWO_PI,c=c<=f.HALF_PI?Math.atan(u/l*Math.tan(c)):c>f.HALF_PI&&c<=3*f.HALF_PI?Math.atan(u/l*Math.tan(c))+f.PI:Math.atan(u/l*Math.tan(c))+f.TWO_PI),c<d&&(c+=f.TWO_PI),{start:d,stop:c,correspondToSamePoint:p<1e-5}},h.default.prototype.arc=function(d,c,u,l,m,p,b,M){return h.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&m!==p&&(m=this._toRadians(m),p=this._toRadians(p),u=Math.abs(u),l=Math.abs(l),d=x.default.modeAdjust(d,c,u,l,this._renderer._ellipseMode),(c=this._normalizeArcAngles(m,p,d.w,d.h,!0)).correspondToSamePoint?this._renderer.ellipse([d.x,d.y,d.w,d.h,M]):(this._renderer.arc(d.x,d.y,d.w,d.h,c.start,c.stop,b,M),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[d.x,d.y,d.w,d.h,c.start,c.stop,b]))),this},h.default.prototype.ellipse=function(d,c,u,l,m){return h.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},h.default.prototype.circle=function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];h.default._validateParameters("circle",c);var l=c.slice(0,2);return l.push(c[2],c[2]),this._renderEllipse.apply(this,function a(d){return function(c){if(Array.isArray(c)){for(var u=0,l=new Array(c.length);u<c.length;u++)l[u]=c[u];return l}}(d)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(l))},h.default.prototype._renderEllipse=function(d,c,u,l,m){return(this._renderer._doStroke||this._renderer._doFill)&&(u<0&&(u=Math.abs(u)),void 0===l?l=u:l<0&&(l=Math.abs(l)),d=x.default.modeAdjust(d,c,u,l,this._renderer._ellipseMode),this._renderer.ellipse([d.x,d.y,d.w,d.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[d.x,d.y,d.w,d.h])),this},h.default.prototype.line=function(){for(var d,c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return h.default._validateParameters("line",u),this._renderer._doStroke&&(d=this._renderer).line.apply(d,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",u),this},h.default.prototype.point=function(){for(var d,c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return h.default._validateParameters("point",u),this._renderer._doStroke&&(1===u.length&&u[0]instanceof h.default.Vector?this._renderer.point.call(this._renderer,u[0].x,u[0].y,u[0].z):((d=this._renderer).point.apply(d,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",u))),this},h.default.prototype.quad=function(){for(var d,c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return h.default._validateParameters("quad",u),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&u.length<12?this._renderer.quad.call(this._renderer,u[0],u[1],0,u[2],u[3],0,u[4],u[5],0,u[6],u[7],0,u[8],u[9]):((d=this._renderer).quad.apply(d,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",u))),this},h.default.prototype.rect=function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];return h.default._validateParameters("rect",c),this._renderRect.apply(this,c)},h.default.prototype.square=function(d,c,u,l,m,p,b){return h.default._validateParameters("square",arguments),this._renderRect.call(this,d,c,u,u,l,m,p,b)},h.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var d=x.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),c=[d.x,d.y,d.w,d.h],u=4;u<arguments.length;u++)c[u]=arguments[u];this._renderer.rect(c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[d.x,d.y,d.w,d.h])}return this},h.default.prototype.triangle=function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];return h.default._validateParameters("triangle",c),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",c),this},S.default=o=h.default},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(o,$,S){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(w=o("../main"))&&w.__esModule?w:{default:w},f=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var a=x();if(a&&a.has(i))return a.get(i);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in i){var l;Object.prototype.hasOwnProperty.call(i,d)&&((l=u?Object.getOwnPropertyDescriptor(i,d):null)&&(l.get||l.set)?Object.defineProperty(c,d,l):c[d]=i[d])}return c.default=i,a&&a.set(i,c),c}(o("../constants"));function x(){var i;return"function"!=typeof WeakMap?null:(x=function(){return i},i=new WeakMap)}h.default.prototype.ellipseMode=function(i){return h.default._validateParameters("ellipseMode",arguments),i!==f.CORNER&&i!==f.CORNERS&&i!==f.RADIUS&&i!==f.CENTER||(this._renderer._ellipseMode=i),this},h.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},h.default.prototype.rectMode=function(i){return h.default._validateParameters("rectMode",arguments),i!==f.CORNER&&i!==f.CORNERS&&i!==f.RADIUS&&i!==f.CENTER||(this._renderer._rectMode=i),this},h.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},h.default.prototype.strokeCap=function(i){return h.default._validateParameters("strokeCap",arguments),i!==f.ROUND&&i!==f.SQUARE&&i!==f.PROJECT||this._renderer.strokeCap(i),this},h.default.prototype.strokeJoin=function(i){return h.default._validateParameters("strokeJoin",arguments),i!==f.ROUND&&i!==f.BEVEL&&i!==f.MITER||this._renderer.strokeJoin(i),this},h.default.prototype.strokeWeight=function(i){return h.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var w=h.default;S.default=w},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(o,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(_=o("../main"))&&_.__esModule?_:{default:_};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var h,f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];return v.default._validateParameters("bezier",x),(this._renderer._doStroke||this._renderer._doFill)&&(h=this._renderer).bezier.apply(h,x),this},v.default.prototype.bezierDetail=function(h){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=h,this},v.default.prototype.bezierPoint=function(h,f,x,w,i){v.default._validateParameters("bezierPoint",arguments);var a=1-i;return Math.pow(a,3)*h+3*Math.pow(a,2)*i*f+3*a*Math.pow(i,2)*x+Math.pow(i,3)*w},v.default.prototype.bezierTangent=function(h,f,x,w,i){v.default._validateParameters("bezierTangent",arguments);var a=1-i;return 3*w*Math.pow(i,2)-3*x*Math.pow(i,2)+6*x*a*i-6*f*a*i+3*f*Math.pow(a,2)-3*h*Math.pow(a,2)},v.default.prototype.curve=function(){for(var h,f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];return v.default._validateParameters("curve",x),this._renderer._doStroke&&(h=this._renderer).curve.apply(h,x),this},v.default.prototype.curveDetail=function(h){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=h<3?3:h,this},v.default.prototype.curveTightness=function(h){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=h,this},v.default.prototype.curvePoint=function(h,f,x,w,i){v.default._validateParameters("curvePoint",arguments);var a=this._renderer._curveTightness,d=i*i*i,c=i*i;return h*((a-1)/2*d+(1-a)*c+(a-1)/2*i)+f*((a+3)/2*d+(-5-a)/2*c+1)+x*((-3-a)/2*d+(a+2)*c+(1-a)/2*i)+w*((1-a)/2*d+(a-1)/2*c)},v.default.prototype.curveTangent=function(h,f,x,w,c){v.default._validateParameters("curveTangent",arguments);var a=this._renderer._curveTightness,d=c*c*3;return h*((a-1)/2*d+(1-a)*(c*=2)+(a-1)/2)+f*((a+3)/2*d+(-5-a)/2*c)+x*((-3-a)/2*d+(a+2)*c+(1-a)/2)+w*((1-a)/2*d+(a-1)/2*c)};var _=v.default;S.default=_},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(o,$,S){"use strict";function v(b){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(b)}function _(b){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(M){return v(M)}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":v(M)})(b)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(p=o("../main"))&&p.__esModule?p:{default:p},f=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==_(b)&&"function"!=typeof b)return{default:b};var M=x();if(M&&M.has(b))return M.get(b);var F,N={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in b){var j;Object.prototype.hasOwnProperty.call(b,F)&&((j=P?Object.getOwnPropertyDescriptor(b,F):null)&&(j.get||j.set)?Object.defineProperty(N,F,j):N[F]=b[F])}return N.default=b,M&&M.set(b,N),N}(o("../constants"));function x(){var b;return"function"!=typeof WeakMap?null:(x=function(){return b},b=new WeakMap)}var w=null,i=[],a=[],d=!1,c=!1,u=!1,l=!1,m=!0,p=(h.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(a=[],l=!0),this},h.default.prototype.beginShape=function(b){var M;return h.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(M=this._renderer).beginShape.apply(M,arguments):(w=b===f.POINTS||b===f.LINES||b===f.TRIANGLES||b===f.TRIANGLE_FAN||b===f.TRIANGLE_STRIP||b===f.QUADS||b===f.QUAD_STRIP?b:null,i=[],a=[]),this},h.default.prototype.bezierVertex=function(){for(var b,M=arguments.length,F=new Array(M),N=0;N<M;N++)F[N]=arguments[N];if(h.default._validateParameters("bezierVertex",F),this._renderer.isP3D)(b=this._renderer).bezierVertex.apply(b,F);else if(0===i.length)h.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{d=!0;for(var P=[],j=0;j<F.length;j++)P[j]=F[j];P.isVert=!1,(l?a:i).push(P)}return this},h.default.prototype.curveVertex=function(){for(var b,M=arguments.length,F=new Array(M),N=0;N<M;N++)F[N]=arguments[N];return h.default._validateParameters("curveVertex",F),this._renderer.isP3D?(b=this._renderer).curveVertex.apply(b,F):(c=!0,this.vertex(F[0],F[1])),this},h.default.prototype.endContour=function(){if(!this._renderer.isP3D){var b=a[0].slice();b.isVert=a[0].isVert,b.moveTo=!1,a.push(b),m&&(i.push(i[0]),m=!1);for(var M=0;M<a.length;M++)i.push(a[M])}return this},h.default.prototype.endShape=function(b){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(h.default._validateParameters("endShape",arguments),M<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),M=1),this._renderer.isP3D)this._renderer.endShape(b,c,d,u,l,w,M);else{if(1!==M&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===i.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(M=b===f.CLOSE)&&!l&&i.push(i[0]),this._renderer.endShape(b,i,c,d,u,l,w),m=!(l=u=d=c=!1),M&&i.pop()}return this},h.default.prototype.quadraticVertex=function(){for(var b,M=arguments.length,F=new Array(M),N=0;N<M;N++)F[N]=arguments[N];if(h.default._validateParameters("quadraticVertex",F),this._renderer.isP3D)(b=this._renderer).quadraticVertex.apply(b,F);else{if(this._contourInited)return(b={}).x=F[0],b.y=F[1],b.x3=F[2],b.y3=F[3],b.type=f.QUADRATIC,this._contourVertices.push(b),this;if(0<i.length){u=!0;for(var P=[],j=0;j<F.length;j++)P[j]=F[j];P.isVert=!1,(l?a:i).push(P)}else h.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},h.default.prototype.vertex=function(b,M,F,N,P){var j;return this._renderer.isP3D?(j=this._renderer).vertex.apply(j,arguments):((j=[]).isVert=!0,j[0]=b,j[1]=M,j[2]=0,j[3]=0,j[4]=0,j[5]=this._renderer._getFill(),j[6]=this._renderer._getStroke(),F&&(j.moveTo=F),(l?(0===a.length&&(j.moveTo=!0),a):i).push(j)),this},h.default.prototype.normal=function(b,M,F){var N;return this._assert3d("normal"),h.default._validateParameters("normal",arguments),(N=this._renderer).normal.apply(N,arguments),this},h.default);S.default=p},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(o,$,S){},{}],292:[function(o,$,S){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var _=parseInt(v),h=((isNaN(_)||_<1)&&(_=1),this._isGlobal?window:this);if("function"==typeof h.draw){void 0===h.setup&&h.scale(h._pixelDensity,h._pixelDensity);for(var f=0;f<_;f++){h.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),h._renderer.isP3D&&h._renderer._update(),h._setProperty("frameCount",h.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{h.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},S.default=o=o.default},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};v.default.prototype.applyMatrix=function(){var h=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||h?(h=this._renderer).applyMatrix.apply(h,function _(h){return function(f){if(Array.isArray(f)){for(var x=0,w=new Array(f.length);x<f.length;x++)w[x]=f[x];return w}}(h)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(h=this._renderer).applyMatrix.apply(h,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(h,f){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(h),f),this},v.default.prototype.rotateX=function(h){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(h)),this},v.default.prototype.rotateY=function(h){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(h)),this},v.default.prototype.rotateZ=function(h){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(h)),this},v.default.prototype.scale=function(h,f,x){var w;return v.default._validateParameters("scale",arguments),h instanceof v.default.Vector?(h=(w=h).x,f=w.y,x=w.z):Array.isArray(h)&&(h=(w=h)[0],f=w[1],x=w[2]||1),isNaN(f)?f=x=h:isNaN(x)&&(x=1),this._renderer.scale(h,f,x),this},v.default.prototype.shearX=function(h){return v.default._validateParameters("shearX",arguments),h=this._toRadians(h),this._renderer.applyMatrix(1,0,Math.tan(h),1,0,0),this},v.default.prototype.shearY=function(h){return v.default._validateParameters("shearY",arguments),h=this._toRadians(h),this._renderer.applyMatrix(1,Math.tan(h),0,1,0,0),this},v.default.prototype.translate=function(h,f,x){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(h,f,x):this._renderer.translate(h,f),this},S.default=o=v.default},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(o,$,S){"use strict";function v(x){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function h(x){return function(w){if(Array.isArray(w)){for(var i=0,a=new Array(w.length);i<w.length;i++)a[i]=w[i];return a}}(x)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(x){return(f="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(x)}_.default.prototype.storeItem=function(x,w){"string"!=typeof x&&console.log("The argument that you passed to storeItem() - ".concat(x," is not a string.")),x.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(x," must not end with 'p5TypeID'.")),void 0===w&&console.log("You cannot store undefined variables using storeItem().");var i=f(w);switch(i){case"number":case"boolean":w=w.toString();break;case"object":w instanceof _.default.Color?i="p5.Color":w instanceof _.default.Vector&&(i="p5.Vector",w=[w.x,w.y,w.z]),w=JSON.stringify(w)}localStorage.setItem(x,w),x="".concat(x,"p5TypeID"),localStorage.setItem(x,i)},_.default.prototype.getItem=function(x){var w=localStorage.getItem(x),i=localStorage.getItem("".concat(x,"p5TypeID"));if(void 0===i)console.log("Unable to determine type of item stored under ".concat(x,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==w)switch(i){case"number":w=parseFloat(w);break;case"boolean":w="true"===w;break;case"object":w=JSON.parse(w);break;case"p5.Color":w=JSON.parse(w),w=this.color.apply(this,h(w.levels));break;case"p5.Vector":w=JSON.parse(w),w=this.createVector.apply(this,h(w))}return w},_.default.prototype.clearStorage=function(){localStorage.clear()},_.default.prototype.removeItem=function(x){"string"!=typeof x&&console.log("The argument that you passed to removeItem() - ".concat(x," is not a string.")),localStorage.removeItem(x),localStorage.removeItem("".concat(x,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],295:[function(o,$,S){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function _(u){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&x(u,l)}function x(u,l){return(x=Object.setPrototypeOf||function(m,p){return m.__proto__=p,m})(u,l)}function w(u){return function(){var l,m=i(u);if(l=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(l=i(this).constructor,Reflect.construct(m,arguments,l)):m.apply(this,arguments),m=this,!l||"object"!==_(l)&&"function"!=typeof l){if(void 0!==m)return m;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return l}}function i(u){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(u)}function a(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function d(u,l){for(var m=0;m<l.length;m++){var p=l[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function c(u,l,m){l&&d(u.prototype,l),m&&d(u,m)}h.default.prototype.createStringDict=function(u,l){return h.default._validateParameters("createStringDict",arguments),new h.default.StringDict(u,l)},h.default.prototype.createNumberDict=function(u,l){return h.default._validateParameters("createNumberDict",arguments),new h.default.NumberDict(u,l)},h.default.TypedDict=function(){function u(l,m){return a(this,u),l instanceof Object?this.data=l:(this.data={},this.data[l]=m),this}return c(u,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(l){return this.data.hasOwnProperty(l)}},{key:"get",value:function(l){if(this.data.hasOwnProperty(l))return this.data[l];console.log("".concat(l," does not exist in this Dictionary"))}},{key:"set",value:function(l,m){this._validate(m)?this.data[l]=m:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(l){for(var m in l)this.set(m,l[m])}},{key:"create",value:function(l,m){l instanceof Object&&void 0===m?this._addObj(l):void 0!==l?this.set(l,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(l){if(!this.data.hasOwnProperty(l))throw new Error("".concat(l," does not exist in this Dictionary"));delete this.data[l]}},{key:"print",value:function(){for(var l in this.data)console.log("key:".concat(l," value:").concat(this.data[l]))}},{key:"saveTable",value:function(l){var m,p="";for(m in this.data)p+="".concat(m,",").concat(this.data[m],"\n");var b=new Blob([p],{type:"text/csv"});h.default.prototype.downloadFile(b,l||"mycsv","csv")}},{key:"saveJSON",value:function(l,m){h.default.prototype.saveJSON(this.data,l,m)}},{key:"_validate",value:function(l){return!0}}]),u}(),h.default.StringDict=function(){f(l,h.default.TypedDict);var u=w(l);function l(){a(this,l);for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];return u.call.apply(u,[this].concat(p))}return c(l,[{key:"_validate",value:function(m){return"string"==typeof m}}]),l}(),h.default.NumberDict=function(){f(l,h.default.TypedDict);var u=w(l);function l(){a(this,l);for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];return u.call.apply(u,[this].concat(p))}return c(l,[{key:"_validate",value:function(m){return"number"==typeof m}},{key:"add",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]+=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"sub",value:function(m,p){this.add(m,-p)}},{key:"mult",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]*=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"div",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]/=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"_valueTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var p,b=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*m<b*m&&(b=this.data[p]);return b}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],b=1;b<Object.keys(this.data).length;b++)Object.keys(this.data)[b]*m<p*m&&(p=Object.keys(this.data)[b]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),l}(),S.default=o=h.default.TypedDict},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(o,$,S){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function h(p,b){for(var M=0;M<b.length;M++){var F=b[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(p,F.key,F)}}function f(p,b,M){b&&h(p.prototype,b),M&&h(p,M)}function x(p,b){return(x=Object.setPrototypeOf||function(M,F){return M.__proto__=F,M})(p,b)}function i(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function a(p){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}function d(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function c(p){return(c="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(b){return v(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":v(b)})(p)}function u(p,b,M){return(b._userNode||document.body).appendChild(p),M=new(M?_.default.MediaElement:_.default.Element)(p,b),b._elements.push(M),M}function l(p,j,M,F){var N=document.createElement(j),P=("string"==typeof(M=M||"")&&(M=[M]),!0),V=void(j=!1);try{for(var k,E=M[Symbol.iterator]();!(P=(k=E.next()).done);P=!0){var I=k.value,W=document.createElement("source");W.setAttribute("src",I),N.appendChild(W)}}catch(z){j=!0,V=z}finally{try{P||null==E.return||E.return()}finally{if(j)throw V}}"function"==typeof F&&N.addEventListener("canplaythrough",function z(){F(),N.removeEventListener("canplaythrough",z)});var Y=u(N,p,!0);return Y.loadedmetadata=!1,N.addEventListener("loadedmetadata",function(){Y.width=N.videoWidth,Y.height=N.videoHeight,0===Y.elt.width&&(Y.elt.width=N.videoWidth),0===Y.elt.height&&(Y.elt.height=N.videoHeight),Y.presetPlaybackRate&&(Y.elt.playbackRate=Y.presetPlaybackRate,delete Y.presetPlaybackRate),Y.loadedmetadata=!0}),Y}function m(p,b,M,F){d(this,m),this.callback=p,this.time=b,this.id=M,this.val=F}_.default.prototype.select=function(p,b){return _.default._validateParameters("select",arguments),(b=this._getContainer(b).querySelector(p))?this._wrapElement(b):null},_.default.prototype.selectAll=function(p,b){_.default._validateParameters("selectAll",arguments);var M=[],F=this._getContainer(b).querySelectorAll(p);if(F)for(var N=0;N<F.length;N++){var P=this._wrapElement(F[N]);M.push(P)}return M},_.default.prototype._getContainer=function(p){var b=document;return"string"==typeof p?b=document.querySelector(p)||document:p instanceof _.default.Element?b=p.elt:p instanceof HTMLElement&&(b=p),b},_.default.prototype._wrapElement=function(p){var b,M=Array.prototype.slice.call(p.children);return"INPUT"===p.tagName&&"checkbox"===p.type?((b=new _.default.Element(p,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},b):"VIDEO"===p.tagName||"AUDIO"===p.tagName?new _.default.MediaElement(p,this):"SELECT"===p.tagName?this.createSelect(new _.default.Element(p,this)):0<M.length&&M.every(function(F){return"INPUT"===F.tagName||"LABEL"===F.tagName})?this.createRadio(new _.default.Element(p,this)):new _.default.Element(p,this)},_.default.prototype.removeElements=function(p){_.default._validateParameters("removeElements",arguments),this._elements.filter(function(b){return!(b.elt instanceof HTMLCanvasElement)}).map(function(b){return b.remove()})},_.default.Element.prototype.changed=function(p){return _.default.Element._adjustListener("change",p,this),this},_.default.Element.prototype.input=function(p){return _.default.Element._adjustListener("input",p,this),this},_.default.prototype.createDiv=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("div");return b.innerHTML=p,u(b,this)},_.default.prototype.createP=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("p");return b.innerHTML=p,u(b,this)},_.default.prototype.createSpan=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("span");return b.innerHTML=p,u(b,this)},_.default.prototype.createImg=function(){_.default._validateParameters("createImg",arguments);var p,b=document.createElement("img"),M=arguments;return 1<M.length&&"string"==typeof M[1]&&(b.alt=M[1]),2<M.length&&"string"==typeof M[2]&&(b.crossOrigin=M[2]),b.src=M[0],p=u(b,this),b.addEventListener("load",function(){p.width=b.offsetWidth||b.width,p.height=b.offsetHeight||b.height;var F=M[M.length-1];"function"==typeof F&&F(p)}),p},_.default.prototype.createA=function(p,b,M){_.default._validateParameters("createA",arguments);var F=document.createElement("a");return F.href=p,F.innerHTML=b,M&&(F.target=M),u(F,this)},_.default.prototype.createSlider=function(p,b,M,F){_.default._validateParameters("createSlider",arguments);var N=document.createElement("input");return N.type="range",N.min=p,N.max=b,0===F?N.step=1e-18:F&&(N.step=F),"number"==typeof M&&(N.value=M),u(N,this)},_.default.prototype.createButton=function(p,b){_.default._validateParameters("createButton",arguments);var M=document.createElement("button");return M.innerHTML=p,b&&(M.value=b),u(M,this)},_.default.prototype.createCheckbox=function(){for(var p=arguments.length,b=new Array(p),M=0;M<p;M++)b[M]=arguments[M];_.default._validateParameters("createCheckbox",b);var F=document.createElement("div"),N=document.createElement("input"),P=(N.type="checkbox",document.createElement("label")),j=(P.appendChild(N),F.appendChild(P),u(F,this));return j.checked=function(){var V=j.elt.firstElementChild.getElementsByTagName("input")[0];if(V){if(0===arguments.length)return V.checked;V.checked=!(arguments.length<=0||!arguments[0])}return j},this.value=function(V){return j.value=V,this},b[0]&&(j.value(b[0]),(F=document.createElement("span")).innerHTML=b[0],P.appendChild(F)),b[1]&&(N.checked=!0),j},_.default.prototype.createSelect=function(){for(var p,b=arguments.length,M=new Array(b),F=0;F<b;F++)M[F]=arguments[F];_.default._validateParameters("createSelect",M);var N,P=M[0];return P instanceof _.default.Element&&P.elt instanceof HTMLSelectElement?this.elt=(p=P).elt:P instanceof HTMLSelectElement?(p=u(P,this),this.elt=P):(N=document.createElement("select"),P&&"boolean"==typeof P&&N.setAttribute("multiple","true"),p=u(N,this),this.elt=N),p.option=function(j,V){var k;if(void 0!==j){for(var E,I=0;I<this.elt.length;I+=1)if(this.elt[I].textContent===j){k=I;break}void 0!==k?!1===V?this.elt.remove(k):this.elt[k].value=V:((E=document.createElement("option")).textContent=j,E.value=void 0===V?j:V,this.elt.appendChild(E),this._pInst._elements.push(E))}},p.selected=function(j){if(void 0!==j){for(var V=0;V<this.elt.length;V+=1)this.elt[V].value.toString()===j.toString()&&(this.elt.selectedIndex=V);return this}if(this.elt.getAttribute("multiple")){var k=[],E=!0,I=!1,W=void 0;try{for(var Y,z=this.elt.selectedOptions[Symbol.iterator]();!(E=(Y=z.next()).done);E=!0)k.push(Y.value.value)}catch(J){I=!0,W=J}finally{try{E||null==z.return||z.return()}finally{if(I)throw W}}return k}return this.elt.value},p.disable=function(j){if("string"==typeof j)for(var V=0;V<this.elt.length;V++)this.elt[V].value.toString()===j&&(this.elt[V].disabled=!0,this.elt[V].selected=!1);else this.elt.disabled=!0;return this},p.enable=function(j){if("string"==typeof j)for(var V=0;V<this.elt.length;V++)this.elt[V].value.toString()===j&&(this.elt[V].disabled=!1,this.elt[V].selected=!1);else{this.elt.disabled=!1;for(var k=0;k<this.elt.length;k++)this.elt[k].disabled=!1,this.elt[k].selected=!1}return this},p},_.default.prototype.createRadio=function(){function p(j){return j instanceof HTMLInputElement&&"radio"===j.type}function b(j){return j instanceof HTMLLabelElement}var M,F,N,P=arguments.length<=0?void 0:arguments[0];return P instanceof _.default.Element&&(P.elt instanceof HTMLDivElement||P.elt instanceof HTMLSpanElement)?(M=P,this.elt=P.elt):P instanceof HTMLDivElement||P instanceof HTMLSpanElement?(M=u(P,this),F=this.elt=P,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(N=arguments.length<=1?void 0:arguments[1])):("string"==typeof P&&(N=P),F=document.createElement("div"),M=u(F,this),this.elt=F),M._name=N||"radioOption",M._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(j){return p(j)||b(j)&&p(j.firstElementChild)}).map(function(j){return p(j)?j:j.firstElementChild})},M.option=function(j,V){var k,E,I,W=!0,Y=!1,z=void 0;try{for(var te,J=M._getOptionsArray()[Symbol.iterator]();!(W=(te=J.next()).done);W=!0){var q=te.value;if(q.value===j){k=q;break}}}catch(ne){Y=!0,z=ne}finally{try{W||null==J.return||J.return()}finally{if(Y)throw z}}return void 0===k&&((k=document.createElement("input")).setAttribute("type","radio"),k.setAttribute("value",j)),k.setAttribute("name",M._name),b(k.parentElement)?E=k.parentElement:(E=document.createElement("label")).insertAdjacentElement("afterbegin",k),E.lastElementChild instanceof HTMLSpanElement?I=E.lastElementChild:(I=document.createElement("span"),k.insertAdjacentElement("afterend",I)),I.innerHTML=void 0===V?j:V,this.elt.appendChild(E),k},M.remove=function(j){var V=!0,k=!1,E=void 0;try{for(var I,W=M._getOptionsArray()[Symbol.iterator]();!(V=(I=W.next()).done);V=!0){var Y=I.value;if(Y.value===j)return void(b(Y.parentElement)?Y.parentElement:Y).remove()}}catch(z){k=!0,E=z}finally{try{V||null==W.return||W.return()}finally{if(k)throw E}}},M.value=function(){var j="",V=!0,k=!1,E=void 0;try{for(var I,W=M._getOptionsArray()[Symbol.iterator]();!(V=(I=W.next()).done);V=!0){var Y=I.value;if(Y.checked){j=Y.value;break}}}catch(z){k=!0,E=z}finally{try{V||null==W.return||W.return()}finally{if(k)throw E}}return j},M.selected=function(j){var V=null;if(void 0===j){var k=!0,E=!1,I=void 0;try{for(var W,Y=M._getOptionsArray()[Symbol.iterator]();!(k=(W=Y.next()).done);k=!0){var z=W.value;if(z.checked){V=z;break}}}catch(fe){E=!0,I=fe}finally{try{k||null==Y.return||Y.return()}finally{if(E)throw I}}}else{M._getOptionsArray().forEach(function(K){K.checked=!1,K.removeAttribute("checked")});var te=!0;E=!1,I=void 0;try{for(var J,q=M._getOptionsArray()[Symbol.iterator]();!(te=(J=q.next()).done);te=!0){var ne=J.value;ne.value===j&&(ne.setAttribute("checked",!0),ne.checked=!0,V=ne)}}catch(K){E=!0,I=K}finally{try{te||null==q.return||q.return()}finally{if(E)throw I}}}return V},M.disable=function(){var j=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],V=!0,k=!1,E=void 0;try{for(var I,W=M._getOptionsArray()[Symbol.iterator]();!(V=(I=W.next()).done);V=!0)I.value.setAttribute("disabled",j)}catch(Y){k=!0,E=Y}finally{try{V||null==W.return||W.return()}finally{if(k)throw E}}},M},_.default.prototype.createColorPicker=function(p){_.default._validateParameters("createColorPicker",arguments);var b=document.createElement("input");return b.type="color",p?p instanceof _.default.Color?b.value=p.toString("#rrggbb"):(_.default.prototype._colorMode="rgb",_.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},b.value=_.default.prototype.color(p).toString("#rrggbb")):b.value="#000000",(b=u(b,this)).color=function(){return p&&(p.mode&&(_.default.prototype._colorMode=p.mode),p.maxes&&(_.default.prototype._colorMaxes=p.maxes)),_.default.prototype.color(this.elt.value)},b},_.default.prototype.createInput=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",M=(_.default._validateParameters("createInput",arguments),document.createElement("input"));return M.setAttribute("value",p),M.setAttribute("type",b),u(M,this)},_.default.prototype.createFileInput=function(p){var b,M=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(_.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(b=document.createElement("input")).setAttribute("type","file"),M&&b.setAttribute("multiple",!0),b.addEventListener("change",function(F){var N=!0,P=!1,j=void 0;try{for(var V,k=F.target.files[Symbol.iterator]();!(N=(V=k.next()).done);N=!0)_.default.File._load(V.value,p)}catch(I){P=!0,j=I}finally{try{N||null==k.return||k.return()}finally{if(P)throw j}}},!1),u(b,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},_.default.prototype.createVideo=function(p,b){return _.default._validateParameters("createVideo",arguments),l(this,"video",p,b)},_.default.prototype.createAudio=function(p,b){return _.default._validateParameters("createAudio",arguments),l(this,"audio",p,b)},_.default.prototype.VIDEO="video",_.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(p){var b=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return b?new Promise(function(M,F){b.call(navigator,p,M,F)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),_.default.prototype.createCapture=function(){for(var p=arguments.length,b=new Array(p),M=0;M<p;M++)b[M]=arguments[M];if(_.default._validateParameters("createCapture",b),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var F,N=!0,P=!0,j=!1,V=0,k=b;V<k.length;V++){var E=k[V];E===_.default.prototype.VIDEO?P=!1:E===_.default.prototype.AUDIO?N=!1:"object"===c(E)?(void 0!==E.flipped&&(j=E.flipped,delete E.flipped),I=Object.assign({},I,E)):"function"==typeof E&&(F=E)}var I=Object.assign({},{video:N,audio:P},I),W=document.createElement("video"),Y=(W.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(I).then(function(z){try{"srcObject"in W?W.srcObject=z:W.src=window.URL.createObjectURL(z)}catch{W.src=z}},console.error),u(W,this,!0));return Y.loadedmetadata=!1,W.addEventListener("loadedmetadata",function(){W.play(),W.width?(Y.width=W.width,Y.height=W.height,j&&(Y.elt.style.transform="scaleX(-1)")):(Y.width=Y.elt.width=W.videoWidth,Y.height=Y.elt.height=W.videoHeight),Y.loadedmetadata=!0,F&&F(W.srcObject)}),Y.flipped=j,Y},_.default.prototype.createElement=function(p,b){return _.default._validateParameters("createElement",arguments),p=document.createElement(p),void 0!==b&&(p.innerHTML=b),u(p,this)},_.default.Element.prototype.addClass=function(p){return this.elt.className?this.hasClass(p)||(this.elt.className=this.elt.className+" "+p):this.elt.className=p,this},_.default.Element.prototype.removeClass=function(p){return this.elt.classList.remove(p),this},_.default.Element.prototype.hasClass=function(p){return this.elt.classList.contains(p)},_.default.Element.prototype.toggleClass=function(p){return this.elt.classList.contains(p)?this.elt.classList.remove(p):this.elt.classList.add(p),this},_.default.Element.prototype.child=function(p){return void 0===p?this.elt.childNodes:("string"==typeof p?("#"===p[0]&&(p=p.substring(1)),p=document.getElementById(p)):p instanceof _.default.Element&&(p=p.elt),p instanceof HTMLElement&&this.elt.appendChild(p),this)},_.default.Element.prototype.center=function(p){var b=this.elt.style.display,M="none"===this.elt.style.display,F="none"===this.parent().style.display,N={x:this.elt.offsetLeft,y:this.elt.offsetTop},P=(M&&this.show(),F&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),j=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===p||void 0===p?this.position(P/2+this.parent().offsetLeft,j/2+this.parent().offsetTop):"horizontal"===p?this.position(P/2+this.parent().offsetLeft,N.y):"vertical"===p&&this.position(N.x,j/2+this.parent().offsetTop),this.style("display",b),M&&this.hide(),F&&this.parent().hide(),this},_.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},_.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},_.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=p,this},_.default.Element.prototype._rotate=function(){var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=p,this},_.default.Element.prototype.style=function(p,b){if(void 0===(b=b instanceof _.default.Color?"rgba("+b.levels[0]+","+b.levels[1]+","+b.levels[2]+","+b.levels[3]/255+")":b)){if(-1===p.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(p);for(var M=p.split(";"),F=0;F<M.length;F++){var N=M[F].split(":");N[0]&&N[1]&&(this.elt.style[N[0].trim()]=N[1].trim())}}else this.elt.style[p]=b,"width"!==p&&"height"!==p&&"left"!==p&&"top"!==p||(b=window.getComputedStyle(this.elt).getPropertyValue(p).replace(/[^\d.]/g,""),this[p]=Math.round(parseFloat(b,10)));return this},_.default.Element.prototype.attribute=function(p,b){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===b?this.elt.getAttribute(p):(this.elt.setAttribute(p,b),this);if(void 0===b)return this.elt.firstChild.getAttribute(p);for(var M=0;M<this.elt.childNodes.length;M++)this.elt.childNodes[M].setAttribute(p,b)},_.default.Element.prototype.removeAttribute=function(p){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var b=0;b<this.elt.childNodes.length;b++)this.elt.childNodes[b].removeAttribute(p);return this.elt.removeAttribute(p),this},_.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},_.default.Element.prototype.show=function(){return this.elt.style.display="block",this},_.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},_.default.Element.prototype.size=function(p,b){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var M=p,F=b,N=_.default.prototype.AUTO;if(M!==N||F!==N){if(M===N?M=b*this.width/this.height:F===N&&(F=p*this.height/this.width),this.elt instanceof HTMLCanvasElement){var P,j={},V=this.elt.getContext("2d");for(P in V)j[P]=V[P];for(P in this.elt.setAttribute("width",M*this._pInst._pixelDensity),this.elt.setAttribute("height",F*this._pInst._pixelDensity),this.elt.style.width=M+"px",this.elt.style.height=F+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),j)this.elt.getContext("2d")[P]=j[P]}else this.elt.style.width=M+"px",this.elt.style.height=F+"px",this.elt.width=M,this.elt.height=F;this.width=M,this.height=F,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",M),this._pInst._setProperty("height",F))}return this},_.default.Element.prototype.remove=function(){this instanceof _.default.MediaElement&&(this.stop(),null!==(b=this.elt.srcObject)&&b.getTracks().forEach(function(M){M.stop()}));var p,b=this._pInst._elements.indexOf(this);for(p in-1!==b&&this._pInst._elements.splice(b,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},_.default.Element.prototype.drop=function(p,b){var M;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",M=function(F){F.preventDefault()}),this.elt.addEventListener("dragleave",M)),_.default.Element._attachListener("drop",function(N){N.preventDefault(),"function"==typeof b&&b.call(this,N),N=N.dataTransfer.files;var P=!0,j=!1,V=void 0;try{for(var k,E=N[Symbol.iterator]();!(P=(k=E.next()).done);P=!0)_.default.File._load(k.value,p)}catch(W){j=!0,V=W}finally{try{P||null==E.return||E.return()}finally{if(j)throw V}}},this)):console.log("The File APIs are not fully supported in this browser."),this},_.default.Element.prototype.draggable=function(p){var b,M="ontouchstart"in window,F=0,N=0,P=0,j=0,V=M?"touchend":"mouseup",k=M?"touchmove":"mousemove";function E(W){var Y;W=W||window.event,j=M?(Y=W.changedTouches,F=P-parseInt(Y[0].clientX),N=j-parseInt(Y[0].clientY),P=parseInt(Y[0].clientX),parseInt(Y[0].clientY)):(F=P-parseInt(W.clientX),N=j-parseInt(W.clientY),P=parseInt(W.clientX),parseInt(W.clientY)),p.style.left=p.offsetLeft-F+"px",p.style.top=p.offsetTop-N+"px"}function I(){document.removeEventListener(V,I,!1),document.removeEventListener(k,E,!1)}return void 0===p?b=p=this.elt:p!==this.elt&&p.elt!==this.elt&&(p=p.elt,b=this.elt),b.addEventListener(M?"touchstart":"mousedown",function(W){var Y;return W=W||window.event,j=M?(Y=W.changedTouches,P=parseInt(Y[0].clientX),parseInt(Y[0].clientY)):(P=parseInt(W.clientX),parseInt(W.clientY)),document.addEventListener(V,I,!1),document.addEventListener(k,E,!1),!1},!1),b.style.cursor="move",this},o=function(p){var b=F;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&x(b,p);var M=function w(p){return function(){var b,M,F=a(p);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=a(this).constructor,Reflect.construct(F,arguments,b)):F.apply(this,arguments),F=this,!(M=b)||"object"!==c(M)&&"function"!=typeof M?i(F):M}}(F);function F(N,P){d(this,F);var j=i(P=M.call(this,N,P));return P.elt.crossOrigin="anonymous",P._prevTime=0,P._cueIDCounter=0,P._cues=[],P.pixels=[],P._pixelsState=i(P),P._pixelDensity=1,P._modified=!1,P._frameOnCanvas=-1,Object.defineProperty(j,"src",{get:function(){var V=j.elt.children[0].src,k=j.elt.src===window.location.href?"":j.elt.src;return V===window.location.href?k:V},set:function(V){for(var k=0;k<j.elt.children.length;k++)j.elt.removeChild(j.elt.children[k]);var E=document.createElement("source");E.src=V,N.appendChild(E),j.elt.src=V,j.modified=!0}}),j._onended=function(){},j.elt.onended=function(){j._onended(j)},P}return f(F,[{key:"play",value:function(){var N;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(N=this.elt.play())&&N.catch&&N.catch(function(P){"NotAllowedError"===P.name?console.error(P):console.error("Media play method encountered an unexpected error",P)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var N=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(N)},{passive:!0,once:!0})}},{key:"autoplay",value:function(N){var P=this,j=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",N),N&&!j&&(N=function(){return P._setupAutoplayFailDetection()},4===this.elt.readyState?N():this.elt.addEventListener("canplay",N,{passive:!0,once:!0})),this}},{key:"volume",value:function(N){if(void 0===N)return this.elt.volume;this.elt.volume=N}},{key:"speed",value:function(N){if(void 0===N)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=N:this.presetPlaybackRate=N}},{key:"time",value:function(N){return void 0===N?this.elt.currentTime:(this.elt.currentTime=N,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];return _.default.Renderer2D.prototype.loadPixels.apply(this,P)}},{key:"updatePixels",value:function(N,P,j,V){return this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.updatePixels.call(this,N,P,j,V)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];return _.default.Renderer2D.prototype.get.apply(this,P)}},{key:"_getPixel",value:function(){this.loadPixels();for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];return _.default.Renderer2D.prototype._getPixel.apply(this,P)}},{key:"set",value:function(N,P,j){this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.set.call(this,N,P,j),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];_.default.prototype.copy.apply(this,P)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];_.default.Image.prototype.mask.apply(this,P)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(N){this._modified=N}},{key:"onended",value:function(N){return this._onended=N,this}},{key:"connect",value:function(N){var P,j;if("function"==typeof _.default.prototype.getAudioContext)P=_.default.prototype.getAudioContext(),j=_.default.soundOut.input;else try{j=(P=N.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=P.createMediaElementSource(this.elt),this.audioSourceNode.connect(j)),this.audioSourceNode.connect(N?N.input?N.input:N:j)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(N,k,j){var V=this._cueIDCounter++;return k=new m(k,N,V,j),this._cues.push(k),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),V}},{key:"removeCue",value:function(N){for(var P=0;P<this._cues.length;P++)this._cues[P].id===N&&(console.log(N),this._cues.splice(P,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var N=this.time(),P=0;P<this._cues.length;P++){var j=this._cues[P].time;this._prevTime<j&&j<=N&&this._cues[P].callback(this._cues[P].val)}this._prevTime=N}}]),F}(_.default.Element),_.default.MediaElement=o,o=function(){function p(b,M){d(this,p),this.file=b,this._pInst=M,M=b.type.split("/"),this.type=M[0],this.subtype=M[1],this.name=b.name,this.size=b.size,this.data=void 0}return f(p,null,[{key:"_createLoader",value:function(b,M){var F=new FileReader;return F.onload=function(N){var P,j=new _.default.File(b);"application/json"===j.file.type?j.data=JSON.parse(N.target.result):"text/xml"===j.file.type?(P=(new DOMParser).parseFromString(N.target.result,"text/xml"),j.data=new _.default.XML(P.documentElement)):j.data=N.target.result,M(j)},F}},{key:"_load",value:function(b,M){var F;/^text\//.test(b.type)||"application/json"===b.type?_.default.File._createLoader(b,M).readAsText(b):/^(video|audio)\//.test(b.type)?((F=new _.default.File(b)).data=URL.createObjectURL(b),M(F)):_.default.File._createLoader(b,M).readAsDataURL(b)}}]),p}(),_.default.File=o,S.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(c,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(c=c("../core/main"))&&c.__esModule?c:{default:c};v.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",v.default.prototype.accelerationX=0,v.default.prototype.accelerationY=0,v.default.prototype.accelerationZ=0,v.default.prototype.pAccelerationX=0,v.default.prototype.pAccelerationY=0,v.default.prototype.pAccelerationZ=0,v.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},v.default.prototype.rotationX=0,v.default.prototype.rotationY=0,v.default.prototype.rotationZ=0,v.default.prototype.pRotationX=0,v.default.prototype.pRotationY=0;var _=v.default.prototype.pRotationZ=0,h=0,f=0,x="clockwise",w="clockwise",i="clockwise",a=(v.default.prototype.pRotateDirectionX=void 0,v.default.prototype.pRotateDirectionY=void 0,v.default.prototype.pRotateDirectionZ=void 0,v.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},v.default.prototype.turnAxis=void 0,.5),d=30;v.default.prototype.setMoveThreshold=function(u){v.default._validateParameters("setMoveThreshold",arguments),a=u},v.default.prototype.setShakeThreshold=function(u){v.default._validateParameters("setShakeThreshold",arguments),d=u},v.default.prototype._ondeviceorientation=function(u){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(u.beta)),this._setProperty("rotationY",this._fromDegrees(u.gamma)),this._setProperty("rotationZ",this._fromDegrees(u.alpha)),this._handleMotion()},v.default.prototype._ondevicemotion=function(u){this._updatePAccelerations(),this._setProperty("accelerationX",2*u.acceleration.x),this._setProperty("accelerationY",2*u.acceleration.y),this._setProperty("accelerationZ",2*u.acceleration.z),this._handleMotion()},v.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var u,l,m,p,b,M=this._isGlobal?window:this;"function"==typeof M.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>a||Math.abs(this.accelerationY-this.pAccelerationY)>a||Math.abs(this.accelerationZ-this.pAccelerationZ)>a)&&M.deviceMoved(),"function"==typeof M.deviceTurned&&(l=this._toDegrees(this.rotationX)+180,m=this._toDegrees(this.pRotationX)+180,u=_+180,0<l-m&&l-m<270||l-m<-270?x="clockwise":(l-m<0||270<l-m)&&(x="counter-clockwise"),x!==this.pRotateDirectionX&&(u=l),90<Math.abs(l-u)&&Math.abs(l-u)<270&&(u=l,this._setProperty("turnAxis","X"),M.deviceTurned()),this.pRotateDirectionX=x,_=u-180,m=this._toDegrees(this.rotationY)+180,l=this._toDegrees(this.pRotationY)+180,u=h+180,0<m-l&&m-l<270||m-l<-270?w="clockwise":(m-l<0||270<m-this.pRotationY)&&(w="counter-clockwise"),w!==this.pRotateDirectionY&&(u=m),90<Math.abs(m-u)&&Math.abs(m-u)<270&&(u=m,this._setProperty("turnAxis","Y"),M.deviceTurned()),this.pRotateDirectionY=w,h=u-180,0<(l=this._toDegrees(this.rotationZ))-(m=this._toDegrees(this.pRotationZ))&&l-m<270||l-m<-270?i="clockwise":(l-m<0||270<l-m)&&(i="counter-clockwise"),i!==this.pRotateDirectionZ&&(f=l),90<Math.abs(l-f)&&Math.abs(l-f)<270&&(f=l,this._setProperty("turnAxis","Z"),M.deviceTurned()),this.pRotateDirectionZ=i,this._setProperty("turnAxis",void 0)),"function"==typeof M.deviceShaken&&(null!==this.pAccelerationX&&(p=Math.abs(this.accelerationX-this.pAccelerationX),b=Math.abs(this.accelerationY-this.pAccelerationY)),d<p+b&&M.deviceShaken())},S.default=c=v.default},{"../core/main":280}],298:[function(o,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(_){var h;this._downKeys[_.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",_.which),this._downKeys[_.which]=!0,this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"!=typeof(h=this._isGlobal?window:this).keyPressed||_.charCode||!1===h.keyPressed(_)&&_.preventDefault())},v.default.prototype._onkeyup=function(_){this._downKeys[_.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),this._setProperty("keyCode",_.which);var h=this._isGlobal?window:this;"function"==typeof h.keyReleased&&!1===h.keyReleased(_)&&_.preventDefault()},v.default.prototype._onkeypress=function(_){var h;_.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",_.which),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"==typeof(h=this._isGlobal?window:this).keyTyped&&!1===h.keyTyped(_)&&_.preventDefault())},v.default.prototype._onblur=function(_){this._downKeys={}},v.default.prototype.keyIsDown=function(_){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[_]||!1},v.default.prototype._areDownKeys=function(){for(var _ in this._downKeys)if(this._downKeys.hasOwnProperty(_)&&!0===this._downKeys[_])return!0;return!1},S.default=o=v.default},{"../core/main":280}],299:[function(o,$,S){"use strict";function v(w){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(w)}function _(w){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(i){return v(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(w)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(h=o("../core/main"))&&h.__esModule?h:{default:h},f=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==_(w)&&"function"!=typeof w)return{default:w};var i=x();if(i&&i.has(w))return i.get(w);var a,d={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in w){var u;Object.prototype.hasOwnProperty.call(w,a)&&((u=c?Object.getOwnPropertyDescriptor(w,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=w[a])}return d.default=w,i&&i.set(w,d),d}(o("../core/constants"));function x(){var w;return"function"!=typeof WeakMap?null:(x=function(){return w},w=new WeakMap)}h.default.prototype.movedX=0,h.default.prototype.movedY=0,h.default.prototype._hasMouseInteracted=!1,h.default.prototype.mouseX=0,h.default.prototype.mouseY=0,h.default.prototype.pmouseX=0,h.default.prototype.pmouseY=0,h.default.prototype.winMouseX=0,h.default.prototype.winMouseY=0,h.default.prototype.pwinMouseX=0,h.default.prototype.pwinMouseY=0,h.default.prototype.mouseButton=0,h.default.prototype.mouseIsPressed=!1,h.default.prototype._updateNextMouseCoords=function(w){var i,a,d,c,u;null!==this._curElement&&(!w.touches||0<w.touches.length)&&(a=this.width,d=this.height,(c=w)&&!c.clientX&&(c.touches?c=c.touches[0]:c.changedTouches&&(c=c.changedTouches[0])),u=(i=this._curElement.elt).getBoundingClientRect(),d={x:(c.clientX-u.left)/(a=i.scrollWidth/a||1),y:(c.clientY-u.top)/(i=i.scrollHeight/d||1),winX:c.clientX,winY:c.clientY,id:c.identifier},this._setProperty("movedX",w.movementX),this._setProperty("movedY",w.movementY),this._setProperty("mouseX",d.x),this._setProperty("mouseY",d.y),this._setProperty("winMouseX",d.winX),this._setProperty("winMouseY",d.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},h.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},h.default.prototype._setMouseButton=function(w){this._setProperty("mouseButton",1===w.button?f.CENTER:2===w.button?f.RIGHT:f.LEFT)},h.default.prototype._onmousemove=function(w){var i=this._isGlobal?window:this;this._updateNextMouseCoords(w),this.mouseIsPressed?"function"==typeof i.mouseDragged?!1===i.mouseDragged(w)&&w.preventDefault():"function"==typeof i.touchMoved&&!1===i.touchMoved(w)&&w.preventDefault():"function"==typeof i.mouseMoved&&!1===i.mouseMoved(w)&&w.preventDefault()},h.default.prototype._onmousedown=function(w){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(w),this._updateNextMouseCoords(w),this.touchstart||("function"==typeof i.mousePressed?!1===i.mousePressed(w)&&w.preventDefault():"function"==typeof i.touchStarted&&!1===i.touchStarted(w)&&w.preventDefault(),this.touchstart=!1)},h.default.prototype._onmouseup=function(w){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof i.mouseReleased?!1===i.mouseReleased(w)&&w.preventDefault():"function"==typeof i.touchEnded&&!1===i.touchEnded(w)&&w.preventDefault(),this.touchend=!1)},h.default.prototype._ondragend=h.default.prototype._onmouseup,h.default.prototype._ondragover=h.default.prototype._onmousemove,h.default.prototype._onclick=function(w){var i=this._isGlobal?window:this;"function"==typeof i.mouseClicked&&!1===i.mouseClicked(w)&&w.preventDefault()},h.default.prototype._ondblclick=function(w){var i=this._isGlobal?window:this;"function"==typeof i.doubleClicked&&!1===i.doubleClicked(w)&&w.preventDefault()},h.default.prototype._mouseWheelDeltaY=0,h.default.prototype._pmouseWheelDeltaY=0,h.default.prototype._onwheel=function(w){var i=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",w.deltaY),"function"==typeof i.mouseWheel&&(w.delta=w.deltaY,!1===i.mouseWheel(w)&&w.preventDefault())},h.default.prototype.requestPointerLock=function(){var w=this._curElement.elt;return w.requestPointerLock=w.requestPointerLock||w.mozRequestPointerLock,w.requestPointerLock?(w.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},h.default.prototype.exitPointerLock=function(){document.exitPointerLock()},S.default=o=h.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(o,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(v){if(null!==this._curElement){for(var _=[],h=0;h<v.touches.length;h++)_[h]=function(u,c,l,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,d=u.getBoundingClientRect();return c=u.scrollWidth/c||1,u=u.scrollHeight/l||1,{x:((l=i.touches[a]||i.changedTouches[a]).clientX-d.left)/c,y:(l.clientY-d.top)/u,winX:l.clientX,winY:l.clientY,id:l.identifier}}(this._curElement.elt,this.width,this.height,v,h);this._setProperty("touches",_)}},o.default.prototype._ontouchstart=function(v){var _=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),"function"==typeof _.touchStarted&&(!1===_.touchStarted(v)&&v.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(v){var _=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),"function"==typeof _.touchMoved?!1===_.touchMoved(v)&&v.preventDefault():"function"==typeof _.mouseDragged&&!1===_.mouseDragged(v)&&v.preventDefault()},o.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var _=this._isGlobal?window:this;"function"==typeof _.touchEnded&&(!1===_.touchEnded(v)&&v.preventDefault(),this.touchend=!0)},S.default=o=o.default},{"../core/main":280}],301:[function(o,$,S){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v,_,h,f,x={_toPixels:function(w){var i,a;return w instanceof ImageData?w.data:w.getContext("2d")?w.getContext("2d").getImageData(0,0,w.width,w.height).data:w.getContext("webgl")?(a=(i=w.getContext("webgl")).drawingBufferWidth*i.drawingBufferHeight*4,a=new Uint8Array(a),i.readPixels(0,0,w.width,w.height,i.RGBA,i.UNSIGNED_BYTE,a),a):void 0},_getARGB:function(w,i){return w[3+(i*=4)]<<24&4278190080|w[i]<<16&16711680|w[1+i]<<8&65280|255&w[2+i]},_setPixels:function(w,i){for(var a,d=0,c=w.length;d<c;d++)w[0+(a=4*d)]=(16711680&i[d])>>>16,w[1+a]=(65280&i[d])>>>8,w[2+a]=255&i[d],w[3+a]=(4278190080&i[d])>>>24},_toImageData:function(w){return w instanceof ImageData?w:w.getContext("2d").getImageData(0,0,w.width,w.height)},_createImageData:function(w,i){return x._tmpCanvas=document.createElement("canvas"),x._tmpCtx=x._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(w,i)},apply:function(w,u,a){var d=w.getContext("2d"),c=d.getImageData(0,0,w.width,w.height);(u=u(c,a))instanceof ImageData?d.putImageData(u,0,0,0,0,w.width,w.height):d.putImageData(c,0,0,0,0,w.width,w.height)},threshold:function(w){for(var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,a=x._toPixels(w),d=Math.floor(255*i),c=0;c<a.length;c+=4)a[c]=a[c+1]=a[c+2]=d<=.2126*a[c]+.7152*a[c+1]+.0722*a[c+2]?255:0},gray:function(w){for(var i=x._toPixels(w),a=0;a<i.length;a+=4)i[a]=i[a+1]=i[a+2]=.2126*i[a]+.7152*i[a+1]+.0722*i[a+2]},opaque:function(w){for(var i=x._toPixels(w),a=0;a<i.length;a+=4)i[a+3]=255;return i},invert:function(w){for(var i=x._toPixels(w),a=0;a<i.length;a+=4)i[a]=255-i[a],i[a+1]=255-i[a+1],i[a+2]=255-i[a+2]},posterize:function(w){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,a=x._toPixels(w);if(i<2||255<i)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var d=i-1,c=0;c<a.length;c+=4){var l=a[c+1],m=a[c+2];a[c]=255*(a[c]*i>>8)/d,a[c+1]=255*(l*i>>8)/d,a[c+2]=255*(m*i>>8)/d}},dilate:function(w){for(var i,a,d,c,u,l,m,p,b,M=x._toPixels(w),F=0,N=M.length?M.length/4:0,P=new Int32Array(N);F<N;)for(a=(i=F)+w.width;F<a;)c=d=x._getARGB(M,F),(b=F-1)<i&&(b=F),a<=(p=F+1)&&(p=F),(u=F-w.width)<0&&(u=0),N<=(l=F+w.width)&&(l=F),u=x._getARGB(M,u),b=x._getARGB(M,b),l=x._getARGB(M,l),(c=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(d=b,c=m),c<(m=77*((b=x._getARGB(M,p))>>16&255)+151*(b>>8&255)+28*(255&b))&&(d=b,c=m),c<(p=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(d=u,c=p),c<(b=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(d=l,c=b),P[F++]=d;x._setPixels(M,P)},erode:function(w){for(var i,a,d,c,u,l,m,p,b,M=x._toPixels(w),F=0,N=M.length?M.length/4:0,P=new Int32Array(N);F<N;)for(a=(i=F)+w.width;F<a;)c=d=x._getARGB(M,F),(b=F-1)<i&&(b=F),a<=(p=F+1)&&(p=F),(u=F-w.width)<0&&(u=0),N<=(l=F+w.width)&&(l=F),u=x._getARGB(M,u),b=x._getARGB(M,b),l=x._getARGB(M,l),(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<(c=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(d=b,c=m),(m=77*((b=x._getARGB(M,p))>>16&255)+151*(b>>8&255)+28*(255&b))<c&&(d=b,c=m),(p=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<c&&(d=u,c=p),(b=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<c&&(d=l,c=b),P[F++]=d;x._setPixels(M,P)},blur:function(w,i){for(var a,d,c,u,l,m,p,b,M,F,N=x._toPixels(w),P=w.width,j=w.height,V=P*j,k=new Int32Array(V),E=0;E<V;E++)k[E]=x._getARGB(N,E);var I,W,Y,z,te,J,q,ne,fe=new Int32Array(V),De=new Int32Array(V),K=new Int32Array(V),L=new Int32Array(V),se=0,pe=3.5*i|0;if(v!==(pe=pe<1?1:pe<248?pe:248)){_=1+(v=pe)<<1,h=new Int32Array(_),f=new Array(_);for(var Ce=0;Ce<_;Ce++)f[Ce]=new Int32Array(256);for(var Fe=1,We=pe-1;Fe<pe;Fe++){h[pe+Fe]=h[We]=J=We*We,q=f[pe+Fe],ne=f[We--];for(var tt=0;tt<256;tt++)q[tt]=ne[tt]=J*tt}te=h[pe]=pe*pe,q=f[pe];for(var Oe=0;Oe<256;Oe++)q[Oe]=te*Oe}for(W=0;W<j;W++){for(I=0;I<P;I++){if(u=c=d=l=a=0,(m=I-v)<0)F=-m,m=0;else{if(P<=m)break;F=0}for(Y=F;Y<_&&!(P<=m);Y++){var ke=k[m+se];l+=(z=f[Y])[(-16777216&ke)>>>24],d+=z[(16711680&ke)>>16],c+=z[(65280&ke)>>8],u+=z[255&ke],a+=h[Y],m++}fe[p=se+I]=l/a,De[p]=d/a,K[p]=c/a,L[p]=u/a}se+=P}for(M=(b=-v)*P,W=se=0;W<j;W++){for(I=0;I<P;I++){if(u=c=d=l=a=0,b<0)F=p=-b,m=I;else{if(j<=b)break;F=0,p=b,m=I+M}for(Y=F;Y<_&&!(j<=p);Y++)l+=(z=f[Y])[fe[m]],d+=z[De[m]],c+=z[K[m]],u+=z[L[m]],a+=h[Y],p++,m+=P;k[I+se]=l/a<<24|d/a<<16|c/a<<8|u/a}se+=P,M+=P,b++}x._setPixels(N,k)}};S.default=x},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=h(o("../core/main")),_=h(o("omggif"));function h(x){return x&&x.__esModule?x:{default:x}}function f(x){return function(w){if(Array.isArray(w)){for(var i=0,a=new Array(w.length);i<w.length;i++)a[i]=w[i];return a}}(x)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.createImage=function(x,w){return v.default._validateParameters("createImage",arguments),new v.default.Image(x,w)},v.default.prototype.saveCanvas=function(){for(var x,w,i,a,d,c,u=arguments.length,l=new Array(u),m=0;m<u;m++)l[m]=arguments[m];switch(v.default._validateParameters("saveCanvas",l),l[0]instanceof HTMLCanvasElement?(x=l[0],l.shift()):l[0]instanceof v.default.Element?(x=l[0].elt,l.shift()):l[0]instanceof v.default.Framebuffer?((d=this.createGraphics((a=l[0]).width,a.height)).pixelDensity(pixelDensity()),a.loadPixels(),d.loadPixels(),d.pixels.set(a.pixels),d.updatePixels(),x=d.elt,l.shift()):x=this._curElement&&this._curElement.elt,1<=l.length&&(w=l[0]),i=(i=2<=l.length?l[1]:i)||v.default.prototype._checkFileExtension(w,i)[1]||"png"){default:c="image/png";break;case"jpeg":case"jpg":c="image/jpeg"}x.toBlob(function(p){v.default.prototype.downloadFile(p,w,i),d&&d.remove()},c)},v.default.prototype.encodeAndDownloadGif=function(x,w){for(var i=x.gifProperties,d=(1===(a=i.loopLimit)?a=null:null===a&&(a=0),new Uint8Array(x.width*x.height*i.numFrames)),c=[],u={},l=0;l<i.numFrames;l++){for(var m=new Set,p=i.frames[l].image.data,b=p.length,M=new Uint32Array(x.width*x.height),F=0,N=0;F<b;F+=4,N++){var P=p[F+0]<<16|p[F+1]<<8|p[F+2]<<0;m.add(P),M[N]=P}var j=f(m).sort().toString();void 0===u[j]?u[j]={freq:1,frames:[l]}:(u[j].freq+=1,u[j].frames.push(l)),c.push(M)}for(var E=[],V=Object.keys(u).sort(function(K,L){return u[L].freq-u[K].freq}),k=V[0].split(",").map(function(K){return parseInt(K)}),I=(E=E.concat(u[k].frames),new Set(k)),W=1;W<V.length;W++){var Y=V[W].split(",").map(function(K){return parseInt(K)}).filter(function(K){return!I.has(K)});if(k.length+Y.length<=256){for(var z=0;z<Y.length;z++)k.push(Y[z]),I.add(Y[z]);E=E.concat(u[V[W]].frames)}}E=new Set(E);for(var te={},J=0;J<k.length;J++)te[k[J]]||(te[k[J]]=J);for(var q=1;q<k.length;)q<<=1;k.length=q;for(var a={loop:a,palette:new Uint32Array(k)},ne=new _.default.GifWriter(d,x.width,x.height,a),fe={},De=0;De<i.numFrames;De++)!function(L){var se=!E.has(L),pe=se?[]:k,Ce=new Uint8Array(x.width*x.height),Fe={},We=new Set,tt=(c[L].forEach(function(Qe,Ke){se?(void 0===Fe[Qe]&&(Fe[Qe]=pe.length,pe.push(Qe)),Ce[Ke]=Fe[Qe]):Ce[Ke]=te[Qe],0<L&&c[L-1][Ke]!==Qe&&We.add(Qe)}),{});if(0<(Oe=pe.filter(function(Qe){return!We.has(Qe)})).length){var Oe,ke=(se?Fe:te)[Oe=Oe[0]];if(0<L){for(var Be=0;Be<c[L].length;Be++)c[L-1][Be]===c[L][Be]&&(Ce[Be]=ke);tt.transparent=ke,fe.frameOpts.disposal=1}}if(tt.delay=i.frames[L].delay/10,se){for(var je=1;je<pe.length;)je<<=1;pe.length=je,tt.palette=new Uint32Array(pe)}0<L&&ne.addFrame(0,0,x.width,x.height,fe.pixelPaletteIndex,fe.frameOpts),fe={pixelPaletteIndex:Ce,frameOpts:tt}}(De);fe.frameOpts.disposal=1,ne.addFrame(0,0,x.width,x.height,fe.pixelPaletteIndex,fe.frameOpts),a=new Blob([d.slice(0,ne.end())],{type:"image/gif"}),v.default.prototype.downloadFile(a,w,"gif")},v.default.prototype.saveFrames=function(x,w,i,c,d){v.default._validateParameters("saveFrames",arguments),i=v.default.prototype.constrain(i=i||3,0,15),i*=1e3,c=v.default.prototype.constrain(c||15,0,22);var u=0,l=v.default.prototype._makeFrame,m=this._curElement.elt,p=[],b=setInterval(function(){p.push(l(x+u,w,m)),u++},1e3/c);setTimeout(function(){if(clearInterval(b),d)d(p);else for(var M=0,F=p;M<F.length;M++){var N=F[M];v.default.prototype.downloadFile(N.imageData,N.filename,N.ext)}p=[]},.01+i)},v.default.prototype._makeFrame=function(x,w,d){var a;if(d=this?this._curElement.elt:d,w)switch(w.toLowerCase()){case"png":default:a="image/png";break;case"jpeg":case"jpg":a="image/jpeg"}else w="png",a="image/png";d=(d=d.toDataURL(a)).replace(a,"image/octet-stream");var c={};return c.imageData=d,c.filename=x,c.ext=w,c},S.default=o=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(o,$,S){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function _(m){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,o("regenerator-runtime/runtime");var h=d(o("../core/main")),f=d(o("../core/helpers")),x=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==_(m)&&"function"!=typeof m)return{default:m};var p=a();if(p&&p.has(m))return p.get(m);var b,M={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var N;Object.prototype.hasOwnProperty.call(m,b)&&((N=F?Object.getOwnPropertyDescriptor(m,b):null)&&(N.get||N.set)?Object.defineProperty(M,b,N):M[b]=m[b])}return M.default=m,p&&p.set(m,M),M}(o("../core/constants")),w=d(o("omggif")),i=o("gifenc");function a(){var m;return"function"!=typeof WeakMap?null:(a=function(){return m},m=new WeakMap)}function d(m){return m&&m.__esModule?m:{default:m}}function c(m,p,b,M,F,N,P){try{var j=m[N](P),V=j.value}catch(k){return void b(k)}j.done?p(V):Promise.resolve(V).then(M,F)}function l(m,p){return 0<m&&m<p?m:p}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),h.default.prototype.loadImage=function(m,p,b){h.default._validateParameters("loadImage",arguments);var M=new h.default.Image(1,1,this),F=this,N=new Request(m,{method:"GET",mode:"cors"});return fetch(m,N).then(function(P){var j,V=P.headers.get("content-type");null===V&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),V&&V.includes("image/gif")?P.arrayBuffer().then(function(k){if(k){k=new Uint8Array(k);for(var E=M,I=p,W=b,Y=function(se){F._decrementPreload()}.bind(F),z=new w.default.GifReader(k),te=(E.width=E.canvas.width=z.width,E.height=E.canvas.height=z.height,[]),J=z.numFrames(),q=new Uint8ClampedArray(E.width*E.height*4),ne=0;ne<J;ne++){var fe=z.frameInfo(ne),De=E.drawingContext.getImageData(0,0,E.width,E.height),K=(q=De.data.slice(),function(se,pe){try{pe.decodeAndBlitFrameRGBA(se,q)}catch(Ce){h.default._friendlyFileLoadError(8,E.src),"function"==typeof W?W(Ce):console.error(Ce)}}(ne,z),new ImageData(q,E.width,E.height));0===(E.drawingContext.putImageData(K,0,0),K=fe.delay)&&(K=10),te.push({image:E.drawingContext.getImageData(0,0,E.width,E.height),delay:10*K}),2===fe.disposal?E.drawingContext.clearRect(fe.x,fe.y,fe.width,fe.height):3===fe.disposal&&E.drawingContext.putImageData(De,0,0,fe.x,fe.y,fe.width,fe.height)}null===(k=z.loopCount())?k=1:0===k&&(k=null),E.drawingContext.putImageData(te[0].image,0,0),1<te.length&&(E.gifProperties={displayIndex:0,loopLimit:k,loopCount:0,frames:te,numFrames:J,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof I&&I(E),Y()}},function(k){"function"==typeof b?(b(k),F._decrementPreload()):console.error(k)}):((j=new Image).onload=function(){M.width=M.canvas.width=j.width,M.height=M.canvas.height=j.height,M.drawingContext.drawImage(j,0,0),M.modified=!0,"function"==typeof p&&p(M),F._decrementPreload()},j.onerror=function(k){h.default._friendlyFileLoadError(0,j.src),"function"==typeof b?(b(k),F._decrementPreload()):console.error(k)},0!==m.indexOf("data:image/")&&(j.crossOrigin="Anonymous"),j.src=m),M.modified=!0}).catch(function(P){h.default._friendlyFileLoadError(0,m),"function"==typeof b?(b(P),F._decrementPreload()):console.error(P)}),M},h.default.prototype.saveGif=function(){m=y.mark(function b(M,F){var N,P,j,V,k,E,I,W,Y,z,te,J,q,ne,fe,De,K,L,se,pe,Ce,Fe,We,tt,Oe,ke,Be=arguments;return y.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(N=2<Be.length&&void 0!==Be[2]?Be[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof M)throw TypeError("fileName parameter must be a string");je.next=3;break;case 3:if("number"!=typeof F)throw TypeError("Duration parameter must be a number");je.next=5;break;case 5:if(j=N&&N.units||"seconds",V=N&&N.silent||!1,k=N&&N.notificationDuration||0,E=N&&N.notificationID||"progressBar","number"!=typeof(P=N&&N.delay||0))throw TypeError("Delay parameter must be a number");je.next=12;break;case 12:if("seconds"!==j&&"frames"!==j)throw TypeError('Units parameter must be either "frames" or "seconds"');je.next=14;break;case 14:if("boolean"!=typeof V)throw TypeError("Silent parameter must be a boolean");je.next=16;break;case 16:if("number"!=typeof k)throw TypeError("Notification duration parameter must be a number");je.next=18;break;case 18:if("string"!=typeof E)throw TypeError("Notification ID parameter must be a string");je.next=20;break;case 20:return this._recording=!0,I=(I=1/(z=(z=this._targetFrameRate)!==1/0&&void 0!==z&&0!==z?z:60)*1e3)<20?20:I,Y=(W="seconds"===j?F*z:F)+(z="seconds"===j?P*z:P),this.frameCount=z,te=this._pixelDensity,this.pixelDensity(1),J=[],null!==document.getElementById(E)&&document.getElementById(E).remove(),V||((q=this.createP("")).id(E),q.style("font-size","16px"),q.style("font-family","Montserrat"),q.style("background-color","#ffffffa0"),q.style("padding","8px"),q.style("border-radius","10px"),q.position(0,0)),this._renderer instanceof h.default.RendererGL&&(fe=this.drawingContext,ne=new Uint8Array(fe.drawingBufferWidth*fe.drawingBufferHeight*4)),this.noLoop(),je.next=39,Promise.resolve();case 39:if(z<Y)return this.redraw(),tt=void 0,tt=this._renderer instanceof h.default.RendererGL?(ne=new Uint8Array(fe.drawingBufferWidth*fe.drawingBufferHeight*4),fe.readPixels(0,0,fe.drawingBufferWidth,fe.drawingBufferHeight,fe.RGBA,fe.UNSIGNED_BYTE,ne),function(Qe,Ke,gt){for(var ft=parseInt(gt/2),yt=4*Ke,Pt=new Uint8Array(4*Ke),Jt=0;Jt<ft;++Jt){var Ft=Jt*yt,un=(gt-Jt-1)*yt;Pt.set(Qe.subarray(Ft,Ft+yt)),Qe.copyWithin(Ft,un,un+yt),Qe.set(Pt,un)}return Qe}(ne,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,J.push(tt),z++,V||q.html("Saved frame <b>"+J.length.toString()+"</b> out of "+W.toString()),je.next=48,new Promise(function(Qe){return setTimeout(Qe,0)});je.next=50;break;case 48:je.next=39;break;case 50:V||q.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(te),De=(0,i.GIFEncoder)(),K=function(Qe){for(var Ke=new Uint8Array(Qe.length*Qe[0].length),gt=0;gt<Qe.length;gt++)Ke.set(Qe[gt],gt*Qe[0].length);var ft=(0,i.quantize)(Ke,256,{format:"rgba4444",oneBitAlpha:!0});return 256===ft.length?ft[ft.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ft.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ft}(J),L={},se=function(Qe){for(var Ke=Qe.length/4,gt=new Uint8Array(Ke),ft=0;ft<Ke;ft++){var yt=Qe[4*ft]<<24|Qe[4*ft+1]<<16|Qe[4*ft+2]<<8|Qe[4*ft+3];void 0===L[yt]&&(L[yt]=(0,i.nearestColorIndex)(K,Qe.slice(4*ft,4*(ft+1)))),gt[ft]=L[yt]}return gt},pe=K.length-1,Ce=[],Fe=0;case 60:if(!(Fe<J.length)){je.next=71;break}if(We=se(J[Fe]),tt=We.slice(),0===Fe)De.writeFrame(We,this.width,this.height,{palette:K,delay:I,dispose:1});else{for(Oe=0;Oe<We.length;Oe++)We[Oe]===Ce[Oe]&&(We[Oe]=pe);De.writeFrame(We,this.width,this.height,{delay:I,transparent:!0,transparentIndex:pe,dispose:1})}return Ce=tt,V||q.html("Rendered frame <b>"+Fe.toString()+"</b> out of "+W.toString()),je.next=68,new Promise(function(Qe){return setTimeout(Qe,0)});case 68:Fe++,je.next=60;break;case 71:De.finish(),ke=De.bytesView(),ke=new Blob([ke],{type:"image/gif"}),J=[],this._recording=!1,this.loop(),V||(q.html("Done. Downloading your gif!\u{1f338}"),0<k&&setTimeout(function(){return q.remove()},1e3*k)),h.default.prototype.downloadFile(ke,M,"gif");case 80:case"end":return je.stop()}},b,this)});var m,p=function(){var b=this,M=arguments;return new Promise(function(F,N){var P=m.apply(b,M);function j(k){c(P,F,N,j,V,"next",k)}function V(k){c(P,F,N,j,V,"throw",k)}j(void 0)})};return function(b,M){return p.apply(this,arguments)}}(),h.default.prototype.image=function(m,p,b,M,z,te,J,q,fe,k,E,I){h.default._validateParameters("image",arguments);var ne=m.width,W=m.height,Y=(I=I||x.CENTER,E=E||x.CENTER,m.elt&&(ne=void 0!==ne?ne:m.elt.width,W=void 0!==W?W:m.elt.height),m.elt&&m.elt.videoWidth&&!m.canvas&&(ne=void 0!==ne?ne:m.elt.videoWidth,W=void 0!==W?W:m.elt.videoHeight),M||ne);z=z||W,te=te||0,J=J||0,q=l(void 0!==q?q:ne,ne),ne=l(void 0!==fe?fe:W,W),fe=1,m.elt&&!m.canvas&&m.elt.style.width&&(fe=m.elt.videoWidth&&!M?m.elt.videoWidth:m.elt.width,fe/=parseInt(m.elt.style.width,10)),te*=fe,J*=fe,ne*=fe,q*=fe,W=function u(m,p,b,M,F,N,P,j,V,k,E){var I,W,Y,z,te,J,q,ne,fe;return m===x.COVER&&(I=p,Y=b,q=N,ne=P,J=j,fe=V,W=k,z=E,q/=te=Math.max(q/W,ne/z),ne/=te,te=J,J=fe,I===x.CENTER?te+=(W-q)/2:I===x.RIGHT&&(te+=W-q),Y===x.CENTER?J+=(z-ne)/2:Y===x.BOTTOM&&(J+=z-ne),j=(fe={x:te,y:J,w:q,h:ne}).x,V=fe.y,k=fe.w,E=fe.h),m===x.CONTAIN&&(I=p,W=b,Y=M,z=F,te=N,J=P,q=k,ne=E,q/=fe=Math.max(q/te,ne/J),ne/=fe,fe=Y,Y=z,I===x.CENTER?fe+=(te-q)/2:I===x.RIGHT&&(fe+=te-q),W===x.CENTER?Y+=(J-ne)/2:W===x.BOTTOM&&(Y+=J-ne),M=(m={x:fe,y:Y,w:q,h:ne}).x,F=m.y,N=m.w,P=m.h),{sx:j,sy:V,sw:k,sh:E,dx:M,dy:F,dw:N,dh:P}}(k,E,I,(W=f.default.modeAdjust(p,b,Y,z,this._renderer._imageMode)).x,W.y,W.w,W.h,te,J,q,ne),this._renderer.image(m,W.sx,W.sy,W.sw,W.sh,W.dx,W.dy,W.dw,W.dh)},h.default.prototype.tint=function(){for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];h.default._validateParameters("tint",p);var M=this.color.apply(this,p);this._renderer._tint=M.levels},h.default.prototype.noTint=function(){this._renderer._tint=null},h.default.prototype._getTintedImageCanvas=h.default.Renderer2D.prototype._getTintedImageCanvas,h.default.prototype.imageMode=function(m){h.default._validateParameters("imageMode",arguments),m!==x.CORNER&&m!==x.CORNERS&&m!==x.CENTER||(this._renderer._imageMode=m)},S.default=o=h.default},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=h(o("../core/main")),_=h(o("./filters"));function h(x){return x&&x.__esModule?x:{default:x}}function f(x,w){for(var i=0;i<w.length;i++){var a=w[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(x,a.key,a)}}v.default.Image=function(){function x(d,c){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");this.width=d,this.height=c,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var w,i;return w=x,(i=[{key:"pixelDensity",value:function(d){return void 0!==d?(d<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),d=1),this._pixelDensity=d,this.width/=d,this.height/=d,this):this._pixelDensity}},{key:"_animateGif",value:function(l){var c,u=this.gifProperties;l=l._lastRealFrameTime,0===u.lastChangeTime&&(u.lastChangeTime=l),u.playing&&(u.timeDisplayed=l-u.lastChangeTime,u.timeDisplayed>=(c=u.frames[u.displayIndex].delay)&&(c=Math.floor(u.timeDisplayed/c),u.timeDisplayed=0,u.lastChangeTime=l,u.displayIndex+=c,u.loopCount=Math.floor(u.displayIndex/u.numFrames),null!==u.loopLimit&&u.loopCount>=u.loopLimit?u.playing=!1:(this.drawingContext.putImageData(u.frames[l=u.displayIndex%u.numFrames].image,0,0),u.displayIndex=l,this.setModified(!0))))}},{key:"_setProperty",value:function(d,c){this[d]=c,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(d,c,u,l){v.default.Renderer2D.prototype.updatePixels.call(this,d,c,u,l),this.setModified(!0)}},{key:"get",value:function(d,c,u,l){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];return v.default.Renderer2D.prototype._getPixel.apply(this,c)}},{key:"set",value:function(d,c,u){v.default.Renderer2D.prototype.set.call(this,d,c,u),this.setModified(!0)}},{key:"resize",value:function(d,c){0===d&&0===c?(d=this.canvas.width,c=this.canvas.height):0===d?d=this.canvas.width*c/this.canvas.height:0===c&&(c=this.canvas.height*d/this.canvas.width),d=Math.floor(d),c=Math.floor(c);var u=document.createElement("canvas");if(u.width=d,u.height=c,this.gifProperties)for(var l=this.gifProperties,m=0;m<l.numFrames;m++){for(var p=this.drawingContext.createImageData(d,c),b=(j=j=P=N=F=void 0,l.frames[m].image),M=p,F=0,N=0;N<M.height;N++)for(var P=0;P<M.width;P++){var j=Math.floor(P*b.width/M.width);j=4*(Math.floor(N*b.height/M.height)*b.width+j),M.data[F++]=b.data[j++],M.data[F++]=b.data[j++],M.data[F++]=b.data[j++],M.data[F++]=b.data[+j]}l.frames[m].image=p}u.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,u.width,u.height),this.canvas.width=this.width=d,this.canvas.height=this.height=c,this.drawingContext.drawImage(u,0,0,d,c,0,0,d,c),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];v.default.prototype.copy.apply(this,c)}},{key:"mask",value:function(d){var c=this.drawingContext.globalCompositeOperation,u=1,l=[d=void 0===d?this:d,0,0,(u=d instanceof v.default.Renderer?d._pInst._pixelDensity:u)*d.width,u*d.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var m=0;m<this.gifProperties.frames.length;m++)this.drawingContext.putImageData(this.gifProperties.frames[m].image,0,0),this.copy.apply(this,l),this.gifProperties.frames[m].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,l);this.drawingContext.globalCompositeOperation=c,this.setModified(!0)}},{key:"filter",value:function(d,c){_.default.apply(this.canvas,_.default[d],c),this.setModified(!0)}},{key:"blend",value:function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,c),this.setModified(!0)}},{key:"setModified",value:function(d){this._modified=d}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(d,c){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,d):v.default.prototype.saveCanvas(this.canvas,d,c)}},{key:"reset",value:function(){var d;this.gifProperties&&((d=this.gifProperties).playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var d;if(this.gifProperties)return(d=this.gifProperties).displayIndex%d.numFrames}},{key:"setFrame",value:function(d){var c;this.gifProperties&&(d<(c=this.gifProperties).numFrames&&0<=d?(c.timeDisplayed=0,c.lastChangeTime=0,c.displayIndex=d,this.drawingContext.putImageData(c.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(d,c){if(this.gifProperties){var u=this.gifProperties;if(c<u.numFrames&&0<=c)u.frames[c].delay=d;else{var l=!0,m=void(c=!1);try{for(var p,b=u.frames[Symbol.iterator]();!(l=(p=b.next()).done);l=!0)p.value.delay=d}catch(F){c=!0,m=F}finally{try{l||null==b.return||b.return()}finally{if(c)throw m}}}}}}])&&f(w.prototype,i),x}(),S.default=o=v.default.Image},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(o,$,S){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=h(o("../core/main")),_=h(o("./filters"));function h(f){return f&&f.__esModule?f:{default:f}}o("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var f,x=arguments.length,w=new Array(x),i=0;i<x;i++)w[i]=arguments[i];v.default._validateParameters("blend",w),this._renderer?(f=this._renderer).blend.apply(f,w):v.default.Renderer2D.prototype.blend.apply(this,w)},v.default.prototype.copy=function(){for(var f,x,w,i,a,d,c,u,l,m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];if(v.default._validateParameters("copy",p),9===p.length)f=p[0],x=p[1],w=p[2],i=p[3],a=p[4],d=p[5],c=p[6],u=p[7],l=p[8];else{if(8!==p.length)throw new Error("Signature not supported");f=this,x=p[0],w=p[1],i=p[2],a=p[3],d=p[4],c=p[5],u=p[6],l=p[7]}v.default.prototype._copyHelper(this,f,x,w,i,a,d,c,u,l)},v.default.prototype._copyHelper=function(f,x,w,i,a,d,c,u,l,m){var p=x.canvas.width/x.width,b=0,M=0;x._renderer&&x._renderer.isP3D&&(b=x.width/2,M=x.height/2),f._renderer&&f._renderer.isP3D?(f.push(),f.resetMatrix(),f.noLights(),f.blendMode(f.BLEND),f.imageMode(f.CORNER),v.default.RendererGL.prototype.image.call(f._renderer,x,w+b,i+M,a,d,c,u,l,m),f.pop()):f.drawingContext.drawImage(x.canvas,p*(w+b),p*(i+M),p*a,p*d,c,u,l,m)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];v.default._validateParameters("filter",x);var c=function(){var u,l={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?l.shader=arguments.length<=0?void 0:arguments[0]:(l.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(l.value=arguments.length<=1?void 0:arguments[1]),!1===((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])&&(l.useWebGL=!1)),l}.apply(void 0,x),i=c.shader,a=c.operation,d=c.value;c=c.useWebGL,this._renderer.isP3D&&i?v.default.RendererGL.prototype.filter.call(this._renderer,i):c||this._renderer.isP3D?(!c&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,a,d):((i=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),i.filter.apply(i,x),this.copy(i._renderer,0,0,this.width,this.height,0,0,this.width,this.height),i.clear())):_.default.apply(void 0!==this.canvas?this.canvas:this.elt,_.default[a],d)},v.default.prototype.get=function(f,x,w,i){var a;return v.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},v.default.prototype.loadPixels=function(){for(var f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];v.default._validateParameters("loadPixels",x),this._renderer.loadPixels()},v.default.prototype.set=function(f,x,w){this._renderer.set(f,x,w)},v.default.prototype.updatePixels=function(f,x,w,i){v.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(f,x,w,i)},S.default=o=v.default},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(o,$,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=x(o("../core/main")),h=(o("whatwg-fetch"),o("es6-promise/auto"),x(o("fetch-jsonp"))),f=x(o("file-saver"));function x(d){return d&&d.__esModule?d:{default:d}}function w(d){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(d)}function i(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(d,c){c&&!0!==c&&"true"!==c||(c="");var u="";return(d=d||"untitled")&&d.includes(".")&&(u=d.split(".").pop()),c&&u!==c&&(u=c,d="".concat(d,".").concat(u)),[d,u]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),_.default.prototype.loadJSON=function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];_.default._validateParameters("loadJSON",c);for(var l,m,p,b=c[0],M={},F="json",N=1;N<c.length;N++){var P=c[N];"string"==typeof P?"jsonp"!==P&&"json"!==P||(F=P):"function"==typeof P?l?m=P:l=P:"object"===w(P)&&(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))&&(F="jsonp",p=P)}var j=this;return this.httpDo(b,"GET",p,F,function(V){for(var k in V)M[k]=V[k];void 0!==l&&l(V),j._decrementPreload()},function(V){if(_.default._friendlyFileLoadError(5,b),!m)throw V;m(V)}),M},_.default.prototype.loadStrings=function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];_.default._validateParameters("loadStrings",c);for(var l,m,p=[],b=1;b<c.length;b++){var M=c[b];"function"==typeof M&&(void 0===l?l=M:void 0===m&&(m=M))}var F=this;return _.default.prototype.httpDo.call(this,c[0],"GET","text",function(N){for(var P=N.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),j=0,V=P.length;j<V;j+=32768)Array.prototype.push.apply(p,P.slice(j,Math.min(j+32768,V)));void 0!==l&&l(p),F._decrementPreload()},function(N){if(_.default._friendlyFileLoadError(3,N),!m)throw N;m(N)}),p},_.default.prototype.loadTable=function(d){var c,u,l,m=[],p=!1,b=d.substring(d.lastIndexOf(".")+1,d.length);"csv"===b?l=",":"ssv"===b?l=";":"tsv"===b&&(l="\t");for(var M=1;M<arguments.length;M++)"function"==typeof arguments[M]?void 0===c?c=arguments[M]:void 0===u&&(u=arguments[M]):"string"==typeof arguments[M]&&(m.push(arguments[M]),"header"===arguments[M]&&(p=!0),"csv"===arguments[M]?l=",":"ssv"===arguments[M]?l=";":"tsv"===arguments[M]&&(l="\t"));var F=new _.default.Table,N=this;return this.httpDo(d,"GET","table",function(P){for(var j,V,k={},I=[],W=0,Y=null,z=function(){k.currentState=0,k.token=""},te=function(){Y.push(k.token),z()},J=function(){k.currentState=4,I.push(Y),Y=null};;){if(null==(j=P[W++])){if(k.escaped)throw new Error("Unclosed quote in file.");if(Y){te(),J();break}}if(null===Y&&(k.escaped=!1,Y=[],z()),0===k.currentState){if('"'===j){k.escaped=!0,k.currentState=1;continue}k.currentState=1}if(1===k.currentState&&k.escaped)if('"'===j)'"'===P[W]?(k.token+='"',W++):(k.escaped=!1,k.currentState=2);else{if("\r"===j)continue;k.token+=j}else"\r"===j?("\n"===P[W]&&W++,te(),J()):"\n"===j?(te(),J()):j===l?te():1===k.currentState&&(k.token+=j)}if(p)F.columns=I.shift();else for(var q=0;q<I[0].length;q++)F.columns[q]="null";for(var ne=0;ne<I.length;ne++)(1!==I[ne].length||"undefined"!==I[ne][0]&&""!==I[ne][0])&&((V=new _.default.TableRow).arr=I[ne],V.obj=function(fe,De){if(void 0===(De=De||[]))for(var K=0;K<fe.length;K++)De[K.toString()]=K;return Object.fromEntries(De.map(function(L,se){return[L,fe[se]]}))}(I[ne],F.columns),F.addRow(V));"function"==typeof c&&c(F),N._decrementPreload()},function(P){_.default._friendlyFileLoadError(2,d),u?u(P):console.error(P)}),F},_.default.prototype.loadXML=function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];for(var l,m,p=new _.default.XML,b=1;b<c.length;b++){var M=c[b];"function"==typeof M&&(void 0===l?l=M:void 0===m&&(m=M))}var F=this;return this.httpDo(c[0],"GET","xml",function(N){for(var P in N)p[P]=N[P];void 0!==l&&l(p),F._decrementPreload()},function(N){if(_.default._friendlyFileLoadError(1,N),!m)throw N;m(N)}),p},_.default.prototype.loadBytes=function(d,c,u){var l={},m=this;return this.httpDo(d,"GET","arrayBuffer",function(p){l.bytes=new Uint8Array(p),"function"==typeof c&&c(l),m._decrementPreload()},function(p){if(_.default._friendlyFileLoadError(6,d),!u)throw p;u(p)}),l},_.default.prototype.httpGet=function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];return _.default._validateParameters("httpGet",c),c.splice(1,0,"GET"),_.default.prototype.httpDo.apply(this,c)},_.default.prototype.httpPost=function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];return _.default._validateParameters("httpPost",c),c.splice(1,0,"POST"),_.default.prototype.httpDo.apply(this,c)},_.default.prototype.httpDo=function(){for(var d,c,u,l={},m=0,p="text/plain",b=arguments.length-1;0<b&&"function"==typeof(b<0||arguments.length<=b?void 0:arguments[b]);b--)m++;var F=arguments.length<=0?void 0:arguments[0];if(2==(M=arguments.length-m)&&"string"==typeof F&&"object"===w(arguments.length<=1?void 0:arguments[1]))E=new Request(F,arguments.length<=1?void 0:arguments[1]),c=arguments.length<=2?void 0:arguments[2],u=arguments.length<=3?void 0:arguments[3];else{for(var N,P="GET",j=1;j<arguments.length;j++){var V=j<0||arguments.length<=j?void 0:arguments[j];if("string"==typeof V)"GET"===V||"POST"===V||"PUT"===V||"DELETE"===V?P=V:"json"===V||"jsonp"===V||"binary"===V||"arrayBuffer"===V||"xml"===V||"text"===V||"table"===V?d=V:N=V;else if("number"==typeof V)N=V.toString();else if("object"===w(V))if(V.hasOwnProperty("jsonpCallback")||V.hasOwnProperty("jsonpCallbackFunction"))for(var k in V)l[k]=V[k];else p=V instanceof _.default.XML?(N=V.serialize(),"application/xml"):(N=JSON.stringify(V),"application/json");else"function"==typeof V&&(c?u=V:c=V)}var M="GET"===P?new Headers:new Headers({"Content-Type":p}),E=new Request(F,{method:P,mode:"cors",body:N,headers:M})}return(M=(M="jsonp"===(d=d||(F.includes("json")?"json":F.includes("xml")?"xml":"text"))?(0,h.default)(F,l):fetch(E)).then(function(I){if(!I.ok)throw(W=new Error(I.body)).status=I.status,W.ok=!1,W;var W=0;switch((W="jsonp"!==d?I.headers.get("content-length"):W)&&64e6<W&&_.default._friendlyFileLoadError(7,F),d){case"json":case"jsonp":return I.json();case"binary":return I.blob();case"arrayBuffer":return I.arrayBuffer();case"xml":return I.text().then(function(Y){return Y=(new DOMParser).parseFromString(Y,"text/xml"),new _.default.XML(Y.documentElement)});default:return I.text()}})).then(c||function(){}),M.catch(u||console.error),M},window.URL=window.URL||window.webkitURL,_.default.prototype._pWriters=[],_.default.prototype.createWriter=function(d,c){var u,l;for(l in _.default.prototype._pWriters)if(_.default.prototype._pWriters[l].name===d)return u=new _.default.PrintWriter(d+this.millis(),c),_.default.prototype._pWriters.push(u),u;return u=new _.default.PrintWriter(d,c),_.default.prototype._pWriters.push(u),u},_.default.PrintWriter=function(d,c){var u=this;this.name=d,this.content="",this.write=function(l){this.content+=l},this.print=function(l){this.content+="".concat(l,"\n")},this.clear=function(){this.content=""},this.close=function(){var l,m=[];for(l in m.push(this.content),_.default.prototype.writeFile(m,d,c),_.default.prototype._pWriters)_.default.prototype._pWriters[l].name===this.name&&_.default.prototype._pWriters.splice(l,1);u.clear(),u={}}},_.default.prototype.save=function(d,c,u){var l=arguments,m=(this._curElement||this).elt;if(0===l.length)_.default.prototype.saveCanvas(m);else if(l[0]instanceof _.default.Renderer||l[0]instanceof _.default.Graphics)_.default.prototype.saveCanvas(l[0].elt,l[1],l[2]);else if(1===l.length&&"string"==typeof l[0])_.default.prototype.saveCanvas(m,l[0]);else switch(a(l[1],l[2])[1]){case"json":return void _.default.prototype.saveJSON(l[0],l[1],l[2]);case"txt":return void _.default.prototype.saveStrings(l[0],l[1],l[2]);default:l[0]instanceof Array?_.default.prototype.saveStrings(l[0],l[1],l[2]):l[0]instanceof _.default.Table?_.default.prototype.saveTable(l[0],l[1],l[2]):l[0]instanceof _.default.Image?_.default.prototype.saveCanvas(l[0].canvas,l[1]):l[0]instanceof _.default.SoundFile&&_.default.prototype.saveSound(l[0],l[1],l[2],l[3])}},_.default.prototype.saveJSON=function(d,c,u){_.default._validateParameters("saveJSON",arguments),u=u?JSON.stringify(d):JSON.stringify(d,void 0,2),this.saveStrings(u.split("\n"),c,"json")},_.default.prototype.saveJSONObject=_.default.prototype.saveJSON,_.default.prototype.saveJSONArray=_.default.prototype.saveJSON,_.default.prototype.saveStrings=function(d,c,u,l){_.default._validateParameters("saveStrings",arguments);for(var m=this.createWriter(c,u||"txt"),p=0;p<d.length;p++)m.write(l?d[p]+"\r\n":d[p]+"\n");m.close(),m.clear()},_.default.prototype.saveTable=function(d,c,u){_.default._validateParameters("saveTable",arguments),l=void 0===u?c.substring(c.lastIndexOf(".")+1,c.length):u;var l,m=this.createWriter(c,l),p=d.columns,b="tsv"===l?"\t":",";if("html"!==l){if("0"!==p[0]){for(var M=0;M<p.length;M++)m.write(M<p.length-1?p[M]+b:p[M]);m.write("\n")}for(var F=0;F<d.rows.length;F++){var N=void 0;for(N=0;N<d.rows[F].arr.length;N++)N<d.rows[F].arr.length-1?"csv"===l&&String(d.rows[F].arr[N]).includes(",")?m.write('"'+d.rows[F].arr[N]+'"'+b):m.write(d.rows[F].arr[N]+b):"csv"===l&&String(d.rows[F].arr[N]).includes(",")?m.write('"'+d.rows[F].arr[N]+'"'):m.write(d.rows[F].arr[N]);m.write("\n")}}else{if(m.print("<html>"),m.print("<head>"),m.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),m.print("</head>"),m.print("<body>"),m.print("  <table>"),"0"!==p[0]){m.print("    <tr>");for(var P=0;P<p.length;P++){var j=i(p[P]);m.print("      <td>".concat(j)),m.print("      </td>")}m.print("    </tr>")}for(var V=0;V<d.rows.length;V++){m.print("    <tr>");for(var k=0;k<d.columns.length;k++){var E=i(d.rows[V].getString(k));m.print("      <td>".concat(E)),m.print("      </td>")}m.print("    </tr>")}m.print("  </table>"),m.print("</body>"),m.print("</html>")}m.close(),m.clear()},_.default.prototype.writeFile=function(m,c,u){var l="application/octet-stream";_.default.prototype._isSafari()&&(l="text/plain"),m=new Blob(m,{type:l}),_.default.prototype.downloadFile(m,c,u)},_.default.prototype.downloadFile=function(d,m,p){var l;p=(m=a(m,p))[0],d instanceof Blob?f.default.saveAs(d,p):((l=document.createElement("a")).href=d,l.download=p,l.onclick=function(b){document.body.removeChild(b.target),b.stopPropagation()},l.style.display="none",document.body.appendChild(l),_.default.prototype._isSafari()&&(d=(d='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(m[1],'"'),alert(d)),l.click())},_.default.prototype._checkFileExtension=a,_.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},S.default=o=_.default},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(o,$,S){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(h,f){for(var x=0;x<f.length;x++){var w=f[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}v.default.Table=function(){function h(i){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var f,x;return f=h,(x=[{key:"addRow",value:function(i){if(void 0===(i=i||new v.default.TableRow).arr||void 0===i.obj)throw new Error("invalid TableRow: ".concat(i));return(i.table=this).rows.push(i),i}},{key:"removeRow",value:function(i){this.rows[i].table=null,i=this.rows.splice(i+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(i)}},{key:"getRow",value:function(i){return this.rows[i]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(i,a){if("string"==typeof a){for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[a]===i)return this.rows[d]}else for(var c=0;c<this.rows.length;c++)if(this.rows[c].arr[a]===i)return this.rows[c];return null}},{key:"findRows",value:function(i,a){var d=[];if("string"==typeof a)for(var c=0;c<this.rows.length;c++)this.rows[c].obj[a]===i&&d.push(this.rows[c]);else for(var u=0;u<this.rows.length;u++)this.rows[u].arr[a]===i&&d.push(this.rows[u]);return d}},{key:"matchRow",value:function(i,a){if("number"==typeof a){for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[a].match(i))return this.rows[d]}else for(var c=0;c<this.rows.length;c++)if(this.rows[c].obj[a].match(i))return this.rows[c];return null}},{key:"matchRows",value:function(i,a){var d=[];if("number"==typeof a)for(var c=0;c<this.rows.length;c++)this.rows[c].arr[a].match(i)&&d.push(this.rows[c]);else for(var u=0;u<this.rows.length;u++)this.rows[u].obj[a].match(i)&&d.push(this.rows[u]);return d}},{key:"getColumn",value:function(i){var a=[];if("string"==typeof i)for(var d=0;d<this.rows.length;d++)a.push(this.rows[d].obj[i]);else for(var c=0;c<this.rows.length;c++)a.push(this.rows[c].arr[i]);return a}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(i){this.columns.push(i||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(i,a){for(var d=[],c=0;c<i.length;c++)d.push(i.charAt(c).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var u=new RegExp(d.join("|"),"g");if(void 0===a)for(var l=0;l<this.columns.length;l++)for(var m=0;m<this.rows.length;m++){var p=(p=this.rows[m].arr[l]).replace(u,"");this.rows[m].arr[l]=p,this.rows[m].obj[this.columns[l]]=p}else if("string"==typeof a)for(var b=0;b<this.rows.length;b++){var M=(M=this.rows[b].obj[a]).replace(u,""),F=(this.rows[b].obj[a]=M,this.columns.indexOf(a));this.rows[b].arr[F]=M}else for(var N=0;N<this.rows.length;N++){var P=(P=this.rows[N].arr[a]).replace(u,"");this.rows[N].arr[a]=P,this.rows[N].obj[this.columns[a]]=P}}},{key:"trim",value:function(i){var a=new RegExp(" ","g");if(void 0===i)for(var d=0;d<this.columns.length;d++)for(var c=0;c<this.rows.length;c++){var u=(u=this.rows[c].arr[d]).replace(a,"");this.rows[c].arr[d]=u,this.rows[c].obj[this.columns[d]]=u}else if("string"==typeof i)for(var l=0;l<this.rows.length;l++){var m=(m=this.rows[l].obj[i]).replace(a,""),p=(this.rows[l].obj[i]=m,this.columns.indexOf(i));this.rows[l].arr[p]=m}else for(var b=0;b<this.rows.length;b++){var M=(M=this.rows[b].arr[i]).replace(a,"");this.rows[b].arr[i]=M,this.rows[b].obj[this.columns[i]]=M}}},{key:"removeColumn",value:function(c){var a,d;"string"==typeof c?d=this.columns.indexOf(a=c):a=this.columns[d=c],c=this.columns.splice(d+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(c);for(var u=0;u<this.rows.length;u++){var l=this.rows[u].arr,m=l.splice(d+1,l.length);l.pop(),this.rows[u].arr=l.concat(m),delete this.rows[u].obj[a]}}},{key:"set",value:function(i,a,d){this.rows[i].set(a,d)}},{key:"setNum",value:function(i,a,d){this.rows[i].setNum(a,d)}},{key:"setString",value:function(i,a,d){this.rows[i].setString(a,d)}},{key:"get",value:function(i,a){return this.rows[i].get(a)}},{key:"getNum",value:function(i,a){return this.rows[i].getNum(a)}},{key:"getString",value:function(i,a){return this.rows[i].getString(a)}},{key:"getObject",value:function(i){for(var a,d={},c=0;c<this.rows.length;c++)if(a=this.rows[c].obj,"string"==typeof i){if(!(0<=this.columns.indexOf(i)))throw new Error('This table has no column named "'.concat(i,'"'));d[a[i]]=a}else d[c]=this.rows[c].obj;return d}},{key:"getArray",value:function(){for(var i=[],a=0;a<this.rows.length;a++)i.push(this.rows[a].arr);return i}}])&&_(f.prototype,x),h}(),S.default=o=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(o,$,S){"use strict";function v(_,h){for(var f=0;f<h.length;f++){var x=h[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function _(w,i){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");var a=[];w&&(a=w.split(i=i||",")),this.arr=a,this.obj=Object.fromEntries(a.entries()),this.table=null}var h,f;return h=_,(f=[{key:"set",value:function(w,i){if("string"==typeof w){var a=this.table.columns.indexOf(w);if(!(0<=a))throw new Error('This table has no column named "'.concat(w,'"'));this.obj[w]=i,this.arr[a]=i}else{if(!(w<this.table.columns.length))throw new Error("Column #".concat(w," is out of the range of this table"));this.arr[w]=i,this.obj[a=this.table.columns[w]]=i}}},{key:"setNum",value:function(w,i){i=parseFloat(i),this.set(w,i)}},{key:"setString",value:function(w,i){i=i.toString(),this.set(w,i)}},{key:"get",value:function(w){return("string"==typeof w?this.obj:this.arr)[w]}},{key:"getNum",value:function(w){var i=parseFloat("string"==typeof w?this.obj[w]:this.arr[w]);if("NaN"===i.toString())throw"Error: ".concat(this.obj[w]," is NaN (Not a Number)");return i}},{key:"getString",value:function(w){return("string"==typeof w?this.obj:this.arr)[w].toString()}}])&&v(h.prototype,f),_}(),S.default=o=o.default},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(f,x){for(var w=0;w<x.length;w++){var i=x[w];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(f,i.key,i)}}v.default.XML=function(){function f(a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");a?this.DOM=a:(a=document.implementation.createDocument(null,"doc"),this.DOM=a.createElement("root"))}var x,w;return x=f,(w=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(a){var d=this.DOM.innerHTML,c=this.DOM.attributes,u=document.implementation.createDocument(null,"default").createElement(a);u.innerHTML=d;for(var l=0;l<c.length;l++)u.setAttribute(c[l].nodeName,c.nodeValue);this.DOM=u}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var a=[],d=0;d<this.DOM.childNodes.length;d++)a.push(this.DOM.childNodes[d].nodeName);return a}},{key:"getChildren",value:function(a){return function h(f){for(var x=[],w=0;w<f.length;w++)x.push(new v.default.XML(f[w]));return x}(a?this.DOM.getElementsByTagName(a):this.DOM.children)}},{key:"getChild",value:function(a){if("string"!=typeof a)return new v.default.XML(this.DOM.children[a]);var d=!0,c=!1,u=void 0;try{for(var l,m=this.DOM.children[Symbol.iterator]();!(d=(l=m.next()).done);d=!0){var p=l.value;if(p.tagName===a)return new v.default.XML(p)}}catch(b){c=!0,u=b}finally{try{d||null==m.return||m.return()}finally{if(c)throw u}}}},{key:"addChild",value:function(a){a instanceof v.default.XML&&this.DOM.appendChild(a.DOM)}},{key:"removeChild",value:function(a){var d=-1;if("string"==typeof a){for(var c=0;c<this.DOM.children.length;c++)if(this.DOM.children[c].tagName===a){d=c;break}}else d=a;-1!==d&&this.DOM.removeChild(this.DOM.children[d])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var a=[],d=!0,c=!1,u=void 0;try{for(var l,m=this.DOM.attributes[Symbol.iterator]();!(d=(l=m.next()).done);d=!0)a.push(l.value.nodeName)}catch(b){c=!0,u=b}finally{try{d||null==m.return||m.return()}finally{if(c)throw u}}return a}},{key:"hasAttribute",value:function(a){var d={},c=!0,u=!1,l=void 0;try{for(var m,p=this.DOM.attributes[Symbol.iterator]();!(c=(m=p.next()).done);c=!0){var b=m.value;d[b.nodeName]=b.nodeValue}}catch(M){u=!0,l=M}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}return!!d[a]}},{key:"getNum",value:function(a,d){var c={},u=!0,l=!1,m=void 0;try{for(var p,b=this.DOM.attributes[Symbol.iterator]();!(u=(p=b.next()).done);u=!0){var M=p.value;c[M.nodeName]=M.nodeValue}}catch(F){l=!0,m=F}finally{try{u||null==b.return||b.return()}finally{if(l)throw m}}return Number(c[a])||d||0}},{key:"getString",value:function(a,d){var c={},u=!0,l=!1,m=void 0;try{for(var p,b=this.DOM.attributes[Symbol.iterator]();!(u=(p=b.next()).done);u=!0){var M=p.value;c[M.nodeName]=M.nodeValue}}catch(F){l=!0,m=F}finally{try{u||null==b.return||b.return()}finally{if(l)throw m}}return c[a]?String(c[a]):d||null}},{key:"setAttribute",value:function(a,d){this.DOM.setAttribute(a,d)}},{key:"getContent",value:function(a){var d=this.DOM.textContent;return(d=d.replace(/\s\s+/g,","))||a||null}},{key:"setContent",value:function(a){this.DOM.children.length||(this.DOM.textContent=a)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&_(x.prototype,w),f}(),S.default=o=v.default},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(h){return function(f){if(Array.isArray(f)){for(var x=0,w=new Array(f.length);x<f.length;x++)w[x]=f[x];return w}}(h)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(h,f,x){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(h,x),f)},v.default.prototype.dist=function(){for(var h=arguments.length,f=new Array(h),x=0;x<h;x++)f[x]=arguments[x];return v.default._validateParameters("dist",f),4===f.length?Math.hypot(f[2]-f[0],f[3]-f[1]):6===f.length?Math.hypot(f[3]-f[0],f[4]-f[1],f[5]-f[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(h,f,x){return v.default._validateParameters("lerp",arguments),x*(f-h)+h},v.default.prototype.log=Math.log,v.default.prototype.mag=function(h,f){return v.default._validateParameters("mag",arguments),Math.hypot(h,f)},v.default.prototype.map=function(h,f,x,w,i,a){return v.default._validateParameters("map",arguments),h=(h-f)/(x-f)*(i-w)+w,a?w<i?this.constrain(h,w,i):this.constrain(h,i,w):h},v.default.prototype.max=function(){for(var h=function(i){return Math.max.apply(Math,_(i))},f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];return Array.isArray(x[0])?h(x[0]):h(x)},v.default.prototype.min=function(){for(var h=function(i){return Math.min.apply(Math,_(i))},f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];return Array.isArray(x[0])?h(x[0]):h(x)},v.default.prototype.norm=function(h,f,x){return v.default._validateParameters("norm",arguments),this.map(h,f,x,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(h,f){return f?(f=Math.pow(10,f),Math.round(h*f)/f):Math.round(h)},v.default.prototype.sq=function(h){return h*h},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(w){v.default._validateParameters("fract",arguments);var f,x=0;return w=Number(w),isNaN(w)||Math.abs(w)===1/0?w:(w<0&&(w=-w,x=1),String(w).includes(".")&&!String(w).includes("e")?(f=+("0"+(f=String(w)).slice(f.indexOf("."))),Math.abs(x-f)):w<1?Math.abs(x-w):0)},S.default=o=v.default},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(o,$,S){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(f,x,w){return(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(i,a,d){var c=[null];return c.push.apply(c,a),a=new(Function.bind.apply(i,c)),d&&h(a,d.prototype),a}).apply(null,arguments)}function h(f,x){return(h=Object.setPrototypeOf||function(w,i){return w.__proto__=i,w})(f,x)}v.default.prototype.createVector=function(f,x,w){return this instanceof v.default?_(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(f,x,w)},S.default=o=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(w,$,S){"use strict";function v(i){return.5*(1-Math.cos(i*Math.PI))}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,w=(w=w("../core/main"))&&w.__esModule?w:{default:w};var _,h=4095,f=4,x=.5;w.default.prototype.noise=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==_){_=new Array(4096);for(var c=0;c<4096;c++)_[c]=Math.random()}i<0&&(i=-i),a<0&&(a=-a),d<0&&(d=-d);for(var u,l,m=Math.floor(i),p=Math.floor(a),b=Math.floor(d),M=i-m,F=a-p,N=d-b,P=0,j=.5,V=0;V<f;V++){var k=m+(p<<4)+(b<<8),E=v(M),I=v(F),W=_[k&h];W+=E*(_[k+1&h]-W),u=_[k+16&h],W+=I*((u+=E*(_[k+16+1&h]-u))-W),u=_[(k+=256)&h],u+=E*(_[k+1&h]-u),l=_[k+16&h],u+=I*((l+=E*(_[k+16+1&h]-l))-u),P+=(W+=v(N)*(u-W))*j,j*=x,m<<=1,p<<=1,b<<=1,1<=(M*=2)&&(m++,M--),1<=(F*=2)&&(p++,F--),1<=(N*=2)&&(b++,N--)}return P},w.default.prototype.noiseDetail=function(i,a){0<i&&(f=i),0<a&&(x=a)},w.default.prototype.noiseSeed=function(i){c=4294967296;var d,c,u_rand=function(){return(d=(1664525*d+1013904223)%c)/c};(function(m){d=(null==m?Math.random()*c:m)>>>0})(i),_=new Array(4096);for(var l=0;l<4096;l++)_[l]=u_rand()},S.default=w=w.default},{"../core/main":280}],313:[function(o,$,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(i=o("../core/main"))&&i.__esModule?i:{default:i},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var d=x();if(d&&d.has(a))return d.get(a);var c,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var m;Object.prototype.hasOwnProperty.call(a,c)&&((m=l?Object.getOwnPropertyDescriptor(a,c):null)&&(m.get||m.set)?Object.defineProperty(u,c,m):u[c]=a[c])}return u.default=a,d&&d.set(a,u),u}(o("../core/constants"));function x(){var a;return"function"!=typeof WeakMap?null:(x=function(){return a},a=new WeakMap)}function w(a,d){for(var c=0;c<d.length;c++){var u=d[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}h.default.Vector=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var m,p,b="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],m=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(m=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=m,this.y=p,this.z=b}var d,c,u;return d=a,u=[{key:"fromAngle",value:function(l,m){return new h.default.Vector((m=void 0===m?1:m)*Math.cos(l),m*Math.sin(l),0)}},{key:"fromAngles",value:function(N,M,p){void 0===p&&(p=1);var b=Math.cos(M),F=(M=Math.sin(M),Math.cos(N));return N=Math.sin(N),new h.default.Vector(p*N*M,-p*F,p*N*b)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*f.TWO_PI)}},{key:"random3D",value:function(){var l=Math.random()*f.TWO_PI,m=2*Math.random()-1,p=(b=Math.sqrt(1-m*m))*Math.cos(l),b=b*Math.sin(l);return new h.default.Vector(p,b,m)}},{key:"copy",value:function(l){return l.copy(l)}},{key:"add",value:function(l,m,p){return p?p.set(l):(p=l.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),p.add(m),p}},{key:"rem",value:function(l,m){if(l instanceof h.default.Vector&&m instanceof h.default.Vector)return(l=l.copy()).rem(m),l}},{key:"sub",value:function(l,m,p){return p?p.set(l):(p=l.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),p.sub(m),p}},{key:"mult",value:function(l,m,p){return p?p.set(l):(p=l.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),p.mult(m),p}},{key:"rotate",value:function(l,m,p){return 2===arguments.length?p=l.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),p.set(l)),p.rotate(m),p}},{key:"div",value:function(l,m,p){return p?p.set(l):(p=l.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),p.div(m),p}},{key:"dot",value:function(l,m){return l.dot(m)}},{key:"cross",value:function(l,m){return l.cross(m)}},{key:"dist",value:function(l,m){return l.dist(m)}},{key:"lerp",value:function(l,m,p,b){return b?b.set(l):(b=l.copy(),4===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),b.lerp(m,p),b}},{key:"slerp",value:function(l,m,p,b){return b?b.set(l):(b=l.copy(),4===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),b.slerp(m,p),b}},{key:"mag",value:function(l){return l.mag()}},{key:"magSq",value:function(l){return l.magSq()}},{key:"normalize",value:function(l,m){return arguments.length<2?m=l.copy():(m instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),m.set(l)),m.normalize()}},{key:"limit",value:function(l,m,p){return arguments.length<3?p=l.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),p.set(l)),p.limit(m)}},{key:"setMag",value:function(l,m,p){return arguments.length<3?p=l.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),p.set(l)),p.setMag(m)}},{key:"heading",value:function(l){return l.heading()}},{key:"angleBetween",value:function(l,m){return l.angleBetween(m)}},{key:"reflect",value:function(l,m,p){return arguments.length<3?p=l.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),p.set(l)),p.reflect(m)}},{key:"array",value:function(l){return l.array()}},{key:"equals",value:function(l,m){var p;return l instanceof h.default.Vector?p=l:Array.isArray(l)?p=(new h.default.Vector).set(l):h.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(m)}}],(c=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(l,m,p){return l instanceof h.default.Vector?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):Array.isArray(l)?(this.x=l[0]||0,this.y=l[1]||0,this.z=l[2]||0):(this.x=l||0,this.y=m||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new h.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(l,m,p){return l instanceof h.default.Vector?(this.x+=l.x||0,this.y+=l.y||0,this.z+=l.z||0):Array.isArray(l)?(this.x+=l[0]||0,this.y+=l[1]||0,this.z+=l[2]||0):(this.x+=l||0,this.y+=m||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(l,m){return 0!==l&&(this.x=this.x%l),0!==m&&(this.y=this.y%m),this}},{key:"calculateRemainder3D",value:function(l,m,p){return 0!==l&&(this.x=this.x%l),0!==m&&(this.y=this.y%m),0!==p&&(this.z=this.z%p),this}},{key:"rem",value:function(l,m,p){var b;if(l instanceof h.default.Vector){if([l.x,l.y,l.z].every(Number.isFinite))return M=parseFloat(l.x),F=parseFloat(l.y),b=parseFloat(l.z),this.calculateRemainder3D(M,F,b)}else if(Array.isArray(l)){if(l.every(function(N){return Number.isFinite(N)}))return 2===l.length?this.calculateRemainder2D(l[0],l[1]):3===l.length?this.calculateRemainder3D(l[0],l[1],l[2]):void 0}else if(1===arguments.length){if(Number.isFinite(l)&&0!==l)return this.x=this.x%l,this.y=this.y%l,this.z=this.z%l,this}else if(2===arguments.length){var M=Array.prototype.slice.call(arguments);if(M.every(function(N){return Number.isFinite(N)})&&2===M.length)return this.calculateRemainder2D(M[0],M[1])}else if(3===arguments.length){var F=Array.prototype.slice.call(arguments);if(F.every(function(N){return Number.isFinite(N)})&&3===F.length)return this.calculateRemainder3D(F[0],F[1],F[2])}}},{key:"sub",value:function(l,m,p){return l instanceof h.default.Vector?(this.x-=l.x||0,this.y-=l.y||0,this.z-=l.z||0):Array.isArray(l)?(this.x-=l[0]||0,this.y-=l[1]||0,this.z-=l[2]||0):(this.x-=l||0,this.y-=m||0,this.z-=p||0),this}},{key:"mult",value:function(l,m,p){var b;return l instanceof h.default.Vector?Number.isFinite(l.x)&&Number.isFinite(l.y)&&Number.isFinite(l.z)&&"number"==typeof l.x&&"number"==typeof l.y&&"number"==typeof l.z?(this.x*=l.x,this.y*=l.y,this.z*=l.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(l)?l.every(function(M){return Number.isFinite(M)})&&l.every(function(M){return"number"==typeof M})?1===l.length?(this.x*=l[0],this.y*=l[0],this.z*=l[0]):2===l.length?(this.x*=l[0],this.y*=l[1]):3===l.length&&(this.x*=l[0],this.y*=l[1],this.z*=l[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(b=Array.prototype.slice.call(arguments)).every(function(M){return Number.isFinite(M)})&&b.every(function(M){return"number"==typeof M})?(1===arguments.length&&(this.x*=l,this.y*=l,this.z*=l),2===arguments.length&&(this.x*=l,this.y*=m),3===arguments.length&&(this.x*=l,this.y*=m,this.z*=p)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(l,m,p){if(l instanceof h.default.Vector)if(Number.isFinite(l.x)&&Number.isFinite(l.y)&&Number.isFinite(l.z)&&"number"==typeof l.x&&"number"==typeof l.y&&"number"==typeof l.z){var b=0===l.z&&0===this.z;if(0===l.x||0===l.y||!b&&0===l.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=l.x,this.y/=l.y,b||(this.z/=l.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(l))if(l.every(function(M){return Number.isFinite(M)})&&l.every(function(M){return"number"==typeof M})){if(l.some(function(M){return 0===M}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===l.length?(this.x/=l[0],this.y/=l[0],this.z/=l[0]):2===l.length?(this.x/=l[0],this.y/=l[1]):3===l.length&&(this.x/=l[0],this.y/=l[1],this.z/=l[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((b=Array.prototype.slice.call(arguments)).every(function(M){return Number.isFinite(M)})&&b.every(function(M){return"number"==typeof M})){if(b.some(function(M){return 0===M}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=l,this.y/=l,this.z/=l),2===arguments.length&&(this.x/=l,this.y/=m),3===arguments.length&&(this.x/=l,this.y/=m,this.z/=p)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var l=this.x,m=this.y,p=this.z;return l*l+m*m+p*p}},{key:"dot",value:function(l,m,p){return l instanceof h.default.Vector?this.dot(l.x,l.y,l.z):this.x*(l||0)+this.y*(m||0)+this.z*(p||0)}},{key:"cross",value:function(b){var m=this.y*b.z-this.z*b.y,p=this.z*b.x-this.x*b.z;return b=this.x*b.y-this.y*b.x,this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,m,p,b):new h.default.Vector(m,p,b)}},{key:"dist",value:function(l){return l.copy().sub(this).mag()}},{key:"normalize",value:function(){var l=this.mag();return 0!==l&&this.mult(1/l),this}},{key:"limit",value:function(l){var m=this.magSq();return l*l<m&&this.div(Math.sqrt(m)).mult(l),this}},{key:"setMag",value:function(l){return this.normalize().mult(l)}},{key:"heading",value:function(){var l=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(l):l}},{key:"setHeading",value:function(l){this.isPInst&&(l=this._toRadians(l));var m=this.mag();return this.x=m*Math.cos(l),this.y=m*Math.sin(l),this}},{key:"rotate",value:function(m){m=this.heading()+m;var p=(this.isPInst&&(m=this._toRadians(m)),this.mag());return this.x=Math.cos(m)*p,this.y=Math.sin(m)*p,this}},{key:"angleBetween",value:function(l){var m;return this.magSq()*l.magSq()==0?NaN:(m=this.cross(l),l=Math.atan2(m.mag(),this.dot(l))*Math.sign(m.z||1),this.isPInst?this._fromRadians(l):l)}},{key:"lerp",value:function(l,m,p,b){return l instanceof h.default.Vector?this.lerp(l.x,l.y,l.z,m):(this.x+=(l-this.x)*b||0,this.y+=(m-this.y)*b||0,this.z+=(p-this.z)*b||0,this)}},{key:"slerp",value:function(l,m){if(0!==m){if(1===m)return this.set(l);var p=this.mag(),b=l.mag();if(p*b==0)this.mult(1-m).add(l.x*m,l.y*m,l.z*m);else{var M=this.cross(l),F=M.mag(),N=Math.atan2(F,this.dot(l));if(0<F)M.x/=F,M.y/=F,M.z/=F;else{if(N<.5*Math.PI)return this.mult(1-m).add(l.x*m,l.y*m,l.z*m),this;0===this.z&&0===l.z?M.set(0,0,1):0!==this.x?M.set(this.y,-this.x,0).normalize():M.set(1,0,0)}F=M.cross(this),M=(l=1-m+m*b/p)*Math.cos(m*N),b=l*Math.sin(m*N),this.x=this.x*M+F.x*b,this.y=this.y*M+F.y*b,this.z=this.z*M+F.z*b}}return this}},{key:"reflect",value:function(l){return l.normalize(),this.sub(l.mult(2*this.dot(l)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(F,m,p){var b,M;return F=F instanceof h.default.Vector?(b=F.x||0,M=F.y||0,F.z||0):Array.isArray(F)?(b=F[0]||0,M=F[1]||0,F[2]||0):(b=F||0,M=m||0,p||0),this.x===b&&this.y===M&&this.z===F}}])&&w(d.prototype,c),u&&w(d,u),a}();var i=h.default.Vector;S.default=i},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(x,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(x=x("../core/main"))&&x.__esModule?x:{default:x},_="_lcg_random_state",h=4294967296,f=0;v.default.prototype._lcg=function(w){return this[w]=(1664525*this[w]+1013904223)%h,this[w]/h},v.default.prototype._lcgSetSeed=function(w,i){this[w]=(null==i?Math.random()*h:i)>>>0},v.default.prototype.randomSeed=function(w){this._lcgSetSeed(_,w),this._gaussian_previous=!1},v.default.prototype.random=function(w,i){var a,d;return v.default._validateParameters("random",arguments),a=null!=this[_]?this._lcg(_):Math.random(),void 0===w?a:void 0===i?Array.isArray(w)?w[Math.floor(a*w.length)]:a*w:(i<w&&(d=w,w=i,i=d),a*(i-w)+w)},v.default.prototype.randomGaussian=function(w){var i,a,d,c,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)i=f,this._gaussian_previous=!1;else{for(;1<=(c=(a=this.random(2)-1)*a+(d=this.random(2)-1)*d););i=a*(c=Math.sqrt(-2*Math.log(c)/c)),f=d*c,this._gaussian_previous=!0}return i*u+(w||0)},S.default=x=v.default},{"../core/main":280}],315:[function(o,$,S){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var a=x();if(a&&a.has(i))return a.get(i);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in i){var l;Object.prototype.hasOwnProperty.call(i,d)&&((l=u?Object.getOwnPropertyDescriptor(i,d):null)&&(l.get||l.set)?Object.defineProperty(c,d,l):c[d]=i[d])}return c.default=i,a&&a.set(i,c),c}(o("../core/constants"));function x(){var i;return"function"!=typeof WeakMap?null:(x=function(){return i},i=new WeakMap)}h.default.prototype._angleMode=f.RADIANS,h.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},h.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},h.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},h.default.prototype.atan2=function(i,a){return this._fromRadians(Math.atan2(i,a))},h.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},h.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},h.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},h.default.prototype.degrees=function(i){return i*f.RAD_TO_DEG},h.default.prototype.radians=function(i){return i*f.DEG_TO_RAD},h.default.prototype.angleMode=function(i){if(h.default._validateParameters("angleMode",arguments),void 0===i)return this._angleMode;i!==f.DEGREES&&i!==f.RADIANS||i!==this._angleMode&&(i===f.RADIANS?(this._setProperty("pRotationX",this.pRotationX*f.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*f.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*f.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*f.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*f.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*f.RAD_TO_DEG)),this._angleMode=i)},h.default.prototype._toRadians=function(i){return this._angleMode===f.DEGREES?i*f.DEG_TO_RAD:i},h.default.prototype._toDegrees=function(i){return this._angleMode===f.RADIANS?i*f.RAD_TO_DEG:i},h.default.prototype._fromRadians=function(i){return this._angleMode===f.DEGREES?i*f.RAD_TO_DEG:i},h.default.prototype._fromDegrees=function(i){return this._angleMode===f.RADIANS?i*f.DEG_TO_RAD:i};var w=h.default;S.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(o,$,S){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.textAlign=function(_,h){var f;return v.default._validateParameters("textAlign",arguments),(f=this._renderer).textAlign.apply(f,arguments)},v.default.prototype.textLeading=function(_){var h;return v.default._validateParameters("textLeading",arguments),(h=this._renderer).textLeading.apply(h,arguments)},v.default.prototype.textSize=function(_){var h;return v.default._validateParameters("textSize",arguments),(h=this._renderer).textSize.apply(h,arguments)},v.default.prototype.textStyle=function(_){var h;return v.default._validateParameters("textStyle",arguments),(h=this._renderer).textStyle.apply(h,arguments)},v.default.prototype.textWidth=function(){for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];if(h[0]+="",v.default._validateParameters("textWidth",h),0===h[0].length)return 0;for(var x=h[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),w=[],i=0;i<x.length;i++)w.push(this._renderer.textWidth(x[i]));return Math.max.apply(Math,w)},v.default.prototype.textAscent=function(){for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];return v.default._validateParameters("textAscent",h),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];return v.default._validateParameters("textDescent",h),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(_){if("WORD"!==_&&"CHAR"!==_)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(_)},S.default=o=v.default},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(o,$,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(a=o("../core/main"))&&a.__esModule?a:{default:a},f=i(o("../core/constants")),x=i(o("opentype.js"));function w(){var d;return"function"!=typeof WeakMap?null:(w=function(){return d},d=new WeakMap)}function i(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var c=w();if(c&&c.has(d))return c.get(d);var u,l,m={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in d)Object.prototype.hasOwnProperty.call(d,u)&&((l=p?Object.getOwnPropertyDescriptor(d,u):null)&&(l.get||l.set)?Object.defineProperty(m,u,l):m[u]=d[u]);return m.default=d,c&&c.set(d,m),m}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),h.default.prototype.loadFont=function(d,c,u){h.default._validateParameters("loadFont",arguments);var l=new h.default.Font(this),m=this;return x.load(d,function(M,F){if(M)return h.default._friendlyFileLoadError(4,d),void 0!==u?u(M):void console.error(M,d);l.font=F,void 0!==c&&c(l),m._decrementPreload();var N=(F=(M=d.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:M.slice(F+1);["ttf","otf","woff","woff2"].includes(N)&&(N=M.slice(0,-1!==F?F:0),(M=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(N,";\nsrc: url(").concat(d,");\n}\n"))),document.head.appendChild(M))}),l},h.default.prototype.text=function(d,c,u,l,m){var p;return h.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},h.default.prototype.textFont=function(d,c){if(h.default._validateParameters("textFont",arguments),arguments.length){if(d)return this._renderer._setProperty("_textFont",d),c&&(this._renderer._setProperty("_textSize",c),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",c*f._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var a=h.default;S.default=a},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(o,$,S){"use strict";function v(P){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(P)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(_=o("../core/main"))&&_.__esModule?_:{default:_},h=function(P){if(P&&P.__esModule)return P;if(null===P||"object"!==x(P)&&"function"!=typeof P)return{default:P};var j=f();if(j&&j.has(P))return j.get(P);var V,k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(V in P){var I;Object.prototype.hasOwnProperty.call(P,V)&&((I=E?Object.getOwnPropertyDescriptor(P,V):null)&&(I.get||I.set)?Object.defineProperty(k,V,I):k[V]=P[V])}return k.default=P,j&&j.set(P,k),k}(o("../core/constants"));function f(){var P;return"function"!=typeof WeakMap?null:(f=function(){return P},P=new WeakMap)}function x(P){return(x="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(j){return v(j)}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":v(j)})(P)}function w(P,j){for(var V=0;V<j.length;V++){var k=j[V];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,k.key,k)}}function i(P,j){var V=P.length;return P[j<0?j%V+V:j%V]}function a(P,j,V,k){var E,I,W;return k?(void 0===a.tmpPoint1&&(a.tmpPoint1=[],a.tmpPoint2=[]),W=a.tmpPoint2,(I=a.tmpPoint1).x=j.x-P.x,I.y=j.y-P.y,W.x=V.x-j.x,W.y=V.y-j.y,E=I.x*W.x+I.y*W.y,I=Math.sqrt(I.x*I.x+I.y*I.y),W=Math.sqrt(W.x*W.x+W.y*W.y),Math.acos(E/(I*W))<k):(j[0]-P[0])*(V[1]-P[1])-(V[0]-P[0])*(j[1]-P[1])==0}function d(L,pe,se,Ce,Fe,I,W,Y,z){var te=1-z,J=(q=Math.pow(te,3))*L+3*(ne=Math.pow(te,2))*z*se+3*te*z*z*Fe+(fe=(K=z*z)*z)*W,q=q*pe+3*ne*z*Ce+3*te*z*z*I+fe*Y,ne=L+2*z*(se-L)+K*(Fe-2*se+L),fe=pe+2*z*(Ce-pe)+K*(I-2*Ce+pe),De=se+2*z*(Fe-se)+K*(W-2*Fe+se),K=Ce+2*z*(I-Ce)+K*(Y-2*I+Ce);return L=te*L+z*se,se=te*pe+z*Ce,pe=te*Fe+z*W,Ce=te*I+z*Y,Fe=90-180*Math.atan2(ne-De,fe-K)/Math.PI,(De<ne||fe<K)&&(Fe+=180),{x:J,y:q,m:{x:ne,y:fe},n:{x:De,y:K},start:{x:L,y:se},end:{x:pe,y:Ce},alpha:Fe}}function c(P,j,V,k,E,I,W,Y,z){return null==z?F(P,j,V,k,E,I,W,Y):d(P,j,V,k,E,I,W,Y,function(te,J,q,ne,fe,De,K,L,se){if(!(se<0||F(te,J,q,ne,fe,De,K,L)<se)){var pe,Ce=.5,Fe=1-Ce;for(pe=F(te,J,q,ne,fe,De,K,L,Fe);.01<Math.abs(pe-se);)pe=F(te,J,q,ne,fe,De,K,L,Fe+=(pe<se?1:-1)*(Ce/=2));return Fe}}(P,j,V,k,E,I,W,Y,z))}function u(P,j,V){for(var k,E,I,W,Y,z=0,te=0,J=(P=function(q,ne){function fe(ft,yt,Pt){var Jt,Ft;if(!ft)return["C",yt.x,yt.y,yt.x,yt.y,yt.x,yt.y];switch(ft[0]in{T:1,Q:1}||(yt.qx=yt.qy=null),ft[0]){case"M":yt.X=ft[1],yt.Y=ft[2];break;case"A":ft=["C"].concat(m.apply(0,[yt.x,yt.y].concat(ft.slice(1))));break;case"S":Ft="C"===Pt||"S"===Pt?(Jt=2*yt.x-yt.bx,2*yt.y-yt.by):(Jt=yt.x,yt.y),ft=["C",Jt,Ft].concat(ft.slice(1));break;case"T":"Q"===Pt||"T"===Pt?(yt.qx=2*yt.x-yt.qx,yt.qy=2*yt.y-yt.qy):(yt.qx=yt.x,yt.qy=yt.y),ft=["C"].concat(M(yt.x,yt.y,yt.qx,yt.qy,ft[1],ft[2]));break;case"Q":yt.qx=ft[1],yt.qy=ft[2],ft=["C"].concat(M(yt.x,yt.y,ft[1],ft[2],ft[3],ft[4]));break;case"L":ft=["C"].concat(b(yt.x,yt.y,ft[1],ft[2]));break;case"H":ft=["C"].concat(b(yt.x,yt.y,ft[1],yt.y));break;case"V":ft=["C"].concat(b(yt.x,yt.y,yt.x,ft[1]));break;case"Z":ft=["C"].concat(b(yt.x,yt.y,yt.X,yt.Y))}return ft}function De(ft,yt){if(7<ft[yt].length){ft[yt].shift();for(var Pt=ft[yt];Pt.length;)We[yt]="A",pe&&(tt[yt]="A"),ft.splice(yt++,0,["C"].concat(Pt.splice(0,6)));ft.splice(yt,1),L=Math.max(se.length,pe&&pe.length||0)}}function K(ft,yt,Pt,Jt,Ft){ft&&yt&&"M"===ft[Ft][0]&&"M"!==yt[Ft][0]&&(yt.splice(Ft,0,["M",Jt.x,Jt.y]),Pt.bx=0,Pt.by=0,Pt.x=ft[Ft][1],Pt.y=ft[Ft][2],L=Math.max(se.length,pe&&pe.length||0))}var L,se=l(q),pe=undefined,Ce={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Fe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},We=[],tt=[],Oe="",ke="";L=Math.max(se.length,pe&&pe.length||0);for(var Be=0;Be<L;Be++){"C"!==(Oe=se[Be]?se[Be][0]:Oe)&&(We[Be]=Oe,Be&&(ke=We[Be-1])),se[Be]=fe(se[Be],Ce,ke),"A"!==We[Be]&&"C"===Oe&&(We[Be]="C"),De(se,Be),pe&&("C"!==(Oe=pe[Be]?pe[Be][0]:Oe)&&(tt[Be]=Oe,Be&&(ke=tt[Be-1])),pe[Be]=fe(pe[Be],Fe,ke),"A"!==tt[Be]&&"C"===Oe&&(tt[Be]="C"),De(pe,Be)),K(se,pe,Ce,Fe,Be),K(pe,se,Fe,Ce,Be);var je=se[Be],Qe=pe&&pe[Be],Ke=je.length,gt=pe&&Qe.length;Ce.x=je[Ke-2],Ce.y=je[Ke-1],Ce.bx=parseFloat(je[Ke-4])||Ce.x,Ce.by=parseFloat(je[Ke-3])||Ce.y,Fe.bx=pe&&(parseFloat(Qe[gt-4])||Fe.x),Fe.by=pe&&(parseFloat(Qe[gt-3])||Fe.y),Fe.x=pe&&Qe[gt-2],Fe.y=pe&&Qe[gt-1]}return pe?[se,pe]:se}(P)).length;te<J;te++){if("M"===(I=P[te])[0])k=+I[1],E=+I[2];else{if(j<z+(W=c(k,E,I[1],I[2],I[3],I[4],I[5],I[6]))&&!V)return{x:(Y=c(k,E,I[1],I[2],I[3],I[4],I[5],I[6],j-z)).x,y:Y.y,alpha:Y.alpha};z+=W,k=+I[5],E=+I[6]}I.shift()}return(Y=V?z:d(k,E,I[0],I[1],I[2],I[3],I[4],I[5],1)).alpha?{x:Y.x,y:Y.y,alpha:Y.alpha}:Y}function l(P){var j=[],V=0,k=0,E=0,I=0,W=0;if(P){"M"===P[0][0]&&(E=V=+P[0][1],I=k=+P[0][2],W++,j[0]=["M",V,k]);for(var Y,z,te=3===P.length&&"M"===P[0][0]&&"R"===P[1][0].toUpperCase()&&"Z"===P[2][0].toUpperCase(),J=W,q=P.length;J<q;J++){if(j.push(Y=[]),(z=P[J])[0]!==z[0].toUpperCase())switch(Y[0]=z[0].toUpperCase(),Y[0]){case"A":Y[1]=z[1],Y[2]=z[2],Y[3]=z[3],Y[4]=z[4],Y[5]=z[5],Y[6]=+(z[6]+V),Y[7]=+(z[7]+k);break;case"V":Y[1]=+z[1]+k;break;case"H":Y[1]=+z[1]+V;break;case"R":for(var ne,fe=2,De=(ne=[V,k].concat(z.slice(1))).length;fe<De;fe++)ne[fe]=+ne[fe]+V,ne[++fe]=+ne[fe]+k;j.pop(),j=j.concat(p(ne,te));break;case"M":E=+z[1]+V,I=+z[2]+k;break;default:for(var K=1,L=z.length;K<L;K++)Y[K]=+z[K]+(K%2?V:k)}else if("R"===z[0])ne=[V,k].concat(z.slice(1)),j.pop(),j=j.concat(p(ne,te)),Y=["R"].concat(z.slice(-2));else for(var se=0,pe=z.length;se<pe;se++)Y[se]=z[se];switch(Y[0]){case"Z":V=E,k=I;break;case"H":V=Y[1];break;case"V":k=Y[1];break;case"M":E=Y[Y.length-2],I=Y[Y.length-1];break;default:V=Y[Y.length-2],k=Y[Y.length-1]}}}return j}function m(P,j,V,k,pe,We,Ce,Y,z,te){function J(gt,ft,yt){return{x:gt*Math.cos(yt)-ft*Math.sin(yt),y:gt*Math.sin(yt)+ft*Math.cos(yt)}}var q,se=120*(L=Math.PI)/180,ne=L/180*(+pe||0),fe=[],De=(te?(Be=te[0],q=te[1],Oe=te[2],ke=te[3]):(P=(Fe=J(P,j,-ne)).x,j=Fe.y,1<(De=(K=(P-(Y=(Fe=J(Y,z,-ne)).x))/2)*K/(V*V)+(Fe=(j-(z=Fe.y))/2)*Fe/(k*k))&&(V*=De=Math.sqrt(De),k*=De),De=V*V,tt=k*k,Oe=(We=(We===Ce?-1:1)*Math.sqrt(Math.abs((De*tt-De*Fe*Fe-tt*K*K)/(De*Fe*Fe+tt*K*K))))*V*Fe/k+(P+Y)/2,ke=We*-k*K/V+(j+z)/2,Be=Math.asin(((j-ke)/k).toFixed(9)),q=Math.asin(((z-ke)/k).toFixed(9)),(Be=P<Oe?L-Be:Be)<0&&(Be=2*L+Be),(q=Y<Oe?L-q:q)<0&&(q=2*L+q),Ce&&q<Be&&(Be-=2*L),!Ce&&Be<q&&(q-=2*L)),q-Be),K=(Math.abs(De)>se&&(tt=q,Fe=Y,We=z,q=Be+se*(Ce&&Be<q?1:-1),fe=m(Y=Oe+V*Math.cos(q),z=ke+k*Math.sin(q),V,k,pe,0,Ce,Fe,We,[q,tt,Oe,ke])),De=q-Be,Math.cos(Be)),L=Math.sin(Be),Fe=(se=Math.cos(q),pe=Math.sin(q),4/3*V*(Ce=Math.tan(De/4))),tt=[P,j],Oe=[P+Fe*L,j-(We=4/3*k*Ce)*K],ke=[Y+Fe*pe,z-We*se],Be=[Y,z];if(Oe[0]=2*tt[0]-Oe[0],Oe[1]=2*tt[1]-Oe[1],te)return[Oe,ke,Be].concat(fe);for(var je=[],Qe=0,Ke=(fe=[Oe,ke,Be].concat(fe).join().split(",")).length;Qe<Ke;Qe++)je[Qe]=Qe%2?J(fe[Qe-1],fe[Qe],ne).y:J(fe[Qe],fe[Qe+1],ne).x;return je}function p(P,j){for(var V=[],k=0,E=P.length;k<E-2*!j;k+=2){var I=[{x:+P[k-2],y:+P[k-1]},{x:+P[k],y:+P[k+1]},{x:+P[k+2],y:+P[k+3]},{x:+P[k+4],y:+P[k+5]}];j?k?E-4===k?I[3]={x:+P[0],y:+P[1]}:E-2===k&&(I[2]={x:+P[0],y:+P[1]},I[3]={x:+P[2],y:+P[3]}):I[0]={x:+P[E-2],y:+P[E-1]}:E-4===k?I[3]=I[2]:k||(I[0]={x:+P[k],y:+P[k+1]}),V.push(["C",(6*I[1].x-I[0].x+I[2].x)/6,(6*I[1].y-I[0].y+I[2].y)/6,(I[1].x+6*I[2].x-I[3].x)/6,(I[1].y+6*I[2].y-I[3].y)/6,I[2].x,I[2].y])}return V}function b(P,j,V,k){return[P,j,V,k,V,k]}function M(P,j,V,k,E,I){return[1/3*P+2/3*V,1/3*j+2/3*k,1/3*E+2/3*V,1/3*I+2/3*k,E,I]}function F(P,j,V,k,E,I,W,Y,z){for(var te=(z=1<(z=null==z?1:z)?1:z<0?0:z)/2,J=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],q=0,ne=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],fe=0;fe<12;fe++){var De=N(K=te*J[fe]+te,P,V,E,W),K=N(K,j,k,I,Y);q+=ne[fe]*Math.sqrt(De*De+K*K)}return te*q}function N(P,j,V,k,E){return P*(P*(-3*j+9*V-9*k+3*E)+6*j-12*V+6*k)-3*j+3*V}_.default.Font=function(){function P(E){if(!(this instanceof P))throw new TypeError("Cannot call a class as a function");this.parent=E,this.cache={},this.font=void 0}var j,V;return j=P,(V=[{key:"textBounds",value:function(E){var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,W=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,Y=4<arguments.length?arguments[4]:void 0,z=Y&&Y.renderer&&Y.renderer._pInst||this.parent,te=z._renderer.drawingContext,J=(J=3<arguments.length?arguments[3]:void 0)||z._renderer._textSize;if(!We){for(var q=[],ne=[],fe=[],De=(fe[0]=[],[]),K=this._scale(J),L=z._renderer.textLeading(),se=0,pe=(this.font.forEachGlyph(E,I,W,J,Y,function(ke,Be,je,Qe){var Ke=ke.getMetrics();0===ke.index?fe[se+=1]=[]:(fe[se].push(Be+Ke.xMin*K),fe[se].push(Be+Ke.xMax*K),De.push(je+se*L+-Ke.yMin*K),De.push(je+se*L+-Ke.yMax*K))}),0<fe[se].length&&(q[se]=Math.min.apply(null,fe[se]),ne[se]=Math.max.apply(null,fe[se])),0),Ce=0;Ce<=se;Ce++){q[Ce]=Math.min.apply(null,fe[Ce]),ne[Ce]=Math.max.apply(null,fe[Ce]);var Fe=ne[Ce]-q[Ce];pe<Fe&&(pe=Fe)}var We={x:te=Math.min.apply(null,q),y:W=Math.min.apply(null,De),h:Math.max.apply(null,De)-W,w:pe,advance:te-I};J=this._handleAlignment(z._renderer,E,We.x,We.y,We.w+We.advance),We.x=J.x,We.y=J.y}return We}},{key:"textToPoints",value:function(E,I,W,Y,z){var te=I,J=[],q=E.split(/\r?\n|\r|\n/g);Y=Y||this.parent._renderer._textSize;for(var ne,fe,De,K=0;K<q.length;K++){var L=0;I=te;for(var se=(se=q[K]).replace("\t","  "),pe=this._getGlyphs(se),Ce=0;Ce<pe.length;Ce++){if(fe=se,!((De=pe)[ne=Ce].name&&"space"===De[ne].name||fe.length===De.length&&" "===fe[ne]))for(var Fe=function(ke){for(var Be,je=[],Qe=0;Qe<ke.length;Qe++)"M"===ke[Qe].type&&(Be&&je.push(Be),Be=[]),Be.push((gt=void 0,gt=[(Ke=ke[Qe]).type],"M"===Ke.type||"L"===Ke.type?gt.push(Ke.x,Ke.y):"C"===Ke.type?gt.push(Ke.x1,Ke.y1,Ke.x2,Ke.y2,Ke.x,Ke.y):"Q"===Ke.type&&gt.push(Ke.x1,Ke.y1,Ke.x,Ke.y),gt));var Ke,gt;return je.push(Be),je}(pe[Ce].getPath(I,W,Y).commands),We=0;We<Fe.length;We++)for(var tt=function(ke,Be){Be=function(yt,Pt){if("object"!==x(yt))yt=Pt;else for(var Jt in Pt)void 0===yt[Jt]&&(yt[Jt]=Pt[Jt]);return yt}(Be,{sampleFactor:.1,simplifyThreshold:0});for(var je=u(ke,0,1),Qe=je/(je*Be.sampleFactor),Ke=[],gt=0;gt<je;gt+=Qe)Ke.push(u(ke,gt));return Be.simplifyThreshold&&function(ft){for(var yt=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Jt=ft.length-1;3<ft.length&&0<=Jt;--Jt)a(i(ft,Jt-1),i(ft,Jt),i(ft,Jt+1),yt)&&ft.splice(Jt%ft.length,1)}(Ke,Be.simplifyThreshold),Ke}(Fe[We],z),Oe=0;Oe<tt.length;Oe++)tt[Oe].x+=L,J.push(tt[Oe]);L+=pe[Ce].advanceWidth*this._scale(Y)}W+=this.parent._renderer._textLeading}return J}},{key:"_getGlyphs",value:function(E){return this.font.stringToGlyphs(E)}},{key:"_getPath",value:function(E,te,W,Y){var z=(Y&&Y.renderer&&Y.renderer._pInst||this.parent)._renderer;return te=this._handleAlignment(z,E,te,W),this.font.getPath(E,te.x,te.y,z._textSize,Y)}},{key:"_getPathData",value:function(E,I,W,Y){var z=3;return"string"==typeof E&&2<arguments.length?E=this._getPath(E,I,W,Y):"object"===x(I)&&(Y=I),Y&&"number"==typeof Y.decimals&&(z=Y.decimals),E.toPathData(z)}},{key:"_getSVG",value:function(E,I,W,Y){var z=3;return"string"==typeof E&&2<arguments.length?E=this._getPath(E,I,W,Y):"object"===x(I)&&(Y=I),Y&&("number"==typeof Y.decimals&&(z=Y.decimals),"number"==typeof Y.strokeWidth&&(E.strokeWidth=Y.strokeWidth),void 0!==Y.fill&&(E.fill=Y.fill),void 0!==Y.stroke&&(E.stroke=Y.stroke)),E.toSVG(z)}},{key:"_renderPath",value:function(J,ne,fe,Y){var z=Y&&Y.renderer||this.parent._renderer,te=z.drawingContext,q=(J=("object"===x(J)&&J.commands?J:this._getPath(J,ne,fe,Y)).commands,te.beginPath(),!0);ne=!1,fe=void 0;try{for(var De,K=J[Symbol.iterator]();!(q=(De=K.next()).done);q=!0){var L=De.value;"M"===L.type?te.moveTo(L.x,L.y):"L"===L.type?te.lineTo(L.x,L.y):"C"===L.type?te.bezierCurveTo(L.x1,L.y1,L.x2,L.y2,L.x,L.y):"Q"===L.type?te.quadraticCurveTo(L.x1,L.y1,L.x,L.y):"Z"===L.type&&te.closePath()}}catch(se){ne=!0,fe=se}finally{try{q||null==K.return||K.return()}finally{if(ne)throw fe}}return z._doStroke&&z._strokeSet&&!z._clipping&&te.stroke(),z._doFill&&!z._clipping&&(z._fillSet||z._setFill(h._DEFAULT_TEXT_FILL),te.fill()),this}},{key:"_textWidth",value:function(E,I){return this.font.getAdvanceWidth(E,I)}},{key:"_textAscent",value:function(E){return this.font.ascender*this._scale(E)}},{key:"_textDescent",value:function(E){return-this.font.descender*this._scale(E)}},{key:"_scale",value:function(E){return 1/this.font.unitsPerEm*(E||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(E,I,W,Y,z){var te=E._textSize;switch(void 0===z&&(z=this._textWidth(I,te)),E._textAlign){case h.CENTER:W-=z/2;break;case h.RIGHT:W-=z}switch(E._textBaseline){case h.TOP:Y+=this._textAscent(te);break;case h.CENTER:Y+=this._textAscent(te)/2;break;case h.BOTTOM:Y-=this._textDescent(te)}return{x:W,y:Y}}}])&&w(j.prototype,V),P}(),S.default=o=_.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(o,$,S){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(v,_){return v.push(_),v},o.default.prototype.arrayCopy=function(v,_,h,f,x){var w,i;v=void 0!==x?(i=Math.min(x,v.length),w=f,v.slice(_,i+_)):(i=void 0!==h?(i=h,Math.min(i,v.length)):v.length,h=_,v.slice(w=0,i)),Array.prototype.splice.apply(h,[w,i].concat(v))},o.default.prototype.concat=function(v,_){return v.concat(_)},o.default.prototype.reverse=function(v){return v.reverse()},o.default.prototype.shorten=function(v){return v.pop(),v},o.default.prototype.shuffle=function(v,_){for(var h,f,x=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),w=(v=_||x?v:v.slice()).length;1<w;)h=this.random(0,1)*w|0,f=v[--w],v[w]=v[h],v[h]=f;return v},o.default.prototype.sort=function(v,f){var h=f?v.slice(0,Math.min(f,v.length)):v;return f=f?v.slice(Math.min(f,v.length)):[],(h="string"==typeof h[0]?h.sort():h.sort(function(x,w){return x-w})).concat(f)},o.default.prototype.splice=function(v,_,h){return Array.prototype.splice.apply(v,[h,0].concat(_)),v},o.default.prototype.subset=function(v,_,h){return v.slice(_,void 0!==h?_+h:v.length)},S.default=o=o.default},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(o,$,S){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.float=function(_){return _ instanceof Array?_.map(parseFloat):parseFloat(_)},v.default.prototype.int=function(_){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return _===1/0||"Infinity"===_?1/0:_===-1/0||"-Infinity"===_?-1/0:"string"==typeof _?parseInt(_,h):"number"==typeof _?0|_:"boolean"==typeof _?_?1:0:_ instanceof Array?_.map(function(f){return v.default.prototype.int(f,h)}):void 0},v.default.prototype.str=function(_){return _ instanceof Array?_.map(v.default.prototype.str):String(_)},v.default.prototype.boolean=function(_){return"number"==typeof _?0!==_:"string"==typeof _?"true"===_.toLowerCase():"boolean"==typeof _?_:_ instanceof Array?_.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(_){return"number"==typeof(_=v.default.prototype.int(_,10))?(_+128)%256-128:_ instanceof Array?_.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(_){return"number"!=typeof _||isNaN(_)?_ instanceof Array?_.map(v.default.prototype.char):"string"==typeof _?v.default.prototype.char(parseInt(_,10)):void 0:String.fromCharCode(_)},v.default.prototype.unchar=function(_){return"string"==typeof _&&1===_.length?_.charCodeAt(0):_ instanceof Array?_.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(_,h){if(h=null==h?8:h,_ instanceof Array)return _.map(function(x){return v.default.prototype.hex(x,h)});if(_===1/0||_===-1/0)return(_===1/0?"F":"0").repeat(h);if("number"==typeof _){_<0&&(_=4294967295+_+1);for(var f=Number(_).toString(16).toUpperCase();f.length<h;)f="0".concat(f);return f.length>=h?f.substring(f.length-h,f.length):f}},v.default.prototype.unhex=function(_){return _ instanceof Array?_.map(v.default.prototype.unhex):parseInt("0x".concat(_),16)},S.default=o=v.default},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(i=o("../core/main"))&&i.__esModule?i:{default:i};function _(a,d){return function(c){if(Array.isArray(c))return c}(a)||function(c,u){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c)){var l=[],m=!0,p=!1,b=void 0;try{for(var M,F=c[Symbol.iterator]();!(m=(M=F.next()).done)&&(l.push(M.value),!u||l.length!==u);m=!0);}catch(N){p=!0,b=N}finally{try{m||null==F.return||F.return()}finally{if(p)throw b}}return l}}(a,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(a,d,c){var u=(l=_(a.toString().split("."),2))[0],l=l[1];return void 0===c?(u=u.padStart(d,"0"),l?u+"."+l:u):(u=(a=_(a.toFixed(c).toString().split("."),2))[0],l=a[1],u=u.padStart(d,"0"),void 0===l?u:u+"."+l)}function f(l,d){var c=(l=l.toString()).indexOf("."),u=-1!==c?l.substring(c):"";if(l=(l=-1!==c?l.substring(0,c):l).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===d)u="";else if(void 0!==d)if(d>u.length)for(var m=d-(u+=-1===c?".":"").length+1,p=0;p<m;p++)u+="0";else u=u.substring(0,d+1);return l+u}function x(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function w(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),v.default.prototype.join=function(a,d){return v.default._validateParameters("join",arguments),a.join(d)},v.default.prototype.match=function(a,d){return v.default._validateParameters("match",arguments),a.match(d)},v.default.prototype.matchAll=function(a,d){v.default._validateParameters("matchAll",arguments);for(var c=new RegExp(d,"g"),u=c.exec(a),l=[];null!==u;)l.push(u),u=c.exec(a);return l},v.default.prototype.nf=function(a,d,c){return v.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(u){return h(u,d,c)}):"[object Arguments]"===Object.prototype.toString.call(a)?3===a.length?this.nf(a[0],a[1],a[2]):2===a.length?this.nf(a[0],a[1]):this.nf(a[0]):h(a,d,c)},v.default.prototype.nfc=function(a,d){return v.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(c){return f(c,d)}):f(a,d)},v.default.prototype.nfp=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];v.default._validateParameters("nfp",d);var u=v.default.prototype.nf.apply(this,d);return u instanceof Array?u.map(x):x(u)},v.default.prototype.nfs=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];v.default._validateParameters("nfs",d);var u=v.default.prototype.nf.apply(this,d);return u instanceof Array?u.map(w):w(u)},v.default.prototype.split=function(a,d){return v.default._validateParameters("split",arguments),a.split(d)},v.default.prototype.splitTokens=function(a,d){var c,u;return v.default._validateParameters("splitTokens",arguments),u=void 0!==d?(u=/\]/g.exec(d),(c=/\[/g.exec(d))&&u?(d=d.slice(0,u.index)+d.slice(u.index+1),c=/\[/g.exec(d),d=d.slice(0,c.index)+d.slice(c.index+1),new RegExp("[\\[".concat(d,"\\]]"),"g")):u?(d=d.slice(0,u.index)+d.slice(u.index+1),new RegExp("[".concat(d,"\\]]"),"g")):c?(d=d.slice(0,c.index)+d.slice(c.index+1),new RegExp("[".concat(d,"\\[]"),"g")):new RegExp("[".concat(d,"]"),"g")):/\s/g,a.split(u).filter(function(l){return l})},v.default.prototype.trim=function(a){return v.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var i=v.default;S.default=i},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(o,$,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},S.default=o=o.default},{"../core/main":280}],323:[function(o,$,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(i=o("../core/main"))&&i.__esModule?i:{default:i},f=(o("./p5.Geometry"),function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var d=x();if(d&&d.has(a))return d.get(a);var c,u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var m;Object.prototype.hasOwnProperty.call(a,c)&&((m=l?Object.getOwnPropertyDescriptor(a,c):null)&&(m.get||m.set)?Object.defineProperty(u,c,m):u[c]=a[c])}return u.default=a,d&&d.set(a,u),u}(o("../core/constants")));function x(){var a;return"function"!=typeof WeakMap?null:(x=function(){return a},a=new WeakMap)}function w(a,d,c,u,l,m,p){a=a<=0?1:a,d=d<0?0:d,c=c<=0?a:c,u=u<3?3:u;for(var b,M,F=(m=void 0===m||m)?-2:0,N=(l=l<1?1:l)+((p=void 0===p?0!==d:p)?2:0),P=Math.atan2(a-d,c),j=Math.sin(P),V=Math.cos(P),k=F;k<=N;++k){var E=k/l,I=c*E,W=void 0;for(W=k<0?(E=I=0,a):l<k?(I=c,E=1,d):a+(d-a)*E,-2!==k&&k!==l+2||(W=0),I-=c/2,b=0;b<u;++b){var Y=b/(u-1),te=2*Math.PI*Y,z=Math.sin(te),J=(te=Math.cos(te),this.vertices.push(new h.default.Vector(z*W,I,te*W)));J=k<0?new h.default.Vector(0,-1,0):l<k&&d?new h.default.Vector(0,1,0):new h.default.Vector(z*V,j,te*V),this.vertexNormals.push(J),this.uvs.push(Y,E)}}var q=0;if(m){for(M=0;M<u;++M)this.faces.push([q+M,q+u+(M+1)%u,q+u+M]);q+=2*u}for(k=0;k<l;++k){for(b=0;b<u;++b){var ne=(b+1)%u;this.faces.push([q+b,q+ne,q+u+ne]),this.faces.push([q+b,q+u+ne,q+u+b])}q+=u}if(p)for(q+=u,b=0;b<u;++b)this.faces.push([q+b,q+(b+1)%u,q+u])}h.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},h.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},h.default.prototype.buildGeometry=function(a){return this._renderer.buildGeometry(a)},h.default.prototype.freeGeometry=function(a){this._renderer._freeBuffers(a.gid)},h.default.prototype.plane=function(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=(this._assert3d("plane"),h.default._validateParameters("plane",arguments),"plane|".concat(u,"|").concat(l));return this._renderer.geometryInHash(m)||((a=new h.default.Geometry(u,l,function(){for(var p,b,M=0;M<=this.detailY;M++)for(var F=M/this.detailY,N=0;N<=this.detailX;N++)b=new h.default.Vector((p=N/this.detailX)-.5,F-.5,0),this.vertices.push(b),this.uvs.push(p,F)})).computeFaces().computeNormals(),u<=1&&l<=1?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,a)),this._renderer.drawBuffersScaled(m,d,c,1),this},h.default.prototype.box=function(a,d,c,u,l){this._assert3d("box"),h.default._validateParameters("box",arguments),void 0===a&&(a=50),void 0===d&&(d=a),void 0===c&&(c=d);var m,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===l&&(l=p?1:4),p="box|".concat(u=void 0===u?p?1:4:u,"|").concat(l),this._renderer.geometryInHash(p)||((m=new h.default.Geometry(u,l,function(){var b=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(M,F){F*=4;for(var N=0;N<4;N++){var P=new h.default.Vector((2*(1&(P=M[N]))-1)/2,((2&P)-1)/2,((4&P)/2-1)/2);b.vertices.push(P),b.uvs.push(1&N,(2&N)/2)}b.faces.push([F,1+F,2+F]),b.faces.push([2+F,1+F,3+F])})})).computeNormals(),u<=4&&l<=4?m._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,m)),this._renderer.drawBuffersScaled(p,a,d,c),this},h.default.prototype.sphere=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),h.default._validateParameters("sphere",arguments),this.ellipsoid(a,a,a,d,c),this},h.default.prototype.cylinder=function(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],b=(this._assert3d("cylinder"),h.default._validateParameters("cylinder",arguments),"cylinder|".concat(u,"|").concat(l,"|").concat(m,"|").concat(p));return this._renderer.geometryInHash(b)||(a=new h.default.Geometry(u,l),w.call(a,1,1,1,u,l,m,p),u<=24&&l<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,a)),this._renderer.drawBuffersScaled(b,d,c,d),this},h.default.prototype.cone=function(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=(this._assert3d("cone"),h.default._validateParameters("cone",arguments),"cone|".concat(u,"|").concat(l,"|").concat(m));return this._renderer.geometryInHash(p)||(a=new h.default.Geometry(u,l),w.call(a,1,0,1,u,l,m,!1),u<=24&&l<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,a)),this._renderer.drawBuffersScaled(p,d,c,d),this},h.default.prototype.ellipsoid=function(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,p=(this._assert3d("ellipsoid"),h.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(l,"|").concat(m));return this._renderer.geometryInHash(p)||((a=new h.default.Geometry(l,m,function(){for(var b=0;b<=this.detailY;b++)for(var M=b/this.detailY,F=Math.PI*M-Math.PI/2,N=Math.cos(F),P=Math.sin(F),j=0;j<=this.detailX;j++){var V=j/this.detailX,E=2*Math.PI*V,k=Math.cos(E);E=Math.sin(E),E=new h.default.Vector(N*E,P,N*k),this.vertices.push(E),this.vertexNormals.push(E),this.uvs.push(V,M)}})).computeFaces(),l<=24&&m<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,a)),this._renderer.drawBuffersScaled(p,d,c,u),this},h.default.prototype.torus=function(a,p,c,u){if(this._assert3d("torus"),h.default._validateParameters("torus",arguments),void 0===a)a=50;else if(!a)return;if(void 0===p)p=10;else if(!p)return;void 0===c&&(c=24),void 0===u&&(u=16);var l,m=(p/a).toPrecision(4);return p="torus|".concat(m,"|").concat(c,"|").concat(u),this._renderer.geometryInHash(p)||((l=new h.default.Geometry(c,u,function(){for(var b=0;b<=this.detailY;b++)for(var M=b/this.detailY,F=2*Math.PI*M,N=Math.cos(F),P=Math.sin(F),j=1+m*N,V=0;V<=this.detailX;V++){var k=V/this.detailX,E=2*Math.PI*k,W=Math.cos(E),I=(E=Math.sin(E),new h.default.Vector(j*W,j*E,m*P));W=new h.default.Vector(N*W,N*E,P),this.vertices.push(I),this.vertexNormals.push(W),this.uvs.push(k,M)}})).computeFaces(),c<=24&&u<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,a,a,a),this},h.default.RendererGL.prototype.point=function(a,d){var c=[];return c.push(new h.default.Vector(a,d,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(c,this.immediateMode.buffers.point),this},h.default.RendererGL.prototype.triangle=function(p){var d=p[0],c=p[1],u=p[2],l=p[3],m=p[4],b=(p=p[5],this.geometryInHash("tri")||((b=new h.default.Geometry(1,1,function(){var N=[];N.push(new h.default.Vector(0,0,0)),N.push(new h.default.Vector(1,0,0)),N.push(new h.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=N,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),b.computeNormals(),this.createBuffers("tri",b)),this.uMVMatrix.copy());try{var M=Math.sign(d*l-u*c+u*p-m*l+m*c-d*p),F=new h.default.Matrix([u-d,l-c,0,0,m-d,p-c,0,0,0,0,M,0,d,c,0,1]).mult(this.uMVMatrix);this.uMVMatrix=F,this.drawBuffers("tri")}finally{this.uMVMatrix=b}return this},h.default.RendererGL.prototype.ellipse=function(a){this.arc(a[0],a[1],a[2],a[3],0,f.TWO_PI,f.OPEN,a[4])},h.default.RendererGL.prototype.arc=function(){var a,d=arguments.length<=0?void 0:arguments[0],c=arguments.length<=1?void 0:arguments[1],u=arguments.length<=2?void 0:arguments[2],l=arguments.length<=3?void 0:arguments[3],m=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],b=arguments.length<=6?void 0:arguments[6],M=(arguments.length<=7?void 0:arguments[7])||25,F=(Math.abs(p-m)>=f.TWO_PI?"".concat(N="ellipse","|"):"".concat(N="arc","|").concat(m,"|").concat(p,"|").concat(b,"|")).concat(M,"|"),N=(this.geometryInHash(F)||((a=new h.default.Geometry(M,1,function(){if(m.toFixed(10)!==p.toFixed(10)){b!==f.PIE&&void 0!==b||(this.vertices.push(new h.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var P=0;P<=M;P++){var V=P/M*(p-m)+m,j=.5+Math.cos(V)/2;V=.5+Math.sin(V)/2,this.vertices.push(new h.default.Vector(j,V,0)),this.uvs.push([j,V]),P<M-1&&(this.faces.push([0,P+1,P+2]),this.edges.push([P+1,P+2]))}switch(b){case f.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case f.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case f.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),M<=50?a._edgesToVertices(a):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(N," with more than 50 detail")),this.createBuffers(F,a)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,c,0]),this.uMVMatrix.scale(u,l,1),this.drawBuffers(F)}finally{this.uMVMatrix=N}return this},h.default.RendererGL.prototype.rect=function(a){var d=a[0],c=a[1],u=a[2],l=a[3];if(void 0===a[4]){var b=this._pInst._glAttributes.perPixelLighting,m=a[4]||(b?1:24),p=a[5]||(b?1:16),M=(b="rect|".concat(m,"|").concat(p),this.geometryInHash(b)||((M=new h.default.Geometry(m,p,function(){for(var J=0;J<=this.detailY;J++)for(var q=J/this.detailY,ne=0;ne<=this.detailX;ne++){var fe=ne/this.detailX,De=new h.default.Vector(fe,q,0);this.vertices.push(De),this.uvs.push(fe,q)}0<m&&0<p&&(this.edges=[[0,m],[m,(m+1)*(p+1)-1],[(m+1)*(p+1)-1,(m+1)*p],[(m+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(b,M)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,c,0]),this.uMVMatrix.scale(u,l,1),this.drawBuffers(b)}finally{this.uMVMatrix=M}}else{b=a[4],M=void 0===a[5]?b:a[5];var F=void 0===a[6]?M:a[6],E=(a=void 0===a[7]?F:a[7],u),N=l,P=((E+=d)<d&&(V=d,d=E,E=V),(N+=c)<c&&(V=c,c=N,N=V),(V=Math.min((E-d)/2,(N-c)/2))<b&&(b=V),V<M&&(M=V),V<F&&(F=V),V<a&&(a=V),d),j=c,V=E,k=(d=N,this.beginShape(),0!==M?(this.vertex(V-M,j),this.quadraticVertex(V,j,V,j+M)):this.vertex(V,j),0!==F?(this.vertex(V,d-F),this.quadraticVertex(V,d,V-F,d)):this.vertex(V,d),0!==a?(this.vertex(P+a,d),this.quadraticVertex(P,d,P,d-a)):this.vertex(P,d),0!==b?(this.vertex(P,j+b),this.quadraticVertex(P,j,P+b,j)):this.vertex(P,j),!(this.immediateMode.geometry.uvs.length=0));c=!1,E=void 0;try{for(var I,W=this.immediateMode.geometry.vertices[Symbol.iterator]();!(k=(I=W.next()).done);k=!0){var Y=I.value;this.immediateMode.geometry.uvs.push((Y.x-P)/u,(Y.y-j)/l)}}catch(K){c=!0,E=K}finally{try{k||null==W.return||W.return()}finally{if(c)throw E}}this.endShape(f.CLOSE)}return this},h.default.RendererGL.prototype.quad=function(a,d,c,u,l,m,p,b,M,F,N,P){var j=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,V=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,k="quad|".concat(a,"|").concat(d,"|").concat(c,"|").concat(u,"|").concat(l,"|").concat(m,"|").concat(p,"|").concat(b,"|").concat(M,"|").concat(F,"|").concat(N,"|").concat(P,"|").concat(j,"|").concat(V);if(!this.geometryInHash(k)){var E=new h.default.Geometry(j,V,function(){for(var ne=1/(this.detailX-1),fe=1/(this.detailY-1),De=0;De<this.detailY;De++)for(var K=0;K<this.detailX;K++){var L=K*ne,se=De*fe;this.vertices.push(new h.default.Vector((1-L)*((1-se)*a+se*F)+L*((1-se)*u+se*p),(1-L)*((1-se)*d+se*N)+L*((1-se)*l+se*b),(1-L)*((1-se)*c+se*P)+L*((1-se)*m+se*M))),this.uvs.push([L,se])}});E.faces=[];for(var I=0;I<V-1;I++)for(var W=0;W<j-1;W++){var Y=W+I*j,z=W+1+(I+1)*j,te=W+(I+1)*j;E.faces.push([Y,W+1+I*j,z]),E.faces.push([Y,z,te])}E.computeNormals();for(var J=[E.edges.length=0,2,3,1],q=0;q<J.length;q++)E.edges.push([J[q],J[(q+1)%J.length]]);E._edgesToVertices(),this.createBuffers(k,E)}return this.drawBuffers(k),this},h.default.RendererGL.prototype.bezier=function(a,d,c,u,l,m,p,b,M,F,N,P){8===arguments.length&&(N=b,F=p,b=m,p=l,l=u,u=c,c=m=M=P=0);var j=this._pInst._bezierDetail||20;this.beginShape();for(var V=0;V<=j;V++){var k=Math.pow(1-V/j,3),E=V/j*3*Math.pow(1-V/j,2),I=3*Math.pow(V/j,2)*(1-V/j),W=Math.pow(V/j,3);this.vertex(a*k+u*E+p*I+F*W,d*k+l*E+b*I+N*W,c*k+m*E+M*I+P*W)}return this.endShape(),this},h.default.RendererGL.prototype.curve=function(a,d,c,u,l,m,p,b,M,F,N,P){8===arguments.length&&(F=p,N=b,p=l,b=u,l=u=c,c=m=M=P=0);var j=this._pInst._curveDetail;this.beginShape();for(var V=0;V<=j;V++){var k=.5*Math.pow(V/j,3),E=.5*Math.pow(V/j,2),I=V/j*.5;this.vertex(k*(3*u-a-3*p+F)+E*(2*a-5*u+4*p-F)+I*(-a+p)+2*u*.5,k*(3*l-d-3*b+N)+E*(2*d-5*l+4*b-N)+I*(-d+b)+2*l*.5,k*(3*m-c-3*M+P)+E*(2*c-5*m+4*M-P)+I*(-c+M)+2*m*.5)}return this.endShape(),this},h.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},h.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var a,d,c,u,l,m,p=[],b=[],M=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var F=1/this._lutBezierDetail,N=0,P=1,j=0;N<1;){if(m=parseFloat(N.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(m),P.toFixed(6)===F.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(N.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(m);break}N+=F,P-=F,++j}}for(var V=this._lookUpTableBezier.length,k=[],E=0;E<4;E++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[3]=this.curFillColor.slice();var I=[];for(E=0;E<4;E++)I.push([]);if(I[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),I[3]=this.curStrokeColor.slice(),6===M){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var W=Math.hypot(p[0]-p[1],b[0]-b[1]),z=Math.hypot(p[1]-p[2],b[1]-b[2]),Y=Math.hypot(p[2]-p[3],b[2]-b[3]);for(W/=z=W+z+Y,Y/=z,l=0;l<4;l++)k[1].push(k[0][l]*(1-W)+k[3][l]*W),k[2].push(k[0][l]*Y+k[3][l]*(1-Y)),I[1].push(I[0][l]*(1-W)+I[3][l]*W),I[2].push(I[0][l]*Y+I[3][l]*(1-Y));for(u=0;u<V;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],E=a=d=0;E<4;E++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[u][E]*k[E][l],this.curStrokeColor[l]+=this._lookUpTableBezier[u][E]*I[E][l];a+=p[E]*this._lookUpTableBezier[u][E],d+=b[E]*this._lookUpTableBezier[u][E]}this.vertex(a,d)}this.curFillColor=k[3],this.curStrokeColor=I[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===M){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var te=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],J=Math.hypot(p[0]-p[1],b[0]-b[1],te[0]-te[1]),q=(z=Math.hypot(p[1]-p[2],b[1]-b[2],te[1]-te[2]),Math.hypot(p[2]-p[3],b[2]-b[3],te[2]-te[3]));for(J/=M=J+z+q,q/=M,l=0;l<4;l++)k[1].push(k[0][l]*(1-J)+k[3][l]*J),k[2].push(k[0][l]*q+k[3][l]*(1-q)),I[1].push(I[0][l]*(1-J)+I[3][l]*J),I[2].push(I[0][l]*q+I[3][l]*(1-q));for(u=0;u<V;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],E=a=d=c=0;E<4;E++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[u][E]*k[E][l],this.curStrokeColor[l]+=this._lookUpTableBezier[u][E]*I[E][l];a+=p[E]*this._lookUpTableBezier[u][E],d+=b[E]*this._lookUpTableBezier[u][E],c+=te[E]*this._lookUpTableBezier[u][E]}this.vertex(a,d,c)}this.curFillColor=k[3],this.curStrokeColor=I[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},h.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var a,d,c,u,l,m,p=[],b=[],M=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var F=1/this._lutQuadraticDetail,N=0,P=1,j=0;N<1;){if(m=parseFloat(N.toFixed(6)),this._lookUpTableQuadratic[j]=this._quadraticCoefficients(m),P.toFixed(6)===F.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(N.toFixed(6)),++j,this._lookUpTableQuadratic[j]=this._quadraticCoefficients(m);break}N+=F,P-=F,++j}}for(var V=this._lookUpTableQuadratic.length,k=[],E=0;E<3;E++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[2]=this.curFillColor.slice();var I=[];for(E=0;E<3;E++)I.push([]);if(I[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),I[2]=this.curStrokeColor.slice(),4===M){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var W=Math.hypot(p[0]-p[1],b[0]-b[1]);for(W/=W+Math.hypot(p[1]-p[2],b[1]-b[2]),l=0;l<4;l++)k[1].push(k[0][l]*(1-W)+k[2][l]*W),I[1].push(I[0][l]*(1-W)+I[2][l]*W);for(u=0;u<V;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],E=a=d=0;E<3;E++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[u][E]*k[E][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[u][E]*I[E][l];a+=p[E]*this._lookUpTableQuadratic[u][E],d+=b[E]*this._lookUpTableQuadratic[u][E]}this.vertex(a,d)}this.curFillColor=k[2],this.curStrokeColor=I[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===M){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var Y=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],z=Math.hypot(p[0]-p[1],b[0]-b[1],Y[0]-Y[1]);for(z/=z+Math.hypot(p[1]-p[2],b[1]-b[2],Y[1]-Y[2]),l=0;l<4;l++)k[1].push(k[0][l]*(1-z)+k[2][l]*z),I[1].push(I[0][l]*(1-z)+I[2][l]*z);for(u=0;u<V;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],E=a=d=c=0;E<3;E++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[u][E]*k[E][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[u][E]*I[E][l];a+=p[E]*this._lookUpTableQuadratic[u][E],d+=b[E]*this._lookUpTableQuadratic[u][E],c+=Y[E]*this._lookUpTableQuadratic[u][E]}this.vertex(a,d,c)}this.curFillColor=k[2],this.curStrokeColor=I[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},h.default.RendererGL.prototype.curveVertex=function(){var a,l,m,p=[],b=[],M=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var F=1/this._lutBezierDetail,N=0,P=1,j=0;N<1;){if(m=parseFloat(N.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(m),P.toFixed(6)===F.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(N.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(m);break}N+=F,P-=F,++j}}var V=this._lookUpTableBezier.length;if(2===M){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),l=0;l<V;l++)this.vertex(p[0]*this._lookUpTableBezier[l][0]+p[1]*this._lookUpTableBezier[l][1]+p[2]*this._lookUpTableBezier[l][2]+p[3]*this._lookUpTableBezier[l][3],b[0]*this._lookUpTableBezier[l][0]+b[1]*this._lookUpTableBezier[l][1]+b[2]*this._lookUpTableBezier[l][2]+b[3]*this._lookUpTableBezier[l][3]);for(l=0;l<M;l++)this.immediateMode._curveVertex.shift()}}else if(3===M&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),l=0;l<V;l++)this.vertex(p[0]*this._lookUpTableBezier[l][0]+p[1]*this._lookUpTableBezier[l][1]+p[2]*this._lookUpTableBezier[l][2]+p[3]*this._lookUpTableBezier[l][3],b[0]*this._lookUpTableBezier[l][0]+b[1]*this._lookUpTableBezier[l][1]+b[2]*this._lookUpTableBezier[l][2]+b[3]*this._lookUpTableBezier[l][3],a[0]*this._lookUpTableBezier[l][0]+a[1]*this._lookUpTableBezier[l][1]+a[2]*this._lookUpTableBezier[l][2]+a[3]*this._lookUpTableBezier[l][3]);for(l=0;l<M;l++)this.immediateMode._curveVertex.shift()}},h.default.RendererGL.prototype.image=function(a,P,c,j,l,m,p,b,M){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(a),this._pInst.textureMode(f.NORMAL);var F=0,N=(P<=a.width&&(F=P/a.width),1);P+j<=a.width&&(N=(P+j)/a.width),P=0,c<=a.height&&(P=c/a.height),j=1,c+l<=a.height&&(j=(c+l)/a.height),this.beginShape(),this.vertex(m,p,0,F,P),this.vertex(m+b,p,0,N,P),this.vertex(m+b,p+M,0,N,j),this.vertex(m,p+M,0,F,j),this.endShape(f.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(f.REMOVE)};var i=h.default;S.default=i},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(o,$,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(a=o("../core/main"))&&a.__esModule?a:{default:a},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var c=x();if(c&&c.has(d))return c.get(d);var u,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in d){var p;Object.prototype.hasOwnProperty.call(d,u)&&((p=m?Object.getOwnPropertyDescriptor(d,u):null)&&(p.get||p.set)?Object.defineProperty(l,u,p):l[u]=d[u])}return l.default=d,c&&c.set(d,l),l}(o("../core/constants"));function x(){var d;return"function"!=typeof WeakMap?null:(x=function(){return d},d=new WeakMap)}function w(d){return function(c){if(Array.isArray(c)){for(var u=0,l=new Array(c.length);u<c.length;u++)l[u]=c[u];return l}}(d)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(d,c){for(var u=0;u<c.length;u++){var l=c[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}var a=function(){function d(m){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");(this.renderer=m)._pInst.push(),this.identityMatrix=new h.default.Matrix,m.uMVMatrix=new h.default.Matrix,this.geometry=new h.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(d.nextGeometryId),d.nextGeometryId++,this.hasTransform=!1}var c,u;return c=d,(u=[{key:"transformVertices",value:function(m){var p=this;return this.hasTransform?m.map(function(b){return p.renderer.uMVMatrix.multiplyPoint(b)}):m}},{key:"transformNormals",value:function(m){var p=this;return this.hasTransform?m.map(function(b){return p.renderer.uNMatrix.multiplyVec3(b)}):m}},{key:"addGeometry",value:function(m){for(var p,b=this,M=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(N,P){return N===b.identityMatrix.mat4[P]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),F=((p=this.geometry.vertices).push.apply(p,w(this.transformVertices(m.vertices))),(p=this.geometry.vertexNormals).push.apply(p,w(this.transformNormals(m.vertexNormals))),(p=this.geometry.uvs).push.apply(p,w(m.uvs)),this.renderer._doFill&&(p=this.geometry.faces).push.apply(p,w(m.faces.map(function(N){return N.map(function(P){return P+M})}))),this.renderer._doStroke&&(p=this.geometry.edges).push.apply(p,w(m.edges.map(function(N){return N.map(function(P){return P+M})}))),w(m.vertexColors));F.length<4*m.vertices.length;)F.push.apply(F,w(this.renderer.curFillColor));(p=this.geometry.vertexColors).push.apply(p,w(F))}},{key:"addImmediate",value:function(){var m=this.renderer.immediateMode.geometry,p=this.renderer.immediateMode.shapeMode,b=[];if(this.renderer._doFill)if(p===f.TRIANGLE_STRIP||p===f.QUAD_STRIP)for(var M=2;M<m.vertices.length;M++)b.push(M%2==0?[M,M-1,M-2]:[M,M-2,M-1]);else if(p===f.TRIANGLE_FAN)for(var F=2;F<m.vertices.length;F++)b.push([0,F-1,F]);else for(var N=0;N<m.vertices.length;N+=3)b.push([N,N+1,N+2]);this.addGeometry(Object.assign({},m,{faces:b}))}},{key:"addRetained",value:function(m){this.addGeometry(m.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&i(c.prototype,u),d}();a.nextGeometryId=0,S.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(o,$,S){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(w=o("../core/main"))&&w.__esModule?w:{default:w},h=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==x(i)&&"function"!=typeof i)return{default:i};var a=f();if(a&&a.has(i))return a.get(i);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in i){var l;Object.prototype.hasOwnProperty.call(i,d)&&((l=u?Object.getOwnPropertyDescriptor(i,d):null)&&(l.get||l.set)?Object.defineProperty(c,d,l):c[d]=i[d])}return c.default=i,a&&a.set(i,c),c}(o("../core/constants"));function f(){var i;return"function"!=typeof WeakMap?null:(f=function(){return i},i=new WeakMap)}function x(i){return(x="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}_.default.prototype.orbitControl=function(i,a,d,M){var u=this,l=(this._assert3d("orbitControl"),_.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===i&&(i=1),void 0===a&&(a=i),void 0===d&&(d=1),"object"!==x(M)&&(M={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var N=M.disableTouchActions;!0===this.touchActionsDisabled||void 0!==N&&!N||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),M=void 0!==(N=M.freeRotation)&&N;var m,p,b,F=[],P=(this.touches.forEach(function(W){u._renderer.prevTouches.forEach(function(Y){W.id===Y.id&&F.push(Y={x:W.x,y:W.y,px:Y.x,py:Y.y})})}),this._renderer.prevTouches=this.touches,N=0,0),j=0,V=0,k=0,E=this.height<this.width?this.height:this.width,I=!1;return 0<F.length?(I=0<F[0].x&&F[0].x<this.width&&0<F[0].y&&F[0].y<this.height,1===F.length?(P=-i*((m=F[0]).x-m.px)/E,j=a*(m.y-m.py)/E):(m=F[0],p=F[1],N=-(Math.hypot(m.x-p.x,m.y-p.y)-Math.hypot(m.px-p.px,m.py-p.py))*d*4e-4,V=.5*(m.x+p.x)-.5*(m.px+p.px),k=.5*(m.y+p.y)-.5*(m.py+p.py)),0<this.touches.length?I&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(I=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(N=Math.sign(this._mouseWheelDeltaY)*d,N*=.01,this._mouseWheelDeltaY=0,I&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(P=-i*this.movedX/E,j=a*this.movedY/E):this.mouseButton===this.RIGHT&&(V=this.movedX,k=this.movedY*l.yScale),I&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==N&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=N),.001<Math.abs(this._renderer.zoomVelocity)?(M?l._orbitFree(0,0,this._renderer.zoomVelocity):l._orbit(0,0,this._renderer.zoomVelocity),0!==l.projMatrix.mat4[15]&&(l.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),l.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=l.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=l.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===P&&0===j||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*P,.6*j),1e-6<this._renderer.rotateVelocity.magSq()?(M?l._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):l._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===V&&0===k||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(m=2*V/this.width),.15*(p=2*-k/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(d=l._getLocalAxes(),i=l.eyeX-l.centerX,a=l.eyeY-l.centerY,E=l.eyeZ-l.centerZ,I=Math.sqrt(i*i+a*a+E*E),N=new _.default.Vector(l.centerX,l.centerY,l.centerZ),N=l.cameraMatrix.multiplyPoint(N),(N=this._renderer.uPMatrix.multiplyAndNormalizePoint(N)).x-=this._renderer.moveVelocity.x,N.y-=this._renderer.moveVelocity.y,j=0===(P=this._renderer.uPMatrix.mat4)[15]?(b=(P[8]+N.x)/P[0]*I,(P[9]+N.y)/P[5]*I):(b=(N.x-P[12])/P[0],(N.y-P[13])/P[5]),l.setPosition(l.eyeX+b*d.x[0]+j*d.y[0],l.eyeY+b*d.x[1]+j*d.y[1],l.eyeZ+b*d.x[2]+j*d.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},_.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,a=new Array(i),d=0;d<i;d++)a[d]=arguments[d];_.default._validateParameters("debugMode",a);for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1);a[0]===h.GRID?this.registerMethod("post",this._grid(a[1],a[2],a[3],a[4],a[5])):a[0]===h.AXES?this.registerMethod("post",this._axesIcon(a[1],a[2],a[3],a[4])):(this.registerMethod("post",this._grid(a[0],a[1],a[2],a[3],a[4])),this.registerMethod("post",this._axesIcon(a[5],a[6],a[7],a[8])))},_.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},_.default.prototype._grid=function(i,a,d,c,u){void 0===i&&(i=this.width/2),void 0===a&&(a=Math.round(i/30)<4?4:Math.round(i/30)),void 0===d&&(d=0),void 0===c&&(c=0),void 0===u&&(u=0);var l=i/a,m=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix);for(var p=0;p<=a;p++)this.beginShape(this.LINES),this.vertex(-m+d,c,p*l-m+u),this.vertex(m+d,c,p*l-m+u),this.endShape();for(var b=0;b<=a;b++)this.beginShape(this.LINES),this.vertex(b*l-m+d,c,-m+u),this.vertex(b*l-m+d,c,m+u),this.endShape();this.pop()}},_.default.prototype._axesIcon=function(i,a,d,c){return void 0===i&&(i=40<this.width/20?this.width/20:40),void 0===a&&(a=-this.width/4),void 0===d&&(d=a),void 0===c&&(c=a),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(a,d,c),this.vertex(a+i,d,c),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(a,d,c),this.vertex(a,d+i,c),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(a,d,c),this.vertex(a,d,c+i),this.endShape(),this.pop()}};var w=_.default;S.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(o,$,S){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.ambientLight=function(_,h,f,x){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var w=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(w._array[0],w._array[1],w._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(_,h,f){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var x=this.color.apply(this,arguments);return this._renderer.specularColors=[x._array[0],x._array[1],x._array[2]],this},v.default.prototype.directionalLight=function(_,u,c,x,w,i){var a,d;return this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),_=_ instanceof v.default.Color?_:this.color(_,u,c),c="number"==typeof(u=arguments[arguments.length-1])?(a=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(a=u.x,d=u.y,u.z),u=Math.sqrt(a*a+d*d+c*c),this._renderer.directionalLightDirections.push(a/u,d/u,c/u),this._renderer.directionalLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(_,c,u,x,w,i){var a,d;return this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),_=_ instanceof v.default.Color?_:this.color(_,c,u),u="number"==typeof(c=arguments[arguments.length-1])?(a=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(a=c.x,d=c.y,c.z),this._renderer.pointLightPositions.push(a,d,u),this._renderer.pointLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(_){this._renderer.activeImageLight=_,this._renderer._enableLighting=!0},v.default.prototype.panorama=function(_){this.filter(this._renderer._getSphereMapping(_))},v.default.prototype.lights=function(){this._assert3d("lights");var _=this.color("rgb(128,128,128)");return this.ambientLight(_),this.directionalLight(_,0,0,-1),this},v.default.prototype.lightFalloff=function(_,h,f){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),_<0&&(_=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),h<0&&(h=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),f<0&&(f=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===_&&0===h&&0===f&&(_=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=_,this._renderer.linearAttenuation=h,this._renderer.quadraticAttenuation=f,this},v.default.prototype.spotLight=function(_,h,f,x,w,i,a,d,c,u,l){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var m,p,b,M=arguments.length;switch(M){case 11:case 10:m=this.color(_,h,f),p=new v.default.Vector(x,w,i),b=new v.default.Vector(a,d,c);break;case 9:_ instanceof v.default.Color?(m=_,p=new v.default.Vector(h,f,x),b=new v.default.Vector(w,i,a),u=d,l=c):x instanceof v.default.Vector?(m=this.color(_,h,f),p=x,b=new v.default.Vector(w,i,a),u=d,l=c):a instanceof v.default.Vector?(m=this.color(_,h,f),p=new v.default.Vector(x,w,i),b=a,u=d,l=c):(m=this.color(_,h,f),p=new v.default.Vector(x,w,i),b=new v.default.Vector(a,d,c));break;case 8:b=_ instanceof v.default.Color?(m=_,p=new v.default.Vector(h,f,x),new v.default.Vector(w,i,a)):x instanceof v.default.Vector?(m=this.color(_,h,f),p=x,new v.default.Vector(w,i,a)):(m=this.color(_,h,f),p=new v.default.Vector(x,w,i),a),u=d;break;case 7:_ instanceof v.default.Color&&h instanceof v.default.Vector?(m=_,p=h,b=new v.default.Vector(f,x,w),u=i,l=a):_ instanceof v.default.Color&&w instanceof v.default.Vector?(m=_,p=new v.default.Vector(h,f,x),b=w,u=i,l=a):x instanceof v.default.Vector&&w instanceof v.default.Vector?(m=this.color(_,h,f),p=x,b=w,u=i,l=a):b=_ instanceof v.default.Color?(m=_,p=new v.default.Vector(h,f,x),new v.default.Vector(w,i,a)):x instanceof v.default.Vector?(m=this.color(_,h,f),p=x,new v.default.Vector(w,i,a)):(m=this.color(_,h,f),p=new v.default.Vector(x,w,i),a);break;case 6:x instanceof v.default.Vector&&w instanceof v.default.Vector?(m=this.color(_,h,f),p=x,b=w,u=i):_ instanceof v.default.Color&&w instanceof v.default.Vector?(m=_,p=new v.default.Vector(h,f,x),b=w,u=i):_ instanceof v.default.Color&&h instanceof v.default.Vector&&(m=_,p=h,b=new v.default.Vector(f,x,w),u=i);break;case 5:_ instanceof v.default.Color&&h instanceof v.default.Vector&&f instanceof v.default.Vector?(m=_,p=h,b=f,u=x,l=w):x instanceof v.default.Vector&&w instanceof v.default.Vector?(m=this.color(_,h,f),p=x,b=w):_ instanceof v.default.Color&&w instanceof v.default.Vector?(m=_,p=new v.default.Vector(h,f,x),b=w):_ instanceof v.default.Color&&h instanceof v.default.Vector&&(m=_,p=h,b=new v.default.Vector(f,x,w));break;case 4:m=_,p=h,b=f,u=x;break;case 3:m=_,p=h,b=f;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(M<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),b.normalize(),this._renderer.spotLightDirections.push(b.x,b.y,b.z),void 0===u&&(u=Math.PI/3),void 0!==l&&l<1?(l=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===l&&(l=100),u=this._renderer._pInst._toRadians(u),this._renderer.spotLightAngle.push(Math.cos(u)),this._renderer.spotLightConc.push(l),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];return v.default._validateParameters("noLights",h),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},S.default=o=v.default},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(o,$,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,o("regenerator-runtime/runtime");var _=(i=o("../core/main"))&&i.__esModule?i:{default:i};function h(a){return function(d){if(Array.isArray(d)){for(var c=0,u=new Array(d.length);c<d.length;c++)u[c]=d[c];return u}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(a,d,c,u,l,m,p){try{var b=a[m](p),M=b.value}catch(F){return void c(F)}b.done?d(M):Promise.resolve(M).then(u,l)}function x(a){return function(){var d=this,c=arguments;return new Promise(function(u,l){var m=a.apply(d,c);function p(M){f(m,u,l,p,b,"next",M)}function b(M){f(m,u,l,p,b,"throw",M)}p(void 0)})}}function w(a){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("./p5.Geometry"),_.default.prototype.loadModel=function(a,d){_.default._validateParameters("loadModel",arguments);var c,u,j,l=!1,m=!1,p=!1,b=a.slice(-4),M=(d&&"object"===w(d)?(l=d.normalize||!1,c=d.successCallback,u=d.failureCallback,b=d.fileType||b,m=d.flipU||!1,p=d.flipV||!1):"boolean"==typeof d?(l=d,c=arguments[2],u=arguments[3],void 0!==arguments[4]&&(b=arguments[4])):(c="function"==typeof d?d:void 0,u=arguments[2],void 0!==arguments[3]&&(b=arguments[3])),new _.default.Geometry),F=(M.gid="".concat(a,"|").concat(l),this);function N(){return(N=x(y.mark(function j(V){var k,E,I,W;return y.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:for(k=[],E=0;E<V.length;E++)(I=V[E].match(/^mtllib (.+)/))&&function(){var z,te=I[1],J=a.split("/");z=1<J.length?(J.pop(),J.join("/")+"/"+te):te,k.push(function(){return P.apply(this,arguments)}(z).then(function(q){return q?(ne=F,fe=z,new Promise(function(De,K){var L=null,se={};ne.loadStrings(fe,function(pe){for(var Ce=0;Ce<pe.length;++Ce){var We=pe[Ce].trim().split(/\s+/);"newmtl"===We[0]?se[L=We[1]]={}:"Kd"===We[0]?se[L].diffuseColor=[parseFloat(We[1]),parseFloat(We[2]),parseFloat(We[3])]:"Ka"===We[0]?se[L].ambientColor=[parseFloat(We[1]),parseFloat(We[2]),parseFloat(We[3])]:"Ks"===We[0]?se[L].specularColor=[parseFloat(We[1]),parseFloat(We[2]),parseFloat(We[3])]:"map_Kd"===We[0]&&(se[L].texturePath=We[1])}De(se)},K)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(z)),{});var ne,fe}).catch(function(q){return console.warn("Error loading MTL file: ".concat(z),q),{}}))}();return Y.prev=2,Y.next=5,Promise.all(k);case 5:return W=Y.sent,W=Object.assign.apply(Object,[{}].concat(h(W))),Y.abrupt("return",W);case 10:return Y.prev=10,Y.t0=Y.catch(2),Y.abrupt("return",{});case 13:case"end":return Y.stop()}},j,null,[[2,10]])}))).apply(this,arguments)}function P(){return(P=x(y.mark(function j(V){return y.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,fetch(V,{method:"HEAD"});case 3:return E.abrupt("return",E.sent.ok);case 7:return E.prev=7,E.t0=E.catch(0),E.abrupt("return",!1);case 10:case"end":return E.stop()}},j,null,[[0,7]])}))).apply(this,arguments)}return b.match(/\.stl$/i)?this.httpDo(a,"GET","arrayBuffer",function(j){(function(V,k){if(function(E){for(var I=new DataView(E),W=[115,111,108,105,100],Y=0;Y<5;Y++)if(function(z,te,J){for(var q=0,ne=z.length;q<ne;q++)if(z[q]!==te.getUint8(J+q,!1))return;return 1}(W,I,Y))return;return 1}(k))!function(E,I){for(var W,Y,z,te,J,q,ne,fe=new DataView(I),De=fe.getUint32(80,!0),K=!1,L=0;L<70;L++)1129270351===fe.getUint32(L,!1)&&82===fe.getUint8(L+4)&&61===fe.getUint8(L+5)&&(K=!0,te=[],J=fe.getUint8(L+6)/255,q=fe.getUint8(L+7)/255,ne=fe.getUint8(L+8)/255);for(var se=0;se<De;se++){for(var pe,Ce=84+50*se,Fe=fe.getFloat32(Ce,!0),We=fe.getFloat32(4+Ce,!0),tt=fe.getFloat32(8+Ce,!0),Oe=(K&&(z=32768&(pe=fe.getUint16(48+Ce,!0))?(W=J,Y=q,ne):(W=(31&pe)/31,Y=(pe>>5&31)/31,(pe>>10&31)/31)),new _.default.Vector(Fe,We,tt)),ke=1;ke<=3;ke++){var Be=new _.default.Vector(fe.getFloat32(Be=Ce+12*ke,!0),fe.getFloat32(4+Be,!0),fe.getFloat32(8+Be,!0));E.vertices.push(Be),E.vertexNormals.push(Oe),K&&te.push(W,Y,z)}E.faces.push([3*se,3*se+1,3*se+2]),E.uvs.push([0,0],[0,0],[0,0])}}(V,k);else{if(k=new DataView(k),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(E,I){for(var W,Y,z="",te=[],J=0;J<I.length;++J){for(var q=I[J].trim(),ne=q.split(" "),fe=0;fe<ne.length;++fe)""===ne[fe]&&ne.splice(fe,1);if(0!==ne.length)switch(z){case"":if("solid"!==ne[0])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "solid"'));z="solid";break;case"solid":if("facet"!==ne[0]||"normal"!==ne[1])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "facet normal"'));W=new _.default.Vector(parseFloat(ne[2]),parseFloat(ne[3]),parseFloat(ne[4])),E.vertexNormals.push(W,W,W),z="facet normal";break;case"facet normal":if("outer"!==ne[0]||"loop"!==ne[1])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "outer loop"'));z="vertex";break;case"vertex":if("vertex"===ne[0])Y=new _.default.Vector(parseFloat(ne[1]),parseFloat(ne[2]),parseFloat(ne[3])),E.vertices.push(Y),E.uvs.push([0,0]),te.push(E.vertices.indexOf(Y));else{if("endloop"!==ne[0])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "vertex" or "endloop"'));E.faces.push(te),te=[],z="endloop"}break;case"endloop":if("endfacet"!==ne[0])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "endfacet"'));z="endfacet";break;case"endfacet":if("endsolid"!==ne[0]){if("facet"!==ne[0]||"normal"!==ne[1])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "endsolid" or "facet normal"'));W=new _.default.Vector(parseFloat(ne[2]),parseFloat(ne[3]),parseFloat(ne[4])),E.vertexNormals.push(W,W,W),z="facet normal"}break;default:console.error('Invalid state "'.concat(z,'"'))}}}(V,k=new TextDecoder("utf-8").decode(k).split("\n"))}})(M,j),l&&M.normalize(),m&&M.flipU(),p&&M.flipV(),F._decrementPreload(),"function"==typeof c&&c(M)},u):b.match(/\.obj$/i)?this.loadStrings(a,(j=x(y.mark(function V(k){return y.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,function(){return N.apply(this,arguments)}(k);case 3:(function(W,Y){for(var z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},te={v:[],vt:[],vn:[]},J={},q=null,ne=new Set,fe=!1,De=!1,K=0;K<Y.length;++K){var L=Y[K].trim().split(/\b\s+/);if(0<L.length)if("usemtl"===L[0])q=L[1];else if("v"===L[0]||"vn"===L[0]){var se=new _.default.Vector(parseFloat(L[1]),parseFloat(L[2]),parseFloat(L[3]));te[L[0]].push(se)}else if("vt"===L[0])se=[parseFloat(L[1]),1-parseFloat(L[2])],te[L[0]].push(se);else if("f"===L[0])for(var pe=3;pe<L.length;++pe){for(var Ce=[],Fe=[1,pe-1,pe],We=0;We<Fe.length;++We){for(var tt,Oe=L[Fe[We]].split("/"),ke=0;ke<Oe.length;ke++)Oe[ke]=parseInt(Oe[ke])-1;J[Oe[0]]||(J[Oe[0]]={}),void 0===J[Oe[0]][q]?(tt=W.vertices.length,W.vertices.push(te.v[Oe[0]].copy()),W.uvs.push(te.vt[Oe[1]]?te.vt[Oe[1]].slice():[0,0]),W.vertexNormals.push(te.vn[Oe[2]]?te.vn[Oe[2]].copy():new _.default.Vector),J[Oe[0]][q]=tt,Ce.push(tt),q&&z[q]&&z[q].diffuseColor&&ne.add(te.v[Oe[0]])):Ce.push(J[Oe[0]][q])}if(Ce[0]!==Ce[1]&&Ce[0]!==Ce[2]&&Ce[1]!==Ce[2])if(W.faces.push(Ce),q&&z[q]&&z[q].diffuseColor){fe=fe=!0;for(var Be=z[q].diffuseColor,je=0;je<Ce.length;je++)W.vertexColors.push(Be[0]),W.vertexColors.push(Be[1]),W.vertexColors.push(Be[2])}else De=!0}}if(0===W.vertexNormals.length&&W.computeNormals(),fe===De)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(M,k,I.sent),I.next=11;break;case 7:return I.prev=7,I.t0=I.catch(0),u?u(I.t0):_.default._friendlyError("Error during parsing: "+I.t0.message),I.abrupt("return");case 11:return I.prev=11,l&&M.normalize(),m&&M.flipU(),p&&M.flipV(),F._decrementPreload(),"function"==typeof c&&c(M),I.finish(11);case 18:case"end":return I.stop()}},V,null,[[0,7,11,18]])})),function(V){return j.apply(this,arguments)}),u):(_.default._friendlyFileLoadError(3,a),u?u():_.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),M},_.default.prototype.model=function(a){this._assert3d("model"),_.default._validateParameters("model",arguments),0<a.vertices.length&&(this._renderer.geometryInHash(a.gid)||(0===a.edges.length&&a._makeTriangleEdges(),a._edgesToVertices(),this._renderer.createBuffers(a.gid,a)),this._renderer.drawBuffers(a.gid))};var i=_.default;S.default=i},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243,"regenerator-runtime/runtime":257}],328:[function(o,$,S){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var a=x();if(a&&a.has(i))return a.get(i);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in i){var l;Object.prototype.hasOwnProperty.call(i,d)&&((l=u?Object.getOwnPropertyDescriptor(i,d):null)&&(l.get||l.set)?Object.defineProperty(c,d,l):c[d]=i[d])}return c.default=i,a&&a.set(i,c),c}(o("../core/constants"));function x(){var i;return"function"!=typeof WeakMap?null:(x=function(){return i},i=new WeakMap)}o("./p5.Texture"),h.default.prototype.loadShader=function(i,a,d,c){function u(){m._decrementPreload(),d&&d(l)}h.default._validateParameters("loadShader",arguments),c=c||console.error;var l=new h.default.Shader,m=this,p=!1,b=!1;return this.loadStrings(i,function(M){l._vertSrc=M.join("\n"),b=!0,p&&u()},c),this.loadStrings(a,function(M){l._fragSrc=M.join("\n"),p=!0,b&&u()},c),l},h.default.prototype.createShader=function(i,a){return h.default._validateParameters("createShader",arguments),new h.default.Shader(this._renderer,i,a)},h.default.prototype.createFilterShader=function(i){h.default._validateParameters("createFilterShader",arguments);var a=i.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(a=new h.default.Shader(this._renderer,a,i)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),a},h.default.prototype.shader=function(i){return this._assert3d("shader"),h.default._validateParameters("shader",arguments),i.ensureCompiledOnContext(this),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),this},h.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},h.default.prototype.texture=function(i){return this._assert3d("texture"),h.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=f.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.textureMode=function(i){i!==f.IMAGE&&i!==f.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},h.default.prototype.textureWrap=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i,d=(this._renderer.textureWrapX=i,this._renderer.textureWrapY=a,!0),c=!1,u=void 0;try{for(var l,m=this._renderer.textures.values()[Symbol.iterator]();!(d=(l=m.next()).done);d=!0)l.value.setWrapMode(i,a)}catch(p){c=!0,u=p}finally{try{d||null==m.return||m.return()}finally{if(c)throw u}}},h.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,a=new Array(i),d=0;d<i;d++)a[d]=arguments[d];return h.default._validateParameters("normalMaterial",a),this._renderer.drawMode=f.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},h.default.prototype.ambientMaterial=function(i,a,d){this._assert3d("ambientMaterial"),h.default._validateParameters("ambientMaterial",arguments);var c=h.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=c._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.emissiveMaterial=function(i,a,d,c){this._assert3d("emissiveMaterial"),h.default._validateParameters("emissiveMaterial",arguments);var u=h.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=u._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},h.default.prototype.specularMaterial=function(i,a,d,c){this._assert3d("specularMaterial"),h.default._validateParameters("specularMaterial",arguments);var u=h.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=u._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},h.default.prototype.shininess=function(i){return this._assert3d("shininess"),h.default._validateParameters("shininess",arguments),this._renderer._useShininess=i=i<1?1:i,this},h.default.prototype.metalness=function(i){return this._assert3d("metalness"),i=1-Math.exp(-i/100),this._renderer._useMetalness=i,this},h.default.RendererGL.prototype._applyColorBlend=function(i,u){var d=this.GL;return(u=u||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===f.TEXTURE||this.curBlendMode!==f.BLEND||i[i.length-1]<1||this._isErasing)!==this._isBlending&&(u||this.curBlendMode!==f.BLEND&&this.curBlendMode!==f.ADD?d.enable(d.BLEND):d.disable(d.BLEND),d.depthMask(!0),this._isBlending=u),this._applyBlendMode(),i},h.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case f.BLEND:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case f.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE);break;case f.REMOVE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_ALPHA);break;case f.MULTIPLY:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA);break;case f.SCREEN:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_COLOR);break;case f.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case f.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case f.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case f.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case f.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var w=h.default;S.default=w},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(o,$,S){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(h,f){for(var x=0;x<f.length;x++){var w=f[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}v.default.prototype.camera=function(){var h;this._assert3d("camera");for(var f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];return v.default._validateParameters("camera",x),(h=this._renderer._curCamera).camera.apply(h,x),this},v.default.prototype.perspective=function(){var h;this._assert3d("perspective");for(var f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];return v.default._validateParameters("perspective",x),(h=this._renderer._curCamera).perspective.apply(h,x),this},v.default.prototype.linePerspective=function(h){if(v.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof v.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===h)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=h},v.default.prototype.ortho=function(){var h;this._assert3d("ortho");for(var f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];return v.default._validateParameters("ortho",x),(h=this._renderer._curCamera).ortho.apply(h,x),this},v.default.prototype.frustum=function(){var h;this._assert3d("frustum");for(var f=arguments.length,x=new Array(f),w=0;w<f;w++)x[w]=arguments[w];return v.default._validateParameters("frustum",x),(h=this._renderer._curCamera).frustum.apply(h,x),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var h=new v.default.Camera(this._renderer);return h._computeCameraDefaultSettings(),h._setDefaultCamera(),this._renderer._curCamera=h},v.default.Camera=function(){function h(i){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=i,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}var f,x;return f=h,(x=[{key:"perspective",value:function(u,a,d,c){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===u?u=this.defaultCameraFOV:this._renderer._pInst._toRadians(u),void 0===a&&(a=this.defaultAspectRatio),void 0===d&&(d=this.defaultCameraNear),void 0===c&&(c=this.defaultCameraFar),d<=1e-4&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),c<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=a,this.cameraNear=d,this.cameraFar=c,this.projMatrix=v.default.Matrix.identity(),u=1/Math.tan(this.cameraFOV/2);var l=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(u/a,0,0,0,0,-u*this.yScale,0,0,0,0,(c+d)*l,-1,0,0,2*c*d*l,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(P,N,d,c,u,l){void 0===P&&(P=-this._renderer.width/2),void 0===N&&(N=+this._renderer.width/2),void 0===d&&(d=-this._renderer.height/2),void 0===c&&(c=+this._renderer.height/2),void 0===u&&(u=0),void 0===l&&(l=Math.max(this._renderer.width,this._renderer.height)+800),this.cameraNear=u;var j=N-P,m=c-d,p=(this.cameraFar=l)-u,b=2/j,M=2/m*this.yScale,F=-2/p;N=-(N+P)/j,P=-(c+d)/m,j=-(l+u)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-M,0,0,0,0,F,0,N,P,j,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(P,N,d,c,u,l){void 0===P&&(P=.05*-this._renderer.width),void 0===N&&(N=.05*+this._renderer.width),void 0===d&&(d=.05*+this._renderer.height),void 0===c&&(c=.05*-this._renderer.height),void 0===u&&(u=this.defaultCameraNear),void 0===l&&(l=this.defaultCameraFar),this.cameraNear=u;var j=N-P,m=c-d,p=(this.cameraFar=l)-u,b=2*u/j,M=2*u/m*this.yScale,F=-2*l*u/p;N=(N+P)/j,P=(c+d)/m,j=-(l+u)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-M,0,0,N,P,j,-1,0,0,F,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(b,a,d,c){var u=this.centerX,l=this.centerY,m=this.centerZ,p=(u-=this.eyeX,l-=this.eyeY,m-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst));(p.rotate(this._renderer._pInst._toRadians(b),a,d,c),b=[u*p.mat4[0]+l*p.mat4[4]+m*p.mat4[8],u*p.mat4[1]+l*p.mat4[5]+m*p.mat4[9],u*p.mat4[2]+l*p.mat4[6]+m*p.mat4[10]])[0]+=this.eyeX,b[1]+=this.eyeY,b[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,b[0],b[1],b[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(i){var a=this._getLocalAxes();this._rotateView(i,a.y[0],a.y[1],a.y[2])}},{key:"tilt",value:function(i){var a=this._getLocalAxes();this._rotateView(i,a.x[0],a.x[1],a.x[2])}},{key:"lookAt",value:function(i,a,d){this.camera(this.eyeX,this.eyeY,this.eyeZ,i,a,d,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(i,a,d,c,u,l,m,p,b){return void 0===i&&(d=this.defaultEyeZ,c=i=this.defaultEyeX,u=a=this.defaultEyeY,p=1,b=m=l=0),this.eyeX=i,this.eyeY=a,this.eyeZ=d,void 0!==c&&(this.centerX=c,this.centerY=u,this.centerZ=l),void 0!==m&&(this.upX=m,this.upY=p,this.upZ=b),c=this._getLocalAxes(),this.cameraMatrix.set(c.x[0],c.y[0],c.z[0],0,c.x[1],c.y[1],c.z[1],0,c.x[2],c.y[2],c.z[2],0,0,0,0,1),this.cameraMatrix.translate([u=-i,-a,-d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(c,u,d){var l=this._getLocalAxes();this.camera(this.eyeX+(c=[l.x[0]*c,l.x[1]*c,l.x[2]*c])[0]+(u=[l.y[0]*u,l.y[1]*u,l.y[2]*u])[0]+(l=[l.z[0]*d,l.z[1]*d,l.z[2]*d])[0],this.eyeY+c[1]+u[1]+l[1],this.eyeZ+c[2]+u[2]+l[2],this.centerX+c[0]+u[0]+l[0],this.centerY+c[1]+u[1]+l[1],this.centerZ+c[2]+u[2]+l[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(i,a,d){this.camera(i,a,d,this.centerX+(i-this.eyeX),this.centerY+(a-this.eyeY),this.centerZ+(d-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(i){for(var a=0,d=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];a<d.length;a++){var c=d[a];this[c]=i[c]}this.cameraMatrix=i.cameraMatrix.copy(),this.projMatrix=i.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(i,a,d){var c,u,l,m,p,b,M,F,N,P,j,V,k,E,I,W,Y,z;0===d?this.set(i):1===d?this.set(a):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=i.projMatrix.mat4[0]*Math.pow(a.projMatrix.mat4[0]/i.projMatrix.mat4[0],d),this.projMatrix.mat4[5]=i.projMatrix.mat4[5]*Math.pow(a.projMatrix.mat4[5]/i.projMatrix.mat4[5],d),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),m=new v.default.Vector(i.eyeX,i.eyeY,i.eyeZ),p=new v.default.Vector(a.eyeX,a.eyeY,a.eyeZ),W=new v.default.Vector(i.centerX,i.centerY,i.centerZ),z=new v.default.Vector(a.centerX,a.centerY,a.centerZ),l=v.default.Vector.dist(m,W),c=v.default.Vector.dist(p,z),c=l*Math.pow(c/l,d),l=v.default.Vector.sub(m,p),u=1,1e-6<(Y=(E=m.copy().sub(p).sub(W).add(z)).magSq())&&(u=v.default.Vector.dot(l,E)/Y,u=Math.max(0,Math.min(u,1))),l=v.default.Vector.lerp(v.default.Vector.lerp(m,W,u),v.default.Vector.lerp(p,z,u),d),E=i.cameraMatrix.createSubMatrix3x3(),Y=a.cameraMatrix.createSubMatrix3x3(),m=E.row(2),W=Y.row(2),p=E.row(1),z=Y.row(1),i=new v.default.Vector,a=new v.default.Vector,b=new v.default.Vector,M=new v.default.Vector,1-(F=.5*((E=(Y=Y.mult3x3(E.copy().transpose3x3())).diagonal())[0]+E[1]+E[2]-1))<1e-7?(i.set(v.default.Vector.lerp(m,W,d)).normalize(),b.set(i).mult(u*c).add(l),M.set(i).mult((u-1)*c).add(l),a.set(v.default.Vector.lerp(p,z,d)).normalize()):(W=1/(1-F),z=Math.max(E[0],E[1],E[2]),V=Y.mat3[1]+Y.mat3[3],k=Y.mat3[2]+Y.mat3[6],I=Y.mat3[5]+Y.mat3[7],z=z===E[0]?(P=.5*V*(W/=N=Math.sqrt((E[0]-F)*W)),j=.5*k*W,.5*(Y.mat3[7]-Y.mat3[5])/N):z===E[1]?(j=.5*I*(W/=P=Math.sqrt((E[1]-F)*W)),N=.5*V*W,.5*(Y.mat3[2]-Y.mat3[6])/P):(N=.5*k*(W/=j=Math.sqrt((E[2]-F)*W)),P=.5*I*W,.5*(Y.mat3[3]-Y.mat3[1])/j),V=d*Math.atan2(z,F),k=Math.cos(V),E=Math.sin(V),(z=new v.default.Matrix("mat3",[k+(I=1-k)*N*N,I*(W=N*P)+E*j,I*(Y=j*N)-E*P,I*W-E*j,k+I*P*P,I*(d=P*j)+E*N,I*Y+E*P,I*d-E*N,k+I*j*j])).multiplyVec3(m,i),b.set(i).mult(u*c).add(l),M.set(i).mult((u-1)*c).add(l),z.multiplyVec3(p,a)),this.camera(b.x,b.y,b.z,M.x,M.y,M.z,a.x,a.y,a.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var i=new v.default.Camera(this._renderer);return i.cameraFOV=this.cameraFOV,i.aspectRatio=this.aspectRatio,i.eyeX=this.eyeX,i.eyeY=this.eyeY,i.eyeZ=this.eyeZ,i.centerX=this.centerX,i.centerY=this.centerY,i.centerZ=this.centerZ,i.upX=this.upX,i.upY=this.upY,i.upZ=this.upZ,i.cameraNear=this.cameraNear,i.cameraFar=this.cameraFar,i.cameraType=this.cameraType,i.cameraMatrix=this.cameraMatrix.copy(),i.projMatrix=this.projMatrix.copy(),i.yScale=this.yScale,i}},{key:"_getLocalAxes",value:function(){var M,i=this.eyeX-this.centerX,a=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,m=(0!==(m=Math.sqrt(i*i+a*a+d*d))&&(i/=m,a/=m,d/=m),this.upX),c=(p=this.upY)*d-(b=this.upZ)*a,u=-m*d+b*i,l=m*a-p*i,p=(m=a*l-d*u,-i*l+d*c),b=i*u-a*c;return 0!==(0!==(M=Math.sqrt(c*c+u*u+l*l))&&(c/=M,u/=M,l/=M),M=Math.sqrt(m*m+p*p+b*b))&&(m/=M,p/=M,b/=M),{x:[c,u,l],y:[m,p,b],z:[i,a,d]}}},{key:"_orbit",value:function(i,M,b){var u=this.eyeX-this.centerX,l=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,c=Math.hypot(u,l,m),p=(u=new v.default.Vector(u,l,m).normalize(),l=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),m=v.default.Vector.cross(l,u).normalize(),v.default.Vector.cross(m,l));(c=(c*=Math.pow(10,b))<this.cameraNear?this.cameraNear:c)>this.cameraFar&&(c=this.cameraFar),b=Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(u,l))))+M,M=i,(b<=0||b>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),l.mult(Math.cos(b)),p.mult(Math.cos(M)*Math.sin(b)),m.mult(Math.sin(M)*Math.sin(b)),u.set(l).add(p).add(m),this.eyeX=c*u.x+this.centerX,this.eyeY=c*u.y+this.centerY,this.eyeZ=c*u.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(b,M,N){var u=this.eyeX-this.centerX,l=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,c=Math.hypot(u,l,m),p=(u=new v.default.Vector(u,l,m).normalize(),l=new v.default.Vector(this.upX,this.upY,this.upZ),m=v.default.Vector.cross(l,u).normalize(),v.default.Vector.cross(u,m)),P=Math.atan2(M,b),F=(p.mult(Math.sin(P)),m.mult(Math.cos(P)).add(p),P=Math.sqrt(b*b+M*M),p=v.default.Vector.cross(u,m),(c=(c*=Math.pow(10,N))<this.cameraNear?this.cameraNear:c)>this.cameraFar&&(c=this.cameraFar),b=Math.cos(P),M=Math.sin(P),(N=l.dot(u))*b+(P=l.dot(m))*M);N=-N*M+P*b,P=l.dot(p),l.x=F*u.x+N*m.x+P*p.x,l.y=F*u.y+N*m.y+P*p.y,l.z=F*u.z+N*m.z+P*p.z,m.mult(-M),u.mult(b).add(m).mult(c),this.camera(u.x+this.centerX,u.y+this.centerY,u.z+this.centerZ,this.centerX,this.centerY,this.centerZ,l.x,l.y,l.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&_(f.prototype,x),h}(),v.default.prototype.setCamera=function(h){this._renderer._curCamera=h,this._renderer.uPMatrix.set(h.projMatrix)},S.default=o=v.default.Camera},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(o,$,S){"use strict";function v(_,h){for(var f=0;f<h.length;f++){var x=h[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function _(){var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(w),this.initialLength=w}var h,f;return h=_,(f=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var w;this.length<this.data.length/2&&(w=1<<Math.ceil(Math.log2(this.length)),(w=new Float32Array(w)).set(this.data.subarray(0,this.length),0),this.data=w)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var w=arguments.length,i=new Array(w),a=0;a<w;a++)i[a]=arguments[a];this.ensureLength(this.length+i.length),this.data.set(i,this.length),this.length+=i.length}},{key:"slice",value:function(w,i){return this.data.slice(w,Math.min(i,this.length))}},{key:"subArray",value:function(w,i){return this.data.subarray(w,Math.min(i,this.length))}},{key:"ensureLength",value:function(w){for(;this.data.length<w;){var i=new Float32Array(2*this.data.length);i.set(this.data,0),this.data=i}}}])&&v(h.prototype,f),_}(),S.default=o=o.default.DataArray},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(j,$,S){"use strict";function v(V){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(V)}function _(V){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(k){return v(k)}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":v(k)})(V)}j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.object.get-own-property-descriptor"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.reflect.construct"),j("core-js/modules/es.reflect.get"),j("core-js/modules/es.regexp.to-string"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint8-clamped-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),j("core-js/modules/es.weak-map"),j("core-js/modules/web.dom-collections.iterator"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint8-clamped-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(P=j("../core/main"))&&P.__esModule?P:{default:P},f=function(V){if(V&&V.__esModule)return V;if(null===V||"object"!==_(V)&&"function"!=typeof V)return{default:V};var k=i();if(k&&k.has(V))return k.get(V);var E,I={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in V){var Y;Object.prototype.hasOwnProperty.call(V,E)&&((Y=W?Object.getOwnPropertyDescriptor(V,E):null)&&(Y.get||Y.set)?Object.defineProperty(I,E,Y):I[E]=V[E])}return I.default=V,k&&k.set(V,I),I}(j("../core/constants")),x=j("./p5.Texture"),w=j("./p5.RendererGL");function i(){var V;return"function"!=typeof WeakMap?null:(i=function(){return V},V=new WeakMap)}function a(V,k){return function(E){if(Array.isArray(E))return E}(V)||function(E,I){if(Symbol.iterator in Object(E)||"[object Arguments]"===Object.prototype.toString.call(E)){var W=[],Y=!0,z=!1,te=void 0;try{for(var J,q=E[Symbol.iterator]();!(Y=(J=q.next()).done)&&(W.push(J.value),!I||W.length!==I);Y=!0);}catch(ne){z=!0,te=ne}finally{try{Y||null==q.return||q.return()}finally{if(z)throw te}}return W}}(V,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(V,k,E){return k in V?Object.defineProperty(V,k,{value:E,enumerable:!0,configurable:!0,writable:!0}):V[k]=E,V}function c(V,k){if(!(V instanceof k))throw new TypeError("Cannot call a class as a function")}function u(V,k){for(var E=0;E<k.length;E++){var I=k[E];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(V,I.key,I)}}function l(V,k,E){k&&u(V.prototype,k),E&&u(V,E)}function m(V,k,E){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,W,Y){if(z=function(te,J){for(;!Object.prototype.hasOwnProperty.call(te,J)&&null!==(te=M(te)););return te}(z,W))return(z=Object.getOwnPropertyDescriptor(z,W)).get?z.get.call(Y):z.value})(V,k,E||V)}function p(V,k){return(p=Object.setPrototypeOf||function(E,I){return E.__proto__=I,E})(V,k)}function M(V){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)})(V)}var F=function(V){var k=I;if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(V&&V.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),V&&p(k,V);var E=function b(V){return function(){var k,E=M(V);if(k=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(k=M(this).constructor,Reflect.construct(E,arguments,k)):E.apply(this,arguments),E=this,!k||"object"!==_(k)&&"function"!=typeof k){if(void 0!==E)return E;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return k}}(I);function I(W){var Y;return c(this,I),(Y=E.call(this,W.target._renderer)).fbo=W,Y.yScale=-1,Y}return l(I,[{key:"_computeCameraDefaultSettings",value:function(){m(M(I.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),I}(h.default.Camera),N=(h.default.FramebufferCamera=F,function(){function V(k,E){c(this,V),this.framebuffer=k,this.property=E}return l(V,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),V}()),P=(h.default.FramebufferTexture=N,function(){function V(k){var E=this,I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},W=(c(this,V),this.target=k,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=I.format||f.UNSIGNED_BYTE,this.channels=I.channels||(k._renderer._pInst._glAttributes.alpha?f.RGBA:f.RGB),this.useDepth=void 0===I.depth||I.depth,this.depthFormat=I.depthFormat||f.FLOAT,this.textureFiltering=I.textureFiltering||f.LINEAR,this.antialiasSamples=void 0===I.antialias?k._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof I.antialias?I.antialias:I.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&k.webglVersion!==f.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=I.density||k.pixelDensity(),k._renderer.GL);if(this.gl=W,I.width&&I.height?(Y=k._renderer._adjustDimensions(I.width,I.height),this.width=Y.adjustedWidth,this.height=Y.adjustedHeight,this.autoSized=!1):(void 0===I.width!=(void 0===I.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=k.width,this.height=k.height,this.autoSized=!0),this._checkIfFormatsAvailable(),I.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===I.stencil||I.stencil),this.framebuffer=W.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=W.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var Y=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=Y,this.draw(function(){return E.target.clear()})}return l(V,[{key:"resize",value:function(k,E){this.autoSized=!1;var I=this.target._renderer._adjustDimensions(k,E);E=I.adjustedHeight,this.width=k=I.adjustedWidth,this.height=E,this._handleResize()}},{key:"pixelDensity",value:function(k){if(!k)return this.density;this.autoSized=!1,this.density=k,this._handleResize()}},{key:"autoSized",value:function(k){if(void 0===k)return this.autoSized;this.autoSized=k,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var k=this.gl;(this.useDepth&&this.target.webglVersion===f.WEBGL&&!k.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===f.WEBGL&&this.depthFormat===f.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),[f.UNSIGNED_BYTE,f.FLOAT,f.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&![f.UNSIGNED_INT,f.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=f.FLOAT),k=(0,x.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==f.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&!k.float&&this.depthFormat===f.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),k.halfFloat||this.format!==f.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.channels===f.RGB&&[f.FLOAT,f.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=f.RGBA)}},{key:"_recreateTextures",value:function(){var k=this.gl,E=(this._updateSize(),k.getParameter(k.TEXTURE_BINDING_2D)),I=k.getParameter(k.FRAMEBUFFER_BINDING);if(!(W=k.createTexture()))throw new Error("Unable to create color texture");k.bindTexture(k.TEXTURE_2D,W);var Y=this._glColorFormat();if(k.texImage2D(k.TEXTURE_2D,0,Y.internalFormat,this.width*this.density,this.height*this.density,0,Y.format,Y.type,null),this.colorTexture=W,k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,W,0),this.useDepth){var W;if(!(W=k.createTexture()))throw new Error("Unable to create depth texture");var z=this._glDepthFormat();k.bindTexture(k.TEXTURE_2D,W),k.texImage2D(k.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),k.framebufferTexture2D(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.TEXTURE_2D,W,0),this.depthTexture=W}this.antialias&&(this.colorRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.colorRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),Y.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(z=this._glDepthFormat(),this.depthRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.depthRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density)),k.bindFramebuffer(k.FRAMEBUFFER,this.aaFramebuffer),k.framebufferRenderbuffer(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&k.framebufferRenderbuffer(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new N(this,"depthTexture"),this.depthP5Texture=new h.default.Texture(this.target._renderer,this.depth,{minFilter:W=k.NEAREST,magFilter:W}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new N(this,"colorTexture"),this.colorP5Texture=new h.default.Texture(this.target._renderer,this.color,{minFilter:Y=this.textureFiltering===f.LINEAR?k.LINEAR:k.NEAREST,magFilter:Y}),this.target._renderer.textures.set(this.color,this.colorP5Texture),k.bindTexture(k.TEXTURE_2D,E),k.bindFramebuffer(k.FRAMEBUFFER,I)}},{key:"_glColorFormat",value:function(){var k,E,I=this.gl,W=this.format===f.FLOAT?I.FLOAT:this.format===f.HALF_FLOAT?this.target.webglVersion===f.WEBGL2?I.HALF_FLOAT:I.getExtension("OES_texture_half_float").HALF_FLOAT_OES:I.UNSIGNED_BYTE,Y=this.channels===f.RGBA?I.RGBA:I.RGB;return{internalFormat:this.target.webglVersion===f.WEBGL2?(d(E={},I.FLOAT,d({},I.RGBA,I.RGBA32F)),d(E,I.HALF_FLOAT,d({},I.RGBA,I.RGBA16F)),d(E,I.UNSIGNED_BYTE,(d(k={},I.RGBA,I.RGBA8),d(k,I.RGB,I.RGB8),k)),E[W][Y]):this.format===f.HALF_FLOAT?I.RGBA:Y,format:Y,type:W}}},{key:"_glDepthFormat",value:function(){var I=this.gl,k=this.useStencil?this.depthFormat===f.FLOAT?I.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===f.WEBGL2?I.UNSIGNED_INT_24_8:I.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===f.FLOAT?I.FLOAT:I.UNSIGNED_INT,E=this.useStencil?I.DEPTH_STENCIL:I.DEPTH_COMPONENT;return{internalFormat:I=this.useStencil?this.depthFormat===f.FLOAT?I.DEPTH32F_STENCIL8:this.target.webglVersion===f.WEBGL2?I.DEPTH24_STENCIL8:I.DEPTH_STENCIL:this.target.webglVersion===f.WEBGL2?this.depthFormat===f.FLOAT?I.DEPTH_COMPONENT32F:I.DEPTH_COMPONENT24:I.DEPTH_COMPONENT,format:E,type:k}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var k=this.depth,E=this.colorRenderbuffer,I=this.depthRenderbuffer,W=(this._deleteTexture(W=this.color),k&&this._deleteTexture(k),this.gl);E&&W.deleteRenderbuffer(E),I&&W.deleteRenderbuffer(I),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var k=new F(this);return k._computeCameraDefaultSettings(),k._setDefaultCamera(),this.target._renderer._curCamera=k}},{key:"_deleteTexture",value:function(k){this.gl.deleteTexture(k.rawTexture()),this.target._renderer.textures.delete(k)}},{key:"remove",value:function(){var k=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),k.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&k.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&k.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&k.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix)}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var k=this.gl;k.bindFramebuffer(k.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var k=this.gl,E=(k.bindFramebuffer(k.READ_FRAMEBUFFER,this.aaFramebuffer),k.bindFramebuffer(k.DRAW_FRAMEBUFFER,this.framebuffer),[[k.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&E.push([k.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var I=0,W=E;I<W.length;I++){var z=a(W[I],2);k.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,z[0],z=z[1])}}}},{key:"end",value:function(){var k=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(k.bindFramebuffer(k.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(k){this.begin(),k(),this.end()}},{key:"loadPixels",value:function(){var k=this.gl,E=this.target._renderer.activeFramebuffer(),I=(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,k,this.framebuffer,0,0,this.width*this.density,this.height*this.density,I.format,I.type),k.bindFramebuffer(k.FRAMEBUFFER,E?E._framebufferToBind():null)}},{key:"get",value:function(k,E,I,W){h.default._validateParameters("p5.Framebuffer.get",arguments);var Y=this._glColorFormat();if(void 0===k&&void 0===E)E=k=0,I=this.width,W=this.height;else if(void 0===I&&void 0===W)return(k<0||E<0||k>=this.width||E>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),k=this.target.constrain(k,0,this.width-1),E=this.target.constrain(E,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,k*this.density,E*this.density,Y.format,Y.type);k=this.target.constrain(k,0,this.width-1),E=this.target.constrain(E,0,this.height-1),I=this.target.constrain(I,1,this.width-k),W=this.target.constrain(W,1,this.height-E);for(var z=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,k*this.density,E*this.density,I*this.density,W*this.density,Y.format,Y.type),te=new Uint8ClampedArray(I*W*this.density*this.density*4),J=(te.fill(255),Y.type===this.gl.RGB?3:4),q=0;q<W*this.density;q++)for(var ne=0;ne<I*this.density;ne++)for(var fe=0;fe<4;fe++){var K=4*(q*I*this.density+ne)+fe;fe<J&&(te[K]=z[4==J?K:(q*I*this.density+ne)*J+fe])}return(k=new h.default.Image(I*this.density,W*this.density)).imageData=k.canvas.getContext("2d").createImageData(k.width,k.height),k.imageData.data.set(te),k.pixels=k.imageData.data,k.updatePixels(),1!==this.density&&k.resize(I,W),k}},{key:"updatePixels",value:function(){var k=this.gl,E=(this.colorP5Texture.bindTexture(),this._glColorFormat()),I=this.width*this.height*this.density*this.density*(I=E.format===k.RGBA?4:3),W=E.type===k.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof W)||this.pixels.length!==I)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");k.texImage2D(k.TEXTURE_2D,0,E.internalFormat,this.width*this.density,this.height*this.density,0,E.format,E.type,this.pixels),this.colorP5Texture.unbindTexture(),W=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),this.end()):(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),k.bindFramebuffer(k.FRAMEBUFFER,W?W._framebufferToBind():null))}}]),V}());j=h.default.Framebuffer=P,S.default=j},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(o,$,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(a=o("../core/main"))&&a.__esModule?a:{default:a},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var c=x();if(c&&c.has(d))return c.get(d);var u,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in d){var p;Object.prototype.hasOwnProperty.call(d,u)&&((p=m?Object.getOwnPropertyDescriptor(d,u):null)&&(p.get||p.set)?Object.defineProperty(l,u,p):l[u]=d[u])}return l.default=d,c&&c.set(d,l),l}(o("../core/constants"));function x(){var d;return"function"!=typeof WeakMap?null:(x=function(){return d},d=new WeakMap)}function w(d){return function(c){if(Array.isArray(c)){for(var u=0,l=new Array(c.length);u<c.length;u++)l[u]=c[u];return l}}(d)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(d,c){for(var u=0;u<c.length;u++){var l=c[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}h.default.Geometry=function(){function d(m,p,b){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new h.default.DataArray,this.lineTangentsIn=new h.default.DataArray,this.lineTangentsOut=new h.default.DataArray,this.lineSides=new h.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new h.default.DataArray,this.detailX=void 0!==m?m:1,this.detailY=void 0!==p?p:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,b instanceof Function&&b.call(this)}var c,u;return c=d,(u=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var m=new h.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),p=new h.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),b=0;b<this.vertices.length;b++){var M=this.vertices[b];m.x=Math.min(m.x,M.x),m.y=Math.min(m.y,M.y),m.z=Math.min(m.z,M.z),p.x=Math.max(p.x,M.x),p.y=Math.max(p.y,M.y),p.z=Math.max(p.z,M.z)}var F=new h.default.Vector(p.x-m.x,p.y-m.y,p.z-m.z),N=new h.default.Vector((m.x+p.x)/2,(m.y+p.y)/2,(m.z+p.z)/2);this.boundingBoxCache={min:m,max:p,size:F,offset:N}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var m=0;m<this.vertexColors.length;m+=4)if(this.vertexColors[m+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var m=0;m<this.lineVertexColors.length;m+=4)if(this.lineVertexColors[m+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(m,p){return p%2==0?1-m:m})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(m,p){return p%2==0?m:1-m})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var m,p,b,M=this.detailX+1,F=0;F<this.detailY;F++)for(var N=0;N<this.detailX;N++)p=(F+1)*M+N+1,this.faces.push([F*M+N,m=F*M+N+1,b=(F+1)*M+N]),this.faces.push([b,m,p]);return this}},{key:"_getFaceNormal",value:function(p){var b=this.vertices[(p=this.faces[p])[0]],F=this.vertices[p[1]],M=(p=this.vertices[p[2]],F=h.default.Vector.sub(F,b),p=h.default.Vector.sub(p,b),b=h.default.Vector.cross(F,p),h.default.Vector.mag(b));return 0==(F=M/(h.default.Vector.mag(F)*h.default.Vector.mag(p)))||isNaN(F)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),b):(1<F&&(F=1),b.mult(Math.asin(F)/M))}},{key:"computeNormals",value:function(){var m,p=this,M=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,F=this.vertexNormals,N=this.vertices,P=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.FLAT)===f.SMOOTH){for(var j={},V=[],k=Math.pow(10,void 0===M?3:M),E=function(te){return Math.round(te*k)/k},I=function(te){return"".concat(E(te.x),",").concat(E(te.y),",").concat(E(te.z))},W=0;W<N.length;W++){var Y=N[W],z=I(Y);void 0===j[z]&&(j[z]=V.length,V.push(Y))}P.forEach(function(te){for(var J=0;J<3;++J){var q=I(q=N[q=te[J]]);te[J]=j[q]}}),this.edges.forEach(function(te){for(var J=0;J<2;++J){var q=I(q=N[q=te[J]]);te[J]=j[q]}}),this.vertices=N=V}for(m=F.length=0;m<N.length;++m)F.push(new h.default.Vector);for(P.forEach(function(te,J){for(var q=p._getFaceNormal(J),ne=0;ne<3;++ne)F[te[ne]].add(q)}),m=0;m<N.length;++m)F[m].normalize();return this}},{key:"averageNormals",value:function(){for(var m=0;m<=this.detailY;m++){var p=this.detailX+1,b=h.default.Vector.add(this.vertexNormals[m*p],this.vertexNormals[m*p+this.detailX]);b=h.default.Vector.div(b,2),this.vertexNormals[m*p]=b,this.vertexNormals[m*p+this.detailX]=b}return this}},{key:"averagePoleNormals",value:function(){for(var m=new h.default.Vector(0,0,0),p=0;p<this.detailX;p++)m.add(this.vertexNormals[p]);m=h.default.Vector.div(m,this.detailX);for(var b=0;b<this.detailX;b++)this.vertexNormals[b]=m;m=new h.default.Vector(0,0,0);for(var M=this.vertices.length-1;M>this.vertices.length-1-this.detailX;M--)m.add(this.vertexNormals[M]);m=h.default.Vector.div(m,this.detailX);for(var F=this.vertices.length-1;F>this.vertices.length-1-this.detailX;F--)this.vertexNormals[F]=m;return this}},{key:"_makeTriangleEdges",value:function(){for(var m=this.edges.length=0;m<this.faces.length;m++)this.edges.push([this.faces[m][0],this.faces[m][1]]),this.edges.push([this.faces[m][1],this.faces[m][2]]),this.edges.push([this.faces[m][2],this.faces[m][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var m,p=new Map,b=new Set,M=0;M<this.edges.length;M++){var F,N=this.edges[M-1],P=this.edges[M],j=this.vertices[P[0]],V=this.vertices[P[1]],k=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*P[0],4*(P[0]+1)):[0,0,0,0],E=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*P[1],4*(P[1]+1)):[0,0,0,0],I=V.copy().sub(j).normalize(),W=0<I.magSq();W&&this._addSegment(j,V,k,E,I),0<M&&N[1]===P[0]?b.has(P[0])||(b.add(P[0]),p.delete(P[0]),m&&W&&I.dot(m)<1-1e-8&&this._addJoin(j,m,I,k)):(W&&!b.has(P[0])&&((F=p.get(P[0]))?(this._addJoin(j,F.dir,I,k),p.delete(P[0]),b.add(P[0])):p.set(P[0],{point:j,dir:I.copy().mult(-1),color:k})),m&&!b.has(N[1])&&((F=p.get(N[1]))?(this._addJoin(this.vertices[N[1]],m,F.dir.copy().mult(-1),k),p.delete(N[1]),b.add(N[1])):p.set(N[1],{point:this.vertices[N[1]],dir:m,color:k}),m=void 0)),M!==this.edges.length-1||b.has(P[1])||((j=p.get(P[1]))?(this._addJoin(V,I,j.dir.copy().mult(-1),E),p.delete(P[1]),b.add(P[1])):p.set(P[1],{point:V,dir:I,color:E})),W&&(m=I)}var Y=!0,z=!1,te=void 0;try{for(var J,q=p.values()[Symbol.iterator]();!(Y=(J=q.next()).done);Y=!0){var ne=J.value;this._addCap(ne.point,ne.dir,ne.color)}}catch(L){z=!0,te=L}finally{try{Y||null==q.return||q.return()}finally{if(z)throw te}}return this}},{key:"_addSegment",value:function(N,P,b,M,F){N=N.array(),P=P.array();var j=F.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var V=0,k=[this.lineTangentsIn,this.lineTangentsOut];V<k.length;V++)for(var E=k[V],I=0;I<6;I++)E.push.apply(E,w(j));return(F=this.lineVertices).push.apply(F,w(N).concat(w(P),w(N),w(P),w(P),w(N))),(F=this.lineVertexColors).push.apply(F,w(b).concat(w(M),w(b),w(M),w(M),w(b))),this}},{key:"_addCap",value:function(m,p,b){for(var M,F=m.array(),N=p.array(),P=[0,0,0],j=0;j<6;j++)(M=this.lineVertices).push.apply(M,w(F)),(M=this.lineTangentsIn).push.apply(M,w(N)),(M=this.lineTangentsOut).push.apply(M,P),(M=this.lineVertexColors).push.apply(M,w(b));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(m,p,b,M){for(var F,N=m.array(),P=p.array(),j=b.array(),V=0;V<12;V++)(F=this.lineVertices).push.apply(F,w(N)),(F=this.lineTangentsIn).push.apply(F,w(P)),(F=this.lineTangentsOut).push.apply(F,w(j)),(F=this.lineVertexColors).push.apply(F,w(M));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var m=this.vertices[0].copy(),p=this.vertices[0].copy(),b=0;b<this.vertices.length;b++)m.x=Math.max(m.x,this.vertices[b].x),p.x=Math.min(p.x,this.vertices[b].x),m.y=Math.max(m.y,this.vertices[b].y),p.y=Math.min(p.y,this.vertices[b].y),m.z=Math.max(m.z,this.vertices[b].z),p.z=Math.min(p.z,this.vertices[b].z);for(var M=h.default.Vector.lerp(m,p,.5),F=h.default.Vector.sub(m,p),N=200/Math.max(Math.max(F.x,F.y),F.z),P=0;P<this.vertices.length;P++)this.vertices[P].sub(M),this.vertices[P].mult(N)}return this}}])&&i(c.prototype,u),d}();var a=h.default.Geometry;S.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(x,$,S){"use strict";x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(x=x("../core/main"))&&x.__esModule?x:{default:x};function _(w,i){for(var a=0;a<i.length;a++){var d=i[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(w,d.key,d)}}var h=Array,f=function(w){return Array.isArray(w)};typeof Float32Array<"u"&&(h=Float32Array,f=function(w){return Array.isArray(w)||w instanceof Float32Array}),v.default.Matrix=function(){function w(){var c=this,u=w;if(c instanceof u)return arguments.length&&((c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c])instanceof v.default&&(this.p5=(u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new h([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new h([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var i,a,d;return i=w,d=[{key:"identity",value:function(c){return new v.default.Matrix(c)}}],(a=[{key:"set",value:function(c){var u=arguments;if(c instanceof v.default.Matrix?u=c.mat4:f(c)&&(u=c),16!==u.length)v.default._friendlyError("Expected 16 values but received ".concat(u.length,"."),"p5.Matrix.set");else for(var l=0;l<16;l++)this.mat4[l]=u[l];return this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var c;return void 0!==this.mat3?((c=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],c.mat3[1]=this.mat3[1],c.mat3[2]=this.mat3[2],c.mat3[3]=this.mat3[3],c.mat3[4]=this.mat3[4],c.mat3[5]=this.mat3[5],c.mat3[6]=this.mat3[6],c.mat3[7]=this.mat3[7],c.mat3[8]=this.mat3[8]):((c=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],c.mat4[1]=this.mat4[1],c.mat4[2]=this.mat4[2],c.mat4[3]=this.mat4[3],c.mat4[4]=this.mat4[4],c.mat4[5]=this.mat4[5],c.mat4[6]=this.mat4[6],c.mat4[7]=this.mat4[7],c.mat4[8]=this.mat4[8],c.mat4[9]=this.mat4[9],c.mat4[10]=this.mat4[10],c.mat4[11]=this.mat4[11],c.mat4[12]=this.mat4[12],c.mat4[13]=this.mat4[13],c.mat4[14]=this.mat4[14],c.mat4[15]=this.mat4[15]),c}},{key:"transpose",value:function(c){var u,l,m,p,b,M;return c instanceof v.default.Matrix?(u=c.mat4[1],l=c.mat4[2],m=c.mat4[3],p=c.mat4[6],b=c.mat4[7],M=c.mat4[11],this.mat4[0]=c.mat4[0],this.mat4[1]=c.mat4[4],this.mat4[2]=c.mat4[8],this.mat4[3]=c.mat4[12],this.mat4[4]=u,this.mat4[5]=c.mat4[5],this.mat4[6]=c.mat4[9],this.mat4[7]=c.mat4[13],this.mat4[8]=l,this.mat4[9]=p,this.mat4[10]=c.mat4[10],this.mat4[11]=c.mat4[14],this.mat4[12]=m,this.mat4[13]=b,this.mat4[14]=M,this.mat4[15]=c.mat4[15]):f(c)&&(u=c[1],l=c[2],m=c[3],p=c[6],b=c[7],M=c[11],this.mat4[0]=c[0],this.mat4[1]=c[4],this.mat4[2]=c[8],this.mat4[3]=c[12],this.mat4[4]=u,this.mat4[5]=c[5],this.mat4[6]=c[9],this.mat4[7]=c[13],this.mat4[8]=l,this.mat4[9]=p,this.mat4[10]=c[10],this.mat4[11]=c[14],this.mat4[12]=m,this.mat4[13]=b,this.mat4[14]=M,this.mat4[15]=c[15]),this}},{key:"invert",value:function(z){z instanceof v.default.Matrix?(u=z.mat4[0],l=z.mat4[1],m=z.mat4[2],p=z.mat4[3],b=z.mat4[4],M=z.mat4[5],F=z.mat4[6],N=z.mat4[7],P=z.mat4[8],j=z.mat4[9],V=z.mat4[10],k=z.mat4[11],E=z.mat4[12],I=z.mat4[13],W=z.mat4[14],Y=z.mat4[15]):f(z)&&(u=z[0],l=z[1],m=z[2],p=z[3],b=z[4],M=z[5],F=z[6],N=z[7],P=z[8],j=z[9],V=z[10],k=z[11],E=z[12],I=z[13],W=z[14],Y=z[15]);var u,l,m,p,b,M,F,N,P,j,V,k,E,I,W,Y,te=u*F-m*b,J=u*N-p*b,q=l*F-m*M,ne=l*N-p*M,fe=m*N-p*F,De=P*I-j*E,K=P*W-V*E,L=P*Y-k*E,se=j*W-V*I,pe=j*Y-k*I,Ce=V*Y-k*W,Fe=(z=u*M-l*b)*Ce-te*pe+J*se+q*L-ne*K+fe*De;return Fe?(this.mat4[0]=(M*Ce-F*pe+N*se)*(Fe=1/Fe),this.mat4[1]=(m*pe-l*Ce-p*se)*Fe,this.mat4[2]=(I*fe-W*ne+Y*q)*Fe,this.mat4[3]=(V*ne-j*fe-k*q)*Fe,this.mat4[4]=(F*L-b*Ce-N*K)*Fe,this.mat4[5]=(u*Ce-m*L+p*K)*Fe,this.mat4[6]=(W*J-E*fe-Y*te)*Fe,this.mat4[7]=(P*fe-V*J+k*te)*Fe,this.mat4[8]=(b*pe-M*L+N*De)*Fe,this.mat4[9]=(l*L-u*pe-p*De)*Fe,this.mat4[10]=(E*ne-I*J+Y*z)*Fe,this.mat4[11]=(j*J-P*ne-k*z)*Fe,this.mat4[12]=(M*K-b*se-F*De)*Fe,this.mat4[13]=(u*se-l*K+m*De)*Fe,this.mat4[14]=(I*te-E*q-W*z)*Fe,this.mat4[15]=(P*q-j*te+V*z)*Fe,this):null}},{key:"invert3x3",value:function(){var c=this.mat3[0],u=this.mat3[1],l=this.mat3[2],m=this.mat3[3],p=this.mat3[4],b=this.mat3[5],M=this.mat3[6],F=this.mat3[7],N=this.mat3[8],P=N*p-b*F,j=-N*m+b*M,V=F*m-p*M,k=c*P+u*j+l*V;return k?(this.mat3[0]=P*(k=1/k),this.mat3[1]=(-N*u+l*F)*k,this.mat3[2]=(b*u-l*p)*k,this.mat3[3]=j*k,this.mat3[4]=(N*c-l*M)*k,this.mat3[5]=(-b*c+l*m)*k,this.mat3[6]=V*k,this.mat3[7]=(-F*c+u*M)*k,this.mat3[8]=(p*c-u*m)*k,this):null}},{key:"transpose3x3",value:function(c){var u=(c=void 0===c?this.mat3:c)[1],l=c[2],m=c[5];return this.mat3[0]=c[0],this.mat3[1]=c[3],this.mat3[2]=c[6],this.mat3[3]=u,this.mat3[4]=c[4],this.mat3[5]=c[7],this.mat3[6]=l,this.mat3[7]=m,this.mat3[8]=c[8],this}},{key:"inverseTranspose",value:function(c){if(c=c.mat4,void 0===this.mat3?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=c[0],this.mat3[1]=c[1],this.mat3[2]=c[2],this.mat3[3]=c[4],this.mat3[4]=c[5],this.mat3[5]=c[6],this.mat3[6]=c[8],this.mat3[7]=c[9],this.mat3[8]=c[10]),c=this.invert3x3())c.transpose3x3(this.mat3);else for(var u=0;u<9;u++)this.mat3[u]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(l){var u;if(l===this||l===this.mat4)u=this.copy().mat4;else if(l instanceof v.default.Matrix)u=l.mat4;else if(f(l))u=l;else{if(16!==arguments.length)return;u=arguments}var m=this.mat4[1],p=this.mat4[2],b=this.mat4[3];return this.mat4[0]=(l=this.mat4[0])*u[0]+m*u[4]+p*u[8]+b*u[12],this.mat4[1]=l*u[1]+m*u[5]+p*u[9]+b*u[13],this.mat4[2]=l*u[2]+m*u[6]+p*u[10]+b*u[14],this.mat4[3]=l*u[3]+m*u[7]+p*u[11]+b*u[15],this.mat4[4]=(l=this.mat4[4])*u[0]+(m=this.mat4[5])*u[4]+(p=this.mat4[6])*u[8]+(b=this.mat4[7])*u[12],this.mat4[5]=l*u[1]+m*u[5]+p*u[9]+b*u[13],this.mat4[6]=l*u[2]+m*u[6]+p*u[10]+b*u[14],this.mat4[7]=l*u[3]+m*u[7]+p*u[11]+b*u[15],this.mat4[8]=(l=this.mat4[8])*u[0]+(m=this.mat4[9])*u[4]+(p=this.mat4[10])*u[8]+(b=this.mat4[11])*u[12],this.mat4[9]=l*u[1]+m*u[5]+p*u[9]+b*u[13],this.mat4[10]=l*u[2]+m*u[6]+p*u[10]+b*u[14],this.mat4[11]=l*u[3]+m*u[7]+p*u[11]+b*u[15],this.mat4[12]=(l=this.mat4[12])*u[0]+(m=this.mat4[13])*u[4]+(p=this.mat4[14])*u[8]+(b=this.mat4[15])*u[12],this.mat4[13]=l*u[1]+m*u[5]+p*u[9]+b*u[13],this.mat4[14]=l*u[2]+m*u[6]+p*u[10]+b*u[14],this.mat4[15]=l*u[3]+m*u[7]+p*u[11]+b*u[15],this}},{key:"apply",value:function(l){var u;if(l===this||l===this.mat4)u=this.copy().mat4;else if(l instanceof v.default.Matrix)u=l.mat4;else if(f(l))u=l;else{if(16!==arguments.length)return;u=arguments}var p,b,M,m=((l=this.mat4)[0]=u[0]*(m=l[0])+u[1]*(p=l[4])+u[2]*(b=l[8])+u[3]*(M=l[12]),l[4]=u[4]*m+u[5]*p+u[6]*b+u[7]*M,l[8]=u[8]*m+u[9]*p+u[10]*b+u[11]*M,l[12]=u[12]*m+u[13]*p+u[14]*b+u[15]*M,l[1]);return l[1]=u[0]*m+u[1]*(p=l[5])+u[2]*(b=l[9])+u[3]*(M=l[13]),l[5]=u[4]*m+u[5]*p+u[6]*b+u[7]*M,l[9]=u[8]*m+u[9]*p+u[10]*b+u[11]*M,l[13]=u[12]*m+u[13]*p+u[14]*b+u[15]*M,l[2]=u[0]*(m=l[2])+u[1]*(p=l[6])+u[2]*(b=l[10])+u[3]*(M=l[14]),l[6]=u[4]*m+u[5]*p+u[6]*b+u[7]*M,l[10]=u[8]*m+u[9]*p+u[10]*b+u[11]*M,l[14]=u[12]*m+u[13]*p+u[14]*b+u[15]*M,l[3]=u[0]*(m=l[3])+u[1]*(p=l[7])+u[2]*(b=l[11])+u[3]*(M=l[15]),l[7]=u[4]*m+u[5]*p+u[6]*b+u[7]*M,l[11]=u[8]*m+u[9]*p+u[10]*b+u[11]*M,l[15]=u[12]*m+u[13]*p+u[14]*b+u[15]*M,this}},{key:"scale",value:function(c,u,l){return c instanceof v.default.Vector?(u=c.y,l=c.z,c=c.x):c instanceof Array&&(u=c[1],l=c[2],c=c[0]),this.mat4[0]*=c,this.mat4[1]*=c,this.mat4[2]*=c,this.mat4[3]*=c,this.mat4[4]*=u,this.mat4[5]*=u,this.mat4[6]*=u,this.mat4[7]*=u,this.mat4[8]*=l,this.mat4[9]*=l,this.mat4[10]*=l,this.mat4[11]*=l,this}},{key:"rotate",value:function(z,pe,se,m){pe instanceof v.default.Vector?(se=pe.y,m=pe.z,pe=pe.x):pe instanceof Array&&(se=pe[1],m=pe[2],pe=pe[0]);var p=(pe*=1/(p=Math.sqrt(pe*pe+se*se+m*m)),se*=1/p,m*=1/p,this.mat4[0]),b=this.mat4[1],M=this.mat4[2],F=this.mat4[3],N=this.mat4[4],P=this.mat4[5],j=this.mat4[6],V=this.mat4[7],k=this.mat4[8],E=this.mat4[9],I=this.mat4[10],W=this.mat4[11],Y=Math.sin(z),te=1-(z=Math.cos(z)),J=pe*pe*te+z,q=se*pe*te+m*Y,ne=m*pe*te-se*Y,fe=pe*se*te-m*Y,De=se*se*te+z,K=m*se*te+pe*Y,L=pe*m*te+se*Y;return se=se*m*te-pe*Y,pe=m*m*te+z,this.mat4[0]=p*J+N*q+k*ne,this.mat4[1]=b*J+P*q+E*ne,this.mat4[2]=M*J+j*q+I*ne,this.mat4[3]=F*J+V*q+W*ne,this.mat4[4]=p*fe+N*De+k*K,this.mat4[5]=b*fe+P*De+E*K,this.mat4[6]=M*fe+j*De+I*K,this.mat4[7]=F*fe+V*De+W*K,this.mat4[8]=p*L+N*se+k*pe,this.mat4[9]=b*L+P*se+E*pe,this.mat4[10]=M*L+j*se+I*pe,this.mat4[11]=F*L+V*se+W*pe,this}},{key:"translate",value:function(m){var u=m[0],l=m[1];this.mat4[12]+=this.mat4[0]*u+this.mat4[4]*l+this.mat4[8]*(m=m[2]||0),this.mat4[13]+=this.mat4[1]*u+this.mat4[5]*l+this.mat4[9]*m,this.mat4[14]+=this.mat4[2]*u+this.mat4[6]*l+this.mat4[10]*m,this.mat4[15]+=this.mat4[3]*u+this.mat4[7]*l+this.mat4[11]*m}},{key:"rotateX",value:function(c){this.rotate(c,1,0,0)}},{key:"rotateY",value:function(c){this.rotate(c,0,1,0)}},{key:"rotateZ",value:function(c){this.rotate(c,0,0,1)}},{key:"perspective",value:function(p,u,l,m){p=1/Math.tan(p/2);var b=1/(l-m);return this.mat4[0]=p/u,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(m+l)*b,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*m*l*b,this.mat4[15]=0,this}},{key:"ortho",value:function(c,u,l,m,p,b){var M=1/(c-u),F=1/(l-m),N=1/(p-b);return this.mat4[0]=-2*M,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*F,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*N,this.mat4[11]=0,this.mat4[12]=(c+u)*M,this.mat4[13]=(m+l)*F,this.mat4[14]=(b+p)*N,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(c,u,l,m){var p=new Array(4),b=this.mat4;return p[0]=b[0]*c+b[4]*u+b[8]*l+b[12]*m,p[1]=b[1]*c+b[5]*u+b[9]*l+b[13]*m,p[2]=b[2]*c+b[6]*u+b[10]*l+b[14]*m,p[3]=b[3]*c+b[7]*u+b[11]*l+b[15]*m,p}},{key:"multiplyPoint",value:function(l){var m=this.multiplyVec4(m=l.x,l.y,l=l.z,1);return new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyAndNormalizePoint",value:function(l){var m;return(m=this.multiplyVec4(m=l.x,l.y,l=l.z,1))[0]/=m[3],m[1]/=m[3],m[2]/=m[3],new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyDirection",value:function(l){var m=this.multiplyVec4(m=l.x,l.y,l=l.z,0);return new v.default.Vector(m[0],m[1],m[2])}},{key:"mult3x3",value:function(l){var u;if(l===this||l===this.mat3)u=this.copy().mat3;else if(l instanceof v.default.Matrix)u=l.mat3;else if(f(l))u=l;else{if(9!==arguments.length)return;u=arguments}var m=this.mat3[1],p=this.mat3[2];return this.mat3[0]=(l=this.mat3[0])*u[0]+m*u[3]+p*u[6],this.mat3[1]=l*u[1]+m*u[4]+p*u[7],this.mat3[2]=l*u[2]+m*u[5]+p*u[8],this.mat3[3]=(l=this.mat3[3])*u[0]+(m=this.mat3[4])*u[3]+(p=this.mat3[5])*u[6],this.mat3[4]=l*u[1]+m*u[4]+p*u[7],this.mat3[5]=l*u[2]+m*u[5]+p*u[8],this.mat3[6]=(l=this.mat3[6])*u[0]+(m=this.mat3[7])*u[3]+(p=this.mat3[8])*u[6],this.mat3[7]=l*u[1]+m*u[4]+p*u[7],this.mat3[8]=l*u[2]+m*u[5]+p*u[8],this}},{key:"column",value:function(c){return new v.default.Vector(this.mat3[3*c],this.mat3[3*c+1],this.mat3[3*c+2])}},{key:"row",value:function(c){return new v.default.Vector(this.mat3[c],this.mat3[c+3],this.mat3[c+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(c,u){return(u=void 0===u?c.copy():u).x=this.row(0).dot(c),u.y=this.row(1).dot(c),u.z=this.row(2).dot(c),u}},{key:"createSubMatrix3x3",value:function(){var c=new v.default.Matrix("mat3");return c.mat3[0]=this.mat4[0],c.mat3[1]=this.mat4[1],c.mat3[2]=this.mat4[2],c.mat3[3]=this.mat4[4],c.mat3[4]=this.mat4[5],c.mat3[5]=this.mat4[6],c.mat3[6]=this.mat4[8],c.mat3[7]=this.mat4[9],c.mat3[8]=this.mat4[10],c}}])&&_(i.prototype,a),d&&_(i,d),w}(),S.default=x=v.default.Matrix},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(o,$,S){"use strict";function v(_,h){for(var f=0;f<h.length;f++){var x=h[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function _(w,i,a,d,c,u){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.size=w,this.src=i,this.dst=a,this.attr=d,this._renderer=c,this.map=u}var h,f;return h=_,(f=[{key:"_prepareBuffer",value:function(w,i){var a,d,c,m,u=this._renderer.GL,l=w.model||w;(m=(m=i.attributes)[this.attr])&&(a=w[this.dst],0<(d=l[this.src]).length?((c=!a)&&(w[this.dst]=a=u.createBuffer()),u.bindBuffer(u.ARRAY_BUFFER,a),!c&&!1===l.dirtyFlags[this.src]||(c=(w=this.map)?w(d):d,this._renderer._bindBuffer(a,u.ARRAY_BUFFER,c),l.dirtyFlags[this.src]=!1),i.enableAttrib(m,this.size)):-1!==(w=m.location)&&this._renderer.registerEnabled.has(w)&&(u.disableVertexAttribArray(w),this._renderer.registerEnabled.delete(w)))}}])&&v(h.prototype,f),_}(),S.default=o=o.default.RenderBuffer},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(o,$,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(a=o("../core/main"))&&a.__esModule?a:{default:a},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var c=x();if(c&&c.has(d))return c.get(d);var u,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in d){var p;Object.prototype.hasOwnProperty.call(d,u)&&((p=m?Object.getOwnPropertyDescriptor(d,u):null)&&(p.get||p.set)?Object.defineProperty(l,u,p):l[u]=d[u])}return l.default=d,c&&c.set(d,l),l}(o("../core/constants"));function x(){var d;return"function"!=typeof WeakMap?null:(x=function(){return d},d=new WeakMap)}function w(d){return function(c){if(Array.isArray(c)){for(var u=0,l=new Array(c.length);u<c.length;u++)l[u]=c[u];return l}}(d)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),h.default.RendererGL.prototype.beginShape=function(d){return this.immediateMode.shapeMode=void 0!==d?d:f.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var i={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},a=(h.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==f.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},h.default.RendererGL.prototype.vertex=function(d,c){if(this.immediateMode.shapeMode===f.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var u in i){var l=i[u];(u=this.immediateMode.geometry[u]).push.apply(u,w(u.slice(u.length-3*l,u.length-2*l)).concat(w(u.slice(u.length-l,u.length))))}var m,p,b=m=p=0,M=(3===arguments.length?b=arguments[2]:4===arguments.length?(m=arguments[2],p=arguments[3]):5===arguments.length&&(b=arguments[2],m=arguments[3],p=arguments[4]),new h.default.Vector(d,c,b));return this.immediateMode.geometry.vertices.push(M),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((M=this.curFillColor||[.5,.5,.5,1])[0],M[1],M[2],M[3]),this.immediateMode.geometry.vertexStrokeColors.push((M=this.curStrokeColor||[.5,.5,.5,1])[0],M[1],M[2],M[3]),this.textureMode!==f.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(m/=this._tex.width,p/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(m,p),this.immediateMode._bezierVertex[0]=d,this.immediateMode._bezierVertex[1]=c,this.immediateMode._bezierVertex[2]=b,this.immediateMode._quadraticVertex[0]=d,this.immediateMode._quadraticVertex[1]=c,this.immediateMode._quadraticVertex[2]=b,this},h.default.RendererGL.prototype.normal=function(d,c,u){return this._currentNormal=d instanceof h.default.Vector?d:new h.default.Vector(d,c,u),this},h.default.RendererGL.prototype.endShape=function(d,c,u,l,m,p){var b,M=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===f.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),b=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==f.LINE_STRIP&&this.immediateMode.shapeMode!==f.LINES||(this.immediateMode.shapeMode=f.TRIANGLE_FAN,b=!0),this.immediateMode.shapeMode===f.QUADS?this.immediateMode.shapeMode=f.TRIANGLES:this.immediateMode.shapeMode===f.QUAD_STRIP&&(this.immediateMode.shapeMode=f.TRIANGLE_STRIP),this._doFill&&!b&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(M),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},h.default.RendererGL.prototype._processVertices=function(d){var c;0!==this.immediateMode.geometry.vertices.length&&(d=d===f.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,d),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),c=this.immediateMode.shapeMode===f.TESS,d=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||c||d)&&this.immediateMode.shapeMode!==f.LINES&&this._tesselateShape())},h.default.RendererGL.prototype._calculateEdges=function(d,c,u){var l=[],m=0,p=this.immediateMode.contourIndices.slice(),b=0;switch(d){case f.TRIANGLE_STRIP:for(m=0;m<c.length-2;m++)l.push([m,m+1]),l.push([m,m+2]);l.push([m,m+1]);break;case f.TRIANGLE_FAN:for(m=1;m<c.length-1;m++)l.push([0,m]),l.push([m,m+1]);l.push([0,c.length-1]);break;case f.TRIANGLES:for(m=0;m<c.length-2;m+=3)l.push([m,m+1]),l.push([m+1,m+2]),l.push([m+2,m]);break;case f.LINES:for(m=0;m<c.length-1;m+=2)l.push([m,m+1]);break;case f.QUADS:for(m=0;m<c.length-5;m+=6)l.push([m,m+1]),l.push([m+1,m+2]),l.push([m+3,m+5]),l.push([m+4,m+5]);break;case f.QUAD_STRIP:for(m=0;m<c.length-2;m+=2)l.push([m,m+1]),l.push([m,m+2]),l.push([m+1,m+3]);l.push([m,m+1]);break;default:for(m=0;m<c.length;m++)m+1<c.length&&m+1!==p[0]?l.push([m,m+1]):((u||b)&&l.push([m,b]),0<p.length&&(b=p.shift()))}return d!==f.TESS&&u&&l.push([c.length-1,0]),l},h.default.RendererGL.prototype._tesselateShape=function(){for(var d=this,c=(this.immediateMode.shapeMode=f.TRIANGLES,[[]]),u=0;u<this.immediateMode.geometry.vertices.length;u++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===u&&(this.immediateMode.contourIndices.shift(),c.push([])),c[c.length-1].push(this.immediateMode.geometry.vertices[u].x,this.immediateMode.geometry.vertices[u].y,this.immediateMode.geometry.vertices[u].z,this.immediateMode.geometry.uvs[2*u],this.immediateMode.geometry.uvs[2*u+1],this.immediateMode.geometry.vertexColors[4*u],this.immediateMode.geometry.vertexColors[4*u+1],this.immediateMode.geometry.vertexColors[4*u+2],this.immediateMode.geometry.vertexColors[4*u+3],this.immediateMode.geometry.vertexNormals[u].x,this.immediateMode.geometry.vertexNormals[u].y,this.immediateMode.geometry.vertexNormals[u].z);for(var l,m=this._triangulate(c),p=this.immediateMode.geometry.vertices,b=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),M=0,F=m.length;M<F;M+=h.default.RendererGL.prototype.tessyVertexSize)b.push.apply(b,w(m.slice(M+5,M+9))),this.normal.apply(this,w(m.slice(M+9,M+12))),this.vertex.apply(this,w(m.slice(M,M+5)));this.geometryBuilder&&(l=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(N){return N.map(function(P){if(!l.has(P)){var j=p[P],V=d.immediateMode.geometry.vertices.findIndex(function(te){return j.x===te.x&&j.y===te.y&&j.z===te.z});if(-1===V){for(var k=1/0,E=0,I=0;I<d.immediateMode.geometry.vertices.length;I++){var Y,z,W=j.y-(Y=d.immediateMode.geometry.vertices[I]).y;(z=(z=j.x-Y.x)*z+W*W+(Y=j.z-Y.z)*Y)<k&&(k=z,E=I)}V=E}l.set(P,V)}return l.get(P)})})),this.immediateMode.geometry.vertexColors=b},h.default.RendererGL.prototype._drawImmediateFill=function(){var d,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,u=this.GL,l=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,d=this._getImmediateFillShader(),this._setFillUniforms(d),!0),m=!1,p=void 0;try{for(var b,M=this.immediateMode.buffers.fill[Symbol.iterator]();!(l=(b=M.next()).done);l=!0)b.value._prepareBuffer(this.immediateMode.geometry,d)}catch(F){m=!0,p=F}finally{try{l||null==M.return||M.return()}finally{if(m)throw p}}if(d.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===c)u.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{u.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,c)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}d.unbindShader()},h.default.RendererGL.prototype._drawImmediateStroke=function(){var d=this.GL,c=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),u=(this._setStrokeUniforms(c),!0),l=!1,m=void 0;try{for(var p,b=this.immediateMode.buffers.stroke[Symbol.iterator]();!(u=(p=b.next()).done);u=!0)p.value._prepareBuffer(this.immediateMode.geometry,c)}catch(M){l=!0,m=M}finally{try{u||null==b.return||b.return()}finally{if(l)throw m}}c.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),d.drawArrays(d.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),c.unbindShader()},h.default.RendererGL);S.default=a},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(o,$,S){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function _(i){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==_(i)&&"function"!=typeof i)return{default:i};var a=x();if(a&&a.has(i))return a.get(i);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in i){var l;Object.prototype.hasOwnProperty.call(i,d)&&((l=u?Object.getOwnPropertyDescriptor(i,d):null)&&(l.get||l.set)?Object.defineProperty(c,d,l):c[d]=i[d])}return c.default=i,a&&a.set(i,c),c}(o("../core/constants")));function x(){var i;return"function"!=typeof WeakMap?null:(x=function(){return i},i=new WeakMap)}h.default.RendererGL.prototype.freeGeometry=function(i){i.gid?this._freeBuffers(i.gid):console.warn("The model you passed to freeGeometry does not have an id!")},h.default.RendererGL.prototype._initBufferDefaults=function(i){var a;return this._freeBuffers(i),1e3<Object.keys(this.retainedMode.geometry).length&&(a=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(a)),this.retainedMode.geometry[i]={}},h.default.RendererGL.prototype._freeBuffers=function(i){var a,d=this.retainedMode.geometry[i];function c(u){var l=!0,m=!1,p=void 0;try{for(var b,M=u[Symbol.iterator]();!(l=(b=M.next()).done);l=!0){var F=b.value;d[F.dst]&&(a.deleteBuffer(d[F.dst]),d[F.dst]=null)}}catch(N){m=!0,p=N}finally{try{l||null==M.return||M.return()}finally{if(m)throw p}}}d&&(delete this.retainedMode.geometry[i],a=this.GL,d.indexBuffer&&a.deleteBuffer(d.indexBuffer),c(this.retainedMode.buffers.stroke),c(this.retainedMode.buffers.fill))},h.default.RendererGL.prototype.createBuffers=function(m,a){var d,c,u,l=this.GL,p=((m=this._initBufferDefaults(m)).model=a,m.indexBuffer);return a.faces.length?(p=p||(m.indexBuffer=l.createBuffer()),u=(c=(d=h.default.RendererGL.prototype._flatten(a.faces)).some(function(b){return 65535<b}))?Uint32Array:Uint16Array,this._bindBuffer(p,l.ELEMENT_ARRAY_BUFFER,d,u),m.indexBufferType=c?l.UNSIGNED_INT:l.UNSIGNED_SHORT,m.vertexCount=3*a.faces.length):(p&&(l.deleteBuffer(p),m.indexBuffer=null),m.vertexCount=a.vertices?a.vertices.length:0),m.lineVertexCount=a.lineVertices?a.lineVertices.length/3:0,m},h.default.RendererGL.prototype.drawBuffers=function(i){var a=this.GL,d=this.retainedMode.geometry[i];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[i].vertexCount){this._useVertexColor=0<d.model.vertexColors.length;var c=this._getRetainedFillShader(),u=(this._setFillUniforms(c),!0),l=!1,m=void 0;try{for(var p,b=this.retainedMode.buffers.fill[Symbol.iterator]();!(u=(p=b.next()).done);u=!0)p.value._prepareBuffer(d,c)}catch(j){l=!0,m=j}finally{try{u||null==b.return||b.return()}finally{if(l)throw m}}c.disableRemainingAttributes(),d.indexBuffer&&this._bindBuffer(d.indexBuffer,a.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,d.model.hasFillTransparency()),this._drawElements(a.TRIANGLES,i),c.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<d.lineVertexCount){this._useLineColor=0<d.model.vertexStrokeColors.length;var M=this._getRetainedStrokeShader(),F=(this._setStrokeUniforms(M),!0);l=!1,m=void 0;try{for(var N,P=this.retainedMode.buffers.stroke[Symbol.iterator]();!(F=(N=P.next()).done);F=!0)N.value._prepareBuffer(d,M)}catch(k){l=!0,m=k}finally{try{F||null==P.return||P.return()}finally{if(l)throw m}}M.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,d.model.hasStrokeTransparency()),this._drawArrays(a.TRIANGLES,i),M.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(d),this},h.default.RendererGL.prototype.drawBuffersScaled=function(i,a,d,c){var u=this.uMVMatrix.copy();try{this.uMVMatrix.scale(a,d,c),this.drawBuffers(i)}finally{this.uMVMatrix=u}},h.default.RendererGL.prototype._drawArrays=function(i,a){return this.GL.drawArrays(i,0,this.retainedMode.geometry[a].lineVertexCount),this},h.default.RendererGL.prototype._drawElements=function(i,d){var c=this.GL;if((d=this.retainedMode.geometry[d]).indexBuffer){if(this._pInst.webglVersion!==f.WEBGL2&&d.indexBufferType===c.UNSIGNED_INT&&!c.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");c.drawElements(c.TRIANGLES,d.vertexCount,d.indexBufferType,0)}else c.drawArrays(i||c.TRIANGLES,0,d.vertexCount)},h.default.RendererGL.prototype._drawPoints=function(i,a){var d=this.GL,c=this._getImmediatePointShader();this._setPointUniforms(c),this._bindBuffer(a,d.ARRAY_BUFFER,this._vToNArray(i),Float32Array,d.STATIC_DRAW),c.enableAttrib(c.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),d.drawArrays(d.Points,0,i.length),c.unbindShader()};var w=h.default.RendererGL;S.default=w},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(I,$,S){"use strict";function v(q){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(q)}function _(q){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(ne){return v(ne)}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":v(ne)})(q)}I("core-js/modules/es.symbol"),I("core-js/modules/es.symbol.description"),I("core-js/modules/es.symbol.iterator"),I("core-js/modules/es.array.concat"),I("core-js/modules/es.array.copy-within"),I("core-js/modules/es.array.every"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.flat"),I("core-js/modules/es.array.flat-map"),I("core-js/modules/es.array.from"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.array.map"),I("core-js/modules/es.array.slice"),I("core-js/modules/es.array.some"),I("core-js/modules/es.array.unscopables.flat"),I("core-js/modules/es.array.unscopables.flat-map"),I("core-js/modules/es.map"),I("core-js/modules/es.object.assign"),I("core-js/modules/es.object.get-own-property-descriptor"),I("core-js/modules/es.object.get-prototype-of"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.reflect.construct"),I("core-js/modules/es.reflect.get"),I("core-js/modules/es.regexp.to-string"),I("core-js/modules/es.set"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.string.iterator"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.float64-array"),I("core-js/modules/es.typed-array.int16-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint16-array"),I("core-js/modules/es.typed-array.uint32-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),I("core-js/modules/es.weak-map"),I("core-js/modules/web.dom-collections.iterator"),I("core-js/modules/es.symbol"),I("core-js/modules/es.symbol.description"),I("core-js/modules/es.symbol.iterator"),I("core-js/modules/es.array.concat"),I("core-js/modules/es.array.copy-within"),I("core-js/modules/es.array.every"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.flat"),I("core-js/modules/es.array.flat-map"),I("core-js/modules/es.array.from"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.array.map"),I("core-js/modules/es.array.slice"),I("core-js/modules/es.array.some"),I("core-js/modules/es.array.unscopables.flat"),I("core-js/modules/es.array.unscopables.flat-map"),I("core-js/modules/es.map"),I("core-js/modules/es.object.assign"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.set"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.string.iterator"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.float64-array"),I("core-js/modules/es.typed-array.int16-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint16-array"),I("core-js/modules/es.typed-array.uint32-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),I("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.readPixelsWebGL=te,S.readPixelWebGL=J,S.default=void 0;var h=d(I("../core/main")),f=function(q){if(q&&q.__esModule)return q;if(null===q||"object"!==_(q)&&"function"!=typeof q)return{default:q};var ne=a();if(ne&&ne.has(q))return ne.get(q);var fe,De={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(fe in q){var L;Object.prototype.hasOwnProperty.call(q,fe)&&((L=K?Object.getOwnPropertyDescriptor(q,fe):null)&&(L.get||L.set)?Object.defineProperty(De,fe,L):De[fe]=q[fe])}return De.default=q,ne&&ne.set(q,De),De}(I("../core/constants")),x=d(I("./GeometryBuilder")),w=d(I("libtess")),i=(I("./p5.Shader"),I("./p5.Camera"),I("../core/p5.Renderer"),I("./p5.Matrix"),I("./p5.Framebuffer"),I("path"),I("./p5.Texture"));function a(){var q;return"function"!=typeof WeakMap?null:(a=function(){return q},q=new WeakMap)}function d(q){return q&&q.__esModule?q:{default:q}}function c(q){return function(ne){if(Array.isArray(ne)){for(var fe=0,De=new Array(ne.length);fe<ne.length;fe++)De[fe]=ne[fe];return De}}(q)||function(ne){if(Symbol.iterator in Object(ne)||"[object Arguments]"===Object.prototype.toString.call(ne))return Array.from(ne)}(q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(q,ne){for(var fe=0;fe<ne.length;fe++){var De=ne[fe];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(q,De.key,De)}}function l(q,ne,fe){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(se,K,L){if(se=function(pe,Ce){for(;!Object.prototype.hasOwnProperty.call(pe,Ce)&&null!==(pe=M(pe)););return pe}(se,K))return(se=Object.getOwnPropertyDescriptor(se,K)).get?se.get.call(L):se.value})(q,ne,fe||q)}function m(q,ne){return(m=Object.setPrototypeOf||function(fe,De){return fe.__proto__=De,fe})(q,ne)}function b(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function M(q){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)})(q)}function F(q,ne,fe){ne in q?Object.defineProperty(q,ne,{value:fe,enumerable:!0,configurable:!0,writable:!0}):q[ne]=fe}function N(q,ne){E+="#define STROKE_CAP_".concat(q," ").concat(ne,"\n"),V[f[q]]=ne}function P(q,ne){E+="#define STROKE_JOIN_".concat(q," ").concat(ne,"\n"),k[f[q]]=ne}var j,V={},k={},E="",W={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(N("ROUND",0),N("PROJECT",1),N("SQUARE",2),P("ROUND",0),P("MITER",1),P("BEVEL",2),(I='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:I+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:E+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:E+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},Y=W.sphereMappingFrag;for(j in W)W[j]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+W[j];F(I={},f.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),F(I,f.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),F(I,f.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),F(I,f.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),F(I,f.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),F(I,f.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),F(I,f.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),F(I,f.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var z=I;function te(q,ne,tt,De,K,L,se,pe,Ce,Fe){var We=ne.getParameter(ne.FRAMEBUFFER_BINDING),Oe=L*se*(ne.bindFramebuffer(ne.FRAMEBUFFER,tt),tt=pe===ne.RGBA?4:3),ke=Ce===ne.UNSIGNED_BYTE?Uint8Array:Float32Array;if(q instanceof ke&&q.length===Oe||(q=new ke(Oe)),ne.readPixels(De,Fe?Fe-K-se:K,L,se,pe,Ce,q),ne.bindFramebuffer(ne.FRAMEBUFFER,We),Fe)for(var Be=Math.floor(se/2),je=new ke(L*tt),Qe=0;Qe<Be;Qe++){var Ke=Qe*L*4,gt=(se-Qe-1)*L*4;je.set(q.subarray(Ke,Ke+4*L)),q.copyWithin(Ke,gt,gt+4*L),q.set(je,gt)}return q}function J(q,Ce,fe,De,K,L,se){var pe=q.getParameter(q.FRAMEBUFFER_BINDING);return q.bindFramebuffer(q.FRAMEBUFFER,Ce),Ce=K===q.RGBA?4:3,Ce=new(L===q.UNSIGNED_BYTE?Uint8Array:Float32Array)(Ce),q.readPixels(fe,se?se-De-1:De,1,1,K,L,Ce),q.bindFramebuffer(q.FRAMEBUFFER,pe),Array.from(Ce)}h.default.prototype.setAttributes=function(q,ne){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var fe=!0;if(void 0!==ne?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[q]!==ne&&(this._glAttributes[q]=ne,fe=!1)):q instanceof Object&&this._glAttributes!==q&&(this._glAttributes=q,fe=!1),this._renderer.isP3D&&!fe){if(!this._setupDone)for(var De in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(De))return void h.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},h.default.RendererGL=function(q){var ne=K;if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(q&&q.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),q&&m(ne,q);var De=function p(q){return function(){var ne,fe,De=M(q);return ne=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(ne=M(this).constructor,Reflect.construct(De,arguments,ne)):De.apply(this,arguments),De=this,!(fe=ne)||"object"!==_(fe)&&"function"!=typeof fe?b(De):fe}}(K);function K(L,se,pe,Ce){if(this instanceof K)return(L=De.call(this,L,se,pe))._setAttributeDefaults(se),L._initContext(),L.isP3D=!0,L.geometryBuilder=void 0,L.GL=L.drawingContext,L._pInst._setProperty("drawingContext",L.drawingContext),L._isErasing=!1,L._clipDepths=[],L._isClipApplied=!1,L._stencilTestOn=!1,L._enableLighting=!1,L.ambientLightColors=[],L.mixedAmbientLight=[],L.mixedSpecularColor=[],L.specularColors=[1,1,1],L.directionalLightDirections=[],L.directionalLightDiffuseColors=[],L.directionalLightSpecularColors=[],L.pointLightPositions=[],L.pointLightDiffuseColors=[],L.pointLightSpecularColors=[],L.spotLightPositions=[],L.spotLightDirections=[],L.spotLightDiffuseColors=[],L.spotLightSpecularColors=[],L.spotLightAngle=[],L.spotLightConc=[],L.activeImageLight=null,L.diffusedTextures=new Map,L.specularTextures=new Map,L.drawMode=f.FILL,L.curFillColor=L._cachedFillStyle=[1,1,1,1],L.curAmbientColor=L._cachedFillStyle=[1,1,1,1],L.curSpecularColor=L._cachedFillStyle=[0,0,0,0],L.curEmissiveColor=L._cachedFillStyle=[0,0,0,0],L.curStrokeColor=L._cachedStrokeStyle=[0,0,0,1],L.curBlendMode=f.BLEND,L.preEraseBlend=void 0,L._cachedBlendMode=void 0,L.blendExt=L.webglVersion===f.WEBGL2?L.GL:L.GL.getExtension("EXT_blend_minmax"),L._isBlending=!1,L._hasSetAmbient=!1,L._useSpecularMaterial=!1,L._useEmissiveMaterial=!1,L._useNormalMaterial=!1,L._useShininess=1,L._useMetalness=0,L._useLineColor=!1,L._useVertexColor=!1,L.registerEnabled=new Set,L._tint=[255,255,255,255],L.constantAttenuation=1,L.linearAttenuation=0,L.quadraticAttenuation=0,L.uMVMatrix=new h.default.Matrix,L.uPMatrix=new h.default.Matrix,L.uNMatrix=new h.default.Matrix("mat3"),L.curMatrix=new h.default.Matrix("mat3"),L._currentNormal=new h.default.Vector(0,0,1),L._curCamera=new h.default.Camera(b(L)),L._curCamera._computeCameraDefaultSettings(),L._curCamera._setDefaultCamera(),L.filterCamera=new h.default.Camera(b(L)),L.filterCamera._computeCameraDefaultSettings(),L.filterCamera._setDefaultCamera(),L.prevTouches=[],L.zoomVelocity=0,L.rotateVelocity=new h.default.Vector(0,0),L.moveVelocity=new h.default.Vector(0,0),L.executeZoom=!1,L.executeRotateAndMove=!1,L.specularShader=void 0,L.sphereMapping=void 0,L.diffusedShader=void 0,L._defaultLightShader=void 0,L._defaultImmediateModeShader=void 0,L._defaultNormalShader=void 0,L._defaultColorShader=void 0,L._defaultPointShader=void 0,L.userFillShader=void 0,L.userStrokeShader=void 0,L.userPointShader=void 0,L.retainedMode={geometry:{},buffers:{stroke:[new h.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(L)),new h.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(L)),new h.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(L)),new h.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(L)),new h.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(L))],fill:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(L),L._vToNArray),new h.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(L),L._vToNArray),new h.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(L)),new h.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(L)),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(L),L._flatten)],text:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(L),L._vToNArray),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(L),L._flatten)]}},L.immediateMode={geometry:new h.default.Geometry,shapeMode:f.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(L),L._vToNArray),new h.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(L),L._vToNArray),new h.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(L)),new h.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(L)),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(L),L._flatten)],stroke:[new h.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(L)),new h.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(L)),new h.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(L)),new h.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(L)),new h.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(L))],point:L.GL.createBuffer()}},L.pointSize=5,L.curStrokeWeight=1,L.curStrokeCap=f.ROUND,L.curStrokeJoin=f.ROUND,L.textures=new Map,L.framebuffers=new Set,L.activeFramebuffers=[],L.filterShader=void 0,L.filterLayer=void 0,L.filterLayerTemp=void 0,L.defaultFilterShaders={},L.textureMode=f.IMAGE,L.textureWrapX=f.CLAMP,L.textureWrapY=f.CLAMP,L._tex=null,L._curveTightness=6,L._lookUpTableBezier=[],L._lookUpTableQuadratic=[],L._lutBezierDetail=0,L._lutQuadraticDetail=0,L.isProcessingVertices=!1,L._tessy=L._initTessy(),L.fontInfos={},L._curShader=void 0,L;throw new TypeError("Cannot call a class as a function")}return ne=K,(q=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new x.default(this)}},{key:"endGeometry",value:function(){var L;if(this.geometryBuilder)return L=this.geometryBuilder.finish(),this.geometryBuilder=void 0,L;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(L){return this.beginGeometry(),L(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(L){var se={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};L._glAttributes=null===L._glAttributes?se:Object.assign(se,L._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?f.WEBGL2:f.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var L=this.drawingContext;L.enable(L.DEPTH_TEST),L.depthFunc(L.LEQUAL),L.viewport(0,0,L.drawingBufferWidth,L.drawingBufferHeight),L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var L=this.drawingContext;return L.getParameter(L.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(L,se){this._maxTextureSize||(this._maxTextureSize=this._getParam());var Ce=this._maxTextureSize,pe=(Ce=Math.floor(Ce/this.pixelDensity()),Math.min(L,Ce));return Ce=Math.min(se,Ce),pe===L&&Ce===se||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(pe,", height: ").concat(Ce,".")),{adjustedWidth:pe,adjustedHeight:Ce}}},{key:"_resetContext",value:function(L,se){var pe,Ce=this.width,Fe=this.height,tt=this.canvas.id,We=this._pInst instanceof h.default.Graphics;We?((pe=this._pInst).canvas.parentNode.removeChild(pe.canvas),pe.canvas=document.createElement("canvas"),(pe._pInst._userNode||document.body).appendChild(pe.canvas),h.default.Element.call(pe,pe.canvas,pe._pInst),pe.width=Ce,pe.height=Fe):((pe=this.canvas)&&pe.parentNode.removeChild(pe),(pe=document.createElement("canvas")).id=tt,(this._pInst._userNode||document.body).appendChild(pe),this._pInst.canvas=pe,this.canvas=pe),tt=new h.default.RendererGL(this._pInst.canvas,this._pInst,!We),this._pInst._setProperty("_renderer",tt),tt.resize(Ce,Fe),tt._applyDefaults(),We||this._pInst._elements.push(tt),"function"==typeof se&&setTimeout(function(){se.apply(window._renderer,L)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var Ce=(Ce=this._pInst).color.apply(Ce,arguments);this.clear(Ce.levels[0]/255,Ce.levels[1]/255,Ce.levels[2]/255,Ce=Ce.levels[3]/255)}},{key:"fill",value:function(L,se,pe,Ce){var Fe=h.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Fe._array,this.drawMode=f.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(L,se,pe,Ce){var Fe=h.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Fe._array}},{key:"strokeCap",value:function(L){this.curStrokeCap=L}},{key:"strokeJoin",value:function(L){this.curStrokeJoin=L}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(L,se){L.width===se.width&&L.height===se.height||L.resize(se.width,se.height),L.pixelDensity()!==se.pixelDensity()&&L.pixelDensity(se.pixelDensity())}},{key:"filter",value:function(){var L,se,pe=this,Ce=this.getFilterLayer(),Fe=void 0,We=void 0,tt=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(We=arguments.length<=0?void 0:arguments[0],F(L={},f.BLUR,3),F(L,f.POSTERIZE,4),F(L,f.THRESHOLD,.5),Fe=We in L&&void 0===(arguments.length<=1?void 0:arguments[1])?L[We]:arguments.length<=1?void 0:arguments[1],We in this.defaultFilterShaders||(this.defaultFilterShaders[We]=new h.default.Shader(Ce._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",z[We])),this.filterShader=this.defaultFilterShaders[We]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),Oe=(this.matchSize(Ce,tt),Ce.draw(function(){return pe._pInst.clear()}),[1/(tt.width*tt.pixelDensity()),1/(tt.height*tt.pixelDensity())]);We===f.BLUR?(se=this.getFilterLayerTemp(),this.matchSize(se,tt),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(f.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",Oe),this.filterShader.setUniform("canvasSize",[tt.width,tt.height]),this.filterShader.setUniform("radius",Math.max(1,Fe)),se.draw(function(){pe.filterShader.setUniform("direction",[1,0]),pe.filterShader.setUniform("tex0",tt),pe._pInst.clear(),pe._pInst.shader(pe.filterShader),pe._pInst.noLights(),pe._pInst.plane(tt.width,tt.height)}),Ce.draw(function(){pe.filterShader.setUniform("direction",[0,1]),pe.filterShader.setUniform("tex0",se),pe._pInst.clear(),pe._pInst.shader(pe.filterShader),pe._pInst.noLights(),pe._pInst.plane(tt.width,tt.height)}),this._pInst.pop()):Ce.draw(function(){pe._pInst.noStroke(),pe._pInst.blendMode(f.BLEND),pe._pInst.shader(pe.filterShader),pe.filterShader.setUniform("tex0",tt),pe.filterShader.setUniform("texelSize",Oe),pe.filterShader.setUniform("canvasSize",[tt.width,tt.height]),pe.filterShader.setUniform("filterParameter",Fe),pe._pInst.noLights(),pe._pInst.plane(tt.width,tt.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(f.CORNER),this._pInst.blendMode(f.BLEND),tt.filterCamera._resize(),this._pInst.setCamera(tt.filterCamera),this._pInst.resetMatrix(),this._pInst.image(Ce,-tt.width/2,-tt.height/2,tt.width,tt.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(L){return L?this._pInst.pixelDensity(L):this._pInst.pixelDensity()}},{key:"blendMode",value:function(L){L===f.DARKEST||L===f.LIGHTEST||L===f.ADD||L===f.BLEND||L===f.SUBTRACT||L===f.SCREEN||L===f.EXCLUSION||L===f.REPLACE||L===f.MULTIPLY||L===f.REMOVE?this.curBlendMode=L:L!==f.BURN&&L!==f.OVERLAY&&L!==f.HARD_LIGHT&&L!==f.SOFT_LIGHT&&L!==f.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(L,se){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(f.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,L/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,se/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(l(M(K.prototype),"beginClip",this).call(this,L),this.drawTarget()._isClipApplied=!0,L=this.GL).clearStencil(0),L.clear(L.STENCIL_BUFFER_BIT),L.enable(L.STENCIL_TEST),this._stencilTestOn=!0,L.stencilFunc(L.ALWAYS,1,255),L.stencilOp(L.KEEP,L.KEEP,L.REPLACE),L.disable(L.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var L=this.GL;L.stencilOp(L.KEEP,L.KEEP,L.KEEP),L.stencilFunc(this._clipInvert?L.EQUAL:L.NOTEQUAL,0,255),L.enable(L.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),l(M(K.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(L){this.curStrokeWeight!==L&&(this.pointSize=L,this.curStrokeWeight=L)}},{key:"_getPixel",value:function(L,se){var pe=this.GL;return J(pe,null,L,se,pe.RGBA,pe.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var L,se,pe=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):pe._setProperty("pixels",te(pe.pixels,se=this.GL,null,0,0,this.width*(L=this._pInst._pixelDensity),this.height*L,se.RGBA,se.UNSIGNED_BYTE,this.height*L))}},{key:"updatePixels",value:function(){var L=this._getTempFramebuffer();L.pixels=this._pixelsState.pixels,L.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(f.CENTER),this._pInst.image(L,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:f.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:f.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(L){return void 0!==this.retainedMode.geometry[L]}},{key:"viewport",value:function(L,se){this._viewport=[0,0,L,se],this.GL.viewport(0,0,L,se)}},{key:"resize",value:function(Fe,Ce){h.default.Renderer.prototype.resize.call(this,Fe,Ce),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var pe=(void 0!==(Fe=this._pixelsState).pixels&&Fe._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);Ce=!1,Fe=void 0;try{for(var We,tt=this.framebuffers[Symbol.iterator]();!(pe=(We=tt.next()).done);pe=!0)We.value._canvasSizeChanged()}catch(Oe){Ce=!0,Fe=Oe}finally{try{pe||null==tt.return||tt.return()}finally{if(Ce)throw Fe}}}},{key:"clear",value:function(){var L=(arguments.length<=0?void 0:arguments[0])||0,se=(arguments.length<=1?void 0:arguments[1])||0,pe=(arguments.length<=2?void 0:arguments[2])||0,Ce=(arguments.length<=3?void 0:arguments[3])||0,Fe=this.activeFramebuffer();Fe&&Fe.format===f.UNSIGNED_BYTE&&!Fe.antialias&&0===Ce&&(Ce=1e-10),this.GL.clearColor(L*Ce,se*Ce,pe*Ce,Ce),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(L,se,pe,Ce,Fe,We){16===arguments.length?h.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([L,se,0,0,pe,Ce,0,0,0,0,1,0,Fe,We,0,1])}},{key:"translate",value:function(L,se,pe){return L instanceof h.default.Vector&&(pe=L.z,se=L.y,L=L.x),this.uMVMatrix.translate([L,se,pe]),this}},{key:"scale",value:function(L,se,pe){return this.uMVMatrix.scale(L,se,pe),this}},{key:"rotate",value:function(L,se){return void 0===se?this.rotateZ(L):(h.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(L){return this.rotate(L,1,0,0),this}},{key:"rotateY",value:function(L){return this.rotate(L,0,1,0),this}},{key:"rotateZ",value:function(L){return this.rotate(L,0,0,1),this}},{key:"push",value:function(){var L=h.default.Renderer.prototype.push.apply(this),se=L.properties;return se.uMVMatrix=this.uMVMatrix.copy(),se.uPMatrix=this.uPMatrix.copy(),se._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),se.ambientLightColors=this.ambientLightColors.slice(),se.specularColors=this.specularColors.slice(),se.directionalLightDirections=this.directionalLightDirections.slice(),se.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),se.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),se.pointLightPositions=this.pointLightPositions.slice(),se.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),se.pointLightSpecularColors=this.pointLightSpecularColors.slice(),se.spotLightPositions=this.spotLightPositions.slice(),se.spotLightDirections=this.spotLightDirections.slice(),se.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),se.spotLightSpecularColors=this.spotLightSpecularColors.slice(),se.spotLightAngle=this.spotLightAngle.slice(),se.spotLightConc=this.spotLightConc.slice(),se.userFillShader=this.userFillShader,se.userStrokeShader=this.userStrokeShader,se.userPointShader=this.userPointShader,se.pointSize=this.pointSize,se.curStrokeWeight=this.curStrokeWeight,se.curStrokeColor=this.curStrokeColor,se.curFillColor=this.curFillColor,se.curAmbientColor=this.curAmbientColor,se.curSpecularColor=this.curSpecularColor,se.curEmissiveColor=this.curEmissiveColor,se._hasSetAmbient=this._hasSetAmbient,se._useSpecularMaterial=this._useSpecularMaterial,se._useEmissiveMaterial=this._useEmissiveMaterial,se._useShininess=this._useShininess,se._useMetalness=this._useMetalness,se.constantAttenuation=this.constantAttenuation,se.linearAttenuation=this.linearAttenuation,se.quadraticAttenuation=this.quadraticAttenuation,se._enableLighting=this._enableLighting,se._useNormalMaterial=this._useNormalMaterial,se._tex=this._tex,se.drawMode=this.drawMode,se._currentNormal=this._currentNormal,se.curBlendMode=this.curBlendMode,se.activeImageLight=this.activeImageLight,L}},{key:"pop",value:function(){var L;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var se=arguments.length,pe=new Array(se),Ce=0;Ce<se;Ce++)pe[Ce]=arguments[Ce];(L=l(M(K.prototype),"pop",this)).call.apply(L,[this].concat(pe)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var L=this.drawTarget();L._isClipApplied!==this._stencilTestOn&&(L._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var L=this.userStrokeShader;return L&&L.isStrokeShader()?L:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(L){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(Y)),this.uNMatrix.inverseTranspose(this.uMVMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",L),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var L=this.userFillShader;if(this._useNormalMaterial&&(!L||!L.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!L||!L.isLightShader())return this._getLightShader()}else if(this._tex){if(!L||!L.isTextureShader())return this._getLightShader()}else if(!L)return this._getImmediateModeShader();return L}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var L=this.userFillShader;if(this._enableLighting){if(!L||!L.isLightShader())return this._getLightShader()}else if(this._tex){if(!L||!L.isTextureShader())return this._getLightShader()}else if(!L)return this._getColorShader();return L}},{key:"_getImmediatePointShader",value:function(){var L=this.userPointShader;return L&&L.isPointShader()?L:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+W.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+W.phongFrag):new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+W.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+W.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+W.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+W.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+W.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+W.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+W.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+W.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+W.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+W.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+W.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+W.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===f.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+W.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+W.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(L,se){var pe="";return this.webglVersion===f.WEBGL2&&(pe+="#version 300 es\n#define WEBGL2\n"),"vert"===L?pe+="#define VERTEX_SHADER\n":"frag"===L&&(pe+="#define FRAGMENT_SHADER\n"),se&&(pe+="precision ".concat(se," float;\n")),pe}},{key:"_getEmptyTexture",value:function(){var L;return this._emptyTexture||((L=new h.default.Image(1,1)).set(0,0,255),this._emptyTexture=new h.default.Texture(this,L)),this._emptyTexture}},{key:"getTexture",value:function(L){L instanceof h.default.Framebuffer&&(L=L.color);var se=this.textures.get(L);return se||(se=new h.default.Texture(this,L),this.textures.set(L,se),se)}},{key:"getDiffusedTexture",value:function(L){var se,pe,Ce=this;return null!=this.diffusedTextures.get(L)?this.diffusedTextures.get(L):(se=Math.floor(L.height/L.width*200),pe=this._pInst.createFramebuffer({width:200,height:se,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(W.imageLightVert,W.imageLightDiffusedFrag)),pe.draw(function(){Ce._pInst.shader(Ce.diffusedShader),Ce.diffusedShader.setUniform("environmentMap",L),Ce._pInst.noStroke(),Ce._pInst.rectMode(f.CENTER),Ce._pInst.noLights(),Ce._pInst.rect(0,0,200,se)}),this.diffusedTextures.set(L,pe),pe)}},{key:"getSpecularTexture",value:function(L){var se=this;if(null!=this.specularTextures.get(L))return this.specularTextures.get(L);for(var pe,Ce=[],Fe=this._pInst.createFramebuffer({width:512,height:512,density:1}),We=Math.log(512)/Math.log(2),tt=(this.specularShader||(this.specularShader=this._pInst.createShader(W.imageLightVert,W.imageLightSpecularFrag)),512);1<=tt;tt/=2)!function(Oe){Fe.resize(Oe,Oe);var ke=1-Math.log(Oe)/Math.log(2)/We;Fe.draw(function(){se._pInst.shader(se.specularShader),se._pInst.clear(),se.specularShader.setUniform("environmentMap",L),se.specularShader.setUniform("roughness",ke),se._pInst.noStroke(),se._pInst.noLights(),se._pInst.plane(Oe,Oe)}),Ce.push(Fe.get().drawingContext.getImageData(0,0,Oe,Oe))}(tt);return Fe.remove(),pe=new i.MipmapTexture(this,Ce,{}),this.specularTextures.set(L,pe),pe}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(L){return new h.default.Framebuffer(this,L)}},{key:"_setStrokeUniforms",value:function(L){L.bindShader(),L.setUniform("uUseLineColor",this._useLineColor),L.setUniform("uMaterialColor",this.curStrokeColor),L.setUniform("uStrokeWeight",this.curStrokeWeight),L.setUniform("uStrokeCap",V[this.curStrokeCap]),L.setUniform("uStrokeJoin",k[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(L){var se=this,pe=(L.bindShader(),this.mixedSpecularColor=c(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(Ce,Fe){return se.curFillColor[Fe]*se._useMetalness+Ce*(1-se._useMetalness)})),L.setUniform("uUseVertexColor",this._useVertexColor),L.setUniform("uMaterialColor",this.curFillColor),L.setUniform("isTexture",!!this._tex),this._tex&&L.setUniform("uSampler",this._tex),L.setUniform("uTint",this._tint),L.setUniform("uHasSetAmbient",this._hasSetAmbient),L.setUniform("uAmbientMatColor",this.curAmbientColor),L.setUniform("uSpecularMatColor",this.mixedSpecularColor),L.setUniform("uEmissiveMatColor",this.curEmissiveColor),L.setUniform("uSpecular",this._useSpecularMaterial),L.setUniform("uEmissive",this._useEmissiveMaterial),L.setUniform("uShininess",this._useShininess),L.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(L),L.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);L.setUniform("uPointLightCount",pe),L.setUniform("uPointLightLocation",this.pointLightPositions),L.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),L.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),L.setUniform("uDirectionalLightCount",pe=this.directionalLightDiffuseColors.length/3),L.setUniform("uLightingDirection",this.directionalLightDirections),L.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),L.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),pe=this.ambientLightColors.length/3,this.mixedAmbientLight=c(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(Ce){return Math.max(0,Ce-=se._useMetalness)})),L.setUniform("uAmbientLightCount",pe),L.setUniform("uAmbientColor",this.mixedAmbientLight),L.setUniform("uSpotLightCount",pe=this.spotLightDiffuseColors.length/3),L.setUniform("uSpotLightAngle",this.spotLightAngle),L.setUniform("uSpotLightConc",this.spotLightConc),L.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),L.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),L.setUniform("uSpotLightLocation",this.spotLightPositions),L.setUniform("uSpotLightDirection",this.spotLightDirections),L.setUniform("uConstantAttenuation",this.constantAttenuation),L.setUniform("uLinearAttenuation",this.linearAttenuation),L.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),L.bindTextures()}},{key:"_setImageLightUniforms",value:function(L){var se;L.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(se=this.getDiffusedTexture(this.activeImageLight),L.setUniform("environmentMapDiffused",se),se=this.getSpecularTexture(this.activeImageLight),L.setUniform("levelOfDetail",20/this._useShininess*8),L.setUniform("environmentMapSpecular",se))}},{key:"_setPointUniforms",value:function(L){L.bindShader(),L.setUniform("uMaterialColor",this.curStrokeColor),L.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(L,se,pe,Ce,Fe){this.GL.bindBuffer(se=se||this.GL.ARRAY_BUFFER,L),void 0!==pe&&((L=pe)instanceof h.default.DataArray?L=pe.dataArray():L instanceof(Ce||Float32Array)||(L=new(Ce||Float32Array)(L)),this.GL.bufferData(se,L,Fe||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(L,se){return L.length===se.length&&L.every(function(pe,Ce){return pe===se[Ce]})}},{key:"_isTypedArray",value:function(L){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(se){return L instanceof se})}},{key:"_flatten",value:function(L){return L.flat()}},{key:"_vToNArray",value:function(L){return L.flatMap(function(se){return[se.x,se.y,se.z]})}},{key:"_bezierCoefficients",value:function(L){var se=L*L,pe=1-L,Ce=pe*pe;return[Ce*pe,3*Ce*L,3*pe*se,se*L]}},{key:"_quadraticCoefficients",value:function(L){var se=1-L;return[se*se,2*se*L,L*L]}},{key:"_bezierToCatmull",value:function(L){return[L[1],L[1]+(L[2]-L[0])/this._curveTightness,L[2]-(L[3]-L[1])/this._curveTightness,L[2]]}},{key:"_initTessy",value:function(){var L=new w.default.GluTesselator;return L.gluTessCallback(w.default.gluEnum.GLU_TESS_VERTEX_DATA,function(se,pe){var Ce=!0,Fe=!1,We=void 0;try{for(var tt,Oe=se[Symbol.iterator]();!(Ce=(tt=Oe.next()).done);Ce=!0)pe.push(tt.value)}catch(Be){Fe=!0,We=Be}finally{try{Ce||null==Oe.return||Oe.return()}finally{if(Fe)throw We}}}),L.gluTessCallback(w.default.gluEnum.GLU_TESS_BEGIN,function(se){se!==w.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(se))}),L.gluTessCallback(w.default.gluEnum.GLU_TESS_ERROR,function(se){console.log("error callback"),console.log("error number: ".concat(se))}),L.gluTessCallback(w.default.gluEnum.GLU_TESS_COMBINE,function(se,pe,Ce){for(var Fe=new Array(h.default.RendererGL.prototype.tessyVertexSize).fill(0),We=0;We<Ce.length;We++)for(var tt=0;tt<Fe.length;tt++)0!==Ce[We]&&pe[We]&&(Fe[tt]+=pe[We][tt]*Ce[We]);return Fe}),L.gluTessCallback(w.default.gluEnum.GLU_TESS_EDGE_FLAG,function(se){}),L.gluTessProperty(w.default.gluEnum.GLU_TESS_WINDING_RULE,w.default.windingRule.GLU_TESS_WINDING_NONZERO),L}},{key:"_triangulate",value:function(L){var se=L[0]?L[0][2]:void 0,pe=!0,Ce=!0,ke=!1,je=void 0;try{for(var Fe,We=L[Symbol.iterator]();!(Ce=(Fe=We.next()).done);Ce=!0)for(var tt=Fe.value,Oe=0;Oe<tt.length;Oe+=h.default.RendererGL.prototype.tessyVertexSize)if(tt[Oe+2]!==se){pe=!1;break}}catch(Jt){ke=!0,je=Jt}finally{try{Ce||null==We.return||We.return()}finally{if(ke)throw je}}this._tessy.gluTessNormal(0,0,pe?1:0);var Be=(this._tessy.gluTessBeginPolygon(ke=[]),!0),Qe=void(je=!1);try{for(var Ke,gt=L[Symbol.iterator]();!(Be=(Ke=gt.next()).done);Be=!0){var ft=Ke.value;this._tessy.gluTessBeginContour();for(var yt=0;yt<ft.length;yt+=h.default.RendererGL.prototype.tessyVertexSize){var Pt=ft.slice(yt,yt+h.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Pt,Pt)}this._tessy.gluTessEndContour()}}catch(Jt){je=!0,Qe=Jt}finally{try{Be||null==gt.return||gt.return()}finally{if(je)throw Qe}}return this._tessy.gluTessEndPolygon(),ke}}])&&u(ne.prototype,q),K}(h.default.Renderer),h.default.prototype._assert3d=function(q){if(!this._renderer.isP3D)throw new Error("".concat(q,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},h.default.RendererGL.prototype.tessyVertexSize=12,S.default=I=h.default.RendererGL},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(o,$,S){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(h,f){for(var x=0;x<f.length;x++){var w=f[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}v.default.Shader=function(){function h(i,a,d){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=i,this._vertSrc=a,this._fragSrc=d,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var f,x;return f=h,(x=[{key:"init",value:function(){if(0===this._glProgram){var i=this._renderer.GL;if(this._vertShader=i.createShader(i.VERTEX_SHADER),i.shaderSource(this._vertShader,this._vertSrc),i.compileShader(this._vertShader),!i.getShaderParameter(this._vertShader,i.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(i.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=i.createShader(i.FRAGMENT_SHADER),i.shaderSource(this._fragShader,this._fragSrc),i.compileShader(this._fragShader),!i.getShaderParameter(this._fragShader,i.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(i.getShaderInfoLog(this._fragShader))),null;this._glProgram=i.createProgram(),i.attachShader(this._glProgram,this._vertShader),i.attachShader(this._glProgram,this._fragShader),i.linkProgram(this._glProgram),i.getProgramParameter(this._glProgram,i.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(i.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(i){var a=new v.default.Shader(i._renderer,this._vertSrc,this._fragSrc);return a.ensureCompiledOnContext(i),a}},{key:"ensureCompiledOnContext",value:function(i){if(0!==this._glProgram&&this._renderer!==i._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=i._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var i=this._renderer.GL,a=i.getProgramParameter(this._glProgram,i.ACTIVE_ATTRIBUTES),d=0;d<a;++d){var c=i.getActiveAttrib(this._glProgram,d),u=c.name,l=i.getAttribLocation(this._glProgram,u),m={};m.name=u,m.location=l,m.index=d,m.type=c.type,m.size=c.size,this.attributes[u]=m}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var i=this._renderer.GL,a=i.getProgramParameter(this._glProgram,i.ACTIVE_UNIFORMS),d=0,c=0;c<a;++c){var u=i.getActiveUniform(this._glProgram,c),l={},m=(l.location=i.getUniformLocation(this._glProgram,u.name),l.size=u.size,u.name);1<u.size&&(m=m.substring(0,m.indexOf("[0]"))),l.name=m,l.type=u.type,l._cachedData=void 0,l.type===i.SAMPLER_2D&&(l.samplerIndex=d,d++,this.samplers.push(l)),l.isArray=1<u.size||l.type===i.FLOAT_MAT3||l.type===i.FLOAT_MAT4||l.type===i.FLOAT_VEC2||l.type===i.FLOAT_VEC3||l.type===i.FLOAT_VEC4||l.type===i.INT_VEC2||l.type===i.INT_VEC4||l.type===i.INT_VEC3,this.uniforms[m]=l}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var i=this._renderer.GL,a=!0,d=!1,c=void 0;try{for(var u,l=this.samplers[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var m=u.value,p=m.texture;void 0===p&&(p=this._renderer._getEmptyTexture()),i.activeTexture(i.TEXTURE0+m.samplerIndex),p.bindTexture(),p.update(),i.uniform1i(m.location,m.samplerIndex)}}catch(b){d=!0,c=b}finally{try{a||null==l.return||l.return()}finally{if(d)throw c}}}},{key:"updateTextures",value:function(){var i=!0,a=!1,d=void 0;try{for(var c,u=this.samplers[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value.texture;l&&l.update()}}catch(m){a=!0,d=m}finally{try{i||null==u.return||u.return()}finally{if(a)throw d}}}},{key:"unbindTextures",value:function(){var i=!0,a=!1,d=void 0;try{for(var c,u=this.samplers[Symbol.iterator]();!(i=(c=u.next()).done);i=!0)this.setUniform(c.value.name,this._renderer._getEmptyTexture())}catch(m){a=!0,d=m}finally{try{i||null==u.return||u.return()}finally{if(a)throw d}}}},{key:"_setMatrixUniforms",value:function(){var i=this._renderer._curCamera.cameraMatrix,a=this._renderer.uPMatrix,d=this._renderer.uMVMatrix,c=d.copy();c.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",i.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",c.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(i,a){var d=this.uniforms[i];if(d){var c=this._renderer.GL;if(d.isArray){if(d._cachedData&&this._renderer._arraysEqual(d._cachedData,a))return;d._cachedData=a.slice(0)}else{if(d._cachedData&&d._cachedData===a)return;d._cachedData=Array.isArray(a)?a.slice(0):a}var u=d.location;switch(this.useProgram(),d.type){case c.BOOL:c.uniform1i(u,!0===a?1:0);break;case c.INT:1<d.size?a.length&&c.uniform1iv(u,a):c.uniform1i(u,a);break;case c.FLOAT:1<d.size?a.length&&c.uniform1fv(u,a):c.uniform1f(u,a);break;case c.FLOAT_MAT3:c.uniformMatrix3fv(u,!1,a);break;case c.FLOAT_MAT4:c.uniformMatrix4fv(u,!1,a);break;case c.FLOAT_VEC2:1<d.size?a.length&&c.uniform2fv(u,a):c.uniform2f(u,a[0],a[1]);break;case c.FLOAT_VEC3:1<d.size?a.length&&c.uniform3fv(u,a):c.uniform3f(u,a[0],a[1],a[2]);break;case c.FLOAT_VEC4:1<d.size?a.length&&c.uniform4fv(u,a):c.uniform4f(u,a[0],a[1],a[2],a[3]);break;case c.INT_VEC2:1<d.size?a.length&&c.uniform2iv(u,a):c.uniform2i(u,a[0],a[1]);break;case c.INT_VEC3:1<d.size?a.length&&c.uniform3iv(u,a):c.uniform3i(u,a[0],a[1],a[2]);break;case c.INT_VEC4:1<d.size?a.length&&c.uniform4iv(u,a):c.uniform4i(u,a[0],a[1],a[2],a[3]);break;case c.SAMPLER_2D:c.activeTexture(c.TEXTURE0+d.samplerIndex),d.texture=a instanceof v.default.Texture?a:this._renderer.getTexture(a),c.uniform1i(u,d.samplerIndex),d.texture.src.gifProperties&&d.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(i){return void 0!==i})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(i,a,d,c,u,l){var m;return i&&-1!==(i=i.location)&&(m=this._renderer.GL,this._renderer.registerEnabled.has(i)||(m.enableVertexAttribArray(i),this._renderer.registerEnabled.add(i)),this._renderer.GL.vertexAttribPointer(i,a,d||m.FLOAT,c||!1,u||0,l||0)),this}},{key:"disableRemainingAttributes",value:function(){var i=this,a=!0,d=!1,c=void 0;try{for(var u,l=this._renderer.registerEnabled.values()[Symbol.iterator]();!(a=(u=l.next()).done);a=!0)!function(){var m=u.value;Object.keys(i.attributes).some(function(p){return i.attributes[p].location===m})||(i._renderer.GL.disableVertexAttribArray(m),i._renderer.registerEnabled.delete(m))}()}catch(m){d=!0,c=m}finally{try{a||null==l.return||l.return()}finally{if(d)throw c}}}}])&&_(f.prototype,x),h}(),S.default=o=v.default.Shader},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(o,$,S){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(b){return v(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":v(b)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.checkWebGLCapabilities=m,S.default=S.MipmapTexture=void 0;var h=(l=o("../core/main"))&&l.__esModule?l:{default:l},f=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var b=x();if(b&&b.has(p))return b.get(p);var M,F={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in p){var P;Object.prototype.hasOwnProperty.call(p,M)&&((P=N?Object.getOwnPropertyDescriptor(p,M):null)&&(P.get||P.set)?Object.defineProperty(F,M,P):F[M]=p[M])}return F.default=p,b&&b.set(p,F),F}(o("../core/constants"));function x(){var p;return"function"!=typeof WeakMap?null:(x=function(){return p},p=new WeakMap)}function w(p,b){return(w=Object.setPrototypeOf||function(M,F){return M.__proto__=F,M})(p,b)}function a(p){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}function d(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function c(p,b){for(var M=0;M<b.length;M++){var F=b[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(p,F.key,F)}}function u(p,b,M){b&&c(p.prototype,b),M&&c(p,M)}h.default.Texture=function(){function p(j,M,P){d(this,p),this._renderer=j;var N=this._renderer.GL;return P=P||{},this.src=M,this.glTex=void 0,this.glTarget=N.TEXTURE_2D,this.glFormat=P.format||N.RGBA,this.mipmaps=!1,this.glMinFilter=P.minFilter||N.LINEAR,this.glMagFilter=P.magFilter||N.LINEAR,this.glWrapS=P.wrapS||N.CLAMP_TO_EDGE,this.glWrapT=P.wrapT||N.CLAMP_TO_EDGE,this.glDataType=P.dataType||N.UNSIGNED_BYTE,P=m(j),this.glFormat!==N.HALF_FLOAT||P.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=N.FLOAT),this.glFormat!==N.HALF_FLOAT||this.glMinFilter!==N.LINEAR&&this.glMagFilter!==N.LINEAR||P.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===N.LINEAR&&(this.glMinFilter=N.NEAREST),this.glMagFilter===N.LINEAR&&(this.glMagFilter=N.NEAREST)),this.glFormat!==N.FLOAT||P.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=N.UNSIGNED_BYTE),this.glFormat!==N.FLOAT||this.glMinFilter!==N.LINEAR&&this.glMagFilter!==N.LINEAR||P.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===N.LINEAR&&(this.glMinFilter=N.NEAREST),this.glMagFilter===N.LINEAR&&(this.glMagFilter=N.NEAREST)),this.isSrcMediaElement=void 0!==h.default.MediaElement&&M instanceof h.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==h.default.Element&&M instanceof h.default.Element&&!(M instanceof h.default.Graphics)&&!(M instanceof h.default.Renderer),this.isSrcP5Image=M instanceof h.default.Image,this.isSrcP5Graphics=M instanceof h.default.Graphics,this.isSrcP5Renderer=M instanceof h.default.Renderer,this.isImageData=typeof ImageData<"u"&&M instanceof ImageData,this.isFramebufferTexture=M instanceof h.default.FramebufferTexture,j=this._getTextureDataFromSource(),this.width=j.width,this.height=j.height,this.init(j),this}return u(p,[{key:"_getTextureDataFromSource",value:function(){var b;return this.isFramebufferTexture?b=this.src.rawTexture():this.isSrcP5Image?b=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?b=this.src.elt:this.isImageData&&(b=this.src),b}},{key:"init",value:function(b){var M,F=this._renderer.GL;this.isFramebufferTexture||(this.glTex=F.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,this.glMagFilter),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(M=new Uint8Array([1,1,1,1]),F.texImage2D(this.glTarget,0,F.RGBA,1,1,0,this.glFormat,this.glDataType,M)):F.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b))}},{key:"update",value:function(){var b,M,F,N=this.src;return 0!==N.width&&0!==N.height&&!this.isFramebufferTexture&&(b=this._getTextureDataFromSource(),M=!1,F=this._renderer.GL,b.width!==this.width||b.height!==this.height?(M=!0,this.width=b.width||N.width,this.height=b.height||N.height,this.isSrcP5Image?N.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&N.setModified(!0)):this.isSrcP5Image?N.isModified()&&N.setModified(!(M=!0)):this.isSrcMediaElement?N.isModified()?N.setModified(!(M=!0)):N.loadedmetadata&&this._videoPrevUpdateTime!==N.time()&&(this._videoPrevUpdateTime=N.time(),M=!0):this.isImageData?N._dirty&&(M=!(N._dirty=!1)):M=!0,M&&(this.bindTexture(),F.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b)),M)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(b,M){var F=this._renderer.GL;this.glMinFilter=this.glFilter(b),this.glMagFilter=this.glFilter(M),this.bindTexture(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,this.glMinFilter),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(b){var M=this._renderer.GL;return b===f.NEAREST?M.NEAREST:M.LINEAR}},{key:"setWrapMode",value:function(b,M){function F(V){return 0==(V&V-1)}var N=this._renderer.GL,j=(j=this._getTextureDataFromSource()).naturalWidth&&j.naturalHeight?(P=j.naturalWidth,j.naturalHeight):(P=this.width,this.height),P=F(P);j=F(j),b===f.REPEAT?this._renderer.webglVersion===f.WEBGL2||P&&j?this.glWrapS=N.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=N.CLAMP_TO_EDGE):b===f.MIRROR?this._renderer.webglVersion===f.WEBGL2||P&&j?this.glWrapS=N.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=N.CLAMP_TO_EDGE):this.glWrapS=N.CLAMP_TO_EDGE,M===f.REPEAT?this._renderer.webglVersion===f.WEBGL2||P&&j?this.glWrapT=N.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=N.CLAMP_TO_EDGE):M===f.MIRROR?this._renderer.webglVersion===f.WEBGL2||P&&j?this.glWrapT=N.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=N.CLAMP_TO_EDGE):this.glWrapT=N.CLAMP_TO_EDGE,this.bindTexture(),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,this.glWrapS),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p}();var l=function(p){var b=F;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&w(b,p);var M=function i(p){return function(){var b,M=a(p);if(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=a(this).constructor,Reflect.construct(M,arguments,b)):M.apply(this,arguments),M=this,!b||"object"!==_(b)&&"function"!=typeof b){if(void 0!==M)return M;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}(F);function F(N,P,j){return d(this,F),P=(N=M.call(this,N,P,j))._renderer.GL,N.glMinFilter===P.LINEAR&&(N.glMinFilter=P.LINEAR_MIPMAP_LINEAR),N}return u(F,[{key:"glFilter",value:function(N){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(N){var P=this._renderer.GL;this.glTex=P.createTexture(),this.bindTexture();for(var j=0;j<N.length;j++)P.texImage2D(this.glTarget,j,this.glFormat,this.glFormat,this.glDataType,N[j]);this.glMinFilter=P.LINEAR_MIPMAP_LINEAR,P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,this.glMagFilter),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),F}(h.default.Texture);function m(N){var b=N.GL,M=(N=N.webglVersion)===f.WEBGL2?b.getExtension("EXT_color_buffer_float")&&b.getExtension("EXT_float_blend"):b.getExtension("OES_texture_float");return{float:M,floatLinear:M&&b.getExtension("OES_texture_float_linear"),halfFloat:N=b.getExtension(N===f.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:N&&b.getExtension("OES_texture_half_float_linear")}}S.MipmapTexture=l,S.default=o=h.default.Texture},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(o,$,S){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(b){return v(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":v(b)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var h,f=(h=o("../core/main"))&&h.__esModule?h:{default:h},x=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var b=w();if(b&&b.has(p))return b.get(p);var M,F={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in p){var P;Object.prototype.hasOwnProperty.call(p,M)&&((P=N?Object.getOwnPropertyDescriptor(p,M):null)&&(P.get||P.set)?Object.defineProperty(F,M,P):F[M]=p[M])}return F.default=p,b&&b.set(p,F),F}(o("../core/constants"));function w(){var p;return"function"!=typeof WeakMap?null:(w=function(){return p},p=new WeakMap)}function i(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function a(p,b){for(var M=0;M<b.length;M++){var F=b[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(p,F.key,F)}}function d(p,b,M){b&&a(p.prototype,b),M&&a(p,M)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),f.default.RendererGL.prototype._applyTextProperties=function(){},f.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var c=function(){function p(b,M){i(this,p),this.width=b,this.height=M,this.infos=[]}return d(p,[{key:"findImage",value:function(b){var M,F,N=this.width*this.height;if(N<b)throw new Error("font is too complex to render in 3D");for(var P=this.infos.length-1;0<=P;--P){var j=this.infos[P];if(j.index+b<N){F=(M=j).imageData;break}}if(!M){try{F=new ImageData(this.width,this.height)}catch{var V=document.getElementsByTagName("canvas")[0],k=!V,E=(V||((V=document.createElement("canvas")).style.display="none",document.body.appendChild(V)),V.getContext("2d"));E&&(F=E.createImageData(this.width,this.height)),k&&document.body.removeChild(V)}this.infos.push(M={index:0,imageData:F})}return E=M.index,M.index+=b,F._dirty=!0,{imageData:F,index:E}}}]),p}();function u(j,b,M,F,N){var P=j.imageData.data;j=4*j.index++,P[j++]=b,P[j++]=M,P[j++]=F,P[+j]=N}var l=Math.sqrt(3),m=function(){function p(b){i(this,p),this.font=b,this.strokeImageInfos=new c(64,64),this.colDimImageInfos=new c(64,64),this.rowDimImageInfos=new c(64,64),this.colCellImageInfos=new c(64,64),this.rowCellImageInfos=new c(64,64),this.glyphInfos={}}return d(p,[{key:"getGlyphInfo",value:function(b){var M=this.glyphInfos[b.index];if(!M){var F=b.getBoundingBox(),N=F.x1,P=F.y1,j=F.x2-N,V=F.y2-P,k=b.path.commands;if(0==j||0==V||!k.length)return this.glyphInfos[b.index]={};for(var E=[],I=[],W=[],Y=8;0<=Y;--Y)W.push([]);for(Y=8;0<=Y;--Y)I.push([]);var z,te,J,q,ne=function(){function sn(Yt,kt,zt,vt){i(this,sn),this.p0=Yt,this.c0=kt,this.c1=zt,this.p1=vt}return d(sn,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return f.default.Vector.sub(f.default.Vector.sub(this.p1,this.p0),f.default.Vector.mult(f.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ht){var kt=f.default.Vector.lerp(this.p0,this.c0,Ht),vt=f.default.Vector.lerp(this.c0,this.c1,Ht),zt=f.default.Vector.lerp(kt,vt,Ht);return this.c1=f.default.Vector.lerp(this.c1,this.p1,Ht),this.c0=f.default.Vector.lerp(vt,this.c1,Ht),vt=f.default.Vector.lerp(zt,this.c0,Ht),Ht=new sn(this.p0,kt,zt,vt),this.p0=vt,Ht}},{key:"splitInflections",value:function(){var Yt=f.default.Vector.sub(this.c0,this.p0),kt=f.default.Vector.sub(f.default.Vector.sub(this.c1,this.c0),Yt),zt=f.default.Vector.sub(f.default.Vector.sub(f.default.Vector.sub(this.p1,this.c1),Yt),f.default.Vector.mult(kt,2)),vt=[],Ht=kt.x*zt.y-kt.y*zt.x;return 0!==Ht&&0<=(Yt=(zt=Yt.x*zt.y-Yt.y*zt.x)*zt-4*Ht*(Yt.x*kt.y-Yt.y*kt.x))&&(Ht<0&&(Ht=-Ht,zt=-zt),Yt=(-zt+(kt=Math.sqrt(Yt)))/(2*Ht),0<(zt=(-zt-kt)/(2*Ht))&&zt<1&&(vt.push(this.split(zt)),Yt=1-(1-Yt)/(1-zt)),0<Yt&&Yt<1&&vt.push(this.split(Yt))),vt.push(this),vt}}]),sn}(),fe=!0,De=!1,K=void 0;try{for(var L,se=k[Symbol.iterator]();!(fe=(L=se.next()).done);fe=!0){var pe=L.value,Ce=(pe.x-N)/j,Fe=(pe.y-P)/V;if(!Ft(z,te,Ce,Fe)){switch(pe.type){case"M":J=Ce,q=Fe;break;case"L":Jt(z,te,Ce,Fe);break;case"Q":var We=(pe.x1-N)/j,tt=(pe.y1-P)/V;yt([z,Ce,We],[te,Fe,tt],{x:z,y:te,cx:We,cy:tt});break;case"Z":Ft(z,te,J,q)?E.push({x:z,y:te}):(Jt(z,te,J,q),E.push({x:J,y:q}));break;case"C":for(var Oe=function(Ge,Rt,Gt,zt,vt,Ht,wt,Re){Ge=new ne(new f.default.Vector(Ge,Rt),new f.default.Vector(Gt,zt),new f.default.Vector(vt,Ht),new f.default.Vector(wt,Re)).splitInflections();var Te=[],et=30/l,Et=!0;Rt=!1,Gt=void 0;try{for(var ln,_n=Ge[Symbol.iterator]();!(Et=(ln=_n.next()).done);Et=!0){for(var wn=ln.value,Dt=[],xt=void 0;!(.125<=(xt=et/wn.quadError()));){var ot=Math.pow(xt,.3333333333333333),Ye=wn.split(ot),ut=wn.split(1-ot/(1-ot));Te.push(Ye),Dt.push(wn),wn=ut}xt<1&&Te.push(wn.split(.5)),Te.push(wn),Array.prototype.push.apply(Te,Dt.reverse())}}catch(Ct){Rt=!0,Gt=Ct}finally{try{Et||null==_n.return||_n.return()}finally{if(Rt)throw Gt}}return Te}(z,te,(pe.x1-N)/j,(pe.y1-P)/V,(pe.x2-N)/j,(pe.y2-P)/V,Ce,Fe),ke=0;ke<Oe.length;ke++){var Be=Oe[ke].toQuadratic();yt([Be.x,Be.x1,Be.cx],[Be.y,Be.y1,Be.cy],Be)}break;default:throw new Error("unknown command type: ".concat(pe.type))}z=Ce,te=Fe}}}catch(sn){De=!0,K=sn}finally{try{fe||null==se.return||se.return()}finally{if(De)throw K}}for(var je=E.length,Qe=this.strokeImageInfos.findImage(je),Ke=Qe.index,gt=0;gt<je;++gt){var ft=E[gt];u(Qe,Pt(ft.x),Pt(ft.y),Pt(ft.cx),Pt(ft.cy))}(M=this.glyphInfos[b.index]={glyph:b,uGlyphRect:[F.x1,-F.y1,F.x2,-F.y2],strokeImageInfo:Qe,strokes:E,colInfo:un(W,this.colDimImageInfos,this.colCellImageInfos),rowInfo:un(I,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[M.colInfo.dimOffset,M.rowInfo.dimOffset]}return M;function yt(sn,Yt,kt){var zt=E.length;function vt(Te,et,Et){for(var Rt=Te.length;0<Rt--;){var Gt=Te[Rt];Gt<et&&(et=Gt),Et<Gt&&(Et=Gt)}return{min:et,max:Et}}E.push(kt),kt=vt(sn,1,0),sn=Math.max(Math.floor(9*kt.min-.5),0);for(var Ht=Math.min(Math.ceil(9*kt.max+.5),9),wt=sn;wt<Ht;++wt)W[wt].push(zt);kt=vt(Yt,1,0),sn=Math.max(Math.floor(9*kt.min-.5),0);for(var Re=Math.min(Math.ceil(9*kt.max+.5),9),Ge=sn;Ge<Re;++Ge)I[Ge].push(zt)}function Pt(sn){return(sn=255*sn)<0?0:255<sn?255:sn}function Jt(sn,Yt,kt,zt){yt([sn,kt],[Yt,zt],{x:sn,y:Yt,cx:(sn+kt)/2,cy:(Yt+zt)/2})}function Ft(sn,Yt,kt,zt){return Math.abs(kt-sn)<1e-5&&Math.abs(zt-Yt)<1e-5}function un(sn,Yt,kt){for(var zt=sn.length,vt=Yt.findImage(zt),Ht=(Yt=vt.index,0),wt=0;wt<zt;++wt)Ht+=sn[wt].length;for(var Re=kt.findImage(Ht),Ge=0;Ge<zt;++Ge){var Te=sn[Ge],et=Te.length,Et=Re.index;u(vt,Et>>7,127&Et,et>>7,127&et);for(var Rt=0;Rt<et;++Rt){var Gt=Te[Rt]+Ke;u(Re,Gt>>7,127&Gt,0,0)}}return{cellImageInfo:Re,dimOffset:Yt,dimImageInfo:vt}}}}]),p}();f.default.RendererGL.prototype._renderText=function(p,b,M,F,N){if(this._textFont&&"string"!=typeof this._textFont){if(!(N<=F)&&this._doFill){if(this._isOpenType()){p.push(),N=this._doStroke;var P=this.drawMode,j=(this._doStroke=!1,this.drawMode=x.TEXTURE,this._textFont.font),V=(V=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(j)),k=(M=this._textFont._handleAlignment(this,b,M,F),F=this._textSize/j.unitsPerEm,this.translate(M.x,M.y,0),this.scale(F,F,1),this.GL),E=(M=!this._defaultFontShader,this._getFontShader()),I=(E.init(),E.bindShader(),M&&(E.setUniform("uGridImageSize",[64,64]),E.setUniform("uCellsImageSize",[64,64]),E.setUniform("uStrokeImageSize",[64,64]),E.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),W=(I||((F=this._textGeom=new f.default.Geometry(1,1,function(){for(var ke=0;ke<=1;ke++)for(var Be=0;Be<=1;Be++)this.vertices.push(new f.default.Vector(Be,ke,0)),this.uvs.push(Be,ke)})).computeFaces().computeNormals(),I=this.createBuffers("glyph",F)),!0);M=!1,F=void 0;try{for(var Y,z=this.retainedMode.buffers.text[Symbol.iterator]();!(W=(Y=z.next()).done);W=!0)Y.value._prepareBuffer(I,E)}catch(ke){M=!0,F=ke}finally{try{W||null==z.return||z.return()}finally{if(M)throw F}}this._bindBuffer(I.indexBuffer,k.ELEMENT_ARRAY_BUFFER),E.setUniform("uMaterialColor",this.curFillColor),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var te=0,J=null,q=j.stringToGlyphs(b),ne=!0,fe=!1,De=void 0;try{for(var K,L=q[Symbol.iterator]();!(ne=(K=L.next()).done);ne=!0){var se,pe,Ce=K.value,Fe=(J&&(te+=j.getKerningValue(J,Ce)),V.getGlyphInfo(Ce));Fe.uGlyphRect&&(se=Fe.rowInfo,pe=Fe.colInfo,E.setUniform("uSamplerStrokes",Fe.strokeImageInfo.imageData),E.setUniform("uSamplerRowStrokes",se.cellImageInfo.imageData),E.setUniform("uSamplerRows",se.dimImageInfo.imageData),E.setUniform("uSamplerColStrokes",pe.cellImageInfo.imageData),E.setUniform("uSamplerCols",pe.dimImageInfo.imageData),E.setUniform("uGridOffset",Fe.uGridOffset),E.setUniform("uGlyphRect",Fe.uGlyphRect),E.setUniform("uGlyphOffset",te),E.bindTextures(),k.drawElements(k.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),te+=Ce.advanceWidth,J=Ce}}catch(ke){fe=!0,De=ke}finally{try{ne||null==L.return||L.return()}finally{if(fe)throw De}}}finally{E.unbindShader(),this._doStroke=N,this.drawMode=P,k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)},4972:(pn,jt,ge)=>{function y(i){this.mode=rt.MODE_8BIT_BYTE,this.data=i,this.parsedData=[];for(var a=0,d=this.data.length;a<d;a++){var c=[],u=this.data.charCodeAt(a);u>65536?(c[0]=240|(1835008&u)>>>18,c[1]=128|(258048&u)>>>12,c[2]=128|(4032&u)>>>6,c[3]=128|63&u):u>2048?(c[0]=224|(61440&u)>>>12,c[1]=128|(4032&u)>>>6,c[2]=128|63&u):u>128?(c[0]=192|(1984&u)>>>6,c[1]=128|63&u):c[0]=u,this.parsedData.push(c)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function xe(i,a){this.typeNumber=i,this.errorCorrectLevel=a,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}y.prototype={getLength:function(i){return this.parsedData.length},write:function(i){for(var a=0,d=this.parsedData.length;a<d;a++)i.put(this.parsedData[a],8)}},xe.prototype={addData:function(i){var a=new y(i);this.dataList.push(a),this.dataCache=null},isDark:function(i,a){if(i<0||this.moduleCount<=i||a<0||this.moduleCount<=a)throw new Error(i+","+a);return this.modules[i][a]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(i,a){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++)this.modules[d][c]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(i,a),this.typeNumber>=7&&this.setupTypeNumber(i),null==this.dataCache&&(this.dataCache=xe.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,a)},setupPositionProbePattern:function(i,a){for(var d=-1;d<=7;d++)if(!(i+d<=-1||this.moduleCount<=i+d))for(var c=-1;c<=7;c++)a+c<=-1||this.moduleCount<=a+c||(this.modules[i+d][a+c]=0<=d&&d<=6&&(0==c||6==c)||0<=c&&c<=6&&(0==d||6==d)||2<=d&&d<=4&&2<=c&&c<=4)},getBestMaskPattern:function(){for(var i=0,a=0,d=0;d<8;d++){this.makeImpl(!0,d);var c=$.getLostPoint(this);(0==d||i>c)&&(i=c,a=d)}return a},createMovieClip:function(i,a,d){var c=i.createEmptyMovieClip(a,d);this.make();for(var l=0;l<this.modules.length;l++)for(var m=1*l,p=0;p<this.modules[l].length;p++){var b=1*p;this.modules[l][p]&&(c.beginFill(0,100),c.moveTo(b,m),c.lineTo(b+1,m),c.lineTo(b+1,m+1),c.lineTo(b,m+1),c.endFill())}return c},setupTimingPattern:function(){for(var i=8;i<this.moduleCount-8;i++)null==this.modules[i][6]&&(this.modules[i][6]=i%2==0);for(var a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=a%2==0)},setupPositionAdjustPattern:function(){for(var i=$.getPatternPosition(this.typeNumber),a=0;a<i.length;a++)for(var d=0;d<i.length;d++){var c=i[a],u=i[d];if(null==this.modules[c][u])for(var l=-2;l<=2;l++)for(var m=-2;m<=2;m++)this.modules[c+l][u+m]=-2==l||2==l||-2==m||2==m||0==l&&0==m}},setupTypeNumber:function(i){for(var a=$.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var c=!i&&1==(a>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=c}for(d=0;d<18;d++)c=!i&&1==(a>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=c},setupTypeInfo:function(i,a){for(var c=$.getBCHTypeInfo(this.errorCorrectLevel<<3|a),u=0;u<15;u++){var l=!i&&1==(c>>u&1);u<6?this.modules[u][8]=l:u<8?this.modules[u+1][8]=l:this.modules[this.moduleCount-15+u][8]=l}for(u=0;u<15;u++)l=!i&&1==(c>>u&1),u<8?this.modules[8][this.moduleCount-u-1]=l:u<9?this.modules[8][15-u-1+1]=l:this.modules[8][15-u-1]=l;this.modules[this.moduleCount-8][8]=!i},mapData:function(i,a){for(var d=-1,c=this.moduleCount-1,u=7,l=0,m=this.moduleCount-1;m>0;m-=2)for(6==m&&m--;;){for(var p=0;p<2;p++)if(null==this.modules[c][m-p]){var b=!1;l<i.length&&(b=1==(i[l]>>>u&1)),$.getMask(a,c,m-p)&&(b=!b),this.modules[c][m-p]=b,-1==--u&&(l++,u=7)}if((c+=d)<0||this.moduleCount<=c){c-=d,d=-d;break}}}},xe.PAD0=236,xe.PAD1=17,xe.createData=function(i,a,d){for(var c=h.getRSBlocks(i,a),u=new f,l=0;l<d.length;l++){var m=d[l];u.put(m.mode,4),u.put(m.getLength(),$.getLengthInBits(m.mode,i)),m.write(u)}var p=0;for(l=0;l<c.length;l++)p+=c[l].dataCount;if(u.getLengthInBits()>8*p)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+8*p+")");for(u.getLengthInBits()+4<=8*p&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=8*p||(u.put(xe.PAD0,8),u.getLengthInBits()>=8*p));)u.put(xe.PAD1,8);return xe.createBytes(u,c)},xe.createBytes=function(i,a){for(var d=0,c=0,u=0,l=new Array(a.length),m=new Array(a.length),p=0;p<a.length;p++){var b=a[p].dataCount,M=a[p].totalCount-b;c=Math.max(c,b),u=Math.max(u,M),l[p]=new Array(b);for(var F=0;F<l[p].length;F++)l[p][F]=255&i.buffer[F+d];d+=b;var N=$.getErrorCorrectPolynomial(M),j=new _(l[p],N.getLength()-1).mod(N);for(m[p]=new Array(N.getLength()-1),F=0;F<m[p].length;F++){var V=F+j.getLength()-m[p].length;m[p][F]=V>=0?j.get(V):0}}var k=0;for(F=0;F<a.length;F++)k+=a[F].totalCount;var E=new Array(k),I=0;for(F=0;F<c;F++)for(p=0;p<a.length;p++)F<l[p].length&&(E[I++]=l[p][F]);for(F=0;F<u;F++)for(p=0;p<a.length;p++)F<m[p].length&&(E[I++]=m[p][F]);return E};for(var rt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},_e={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},$={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var a=i<<10;$.getBCHDigit(a)-$.getBCHDigit($.G15)>=0;)a^=$.G15<<$.getBCHDigit(a)-$.getBCHDigit($.G15);return(i<<10|a)^$.G15_MASK},getBCHTypeNumber:function(i){for(var a=i<<12;$.getBCHDigit(a)-$.getBCHDigit($.G18)>=0;)a^=$.G18<<$.getBCHDigit(a)-$.getBCHDigit($.G18);return i<<12|a},getBCHDigit:function(i){for(var a=0;0!=i;)a++,i>>>=1;return a},getPatternPosition:function(i){return $.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,a,d){switch(i){case o.PATTERN000:return(a+d)%2==0;case o.PATTERN001:return a%2==0;case o.PATTERN010:return d%3==0;case o.PATTERN011:return(a+d)%3==0;case o.PATTERN100:return(Math.floor(a/2)+Math.floor(d/3))%2==0;case o.PATTERN101:return a*d%2+a*d%3==0;case o.PATTERN110:return(a*d%2+a*d%3)%2==0;case o.PATTERN111:return(a*d%3+(a+d)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var a=new _([1],0),d=0;d<i;d++)a=a.multiply(new _([1,S.gexp(d)],0));return a},getLengthInBits:function(i,a){if(1<=a&&a<10)switch(i){case rt.MODE_NUMBER:return 10;case rt.MODE_ALPHA_NUM:return 9;case rt.MODE_8BIT_BYTE:case rt.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(a<27)switch(i){case rt.MODE_NUMBER:return 12;case rt.MODE_ALPHA_NUM:return 11;case rt.MODE_8BIT_BYTE:return 16;case rt.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else{if(!(a<41))throw new Error("type:"+a);switch(i){case rt.MODE_NUMBER:return 14;case rt.MODE_ALPHA_NUM:return 13;case rt.MODE_8BIT_BYTE:return 16;case rt.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}}},getLostPoint:function(i){for(var a=i.getModuleCount(),d=0,c=0;c<a;c++)for(var u=0;u<a;u++){for(var l=0,m=i.isDark(c,u),p=-1;p<=1;p++)if(!(c+p<0||a<=c+p))for(var b=-1;b<=1;b++)u+b<0||a<=u+b||0==p&&0==b||m==i.isDark(c+p,u+b)&&l++;l>5&&(d+=3+l-5)}for(c=0;c<a-1;c++)for(u=0;u<a-1;u++){var M=0;i.isDark(c,u)&&M++,i.isDark(c+1,u)&&M++,i.isDark(c,u+1)&&M++,i.isDark(c+1,u+1)&&M++,(0==M||4==M)&&(d+=3)}for(c=0;c<a;c++)for(u=0;u<a-6;u++)i.isDark(c,u)&&!i.isDark(c,u+1)&&i.isDark(c,u+2)&&i.isDark(c,u+3)&&i.isDark(c,u+4)&&!i.isDark(c,u+5)&&i.isDark(c,u+6)&&(d+=40);for(u=0;u<a;u++)for(c=0;c<a-6;c++)i.isDark(c,u)&&!i.isDark(c+1,u)&&i.isDark(c+2,u)&&i.isDark(c+3,u)&&i.isDark(c+4,u)&&!i.isDark(c+5,u)&&i.isDark(c+6,u)&&(d+=40);var F=0;for(u=0;u<a;u++)for(c=0;c<a;c++)i.isDark(c,u)&&F++;return d+Math.abs(100*F/a/a-50)/5*10}},S={glog:function(i){if(i<1)throw new Error("glog("+i+")");return S.LOG_TABLE[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return S.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)S.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)S.EXP_TABLE[v]=S.EXP_TABLE[v-4]^S.EXP_TABLE[v-5]^S.EXP_TABLE[v-6]^S.EXP_TABLE[v-8];for(v=0;v<255;v++)S.LOG_TABLE[S.EXP_TABLE[v]]=v;function _(i,a){if(null==i.length)throw new Error(i.length+"/"+a);for(var d=0;d<i.length&&0==i[d];)d++;this.num=new Array(i.length-d+a);for(var c=0;c<i.length-d;c++)this.num[c]=i[c+d]}function h(i,a){this.totalCount=i,this.dataCount=a}function f(){this.buffer=[],this.length=0}_.prototype={get:function(i){return this.num[i]},getLength:function(){return this.num.length},multiply:function(i){for(var a=new Array(this.getLength()+i.getLength()-1),d=0;d<this.getLength();d++)for(var c=0;c<i.getLength();c++)a[d+c]^=S.gexp(S.glog(this.get(d))+S.glog(i.get(c)));return new _(a,0)},mod:function(i){if(this.getLength()-i.getLength()<0)return this;for(var a=S.glog(this.get(0))-S.glog(i.get(0)),d=new Array(this.getLength()),c=0;c<this.getLength();c++)d[c]=this.get(c);for(c=0;c<i.getLength();c++)d[c]^=S.gexp(S.glog(i.get(c))+a);return new _(d,0).mod(i)}},h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(i,a){var d=h.getRsBlockTable(i,a);if(null==d)throw new Error("bad rs block @ typeNumber:"+i+"/errorCorrectLevel:"+a);for(var c=d.length/3,u=[],l=0;l<c;l++)for(var m=d[3*l+0],p=d[3*l+1],b=d[3*l+2],M=0;M<m;M++)u.push(new h(p,b));return u},h.getRsBlockTable=function(i,a){switch(a){case _e.L:return h.RS_BLOCK_TABLE[4*(i-1)+0];case _e.M:return h.RS_BLOCK_TABLE[4*(i-1)+1];case _e.Q:return h.RS_BLOCK_TABLE[4*(i-1)+2];case _e.H:return h.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},f.prototype={get:function(i){var a=Math.floor(i/8);return 1==(this.buffer[a]>>>7-i%8&1)},put:function(i,a){for(var d=0;d<a;d++)this.putBit(1==(i>>>a-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(i){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),i&&(this.buffer[a]|=128>>>this.length%8),this.length++}};var x=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function w(i){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof i&&(i={content:i}),i)for(var d in i)this.options[d]=i[d];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var m=this.options.content,p=function u(M,F){for(var N=function l(M){var F=encodeURI(M).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return F.length+(F.length!=M?3:0)}(M),P=1,j=0,V=0,k=x.length;V<=k;V++){var E=x[V];if(!E)throw new Error("Content too long: expected "+j+" but got "+N);switch(F){case"L":j=E[0];break;case"M":j=E[1];break;case"Q":j=E[2];break;case"H":j=E[3];break;default:throw new Error("Unknwon error correction level: "+F)}if(N<=j)break;P++}if(P>x.length)throw new Error("Content too long");return P}(m,this.options.ecl),b=function c(M){switch(M){case"L":return _e.L;case"M":return _e.M;case"Q":return _e.Q;case"H":return _e.H;default:throw new Error("Unknwon error correction level: "+M)}}(this.options.ecl);this.qrcode=new xe(p,b),this.qrcode.addData(m),this.qrcode.make()}w.prototype.svg=function(i){var a=this.options||{},d=this.qrcode.modules;typeof i>"u"&&(i={container:a.container||"svg"});for(var c=!(typeof a.pretty<"u"&&!a.pretty),u=c?"  ":"",l=c?"\r\n":"",m=a.width,p=a.height,b=d.length,M=m/(b+2*a.padding),F=p/(b+2*a.padding),N=typeof a.join<"u"&&!!a.join,P=typeof a.swap<"u"&&!!a.swap,j=!(typeof a.xmlDeclaration<"u"&&!a.xmlDeclaration),V=typeof a.predefined<"u"&&!!a.predefined,k=V?u+'<defs><path id="qrmodule" d="M0 0 h'+F+" v"+M+' H0 z" style="fill:'+a.color+';shape-rendering:crispEdges;" /></defs>'+l:"",E=u+'<rect x="0" y="0" width="'+m+'" height="'+p+'" style="fill:'+a.background+';shape-rendering:crispEdges;"/>'+l,I="",W="",Y=0;Y<b;Y++)for(var z=0;z<b;z++)if(d[z][Y]){var J=z*M+a.padding*M,q=Y*F+a.padding*F;if(P){var ne=J;J=q,q=ne}if(N){var fe=M+J,De=F+q;J=Number.isInteger(J)?Number(J):J.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),fe=Number.isInteger(fe)?Number(fe):fe.toFixed(2),W+="M"+J+","+q+" V"+(De=Number.isInteger(De)?Number(De):De.toFixed(2))+" H"+fe+" V"+q+" H"+J+" Z "}else I+=V?u+'<use x="'+J.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+l:u+'<rect x="'+J.toString()+'" y="'+q.toString()+'" width="'+M+'" height="'+F+'" style="fill:'+a.color+';shape-rendering:crispEdges;"/>'+l}N&&(I=u+'<path x="0" y="0" style="fill:'+a.color+';shape-rendering:crispEdges;" d="'+W+'" />');var K="";switch(i.container){case"svg":j&&(K+='<?xml version="1.0" standalone="yes"?>'+l),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+m+'" height="'+p+'">'+l,K+=k+E+I,K+="</svg>";break;case"svg-viewbox":j&&(K+='<?xml version="1.0" standalone="yes"?>'+l),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+m+" "+p+'">'+l,K+=k+E+I,K+="</svg>";break;case"g":K+='<g width="'+m+'" height="'+p+'">'+l,K+=k+E+I,K+="</g>";break;default:K+=(k+E+I).replace(/^\s+/,"")}return K},w.prototype.save=function(i,a){var d=this.svg();"function"!=typeof a&&(a=function(u,l){});try{ge(Object(function(){var l=new Error("Cannot find module 'fs'");throw l.code="MODULE_NOT_FOUND",l}())).writeFile(i,d,a)}catch(u){a(u)}},pn.exports=w},6700:(pn,jt,ge)=>{"use strict";ge.d(jt,{g:()=>xe});var y=ge(5657);class xe extends y.E{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const o=super._subscribe(_e);return!o.closed&&_e.next(this._value),o}getValue(){const{hasError:_e,thrownError:o,_value:$}=this;if(_e)throw o;return this._throwIfClosed(),$}next(_e){super.next(this._value=_e)}}},3252:(pn,jt,ge)=>{"use strict";ge.d(jt,{_:()=>v});var y=ge(1760),xe=ge(4548),rt=ge(472),_e=ge(3928),o=ge(4491),$=ge(8880),S=ge(2075);let v=(()=>{class x{constructor(i){i&&(this._subscribe=i)}lift(i){const a=new x;return a.source=this,a.operator=i,a}subscribe(i,a,d){const c=function f(x){return x&&x instanceof y.yR||function h(x){return x&&(0,$.m)(x.next)&&(0,$.m)(x.error)&&(0,$.m)(x.complete)}(x)&&(0,xe.GI)(x)}(i)?i:new y.ot(i,a,d);return(0,S.c)(()=>{const{operator:u,source:l}=this;c.add(u?u.call(c,l):l?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(i){try{return this._subscribe(i)}catch(a){i.error(a)}}forEach(i,a){return new(a=_(a))((d,c)=>{const u=new y.ot({next:l=>{try{i(l)}catch(m){c(m),u.unsubscribe()}},error:c,complete:d});this.subscribe(u)})}_subscribe(i){var a;return null===(a=this.source)||void 0===a?void 0:a.subscribe(i)}[rt.a](){return this}pipe(...i){return(0,_e.Y)(i)(this)}toPromise(i){return new(i=_(i))((a,d)=>{let c;this.subscribe(u=>c=u,u=>d(u),()=>a(c))})}}return x.create=w=>new x(w),x})();function _(x){var w;return null!==(w=null!=x?x:o.config.Promise)&&void 0!==w?w:Promise}},5657:(pn,jt,ge)=>{"use strict";ge.d(jt,{E:()=>S});var y=ge(3252),xe=ge(4548);const _e=(0,ge(4912).w)(_=>function(){_(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=ge(1248),$=ge(2075);let S=(()=>{class _ extends y._{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(f){const x=new v(this,this);return x.operator=f,x}_throwIfClosed(){if(this.closed)throw new _e}next(f){(0,$.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const x of this.currentObservers)x.next(f)}})}error(f){(0,$.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=f;const{observers:x}=this;for(;x.length;)x.shift().error(f)}})}complete(){(0,$.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:f}=this;for(;f.length;)f.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var f;return(null===(f=this.observers)||void 0===f?void 0:f.length)>0}_trySubscribe(f){return this._throwIfClosed(),super._trySubscribe(f)}_subscribe(f){return this._throwIfClosed(),this._checkFinalizedStatuses(f),this._innerSubscribe(f)}_innerSubscribe(f){const{hasError:x,isStopped:w,observers:i}=this;return x||w?xe.au:(this.currentObservers=null,i.push(f),new xe.wH(()=>{this.currentObservers=null,(0,o.k)(i,f)}))}_checkFinalizedStatuses(f){const{hasError:x,thrownError:w,isStopped:i}=this;x?f.error(w):i&&f.complete()}asObservable(){const f=new y._;return f.source=this,f}}return _.create=(h,f)=>new v(h,f),_})();class v extends S{constructor(h,f){super(),this.destination=h,this.source=f}next(h){var f,x;null===(x=null===(f=this.destination)||void 0===f?void 0:f.next)||void 0===x||x.call(f,h)}error(h){var f,x;null===(x=null===(f=this.destination)||void 0===f?void 0:f.error)||void 0===x||x.call(f,h)}complete(){var h,f;null===(f=null===(h=this.destination)||void 0===h?void 0:h.complete)||void 0===f||f.call(h)}_subscribe(h){var f,x;return null!==(x=null===(f=this.source)||void 0===f?void 0:f.subscribe(h))&&void 0!==x?x:xe.au}}},1760:(pn,jt,ge)=>{"use strict";ge.d(jt,{ot:()=>d,yR:()=>x});var y=ge(8880),xe=ge(4548),rt=ge(4491),_e=ge(1984),o=ge(308);const $=_("C",void 0,void 0);function _(p,b,M){return{kind:p,value:b,error:M}}var h=ge(3376),f=ge(2075);class x extends xe.wH{constructor(b){super(),this.isStopped=!1,b?(this.destination=b,(0,xe.GI)(b)&&b.add(this)):this.destination=m}static create(b,M,F){return new d(b,M,F)}next(b){this.isStopped?l(function v(p){return _("N",p,void 0)}(b),this):this._next(b)}error(b){this.isStopped?l(function S(p){return _("E",void 0,p)}(b),this):(this.isStopped=!0,this._error(b))}complete(){this.isStopped?l($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(b){this.destination.next(b)}_error(b){try{this.destination.error(b)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function i(p,b){return w.call(p,b)}class a{constructor(b){this.partialObserver=b}next(b){const{partialObserver:M}=this;if(M.next)try{M.next(b)}catch(F){c(F)}}error(b){const{partialObserver:M}=this;if(M.error)try{M.error(b)}catch(F){c(F)}else c(b)}complete(){const{partialObserver:b}=this;if(b.complete)try{b.complete()}catch(M){c(M)}}}class d extends x{constructor(b,M,F){let N;if(super(),(0,y.m)(b)||!b)N={next:null!=b?b:void 0,error:null!=M?M:void 0,complete:null!=F?F:void 0};else{let P;this&&rt.config.useDeprecatedNextContext?(P=Object.create(b),P.unsubscribe=()=>this.unsubscribe(),N={next:b.next&&i(b.next,P),error:b.error&&i(b.error,P),complete:b.complete&&i(b.complete,P)}):N=b}this.destination=new a(N)}}function c(p){rt.config.useDeprecatedSynchronousErrorHandling?(0,f.q)(p):(0,_e.U)(p)}function l(p,b){const{onStoppedNotification:M}=rt.config;M&&h.u.setTimeout(()=>M(p,b))}const m={closed:!0,next:o.K,error:function u(p){throw p},complete:o.K}},4548:(pn,jt,ge)=>{"use strict";ge.d(jt,{au:()=>$,wH:()=>o,GI:()=>S});var y=ge(8880);const rt=(0,ge(4912).w)(_=>function(f){_(this),this.message=f?`${f.length} errors occurred during unsubscription:\n${f.map((x,w)=>`${w+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=f});var _e=ge(1248);class o{constructor(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let h;if(!this.closed){this.closed=!0;const{_parentage:f}=this;if(f)if(this._parentage=null,Array.isArray(f))for(const i of f)i.remove(this);else f.remove(this);const{initialTeardown:x}=this;if((0,y.m)(x))try{x()}catch(i){h=i instanceof rt?i.errors:[i]}const{_finalizers:w}=this;if(w){this._finalizers=null;for(const i of w)try{v(i)}catch(a){h=null!=h?h:[],a instanceof rt?h=[...h,...a.errors]:h.push(a)}}if(h)throw new rt(h)}}add(h){var f;if(h&&h!==this)if(this.closed)v(h);else{if(h instanceof o){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=null!==(f=this._finalizers)&&void 0!==f?f:[]).push(h)}}_hasParent(h){const{_parentage:f}=this;return f===h||Array.isArray(f)&&f.includes(h)}_addParent(h){const{_parentage:f}=this;this._parentage=Array.isArray(f)?(f.push(h),f):f?[f,h]:h}_removeParent(h){const{_parentage:f}=this;f===h?this._parentage=null:Array.isArray(f)&&(0,_e.k)(f,h)}remove(h){const{_finalizers:f}=this;f&&(0,_e.k)(f,h),h instanceof o&&h._removeParent(this)}}o.EMPTY=(()=>{const _=new o;return _.closed=!0,_})();const $=o.EMPTY;function S(_){return _ instanceof o||_&&"closed"in _&&(0,y.m)(_.remove)&&(0,y.m)(_.add)&&(0,y.m)(_.unsubscribe)}function v(_){(0,y.m)(_)?_():_.unsubscribe()}},4491:(pn,jt,ge)=>{"use strict";ge.d(jt,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2376:(pn,jt,ge)=>{"use strict";ge.d(jt,{C:()=>$});var y=ge(3252),xe=ge(4548),rt=ge(8084),_e=ge(7773),o=ge(5448);class $ extends y._{constructor(v,_){super(),this.source=v,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,o.e)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new xe.wH;const _=this.getSubject();v.add(this.source.subscribe((0,_e.e)(_,void 0,()=>{this._teardown(),_.complete()},h=>{this._teardown(),_.error(h)},()=>this._teardown()))),v.closed&&(this._connection=null,v=xe.wH.EMPTY)}return v}refCount(){return(0,rt.O)()(this)}}},6040:(pn,jt,ge)=>{"use strict";ge.d(jt,{E:()=>h});var y=ge(3252),xe=ge(4300),rt=ge(2115),_e=ge(528),o=ge(4187),$=ge(6624),S=ge(7904),v=ge(7773),_=ge(9399);function h(...w){const i=(0,$.e_)(w),a=(0,$.yu)(w),{args:d,keys:c}=(0,xe.Q)(w);if(0===d.length)return(0,rt.Q)([],i);const u=new y._(function f(w,i,a=_e.Z){return d=>{x(i,()=>{const{length:c}=w,u=new Array(c);let l=c,m=c;for(let p=0;p<c;p++)x(i,()=>{const b=(0,rt.Q)(w[p],i);let M=!1;b.subscribe((0,v.e)(d,F=>{u[p]=F,M||(M=!0,m--),m||d.next(a(u.slice()))},()=>{--l||d.complete()}))},d)},d)}}(d,i,c?l=>(0,S.q)(c,l):_e.Z));return a?u.pipe((0,o.j)(a)):u}function x(w,i,a){w?(0,_._)(a,w,i):i()}},7228:(pn,jt,ge)=>{"use strict";ge.d(jt,{W:()=>o});var y=ge(267),rt=ge(6624),_e=ge(2115);function o(...$){return function xe(){return(0,y.u)(1)}()((0,_e.Q)($,(0,rt.e_)($)))}},1424:(pn,jt,ge)=>{"use strict";ge.d(jt,{Q:()=>rt});var y=ge(3252),xe=ge(560);function rt(_e){return new y._(o=>{(0,xe.Uv)(_e()).subscribe(o)})}},8960:(pn,jt,ge)=>{"use strict";ge.d(jt,{k:()=>xe});const xe=new(ge(3252)._)(o=>o.complete())},2115:(pn,jt,ge)=>{"use strict";ge.d(jt,{Q:()=>F});var y=ge(560),xe=ge(9399),rt=ge(5448),_e=ge(7773);function o(N,P=0){return(0,rt.i)((j,V)=>{j.subscribe((0,_e.e)(V,k=>(0,xe._)(V,N,()=>V.next(k),P),()=>(0,xe._)(V,N,()=>V.complete(),P),k=>(0,xe._)(V,N,()=>V.error(k),P)))})}function $(N,P=0){return(0,rt.i)((j,V)=>{V.add(N.schedule(()=>j.subscribe(V),P))})}var _=ge(3252),f=ge(3835),x=ge(8880);function i(N,P){if(!N)throw new Error("Iterable cannot be null");return new _._(j=>{(0,xe._)(j,P,()=>{const V=N[Symbol.asyncIterator]();(0,xe._)(j,P,()=>{V.next().then(k=>{k.done?j.complete():j.next(k.value)})},0,!0)})})}var a=ge(5099),d=ge(5432),c=ge(5428),u=ge(1688),l=ge(376),m=ge(8272),p=ge(5832);function F(N,P){return P?function M(N,P){if(null!=N){if((0,a.O)(N))return function S(N,P){return(0,y.Uv)(N).pipe($(P),o(P))}(N,P);if((0,c.G)(N))return function h(N,P){return new _._(j=>{let V=0;return P.schedule(function(){V===N.length?j.complete():(j.next(N[V++]),j.closed||this.schedule())})})}(N,P);if((0,d.u)(N))return function v(N,P){return(0,y.Uv)(N).pipe($(P),o(P))}(N,P);if((0,l.E)(N))return i(N,P);if((0,u.i)(N))return function w(N,P){return new _._(j=>{let V;return(0,xe._)(j,P,()=>{V=N[f.w](),(0,xe._)(j,P,()=>{let k,E;try{({value:k,done:E}=V.next())}catch(I){return void j.error(I)}E?j.complete():j.next(k)},0,!0)}),()=>(0,x.m)(null==V?void 0:V.return)&&V.return()})}(N,P);if((0,p.K)(N))return function b(N,P){return i((0,p._)(N),P)}(N,P)}throw(0,m.W)(N)}(N,P):(0,y.Uv)(N)}},800:(pn,jt,ge)=>{"use strict";ge.d(jt,{w:()=>h});var y=ge(560),xe=ge(3252),rt=ge(7400),_e=ge(5428),o=ge(8880),$=ge(4187);const S=["addListener","removeListener"],v=["addEventListener","removeEventListener"],_=["on","off"];function h(a,d,c,u){if((0,o.m)(c)&&(u=c,c=void 0),u)return h(a,d,c).pipe((0,$.j)(u));const[l,m]=function i(a){return(0,o.m)(a.addEventListener)&&(0,o.m)(a.removeEventListener)}(a)?v.map(p=>b=>a[p](d,b,c)):function x(a){return(0,o.m)(a.addListener)&&(0,o.m)(a.removeListener)}(a)?S.map(f(a,d)):function w(a){return(0,o.m)(a.on)&&(0,o.m)(a.off)}(a)?_.map(f(a,d)):[];if(!l&&(0,_e.G)(a))return(0,rt.O)(p=>h(p,d,c))((0,y.Uv)(a));if(!l)throw new TypeError("Invalid event target");return new xe._(p=>{const b=(...M)=>p.next(1<M.length?M:M[0]);return l(b),()=>m(b)})}function f(a,d){return c=>u=>a[c](d,u)}},560:(pn,jt,ge)=>{"use strict";ge.d(jt,{Uv:()=>w});var y=ge(1316),xe=ge(5428),rt=ge(5432),_e=ge(3252),o=ge(5099),$=ge(376),S=ge(8272),v=ge(1688),_=ge(5832),h=ge(8880),f=ge(1984),x=ge(472);function w(p){if(p instanceof _e._)return p;if(null!=p){if((0,o.O)(p))return function i(p){return new _e._(b=>{const M=p[x.a]();if((0,h.m)(M.subscribe))return M.subscribe(b);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,xe.G)(p))return function a(p){return new _e._(b=>{for(let M=0;M<p.length&&!b.closed;M++)b.next(p[M]);b.complete()})}(p);if((0,rt.u)(p))return function d(p){return new _e._(b=>{p.then(M=>{b.closed||(b.next(M),b.complete())},M=>b.error(M)).then(null,f.U)})}(p);if((0,$.E)(p))return u(p);if((0,v.i)(p))return function c(p){return new _e._(b=>{for(const M of p)if(b.next(M),b.closed)return;b.complete()})}(p);if((0,_.K)(p))return function l(p){return u((0,_._)(p))}(p)}throw(0,S.W)(p)}function u(p){return new _e._(b=>{(function m(p,b){var M,F,N,P;return(0,y.kH)(this,void 0,void 0,function*(){try{for(M=(0,y.mA)(p);!(F=yield M.next()).done;)if(b.next(F.value),b.closed)return}catch(j){N={error:j}}finally{try{F&&!F.done&&(P=M.return)&&(yield P.call(M))}finally{if(N)throw N.error}}b.complete()})})(p,b).catch(M=>b.error(M))})}},2700:(pn,jt,ge)=>{"use strict";ge.d(jt,{of:()=>rt});var y=ge(6624),xe=ge(2115);function rt(..._e){const o=(0,y.e_)(_e);return(0,xe.Q)(_e,o)}},3800:(pn,jt,ge)=>{"use strict";ge.d(jt,{c:()=>rt});var y=ge(3252),xe=ge(8880);function rt(_e,o){const $=(0,xe.m)(_e)?_e:()=>_e,S=v=>v.error($());return new y._(o?v=>o.schedule(S,0,v):S)}},7773:(pn,jt,ge)=>{"use strict";ge.d(jt,{e:()=>xe});var y=ge(1760);function xe(_e,o,$,S,v){return new rt(_e,o,$,S,v)}class rt extends y.yR{constructor(o,$,S,v,_,h){super(o),this.onFinalize=_,this.shouldUnsubscribe=h,this._next=$?function(f){try{$(f)}catch(x){o.error(x)}}:super._next,this._error=v?function(f){try{v(f)}catch(x){o.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(f){o.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:$}=this;super.unsubscribe(),!$&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},6684:(pn,jt,ge)=>{"use strict";ge.d(jt,{I:()=>rt});var y=ge(5448),xe=ge(7773);function rt(_e,o){return(0,y.i)(($,S)=>{let v=0;$.subscribe((0,xe.e)(S,_=>_e.call(o,_,v++)&&S.next(_)))})}},4704:(pn,jt,ge)=>{"use strict";ge.d(jt,{k:()=>rt});var y=ge(5448),xe=ge(7773);function rt(_e,o){return(0,y.i)(($,S)=>{let v=0;$.subscribe((0,xe.e)(S,_=>{S.next(_e.call(o,_,v++))}))})}},320:(pn,jt,ge)=>{"use strict";ge.d(jt,{e:()=>xe});var y=ge(4704);function xe(rt){return(0,y.k)(()=>rt)}},267:(pn,jt,ge)=>{"use strict";ge.d(jt,{u:()=>rt});var y=ge(7400),xe=ge(528);function rt(_e=1/0){return(0,y.O)(xe.Z,_e)}},7400:(pn,jt,ge)=>{"use strict";ge.d(jt,{O:()=>v});var y=ge(4704),xe=ge(560),rt=ge(5448),_e=ge(9399),o=ge(7773),S=ge(8880);function v(_,h,f=1/0){return(0,S.m)(h)?v((x,w)=>(0,y.k)((i,a)=>h(x,i,w,a))((0,xe.Uv)(_(x,w))),f):("number"==typeof h&&(f=h),(0,rt.i)((x,w)=>function $(_,h,f,x,w,i,a,d){const c=[];let u=0,l=0,m=!1;const p=()=>{m&&!c.length&&!u&&h.complete()},b=F=>u<x?M(F):c.push(F),M=F=>{i&&h.next(F),u++;let N=!1;(0,xe.Uv)(f(F,l++)).subscribe((0,o.e)(h,P=>{null==w||w(P),i?b(P):h.next(P)},()=>{N=!0},void 0,()=>{if(N)try{for(u--;c.length&&u<x;){const P=c.shift();a?(0,_e._)(h,a,()=>M(P)):M(P)}p()}catch(P){h.error(P)}}))};return _.subscribe((0,o.e)(h,b,()=>{m=!0,p()})),()=>{null==d||d()}}(x,w,_,f)))}},8084:(pn,jt,ge)=>{"use strict";ge.d(jt,{O:()=>rt});var y=ge(5448),xe=ge(7773);function rt(){return(0,y.i)((_e,o)=>{let $=null;_e._refCount++;const S=(0,xe.e)(o,void 0,void 0,void 0,()=>{if(!_e||_e._refCount<=0||0<--_e._refCount)return void($=null);const v=_e._connection,_=$;$=null,v&&(!_||v===_)&&v.unsubscribe(),o.unsubscribe()});_e.subscribe(S),S.closed||($=_e.connect())})}},7368:(pn,jt,ge)=>{"use strict";ge.d(jt,{G:()=>_e});var y=ge(560),xe=ge(5448),rt=ge(7773);function _e(o,$){return(0,xe.i)((S,v)=>{let _=null,h=0,f=!1;const x=()=>f&&!_&&v.complete();S.subscribe((0,rt.e)(v,w=>{null==_||_.unsubscribe();let i=0;const a=h++;(0,y.Uv)(o(w,a)).subscribe(_=(0,rt.e)(v,d=>v.next($?$(w,d,a,i++):d),()=>{_=null,x()}))},()=>{f=!0,x()}))})}},3992:(pn,jt,ge)=>{"use strict";ge.d(jt,{U:()=>_e});var y=ge(8960),xe=ge(5448),rt=ge(7773);function _e(o){return o<=0?()=>y.k:(0,xe.i)(($,S)=>{let v=0;$.subscribe((0,rt.e)(S,_=>{++v<=o&&(S.next(_),o<=v&&S.complete())}))})}},9212:(pn,jt,ge)=>{"use strict";ge.d(jt,{y:()=>o});var y=ge(8880),xe=ge(5448),rt=ge(7773),_e=ge(528);function o($,S,v){const _=(0,y.m)($)||S||v?{next:$,error:S,complete:v}:$;return _?(0,xe.i)((h,f)=>{var x;null===(x=_.subscribe)||void 0===x||x.call(_);let w=!0;h.subscribe((0,rt.e)(f,i=>{var a;null===(a=_.next)||void 0===a||a.call(_,i),f.next(i)},()=>{var i;w=!1,null===(i=_.complete)||void 0===i||i.call(_),f.complete()},i=>{var a;w=!1,null===(a=_.error)||void 0===a||a.call(_,i),f.error(i)},()=>{var i,a;w&&(null===(i=_.unsubscribe)||void 0===i||i.call(_)),null===(a=_.finalize)||void 0===a||a.call(_)}))}):_e.Z}},3376:(pn,jt,ge)=>{"use strict";ge.d(jt,{u:()=>y});const y={setTimeout(xe,rt,..._e){const{delegate:o}=y;return null!=o&&o.setTimeout?o.setTimeout(xe,rt,..._e):setTimeout(xe,rt,..._e)},clearTimeout(xe){const{delegate:rt}=y;return((null==rt?void 0:rt.clearTimeout)||clearTimeout)(xe)},delegate:void 0}},3835:(pn,jt,ge)=>{"use strict";ge.d(jt,{w:()=>xe});const xe=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},472:(pn,jt,ge)=>{"use strict";ge.d(jt,{a:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6624:(pn,jt,ge)=>{"use strict";ge.d(jt,{_8:()=>$,e_:()=>o,yu:()=>_e});var y=ge(8880),xe=ge(3048);function rt(S){return S[S.length-1]}function _e(S){return(0,y.m)(rt(S))?S.pop():void 0}function o(S){return(0,xe.G)(rt(S))?S.pop():void 0}function $(S,v){return"number"==typeof rt(S)?S.pop():v}},4300:(pn,jt,ge)=>{"use strict";ge.d(jt,{Q:()=>o});const{isArray:y}=Array,{getPrototypeOf:xe,prototype:rt,keys:_e}=Object;function o(S){if(1===S.length){const v=S[0];if(y(v))return{args:v,keys:null};if(function $(S){return S&&"object"==typeof S&&xe(S)===rt}(v)){const _=_e(v);return{args:_.map(h=>v[h]),keys:_}}}return{args:S,keys:null}}},1248:(pn,jt,ge)=>{"use strict";function y(xe,rt){if(xe){const _e=xe.indexOf(rt);0<=_e&&xe.splice(_e,1)}}ge.d(jt,{k:()=>y})},4912:(pn,jt,ge)=>{"use strict";function y(xe){const _e=xe(o=>{Error.call(o),o.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}ge.d(jt,{w:()=>y})},7904:(pn,jt,ge)=>{"use strict";function y(xe,rt){return xe.reduce((_e,o,$)=>(_e[o]=rt[$],_e),{})}ge.d(jt,{q:()=>y})},2075:(pn,jt,ge)=>{"use strict";ge.d(jt,{c:()=>rt,q:()=>_e});var y=ge(4491);let xe=null;function rt(o){if(y.config.useDeprecatedSynchronousErrorHandling){const $=!xe;if($&&(xe={errorThrown:!1,error:null}),o(),$){const{errorThrown:S,error:v}=xe;if(xe=null,S)throw v}}else o()}function _e(o){y.config.useDeprecatedSynchronousErrorHandling&&xe&&(xe.errorThrown=!0,xe.error=o)}},9399:(pn,jt,ge)=>{"use strict";function y(xe,rt,_e,o=0,$=!1){const S=rt.schedule(function(){_e(),$?xe.add(this.schedule(null,o)):this.unsubscribe()},o);if(xe.add(S),!$)return S}ge.d(jt,{_:()=>y})},528:(pn,jt,ge)=>{"use strict";function y(xe){return xe}ge.d(jt,{Z:()=>y})},5428:(pn,jt,ge)=>{"use strict";ge.d(jt,{G:()=>y});const y=xe=>xe&&"number"==typeof xe.length&&"function"!=typeof xe},376:(pn,jt,ge)=>{"use strict";ge.d(jt,{E:()=>xe});var y=ge(8880);function xe(rt){return Symbol.asyncIterator&&(0,y.m)(null==rt?void 0:rt[Symbol.asyncIterator])}},8880:(pn,jt,ge)=>{"use strict";function y(xe){return"function"==typeof xe}ge.d(jt,{m:()=>y})},5099:(pn,jt,ge)=>{"use strict";ge.d(jt,{O:()=>rt});var y=ge(472),xe=ge(8880);function rt(_e){return(0,xe.m)(_e[y.a])}},1688:(pn,jt,ge)=>{"use strict";ge.d(jt,{i:()=>rt});var y=ge(3835),xe=ge(8880);function rt(_e){return(0,xe.m)(null==_e?void 0:_e[y.w])}},5432:(pn,jt,ge)=>{"use strict";ge.d(jt,{u:()=>xe});var y=ge(8880);function xe(rt){return(0,y.m)(null==rt?void 0:rt.then)}},5832:(pn,jt,ge)=>{"use strict";ge.d(jt,{K:()=>_e,_:()=>rt});var y=ge(1316),xe=ge(8880);function rt(o){return(0,y.o7)(this,arguments,function*(){const S=o.getReader();try{for(;;){const{value:v,done:_}=yield(0,y.U1)(S.read());if(_)return yield(0,y.U1)(void 0);yield yield(0,y.U1)(v)}}finally{S.releaseLock()}})}function _e(o){return(0,xe.m)(null==o?void 0:o.getReader)}},3048:(pn,jt,ge)=>{"use strict";ge.d(jt,{G:()=>xe});var y=ge(8880);function xe(rt){return rt&&(0,y.m)(rt.schedule)}},5448:(pn,jt,ge)=>{"use strict";ge.d(jt,{e:()=>xe,i:()=>rt});var y=ge(8880);function xe(_e){return(0,y.m)(null==_e?void 0:_e.lift)}function rt(_e){return o=>{if(xe(o))return o.lift(function($){try{return _e($,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}},4187:(pn,jt,ge)=>{"use strict";ge.d(jt,{j:()=>_e});var y=ge(4704);const{isArray:xe}=Array;function _e(o){return(0,y.k)($=>function rt(o,$){return xe($)?o(...$):o($)}(o,$))}},308:(pn,jt,ge)=>{"use strict";function y(){}ge.d(jt,{K:()=>y})},3928:(pn,jt,ge)=>{"use strict";ge.d(jt,{W:()=>xe,Y:()=>rt});var y=ge(528);function xe(..._e){return rt(_e)}function rt(_e){return 0===_e.length?y.Z:1===_e.length?_e[0]:function($){return _e.reduce((S,v)=>v(S),$)}}},1984:(pn,jt,ge)=>{"use strict";ge.d(jt,{U:()=>rt});var y=ge(4491),xe=ge(3376);function rt(_e){xe.u.setTimeout(()=>{const{onUnhandledError:o}=y.config;if(!o)throw _e;o(_e)})}},8272:(pn,jt,ge)=>{"use strict";function y(xe){return new TypeError(`You provided ${null!==xe&&"object"==typeof xe?"an invalid object":`'${xe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ge.d(jt,{W:()=>y})},1480:(pn,jt,ge)=>{var y={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function xe(rt){if(!ge.o(y,rt))return Promise.resolve().then(()=>{var $=new Error("Cannot find module '"+rt+"'");throw $.code="MODULE_NOT_FOUND",$});var _e=y[rt],o=_e[0];return Promise.all(_e.slice(1).map(ge.e)).then(()=>ge(o))}xe.keys=()=>Object.keys(y),xe.id=1480,pn.exports=xe},996:(pn,jt,ge)=>{var y={"./pwa-action-sheet.entry.js":[2152,2152],"./pwa-camera-modal-instance.entry.js":[1148,1148],"./pwa-camera-modal.entry.js":[6056,6056],"./pwa-camera.entry.js":[580,580],"./pwa-toast.entry.js":[3276,3276]};function xe(rt){if(!ge.o(y,rt))return Promise.resolve().then(()=>{var $=new Error("Cannot find module '"+rt+"'");throw $.code="MODULE_NOT_FOUND",$});var _e=y[rt],o=_e[0];return ge.e(_e[1]).then(()=>ge(o))}xe.keys=()=>Object.keys(y),xe.id=996,pn.exports=xe},6636:(pn,jt,ge)=>{var y=ge(9848).default;function xe(){"use strict";pn.exports=xe=function(){return _e},pn.exports.__esModule=!0,pn.exports.default=pn.exports;var rt,_e={},o=Object.prototype,$=o.hasOwnProperty,S=Object.defineProperty||function(te,J,q){te[J]=q.value},v="function"==typeof Symbol?Symbol:{},_=v.iterator||"@@iterator",h=v.asyncIterator||"@@asyncIterator",f=v.toStringTag||"@@toStringTag";function x(te,J,q){return Object.defineProperty(te,J,{value:q,enumerable:!0,configurable:!0,writable:!0}),te[J]}try{x({},"")}catch{x=function(q,ne,fe){return q[ne]=fe}}function w(te,J,q,ne){var De=Object.create((J&&J.prototype instanceof m?J:m).prototype),K=new Y(ne||[]);return S(De,"_invoke",{value:k(te,q,K)}),De}function i(te,J,q){try{return{type:"normal",arg:te.call(J,q)}}catch(ne){return{type:"throw",arg:ne}}}_e.wrap=w;var a="suspendedStart",d="suspendedYield",c="executing",u="completed",l={};function m(){}function p(){}function b(){}var M={};x(M,_,function(){return this});var F=Object.getPrototypeOf,N=F&&F(F(z([])));N&&N!==o&&$.call(N,_)&&(M=N);var P=b.prototype=m.prototype=Object.create(M);function j(te){["next","throw","return"].forEach(function(J){x(te,J,function(q){return this._invoke(J,q)})})}function V(te,J){function q(fe,De,K,L){var se=i(te[fe],te,De);if("throw"!==se.type){var pe=se.arg,Ce=pe.value;return Ce&&"object"==y(Ce)&&$.call(Ce,"__await")?J.resolve(Ce.__await).then(function(Fe){q("next",Fe,K,L)},function(Fe){q("throw",Fe,K,L)}):J.resolve(Ce).then(function(Fe){pe.value=Fe,K(pe)},function(Fe){return q("throw",Fe,K,L)})}L(se.arg)}var ne;S(this,"_invoke",{value:function(De,K){function L(){return new J(function(se,pe){q(De,K,se,pe)})}return ne=ne?ne.then(L,L):L()}})}function k(te,J,q){var ne=a;return function(fe,De){if(ne===c)throw new Error("Generator is already running");if(ne===u){if("throw"===fe)throw De;return{value:rt,done:!0}}for(q.method=fe,q.arg=De;;){var K=q.delegate;if(K){var L=E(K,q);if(L){if(L===l)continue;return L}}if("next"===q.method)q.sent=q._sent=q.arg;else if("throw"===q.method){if(ne===a)throw ne=u,q.arg;q.dispatchException(q.arg)}else"return"===q.method&&q.abrupt("return",q.arg);ne=c;var se=i(te,J,q);if("normal"===se.type){if(ne=q.done?u:d,se.arg===l)continue;return{value:se.arg,done:q.done}}"throw"===se.type&&(ne=u,q.method="throw",q.arg=se.arg)}}}function E(te,J){var q=J.method,ne=te.iterator[q];if(ne===rt)return J.delegate=null,"throw"===q&&te.iterator.return&&(J.method="return",J.arg=rt,E(te,J),"throw"===J.method)||"return"!==q&&(J.method="throw",J.arg=new TypeError("The iterator does not provide a '"+q+"' method")),l;var fe=i(ne,te.iterator,J.arg);if("throw"===fe.type)return J.method="throw",J.arg=fe.arg,J.delegate=null,l;var De=fe.arg;return De?De.done?(J[te.resultName]=De.value,J.next=te.nextLoc,"return"!==J.method&&(J.method="next",J.arg=rt),J.delegate=null,l):De:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,l)}function I(te){var J={tryLoc:te[0]};1 in te&&(J.catchLoc=te[1]),2 in te&&(J.finallyLoc=te[2],J.afterLoc=te[3]),this.tryEntries.push(J)}function W(te){var J=te.completion||{};J.type="normal",delete J.arg,te.completion=J}function Y(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(I,this),this.reset(!0)}function z(te){if(te||""===te){var J=te[_];if(J)return J.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length)){var q=-1,ne=function fe(){for(;++q<te.length;)if($.call(te,q))return fe.value=te[q],fe.done=!1,fe;return fe.value=rt,fe.done=!0,fe};return ne.next=ne}}throw new TypeError(y(te)+" is not iterable")}return p.prototype=b,S(P,"constructor",{value:b,configurable:!0}),S(b,"constructor",{value:p,configurable:!0}),p.displayName=x(b,f,"GeneratorFunction"),_e.isGeneratorFunction=function(te){var J="function"==typeof te&&te.constructor;return!!J&&(J===p||"GeneratorFunction"===(J.displayName||J.name))},_e.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,b):(te.__proto__=b,x(te,f,"GeneratorFunction")),te.prototype=Object.create(P),te},_e.awrap=function(te){return{__await:te}},j(V.prototype),x(V.prototype,h,function(){return this}),_e.AsyncIterator=V,_e.async=function(te,J,q,ne,fe){void 0===fe&&(fe=Promise);var De=new V(w(te,J,q,ne),fe);return _e.isGeneratorFunction(J)?De:De.next().then(function(K){return K.done?K.value:De.next()})},j(P),x(P,f,"Generator"),x(P,_,function(){return this}),x(P,"toString",function(){return"[object Generator]"}),_e.keys=function(te){var J=Object(te),q=[];for(var ne in J)q.push(ne);return q.reverse(),function fe(){for(;q.length;){var De=q.pop();if(De in J)return fe.value=De,fe.done=!1,fe}return fe.done=!0,fe}},_e.values=z,Y.prototype={constructor:Y,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=rt,this.done=!1,this.delegate=null,this.method="next",this.arg=rt,this.tryEntries.forEach(W),!J)for(var q in this)"t"===q.charAt(0)&&$.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=rt)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if("throw"===J.type)throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var q=this;function ne(pe,Ce){return K.type="throw",K.arg=J,q.next=pe,Ce&&(q.method="next",q.arg=rt),!!Ce}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var De=this.tryEntries[fe],K=De.completion;if("root"===De.tryLoc)return ne("end");if(De.tryLoc<=this.prev){var L=$.call(De,"catchLoc"),se=$.call(De,"finallyLoc");if(L&&se){if(this.prev<De.catchLoc)return ne(De.catchLoc,!0);if(this.prev<De.finallyLoc)return ne(De.finallyLoc)}else if(L){if(this.prev<De.catchLoc)return ne(De.catchLoc,!0)}else{if(!se)throw new Error("try statement without catch or finally");if(this.prev<De.finallyLoc)return ne(De.finallyLoc)}}}},abrupt:function(J,q){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var fe=this.tryEntries[ne];if(fe.tryLoc<=this.prev&&$.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var De=fe;break}}De&&("break"===J||"continue"===J)&&De.tryLoc<=q&&q<=De.finallyLoc&&(De=null);var K=De?De.completion:{};return K.type=J,K.arg=q,De?(this.method="next",this.next=De.finallyLoc,l):this.complete(K)},complete:function(J,q){if("throw"===J.type)throw J.arg;return"break"===J.type||"continue"===J.type?this.next=J.arg:"return"===J.type?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):"normal"===J.type&&q&&(this.next=q),l},finish:function(J){for(var q=this.tryEntries.length-1;q>=0;--q){var ne=this.tryEntries[q];if(ne.finallyLoc===J)return this.complete(ne.completion,ne.afterLoc),W(ne),l}},catch:function(J){for(var q=this.tryEntries.length-1;q>=0;--q){var ne=this.tryEntries[q];if(ne.tryLoc===J){var fe=ne.completion;if("throw"===fe.type){var De=fe.arg;W(ne)}return De}}throw new Error("illegal catch attempt")},delegateYield:function(J,q,ne){return this.delegate={iterator:z(J),resultName:q,nextLoc:ne},"next"===this.method&&(this.arg=rt),l}},_e}pn.exports=xe,pn.exports.__esModule=!0,pn.exports.default=pn.exports},9848:pn=>{function jt(ge){return pn.exports=jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},pn.exports.__esModule=!0,pn.exports.default=pn.exports,jt(ge)}pn.exports=jt,pn.exports.__esModule=!0,pn.exports.default=pn.exports},3248:(pn,jt,ge)=>{var y=ge(6636)();pn.exports=y;try{regeneratorRuntime=y}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=y:Function("r","regeneratorRuntime = r")(y)}},1368:(pn,jt,ge)=>{"use strict";ge.d(jt,{MD:()=>xo,MP:()=>c,OM:()=>Ro,Qd:()=>i,Sg:()=>Me,Ud:()=>S,XV:()=>$t,YZ:()=>Xn,_k:()=>Sr,ay:()=>zn,c0:()=>po,mQ:()=>_,mg:()=>o,oB:()=>u,uC:()=>d,u_:()=>ar,uf:()=>qo,ug:()=>_e,uy:()=>rt});var y=ge(4496);let xe=null;function rt(){return xe}function _e(de){var Ae;null!==(Ae=xe)&&void 0!==Ae||(xe=de)}class o{}const S=new y.UbH("");let v=(()=>{var de;class Ae{historyGo(Ie){throw new Error("")}}return(de=Ae).\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=y.wxM({token:de,factory:()=>(0,y.uUt)(h),providedIn:"platform"}),Ae})();const _=new y.UbH("");let h=(()=>{var de;class Ae extends v{constructor(){super(),this._doc=(0,y.uUt)(S),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rt().getBaseHref(this._doc)}onPopState(Ie){const nt=rt().getGlobalEventTarget(this._doc,"window");return nt.addEventListener("popstate",Ie,!1),()=>nt.removeEventListener("popstate",Ie)}onHashChange(Ie){const nt=rt().getGlobalEventTarget(this._doc,"window");return nt.addEventListener("hashchange",Ie,!1),()=>nt.removeEventListener("hashchange",Ie)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ie){this._location.pathname=Ie}pushState(Ie,nt,St){this._history.pushState(Ie,nt,St)}replaceState(Ie,nt,St){this._history.replaceState(Ie,nt,St)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ie=0){this._history.go(Ie)}getState(){return this._history.state}}return(de=Ae).\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=y.wxM({token:de,factory:()=>new de,providedIn:"platform"}),Ae})();function f(de,Ae){if(0==de.length)return Ae;if(0==Ae.length)return de;let dt=0;return de.endsWith("/")&&dt++,Ae.startsWith("/")&&dt++,2==dt?de+Ae.substring(1):1==dt?de+Ae:de+"/"+Ae}function x(de){const Ae=de.match(/#|\?|$/),dt=Ae&&Ae.index||de.length;return de.slice(0,dt-("/"===de[dt-1]?1:0))+de.slice(dt)}function w(de){return de&&"?"!==de[0]?"?"+de:de}let i=(()=>{var de;class Ae{historyGo(Ie){throw new Error("")}}return(de=Ae).\u0275fac=function(Ie){return new(Ie||de)},de.\u0275prov=y.wxM({token:de,factory:()=>(0,y.uUt)(d),providedIn:"root"}),Ae})();const a=new y.UbH("");let d=(()=>{var de;class Ae extends i{constructor(Ie,nt){var St,dn,In;super(),this._platformLocation=Ie,this._removeListenerFns=[],this._baseHref=null!==(St=null!==(dn=null!=nt?nt:this._platformLocation.getBaseHrefFromDOM())&&void 0!==dn?dn:null===(In=(0,y.uUt)(S).location)||void 0===In?void 0:In.origin)&&void 0!==St?St:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ie){this._removeListenerFns.push(this._platformLocation.onPopState(Ie),this._platformLocation.onHashChange(Ie))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ie){return f(this._baseHref,Ie)}path(Ie=!1){const nt=this._platformLocation.pathname+w(this._platformLocation.search),St=this._platformLocation.hash;return St&&Ie?`${nt}${St}`:nt}pushState(Ie,nt,St,dn){const In=this.prepareExternalUrl(St+w(dn));this._platformLocation.pushState(Ie,nt,In)}replaceState(Ie,nt,St,dn){const In=this.prepareExternalUrl(St+w(dn));this._platformLocation.replaceState(Ie,nt,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ie=0){var nt,St;null===(nt=(St=this._platformLocation).historyGo)||void 0===nt||nt.call(St,Ie)}}return(de=Ae).\u0275fac=function(Ie){return new(Ie||de)(y.CoB(v),y.CoB(a,8))},de.\u0275prov=y.wxM({token:de,factory:de.\u0275fac,providedIn:"root"}),Ae})(),c=(()=>{var de;class Ae extends i{constructor(Ie,nt){super(),this._platformLocation=Ie,this._baseHref="",this._removeListenerFns=[],null!=nt&&(this._baseHref=nt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ie){this._removeListenerFns.push(this._platformLocation.onPopState(Ie),this._platformLocation.onHashChange(Ie))}getBaseHref(){return this._baseHref}path(Ie=!1){var nt;const St=null!==(nt=this._platformLocation.hash)&&void 0!==nt?nt:"#";return St.length>0?St.substring(1):St}prepareExternalUrl(Ie){const nt=f(this._baseHref,Ie);return nt.length>0?"#"+nt:nt}pushState(Ie,nt,St,dn){let In=this.prepareExternalUrl(St+w(dn));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.pushState(Ie,nt,In)}replaceState(Ie,nt,St,dn){let In=this.prepareExternalUrl(St+w(dn));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.replaceState(Ie,nt,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ie=0){var nt,St;null===(nt=(St=this._platformLocation).historyGo)||void 0===nt||nt.call(St,Ie)}}return(de=Ae).\u0275fac=function(Ie){return new(Ie||de)(y.CoB(v),y.CoB(a,8))},de.\u0275prov=y.wxM({token:de,factory:de.\u0275fac}),Ae})(),u=(()=>{var de;class Ae{constructor(Ie){this._subject=new y._w7,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ie;const nt=this._locationStrategy.getBaseHref();this._basePath=function b(de){if(new RegExp("^(https?:)?//").test(de)){const[,dt]=de.split(/\/\/[^\/]+/);return dt}return de}(x(p(nt))),this._locationStrategy.onPopState(St=>{this._subject.emit({url:this.path(!0),pop:!0,state:St.state,type:St.type})})}ngOnDestroy(){var Ie;null===(Ie=this._urlChangeSubscription)||void 0===Ie||Ie.unsubscribe(),this._urlChangeListeners=[]}path(Ie=!1){return this.normalize(this._locationStrategy.path(Ie))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ie,nt=""){return this.path()==this.normalize(Ie+w(nt))}normalize(Ie){return Ae.stripTrailingSlash(function m(de,Ae){if(!de||!Ae.startsWith(de))return Ae;const dt=Ae.substring(de.length);return""===dt||["/",";","?","#"].includes(dt[0])?dt:Ae}(this._basePath,p(Ie)))}prepareExternalUrl(Ie){return Ie&&"/"!==Ie[0]&&(Ie="/"+Ie),this._locationStrategy.prepareExternalUrl(Ie)}go(Ie,nt="",St=null){this._locationStrategy.pushState(St,"",Ie,nt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ie+w(nt)),St)}replaceState(Ie,nt="",St=null){this._locationStrategy.replaceState(St,"",Ie,nt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ie+w(nt)),St)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ie=0){var nt,St;null===(nt=(St=this._locationStrategy).historyGo)||void 0===nt||nt.call(St,Ie)}onUrlChange(Ie){var nt;return this._urlChangeListeners.push(Ie),null!==(nt=this._urlChangeSubscription)&&void 0!==nt||(this._urlChangeSubscription=this.subscribe(St=>{this._notifyUrlChangeListeners(St.url,St.state)})),()=>{const St=this._urlChangeListeners.indexOf(Ie);var dn;this._urlChangeListeners.splice(St,1),0===this._urlChangeListeners.length&&(null===(dn=this._urlChangeSubscription)||void 0===dn||dn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ie="",nt){this._urlChangeListeners.forEach(St=>St(Ie,nt))}subscribe(Ie,nt,St){return this._subject.subscribe({next:Ie,error:nt,complete:St})}}return(de=Ae).normalizeQueryParams=w,de.joinWithSlash=f,de.stripTrailingSlash=x,de.\u0275fac=function(Ie){return new(Ie||de)(y.CoB(i))},de.\u0275prov=y.wxM({token:de,factory:()=>function l(){return new u((0,y.CoB)(i))}(),providedIn:"root"}),Ae})();function p(de){return de.replace(/\/index.html$/,"")}function Me(de,Ae){Ae=encodeURIComponent(Ae);for(const dt of de.split(";")){const Ie=dt.indexOf("="),[nt,St]=-1==Ie?[dt,""]:[dt.slice(0,Ie),dt.slice(Ie+1)];if(nt.trim()===Ae)return decodeURIComponent(St)}return null}class On{constructor(Ae,dt,Ie,nt){this.$implicit=Ae,this.ngForOf=dt,this.index=Ie,this.count=nt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zn=(()=>{var de;class Ae{set ngForOf(Ie){this._ngForOf=Ie,this._ngForOfDirty=!0}set ngForTrackBy(Ie){this._trackByFn=Ie}get ngForTrackBy(){return this._trackByFn}constructor(Ie,nt,St){this._viewContainer=Ie,this._template=nt,this._differs=St,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ie){Ie&&(this._template=Ie)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ie=this._ngForOf;!this._differ&&Ie&&(this._differ=this._differs.find(Ie).create(this.ngForTrackBy))}if(this._differ){const Ie=this._differ.diff(this._ngForOf);Ie&&this._applyChanges(Ie)}}_applyChanges(Ie){const nt=this._viewContainer;Ie.forEachOperation((St,dn,In)=>{if(null==St.previousIndex)nt.createEmbeddedView(this._template,new On(St.item,this._ngForOf,-1,-1),null===In?void 0:In);else if(null==In)nt.remove(null===dn?void 0:dn);else if(null!==dn){const or=nt.get(dn);nt.move(or,In),Gn(or,St)}});for(let St=0,dn=nt.length;St<dn;St++){const or=nt.get(St).context;or.index=St,or.count=dn,or.ngForOf=this._ngForOf}Ie.forEachIdentityChange(St=>{Gn(nt.get(St.currentIndex),St)})}static ngTemplateContextGuard(Ie,nt){return!0}}return(de=Ae).\u0275fac=function(Ie){return new(Ie||de)(y.GI1(y.y8U),y.GI1(y.Yw2),y.GI1(y.Uj7))},de.\u0275dir=y.Sc5({type:de,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Ae})();function Gn(de,Ae){de.context.$implicit=Ae.item}let ar=(()=>{var de;class Ae{constructor(Ie,nt){this._viewContainer=Ie,this._context=new at,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=nt}set ngIf(Ie){this._context.$implicit=this._context.ngIf=Ie,this._updateView()}set ngIfThen(Ie){ct("ngIfThen",Ie),this._thenTemplateRef=Ie,this._thenViewRef=null,this._updateView()}set ngIfElse(Ie){ct("ngIfElse",Ie),this._elseTemplateRef=Ie,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ie,nt){return!0}}return(de=Ae).\u0275fac=function(Ie){return new(Ie||de)(y.GI1(y.y8U),y.GI1(y.Yw2))},de.\u0275dir=y.Sc5({type:de,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Ae})();class at{constructor(){this.$implicit=null,this.ngIf=null}}function ct(de,Ae){if(Ae&&!Ae.createEmbeddedView)throw new Error(`${de} must be a TemplateRef, but received '${(0,y.GEN)(Ae)}'.`)}let $t=(()=>{var de;class Ae{constructor(Ie){this._viewContainerRef=Ie,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ie){if(this._shouldRecreateView(Ie)){var nt;const St=this._viewContainerRef;if(this._viewRef&&St.remove(St.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const dn=this._createContextForwardProxy();this._viewRef=St.createEmbeddedView(this.ngTemplateOutlet,dn,{injector:null!==(nt=this.ngTemplateOutletInjector)&&void 0!==nt?nt:void 0})}}_shouldRecreateView(Ie){return!!Ie.ngTemplateOutlet||!!Ie.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ie,nt,St)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,nt,St),get:(Ie,nt,St)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,nt,St)}})}}return(de=Ae).\u0275fac=function(Ie){return new(Ie||de)(y.GI1(y.y8U))},de.\u0275dir=y.Sc5({type:de,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.SYr]}),Ae})(),xo=(()=>{var de;class Ae{}return(de=Ae).\u0275fac=function(Ie){return new(Ie||de)},de.\u0275mod=y.a4G({type:de}),de.\u0275inj=y.s3X({}),Ae})();const Sr="browser",So="server";function po(de){return de===Sr}function qo(de){return de===So}let Xn=(()=>{var de;class Ae{}return(de=Ae).\u0275prov=(0,y.wxM)({token:de,providedIn:"root",factory:()=>po((0,y.uUt)(y.AHE))?new Uo((0,y.uUt)(S),window):new co}),Ae})();class Uo{constructor(Ae,dt){this.document=Ae,this.window=dt,this.offset=()=>[0,0]}setOffset(Ae){this.offset=Array.isArray(Ae)?()=>Ae:Ae}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Ae){this.window.scrollTo(Ae[0],Ae[1])}scrollToAnchor(Ae){const dt=function oo(de,Ae){const dt=de.getElementById(Ae)||de.getElementsByName(Ae)[0];if(dt)return dt;if("function"==typeof de.createTreeWalker&&de.body&&"function"==typeof de.body.attachShadow){const Ie=de.createTreeWalker(de.body,NodeFilter.SHOW_ELEMENT);let nt=Ie.currentNode;for(;nt;){const St=nt.shadowRoot;if(St){const dn=St.getElementById(Ae)||St.querySelector(`[name="${Ae}"]`);if(dn)return dn}nt=Ie.nextNode()}}return null}(this.document,Ae);dt&&(this.scrollToElement(dt),dt.focus())}setHistoryScrollRestoration(Ae){this.window.history.scrollRestoration=Ae}scrollToElement(Ae){const dt=Ae.getBoundingClientRect(),Ie=dt.left+this.window.pageXOffset,nt=dt.top+this.window.pageYOffset,St=this.offset();this.window.scrollTo(Ie-St[0],nt-St[1])}}class co{setOffset(Ae){}getScrollPosition(){return[0,0]}scrollToPosition(Ae){}scrollToAnchor(Ae){}setHistoryScrollRestoration(Ae){}}class Ro{}},4496:(pn,jt,ge)=>{"use strict";ge.d(jt,{qid:()=>hh,QHP:()=>he,kZF:()=>L0,Ev2:()=>sM,Swk:()=>Xs,YND:()=>nn,kD9:()=>X0,ESV:()=>O2,ayF:()=>B2,syz:()=>si,GMv:()=>Bs,SIe:()=>ds,eAe:()=>Vs,_w7:()=>Yt,_6O:()=>wt,UbH:()=>be,zZn:()=>ts,Uj7:()=>wh,YNh:()=>xh,KYU:()=>dc,obV:()=>kg,oF$:()=>fi,WW2:()=>so,T7N:()=>Xl,AHE:()=>it,crf:()=>Ze,q87:()=>ix,O8F:()=>Vm,yzm:()=>bu,SI6:()=>ui,Qfh:()=>Kl,Yw2:()=>al,G4X:()=>D2,eOv:()=>k0,a8Z:()=>M0,y8U:()=>Uu,K6R:()=>En,I44:()=>Km,cZD:()=>PM,kdu:()=>GM,SIz:()=>yf,Gk1:()=>lE,grM:()=>W0,agy:()=>H2,wd:()=>Cr,uUt:()=>_r,_Ap:()=>qn,AFj:()=>Ql,m4O:()=>oM,o9M:()=>$M,SMS:()=>n_,sRj:()=>RM,oPY:()=>I0,i4S:()=>Xc,GUM:()=>_a,g9Y:()=>ta,OBp:()=>Ke,aS5:()=>j0,Mn9:()=>P0,Y8L:()=>Qe,Om8:()=>Ap,ozE:()=>mu,K2p:()=>qi,GM_:()=>z_,u8n:()=>K_,ER9:()=>Y_,Vfw:()=>q_,Gc:()=>X_,iMv:()=>Hf,G58:()=>gt,y02:()=>Ly,IHs:()=>Sn,K_M:()=>Ah,Guz:()=>Ws,w5$:()=>dh,gX2:()=>R0,auf:()=>Ic,GEN:()=>Re,E2t:()=>Rs,eg9:()=>pf,Wk5:()=>ye,QJr:()=>Pg,SYr:()=>ed,M5G:()=>Xv,UHJ:()=>Kv,yG2:()=>lm,e48:()=>If,eAK:()=>kf,szK:()=>Cv,In1:()=>Ot,Sc5:()=>Ve,wxM:()=>Fr,s3X:()=>ri,a4G:()=>Ne,UTH:()=>pt,GI1:()=>Ki,wR5:()=>Uf,C_f:()=>Vf,C$Y:()=>ec,I0R:()=>Zu,KQA:()=>Py,otF:()=>up,CoB:()=>Oo,gJ8:()=>ud,KEo:()=>cm,qCj:()=>qf,Gqi:()=>Mv,GaO:()=>fv,_Xx:()=>pv,kPM:()=>hv,E7m:()=>jf,CI5:()=>sc,q4q:()=>s0,wto:()=>Dv,Gew:()=>Iv,CGJ:()=>Aa,usT:()=>_i,K6U:()=>yd,YFg:()=>jp,m_g:()=>fs,yuY:()=>na,OEk:()=>Fv,cNF:()=>Xf,oRS:()=>ic,CAO:()=>Kf,kNx:()=>qv,iHE:()=>Qf,OKB:()=>Jf,CC$:()=>Sv}),ge(1528);let rt=null,o=1;const $=Symbol("SIGNAL");function S(t){const n=rt;return rt=t,n}function i(t){if((!F(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==o)){if(!t.producerMustRecompute(t)&&!m(t))return t.dirty=!1,void(t.lastCleanEpoch=o);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=o}}function m(t){N(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==r.version||(i(r),s!==r.version))return!0}return!1}function M(t,n){if(function P(t){var n,r;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(r=t.liveConsumerIndexOfThis)&&void 0!==r||(t.liveConsumerIndexOfThis=[])}(t),N(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)M(t.producerNode[s],t.producerIndexOfThis[s]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],g=t.liveConsumerNode[n];N(g),g.producerIndexOfThis[s]=n}}function F(t){var n,r;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(r=t.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function N(t){var n,r,s;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(r=t.producerIndexOfThis)&&void 0!==r||(t.producerIndexOfThis=[]),null!==(s=t.producerLastReadVersion)&&void 0!==s||(t.producerLastReadVersion=[])}let Y=null;var tt=ge(5657),Oe=ge(4548),ke=ge(6700),Be=ge(4704);const Qe="https://g.co/ng/security#xss";class Ke extends Error{constructor(n,r){super(gt(n,r)),this.code=n}}function gt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function sn(t){return n=>{setTimeout(t,void 0,n)}}const Yt=class un extends tt.E{constructor(n=!1){super(),this.__isAsync=n}emit(n){const r=S(null);try{super.next(n)}finally{S(r)}}subscribe(n,r,s){let g=n,O=r||(()=>null),G=s;if(n&&"object"==typeof n){var re,ce,Se;const Xe=n;g=null===(re=Xe.next)||void 0===re?void 0:re.bind(Xe),O=null===(ce=Xe.error)||void 0===ce?void 0:ce.bind(Xe),G=null===(Se=Xe.complete)||void 0===Se?void 0:Se.bind(Xe)}this.__isAsync&&(O=sn(O),g&&(g=sn(g)),G&&(G=sn(G)));const Ue=super.subscribe({next:g,error:O,complete:G});return n instanceof Oe.wH&&n.add(Ue),Ue}};var wt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(wt||{});function Re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Ge(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}var vn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vn||{}),En=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(En||{});function Cn(t){return{toString:t}.toString()}const Sn=globalThis,Wn={},Nn=[];function ee(t){for(let n in t)if(t[n]===ee)return n;throw Error("Could not find renamed property on target object.")}function ie(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}const we=ee({\u0275cmp:ee}),D=ee({\u0275dir:ee}),R=ee({\u0275pipe:ee}),U=ee({\u0275mod:ee}),H=ee({\u0275fac:ee}),le=ee({__NG_ELEMENT_ID__:ee}),Q=ee({__NG_ENV_ID__:ee});var ye=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ye||{});function Me(t,n,r){let s=t.length;for(;;){const g=t.indexOf(n,r);if(-1===g)return g;if(0===g||t.charCodeAt(g-1)<=32){const O=n.length;if(g+O===s||t.charCodeAt(g+O)<=32)return g}r=g+1}}function qe(t,n,r){let s=0;for(;s<r.length;){const g=r[s];if("number"==typeof g){if(0!==g)break;s++;const O=r[s++],G=r[s++],re=r[s++];t.setAttribute(n,G,re,O)}else{const O=g,G=r[++s];qt(O)?t.setProperty(n,O,G):t.setAttribute(n,O,G),s++}}return s}function _t(t){return 3===t||4===t||6===t}function qt(t){return 64===t.charCodeAt(0)}function cn(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let s=0;s<n.length;s++){const g=n[s];"number"==typeof g?r=g:0===r||an(t,r,g,null,-1===r||2===r?n[++s]:null)}}return t}function an(t,n,r,s,g){let O=0,G=t.length;if(-1===n)G=-1;else for(;O<t.length;){const re=t[O++];if("number"==typeof re){if(re===n){G=-1;break}if(re>n){G=O-1;break}}}for(;O<t.length;){const re=t[O];if("number"==typeof re)break;if(re===r){if(null===s)return void(null!==g&&(t[O+1]=g));if(s===t[O+1])return void(t[O+2]=g)}O++,null!==s&&O++,null!==g&&O++}-1!==G&&(t.splice(G,0,n),O=G+1),t.splice(O++,0,r),null!==s&&t.splice(O++,0,s),null!==g&&t.splice(O++,0,g)}const On="ng-template";function zn(t,n,r){let s=0,g=!0;for(;s<t.length;){let O=t[s++];if("string"==typeof O&&g){const G=t[s++];if(r&&"class"===O&&-1!==Me(G.toLowerCase(),n,0))return!0}else{if(1===O){for(;s<t.length&&"string"==typeof(O=t[s++]);)if(O.toLowerCase()===n)return!0;return!1}"number"==typeof O&&(g=!1)}}return!1}function Gn(t){return 4===t.type&&t.value!==On}function kr(t,n,r){return n===(4!==t.type||r?t.value:On)}function ar(t,n,r){let s=4;const g=t.attrs||[],O=function Ut(t){for(let n=0;n<t.length;n++)if(_t(t[n]))return n;return t.length}(g);let G=!1;for(let re=0;re<n.length;re++){const ce=n[re];if("number"!=typeof ce){if(!G)if(4&s){if(s=2|1&s,""!==ce&&!kr(t,ce,r)||""===ce&&1===n.length){if(at(s))return!1;G=!0}}else{const Se=8&s?ce:n[++re];if(8&s&&null!==t.attrs){if(!zn(t.attrs,Se,r)){if(at(s))return!1;G=!0}continue}const Xe=ct(8&s?"class":ce,g,Gn(t),r);if(-1===Xe){if(at(s))return!1;G=!0;continue}if(""!==Se){let ht;ht=Xe>O?"":g[Xe+1].toLowerCase();const At=8&s?ht:null;if(At&&-1!==Me(At,Se,0)||2&s&&Se!==ht){if(at(s))return!1;G=!0}}}}else{if(!G&&!at(s)&&!at(ce))return!1;if(G&&at(ce))continue;G=!1,s=ce|1&s}}return at(s)||G}function at(t){return 0==(1&t)}function ct(t,n,r,s){if(null===n)return-1;let g=0;if(s||!r){let O=!1;for(;g<n.length;){const G=n[g];if(G===t)return g;if(3===G||6===G)O=!0;else{if(1===G||2===G){let re=n[++g];for(;"string"==typeof re;)re=n[++g];continue}if(4===G)break;if(0===G){g+=4;continue}}g+=O?1:2}return-1}return function fn(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const s=t[r];if("number"==typeof s)return-1;if(s===n)return r;r++}return-1}(n,t)}function $e(t,n,r=!1){for(let s=0;s<n.length;s++)if(ar(t,n[s],r))return!0;return!1}function An(t,n){e:for(let r=0;r<n.length;r++){const s=n[r];if(t.length===s.length){for(let g=0;g<t.length;g++)if(t[g]!==s[g])continue e;return!0}}return!1}function Tt(t,n){return t?":not("+n.trim()+")":n}function Pe(t){let n=t[0],r=1,s=2,g="",O=!1;for(;r<t.length;){let G=t[r];if("string"==typeof G)if(2&s){const re=t[++r];g+="["+G+(re.length>0?'="'+re+'"':"")+"]"}else 8&s?g+="."+G:4&s&&(g+=" "+G);else""!==g&&!at(G)&&(n+=Tt(O,g),g=""),s=G,O=O||!at(s);r++}return""!==g&&(n+=Tt(O,g)),n}function Ot(t){return Cn(()=>{var n;const r=Or(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||En.Emulated,styles:t.styles||Nn,_:null,schemas:t.schemas||null,tView:null,id:""};Tr(s);const g=t.dependencies;return s.directiveDefs=Rr(g,!1),s.pipeDefs=Rr(g,!0),s.id=function Br(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const g of r)n=Math.imul(31,n)+g.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function $t(t){return Qt(t)||Dn(t)}function oe(t){return null!==t}function Ne(t){return Cn(()=>({type:t.type,bootstrap:t.bootstrap||Nn,declarations:t.declarations||Nn,imports:t.imports||Nn,exports:t.exports||Nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ve(t,n){if(null==t)return Wn;const r={};for(const g in t)if(t.hasOwnProperty(g)){const O=t[g];let G,re,ce=ye.None;var s;Array.isArray(O)?(ce=O[0],G=O[1],re=null!==(s=O[2])&&void 0!==s?s:G):(G=O,re=O),n?(r[G]=ce!==ye.None?[g,ce]:g,n[G]=re):r[G]=g}return r}function Ve(t){return Cn(()=>{const n=Or(t);return Tr(n),n})}function pt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qt(t){return t[we]||null}function Dn(t){return t[D]||null}function jn(t){return t[R]||null}function qn(t){const n=Qt(t)||Dn(t)||jn(t);return null!==n&&n.standalone}function Kn(t,n){const r=t[U]||null;if(!r&&!0===n)throw new Error(`Type ${Re(t)} does not have '\u0275mod' property.`);return r}function Or(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Wn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ve(t.inputs,n),outputs:ve(t.outputs),debugInfo:null}}function Tr(t){var n;null===(n=t.features)||void 0===n||n.forEach(r=>r(t))}function Rr(t,n){if(!t)return null;const r=n?jn:$t;return()=>("function"==typeof t?t():t).map(s=>r(s)).filter(oe)}const pr=0,Tn=1,Fn=2,fr=3,Yr=4,wr=5,Lr=6,uo=7,ur=8,yr=9,$r=10,Yn=11,ro=12,zo=13,xo=14,Sr=15,So=16,To=17,ho=18,po=19,qo=20,Po=21,mo=22,ko=23,Xn=25,Uo=1,co=7,Lo=9,vr=10;var Yo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yo||{});function Vr(t){return Array.isArray(t)&&"object"==typeof t[Uo]}function Hr(t){return Array.isArray(t)&&!0===t[Uo]}function Eo(t){return 0!=(4&t.flags)}function Xr(t){return t.componentOffset>-1}function Rn(t){return 1==(1&t.flags)}function Do(t){return!!t.template}function Xo(t){return 0!=(512&t[Fn])}let It=!1;function mt(t){for(;Array.isArray(t);)t=t[pr];return t}function tn(t,n){return mt(n[t])}function on(t,n){return mt(n[t.index])}function Kt(t,n){return t.data[n]}function $n(t,n){const r=n[t];return Vr(r)?r:r[pr]}function Un(t){return 128==(128&t[Fn])}function er(t,n){return null==n?null:t[n]}function Ur(t){t[To]=0}function Kr(t){1024&t[Fn]||(t[Fn]|=1024,Un(t)&&xr(t))}function Jr(t){var n;return!!(9216&t[Fn]||null!==(n=t[ko])&&void 0!==n&&n.dirty)}function fo(t){if(Jr(t))xr(t);else if(64&t[Fn])if(function Vt(){return It}())t[Fn]|=1024,xr(t);else{var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify()}}function xr(t){var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();let r=Pr(t);for(;null!==r&&!(8192&r[Fn])&&(r[Fn]|=8192,Un(r));)r=Pr(r)}function Dr(t,n){if(256==(256&t[Fn]))throw new Ke(911,!1);null===t[Po]&&(t[Po]=[]),t[Po].push(n)}function Pr(t){const n=t[fr];return Hr(n)?n[fr]:n}const Ln={lFrame:eo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fs(){return Ln.bindingsEnabled}function Ms(){return null!==Ln.skipHydrationRootTNode}function mn(){return Ln.lFrame.lView}function hr(){return Ln.lFrame.tView}function _i(t){return Ln.lFrame.contextLView=t,t[ur]}function Aa(t){return Ln.lFrame.contextLView=null,t}function Ar(){let t=Oa();for(;null!==t&&64===t.type;)t=t.parent;return t}function Oa(){return Ln.lFrame.currentTNode}function Qo(t,n){const r=Ln.lFrame;r.currentTNode=t,r.isParent=n}function wi(){return Ln.lFrame.isParent}function xi(){Ln.lFrame.isParent=!1}function de(){return Ln.lFrame.bindingIndex++}function Ae(t){const n=Ln.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function nt(t,n){const r=Ln.lFrame;r.bindingIndex=r.bindingRootIndex=t,dn(n)}function dn(t){Ln.lFrame.currentDirectiveIndex=t}function or(){return Ln.lFrame.currentQueryIndex}function sr(t){Ln.lFrame.currentQueryIndex=t}function Er(t){const n=t[Tn];return 2===n.type?n.declTNode:1===n.type?t[wr]:null}function rr(t,n,r){if(r&wt.SkipSelf){let g=n,O=t;for(;!(g=g.parent,null!==g||r&wt.Host||(g=Er(O),null===g||(O=O[xo],10&g.type))););if(null===g)return!1;n=g,t=O}const s=Ln.lFrame=Mr();return s.currentTNode=n,s.lView=t,!0}function Ir(t){const n=Mr(),r=t[Tn];Ln.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Mr(){const t=Ln.lFrame,n=null===t?null:t.child;return null===n?eo(t):n}function eo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Zo(){const t=Ln.lFrame;return Ln.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yo=Zo;function es(){const t=Zo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zr(){return Ln.lFrame.selectedIndex}function Co(t){Ln.lFrame.selectedIndex=t}function ir(){const t=Ln.lFrame;return Kt(t.tView,t.selectedIndex)}let Pa=!0;function Si(){return Pa}function Ts(t){Pa=t}function wc(){return gs(Ar(),mn())}function gs(t,n){return new Bs(on(t,n))}let Na,Bs=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=wc,n})();function xc(t){return t instanceof Bs?t.nativeElement:t}function Us(t,n){t.forEach(r=>Array.isArray(r)?Us(r,n):n(r))}function Ec(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function ka(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function No(t,n,r){let s=As(t,n);return s>=0?t[1|s]=r:(s=~s,function Mi(t,n,r,s){let g=t.length;if(g==n)t.push(r,s);else if(1===g)t.push(s,t[0]),t[0]=r;else{for(g--,t.push(t[g-1],t[g]);g>n;)t[g]=t[g-2],g--;t[n]=r,t[n+1]=s}}(t,s,n,r)),s}function Fl(t,n){const r=As(t,n);if(r>=0)return t[1|r]}function As(t,n){return function Sc(t,n,r){let s=0,g=t.length>>r;for(;g!==s;){const O=s+(g-s>>1),G=t[O<<r];if(n===G)return O<<r;G>n?g=O:s=O+1}return~(g<<r)}(t,n,1)}function Ih(){return this._results[Symbol.iterator]()}class Bl{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new Yt}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Bl.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Ih)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const s=function Qr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Nl(t,n,r){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let g=t[s],O=n[s];if(r&&(g=r(g),O=r(O)),O!==g)return!1}return!0}(this._results,s,r))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Ii(t){return 128==(128&t.flags)}function Ic(t){Na=t}function Fr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ri(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ai(t){return Tc(t,Ba)||Tc(t,ae)}function Ah(t){return null!==Ai(t)}function Tc(t,n){return t.hasOwnProperty(n)?t[n]:null}function Fa(t){return t&&(t.hasOwnProperty(Ul)||t.hasOwnProperty(me))?t[Ul]:null}const Ba=ee({\u0275prov:ee}),Ul=ee({\u0275inj:ee}),ae=ee({ngInjectableDef:ee}),me=ee({ngInjectorDef:ee});class be{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Fr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const he=new be("",{providedIn:"root",factory:()=>Ee}),Ee="ng",Ze=new be(""),it=new be("",{providedIn:"platform",factory:()=>"unknown"}),nn=new be("",{providedIn:"root",factory:()=>{var t;return(null===(t=function ys(){if(void 0!==Na)return Na;if(typeof document<"u")return document;throw new Ke(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),qr=ee({__forward_ref__:ee});function Cr(t){return t.__forward_ref__=Cr,t.toString=function(){return Re(this())},t}function Hn(t){return is(t)?t():t}function is(t){return"function"==typeof t&&t.hasOwnProperty(qr)&&t.__forward_ref__===Cr}function Oc(t){return t&&!!t.\u0275providers}function lr(t){return"string"==typeof t?t:null==t?"":String(t)}function jc(t,n){throw new Ke(-201,!1)}let Pc;function jh(){return Pc}function $o(t){const n=Pc;return Pc=t,n}function Ph(t,n,r){const s=Ai(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&wt.Optional?null:void 0!==n?n:void jc()}const Ua={},kc="__NG_DI_FLAG__",Gl="ngTempTokenPath",Tb=/\n/gm,kh="__source";let Oi;function $s(t){const n=Oi;return Oi=t,n}function jb(t,n=wt.Default){if(void 0===Oi)throw new Ke(-203,!1);return null===Oi?Ph(t,void 0,n):Oi.get(t,n&wt.Optional?null:void 0,n)}function Oo(t,n=wt.Default){return(jh()||jb)(Hn(t),n)}function _r(t,n=wt.Default){return Oo(t,$l(n))}function $l(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rc(t){const n=[];for(let r=0;r<t.length;r++){const s=Hn(t[r]);if(Array.isArray(s)){if(0===s.length)throw new Ke(900,!1);let g,O=wt.Default;for(let G=0;G<s.length;G++){const re=s[G],ce=Pb(re);"number"==typeof ce?-1===ce?g=re.token:O|=ce:g=re}n.push(Oo(g,O))}else n.push(Oo(s))}return n}function Ga(t,n){return t[kc]=n,t.prototype[kc]=n,t}function Pb(t){return t[kc]}let Lh=()=>null;function Uc(t,n,r=!1){return Lh(t,n,r)}const Ni="__parameters__";function Bi(t,n,r){return Cn(()=>{const s=function Hc(t){return function(...r){if(t){const s=t(...r);for(const g in s)this[g]=s[g]}}}(n);function g(...O){if(this instanceof g)return s.apply(this,O),this;const G=new g(...O);return re.annotation=G,re;function re(ce,Se,Ue){const Xe=ce.hasOwnProperty(Ni)?ce[Ni]:Object.defineProperty(ce,Ni,{value:[]})[Ni];for(;Xe.length<=Ue;)Xe.push(null);return(Xe[Ue]=Xe[Ue]||[]).push(G),ce}}return r&&(g.prototype=Object.create(r.prototype)),g.prototype.ngMetadataName=t,g.annotationCls=g,g})}const Xl=Ga(Bi("Optional"),8),Kl=Ga(Bi("SkipSelf"),4);function oi(t,n){return t.hasOwnProperty(H)?t[H]:null}const si=new be(""),$h=new be("",-1),Wc=new be("");class Jl{get(n,r=Ua){if(r===Ua){const s=new Error(`NullInjectorError: No provider for ${Re(n)}!`);throw s.name="NullInjectorError",s}return r}}function Ql(t){return{\u0275providers:t}}function qb(...t){return{\u0275providers:zc(0,t),\u0275fromNgModule:!0}}function zc(t,...n){const r=[],s=new Set;let g;const O=G=>{r.push(G)};return Us(n,G=>{const re=G;Zl(re,O,[],s)&&(g||(g=[]),g.push(re))}),void 0!==g&&Vh(g,O),r}function Vh(t,n){for(let r=0;r<t.length;r++){const{ngModule:s,providers:g}=t[r];qc(g,O=>{n(O,s)})}}function Zl(t,n,r,s){if(!(t=Hn(t)))return!1;let g=null,O=Fa(t);const G=!O&&Qt(t);if(O||G){if(G&&!G.standalone)return!1;g=t}else{const ce=t.ngModule;if(O=Fa(ce),!O)return!1;g=ce}const re=s.has(g);if(G){if(re)return!1;if(s.add(g),G.dependencies){const ce="function"==typeof G.dependencies?G.dependencies():G.dependencies;for(const Se of ce)Zl(Se,n,r,s)}}else{if(!O)return!1;{if(null!=O.imports&&!re){let Se;s.add(g);try{Us(O.imports,Ue=>{Zl(Ue,n,r,s)&&(Se||(Se=[]),Se.push(Ue))})}finally{}void 0!==Se&&Vh(Se,n)}if(!re){const Se=oi(g)||(()=>new g);n({provide:g,useFactory:Se,deps:Nn},g),n({provide:Wc,useValue:g,multi:!0},g),n({provide:si,useValue:()=>Oo(g),multi:!0},g)}const ce=O.providers;if(null!=ce&&!re){const Se=t;qc(ce,Ue=>{n(Ue,Se)})}}}return g!==t&&void 0!==t.providers}function qc(t,n){for(let r of t)Oc(r)&&(r=r.\u0275providers),Array.isArray(r)?qc(r,n):n(r)}const Yb=ee({provide:String,useValue:ee});function Yc(t){return null!==t&&"object"==typeof t&&Yb in t}function ii(t){return"function"==typeof t}const Xc=new be(""),eu={},Kb={};let Kc;function tu(){return void 0===Kc&&(Kc=new Jl),Kc}class ds{}class Ui extends ds{get destroyed(){return this._destroyed}constructor(n,r,s,g){super(),this.parent=r,this.source=s,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qc(n,G=>this.processProvider(G)),this.records.set($h,Gi(void 0,this)),g.has("environment")&&this.records.set(ds,Gi(void 0,this));const O=this.records.get(Xc);null!=O&&"string"==typeof O.value&&this.scopes.add(O.value),this.injectorDefTypes=new Set(this.get(Wc,Nn,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=S(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=$s(this),s=$o(void 0);try{return n()}finally{$s(r),$o(s)}}get(n,r=Ua,s=wt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Q))return n[Q](this);s=$l(s);const O=$s(this),G=$o(void 0);try{if(!(s&wt.SkipSelf)){let ce=this.records.get(n);if(void 0===ce){const Se=function t_(t){return"function"==typeof t||"object"==typeof t&&t instanceof be}(n)&&Ai(n);ce=Se&&this.injectableDefInScope(Se)?Gi(Jc(n),eu):null,this.records.set(n,ce)}if(null!=ce)return this.hydrate(n,ce)}return(s&wt.Self?tu():this.parent).get(n,r=s&wt.Optional&&r===Ua?null:r)}catch(re){if("NullInjectorError"===re.name){if((re[Gl]=re[Gl]||[]).unshift(Re(n)),O)throw re;return function kb(t,n,r,s){const g=t[Gl];throw n[kh]&&g.unshift(n[kh]),t.message=function Rb(t,n,r,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let g=Re(n);if(Array.isArray(n))g=n.map(Re).join(" -> ");else if("object"==typeof n){let O=[];for(let G in n)if(n.hasOwnProperty(G)){let re=n[G];O.push(G+":"+("string"==typeof re?JSON.stringify(re):Re(re)))}g=`{${O.join(", ")}}`}return`${r}${s?"("+s+")":""}[${g}]: ${t.replace(Tb,"\n  ")}`}("\n"+t.message,g,r,s),t.ngTokenPath=g,t[Gl]=null,t}(re,n,"R3InjectorError",this.source)}throw re}finally{$o(G),$s(O)}}resolveInjectorInitializers(){const n=S(null),r=$s(this),s=$o(void 0);try{const O=this.get(si,Nn,wt.Self);for(const G of O)G()}finally{$s(r),$o(s),S(n)}}toString(){const n=[],r=this.records;for(const s of r.keys())n.push(Re(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processProvider(n){let r=ii(n=Hn(n))?n:Hn(n&&n.provide);const s=function Qb(t){return Yc(t)?Gi(void 0,t.useValue):Gi(zh(t),eu)}(n);if(!ii(n)&&!0===n.multi){let g=this.records.get(r);g||(g=Gi(void 0,eu,!0),g.factory=()=>Rc(g.multi),this.records.set(r,g)),r=n,g.multi.push(n)}this.records.set(r,s)}hydrate(n,r){const s=S(null);try{return r.value===eu&&(r.value=Kb,r.value=r.factory()),"object"==typeof r.value&&r.value&&function e_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{S(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Hn(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Jc(t){const n=Ai(t),r=null!==n?n.factory:oi(t);if(null!==r)return r;if(t instanceof be)throw new Ke(204,!1);if(t instanceof Function)return function Jb(t){if(t.length>0)throw new Ke(204,!1);const r=function Oh(t){return t&&(t[Ba]||t[ae])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Ke(204,!1)}function zh(t,n,r){let s;if(ii(t)){const g=Hn(t);return oi(g)||Jc(g)}if(Yc(t))s=()=>Hn(t.useValue);else if(function Wh(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Rc(t.deps||[]));else if(function Hh(t){return!(!t||!t.useExisting)}(t))s=()=>Oo(Hn(t.useExisting));else{const g=Hn(t&&(t.useClass||t.provide));if(!function Zb(t){return!!t.deps}(t))return oi(g)||Jc(g);s=()=>new g(...Rc(t.deps))}return s}function Gi(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Qc(t,n){for(const r of t)Array.isArray(r)?Qc(r,n):r&&Oc(r)?Qc(r.\u0275providers,n):n(r)}function n_(t,n){t instanceof Ui&&t.assertNotDestroyed();const s=$s(t),g=$o(void 0);try{return n()}finally{$s(s),$o(g)}}class f_{constructor(n,r,s){this.previousValue=n,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function Yh(t,n,r,s){null!==n?n.applyValueToInputSignal(n,s):t[r]=s}function ed(){return Xh}function Xh(t){return t.type.prototype.ngOnChanges&&(t.setInput=p_),h_}function h_(){const t=Jh(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===Wn)t.previous=n;else for(let s in n)r[s]=n[s];t.current=null,this.ngOnChanges(n)}}function p_(t,n,r,s,g){const O=this.declaredInputs[s],G=Jh(t)||function m_(t,n){return t[Kh]=n}(t,{previous:Wn,current:null}),re=G.current||(G.current={}),ce=G.previous,Se=ce[O];re[O]=new f_(Se&&Se.currentValue,r,ce===Wn),Yh(t,n,g,r)}ed.ngInherit=!0;const Kh="__ngSimpleChanges__";function Jh(t){return t[Kh]||null}const vs=function(t,n,r){};function ou(t,n){for(let Se=n.directiveStart,Ue=n.directiveEnd;Se<Ue;Se++){const ht=t.data[Se].type.prototype,{ngAfterContentInit:At,ngAfterContentChecked:en,ngAfterViewInit:gn,ngAfterViewChecked:Mn,ngOnDestroy:Pn}=ht;var r,s,g,O,G,re,ce;At&&(null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(-Se,At),en&&((null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(Se,en),(null!==(g=t.contentCheckHooks)&&void 0!==g?g:t.contentCheckHooks=[]).push(Se,en)),gn&&(null!==(O=t.viewHooks)&&void 0!==O?O:t.viewHooks=[]).push(-Se,gn),Mn&&((null!==(G=t.viewHooks)&&void 0!==G?G:t.viewHooks=[]).push(Se,Mn),(null!==(re=t.viewCheckHooks)&&void 0!==re?re:t.viewCheckHooks=[]).push(Se,Mn)),null!=Pn&&(null!==(ce=t.destroyHooks)&&void 0!==ce?ce:t.destroyHooks=[]).push(Se,Pn)}}function su(t,n,r){Qh(t,n,3,r)}function iu(t,n,r,s){(3&t[Fn])===r&&Qh(t,n,r,s)}function nd(t,n){let r=t[Fn];(3&r)===n&&(r&=16383,r+=1,t[Fn]=r)}function Qh(t,n,r,s){const O=null!=s?s:-1,G=n.length-1;let re=0;for(let ce=void 0!==s?65535&t[To]:0;ce<G;ce++)if("number"==typeof n[ce+1]){if(re=n[ce],null!=s&&re>=s)break}else n[ce]<0&&(t[To]+=65536),(re<O||-1==O)&&(v_(t,r,n,ce),t[To]=(4294901760&t[To])+ce+2),ce++}function Zh(t,n){vs(4,t,n);const r=S(null);try{n.call(t)}finally{S(r),vs(5,t,n)}}function v_(t,n,r,s){const g=r[s]<0,O=r[s+1],re=t[g?-r[s]:r[s]];g?t[Fn]>>14<t[To]>>16&&(3&t[Fn])===n&&(t[Fn]+=16384,Zh(re,O)):Zh(re,O)}const Vi=-1;class qa{constructor(n,r,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}function od(t){return t!==Vi}function Ya(t){return 32767&t}function Xa(t,n){let r=function E_(t){return t>>16}(t),s=n;for(;r>0;)s=s[xo],r--;return s}let sd=!0;function au(t){const n=sd;return sd=t,n}const ep=255,tp=5;let C_=0;const bs={};function lu(t,n){const r=np(t,n);if(-1!==r)return r;const s=n[Tn];s.firstCreatePass&&(t.injectorIndex=n.length,id(s.data,t),id(n,null),id(s.blueprint,null));const g=uu(t,n),O=t.injectorIndex;if(od(g)){const G=Ya(g),re=Xa(g,n),ce=re[Tn].data;for(let Se=0;Se<8;Se++)n[O+Se]=re[G+Se]|ce[G+Se]}return n[O+8]=g,O}function id(t,n){t.push(0,0,0,0,0,0,0,0,n)}function np(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function uu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,s=null,g=n;for(;null!==g;){if(s=cp(g),null===s)return Vi;if(r++,g=g[xo],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return Vi}function ad(t,n,r){!function S_(t,n,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(le)&&(s=r[le]),null==s&&(s=r[le]=C_++);const g=s&ep;n.data[t+(g>>tp)]|=1<<g}(t,n,r)}function rp(t,n,r){if(r&wt.Optional||void 0!==t)return t;jc()}function op(t,n,r,s){if(r&wt.Optional&&void 0===s&&(s=null),!(r&(wt.Self|wt.Host))){const g=t[yr],O=$o(void 0);try{return g?g.get(n,s,r&wt.Optional):Ph(n,s,r&wt.Optional)}finally{$o(O)}}return rp(s,0,r)}function sp(t,n,r,s=wt.Default,g){if(null!==t){if(2048&n[Fn]&&!(s&wt.Self)){const G=function A_(t,n,r,s,g){let O=t,G=n;for(;null!==O&&null!==G&&2048&G[Fn]&&!(512&G[Fn]);){const re=ip(O,G,r,s|wt.Self,bs);if(re!==bs)return re;let ce=O.parent;if(!ce){const Se=G[qo];if(Se){const Ue=Se.get(r,bs,s);if(Ue!==bs)return Ue}ce=cp(G),G=G[xo]}O=ce}return g}(t,n,r,s,bs);if(G!==bs)return G}const O=ip(t,n,r,s,bs);if(O!==bs)return O}return op(n,r,s,g)}function ip(t,n,r,s,g){const O=function I_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(le)?t[le]:void 0;return"number"==typeof n?n>=0?n&ep:T_:n}(r);if("function"==typeof O){if(!rr(n,t,s))return s&wt.Host?rp(g,0,s):op(n,r,s,g);try{let G;if(G=O(s),null!=G||s&wt.Optional)return G;jc()}finally{yo()}}else if("number"==typeof O){let G=null,re=np(t,n),ce=Vi,Se=s&wt.Host?n[Sr][wr]:null;for((-1===re||s&wt.SkipSelf)&&(ce=-1===re?uu(t,n):n[re+8],ce!==Vi&&lp(s,!1)?(G=n[Tn],re=Ya(ce),n=Xa(ce,n)):re=-1);-1!==re;){const Ue=n[Tn];if(ap(O,re,Ue.data)){const Xe=M_(re,n,r,G,s,Se);if(Xe!==bs)return Xe}ce=n[re+8],ce!==Vi&&lp(s,n[Tn].data[re+8]===Se)&&ap(O,re,n)?(G=Ue,re=Ya(ce),n=Xa(ce,n)):re=-1}}return g}function M_(t,n,r,s,g,O){const G=n[Tn],re=G.data[t+8],Ue=cu(re,G,r,null==s?Xr(re)&&sd:s!=G&&0!=(3&re.type),g&wt.Host&&O===re);return null!==Ue?ai(n,G,Ue,re):bs}function cu(t,n,r,s,g){const O=t.providerIndexes,G=n.data,re=1048575&O,ce=t.directiveStart,Ue=O>>20,ht=g?re+Ue:t.directiveEnd;for(let At=s?re:re+Ue;At<ht;At++){const en=G[At];if(At<ce&&r===en||At>=ce&&en.type===r)return At}if(g){const At=G[ce];if(At&&Do(At)&&At.type===r)return ce}return null}function ai(t,n,r,s){let g=t[r];const O=n.data;if(function b_(t){return t instanceof qa}(g)){const G=g;G.resolving&&function Db(t,n){throw n&&n.join(" > "),new Ke(-200,t)}(function jr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lr(t)}(O[r]));const re=au(G.canSeeViewProviders);G.resolving=!0;const Se=G.injectImpl?$o(G.injectImpl):null;rr(t,s,wt.Default);try{g=t[r]=G.factory(void 0,O,t,s),n.firstCreatePass&&r>=s.directiveStart&&function y_(t,n,r){const{ngOnChanges:s,ngOnInit:g,ngDoCheck:O}=n.type.prototype;if(s){var G,re;const Xe=Xh(n);(null!==(G=r.preOrderHooks)&&void 0!==G?G:r.preOrderHooks=[]).push(t,Xe),(null!==(re=r.preOrderCheckHooks)&&void 0!==re?re:r.preOrderCheckHooks=[]).push(t,Xe)}var ce,Se,Ue;g&&(null!==(ce=r.preOrderHooks)&&void 0!==ce?ce:r.preOrderHooks=[]).push(0-t,g),O&&((null!==(Se=r.preOrderHooks)&&void 0!==Se?Se:r.preOrderHooks=[]).push(t,O),(null!==(Ue=r.preOrderCheckHooks)&&void 0!==Ue?Ue:r.preOrderCheckHooks=[]).push(t,O))}(r,O[r],n)}finally{null!==Se&&$o(Se),au(re),G.resolving=!1,yo()}}return g}function ap(t,n,r){return!!(r[n+(t>>tp)]&1<<t)}function lp(t,n){return!(t&wt.Self||t&wt.Host&&n)}class bo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,s){return sp(this._tNode,this._lView,n,$l(s),r)}}function T_(){return new bo(Ar(),mn())}function up(t){return Cn(()=>{const n=t.prototype.constructor,r=n[H]||ld(n),s=Object.prototype;let g=Object.getPrototypeOf(t.prototype).constructor;for(;g&&g!==s;){const O=g[H]||ld(g);if(O&&O!==r)return O;g=Object.getPrototypeOf(g)}return O=>new O})}function ld(t){return is(t)?()=>{const n=ld(Hn(t));return n&&n()}:oi(t)}function cp(t){const n=t[Tn],r=n.type;return 2===r?n.declTNode:1===r?t[wr]:null}function ud(t){return function D_(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const s=r.length;let g=0;for(;g<s;){const O=r[g];if(_t(O))break;if(0===O)g+=2;else if("number"==typeof O)for(g++;g<s&&"string"==typeof r[g];)g++;else{if(O===n)return r[g+1];g+=2}}}return null}(Ar(),t)}function mp(t,n=null,r=null,s){const g=gp(t,n,r,s);return g.resolveInjectorInitializers(),g}function gp(t,n=null,r=null,s,g=new Set){const O=[r||Nn,qb(t)];return s=s||("object"==typeof t?void 0:Re(t)),new Ui(O,n||tu(),s||null,g)}let ts=(()=>{var t;class n{static create(s,g){if(Array.isArray(s))return mp({name:""},g,s,"");{var O;const G=null!==(O=s.name)&&void 0!==O?O:"";return mp({name:G},s.parent,s.providers,G)}}}return(t=n).THROW_IF_NOT_FOUND=Ua,t.NULL=new Jl,t.\u0275prov=Fr({token:t,providedIn:"any",factory:()=>Oo($h)}),t.__NG_ELEMENT_ID__=-1,n})();function dd(t){return t.ngOriginalError}class Vs{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&dd(n);for(;r&&dd(r);)r=dd(r);return r||null}}const vp=new be("",{providedIn:"root",factory:()=>_r(Vs).handleError.bind(void 0)}),_p=new be("",{providedIn:"root",factory:()=>!1});let hu,pu;function zi(t){var n;return(null===(n=function fd(){if(void 0===hu&&(hu=null,Sn.trustedTypes))try{hu=Sn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hu}())||void 0===n?void 0:n.createHTML(t))||t}function Ep(t){var n;return(null===(n=function hd(){if(void 0===pu&&(pu=null,Sn.trustedTypes))try{pu=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pu}())||void 0===n?void 0:n.createScriptURL(t))||t}class li{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}class U_ extends li{getTypeName(){return"HTML"}}class G_ extends li{getTypeName(){return"Style"}}class $_ extends li{getTypeName(){return"Script"}}class V_ extends li{getTypeName(){return"URL"}}class H_ extends li{getTypeName(){return"ResourceURL"}}function Rs(t){return t instanceof li?t.changingThisBreaksApplicationSecurity:t}function qi(t,n){const r=function W_(t){return t instanceof li&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Qe})`)}return r===n}function z_(t){return new U_(t)}function q_(t){return new G_(t)}function Y_(t){return new $_(t)}function X_(t){return new V_(t)}function K_(t){return new H_(t)}class J_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(zi(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class Q_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=zi(n),r}}const e1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mu(t){return(t=String(t)).match(e1)?t:"unsafe:"+t}function Ls(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Ka(...t){const n={};for(const r of t)for(const s in r)r.hasOwnProperty(s)&&(n[s]=!0);return n}const Sp=Ls("area,br,col,hr,img,wbr"),Dp=Ls("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mp=Ls("rp,rt"),pd=Ka(Sp,Ka(Dp,Ls("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ka(Mp,Ls("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ka(Mp,Dp)),md=Ls("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ip=Ka(md,Ls("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ls("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),t1=Ls("script,style,template");class n1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,s=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?s=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,s&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let g=this.checkClobberedElement(r,r.nextSibling);if(g){r=g;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!pd.hasOwnProperty(r))return this.sanitizedSomething=!0,!t1.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const s=n.attributes;for(let g=0;g<s.length;g++){const O=s.item(g),G=O.name,re=G.toLowerCase();if(!Ip.hasOwnProperty(re)){this.sanitizedSomething=!0;continue}let ce=O.value;md[re]&&(ce=mu(ce)),this.buf.push(" ",G,'="',Tp(ce),'"')}return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();pd.hasOwnProperty(r)&&!Sp.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Tp(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const r1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o1=/([^\#-~ |!])/g;function Tp(t){return t.replace(/&/g,"&amp;").replace(r1,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(o1,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gu;function Ap(t,n){let r=null;try{gu=gu||function Cp(t){const n=new Q_(t);return function Z_(){try{return!!(new window.DOMParser).parseFromString(zi(""),"text/html")}catch{return!1}}()?new J_(n):n}(t);let s=n?String(n):"";r=gu.getInertBodyElement(s);let g=5,O=s;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,s=O,O=r.innerHTML,r=gu.getInertBodyElement(s)}while(s!==O);return zi((new n1).sanitizeChildren(gd(r)||r))}finally{if(r){const s=gd(r)||r;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function gd(t){return"content"in t&&function s1(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ui=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ui||{});function yd(t){const n=Ja();return n?n.sanitize(ui.URL,t)||"":qi(t,"URL")?Rs(t):mu(lr(t))}function Op(t){const n=Ja();if(n)return Ep(n.sanitize(ui.RESOURCE_URL,t)||"");if(qi(t,"ResourceURL"))return Ep(Rs(t));throw new Ke(904,!1)}function jp(t,n,r){return function d1(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Op:yd}(n,r)(t)}function Ja(){const t=mn();return t&&t[$r].sanitizer}const f1=/^>|^->|<!--|-->|--!>|<!-$/g,h1=/(<|>)/g,p1="\u200b$1\u200b";const vd=new Map;let b1=0;const _d="__ngContext__";function jo(t,n){Vr(n)?(t[_d]=n[po],function w1(t){vd.set(t[po],t)}(n)):t[_d]=n}function ns(t){return t instanceof Function?t():t}var bu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bu||{});let Cd;function Sd(t,n){return Cd(t,n)}function Xi(t,n,r,s,g){if(null!=s){let O,G=!1;Hr(s)?O=s:Vr(s)&&(G=!0,s=s[pr]);const re=mt(s);0===t&&null!==r?null==g?Jp(n,r,re):ci(n,r,re,g||null,!0):1===t&&null!==r?ci(n,r,re,g||null,!0):2===t?function Su(t,n,r){const s=Eu(t,n);s&&function V1(t,n,r,s){t.removeChild(n,r,s)}(t,s,n,r)}(n,re,G):3===t&&n.destroyNode(re),null!=O&&function z1(t,n,r,s,g){const O=r[co];O!==mt(r)&&Xi(n,t,s,O,g);for(let re=vr;re<r.length;re++){const ce=r[re];Du(ce[Tn],ce,t,n,s,O)}}(n,t,O,r,g)}}function Dd(t,n){return t.createComment(function Pp(t){return t.replace(f1,n=>n.replace(h1,p1))}(n))}function wu(t,n,r){return t.createElement(n,r)}function Yp(t,n){Du(t,n,n[Yn],2,null,null)}function Xp(t,n){const r=t[Lo],s=r.indexOf(n);r.splice(s,1)}function Za(t,n){if(t.length<=vr)return;const r=vr+n,s=t[r];if(s){const g=s[So];null!==g&&g!==t&&Xp(g,s),n>0&&(t[r-1][Yr]=s[Yr]);const O=ka(t,vr+n);!function L1(t,n){Yp(t,n),n[pr]=null,n[wr]=null}(s[Tn],s);const G=O[ho];null!==G&&G.detachView(O[Tn]),s[fr]=null,s[Yr]=null,s[Fn]&=-129}return s}function xu(t,n){if(!(256&n[Fn])){const r=n[Yn];r.destroyNode&&Du(t,n,r,3,null,null),function F1(t){let n=t[ro];if(!n)return Md(t[Tn],t);for(;n;){let r=null;if(Vr(n))r=n[ro];else{const s=n[vr];s&&(r=s)}if(!r){for(;n&&!n[Yr]&&n!==t;)Vr(n)&&Md(n[Tn],n),n=n[fr];null===n&&(n=t),Vr(n)&&Md(n[Tn],n),r=n&&n[Yr]}n=r}}(n)}}function Md(t,n){if(256&n[Fn])return;const r=S(null);try{n[Fn]&=-129,n[Fn]|=256,n[ko]&&function p(t){if(N(t),F(t))for(let n=0;n<t.producerNode.length;n++)M(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[ko]),function $1(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let s=0;s<r.length;s+=2){const g=n[r[s]];if(!(g instanceof qa)){const O=r[s+1];if(Array.isArray(O))for(let G=0;G<O.length;G+=2){const re=g[O[G]],ce=O[G+1];vs(4,re,ce);try{ce.call(re)}finally{vs(5,re,ce)}}else{vs(4,g,O);try{O.call(g)}finally{vs(5,g,O)}}}}}(t,n),function G1(t,n){const r=t.cleanup,s=n[uo];if(null!==r)for(let O=0;O<r.length-1;O+=2)if("string"==typeof r[O]){const G=r[O+3];G>=0?s[G]():s[-G].unsubscribe(),O+=2}else r[O].call(s[r[O+1]]);null!==s&&(n[uo]=null);const g=n[Po];if(null!==g){n[Po]=null;for(let O=0;O<g.length;O++)(0,g[O])()}}(t,n),1===n[Tn].type&&n[Yn].destroy();const s=n[So];if(null!==s&&Hr(n[fr])){s!==n[fr]&&Xp(s,n);const g=n[ho];null!==g&&g.detachView(t)}!function x1(t){vd.delete(t[po])}(n)}finally{S(r)}}function Id(t,n,r){return function Kp(t,n,r){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return r[pr];{const{componentOffset:g}=s;if(g>-1){const{encapsulation:O}=t.data[s.directiveStart+g];if(O===En.None||O===En.Emulated)return null}return on(s,r)}}(t,n.parent,r)}function ci(t,n,r,s,g){t.insertBefore(n,r,s,g)}function Jp(t,n,r){t.appendChild(n,r)}function Qp(t,n,r,s,g){null!==s?ci(t,n,r,s,g):Jp(t,n,r)}function Eu(t,n){return t.parentNode(n)}function Zp(t,n,r){return tm(t,n,r)}let Td,tm=function em(t,n,r){return 40&t.type?on(t,r):null};function Cu(t,n,r,s){const g=Id(t,s,n),O=n[Yn],re=Zp(s.parent||n[wr],s,n);if(null!=g)if(Array.isArray(r))for(let ce=0;ce<r.length;ce++)Qp(O,g,r[ce],re,!1);else Qp(O,g,r,re,!1);void 0!==Td&&Td(O,s,n,r,g)}function el(t,n){if(null!==n){const r=n.type;if(3&r)return on(n,t);if(4&r)return Ad(-1,t[n.index]);if(8&r){const s=n.child;if(null!==s)return el(t,s);{const g=t[n.index];return Hr(g)?Ad(-1,g):mt(g)}}if(32&r)return Sd(n,t)()||mt(t[n.index]);{const s=rm(t,n);return null!==s?Array.isArray(s)?s[0]:el(Pr(t[Sr]),s):el(t,n.next)}}return null}function rm(t,n){return null!==n?t[Sr][wr].projection[n.projection]:null}function Ad(t,n){const r=vr+t+1;if(r<n.length){const s=n[r],g=s[Tn].firstChild;if(null!==g)return el(s,g)}return n[co]}function Od(t,n,r,s,g,O,G){for(;null!=r;){const re=s[r.index],ce=r.type;if(G&&0===n&&(re&&jo(mt(re),s),r.flags|=2),32!=(32&r.flags))if(8&ce)Od(t,n,r.child,s,g,O,!1),Xi(n,t,g,re,O);else if(32&ce){const Se=Sd(r,s);let Ue;for(;Ue=Se();)Xi(n,t,g,Ue,O);Xi(n,t,g,re,O)}else 16&ce?sm(t,n,s,r,g,O):Xi(n,t,g,re,O);r=G?r.projectionNext:r.next}}function Du(t,n,r,s,g,O){Od(r,s,t.firstChild,n,g,O,!1)}function sm(t,n,r,s,g,O){const G=r[Sr],ce=G[wr].projection[s.projection];if(Array.isArray(ce))for(let Se=0;Se<ce.length;Se++)Xi(n,t,g,ce[Se],O);else{let Se=ce;const Ue=G[fr];Ii(s)&&(Se.flags|=128),Od(t,n,Se,Ue,g,O,!0)}}function im(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function am(t,n,r){const{mergedAttrs:s,classes:g,styles:O}=r;null!==s&&qe(t,n,s),null!==g&&im(t,n,g),null!==O&&function Y1(t,n,r){t.setAttribute(n,"style",r)}(t,n,O)}const cr={};function lm(t=1){um(hr(),mn(),zr()+t,!1)}function um(t,n,r,s){if(!s)if(3==(3&n[Fn])){const O=t.preOrderCheckHooks;null!==O&&su(n,O,r)}else{const O=t.preOrderHooks;null!==O&&iu(n,O,0,r)}Co(r)}function Ki(t,n=wt.Default){const r=mn();return null===r?Oo(t,n):sp(Ar(),r,Hn(t),n)}function cm(){throw new Error("invalid")}function dm(t,n,r,s,g,O){const G=S(null);try{let re=null;g&ye.SignalBased&&(re=n[s][$]),null!==re&&void 0!==re.transformFn&&(O=re.transformFn(O)),g&ye.HasDecoratorInputTransform&&(O=t.inputTransforms[s].call(n,O)),null!==t.setInput?t.setInput(n,re,O,r,s):Yh(n,re,s,O)}finally{S(G)}}function Mu(t,n,r,s,g,O,G,re,ce,Se,Ue){const Xe=n.blueprint.slice();return Xe[pr]=g,Xe[Fn]=204|s,(null!==Se||t&&2048&t[Fn])&&(Xe[Fn]|=2048),Ur(Xe),Xe[fr]=Xe[xo]=t,Xe[ur]=r,Xe[$r]=G||t&&t[$r],Xe[Yn]=re||t&&t[Yn],Xe[yr]=ce||t&&t[yr]||null,Xe[wr]=O,Xe[po]=function _1(){return b1++}(),Xe[Lr]=Ue,Xe[qo]=Se,Xe[Sr]=2==n.type?t[Sr]:Xe,Xe}function Ji(t,n,r,s,g){let O=t.data[n];if(null===O)O=function jd(t,n,r,s,g){const O=Oa(),G=wi(),ce=t.data[n]=function nw(t,n,r,s,g,O){let G=n?n.injectorIndex:-1,re=0;return Ms()&&(re|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:G,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:re,providerIndexes:0,value:g,attrs:O,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,G?O:O&&O.parent,r,n,s,g);return null===t.firstChild&&(t.firstChild=ce),null!==O&&(G?null==O.child&&null!==ce.parent&&(O.child=ce):null===O.next&&(O.next=ce,ce.prev=O)),ce}(t,n,r,s,g),function dt(){return Ln.lFrame.inI18n}()&&(O.flags|=32);else if(64&O.type){O.type=r,O.value=s,O.attrs=g;const G=function Is(){const t=Ln.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();O.injectorIndex=null===G?-1:G.injectorIndex}return Qo(O,!0),O}function tl(t,n,r,s){if(0===r)return-1;const g=n.length;for(let O=0;O<r;O++)n.push(s),t.blueprint.push(s),t.data.push(null);return g}function fm(t,n,r,s,g){const O=zr(),G=2&s;try{Co(-1),G&&n.length>Xn&&um(t,n,Xn,!1),vs(G?2:0,g),r(s,g)}finally{Co(O),vs(G?3:1,g)}}function Pd(t,n,r){if(Eo(n)){const s=S(null);try{const O=n.directiveEnd;for(let G=n.directiveStart;G<O;G++){const re=t.data[G];re.contentQueries&&re.contentQueries(1,r[G],G)}}finally{S(s)}}}function kd(t,n,r){Fs()&&(function uw(t,n,r,s){const g=r.directiveStart,O=r.directiveEnd;Xr(r)&&function gw(t,n,r){const s=on(n,t),g=hm(r);let G=16;r.signals?G=4096:r.onPush&&(G=64);const re=Iu(t,Mu(t,g,null,G,s,n,null,t[$r].rendererFactory.createRenderer(s,r),null,null,null));t[n.index]=re}(n,r,t.data[g+r.componentOffset]),t.firstCreatePass||lu(r,n),jo(s,n);const G=r.initialInputs;for(let re=g;re<O;re++){const ce=t.data[re],Se=ai(n,t,re,r);jo(Se,n),null!==G&&yw(0,re-g,Se,ce,0,G),Do(ce)&&($n(r.index,n)[ur]=ai(n,t,re,r))}}(t,n,r,on(r,n)),64==(64&r.flags)&&vm(t,n,r))}function Rd(t,n,r=on){const s=n.localNames;if(null!==s){let g=n.index+1;for(let O=0;O<s.length;O+=2){const G=s[O+1],re=-1===G?r(n,t):t[G];t[g++]=re}}}function hm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ld(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ld(t,n,r,s,g,O,G,re,ce,Se,Ue){const Xe=Xn+s,ht=Xe+g,At=function K1(t,n){const r=[];for(let s=0;s<n;s++)r.push(s<t?null:cr);return r}(Xe,ht),en="function"==typeof Se?Se():Se;return At[Tn]={type:t,blueprint:At,template:r,queries:null,viewQuery:re,declTNode:n,data:At.slice().fill(null,Xe),bindingStartIndex:Xe,expandoStartIndex:ht,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof O?O():O,pipeRegistry:"function"==typeof G?G():G,firstChild:null,schemas:ce,consts:en,incompleteFirstPass:!1,ssrId:Ue}}let pm=()=>null;function mm(t,n,r,s,g){for(let G in n){var O;if(!n.hasOwnProperty(G))continue;const re=n[G];if(void 0===re)continue;null!==(O=s)&&void 0!==O||(s={});let ce,Se=ye.None;Array.isArray(re)?(ce=re[0],Se=re[1]):ce=re;let Ue=G;if(null!==g){if(!g.hasOwnProperty(G))continue;Ue=g[G]}0===t?gm(s,r,Ue,ce,Se):gm(s,r,Ue,ce)}return s}function gm(t,n,r,s,g){let O;t.hasOwnProperty(r)?(O=t[r]).push(n,s):O=t[r]=[n,s],void 0!==g&&O.push(g)}function Ho(t,n,r,s,g,O,G,re){const ce=on(n,r);let Ue,Se=n.inputs;!re&&null!=Se&&(Ue=Se[s])?(Gd(t,r,Ue,s,g),Xr(n)&&function sw(t,n){const r=$n(n,t);16&r[Fn]||(r[Fn]|=64)}(r,n.index)):3&n.type&&(s=function ow(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),g=null!=G?G(g,n.value||"",s):g,O.setProperty(ce,s,g))}function Nd(t,n,r,s){if(Fs()){const g=null===s?null:{"":-1},O=function dw(t,n){const r=t.directiveRegistry;let s=null,g=null;if(r)for(let G=0;G<r.length;G++){const re=r[G];if($e(n,re.selectors,!1))if(s||(s=[]),Do(re))if(null!==re.findHostDirectiveDefs){const ce=[];g=g||new Map,re.findHostDirectiveDefs(re,ce,g),s.unshift(...ce,re),Fd(t,n,ce.length)}else s.unshift(re),Fd(t,n,0);else{var O;g=g||new Map,null===(O=re.findHostDirectiveDefs)||void 0===O||O.call(re,re,s,g),s.push(re)}}return null===s?null:[s,g]}(t,r);let G,re;null===O?G=re=null:[G,re]=O,null!==G&&ym(t,n,r,G,g,re),g&&function fw(t,n,r){if(n){const s=t.localNames=[];for(let g=0;g<n.length;g+=2){const O=r[n[g+1]];if(null==O)throw new Ke(-301,!1);s.push(n[g],O)}}}(r,s,g)}r.mergedAttrs=cn(r.mergedAttrs,r.attrs)}function ym(t,n,r,s,g,O){for(let Xe=0;Xe<s.length;Xe++)ad(lu(r,n),t,s[Xe].type);!function pw(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,s.length);for(let Xe=0;Xe<s.length;Xe++){const ht=s[Xe];ht.providersResolver&&ht.providersResolver(ht)}let G=!1,re=!1,ce=tl(t,n,s.length,null);for(let Xe=0;Xe<s.length;Xe++){const ht=s[Xe];r.mergedAttrs=cn(r.mergedAttrs,ht.hostAttrs),mw(t,r,n,ce,ht),hw(ce,ht,g),null!==ht.contentQueries&&(r.flags|=4),(null!==ht.hostBindings||null!==ht.hostAttrs||0!==ht.hostVars)&&(r.flags|=64);const At=ht.type.prototype;var Se,Ue;!G&&(At.ngOnChanges||At.ngOnInit||At.ngDoCheck)&&((null!==(Se=t.preOrderHooks)&&void 0!==Se?Se:t.preOrderHooks=[]).push(r.index),G=!0),re||!At.ngOnChanges&&!At.ngDoCheck||((null!==(Ue=t.preOrderCheckHooks)&&void 0!==Ue?Ue:t.preOrderCheckHooks=[]).push(r.index),re=!0),ce++}!function rw(t,n,r){const g=n.directiveEnd,O=t.data,G=n.attrs,re=[];let ce=null,Se=null;for(let Ue=n.directiveStart;Ue<g;Ue++){const Xe=O[Ue],ht=r?r.get(Xe):null,en=ht?ht.outputs:null;ce=mm(0,Xe.inputs,Ue,ce,ht?ht.inputs:null),Se=mm(1,Xe.outputs,Ue,Se,en);const gn=null===ce||null===G||Gn(n)?null:vw(ce,Ue,G);re.push(gn)}null!==ce&&(ce.hasOwnProperty("class")&&(n.flags|=8),ce.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=re,n.inputs=ce,n.outputs=Se}(t,r,O)}function vm(t,n,r){const s=r.directiveStart,g=r.directiveEnd,O=r.index,G=function St(){return Ln.lFrame.currentDirectiveIndex}();try{Co(O);for(let re=s;re<g;re++){const ce=t.data[re],Se=n[re];dn(re),(null!==ce.hostBindings||0!==ce.hostVars||null!==ce.hostAttrs)&&cw(ce,Se)}}finally{Co(-1),dn(G)}}function cw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Fd(t,n,r){var s;n.componentOffset=r,(null!==(s=t.components)&&void 0!==s?s:t.components=[]).push(n.index)}function hw(t,n,r){if(r){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)r[n.exportAs[s]]=t;Do(n)&&(r[""]=t)}}function mw(t,n,r,s,g){t.data[s]=g;const O=g.factory||(g.factory=oi(g.type)),G=new qa(O,Do(g),Ki);t.blueprint[s]=G,r[s]=G,function aw(t,n,r,s,g){const O=g.hostBindings;if(O){let G=t.hostBindingOpCodes;null===G&&(G=t.hostBindingOpCodes=[]);const re=~n.index;(function lw(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(G)!=re&&G.push(re),G.push(r,s,O)}}(t,n,s,tl(t,r,g.hostVars,cr),g)}function _s(t,n,r,s,g,O){const G=on(t,n);!function Bd(t,n,r,s,g,O,G){if(null==O)t.removeAttribute(n,g,r);else{const re=null==G?lr(O):G(O,s||"",g);t.setAttribute(n,g,re,r)}}(n[Yn],G,O,t.value,r,s,g)}function yw(t,n,r,s,g,O){const G=O[n];if(null!==G)for(let re=0;re<G.length;)dm(s,r,G[re++],G[re++],G[re++],G[re++])}function vw(t,n,r){let s=null,g=0;for(;g<r.length;){const O=r[g];if(0!==O)if(5!==O){if("number"==typeof O)break;if(t.hasOwnProperty(O)){null===s&&(s=[]);const G=t[O];for(let re=0;re<G.length;re+=3)if(G[re]===n){s.push(O,G[re+1],G[re+2],r[g+1]);break}}g+=2}else g+=2;else g+=4}return s}function bm(t,n,r,s){return[t,!0,0,n,null,s,null,r,null,null]}function _m(t,n){const r=t.contentQueries;if(null!==r){const s=S(null);try{for(let g=0;g<r.length;g+=2){const G=r[g+1];if(-1!==G){const re=t.data[G];sr(r[g]),re.contentQueries(2,n[G],G)}}}finally{S(s)}}}function Iu(t,n){return t[ro]?t[zo][Yr]=n:t[ro]=n,t[zo]=n,n}function Ud(t,n,r){sr(0);const s=S(null);try{n(t,r)}finally{S(s)}}function wm(t){return t[uo]||(t[uo]=[])}function xm(t){return t.cleanup||(t.cleanup=[])}function Tu(t,n){const r=t[yr],s=r?r.get(Vs,null):null;s&&s.handleError(n)}function Gd(t,n,r,s,g){for(let O=0;O<r.length;){const G=r[O++],re=r[O++],ce=r[O++];dm(t.data[G],n[G],s,re,ce,g)}}function Ns(t,n,r){const s=tn(n,t);!function qp(t,n,r){t.setValue(n,r)}(t[Yn],s,r)}function bw(t,n){const r=$n(n,t),s=r[Tn];!function _w(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(s,r);const g=r[pr];null!==g&&null===r[Lr]&&(r[Lr]=Uc(g,r[yr])),$d(s,r,r[ur])}function $d(t,n,r){Ir(n);try{var s;const g=t.viewQuery;null!==g&&Ud(1,g,r);const O=t.template;null!==O&&fm(t,n,O,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),null===(s=n[ho])||void 0===s||s.finishViewCreation(t),t.staticContentQueries&&_m(t,n),t.staticViewQueries&&Ud(2,t.viewQuery,r);const G=t.components;null!==G&&function ww(t,n){for(let r=0;r<n.length;r++)bw(t,n[r])}(n,G)}catch(g){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),g}finally{n[Fn]&=-5,es()}}function Qi(t,n){return!n||null===n.firstChild||Ii(t)}function rl(t,n,r,s=!0){const g=n[Tn];if(function B1(t,n,r,s){const g=vr+s,O=r.length;s>0&&(r[g-1][Yr]=n),s<O-vr?(n[Yr]=r[g],Ec(r,vr+s,n)):(r.push(n),n[Yr]=null),n[fr]=r;const G=n[So];null!==G&&r!==G&&function U1(t,n){const r=t[Lo];n[Sr]!==n[fr][fr][Sr]&&(t[Fn]|=Yo.HasTransplantedViews),null===r?t[Lo]=[n]:r.push(n)}(G,n);const re=n[ho];null!==re&&re.insertView(t),fo(n),n[Fn]|=128}(g,n,t,r),s){const G=Ad(r,t),re=n[Yn],ce=Eu(re,t[co]);null!==ce&&function N1(t,n,r,s,g,O){s[pr]=g,s[wr]=n,Du(t,s,r,1,g,O)}(g,t[wr],re,n,ce,G)}const O=n[Lr];null!==O&&null!==O.firstChild&&(O.firstChild=null)}function ol(t,n,r,s,g=!1){for(;null!==r;){const O=n[r.index];null!==O&&s.push(mt(O)),Hr(O)&&Sm(O,s);const G=r.type;if(8&G)ol(t,n,r.child,s);else if(32&G){const re=Sd(r,n);let ce;for(;ce=re();)s.push(ce)}else if(16&G){const re=rm(n,r);if(Array.isArray(re))s.push(...re);else{const ce=Pr(n[Sr]);ol(ce[Tn],ce,re,s,!0)}}r=g?r.projectionNext:r.next}return s}function Sm(t,n){for(let r=vr;r<t.length;r++){const s=t[r],g=s[Tn].firstChild;null!==g&&ol(s[Tn],s,g,n)}t[co]!==t[pr]&&n.push(t[co])}let Dm=[];const Sw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xr(t.lView)},consumerOnSignalRead(){this.lView[ko]=this}};function Mm(t){return Tm(t[ro])}function Im(t){return Tm(t[Yr])}function Tm(t){for(;null!==t&&!Hr(t);)t=t[Yr];return t}function Au(t,n=!0,r=0){const s=t[$r],g=s.rendererFactory;var G;null===(G=g.begin)||void 0===G||G.call(g);try{!function Iw(t,n){Hd(t,n);let r=0;for(;Jr(t);){if(100===r)throw new Ke(103,!1);r++,Hd(t,1)}}(t,r)}catch(Se){throw n&&Tu(t,Se),Se}finally{var re,ce;null===(re=g.end)||void 0===re||re.call(g),null===(ce=s.inlineEffectRunner)||void 0===ce||ce.flush()}}function Tw(t,n,r,s){var g;const O=n[Fn];if(256==(256&O))return;null===(g=n[$r].inlineEffectRunner)||void 0===g||g.flush(),Ir(n);let re=null,ce=null;(function Aw(t){return 2!==t.type})(t)&&(ce=function xw(t){var n;return null!==(n=t[ko])&&void 0!==n?n:function Ew(t){var n;const r=null!==(n=Dm.pop())&&void 0!==n?n:Object.create(Sw);return r.lView=t,r}(t)}(n),re=function u(t){return t&&(t.nextProducerIndex=0),S(t)}(ce));try{Ur(n),function ei(t){return Ln.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&fm(t,n,r,2,s);const Se=3==(3&O);if(Se){const ht=t.preOrderCheckHooks;null!==ht&&su(n,ht,null)}else{const ht=t.preOrderHooks;null!==ht&&iu(n,ht,0,null),nd(n,0)}if(function Ow(t){for(let n=Mm(t);null!==n;n=Im(n)){if(!(n[Fn]&Yo.HasTransplantedViews))continue;const r=n[Lo];for(let s=0;s<r.length;s++){Kr(r[s])}}}(n),Om(n,0),null!==t.contentQueries&&_m(t,n),Se){const ht=t.contentCheckHooks;null!==ht&&su(n,ht)}else{const ht=t.contentHooks;null!==ht&&iu(n,ht,1),nd(n,1)}!function X1(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const g=r[s];if(g<0)Co(~g);else{const O=g,G=r[++s],re=r[++s];nt(G,O),re(2,n[O])}}}finally{Co(-1)}}(t,n);const Ue=t.components;null!==Ue&&Pm(n,Ue,0);const Xe=t.viewQuery;if(null!==Xe&&Ud(2,Xe,s),Se){const ht=t.viewCheckHooks;null!==ht&&su(n,ht)}else{const ht=t.viewHooks;null!==ht&&iu(n,ht,2),nd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[mo]){for(const ht of n[mo])ht();n[mo]=null}n[Fn]&=-73}catch(Se){throw xr(n),Se}finally{null!==ce&&(function l(t,n){if(S(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(F(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)M(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(ce,re),function Cw(t){t.lView[ko]!==t&&(t.lView=null,Dm.push(t))}(ce)),es()}}function Om(t,n){for(let r=Mm(t);null!==r;r=Im(r))for(let s=vr;s<r.length;s++)jm(r[s],n)}function jw(t,n,r){jm($n(n,t),r)}function jm(t,n){Un(t)&&Hd(t,n)}function Hd(t,n){const s=t[Tn],g=t[Fn],O=t[ko];let G=!!(0===n&&16&g);if(G||(G=!!(64&g&&0===n)),G||(G=!!(1024&g)),G||(G=!(null==O||!O.dirty||!m(O))),O&&(O.dirty=!1),t[Fn]&=-9217,G)Tw(s,t,s.template,t[ur]);else if(8192&g){Om(t,1);const re=s.components;null!==re&&Pm(t,re,1)}}function Pm(t,n,r){for(let s=0;s<n.length;s++)jw(t,n[s],r)}function sl(t){var n;for(null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Fn]|=64;const r=Pr(t);if(Xo(t)&&!r)return t;t=r}return null}class il{get rootNodes(){const n=this._lView,r=n[Tn];return ol(r,n,r.firstChild,[])}constructor(n,r,s=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(n){this._lView[ur]=n}get destroyed(){return 256==(256&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[fr];if(Hr(n)){const r=n[8],s=r?r.indexOf(this):-1;s>-1&&(Za(n,s),ka(r,s))}this._attachedToViewContainer=!1}xu(this._lView[Tn],this._lView)}onDestroy(n){Dr(this._lView,n)}markForCheck(){sl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-129}reattach(){fo(this._lView),this._lView[Fn]|=128}detectChanges(){this._lView[Fn]|=1024,Au(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Yp(this._lView[Tn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ke(902,!1);this._appRef=n,fo(this._lView)}}let al=(()=>{class n{}return n.__NG_ELEMENT_ID__=Rw,n})();const Pw=al,kw=class extends Pw{constructor(n,r,s){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=s}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,s){const g=function nl(t,n,r,s){const g=S(null);try{var O,G;const re=n.tView,Ue=Mu(t,re,r,4096&t[Fn]?4096:16,null,n,null,null,null,null!==(O=null==s?void 0:s.injector)&&void 0!==O?O:null,null!==(G=null==s?void 0:s.dehydratedView)&&void 0!==G?G:null);Ue[So]=t[n.index];const ht=t[ho];return null!==ht&&(Ue[ho]=ht.createEmbeddedView(re)),$d(re,Ue,r),Ue}finally{S(g)}}(this._declarationLView,this._declarationTContainer,n,{injector:r,dehydratedView:s});return new il(g)}};function Rw(){return Ou(Ar(),mn())}function Ou(t,n){return 4&t.type?new kw(n,t,gs(t,n)):null}class Um{}class rx{}class Gm{}class sx{resolveComponentFactory(n){throw function ox(t){const n=Error(`No component factory found for ${Re(t)}.`);return n.ngComponent=t,n}(n)}}let Lu=(()=>{class n{}return n.NULL=new sx,n})();class Vm{}let ix=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function ax(){const t=mn(),r=$n(Ar().index,t);return(Vr(r)?r:t)[Yn]}(),n})(),lx=(()=>{var t;class n{}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:()=>null}),n})();const Kd={};let Nu=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=cx,t.__NG_ENV_ID__=r=>r,n})();class ux extends Nu{constructor(n){super(),this._lView=n}onDestroy(n){return Dr(this._lView,n),()=>function gr(t,n){if(null===t[Po])return;const r=t[Po].indexOf(n);-1!==r&&t[Po].splice(r,1)}(this._lView,n)}}function cx(){return new ux(mn())}const Hm=new Set;function ws(t){var n,r;Hm.has(t)||(Hm.add(t),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:t}}))}function Wm(...t){}class so{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),typeof Zone>"u")throw new Ke(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!s&&r,g.shouldCoalesceRunChangeDetection=s,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function dx(){const t="function"==typeof Sn.requestAnimationFrame;let n=Sn[t?"requestAnimationFrame":"setTimeout"],r=Sn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const g=r[Zone.__symbol__("OriginalDelegate")];g&&(r=g)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function px(t){const n=()=>{!function hx(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qd(t),t.isCheckStableRunning=!0,Jd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,s,g,O,G,re)=>{if(function mx(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(re))return r.invokeTask(g,O,G,re);try{return zm(t),r.invokeTask(g,O,G,re)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===O.type||t.shouldCoalesceRunChangeDetection)&&n(),qm(t)}},onInvoke:(r,s,g,O,G,re,ce)=>{try{return zm(t),r.invoke(g,O,G,re,ce)}finally{t.shouldCoalesceRunChangeDetection&&n(),qm(t)}},onHasTask:(r,s,g,O)=>{r.hasTask(g,O),s===g&&("microTask"==O.change?(t._hasPendingMicrotasks=O.microTask,Qd(t),Jd(t)):"macroTask"==O.change&&(t.hasPendingMacrotasks=O.macroTask))},onHandleError:(r,s,g,O)=>(r.handleError(g,O),t.runOutsideAngular(()=>t.onError.emit(O)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!so.isInAngularZone())throw new Ke(909,!1)}static assertNotInAngularZone(){if(so.isInAngularZone())throw new Ke(909,!1)}run(n,r,s){return this._inner.run(n,r,s)}runTask(n,r,s,g){const O=this._inner,G=O.scheduleEventTask("NgZoneEvent: "+g,n,fx,Wm,Wm);try{return O.runTask(G,r,s)}finally{O.cancelTask(G)}}runGuarded(n,r,s){return this._inner.runGuarded(n,r,s)}runOutsideAngular(n){return this._outer.run(n)}}const fx={};function Jd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qm(t){t._nesting--,Jd(t)}class Ym{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(n,r,s){return n.apply(r,s)}runGuarded(n,r,s){return n.apply(r,s)}runOutsideAngular(n){return n()}runTask(n,r,s,g){return n.apply(r,s)}}var di=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(di||{});const Xm={destroy(){}};function Km(t,n){var r,s,g;!n&&function nu(t){if(!jh()&&!function Ob(){return Oi}())throw new Ke(-203,!1)}();const O=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:_r(ts);if(!function Hs(t){return"browser"===(null!=t?t:_r(ts)).get(it)}(O))return Xm;ws("NgAfterNextRender");const G=O.get(fl),re=null!==(s=G.handler)&&void 0!==s?s:G.handler=new Qm,ce=null!==(g=null==n?void 0:n.phase)&&void 0!==g?g:di.MixedReadWrite,Se=()=>{re.unregister(Xe),Ue()},Ue=O.get(Nu).onDestroy(Se),Xe=new Jm(O,ce,()=>{Se(),t()});return re.register(Xe),{destroy:Se}}class Jm{constructor(n,r,s){this.phase=r,this.callbackFn=s,this.zone=n.get(so),this.errorHandler=n.get(Vs,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(r)}}}class Qm{constructor(){this.executingCallbacks=!1,this.buckets={[di.EarlyRead]:new Set,[di.Write]:new Set,[di.MixedReadWrite]:new Set,[di.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let fl=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var s;this.executeInternalCallbacks(),null===(s=this.handler)||void 0===s||s.execute()}executeInternalCallbacks(){const s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const g of s)g()}ngOnDestroy(){var s;null===(s=this.handler)||void 0===s||s.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:()=>new t}),n})();function Ws(t){return!!Kn(t)}function Bu(t,n,r){let s=r?t.styles:null,g=r?t.classes:null,O=0;if(null!==n)for(let G=0;G<n.length;G++){const re=n[G];"number"==typeof re?O=re:1==O?g=Ge(g,re):2==O&&(s=Ge(s,re+": "+n[++G]+";"))}r?t.styles=s:t.stylesWithoutHost=s,r?t.classes=g:t.classesWithoutHost=g}class tg extends Lu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Qt(n);return new ml(r,this.ngModule)}}function ng(t){const n=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const s=t[r];void 0!==s&&n.push({propName:Array.isArray(s)?s[0]:s,templateName:r})}return n}class wx{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,s){s=$l(s);const g=this.injector.get(n,Kd,s);return g!==Kd||r===Kd?g:this.parentInjector.get(n,r,s)}}class ml extends Gm{get inputs(){const n=this.componentDef,r=n.inputTransforms,s=ng(n.inputs);if(null!==r)for(const g of s)r.hasOwnProperty(g.propName)&&(g.transform=r[g.propName]);return s}get outputs(){return ng(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function He(t){return t.map(Pe).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,s,g){const O=S(null);try{var re;let ce=(g=g||this.ngModule)instanceof ds?g:null===(re=g)||void 0===re?void 0:re.injector;ce&&null!==this.componentDef.getStandaloneInjector&&(ce=this.componentDef.getStandaloneInjector(ce)||ce);const Se=ce?new wx(n,ce):n,Ue=Se.get(Vm,null);if(null===Ue)throw new Ke(407,!1);const Xe=Se.get(lx,null),en={rendererFactory:Ue,sanitizer:Xe,inlineEffectRunner:null,afterRenderEventManager:Se.get(fl,null),changeDetectionScheduler:Se.get(Um,null)},gn=Ue.createRenderer(null,this.componentDef),Mn=this.componentDef.selectors[0][0]||"div",Pn=s?function J1(t,n,r,s){const O=s.get(_p,!1)||r===En.ShadowDom,G=t.selectRootElement(n,O);return function Q1(t){pm(t)}(G),G}(gn,s,this.componentDef.encapsulation,Se):wu(gn,Mn,function _x(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Mn));let bn=512;this.componentDef.signals?bn|=4096:this.componentDef.onPush||(bn|=16);let Jn=null;null!==Pn&&(Jn=Uc(Pn,Se,!0));const dr=Ld(0,null,null,1,0,null,null,null,null,null,null),mr=Mu(null,dr,null,bn,null,null,en,gn,Se,null,Jn);let Io,vi;Ir(mr);try{const Js=this.componentDef;let Sa,Sh=null;Js.findHostDirectiveDefs?(Sa=[],Sh=new Map,Js.findHostDirectiveDefs(Js,Sa,Sh),Sa.push(Js)):Sa=[Js];const VM=function Ex(t,n){const r=t[Tn],s=Xn;return t[s]=n,Ji(r,s,2,"#host",null)}(mr,Pn),HM=function Cx(t,n,r,s,g,O,G){const re=g[Tn];!function Sx(t,n,r,s){for(const g of t)n.mergedAttrs=cn(n.mergedAttrs,g.hostAttrs);null!==n.mergedAttrs&&(Bu(n,n.mergedAttrs,!0),null!==r&&am(s,r,n))}(s,t,n,G);let ce=null;null!==n&&(ce=Uc(n,g[yr]));const Se=O.rendererFactory.createRenderer(n,r);let Ue=16;r.signals?Ue=4096:r.onPush&&(Ue=64);const Xe=Mu(g,hm(r),null,Ue,g[t.index],t,O,Se,null,null,ce);return re.firstCreatePass&&Fd(re,t,s.length-1),Iu(g,Xe),g[t.index]=Xe}(VM,Pn,Js,Sa,mr,en,gn);vi=Kt(dr,Xn),Pn&&function Mx(t,n,r,s){if(s)qe(t,r,["ng-version","17.2.4"]);else{const{attrs:g,classes:O}=function Mt(t){const n=[],r=[];let s=1,g=2;for(;s<t.length;){let O=t[s];if("string"==typeof O)2===g?""!==O&&n.push(O,t[++s]):8===g&&r.push(O);else{if(!at(g))break;g=O}s++}return{attrs:n,classes:r}}(n.selectors[0]);g&&qe(t,r,g),O&&O.length>0&&im(t,r,O.join(" "))}}(gn,Js,Pn,s),void 0!==r&&function Ix(t,n,r){const s=t.projection=[];for(let g=0;g<n.length;g++){const O=r[g];s.push(null!=O?Array.from(O):null)}}(vi,this.ngContentSelectors,r),Io=function Dx(t,n,r,s,g,O){const G=Ar(),re=g[Tn],ce=on(G,g);ym(re,g,G,r,null,s);for(let Ue=0;Ue<r.length;Ue++)jo(ai(g,re,G.directiveStart+Ue,G),g);vm(re,g,G),ce&&jo(ce,g);const Se=ai(g,re,G.directiveStart+G.componentOffset,G);if(t[ur]=g[ur]=Se,null!==O)for(const Ue of O)Ue(Se,n);return Pd(re,G,g),Se}(HM,Js,Sa,Sh,mr,[Tx]),$d(dr,mr,null)}finally{es()}return new xx(this.componentType,Io,gs(vi,mr),mr,vi)}finally{S(O)}}}class xx extends rx{constructor(n,r,s,g,O){super(),this.location=s,this._rootLView=g,this._tNode=O,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new il(g,void 0,!1),this.componentType=n}setInput(n,r){const s=this._tNode.inputs;let g;if(null!==s&&(g=s[n])){var O;if(null!==(O=this.previousInputValues)&&void 0!==O||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const G=this._rootLView;Gd(G[Tn],G,g,n,r),this.previousInputValues.set(n,r),sl($n(this._tNode.index,G))}}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Tx(){const t=Ar();ou(mn()[Tn],t)}let Uu=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ax,n})();function Ax(){return sg(Ar(),mn())}const Ox=Uu,rg=class extends Ox{constructor(n,r,s){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=s}get element(){return gs(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const n=uu(this._hostTNode,this._hostLView);if(od(n)){const r=Xa(n,this._hostLView),s=Ya(n);return new bo(r[Tn].data[s+8],r)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=og(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(n,r,s){let g,O;"number"==typeof s?g=s:null!=s&&(g=s.index,O=s.injector);const re=n.createEmbeddedViewImpl(r||{},O,null);return this.insertImpl(re,g,Qi(this._hostTNode,null)),re}createComponent(n,r,s,g,O){var G,ce;const Se=n&&!function za(t){return"function"==typeof t}(n);let Ue;if(Se)Ue=r;else{const Pn=r||{};Ue=Pn.index,s=Pn.injector,g=Pn.projectableNodes,O=Pn.environmentInjector||Pn.ngModuleRef}const Xe=Se?n:new ml(Qt(n)),ht=s||this.parentInjector;if(!O&&null==Xe.ngModule){const bn=(Se?ht:this.parentInjector).get(ds,null);bn&&(O=bn)}const At=Qt(null!==(G=Xe.componentType)&&void 0!==G?G:{}),en=(null==At?void 0:At.id,null),gn=null!==(ce=null==en?void 0:en.firstChild)&&void 0!==ce?ce:null,Mn=Xe.create(ht,g,gn,O);return this.insertImpl(Mn.hostView,Ue,Qi(this._hostTNode,en)),Mn}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,s){const g=n._lView;if(function Zn(t){return Hr(t[fr])}(g)){const re=this.indexOf(n);if(-1!==re)this.detach(re);else{const ce=g[fr],Se=new rg(ce,ce[wr],ce[fr]);Se.detach(Se.indexOf(n))}}const O=this._adjustIndex(r),G=this._lContainer;return rl(G,g,O,s),n.attachToViewContainerRef(),Ec(nf(G),O,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=og(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),s=Za(this._lContainer,r);s&&(ka(nf(this._lContainer),r),xu(s[Tn],s))}detach(n){const r=this._adjustIndex(n,-1),s=Za(this._lContainer,r);return s&&null!=ka(nf(this._lContainer),r)?new il(s):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function og(t){return t[8]}function nf(t){return t[8]||(t[8]=[])}function sg(t,n){let r;const s=n[t.index];return Hr(s)?r=s:(r=bm(s,n,null,t),n[t.index]=r,Iu(n,r)),ig(r,n,t,s),new rg(r,t,n)}let ig=function lg(t,n,r,s){if(t[co])return;let g;g=8&r.type?mt(s):function jx(t,n){const r=t[Yn],s=r.createComment(""),g=on(n,t);return ci(r,Eu(r,g),s,function H1(t,n){return t.nextSibling(n)}(r,g),!1),s}(n,r),t[co]=g},rf=()=>!1;class sf{constructor(n){this.queryList=n,this.matches=null}clone(){return new sf(this.queryList)}setDirty(){this.queryList.setDirty()}}class af{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const s=null!==n.contentQueries?n.contentQueries[0]:r.length,g=[];for(let O=0;O<s;O++){const G=r.getByIndex(O);g.push(this.queries[G.indexInDeclarationView].clone())}return new af(g)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==ff(n,r).matches&&this.queries[r].setDirty()}}class ug{constructor(n,r,s=null){this.flags=r,this.read=s,this.predicate="string"==typeof n?function Ux(t){return t.split(",").map(n=>n.trim())}(n):n}}class lf{constructor(n=[]){this.queries=n}elementStart(n,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let s=0;s<this.length;s++){const g=null!==r?r.length:0,O=this.getByIndex(s).embeddedTView(n,g);O&&(O.indexInDeclarationView=s,null!==r?r.push(O):r=[O])}return null!==r?new lf(r):null}template(n,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class uf{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new uf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let g=0;g<s.length;g++){const O=s[g];this.matchTNodeWithReadOption(n,r,Lx(r,O)),this.matchTNodeWithReadOption(n,r,cu(r,n,O,!1,!1))}else s===al?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,cu(r,n,s,!1,!1))}matchTNodeWithReadOption(n,r,s){if(null!==s){const g=this.metadata.read;if(null!==g)if(g===Bs||g===Uu||g===al&&4&r.type)this.addMatch(r.index,-2);else{const O=cu(r,n,g,!1,!1);null!==O&&this.addMatch(r.index,O)}else this.addMatch(r.index,s)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function Lx(t,n){const r=t.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===n)return r[s+1];return null}function Fx(t,n,r,s){return-1===r?function Nx(t,n){return 11&t.type?gs(t,n):4&t.type?Ou(t,n):null}(n,t):-2===r?function Bx(t,n,r){return r===Bs?gs(n,t):r===al?Ou(n,t):r===Uu?sg(n,t):void 0}(t,n,s):ai(t,t[Tn],r,n)}function cg(t,n,r,s){const g=n[ho].queries[s];if(null===g.matches){const O=t.data,G=r.matches,re=[];for(let ce=0;null!==G&&ce<G.length;ce+=2){const Se=G[ce];re.push(Se<0?null:Fx(n,O[Se],G[ce+1],r.metadata.read))}g.matches=re}return g.matches}function cf(t,n,r,s){const g=t.queries.getByIndex(r),O=g.matches;if(null!==O){const G=cg(t,n,g,r);for(let re=0;re<O.length;re+=2){const ce=O[re];if(ce>0)s.push(G[re/2]);else{const Se=O[re+1],Ue=n[-ce];for(let Xe=vr;Xe<Ue.length;Xe++){const ht=Ue[Xe];ht[So]===ht[fr]&&cf(ht[Tn],ht,Se,s)}if(null!==Ue[Lo]){const Xe=Ue[Lo];for(let ht=0;ht<Xe.length;ht++){const At=Xe[ht];cf(At[Tn],At,Se,s)}}}}}return s}function dg(t,n,r){var s;const g=new Bl(4==(4&r));return function tw(t,n,r,s){const g=wm(n);g.push(r),t.firstCreatePass&&xm(t).push(s,g.length-1)}(t,n,g,g.destroy),(null!==(s=n[ho])&&void 0!==s?s:n[ho]=new af).queries.push(new sf(g))-1}function pg(t,n,r){null===t.queries&&(t.queries=new lf),t.queries.track(new uf(n,r))}function ff(t,n){return t.queries.getByIndex(n)}function mg(t,n){const r=t[Tn],s=ff(r,n);return s.crossesNgTemplate?cf(r,t,n,[]):cg(r,t,s,n)}function vg(t){return function gg(t){return"function"==typeof t&&void 0!==t[$]}(t)&&"function"==typeof t.set}function pf(t){let n=function Tg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const s=[t];for(;n;){let g;if(Do(t))g=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ke(903,!1);g=n.\u0275dir}if(g){if(r){s.push(g);const G=t;G.inputs=$u(t.inputs),G.inputTransforms=$u(t.inputTransforms),G.declaredInputs=$u(t.declaredInputs),G.outputs=$u(t.outputs);const re=g.hostBindings;re&&nE(t,re);const ce=g.viewQuery,Se=g.contentQueries;if(ce&&eE(t,ce),Se&&tE(t,Se),Qx(t,g),ie(t.outputs,g.outputs),Do(g)&&g.data.animation){const Ue=t.data;Ue.animation=(Ue.animation||[]).concat(g.data.animation)}}const O=g.features;if(O)for(let G=0;G<O.length;G++){const re=O[G];re&&re.ngInherit&&re(t),re===pf&&(r=!1)}}n=Object.getPrototypeOf(n)}!function Zx(t){let n=0,r=null;for(let s=t.length-1;s>=0;s--){const g=t[s];g.hostVars=n+=g.hostVars,g.hostAttrs=cn(g.hostAttrs,r=cn(r,g.hostAttrs))}}(s)}function Qx(t,n){for(const s in n.inputs){if(!n.inputs.hasOwnProperty(s)||t.inputs.hasOwnProperty(s))continue;const g=n.inputs[s];if(void 0!==g&&(t.inputs[s]=g,t.declaredInputs[s]=n.declaredInputs[s],null!==n.inputTransforms)){var r;const O=Array.isArray(g)?g[0]:g;if(!n.inputTransforms.hasOwnProperty(O))continue;null!==(r=t.inputTransforms)&&void 0!==r||(t.inputTransforms={}),t.inputTransforms[O]=n.inputTransforms[O]}}}function $u(t){return t===Wn?{}:t===Nn?[]:t}function eE(t,n){const r=t.viewQuery;t.viewQuery=r?(s,g)=>{n(s,g),r(s,g)}:n}function tE(t,n){const r=t.contentQueries;t.contentQueries=r?(s,g,O)=>{n(s,g,O),r(s,g,O)}:n}function nE(t,n){const r=t.hostBindings;t.hostBindings=r?(s,g)=>{n(s,g),r(s,g)}:n}function Pg(t){const n=t.inputConfig,r={};for(const s in n)if(n.hasOwnProperty(s)){const g=n[s];Array.isArray(g)&&g[3]&&(r[s]=g[3])}t.inputTransforms=r}class fi{}class kg{}function lE(t,n){return new mf(t,null!=n?n:null,[])}class mf extends fi{constructor(n,r,s){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tg(this);const g=Kn(n);this._bootstrapComponents=ns(g.bootstrap),this._r3Injector=gp(n,r,[{provide:fi,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver},...s],Re(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class gf extends kg{constructor(n){super(),this.moduleType=n}create(n){return new mf(this.moduleType,n,[])}}class Rg extends fi{constructor(n){super(),this.componentFactoryResolver=new tg(this),this.instance=null;const r=new Ui([...n.providers,{provide:fi,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],n.parent||tu(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function yf(t,n,r=null){return new Rg({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let ta=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ke.g(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Hu(t){return!!vf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function vf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function io(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function na(t,n,r,s,g,O,G,re){const ce=mn(),Se=hr(),Ue=t+Xn,Xe=Se.firstCreatePass?function mE(t,n,r,s,g,O,G,re,ce){const Se=n.consts,Ue=Ji(n,t,4,G||null,er(Se,re));Nd(n,r,Ue,er(Se,ce)),ou(n,Ue);const Xe=Ue.tView=Ld(2,Ue,s,g,O,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Se,null);return null!==n.queries&&(n.queries.template(n,Ue),Xe.queries=n.queries.embeddedTView(Ue)),Ue}(Ue,Se,ce,n,r,s,g,O,G):Se.data[Ue];Qo(Xe,!1);const ht=Lg(Se,ce,Xe,t);Si()&&Cu(Se,ce,ht,Xe),jo(ht,ce);const At=bm(ht,ce,ht,Xe);return ce[Ue]=At,Iu(ce,At),function ag(t,n,r){return rf(t,n,r)}(At,Xe,ce),Rn(Xe)&&kd(Se,ce,Xe),null!=G&&Rd(ce,Xe,re),na}let Lg=function Ng(t,n,r,s){return Ts(!0),n[Yn].createComment("")};function If(t,n,r,s){const g=mn();return io(g,de(),n)&&(hr(),_s(ir(),g,t,n,r,s)),If}function ca(t,n,r,s){return io(t,de(),r)?n+lr(r)+s:cr}function da(t,n,r,s,g,O){const re=function hi(t,n,r,s){const g=io(t,n,r);return io(t,n+1,s)||g}(t,function Mo(){return Ln.lFrame.bindingIndex}(),r,g);return Ae(2),re?n+lr(r)+s+lr(g)+O:cr}function Ju(t,n){return t<<17|n<<2}function Ys(t){return t>>17&32767}function Tf(t){return 2|t}function mi(t){return(131068&t)>>2}function Af(t,n){return-131069&t|n<<2}function Of(t){return 1|t}function py(t,n,r,s){const g=t[r+1],O=null===n;let G=s?Ys(g):mi(g),re=!1;for(;0!==G&&(!1===re||O);){const Se=t[G+1];ZE(t[G],n)&&(re=!0,t[G+1]=s?Of(Se):Tf(Se)),G=s?Ys(Se):mi(Se)}re&&(t[r+1]=s?Tf(g):Of(g))}function ZE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&As(t,n)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function my(t){return t.substring(_o.key,_o.keyEnd)}function eC(t){return t.substring(_o.value,_o.valueEnd)}function yy(t,n){const r=_o.textEnd;let s=_o.key=va(t,n,r);return r===s?-1:(s=_o.keyEnd=function oC(t,n,r){let s;for(;n<r&&(45===(s=t.charCodeAt(n))||95===s||(-33&s)>=65&&(-33&s)<=90||s>=48&&s<=57);)n++;return n}(t,s,r),s=by(t,s,r),s=_o.value=va(t,s,r),s=_o.valueEnd=function sC(t,n,r){let s=-1,g=-1,O=-1,G=n,re=G;for(;G<r;){const ce=t.charCodeAt(G++);if(59===ce)return re;34===ce||39===ce?re=G=_y(t,ce,G,r):n===G-4&&85===O&&82===g&&76===s&&40===ce?re=G=_y(t,41,G,r):ce>32&&(re=G),O=g,g=s,s=-33&ce}return re}(t,s,r),by(t,s,r))}function va(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function by(t,n,r,s){return(n=va(t,n,r))<r&&n++,n}function _y(t,n,r,s){let g=-1,O=r;for(;O<s;){const G=t.charCodeAt(O++);if(G==n&&92!==g)return O;g=92==G&&92===g?0:G}throw new Error}function jf(t,n,r){const s=mn();return io(s,de(),n)&&Ho(hr(),ir(),s,t,n,s[Yn],r,!1),jf}function Pf(t,n,r,s,g){const G=g?"class":"style";Gd(t,r,n.inputs[G],G,s)}function kf(t,n){return function hs(t,n,r,s){const g=mn(),O=hr(),G=Ae(2);O.firstUpdatePass&&Ey(O,t,G,s),n!==cr&&io(g,G,n)&&Sy(O,O.data[zr()],g,g[Yn],t,g[G+1]=function mC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Re(Rs(t)))),t}(n,r),s,G)}(t,n,null,!0),kf}function fs(t){!function ps(t,n,r,s){const g=hr(),O=Ae(2);g.firstUpdatePass&&Ey(g,null,O,s);const G=mn();if(r!==cr&&io(G,O,r)){const re=g.data[zr()];if(My(re,s)&&!xy(g,O)){let ce=s?re.classesWithoutHost:re.stylesWithoutHost;null!==ce&&(r=Ge(ce,r||"")),Pf(g,re,G,r,s)}else!function pC(t,n,r,s,g,O,G,re){g===cr&&(g=Nn);let ce=0,Se=0,Ue=0<g.length?g[0]:null,Xe=0<O.length?O[0]:null;for(;null!==Ue||null!==Xe;){const ht=ce<g.length?g[ce+1]:void 0,At=Se<O.length?O[Se+1]:void 0;let gn,en=null;Ue===Xe?(ce+=2,Se+=2,ht!==At&&(en=Xe,gn=At)):null===Xe||null!==Ue&&Ue<Xe?(ce+=2,en=Ue):(Se+=2,en=Xe,gn=At),null!==en&&Sy(t,n,r,s,en,gn,G,re),Ue=ce<g.length?g[ce]:null,Xe=Se<O.length?O[Se]:null}}(g,re,G,G[Yn],G[O+1],G[O+1]=function fC(t,n,r){if(null==r||""===r)return Nn;const s=[],g=Rs(r);if(Array.isArray(g))for(let O=0;O<g.length;O++)t(s,g[O],!0);else if("object"==typeof g)for(const O in g)g.hasOwnProperty(O)&&t(s,O,g[O]);else"string"==typeof g&&n(s,g);return s}(t,n,r),s,O)}}(Cy,iC,t,!1)}function iC(t,n){for(let r=function nC(t){return function vy(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}(t),yy(t,va(t,0,_o.textEnd))}(n);r>=0;r=yy(n,r))Cy(t,my(n),eC(n))}function xy(t,n){return n>=t.expandoStartIndex}function Ey(t,n,r,s){const g=t.data;if(null===g[r+1]){const O=g[zr()],G=xy(t,r);My(O,s)&&null===n&&!G&&(n=!1),n=function lC(t,n,r,s){const g=function In(t){const n=Ln.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let O=s?n.residualClasses:n.residualStyles;if(null===g)0===(s?n.classBindings:n.styleBindings)&&(r=wl(r=Rf(null,t,n,r,s),n.attrs,s),O=null);else{const G=n.directiveStylingLast;if(-1===G||t[G]!==g)if(r=Rf(g,t,n,r,s),null===O){let ce=function uC(t,n,r){const s=r?n.classBindings:n.styleBindings;if(0!==mi(s))return t[Ys(s)]}(t,n,s);void 0!==ce&&Array.isArray(ce)&&(ce=Rf(null,t,n,ce[1],s),ce=wl(ce,n.attrs,s),function cC(t,n,r,s){t[Ys(r?n.classBindings:n.styleBindings)]=s}(t,n,s,ce))}else O=function dC(t,n,r){let s;const g=n.directiveEnd;for(let O=1+n.directiveStylingLast;O<g;O++)s=wl(s,t[O].hostAttrs,r);return wl(s,n.attrs,r)}(t,n,s)}return void 0!==O&&(s?n.residualClasses=O:n.residualStyles=O),r}(g,O,n,s),function JE(t,n,r,s,g,O){let G=O?n.classBindings:n.styleBindings,re=Ys(G),ce=mi(G);t[s]=r;let Ue,Se=!1;if(Array.isArray(r)?(Ue=r[1],(null===Ue||As(r,Ue)>0)&&(Se=!0)):Ue=r,g)if(0!==ce){const ht=Ys(t[re+1]);t[s+1]=Ju(ht,re),0!==ht&&(t[ht+1]=Af(t[ht+1],s)),t[re+1]=function XE(t,n){return 131071&t|n<<17}(t[re+1],s)}else t[s+1]=Ju(re,0),0!==re&&(t[re+1]=Af(t[re+1],s)),re=s;else t[s+1]=Ju(ce,0),0===re?re=s:t[ce+1]=Af(t[ce+1],s),ce=s;Se&&(t[s+1]=Tf(t[s+1])),py(t,Ue,s,!0),py(t,Ue,s,!1),function QE(t,n,r,s,g){const O=g?t.residualClasses:t.residualStyles;null!=O&&"string"==typeof n&&As(O,n)>=0&&(r[s+1]=Of(r[s+1]))}(n,Ue,t,s,O),G=Ju(re,ce),O?n.classBindings=G:n.styleBindings=G}(g,O,n,r,G,s)}}function Rf(t,n,r,s,g){let O=null;const G=r.directiveEnd;let re=r.directiveStylingLast;for(-1===re?re=r.directiveStart:re++;re<G&&(O=n[re],s=wl(s,O.hostAttrs,g),O!==t);)re++;return null!==t&&(r.directiveStylingLast=re),s}function wl(t,n,r){const s=r?1:2;let g=-1;if(null!==n)for(let O=0;O<n.length;O++){const G=n[O];"number"==typeof G?g=G:g===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),No(t,G,!!r||n[++O]))}return void 0===t?null:t}function Cy(t,n,r){No(t,n,Rs(r))}function Sy(t,n,r,s,g,O,G,re){if(!(3&n.type))return;const ce=t.data,Se=ce[re+1],Ue=function KE(t){return 1==(1&t)}(Se)?Dy(ce,n,r,g,mi(Se),G):void 0;Qu(Ue)||(Qu(O)||function YE(t){return 2==(2&t)}(Se)&&(O=Dy(ce,null,r,g,re,G)),function q1(t,n,r,s,g){if(n)g?t.addClass(r,s):t.removeClass(r,s);else{let O=-1===s.indexOf("-")?void 0:bu.DashCase;null==g?t.removeStyle(r,s,O):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),O|=bu.Important),t.setStyle(r,s,g,O))}}(s,G,tn(zr(),r),g,O))}function Dy(t,n,r,s,g,O){const G=null===n;let re;for(;g>0;){const ce=t[g],Se=Array.isArray(ce),Ue=Se?ce[1]:ce,Xe=null===Ue;let ht=r[g+1];ht===cr&&(ht=Xe?Nn:void 0);let At=Xe?Fl(ht,s):Ue===s?ht:void 0;if(Se&&!Qu(At)&&(At=Fl(ce,s)),Qu(At)&&(re=At,G))return re;const en=t[g+1];g=G?Ys(en):mi(en)}if(null!==n){let ce=O?n.residualClasses:n.residualStyles;null!=ce&&(re=Fl(ce,s))}return re}function Qu(t){return void 0!==t}function My(t,n){return 0!=(t.flags&(n?8:16))}function Zu(t,n,r,s){const g=mn(),O=hr(),G=Xn+t,re=g[Yn],ce=O.firstCreatePass?function FC(t,n,r,s,g,O){const G=n.consts,ce=Ji(n,t,2,s,er(G,g));return Nd(n,r,ce,er(G,O)),null!==ce.attrs&&Bu(ce,ce.attrs,!1),null!==ce.mergedAttrs&&Bu(ce,ce.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,ce),ce}(G,O,g,n,r,s):O.data[G],Se=Oy(O,g,ce,re,n,t);g[G]=Se;const Ue=Rn(ce);return Qo(ce,!0),am(re,Se,ce),32!=(32&ce.flags)&&Si()&&Cu(O,g,Se,ce),0===function no(){return Ln.lFrame.elementDepthCount}()&&jo(Se,g),function Jo(){Ln.lFrame.elementDepthCount++}(),Ue&&(kd(O,g,ce),Pd(O,ce,g)),null!==s&&Rd(g,ce),Zu}function ec(){let t=Ar();wi()?xi():(t=t.parent,Qo(t,!1));const n=t;(function Da(t){return Ln.skipHydrationRootTNode===t})(n)&&function Ta(){Ln.skipHydrationRootTNode=null}(),function cs(){Ln.lFrame.elementDepthCount--}();const r=hr();return r.firstCreatePass&&(ou(r,t),Eo(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function w_(t){return 0!=(8&t.flags)}(n)&&Pf(r,n,mn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function x_(t){return 0!=(16&t.flags)}(n)&&Pf(r,n,mn(),n.stylesWithoutHost,!1),ec}function Uf(t,n,r,s){return Zu(t,n,r,s),ec(),Uf}let Oy=(t,n,r,s,g,O)=>(Ts(!0),wu(s,g,function Ll(){return Ln.lFrame.currentNamespace}()));function Gf(t,n,r){const s=mn(),g=hr(),O=t+Xn,G=g.firstCreatePass?function GC(t,n,r,s,g){const O=n.consts,G=er(O,s),re=Ji(n,t,8,"ng-container",G);return null!==G&&Bu(re,G,!0),Nd(n,r,re,er(O,g)),null!==n.queries&&n.queries.elementStart(n,re),re}(O,g,s,n,r):g.data[O];Qo(G,!0);const re=jy(g,s,G,t);return s[O]=re,Si()&&Cu(g,s,re,G),jo(re,s),Rn(G)&&(kd(g,s,G),Pd(g,G,s)),null!=r&&Rd(s,G),Gf}function $f(){let t=Ar();const n=hr();return wi()?xi():(t=t.parent,Qo(t,!1)),n.firstCreatePass&&(ou(n,t),Eo(t)&&n.queries.elementEnd(t)),$f}function Vf(t,n,r){return Gf(t,n,r),$f(),Vf}let jy=(t,n,r,s)=>(Ts(!0),Dd(n[Yn],""));function Py(){return mn()}const gi=void 0;var WC=["en",[["a","p"],["AM","PM"],gi],[["AM","PM"],gi,gi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gi,"{1} 'at' {0}",gi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HC(t){const r=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===s?1:5}];let ba={};function Hf(t){const n=function zC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=Ny(n);if(r)return r;const s=n.split("-")[0];if(r=Ny(s),r)return r;if("en"===s)return WC;throw new Ke(701,!1)}function Ly(t){return Hf(t)[_a.PluralCase]}function Ny(t){return t in ba||(ba[t]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[t]),ba[t]}var _a=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_a||{});const wa="en-US";let Fy=wa;function qf(t,n,r,s){const g=mn(),O=hr(),G=Ar();return Yf(O,g,g[Yn],G,t,n,s),qf}function Yf(t,n,r,s,g,O,G){const re=Rn(s),Se=t.firstCreatePass&&xm(t),Ue=n[ur],Xe=wm(n);let ht=!0;if(3&s.type||G){const gn=on(s,n),Mn=G?G(gn):gn,Pn=Xe.length,bn=G?dr=>G(mt(dr[s.index])):s.index;let Jn=null;if(!G&&re&&(Jn=function US(t,n,r,s){const g=t.cleanup;if(null!=g)for(let O=0;O<g.length-1;O+=2){const G=g[O];if(G===r&&g[O+1]===s){const re=n[uo],ce=g[O+2];return re.length>ce?re[ce]:null}"string"==typeof G&&(O+=2)}return null}(t,n,g,s.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=O,Jn.__ngLastListenerFn__=O,ht=!1;else{O=dv(s,n,Ue,O,!1);const dr=r.listen(Mn,g,O);Xe.push(O,dr),Se&&Se.push(g,bn,Pn,Pn+1)}}else O=dv(s,n,Ue,O,!1);const At=s.outputs;let en;if(ht&&null!==At&&(en=At[g])){const gn=en.length;if(gn)for(let Mn=0;Mn<gn;Mn+=2){const mr=n[en[Mn]][en[Mn+1]].subscribe(O),Io=Xe.length;Xe.push(O,mr),Se&&Se.push(g,s.index,Io,"function"==typeof mr?Io+1:-(Io+1))}}}function cv(t,n,r,s){const g=S(null);try{return vs(6,n,r),!1!==r(s)}catch(O){return Tu(t,O),!1}finally{vs(7,n,r),S(g)}}function dv(t,n,r,s,g){return function O(G){if(G===Function)return s;sl(t.componentOffset>-1?$n(t.index,n):n);let ce=cv(n,r,s,G),Se=O.__ngNextListenerFn__;for(;Se;)ce=cv(n,r,Se,G)&&ce,Se=Se.__ngNextListenerFn__;return g&&!1===ce&&G.preventDefault(),ce}}function fv(t=1){return function ss(t){return(Ln.lFrame.contextLView=function Zr(t,n){for(;t>0;)n=n[xo],t--;return n}(t,Ln.lFrame.contextLView))[ur]}(t)}function GS(t,n){let r=null;const s=function lt(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let g=0;g<n.length;g++){const O=n[g];if("*"!==O){if(null===s?$e(t,O,!0):An(s,O))return g}else r=g}return r}function hv(t){const n=mn()[Sr][wr];if(!n.projection){const s=n.projection=function Ra(t,n){const r=[];for(let s=0;s<t;s++)r.push(n);return r}(t?t.length:1,null),g=s.slice();let O=n.child;for(;null!==O;){const G=t?GS(O,t):0;null!==G&&(g[G]?g[G].projectionNext=O:s[G]=O,g[G]=O),O=O.next}}}function pv(t,n=0,r){const s=mn(),g=hr(),O=Ji(g,Xn+t,16,null,r||null);null===O.projection&&(O.projection=n),xi(),(!s[Lr]||Ms())&&32!=(32&O.flags)&&function W1(t,n,r){sm(n[Yn],0,n,r,Id(t,r,n),Zp(r.parent||n[wr],r,n))}(g,s,O)}function sc(t,n,r,s,g){const O=mn(),G=ca(O,n,r,s);return G!==cr&&Ho(hr(),ir(),O,t,G,O[Yn],g,!1),sc}function Cv(t,n,r,s){!function hg(t,n,r,s){const g=hr();if(g.firstCreatePass){const O=Ar();pg(g,new ug(n,r,s),O.index),function Gx(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(g,t),2==(2&r)&&(g.staticContentQueries=!0)}return dg(g,mn(),r)}(t,n,r,s)}function Sv(t,n,r){!function fg(t,n,r){const s=hr();return s.firstCreatePass&&(pg(s,new ug(t,n,r),-1),2==(2&n)&&(s.staticViewQueries=!0)),dg(s,mn(),n)}(t,n,r)}function Dv(t){const n=mn(),r=hr(),s=or();sr(s+1);const g=ff(r,s);if(t.dirty&&function Vn(t){return 4==(4&t[Fn])}(n)===(2==(2&g.metadata.flags))){if(null===g.matches)t.reset([]);else{const O=mg(n,s);t.reset(O,xc),t.notifyOnChanges()}return!0}return!1}function Mv(){return function df(t,n){return t[ho].queries[n].queryList}(mn(),or())}function Iv(t){return function Bn(t,n){return t[n]}(function Ei(){return Ln.lFrame.contextLView}(),Xn+t)}function Fv(t,n=""){const r=mn(),s=hr(),g=t+Xn,O=s.firstCreatePass?Ji(s,g,1,n,null):s.data[g],G=Bv(s,r,O,n,t);r[g]=G,Si()&&Cu(s,r,G,O),Qo(O,!1)}let Bv=(t,n,r,s,g)=>(Ts(!0),function _u(t,n){return t.createText(n)}(n[Yn],s));function Xf(t){return ic("",t,""),Xf}function ic(t,n,r){const s=mn(),g=ca(s,t,n,r);return g!==cr&&Ns(s,zr(),g),ic}function Kf(t,n,r,s,g){const O=mn(),G=da(O,t,n,r,s,g);return G!==cr&&Ns(O,zr(),G),Kf}function Jf(t,n,r){vg(n)&&(n=n());const s=mn();return io(s,de(),n)&&Ho(hr(),ir(),s,t,n,s[Yn],r,!1),Jf}function qv(t,n){const r=vg(t);return r&&t.set(n),r}function Qf(t,n){const r=mn(),s=hr(),g=Ar();return Yf(s,r,r[Yn],g,t,n),Qf}function Zf(t,n,r,s,g){if(t=Hn(t),Array.isArray(t))for(let O=0;O<t.length;O++)Zf(t[O],n,r,s,g);else{const O=hr(),G=mn(),re=Ar();let ce=ii(t)?t:Hn(t.provide);const Se=zh(t),Ue=1048575&re.providerIndexes,Xe=re.directiveStart,ht=re.providerIndexes>>20;if(ii(t)||!t.multi){const At=new qa(Se,g,Ki),en=th(ce,n,g?Ue:Ue+ht,Xe);-1===en?(ad(lu(re,G),O,ce),eh(O,t,n.length),n.push(ce),re.directiveStart++,re.directiveEnd++,g&&(re.providerIndexes+=1048576),r.push(At),G.push(At)):(r[en]=At,G[en]=At)}else{const At=th(ce,n,Ue+ht,Xe),en=th(ce,n,Ue,Ue+ht),Mn=en>=0&&r[en];if(g&&!Mn||!g&&!(At>=0&&r[At])){ad(lu(re,G),O,ce);const Pn=function iD(t,n,r,s,g){const O=new qa(t,r,Ki);return O.multi=[],O.index=n,O.componentProviders=0,Yv(O,g,s&&!r),O}(g?sD:oD,r.length,g,s,Se);!g&&Mn&&(r[en].providerFactory=Pn),eh(O,t,n.length,0),n.push(ce),re.directiveStart++,re.directiveEnd++,g&&(re.providerIndexes+=1048576),r.push(Pn),G.push(Pn)}else eh(O,t,At>-1?At:en,Yv(r[g?en:At],Se,!g&&s));!g&&s&&Mn&&r[en].componentProviders++}}}function eh(t,n,r,s){const g=ii(n),O=function Xb(t){return!!t.useClass}(n);if(g||O){const ce=(O?Hn(n.useClass):n).prototype.ngOnDestroy;if(ce){const Se=t.destroyHooks||(t.destroyHooks=[]);if(!g&&n.multi){const Ue=Se.indexOf(r);-1===Ue?Se.push(r,[s,ce]):Se[Ue+1].push(s,ce)}else Se.push(r,ce)}}}function Yv(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function th(t,n,r,s){for(let g=r;g<s;g++)if(n[g]===t)return g;return-1}function oD(t,n,r,s){return nh(this.multi,[])}function sD(t,n,r,s){const g=this.multi;let O;if(this.providerFactory){const G=this.providerFactory.componentProviders,re=ai(r,r[Tn],this.providerFactory.index,s);O=re.slice(0,G),nh(g,O);for(let ce=G;ce<re.length;ce++)O.push(re[ce])}else O=[],nh(g,O);return O}function nh(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function Xv(t,n=[]){return r=>{r.providersResolver=(s,g)=>function rD(t,n,r){const s=hr();if(s.firstCreatePass){const g=Do(t);Zf(r,s.data,s.blueprint,g,!0),Zf(n,s.data,s.blueprint,g,!1)}}(s,g?g(t):t,n)}}let aD=(()=>{var t;class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const g=zc(0,s.type),O=g.length>0?yf([g],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,O)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Fr({token:t,providedIn:"environment",factory:()=>new t(Oo(ds))}),n})();function Kv(t){ws("NgStandalone"),t.getStandaloneInjector=n=>n.get(aD).getOrCreateStandaloneInjector(t)}function s0(t,n,r){const s=function Gr(){const t=Ln.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,g=mn();return g[s]===cr?function xs(t,n,r){return t[n]=r}(g,s,r?n.call(r):n()):function yl(t,n){return t[n]}(g,s)}class M0{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let I0=(()=>{var t;class n{log(s){console.log(s)}warn(s){console.warn(s)}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const j0=new be(""),P0=new be("");let ch,D2=(()=>{var t;class n{constructor(s,g,O){this._ngZone=s,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ch||(function M2(t){ch=t}(O),O.addToWindow(g)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{so.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(s)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,g,O){let G=-1;g&&g>0&&(G=setTimeout(()=>{this._callbacks=this._callbacks.filter(re=>re.timeoutId!==G),s()},g)),this._callbacks.push({doneCb:s,timeoutId:G,updateCb:O})}whenStable(s,g,O){if(O&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,g,O),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,g,O){return[]}}return(t=n).\u0275fac=function(s){return new(s||t)(Oo(so),Oo(k0),Oo(P0))},t.\u0275prov=Fr({token:t,factory:t.\u0275fac}),n})(),k0=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(s,g){this._applications.set(s,g)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,g=!0){var O,G;return null!==(O=null===(G=ch)||void 0===G?void 0:G.findTestabilityInTree(this,s,g))&&void 0!==O?O:null}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function dh(t){return!!t&&"function"==typeof t.then}function R0(t){return!!t&&"function"==typeof t.subscribe}const L0=new be("");let fh=(()=>{var t;class n{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,O)=>{this.resolve=g,this.reject=O}),this.appInits=null!==(s=_r(L0,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const O of this.appInits){const G=O();if(dh(G))s.push(G);else if(R0(G)){const re=new Promise((ce,Se)=>{G.subscribe({complete:ce,error:Se})});s.push(re)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{g()}).catch(O=>{this.reject(O)}),0===s.length&&g(),this.initialized=!0}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const hh=new be("");function B0(t,n){return Array.isArray(n)?n.reduce(B0,t):{...t,...n}}let Xs=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_r(vp),this.afterRenderEffectManager=_r(fl),this.componentTypes=[],this.components=[],this.isStable=_r(ta).hasPendingTasks.pipe((0,Be.k)(s=>!s)),this._injector=_r(ds)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,g){const O=s instanceof Gm;if(!this._injector.get(fh).done)throw!O&&qn(s),new Ke(405,!1);let re;re=O?s:this._injector.get(Lu).resolveComponentFactory(s),this.componentTypes.push(re.componentType);const ce=function I2(t){return t.isBoundToModule}(re)?void 0:this._injector.get(fi),Ue=re.create(ts.NULL,[],g||re.selector,ce),Xe=Ue.location.nativeElement,ht=Ue.injector.get(j0,null);return null==ht||ht.registerApplication(Xe),Ue.onDestroy(()=>{this.detachView(Ue.hostView),cc(this.components,Ue),null==ht||ht.unregisterApplication(Xe)}),this._loadComponent(Ue),Ue}tick(){if(this._runningTick)throw new Ke(101,!1);const s=S(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(g){this.internalErrorHandler(g)}finally{this._runningTick=!1,S(s)}}detectChangesInAttachedViews(){let s=0;const g=this.afterRenderEffectManager;for(;;){if(100===s)throw new Ke(103,!1);const O=0===s;for(let{_lView:G,notifyErrorHandler:re}of this._views)!O&&!ph(G)||this.detectChangesInView(G,re,O);if(s++,g.executeInternalCallbacks(),!this._views.some(({_lView:G})=>ph(G))&&(g.execute(),!this._views.some(({_lView:G})=>ph(G))))break}}detectChangesInView(s,g,O){let G;O?(G=0,s[Fn]|=1024):G=64&s[Fn]?0:1,Au(s,g,G)}attachView(s){const g=s;this._views.push(g),g.attachToAppRef(this)}detachView(s){const g=s;cc(this._views,g),g.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const g=this._injector.get(hh,[]);[...this._bootstrapListeners,...g].forEach(O=>O(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>cc(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ke(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function cc(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function ph(t){return Jr(t)}class A2{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let O2=(()=>{var t;class n{compileModuleSync(s){return new gf(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const g=this.compileModuleSync(s),G=ns(Kn(s).declarations).reduce((re,ce)=>{const Se=Qt(ce);return Se&&re.push(new ml(Se)),re},[]);return new A2(g,G)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),k2=(()=>{var t;class n{constructor(){this.zone=_r(so),this.applicationRef=_r(Xs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function R2(){const t=_r(so),n=_r(Vs);return r=>t.runOutsideAngular(()=>n.handleError(r))}let N2=(()=>{var t;class n{constructor(){this.subscription=new Oe.wH,this.initialized=!1,this.zone=_r(so),this.pendingTasks=_r(ta)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{so.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var g;so.assertInAngularZone(),null!==(g=s)&&void 0!==g||(s=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const dc=new be("",{providedIn:"root",factory:()=>_r(dc,wt.Optional|wt.SkipSelf)||function F2(){return typeof $localize<"u"&&$localize.locale||wa}()}),B2=new be("",{providedIn:"root",factory:()=>"USD"}),mh=new be("");let V0=(()=>{var t;class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,g){const O=function gx(t="zone.js",n){return"noop"===t?new Ym:"zone.js"===t?new so(n):t}(null==g?void 0:g.ngZone,function $0(t){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==t?void 0:t.runCoalescing)&&void 0!==r&&r}}({eventCoalescing:null==g?void 0:g.ngZoneEventCoalescing,runCoalescing:null==g?void 0:g.ngZoneRunCoalescing}));return O.run(()=>{const G=function uE(t,n,r){return new mf(t,n,r)}(s.moduleType,this.injector,function G0(t){return[{provide:so,useFactory:t},{provide:si,multi:!0,useFactory:()=>{const n=_r(k2,{optional:!0});return()=>n.initialize()}},{provide:si,multi:!0,useFactory:()=>{const n=_r(N2);return()=>{n.initialize()}}},{provide:vp,useFactory:R2}]}(()=>O)),re=G.injector.get(Vs,null);return O.runOutsideAngular(()=>{const ce=O.onError.subscribe({next:Se=>{re.handleError(Se)}});G.onDestroy(()=>{cc(this._modules,G),ce.unsubscribe()})}),function F0(t,n,r){try{const s=r();return dh(s)?s.catch(g=>{throw n.runOutsideAngular(()=>t.handleError(g)),g}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(re,O,()=>{const ce=G.injector.get(fh);return ce.runInitializers(),ce.donePromise.then(()=>(function By(t){"string"==typeof t&&(Fy=t.toLowerCase().replace(/_/g,"-"))}(G.injector.get(dc,wa)||wa),this._moduleDoBootstrap(G),G))})})}bootstrapModule(s,g=[]){const O=B0({},g);return function P2(t,n,r){const s=new gf(r);return Promise.resolve(s)}(0,0,s).then(G=>this.bootstrapModuleFactory(G,O))}_moduleDoBootstrap(s){const g=s.injector.get(Xs);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(O=>g.bootstrap(O));else{if(!s.instance.ngDoBootstrap)throw new Ke(-403,!1);s.instance.ngDoBootstrap(g)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const s=this._injector.get(mh,null);s&&(s.forEach(g=>g()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(s){return new(s||t)(Oo(ts))},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Ks=null;const H0=new be("");function W0(t,n,r=[]){const s=`Platform: ${n}`,g=new be(s);return(O=[])=>{let G=gh();if(!G||G.injector.get(H0,!1)){const re=[...r,...O,{provide:g,useValue:!0}];t?t(re):function G2(t){if(Ks&&!Ks.get(H0,!1))throw new Ke(400,!1);(function N0(){!function te(t){Y=t}(()=>{throw new Ke(600,!1)})})(),Ks=t;const n=t.get(V0);(function q0(t){const n=t.get(Ze,null);null==n||n.forEach(r=>r())})(t)}(function z0(t=[],n){return ts.create({name:n,providers:[{provide:Xc,useValue:"platform"},{provide:mh,useValue:new Set([()=>Ks=null])},...t]})}(re,s))}return function $2(t){const n=gh();if(!n)throw new Ke(401,!1);return n}()}}function gh(){var t,n;return null!==(t=null===(n=Ks)||void 0===n?void 0:n.get(V0))&&void 0!==t?t:null}function H2(){}let X0=(()=>{class n{}return n.__NG_ELEMENT_ID__=W2,n})();function W2(t){return function z2(t,n,r){if(Xr(t)&&!r){const s=$n(t.index,n);return new il(s,s)}return 47&t.type?new il(n[Sr],n):null}(Ar(),mn(),16==(16&t))}class Z0{constructor(){}supports(n){return Hu(n)}create(n){return new J2(n)}}const K2=(t,n)=>n;class J2{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||K2}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,s=this._removalsHead,g=0,O=null;for(;r||s;){const G=!s||r&&r.currentIndex<tb(s,g,O)?r:s,re=tb(G,g,O),ce=G.currentIndex;if(G===s)g--,s=s._nextRemoved;else if(r=r._next,null==G.previousIndex)g++;else{O||(O=[]);const Se=re-g,Ue=ce-g;if(Se!=Ue){for(let ht=0;ht<Se;ht++){const At=ht<O.length?O[ht]:O[ht]=0,en=At+ht;Ue<=en&&en<Se&&(O[ht]=At+1)}O[G.previousIndex]=Ue-Se}}re!==ce&&n(G,re,ce)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Hu(n))throw new Ke(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let g,O,G,r=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let re=0;re<this.length;re++)O=n[re],G=this._trackByFn(re,O),null!==r&&Object.is(r.trackById,G)?(s&&(r=this._verifyReinsertion(r,O,G,re)),Object.is(r.item,O)||this._addIdentityChange(r,O)):(r=this._mismatch(r,O,G,re),s=!0),r=r._next}else g=0,function hE(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let s;for(;!(s=r.next()).done;)n(s.value)}}(n,re=>{G=this._trackByFn(g,re),null!==r&&Object.is(r.trackById,G)?(s&&(r=this._verifyReinsertion(r,re,G,g)),Object.is(r.item,re)||this._addIdentityChange(r,re)):(r=this._mismatch(r,re,G,g),s=!0),r=r._next,g++}),this.length=g;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,s,g){let O;return null===n?O=this._itTail:(O=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,O,g)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,g))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,O,g)):n=this._addAfter(new Q2(r,s),O,g),n}_verifyReinsertion(n,r,s,g){let O=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==O?n=this._reinsertAfter(O,n._prev,g):n.currentIndex!=g&&(n.currentIndex=g,this._addToMoves(n,g)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const g=n._prevRemoved,O=n._nextRemoved;return null===g?this._removalsHead=O:g._nextRemoved=O,null===O?this._removalsTail=g:O._prevRemoved=g,this._insertAfter(n,r,s),this._addToMoves(n,s),n}_moveAfter(n,r,s){return this._unlink(n),this._insertAfter(n,r,s),this._addToMoves(n,s),n}_addAfter(n,r,s){return this._insertAfter(n,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,s){const g=null===r?this._itHead:r._next;return n._next=g,n._prev=r,null===g?this._itTail=n:g._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,s=n._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Q2{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Z2{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const r=n._prevDup,s=n._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class eb{constructor(){this.map=new Map}put(n){const r=n.trackById;let s=this.map.get(r);s||(s=new Z2,this.map.set(r,s)),s.add(n)}get(n,r){const g=this.map.get(n);return g?g.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(t,n,r){const s=t.previousIndex;if(null===s)return s;let g=0;return r&&s<r.length&&(g=r[s]),s+n+g}class nb{constructor(){}supports(n){return n instanceof Map||vf(n)}create(){return new eM}}class eM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||vf(n)))throw new Ke(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,g)=>{if(r&&r.key===g)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const O=this._getOrCreateRecordForKey(g,s);r=this._insertBeforeOrAppend(r,O)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const s=n._prev;return r._next=n,r._prev=s,n._prev=r,s&&(s._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const g=this._records.get(n);this._maybeAddToChanges(g,r);const O=g._prev,G=g._next;return O&&(O._next=G),G&&(G._prev=O),g._next=null,g._prev=null,g}const s=new tM(n);return this._records.set(n,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(s=>r(n[s],s))}}class tM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new wh([new Z0])}let wh=(()=>{var t;class n{constructor(s){this.factories=s}static create(s,g){if(null!=g){const O=g.factories.slice();s=s.concat(O)}return new n(s)}static extend(s){return{provide:n,useFactory:g=>n.create(s,g||rb()),deps:[[n,new Kl,new Xl]]}}find(s){const g=this.factories.find(O=>O.supports(s));if(null!=g)return g;throw new Ke(901,!1)}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:rb}),n})();function ob(){return new xh([new nb])}let xh=(()=>{var t;class n{constructor(s){this.factories=s}static create(s,g){if(g){const O=g.factories.slice();s=s.concat(O)}return new n(s)}static extend(s){return{provide:n,useFactory:g=>n.create(s,g||ob()),deps:[[n,new Kl,new Xl]]}}find(s){const g=this.factories.find(O=>O.supports(s));if(g)return g;throw new Ke(901,!1)}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:ob}),n})();const oM=W0(null,"core",[]);let sM=(()=>{var t;class n{constructor(s){}}return(t=n).\u0275fac=function(s){return new(s||t)(Oo(Xs))},t.\u0275mod=Ne({type:t}),t.\u0275inj=ri({}),n})();function PM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function RM(t){const n=S(null);try{return t()}finally{S(n)}}function GM(t,n){const r=Qt(t),s=n.elementInjector||tu();return new ml(r).create(s,n.projectableNodes,n.hostElement,n.environmentInjector)}function $M(t){const n=Qt(t);if(!n)return null;const r=new ml(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4716:(pn,jt,ge)=>{"use strict";ge.d(jt,{ot:()=>p,y:()=>C,_t:()=>Ro,Gu:()=>vr,WM:()=>F,Y6:()=>a,eq:()=>ft,ue:()=>Ft,_G:()=>Dn});var y=ge(4496),xe=ge(1368),rt=ge(2115),_e=ge(3252),o=ge(4300),$=ge(560),S=ge(6624),v=ge(7773),_=ge(4187),h=ge(7904),x=ge(4704);let w=(()=>{var A;class T{constructor(X,ue){this._renderer=X,this._elementRef=ue,this.onChange=Le=>{},this.onTouched=()=>{}}setProperty(X,ue){this._renderer.setProperty(this._elementRef.nativeElement,X,ue)}registerOnTouched(X){this.onTouched=X}registerOnChange(X){this.onChange=X}setDisabledState(X){this.setProperty("disabled",X)}}return(A=T).\u0275fac=function(X){return new(X||A)(y.GI1(y.q87),y.GI1(y.GMv))},A.\u0275dir=y.Sc5({type:A}),T})(),i=(()=>{var A;class T extends w{}return(A=T).\u0275fac=(()=>{let Z;return function(ue){return(Z||(Z=y.otF(A)))(ue||A)}})(),A.\u0275dir=y.Sc5({type:A,features:[y.eg9]}),T})();const a=new y.UbH(""),u={provide:a,useExisting:(0,y.wd)(()=>p),multi:!0},m=new y.UbH("");let p=(()=>{var A;class T extends w{constructor(X,ue,Le){super(X,ue),this._compositionMode=Le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function l(){const A=(0,xe.uy)()?(0,xe.uy)().getUserAgent():"";return/android (\d+)/.test(A.toLowerCase())}())}writeValue(X){this.setProperty("value",null==X?"":X)}_handleInput(X){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(X)}_compositionStart(){this._composing=!0}_compositionEnd(X){this._composing=!1,this._compositionMode&&this.onChange(X)}}return(A=T).\u0275fac=function(X){return new(X||A)(y.GI1(y.q87),y.GI1(y.GMv),y.GI1(m,8))},A.\u0275dir=y.Sc5({type:A,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(X,ue){1&X&&y.qCj("input",function(Je){return ue._handleInput(Je.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(Je){return ue._compositionEnd(Je.target.value)})},features:[y.M5G([u]),y.eg9]}),T})();function b(A){return null==A||("string"==typeof A||Array.isArray(A))&&0===A.length}const F=new y.UbH(""),N=new y.UbH("");function J(A){return null}function q(A){return null!=A}function ne(A){return(0,y.w5$)(A)?(0,rt.Q)(A):A}function fe(A){let T={};return A.forEach(Z=>{T=null!=Z?{...T,...Z}:T}),0===Object.keys(T).length?null:T}function De(A,T){return T.map(Z=>Z(A))}function L(A){return A.map(T=>function K(A){return!A.validate}(T)?T:Z=>T.validate(Z))}function pe(A){return null!=A?function se(A){if(!A)return null;const T=A.filter(q);return 0==T.length?null:function(Z){return fe(De(Z,T))}}(L(A)):null}function Fe(A){return null!=A?function Ce(A){if(!A)return null;const T=A.filter(q);return 0==T.length?null:function(Z){return function f(...A){const T=(0,S.yu)(A),{args:Z,keys:X}=(0,o.Q)(A),ue=new _e._(Le=>{const{length:Je}=Z;if(!Je)return void Le.complete();const st=new Array(Je);let It=Je,Vt=Je;for(let Bt=0;Bt<Je;Bt++){let mt=!1;(0,$.Uv)(Z[Bt]).subscribe((0,v.e)(Le,yn=>{mt||(mt=!0,Vt--),st[Bt]=yn},()=>It--,void 0,()=>{(!It||!mt)&&(Vt||Le.next(X?(0,h.q)(X,st):st),Le.complete())}))}});return T?ue.pipe((0,_.j)(T)):ue}(De(Z,T).map(ne)).pipe((0,x.k)(fe))}}(L(A)):null}function We(A,T){return null===A?[T]:Array.isArray(A)?[...A,T]:[A,T]}function ke(A){return A?Array.isArray(A)?A:[A]:[]}function Be(A,T){return Array.isArray(A)?A.includes(T):A===T}function je(A,T){const Z=ke(T);return ke(A).forEach(ue=>{Be(Z,ue)||Z.push(ue)}),Z}function Qe(A,T){return ke(T).filter(Z=>!Be(A,Z))}class Ke{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(T){this._rawValidators=T||[],this._composedValidatorFn=pe(this._rawValidators)}_setAsyncValidators(T){this._rawAsyncValidators=T||[],this._composedAsyncValidatorFn=Fe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(T){this._onDestroyCallbacks.push(T)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(T=>T()),this._onDestroyCallbacks=[]}reset(T=void 0){this.control&&this.control.reset(T)}hasError(T,Z){return!!this.control&&this.control.hasError(T,Z)}getError(T,Z){return this.control?this.control.getError(T,Z):null}}class gt extends Ke{get formDirective(){return null}get path(){return null}}class ft extends Ke{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yt{constructor(T){this._cd=T}get isTouched(){var T;return!(null===(T=this._cd)||void 0===T||null===(T=T.control)||void 0===T||!T.touched)}get isUntouched(){var T;return!(null===(T=this._cd)||void 0===T||null===(T=T.control)||void 0===T||!T.untouched)}get isPristine(){var T;return!(null===(T=this._cd)||void 0===T||null===(T=T.control)||void 0===T||!T.pristine)}get isDirty(){var T;return!(null===(T=this._cd)||void 0===T||null===(T=T.control)||void 0===T||!T.dirty)}get isValid(){var T;return!(null===(T=this._cd)||void 0===T||null===(T=T.control)||void 0===T||!T.valid)}get isInvalid(){var T;return!(null===(T=this._cd)||void 0===T||null===(T=T.control)||void 0===T||!T.invalid)}get isPending(){var T;return!(null===(T=this._cd)||void 0===T||null===(T=T.control)||void 0===T||!T.pending)}get isSubmitted(){var T;return!(null===(T=this._cd)||void 0===T||!T.submitted)}}let Ft=(()=>{var A;class T extends yt{constructor(X){super(X)}}return(A=T).\u0275fac=function(X){return new(X||A)(y.GI1(ft,2))},A.\u0275dir=y.Sc5({type:A,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(X,ue){2&X&&y.eAK("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[y.eg9]}),T})();const Dt="VALID",xt="INVALID",ot="PENDING",Ye="DISABLED";function bt(A){return null!=A&&!Array.isArray(A)&&"object"==typeof A}class Xt{constructor(T,Z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(T),this._assignAsyncValidators(Z)}get validator(){return this._composedValidatorFn}set validator(T){this._rawValidators=this._composedValidatorFn=T}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(T){this._rawAsyncValidators=this._composedAsyncValidatorFn=T}get parent(){return this._parent}get valid(){return this.status===Dt}get invalid(){return this.status===xt}get pending(){return this.status==ot}get disabled(){return this.status===Ye}get enabled(){return this.status!==Ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(T){this._assignValidators(T)}setAsyncValidators(T){this._assignAsyncValidators(T)}addValidators(T){this.setValidators(je(T,this._rawValidators))}addAsyncValidators(T){this.setAsyncValidators(je(T,this._rawAsyncValidators))}removeValidators(T){this.setValidators(Qe(T,this._rawValidators))}removeAsyncValidators(T){this.setAsyncValidators(Qe(T,this._rawAsyncValidators))}hasValidator(T){return Be(this._rawValidators,T)}hasAsyncValidator(T){return Be(this._rawAsyncValidators,T)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(T={}){this.touched=!0,this._parent&&!T.onlySelf&&this._parent.markAsTouched(T)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(T=>T.markAllAsTouched())}markAsUntouched(T={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Z=>{Z.markAsUntouched({onlySelf:!0})}),this._parent&&!T.onlySelf&&this._parent._updateTouched(T)}markAsDirty(T={}){this.pristine=!1,this._parent&&!T.onlySelf&&this._parent.markAsDirty(T)}markAsPristine(T={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Z=>{Z.markAsPristine({onlySelf:!0})}),this._parent&&!T.onlySelf&&this._parent._updatePristine(T)}markAsPending(T={}){this.status=ot,!1!==T.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!T.onlySelf&&this._parent.markAsPending(T)}disable(T={}){const Z=this._parentMarkedDirty(T.onlySelf);this.status=Ye,this.errors=null,this._forEachChild(X=>{X.disable({...T,onlySelf:!0})}),this._updateValue(),!1!==T.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...T,skipPristineCheck:Z}),this._onDisabledChange.forEach(X=>X(!0))}enable(T={}){const Z=this._parentMarkedDirty(T.onlySelf);this.status=Dt,this._forEachChild(X=>{X.enable({...T,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent}),this._updateAncestors({...T,skipPristineCheck:Z}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(T){this._parent&&!T.onlySelf&&(this._parent.updateValueAndValidity(T),T.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(T){this._parent=T}getRawValue(){return this.value}updateValueAndValidity(T={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dt||this.status===ot)&&this._runAsyncValidator(T.emitEvent)),!1!==T.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!T.onlySelf&&this._parent.updateValueAndValidity(T)}_updateTreeValidity(T={emitEvent:!0}){this._forEachChild(Z=>Z._updateTreeValidity(T)),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ye:Dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(T){if(this.asyncValidator){this.status=ot,this._hasOwnPendingAsyncValidator=!0;const Z=ne(this.asyncValidator(this));this._asyncValidationSubscription=Z.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:T})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(T,Z={}){this.errors=T,this._updateControlsErrors(!1!==Z.emitEvent)}get(T){let Z=T;return null==Z||(Array.isArray(Z)||(Z=Z.split(".")),0===Z.length)?null:Z.reduce((X,ue)=>X&&X._find(ue),this)}getError(T,Z){const X=Z?this.get(Z):this;return X&&X.errors?X.errors[T]:null}hasError(T,Z){return!!this.getError(T,Z)}get root(){let T=this;for(;T._parent;)T=T._parent;return T}_updateControlsErrors(T){this.status=this._calculateStatus(),T&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(T)}_initObservables(){this.valueChanges=new y._w7,this.statusChanges=new y._w7}_calculateStatus(){return this._allControlsDisabled()?Ye:this.errors?xt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ot)?ot:this._anyControlsHaveStatus(xt)?xt:Dt}_anyControlsHaveStatus(T){return this._anyControls(Z=>Z.status===T)}_anyControlsDirty(){return this._anyControls(T=>T.dirty)}_anyControlsTouched(){return this._anyControls(T=>T.touched)}_updatePristine(T={}){this.pristine=!this._anyControlsDirty(),this._parent&&!T.onlySelf&&this._parent._updatePristine(T)}_updateTouched(T={}){this.touched=this._anyControlsTouched(),this._parent&&!T.onlySelf&&this._parent._updateTouched(T)}_registerOnCollectionChange(T){this._onCollectionChange=T}_setUpdateStrategy(T){bt(T)&&null!=T.updateOn&&(this._updateOn=T.updateOn)}_parentMarkedDirty(T){return!T&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(T){return null}_assignValidators(T){this._rawValidators=Array.isArray(T)?T.slice():T,this._composedValidatorFn=function Ct(A){return Array.isArray(A)?pe(A):A||null}(this._rawValidators)}_assignAsyncValidators(T){this._rawAsyncValidators=Array.isArray(T)?T.slice():T,this._composedAsyncValidatorFn=function ze(A){return Array.isArray(A)?Fe(A):A||null}(this._rawAsyncValidators)}}const nr=new y.UbH("CallSetDisabledState",{providedIn:"root",factory:()=>Wn}),Wn="always";function ee(A,T,Z=Wn){var X,ue;(function R(A,T){const Z=function tt(A){return A._rawValidators}(A);null!==T.validator?A.setValidators(We(Z,T.validator)):"function"==typeof Z&&A.setValidators([Z]);const X=function Oe(A){return A._rawAsyncValidators}(A);null!==T.asyncValidator?A.setAsyncValidators(We(X,T.asyncValidator)):"function"==typeof X&&A.setAsyncValidators([X]);const ue=()=>A.updateValueAndValidity();we(T._rawValidators,ue),we(T._rawAsyncValidators,ue)})(A,T),T.valueAccessor.writeValue(A.value),(A.disabled||"always"===Z)&&(null===(X=(ue=T.valueAccessor).setDisabledState)||void 0===X||X.call(ue,A.disabled)),function H(A,T){T.valueAccessor.registerOnChange(Z=>{A._pendingValue=Z,A._pendingChange=!0,A._pendingDirty=!0,"change"===A.updateOn&&Q(A,T)})}(A,T),function ye(A,T){const Z=(X,ue)=>{T.valueAccessor.writeValue(X),ue&&T.viewToModelUpdate(X)};A.registerOnChange(Z),T._registerOnDestroy(()=>{A._unregisterOnChange(Z)})}(A,T),function le(A,T){T.valueAccessor.registerOnTouched(()=>{A._pendingTouched=!0,"blur"===A.updateOn&&A._pendingChange&&Q(A,T),"submit"!==A.updateOn&&A.markAsTouched()})}(A,T),function D(A,T){if(T.valueAccessor.setDisabledState){const Z=X=>{T.valueAccessor.setDisabledState(X)};A.registerOnDisabledChange(Z),T._registerOnDestroy(()=>{A._unregisterOnDisabledChange(Z)})}}(A,T)}function we(A,T){A.forEach(Z=>{Z.registerOnValidatorChange&&Z.registerOnValidatorChange(T)})}function Q(A,T){A._pendingDirty&&A.markAsDirty(),A.setValue(A._pendingValue,{emitModelToViewChange:!1}),T.viewToModelUpdate(A._pendingValue),A._pendingChange=!1}function fn(A,T){const Z=A.indexOf(T);Z>-1&&A.splice(Z,1)}function An(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}Promise.resolve();const Tt=class extends Xt{constructor(T=null,Z,X){super(function ut(A){return(bt(A)?A.validators:A)||null}(Z),function rn(A,T){return(bt(T)?T.asyncValidators:A)||null}(X,Z)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(T),this._setUpdateStrategy(Z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bt(Z)&&(Z.nonNullable||Z.initialValueIsDefault)&&(this.defaultValue=An(T)?T.value:T)}setValue(T,Z={}){this.value=this._pendingValue=T,this._onChange.length&&!1!==Z.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==Z.emitViewToModelChange)),this.updateValueAndValidity(Z)}patchValue(T,Z={}){this.setValue(T,Z)}reset(T=this.defaultValue,Z={}){this._applyFormState(T),this.markAsPristine(Z),this.markAsUntouched(Z),this.setValue(this.value,Z),this._pendingChange=!1}_updateValue(){}_anyControls(T){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(T){this._onChange.push(T)}_unregisterOnChange(T){fn(this._onChange,T)}registerOnDisabledChange(T){this._onDisabledChange.push(T)}_unregisterOnDisabledChange(T){fn(this._onDisabledChange,T)}_forEachChild(T){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(T){An(T)?(this.value=this._pendingValue=T.value,T.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=T}},pt={provide:ft,useExisting:(0,y.wd)(()=>Dn)},Qt=Promise.resolve();let Dn=(()=>{var A;class T extends ft{constructor(X,ue,Le,Je,st,It){super(),this._changeDetectorRef=st,this.callSetDisabledState=It,this.control=new Tt,this._registered=!1,this.name="",this.update=new y._w7,this._parent=X,this._setValidators(ue),this._setAsyncValidators(Le),this.valueAccessor=function ar(A,T){if(!T)return null;let Z,X,ue;return Array.isArray(T),T.forEach(Le=>{Le.constructor===p?Z=Le:function Gn(A){return Object.getPrototypeOf(A.constructor)===i}(Le)?X=Le:ue=Le}),ue||X||Z||null}(0,Je)}ngOnChanges(X){if(this._checkForErrors(),!this._registered||"name"in X){if(this._registered&&(this._checkName(),this.formDirective)){const ue=X.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in X&&this._updateDisabled(X),function zn(A,T){if(!A.hasOwnProperty("model"))return!1;const Z=A.model;return!!Z.isFirstChange()||!Object.is(T,Z.currentValue)}(X,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(X){this.viewModel=X,this.update.emit(X)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ee(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(X){Qt.then(()=>{var ue;this.control.setValue(X,{emitViewToModelChange:!1}),null===(ue=this._changeDetectorRef)||void 0===ue||ue.markForCheck()})}_updateDisabled(X){const ue=X.isDisabled.currentValue,Le=0!==ue&&(0,y.cZD)(ue);Qt.then(()=>{var Je;Le&&!this.control.disabled?this.control.disable():!Le&&this.control.disabled&&this.control.enable(),null===(Je=this._changeDetectorRef)||void 0===Je||Je.markForCheck()})}_getPath(X){return this._parent?function Nn(A,T){return[...T.path,A]}(X,this._parent):[X]}}return(A=T).\u0275fac=function(X){return new(X||A)(y.GI1(gt,9),y.GI1(F,10),y.GI1(N,10),y.GI1(a,10),y.GI1(y.kD9,8),y.GI1(nr,8))},A.\u0275dir=y.Sc5({type:A,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[y.Wk5.None,"disabled","isDisabled"],model:[y.Wk5.None,"ngModel","model"],options:[y.Wk5.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y.M5G([pt]),y.eg9,y.SYr]}),T})();function Uo(A){return"number"==typeof A?A:parseFloat(A)}let oo=(()=>{var A;class T{constructor(){this._validator=J}ngOnChanges(X){if(this.inputName in X){const ue=this.normalizeInput(X[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):J,this._onChange&&this._onChange()}}validate(X){return this._validator(X)}registerOnValidatorChange(X){this._onChange=X}enabled(X){return null!=X}}return(A=T).\u0275fac=function(X){return new(X||A)},A.\u0275dir=y.Sc5({type:A,features:[y.SYr]}),T})();const co={provide:F,useExisting:(0,y.wd)(()=>Ro),multi:!0};let Ro=(()=>{var A;class T extends oo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=X=>Uo(X),this.createValidator=X=>function k(A){return T=>{if(b(T.value)||b(A))return null;const Z=parseFloat(T.value);return!isNaN(Z)&&Z>A?{max:{max:A,actual:T.value}}:null}}(X)}}return(A=T).\u0275fac=(()=>{let Z;return function(ue){return(Z||(Z=y.otF(A)))(ue||A)}})(),A.\u0275dir=y.Sc5({type:A,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(X,ue){2&X&&y.e48("max",ue._enabled?ue.max:null)},inputs:{max:"max"},features:[y.M5G([co]),y.eg9]}),T})();const Lo={provide:F,useExisting:(0,y.wd)(()=>vr),multi:!0};let vr=(()=>{var A;class T extends oo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=X=>Uo(X),this.createValidator=X=>function V(A){return T=>{if(b(T.value)||b(A))return null;const Z=parseFloat(T.value);return!isNaN(Z)&&Z<A?{min:{min:A,actual:T.value}}:null}}(X)}}return(A=T).\u0275fac=(()=>{let Z;return function(ue){return(Z||(Z=y.otF(A)))(ue||A)}})(),A.\u0275dir=y.Sc5({type:A,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(X,ue){2&X&&y.e48("min",ue._enabled?ue.min:null)},inputs:{min:"min"},features:[y.M5G([Lo]),y.eg9]}),T})(),Qs=(()=>{var A;class T{}return(A=T).\u0275fac=function(X){return new(X||A)},A.\u0275mod=y.a4G({type:A}),A.\u0275inj=y.s3X({}),T})(),C=(()=>{var A;class T{static withConfig(X){var ue;return{ngModule:T,providers:[{provide:nr,useValue:null!==(ue=X.callSetDisabledState)&&void 0!==ue?ue:Wn}]}}}return(A=T).\u0275fac=function(X){return new(X||A)},A.\u0275mod=y.a4G({type:A}),A.\u0275inj=y.s3X({imports:[Qs]}),T})()},4476:(pn,jt,ge)=>{"use strict";ge.d(jt,{OY:()=>Qe,iE:()=>ke,mI:()=>wt,o_:()=>Fe});var y=ge(4496),xe=ge(1368);class rt extends xe.mg{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends rt{static makeCurrent(){(0,xe.ug)(new _e)}onAndCancel(xt,ot,Ye){return xt.addEventListener(ot,Ye),()=>{xt.removeEventListener(ot,Ye)}}dispatchEvent(xt,ot){xt.dispatchEvent(ot)}remove(xt){xt.parentNode&&xt.parentNode.removeChild(xt)}createElement(xt,ot){return(ot=ot||this.getDefaultDocument()).createElement(xt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(xt){return xt.nodeType===Node.ELEMENT_NODE}isShadowRoot(xt){return xt instanceof DocumentFragment}getGlobalEventTarget(xt,ot){return"window"===ot?window:"document"===ot?xt:"body"===ot?xt.body:null}getBaseHref(xt){const ot=function $(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==ot?null:function S(Dt){return new URL(Dt,document.baseURI).pathname}(ot)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(xt){return(0,xe.Sg)(document.cookie,xt)}}let o=null,_=(()=>{var Dt;class xt{build(){return new XMLHttpRequest}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)},Dt.\u0275prov=y.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();const h=new y.UbH("");let f=(()=>{var Dt;class xt{constructor(Ye,ut){this._zone=ut,this._eventNameToPlugin=new Map,Ye.forEach(Ct=>{Ct.manager=this}),this._plugins=Ye.slice().reverse()}addEventListener(Ye,ut,Ct){return this._findPluginFor(ut).addEventListener(Ye,ut,Ct)}getZone(){return this._zone}_findPluginFor(Ye){let ut=this._eventNameToPlugin.get(Ye);if(ut)return ut;if(ut=this._plugins.find(rn=>rn.supports(Ye)),!ut)throw new y.OBp(5101,!1);return this._eventNameToPlugin.set(Ye,ut),ut}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(y.CoB(h),y.CoB(y.WW2))},Dt.\u0275prov=y.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();class x{constructor(xt){this._doc=xt}}const w="ng-app-id";let i=(()=>{var Dt;class xt{constructor(Ye,ut,Ct,rn={}){this.doc=Ye,this.appId=ut,this.nonce=Ct,this.platformId=rn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,xe.uf)(rn),this.resetHostNodes()}addStyles(Ye){for(const ut of Ye)1===this.changeUsageCount(ut,1)&&this.onStyleAdded(ut)}removeStyles(Ye){for(const ut of Ye)this.changeUsageCount(ut,-1)<=0&&this.onStyleRemoved(ut)}ngOnDestroy(){const Ye=this.styleNodesInDOM;Ye&&(Ye.forEach(ut=>ut.remove()),Ye.clear());for(const ut of this.getAllStyles())this.onStyleRemoved(ut);this.resetHostNodes()}addHost(Ye){this.hostNodes.add(Ye);for(const ut of this.getAllStyles())this.addStyleToHost(Ye,ut)}removeHost(Ye){this.hostNodes.delete(Ye)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ye){for(const ut of this.hostNodes)this.addStyleToHost(ut,Ye)}onStyleRemoved(Ye){var ut;const Ct=this.styleRef;null===(ut=Ct.get(Ye))||void 0===ut||null===(ut=ut.elements)||void 0===ut||ut.forEach(rn=>rn.remove()),Ct.delete(Ye)}collectServerRenderedStyles(){var Ye;const ut=null===(Ye=this.doc.head)||void 0===Ye?void 0:Ye.querySelectorAll(`style[${w}="${this.appId}"]`);if(null!=ut&&ut.length){const Ct=new Map;return ut.forEach(rn=>{null!=rn.textContent&&Ct.set(rn.textContent,rn)}),Ct}return null}changeUsageCount(Ye,ut){const Ct=this.styleRef;if(Ct.has(Ye)){const rn=Ct.get(Ye);return rn.usage+=ut,rn.usage}return Ct.set(Ye,{usage:ut,elements:[]}),ut}getStyleElement(Ye,ut){const Ct=this.styleNodesInDOM,rn=null==Ct?void 0:Ct.get(ut);if((null==rn?void 0:rn.parentNode)===Ye)return Ct.delete(ut),rn.removeAttribute(w),rn;{const ze=this.doc.createElement("style");return this.nonce&&ze.setAttribute("nonce",this.nonce),ze.textContent=ut,this.platformIsServer&&ze.setAttribute(w,this.appId),Ye.appendChild(ze),ze}}addStyleToHost(Ye,ut){var Ct;const rn=this.getStyleElement(Ye,ut),ze=this.styleRef,bt=null===(Ct=ze.get(ut))||void 0===Ct?void 0:Ct.elements;bt?bt.push(rn):ze.set(ut,{elements:[rn],usage:1})}resetHostNodes(){const Ye=this.hostNodes;Ye.clear(),Ye.add(this.doc.head)}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(y.CoB(xe.Ud),y.CoB(y.QHP),y.CoB(y.YND,8),y.CoB(y.AHE))},Dt.\u0275prov=y.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();const a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},d=/%COMP%/g,c="%COMP%",u=`_nghost-${c}`,l=`_ngcontent-${c}`,p=new y.UbH("",{providedIn:"root",factory:()=>!0});function F(Dt,xt){return xt.map(ot=>ot.replace(d,Dt))}let N=(()=>{var Dt;class xt{constructor(Ye,ut,Ct,rn,ze,bt,Nt,Lt=null){this.eventManager=Ye,this.sharedStylesHost=ut,this.appId=Ct,this.removeStylesOnCompDestroy=rn,this.doc=ze,this.platformId=bt,this.ngZone=Nt,this.nonce=Lt,this.rendererByCompId=new Map,this.platformIsServer=(0,xe.uf)(bt),this.defaultRenderer=new P(Ye,ze,Nt,this.platformIsServer)}createRenderer(Ye,ut){if(!Ye||!ut)return this.defaultRenderer;this.platformIsServer&&ut.encapsulation===y.K6R.ShadowDom&&(ut={...ut,encapsulation:y.K6R.Emulated});const Ct=this.getOrCreateRenderer(Ye,ut);return Ct instanceof W?Ct.applyToHost(Ye):Ct instanceof I&&Ct.applyStyles(),Ct}getOrCreateRenderer(Ye,ut){const Ct=this.rendererByCompId;let rn=Ct.get(ut.id);if(!rn){const ze=this.doc,bt=this.ngZone,Nt=this.eventManager,Lt=this.sharedStylesHost,Xt=this.removeStylesOnCompDestroy,hn=this.platformIsServer;switch(ut.encapsulation){case y.K6R.Emulated:rn=new W(Nt,Lt,ut,this.appId,Xt,ze,bt,hn);break;case y.K6R.ShadowDom:return new E(Nt,Lt,Ye,ut,ze,bt,this.nonce,hn);default:rn=new I(Nt,Lt,ut,Xt,ze,bt,hn)}Ct.set(ut.id,rn)}return rn}ngOnDestroy(){this.rendererByCompId.clear()}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(y.CoB(f),y.CoB(i),y.CoB(y.QHP),y.CoB(p),y.CoB(xe.Ud),y.CoB(y.AHE),y.CoB(y.WW2),y.CoB(y.YND))},Dt.\u0275prov=y.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();class P{constructor(xt,ot,Ye,ut){this.eventManager=xt,this.doc=ot,this.ngZone=Ye,this.platformIsServer=ut,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(xt,ot){return ot?this.doc.createElementNS(a[ot]||ot,xt):this.doc.createElement(xt)}createComment(xt){return this.doc.createComment(xt)}createText(xt){return this.doc.createTextNode(xt)}appendChild(xt,ot){(k(xt)?xt.content:xt).appendChild(ot)}insertBefore(xt,ot,Ye){xt&&(k(xt)?xt.content:xt).insertBefore(ot,Ye)}removeChild(xt,ot){xt&&xt.removeChild(ot)}selectRootElement(xt,ot){let Ye="string"==typeof xt?this.doc.querySelector(xt):xt;if(!Ye)throw new y.OBp(-5104,!1);return ot||(Ye.textContent=""),Ye}parentNode(xt){return xt.parentNode}nextSibling(xt){return xt.nextSibling}setAttribute(xt,ot,Ye,ut){if(ut){ot=ut+":"+ot;const Ct=a[ut];Ct?xt.setAttributeNS(Ct,ot,Ye):xt.setAttribute(ot,Ye)}else xt.setAttribute(ot,Ye)}removeAttribute(xt,ot,Ye){if(Ye){const ut=a[Ye];ut?xt.removeAttributeNS(ut,ot):xt.removeAttribute(`${Ye}:${ot}`)}else xt.removeAttribute(ot)}addClass(xt,ot){xt.classList.add(ot)}removeClass(xt,ot){xt.classList.remove(ot)}setStyle(xt,ot,Ye,ut){ut&(y.yzm.DashCase|y.yzm.Important)?xt.style.setProperty(ot,Ye,ut&y.yzm.Important?"important":""):xt.style[ot]=Ye}removeStyle(xt,ot,Ye){Ye&y.yzm.DashCase?xt.style.removeProperty(ot):xt.style[ot]=""}setProperty(xt,ot,Ye){null!=xt&&(xt[ot]=Ye)}setValue(xt,ot){xt.nodeValue=ot}listen(xt,ot,Ye){if("string"==typeof xt&&!(xt=(0,xe.uy)().getGlobalEventTarget(this.doc,xt)))throw new Error(`Unsupported event target ${xt} for event ${ot}`);return this.eventManager.addEventListener(xt,ot,this.decoratePreventDefault(Ye))}decoratePreventDefault(xt){return ot=>{if("__ngUnwrap__"===ot)return xt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>xt(ot)):xt(ot))&&ot.preventDefault()}}}function k(Dt){return"TEMPLATE"===Dt.tagName&&void 0!==Dt.content}class E extends P{constructor(xt,ot,Ye,ut,Ct,rn,ze,bt){super(xt,Ct,rn,bt),this.sharedStylesHost=ot,this.hostEl=Ye,this.shadowRoot=Ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nt=F(ut.id,ut.styles);for(const Lt of Nt){const Xt=document.createElement("style");ze&&Xt.setAttribute("nonce",ze),Xt.textContent=Lt,this.shadowRoot.appendChild(Xt)}}nodeOrShadowRoot(xt){return xt===this.hostEl?this.shadowRoot:xt}appendChild(xt,ot){return super.appendChild(this.nodeOrShadowRoot(xt),ot)}insertBefore(xt,ot,Ye){return super.insertBefore(this.nodeOrShadowRoot(xt),ot,Ye)}removeChild(xt,ot){return super.removeChild(this.nodeOrShadowRoot(xt),ot)}parentNode(xt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(xt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class I extends P{constructor(xt,ot,Ye,ut,Ct,rn,ze,bt){super(xt,Ct,rn,ze),this.sharedStylesHost=ot,this.removeStylesOnCompDestroy=ut,this.styles=bt?F(bt,Ye.styles):Ye.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class W extends I{constructor(xt,ot,Ye,ut,Ct,rn,ze,bt){const Nt=ut+"-"+Ye.id;super(xt,ot,Ye,Ct,rn,ze,bt,Nt),this.contentAttr=function b(Dt){return l.replace(d,Dt)}(Nt),this.hostAttr=function M(Dt){return u.replace(d,Dt)}(Nt)}applyToHost(xt){this.applyStyles(),this.setAttribute(xt,this.hostAttr,"")}createElement(xt,ot){const Ye=super.createElement(xt,ot);return super.setAttribute(Ye,this.contentAttr,""),Ye}}let Y=(()=>{var Dt;class xt extends x{constructor(Ye){super(Ye)}supports(Ye){return!0}addEventListener(Ye,ut,Ct){return Ye.addEventListener(ut,Ct,!1),()=>this.removeEventListener(Ye,ut,Ct)}removeEventListener(Ye,ut,Ct){return Ye.removeEventListener(ut,Ct)}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(y.CoB(xe.Ud))},Dt.\u0275prov=y.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();const z=["alt","control","meta","shift"],te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J={alt:Dt=>Dt.altKey,control:Dt=>Dt.ctrlKey,meta:Dt=>Dt.metaKey,shift:Dt=>Dt.shiftKey};let q=(()=>{var Dt;class xt extends x{constructor(Ye){super(Ye)}supports(Ye){return null!=xt.parseEventName(Ye)}addEventListener(Ye,ut,Ct){const rn=xt.parseEventName(ut),ze=xt.eventCallback(rn.fullKey,Ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,xe.uy)().onAndCancel(Ye,rn.domEventName,ze))}static parseEventName(Ye){const ut=Ye.toLowerCase().split("."),Ct=ut.shift();if(0===ut.length||"keydown"!==Ct&&"keyup"!==Ct)return null;const rn=xt._normalizeKey(ut.pop());let ze="",bt=ut.indexOf("code");if(bt>-1&&(ut.splice(bt,1),ze="code."),z.forEach(Lt=>{const Xt=ut.indexOf(Lt);Xt>-1&&(ut.splice(Xt,1),ze+=Lt+".")}),ze+=rn,0!=ut.length||0===rn.length)return null;const Nt={};return Nt.domEventName=Ct,Nt.fullKey=ze,Nt}static matchEventFullKeyCode(Ye,ut){let Ct=te[Ye.key]||Ye.key,rn="";return ut.indexOf("code.")>-1&&(Ct=Ye.code,rn="code."),!(null==Ct||!Ct)&&(Ct=Ct.toLowerCase()," "===Ct?Ct="space":"."===Ct&&(Ct="dot"),z.forEach(ze=>{ze!==Ct&&(0,J[ze])(Ye)&&(rn+=ze+".")}),rn+=Ct,rn===ut)}static eventCallback(Ye,ut,Ct){return rn=>{xt.matchEventFullKeyCode(rn,Ye)&&Ct.runGuarded(()=>ut(rn))}}static _normalizeKey(Ye){return"esc"===Ye?"escape":Ye}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(y.CoB(xe.Ud))},Dt.\u0275prov=y.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();const Fe=(0,y.grM)(y.m4O,"browser",[{provide:y.AHE,useValue:xe._k},{provide:y.crf,useValue:function L(){_e.makeCurrent()},multi:!0},{provide:xe.Ud,useFactory:function pe(){return(0,y.auf)(document),document},deps:[]}]),We=new y.UbH(""),tt=[{provide:y.Mn9,useClass:class v{addToWindow(xt){y.IHs.getAngularTestability=(Ye,ut=!0)=>{const Ct=xt.findTestabilityInTree(Ye,ut);if(null==Ct)throw new y.OBp(5103,!1);return Ct},y.IHs.getAllAngularTestabilities=()=>xt.getAllTestabilities(),y.IHs.getAllAngularRootElements=()=>xt.getAllRootElements(),y.IHs.frameworkStabilizers||(y.IHs.frameworkStabilizers=[]),y.IHs.frameworkStabilizers.push(Ye=>{const ut=y.IHs.getAllAngularTestabilities();let Ct=ut.length;const rn=function(){Ct--,0==Ct&&Ye()};ut.forEach(ze=>{ze.whenStable(rn)})})}findTestabilityInTree(xt,ot,Ye){if(null==ot)return null;const ut=xt.getTestability(ot);return null!=ut?ut:Ye?(0,xe.uy)().isShadowRoot(ot)?this.findTestabilityInTree(xt,ot.host,!0):this.findTestabilityInTree(xt,ot.parentElement,!0):null}},deps:[]},{provide:y.aS5,useClass:y.G4X,deps:[y.WW2,y.eOv,y.Mn9]},{provide:y.G4X,useClass:y.G4X,deps:[y.WW2,y.eOv,y.Mn9]}],Oe=[{provide:y.i4S,useValue:"root"},{provide:y.eAe,useFactory:function se(){return new y.eAe},deps:[]},{provide:h,useClass:Y,multi:!0,deps:[xe.Ud,y.WW2,y.AHE]},{provide:h,useClass:q,multi:!0,deps:[xe.Ud]},N,i,f,{provide:y.O8F,useExisting:N},{provide:xe.OM,useClass:_,deps:[]},[]];let ke=(()=>{var Dt;class xt{constructor(Ye){}static withServerTransition(Ye){return{ngModule:xt,providers:[{provide:y.QHP,useValue:Ye.appId}]}}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(y.CoB(We,12))},Dt.\u0275mod=y.a4G({type:Dt}),Dt.\u0275inj=y.s3X({providers:[...Oe,...tt],imports:[xe.MD,y.Ev2]}),xt})(),Qe=(()=>{var Dt;class xt{constructor(Ye){this._doc=Ye}getTitle(){return this._doc.title}setTitle(Ye){this._doc.title=Ye||""}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(y.CoB(xe.Ud))},Dt.\u0275prov=y.wxM({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),xt})(),wt=(()=>{var Dt;class xt{}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)},Dt.\u0275prov=y.wxM({token:Dt,factory:function(Ye){let ut=null;return ut=Ye?new(Ye||Dt):y.CoB(Re),ut},providedIn:"root"}),xt})(),Re=(()=>{var Dt;class xt extends wt{constructor(Ye){super(),this._doc=Ye}sanitize(Ye,ut){if(null==ut)return null;switch(Ye){case y.SI6.NONE:return ut;case y.SI6.HTML:return(0,y.K2p)(ut,"HTML")?(0,y.E2t)(ut):(0,y.Om8)(this._doc,String(ut)).toString();case y.SI6.STYLE:return(0,y.K2p)(ut,"Style")?(0,y.E2t)(ut):ut;case y.SI6.SCRIPT:if((0,y.K2p)(ut,"Script"))return(0,y.E2t)(ut);throw new y.OBp(5200,!1);case y.SI6.URL:return(0,y.K2p)(ut,"URL")?(0,y.E2t)(ut):(0,y.ozE)(String(ut));case y.SI6.RESOURCE_URL:if((0,y.K2p)(ut,"ResourceURL"))return(0,y.E2t)(ut);throw new y.OBp(5201,!1);default:throw new y.OBp(5202,!1)}}bypassSecurityTrustHtml(Ye){return(0,y.GM_)(Ye)}bypassSecurityTrustStyle(Ye){return(0,y.Vfw)(Ye)}bypassSecurityTrustScript(Ye){return(0,y.ER9)(Ye)}bypassSecurityTrustUrl(Ye){return(0,y.Gc)(Ye)}bypassSecurityTrustResourceUrl(Ye){return(0,y.u8n)(Ye)}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(y.CoB(xe.Ud))},Dt.\u0275prov=y.wxM({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),xt})()},3332:(pn,jt,ge)=>{"use strict";ge.d(jt,{gV:()=>ur,O4:()=>Br,Qx:()=>Ut,gf:()=>Oe,eu:()=>Si,XE:()=>rr,E5:()=>ir,ER:()=>Ci,qQ:()=>Ti,qd:()=>Gt});var y=ge(4496),xe=ge(3252),rt=ge(8880),o=ge(2115),$=ge(2700),S=ge(6700),v=ge(6040);const h=(0,ge(4912).w)(ae=>function(){ae(this),this.name="EmptyError",this.message="no elements in sequence"});var f=ge(7228),x=ge(1424),w=ge(3928),i=ge(3800),a=ge(8960),d=ge(2376),c=ge(5657),u=ge(4548),l=ge(1368),m=ge(4704),p=ge(7368),b=ge(3992),M=ge(6624),F=ge(5448),P=ge(6684),j=ge(7400),V=ge(7773);function k(ae){return(0,F.i)((me,be)=>{let he=!1;me.subscribe((0,V.e)(be,Ee=>{he=!0,be.next(Ee)},()=>{he||be.next(ae),be.complete()}))})}function E(ae=I){return(0,F.i)((me,be)=>{let he=!1;me.subscribe((0,V.e)(be,Ee=>{he=!0,be.next(Ee)},()=>he?be.complete():be.error(ae())))})}function I(){return new h}var W=ge(528);function Y(ae,me){const be=arguments.length>=2;return he=>he.pipe(ae?(0,P.I)((Ee,Ze)=>ae(Ee,Ze,he)):W.Z,(0,b.U)(1),be?k(me):E(()=>new h))}function z(ae,me){return(0,rt.m)(me)?(0,j.O)(ae,me,1):(0,j.O)(ae,1)}var te=ge(9212),J=ge(560);function q(ae){return(0,F.i)((me,be)=>{let Ze,he=null,Ee=!1;he=me.subscribe((0,V.e)(be,void 0,void 0,it=>{Ze=(0,J.Uv)(ae(it,q(ae)(me))),he?(he.unsubscribe(),he=null,Ze.subscribe(be)):Ee=!0})),Ee&&(he.unsubscribe(),he=null,Ze.subscribe(be))})}function De(ae){return ae<=0?()=>a.k:(0,F.i)((me,be)=>{let he=[];me.subscribe((0,V.e)(be,Ee=>{he.push(Ee),ae<he.length&&he.shift()},()=>{for(const Ee of he)be.next(Ee);be.complete()},void 0,()=>{he=null}))})}var L=ge(320);function se(ae){return(0,F.i)((me,be)=>{try{me.subscribe(be)}finally{be.add(ae)}})}var pe=ge(8084),Ce=ge(308),We=ge(267),tt=ge(4476);const Oe="primary",ke=Symbol("RouteTitle");class Be{constructor(me){this.params=me||{}}has(me){return Object.prototype.hasOwnProperty.call(this.params,me)}get(me){if(this.has(me)){const be=this.params[me];return Array.isArray(be)?be[0]:be}return null}getAll(me){if(this.has(me)){const be=this.params[me];return Array.isArray(be)?be:[be]}return[]}get keys(){return Object.keys(this.params)}}function je(ae){return new Be(ae)}function Qe(ae,me,be){const he=be.path.split("/");if(he.length>ae.length||"full"===be.pathMatch&&(me.hasChildren()||he.length<ae.length))return null;const Ee={};for(let Ze=0;Ze<he.length;Ze++){const it=he[Ze],Wt=ae[Ze];if(it.startsWith(":"))Ee[it.substring(1)]=Wt;else if(it!==Wt.path)return null}return{consumed:ae.slice(0,he.length),posParams:Ee}}function gt(ae,me){const be=ae?ft(ae):void 0,he=me?ft(me):void 0;if(!be||!he||be.length!=he.length)return!1;let Ee;for(let Ze=0;Ze<be.length;Ze++)if(Ee=be[Ze],!yt(ae[Ee],me[Ee]))return!1;return!0}function ft(ae){return[...Object.keys(ae),...Object.getOwnPropertySymbols(ae)]}function yt(ae,me){if(Array.isArray(ae)&&Array.isArray(me)){if(ae.length!==me.length)return!1;const be=[...ae].sort(),he=[...me].sort();return be.every((Ee,Ze)=>he[Ze]===Ee)}return ae===me}function Pt(ae){return ae.length>0?ae[ae.length-1]:null}function Jt(ae){return function _e(ae){return!!ae&&(ae instanceof xe._||(0,rt.m)(ae.lift)&&(0,rt.m)(ae.subscribe))}(ae)?ae:(0,y.w5$)(ae)?(0,o.Q)(Promise.resolve(ae)):(0,$.of)(ae)}const Ft={exact:function kt(ae,me,be){if(!Et(ae.segments,me.segments)||!wt(ae.segments,me.segments,be)||ae.numberOfChildren!==me.numberOfChildren)return!1;for(const he in me.children)if(!ae.children[he]||!kt(ae.children[he],me.children[he],be))return!1;return!0},subset:vt},un={exact:function Yt(ae,me){return gt(ae,me)},subset:function zt(ae,me){return Object.keys(me).length<=Object.keys(ae).length&&Object.keys(me).every(be=>yt(ae[be],me[be]))},ignored:()=>!0};function sn(ae,me,be){return Ft[be.paths](ae.root,me.root,be.matrixParams)&&un[be.queryParams](ae.queryParams,me.queryParams)&&!("exact"===be.fragment&&ae.fragment!==me.fragment)}function vt(ae,me,be){return Ht(ae,me,me.segments,be)}function Ht(ae,me,be,he){if(ae.segments.length>be.length){const Ee=ae.segments.slice(0,be.length);return!(!Et(Ee,be)||me.hasChildren()||!wt(Ee,be,he))}if(ae.segments.length===be.length){if(!Et(ae.segments,be)||!wt(ae.segments,be,he))return!1;for(const Ee in me.children)if(!ae.children[Ee]||!vt(ae.children[Ee],me.children[Ee],he))return!1;return!0}{const Ee=be.slice(0,ae.segments.length),Ze=be.slice(ae.segments.length);return!!(Et(ae.segments,Ee)&&wt(ae.segments,Ee,he)&&ae.children[Oe])&&Ht(ae.children[Oe],me,Ze,he)}}function wt(ae,me,be){return me.every((he,Ee)=>un[be](ae[Ee].parameters,he.parameters))}class Re{constructor(me=new Ge([],{}),be={},he=null){this.root=me,this.queryParams=be,this.fragment=he}get queryParamMap(){var me;return null!==(me=this._queryParamMap)&&void 0!==me||(this._queryParamMap=je(this.queryParams)),this._queryParamMap}toString(){return _n.serialize(this)}}class Ge{constructor(me,be){this.segments=me,this.children=be,this.parent=null,Object.values(be).forEach(he=>he.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wn(this)}}class Te{constructor(me,be){this.path=me,this.parameters=be}get parameterMap(){var me;return null!==(me=this._parameterMap)&&void 0!==me||(this._parameterMap=je(this.parameters)),this._parameterMap}toString(){return ze(this)}}function Et(ae,me){return ae.length===me.length&&ae.every((be,he)=>be.path===me[he].path)}let Gt=(()=>{var ae;class me{}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:()=>new ln,providedIn:"root"}),me})();class ln{parse(me){const be=new nr(me);return new Re(be.parseRootSegment(),be.parseQueryParams(),be.parseFragment())}serialize(me){const be=`/${Dt(me.root,!0)}`,he=function Nt(ae){const me=Object.entries(ae).map(([be,he])=>Array.isArray(he)?he.map(Ee=>`${ot(be)}=${ot(Ee)}`).join("&"):`${ot(be)}=${ot(he)}`).filter(be=>be);return me.length?`?${me.join("&")}`:""}(me.queryParams);return`${be}${he}${"string"==typeof me.fragment?`#${function Ye(ae){return encodeURI(ae)}(me.fragment)}`:""}`}}const _n=new ln;function wn(ae){return ae.segments.map(me=>ze(me)).join("/")}function Dt(ae,me){if(!ae.hasChildren())return wn(ae);if(me){const be=ae.children[Oe]?Dt(ae.children[Oe],!1):"",he=[];return Object.entries(ae.children).forEach(([Ee,Ze])=>{Ee!==Oe&&he.push(`${Ee}:${Dt(Ze,!1)}`)}),he.length>0?`${be}(${he.join("//")})`:be}{const be=function Rt(ae,me){let be=[];return Object.entries(ae.children).forEach(([he,Ee])=>{he===Oe&&(be=be.concat(me(Ee,he)))}),Object.entries(ae.children).forEach(([he,Ee])=>{he!==Oe&&(be=be.concat(me(Ee,he)))}),be}(ae,(he,Ee)=>Ee===Oe?[Dt(ae.children[Oe],!1)]:[`${Ee}:${Dt(he,!1)}`]);return 1===Object.keys(ae.children).length&&null!=ae.children[Oe]?`${wn(ae)}/${be[0]}`:`${wn(ae)}/(${be.join("//")})`}}function xt(ae){return encodeURIComponent(ae).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ot(ae){return xt(ae).replace(/%3B/gi,";")}function ut(ae){return xt(ae).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ct(ae){return decodeURIComponent(ae)}function rn(ae){return Ct(ae.replace(/\+/g,"%20"))}function ze(ae){return`${ut(ae.path)}${function bt(ae){return Object.entries(ae).map(([me,be])=>`;${ut(me)}=${ut(be)}`).join("")}(ae.parameters)}`}const Lt=/^[^\/()?;#]+/;function Xt(ae){const me=ae.match(Lt);return me?me[0]:""}const hn=/^[^\/()?;=#]+/,En=/^[^=?&#]+/,Sn=/^[^&#]+/;class nr{constructor(me){this.url=me,this.remaining=me}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){const me={};if(this.consumeOptional("?"))do{this.parseQueryParam(me)}while(this.consumeOptional("&"));return me}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const me=[];for(this.peekStartsWith("(")||me.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),me.push(this.parseSegment());let be={};this.peekStartsWith("/(")&&(this.capture("/"),be=this.parseParens(!0));let he={};return this.peekStartsWith("(")&&(he=this.parseParens(!1)),(me.length>0||Object.keys(be).length>0)&&(he[Oe]=new Ge(me,be)),he}parseSegment(){const me=Xt(this.remaining);if(""===me&&this.peekStartsWith(";"))throw new y.OBp(4009,!1);return this.capture(me),new Te(Ct(me),this.parseMatrixParams())}parseMatrixParams(){const me={};for(;this.consumeOptional(";");)this.parseParam(me);return me}parseParam(me){const be=function vn(ae){const me=ae.match(hn);return me?me[0]:""}(this.remaining);if(!be)return;this.capture(be);let he="";if(this.consumeOptional("=")){const Ee=Xt(this.remaining);Ee&&(he=Ee,this.capture(he))}me[Ct(be)]=Ct(he)}parseQueryParam(me){const be=function Cn(ae){const me=ae.match(En);return me?me[0]:""}(this.remaining);if(!be)return;this.capture(be);let he="";if(this.consumeOptional("=")){const it=function tr(ae){const me=ae.match(Sn);return me?me[0]:""}(this.remaining);it&&(he=it,this.capture(he))}const Ee=rn(be),Ze=rn(he);if(me.hasOwnProperty(Ee)){let it=me[Ee];Array.isArray(it)||(it=[it],me[Ee]=it),it.push(Ze)}else me[Ee]=Ze}parseParens(me){const be={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const he=Xt(this.remaining),Ee=this.remaining[he.length];if("/"!==Ee&&")"!==Ee&&";"!==Ee)throw new y.OBp(4010,!1);let Ze;he.indexOf(":")>-1?(Ze=he.slice(0,he.indexOf(":")),this.capture(Ze),this.capture(":")):me&&(Ze=Oe);const it=this.parseChildren();be[Ze]=1===Object.keys(it).length?it[Oe]:new Ge([],it),this.consumeOptional("//")}return be}peekStartsWith(me){return this.remaining.startsWith(me)}consumeOptional(me){return!!this.peekStartsWith(me)&&(this.remaining=this.remaining.substring(me.length),!0)}capture(me){if(!this.consumeOptional(me))throw new y.OBp(4011,!1)}}function Wn(ae){return ae.segments.length>0?new Ge([],{[Oe]:ae}):ae}function Nn(ae){const me={};for(const[he,Ee]of Object.entries(ae.children)){const Ze=Nn(Ee);if(he===Oe&&0===Ze.segments.length&&Ze.hasChildren())for(const[it,Wt]of Object.entries(Ze.children))me[it]=Wt;else(Ze.segments.length>0||Ze.hasChildren())&&(me[he]=Ze)}return function ee(ae){if(1===ae.numberOfChildren&&ae.children[Oe]){const me=ae.children[Oe];return new Ge(ae.segments.concat(me.segments),me.children)}return ae}(new Ge(ae.segments,me))}function ie(ae){return ae instanceof Re}function D(ae){var me;let be;const Ze=Wn(function he(it){const Wt={};for(const nn of it.children){const kn=he(nn);Wt[nn.outlet]=kn}const xn=new Ge(it.url,Wt);return it===ae&&(be=xn),xn}(ae.root));return null!==(me=be)&&void 0!==me?me:Ze}function R(ae,me,be,he){let Ee=ae;for(;Ee.parent;)Ee=Ee.parent;if(0===me.length)return le(Ee,Ee,Ee,be,he);const Ze=function Me(ae){if("string"==typeof ae[0]&&1===ae.length&&"/"===ae[0])return new ye(!0,0,ae);let me=0,be=!1;const he=ae.reduce((Ee,Ze,it)=>{if("object"==typeof Ze&&null!=Ze){if(Ze.outlets){const Wt={};return Object.entries(Ze.outlets).forEach(([xn,nn])=>{Wt[xn]="string"==typeof nn?nn.split("/"):nn}),[...Ee,{outlets:Wt}]}if(Ze.segmentPath)return[...Ee,Ze.segmentPath]}return"string"!=typeof Ze?[...Ee,Ze]:0===it?(Ze.split("/").forEach((Wt,xn)=>{0==xn&&"."===Wt||(0==xn&&""===Wt?be=!0:".."===Wt?me++:""!=Wt&&Ee.push(Wt))}),Ee):[...Ee,Ze]},[]);return new ye(be,me,he)}(me);if(Ze.toRoot())return le(Ee,Ee,new Ge([],{}),be,he);const it=function _t(ae,me,be){if(ae.isAbsolute)return new qe(me,!0,0);if(!be)return new qe(me,!1,NaN);if(null===be.parent)return new qe(be,!0,0);const he=U(ae.commands[0])?0:1;return function qt(ae,me,be){let he=ae,Ee=me,Ze=be;for(;Ze>Ee;){if(Ze-=Ee,he=he.parent,!he)throw new y.OBp(4005,!1);Ee=he.segments.length}return new qe(he,!1,Ee-Ze)}(be,be.segments.length-1+he,ae.numberOfDoubleDots)}(Ze,Ee,ae),Wt=it.processChildren?On(it.segmentGroup,it.index,Ze.commands):an(it.segmentGroup,it.index,Ze.commands);return le(Ee,it.segmentGroup,Wt,be,he)}function U(ae){return"object"==typeof ae&&null!=ae&&!ae.outlets&&!ae.segmentPath}function H(ae){return"object"==typeof ae&&null!=ae&&ae.outlets}function le(ae,me,be,he,Ee){let it,Ze={};he&&Object.entries(he).forEach(([xn,nn])=>{Ze[xn]=Array.isArray(nn)?nn.map(kn=>`${kn}`):`${nn}`}),it=ae===me?be:Q(ae,me,be);const Wt=Wn(Nn(it));return new Re(Wt,Ze,Ee)}function Q(ae,me,be){const he={};return Object.entries(ae.children).forEach(([Ee,Ze])=>{he[Ee]=Ze===me?be:Q(Ze,me,be)}),new Ge(ae.segments,he)}class ye{constructor(me,be,he){if(this.isAbsolute=me,this.numberOfDoubleDots=be,this.commands=he,me&&he.length>0&&U(he[0]))throw new y.OBp(4003,!1);const Ee=he.find(H);if(Ee&&Ee!==Pt(he))throw new y.OBp(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qe{constructor(me,be,he){this.segmentGroup=me,this.processChildren=be,this.index=he}}function an(ae,me,be){var he;if(null!==(he=ae)&&void 0!==he||(ae=new Ge([],{})),0===ae.segments.length&&ae.hasChildren())return On(ae,me,be);const Ee=function zn(ae,me,be){let he=0,Ee=me;const Ze={match:!1,pathIndex:0,commandIndex:0};for(;Ee<ae.segments.length;){if(he>=be.length)return Ze;const it=ae.segments[Ee],Wt=be[he];if(H(Wt))break;const xn=`${Wt}`,nn=he<be.length-1?be[he+1]:null;if(Ee>0&&void 0===xn)break;if(xn&&nn&&"object"==typeof nn&&void 0===nn.outlets){if(!at(xn,nn,it))return Ze;he+=2}else{if(!at(xn,{},it))return Ze;he++}Ee++}return{match:!0,pathIndex:Ee,commandIndex:he}}(ae,me,be),Ze=be.slice(Ee.commandIndex);if(Ee.match&&Ee.pathIndex<ae.segments.length){const it=new Ge(ae.segments.slice(0,Ee.pathIndex),{});return it.children[Oe]=new Ge(ae.segments.slice(Ee.pathIndex),ae.children),On(it,0,Ze)}return Ee.match&&0===Ze.length?new Ge(ae.segments,{}):Ee.match&&!ae.hasChildren()?Gn(ae,me,be):Ee.match?On(ae,0,Ze):Gn(ae,me,be)}function On(ae,me,be){if(0===be.length)return new Ge(ae.segments,{});{const he=function cn(ae){return H(ae[0])?ae[0].outlets:{[Oe]:ae}}(be),Ee={};if(Object.keys(he).some(Ze=>Ze!==Oe)&&ae.children[Oe]&&1===ae.numberOfChildren&&0===ae.children[Oe].segments.length){const Ze=On(ae.children[Oe],me,be);return new Ge(ae.segments,Ze.children)}return Object.entries(he).forEach(([Ze,it])=>{"string"==typeof it&&(it=[it]),null!==it&&(Ee[Ze]=an(ae.children[Ze],me,it))}),Object.entries(ae.children).forEach(([Ze,it])=>{void 0===he[Ze]&&(Ee[Ze]=it)}),new Ge(ae.segments,Ee)}}function Gn(ae,me,be){const he=ae.segments.slice(0,me);let Ee=0;for(;Ee<be.length;){const Ze=be[Ee];if(H(Ze)){const xn=kr(Ze.outlets);return new Ge(he,xn)}if(0===Ee&&U(be[0])){he.push(new Te(ae.segments[me].path,ar(be[0]))),Ee++;continue}const it=H(Ze)?Ze.outlets[Oe]:`${Ze}`,Wt=Ee<be.length-1?be[Ee+1]:null;it&&Wt&&U(Wt)?(he.push(new Te(it,ar(Wt))),Ee+=2):(he.push(new Te(it,{})),Ee++)}return new Ge(he,{})}function kr(ae){const me={};return Object.entries(ae).forEach(([be,he])=>{"string"==typeof he&&(he=[he]),null!==he&&(me[be]=Gn(new Ge([],{}),0,he))}),me}function ar(ae){const me={};return Object.entries(ae).forEach(([be,he])=>me[be]=`${he}`),me}function at(ae,me,be){return ae==be.path&&gt(me,be.parameters)}const ct="imperative";var $e=function(ae){return ae[ae.NavigationStart=0]="NavigationStart",ae[ae.NavigationEnd=1]="NavigationEnd",ae[ae.NavigationCancel=2]="NavigationCancel",ae[ae.NavigationError=3]="NavigationError",ae[ae.RoutesRecognized=4]="RoutesRecognized",ae[ae.ResolveStart=5]="ResolveStart",ae[ae.ResolveEnd=6]="ResolveEnd",ae[ae.GuardsCheckStart=7]="GuardsCheckStart",ae[ae.GuardsCheckEnd=8]="GuardsCheckEnd",ae[ae.RouteConfigLoadStart=9]="RouteConfigLoadStart",ae[ae.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ae[ae.ChildActivationStart=11]="ChildActivationStart",ae[ae.ChildActivationEnd=12]="ChildActivationEnd",ae[ae.ActivationStart=13]="ActivationStart",ae[ae.ActivationEnd=14]="ActivationEnd",ae[ae.Scroll=15]="Scroll",ae[ae.NavigationSkipped=16]="NavigationSkipped",ae}($e||{});class lt{constructor(me,be){this.id=me,this.url=be}}class Ut extends lt{constructor(me,be,he="imperative",Ee=null){super(me,be),this.type=$e.NavigationStart,this.navigationTrigger=he,this.restoredState=Ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fn extends lt{constructor(me,be,he){super(me,be),this.urlAfterRedirects=he,this.type=$e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var An=function(ae){return ae[ae.Redirect=0]="Redirect",ae[ae.SupersededByNewNavigation=1]="SupersededByNewNavigation",ae[ae.NoDataFromResolver=2]="NoDataFromResolver",ae[ae.GuardRejected=3]="GuardRejected",ae}(An||{}),Tt=function(ae){return ae[ae.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ae[ae.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ae}(Tt||{});class Pe extends lt{constructor(me,be,he,Ee){super(me,be),this.reason=he,this.code=Ee,this.type=$e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class He extends lt{constructor(me,be,he,Ee){super(me,be),this.reason=he,this.code=Ee,this.type=$e.NavigationSkipped}}class Mt extends lt{constructor(me,be,he,Ee){super(me,be),this.error=he,this.target=Ee,this.type=$e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ot extends lt{constructor(me,be,he,Ee){super(me,be),this.urlAfterRedirects=he,this.state=Ee,this.type=$e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $t extends lt{constructor(me,be,he,Ee){super(me,be),this.urlAfterRedirects=he,this.state=Ee,this.type=$e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oe extends lt{constructor(me,be,he,Ee,Ze){super(me,be),this.urlAfterRedirects=he,this.state=Ee,this.shouldActivate=Ze,this.type=$e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ne extends lt{constructor(me,be,he,Ee){super(me,be),this.urlAfterRedirects=he,this.state=Ee,this.type=$e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ve extends lt{constructor(me,be,he,Ee){super(me,be),this.urlAfterRedirects=he,this.state=Ee,this.type=$e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve{constructor(me){this.route=me,this.type=$e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pt{constructor(me){this.route=me,this.type=$e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qt{constructor(me){this.snapshot=me,this.type=$e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(me){this.snapshot=me,this.type=$e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jn{constructor(me){this.snapshot=me,this.type=$e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(me){this.snapshot=me,this.type=$e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(me,be,he){this.routerEvent=me,this.position=be,this.anchor=he,this.type=$e.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Or{}class Tr{constructor(me){this.url=me}}class Bo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Br,this.attachRef=null}}let Br=(()=>{var ae;class me{constructor(){this.contexts=new Map}onChildOutletCreated(he,Ee){const Ze=this.getOrCreateContext(he);Ze.outlet=Ee,this.contexts.set(he,Ze)}onChildOutletDestroyed(he){const Ee=this.getContext(he);Ee&&(Ee.outlet=null,Ee.attachRef=null)}onOutletDeactivated(){const he=this.contexts;return this.contexts=new Map,he}onOutletReAttached(he){this.contexts=he}getOrCreateContext(he){let Ee=this.getContext(he);return Ee||(Ee=new Bo,this.contexts.set(he,Ee)),Ee}getContext(he){return this.contexts.get(he)||null}}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})();class pr{constructor(me){this._root=me}get root(){return this._root.value}parent(me){const be=this.pathFromRoot(me);return be.length>1?be[be.length-2]:null}children(me){const be=Tn(me,this._root);return be?be.children.map(he=>he.value):[]}firstChild(me){const be=Tn(me,this._root);return be&&be.children.length>0?be.children[0].value:null}siblings(me){const be=Fn(me,this._root);return be.length<2?[]:be[be.length-2].children.map(Ee=>Ee.value).filter(Ee=>Ee!==me)}pathFromRoot(me){return Fn(me,this._root).map(be=>be.value)}}function Tn(ae,me){if(ae===me.value)return me;for(const be of me.children){const he=Tn(ae,be);if(he)return he}return null}function Fn(ae,me){if(ae===me.value)return[me];for(const be of me.children){const he=Fn(ae,be);if(he.length)return he.unshift(me),he}return[]}class fr{constructor(me,be){this.value=me,this.children=be}toString(){return`TreeNode(${this.value})`}}function Yr(ae){const me={};return ae&&ae.children.forEach(be=>me[be.value.outlet]=be),me}class wr extends pr{constructor(me,be){super(me),this.snapshot=be,ro(this,me)}toString(){return this.snapshot.toString()}}function Lr(ae){const me=function uo(ae){const Ze=new $r([],{},{},"",{},Oe,ae,null,{});return new Yn("",new fr(Ze,[]))}(ae),be=new S.g([new Te("",{})]),he=new S.g({}),Ee=new S.g({}),Ze=new S.g({}),it=new S.g(""),Wt=new ur(be,he,Ze,it,Ee,Oe,ae,me.root);return Wt.snapshot=me.root,new wr(new fr(Wt,[]),me)}class ur{constructor(me,be,he,Ee,Ze,it,Wt,xn){var nn,kn;this.urlSubject=me,this.paramsSubject=be,this.queryParamsSubject=he,this.fragmentSubject=Ee,this.dataSubject=Ze,this.outlet=it,this.component=Wt,this._futureSnapshot=xn,this.title=null!==(nn=null===(kn=this.dataSubject)||void 0===kn?void 0:kn.pipe((0,m.k)(Qn=>Qn[ke])))&&void 0!==nn?nn:(0,$.of)(void 0),this.url=me,this.params=be,this.queryParams=he,this.fragment=Ee,this.data=Ze}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var me;return null!==(me=this._paramMap)&&void 0!==me||(this._paramMap=this.params.pipe((0,m.k)(be=>je(be)))),this._paramMap}get queryParamMap(){var me;return null!==(me=this._queryParamMap)&&void 0!==me||(this._queryParamMap=this.queryParams.pipe((0,m.k)(be=>je(be)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yr(ae,me,be="emptyOnly"){var he;let Ee;const{routeConfig:Ze}=ae;var it;return Ee=null===me||"always"!==be&&""!==(null==Ze?void 0:Ze.path)&&(me.component||null!==(he=me.routeConfig)&&void 0!==he&&he.loadComponent)?{params:{...ae.params},data:{...ae.data},resolve:{...ae.data,...null!==(it=ae._resolvedData)&&void 0!==it?it:{}}}:{params:{...me.params,...ae.params},data:{...me.data,...ae.data},resolve:{...ae.data,...me.data,...null==Ze?void 0:Ze.data,...ae._resolvedData}},Ze&&So(Ze)&&(Ee.resolve[ke]=Ze.title),Ee}class $r{get title(){var me;return null===(me=this.data)||void 0===me?void 0:me[ke]}constructor(me,be,he,Ee,Ze,it,Wt,xn,nn){this.url=me,this.params=be,this.queryParams=he,this.fragment=Ee,this.data=Ze,this.outlet=it,this.component=Wt,this.routeConfig=xn,this._resolve=nn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var me;return null!==(me=this._paramMap)&&void 0!==me||(this._paramMap=je(this.params)),this._paramMap}get queryParamMap(){var me;return null!==(me=this._queryParamMap)&&void 0!==me||(this._queryParamMap=je(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(he=>he.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yn extends pr{constructor(me,be){super(be),this.url=me,ro(this,be)}toString(){return zo(this._root)}}function ro(ae,me){me.value._routerState=ae,me.children.forEach(be=>ro(ae,be))}function zo(ae){const me=ae.children.length>0?` { ${ae.children.map(zo).join(", ")} } `:"";return`${ae.value}${me}`}function xo(ae){if(ae.snapshot){const me=ae.snapshot,be=ae._futureSnapshot;ae.snapshot=be,gt(me.queryParams,be.queryParams)||ae.queryParamsSubject.next(be.queryParams),me.fragment!==be.fragment&&ae.fragmentSubject.next(be.fragment),gt(me.params,be.params)||ae.paramsSubject.next(be.params),function Ke(ae,me){if(ae.length!==me.length)return!1;for(let be=0;be<ae.length;++be)if(!gt(ae[be],me[be]))return!1;return!0}(me.url,be.url)||ae.urlSubject.next(be.url),gt(me.data,be.data)||ae.dataSubject.next(be.data)}else ae.snapshot=ae._futureSnapshot,ae.dataSubject.next(ae._futureSnapshot.data)}function Sr(ae,me){const be=gt(ae.params,me.params)&&function et(ae,me){return Et(ae,me)&&ae.every((be,he)=>gt(be.parameters,me[he].parameters))}(ae.url,me.url);return be&&!(!ae.parent!=!me.parent)&&(!ae.parent||Sr(ae.parent,me.parent))}function So(ae){return"string"==typeof ae.title||null===ae.title}let To=(()=>{var ae;class me{constructor(){this.activated=null,this._activatedRoute=null,this.name=Oe,this.activateEvents=new y._w7,this.deactivateEvents=new y._w7,this.attachEvents=new y._w7,this.detachEvents=new y._w7,this.parentContexts=(0,y.uUt)(Br),this.location=(0,y.uUt)(y.y8U),this.changeDetector=(0,y.uUt)(y.kD9),this.environmentInjector=(0,y.uUt)(y.SIe),this.inputBinder=(0,y.uUt)(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(he){if(he.name){const{firstChange:Ee,previousValue:Ze}=he.name;if(Ee)return;this.isTrackedInParentContexts(Ze)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ze)),this.initializeOutletWithName()}}ngOnDestroy(){var he;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(he=this.inputBinder)||void 0===he||he.unsubscribeFromRouteData(this)}isTrackedInParentContexts(he){var Ee;return(null===(Ee=this.parentContexts.getContext(he))||void 0===Ee?void 0:Ee.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const he=this.parentContexts.getContext(this.name);null!=he&&he.route&&(he.attachRef?this.attach(he.attachRef,he.route):this.activateWith(he.route,he.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.OBp(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.OBp(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.OBp(4012,!1);this.location.detach();const he=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(he.instance),he}attach(he,Ee){var Ze;this.activated=he,this._activatedRoute=Ee,this.location.insert(he.hostView),null===(Ze=this.inputBinder)||void 0===Ze||Ze.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(he.instance)}deactivate(){if(this.activated){const he=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(he)}}activateWith(he,Ee){var Ze;if(this.isActivated)throw new y.OBp(4013,!1);this._activatedRoute=he;const it=this.location,xn=he.snapshot.component,nn=this.parentContexts.getOrCreateContext(this.name).children,kn=new ho(he,nn,it.injector);this.activated=it.createComponent(xn,{index:it.length,injector:kn,environmentInjector:null!=Ee?Ee:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Ze=this.inputBinder)||void 0===Ze||Ze.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275dir=y.Sc5({type:ae,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.SYr]}),me})();class ho{constructor(me,be,he){this.route=me,this.childContexts=be,this.parent=he}get(me,be){return me===ur?this.route:me===Br?this.childContexts:this.parent.get(me,be)}}const po=new y.UbH("");let qo=(()=>{var ae;class me{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(he){this.unsubscribeFromRouteData(he),this.subscribeToRouteData(he)}unsubscribeFromRouteData(he){var Ee;null===(Ee=this.outletDataSubscriptions.get(he))||void 0===Ee||Ee.unsubscribe(),this.outletDataSubscriptions.delete(he)}subscribeToRouteData(he){const{activatedRoute:Ee}=he,Ze=(0,v.E)([Ee.queryParams,Ee.params,Ee.data]).pipe((0,p.G)(([it,Wt,xn],nn)=>(xn={...it,...Wt,...xn},0===nn?(0,$.of)(xn):Promise.resolve(xn)))).subscribe(it=>{if(!he.isActivated||!he.activatedComponentRef||he.activatedRoute!==Ee||null===Ee.component)return void this.unsubscribeFromRouteData(he);const Wt=(0,y.o9M)(Ee.component);if(Wt)for(const{templateName:xn}of Wt.inputs)he.activatedComponentRef.setInput(xn,it[xn]);else this.unsubscribeFromRouteData(he)});this.outletDataSubscriptions.set(he,Ze)}}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac}),me})();function mo(ae,me,be){if(be&&ae.shouldReuseRoute(me.value,be.value.snapshot)){const he=be.value;he._futureSnapshot=me.value;const Ee=function ko(ae,me,be){return me.children.map(he=>{for(const Ee of be.children)if(ae.shouldReuseRoute(he.value,Ee.value.snapshot))return mo(ae,he,Ee);return mo(ae,he)})}(ae,me,be);return new fr(he,Ee)}{if(ae.shouldAttach(me.value)){const Ze=ae.retrieve(me.value);if(null!==Ze){const it=Ze.route;return it.value._futureSnapshot=me.value,it.children=me.children.map(Wt=>mo(ae,Wt)),it}}const he=function Xn(ae){return new ur(new S.g(ae.url),new S.g(ae.params),new S.g(ae.queryParams),new S.g(ae.fragment),new S.g(ae.data),ae.outlet,ae.component,ae)}(me.value),Ee=me.children.map(Ze=>mo(ae,Ze));return new fr(he,Ee)}}const Uo="ngNavigationCancelingError";function oo(ae,me){const{redirectTo:be,navigationBehaviorOptions:he}=ie(me)?{redirectTo:me,navigationBehaviorOptions:void 0}:me,Ee=co(!1,An.Redirect);return Ee.url=be,Ee.navigationBehaviorOptions=he,Ee}function co(ae,me){const be=new Error(`NavigationCancelingError: ${ae||""}`);return be[Uo]=!0,be.cancellationCode=me,be}function Lo(ae){return!!ae&&ae[Uo]}let vr=(()=>{var ae;class me{}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275cmp=y.In1({type:ae,selectors:[["ng-component"]],standalone:!0,features:[y.UHJ],decls:1,vars:0,template:function(he,Ee){1&he&&y.wR5(0,"router-outlet")},dependencies:[To],encapsulation:2}),me})();function ls(ae){const me=ae.children&&ae.children.map(ls),be=me?{...ae,children:me}:{...ae};return!be.component&&!be.loadComponent&&(me||be.loadChildren)&&be.outlet&&be.outlet!==Oe&&(be.component=vr),be}function go(ae){return ae.outlet||Oe}function Ko(ae){var me;if(!ae)return null;if(null!==(me=ae.routeConfig)&&void 0!==me&&me._injector)return ae.routeConfig._injector;for(let be=ae.parent;be;be=be.parent){const he=be.routeConfig;if(null!=he&&he._loadedInjector)return he._loadedInjector;if(null!=he&&he._injector)return he._injector}return null}class Qs{constructor(me,be,he,Ee,Ze){this.routeReuseStrategy=me,this.futureState=be,this.currState=he,this.forwardEvent=Ee,this.inputBindingEnabled=Ze}activate(me){const be=this.futureState._root,he=this.currState?this.currState._root:null;this.deactivateChildRoutes(be,he,me),xo(this.futureState.root),this.activateChildRoutes(be,he,me)}deactivateChildRoutes(me,be,he){const Ee=Yr(be);me.children.forEach(Ze=>{const it=Ze.value.outlet;this.deactivateRoutes(Ze,Ee[it],he),delete Ee[it]}),Object.values(Ee).forEach(Ze=>{this.deactivateRouteAndItsChildren(Ze,he)})}deactivateRoutes(me,be,he){const Ee=me.value,Ze=be?be.value:null;if(Ee===Ze)if(Ee.component){const it=he.getContext(Ee.outlet);it&&this.deactivateChildRoutes(me,be,it.children)}else this.deactivateChildRoutes(me,be,he);else Ze&&this.deactivateRouteAndItsChildren(be,he)}deactivateRouteAndItsChildren(me,be){me.value.component&&this.routeReuseStrategy.shouldDetach(me.value.snapshot)?this.detachAndStoreRouteSubtree(me,be):this.deactivateRouteAndOutlet(me,be)}detachAndStoreRouteSubtree(me,be){const he=be.getContext(me.value.outlet),Ee=he&&me.value.component?he.children:be,Ze=Yr(me);for(const it of Object.values(Ze))this.deactivateRouteAndItsChildren(it,Ee);if(he&&he.outlet){const it=he.outlet.detach(),Wt=he.children.onOutletDeactivated();this.routeReuseStrategy.store(me.value.snapshot,{componentRef:it,route:me,contexts:Wt})}}deactivateRouteAndOutlet(me,be){const he=be.getContext(me.value.outlet),Ee=he&&me.value.component?he.children:be,Ze=Yr(me);for(const it of Object.values(Ze))this.deactivateRouteAndItsChildren(it,Ee);he&&(he.outlet&&(he.outlet.deactivate(),he.children.onOutletDeactivated()),he.attachRef=null,he.route=null)}activateChildRoutes(me,be,he){const Ee=Yr(be);me.children.forEach(Ze=>{this.activateRoutes(Ze,Ee[Ze.value.outlet],he),this.forwardEvent(new qn(Ze.value.snapshot))}),me.children.length&&this.forwardEvent(new Dn(me.value.snapshot))}activateRoutes(me,be,he){const Ee=me.value,Ze=be?be.value:null;if(xo(Ee),Ee===Ze)if(Ee.component){const it=he.getOrCreateContext(Ee.outlet);this.activateChildRoutes(me,be,it.children)}else this.activateChildRoutes(me,be,he);else if(Ee.component){const it=he.getOrCreateContext(Ee.outlet);if(this.routeReuseStrategy.shouldAttach(Ee.snapshot)){const Wt=this.routeReuseStrategy.retrieve(Ee.snapshot);this.routeReuseStrategy.store(Ee.snapshot,null),it.children.onOutletReAttached(Wt.contexts),it.attachRef=Wt.componentRef,it.route=Wt.route.value,it.outlet&&it.outlet.attach(Wt.componentRef,Wt.route.value),xo(Wt.route.value),this.activateChildRoutes(me,null,it.children)}else{const Wt=Ko(Ee.snapshot);it.attachRef=null,it.route=Ee,it.injector=Wt,it.outlet&&it.outlet.activateWith(Ee,it.injector),this.activateChildRoutes(me,null,it.children)}}else this.activateChildRoutes(me,null,he)}}class Ss{constructor(me){this.path=me,this.route=this.path[this.path.length-1]}}class ms{constructor(me,be){this.component=me,this.route=be}}function Zs(ae,me,be){const he=ae._root;return os(he,me?me._root:null,be,[he.value])}function us(ae,me){const be=Symbol(),he=me.get(ae,be);return he===be?"function"!=typeof ae||(0,y.K_M)(ae)?me.get(ae):ae:he}function os(ae,me,be,he,Ee={canDeactivateChecks:[],canActivateChecks:[]}){const Ze=Yr(me);return ae.children.forEach(it=>{(function Wr(ae,me,be,he,Ee={canDeactivateChecks:[],canActivateChecks:[]}){const Ze=ae.value,it=me?me.value:null,Wt=be?be.getContext(ae.value.outlet):null;if(it&&Ze.routeConfig===it.routeConfig){const xn=function Ds(ae,me,be){if("function"==typeof be)return be(ae,me);switch(be){case"pathParamsChange":return!Et(ae.url,me.url);case"pathParamsOrQueryParamsChange":return!Et(ae.url,me.url)||!gt(ae.queryParams,me.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sr(ae,me)||!gt(ae.queryParams,me.queryParams);default:return!Sr(ae,me)}}(it,Ze,Ze.routeConfig.runGuardsAndResolvers);xn?Ee.canActivateChecks.push(new Ss(he)):(Ze.data=it.data,Ze._resolvedData=it._resolvedData),os(ae,me,Ze.component?Wt?Wt.children:null:be,he,Ee),xn&&Wt&&Wt.outlet&&Wt.outlet.isActivated&&Ee.canDeactivateChecks.push(new ms(Wt.outlet.component,it))}else it&&C(me,Wt,Ee),Ee.canActivateChecks.push(new Ss(he)),os(ae,null,Ze.component?Wt?Wt.children:null:be,he,Ee)})(it,Ze[it.value.outlet],be,he.concat([it.value]),Ee),delete Ze[it.value.outlet]}),Object.entries(Ze).forEach(([it,Wt])=>C(Wt,be.getContext(it),Ee)),Ee}function C(ae,me,be){const he=Yr(ae),Ee=ae.value;Object.entries(he).forEach(([Ze,it])=>{C(it,Ee.component?me?me.children.getContext(Ze):null:me,be)}),be.canDeactivateChecks.push(new ms(Ee.component&&me&&me.outlet&&me.outlet.isActivated?me.outlet.component:null,Ee))}function B(ae){return"function"==typeof ae}function Je(ae){return ae instanceof h||"EmptyError"===(null==ae?void 0:ae.name)}const st=Symbol("INITIAL_VALUE");function It(){return(0,p.G)(ae=>(0,v.E)(ae.map(me=>me.pipe((0,b.U)(1),function N(...ae){const me=(0,M.e_)(ae);return(0,F.i)((be,he)=>{(me?(0,f.W)(ae,be,me):(0,f.W)(ae,be)).subscribe(he)})}(st)))).pipe((0,m.k)(me=>{for(const be of me)if(!0!==be){if(be===st)return st;if(!1===be||be instanceof Re)return be}return!0}),(0,P.I)(me=>me!==st),(0,b.U)(1)))}function $n(ae){return(0,w.W)((0,te.y)(me=>{if(ie(me))throw oo(0,me)}),(0,m.k)(me=>!0===me))}class Un{constructor(me){this.segmentGroup=me||null}}class Zn extends Error{constructor(me){super(),this.urlTree=me}}function er(ae){return(0,i.c)(new Un(ae))}class Jr{constructor(me,be){this.urlSerializer=me,this.urlTree=be}lineralizeSegments(me,be){let he=[],Ee=be.root;for(;;){if(he=he.concat(Ee.segments),0===Ee.numberOfChildren)return(0,$.of)(he);if(Ee.numberOfChildren>1||!Ee.children[Oe])return(0,i.c)(new y.OBp(4e3,!1));Ee=Ee.children[Oe]}}applyRedirectCommands(me,be,he){const Ee=this.applyRedirectCreateUrlTree(be,this.urlSerializer.parse(be),me,he);if(be.startsWith("/"))throw new Zn(Ee);return Ee}applyRedirectCreateUrlTree(me,be,he,Ee){const Ze=this.createSegmentGroup(me,be.root,he,Ee);return new Re(Ze,this.createQueryParams(be.queryParams,this.urlTree.queryParams),be.fragment)}createQueryParams(me,be){const he={};return Object.entries(me).forEach(([Ee,Ze])=>{if("string"==typeof Ze&&Ze.startsWith(":")){const Wt=Ze.substring(1);he[Ee]=be[Wt]}else he[Ee]=Ze}),he}createSegmentGroup(me,be,he,Ee){const Ze=this.createSegments(me,be.segments,he,Ee);let it={};return Object.entries(be.children).forEach(([Wt,xn])=>{it[Wt]=this.createSegmentGroup(me,xn,he,Ee)}),new Ge(Ze,it)}createSegments(me,be,he,Ee){return be.map(Ze=>Ze.path.startsWith(":")?this.findPosParam(me,Ze,Ee):this.findOrReturn(Ze,he))}findPosParam(me,be,he){const Ee=he[be.path.substring(1)];if(!Ee)throw new y.OBp(4001,!1);return Ee}findOrReturn(me,be){let he=0;for(const Ee of be){if(Ee.path===me.path)return be.splice(he),Ee;he++}return me}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xr(ae,me,be,he,Ee){const Ze=Dr(ae,me,be);return Ze.matched?(he=function Yo(ae,me){var be;return ae.providers&&!ae._injector&&(ae._injector=(0,y.SIz)(ae.providers,me,`Route: ${ae.path}`)),null!==(be=ae._injector)&&void 0!==be?be:me}(me,he),function Vn(ae,me,be,he){const Ee=me.canMatch;if(!Ee||0===Ee.length)return(0,$.of)(!0);const Ze=Ee.map(it=>{const Wt=us(it,ae);return Jt(function Le(ae){return ae&&B(ae.canMatch)}(Wt)?Wt.canMatch(me,be):(0,y.SMS)(ae,()=>Wt(me,be)))});return(0,$.of)(Ze).pipe(It(),$n())}(he,me,be).pipe((0,m.k)(it=>!0===it?Ze:{...fo}))):(0,$.of)(Ze)}function Dr(ae,me,be){var he,Ee;if("**"===me.path)return function gr(ae){return{matched:!0,parameters:ae.length>0?Pt(ae).parameters:{},consumedSegments:ae,remainingSegments:[],positionalParamSegments:{}}}(be);if(""===me.path)return"full"===me.pathMatch&&(ae.hasChildren()||be.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:be,parameters:{},positionalParamSegments:{}};const it=(me.matcher||Qe)(be,ae,me);if(!it)return{...fo};const Wt={};Object.entries(null!==(he=it.posParams)&&void 0!==he?he:{}).forEach(([nn,kn])=>{Wt[nn]=kn.path});const xn=it.consumed.length>0?{...Wt,...it.consumed[it.consumed.length-1].parameters}:Wt;return{matched:!0,consumedSegments:it.consumed,remainingSegments:be.slice(it.consumed.length),parameters:xn,positionalParamSegments:null!==(Ee=it.posParams)&&void 0!==Ee?Ee:{}}}function Pr(ae,me,be,he){return be.length>0&&function Nr(ae,me,be){return be.some(he=>Jo(ae,me,he)&&go(he)!==Oe)}(ae,be,he)?{segmentGroup:new Ge(me,to(he,new Ge(be,ae.children))),slicedSegments:[]}:0===be.length&&function no(ae,me,be){return be.some(he=>Jo(ae,me,he))}(ae,be,he)?{segmentGroup:new Ge(ae.segments,Ln(ae,be,he,ae.children)),slicedSegments:be}:{segmentGroup:new Ge(ae.segments,ae.children),slicedSegments:be}}function Ln(ae,me,be,he){const Ee={};for(const Ze of be)if(Jo(ae,me,Ze)&&!he[go(Ze)]){const it=new Ge([],{});Ee[go(Ze)]=it}return{...he,...Ee}}function to(ae,me){const be={};be[Oe]=me;for(const he of ae)if(""===he.path&&go(he)!==Oe){const Ee=new Ge([],{});be[go(he)]=Ee}return be}function Jo(ae,me,be){return(!(ae.hasChildren()||me.length>0)||"full"!==be.pathMatch)&&""===be.path}class Ms{}class Ia{constructor(me,be,he,Ee,Ze,it,Wt){this.injector=me,this.configLoader=be,this.rootComponentType=he,this.config=Ee,this.urlTree=Ze,this.paramsInheritanceStrategy=it,this.urlSerializer=Wt,this.applyRedirects=new Jr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(me){return new y.OBp(4002,`'${me.segmentGroup}'`)}recognize(){const me=Pr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(me).pipe((0,m.k)(be=>{const he=new $r([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Oe,this.rootComponentType,null,{}),Ee=new fr(he,be),Ze=new Yn("",Ee),it=function we(ae,me,be=null,he=null){return R(D(ae),me,be,he)}(he,[],this.urlTree.queryParams,this.urlTree.fragment);return it.queryParams=this.urlTree.queryParams,Ze.url=this.urlSerializer.serialize(it),this.inheritParamsAndData(Ze._root,null),{state:Ze,tree:it}}))}match(me){return this.processSegmentGroup(this.injector,this.config,me,Oe).pipe(q(he=>{if(he instanceof Zn)return this.urlTree=he.urlTree,this.match(he.urlTree.root);throw he instanceof Un?this.noMatchError(he):he}))}inheritParamsAndData(me,be){const he=me.value,Ee=yr(he,be,this.paramsInheritanceStrategy);he.params=Object.freeze(Ee.params),he.data=Object.freeze(Ee.data),me.children.forEach(Ze=>this.inheritParamsAndData(Ze,he))}processSegmentGroup(me,be,he,Ee){return 0===he.segments.length&&he.hasChildren()?this.processChildren(me,be,he):this.processSegment(me,be,he,he.segments,Ee,!0).pipe((0,m.k)(Ze=>Ze instanceof fr?[Ze]:[]))}processChildren(me,be,he){const Ee=[];for(const Ze of Object.keys(he.children))"primary"===Ze?Ee.unshift(Ze):Ee.push(Ze);return(0,o.Q)(Ee).pipe(z(Ze=>{const it=he.children[Ze],Wt=function br(ae,me){const be=ae.filter(he=>go(he)===me);return be.push(...ae.filter(he=>go(he)!==me)),be}(be,Ze);return this.processSegmentGroup(me,Wt,it,Ze)}),function fe(ae,me){return(0,F.i)(function ne(ae,me,be,he,Ee){return(Ze,it)=>{let Wt=be,xn=me,nn=0;Ze.subscribe((0,V.e)(it,kn=>{const Qn=nn++;xn=Wt?ae(xn,kn,Qn):(Wt=!0,kn),he&&it.next(xn)},Ee&&(()=>{Wt&&it.next(xn),it.complete()})))}}(ae,me,arguments.length>=2,!0))}((Ze,it)=>(Ze.push(...it),Ze)),k(null),function K(ae,me){const be=arguments.length>=2;return he=>he.pipe(ae?(0,P.I)((Ee,Ze)=>ae(Ee,Ze,he)):W.Z,De(1),be?k(me):E(()=>new h))}(),(0,j.O)(Ze=>{if(null===Ze)return er(he);const it=mn(Ze);return function kl(ae){ae.sort((me,be)=>me.value.outlet===Oe?-1:be.value.outlet===Oe?1:me.value.outlet.localeCompare(be.value.outlet))}(it),(0,$.of)(it)}))}processSegment(me,be,he,Ee,Ze,it){return(0,o.Q)(be).pipe(z(Wt=>{var xn;return this.processSegmentAgainstRoute(null!==(xn=Wt._injector)&&void 0!==xn?xn:me,be,Wt,he,Ee,Ze,it).pipe(q(nn=>{if(nn instanceof Un)return(0,$.of)(null);throw nn}))}),Y(Wt=>!!Wt),q(Wt=>{if(Je(Wt))return function Fs(ae,me,be){return 0===me.length&&!ae.children[be]}(he,Ee,Ze)?(0,$.of)(new Ms):er(he);throw Wt}))}processSegmentAgainstRoute(me,be,he,Ee,Ze,it,Wt){return function cs(ae,me,be,he){return!!(go(ae)===he||he!==Oe&&Jo(me,be,ae))&&Dr(me,ae,be).matched}(he,Ee,Ze,it)?void 0===he.redirectTo?this.matchSegmentAgainstRoute(me,Ee,he,Ze,it):this.allowRedirects&&Wt?this.expandSegmentAgainstRouteUsingRedirect(me,Ee,be,he,Ze,it):er(Ee):er(Ee)}expandSegmentAgainstRouteUsingRedirect(me,be,he,Ee,Ze,it){const{matched:Wt,consumedSegments:xn,positionalParamSegments:nn,remainingSegments:kn}=Dr(be,Ee,Ze);if(!Wt)return er(be);Ee.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Qn=this.applyRedirects.applyRedirectCommands(xn,Ee.redirectTo,nn);return this.applyRedirects.lineralizeSegments(Ee,Qn).pipe((0,j.O)(qr=>this.processSegment(me,he,be,qr.concat(kn),it,!1)))}matchSegmentAgainstRoute(me,be,he,Ee,Ze){const it=xr(be,he,Ee,me);return"**"===he.path&&(be.children={}),it.pipe((0,p.G)(Wt=>{var xn;return Wt.matched?(me=null!==(xn=he._injector)&&void 0!==xn?xn:me,this.getChildConfig(me,he,Ee).pipe((0,p.G)(({routes:nn})=>{var kn,Qn,qr;const Cr=null!==(kn=he._loadedInjector)&&void 0!==kn?kn:me,{consumedSegments:Hn,remainingSegments:is,parameters:Os}=Wt,js=new $r(Hn,Os,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function _i(ae){return ae.data||{}}(he),go(he),null!==(Qn=null!==(qr=he.component)&&void 0!==qr?qr:he._loadedComponent)&&void 0!==Qn?Qn:null,he,function Aa(ae){return ae.resolve||{}}(he)),{segmentGroup:Gs,slicedSegments:Ps}=Pr(be,Hn,is,nn);if(0===Ps.length&&Gs.hasChildren())return this.processChildren(Cr,nn,Gs).pipe((0,m.k)(ks=>null===ks?null:new fr(js,ks)));if(0===nn.length&&0===Ps.length)return(0,$.of)(new fr(js,[]));const Ac=go(he)===Ze;return this.processSegment(Cr,nn,Gs,Ps,Ac?Oe:Ze,!0).pipe((0,m.k)(ks=>new fr(js,ks instanceof fr?[ks]:[])))}))):er(be)}))}getChildConfig(me,be,he){return be.children?(0,$.of)({routes:be.children,injector:me}):be.loadChildren?void 0!==be._loadedRoutes?(0,$.of)({routes:be._loadedRoutes,injector:be._loadedInjector}):function Bn(ae,me,be,he){const Ee=me.canLoad;if(void 0===Ee||0===Ee.length)return(0,$.of)(!0);const Ze=Ee.map(it=>{const Wt=us(it,ae);return Jt(function T(ae){return ae&&B(ae.canLoad)}(Wt)?Wt.canLoad(me,be):(0,y.SMS)(ae,()=>Wt(me,be)))});return(0,$.of)(Ze).pipe(It(),$n())}(me,be,he).pipe((0,j.O)(Ee=>Ee?this.configLoader.loadChildren(me,be).pipe((0,te.y)(Ze=>{be._loadedRoutes=Ze.routes,be._loadedInjector=Ze.injector})):function Zr(ae){return(0,i.c)(co(!1,An.GuardRejected))}())):(0,$.of)({routes:[],injector:me})}}function Ta(ae){const me=ae.value.routeConfig;return me&&""===me.path}function mn(ae){const me=[],be=new Set;for(const he of ae){if(!Ta(he)){me.push(he);continue}const Ee=me.find(Ze=>he.value.routeConfig===Ze.value.routeConfig);void 0!==Ee?(Ee.children.push(...he.children),be.add(Ee)):me.push(he)}for(const he of be){const Ee=mn(he.children);me.push(new fr(he.value,Ee))}return me.filter(he=>!be.has(he))}function Is(ae){const me=ae.children.map(be=>Is(be)).flat();return[ae,...me]}function Ei(ae){return(0,p.G)(me=>{const be=ae(me);return be?(0,o.Q)(be).pipe((0,m.k)(()=>me)):(0,$.of)(me)})}let Rl=(()=>{var ae;class me{buildTitle(he){let Ee,Ze=he.root;for(;void 0!==Ze;){var it;Ee=null!==(it=this.getResolvedTitleForRoute(Ze))&&void 0!==it?it:Ee,Ze=Ze.children.find(Wt=>Wt.outlet===Oe)}return Ee}getResolvedTitleForRoute(he){return he.data[ke]}}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:()=>(0,y.uUt)(ja),providedIn:"root"}),me})(),ja=(()=>{var ae;class me extends Rl{constructor(he){super(),this.title=he}updateTitle(he){const Ee=this.buildTitle(he);void 0!==Ee&&this.title.setTitle(Ee)}}return(ae=me).\u0275fac=function(he){return new(he||ae)(y.CoB(tt.OY))},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})();const Gr=new y.UbH("",{providedIn:"root",factory:()=>({})}),Mo=new y.UbH("");let ei=(()=>{var ae;class me{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.uUt)(y.ESV)}loadComponent(he){if(this.componentLoaders.get(he))return this.componentLoaders.get(he);if(he._loadedComponent)return(0,$.of)(he._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(he);const Ee=Jt(he.loadComponent()).pipe((0,m.k)(dt),(0,te.y)(it=>{this.onLoadEndListener&&this.onLoadEndListener(he),he._loadedComponent=it}),se(()=>{this.componentLoaders.delete(he)})),Ze=new d.C(Ee,()=>new c.E).pipe((0,pe.O)());return this.componentLoaders.set(he,Ze),Ze}loadChildren(he,Ee){if(this.childrenLoaders.get(Ee))return this.childrenLoaders.get(Ee);if(Ee._loadedRoutes)return(0,$.of)({routes:Ee._loadedRoutes,injector:Ee._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ee);const it=function de(ae,me,be,he){return Jt(ae.loadChildren()).pipe((0,m.k)(dt),(0,j.O)(Ee=>Ee instanceof y.obV||Array.isArray(Ee)?(0,$.of)(Ee):(0,o.Q)(me.compileModuleAsync(Ee))),(0,m.k)(Ee=>{he&&he(ae);let Ze,it,Wt=!1;return Array.isArray(Ee)?(it=Ee,!0):(Ze=Ee.create(be).injector,it=Ze.get(Mo,[],{optional:!0,self:!0}).flat()),{routes:it.map(ls),injector:Ze}}))}(Ee,this.compiler,he,this.onLoadEndListener).pipe(se(()=>{this.childrenLoaders.delete(Ee)})),Wt=new d.C(it,()=>new c.E).pipe((0,pe.O)());return this.childrenLoaders.set(Ee,Wt),Wt}}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})();function dt(ae){return function Ae(ae){return ae&&"object"==typeof ae&&"default"in ae}(ae)?ae.default:ae}let Ie=(()=>{var ae;class me{}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:()=>(0,y.uUt)(nt),providedIn:"root"}),me})(),nt=(()=>{var ae;class me{shouldProcessUrl(he){return!0}extract(he){return he}merge(he,Ee){return he}}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})();const St=new y.UbH(""),dn=new y.UbH("");function In(ae,me,be){const he=ae.get(dn),Ee=ae.get(l.Ud);return ae.get(y.WW2).runOutsideAngular(()=>{if(!Ee.startViewTransition||he.skipNextTransition)return he.skipNextTransition=!1,Promise.resolve();let Ze;const it=new Promise(nn=>{Ze=nn}),Wt=Ee.startViewTransition(()=>(Ze(),function or(ae){return new Promise(me=>{(0,y.I44)(me,{injector:ae})})}(ae))),{onViewTransitionCreated:xn}=he;return xn&&(0,y.SMS)(ae,()=>xn({transition:Wt,from:me,to:be})),it})}let sr=(()=>{var ae;class me{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new c.E,this.transitionAbortSubject=new c.E,this.configLoader=(0,y.uUt)(ei),this.environmentInjector=(0,y.uUt)(y.SIe),this.urlSerializer=(0,y.uUt)(Gt),this.rootContexts=(0,y.uUt)(Br),this.location=(0,y.uUt)(l.oB),this.inputBindingEnabled=null!==(0,y.uUt)(po,{optional:!0}),this.titleStrategy=(0,y.uUt)(Rl),this.options=(0,y.uUt)(Gr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,y.uUt)(Ie),this.createViewTransition=(0,y.uUt)(St,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,$.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ze=>this.events.next(new pt(Ze)),this.configLoader.onLoadStartListener=Ze=>this.events.next(new Ve(Ze))}complete(){var he;null===(he=this.transitions)||void 0===he||he.complete()}handleNavigationRequest(he){var Ee;const Ze=++this.navigationId;null===(Ee=this.transitions)||void 0===Ee||Ee.next({...this.transitions.value,...he,id:Ze})}setupNavigations(he,Ee,Ze){return this.transitions=new S.g({id:0,currentUrlTree:Ee,currentRawUrl:Ee,extractedUrl:this.urlHandlingStrategy.extract(Ee),urlAfterRedirects:this.urlHandlingStrategy.extract(Ee),rawUrl:Ee,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ct,restoredState:null,currentSnapshot:Ze.snapshot,targetSnapshot:null,currentRouterState:Ze,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,P.I)(it=>0!==it.id),(0,m.k)(it=>({...it,extractedUrl:this.urlHandlingStrategy.extract(it.rawUrl)})),(0,p.G)(it=>{this.currentTransition=it;let Wt=!1,xn=!1;return(0,$.of)(it).pipe((0,te.y)(nn=>{this.currentNavigation={id:nn.id,initialUrl:nn.rawUrl,extractedUrl:nn.extractedUrl,trigger:nn.source,extras:nn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,p.G)(nn=>{var kn;const Qn=!he.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),qr=null!==(kn=nn.extras.onSameUrlNavigation)&&void 0!==kn?kn:he.onSameUrlNavigation;if(!Qn&&"reload"!==qr){const Cr="";return this.events.next(new He(nn.id,this.urlSerializer.serialize(nn.rawUrl),Cr,Tt.IgnoredSameUrlNavigation)),nn.resolve(null),a.k}if(this.urlHandlingStrategy.shouldProcessUrl(nn.rawUrl))return(0,$.of)(nn).pipe((0,p.G)(Cr=>{var Hn,is;const Os=null===(Hn=this.transitions)||void 0===Hn?void 0:Hn.getValue();return this.events.next(new Ut(Cr.id,this.urlSerializer.serialize(Cr.extractedUrl),Cr.source,Cr.restoredState)),Os!==(null===(is=this.transitions)||void 0===is?void 0:is.getValue())?a.k:Promise.resolve(Cr)}),function Ar(ae,me,be,he,Ee,Ze){return(0,j.O)(it=>function Da(ae,me,be,he,Ee,Ze,it="emptyOnly"){return new Ia(ae,me,be,he,Ee,it,Ze).recognize()}(ae,me,be,he,it.extractedUrl,Ee,Ze).pipe((0,m.k)(({state:Wt,tree:xn})=>({...it,targetSnapshot:Wt,urlAfterRedirects:xn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,he.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,te.y)(Cr=>{it.targetSnapshot=Cr.targetSnapshot,it.urlAfterRedirects=Cr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Cr.urlAfterRedirects};const Hn=new Ot(Cr.id,this.urlSerializer.serialize(Cr.extractedUrl),this.urlSerializer.serialize(Cr.urlAfterRedirects),Cr.targetSnapshot);this.events.next(Hn)}));if(Qn&&this.urlHandlingStrategy.shouldProcessUrl(nn.currentRawUrl)){const{id:Cr,extractedUrl:Hn,source:is,restoredState:Os,extras:js}=nn,Gs=new Ut(Cr,this.urlSerializer.serialize(Hn),is,Os);this.events.next(Gs);const Ps=Lr(this.rootComponentType).snapshot;return this.currentTransition=it={...nn,targetSnapshot:Ps,urlAfterRedirects:Hn,extras:{...js,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Hn,(0,$.of)(it)}{const Cr="";return this.events.next(new He(nn.id,this.urlSerializer.serialize(nn.extractedUrl),Cr,Tt.IgnoredByUrlHandlingStrategy)),nn.resolve(null),a.k}}),(0,te.y)(nn=>{const kn=new $t(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot);this.events.next(kn)}),(0,m.k)(nn=>(this.currentTransition=it={...nn,guards:Zs(nn.targetSnapshot,nn.currentSnapshot,this.rootContexts)},it)),function Vt(ae,me){return(0,j.O)(be=>{const{targetSnapshot:he,currentSnapshot:Ee,guards:{canActivateChecks:Ze,canDeactivateChecks:it}}=be;return 0===it.length&&0===Ze.length?(0,$.of)({...be,guardsResult:!0}):function Bt(ae,me,be,he){return(0,o.Q)(ae).pipe((0,j.O)(Ee=>function Kt(ae,me,be,he,Ee){const Ze=me&&me.routeConfig?me.routeConfig.canDeactivate:null;if(!Ze||0===Ze.length)return(0,$.of)(!0);const it=Ze.map(Wt=>{var xn;const nn=null!==(xn=Ko(me))&&void 0!==xn?xn:Ee,kn=us(Wt,nn);return Jt(function ue(ae){return ae&&B(ae.canDeactivate)}(kn)?kn.canDeactivate(ae,me,be,he):(0,y.SMS)(nn,()=>kn(ae,me,be,he))).pipe(Y())});return(0,$.of)(it).pipe(It())}(Ee.component,Ee.route,be,me,he)),Y(Ee=>!0!==Ee,!0))}(it,he,Ee,ae).pipe((0,j.O)(Wt=>Wt&&function A(ae){return"boolean"==typeof ae}(Wt)?function mt(ae,me,be,he){return(0,o.Q)(me).pipe(z(Ee=>(0,f.W)(function tn(ae,me){return null!==ae&&me&&me(new Qt(ae)),(0,$.of)(!0)}(Ee.route.parent,he),function yn(ae,me){return null!==ae&&me&&me(new jn(ae)),(0,$.of)(!0)}(Ee.route,he),function Zt(ae,me,be){const he=me[me.length-1],Ze=me.slice(0,me.length-1).reverse().map(it=>function bi(ae){const me=ae.routeConfig?ae.routeConfig.canActivateChild:null;return me&&0!==me.length?{node:ae,guards:me}:null}(it)).filter(it=>null!==it).map(it=>(0,x.Q)(()=>{const Wt=it.guards.map(xn=>{var nn;const kn=null!==(nn=Ko(it.node))&&void 0!==nn?nn:be,Qn=us(xn,kn);return Jt(function X(ae){return ae&&B(ae.canActivateChild)}(Qn)?Qn.canActivateChild(he,ae):(0,y.SMS)(kn,()=>Qn(he,ae))).pipe(Y())});return(0,$.of)(Wt).pipe(It())}));return(0,$.of)(Ze).pipe(It())}(ae,Ee.path,be),function on(ae,me,be){const he=me.routeConfig?me.routeConfig.canActivate:null;if(!he||0===he.length)return(0,$.of)(!0);const Ee=he.map(Ze=>(0,x.Q)(()=>{var it;const Wt=null!==(it=Ko(me))&&void 0!==it?it:be,xn=us(Ze,Wt);return Jt(function Z(ae){return ae&&B(ae.canActivate)}(xn)?xn.canActivate(me,ae):(0,y.SMS)(Wt,()=>xn(me,ae))).pipe(Y())}));return(0,$.of)(Ee).pipe(It())}(ae,Ee.route,be))),Y(Ee=>!0!==Ee,!0))}(he,Ze,ae,me):(0,$.of)(Wt)),(0,m.k)(Wt=>({...be,guardsResult:Wt})))})}(this.environmentInjector,nn=>this.events.next(nn)),(0,te.y)(nn=>{if(it.guardsResult=nn.guardsResult,ie(nn.guardsResult))throw oo(0,nn.guardsResult);const kn=new oe(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot,!!nn.guardsResult);this.events.next(kn)}),(0,P.I)(nn=>!!nn.guardsResult||(this.cancelNavigationTransition(nn,"",An.GuardRejected),!1)),Ei(nn=>{if(nn.guards.canActivateChecks.length)return(0,$.of)(nn).pipe((0,te.y)(kn=>{const Qn=new Ne(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Qn)}),(0,p.G)(kn=>{let Qn=!1;return(0,$.of)(kn).pipe(function Oa(ae,me){return(0,j.O)(be=>{const{targetSnapshot:he,guards:{canActivateChecks:Ee}}=be;if(!Ee.length)return(0,$.of)(be);const Ze=new Set(Ee.map(xn=>xn.route)),it=new Set;for(const xn of Ze)if(!it.has(xn))for(const nn of Is(xn))it.add(nn);let Wt=0;return(0,o.Q)(it).pipe(z(xn=>Ze.has(xn)?function Qo(ae,me,be,he){const Ee=ae.routeConfig,Ze=ae._resolve;return void 0!==(null==Ee?void 0:Ee.title)&&!So(Ee)&&(Ze[ke]=Ee.title),function wi(ae,me,be,he){const Ee=ft(ae);if(0===Ee.length)return(0,$.of)({});const Ze={};return(0,o.Q)(Ee).pipe((0,j.O)(it=>function xi(ae,me,be,he){var Ee;const Ze=null!==(Ee=Ko(me))&&void 0!==Ee?Ee:he,it=us(ae,Ze);return Jt(it.resolve?it.resolve(me,be):(0,y.SMS)(Ze,()=>it(me,be)))}(ae[it],me,be,he).pipe(Y(),(0,te.y)(Wt=>{Ze[it]=Wt}))),De(1),(0,L.e)(Ze),q(it=>Je(it)?a.k:(0,i.c)(it)))}(Ze,ae,me,he).pipe((0,m.k)(it=>(ae._resolvedData=it,ae.data=yr(ae,ae.parent,be).resolve,null)))}(xn,he,ae,me):(xn.data=yr(xn,xn.parent,ae).resolve,(0,$.of)(void 0))),(0,te.y)(()=>Wt++),De(1),(0,j.O)(xn=>Wt===it.size?(0,$.of)(be):a.k))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,te.y)({next:()=>Qn=!0,complete:()=>{Qn||this.cancelNavigationTransition(kn,"",An.NoDataFromResolver)}}))}),(0,te.y)(kn=>{const Qn=new ve(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Qn)}))}),Ei(nn=>{const kn=Qn=>{var qr;const Cr=[];null!==(qr=Qn.routeConfig)&&void 0!==qr&&qr.loadComponent&&!Qn.routeConfig._loadedComponent&&Cr.push(this.configLoader.loadComponent(Qn.routeConfig).pipe((0,te.y)(Hn=>{Qn.component=Hn}),(0,m.k)(()=>{})));for(const Hn of Qn.children)Cr.push(...kn(Hn));return Cr};return(0,v.E)(kn(nn.targetSnapshot.root)).pipe(k(null),(0,b.U)(1))}),Ei(()=>this.afterPreactivation()),(0,p.G)(()=>{var nn;const{currentSnapshot:kn,targetSnapshot:Qn}=it,qr=null===(nn=this.createViewTransition)||void 0===nn?void 0:nn.call(this,this.environmentInjector,kn.root,Qn.root);return qr?(0,o.Q)(qr).pipe((0,m.k)(()=>it)):(0,$.of)(it)}),(0,m.k)(nn=>{const kn=function Po(ae,me,be){const he=mo(ae,me._root,be?be._root:void 0);return new wr(he,me)}(he.routeReuseStrategy,nn.targetSnapshot,nn.currentRouterState);return this.currentTransition=it={...nn,targetRouterState:kn},this.currentNavigation.targetRouterState=kn,it}),(0,te.y)(()=>{this.events.next(new Or)}),((ae,me,be,he)=>(0,m.k)(Ee=>(new Qs(me,Ee.targetRouterState,Ee.currentRouterState,be,he).activate(ae),Ee)))(this.rootContexts,he.routeReuseStrategy,nn=>this.events.next(nn),this.inputBindingEnabled),(0,b.U)(1),(0,te.y)({next:nn=>{var kn;Wt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fn(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects))),null===(kn=this.titleStrategy)||void 0===kn||kn.updateTitle(nn.targetRouterState.snapshot),nn.resolve(!0)},complete:()=>{Wt=!0}}),function Fe(ae){return(0,F.i)((me,be)=>{(0,J.Uv)(ae).subscribe((0,V.e)(be,()=>be.complete(),Ce.K)),!be.closed&&me.subscribe(be)})}(this.transitionAbortSubject.pipe((0,te.y)(nn=>{throw nn}))),se(()=>{var nn;!Wt&&!xn&&this.cancelNavigationTransition(it,"",An.SupersededByNewNavigation),(null===(nn=this.currentTransition)||void 0===nn?void 0:nn.id)===it.id&&(this.currentNavigation=null,this.currentTransition=null)}),q(nn=>{if(xn=!0,Lo(nn))this.events.next(new Pe(it.id,this.urlSerializer.serialize(it.extractedUrl),nn.message,nn.cancellationCode)),function Ro(ae){return Lo(ae)&&ie(ae.url)}(nn)?this.events.next(new Tr(nn.url)):it.resolve(!1);else{var kn;this.events.next(new Mt(it.id,this.urlSerializer.serialize(it.extractedUrl),nn,null!==(kn=it.targetSnapshot)&&void 0!==kn?kn:void 0));try{it.resolve(he.errorHandler(nn))}catch(Qn){this.options.resolveNavigationPromiseOnError?it.resolve(!1):it.reject(Qn)}}return a.k}))}))}cancelNavigationTransition(he,Ee,Ze){const it=new Pe(he.id,this.urlSerializer.serialize(he.extractedUrl),Ee,Ze);this.events.next(it),he.resolve(!1)}isUpdatingInternalState(){var he,Ee;return(null===(he=this.currentTransition)||void 0===he?void 0:he.extractedUrl.toString())!==(null===(Ee=this.currentTransition)||void 0===Ee?void 0:Ee.currentUrlTree.toString())}isUpdatedBrowserUrl(){var he,Ee;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(he=this.currentTransition)||void 0===he?void 0:he.extractedUrl.toString())&&!(null!==(Ee=this.currentTransition)&&void 0!==Ee&&Ee.extras.skipLocationChange)}}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})();function Er(ae){return ae!==ct}let rr=(()=>{var ae;class me{}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:()=>(0,y.uUt)(Mr),providedIn:"root"}),me})();class Ir{shouldDetach(me){return!1}store(me,be){}shouldAttach(me){return!1}retrieve(me){return null}shouldReuseRoute(me,be){return me.routeConfig===be.routeConfig}}let Mr=(()=>{var ae;class me extends Ir{}return(ae=me).\u0275fac=(()=>{let be;return function(Ee){return(be||(be=y.otF(ae)))(Ee||ae)}})(),ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})(),eo=(()=>{var ae;class me{}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:()=>(0,y.uUt)(Zo),providedIn:"root"}),me})(),Zo=(()=>{var ae;class me extends eo{constructor(){super(...arguments),this.location=(0,y.uUt)(l.oB),this.urlSerializer=(0,y.uUt)(Gt),this.options=(0,y.uUt)(Gr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,y.uUt)(Ie),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Re,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var he,Ee;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(he=null===(Ee=this.restoredState())||void 0===Ee?void 0:Ee.\u0275routerPageId)&&void 0!==he?he:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(he){return this.location.subscribe(Ee=>{"popstate"===Ee.type&&he(Ee.url,Ee.state)})}handleRouterEvent(he,Ee){if(he instanceof Ut)this.stateMemento=this.createStateMemento();else if(he instanceof He)this.rawUrlTree=Ee.initialUrl;else if(he instanceof Ot){if("eager"===this.urlUpdateStrategy&&!Ee.extras.skipLocationChange){const Ze=this.urlHandlingStrategy.merge(Ee.finalUrl,Ee.initialUrl);this.setBrowserUrl(Ze,Ee)}}else he instanceof Or?(this.currentUrlTree=Ee.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ee.finalUrl,Ee.initialUrl),this.routerState=Ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ee.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ee))):he instanceof Pe&&(he.code===An.GuardRejected||he.code===An.NoDataFromResolver)?this.restoreHistory(Ee):he instanceof Mt?this.restoreHistory(Ee,!0):he instanceof fn&&(this.lastSuccessfulId=he.id,this.currentPageId=this.browserPageId)}setBrowserUrl(he,Ee){const Ze=this.urlSerializer.serialize(he);if(this.location.isCurrentPathEqualTo(Ze)||Ee.extras.replaceUrl){const Wt={...Ee.extras.state,...this.generateNgRouterState(Ee.id,this.browserPageId)};this.location.replaceState(Ze,"",Wt)}else{const it={...Ee.extras.state,...this.generateNgRouterState(Ee.id,this.browserPageId+1)};this.location.go(Ze,"",it)}}restoreHistory(he,Ee=!1){if("computed"===this.canceledNavigationResolution){const it=this.currentPageId-this.browserPageId;0!==it?this.location.historyGo(it):this.currentUrlTree===he.finalUrl&&0===it&&(this.resetState(he),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ee&&this.resetState(he),this.resetUrlToCurrentUrlTree())}resetState(he){var Ee;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(Ee=he.finalUrl)&&void 0!==Ee?Ee:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(he,Ee){return"computed"===this.canceledNavigationResolution?{navigationId:he,\u0275routerPageId:Ee}:{navigationId:he}}}return(ae=me).\u0275fac=(()=>{let be;return function(Ee){return(be||(be=y.otF(ae)))(Ee||ae)}})(),ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})();var yo=function(ae){return ae[ae.COMPLETE=0]="COMPLETE",ae[ae.FAILED=1]="FAILED",ae[ae.REDIRECTING=2]="REDIRECTING",ae}(yo||{});function es(ae,me){ae.events.pipe((0,P.I)(be=>be instanceof fn||be instanceof Pe||be instanceof Mt||be instanceof He),(0,m.k)(be=>be instanceof fn||be instanceof He?yo.COMPLETE:be instanceof Pe&&(be.code===An.Redirect||be.code===An.SupersededByNewNavigation)?yo.REDIRECTING:yo.FAILED),(0,P.I)(be=>be!==yo.REDIRECTING),(0,b.U)(1)).subscribe(()=>{me()})}function ss(ae){throw ae}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Co={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{var ae;class me{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var he,Ee;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,y.uUt)(y.oPY),this.stateManager=(0,y.uUt)(eo),this.options=(0,y.uUt)(Gr,{optional:!0})||{},this.pendingTasks=(0,y.uUt)(y.g9Y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,y.uUt)(sr),this.urlSerializer=(0,y.uUt)(Gt),this.location=(0,y.uUt)(l.oB),this.urlHandlingStrategy=(0,y.uUt)(Ie),this._events=new c.E,this.errorHandler=this.options.errorHandler||ss,this.navigated=!1,this.routeReuseStrategy=(0,y.uUt)(rr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(he=null===(Ee=(0,y.uUt)(Mo,{optional:!0}))||void 0===Ee?void 0:Ee.flat())&&void 0!==he?he:[],this.componentInputBindingEnabled=!!(0,y.uUt)(po,{optional:!0}),this.eventsSubscription=new u.wH,this.isNgZoneEnabled=(0,y.uUt)(y.WW2)instanceof y.WW2&&y.WW2.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Ze=>{this.console.warn(Ze)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const he=this.navigationTransitions.events.subscribe(Ee=>{try{const Ze=this.navigationTransitions.currentTransition,it=this.navigationTransitions.currentNavigation;if(null!==Ze&&null!==it)if(this.stateManager.handleRouterEvent(Ee,it),Ee instanceof Pe&&Ee.code!==An.Redirect&&Ee.code!==An.SupersededByNewNavigation)this.navigated=!0;else if(Ee instanceof fn)this.navigated=!0;else if(Ee instanceof Tr){const Wt=this.urlHandlingStrategy.merge(Ee.url,Ze.currentRawUrl),xn={info:Ze.extras.info,skipLocationChange:Ze.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Er(Ze.source)};this.scheduleNavigation(Wt,ct,null,xn,{resolve:Ze.resolve,reject:Ze.reject,promise:Ze.promise})}(function bc(ae){return!(ae instanceof Or||ae instanceof Tr)})(Ee)&&this._events.next(Ee)}catch(Ze){this.navigationTransitions.transitionAbortSubject.next(Ze)}});this.eventsSubscription.add(he)}resetRootComponentType(he){this.routerState.root.component=he,this.navigationTransitions.rootComponentType=he}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ct,this.stateManager.restoredState())}setUpLocationChangeListener(){var he;null!==(he=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==he||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((Ee,Ze)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Ee,"popstate",Ze)},0)}))}navigateToSyncWithBrowser(he,Ee,Ze){const it={replaceUrl:!0},Wt=null!=Ze&&Ze.navigationId?Ze:null;if(Ze){const nn={...Ze};delete nn.navigationId,delete nn.\u0275routerPageId,0!==Object.keys(nn).length&&(it.state=nn)}const xn=this.parseUrl(he);this.scheduleNavigation(xn,Ee,Wt,it)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(he){this.config=he.map(ls),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(he,Ee={}){const{relativeTo:Ze,queryParams:it,fragment:Wt,queryParamsHandling:xn,preserveFragment:nn}=Ee,kn=nn?this.currentUrlTree.fragment:Wt;let qr,Qn=null;switch(xn){case"merge":Qn={...this.currentUrlTree.queryParams,...it};break;case"preserve":Qn=this.currentUrlTree.queryParams;break;default:Qn=it||null}null!==Qn&&(Qn=this.removeEmptyProps(Qn));try{qr=D(Ze?Ze.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof he[0]||!he[0].startsWith("/"))&&(he=[]),qr=this.currentUrlTree.root}return R(qr,he,Qn,null!=kn?kn:null)}navigateByUrl(he,Ee={skipLocationChange:!1}){const Ze=ie(he)?he:this.parseUrl(he),it=this.urlHandlingStrategy.merge(Ze,this.rawUrlTree);return this.scheduleNavigation(it,ct,null,Ee)}navigate(he,Ee={skipLocationChange:!1}){return function ti(ae){for(let me=0;me<ae.length;me++)if(null==ae[me])throw new y.OBp(4008,!1)}(he),this.navigateByUrl(this.createUrlTree(he,Ee),Ee)}serializeUrl(he){return this.urlSerializer.serialize(he)}parseUrl(he){try{return this.urlSerializer.parse(he)}catch{return this.urlSerializer.parse("/")}}isActive(he,Ee){let Ze;if(Ze=!0===Ee?{...zr}:!1===Ee?{...Co}:Ee,ie(he))return sn(this.currentUrlTree,he,Ze);const it=this.parseUrl(he);return sn(this.currentUrlTree,it,Ze)}removeEmptyProps(he){return Object.entries(he).reduce((Ee,[Ze,it])=>(null!=it&&(Ee[Ze]=it),Ee),{})}scheduleNavigation(he,Ee,Ze,it,Wt){if(this.disposed)return Promise.resolve(!1);let xn,nn,kn;Wt?(xn=Wt.resolve,nn=Wt.reject,kn=Wt.promise):kn=new Promise((qr,Cr)=>{xn=qr,nn=Cr});const Qn=this.pendingTasks.add();return es(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Qn))}),this.navigationTransitions.handleNavigationRequest({source:Ee,restoredState:Ze,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:he,extras:it,resolve:xn,reject:nn,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(qr=>Promise.reject(qr))}}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})(),Ci=(()=>{var ae;class me{constructor(he,Ee,Ze,it,Wt,xn){var nn;this.router=he,this.route=Ee,this.tabIndexAttribute=Ze,this.renderer=it,this.el=Wt,this.locationStrategy=xn,this.href=null,this.commands=null,this.onChanges=new c.E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const kn=null===(nn=Wt.nativeElement.tagName)||void 0===nn?void 0:nn.toLowerCase();this.isAnchorElement="a"===kn||"area"===kn,this.isAnchorElement?this.subscription=he.events.subscribe(Qn=>{Qn instanceof fn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(he){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",he)}ngOnChanges(he){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(he){null!=he?(this.commands=Array.isArray(he)?he:[he],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(he,Ee,Ze,it,Wt){const xn=this.urlTree;return!!(null===xn||this.isAnchorElement&&(0!==he||Ee||Ze||it||Wt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(xn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var he;null===(he=this.subscription)||void 0===he||he.unsubscribe()}updateHref(){var he;const Ee=this.urlTree;this.href=null!==Ee&&this.locationStrategy?null===(he=this.locationStrategy)||void 0===he?void 0:he.prepareExternalUrl(this.router.serializeUrl(Ee)):null;const Ze=null===this.href?null:(0,y.YFg)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ze)}applyAttributeValue(he,Ee){const Ze=this.renderer,it=this.el.nativeElement;null!==Ee?Ze.setAttribute(it,he,Ee):Ze.removeAttribute(it,he)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(ae=me).\u0275fac=function(he){return new(he||ae)(y.GI1(ir),y.GI1(ur),y.gJ8("tabindex"),y.GI1(y.q87),y.GI1(y.GMv),y.GI1(l.Qd))},ae.\u0275dir=y.Sc5({type:ae,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(he,Ee){1&he&&y.qCj("click",function(it){return Ee.onClick(it.button,it.ctrlKey,it.shiftKey,it.altKey,it.metaKey)}),2&he&&y.e48("target",Ee.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[y.Wk5.HasDecoratorInputTransform,"preserveFragment","preserveFragment",y.cZD],skipLocationChange:[y.Wk5.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",y.cZD],replaceUrl:[y.Wk5.HasDecoratorInputTransform,"replaceUrl","replaceUrl",y.cZD],routerLink:"routerLink"},standalone:!0,features:[y.QJr,y.SYr]}),me})();class Pa{}let Si=(()=>{var ae;class me{preload(he,Ee){return Ee().pipe(q(()=>(0,$.of)(null)))}}return(ae=me).\u0275fac=function(he){return new(he||ae)},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})(),wc=(()=>{var ae;class me{constructor(he,Ee,Ze,it,Wt){this.router=he,this.injector=Ze,this.preloadingStrategy=it,this.loader=Wt}setUpPreloading(){this.subscription=this.router.events.pipe((0,P.I)(he=>he instanceof fn),z(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(he,Ee){const Ze=[];for(const nn of Ee){var it,Wt;nn.providers&&!nn._injector&&(nn._injector=(0,y.SIz)(nn.providers,he,`Route: ${nn.path}`));const kn=null!==(it=nn._injector)&&void 0!==it?it:he,Qn=null!==(Wt=nn._loadedInjector)&&void 0!==Wt?Wt:kn;var xn;(nn.loadChildren&&!nn._loadedRoutes&&void 0===nn.canLoad||nn.loadComponent&&!nn._loadedComponent)&&Ze.push(this.preloadConfig(kn,nn)),(nn.children||nn._loadedRoutes)&&Ze.push(this.processRoutes(Qn,null!==(xn=nn.children)&&void 0!==xn?xn:nn._loadedRoutes))}return(0,o.Q)(Ze).pipe((0,We.u)())}preloadConfig(he,Ee){return this.preloadingStrategy.preload(Ee,()=>{let Ze;Ze=Ee.loadChildren&&void 0===Ee.canLoad?this.loader.loadChildren(he,Ee):(0,$.of)(null);const it=Ze.pipe((0,j.O)(Wt=>{var xn;return null===Wt?(0,$.of)(void 0):(Ee._loadedRoutes=Wt.routes,Ee._loadedInjector=Wt.injector,this.processRoutes(null!==(xn=Wt.injector)&&void 0!==xn?xn:he,Wt.routes))}));if(Ee.loadComponent&&!Ee._loadedComponent){const Wt=this.loader.loadComponent(Ee);return(0,o.Q)([it,Wt]).pipe((0,We.u)())}return it})}}return(ae=me).\u0275fac=function(he){return new(he||ae)(y.CoB(ir),y.CoB(y.ESV),y.CoB(y.SIe),y.CoB(Pa),y.CoB(ei))},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),me})();const gs=new y.UbH("");let Bs=(()=>{var ae;class me{constructor(he,Ee,Ze,it,Wt={}){this.urlSerializer=he,this.transitions=Ee,this.viewportScroller=Ze,this.zone=it,this.options=Wt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Wt.scrollPositionRestoration||(Wt.scrollPositionRestoration="disabled"),Wt.anchorScrolling||(Wt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof Ut?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=he.navigationTrigger,this.restoredId=he.restoredState?he.restoredState.navigationId:0):he instanceof fn?(this.lastId=he.id,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.urlAfterRedirects).fragment)):he instanceof He&&he.code===Tt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof Kn&&(he.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(he.position):he.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(he.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(he,Ee){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kn(he,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ee))})},0)})}ngOnDestroy(){var he,Ee;null===(he=this.routerEventsSubscription)||void 0===he||he.unsubscribe(),null===(Ee=this.scrollEventsSubscription)||void 0===Ee||Ee.unsubscribe()}}return(ae=me).\u0275fac=function(he){y.KEo()},ae.\u0275prov=y.wxM({token:ae,factory:ae.\u0275fac}),me})();function Qr(ae,me){return{\u0275kind:ae,\u0275providers:me}}function Di(){const ae=(0,y.uUt)(y.zZn);return me=>{var be,he;const Ee=ae.get(y.Swk);if(me!==Ee.components[0])return;const Ze=ae.get(ir),it=ae.get(Cc);1===ae.get(Mi)&&Ze.initialNavigation(),null===(be=ae.get(As,null,y._6O.Optional))||void 0===be||be.setUpPreloading(),null===(he=ae.get(gs,null,y._6O.Optional))||void 0===he||he.init(),Ze.resetRootComponentType(Ee.componentTypes[0]),it.closed||(it.next(),it.complete(),it.unsubscribe())}}const Cc=new y.UbH("",{factory:()=>new c.E}),Mi=new y.UbH("",{providedIn:"root",factory:()=>1}),As=new y.UbH("");function Mh(ae){return Qr(0,[{provide:As,useExisting:wc},{provide:Pa,useExisting:ae}])}function Dc(ae){return Qr(9,[{provide:St,useValue:In},{provide:dn,useValue:{skipNextTransition:!(null==ae||!ae.skipInitialTransition),...ae}}])}const La=new y.UbH("ROUTER_FORROOT_GUARD"),Ii=[l.oB,{provide:Gt,useClass:ln},ir,Br,{provide:ur,useFactory:function Nl(ae){return ae.routerState.root},deps:[ir]},ei,[]];let Ti=(()=>{var ae;class me{constructor(he){}static forRoot(he,Ee){return{ngModule:me,providers:[Ii,[],{provide:Mo,multi:!0,useValue:he},{provide:La,useFactory:Fr,deps:[[ir,new y.T7N,new y.Qfh]]},{provide:Gr,useValue:Ee||{}},null!=Ee&&Ee.useHash?{provide:l.Qd,useClass:l.MP}:{provide:l.Qd,useClass:l.uC},{provide:gs,useFactory:()=>{const ae=(0,y.uUt)(l.YZ),me=(0,y.uUt)(y.WW2),be=(0,y.uUt)(Gr),he=(0,y.uUt)(sr),Ee=(0,y.uUt)(Gt);return be.scrollOffset&&ae.setOffset(be.scrollOffset),new Bs(Ee,he,ae,me,be)}},null!=Ee&&Ee.preloadingStrategy?Mh(Ee.preloadingStrategy).\u0275providers:[],null!=Ee&&Ee.initialNavigation?Th(Ee):[],null!=Ee&&Ee.bindToComponentInputs?Qr(8,[qo,{provide:po,useExisting:qo}]).\u0275providers:[],null!=Ee&&Ee.enableViewTransitions?Dc().\u0275providers:[],[{provide:ri,useFactory:Di},{provide:y.qid,multi:!0,useExisting:ri}]]}}static forChild(he){return{ngModule:me,providers:[{provide:Mo,multi:!0,useValue:he}]}}}return(ae=me).\u0275fac=function(he){return new(he||ae)(y.CoB(La,8))},ae.\u0275mod=y.a4G({type:ae}),ae.\u0275inj=y.s3X({}),me})();function Fr(ae){return"guarded"}function Th(ae){return["disabled"===ae.initialNavigation?Qr(3,[{provide:y.kZF,multi:!0,useFactory:()=>{const me=(0,y.uUt)(ir);return()=>{me.setUpLocationChangeListener()}}},{provide:Mi,useValue:2}]).\u0275providers:[],"enabledBlocking"===ae.initialNavigation?Qr(2,[{provide:Mi,useValue:0},{provide:y.kZF,multi:!0,deps:[y.zZn],useFactory:me=>{const be=me.get(l.mQ,Promise.resolve());return()=>be.then(()=>new Promise(he=>{const Ee=me.get(ir),Ze=me.get(Cc);es(Ee,()=>{he(!0)}),me.get(sr).afterPreactivation=()=>(he(!0),Ze.closed?(0,$.of)(void 0):Ze),Ee.initialNavigation()}))}}]).\u0275providers:[]]}const ri=new y.UbH("")},9240:(pn,jt,ge)=>{"use strict";ge.d(jt,{kh:()=>Re,_U:()=>zt,m2:()=>vt,Im:()=>H,Qz:()=>ze,Ej:()=>qe,sW:()=>ut,Cg:()=>Nn,CE:()=>_t,um:()=>kr,wX:()=>un,a6:()=>wt,gk:()=>ar,WU:()=>Pt,g5:()=>le,GY:()=>Q,uU:()=>cn,Al:()=>D,cl:()=>qt,ag:()=>an});var y=ge(1528),xe=ge(4496),rt=ge(3332),_e=ge(1368);class o{constructor(){this.m=new Map}reset(ct){this.m=new Map(Object.entries(ct))}get(ct,$e){const lt=this.m.get(ct);return void 0!==lt?lt:$e}getBoolean(ct,$e=!1){const lt=this.m.get(ct);return void 0===lt?$e:"string"==typeof lt?"true"===lt:!!lt}getNumber(ct,$e){const lt=parseFloat(this.m.get(ct));return isNaN(lt)?void 0!==$e?$e:NaN:lt}set(ct,$e){this.m.set(ct,$e)}}const $=new o,w=at=>a(at),a=(at=window)=>{if(typeof at>"u")return[];at.Ionic=at.Ionic||{};let ct=at.Ionic.platforms;return null==ct&&(ct=at.Ionic.platforms=d(at),ct.forEach($e=>at.document.documentElement.classList.add(`plt-${$e}`))),ct},d=at=>{const ct=$.get("platform");return Object.keys(z).filter($e=>{const lt=null==ct?void 0:ct[$e];return"function"==typeof lt?lt(at):z[$e](at)})},u=at=>!!(W(at,/iPad/i)||W(at,/Macintosh/i)&&N(at)),p=at=>W(at,/android|sink/i),N=at=>Y(at,"(any-pointer:coarse)"),j=at=>V(at)||k(at),V=at=>!!(at.cordova||at.phonegap||at.PhoneGap),k=at=>{const ct=at.Capacitor;return!(null==ct||!ct.isNative)},W=(at,ct)=>ct.test(at.navigator.userAgent),Y=(at,ct)=>{var $e;return null===($e=at.matchMedia)||void 0===$e?void 0:$e.call(at,ct).matches},z={ipad:u,iphone:at=>W(at,/iPhone/i),ios:at=>W(at,/iPhone|iPod/i)||u(at),android:p,phablet:at=>{const ct=at.innerWidth,$e=at.innerHeight,lt=Math.min(ct,$e),Ut=Math.max(ct,$e);return lt>390&&lt<520&&Ut>620&&Ut<800},tablet:at=>{const ct=at.innerWidth,$e=at.innerHeight,lt=Math.min(ct,$e),Ut=Math.max(ct,$e);return u(at)||(at=>p(at)&&!W(at,/mobile/i))(at)||lt>460&&lt<820&&Ut>780&&Ut<1400},cordova:V,capacitor:k,electron:at=>W(at,/electron/i),pwa:at=>{var ct;return!!(null!==(ct=at.matchMedia)&&void 0!==ct&&ct.call(at,"(display-mode: standalone)").matches||at.navigator.standalone)},mobile:N,mobileweb:at=>N(at)&&!j(at),desktop:at=>!N(at),hybrid:j};var ne=ge(1896),fe=ge(9248),De=ge(5657),K=ge(800),L=ge(6700),se=ge(6040),pe=ge(2700),Ce=ge(1316),Fe=ge(6684),We=ge(7368),tt=ge(528),Oe=ge(5448),ke=ge(7773);function je(at,ct){return at===ct}var Qe=ge(4716);const Ke=["tabsInner"];let Pt=(()=>{class at{constructor($e,lt){this.doc=$e,this.backButton=new De.E,this.keyboardDidShow=new De.E,this.keyboardDidHide=new De.E,this.pause=new De.E,this.resume=new De.E,this.resize=new De.E,lt.run(()=>{var Ut;let fn;this.win=$e.defaultView,this.backButton.subscribeWithPriority=function(An,Tt){return this.subscribe(Pe=>Pe.register(An,He=>lt.run(()=>Tt(He))))},Ft(this.pause,$e,"pause",lt),Ft(this.resume,$e,"resume",lt),Ft(this.backButton,$e,"ionBackButton",lt),Ft(this.resize,this.win,"resize",lt),Ft(this.keyboardDidShow,this.win,"ionKeyboardDidShow",lt),Ft(this.keyboardDidHide,this.win,"ionKeyboardDidHide",lt),this._readyPromise=new Promise(An=>{fn=An}),null!==(Ut=this.win)&&void 0!==Ut&&Ut.cordova?$e.addEventListener("deviceready",()=>{fn("cordova")},{once:!0}):fn("dom")})}is($e){return((at,ct)=>("string"==typeof at&&(ct=at,at=void 0),w(at).includes(ct)))(this.win,$e)}platforms(){return w(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam($e){return Jt(this.win.location.href,$e)}isLandscape(){return!this.isPortrait()}isPortrait(){var $e,lt;return null===($e=(lt=this.win).matchMedia)||void 0===$e?void 0:$e.call(lt,"(orientation: portrait)").matches}testUserAgent($e){const lt=this.win.navigator;return!!(null!=lt&&lt.userAgent&&lt.userAgent.indexOf($e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return at.\u0275fac=function($e){return new($e||at)(xe.CoB(_e.Ud),xe.CoB(xe.WW2))},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const Jt=(at,ct)=>{ct=ct.replace(/[[\]\\]/g,"\\$&");const lt=new RegExp("[\\?&]"+ct+"=([^&#]*)").exec(at);return lt?decodeURIComponent(lt[1].replace(/\+/g," ")):null},Ft=(at,ct,$e,lt)=>{ct&&ct.addEventListener($e,Ut=>{lt.run(()=>{at.next(null!=Ut?Ut.detail:void 0)})})};let un=(()=>{class at{constructor($e,lt,Ut,fn){this.location=lt,this.serializer=Ut,this.router=fn,this.direction=Yt,this.animated=kt,this.guessDirection="forward",this.lastNavId=-1,fn&&fn.events.subscribe(An=>{if(An instanceof rt.Qx){const Tt=An.restoredState?An.restoredState.navigationId:An.id;this.guessDirection=Tt<this.lastNavId?"back":"forward",this.guessAnimation=An.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?An.id:Tt}}),$e.backButton.subscribeWithPriority(0,An=>{this.pop(),An()})}navigateForward($e,lt={}){return this.setDirection("forward",lt.animated,lt.animationDirection,lt.animation),this.navigate($e,lt)}navigateBack($e,lt={}){return this.setDirection("back",lt.animated,lt.animationDirection,lt.animation),this.navigate($e,lt)}navigateRoot($e,lt={}){return this.setDirection("root",lt.animated,lt.animationDirection,lt.animation),this.navigate($e,lt)}back($e={animated:!0,animationDirection:"back"}){return this.setDirection("back",$e.animated,$e.animationDirection,$e.animation),this.location.back()}pop(){var $e=this;return(0,y.c)(function*(){let lt=$e.topOutlet;for(;lt;){if(yield lt.pop())return!0;lt=lt.parentOutlet}return!1})()}setDirection($e,lt,Ut,fn){this.direction=$e,this.animated=sn($e,lt,Ut),this.animationBuilder=fn}setTopOutlet($e){this.topOutlet=$e}consumeTransition(){let lt,$e="root";const Ut=this.animationBuilder;return"auto"===this.direction?($e=this.guessDirection,lt=this.guessAnimation):(lt=this.animated,$e=this.direction),this.direction=Yt,this.animated=kt,this.animationBuilder=void 0,{direction:$e,animation:lt,animationBuilder:Ut}}navigate($e,lt){if(Array.isArray($e))return this.router.navigate($e,lt);{const Ut=this.serializer.parse($e.toString());return void 0!==lt.queryParams&&(Ut.queryParams={...lt.queryParams}),void 0!==lt.fragment&&(Ut.fragment=lt.fragment),this.router.navigateByUrl(Ut,lt)}}}return at.\u0275fac=function($e){return new($e||at)(xe.CoB(Pt),xe.CoB(_e.oB),xe.CoB(rt.qd),xe.CoB(rt.E5,8))},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const sn=(at,ct,$e)=>{if(!1!==ct){if(void 0!==$e)return $e;if("forward"===at||"back"===at)return at;if("root"===at&&!0===ct)return"forward"}},Yt="auto",kt=void 0;let zt=(()=>{class at{get($e,lt){const Ut=Ht();return Ut?Ut.get($e,lt):null}getBoolean($e,lt){const Ut=Ht();return!!Ut&&Ut.getBoolean($e,lt)}getNumber($e,lt){const Ut=Ht();return Ut?Ut.getNumber($e,lt):0}}return at.\u0275fac=function($e){return new($e||at)},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const vt=new xe.UbH("USERCONFIG"),Ht=()=>{if(typeof window<"u"){const at=window.Ionic;if(null!=at&&at.config)return at.config}return null};class wt{constructor(ct={}){this.data=ct}get(ct){return this.data[ct]}}let Re=(()=>{class at{constructor(){this.zone=(0,xe.uUt)(xe.WW2),this.applicationRef=(0,xe.uUt)(xe.Swk)}create($e,lt,Ut){return new Ge($e,lt,this.applicationRef,this.zone,Ut)}}return at.\u0275fac=function($e){return new($e||at)},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac}),at})();class Ge{constructor(ct,$e,lt,Ut,fn){this.environmentInjector=ct,this.injector=$e,this.applicationRef=lt,this.zone=Ut,this.elementReferenceKey=fn,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ct,$e,lt,Ut){return this.zone.run(()=>new Promise(fn=>{const An={...lt};void 0!==this.elementReferenceKey&&(An[this.elementReferenceKey]=ct),fn(Te(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ct,$e,An,Ut,this.elementReferenceKey))}))}removeViewFromDom(ct,$e){return this.zone.run(()=>new Promise(lt=>{const Ut=this.elRefMap.get($e);if(Ut){Ut.destroy(),this.elRefMap.delete($e);const fn=this.elEventsMap.get($e);fn&&(fn(),this.elEventsMap.delete($e))}lt()}))}}const Te=(at,ct,$e,lt,Ut,fn,An,Tt,Pe,He,Mt)=>{const Ot=xe.zZn.create({providers:Gt(Pe),parent:$e}),$t=(0,xe.kdu)(Tt,{environmentInjector:ct,elementInjector:Ot}),oe=$t.instance,Ne=$t.location.nativeElement;if(Pe&&(Mt&&void 0!==oe[Mt]&&console.error(`[Ionic Error]: ${Mt} is a reserved property when using ${An.tagName.toLowerCase()}. Rename or remove the "${Mt}" property from ${Tt.name}.`),Object.assign(oe,Pe)),He)for(const Ve of He)Ne.classList.add(Ve);const ve=Et(at,oe,Ne);return An.appendChild(Ne),lt.attachView($t.hostView),Ut.set(Ne,$t),fn.set(Ne,ve),Ne},et=[ne.L,ne.a,ne.b,ne.c,ne.d],Et=(at,ct,$e)=>at.run(()=>{const lt=et.filter(Ut=>"function"==typeof ct[Ut]).map(Ut=>{const fn=An=>ct[Ut](An.detail);return $e.addEventListener(Ut,fn),()=>$e.removeEventListener(Ut,fn)});return()=>lt.forEach(Ut=>Ut())}),Rt=new xe.UbH("NavParamsToken"),Gt=at=>[{provide:Rt,useValue:at},{provide:wt,useFactory:ln,deps:[Rt]}],ln=at=>new wt(at),_n=(at,ct)=>{const $e=at.prototype;ct.forEach(lt=>{Object.defineProperty($e,lt,{get(){return this.el[lt]},set(Ut){this.z.runOutsideAngular(()=>this.el[lt]=Ut)}})})},wn=(at,ct)=>{const $e=at.prototype;ct.forEach(lt=>{$e[lt]=function(){const Ut=arguments;return this.z.runOutsideAngular(()=>this.el[lt].apply(this.el,Ut))}})},Dt=(at,ct,$e)=>{$e.forEach(lt=>at[lt]=(0,K.w)(ct,lt))};function xt(at){return function($e){const{defineCustomElementFn:lt,inputs:Ut,methods:fn}=at;return void 0!==lt&&lt(),Ut&&_n($e,Ut),fn&&wn($e,fn),$e}}const ot=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Ye=["present","dismiss","onDidDismiss","onWillDismiss"];let ut=(()=>{let at=class{constructor($e,lt,Ut){this.z=Ut,this.isCmpOpen=!1,this.el=lt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,$e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,$e.detectChanges()}),Dt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return at.\u0275fac=function($e){return new($e||at)(xe.GI1(xe.kD9),xe.GI1(xe.GMv),xe.GI1(xe.WW2))},at.\u0275dir=xe.Sc5({type:at,selectors:[["ion-popover"]],contentQueries:function($e,lt,Ut){if(1&$e&&xe.szK(Ut,xe.Yw2,5),2&$e){let fn;xe.wto(fn=xe.Gqi())&&(lt.template=fn.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),at=(0,Ce.UN)([xt({inputs:ot,methods:Ye})],at),at})();const Ct=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],rn=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let ze=(()=>{let at=class{constructor($e,lt,Ut){this.z=Ut,this.isCmpOpen=!1,this.el=lt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,$e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,$e.detectChanges()}),Dt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return at.\u0275fac=function($e){return new($e||at)(xe.GI1(xe.kD9),xe.GI1(xe.GMv),xe.GI1(xe.WW2))},at.\u0275dir=xe.Sc5({type:at,selectors:[["ion-modal"]],contentQueries:function($e,lt,Ut){if(1&$e&&xe.szK(Ut,xe.Yw2,5),2&$e){let fn;xe.wto(fn=xe.Gqi())&&(lt.template=fn.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),at=(0,Ce.UN)([xt({inputs:Ct,methods:rn})],at),at})();const Nt=(at,ct)=>((at=at.filter($e=>$e.stackId!==ct.stackId)).push(ct),at),hn=(at,ct)=>{const $e=at.createUrlTree(["."],{relativeTo:ct});return at.serializeUrl($e)},vn=(at,ct)=>!ct||at.stackId!==ct.stackId,En=(at,ct)=>{if(!at)return;const $e=Cn(ct);for(let lt=0;lt<$e.length;lt++){if(lt>=at.length)return $e[lt];if($e[lt]!==at[lt])return}},Cn=at=>at.split("/").map(ct=>ct.trim()).filter(ct=>""!==ct),Sn=at=>{at&&(at.ref.destroy(),at.unlistenEvents())};class tr{constructor(ct,$e,lt,Ut,fn,An){this.containerEl=$e,this.router=lt,this.navCtrl=Ut,this.zone=fn,this.location=An,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ct?Cn(ct):void 0}createView(ct,$e){var lt;const Ut=hn(this.router,$e),fn=null==ct||null===(lt=ct.location)||void 0===lt?void 0:lt.nativeElement,An=Et(this.zone,ct.instance,fn);return{id:this.nextId++,stackId:En(this.tabsPrefix,Ut),unlistenEvents:An,element:fn,ref:ct,url:Ut}}getExistingView(ct){const $e=hn(this.router,ct),lt=this.views.find(Ut=>Ut.url===$e);return lt&&lt.ref.changeDetectorRef.reattach(),lt}setActive(ct){var $e,lt;const Ut=this.navCtrl.consumeTransition();let{direction:fn,animation:An,animationBuilder:Tt}=Ut;const Pe=this.activeView,He=vn(ct,Pe);He&&(fn="back",An=void 0);const Mt=this.views.slice();let Ot;const $t=this.router;$t.getCurrentNavigation?Ot=$t.getCurrentNavigation():null!==($e=$t.navigations)&&void 0!==$e&&$e.value&&(Ot=$t.navigations.value),null!==(lt=Ot)&&void 0!==lt&&null!==(lt=lt.extras)&&void 0!==lt&&lt.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const oe=this.views.includes(ct),Ne=this.insertView(ct,fn);oe||ct.ref.changeDetectorRef.detectChanges();const ve=ct.animationBuilder;return void 0===Tt&&"back"===fn&&!He&&void 0!==ve&&(Tt=ve),Pe&&(Pe.animationBuilder=Tt),this.zone.runOutsideAngular(()=>this.wait(()=>(Pe&&Pe.ref.changeDetectorRef.detach(),ct.ref.changeDetectorRef.reattach(),this.transition(ct,Pe,An,this.canGoBack(1),!1,Tt).then(()=>nr(ct,Ne,Mt,this.location,this.zone)).then(()=>({enteringView:ct,direction:fn,animation:An,tabSwitch:He})))))}canGoBack(ct,$e=this.getActiveStackId()){return this.getStack($e).length>ct}pop(ct,$e=this.getActiveStackId()){return this.zone.run(()=>{const lt=this.getStack($e);if(lt.length<=ct)return Promise.resolve(!1);const Ut=lt[lt.length-ct-1];let fn=Ut.url;const An=Ut.savedData;if(An){var Tt;const He=An.get("primary");null!=He&&null!==(Tt=He.route)&&void 0!==Tt&&null!==(Tt=Tt._routerState)&&void 0!==Tt&&Tt.snapshot.url&&(fn=He.route._routerState.snapshot.url)}const{animationBuilder:Pe}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(fn,{...Ut.savedExtras,animation:Pe}).then(()=>!0)})}startBackTransition(){const ct=this.activeView;if(ct){const $e=this.getStack(ct.stackId),lt=$e[$e.length-2],Ut=lt.animationBuilder;return this.wait(()=>this.transition(lt,ct,"back",this.canGoBack(2),!0,Ut))}return Promise.resolve()}endBackTransition(ct){ct?(this.skipTransition=!0,this.pop(1)):this.activeView&&Wn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ct){const $e=this.getStack(ct);return $e.length>0?$e[$e.length-1]:void 0}getRootUrl(ct){const $e=this.getStack(ct);return $e.length>0?$e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Sn),this.activeView=void 0,this.views=[]}getStack(ct){return this.views.filter($e=>$e.stackId===ct)}insertView(ct,$e){return this.activeView=ct,this.views=((at,ct,$e)=>"root"===$e?Nt(at,ct):"forward"===$e?((at,ct)=>(at.indexOf(ct)>=0?at=at.filter(lt=>lt.stackId!==ct.stackId||lt.id<=ct.id):at.push(ct),at))(at,ct):((at,ct)=>at.indexOf(ct)>=0?at.filter(lt=>lt.stackId!==ct.stackId||lt.id<=ct.id):Nt(at,ct))(at,ct))(this.views,ct,$e),this.views.slice()}transition(ct,$e,lt,Ut,fn,An){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if($e===ct)return Promise.resolve(!1);const Tt=ct?ct.element:void 0,Pe=$e?$e.element:void 0,He=this.containerEl;return Tt&&Tt!==Pe&&(Tt.classList.add("ion-page"),Tt.classList.add("ion-page-invisible"),Tt.parentElement!==He&&He.appendChild(Tt),He.commit)?He.commit(Tt,Pe,{duration:void 0===lt?0:void 0,direction:lt,showGoBack:Ut,progressAnimation:fn,animationBuilder:An}):Promise.resolve(!1)}wait(ct){var $e=this;return(0,y.c)(function*(){void 0!==$e.runningTask&&(yield $e.runningTask,$e.runningTask=void 0);const lt=$e.runningTask=ct();return lt.finally(()=>$e.runningTask=void 0),lt})()}}const nr=(at,ct,$e,lt,Ut)=>"function"==typeof requestAnimationFrame?new Promise(fn=>{requestAnimationFrame(()=>{Wn(at,ct,$e,lt,Ut),fn()})}):Promise.resolve(),Wn=(at,ct,$e,lt,Ut)=>{Ut.run(()=>$e.filter(fn=>!ct.includes(fn)).forEach(Sn)),ct.forEach(fn=>{const Tt=lt.path().split("?")[0].split("#")[0];if(fn!==at&&fn.url!==Tt){const Pe=fn.element;Pe.setAttribute("aria-hidden","true"),Pe.classList.add("ion-page-hidden"),fn.ref.changeDetectorRef.detach()}})};let Nn=(()=>{class at{constructor($e,lt,Ut,fn,An,Tt,Pe,He){this.parentOutlet=He,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new L.g(null),this.activated=null,this._activatedRoute=null,this.name=rt.gf,this.stackWillChange=new xe._w7,this.stackDidChange=new xe._w7,this.activateEvents=new xe._w7,this.deactivateEvents=new xe._w7,this.parentContexts=(0,xe.uUt)(rt.O4),this.location=(0,xe.uUt)(xe.y8U),this.environmentInjector=(0,xe.uUt)(xe.SIe),this.inputBinder=(0,xe.uUt)(ie,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,xe.uUt)(zt),this.navCtrl=(0,xe.uUt)(un),this.nativeEl=fn.nativeElement,this.name=$e||rt.gf,this.tabsPrefix="true"===lt?hn(An,Pe):void 0,this.stackCtrl=new tr(this.tabsPrefix,this.nativeEl,An,this.navCtrl,Tt,Ut),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation($e){this.nativeEl.animation=$e}set animated($e){this.nativeEl.animated=$e}set swipeGesture($e){this._swipeGesture=$e,this.nativeEl.swipeHandler=$e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:lt=>this.stackCtrl.endBackTransition(lt)}:void 0}ngOnDestroy(){var $e;this.stackCtrl.destroy(),null===($e=this.inputBinder)||void 0===$e||$e.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const $e=this.getContext();null!=$e&&$e.route&&this.activateWith($e.route,$e.injector)}new Promise($e=>(0,fe.c)(this.nativeEl,$e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach($e,lt){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const lt=this.getContext();this.activatedView.savedData=new Map(lt.children.contexts);const Ut=this.activatedView.savedData.get("primary");if(Ut&&lt.route&&(Ut.route={...lt.route}),this.activatedView.savedExtras={},lt.route){const fn=lt.route.snapshot;this.activatedView.savedExtras.queryParams=fn.queryParams,this.activatedView.savedExtras.fragment=fn.fragment}}const $e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit($e)}}activateWith($e,lt){var Ut;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=$e;let fn,An=this.stackCtrl.getExistingView($e);if(An){fn=this.activated=An.ref;const He=An.savedData;He&&(this.getContext().children.contexts=He),this.updateActivatedRouteProxy(fn.instance,$e)}else{var Tt;const He=$e._futureSnapshot,Mt=this.parentContexts.getOrCreateContext(this.name).children,Ot=new L.g(null),$t=this.createActivatedRouteProxy(Ot,$e),oe=new ee($t,Mt,this.location.injector),Ne=null!==(Tt=He.routeConfig.component)&&void 0!==Tt?Tt:He.component;fn=this.activated=this.location.createComponent(Ne,{index:this.location.length,injector:oe,environmentInjector:null!=lt?lt:this.environmentInjector}),Ot.next(fn.instance),An=this.stackCtrl.createView(this.activated,$e),this.proxyMap.set(fn.instance,$t),this.currentActivatedRoute$.next({component:fn.instance,activatedRoute:$e})}null===(Ut=this.inputBinder)||void 0===Ut||Ut.bindActivatedRouteToOutletComponent(this),this.activatedView=An,this.navCtrl.setTopOutlet(this);const Pe=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:An,tabSwitch:vn(An,Pe)}),this.stackCtrl.setActive(An).then(He=>{this.activateEvents.emit(fn.instance),this.stackDidChange.emit(He)})}canGoBack($e=1,lt){return this.stackCtrl.canGoBack($e,lt)}pop($e=1,lt){return this.stackCtrl.pop($e,lt)}getLastUrl($e){const lt=this.stackCtrl.getLastUrl($e);return lt?lt.url:void 0}getLastRouteView($e){return this.stackCtrl.getLastUrl($e)}getRootView($e){return this.stackCtrl.getRootUrl($e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy($e,lt){const Ut=new rt.gV;return Ut._futureSnapshot=lt._futureSnapshot,Ut._routerState=lt._routerState,Ut.snapshot=lt.snapshot,Ut.outlet=lt.outlet,Ut.component=lt.component,Ut._paramMap=this.proxyObservable($e,"paramMap"),Ut._queryParamMap=this.proxyObservable($e,"queryParamMap"),Ut.url=this.proxyObservable($e,"url"),Ut.params=this.proxyObservable($e,"params"),Ut.queryParams=this.proxyObservable($e,"queryParams"),Ut.fragment=this.proxyObservable($e,"fragment"),Ut.data=this.proxyObservable($e,"data"),Ut}proxyObservable($e,lt){return $e.pipe((0,Fe.I)(Ut=>!!Ut),(0,We.G)(Ut=>this.currentActivatedRoute$.pipe((0,Fe.I)(fn=>null!==fn&&fn.component===Ut),(0,We.G)(fn=>fn&&fn.activatedRoute[lt]),function Be(at,ct=tt.Z){return at=null!=at?at:je,(0,Oe.i)(($e,lt)=>{let Ut,fn=!0;$e.subscribe((0,ke.e)(lt,An=>{const Tt=ct(An);(fn||!at(Ut,Tt))&&(fn=!1,Ut=Tt,lt.next(An))}))})}())))}updateActivatedRouteProxy($e,lt){const Ut=this.proxyMap.get($e);if(!Ut)throw new Error("Could not find activated route proxy for view");Ut._futureSnapshot=lt._futureSnapshot,Ut._routerState=lt._routerState,Ut.snapshot=lt.snapshot,Ut.outlet=lt.outlet,Ut.component=lt.component,this.currentActivatedRoute$.next({component:$e,activatedRoute:lt})}}return at.\u0275fac=function($e){return new($e||at)(xe.gJ8("name"),xe.gJ8("tabs"),xe.GI1(_e.oB),xe.GI1(xe.GMv),xe.GI1(rt.E5),xe.GI1(xe.WW2),xe.GI1(rt.gV),xe.GI1(at,12))},at.\u0275dir=xe.Sc5({type:at,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),at})();class ee{constructor(ct,$e,lt){this.route=ct,this.childContexts=$e,this.parent=lt}get(ct,$e){return ct===rt.gV?this.route:ct===rt.O4?this.childContexts:this.parent.get(ct,$e)}}const ie=new xe.UbH("");let we=(()=>{class at{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent($e){this.unsubscribeFromRouteData($e),this.subscribeToRouteData($e)}unsubscribeFromRouteData($e){var lt;null===(lt=this.outletDataSubscriptions.get($e))||void 0===lt||lt.unsubscribe(),this.outletDataSubscriptions.delete($e)}subscribeToRouteData($e){const{activatedRoute:lt}=$e,Ut=(0,se.E)([lt.queryParams,lt.params,lt.data]).pipe((0,We.G)(([fn,An,Tt],Pe)=>(Tt={...fn,...An,...Tt},0===Pe?(0,pe.of)(Tt):Promise.resolve(Tt)))).subscribe(fn=>{if(!$e.isActivated||!$e.activatedComponentRef||$e.activatedRoute!==lt||null===lt.component)return void this.unsubscribeFromRouteData($e);const An=(0,xe.o9M)(lt.component);if(An)for(const{templateName:Tt}of An.inputs)$e.activatedComponentRef.setInput(Tt,fn[Tt]);else this.unsubscribeFromRouteData($e)});this.outletDataSubscriptions.set($e,Ut)}}return at.\u0275fac=function($e){return new($e||at)},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac}),at})();const D=()=>({provide:ie,useFactory:R,deps:[rt.E5]});function R(at){return null!=at&&at.componentInputBindingEnabled?new we:null}const U=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let H=(()=>{let at=class{constructor($e,lt,Ut,fn,An,Tt){this.routerOutlet=$e,this.navCtrl=lt,this.config=Ut,this.r=fn,this.z=An,Tt.detach(),this.el=this.r.nativeElement}onClick($e){var lt;const Ut=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(lt=this.routerOutlet)&&void 0!==lt&&lt.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),$e.preventDefault()):null!=Ut&&(this.navCtrl.navigateBack(Ut,{animation:this.routerAnimation}),$e.preventDefault())}};return at.\u0275fac=function($e){return new($e||at)(xe.GI1(Nn,8),xe.GI1(un),xe.GI1(zt),xe.GI1(xe.GMv),xe.GI1(xe.WW2),xe.GI1(xe.kD9))},at.\u0275dir=xe.Sc5({type:at,hostBindings:function($e,lt){1&$e&&xe.qCj("click",function(fn){return lt.onClick(fn)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),at=(0,Ce.UN)([xt({inputs:U})],at),at})(),le=(()=>{class at{constructor($e,lt,Ut,fn,An){this.locationStrategy=$e,this.navCtrl=lt,this.elementRef=Ut,this.router=fn,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var $e;if(null!==($e=this.routerLink)&&void 0!==$e&&$e.urlTree){const lt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=lt}}onClick($e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),$e.preventDefault()}}return at.\u0275fac=function($e){return new($e||at)(xe.GI1(_e.Qd),xe.GI1(un),xe.GI1(xe.GMv),xe.GI1(rt.E5),xe.GI1(rt.ER,8))},at.\u0275dir=xe.Sc5({type:at,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function($e,lt){1&$e&&xe.qCj("click",function(fn){return lt.onClick(fn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[xe.SYr]}),at})(),Q=(()=>{class at{constructor($e,lt,Ut,fn,An){this.locationStrategy=$e,this.navCtrl=lt,this.elementRef=Ut,this.router=fn,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var $e;if(null!==($e=this.routerLink)&&void 0!==$e&&$e.urlTree){const lt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=lt}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return at.\u0275fac=function($e){return new($e||at)(xe.GI1(_e.Qd),xe.GI1(un),xe.GI1(xe.GMv),xe.GI1(rt.E5),xe.GI1(rt.ER,8))},at.\u0275dir=xe.Sc5({type:at,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function($e,lt){1&$e&&xe.qCj("click",function(){return lt.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[xe.SYr]}),at})();const ye=["animated","animation","root","rootParams","swipeGesture"],Me=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let qe=(()=>{let at=class{constructor($e,lt,Ut,fn,An,Tt){this.z=An,Tt.detach(),this.el=$e.nativeElement,$e.nativeElement.delegate=fn.create(lt,Ut),Dt(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return at.\u0275fac=function($e){return new($e||at)(xe.GI1(xe.GMv),xe.GI1(xe.SIe),xe.GI1(xe.zZn),xe.GI1(Re),xe.GI1(xe.WW2),xe.GI1(xe.kD9))},at.\u0275dir=xe.Sc5({type:at,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),at=(0,Ce.UN)([xt({inputs:ye,methods:Me})],at),at})(),_t=(()=>{class at{constructor($e){this.navCtrl=$e,this.ionTabsWillChange=new xe._w7,this.ionTabsDidChange=new xe._w7,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:$e,tabSwitch:lt}){const Ut=$e.stackId;lt&&void 0!==Ut&&this.ionTabsWillChange.emit({tab:Ut})}onStackDidChange({enteringView:$e,tabSwitch:lt}){const Ut=$e.stackId;lt&&void 0!==Ut&&(this.tabBar&&(this.tabBar.selectedTab=Ut),this.ionTabsDidChange.emit({tab:Ut}))}select($e){const lt="string"==typeof $e,Ut=lt?$e:$e.detail.tab,fn=this.outlet.getActiveStackId()===Ut,An=`${this.outlet.tabsPrefix}/${Ut}`;if(lt||$e.stopPropagation(),fn){const Tt=this.outlet.getActiveStackId(),Pe=this.outlet.getLastRouteView(Tt);if((null==Pe?void 0:Pe.url)===An)return;const He=this.outlet.getRootView(Ut);return this.navCtrl.navigateRoot(An,{...He&&An===He.url&&He.savedExtras,animated:!0,animationDirection:"back"})}{const Tt=this.outlet.getLastRouteView(Ut);return this.navCtrl.navigateRoot((null==Tt?void 0:Tt.url)||An,{...null==Tt?void 0:Tt.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach($e=>{const lt=$e.el.getAttribute("slot");lt!==this.tabBarSlot&&(this.tabBarSlot=lt,this.relocateTabBar())})}relocateTabBar(){const $e=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before($e):this.tabsInner.nativeElement.after($e)}}return at.\u0275fac=function($e){return new($e||at)(xe.GI1(un))},at.\u0275dir=xe.Sc5({type:at,selectors:[["ion-tabs"]],viewQuery:function($e,lt){if(1&$e&&xe.CC$(Ke,7,xe.GMv),2&$e){let Ut;xe.wto(Ut=xe.Gqi())&&(lt.tabsInner=Ut.first)}},hostBindings:function($e,lt){1&$e&&xe.qCj("ionTabButtonClick",function(fn){return lt.select(fn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),at})();const qt=at=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(at):"function"==typeof requestAnimationFrame?requestAnimationFrame(at):setTimeout(at);let cn=(()=>{class at{constructor($e,lt){this.injector=$e,this.elementRef=lt,this.onChange=()=>{},this.onTouched=()=>{}}writeValue($e){this.elementRef.nativeElement.value=this.lastValue=$e,an(this.elementRef)}handleValueChange($e,lt){$e===this.elementRef.nativeElement&&(lt!==this.lastValue&&(this.lastValue=lt,this.onChange(lt)),an(this.elementRef))}_handleBlurEvent($e){$e===this.elementRef.nativeElement&&(this.onTouched(),an(this.elementRef))}registerOnChange($e){this.onChange=$e}registerOnTouched($e){this.onTouched=$e}setDisabledState($e){this.elementRef.nativeElement.disabled=$e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let $e;try{$e=this.injector.get(Qe.eq)}catch{}if(!$e)return;$e.statusChanges&&(this.statusChanges=$e.statusChanges.subscribe(()=>an(this.elementRef)));const lt=$e.control;lt&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(fn=>{if(typeof lt[fn]<"u"){const An=lt[fn].bind(lt);lt[fn]=(...Tt)=>{An(...Tt),an(this.elementRef)}}})}}return at.\u0275fac=function($e){return new($e||at)(xe.GI1(xe.zZn),xe.GI1(xe.GMv))},at.\u0275dir=xe.Sc5({type:at,hostBindings:function($e,lt){1&$e&&xe.qCj("ionBlur",function(fn){return lt._handleBlurEvent(fn.target)})}}),at})();const an=at=>{qt(()=>{const ct=at.nativeElement,$e=null!=ct.value&&ct.value.toString().length>0,lt=On(ct);zn(ct,lt);const Ut=ct.closest("ion-item");Ut&&zn(Ut,$e?[...lt,"item-has-value"]:lt)})},On=at=>{const ct=at.classList,$e=[];for(let lt=0;lt<ct.length;lt++){const Ut=ct.item(lt);null!==Ut&&Gn(Ut,"ng-")&&$e.push(`ion-${Ut.substring(3)}`)}return $e},zn=(at,ct)=>{const $e=at.classList;$e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),$e.add(...ct)},Gn=(at,ct)=>at.substring(0,ct.length)===ct;class kr{shouldDetach(ct){return!1}shouldAttach(ct){return!1}store(ct,$e){}retrieve(ct){return null}shouldReuseRoute(ct,$e){if(ct.routeConfig!==$e.routeConfig)return!1;const lt=ct.params,Ut=$e.params,fn=Object.keys(lt),An=Object.keys(Ut);if(fn.length!==An.length)return!1;for(const Tt of fn)if(Ut[Tt]!==lt[Tt])return!1;return!0}}class ar{constructor(ct){this.ctrl=ct}create(ct){return this.ctrl.create(ct||{})}dismiss(ct,$e,lt){return this.ctrl.dismiss(ct,$e,lt)}getTop(){return this.ctrl.getTop()}}},5624:(pn,jt,ge)=>{"use strict";ge.d(jt,{iW:()=>ar,UJ:()=>p,cm:()=>I,qU:()=>W,qk:()=>te,O7:()=>J,Im:()=>Me,Gi:()=>ne,sn:()=>K,GS:()=>L,KC:()=>se,Gg:()=>pe,YY:()=>Ce,MN:()=>Fe,I7:()=>We,ew:()=>tt,cz:()=>Oe,Kk:()=>ke,_i:()=>Be,on:()=>je,eV:()=>yt,YP:()=>Pt,wB:()=>Jt,Ko:()=>Ft,A5:()=>kt,Yb:()=>zt,S8:()=>vt,QR:()=>Te,OC:()=>et,zz:()=>Et,W9:()=>kr,yc:()=>cn,sW:()=>an,CS:()=>Ye,ue:()=>ut,Cg:()=>Q,qo:()=>Xt,Cy:()=>Cn,gd:()=>Sn,mx:()=>Nn,ej:()=>ee,CE:()=>ye,tM:()=>R,E$:()=>H,Md:()=>le,wZ:()=>$t,Kg:()=>lt,qS:()=>fn,Ch:()=>b,Gv:()=>M,IT:()=>F,qG:()=>N});var y=ge(4496),xe=ge(4716),rt=ge(9240),_e=ge(1316),o=ge(800),$=ge(1368),S=ge(3332),v=ge(4708),h=ge(1528),f=ge(3716);const w=ge(1780).i,i=function(){var oe=(0,h.c)(function*(Ne,ve){if(!(typeof window>"u"))return yield w(),(0,f.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ve)});return function(ve,Ve){return oe.apply(this,arguments)}}(),a=["*"],d=["outlet"],c=[[["","slot","top"]],"*"],u=["[slot=top]","*"];function l(oe,Ne){if(1&oe&&(y.I0R(0,"div",1),y.C_f(1,2),y.C$Y()),2&oe){const ve=y.GaO();y.yG2(),y.E7m("ngTemplateOutlet",ve.template)}}function m(oe,Ne){if(1&oe&&y.C_f(0,1),2&oe){const ve=y.GaO();y.E7m("ngTemplateOutlet",ve.template)}}let p=(()=>{class oe extends rt.uU{constructor(ve,Ve){super(ve,Ve)}writeValue(ve){this.elementRef.nativeElement.checked=this.lastValue=ve,(0,rt.ag)(this.elementRef)}_handleIonChange(ve){this.handleValueChange(ve,ve.checked)}}return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.zZn),y.GI1(y.GMv))},oe.\u0275dir=y.Sc5({type:oe,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(ve,Ve){1&ve&&y.qCj("ionChange",function(Qt){return Ve._handleIonChange(Qt.target)})},features:[y.M5G([{provide:xe.Y6,useExisting:oe,multi:!0}]),y.eg9]}),oe})(),b=(()=>{class oe extends rt.uU{constructor(ve,Ve){super(ve,Ve)}handleInputEvent(ve){this.handleValueChange(ve,ve.value)}registerOnChange(ve){super.registerOnChange(Ve=>{ve(""===Ve?null:parseFloat(Ve))})}}return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.zZn),y.GI1(y.GMv))},oe.\u0275dir=y.Sc5({type:oe,selectors:[["ion-input","type","number"]],hostBindings:function(ve,Ve){1&ve&&y.qCj("ionInput",function(Qt){return Ve.handleInputEvent(Qt.target)})},features:[y.M5G([{provide:xe.Y6,useExisting:oe,multi:!0}]),y.eg9]}),oe})(),M=(()=>{class oe extends rt.uU{constructor(ve,Ve){super(ve,Ve)}_handleIonSelect(ve){this.handleValueChange(ve,ve.checked)}}return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.zZn),y.GI1(y.GMv))},oe.\u0275dir=y.Sc5({type:oe,selectors:[["ion-radio"]],hostBindings:function(ve,Ve){1&ve&&y.qCj("ionSelect",function(Qt){return Ve._handleIonSelect(Qt.target)})},features:[y.M5G([{provide:xe.Y6,useExisting:oe,multi:!0}]),y.eg9]}),oe})(),F=(()=>{class oe extends rt.uU{constructor(ve,Ve){super(ve,Ve)}_handleChangeEvent(ve){this.handleValueChange(ve,ve.value)}}return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.zZn),y.GI1(y.GMv))},oe.\u0275dir=y.Sc5({type:oe,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(ve,Ve){1&ve&&y.qCj("ionChange",function(Qt){return Ve._handleChangeEvent(Qt.target)})},features:[y.M5G([{provide:xe.Y6,useExisting:oe,multi:!0}]),y.eg9]}),oe})(),N=(()=>{class oe extends rt.uU{constructor(ve,Ve){super(ve,Ve)}_handleInputEvent(ve){this.handleValueChange(ve,ve.value)}}return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.zZn),y.GI1(y.GMv))},oe.\u0275dir=y.Sc5({type:oe,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(ve,Ve){1&ve&&y.qCj("ionInput",function(Qt){return Ve._handleInputEvent(Qt.target)})},features:[y.M5G([{provide:xe.Y6,useExisting:oe,multi:!0}]),y.eg9]}),oe})();const P=(oe,Ne)=>{const ve=oe.prototype;Ne.forEach(Ve=>{Object.defineProperty(ve,Ve,{get(){return this.el[Ve]},set(pt){this.z.runOutsideAngular(()=>this.el[Ve]=pt)},configurable:!0})})},j=(oe,Ne)=>{const ve=oe.prototype;Ne.forEach(Ve=>{ve[Ve]=function(){const pt=arguments;return this.z.runOutsideAngular(()=>this.el[Ve].apply(this.el,pt))}})},V=(oe,Ne,ve)=>{ve.forEach(Ve=>oe[Ve]=(0,o.w)(Ne,Ve))};function E(oe){return function(ve){const{defineCustomElementFn:Ve,inputs:pt,methods:Qt}=oe;return void 0!==Ve&&Ve(),pt&&P(ve,pt),Qt&&j(ve,Qt),ve}}let I=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],oe),oe})(),W=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],oe),oe})(),te=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-app"]],ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({})],oe),oe})(),J=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-avatar"]],ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({})],oe),oe})(),ne=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","mode"]})],oe),oe})(),K=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionFocus","ionBlur"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],oe),oe})(),L=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["collapse"]})],oe),oe})(),se=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],oe),oe})(),pe=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["mode"]})],oe),oe})(),Ce=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","mode","translucent"]})],oe),oe})(),Fe=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","mode"]})],oe),oe})(),We=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","mode"]})],oe),oe})(),tt=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange","ionFocus","ionBlur"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],oe),oe})(),Oe=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","disabled","mode","outline"]})],oe),oe})(),ke=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],oe),oe})(),Be=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],oe),oe})(),je=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],oe),oe})(),yt=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["collapse","mode","translucent"]})],oe),oe})(),Pt=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["fixed"]})],oe),oe})(),Jt=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["collapse","mode","translucent"]})],oe),oe})(),Ft=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],oe),oe})(),kt=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],oe),oe})(),zt=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],oe),oe})(),vt=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","mode","sticky"]})],oe),oe})(),Te=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","mode","position"]})],oe),oe})(),et=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],oe),oe})(),Et=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","lines","mode"]})],oe),oe})(),Ye=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionFocus","ionBlur"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["alignment","color","disabled","justify","labelPlacement","legacy","mode","name","value"]})],oe),oe})(),ut=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["allowEmptySelection","compareWith","name","value"]})],oe),oe})(),Xt=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-row"]],ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({})],oe),oe})(),Cn=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],oe),oe})(),Sn=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["disabled","value"]})],oe),oe})(),Nn=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","mode","selectedTab","translucent"]})],oe),oe})(),ee=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],oe),oe})(),R=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","size"]})],oe),oe})(),H=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange","ionFocus","ionBlur"])}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],oe),oe})(),le=(()=>{let oe=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(y.kD9),y.GI1(y.GMv),y.GI1(y.WW2))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe=(0,_e.UN)([E({inputs:["color","mode"]})],oe),oe})(),Q=(()=>{class oe extends rt.Cg{constructor(ve,Ve,pt,Qt,Dn,jn,qn,Kn){super(ve,Ve,pt,Qt,Dn,jn,qn,Kn),this.parentOutlet=Kn}}return oe.\u0275fac=function(ve){return new(ve||oe)(y.gJ8("name"),y.gJ8("tabs"),y.GI1($.oB),y.GI1(y.GMv),y.GI1(S.E5),y.GI1(y.WW2),y.GI1(S.gV),y.GI1(oe,12))},oe.\u0275dir=y.Sc5({type:oe,selectors:[["ion-router-outlet"]],features:[y.eg9]}),oe})(),ye=(()=>{class oe extends rt.CE{}return oe.\u0275fac=(()=>{let Ne;return function(Ve){return(Ne||(Ne=y.otF(oe)))(Ve||oe)}})(),oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-tabs"]],contentQueries:function(ve,Ve,pt){if(1&ve&&(y.szK(pt,Nn,5),y.szK(pt,Nn,4)),2&ve){let Qt;y.wto(Qt=y.Gqi())&&(Ve.tabBar=Qt.first),y.wto(Qt=y.Gqi())&&(Ve.tabBars=Qt)}},viewQuery:function(ve,Ve){if(1&ve&&y.CC$(d,5,Q),2&ve){let pt;y.wto(pt=y.Gqi())&&(Ve.outlet=pt.first)}},features:[y.eg9],ngContentSelectors:u,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(ve,Ve){1&ve&&(y.kPM(c),y._Xx(0),y.I0R(1,"div",0,1)(3,"ion-router-outlet",2,3),y.qCj("stackWillChange",function(Qt){return Ve.onStackWillChange(Qt)})("stackDidChange",function(Qt){return Ve.onStackDidChange(Qt)}),y.C$Y()(),y._Xx(5,1))},dependencies:[Q],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),oe})(),Me=(()=>{class oe extends rt.Im{constructor(ve,Ve,pt,Qt,Dn,jn){super(ve,Ve,pt,Qt,Dn,jn)}}return oe.\u0275fac=function(ve){return new(ve||oe)(y.GI1(Q,8),y.GI1(rt.wX),y.GI1(rt._U),y.GI1(y.GMv),y.GI1(y.WW2),y.GI1(y.kD9))},oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-back-button"]],features:[y.eg9],ngContentSelectors:a,decls:1,vars:0,template:function(ve,Ve){1&ve&&(y.kPM(),y._Xx(0))},encapsulation:2,changeDetection:0}),oe})(),cn=(()=>{class oe extends rt.Qz{}return oe.\u0275fac=(()=>{let Ne;return function(Ve){return(Ne||(Ne=y.otF(oe)))(Ve||oe)}})(),oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-modal"]],features:[y.eg9],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(ve,Ve){1&ve&&y.yuY(0,l,2,1,"div",0),2&ve&&y.E7m("ngIf",Ve.isCmpOpen||Ve.keepContentsMounted)},dependencies:[$.u_,$.XV],encapsulation:2,changeDetection:0}),oe})(),an=(()=>{class oe extends rt.sW{}return oe.\u0275fac=(()=>{let Ne;return function(Ve){return(Ne||(Ne=y.otF(oe)))(Ve||oe)}})(),oe.\u0275cmp=y.In1({type:oe,selectors:[["ion-popover"]],features:[y.eg9],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(ve,Ve){1&ve&&y.yuY(0,m,1,1,"ng-container",0),2&ve&&y.E7m("ngIf",Ve.isCmpOpen||Ve.keepContentsMounted)},dependencies:[$.u_,$.XV],encapsulation:2,changeDetection:0}),oe})();const On={provide:xe.WM,useExisting:(0,y.wd)(()=>zn),multi:!0};let zn=(()=>{class oe extends xe._t{}return oe.\u0275fac=(()=>{let Ne;return function(Ve){return(Ne||(Ne=y.otF(oe)))(Ve||oe)}})(),oe.\u0275dir=y.Sc5({type:oe,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ve,Ve){2&ve&&y.e48("max",Ve._enabled?Ve.max:null)},features:[y.M5G([On]),y.eg9]}),oe})();const Gn={provide:xe.WM,useExisting:(0,y.wd)(()=>kr),multi:!0};let kr=(()=>{class oe extends xe.Gu{}return oe.\u0275fac=(()=>{let Ne;return function(Ve){return(Ne||(Ne=y.otF(oe)))(Ve||oe)}})(),oe.\u0275dir=y.Sc5({type:oe,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ve,Ve){2&ve&&y.e48("min",Ve._enabled?Ve.min:null)},features:[y.M5G([Gn]),y.eg9]}),oe})(),ar=(()=>{class oe extends rt.gk{constructor(){super(v.W4)}}return oe.\u0275fac=function(ve){return new(ve||oe)},oe.\u0275prov=y.wxM({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),lt=(()=>{class oe extends rt.gk{constructor(){super(v.KQ)}}return oe.\u0275fac=function(ve){return new(ve||oe)},oe.\u0275prov=y.wxM({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),fn=(()=>{class oe extends rt.gk{constructor(){super(v.kT),this.angularDelegate=(0,y.uUt)(rt.kh),this.injector=(0,y.uUt)(y.zZn),this.environmentInjector=(0,y.uUt)(y.SIe)}create(ve){return super.create({...ve,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return oe.\u0275fac=function(ve){return new(ve||oe)},oe.\u0275prov=y.wxM({token:oe,factory:oe.\u0275fac}),oe})();class Tt extends rt.gk{constructor(){super(v.oz),this.angularDelegate=(0,y.uUt)(rt.kh),this.injector=(0,y.uUt)(y.zZn),this.environmentInjector=(0,y.uUt)(y.SIe)}create(Ne){return super.create({...Ne,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const He=(oe,Ne,ve)=>()=>{const Ve=Ne.defaultView;if(Ve&&typeof window<"u"){(0,v.cp)({...oe,_zoneGate:Qt=>ve.run(Qt)});const pt="__zone_symbol__addEventListener"in Ne.body?"__zone_symbol__addEventListener":"addEventListener";return function _(){var oe=[];if(typeof window<"u"){var Ne=window;(!Ne.customElements||Ne.Element&&(!Ne.Element.prototype.closest||!Ne.Element.prototype.matches||!Ne.Element.prototype.remove||!Ne.Element.prototype.getRootNode))&&oe.push(ge.e(4448).then(ge.t.bind(ge,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Ne.NodeList&&!Ne.NodeList.prototype.forEach||!Ne.fetch||!function(){try{var Ve=new URL("b","http://a");return Ve.pathname="c%20d","http://a/c%20d"===Ve.href&&Ve.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&oe.push(ge.e(488).then(ge.t.bind(ge,6304,23)))}return Promise.all(oe)}().then(()=>i(Ve,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:rt.cl,jmp:Qt=>ve.runOutsideAngular(Qt),ael(Qt,Dn,jn,qn){Qt[pt](Dn,jn,qn)},rel(Qt,Dn,jn,qn){Qt.removeEventListener(Dn,jn,qn)}}))}};let $t=(()=>{class oe{static forRoot(ve){return{ngModule:oe,providers:[{provide:rt.m2,useValue:ve},{provide:y.kZF,useFactory:He,multi:!0,deps:[rt.m2,$.Ud,y.WW2]},(0,rt.Al)()]}}}return oe.\u0275fac=function(ve){return new(ve||oe)},oe.\u0275mod=y.a4G({type:oe}),oe.\u0275inj=y.s3X({providers:[rt.kh,fn,Tt],imports:[$.MD]}),oe})()},2272:(pn,jt,ge)=>{"use strict";ge.d(jt,{c:()=>rt});var y=ge(1528);const xe={};xe.write=function(){var _e=(0,y.c)(function*(o){yield navigator.clipboard.writeText(o)});return function(o){return _e.apply(this,arguments)}}(),xe.read=(0,y.c)(function*(){return navigator.clipboard.readText()}),xe.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")},xe.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};const rt=xe},1528:(pn,jt,ge)=>{"use strict";function y(rt,_e,o,$,S,v,_){try{var h=rt[v](_),f=h.value}catch(x){return void o(x)}h.done?_e(f):Promise.resolve(f).then($,S)}function xe(rt){return function(){var _e=this,o=arguments;return new Promise(function($,S){var v=rt.apply(_e,o);function _(f){y(v,$,S,_,h,"next",f)}function h(f){y(v,$,S,_,h,"throw",f)}_(void 0)})}}ge.d(jt,{c:()=>xe})},1316:(pn,jt,ge)=>{"use strict";ge.d(jt,{U1:()=>p,UN:()=>o,ct:()=>xe,kH:()=>x,mA:()=>F,o7:()=>b});var y=function(J,q){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,fe){ne.__proto__=fe}||function(ne,fe){for(var De in fe)Object.prototype.hasOwnProperty.call(fe,De)&&(ne[De]=fe[De])})(J,q)};function xe(J,q){if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function ne(){this.constructor=J}y(J,q),J.prototype=null===q?Object.create(q):(ne.prototype=q.prototype,new ne)}function o(J,q,ne,fe){var L,De=arguments.length,K=De<3?q:null===fe?fe=Object.getOwnPropertyDescriptor(q,ne):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(J,q,ne,fe);else for(var se=J.length-1;se>=0;se--)(L=J[se])&&(K=(De<3?L(K):De>3?L(q,ne,K):L(q,ne))||K);return De>3&&K&&Object.defineProperty(q,ne,K),K}function x(J,q,ne,fe){return new(ne||(ne=Promise))(function(K,L){function se(Fe){try{Ce(fe.next(Fe))}catch(We){L(We)}}function pe(Fe){try{Ce(fe.throw(Fe))}catch(We){L(We)}}function Ce(Fe){Fe.done?K(Fe.value):function De(K){return K instanceof ne?K:new ne(function(L){L(K)})}(Fe.value).then(se,pe)}Ce((fe=fe.apply(J,q||[])).next())})}function p(J){return this instanceof p?(this.v=J,this):new p(J)}function b(J,q,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,fe=ne.apply(J,q||[]),K=[];return De={},L("next"),L("throw"),L("return"),De[Symbol.asyncIterator]=function(){return this},De;function L(tt){fe[tt]&&(De[tt]=function(Oe){return new Promise(function(ke,Be){K.push([tt,Oe,ke,Be])>1||se(tt,Oe)})})}function se(tt,Oe){try{!function pe(tt){tt.value instanceof p?Promise.resolve(tt.value.v).then(Ce,Fe):We(K[0][2],tt)}(fe[tt](Oe))}catch(ke){We(K[0][3],ke)}}function Ce(tt){se("next",tt)}function Fe(tt){se("throw",tt)}function We(tt,Oe){tt(Oe),K.shift(),K.length&&se(K[0][0],K[0][1])}}function F(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,q=J[Symbol.asyncIterator];return q?q.call(J):(J=function d(J){var q="function"==typeof Symbol&&Symbol.iterator,ne=q&&J[q],fe=0;if(ne)return ne.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&fe>=J.length&&(J=void 0),{value:J&&J[fe++],done:!J}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ne={},fe("next"),fe("throw"),fe("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function fe(K){ne[K]=J[K]&&function(L){return new Promise(function(se,pe){!function De(K,L,se,pe){Promise.resolve(pe).then(function(Ce){K({value:Ce,done:se})},L)}(se,pe,(L=J[K](L)).done,L.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},pn=>{pn(pn.s=5788)}]);