"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7455],{2957:(E,v,i)=>{i.d(v,{G:()=>g});const g={FRONT:"front",BACK:"back"}},8181:(E,v,i)=>{i.d(v,{R:()=>Z});var e=i(9468),_=i(1325),g=i(3857),S=i(9080),P=i(6814),b=i(95);function R(c,t){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c){const u=e.oxw().$implicit;e.xp6(1),e.hij(" ",u.text," ")}}function h(c,t){if(1&c&&(e.TgZ(0,"a",7),e._uU(1),e.qZA()),2&c){const u=e.oxw().$implicit;e.Q6J("href",u.text,e.LSH),e.xp6(1),e.Oqu(u.text)}}function A(c,t){if(1&c&&(e.TgZ(0,"span"),e.YNc(1,R,2,1,"span",5),e.YNc(2,h,2,2,"a",6),e.qZA()),2&c){const u=t.$implicit;e.xp6(1),e.Q6J("ngIf",!u.href),e.xp6(1),e.Q6J("ngIf",u.href)}}function C(c,t){if(1&c&&(e.TgZ(0,"div"),e.YNc(1,A,3,2,"span",4),e.qZA()),2&c){const u=t.$implicit;e.xp6(1),e.Q6J("ngForOf",u)}}let Z=(()=>{var c;class t{constructor(r,d,m,x){this.navParams=r,this.modalCtrl=d,this.lang=m,this.nakama=x,this.info="QR\ucf54\ub4dc \ub610\ub294 \ubc14\ucf54\ub4dc\ub97c \uc778\uc2dd\ud558\uc600\uc73c\ub098 \uc774 \uc571\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uad6c\uc131\uc774 \uc544\ub2d9\ub2c8\ub2e4.",this.result={}}ngOnInit(){this.result=this.navParams.get("result"),this.result.text=this.result.content.split("\n");for(let r=0,d=this.result.text.length;r<d;r++){this.result.text[r]=this.result.text[r].split(" ");for(let m=0,x=this.result.text[r].length;m<x;m++){let T={};T.href=0==this.result.text[r][m].indexOf("http://")||0==this.result.text[r][m].indexOf("https://"),T.text=this.result.text[r][m],this.result.text[r][m]=T}}this.nakama.removeBanner()}}return(c=t).\u0275fac=function(r){return new(r||c)(e.Y36(_.X1),e.Y36(_.IN),e.Y36(g.b),e.Y36(S.a))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-qrelse"]],decls:23,vars:6,consts:[["slot","start",3,"click"],["defaultHref","subscribes"],["disabled","",1,"infobox",3,"ngModel","ngModelChange"],[1,"infobox","content_form"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_system",3,"href",4,"ngIf"],["target","_system",3,"href"]],template:function(r,d){1&r&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"\ub0b4\uc6a9 \uc77d\uae30"),e.qZA(),e.TgZ(4,"ion-buttons",0),e.NdJ("click",function(){return d.modalCtrl.dismiss()}),e._UZ(5,"ion-back-button",1),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),e._uU(9),e.qZA()(),e.TgZ(10,"textarea",2),e.NdJ("ngModelChange",function(x){return d.lang.text.QRElse.info=x}),e.qZA(),e._UZ(11,"ion-item-divider"),e.TgZ(12,"ion-item")(13,"ion-label")(14,"p"),e._uU(15),e.qZA(),e.TgZ(16,"h2"),e._uU(17),e.qZA()()(),e.TgZ(18,"ion-item-divider")(19,"ion-label"),e._uU(20),e.qZA()(),e.TgZ(21,"div",3),e.YNc(22,C,2,1,"div",4),e.qZA()()),2&r&&(e.xp6(9),e.Oqu(d.lang.text.QRElse.Title),e.xp6(1),e.Q6J("ngModel",d.lang.text.QRElse.info),e.xp6(5),e.Oqu(d.lang.text.QRElse.format),e.xp6(2),e.Oqu(d.result.format),e.xp6(3),e.Oqu(d.lang.text.QRElse.contents),e.xp6(2),e.Q6J("ngForOf",d.result.text))},dependencies:[P.sg,P.O5,b.Fj,b.JJ,b.On,_.oU,_.Sm,_.W2,_.Gu,_.Ie,_.rH,_.Q$,_.wd,_.sr,_.cs],styles:[".content_form[_ngcontent-%COMP%]{background-color:var(--ion-color-light);overflow-y:auto}"]}),t})()},7455:(E,v,i)=>{i.r(v),i.d(v,{SubscribesPageModule:()=>Y});var e=i(6814),_=i(95),g=i(1325),S=i(5877),P=i(5861),b=i(2726);i(2957);const h=(0,b.fo)("BarcodeScanner",{web:()=>i.e(7606).then(i.bind(i,7606)).then(n=>new n.BarcodeScannerWeb)});var A=i(3641),C=i(6146),Z=i(196),c=i(8181),t=i(9468),u=i(9376),r=i(9080),d=i(7488),m=i(3857),x=i(6052);function T(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"ion-item",3),t.NdJ("click",function(){t.CHM(o);const s=t.oxw().$implicit,f=t.oxw(3);return t.KtG(f.check_notifications(s))}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&n){const o=t.oxw().$implicit,a=t.oxw(3);t.xp6(2),t.Oqu(a.nakama.notifications_rearrange[o].request)}}function D(n,l){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,T,3,1,"ion-item",11),t.qZA()),2&n){const o=l.$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",a.nakama.notifications_rearrange.length>o)}}const Q=function(){return[0,1,2]};function I(n,l){if(1&n&&(t.TgZ(0,"ion-accordion-group",5,6)(2,"ion-accordion",7)(3,"ion-item",8)(4,"ion-label"),t._uU(5),t.qZA()(),t.TgZ(6,"div",9),t.YNc(7,D,2,1,"div",10),t.qZA()()()),2&n){const o=t.oxw(2);t.Q6J("value",!1),t.xp6(5),t.Oqu(o.lang.text.Subscribes.has_noties),t.xp6(2),t.Q6J("ngForOf",t.DdM(3,Q))}}function N(n,l){1&n&&t._UZ(0,"div",20)}function y(n,l){if(1&n&&t._UZ(0,"img",21),2&n){const o=t.oxw().$implicit;t.Akn("online"==o.status||3==o.redirect.type&&"pending"==o.status?"filter: grayscale(0) contrast(1)":"filter: grayscale(.9) contrast(1.4)"),t.Q6J("src",o.info.img,t.LSH)}}function U(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"ion-item",3),t.NdJ("click",function(){const f=t.CHM(o).$implicit,p=t.oxw(3);return t.KtG(p.go_to_chatroom(f))}),t.TgZ(1,"div",13),t.YNc(2,N,1,0,"div",14),t.qZA(),t.TgZ(3,"div",15),t.YNc(4,y,1,3,"img",16),t.qZA(),t.TgZ(5,"ion-label")(6,"div",17)(7,"table")(8,"tr")(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",18),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",19),t._uU(14),t.qZA()()()}if(2&n){const o=l.$implicit,a=t.oxw(3);t.xp6(1),t.Akn("background-color: "+a.statusBar.colors[o.status||"offline"]),t.xp6(1),t.Q6J("ngIf",o.is_new),t.xp6(2),t.Q6J("ngIf",o.info),t.xp6(6),t.hij(" ",o.info?o.info.name||o.info.display_name||a.lang.text.ChatRoom.noname_chatroom:o.title||a.lang.text.ChatRoom.noname_chatroom," "),t.xp6(2),t.hij(" ","("+(o.server.name||o.server.target)+")"," "),t.xp6(2),t.hij(" ",o.last_comment||o.noti||a.lang.text.Subscribes.noMessageHistory," ")}}function k(n,l){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,U,15,7,"ion-item",12),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.nakama.channels)}}function F(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"ion-content"),t.YNc(1,I,8,4,"ion-accordion-group",2),t.TgZ(2,"ion-item-divider")(3,"ion-label"),t._uU(4),t.qZA()(),t.TgZ(5,"ion-item",3),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.scanQRCode())}),t.TgZ(6,"ion-label",4),t._uU(7),t.qZA()(),t.TgZ(8,"ion-item-divider")(9,"ion-label"),t._uU(10),t.qZA()(),t.YNc(11,k,2,1,"div",1),t.TgZ(12,"ion-item",3),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.add_new_group())}),t.TgZ(13,"ion-label",4),t._uU(14),t.qZA()()()}if(2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.nakama.notifications_rearrange.length),t.xp6(3),t.Oqu(o.lang.text.Subscribes.almighty_link),t.xp6(3),t.Oqu(o.lang.text.Subscribes.almighty_button),t.xp6(3),t.Oqu(o.lang.text.Subscribes.Chat),t.xp6(1),t.Q6J("ngIf",o.nakama.channels.length),t.xp6(3),t.Oqu(o.lang.text.Subscribes.AddGroup)}}const B=[{path:"",component:(()=>{var n;class l{constructor(a,s,f,p,M,O){this.modalCtrl=a,this.p5toast=s,this.nakama=f,this.statusBar=p,this.lang=M,this.global=O,this.StartScan=!1,this.lock_chatroom=!1}ngOnInit(){}ionViewDidEnter(){this.nakama.subscribe_lock=!0,this.nakama.resumeBanner()}scanQRCode(){var a=this;return(0,P.Z)(function*(){let s=yield h.checkPermission({force:!0});const f="\uc628\uc804\ud55c \ub3d9\uc791 \ud6c4 \uc885\ub8cc";try{if(!s.granted||a.StartScan)throw"\uc2dc\uc791 \ubd88\uac00\uc0c1\ud0dc";a.StartScan=!0,document.querySelector("body").classList.add("scanner-active"),yield h.hideBackground();const p=yield h.startScan();if(p.hasContent)try{if(0!=p.content.trim().indexOf(`${A.Oy}pjcone_pwa/?`))throw"\uc8fc\uc18c \uc2dc\uc791\uc774 \ub2e4\ub984";yield a.nakama.AddressToQRCodeAct(a.global.CatchGETs(p.content.trim()))}catch{a.modalCtrl.create({component:c.R,componentProps:{result:p}}).then(O=>O.present())}throw f}catch(p){p!=f&&a.p5toast.show({text:a.lang.text.Subscribes.CameraPermissionDenied}),a.StopScan()}})()}StopScan(){this.StartScan=!1,document.querySelector("body").classList.remove("scanner-active"),h.showBackground(),h.stopScan()}go_to_chatroom(a){this.lock_chatroom||(this.lock_chatroom=!0,this.nakama.go_to_chatroom_without_admob_act(a),("online"!=a.status||"pending"!=a.status)&&delete a.is_new,this.lock_chatroom=!1)}check_notifications(a){let s=this.nakama.notifications_rearrange[a].server;this.nakama.check_notifications(this.nakama.notifications_rearrange[a],s.isOfficial,s.target)}add_new_group(){this.nakama.get_all_server_info(!0,!0).length?this.modalCtrl.create({component:C.B}).then(s=>s.present()):this.modalCtrl.create({component:Z.Y}).then(s=>{this.p5toast.show({text:this.lang.text.Subscribes.Disconnected}),s.present()})}ionViewWillLeave(){this.nakama.subscribe_lock=!1,this.StopScan()}}return(n=l).\u0275fac=function(a){return new(a||n)(t.Y36(g.IN),t.Y36(u.F),t.Y36(r.a),t.Y36(d.g),t.Y36(m.b),t.Y36(x.AN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-subscribes"]],decls:6,vars:4,consts:[[1,"header_online_circle",3,"click"],[4,"ngIf"],["value","colors","expand","inset",3,"value",4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["value","colors","expand","inset",3,"value"],["accordionGroup",""],["value","colors"],["slot","header"],["slot","content"],[4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],[1,"additional_form","status_bar_double"],["class","new_circle",4,"ngIf"],[1,"additional_form","bg_img_form"],["class","profile_img",3,"style","src",4,"ngIf"],[1,"form_margin","header"],[1,"server_target"],[1,"form_margin","content"],[1,"new_circle"],[1,"profile_img",3,"src"]],template:function(a,s){1&a&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"div",0),t.NdJ("click",function(){return s.nakama.toggle_all_session()}),t.qZA()()(),t.YNc(5,F,15,6,"ion-content",1)),2&a&&(t.xp6(3),t.Oqu(s.lang.text.Subscribes.Title),t.xp6(1),t.Akn("background-color: "+s.statusBar.colors[s.statusBar.settings.groupServer]),t.xp6(1),t.Q6J("ngIf",!s.StartScan))},dependencies:[e.sg,e.O5,g.We,g.eh,g.W2,g.Gu,g.Ie,g.rH,g.Q$,g.wd,g.sr],styles:[".header[_ngcontent-%COMP%]{padding-bottom:4px}.content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle;padding:0 16px}.status_bar[_ngcontent-%COMP%]{width:5px;height:76%}.server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}.new_circle[_ngcontent-%COMP%]{position:relative;top:-5px;left:9px;width:8px;height:8px;border-radius:4px;background:#ff4961}"]}),l})()},{path:"chat-room",loadChildren:()=>Promise.all([i.e(4156),i.e(7429),i.e(9745),i.e(8592),i.e(4403)]).then(i.bind(i,4403)).then(n=>n.ChatRoomPageModule)},{path:"qrelse",loadChildren:()=>i.e(1936).then(i.bind(i,1936)).then(n=>n.QRelsePageModule)}];let J=(()=>{var n;class l{}return(n=l).\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[S.Bz.forChild(B),S.Bz]}),l})(),Y=(()=>{var n;class l{}return(n=l).\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[e.ez,_.u5,g.Pc,J]}),l})()}}]);