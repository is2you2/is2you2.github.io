(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6395:(nn,Et,me)=>{"use strict";me.d(Et,{z:()=>X});var H=me(7582),j=me(1501),st=me(9468),X=function(r){function G(){return null!==r&&r.apply(this,arguments)||this}return(0,H.ZT)(G,r),G.prototype.enable=function(){return(0,j.DM)(this,"enable",{sync:!0},arguments)},G.prototype.disable=function(){return(0,j.DM)(this,"disable",{sync:!0},arguments)},G.prototype.setEnabled=function(O){return(0,j.DM)(this,"setEnabled",{sync:!0},arguments)},G.prototype.fireEvent=function(O){for(var f=[],m=1;m<arguments.length;m++)f[m-1]=arguments[m];return(0,j.DM)(this,"fireEvent",{sync:!0},arguments)},G.prototype.isEnabled=function(){return(0,j.DM)(this,"isEnabled",{sync:!0},arguments)},G.prototype.isActive=function(){return(0,j.DM)(this,"isActive",{sync:!0},arguments)},G.prototype.setDefaults=function(O){return(0,j.DM)(this,"setDefaults",{platforms:["Android"]},arguments)},G.prototype.configure=function(O){return(0,j.DM)(this,"configure",{platforms:["Android"],sync:!0},arguments)},G.prototype.on=function(O){return(0,j.DM)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},G.prototype.un=function(O,f){return(0,j.DM)(this,"un",{},arguments)},G.prototype.moveToBackground=function(){return(0,j.DM)(this,"moveToBackground",{platforms:["Android"],sync:!0},arguments)},G.prototype.disableWebViewOptimizations=function(){return(0,j.DM)(this,"disableWebViewOptimizations",{platforms:["Android"],sync:!0},arguments)},G.prototype.moveToForeground=function(){return(0,j.DM)(this,"moveToForeground",{platforms:["Android"],sync:!0},arguments)},G.prototype.overrideBackButton=function(){return(0,j.DM)(this,"overrideBackButton",{platforms:["Android"],sync:!0},arguments)},G.prototype.excludeFromTaskList=function(){return(0,j.DM)(this,"excludeFromTaskList",{platforms:["Android"],sync:!0},arguments)},G.prototype.isScreenOff=function(O){return(0,j.DM)(this,"isScreenOff",{platforms:["Android"]},arguments)},G.prototype.wakeUp=function(){return(0,j.DM)(this,"wakeUp",{platforms:["Android"],sync:!0},arguments)},G.prototype.unlock=function(){return(0,j.DM)(this,"unlock",{platforms:["Android"],sync:!0},arguments)},G.prototype.disableBatteryOptimizations=function(){return(0,j.DM)(this,"disableBatteryOptimizations",{platforms:["Android"],sync:!0},arguments)},G.\u0275fac=function(){let O;return function(m){return(O||(O=st.n5z(G)))(m||G)}}(),G.\u0275prov=st.Yz7({token:G,factory:G.\u0275fac}),G.pluginName="BackgroundMode",G.plugin="cordova-plugin-background-mode",G.pluginRef="cordova.plugins.backgroundMode",G.repo="https://github.com/katzer/cordova-plugin-background-mode",G.platforms=["AmazonFire OS","Android","Browser","iOS","Windows"],G=(0,H.gn)([],G)}(j.On)},1048:(nn,Et,me)=>{"use strict";me.d(Et,{V1:()=>d});var H=me(7582),j=me(1501),st=me(9468),d=function(y){function w(){var b=null!==y&&y.apply(this,arguments)||this;return b.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},b.EncodingType={JPEG:0,PNG:1},b.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},b.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},b.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},b.Direction={BACK:0,FRONT:1},b}return(0,H.ZT)(w,y),w.prototype.getPicture=function(b){return(0,j.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},w.prototype.cleanup=function(){return(0,j.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},w.\u0275fac=function(){let b;return function(l){return(b||(b=st.n5z(w)))(l||w)}}(),w.\u0275prov=st.Yz7({token:w,factory:w.\u0275fac}),w.pluginName="Camera",w.plugin="cordova-plugin-camera",w.pluginRef="navigator.camera",w.repo="https://github.com/apache/cordova-plugin-camera",w.platforms=["Android","Browser","iOS","Windows"],w=(0,H.gn)([],w)}(j.On)},4663:(nn,Et,me)=>{"use strict";me.d(Et,{T:()=>X});var H=me(7582),j=me(1501),st=me(9468),X=function(r){function G(){return null!==r&&r.apply(this,arguments)||this}return(0,H.ZT)(G,r),G.prototype.copy=function(O){return(0,j.DM)(this,"copy",{},arguments)},G.prototype.paste=function(){return(0,j.DM)(this,"paste",{},arguments)},G.prototype.clear=function(){return(0,j.DM)(this,"clear",{},arguments)},G.\u0275fac=function(){let O;return function(m){return(O||(O=st.n5z(G)))(m||G)}}(),G.\u0275prov=st.Yz7({token:G,factory:G.\u0275fac}),G.pluginName="Clipboard",G.plugin="cordova-clipboard",G.pluginRef="cordova.plugins.clipboard",G.repo="https://github.com/ihadeed/cordova-clipboard",G.platforms=["Android","iOS","Windows Phone 8"],G=(0,H.gn)([],G)}(j.On)},1501:(nn,Et,me)=>{"use strict";me.d(Et,{On:()=>$,gR:()=>y,DM:()=>k,J2:()=>U,Iq:()=>I,sM:()=>G});var j=me(5592),st=me(2438),X={error:"cordova_not_available"},r={error:"plugin_not_installed"};function G(D){if(typeof window<"u"&&window.angular){var V=window.document,N=window.angular.element(V.querySelector("[ng-app]")||V.body).injector();if(N)return N.get("$q")(function(T,K){D(T,K)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(T,K){D(T,K)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function y(D,R,V){var N,Q;"string"==typeof D?N=D:(N=D.constructor.getPluginRef(),V=D.constructor.getPluginName(),Q=D.constructor.getPluginInstallName());var T=h(N);return!(!T||R&&typeof T[R]>"u")||(typeof window>"u"||!window.cordova?(function p(D,R){typeof process>"u"&&console.warn(R?"Native: tried calling "+D+"."+R+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+D+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(V,R),X):(function c(D,R,V){console.warn(V?"Native: tried calling "+D+"."+V+", but the "+D+" plugin is not installed.":"Native: tried accessing the "+D+" plugin but it's not installed."),R&&console.warn("Install the "+D+" plugin: 'ionic cordova plugin add "+R+"'")}(V,Q,R),r))}function i(D,R,V,N,Q,T){void 0===N&&(N={}),V=function b(D,R,V,N){if(void 0===R&&(R={}),R.sync)return D;if("reverse"===R.callbackOrder)D.unshift(N),D.unshift(V);else if("node"===R.callbackStyle)D.push(function(se,fe){se?N(se):V(fe)});else if("object"===R.callbackStyle&&R.successName&&R.errorName){var Q={};Q[R.successName]=V,Q[R.errorName]=N,D.push(Q)}else if(typeof R.successIndex<"u"||typeof R.errorIndex<"u"){var T=function(){R.successIndex>D.length?D[R.successIndex]=V:D.splice(R.successIndex,0,V)},K=function(){R.errorIndex>D.length?D[R.errorIndex]=N:D.splice(R.errorIndex,0,N)};R.successIndex>R.errorIndex?(K(),T()):(T(),K())}else D.push(V),D.push(N);return D}(V,N,Q,T);var K=y(D,R);if(!0===K){var se=h(D.constructor.getPluginRef());return se[R].apply(se,V)}return K}function h(D){return typeof window<"u"?s(window,D):null}function s(D,R){for(var V=R.split("."),N=D,Q=0;Q<V.length;Q++){if(!N)return null;N=N[V[Q]]}return N}var v=function(D,R,V){return void 0===V&&(V={}),function(){for(var N=[],Q=0;Q<arguments.length;Q++)N[Q]=arguments[Q];return V.sync?i(D,R,N,V):V.observable?function m(D,R,V,N){return void 0===N&&(N={}),new j.y(function(Q){var T;return T=N.destruct?i(D,R,V,N,function(){for(var K=[],se=0;se<arguments.length;se++)K[se]=arguments[se];return Q.next(K)},function(){for(var K=[],se=0;se<arguments.length;se++)K[se]=arguments[se];return Q.error(K)}):i(D,R,V,N,Q.next.bind(Q),Q.error.bind(Q)),T&&T.error&&(Q.error(T.error),Q.complete()),function(){try{if(N.clearFunction)return N.clearWithArgs?i(D,N.clearFunction,V,N,Q.next.bind(Q),Q.error.bind(Q)):i(D,N.clearFunction,[])}catch(K){console.warn("Unable to clear the previous observable watch for",D.constructor.getPluginName(),R),console.warn(K)}}})}(D,R,N,V):V.eventObservable&&V.event?function d(D,R){return R=typeof window<"u"&&R?s(window,R):R||(typeof window<"u"?window:{}),(0,st.R)(R,D)}(V.event,V.element):V.otherPromise?function f(D,R,V,N){return void 0===N&&(N={}),G(function(Q,T){var K=i(D,R,V,N);K?K.error?T(K.error):K.then&&K.then(Q).catch(T):T({error:"unexpected_error"})})}(D,R,N,V):function O(D,R,V,N){void 0===N&&(N={});var Q,T,K=G(function(se,fe){Q=N.destruct?i(D,R,V,N,function(){for(var Ie=[],Z=0;Z<arguments.length;Z++)Ie[Z]=arguments[Z];return se(Ie)},function(){for(var Ie=[],Z=0;Z<arguments.length;Z++)Ie[Z]=arguments[Z];return fe(Ie)}):i(D,R,V,N,se,fe),T=fe});return Q&&Q.error&&(K.catch(function(){}),"function"==typeof T&&T(Q.error)),K}(D,R,N,V)}},$=function(){function D(){}return D.installed=function(){return!0===y(this.pluginRef)},D.getPlugin=function(){return typeof window<"u"?function g(D,R){for(var V=R.split("."),N=D,Q=0;Q<V.length;Q++){if(!N)return null;N=N[V[Q]]}return N}(window,this.pluginRef):null},D.getPluginName=function(){return this.pluginName},D.getPluginRef=function(){return this.pluginRef},D.getPluginInstallName=function(){return this.plugin},D.getSupportedPlatforms=function(){return this.platforms},D.pluginName="",D.pluginRef="",D.plugin="",D.repo="",D.platforms=[],D.install="",D}();function k(D,R,V,N){return v(D,R,V).apply(this,N)}function U(D,R){return!0===y(D,R)?h(D.constructor.getPluginRef())[R]:null}function I(D,R,V){!0===y(D,R)&&(h(D.constructor.getPluginRef())[R]=V)}!function H(){if(typeof process>"u"){var D=typeof window<"u"?window:{},V=Date.now(),N=!1;D.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-V)+" ms"),N=!0}),setTimeout(function(){!N&&D.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},9722:(nn,Et,me)=>{"use strict";me.d(Et,{A:()=>X});var H=me(7582),j=me(1501),st=me(9468),X=function(r){function G(){return null!==r&&r.apply(this,arguments)||this}return(0,H.ZT)(G,r),Object.defineProperty(G.prototype,"cordova",{get:function(){return(0,j.J2)(this,"cordova")},set:function(O){(0,j.Iq)(this,"cordova",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"model",{get:function(){return(0,j.J2)(this,"model")},set:function(O){(0,j.Iq)(this,"model",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"platform",{get:function(){return(0,j.J2)(this,"platform")},set:function(O){(0,j.Iq)(this,"platform",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"uuid",{get:function(){return(0,j.J2)(this,"uuid")},set:function(O){(0,j.Iq)(this,"uuid",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"version",{get:function(){return(0,j.J2)(this,"version")},set:function(O){(0,j.Iq)(this,"version",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"manufacturer",{get:function(){return(0,j.J2)(this,"manufacturer")},set:function(O){(0,j.Iq)(this,"manufacturer",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"isVirtual",{get:function(){return(0,j.J2)(this,"isVirtual")},set:function(O){(0,j.Iq)(this,"isVirtual",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"serial",{get:function(){return(0,j.J2)(this,"serial")},set:function(O){(0,j.Iq)(this,"serial",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"sdkVersion",{get:function(){return(0,j.J2)(this,"sdkVersion")},set:function(O){(0,j.Iq)(this,"sdkVersion",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"isiOSAppOnMac",{get:function(){return(0,j.J2)(this,"isiOSAppOnMac")},set:function(O){(0,j.Iq)(this,"isiOSAppOnMac",O)},enumerable:!1,configurable:!0}),G.\u0275fac=function(){let O;return function(m){return(O||(O=st.n5z(G)))(m||G)}}(),G.\u0275prov=st.Yz7({token:G,factory:G.\u0275fac}),G.pluginName="Device",G.plugin="cordova-plugin-device",G.pluginRef="device",G.repo="https://github.com/apache/cordova-plugin-device",G.platforms=["Android","Browser","iOS","macOS","Windows"],G=(0,H.gn)([],G)}(j.On)},5196:(nn,Et,me)=>{"use strict";me.d(Et,{u:()=>X});var H=me(7582),j=me(1501),st=me(9468),X=function(r){function G(){return null!==r&&r.apply(this,arguments)||this}return(0,H.ZT)(G,r),G.prototype.open=function(O,f){return(0,j.DM)(this,"open",{callbackStyle:"object",successName:"success",errorName:"error"},arguments)},G.prototype.uninstall=function(O){return(0,j.DM)(this,"uninstall",{callbackStyle:"object",successName:"success",errorName:"error"},arguments)},G.prototype.appIsInstalled=function(O){return(0,j.DM)(this,"appIsInstalled",{callbackStyle:"object",successName:"success",errorName:"error"},arguments)},G.prototype.showOpenWithDialog=function(O,f){return(0,j.DM)(this,"showOpenWithDialog",{callbackStyle:"object",successName:"success",errorName:"error"},arguments)},G.\u0275fac=function(){let O;return function(m){return(O||(O=st.n5z(G)))(m||G)}}(),G.\u0275prov=st.Yz7({token:G,factory:G.\u0275fac}),G.pluginName="FileOpener",G.plugin="cordova-plugin-file-opener2",G.pluginRef="cordova.plugins.fileOpener2",G.repo="https://github.com/pwlin/cordova-plugin-file-opener2",G.platforms=["Android","iOS","Windows","Windows Phone 8"],G=(0,H.gn)([],G)}(j.On)},2372:(nn,Et,me)=>{"use strict";me.d(Et,{$:()=>X});var H=me(7582),j=me(1501),st=me(9468),X=function(r){function G(){var O=null!==r&&r.apply(this,arguments)||this;return O.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},O}return(0,H.ZT)(G,r),G.prototype.getFreeDiskSpace=function(){var O=this;return function(){if(!0===(0,j.gR)(O))return(0,j.sM)(function(f,m){cordova.exec(f,m,"File","getFreeDiskSpace",[])})}()},G.prototype.checkDir=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m)){if(/^\//.test(f)){var d=new FileError(5);return d.message="directory cannot start with /",Promise.reject(d)}return m.resolveDirectoryUrl(O+f).then(function(){return!0})}}()},G.prototype.createDir=function(O,f,m){var d=this;return function(){if(!0===(0,j.gR)(d)){if(/^\//.test(f)){var y=new FileError(5);return y.message="directory cannot start with /",Promise.reject(y)}var w={create:!0};return m||(w.exclusive=!0),d.resolveDirectoryUrl(O).then(function(b){return d.getDirectory(b,f,w)})}}()},G.prototype.removeDir=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m)){if(/^\//.test(f)){var d=new FileError(5);return d.message="directory cannot start with /",Promise.reject(d)}return m.resolveDirectoryUrl(O).then(function(y){return m.getDirectory(y,f,{create:!1})}).then(function(y){return m.remove(y)})}}()},G.prototype.moveDir=function(O,f,m,d){var y=this;return function(){if(!0===(0,j.gR)(y)){if(/^\//.test(d=d||f)){var w=new FileError(5);return w.message="directory cannot start with /",Promise.reject(w)}return y.resolveDirectoryUrl(O).then(function(b){return y.getDirectory(b,f,{create:!1})}).then(function(b){return y.resolveDirectoryUrl(m).then(function(i){return y.move(b,i,d)})})}}()},G.prototype.copyDir=function(O,f,m,d){var y=this;return function(){if(!0===(0,j.gR)(y)){if(/^\//.test(d)){var w=new FileError(5);return w.message="directory cannot start with /",Promise.reject(w)}return y.resolveDirectoryUrl(O).then(function(b){return y.getDirectory(b,f,{create:!1})}).then(function(b){return y.resolveDirectoryUrl(m).then(function(i){return y.copy(b,i,d)})})}}()},G.prototype.listDir=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m)){if(/^\//.test(f)){var d=new FileError(5);return d.message="directory cannot start with /",Promise.reject(d)}return m.resolveDirectoryUrl(O).then(function(y){return m.getDirectory(y,f,{create:!1,exclusive:!1})}).then(function(y){var w=y.createReader();return m.readEntries(w)})}}()},G.prototype.removeRecursively=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m)){if(/^\//.test(f)){var d=new FileError(5);return d.message="directory cannot start with /",Promise.reject(d)}return m.resolveDirectoryUrl(O).then(function(y){return m.getDirectory(y,f,{create:!1})}).then(function(y){return m.rimraf(y)})}}()},G.prototype.checkFile=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m)){if(/^\//.test(f)){var d=new FileError(5);return d.message="file cannot start with /",Promise.reject(d)}return m.resolveLocalFilesystemUrl(O+f).then(function(y){if(y.isFile)return!0;var w=new FileError(13);return w.message="input is not a file",Promise.reject(w)})}}()},G.prototype.createFile=function(O,f,m){var d=this;return function(){if(!0===(0,j.gR)(d)){if(/^\//.test(f)){var y=new FileError(5);return y.message="file-name cannot start with /",Promise.reject(y)}var w={create:!0};return m||(w.exclusive=!0),d.resolveDirectoryUrl(O).then(function(b){return d.getFile(b,f,w)})}}()},G.prototype.removeFile=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m)){if(/^\//.test(f)){var d=new FileError(5);return d.message="file-name cannot start with /",Promise.reject(d)}return m.resolveDirectoryUrl(O).then(function(y){return m.getFile(y,f,{create:!1})}).then(function(y){return m.remove(y)})}}()},G.prototype.writeFile=function(O,f,m,d){var y=this;return void 0===d&&(d={}),function(){if(!0===(0,j.gR)(y)){if(/^\//.test(f)){var w=new FileError(5);return w.message="file-name cannot start with /",Promise.reject(w)}var b={create:!d.append,exclusive:!d.replace};return y.resolveDirectoryUrl(O).then(function(i){return y.getFile(i,f,b)}).then(function(i){return y.writeFileEntry(i,m,d)})}}()},G.prototype.writeFileEntry=function(O,f,m){var d=this;return this.createWriter(O).then(function(y){return m.append&&y.seek(y.length),m.truncate&&y.truncate(m.truncate),d.write(y,f)}).then(function(){return O})},G.prototype.writeExistingFile=function(O,f,m){var d=this;return function(){if(!0===(0,j.gR)(d))return d.writeFile(O,f,m,{replace:!0})}()},G.prototype.readAsText=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m))return m.readFile(O,f,"Text")}()},G.prototype.readAsDataURL=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m))return m.readFile(O,f,"DataURL")}()},G.prototype.readAsBinaryString=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m))return m.readFile(O,f,"BinaryString")}()},G.prototype.readAsArrayBuffer=function(O,f){var m=this;return function(){if(!0===(0,j.gR)(m))return m.readFile(O,f,"ArrayBuffer")}()},G.prototype.moveFile=function(O,f,m,d){var y=this;return function(){if(!0===(0,j.gR)(y)){if(/^\//.test(d=d||f)){var w=new FileError(5);return w.message="file name cannot start with /",Promise.reject(w)}return y.resolveDirectoryUrl(O).then(function(b){return y.getFile(b,f,{create:!1})}).then(function(b){return y.resolveDirectoryUrl(m).then(function(i){return y.move(b,i,d)})})}}()},G.prototype.copyFile=function(O,f,m,d){var y=this;return function(){if(!0===(0,j.gR)(y)){if(/^\//.test(d=d||f)){var w=new FileError(5);return w.message="file name cannot start with /",Promise.reject(w)}return y.resolveDirectoryUrl(O).then(function(b){return y.getFile(b,f,{create:!1})}).then(function(b){return y.resolveDirectoryUrl(m).then(function(i){return y.copy(b,i,d)})})}}()},G.prototype.fillErrorMessage=function(O){try{O.message=this.cordovaFileError[O.code]}catch{}},G.prototype.resolveLocalFilesystemUrl=function(O){var f=this;return function(){if(!0===(0,j.gR)(f))return(0,j.sM)(function(m,d){try{window.resolveLocalFileSystemURL(O,function(y){m(y)},function(y){f.fillErrorMessage(y),d(y)})}catch(y){f.fillErrorMessage(y),d(y)}})}()},G.prototype.resolveDirectoryUrl=function(O){var f=this;return function(){if(!0===(0,j.gR)(f))return f.resolveLocalFilesystemUrl(O).then(function(m){if(m.isDirectory)return m;var d=new FileError(13);return d.message="input is not a directory",Promise.reject(d)})}()},G.prototype.getDirectory=function(O,f,m){var d=this;return function(){if(!0===(0,j.gR)(d))return new Promise(function(y,w){try{O.getDirectory(f,m,function(b){y(b)},function(b){d.fillErrorMessage(b),w(b)})}catch(b){d.fillErrorMessage(b),w(b)}})}()},G.prototype.getFile=function(O,f,m){var d=this;return function(){if(!0===(0,j.gR)(d))return new Promise(function(y,w){try{O.getFile(f,m,y,function(b){d.fillErrorMessage(b),w(b)})}catch(b){d.fillErrorMessage(b),w(b)}})}()},G.prototype.readFile=function(O,f,m){var d=this;if(/^\//.test(f)){var y=new FileError(5);return y.message="file-name cannot start with /",Promise.reject(y)}return this.resolveDirectoryUrl(O).then(function(w){return d.getFile(w,f,{create:!1})}).then(function(w){var b=new FileReader;return(0,j.sM)(function(i,l){b.onloadend=function(){void 0!==b.result||null!==b.result?i(b.result):l(void 0!==b.error||null!==b.error?b.error:{code:null,message:"READER_ONLOADEND_ERR"})},w.file(function(h){b["readAs"+m].call(b,h)},function(h){l(h)})})})},G.prototype.remove=function(O){var f=this;return new Promise(function(m,d){O.remove(function(){m({success:!0,fileRemoved:O})},function(y){f.fillErrorMessage(y),d(y)})})},G.prototype.move=function(O,f,m){var d=this;return new Promise(function(y,w){O.moveTo(f,m,function(b){y(b)},function(b){d.fillErrorMessage(b),w(b)})})},G.prototype.copy=function(O,f,m){var d=this;return new Promise(function(y,w){O.copyTo(f,m,function(b){y(b)},function(b){d.fillErrorMessage(b),w(b)})})},G.prototype.readEntries=function(O){var f=this;return new Promise(function(m,d){O.readEntries(function(y){m(y)},function(y){f.fillErrorMessage(y),d(y)})})},G.prototype.rimraf=function(O){var f=this;return new Promise(function(m,d){O.removeRecursively(function(){m({success:!0,fileRemoved:O})},function(y){f.fillErrorMessage(y),d(y)})})},G.prototype.createWriter=function(O){var f=this;return new Promise(function(m,d){O.createWriter(function(y){m(y)},function(y){f.fillErrorMessage(y),d(y)})})},G.prototype.write=function(O,f){return f instanceof Blob?this.writeFileInChunks(O,f):new Promise(function(m,d){O.onwriteend=function(y){O.error?d(O.error):m(y)},O.write(f)})},G.prototype.writeFileInChunks=function(O,f){var d=0;function y(){var w=Math.min(1048576,f.size-d),b=f.slice(d,d+w);d+=w,O.write(b)}return(0,j.sM)(function(w,b){O.onerror=b,O.onwrite=function(){d<f.size?y():w()},y()})},Object.defineProperty(G.prototype,"applicationDirectory",{get:function(){return(0,j.J2)(this,"applicationDirectory")},set:function(O){(0,j.Iq)(this,"applicationDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"applicationStorageDirectory",{get:function(){return(0,j.J2)(this,"applicationStorageDirectory")},set:function(O){(0,j.Iq)(this,"applicationStorageDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"dataDirectory",{get:function(){return(0,j.J2)(this,"dataDirectory")},set:function(O){(0,j.Iq)(this,"dataDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"cacheDirectory",{get:function(){return(0,j.J2)(this,"cacheDirectory")},set:function(O){(0,j.Iq)(this,"cacheDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"externalApplicationStorageDirectory",{get:function(){return(0,j.J2)(this,"externalApplicationStorageDirectory")},set:function(O){(0,j.Iq)(this,"externalApplicationStorageDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"externalDataDirectory",{get:function(){return(0,j.J2)(this,"externalDataDirectory")},set:function(O){(0,j.Iq)(this,"externalDataDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"externalCacheDirectory",{get:function(){return(0,j.J2)(this,"externalCacheDirectory")},set:function(O){(0,j.Iq)(this,"externalCacheDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"externalRootDirectory",{get:function(){return(0,j.J2)(this,"externalRootDirectory")},set:function(O){(0,j.Iq)(this,"externalRootDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"tempDirectory",{get:function(){return(0,j.J2)(this,"tempDirectory")},set:function(O){(0,j.Iq)(this,"tempDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"syncedDataDirectory",{get:function(){return(0,j.J2)(this,"syncedDataDirectory")},set:function(O){(0,j.Iq)(this,"syncedDataDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"documentsDirectory",{get:function(){return(0,j.J2)(this,"documentsDirectory")},set:function(O){(0,j.Iq)(this,"documentsDirectory",O)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"sharedDirectory",{get:function(){return(0,j.J2)(this,"sharedDirectory")},set:function(O){(0,j.Iq)(this,"sharedDirectory",O)},enumerable:!1,configurable:!0}),G.\u0275fac=function(){let O;return function(m){return(O||(O=st.n5z(G)))(m||G)}}(),G.\u0275prov=st.Yz7({token:G,factory:G.\u0275fac}),G.pluginName="File",G.plugin="cordova-plugin-file",G.pluginRef="cordova.file",G.repo="https://github.com/apache/cordova-plugin-file",G.platforms=["Android","Browser","iOS","macOS","Windows"],G=(0,H.gn)([],G)}(j.On)},5756:(nn,Et,me)=>{"use strict";me.d(Et,{sn:()=>G,u6:()=>r});var H=me(7582),j=me(1501),st=me(9468),r=function(O){return O.INPUT="input",O.BUTTON="button",O}(r||{}),G=function(O){function f(){return null!==O&&O.apply(this,arguments)||this}return(0,H.ZT)(f,O),f.prototype.hasPermission=function(){return(0,j.DM)(this,"hasPermission",{},arguments)},f.prototype.requestPermission=function(){return(0,j.DM)(this,"requestPermission",{},arguments)},f.prototype.schedule=function(m){return(0,j.DM)(this,"schedule",{sync:!0},arguments)},f.prototype.update=function(m){return(0,j.DM)(this,"update",{sync:!0},arguments)},f.prototype.clear=function(m){return(0,j.DM)(this,"clear",{},arguments)},f.prototype.clearAll=function(){return(0,j.DM)(this,"clearAll",{},arguments)},f.prototype.cancel=function(m){return(0,j.DM)(this,"cancel",{},arguments)},f.prototype.cancelAll=function(){return(0,j.DM)(this,"cancelAll",{},arguments)},f.prototype.isPresent=function(m){return(0,j.DM)(this,"isPresent",{},arguments)},f.prototype.isScheduled=function(m){return(0,j.DM)(this,"isScheduled",{},arguments)},f.prototype.isTriggered=function(m){return(0,j.DM)(this,"isTriggered",{},arguments)},f.prototype.hasType=function(m,d){return(0,j.DM)(this,"hasType",{},arguments)},f.prototype.getType=function(m){return(0,j.DM)(this,"getType",{},arguments)},f.prototype.getIds=function(){return(0,j.DM)(this,"getIds",{},arguments)},f.prototype.getScheduledIds=function(){return(0,j.DM)(this,"getScheduledIds",{},arguments)},f.prototype.getTriggeredIds=function(){return(0,j.DM)(this,"getTriggeredIds",{},arguments)},f.prototype.get=function(m){return(0,j.DM)(this,"get",{},arguments)},f.prototype.getAll=function(){return(0,j.DM)(this,"getAll",{},arguments)},f.prototype.getScheduled=function(m){return(0,j.DM)(this,"getScheduled",{},arguments)},f.prototype.getTriggered=function(m){return(0,j.DM)(this,"getTriggered",{},arguments)},f.prototype.addActions=function(m,d){return(0,j.DM)(this,"addActions",{},arguments)},f.prototype.removeActions=function(m){return(0,j.DM)(this,"removeActions",{},arguments)},f.prototype.hasActions=function(m){return(0,j.DM)(this,"hasActions",{},arguments)},f.prototype.getDefaults=function(){return(0,j.DM)(this,"getDefaults",{sync:!0},arguments)},f.prototype.setDefaults=function(m){return(0,j.DM)(this,"setDefaults",{sync:!0},arguments)},f.prototype.getAllScheduled=function(){return(0,j.DM)(this,"getAllScheduled",{},arguments)},f.prototype.getAllTriggered=function(){return(0,j.DM)(this,"getAllTriggered",{},arguments)},f.prototype.on=function(m){return(0,j.DM)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},f.prototype.fireEvent=function(m,d){return(0,j.DM)(this,"fireEvent",{sync:!0},arguments)},f.prototype.fireQueuedEvents=function(){return(0,j.DM)(this,"fireQueuedEvents",{},arguments)},f.\u0275fac=function(){let m;return function(y){return(m||(m=st.n5z(f)))(y||f)}}(),f.\u0275prov=st.Yz7({token:f,factory:f.\u0275fac}),f.pluginName="LocalNotifications",f.plugin="cordova-plugin-local-notification",f.pluginRef="cordova.plugins.notification.local",f.repo="https://github.com/katzer/cordova-plugin-local-notifications",f.platforms=["Android","iOS","Windows"],f=(0,H.gn)([],f)}(j.On)},2156:(nn,Et,me)=>{"use strict";me.d(Et,{TQ:()=>f,Wp:()=>st,N4:()=>X,ci:()=>r});var H=me(2726),st=function(m){return m.SizeChanged="bannerAdSizeChanged",m.Loaded="bannerAdLoaded",m.FailedToLoad="bannerAdFailedToLoad",m.Opened="bannerAdOpened",m.Closed="bannerAdClosed",m.AdImpression="bannerAdImpression",m}(st||{}),X=function(m){return m.TOP_CENTER="TOP_CENTER",m.CENTER="CENTER",m.BOTTOM_CENTER="BOTTOM_CENTER",m}(X||{}),r=function(m){return m.BANNER="BANNER",m.FULL_BANNER="FULL_BANNER",m.LARGE_BANNER="LARGE_BANNER",m.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",m.LEADERBOARD="LEADERBOARD",m.ADAPTIVE_BANNER="ADAPTIVE_BANNER",m.SMART_BANNER="SMART_BANNER",m}(r||{});const f=(0,H.fo)("AdMob",{web:()=>me.e(2861).then(me.bind(me,2861)).then(m=>new m.AdMobWeb)})},2726:(nn,Et,me)=>{"use strict";me.d(Et,{Uw:()=>s,fo:()=>i});var H=me(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var f=function(U){return U.Unimplemented="UNIMPLEMENTED",U.Unavailable="UNAVAILABLE",U}(f||{});class m extends Error{constructor(I,D,R){super(I),this.message=I,this.code=D,this.data=R}}const y=U=>{var I,D,R,V,N;const Q=U.CapacitorCustomPlatform||null,T=U.Capacitor||{},K=T.Plugins=T.Plugins||{},se=U.CapacitorPlatforms,Ie=(null===(I=null==se?void 0:se.currentPlatform)||void 0===I?void 0:I.getPlatform)||(()=>null!==Q?Q.name:(U=>{var I,D;return null!=U&&U.androidBridge?"android":null!==(D=null===(I=null==U?void 0:U.webkit)||void 0===I?void 0:I.messageHandlers)&&void 0!==D&&D.bridge?"ios":"web"})(U)),ie=(null===(D=null==se?void 0:se.currentPlatform)||void 0===D?void 0:D.isNativePlatform)||(()=>"web"!==Ie()),we=(null===(R=null==se?void 0:se.currentPlatform)||void 0===R?void 0:R.isPluginAvailable)||(Ne=>{const Ke=je.get(Ne);return!!(null!=Ke&&Ke.platforms.has(Ie())||$e(Ne))}),$e=(null===(V=null==se?void 0:se.currentPlatform)||void 0===V?void 0:V.getPluginHeader)||(Ne=>{var Ke;return null===(Ke=T.PluginHeaders)||void 0===Ke?void 0:Ke.find(at=>at.name===Ne)}),je=new Map,Ye=(null===(N=null==se?void 0:se.currentPlatform)||void 0===N?void 0:N.registerPlugin)||((Ne,Ke={})=>{const at=je.get(Ne);if(at)return console.warn(`Capacitor plugin "${Ne}" already registered. Cannot register plugins twice.`),at.proxy;const yt=Ie(),lt=$e(Ne);let nt;const St=function(){var tn=(0,H.Z)(function*(){return!nt&&yt in Ke?nt=nt="function"==typeof Ke[yt]?yield Ke[yt]():Ke[yt]:null!==Q&&!nt&&"web"in Ke&&(nt=nt="function"==typeof Ke.web?yield Ke.web():Ke.web),nt});return function(){return tn.apply(this,arguments)}}(),Ct=tn=>{let dt;const Ut=(...wt)=>{const Pe=St().then(Ue=>{const Ae=((tn,dt)=>{var Ut,wt;if(!lt){if(tn)return null===(wt=tn[dt])||void 0===wt?void 0:wt.bind(tn);throw new m(`"${Ne}" plugin is not implemented on ${yt}`,f.Unimplemented)}{const Pe=null==lt?void 0:lt.methods.find(Ue=>dt===Ue.name);if(Pe)return"promise"===Pe.rtype?Ue=>T.nativePromise(Ne,dt.toString(),Ue):(Ue,Ae)=>T.nativeCallback(Ne,dt.toString(),Ue,Ae);if(tn)return null===(Ut=tn[dt])||void 0===Ut?void 0:Ut.bind(tn)}})(Ue,tn);if(Ae){const ze=Ae(...wt);return dt=null==ze?void 0:ze.remove,ze}throw new m(`"${Ne}.${tn}()" is not implemented on ${yt}`,f.Unimplemented)});return"addListener"===tn&&(Pe.remove=(0,H.Z)(function*(){return dt()})),Pe};return Ut.toString=()=>`${tn.toString()}() { [capacitor code] }`,Object.defineProperty(Ut,"name",{value:tn,writable:!1,configurable:!1}),Ut},rn=Ct("addListener"),cn=Ct("removeListener"),Ht=(tn,dt)=>{const Ut=rn({eventName:tn},dt),wt=function(){var Ue=(0,H.Z)(function*(){const Ae=yield Ut;cn({eventName:tn,callbackId:Ae},dt)});return function(){return Ue.apply(this,arguments)}}(),Pe=new Promise(Ue=>Ut.then(()=>Ue({remove:wt})));return Pe.remove=(0,H.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield wt()}),Pe},dn=new Proxy({},{get(tn,dt){switch(dt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return lt?Ht:rn;case"removeListener":return cn;default:return Ct(dt)}}});return K[Ne]=dn,je.set(Ne,{name:Ne,proxy:dn,platforms:new Set([...Object.keys(Ke),...lt?[yt]:[]])}),dn});return T.convertFileSrc||(T.convertFileSrc=Ne=>Ne),T.getPlatform=Ie,T.handleError=Ne=>U.console.error(Ne),T.isNativePlatform=ie,T.isPluginAvailable=we,T.pluginMethodNoop=(Ne,Ke,at)=>Promise.reject(`${at} does not have an implementation of "${Ke}".`),T.registerPlugin=Ye,T.Exception=m,T.DEBUG=!!T.DEBUG,T.isLoggingEnabled=!!T.isLoggingEnabled,T.platform=T.getPlatform(),T.isNative=T.isNativePlatform(),T},b=(U=>U.Capacitor=y(U))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),i=b.registerPlugin;class s{constructor(I){this.listeners={},this.windowListeners={},I&&(console.warn(`Capacitor WebPlugin "${I.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=I)}addListener(I,D){var R=this;this.listeners[I]||(this.listeners[I]=[]),this.listeners[I].push(D);const N=this.windowListeners[I];N&&!N.registered&&this.addWindowListener(N);const Q=function(){var K=(0,H.Z)(function*(){return R.removeListener(I,D)});return function(){return K.apply(this,arguments)}}(),T=Promise.resolve({remove:Q});return Object.defineProperty(T,"remove",{value:(K=(0,H.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Q()}),function(){return K.apply(this,arguments)})}),T;var K}removeAllListeners(){var I=this;return(0,H.Z)(function*(){I.listeners={};for(const D in I.windowListeners)I.removeWindowListener(I.windowListeners[D]);I.windowListeners={}})()}notifyListeners(I,D){const R=this.listeners[I];R&&R.forEach(V=>V(D))}hasListeners(I){return!!this.listeners[I].length}registerWindowListener(I,D){this.windowListeners[D]={registered:!1,windowEventName:I,pluginEventName:D,handler:R=>{this.notifyListeners(D,R)}}}unimplemented(I="not implemented"){return new b.Exception(I,f.Unimplemented)}unavailable(I="not available"){return new b.Exception(I,f.Unavailable)}removeListener(I,D){var R=this;return(0,H.Z)(function*(){const V=R.listeners[I];if(!V)return;const N=V.indexOf(D);R.listeners[I].splice(N,1),R.listeners[I].length||R.removeWindowListener(R.windowListeners[I])})()}addWindowListener(I){window.addEventListener(I.windowEventName,I.handler),I.registered=!0}removeWindowListener(I){I&&(window.removeEventListener(I.windowEventName,I.handler),I.registered=!1)}}const p=U=>encodeURIComponent(U).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),v=U=>U.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class a extends s{getCookies(){return(0,H.Z)(function*(){const I=document.cookie,D={};return I.split(";").forEach(R=>{if(R.length<=0)return;let[V,N]=R.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");V=v(V).trim(),N=v(N).trim(),D[V]=N}),D})()}setCookie(I){return(0,H.Z)(function*(){try{const D=p(I.key),R=p(I.value),V=`; expires=${(I.expires||"").replace("expires=","")}`,N=(I.path||"/").replace("path=",""),Q=null!=I.url&&I.url.length>0?`domain=${I.url}`:"";document.cookie=`${D}=${R||""}${V}; path=${N}; ${Q};`}catch(D){return Promise.reject(D)}})()}deleteCookie(I){return(0,H.Z)(function*(){try{document.cookie=`${I.key}=; Max-Age=0`}catch(D){return Promise.reject(D)}})()}clearCookies(){return(0,H.Z)(function*(){try{const I=document.cookie.split(";")||[];for(const D of I)document.cookie=D.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(I){return Promise.reject(I)}})()}clearAllCookies(){var I=this;return(0,H.Z)(function*(){try{yield I.clearCookies()}catch(D){return Promise.reject(D)}})()}}i("CapacitorCookies",{web:()=>new a});const E=function(){var U=(0,H.Z)(function*(I){return new Promise((D,R)=>{const V=new FileReader;V.onload=()=>{const N=V.result;D(N.indexOf(",")>=0?N.split(",")[1]:N)},V.onerror=N=>R(N),V.readAsDataURL(I)})});return function(D){return U.apply(this,arguments)}}();class A extends s{request(I){return(0,H.Z)(function*(){const D=((U,I={})=>{const D=Object.assign({method:U.method||"GET",headers:U.headers},I),V=((U={})=>{const I=Object.keys(U);return Object.keys(U).map(V=>V.toLocaleLowerCase()).reduce((V,N,Q)=>(V[N]=U[I[Q]],V),{})})(U.headers)["content-type"]||"";if("string"==typeof U.data)D.body=U.data;else if(V.includes("application/x-www-form-urlencoded")){const N=new URLSearchParams;for(const[Q,T]of Object.entries(U.data||{}))N.set(Q,T);D.body=N.toString()}else if(V.includes("multipart/form-data")){const N=new FormData;if(U.data instanceof FormData)U.data.forEach((T,K)=>{N.append(K,T)});else for(const T of Object.keys(U.data))N.append(T,U.data[T]);D.body=N;const Q=new Headers(D.headers);Q.delete("content-type"),D.headers=Q}else(V.includes("application/json")||"object"==typeof U.data)&&(D.body=JSON.stringify(U.data));return D})(I,I.webFetchExtra),R=((U,I=!0)=>U?Object.entries(U).reduce((R,V)=>{const[N,Q]=V;let T,K;return Array.isArray(Q)?(K="",Q.forEach(se=>{T=I?encodeURIComponent(se):se,K+=`${N}=${T}&`}),K.slice(0,-1)):(T=I?encodeURIComponent(Q):Q,K=`${N}=${T}`),`${R}&${K}`},"").substr(1):null)(I.params,I.shouldEncodeUrlParams),V=R?`${I.url}?${R}`:I.url,N=yield fetch(V,D),Q=N.headers.get("content-type")||"";let K,se,{responseType:T="text"}=N.ok?I:{};switch(Q.includes("application/json")&&(T="json"),T){case"arraybuffer":case"blob":se=yield N.blob(),K=yield E(se);break;case"json":K=yield N.json();break;default:K=yield N.text()}const fe={};return N.headers.forEach((Ie,Z)=>{fe[Z]=Ie}),{data:K,headers:fe,status:N.status,url:N.url}})()}get(I){var D=this;return(0,H.Z)(function*(){return D.request(Object.assign(Object.assign({},I),{method:"GET"}))})()}post(I){var D=this;return(0,H.Z)(function*(){return D.request(Object.assign(Object.assign({},I),{method:"POST"}))})()}put(I){var D=this;return(0,H.Z)(function*(){return D.request(Object.assign(Object.assign({},I),{method:"PUT"}))})()}patch(I){var D=this;return(0,H.Z)(function*(){return D.request(Object.assign(Object.assign({},I),{method:"PATCH"}))})()}delete(I){var D=this;return(0,H.Z)(function*(){return D.request(Object.assign(Object.assign({},I),{method:"DELETE"}))})()}}i("CapacitorHttp",{web:()=>new A})},1774:(nn,Et,me)=>{"use strict";me.d(Et,{c:()=>h});var H=me(6225),j=me(839);let st;const r=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G=s=>(void 0===st&&(st=void 0===s.style.animationName&&void 0!==s.style.webkitAnimationName?"-webkit-":""),st),O=(s,c,p)=>{const v=c.startsWith("animation")?G(s):"";s.style.setProperty(v+c,p)},f=(s,c)=>{const p=c.startsWith("animation")?G(s):"";s.style.removeProperty(p+c)},y=[],l=(s=[],c)=>{if(void 0!==c){const p=Array.isArray(c)?c:[c];return[...s,...p]}return s},h=s=>{let c,p,v,a,g,E,L,T,K,se,fe,pe,we,$=[],k=[],M=[],A=!1,U={},I=[],D=[],R={},V=0,N=!1,Q=!1,Ie=!0,Z=!1,ie=!0,Re=!1;const $e=s,Fe=[],Ge=[],je=[],We=[],Ye=[],Ne=[],Ke=[],at=[],yt=[],lt=[],nt="function"==typeof AnimationEffect||void 0!==H.w&&"function"==typeof H.w.AnimationEffect,St="function"==typeof Element&&"function"==typeof Element.prototype.animate&&nt,Ct=()=>lt,tn=(Be,ot)=>((null!=ot&&ot.oneTimeCallback?Ge:Fe).push({c:Be,o:ot}),we),Ut=()=>{if(St)lt.forEach(Be=>{Be.cancel()}),lt.length=0;else{const Be=je.slice();(0,j.r)(()=>{Be.forEach(ot=>{f(ot,"animation-name"),f(ot,"animation-duration"),f(ot,"animation-timing-function"),f(ot,"animation-iteration-count"),f(ot,"animation-delay"),f(ot,"animation-play-state"),f(ot,"animation-fill-mode"),f(ot,"animation-direction")})})}},wt=()=>{Ye.forEach(Be=>{null!=Be&&Be.parentNode&&Be.parentNode.removeChild(Be)}),Ye.length=0},_n=()=>void 0!==g?g:L?L.getFill():"both",fn=()=>void 0!==K?K:void 0!==E?E:L?L.getDirection():"normal",Mn=()=>N?"linear":void 0!==v?v:L?L.getEasing():"linear",bt=()=>Q?0:void 0!==se?se:void 0!==p?p:L?L.getDuration():0,ht=()=>void 0!==a?a:L?L.getIterations():1,Nt=()=>void 0!==fe?fe:void 0!==c?c:L?L.getDelay():0,ne=()=>{0!==V&&(V--,0===V&&((()=>{Cr(),at.forEach(kt=>kt()),yt.forEach(kt=>kt());const Be=Ie?1:0,ot=I,ft=D,Bt=R;je.forEach(kt=>{const qt=kt.classList;ot.forEach(ln=>qt.add(ln)),ft.forEach(ln=>qt.remove(ln));for(const ln in Bt)Bt.hasOwnProperty(ln)&&O(kt,ln,Bt[ln])}),Fe.forEach(kt=>kt.c(Be,we)),Ge.forEach(kt=>kt.c(Be,we)),Ge.length=0,ie=!0,Ie&&(Z=!0),Ie=!0})(),L&&L.animationFinish()))},te=(Be=!0)=>{wt();const ot=(s=>(s.forEach(c=>{for(const p in c)if(c.hasOwnProperty(p)){const v=c[p];if("easing"===p)c["animation-timing-function"]=v,delete c[p];else{const a=r(p);a!==p&&(c[a]=v,delete c[p])}}}),s))($);je.forEach(ft=>{if(ot.length>0){const Bt=((s=[])=>s.map(c=>{const p=c.offset,v=[];for(const a in c)c.hasOwnProperty(a)&&"offset"!==a&&v.push(`${a}: ${c[a]};`);return`${100*p}% { ${v.join(" ")} }`}).join(" "))(ot);pe=void 0!==s?s:(s=>{let c=y.indexOf(s);return c<0&&(c=y.push(s)-1),`ion-animation-${c}`})(Bt);const kt=((s,c,p)=>{var v;const a=(s=>{const c=void 0!==s.getRootNode?s.getRootNode():s;return c.head||c})(p),g=G(p),E=a.querySelector("#"+s);if(E)return E;const $=(null!==(v=p.ownerDocument)&&void 0!==v?v:document).createElement("style");return $.id=s,$.textContent=`@${g}keyframes ${s} { ${c} } @${g}keyframes ${s}-alt { ${c} }`,a.appendChild($),$})(pe,Bt,ft);Ye.push(kt),O(ft,"animation-duration",`${bt()}ms`),O(ft,"animation-timing-function",Mn()),O(ft,"animation-delay",`${Nt()}ms`),O(ft,"animation-fill-mode",_n()),O(ft,"animation-direction",fn());const qt=ht()===1/0?"infinite":ht().toString();O(ft,"animation-iteration-count",qt),O(ft,"animation-play-state","paused"),Be&&O(ft,"animation-name",`${kt.id}-alt`),(0,j.r)(()=>{O(ft,"animation-name",kt.id||null)})}})},ke=(Be=!0)=>{(()=>{Ne.forEach(Bt=>Bt()),Ke.forEach(Bt=>Bt());const Be=k,ot=M,ft=U;je.forEach(Bt=>{const kt=Bt.classList;Be.forEach(qt=>kt.add(qt)),ot.forEach(qt=>kt.remove(qt));for(const qt in ft)ft.hasOwnProperty(qt)&&O(Bt,qt,ft[qt])})})(),$.length>0&&(St?(je.forEach(Be=>{const ot=Be.animate($,{id:$e,delay:Nt(),duration:bt(),easing:Mn(),iterations:ht(),fill:_n(),direction:fn()});ot.pause(),lt.push(ot)}),lt.length>0&&(lt[0].onfinish=()=>{ne()})):te(Be)),A=!0},Xe=Be=>{if(Be=Math.min(Math.max(Be,0),.9999),St)lt.forEach(ot=>{ot.currentTime=ot.effect.getComputedTiming().delay+bt()*Be,ot.pause()});else{const ot=`-${bt()*Be}ms`;je.forEach(ft=>{$.length>0&&(O(ft,"animation-delay",ot),O(ft,"animation-play-state","paused"))})}},tt=Be=>{lt.forEach(ot=>{ot.effect.updateTiming({delay:Nt(),duration:bt(),easing:Mn(),iterations:ht(),fill:_n(),direction:fn()})}),void 0!==Be&&Xe(Be)},Ot=(Be=!0,ot)=>{(0,j.r)(()=>{je.forEach(ft=>{O(ft,"animation-name",pe||null),O(ft,"animation-duration",`${bt()}ms`),O(ft,"animation-timing-function",Mn()),O(ft,"animation-delay",void 0!==ot?`-${ot*bt()}ms`:`${Nt()}ms`),O(ft,"animation-fill-mode",_n()||null),O(ft,"animation-direction",fn()||null);const Bt=ht()===1/0?"infinite":ht().toString();O(ft,"animation-iteration-count",Bt),Be&&O(ft,"animation-name",`${pe}-alt`),(0,j.r)(()=>{O(ft,"animation-name",pe||null)})})})},Gt=(Be=!1,ot=!0,ft)=>(Be&&We.forEach(Bt=>{Bt.update(Be,ot,ft)}),St?tt(ft):Ot(ot,ft),we),Xn=()=>{A&&(St?lt.forEach(Be=>{Be.pause()}):je.forEach(Be=>{O(Be,"animation-play-state","paused")}),Re=!0)},ir=()=>{T=void 0,ne()},Cr=()=>{T&&clearTimeout(T)},Ir=Be=>new Promise(ot=>{null!=Be&&Be.sync&&(Q=!0,tn(()=>Q=!1,{oneTimeCallback:!0})),A||ke(),Z&&(St?(Xe(0),tt()):Ot(),Z=!1),ie&&(V=We.length+1,ie=!1),tn(()=>ot(),{oneTimeCallback:!0}),We.forEach(ft=>{ft.play()}),St?(lt.forEach(Be=>{Be.play()}),(0===$.length||0===je.length)&&ne()):(()=>{if(Cr(),(0,j.r)(()=>{je.forEach(Be=>{$.length>0&&O(Be,"animation-play-state","running")})}),0===$.length||0===je.length)ne();else{const Be=Nt()||0,ot=bt()||0,ft=ht()||1;isFinite(ft)&&(T=setTimeout(ir,Be+ot*ft+100)),((s,c)=>{let p;const v={passive:!0},g=E=>{s===E.target&&(p&&p(),Cr(),(0,j.r)(()=>{je.forEach(Be=>{f(Be,"animation-duration"),f(Be,"animation-delay"),f(Be,"animation-play-state")}),(0,j.r)(ne)}))};s&&(s.addEventListener("webkitAnimationEnd",g,v),s.addEventListener("animationend",g,v),p=()=>{s.removeEventListener("webkitAnimationEnd",g,v),s.removeEventListener("animationend",g,v)})})(je[0])}})(),Re=!1}),Sr=(Be,ot)=>{const ft=$[0];return void 0===ft||void 0!==ft.offset&&0!==ft.offset?$=[{offset:0,[Be]:ot},...$]:ft[Be]=ot,we};return we={parentAnimation:L,elements:je,childAnimations:We,id:$e,animationFinish:ne,from:Sr,to:(Be,ot)=>{const ft=$[$.length-1];return void 0===ft||void 0!==ft.offset&&1!==ft.offset?$=[...$,{offset:1,[Be]:ot}]:ft[Be]=ot,we},fromTo:(Be,ot,ft)=>Sr(Be,ot).to(Be,ft),parent:Be=>(L=Be,we),play:Ir,pause:()=>(We.forEach(Be=>{Be.pause()}),Xn(),we),stop:()=>{We.forEach(Be=>{Be.stop()}),A&&(Ut(),A=!1),N=!1,Q=!1,ie=!0,K=void 0,se=void 0,fe=void 0,V=0,Z=!1,Ie=!0,Re=!1},destroy:Be=>(We.forEach(ot=>{ot.destroy(Be)}),(Be=>{Ut(),Be&&wt()})(Be),je.length=0,We.length=0,$.length=0,Fe.length=0,Ge.length=0,A=!1,ie=!0,we),keyframes:Be=>{const ot=$!==Be;return $=Be,ot&&(Be=>{St?Ct().forEach(ot=>{if(ot.effect.setKeyframes)ot.effect.setKeyframes(Be);else{const ft=new KeyframeEffect(ot.effect.target,Be,ot.effect.getTiming());ot.effect=ft}}):te()})($),we},addAnimation:Be=>{if(null!=Be)if(Array.isArray(Be))for(const ot of Be)ot.parent(we),We.push(ot);else Be.parent(we),We.push(Be);return we},addElement:Be=>{if(null!=Be)if(1===Be.nodeType)je.push(Be);else if(Be.length>=0)for(let ot=0;ot<Be.length;ot++)je.push(Be[ot]);else console.error("Invalid addElement value");return we},update:Gt,fill:Be=>(g=Be,Gt(!0),we),direction:Be=>(E=Be,Gt(!0),we),iterations:Be=>(a=Be,Gt(!0),we),duration:Be=>(!St&&0===Be&&(Be=1),p=Be,Gt(!0),we),easing:Be=>(v=Be,Gt(!0),we),delay:Be=>(c=Be,Gt(!0),we),getWebAnimations:Ct,getKeyframes:()=>$,getFill:_n,getDirection:fn,getDelay:Nt,getIterations:ht,getEasing:Mn,getDuration:bt,afterAddRead:Be=>(at.push(Be),we),afterAddWrite:Be=>(yt.push(Be),we),afterClearStyles:(Be=[])=>{for(const ot of Be)R[ot]="";return we},afterStyles:(Be={})=>(R=Be,we),afterRemoveClass:Be=>(D=l(D,Be),we),afterAddClass:Be=>(I=l(I,Be),we),beforeAddRead:Be=>(Ne.push(Be),we),beforeAddWrite:Be=>(Ke.push(Be),we),beforeClearStyles:(Be=[])=>{for(const ot of Be)U[ot]="";return we},beforeStyles:(Be={})=>(U=Be,we),beforeRemoveClass:Be=>(M=l(M,Be),we),beforeAddClass:Be=>(k=l(k,Be),we),onFinish:tn,isRunning:()=>0!==V&&!Re,progressStart:(Be=!1,ot)=>(We.forEach(ft=>{ft.progressStart(Be,ot)}),Xn(),N=Be,A||ke(),Gt(!1,!0,ot),we),progressStep:Be=>(We.forEach(ot=>{ot.progressStep(Be)}),Xe(Be),we),progressEnd:(Be,ot,ft)=>(N=!1,We.forEach(Bt=>{Bt.progressEnd(Be,ot,ft)}),void 0!==ft&&(se=ft),Z=!1,Ie=!0,0===Be?(K="reverse"===fn()?"normal":"reverse","reverse"===K&&(Ie=!1),St?(Gt(),Xe(1-ot)):(fe=(1-ot)*bt()*-1,Gt(!1,!1))):1===Be&&(St?(Gt(),Xe(ot)):(fe=ot*bt()*-1,Gt(!1,!1))),void 0!==Be&&(tn(()=>{se=void 0,K=void 0,fe=void 0},{oneTimeCallback:!0}),L||Ir()),we)}}},3365:(nn,Et,me)=>{"use strict";me.d(Et,{E:()=>d,a:()=>H,s:()=>f});const H=y=>{try{if(y instanceof O)return y.value;if(!X()||"string"!=typeof y||""===y)return y;if(y.includes("onload="))return"";const w=document.createDocumentFragment(),b=document.createElement("div");w.appendChild(b),b.innerHTML=y,G.forEach(s=>{const c=w.querySelectorAll(s);for(let p=c.length-1;p>=0;p--){const v=c[p];v.parentNode?v.parentNode.removeChild(v):w.removeChild(v);const a=st(v);for(let g=0;g<a.length;g++)j(a[g])}});const i=st(w);for(let s=0;s<i.length;s++)j(i[s]);const l=document.createElement("div");l.appendChild(w);const h=l.querySelector("div");return null!==h?h.innerHTML:l.innerHTML}catch(w){return console.error(w),""}},j=y=>{if(y.nodeType&&1!==y.nodeType)return;if(typeof NamedNodeMap<"u"&&!(y.attributes instanceof NamedNodeMap))return void y.remove();for(let b=y.attributes.length-1;b>=0;b--){const i=y.attributes.item(b),l=i.name;if(!r.includes(l.toLowerCase())){y.removeAttribute(l);continue}const h=i.value,s=y[l];(null!=h&&h.toLowerCase().includes("javascript:")||null!=s&&s.toLowerCase().includes("javascript:"))&&y.removeAttribute(l)}const w=st(y);for(let b=0;b<w.length;b++)j(w[b])},st=y=>null!=y.children?y.children:y.childNodes,X=()=>{var y;const w=window,b=null===(y=null==w?void 0:w.Ionic)||void 0===y?void 0:y.config;return!b||(b.get?b.get("sanitizerEnabled",!0):!0===b.sanitizerEnabled||void 0===b.sanitizerEnabled)},r=["class","id","href","src","name","slot"],G=["script","style","iframe","meta","link","object","embed"];class O{constructor(w){this.value=w}}const f=y=>{const w=window,b=w.Ionic;if(!b||!b.config||"Object"===b.config.constructor.name)return w.Ionic=w.Ionic||{},w.Ionic.config=Object.assign(Object.assign({},w.Ionic.config),y),w.Ionic.config},d=!1},6559:(nn,Et,me)=>{"use strict";me.d(Et,{C:()=>r,a:()=>st,d:()=>X});var H=me(5861),j=me(839);const st=function(){var G=(0,H.Z)(function*(O,f,m,d,y,w){var b;if(O)return O.attachViewToDom(f,m,y,d);if(!(w||"string"==typeof m||m instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof m?null===(b=f.ownerDocument)||void 0===b?void 0:b.createElement(m):m;return d&&d.forEach(l=>i.classList.add(l)),y&&Object.assign(i,y),f.appendChild(i),yield new Promise(l=>(0,j.c)(i,l)),i});return function(f,m,d,y,w,b){return G.apply(this,arguments)}}(),X=(G,O)=>{if(O){if(G)return G.removeViewFromDom(O.parentElement,O);O.remove()}return Promise.resolve()},r=()=>{let G,O;return{attachViewToDom:function(){var d=(0,H.Z)(function*(y,w,b={},i=[]){var l,h;let s;if(G=y,w){const p="string"==typeof w?null===(l=G.ownerDocument)||void 0===l?void 0:l.createElement(w):w;i.forEach(v=>p.classList.add(v)),Object.assign(p,b),G.appendChild(p),s=p,yield new Promise(v=>(0,j.c)(p,v))}else if(G.children.length>0&&("ION-MODAL"===G.tagName||"ION-POPOVER"===G.tagName)&&!(s=G.children[0]).classList.contains("ion-delegate-host")){const v=null===(h=G.ownerDocument)||void 0===h?void 0:h.createElement("div");v.classList.add("ion-delegate-host"),i.forEach(a=>v.classList.add(a)),v.append(...G.children),G.appendChild(v),s=v}const c=document.querySelector("ion-app")||document.body;return O=document.createComment("ionic teleport"),G.parentNode.insertBefore(O,G),c.appendChild(G),null!=s?s:G});return function(w,b){return d.apply(this,arguments)}}(),removeViewFromDom:()=>(G&&O&&(O.parentNode.insertBefore(G,O),O.remove()),Promise.resolve())}}},619:(nn,Et,me)=>{"use strict";me.d(Et,{G:()=>r});class j{constructor(O,f,m,d,y){this.id=f,this.name=m,this.disableScroll=y,this.priority=1e6*d+f,this.ctrl=O}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const O=this.ctrl.capture(this.name,this.id,this.priority);return O&&this.disableScroll&&this.ctrl.disableScroll(this.id),O}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class st{constructor(O,f,m,d){this.id=f,this.disable=m,this.disableScroll=d,this.ctrl=O}block(){if(this.ctrl){if(this.disable)for(const O of this.disable)this.ctrl.disableGesture(O,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const O of this.disable)this.ctrl.enableGesture(O,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const X="backdrop-no-scroll",r=new class H{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(O){var f;return new j(this,this.newID(),O.name,null!==(f=O.priority)&&void 0!==f?f:0,!!O.disableScroll)}createBlocker(O={}){return new st(this,this.newID(),O.disable,!!O.disableScroll)}start(O,f,m){return this.canStart(O)?(this.requestedStart.set(f,m),!0):(this.requestedStart.delete(f),!1)}capture(O,f,m){if(!this.start(O,f,m))return!1;const d=this.requestedStart;let y=-1e4;if(d.forEach(w=>{y=Math.max(y,w)}),y===m){this.capturedId=f,d.clear();const w=new CustomEvent("ionGestureCaptured",{detail:{gestureName:O}});return document.dispatchEvent(w),!0}return d.delete(f),!1}release(O){this.requestedStart.delete(O),this.capturedId===O&&(this.capturedId=void 0)}disableGesture(O,f){let m=this.disabledGestures.get(O);void 0===m&&(m=new Set,this.disabledGestures.set(O,m)),m.add(f)}enableGesture(O,f){const m=this.disabledGestures.get(O);void 0!==m&&m.delete(f)}disableScroll(O){this.disabledScroll.add(O),1===this.disabledScroll.size&&document.body.classList.add(X)}enableScroll(O){this.disabledScroll.delete(O),0===this.disabledScroll.size&&document.body.classList.remove(X)}canStart(O){return!(void 0!==this.capturedId||this.isDisabled(O))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(O){const f=this.disabledGestures.get(O);return!!(f&&f.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(nn,Et,me)=>{"use strict";me.r(Et),me.d(Et,{MENU_BACK_BUTTON_PRIORITY:()=>r,OVERLAY_BACK_BUTTON_PRIORITY:()=>X,blockHardwareBackButton:()=>j,startHardwareBackButton:()=>st});var H=me(5861);const j=()=>{document.addEventListener("backbutton",()=>{})},st=()=>{const G=document;let O=!1;G.addEventListener("backbutton",()=>{if(O)return;let f=0,m=[];const d=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(b,i){m.push({priority:b,handler:i,id:f++})}}});G.dispatchEvent(d);const y=function(){var b=(0,H.Z)(function*(i){try{if(null!=i&&i.handler){const l=i.handler(w);null!=l&&(yield l)}}catch(l){console.error(l)}});return function(l){return b.apply(this,arguments)}}(),w=()=>{if(m.length>0){let b={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};m.forEach(i=>{i.priority>=b.priority&&(b=i)}),O=!0,m=m.filter(i=>i.id!==b.id),y(b).then(()=>O=!1)}};w()})},X=100,r=99},839:(nn,Et,me)=>{"use strict";me.d(Et,{a:()=>f,b:()=>m,c:()=>st,d:()=>h,e:()=>l,f:()=>i,g:()=>d,h:()=>b,i:()=>O,j:()=>g,k:()=>r,l:()=>s,m:()=>X,n:()=>w,o:()=>c,p:()=>a,q:()=>E,r:()=>y,s:()=>$,t:()=>H,u:()=>p,v:()=>v});const H=(k,M=0)=>new Promise(A=>{j(k,M,A)}),j=(k,M=0,A)=>{let L,U;const I={passive:!0},R=()=>{L&&L()},V=N=>{(void 0===N||k===N.target)&&(R(),A(N))};return k&&(k.addEventListener("webkitTransitionEnd",V,I),k.addEventListener("transitionend",V,I),U=setTimeout(V,M+500),L=()=>{U&&(clearTimeout(U),U=void 0),k.removeEventListener("webkitTransitionEnd",V,I),k.removeEventListener("transitionend",V,I)}),R},st=(k,M)=>{k.componentOnReady?k.componentOnReady().then(A=>M(A)):y(()=>M(k))},X=k=>void 0!==k.componentOnReady,r=(k,M=[])=>{const A={};return M.forEach(L=>{k.hasAttribute(L)&&(null!==k.getAttribute(L)&&(A[L]=k.getAttribute(L)),k.removeAttribute(L))}),A},G=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],O=(k,M)=>{let A=G;return M&&M.length>0&&(A=A.filter(L=>!M.includes(L))),r(k,A)},f=(k,M,A,L)=>{var U;if(typeof window<"u"){const I=window,D=null===(U=null==I?void 0:I.Ionic)||void 0===U?void 0:U.config;if(D){const R=D.get("_ael");if(R)return R(k,M,A,L);if(D._ael)return D._ael(k,M,A,L)}}return k.addEventListener(M,A,L)},m=(k,M,A,L)=>{var U;if(typeof window<"u"){const I=window,D=null===(U=null==I?void 0:I.Ionic)||void 0===U?void 0:U.config;if(D){const R=D.get("_rel");if(R)return R(k,M,A,L);if(D._rel)return D._rel(k,M,A,L)}}return k.removeEventListener(M,A,L)},d=(k,M=k)=>k.shadowRoot||M,y=k=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(k):"function"==typeof requestAnimationFrame?requestAnimationFrame(k):setTimeout(k),w=k=>!!k.shadowRoot&&!!k.attachShadow,b=k=>{const M=k.closest("ion-item");return M?M.querySelector("ion-label"):null},i=k=>{if(k.focus(),k.classList.contains("ion-focusable")){const M=k.closest("ion-app");M&&M.setFocus([k])}},l=(k,M)=>{let A;const L=k.getAttribute("aria-labelledby"),U=k.id;let I=null!==L&&""!==L.trim()?L:M+"-lbl",D=null!==L&&""!==L.trim()?document.getElementById(L):b(k);return D?(null===L&&(D.id=I),A=D.textContent,D.setAttribute("aria-hidden","true")):""!==U.trim()&&(D=document.querySelector(`label[for="${U}"]`),D&&(""!==D.id?I=D.id:D.id=I=`${U}-lbl`,A=D.textContent)),{label:D,labelId:I,labelText:A}},h=(k,M,A,L,U)=>{if(k||w(M)){let I=M.querySelector("input.aux-input");I||(I=M.ownerDocument.createElement("input"),I.type="hidden",I.classList.add("aux-input"),M.appendChild(I)),I.disabled=U,I.name=A,I.value=L||""}},s=(k,M,A)=>Math.max(k,Math.min(M,A)),c=(k,M)=>{if(!k){const A="ASSERT: "+M;throw console.error(A),new Error(A)}},p=k=>k.timeStamp||Date.now(),v=k=>{if(k){const M=k.changedTouches;if(M&&M.length>0){const A=M[0];return{x:A.clientX,y:A.clientY}}if(void 0!==k.pageX)return{x:k.pageX,y:k.pageY}}return{x:0,y:0}},a=k=>{const M="rtl"===document.dir;switch(k){case"start":return M;case"end":return!M;default:throw new Error(`"${k}" is not a valid value for [side]. Use "start" or "end" instead.`)}},g=(k,M)=>{const A=k._original||k;return{_original:k,emit:E(A.emit.bind(A),M)}},E=(k,M=0)=>{let A;return(...L)=>{clearTimeout(A),A=setTimeout(k,M,...L)}},$=(k,M)=>{if(null!=k||(k={}),null!=M||(M={}),k===M)return!0;const A=Object.keys(k);if(A.length!==Object.keys(M).length)return!1;for(const L of A)if(!(L in M)||k[L]!==M[L])return!1;return!0}},2364:(nn,Et,me)=>{"use strict";me.d(Et,{B:()=>y,H:()=>R,a:()=>Xn,b:()=>Bn,c:()=>Z,d:()=>Re,e:()=>Sr,f:()=>we,g:()=>ie,h:()=>I,i:()=>gn,j:()=>w,r:()=>ne,w:()=>Fr});var H=me(5861);let st,X,r,G=!1,O=!1,f=!1,m=!1,d=!1;const y={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},w=He=>{const Be=new URL(He,An.$resourcesUrl$);return Be.origin!==Cn.location.origin?Be.href:Be.pathname},p="s-id",v="sty-id",a="c-id",E="http://www.w3.org/1999/xlink",$={},L=He=>"object"==(He=typeof He)||"function"===He;function U(He){var Be,ot,ft;return null!==(ft=null===(ot=null===(Be=He.head)||void 0===Be?void 0:Be.querySelector('meta[name="csp-nonce"]'))||void 0===ot?void 0:ot.getAttribute("content"))&&void 0!==ft?ft:void 0}const I=(He,Be,...ot)=>{let ft=null,Bt=null,kt=null,qt=!1,ln=!1;const Kt=[],an=Ln=>{for(let Rn=0;Rn<Ln.length;Rn++)ft=Ln[Rn],Array.isArray(ft)?an(ft):null!=ft&&"boolean"!=typeof ft&&((qt="function"!=typeof He&&!L(ft))&&(ft=String(ft)),qt&&ln?Kt[Kt.length-1].$text$+=ft:Kt.push(qt?D(null,ft):ft),ln=qt)};if(an(ot),Be){Be.key&&(Bt=Be.key),Be.name&&(kt=Be.name);{const Ln=Be.className||Be.class;Ln&&(Be.class="object"!=typeof Ln?Ln:Object.keys(Ln).filter(Rn=>Ln[Rn]).join(" "))}}if("function"==typeof He)return He(null===Be?{}:Be,Kt,N);const bn=D(He,null);return bn.$attrs$=Be,Kt.length>0&&(bn.$children$=Kt),bn.$key$=Bt,bn.$name$=kt,bn},D=(He,Be)=>({$flags$:0,$tag$:He,$text$:Be,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),R={},N={forEach:(He,Be)=>He.map(Q).forEach(Be),map:(He,Be)=>He.map(Q).map(Be).map(T)},Q=He=>({vattrs:He.$attrs$,vchildren:He.$children$,vkey:He.$key$,vname:He.$name$,vtag:He.$tag$,vtext:He.$text$}),T=He=>{if("function"==typeof He.vtag){const ot=Object.assign({},He.vattrs);return He.vkey&&(ot.key=He.vkey),He.vname&&(ot.name=He.vname),I(He.vtag,ot,...He.vchildren||[])}const Be=D(He.vtag,He.vtext);return Be.$attrs$=He.vattrs,Be.$children$=He.vchildren,Be.$key$=He.vkey,Be.$name$=He.vname,Be},se=(He,Be,ot,ft,Bt,kt,qt)=>{let ln,Kt,an,bn;if(1===kt.nodeType){for(ln=kt.getAttribute(a),ln&&(Kt=ln.split("."),(Kt[0]===qt||"0"===Kt[0])&&(an={$flags$:0,$hostId$:Kt[0],$nodeId$:Kt[1],$depth$:Kt[2],$index$:Kt[3],$tag$:kt.tagName.toLowerCase(),$elm$:kt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Be.push(an),kt.removeAttribute(a),He.$children$||(He.$children$=[]),He.$children$[an.$index$]=an,He=an,ft&&"0"===an.$depth$&&(ft[an.$index$]=an.$elm$))),bn=kt.childNodes.length-1;bn>=0;bn--)se(He,Be,ot,ft,Bt,kt.childNodes[bn],qt);if(kt.shadowRoot)for(bn=kt.shadowRoot.childNodes.length-1;bn>=0;bn--)se(He,Be,ot,ft,Bt,kt.shadowRoot.childNodes[bn],qt)}else if(8===kt.nodeType)Kt=kt.nodeValue.split("."),(Kt[1]===qt||"0"===Kt[1])&&(ln=Kt[0],an={$flags$:0,$hostId$:Kt[1],$nodeId$:Kt[2],$depth$:Kt[3],$index$:Kt[4],$elm$:kt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ln?(an.$elm$=kt.nextSibling,an.$elm$&&3===an.$elm$.nodeType&&(an.$text$=an.$elm$.textContent,Be.push(an),kt.remove(),He.$children$||(He.$children$=[]),He.$children$[an.$index$]=an,ft&&"0"===an.$depth$&&(ft[an.$index$]=an.$elm$))):an.$hostId$===qt&&("s"===ln?(an.$tag$="slot",kt["s-sn"]=Kt[5]?an.$name$=Kt[5]:"",kt["s-sr"]=!0,ft&&(an.$elm$=Yt.createElement(an.$tag$),an.$name$&&an.$elm$.setAttribute("name",an.$name$),kt.parentNode.insertBefore(an.$elm$,kt),kt.remove(),"0"===an.$depth$&&(ft[an.$index$]=an.$elm$)),ot.push(an),He.$children$||(He.$children$=[]),He.$children$[an.$index$]=an):"r"===ln&&(ft?kt.remove():(Bt["s-cr"]=kt,kt["s-cn"]=!0))));else if(He&&"style"===He.$tag$){const Ln=D(null,kt.textContent);Ln.$elm$=kt,Ln.$index$="0",He.$children$=[Ln]}},fe=(He,Be)=>{if(1===He.nodeType){let ot=0;for(;ot<He.childNodes.length;ot++)fe(He.childNodes[ot],Be);if(He.shadowRoot)for(ot=0;ot<He.shadowRoot.childNodes.length;ot++)fe(He.shadowRoot.childNodes[ot],Be)}else if(8===He.nodeType){const ot=He.nodeValue.split(".");"o"===ot[0]&&(Be.set(ot[1]+"."+ot[2],He),He.nodeValue="",He["s-en"]=ot[3])}},Z=He=>Gt.push(He),ie=He=>de(He).$modeName$,we=He=>de(He).$hostElement$,Re=(He,Be,ot)=>{const ft=we(He);return{emit:Bt=>$e(ft,Be,{bubbles:!!(4&ot),composed:!!(2&ot),cancelable:!!(1&ot),detail:Bt})}},$e=(He,Be,ot)=>{const ft=An.ce(Be,ot);return He.dispatchEvent(ft),ft},Fe=new WeakMap,Ge=(He,Be,ot)=>{let ft=Ot.get(He);Cr&&ot?(ft=ft||new CSSStyleSheet,"string"==typeof ft?ft=Be:ft.replaceSync(Be)):ft=Be,Ot.set(He,ft)},je=(He,Be,ot)=>{var ft;const Bt=Ye(Be,ot),kt=Ot.get(Bt);if(He=11===He.nodeType?He:Yt,kt)if("string"==typeof kt){let ln,qt=Fe.get(He=He.head||He);if(qt||Fe.set(He,qt=new Set),!qt.has(Bt)){if(He.host&&(ln=He.querySelector(`[${v}="${Bt}"]`)))ln.innerHTML=kt;else{ln=Yt.createElement("style"),ln.innerHTML=kt;const Kt=null!==(ft=An.$nonce$)&&void 0!==ft?ft:U(Yt);null!=Kt&&ln.setAttribute("nonce",Kt),He.insertBefore(ln,He.querySelector("link"))}qt&&qt.add(Bt)}}else He.adoptedStyleSheets.includes(kt)||(He.adoptedStyleSheets=[...He.adoptedStyleSheets,kt]);return Bt},Ye=(He,Be)=>"sc-"+(Be&&32&He.$flags$?He.$tagName$+"-"+Be:He.$tagName$),Ne=He=>He.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ke=(He,Be,ot,ft,Bt,kt)=>{if(ot!==ft){let qt=ge(He,Be),ln=Be.toLowerCase();if("class"===Be){const Kt=He.classList,an=yt(ot),bn=yt(ft);Kt.remove(...an.filter(Ln=>Ln&&!bn.includes(Ln))),Kt.add(...bn.filter(Ln=>Ln&&!an.includes(Ln)))}else if("style"===Be){for(const Kt in ot)(!ft||null==ft[Kt])&&(Kt.includes("-")?He.style.removeProperty(Kt):He.style[Kt]="");for(const Kt in ft)(!ot||ft[Kt]!==ot[Kt])&&(Kt.includes("-")?He.style.setProperty(Kt,ft[Kt]):He.style[Kt]=ft[Kt])}else if("key"!==Be)if("ref"===Be)ft&&ft(He);else if(qt||"o"!==Be[0]||"n"!==Be[1]){const Kt=L(ft);if((qt||Kt&&null!==ft)&&!Bt)try{if(He.tagName.includes("-"))He[Be]=ft;else{const bn=null==ft?"":ft;"list"===Be?qt=!1:(null==ot||He[Be]!=bn)&&(He[Be]=bn)}}catch{}let an=!1;ln!==(ln=ln.replace(/^xlink\:?/,""))&&(Be=ln,an=!0),null==ft||!1===ft?(!1!==ft||""===He.getAttribute(Be))&&(an?He.removeAttributeNS(E,Be):He.removeAttribute(Be)):(!qt||4&kt||Bt)&&!Kt&&(ft=!0===ft?"":ft,an?He.setAttributeNS(E,Be,ft):He.setAttribute(Be,ft))}else Be="-"===Be[2]?Be.slice(3):ge(Cn,ln)?ln.slice(2):ln[2]+Be.slice(3),ot&&An.rel(He,Be,ot,!1),ft&&An.ael(He,Be,ft,!1)}},at=/\s/,yt=He=>He?He.split(at):[],lt=(He,Be,ot,ft)=>{const Bt=11===Be.$elm$.nodeType&&Be.$elm$.host?Be.$elm$.host:Be.$elm$,kt=He&&He.$attrs$||$,qt=Be.$attrs$||$;for(ft in kt)ft in qt||Ke(Bt,ft,kt[ft],void 0,ot,Be.$flags$);for(ft in qt)Ke(Bt,ft,kt[ft],qt[ft],ot,Be.$flags$)},nt=(He,Be,ot,ft)=>{const Bt=Be.$children$[ot];let qt,ln,Kt,kt=0;if(G||(f=!0,"slot"===Bt.$tag$&&(st&&ft.classList.add(st+"-s"),Bt.$flags$|=Bt.$children$?2:1)),null!==Bt.$text$)qt=Bt.$elm$=Yt.createTextNode(Bt.$text$);else if(1&Bt.$flags$)qt=Bt.$elm$=Yt.createTextNode("");else{if(m||(m="svg"===Bt.$tag$),qt=Bt.$elm$=Yt.createElementNS(m?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Bt.$flags$?"slot-fb":Bt.$tag$),m&&"foreignObject"===Bt.$tag$&&(m=!1),lt(null,Bt,m),(He=>null!=He)(st)&&qt["s-si"]!==st&&qt.classList.add(qt["s-si"]=st),Bt.$children$)for(kt=0;kt<Bt.$children$.length;++kt)ln=nt(He,Bt,kt,qt),ln&&qt.appendChild(ln);"svg"===Bt.$tag$?m=!1:"foreignObject"===qt.tagName&&(m=!0)}return qt["s-hn"]=r,3&Bt.$flags$&&(qt["s-sr"]=!0,qt["s-cr"]=X,qt["s-sn"]=Bt.$name$||"",Kt=He&&He.$children$&&He.$children$[ot],Kt&&Kt.$tag$===Bt.$tag$&&He.$elm$&&St(He.$elm$,!1)),qt},St=(He,Be)=>{An.$flags$|=1;const ot=He.childNodes;for(let ft=ot.length-1;ft>=0;ft--){const Bt=ot[ft];Bt["s-hn"]!==r&&Bt["s-ol"]&&(dn(Bt).insertBefore(Bt,Ht(Bt)),Bt["s-ol"].remove(),Bt["s-ol"]=void 0,f=!0),Be&&St(Bt,Be)}An.$flags$&=-2},Wt=(He,Be,ot,ft,Bt,kt)=>{let ln,qt=He["s-cr"]&&He["s-cr"].parentNode||He;for(qt.shadowRoot&&qt.tagName===r&&(qt=qt.shadowRoot);Bt<=kt;++Bt)ft[Bt]&&(ln=nt(null,ot,Bt,He),ln&&(ft[Bt].$elm$=ln,qt.insertBefore(ln,Ht(Be))))},Ct=(He,Be,ot)=>{for(let ft=Be;ft<=ot;++ft){const Bt=He[ft];if(Bt){const kt=Bt.$elm$;Ue(Bt),kt&&(O=!0,kt["s-ol"]?kt["s-ol"].remove():St(kt,!0),kt.remove())}}},cn=(He,Be)=>He.$tag$===Be.$tag$&&("slot"===He.$tag$?He.$name$===Be.$name$:He.$key$===Be.$key$),Ht=He=>He&&He["s-ol"]||He,dn=He=>(He["s-ol"]?He["s-ol"]:He).parentNode,tn=(He,Be)=>{const ot=Be.$elm$=He.$elm$,ft=He.$children$,Bt=Be.$children$,kt=Be.$tag$,qt=Be.$text$;let ln;null===qt?(m="svg"===kt||"foreignObject"!==kt&&m,"slot"===kt||lt(He,Be,m),null!==ft&&null!==Bt?((He,Be,ot,ft)=>{let Pr,lr,Bt=0,kt=0,qt=0,ln=0,Kt=Be.length-1,an=Be[0],bn=Be[Kt],Ln=ft.length-1,Rn=ft[0],Jn=ft[Ln];for(;Bt<=Kt&&kt<=Ln;)if(null==an)an=Be[++Bt];else if(null==bn)bn=Be[--Kt];else if(null==Rn)Rn=ft[++kt];else if(null==Jn)Jn=ft[--Ln];else if(cn(an,Rn))tn(an,Rn),an=Be[++Bt],Rn=ft[++kt];else if(cn(bn,Jn))tn(bn,Jn),bn=Be[--Kt],Jn=ft[--Ln];else if(cn(an,Jn))("slot"===an.$tag$||"slot"===Jn.$tag$)&&St(an.$elm$.parentNode,!1),tn(an,Jn),He.insertBefore(an.$elm$,bn.$elm$.nextSibling),an=Be[++Bt],Jn=ft[--Ln];else if(cn(bn,Rn))("slot"===an.$tag$||"slot"===Jn.$tag$)&&St(bn.$elm$.parentNode,!1),tn(bn,Rn),He.insertBefore(bn.$elm$,an.$elm$),bn=Be[--Kt],Rn=ft[++kt];else{for(qt=-1,ln=Bt;ln<=Kt;++ln)if(Be[ln]&&null!==Be[ln].$key$&&Be[ln].$key$===Rn.$key$){qt=ln;break}qt>=0?(lr=Be[qt],lr.$tag$!==Rn.$tag$?Pr=nt(Be&&Be[kt],ot,qt,He):(tn(lr,Rn),Be[qt]=void 0,Pr=lr.$elm$),Rn=ft[++kt]):(Pr=nt(Be&&Be[kt],ot,kt,He),Rn=ft[++kt]),Pr&&dn(an.$elm$).insertBefore(Pr,Ht(an.$elm$))}Bt>Kt?Wt(He,null==ft[Ln+1]?null:ft[Ln+1].$elm$,ot,ft,kt,Ln):kt>Ln&&Ct(Be,Bt,Kt)})(ot,ft,Be,Bt):null!==Bt?(null!==He.$text$&&(ot.textContent=""),Wt(ot,null,Be,Bt,0,Bt.length-1)):null!==ft&&Ct(ft,0,ft.length-1),m&&"svg"===kt&&(m=!1)):(ln=ot["s-cr"])?ln.parentNode.textContent=qt:He.$text$!==qt&&(ot.data=qt)},dt=He=>{const Be=He.childNodes;let ot,ft,Bt,kt,qt,ln;for(ft=0,Bt=Be.length;ft<Bt;ft++)if(ot=Be[ft],1===ot.nodeType){if(ot["s-sr"])for(qt=ot["s-sn"],ot.hidden=!1,kt=0;kt<Bt;kt++)if(ln=Be[kt].nodeType,Be[kt]["s-hn"]!==ot["s-hn"]||""!==qt){if(1===ln&&qt===Be[kt].getAttribute("slot")){ot.hidden=!0;break}}else if(1===ln||3===ln&&""!==Be[kt].textContent.trim()){ot.hidden=!0;break}dt(ot)}},Ut=[],wt=He=>{let Be,ot,ft,Bt,kt,qt,ln=0;const Kt=He.childNodes,an=Kt.length;for(;ln<an;ln++){if(Be=Kt[ln],Be["s-sr"]&&(ot=Be["s-cr"])&&ot.parentNode)for(ft=ot.parentNode.childNodes,Bt=Be["s-sn"],qt=ft.length-1;qt>=0;qt--)ot=ft[qt],!ot["s-cn"]&&!ot["s-nr"]&&ot["s-hn"]!==Be["s-hn"]&&(Pe(ot,Bt)?(kt=Ut.find(bn=>bn.$nodeToRelocate$===ot),O=!0,ot["s-sn"]=ot["s-sn"]||Bt,kt?kt.$slotRefNode$=Be:Ut.push({$slotRefNode$:Be,$nodeToRelocate$:ot}),ot["s-sr"]&&Ut.map(bn=>{Pe(bn.$nodeToRelocate$,ot["s-sn"])&&(kt=Ut.find(Ln=>Ln.$nodeToRelocate$===ot),kt&&!bn.$slotRefNode$&&(bn.$slotRefNode$=kt.$slotRefNode$))})):Ut.some(bn=>bn.$nodeToRelocate$===ot)||Ut.push({$nodeToRelocate$:ot}));1===Be.nodeType&&wt(Be)}},Pe=(He,Be)=>1===He.nodeType?null===He.getAttribute("slot")&&""===Be||He.getAttribute("slot")===Be:He["s-sn"]===Be||""===Be,Ue=He=>{He.$attrs$&&He.$attrs$.ref&&He.$attrs$.ref(null),He.$children$&&He.$children$.map(Ue)},ze=(He,Be)=>{Be&&!He.$onRenderResolve$&&Be["s-p"]&&Be["s-p"].push(new Promise(ot=>He.$onRenderResolve$=ot))},mt=(He,Be)=>{if(He.$flags$|=16,!(4&He.$flags$))return ze(He,He.$ancestorComponent$),Fr(()=>Dt(He,Be));He.$flags$|=512},Dt=(He,Be)=>{const ft=He.$lazyInstance$;let Bt;return Be&&(He.$flags$|=256,He.$queuedListeners$&&(He.$queuedListeners$.map(([kt,qt])=>fn(ft,kt,qt)),He.$queuedListeners$=void 0),Bt=fn(ft,"componentWillLoad")),Bt=ut(Bt,()=>fn(ft,"componentWillRender")),ut(Bt,()=>jt(He,ft,Be))},ut=(He,Be)=>xt(He)?He.then(Be):Be(),xt=He=>He instanceof Promise||He&&He.then&&"function"==typeof He.then,jt=function(){var He=(0,H.Z)(function*(Be,ot,ft){var Bt;const kt=Be.$hostElement$,ln=kt["s-rc"];ft&&(He=>{const Be=He.$cmpMeta$,ot=He.$hostElement$,ft=Be.$flags$,kt=je(ot.shadowRoot?ot.shadowRoot:ot.getRootNode(),Be,He.$modeName$);10&ft&&(ot["s-sc"]=kt,ot.classList.add(kt+"-h"),2&ft&&ot.classList.add(kt+"-s"))})(Be);At(Be,ot,kt,ft),ln&&(ln.map(an=>an()),kt["s-rc"]=void 0);{const an=null!==(Bt=kt["s-p"])&&void 0!==Bt?Bt:[],bn=()=>Jt(Be);0===an.length?bn():(Promise.all(an).then(bn),Be.$flags$|=4,an.length=0)}});return function(ot,ft,Bt){return He.apply(this,arguments)}}(),At=(He,Be,ot,ft)=>{try{Be=Be.render&&Be.render(),He.$flags$&=-17,He.$flags$|=2,((He,Be,ot=!1)=>{const ft=He.$hostElement$,Bt=He.$cmpMeta$,kt=He.$vnode$||D(null,null),qt=(He=>He&&He.$tag$===R)(Be)?Be:I(null,null,Be);if(r=ft.tagName,Bt.$attrsToReflect$&&(qt.$attrs$=qt.$attrs$||{},Bt.$attrsToReflect$.map(([ln,Kt])=>qt.$attrs$[Kt]=ft[ln])),ot&&qt.$attrs$)for(const ln of Object.keys(qt.$attrs$))ft.hasAttribute(ln)&&!["key","ref","style","class"].includes(ln)&&(qt.$attrs$[ln]=ft[ln]);if(qt.$tag$=null,qt.$flags$|=4,He.$vnode$=qt,qt.$elm$=kt.$elm$=ft.shadowRoot||ft,st=ft["s-sc"],X=ft["s-cr"],G=0!=(1&Bt.$flags$),O=!1,tn(kt,qt),An.$flags$|=1,f){wt(qt.$elm$);let ln,Kt,an,bn,Ln,Rn,Jn=0;for(;Jn<Ut.length;Jn++)ln=Ut[Jn],Kt=ln.$nodeToRelocate$,Kt["s-ol"]||(an=Yt.createTextNode(""),an["s-nr"]=Kt,Kt.parentNode.insertBefore(Kt["s-ol"]=an,Kt));for(Jn=0;Jn<Ut.length;Jn++)if(ln=Ut[Jn],Kt=ln.$nodeToRelocate$,ln.$slotRefNode$){for(bn=ln.$slotRefNode$.parentNode,Ln=ln.$slotRefNode$.nextSibling,an=Kt["s-ol"];an=an.previousSibling;)if(Rn=an["s-nr"],Rn&&Rn["s-sn"]===Kt["s-sn"]&&bn===Rn.parentNode&&(Rn=Rn.nextSibling,!Rn||!Rn["s-nr"])){Ln=Rn;break}(!Ln&&bn!==Kt.parentNode||Kt.nextSibling!==Ln)&&Kt!==Ln&&(!Kt["s-hn"]&&Kt["s-ol"]&&(Kt["s-hn"]=Kt["s-ol"].parentNode.nodeName),bn.insertBefore(Kt,Ln))}else 1===Kt.nodeType&&(Kt.hidden=!0)}O&&dt(qt.$elm$),An.$flags$&=-2,Ut.length=0})(He,Be,ft)}catch(Bt){ke(Bt,He.$hostElement$)}return null},Jt=He=>{const ot=He.$hostElement$,Bt=He.$lazyInstance$,kt=He.$ancestorComponent$;fn(Bt,"componentDidRender"),64&He.$flags$?fn(Bt,"componentDidUpdate"):(He.$flags$|=64,Mn(ot),fn(Bt,"componentDidLoad"),He.$onReadyResolve$(ot),kt||_n()),He.$onInstanceResolve$(ot),He.$onRenderResolve$&&(He.$onRenderResolve$(),He.$onRenderResolve$=void 0),512&He.$flags$&&Lr(()=>mt(He,!1)),He.$flags$&=-517},gn=He=>{{const Be=de(He),ot=Be.$hostElement$.isConnected;return ot&&2==(18&Be.$flags$)&&mt(Be,!1),ot}},_n=He=>{Mn(Yt.documentElement),Lr(()=>$e(Cn,"appload",{detail:{namespace:"ionic"}}))},fn=(He,Be,ot)=>{if(He&&He[Be])try{return He[Be](ot)}catch(ft){ke(ft)}},Mn=He=>He.classList.add("hydrated"),Nt=(He,Be,ot)=>{var ft;if(Be.$members$){He.watchers&&(Be.$watchers$=He.watchers);const Bt=Object.entries(Be.$members$),kt=He.prototype;if(Bt.map(([qt,[ln]])=>{31&ln||2&ot&&32&ln?Object.defineProperty(kt,qt,{get(){return((He,Be)=>de(this).$instanceValues$.get(Be))(0,qt)},set(Kt){((He,Be,ot,ft)=>{const Bt=de(He),kt=Bt.$hostElement$,qt=Bt.$instanceValues$.get(Be),ln=Bt.$flags$,Kt=Bt.$lazyInstance$;ot=((He,Be)=>null==He||L(He)?He:4&Be?"false"!==He&&(""===He||!!He):2&Be?parseFloat(He):1&Be?String(He):He)(ot,ft.$members$[Be][0]);const an=Number.isNaN(qt)&&Number.isNaN(ot);if((!(8&ln)||void 0===qt)&&ot!==qt&&!an&&(Bt.$instanceValues$.set(Be,ot),Kt)){if(ft.$watchers$&&128&ln){const Ln=ft.$watchers$[Be];Ln&&Ln.map(Rn=>{try{Kt[Rn](ot,qt,Be)}catch(Jn){ke(Jn,kt)}})}2==(18&ln)&&mt(Bt,!1)}})(this,qt,Kt,Be)},configurable:!0,enumerable:!0}):1&ot&&64&ln&&Object.defineProperty(kt,qt,{value(...Kt){const an=de(this);return an.$onInstancePromise$.then(()=>an.$lazyInstance$[qt](...Kt))}})}),1&ot){const qt=new Map;kt.attributeChangedCallback=function(ln,Kt,an){An.jmp(()=>{const bn=qt.get(ln);if(this.hasOwnProperty(bn))an=this[bn],delete this[bn];else{if(kt.hasOwnProperty(bn)&&"number"==typeof this[bn]&&this[bn]==an)return;if(null==bn){const Ln=de(this),Rn=null==Ln?void 0:Ln.$flags$;if(!(8&Rn)&&128&Rn&&an!==Kt){const Jn=Ln.$lazyInstance$,Pr=Be.$watchers$[ln];null==Pr||Pr.forEach(lr=>{null!=Jn[lr]&&Jn[lr].call(Jn,an,Kt,ln)})}return}}this[bn]=(null!==an||"boolean"!=typeof this[bn])&&an})},He.observedAttributes=Array.from(new Set([...Object.keys(null!==(ft=Be.$watchers$)&&void 0!==ft?ft:{}),...Bt.filter(([ln,Kt])=>15&Kt[0]).map(([ln,Kt])=>{const an=Kt[1]||ln;return qt.set(an,ln),512&Kt[0]&&Be.$attrsToReflect$.push([ln,an]),an})]))}}return He},gt=function(){var He=(0,H.Z)(function*(Be,ot,ft,Bt,kt){if(!(32&ot.$flags$)){ot.$flags$|=32;{if((kt=tt(ft)).then){const an=()=>{};kt=yield kt,an()}kt.isProxied||(ft.$watchers$=kt.watchers,Nt(kt,ft,2),kt.isProxied=!0);const Kt=()=>{};ot.$flags$|=8;try{new kt(ot)}catch(an){ke(an)}ot.$flags$&=-9,ot.$flags$|=128,Kt(),Mt(ot.$lazyInstance$)}if(kt.style){let Kt=kt.style;"string"!=typeof Kt&&(Kt=Kt[ot.$modeName$=(He=>Gt.map(Be=>Be(He)).find(Be=>!!Be))(Be)]);const an=Ye(ft,ot.$modeName$);if(!Ot.has(an)){const bn=()=>{};Ge(an,Kt,!!(1&ft.$flags$)),bn()}}}const qt=ot.$ancestorComponent$,ln=()=>mt(ot,!0);qt&&qt["s-rc"]?qt["s-rc"].push(ln):ln()});return function(ot,ft,Bt,kt,qt){return He.apply(this,arguments)}}(),Mt=He=>{fn(He,"connectedCallback")},sn=He=>{const Be=He["s-cr"]=Yt.createComment("");Be["s-cn"]=!0,He.insertBefore(Be,He.firstChild)},In=He=>{fn(He,"disconnectedCallback")},En=function(){var He=(0,H.Z)(function*(Be){if(!(1&An.$flags$)){const ot=de(Be);ot.$rmListeners$&&(ot.$rmListeners$.map(ft=>ft()),ot.$rmListeners$=void 0),null!=ot&&ot.$lazyInstance$?In(ot.$lazyInstance$):null!=ot&&ot.$onReadyPromise$&&ot.$onReadyPromise$.then(()=>In(ot.$lazyInstance$))}});return function(ot){return He.apply(this,arguments)}}(),Bn=(He,Be={})=>{var ot;const Bt=[],kt=Be.exclude||[],qt=Cn.customElements,ln=Yt.head,Kt=ln.querySelector("meta[charset]"),an=Yt.createElement("style"),bn=[],Ln=Yt.querySelectorAll(`[${v}]`);let Rn,Jn=!0,Pr=0;for(Object.assign(An,Be),An.$resourcesUrl$=new URL(Be.resourcesUrl||"./",Yt.baseURI).href,An.$flags$|=2;Pr<Ln.length;Pr++)Ge(Ln[Pr].getAttribute(v),Ne(Ln[Pr].innerHTML),!0);He.map(lr=>{lr[1].map(to=>{var po;const Yr={$flags$:to[0],$tagName$:to[1],$members$:to[2],$listeners$:to[3]};Yr.$members$=to[2],Yr.$listeners$=to[3],Yr.$attrsToReflect$=[],Yr.$watchers$=null!==(po=to[4])&&void 0!==po?po:{};const mo=Yr.$tagName$,Co=class extends HTMLElement{constructor(uo){super(uo),te(uo=this,Yr),1&Yr.$flags$&&uo.attachShadow({mode:"open",delegatesFocus:!!(16&Yr.$flags$)})}connectedCallback(){Rn&&(clearTimeout(Rn),Rn=null),Jn?bn.push(this):An.jmp(()=>(He=>{if(!(1&An.$flags$)){const Be=de(He),ot=Be.$cmpMeta$,ft=()=>{};if(1&Be.$flags$)ee(He,Be,ot.$listeners$),null!=Be&&Be.$lazyInstance$?Mt(Be.$lazyInstance$):null!=Be&&Be.$onReadyPromise$&&Be.$onReadyPromise$.then(()=>Mt(Be.$lazyInstance$));else{let Bt;if(Be.$flags$|=1,Bt=He.getAttribute(p),Bt){if(1&ot.$flags$){const kt=je(He.shadowRoot,ot,He.getAttribute("s-mode"));He.classList.remove(kt+"-h",kt+"-s")}((He,Be,ot,ft)=>{const kt=He.shadowRoot,qt=[],Kt=kt?[]:null,an=ft.$vnode$=D(Be,null);An.$orgLocNodes$||fe(Yt.body,An.$orgLocNodes$=new Map),He[p]=ot,He.removeAttribute(p),se(an,qt,[],Kt,He,He,ot),qt.map(bn=>{const Ln=bn.$hostId$+"."+bn.$nodeId$,Rn=An.$orgLocNodes$.get(Ln),Jn=bn.$elm$;Rn&&tr&&""===Rn["s-en"]&&Rn.parentNode.insertBefore(Jn,Rn.nextSibling),kt||(Jn["s-hn"]=Be,Rn&&(Jn["s-ol"]=Rn,Jn["s-ol"]["s-nr"]=Jn)),An.$orgLocNodes$.delete(Ln)}),kt&&Kt.map(bn=>{bn&&kt.appendChild(bn)})})(He,ot.$tagName$,Bt,Be)}Bt||12&ot.$flags$&&sn(He);{let kt=He;for(;kt=kt.parentNode||kt.host;)if(1===kt.nodeType&&kt.hasAttribute("s-id")&&kt["s-p"]||kt["s-p"]){ze(Be,Be.$ancestorComponent$=kt);break}}ot.$members$&&Object.entries(ot.$members$).map(([kt,[qt]])=>{if(31&qt&&He.hasOwnProperty(kt)){const ln=He[kt];delete He[kt],He[kt]=ln}}),gt(He,Be,ot)}ft()}})(this))}disconnectedCallback(){An.jmp(()=>En(this))}componentOnReady(){return de(this).$onReadyPromise$}};Yr.$lazyBundleId$=lr[0],!kt.includes(mo)&&!qt.get(mo)&&(Bt.push(mo),qt.define(mo,Nt(Co,Yr,1)))})});{an.innerHTML=Bt+"{visibility:hidden}.hydrated{visibility:inherit}",an.setAttribute("data-styles","");const lr=null!==(ot=An.$nonce$)&&void 0!==ot?ot:U(Yt);null!=lr&&an.setAttribute("nonce",lr),ln.insertBefore(an,Kt?Kt.nextSibling:ln.firstChild)}Jn=!1,bn.length?bn.map(lr=>lr.connectedCallback()):An.jmp(()=>Rn=setTimeout(_n,30))},ee=(He,Be,ot,ft)=>{ot&&ot.map(([Bt,kt,qt])=>{const ln=Se(He,Bt),Kt=_e(Be,qt),an=B(Bt);An.ael(ln,kt,Kt,an),(Be.$rmListeners$=Be.$rmListeners$||[]).push(()=>An.rel(ln,kt,Kt,an))})},_e=(He,Be)=>ot=>{try{256&He.$flags$?He.$lazyInstance$[Be](ot):(He.$queuedListeners$=He.$queuedListeners$||[]).push([Be,ot])}catch(ft){ke(ft)}},Se=(He,Be)=>4&Be?Yt:8&Be?Cn:16&Be?Yt.body:He,B=He=>0!=(2&He),W=new WeakMap,de=He=>W.get(He),ne=(He,Be)=>W.set(Be.$lazyInstance$=He,Be),te=(He,Be)=>{const ot={$flags$:0,$hostElement$:He,$cmpMeta$:Be,$instanceValues$:new Map};return ot.$onInstancePromise$=new Promise(ft=>ot.$onInstanceResolve$=ft),ot.$onReadyPromise$=new Promise(ft=>ot.$onReadyResolve$=ft),He["s-p"]=[],He["s-rc"]=[],ee(He,ot,Be.$listeners$),W.set(He,ot)},ge=(He,Be)=>Be in He,ke=(He,Be)=>(0,console.error)(He,Be),Xe=new Map,tt=(He,Be,ot)=>{const ft=He.$tagName$.replace(/-/g,"_"),Bt=He.$lazyBundleId$,kt=Xe.get(Bt);return kt?kt[ft]:me(863)(`./${Bt}.entry.js`).then(qt=>(Xe.set(Bt,qt),qt[ft]),ke)},Ot=new Map,Gt=[],Cn=typeof window<"u"?window:{},Yt=Cn.document||{head:{}},An={$flags$:0,$resourcesUrl$:"",jmp:He=>He(),raf:He=>requestAnimationFrame(He),ael:(He,Be,ot,ft)=>He.addEventListener(Be,ot,ft),rel:(He,Be,ot,ft)=>He.removeEventListener(Be,ot,ft),ce:(He,Be)=>new CustomEvent(He,Be)},Xn=He=>{Object.assign(An,He)},tr=!0,Cr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),gr=[],Or=[],yr=(He,Be)=>ot=>{He.push(ot),d||(d=!0,Be&&4&An.$flags$?Lr(Ir):An.raf(Ir))},Gr=He=>{for(let Be=0;Be<He.length;Be++)try{He[Be](performance.now())}catch(ot){ke(ot)}He.length=0},Ir=()=>{Gr(gr),Gr(Or),(d=gr.length>0)&&An.raf(Ir)},Lr=He=>Promise.resolve(void 0).then(He),Sr=yr(gr,!1),Fr=yr(Or,!0)},6710:(nn,Et,me)=>{"use strict";me.d(Et,{a:()=>j,b:()=>st,p:()=>H});const H=(X,...r)=>console.warn(`[Ionic Warning]: ${X}`,...r),j=(X,...r)=>console.error(`[Ionic Error]: ${X}`,...r),st=(X,...r)=>console.error(`<${X.tagName.toLowerCase()}> must be used inside ${r.join(" or ")}.`)},4505:(nn,Et,me)=>{"use strict";me.d(Et,{m:()=>y});var H=me(5861),j=me(2124),st=me(839),X=me(152),r=me(1774);const G=w=>(0,r.c)().duration(w?400:300),O=w=>{let b,i;const l=w.width+8,h=(0,r.c)(),s=(0,r.c)();w.isEndSide?(b=l+"px",i="0px"):(b=-l+"px",i="0px"),h.addElement(w.menuInnerEl).fromTo("transform",`translateX(${b})`,`translateX(${i})`);const p="ios"===(0,X.b)(w),v=p?.2:.25;return s.addElement(w.backdropEl).fromTo("opacity",.01,v),G(p).addAnimation([h,s])},f=w=>{let b,i;const l=(0,X.b)(w),h=w.width;w.isEndSide?(b=-h+"px",i=h+"px"):(b=h+"px",i=-h+"px");const s=(0,r.c)().addElement(w.menuInnerEl).fromTo("transform",`translateX(${i})`,"translateX(0px)"),c=(0,r.c)().addElement(w.contentEl).fromTo("transform","translateX(0px)",`translateX(${b})`),p=(0,r.c)().addElement(w.backdropEl).fromTo("opacity",.01,.32);return G("ios"===l).addAnimation([s,c,p])},m=w=>{const b=(0,X.b)(w),i=w.width*(w.isEndSide?-1:1)+"px",l=(0,r.c)().addElement(w.contentEl).fromTo("transform","translateX(0px)",`translateX(${i})`);return G("ios"===b).addAnimation(l)},y=(()=>{const w=new Map,b=[],i=function(){var T=(0,H.Z)(function*(K){const se=yield a(K);return!!se&&se.open()});return function(se){return T.apply(this,arguments)}}(),l=function(){var T=(0,H.Z)(function*(K){const se=yield void 0!==K?a(K):g();return void 0!==se&&se.close()});return function(se){return T.apply(this,arguments)}}(),h=function(){var T=(0,H.Z)(function*(K){const se=yield a(K);return!!se&&se.toggle()});return function(se){return T.apply(this,arguments)}}(),s=function(){var T=(0,H.Z)(function*(K,se){const fe=yield a(se);return fe&&(fe.disabled=!K),fe});return function(se,fe){return T.apply(this,arguments)}}(),c=function(){var T=(0,H.Z)(function*(K,se){const fe=yield a(se);return fe&&(fe.swipeGesture=K),fe});return function(se,fe){return T.apply(this,arguments)}}(),p=function(){var T=(0,H.Z)(function*(K){if(null!=K){const se=yield a(K);return void 0!==se&&se.isOpen()}return void 0!==(yield g())});return function(se){return T.apply(this,arguments)}}(),v=function(){var T=(0,H.Z)(function*(K){const se=yield a(K);return!!se&&!se.disabled});return function(se){return T.apply(this,arguments)}}(),a=function(){var T=(0,H.Z)(function*(K){return yield Q(),"start"===K||"end"===K?N(Ie=>Ie.side===K&&!Ie.disabled)||N(Ie=>Ie.side===K):null!=K?N(fe=>fe.menuId===K):N(fe=>!fe.disabled)||(b.length>0?b[0].el:void 0)});return function(se){return T.apply(this,arguments)}}(),g=function(){var T=(0,H.Z)(function*(){return yield Q(),D()});return function(){return T.apply(this,arguments)}}(),E=function(){var T=(0,H.Z)(function*(){return yield Q(),R()});return function(){return T.apply(this,arguments)}}(),$=function(){var T=(0,H.Z)(function*(){return yield Q(),V()});return function(){return T.apply(this,arguments)}}(),k=(T,K)=>{w.set(T,K)},L=T=>{const K=T.side;b.filter(se=>se.side===K&&se!==T).forEach(se=>se.disabled=!0)},U=function(){var T=(0,H.Z)(function*(K,se,fe){if(V())return!1;if(se){const Ie=yield g();Ie&&K.el!==Ie&&(yield Ie.setOpen(!1,!1))}return K._setOpen(se,fe)});return function(se,fe,Ie){return T.apply(this,arguments)}}(),D=()=>N(T=>T._isOpen),R=()=>b.map(T=>T.el),V=()=>b.some(T=>T.isAnimating),N=T=>{const K=b.find(T);if(void 0!==K)return K.el},Q=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(T=>new Promise(K=>(0,st.c)(T,K))));return k("reveal",m),k("push",f),k("overlay",O),typeof document<"u"&&document.addEventListener("ionBackButton",T=>{const K=D();K&&T.detail.register(j.MENU_BACK_BUTTON_PRIORITY,()=>K.close())}),{registerAnimation:k,get:a,getMenus:E,getOpen:g,isEnabled:v,swipeGesture:c,isAnimating:$,isOpen:p,enable:s,toggle:h,close:l,open:i,_getOpenSync:D,_createAnimation:(T,K)=>{const se=w.get(T);if(!se)throw new Error("animation not registered");return se(K)},_register:T=>{b.indexOf(T)<0&&(T.disabled||L(T),b.push(T))},_unregister:T=>{const K=b.indexOf(T);K>-1&&b.splice(K,1)},_setOpen:U,_setActiveMenu:L}})()},6225:(nn,Et,me)=>{"use strict";me.d(Et,{d:()=>j,w:()=>H});const H=typeof window<"u"?window:void 0,j=typeof document<"u"?document:void 0},2690:(nn,Et,me)=>{"use strict";me.d(Et,{L:()=>X,a:()=>r,b:()=>G,c:()=>O,d:()=>f,e:()=>k,g:()=>L,l:()=>E,s:()=>M,t:()=>y,w:()=>$});var H=me(5861),j=me(2364),st=me(839);const X="ionViewWillEnter",r="ionViewDidEnter",G="ionViewWillLeave",O="ionViewDidLeave",f="ionViewWillUnload",y=U=>new Promise((I,D)=>{(0,j.w)(()=>{w(U),b(U).then(R=>{R.animation&&R.animation.destroy(),i(U),I(R)},R=>{i(U),D(R)})})}),w=U=>{const I=U.enteringEl,D=U.leavingEl;A(I,D,U.direction),U.showGoBack?I.classList.add("can-go-back"):I.classList.remove("can-go-back"),M(I,!1),I.style.setProperty("pointer-events","none"),D&&(M(D,!1),D.style.setProperty("pointer-events","none"))},b=function(){var U=(0,H.Z)(function*(I){const D=yield l(I);return D&&j.B.isBrowser?h(D,I):s(I)});return function(D){return U.apply(this,arguments)}}(),i=U=>{const I=U.enteringEl,D=U.leavingEl;I.classList.remove("ion-page-invisible"),I.style.removeProperty("pointer-events"),void 0!==D&&(D.classList.remove("ion-page-invisible"),D.style.removeProperty("pointer-events"))},l=function(){var U=(0,H.Z)(function*(I){return I.leavingEl&&I.animated&&0!==I.duration?I.animationBuilder?I.animationBuilder:"ios"===I.mode?(yield Promise.resolve().then(me.bind(me,7006))).iosTransitionAnimation:(yield Promise.resolve().then(me.bind(me,2952))).mdTransitionAnimation:void 0});return function(D){return U.apply(this,arguments)}}(),h=function(){var U=(0,H.Z)(function*(I,D){yield c(D,!0);const R=I(D.baseEl,D);a(D.enteringEl,D.leavingEl);const V=yield v(R,D);return D.progressCallback&&D.progressCallback(void 0),V&&g(D.enteringEl,D.leavingEl),{hasCompleted:V,animation:R}});return function(D,R){return U.apply(this,arguments)}}(),s=function(){var U=(0,H.Z)(function*(I){const D=I.enteringEl,R=I.leavingEl;return yield c(I,!1),a(D,R),g(D,R),{hasCompleted:!0}});return function(D){return U.apply(this,arguments)}}(),c=function(){var U=(0,H.Z)(function*(I,D){(void 0!==I.deepWait?I.deepWait:D)&&(yield Promise.all([k(I.enteringEl),k(I.leavingEl)])),yield p(I.viewIsReady,I.enteringEl)});return function(D,R){return U.apply(this,arguments)}}(),p=function(){var U=(0,H.Z)(function*(I,D){I&&(yield I(D))});return function(D,R){return U.apply(this,arguments)}}(),v=(U,I)=>{const D=I.progressCallback,R=new Promise(V=>{U.onFinish(N=>V(1===N))});return D?(U.progressStart(!0),D(U)):U.play(),R},a=(U,I)=>{E(I,G),E(U,X)},g=(U,I)=>{E(U,r),E(I,O)},E=(U,I)=>{if(U){const D=new CustomEvent(I,{bubbles:!1,cancelable:!1});U.dispatchEvent(D)}},$=()=>new Promise(U=>(0,st.r)(()=>(0,st.r)(()=>U()))),k=function(){var U=(0,H.Z)(function*(I){const D=I;if(D){if(null!=D.componentOnReady){if(null!=(yield D.componentOnReady()))return}else if(null!=D.__registerHost)return void(yield new Promise(V=>(0,st.r)(V)));yield Promise.all(Array.from(D.children).map(k))}});return function(D){return U.apply(this,arguments)}}(),M=(U,I)=>{I?(U.setAttribute("aria-hidden","true"),U.classList.add("ion-page-hidden")):(U.hidden=!1,U.removeAttribute("aria-hidden"),U.classList.remove("ion-page-hidden"))},A=(U,I,D)=>{void 0!==U&&(U.style.zIndex="back"===D?"99":"101"),void 0!==I&&(I.style.zIndex="100")},L=U=>U.classList.contains("ion-page")?U:U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||U},9203:(nn,Et,me)=>{"use strict";me.r(Et),me.d(Et,{GESTURE_CONTROLLER:()=>H.G,createGesture:()=>m});var H=me(619);const j=(b,i,l,h)=>{const s=st(b)?{capture:!!h.capture,passive:!!h.passive}:!!h.capture;let c,p;return b.__zone_symbol__addEventListener?(c="__zone_symbol__addEventListener",p="__zone_symbol__removeEventListener"):(c="addEventListener",p="removeEventListener"),b[c](i,l,s),()=>{b[p](i,l,s)}},st=b=>{if(void 0===X)try{const i=Object.defineProperty({},"passive",{get:()=>{X=!0}});b.addEventListener("optsTest",()=>{},i)}catch{X=!1}return!!X};let X;const O=b=>b instanceof Document?b:b.ownerDocument,m=b=>{let i=!1,l=!1,h=!0,s=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},b),p=c.canStart,v=c.onWillStart,a=c.onStart,g=c.onEnd,E=c.notCaptured,$=c.onMove,k=c.threshold,M=c.passive,A=c.blurOnStart,L={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},U=((b,i,l)=>{const h=l*(Math.PI/180),s="x"===b,c=Math.cos(h),p=i*i;let v=0,a=0,g=!1,E=0;return{start($,k){v=$,a=k,E=0,g=!0},detect($,k){if(!g)return!1;const M=$-v,A=k-a,L=M*M+A*A;if(L<p)return!1;const U=Math.sqrt(L),I=(s?M:A)/U;return E=I>c?1:I<-c?-1:0,g=!1,!0},isGesture:()=>0!==E,getDirection:()=>E}})(c.direction,c.threshold,c.maxAngle),I=H.G.createGesture({name:b.gestureName,priority:b.gesturePriority,disableScroll:b.disableScroll}),V=()=>{i&&(s=!1,$&&$(L))},N=()=>!!I.capture()&&(i=!0,h=!1,L.startX=L.currentX,L.startY=L.currentY,L.startTime=L.currentTime,v?v(L).then(T):T(),!0),T=()=>{A&&(()=>{if(typeof document<"u"){const Z=document.activeElement;null!=Z&&Z.blur&&Z.blur()}})(),a&&a(L),h=!0},K=()=>{i=!1,l=!1,s=!1,h=!0,I.release()},se=Z=>{const ie=i,pe=h;if(K(),pe){if(d(L,Z),ie)return void(g&&g(L));E&&E(L)}},fe=((b,i,l,h,s)=>{let c,p,v,a,g,E,$,k=0;const M=Q=>{k=Date.now()+2e3,i(Q)&&(!p&&l&&(p=j(b,"touchmove",l,s)),v||(v=j(Q.target,"touchend",L,s)),a||(a=j(Q.target,"touchcancel",L,s)))},A=Q=>{k>Date.now()||i(Q)&&(!E&&l&&(E=j(O(b),"mousemove",l,s)),$||($=j(O(b),"mouseup",U,s)))},L=Q=>{I(),h&&h(Q)},U=Q=>{D(),h&&h(Q)},I=()=>{p&&p(),v&&v(),a&&a(),p=v=a=void 0},D=()=>{E&&E(),$&&$(),E=$=void 0},R=()=>{I(),D()},V=(Q=!0)=>{Q?(c||(c=j(b,"touchstart",M,s)),g||(g=j(b,"mousedown",A,s))):(c&&c(),g&&g(),c=g=void 0,R())};return{enable:V,stop:R,destroy:()=>{V(!1),h=l=i=void 0}}})(c.el,Z=>{const ie=w(Z);return!(l||!h||(y(Z,L),L.startX=L.currentX,L.startY=L.currentY,L.startTime=L.currentTime=ie,L.velocityX=L.velocityY=L.deltaX=L.deltaY=0,L.event=Z,p&&!1===p(L))||(I.release(),!I.start()))&&(l=!0,0===k?N():(U.start(L.startX,L.startY),!0))},Z=>{i?!s&&h&&(s=!0,d(L,Z),requestAnimationFrame(V)):(d(L,Z),U.detect(L.currentX,L.currentY)&&(!U.isGesture()||!N())&&Ie())},se,{capture:!1,passive:M}),Ie=()=>{K(),fe.stop(),E&&E(L)};return{enable(Z=!0){Z||(i&&se(void 0),K()),fe.enable(Z)},destroy(){I.destroy(),fe.destroy()}}},d=(b,i)=>{if(!i)return;const l=b.currentX,h=b.currentY,s=b.currentTime;y(i,b);const c=b.currentX,p=b.currentY,a=(b.currentTime=w(i))-s;if(a>0&&a<100){const E=(p-h)/a;b.velocityX=(c-l)/a*.7+.3*b.velocityX,b.velocityY=.7*E+.3*b.velocityY}b.deltaX=c-b.startX,b.deltaY=p-b.startY,b.event=i},y=(b,i)=>{let l=0,h=0;if(b){const s=b.changedTouches;if(s&&s.length>0){const c=s[0];l=c.clientX,h=c.clientY}else void 0!==b.pageX&&(l=b.pageX,h=b.pageY)}i.currentX=l,i.currentY=h},w=b=>b.timeStamp||Date.now()},1450:(nn,Et,me)=>{"use strict";me.d(Et,{AK:()=>G.g,Cl:()=>d.a,EQ:()=>j.b,F8:()=>j.d,Fy:()=>d.m,G0:()=>d.l,Jd:()=>j.c,Nn:()=>st.iosTransitionAnimation,hh:()=>O.c,kx:()=>j.L,n$:()=>G.a,oq:()=>d.c,pg:()=>X.mdTransitionAnimation,qc:()=>f.s,re:()=>j.a}),me(1774);var j=me(2690),st=me(7006),X=me(2952),G=(me(9203),me(152)),O=me(839),f=me(3365),d=(me(4505),me(1912));me(6225),me(2364),me(619)},152:(nn,Et,me)=>{"use strict";me.d(Et,{a:()=>y,b:()=>V,c:()=>st,g:()=>d,i:()=>N});var H=me(2364);class j{constructor(){this.m=new Map}reset(T){this.m=new Map(Object.entries(T))}get(T,K){const se=this.m.get(T);return void 0!==se?se:K}getBoolean(T,K=!1){const se=this.m.get(T);return void 0===se?K:"string"==typeof se?"true"===se:!!se}getNumber(T,K){const se=parseFloat(this.m.get(T));return isNaN(se)?void 0!==K?K:NaN:se}set(T,K){this.m.set(T,K)}}const st=new j,f="ionic:",m="ionic-persist-config",d=Q=>w(Q),y=(Q,T)=>("string"==typeof Q&&(T=Q,Q=void 0),d(Q).includes(T)),w=(Q=window)=>{if(typeof Q>"u")return[];Q.Ionic=Q.Ionic||{};let T=Q.Ionic.platforms;return null==T&&(T=Q.Ionic.platforms=b(Q),T.forEach(K=>Q.document.documentElement.classList.add(`plt-${K}`))),T},b=Q=>{const T=st.get("platform");return Object.keys(D).filter(K=>{const se=null==T?void 0:T[K];return"function"==typeof se?se(Q):D[K](Q)})},l=Q=>!!(U(Q,/iPad/i)||U(Q,/Macintosh/i)&&g(Q)),c=Q=>U(Q,/android|sink/i),g=Q=>I(Q,"(any-pointer:coarse)"),$=Q=>k(Q)||M(Q),k=Q=>!!(Q.cordova||Q.phonegap||Q.PhoneGap),M=Q=>{const T=Q.Capacitor;return!(null==T||!T.isNative)},U=(Q,T)=>T.test(Q.navigator.userAgent),I=(Q,T)=>{var K;return null===(K=Q.matchMedia)||void 0===K?void 0:K.call(Q,T).matches},D={ipad:l,iphone:Q=>U(Q,/iPhone/i),ios:Q=>U(Q,/iPhone|iPod/i)||l(Q),android:c,phablet:Q=>{const T=Q.innerWidth,K=Q.innerHeight,se=Math.min(T,K),fe=Math.max(T,K);return se>390&&se<520&&fe>620&&fe<800},tablet:Q=>{const T=Q.innerWidth,K=Q.innerHeight,se=Math.min(T,K),fe=Math.max(T,K);return l(Q)||(Q=>c(Q)&&!U(Q,/mobile/i))(Q)||se>460&&se<820&&fe>780&&fe<1400},cordova:k,capacitor:M,electron:Q=>U(Q,/electron/i),pwa:Q=>{var T;return!!(null!==(T=Q.matchMedia)&&void 0!==T&&T.call(Q,"(display-mode: standalone)").matches||Q.navigator.standalone)},mobile:g,mobileweb:Q=>g(Q)&&!$(Q),desktop:Q=>!g(Q),hybrid:$};let R;const V=Q=>Q&&(0,H.g)(Q)||R,N=(Q={})=>{if(typeof window>"u")return;const T=window.document,K=window,se=K.Ionic=K.Ionic||{},fe={};Q._ael&&(fe.ael=Q._ael),Q._rel&&(fe.rel=Q._rel),Q._ce&&(fe.ce=Q._ce),(0,H.a)(fe);const Ie=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Q=>{try{const T=Q.sessionStorage.getItem(m);return null!==T?JSON.parse(T):{}}catch{return{}}})(K)),{persistConfig:!1}),se.config),(Q=>{const T={};return Q.location.search.slice(1).split("&").map(K=>K.split("=")).map(([K,se])=>[decodeURIComponent(K),decodeURIComponent(se)]).filter(([K])=>((Q,T)=>Q.substr(0,T.length)===T)(K,f)).map(([K,se])=>[K.slice(6),se]).forEach(([K,se])=>{T[K]=se}),T})(K)),Q);st.reset(Ie),st.getBoolean("persistConfig")&&((Q,T)=>{try{Q.sessionStorage.setItem(m,JSON.stringify(T))}catch{return}})(K,Ie),w(K),se.config=st,se.mode=R=st.get("mode",T.documentElement.getAttribute("mode")||(y(K,"ios")?"ios":"md")),st.set("mode",R),T.documentElement.setAttribute("mode",R),T.documentElement.classList.add(R),st.getBoolean("_testing")&&st.set("animated",!1);const Z=pe=>{var we;return null===(we=pe.tagName)||void 0===we?void 0:we.startsWith("ION-")},ie=pe=>["ios","md"].includes(pe);(0,H.c)(pe=>{for(;pe;){const we=pe.mode||pe.getAttribute("mode");if(we){if(ie(we))return we;Z(pe)&&console.warn('Invalid ionic mode: "'+we+'", expected: "ios" or "md"')}pe=pe.parentElement}return R})}},7006:(nn,Et,me)=>{"use strict";me.r(Et),me.d(Et,{iosTransitionAnimation:()=>b,shadow:()=>O});var H=me(1774),j=me(2690);me(6225),me(2364);const G=i=>document.querySelector(`${i}.ion-cloned-element`),O=i=>i.shadowRoot||i,f=i=>{const l="ION-TABS"===i.tagName?i:i.querySelector("ion-tabs"),h="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=l){const s=l.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=s?s.querySelector(h):null}return i.querySelector(h)},m=(i,l)=>{const h="ION-TABS"===i.tagName?i:i.querySelector("ion-tabs");let s=[];if(null!=h){const c=h.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=c&&(s=c.querySelectorAll("ion-buttons"))}else s=i.querySelectorAll("ion-buttons");for(const c of s){const p=c.closest("ion-header"),v=p&&!p.classList.contains("header-collapse-condense-inactive"),a=c.querySelector("ion-back-button"),g=c.classList.contains("buttons-collapse");if(null!==a&&("start"===c.slot||""===c.slot)&&(g&&v&&l||!g))return a}return null},y=(i,l,h,s,c,p)=>{const v=l?`calc(100% - ${p.right+4}px)`:p.left-4+"px",a=l?"7px":"-7px",g=l?"-4px":"4px",E=l?"-4px":"4px",$=l?"right":"left",k=l?"left":"right",L=h?[{offset:0,opacity:1,transform:`translate3d(${g}, ${p.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${a}, ${c.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${a}, ${c.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${g}, ${p.top-46}px, 0) scale(1)`}],D=h?[{offset:0,opacity:1,transform:`translate3d(${E}, ${p.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${E}, ${p.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${E}, ${p.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${E}, ${p.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${E}, ${p.top-46}px, 0) scale(1)`}],R=(0,H.c)(),V=(0,H.c)(),N=G("ion-back-button"),Q=O(N).querySelector(".button-text"),T=O(N).querySelector("ion-icon");N.text=s.text,N.mode=s.mode,N.icon=s.icon,N.color=s.color,N.disabled=s.disabled,N.style.setProperty("display","block"),N.style.setProperty("position","fixed"),V.addElement(T),R.addElement(Q),R.beforeStyles({"transform-origin":`${$} center`}).beforeAddWrite(()=>{s.style.setProperty("display","none"),N.style.setProperty($,v)}).afterAddWrite(()=>{s.style.setProperty("display",""),N.style.setProperty("display","none"),N.style.removeProperty($)}).keyframes(L),V.beforeStyles({"transform-origin":`${k} center`}).keyframes(D),i.addAnimation([R,V])},w=(i,l,h,s,c,p)=>{const v=l?`calc(100% - ${c.right}px)`:`${c.left}px`,a=l?"-18px":"18px",g=l?"right":"left",k=h?[{offset:0,opacity:0,transform:`translate3d(${a}, ${p.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${c.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${c.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${a}, ${p.top-4}px, 0) scale(0.5)`}],M=G("ion-title"),A=(0,H.c)();M.innerText=s.innerText,M.size=s.size,M.color=s.color,A.addElement(M),A.beforeStyles({"transform-origin":`${g} center`,height:"46px",display:"",position:"relative",[g]:v}).beforeAddWrite(()=>{s.style.setProperty("display","none")}).afterAddWrite(()=>{s.style.setProperty("display",""),M.style.setProperty("display","none")}).keyframes(k),i.addAnimation(A)},b=(i,l)=>{var h;try{const s="cubic-bezier(0.32,0.72,0,1)",c="opacity",p="transform",v="0%",g="rtl"===i.ownerDocument.dir,E=g?"-99.5%":"99.5%",$=g?"33%":"-33%",k=l.enteringEl,M=l.leavingEl,A="back"===l.direction,L=k.querySelector(":scope > ion-content"),U=k.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),I=k.querySelectorAll(":scope > ion-header > ion-toolbar"),D=(0,H.c)(),R=(0,H.c)();if(D.addElement(k).duration((null!==(h=l.duration)&&void 0!==h?h:0)||540).easing(l.easing||s).fill("both").beforeRemoveClass("ion-page-invisible"),M&&null!=i){const T=(0,H.c)();T.addElement(i),D.addAnimation(T)}if(L||0!==I.length||0!==U.length?(R.addElement(L),R.addElement(U)):R.addElement(k.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),D.addAnimation(R),A?R.beforeClearStyles([c]).fromTo("transform",`translateX(${$})`,`translateX(${v})`).fromTo(c,.8,1):R.beforeClearStyles([c]).fromTo("transform",`translateX(${E})`,`translateX(${v})`),L){const T=O(L).querySelector(".transition-effect");if(T){const K=T.querySelector(".transition-cover"),se=T.querySelector(".transition-shadow"),fe=(0,H.c)(),Ie=(0,H.c)(),Z=(0,H.c)();fe.addElement(T).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ie.addElement(K).beforeClearStyles([c]).fromTo(c,0,.1),Z.addElement(se).beforeClearStyles([c]).fromTo(c,.03,.7),fe.addAnimation([Ie,Z]),R.addAnimation([fe])}}const V=k.querySelector("ion-header.header-collapse-condense"),{forward:N,backward:Q}=((i,l,h,s,c)=>{const p=m(s,h),v=f(c),a=f(s),g=m(c,h),E=null!==p&&null!==v&&!h,$=null!==a&&null!==g&&h;if(E){const k=v.getBoundingClientRect(),M=p.getBoundingClientRect();w(i,l,h,v,k,M),y(i,l,h,p,k,M)}else if($){const k=a.getBoundingClientRect(),M=g.getBoundingClientRect();w(i,l,h,a,k,M),y(i,l,h,g,k,M)}return{forward:E,backward:$}})(D,g,A,k,M);if(I.forEach(T=>{const K=(0,H.c)();K.addElement(T),D.addAnimation(K);const se=(0,H.c)();se.addElement(T.querySelector("ion-title"));const fe=(0,H.c)(),Ie=Array.from(T.querySelectorAll("ion-buttons,[menuToggle]")),Z=T.closest("ion-header"),ie=null==Z?void 0:Z.classList.contains("header-collapse-condense-inactive");let pe;pe=Ie.filter(A?Ge=>{const je=Ge.classList.contains("buttons-collapse");return je&&!ie||!je}:Ge=>!Ge.classList.contains("buttons-collapse")),fe.addElement(pe);const we=(0,H.c)();we.addElement(T.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Re=(0,H.c)();Re.addElement(O(T).querySelector(".toolbar-background"));const $e=(0,H.c)(),Fe=T.querySelector("ion-back-button");if(Fe&&$e.addElement(Fe),K.addAnimation([se,fe,we,Re,$e]),fe.fromTo(c,.01,1),we.fromTo(c,.01,1),A)ie||se.fromTo("transform",`translateX(${$})`,`translateX(${v})`).fromTo(c,.01,1),we.fromTo("transform",`translateX(${$})`,`translateX(${v})`),$e.fromTo(c,.01,1);else if(V||se.fromTo("transform",`translateX(${E})`,`translateX(${v})`).fromTo(c,.01,1),we.fromTo("transform",`translateX(${E})`,`translateX(${v})`),Re.beforeClearStyles([c,"transform"]),(null==Z?void 0:Z.translucent)?Re.fromTo("transform",g?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Re.fromTo(c,.01,"var(--opacity)"),N||$e.fromTo(c,.01,1),Fe&&!N){const je=(0,H.c)();je.addElement(O(Fe).querySelector(".button-text")).fromTo("transform",g?"translateX(-100px)":"translateX(100px)","translateX(0px)"),K.addAnimation(je)}}),M){const T=(0,H.c)(),K=M.querySelector(":scope > ion-content"),se=M.querySelectorAll(":scope > ion-header > ion-toolbar"),fe=M.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(K||0!==se.length||0!==fe.length?(T.addElement(K),T.addElement(fe)):T.addElement(M.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),D.addAnimation(T),A){T.beforeClearStyles([c]).fromTo("transform",`translateX(${v})`,g?"translateX(-100%)":"translateX(100%)");const Ie=(0,j.g)(M);D.afterAddWrite(()=>{"normal"===D.getDirection()&&Ie.style.setProperty("display","none")})}else T.fromTo("transform",`translateX(${v})`,`translateX(${$})`).fromTo(c,1,.8);if(K){const Ie=O(K).querySelector(".transition-effect");if(Ie){const Z=Ie.querySelector(".transition-cover"),ie=Ie.querySelector(".transition-shadow"),pe=(0,H.c)(),we=(0,H.c)(),Re=(0,H.c)();pe.addElement(Ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),we.addElement(Z).beforeClearStyles([c]).fromTo(c,.1,0),Re.addElement(ie).beforeClearStyles([c]).fromTo(c,.7,.03),pe.addAnimation([we,Re]),T.addAnimation([pe])}}se.forEach(Ie=>{const Z=(0,H.c)();Z.addElement(Ie);const ie=(0,H.c)();ie.addElement(Ie.querySelector("ion-title"));const pe=(0,H.c)(),we=Ie.querySelectorAll("ion-buttons,[menuToggle]"),Re=Ie.closest("ion-header"),$e=null==Re?void 0:Re.classList.contains("header-collapse-condense-inactive"),Fe=Array.from(we).filter(Ke=>{const at=Ke.classList.contains("buttons-collapse");return at&&!$e||!at});pe.addElement(Fe);const Ge=(0,H.c)(),je=Ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");je.length>0&&Ge.addElement(je);const We=(0,H.c)();We.addElement(O(Ie).querySelector(".toolbar-background"));const Ye=(0,H.c)(),Ne=Ie.querySelector("ion-back-button");if(Ne&&Ye.addElement(Ne),Z.addAnimation([ie,pe,Ge,Ye,We]),D.addAnimation(Z),Ye.fromTo(c,.99,0),pe.fromTo(c,.99,0),Ge.fromTo(c,.99,0),A){if($e||ie.fromTo("transform",`translateX(${v})`,g?"translateX(-100%)":"translateX(100%)").fromTo(c,.99,0),Ge.fromTo("transform",`translateX(${v})`,g?"translateX(-100%)":"translateX(100%)"),We.beforeClearStyles([c,"transform"]),(null==Re?void 0:Re.translucent)?We.fromTo("transform","translateX(0px)",g?"translateX(-100%)":"translateX(100%)"):We.fromTo(c,"var(--opacity)",0),Ne&&!Q){const at=(0,H.c)();at.addElement(O(Ne).querySelector(".button-text")).fromTo("transform",`translateX(${v})`,`translateX(${(g?-124:124)+"px"})`),Z.addAnimation(at)}}else $e||ie.fromTo("transform",`translateX(${v})`,`translateX(${$})`).fromTo(c,.99,0).afterClearStyles([p,c]),Ge.fromTo("transform",`translateX(${v})`,`translateX(${$})`).afterClearStyles([p,c]),Ye.afterClearStyles([c]),ie.afterClearStyles([c]),pe.afterClearStyles([c])})}return D}catch(s){throw s}}},2952:(nn,Et,me)=>{"use strict";me.r(Et),me.d(Et,{mdTransitionAnimation:()=>r});var H=me(1774),j=me(2690);me(6225),me(2364);const r=(G,O)=>{var f,m,d;const y="40px",b="back"===O.direction,l=O.leavingEl,h=(0,j.g)(O.enteringEl),s=h.querySelector("ion-toolbar"),c=(0,H.c)();if(c.addElement(h).fill("both").beforeRemoveClass("ion-page-invisible"),b?c.duration((null!==(f=O.duration)&&void 0!==f?f:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration((null!==(m=O.duration)&&void 0!==m?m:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${y})`,"translateY(0px)").fromTo("opacity",.01,1),s){const p=(0,H.c)();p.addElement(s),c.addAnimation(p)}if(l&&b){c.duration((null!==(d=O.duration)&&void 0!==d?d:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const p=(0,H.c)();p.addElement((0,j.g)(l)).onFinish(v=>{1===v&&p.elements.length>0&&p.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${y})`).fromTo("opacity",1,0),c.addAnimation(p)}return c}},1912:(nn,Et,me)=>{"use strict";me.d(Et,{B:()=>pe,G:()=>we,a:()=>w,b:()=>b,c:()=>s,d:()=>Re,e:()=>$e,f:()=>V,g:()=>Q,h:()=>se,i:()=>Ie,j:()=>p,k:()=>v,l:()=>i,m:()=>l,n:()=>d,o:()=>E,q:()=>D,s:()=>ie});var H=me(5861),j=me(6225),st=me(152),X=me(6559),r=me(2124),G=me(839),O=me(6710);let f=0,m=0;const d=new WeakMap,y=Fe=>({create:Ge=>a(Fe,Ge),dismiss:(Ge,je,We)=>L(document,Ge,je,Fe,We),getTop:()=>(0,H.Z)(function*(){return D(document,Fe)})()}),w=y("ion-alert"),b=y("ion-action-sheet"),i=y("ion-loading"),l=y("ion-modal"),s=y("ion-popover"),p=Fe=>{typeof document<"u"&&A(document);const Ge=f++;Fe.overlayIndex=Ge},v=Fe=>(Fe.hasAttribute("id")||(Fe.id="ion-overlay-"+ ++m),Fe.id),a=(Fe,Ge)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Fe).then(()=>{const je=document.createElement(Fe);return je.classList.add("overlay-hidden"),Object.assign(je,Object.assign(Object.assign({},Ge),{hasController:!0})),T(document).appendChild(je),new Promise(We=>(0,G.c)(je,We))}):Promise.resolve(),g='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',E=(Fe,Ge)=>{let je=Fe.querySelector(g);const We=null==je?void 0:je.shadowRoot;We&&(je=We.querySelector(g)||je),je?(0,G.f)(je):Ge.focus()},k=(Fe,Ge)=>{const je=Array.from(Fe.querySelectorAll(g));let We=je.length>0?je[je.length-1]:null;const Ye=null==We?void 0:We.shadowRoot;Ye&&(We=Ye.querySelector(g)||We),We?We.focus():Ge.focus()},A=Fe=>{0===f&&(f=1,Fe.addEventListener("focus",Ge=>{((Fe,Ge)=>{const je=D(Ge,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),We=Fe.target;je&&We&&!je.classList.contains("ion-disable-focus-trap")&&(je.shadowRoot?(()=>{if(je.contains(We))je.lastFocus=We;else{const Ke=je.lastFocus;E(je,je),Ke===Ge.activeElement&&k(je,je),je.lastFocus=Ge.activeElement}})():(()=>{if(je===We)je.lastFocus=void 0;else{const Ke=(0,G.g)(je);if(!Ke.contains(We))return;const at=Ke.querySelector(".ion-overlay-wrapper");if(!at)return;if(at.contains(We)||We===Ke.querySelector("ion-backdrop"))je.lastFocus=We;else{const yt=je.lastFocus;E(at,je),yt===Ge.activeElement&&k(at,je),je.lastFocus=Ge.activeElement}}})())})(Ge,Fe)},!0),Fe.addEventListener("ionBackButton",Ge=>{const je=D(Fe);null!=je&&je.backdropDismiss&&Ge.detail.register(r.OVERLAY_BACK_BUTTON_PRIORITY,()=>je.dismiss(void 0,pe))}),Fe.addEventListener("keydown",Ge=>{if("Escape"===Ge.key){const je=D(Fe);null!=je&&je.backdropDismiss&&je.dismiss(void 0,pe)}}))},L=(Fe,Ge,je,We,Ye)=>{const Ne=D(Fe,We,Ye);return Ne?Ne.dismiss(Ge,je):Promise.reject("overlay does not exist")},I=(Fe,Ge)=>((Fe,Ge)=>(void 0===Ge&&(Ge="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Fe.querySelectorAll(Ge)).filter(je=>je.overlayIndex>0)))(Fe,Ge).filter(je=>!(Fe=>Fe.classList.contains("overlay-hidden"))(je)),D=(Fe,Ge,je)=>{const We=I(Fe,Ge);return void 0===je?We[We.length-1]:We.find(Ye=>Ye.id===je)},R=(Fe=!1)=>{const je=T(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");je&&(Fe?je.setAttribute("aria-hidden","true"):je.removeAttribute("aria-hidden"))},V=function(){var Fe=(0,H.Z)(function*(Ge,je,We,Ye,Ne){var Ke,at;if(Ge.presented)return;R(!0),Ge.presented=!0,Ge.willPresent.emit(),null===(Ke=Ge.willPresentShorthand)||void 0===Ke||Ke.emit();const yt=(0,st.b)(Ge),lt=Ge.enterAnimation?Ge.enterAnimation:st.c.get(je,"ios"===yt?We:Ye);(yield K(Ge,lt,Ge.el,Ne))&&(Ge.didPresent.emit(),null===(at=Ge.didPresentShorthand)||void 0===at||at.emit()),"ION-TOAST"!==Ge.el.tagName&&N(Ge.el),Ge.keyboardClose&&(null===document.activeElement||!Ge.el.contains(document.activeElement))&&Ge.el.focus()});return function(je,We,Ye,Ne,Ke){return Fe.apply(this,arguments)}}(),N=function(){var Fe=(0,H.Z)(function*(Ge){let je=document.activeElement;if(!je)return;const We=null==je?void 0:je.shadowRoot;We&&(je=We.querySelector(g)||je),yield Ge.onDidDismiss(),je.focus()});return function(je){return Fe.apply(this,arguments)}}(),Q=function(){var Fe=(0,H.Z)(function*(Ge,je,We,Ye,Ne,Ke,at){var yt,lt;if(!Ge.presented)return!1;void 0!==j.d&&1===I(j.d).length&&R(!1),Ge.presented=!1;try{Ge.el.style.setProperty("pointer-events","none"),Ge.willDismiss.emit({data:je,role:We}),null===(yt=Ge.willDismissShorthand)||void 0===yt||yt.emit({data:je,role:We});const nt=(0,st.b)(Ge),St=Ge.leaveAnimation?Ge.leaveAnimation:st.c.get(Ye,"ios"===nt?Ne:Ke);We!==we&&(yield K(Ge,St,Ge.el,at)),Ge.didDismiss.emit({data:je,role:We}),null===(lt=Ge.didDismissShorthand)||void 0===lt||lt.emit({data:je,role:We}),d.delete(Ge),Ge.el.classList.add("overlay-hidden"),Ge.el.style.removeProperty("pointer-events"),void 0!==Ge.el.lastFocus&&(Ge.el.lastFocus=void 0)}catch(nt){console.error(nt)}return Ge.el.remove(),!0});return function(je,We,Ye,Ne,Ke,at,yt){return Fe.apply(this,arguments)}}(),T=Fe=>Fe.querySelector("ion-app")||Fe.body,K=function(){var Fe=(0,H.Z)(function*(Ge,je,We,Ye){We.classList.remove("overlay-hidden");const Ke=je(Ge.el,Ye);(!Ge.animated||!st.c.getBoolean("animated",!0))&&Ke.duration(0),Ge.keyboardClose&&Ke.beforeAddWrite(()=>{const yt=We.ownerDocument.activeElement;null!=yt&&yt.matches("input,ion-input, ion-textarea")&&yt.blur()});const at=d.get(Ge)||[];return d.set(Ge,[...at,Ke]),yield Ke.play(),!0});return function(je,We,Ye,Ne){return Fe.apply(this,arguments)}}(),se=(Fe,Ge)=>{let je;const We=new Promise(Ye=>je=Ye);return fe(Fe,Ge,Ye=>{je(Ye.detail)}),We},fe=(Fe,Ge,je)=>{const We=Ye=>{(0,G.b)(Fe,Ge,We),je(Ye)};(0,G.a)(Fe,Ge,We)},Ie=Fe=>"cancel"===Fe||Fe===pe,Z=Fe=>Fe(),ie=(Fe,Ge)=>{if("function"==typeof Fe)return st.c.get("_zoneGate",Z)(()=>{try{return Fe(Ge)}catch(We){throw We}})},pe="backdrop",we="gesture",Re=Fe=>{let je,Ge=!1;const We=(0,X.C)(),Ye=(at=!1)=>{if(je&&!at)return{delegate:je,inline:Ge};const{el:yt,hasController:lt,delegate:nt}=Fe;return Ge=null!==yt.parentNode&&!lt,je=Ge?nt||We:nt,{inline:Ge,delegate:je}};return{attachViewToDom:function(){var at=(0,H.Z)(function*(yt){const{delegate:lt}=Ye(!0);if(lt)return yield lt.attachViewToDom(Fe.el,yt);const{hasController:nt}=Fe;if(nt&&void 0!==yt)throw new Error("framework delegate is missing");return null});return function(lt){return at.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:at}=Ye();at&&void 0!==Fe.el&&at.removeViewFromDom(Fe.el.parentElement,Fe.el)}}},$e=()=>{let Fe;const Ge=()=>{Fe&&(Fe(),Fe=void 0)};return{addClickListener:(We,Ye)=>{Ge();const Ne=void 0!==Ye?document.getElementById(Ye):null;Ne?Fe=((at,yt)=>{const lt=()=>{yt.present()};return at.addEventListener("click",lt),()=>{at.removeEventListener("click",lt)}})(Ne,We):(0,O.p)(`A trigger element with the ID "${Ye}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,We)},removeClickListener:Ge}}},3641:(nn,Et,me)=>{"use strict";me.d(Et,{y$:()=>c,Oy:()=>s,n$:()=>h});var H=me(5861);const st=(0,me(2726).fo)("App",{web:()=>me.e(2912).then(me.bind(me,2912)).then(p=>new p.AppWeb)});var X=me(4978),r=me(2156),G=me(9468),O=me(1325),f=me(5877),m=me(4093),d=me(6395),y=me(9080),w=me(797),b=me(3857),i=me(6052),l=me(7429),h="DesktopPWA";const s="https://is2you2.github.io/";let c=(()=>{var p;class v{constructor(g,E,$,k,M,A,L,U,I,D,R,V){this.platform=g,this.nakama=A,this.modalCtrl=U,this.lang=D,g.is("desktop")?h="DesktopPWA":g.is("mobileweb")?h="MobilePWA":g.is("android")?h="Android":g.is("iphone")&&(h="iOS"),L.initialize(()=>{L.GetFileListFromDB("acts_local",Q=>{Q.forEach(T=>L.removeFileFromUserPath(T))});let N=R.CatchGETs(location.href)||{};A.AddressToQRCodeAct(N),k.initialize(),k.load_settings()}),D.Callback_nakama=()=>{A.initialize(),A.check_if_online(),D.isFirstTime=!1},this.init_admob(),("Android"==h||"iOS"==h)&&st.addListener("appUrlOpen",N=>{$.run(()=>{const Q=N.url.split(".app").pop();Q&&E.navigateByUrl(Q)})}),k.SetListener("click",N=>{try{let Q,K,T=N.data.page.componentProps;switch(N.data.page.component){case"ChatRoomPage":K=T.info.noti_id;break;case"MinimalChatPage":Q=X.X,K=T.noti_id;break;case"AddTodoMenuPage":T={data:T.data},K=JSON.parse(T.data).id;break;case"NakamaReqContTitle":let se=A.servers[T.data.isOfficial][T.data.Target],fe="";return fe+=`${D.text.Nakama.ReqContServer}: ${T.data.serverName}<br>`,fe+=`${D.text.Nakama.ReqContUserName}: ${T.data.userName}`,void I.create({header:D.text.Nakama.ReqContTitle,message:fe,buttons:[{text:D.text.Nakama.ReqContAccept,handler:()=>{se.client.addGroupUsers(se.session,T.data.group_id,[T.data.user_id]).then(Ie=>{Ie||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),se.client.deleteNotifications(se.session,[T.data.noti_id]).then(Z=>{Z?A.update_notifications(T.data.isOfficial,T.data.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Z)})})}},{text:D.text.Nakama.ReqContReject,handler:()=>{se.client.kickGroupUsers(se.session,T.data.group_id,[T.data.user_id]).then(Ie=>{Ie||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),se.client.deleteNotifications(se.session,[T.data.noti_id]),A.update_notifications(T.data.isOfficial,T.data.Target)})}}]}).then(Ie=>Ie.present());case"AllUserNotification":break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0\uac00 \uc544\ub2d8: ",N.data.page.component)}if(K==k.Current)return;this.waiting_open_page(N,Q,T)}catch{"AllUserNotification"===N.data.type?I.create({header:N.data.title,message:`<img *ngIf="${N.data.image}" src="${N.data.image}" alt="noti_image" style="border-radius: 2px">\n<div>${N.data.body}</div>`,buttons:[{text:"\ud655\uc778",handler:()=>{A.servers[N.data.isOfficial][N.data.target].client.deleteNotifications(A.servers[N.data.isOfficial][N.data.target].session,[N.data.noti_id])}}]}).then(T=>T.present()):console.log("\uc900\ube44\ub41c \uc54c\ub9bc \ud589\ub3d9 \uc5c6\uc74c: ",N.data)}}),M.enable(),A.on_socket_connected.connection_check=()=>{A.check_if_online()},A.on_socket_disconnected.connection_check=()=>{A.check_if_online()}}waiting_open_page(g,E,$){var k=this;return(0,H.Z)(function*(){try{if("godot"!=window.godot)throw"\uace0\ub3c4\uc5d4\uc9c4 \uc900\ube44\ub418\uc9c0 \uc54a\uc74c";let M=yield k.modalCtrl.create({component:E,componentProps:$});switch(g.data.page.component){case"ChatRoomPage":if(!k.lang.text.ChatRoom.YouReadHereLast)throw"ChatRoomPage \ubc88\uc5ed \uc900\ube44\uc911";if($.info.noti_id)throw $={info:k.nakama.channels_orig[$.info.isOfficial][$.info.target][$.info.id]},"ChatRoomPage props \uc7ac\uc815\ube44";k.nakama.go_to_chatroom_without_admob_act($.info);break;case"MinimalChatPage":if(!k.lang.text.MinimalChat.leave_chat_group)throw"MinimalChatPage \ubc88\uc5ed \uc900\ube44\uc911";M.present();break;case"AddTodoMenuPage":if(!k.lang.text.TodoDetail.WIP)throw"AddTodoMenuPage \ubc88\uc5ed \uc900\ube44\uc911";k.nakama.open_add_todo_page($.data);break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0 \ud589\ub3d9 \uc5c6\uc74c: ",g.data.page.component),M.present()}}catch(M){console.log("retry open notification clicked because... : ",M),setTimeout(()=>{k.waiting_open_page(g,E,$)},1e3)}})()}init_admob(){this.platform.ready().then(()=>{r.TQ.initialize({testingDevices:[],initializeForTesting:!0})})}}return(p=v).\u0275fac=function(g){return new(g||p)(G.Y36(O.t4),G.Y36(f.F0),G.Y36(G.R0b),G.Y36(m.J),G.Y36(d.z),G.Y36(y.a),G.Y36(w.H),G.Y36(O.IN),G.Y36(O.Br),G.Y36(b.b),G.Y36(i.AN),G.Y36(l.V))},p.\u0275cmp=G.Xpm({type:p,selectors:[["app-root"]],decls:2,vars:0,template:function(g,E){1&g&&(G.TgZ(0,"ion-app"),G._UZ(1,"ion-router-outlet"),G.qZA())},dependencies:[O.dr,O.jP]}),v})()},6052:(nn,Et,me)=>{"use strict";me.d(Et,{AN:()=>b,In:()=>w,Yc:()=>y});var H=me(5861),j=me(7305),X=me(9868),G=me(9468),O=me(9376),f=me(3857),m=me(6593),d=me(797),y=!1;const w=12e4;let b=(()=>{var i;class l{constructor(s,c,p,v){this.p5toast=s,this.lang=c,this.sanitizer=p,this.indexed=v,y=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}CatchGETs(s){const c=s.split("?");if(c.length>1){const p=c[1].split("&");let v={};for(let a=0,g=p.length;a<g;a++){const E=p[a].split("=");v[E[0]]||(v[E[0]]=[]),v[E[0]].push(decodeURIComponent(E[1]))}return v}}readasQRCodeFromId(s){try{let c=new j({content:`[${JSON.stringify(s)}]`,padding:4,width:8,height:8,color:y?"#bbb":"#444",background:y?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(c)}`)}catch(c){console.log("readasQRCodeFromId: ",c),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${c}`})}}readasQRCodeFromString(s){try{let c=new j({content:s,padding:4,width:8,height:8,color:y?"#bbb":"#444",background:y?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(c)}`)}catch(c){console.log("readasQRCodeFromString: ",c),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${c}`})}}CreateGodotIFrame(s,c,p="",v=this.indexed.godotDB){var a=this;let g=!1;return new Promise(E=>{let $=()=>{try{if("godot"!=window.godot)throw"No godot";if(p&&!this.godot_window[p])throw"No act ready";g=!0,this.indexed.GetGodotIndexedDB(),E()}catch{setTimeout(()=>{$()},1e3)}};if(this.last_frame_name==s&&this.godot.isConnected)return void E();this.godot_window&&this.godot_window.quit_godot&&this.godot_window.quit_godot(),this.godot_splash&&this.godot_splash.remove(),this.godot&&this.godot.remove(),window.godot="",this.last_frame_name=s;let k=document.createElement("iframe");k.id="godot",k.setAttribute("src","assets/html/index.html"),k.setAttribute("frameborder","0"),k.setAttribute("class","full_screen"),k.setAttribute("allow","fullscreen; encrypted-media"),k.setAttribute("scrolling","no"),k.setAttribute("withCredentials","true"),c.local_url&&(c.url=`${window.location.protocol}//${window.location.host}${window.sub_path}${c.local_url}`),"content_viewer_canvas"==s&&(c.create_thumbnail_p5=function(){var L=(0,H.Z)(function*(U,I=void 0){new X(D=>{D.setup=()=>{D.noCanvas();let R=a.godot_window.path;D.loadImage("data:image/png;base64,"+U,V=>{D.createCanvas(V.width,V.height),D.image(V,0,0),D.textSize(16),D.textWrap(D.CHAR);let N=D.height/24;D.push(),D.translate(N/6,N/6),D.fill(0),D.text(a.godot_window.filename,N,N,D.width-2*N,D.height-2*N),D.filter(D.BLUR,3),D.pop(),D.fill(255),D.text(a.godot_window.filename,N,N,D.width-2*N,D.height-2*N),D.saveFrames("","png",1,1,function(){var Q=(0,H.Z)(function*(T){try{yield a.indexed.saveBase64ToUserPath(T[0].imageData.replace(/"|=|\\/g,""),`${a.godot_window.alt_path||R}_thumbnail.png`,void 0,v),a.modulate_thumbnail(I,"",v)}catch(K){console.log("p.saveFrames: ",K)}D.remove()});return function(T){return Q.apply(this,arguments)}}())},V=>{console.error("create_thumbnail_load thumbnail failed: ",V),D.remove()})}})});return function(U){return L.apply(this,arguments)}}()),c.failed=()=>{this.p5toast.show({text:`${this.lang.text.GlobalAct.FailedToDownloadGodot}: ${c.title}`,lateable:!0})};let M=document.getElementById(s);M.appendChild(k),this.godot_window=k.contentWindow||k.contentDocument,Object.keys(c).forEach(L=>this.godot_window[L]=c[L]),this.godot=k,this.godot_splash=new X(L=>{let U,I,N,Q;L.setup=()=>{let Ie=L.createCanvas(M.clientWidth,M.clientHeight);Ie.parent(M),Ie.style("position: absolute; left: 0;"),L.imageMode(L.CENTER),L.rectMode(L.CENTER),L.noStroke(),L.loadImage(c.force_logo?"assets/icon/favicon.png":`assets/icon/${s}.png`,Z=>{U=Z}),L.pixelDensity(1),c.background&&L.loadImage(c.background,Z=>{I=Z,Z.width>Z.height?(Q=L.height,N=Z.width/Z.height*L.height):(N=L.width,Q=Z.height/Z.width*L.width)})};let T=2,K=0,se=y?80:200,fe=y?200:80;L.draw=()=>{L.clear(255,255,255,255),L.background(se,L.constrain(255*T,0,255)),L.tint(255,L.constrain(255*T,0,255)),I&&L.image(I,L.width/2,L.height/2,N,Q),U&&L.image(U,L.width/2,L.height/2),L.push(),L.translate(L.width/2,L.height/2+80),K+=.07,L.rotate(K),L.fill(fe,L.constrain(255*T,0,255)),L.push(),L.translate(-6,-6),L.rotate(2*-K),L.rect(0,0,8,8,2),L.pop(),L.push(),L.translate(6,-6),L.rotate(2*-K),L.rect(0,0,8,8,2),L.pop(),L.push(),L.translate(-6,6),L.rotate(2*-K),L.rect(0,0,8,8,2),L.pop(),L.push(),L.translate(6,6),L.rotate(2*-K),L.rect(0,0,8,8,2),L.pop(),L.pop(),g&&(T-=.04,T<=0&&L.remove())},L.windowResized=()=>{L.resizeCanvas(M.clientWidth,M.clientHeight)}}),$()})}req_file_info(s,c){var p=this;return(0,H.Z)(function*(){return new Promise(function(){var v=(0,H.Z)(function*(a){a(yield p.indexed.GetFileInfoFromDB(s,void 0,c))});return function(a){return v.apply(this,arguments)}}())})()}req_file_part_base64(s,c,p,v){var a=this;return(0,H.Z)(function*(){return new Promise(function(){var g=(0,H.Z)(function*(E){for(var $="",k=new Uint8Array(s.contents.slice(c*w,(c+1)*w)),M=0,A=k.byteLength;M<A;M++)$+=String.fromCharCode(k[M]);let L=btoa($);a.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:c}),`${p}.history`,void 0,v),E(L)});return function(E){return g.apply(this,arguments)}}())})()}save_file_part(s,c,p,v){var a=this;return(0,H.Z)(function*(){return new Promise(function(){var g=(0,H.Z)(function*(E){yield a.indexed.saveBase64ToUserPath(","+p,`${s}_part/${c}.part`,void 0,v),yield a.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:c}),`${s}.history`,void 0,v),E()});return function(E){return g.apply(this,arguments)}}())})()}remove_req_file_info(s,c){delete s.content.transfer_index,this.indexed.removeFileFromUserPath(`${c}.history`)}modulate_thumbnail(s,c,p){var v=this;return(0,H.Z)(function*(){if(s.url){if("text"===s.viewer){let a=yield fetch(s.url).then(g=>g.text());s.text=a.split("\n"),s.thumbnail=a.split("\n")}else s.thumbnail=s.url;setTimeout(()=>{URL.revokeObjectURL(c)},100)}else switch(s.viewer){case"image":s.thumbnail=v.sanitizer.bypassSecurityTrustUrl(c),setTimeout(()=>{URL.revokeObjectURL(c)},100);break;case"text":new X(a=>{a.setup=()=>{a.noCanvas(),a.loadStrings(c,g=>{s.text=g,URL.revokeObjectURL(c),a.remove()},g=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",g),s.text=[v.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(c),a.remove()})}});break;default:try{let a=yield v.indexed.loadBlobFromUserPath(`${s.path}_thumbnail.png`,"image/png",void 0,p),g=URL.createObjectURL(a);s.thumbnail=v.sanitizer.bypassSecurityTrustUrl(g),setTimeout(()=>{URL.revokeObjectURL(g)},0)}catch{}c&&URL.revokeObjectURL(c)}})()}set_viewer_category(s){try{if(0==s.type.indexOf("image/"))s.viewer="image";else if(0==s.type.indexOf("audio/"))s.viewer="audio";else if(0==s.type.indexOf("video/"))s.viewer="video";else{if(0!=s.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";s.viewer="text"}}catch{this.set_viewer_category_from_ext(s)}}set_viewer_category_from_ext(s){switch(s.file_ext){case"pck":s.viewer="godot";break;case"png":case"jpeg":case"jpg":case"gif":s.viewer="image";break;case"wav":case"ogg":case"mp3":s.viewer="audio";break;case"mp4":case"ogv":case"webm":s.viewer="video";break;case"md":case"txt":case"cs":case"gd":case"py":case"yml":case"gitignore":case"json":case"csv":case"ts":case"js":case"shader":s.viewer="text";break;default:s.viewer="disabled"}}GetBase64ThroughFileReader(s){return new Promise((c,p)=>{var v;let a=new FileReader;a=null!==(v=a._realReader)&&void 0!==v?v:a,a.onload=g=>{c(g.target.result.replace(/"|\\|=/g,""))},a.onerror=g=>{p(g)},a.readAsDataURL(s)})}}return(i=l).\u0275fac=function(s){return new(s||i)(G.LFG(O.F),G.LFG(f.b),G.LFG(m.H7),G.LFG(d.H))},i.\u0275prov=G.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),l})()},797:(nn,Et,me)=>{"use strict";me.d(Et,{H:()=>r});var H=me(5861),j=me(9468),st=me(9376),X=me(3857);let r=(()=>{var G;class O{constructor(m,d){this.p5toast=m,this.lang=d}initialize(m=(()=>{})){if(this.ionicDB)return;let d=indexedDB.open("/ionicfs",10);d.onsuccess=y=>{y.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=i=>{this.ionicDB=i.target.result,m()}},d.onupgradeneeded=y=>{y.target.result.createObjectStore("FILE_DATA")},d.onerror=y=>{indexedDB.open("/ionicfs",11).onsuccess=b=>{this.ionicDB=b.target.result,m()}}}GetGodotIndexedDB(){if(this.godotDB)return;let m=indexedDB.open("/userfs",21);m.onsuccess=d=>{this.godotDB=m.result},m.onerror=d=>{console.error("IndexedDB initialized failed: ",d)}}createRecursiveDirectory(m,d=this.ionicDB){let y=m.lastIndexOf("/"),w=m.substring(0,y);w&&this.checkIfFileExist(w,b=>{let i=d.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${w}`);i.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",m),this.createRecursiveDirectory(w,d)},i.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l)}})}saveTextFileToUserPath(m,d,y=(b=>{}),w=this.ionicDB){return this.createRecursiveDirectory(d,w),new Promise((b,i)=>{let l=w.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(m)},`/userfs/${d}`);l.onsuccess=h=>{"success"!=h.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",d),y(h),b(h)},l.onerror=h=>{i(h)}})}saveBase64ToUserPath(m,d,y=(b=>{}),w=this.ionicDB){return new Promise((b,i)=>{let l=atob(m.split(",")[1]),h=new ArrayBuffer(l.length),s=new Int8Array(h);for(let p=0,v=l.length;p<v;p++)s[p]=l.charCodeAt(p);this.createRecursiveDirectory(d,w);let c=w.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:s},`/userfs/${d}`);c.onsuccess=p=>{"success"!=p.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",d),y(s),b(s)},c.onerror=p=>{i(p)}})}saveInt8ArrayToUserPath(m,d,y=this.ionicDB){return new Promise((w,b)=>{this.createRecursiveDirectory(d,y);let i=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:m},`/userfs/${d}`);i.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",d),w()},i.onerror=l=>{b(l)}})}saveBlobToUserPath(m,d,y=(b=>{}),w=this.ionicDB){var b=this;return new Promise(function(){var i=(0,H.Z)(function*(l,h){let s;try{let p=yield m.arrayBuffer();s=new Int8Array(p)}catch(p){h(p)}b.createRecursiveDirectory(d,w);let c=w.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:s},`/userfs/${d}`);c.onsuccess=p=>{"success"!=p.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",d),y(s),l(s)},c.onerror=p=>{h(p)}});return function(l,h){return i.apply(this,arguments)}}())}saveFileToUserPath(m,d,y=(b=>{}),w=this.ionicDB){return this.createRecursiveDirectory(d,w),new Promise((b,i)=>{let l=w.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(m,`/userfs/${d}`);l.onsuccess=h=>{"success"!=h.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",d),y(h),b(h)},l.onerror=h=>{i(h)}})}checkIfFileExist(m,d=(w=>{}),y=this.ionicDB){return new Promise((w,b)=>{let i=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${m}`);i.onsuccess=l=>{let h=l.target.result;d(h),w(h)},i.onerror=l=>{b(l)}})}GetFileListFromDB(m,d=(w=>{}),y=this.ionicDB){let w=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((b,i)=>{w.onsuccess=l=>{const h=l.target.result;for(let s=h.length-1;s>=0;s--)h[s].includes(m)?h[s]=h[s].substring(8):h.splice(s,1);d(h),b(h)},w.onerror=l=>{i(l)}})}GetFileInfoFromDB(m,d=(w=>{}),y=this.ionicDB){let w=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${m}`);return new Promise((b,i)=>{w.onsuccess=l=>{const h=l.target.result;d(h),b(h)},w.onerror=l=>{i(l)}})}loadTextFromUserPath(m,d=((w,b)=>{}),y=this.ionicDB){return new Promise(w=>{let b=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${m}`);b.onsuccess=i=>{if(i.target.result){let l=(new TextDecoder).decode(i.target.result.contents);d(!0,l),w(l)}else d(!1,`No file: , ${m}`),w(void 0)},b.onerror=i=>{console.error("IndexedDB loadTextFromUserPath failed: ",i),w(void 0)}})}loadBlobFromUserPath(m,d,y=(b=>{}),w=this.ionicDB){let b=w.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${m}`);return new Promise((i,l)=>{b.onsuccess=h=>{try{let s=new Blob([h.target.result.contents],{type:d});y(s),i(s)}catch(s){l(s)}},b.onerror=h=>{l(h)}})}DownloadFileFromUserPath(m,d,y,w=this.ionicDB){let b=w.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${m}`);b.onsuccess=i=>{try{let l=new Blob([i.target.result.contents],{type:d}),h=URL.createObjectURL(l),s=document.createElement("a");s.download=y,s.href=h,document.body.appendChild(s),s.click(),document.body.removeChild(s),s.remove(),URL.revokeObjectURL(h)}catch(l){console.log("DownloadFileFromUserPath: ",l),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${l}`})}},b.onerror=i=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",i)}}removeFileFromUserPath(m,d=(w=>{}),y=this.ionicDB){let w=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${m}`);return new Promise((b,i)=>{w.onsuccess=l=>{d(l),b(l)},w.onerror=l=>{i(l)}})}}return(G=O).\u0275fac=function(m){return new(m||G)(j.LFG(st.F),j.LFG(X.b))},G.\u0275prov=j.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),O})()},3857:(nn,Et,me)=>{"use strict";me.d(Et,{b:()=>X});var H=me(9868),st=me(9468);let X=(()=>{var r;class G{constructor(){this.text={Portal:{},Main:{}},this.isFirstTime=!0,this.lang=navigator.language.split("-")[0];let f=localStorage.getItem("lang");f&&(this.lang=f),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){new H(f=>{f.setup=()=>{f.noCanvas(),f.loadTable("assets/data/translate.csv","csv","header",m=>{let d;m.columns.includes(this.lang)||(this.lang="en"),localStorage.setItem("lang",this.lang);for(let y=0,w=m.rows.length;y<w;y++)"#"==m.rows[y].obj["#"].charAt(0)?(d=m.rows[y].obj["#"].substring(3),this.text[d]||(this.text[d]={})):this.text[d][m.rows[y].obj["#"]]=m.rows[y].obj[this.lang];this.isFirstTime&&this.Callback_nakama(),f.remove()},m=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",m),f.remove()})}})}}return(r=G).\u0275fac=function(f){return new(f||r)},r.\u0275prov=st.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),G})()},1768:(nn,Et,me)=>{"use strict";me.d(Et,{A:()=>st});var H=me(3641),j=me(9468);let st=(()=>{var X;class r{constructor(){this.users={},this.funcs={onStart:O=>console.warn("onStart \ud568\uc218 \uc5c6\uc74c: ",O),onCheck:O=>console.warn("onCheck \ud568\uc218 \uc5c6\uc74c: ",O),onFailed:O=>console.error("onFailed \ud568\uc218 \uc5c6\uc74c: ",O)}}initialize(){"DesktopPWA"!=H.n$&&"MobilePWA"!=H.n$?(this.server||(this.server=cordova.plugins.wsserver),this.server.start(12011,{onFailure:(f,m,d)=>{this.funcs.onFailed(`Stopped listening on ${f}:${m}. Reason: ${d}`)},onOpen:f=>{this.users[f.uuid]={address:this.users[f.remoteAddr]},Object.keys(this.users).forEach(m=>{this.send_to(m,`Counter:${Object.keys(this.users).length}`)})},onMessage:(f,m)=>{try{let d=JSON.parse(m);"join"==d.type&&(this.users[f.uuid].uid=d.uid,this.users[f.uuid].name=d.name)}catch(d){console.error(`json \ubcc0\ud658 \uc624\ub958_${m}: ${d}`)}Object.keys(this.users).forEach(d=>{this.send_to(d,m)})},onClose:(f,m,d,y)=>{let w=this.users[f.uuid].uid,b=this.users[f.uuid].name;delete this.users[f.uuid];let i={uid:w,name:b,type:"leave",count:Object.keys(this.users).length},l=JSON.stringify(i);Object.keys(this.users).forEach(h=>{this.send_to(h,l)})},origins:[],protocols:[],tcpNoDelay:!0},(f,m)=>{this.funcs.onStart("")},f=>{this.funcs.onFailed(`Did not start. Reason: ${f}`)})):this.funcs.onFailed("Did not start. Reason: \ud50c\ub7ab\ud3fc \ubd88\uc77c\uce58: \uc0ac\uc124 \uc11c\ubc84 \uad6c\ucd95 \ucde8\uc18c")}check_addresses(){"DesktopPWA"!=H.n$&&"MobilePWA"!=H.n$&&(this.server||(this.server=cordova.plugins.wsserver),this.server.getInterfaces(O=>{this.funcs.onCheck(O)}))}disconnect_peer(O,f=4e3,m="EMPTY"){this.server.close({uuid:O},f,m)}stop(){"DesktopPWA"!=H.n$&&"MobilePWA"!=H.n$&&this.server.stop((O,f)=>{this.funcs.onFailed(`Stopped listening on ${f}`)})}send_to(O,f){this.server.send({uuid:O},f)}}return(X=r).\u0275fac=function(O){return new(O||X)},X.\u0275prov=j.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),r})()},4093:(nn,Et,me)=>{"use strict";me.d(Et,{J:()=>G});var H=me(3641),j=me(9468),st=me(5756),X=me(6395),r=me(797);let G=(()=>{var O;class f{constructor(d,y,w){this.noti=d,this.bgmode=y,this.indexed=w,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={},this.listeners={}}change_silent_settings(d){this.settings.silent[d]=!this.settings.silent[d],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(d,y)=>{d&&y&&(this.settings=JSON.parse(y)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){("DesktopPWA"==H.n$||"MobilePWA"==H.n$)&&("Notification"in window||console.error("Notification \ubbf8\uc9c0\uc6d0 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4"),Notification.requestPermission().then(d=>{"granted"!=d&&console.log("\uc54c\ub9bc \uac70\uc808",d)},d=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800:",d)}))}PushLocal(d,y="favicon",w=(()=>{})){if("DesktopPWA"==H.n$||"MobilePWA"==H.n$){if(document.hasFocus()&&this.Current==y||d.triggerWhen_ln)return;const b={badge:`${d.badge}`,body:d.body,icon:`assets/icon/${d.icon||d.smallIcon_ln||y||"favicon"}.png`,image:d.image,lang:d.lang_wn,silent:!this.settings.silent[d.icon||d.smallIcon_ln]||!1,tag:d.tag_wn,actions:d.actions_wn,data:d.data_wn,renotify:d.renotify_wn,requireInteraction:d.requireInteraction_wn,dir:d.dir_wn};if("DesktopPWA"==H.n$)this.WebNoties[d.id]&&(this.WebNoties[d.id].close(),delete this.WebNoties[d.id]),this.WebNoties[d.id]=new Notification(d.title,{...b}),this.WebNoties[d.id].onclick=()=>{w(),window.focus(),this.WebNoties[d.id].close()};else if(window.swReg&&window.swReg.active){if(this.WebNoties[d.id]){try{this.WebNoties[d.id].close()}catch{}delete this.WebNoties[d.id]}try{this.WebNoties[d.id]=window.swReg.showNotification(d.title,{...b})}catch{}try{this.WebNoties[d.id].onclick=()=>{w(),window.focus(),this.WebNoties[d.id].close()}}catch{}}}else{if(!this.bgmode.isActive()&&this.Current==y)return;let b={};b.id=d.id,b.title=d.title,d.body&&(b.text=d.body),d.actions_ln&&(b.actions=d.actions_ln),d.autoCancel_ln&&(b.autoClear=d.autoCancel_ln),d.launch_ln&&(b.launch=d.launch_ln),d.badge&&(b.badge=d.badge),d.image&&(b.attachments=[d.image]),d.clock_ln&&(b.clock=d.clock_ln),d.iconColor_ln&&(b.color=d.iconColor_ln||"ffd94e"),d.extra_ln&&(b.data=d.extra_ln),d.group_ln&&(b.group=d.group_ln),d.groupSummary_ln&&(b.groupSummary=d.groupSummary_ln),d.groupSummaryText_ln&&(b.summary=d.groupSummaryText_ln),d.led_ln&&(b.led=d.led_ln),d.lockscreen_ln&&(b.lockscreen=d.lockscreen_ln),d.mediaSesion_ln&&(b.mediaSession=d.mediaSesion_ln),d.number_ln&&(b.number=d.number_ln),d.progressBar_ln&&(b.progressBar=d.progressBar_ln),d.priority_ln&&(b.priority=d.priority_ln),b.silent=!this.settings.silent[d.smallIcon_ln]||!1,d.timeoutAfter_ln&&(b.timeoutAfter=d.timeoutAfter_ln),d.wakeup_ln&&(b.wakeup=d.wakeup_ln),d.ongoing_ln&&(b.sticky=d.ongoing_ln),d.triggerWhen_ln&&(b.trigger=d.triggerWhen_ln),d.vibrate_ln&&(b.vibrate=d.vibrate_ln),d.icon&&(b.icon=d.icon),b.smallIcon=`res://${d.smallIcon_ln||y||"icon_mono"}`,b.sound=`res://${d.sound_ln||"platform_default"}`,b.foreground=!0,this.noti.schedule(b)}}GetNotificationIds(d=(y=>{})){"DesktopPWA"==H.n$||"MobilePWA"==H.n$||this.noti.getScheduledIds().then(y=>{d(y)})}ClearNoti(d){"DesktopPWA"==H.n$?this.WebNoties[d]&&this.WebNoties[d].close():"MobilePWA"!=H.n$&&this.noti.clear(d)}SetListener(d,y=((w,b)=>console.warn(`${d}: ${w}/${b}`))){"DesktopPWA"==H.n$||"MobilePWA"==H.n$||(this.listeners[d]=(w,b)=>{y(w,b)},cordova.plugins.notification.local.on(d,this.listeners[d]))}RemoveListener(d){"DesktopPWA"==H.n$||"MobilePWA"==H.n$||(cordova.plugins.notification.local.un(d,this.listeners[d]),delete this.listeners[d])}}return(O=f).\u0275fac=function(d){return new(d||O)(j.LFG(st.sn),j.LFG(X.z),j.LFG(r.H))},O.\u0275prov=j.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),f})()},4978:(nn,Et,me)=>{"use strict";me.d(Et,{X:()=>D});var H=me(5756),j=me(3641),st=me(6052),X=me(9468);let r=(()=>{var R;class V{constructor(){this.client={},this.status={dedicated_groupchat:"idle",community_ranchat:"idle"},this.userInput={dedicated_groupchat:{logs:[],text:"",last_message:{}},community_ranchat:{logs:[],text:"",last_message:{}}},this.ConnectedNow={dedicated_groupchat:0,community_ranchat:0},this.funcs={dedicated_groupchat:{onopen:Q=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",Q),onclose:Q=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",Q),onmessage:Q=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",Q)},community_ranchat:{onopen:Q=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",Q),onclose:Q=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",Q),onmessage:Q=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",Q)}}}initialize(Q,T){this.client[Q]=new WebSocket(`${T}:12011`),this.client[Q].onopen=se=>{this.funcs[Q].onopen(se)},this.client[Q].onclose=se=>{this.funcs[Q].onclose(se)},this.client[Q].onerror=se=>{console.error("\uc624\ub958 \ubc1c\uc0dd: ",se)},this.client[Q].onmessage=se=>{"string"==typeof se.data?this.funcs[Q].onmessage(se.data):se.data.text().then(fe=>{this.funcs[Q].onmessage(fe)})}}send(Q,T){this.client?this.client[Q].send(T):console.warn("client \uc5f0\uacb0\ub418\uc5b4\uc788\uc9c0 \uc54a\uc74c: \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \ucde8\uc18c: ",T)}disconnect(Q,T=1e3,K="user_close"){this.client&&this.client[Q].close(T,K)}}return(R=V).\u0275fac=function(Q){return new(Q||R)},R.\u0275prov=X.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),V})();var G=me(1325),O=me(9722),f=me(4093),m=me(6593),d=me(7488),y=me(3857),w=me(9080),b=me(1768),i=me(6814),l=me(95);const h=["minimalchat_input"];function s(R,V){if(1&R&&(X.TgZ(0,"ion-select-option"),X._uU(1),X.qZA()),2&R){const N=V.$implicit;X.xp6(1),X.hij("",N.key+" ("+N.address+")"," ")}}function c(R,V){if(1&R){const N=X.EpF();X.TgZ(0,"ion-select",14),X.NdJ("ionInput",function(T){X.CHM(N);const K=X.oxw(2);return X.KtG(K.SelectOtherAddress(T))}),X.YNc(1,s,2,1,"ion-select-option",8),X.qZA()}if(2&R){const N=X.oxw(2);X.Q6J("label",N.lang.text.MinimalChat.shareAddress)("placeholder",N.lang.text.MinimalChat.selectNetwork),X.xp6(1),X.Q6J("ngForOf",N.addresses)}}function p(R,V){if(1&R&&X._UZ(0,"img",15),2&R){const N=X.oxw(2);X.Q6J("src",N.QRCodeSRC,X.LSH)}}function v(R,V){if(1&R&&(X.TgZ(0,"div")(1,"ion-item-divider"),X.YNc(2,c,2,3,"ion-select",12),X.qZA(),X.YNc(3,p,1,1,"img",13),X.qZA()),2&R){const N=X.oxw();X.xp6(2),X.Q6J("ngIf",N.isLocalAddress&&N.isMobileApp),X.xp6(1),X.Q6J("ngIf",N.QRCodeSRC)}}function a(R,V){if(1&R&&(X.TgZ(0,"font",18),X._uU(1),X.qZA()),2&R){const N=X.oxw().$implicit;X.MGl("color","#",N.color,""),X.xp6(1),X.Oqu(N.text)}}function g(R,V){if(1&R&&(X.TgZ(0,"b"),X._uU(1),X.qZA()),2&R){const N=X.oxw(2).$implicit;X.xp6(1),X.hij("",N.target,":")}}function E(R,V){if(1&R&&(X.TgZ(0,"font",19)(1,"font",18),X.YNc(2,g,2,1,"b",7),X.qZA(),X._uU(3),X.qZA()),2&R){const N=X.oxw().$implicit;X.xp6(1),X.MGl("color","#",N.color,""),X.xp6(1),X.Q6J("ngIf",N.target),X.xp6(1),X.hij(" "," "+N.text," ")}}function $(R,V){if(1&R&&(X.TgZ(0,"p"),X.YNc(1,a,2,2,"font",16),X.YNc(2,E,4,3,"font",17),X.qZA()),2&R){const N=V.$implicit;X.xp6(1),X.Q6J("ngIf",!N.target),X.xp6(1),X.Q6J("ngIf",N.target)}}function k(R,V){if(1&R){const N=X.EpF();X.TgZ(0,"div",20),X.NdJ("click",function(){X.CHM(N);const T=X.oxw();return X.KtG(T.scroll_down())}),X.TgZ(1,"span")(2,"b"),X._uU(3),X.qZA()(),X.TgZ(4,"span"),X._uU(5),X.qZA()()}if(2&R){const N=X.oxw();X.xp6(1),X.Akn("margin-right: 8px; color: #"+N.client.userInput[N.target].last_message.color),X.xp6(2),X.Oqu(N.client.userInput[N.target].last_message.target),X.xp6(2),X.hij("",N.client.userInput[N.target].last_message.text," ")}}function M(R,V){if(1&R){const N=X.EpF();X.TgZ(0,"td")(1,"ion-button",21),X.NdJ("click",function(){X.CHM(N);const T=X.oxw();return X.KtG(T.join_ranchat())}),X._uU(2),X.qZA()()}if(2&R){const N=X.oxw();X.xp6(2),X.hij(" ",N.lang.text.MinimalChat.start_chat," ")}}function A(R,V){if(1&R){const N=X.EpF();X.TgZ(0,"td")(1,"ion-button",22),X.NdJ("click",function(){X.CHM(N);const T=X.oxw();return X.KtG(T.join_ranchat())}),X._uU(2),X.qZA()()}if(2&R){const N=X.oxw();X.xp6(1),X.Q6J("disabled",N.req_refreshed),X.xp6(1),X.hij(" ",N.lang.text.MinimalChat.new_chat," ")}}function L(R,V){if(1&R){const N=X.EpF();X.TgZ(0,"td")(1,"ion-button",23),X.NdJ("click",function(){X.CHM(N);const T=X.oxw();return X.KtG(T.quit_chat())}),X._UZ(2,"ion-icon",24),X.qZA()()}}function U(R,V){if(1&R){const N=X.EpF();X.TgZ(0,"td",25)(1,"ion-input",26,27),X.NdJ("ionFocus",function(){X.CHM(N);const T=X.oxw();return X.KtG(T.focus_on_input(120))})("keyup.enter",function(){X.CHM(N);const T=X.oxw();return X.KtG(T.send())})("ngModelChange",function(T){X.CHM(N);const K=X.oxw();return X.KtG(K.client.userInput[K.target].text=T)}),X.qZA()()}if(2&R){const N=X.oxw();X.xp6(1),X.Q6J("placeholder",N.lang.text.MinimalChat.input_placeholder)("ngModel",N.client.userInput[N.target].text)}}function I(R,V){if(1&R){const N=X.EpF();X.TgZ(0,"td")(1,"ion-button",23),X.NdJ("click",function(){X.CHM(N);const T=X.oxw();return X.KtG(T.send())}),X._UZ(2,"ion-icon",28),X.qZA()()}}let D=(()=>{var R;class V{constructor(Q,T,K,se,fe,Ie,Z,ie,pe,we,Re){this.client=Q,this.modalCtrl=T,this.device=K,this.noti=se,this.title=fe,this.params=Ie,this.statusBar=Z,this.lang=ie,this.nakama=pe,this.local_server=we,this.global=Re,this.uuid=this.device.uuid,this.Header="ranchat",this.iconColor="d8d8d8",this.lnId=11,this.req_refreshed=!1,this.isCustomDedicated=!1,this.isLocalAddress=!1,this.isMobileApp=!1,this.open_this=$e=>{$e.id==this.lnId&&this.modalCtrl.create({component:V,componentProps:{address:this.params.get("address"),name:this.params.get("name")}}).then(Fe=>Fe.present())},this.showLastMessage=!1,this.target="community_ranchat"}SelectOtherAddress(Q){let T=Q.detail.value,K=T.substring(T.indexOf("(")+1,T.indexOf(")"));this.QRCodeSRC=this.global.readasQRCodeFromString(`${j.Oy}pjcone_pwa/?group_dedi=ws://${K}`)}ngOnInit(){this.isMobileApp="Android"==j.n$||"iOS"==j.n$,this.local_server.funcs.onCheck=se=>{let fe=Object.keys(se),Ie=[];fe.forEach(Z=>{se[Z].ipv4Addresses.length&&se[Z].ipv4Addresses.forEach(ie=>{Ie.push({address:ie,key:Z})}),this.addresses=Ie})},this.local_server.check_addresses(),this.nakama.removeBanner(),this.header_title=this.lang.text.MinimalChat.header_title_ranchat;let Q=this.params.get("address"),T=this.params.get("name");if(Q&&(this.target="dedicated_groupchat",this.lnId=12,this.header_title=this.lang.text.MinimalChat.header_title_group,this.client.status[this.target]="custom",this.Header="simplechat",this.isCustomDedicated=!0,this.isLocalAddress="ws://127.0.0.1"==Q,this.isLocalAddress||(this.QRCodeSRC=this.global.readasQRCodeFromId({type:"group_dedi",value:{address:Q}}))),this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.title.setTitle(Q?this.lang.text.MinimalChat.WebTitle_group:this.lang.text.MinimalChat.WebTitle_ran),this.noti.Current=this.Header,this.minimal_chat_log=document.getElementById("minimal_chat_div"),this.minimal_chat_log.onscroll=se=>{this.minimal_chat_log.scrollHeight==this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight&&this.scroll_down()},document.getElementById("favicon").setAttribute("href","assets/icon/simplechat.png"),!this.client.client[this.target]||this.client.client[this.target].readyState!=this.client.client[this.target].OPEN){this.noti.SetListener(`send${this.target}`,(fe,Ie)=>{this.noti.ClearNoti(fe.id),this.send(Ie.text)}),this.noti.SetListener(`reconn${this.target}`,fe=>{this.noti.ClearNoti(fe.id),this.join_ranchat()}),this.noti.SetListener(`exit${this.target}`,fe=>{this.noti.ClearNoti(fe.id),this.quit_chat()}),this.reply_act=[{id:`send${this.target}`,type:H.u6.INPUT,title:this.lang.text.MinimalChat.Noti_Reply}],Q||this.reply_act.push({id:`reconn${this.target}`,title:this.lang.text.MinimalChat.new_chat,launch:!1}),this.client.userInput[this.target].logs.length=0;let se={color:st.Yc?"bbb":"444",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.joinChat_group:this.lang.text.MinimalChat.joinChat_ran};this.client.userInput[this.target].logs.push(se),this.client.userInput[this.target].last_message=se,this.client.initialize(this.target,Q)}this.client.funcs[this.target].onmessage=se=>{try{let fe=JSON.parse(se),Z=this.uuid==fe.uid?T||this.lang.text.MinimalChat.name_me:fe.name||("custom"==this.client.status[this.target]?this.lang.text.MinimalChat.name_stranger_group:this.lang.text.MinimalChat.name_stranger_ran),ie=fe.uid?(fe.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):st.Yc?"888":"444";if(fe.msg){let we={color:ie,text:fe.msg,target:Z};this.client.userInput[this.target].logs.push(we),this.client.userInput[this.target].last_message=we}else if(fe.type)if("join"==fe.type){let we={color:ie,text:this.lang.text.MinimalChat.user_join_comment,target:Z};this.client.userInput[this.target].logs.push(we),this.client.userInput[this.target].last_message=we}else{let we={color:ie,text:this.lang.text.MinimalChat.user_out_comment,target:Z};this.client.userInput[this.target].logs.push(we),this.client.userInput[this.target].last_message=we}let pe="certified";if(fe.count&&(this.client.ConnectedNow[this.target]=fe.count),fe.msg)this.noti.PushLocal({id:this.lnId,title:Z,body:fe.msg,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this);else if(fe.type){let we="join"==fe.type;we||(pe="pending"),this.noti.PushLocal({id:this.lnId,title:we?this.lang.text.MinimalChat.user_join:this.lang.text.MinimalChat.user_out,body:Z+` | ${we?this.lang.text.MinimalChat.user_join_comment:this.lang.text.MinimalChat.user_out_comment}`,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this)}this.statusBar.settings[this.target]=pe,setTimeout(()=>{this.statusBar.settings[this.target]==pe&&(this.statusBar.settings[this.target]="online")},250)}catch{switch(se){case"GOT_MATCHED":this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250),this.client.userInput[this.target].logs.length=0;let Ie={color:st.Yc?"8bb":"488",text:this.lang.text.MinimalChat.meet_someone};this.client.userInput[this.target].logs.push(Ie),this.client.userInput[this.target].last_message=Ie,this.client.status[this.target]="linked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.meet_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;case"PARTNER_OUT":this.statusBar.settings[this.target]="pending",setTimeout(()=>{"pending"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250);let Z={color:st.Yc?"b88":"844",text:this.lang.text.MinimalChat.leave_someone};this.client.userInput[this.target].logs.push(Z),this.client.userInput[this.target].last_message=Z,this.client.status[this.target]="unlinked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.leave_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;default:let ie=se.split(":");this.client.ConnectedNow[this.target]=parseInt(ie[1])}}this.focus_on_input()},this.client.funcs[this.target].onclose=se=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let fe={color:"faa",text:this.lang.text.MinimalChat.failed_to_join};this.client.userInput[this.target].logs.push(fe),this.client.userInput[this.target].last_message=fe,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.failed_to_join,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)},this.client.funcs[this.target].onopen=se=>{this.statusBar.settings[this.target]="online",Q&&this.client.send(this.target,JSON.stringify({uid:this.uuid,name:T,type:"join"})),this.client.funcs[this.target].onclose=fe=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let Ie=this.lang.text.MinimalChat.cannot_join,Z={color:"faa",text:Ie};this.client.userInput[this.target].logs.push(Z),this.client.userInput[this.target].last_message=Z,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:Ie,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}}}ionViewDidEnter(){setTimeout(()=>{this.scroll_down()},0)}scroll_down(){this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"}),this.showLastMessage=!1}join_ranchat(){if(this.client.client[this.target].readyState==this.client.client[this.target].OPEN){this.client.send(this.target,"REQ_REGROUPING"),this.client.status[this.target]="unlinked",this.client.userInput[this.target].logs.length=0;let Q={color:st.Yc?"bbb":"444",text:this.lang.text.MinimalChat.waiting_someone};this.client.userInput[this.target].logs.push(Q),this.client.userInput[this.target].last_message=Q,this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"}),this.focus_on_input(),this.req_refreshed=!0,setTimeout(()=>{this.req_refreshed=!1},1e3)}else{let Q=this.lang.text.MinimalChat.cannot_start,T={color:"faa",text:Q};this.client.userInput[this.target].logs.push(T),this.client.userInput[this.target].last_message=T,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:Q,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}}focus_on_input(Q){this.minimalchat_input.setFocus(),setTimeout(()=>{let T=this.minimal_chat_log.scrollHeight;T<this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight+120?this.minimal_chat_log.scrollTo({top:T,behavior:"smooth"}):this.showLastMessage=!0},Q||0)}send(Q){this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250);let T={uid:this.uuid,msg:Q||this.client.userInput[this.target].text};if(!T.msg.trim())return;let K=this.params.get("name");K&&(T.name=K),this.client.send(this.target,JSON.stringify(T)),this.client.userInput[this.target].text="",this.focus_on_input()}quit_chat(){this.client.funcs[this.target].onclose=()=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let Q={color:st.Yc?"ffa":"884",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.leave_chat_group:this.lang.text.MinimalChat.leave_chat_ran};this.client.userInput[this.target].logs.push(Q),this.client.userInput[this.target].last_message=Q,this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"})},this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.client.disconnect(this.target),this.modalCtrl.dismiss()}ionViewWillLeave(){this.title.setTitle("Project: Cone"),document.getElementById("favicon").setAttribute("href","assets/icon/favicon.png"),this.noti.Current=void 0}}return(R=V).\u0275fac=function(Q){return new(Q||R)(X.Y36(r),X.Y36(G.IN),X.Y36(O.A),X.Y36(f.J),X.Y36(m.Dx),X.Y36(G.X1),X.Y36(d.g),X.Y36(y.b),X.Y36(w.a),X.Y36(b.A),X.Y36(st.AN))},R.\u0275cmp=X.Xpm({type:R,selectors:[["app-minimal-chat"]],viewQuery:function(Q,T){if(1&Q&&X.Gf(h,5),2&Q){let K;X.iGM(K=X.CRH())&&(T.minimalchat_input=K.first)}},decls:24,vars:11,consts:[["slot","start",3,"click"],["defaultHref",""],["slot","end",2,"margin","8px 16px"],["id","main_table",2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],["id","minimal_chat_div",1,"main",2,"max-width","100vw"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","bottom_thumbnail",3,"click",4,"ngIf"],["id","input_table",2,"width","100%"],["style","width: 100%;",4,"ngIf"],["slot","end",3,"label","placeholder","ionInput",4,"ngIf"],["style","width: 100%; height: auto;","alt","Loading",3,"src",4,"ngIf"],["slot","end",3,"label","placeholder","ionInput"],["alt","Loading",2,"width","100%","height","auto",3,"src"],[3,"color",4,"ngIf"],["class","default_text",4,"ngIf"],[3,"color"],[1,"default_text"],[1,"bottom_thumbnail",3,"click"],["expand","block",3,"click"],["expand","block",3,"disabled","click"],["expand","block","fill","clear",3,"click"],["name","exit"],[2,"width","100%"],["id","minimalchat_input","type","text",3,"placeholder","ngModel","ionFocus","keyup.enter","ngModelChange"],["minimalchat_input",""],["name","send"]],template:function(Q,T){1&Q&&(X.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),X.NdJ("click",function(){return T.modalCtrl.dismiss()}),X._UZ(3,"ion-back-button",1),X.qZA(),X.TgZ(4,"ion-title"),X._uU(5),X.qZA(),X.TgZ(6,"div",2),X._uU(7),X.qZA()()(),X.TgZ(8,"ion-content")(9,"table",3)(10,"tr",4)(11,"td",5)(12,"div",6),X.YNc(13,v,4,2,"div",7),X.YNc(14,$,3,2,"p",8),X.qZA()()()()(),X.TgZ(15,"ion-footer"),X.YNc(16,k,6,4,"div",9),X.TgZ(17,"table",10)(18,"tr"),X.YNc(19,M,3,1,"td",7),X.YNc(20,A,3,2,"td",7),X.YNc(21,L,3,0,"td",7),X.YNc(22,U,3,2,"td",11),X.YNc(23,I,3,0,"td",7),X.qZA()()()),2&Q&&(X.xp6(5),X.Oqu(T.header_title),X.xp6(2),X.AsE("",T.lang.text.MinimalChat.concurrent_users,": ",T.client.ConnectedNow[T.target],""),X.xp6(6),X.Q6J("ngIf",T.isCustomDedicated&&(!T.isLocalAddress||T.isMobileApp)),X.xp6(1),X.Q6J("ngForOf",T.client.userInput[T.target].logs),X.xp6(2),X.Q6J("ngIf",T.showLastMessage),X.xp6(3),X.Q6J("ngIf","idle"==T.client.status[T.target]),X.xp6(1),X.Q6J("ngIf","linked"==T.client.status[T.target]||"unlinked"==T.client.status[T.target]),X.xp6(1),X.Q6J("ngIf","unlinked"==T.client.status[T.target]||"idle"==T.client.status[T.target]||"custom"==T.client.status[T.target]),X.xp6(1),X.Q6J("ngIf","linked"==T.client.status[T.target]||"custom"==T.client.status[T.target]),X.xp6(1),X.Q6J("ngIf","linked"==T.client.status[T.target]||"custom"==T.client.status[T.target]))},dependencies:[i.sg,i.O5,l.JJ,l.On,G.oU,G.YG,G.Sm,G.W2,G.fr,G.Gu,G.gu,G.pK,G.rH,G.t9,G.n0,G.wd,G.sr,G.QI,G.j9,G.cs],styles:[".main[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}p[_ngcontent-%COMP%]{margin:8px 0 0}.default_text[_ngcontent-%COMP%]{color:var(--miniranchat-default-text)}.bottom_thumbnail[_ngcontent-%COMP%]{width:100%;max-width:100vw;height:-moz-fit-content;height:fit-content;max-height:96px;transform:translateY(-100%);position:absolute;background:var(--chatroom-last-msg-viewer-bg);padding:8px;overflow:hidden}"]}),V})()},9080:(nn,Et,me)=>{"use strict";me.d(Et,{B:()=>En,a:()=>Bn});var w,b,H=me(5861),j=Object.defineProperty,st=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,G=(ee,_e,Se)=>_e in ee?j(ee,_e,{enumerable:!0,configurable:!0,writable:!0,value:Se}):ee[_e]=Se,O=(ee,_e)=>{for(var Se in _e||(_e={}))X.call(_e,Se)&&G(ee,Se,_e[Se]);if(st)for(var Se of st(_e))r.call(_e,Se)&&G(ee,Se,_e[Se]);return ee},f=(ee,_e,Se)=>new Promise((B,Y)=>{var W=te=>{try{ne(Se.next(te))}catch(ge){Y(ge)}},de=te=>{try{ne(Se.throw(te))}catch(ge){Y(ge)}},ne=te=>te.done?B(te.value):Promise.resolve(te.value).then(W,de);ne((Se=Se.apply(ee,_e)).next())}),m=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof m<"u"&&m,d_searchParams="URLSearchParams"in m,d_iterable="Symbol"in m&&"iterator"in Symbol,d_blob="FileReader"in m&&"Blob"in m&&function(){try{return new Blob,!0}catch{return!1}}(),d_formData="FormData"in m,d_arrayBuffer="ArrayBuffer"in m;function i(ee){if("string"!=typeof ee&&(ee=String(ee)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(ee)||""===ee)throw new TypeError('Invalid character in header field name: "'+ee+'"');return ee.toLowerCase()}function l(ee){return"string"!=typeof ee&&(ee=String(ee)),ee}function h(ee){var _e={next:function(){var Se=ee.shift();return{done:void 0===Se,value:Se}}};return d_iterable&&(_e[Symbol.iterator]=function(){return _e}),_e}function s(ee){this.map={},ee instanceof s?ee.forEach(function(_e,Se){this.append(Se,_e)},this):Array.isArray(ee)?ee.forEach(function(_e){this.append(_e[0],_e[1])},this):ee&&Object.getOwnPropertyNames(ee).forEach(function(_e){this.append(_e,ee[_e])},this)}function c(ee){if(ee.bodyUsed)return Promise.reject(new TypeError("Already read"));ee.bodyUsed=!0}function p(ee){return new Promise(function(_e,Se){ee.onload=function(){_e(ee.result)},ee.onerror=function(){Se(ee.error)}})}function v(ee){var _e=new FileReader,Se=p(_e);return _e.readAsArrayBuffer(ee),Se}function E(ee){if(ee.slice)return ee.slice(0);var _e=new Uint8Array(ee.byteLength);return _e.set(new Uint8Array(ee)),_e.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(ee){this.bodyUsed=this.bodyUsed,this._bodyInit=ee,ee?"string"==typeof ee?this._bodyText=ee:d_blob&&Blob.prototype.isPrototypeOf(ee)?this._bodyBlob=ee:d_formData&&FormData.prototype.isPrototypeOf(ee)?this._bodyFormData=ee:d_searchParams&&URLSearchParams.prototype.isPrototypeOf(ee)?this._bodyText=ee.toString():d_arrayBuffer&&d_blob&&function y(ee){return ee&&DataView.prototype.isPrototypeOf(ee)}(ee)?(this._bodyArrayBuffer=E(ee.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ee)||b(ee))?this._bodyArrayBuffer=E(ee):this._bodyText=ee=Object.prototype.toString.call(ee):this._bodyText="",this.headers.get("content-type")||("string"==typeof ee?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d_searchParams&&URLSearchParams.prototype.isPrototypeOf(ee)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d_blob&&(this.blob=function(){var ee=c(this);if(ee)return ee;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(v)}),this.text=function(){var ee=c(this);if(ee)return ee;if(this._bodyBlob)return function a(ee){var _e=new FileReader,Se=p(_e);return _e.readAsText(ee),Se}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function g(ee){for(var _e=new Uint8Array(ee),Se=new Array(_e.length),B=0;B<_e.length;B++)Se[B]=String.fromCharCode(_e[B]);return Se.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d_formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}d_arrayBuffer&&(w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(ee){return ee&&w.indexOf(Object.prototype.toString.call(ee))>-1}),s.prototype.append=function(ee,_e){ee=i(ee),_e=l(_e);var Se=this.map[ee];this.map[ee]=Se?Se+", "+_e:_e},s.prototype.delete=function(ee){delete this.map[i(ee)]},s.prototype.get=function(ee){return ee=i(ee),this.has(ee)?this.map[ee]:null},s.prototype.has=function(ee){return this.map.hasOwnProperty(i(ee))},s.prototype.set=function(ee,_e){this.map[i(ee)]=l(_e)},s.prototype.forEach=function(ee,_e){for(var Se in this.map)this.map.hasOwnProperty(Se)&&ee.call(_e,this.map[Se],Se,this)},s.prototype.keys=function(){var ee=[];return this.forEach(function(_e,Se){ee.push(Se)}),h(ee)},s.prototype.values=function(){var ee=[];return this.forEach(function(_e){ee.push(_e)}),h(ee)},s.prototype.entries=function(){var ee=[];return this.forEach(function(_e,Se){ee.push([Se,_e])}),h(ee)},d_iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(ee,_e){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Se=(_e=_e||{}).body;if(ee instanceof A){if(ee.bodyUsed)throw new TypeError("Already read");this.url=ee.url,this.credentials=ee.credentials,_e.headers||(this.headers=new s(ee.headers)),this.method=ee.method,this.mode=ee.mode,this.signal=ee.signal,!Se&&null!=ee._bodyInit&&(Se=ee._bodyInit,ee.bodyUsed=!0)}else this.url=String(ee);if(this.credentials=_e.credentials||this.credentials||"same-origin",(_e.headers||!this.headers)&&(this.headers=new s(_e.headers)),this.method=function M(ee){var _e=ee.toUpperCase();return k.indexOf(_e)>-1?_e:ee}(_e.method||this.method||"GET"),this.mode=_e.mode||this.mode||null,this.signal=_e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Se)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Se),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==_e.cache&&"no-cache"!==_e.cache)){var B=/([?&])_=[^&]*/;B.test(this.url)?this.url=this.url.replace(B,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function L(ee){var _e=new FormData;return ee.trim().split("&").forEach(function(Se){if(Se){var B=Se.split("="),Y=B.shift().replace(/\+/g," "),W=B.join("=").replace(/\+/g," ");_e.append(decodeURIComponent(Y),decodeURIComponent(W))}}),_e}function U(ee){var _e=new s;return ee.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(B){return 0===B.indexOf("\n")?B.substr(1,B.length):B}).forEach(function(B){var Y=B.split(":"),W=Y.shift().trim();if(W){var de=Y.join(":").trim();_e.append(W,de)}}),_e}function I(ee,_e){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_e||(_e={}),this.type="default",this.status=void 0===_e.status?200:_e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===_e.statusText?"":""+_e.statusText,this.headers=new s(_e.headers),this.url=_e.url||"",this._initBody(ee)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},$.call(A.prototype),$.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},I.error=function(){var ee=new I(null,{status:0,statusText:""});return ee.type="error",ee};var D=[301,302,303,307,308];I.redirect=function(ee,_e){if(-1===D.indexOf(_e))throw new RangeError("Invalid status code");return new I(null,{status:_e,headers:{location:ee}})};var R=m.DOMException;try{new R}catch{(R=function(_e,Se){this.message=_e,this.name=Se;var B=Error(_e);this.stack=B.stack}).prototype=Object.create(Error.prototype),R.prototype.constructor=R}function V(ee,_e){return new Promise(function(Se,B){var Y=new A(ee,_e);if(Y.signal&&Y.signal.aborted)return B(new R("Aborted","AbortError"));var W=new XMLHttpRequest;function de(){W.abort()}W.onload=function(){var te={status:W.status,statusText:W.statusText,headers:U(W.getAllResponseHeaders()||"")};te.url="responseURL"in W?W.responseURL:te.headers.get("X-Request-URL");var ge="response"in W?W.response:W.responseText;setTimeout(function(){Se(new I(ge,te))},0)},W.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},W.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},W.onabort=function(){setTimeout(function(){B(new R("Aborted","AbortError"))},0)},W.open(Y.method,function ne(te){try{return""===te&&m.location.href?m.location.href:te}catch{return te}}(Y.url),!0),"include"===Y.credentials?W.withCredentials=!0:"omit"===Y.credentials&&(W.withCredentials=!1),"responseType"in W&&(d_blob?W.responseType="blob":d_arrayBuffer&&Y.headers.get("Content-Type")&&-1!==Y.headers.get("Content-Type").indexOf("application/octet-stream")&&(W.responseType="arraybuffer")),!_e||"object"!=typeof _e.headers||_e.headers instanceof s?Y.headers.forEach(function(te,ge){W.setRequestHeader(ge,te)}):Object.getOwnPropertyNames(_e.headers).forEach(function(te){W.setRequestHeader(te,l(_e.headers[te]))}),Y.signal&&(Y.signal.addEventListener("abort",de),W.onreadystatechange=function(){4===W.readyState&&Y.signal.removeEventListener("abort",de)}),W.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}V.polyfill=!0,m.fetch||(m.fetch=V,m.Headers=s,m.Request=A,m.Response=I);var N="function"==typeof atob,Q="function"==typeof btoa,T="function"==typeof Buffer,se=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),Ie=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Z=(ee=>{let _e={};return ee.forEach((Se,B)=>_e[Se]=B),_e})(Ie),ie=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,pe=String.fromCharCode.bind(String),Ge=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),Q?ee=>btoa(ee):T?ee=>Buffer.from(ee,"binary").toString("base64"):ee=>{let _e,Se,B,Y,W="";const de=ee.length%3;for(let ne=0;ne<ee.length;){if((Se=ee.charCodeAt(ne++))>255||(B=ee.charCodeAt(ne++))>255||(Y=ee.charCodeAt(ne++))>255)throw new TypeError("invalid character found");_e=Se<<16|B<<8|Y,W+=Ie[_e>>18&63]+Ie[_e>>12&63]+Ie[_e>>6&63]+Ie[63&_e]}return de?W.slice(0,de-3)+"===".substring(de):W}),je=T?ee=>Buffer.from(ee).toString("base64"):ee=>{let Se=[];for(let B=0,Y=ee.length;B<Y;B+=4096)Se.push(pe.apply(null,ee.subarray(B,B+4096)));return Ge(Se.join(""))},We=ee=>{if(ee.length<2)return(_e=ee.charCodeAt(0))<128?ee:_e<2048?pe(192|_e>>>6)+pe(128|63&_e):pe(224|_e>>>12&15)+pe(128|_e>>>6&63)+pe(128|63&_e);var _e=65536+1024*(ee.charCodeAt(0)-55296)+(ee.charCodeAt(1)-56320);return pe(240|_e>>>18&7)+pe(128|_e>>>12&63)+pe(128|_e>>>6&63)+pe(128|63&_e)},Ye=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ke=T?ee=>Buffer.from(ee,"utf8").toString("base64"):se?ee=>je(se.encode(ee)):ee=>Ge((ee=>ee.replace(Ye,We))(ee)),at=(ee,_e=!1)=>_e?(ee=>ee.replace(/=/g,"").replace(/[+\/]/g,_e=>"+"==_e?"-":"_"))(Ke(ee)):Ke(ee),lt=N?ee=>atob((ee=>ee.replace(/[^A-Za-z0-9\+\/]/g,""))(ee)):T?ee=>Buffer.from(ee,"base64").toString("binary"):ee=>{if(ee=ee.replace(/\s+/g,""),!ie.test(ee))throw new TypeError("malformed base64.");ee+="==".slice(2-(3&ee.length));let _e,B,Y,Se="";for(let W=0;W<ee.length;)_e=Z[ee.charAt(W++)]<<18|Z[ee.charAt(W++)]<<12|(B=Z[ee.charAt(W++)])<<6|(Y=Z[ee.charAt(W++)]),Se+=64===B?pe(_e>>16&255):64===Y?pe(_e>>16&255,_e>>8&255):pe(_e>>16&255,_e>>8&255,255&_e);return Se};function nt(ee,_e,Se){const B=O(O({},{method:ee}),_e);if(B.headers=O({},_e.headers),typeof XMLHttpRequest<"u"){const Y=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=Y&&Y.set||(B.credentials="cocos-ignore")}return Object.keys(B.headers).includes("Accept")||(B.headers.Accept="application/json"),Object.keys(B.headers).includes("Content-Type")||(B.headers["Content-Type"]="application/json"),Object.keys(B.headers).forEach(Y=>{B.headers[Y]||delete B.headers[Y]}),Se&&(B.body=Se),B}var Wt=class{constructor(ee,_e,Se){this.created=Se,this.token=ee,this.refresh_token=_e,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(ee,_e)}isexpired(ee){return this.expires_at-ee<0}isrefreshexpired(ee){return this.refresh_expires_at-ee<0}update(ee,_e){const Se=ee.split(".");if(3!=Se.length)throw"jwt is not valid.";const B=JSON.parse(lt(Se[1])),Y=Math.floor(parseInt(B.exp));if(_e){const W=_e.split(".");if(3!=W.length)throw"refresh jwt is not valid.";const de=JSON.parse(lt(W[1])),ne=Math.floor(parseInt(de.exp));this.refresh_expires_at=ne,this.refresh_token=_e}this.token=ee,this.expires_at=Y,this.username=B.usn,this.user_id=B.uid,this.vars=B.vrs}static restore(ee,_e){return new Wt(ee,_e,!1)}},Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(cn=0;cn<64;cn++)rn[Ct.charCodeAt(cn)]=cn;var cn,Ht=function(ee){var Se,_e=new Uint8Array(ee),B=_e.length,Y="";for(Se=0;Se<B;Se+=3)Y+=Ct[_e[Se]>>2],Y+=Ct[(3&_e[Se])<<4|_e[Se+1]>>4],Y+=Ct[(15&_e[Se+1])<<2|_e[Se+2]>>6],Y+=Ct[63&_e[Se+2]];return B%3==2?Y=Y.substring(0,Y.length-1)+"=":B%3==1&&(Y=Y.substring(0,Y.length-2)+"=="),Y},dn=function(ee){var B,W,de,ne,te,_e=.75*ee.length,Se=ee.length,Y=0;"="===ee[ee.length-1]&&(_e--,"="===ee[ee.length-2]&&_e--);var ge=new ArrayBuffer(_e),ke=new Uint8Array(ge);for(B=0;B<Se;B+=4)W=rn[ee.charCodeAt(B)],de=rn[ee.charCodeAt(B+1)],ne=rn[ee.charCodeAt(B+2)],te=rn[ee.charCodeAt(B+3)],ke[Y++]=W<<2|de>>4,ke[Y++]=(15&de)<<4|ne>>2,ke[Y++]=(3&ne)<<6|63&te;return ge},tn=class{get onClose(){return this._socket.onclose}set onClose(ee){this._socket.onclose=ee}get onError(){return this._socket.onerror}set onError(ee){this._socket.onerror=ee}get onMessage(){return this._socket.onmessage}set onMessage(ee){ee?this._socket.onmessage=_e=>{const Se=JSON.parse(_e.data);Se.match_data&&Se.match_data.data?Se.match_data.data=new Uint8Array(dn(Se.match_data.data)):Se.party_data&&Se.party_data.data&&(Se.party_data.data=new Uint8Array(dn(Se.party_data.data))),ee(Se)}:ee=null}get onOpen(){return this._socket.onopen}set onOpen(ee){this._socket.onopen=ee}isOpen(){var ee;return(null==(ee=this._socket)?void 0:ee.readyState)==WebSocket.OPEN}connect(ee,_e,Se,B,Y){const W=`${ee}${_e}:${Se}/ws?lang=en&status=${encodeURIComponent(B.toString())}&token=${encodeURIComponent(Y)}`;this._socket=new WebSocket(W)}close(){this._socket.close(),this._socket=void 0}send(ee){if(ee.match_data_send){ee.match_data_send.op_code=ee.match_data_send.op_code.toString();let _e=ee.match_data_send.data;_e&&_e instanceof Uint8Array?ee.match_data_send.data=Ht(_e.buffer):_e&&(ee.match_data_send.data=Ge(_e))}else if(ee.party_data_send){ee.party_data_send.op_code=ee.party_data_send.op_code.toString();let _e=ee.party_data_send.data;_e&&_e instanceof Uint8Array?ee.party_data_send.data=Ht(_e.buffer):_e&&(ee.party_data_send.data=Ge(_e))}this._socket.send(JSON.stringify(ee))}},dt=class{constructor(ee,_e,Se=!1,B=!1,Y=new tn,W=dt.DefaultSendTimeoutMs){this.host=ee,this.port=_e,this.useSSL=Se,this.verbose=B,this.adapter=Y,this.sendTimeoutMs=W,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=dt.DefaultHeartbeatTimeoutMs}generatecid(){const ee=this.nextCid.toString();return++this.nextCid,ee}connect(ee,_e=!1,Se=dt.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(ee):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,_e,ee.token),this.adapter.onClose=Y=>{this.ondisconnect(Y)},this.adapter.onError=Y=>{this.onerror(Y)},this.adapter.onMessage=Y=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(Y)),Y.cid){const W=this.cIds[Y.cid];if(!W)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",Y));delete this.cIds[Y.cid],Y.error?W.reject(Y.error):W.resolve(Y)}else Y.notifications?Y.notifications.notifications.forEach(W=>{W.content=W.content?JSON.parse(W.content):void 0,this.onnotification(W)}):Y.match_data?(Y.match_data.op_code=parseInt(Y.match_data.op_code),this.onmatchdata(Y.match_data)):Y.match_presence_event?this.onmatchpresence(Y.match_presence_event):Y.matchmaker_ticket?this.onmatchmakerticket(Y.matchmaker_ticket):Y.matchmaker_matched?this.onmatchmakermatched(Y.matchmaker_matched):Y.status_presence_event?this.onstatuspresence(Y.status_presence_event):Y.stream_presence_event?this.onstreampresence(Y.stream_presence_event):Y.stream_data?this.onstreamdata(Y.stream_data):Y.channel_message?(Y.channel_message.content=JSON.parse(Y.channel_message.content),this.onchannelmessage(Y.channel_message)):Y.channel_presence_event?this.onchannelpresence(Y.channel_presence_event):Y.party_data?(Y.party_data.op_code=parseInt(Y.party_data.op_code),this.onpartydata(Y.party_data)):Y.party_close?this.onpartyclose(Y.party_close):Y.party_join_request?this.onpartyjoinrequest(Y.party_join_request):Y.party_leader?this.onpartyleader(Y.party_leader):Y.party_matchmaker_ticket?this.onpartymatchmakerticket(Y.party_matchmaker_ticket):Y.party_presence_event?this.onpartypresence(Y.party_presence_event):Y.party?this.onparty(Y.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",Y)},new Promise((Y,W)=>{this.adapter.onOpen=de=>{this.verbose&&window&&window.console&&console.log(de),this.pingPong(),Y(ee)},this.adapter.onError=de=>{W(de),this.adapter.close()},setTimeout(()=>{W("The socket timed out when trying to connect.")},Se)}))}disconnect(ee=!0){this.adapter.isOpen()&&this.adapter.close(),ee&&this.ondisconnect({})}setHeartbeatTimeoutMs(ee){this._heartbeatTimeoutMs=ee}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(ee){this.verbose&&window&&window.console&&console.log(ee)}onerror(ee){this.verbose&&window&&window.console&&console.log(ee)}onchannelmessage(ee){this.verbose&&window&&window.console&&console.log(ee)}onchannelpresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onnotification(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchdata(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchpresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchmakerticket(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchmakermatched(ee){this.verbose&&window&&window.console&&console.log(ee)}onparty(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartyclose(ee){this.verbose&&window&&window.console&&console.log("Party closed: "+ee)}onpartyjoinrequest(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartydata(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartyleader(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartymatchmakerticket(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartypresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onstatuspresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onstreampresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onstreamdata(ee){this.verbose&&window&&window.console&&console.log(ee)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(ee,_e=dt.DefaultSendTimeoutMs){const Se=ee;return new Promise((B,Y)=>{if(this.adapter.isOpen())if(Se.match_data_send)this.adapter.send(Se),B();else if(Se.party_data_send)this.adapter.send(Se),B();else{Se.channel_message_send?Se.channel_message_send.content=JSON.stringify(Se.channel_message_send.content):Se.channel_message_update&&(Se.channel_message_update.content=JSON.stringify(Se.channel_message_update.content));const W=this.generatecid();this.cIds[W]={resolve:B,reject:Y},setTimeout(()=>{Y("The socket timed out while waiting for a response.")},_e),Se.cid=W,this.adapter.send(Se)}else Y("Socket connection has not been established yet.");this.verbose&&window&&window.console&&console.log("Sent message: %o",JSON.stringify(Se))})}acceptPartyMember(ee,_e){return this.send({party_accept:{party_id:ee,presence:_e}})}addMatchmaker(ee,_e,Se,B,Y){return f(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:_e,max_count:Se,query:ee,string_properties:B,numeric_properties:Y}})).matchmaker_ticket})}addMatchmakerParty(ee,_e,Se,B,Y,W){return f(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:ee,min_count:Se,max_count:B,query:_e,string_properties:Y,numeric_properties:W}})).party_matchmaker_ticket})}closeParty(ee){return f(this,null,function*(){return yield this.send({party_close:{party_id:ee}})})}createMatch(){return f(this,null,function*(){return(yield this.send({match_create:{}})).match})}createParty(ee,_e){return f(this,null,function*(){return(yield this.send({party_create:{open:ee,max_size:_e}})).party})}followUsers(ee){return f(this,null,function*(){return(yield this.send({status_follow:{user_ids:ee}})).status})}joinChat(ee,_e,Se,B){return f(this,null,function*(){return(yield this.send({channel_join:{target:ee,type:_e,persistence:Se,hidden:B}})).channel})}joinMatch(ee,_e,Se){return f(this,null,function*(){const B={match_join:{metadata:Se}};return _e?B.match_join.token=_e:B.match_join.match_id=ee,(yield this.send(B)).match})}joinParty(ee){return f(this,null,function*(){return yield this.send({party_join:{party_id:ee}})})}leaveChat(ee){return this.send({channel_leave:{channel_id:ee}})}leaveMatch(ee){return this.send({match_leave:{match_id:ee}})}leaveParty(ee){return this.send({party_leave:{party_id:ee}})}listPartyJoinRequests(ee){return f(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:ee}})).party_join_request})}promotePartyMember(ee,_e){return f(this,null,function*(){return(yield this.send({party_promote:{party_id:ee,presence:_e}})).party_leader})}removeChatMessage(ee,_e){return f(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:ee,message_id:_e}})).channel_message_ack})}removeMatchmaker(ee){return this.send({matchmaker_remove:{ticket:ee}})}removeMatchmakerParty(ee,_e){return this.send({party_matchmaker_remove:{party_id:ee,ticket:_e}})}removePartyMember(ee,_e){return f(this,null,function*(){return this.send({party_remove:{party_id:ee,presence:_e}})})}rpc(ee,_e,Se){return f(this,null,function*(){return(yield this.send({rpc:{id:ee,payload:_e,http_key:Se}})).rpc})}sendMatchState(ee,_e,Se,B,Y){return f(this,null,function*(){return this.send({match_data_send:{match_id:ee,op_code:_e,data:Se,presences:null!=B?B:[],reliable:Y}})})}sendPartyData(ee,_e,Se){return this.send({party_data_send:{party_id:ee,op_code:_e,data:Se}})}unfollowUsers(ee){return this.send({status_unfollow:{user_ids:ee}})}updateChatMessage(ee,_e,Se){return f(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:ee,message_id:_e,content:Se}})).channel_message_ack})}updateStatus(ee){return this.send({status_update:{status:ee}})}writeChatMessage(ee,_e){return f(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:ee,content:_e}})).channel_message_ack})}pingPong(){return f(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},Ut=dt;Ut.DefaultHeartbeatTimeoutMs=1e4,Ut.DefaultSendTimeoutMs=1e4,Ut.DefaultConnectTimeoutMs=3e4;var Dt=me(3641),ut=me(9868),xt=me(1450),jt=me(2854),At=me(2156),Jt=me(6052),gn=me(4978),_n=me(3499),fn=me(9455),Mn=me(196),bt=me(9468),ht=me(9376),Nt=me(7488),gt=me(797),Mt=me(4093),Xt=me(1325),sn=me(3857),In=me(6395),En=function(ee){return ee[ee.ADD_TODO=10]="ADD_TODO",ee[ee.EDIT_PROFILE=11]="EDIT_PROFILE",ee[ee.ENGINE_PPT=13]="ENGINE_PPT",ee[ee.ADD_CHANNEL=14]="ADD_CHANNEL",ee[ee.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",ee[ee.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",ee[ee.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",ee[ee.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",ee[ee.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",ee[ee.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",ee}(En||{});let Bn=(()=>{var ee;class _e{constructor(B,Y,W,de,ne,te,ge,ke,Xe,tt,Ot,Gt){this.p5toast=B,this.statusBar=Y,this.indexed=W,this.noti=de,this.modalCtrl=ne,this.alertCtrl=te,this.lang=ge,this.global=ke,this.bgmode=Xe,this.navCtrl=tt,this.ngZone=Ot,this.loadingCtrl=Gt,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.isBannerShowing=!1,this.noti_origin={},this.self_match={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.after_rearrange_group={},this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.OnTransfer={},this.OnTransferMessage={},this.act_callback_link={}}initialize(){this.noti.GetNotificationIds(B=>{this.registered_id=B,this.set_all_todo_notification()}),this.indexed.loadTextFromUserPath("servers/self/profile.json",(B,Y)=>{B&&Y&&(this.users.self=JSON.parse(Y))}),this.indexed.loadTextFromUserPath("servers/list_detail.csv",(B,Y)=>{B&&Y&&Y.split("\n").forEach(de=>{let ne=de.split(","),te={isOfficial:ne[1],name:ne[2],target:ne[3],address:ne[4],port:+ne[5],useSSL:"true"==ne[6]};this.servers[te.isOfficial][te.target]={},this.servers[te.isOfficial][te.target].info=te,this.init_server(te)}),this.catch_group_server_header("offline"),this.indexed.loadTextFromUserPath("servers/groups.json",(W,de)=>{W&&de&&(this.groups=JSON.parse(de)),this.rearrange_group_list().forEach(te=>{if("missing"!=te.status){this.indexed.loadTextFromUserPath(`servers/${te.server.isOfficial}/${te.server.target}/groups/${te.id}.img`,(Xe,tt)=>{Xe&&tt&&(te.img=tt.replace(/"|=|\\/g,""))}),delete te.status;let ge=te.server.isOfficial,ke=te.server.target;if(te.users)for(let Xe=0,tt=te.users.length;Xe<tt;Xe++)te.users[Xe].is_me||(te.users[Xe].user=this.load_other_user(te.users[Xe].user.id,ge,ke))}}),this.load_channel_list()})}),this.indexed.loadTextFromUserPath("servers/list.json",(B,Y)=>{B&&Y&&(this.statusBar.groupServer=JSON.parse(Y)),Object.keys(this.statusBar.groupServer).forEach(de=>{this.servers[de]?Object.keys(this.statusBar.groupServer[de]).forEach(te=>{this.servers[de][te]||delete this.statusBar.groupServer[de][te]}):delete this.statusBar.groupServer[de]}),this.users.self.online&&this.init_all_sessions()})}set_all_todo_notification(){this.indexed.GetFileListFromDB("info.todo",B=>{B.forEach(Y=>{this.indexed.loadTextFromUserPath(Y,(W,de)=>{if(W&&de){let ne=JSON.parse(de);this.set_todo_notification(ne)}},this.indexed.godotDB)})},this.indexed.godotDB)}open_add_todo_page(B){this.AddTodoLinkAct?this.AddTodoLinkAct(B):this.ngZone.run(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:xt.pg,state:{data:B}})})}set_todo_notification(B){let Y=B.startFrom||B.limit;if("DesktopPWA"==Dt.n$||"MobilePWA"==Dt.n$){let W=setTimeout(()=>{this.noti.PushLocal({id:B.noti_id,title:B.title,body:B.description},void 0,de=>{this.open_add_todo_page(JSON.stringify(B))})},new Date(Y).getTime()-(new Date).getTime());this.web_noti_id[B.noti_id]=W}else{let W=new Date(Y).getTime(),de=!0;for(let ne=0,te=this.registered_id.length;ne<te;ne++)if(this.registered_id[ne]==B.id){this.registered_id.splice(ne,1),de=!1;break}if(!B.done&&de&&W>(new Date).getTime()){let ne="00bbbb";switch(B.importance){case"1":ne="dddd0c";break;case"2":ne="880000"}B.custom_color&&(ne=B.custom_color),this.noti.PushLocal({id:B.noti_id,title:B.title,body:B.description,smallIcon_ln:"todo",iconColor_ln:ne,group_ln:"todo",triggerWhen_ln:{at:new Date(Y)},extra_ln:{page:{component:"AddTodoMenuPage",componentProps:{data:JSON.stringify(B)}}}})}}}init_server(B){this.servers[B.isOfficial][B.target]||(this.servers[B.isOfficial][B.target]={}),this.servers[B.isOfficial][B.target].client=new class{constructor(ee="defaultkey",_e="127.0.0.1",Se="7350",B=!1,Y=7e3,W=!0){this.serverkey=ee,this.host=_e,this.port=Se,this.useSSL=B,this.timeout=Y,this.autoRefreshSession=W,this.expiredTimespanMs=3e5;const ne=`${B?"https://":"http://"}${_e}:${Se}`;this.apiClient=new class{constructor(ee,_e,Se){this.serverKey=ee,this.basePath=_e,this.timeoutMs=Se}healthcheck(ee,_e={}){const W=this.buildFullUrl(this.basePath,"/healthcheck",new Map),de=nt("GET",_e,"");return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(W,de).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}getAccount(ee,_e={}){const W=this.buildFullUrl(this.basePath,"/v2/account",new Map),de=nt("GET",_e,"");return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(W,de).then(ne=>{if(204==ne.status)return ne;if(ne.status>=200&&ne.status<300)return ne.json();throw ne}),new Promise((ne,te)=>setTimeout(te,this.timeoutMs,"Request timed out."))])}updateAccount(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account",Y),ne=nt("PUT",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}authenticateApple(ee,_e,Se,B,Y,W={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ne=new Map;ne.set("create",B),ne.set("username",Y);let te="";te=JSON.stringify(Se||{});const ge=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",ne),ke=nt("POST",W,te);return ke.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}authenticateCustom(ee,_e,Se,B,Y,W={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ne=new Map;ne.set("create",B),ne.set("username",Y);let te="";te=JSON.stringify(Se||{});const ge=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",ne),ke=nt("POST",W,te);return ke.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}authenticateDevice(ee,_e,Se,B,Y,W={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ne=new Map;ne.set("create",B),ne.set("username",Y);let te="";te=JSON.stringify(Se||{});const ge=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",ne),ke=nt("POST",W,te);return ke.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}authenticateEmail(ee,_e,Se,B,Y,W={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ne=new Map;ne.set("create",B),ne.set("username",Y);let te="";te=JSON.stringify(Se||{});const ge=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",ne),ke=nt("POST",W,te);return ke.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}authenticateFacebook(ee,_e,Se,B,Y,W,de={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const te=new Map;te.set("create",B),te.set("username",Y),te.set("sync",W);let ge="";ge=JSON.stringify(Se||{});const ke=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",te),Xe=nt("POST",de,ge);return Xe.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ke,Xe).then(tt=>{if(204==tt.status)return tt;if(tt.status>=200&&tt.status<300)return tt.json();throw tt}),new Promise((tt,Ot)=>setTimeout(Ot,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(ee,_e,Se,B,Y,W={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ne=new Map;ne.set("create",B),ne.set("username",Y);let te="";te=JSON.stringify(Se||{});const ge=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",ne),ke=nt("POST",W,te);return ke.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(ee,_e,Se,B,Y,W={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ne=new Map;ne.set("create",B),ne.set("username",Y);let te="";te=JSON.stringify(Se||{});const ge=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",ne),ke=nt("POST",W,te);return ke.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}authenticateGoogle(ee,_e,Se,B,Y,W={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ne=new Map;ne.set("create",B),ne.set("username",Y);let te="";te=JSON.stringify(Se||{});const ge=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",ne),ke=nt("POST",W,te);return ke.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}authenticateSteam(ee,_e,Se,B,Y,W,de={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const te=new Map;te.set("create",B),te.set("username",Y),te.set("sync",W);let ge="";ge=JSON.stringify(Se||{});const ke=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",te),Xe=nt("POST",de,ge);return Xe.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ke,Xe).then(tt=>{if(204==tt.status)return tt;if(tt.status>=200&&tt.status<300)return tt.json();throw tt}),new Promise((tt,Ot)=>setTimeout(Ot,this.timeoutMs,"Request timed out."))])}linkApple(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/link/apple",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}linkCustom(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/link/custom",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}linkDevice(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/link/device",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}linkEmail(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/link/email",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}linkFacebook(ee,_e,Se,B={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const W=new Map;W.set("sync",Se);let de="";de=JSON.stringify(_e||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",W),te=nt("POST",B,de);return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}linkGameCenter(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}linkGoogle(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/link/google",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}linkSteam(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/link/steam",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}sessionRefresh(ee,_e,Se,B={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const W=new Map;let de="";de=JSON.stringify(Se||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",W),te=nt("POST",B,de);return te.headers.Authorization="Basic "+at(ee+":"+_e),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}unlinkApple(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}unlinkCustom(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}unlinkDevice(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}unlinkEmail(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}unlinkFacebook(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}unlinkGoogle(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}unlinkSteam(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}listChannelMessages(ee,_e,Se,B,Y,W={}){if(null==_e)throw new Error("'channelId' is a required parameter but is null or undefined.");const de="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(_e))),ne=new Map;ne.set("limit",Se),ne.set("forward",B),ne.set("cursor",Y);const ge=this.buildFullUrl(this.basePath,de,ne),ke=nt("GET",W,"");return ee&&(ke.headers.Authorization="Bearer "+ee),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}event(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/event",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}deleteFriends(ee,_e,Se,B={}){const W=new Map;W.set("ids",_e),W.set("usernames",Se);const ne=this.buildFullUrl(this.basePath,"/v2/friend",W),te=nt("DELETE",B,"");return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}listFriends(ee,_e,Se,B,Y={}){const de=new Map;de.set("limit",_e),de.set("state",Se),de.set("cursor",B);const te=this.buildFullUrl(this.basePath,"/v2/friend",de),ge=nt("GET",Y,"");return ee&&(ge.headers.Authorization="Bearer "+ee),Promise.race([fetch(te,ge).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Xe)=>setTimeout(Xe,this.timeoutMs,"Request timed out."))])}addFriends(ee,_e,Se,B={}){const W=new Map;W.set("ids",_e),W.set("usernames",Se);const ne=this.buildFullUrl(this.basePath,"/v2/friend",W),te=nt("POST",B,"");return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}blockFriends(ee,_e,Se,B={}){const W=new Map;W.set("ids",_e),W.set("usernames",Se);const ne=this.buildFullUrl(this.basePath,"/v2/friend/block",W),te=nt("POST",B,"");return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}importFacebookFriends(ee,_e,Se,B={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const W=new Map;W.set("reset",Se);let de="";de=JSON.stringify(_e||{});const ne=this.buildFullUrl(this.basePath,"/v2/friend/facebook",W),te=nt("POST",B,de);return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}importSteamFriends(ee,_e,Se,B={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const W=new Map;W.set("reset",Se);let de="";de=JSON.stringify(_e||{});const ne=this.buildFullUrl(this.basePath,"/v2/friend/steam",W),te=nt("POST",B,de);return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}listGroups(ee,_e,Se,B,Y,W,de,ne={}){const ge=new Map;ge.set("name",_e),ge.set("cursor",Se),ge.set("limit",B),ge.set("lang_tag",Y),ge.set("members",W),ge.set("open",de);const Xe=this.buildFullUrl(this.basePath,"/v2/group",ge),tt=nt("GET",ne,"");return ee&&(tt.headers.Authorization="Bearer "+ee),Promise.race([fetch(Xe,tt).then(Ot=>{if(204==Ot.status)return Ot;if(Ot.status>=200&&Ot.status<300)return Ot.json();throw Ot}),new Promise((Ot,Gt)=>setTimeout(Gt,this.timeoutMs,"Request timed out."))])}createGroup(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/group",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}deleteGroup(ee,_e,Se={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");const B="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(_e))),de=this.buildFullUrl(this.basePath,B,new Map),ne=nt("DELETE",Se,"");return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}updateGroup(ee,_e,Se,B={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const Y="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(_e))),W=new Map;let de="";de=JSON.stringify(Se||{});const ne=this.buildFullUrl(this.basePath,Y,W),te=nt("PUT",B,de);return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}addGroupUsers(ee,_e,Se,B={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");const Y="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(_e))),W=new Map;W.set("user_ids",Se);const ne=this.buildFullUrl(this.basePath,Y,W),te=nt("POST",B,"");return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}banGroupUsers(ee,_e,Se,B={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");const Y="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(_e))),W=new Map;W.set("user_ids",Se);const ne=this.buildFullUrl(this.basePath,Y,W),te=nt("POST",B,"");return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(ee,_e,Se,B={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'userIds' is a required parameter but is null or undefined.");const Y="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(_e))),W=new Map;W.set("user_ids",Se);const ne=this.buildFullUrl(this.basePath,Y,W),te=nt("POST",B,"");return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}joinGroup(ee,_e,Se={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");const B="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(_e))),de=this.buildFullUrl(this.basePath,B,new Map),ne=nt("POST",Se,"");return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}kickGroupUsers(ee,_e,Se,B={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");const Y="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(_e))),W=new Map;W.set("user_ids",Se);const ne=this.buildFullUrl(this.basePath,Y,W),te=nt("POST",B,"");return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}leaveGroup(ee,_e,Se={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");const B="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(_e))),de=this.buildFullUrl(this.basePath,B,new Map),ne=nt("POST",Se,"");return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(ee,_e,Se,B={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");const Y="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(_e))),W=new Map;W.set("user_ids",Se);const ne=this.buildFullUrl(this.basePath,Y,W),te=nt("POST",B,"");return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}listGroupUsers(ee,_e,Se,B,Y,W={}){if(null==_e)throw new Error("'groupId' is a required parameter but is null or undefined.");const de="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(_e))),ne=new Map;ne.set("limit",Se),ne.set("state",B),ne.set("cursor",Y);const ge=this.buildFullUrl(this.basePath,de,ne),ke=nt("GET",W,"");return ee&&(ke.headers.Authorization="Bearer "+ee),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(ee,_e,Se={}){if(null==_e)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const B="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(_e))),de=this.buildFullUrl(this.basePath,B,new Map),ne=nt("DELETE",Se,"");return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(ee,_e,Se,B,Y,W,de={}){if(null==_e)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const ne="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(_e))),te=new Map;te.set("owner_ids",Se),te.set("limit",B),te.set("cursor",Y),te.set("expiry",W);const ke=this.buildFullUrl(this.basePath,ne,te),Xe=nt("GET",de,"");return ee&&(Xe.headers.Authorization="Bearer "+ee),Promise.race([fetch(ke,Xe).then(tt=>{if(204==tt.status)return tt;if(tt.status>=200&&tt.status<300)return tt.json();throw tt}),new Promise((tt,Ot)=>setTimeout(Ot,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(ee,_e,Se,B={}){if(null==_e)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const Y="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(_e))),W=new Map;let de="";de=JSON.stringify(Se||{});const ne=this.buildFullUrl(this.basePath,Y,W),te=nt("POST",B,de);return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(ee,_e,Se,B,Y,W={}){if(null==_e)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'ownerId' is a required parameter but is null or undefined.");const de="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(_e))).replace("{ownerId}",encodeURIComponent(String(Se))),ne=new Map;ne.set("limit",B),ne.set("expiry",Y);const ge=this.buildFullUrl(this.basePath,de,ne),ke=nt("GET",W,"");return ee&&(ke.headers.Authorization="Bearer "+ee),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}listMatches(ee,_e,Se,B,Y,W,de,ne={}){const ge=new Map;ge.set("limit",_e),ge.set("authoritative",Se),ge.set("label",B),ge.set("min_size",Y),ge.set("max_size",W),ge.set("query",de);const Xe=this.buildFullUrl(this.basePath,"/v2/match",ge),tt=nt("GET",ne,"");return ee&&(tt.headers.Authorization="Bearer "+ee),Promise.race([fetch(Xe,tt).then(Ot=>{if(204==Ot.status)return Ot;if(Ot.status>=200&&Ot.status<300)return Ot.json();throw Ot}),new Promise((Ot,Gt)=>setTimeout(Gt,this.timeoutMs,"Request timed out."))])}deleteNotifications(ee,_e,Se={}){const Y=new Map;Y.set("ids",_e);const de=this.buildFullUrl(this.basePath,"/v2/notification",Y),ne=nt("DELETE",Se,"");return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}listNotifications(ee,_e,Se,B={}){const W=new Map;W.set("limit",_e),W.set("cacheable_cursor",Se);const ne=this.buildFullUrl(this.basePath,"/v2/notification",W),te=nt("GET",B,"");return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}rpcFunc2(ee,_e,Se,B,Y={}){if(null==_e)throw new Error("'id' is a required parameter but is null or undefined.");const W="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(_e))),de=new Map;de.set("payload",Se),de.set("http_key",B);const te=this.buildFullUrl(this.basePath,W,de),ge=nt("GET",Y,"");return ee&&(ge.headers.Authorization="Bearer "+ee),Promise.race([fetch(te,ge).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Xe)=>setTimeout(Xe,this.timeoutMs,"Request timed out."))])}rpcFunc(ee,_e,Se,B,Y={}){if(null==_e)throw new Error("'id' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const W="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(_e))),de=new Map;de.set("http_key",B);let ne="";ne=JSON.stringify(Se||{});const te=this.buildFullUrl(this.basePath,W,de),ge=nt("POST",Y,ne);return ee&&(ge.headers.Authorization="Bearer "+ee),Promise.race([fetch(te,ge).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Xe)=>setTimeout(Xe,this.timeoutMs,"Request timed out."))])}sessionLogout(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/session/logout",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}readStorageObjects(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/storage",Y),ne=nt("POST",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}writeStorageObjects(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/storage",Y),ne=nt("PUT",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(ee,_e,Se={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Y=new Map;let W="";W=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/storage/delete",Y),ne=nt("PUT",Se,W);return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}listStorageObjects(ee,_e,Se,B,Y,W={}){if(null==_e)throw new Error("'collection' is a required parameter but is null or undefined.");const de="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(_e))),ne=new Map;ne.set("user_id",Se),ne.set("limit",B),ne.set("cursor",Y);const ge=this.buildFullUrl(this.basePath,de,ne),ke=nt("GET",W,"");return ee&&(ke.headers.Authorization="Bearer "+ee),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}listStorageObjects2(ee,_e,Se,B,Y,W={}){if(null==_e)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'userId' is a required parameter but is null or undefined.");const de="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(_e))).replace("{userId}",encodeURIComponent(String(Se))),ne=new Map;ne.set("limit",B),ne.set("cursor",Y);const ge=this.buildFullUrl(this.basePath,de,ne),ke=nt("GET",W,"");return ee&&(ke.headers.Authorization="Bearer "+ee),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}listTournaments(ee,_e,Se,B,Y,W,de,ne={}){const ge=new Map;ge.set("category_start",_e),ge.set("category_end",Se),ge.set("start_time",B),ge.set("end_time",Y),ge.set("limit",W),ge.set("cursor",de);const Xe=this.buildFullUrl(this.basePath,"/v2/tournament",ge),tt=nt("GET",ne,"");return ee&&(tt.headers.Authorization="Bearer "+ee),Promise.race([fetch(Xe,tt).then(Ot=>{if(204==Ot.status)return Ot;if(Ot.status>=200&&Ot.status<300)return Ot.json();throw Ot}),new Promise((Ot,Gt)=>setTimeout(Gt,this.timeoutMs,"Request timed out."))])}listTournamentRecords(ee,_e,Se,B,Y,W,de={}){if(null==_e)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const ne="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(_e))),te=new Map;te.set("owner_ids",Se),te.set("limit",B),te.set("cursor",Y),te.set("expiry",W);const ke=this.buildFullUrl(this.basePath,ne,te),Xe=nt("GET",de,"");return ee&&(Xe.headers.Authorization="Bearer "+ee),Promise.race([fetch(ke,Xe).then(tt=>{if(204==tt.status)return tt;if(tt.status>=200&&tt.status<300)return tt.json();throw tt}),new Promise((tt,Ot)=>setTimeout(Ot,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(ee,_e,Se,B={}){if(null==_e)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const Y="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(_e))),W=new Map;let de="";de=JSON.stringify(Se||{});const ne=this.buildFullUrl(this.basePath,Y,W),te=nt("POST",B,de);return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(ee,_e,Se,B={}){if(null==_e)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const Y="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(_e))),W=new Map;let de="";de=JSON.stringify(Se||{});const ne=this.buildFullUrl(this.basePath,Y,W),te=nt("PUT",B,de);return ee&&(te.headers.Authorization="Bearer "+ee),Promise.race([fetch(ne,te).then(ge=>{if(204==ge.status)return ge;if(ge.status>=200&&ge.status<300)return ge.json();throw ge}),new Promise((ge,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}joinTournament(ee,_e,Se={}){if(null==_e)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const B="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(_e))),de=this.buildFullUrl(this.basePath,B,new Map),ne=nt("POST",Se,"");return ee&&(ne.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,ne).then(te=>{if(204==te.status)return te;if(te.status>=200&&te.status<300)return te.json();throw te}),new Promise((te,ge)=>setTimeout(ge,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(ee,_e,Se,B,Y,W={}){if(null==_e)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'ownerId' is a required parameter but is null or undefined.");const de="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(_e))).replace("{ownerId}",encodeURIComponent(String(Se))),ne=new Map;ne.set("limit",B),ne.set("expiry",Y);const ge=this.buildFullUrl(this.basePath,de,ne),ke=nt("GET",W,"");return ee&&(ke.headers.Authorization="Bearer "+ee),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}getUsers(ee,_e,Se,B,Y={}){const de=new Map;de.set("ids",_e),de.set("usernames",Se),de.set("facebook_ids",B);const te=this.buildFullUrl(this.basePath,"/v2/user",de),ge=nt("GET",Y,"");return ee&&(ge.headers.Authorization="Bearer "+ee),Promise.race([fetch(te,ge).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,Xe)=>setTimeout(Xe,this.timeoutMs,"Request timed out."))])}listUserGroups(ee,_e,Se,B,Y,W={}){if(null==_e)throw new Error("'userId' is a required parameter but is null or undefined.");const de="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(_e))),ne=new Map;ne.set("limit",Se),ne.set("state",B),ne.set("cursor",Y);const ge=this.buildFullUrl(this.basePath,de,ne),ke=nt("GET",W,"");return ee&&(ke.headers.Authorization="Bearer "+ee),Promise.race([fetch(ge,ke).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}buildFullUrl(ee,_e,Se){let B=ee+_e+"?";for(let[Y,W]of Se)W instanceof Array?B+=W.reduce((de,ne)=>de+encodeURIComponent(Y)+"="+encodeURIComponent(ne)+"&",""):null!=W&&(B+=encodeURIComponent(Y)+"="+encodeURIComponent(W)+"&");return B}}(ee,ne,Y)}addGroupUsers(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.addGroupUsers(ee.token,_e,Se).then(B=>void 0!==B)})}addFriends(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.addFriends(ee.token,_e,Se).then(B=>void 0!==B)})}authenticateApple(ee,_e,Se){return f(this,arguments,function*(B,Y,W,de={},ne={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:B,vars:de},Y,W,ne).then(ge=>new Wt(ge.token||"",ge.refresh_token||"",ge.created||!1))})}authenticateCustom(ee,_e,Se,B={},Y={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:ee,vars:B},_e,Se,Y).then(de=>new Wt(de.token||"",de.refresh_token||"",de.created||!1))}authenticateDevice(ee,_e,Se,B){return this.apiClient.authenticateDevice(this.serverkey,"",{id:ee,vars:B},_e,Se).then(W=>new Wt(W.token||"",W.refresh_token||"",W.created||!1))}authenticateEmail(ee,_e,Se,B,Y){return this.apiClient.authenticateEmail(this.serverkey,"",{email:ee,password:_e,vars:Y},Se,B).then(de=>new Wt(de.token||"",de.refresh_token||"",de.created||!1))}authenticateFacebookInstantGame(ee,_e,Se,B,Y={}){const W={signed_player_info:ee,vars:B};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:W.signed_player_info,vars:W.vars},_e,Se,Y).then(de=>new Wt(de.token||"",de.refresh_token||"",de.created||!1))}authenticateFacebook(ee,_e,Se,B,Y,W={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:ee,vars:Y},_e,Se,B,W).then(ne=>new Wt(ne.token||"",ne.refresh_token||"",ne.created||!1))}authenticateGoogle(ee,_e,Se,B,Y={}){return this.apiClient.authenticateGoogle(this.serverkey,"",{token:ee,vars:B},_e,Se,Y).then(de=>new Wt(de.token||"",de.refresh_token||"",de.created||!1))}authenticateGameCenter(ee,_e,Se,B){return this.apiClient.authenticateGameCenter(this.serverkey,"",{token:ee,vars:B},_e,Se).then(W=>new Wt(W.token||"",W.refresh_token||"",W.created||!1))}authenticateSteam(ee,_e,Se,B,Y){return f(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:ee,vars:Y,sync:B},_e,Se).then(de=>new Wt(de.token||"",de.refresh_token||"",de.created||!1))})}banGroupUsers(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.banGroupUsers(ee.token,_e,Se).then(B=>void 0!==B)})}blockFriends(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.blockFriends(ee.token,_e,Se).then(B=>Promise.resolve(null!=B))})}createGroup(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.createGroup(ee.token,_e).then(Se=>Promise.resolve({avatar_url:Se.avatar_url,create_time:Se.create_time,creator_id:Se.creator_id,description:Se.description,edge_count:Se.edge_count?Number(Se.edge_count):0,id:Se.id,lang_tag:Se.lang_tag,max_count:Se.max_count?Number(Se.max_count):0,metadata:Se.metadata?JSON.parse(Se.metadata):void 0,name:Se.name,open:Se.open,update_time:Se.update_time}))})}createSocket(ee=!1,_e=!1,Se=new tn,B=Ut.DefaultSendTimeoutMs){return new Ut(this.host,this.port,ee,_e,Se,B)}deleteFriends(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteFriends(ee.token,_e,Se).then(B=>void 0!==B)})}deleteGroup(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteGroup(ee.token,_e).then(Se=>void 0!==Se)})}deleteNotifications(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteNotifications(ee.token,_e).then(Se=>Promise.resolve(null!=Se))})}deleteStorageObjects(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteStorageObjects(ee.token,_e).then(Se=>Promise.resolve(null!=Se))})}demoteGroupUsers(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.demoteGroupUsers(ee.token,_e,Se).then(B=>Promise.resolve(null!=B))})}emitEvent(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.event(ee.token,_e).then(Se=>Promise.resolve(null!=Se))})}getAccount(ee){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.getAccount(ee.token)})}importFacebookFriends(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.importFacebookFriends(ee.token,_e).then(Se=>void 0!==Se)})}importSteamFriends(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.importSteamFriends(ee.token,_e,Se).then(B=>void 0!==B)})}getUsers(ee,_e,Se,B){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.getUsers(ee.token,_e,Se,B).then(Y=>{var W={users:[]};return null==Y.users||Y.users.forEach(de=>{W.users.push({avatar_url:de.avatar_url,create_time:de.create_time,display_name:de.display_name,edge_count:de.edge_count?Number(de.edge_count):0,facebook_id:de.facebook_id,gamecenter_id:de.gamecenter_id,google_id:de.google_id,id:de.id,lang_tag:de.lang_tag,location:de.location,online:de.online,steam_id:de.steam_id,timezone:de.timezone,update_time:de.update_time,username:de.username,metadata:de.metadata?JSON.parse(de.metadata):void 0})}),Promise.resolve(W)})})}joinGroup(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.joinGroup(ee.token,_e,{}).then(Se=>void 0!==Se)})}joinTournament(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.joinTournament(ee.token,_e,{}).then(Se=>void 0!==Se)})}kickGroupUsers(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.kickGroupUsers(ee.token,_e,Se).then(B=>Promise.resolve(null!=B))})}leaveGroup(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.leaveGroup(ee.token,_e,{}).then(Se=>void 0!==Se)})}listChannelMessages(ee,_e,Se,B,Y){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listChannelMessages(ee.token,_e,Se,B,Y).then(W=>{var de={messages:[],next_cursor:W.next_cursor,prev_cursor:W.prev_cursor,cacheable_cursor:W.cacheable_cursor};return null==W.messages||W.messages.forEach(ne=>{de.messages.push({channel_id:ne.channel_id,code:ne.code?Number(ne.code):0,create_time:ne.create_time,message_id:ne.message_id,persistent:ne.persistent,sender_id:ne.sender_id,update_time:ne.update_time,username:ne.username,content:ne.content?JSON.parse(ne.content):void 0,group_id:ne.group_id,room_name:ne.room_name,user_id_one:ne.user_id_one,user_id_two:ne.user_id_two})}),Promise.resolve(de)})})}listGroupUsers(ee,_e,Se,B,Y){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listGroupUsers(ee.token,_e,B,Se,Y).then(W=>{var de={group_users:[],cursor:W.cursor};return null==W.group_users||W.group_users.forEach(ne=>{de.group_users.push({user:{avatar_url:ne.user.avatar_url,create_time:ne.user.create_time,display_name:ne.user.display_name,edge_count:ne.user.edge_count?Number(ne.user.edge_count):0,facebook_id:ne.user.facebook_id,gamecenter_id:ne.user.gamecenter_id,google_id:ne.user.google_id,id:ne.user.id,lang_tag:ne.user.lang_tag,location:ne.user.location,online:ne.user.online,steam_id:ne.user.steam_id,timezone:ne.user.timezone,update_time:ne.user.update_time,username:ne.user.username,metadata:ne.user.metadata?JSON.parse(ne.user.metadata):void 0},state:ne.state?Number(ne.state):0})}),Promise.resolve(de)})})}listUserGroups(ee,_e,Se,B,Y){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listUserGroups(ee.token,_e,Se,B,Y).then(W=>{var de={user_groups:[],cursor:W.cursor};return null==W.user_groups||W.user_groups.forEach(ne=>{de.user_groups.push({group:{avatar_url:ne.group.avatar_url,create_time:ne.group.create_time,creator_id:ne.group.creator_id,description:ne.group.description,edge_count:ne.group.edge_count?Number(ne.group.edge_count):0,id:ne.group.id,lang_tag:ne.group.lang_tag,max_count:ne.group.max_count,metadata:ne.group.metadata?JSON.parse(ne.group.metadata):void 0,name:ne.group.name,open:ne.group.open,update_time:ne.group.update_time},state:ne.state?Number(ne.state):0})}),Promise.resolve(de)})})}listGroups(ee,_e,Se,B){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listGroups(ee.token,_e,Se,B).then(Y=>{var W={groups:[]};return null==Y.groups||(W.cursor=Y.cursor,Y.groups.forEach(de=>{W.groups.push({avatar_url:de.avatar_url,create_time:de.create_time,creator_id:de.creator_id,description:de.description,edge_count:de.edge_count?Number(de.edge_count):0,id:de.id,lang_tag:de.lang_tag,max_count:de.max_count,metadata:de.metadata?JSON.parse(de.metadata):void 0,name:de.name,open:de.open,update_time:de.update_time})})),Promise.resolve(W)})})}linkApple(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkApple(ee.token,_e).then(Se=>void 0!==Se)})}linkCustom(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkCustom(ee.token,_e).then(Se=>void 0!==Se)})}linkDevice(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkDevice(ee.token,_e).then(Se=>void 0!==Se)})}linkEmail(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkEmail(ee.token,_e).then(Se=>void 0!==Se)})}linkFacebook(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkFacebook(ee.token,_e).then(Se=>void 0!==Se)})}linkFacebookInstantGame(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkFacebookInstantGame(ee.token,_e).then(Se=>void 0!==Se)})}linkGoogle(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkGoogle(ee.token,_e).then(Se=>void 0!==Se)})}linkGameCenter(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkGameCenter(ee.token,_e).then(Se=>void 0!==Se)})}linkSteam(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkSteam(ee.token,_e).then(Se=>void 0!==Se)})}listFriends(ee,_e,Se,B){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listFriends(ee.token,Se,_e,B).then(Y=>{var W={friends:[],cursor:Y.cursor};return null==Y.friends||Y.friends.forEach(de=>{W.friends.push({user:{avatar_url:de.user.avatar_url,create_time:de.user.create_time,display_name:de.user.display_name,edge_count:de.user.edge_count?Number(de.user.edge_count):0,facebook_id:de.user.facebook_id,gamecenter_id:de.user.gamecenter_id,google_id:de.user.google_id,id:de.user.id,lang_tag:de.user.lang_tag,location:de.user.location,online:de.user.online,steam_id:de.user.steam_id,timezone:de.user.timezone,update_time:de.user.update_time,username:de.user.username,metadata:de.user.metadata?JSON.parse(de.user.metadata):void 0,facebook_instant_game_id:de.user.facebook_instant_game_id},state:de.state})}),Promise.resolve(W)})})}listLeaderboardRecords(ee,_e,Se,B,Y,W){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listLeaderboardRecords(ee.token,_e,Se,B,Y,W).then(de=>{var ne={next_cursor:de.next_cursor,prev_cursor:de.prev_cursor,owner_records:[],records:[]};return null!=de.owner_records&&de.owner_records.forEach(te=>{ne.owner_records.push({expiry_time:te.expiry_time,leaderboard_id:te.leaderboard_id,metadata:te.metadata?JSON.parse(te.metadata):void 0,num_score:te.num_score?Number(te.num_score):0,owner_id:te.owner_id,rank:te.rank?Number(te.rank):0,score:te.score?Number(te.score):0,subscore:te.subscore?Number(te.subscore):0,update_time:te.update_time,username:te.username,max_num_score:te.max_num_score?Number(te.max_num_score):0})}),null!=de.records&&de.records.forEach(te=>{ne.records.push({expiry_time:te.expiry_time,leaderboard_id:te.leaderboard_id,metadata:te.metadata?JSON.parse(te.metadata):void 0,num_score:te.num_score?Number(te.num_score):0,owner_id:te.owner_id,rank:te.rank?Number(te.rank):0,score:te.score?Number(te.score):0,subscore:te.subscore?Number(te.subscore):0,update_time:te.update_time,username:te.username,max_num_score:te.max_num_score?Number(te.max_num_score):0})}),Promise.resolve(ne)})})}listLeaderboardRecordsAroundOwner(ee,_e,Se,B,Y){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listLeaderboardRecordsAroundOwner(ee.token,_e,Se,B,Y).then(W=>{var de={next_cursor:W.next_cursor,prev_cursor:W.prev_cursor,owner_records:[],records:[]};return null!=W.owner_records&&W.owner_records.forEach(ne=>{de.owner_records.push({expiry_time:ne.expiry_time,leaderboard_id:ne.leaderboard_id,metadata:ne.metadata?JSON.parse(ne.metadata):void 0,num_score:ne.num_score?Number(ne.num_score):0,owner_id:ne.owner_id,rank:ne.rank?Number(ne.rank):0,score:ne.score?Number(ne.score):0,subscore:ne.subscore?Number(ne.subscore):0,update_time:ne.update_time,username:ne.username,max_num_score:ne.max_num_score?Number(ne.max_num_score):0})}),null!=W.records&&W.records.forEach(ne=>{de.records.push({expiry_time:ne.expiry_time,leaderboard_id:ne.leaderboard_id,metadata:ne.metadata?JSON.parse(ne.metadata):void 0,num_score:ne.num_score?Number(ne.num_score):0,owner_id:ne.owner_id,rank:ne.rank?Number(ne.rank):0,score:ne.score?Number(ne.score):0,subscore:ne.subscore?Number(ne.subscore):0,update_time:ne.update_time,username:ne.username,max_num_score:ne.max_num_score?Number(ne.max_num_score):0})}),Promise.resolve(de)})})}listMatches(ee,_e,Se,B,Y,W,de){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listMatches(ee.token,_e,Se,B,Y,W,de)})}listNotifications(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listNotifications(ee.token,_e,Se).then(B=>{var Y={cacheable_cursor:B.cacheable_cursor,notifications:[]};return null==B.notifications||B.notifications.forEach(W=>{Y.notifications.push({code:W.code?Number(W.code):0,create_time:W.create_time,id:W.id,persistent:W.persistent,sender_id:W.sender_id,subject:W.subject,content:W.content?JSON.parse(W.content):void 0})}),Promise.resolve(Y)})})}listStorageObjects(ee,_e,Se,B,Y){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listStorageObjects(ee.token,_e,Se,B,Y).then(W=>{var de={objects:[],cursor:W.cursor};return null==W.objects||W.objects.forEach(ne=>{de.objects.push({collection:ne.collection,key:ne.key,permission_read:ne.permission_read?Number(ne.permission_read):0,permission_write:ne.permission_write?Number(ne.permission_write):0,value:ne.value?JSON.parse(ne.value):void 0,version:ne.version,user_id:ne.user_id,create_time:ne.create_time,update_time:ne.update_time})}),Promise.resolve(de)})})}listTournaments(ee,_e,Se,B,Y,W,de){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listTournaments(ee.token,_e,Se,B,Y,W,de).then(ne=>{var te={cursor:ne.cursor,tournaments:[]};return null!=ne.tournaments&&ne.tournaments.forEach(ge=>{te.tournaments.push({id:ge.id,title:ge.title,description:ge.description,duration:ge.duration?Number(ge.duration):0,category:ge.category?Number(ge.category):0,sort_order:ge.sort_order?Number(ge.sort_order):0,size:ge.size?Number(ge.size):0,max_size:ge.max_size?Number(ge.max_size):0,max_num_score:ge.max_num_score?Number(ge.max_num_score):0,can_enter:ge.can_enter,end_active:ge.end_active?Number(ge.end_active):0,next_reset:ge.next_reset?Number(ge.next_reset):0,metadata:ge.metadata?JSON.parse(ge.metadata):void 0,create_time:ge.create_time,start_time:ge.start_time,end_time:ge.end_time,start_active:ge.start_active})}),Promise.resolve(te)})})}listTournamentRecords(ee,_e,Se,B,Y,W){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listTournamentRecords(ee.token,_e,Se,B,Y,W).then(de=>{var ne={next_cursor:de.next_cursor,prev_cursor:de.prev_cursor,owner_records:[],records:[]};return null!=de.owner_records&&de.owner_records.forEach(te=>{ne.owner_records.push({expiry_time:te.expiry_time,leaderboard_id:te.leaderboard_id,metadata:te.metadata?JSON.parse(te.metadata):void 0,num_score:te.num_score?Number(te.num_score):0,owner_id:te.owner_id,rank:te.rank?Number(te.rank):0,score:te.score?Number(te.score):0,subscore:te.subscore?Number(te.subscore):0,update_time:te.update_time,username:te.username,max_num_score:te.max_num_score?Number(te.max_num_score):0})}),null!=de.records&&de.records.forEach(te=>{ne.records.push({expiry_time:te.expiry_time,leaderboard_id:te.leaderboard_id,metadata:te.metadata?JSON.parse(te.metadata):void 0,num_score:te.num_score?Number(te.num_score):0,owner_id:te.owner_id,rank:te.rank?Number(te.rank):0,score:te.score?Number(te.score):0,subscore:te.subscore?Number(te.subscore):0,update_time:te.update_time,username:te.username,max_num_score:te.max_num_score?Number(te.max_num_score):0})}),Promise.resolve(ne)})})}listTournamentRecordsAroundOwner(ee,_e,Se,B,Y){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listTournamentRecordsAroundOwner(ee.token,_e,Se,B,Y).then(W=>{var de={next_cursor:W.next_cursor,prev_cursor:W.prev_cursor,owner_records:[],records:[]};return null!=W.owner_records&&W.owner_records.forEach(ne=>{de.owner_records.push({expiry_time:ne.expiry_time,leaderboard_id:ne.leaderboard_id,metadata:ne.metadata?JSON.parse(ne.metadata):void 0,num_score:ne.num_score?Number(ne.num_score):0,owner_id:ne.owner_id,rank:ne.rank?Number(ne.rank):0,score:ne.score?Number(ne.score):0,subscore:ne.subscore?Number(ne.subscore):0,update_time:ne.update_time,username:ne.username,max_num_score:ne.max_num_score?Number(ne.max_num_score):0})}),null!=W.records&&W.records.forEach(ne=>{de.records.push({expiry_time:ne.expiry_time,leaderboard_id:ne.leaderboard_id,metadata:ne.metadata?JSON.parse(ne.metadata):void 0,num_score:ne.num_score?Number(ne.num_score):0,owner_id:ne.owner_id,rank:ne.rank?Number(ne.rank):0,score:ne.score?Number(ne.score):0,subscore:ne.subscore?Number(ne.subscore):0,update_time:ne.update_time,username:ne.username,max_num_score:ne.max_num_score?Number(ne.max_num_score):0})}),Promise.resolve(de)})})}promoteGroupUsers(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.promoteGroupUsers(ee.token,_e,Se)})}readStorageObjects(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.readStorageObjects(ee.token,_e).then(Se=>{var B={objects:[]};return null==Se.objects||Se.objects.forEach(Y=>{B.objects.push({collection:Y.collection,key:Y.key,permission_read:Y.permission_read?Number(Y.permission_read):0,permission_write:Y.permission_write?Number(Y.permission_write):0,value:Y.value?JSON.parse(Y.value):void 0,version:Y.version,user_id:Y.user_id,create_time:Y.create_time,update_time:Y.update_time})}),Promise.resolve(B)})})}rpc(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.rpcFunc(ee.token,_e,JSON.stringify(Se)).then(B=>Promise.resolve({id:B.id,payload:B.payload?JSON.parse(B.payload):void 0}))})}rpcHttpKey(ee,_e,Se){return f(this,null,function*(){return this.apiClient.rpcFunc2("",_e,Se&&JSON.stringify(Se)||"",ee).then(B=>Promise.resolve({id:B.id,payload:B.payload?JSON.parse(B.payload):void 0})).catch(B=>{throw B})})}sessionLogout(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.sessionLogout(ee.token,{refresh_token:Se,token:_e}).then(B=>void 0!==B)})}sessionRefresh(ee){return f(this,arguments,function*(_e,Se={}){if(!_e)return console.error("Cannot refresh a null session."),_e;_e.created&&_e.expires_at-_e.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),_e.created&&_e.refresh_expires_at-_e.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const B=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:_e.refresh_token,vars:Se});return _e.update(B.token,B.refresh_token),_e})}unlinkApple(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkApple(ee.token,_e).then(Se=>void 0!==Se)})}unlinkCustom(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkCustom(ee.token,_e).then(Se=>void 0!==Se)})}unlinkDevice(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkDevice(ee.token,_e).then(Se=>void 0!==Se)})}unlinkEmail(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkEmail(ee.token,_e).then(Se=>void 0!==Se)})}unlinkFacebook(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkFacebook(ee.token,_e).then(Se=>void 0!==Se)})}unlinkFacebookInstantGame(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkFacebookInstantGame(ee.token,_e).then(Se=>void 0!==Se)})}unlinkGoogle(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkGoogle(ee.token,_e).then(Se=>void 0!==Se)})}unlinkGameCenter(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkGameCenter(ee.token,_e).then(Se=>void 0!==Se)})}unlinkSteam(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkSteam(ee.token,_e).then(Se=>void 0!==Se)})}updateAccount(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.updateAccount(ee.token,_e).then(Se=>void 0!==Se)})}updateGroup(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.updateGroup(ee.token,_e,Se).then(B=>void 0!==B)})}validatePurchaseApple(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.validatePurchaseApple(ee.token,{receipt:_e})})}validatePurchaseGoogle(ee,_e){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.validatePurchaseGoogle(ee.token,{purchase:_e})})}validatePurchaseHuawei(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.validatePurchaseHuawei(ee.token,{purchase:_e,signature:Se})})}writeLeaderboardRecord(ee,_e,Se){return f(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.writeLeaderboardRecord(ee.token,_e,{metadata:Se.metadata?JSON.stringify(Se.metadata):void 0,score:Se.score,subscore:Se.subscore}).then(B=>Promise.resolve({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0,rank:B.rank?Number(B.rank):0}))})}writeStorageObjects(ee,_e){return f(this,null,function*(){this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee));var Se={objects:[]};return _e.forEach(B=>{Se.objects.push({collection:B.collection,key:B.key,permission_read:B.permission_read,permission_write:B.permission_write,value:JSON.stringify(B.value),version:B.version})}),this.apiClient.writeStorageObjects(ee.token,Se)})}writeTournamentRecord(ee,_e,Se){return f(this,null,function*(){return this.apiClient.writeTournamentRecord(ee.token,_e,{metadata:Se.metadata?JSON.stringify(Se.metadata):void 0,score:Se.score,subscore:Se.subscore}).then(B=>Promise.resolve({expiry_time:B.expiry_time,leaderboard_id:B.leaderboard_id,metadata:B.metadata?JSON.parse(B.metadata):void 0,num_score:B.num_score?Number(B.num_score):0,owner_id:B.owner_id,score:B.score?Number(B.score):0,subscore:B.subscore?Number(B.subscore):0,update_time:B.update_time,username:B.username,max_num_score:B.max_num_score?Number(B.max_num_score):0,rank:B.rank?Number(B.rank):0}))})}}(B.key||"defaultkey",B.address,(B.port||7350).toString(),B.useSSL||!1)}resumeBanner(){var B=this;return(0,H.Z)(function*(){B.isBannerShowing&&void 0!==(yield At.TQ.resumeBanner().catch(de=>console.log(de)))&&(document.querySelector("ion-router-outlet").style.marginBottom=B.appMargin+"px")})()}removeBanner(){var B=this;return(0,H.Z)(function*(){B.isBannerShowing&&void 0!==(yield At.TQ.hideBanner().catch(de=>console.log(de)))&&(document.querySelector("ion-router-outlet").style.marginBottom="0px")})()}go_to_chatroom_without_admob_act(B,Y){this.removeBanner(),this.has_new_channel_msg=!1,this.rearrange_channels(),this.save_channels_with_less_info(),this.ChatroomLinkAct?this.ChatroomLinkAct(B,Y):this.ngZone.run(()=>{this.navCtrl.navigateForward("chat-room",{animation:xt.pg,state:{info:B,file:Y}})})}init_all_sessions(){var B=this;return(0,H.Z)(function*(){let Y=Object.keys(B.servers.official);for(let de=0,ne=Y.length;de<ne;de++)yield B.init_session(B.servers.official[Y[de]].info);let W=Object.keys(B.servers.unofficial);for(let de=0,ne=W.length;de<ne;de++)yield B.init_session(B.servers.unofficial[W[de]].info)})()}logout_all_server(){var B=this;return new Promise(Y=>{Object.keys(this.statusBar.groupServer).forEach(de=>{Object.keys(this.statusBar.groupServer[de]).forEach(function(){var te=(0,H.Z)(function*(ge){"online"==B.statusBar.groupServer[de][ge]&&(B.statusBar.groupServer[de][ge]&&(B.statusBar.groupServer[de][ge]="pending"),B.catch_group_server_header("pending"),B.servers[de][ge].session&&(yield B.servers[de][ge].client.sessionLogout(B.servers[de][ge].session,B.servers[de][ge].session.token,B.servers[de][ge].session.refresh_token)),B.servers[de][ge].socket&&B.servers[de][ge].socket.disconnect(!0))});return function(ge){return te.apply(this,arguments)}}())}),Y()})}toggle_all_session(){var B=this;return(0,H.Z)(function*(){"online"==B.statusBar.settings.groupServer?(B.p5toast.show({text:B.lang.text.Nakama.SessionLogout}),yield B.logout_all_server()):(B.p5toast.show({text:B.lang.text.Nakama.PendingLogin}),yield B.init_all_sessions(),B.p5toast.show({text:B.lang.text.Nakama.LoggedIn}))})()}link_group(B,Y,W=!1){W||"missing"==this.statusBar.groupServer[B][Y]||"offline"==this.statusBar.groupServer[B][Y]?(this.statusBar.groupServer[B][Y]="pending",this.catch_group_server_header("pending"),this.users.self.online&&this.init_session(this.servers[B][Y].info)):(this.on_socket_disconnected.group_unlink_by_user||(this.on_socket_disconnected.group_unlink_by_user=()=>{this.set_group_statusBar("offline",B,Y)}),this.statusBar.groupServer[B][Y]="offline",this.catch_group_server_header("offline"),this.servers[B][Y].session&&this.servers[B][Y].client.sessionLogout(this.servers[B][Y].session,this.servers[B][Y].session.token,this.servers[B][Y].session.refresh_token).then(de=>{de||console.warn("\ub85c\uadf8\uc544\uc6c3 \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),this.noti_origin[B]&&this.noti_origin[B][Y]&&delete this.noti_origin[B][Y],this.rearrange_notifications()}),this.servers[B][Y].socket&&this.servers[B][Y].socket.disconnect(!0),this.channels_orig[B]&&this.channels_orig[B][Y]&&Object.keys(this.channels_orig[B][Y]).forEach(ne=>{"missing"!=this.channels_orig[B][Y][ne].status&&delete this.channels_orig[B][Y][ne].status})),this.indexed.saveTextFileToUserPath(JSON.stringify(this.statusBar.groupServer),"servers/list.json")}get_all_online_server(){let B=[];return Object.keys(this.servers.official).forEach(de=>{"online"==this.statusBar.groupServer.official[de]&&B.push(this.servers.official[de])}),Object.keys(this.servers.unofficial).forEach(de=>{"online"==this.statusBar.groupServer.unofficial[de]&&B.push(this.servers.unofficial[de])}),B}get_all_server_info(B=!1,Y=!1){let W=[],de=Object.keys(this.servers.official);return B&&de.forEach(te=>{Y?"online"==this.statusBar.groupServer.official[te]&&W.push(this.servers.official[te].info):this.servers.official[te]&&W.push(this.servers.official[te].info)}),Object.keys(this.servers.unofficial).forEach(te=>{Y?"online"==this.statusBar.groupServer.unofficial[te]&&W.push(this.servers.unofficial[te].info):this.servers.unofficial[te]&&W.push(this.servers.unofficial[te].info)}),W}add_group_server(B,Y=(()=>{})){var W=this;if(this.statusBar.groupServer.unofficial[B.target||B.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${B.target||B.name}`});B.target=B.target||B.name,B.address=B.address||"192.168.0.1",B.port=B.port||7350,B.useSSL=B.useSSL||!1,B.isOfficial=B.isOfficial||"unofficial",B.key=B.key||"defaultkey",this.groups[B.isOfficial][B.target]||(this.groups[B.isOfficial][B.target]={}),this.channels_orig[B.isOfficial][B.target]||(this.channels_orig[B.isOfficial][B.target]={});let de=(new Date).getTime().toString();return de+=`,${B.isOfficial}`,de+=`,${B.name}`,de+=`,${B.target}`,de+=`,${B.address}`,de+=`,${B.port}`,de+=`,${B.useSSL}`,new Promise(ne=>{this.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var te=(0,H.Z)(function*(ge,ke){let Xe=[];ge&&ke&&(Xe=ke.split("\n")),Xe.push(de),W.indexed.saveTextFileToUserPath(Xe.join("\n"),"servers/list_detail.csv",tt=>{W.init_server(B),W.servers[B.isOfficial][B.target].info={...B},Y()}),W.statusBar.groupServer[B.isOfficial][B.target]="offline",yield W.indexed.saveTextFileToUserPath(JSON.stringify(W.statusBar.groupServer),"servers/list.json"),ne()});return function(ge,ke){return te.apply(this,arguments)}}())})}catch_group_server_header(B){let Y=B;this.statusBar.settings.groupServer=B,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(de=>{switch(this.statusBar.groupServer.official[de]){case"online":Y="online";break;case"pending":"online"!=Y&&(Y="pending");break;case"missing":case"offline":"online"!=Y&&"pending"!=Y&&(Y="offline")}}),"online"!=Y&&Object.keys(this.statusBar.groupServer.unofficial).forEach(ne=>{switch(this.statusBar.groupServer.unofficial[ne]){case"online":Y="online";break;case"pending":"online"!=Y&&(Y="pending");break;case"missing":case"offline":"online"!=Y&&"pending"!=Y&&(Y="offline")}}),this.statusBar.settings.groupServer=Y},1500)}init_session(B){var Y=this;return(0,H.Z)(function*(){try{Y.servers[B.isOfficial][B.target].session=yield Y.servers[B.isOfficial][B.target].client.authenticateEmail(Y.users.self.email,Y.users.self.password,!1),yield Y.after_login(B.isOfficial,B.target,B.useSSL)}catch(W){switch(W.status){case 400:Y.p5toast.show({text:Y.lang.text.Nakama.NeedLoginInfo}),Y.users.self.online=!1,delete Y.users.self.password,Y.set_group_statusBar("offline",B.isOfficial,B.target);break;case 401:Y.p5toast.show({text:Y.lang.text.Nakama.NeedAccountReset}),Y.users.self.online=!1,delete Y.users.self.password,Y.set_group_statusBar("offline",B.isOfficial,B.target);break;case 404:Y.servers[B.isOfficial][B.target].session=yield Y.servers[B.isOfficial][B.target].client.authenticateEmail(Y.users.self.email,Y.users.self.password,!0),Y.users.self.display_name&&Y.servers[B.isOfficial][B.target].client.updateAccount(Y.servers[B.isOfficial][B.target].session,{display_name:Y.users.self.display_name,lang_tag:navigator.language.split("-")[0]||Y.lang.lang}),Y.p5toast.show({text:`${Y.lang.text.Nakama.RegisterUserSucc}: ${B.name}`,lateable:!0}),Y.users.self.img&&Y.servers[B.isOfficial][B.target].client.writeStorageObjects(Y.servers[B.isOfficial][B.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:Y.users.self.img}}]).then(ne=>{Y.servers[B.isOfficial][B.target].client.updateAccount(Y.servers[B.isOfficial][B.target].session,{avatar_url:ne.acks[0].version})}),(yield Y.indexed.checkIfFileExist("servers/self/content.pck"))&&Y.sync_save_file({path:"servers/self/content.pck"},B.isOfficial,B.target,"user_public","main_content"),yield Y.after_login(B.isOfficial,B.target,B.useSSL);break;default:Y.p5toast.show({text:`(${B.name}) ${Y.lang.text.Nakama.UnexpectedLoginErr}: ${W}`}),Y.set_group_statusBar("offline",B.isOfficial,B.target)}}})()}after_login(B,Y,W){var de=this;return(0,H.Z)(function*(){de.servers[B][Y].socket=de.servers[B][Y].client.createSocket(W),de.set_group_statusBar("online",B,Y),de.servers[B][Y].client.getAccount(de.servers[B][Y].session).then(te=>{let ge=JSON.parse(te.user.metadata);de.servers[B][Y].info.is_admin=ge.is_admin}),de.users.self.display_name||de.servers[B][Y].client.getAccount(de.servers[B][Y].session).then(te=>{Object.keys(te.user).forEach(ke=>de.users.self[ke]=te.user[ke]),de.save_self_profile()}),de.users.self.img||de.servers[B][Y].client.readStorageObjects(de.servers[B][Y].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:de.servers[B][Y].session.user_id}]}).then(te=>{te.objects.length&&(de.socket_reactive.profile?de.socket_reactive.profile(te.objects[0].value.img):(de.users.self.img=te.objects[0].value.img,de.indexed.saveTextFileToUserPath(JSON.stringify(de.users.self.img),"servers/self/profile.img")))}),de.server_user_info_update(B,Y),de.load_server_todo(B,Y);let ne=yield de.connect_to(B,Y);yield de.get_group_list_from_server(B,Y),de.redirect_channel(B,Y),de.noti_origin[B]||(de.noti_origin[B]={}),de.noti_origin[B][Y]||(de.noti_origin[B][Y]={}),de.update_notifications(B,Y),de.servers[B][Y].client.readStorageObjects(de.servers[B][Y].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:de.servers[B][Y].session.user_id}]}).then(function(){var te=(0,H.Z)(function*(ge){try{return de.self_match[B]||(de.self_match[B]={}),de.self_match[B][Y]||(de.self_match[B][Y]=void 0),void(de.self_match[B][Y]=yield ne.joinMatch(ge.objects[0].value.match_id))}catch{ne.createMatch().then(Xe=>{de.self_match[B][Y]=Xe,de.servers[B][Y].client.writeStorageObjects(de.servers[B][Y].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:Xe.match_id}}])})}});return function(ge){return te.apply(this,arguments)}}())})()}load_server_todo(B,Y,W){this.servers[B][Y].client.listStorageObjects(this.servers[B][Y].session,"server_todo",this.servers[B][Y].session.user_id,1,W).then(de=>{de.objects.length&&this.modify_remote_info_as_local(de.objects[0].value,B,Y),de.cursor&&this.load_server_todo(B,Y,de.cursor)})}modify_remote_info_as_local(B,Y,W){B.remote.name=this.servers[Y][W].info.name,B.remote.isOfficial=Y,B.remote.target=W,B.remote.type=`${Y}/${W}`,this.set_todo_notification(B),this.global.godot_window.add_todo&&this.global.godot_window.add_todo(JSON.stringify(B)),this.indexed.saveTextFileToUserPath(JSON.stringify(B),`todo/${B.id}/info.todo`,void 0,this.indexed.godotDB)}load_groups(B,Y,W){var de=this;return(0,H.Z)(function*(){let ne=de.groups[B][Y][W].channel_id;try{"missing"!=de.groups[B][Y][W].status&&(yield de.servers[B][Y].client.listGroupUsers(de.servers[B][Y].session,W).then(te=>{if(te.group_users.length){let ge=!0;for(let ke=0,Xe=te.group_users.length;ke<Xe;ke++)if(te.group_users[ke].user.id==de.servers[B][Y].session.user_id){switch(te.group_users[ke].state){case 0:case 1:case 2:de.groups[B][Y][W].status="online";break;case 3:de.groups[B][Y][W].status="pending";break;default:console.warn("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",te.group_users[ke].state),de.groups[B][Y][W].status="missing"}ge=!1,te.group_users[ke].is_me=!0;break}ge&&(de.groups[B][Y][W].status="missing",ne&&(de.channels_orig[B][Y][ne].status="missing"),de.save_channels_with_less_info())}else de.groups[B][Y][W].status="missing",de.channels_orig[B][Y][ne].status="missing",de.save_channels_with_less_info();te.group_users.length&&(de.groups[B][Y][W].users=te.group_users),te.group_users.forEach(function(){var ge=(0,H.Z)(function*(ke){ke.is_me?ke.user=de.users.self:ke.user.id==de.servers[B][Y].session.user_id||de.load_other_user(ke.user.id,B,Y).avatar_url==ke.user.avatar_url&&de.load_other_user(ke.user.id,B,Y).img?de.save_other_user(ke.user,B,Y):yield de.servers[B][Y].client.readStorageObjects(de.servers[B][Y].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:ke.user.id}]}).then(Xe=>{Xe.objects.length?ke.user.img=Xe.objects[0].value.img:delete ke.user.img,de.save_other_user(ke.user,B,Y)})});return function(ke){return ge.apply(this,arguments)}}()),de.save_groups_with_less_info()}))}catch{}})()}server_user_info_update(B,Y){this.indexed.GetFileListFromDB(`${B}/${Y}/users/`,W=>{let de=[];W.forEach(ne=>{let te=ne.split("/")[4];de.includes(te)||de.push(te)}),de.forEach(ne=>{this.servers[B][Y].session.user_id!=ne&&this.load_other_user(ne,B,Y)})})}save_self_profile(){let B={...this.users.self};delete B.img,this.indexed.saveTextFileToUserPath(JSON.stringify(B),"servers/self/profile.json")}rearrange_all_user(){let B=[];return Object.keys(this.users).forEach(W=>{"self"!=W&&Object.keys(this.users[W]).forEach(ne=>{Object.keys(this.users[W][ne]).forEach(ge=>{B.push(this.users[W][ne][ge])})})}),B}load_other_user(B,Y,W,de=(ne=>{})){try{if(this.servers[Y][W].session.user_id==B)return this.users.self}catch{}let ne=!1;return this.users[Y][W]||(this.users[Y][W]={}),this.users[Y][W][B]||(this.users[Y][W][B]={},this.indexed.loadTextFromUserPath(`servers/${Y}/${W}/users/${B}/profile.json`,(te,ge)=>{if(te&&ge){let ke=JSON.parse(ge);Object.keys(ke).forEach(tt=>this.users[Y][W][B][tt]=ke[tt]),ne||(de(this.users[Y][W][B]),ne=!0)}else try{this.servers[Y][W].client.getUsers(this.servers[Y][W].session,[B]).then(ke=>{ke.users.length?(Object.keys(ke.users[0]).forEach(tt=>this.users[Y][W][B][tt]=ke.users[0][tt]),ne||(de(this.users[Y][W][B]),ne=!0),this.save_other_user(this.users[Y][W][B],Y,W)):this.indexed.GetFileListFromDB(`${Y}/${W}/users/${B}`,Xe=>{Xe.forEach(tt=>this.indexed.removeFileFromUserPath(tt))})})}catch{}}),this.users[Y][W][B].img?this.save_other_user(this.users[Y][W][B],Y,W):this.indexed.loadTextFromUserPath(`servers/${Y}/${W}/users/${B}/profile.img`,(te,ge)=>{if(te&&ge)this.users[Y][W][B].img=ge.replace(/"|=|\\/g,"");else if(this.users[Y][W][B].avatar_url)try{"online"==this.statusBar.groupServer[Y][W]&&this.servers[Y][W].client.readStorageObjects(this.servers[Y][W].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:B}]}).then(ke=>{ke.objects.length?this.users[Y][W][B].img=ke.objects[0].value.img:delete this.users[Y][W][B].avatar_url,ne||(de(this.users[Y][W][B]),ne=!0),this.save_other_user(this.users[Y][W][B],Y,W)}).catch(ke=>{this.users[Y][W][B].img&&(delete this.users[Y][W][B].img,ne||(de(this.users[Y][W][B]),ne=!0),this.save_other_user(this.users[Y][W][B],Y,W))})}catch{}})),this.users[Y][W][B]}save_other_user(B,Y,W){let de=JSON.parse(JSON.stringify(B));B.id!=this.servers[Y][W].session.user_id&&(delete de.img,delete de.online,delete de.todo_checked,delete de.todo_done,this.users[Y][W]||(this.users[Y][W]={}),this.users[Y][W][B.id]||(this.users[Y][W][B.id]={}),Object.keys(B).forEach(te=>this.users[Y][W][B.id][te]=B[te]),this.indexed.saveTextFileToUserPath(JSON.stringify(de),`servers/${Y}/${W}/users/${de.id}/profile.json`),B.img?this.indexed.saveTextFileToUserPath(B.img,`servers/${Y}/${W}/users/${B.id}/profile.img`):this.indexed.removeFileFromUserPath(`servers/${Y}/${W}/users/${B.id}/profile.img`))}update_notifications(B,Y){this.servers[B][Y].client.listNotifications(this.servers[B][Y].session,1).then(W=>{this.noti_origin[B][Y]={};for(let de=0,ne=W.notifications.length;de<ne;de++)this.act_on_notification(W.notifications[de],B,Y);this.rearrange_notifications()})}rearrange_notifications(){let B=[];return Object.keys(this.noti_origin).forEach(W=>{Object.keys(this.noti_origin[W]).forEach(ne=>{Object.keys(this.noti_origin[W][ne]).forEach(ge=>{B.push(this.noti_origin[W][ne][ge])})})}),B.sort((W,de)=>W.create_time<de.create_time?1:W.create_time>de.create_time?-1:0),this.notifications_rearrange=B,B}add_channels(B,Y,W){var de=this;return(0,H.Z)(function*(){switch(de.channels_orig[Y][W][B.id]||(de.channels_orig[Y][W][B.id]={}),Object.keys(B).forEach(te=>de.channels_orig[Y][W][B.id][te]=B[te]),de.channels_orig[Y][W][B.id].cnoti_id||(de.channels_orig[Y][W][B.id].cnoti_id=de.get_noti_id()),de.channels_orig[Y][W][B.id].redirect.type){case 2:let ge=de.load_other_user(de.channels_orig[Y][W][B.id].redirect.id,Y,W).online?"online":"pending";de.channels_orig[Y][W][B.id].status=ge;break;case 3:let ke=de.channels_orig[Y][W][B.id].redirect.id;yield de.servers[Y][W].client.listGroupUsers(de.servers[Y][W].session,ke).then(Xe=>{de.groups[Y][W][ke].users||(de.groups[Y][W][ke].users=[]),Xe.group_users.forEach(tt=>{tt.user.id!=de.servers[Y][W].session.user_id&&(de.users[Y][W][tt.user.id]||de.save_other_user(tt.user,Y,W)),tt.user.id==de.servers[Y][W].session.user_id?tt.user.is_me=!0:de.users[Y][W][tt.user.id]||de.save_other_user(tt.user,Y,W),tt.user=de.load_other_user(tt.user.id,Y,W),de.add_group_user_without_duplicate(tt,ke,Y,W)}),de.count_channel_online_member(de.channels_orig[Y][W][B.id],Y,W)});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",de.channels_orig[Y][W][B.id])}yield de.servers[Y][W].socket.sendMatchState(de.self_match[Y][W].match_id,En.ADD_CHANNEL,encodeURIComponent("")),de.rearrange_channels()})()}add_group_user_without_duplicate(B,Y,W,de){let ne=!1;this.groups[W][de][Y].users||(this.groups[W][de][Y].users=[]);for(let te=0,ge=this.groups[W][de][Y].users.length;te<ge;te++)if(this.groups[W][de][Y].users[te].user.id==B.user.id){ne=!0;break}ne||this.groups[W][de][Y].users.push(B)}load_channel_list(){this.indexed.loadTextFromUserPath("servers/channels.json",(B,Y)=>{B&&Y&&(this.channels_orig=JSON.parse(Y),Object.keys(this.channels_orig).forEach(de=>{Object.keys(this.channels_orig[de]).forEach(te=>{Object.keys(this.channels_orig[de][te]).forEach(ke=>{2==this.channels_orig[de][te][ke].redirect.type&&(this.channels_orig[de][te][ke].info=this.load_other_user(this.channels_orig[de][te][ke].redirect.id,de,te)),"missing"!=this.channels_orig[de][te][ke].status&&delete this.channels_orig[de][te][ke].status,this.channels_orig[de][te][ke].is_new&&!this.subscribe_lock&&(this.has_new_channel_msg=!0)})})})),this.rearrange_channels()})}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.noti_id}check_If_RegisteredId(B){let Y=!1;for(let W=0,de=this.registered_id.length;W<de;W++)if(this.registered_id[W]==B){Y=!0,this.registered_id.splice(W,1);break}return Y?this.check_If_RegisteredId(B+1):B}redirect_channel(B,Y){var W=this;this.channels_orig[B][Y]&&(Object.keys(this.channels_orig[B][Y]).forEach(ne=>{"missing"!=this.channels_orig[B][Y][ne].status&&this.servers[B][Y].socket.joinChat(this.channels_orig[B][Y][ne].redirect.id,this.channels_orig[B][Y][ne].redirect.type,this.channels_orig[B][Y][ne].redirect.persistence,!1).then(function(){var te=(0,H.Z)(function*(ge){switch(W.channels_orig[B][Y][ne].cnoti_id||(W.channels_orig[B][Y][ne].cnoti_id=W.get_noti_id()),W.channels_orig[B][Y][ne].redirect.type){case 2:try{W.load_other_user(W.channels_orig[B][Y][ne].redirect.id,B,Y).img=(yield W.servers[B][Y].client.readStorageObjects(W.servers[B][Y].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:W.channels_orig[B][Y][ne].redirect.id}]})).objects[0].value.img}catch{}case 3:W.servers[B][Y].client.listChannelMessages(W.servers[B][Y].session,ne,1,!1).then(ke=>{ke.messages.length&&W.update_from_channel_msg(ke.messages[0],B,Y),W.count_channel_online_member(W.channels_orig[B][Y][ne],B,Y),W.save_channels_with_less_info()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub9ac\ub2e4\uc774\ub809\uc158 \ud0c0\uc785: ",W.channels_orig[B][Y][ne].redirect.type)}});return function(ge){return te.apply(this,arguments)}}()).catch(te=>{this.channels_orig[B][Y][ne].status="missing",delete this.channels_orig[B][Y][ne].info,this.save_channels_with_less_info()})}),this.rearrange_channels())}rearrange_channels(){let B=[];return Object.keys(this.channels_orig).forEach(W=>{Object.keys(this.channels_orig[W]).forEach(ne=>{Object.keys(this.channels_orig[W][ne]).forEach(ge=>{this.channels_orig[W][ne][ge].server={isOfficial:W,target:ne};try{this.channels_orig[W][ne][ge].server.name=this.servers[W][ne].info.name}catch{this.channels_orig[W][ne][ge].server.name=this.lang.text.Nakama.DeletedServer}switch(this.channels_orig[W][ne][ge].redirect.type){case 1:console.warn("\ubc29 \ub300\ud654 \uae30\ub2a5 \uc900\ube44\uc911...");break;case 2:this.channels_orig[W][ne][ge].info=this.load_other_user(this.channels_orig[W][ne][ge].redirect.id,W,ne),this.channels_orig[W][ne][ge].title=this.channels_orig[W][ne][ge].info.display_name;break;case 3:"missing"!=this.channels_orig[W][ne][ge].status&&(this.groups[W][ne]&&this.groups[W][ne][this.channels_orig[W][ne][ge].redirect.id]?(this.channels_orig[W][ne][ge].info=this.groups[W][ne][this.channels_orig[W][ne][ge].redirect.id],this.channels_orig[W][ne][ge].title=this.groups[W][ne][this.channels_orig[W][ne][ge].redirect.id].name):this.channels_orig[W][ne][ge].status="missing");break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \ub300\ud654\ud615\uc2dd: ",this.channels_orig[W][ne][ge])}B.push(this.channels_orig[W][ne][ge])})})}),B.sort((W,de)=>new Date(de.last_comment_time)-new Date(W.last_comment_time)),B.sort((W,de)=>W.is_new?de.is_new?0:-1:1),this.channels=B,this.save_channels_with_less_info(),B}save_channels_with_less_info(){let B=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(B).forEach(W=>{Object.keys(B[W]).forEach(ne=>{let te=Object.keys(B[W][ne]);te.forEach(ge=>{delete B[W][ne][ge].img,delete B[W][ne][ge].group,delete B[W][ne][ge].info,delete B[W][ne][ge].update,delete B[W][ne][ge].presences,delete B[W][ne][ge].cnoti_id,delete B[W][ne][ge].status,B[W][ne][ge].is_new||delete B[W][ne][ge].is_new}),te.length||delete B[W][ne]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(B),"servers/channels.json")}limit_image_size(B,Y=(W=>{})){new ut(de=>{de.setup=()=>{de.noCanvas(),de.loadImage(B,te=>{te.resize(window.innerWidth,window.innerWidth*te.height/te.width),te.canvas.toDataURL().length>245e3&&ne(te),Y(te),de.remove()},te=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),de.remove()})};let ne=te=>{te.resize(.95*te.width,.95*te.height),te.canvas.toDataURL().length>245e3&&ne(te)}})}try_add_group(B){var Y=this;return new Promise(function(){var W=(0,H.Z)(function*(de,ne){let te=Y.get_all_online_server();for(let ge=0,ke=te.length;ge<ke;ge++)try{let Xe=yield te[ge].client.joinGroup(te[ge].session,B.id);if(!Xe)return void console.warn("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");Xe=yield te[ge].client.listGroups(te[ge].session,decodeURIComponent(B.name));for(let tt=0,Ot=Xe.groups.length;tt<Ot;tt++)if(Xe.groups[tt].id==B.id){let Gt=Xe.groups[tt];Gt.status=Gt.open?"online":"pending",Gt.server=Y.servers[te[ge].info.isOfficial][te[ge].info.target].info,yield Y.servers[te[ge].info.isOfficial][te[ge].info.target].client.listGroupUsers(Y.servers[te[ge].info.isOfficial][te[ge].info.target].session,Xe.groups[tt].id).then(Cn=>{Gt.users=Cn.group_users,Cn.group_users.forEach(Yt=>{Yt.user.id==Y.servers[te[ge].info.isOfficial][te[ge].info.target].session.user_id?Yt.is_me=!0:Y.save_other_user(Yt.user,te[ge].info.isOfficial,te[ge].info.target)})}),yield Y.servers[te[ge].info.isOfficial][te[ge].info.target].client.readStorageObjects(Y.servers[te[ge].info.isOfficial][te[ge].info.target].session,{object_ids:[{collection:"group_public",key:`group_${Xe.groups[tt].id}`,user_id:Xe.groups[tt].creator_id}]}).then(Cn=>{Cn.objects.length&&(Gt.img=Cn.objects[0].value.img)}),Y.save_group_info(Gt,te[ge].info.isOfficial,te[ge].info.target),yield te[ge].socket.sendMatchState(Y.self_match[te[ge].info.isOfficial][te[ge].info.target].match_id,En.ADD_CHANNEL,encodeURIComponent("")),Gt.open&&Y.join_chat_with_modulation(Gt.id,3,te[ge].info.isOfficial,te[ge].info.target,Cn=>{(!Y.opened_page_info.channel||Y.opened_page_info.channel.isOfficial!=te[ge].info.isOfficial||Y.opened_page_info.channel.target!=te[ge].info.target||Y.opened_page_info.channel.id!=Cn.id)&&Y.servers[te[ge].info.isOfficial][te[ge].info.target].client.listChannelMessages(Y.servers[te[ge].info.isOfficial][te[ge].info.target].session,Cn.id,1,!1).then(Yt=>{Yt.messages.length&&Y.update_from_channel_msg(Yt.messages[0],te[ge].info.isOfficial,te[ge].info.target),Y.save_group_info(Gt,te[ge].info.isOfficial,te[ge].info.target),Y.save_groups_with_less_info()})}),de();break}}catch(Xe){if(400===(console.log("try_add_group_already_joined: ",Xe),Xe.status)){let tt=yield te[ge].client.listGroups(te[ge].session,decodeURIComponent(B.name));for(let Ot=0,Gt=tt.groups.length;Ot<Gt;Ot++)if(tt.groups[Ot].id==B.id){let Cn=tt.groups[Ot];yield Y.servers[te[Ot].info.isOfficial][te[Ot].info.target].client.listGroupUsers(Y.servers[te[Ot].info.isOfficial][te[Ot].info.target].session,tt.groups[Ot].id).then(Yt=>{Cn.users=Yt.group_users,Yt.group_users.forEach(An=>{An.user.id==Y.servers[te[Ot].info.isOfficial][te[Ot].info.target].session.user_id?An.is_me=!0:Y.save_other_user(An.user,te[Ot].info.isOfficial,te[Ot].info.target)})}),Y.save_group_info(Cn,te[Ot].info.isOfficial,te[Ot].info.target);break}ne(Y.lang.text.Nakama.GroupAlreadyJoined)}else console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",Xe),ne(Xe)}ne(Y.lang.text.Nakama.GroupAllListDone)});return function(de,ne){return W.apply(this,arguments)}}())}save_group_info(B,Y,W){this.groups[Y][W]||(this.groups[Y][W]={}),this.groups[Y][W][B.id]=B,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(B.img,`servers/${Y}/${W}/groups/${B.id}.img`),B.owner==this.servers[Y][W].session.user_id&&B.img&&this.servers[Y][W].client.writeStorageObjects(this.servers[Y][W].session,[{collection:"group_public",key:`group_${B.id}`,value:{img:B.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(B=(()=>{})){let Y=JSON.parse(JSON.stringify(this.groups));Object.keys(Y).forEach(de=>{Object.keys(Y[de]).forEach(te=>{let ge=Object.keys(Y[de][te]);ge.forEach(ke=>{if(delete Y[de][te][ke].server,delete Y[de][te][ke].img,Y[de][te][ke].users)for(let Xe=0,tt=Y[de][te][ke].users.length;Xe<tt;Xe++)if(Y[de][te][ke].users[Xe]){delete Y[de][te][ke].users[Xe].state;try{Y[de][te][ke].users[Xe].user.id?(Y[de][te][ke].users[Xe].user={id:Y[de][te][ke].users[Xe].user.id},this.servers[de][te]&&this.servers[de][te].session&&Y[de][te][ke].users[Xe].user.id==this.servers[de][te].session.user_id&&(Y[de][te][ke].users[Xe].is_me=!0)):Y[de][te][ke].users[Xe].is_me||Y[de][te][ke].users.splice(Xe,1)}catch{}}}),ge.length||delete Y[de][te]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(Y),"servers/groups.json",()=>{B()})}remove_group_list(B,Y,W,de=!1){var ne=this;return(0,H.Z)(function*(){try{let te=B.creator_id==ne.servers[Y][W].session.user_id;if(!ne.servers[Y][W]||!te)throw"not a group creator";(yield ne.servers[Y][W].client.deleteGroup(ne.servers[Y][W].session,B.id))||console.warn("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),yield ne.remove_channel_files(Y,W,B.channel_id,te);try{throw yield ne.servers[Y][W].client.deleteStorageObjects(ne.servers[Y][W].session,{object_ids:[{collection:"group_public",key:`group_${B.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{de&&(yield ne.indexed.removeFileFromUserPath(`servers/${Y}/${W}/groups/${B.id}.img`))}catch(ge){console.log(ge)}}})()}remove_channel_files(B,Y,W,de){var ne=this;return(0,H.Z)(function*(){try{yield ne.servers[B][Y].client.rpc(ne.servers[B][Y].session,"remove_channel_file",{collection:`file_${W.replace(/[.]/g,"_")}`,is_creator:de})}catch{}})()}get_group_list_from_server(B,Y){var W=this;return(0,H.Z)(function*(){W.groups[B]||(W.groups[B]={}),W.groups[B][Y]||(W.groups[B][Y]={}),yield W.servers[B][Y].client.listUserGroups(W.servers[B][Y].session,W.servers[B][Y].session.user_id).then(de=>{de.user_groups.forEach(function(){var ne=(0,H.Z)(function*(te){W.groups[B][Y][te.group.id]||(W.groups[B][Y][te.group.id]={},yield W.servers[B][Y].client.readStorageObjects(W.servers[B][Y].session,{object_ids:[{collection:"group_public",key:`group_${te.group.id}`,user_id:te.group.creator_id}]}).then(ge=>{ge.objects.length&&(W.groups[B][Y][te.group.id].img=ge.objects[0].value.img,W.indexed.saveTextFileToUserPath(ge.objects[0].value.img,`servers/${B}/${Y}/groups/${te.group.id}.img`))})),W.groups[B][Y][te.group.id]={...W.groups[B][Y][te.group.id],...te.group},W.groups[B][Y][te.group.id].status="online",yield W.servers[B][Y].client.listGroupUsers(W.servers[B][Y].session,te.group.id).then(ge=>{ge.group_users.forEach(ke=>{ke.user.id==W.servers[B][Y].session.user_id?ke.user.is_me=!0:W.save_other_user(ke.user,B,Y),ke.user=W.load_other_user(ke.user.id,B,Y),W.add_group_user_without_duplicate(ke,te.group.id,B,Y)})}),W.join_chat_with_modulation(te.group.id,3,B,Y,ge=>{W.save_groups_with_less_info()})});return function(te){return ne.apply(this,arguments)}}())})})()}rearrange_group_list(){let B=[];return Object.keys(this.groups).forEach(de=>{Object.keys(this.groups[de]).forEach(te=>{Object.keys(this.groups[de][te]).forEach(ke=>{try{this.groups[de][te][ke].server=this.servers[de][te].info}catch{this.groups[de][te][ke].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:de,target:te}}B.push(this.groups[de][te][ke])})})}),Object.keys(this.after_rearrange_group).forEach(de=>this.after_rearrange_group[de](B)),B}set_group_statusBar(B,Y,W){this.statusBar.groupServer[Y][W]&&(this.statusBar.groupServer[Y][W]=B),this.catch_group_server_header(B)}count_channel_online_member(B,Y,W){var de=this;return(0,H.Z)(function*(){let ne="pending";try{if("offline"==de.statusBar.groupServer[Y][W])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(B.group_id){if(de.groups[Y][W][B.group_id]&&de.groups[Y][W][B.group_id].users){let te=de.groups[Y][W][B.group_id].users.length;if(1==te)ne=de.users.self.online?"online":"offline";else for(let ge=0;ge<te;ge++){let ke=de.groups[Y][W][B.group_id].users[ge].user.id||de.servers[Y][W].session.user_id;if(ke!=de.servers[Y][W].session.user_id&&de.load_other_user(ke,Y,W).online){ne="online";break}}}}else if(B.user_id_one)if(de.channels_orig[Y][W][B.channel_id||B.id]){let te=de.channels_orig[Y][W][B.channel_id||B.id].redirect.id,ge=yield de.servers[Y][W].client.getUsers(de.servers[Y][W].session,[te]);Object.keys(ge.users[0]).forEach(Xe=>{de.users[Y][W][te][Xe]=ge.users[0][Xe]}),ne=de.load_other_user(te,Y,W).online?"online":"pending"}else de.join_chat_with_modulation(B.user_id_one!=de.servers[Y][W].session.user_id?B.user_id_one:B.user_id_two,2,Y,W,te=>{ne=de.load_other_user(de.channels_orig[Y][W][te.id].redirect.id,Y,W).online?"online":"pending"})}catch(te){console.log("count_channel_online_member: ",te),ne="offline"==de.statusBar.groupServer[Y][W]?"offline":"missing"}de.channels_orig[Y][W][B.channel_id||B.id]||(de.channels_orig[Y][W][B.channel_id||B.id]={}),"missing"!=de.channels_orig[Y][W][B.channel_id||B.id].status&&(de.channels_orig[Y][W][B.channel_id||B.id].status=ne)})()}remove_server(B,Y){var W=this;return(0,H.Z)(function*(){try{yield W.servers[B][Y].client.rpc(W.servers[B][Y].session,"remove_account_fn",{user_id:W.servers[B][Y].session.user_id})}catch{}try{let ne=yield W.indexed.loadTextFromUserPath("servers/alternatives.json"),te=JSON.parse(ne);delete te[Y],yield W.indexed.saveTextFileToUserPath(JSON.stringify(te),"servers/alternatives.json")}catch{}if("online"==W.statusBar.groupServer[B][Y]){try{W.servers[B][Y].socket&&W.servers[B][Y].socket.disconnect(!0)}catch{}try{yield W.servers[B][Y].client.sessionLogout(W.servers[B][Y].session,W.servers[B][Y].session.token,W.servers[B][Y].session.refresh_token)}catch{}}try{delete W.noti_origin[B][Y]}catch{}W.rearrange_notifications();try{let ne=Object.keys(W.channels_orig[B][Y]);W.channels_orig.deleted||(W.channels_orig.deleted={}),W.channels_orig.deleted[Y]||(W.channels_orig.deleted[Y]={}),ne.forEach(te=>{W.channels_orig[B][Y][te].info.status="missing",W.channels_orig[B][Y][te].status="missing",W.channels_orig.deleted[Y][te]=JSON.parse(JSON.stringify(W.channels_orig[B][Y][te]))}),delete W.channels_orig[B][Y]}catch{}W.rearrange_channels();let de=yield W.indexed.GetFileListFromDB(`servers/unofficial/${Y}`);for(let ne=0,te=de.length;ne<te;ne++){let ge=yield W.indexed.GetFileInfoFromDB(de[ne]);yield W.indexed.saveFileToUserPath(ge,de[ne].replace("/official/","/deleted/").replace("/unofficial/","/deleted/")),yield W.indexed.removeFileFromUserPath(de[ne])}try{W.groups.deleted||(W.groups.deleted={}),W.groups.deleted[Y]||(W.groups.deleted[Y]={}),W.groups.deleted[Y]=JSON.parse(JSON.stringify(W.groups[B][Y])),Object.keys(W.groups.deleted[Y]).forEach(te=>{W.groups.deleted[Y][te].server.name=W.lang.text.Nakama.DeletedServer,W.groups.deleted[Y][te].server.isOfficial="deleted",W.groups.deleted[Y][te].status="missing",W.groups.deleted[Y][te]=JSON.parse(JSON.stringify(W.groups[B][Y][te]))}),delete W.groups[B][Y]}catch{}W.set_group_statusBar("offline",B,Y),delete W.statusBar.groupServer[B][Y],delete W.servers[B][Y],W.save_groups_with_less_info(),W.indexed.saveTextFileToUserPath(JSON.stringify(W.statusBar.groupServer),"servers/list.json"),W.indexed.loadTextFromUserPath("servers/list_detail.csv",(ne,te)=>{if(ne&&te){let ge=te.split("\n");for(let ke=0,Xe=ge.length;ke<Xe;ke++)if(ge[ke].split(",")[3]==Y){ge.splice(ke,1);break}W.indexed.saveTextFileToUserPath(ge.join("\n"),"servers/list_detail.csv")}})})()}check_if_online(){this.get_all_server_info(!0,!0).length?(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"})):(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}))}connect_to(B="official",Y="default"){var W=this;return(0,H.Z)(function*(){yield W.servers[B][Y].socket.connect(W.servers[B][Y].session,!0);let de=W.servers[B][Y].socket;return Object.keys(W.on_socket_connected).forEach(te=>W.on_socket_connected[te]()),de.onnotification=te=>{W.act_on_notification(te,B,Y),W.rearrange_notifications()},de.onchannelpresence=te=>{if(void 0!==te.joins)te.joins.forEach(ge=>{W.servers[B][Y].session.user_id!=ge.user_id&&(W.load_other_user(ge.user_id,B,Y).online=!0)}),W.count_channel_online_member(te,B,Y);else if(void 0!==te.leaves){let ge=[];te.leaves.forEach(ke=>{W.servers[B][Y].session.user_id!=ke.user_id&&(delete W.load_other_user(ke.user_id,B,Y).online,ge.push(ke.user_id))}),ge.forEach(ke=>W.load_other_user(ke,B,Y)),W.count_channel_online_member(te,B,Y)}W.socket_reactive["others-online"]&&W.socket_reactive["others-online"]()},de.onmatchdata=function(){var te=(0,H.Z)(function*(ge){switch(ge.data_str=decodeURIComponent((new TextDecoder).decode(ge.data)),ge.op_code){case En.ADD_TODO:{let ke=ge.data_str.split(",");switch(ke[0]){case"add":W.servers[B][Y].client.readStorageObjects(W.servers[B][Y].session,{object_ids:[{collection:ke[1],key:ke[2],user_id:W.servers[B][Y].session.user_id}]}).then(Xe=>{Xe.objects.length&&W.modify_remote_info_as_local(Xe.objects[0].value,B,Y)});break;case"done":W.indexed.loadTextFromUserPath(`todo/${ke[1]}/info.todo`,(Xe,tt)=>{if(Xe&&tt){let Ot=JSON.parse(tt);Ot.done=!0,W.modify_remote_info_as_local(Ot,B,Y)}},W.indexed.godotDB);break;case"delete":W.indexed.loadTextFromUserPath(`todo/${ke[1]}/info.todo`,(Xe,tt)=>{if(Xe&&tt){let Ot=JSON.parse(tt);W.indexed.GetFileListFromDB(`todo/${ke[1]}`,Gt=>{Gt.forEach(Yt=>W.indexed.removeFileFromUserPath(Yt,void 0,W.indexed.godotDB)),Ot.noti_id&&("DesktopPWA"==Dt.n$||"MobilePWA"==Dt.n$)&&(clearTimeout(W.web_noti_id[Ot.noti_id]),delete W.web_noti_id[Ot.noti_id]),W.noti.ClearNoti(Ot.noti_id),(W.global.godot.contentWindow||W.global.godot.contentDocument).remove_todo(JSON.stringify(Ot))},W.indexed.godotDB)}},W.indexed.godotDB);break;case"worker":W.AddTodoManageUpdateAct&&W.AddTodoManageUpdateAct(ke[1],ke[2],"true"==ke[3],Number(ke[4])),W.indexed.loadTextFromUserPath(`todo/${ke[1]}/info.todo`,(Xe,tt)=>{if(Xe&&tt){let Ot=JSON.parse(tt);for(let Gt=0,Cn=Ot.workers.length;Gt<Cn;Gt++)if((Ot.workers[Gt].user_id||Ot.workers[Gt].id)==ke[2]){Ot.workers[Gt].isDelete="true"==ke[3],Ot.workers[Gt].timestamp=Number(ke[4]);break}W.modify_remote_info_as_local(Ot,B,Y)}},W.indexed.godotDB);break;default:console.warn("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",ge)}}break;case En.EDIT_PROFILE:switch(ge.data_str){case"info":W.servers[B][Y].client.getAccount(W.servers[B][Y].session).then(ke=>{Object.keys(ke.user).forEach(tt=>W.users.self[tt]=ke.user[tt]),W.save_self_profile()});break;case"image":W.servers[B][Y].client.readStorageObjects(W.servers[B][Y].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:W.servers[B][Y].session.user_id}]}).then(ke=>{ke.objects.length?(W.indexed.saveTextFileToUserPath(JSON.stringify(ke.objects[0].value.img),"servers/self/profile.img"),W.users.self.img=ke.objects[0].value.img.replace(/"|=|\\/g,"")):W.indexed.removeFileFromUserPath("servers/self/profile.img")});break;case"content":W.socket_reactive.self_profile_content_update&&W.socket_reactive.self_profile_content_update();break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",ge)}break;case En.ENGINE_PPT:break;case En.ADD_CHANNEL:W.get_group_list_from_server(B,Y);break;case En.WEBRTC_INIT_REQ_SIGNAL:W.servers[B][Y].session.user_id!=ge.presence.user_id&&W.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&W.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case En.WEBRTC_REPLY_INIT_SIGNAL:W.servers[B][Y].session.user_id!=ge.presence.user_id&&W.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&W.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(ge.data_str);break;case En.WEBRTC_RECEIVE_ANSWER:W.servers[B][Y].session.user_id!=ge.presence.user_id&&W.socket_reactive.WEBRTC_RECEIVE_ANSWER&&W.socket_reactive.WEBRTC_RECEIVE_ANSWER(ge.data_str);break;case En.WEBRTC_ICE_CANDIDATES:W.servers[B][Y].session.user_id!=ge.presence.user_id&&W.socket_reactive.WEBRTC_ICE_CANDIDATES&&W.socket_reactive.WEBRTC_ICE_CANDIDATES(ge.data_str);break;case En.WEBRTC_NEGOCIATENEEDED:W.servers[B][Y].session.user_id!=ge.presence.user_id&&W.socket_reactive.WEBRTC_NEGOCIATENEEDED&&W.socket_reactive.WEBRTC_NEGOCIATENEEDED(ge.data_str);break;case En.WEBRTC_HANGUP:W.servers[B][Y].session.user_id!=ge.presence.user_id&&W.WebRTCService&&(yield W.WebRTCService.close_webrtc());break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",ge)}});return function(ge){return te.apply(this,arguments)}}(),de.onchannelmessage=te=>{W.channels_orig[B][Y][te.channel_id]?(W.update_from_channel_msg(te,B,Y),te.content.match&&te.sender_id!=W.servers[B][Y].session.user_id&&W.JoinWebRTCMatch(te,B,Y,W.channels_orig[B][Y][te.channel_id])):te.user_id_one?W.join_chat_with_modulation(te.sender_id,2,B,Y,()=>{W.update_from_channel_msg(te,B,Y)}):te.group_id&&W.join_chat_with_modulation(te.group_id,3,B,Y,ge=>{W.update_from_channel_msg(te,B,Y)})},de.ondisconnect=te=>{W.channels_orig[B]&&W.channels_orig[B][Y]&&(Object.keys(W.channels_orig[B][Y]).forEach(Xe=>{"missing"!=W.channels_orig[B][Y][Xe].status&&delete W.channels_orig[B][Y][Xe].status}),W.rearrange_channels()),W.groups[B]&&W.groups[B][Y]&&Object.keys(W.groups[B][Y]).forEach(Xe=>{W.groups[B][Y][Xe].status="offline"}),W.set_group_statusBar("pending",B,Y),Object.keys(W.on_socket_disconnected).forEach(ke=>W.on_socket_disconnected[ke]())},de})()}saveListedMessage(B,Y,W,de){if(3==Y.redirect.type&&!this.groups[W][de][Y.group_id].open)return;let ne={},te=JSON.parse(JSON.stringify(B));for(;te.length;){ne.target!=te[0].msgDate&&(ne.msg&&this.saveMessageByDate(ne,Y,W,de),ne.target=te[0].msgDate,ne.msg=[]);let ge=te.shift();delete ge.content.text,delete ge.content.img,delete ge.msgDate,delete ge.msgTime,delete ge.isLastRead,delete ge.showInfo,ne.msg.push(ge)}this.saveMessageByDate(ne,Y,W,de)}saveMessageByDate(B,Y,W,de){if(!B.msg||!B.msg.length)return;let ne=JSON.parse(JSON.stringify(B)),te=ne.target.split("-");this.indexed.loadTextFromUserPath(`servers/${W}/${de}/channels/${Y.id}/chats/${te[0]}/${te[1]}/${te[2]}`,(ge,ke)=>{let Xe=[],tt=[];ge&&ke&&(Xe=JSON.parse(ke)),ne.msg.forEach(Gt=>{let Cn=!1;for(let Yt=0,An=Xe.length;Yt<An;Yt++)if(Xe[Yt].message_id==Gt.message_id){Cn=!0,Xe[Yt]=Gt;break}Cn||tt.push(Gt)});let Ot=[...Xe,...tt];Ot.sort((Gt,Cn)=>Gt.create_time<Cn.create_time?-1:Gt.create_time>Cn.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(Ot),`servers/${W}/${de}/channels/${Y.id}/chats/${te[0]}/${te[1]}/${te[2]}`)})}ModulateTimeDate(B){let Y=new Date(B.create_time);B.msgDate=`${Y.getFullYear()}-${("00"+(Y.getMonth()+1)).slice(-2)}-${("00"+Y.getDate()).slice(-2)}`,B.msgTime=`${("00"+Y.getHours()).slice(-2)}:${("00"+Y.getMinutes()).slice(-2)}`}join_chat_with_modulation(B,Y,W,de,ne=(ge=>{}),te=!1){var ge=this;return(0,H.Z)(function*(){ge.channels_orig[W][de]||(ge.channels_orig[W][de]={}),yield ge.servers[W][de].socket.joinChat(B,Y,!0,!1).then(function(){var ke=(0,H.Z)(function*(Xe){switch(Xe.redirect={id:B,type:Y,persistence:!0},Xe.server={isOfficial:W,target:de},Y){case 2:Xe.title=ge.load_other_user(B,W,de).display_name,Xe.info=ge.load_other_user(B,W,de);break;case 3:Xe.title=ge.groups[W][de][B].name,Xe.info=ge.groups[W][de][B],ge.groups[W][de][B].channel_id=Xe.id,ge.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",Y)}yield ge.add_channels(Xe,W,de),(!ge.opened_page_info.channel||ge.opened_page_info.channel.isOfficial!=W||ge.opened_page_info.channel.target!=de||ge.opened_page_info.channel.id!=Xe.id)&&ge.servers[W][de].client.listChannelMessages(ge.servers[W][de].session,Xe.id,1,!1).then(tt=>{tt.messages.length&&ge.update_from_channel_msg(tt.messages[0],W,de,te)}),ge.count_channel_online_member(Xe,W,de),ge.save_groups_with_less_info(),ne(Xe)});return function(Xe){return ke.apply(this,arguments)}}()).catch(ke=>{let Xe="";throw Xe=3===ke.code?ge.lang.text.Nakama.AddChannelFailed_Code3:ke.message,ge.p5toast.show({text:`${ge.lang.text.Nakama.AddChannelFailed}: ${Xe}`}),ne(void 0),`${ge.lang.text.Nakama.AddChannelFailed}: ${Xe}`})})()}update_from_channel_msg(B,Y,W,de=!1){let ne=B.sender_id==this.servers[Y][W].session.user_id,te=B.message_id!=this.channels_orig[Y][W][B.channel_id].last_comment_id,ge=this.modulation_channel_message(B,Y,W);switch(!ne&&te&&this.noti.PushLocal({id:this.channels_orig[Y][W][B.channel_id].cnoti_id,title:this.channels_orig[Y][W][B.channel_id].info.name||this.channels_orig[Y][W][B.channel_id].info.display_name||this.channels_orig[Y][W][B.channel_id].title||this.lang.text.Subscribes.noTitiedChat,body:ge.content.msg||ge.content.noti||(ge.content.match?this.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${this.lang.text.ChatRoom.attachments})`,extra_ln:{page:{component:"ChatRoomPage",componentProps:{info:{id:B.channel_id,isOfficial:Y,target:W,noti_id:this.channels_orig[Y][W][B.channel_id].cnoti_id}}}},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},this.channels_orig[Y][W][B.channel_id].cnoti_id,tt=>{this.go_to_chatroom_without_admob_act(this.channels_orig[Y][W][B.channel_id])}),ne&&this.noti.ClearNoti(this.channels_orig[Y][W][B.channel_id].cnoti_id),ge.code){case 0:ge.content.gupdate&&this.update_group_info(ge,Y,W),ge.content.user_update&&this.update_group_user_info(ge,Y,W),te&&(this.channels_orig[Y][W][B.channel_id].is_new=!ne,this.subscribe_lock||(this.has_new_channel_msg=!ne));break;case 3:case 4:case 5:case 6:if(this.socket_reactive.group_detail&&this.socket_reactive.group_detail.update_GroupUsersList(Y,W),3==ge.code||4==ge.code)break;if(this.noti_origin[Y]&&this.noti_origin[Y][W]){let tt=Object.keys(this.noti_origin[Y][W]),Ot=[];tt.forEach(Gt=>{-5==this.noti_origin[Y][W][Gt].code&&this.noti_origin[Y][W][Gt].sender_id==ge.sender_id&&Ot.push(Gt)}),this.servers[Y][W].client.deleteNotifications(this.servers[Y][W].session,Ot).then(Gt=>{Gt||console.warn("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),this.update_notifications(Y,W)})}ne&&(this.channels_orig[Y][W][ge.channel_id].status="missing",delete this.channels_orig[Y][W][ge.channel_id].info);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",ge)}this.ModulateTimeDate(ge),this.check_sender_and_show_name(ge,Y,W);let ke=B.content.msg;this.content_to_hyperlink(ge),this.channels_orig[Y][W][B.channel_id].last_comment_time=B.create_time,this.channels_orig[Y][W][ge.channel_id].last_comment_id=ge.message_id,this.rearrange_channels(),!de&&this.channels_orig[Y][W][ge.channel_id].update&&this.channels_orig[Y][W][ge.channel_id].update(ge),this.saveListedMessage([ge],this.channels_orig[Y][W][ge.channel_id],Y,W),this.channels_orig[Y][W][ge.channel_id].last_comment=(ge.content.filename?`(${this.lang.text.ChatRoom.attachments}) `:"")+(ke||ge.content.noti||(ge.content.match?this.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||""),this.save_channels_with_less_info()}JoinWebRTCMatch(B,Y,W,de){var ne=this;return(0,H.Z)(function*(){try{try{ne.WebRTCService.CurrentMatch=yield ne.servers[Y][W].socket.joinMatch(B.content.match)}catch(te){throw te}ne.WebRTCService&&(yield ne.WebRTCService.initialize("audio",void 0,{isOfficial:Y,target:W,user_id:de.info.id||de.info.user_id,channel_id:de.id},!1)),yield ne.servers[Y][W].socket.sendMatchState(B.content.match,En.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(te){4===(console.log("\ucc38\uc5ec \uc2e4\ud328: ",te),te.code)?ne.p5toast.show({text:ne.lang.text.ChatRoom.MatchExpiration}):ne.p5toast.show({text:`${ne.lang.text.ChatRoom.JoinMatchFailed}: ${te}`})}})()}content_to_hyperlink(B){if(!B.content.msg)return;let Y=B.content.msg.split("\n");B.content.msg=[],Y.forEach(W=>{let de={text:W};W&&B.content.msg.push([de]);try{let ne=de.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");de.text.length==ne.length&&(de.size=48)}catch{}});for(let W=0,de=B.content.msg.length;W<de;W++)if(B.content.msg[W][0].text){let ne=B.content.msg[W][0].text.indexOf("http://");if(ne<0&&(ne=B.content.msg[W][0].text.indexOf("https://")),ne>=0){let ge,te=[];0!=ne&&(ge=B.content.msg[W][0].text.substring(0,ne),te.push({text:ge}));let tt,Ot,ke=B.content.msg[W][0].text.substring(ne),Xe=ke.indexOf(" ");Xe<0?(tt=ke,te.push({text:tt,href:!0})):(tt=ke.substring(0,Xe),te.push({text:tt,href:!0}),Ot=ke.substring(Xe),te.push({text:Ot})),B.content.msg[W]=te}}}check_sender_and_show_name(B,Y,W){B.color=(B.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),B.sender_id==this.servers[Y][W].session.user_id?(B.user_display_name=this.users.self.display_name,B.is_me=!0):B.user_display_name=this.load_other_user(B.sender_id,Y,W).display_name,B.user_display_name=B.user_display_name||this.lang.text.Profile.noname_user}modulation_channel_message(B,Y,W){this.translate_updates(B);let de=!1;try{de=B.sender_id==this.servers[Y][W].session.user_id}catch{de=B.content.user_update}let ne=de?this.users.self:this.load_other_user(B.sender_id,Y,W);switch(B.code){case 0:if(B.content.filename){try{B.content.transfer_index=this.OnTransfer[Y][W][B.channel_id][B.message_id]}catch{}try{this.OnTransferMessage[B.message_id]=B}catch{}}break;case 3:case 4:B.content.user_update=ne,B.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${ne.display_name}`,setTimeout(()=>{this.count_channel_online_member(B,Y,W)},50);break;case 5:B.content.user_update=ne,B.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${ne.display_name}`,setTimeout(()=>{this.count_channel_online_member(B,Y,W)},50);break;case 6:B.content.user_update=ne,B.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${ne.display_name}`,setTimeout(()=>{this.count_channel_online_member(B,Y,W)},50);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",B)}return B}update_group_info(B,Y,W){switch(this.translate_updates(B),B.content.gupdate){case"image":this.servers[Y][W].client.readStorageObjects(this.servers[Y][W].session,{object_ids:[{collection:"group_public",key:`group_${B.group_id}`,user_id:B.sender_id}]}).then(de=>{de.objects.length?(this.groups[Y][W][B.group_id].img=de.objects[0].value.img.replace(/"|=|\\/g,""),this.indexed.saveTextFileToUserPath(de.objects[0].value.img,`servers/${Y}/${W}/groups/${B.group_id}.img`)):(delete this.groups[Y][W][B.group_id].img,this.indexed.removeFileFromUserPath(`servers/${Y}/${W}/groups/${B.group_id}.img`))});break;case"info":this.servers[Y][W].client.listGroups(this.servers[Y][W].session,B.content.name).then(de=>{Object.keys(de.groups[0]).forEach(te=>this.groups[Y][W][de.groups[0].id][te]=de.groups[0][te])});break;case"remove":case"force_remove":this.groups[Y][W][B.group_id].status="missing",delete this.groups[Y][W][B.group_id].img,this.save_groups_with_less_info(),this.indexed.removeFileFromUserPath(`servers/${Y}/${W}/groups/${B.group_id}.img`),this.channels_orig[Y][W][B.channel_id].status="missing",this.servers[Y][W].socket.leaveChat(B.channel_id);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",B)}}translate_updates(B){if(B.content.user_update)switch(B.content.user_update){case"modify_data":B.content.noti=`${this.lang.text.Profile.user_profile_changed}${B.content.noti_form}`;break;case"modify_img":B.content.noti=`${this.lang.text.Profile.user_img_changed}${B.content.noti_form}`;break;case"modify_content":B.content.noti=`${this.lang.text.Profile.user_content_changed}${B.content.noti_form}`;break;case"remove_content":B.content.noti=`${this.lang.text.Profile.user_content_removed}${B.content.noti_form}`}if(B.content.gupdate)switch(B.content.gupdate){case"info":B.content.noti=this.lang.text.GroupDetail.GroupInfoUpdated;break;case"image":B.content.noti=this.lang.text.GroupDetail.GroupImageUpdated;break;case"remove":B.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":B.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(B,Y,W){var de=this;return(0,H.Z)(function*(){switch(de.translate_updates(B),B.content.user_update){case"modify_data":yield de.servers[Y][W].client.getUsers(de.servers[Y][W].session,[B.sender_id]).then(ne=>{ne.users.length?de.save_other_user(ne.users[0],Y,W):(delete de.users[Y][W][B.sender_id],de.indexed.removeFileFromUserPath(`servers/${Y}/${W}/users/${B.sender_id}/profile.json`))});break;case"modify_img":yield de.servers[Y][W].client.readStorageObjects(de.servers[Y][W].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:B.sender_id}]}).then(ne=>{ne.objects.length?de.socket_reactive["others-profile"]?de.socket_reactive["others-profile"](ne.objects[0].value.img):(de.load_other_user(B.sender_id,Y,W).img=ne.objects[0].value.img,de.load_other_user(B.sender_id,Y,W).avatar_url=ne.objects[0].version,de.save_other_user(de.load_other_user(B.sender_id,Y,W),Y,W)):(de.socket_reactive["others-profile"]&&de.socket_reactive["others-profile"](""),delete de.load_other_user(B.sender_id,Y,W).img,de.indexed.removeFileFromUserPath(`servers/${Y}/${W}/users/${B.sender_id}/profile.img`))}).catch(ne=>{de.users[Y][W][B.sender_id].img&&(delete de.users[Y][W][B.sender_id].img,de.save_other_user(de.users[Y][W][B.sender_id],Y,W))});break;case"modify_content":case"remove_content":de.socket_reactive.other_user_content_update&&de.socket_reactive.other_user_content_update();break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",B)}})()}check_notifications(B,Y,W){let de=this.servers[Y][W];switch(B.code){case 0:case-2:break;case 1:case-1:case-3:case-4:case-6:this.noti.RemoveListener(`check${B.code}`),this.noti.ClearNoti(B.code),de.client.deleteNotifications(de.session,[B.id]).then(ne=>{ne||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),this.update_notifications(Y,W)});break;case-5:de.client.getUsers(de.session,[B.sender_id]).then(ne=>{if(ne.users.length){let te="";te+=`${this.lang.text.Nakama.ReqContServer}: ${B.server.name}<br>`,te+=`${this.lang.text.Nakama.ReqContUserName}: ${ne.users[0].display_name}`,this.alertCtrl.create({header:this.lang.text.Nakama.ReqContTitle,message:te,buttons:[{text:this.lang.text.Nakama.ReqContAccept,handler:()=>{de.client.addGroupUsers(de.session,B.content.group_id,[ne.users[0].id]).then(ge=>{ge||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.noti.RemoveListener(`check${B.code}`),this.noti.ClearNoti(B.code),de.client.deleteNotifications(de.session,[B.id]).then(ke=>{ke?this.update_notifications(Y,W):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",ke)})})}},{text:this.lang.text.Nakama.ReqContReject,handler:()=>{de.client.kickGroupUsers(de.session,B.content.group_id,[ne.users[0].id]).then(ge=>{ge||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),de.client.deleteNotifications(de.session,[B.id]),this.update_notifications(Y,W)})}}]}).then(ge=>ge.present())}else de.client.deleteNotifications(de.session,[B.id]).then(te=>{te||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),this.p5toast.show({text:this.lang.text.Nakama.UserNotFound}),this.update_notifications(Y,W)})});break;case-7:this.LoginAgain(this.noti_origin,Y,W);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",B.code)}}act_on_notification(B,Y,W){var de=this;let ne=!1;switch(B.server=this.servers[Y][W].info,B.code){case 404:this.remove_server(Y,W);break;case 1:this.servers[Y][W].client.deleteNotifications(this.servers[Y][W].session,[B.id]).then(tt=>{tt||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),this.update_notifications(Y,W)});let te=decodeURIComponent(B.content.msg),ge=decodeURIComponent(B.content.uri);this.noti.PushLocal({id:B.code,title:this.servers[Y][W].info.name,body:te,image:ge,extra_ln:{type:"AllUserNotification",title:this.servers[Y][W].info.name,body:te,image:ge,isOfficial:Y,target:W,noti_id:B.id},smallIcon_ln:"diychat",group_ln:"all_user_noti",iconColor_ln:"ff754e"},"global_noti_all",tt=>{this.alertCtrl.create({header:this.servers[Y][W].info.name,message:`<img *ngIf="${ge}" src="${ge}" alt="noti_image" style="border-radius: 2px">\n<div>${te}</div>`,buttons:[{text:"\ud655\uc778",handler:()=>{this.servers[Y][W].client.deleteNotifications(this.servers[Y][W].session,[B.id])}}]}).then(Ot=>Ot.present())});break;case 0:B.request=`${B.code}-${B.subject}`;break;case-1:let ke;B.request=`${B.code}-${B.subject}`,2===(B.content&&B.content.username&&(ke=2),ke)?this.join_chat_with_modulation(B.sender_id,ke,Y,W,function(){var tt=(0,H.Z)(function*(Ot){try{yield de.servers[Y][W].client.listChannelMessages(de.servers[Y][W].session,Ot.id,1,!1).then(Gt=>{Gt.messages.length&&de.update_from_channel_msg(Gt.messages[0],Y,W)})}catch{}});return function(Ot){return tt.apply(this,arguments)}}()):(console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",B,ke),B.request=`${B.code}-${B.subject}`),ne=!0,this.servers[Y][W].client.deleteNotifications(this.servers[Y][W].session,[B.id]).then(tt=>{tt||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),this.update_notifications(Y,W)});break;case-2:case-3:B.request=`${B.code}-${B.subject}`;break;case-4:this.socket_reactive.group_detail&&this.socket_reactive.group_detail.info.id==B.content.group_id&&this.socket_reactive.group_detail.update_from_notification(B),this.groups[Y][W][B.content.group_id].status="online",B.request=`${B.code}-${B.subject}`,this.noti.RemoveListener(`check${B.code}`),this.noti.SetListener(`check${B.code}`,tt=>{this.noti.ClearNoti(tt.id),this.noti.RemoveListener(`check${B.code}`),this.check_notifications(B,Y,W)}),this.servers[Y][W].client.readStorageObjects(this.servers[Y][W].session,{object_ids:[{collection:"group_public",key:`group_${B.content.group_id}`,user_id:this.groups[Y][W][B.content.group_id].creator_id}]}).then(tt=>{tt.objects.length&&(this.groups[Y][W][B.content.group_id].img=tt.objects[0].value.img,this.indexed.saveTextFileToUserPath(tt.objects[0].value.img,`servers/${Y}/${W}/groups/${B.content.group_id}.img`))}),this.servers[Y][W].client.listGroupUsers(this.servers[Y][W].session,B.content.group_id).then(tt=>{tt.group_users.length&&tt.group_users.forEach(Ot=>{this.load_other_user(Ot.user.id,Y,W)})}),this.join_chat_with_modulation(B.content.group_id,3,Y,W,tt=>{this.servers[Y][W].client.listChannelMessages(this.servers[Y][W].session,tt.id,1,!1).then(Ot=>{Ot.messages.length&&this.update_from_channel_msg(Ot.messages[0],Y,W)})}),this.noti.PushLocal({id:B.code,title:`${this.groups[Y][W][B.content.group_id].name}: ${this.lang.text.Nakama.LocalNotiTitle}`,body:B.subject,group_ln:"diychat",icon:this.groups[Y][W][B.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,tt=>{this.check_notifications(B,Y,W)});break;case-5:let Xe=this.groups[Y][W][B.content.group_id];Xe?B.request=`${this.lang.text.Nakama.ReqContTitle}: ${Xe.name}`:(ne=!0,this.servers[Y][W].client.deleteNotifications(this.servers[Y][W].session,[B.id]).then(tt=>{tt?this.update_notifications(Y,W):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",tt)})),this.socket_reactive.group_detail&&this.socket_reactive.group_detail.info.id==B.content.group_id&&this.socket_reactive.group_detail.update_from_notification(B),this.noti.RemoveListener(`check${B.code}`),this.noti.SetListener(`check${B.code}`,tt=>{this.noti.ClearNoti(tt.id),this.noti.RemoveListener(`check${B.code}`),!this.socket_reactive.group_detail&&this.modalCtrl.create({component:jt.x,componentProps:{info:this.groups[Y][W][B.content.group_id],server:this.servers[Y][W].info}}).then(Ot=>Ot.present())}),this.noti.PushLocal({id:B.code,title:`${this.groups[Y][W][B.content.group_id].name}: ${this.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:this.groups[Y][W][B.content.group_id].img,extra_ln:{page:{component:"NakamaReqContTitle",componentProps:{data:{noti_id:B.id,serverName:this.servers[Y][W].info.name,userName:this.load_other_user(B.sender_id,Y,W).display_name,group_id:B.content.group_id,user_id:B.sender_id,isOfficial:Y,Target:W}}}},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,tt=>{this.socket_reactive.group_detail.info.id!=B.content.group_id&&this.modalCtrl.create({component:jt.x,componentProps:{info:this.groups[Y][W][B.content.group_id]}}).then(Ot=>Ot.present())});break;case-6:B.request=`${B.code}-${B.subject}`;break;case-7:B.request=`${this.servers[Y][W].info.name}: ${this.lang.text.Nakama.SessionLogout}`,this.LoginAgain(B,Y,W);break;default:console.warn("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",B),B.request=`${B.code}-${B.subject}`}ne||(this.noti_origin[Y]||(this.noti_origin[Y]={}),this.noti_origin[Y][W]||(this.noti_origin[Y][W]={}),this.noti_origin[Y][W][B.id]=B)}LoginAgain(B,Y,W){this.alertCtrl.create({header:this.servers[Y][W].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{delete this.noti_origin[Y][W][B.id],this.rearrange_notifications(),this.link_group(Y,W,!0)}}]}).then(de=>de.present())}WriteStorage_From_channel(B,Y,W,de,ne=0){var te=this;return(0,H.Z)(function*(){let ge=JSON.parse(JSON.stringify(B)),ke=yield te.global.req_file_info(Y),Xe=Math.ceil(ke.contents.length/Jt.In);if(te.OnTransfer[W]||(te.OnTransfer[W]={}),te.OnTransfer[W][de]||(te.OnTransfer[W][de]={}),te.OnTransfer[W][de][B.channel_id]||(te.OnTransfer[W][de][B.channel_id]={}),te.OnTransfer[W][de][B.channel_id][B.message_id]||(te.OnTransfer[W][de][B.channel_id][B.message_id]={index:Xe}),!te.OnTransfer[W][de][B.channel_id][B.message_id].OnTransfer){B.content.transfer_index||(B.content.transfer_index=te.OnTransfer[W][de][B.channel_id][B.message_id]);for(let tt=ne;tt<Xe;tt++)try{let Ot=yield te.global.req_file_part_base64(ke,tt,Y);yield te.servers[W][de].client.writeStorageObjects(te.servers[W][de].session,[{collection:`file_${ge.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ge.message_id}_${tt}`,permission_read:2,permission_write:1,value:{data:Ot}}]),te.OnTransfer[W][de][B.channel_id][B.message_id].index=Xe-tt,te.OnTransfer[W][de][B.channel_id][B.message_id].OnTransfer="upload"}catch(Ot){console.log("WriteStorage_From_channel: ",Ot),te.p5toast.show({text:`${te.lang.text.Nakama.FailedUpload}: ${Ot}`});break}setTimeout(()=>{delete te.OnTransfer[W][de][B.channel_id][B.message_id],te.global.remove_req_file_info(B,Y),te.p5toast.show({text:`${te.lang.text.ChatRoom.SendFile}: ${ge.content.filename}`})},100)}})()}ReadStorage_From_channel(B,Y,W,de,ne=0){var te=this;return(0,H.Z)(function*(){let ge=JSON.parse(JSON.stringify(B));if(te.OnTransfer[W]||(te.OnTransfer[W]={}),te.OnTransfer[W][de]||(te.OnTransfer[W][de]={}),te.OnTransfer[W][de][B.channel_id]||(te.OnTransfer[W][de][B.channel_id]={}),te.OnTransfer[W][de][B.channel_id][B.message_id]||(te.OnTransfer[W][de][B.channel_id][B.message_id]={index:ge.content.partsize}),te.OnTransfer[W][de][B.channel_id][B.message_id].OnTransfer)return;B.content.transfer_index||(B.content.transfer_index=te.OnTransfer[W][de][B.channel_id][B.message_id]);let ke=!0;for(let Xe=ne,tt=ge.content.partsize;Xe<tt;Xe++)try{let Ot=yield te.servers[W][de].client.readStorageObjects(te.servers[W][de].session,{object_ids:[{collection:`file_${ge.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ge.message_id}_${Xe}`,user_id:ge.sender_id}]});yield te.global.save_file_part(Y,Xe,Ot.objects[0].value.data),te.OnTransfer[W][de][B.channel_id][B.message_id].index=tt-Xe,te.OnTransfer[W][de][B.channel_id][B.message_id].OnTransfer="download"}catch(Ot){console.log("ReadStorage_From_channel: ",Ot),ke=!1,te.p5toast.show({text:`${te.lang.text.Nakama.FailedDownload}: ${Ot}`});break}if(ke){if(B.content.url)B.content.thumbnail=B.content.url;else{B.content.text=[te.lang.text.ChatRoom.downloaded],delete B.content.transfer_index,delete te.OnTransfer[W][de][ge.channel_id][ge.message_id].index,te.p5toast.show({text:`${te.lang.text.ChatRoom.SavingFile}: ${ge.content.filename}`});let Xe=[],tt=0;for(let Yt=0,An=ge.content.partsize;Yt<An;Yt++){let Xn=yield te.indexed.GetFileInfoFromDB(`${Y}_part/${Yt}.part`);tt+=Xn.contents.length,Xe.push(Xn)}let Ot=new Int8Array(tt),Gt=0;for(let Yt=0,An=Xe.length;Yt<An;Yt++)Ot.set(Xe[Yt].contents,Gt),Gt+=Xe[Yt].contents.length;yield te.indexed.saveInt8ArrayToUserPath(new Int8Array(Ot),Y),(yield te.indexed.GetFileListFromDB(`${Y}_part`)).forEach(Yt=>te.indexed.removeFileFromUserPath(Yt)),te.global.remove_req_file_info(ge,Y)}if(ge.content.path=Y,ke&&!te.channels_orig[W][de][ge.channel_id].HideAutoThumbnail){let Xe=yield te.indexed.loadBlobFromUserPath(Y,B.content.type||""),tt=URL.createObjectURL(Xe);yield te.global.modulate_thumbnail((te.OnTransferMessage[ge.message_id]||B).content,tt)}delete te.OnTransfer[W][de][ge.channel_id][ge.message_id],delete te.OnTransferMessage[ge.message_id]}return ke})()}sync_save_file(B,Y,W,de,ne="",te){var ge=this;return(0,H.Z)(function*(){try{let ke=JSON.parse(JSON.stringify(B));yield ge.indexed.saveBlobToUserPath(B.blob,ke.path,void 0,te);let Xe=yield ge.global.req_file_info(ke.path,te);ke.partsize=Math.ceil((ke.filesize||Xe.contents.length)/Jt.In),delete ke.blob,yield ge.servers[Y][W].client.writeStorageObjects(ge.servers[Y][W].session,[{collection:de,key:ne||ke.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:ke}]);for(let tt=0;tt<ke.partsize;tt++){let Ot=yield ge.global.req_file_part_base64(Xe,tt,ke.path,te);yield ge.servers[Y][W].client.writeStorageObjects(ge.servers[Y][W].session,[{collection:de,key:ne?`${ne}_${tt}`:ke.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${tt}`,permission_read:2,permission_write:1,value:{data:Ot}}])}ge.indexed.removeFileFromUserPath(`${ke.path}.history`,void 0,te)}catch(ke){console.log("SyncSaveFailed: ",ke)}})()}sync_load_file(B,Y,W,de,ne="",te="",ge){var ke=this;return(0,H.Z)(function*(){let Xe=JSON.parse(JSON.stringify(B));try{return yield ke.indexed.loadBlobFromUserPath(Xe.path,Xe.type||"",void 0,ge)}catch{try{let Gt=(yield ke.servers[Y][W].client.readStorageObjects(ke.servers[Y][W].session,{object_ids:[{collection:de,key:te||Xe.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:ne||ke.servers[Y][W].session.user_id}]})).objects[0].value;for(let Cn=0;Cn<Gt.partsize;Cn++){let Yt=yield ke.servers[Y][W].client.readStorageObjects(ke.servers[Y][W].session,{object_ids:[{collection:de,key:te?`${te}_${Cn}`:Gt.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Cn}`,user_id:ne||ke.servers[Y][W].session.user_id}]});yield ke.global.save_file_part(Gt.path,Cn,Yt.objects[0].value.data,ge)}return yield ke.indexed.loadBlobFromUserPath(Gt.path,Gt.type||"",void 0,ge)}catch{return null}}})()}sync_remove_file(B,Y,W,de,ne="",te){var ge=this;return(0,H.Z)(function*(){try{yield ge.indexed.removeFileFromUserPath(B,void 0,te);let Xe=(yield ge.servers[Y][W].client.readStorageObjects(ge.servers[Y][W].session,{object_ids:[{collection:de,key:B.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:ne||ge.servers[Y][W].session.user_id}]})).objects[0].value;yield ge.servers[Y][W].client.rpc(ge.servers[Y][W].session,"remove_channel_file",{collection:de,key:Xe.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+"_"}),yield ge.servers[Y][W].client.deleteStorageObjects(ge.servers[Y][W].session,{object_ids:[{collection:de,key:Xe.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch(ke){console.log("SyncRemoveFailed: ",ke)}})()}AddressToQRCodeAct(B,Y=!1){var W=this;return(0,H.Z)(function*(){let de=[];if(B.open_profile&&de.push({type:"open_profile"}),B.open_subscribes&&de.push({type:"open_subscribes"}),B.tmp_user){let ne=B.tmp_user[0].split(",");W.users.self.email=ne[0],W.users.self.password=ne[1],W.users.self.display_name=ne[2],W.users.self.online=!0,W.save_self_profile()}if(B.server)for(let ne=0,te=B.server.length;ne<te;ne++){let ge=B.server[ne].split(",");de.push({type:"server",value:{name:ge[0]||"No named server",target:ge[0]||"No named server",address:ge[1]||"192.168.0.1",useSSL:ge[2]||!1,port:ge[3]||7350,key:ge[4]||"defaultkey",isOfficial:"unofficial"}})}if(B.group)for(let ne=0,te=B.group.length;ne<te;ne++){let ge=B.group[ne].split(",");de.push({type:"group",name:ge[0],id:ge[1]})}if(B.group_dedi&&"http:"==window.location.protocol&&de.push({type:"group_dedi",value:{address:`ws://${B.group_dedi[0]}`}}),B.open_prv_channel){let ne=B.open_prv_channel[0].split(",");de.push({type:"open_prv_channel",user_id:ne[0],isOfficial:ne[1],target:ne[2]})}if(B.open_channel){let ne=B.open_channel[0].split(",");de.push({type:"open_channel",group_id:ne[0],isOfficial:ne[1],target:ne[2]})}if(B.rtcserver)for(let ne=0,te=B.rtcserver.length;ne<te;ne++){let ge=B.rtcserver[ne].split("]"),ke=ge[0].split("[")[1],Xe=ge[1].split(",");de.push({type:"rtcserver",value:{urls:ke.split(","),username:Xe[1],credential:Xe[2]}})}if(Y)return de;yield W.act_from_QRInfo(de)})()}act_from_QRInfo(B){var Y=this;return(0,H.Z)(function*(){for(let W=0,de=B.length;W<de;W++)switch(B[W].type){case"open_profile":Y.modalCtrl.create({component:Mn.Y}).then(ge=>ge.present());break;case"open_subscribes":Y.act_callback_link.portal_tab_subscribes();break;case"tmp_user":break;case"server":if(Y.statusBar.groupServer.unofficial[B[W].value.name])Y.p5toast.show({text:`${Y.lang.text.Nakama.AlreadyHaveTargetName}: ${B[W].value.name}`}),delete B[W].value.name,yield Y.modalCtrl.create({component:_n.P,componentProps:{data:B[W].value}}).then(ge=>ge.present());else{let ge={name:decodeURIComponent(B[W].value.name),target:decodeURIComponent(B[W].value.target),address:decodeURIComponent(B[W].value.address),port:B[W].value.port,useSSL:B[W].value.useSSL,isOfficial:B[W].value.isOfficial,key:decodeURIComponent(B[W].value.key)};yield Y.add_group_server(ge),yield Y.init_session(ge)}break;case"group_dedi":yield Y.modalCtrl.create({component:gn.X,componentProps:{address:B[W].value.address,name:Y.users.self.display_name}}).then(ge=>{ge.present()});break;case"group":for(let ge=0,ke=20;ge<ke;ge++)try{yield Y.try_add_group(B[W]);break}catch(Xe){yield new Promise(tt=>{setTimeout(()=>{tt(void 0)},500)}),ge==ke-1&&(console.log("QRAct_try_add_group_catch: ",Xe),Y.p5toast.show({text:`${Y.lang.text.Nakama.FailedToAddGroup}: ${Xe}`}))}break;case"EnginePPTLink":yield Y.modalCtrl.create({component:fn.i,componentProps:{pid:B[W].pid}}).then(ge=>{ge.present()});break;case"open_prv_channel":for(let ge=0;ge<20;ge++)try{yield Y.join_chat_with_modulation(B[W].user_id,2,B[W].isOfficial,B[W].target,ke=>{ke&&Y.go_to_chatroom_without_admob_act(ke)},!0);break}catch{yield new Promise(Xe=>{setTimeout(()=>{Xe(void 0)},500)})}break;case"open_channel":for(let ge=0;ge<20;ge++)try{yield Y.join_chat_with_modulation(B[W].group_id,3,B[W].isOfficial,B[W].target,ke=>{ke&&Y.go_to_chatroom_without_admob_act(ke)},!0);break}catch{yield new Promise(Xe=>{setTimeout(()=>{Xe(void 0)},500)})}break;case"rtcserver":let te=[];try{let ge=yield Y.indexed.loadTextFromUserPath("servers/webrtc_server.json");te=JSON.parse(ge)}catch{}te.push(B[W].value),yield Y.indexed.saveTextFileToUserPath(JSON.stringify(te),"servers/webrtc_server.json");break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}}return(ee=_e).\u0275fac=function(B){return new(B||ee)(bt.LFG(ht.F),bt.LFG(Nt.g),bt.LFG(gt.H),bt.LFG(Mt.J),bt.LFG(Xt.IN),bt.LFG(Xt.Br),bt.LFG(sn.b),bt.LFG(Jt.AN),bt.LFG(In.z),bt.LFG(Xt.SH),bt.LFG(bt.R0b),bt.LFG(Xt.HT))},ee.\u0275prov=bt.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),_e})()},9461:(nn,Et,me)=>{"use strict";me.d(Et,{r:()=>p});var H=me(5861),j=me(9868),X=me(9761),r=me(9468),G=me(1325),O=me(9080),f=me(7488),m=me(9376),d=me(797),y=me(3857),w=me(6052),b=me(4663),i=me(6814);function l(v,a){if(1&v){const g=r.EpF();r.TgZ(0,"td")(1,"ion-button",19),r.NdJ("click",function(){r.CHM(g);const $=r.oxw(2);return r.KtG($.notification_react(-5))}),r._uU(2),r.qZA()()}if(2&v){const g=r.oxw(2);r.xp6(2),r.hij(" ",g.lang.text.OtherProfile.add_to_group," ")}}function h(v,a){if(1&v){const g=r.EpF();r.TgZ(0,"td")(1,"ion-button",19),r.NdJ("click",function(){r.CHM(g);const $=r.oxw(2);return r.KtG($.notification_react(-2))}),r._uU(2),r.qZA()()}if(2&v){const g=r.oxw(2);r.xp6(2),r.hij(" ",g.lang.text.OtherProfile.add_friend," ")}}function s(v,a){if(1&v){const g=r.EpF();r.TgZ(0,"td")(1,"ion-button",20),r.NdJ("click",function(){r.CHM(g);const $=r.oxw(2);return r.KtG($.kick_user_from_group())}),r._uU(2),r.qZA()()}if(2&v){const g=r.oxw(2);r.xp6(2),r.hij(" ",g.lang.text.OtherProfile.kick_from_group," ")}}function c(v,a){if(1&v){const g=r.EpF();r.TgZ(0,"tr")(1,"td")(2,"div",12)(3,"table",17)(4,"tr"),r.YNc(5,l,3,1,"td",16),r.YNc(6,h,3,1,"td",16),r.TgZ(7,"td")(8,"ion-button",18),r.NdJ("click",function(){r.CHM(g);const $=r.oxw();return r.KtG($.create_chat())}),r._uU(9),r.qZA()(),r.YNc(10,s,3,1,"td",16),r.qZA()()()()()}if(2&v){const g=r.oxw();r.xp6(5),r.Q6J("ngIf",g.has_admin&&g.additional_buttons[-5]),r.xp6(1),r.Q6J("ngIf",g.additional_buttons[-2]),r.xp6(2),r.Q6J("disabled",g.lock_create_chat),r.xp6(1),r.hij(" ",g.lang.text.OtherProfile.privacy_chat," "),r.xp6(1),r.Q6J("ngIf",g.has_admin)}}let p=(()=>{var v;class a{constructor(E,$,k,M,A,L,U,I,D,R){this.modalCtrl=E,this.navParams=$,this.nakama=k,this.statusBar=M,this.p5toast=A,this.indexed=L,this.lang=U,this.global=I,this.loadingCtrl=D,this.mClipboard=R,this.info={},this.group_info={},this.additional_buttons={},this.has_admin=!1,this.user_content_id="",this.onDismissData={},this.lock_create_chat=!1}ngOnInit(){var E=this;return(0,H.Z)(function*(){E.nakama.removeBanner(),E.info=E.navParams.get("info"),E.has_admin=E.navParams.get("has_admin"),E.group_info=E.navParams.get("group"),E.isOfficial=E.group_info.server.isOfficial,E.target=E.group_info.server.target,E.user_content_id=`user_content_${E.info.user.id}`,E.nakama.load_other_user(E.info.user.id,E.isOfficial,E.target),E.nakama.socket_reactive["others-profile"]=k=>{E.change_img_smoothly(k)},E.nakama.socket_reactive["others-online"]=()=>{E.p5canvas.loop()},E.nakama.socket_reactive.other_user_content_update=()=>{E.update_content_from_server()},setTimeout((0,H.Z)(function*(){(yield E.indexed.checkIfFileExist(`servers/${E.isOfficial}/${E.target}/users/${E.info.user.id}/content.pck`))&&(yield E.global.CreateGodotIFrame(E.user_content_id,{title:"ViewerEx",ext:"pck",local_url:"assets/data/godot/viewer.pck",path:`servers/${E.isOfficial}/${E.target}/users/${E.info.user.id}/content.pck`,force_logo:!0}))}),150),E.catch_user_noties(),E.p5canvas=new j(k=>{let M=document.getElementById("other_profile_img"),A=document.getElementById("profile_tmp_img");k.setup=()=>{k.noCanvas()},k.draw=()=>{E.info.user.online?E.lerpVal<1?E.lerpVal+=.025:(E.lerpVal=1,k.noLoop()):E.lerpVal>0?E.lerpVal-=.025:(E.lerpVal=0,k.noLoop()),M.setAttribute("style",`filter: grayscale(${k.lerp(.9,0,E.lerpVal)}) contrast(${k.lerp(1.4,1,E.lerpVal)});`),A.setAttribute("style",`filter: grayscale(${k.lerp(.9,0,E.lerpVal)}) contrast(${k.lerp(1.4,1,E.lerpVal)});`)}})})()}update_content_from_server(){var E=this;return(0,H.Z)(function*(){E.global.last_frame_name="update_other_content",E.global.godot.remove();let $=yield E.loadingCtrl.create({message:E.lang.text.TodoDetail.WIP});$.present();let M,k=E.nakama.servers[E.isOfficial][E.target];try{M=(yield k.client.readStorageObjects(k.session,{object_ids:[{collection:"user_public",key:"main_content",user_id:E.info.user.id}]})).objects[0].value;let L="";for(let U=0,I=M.partsize;U<I;U++)L+=(yield k.client.readStorageObjects(k.session,{object_ids:[{collection:"user_public",key:`main_content_${U}`,user_id:E.info.user.id}]})).objects[U].value.data;yield E.indexed.saveBase64ToUserPath(L.replace(/"|=|\\/g,""),`servers/${E.isOfficial}/${E.target}/users/${E.info.user.id}/content.pck`),yield E.global.CreateGodotIFrame(E.user_content_id,{title:"ViewerEx",ext:"pck",local_url:"assets/data/godot/viewer.pck",path:`servers/${E.isOfficial}/${E.target}/users/${E.info.user.id}/content.pck`,force_logo:!0})}catch{yield E.indexed.removeFileFromUserPath(`servers/${E.isOfficial}/${E.target}/users/${E.info.user.id}/content.pck`),E.global.godot.remove()}$.dismiss()})()}catch_user_noties(){this.nakama.noti_origin[this.isOfficial]&&this.nakama.noti_origin[this.isOfficial][this.target]&&Object.keys(this.nakama.noti_origin[this.isOfficial][this.target]).forEach(k=>{this.nakama.noti_origin[this.isOfficial][this.target][k].sender_id==this.info.user.id&&(this.additional_buttons[this.nakama.noti_origin[this.isOfficial][this.target][k].code.toString()]=k)})}change_img_smoothly(E){let $=setInterval(()=>{},110);setTimeout(()=>{clearInterval($)},1500),new j(k=>{let M=document.getElementById("profile_tmp_img"),L=0;k.setup=()=>{k.noCanvas(),M.setAttribute("style",`filter: grayscale(${k.lerp(.9,0,this.lerpVal)}) contrast(${k.lerp(1.4,1,this.lerpVal)}) opacity(${L})`),this.tmp_img=E},k.draw=()=>{L<1?L+=.035:(L=1,this.info.user.img=this.tmp_img,this.indexed.saveTextFileToUserPath(this.info.user.img,`servers/${this.isOfficial}/${this.target}/users/${this.info.user.id}/profile.img`),this.tmp_img="",k.remove()),M.setAttribute("style",`filter: grayscale(${k.lerp(.9,0,this.lerpVal)}) contrast(${k.lerp(1.4,1,this.lerpVal)}) opacity(${L})`)}})}notification_react(E){switch(E){case 0:case-1:case-2:break;case-5:this.nakama.servers[this.isOfficial][this.target].client.addGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then($=>{$||console.warn("\ubc34 \uc720\uc800\uc5d0 \ub300\ud55c\uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.p5toast.show({text:`${this.lang.text.OtherProfile.added_to_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[E.toString()]]).then(k=>{k||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),delete this.additional_buttons[E.toString()],this.nakama.update_notifications(this.isOfficial,this.target),this.onDismissData={id:this.info.user.id,act:"accept_join"},this.info.status="online",this.p5canvas.loop()})});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ubc18\uc751: ",E)}}create_chat(){this.lock_create_chat||(this.lock_create_chat=!0,this.nakama.join_chat_with_modulation(this.info.user.id,2,this.isOfficial,this.target,E=>{E?(this.nakama.go_to_chatroom_without_admob_act(E),this.lock_create_chat=!1,this.modalCtrl.dismiss({dismiss:!0})):this.lock_create_chat=!1},!0))}kick_user_from_group(){switch(this.info.state){case 0:case 1:case 2:this.after_announce_kick();break;case 3:this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[-5]]).then(E=>{E||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),this.after_announce_kick(),delete this.additional_buttons[-5],this.nakama.update_notifications(this.isOfficial,this.target),this.info.status="missing",this.p5canvas.loop()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uc0c1\ud0dc: ",this.info)}}after_announce_kick(){this.nakama.servers[this.isOfficial][this.target].client.kickGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(E=>{this.p5toast.show({text:`${this.lang.text.OtherProfile.kicked_from_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.modalCtrl.dismiss({id:this.info.user.id,act:"kick"})})}copy_id(){this.mClipboard.copy(this.info.user.id).catch(E=>X.Z.write(this.info.user.id))}focus_on_content(){console.warn("\ucf58\ud150\uce20 \uc790\uc138\ud788\ubcf4\uae30 \uae30\ub2a5 \uc900\ube44\uc911")}ionViewDidLeave(){delete this.nakama.socket_reactive["others-profile"],delete this.nakama.socket_reactive["others-online"],delete this.nakama.socket_reactive.other_user_content_update,this.p5canvas.remove()}}return(v=a).\u0275fac=function(E){return new(E||v)(r.Y36(G.IN),r.Y36(G.X1),r.Y36(O.a),r.Y36(f.g),r.Y36(m.F),r.Y36(d.H),r.Y36(y.b),r.Y36(w.AN),r.Y36(G.HT),r.Y36(b.T))},v.\u0275cmp=r.Xpm({type:v,selectors:[["app-others-profile"]],decls:27,vars:11,consts:[["slot","start",3,"click"],["defaultHref",""],[2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],[1,"profile_img_form"],["id","other_profile_img","alt","Profile_Image",1,"profile_img",3,"hidden","src"],["id","profile_tmp_img","alt","Profile_Image",1,"profile_img",3,"hidden","src"],[1,"fore-gradient"],[1,"username"],[3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],[2,"width","100%"],[1,"ion-text-end",2,"padding-right","8px",3,"click"],[1,"content_size"],[1,"full_screen",2,"display","flex",3,"id"],[4,"ngIf"],["id","input_table",2,"width","100%","background-color","black"],["expand","block",3,"disabled","click"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(E,$){1&E&&(r.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),r._uU(3),r.qZA(),r.TgZ(4,"ion-buttons",0),r.NdJ("click",function(){return $.modalCtrl.dismiss($.onDismissData)}),r._UZ(5,"ion-back-button",1),r.qZA()()(),r.TgZ(6,"ion-content")(7,"table",2)(8,"tr",3)(9,"td",4)(10,"div",5),r._UZ(11,"img",6)(12,"img",7)(13,"div",8),r.TgZ(14,"div",9),r._uU(15),r.qZA()(),r.TgZ(16,"ion-item",10),r.NdJ("click",function(){return $.copy_id()}),r.TgZ(17,"ion-label",11),r._uU(18),r.qZA()(),r.TgZ(19,"ion-item-divider")(20,"ion-label",12),r._uU(21),r.qZA(),r.TgZ(22,"ion-button",13),r.NdJ("click",function(){return $.update_content_from_server()}),r._uU(23),r.qZA()(),r.TgZ(24,"div",14),r._UZ(25,"div",15),r.qZA()()(),r.YNc(26,c,11,5,"tr",16),r.qZA()()),2&E&&(r.xp6(3),r.Oqu($.lang.text.OtherProfile.Title),r.xp6(8),r.Q6J("hidden",!$.info.user.img)("src",$.info.user.img,r.LSH),r.xp6(1),r.Q6J("hidden",!$.tmp_img)("src",$.tmp_img,r.LSH),r.xp6(3),r.Oqu($.info.user.display_name||$.lang.text.Profile.noname_user),r.xp6(3),r.Oqu($.info.user.id),r.xp6(3),r.Oqu($.lang.text.Profile.main_content),r.xp6(2),r.hij(" ",$.lang.text.OtherProfile.refresh," "),r.xp6(2),r.Q6J("id",$.user_content_id),r.xp6(1),r.Q6J("ngIf","online"==$.statusBar.groupServer[$.isOfficial][$.target]))},dependencies:[i.O5,G.oU,G.YG,G.Sm,G.W2,G.Gu,G.Ie,G.rH,G.Q$,G.wd,G.sr,G.cs],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,black,rgba(0,0,0,0));width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),a})()},9376:(nn,Et,me)=>{"use strict";me.d(Et,{F:()=>r});var H=me(9868),st=me(9468),X=function(G){return G[G.Idle=0]="Idle",G[G.DivFadeIn=1]="DivFadeIn",G[G.BorderAlert=2]="BorderAlert",G[G.Reading=3]="Reading",G[G.FadeOut=4]="FadeOut",G}(X||{});let r=(()=>{var G;class O{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=X.Idle}show(m){let d;m.time=(new Date).getTime(),m.lateable||(this.AlertNow=m,this.status=X.DivFadeIn),this.alert.length&&(d=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==m.text?this.status=X.DivFadeIn:d&&d.text==m.text||this.alert.push(m),this.isShowing?this.status==X.FadeOut&&(this.status=X.DivFadeIn):(this.CurrentToast=new H(w=>{let b,i,l,h=0,s=0,c=0;w.setup=()=>{w.noCanvas(),b=w.createDiv(),b.style("position: absolute; left: 0; top: 0; z-index: 1"),b.style("width: 100%; height: fit-content"),b.style("padding: 32px;"),b.style("display: flex; justify-content: center;"),b.style("pointer-events: none"),p(),l=w.createDiv(),l.parent(b),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("border-radius: 24px"),l.style("background: #44a6fa88"),l.style("padding: 4px"),i=w.createDiv(),i.parent(l),i.style("display: flex; justify-content: center;"),i.style("width: fit-content; height: fit-content"),i.style("word-break: break-all"),i.style("background: #44a6fa88"),i.style("border-radius: 20px"),i.style("padding: 12px"),i.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),i.html(this.AlertNow.text),v(),this.status=X.DivFadeIn},w.draw=()=>{switch(this.status){case X.DivFadeIn:h<1?h+=1:(h=1,s=1,this.status=X.BorderAlert,i.html(this.AlertNow.text));break;case X.BorderAlert:if(s>0)s-=.03;else{let g;s=0,g=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,c=w.millis()+g+960,this.status=X.Reading}break;case X.Reading:w.millis()>c&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),i.html(this.AlertNow.text),this.status=X.DivFadeIn):this.status=X.FadeOut);break;case X.FadeOut:h>0?h-=.04:a()}p(),v()};let p=()=>{b.style(`opacity: ${h}`)},v=()=>{let g=w.lerpColor(w.color("#44a6fabb"),w.color("#ffd94ebb"),s).levels;l.style(`padding: ${4*s}px`),i.style(`padding: ${w.lerp(16,12,s)}px`),i.style(`border-radius: ${w.lerp(24,20,s)}px`),l.style(`background: rgba(${g[0]}, ${g[1]}, ${g[2]}, ${g[3]/255})`)},a=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=X.FadeOut}}return(G=O).\u0275fac=function(m){return new(m||G)},G.\u0275prov=st.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),O})()},9455:(nn,Et,me)=>{"use strict";me.d(Et,{i:()=>g});var H=me(5861),j=me(3641),st=me(9868),X=me(9468),r=me(3857),G=me(6052),O=me(7488);let f=(()=>{var E;class ${constructor(M){this.statusBar=M,this.list={},this.addresses=[]}initialize(M,A,L,U){if("DesktopPWA"!=j.n$&&"MobilePWA"!=j.n$){if(null!=this.list[M])return void console.warn("\ub3d9\uc77c\ud55c \uc11c\ubc84 \uad6c\uc131\uc774 \uc774\ubbf8 \uc874\uc7ac\ud568: ",this.list);this.statusBar.tools[M]="pending",this.list[M]={},this.list[M].OnConnected={},this.list[M].OnDisconnected={},this.list[M].server||(this.list[M].server=cordova.plugins.wsserver),this.check_addresses(M),this.list[M].server.start(A,{onFailure:(I,D,R)=>{this.onServerClose(M),this.stop(M)},onOpen:I=>{if(this.list[M].users?(console.log("1:1 \ub9e4\uce6d\uc774 \uc644\ub8cc\ub428"),this.list[M].server.close({uuid:I.uuid},4001,"\ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc740 \uc0ac\uc6a9\uc790")):(this.list[M].users=I.uuid,this.statusBar.tools[M]="certified"),this.list[M].OnConnected){let D=Object.keys(this.list[M].OnConnected);for(let R=0,V=D.length;R<V;R++)this.list[M].OnConnected[D[R]]()}},onMessage:(I,D)=>{try{let R=JSON.parse(D);U(R)}catch(R){console.error(`Tool-server_json \ubcc0\ud658 \uc624\ub958_${D}: ${R}`)}},onClose:(I,D,R,V)=>{if(this.statusBar.tools[M]="online",delete this.list[M].users,this.list[M].OnDisconnected){let N=Object.keys(this.list[M].OnDisconnected);for(let Q=0,T=N.length;Q<T;Q++)this.list[M].OnDisconnected[N[Q]]()}},origins:[],protocols:[],tcpNoDelay:!0},(I,D)=>{this.statusBar.tools[M]="online",L&&L()},I=>{this.onServerClose(M),this.stop(M)})}else this.stop(M)}stop(M){"DesktopPWA"!=j.n$&&"MobilePWA"!=j.n$&&this.list[M].server.stop((A,L)=>{this.onServerClose(M),delete this.list[M]})}onServerClose(M){delete this.list[M].users,this.statusBar.tools[M]="missing",setTimeout(()=>{this.statusBar.tools[M]="offline"},1e3)}check_addresses(M){"DesktopPWA"!=j.n$&&"MobilePWA"!=j.n$&&(this.list[M].server||(this.list[M].server=cordova.plugins.wsserver),this.list[M].server.getInterfaces(A=>{this.addresses.length=0;let L=Object.keys(A);for(let U=0,I=L.length;U<I;U++)this.addresses=[...this.addresses,...A[L[U]].ipv4Addresses]}))}send_to(M,A){this.list[M].users&&this.list[M].server.send({uuid:this.list[M].users},A)}}return(E=$).\u0275fac=function(M){return new(M||E)(X.LFG(O.g))},E.\u0275prov=X.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),$})();var m=me(797),d=me(9376),y=me(1325),w=me(4093),b=me(6814),i=me(95);function l(E,$){if(1&E){const k=X.EpF();X.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),X._uU(3),X.qZA(),X.TgZ(4,"ion-buttons",3),X.NdJ("click",function(){X.CHM(k);const A=X.oxw();return X.KtG(A.go_back())}),X._UZ(5,"ion-back-button",4),X.qZA()()()}if(2&E){const k=X.oxw();X.xp6(3),X.Oqu(k.lang.text.Settings.EnginePPT)}}function h(E,$){1&E&&X._UZ(0,"div",5)}function s(E,$){if(1&E){const k=X.EpF();X.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),X._uU(3),X.qZA()(),X.TgZ(4,"textarea",6),X.NdJ("ngModelChange",function(A){X.CHM(k);const L=X.oxw();return X.KtG(L.RemoteDesc=A)}),X.qZA()()}if(2&E){const k=X.oxw();X.xp6(3),X.Oqu(k.lang.text.EngineWorksPPT.Manual),X.xp6(1),X.Q6J("ngModel",k.RemoteDesc)}}function c(E,$){if(1&E){const k=X.EpF();X.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),X._uU(3),X.qZA()(),X.TgZ(4,"ion-item")(5,"ion-input",10),X.NdJ("ngModelChange",function(A){X.CHM(k);const L=X.oxw(2);return X.KtG(L.InputAddress=A)}),X.qZA()(),X.TgZ(6,"ion-item",11),X.NdJ("click",function(){X.CHM(k);const A=X.oxw(2);return X.KtG(A.ConnectToAddress())}),X.TgZ(7,"ion-label",8),X._uU(8),X.qZA()()()}if(2&E){const k=X.oxw(2);X.xp6(3),X.Oqu(k.lang.text.EngineWorksPPT.ManualLink),X.xp6(2),X.Q6J("label",k.lang.text.EngineWorksPPT.Address)("ngModel",k.InputAddress)("placeholder",k.lang.text.EngineWorksPPT.InputAddress+" (IPv4)"),X.xp6(1),X.Q6J("disabled",k.ConnectButtonDisabled),X.xp6(2),X.Oqu(k.lang.text.EngineWorksPPT.Connect)}}function p(E,$){if(1&E){const k=X.EpF();X.TgZ(0,"div"),X.YNc(1,c,9,6,"div",0),X.TgZ(2,"ion-item-divider")(3,"ion-label"),X._uU(4),X.qZA()(),X.TgZ(5,"ion-item",7),X.NdJ("click",function(){X.CHM(k);const A=X.oxw();return X.KtG(A.buttonClickLinkInputFile())}),X.TgZ(6,"ion-label",8),X._uU(7),X.qZA()(),X.TgZ(8,"input",9),X.NdJ("change",function(A){X.CHM(k);const L=X.oxw();return X.KtG(L.inputpckselected(A))}),X.qZA()()}if(2&E){const k=X.oxw();X.xp6(1),X.Q6J("ngIf",!k.LinkedAddress&&!k.isSSLConnect),X.xp6(3),X.Oqu(k.lang.text.EngineWorksPPT.JustStart),X.xp6(3),X.Oqu(k.lang.text.EngineWorksPPT.DropFileHere),X.xp6(1),X.Q6J("id",k.engine_ppt_file_sel)}}function v(E,$){if(1&E){const k=X.EpF();X.TgZ(0,"div")(1,"ion-item",12),X._UZ(2,"div",13),X.TgZ(3,"ion-label",14),X._uU(4),X.qZA()(),X.TgZ(5,"ion-item",11),X.NdJ("click",function(){X.CHM(k);const A=X.oxw();return X.KtG(A.buttonClickSelectPckFromMobile())}),X.TgZ(6,"ion-label"),X._uU(7),X.qZA()(),X.TgZ(8,"input",9),X.NdJ("change",function(A){X.CHM(k);const L=X.oxw();return X.KtG(L.mobilepckselected(A))}),X.qZA(),X.TgZ(9,"ion-item",7),X.NdJ("click",function(){X.CHM(k);const A=X.oxw();return X.KtG(A.CreateEngineController())}),X.TgZ(10,"ion-label",8),X._uU(11),X.qZA()()()}if(2&E){const k=X.oxw();X.xp6(2),X.Akn("background-color: "+k.statusBar.colors[k.statusBar.tools.engineppt||"offline"]),X.xp6(2),X.Oqu(k.lang.text.EngineWorksPPT.RemoteServer),X.xp6(1),X.Q6J("disabled","certified"!=k.statusBar.tools.engineppt),X.xp6(2),X.Oqu(k.lang.text.EngineWorksPPT.StartFromMobile),X.xp6(1),X.Q6J("id",k.engine_ppt_mobile_sel),X.xp6(3),X.Oqu(k.lang.text.EngineWorksPPT.StartRemote)}}function a(E,$){1&E&&X._UZ(0,"div",15)}let g=(()=>{var E;class ${constructor(M,A,L,U,I,D,R,V,N,Q){this.lang=M,this.global=A,this.toolServer=L,this.indexed=U,this.p5toast=I,this.loadingCtrl=D,this.modalCtrl=R,this.statusBar=V,this.navCtrl=N,this.noti=Q,this.EventListenerAct=T=>{T.detail.register(150,()=>{})},this.ToggleHeader=!0,this.Status="initialize",this.InputAddress="",this.LinkedAddress="",this.isSSLConnect=!1,this.engine_ppt_file_sel="",this.SelectedFile=[],this.ConnectButtonDisabled=!1,this.engine_ppt_mobile_sel=""}ngOnInit(){this.engine_ppt_file_sel=`engine_ppt_file_sel_${(new Date).getTime()}`,this.engine_ppt_mobile_sel=`engine_ppt_mobile_sel_${(new Date).getTime()}`,this.isSSLConnect="https:"==window.location.protocol}ionViewWillEnter(){this.prerequisite_check()}prerequisite_check(){this.load_info_text(),"Android"==j.n$||"iOS"==j.n$?(this.Status="initApp",this.StartRemoteContrServer()):(this.Status="initPWA","DesktopPWA"==j.n$&&setTimeout(()=>{this.CreateDrop()},50))}CreateDrop(){var M=this;let A=document.getElementById("p5Drop");this.p5canvas=new st(L=>{L.setup=()=>{let U=L.createCanvas(A.clientWidth,A.clientHeight);L.pixelDensity(1),U.parent(A),U.drop(function(){var I=(0,H.Z)(function*(D){M.StartPresentation(D.name,D.file)});return function(D){return I.apply(this,arguments)}}())},L.mouseMoved=U=>{U.dataTransfer?(A.style.pointerEvents="all",A.style.backgroundColor="#0008"):(A.style.pointerEvents="none",A.style.backgroundColor="transparent")}})}buttonClickLinkInputFile(){document.getElementById(this.engine_ppt_file_sel).click()}inputpckselected(M){var A=this;return(0,H.Z)(function*(){A.StartPresentation(M.target.files[0].name,M.target.files[0])})()}StartPresentation(M,A){var L=this;return(0,H.Z)(function*(){"pck"==M.substring(M.lastIndexOf(".")+1)?(yield L.indexed.saveBlobToUserPath(A,"engineppt/presentation_this.pck"),L.CreateEnginePPT()):L.p5toast.show({text:L.lang.text.EngineWorksPPT.FileExtPck})})()}CreateEnginePPT(){this.ToggleHeader=!1,this.Status="OnPresentation",this.p5canvas&&this.p5canvas.remove(),setTimeout(()=>{this.TempWs&&this.TempWs.readyState==this.TempWs.OPEN&&this.TempWs.close(),this.global.CreateGodotIFrame("engineppt",{local_url:"assets/data/godot/engineppt.pck",title:"EnginePPT",remoteAddr:this.LinkedAddress,p5toast:M=>{this.p5toast.show({text:M})},dismiss:()=>{"EnginepptPageModule"!=this.modalCtrl.injector.source?this.modalCtrl.dismiss():this.navCtrl.back()}})},0)}load_info_text(){this.p5canvas=new st(M=>{M.noCanvas(),M.loadStrings(`assets/data/infos/${this.lang.lang}/engine_remote.txt`,A=>{this.RemoteDesc=A.join("\n")})})}StartRemoteContrServer(){this.toolServer.initialize("engineppt",12021,()=>{this.toolServer.list.engineppt.OnConnected.show_noti=()=>{this.noti.PushLocal({id:13,title:this.lang.text.EngineWorksPPT.ClientConnected,body:this.lang.text.EngineWorksPPT.UsePPTRemote,group_ln:"engineppt",smallIcon_ln:"engineppt",iconColor_ln:"478cbf",autoCancel_ln:!0},"engineppt")},this.toolServer.list.engineppt.OnDisconnected.remove_noti=()=>{this.noti.ClearNoti(13)},this.toolServer.list.engineppt.OnDisconnected.showDisconnected=()=>{"OnPresentation"==this.Status&&this.p5toast.show({text:this.lang.text.EngineWorksPPT.Disconnected})}},M=>{switch(console.log("\uc218\uc2e0\ubc1b\uc740 \uba54\uc2dc\uc9c0\ub294: ",M),M.act){case"react":let A=this.SelectedFile.shift();this.toolServer.send_to("engineppt",A?JSON.stringify({act:"part",data:A}):JSON.stringify({act:"eof"}));break;case"exit":this.Status="initApp";break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \uc218\uc2e0\uac12: ",M)}})}ConnectToAddress(){var M=this;return(0,H.Z)(function*(){if(M.InputAddress=M.InputAddress.trim(),M.InputAddress){M.ConnectButtonDisabled=!0;try{M.LinkedAddress=yield M.CatchAvailableAddress([M.InputAddress])}catch{M.p5toast.show({text:M.lang.text.EngineWorksPPT.CannotConnect})}M.ConnectButtonDisabled=!1}else M.p5toast.show({text:M.lang.text.EngineWorksPPT.NeedAddress})})()}buttonClickSelectPckFromMobile(){document.getElementById(this.engine_ppt_mobile_sel).click()}mobilepckselected(M){var A=this;return(0,H.Z)(function*(){if(!A.toolServer.list.engineppt.users)return void A.p5toast.show({text:A.lang.text.EngineWorksPPT.NeedLink});let L=M.target.files[0].name;if("pck"!=L.substring(L.lastIndexOf(".")+1))return void A.p5toast.show({text:A.lang.text.EngineWorksPPT.FileExtPck});yield A.indexed.saveBlobToUserPath(M.target.files[0],"tmp_files/engineppt_selected.pck");let I=yield A.global.GetBase64ThroughFileReader(M.target.files[0]),R=Math.ceil(I.length/22e4);A.SelectedFile=I.match(/(.{1,220000})/g),A.toolServer.send_to("engineppt",JSON.stringify({act:"init",size:R,total:I.length}))})()}CatchAvailableAddress(M){var A=this;return new Promise(function(){var L=(0,H.Z)(function*(U,I){let D;for(let R=0,V=M.length;R<V;R++)try{D=yield new Promise(function(){var Q=(0,H.Z)(function*(T,K){let se="",fe=yield A.loadingCtrl.create({message:A.lang.text.EngineWorksPPT.ReceivingFile});A.TempWs=new WebSocket(`ws://${M[R]}:12021`),A.TempWs.onopen=Ie=>{T(M[R])},A.TempWs.onmessage=Ie=>{let Z=JSON.parse(Ie.data);switch(Z.act){case"init":fe.present(),A.TempWs.send(JSON.stringify({act:"react"}));break;case"part":se+=Z.data,A.TempWs.send(JSON.stringify({act:"react"}));break;case"eof":A.indexed.saveBase64ToUserPath(se,"engineppt/presentation_this.pck",ie=>{fe.dismiss(),A.CreateEnginePPT()});break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \uc11c\ubc84 \uc218\uc2e0\uac12: ",Z)}},A.TempWs.onclose=Ie=>{A.LinkedAddress="",fe.dismiss(),"OnPresentation"!=A.Status&&A.p5toast.show({text:A.lang.text.EngineWorksPPT.Disconnected}),K("onclose")}});return function(T,K){return Q.apply(this,arguments)}}());break}catch(N){console.log("CatchAvailableAddress: ",N),A.TempWs.close()}D?(A.p5toast.show({text:`${A.lang.text.EngineWorksPPT.ReadyToConnect}: ${D}`}),U(D)):(A.LinkedAddress="",I("\uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uc8fc\uc18c \uc5c6\uc74c"))});return function(U,I){return L.apply(this,arguments)}}())}CreateEngineController(){this.Status="OnPresentation",this.noti.ClearNoti(13),this.p5canvas&&this.p5canvas.remove(),document.addEventListener("ionBackButton",this.EventListenerAct),this.send_device_rotation();let M=!0,A={};setTimeout(()=>{this.global.CreateGodotIFrame("engineppt",{local_url:"assets/data/godot/engineppt.pck",title:"EnginePPTContr",pointer_pos:(L="")=>{let U=JSON.parse(L);A={...A,...U},M&&(this.toolServer.send_to("engineppt",JSON.stringify({...A})),Object.keys(A).forEach(D=>delete A[D]),M=!1,setTimeout(()=>{M=!0},60))}})},0)}send_device_rotation(){this.p5gyro=new st(M=>{M.setup=()=>{M.noCanvas()},M.draw=()=>{this.global.godot_window.set_horizontal_rot&&this.global.godot_window.set_horizontal_rot(M.rotationZ),this.global.godot_window.set_vertical_rot&&this.global.godot_window.set_vertical_rot(M.rotationX)}})}go_back(){"EnginepptPageModule"!=this.modalCtrl.injector.source&&this.modalCtrl.dismiss()}ionViewWillLeave(){document.removeEventListener("ionBackButton",this.EventListenerAct),this.toolServer.stop("engineppt"),this.indexed.removeFileFromUserPath("engineppt/presentation_this.pck"),this.TempWs&&this.TempWs.close(),this.p5canvas&&this.p5canvas.remove(),this.p5gyro&&this.p5gyro.remove(),this.noti.ClearNoti(13)}}return(E=$).\u0275fac=function(M){return new(M||E)(X.Y36(r.b),X.Y36(G.AN),X.Y36(f),X.Y36(m.H),X.Y36(d.F),X.Y36(y.HT),X.Y36(y.IN),X.Y36(O.g),X.Y36(y.SH),X.Y36(w.J))},E.\u0275cmp=X.Xpm({type:E,selectors:[["app-engineppt"]],decls:7,vars:6,consts:[[4,"ngIf"],["id","p5Drop","style","position: absolute; width: 100%; height: 100%; display: flex;",4,"ngIf"],["class","full_screen","style","display: flex;","id","engineppt",4,"ngIf"],["slot","start",3,"click"],["defaultHref",""],["id","p5Drop",2,"position","absolute","width","100%","height","100%","display","flex"],["disabled","",1,"infobox",2,"height","280px",3,"ngModel","ngModelChange"],["button","",3,"click"],[1,"ion-text-center"],["hidden","","type","file","accept","*",3,"id","change"],[1,"ion-text-end",3,"label","ngModel","placeholder","ngModelChange"],["button","",3,"disabled","click"],["button",""],[1,"additional_form","status_bar_single"],[1,"form_margin"],["id","engineppt",1,"full_screen",2,"display","flex"]],template:function(M,A){1&M&&(X.YNc(0,l,6,1,"ion-header",0),X.TgZ(1,"ion-content"),X.YNc(2,h,1,0,"div",1),X.YNc(3,s,5,2,"div",0),X.YNc(4,p,9,4,"div",0),X.YNc(5,v,12,7,"div",0),X.YNc(6,a,1,0,"div",2),X.qZA()),2&M&&(X.Q6J("ngIf",A.ToggleHeader),X.xp6(2),X.Q6J("ngIf","initPWA"==A.Status),X.xp6(1),X.Q6J("ngIf","OnPresentation"!=A.Status),X.xp6(1),X.Q6J("ngIf","initPWA"==A.Status),X.xp6(1),X.Q6J("ngIf","initApp"==A.Status),X.xp6(1),X.Q6J("ngIf","OnPresentation"==A.Status))},dependencies:[b.O5,i.Fj,i.JJ,i.On,y.oU,y.Sm,y.W2,y.Gu,y.pK,y.Ie,y.rH,y.Q$,y.wd,y.sr,y.j9,y.cs]}),$})()},2854:(nn,Et,me)=>{"use strict";me.d(Et,{x:()=>k});var H=me(5861),j=me(9461),st=me(196),X=me(9761),r=me(3641),G=me(9468),O=me(1325),f=me(9080),m=me(7488),d=me(797),y=me(3857),w=me(6052),b=me(9376),i=me(4663),l=me(6814),h=me(95);function s(M,A){if(1&M){const L=G.EpF();G.TgZ(0,"img",20),G.NdJ("click",function(){G.CHM(L);const I=G.oxw(2);return G.KtG(I.copy_startup_address())}),G.qZA()}if(2&M){const L=G.oxw(2);G.Q6J("src",L.QRCodeSRC,G.LSH)}}function c(M,A){if(1&M&&(G.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),G._uU(3),G.qZA()(),G.YNc(4,s,1,1,"img",19),G.qZA()),2&M){const L=G.oxw();G.xp6(3),G.Oqu(L.lang.text.GroupDetail.invite_scan_below),G.xp6(1),G.Q6J("ngIf",L.QRCodeSRC)}}function p(M,A){if(1&M&&(G.TgZ(0,"ion-item",21)(1,"ion-label",22),G._uU(2),G.qZA()()),2&M){const L=G.oxw();G.xp6(2),G.Oqu(L.lang.text.GroupDetail.NotAcceptYet)}}function v(M,A){if(1&M&&(G.TgZ(0,"ion-item",21)(1,"ion-label",22),G._uU(2),G.qZA()()),2&M){const L=G.oxw();G.xp6(2),G.Oqu(L.lang.text.GroupDetail.MissedGroup)}}function a(M,A){if(1&M&&(G.TgZ(0,"ion-item-divider")(1,"ion-label"),G._uU(2),G.qZA()()),2&M){const L=G.oxw();G.xp6(2),G.hij("",L.lang.text.GroupDetail.Members+" ("+L.info.users.length+"/"+L.info.max_count+")"," ")}}function g(M,A){if(1&M){const L=G.EpF();G.TgZ(0,"ion-item",6),G.NdJ("click",function(){const D=G.CHM(L).$implicit,R=G.oxw();return G.KtG(R.open_user_profile(D))}),G._UZ(1,"div",7),G.TgZ(2,"div",8),G._UZ(3,"img",9),G.qZA(),G.TgZ(4,"ion-label",10),G._uU(5),G.qZA()()}if(2&M){const L=A.$implicit,U=G.oxw();G.xp6(1),G.Akn("background-color: "+U.statusBar.colors[L.user.online?"online":"offline"]),G.xp6(2),G.Akn("filter: "+(L.user.online?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),G.Q6J("src",L.user.img,G.LSH),G.xp6(2),G.Oqu(L.user.display_name||U.lang.text.Profile.noname_user)}}function E(M,A){if(1&M){const L=G.EpF();G.TgZ(0,"ion-item",6),G.NdJ("click",function(){G.CHM(L);const I=G.oxw();return G.KtG(I.remove_group())}),G.TgZ(1,"ion-label",23),G._uU(2),G.qZA()()}if(2&M){const L=G.oxw();G.xp6(2),G.Oqu(L.lang.text.GroupDetail.BreakupGroup)}}function $(M,A){if(1&M){const L=G.EpF();G.TgZ(0,"ion-item",6),G.NdJ("click",function(){G.CHM(L);const I=G.oxw();return G.KtG(I.leave_group())}),G.TgZ(1,"ion-label",23),G._uU(2),G.qZA()()}if(2&M){const L=G.oxw();G.xp6(2),G.Oqu(L.lang.text.GroupDetail.LeaveGroup)}}let k=(()=>{var M;class A{constructor(U,I,D,R,V,N,Q,T,K){this.navParams=U,this.nakama=I,this.modalCtrl=D,this.statusBar=R,this.indexed=V,this.lang=N,this.global=Q,this.p5toast=T,this.mClipboard=K,this.has_admin=!1,this.file_sel_id="",this.imageURL_disabled=!1,this.imageURL_placeholder=this.lang.text.Profile.pasteURI,this.need_edit=!1,this.lock_modal_open=!1}ngOnInit(){var U=this;return(0,H.Z)(function*(){U.nakama.removeBanner(),U.info=U.navParams.get("info"),U.file_sel_id=`group_detail_${U.info.id}_${(new Date).getTime()}}`,U.info_orig=JSON.parse(JSON.stringify(U.navParams.get("info"))),U.nakama.socket_reactive.group_detail=U,U.QRCodeSRC=U.global.readasQRCodeFromString(`${r.Oy}pjcone_pwa/?group=${U.info.name},${U.info.id}`),U.info.server||(U.info.server=U.navParams.get("server")),U.isOfficial=U.info.server.isOfficial,U.target=U.info.server.target;try{U.has_admin=U.info.creator_id==U.nakama.servers[U.isOfficial][U.target].session.user_id}catch(I){console.log("check is admin failed: ",I),U.has_admin=!1}if(U.info.users&&U.info.users.length)for(let I=0,D=U.info.users.length;I<D;I++)U.info.users[I].is_me?(U.info.users[I].user=U.nakama.users.self,U.indexed.loadTextFromUserPath("servers/self/profile.img",(R,V)=>{R&&V&&(U.nakama.users.self.img=V.replace(/"|\\|=/g,""))})):U.info.users[I].user.id?U.info.users[I].user=U.nakama.load_other_user(U.info.users[I].user.id,U.isOfficial,U.target):U.info.users.splice(I,1)})()}update_from_notification(U){switch(U.code){case-4:case-5:this.update_GroupUsersList(U.server.isOfficial,U.server.target);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",U)}}update_GroupUsersList(U,I){this.nakama.servers[U][I].client.listGroupUsers(this.nakama.servers[U][I].session,this.info.id).then(D=>{let R=[];for(let V=0,N=D.group_users.length;V<N;V++)if(D.group_users[V].user.id==this.nakama.servers[U][I].session.user_id)R.push({state:D.group_users[V].state,user:this.nakama.users.self});else{let Q=this.nakama.load_other_user(D.group_users[V].user.id,U,I);this.nakama.save_other_user(D.group_users[V].user,U,I),R.push({state:D.group_users[V].state,user:Q})}this.info.users=R})}buttonClickInputFile(){this.has_admin&&document.getElementById(this.file_sel_id).click()}inputImageSelected(U){var I=this;return(0,H.Z)(function*(){let D=yield I.global.GetBase64ThroughFileReader(U.target.files[0]);I.nakama.limit_image_size(D,R=>{I.info.img=R.canvas.toDataURL(),I.announce_update_group_image(I.info.img)})})()}announce_update_group_image(U){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.writeStorageObjects(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,[{collection:"group_public",key:`group_${this.info.id}`,value:{img:U},permission_read:2,permission_write:1}]).then(I=>{this.indexed.saveTextFileToUserPath(JSON.stringify(U),`servers/${this.info.server.isOfficial}/${this.info.server.target}/groups/${this.info.id}.img`),this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"image"})})}imageURLPasted(){this.imageURL_disabled=!0,"DesktopPWA"==r.n$||"MobilePWA"==r.n$?X.Z.read().then(U=>{this.check_if_clipboard_available(U)}):this.mClipboard.paste().then(U=>{this.check_if_clipboard_available(U)},U=>{console.log("\ud074\ub9bd\ubcf4\ub4dc \uc790\ub8cc\ubc1b\uae30 \uc624\ub958: ",U)}),setTimeout(()=>{this.imageURL_disabled=!1},1500)}check_if_clipboard_available(U){0==U.indexOf("http")?(this.info.img=U,this.imageURL_placeholder=U,this.announce_update_group_image(U)):0==U.indexOf("data:image")?this.nakama.limit_image_size(U,I=>{this.info.img=I.canvas.toDataURL(),this.announce_update_group_image(this.info.img)}):this.p5toast.show({text:this.lang.text.Profile.copyURIFirst})}remove_group(){this.need_edit=!1;try{if(this.nakama.servers[this.info.server.isOfficial][this.info.server.target]){if(this.info.creator_id!=this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session.user_id)throw this.lang.text.GroupDetail.YouAreNotCreator;"online"==this.info.status?this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"remove"}).then(U=>{this.after_remove_group()}):this.after_remove_group()}else this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}catch(U){console.log("remove_group: ",U),this.p5toast.show({text:U})}}after_remove_group(){this.leave_channel(),this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}edit_group(){"online"==this.statusBar.groupServer[this.info.server.isOfficial][this.info.server.target]&&"missing"!=this.info.status&&this.has_admin&&this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.updateGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id,{name:this.info.name,lang_tag:this.info.lang_tag,description:this.info.description,open:this.info.open}).then(U=>{this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"info",name:this.info.name})}),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id]=this.info,this.nakama.save_groups_with_less_info()}open_user_profile(U){this.lock_modal_open||(this.lock_modal_open=!0,U.is_me?this.modalCtrl.create({component:st.Y}).then(I=>{I.present(),this.lock_modal_open=!1}):this.modalCtrl.create({component:j.r,componentProps:{info:U,group:this.info,has_admin:this.has_admin}}).then(I=>{I.onDidDismiss().then(D=>{if(D.data){if(D.data.id)for(let R=0,V=this.info.users.length;R<V;R++)if(this.info.users[R].user.id==D.data.id){switch(D.data.act){case"accept_join":this.info.users[R].status="online";break;case"kick":this.info.users.splice(R,1);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc0c1\ub300\ubc29 \uc815\ubcf4: ",D)}break}D.data.dismiss&&this.modalCtrl.dismiss()}}),I.present(),this.lock_modal_open=!1}))}leave_group(){this.need_edit=!1,"online"==this.info.status?this.after_leave_group(()=>{this.leave_channel(),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))}):"pending"==this.info.status&&this.after_leave_group(()=>{this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))})}after_leave_group(U=(()=>console.warn("after_leave_group_announce Func Null"))){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.leaveGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id).then(I=>{I&&U(),this.nakama.remove_channel_files(this.info.server.isOfficial,this.info.server.target,this.info.channel_id)})}leave_channel(){this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target]&&this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id]&&"missing"!=this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status&&(delete this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].img,this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status="missing",delete this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].info),this.nakama.save_channels_with_less_info()}copy_id(){this.mClipboard.copy(this.info.id).catch(U=>X.Z.write(this.info.id))}copy_startup_address(){let U=`https://is2you2.github.io/pjcone_pwa/?group=${this.info.name},${this.info.id}&open_subscribes=true`;this.mClipboard.copy(U).catch(I=>X.Z.write(U))}ionViewWillLeave(){delete this.nakama.socket_reactive.group_detail,this.need_edit=this.info.description!=this.info_orig.description,this.need_edit&&this.edit_group()}ngOnDestroy(){delete this.nakama.users.self.img}}return(M=A).\u0275fac=function(U){return new(U||M)(G.Y36(O.X1),G.Y36(f.a),G.Y36(O.IN),G.Y36(m.g),G.Y36(d.H),G.Y36(y.b),G.Y36(w.AN),G.Y36(b.F),G.Y36(i.T))},M.\u0275cmp=G.Xpm({type:M,selectors:[["app-group-detail"]],decls:39,vars:24,consts:[["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["color","warning",4,"ngIf"],[3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],["button","",3,"click"],[1,"additional_form","status_bar_single"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],[1,"form_margin"],[1,"server_target"],[1,"form_margin","content"],[3,"disabled","click"],["color","medium"],["hidden","","type","file","accept","image/*",3,"id","change"],[1,"infobox",3,"disabled","ngModel","placeholder","ngModelChange"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["alt","Loading",2,"width","100%","height","auto",3,"src","click"],["color","warning"],[1,"ion-text-center"],["color","danger",1,"ion-text-center"]],template:function(U,I){1&U&&(G.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),G._uU(3),G.qZA(),G.TgZ(4,"ion-buttons",0),G.NdJ("click",function(){return I.modalCtrl.dismiss()}),G._UZ(5,"ion-back-button",1),G.qZA()()(),G.TgZ(6,"ion-content"),G.YNc(7,c,5,2,"div",2),G.YNc(8,p,3,1,"ion-item",3),G.YNc(9,v,3,1,"ion-item",3),G.TgZ(10,"ion-item",4),G.NdJ("click",function(){return I.copy_id()}),G.TgZ(11,"ion-label",5),G._uU(12),G.qZA()(),G.TgZ(13,"ion-item",6),G.NdJ("click",function(){return I.buttonClickInputFile()}),G._UZ(14,"div",7),G.TgZ(15,"div",8),G._UZ(16,"img",9),G.qZA(),G.TgZ(17,"ion-label",10)(18,"div")(19,"table")(20,"tr")(21,"td"),G._uU(22),G.qZA(),G.TgZ(23,"td",11),G._uU(24),G.qZA()()()(),G.TgZ(25,"div",12),G._uU(26),G.qZA()()(),G.TgZ(27,"ion-item",13),G.NdJ("click",function(){return I.imageURLPasted()}),G.TgZ(28,"ion-label",14),G._uU(29),G.qZA()(),G.TgZ(30,"input",15),G.NdJ("change",function(R){return I.inputImageSelected(R)}),G.qZA(),G.TgZ(31,"ion-item-divider")(32,"ion-label"),G._uU(33),G.qZA()(),G.TgZ(34,"textarea",16),G.NdJ("ngModelChange",function(R){return I.info.description=R}),G.qZA(),G.YNc(35,a,3,1,"ion-item-divider",2),G.YNc(36,g,6,6,"ion-item",17),G.YNc(37,E,3,1,"ion-item",18),G.YNc(38,$,3,1,"ion-item",18),G.qZA()),2&U&&(G.xp6(3),G.Oqu(I.lang.text.GroupDetail.Title),G.xp6(4),G.Q6J("ngIf","missing"!=I.info.status),G.xp6(1),G.Q6J("ngIf","pending"==I.info.status),G.xp6(1),G.Q6J("ngIf","missing"==I.info.status),G.xp6(3),G.Oqu(I.info.id),G.xp6(2),G.Akn("background-color: "+I.statusBar.colors[I.info.status||"offline"]),G.xp6(2),G.Akn("filter: "+("online"==I.info.status?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),G.Q6J("src",I.info.img,G.LSH),G.xp6(6),G.hij(" ",I.info.name||I.info.title||I.info.display_name," "),G.xp6(2),G.hij(" ","("+(I.info.server.name||I.info.server.target)+")"," "),G.xp6(2),G.hij(" ",I.lang.text.AddGroup.ClicktoChangeGroupImg," "),G.xp6(1),G.Q6J("disabled",I.imageURL_disabled),G.xp6(2),G.Oqu(I.imageURL_placeholder),G.xp6(1),G.Q6J("id",I.file_sel_id),G.xp6(3),G.Oqu(I.lang.text.AddGroup.GroupDetail_placeholder),G.xp6(1),G.Q6J("disabled",!I.has_admin)("ngModel",I.info.description)("placeholder",I.lang.text.GroupDetail.NoDetailGroup),G.xp6(1),G.Q6J("ngIf",I.info.users&&I.info.users.length),G.xp6(1),G.Q6J("ngForOf",I.info.users),G.xp6(1),G.Q6J("ngIf",("online"==I.info.status||"pending"==I.info.status)&&I.has_admin),G.xp6(1),G.Q6J("ngIf",("online"==I.info.status||"pending"==I.info.status)&&!I.has_admin))},dependencies:[l.sg,l.O5,h.Fj,h.JJ,h.On,O.oU,O.Sm,O.W2,O.Gu,O.Ie,O.rH,O.Q$,O.wd,O.sr,O.cs],styles:[".content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle}.server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}"]}),A})()},196:(nn,Et,me)=>{"use strict";me.d(Et,{Y:()=>A});var H=me(5861),j=me(9080),st=me(3499),X=me(9761),r=me(3641),G=me(9868),f=me(9468),m=me(9376),d=me(7488),y=me(797),w=me(3857),b=me(1325),i=me(6052),l=me(4663),h=me(6814),s=me(95);const c=["ToggleOnline"],p=["RegisterNewServer"];function v(L,U){if(1&L){const I=f.EpF();f.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),f._uU(3),f.qZA()(),f.TgZ(4,"ion-item")(5,"ion-input",20),f.NdJ("ngModelChange",function(R){f.CHM(I);const V=f.oxw();return f.KtG(V.nakama.users.self.email=R)})("ionChange",function(){f.CHM(I);const R=f.oxw();return f.KtG(R.email_modified())}),f.qZA()(),f.TgZ(6,"ion-item")(7,"ion-input",21),f.NdJ("ngModelChange",function(R){f.CHM(I);const V=f.oxw();return f.KtG(V.nakama.users.self.password=R)}),f.qZA()()()}if(2&L){const I=f.oxw();f.xp6(3),f.Oqu(I.lang.text.Profile.login_info),f.xp6(2),f.Q6J("label",I.lang.text.Profile.email_address)("ngModel",I.nakama.users.self.email)("placeholder","test@example.com"),f.xp6(2),f.Q6J("label",I.lang.text.Profile.password)("ngModel",I.nakama.users.self.password)("placeholder",I.lang.text.Profile.at_least)}}function a(L,U){if(1&L){const I=f.EpF();f.TgZ(0,"ion-item")(1,"ion-input",22),f.NdJ("ngModelChange",function(R){f.CHM(I);const V=f.oxw();return f.KtG(V.nakama.users.self.display_name=R)}),f.qZA()()}if(2&L){const I=f.oxw();f.xp6(1),f.Q6J("label",I.lang.text.Profile.user_display_name)("ngModel",I.nakama.users.self.display_name)("placeholder",I.lang.text.Profile.name_placeholder)}}function g(L,U){if(1&L&&(f.TgZ(0,"ion-item-divider")(1,"ion-label"),f._uU(2),f.qZA()()),2&L){const I=f.oxw(2);f.xp6(2),f.Oqu(I.lang.text.GroupServer.JoinedServerList)}}function E(L,U){if(1&L){const I=f.EpF();f.TgZ(0,"ion-item",24),f.NdJ("click",function(){const V=f.CHM(I).$implicit,N=f.oxw(2);return f.KtG(N.link_group(V.isOfficial,V.target))}),f._UZ(1,"div",28),f.TgZ(2,"ion-label",29)(3,"h2"),f._uU(4),f.qZA(),f.TgZ(5,"p"),f._uU(6),f.qZA()(),f.TgZ(7,"ion-button",30),f.NdJ("click",function(){const V=f.CHM(I).$implicit,N=f.oxw(2);return f.KtG(N.view_detail(V))}),f._uU(8),f.qZA(),f.TgZ(9,"ion-button",30),f.NdJ("click",function(){const V=f.CHM(I).$implicit,N=f.oxw(2);return f.KtG(N.remove_server(V.isOfficial,V.target))}),f._uU(10),f.qZA()()}if(2&L){const I=U.$implicit,D=f.oxw(2);f.xp6(1),f.Akn("background-color: "+D.statusBar.colors[D.statusBar.groupServer[I.isOfficial][I.target]||"offline"]),f.xp6(3),f.Oqu(I.name),f.xp6(2),f.AsE("",I.target," (",I.address,")"),f.xp6(2),f.hij(" ",D.lang.text.GroupServer.ServerDetail," "),f.xp6(2),f.hij(" ","online"==D.statusBar.groupServer[I.isOfficial][I.target]?D.lang.text.GroupServer.RemoveAccount:D.lang.text.GroupServer.RemoveUnofficial," ")}}function $(L,U){if(1&L){const I=f.EpF();f.TgZ(0,"ion-content")(1,"ion-item")(2,"ion-label",25),f._uU(3),f.qZA()(),f.TgZ(4,"ion-item",31)(5,"ion-input",22),f.NdJ("ngModelChange",function(R){f.CHM(I);const V=f.oxw(2);return f.KtG(V.dedicated_info.name=R)}),f.qZA()(),f.TgZ(6,"ion-item",31)(7,"ion-input",22),f.NdJ("ngModelChange",function(R){f.CHM(I);const V=f.oxw(2);return f.KtG(V.dedicated_info.target=R)}),f.qZA()(),f.TgZ(8,"ion-item",31)(9,"ion-input",32),f.NdJ("ngModelChange",function(R){f.CHM(I);const V=f.oxw(2);return f.KtG(V.dedicated_info.address=R)}),f.qZA()(),f.TgZ(10,"ion-item",31)(11,"ion-input",33),f.NdJ("ngModelChange",function(R){f.CHM(I);const V=f.oxw(2);return f.KtG(V.dedicated_info.key=R)}),f.qZA()(),f.TgZ(12,"ion-item",31)(13,"ion-input",34),f.NdJ("ngModelChange",function(R){f.CHM(I);const V=f.oxw(2);return f.KtG(V.dedicated_info.port=R)}),f.qZA()(),f.TgZ(14,"ion-item",35),f.NdJ("click",function(){f.CHM(I);const R=f.oxw(2);return f.KtG(R.dedicated_info.useSSL=!R.dedicated_info.useSSL)}),f.TgZ(15,"ion-toggle",36),f.NdJ("ngModelChange",function(R){f.CHM(I);const V=f.oxw(2);return f.KtG(V.dedicated_info.useSSL=R)}),f._uU(16),f.qZA()(),f.TgZ(17,"ion-item",35),f.NdJ("click",function(){f.CHM(I);const R=f.oxw(2);return f.KtG(R.add_custom_dedicated())}),f.TgZ(18,"ion-label",25),f._uU(19),f.qZA()()()}if(2&L){const I=f.oxw(2);f.xp6(3),f.Oqu(I.lang.text.GroupServer.RegisterServer),f.xp6(1),f.Q6J("disabled",I.add_custom_tog),f.xp6(1),f.Q6J("label",I.lang.text.GroupServer.DisplayName)("ngModel",I.dedicated_info.name)("placeholder",I.lang.text.GroupServer.DisplayName_placeholder),f.xp6(1),f.Q6J("disabled",I.add_custom_tog),f.xp6(1),f.Q6J("label",I.lang.text.GroupServer.DivisionName)("ngModel",I.dedicated_info.target)("placeholder",I.dedicated_info.name||I.lang.text.GroupServer.DivisionName_placeholder),f.xp6(1),f.Q6J("disabled",I.add_custom_tog),f.xp6(1),f.Q6J("label",I.lang.text.GroupServer.Address)("ngModel",I.dedicated_info.address),f.xp6(1),f.Q6J("disabled",I.add_custom_tog),f.xp6(1),f.Q6J("label",I.lang.text.GroupServer.Key)("ngModel",I.dedicated_info.key),f.xp6(1),f.Q6J("disabled",I.add_custom_tog),f.xp6(1),f.Q6J("label",I.lang.text.GroupServer.Port)("ngModel",I.dedicated_info.port),f.xp6(1),f.Q6J("disabled",I.add_custom_tog||I.isSSLConnect),f.xp6(1),f.Q6J("ngModel",I.dedicated_info.useSSL),f.xp6(1),f.Oqu(I.lang.text.GroupServer.isSSL),f.xp6(1),f.Q6J("disabled",I.add_custom_tog),f.xp6(2),f.Oqu(I.lang.text.GroupServer.submit)}}const k=function(){return[.6,.7,.8,.9,1]};function M(L,U){if(1&L){const I=f.EpF();f.TgZ(0,"div"),f.YNc(1,g,3,1,"ion-item-divider",10),f.YNc(2,E,11,7,"ion-item",23),f.TgZ(3,"ion-item",24),f.NdJ("click",function(){f.CHM(I);const R=f.oxw();return f.KtG(R.OpenNewServerForm())}),f.TgZ(4,"ion-label",25),f._uU(5),f.qZA()(),f.TgZ(6,"ion-modal",26,27),f.YNc(8,$,20,23,"ng-template"),f.qZA()()}if(2&L){const I=f.oxw();f.xp6(1),f.Q6J("ngIf",I.nakama.servers.official.default||I.servers.length),f.xp6(1),f.Q6J("ngForOf",I.servers),f.xp6(3),f.Oqu(I.lang.text.GroupServer.RegisterServer),f.xp6(1),f.Q6J("initialBreakpoint",.6)("breakpoints",f.DdM(5,k))}}let A=(()=>{var L;class U{constructor(D,R,V,N,Q,T,K,se,fe){this.nakama=D,this.p5toast=R,this.statusBar=V,this.indexed=N,this.lang=Q,this.modalCtrl=T,this.global=K,this.loadingCtrl=se,this.mClipboard=fe,this.isSSLConnect=!1,this.dedicated_info={name:void 0,address:void 0,target:void 0,port:void 0,useSSL:void 0,isOfficial:void 0,key:void 0},this.add_custom_tog=!1,this.isOverrideButtonPressed=!1,this.announce_update_profile=!0,this.original_profile={},this.file_sel_id="",this.content_sel_id="",this.can_auto_modified=!1,this.imageURL_disabled=!1}ngOnInit(){this.servers=this.nakama.get_all_server_info(!0),this.isSSLConnect="https:"==window.location.protocol,this.isSSLConnect&&(this.dedicated_info.useSSL=!0),this.nakama.removeBanner(),this.file_sel_id=`self_profile_${(new Date).getTime()}`,this.content_sel_id=`self_content_${(new Date).getTime()}`,this.original_profile=JSON.parse(JSON.stringify(this.nakama.users.self)),this.nakama.users.self.img||this.indexed.loadTextFromUserPath("servers/self/profile.img",(R,V)=>{R&&V&&(this.nakama.users.self.img=V.replace(/"|\\|=/g,""))}),this.nakama.socket_reactive.profile=R=>{this.change_img_smoothly(R)},setTimeout(()=>{this.check_user_content()},150),this.nakama.socket_reactive.self_profile_content_update=()=>{this.update_content_from_server()},this.p5canvas=new G(R=>{let V=document.getElementById("profile_img"),N=document.getElementById("profile_tmp_img");R.setup=()=>{R.noCanvas()},R.draw=()=>{this.nakama.users.self.online?this.lerpVal<1?this.lerpVal+=.025:(this.lerpVal=1,R.noLoop()):this.lerpVal>0?this.lerpVal-=.025:(this.lerpVal=0,R.noLoop()),V.setAttribute("style",`filter: grayscale(${R.lerp(.9,0,this.lerpVal)}) contrast(${R.lerp(1.4,1,this.lerpVal)});`),N.setAttribute("style",`filter: grayscale(${R.lerp(.9,0,this.lerpVal)}) contrast(${R.lerp(1.4,1,this.lerpVal)});`)}}),this.announce_update_profile=void 0!==this.original_profile.display_name}link_group(D,R){this.isOverrideButtonPressed?this.isOverrideButtonPressed=!1:this.nakama.link_group(D,R)}add_custom_dedicated(){if(!this.add_custom_tog){if(!this.dedicated_info.name)return void this.p5toast.show({text:this.lang.text.GroupServer.NeedSetDIsplayName});this.add_custom_tog=!0,this.dedicated_info.port=this.dedicated_info.port||7350,this.isSSLConnect&&(this.dedicated_info.useSSL=!0),this.dedicated_info.useSSL=this.dedicated_info.useSSL||!1,this.dedicated_info.key=this.dedicated_info.key||"defaultkey",this.nakama.add_group_server(this.dedicated_info,()=>{this.servers=this.nakama.get_all_server_info(!0),this.link_group(this.dedicated_info.isOfficial,this.dedicated_info.target),this.dedicated_info.name=void 0,this.dedicated_info.address=void 0,this.dedicated_info.target=void 0,this.dedicated_info.port=void 0,this.dedicated_info.useSSL=void 0,this.isSSLConnect&&(this.dedicated_info.useSSL=!0),this.dedicated_info.isOfficial=void 0}),this.RegisterNewServer.dismiss(),setTimeout(()=>{this.add_custom_tog=!1},1e3)}}view_detail(D){this.isOverrideButtonPressed=!0,this.modalCtrl.create({component:st.P,componentProps:{data:D}}).then(R=>{R.onWillDismiss().then(V=>this.servers=this.nakama.get_all_server_info(!0)),R.present()})}remove_server(D,R){var V=this;return(0,H.Z)(function*(){V.isOverrideButtonPressed=!0,yield V.nakama.remove_server(D,R),V.servers=V.nakama.get_all_server_info(!0)})()}ionViewWillLeave(){var D=this;return(0,H.Z)(function*(){D.nakama.on_socket_disconnected.group_unlink_by_user&&delete D.nakama.on_socket_disconnected.group_unlink_by_user,delete D.nakama.socket_reactive.profile,delete D.nakama.socket_reactive.self_profile_content_update;let R=Object.keys(D.nakama.users.self),V=!1;for(let N=0,Q=R.length;N<Q;N++)if("img"!=R[N]&&D.nakama.users.self[R[N]]!=D.original_profile[R[N]]){V=!0;break}if(D.nakama.users.self.img=D.tmp_img||D.nakama.users.self.img,V){let N=D.nakama.get_all_online_server();for(let Q=0,T=N.length;Q<T;Q++){let K=!1;if(D.nakama.users.self.display_name!=D.original_profile.display_name&&(yield N[Q].client.updateAccount(N[Q].session,{display_name:D.nakama.users.self.display_name}).then(function(){var se=(0,H.Z)(function*(fe){K=!0;try{yield N[Q].socket.sendMatchState(D.nakama.self_match[N[Q].info.isOfficial][N[Q].info.target].match_id,j.B.EDIT_PROFILE,encodeURIComponent("info"))}catch{}});return function(fe){return se.apply(this,arguments)}}())),K&&D.nakama.channels_orig[N[Q].info.isOfficial][N[Q].info.target]){let se=Object.keys(D.nakama.channels_orig[N[Q].info.isOfficial][N[Q].info.target]);se&&se.forEach(fe=>{D.announce_update_profile&&N[Q].socket.writeChatMessage(fe,{user_update:"modify_data",noti_form:D.original_profile.display_name==D.nakama.users.self.display_name?`: ${D.original_profile.display_name}`:`: ${D.original_profile.display_name} -> ${D.nakama.users.self.display_name}`})})}}D.nakama.save_self_profile()}D.p5canvas.remove()})()}check_user_content(){var D=this;return(0,H.Z)(function*(){try{if(!(yield D.indexed.checkIfFileExist("servers/self/content.pck")))throw"\ub85c\uceec\uc5d0 \uc900\ube44\ub41c \ud30c\uc77c \uc5c6\uc74c";yield D.global.CreateGodotIFrame("my_content",{title:"ViewerEx",ext:"pck",local_url:"assets/data/godot/viewer.pck",path:"servers/self/content.pck",force_logo:!0})}catch(R){console.log("check_user_content: ",R),D.update_content_from_server()}})()}update_content_from_server(){var D=this;return(0,H.Z)(function*(){let R={path:"servers/self/content.pck"},V=D.nakama.get_all_online_server(),N=!1;for(let Q=0,T=V.length;Q<T;Q++)try{N=!!(yield D.nakama.sync_load_file(R,V[Q].info.isOfficial,V[Q].info.target,"user_public",V[Q].session.user_id,"main_content"));break}catch(K){console.log("update_content_from_server: ",K);continue}N&&(D.global.last_frame_name="content_update",D.global.godot.remove(),yield D.global.CreateGodotIFrame("my_content",{title:"ViewerEx",ext:"pck",local_url:"assets/data/godot/viewer.pck",path:"servers/self/content.pck",force_logo:!0}))})()}change_content(){document.getElementById(this.content_sel_id).click()}inputFileSelected(D){var R=this;return(0,H.Z)(function*(){if(D.target.files.length){R.global.last_frame_name="content_update",R.global.godot.remove();let V={};if(V.filename=D.target.files[0].name,V.file_ext=D.target.files[0].name.split(".").pop()||D.target.files[0].type||R.lang.text.ChatRoom.unknown_ext,"pck"!=V.file_ext)return void R.p5toast.show({text:R.lang.text.EngineWorksPPT.FileExtPck});V.size=D.target.files[0].size,V.type=D.target.files[0].type,V.typeheader=D.target.files[0].type.split("/")[0];let N=yield R.loadingCtrl.create({message:R.lang.text.TodoDetail.WIP});V.blob=D.target.files[0],V.path="servers/self/content.pck",N.present();let Q=R.nakama.get_all_online_server();if(Q.length)for(let T=0,K=Q.length;T<K;T++)try{yield R.nakama.sync_save_file(V,Q[T].info.isOfficial,Q[T].info.target,"user_public","main_content"),yield Q[T].socket.sendMatchState(R.nakama.self_match[Q[T].info.isOfficial][Q[T].info.target].match_id,j.B.EDIT_PROFILE,encodeURIComponent("content"));let se=Object.keys(R.nakama.channels_orig[Q[T].info.isOfficial][Q[T].info.target]);se&&se.forEach(fe=>{R.announce_update_profile&&Q[T].socket.writeChatMessage(fe,{user_update:"modify_content",noti_form:`: ${R.original_profile.display_name}`})})}catch(se){console.log("inputFileSelected: ",se);continue}else yield R.indexed.saveBlobToUserPath(D.target.files[0],V.path);N.dismiss(),yield R.global.CreateGodotIFrame("my_content",{title:"ViewerEx",ext:"pck",local_url:"assets/data/godot/viewer.pck",path:"servers/self/content.pck",force_logo:!0})}})()}remove_content(){var D=this;return(0,H.Z)(function*(){yield D.indexed.removeFileFromUserPath("servers/self/content.pck");let N,R=D.nakama.get_all_online_server(),V=R.length;V&&(N=yield D.loadingCtrl.create({message:D.lang.text.TodoDetail.WIP}),N.present());for(let Q=0,T=R.length;Q<T;Q++){try{let se=(yield R[Q].client.readStorageObjects(R[Q].session,{object_ids:[{collection:"user_public",key:"main_content",user_id:R[Q].session.user_id}]})).objects[0].value;for(let fe=0,Ie=se.partsize;fe<Ie;fe++)yield R[Q].client.deleteStorageObjects(R[Q].session,{object_ids:[{collection:"user_public",key:`main_content_${fe}`}]});yield R[Q].client.deleteStorageObjects(R[Q].session,{object_ids:[{collection:"user_public",key:"main_content"}]})}catch(K){console.log("remove_content: ",K)}try{let K=Object.keys(D.nakama.channels_orig[R[Q].info.isOfficial][R[Q].info.target]);K.length&&K.forEach(se=>{"missing"!=D.nakama.channels_orig[R[Q].info.isOfficial][R[Q].info.target][se].status&&D.announce_update_profile&&R[Q].socket.writeChatMessage(se,{user_update:"remove_content",noti_form:`: ${D.original_profile.display_name}`})})}catch(K){console.log("\ubcc0\uacbd\uc744 \uc54c\ub9b4 \ucc44\ub110 \uc5c6\uc74c: ",K)}yield R[Q].socket.sendMatchState(D.nakama.self_match[R[Q].info.isOfficial][R[Q].info.target].match_id,j.B.EDIT_PROFILE,encodeURIComponent("content"))}D.global.last_frame_name="content_removed",D.global.godot.remove(),V&&N.dismiss()})()}change_img_smoothly(D){new G(R=>{let V=document.getElementById("profile_tmp_img"),N=document.getElementById(this.file_sel_id),T=0;R.setup=()=>{R.noCanvas(),N.value="",V.setAttribute("style",`filter: grayscale(${this.nakama.users.self.online?0:.9}) contrast(${this.nakama.users.self.online?1:1.4}) opacity(${T})`),this.tmp_img=D},R.draw=()=>{T<1?T+=.035:(T=1,this.nakama.users.self.img=this.tmp_img,this.sync_to_all_server(),R.remove()),V.setAttribute("style",`filter: grayscale(${this.nakama.users.self.online?0:.9}) contrast(${this.nakama.users.self.online?1:1.4}) opacity(${T})`)}})}sync_to_all_server(){var D=this;let R=this.nakama.get_all_online_server();this.nakama.save_self_profile(),this.indexed.saveTextFileToUserPath(JSON.stringify(this.nakama.users.self.img),"servers/self/profile.img"),this.tmp_img="";for(let V=0,N=R.length;V<N;V++)R[V].client.writeStorageObjects(R[V].session,[{collection:"user_public",key:"profile_image",value:{img:this.nakama.users.self.img},permission_read:2,permission_write:1}]).then(function(){var Q=(0,H.Z)(function*(T){try{yield R[V].socket.sendMatchState(D.nakama.self_match[R[V].info.isOfficial][R[V].info.target].match_id,j.B.EDIT_PROFILE,encodeURIComponent("image"))}catch{}yield R[V].client.updateAccount(R[V].session,{avatar_url:T.acks[0].version}),D.nakama.rearrange_channels().forEach(function(){var se=(0,H.Z)(function*(fe){D.announce_update_profile&&(yield R[V].socket.writeChatMessage(fe.id,{user_update:"modify_img",noti_form:`: ${D.original_profile.display_name}`}))});return function(fe){return se.apply(this,arguments)}}())});return function(T){return Q.apply(this,arguments)}}()).catch(Q=>{console.error("inputImageSelected_err: ",Q)})}change_img_from_file(){document.getElementById(this.file_sel_id).click()}inputImageSelected(D){var R=this;return(0,H.Z)(function*(){let V=setInterval(()=>{},110);setTimeout(()=>{clearInterval(V)},1500);let N=yield R.global.GetBase64ThroughFileReader(D.target.files[0]);R.nakama.limit_image_size(N,Q=>{R.change_img_smoothly(Q.canvas.toDataURL())})})()}ionViewDidEnter(){this.can_auto_modified=!0}email_modified(){this.can_auto_modified&&(this.nakama.users.self.online&&this.toggle_online(),this.nakama.users.self.online=!1,delete this.nakama.users.self.password)}toggle_online(){var D=this;return(0,H.Z)(function*(){if(D.nakama.users.self.online=D.ToggleOnline.checked,D.ToggleOnline.checked){D.announce_update_profile=!1;try{if(!D.nakama.users.self.email)throw D.p5toast.show({text:D.lang.text.Profile.need_email}),"\uc774\uba54\uc77c \uacf5\ubc31";if(!D.nakama.users.self.password)throw D.p5toast.show({text:D.lang.text.Profile.need_password}),"\ube44\ubc00\ubc88\ud638 \uacf5\ubc31";D.nakama.save_self_profile(),D.nakama.init_all_sessions()}catch{D.nakama.users.self.online=!1,D.ToggleOnline.checked=!1}}else yield D.nakama.logout_all_server(),delete D.nakama.users.self.password,delete D.nakama.users.self.display_name,D.nakama.groups={official:{},unofficial:{}},D.nakama.channels_orig={official:{},unofficial:{}},D.nakama.save_groups_with_less_info(),D.nakama.rearrange_channels(),D.change_img_smoothly("");D.p5canvas.loop()})()}imageURLPasted(){this.imageURL_disabled=!0,"DesktopPWA"==r.n$||"MobilePWA"==r.n$?X.Z.read().then(D=>{this.check_if_clipboard_available(D)}):this.mClipboard.paste().then(D=>{this.check_if_clipboard_available(D)},D=>{console.log("\ud074\ub9bd\ubcf4\ub4dc \uc790\ub8cc\ubc1b\uae30 \uc624\ub958: ",D)}),setTimeout(()=>{this.imageURL_disabled=!1},1500)}check_if_clipboard_available(D){0==D.indexOf("http")?this.change_img_smoothly(D):0==D.indexOf("data:image")?this.nakama.limit_image_size(D,R=>this.change_img_smoothly(R.canvas.toDataURL())):(this.p5toast.show({text:this.lang.text.Profile.copyURIFirst}),this.change_img_smoothly(""))}OpenNewServerForm(){this.RegisterNewServer.present()}go_back(){"GroupServerPageModule"!=this.modalCtrl.injector.source&&this.modalCtrl.dismiss()}}return(L=U).\u0275fac=function(D){return new(D||L)(f.Y36(j.a),f.Y36(m.F),f.Y36(d.g),f.Y36(y.H),f.Y36(w.b),f.Y36(b.IN),f.Y36(i.AN),f.Y36(b.HT),f.Y36(l.T))},L.\u0275cmp=f.Xpm({type:L,selectors:[["app-group-server"]],viewQuery:function(D,R){if(1&D&&(f.Gf(c,5),f.Gf(p,5)),2&D){let V;f.iGM(V=f.CRH())&&(R.ToggleOnline=V.first),f.iGM(V=f.CRH())&&(R.RegisterNewServer=V.first)}},decls:34,vars:21,consts:[["slot","start",3,"click"],["defaultHref",""],[1,"profile_img_form"],["id","profile_img",1,"profile_img",3,"hidden","src","alt"],["id","profile_tmp_img",1,"profile_img",3,"hidden","src","alt"],[1,"fore-gradient",3,"click"],["hidden","","type","file","accept","image/*",3,"id","change"],[1,"username"],[3,"disabled","click"],["color","medium"],[4,"ngIf"],["button",""],[2,"pointer-events","none",3,"ngModel","ngModelChange","ionChange"],["ToggleOnline",""],[2,"width","100%"],[1,"ion-text-end",2,"padding-right","4px",3,"click"],[1,"ion-text-end",2,"padding-right","8px",3,"click"],["hidden","","type","file","accept","*",3,"id","change"],[1,"content_size",3,"hidden"],["id","my_content",1,"full_screen",2,"display","flex"],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange","ionChange"],["type","password",1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"ion-text-center"],[3,"initialBreakpoint","breakpoints"],["RegisterNewServer",""],[1,"additional_form","status_bar_single"],[1,"form_margin"],[3,"click"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["type","number","placeholder","7350",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"disabled","click"],[2,"pointer-events","none",3,"ngModel","ngModelChange"]],template:function(D,R){1&D&&(f.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),f._uU(3),f.qZA(),f.TgZ(4,"ion-buttons",0),f.NdJ("click",function(){return R.go_back()}),f._UZ(5,"ion-back-button",1),f.qZA()()(),f.TgZ(6,"ion-content")(7,"div",2),f._UZ(8,"img",3)(9,"img",4),f.TgZ(10,"div",5),f.NdJ("click",function(){return R.change_img_from_file()}),f.qZA(),f.TgZ(11,"input",6),f.NdJ("change",function(N){return R.inputImageSelected(N)}),f.qZA(),f.TgZ(12,"div",7),f._uU(13),f.qZA()(),f.TgZ(14,"ion-item",8),f.NdJ("click",function(){return R.imageURLPasted()}),f.TgZ(15,"ion-label",9),f._uU(16),f.qZA()(),f.YNc(17,v,8,7,"div",10),f.YNc(18,a,2,3,"ion-item",10),f.TgZ(19,"ion-item",11)(20,"ion-toggle",12,13),f.NdJ("ngModelChange",function(N){return R.nakama.users.self.online=N})("ionChange",function(){return R.toggle_online()}),f._uU(22),f.qZA()(),f.TgZ(23,"ion-item-divider")(24,"ion-label",14),f._uU(25),f.qZA(),f.TgZ(26,"ion-button",15),f.NdJ("click",function(){return R.change_content()}),f._uU(27),f.qZA(),f.TgZ(28,"ion-button",16),f.NdJ("click",function(){return R.remove_content()}),f._uU(29),f.qZA(),f.TgZ(30,"input",17),f.NdJ("change",function(N){return R.inputFileSelected(N)}),f.qZA()(),f.TgZ(31,"div",18),f._UZ(32,"div",19),f.qZA(),f.YNc(33,M,9,6,"div",10),f.qZA()),2&D&&(f.xp6(3),f.Oqu(R.lang.text.Settings.groupServer),f.xp6(5),f.Q6J("hidden",!R.nakama.users.self.img)("src",R.nakama.users.self.img,f.LSH)("alt",R.lang.text.Profile.img_alt),f.xp6(1),f.Q6J("hidden",!R.tmp_img)("src",R.tmp_img,f.LSH)("alt",R.lang.text.Profile.img_alt),f.xp6(2),f.Q6J("id",R.file_sel_id),f.xp6(2),f.Oqu(R.nakama.users.self.display_name||R.lang.text.Profile.noname_user),f.xp6(1),f.Q6J("disabled",R.imageURL_disabled),f.xp6(2),f.Oqu(R.lang.text.Profile.pasteURI),f.xp6(1),f.Q6J("ngIf",!R.nakama.users.self.online),f.xp6(1),f.Q6J("ngIf",R.nakama.users.self.online),f.xp6(2),f.Q6J("ngModel",R.nakama.users.self.online),f.xp6(2),f.Oqu(R.lang.text.Profile.login_toggle),f.xp6(3),f.Oqu(R.lang.text.Profile.main_content),f.xp6(2),f.hij(" ",R.lang.text.Profile.upload," "),f.xp6(2),f.hij(" ",R.lang.text.Profile.remove_content," "),f.xp6(1),f.Q6J("id",R.content_sel_id),f.xp6(1),f.Q6J("hidden","my_content"!=R.global.last_frame_name),f.xp6(2),f.Q6J("ngIf",R.nakama.users.self.online))},dependencies:[h.sg,h.O5,s.JJ,s.On,b.oU,b.YG,b.Sm,b.W2,b.Gu,b.pK,b.Ie,b.rH,b.Q$,b.wd,b.ho,b.sr,b.ki,b.w,b.as,b.j9,b.cs],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,black,rgba(0,0,0,0));width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),U})()},3499:(nn,Et,me)=>{"use strict";me.d(Et,{P:()=>s});var H=me(5861),j=me(9761),st=me(3641),X=me(9468),r=me(1325),G=me(3857),O=me(9376),f=me(7488),m=me(797),d=me(9080),y=me(6052),w=me(4663),b=me(6814),i=me(95);const l=["ServerDetailuseSSL"];function h(c,p){if(1&c){const v=X.EpF();X.TgZ(0,"img",17),X.NdJ("click",function(){X.CHM(v);const g=X.oxw();return X.KtG(g.copy_startup_address())}),X.qZA()}if(2&c){const v=X.oxw();X.Q6J("src",v.QRCodeSRC,X.LSH)}}let s=(()=>{var c;class p{constructor(a,g,E,$,k,M,A,L,U,I){this.modalCtrl=a,this.navParams=g,this.lang=E,this.p5toast=$,this.statusBar=k,this.indexed=M,this.nakama=A,this.global=L,this.mClipboard=U,this.alertCtrl=I,this.isTargetAlreadyExist=!0,this.Alternative={},this.index=0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let a={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete a.address,"defaultkey"==this.dedicated_info.key&&delete a.key,7350==this.dedicated_info.port&&delete a.port,this.dedicated_info.useSSL||delete a.useSSL,this.Alternative[this.dedicated_info.target]=[],this.QRCodeSRC=this.global.readasQRCodeFromString(`${st.Oy}pjcone_pwa/?server=${a.name||""},${a.address||""},${a.useSSL?"true":""},${a.port||7350},${a.key||""}`),this.isTargetAlreadyExist=!!this.statusBar.groupServer.unofficial[this.dedicated_info.target]}ionViewWillEnter(){var a=this;return(0,H.Z)(function*(){a.Alternative[a.dedicated_info.target].push(JSON.parse(JSON.stringify(a.dedicated_info)));let g=yield a.indexed.loadTextFromUserPath("servers/alternatives.json");try{let E=JSON.parse(g);E[a.dedicated_info.target].length&&(a.Alternative[a.dedicated_info.target].length=0);for(let $=0,k=E[a.dedicated_info.target].length;$<k;$++)a.Alternative[a.dedicated_info.target].push(E[a.dedicated_info.target][$]),a.dedicated_info.name==E[a.dedicated_info.target][$].name&&a.dedicated_info.address==E[a.dedicated_info.target][$].address&&a.dedicated_info.port==E[a.dedicated_info.target][$].port&&(a.index=$);a.index--,a.change_server_info(1)}catch{}})()}ionViewDidEnter(){this.ServerDetailuseSSL.checked=this.dedicated_info.useSSL}change_server_info(a){switch(a){case-1:this.index-1>=0&&(this.index--,this.dedicated_info=this.Alternative[this.dedicated_info.target][this.index]);break;case 1:this.index+1<this.Alternative[this.dedicated_info.target].length?(this.index++,this.dedicated_info=this.Alternative[this.dedicated_info.target][this.index]):this.alertCtrl.create({header:this.lang.text.ServerDetail.ServerPresets,message:this.lang.text.ServerDetail.CreateInfo,buttons:[{text:this.lang.text.ServerDetail.Add,handler:()=>{this.Alternative[this.dedicated_info.target].push({isOfficial:this.dedicated_info.isOfficial,target:this.dedicated_info.target}),this.change_server_info(1)}}]}).then($=>$.present())}}copy_startup_address(){let a=`https://is2you2.github.io/pjcone_pwa/?server=${this.dedicated_info.name||""},${this.dedicated_info.address||""},${this.dedicated_info.useSSL||""},${this.dedicated_info.port||""},${this.dedicated_info.key||""}&open_profile=true`;this.mClipboard.copy(a).catch(g=>j.Z.write(a))}apply_changed_info(){var a=this;return(0,H.Z)(function*(){if(!a.dedicated_info.name)return void a.p5toast.show({text:a.lang.text.GroupServer.NeedSetDIsplayName});a.dedicated_info.target=a.dedicated_info.target||a.dedicated_info.name,a.dedicated_info.address=a.dedicated_info.address||"192.168.0.1",a.dedicated_info.port=a.dedicated_info.port||7350,a.dedicated_info.useSSL=a.ServerDetailuseSSL.checked||!1,a.dedicated_info.isOfficial=a.dedicated_info.isOfficial||"unofficial",a.dedicated_info.key=a.dedicated_info.key||"defaultkey";let g=(new Date).getTime().toString();g+=`,${a.dedicated_info.isOfficial}`,g+=`,${a.dedicated_info.name}`,g+=`,${a.dedicated_info.target}`,g+=`,${a.dedicated_info.address}`,g+=`,${a.dedicated_info.port}`,g+=`,${a.dedicated_info.useSSL}`;let E=yield a.indexed.loadTextFromUserPath("servers/list_detail.csv"),$=[];if(E&&($=E.split("\n")),a.isTargetAlreadyExist)for(let k=0,M=$.length;k<M;k++)if($[k].split(",")[3]==a.dedicated_info.target){$.splice(k,1);break}$.push(g),yield a.indexed.saveTextFileToUserPath($.join("\n"),"servers/list_detail.csv"),a.nakama.init_server(a.dedicated_info),a.nakama.servers[a.dedicated_info.isOfficial][a.dedicated_info.target].info={...a.dedicated_info},a.nakama.link_group(a.dedicated_info.isOfficial,a.dedicated_info.target);for(let k=a.Alternative[a.dedicated_info.target].length-1;k>=0;k--)a.Alternative[a.dedicated_info.target][k].name||a.Alternative[a.dedicated_info.target].splice(k,1);yield a.indexed.saveTextFileToUserPath(JSON.stringify(a.Alternative),"servers/alternatives.json"),a.modalCtrl.dismiss()})()}}return(c=p).\u0275fac=function(a){return new(a||c)(X.Y36(r.IN),X.Y36(r.X1),X.Y36(G.b),X.Y36(O.F),X.Y36(f.g),X.Y36(m.H),X.Y36(d.a),X.Y36(y.AN),X.Y36(w.T),X.Y36(r.Br))},c.\u0275cmp=X.Xpm({type:c,selectors:[["app-server-detail"]],viewQuery:function(a,g){if(1&a&&X.Gf(l,5),2&a){let E;X.iGM(E=X.CRH())&&(g.ServerDetailuseSSL=E.first)}},decls:43,vars:21,consts:[["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["slot","end",2,"margin-right","8px"],[3,"click"],["slot","start","name","arrow-back-circle-outline",1,"icon_style"],["slot","start","name","arrow-forward-circle-outline",1,"icon_style"],["button",""],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["type","number","placeholder","7350",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"click"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["ServerDetailuseSSL",""],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto",3,"src","click"]],template:function(a,g){1&a&&(X.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),X._uU(3),X.qZA(),X.TgZ(4,"ion-buttons",0),X.NdJ("click",function(){return g.modalCtrl.dismiss()}),X._UZ(5,"ion-back-button",1),X.qZA()()(),X.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),X._uU(9),X.qZA()(),X.YNc(10,h,1,1,"img",2),X.TgZ(11,"ion-item-divider")(12,"ion-label"),X._uU(13,"\uc11c\ubc84 \uc124\uc815"),X.qZA(),X.TgZ(14,"table",3)(15,"tr")(16,"td",4),X.NdJ("click",function(){return g.change_server_info(-1)}),X._UZ(17,"ion-icon",5),X.qZA(),X.TgZ(18,"td"),X._uU(19),X.qZA(),X.TgZ(20,"td"),X._uU(21,"/"),X.qZA(),X.TgZ(22,"td"),X._uU(23),X.qZA(),X.TgZ(24,"td",4),X.NdJ("click",function(){return g.change_server_info(1)}),X._UZ(25,"ion-icon",6),X.qZA()()()(),X.TgZ(26,"ion-item",7)(27,"ion-input",8),X.NdJ("ngModelChange",function($){return g.dedicated_info.name=$}),X.qZA()(),X.TgZ(28,"ion-item",9)(29,"ion-input",8),X.NdJ("ngModelChange",function($){return g.dedicated_info.target=$}),X.qZA()(),X.TgZ(30,"ion-item",7)(31,"ion-input",10),X.NdJ("ngModelChange",function($){return g.dedicated_info.address=$}),X.qZA()(),X.TgZ(32,"ion-item",7)(33,"ion-input",11),X.NdJ("ngModelChange",function($){return g.dedicated_info.key=$}),X.qZA()(),X.TgZ(34,"ion-item",7)(35,"ion-input",12),X.NdJ("ngModelChange",function($){return g.dedicated_info.port=$}),X.qZA()(),X.TgZ(36,"ion-item",13),X.NdJ("click",function(){return g.dedicated_info.useSSL=!g.dedicated_info.useSSL}),X.TgZ(37,"ion-toggle",14,15),X.NdJ("ngModelChange",function($){return g.dedicated_info.useSSL=$}),X._uU(39),X.qZA()(),X.TgZ(40,"ion-item",13),X.NdJ("click",function(){return g.apply_changed_info()}),X.TgZ(41,"ion-label",16),X._uU(42),X.qZA()()()),2&a&&(X.xp6(3),X.Oqu(g.lang.text.GroupServer.ServerDetail),X.xp6(6),X.Oqu(g.lang.text.ServerDetail.copy_scan_below),X.xp6(1),X.Q6J("ngIf",g.QRCodeSRC),X.xp6(9),X.Oqu(g.index+1),X.xp6(4),X.Oqu(g.Alternative[g.dedicated_info.target].length),X.xp6(4),X.Q6J("label",g.lang.text.GroupServer.DisplayName)("ngModel",g.dedicated_info.name)("placeholder",g.lang.text.GroupServer.DisplayName_placeholder),X.xp6(1),X.Q6J("disabled",g.isTargetAlreadyExist),X.xp6(1),X.Q6J("label",g.lang.text.GroupServer.DivisionName)("ngModel",g.dedicated_info.target)("placeholder",g.dedicated_info.name||g.lang.text.GroupServer.DivisionName_placeholder),X.xp6(2),X.Q6J("label",g.lang.text.GroupServer.Address)("ngModel",g.dedicated_info.address),X.xp6(2),X.Q6J("label",g.lang.text.GroupServer.Key)("ngModel",g.dedicated_info.key),X.xp6(2),X.Q6J("label",g.lang.text.GroupServer.Port)("ngModel",g.dedicated_info.port),X.xp6(2),X.Q6J("ngModel",g.dedicated_info.useSSL),X.xp6(2),X.Oqu(g.lang.text.GroupServer.isSSL),X.xp6(3),X.Oqu(g.lang.text.ServerDetail.ApplyChangeServerInfo))},dependencies:[b.O5,i.JJ,i.On,r.oU,r.Sm,r.W2,r.Gu,r.gu,r.pK,r.Ie,r.rH,r.Q$,r.wd,r.ho,r.sr,r.w,r.as,r.j9,r.cs],styles:[".icon_style[_ngcontent-%COMP%]{width:22px;height:22px;transform:translateY(2px);margin-left:4px;margin-right:4px}"]}),p})()},7488:(nn,Et,me)=>{"use strict";me.d(Et,{g:()=>j});var H=me(9468);let j=(()=>{var st;class X{constructor(){this.colors={offline:"#888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",community_ranchat:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},this.dedicated={official:{groupchat:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(st=X).\u0275fac=function(G){return new(G||st)},st.\u0275prov=H.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),X})()},4156:(nn,Et,me)=>{"use strict";me.d(Et,{$:()=>U});var H=me(5861),j=me(3641),st=me(9761),X=me(9468),r=me(1325),G=me(3857),O=me(797),f=me(6052),m=me(4663),d=me(9376),y=me(6814),w=me(95);const b=["VideoIn"],i=["AudioIn"],l=["AudioOut"],h=["RegisterNewWebRTCServer"];function s(I,D){if(1&I&&(X.TgZ(0,"ion-item")(1,"ion-label"),X._uU(2),X.qZA(),X._UZ(3,"ion-radio",13),X.qZA()),2&I){const R=D.$implicit,V=D.index;X.xp6(2),X.Oqu(R.label||R.deviceId),X.xp6(1),X.Q6J("value",V)}}function c(I,D){if(1&I&&(X.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),X._uU(3),X.qZA()(),X.TgZ(4,"ion-radio-group",10,11),X.YNc(6,s,4,2,"ion-item",12),X.qZA()()),2&I){const R=X.oxw();X.xp6(3),X.Oqu(R.lang.text.WebRTCDevManager.VideoIn),X.xp6(3),X.Q6J("ngForOf",R.VideoInputs)}}function p(I,D){if(1&I&&(X.TgZ(0,"ion-item")(1,"ion-label"),X._uU(2),X.qZA(),X._UZ(3,"ion-radio",13),X.qZA()),2&I){const R=D.$implicit,V=D.index;X.xp6(2),X.Oqu(R.label||R.deviceId),X.xp6(1),X.Q6J("value",V)}}function v(I,D){if(1&I&&(X.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),X._uU(3),X.qZA()(),X.TgZ(4,"ion-radio-group",14,15),X.YNc(6,p,4,2,"ion-item",12),X.qZA()()),2&I){const R=X.oxw();X.xp6(3),X.Oqu(R.lang.text.WebRTCDevManager.AudioIn),X.xp6(3),X.Q6J("ngForOf",R.AudioInputs)}}function a(I,D){if(1&I){const R=X.EpF();X.TgZ(0,"ion-item",6),X.NdJ("click",function(){X.CHM(R);const N=X.oxw();return X.KtG(N.saveSetup())}),X.TgZ(1,"ion-label",7),X._uU(2),X.qZA()()}if(2&I){const R=X.oxw();X.xp6(2),X.Oqu(R.lang.text.WebRTCDevManager.saveSetup)}}function g(I,D){if(1&I){const R=X.EpF();X.TgZ(0,"img",20),X.NdJ("click",function(){X.CHM(R);const N=X.oxw().index,Q=X.oxw();return X.KtG(Q.copy_info(N))}),X.qZA()}if(2&I){const R=X.oxw().index,V=X.oxw();X.Q6J("src",V.QRCodes[R],X.LSH)}}function E(I,D){if(1&I){const R=X.EpF();X.TgZ(0,"ion-accordion",13)(1,"ion-item",16)(2,"ion-label"),X._uU(3),X.qZA()(),X.TgZ(4,"ion-list",17),X.YNc(5,g,1,1,"img",18),X.TgZ(6,"ion-item",6),X.NdJ("click",function(){const Q=X.CHM(R).index,T=X.oxw();return X.KtG(T.RemoveServer(Q))}),X.TgZ(7,"ion-label",19),X._uU(8),X.qZA()()()()}if(2&I){const R=D.$implicit,V=D.index,N=X.oxw();X.Q6J("value",V),X.xp6(3),X.Oqu(R.urls[0]),X.xp6(2),X.Q6J("ngIf",N.QRCodes[V]),X.xp6(3),X.Oqu(N.lang.text.WebRTCDevManager.Remove)}}function $(I,D){if(1&I){const R=X.EpF();X.TgZ(0,"ion-icon",26),X.NdJ("click",function(){X.CHM(R);const N=X.oxw(3);return X.KtG(N.AddServerUrl())}),X.qZA()}}function k(I,D){if(1&I){const R=X.EpF();X.TgZ(0,"ion-icon",27),X.NdJ("click",function(){X.CHM(R);const N=X.oxw().$implicit,Q=X.oxw(2);return X.KtG(Q.SubtractServerUrl(N))}),X.qZA()}}function M(I,D){if(1&I){const R=X.EpF();X.TgZ(0,"ion-item")(1,"ion-input",23),X.NdJ("ngModelChange",function(N){const T=X.CHM(R).$implicit,K=X.oxw(2);return X.KtG(K.userInput.urls[T]=N)}),X.qZA(),X.YNc(2,$,1,0,"ion-icon",24),X.YNc(3,k,1,0,"ion-icon",25),X.qZA()}if(2&I){const R=D.$implicit,V=X.oxw(2);X.xp6(1),X.Q6J("label",0==R?V.lang.text.WebRTCDevManager.Urls:"")("ngModel",V.userInput.urls[R]),X.xp6(1),X.Q6J("ngIf",0==R),X.xp6(1),X.Q6J("ngIf",0!=R)}}function A(I,D){if(1&I){const R=X.EpF();X.TgZ(0,"ion-content")(1,"ion-item-divider")(2,"ion-label"),X._uU(3),X.qZA()(),X.YNc(4,M,4,4,"ion-item",12),X.TgZ(5,"ion-item")(6,"ion-input",21),X.NdJ("ngModelChange",function(N){X.CHM(R);const Q=X.oxw();return X.KtG(Q.userInput.username=N)}),X.qZA()(),X.TgZ(7,"ion-item")(8,"ion-input",22),X.NdJ("ngModelChange",function(N){X.CHM(R);const Q=X.oxw();return X.KtG(Q.userInput.credential=N)}),X.qZA()(),X.TgZ(9,"ion-item",6),X.NdJ("click",function(){X.CHM(R);const N=X.oxw();return X.KtG(N.SaveServer())}),X.TgZ(10,"ion-label",7),X._uU(11),X.qZA()()()}if(2&I){const R=X.oxw();X.xp6(3),X.Oqu(R.lang.text.WebRTCDevManager.ServerInfo),X.xp6(1),X.Q6J("ngForOf",R.UserInputUrlsLength),X.xp6(2),X.Q6J("label",R.lang.text.WebRTCDevManager.Username)("ngModel",R.userInput.username),X.xp6(2),X.Q6J("label",R.lang.text.WebRTCDevManager.Credential)("ngModel",R.userInput.credential),X.xp6(3),X.Oqu(R.lang.text.WebRTCDevManager.Save)}}const L=function(){return[.5,.6,.7,.8,.9,1]};let U=(()=>{var I;class D{constructor(V,N,Q,T,K,se,fe){this.navParams=V,this.modalCtrl=N,this.lang=Q,this.indexed=T,this.global=K,this.mClipboard=se,this.p5toast=fe,this.InOut=[],this.VideoInputs=[],this.AudioInputs=[],this.AudioOutputs=[],this.ServerInfos=[],this.QRCodes=[],this.userInput={urls:[""],username:"",credential:""},this.UserInputUrlsLength=[0]}ngOnInit(){this.InOut=this.navParams.get("list")||[];for(let V=0,N=this.InOut.length;V<N;V++)this.InOut[V].kind.indexOf("videoinput")>=0&&this.VideoInputs.push(this.InOut[V]),this.InOut[V].kind.indexOf("audioinput")>=0&&this.AudioInputs.push(this.InOut[V]),this.InOut[V].kind.indexOf("audiooutput")>=0&&this.AudioOutputs.push(this.InOut[V])}ionViewWillEnter(){var V=this;return(0,H.Z)(function*(){try{let N=yield V.indexed.loadTextFromUserPath("servers/webrtc_server.json");V.ServerInfos=JSON.parse(N);for(let Q=0,T=V.ServerInfos.length;Q<T;Q++){let se=V.global.readasQRCodeFromString(`${j.Oy}pjcone_pwa/?rtcserver=[${V.ServerInfos[Q].urls}],${V.ServerInfos[Q].username},${V.ServerInfos[Q].credential}`);V.QRCodes[Q]=se}}catch{}try{let N=localStorage.getItem("VideoInputDev");V.VideoInput.value=Number(N)||0}catch{}try{let N=localStorage.getItem("AudioInputDev");V.AudioInput.value=Number(N)||0}catch{}})()}saveSetup(){let V={};this.VideoInput&&void 0!==this.VideoInput.value&&(V.videoinput=this.VideoInputs[this.VideoInput.value],localStorage.setItem("VideoInputDev",this.VideoInput.value)),this.AudioInput&&void 0!==this.AudioInput.value&&(V.audioinput=this.AudioInputs[this.AudioInput.value],localStorage.setItem("AudioInputDev",this.AudioInput.value)),this.AudioOutput&&void 0!==this.AudioOutput.value&&(V.audiooutput=this.AudioOutputs[this.AudioOutput.value]),this.modalCtrl.dismiss(V)}AddServerUrl(){this.userInput.urls.push(""),this.UserInputUrlsLength.push(this.UserInputUrlsLength.length)}SubtractServerUrl(V){this.userInput.urls.splice(V,1),this.UserInputUrlsLength.pop()}OpenNewWebRTCServerForm(){this.RegisterServer.present()}SaveServer(){var V=this;return(0,H.Z)(function*(){V.userInput.urls.filter(T=>T);for(let T=V.userInput.urls.length-1;T>=0;T--)V.userInput.urls[T].trim()||V.userInput.urls.splice(T,1);if(!V.userInput.urls.length)return void V.p5toast.show({text:V.lang.text.WebRTCDevManager.IgnoreSave});let Q=V.global.readasQRCodeFromString(`${j.Oy}pjcone_pwa/?rtcserver=[${V.userInput.urls}],${V.userInput.username},${V.userInput.credential}`);V.QRCodes.push(Q),V.ServerInfos.push(V.userInput),V.userInput={urls:[""],username:"",credential:""},V.UserInputUrlsLength.length=0,V.UserInputUrlsLength.push(0),yield V.indexed.saveTextFileToUserPath(JSON.stringify(V.ServerInfos),"servers/webrtc_server.json"),V.RegisterServer.dismiss()})()}copy_info(V){let N=`${j.Oy}pjcone_pwa/?rtcserver=[${this.ServerInfos[V].urls}],${this.ServerInfos[V].username},${this.ServerInfos[V].credential}`;this.mClipboard.copy(N).catch(Q=>st.Z.write(N))}RemoveServer(V){var N=this;return(0,H.Z)(function*(){N.ServerInfos.splice(V,1),yield N.indexed.saveTextFileToUserPath(JSON.stringify(N.ServerInfos),"servers/webrtc_server.json")})()}}return(I=D).\u0275fac=function(V){return new(V||I)(X.Y36(r.X1),X.Y36(r.IN),X.Y36(G.b),X.Y36(O.H),X.Y36(f.AN),X.Y36(m.T),X.Y36(d.F))},I.\u0275cmp=X.Xpm({type:I,selectors:[["app-webrtc-manage-io-dev"]],viewQuery:function(V,N){if(1&V&&(X.Gf(b,5),X.Gf(i,5),X.Gf(l,5),X.Gf(h,5)),2&V){let Q;X.iGM(Q=X.CRH())&&(N.VideoInput=Q.first),X.iGM(Q=X.CRH())&&(N.AudioInput=Q.first),X.iGM(Q=X.CRH())&&(N.AudioOutput=Q.first),X.iGM(Q=X.CRH())&&(N.RegisterServer=Q.first)}},decls:22,vars:10,consts:[["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["button","",3,"click",4,"ngIf"],["WebRTCServers",""],[3,"value",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"ion-text-center"],[3,"initialBreakpoint","breakpoints"],["RegisterNewWebRTCServer",""],["name","videoinput"],["VideoIn",""],[4,"ngFor","ngForOf"],[3,"value"],["name","audioinput"],["AudioIn",""],["button","","slot","header"],["slot","content"],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["color","danger",1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto",3,"src","click"],["placeholder","username",1,"ion-text-end",3,"label","ngModel","ngModelChange"],["placeholder","credential",1,"ion-text-end",3,"label","ngModel","ngModelChange"],["placeholder","stun:stun.l.google.com:19302",1,"ion-text-end",3,"label","ngModel","ngModelChange"],["slot","end","color","success","name","add-circle-outline",3,"click",4,"ngIf"],["slot","end","color","danger","name","remove-circle-outline",3,"click",4,"ngIf"],["slot","end","color","success","name","add-circle-outline",3,"click"],["slot","end","color","danger","name","remove-circle-outline",3,"click"]],template:function(V,N){1&V&&(X.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),X._uU(3),X.qZA(),X.TgZ(4,"ion-buttons",0),X.NdJ("click",function(){return N.modalCtrl.dismiss()}),X._UZ(5,"ion-back-button",1),X.qZA()()(),X.TgZ(6,"ion-content"),X.YNc(7,c,7,2,"div",2),X.YNc(8,v,7,2,"div",2),X.YNc(9,a,3,1,"ion-item",3),X.TgZ(10,"ion-item-divider")(11,"ion-label"),X._uU(12),X.qZA()(),X.TgZ(13,"ion-accordion-group",null,4),X.YNc(15,E,9,4,"ion-accordion",5),X.qZA(),X.TgZ(16,"ion-item",6),X.NdJ("click",function(){return N.OpenNewWebRTCServerForm()}),X.TgZ(17,"ion-label",7),X._uU(18),X.qZA()(),X.TgZ(19,"ion-modal",8,9),X.YNc(21,A,12,7,"ng-template"),X.qZA()()),2&V&&(X.xp6(3),X.Oqu(N.lang.text.WebRTCDevManager.Title),X.xp6(4),X.Q6J("ngIf",N.VideoInputs.length),X.xp6(1),X.Q6J("ngIf",N.AudioInputs.length),X.xp6(1),X.Q6J("ngIf",N.InOut.length),X.xp6(3),X.Oqu(N.lang.text.WebRTCDevManager.ManageServer),X.xp6(3),X.Q6J("ngForOf",N.ServerInfos),X.xp6(3),X.Oqu(N.lang.text.WebRTCDevManager.AddServer),X.xp6(1),X.Q6J("initialBreakpoint",.5)("breakpoints",X.DdM(9,L)))},dependencies:[y.sg,y.O5,w.JJ,w.On,r.We,r.eh,r.oU,r.Sm,r.W2,r.Gu,r.gu,r.pK,r.Ie,r.rH,r.Q$,r.q_,r.B7,r.se,r.wd,r.sr,r.ki,r.U5,r.QI,r.j9,r.cs]}),D})()},7429:(nn,Et,me)=>{"use strict";me.d(Et,{V:()=>b});var H=me(5861),j=me(9868),X=me(4156),r=me(9080),G=me(3641),O=me(9468),f=me(1325),m=me(9376),d=me(797),y=me(3857),w=me(4663);let b=(()=>{var i;class l{constructor(s,c,p,v,a,g){this.modalCtrl=s,this.p5toast=c,this.indexed=p,this.lang=v,this.nakama=a,this.mClipboard=g,this.OnUse=!1,this.isCallable=!1,this.isConnected=!1,this.JoinInited=!1,this.ReceivedOfferPart="",this.ReceivedAnswerPart="",this.IceCandidates=[],this.nakama.WebRTCService=this}initialize(s,c,p,v){var a=this;return(0,H.Z)(function*(){if("Android"==G.n$||"iOS"==G.n$||"http:"==window.location.protocol&&0!=window.location.host.indexOf("localhost")){let $=a.nakama.get_all_online_server(),k="https://is2you2.github.io/pjcone_pwa/";k+=`?tmp_user=${a.nakama.users.self.email},${a.nakama.users.self.password},${a.nakama.users.self.display_name}`;for(let M=0,A=$.length;M<A;M++)k+=`&server=${$[M].info.name||""},${$[M].info.address||""},${$[M].info.useSSL||""},${$[M].info.port||""},${$[M].info.key||""}`;k+="&open_subscribes=true",k+=`&open_prv_channel=${p.user_id},${p.isOfficial},${p.target}`;try{let M=yield a.indexed.loadTextFromUserPath("servers/webrtc_server.json"),A=JSON.parse(M);for(let L=0,U=A.length;L<U;L++)k+=`&rtcserver=[${A[L].urls}],${A[L].username},${A[L].credential}`}catch{}try{yield a.mClipboard.copy(k)}catch{}throw window.open(k,"_system"),"\ubaa8\ubc14\uc77c \uad8c\ud55c \uc624\ub958"}if(a.OnUse)throw a.p5toast.show({text:a.lang.text.WebRTCDevManager.AlreadyCalling}),a.lang.text.WebRTCDevManager.AlreadyCalling;yield a.close_webrtc(v),a.TypeIn=s,a.nakama.socket_reactive.WEBRTC_INIT_REQ_SIGNAL=(0,H.Z)(function*(){let k=JSON.stringify(a.LocalOffer).match(/(.{1,250})/g);for(let M=0,A=k.length;M<A;M++)yield a.nakama.servers[a.isOfficial][a.target].socket.sendMatchState(a.CurrentMatch.match_id,r.B.WEBRTC_REPLY_INIT_SIGNAL,encodeURIComponent(k[M]));yield a.nakama.servers[a.isOfficial][a.target].socket.sendMatchState(a.CurrentMatch.match_id,r.B.WEBRTC_REPLY_INIT_SIGNAL,encodeURIComponent("EOL"))}),a.nakama.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL=$=>{"EOL"==$?(a.createRemoteOfferFromAnswer(JSON.parse(a.ReceivedOfferPart)),a.ReceivedOfferPart=""):a.ReceivedOfferPart+=$},a.nakama.socket_reactive.WEBRTC_RECEIVE_ANSWER=$=>{"EOL"==$?(a.ReceiveRemoteAnswer(JSON.parse(a.ReceivedAnswerPart)),a.ReceivedAnswerPart=""):a.ReceivedAnswerPart+=$},a.nakama.socket_reactive.WEBRTC_ICE_CANDIDATES=$=>{a.ReceiveIceCandidate(JSON.parse($))},a.nakama.socket_reactive.WEBRTC_NEGOCIATENEEDED=$=>{"EOL"==$?(a.createRemoteOfferFromAnswer(JSON.parse(a.ReceivedOfferPart)),a.ReceivedOfferPart="",a.CreateAnswer()):a.ReceivedOfferPart+=$},p&&(a.isOfficial=p.isOfficial,a.target=p.target,a.user_id=p.user_id,a.channel_id=p.channel_id),a.createP5_panel();try{var g,E;a.localMedia=document.createElement(s),a.localMedia.id="webrtc_video",a.localMedia.style.width="100%",a.localMedia.style.height="fit-content",a.localMedia.autoplay=!0,"video"==s&&(a.localMedia.playsInline=!0),a.localMedia.muted=!0,document.body.appendChild(a.localMedia),a.remoteMedia=document.createElement(s),a.remoteMedia.id="webrtc_video_remote",a.remoteMedia.style.width="100%",a.remoteMedia.style.height="fit-content",a.remoteMedia.autoplay=!0,"video"==s&&(a.remoteMedia.playsInline=!0),document.body.appendChild(a.remoteMedia);let k,M,$=yield a.getDeviceList(),A=Number(null!==(g=localStorage.getItem("VideoInputDev"))&&void 0!==g?g:NaN),L=Number(null!==(E=localStorage.getItem("AudioInputDev"))&&void 0!==E?E:NaN);for(let U=0,I=$.length,D=0,R=0;U<I&&(!k||!M);U++)!k&&"audioinput"==$[U].kind&&(Number.isNaN(L)?(k=$[U].deviceId,localStorage.setItem("AudioInputDev",`${R}`)):R==L&&(k=$[U].deviceId),R++),!M&&"videoinput"==$[U].kind&&(Number.isNaN(A)?(M=$[U].deviceId,localStorage.setItem("AudioInputDev",`${D}`)):D==A&&(M=$[U].deviceId),D++);c||(c={},"video"==s?(c.video=!0,M&&(c.video={deviceId:M})):c.video=!1,c.audio=!0,k&&(c.audio={deviceId:k})),a.localStream=yield navigator.mediaDevices.getUserMedia(c),a.localMedia.srcObject=a.localStream,a.isCallable=!0}catch($){console.log("navigator.getUserMedia error: ",$),yield a.close_webrtc(),a.p5toast.show({text:`${a.lang.text.WebRTCDevManager.InitErr}: ${$}`})}a.createCall(),a.p5canvas.call_button.elt.disabled=!1})()}createP5_panel(){var s=this;this.OnUse=!0,this.p5canvas&&this.p5canvas.remove(),this.p5canvas=new j(c=>{let p,v,a,g,E,$,k,M,A,L=1;c.setup=()=>{c.noCanvas(),p=c.createDiv(),p.id("outterDiv"),p.style("position: absolute; left: 50%; top: 0px; z-index: 1"),p.style("transform: translateX(-50%)"),p.style("width: fit-content; height: fit-content"),p.style("padding: 8px 16px;"),p.style("display: flex; justify-content: center;"),g=c.createDiv(),g.parent(p),g.style("display: flex; justify-content: center;"),g.style("width: fit-content; height: fit-content"),g.style("border-radius: 64px"),g.style("background: #44a6fa88"),g.style("padding: 12px"),v=c.createDiv(),v.parent(g),v.id("webrtc_content"),v.style("display: flex; justify-content: center;"),v.style("width: fit-content; height: fit-content"),v.style("word-break: break-all"),v.style("background: #44a6fa88"),v.style("border-radius: 64px"),v.style("padding: 12px"),v.style("color: white"),U(),this.isOfficial&&this.target&&(this.user_id&&(a=c.createDiv(this.nakama.users[this.isOfficial][this.target][this.user_id].display_name)),a.parent(v),a.style("position","absolute"),a.style("top","7px"),a.style("left","50%"),a.style("width","fit-content"),a.style("height","fit-content"),a.style("transform","translateX(-50%)")),E=c.createButton('<ion-icon style="width: 32px; height: 32px;" name="call-outline"></ion-icon>'),E.parent(v),E.style("padding","0px"),E.style("margin","4px"),E.style("border-radius","32px"),E.style("width","40px"),E.style("height","40px"),E.mouseClicked(()=>{this.CreateAnswer()}),E.elt.disabled=!0,c.call_button=E,$=c.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-outline"></ion-icon>'),$.parent(v),$.style("padding","0px"),$.style("margin","4px"),$.style("border-radius","32px"),$.style("width","40px"),$.style("height","40px"),$.mouseClicked(()=>{const I=this.localStream.getAudioTracks();for(let D=0,R=I.length;D<R;D++)I[D].enabled=!1;k.show(),$.hide()}),k=c.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-off-outline"></ion-icon>'),k.parent(v),k.style("background-color","grey"),k.style("padding","0px"),k.style("margin","4px"),k.style("border-radius","32px"),k.style("width","40px"),k.style("height","40px"),k.mouseClicked(()=>{const I=this.localStream.getAudioTracks();for(let D=0,R=I.length;D<R;D++)I[D].enabled=!0;$.show(),k.hide()}),k.hide(),M=c.createButton('<ion-icon style="width: 32px; height: 32px;" name="settings-outline"></ion-icon>'),M.parent(v),M.style("padding","0px"),M.style("margin","4px"),M.style("border-radius","32px"),M.style("width","40px"),M.style("height","40px"),M.mouseClicked((0,H.Z)(function*(){M.elt.disabled=!0;let I=yield s.getDeviceList();s.modalCtrl.create({component:X.$,componentProps:{list:I}}).then(D=>{D.onDidDismiss().then(function(){var R=(0,H.Z)(function*(V){M.elt.disabled=!1;try{let N={};V.data.videoinput&&(N.video={deviceId:V.data.videoinput.deviceId}),V.data.audioinput&&(N.audio={deviceId:V.data.audioinput.deviceId}),s.PeerConnection.removeStream(s.localStream),s.localStream=yield navigator.mediaDevices.getUserMedia(N),s.localMedia.srcObject=s.localStream,s.PeerConnection.addStream(s.localStream)}catch{}});return function(V){return R.apply(this,arguments)}}()),D.present()})})),A=c.createButton('<ion-icon style="width: 32px; height: 32px;" name="close-circle-outline"></ion-icon>'),A.parent(v),A.style("background-color","red"),A.style("padding","0px"),A.style("margin","4px"),A.style("border-radius","32px"),A.style("width","40px"),A.style("height","40px"),A.mouseClicked((0,H.Z)(function*(){yield s.close_webrtc()}))},c.draw=()=>{L>0&&(L-=.03),U(),this.OnUse||this.p5canvas&&this.p5canvas.remove()};let U=()=>{let I=c.lerpColor(c.color("#44a6fabb"),c.color("#ffd94ebb"),L).levels;g.style(`padding: ${4*L}px`),v.style(`padding: ${c.lerp(12,8,L)}px`),g.style(`background: rgba(${I[0]}, ${I[1]}, ${I[2]}, ${I[3]/255})`)}})}getDeviceList(){return(0,H.Z)(function*(){return yield navigator.mediaDevices.enumerateDevices()})()}createCall(){var s=this;return(0,H.Z)(function*(){let c;s.isCallable=!1,s.isConnected=!0,s.startTime=window.performance.now();try{let p=yield s.indexed.loadTextFromUserPath("servers/webrtc_server.json");c={},c.iceServers=JSON.parse(p)}catch{}s.PeerConnection=new RTCPeerConnection(c),s.PeerConnection.addEventListener("icecandidate",p=>s.handleConnection(p)),s.PeerConnection.addEventListener("connectionstatechange",function(){var p=(0,H.Z)(function*(v){switch(v.target.connectionState){case"failed":case"disconnected":yield s.close_webrtc();break;default:console.log("\uc5f0\uacb0 \uc0c1\ud0dc \ubcc0\uacbd\ub428: ",v.target.connectionState)}});return function(v){return p.apply(this,arguments)}}()),s.PeerConnection.addStream(s.localStream),s.PeerConnection.addEventListener("addstream",p=>{s.remoteMedia.srcObject=p.stream}),s.PeerConnection.addEventListener("negotiationneeded",function(){var p=(0,H.Z)(function*(v){if(s.JoinInited){yield s.PeerConnection.createOffer({offerToReceiveVideo:1}).then(E=>s.createdOffer(E)).catch(E=>s.setSessionDescriptionError(E));let g=JSON.stringify(s.LocalOffer).match(/(.{1,250})/g);for(let E=0,$=g.length;E<$;E++)yield s.nakama.servers[s.isOfficial][s.target].socket.sendMatchState(s.CurrentMatch.match_id,r.B.WEBRTC_NEGOCIATENEEDED,encodeURIComponent(g[E]));yield s.nakama.servers[s.isOfficial][s.target].socket.sendMatchState(s.CurrentMatch.match_id,r.B.WEBRTC_NEGOCIATENEEDED,encodeURIComponent("EOL"))}});return function(v){return p.apply(this,arguments)}}())})()}CreateOfffer(){this.p5canvas&&this.p5canvas.call_button.hide(),this.PeerConnection.createOffer({offerToReceiveVideo:1}).then(s=>this.createdOffer(s)).catch(s=>this.setSessionDescriptionError(s))}handleConnection(s){let c=s.candidate;c&&this.IceCandidates.push(new RTCIceCandidate(c))}ReceiveIceCandidate(s){var c=this;this.ReplyIceCandidate&&clearTimeout(this.ReplyIceCandidate),this.ReplyIceCandidate=setTimeout((0,H.Z)(function*(){for(let p=0,v=c.IceCandidates.length;p<v;p++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,r.B.WEBRTC_ICE_CANDIDATES,encodeURIComponent(JSON.stringify(c.IceCandidates[p])));c.IceCandidates.length=0}),800),this.PeerConnection.addIceCandidate(s).then(()=>{console.log("Success to add new ice candidate")}).catch(p=>{console.error("failed to add ice candidate: ",p)})}createdOffer(s){this.LocalOffer=s,this.PeerConnection.setLocalDescription(s).then(()=>{this.setLocalDescriptionSuccess(this.PeerConnection)}).catch(c=>this.setSessionDescriptionError(c))}createRemoteOfferFromAnswer(s){this.PeerConnection.setRemoteDescription(s).then(()=>{this.setRemoteDescriptionSuccess(this.PeerConnection)}).catch(c=>this.setSessionDescriptionError(c))}CreateAnswer(){this.PeerConnection.createAnswer().then(s=>this.createdAnswer(s)).catch(s=>this.setSessionDescriptionError(s))}setLocalDescriptionSuccess(s){this.setDescriptionSuccess(s,"setLocalDescription")}setRemoteDescriptionSuccess(s){this.setDescriptionSuccess(s,"setRemoteDescription")}createdAnswer(s){var c=this;return(0,H.Z)(function*(){c.p5canvas&&c.p5canvas.call_button.hide(),c.PeerConnection.setLocalDescription(s).then(()=>{c.setLocalDescriptionSuccess(c.PeerConnection)}).catch(a=>c.setSessionDescriptionError(a));let v=JSON.stringify(s).match(/(.{1,250})/g);for(let a=0,g=v.length;a<g;a++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,r.B.WEBRTC_RECEIVE_ANSWER,encodeURIComponent(v[a]));yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,r.B.WEBRTC_RECEIVE_ANSWER,encodeURIComponent("EOL")),c.JoinInited=!0})()}ReceiveRemoteAnswer(s){var c=this;return(0,H.Z)(function*(){c.PeerConnection.setRemoteDescription(s).then(()=>{c.setRemoteDescriptionSuccess(c.PeerConnection)}).catch(p=>c.setSessionDescriptionError(p));for(let p=0,v=c.IceCandidates.length;p<v;p++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,r.B.WEBRTC_ICE_CANDIDATES,encodeURIComponent(JSON.stringify(c.IceCandidates[p])));c.IceCandidates.length=0})()}setSessionDescriptionError(s){console.error(`Failed to create session description: ${s}.`)}setDescriptionSuccess(s,c){console.log(`Local ${c} complete.`)}HangUpCall(s){var c=this;return(0,H.Z)(function*(){c.isCallable=!0,c.isConnected=!1,c.PeerConnection&&c.PeerConnection.close(),c.PeerConnection=void 0;try{s&&(yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,r.B.WEBRTC_HANGUP,""),yield c.nakama.servers[c.isOfficial][c.target].socket.leaveMatch(c.CurrentMatch.match_id))}catch{}})()}close_webrtc(s=!0){var c=this;return(0,H.Z)(function*(){yield c.HangUpCall(s),c.localMedia&&c.localMedia.remove(),c.remoteMedia&&c.remoteMedia.remove(),c.OnUse=!1,c.isCallable=!1,c.isConnected=!1,c.localStream&&(c.localStream.getVideoTracks().forEach(p=>p.stop()),c.localStream.getAudioTracks().forEach(p=>p.stop())),c.localMedia=void 0,c.localStream=void 0,c.remoteMedia=void 0,c.ReceivedOfferPart="",c.ReceivedAnswerPart="",c.TypeIn=void 0,c.JoinInited=!1,delete c.nakama.socket_reactive.WEBRTC_INIT_REQ_SIGNAL,delete c.nakama.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL,delete c.nakama.socket_reactive.WEBRTC_RECEIVE_ANSWER,delete c.nakama.socket_reactive.WEBRTC_ICE_CANDIDATES,delete c.nakama.socket_reactive.WEBRTC_NEGOCIATENEEDED,c.IceCandidates.length=0})()}}return(i=l).\u0275fac=function(s){return new(s||i)(O.LFG(f.IN),O.LFG(m.F),O.LFG(d.H),O.LFG(y.b),O.LFG(r.a),O.LFG(w.T))},i.\u0275prov=O.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),l})()},8888:(nn,Et,me)=>{"use strict";var H=me(6593),j=me(9468),st=me(5877),X=me(1325),r=me(3641);const G=[{path:"",loadChildren:()=>me.e(7420).then(me.bind(me,7420)).then(ut=>ut.PortalPageModule)},{path:"minimal-chat",loadChildren:()=>me.e(6373).then(me.bind(me,6373)).then(ut=>ut.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>me.e(9508).then(me.bind(me,9508)).then(ut=>ut.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>Promise.all([me.e(9745),me.e(3978)]).then(me.bind(me,3978)).then(ut=>ut.UserFsDirPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([me.e(9745),me.e(8592),me.e(2058)]).then(me.bind(me,2058)).then(ut=>ut.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([me.e(9745),me.e(8592),me.e(4403)]).then(me.bind(me,4403)).then(ut=>ut.ChatRoomPageModule)},{path:"share-content-to-other",loadChildren:()=>me.e(4873).then(me.bind(me,4873)).then(ut=>ut.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>me.e(1754).then(me.bind(me,1754)).then(ut=>ut.WebrtcManageIoDevPageModule)}];let O=(()=>{var ut;class xt{}return(ut=xt).\u0275fac=function(At){return new(At||ut)},ut.\u0275mod=j.oAB({type:ut}),ut.\u0275inj=j.cJS({imports:[st.Bz.forRoot(G,{preloadingStrategy:st.wm}),st.Bz]}),xt})();var f=me(9722),m=me(6395),d=me(5756),y=me(6814),w=me(4911),b=me(8504),i=me(2438),l=me(2096),h=me(5211),s=me(8645),c=me(5592),p=me(2420);const v=new c.y(p.Z);var g=me(3019),E=me(7398),$=me(2181),k=me(4664),M=me(3168),A=me(4674),L=me(4829),U=me(9360);const D={connector:()=>new s.x};function R(ut,xt=D){const{connector:jt}=xt;return(0,U.e)((At,Jt)=>{const gn=jt();(0,L.Xf)(ut(function I(ut){return new c.y(xt=>ut.subscribe(xt))}(gn))).subscribe(Jt),Jt.add(At.subscribe(gn))})}var Q=me(8180),T=me(9397),K=me(7394);class se extends K.w0{constructor(xt,jt){super()}schedule(xt,jt=0){return this}}const fe={setInterval(ut,xt,...jt){const{delegate:At}=fe;return null!=At&&At.setInterval?At.setInterval(ut,xt,...jt):setInterval(ut,xt,...jt)},clearInterval(ut){const{delegate:xt}=fe;return((null==xt?void 0:xt.clearInterval)||clearInterval)(ut)},delegate:void 0};var Ie=me(9039);const ie={now:()=>(ie.delegate||Date).now(),delegate:void 0};class pe{constructor(xt,jt=pe.now){this.schedulerActionCtor=xt,this.now=jt}schedule(xt,jt=0,At){return new this.schedulerActionCtor(this,xt).schedule(At,jt)}}pe.now=ie.now;const Re=new class we extends pe{constructor(xt,jt=pe.now){super(xt,jt),this.actions=[],this._active=!1}flush(xt){const{actions:jt}=this;if(this._active)return void jt.push(xt);let At;this._active=!0;do{if(At=xt.execute(xt.state,xt.delay))break}while(xt=jt.shift());if(this._active=!1,At){for(;xt=jt.shift();)xt.unsubscribe();throw At}}}(class Z extends se{constructor(xt,jt){super(xt,jt),this.scheduler=xt,this.work=jt,this.pending=!1}schedule(xt,jt=0){var At;if(this.closed)return this;this.state=xt;const Jt=this.id,gn=this.scheduler;return null!=Jt&&(this.id=this.recycleAsyncId(gn,Jt,jt)),this.pending=!0,this.delay=jt,this.id=null!==(At=this.id)&&void 0!==At?At:this.requestAsyncId(gn,this.id,jt),this}requestAsyncId(xt,jt,At=0){return fe.setInterval(xt.flush.bind(xt,this),At)}recycleAsyncId(xt,jt,At=0){if(null!=At&&this.delay===At&&!1===this.pending)return jt;null!=jt&&fe.clearInterval(jt)}execute(xt,jt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const At=this._execute(xt,jt);if(At)return At;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xt,jt){let Jt,At=!1;try{this.work(xt)}catch(gn){At=!0,Jt=gn||new Error("Scheduled action threw falsy error")}if(At)return this.unsubscribe(),Jt}unsubscribe(){if(!this.closed){const{id:xt,scheduler:jt}=this,{actions:At}=jt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(At,this),null!=xt&&(this.id=this.recycleAsyncId(jt,xt,null)),this.delay=null,super.unsubscribe()}}}),$e=Re;var Fe=me(8251),je=me(975),We=me(1631);function Ye(ut,xt){return xt?jt=>(0,h.z)(xt.pipe((0,Q.q)(1),function Ge(){return(0,U.e)((ut,xt)=>{ut.subscribe((0,Fe.x)(xt,p.Z))})}()),jt.pipe(Ye(ut))):(0,We.z)((jt,At)=>(0,L.Xf)(ut(jt,At)).pipe((0,Q.q)(1),(0,je.h)(jt)))}var Ne=me(671);const lt="Service workers are disabled or not supported by this browser";class St{constructor(xt){if(this.serviceWorker=xt,xt){const At=(0,i.R)(xt,"controllerchange").pipe((0,E.U)(()=>xt.controller)),Jt=(0,w.P)(()=>(0,l.of)(xt.controller)),gn=(0,h.z)(Jt,At);this.worker=gn.pipe((0,$.h)(ht=>!!ht)),this.registration=this.worker.pipe((0,k.w)(()=>xt.getRegistration()));const bt=(0,i.R)(xt,"message").pipe((0,E.U)(ht=>ht.data)).pipe((0,$.h)(ht=>ht&&ht.type)).pipe(function N(ut){return ut?xt=>R(ut)(xt):xt=>function V(ut,xt){const jt=(0,A.m)(ut)?ut:()=>ut;return(0,A.m)(xt)?R(xt,{connector:jt}):At=>new M.c(At,jt)}(new s.x)(xt)}());bt.connect(),this.events=bt}else this.worker=this.events=this.registration=function nt(ut){return(0,w.P)(()=>(0,b._)(new Error(ut)))}(lt)}postMessage(xt,jt){return this.worker.pipe((0,Q.q)(1),(0,T.b)(At=>{At.postMessage({action:xt,...jt})})).toPromise().then(()=>{})}postMessageWithOperation(xt,jt,At){const Jt=this.waitForOperationCompleted(At),gn=this.postMessage(xt,jt);return Promise.all([gn,Jt]).then(([,_n])=>_n)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(xt){let jt;return jt="string"==typeof xt?At=>At.type===xt:At=>xt.includes(At.type),this.events.pipe((0,$.h)(jt))}nextEventOfType(xt){return this.eventsOfType(xt).pipe((0,Q.q)(1))}waitForOperationCompleted(xt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,$.h)(jt=>jt.nonce===xt),(0,Q.q)(1),(0,E.U)(jt=>{if(void 0!==jt.result)return jt.result;throw new Error(jt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Wt=(()=>{var ut;class xt{get isEnabled(){return this.sw.isEnabled}constructor(At){if(this.sw=At,this.pushManager=null,this.subscriptionChanges=new s.x,!At.isEnabled)return this.messages=v,this.notificationClicks=v,void(this.subscription=v);this.messages=this.sw.eventsOfType("PUSH").pipe((0,E.U)(gn=>gn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,E.U)(gn=>gn.data)),this.pushManager=this.sw.registration.pipe((0,E.U)(gn=>gn.pushManager));const Jt=this.pushManager.pipe((0,k.w)(gn=>gn.getSubscription()));this.subscription=(0,g.T)(Jt,this.subscriptionChanges)}requestSubscription(At){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(lt));const Jt={userVisibleOnly:!0};let gn=this.decodeBase64(At.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),_n=new Uint8Array(new ArrayBuffer(gn.length));for(let fn=0;fn<gn.length;fn++)_n[fn]=gn.charCodeAt(fn);return Jt.applicationServerKey=_n,this.pushManager.pipe((0,k.w)(fn=>fn.subscribe(Jt)),(0,Q.q)(1)).toPromise().then(fn=>(this.subscriptionChanges.next(fn),fn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Q.q)(1),(0,k.w)(Jt=>{if(null===Jt)throw new Error("Not subscribed to push notifications.");return Jt.unsubscribe().then(gn=>{if(!gn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(lt))}decodeBase64(At){return atob(At)}}return(ut=xt).\u0275fac=function(At){return new(At||ut)(j.LFG(St))},ut.\u0275prov=j.Yz7({token:ut,factory:ut.\u0275fac}),xt})(),Ct=(()=>{var ut;class xt{get isEnabled(){return this.sw.isEnabled}constructor(At){if(this.sw=At,!At.isEnabled)return this.versionUpdates=v,this.available=v,this.activated=v,void(this.unrecoverable=v);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,$.h)(Jt=>"VERSION_READY"===Jt.type),(0,E.U)(Jt=>({type:"UPDATE_AVAILABLE",current:Jt.currentVersion,available:Jt.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(lt));const At=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:At},At)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(lt));const At=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:At},At)}}return(ut=xt).\u0275fac=function(At){return new(At||ut)(j.LFG(St))},ut.\u0275prov=j.Yz7({token:ut,factory:ut.\u0275fac}),xt})();const rn=new j.OlP("NGSW_REGISTER_SCRIPT");function cn(ut,xt,jt,At){return()=>{if(!(0,y.NF)(At)||!("serviceWorker"in navigator)||!1===jt.enabled)return;let Jt;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof jt.registrationStrategy)Jt=jt.registrationStrategy();else{const[_n,...fn]=(jt.registrationStrategy||"registerWhenStable:30000").split(":");switch(_n){case"registerImmediately":Jt=(0,l.of)(null);break;case"registerWithDelay":Jt=Ht(+fn[0]||0);break;case"registerWhenStable":Jt=fn[0]?(0,g.T)(dn(ut),Ht(+fn[0])):dn(ut);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${jt.registrationStrategy}`)}}ut.get(j.R0b).runOutsideAngular(()=>Jt.pipe((0,Q.q)(1)).subscribe(()=>navigator.serviceWorker.register(xt,{scope:jt.scope}).catch(_n=>console.error("Service worker registration failed with:",_n))))}}function Ht(ut){return(0,l.of)(null).pipe(function yt(ut,xt=Re){const jt=function at(ut=0,xt,jt=$e){let At=-1;return null!=xt&&((0,Ne.K)(xt)?jt=xt:At=xt),new c.y(Jt=>{let gn=function Ke(ut){return ut instanceof Date&&!isNaN(ut)}(ut)?+ut-jt.now():ut;gn<0&&(gn=0);let _n=0;return jt.schedule(function(){Jt.closed||(Jt.next(_n++),0<=At?this.schedule(void 0,At):Jt.complete())},gn)})}(ut,xt);return Ye(()=>jt)}(ut))}function dn(ut){return ut.get(j.z2F).isStable.pipe((0,$.h)(jt=>jt))}function tn(ut,xt){return new St((0,y.NF)(xt)&&!1!==ut.enabled?navigator.serviceWorker:void 0)}class dt{}function Ut(ut,xt={}){return(0,j.MR2)([Wt,Ct,{provide:rn,useValue:ut},{provide:dt,useValue:xt},{provide:St,useFactory:tn,deps:[dt,j.Lbi]},{provide:j.ip1,useFactory:cn,deps:[j.zs3,rn,dt,j.Lbi],multi:!0}])}let wt=(()=>{var ut;class xt{static register(At,Jt={}){return{ngModule:xt,providers:[Ut(At,Jt)]}}}return(ut=xt).\u0275fac=function(At){return new(At||ut)},ut.\u0275mod=j.oAB({type:ut}),ut.\u0275inj=j.cJS({providers:[Wt,Ct]}),xt})();var Ue=me(1048),Ae=me(2372),ze=me(5196),mt=me(4663);let Dt=(()=>{var ut;class xt{}return(ut=xt).\u0275fac=function(At){return new(At||ut)},ut.\u0275mod=j.oAB({type:ut,bootstrap:[r.y$]}),ut.\u0275inj=j.cJS({providers:[{provide:st.wN,useClass:X.r4},f.A,Ae.$,Ue.V1,m.z,X.X1,d.sn,ze.u,mt.T],imports:[H.b2,X.Pc.forRoot(),O,wt.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),xt})();(0,j.G48)(),H.q6().bootstrapModule(Dt).catch(ut=>console.log(ut))},9868:(nn,Et,me)=>{var H=me(4687);nn.exports=function r(G,O,f){function m(w,b){if(!O[w]){if(!G[w]){var i=void 0;if(!b&&i)return require(w,!0);if(d)return d(w,!0);throw(b=new Error("Cannot find module '"+w+"'")).code="MODULE_NOT_FOUND",b}i=O[w]={exports:{}},G[w][0].call(i.exports,function(l){return m(G[w][1][l]||l)},i,i.exports,r,G,O,f)}return O[w].exports}for(var d=void 0,y=0;y<f.length;y++)m(f[y]);return m}({1:[function(r,G,O){"use strict";O.byteLength=function(s){return 3*((s=i(s))[0]+(s=s[1]))/4-s},O.toByteArray=function(l){var h,s,p,$,c=(p=i(l))[0],v=new d(3*(c+($=p=p[1]))/4-$),a=0,g=0<p?c-4:c;for(s=0;s<g;s+=4)h=m[l.charCodeAt(s)]<<18|m[l.charCodeAt(s+1)]<<12|m[l.charCodeAt(s+2)]<<6|m[l.charCodeAt(s+3)],v[a++]=h>>16&255,v[a++]=h>>8&255,v[a++]=255&h;return 2===p&&(h=m[l.charCodeAt(s)]<<2|m[l.charCodeAt(s+1)]>>4,v[a++]=255&h),1===p&&(h=m[l.charCodeAt(s)]<<10|m[l.charCodeAt(s+1)]<<4|m[l.charCodeAt(s+2)]>>2,v[a++]=h>>8&255,v[a++]=255&h),v},O.fromByteArray=function(l){for(var h,s=l.length,c=s%3,p=[],v=0,a=s-c;v<a;v+=16383)p.push(function(g,E,$){for(var M=[],A=E;A<$;A+=3)M.push(f[(L=(g[A]<<16&16711680)+(g[A+1]<<8&65280)+(255&g[A+2]))>>18&63]+f[L>>12&63]+f[L>>6&63]+f[63&L]);var L;return M.join("")}(l,v,a<v+16383?a:v+16383));return 1==c?p.push(f[(h=l[s-1])>>2]+f[h<<4&63]+"=="):2==c&&p.push(f[(h=(l[s-2]<<8)+l[s-1])>>10]+f[h>>4&63]+f[h<<2&63]+"="),p.join("")};for(var f=[],m=[],d=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0;w<64;++w)f[w]=y[w],m[y.charCodeAt(w)]=w;function i(l){var h=l.length;if(0<h%4)throw new Error("Invalid string. Length must be a multiple of 4");return h=(l=-1===(l=l.indexOf("="))?h:l)===h?0:4-l%4,[l,h]}m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63},{}],2:[function(r,G,O){},{}],3:[function(r,G,O){arguments[4][2][0].apply(O,arguments)},{dup:2}],4:[function(r,G,O){(function(i){"use strict";var m=r("base64-js"),d=r("ieee754"),y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,w=(O.Buffer=i,O.SlowBuffer=function(Z){return+Z!=Z&&(Z=0),i.alloc(+Z)},O.INSPECT_MAX_BYTES=50,2147483647);function b(Z){if(w<Z)throw new RangeError('The value "'+Z+'" is invalid for option "size"');return Z=new Uint8Array(Z),Object.setPrototypeOf(Z,i.prototype),Z}function i(Z,ie,pe){if("number"!=typeof Z)return l(Z,ie,pe);if("string"==typeof ie)throw new TypeError('The "string" argument must be of type string. Received type number');return s(Z)}function l(Z,ie,pe){if("string"==typeof Z){var we=Z,Re=ie;if(i.isEncoding(Re="string"==typeof Re&&""!==Re?Re:"utf8"))return(we=(Fe=b($e=0|v(we,Re))).write(we,Re))!==$e?Fe.slice(0,we):Fe;throw new TypeError("Unknown encoding: "+Re)}if(ArrayBuffer.isView(Z))return c(Z);if(null!=Z){if(se(Z,ArrayBuffer)||Z&&se(Z.buffer,ArrayBuffer)){var $e=Z,Fe=pe;if((we=ie)<0||$e.byteLength<we)throw new RangeError('"offset" is outside of buffer bounds');if($e.byteLength<we+(Fe||0))throw new RangeError('"length" is outside of buffer bounds');return $e=void 0===we&&void 0===Fe?new Uint8Array($e):void 0===Fe?new Uint8Array($e,we):new Uint8Array($e,we,Fe),Object.setPrototypeOf($e,i.prototype),$e}if("number"==typeof Z)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(Re=Z.valueOf&&Z.valueOf())&&Re!==Z)return i.from(Re,ie,pe);var Ge=i.isBuffer(je=Z)?(0!==(Ye=b(We=0|p(je.length))).length&&je.copy(Ye,0,0,We),Ye):void 0!==je.length?"number"!=typeof je.length||fe(je.length)?b(0):c(je):"Buffer"===je.type&&Array.isArray(je.data)?c(je.data):void 0;if(Ge)return Ge;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Z[Symbol.toPrimitive])return i.from(Z[Symbol.toPrimitive]("string"),ie,pe)}var je,We,Ye;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}function h(Z){if("number"!=typeof Z)throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function s(Z){return h(Z),b(Z<0?0:0|p(Z))}function c(Z){for(var ie=Z.length<0?0:0|p(Z.length),pe=b(ie),we=0;we<ie;we+=1)pe[we]=255&Z[we];return pe}function p(Z){if(w<=Z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|Z}function v(Z,ie){if(i.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||se(Z,ArrayBuffer))return Z.byteLength;if("string"!=typeof Z)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);var pe=Z.length,we=2<arguments.length&&!0===arguments[2];if(!we&&0===pe)return 0;for(var Re=!1;;)switch(ie){case"ascii":case"latin1":case"binary":return pe;case"utf8":case"utf-8":return Q(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*pe;case"hex":return pe>>>1;case"base64":return T(Z).length;default:if(Re)return we?-1:Q(Z).length;ie=(""+ie).toLowerCase(),Re=!0}}function a(Z,ie,pe){var we,Re=!1;if((ie=void 0===ie||ie<0?0:ie)>this.length||(pe=void 0===pe||pe>this.length?this.length:pe)<=0||(pe>>>=0)<=(ie>>>=0))return"";for(Z=Z||"utf8";;)switch(Z){case"hex":var Fe=pe,Ye=this.length;(!Fe||Fe<0||Ye<Fe)&&(Fe=Ye);for(var Ge="",je=lt=!(lt=ie)||lt<0?0:lt;je<Fe;++je)Ge+=Ie[this[je]];return Ge;case"utf8":case"utf-8":return A(this,ie,pe);case"ascii":var Ne=(Ye=ie,pe),Ke="";Ne=Math.min(this.length,Ne);for(var at=Ye;at<Ne;++at)Ke+=String.fromCharCode(127&this[at]);return Ke;case"latin1":case"binary":var lt=ie,nt=pe,St="";nt=Math.min(this.length,nt);for(var Wt=lt;Wt<nt;++Wt)St+=String.fromCharCode(this[Wt]);return St;case"base64":return Ct=this,we=pe,0===(rn=ie)&&we===Ct.length?m.fromByteArray(Ct):m.fromByteArray(Ct.slice(rn,we));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ct=ie,rn=pe,cn=this.slice(Ct,rn),Ht="",dn=0;dn<cn.length;dn+=2)Ht+=String.fromCharCode(cn[dn]+256*cn[dn+1]);return Ht;default:if(Re)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),Re=!0}}function g(Z,ie,pe){var we=Z[ie];Z[ie]=Z[pe],Z[pe]=we}function E(Z,ie,pe,we,Re){if(0===Z.length)return-1;if("string"==typeof pe?(we=pe,pe=0):2147483647<pe?pe=2147483647:pe<-2147483648&&(pe=-2147483648),(pe=(pe=fe(pe=+pe)?Re?0:Z.length-1:pe)<0?Z.length+pe:pe)>=Z.length){if(Re)return-1;pe=Z.length-1}else if(pe<0){if(!Re)return-1;pe=0}if("string"==typeof ie&&(ie=i.from(ie,we)),i.isBuffer(ie))return 0===ie.length?-1:$(Z,ie,pe,we,Re);if("number"==typeof ie)return ie&=255,"function"==typeof Uint8Array.prototype.indexOf?(Re?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(Z,ie,pe):$(Z,[ie],pe,we,Re);throw new TypeError("val must be string, number or Buffer")}function $(Z,ie,pe,we,Re){var $e=1,Fe=Z.length,Ge=ie.length;if(void 0!==we&&("ucs2"===(we=String(we).toLowerCase())||"ucs-2"===we||"utf16le"===we||"utf-16le"===we)){if(Z.length<2||ie.length<2)return-1;Fe/=$e=2,Ge/=2,pe/=2}function je(at,yt){return 1===$e?at[yt]:at.readUInt16BE(yt*$e)}if(Re)for(var We=-1,Ye=pe;Ye<Fe;Ye++)if(je(Z,Ye)===je(ie,-1===We?0:Ye-We)){if(Ye-(We=-1===We?Ye:We)+1===Ge)return We*$e}else-1!==We&&(Ye-=Ye-We),We=-1;else for(Ye=pe=Fe<pe+Ge?Fe-Ge:pe;0<=Ye;Ye--){for(var Ne=!0,Ke=0;Ke<Ge;Ke++)if(je(Z,Ye+Ke)!==je(ie,Ke)){Ne=!1;break}if(Ne)return Ye}return-1}function k(Z,ie,pe,we){return K(function(Re){for(var $e=[],Fe=0;Fe<Re.length;++Fe)$e.push(255&Re.charCodeAt(Fe));return $e}(ie),Z,pe,we)}function M(Z,ie,pe,we){return K(function(Re,$e){for(var Fe,Ge,je=[],We=0;We<Re.length&&!(($e-=2)<0);++We)Fe=(Ge=Re.charCodeAt(We))>>8,je.push(Ge%=256),je.push(Fe);return je}(ie,Z.length-pe),Z,pe,we)}function A(Z,ie,pe){pe=Math.min(Z.length,pe);for(var we=[],Re=ie;Re<pe;){var $e,Fe,Ge,je,We=Z[Re],Ye=null,Ne=239<We?4:223<We?3:191<We?2:1;if(Re+Ne<=pe)switch(Ne){case 1:We<128&&(Ye=We);break;case 2:128==(192&($e=Z[Re+1]))&&127<(je=(31&We)<<6|63&$e)&&(Ye=je);break;case 3:Fe=Z[Re+2],128==(192&($e=Z[Re+1]))&&128==(192&Fe)&&2047<(je=(15&We)<<12|(63&$e)<<6|63&Fe)&&(je<55296||57343<je)&&(Ye=je);break;case 4:Fe=Z[Re+2],Ge=Z[Re+3],128==(192&($e=Z[Re+1]))&&128==(192&Fe)&&128==(192&Ge)&&65535<(je=(15&We)<<18|(63&$e)<<12|(63&Fe)<<6|63&Ge)&&je<1114112&&(Ye=je)}null===Ye?(Ye=65533,Ne=1):65535<Ye&&(we.push((Ye-=65536)>>>10&1023|55296),Ye=56320|1023&Ye),we.push(Ye),Re+=Ne}var Ke=we,at=Ke.length;if(at<=L)return String.fromCharCode.apply(String,Ke);for(var yt="",lt=0;lt<at;)yt+=String.fromCharCode.apply(String,Ke.slice(lt,lt+=L));return yt}O.kMaxLength=w,(i.TYPED_ARRAY_SUPPORT=function(){try{var Z=new Uint8Array(1),ie={foo:function(){return 42}};return Object.setPrototypeOf(ie,Uint8Array.prototype),Object.setPrototypeOf(Z,ie),42===Z.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=l,Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(Z,ie,pe){return h(Z),Z<=0||void 0===ie?b(Z):"string"==typeof pe?b(Z).fill(ie,pe):b(Z).fill(ie)},i.allocUnsafe=s,i.allocUnsafeSlow=s,i.isBuffer=function(Z){return null!=Z&&!0===Z._isBuffer&&Z!==i.prototype},i.compare=function(Z,ie){if(se(Z,Uint8Array)&&(Z=i.from(Z,Z.offset,Z.byteLength)),se(ie,Uint8Array)&&(ie=i.from(ie,ie.offset,ie.byteLength)),!i.isBuffer(Z)||!i.isBuffer(ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Z===ie)return 0;for(var pe=Z.length,we=ie.length,Re=0,$e=Math.min(pe,we);Re<$e;++Re)if(Z[Re]!==ie[Re]){pe=Z[Re],we=ie[Re];break}return pe<we?-1:we<pe?1:0},i.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(Z,ie){if(!Array.isArray(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Z.length)return i.alloc(0);if(void 0===ie)for(Re=ie=0;Re<Z.length;++Re)ie+=Z[Re].length;for(var pe=i.allocUnsafe(ie),we=0,Re=0;Re<Z.length;++Re){var $e=Z[Re];if(se($e,Uint8Array)&&($e=i.from($e)),!i.isBuffer($e))throw new TypeError('"list" argument must be an Array of Buffers');$e.copy(pe,we),we+=$e.length}return pe},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var Z=this.length;if(Z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ie=0;ie<Z;ie+=2)g(this,ie,ie+1);return this},i.prototype.swap32=function(){var Z=this.length;if(Z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ie=0;ie<Z;ie+=4)g(this,ie,ie+3),g(this,ie+1,ie+2);return this},i.prototype.swap64=function(){var Z=this.length;if(Z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ie=0;ie<Z;ie+=8)g(this,ie,ie+7),g(this,ie+1,ie+6),g(this,ie+2,ie+5),g(this,ie+3,ie+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var Z=this.length;return 0===Z?"":0===arguments.length?A(this,0,Z):a.apply(this,arguments)},i.prototype.equals=function(Z){if(i.isBuffer(Z))return this===Z||0===i.compare(this,Z);throw new TypeError("Argument must be a Buffer")},i.prototype.inspect=function(){var ie="",Z=O.INSPECT_MAX_BYTES;return ie=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(ie+=" ... "),"<Buffer "+ie+">"},y&&(i.prototype[y]=i.prototype.inspect),i.prototype.compare=function(Z,ie,pe,we,Re){if(se(Z,Uint8Array)&&(Z=i.from(Z,Z.offset,Z.byteLength)),!i.isBuffer(Z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Z);if(void 0===pe&&(pe=Z?Z.length:0),void 0===we&&(we=0),void 0===Re&&(Re=this.length),(ie=void 0===ie?0:ie)<0||pe>Z.length||we<0||Re>this.length)throw new RangeError("out of range index");if(Re<=we&&pe<=ie)return 0;if(Re<=we)return-1;if(pe<=ie)return 1;if(this===Z)return 0;for(var $e=(Re>>>=0)-(we>>>=0),Fe=(pe>>>=0)-(ie>>>=0),Ge=Math.min($e,Fe),je=this.slice(we,Re),We=Z.slice(ie,pe),Ye=0;Ye<Ge;++Ye)if(je[Ye]!==We[Ye]){$e=je[Ye],Fe=We[Ye];break}return $e<Fe?-1:Fe<$e?1:0},i.prototype.includes=function(Z,ie,pe){return-1!==this.indexOf(Z,ie,pe)},i.prototype.indexOf=function(Z,ie,pe){return E(this,Z,ie,pe,!0)},i.prototype.lastIndexOf=function(Z,ie,pe){return E(this,Z,ie,pe,!1)},i.prototype.write=function(Z,ie,pe,we){if(void 0===ie)we="utf8",pe=this.length,ie=0;else if(void 0===pe&&"string"==typeof ie)we=ie,pe=this.length,ie=0;else{if(!isFinite(ie))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ie>>>=0,isFinite(pe)?(pe>>>=0,void 0===we&&(we="utf8")):(we=pe,pe=void 0)}var Re=this.length-ie;if((void 0===pe||Re<pe)&&(pe=Re),0<Z.length&&(pe<0||ie<0)||ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");we=we||"utf8";for(var $e,Fe,Ge,je=!1;;)switch(we){case"hex":var Ye=Z,Ne=ie,Ke=pe,at=(Ne=Number(Ne)||0,this.length-Ne);(!Ke||at<(Ke=Number(Ke)))&&(Ke=at),(at=Ye.length)/2<Ke&&(Ke=at/2);for(var yt=0;yt<Ke;++yt){var lt=parseInt(Ye.substr(2*yt,2),16);if(fe(lt))return yt;this[Ne+yt]=lt}return yt;case"utf8":case"utf-8":return Ge=pe,K(Q(Z,(Fe=this).length-(at=ie)),Fe,at,Ge);case"ascii":case"latin1":case"binary":return k(this,Z,ie,pe);case"base64":return Fe=this,Ge=ie,$e=pe,K(T(Z),Fe,Ge,$e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,Z,ie,pe);default:if(je)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),je=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function U(Z,ie,pe){if(Z%1!=0||Z<0)throw new RangeError("offset is not uint");if(pe<Z+ie)throw new RangeError("Trying to access beyond buffer length")}function I(Z,ie,pe,we,Re,$e){if(!i.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(Re<ie||ie<$e)throw new RangeError('"value" argument is out of bounds');if(pe+we>Z.length)throw new RangeError("Index out of range")}function D(Z,ie,pe,we){if(pe+we>Z.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("Index out of range")}function R(Z,ie,pe,we,Re){return ie=+ie,pe>>>=0,Re||D(Z,0,pe,4),d.write(Z,ie,pe,we,23,4),pe+4}function V(Z,ie,pe,we,Re){return ie=+ie,pe>>>=0,Re||D(Z,0,pe,8),d.write(Z,ie,pe,we,52,8),pe+8}i.prototype.slice=function(Z,ie){var pe=this.length;return(Z=~~Z)<0?(Z+=pe)<0&&(Z=0):pe<Z&&(Z=pe),(ie=void 0===ie?pe:~~ie)<0?(ie+=pe)<0&&(ie=0):pe<ie&&(ie=pe),ie<Z&&(ie=Z),pe=this.subarray(Z,ie),Object.setPrototypeOf(pe,i.prototype),pe},i.prototype.readUIntLE=function(Z,ie,pe){Z>>>=0,ie>>>=0,pe||U(Z,ie,this.length);for(var we=this[Z],Re=1,$e=0;++$e<ie&&(Re*=256);)we+=this[Z+$e]*Re;return we},i.prototype.readUIntBE=function(Z,ie,pe){Z>>>=0,ie>>>=0,pe||U(Z,ie,this.length);for(var we=this[Z+--ie],Re=1;0<ie&&(Re*=256);)we+=this[Z+--ie]*Re;return we},i.prototype.readUInt8=function(Z,ie){return Z>>>=0,ie||U(Z,1,this.length),this[Z]},i.prototype.readUInt16LE=function(Z,ie){return Z>>>=0,ie||U(Z,2,this.length),this[Z]|this[Z+1]<<8},i.prototype.readUInt16BE=function(Z,ie){return Z>>>=0,ie||U(Z,2,this.length),this[Z]<<8|this[Z+1]},i.prototype.readUInt32LE=function(Z,ie){return Z>>>=0,ie||U(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+16777216*this[Z+3]},i.prototype.readUInt32BE=function(Z,ie){return Z>>>=0,ie||U(Z,4,this.length),16777216*this[Z]+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},i.prototype.readIntLE=function(Z,ie,pe){Z>>>=0,ie>>>=0,pe||U(Z,ie,this.length);for(var we=this[Z],Re=1,$e=0;++$e<ie&&(Re*=256);)we+=this[Z+$e]*Re;return(Re*=128)<=we&&(we-=Math.pow(2,8*ie)),we},i.prototype.readIntBE=function(Z,ie,pe){Z>>>=0,ie>>>=0,pe||U(Z,ie,this.length);for(var we=ie,Re=1,$e=this[Z+--we];0<we&&(Re*=256);)$e+=this[Z+--we]*Re;return(Re*=128)<=$e&&($e-=Math.pow(2,8*ie)),$e},i.prototype.readInt8=function(Z,ie){return Z>>>=0,ie||U(Z,1,this.length),128&this[Z]?-1*(255-this[Z]+1):this[Z]},i.prototype.readInt16LE=function(Z,ie){return Z>>>=0,ie||U(Z,2,this.length),32768&(ie=this[Z]|this[Z+1]<<8)?4294901760|ie:ie},i.prototype.readInt16BE=function(Z,ie){return Z>>>=0,ie||U(Z,2,this.length),32768&(ie=this[Z+1]|this[Z]<<8)?4294901760|ie:ie},i.prototype.readInt32LE=function(Z,ie){return Z>>>=0,ie||U(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},i.prototype.readInt32BE=function(Z,ie){return Z>>>=0,ie||U(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},i.prototype.readFloatLE=function(Z,ie){return Z>>>=0,ie||U(Z,4,this.length),d.read(this,Z,!0,23,4)},i.prototype.readFloatBE=function(Z,ie){return Z>>>=0,ie||U(Z,4,this.length),d.read(this,Z,!1,23,4)},i.prototype.readDoubleLE=function(Z,ie){return Z>>>=0,ie||U(Z,8,this.length),d.read(this,Z,!0,52,8)},i.prototype.readDoubleBE=function(Z,ie){return Z>>>=0,ie||U(Z,8,this.length),d.read(this,Z,!1,52,8)},i.prototype.writeUIntLE=function(Z,ie,pe,we){Z=+Z,ie>>>=0,pe>>>=0,we||I(this,Z,ie,pe,Math.pow(2,8*pe)-1,0);var Re=1,$e=0;for(this[ie]=255&Z;++$e<pe&&(Re*=256);)this[ie+$e]=Z/Re&255;return ie+pe},i.prototype.writeUIntBE=function(Z,ie,pe,we){Z=+Z,ie>>>=0,pe>>>=0,we||I(this,Z,ie,pe,Math.pow(2,8*pe)-1,0);var Re=pe-1,$e=1;for(this[ie+Re]=255&Z;0<=--Re&&($e*=256);)this[ie+Re]=Z/$e&255;return ie+pe},i.prototype.writeUInt8=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,1,255,0),this[ie]=255&Z,ie+1},i.prototype.writeUInt16LE=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,2,65535,0),this[ie]=255&Z,this[ie+1]=Z>>>8,ie+2},i.prototype.writeUInt16BE=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,2,65535,0),this[ie]=Z>>>8,this[ie+1]=255&Z,ie+2},i.prototype.writeUInt32LE=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,4,4294967295,0),this[ie+3]=Z>>>24,this[ie+2]=Z>>>16,this[ie+1]=Z>>>8,this[ie]=255&Z,ie+4},i.prototype.writeUInt32BE=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,4,4294967295,0),this[ie]=Z>>>24,this[ie+1]=Z>>>16,this[ie+2]=Z>>>8,this[ie+3]=255&Z,ie+4},i.prototype.writeIntLE=function(Z,ie,pe,we){Z=+Z,ie>>>=0,we||I(this,Z,ie,pe,(we=Math.pow(2,8*pe-1))-1,-we);var Re=0,$e=1,Fe=0;for(this[ie]=255&Z;++Re<pe&&($e*=256);)Z<0&&0===Fe&&0!==this[ie+Re-1]&&(Fe=1),this[ie+Re]=(Z/$e>>0)-Fe&255;return ie+pe},i.prototype.writeIntBE=function(Z,ie,pe,we){Z=+Z,ie>>>=0,we||I(this,Z,ie,pe,(we=Math.pow(2,8*pe-1))-1,-we);var Re=pe-1,$e=1,Fe=0;for(this[ie+Re]=255&Z;0<=--Re&&($e*=256);)Z<0&&0===Fe&&0!==this[ie+Re+1]&&(Fe=1),this[ie+Re]=(Z/$e>>0)-Fe&255;return ie+pe},i.prototype.writeInt8=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,1,127,-128),this[ie]=255&(Z=Z<0?255+Z+1:Z),ie+1},i.prototype.writeInt16LE=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,2,32767,-32768),this[ie]=255&Z,this[ie+1]=Z>>>8,ie+2},i.prototype.writeInt16BE=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,2,32767,-32768),this[ie]=Z>>>8,this[ie+1]=255&Z,ie+2},i.prototype.writeInt32LE=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,4,2147483647,-2147483648),this[ie]=255&Z,this[ie+1]=Z>>>8,this[ie+2]=Z>>>16,this[ie+3]=Z>>>24,ie+4},i.prototype.writeInt32BE=function(Z,ie,pe){return Z=+Z,ie>>>=0,pe||I(this,Z,ie,4,2147483647,-2147483648),this[ie]=(Z=Z<0?4294967295+Z+1:Z)>>>24,this[ie+1]=Z>>>16,this[ie+2]=Z>>>8,this[ie+3]=255&Z,ie+4},i.prototype.writeFloatLE=function(Z,ie,pe){return R(this,Z,ie,!0,pe)},i.prototype.writeFloatBE=function(Z,ie,pe){return R(this,Z,ie,!1,pe)},i.prototype.writeDoubleLE=function(Z,ie,pe){return V(this,Z,ie,!0,pe)},i.prototype.writeDoubleBE=function(Z,ie,pe){return V(this,Z,ie,!1,pe)},i.prototype.copy=function(Z,ie,pe,we){if(!i.isBuffer(Z))throw new TypeError("argument should be a Buffer");if(pe=pe||0,we||0===we||(we=this.length),ie>=Z.length&&(ie=Z.length),(we=0<we&&we<pe?pe:we)===pe||0===Z.length||0===this.length)return 0;if((ie=ie||0)<0)throw new RangeError("targetStart out of bounds");if(pe<0||pe>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length);var Re=(we=Z.length-ie<we-pe?Z.length-ie+pe:we)-pe;if(this===Z&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(ie,pe,we);else if(this===Z&&pe<ie&&ie<we)for(var $e=Re-1;0<=$e;--$e)Z[$e+ie]=this[$e+pe];else Uint8Array.prototype.set.call(Z,this.subarray(pe,we),ie);return Re},i.prototype.fill=function(Z,ie,pe,we){if("string"==typeof Z){if("string"==typeof ie?(we=ie,ie=0,pe=this.length):"string"==typeof pe&&(we=pe,pe=this.length),void 0!==we&&"string"!=typeof we)throw new TypeError("encoding must be a string");if("string"==typeof we&&!i.isEncoding(we))throw new TypeError("Unknown encoding: "+we);var Re;1===Z.length&&(Re=Z.charCodeAt(0),("utf8"===we&&Re<128||"latin1"===we)&&(Z=Re))}else"number"==typeof Z?Z&=255:"boolean"==typeof Z&&(Z=Number(Z));if(ie<0||this.length<ie||this.length<pe)throw new RangeError("Out of range index");var $e;if(!(pe<=ie))if(ie>>>=0,pe=void 0===pe?this.length:pe>>>0,"number"==typeof(Z=Z||0))for($e=ie;$e<pe;++$e)this[$e]=Z;else{var Fe=i.isBuffer(Z)?Z:i.from(Z,we),Ge=Fe.length;if(0===Ge)throw new TypeError('The value "'+Z+'" is invalid for argument "value"');for($e=0;$e<pe-ie;++$e)this[$e+ie]=Fe[$e%Ge]}return this};var N=/[^+/0-9A-Za-z-_]/g;function Q(Z,ie){ie=ie||1/0;for(var pe,we=Z.length,Re=null,$e=[],Fe=0;Fe<we;++Fe){if(55295<(pe=Z.charCodeAt(Fe))&&pe<57344){if(!Re){if(56319<pe){-1<(ie-=3)&&$e.push(239,191,189);continue}if(Fe+1===we){-1<(ie-=3)&&$e.push(239,191,189);continue}Re=pe;continue}if(pe<56320){-1<(ie-=3)&&$e.push(239,191,189),Re=pe;continue}pe=65536+(Re-55296<<10|pe-56320)}else Re&&-1<(ie-=3)&&$e.push(239,191,189);if(Re=null,pe<128){if(--ie<0)break;$e.push(pe)}else if(pe<2048){if((ie-=2)<0)break;$e.push(pe>>6|192,63&pe|128)}else if(pe<65536){if((ie-=3)<0)break;$e.push(pe>>12|224,pe>>6&63|128,63&pe|128)}else{if(!(pe<1114112))throw new Error("Invalid code point");if((ie-=4)<0)break;$e.push(pe>>18|240,pe>>12&63|128,pe>>6&63|128,63&pe|128)}}return $e}function T(Z){return m.toByteArray(function(ie){if((ie=(ie=ie.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;ie.length%4!=0;)ie+="=";return ie}(Z))}function K(Z,ie,pe,we){for(var Re=0;Re<we&&!(Re+pe>=ie.length||Re>=Z.length);++Re)ie[Re+pe]=Z[Re];return Re}function se(Z,ie){return Z instanceof ie||null!=Z&&null!=Z.constructor&&null!=Z.constructor.name&&Z.constructor.name===ie.name}function fe(Z){return Z!=Z}var Ie=function(){for(var Z="0123456789abcdef",ie=new Array(256),pe=0;pe<16;++pe)for(var we=16*pe,Re=0;Re<16;++Re)ie[we+Re]=Z[pe]+Z[Re];return ie}()}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:244}],5:[function(r,G,O){G.exports=function(f){if("function"!=typeof f)throw TypeError(String(f)+" is not a function");return f}},{}],6:[function(r,G,O){var f=r("../internals/is-object");G.exports=function(m){if(f(m)||null===m)return m;throw TypeError("Can't set "+String(m)+" as a prototype")}},{"../internals/is-object":74}],7:[function(d,G,O){var f=d("../internals/well-known-symbol"),m=d("../internals/object-create"),y=(d=d("../internals/object-define-property"),f("unscopables")),w=Array.prototype;null==w[y]&&d.f(w,y,{configurable:!0,value:m(null)}),G.exports=function(b){w[y][b]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(r,G,O){"use strict";var f=r("../internals/string-multibyte").charAt;G.exports=function(m,d,y){return d+(y?f(m,d).length:1)}},{"../internals/string-multibyte":123}],9:[function(r,G,O){G.exports=function(f,m,d){if(f instanceof m)return f;throw TypeError("Incorrect "+(d?d+" ":"")+"invocation")}},{}],10:[function(r,G,O){var f=r("../internals/is-object");G.exports=function(m){if(f(m))return m;throw TypeError(String(m)+" is not an object")}},{"../internals/is-object":74}],11:[function(r,G,O){G.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(D,G,O){"use strict";function f(V){return b(V)&&i(R,l(V))}var m,d=D("../internals/array-buffer-native"),y=D("../internals/descriptors"),w=D("../internals/global"),b=D("../internals/is-object"),i=D("../internals/has"),l=D("../internals/classof"),h=D("../internals/create-non-enumerable-property"),s=D("../internals/redefine"),c=D("../internals/object-define-property").f,p=D("../internals/object-get-prototype-of"),v=D("../internals/object-set-prototype-of"),L=D("../internals/well-known-symbol"),a=(D=D("../internals/uid"),w.Int8Array),g=a&&a.prototype,E=(E=w.Uint8ClampedArray)&&E.prototype,$=a&&p(a),k=g&&p(g),M=Object.prototype,A=M.isPrototypeOf,U=(L=L("toStringTag"),D("TYPED_ARRAY_TAG")),I=d&&!!v&&"Opera"!==l(w.opera),R=(D=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(m in R)w[m]||(I=!1);if((!I||"function"!=typeof $||$===Function.prototype)&&($=function(){throw TypeError("Incorrect invocation")},I))for(m in R)w[m]&&v(w[m],$);if((!I||!k||k===M)&&(k=$.prototype,I))for(m in R)w[m]&&v(w[m].prototype,k);if(I&&p(E)!==k&&v(E,k),y&&!i(k,L))for(m in D=!0,c(k,L,{get:function(){return b(this)?this[U]:void 0}}),R)w[m]&&h(w[m],U,m);G.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:D&&U,aTypedArray:function(V){if(f(V))return V;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(V){if(v){if(A.call($,V))return V}else for(var N in R)if(i(R,m)&&(N=w[N])&&(V===N||A.call(N,V)))return V;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(V,N,Q){if(y){if(Q)for(var T in R)(T=w[T])&&i(T.prototype,V)&&delete T.prototype[V];k[V]&&!Q||s(k,V,!Q&&I&&g[V]||N)}},exportTypedArrayStaticMethod:function(V,N,Q){var T,K;if(y){if(v){if(Q)for(T in R)(K=w[T])&&i(K,V)&&delete K[V];if($[V]&&!Q)return;try{return s($,V,!Q&&I&&a[V]||N)}catch{}}for(T in R)!(K=w[T])||K[V]&&!Q||s(K,V,N)}},isView:function(V){return"DataView"===(V=l(V))||i(R,V)},isTypedArray:f,TypedArray:$,TypedArrayPrototype:k}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(pe,G,O){"use strict";function f(Ne){return[255&Ne]}function m(Ne){return[255&Ne,Ne>>8&255]}function d(Ne){return[255&Ne,Ne>>8&255,Ne>>16&255,Ne>>24&255]}function y(Ne){return Ne[3]<<24|Ne[2]<<16|Ne[1]<<8|Ne[0]}function w(Ne){return $e(Ne,23,4)}function b(Ne){return $e(Ne,52,8)}function i(Ne,Ke){D(Ne[se],Ke,{get:function(){return N(this)[Ke]}})}function l(St,Ke,nt,yt){if((nt=M(nt))+Ke>(St=N(St)).byteLength)throw Re(fe);return St=N(St.buffer).bytes.slice(nt+=St.byteOffset,nt+Ke),yt?St:St.reverse()}function h(Ne,Ke,at,yt,lt,nt){if((at=M(at))+Ke>(Ne=N(Ne)).byteLength)throw Re(fe);for(var St=N(Ne.buffer).bytes,Wt=at+Ne.byteOffset,Ct=yt(+lt),rn=0;rn<Ke;rn++)St[Wt+rn]=Ct[nt?rn:Ke-rn-1]}var s=pe("../internals/global"),c=pe("../internals/descriptors"),p=pe("../internals/array-buffer-native"),v=pe("../internals/create-non-enumerable-property"),a=pe("../internals/redefine-all"),g=pe("../internals/fails"),E=pe("../internals/an-instance"),$=pe("../internals/to-integer"),k=pe("../internals/to-length"),M=pe("../internals/to-index"),A=pe("../internals/ieee754"),L=pe("../internals/object-get-prototype-of"),U=pe("../internals/object-set-prototype-of"),I=pe("../internals/object-get-own-property-names").f,D=pe("../internals/object-define-property").f,R=pe("../internals/array-fill"),V=pe("../internals/set-to-string-tag"),N=(pe=pe("../internals/internal-state")).get,Q=pe.set,T="ArrayBuffer",K="DataView",se="prototype",fe="Wrong index",Ie=s[T],Z=Ie,ie=s[K],we=(pe=ie&&ie[se],Object.prototype),Re=s.RangeError,$e=A.pack,Fe=A.unpack;if(p){if(!g(function(){Ie(1)})||!g(function(){new Ie(-1)})||g(function(){return new Ie,new Ie(1.5),new Ie(NaN),Ie.name!=T})){s=(Z=function(at){return E(this,Z),new Ie(M(at))})[se]=Ie[se];for(var Ge,je=I(Ie),We=0;je.length>We;)(Ge=je[We++])in Z||v(Z,Ge,Ie[Ge]);s.constructor=Z}U&&L(pe)!==we&&U(pe,we),A=new ie(new Z(2));var Ye=pe.setInt8;A.setInt8(0,2147483648),A.setInt8(1,2147483649),!A.getInt8(0)&&A.getInt8(1)||a(pe,{setInt8:function(Ke,at){Ye.call(this,Ke,at<<24>>24)},setUint8:function(Ke,at){Ye.call(this,Ke,at<<24>>24)}},{unsafe:!0})}else Z=function(Ne){E(this,Z,T),Ne=M(Ne),Q(this,{bytes:R.call(new Array(Ne),0),byteLength:Ne}),c||(this.byteLength=Ne)},ie=function(Ne,lt,at){E(this,ie,K),E(Ne,Z,K);var yt=N(Ne).byteLength;if((lt=$(lt))<0||yt<lt)throw Re("Wrong offset");if(yt<lt+(at=void 0===at?yt-lt:k(at)))throw Re("Wrong length");Q(this,{buffer:Ne,byteLength:at,byteOffset:lt}),c||(this.buffer=Ne,this.byteLength=at,this.byteOffset=lt)},c&&(i(Z,"byteLength"),i(ie,"buffer"),i(ie,"byteLength"),i(ie,"byteOffset")),a(ie[se],{getInt8:function(Ne){return l(this,1,Ne)[0]<<24>>24},getUint8:function(Ne){return l(this,1,Ne)[0]},getInt16:function(Ne){return((Ne=l(this,2,Ne,1<arguments.length?arguments[1]:void 0))[1]<<8|Ne[0])<<16>>16},getUint16:function(Ne){return(Ne=l(this,2,Ne,1<arguments.length?arguments[1]:void 0))[1]<<8|Ne[0]},getInt32:function(Ne){return y(l(this,4,Ne,1<arguments.length?arguments[1]:void 0))},getUint32:function(Ne){return y(l(this,4,Ne,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Ne){return Fe(l(this,4,Ne,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Ne){return Fe(l(this,8,Ne,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Ne,Ke){h(this,1,Ne,f,Ke)},setUint8:function(Ne,Ke){h(this,1,Ne,f,Ke)},setInt16:function(Ne,Ke){h(this,2,Ne,m,Ke,2<arguments.length?arguments[2]:void 0)},setUint16:function(Ne,Ke){h(this,2,Ne,m,Ke,2<arguments.length?arguments[2]:void 0)},setInt32:function(Ne,Ke){h(this,4,Ne,d,Ke,2<arguments.length?arguments[2]:void 0)},setUint32:function(Ne,Ke){h(this,4,Ne,d,Ke,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Ne,Ke){h(this,4,Ne,w,Ke,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Ne,Ke){h(this,8,Ne,b,Ke,2<arguments.length?arguments[2]:void 0)}});V(Z,T),V(ie,K),G.exports={ArrayBuffer:Z,DataView:ie}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(r,G,O){"use strict";var f=r("../internals/to-object"),m=r("../internals/to-absolute-index"),d=r("../internals/to-length"),y=Math.min;G.exports=[].copyWithin||function(c,b){var i=f(this),l=d(i.length),h=m(c,l),s=m(b,l),p=y((void 0===(c=2<arguments.length?arguments[2]:void 0)?l:m(c,l))-s,l-h),v=1;for(s<h&&h<s+p&&(v=-1,s+=p-1,h+=p-1);0<p--;)s in i?i[h]=i[s]:delete i[h],h+=v,s+=v;return i}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(r,G,O){"use strict";var f=r("../internals/to-object"),m=r("../internals/to-absolute-index"),d=r("../internals/to-length");G.exports=function(y){for(var l,w=f(this),b=d(w.length),i=m(1<(l=arguments.length)?arguments[1]:void 0,b),h=void 0===(l=2<l?arguments[2]:void 0)?b:m(l,b);i<h;)w[i++]=y;return w}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(d,G,O){"use strict";var f=d("../internals/array-iteration").forEach,m=d("../internals/array-method-is-strict");d=d("../internals/array-method-uses-to-length"),m=m("forEach"),d=d("forEach"),G.exports=m&&d?[].forEach:function(y){return f(this,y,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(r,G,O){"use strict";var f=r("../internals/function-bind-context"),m=r("../internals/to-object"),d=r("../internals/call-with-safe-iteration-closing"),y=r("../internals/is-array-iterator-method"),w=r("../internals/to-length"),b=r("../internals/create-property"),i=r("../internals/get-iterator-method");G.exports=function(E){var h,s,c,p,v,a,g=m(E),$=(E="function"==typeof this?this:Array,arguments.length),k=1<$?arguments[1]:void 0,M=void 0!==k,A=i(g),L=0;if(M&&(k=f(k,2<$?arguments[2]:void 0,2)),null==A||E==Array&&y(A))for(s=new E(h=w(g.length));L<h;L++)a=M?k(g[L],L):g[L],b(s,L,a);else for(v=(p=A.call(g)).next,s=new E;!(c=v.call(p)).done;L++)a=M?d(p,k,[c.value,L],!0):c.value,b(s,L,a);return s.length=L,s}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(r,G,O){function f(w){return function(b,i,l){var h,s=m(b),c=d(s.length),p=y(l,c);if(w&&i!=i){for(;p<c;)if((h=s[p++])!=h)return!0}else for(;p<c;p++)if((w||p in s)&&s[p]===i)return w||p||0;return!w&&-1}}var m=r("../internals/to-indexed-object"),d=r("../internals/to-length"),y=r("../internals/to-absolute-index");G.exports={includes:f(!0),indexOf:f(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(r,G,O){function f(l){var h=1==l,s=2==l,c=3==l,p=4==l,v=6==l,a=5==l||v;return function(g,E,$,k){for(var M,A,L=y(g),U=d(L),I=m(E,$,3),D=w(U.length),R=0,V=(E=k||b,h?E(g,D):s?E(g,0):void 0);R<D;R++)if((a||R in U)&&(A=I(M=U[R],R,L),l))if(h)V[R]=A;else if(A)switch(l){case 3:return!0;case 5:return M;case 6:return R;case 2:i.call(V,M)}else if(p)return!1;return v?-1:c||p?p:V}}var m=r("../internals/function-bind-context"),d=r("../internals/indexed-object"),y=r("../internals/to-object"),w=r("../internals/to-length"),b=r("../internals/array-species-create"),i=[].push;G.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(l,G,O){"use strict";var f=l("../internals/to-indexed-object"),m=l("../internals/to-integer"),d=l("../internals/to-length"),i=l("../internals/array-method-is-strict"),y=(l=l("../internals/array-method-uses-to-length"),Math.min),w=[].lastIndexOf,b=!!w&&1/[1].lastIndexOf(1,-0)<0;i=i("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0}),G.exports=!b&&i&&l?w:function(h){if(b)return w.apply(this,arguments)||0;var s=f(this),c=d(s.length),p=c-1;for((p=1<arguments.length?y(p,m(arguments[1])):p)<0&&(p=c+p);0<=p;p--)if(p in s&&s[p]===h)return p||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(r,G,O){var f=r("../internals/fails"),m=r("../internals/well-known-symbol"),d=r("../internals/engine-v8-version"),y=m("species");G.exports=function(w){return 51<=d||!f(function(){var b=[];return(b.constructor={})[y]=function(){return{foo:1}},1!==b[w](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(r,G,O){"use strict";var f=r("../internals/fails");G.exports=function(m,d){var y=[][m];return!!y&&f(function(){y.call(null,d||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(r,G,O){function f(i){throw i}var m=r("../internals/descriptors"),d=r("../internals/fails"),y=r("../internals/has"),w=Object.defineProperty,b={};G.exports=function(i,l){var h,s,c,p;return y(b,i)?b[i]:(h=[][i],s=!!y(l=l||{},"ACCESSORS")&&l.ACCESSORS,c=y(l,0)?l[0]:f,p=y(l,1)?l[1]:void 0,b[i]=!!h&&!d(function(){if(s&&!m)return!0;var v={length:-1};s?w(v,1,{enumerable:!0,get:f}):v[1]=1,h.call(v,c,p)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(r,G,O){function f(b){return function(i,l,h,s){m(l);var c=d(i),p=y(c),v=w(c.length),a=b?v-1:0,g=b?-1:1;if(h<2)for(;;){if(a in p){s=p[a],a+=g;break}if(a+=g,b?a<0:v<=a)throw TypeError("Reduce of empty array with no initial value")}for(;b?0<=a:a<v;a+=g)a in p&&(s=l(s,p[a],a,c));return s}}var m=r("../internals/a-function"),d=r("../internals/to-object"),y=r("../internals/indexed-object"),w=r("../internals/to-length");G.exports={left:f(!1),right:f(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(r,G,O){var f=r("../internals/is-object"),m=r("../internals/is-array"),d=r("../internals/well-known-symbol")("species");G.exports=function(y,w){var b;return new(void 0===(b=m(y)&&("function"==typeof(b=y.constructor)&&(b===Array||m(b.prototype))||f(b)&&null===(b=b[d]))?void 0:b)?Array:b)(0===w?0:w)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(r,G,O){var f=r("../internals/an-object");G.exports=function(m,d,y,w){try{return w?d(f(y)[0],y[1]):d(y)}catch(b){throw void 0!==(w=m.return)&&f(w.call(m)),b}}},{"../internals/an-object":10}],27:[function(r,G,O){var f=r("../internals/well-known-symbol")("iterator"),m=!1;try{var d=0,y={next:function(){return{done:!!d++}},return:function(){m=!0}};y[f]=function(){return this},Array.from(y,function(){throw 2})}catch{}G.exports=function(w,b){if(!b&&!m)return!1;var i=!1;try{var l={};l[f]=function(){return{next:function(){return{done:i=!0}}}},w(l)}catch{}return i}},{"../internals/well-known-symbol":148}],28:[function(r,G,O){var f={}.toString;G.exports=function(m){return f.call(m).slice(8,-1)}},{}],29:[function(r,G,O){var f=r("../internals/to-string-tag-support"),m=r("../internals/classof-raw"),d=r("../internals/well-known-symbol")("toStringTag"),y="Arguments"==m(function(){return arguments}());G.exports=f?m:function(w){var b;return void 0===w?"Undefined":null===w?"Null":"string"==typeof(b=function(i,l){try{return i[l]}catch{}}(w=Object(w),d))?b:y?m(w):"Object"==(b=m(w))&&"function"==typeof w.callee?"Arguments":b}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(c,G,O){"use strict";var f=c("../internals/object-define-property").f,m=c("../internals/object-create"),d=c("../internals/redefine-all"),y=c("../internals/function-bind-context"),w=c("../internals/an-instance"),b=c("../internals/iterate"),i=c("../internals/define-iterator"),l=c("../internals/set-species"),h=c("../internals/descriptors"),s=c("../internals/internal-metadata").fastKey,p=(c=c("../internals/internal-state")).set,v=c.getterFor;G.exports={getConstructor:function(a,g,E,$){function k(U,I,D){var R,V=L(U),N=M(U,I);return N?N.value=D:(V.last=N={index:R=s(I,!0),key:I,value:D,previous:I=V.last,next:void 0,removed:!1},V.first||(V.first=N),I&&(I.next=N),h?V.size++:U.size++,"F"!==R&&(V.index[R]=N)),U}function M(R,I){R=L(R);var D,V=s(I);if("F"!==V)return R.index[V];for(D=R.first;D;D=D.next)if(D.key==I)return D}var A=a(function(U,I){w(U,A,g),p(U,{type:g,index:m(null),first:void 0,last:void 0,size:0}),h||(U.size=0),null!=I&&b(I,U[$],U,E)}),L=v(g);return d(A.prototype,{clear:function(){for(var U=L(this),I=U.index,D=U.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete I[D.index],D=D.next;U.first=U.last=void 0,h?U.size=0:this.size=0},delete:function(V){var I,D,R=L(this);return(V=M(this,V))&&(I=V.next,D=V.previous,delete R.index[V.index],V.removed=!0,D&&(D.next=I),I&&(I.previous=D),R.first==V&&(R.first=I),R.last==V&&(R.last=D),h?R.size--:this.size--),!!V},forEach:function(U){for(var I,D=L(this),R=y(U,1<arguments.length?arguments[1]:void 0,3);I=I?I.next:D.first;)for(R(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(U){return!!M(this,U)}}),d(A.prototype,E?{get:function(U){return(U=M(this,U))&&U.value},set:function(U,I){return k(this,0===U?0:U,I)}}:{add:function(U){return k(this,U=0===U?0:U,U)}}),h&&f(A.prototype,"size",{get:function(){return L(this).size}}),A},setStrong:function(a,g,E){var $=g+" Iterator",k=v(g),M=v($);i(a,g,function(A,L){p(this,{type:$,target:A,state:k(A),kind:L,last:void 0})},function(){for(var A=M(this),L=A.kind,U=A.last;U&&U.removed;)U=U.previous;return A.target&&(A.last=U=U?U.next:A.state.first)?"keys"==L?{value:U.key,done:!1}:"values"==L?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}:{value:A.target=void 0,done:!0}},E?"entries":"values",!E,!0),l(g)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(p,G,O){"use strict";function f(k){return k.frozen||(k.frozen=new m)}function m(){this.entries=[]}function d(k,M){return g(k.entries,function(A){return A[0]===M})}var y=p("../internals/redefine-all"),w=p("../internals/internal-metadata").getWeakData,b=p("../internals/an-object"),i=p("../internals/is-object"),l=p("../internals/an-instance"),h=p("../internals/iterate"),s=p("../internals/array-iteration"),c=p("../internals/has"),v=(p=p("../internals/internal-state")).set,a=p.getterFor,g=s.find,E=s.findIndex,$=0;m.prototype={get:function(k){if(k=d(this,k))return k[1]},has:function(k){return!!d(this,k)},set:function(k,M){var A=d(this,k);A?A[1]=M:this.entries.push([k,M])},delete:function(k){var M=E(this.entries,function(A){return A[0]===k});return~M&&this.entries.splice(M,1),!!~M}},G.exports={getConstructor:function(k,M,A,L){function U(R,V,N){var Q=D(R),T=w(b(V),!0);return!0===T?f(Q).set(V,N):T[Q.id]=N,R}var I=k(function(R,V){l(R,I,M),v(R,{type:M,id:$++,frozen:void 0}),null!=V&&h(V,R[L],R,A)}),D=a(M);return y(I.prototype,{delete:function(R){var V,N=D(this);return!!i(R)&&(!0===(V=w(R))?f(N).delete(R):V&&c(V,N.id)&&delete V[N.id])},has:function(R){var V,N=D(this);return!!i(R)&&(!0===(V=w(R))?f(N).has(R):V&&c(V,N.id))}}),y(I.prototype,A?{get:function(R){var V,N=D(this);if(i(R))return!0===(V=w(R))?f(N).get(R):V?V[N.id]:void 0},set:function(R,V){return U(this,R,V)}}:{add:function(R){return U(this,R,!0)}}),I}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(r,G,O){"use strict";var f=r("../internals/export"),m=r("../internals/global"),d=r("../internals/is-forced"),y=r("../internals/redefine"),w=r("../internals/internal-metadata"),b=r("../internals/iterate"),i=r("../internals/an-instance"),l=r("../internals/is-object"),h=r("../internals/fails"),s=r("../internals/check-correctness-of-iteration"),c=r("../internals/set-to-string-tag"),p=r("../internals/inherit-if-required");G.exports=function(v,a,g){function E(T){var K=V[T];y(V,T,"add"==T?function(se){return K.call(this,0===se?0:se),this}:"delete"==T?function(se){return!(I&&!l(se))&&K.call(this,0===se?0:se)}:"get"==T?function(se){return I&&!l(se)?void 0:K.call(this,0===se?0:se)}:"has"==T?function(se){return!(I&&!l(se))&&K.call(this,0===se?0:se)}:function(se,fe){return K.call(this,0===se?0:se,fe),this})}var $,k,M,A,L,U=-1!==v.indexOf("Map"),I=-1!==v.indexOf("Weak"),D=U?"set":"add",R=m[v],V=R&&R.prototype,N=R,Q={};return d(v,"function"!=typeof R||!(I||V.forEach&&!h(function(){(new R).entries().next()})))?(N=g.getConstructor(a,v,U,D),w.REQUIRED=!0):d(v,!0)&&(k=($=new N)[D](I?{}:-0,1)!=$,M=h(function(){$.has(1)}),A=s(function(T){new R(T)}),L=!I&&h(function(){for(var T=new R,K=5;K--;)T[D](K,K);return!T.has(-0)}),A||(((N=a(function(T,K){return i(T,N,v),T=p(new R,T,N),null!=K&&b(K,T[D],T,U),T})).prototype=V).constructor=N),(M||L)&&(E("delete"),E("has"),U&&E("get")),(L||k)&&E(D),I&&V.clear&&delete V.clear),Q[v]=N,f({global:!0,forced:N!=R},Q),c(N,v),I||g.setStrong(N,v,U),N}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(r,G,O){var f=r("../internals/has"),m=r("../internals/own-keys"),d=r("../internals/object-get-own-property-descriptor"),y=r("../internals/object-define-property");G.exports=function(w,b){for(var i=m(b),l=y.f,h=d.f,s=0;s<i.length;s++){var c=i[s];f(w,c)||l(w,c,h(b,c))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(r,G,O){var f=r("../internals/well-known-symbol")("match");G.exports=function(m){var d=/./;try{"/./"[m](d)}catch{try{return d[f]=!1,"/./"[m](d)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(r,G,O){r=r("../internals/fails"),G.exports=!r(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},{"../internals/fails":51}],36:[function(r,G,O){var f=r("../internals/require-object-coercible"),m=/"/g;G.exports=function(i,y,w,b){i=String(f(i));var l="<"+y;return""!==w&&(l+=" "+w+'="'+String(b).replace(m,"&quot;")+'"'),l+">"+i+"</"+y+">"}},{"../internals/require-object-coercible":113}],37:[function(r,G,O){"use strict";function f(){return this}var m=r("../internals/iterators-core").IteratorPrototype,d=r("../internals/object-create"),y=r("../internals/create-property-descriptor"),w=r("../internals/set-to-string-tag"),b=r("../internals/iterators");G.exports=function(i,l,h){return l+=" Iterator",i.prototype=d(m,{next:y(1,h)}),w(i,l,!1,!0),b[l]=f,i}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(r,G,O){var f=r("../internals/descriptors"),m=r("../internals/object-define-property"),d=r("../internals/create-property-descriptor");G.exports=f?function(y,w,b){return m.f(y,w,d(1,b))}:function(y,w,b){return y[w]=b,y}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(r,G,O){G.exports=function(f,m){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:m}}},{}],40:[function(r,G,O){"use strict";var f=r("../internals/to-primitive"),m=r("../internals/object-define-property"),d=r("../internals/create-property-descriptor");G.exports=function(y,w,b){(w=f(w))in y?m.f(y,w,d(0,b)):y[w]=b}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(p,G,O){"use strict";function f(){return this}var m=p("../internals/export"),d=p("../internals/create-iterator-constructor"),y=p("../internals/object-get-prototype-of"),w=p("../internals/object-set-prototype-of"),b=p("../internals/set-to-string-tag"),i=p("../internals/create-non-enumerable-property"),l=p("../internals/redefine"),h=p("../internals/well-known-symbol"),s=p("../internals/is-pure"),c=p("../internals/iterators"),v=(p=p("../internals/iterators-core")).IteratorPrototype,a=p.BUGGY_SAFARI_ITERATORS,g=h("iterator"),E="values",$="entries";G.exports=function(k,M,A,Q,U,I,D){function R(Z){if(Z===U&&fe)return fe;if(!a&&Z in K)return K[Z];switch(Z){case"keys":case E:case $:return function(){return new A(this,Z)}}return function(){return new A(this)}}d(A,M,Q),Q=M+" Iterator";var V,N,T=!1,K=k.prototype,se=K[g]||K["@@iterator"]||U&&K[U],fe=!a&&se||R(U),Ie="Array"==M&&K.entries||se;if(Ie&&(Ie=y(Ie.call(new k)),v!==Object.prototype&&Ie.next&&(s||y(Ie)===v||(w?w(Ie,v):"function"!=typeof Ie[g]&&i(Ie,g,f)),b(Ie,Q,!0,!0),s&&(c[Q]=f))),U==E&&se&&se.name!==E&&(T=!0,fe=function(){return se.call(this)}),s&&!D||K[g]===fe||i(K,g,fe),c[M]=fe,U)if(V={values:R(E),keys:I?fe:R("keys"),entries:R($)},D)for(N in V)!a&&!T&&N in K||l(K,N,V[N]);else m({target:M,proto:!0,forced:a||T},V);return V}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(r,G,O){var f=r("../internals/path"),m=r("../internals/has"),d=r("../internals/well-known-symbol-wrapped"),y=r("../internals/object-define-property").f;G.exports=function(w){var b=f.Symbol||(f.Symbol={});m(b,w)||y(b,w,{value:d.f(w)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(r,G,O){r=r("../internals/fails"),G.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(m,G,O){var f=m("../internals/global"),d=(m=m("../internals/is-object"),f.document),y=m(d)&&m(d.createElement);G.exports=function(w){return y?d.createElement(w):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(r,G,O){G.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(r,G,O){r=r("../internals/engine-user-agent"),G.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},{"../internals/engine-user-agent":47}],47:[function(r,G,O){r=r("../internals/get-built-in"),G.exports=r("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(d,G,O){var f,m,y=d("../internals/global");d=d("../internals/engine-user-agent"),(y=(y=(y=y.process)&&y.versions)&&y.v8)?m=(f=y.split("."))[0]+f[1]:d&&(!(f=d.match(/Edge\/(\d+)/))||74<=f[1])&&(f=d.match(/Chrome\/(\d+)/))&&(m=f[1]),G.exports=m&&+m},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(r,G,O){G.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(r,G,O){var f=r("../internals/global"),m=r("../internals/object-get-own-property-descriptor").f,d=r("../internals/create-non-enumerable-property"),y=r("../internals/redefine"),w=r("../internals/set-global"),b=r("../internals/copy-constructor-properties"),i=r("../internals/is-forced");G.exports=function(l,h){var s,c,p,v=l.target,a=l.global,g=l.stat,E=a?f:g?f[v]||w(v,{}):(f[v]||{}).prototype;if(E)for(s in h){if(c=h[s],p=l.noTargetGet?(p=m(E,s))&&p.value:E[s],!i(a?s:v+(g?".":"#")+s,l.forced)&&void 0!==p){if(typeof c==typeof p)continue;b(c,p)}(l.sham||p&&p.sham)&&d(c,"sham",!0),y(E,s,c,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(r,G,O){G.exports=function(f){try{return!!f()}catch{return!0}}},{}],52:[function(h,G,O){"use strict";h("../modules/es.regexp.exec");var f=h("../internals/redefine"),m=h("../internals/fails"),d=h("../internals/well-known-symbol"),y=h("../internals/regexp-exec"),w=h("../internals/create-non-enumerable-property"),b=d("species"),i=!m(function(){var p=/./;return p.exec=function(){var v=[];return v.groups={a:"7"},v},"7"!=="".replace(p,"$<a>")}),l="$0"==="a".replace(/./,"$0"),s=!!/./[h=d("replace")]&&""===/./[h]("a","$0"),c=!m(function(){var p=(v=/(?:)/).exec,v=(v.exec=function(){return p.apply(this,arguments)},"ab".split(v));return 2!==v.length||"a"!==v[0]||"b"!==v[1]});G.exports=function(p,v,a,g){var E,$,k=d(p),M=!m(function(){var L={};return L[k]=function(){return 7},7!=""[p](L)}),A=M&&!m(function(){var L=!1,U=/a/;return"split"===p&&((U={constructor:{}}).constructor[b]=function(){return U},U.flags="",U[k]=/./[k]),U.exec=function(){return L=!0,null},U[k](""),!L});M&&A&&("replace"!==p||i&&l&&!s)&&("split"!==p||c)||(E=/./[k],a=(A=a(k,""[p],function(L,U,I,D,R){return U.exec===y?M&&!R?{done:!0,value:E.call(U,I,D)}:{done:!0,value:L.call(I,U,D)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:s}))[0],$=A[1],f(String.prototype,p,a),f(RegExp.prototype,k,2==v?function(L,U){return $.call(L,this,U)}:function(L){return $.call(L,this)})),g&&w(RegExp.prototype[k],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":185}],53:[function(r,G,O){r=r("../internals/fails"),G.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(r,G,O){var f=r("../internals/a-function");G.exports=function(m,d,y){if(f(m),void 0===d)return m;switch(y){case 0:return function(){return m.call(d)};case 1:return function(w){return m.call(d,w)};case 2:return function(w,b){return m.call(d,w,b)};case 3:return function(w,b,i){return m.call(d,w,b,i)}}return function(){return m.apply(d,arguments)}}},{"../internals/a-function":5}],55:[function(r,G,O){"use strict";var f=r("../internals/a-function"),m=r("../internals/is-object"),d=[].slice,y={};G.exports=Function.bind||function(w){var b=f(this),i=d.call(arguments,1),l=function(){var h=i.concat(d.call(arguments));if(this instanceof l){var s=b,c=h.length,p=h;if(!(c in y)){for(var v=[],a=0;a<c;a++)v[a]="a["+a+"]";y[c]=Function("C,a","return new C("+v.join(",")+")")}return y[c](s,p)}return b.apply(w,h)};return m(b.prototype)&&(l.prototype=b.prototype),l}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(r,G,O){function f(y){return"function"==typeof y?y:void 0}var m=r("../internals/path"),d=r("../internals/global");G.exports=function(y,w){return arguments.length<2?f(m[y])||f(d[y]):m[y]&&m[y][w]||d[y]&&d[y][w]}},{"../internals/global":59,"../internals/path":104}],57:[function(r,G,O){var f=r("../internals/classof"),m=r("../internals/iterators"),d=r("../internals/well-known-symbol")("iterator");G.exports=function(y){if(null!=y)return y[d]||y["@@iterator"]||m[f(y)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(r,G,O){var f=r("../internals/an-object"),m=r("../internals/get-iterator-method");G.exports=function(d){var y=m(d);if("function"!=typeof y)throw TypeError(String(d)+" is not iterable");return f(y.call(d))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(r,G,O){(function(f){function m(d){return d&&d.Math==Math&&d}G.exports=m("object"==typeof globalThis&&globalThis)||m("object"==typeof window&&window)||m("object"==typeof self&&self)||m("object"==typeof f&&f)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(r,G,O){var f={}.hasOwnProperty;G.exports=function(m,d){return f.call(m,d)}},{}],61:[function(r,G,O){G.exports={}},{}],62:[function(r,G,O){var f=r("../internals/global");G.exports=function(m,d){var y=f.console;y&&y.error&&(1===arguments.length?y.error(m):y.error(m,d))}},{"../internals/global":59}],63:[function(r,G,O){r=r("../internals/get-built-in"),G.exports=r("document","documentElement")},{"../internals/get-built-in":56}],64:[function(r,G,O){var f=r("../internals/descriptors"),m=r("../internals/fails"),d=r("../internals/document-create-element");G.exports=!f&&!m(function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(r,G,O){var f=Math.abs,m=Math.pow,d=Math.floor,y=Math.log,w=Math.LN2;G.exports={pack:function(b,i,a){var h,s,c,p=new Array(a),v=8*a-i-1,g=(a=(1<<v)-1)>>1,E=23===i?m(2,-24)-m(2,-77):0,$=b<0||0===b&&1/b<0?1:0,k=0;for((b=f(b))!=b||b===1/0?(s=b!=b?1:0,h=a):(h=d(y(b)/w),b*(c=m(2,-h))<1&&(h--,c*=2),2<=(b+=1<=h+g?E/c:E*m(2,1-g))*c&&(h++,c/=2),a<=h+g?(s=0,h=a):1<=h+g?(s=(b*c-1)*m(2,i),h+=g):(s=b*m(2,g-1)*m(2,i),h=0));8<=i;p[k++]=255&s,s/=256,i-=8);for(h=h<<i|s,v+=i;0<v;p[k++]=255&h,h/=256,v-=8);return p[--k]|=128*$,p},unpack:function(b,i){var l,a,h=b.length,s=(1<<(a=8*h-i-1))-1,c=s>>1,p=a-7,v=h-1,g=127&(a=b[v--]);for(a>>=7;0<p;g=256*g+b[v],v--,p-=8);for(l=g&(1<<-p)-1,g>>=-p,p+=i;0<p;l=256*l+b[v],v--,p-=8);if(0===g)g=1-c;else{if(g===s)return l?NaN:a?-1/0:1/0;l+=m(2,i),g-=c}return(a?-1:1)*l*m(2,g-i)}}},{}],66:[function(r,G,O){var f=r("../internals/fails"),m=r("../internals/classof-raw"),d="".split;G.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return"String"==m(y)?d.call(y,""):Object(y)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(r,G,O){var f=r("../internals/is-object"),m=r("../internals/object-set-prototype-of");G.exports=function(d,y,w){return m&&"function"==typeof(y=y.constructor)&&y!==w&&f(y=y.prototype)&&y!==w.prototype&&m(d,y),d}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(f,G,O){f=f("../internals/shared-store");var m=Function.toString;"function"!=typeof f.inspectSource&&(f.inspectSource=function(d){return m.call(d)}),G.exports=f.inspectSource},{"../internals/shared-store":119}],69:[function(r,G,O){function f(p){w(p,l,{value:{objectID:"O"+ ++h,weakData:{}}})}var m=r("../internals/hidden-keys"),d=r("../internals/is-object"),y=r("../internals/has"),w=r("../internals/object-define-property").f,b=r("../internals/uid"),i=r("../internals/freezing"),l=b("meta"),h=0,s=Object.isExtensible||function(){return!0},c=G.exports={REQUIRED:!1,fastKey:function(p,v){if(!d(p))return"symbol"==typeof p?p:("string"==typeof p?"S":"P")+p;if(!y(p,l)){if(!s(p))return"F";if(!v)return"E";f(p)}return p[l].objectID},getWeakData:function(p,v){if(!y(p,l)){if(!s(p))return!0;if(!v)return!1;f(p)}return p[l].weakData},onFreeze:function(p){return i&&c.REQUIRED&&s(p)&&!y(p,l)&&f(p),p}};m[l]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(a,G,O){var f,m,d,y,w,b,i,l,h=a("../internals/native-weak-map"),g=a("../internals/global"),s=a("../internals/is-object"),c=a("../internals/create-non-enumerable-property"),p=a("../internals/has"),v=a("../internals/shared-key");a=a("../internals/hidden-keys"),g=g.WeakMap,i=h?(f=new g,m=f.get,d=f.has,y=f.set,w=function(E,$){return y.call(f,E,$),$},b=function(E){return m.call(f,E)||{}},function(E){return d.call(f,E)}):(a[l=v("state")]=!0,w=function(E,$){return c(E,l,$),$},b=function(E){return p(E,l)?E[l]:{}},function(E){return p(E,l)}),G.exports={set:w,get:b,has:i,enforce:function(E){return i(E)?b(E):w(E,{})},getterFor:function(E){return function($){if(s($)&&($=b($)).type===E)return $;throw TypeError("Incompatible receiver, "+E+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(r,G,O){var f=r("../internals/well-known-symbol"),m=r("../internals/iterators"),d=f("iterator"),y=Array.prototype;G.exports=function(w){return void 0!==w&&(m.Array===w||y[d]===w)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(r,G,O){var f=r("../internals/classof-raw");G.exports=Array.isArray||function(m){return"Array"==f(m)}},{"../internals/classof-raw":28}],73:[function(r,G,O){function f(l,h){return(l=w[y(l)])==i||l!=b&&("function"==typeof h?m(h):!!h)}var m=r("../internals/fails"),d=/#|\.prototype\./,y=f.normalize=function(l){return String(l).replace(d,".").toLowerCase()},w=f.data={},b=f.NATIVE="N",i=f.POLYFILL="P";G.exports=f},{"../internals/fails":51}],74:[function(r,G,O){G.exports=function(f){return"object"==typeof f?null!==f:"function"==typeof f}},{}],75:[function(r,G,O){G.exports=!1},{}],76:[function(r,G,O){var f=r("../internals/is-object"),m=r("../internals/classof-raw"),d=r("../internals/well-known-symbol")("match");G.exports=function(y){var w;return f(y)&&(void 0!==(w=y[d])?!!w:"RegExp"==m(y))}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(r,G,O){function f(l,h){this.stopped=l,this.result=h}var m=r("../internals/an-object"),d=r("../internals/is-array-iterator-method"),y=r("../internals/to-length"),w=r("../internals/function-bind-context"),b=r("../internals/get-iterator-method"),i=r("../internals/call-with-safe-iteration-closing");(G.exports=function(l,h,s,c,p){var v,a,g,E,$,k,M=w(h,s,c?2:1);if(p)v=l;else{if("function"!=typeof(h=b(l)))throw TypeError("Target is not iterable");if(d(h)){for(a=0,g=y(l.length);a<g;a++)if((E=c?M(m(k=l[a])[0],k[1]):M(l[a]))&&E instanceof f)return E;return new f(!1)}v=h.call(l)}for($=v.next;!(k=$.call(v)).done;)if("object"==typeof(E=i(v,M,k.value,c))&&E&&E instanceof f)return E;return new f(!1)}).stop=function(l){return new f(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(b,G,O){"use strict";var f,m,d=b("../internals/object-get-prototype-of"),y=b("../internals/create-non-enumerable-property"),w=b("../internals/has"),i=b("../internals/well-known-symbol"),l=(b=b("../internals/is-pure"),i=i("iterator"),!1);[].keys&&("next"in(m=[].keys())?(d=d(d(m)))!==Object.prototype&&(f=d):l=!0),null==f&&(f={}),b||w(f,i)||y(f,i,function(){return this}),G.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(r,G,O){G.exports={}},{}],80:[function(r,G,O){G.exports=Math.sign||function(f){return 0==(f=+f)||f!=f?f:f<0?-1:1}},{}],81:[function(c,G,O){var f,m,d,y,w,b,i,l,h=c("../internals/global"),$=c("../internals/object-get-own-property-descriptor").f,E=c("../internals/classof-raw"),s=c("../internals/task").set,p=(c=c("../internals/engine-is-ios"),h.MutationObserver||h.WebKitMutationObserver),v=h.process,a=h.Promise,g="process"==E(v);E=$(h,"queueMicrotask"),($=E&&E.value)||(f=function(){var k,M;for(g&&(k=v.domain)&&k.exit();m;){M=m.fn,m=m.next;try{M()}catch(A){throw m?y():d=void 0,A}}d=void 0,k&&k.enter()},y=g?function(){v.nextTick(f)}:p&&!c?(w=!0,b=document.createTextNode(""),new p(f).observe(b,{characterData:!0}),function(){b.data=w=!w}):a&&a.resolve?(i=a.resolve(void 0),l=i.then,function(){l.call(i,f)}):function(){s.call(h,f)}),G.exports=$||function(k){k={fn:k,next:void 0},d&&(d.next=k),m||(m=k,y()),d=k}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(r,G,O){r=r("../internals/global"),G.exports=r.Promise},{"../internals/global":59}],83:[function(r,G,O){r=r("../internals/fails"),G.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(r,G,O){var f=r("../internals/fails"),m=r("../internals/well-known-symbol"),d=r("../internals/is-pure"),y=m("iterator");G.exports=!f(function(){var w=new URL("b?a=1&b=2&c=3","http://a"),b=w.searchParams,i="";return w.pathname="c%20d",b.forEach(function(l,h){b.delete("b"),i+=h+l}),d&&!w.toJSON||!b.sort||"http://a/c%20d?a=1&c=3"!==w.href||"3"!==b.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!b[y]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(f,G,O){var m=f("../internals/global");f=f("../internals/inspect-source"),G.exports="function"==typeof(m=m.WeakMap)&&/native code/.test(f(m))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(r,G,O){"use strict";function f(d){var y,w;this.promise=new d(function(b,i){if(void 0!==y||void 0!==w)throw TypeError("Bad Promise constructor");y=b,w=i}),this.resolve=m(y),this.reject=m(w)}var m=r("../internals/a-function");G.exports.f=function(d){return new f(d)}},{"../internals/a-function":5}],87:[function(r,G,O){var f=r("../internals/is-regexp");G.exports=function(m){if(f(m))throw TypeError("The method doesn't accept regular expressions");return m}},{"../internals/is-regexp":76}],88:[function(r,G,O){var f=r("../internals/global").isFinite;G.exports=Number.isFinite||function(m){return"number"==typeof m&&f(m)}},{"../internals/global":59}],89:[function(r,G,O){"use strict";var f=r("../internals/descriptors"),m=r("../internals/fails"),d=r("../internals/object-keys"),y=r("../internals/object-get-own-property-symbols"),w=r("../internals/object-property-is-enumerable"),b=r("../internals/to-object"),i=r("../internals/indexed-object"),l=Object.assign,h=Object.defineProperty;G.exports=!l||m(function(){var s,c,p,v;return!(!f||1===l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(c={},v="abcdefghijklmnopqrst",(s={})[p=Symbol()]=7,v.split("").forEach(function(a){c[a]=a}),7!=l({},s)[p]||d(l({},c)).join("")!=v)})?function(s,c){for(var p=b(s),v=arguments.length,a=1,g=y.f,E=w.f;a<v;)for(var $,k=i(arguments[a++]),M=g?d(k).concat(g(k)):d(k),A=M.length,L=0;L<A;)$=M[L++],f&&!E.call(k,$)||(p[$]=k[$]);return p}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(h,G,O){function f(){}var m,d=h("../internals/an-object"),y=h("../internals/object-define-properties"),w=h("../internals/enum-bug-keys"),b=h("../internals/hidden-keys"),i=h("../internals/html"),l=h("../internals/document-create-element"),s=(h=h("../internals/shared-key"),"prototype"),c="script",p=h("IE_PROTO"),v=function(g){return"<"+c+">"+g+"</"+c+">"},a=function(){try{m=document.domain&&new ActiveXObject("htmlfile")}catch{}a=m?((g=m).write(v("")),g.close(),E=g.parentWindow.Object,g=null,E):(g=l("iframe"),E="java"+c+":",g.style.display="none",i.appendChild(g),g.src=String(E),(E=g.contentWindow.document).open(),E.write(v("document.F=Object")),E.close(),E.F);for(var g,E,$=w.length;$--;)delete a[s][w[$]];return a()};b[p]=!0,G.exports=Object.create||function(g,E){var $;return null!==g?(f[s]=d(g),$=new f,f[s]=null,$[p]=g):$=a(),void 0===E?$:y($,E)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(r,G,O){var f=r("../internals/descriptors"),m=r("../internals/object-define-property"),d=r("../internals/an-object"),y=r("../internals/object-keys");G.exports=f?Object.defineProperties:function(w,b){d(w);for(var i,l=y(b),h=l.length,s=0;s<h;)m.f(w,i=l[s++],b[i]);return w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(r,G,O){var f=r("../internals/descriptors"),m=r("../internals/ie8-dom-define"),d=r("../internals/an-object"),y=r("../internals/to-primitive"),w=Object.defineProperty;O.f=f?w:function(b,i,l){if(d(b),i=y(i,!0),d(l),m)try{return w(b,i,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(b[i]=l.value),b}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(r,G,O){var f=r("../internals/descriptors"),m=r("../internals/object-property-is-enumerable"),d=r("../internals/create-property-descriptor"),y=r("../internals/to-indexed-object"),w=r("../internals/to-primitive"),b=r("../internals/has"),i=r("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;O.f=f?l:function(h,s){if(h=y(h),s=w(s,!0),i)try{return l(h,s)}catch{}if(b(h,s))return d(!m.f.call(h,s),h[s])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(r,G,O){var f=r("../internals/to-indexed-object"),m=r("../internals/object-get-own-property-names").f,d={}.toString,y="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];G.exports.f=function(w){if(!y||"[object Window]"!=d.call(w))return m(f(w));try{return m(w)}catch{return y.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(r,G,O){var f=r("../internals/object-keys-internal"),m=r("../internals/enum-bug-keys").concat("length","prototype");O.f=Object.getOwnPropertyNames||function(d){return f(d,m)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(r,G,O){O.f=Object.getOwnPropertySymbols},{}],97:[function(y,G,O){var f=y("../internals/has"),m=y("../internals/to-object"),d=y("../internals/shared-key"),w=(y=y("../internals/correct-prototype-getter"),d("IE_PROTO")),b=Object.prototype;G.exports=y?Object.getPrototypeOf:function(i){return i=m(i),f(i,w)?i[w]:"function"==typeof i.constructor&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?b:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(r,G,O){var f=r("../internals/has"),m=r("../internals/to-indexed-object"),d=r("../internals/array-includes").indexOf,y=r("../internals/hidden-keys");G.exports=function(w,b){var i,l=m(w),h=0,s=[];for(i in l)!f(y,i)&&f(l,i)&&s.push(i);for(;b.length>h;)!f(l,i=b[h++])||~d(s,i)||s.push(i);return s}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(r,G,O){var f=r("../internals/object-keys-internal"),m=r("../internals/enum-bug-keys");G.exports=Object.keys||function(d){return f(d,m)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(r,G,O){"use strict";var f={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,d=m&&!f.call({1:2},1);O.f=d?function(y){return!!(y=m(this,y))&&y.enumerable}:f},{}],101:[function(r,G,O){var f=r("../internals/an-object"),m=r("../internals/a-possible-prototype");G.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d,y=!1,w={};try{(d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(w,[]),y=w instanceof Array}catch{}return function(b,i){return f(b),m(i),y?d.call(b,i):b.__proto__=i,b}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(r,G,O){"use strict";var f=r("../internals/to-string-tag-support"),m=r("../internals/classof");G.exports=f?{}.toString:function(){return"[object "+m(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(r,G,O){var f=r("../internals/get-built-in"),m=r("../internals/object-get-own-property-names"),d=r("../internals/object-get-own-property-symbols"),y=r("../internals/an-object");G.exports=f("Reflect","ownKeys")||function(w){var b=m.f(y(w)),i=d.f;return i?b.concat(i(w)):b}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(r,G,O){r=r("../internals/global"),G.exports=r},{"../internals/global":59}],105:[function(r,G,O){G.exports=function(f){try{return{error:!1,value:f()}}catch(m){return{error:!0,value:m}}}},{}],106:[function(r,G,O){var f=r("../internals/an-object"),m=r("../internals/is-object"),d=r("../internals/new-promise-capability");G.exports=function(y,w){return f(y),m(w)&&w.constructor===y?w:((0,(y=d.f(y)).resolve)(w),y.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(r,G,O){var f=r("../internals/redefine");G.exports=function(m,d,y){for(var w in d)f(m,w,d[w],y);return m}},{"../internals/redefine":108}],108:[function(b,G,O){var f=b("../internals/global"),m=b("../internals/create-non-enumerable-property"),d=b("../internals/has"),y=b("../internals/set-global"),w=b("../internals/inspect-source"),i=(b=b("../internals/internal-state")).get,l=b.enforce,h=String(String).split("String");(G.exports=function(s,c,p,E){var a=!!E&&!!E.unsafe,g=!!E&&!!E.enumerable;E=!!E&&!!E.noTargetGet,"function"==typeof p&&("string"!=typeof c||d(p,"name")||m(p,"name",c),l(p).source=h.join("string"==typeof c?c:"")),s===f?g?s[c]=p:y(c,p):(a?!E&&s[c]&&(g=!0):delete s[c],g?s[c]=p:m(s,c,p))})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||w(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(r,G,O){var f=r("./classof-raw"),m=r("./regexp-exec");G.exports=function(d,y){var w=d.exec;if("function"==typeof w){if("object"!=typeof(w=w.call(d,y)))throw TypeError("RegExp exec method returned something other than an Object or null");return w}if("RegExp"!==f(d))throw TypeError("RegExp#exec called on incompatible receiver");return m.call(d,y)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(y,G,O){"use strict";var f,m,d=y("./regexp-flags"),w=(y=y("./regexp-sticky-helpers"),RegExp.prototype.exec),b=String.prototype.replace,i=w,l=(m=/b*/g,w.call(f=/a/,"a"),w.call(m,"a"),0!==f.lastIndex||0!==m.lastIndex),h=y.UNSUPPORTED_Y||y.BROKEN_CARET,s=void 0!==/()??/.exec("")[1];G.exports=i=l||s||h?function(c){var p,v,a,g,E=this,$=h&&E.sticky,k=d.call(E),M=E.source,A=0,L=c;return $&&(-1===(k=k.replace("y","")).indexOf("g")&&(k+="g"),L=String(c).slice(E.lastIndex),0<E.lastIndex&&(!E.multiline||E.multiline&&"\n"!==c[E.lastIndex-1])&&(M="(?: "+M+")",L=" "+L,A++),v=new RegExp("^(?:"+M+")",k)),s&&(v=new RegExp("^"+M+"$(?!\\s)",k)),l&&(p=E.lastIndex),a=w.call($?v:E,L),$?a?(a.input=a.input.slice(A),a[0]=a[0].slice(A),a.index=E.lastIndex,E.lastIndex+=a[0].length):E.lastIndex=0:l&&a&&(E.lastIndex=E.global?a.index+a[0].length:p),s&&a&&1<a.length&&b.call(a[0],v,function(){for(g=1;g<arguments.length-2;g++)void 0===arguments[g]&&(a[g]=void 0)}),a}:i},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(r,G,O){"use strict";var f=r("../internals/an-object");G.exports=function(){var m=f(this),d="";return m.global&&(d+="g"),m.ignoreCase&&(d+="i"),m.multiline&&(d+="m"),m.dotAll&&(d+="s"),m.unicode&&(d+="u"),m.sticky&&(d+="y"),d}},{"../internals/an-object":10}],112:[function(r,G,O){"use strict";function f(m,d){return RegExp(m,d)}r=r("./fails"),O.UNSUPPORTED_Y=r(function(){var m=f("a","y");return m.lastIndex=2,null!=m.exec("abcd")}),O.BROKEN_CARET=r(function(){var m=f("^r","gy");return m.lastIndex=2,null!=m.exec("str")})},{"./fails":51}],113:[function(r,G,O){G.exports=function(f){if(null==f)throw TypeError("Can't call method on "+f);return f}},{}],114:[function(r,G,O){G.exports=Object.is||function(f,m){return f===m?0!==f||1/f==1/m:f!=f&&m!=m}},{}],115:[function(r,G,O){var f=r("../internals/global"),m=r("../internals/create-non-enumerable-property");G.exports=function(d,y){try{m(f,d,y)}catch{f[d]=y}return y}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(r,G,O){"use strict";var f=r("../internals/get-built-in"),m=r("../internals/object-define-property"),d=r("../internals/well-known-symbol"),y=r("../internals/descriptors"),w=d("species");G.exports=function(i){i=f(i),y&&i&&!i[w]&&(0,m.f)(i,w,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(r,G,O){var f=r("../internals/object-define-property").f,m=r("../internals/has"),d=r("../internals/well-known-symbol")("toStringTag");G.exports=function(y,w,b){y&&!m(y=b?y:y.prototype,d)&&f(y,d,{configurable:!0,value:w})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(r,G,O){var f=r("../internals/shared"),m=r("../internals/uid"),d=f("keys");G.exports=function(y){return d[y]||(d[y]=m(y))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(f,G,O){var d=f("../internals/global"),m=(f=f("../internals/set-global"),"__core-js_shared__");d=d[m]||f(m,{}),G.exports=d},{"../internals/global":59,"../internals/set-global":115}],120:[function(r,G,O){var f=r("../internals/is-pure"),m=r("../internals/shared-store");(G.exports=function(d,y){return m[d]||(m[d]=void 0!==y?y:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(r,G,O){var f=r("../internals/an-object"),m=r("../internals/a-function"),d=r("../internals/well-known-symbol")("species");G.exports=function(b,w){return void 0===(b=f(b).constructor)||null==(b=f(b)[d])?w:m(b)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(r,G,O){var f=r("../internals/fails");G.exports=function(m){return f(function(){var d=""[m]('"');return d!==d.toLowerCase()||3<d.split('"').length})}},{"../internals/fails":51}],123:[function(r,G,O){function f(y){return function(l,h){l=String(d(l)),h=m(h);var i,s=l.length;return h<0||s<=h?y?"":void 0:(i=l.charCodeAt(h))<55296||56319<i||h+1===s||(s=l.charCodeAt(h+1))<56320||57343<s?y?l.charAt(h):i:y?l.slice(h,h+2):s-56320+(i-55296<<10)+65536}}var m=r("../internals/to-integer"),d=r("../internals/require-object-coercible");G.exports={codeAt:f(!1),charAt:f(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(r,G,O){r=r("../internals/engine-user-agent"),G.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},{"../internals/engine-user-agent":47}],125:[function(r,G,O){function f(b){return function(s,v,p){var c=(s=String(y(s))).length;return p=void 0===p?" ":String(p),(v=m(v))<=c||""==p?s:((c=d.call(p,w((v-=c)/p.length))).length>v&&(c=c.slice(0,v)),b?s+c:c+s)}}var m=r("../internals/to-length"),d=r("../internals/string-repeat"),y=r("../internals/require-object-coercible"),w=Math.ceil;G.exports={start:f(!1),end:f(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(r,G,O){"use strict";function f(a){return a+22+75*(a<26)}function m(a){var g,E=[],$=(a=function(se){for(var fe=[],Ie=0,Z=se.length;Ie<Z;){var ie,pe=se.charCodeAt(Ie++);55296<=pe&&pe<=56319&&Ie<Z?56320==(64512&(ie=se.charCodeAt(Ie++)))?fe.push(((1023&pe)<<10)+(1023&ie)+65536):(fe.push(pe),Ie--):fe.push(pe)}return fe}(a)).length,k=128,M=0,A=72;for(D=0;D<a.length;D++)(g=a[D])<128&&E.push(v(g));var L=E.length,U=L;for(L&&E.push("-");U<$;){for(var I=d,D=0;D<a.length;D++)k<=(g=a[D])&&g<I&&(I=g);var R=U+1;if(I-k>p((d-M)/R))throw RangeError(s);for(M+=(I-k)*R,k=I,D=0;D<a.length;D++){if((g=a[D])<k&&++M>d)throw RangeError(s);if(g==k){for(var V=M,N=y;;N+=y){var Q=N<=A?1:A+w<=N?w:N-A;if(V<Q)break;var T=V-Q,K=y-Q;E.push(v(f(Q+T%K))),V=p(T/K)}E.push(v(f(V))),A=function(se,fe,Ie){var Z=0;for(se=Ie?p(se/i):se>>1,se+=p(se/fe);c*w>>1<se;Z+=y)se=p(se/c);return p(Z+(c+1)*se/(se+b))}(M,R,U==L),M=0,++U}}++M,++k}return E.join("")}var d=2147483647,y=36,w=26,b=38,i=700,l=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=y-1,p=Math.floor,v=String.fromCharCode;G.exports=function(a){for(var g,E=[],$=a.toLowerCase().replace(h,".").split("."),k=0;k<$.length;k++)E.push(l.test(g=$[k])?"xn--"+m(g):g);return E.join(".")}},{}],127:[function(r,G,O){"use strict";var f=r("../internals/to-integer"),m=r("../internals/require-object-coercible");G.exports="".repeat||function(d){var y=String(m(this)),w="",b=f(d);if(b<0||b==1/0)throw RangeError("Wrong number of repetitions");for(;0<b;(b>>>=1)&&(y+=y))1&b&&(w+=y);return w}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(r,G,O){var f=r("../internals/fails"),m=r("../internals/whitespaces");G.exports=function(d){return f(function(){return!!m[d]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[d]()||m[d].name!==d})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(d,G,O){function f(b){return function(i){return i=String(m(i)),1&b&&(i=i.replace(y,"")),2&b?i.replace(w,""):i}}var m=d("../internals/require-object-coercible"),y=(d="["+d("../internals/whitespaces")+"]",RegExp("^"+d+d+"*")),w=RegExp(d+d+"*$");G.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(c,G,O){function f(U){return function(){L(U)}}function m(U){L(U.data)}function d(U){w.postMessage(U+"",p.protocol+"//"+p.host)}var y,w=c("../internals/global"),b=c("../internals/fails"),i=c("../internals/classof-raw"),l=c("../internals/function-bind-context"),h=c("../internals/html"),s=c("../internals/document-create-element"),p=(c=c("../internals/engine-is-ios"),w.location),v=w.setImmediate,a=w.clearImmediate,g=w.process,E=w.MessageChannel,$=w.Dispatch,k=0,M={},A="onreadystatechange",L=function(U){var I;M.hasOwnProperty(U)&&(I=M[U],delete M[U],I())};v&&a||(v=function(U){for(var I=[],D=1;D<arguments.length;)I.push(arguments[D++]);return M[++k]=function(){("function"==typeof U?U:Function(U)).apply(void 0,I)},y(k),k},a=function(U){delete M[U]},"process"==i(g)?y=function(U){g.nextTick(f(U))}:$&&$.now?y=function(U){$.now(f(U))}:E&&!c?(c=(i=new E).port2,i.port1.onmessage=m,y=l(c.postMessage,c,1)):!w.addEventListener||"function"!=typeof postMessage||w.importScripts||b(d)||"file:"===p.protocol?y=A in s("script")?function(U){h.appendChild(s("script"))[A]=function(){h.removeChild(this),L(U)}}:function(U){setTimeout(f(U),0)}:(y=d,w.addEventListener("message",m,!1))),G.exports={set:v,clear:a}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(r,G,O){var f=r("../internals/classof-raw");G.exports=function(m){if("number"!=typeof m&&"Number"!=f(m))throw TypeError("Incorrect invocation");return+m}},{"../internals/classof-raw":28}],132:[function(r,G,O){var f=r("../internals/to-integer"),m=Math.max,d=Math.min;G.exports=function(y,w){return(y=f(y))<0?m(y+w,0):d(y,w)}},{"../internals/to-integer":135}],133:[function(r,G,O){var f=r("../internals/to-integer"),m=r("../internals/to-length");G.exports=function(y){if(void 0===y)return 0;y=f(y);var w=m(y);if(y!==w)throw RangeError("Wrong length or index");return w}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(r,G,O){var f=r("../internals/indexed-object"),m=r("../internals/require-object-coercible");G.exports=function(d){return f(m(d))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(r,G,O){var f=Math.ceil,m=Math.floor;G.exports=function(d){return isNaN(d=+d)?0:(0<d?m:f)(d)}},{}],136:[function(r,G,O){var f=r("../internals/to-integer"),m=Math.min;G.exports=function(d){return 0<d?m(f(d),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(r,G,O){var f=r("../internals/require-object-coercible");G.exports=function(m){return Object(f(m))}},{"../internals/require-object-coercible":113}],138:[function(r,G,O){var f=r("../internals/to-positive-integer");G.exports=function(m,d){if((m=f(m))%d)throw RangeError("Wrong offset");return m}},{"../internals/to-positive-integer":139}],139:[function(r,G,O){var f=r("../internals/to-integer");G.exports=function(m){if((m=f(m))<0)throw RangeError("The argument can't be less than 0");return m}},{"../internals/to-integer":135}],140:[function(r,G,O){var f=r("../internals/is-object");G.exports=function(m,d){if(!f(m))return m;var y,w;if(d&&"function"==typeof(y=m.toString)&&!f(w=y.call(m))||"function"==typeof(y=m.valueOf)&&!f(w=y.call(m))||!d&&"function"==typeof(y=m.toString)&&!f(w=y.call(m)))return w;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(r,G,O){var f={};f[r("../internals/well-known-symbol")("toStringTag")]="z",G.exports="[object z]"===String(f)},{"../internals/well-known-symbol":148}],142:[function(r,G,O){"use strict";function f(lt,nt){for(var St=0,Wt=nt.length,Ct=new(Ne(lt))(Wt);St<Wt;)Ct[St]=nt[St++];return Ct}function m(lt,nt){ie(lt,nt,{get:function(){return Ie(this)[nt]}})}function d(lt){return lt instanceof $e||"ArrayBuffer"==(lt=L(lt))||"SharedArrayBuffer"==lt}function y(lt,nt){return Ke(lt)&&"symbol"!=typeof nt&&nt in lt&&String(+nt)==String(nt)}function w(lt,nt){return y(lt,nt=M(nt,!0))?a(2,lt[nt]):pe(lt,nt)}function b(lt,nt,St){return!(y(lt,nt=M(nt,!0))&&U(St)&&A(St,"value"))||A(St,"get")||A(St,"set")||St.configurable||A(St,"writable")&&!St.writable||A(St,"enumerable")&&!St.enumerable?ie(lt,nt,St):(lt[nt]=St.value,lt)}var i=r("../internals/export"),l=r("../internals/global"),h=r("../internals/descriptors"),s=r("../internals/typed-array-constructors-require-wrappers"),c=r("../internals/array-buffer-view-core"),p=r("../internals/array-buffer"),v=r("../internals/an-instance"),a=r("../internals/create-property-descriptor"),g=r("../internals/create-non-enumerable-property"),E=r("../internals/to-length"),$=r("../internals/to-index"),k=r("../internals/to-offset"),M=r("../internals/to-primitive"),A=r("../internals/has"),L=r("../internals/classof"),U=r("../internals/is-object"),I=r("../internals/object-create"),D=r("../internals/object-set-prototype-of"),R=r("../internals/object-get-own-property-names").f,V=r("../internals/typed-array-from"),N=r("../internals/array-iteration").forEach,Q=r("../internals/set-species"),T=r("../internals/object-define-property"),K=r("../internals/object-get-own-property-descriptor"),se=r("../internals/internal-state"),fe=r("../internals/inherit-if-required"),Ie=se.get,Z=se.set,ie=T.f,pe=K.f,we=Math.round,Re=l.RangeError,$e=p.ArrayBuffer,Fe=p.DataView,Ge=c.NATIVE_ARRAY_BUFFER_VIEWS,je=c.TYPED_ARRAY_TAG,We=c.TypedArray,Ye=c.TypedArrayPrototype,Ne=c.aTypedArrayConstructor,Ke=c.isTypedArray,at="BYTES_PER_ELEMENT",yt="Wrong length";h?(Ge||(K.f=w,T.f=b,m(Ye,"buffer"),m(Ye,"byteOffset"),m(Ye,"byteLength"),m(Ye,"length")),i({target:"Object",stat:!0,forced:!Ge},{getOwnPropertyDescriptor:w,defineProperty:b}),G.exports=function(dt,nt,St){function Wt(wt,Pe){ie(wt,Pe,{get:function(){var Ue=this,Ae=Pe;return(Ue=Ie(Ue)).view[cn](Ae*Ct+Ue.byteOffset,!0)},set:function(Ue){var Ae=this,ze=Pe;Ae=Ie(Ae),St&&(Ue=(Ue=we(Ue))<0?0:255<Ue?255:255&Ue),Ae.view[Ht](ze*Ct+Ae.byteOffset,Ue,!0)},enumerable:!0})}var Ct=dt.match(/\d+$/)[0]/8,rn=dt+(St?"Clamped":"")+"Array",cn="get"+dt,Ht="set"+dt,dn=l[rn],tn=dn,Ut=(dt=tn&&tn.prototype,{});Ge?s&&(tn=nt(function(wt,Pe,Ue,Ae){return v(wt,tn,rn),fe(U(Pe)?d(Pe)?void 0!==Ae?new dn(Pe,k(Ue,Ct),Ae):void 0!==Ue?new dn(Pe,k(Ue,Ct)):new dn(Pe):Ke(Pe)?f(tn,Pe):V.call(tn,Pe):new dn($(Pe)),wt,tn)}),D&&D(tn,We),N(R(dn),function(wt){wt in tn||g(tn,wt,dn[wt])}),tn.prototype=dt):(tn=nt(function(wt,Pe,Ue,Ae){v(wt,tn,rn);var ze,mt,Dt=0,ut=0;if(U(Pe)){if(!d(Pe))return Ke(Pe)?f(tn,Pe):V.call(tn,Pe);var xt=Pe;if(ut=k(Ue,Ct),Ue=Pe.byteLength,void 0===Ae){if(Ue%Ct||(ze=Ue-ut)<0)throw Re(yt)}else if(Ue<(ze=E(Ae)*Ct)+ut)throw Re(yt);mt=ze/Ct}else mt=$(Pe),xt=new $e(ze=mt*Ct);for(Z(wt,{buffer:xt,byteOffset:ut,byteLength:ze,length:mt,view:new Fe(xt)});Dt<mt;)Wt(wt,Dt++)}),D&&D(tn,We),dt=tn.prototype=I(Ye)),dt.constructor!==tn&&g(dt,"constructor",tn),je&&g(dt,je,rn),Ut[rn]=tn,i({global:!0,forced:tn!=dn,sham:!Ge},Ut),at in tn||g(tn,at,Ct),at in dt||g(dt,at,Ct),Q(rn)}):G.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(y,G,O){var f=y("../internals/global"),m=y("../internals/fails"),d=y("../internals/check-correctness-of-iteration"),w=(y=y("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,f.ArrayBuffer),b=f.Int8Array;G.exports=!y||!m(function(){b(1)})||!m(function(){new b(-1)})||!d(function(i){new b,new b(null),new b(1.5),new b(i)},!0)||m(function(){return 1!==new b(new w(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(r,G,O){var f=r("../internals/to-object"),m=r("../internals/to-length"),d=r("../internals/get-iterator-method"),y=r("../internals/is-array-iterator-method"),w=r("../internals/function-bind-context"),b=r("../internals/array-buffer-view-core").aTypedArrayConstructor;G.exports=function(i){var l,h,s,c,p,v,a=f(i),g=arguments.length,E=1<g?arguments[1]:void 0,$=void 0!==E,k=d(a);if(null!=k&&!y(k))for(v=(p=k.call(a)).next,a=[];!(c=v.call(p)).done;)a.push(c.value);for($&&2<g&&(E=w(E,arguments[2],2)),h=m(a.length),s=new(b(this))(h),l=0;l<h;l++)s[l]=$?E(a[l],l):a[l];return s}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(r,G,O){var f=0,m=Math.random();G.exports=function(d){return"Symbol("+String(void 0===d?"":d)+")_"+(++f+m).toString(36)}},{}],146:[function(r,G,O){r=r("../internals/native-symbol"),G.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":83}],147:[function(r,G,O){r=r("../internals/well-known-symbol"),O.f=r},{"../internals/well-known-symbol":148}],148:[function(b,G,O){var f=b("../internals/global"),m=b("../internals/shared"),d=b("../internals/has"),y=b("../internals/uid"),w=b("../internals/native-symbol"),i=(b=b("../internals/use-symbol-as-uid"),m("wks")),l=f.Symbol,h=b?l:l&&l.withoutSetter||y;G.exports=function(s){return d(i,s)||(i[s]=w&&d(l,s)?l[s]:h("Symbol."+s)),i[s]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(r,G,O){G.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],150:[function(d,G,O){"use strict";var f=d("../internals/export"),m=d("../internals/global"),w=d("../internals/array-buffer"),y=(d=d("../internals/set-species"),"ArrayBuffer");f({global:!0,forced:m[y]!==(w=w[y])},{ArrayBuffer:w}),d(y)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(a,G,O){"use strict";var f=a("../internals/export"),m=a("../internals/fails"),d=a("../internals/is-array"),y=a("../internals/is-object"),w=a("../internals/to-object"),b=a("../internals/to-length"),i=a("../internals/create-property"),l=a("../internals/array-species-create"),h=a("../internals/array-method-has-species-support"),v=a("../internals/well-known-symbol"),s=(a=a("../internals/engine-v8-version"),v("isConcatSpreadable")),c=9007199254740991,p="Maximum allowed index exceeded";v=51<=a||!m(function(){var g=[];return g[s]=!1,g.concat()[0]!==g}),a=h("concat"),f({target:"Array",proto:!0,forced:!v||!a},{concat:function(g){for(var E,$,k,M,A,L=w(this),U=l(L,0),I=0,D=-1,R=arguments.length;D<R;D++)if(A=void 0,y(M=k=-1===D?L:arguments[D])&&(void 0!==(A=M[s])?A:d(M))){if($=b(k.length),c<I+$)throw TypeError(p);for(E=0;E<$;E++,I++)E in k&&i(U,I,k[E])}else{if(c<=I)throw TypeError(p);i(U,I++,k)}return U.length=I,U}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(d,G,O){var f=d("../internals/export"),m=d("../internals/array-copy-within");d=d("../internals/add-to-unscopables"),f({target:"Array",proto:!0},{copyWithin:m}),d("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(y,G,O){"use strict";var f=y("../internals/export"),m=y("../internals/array-iteration").every,d=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),d=d("every"),y=y("every"),f({target:"Array",proto:!0,forced:!d||!y},{every:function(w){return m(this,w,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(d,G,O){var f=d("../internals/export"),m=d("../internals/array-fill");d=d("../internals/add-to-unscopables"),f({target:"Array",proto:!0},{fill:m}),d("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(y,G,O){"use strict";var f=y("../internals/export"),m=y("../internals/array-iteration").filter,d=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),d=d("filter"),y=y("filter"),f({target:"Array",proto:!0,forced:!d||!y},{filter:function(w){return m(this,w,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(m,G,O){"use strict";var f=m("../internals/export");m=m("../internals/array-for-each"),f({target:"Array",proto:!0,forced:[].forEach!=m},{forEach:m})},{"../internals/array-for-each":16,"../internals/export":50}],157:[function(r,G,O){var f=r("../internals/export"),m=r("../internals/array-from");f({target:"Array",stat:!0,forced:!r("../internals/check-correctness-of-iteration")(function(d){Array.from(d)})},{from:m})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],158:[function(r,G,O){"use strict";var f=r("../internals/export"),m=r("../internals/array-includes").includes,d=r("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:!r("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(y){return m(this,y,1<arguments.length?arguments[1]:void 0)}}),d("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(b,G,O){"use strict";var f=b("../internals/export"),m=b("../internals/array-includes").indexOf,w=b("../internals/array-method-is-strict"),d=(b=b("../internals/array-method-uses-to-length"),[].indexOf),y=!!d&&1/[1].indexOf(1,-0)<0;w=w("indexOf"),b=b("indexOf",{ACCESSORS:!0,1:0}),f({target:"Array",proto:!0,forced:y||!w||!b},{indexOf:function(i){return y?d.apply(this,arguments)||0:m(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(w,G,O){"use strict";var f=w("../internals/to-indexed-object"),m=w("../internals/add-to-unscopables"),d=w("../internals/iterators"),y=w("../internals/internal-state"),b=(w=w("../internals/define-iterator"),"Array Iterator"),i=y.set,l=y.getterFor(b);G.exports=w(Array,"Array",function(h,s){i(this,{type:b,target:f(h),index:0,kind:s})},function(){var h=l(this),s=h.target,c=h.kind,p=h.index++;return!s||p>=s.length?{value:h.target=void 0,done:!0}:"keys"==c?{value:p,done:!1}:"values"==c?{value:s[p],done:!1}:{value:[p,s[p]],done:!1}},"values"),d.Arguments=d.Array,m("keys"),m("values"),m("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],161:[function(w,G,O){"use strict";var f=w("../internals/export"),y=w("../internals/indexed-object"),m=w("../internals/to-indexed-object"),d=(w=w("../internals/array-method-is-strict"),[].join);y=y!=Object,w=w("join",","),f({target:"Array",proto:!0,forced:y||!w},{join:function(b){return d.call(m(this),void 0===b?",":b)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],162:[function(m,G,O){m("../internals/export")({target:"Array",proto:!0,forced:(m=m("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:m})},{"../internals/array-last-index-of":20,"../internals/export":50}],163:[function(y,G,O){"use strict";var f=y("../internals/export"),m=y("../internals/array-iteration").map,d=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),d=d("map"),y=y("map"),f({target:"Array",proto:!0,forced:!d||!y},{map:function(w){return m(this,w,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(s,G,O){"use strict";var f=s("../internals/export"),m=s("../internals/is-object"),d=s("../internals/is-array"),y=s("../internals/to-absolute-index"),w=s("../internals/to-length"),b=s("../internals/to-indexed-object"),i=s("../internals/create-property"),l=s("../internals/well-known-symbol"),h=s("../internals/array-method-has-species-support"),c=(s=s("../internals/array-method-uses-to-length"),h=h("slice"),s=s("slice",{ACCESSORS:!0,0:0,1:2}),l("species")),p=[].slice,v=Math.max;f({target:"Array",proto:!0,forced:!h||!s},{slice:function(a,g){var E,$,k,M=b(this),A=w(M.length),L=y(a,A),U=y(void 0===g?A:g,A);if(d(M)&&((E="function"==typeof(E=M.constructor)&&(E===Array||d(E.prototype))||m(E)&&null===(E=E[c])?void 0:E)===Array||void 0===E))return p.call(M,L,U);for($=new(void 0===E?Array:E)(v(U-L,0)),k=0;L<U;L++,k++)L in M&&i($,k,M[L]);return $.length=k,$}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],165:[function(y,G,O){"use strict";var f=y("../internals/export"),m=y("../internals/array-iteration").some,d=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),d=d("some"),y=y("some"),f({target:"Array",proto:!0,forced:!d||!y},{some:function(w){return m(this,w,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],166:[function(h,G,O){"use strict";var f=h("../internals/export"),m=h("../internals/to-absolute-index"),d=h("../internals/to-integer"),y=h("../internals/to-length"),w=h("../internals/to-object"),b=h("../internals/array-species-create"),i=h("../internals/create-property"),l=h("../internals/array-method-has-species-support"),s=(h=h("../internals/array-method-uses-to-length"),l=l("splice"),h=h("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),c=Math.min;f({target:"Array",proto:!0,forced:!l||!h},{splice:function(I,v){var a,g,E,$,k,M,A=w(this),L=y(A.length),U=m(I,L);if(0===(I=arguments.length)?a=g=0:g=1===I?(a=0,L-U):(a=I-2,c(s(d(v),0),L-U)),9007199254740991<L+a-g)throw TypeError("Maximum allowed length exceeded");for(E=b(A,g),$=0;$<g;$++)(k=U+$)in A&&i(E,$,A[k]);if(a<(E.length=g)){for($=U;$<L-g;$++)M=$+a,(k=$+g)in A?A[M]=A[k]:delete A[M];for($=L;L-g+a<$;$--)delete A[$-1]}else if(g<a)for($=L-g;U<$;$--)M=$+a-1,(k=$+g-1)in A?A[M]=A[k]:delete A[M];for($=0;$<a;$++)A[$+U]=arguments[$+2];return A.length=L-g+a,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],167:[function(m,G,O){var f=m("../internals/descriptors"),d=(m=m("../internals/object-define-property").f,Function.prototype),y=d.toString,w=/^\s*function ([^ (]*)/;!f||"name"in d||m(d,"name",{configurable:!0,get:function(){try{return y.call(this).match(w)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],168:[function(m,G,O){"use strict";var f=m("../internals/collection");m=m("../internals/collection-strong"),G.exports=f("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},m)},{"../internals/collection":32,"../internals/collection-strong":30}],169:[function(f,G,O){f=f("../internals/export");var m=Math.hypot,d=Math.abs,y=Math.sqrt;f({target:"Math",stat:!0,forced:!!m&&m(1/0,NaN)!==1/0},{hypot:function(w,b){for(var i,l,h=0,s=0,c=arguments.length,p=0;s<c;)p<(i=d(arguments[s++]))?(h=h*(l=p/i)*l+1,p=i):h+=0<i?(l=i/p)*l:i;return p===1/0?1/0:p*y(h)}})},{"../internals/export":50}],170:[function(r,G,O){r("../internals/export")({target:"Math",stat:!0},{sign:r("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],171:[function(r,G,O){"use strict";function f(D){var R,V,N,Q,T,K,se,fe=h(D,!1);if("string"==typeof fe&&2<fe.length)if(43===(D=(fe=g(fe)).charCodeAt(0))||45===D){if(88===(R=fe.charCodeAt(2))||120===R)return NaN}else if(48===D){switch(fe.charCodeAt(1)){case 66:case 98:V=2,N=49;break;case 79:case 111:V=8,N=55;break;default:return+fe}for(T=(Q=fe.slice(2)).length,K=0;K<T;K++)if((se=Q.charCodeAt(K))<48||N<se)return NaN;return parseInt(Q,V)}return+fe}var m=r("../internals/descriptors"),d=r("../internals/global"),y=r("../internals/is-forced"),w=r("../internals/redefine"),b=r("../internals/has"),i=r("../internals/classof-raw"),l=r("../internals/inherit-if-required"),h=r("../internals/to-primitive"),s=r("../internals/fails"),c=r("../internals/object-create"),p=r("../internals/object-get-own-property-names").f,v=r("../internals/object-get-own-property-descriptor").f,a=r("../internals/object-define-property").f,g=r("../internals/string-trim").trim,E="Number",$=d[E],k=$.prototype,M=i(c(k))==E;if(y(E,!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var A,L=function(R){R=arguments.length<1?0:R;var V=this;return V instanceof L&&(M?s(function(){k.valueOf.call(V)}):i(V)!=E)?l(new $(f(R)),V,L):f(R)},U=m?p($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;U.length>I;I++)b($,A=U[I])&&!b(L,A)&&a(L,A,v($,A));(L.prototype=k).constructor=L,w(d,E,L)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],172:[function(r,G,O){r("../internals/export")({target:"Number",stat:!0},{isFinite:r("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],173:[function(b,G,O){"use strict";function f(h,s,c){return 0===s?c:s%2==1?f(h,s-1,c*h):f(h*h,s/2,c)}var m=b("../internals/export"),d=b("../internals/to-integer"),y=b("../internals/this-number-value"),w=b("../internals/string-repeat"),i=(b=b("../internals/fails"),1..toFixed),l=Math.floor;m({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!b(function(){i.call({})})},{toFixed:function(E){function s(A,L){for(var U=-1,I=L;++U<6;)$[U]=(I+=A*$[U])%1e7,I=l(I/1e7)}function c(A){for(var L=6,U=0;0<=--L;)$[L]=l((U+=$[L])/A),U=U%A*1e7}function p(){for(var A,L=6,U="";0<=--L;)""===U&&0!==L&&0===$[L]||(A=String($[L]),U=""===U?A:U+w.call("0",7-A.length)+A);return U}var v,a,g=y(this),$=(E=d(E),[0,0,0,0,0,0]),k="",M="0";if(E<0||20<E)throw RangeError("Incorrect fraction digits");if(g!=g)return"NaN";if(g<=-1e21||1e21<=g)return String(g);if(g<0&&(k="-",g=-g),1e-21<g)if(g=(v=function(A){for(var L=0,U=A;4096<=U;)L+=12,U/=4096;for(;2<=U;)L+=1,U/=2;return L}(g*f(2,69,1))-69)<0?g*f(2,-v,1):g/f(2,v,1),g*=4503599627370496,0<(v=52-v)){for(s(0,g),a=E;7<=a;)s(1e7,0),a-=7;for(s(f(10,a,1),0),a=v-1;23<=a;)c(1<<23),a-=23;c(1<<a),s(1,1),c(2),M=p()}else s(0,g),s(1<<-v,0),M=p()+w.call("0",E);return 0<E?k+((g=M.length)<=E?"0."+w.call("0",E-g)+M:M.slice(0,g-E)+"."+M.slice(g-E)):k+M}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],174:[function(m,G,O){var f=m("../internals/export");m=m("../internals/object-assign"),f({target:"Object",stat:!0,forced:Object.assign!==m},{assign:m})},{"../internals/export":50,"../internals/object-assign":89}],175:[function(r,G,O){var f=r("../internals/export"),m=r("../internals/iterate"),d=r("../internals/create-property");f({target:"Object",stat:!0},{fromEntries:function(y){var w={};return m(y,function(b,i){d(w,b,i)},void 0,!0),w}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],176:[function(y,G,O){var f=y("../internals/export"),w=y("../internals/fails"),m=y("../internals/to-indexed-object"),d=y("../internals/object-get-own-property-descriptor").f;y=y("../internals/descriptors"),w=w(function(){d(1)}),f({target:"Object",stat:!0,forced:!y||w,sham:!y},{getOwnPropertyDescriptor:function(b,i){return d(m(b),i)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],177:[function(d,G,O){var f=d("../internals/export"),m=d("../internals/fails");d=d("../internals/object-get-own-property-names-external").f,f({target:"Object",stat:!0,forced:m(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:d})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],178:[function(w,G,O){var f=w("../internals/export"),m=w("../internals/fails"),d=w("../internals/to-object"),y=w("../internals/object-get-prototype-of");w=w("../internals/correct-prototype-getter"),f({target:"Object",stat:!0,forced:m(function(){y(1)}),sham:!w},{getPrototypeOf:function(b){return y(d(b))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],179:[function(r,G,O){var f=r("../internals/export"),m=r("../internals/to-object"),d=r("../internals/object-keys");f({target:"Object",stat:!0,forced:r("../internals/fails")(function(){d(1)})},{keys:function(y){return d(m(y))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],180:[function(d,G,O){var f=d("../internals/to-string-tag-support"),m=d("../internals/redefine");d=d("../internals/object-to-string"),f||m(Object.prototype,"toString",d,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],181:[function(St,G,O){"use strict";var f,m,d,y,w=St("../internals/export"),b=St("../internals/is-pure"),i=St("../internals/global"),l=St("../internals/get-built-in"),h=St("../internals/native-promise-constructor"),s=St("../internals/redefine"),c=St("../internals/redefine-all"),p=St("../internals/set-to-string-tag"),v=St("../internals/set-species"),a=St("../internals/is-object"),g=St("../internals/a-function"),E=St("../internals/an-instance"),$=St("../internals/classof-raw"),k=St("../internals/inspect-source"),M=St("../internals/iterate"),A=St("../internals/check-correctness-of-iteration"),L=St("../internals/species-constructor"),U=St("../internals/task").set,I=St("../internals/microtask"),D=St("../internals/promise-resolve"),R=St("../internals/host-report-errors"),V=St("../internals/new-promise-capability"),N=St("../internals/perform"),Q=St("../internals/internal-state"),T=St("../internals/is-forced"),Wt=St("../internals/well-known-symbol"),K=St("../internals/engine-v8-version"),se=Wt("species"),fe="Promise",Ie=Q.get,Z=Q.set,ie=Q.getterFor(fe),pe=h,we=i.TypeError,Re=i.document,$e=i.process,Fe=l("fetch"),Ge=V.f,je=Ge,We="process"==$($e),Ye=!!(Re&&Re.createEvent&&i.dispatchEvent),Ne="unhandledrejection",Ct=(Wt=(St=T(fe,function(){var Ut,wt;return k(pe)===String(pe)&&(66===K||!We&&"function"!=typeof PromiseRejectionEvent)||!((!b||pe.prototype.finally)&&(51<=K&&/native code/.test(pe)||(wt=function(Pe){Pe(function(){},function(){})},((Ut=pe.resolve(1)).constructor={})[se]=wt,Ut.then(function(){})instanceof wt)))}))||!A(function(Ut){pe.all(Ut).catch(function(){})}),function(Ut){var wt;return!(!a(Ut)||"function"!=typeof(wt=Ut.then))&&wt}),rn=function(Ut,wt,Pe){var Ue;wt.notified||(wt.notified=!0,Ue=wt.reactions,I(function(){for(var Ae,ze,mt=wt.value,Dt=1==wt.state,ut=0;Ue.length>ut;){var xt,jt,At,Jt=Ue[ut++],gn=Dt?Jt.ok:Jt.fail,_n=Jt.resolve,fn=Jt.reject,Mn=Jt.domain;try{gn?(Dt||(2===wt.rejection&&function(bt,ht){U.call(i,function(){We?$e.emit("rejectionHandled",bt):cn("rejectionhandled",bt,ht.value)})}(Ut,wt),wt.rejection=1),!0===gn?xt=mt:(Mn&&Mn.enter(),xt=gn(mt),Mn&&(Mn.exit(),At=!0)),xt===Jt.promise?fn(we("Promise-chain cycle")):(jt=Ct(xt))?jt.call(xt,_n,fn):_n(xt)):fn(mt)}catch(bt){Mn&&!At&&Mn.exit(),fn(bt)}}wt.reactions=[],wt.notified=!1,Pe&&!wt.rejection&&(Ae=Ut,ze=wt,U.call(i,function(){var bt=ze.value,ht=Ht(ze);if(ht&&(ht=N(function(){We?$e.emit("unhandledRejection",bt,Ae):cn(Ne,Ae,bt)}),ze.rejection=We||Ht(ze)?2:1,ht.error))throw ht.value}))}))},cn=function(Ut,wt,Pe){var Ue;Ye?((Ue=Re.createEvent("Event")).promise=wt,Ue.reason=Pe,Ue.initEvent(Ut,!1,!0),i.dispatchEvent(Ue)):Ue={promise:wt,reason:Pe},(wt=i["on"+Ut])?wt(Ue):Ut===Ne&&R("Unhandled promise rejection",Pe)},Ht=function(Ut){return 1!==Ut.rejection&&!Ut.parent},dn=function(Ut,wt,Pe,Ue){return function(Ae){Ut(wt,Pe,Ae,Ue)}},tn=function(Ut,wt,Pe,Ue){wt.done||(wt.done=!0,(wt=Ue||wt).value=Pe,wt.state=2,rn(Ut,wt,!0))},dt=function(Ut,wt,Pe,Ue){if(!wt.done){wt.done=!0,Ue&&(wt=Ue);try{if(Ut===Pe)throw we("Promise can't be resolved itself");var Ae=Ct(Pe);Ae?I(function(){var ze={done:!1};try{Ae.call(Pe,dn(dt,Ut,ze,wt),dn(tn,Ut,ze,wt))}catch(mt){tn(Ut,ze,mt,wt)}}):(wt.value=Pe,wt.state=1,rn(Ut,wt,!1))}catch(ze){tn(Ut,{done:!1},ze,wt)}}};St&&(pe=function(Ut){E(this,pe,fe),g(Ut),f.call(this);var wt=Ie(this);try{Ut(dn(dt,this,wt),dn(tn,this,wt))}catch(Pe){tn(this,wt,Pe)}},(f=function(Ut){Z(this,{type:fe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(pe.prototype,{then:function(Ut,wt){var Pe=ie(this),Ue=Ge(L(this,pe));return Ue.ok="function"!=typeof Ut||Ut,Ue.fail="function"==typeof wt&&wt,Ue.domain=We?$e.domain:void 0,Pe.parent=!0,Pe.reactions.push(Ue),0!=Pe.state&&rn(this,Pe,!1),Ue.promise},catch:function(Ut){return this.then(void 0,Ut)}}),m=function(){var Ut=new f,wt=Ie(Ut);this.promise=Ut,this.resolve=dn(dt,Ut,wt),this.reject=dn(tn,Ut,wt)},V.f=Ge=function(Ut){return Ut===pe||Ut===d?new m:je(Ut)},b||"function"!=typeof h||(y=h.prototype.then,s(h.prototype,"then",function(Ut,wt){var Pe=this;return new pe(function(Ue,Ae){y.call(Pe,Ue,Ae)}).then(Ut,wt)},{unsafe:!0}),"function"==typeof Fe&&w({global:!0,enumerable:!0,forced:!0},{fetch:function(Ut){return D(pe,Fe.apply(i,arguments))}}))),w({global:!0,wrap:!0,forced:St},{Promise:pe}),p(pe,fe,!1,!0),v(fe),d=l(fe),w({target:fe,stat:!0,forced:St},{reject:function(Ut){var wt=Ge(this);return wt.reject.call(void 0,Ut),wt.promise}}),w({target:fe,stat:!0,forced:b||St},{resolve:function(Ut){return D(b&&this===d?pe:this,Ut)}}),w({target:fe,stat:!0,forced:Wt},{all:function(Ut){var wt=this,Pe=Ge(wt),Ue=Pe.resolve,Ae=Pe.reject,ze=N(function(){var mt=g(wt.resolve),Dt=[],ut=0,xt=1;M(Ut,function(jt){var At=ut++,Jt=!1;Dt.push(void 0),xt++,mt.call(wt,jt).then(function(gn){Jt||(Jt=!0,Dt[At]=gn,--xt||Ue(Dt))},Ae)}),--xt||Ue(Dt)});return ze.error&&Ae(ze.value),Pe.promise},race:function(Ut){var wt=this,Pe=Ge(wt),Ue=Pe.reject,Ae=N(function(){var ze=g(wt.resolve);M(Ut,function(mt){ze.call(wt,mt).then(Pe.resolve,Ue)})});return Ae.error&&Ue(Ae.value),Pe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],182:[function(i,G,O){var f=i("../internals/export"),c=i("../internals/get-built-in"),m=i("../internals/a-function"),d=i("../internals/an-object"),y=i("../internals/is-object"),w=i("../internals/object-create"),b=i("../internals/function-bind"),l=(i=i("../internals/fails"),c("Reflect","construct")),h=i(function(){function p(){}return!(l(function(){},[],p)instanceof p)}),s=!i(function(){l(function(){})});f({target:"Reflect",stat:!0,forced:c=h||s,sham:c},{construct:function(p,v){m(p),d(v);var a=arguments.length<3?p:m(arguments[2]);if(s&&!h)return l(p,v,a);if(p==a){switch(v.length){case 0:return new p;case 1:return new p(v[0]);case 2:return new p(v[0],v[1]);case 3:return new p(v[0],v[1],v[2]);case 4:return new p(v[0],v[1],v[2],v[3])}var g=[null];return g.push.apply(g,v),new(b.apply(p,g))}return a=w(y(g=a.prototype)?g:Object.prototype),g=Function.apply.call(p,a,v),y(g)?g:a}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],183:[function(r,G,O){var f=r("../internals/export"),m=r("../internals/is-object"),d=r("../internals/an-object"),y=r("../internals/has"),w=r("../internals/object-get-own-property-descriptor"),b=r("../internals/object-get-prototype-of");f({target:"Reflect",stat:!0},{get:function i(l,h){var s,c=arguments.length<3?l:arguments[2];return d(l)===c?l[h]:(s=w.f(l,h))?y(s,"value")?s.value:void 0===s.get?void 0:s.get.call(c):m(s=b(l))?i(s,h,c):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],184:[function(r,G,O){var f=r("../internals/descriptors"),m=r("../internals/global"),d=r("../internals/is-forced"),y=r("../internals/inherit-if-required"),w=r("../internals/object-define-property").f,b=r("../internals/object-get-own-property-names").f,i=r("../internals/is-regexp"),l=r("../internals/regexp-flags"),h=r("../internals/regexp-sticky-helpers"),s=r("../internals/redefine"),c=r("../internals/fails"),p=r("../internals/internal-state").set,v=r("../internals/set-species"),a=r("../internals/well-known-symbol")("match"),g=m.RegExp,E=g.prototype,$=/a/g,k=/a/g,M=new g($)!==$,A=h.UNSUPPORTED_Y;if(f&&d("RegExp",!M||A||c(function(){return k[a]=!1,g($)!=$||g(k)==k||"/a/i"!=g($,"i")}))){for(var L=function(D,R){var V,N=this instanceof L,Q=i(D),T=void 0===R;return!N&&Q&&D.constructor===L&&T?D:(M?Q&&!T&&(D=D.source):D instanceof L&&(T&&(R=l.call(D)),D=D.source),A&&(V=!!R&&-1<R.indexOf("y"))&&(R=R.replace(/y/g,"")),Q=y(M?new g(D,R):g(D,R),N?this:E,L),A&&V&&p(Q,{sticky:V}),Q)},U=b(g),I=0;U.length>I;)!function(D){D in L||w(L,D,{configurable:!0,get:function(){return g[D]},set:function(R){g[D]=R}})}(U[I++]);(E.constructor=L).prototype=E,s(m,"RegExp",L)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],185:[function(m,G,O){"use strict";var f=m("../internals/export");m=m("../internals/regexp-exec"),f({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})},{"../internals/export":50,"../internals/regexp-exec":110}],186:[function(y,G,O){"use strict";var f=y("../internals/redefine"),m=y("../internals/an-object"),i=y("../internals/fails"),d=y("../internals/regexp-flags"),w=(y="toString",RegExp.prototype),b=w[y];((i=i(function(){return"/a/b"!=b.call({source:"a",flags:"b"})}))||b.name!=y)&&f(RegExp.prototype,y,function(){var h=m(this),s=String(h.source),c=h.flags;return"/"+s+"/"+String(void 0===c&&h instanceof RegExp&&!("flags"in w)?d.call(h):c)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],187:[function(m,G,O){"use strict";var f=m("../internals/collection");m=m("../internals/collection-strong"),G.exports=f("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},m)},{"../internals/collection":32,"../internals/collection-strong":30}],188:[function(b,G,O){"use strict";var f=b("../internals/export"),m=b("../internals/object-get-own-property-descriptor").f,d=b("../internals/to-length"),y=b("../internals/not-a-regexp"),w=b("../internals/require-object-coercible"),h=b("../internals/correct-is-regexp-logic"),i=(b=b("../internals/is-pure"),"".endsWith),l=Math.min;h=h("endsWith"),f({target:"String",proto:!0,forced:!(!b&&!h&&(f=m(String.prototype,"endsWith"))&&!f.writable||h)},{endsWith:function(s){var c=String(w(this)),p=(y(s),1<arguments.length?arguments[1]:void 0),v=d(c.length);return p=void 0===p?v:l(d(p),v),v=String(s),i?i.call(c,v,p):c.slice(p-v.length,p)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],189:[function(r,G,O){"use strict";var f=r("../internals/export"),m=r("../internals/not-a-regexp"),d=r("../internals/require-object-coercible");f({target:"String",proto:!0,forced:!r("../internals/correct-is-regexp-logic")("includes")},{includes:function(y){return!!~String(d(this)).indexOf(m(y),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],190:[function(d,G,O){"use strict";var f=d("../internals/string-multibyte").charAt,m=d("../internals/internal-state"),y=(d=d("../internals/define-iterator"),"String Iterator"),w=m.set,b=m.getterFor(y);d(String,"String",function(i){w(this,{type:y,string:String(i),index:0})},function(){var i=b(this),l=i.string,h=i.index;return h>=l.length?{value:void 0,done:!0}:(l=f(l,h),i.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],191:[function(r,G,O){"use strict";var f=r("../internals/fix-regexp-well-known-symbol-logic"),m=r("../internals/an-object"),d=r("../internals/to-length"),y=r("../internals/require-object-coercible"),w=r("../internals/advance-string-index"),b=r("../internals/regexp-exec-abstract");f("match",1,function(i,l,h){return[function(s){var c=y(this),p=null==s?void 0:s[i];return void 0!==p?p.call(s,c):new RegExp(s)[i](String(c))},function(s){var c=h(l,s,this);if(c.done)return c.value;var p=m(s),v=String(this);if(!p.global)return b(p,v);for(var a=p.unicode,g=[],E=p.lastIndex=0;null!==($=b(p,v));){var $=String($[0]);""===(g[E]=$)&&(p.lastIndex=w(v,d(p.lastIndex),a)),E++}return 0===E?null:g}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],192:[function(r,G,O){"use strict";var f=r("../internals/export"),m=r("../internals/string-pad").start;f({target:"String",proto:!0,forced:r("../internals/string-pad-webkit-bug")},{padStart:function(d){return m(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],193:[function(r,G,O){r("../internals/export")({target:"String",proto:!0},{repeat:r("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],194:[function(r,G,O){"use strict";var f=r("../internals/fix-regexp-well-known-symbol-logic"),m=r("../internals/an-object"),d=r("../internals/to-object"),y=r("../internals/to-length"),w=r("../internals/to-integer"),b=r("../internals/require-object-coercible"),i=r("../internals/advance-string-index"),l=r("../internals/regexp-exec-abstract"),h=Math.max,s=Math.min,c=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;f("replace",2,function(a,g,E,$){var k=$.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=$.REPLACE_KEEPS_$0,A=k?"$":"$0";return[function(L,U){var I=b(this),D=null==L?void 0:L[a];return void 0!==D?D.call(L,I,U):g.call(String(I),L,U)},function(L,U){if(!k&&M||"string"==typeof U&&-1===U.indexOf(A)){var I=E(g,L,this,U);if(I.done)return I.value}for(var D,R=m(L),V=String(this),N="function"==typeof U,Q=(N||(U=String(U)),R.global),T=(Q&&(D=R.unicode,R.lastIndex=0),[]);null!==(Z=l(R,V))&&(T.push(Z),Q);)""===String(Z[0])&&(R.lastIndex=i(V,y(R.lastIndex),D));for(var K,se="",fe=0,Ie=0;Ie<T.length;Ie++){for(var Z=T[Ie],ie=String(Z[0]),pe=h(s(w(Z.index),V.length),0),we=[],Re=1;Re<Z.length;Re++)we.push(void 0===(K=Z[Re])?K:String(K));var $e=Z.groups,Fe=N?(Fe=[ie].concat(we,pe,V),void 0!==$e&&Fe.push($e),String(U.apply(void 0,Fe))):function(Ge,je,We,Ye,Ne,Ke){var at=We+Ge.length,yt=Ye.length,lt=v;return void 0!==Ne&&(Ne=d(Ne),lt=p),g.call(Ke,lt,function(nt,St){var Wt;switch(St.charAt(0)){case"$":return"$";case"&":return Ge;case"`":return je.slice(0,We);case"'":return je.slice(at);case"<":Wt=Ne[St.slice(1,-1)];break;default:var Ct,rn=+St;if(0==rn)return nt;if(yt<rn)return 0!==(Ct=c(rn/10))&&Ct<=yt?void 0===Ye[Ct-1]?St.charAt(1):Ye[Ct-1]+St.charAt(1):nt;Wt=Ye[rn-1]}return void 0===Wt?"":Wt})}(ie,V,pe,we,$e,U);fe<=pe&&(se+=V.slice(fe,pe)+Fe,fe=pe+ie.length)}return se+V.slice(fe)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],195:[function(r,G,O){"use strict";var f=r("../internals/fix-regexp-well-known-symbol-logic"),m=r("../internals/an-object"),d=r("../internals/require-object-coercible"),y=r("../internals/same-value"),w=r("../internals/regexp-exec-abstract");f("search",1,function(b,i,l){return[function(h){var s=d(this),c=null==h?void 0:h[b];return void 0!==c?c.call(h,s):new RegExp(h)[b](String(s))},function(h){var s,c=l(i,h,this);return c.done?c.value:(c=m(h),h=String(this),y(s=c.lastIndex,0)||(c.lastIndex=0),h=w(c,h),y(c.lastIndex,s)||(c.lastIndex=s),null===h?-1:h.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],196:[function(s,G,O){"use strict";var f=s("../internals/fix-regexp-well-known-symbol-logic"),m=s("../internals/is-regexp"),d=s("../internals/an-object"),y=s("../internals/require-object-coercible"),w=s("../internals/species-constructor"),b=s("../internals/advance-string-index"),i=s("../internals/to-length"),l=s("../internals/regexp-exec-abstract"),h=s("../internals/regexp-exec"),c=(s=s("../internals/fails"),[].push),p=Math.min,v=4294967295,a=!s(function(){return!RegExp(v,"y")});f("split",2,function(g,E,$){var k="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(M,A){var L=String(y(this)),U=void 0===A?v:A>>>0;if(0==U)return[];if(void 0===M)return[L];if(!m(M))return E.call(L,M,U);for(var I,D,R,V=[],N=(A=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),0),Q=new RegExp(M.source,A+"g");(I=h.call(Q,L))&&!(N<(D=Q.lastIndex)&&(V.push(L.slice(N,I.index)),1<I.length&&I.index<L.length&&c.apply(V,I.slice(1)),R=I[0].length,N=D,V.length>=U));)Q.lastIndex===I.index&&Q.lastIndex++;return N===L.length?!R&&Q.test("")||V.push(""):V.push(L.slice(N)),V.length>U?V.slice(0,U):V}:"0".split(void 0,0).length?function(M,A){return void 0===M&&0===A?[]:E.call(this,M,A)}:E;return[function(M,A){var L=y(this),U=null==M?void 0:M[g];return void 0!==U?U.call(M,L,A):k.call(String(L),M,A)},function(I,A){if((L=$(k,I,this,A,k!==E)).done)return L.value;var L=d(I),U=String(this),D=(I=w(L,RegExp),L.unicode),V=new I(a?L:"^(?:"+L.source+")",(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(a?"y":"g")),N=void 0===A?v:A>>>0;if(0==N)return[];if(0===U.length)return null===l(V,U)?[U]:[];for(var Q=0,T=0,K=[];T<U.length;){V.lastIndex=a?T:0;var se,fe=l(V,a?U:U.slice(T));if(null===fe||(se=p(i(V.lastIndex+(a?0:T)),U.length))===Q)T=b(U,T,D);else{if(K.push(U.slice(Q,T)),K.length===N)return K;for(var Ie=1;Ie<=fe.length-1;Ie++)if(K.push(fe[Ie]),K.length===N)return K;T=Q=se}}return K.push(U.slice(Q)),K}]},!a)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],197:[function(b,G,O){"use strict";var f=b("../internals/export"),m=b("../internals/object-get-own-property-descriptor").f,d=b("../internals/to-length"),y=b("../internals/not-a-regexp"),w=b("../internals/require-object-coercible"),h=b("../internals/correct-is-regexp-logic"),i=(b=b("../internals/is-pure"),"".startsWith),l=Math.min;h=h("startsWith"),f({target:"String",proto:!0,forced:!(!b&&!h&&(f=m(String.prototype,"startsWith"))&&!f.writable||h)},{startsWith:function(v){var c=String(w(this)),p=(y(v),d(l(1<arguments.length?arguments[1]:void 0,c.length)));return v=String(v),i?i.call(c,v,p):c.slice(p,p+v.length)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],198:[function(r,G,O){"use strict";var f=r("../internals/export"),m=r("../internals/create-html");f({target:"String",proto:!0,forced:r("../internals/string-html-forced")("sub")},{sub:function(){return m(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],199:[function(r,G,O){"use strict";var f=r("../internals/export"),m=r("../internals/string-trim").trim;f({target:"String",proto:!0,forced:r("../internals/string-trim-forced")("trim")},{trim:function(){return m(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],200:[function(p,G,O){"use strict";var f,m,d,y,w,b=p("../internals/export"),i=p("../internals/descriptors"),l=p("../internals/global"),h=p("../internals/has"),s=p("../internals/is-object"),c=p("../internals/object-define-property").f,v=(p=p("../internals/copy-constructor-properties"),l.Symbol);!i||"function"!=typeof v||"description"in v.prototype&&void 0===v().description||(f={},p(m=function(){var a=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),g=this instanceof m?new v(a):void 0===a?v():v(a);return""===a&&(f[g]=!0),g},v),(l=m.prototype=v.prototype).constructor=m,d=l.toString,y="Symbol(test)"==String(v("test")),w=/^Symbol\((.*)\)[^)]+$/,c(l,"description",{configurable:!0,get:function(){var a=s(this)?this.valueOf():this,g=d.call(a);return h(f,a)?"":""===(a=y?g.slice(7,-1):g.replace(w,"$1"))?void 0:a}}),b({global:!0,forced:!0},{Symbol:m}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],201:[function(r,G,O){r("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],202:[function(je,G,O){"use strict";function f(Ae,ze){var mt=Wt[Ae]=L(Ke[Ge]);return We(mt,{type:Fe,tag:Ae,description:ze}),h||(mt.description=ze),mt}function m(Ae,Dt){E(Ae);var mt=k(Dt);return Dt=U(mt).concat(Ue(mt)),Re(Dt,function(ut){h&&!Pe.call(mt,ut)||wt(Ae,ut,mt[ut])}),Ae}function d(Dt,ut){var mt;if(Dt=k(Dt),ut=M(ut,!0),Dt!==Ne||!v(Wt,ut)||v(Ct,ut))return!(mt=yt(Dt,ut))||!v(Wt,ut)||v(Dt,$e)&&Dt[$e][ut]||(mt.enumerable=!0),mt}function y(ze){ze=nt(k(ze));var mt=[];return Re(ze,function(Dt){v(Wt,Dt)||v(fe,Dt)||mt.push(Dt)}),mt}var w=je("../internals/export"),b=je("../internals/global"),i=je("../internals/get-built-in"),l=je("../internals/is-pure"),h=je("../internals/descriptors"),s=je("../internals/native-symbol"),c=je("../internals/use-symbol-as-uid"),p=je("../internals/fails"),v=je("../internals/has"),a=je("../internals/is-array"),g=je("../internals/is-object"),E=je("../internals/an-object"),$=je("../internals/to-object"),k=je("../internals/to-indexed-object"),M=je("../internals/to-primitive"),A=je("../internals/create-property-descriptor"),L=je("../internals/object-create"),U=je("../internals/object-keys"),I=je("../internals/object-get-own-property-names"),D=je("../internals/object-get-own-property-names-external"),R=je("../internals/object-get-own-property-symbols"),V=je("../internals/object-get-own-property-descriptor"),N=je("../internals/object-define-property"),Q=je("../internals/object-property-is-enumerable"),T=je("../internals/create-non-enumerable-property"),K=je("../internals/redefine"),se=je("../internals/shared"),Ht=je("../internals/shared-key"),fe=je("../internals/hidden-keys"),Ie=je("../internals/uid"),Z=je("../internals/well-known-symbol"),ie=je("../internals/well-known-symbol-wrapped"),pe=je("../internals/define-well-known-symbol"),we=je("../internals/set-to-string-tag"),dn=je("../internals/internal-state"),Re=je("../internals/array-iteration").forEach,$e=Ht("hidden"),Fe="Symbol",Ge="prototype",We=(je=Z("toPrimitive"),dn.set),Ye=dn.getterFor(Fe),Ne=Object[Ge],Ke=b.Symbol,at=i("JSON","stringify"),yt=V.f,lt=N.f,nt=D.f,St=Q.f,Wt=se("symbols"),Ct=se("op-symbols"),rn=se("string-to-symbol-registry"),cn=se("symbol-to-string-registry"),tn=(Ht=se("wks"),!(dn=b.QObject)||!dn[Ge]||!dn[Ge].findChild),dt=h&&p(function(){return 7!=L(lt({},"a",{get:function(){return lt(this,"a",{value:7}).a}})).a})?function(Ae,ze,mt){var Dt=yt(Ne,ze);Dt&&delete Ne[ze],lt(Ae,ze,mt),Dt&&Ae!==Ne&&lt(Ne,ze,Dt)}:lt,Ut=c?function(Ae){return"symbol"==typeof Ae}:function(Ae){return Object(Ae)instanceof Ke},wt=function(Ae,ze,mt){return Ae===Ne&&wt(Ct,ze,mt),E(Ae),ze=M(ze,!0),E(mt),(v(Wt,ze)?(mt.enumerable?(v(Ae,$e)&&Ae[$e][ze]&&(Ae[$e][ze]=!1),mt=L(mt,{enumerable:A(0,!1)})):(v(Ae,$e)||lt(Ae,$e,A(1,{})),Ae[$e][ze]=!0),dt):lt)(Ae,ze,mt)},Pe=function(ze){ze=M(ze,!0);var mt=St.call(this,ze);return!(this===Ne&&v(Wt,ze)&&!v(Ct,ze))&&(!(mt||!v(this,ze)||!v(Wt,ze)||v(this,$e)&&this[$e][ze])||mt)},Ue=function(mt){var ze=mt===Ne,Dt=(mt=nt(ze?Ct:k(mt)),[]);return Re(mt,function(ut){!v(Wt,ut)||ze&&!v(Ne,ut)||Dt.push(Wt[ut])}),Dt};s||(K((Ke=function(){if(this instanceof Ke)throw TypeError("Symbol is not a constructor");var Ae=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,ze=Ie(Ae),mt=function(Dt){this===Ne&&mt.call(Ct,Dt),v(this,$e)&&v(this[$e],ze)&&(this[$e][ze]=!1),dt(this,ze,A(1,Dt))};return h&&tn&&dt(Ne,ze,{configurable:!0,set:mt}),f(ze,Ae)})[Ge],"toString",function(){return Ye(this).tag}),K(Ke,"withoutSetter",function(Ae){return f(Ie(Ae),Ae)}),Q.f=Pe,N.f=wt,V.f=d,I.f=D.f=y,R.f=Ue,ie.f=function(Ae){return f(Z(Ae),Ae)},h&&(lt(Ke[Ge],"description",{configurable:!0,get:function(){return Ye(this).description}}),l||K(Ne,"propertyIsEnumerable",Pe,{unsafe:!0}))),w({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Ke}),Re(U(Ht),function(Ae){pe(Ae)}),w({target:Fe,stat:!0,forced:!s},{for:function(mt){var ze;return mt=String(mt),v(rn,mt)?rn[mt]:(ze=Ke(mt),rn[mt]=ze,cn[ze]=mt,ze)},keyFor:function(Ae){if(!Ut(Ae))throw TypeError(Ae+" is not a symbol");if(v(cn,Ae))return cn[Ae]},useSetter:function(){tn=!0},useSimple:function(){tn=!1}}),w({target:"Object",stat:!0,forced:!s,sham:!h},{create:function(Ae,ze){return void 0===ze?L(Ae):m(L(Ae),ze)},defineProperty:wt,defineProperties:m,getOwnPropertyDescriptor:d}),w({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:y,getOwnPropertySymbols:Ue}),w({target:"Object",stat:!0,forced:p(function(){R.f(1)})},{getOwnPropertySymbols:function(Ae){return R.f($(Ae))}}),at&&w({target:"JSON",stat:!0,forced:!s||p(function(){var Ae=Ke();return"[null]"!=at([Ae])||"{}"!=at({a:Ae})||"{}"!=at(Object(Ae))})},{stringify:function(Ae,ze,mt){for(var Dt,ut=[Ae],xt=1;xt<arguments.length;)ut.push(arguments[xt++]);if((g(Dt=ze)||void 0!==Ae)&&!Ut(Ae))return a(ze)||(ze=function(jt,At){if("function"==typeof Dt&&(At=Dt.call(this,jt,At)),!Ut(At))return At}),ut[1]=ze,at.apply(null,ut)}}),Ke[Ge][je]||T(Ke[Ge],je,Ke[Ge].valueOf),we(Ke,Fe),fe[$e]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],203:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-copy-within"),d=f.aTypedArray;(0,f.exportTypedArrayMethod)("copyWithin",function(y,w){return m.call(d(this),y,w,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],204:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-iteration").every,d=f.aTypedArray;(0,f.exportTypedArrayMethod)("every",function(y){return m(d(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],205:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-fill"),d=f.aTypedArray;(0,f.exportTypedArrayMethod)("fill",function(y){return m.apply(d(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],206:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-iteration").filter,d=r("../internals/species-constructor"),y=f.aTypedArray,w=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("filter",function(b){for(var i=m(y(this),b,1<arguments.length?arguments[1]:void 0),l=(b=d(this,this.constructor),0),h=i.length,s=new(w(b))(h);l<h;)s[l]=i[l++];return s})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],207:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-iteration").findIndex,d=f.aTypedArray;(0,f.exportTypedArrayMethod)("findIndex",function(y){return m(d(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],208:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-iteration").find,d=f.aTypedArray;(0,f.exportTypedArrayMethod)("find",function(y){return m(d(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],209:[function(r,G,O){r("../internals/typed-array-constructor")("Float32",function(f){return function(m,d,y){return f(this,m,d,y)}})},{"../internals/typed-array-constructor":142}],210:[function(r,G,O){r("../internals/typed-array-constructor")("Float64",function(f){return function(m,d,y){return f(this,m,d,y)}})},{"../internals/typed-array-constructor":142}],211:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-iteration").forEach,d=f.aTypedArray;(0,f.exportTypedArrayMethod)("forEach",function(y){m(d(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-includes").includes,d=f.aTypedArray;(0,f.exportTypedArrayMethod)("includes",function(y){return m(d(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],213:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-includes").indexOf,d=f.aTypedArray;(0,f.exportTypedArrayMethod)("indexOf",function(y){return m(d(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],214:[function(r,G,O){r("../internals/typed-array-constructor")("Int16",function(f){return function(m,d,y){return f(this,m,d,y)}})},{"../internals/typed-array-constructor":142}],215:[function(r,G,O){r("../internals/typed-array-constructor")("Int32",function(f){return function(m,d,y){return f(this,m,d,y)}})},{"../internals/typed-array-constructor":142}],216:[function(m,G,O){"use strict";function f(){return d.call(b(this))}var h=m("../internals/global"),l=m("../internals/array-buffer-view-core"),i=m("../modules/es.array.iterator"),d=(m=m("../internals/well-known-symbol")("iterator"),i.values),y=i.keys,w=i.entries,b=l.aTypedArray;i=l.exportTypedArrayMethod,h=!!(l=(h=h.Uint8Array)&&h.prototype[m])&&("values"==l.name||null==l.name),i("entries",function(){return w.call(b(this))}),i("keys",function(){return y.call(b(this))}),i("values",f,!h),i(m,f,!h)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],217:[function(m,G,O){"use strict";var f=(m=m("../internals/array-buffer-view-core")).aTypedArray,d=[].join;(m=m.exportTypedArrayMethod)("join",function(y){return d.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12}],218:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-last-index-of"),d=f.aTypedArray;(0,f.exportTypedArrayMethod)("lastIndexOf",function(y){return m.apply(d(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],219:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-iteration").map,d=r("../internals/species-constructor"),y=f.aTypedArray,w=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("map",function(b){return m(y(this),b,1<arguments.length?arguments[1]:void 0,function(i,l){return new(w(d(i,i.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],220:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-reduce").right,d=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduceRight",function(y){return m(d(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],221:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-reduce").left,d=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduce",function(y){return m(d(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],222:[function(m,G,O){"use strict";var f=(m=m("../internals/array-buffer-view-core")).aTypedArray,d=(m=m.exportTypedArrayMethod,Math.floor);m("reverse",function(){for(var y,w=f(this).length,b=d(w/2),i=0;i<b;)y=this[i],this[i++]=this[--w],this[w]=y;return this})},{"../internals/array-buffer-view-core":12}],223:[function(w,G,O){"use strict";var f=w("../internals/array-buffer-view-core"),m=w("../internals/to-length"),d=w("../internals/to-offset"),y=w("../internals/to-object"),b=(w=w("../internals/fails"),f.aTypedArray);(0,f.exportTypedArrayMethod)("set",function(i){b(this);var l=d(1<arguments.length?arguments[1]:void 0,1),h=this.length,s=y(i),c=m(s.length),p=0;if(h<c+l)throw RangeError("Wrong length");for(;p<c;)this[l+p]=s[p++]},w(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],224:[function(m,G,O){"use strict";var w=m("../internals/array-buffer-view-core"),f=m("../internals/species-constructor"),d=(m=m("../internals/fails"),w.aTypedArray),y=w.aTypedArrayConstructor,b=[].slice;(w=w.exportTypedArrayMethod)("slice",function(i,l){for(var h=b.call(d(this),i,l),s=(i=f(this,this.constructor),0),c=h.length,p=new(y(i))(c);s<c;)p[s]=h[s++];return p},m(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],225:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/array-iteration").some,d=f.aTypedArray;(0,f.exportTypedArrayMethod)("some",function(y){return m(d(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],226:[function(m,G,O){"use strict";var f=(m=m("../internals/array-buffer-view-core")).aTypedArray,d=[].sort;(m=m.exportTypedArrayMethod)("sort",function(y){return d.call(f(this),y)})},{"../internals/array-buffer-view-core":12}],227:[function(r,G,O){"use strict";var f=r("../internals/array-buffer-view-core"),m=r("../internals/to-length"),d=r("../internals/to-absolute-index"),y=r("../internals/species-constructor"),w=f.aTypedArray;(0,f.exportTypedArrayMethod)("subarray",function(s,i){var l=w(this),h=l.length;return s=d(s,h),new(y(l,l.constructor))(l.buffer,l.byteOffset+s*l.BYTES_PER_ELEMENT,m((void 0===i?h:d(i,h))-s))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],228:[function(m,G,O){"use strict";var w=m("../internals/global"),f=m("../internals/array-buffer-view-core"),d=(m=m("../internals/fails"),w.Int8Array),y=f.aTypedArray,b=(w=f.exportTypedArrayMethod,[].toLocaleString),i=[].slice,l=!!d&&m(function(){b.call(new d(1))});w("toLocaleString",function(){return b.apply(l?i.call(y(this)):y(this),arguments)},m(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!m(function(){d.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],229:[function(m,G,O){"use strict";var f=m("../internals/array-buffer-view-core").exportTypedArrayMethod,w=m("../internals/fails"),d=(m=(m=m("../internals/global").Uint8Array)&&m.prototype||{},[].toString),y=[].join;w(function(){d.call({})})&&(d=function(){return y.call(this)}),f("toString",d,w=m.toString!=d)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],230:[function(r,G,O){r("../internals/typed-array-constructor")("Uint16",function(f){return function(m,d,y){return f(this,m,d,y)}})},{"../internals/typed-array-constructor":142}],231:[function(r,G,O){r("../internals/typed-array-constructor")("Uint32",function(f){return function(m,d,y){return f(this,m,d,y)}})},{"../internals/typed-array-constructor":142}],232:[function(r,G,O){r("../internals/typed-array-constructor")("Uint8",function(f){return function(m,d,y){return f(this,m,d,y)}})},{"../internals/typed-array-constructor":142}],233:[function(r,G,O){r("../internals/typed-array-constructor")("Uint8",function(f){return function(m,d,y){return f(this,m,d,y)}},!0)},{"../internals/typed-array-constructor":142}],234:[function(v,E,O){"use strict";function f($){return function(){return $(this,arguments.length?arguments[0]:void 0)}}var m,d,y,w,b,a=v("../internals/global"),i=v("../internals/redefine-all"),l=v("../internals/internal-metadata"),h=v("../internals/collection"),s=v("../internals/collection-weak"),c=v("../internals/is-object"),p=v("../internals/internal-state").enforce,g=(v=v("../internals/native-weak-map"),a=!a.ActiveXObject&&"ActiveXObject"in a,Object.isExtensible);E=E.exports=h("WeakMap",f,s),v&&a&&(m=s.getConstructor(f,"WeakMap",!0),l.REQUIRED=!0,d=(h=E.prototype).delete,y=h.has,w=h.get,b=h.set,i(h,{delete:function($){var k;return c($)&&!g($)?((k=p(this)).frozen||(k.frozen=new m),d.call(this,$)||k.frozen.delete($)):d.call(this,$)},has:function($){var k;return c($)&&!g($)?((k=p(this)).frozen||(k.frozen=new m),y.call(this,$)||k.frozen.has($)):y.call(this,$)},get:function($){var k;return!c($)||g($)||((k=p(this)).frozen||(k.frozen=new m),y.call(this,$))?w.call(this,$):k.frozen.get($)},set:function($,k){var M;return!c($)||g($)||((M=p(this)).frozen||(M.frozen=new m),y.call(this,$))?b.call(this,$,k):M.frozen.set($,k),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],235:[function(r,G,O){var f,m=r("../internals/global"),d=r("../internals/dom-iterables"),y=r("../internals/array-for-each"),w=r("../internals/create-non-enumerable-property");for(f in d){var b;if((b=(b=m[f])&&b.prototype)&&b.forEach!==y)try{w(b,"forEach",y)}catch{b.forEach=y}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],236:[function(b,G,O){var f,m=b("../internals/global"),d=b("../internals/dom-iterables"),y=b("../modules/es.array.iterator"),w=b("../internals/create-non-enumerable-property"),i=(b=b("../internals/well-known-symbol"))("iterator"),l=b("toStringTag"),h=y.values;for(f in d){var s=m[f],c=s&&s.prototype;if(c){if(c[i]!==h)try{w(c,i,h)}catch{c[i]=h}if(c[l]||w(c,l,f),d[f])for(var p in y)if(c[p]!==y[p])try{w(c,p,y[p])}catch{c[p]=y[p]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],237:[function($e,G,O){"use strict";function f(Fe){try{return decodeURIComponent(Fe)}catch{return Fe}}function m(Fe){return pe[Fe]}function d(Fe){return encodeURIComponent(Fe).replace(ie,m)}function y(Fe){this.entries.length=0,we(this.entries,Fe)}function w(Fe,Ge){if(Fe<Ge)throw TypeError("Not enough arguments")}function b(){a(this,b,N);var Fe,Ge,je,We,Ye,Ne,Ke,at,yt=0<arguments.length?arguments[0]:void 0,lt=[];if(T(this,{type:N,entries:lt,updateURL:function(){},updateSearchParams:y}),void 0!==yt)if(M(yt))if("function"==typeof(Fe=I(yt)))for(je=(Ge=Fe.call(yt)).next;!(We=je.call(Ge)).done;){if((Ne=(Ye=(We=U(k(We.value))).next).call(We)).done||(Ke=Ye.call(We)).done||!Ye.call(We).done)throw TypeError("Expected sequence with length 2");lt.push({key:Ne.value+"",value:Ke.value+""})}else for(at in yt)g(yt,at)&&lt.push({key:at,value:yt[at]+""});else we(lt,"string"==typeof yt?"?"===yt.charAt(0)?yt.slice(1):yt:yt+"")}$e("../modules/es.array.iterator");var i=$e("../internals/export"),V=$e("../internals/get-built-in"),l=$e("../internals/native-url"),h=$e("../internals/redefine"),s=$e("../internals/redefine-all"),c=$e("../internals/set-to-string-tag"),p=$e("../internals/create-iterator-constructor"),v=$e("../internals/internal-state"),a=$e("../internals/an-instance"),g=$e("../internals/has"),E=$e("../internals/function-bind-context"),$=$e("../internals/classof"),k=$e("../internals/an-object"),M=$e("../internals/is-object"),A=$e("../internals/object-create"),L=$e("../internals/create-property-descriptor"),U=$e("../internals/get-iterator"),I=$e("../internals/get-iterator-method"),D=($e=$e("../internals/well-known-symbol"),V("fetch")),R=V("Headers"),N=(V=$e("iterator"),"URLSearchParams"),Q=N+"Iterator",T=v.set,K=v.getterFor(N),se=v.getterFor(Q),fe=/\+/g,Ie=Array(4),Z=function(Fe){var Ge,je=Fe.replace(fe," "),We=4;try{return decodeURIComponent(je)}catch{for(;We;)je=je.replace((Ge=We--,Ie[Ge-1]||(Ie[Ge-1]=RegExp("((?:%[\\da-f]{2}){"+Ge+"})","gi"))),f);return je}},ie=/[!'()~]|%20/g,pe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},we=function(Fe,Ge){if(Ge)for(var je,We=Ge.split("&"),Ye=0;Ye<We.length;)(je=We[Ye++]).length&&(je=je.split("="),Fe.push({key:Z(je.shift()),value:Z(je.join("="))}))},Re=p(function(Fe,Ge){T(this,{type:Q,iterator:U(K(Fe).entries),kind:Ge})},"Iterator",function(){var Ge,Fe=(Ge=se(this)).kind,je=(Ge=Ge.iterator.next()).value;return Ge.done||(Ge.value="keys"===Fe?je.key:"values"===Fe?je.value:[je.key,je.value]),Ge});s($e=b.prototype,{append:function(Fe,Ge){w(arguments.length,2);var je=K(this);je.entries.push({key:Fe+"",value:Ge+""}),je.updateURL()},delete:function(Fe){w(arguments.length,1);for(var Ge=K(this),je=Ge.entries,We=Fe+"",Ye=0;Ye<je.length;)je[Ye].key===We?je.splice(Ye,1):Ye++;Ge.updateURL()},get:function(Fe){w(arguments.length,1);for(var Ge=K(this).entries,je=Fe+"",We=0;We<Ge.length;We++)if(Ge[We].key===je)return Ge[We].value;return null},getAll:function(Fe){w(arguments.length,1);for(var Ge=K(this).entries,je=Fe+"",We=[],Ye=0;Ye<Ge.length;Ye++)Ge[Ye].key===je&&We.push(Ge[Ye].value);return We},has:function(Fe){w(arguments.length,1);for(var Ge=K(this).entries,je=Fe+"",We=0;We<Ge.length;)if(Ge[We++].key===je)return!0;return!1},set:function(Fe,Ge){w(arguments.length,1);for(var je,We=K(this),Ye=We.entries,Ne=!1,Ke=Fe+"",at=Ge+"",yt=0;yt<Ye.length;yt++)(je=Ye[yt]).key===Ke&&(Ne?Ye.splice(yt--,1):(Ne=!0,je.value=at));Ne||Ye.push({key:Ke,value:at}),We.updateURL()},sort:function(){for(var Fe,Ge,je=K(this),We=je.entries,Ye=We.slice(),Ne=We.length=0;Ne<Ye.length;Ne++){for(Fe=Ye[Ne],Ge=0;Ge<Ne;Ge++)if(We[Ge].key>Fe.key){We.splice(Ge,0,Fe);break}Ge===Ne&&We.push(Fe)}je.updateURL()},forEach:function(Fe){for(var Ge,je=K(this).entries,We=E(Fe,1<arguments.length?arguments[1]:void 0,3),Ye=0;Ye<je.length;)We((Ge=je[Ye++]).value,Ge.key,this)},keys:function(){return new Re(this,"keys")},values:function(){return new Re(this,"values")},entries:function(){return new Re(this,"entries")}},{enumerable:!0}),h($e,V,$e.entries),h($e,"toString",function(){for(var Fe,Ge=K(this).entries,je=[],We=0;We<Ge.length;)Fe=Ge[We++],je.push(d(Fe.key)+"="+d(Fe.value));return je.join("&")},{enumerable:!0}),c(b,N),i({global:!0,forced:!l},{URLSearchParams:b}),l||"function"!=typeof D||"function"!=typeof R||i({global:!0,enumerable:!0,forced:!0},{fetch:function(Ye){var Ge,je,We;return Ye=[Ye],1<arguments.length&&(M(Ge=arguments[1])&&$(je=Ge.body)===N&&((We=Ge.headers?new R(Ge.headers):new R).has("content-type")||We.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Ge=A(Ge,{body:L(0,String(je)),headers:L(0,We)})),Ye.push(Ge)),D.apply(this,Ye)}}),G.exports={URLSearchParams:b,getState:K}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],238:[function(U,G,O){"use strict";function f(ne){var te,ge,ke,Xe;if("number"==typeof ne){for(te=[],ge=0;ge<4;ge++)te.unshift(ne%256),ne=Q(ne/256);return te.join(".")}if("object"!=typeof ne)return ne;for(te="",ke=Ke(ne),ge=0;ge<8;ge++)Xe&&0===ne[ge]||(Xe=Xe&&!1,ke===ge?(te+=ge?":":"::",Xe=!0):(te+=ne[ge].toString(16),ge<7&&(te+=":")));return"["+te+"]"}function m(ne){return!ne.host||ne.cannotBeABaseURL||"file"==ne.scheme}function d(ne,te,ge,ke){var Xe,tt,Ot,Gt=ge||Ut,Cn=0,Yt="",An=!1,Xn=!1,tr=!1;for(ge||(ne.scheme="",ne.username="",ne.password="",ne.host=null,ne.port=null,ne.path=[],ne.query=null,ne.fragment=null,ne.cannotBeABaseURL=!1,te=te.replace(We,"")),te=te.replace(Ye,""),Xe=$(te);Cn<=Xe.length;){switch(tt=Xe[Cn],Gt){case Ut:if(!tt||!Z.test(tt)){if(ge)return se;Gt=Pe;continue}Yt+=tt.toLowerCase(),Gt=wt;break;case wt:if(tt&&(ie.test(tt)||"+"==tt||"-"==tt||"."==tt))Yt+=tt.toLowerCase();else{if(":"!=tt){if(ge)return se;Yt="",Gt=Pe,Cn=0;continue}if(ge&&(Ct(ne)!=g(Wt,Yt)||"file"==Yt&&(rn(ne)||null!==ne.port)||"file"==ne.scheme&&!ne.host))return;if(ne.scheme=Yt,ge)return void(Ct(ne)&&Wt[ne.scheme]==ne.port&&(ne.port=null));Yt="","file"==ne.scheme?Gt=gn:Ct(ne)&&ke&&ke.scheme==ne.scheme?Gt=Ue:Ct(ne)?Gt=Dt:"/"==Xe[Cn+1]?(Gt=Ae,Cn++):(ne.cannotBeABaseURL=!0,ne.path.push(""),Gt=ht)}break;case Pe:if(!ke||ke.cannotBeABaseURL&&"#"!=tt)return se;if(ke.cannotBeABaseURL&&"#"==tt){ne.scheme=ke.scheme,ne.path=ke.path.slice(),ne.query=ke.query,ne.fragment="",ne.cannotBeABaseURL=!0,Gt=gt;break}Gt="file"==ke.scheme?gn:ze;continue;case Ue:if("/"!=tt||"/"!=Xe[Cn+1]){Gt=ze;continue}Gt=ut,Cn++;break;case Ae:if("/"==tt){Gt=xt;break}Gt=bt;continue;case ze:if(ne.scheme=ke.scheme,tt==b)ne.username=ke.username,ne.password=ke.password,ne.host=ke.host,ne.port=ke.port,ne.path=ke.path.slice(),ne.query=ke.query;else if("/"==tt||"\\"==tt&&Ct(ne))Gt=mt;else if("?"==tt)ne.username=ke.username,ne.password=ke.password,ne.host=ke.host,ne.port=ke.port,ne.path=ke.path.slice(),ne.query="",Gt=Nt;else{if("#"!=tt){ne.username=ke.username,ne.password=ke.password,ne.host=ke.host,ne.port=ke.port,ne.path=ke.path.slice(),ne.path.pop(),Gt=bt;continue}ne.username=ke.username,ne.password=ke.password,ne.host=ke.host,ne.port=ke.port,ne.path=ke.path.slice(),ne.query=ke.query,ne.fragment="",Gt=gt}break;case mt:if(!Ct(ne)||"/"!=tt&&"\\"!=tt){if("/"!=tt){ne.username=ke.username,ne.password=ke.password,ne.host=ke.host,ne.port=ke.port,Gt=bt;continue}Gt=xt}else Gt=ut;break;case Dt:if(Gt=ut,"/"!=tt||"/"!=Yt.charAt(Cn+1))continue;Cn++;break;case ut:if("/"==tt||"\\"==tt)break;Gt=xt;continue;case xt:if("@"==tt){An&&(Yt="%40"+Yt),An=!0;for(var ir=$(Yt),Cr=0;Cr<ir.length;Cr++){var gr=ir[Cr];":"!=gr||tr?(gr=St(gr,nt),tr?ne.password+=gr:ne.username+=gr):tr=!0}Yt=""}else if(tt==b||"/"==tt||"?"==tt||"#"==tt||"\\"==tt&&Ct(ne)){if(An&&""==Yt)return K;Cn-=$(Yt).length+1,Yt="",Gt=jt}else Yt+=tt;break;case jt:case At:if(ge&&"file"==ne.scheme){Gt=fn;continue}if(":"!=tt||Xn){if(tt==b||"/"==tt||"?"==tt||"#"==tt||"\\"==tt&&Ct(ne)){if(Ct(ne)&&""==Yt)return fe;if(ge&&""==Yt&&(rn(ne)||null!==ne.port))return;if(Ot=Ne(ne,Yt))return Ot;if(Yt="",Gt=Mn,ge)return;continue}"["==tt?Xn=!0:"]"==tt&&(Xn=!1),Yt+=tt}else{if(""==Yt)return fe;if(Ot=Ne(ne,Yt))return Ot;if(Yt="",Gt=Jt,ge==At)return}break;case Jt:if(!pe.test(tt)){if(tt==b||"/"==tt||"?"==tt||"#"==tt||"\\"==tt&&Ct(ne)||ge){if(""!=Yt){var Or=parseInt(Yt,10);if(65535<Or)return Ie;ne.port=Ct(ne)&&Or===Wt[ne.scheme]?null:Or,Yt=""}if(ge)return;Gt=Mn;continue}return Ie}Yt+=tt;break;case gn:if(ne.scheme="file","/"==tt||"\\"==tt)Gt=_n;else{if(!ke||"file"!=ke.scheme){Gt=bt;continue}if(tt==b)ne.host=ke.host,ne.path=ke.path.slice(),ne.query=ke.query;else if("?"==tt)ne.host=ke.host,ne.path=ke.path.slice(),ne.query="",Gt=Nt;else{if("#"!=tt){Ht(Xe.slice(Cn).join(""))||(ne.host=ke.host,ne.path=ke.path.slice(),dn(ne)),Gt=bt;continue}ne.host=ke.host,ne.path=ke.path.slice(),ne.query=ke.query,ne.fragment="",Gt=gt}}break;case _n:if("/"==tt||"\\"==tt){Gt=fn;break}ke&&"file"==ke.scheme&&!Ht(Xe.slice(Cn).join(""))&&(cn(ke.path[0],!0)?ne.path.push(ke.path[0]):ne.host=ke.host),Gt=bt;continue;case fn:if(tt==b||"/"==tt||"\\"==tt||"?"==tt||"#"==tt){if(!ge&&cn(Yt))Gt=bt;else{if(""==Yt){if(ne.host="",ge)return}else{if(Ot=Ne(ne,Yt))return Ot;if("localhost"==ne.host&&(ne.host=""),ge)return;Yt=""}Gt=Mn}continue}Yt+=tt;break;case Mn:if(Ct(ne)){if(Gt=bt,"/"!=tt&&"\\"!=tt)continue}else if(ge||"?"!=tt)if(ge||"#"!=tt){if(tt!=b&&(Gt=bt,"/"!=tt))continue}else ne.fragment="",Gt=gt;else ne.query="",Gt=Nt;break;case bt:if(tt==b||"/"==tt||"\\"==tt&&Ct(ne)||!ge&&("?"==tt||"#"==tt)){if(dt(Yt)?(dn(ne),"/"==tt||"\\"==tt&&Ct(ne)||ne.path.push("")):tn(Yt)?"/"==tt||"\\"==tt&&Ct(ne)||ne.path.push(""):("file"==ne.scheme&&!ne.path.length&&cn(Yt)&&(ne.host&&(ne.host=""),Yt=Yt.charAt(0)+":"),ne.path.push(Yt)),Yt="","file"==ne.scheme&&(tt==b||"?"==tt||"#"==tt))for(;1<ne.path.length&&""===ne.path[0];)ne.path.shift();"?"==tt?(ne.query="",Gt=Nt):"#"==tt&&(ne.fragment="",Gt=gt)}else Yt+=St(tt,lt);break;case ht:"?"==tt?(ne.query="",Gt=Nt):"#"==tt?(ne.fragment="",Gt=gt):tt!=b&&(ne.path[0]+=St(tt,at));break;case Nt:ge||"#"!=tt?tt!=b&&("'"==tt&&Ct(ne)?ne.query+="%27":ne.query+="#"==tt?"%23":St(tt,at)):(ne.fragment="",Gt=gt);break;case gt:tt!=b&&(ne.fragment+=St(tt,yt))}Cn++}}function y(tt){var te,ge,ke=a(this,y,"URL"),Xe=1<arguments.length?arguments[1]:void 0,Ot=(tt=String(tt),V(ke,{type:"URL"}));if(void 0!==Xe)if(Xe instanceof y)te=N(Xe);else if(ge=d(te={},String(Xe)))throw TypeError(ge);if(ge=d(Ot,tt,null,te))throw TypeError(ge);var Gt=Ot.searchParams=new D;(Xe=R(Gt)).updateSearchParams(Ot.query),Xe.updateURL=function(){Ot.query=String(Gt)||null},s||(ke.href=Xt.call(ke),ke.origin=sn.call(ke),ke.protocol=In.call(ke),ke.username=En.call(ke),ke.password=Bn.call(ke),ke.host=ee.call(ke),ke.hostname=_e.call(ke),ke.port=Se.call(ke),ke.pathname=B.call(ke),ke.search=Y.call(ke),ke.searchParams=W.call(ke),ke.hash=de.call(ke))}function w(ne,te){return{get:ne,set:te,configurable:!0,enumerable:!0}}U("../modules/es.string.iterator");var b,i,l,h=U("../internals/export"),s=U("../internals/descriptors"),c=U("../internals/native-url"),Mt=U("../internals/global"),p=U("../internals/object-define-properties"),v=U("../internals/redefine"),a=U("../internals/an-instance"),g=U("../internals/has"),E=U("../internals/object-assign"),$=U("../internals/array-from"),k=U("../internals/string-multibyte").codeAt,M=U("../internals/string-punycode-to-ascii"),A=U("../internals/set-to-string-tag"),L=U("../modules/web.url-search-params"),I=(U=U("../internals/internal-state"),Mt.URL),D=L.URLSearchParams,R=L.getState,V=U.set,N=U.getterFor("URL"),Q=Math.floor,T=Math.pow,K="Invalid authority",se="Invalid scheme",fe="Invalid host",Ie="Invalid port",Z=/[A-Za-z]/,ie=/[\d+-.A-Za-z]/,pe=/\d/,we=/^(0x|0X)/,Re=/^[0-7]+$/,$e=/^\d+$/,Fe=/^[\dA-Fa-f]+$/,Ge=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,je=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,We=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Ye=/[\u0009\u000A\u000D]/g,Ne=function(ne,te){var ge,ke,Xe;if("["==te.charAt(0))return"]"==te.charAt(te.length-1)&&(ge=function(tt){var An,Xn,tr,ir,Cr,gr,Or,Ot=[0,0,0,0,0,0,0,0],Gt=0,Cn=null,Yt=0,yr=function(){return tt.charAt(Yt)};if(":"==yr()){if(":"!=tt.charAt(1))return;Yt+=2,Cn=++Gt}for(;yr();){if(8==Gt)return;if(":"!=yr()){for(An=Xn=0;Xn<4&&Fe.test(yr());)An=16*An+parseInt(yr(),16),Yt++,Xn++;if("."==yr()){if(0==Xn||(Yt-=Xn,Gt>6))return;for(tr=0;yr();){if(ir=null,tr>0){if(!("."==yr()&&tr<4))return;Yt++}if(!pe.test(yr()))return;for(;pe.test(yr());){if(Cr=parseInt(yr(),10),null===ir)ir=Cr;else{if(0==ir)return;ir=10*ir+Cr}if(ir>255)return;Yt++}Ot[Gt]=256*Ot[Gt]+ir,(2==++tr||4==tr)&&Gt++}if(4!=tr)return;break}if(":"==yr()){if(Yt++,!yr())return}else if(yr())return;Ot[Gt++]=An}else{if(null!==Cn)return;Yt++,Cn=++Gt}}if(null!==Cn)for(gr=Gt-Cn,Gt=7;0!=Gt&&gr>0;)Or=Ot[Gt],Ot[Gt--]=Ot[Cn+gr-1],Ot[Cn+--gr]=Or;else if(8!=Gt)return;return Ot}(te.slice(1,-1)))?void(ne.host=ge):fe;if(Ct(ne))return te=M(te),Ge.test(te)||null===(ge=function(tt){var Gt,Cn,Yt,An,Xn,tr,ir,Ot=tt.split(".");if(Ot.length&&""==Ot[Ot.length-1]&&Ot.pop(),(Gt=Ot.length)>4)return tt;for(Cn=[],Yt=0;Yt<Gt;Yt++){if(""==(An=Ot[Yt]))return tt;if(Xn=10,An.length>1&&"0"==An.charAt(0)&&(Xn=we.test(An)?16:8,An=An.slice(8==Xn?1:2)),""===An)tr=0;else{if(!(10==Xn?$e:8==Xn?Re:Fe).test(An))return tt;tr=parseInt(An,Xn)}Cn.push(tr)}for(Yt=0;Yt<Gt;Yt++)if(tr=Cn[Yt],Yt==Gt-1){if(tr>=T(256,5-Gt))return null}else if(tr>255)return null;for(ir=Cn.pop(),Yt=0;Yt<Cn.length;Yt++)ir+=Cn[Yt]*T(256,3-Yt);return ir}(te))?fe:void(ne.host=ge);if(je.test(te))return fe;for(ge="",ke=$(te),Xe=0;Xe<ke.length;Xe++)ge+=St(ke[Xe],at);ne.host=ge},Ke=function(ne){for(var te=null,ge=1,ke=null,Xe=0,tt=0;tt<8;tt++)0!==ne[tt]?(ge<Xe&&(te=ke,ge=Xe),ke=null,Xe=0):(null===ke&&(ke=tt),++Xe);return ge<Xe&&(te=ke,ge=Xe),te},at={},yt=E({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),lt=E({},yt,{"#":1,"?":1,"{":1,"}":1}),nt=E({},lt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),St=function(ne,te){var ge=k(ne,0);return 32<ge&&ge<127&&!g(te,ne)?ne:encodeURIComponent(ne)},Wt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ct=function(ne){return g(Wt,ne.scheme)},rn=function(ne){return""!=ne.username||""!=ne.password},cn=function(ne,te){return 2==ne.length&&Z.test(ne.charAt(0))&&(":"==(ne=ne.charAt(1))||!te&&"|"==ne)},Ht=function(ne){return 1<ne.length&&cn(ne.slice(0,2))&&(2==ne.length||"/"===(ne=ne.charAt(2))||"\\"===ne||"?"===ne||"#"===ne)},dn=function(ne){var te=ne.path,ge=te.length;!ge||"file"==ne.scheme&&1==ge&&cn(te[0],!0)||te.pop()},tn=function(ne){return"."===ne||"%2e"===ne.toLowerCase()},dt=function(ne){return".."===(ne=ne.toLowerCase())||"%2e."===ne||".%2e"===ne||"%2e%2e"===ne},Ut={},wt={},Pe={},Ue={},Ae={},ze={},mt={},Dt={},ut={},xt={},jt={},At={},Jt={},gn={},_n={},fn={},Mn={},bt={},ht={},Nt={},gt={},Xt=(Mt=y.prototype,function(){var ne=N(this),te=ne.scheme,ge=ne.username,ke=ne.password,Xe=ne.host,tt=ne.port,Ot=ne.path,Gt=ne.query,Cn=ne.fragment,Yt=te+":";return null!==Xe?(Yt+="//",rn(ne)&&(Yt+=ge+(ke?":"+ke:"")+"@"),Yt+=f(Xe),null!==tt&&(Yt+=":"+tt)):"file"==te&&(Yt+="//"),Yt+=ne.cannotBeABaseURL?Ot[0]:Ot.length?"/"+Ot.join("/"):"",null!==Gt&&(Yt+="?"+Gt),null!==Cn&&(Yt+="#"+Cn),Yt}),sn=function(){var ne=N(this),te=ne.scheme,ge=ne.port;if("blob"==te)try{return new URL(te.path[0]).origin}catch{return"null"}return"file"!=te&&Ct(ne)?te+"://"+f(ne.host)+(null!==ge?":"+ge:""):"null"},In=function(){return N(this).scheme+":"},En=function(){return N(this).username},Bn=function(){return N(this).password},ee=function(){var ne=(te=N(this)).host,te=te.port;return null===ne?"":null===te?f(ne):f(ne)+":"+te},_e=function(){var ne=N(this).host;return null===ne?"":f(ne)},Se=function(){var ne=N(this).port;return null===ne?"":String(ne)},B=function(){var ne=N(this),te=ne.path;return ne.cannotBeABaseURL?te[0]:te.length?"/"+te.join("/"):""},Y=function(){var ne=N(this).query;return ne?"?"+ne:""},W=function(){return N(this).searchParams},de=function(){var ne=N(this).fragment;return ne?"#"+ne:""};s&&p(Mt,{href:w(Xt,function(ge){var te=N(this);if(ge=d(te,ge=String(ge)))throw TypeError(ge);R(te.searchParams).updateSearchParams(te.query)}),origin:w(sn),protocol:w(In,function(ne){d(N(this),String(ne)+":",Ut)}),username:w(En,function(ne){var te=N(this),ge=$(String(ne));if(!m(te)){te.username="";for(var ke=0;ke<ge.length;ke++)te.username+=St(ge[ke],nt)}}),password:w(Bn,function(ne){var te=N(this),ge=$(String(ne));if(!m(te)){te.password="";for(var ke=0;ke<ge.length;ke++)te.password+=St(ge[ke],nt)}}),host:w(ee,function(ne){var te=N(this);te.cannotBeABaseURL||d(te,String(ne),jt)}),hostname:w(_e,function(ne){var te=N(this);te.cannotBeABaseURL||d(te,String(ne),At)}),port:w(Se,function(ne){var te=N(this);m(te)||(""==(ne=String(ne))?te.port=null:d(te,ne,Jt))}),pathname:w(B,function(ne){var te=N(this);te.cannotBeABaseURL||(te.path=[],d(te,ne+"",Mn))}),search:w(Y,function(ne){var te=N(this);""==(ne=String(ne))?te.query=null:("?"==ne.charAt(0)&&(ne=ne.slice(1)),te.query="",d(te,ne,Nt)),R(te.searchParams).updateSearchParams(te.query)}),searchParams:w(W),hash:w(de,function(ne){var te=N(this);""==(ne=String(ne))?te.fragment=null:("#"==ne.charAt(0)&&(ne=ne.slice(1)),te.fragment="",d(te,ne,gt))})}),v(Mt,"toJSON",function(){return Xt.call(this)},{enumerable:!0}),v(Mt,"toString",function(){return Xt.call(this)},{enumerable:!0}),I&&(l=I.revokeObjectURL,(i=I.createObjectURL)&&v(y,"createObjectURL",function(ne){return i.apply(I,arguments)}),l&&v(y,"revokeObjectURL",function(ne){return l.apply(I,arguments)})),A(y,"URL"),h({global:!0,forced:!c,sham:!s},{URL:y})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":190,"../modules/web.url-search-params":237}],239:[function(r,G,O){"use strict";G.exports=r("./").polyfill()},{"./":240}],240:[function(r,G,O){(function(f,m){var y;y=function(){"use strict";function w(Ne){return"function"==typeof Ne}var b=Array.isArray||function(Ne){return"[object Array]"===Object.prototype.toString.call(Ne)},i=0,l=void 0,h=void 0,s=function(Ne,Ke){E[i]=Ne,E[i+1]=Ke,2===(i+=2)&&(h?h($):D())},c=typeof window<"u"?window:void 0,p=(p=c||{}).MutationObserver||p.WebKitMutationObserver,v=typeof self>"u"&&void 0!==f&&"[object process]"==={}.toString.call(f),a=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function g(){var Ne=setTimeout;return function(){return Ne($,1)}}var E=new Array(1e3);function $(){for(var Ne=0;Ne<i;Ne+=2)(0,E[Ne])(E[Ne+1]),E[Ne]=void 0,E[Ne+1]=void 0;i=0}var M,A,L,D=void 0;function U(Ne,Ke){var at,yt=this,lt=new this.constructor(V),nt=(void 0===lt[R]&&Fe(lt),yt._state);return nt?(at=arguments[nt-1],s(function(){return Re(nt,lt,at,yt._result)})):pe(yt,lt,Ne,Ke),lt}function I(Ne){var Ke;return Ne&&"object"==typeof Ne&&Ne.constructor===this?Ne:(fe(Ke=new this(V),Ne),Ke)}D=v?function(){return f.nextTick($)}:p?(A=0,v=new p($),L=document.createTextNode(""),v.observe(L,{characterData:!0}),function(){L.data=A=++A%2}):a?((M=new MessageChannel).port1.onmessage=$,function(){return M.port2.postMessage(0)}):(void 0===c&&"function"==typeof r?function k(){try{var Ne=Function("return this")().require("vertx");return void 0!==(l=Ne.runOnLoop||Ne.runOnContext)?function(){l($)}:g()}catch{return g()}}:g)();var R=Math.random().toString(36).substring(2);function V(){}var N=void 0,Q=1,T=2;function K(Ne,Ke,at){s(function(yt){var lt=!1,nt=function(St,Wt,Ct,rn){try{St.call(Wt,function(St){lt||(lt=!0,(Ke!==St?fe:Z)(yt,St))},function(St){lt||(lt=!0,ie(yt,St))})}catch(cn){return cn}}(at,Ke);!lt&&nt&&(lt=!0,ie(yt,nt))},Ne)}function se(Ne,Ke,at){var yt,lt;Ke.constructor===Ne.constructor&&at===U&&Ke.constructor.resolve===I?(yt=Ne,(lt=Ke)._state===Q?Z(yt,lt._result):lt._state===T?ie(yt,lt._result):pe(lt,void 0,function(nt){return fe(yt,nt)},function(nt){return ie(yt,nt)})):void 0!==at&&w(at)?K(Ne,Ke,at):Z(Ne,Ke)}function fe(Ne,Ke){if(Ne===Ke)ie(Ne,new TypeError("You cannot resolve a promise with itself"));else if(at=typeof Ke,null===Ke||"object"!=at&&"function"!=at)Z(Ne,Ke);else{at=void 0;try{at=Ke.then}catch(yt){return void ie(Ne,yt)}se(Ne,Ke,at)}var at}function Ie(Ne){Ne._onerror&&Ne._onerror(Ne._result),we(Ne)}function Z(Ne,Ke){Ne._state===N&&(Ne._result=Ke,Ne._state=Q,0!==Ne._subscribers.length&&s(we,Ne))}function ie(Ne,Ke){Ne._state===N&&(Ne._state=T,Ne._result=Ke,s(Ie,Ne))}function pe(Ne,Ke,at,yt){var lt=Ne._subscribers,nt=lt.length;Ne._onerror=null,lt[nt]=Ke,lt[nt+Q]=at,lt[nt+T]=yt,0===nt&&Ne._state&&s(we,Ne)}function we(Ne){var Ke=Ne._subscribers,at=Ne._state;if(0!==Ke.length){for(var yt,lt=void 0,nt=Ne._result,St=0;St<Ke.length;St+=3)lt=Ke[St+at],(yt=Ke[St])?Re(at,yt,lt,nt):lt(nt);Ne._subscribers.length=0}}function Re(Ne,Ke,at,yt){var lt=w(at),nt=void 0,St=void 0,Wt=!0;if(lt){try{nt=at(yt)}catch(Ct){Wt=!1,St=Ct}if(Ke===nt)return void ie(Ke,new TypeError("A promises callback cannot return that same promise."))}else nt=yt;Ke._state===N&&(lt&&Wt?fe(Ke,nt):!1===Wt?ie(Ke,St):Ne===Q?Z(Ke,nt):Ne===T&&ie(Ke,nt))}var $e=0;function Fe(Ne){Ne[R]=$e++,Ne._state=void 0,Ne._result=void 0,Ne._subscribers=[]}je.prototype._enumerate=function(Ne){for(var Ke=0;this._state===N&&Ke<Ne.length;Ke++)this._eachEntry(Ne[Ke],Ke)},je.prototype._eachEntry=function(Ne,Ke){var at=this._instanceConstructor,yt=at.resolve;if(yt===I){var lt,nt=void 0,St=void 0,Wt=!1;try{nt=Ne.then}catch(Ct){Wt=!0,St=Ct}nt===U&&Ne._state!==N?this._settledAt(Ne._state,Ke,Ne._result):"function"!=typeof nt?(this._remaining--,this._result[Ke]=Ne):at===We?(lt=new at(V),Wt?ie(lt,St):se(lt,Ne,nt),this._willSettleAt(lt,Ke)):this._willSettleAt(new at(function(Ct){return Ct(Ne)}),Ke)}else this._willSettleAt(yt(Ne),Ke)},je.prototype._settledAt=function(Ne,Ke,at){var yt=this.promise;yt._state===N&&(this._remaining--,Ne===T?ie(yt,at):this._result[Ke]=at),0===this._remaining&&Z(yt,this._result)},je.prototype._willSettleAt=function(Ne,Ke){var at=this;pe(Ne,void 0,function(yt){return at._settledAt(Q,Ke,yt)},function(yt){return at._settledAt(T,Ke,yt)})};var Ge=je;function je(Ne,Ke){this._instanceConstructor=Ne,this.promise=new Ne(V),this.promise[R]||Fe(this.promise),b(Ke)?(this.length=Ke.length,this._remaining=Ke.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Ke),0!==this._remaining)||Z(this.promise,this._result)):ie(this.promise,new Error("Array Methods must be provided an Array"))}Ye.prototype.catch=function(Ne){return this.then(null,Ne)},Ye.prototype.finally=function(Ne){var Ke=this.constructor;return w(Ne)?this.then(function(at){return Ke.resolve(Ne()).then(function(){return at})},function(at){return Ke.resolve(Ne()).then(function(){throw at})}):this.then(Ne,Ne)};var We=Ye;function Ye(Ne){if(this[R]=$e++,this._result=this._state=void 0,this._subscribers=[],V!==Ne){if("function"!=typeof Ne)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Ye))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Ke=this;try{Ne(function(at){fe(Ke,at)},function(at){ie(Ke,at)})}catch(at){ie(Ke,at)}}}return We.prototype.then=U,We.all=function(Ne){return new Ge(this,Ne).promise},We.race=function(Ne){var Ke=this;return b(Ne)?new Ke(function(at,yt){for(var lt=Ne.length,nt=0;nt<lt;nt++)Ke.resolve(Ne[nt]).then(at,yt)}):new Ke(function(at,yt){return yt(new TypeError("You must pass an array to race."))})},We.resolve=I,We.reject=function(Ne){var Ke=new this(V);return ie(Ke,Ne),Ke},We._setScheduler=function(Ne){h=Ne},We._setAsap=function(Ne){s=Ne},We._asap=s,We.polyfill=function(){var Ne=void 0;if(void 0!==m)Ne=m;else if(typeof self<"u")Ne=self;else try{Ne=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ke=Ne.Promise;if(Ke){var at=null;try{at=Object.prototype.toString.call(Ke.resolve())}catch{}if("[object Promise]"===at&&!Ke.cast)return}Ne.Promise=We},We.Promise=We},"object"==typeof O&&void 0!==G?G.exports=y():this.ES6Promise=y()}).call(this,r("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:249}],241:[function(r,G,O){var m;m=function(d,y){"use strict";function i(h){try{delete window[h]}catch{window[h]=void 0}}function l(h){(h=document.getElementById(h))&&document.getElementsByTagName("head")[0].removeChild(h)}y.exports=function(h){var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=h,p=s.timeout||5e3,v=s.jsonpCallback||"callback",a=void 0;return new Promise(function(g,E){var $=s.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),k=v+"_"+$,M=(window[$]=function(A){g({ok:!0,json:function(){return Promise.resolve(A)}}),a&&clearTimeout(a),l(k),i($)},c+=-1===c.indexOf("?")?"?":"&",document.createElement("script"));M.setAttribute("src",""+c+v+"="+$),s.charset&&M.setAttribute("charset",s.charset),M.id=k,document.getElementsByTagName("head")[0].appendChild(M),a=setTimeout(function(){E(new Error("JSONP request to "+h+" timed out")),i($),l(k),window[$]=function(){i($)}},p),M.onerror=function(){E(new Error("JSONP request to "+h+" failed")),i($),l(k),a&&clearTimeout(a)}})}},void 0!==O&&void 0!==G?m(0,G):(m(m={exports:{}},m),this.fetchJsonp=m.exports)},{}],242:[function(r,G,O){var f=function(m){"use strict";var d,y,w,b,i,l,s,c,p,v;if(!(void 0===m||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return d=function(){return m.URL||m.webkitURL||m},y=(v=m.document).createElementNS("http://www.w3.org/1999/xhtml","a"),w="download"in y,b=/constructor/i.test(m.HTMLElement)||m.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(a){(m.setImmediate||m.setTimeout)(function(){throw a},0)},4e4,s=function(a){setTimeout(function(){"string"==typeof a?d().revokeObjectURL(a):a.remove()},4e4)},c=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},v=(p=function(a,g,A){A||(a=c(a));var $,k,M=this,L=(A="application/octet-stream"===a.type,function(){for(var U=M,I="writestart progress write writeend".split(" "),R=(I=[].concat(I)).length;R--;){var V=U["on"+I[R]];if("function"==typeof V)try{V.call(U,U)}catch(N){l(N)}}});M.readyState=M.INIT,w?($=d().createObjectURL(a),setTimeout(function(){var U,I;y.href=$,y.download=g,U=y,I=new MouseEvent("click"),U.dispatchEvent(I),L(),s($),M.readyState=M.DONE})):(i||A&&b)&&m.FileReader?((k=new FileReader).onloadend=function(){var U=i?k.result:k.result.replace(/^data:[^;]*;/,"data:attachment/file;");m.open(U,"_blank")||(m.location.href=U),U=void 0,M.readyState=M.DONE,L()},k.readAsDataURL(a),M.readyState=M.INIT):($=$||d().createObjectURL(a),!A&&m.open($,"_blank")||(m.location.href=$),M.readyState=M.DONE,L(),s($))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(a,g,E){return g=g||a.name||"download",E||(a=c(a)),navigator.msSaveOrOpenBlob(a,g)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(a,g,E){return new p(a,g||a.name||"download",E)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==G&&G.exports&&(G.exports.saveAs=f)},{}],243:[function(r,G,O){var f,m=Object.defineProperty,d=(m(O,"__esModule",{value:!0}),O),y={GIFEncoder:()=>L,applyPalette:()=>function(N,Q,T="rgb565"){if(!N||!N.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(N instanceof Uint8Array||N instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<Q.length)throw new Error("applyPalette() only works with 256 colors or less");const K=new Uint32Array(N.buffer),se=K.length,fe="rgb444"===T?4096:65536,Ie=new Uint8Array(se),Z=new Array(fe);if("rgba4444"===T)for(let Ye=0;Ye<se;Ye++){var Re,ie=(Re=K[Ye])>>24&255,pe=Re>>16&255,we=Re>>8&255,$e=($e=s(Re&=255,we,pe,ie))in Z?Z[$e]:Z[$e]=function(Ne,Ke,at,yt,lt){let nt=0,St=1e100;for(let cn=0;cn<lt.length;cn++){var Ct=lt[cn],rn=k(Ct[3]-yt);rn>St||(rn+=k(Ct[0]-Ne))>St||(rn+=k(Ct[1]-Ke))>St||(rn+=k(Ct[2]-at))>St||(St=rn,nt=cn)}return nt}(Re,we,pe,ie,Q);Ie[Ye]=$e}else{const Ye="rgb444"===T?c:h;for(let Ne=0;Ne<se;Ne++){var je,Fe=(je=K[Ne])>>16&255,Ge=je>>8&255,We=(We=Ye(je&=255,Ge,Fe))in Z?Z[We]:Z[We]=function(Ke,at,yt,lt){let nt=0,St=1e100;for(let cn=0;cn<lt.length;cn++){var Ct=lt[cn],rn=k(Ct[0]-Ke);rn>St||(rn+=k(Ct[1]-at))>St||(rn+=k(Ct[2]-yt))>St||(St=rn,nt=cn)}return nt}(je,Ge,Fe,Q);Ie[Ne]=We}}return Ie},default:()=>V,nearestColor:()=>function(N,Q,T=E){return N[M(N,Q,T)]},nearestColorIndex:()=>M,nearestColorIndexWithDistance:()=>A,prequantize:()=>function(N,{roundRGB:Q=5,roundAlpha:T=10,oneBitAlpha:K=null}={}){const se=new Uint32Array(N.buffer);for(let pe=0;pe<se.length;pe++){let we=(ie=se[pe])>>24&255;var Ie=ie>>16&255,Z=ie>>8&255,ie=255&ie;we=$(we,T),K&&(we=we<=("number"==typeof K?K:127)?0:255),ie=$(ie,Q),Z=$(Z,Q),Ie=$(Ie,Q),se[pe]=we<<24|Ie<<16|Z<<8|ie<<0}},quantize:()=>function(N,Q,T={}){var{format:K="rgb565",clearAlpha:se=!0,clearAlphaColor:fe=0,clearAlphaThreshold:Ie=0,oneBitAlpha:Z=!1}=T;if(!N||!N.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(N instanceof Uint8Array||N instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");N=new Uint32Array(N.buffer);let ie=!1!==T.useSqrt;const pe="rgba4444"===K,we=function(Ht,dn){const dt=new Array("rgb444"===dn?4096:65536),Ut=Ht.length;if("rgba4444"===dn)for(let _n=0;_n<Ut;++_n){var Ae,wt=(Ae=Ht[_n])>>24&255,Pe=Ae>>16&255,Ue=Ae>>8&255,ze=s(Ae&=255,Ue,Pe,wt);let fn=ze in dt?dt[ze]:dt[ze]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};fn.rc+=Ae,fn.gc+=Ue,fn.bc+=Pe,fn.ac+=wt,fn.cnt++}else if("rgb444"===dn)for(let _n=0;_n<Ut;++_n){var ut,mt=(ut=Ht[_n])>>16&255,Dt=ut>>8&255,xt=c(ut&=255,Dt,mt);let fn=xt in dt?dt[xt]:dt[xt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};fn.rc+=ut,fn.gc+=Dt,fn.bc+=mt,fn.cnt++}else for(let _n=0;_n<Ut;++_n){var Jt,jt=(Jt=Ht[_n])>>16&255,At=Jt>>8&255,gn=h(Jt&=255,At,jt);let fn=gn in dt?dt[gn]:dt[gn]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};fn.rc+=Jt,fn.gc+=At,fn.bc+=jt,fn.cnt++}return dt}(N,K),Re=we.length,$e=Re-1,Fe=new Uint32Array(Re+1);for(var Ge=0,je=0;je<Re;++je){const Ht=we[je];null!=Ht&&(Ct=1/Ht.cnt,pe&&(Ht.ac*=Ct),Ht.rc*=Ct,Ht.gc*=Ct,Ht.bc*=Ct,we[Ge++]=Ht)}var We,Ye,Ne;for(v(Q)/Ge<.022&&(ie=!1),je=0;je<Ge-1;++je)we[je].fw=je+1,we[je+1].bk=je,ie&&(we[je].cnt=Math.sqrt(we[je].cnt));for(ie&&(we[je].cnt=Math.sqrt(we[je].cnt)),je=0;je<Ge;++je){a(we,je,!1);var Ke=we[je].err;for(Ye=++Fe[0];1<Ye&&!(we[We=Fe[Ne=Ye>>1]].err<=Ke);Ye=Ne)Fe[Ye]=We;Fe[Ye]=je}var at,yt=Ge-Q;for(je=0;je<yt;){for(;;){var lt=Fe[1];if((at=we[lt]).tm>=at.mtm&&we[at.nn].mtm<=at.tm)break;for(at.mtm==$e?lt=Fe[1]=Fe[Fe[0]--]:(a(we,lt,!1),at.tm=je),Ke=we[lt].err,Ye=1;(Ne=Ye+Ye)<=Fe[0]&&(Ne<Fe[0]&&we[Fe[Ne]].err>we[Fe[Ne+1]].err&&Ne++,!(Ke<=we[We=Fe[Ne]].err));Ye=Ne)Fe[Ye]=We;Fe[Ye]=lt}var nt=we[at.nn],St=at.cnt,Wt=nt.cnt,Ct=1/(St+Wt);pe&&(at.ac=Ct*(St*at.ac+Wt*nt.ac)),at.rc=Ct*(St*at.rc+Wt*nt.rc),at.gc=Ct*(St*at.gc+Wt*nt.gc),at.bc=Ct*(St*at.bc+Wt*nt.bc),at.cnt+=nt.cnt,at.mtm=++je,we[nt.bk].fw=nt.fw,we[nt.fw].bk=nt.bk,nt.mtm=$e}let rn=[];for(je=0;;0){let Ht=p(Math.round(we[je].rc),0,255),dn=p(Math.round(we[je].gc),0,255),tn=p(Math.round(we[je].bc),0,255),dt=255;pe&&(dt=p(Math.round(we[je].ac),0,255),Z&&(dt=dt<=(cn="number"==typeof Z?Z:127)?0:255),se&&dt<=Ie&&(Ht=dn=tn=fe,dt=0));var cn=pe?[Ht,dn,tn,dt]:[Ht,dn,tn];if(function(Ut,wt){for(let Ae=0;Ae<Ut.length;Ae++){var Pe=(Ue=Ut[Ae])[0]===wt[0]&&Ue[1]===wt[1]&&Ue[2]===wt[2],Ue=!(4<=Ue.length&&4<=wt.length)||Ue[3]===wt[3];if(Pe&&Ue)return!0}return!1}(rn,cn)||rn.push(cn),0==(je=we[je].fw))break}return rn},snapColorsToPalette:()=>function(N,Q,T=5){if(N.length&&Q.length){var K=N.map(ie=>ie.slice(0,3)),se=T*T,fe=N[0].length;for(let ie=0;ie<Q.length;ie++){let pe=Q[ie];pe=pe.length<fe?[pe[0],pe[1],pe[2],255]:pe.length>fe?pe.slice(0,3):pe.slice();var Z,Ie=(Z=A(K,pe.slice(0,3),E))[0];0<(Z=Z[1])&&Z<=se&&(N[Ie]=pe)}}}};for(f in y)m(d,f,{get:y[f],enumerable:!0});var w={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function b(N=256){let Q=0,T=new Uint8Array(N);return{get buffer(){return T.buffer},reset(){Q=0},bytesView:()=>T.subarray(0,Q),bytes:()=>T.slice(0,Q),writeByte(se){K(Q+1),T[Q]=se,Q++},writeBytes(se,fe=0,Ie=se.length){K(Q+Ie);for(let Z=0;Z<Ie;Z++)T[Q++]=se[Z+fe]},writeBytesView(se,fe=0,Ie=se.byteLength){K(Q+Ie),T.set(se.subarray(fe,fe+Ie),Q),Q+=Ie}};function K(se){var fe=T.length;if(!(se<=fe)){se=Math.max(se,fe*(fe<1048576?2:1.125)>>>0),0!=fe&&(se=Math.max(se,256));const Ie=T;T=new Uint8Array(se),0<Q&&T.set(Ie.subarray(0,Q),0)}}}var i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function(N,Q,T,pe,se=b(512),fe=new Uint8Array(256),Ie=new Int32Array(5003),Z=new Int32Array(5003)){var ie=Ie.length;pe=Math.max(2,pe),fe.fill(0),Z.fill(0),Ie.fill(-1);let we=0,Re=0;var $e=pe+1;const Fe=$e;let Ge=!1,je=Fe,We=(1<<je)-1;var Ye=1<<$e-1;const Ne=1+Ye;let Ke=2+Ye,at=0,yt=T[0],lt=0;for(let cn=ie;cn<65536;cn*=2)++lt;lt=8-lt,se.writeByte(pe),rn(Ye);var nt=T.length;for(let cn=1;cn<nt;cn++)e:{var St=T[cn],Wt=(St<<12)+yt;let Ht=St<<lt^yt;if(Ie[Ht]===Wt)yt=Z[Ht];else{for(var Ct=0===Ht?1:ie-Ht;0<=Ie[Ht];)if((Ht-=Ct)<0&&(Ht+=ie),Ie[Ht]===Wt){yt=Z[Ht];break e}rn(yt),yt=St,Ke<4096?(Z[Ht]=Ke++,Ie[Ht]=Wt):(Ie.fill(-1),Ke=2+Ye,Ge=!0,rn(Ye))}}return rn(yt),rn(Ne),se.writeByte(0),se.bytesView();function rn(cn){for(we&=i[Re],0<Re?we|=cn<<Re:we=cn,Re+=je;8<=Re;)fe[at++]=255&we,254<=at&&(se.writeByte(at),se.writeBytesView(fe,0,at),at=0),we>>=8,Re-=8;if((Ke>We||Ge)&&(Ge?(je=Fe,We=(1<<je)-1,Ge=!1):(++je,We=12===je?1<<je:(1<<je)-1)),cn==Ne){for(;0<Re;)fe[at++]=255&we,254<=at&&(se.writeByte(at),se.writeBytesView(fe,0,at),at=0),we>>=8,Re-=8;0<at&&(se.writeByte(at),se.writeBytesView(fe,0,at),at=0)}}};function h(N,Q,T){return N<<8&63488|Q<<2&992|T>>3}function s(N,Q,T,K){return N>>4|240&Q|(240&T)<<4|(240&K)<<8}function c(N,Q,T){return N>>4<<8|240&Q|T>>4}function p(N,Q,T){return N<Q?Q:T<N?T:N}function v(N){return N*N}function a(N,Q,T){var K=0,se=1e100;const fe=N[Q];for(var Ie=fe.cnt,Z=fe.ac,ie=fe.rc,pe=fe.gc,we=fe.bc,Re=fe.fw;0!=Re;Re=N[Re].fw){var $e,Ge,Fe=N[Re];se<=(Ge=Ie*(Ge=Fe.cnt)/(Ie+Ge))||($e=0,T&&se<=($e+=Ge*v(Fe.ac-Z))||se<=($e+=Ge*v(Fe.rc-ie))||se<=($e+=Ge*v(Fe.gc-pe))||se<=($e+=Ge*v(Fe.bc-we))||(se=$e,K=Re))}fe.err=se,fe.nn=K}function E(N,Q){for(var T=0,K=0;K<N.length;K++){var se=N[K]-Q[K];T+=se*se}return T}function $(N,Q){return 1<Q?Math.round(N/Q)*Q:N}function k(N){return N*N}function M(N,Q,T=E){let K=1/0,se=-1;for(let Ie=0;Ie<N.length;Ie++){var fe=T(Q,N[Ie]);fe<K&&(K=fe,se=Ie)}return se}function A(N,Q,T=E){let K=1/0,se=-1;for(let Ie=0;Ie<N.length;Ie++){var fe=T(Q,N[Ie]);fe<K&&(K=fe,se=Ie)}return[se,K]}function L(N={}){const{initialCapacity:Q=4096,auto:T=!0}=N,K=b(Q),se=new Uint8Array(256),fe=new Int32Array(5003),Ie=new Int32Array(5003);let Z=!1;return{reset(){K.reset(),Z=!1},finish(){K.writeByte(w.trailer)},bytes:()=>K.bytes(),bytesView:()=>K.bytesView(),get buffer(){return K.buffer},get stream(){return K},writeHeader:ie,writeFrame(pe,we,Re,yt={}){var{transparent:Fe=!1,transparentIndex:Ge=0,delay:Ct=0,palette:je=null,repeat:nt=0,colorDepth:We=8,dispose:Ye=-1}=yt;let Ne=!1;if(T?Z||(Ne=!0,ie(),Z=!0):Ne=!!yt.first,we=Math.max(0,Math.floor(we)),Re=Math.max(0,Math.floor(Re)),Ne){if(!je)throw new Error("First frame must include a { palette } option");var[yt,St,at,Wt,lt=8]=[K,we,Re,je,We];lt=128|lt-1<<4|(Wt=R(Wt.length)-1),I(yt,St),I(yt,at),yt.writeBytes([lt,0,0]),U(K,je),0<=nt&&(St=nt,(Wt=K).writeByte(33),Wt.writeByte(255),Wt.writeByte(11),D(Wt,"NETSCAPE2.0"),Wt.writeByte(3),Wt.writeByte(1),I(Wt,St),Wt.writeByte(0))}var Ke,at,lt=Ye,nt=at=Math.round(Ct/10),St=Fe,Wt=Ge,Ct=((yt=K).writeByte(33),yt.writeByte(249),yt.writeByte(4),Wt<0&&(Wt=0,St=!1),St=St?(Ke=1,2):Ke=0,0<=lt&&(St=7&lt),yt.writeByte(0|(St<<=2)|Ke),I(yt,nt),yt.writeByte(Wt||0),yt.writeByte(0),!!je&&!Ne);Fe=we,Ge=Re,Ke=Ct?je:null,(Ye=K).writeByte(44),I(Ye,0),I(Ye,0),I(Ye,Fe),I(Ye,Ge),Ke?(Fe=R(Ke.length)-1,Ye.writeByte(128|Fe)):Ye.writeByte(0),Ct&&U(K,je),[nt,yt,Ge,Fe,Ye=8,Ct,je,pe]=[K,pe,we,Re,We,se,fe,Ie],l(Ge,Fe,yt,Ye,nt,Ct,je,pe)}};function ie(){D(K,"GIF89a")}}function U(N,Q){var T=1<<R(Q.length);for(let K=0;K<T;K++){let se=[0,0,0];K<Q.length&&(se=Q[K]),N.writeByte(se[0]),N.writeByte(se[1]),N.writeByte(se[2])}}function I(N,Q){N.writeByte(255&Q),N.writeByte(Q>>8&255)}function D(N,Q){for(var T=0;T<Q.length;T++)N.writeByte(Q.charCodeAt(T))}function R(N){return Math.max(Math.ceil(Math.log2(N)),1)}var V=L},{}],244:[function(r,G,O){O.read=function(f,m,d,y,a){var b,i,l=8*a-y-1,h=(1<<l)-1,s=h>>1,c=-7,p=d?a-1:0,v=d?-1:1;for(a=f[m+p],p+=v,b=a&(1<<-c)-1,a>>=-c,c+=l;0<c;b=256*b+f[m+p],p+=v,c-=8);for(i=b&(1<<-c)-1,b>>=-c,c+=y;0<c;i=256*i+f[m+p],p+=v,c-=8);if(0===b)b=1-s;else{if(b===h)return i?NaN:1/0*(a?-1:1);i+=Math.pow(2,y),b-=s}return(a?-1:1)*i*Math.pow(2,b-y)},O.write=function(f,m,d,y,w,g){var i,l,h=8*g-w-1,s=(1<<h)-1,c=s>>1,p=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,v=y?0:g-1,a=y?1:-1;for(g=m<0||0===m&&1/m<0?1:0,m=Math.abs(m),isNaN(m)||m===1/0?(l=isNaN(m)?1:0,i=s):(i=Math.floor(Math.log(m)/Math.LN2),m*(y=Math.pow(2,-i))<1&&(i--,y*=2),2<=(m+=1<=i+c?p/y:p*Math.pow(2,1-c))*y&&(i++,y/=2),s<=i+c?(l=0,i=s):1<=i+c?(l=(m*y-1)*Math.pow(2,w),i+=c):(l=m*Math.pow(2,c-1)*Math.pow(2,w),i=0));8<=w;f[d+v]=255&l,v+=a,l/=256,w-=8);for(i=i<<w|l,h+=w;0<h;f[d+v]=255&i,v+=a,i/=256,h-=8);f[d+v-a]|=128*g}},{}],245:[function(r,G,O){"use strict";var f;function m(Pe,Ue){return Pe.b===Ue.b&&Pe.a===Ue.a}function d(Pe,Ue){return Pe.b<Ue.b||Pe.b===Ue.b&&Pe.a<=Ue.a}function y(Pe,Ue,Ae){var ze=Ue.b-Pe.b,mt=Ae.b-Ue.b;return 0<ze+mt?ze<mt?Ue.a-Pe.a+ze/(ze+mt)*(Pe.a-Ae.a):Ue.a-Ae.a+mt/(ze+mt)*(Ae.a-Pe.a):0}function w(Pe,Ue,Ae){var ze=Ue.b-Pe.b,mt=Ae.b-Ue.b;return 0<ze+mt?(Ue.a-Ae.a)*ze+(Ue.a-Pe.a)*mt:0}function b(Pe,Ue){return Pe.a<Ue.a||Pe.a===Ue.a&&Pe.b<=Ue.b}function i(Pe,Ue,Ae){var ze=Ue.a-Pe.a,mt=Ae.a-Ue.a;return 0<ze+mt?ze<mt?Ue.b-Pe.b+ze/(ze+mt)*(Pe.b-Ae.b):Ue.b-Ae.b+mt/(ze+mt)*(Ae.b-Pe.b):0}function l(Pe,Ue,Ae){var ze=Ue.a-Pe.a,mt=Ae.a-Ue.a;return 0<ze+mt?(Ue.b-Ae.b)*ze+(Ue.b-Pe.b)*mt:0}function h(Pe,Ue,Ae,ze){return(Pe=Pe<0?0:Pe)<=(Ae=Ae<0?0:Ae)?0===Ae?(Ue+ze)/2:Ue+Pe/(Pe+Ae)*(ze-Ue):ze+Ae/(Pe+Ae)*(Ue-ze)}function s(Pe){var Ue=g(Pe.b);return $(Ue,Pe.c),$(Ue.b,Pe.c),k(Ue,Pe.a),Ue}function c(Pe,Ue){var Ae=!1,ze=!1;Pe!==Ue&&(Ue.a!==Pe.a&&(ze=!0,A(Ue.a,Pe.a)),Ue.d!==Pe.d&&(Ae=!0,L(Ue.d,Pe.d)),E(Ue,Pe),ze||($(Ue,Pe.a),Pe.a.c=Pe),Ae||(k(Ue,Pe.d),Pe.d.a=Pe))}function p(Pe){var Ue=Pe.b,Ae=!1;Pe.d!==Pe.b.d&&(Ae=!0,L(Pe.d,Pe.b.d)),Pe.c===Pe?A(Pe.a,null):(Pe.b.d.a=Pe.b.e,Pe.a.c=Pe.c,E(Pe,Pe.b.e),Ae||k(Pe,Pe.d)),Ue.c===Ue?(A(Ue.a,null),L(Ue.d,null)):(Pe.d.a=Ue.b.e,Ue.a.c=Ue.c,E(Ue,Ue.b.e)),M(Pe)}function v(Pe){var Ue=g(Pe),Ae=Ue.b;return E(Ue,Pe.e),Ue.a=Pe.b.a,$(Ae,Ue.a),Ue.d=Ae.d=Pe.d,Ue=Ue.b,E(Pe.b,Pe.b.b.e),E(Pe.b,Ue),Pe.b.a=Ue.a,Ue.b.a.c=Ue.b,Ue.b.d=Pe.b.d,Ue.f=Pe.f,Ue.b.f=Pe.b.f,Ue}function a(Pe,Ue){var Ae=!1,ze=g(Pe),mt=ze.b;return Ue.d!==Pe.d&&(Ae=!0,L(Ue.d,Pe.d)),E(ze,Pe.e),E(mt,Ue),ze.a=Pe.b.a,mt.a=Ue.a,ze.d=mt.d=Pe.d,Pe.d.a=mt,Ae||k(ze,Pe.d),ze}function g(Pe){var Ue=new at,Ae=new at;return(((Ae.h=Pe.b.h).b.h=Ue).h=Pe).b.h=Ae,Ue.b=Ae,((Ue.c=Ue).e=Ae).b=Ue,(Ae.c=Ae).e=Ue}function E(Pe,Ue){var Ae=Pe.c,ze=Ue.c;Ae.b.e=Ue,(ze.b.e=Pe).c=ze,Ue.c=Ae}function $(Pe,Ue){var Ae=Ue.f,ze=new lt(Ue,Ae);for(Ae.e=ze,Ae=(Ue.f=ze).c=Pe;Ae.a=ze,(Ae=Ae.c)!==Pe;);}function k(Pe,Ue){var Ae=Ue.d,ze=new Ke(Ue,Ae);for(Ae.b=ze,(Ue.d=ze).a=Pe,ze.c=Ue.c,Ae=Pe;Ae.d=ze,(Ae=Ae.e)!==Pe;);}function M(Pe){var Ue=Pe.h;(Ue.b.h=Pe=Pe.b.h).b.h=Ue}function A(Pe,Ue){for(var Ae=Pe.c,ze=Ae;ze.a=Ue,(ze=ze.c)!==Ae;);((ze=Pe.e).f=Ae=Pe.f).e=ze}function L(Pe,Ue){for(var Ae=Pe.a,ze=Ae;ze.d=Ue,(ze=ze.e)!==Ae;);((ze=Pe.b).d=Ae=Pe.d).b=ze}function U(Pe){var Ue=0;return Math.abs(Pe[1])>Math.abs(Pe[0])&&(Ue=1),Math.abs(Pe[2])>Math.abs(Pe[Ue])?2:Ue}function I(Pe,Ue){Pe.f+=Ue.f,Pe.b.f+=Ue.b.f}function D(Pe,Ue,Ae){return Ae=Ae.a,(Ue=Ue.a).b.a===(Pe=Pe.a)?Ae.b.a===Pe?d(Ue.a,Ae.a)?w(Ae.b.a,Ue.a,Ae.a)<=0:0<=w(Ue.b.a,Ae.a,Ue.a):w(Ae.b.a,Pe,Ae.a)<=0:Ae.b.a===Pe?0<=w(Ue.b.a,Pe,Ue.a):(Ue=y(Ue.b.a,Pe,Ue.a),(Pe=y(Ae.b.a,Pe,Ae.a))<=Ue)}function R(Pe){Pe.a.i=null;var Ue=Pe.e;Ue.a.c=Ue.c,Ue.c.a=Ue.a,Pe.e=null}function V(Pe,Ue){p(Pe.a),Pe.c=!1,(Pe.a=Ue).i=Pe}function N(Pe){for(var Ue=Pe.a.a;(Pe=wt(Pe)).a.a===Ue;);return Pe.c&&(V(Pe,Ue=a(Ut(Pe).a.b,Pe.a.e)),Pe=wt(Pe)),Pe}function Q(Pe,Ue,Ae){var ze=new dt;return ze.a=Ae,ze.e=Ge(Pe.f,Ue.e,ze),Ae.i=ze}function T(Pe,Ue){switch(Pe.s){case 100130:return 0!=(1&Ue);case 100131:return 0!==Ue;case 100132:return 0<Ue;case 100133:return Ue<0;case 100134:return 2<=Ue||Ue<=-2}return!1}function K(Pe){var Ue=Pe.a,Ae=Ue.d;Ae.c=Pe.d,Ae.a=Ue,R(Pe)}function se(Pe,Ue,Ae){for(Ue=(Pe=Ue).a;Pe!==Ae;){Pe.c=!1;var ze=Ut(Pe),mt=ze.a;if(mt.a!==Ue.a){if(!ze.c){K(Pe);break}V(ze,mt=a(Ue.c.b,mt.b))}Ue.c!==mt&&(c(mt.b.e,mt),c(Ue,mt)),K(Pe),Ue=ze.a,Pe=ze}return Ue}function fe(Pe,Ue,Ae,ze,mt,Dt){for(var ut=!0;Q(Pe,Ue,Ae.b),(Ae=Ae.c)!==ze;);for(null===mt&&(mt=Ut(Ue).a.b.c);(Ae=(ze=Ut(Ue)).a.b).a===mt.a;)Ae.c!==mt&&(c(Ae.b.e,Ae),c(mt.b.e,Ae)),ze.f=Ue.f-Ae.f,ze.d=T(Pe,ze.f),Ue.b=!0,!ut&&pe(Pe,Ue)&&(I(Ae,mt),R(Ue),p(mt)),ut=!1,Ue=ze,mt=Ae;Ue.b=!0,Dt&&Re(Pe,Ue)}function Ie(Pe,Ue,Ae,ze,mt){var Dt=[Ue.g[0],Ue.g[1],Ue.g[2]];Ue.d=null,Ue.d=Pe.o&&Pe.o(Dt,Ae,ze,Pe.c)||null,null===Ue.d&&(mt?Pe.n||(Ne(Pe,100156),Pe.n=!0):Ue.d=Ae[0])}function Z(Pe,Ue,Ae){var ze=[null,null,null,null];ze[0]=Ue.a.d,ze[1]=Ae.a.d,Ie(Pe,Ue.a,ze,[.5,.5,0,0],!1),c(Ue,Ae)}function ie(Pe,Ue,Ae,ze,mt){var Dt=Math.abs(Ue.b-Pe.b)+Math.abs(Ue.a-Pe.a),ut=Math.abs(Ae.b-Pe.b)+Math.abs(Ae.a-Pe.a),xt=mt+1;ze[mt]=.5*ut/(Dt+ut),ze[xt]=.5*Dt/(Dt+ut),Pe.g[0]+=ze[mt]*Ue.g[0]+ze[xt]*Ae.g[0],Pe.g[1]+=ze[mt]*Ue.g[1]+ze[xt]*Ae.g[1],Pe.g[2]+=ze[mt]*Ue.g[2]+ze[xt]*Ae.g[2]}function pe(Pe,Ue){var Ae=Ut(Ue),ze=Ue.a,mt=Ae.a;if(d(ze.a,mt.a)){if(0<w(mt.b.a,ze.a,mt.a))return;if(m(ze.a,mt.a)){if(ze.a!==mt.a){Ae=Pe.e;var Dt=ze.a.h;if(0<=Dt){var ut=(Ae=Ae.b).d,xt=Ae.e,jt=Ae.c,At=jt[Dt];ut[At]=ut[Ae.a],(jt[ut[At]]=At)<=--Ae.a&&(At<=1||d(xt[ut[At>>1]],xt[ut[At]])?dn:tn)(Ae,At),xt[Dt]=null,jt[Dt]=Ae.b,Ae.b=Dt}else for(Ae.c[-(Dt+1)]=null;0<Ae.a&&null===Ae.c[Ae.d[Ae.a-1]];)--Ae.a;Z(Pe,mt.b.e,ze)}}else v(mt.b),c(ze,mt.b.e),Ue.b=Ae.b=!0}else{if(w(ze.b.a,mt.a,ze.a)<0)return;wt(Ue).b=Ue.b=!0,v(ze.b),c(mt.b.e,ze)}return 1}function we(Pe,Ue){var Ae=Ut(Ue),ze=Ue.a,mt=Ae.a,Dt=ze.a,ut=mt.a,xt=ze.b.a,jt=mt.b.a,At=new lt;if(w(xt,Pe.a,Dt),w(jt,Pe.a,ut),!(Dt===ut||Math.min(Dt.a,xt.a)>Math.max(ut.a,jt.a))){if(d(Dt,ut)){if(0<w(jt,Dt,ut))return}else if(w(xt,ut,Dt)<0)return;var Jt,gn,_n=xt,fn=Dt,Mn=jt,bt=ut;if(d(_n,fn)||(Jt=_n,_n=fn,fn=Jt),d(Mn,bt)||(Jt=Mn,Mn=bt,bt=Jt),d(_n,Mn)||(Jt=_n,_n=Mn,Mn=Jt,Jt=fn,fn=bt,bt=Jt),d(Mn,fn)?d(fn,bt)?((Jt=y(_n,Mn,fn))+(gn=y(Mn,fn,bt))<0&&(Jt=-Jt,gn=-gn),At.b=h(Jt,Mn.b,gn,fn.b)):((Jt=w(_n,Mn,fn))+(gn=-w(_n,bt,fn))<0&&(Jt=-Jt,gn=-gn),At.b=h(Jt,Mn.b,gn,bt.b)):At.b=(Mn.b+fn.b)/2,b(_n,fn)||(Jt=_n,_n=fn,fn=Jt),b(Mn,bt)||(Jt=Mn,Mn=bt,bt=Jt),b(_n,Mn)||(Jt=_n,_n=Mn,Mn=Jt,Jt=fn,fn=bt,bt=Jt),b(Mn,fn)?b(fn,bt)?((Jt=i(_n,Mn,fn))+(gn=i(Mn,fn,bt))<0&&(Jt=-Jt,gn=-gn),At.a=h(Jt,Mn.a,gn,fn.a)):((Jt=l(_n,Mn,fn))+(gn=-l(_n,bt,fn))<0&&(Jt=-Jt,gn=-gn),At.a=h(Jt,Mn.a,gn,bt.a)):At.a=(Mn.a+fn.a)/2,d(At,Pe.a)&&(At.b=Pe.a.b,At.a=Pe.a.a),_n=d(Dt,ut)?Dt:ut,d(_n,At)&&(At.b=_n.b,At.a=_n.a),m(At,Dt)||m(At,ut))return pe(Pe,Ue),0;if(!m(xt,Pe.a)&&0<=w(xt,Pe.a,At)||!m(jt,Pe.a)&&w(jt,Pe.a,At)<=0){if(jt===Pe.a)v(ze.b),c(mt.b,ze),ze=Ut(Ue=N(Ue)).a,se(Pe,Ut(Ue),Ae),fe(Pe,Ue,ze.b.e,ze,ze,!0);else{if(xt!==Pe.a)return 0<=w(xt,Pe.a,At)&&(wt(Ue).b=Ue.b=!0,v(ze.b),ze.a.b=Pe.a.b,ze.a.a=Pe.a.a),void(w(jt,Pe.a,At)<=0&&(Ue.b=Ae.b=!0,v(mt.b),mt.a.b=Pe.a.b,mt.a.a=Pe.a.a));for(v(mt.b),c(ze.e,mt.b.e),ut=(Dt=Ae=Ue).a.b.a;(Dt=wt(Dt)).a.b.a===ut;);Dt=Ut(Ue=Dt).a.b.c,Ae.a=mt.b.e,fe(Pe,Ue,(mt=se(Pe,Ae,null)).c,ze.b.c,Dt,!0)}return 1}v(ze.b),v(mt.b),c(mt.b.e,ze),ze.a.b=At.b,ze.a.a=At.a,ze.a.h=St(Pe.e,ze.a),mt=[0,0,0,0],At=[Dt.d,xt.d,ut.d,jt.d],(ze=ze.a).g[0]=ze.g[1]=ze.g[2]=0,ie(ze,Dt,xt,mt,0),ie(ze,ut,jt,mt,2),Ie(Pe,ze,At,mt,!0),wt(Ue).b=Ue.b=Ae.b=!0}}function Re(Pe,Ue){for(var Ae=Ut(Ue);;){for(;Ae.b;)Ae=Ut(Ue=Ae);if(!(Ue.b||null!==(Ue=wt(Ae=Ue))&&Ue.b))break;Ue.b=!1;var ze=Ue.a,mt=Ae.a;if(Dt=ze.b.a!==mt.b.a)e:{var Dt,ut=Ut(Dt=Ue),xt=Dt.a,jt=ut.a,At=void 0;if(d(xt.b.a,jt.b.a)){if(w(xt.b.a,jt.b.a,xt.a)<0){Dt=!1;break e}wt(Dt).b=Dt.b=!0,At=v(xt),c(jt.b,At),At.d.c=Dt.d}else{if(0<w(jt.b.a,xt.b.a,jt.a)){Dt=!1;break e}Dt.b=ut.b=!0,At=v(jt),c(xt.e,jt.b),At.b.d.c=Dt.d}Dt=!0}if(Dt&&(Ae.c?(R(Ae),p(mt),mt=(Ae=Ut(Ue)).a):Ue.c&&(R(Ue),p(ze),ze=(Ue=wt(Ae)).a)),ze.a!==mt.a)if(ze.b.a===mt.b.a||Ue.c||Ae.c||ze.b.a!==Pe.a&&mt.b.a!==Pe.a)pe(Pe,Ue);else if(we(Pe,Ue))break;ze.a===mt.a&&ze.b.a===mt.b.a&&(I(mt,ze),R(Ue),p(ze),Ue=wt(Ae))}}function $e(Pe,Ue){var Ae=new dt,ze=s(Pe.b);ze.a.b=4e150,ze.a.a=Ue,ze.b.a.b=-4e150,ze.b.a.a=Ue,Pe.a=ze.b.a,Ae.a=ze,Ae.f=0,Ae.d=!1,Ae.c=!1,Ae.h=!0,Ae.b=!1,ze=Ge(ze=Pe.f,ze.a,Ae),Ae.e=ze}function Fe(Pe){this.a=new je,this.b=Pe,this.c=D}function Ge(Pe,Ue,Ae){for(;null!==(Ue=Ue.c).b&&!Pe.c(Pe.b,Ue.b,Ae););return Pe=new je(Ae,Ue.a,Ue),Ue.a.c=Pe,Ue.a=Pe}function je(Pe,Ue,Ae){this.b=Pe||null,this.a=Ue||this,this.c=Ae||this}function We(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Ye(Pe,Ue){if(Pe.d!==Ue)for(;Pe.d!==Ue;)if(Pe.d<Ue)switch(Pe.d){case 0:Ne(Pe,100151),Pe.u(null);break;case 1:Ne(Pe,100152),Pe.t()}else switch(Pe.d){case 2:Ne(Pe,100154),Pe.v();break;case 1:Ne(Pe,100153),Pe.w()}}function Ne(Pe,Ue){Pe.p&&Pe.p(Ue,Pe.c)}function Ke(Pe,Ue){this.b=Pe||this,this.d=Ue||this,this.a=null,this.c=!1}function at(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function yt(){this.c=new lt,this.a=new Ke,this.b=new at,this.d=new at,this.b.b=this.d,this.d.b=this.b}function lt(Pe,Ue){this.e=Pe||this,this.f=Ue||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function nt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ct}function St(Pe,Ue){var Ae,ze,mt;return Pe.e?(2*(ze=++(Ae=Pe.b).a)>Ae.f&&(Ae.f*=2,Ae.c=rn(Ae.c,Ae.f+1)),0===Ae.b?mt=ze:(mt=Ae.b,Ae.b=Ae.c[Ae.b]),Ae.e[mt]=Ue,Ae.c[mt]=ze,Ae.d[ze]=mt,Ae.h&&tn(Ae,ze),mt):(Ae=Pe.a++,Pe.c[Ae]=Ue,-(Ae+1))}function Wt(Pe){if(0===Pe.a)return Ht(Pe.b);var Ue=Pe.c[Pe.d[Pe.a-1]];if(0!==Pe.b.a&&d(cn(Pe.b),Ue))return Ht(Pe.b);for(;--Pe.a,0<Pe.a&&null===Pe.c[Pe.d[Pe.a-1]];);return Ue}function Ct(){this.d=rn([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function rn(Pe,Ue){for(var Ae=Array(Ue),ze=0;ze<Pe.length;ze++)Ae[ze]=Pe[ze];for(;ze<Ue;ze++)Ae[ze]=0;return Ae}function cn(Pe){return Pe.e[Pe.d[1]]}function Ht(Pe){var Ue=Pe.d,Ae=Pe.e,ze=Pe.c,mt=Ue[1],Dt=Ae[mt];return 0<Pe.a&&(Ue[1]=Ue[Pe.a],ze[Ue[1]]=1,Ae[mt]=null,ze[mt]=Pe.b,Pe.b=mt,0<--Pe.a&&dn(Pe,1)),Dt}function dn(Pe,Ue){for(var Ae=Pe.d,ze=Pe.e,mt=Pe.c,Dt=Ue,ut=Ae[Dt];;){var xt=Dt<<1,jt=(xt<Pe.a&&d(ze[Ae[xt+1]],ze[Ae[xt]])&&(xt+=1),Ae[xt]);if(xt>Pe.a||d(ze[ut],ze[jt])){mt[Ae[Dt]=ut]=Dt;break}mt[Ae[Dt]=jt]=Dt,Dt=xt}}function tn(Pe,Ue){for(var Ae=Pe.d,ze=Pe.e,mt=Pe.c,Dt=Ue,ut=Ae[Dt];;){var xt=Dt>>1,jt=Ae[xt];if(0==xt||d(ze[jt],ze[ut])){mt[Ae[Dt]=ut]=Dt;break}mt[Ae[Dt]=jt]=Dt,Dt=xt}}function dt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ut(Pe){return Pe.e.c.b}function wt(Pe){return Pe.e.a.b}(f=We.prototype).x=function(){Ye(this,0)},f.B=function(Pe,Ue){switch(Pe){case 100142:return;case 100140:switch(Ue){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Ue)}break;case 100141:return void(this.m=!!Ue);default:return void Ne(this,100900)}Ne(this,100901)},f.y=function(Pe){switch(Pe){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Ne(this,100900)}return!1},f.A=function(Pe,Ue,Ae){this.j[0]=Pe,this.j[1]=Ue,this.j[2]=Ae},f.z=function(Pe,Ue){var Ae=Ue||null;switch(Pe){case 100100:case 100106:this.h=Ae;break;case 100104:case 100110:this.l=Ae;break;case 100101:case 100107:this.k=Ae;break;case 100102:case 100108:this.i=Ae;break;case 100103:case 100109:this.p=Ae;break;case 100105:case 100111:this.o=Ae;break;case 100112:this.r=Ae;break;default:Ne(this,100900)}},f.C=function(Pe,Ue){var Ae=!1,ze=[0,0,0];Ye(this,2);for(var mt=0;mt<3;++mt){var Dt=Pe[mt];Dt<-1e150&&(Dt=-1e150,Ae=!0),1e150<Dt&&(Dt=1e150,Ae=!0),ze[mt]=Dt}Ae&&Ne(this,100155),null===(Ae=this.q)?c(Ae=s(this.b),Ae.b):(v(Ae),Ae=Ae.e),Ae.a.d=Ue,Ae.a.g[0]=ze[0],Ae.a.g[1]=ze[1],Ae.a.g[2]=ze[2],Ae.f=1,Ae.b.f=-1,this.q=Ae},f.u=function(Pe){Ye(this,0),this.d=1,this.b=new yt,this.c=Pe},f.t=function(){Ye(this,1),this.d=2,this.q=null},f.v=function(){Ye(this,2),this.d=1},f.w=function(){Ye(this,1),this.d=0;var Pe,Ue,Dt=!1,ut=[Ae=this.j[0],ze=this.j[1],mt=this.j[2]];if(0===Ae&&0===ze&&0===mt){for(var ze=[-2e150,-2e150,-2e150],xt=[2e150,2e150,2e150],mt=[],jt=[],Ae=(Dt=this.b.c).e;Ae!==Dt;Ae=Ae.e)for(var At=0;At<3;++At){var Jt=Ae.g[At];Jt<xt[At]&&(xt[At]=Jt,jt[At]=Ae),Jt>ze[At]&&(ze[At]=Jt,mt[At]=Ae)}if(ze[1]-xt[1]>ze[Ae=0]-xt[0]&&(Ae=1),xt[Ae=ze[2]-xt[2]>ze[Ae]-xt[Ae]?2:Ae]>=ze[Ae])ut[0]=0,ut[1]=0,ut[2]=1;else{for(xt=jt[Ae],jt=[ze=0,0,0],xt=[xt.g[0]-(mt=mt[Ae]).g[0],xt.g[1]-mt.g[1],xt.g[2]-mt.g[2]],At=[0,0,0],Ae=Dt.e;Ae!==Dt;Ae=Ae.e)At[0]=Ae.g[0]-mt.g[0],At[1]=Ae.g[1]-mt.g[1],At[2]=Ae.g[2]-mt.g[2],jt[0]=xt[1]*At[2]-xt[2]*At[1],jt[1]=xt[2]*At[0]-xt[0]*At[2],jt[2]=xt[0]*At[1]-xt[1]*At[0],ze<(Jt=jt[0]*jt[0]+jt[1]*jt[1]+jt[2]*jt[2])&&(ze=Jt,ut[0]=jt[0],ut[1]=jt[1],ut[2]=jt[2]);ze<=0&&(ut[0]=ut[1]=ut[2]=0,ut[U(xt)]=1)}Dt=!0}for(ze=((jt=U(ut))+1)%3,mt=(jt+2)%3,jt=0<ut[jt]?1:-1,ut=(Ae=this.b.c).e;ut!==Ae;ut=ut.e)ut.b=ut.g[ze],ut.a=jt*ut.g[mt];if(Dt){for(ut=0,Ae=(Dt=this.b.a).b;Ae!==Dt;Ae=Ae.b)if(!((ze=Ae.a).f<=0))for(;ut+=(ze.a.b-ze.b.a.b)*(ze.a.a+ze.b.a.a),(ze=ze.e)!==Ae.a;);if(ut<0)for(Dt=(ut=this.b.c).e;Dt!==ut;Dt=Dt.e)Dt.a=-Dt.a}for(this.n=!1,Ae=(ut=this.b.b).h;Ae!==ut;Ae=Dt)Dt=Ae.h,ze=Ae.e,m(Ae.a,Ae.b.a)&&Ae.e.e!==Ae&&(Z(this,ze,Ae),p(Ae),ze=(Ae=ze).e),ze.e===Ae&&(ze!==Ae&&(ze!==Dt&&ze!==Dt.b||(Dt=Dt.h),p(ze)),Ae!==Dt&&Ae!==Dt.b||(Dt=Dt.h),p(Ae));for(this.e=ut=new nt,Ae=(Dt=this.b.c).e;Ae!==Dt;Ae=Ae.e)Ae.h=St(ut,Ae);var bt,gn=ut;gn.d=[];for(var _n=0;_n<gn.a;_n++)gn.d[_n]=_n;gn.d.sort((bt=gn.c,function(ht,Nt){return d(bt[ht],bt[Nt])?1:-1})),gn.e=!0;for(var fn=gn.b,Mn=fn.a;1<=Mn;--Mn)dn(fn,Mn);for(fn.h=!0,this.f=new Fe(this),$e(this,-4e150),$e(this,4e150);null!==(ut=Wt(this.e));){for(;;){e:if(0===(Ae=this.e).a)Dt=cn(Ae.b);else if(Dt=Ae.c[Ae.d[Ae.a-1]],0!==Ae.b.a&&d(Ae=cn(Ae.b),Dt)){Dt=Ae;break e}if(null===Dt||!m(Dt,ut))break;Dt=Wt(this.e),Z(this,ut.c,Dt.c)}!function bt(ht,Nt){for(var gt,Mt=(ht.a=Nt).c;null===Mt.i;)if((Mt=Mt.c)===Nt.c){Mt=ht;var Xt=Nt;(Bn=new dt).a=Xt.c.b;for(var ee=(sn=Mt.f).a;null!==(ee=ee.a).b&&!sn.c(sn.b,Bn,ee.b););var sn,In,En=Ut(sn=ee.b),Bn=sn.a;return ee=En.a,void(0===w(Bn.b.a,Xt,Bn.a)?m((Bn=sn.a).a,Xt)||m(Bn.b.a,Xt)||(v(Bn.b),sn.c&&(p(Bn.c),sn.c=!1),c(Xt.c,Bn),bt(Mt,Xt)):(In=d(ee.b.a,Bn.b.a)?sn:En,En=void 0,sn.d||In.c?(En=In===sn?a(Xt.c.b,Bn.e):a(ee.b.c.b,Xt.c).b,In.c?V(In,En):((sn=Q(Bn=Mt,sn,En)).f=wt(sn).f+sn.a.f,sn.d=T(Bn,sn.f)),bt(Mt,Xt)):fe(Mt,sn,Xt.c,Xt.c,null,!0)))}sn=(Bn=Ut(Mt=N(Mt.i))).a,(Bn=se(ht,Bn,null)).c===sn?(Bn=(sn=Bn).c,ee=Ut(Mt),gt=!1,(En=Mt.a).b.a!==(In=ee.a).b.a&&we(ht,Mt),m(En.a,ht.a)&&(c(Bn.b.e,En),Bn=Ut(Mt=N(Mt)).a,se(ht,Ut(Mt),ee),gt=!0),m(In.a,ht.a)&&(c(sn,In.b.e),sn=se(ht,ee,null),gt=!0),gt?fe(ht,Mt,sn.c,Bn,Bn,!0):(Xt=d(In.a,En.a)?In.b.e:En,fe(ht,Mt,Xt=a(sn.c.b,Xt),Xt.c,Xt.c,!1),Xt.b.i.c=!0,Re(ht,Mt))):fe(ht,Mt,Bn.c,sn,sn,!0)}(this,ut)}for(this.a=this.f.a.a.b.a.a,ut=0;null!==(Dt=this.f.a.a.b);)Dt.h||++ut,R(Dt);for(this.f=null,(ut=this.e).b=null,ut.d=null,this.e=ut.c=null,Ae=(ut=this.b).a.b;Ae!==ut.a;Ae=Dt)Dt=Ae.b,(Ae=Ae.a).e.e===Ae&&(I(Ae.c,Ae),p(Ae));if(!this.n){if(ut=this.b,this.m)for(Ae=ut.b.h;Ae!==ut.b;Ae=Dt)Dt=Ae.h,Ae.b.d.c!==Ae.d.c?Ae.f=Ae.d.c?1:-1:p(Ae);else for(Ae=ut.a.b;Ae!==ut.a;Ae=Dt)if(Dt=Ae.b,Ae.c){for(Ae=Ae.a;d(Ae.b.a,Ae.a);Ae=Ae.c.b);for(;d(Ae.a,Ae.b.a);Ae=Ae.e);for(ze=Ae.c.b,mt=void 0;Ae.e!==ze;)if(d(Ae.b.a,ze.a)){for(;ze.e!==Ae&&(d((Ue=ze.e).b.a,Ue.a)||w(ze.a,ze.b.a,ze.e.b.a)<=0);)ze=(mt=a(ze.e,ze)).b;ze=ze.c.b}else{for(;ze.e!==Ae&&(d((Pe=Ae.c.b).a,Pe.b.a)||0<=w(Ae.b.a,Ae.a,Ae.c.b.a));)Ae=(mt=a(Ae,Ae.c.b)).b;Ae=Ae.e}for(;ze.e.e!==Ae;)ze=(mt=a(ze.e,ze)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(Dt=(ut=this.b).a.b;Dt!==ut.a;Dt=Dt.b)if(Dt.c){for(this.h&&this.h(2,this.c),Ae=Dt.a;this.k&&this.k(Ae.a.d,this.c),(Ae=Ae.e)!==Dt.a;);this.i&&this.i(this.c)}}else{for(Dt=!!this.l,Ae=!1,ze=-1,mt=(ut=this.b).a.d;mt!==ut.a;mt=mt.d)if(mt.c)for(Ae||(this.h&&this.h(4,this.c),Ae=!0),jt=mt.a;Dt&&ze!==(xt=jt.b.d.c?0:1)&&(ze=xt,this.l&&this.l(!!ze,this.c)),this.k&&this.k(jt.a.d,this.c),(jt=jt.e)!==mt.a;);Ae&&this.i&&this.i(this.c)}if(this.r){for(Ae=(ut=this.b).a.b;Ae!==ut.a;Ae=Dt)if(Dt=Ae.b,!Ae.c){for(mt=(ze=Ae.a).e,jt=void 0;mt=(jt=mt).e,(jt.d=null)===jt.b.d&&(jt.c===jt?A(jt.a,null):(jt.a.c=jt.c,E(jt,jt.b.e)),(xt=jt.b).c===xt?A(xt.a,null):(xt.a.c=xt.c,E(xt,xt.b.e)),M(jt)),jt!==ze;);ze=Ae.d,((Ae=Ae.b).d=ze).b=Ae}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:We,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},We.prototype.gluDeleteTess=We.prototype.x,We.prototype.gluTessProperty=We.prototype.B,We.prototype.gluGetTessProperty=We.prototype.y,We.prototype.gluTessNormal=We.prototype.A,We.prototype.gluTessCallback=We.prototype.z,We.prototype.gluTessVertex=We.prototype.C,We.prototype.gluTessBeginPolygon=We.prototype.u,We.prototype.gluTessBeginContour=We.prototype.t,We.prototype.gluTessEndContour=We.prototype.v,We.prototype.gluTessEndPolygon=We.prototype.w,void 0!==G&&(G.exports=this.libtess)},{}],246:[function(r,G,O){"use strict";function m(d,y,w,b){for(var i=d[y++],l=1<<i,h=1+l,s=1+h,c=i+1,p=(1<<c)-1,v=0,a=0,g=0,E=d[y++],$=new Int32Array(4096),k=null;;){for(;v<16&&0!==E;)a|=d[y++]<<v,v+=8,1===E?E=d[y++]:--E;if(v<c)break;var M=a&p;if(a>>=c,v-=c,M==l)s=1+h,p=(1<<(c=i+1))-1,k=null;else{if(M==h)break;for(var A=M<s?M:k,L=0,U=A;l<U;)U=$[U]>>8,++L;var I=U;if(b<g+L+(A!==M?1:0))return void console.log("Warning, gif stream longer than expected.");w[g++]=I;var D=g+=L;for(A!==M&&(w[g++]=I),U=A;L--;)w[--D]=255&(U=$[U]),U>>=8;null!==k&&s<4096&&($[s++]=k<<8|I,p+1<=s&&c<12&&(++c,p=p<<1|1)),k=M}}g!==b&&console.log("Warning, gif stream shorter than expected.")}try{O.GifWriter=function f(d,y,w,b){var i=0,l=void 0===(b=void 0===b?{}:b).loop?null:b.loop,h=void 0===b.palette?null:b.palette;if(y<=0||w<=0||65535<y||65535<w)throw new Error("Width/Height invalid.");function s(k){if((k=k.length)<2||256<k||k&k-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return k}d[i++]=71,d[i++]=73,d[i++]=70,d[i++]=56,d[i++]=57,d[i++]=97;var c=0,p=0;if(null!==h){for(var v=s(h);v>>=1;)++c;if(v=1<<c,--c,void 0!==b.background){if(v<=(p=b.background))throw new Error("Background index out of range.");if(0===p)throw new Error("Background index explicitly passed as 0.")}}if(d[i++]=255&y,d[i++]=y>>8&255,d[i++]=255&w,d[i++]=w>>8&255,d[i++]=(null!==h?128:0)|c,d[i++]=p,d[i++]=0,null!==h)for(var a=0,g=h.length;a<g;++a){var E=h[a];d[i++]=E>>16&255,d[i++]=E>>8&255,d[i++]=255&E}if(null!==l){if(l<0||65535<l)throw new Error("Loop count invalid.");d[i++]=33,d[i++]=255,d[i++]=11,d[i++]=78,d[i++]=69,d[i++]=84,d[i++]=83,d[i++]=67,d[i++]=65,d[i++]=80,d[i++]=69,d[i++]=50,d[i++]=46,d[i++]=48,d[i++]=3,d[i++]=1,d[i++]=255&l,d[i++]=l>>8&255,d[i++]=0}var $=!1;this.addFrame=function(k,M,A,L,U,I){if(!0===$&&(--i,$=!1),I=void 0===I?{}:I,k<0||M<0||65535<k||65535<M)throw new Error("x/y invalid.");if(A<=0||L<=0||65535<A||65535<L)throw new Error("Width/Height invalid.");if(U.length<A*L)throw new Error("Not enough pixels for the frame size.");var D=!0,R=I.palette;if(null==R&&(D=!1,R=h),null==R)throw new Error("Must supply either a local or global palette.");for(var N=s(R),V=0;N>>=1;)++V;N=1<<V;var Q=void 0===I.delay?0:I.delay,T=void 0===I.disposal?0:I.disposal;if(T<0||3<T)throw new Error("Disposal out of range.");var K=!1,se=0;if(null!=I.transparent&&(K=!0,(se=I.transparent)<0||N<=se))throw new Error("Transparent color index.");if(0===T&&!K&&0===Q||(d[i++]=33,d[i++]=249,d[i++]=4,d[i++]=T<<2|(!0===K?1:0),d[i++]=255&Q,d[i++]=Q>>8&255,d[i++]=se,d[i++]=0),d[i++]=44,d[i++]=255&k,d[i++]=k>>8&255,d[i++]=255&M,d[i++]=M>>8&255,d[i++]=255&A,d[i++]=A>>8&255,d[i++]=255&L,d[i++]=L>>8&255,d[i++]=!0===D?128|V-1:0,!0===D)for(var fe=0,Ie=R.length;fe<Ie;++fe){var Z=R[fe];d[i++]=Z>>16&255,d[i++]=Z>>8&255,d[i++]=255&Z}return i=function(ie,pe,we,Re){ie[pe++]=we;var $e=pe++,Fe=1<<we,Ge=Fe-1,je=1+Fe,We=1+je,Ye=we+1,Ne=0,Ke=0;function at(Ht){for(;Ht<=Ne;)ie[pe++]=255&Ke,Ke>>=8,Ne-=8,pe===$e+256&&(ie[$e]=255,$e=pe++)}function yt(Ht){Ke|=Ht<<Ne,Ne+=Ye,at(8)}var lt=Re[0]&Ge,nt={};yt(Fe);for(var St=1,Wt=Re.length;St<Wt;++St){var Ct=Re[St]&Ge,rn=lt<<8|Ct,cn=nt[rn];if(void 0===cn){for(Ke|=lt<<Ne,Ne+=Ye;8<=Ne;)ie[pe++]=255&Ke,Ke>>=8,Ne-=8,pe===$e+256&&(ie[$e]=255,$e=pe++);4096===We?(yt(Fe),We=1+je,Ye=we+1,nt={}):(1<<Ye<=We&&++Ye,nt[rn]=We++),lt=Ct}else lt=cn}return yt(lt),yt(je),at(1),$e+1===pe?ie[$e]=0:(ie[$e]=pe-$e-1,ie[pe++]=0),pe}(d,i,V<2?2:V,U)},this.end=function(){return!1===$&&(d[i++]=59,$=!0),i},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(k){d=k},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(k){i=k}},O.GifReader=function(d){var y=0;if(71!==d[y++]||73!==d[y++]||70!==d[y++]||56!==d[y++]||56!=(d[y++]+1&253)||97!==d[y++])throw new Error("Invalid GIF 87a/89a header.");var w=d[y++]|d[y++]<<8,b=d[y++]|d[y++]<<8,i=d[y++],h=(y++,y++,null),s=null,c=(i>>7&&(h=y,y+=3*(s=1<<1+(7&i))),!0),p=[],v=0,a=null,g=0,E=null;for(this.width=w,this.height=b;c&&y<d.length;)switch(d[y++]){case 33:switch(d[y++]){case 255:if(11!==d[y]||78==d[y+1]&&69==d[y+2]&&84==d[y+3]&&83==d[y+4]&&67==d[y+5]&&65==d[y+6]&&80==d[y+7]&&69==d[y+8]&&50==d[y+9]&&46==d[y+10]&&48==d[y+11]&&3==d[y+12]&&1==d[y+13]&&0==d[y+16])y+=14,E=d[y++]|d[y++]<<8,y++;else for(y+=12;;){if(!(0<=(k=d[y++])))throw Error("Invalid block size");if(0===k)break;y+=k}break;case 249:if(4!==d[y++]||0!==d[y+4])throw new Error("Invalid graphics extension block.");var $=d[y++];v=d[y++]|d[y++]<<8,a=d[y++],!(1&$)&&(a=null),g=$>>2&7,y++;break;case 254:for(;;){if(!(0<=(k=d[y++])))throw Error("Invalid block size");if(0===k)break;y+=k}break;default:throw new Error("Unknown graphic control label: 0x"+d[y-1].toString(16))}break;case 44:var k,M=d[y++]|d[y++]<<8,A=d[y++]|d[y++]<<8,L=d[y++]|d[y++]<<8,U=d[y++]|d[y++]<<8,I=(Q=d[y++])>>6&1,R=h,V=s,N=!1,Q=(Q>>7&&(N=!0,R=y,y+=3*(V=1<<1+(7&Q))),y);for(y++;;){if(!(0<=(k=d[y++])))throw Error("Invalid block size");if(0===k)break;y+=k}p.push({x:M,y:A,width:L,height:U,has_local_palette:N,palette_offset:R,palette_size:V,data_offset:Q,data_length:y-Q,transparent_index:a,interlaced:!!I,delay:v,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+d[y-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return E},this.frameInfo=function(T){if(T<0||T>=p.length)throw new Error("Frame index out of range.");return p[T]},this.decodeAndBlitFrameBGRA=function(T,K){for(var se=(T=this.frameInfo(T)).width*T.height,fe=new Uint8Array(se),Ie=(m(d,T.data_offset,fe,se),T.palette_offset),Z=T.transparent_index,ie=(null===Z&&(Z=256),T.width),pe=w-ie,we=ie,Re=4*(T.y*w+T.x),$e=4*((T.y+T.height)*w+T.x),Fe=Re,Ge=4*pe,je=(!0===T.interlaced&&(Ge+=4*w*7),8),We=0,Ye=fe.length;We<Ye;++We){var Ne,Ke,at=fe[We];0===we&&(we=ie,$e<=(Fe+=Ge)&&(Ge=4*pe+4*w*(je-1),Fe=Re+(ie+pe)*(je<<1),je>>=1)),at===Z?Fe+=4:(Ne=d[Ie+3*at],Ke=d[Ie+3*at+1],K[Fe++]=at=d[Ie+3*at+2],K[Fe++]=Ke,K[Fe++]=Ne,K[Fe++]=255),--we}},this.decodeAndBlitFrameRGBA=function(T,K){for(var se=(T=this.frameInfo(T)).width*T.height,fe=new Uint8Array(se),Ie=(m(d,T.data_offset,fe,se),T.palette_offset),Z=T.transparent_index,ie=(null===Z&&(Z=256),T.width),pe=w-ie,we=ie,Re=4*(T.y*w+T.x),$e=4*((T.y+T.height)*w+T.x),Fe=Re,Ge=4*pe,je=(!0===T.interlaced&&(Ge+=4*w*7),8),We=0,Ye=fe.length;We<Ye;++We){var Ne,Ke,at=fe[We];0===we&&(we=ie,$e<=(Fe+=Ge)&&(Ge=4*pe+4*w*(je-1),Fe=Re+(ie+pe)*(je<<1),je>>=1)),at===Z?Fe+=4:(Ne=d[Ie+3*at],Ke=d[Ie+3*at+1],at=d[Ie+3*at+2],K[Fe++]=Ne,K[Fe++]=Ke,K[Fe++]=at,K[Fe++]=255),--we}}}}catch{}},{}],247:[function(r,G,O){(function(f){var d;d=function(y){"use strict";function w(q){if(null==this)throw TypeError();var F,C=String(this),S=C.length;if(!((q=(q=q?Number(q):0)!=q?0:q)<0||S<=q))return 55296<=(F=C.charCodeAt(q))&&F<=56319&&q+1<S&&56320<=(S=C.charCodeAt(q+1))&&S<=57343?1024*(F-55296)+S-56320+65536:F}String.prototype.codePointAt||((b=function(){try{var x={},F=Object.defineProperty,C=F(x,x,x)&&F}catch{}return C}())?b(String.prototype,"codePointAt",{value:w,configurable:!0,writable:!0}):String.prototype.codePointAt=w);var b;function h(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function s(x,F){this.source=x,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=F,this.destLen=0,this.ltree=new h,this.dtree=new h}var c=new h,p=new h,v=new Uint8Array(30),a=new Uint16Array(30),g=new Uint8Array(30),E=new Uint16Array(30),$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new h,M=new Uint8Array(320);function A(x,F,C,S){for(var q,z=0;z<C;++z)x[z]=0;for(z=0;z<30-C;++z)x[z+C]=z/C|0;for(q=S,z=0;z<30;++z)F[z]=q,q+=1<<x[z]}var L=new Uint16Array(16);function U(x,F,C,S){for(var q,z=0;z<16;++z)x.table[z]=0;for(z=0;z<S;++z)x.table[F[C+z]]++;for(z=q=x.table[0]=0;z<16;++z)L[z]=q,q+=x.table[z];for(z=0;z<S;++z)F[C+z]&&(x.trans[L[F[C+z]]++]=z)}function I(x,F,C){if(!F)return C;for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;var S=x.tag&65535>>>16-F;return x.tag>>>=F,x.bitcount-=F,S+C}function D(x,F){for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;for(var C=0,S=0,q=0,z=x.tag;S=2*S+(1&z),z>>>=1,C+=F.table[++q],0<=(S-=F.table[q]););return x.tag=z,x.bitcount-=q,F.trans[C+S]}function R(x,F,C){for(;;){if(256===(S=D(x,F)))return 0;if(S<256)x.dest[x.destLen++]=S;else for(var q,z=I(x,v[S-=257],a[S]),S=D(x,C),ae=q=x.destLen-I(x,g[S],E[S]);ae<q+z;++ae)x.dest[x.destLen++]=x.dest[ae]}}for(var V=c,N=p,Q=0;Q<7;++Q)V.table[Q]=0;for(V.table[7]=24,V.table[8]=152,V.table[9]=112,Q=0;Q<24;++Q)V.trans[Q]=256+Q;for(Q=0;Q<144;++Q)V.trans[24+Q]=Q;for(Q=0;Q<8;++Q)V.trans[168+Q]=280+Q;for(Q=0;Q<112;++Q)V.trans[176+Q]=144+Q;for(Q=0;Q<5;++Q)N.table[Q]=0;for(N.table[5]=32,Q=0;Q<32;++Q)N.trans[Q]=Q;A(v,a,4,3),A(g,E,2,1),v[28]=0,a[28]=258;var T=function(x,F){var C,S,q,z=new s(x,F);do{switch(void 0,(S=z).bitcount--||(S.tag=S.source[S.sourceIndex++],S.bitcount=7),q=1&S.tag,S.tag>>>=1,S=q,I(z,2,0)){case 0:C=function(Ft){for(var Fn,Pn;8<Ft.bitcount;)Ft.sourceIndex--,Ft.bitcount-=8;if((Fn=256*Ft.source[Ft.sourceIndex+1]+Ft.source[Ft.sourceIndex])!==(65535&~(256*Ft.source[Ft.sourceIndex+3]+Ft.source[Ft.sourceIndex+2])))return-3;for(Ft.sourceIndex+=4,Pn=Fn;Pn;--Pn)Ft.dest[Ft.destLen++]=Ft.source[Ft.sourceIndex++];return Ft.bitcount=0,0}(z);break;case 1:C=R(z,c,p);break;case 2:zt=$t=on=Lt=ae=ct=void 0;for(var ae,Oe=z,qe=z.ltree,et=z.dtree,_t=I(Oe,5,257),Pt=I(Oe,5,1),Tt=I(Oe,4,4),ct=0;ct<19;++ct)M[ct]=0;for(ct=0;ct<Tt;++ct){var on=I(Oe,3,0);M[$[ct]]=on}for(U(k,M,0,19),ae=0;ae<_t+Pt;){var $t=D(Oe,k);switch($t){case 16:for(var zt=M[ae-1],Lt=I(Oe,2,3);Lt;--Lt)M[ae++]=zt;break;case 17:for(Lt=I(Oe,3,3);Lt;--Lt)M[ae++]=0;break;case 18:for(Lt=I(Oe,7,11);Lt;--Lt)M[ae++]=0;break;default:M[ae++]=$t}}U(qe,M,0,_t),U(et,M,_t,Pt),C=R(z,z.ltree,z.dtree);break;default:C=-3}if(0!==C)throw new Error("Data error")}while(!S);return z.destLen<z.dest.length?"function"==typeof z.dest.slice?z.dest.slice(0,z.destLen):z.dest.subarray(0,z.destLen):z.dest};function K(x,F,C,S,q){return Math.pow(1-q,3)*x+3*Math.pow(1-q,2)*q*F+3*(1-q)*Math.pow(q,2)*C+Math.pow(q,3)*S}function se(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function fe(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Ie(x){throw new Error(x)}function Z(x,F){x||Ie(F)}se.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},se.prototype.addPoint=function(x,F){"number"==typeof x&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),"number"==typeof F&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=F,this.y2=F),F<this.y1&&(this.y1=F),F>this.y2&&(this.y2=F))},se.prototype.addX=function(x){this.addPoint(x,null)},se.prototype.addY=function(x){this.addPoint(null,x)},se.prototype.addBezier=function(x,F,C,S,q,z,ae,Oe){var qe=[x,F],et=[C,S],_t=[q,z],Pt=[ae,Oe];this.addPoint(x,F),this.addPoint(ae,Oe);for(var Tt=0;Tt<=1;Tt++){var ct,on=6*qe[Tt]-12*et[Tt]+6*_t[Tt],$t=-3*qe[Tt]+9*et[Tt]-9*_t[Tt]+3*Pt[Tt],zt=3*et[Tt]-3*qe[Tt];0==$t?0==on||0<(ct=-zt/on)&&ct<1&&(0===Tt&&this.addX(K(qe[Tt],et[Tt],_t[Tt],Pt[Tt],ct)),1===Tt&&this.addY(K(qe[Tt],et[Tt],_t[Tt],Pt[Tt],ct))):(ct=Math.pow(on,2)-4*zt*$t)<0||(0<(zt=(-on+Math.sqrt(ct))/(2*$t))&&zt<1&&(0===Tt&&this.addX(K(qe[Tt],et[Tt],_t[Tt],Pt[Tt],zt)),1===Tt&&this.addY(K(qe[Tt],et[Tt],_t[Tt],Pt[Tt],zt))),0<(zt=(-on-Math.sqrt(ct))/(2*$t))&&zt<1&&(0===Tt&&this.addX(K(qe[Tt],et[Tt],_t[Tt],Pt[Tt],zt)),1===Tt&&this.addY(K(qe[Tt],et[Tt],_t[Tt],Pt[Tt],zt))))}},se.prototype.addQuad=function(x,F,C,S,q,z){this.addBezier(x,F,C=x+2/3*(C-x),S=F+2/3*(S-F),C+1/3*(q-x),S+1/3*(z-F),q,z)},fe.prototype.moveTo=function(x,F){this.commands.push({type:"M",x,y:F})},fe.prototype.lineTo=function(x,F){this.commands.push({type:"L",x,y:F})},fe.prototype.curveTo=fe.prototype.bezierCurveTo=function(x,F,C,S,q,z){this.commands.push({type:"C",x1:x,y1:F,x2:C,y2:S,x:q,y:z})},fe.prototype.quadTo=fe.prototype.quadraticCurveTo=function(x,F,C,S){this.commands.push({type:"Q",x1:x,y1:F,x:C,y:S})},fe.prototype.close=fe.prototype.closePath=function(){this.commands.push({type:"Z"})},fe.prototype.extend=function(x){var F;if(x.commands)x=x.commands;else if(x instanceof se)return this.moveTo((F=x).x1,F.y1),this.lineTo(F.x2,F.y1),this.lineTo(F.x2,F.y2),this.lineTo(F.x1,F.y2),void this.close();Array.prototype.push.apply(this.commands,x)},fe.prototype.getBoundingBox=function(){for(var x=new se,F=0,C=0,S=0,q=0,z=0;z<this.commands.length;z++){var ae=this.commands[z];switch(ae.type){case"M":x.addPoint(ae.x,ae.y),F=S=ae.x,C=q=ae.y;break;case"L":x.addPoint(ae.x,ae.y),S=ae.x,q=ae.y;break;case"Q":x.addQuad(S,q,ae.x1,ae.y1,ae.x,ae.y),S=ae.x,q=ae.y;break;case"C":x.addBezier(S,q,ae.x1,ae.y1,ae.x2,ae.y2,ae.x,ae.y),S=ae.x,q=ae.y;break;case"Z":S=F,q=C;break;default:throw new Error("Unexpected path command "+ae.type)}}return x.isEmpty()&&x.addPoint(0,0),x},fe.prototype.draw=function(x){x.beginPath();for(var F=0;F<this.commands.length;F+=1){var C=this.commands[F];"M"===C.type?x.moveTo(C.x,C.y):"L"===C.type?x.lineTo(C.x,C.y):"C"===C.type?x.bezierCurveTo(C.x1,C.y1,C.x2,C.y2,C.x,C.y):"Q"===C.type?x.quadraticCurveTo(C.x1,C.y1,C.x,C.y):"Z"===C.type&&x.closePath()}this.fill&&(x.fillStyle=this.fill,x.fill()),this.stroke&&(x.strokeStyle=this.stroke,x.lineWidth=this.strokeWidth,x.stroke())},fe.prototype.toPathData=function(x){function F(){for(var z=arguments,ae="",Oe=0;Oe<arguments.length;Oe+=1){var qe=z[Oe];0<=qe&&0<Oe&&(ae+=" "),ae+=Math.round(qe)===qe?""+Math.round(qe):qe.toFixed(x)}return ae}x=void 0!==x?x:2;for(var C="",S=0;S<this.commands.length;S+=1){var q=this.commands[S];"M"===q.type?C+="M"+F(q.x,q.y):"L"===q.type?C+="L"+F(q.x,q.y):"C"===q.type?C+="C"+F(q.x1,q.y1,q.x2,q.y2,q.x,q.y):"Q"===q.type?C+="Q"+F(q.x1,q.y1,q.x,q.y):"Z"===q.type&&(C+="Z")}return C},fe.prototype.toSVG=function(x){var F=(F='<path d="')+this.toPathData(x)+'"';return this.fill&&"black"!==this.fill&&(F+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(F+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),F+"/>"},fe.prototype.toDOMElement=function(F){F=this.toPathData(F);var C=document.createElementNS("http://www.w3.org/2000/svg","path");return C.setAttribute("d",F),C};var ie={fail:Ie,argument:Z,assert:Z},pe={},we={},Re={};function $e(x){return function(){return x}}we.BYTE=function(x){return ie.argument(0<=x&&x<=255,"Byte value should be between 0 and 255."),[x]},Re.BYTE=$e(1),we.CHAR=function(x){return[x.charCodeAt(0)]},Re.CHAR=$e(1),we.CHARARRAY=function(x){for(var F=[],C=0;C<x.length;C+=1)F[C]=x.charCodeAt(C);return F},Re.CHARARRAY=function(x){return x.length},we.USHORT=function(x){return[x>>8&255,255&x]},Re.USHORT=$e(2),we.SHORT=function(x){return[(x=32768<=x?-(65536-x):x)>>8&255,255&x]},Re.SHORT=$e(2),we.UINT24=function(x){return[x>>16&255,x>>8&255,255&x]},Re.UINT24=$e(3),we.ULONG=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},Re.ULONG=$e(4),we.LONG=function(x){return[(x=2147483648<=x?-(4294967296-x):x)>>24&255,x>>16&255,x>>8&255,255&x]},Re.LONG=$e(4),we.FIXED=we.ULONG,Re.FIXED=Re.ULONG,we.FWORD=we.SHORT,Re.FWORD=Re.SHORT,we.UFWORD=we.USHORT,Re.UFWORD=Re.USHORT,we.LONGDATETIME=function(x){return[0,0,0,0,x>>24&255,x>>16&255,x>>8&255,255&x]},Re.LONGDATETIME=$e(8),we.TAG=function(x){return ie.argument(4===x.length,"Tag should be exactly 4 ASCII characters."),[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]},Re.TAG=$e(4),we.Card8=we.BYTE,Re.Card8=Re.BYTE,we.Card16=we.USHORT,Re.Card16=Re.USHORT,we.OffSize=we.BYTE,Re.OffSize=Re.BYTE,we.SID=we.USHORT,Re.SID=Re.USHORT,we.NUMBER=function(x){return-107<=x&&x<=107?[x+139]:108<=x&&x<=1131?[247+((x-=108)>>8),255&x]:-1131<=x&&x<=-108?[251+((x=-x-108)>>8),255&x]:-32768<=x&&x<=32767?we.NUMBER16(x):we.NUMBER32(x)},Re.NUMBER=function(x){return we.NUMBER(x).length},we.NUMBER16=function(x){return[28,x>>8&255,255&x]},Re.NUMBER16=$e(3),we.NUMBER32=function(x){return[29,x>>24&255,x>>16&255,x>>8&255,255&x]},Re.NUMBER32=$e(5),we.REAL=function(x){for(var F=x.toString(),C=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(F),S=(C&&(C=parseFloat("1e"+((C[2]?+C[2]:0)+C[1].length)),F=(Math.round(x*C)/C).toString()),""),q=0,z=F.length;q<z;q+=1){var ae=F[q];S+="e"===ae?"-"===F[++q]?"c":"b":"."===ae?"a":"-"===ae?"e":ae}for(var Oe=[30],qe=0,et=(S+=1&S.length?"f":"ff").length;qe<et;qe+=2)Oe.push(parseInt(S.substr(qe,2),16));return Oe},Re.REAL=function(x){return we.REAL(x).length},we.NAME=we.CHARARRAY,Re.NAME=Re.CHARARRAY,we.STRING=we.CHARARRAY,Re.STRING=Re.CHARARRAY,pe.UTF8=function(x,F,C){for(var S=[],q=C,z=0;z<q;z++,F+=1)S[z]=x.getUint8(F);return String.fromCharCode.apply(null,S)},pe.UTF16=function(x,F,C){for(var S=[],q=C/2,z=0;z<q;z++,F+=2)S[z]=x.getUint16(F);return String.fromCharCode.apply(null,S)},we.UTF16=function(x){for(var F=[],C=0;C<x.length;C+=1){var S=x.charCodeAt(C);F[F.length]=S>>8&255,F[F.length]=255&S}return F},Re.UTF16=function(x){return 2*x.length};var Fe,Ge={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},je=(pe.MACSTRING=function(x,F,C,S){var q=Ge[S];if(void 0!==q){for(var z="",ae=0;ae<C;ae++){var Oe=x.getUint8(F+ae);z+=Oe<=127?String.fromCharCode(Oe):q[127&Oe]}return z}},"function"==typeof WeakMap&&new WeakMap);function We(x){return-128<=x&&x<=127}we.MACSTRING=function(x,F){var C=function(ae){if(!Fe)for(var Oe in Fe={},Ge)Fe[Oe]=new String(Oe);var qe=Fe[ae];if(void 0!==qe){if(je){var et=je.get(qe);if(void 0!==et)return et}var _t=Ge[ae];if(void 0!==_t){for(var Pt={},Tt=0;Tt<_t.length;Tt++)Pt[_t.charCodeAt(Tt)]=Tt+128;return je&&je.set(qe,Pt),Pt}}}(F);if(void 0!==C){for(var S=[],q=0;q<x.length;q++){var z=x.charCodeAt(q);if(128<=z&&void 0===(z=C[z]))return;S[q]=z}return S}},Re.MACSTRING=function(x,F){return void 0!==(x=we.MACSTRING(x,F))?x.length:0},we.VARDELTAS=function(x){for(var S=0,F=[];S<x.length;){var C=x[S];S=(0===C?function(q,z,ae){for(var Oe=0,qe=q.length;z<qe&&Oe<64&&0===q[z];)++z,++Oe;return ae.push(128|Oe-1),z}:-128<=C&&C<=127?function(q,z,ae){for(var Oe=0,qe=q.length,et=z;et<qe&&Oe<64;){var _t=q[et];if(!We(_t)||0===_t&&et+1<qe&&0===q[et+1])break;++et,++Oe}ae.push(Oe-1);for(var Pt=z;Pt<et;++Pt)ae.push(q[Pt]+256&255);return et}:function(q,z,ae){for(var Oe=0,qe=q.length,et=z;et<qe&&Oe<64;){var _t=q[et];if(0===_t||We(_t)&&et+1<qe&&We(q[et+1]))break;++et,++Oe}ae.push(64|Oe-1);for(var Pt=z;Pt<et;++Pt){var Tt=q[Pt];ae.push(Tt+65536>>8&255,Tt+256&255)}return et})(x,S,F)}return F},we.INDEX=function(x){for(var F=1,C=[F],S=[],q=0;q<x.length;q+=1){var z=we.OBJECT(x[q]);Array.prototype.push.apply(S,z),C.push(F+=z.length)}if(0===S.length)return[0,0];for(var ae=[],Oe=1+Math.floor(Math.log(F)/Math.log(2))/8|0,qe=[void 0,we.BYTE,we.USHORT,we.UINT24,we.ULONG][Oe],et=0;et<C.length;et+=1){var _t=qe(C[et]);Array.prototype.push.apply(ae,_t)}return Array.prototype.concat(we.Card16(x.length),we.OffSize(Oe),ae,S)},Re.INDEX=function(x){return we.INDEX(x).length},we.DICT=function(x){for(var F=[],C=Object.keys(x),S=C.length,q=0;q<S;q+=1){var z=parseInt(C[q],0),ae=x[z];F=(F=F.concat(we.OPERAND(ae.value,ae.type))).concat(we.OPERATOR(z))}return F},Re.DICT=function(x){return we.DICT(x).length},we.OPERATOR=function(x){return x<1200?[x]:[12,x-1200]},we.OPERAND=function(x,F){var C=[];if(Array.isArray(F))for(var S=0;S<F.length;S+=1)ie.argument(x.length===F.length,"Not enough arguments given for type"+F),C=C.concat(we.OPERAND(x[S],F[S]));else if("SID"===F)C=C.concat(we.NUMBER(x));else if("offset"===F)C=C.concat(we.NUMBER32(x));else if("number"===F)C=C.concat(we.NUMBER(x));else{if("real"!==F)throw new Error("Unknown operand type "+F);C=C.concat(we.REAL(x))}return C},we.OP=we.BYTE,Re.OP=Re.BYTE;var Ye="function"==typeof WeakMap&&new WeakMap;function Ne(x,F,C){for(var S=0;S<F.length;S+=1){var q=F[S];this[q.name]=q.value}if(this.tableName=x,this.fields=F,C)for(var z=Object.keys(C),ae=0;ae<z.length;ae+=1){var Oe=z[ae];void 0!==this[Oe]&&(this[Oe]=C[Oe])}}function Ke(x,F,C){void 0===C&&(C=F.length);var S=new Array(F.length+1);S[0]={name:x+"Count",type:"USHORT",value:C};for(var q=0;q<F.length;q++)S[q+1]={name:x+q,type:"USHORT",value:F[q]};return S}function at(x,F,C){var S=F.length,q=new Array(S+1);q[0]={name:x+"Count",type:"USHORT",value:S};for(var z=0;z<S;z++)q[z+1]={name:x+z,type:"TABLE",value:C(F[z],z)};return q}function yt(x,F,C){var S=F.length,q=[];q[0]={name:x+"Count",type:"USHORT",value:S};for(var z=0;z<S;z++)q=q.concat(C(F[z],z));return q}function lt(x){1===x.format?Ne.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ke("glyph",x.glyphs))):ie.assert(!1,"Can't create coverage table format 2 yet.")}function nt(x){Ne.call(this,"scriptListTable",yt("scriptRecord",x,function(F,C){var S=F.script,q=S.defaultLangSys;return ie.assert(!!q,"Unable to write GSUB: script "+F.tag+" has no default language system."),[{name:"scriptTag"+C,type:"TAG",value:F.tag},{name:"script"+C,type:"TABLE",value:new Ne("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Ne("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:q.reqFeatureIndex}].concat(Ke("featureIndex",q.featureIndexes)))}].concat(yt("langSys",S.langSysRecords,function(z,ae){var Oe=z.langSys;return[{name:"langSysTag"+ae,type:"TAG",value:z.tag},{name:"langSys"+ae,type:"TABLE",value:new Ne("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Oe.reqFeatureIndex}].concat(Ke("featureIndex",Oe.featureIndexes)))}]})))}]}))}function St(x){Ne.call(this,"featureListTable",yt("featureRecord",x,function(F,C){var S=F.feature;return[{name:"featureTag"+C,type:"TAG",value:F.tag},{name:"feature"+C,type:"TABLE",value:new Ne("featureTable",[{name:"featureParams",type:"USHORT",value:S.featureParams}].concat(Ke("lookupListIndex",S.lookupListIndexes)))}]}))}function Wt(x,F){Ne.call(this,"lookupListTable",at("lookup",x,function(C){var S=F[C.lookupType];return ie.assert(!!S,"Unable to write GSUB lookup type "+C.lookupType+" tables."),new Ne("lookupTable",[{name:"lookupType",type:"USHORT",value:C.lookupType},{name:"lookupFlag",type:"USHORT",value:C.lookupFlag}].concat(at("subtable",C.subtables,S)))}))}we.CHARSTRING=function(x){if(Ye){var F=Ye.get(x);if(void 0!==F)return F}for(var z=[],C=x.length,S=0;S<C;S+=1){var q=x[S];z=z.concat(we[q.type](q.value))}return Ye&&Ye.set(x,z),z},Re.CHARSTRING=function(x){return we.CHARSTRING(x).length},we.OBJECT=function(x){var F=we[x.type];return ie.argument(void 0!==F,"No encoding function for type "+x.type),F(x.value)},Re.OBJECT=function(x){var F=Re[x.type];return ie.argument(void 0!==F,"No sizeOf function for type "+x.type),F(x.value)},we.TABLE=function(x){for(var F=[],C=x.fields.length,S=[],q=[],z=0;z<C;z+=1){var ae=x.fields[z],Oe=(ie.argument(void 0!==(qe=we[ae.type]),"No encoding function for field type "+ae.type+" ("+ae.name+")"),x[ae.name]),qe=qe(Oe=void 0===Oe?ae.value:Oe);"TABLE"===ae.type?(q.push(F.length),F=F.concat([0,0]),S.push(qe)):F=F.concat(qe)}for(var et=0;et<S.length;et+=1){var _t=q[et],Pt=F.length;ie.argument(Pt<65536,"Table "+x.tableName+" too big."),F[_t]=Pt>>8,F[_t+1]=255&Pt,F=F.concat(S[et])}return F},Re.TABLE=function(x){for(var F=0,C=x.fields.length,S=0;S<C;S+=1){var q=x.fields[S],z=Re[q.type],ae=(ie.argument(void 0!==z,"No sizeOf function for field type "+q.type+" ("+q.name+")"),x[q.name]);F+=z(ae=void 0===ae?q.value:ae),"TABLE"===q.type&&(F+=2)}return F},we.RECORD=we.TABLE,Re.RECORD=Re.TABLE,we.LITERAL=function(x){return x},Re.LITERAL=function(x){return x.length},Ne.prototype.encode=function(){return we.TABLE(this)},Ne.prototype.sizeOf=function(){return Re.TABLE(this)};var Ct={Table:Ne,Record:Ne,Coverage:(lt.prototype=Object.create(Ne.prototype)).constructor=lt,ScriptList:(nt.prototype=Object.create(Ne.prototype)).constructor=nt,FeatureList:(St.prototype=Object.create(Ne.prototype)).constructor=St,LookupList:(Wt.prototype=Object.create(Ne.prototype)).constructor=Wt,ushortList:Ke,tableList:at,recordList:yt};function rn(x,F){return x.getUint8(F)}function cn(x,F){return x.getUint16(F,!1)}function Ht(x,F){return x.getUint32(F,!1)}function dn(x,F){return x.getInt16(F,!1)+x.getUint16(F+2,!1)/65535}var tn={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function dt(x,F){this.data=x,this.offset=F,this.relativeOffset=0}dt.prototype.parseByte=function(){var x=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},dt.prototype.parseChar=function(){var x=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},dt.prototype.parseCard8=dt.prototype.parseByte,dt.prototype.parseCard16=dt.prototype.parseUShort=function(){var x=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},dt.prototype.parseSID=dt.prototype.parseUShort,dt.prototype.parseOffset16=dt.prototype.parseUShort,dt.prototype.parseShort=function(){var x=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},dt.prototype.parseF2Dot14=function(){var x=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,x},dt.prototype.parseOffset32=dt.prototype.parseULong=function(){var x=Ht(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},dt.prototype.parseFixed=function(){var x=dn(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},dt.prototype.parseString=function(x){var F=this.data,C=this.offset+this.relativeOffset,S="";this.relativeOffset+=x;for(var q=0;q<x;q++)S+=String.fromCharCode(F.getUint8(C+q));return S},dt.prototype.parseTag=function(){return this.parseString(4)},dt.prototype.parseLongDateTime=function(){var x=Ht(this.data,this.offset+this.relativeOffset+4);return x-=2082844800,this.relativeOffset+=8,x},dt.prototype.parseVersion=function(x){var F=cn(this.data,this.offset+this.relativeOffset),C=cn(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,F+C/(x=void 0===x?4096:x)/10},dt.prototype.skip=function(x,F){this.relativeOffset+=tn[x]*(F=void 0===F?1:F)},dt.prototype.parseULongList=function(x){void 0===x&&(x=this.parseULong());for(var F=new Array(x),C=this.data,S=this.offset+this.relativeOffset,q=0;q<x;q++)F[q]=C.getUint32(S),S+=4;return this.relativeOffset+=4*x,F},dt.prototype.parseOffset16List=dt.prototype.parseUShortList=function(x){void 0===x&&(x=this.parseUShort());for(var F=new Array(x),C=this.data,S=this.offset+this.relativeOffset,q=0;q<x;q++)F[q]=C.getUint16(S),S+=2;return this.relativeOffset+=2*x,F},dt.prototype.parseShortList=function(x){for(var F=new Array(x),C=this.data,S=this.offset+this.relativeOffset,q=0;q<x;q++)F[q]=C.getInt16(S),S+=2;return this.relativeOffset+=2*x,F},dt.prototype.parseByteList=function(x){for(var F=new Array(x),C=this.data,S=this.offset+this.relativeOffset,q=0;q<x;q++)F[q]=C.getUint8(S++);return this.relativeOffset+=x,F},dt.prototype.parseList=function(x,F){F||(F=x,x=this.parseUShort());for(var C=new Array(x),S=0;S<x;S++)C[S]=F.call(this);return C},dt.prototype.parseList32=function(x,F){F||(F=x,x=this.parseULong());for(var C=new Array(x),S=0;S<x;S++)C[S]=F.call(this);return C},dt.prototype.parseRecordList=function(x,F){F||(F=x,x=this.parseUShort());for(var C=new Array(x),S=Object.keys(F),q=0;q<x;q++){for(var z={},ae=0;ae<S.length;ae++){var Oe=S[ae];z[Oe]=F[Oe].call(this)}C[q]=z}return C},dt.prototype.parseRecordList32=function(x,F){F||(F=x,x=this.parseULong());for(var C=new Array(x),S=Object.keys(F),q=0;q<x;q++){for(var z={},ae=0;ae<S.length;ae++){var Oe=S[ae];z[Oe]=F[Oe].call(this)}C[q]=z}return C},dt.prototype.parseStruct=function(x){if("function"==typeof x)return x.call(this);for(var F=Object.keys(x),C={},S=0;S<F.length;S++){var q=F[S];C[q]=x[q].call(this)}return C},dt.prototype.parseValueRecord=function(x){var F;if(0!==(x=void 0===x?this.parseUShort():x))return F={},1&x&&(F.xPlacement=this.parseShort()),2&x&&(F.yPlacement=this.parseShort()),4&x&&(F.xAdvance=this.parseShort()),8&x&&(F.yAdvance=this.parseShort()),16&x&&(F.xPlaDevice=void 0,this.parseShort()),32&x&&(F.yPlaDevice=void 0,this.parseShort()),64&x&&(F.xAdvDevice=void 0,this.parseShort()),128&x&&(F.yAdvDevice=void 0,this.parseShort()),F},dt.prototype.parseValueRecordList=function(){for(var x=this.parseUShort(),F=this.parseUShort(),C=new Array(F),S=0;S<F;S++)C[S]=this.parseValueRecord(x);return C},dt.prototype.parsePointer=function(x){var F=this.parseOffset16();if(0<F)return new dt(this.data,this.offset+F).parseStruct(x)},dt.prototype.parsePointer32=function(x){var F=this.parseOffset32();if(0<F)return new dt(this.data,this.offset+F).parseStruct(x)},dt.prototype.parseListOfLists=function(x){for(var F=this.parseOffset16List(),C=F.length,S=this.relativeOffset,q=new Array(C),z=0;z<C;z++){var ae=F[z];if(0===ae)q[z]=void 0;else if(this.relativeOffset=ae,x){for(var Oe=this.parseOffset16List(),qe=new Array(Oe.length),et=0;et<Oe.length;et++)this.relativeOffset=ae+Oe[et],qe[et]=x.call(this);q[z]=qe}else q[z]=this.parseUShortList()}return this.relativeOffset=S,q},dt.prototype.parseCoverage=function(){var x=this.offset+this.relativeOffset,F=this.parseUShort(),C=this.parseUShort();if(1===F)return{format:1,glyphs:this.parseUShortList(C)};if(2!==F)throw new Error("0x"+x.toString(16)+": Coverage format must be 1 or 2.");for(var S=new Array(C),q=0;q<C;q++)S[q]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:S}},dt.prototype.parseClassDef=function(){var x=this.offset+this.relativeOffset,F=this.parseUShort();if(1===F)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===F)return{format:2,ranges:this.parseRecordList({start:dt.uShort,end:dt.uShort,classId:dt.uShort})};throw new Error("0x"+x.toString(16)+": ClassDef format must be 1 or 2.")},dt.list=function(x,F){return function(){return this.parseList(x,F)}},dt.list32=function(x,F){return function(){return this.parseList32(x,F)}},dt.recordList=function(x,F){return function(){return this.parseRecordList(x,F)}},dt.recordList32=function(x,F){return function(){return this.parseRecordList32(x,F)}},dt.pointer=function(x){return function(){return this.parsePointer(x)}},dt.pointer32=function(x){return function(){return this.parsePointer32(x)}},dt.tag=dt.prototype.parseTag,dt.byte=dt.prototype.parseByte,dt.uShort=dt.offset16=dt.prototype.parseUShort,dt.uShortList=dt.prototype.parseUShortList,dt.uLong=dt.offset32=dt.prototype.parseULong,dt.uLongList=dt.prototype.parseULongList,dt.struct=dt.prototype.parseStruct,dt.coverage=dt.prototype.parseCoverage,dt.classDef=dt.prototype.parseClassDef;var Ut={reserved:dt.uShort,reqFeatureIndex:dt.uShort,featureIndexes:dt.uShortList},wt=(dt.prototype.parseScriptList=function(){return this.parsePointer(dt.recordList({tag:dt.tag,script:dt.pointer({defaultLangSys:dt.pointer(Ut),langSysRecords:dt.recordList({tag:dt.tag,langSys:dt.pointer(Ut)})})}))||[]},dt.prototype.parseFeatureList=function(){return this.parsePointer(dt.recordList({tag:dt.tag,feature:dt.pointer({featureParams:dt.offset16,lookupListIndexes:dt.uShortList})}))||[]},dt.prototype.parseLookupList=function(x){return this.parsePointer(dt.list(dt.pointer(function(){var F=this.parseUShort(),C=(ie.argument(1<=F&&F<=9,"GPOS/GSUB lookup type "+F+" unknown."),this.parseUShort()),S=16&C;return{lookupType:F,lookupFlag:C,subtables:this.parseList(dt.pointer(x[F])),markFilteringSet:S?this.parseUShort():void 0}})))||[]},dt.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var x=this.parseUShort(),F=this.parseUShort();return ie.argument(1===x&&F<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:dt.offset32,featureTableSubstitutionOffset:dt.offset32})})||[]},{getByte:rn,getCard8:rn,getUShort:cn,getCard16:cn,getShort:function(x,F){return x.getInt16(F,!1)},getULong:Ht,getFixed:dn,getTag:function(x,F){for(var C="",S=F;S<F+4;S+=1)C+=String.fromCharCode(x.getInt8(S));return C},getOffset:function(x,F,C){for(var S=0,q=0;q<C;q+=1)S=(S<<=8)+x.getUint8(F+q);return S},getBytes:function(x,F,C){for(var S=[],q=F;q<C;q+=1)S.push(x.getUint8(q));return S},bytesToString:function(x){for(var F="",C=0;C<x.length;C+=1)F+=String.fromCharCode(x[C]);return F},Parser:dt}),Pe_parse=function(x,F){for(var C={},S=(C.version=wt.getUShort(x,F),ie.argument(0===C.version,"cmap table version should be 0."),C.numTables=wt.getUShort(x,F+2),-1),q=C.numTables-1;0<=q;--q){var z=wt.getUShort(x,F+4+8*q),ae=wt.getUShort(x,F+4+8*q+2);if(3===z&&(0===ae||1===ae||10===ae)||0===z&&(0===ae||1===ae||2===ae||3===ae||4===ae)){S=wt.getULong(x,F+4+8*q+4);break}}if(-1===S)throw new Error("No valid cmap sub-tables found.");var Oe=new wt.Parser(x,F+S);if(C.format=Oe.parseUShort(),12===C.format){var qe,et=C,_t=Oe;_t.parseUShort(),et.length=_t.parseULong(),et.language=_t.parseULong(),et.groupCount=qe=_t.parseULong(),et.glyphIndexMap={};for(var Pt=0;Pt<qe;Pt+=1)for(var Tt=_t.parseULong(),ct=_t.parseULong(),on=_t.parseULong(),$t=Tt;$t<=ct;$t+=1)et.glyphIndexMap[$t]=on,on++}else{if(4!==C.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+C.format+").");var zt=C,Lt=x,Ft=F,Fn=S;zt.length=Oe.parseUShort(),zt.language=Oe.parseUShort(),zt.segCount=Pn=Oe.parseUShort()>>1,Oe.skip("uShort",3),zt.glyphIndexMap={};for(var Pn,kn=new wt.Parser(Lt,Ft+Fn+14),Tn=new wt.Parser(Lt,Ft+Fn+16+2*Pn),zn=new wt.Parser(Lt,Ft+Fn+16+4*Pn),xr=new wt.Parser(Lt,Ft+Fn+16+6*Pn),Nr=Ft+Fn+16+8*Pn,zr=0;zr<Pn-1;zr+=1)for(var Wr=void 0,so=kn.parseUShort(),ho=Tn.parseUShort(),hr=zn.parseShort(),Mr=xr.parseUShort(),cr=ho;cr<=so;cr+=1)0!==Mr?(Nr=(Nr=xr.offset+xr.relativeOffset-2)+Mr+2*(cr-ho),0!==(Wr=wt.getUShort(Lt,Nr))&&(Wr=Wr+hr&65535)):Wr=cr+hr&65535,zt.glyphIndexMap[cr]=Wr}return C},Pe_make=function(x){for(var F=!0,C=x.length-1;0<C;--C)if(65535<x.get(C).unicode){console.log("Adding CMAP format 12 (needed!)"),F=!1;break}var S,q,z=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:F?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:F?12:20}],ae=(z=(z=F?z:z.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ct.Table("cmap",z));for(ae.segments=[],C=0;C<x.length;C+=1){for(var Oe=x.get(C),qe=0;qe<Oe.unicodes.length;qe+=1)ae.segments.push({end:S=Oe.unicodes[qe],start:S,delta:-(S-(q=C)),offset:0,glyphIndex:q});ae.segments=ae.segments.sort(function(Ft,Fn){return Ft.start-Fn.start})}ae.segments.push({end:65535,start:65535,delta:1,offset:0});var et=ae.segments.length,_t=0,Pt=[],Tt=[],ct=[],on=[],$t=[],zt=[];for(C=0;C<et;C+=1){var Lt=ae.segments[C];Lt.end<=65535&&Lt.start<=65535?(Pt=Pt.concat({name:"end_"+C,type:"USHORT",value:Lt.end}),Tt=Tt.concat({name:"start_"+C,type:"USHORT",value:Lt.start}),ct=ct.concat({name:"idDelta_"+C,type:"SHORT",value:Lt.delta}),on=on.concat({name:"idRangeOffset_"+C,type:"USHORT",value:Lt.offset}),void 0!==Lt.glyphId&&($t=$t.concat({name:"glyph_"+C,type:"USHORT",value:Lt.glyphId}))):_t+=1,F||void 0===Lt.glyphIndex||(zt=(zt=(zt=zt.concat({name:"cmap12Start_"+C,type:"ULONG",value:Lt.start})).concat({name:"cmap12End_"+C,type:"ULONG",value:Lt.end})).concat({name:"cmap12Glyph_"+C,type:"ULONG",value:Lt.glyphIndex}))}return ae.segCountX2=2*(et-_t),ae.searchRange=2*Math.pow(2,Math.floor(Math.log(et-_t)/Math.log(2))),ae.entrySelector=Math.log(ae.searchRange/2)/Math.log(2),ae.rangeShift=ae.segCountX2-ae.searchRange,ae.fields=ae.fields.concat(Pt),ae.fields.push({name:"reservedPad",type:"USHORT",value:0}),ae.fields=ae.fields.concat(Tt),ae.fields=ae.fields.concat(ct),ae.fields=ae.fields.concat(on),ae.fields=ae.fields.concat($t),ae.cmap4Length=14+2*Pt.length+2+2*Tt.length+2*ct.length+2*on.length+2*$t.length,F||(z=16+4*zt.length,ae.cmap12Offset=20+ae.cmap4Length,ae.fields=ae.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:z},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:zt.length/3}]),ae.fields=ae.fields.concat(zt)),ae},Ue=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ae=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ze=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],mt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Dt(x){this.font=x}function ut(x){this.cmap=x}function xt(x,F){this.encoding=x,this.charset=F}function jt(x){switch(x.version){case 1:this.names=mt.slice();break;case 2:this.names=new Array(x.numberOfGlyphs);for(var F=0;F<x.numberOfGlyphs;F++)this.names[F]=x.glyphNameIndex[F]<mt.length?mt[x.glyphNameIndex[F]]:x.names[x.glyphNameIndex[F]-mt.length];break;case 2.5:this.names=new Array(x.numberOfGlyphs);for(var C=0;C<x.numberOfGlyphs;C++)this.names[C]=mt[C+x.glyphNameIndex[C]];break;default:this.names=[]}}Dt.prototype.charToGlyphIndex=function(x){var F=x.codePointAt(0),C=this.font.glyphs;if(C)for(var S=0;S<C.length;S+=1)for(var q=C.get(S),z=0;z<q.unicodes.length;z+=1)if(q.unicodes[z]===F)return S;return null},ut.prototype.charToGlyphIndex=function(x){return this.cmap.glyphIndexMap[x.codePointAt(0)]||0},xt.prototype.charToGlyphIndex=function(x){return x=x.codePointAt(0),this.charset.indexOf(x=this.encoding[x])},jt.prototype.nameToGlyphIndex=function(x){return this.names.indexOf(x)},jt.prototype.glyphIndexToName=function(x){return this.names[x]};var At_line=function(x,F,C,S,q){x.beginPath(),x.moveTo(F,C),x.lineTo(S,q),x.stroke()};function Jt(x){this.bindConstructorValues(x)}function gn(x,F,C){Object.defineProperty(x,F,{get:function(){return x[C]},set:function(S){x[C]=S},enumerable:!0,configurable:!0})}function _n(x,F){if(this.font=x,this.glyphs={},Array.isArray(F))for(var C=0;C<F.length;C++)this.glyphs[C]=F[C];this.length=F&&F.length||0}Jt.prototype.bindConstructorValues=function(x){var F;this.index=x.index||0,this.name=x.name||null,this.unicode=x.unicode||void 0,this.unicodes=x.unicodes||void 0!==x.unicode?[x.unicode]:[],x.xMin&&(this.xMin=x.xMin),x.yMin&&(this.yMin=x.yMin),x.xMax&&(this.xMax=x.xMax),x.yMax&&(this.yMax=x.yMax),x.advanceWidth&&(this.advanceWidth=x.advanceWidth),Object.defineProperty(this,"path",(F=(x=x.path)||new fe,{configurable:!0,get:function(){return F="function"==typeof F?F():F},set:function(C){F=C}}))},Jt.prototype.addUnicode=function(x){0===this.unicodes.length&&(this.unicode=x),this.unicodes.push(x)},Jt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Jt.prototype.getPath=function(x,F,C,S,q){x=void 0!==x?x:0,F=void 0!==F?F:0,C=void 0!==C?C:72;for(var z,ae,Oe=(S=S||{}).xScale,qe=S.yScale,et=((z=S.hinting&&q&&q.hinting?this.path&&q.hinting.exec(this,C):z)?(ae=q.hinting.getCommands(z),x=Math.round(x),F=Math.round(F),Oe=qe=1):(ae=this.path.commands,S=1/this.path.unitsPerEm*C,void 0===Oe&&(Oe=S),void 0===qe&&(qe=S)),new fe),_t=0;_t<ae.length;_t+=1){var Pt=ae[_t];"M"===Pt.type?et.moveTo(x+Pt.x*Oe,F+-Pt.y*qe):"L"===Pt.type?et.lineTo(x+Pt.x*Oe,F+-Pt.y*qe):"Q"===Pt.type?et.quadraticCurveTo(x+Pt.x1*Oe,F+-Pt.y1*qe,x+Pt.x*Oe,F+-Pt.y*qe):"C"===Pt.type?et.curveTo(x+Pt.x1*Oe,F+-Pt.y1*qe,x+Pt.x2*Oe,F+-Pt.y2*qe,x+Pt.x*Oe,F+-Pt.y*qe):"Z"===Pt.type&&et.closePath()}return et},Jt.prototype.getContours=function(){if(void 0===this.points)return[];for(var x=[],F=[],C=0;C<this.points.length;C+=1){var S=this.points[C];F.push(S),S.lastPointOfContour&&(x.push(F),F=[])}return ie.argument(0===F.length,"There are still points left in the current contour."),x},Jt.prototype.getMetrics=function(){for(var x=this.path.commands,F=[],C=[],S=0;S<x.length;S+=1){var q=x[S];"Z"!==q.type&&(F.push(q.x),C.push(q.y)),"Q"!==q.type&&"C"!==q.type||(F.push(q.x1),C.push(q.y1)),"C"===q.type&&(F.push(q.x2),C.push(q.y2))}var z={xMin:Math.min.apply(null,F),yMin:Math.min.apply(null,C),xMax:Math.max.apply(null,F),yMax:Math.max.apply(null,C),leftSideBearing:this.leftSideBearing};return isFinite(z.xMin)||(z.xMin=0),isFinite(z.xMax)||(z.xMax=this.advanceWidth),isFinite(z.yMin)||(z.yMin=0),isFinite(z.yMax)||(z.yMax=0),z.rightSideBearing=this.advanceWidth-z.leftSideBearing-(z.xMax-z.xMin),z},Jt.prototype.draw=function(x,F,C,S,q){this.getPath(F,C,S,q).draw(x)},Jt.prototype.drawPoints=function(x,F,C,S){function q(_t,Pt,Tt,ct){var on=2*Math.PI;x.beginPath();for(var $t=0;$t<_t.length;$t+=1)x.moveTo(Pt+_t[$t].x*ct,Tt+_t[$t].y*ct),x.arc(Pt+_t[$t].x*ct,Tt+_t[$t].y*ct,2,0,on,!1);x.closePath(),x.fill()}F=void 0!==F?F:0,C=void 0!==C?C:0,S=1/this.path.unitsPerEm*(S=void 0!==S?S:24);for(var z=[],ae=[],Oe=this.path,qe=0;qe<Oe.commands.length;qe+=1){var et=Oe.commands[qe];void 0!==et.x&&z.push({x:et.x,y:-et.y}),void 0!==et.x1&&ae.push({x:et.x1,y:-et.y1}),void 0!==et.x2&&ae.push({x:et.x2,y:-et.y2})}x.fillStyle="blue",q(z,F,C,S),x.fillStyle="red",q(ae,F,C,S)},Jt.prototype.drawMetrics=function(x,F,C,S){F=void 0!==F?F:0,C=void 0!==C?C:0,S=1/this.path.unitsPerEm*(S=void 0!==S?S:24),x.lineWidth=1,x.strokeStyle="black",At_line(x,F,-1e4,F,1e4),At_line(x,-1e4,C,1e4,C);var q=this.xMin||0,z=this.yMin||0,ae=this.xMax||0,Oe=this.yMax||0,qe=this.advanceWidth||0;x.strokeStyle="blue",At_line(x,F+q*S,-1e4,F+q*S,1e4),At_line(x,F+ae*S,-1e4,F+ae*S,1e4),At_line(x,-1e4,C+-z*S,1e4,C+-z*S),At_line(x,-1e4,C+-Oe*S,1e4,C+-Oe*S),x.strokeStyle="green",At_line(x,F+qe*S,-1e4,F+qe*S,1e4)},_n.prototype.get=function(x){return"function"==typeof this.glyphs[x]&&(this.glyphs[x]=this.glyphs[x]()),this.glyphs[x]},_n.prototype.push=function(x,F){this.glyphs[x]=F,this.length++};var fn={GlyphSet:_n,glyphLoader:function(x,F){return new Jt({index:F,font:x})},ttfGlyphLoader:function(x,F,C,S,q,z){return function(){var ae=new Jt({index:F,font:x});return ae.path=function(){C(ae,S,q);var Oe=z(x.glyphs,ae);return Oe.unitsPerEm=x.unitsPerEm,Oe},gn(ae,"xMin","_xMin"),gn(ae,"xMax","_xMax"),gn(ae,"yMin","_yMin"),gn(ae,"yMax","_yMax"),ae}},cffGlyphLoader:function(x,F,C,S){return function(){var q=new Jt({index:F,font:x});return q.path=function(){var z=C(x,q,S);return z.unitsPerEm=x.unitsPerEm,z},q}}};function Mn(x){return x.length<1240?107:x.length<33900?1131:32768}function bt(x,F,C){var S,q=[],z=[],ae=wt.getCard16(x,F);if(0!==ae){for(var Oe=wt.getByte(x,F+2),qe=F+(ae+1)*Oe+2,et=F+3,_t=0;_t<ae+1;_t+=1)q.push(wt.getOffset(x,et,Oe)),et+=Oe;S=qe+q[ae]}else S=F+2;for(var Pt=0;Pt<q.length-1;Pt+=1){var Tt=wt.getBytes(x,qe+q[Pt],qe+q[Pt+1]);C&&(Tt=C(Tt)),z.push(Tt)}return{objects:z,startOffset:F,endOffset:S}}function ht(x,F){if(28===F)return x.parseByte()<<8|x.parseByte();if(29===F)return x.parseByte()<<24|x.parseByte()<<16|x.parseByte()<<8|x.parseByte();if(30===F){for(var C=x,S="",q=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var z=(ae=C.parseByte())>>4,ae=15&ae;if(15==z||(S+=q[z],15==ae))break;S+=q[ae]}return parseFloat(S)}if(32<=F&&F<=246)return F-139;if(247<=F&&F<=250)return 256*(F-247)+x.parseByte()+108;if(251<=F&&F<=254)return 256*-(F-251)-x.parseByte()-108;throw new Error("Invalid b0 "+F)}function Nt(x,F,C){var S=new wt.Parser(x,F=void 0!==F?F:0),q=[],z=[];for(C=void 0!==C?C:x.length;S.relativeOffset<C;){var ae=S.parseByte();ae<=21?(12===ae&&(ae=1200+S.parseByte()),q.push([ae,z]),z=[]):z.push(ht(S,ae))}for(var Oe=q,qe={},et=0;et<Oe.length;et+=1){var Tt,_t=Oe[et][0],Pt=Oe[et][1];if(Tt=1===Pt.length?Pt[0]:Pt,qe.hasOwnProperty(_t)&&!isNaN(qe[_t]))throw new Error("Object "+qe+" already has key "+_t);qe[_t]=Tt}return qe}function gt(x,F){return F<=390?Ue[F]:x[F-391]}function Mt(x,F,C){for(var S,q={},z=0;z<F.length;z+=1){var ae=F[z];if(Array.isArray(ae.type)){var Oe=[];Oe.length=ae.type.length;for(var qe=0;qe<ae.type.length;qe++)void 0===(S=void 0!==x[ae.op]?x[ae.op][qe]:void 0)&&(S=void 0!==ae.value&&void 0!==ae.value[qe]?ae.value[qe]:null),"SID"===ae.type[qe]&&(S=gt(C,S)),Oe[qe]=S;q[ae.name]=Oe}else void 0===(S=x[ae.op])&&(S=void 0!==ae.value?ae.value:null),"SID"===ae.type&&(S=gt(C,S)),q[ae.name]=S}return q}var Xt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],sn=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function In(x,F,C,S){return Mt(Nt(x,F,C),sn,S)}function En(x,F,C,S){for(var q=[],z=0;z<C.length;z+=1){var ae,Oe=((Oe=S,ae=Mt(Nt(ae=new DataView(new Uint8Array(C[z]).buffer),0,ae.byteLength),Xt,Oe))._subrs=[],ae._subrsBias=0,ae.private[0]),qe=ae.private[1];0!==Oe&&0!==qe&&(Oe=In(x,qe+F,Oe,S),ae._defaultWidthX=Oe.defaultWidthX,ae._nominalWidthX=Oe.nominalWidthX,0!==Oe.subrs&&(qe=bt(x,qe+Oe.subrs+F),ae._subrs=qe.objects,ae._subrsBias=Mn(ae._subrs)),ae._privateDict=Oe),q.push(ae)}return q}function Bn(x,F,C){var S,q,z,ae,Oe,qe,et,_t,Pt,Tt=new fe,ct=[],on=0,$t=!1,zt=!1,Lt=0,Ft=0,Fn=(Pt=(x.isCIDFont?(Oe=x.tables.cff.topDict._fdSelect[F.index],Oe=x.tables.cff.topDict._fdArray[Oe],qe=Oe._subrs,et=Oe._subrsBias,_t=Oe._defaultWidthX,Oe):(qe=x.tables.cff.topDict._subrs,et=x.tables.cff.topDict._subrsBias,_t=x.tables.cff.topDict._defaultWidthX,x.tables.cff.topDict))._nominalWidthX,_t);function Pn(Tn,zn){zt&&Tt.closePath(),Tt.moveTo(Tn,zn),zt=!0}function kn(){ct.length%2==0||$t||(Fn=ct.shift()+Pt),on+=ct.length>>1,ct.length=0,$t=!0}return function Tn(zn){for(var xr,Nr,zr,Wr,so,ho,hr,Mr,cr,io,Er,Ar,pr=0;pr<zn.length;){var Zr=zn[pr];switch(pr+=1,Zr){case 1:case 3:case 18:case 23:kn();break;case 4:1<ct.length&&!$t&&(Fn=ct.shift()+Pt,$t=!0),Ft+=ct.pop(),Pn(Lt,Ft);break;case 5:for(;0<ct.length;)Lt+=ct.shift(),Ft+=ct.shift(),Tt.lineTo(Lt,Ft);break;case 6:for(;0<ct.length&&(Lt+=ct.shift(),Tt.lineTo(Lt,Ft),0!==ct.length);)Ft+=ct.shift(),Tt.lineTo(Lt,Ft);break;case 7:for(;0<ct.length&&(Ft+=ct.shift(),Tt.lineTo(Lt,Ft),0!==ct.length);)Lt+=ct.shift(),Tt.lineTo(Lt,Ft);break;case 8:for(;0<ct.length;)S=Lt+ct.shift(),q=Ft+ct.shift(),z=S+ct.shift(),ae=q+ct.shift(),Lt=z+ct.shift(),Ft=ae+ct.shift(),Tt.curveTo(S,q,z,ae,Lt,Ft);break;case 10:so=ct.pop()+et,(ho=qe[so])&&Tn(ho);break;case 11:return;case 12:switch(Zr=zn[pr],pr+=1,Zr){case 35:S=Lt+ct.shift(),q=Ft+ct.shift(),z=S+ct.shift(),ae=q+ct.shift(),hr=z+ct.shift(),Mr=ae+ct.shift(),cr=hr+ct.shift(),io=Mr+ct.shift(),Er=cr+ct.shift(),Ar=io+ct.shift(),Lt=Er+ct.shift(),Ft=Ar+ct.shift(),ct.shift(),Tt.curveTo(S,q,z,ae,hr,Mr),Tt.curveTo(cr,io,Er,Ar,Lt,Ft);break;case 34:S=Lt+ct.shift(),q=Ft,z=S+ct.shift(),ae=q+ct.shift(),hr=z+ct.shift(),Mr=ae,cr=hr+ct.shift(),io=ae,Er=cr+ct.shift(),Ar=Ft,Lt=Er+ct.shift(),Tt.curveTo(S,q,z,ae,hr,Mr),Tt.curveTo(cr,io,Er,Ar,Lt,Ft);break;case 36:S=Lt+ct.shift(),q=Ft+ct.shift(),z=S+ct.shift(),ae=q+ct.shift(),hr=z+ct.shift(),Mr=ae,cr=hr+ct.shift(),io=ae,Er=cr+ct.shift(),Ar=io+ct.shift(),Lt=Er+ct.shift(),Tt.curveTo(S,q,z,ae,hr,Mr),Tt.curveTo(cr,io,Er,Ar,Lt,Ft);break;case 37:S=Lt+ct.shift(),q=Ft+ct.shift(),z=S+ct.shift(),ae=q+ct.shift(),hr=z+ct.shift(),Mr=ae+ct.shift(),cr=hr+ct.shift(),io=Mr+ct.shift(),Er=cr+ct.shift(),Ar=io+ct.shift(),Math.abs(Er-Lt)>Math.abs(Ar-Ft)?Lt=Er+ct.shift():Ft=Ar+ct.shift(),Tt.curveTo(S,q,z,ae,hr,Mr),Tt.curveTo(cr,io,Er,Ar,Lt,Ft);break;default:console.log("Glyph "+F.index+": unknown operator 1200"+Zr),ct.length=0}break;case 14:0<ct.length&&!$t&&(Fn=ct.shift()+Pt,$t=!0),zt&&(Tt.closePath(),zt=!1);break;case 19:case 20:kn(),pr+=on+7>>3;break;case 21:2<ct.length&&!$t&&(Fn=ct.shift()+Pt,$t=!0),Ft+=ct.pop(),Pn(Lt+=ct.pop(),Ft);break;case 22:1<ct.length&&!$t&&(Fn=ct.shift()+Pt,$t=!0),Pn(Lt+=ct.pop(),Ft);break;case 24:for(;2<ct.length;)S=Lt+ct.shift(),q=Ft+ct.shift(),z=S+ct.shift(),ae=q+ct.shift(),Lt=z+ct.shift(),Ft=ae+ct.shift(),Tt.curveTo(S,q,z,ae,Lt,Ft);Lt+=ct.shift(),Ft+=ct.shift(),Tt.lineTo(Lt,Ft);break;case 25:for(;6<ct.length;)Lt+=ct.shift(),Ft+=ct.shift(),Tt.lineTo(Lt,Ft);S=Lt+ct.shift(),q=Ft+ct.shift(),z=S+ct.shift(),ae=q+ct.shift(),Lt=z+ct.shift(),Ft=ae+ct.shift(),Tt.curveTo(S,q,z,ae,Lt,Ft);break;case 26:for(ct.length%2&&(Lt+=ct.shift());0<ct.length;)S=Lt,q=Ft+ct.shift(),z=S+ct.shift(),ae=q+ct.shift(),Lt=z,Ft=ae+ct.shift(),Tt.curveTo(S,q,z,ae,Lt,Ft);break;case 27:for(ct.length%2&&(Ft+=ct.shift());0<ct.length;)S=Lt+ct.shift(),q=Ft,z=S+ct.shift(),ae=q+ct.shift(),Lt=z+ct.shift(),Tt.curveTo(S,q,z,ae,Lt,Ft=ae);break;case 28:ct.push(((xr=zn[pr])<<24|(Nr=zn[pr+1])<<16)>>16),pr+=2;break;case 29:so=ct.pop()+x.gsubrsBias,(ho=x.gsubrs[so])&&Tn(ho);break;case 30:for(;0<ct.length&&(S=Lt,q=Ft+ct.shift(),z=S+ct.shift(),ae=q+ct.shift(),Lt=z+ct.shift(),Ft=ae+(1===ct.length?ct.shift():0),Tt.curveTo(S,q,z,ae,Lt,Ft),0!==ct.length);)S=Lt+ct.shift(),q=Ft,z=S+ct.shift(),ae=q+ct.shift(),Ft=ae+ct.shift(),Lt=z+(1===ct.length?ct.shift():0),Tt.curveTo(S,q,z,ae,Lt,Ft);break;case 31:for(;0<ct.length&&(S=Lt+ct.shift(),q=Ft,z=S+ct.shift(),ae=q+ct.shift(),Ft=ae+ct.shift(),Lt=z+(1===ct.length?ct.shift():0),Tt.curveTo(S,q,z,ae,Lt,Ft),0!==ct.length);)S=Lt,q=Ft+ct.shift(),z=S+ct.shift(),ae=q+ct.shift(),Lt=z+ct.shift(),Ft=ae+(1===ct.length?ct.shift():0),Tt.curveTo(S,q,z,ae,Lt,Ft);break;default:Zr<32?console.log("Glyph "+F.index+": unknown operator "+Zr):Zr<247?ct.push(Zr-139):Zr<251?(xr=zn[pr],pr+=1,ct.push(256*(Zr-247)+xr+108)):Zr<255?(xr=zn[pr],pr+=1,ct.push(256*-(Zr-251)-xr-108)):(xr=zn[pr],Nr=zn[pr+1],zr=zn[pr+2],Wr=zn[pr+3],pr+=4,ct.push((xr<<24|Nr<<16|zr<<8|Wr)/65536))}}}(C),F.advanceWidth=Fn,Tt}function ee(x,F){var C,S=Ue.indexOf(x);return 0<=S&&(C=S),0<=(S=F.indexOf(x))?C=S+Ue.length:(C=Ue.length+F.length,F.push(x)),C}function _e(x,F,C){for(var S={},q=0;q<x.length;q+=1){var z=x[q],ae=F[z.name];void 0===ae||function Oe(qe,et){if(qe===et)return 1;if(Array.isArray(qe)&&Array.isArray(et)&&qe.length===et.length){for(var _t=0;_t<qe.length;_t+=1)if(!Oe(qe[_t],et[_t]))return;return 1}}(ae,z.value)||("SID"===z.type&&(ae=ee(ae,C)),S[z.op]={name:z.name,type:z.type,value:ae})}return S}function Se(x,F){var C=new Ct.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return C.dict=_e(Xt,x,F),C}function B(x){var F=new Ct.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return F.topDicts=[{name:"topDict_0",type:"TABLE",value:x}],F}var W_parse=function(x,F,C){C.tables.cff={},(q={}).formatMajor=wt.getCard8(Oe=x,S=F),q.formatMinor=wt.getCard8(Oe,S+1),q.size=wt.getCard8(Oe,S+2),q.offsetSize=wt.getCard8(Oe,S+3),q.startOffset=S,q.endOffset=S+4;var Oe=bt(x,q.endOffset,wt.bytesToString),S=bt(x,Oe.endOffset),q=bt(x,S.endOffset,wt.bytesToString);if(Oe=bt(x,q.endOffset),C.gsubrs=Oe.objects,C.gsubrsBias=Mn(C.gsubrs),1!==(Oe=En(x,F,S.objects,q.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Oe.length);if((C.tables.cff.topDict=S=Oe[0])._privateDict&&(C.defaultWidthX=S._privateDict.defaultWidthX,C.nominalWidthX=S._privateDict.nominalWidthX),void 0!==S.ros[0]&&void 0!==S.ros[1]&&(C.isCIDFont=!0),C.isCIDFont){var z=S.fdSelect;if(0===(Oe=S.fdArray)||0===z)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Oe=En(x,F,bt(x,Oe+=F).objects,q.objects),S._fdArray=Oe,S._fdSelect=function(Tt,ct,on,$t){var zt,Lt=[],Ft=new wt.Parser(Tt,ct);if(0===(Tt=Ft.parseCard8()))for(var Fn=0;Fn<on;Fn++){if($t<=(zt=Ft.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+zt+" (FD count "+$t+")");Lt.push(zt)}else{if(3!==Tt)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Tt);var Pn,kn=Ft.parseCard16(),Tn=Ft.parseCard16();if(0!==Tn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Tn);for(var zn=0;zn<kn;zn++){if(zt=Ft.parseCard8(),Pn=Ft.parseCard16(),$t<=zt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+zt+" (FD count "+$t+")");if(on<Pn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Pn);for(;Tn<Pn;Tn++)Lt.push(zt);Tn=Pn}if(Pn!==on)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Pn)}return Lt}(x,z+=F,C.numGlyphs,Oe.length)}Oe=In(x,z=F+S.private[1],S.private[0],q.objects);var ae=(C.defaultWidthX=Oe.defaultWidthX,C.nominalWidthX=Oe.nominalWidthX,0!==Oe.subrs?(z=bt(x,z+Oe.subrs),C.subrs=z.objects,C.subrsBias=Mn(C.subrs)):(C.subrs=[],C.subrsBias=0),bt(x,F+S.charStrings));C.nGlyphs=ae.objects.length,Oe=function(_t,Pt,Tt,ct){var on=new wt.Parser(_t,Pt),$t=(--Tt,[".notdef"]);if(0===(_t=on.parseCard8()))for(var zt=0;zt<Tt;zt+=1)Lt=on.parseSID(),$t.push(gt(ct,Lt));else if(1===_t)for(;$t.length<=Tt;)for(var Lt=on.parseSID(),Ft=on.parseCard8(),Fn=0;Fn<=Ft;Fn+=1)$t.push(gt(ct,Lt)),Lt+=1;else{if(2!==_t)throw new Error("Unknown charset format "+_t);for(;$t.length<=Tt;){Lt=on.parseSID(),Ft=on.parseCard16();for(var Pn=0;Pn<=Ft;Pn+=1)$t.push(gt(ct,Lt)),Lt+=1}}return $t}(x,F+S.charset,C.nGlyphs,q.objects),C.cffEncoding=0===S.encoding?new xt(Ae,Oe):1===S.encoding?new xt(ze,Oe):function(_t,Pt,Tt){var ct={},on=new wt.Parser(_t,Pt);if(0===(_t=on.parseCard8()))for(var $t=on.parseCard8(),zt=0;zt<$t;zt+=1)ct[Ft=on.parseCard8()]=zt;else{if(1!==_t)throw new Error("Unknown encoding format "+_t);for(var Lt=on.parseCard8(),Ft=1,Fn=0;Fn<Lt;Fn+=1)for(var Pn=on.parseCard8(),kn=on.parseCard8(),Tn=Pn;Tn<=Pn+kn;Tn+=1)ct[Tn]=Ft,Ft+=1}return new xt(ct,Tt)}(x,F+S.encoding,Oe),C.encoding=C.encoding||C.cffEncoding,C.glyphs=new fn.GlyphSet(C);for(var qe=0;qe<C.nGlyphs;qe+=1)C.glyphs.push(qe,fn.cffGlyphLoader(C,qe,Bn,ae.objects[qe]))},W_make=function(x,_t){for(var C,S=new Ct.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),q={version:_t.version,fullName:_t.fullName,familyName:_t.familyName,weight:_t.weightName,fontBBox:_t.fontBBox||[0,0,0,0],fontMatrix:[q=1/_t.unitsPerEm,0,0,q,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},z=[],ae=1;ae<x.length;ae+=1)C=x.get(ae),z.push(C.name);var Oe,qe,et=[],Pt=(S.header=new Ct.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),S.nameIndex=function(Tt){var ct=new Ct.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);ct.names=[];for(var on=0;on<Tt.length;on+=1)ct.names.push({name:"name_"+on,type:"NAME",value:Tt[on]});return ct}([_t.postScriptName]),_t=Se(q,et),S.topDictIndex=B(_t),S.globalSubrIndex=new Ct.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),S.charsets=function(Tt,ct){for(var on=new Ct.Record("Charsets",[{name:"format",type:"Card8",value:0}]),$t=0;$t<Tt.length;$t+=1){var zt=ee(Tt[$t],ct);on.fields.push({name:"glyph_"+$t,type:"SID",value:zt})}return on}(z,et),S.charStringsIndex=function Y(x){for(var F=new Ct.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),C=0;C<x.length;C+=1){var S=x.get(C),q=function(z){for(var ae=[],Oe=z.path,qe=(ae.push({name:"width",type:"NUMBER",value:z.advanceWidth}),0),et=0,_t=0;_t<Oe.commands.length;_t+=1){var Pt,Tt,ct,on,$t=void 0,zt=void 0,Lt=Oe.commands[_t];"M"===(Lt="Q"===Lt.type?{type:"C",x:Lt.x,y:Lt.y,x1:1/3*qe+2/3*Lt.x1,y1:1/3*et+2/3*Lt.y1,x2:1/3*Lt.x+2/3*Lt.x1,y2:1/3*Lt.y+2/3*Lt.y1}:Lt).type?($t=Math.round(Lt.x-qe),zt=Math.round(Lt.y-et),ae.push({name:"dx",type:"NUMBER",value:$t}),ae.push({name:"dy",type:"NUMBER",value:zt}),ae.push({name:"rmoveto",type:"OP",value:21}),qe=Math.round(Lt.x),et=Math.round(Lt.y)):"L"===Lt.type?($t=Math.round(Lt.x-qe),zt=Math.round(Lt.y-et),ae.push({name:"dx",type:"NUMBER",value:$t}),ae.push({name:"dy",type:"NUMBER",value:zt}),ae.push({name:"rlineto",type:"OP",value:5}),qe=Math.round(Lt.x),et=Math.round(Lt.y)):"C"===Lt.type&&(Pt=Math.round(Lt.x1-qe),Tt=Math.round(Lt.y1-et),ct=Math.round(Lt.x2-Lt.x1),on=Math.round(Lt.y2-Lt.y1),$t=Math.round(Lt.x-Lt.x2),zt=Math.round(Lt.y-Lt.y2),ae.push({name:"dx1",type:"NUMBER",value:Pt}),ae.push({name:"dy1",type:"NUMBER",value:Tt}),ae.push({name:"dx2",type:"NUMBER",value:ct}),ae.push({name:"dy2",type:"NUMBER",value:on}),ae.push({name:"dx",type:"NUMBER",value:$t}),ae.push({name:"dy",type:"NUMBER",value:zt}),ae.push({name:"rrcurveto",type:"OP",value:8}),qe=Math.round(Lt.x),et=Math.round(Lt.y))}return ae.push({name:"endchar",type:"OP",value:14}),ae}(S);F.charStrings.push({name:S.name,type:"CHARSTRING",value:q})}return F}(x),S.privateDict=(Pt={},Oe=et,(qe=new Ct.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=_e(sn,Pt,Oe),qe),S.stringIndex=function(Tt){var ct=new Ct.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);ct.strings=[];for(var on=0;on<Tt.length;on+=1)ct.strings.push({name:"string_"+on,type:"STRING",value:Tt[on]});return ct}(et),S.header.sizeOf()+S.nameIndex.sizeOf()+S.topDictIndex.sizeOf()+S.stringIndex.sizeOf()+S.globalSubrIndex.sizeOf());return q.charset=Pt,q.encoding=0,q.charStrings=q.charset+S.charsets.sizeOf(),q.private[1]=q.charStrings+S.charStringsIndex.sizeOf(),_t=Se(q,et),S.topDictIndex=B(_t),S},de_parse=function(S,F){var C={};return S=new wt.Parser(S,F),C.version=S.parseVersion(),C.fontRevision=Math.round(1e3*S.parseFixed())/1e3,C.checkSumAdjustment=S.parseULong(),C.magicNumber=S.parseULong(),ie.argument(1594834165===C.magicNumber,"Font header has wrong magic number."),C.flags=S.parseUShort(),C.unitsPerEm=S.parseUShort(),C.created=S.parseLongDateTime(),C.modified=S.parseLongDateTime(),C.xMin=S.parseShort(),C.yMin=S.parseShort(),C.xMax=S.parseShort(),C.yMax=S.parseShort(),C.macStyle=S.parseUShort(),C.lowestRecPPEM=S.parseUShort(),C.fontDirectionHint=S.parseShort(),C.indexToLocFormat=S.parseShort(),C.glyphDataFormat=S.parseShort(),C},de_make=function(x){var F=Math.round((new Date).getTime()/1e3)+2082844800,C=F;return x.createdTimestamp&&(C=x.createdTimestamp+2082844800),new Ct.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:C},{name:"modified",type:"LONGDATETIME",value:F},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],x)},ne_parse=function(S,F){var C={};return S=new wt.Parser(S,F),C.version=S.parseVersion(),C.ascender=S.parseShort(),C.descender=S.parseShort(),C.lineGap=S.parseShort(),C.advanceWidthMax=S.parseUShort(),C.minLeftSideBearing=S.parseShort(),C.minRightSideBearing=S.parseShort(),C.xMaxExtent=S.parseShort(),C.caretSlopeRise=S.parseShort(),C.caretSlopeRun=S.parseShort(),C.caretOffset=S.parseShort(),S.relativeOffset+=8,C.metricDataFormat=S.parseShort(),C.numberOfHMetrics=S.parseUShort(),C},ne_make=function(x){return new Ct.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],x)},te_parse=function(x,F,C,S,q){for(var z,ae,Oe=new wt.Parser(x,F),qe=0;qe<S;qe+=1){qe<C&&(z=Oe.parseUShort(),ae=Oe.parseShort());var et=q.get(qe);et.advanceWidth=z,et.leftSideBearing=ae}},te_make=function(x){for(var F=new Ct.Table("hmtx",[]),C=0;C<x.length;C+=1){var S=(q=x.get(C)).advanceWidth||0,q=q.leftSideBearing||0;F.fields.push({name:"advanceWidth_"+C,type:"USHORT",value:S}),F.fields.push({name:"leftSideBearing_"+C,type:"SHORT",value:q})}return F},ge_make=function(x){for(var F=new Ct.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:x.length}]),C="",S=12+4*x.length,q=0;q<x.length;++q){var z=C.indexOf(x[q]);z<0&&(z=C.length,C+=x[q]),F.fields.push({name:"offset "+q,type:"USHORT",value:S+z}),F.fields.push({name:"length "+q,type:"USHORT",value:x[q].length})}return F.fields.push({name:"stringPool",type:"CHARARRAY",value:C}),F},ge_parse=function(x,F){for(var C=new wt.Parser(x,F),S=C.parseULong(),q=(ie.argument(1===S,"Unsupported ltag table version."),C.skip("uLong",1),C.parseULong()),z=[],ae=0;ae<q;ae++){for(var Oe="",qe=F+C.parseUShort(),et=C.parseUShort(),_t=qe;_t<qe+et;++_t)Oe+=String.fromCharCode(x.getInt8(_t));z.push(Oe)}return z},ke_parse=function(S,F){var C={};return S=new wt.Parser(S,F),C.version=S.parseVersion(),C.numGlyphs=S.parseUShort(),1===C.version&&(C.maxPoints=S.parseUShort(),C.maxContours=S.parseUShort(),C.maxCompositePoints=S.parseUShort(),C.maxCompositeContours=S.parseUShort(),C.maxZones=S.parseUShort(),C.maxTwilightPoints=S.parseUShort(),C.maxStorage=S.parseUShort(),C.maxFunctionDefs=S.parseUShort(),C.maxInstructionDefs=S.parseUShort(),C.maxStackElements=S.parseUShort(),C.maxSizeOfInstructions=S.parseUShort(),C.maxComponentElements=S.parseUShort(),C.maxComponentDepth=S.parseUShort()),C},ke_make=function(x){return new Ct.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:x}])},Xe=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],tt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ot={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Gt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Cn="utf-16",Yt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},An={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Xn(x,F,C){switch(x){case 0:return Cn;case 1:return An[C]||Yt[F];case 3:if(1===F||10===F)return Cn}}function tr(x){var F,C={};for(F in x)C[x[F]]=parseInt(F);return C}function ir(x,F,C,S,q,z){return new Ct.Record("NameRecord",[{name:"platformID",type:"USHORT",value:x},{name:"encodingID",type:"USHORT",value:F},{name:"languageID",type:"USHORT",value:C},{name:"nameID",type:"USHORT",value:S},{name:"length",type:"USHORT",value:q},{name:"offset",type:"USHORT",value:z}])}function Cr(x,F){if((C=function(z,ae){var Oe=z.length,qe=ae.length-Oe+1;e:for(var et=0;et<qe;et++)for(;et<qe;et++){for(var _t=0;_t<Oe;_t++)if(ae[et+_t]!==z[_t])continue e;return et}return-1}(x,F))<0)for(var C=F.length,S=0,q=x.length;S<q;++S)F.push(x[S]);return C}var gr_parse=function(x,F,C){for(var S={},q=new wt.Parser(x,F),z=(F=q.parseUShort(),q.parseUShort()),ae=q.offset+q.parseUShort(),Oe=0;Oe<z;Oe++){var on=q.parseUShort(),qe=q.parseUShort(),et=q.parseUShort(),_t=q.parseUShort(),Pt=(_t=Xe[_t]||_t,q.parseUShort()),Tt=q.parseUShort(),ct=function(zt,Lt,Ft){switch(zt){case 0:if(65535===Lt)return"und";if(Ft)return Ft[Lt];break;case 1:return tt[Lt];case 3:return Gt[Lt]}}(on,et,C);void 0!==(on=Xn(on,qe,et))&&void 0!==ct&&(qe=void 0,(qe=on===Cn?pe.UTF16(x,ae+Tt,Pt):pe.MACSTRING(x,ae+Tt,Pt,on))&&((et=void 0===(et=S[_t])?S[_t]={}:et)[ct]=qe))}return 1===F&&q.parseUShort(),S},gr_make=function(x,F){var C,S=[],q={},z=tr(Xe);for(C in x){var ae=z[C];if(void 0===ae&&(ae=C),Tt=parseInt(ae),isNaN(Tt))throw new Error('Name table entry "'+C+'" does not exist, see nameTableNames for complete list.');q[Tt]=x[C],S.push(Tt)}for(var Oe=tr(tt),qe=tr(Gt),et=[],_t=[],Pt=0;Pt<S.length;Pt++){var Tt,ct,on=q[Tt=S[Pt]];for(ct in on){var Pn,$t=on[ct],zt=Oe[ct],Lt=Ot[zt],Ft=Xn(Pn=1,Lt,zt),Fn=(void 0===(Ft=we.MACSTRING($t,Ft))&&(Pn=0,(zt=F.indexOf(ct))<0&&(zt=F.length,F.push(ct)),Lt=4,Ft=we.UTF16($t)),Cr(Ft,_t));void 0!==(et.push(ir(Pn,Lt,zt,Tt,Ft.length,Fn)),Pn=qe[ct])&&(zt=Cr(Lt=we.UTF16($t),_t),et.push(ir(3,1,Pn,Tt,Lt.length,zt)))}}et.sort(function(zn,xr){return zn.platformID-xr.platformID||zn.encodingID-xr.encodingID||zn.languageID-xr.languageID||zn.nameID-xr.nameID});for(var kn=new Ct.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:et.length},{name:"stringOffset",type:"USHORT",value:6+12*et.length}]),Tn=0;Tn<et.length;Tn++)kn.fields.push({name:"record_"+Tn,type:"RECORD",value:et[Tn]});return kn.fields.push({name:"strings",type:"LITERAL",value:_t}),kn},Or=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],yr_parse=function(x,F){var C={},S=new wt.Parser(x,F);C.version=S.parseUShort(),C.xAvgCharWidth=S.parseShort(),C.usWeightClass=S.parseUShort(),C.usWidthClass=S.parseUShort(),C.fsType=S.parseUShort(),C.ySubscriptXSize=S.parseShort(),C.ySubscriptYSize=S.parseShort(),C.ySubscriptXOffset=S.parseShort(),C.ySubscriptYOffset=S.parseShort(),C.ySuperscriptXSize=S.parseShort(),C.ySuperscriptYSize=S.parseShort(),C.ySuperscriptXOffset=S.parseShort(),C.ySuperscriptYOffset=S.parseShort(),C.yStrikeoutSize=S.parseShort(),C.yStrikeoutPosition=S.parseShort(),C.sFamilyClass=S.parseShort(),C.panose=[];for(var q=0;q<10;q++)C.panose[q]=S.parseByte();return C.ulUnicodeRange1=S.parseULong(),C.ulUnicodeRange2=S.parseULong(),C.ulUnicodeRange3=S.parseULong(),C.ulUnicodeRange4=S.parseULong(),C.achVendID=String.fromCharCode(S.parseByte(),S.parseByte(),S.parseByte(),S.parseByte()),C.fsSelection=S.parseUShort(),C.usFirstCharIndex=S.parseUShort(),C.usLastCharIndex=S.parseUShort(),C.sTypoAscender=S.parseShort(),C.sTypoDescender=S.parseShort(),C.sTypoLineGap=S.parseShort(),C.usWinAscent=S.parseUShort(),C.usWinDescent=S.parseUShort(),1<=C.version&&(C.ulCodePageRange1=S.parseULong(),C.ulCodePageRange2=S.parseULong()),2<=C.version&&(C.sxHeight=S.parseShort(),C.sCapHeight=S.parseShort(),C.usDefaultChar=S.parseUShort(),C.usBreakChar=S.parseUShort(),C.usMaxContent=S.parseUShort()),C},yr_make=function(x){return new Ct.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],x)},yr_getUnicodeRange=function(x){for(var F=0;F<Or.length;F+=1){var C=Or[F];if(x>=C.begin&&x<C.end)return F}return-1},Gr_parse=function(x,F){var C={},S=new wt.Parser(x,F);switch(C.version=S.parseVersion(),C.italicAngle=S.parseFixed(),C.underlinePosition=S.parseShort(),C.underlineThickness=S.parseShort(),C.isFixedPitch=S.parseULong(),C.minMemType42=S.parseULong(),C.maxMemType42=S.parseULong(),C.minMemType1=S.parseULong(),C.maxMemType1=S.parseULong(),C.version){case 1:C.names=mt.slice();break;case 2:C.numberOfGlyphs=S.parseUShort(),C.glyphNameIndex=new Array(C.numberOfGlyphs);for(var q=0;q<C.numberOfGlyphs;q++)C.glyphNameIndex[q]=S.parseUShort();C.names=[];for(var z,ae=0;ae<C.numberOfGlyphs;ae++)C.glyphNameIndex[ae]>=mt.length&&(z=S.parseChar(),C.names.push(S.parseString(z)));break;case 2.5:C.numberOfGlyphs=S.parseUShort(),C.offset=new Array(C.numberOfGlyphs);for(var Oe=0;Oe<C.numberOfGlyphs;Oe++)C.offset[Oe]=S.parseChar()}return C},Gr_make=function(){return new Ct.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},Ir=new Array(9),Lr=(Ir[1]=function(){var x=this.offset+this.relativeOffset,F=this.parseUShort();return 1===F?{substFormat:1,coverage:this.parsePointer(dt.coverage),deltaGlyphId:this.parseUShort()}:2===F?{substFormat:2,coverage:this.parsePointer(dt.coverage),substitute:this.parseOffset16List()}:void ie.assert(!1,"0x"+x.toString(16)+": lookup type 1 format must be 1 or 2.")},Ir[2]=function(){var x=this.parseUShort();return ie.argument(1===x,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(dt.coverage),sequences:this.parseListOfLists()}},Ir[3]=function(){var x=this.parseUShort();return ie.argument(1===x,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(dt.coverage),alternateSets:this.parseListOfLists()}},Ir[4]=function(){var x=this.parseUShort();return ie.argument(1===x,"GSUB ligature table identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(dt.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:dt.uShort,lookupListIndex:dt.uShort});Ir[5]=function(){var x,F,C=this.offset+this.relativeOffset,S=this.parseUShort();return 1===S?{substFormat:S,coverage:this.parsePointer(dt.coverage),ruleSets:this.parseListOfLists(function(){var q=this.parseUShort(),z=this.parseUShort();return{input:this.parseUShortList(q-1),lookupRecords:this.parseRecordList(z,Lr)}})}:2===S?{substFormat:S,coverage:this.parsePointer(dt.coverage),classDef:this.parsePointer(dt.classDef),classSets:this.parseListOfLists(function(){var q=this.parseUShort(),z=this.parseUShort();return{classes:this.parseUShortList(q-1),lookupRecords:this.parseRecordList(z,Lr)}})}:3===S?(x=this.parseUShort(),F=this.parseUShort(),{substFormat:S,coverages:this.parseList(x,dt.pointer(dt.coverage)),lookupRecords:this.parseRecordList(F,Lr)}):void ie.assert(!1,"0x"+C.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Ir[6]=function(){var x=this.offset+this.relativeOffset,F=this.parseUShort();return 1===F?{substFormat:1,coverage:this.parsePointer(dt.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Lr)}})}:2===F?{substFormat:2,coverage:this.parsePointer(dt.coverage),backtrackClassDef:this.parsePointer(dt.classDef),inputClassDef:this.parsePointer(dt.classDef),lookaheadClassDef:this.parsePointer(dt.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Lr)}})}:3===F?{substFormat:3,backtrackCoverage:this.parseList(dt.pointer(dt.coverage)),inputCoverage:this.parseList(dt.pointer(dt.coverage)),lookaheadCoverage:this.parseList(dt.pointer(dt.coverage)),lookupRecords:this.parseRecordList(Lr)}:void ie.assert(!1,"0x"+x.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Ir[7]=function(){var x=this.parseUShort(),F=(ie.argument(1===x,"GSUB Extension Substitution subtable identifier-format must be 1"),x=this.parseUShort(),new dt(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:x,extension:Ir[x].call(F)}},Ir[8]=function(){var x=this.parseUShort();return ie.argument(1===x,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(dt.coverage),backtrackCoverage:this.parseList(dt.pointer(dt.coverage)),lookaheadCoverage:this.parseList(dt.pointer(dt.coverage)),substitutes:this.parseUShortList()}};var Sr=new Array(9);Sr[1]=function(x){return new Ct.Table("substitutionTable",1===x.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(x.coverage)},{name:"deltaGlyphID",type:"USHORT",value:x.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ct.Coverage(x.coverage)}].concat(Ct.ushortList("substitute",x.substitute)))},Sr[3]=function(x){return ie.assert(1===x.substFormat,"Lookup type 3 substFormat must be 1."),new Ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(x.coverage)}].concat(Ct.tableList("altSet",x.alternateSets,function(F){return new Ct.Table("alternateSetTable",Ct.ushortList("alternate",F))})))},Sr[4]=function(x){return ie.assert(1===x.substFormat,"Lookup type 4 substFormat must be 1."),new Ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(x.coverage)}].concat(Ct.tableList("ligSet",x.ligatureSets,function(F){return new Ct.Table("ligatureSetTable",Ct.tableList("ligature",F,function(C){return new Ct.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:C.ligGlyph}].concat(Ct.ushortList("component",C.components,C.components.length+1)))}))})))};var Fr_parse=function(x,F){return F=(x=new dt(x,F=F||0)).parseVersion(1),ie.argument(1===F||1.1===F,"Unsupported GSUB table version."),1===F?{version:F,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Ir)}:{version:F,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Ir),variations:x.parseFeatureVariationsList()}},Fr_make=function(x){return new Ct.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ct.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new Ct.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new Ct.LookupList(x.lookups,Sr)}])},He_parse=function(x,F){for(var C=new wt.Parser(x,F),S=C.parseULong(),q=(ie.argument(1===S,"Unsupported META table version."),C.parseULong(),C.parseULong(),C.parseULong()),z={},ae=0;ae<q;ae++){var Oe=C.parseTag(),et=C.parseULong(),qe=C.parseULong();et=pe.UTF8(x,F+et,qe),z[Oe]=et}return z},He_make=function(x){var F,C=Object.keys(x).length,S="",q=16+12*C,z=new Ct.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:q},{name:"numTags",type:"ULONG",value:C}]);for(F in x){var ae=S.length;S+=x[F],z.fields.push({name:"tag "+F,type:"TAG",value:F}),z.fields.push({name:"offset "+F,type:"ULONG",value:q+ae}),z.fields.push({name:"length "+F,type:"ULONG",value:x[F].length})}return z.fields.push({name:"stringPool",type:"CHARARRAY",value:S}),z};function Be(x){return Math.log(x)/Math.log(2)|0}function ot(x){for(;x.length%4!=0;)x.push(0);for(var F=0,C=0;C<x.length;C+=4)F+=(x[C]<<24)+(x[C+1]<<16)+(x[C+2]<<8)+x[C+3];return F%Math.pow(2,32)}function ft(x,F,C,S){return new Ct.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==x?x:""},{name:"checkSum",type:"ULONG",value:void 0!==F?F:0},{name:"offset",type:"ULONG",value:void 0!==C?C:0},{name:"length",type:"ULONG",value:void 0!==S?S:0}])}function Bt(x){for(var F=new Ct.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),C=(F.tables=x,F.numTables=x.length,Math.pow(2,Be(F.numTables))),S=(F.searchRange=16*C,F.entrySelector=Be(C),F.rangeShift=16*F.numTables-F.searchRange,[]),q=[],z=F.sizeOf()+ft().sizeOf()*F.numTables;z%4!=0;)z+=1,q.push({name:"padding",type:"BYTE",value:0});for(var ae=0;ae<x.length;ae+=1){var Oe=x[ae],qe=(ie.argument(4===Oe.tableName.length,"Table name"+Oe.tableName+" is invalid."),Oe.sizeOf()),et=ft(Oe.tableName,ot(Oe.encode()),z,qe);for(S.push({name:et.tag+" Table Record",type:"RECORD",value:et}),q.push({name:Oe.tableName+" table",type:"RECORD",value:Oe}),z+=qe,ie.argument(!isNaN(z),"Something went wrong calculating the offset.");z%4!=0;)z+=1,q.push({name:"padding",type:"BYTE",value:0})}return S.sort(function(_t,Pt){return _t.value.tag>Pt.value.tag?1:-1}),F.fields=F.fields.concat(S),F.fields=F.fields.concat(q),F}function kt(x,F,C){for(var S=0;S<F.length;S+=1){var q=x.charToGlyphIndex(F[S]);if(0<q)return x.glyphs.get(q).getMetrics()}return C}var qt_fontToTable=function(x){for(var F,C=[],S=[],q=[],z=[],ae=[],Oe=[],qe=[],et=0,_t=0,Pt=0,Tt=0,ct=0,on=0;on<x.glyphs.length;on+=1){var $t=x.glyphs.get(on),zt=0|$t.unicode;if(isNaN($t.advanceWidth))throw new Error("Glyph "+$t.name+" ("+on+"): advanceWidth is not a number.");if((zt<F||void 0===F)&&0<zt&&(F=zt),et<zt&&(et=zt),(zt=yr_getUnicodeRange(zt))<32)_t|=1<<zt;else if(zt<64)Pt|=1<<zt-32;else if(zt<96)Tt|=1<<zt-64;else{if(!(zt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ct|=1<<zt-96}".notdef"!==$t.name&&(zt=$t.getMetrics(),C.push(zt.xMin),S.push(zt.yMin),q.push(zt.xMax),z.push(zt.yMax),Oe.push(zt.leftSideBearing),qe.push(zt.rightSideBearing),ae.push($t.advanceWidth))}var Lt,Ft={xMin:Math.min.apply(null,C),yMin:Math.min.apply(null,S),xMax:Math.max.apply(null,q),yMax:Math.max.apply(null,z),advanceWidthMax:Math.max.apply(null,ae),advanceWidthAvg:function(Zr){for(var js=0,_s=0;_s<Zr.length;_s+=1)js+=Zr[_s];return js/Zr.length}(ae),minLeftSideBearing:Math.min.apply(null,Oe),maxLeftSideBearing:Math.max.apply(null,Oe),minRightSideBearing:Math.min.apply(null,qe)},Fn=(Ft.ascender=x.ascender,Ft.descender=x.descender,de_make({flags:3,unitsPerEm:x.unitsPerEm,xMin:Ft.xMin,yMin:Ft.yMin,xMax:Ft.xMax,yMax:Ft.yMax,lowestRecPPEM:3,createdTimestamp:x.createdTimestamp})),Pn=ne_make({ascender:Ft.ascender,descender:Ft.descender,advanceWidthMax:Ft.advanceWidthMax,minLeftSideBearing:Ft.minLeftSideBearing,minRightSideBearing:Ft.minRightSideBearing,xMaxExtent:Ft.maxLeftSideBearing+(Ft.xMax-Ft.xMin),numberOfHMetrics:x.glyphs.length}),kn=ke_make(x.glyphs.length),Tn=yr_make({xAvgCharWidth:Math.round(Ft.advanceWidthAvg),usWeightClass:x.tables.os2.usWeightClass,usWidthClass:x.tables.os2.usWidthClass,usFirstCharIndex:F,usLastCharIndex:et,ulUnicodeRange1:_t,ulUnicodeRange2:Pt,ulUnicodeRange3:Tt,ulUnicodeRange4:ct,fsSelection:x.tables.os2.fsSelection,sTypoAscender:Ft.ascender,sTypoDescender:Ft.descender,sTypoLineGap:0,usWinAscent:Ft.yMax,usWinDescent:Math.abs(Ft.yMin),ulCodePageRange1:1,sxHeight:kt(x,"xyvw",{yMax:Math.round(Ft.ascender/2)}).yMax,sCapHeight:kt(x,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ft).yMax,usDefaultChar:x.hasChar(" ")?32:0,usBreakChar:x.hasChar(" ")?32:0}),zn=te_make(x.glyphs),xr=Pe_make(x.glyphs),hr=(Mr=x.getEnglishName("fontFamily"))+" "+(cr=x.getEnglishName("fontSubfamily")),Nr=(Nr=x.getEnglishName("postScriptName"))||Mr.replace(/\s/g,"")+"-"+cr,zr={};for(Lt in x.names)zr[Lt]=x.names[Lt];zr.uniqueID||(zr.uniqueID={en:x.getEnglishName("manufacturer")+":"+hr}),zr.postScriptName||(zr.postScriptName={en:Nr}),zr.preferredFamily||(zr.preferredFamily=x.names.fontFamily),zr.preferredSubfamily||(zr.preferredSubfamily=x.names.fontSubfamily);var Wr=gr_make(zr,so=[]),so=0<so.length?ge_make(so):void 0,ho=Gr_make(),Mr=(hr=W_make(x.glyphs,{version:x.getEnglishName("version"),fullName:hr,familyName:Mr,weightName:cr,postScriptName:Nr,unitsPerEm:x.unitsPerEm,fontBBox:[0,Ft.yMin,Ft.ascender,Ft.advanceWidthMax]}),x.metas&&0<Object.keys(x.metas).length?He_make(x.metas):void 0),cr=[Fn,Pn,kn,Tn,Wr,xr,ho,hr,zn];so&&cr.push(so),x.tables.gsub&&cr.push(Fr_make(x.tables.gsub)),Mr&&cr.push(Mr);for(var io=ot((Nr=Bt(cr)).encode()),Er=Nr.fields,Ar=!1,pr=0;pr<Er.length;pr+=1)if("head table"===Er[pr].name){Er[pr].value.checkSumAdjustment=2981146554-io,Ar=!0;break}if(Ar)return Nr;throw new Error("Could not find head table with checkSum to adjust.")};function ln(x,F){for(var C=0,S=x.length-1;C<=S;){var q=C+S>>>1,z=x[q].tag;if(z===F)return q;z<F?C=1+q:S=q-1}return-C-1}function Kt(x,F){for(var C=0,S=x.length-1;C<=S;){var q=C+S>>>1,z=x[q];if(z===F)return q;z<F?C=1+q:S=q-1}return-C-1}function an(x,F){for(var C=0,S=x.length-1;C<=S;){var q,z=C+S>>>1,ae=(q=x[z]).start;if(ae===F)return q;ae<F?C=1+z:S=z-1}if(0<C)return F>(q=x[C-1]).end?0:q}function bn(x,F){this.font=x,this.tableName=F}function Ln(x){bn.call(this,x,"gpos")}function Rn(x){bn.call(this,x,"gsub")}function Jn(x,F,C){for(var S=x.subtables,q=0;q<S.length;q++){var z=S[q];if(z.substFormat===F)return z}if(C)return S.push(C),C}function Pr(x){for(var F=new ArrayBuffer(x.length),C=new Uint8Array(F),S=0;S<x.length;++S)C[S]=x[S];return F}function lr(x,F){if(!x)throw F}function to(x,F,C,S,q){var z=0<(F&S)?(z=x.parseByte(),C+(z=F&q?z:-z)):0<(F&q)?C:C+x.parseShort();return z}function po(x,F,C){var S,q=new wt.Parser(F,C);if(x.numberOfContours=q.parseShort(),x._xMin=q.parseShort(),x._yMin=q.parseShort(),x._xMax=q.parseShort(),x._yMax=q.parseShort(),0<x.numberOfContours){for(var z=x.endPointIndices=[],ae=0;ae<x.numberOfContours;ae+=1)z.push(q.parseUShort());x.instructionLength=q.parseUShort(),x.instructions=[];for(var Oe=0;Oe<x.instructionLength;Oe+=1)x.instructions.push(q.parseByte());for(var qe=z[z.length-1]+1,et=[],_t=0;_t<qe;_t+=1)if(S=q.parseByte(),et.push(S),0<(8&S))for(var Pt=q.parseByte(),Tt=0;Tt<Pt;Tt+=1)et.push(S),_t+=1;if(ie.argument(et.length===qe,"Bad flags."),0<z.length){var ct,on=[];if(0<qe){for(var $t=0;$t<qe;$t+=1)(ct={}).onCurve=!!(1&(S=et[$t])),ct.lastPointOfContour=0<=z.indexOf($t),on.push(ct);for(var zt=0,Lt=0;Lt<qe;Lt+=1)(ct=on[Lt]).x=to(q,S=et[Lt],zt,2,16),zt=ct.x;for(var Ft=0,Fn=0;Fn<qe;Fn+=1)(ct=on[Fn]).y=to(q,S=et[Fn],Ft,4,32),Ft=ct.y}x.points=on}else x.points=[]}else if(0===x.numberOfContours)x.points=[];else{x.isComposite=!0,x.points=[],x.components=[];for(var Pn=!0;Pn;){et=q.parseUShort();var kn={glyphIndex:q.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&et)?0<(2&et)?(kn.dx=q.parseShort(),kn.dy=q.parseShort()):kn.matchedPoints=[q.parseUShort(),q.parseUShort()]:0<(2&et)?(kn.dx=q.parseChar(),kn.dy=q.parseChar()):kn.matchedPoints=[q.parseByte(),q.parseByte()],0<(8&et)?kn.xScale=kn.yScale=q.parseF2Dot14():0<(64&et)?(kn.xScale=q.parseF2Dot14(),kn.yScale=q.parseF2Dot14()):0<(128&et)&&(kn.xScale=q.parseF2Dot14(),kn.scale01=q.parseF2Dot14(),kn.scale10=q.parseF2Dot14(),kn.yScale=q.parseF2Dot14()),x.components.push(kn),Pn=!!(32&et)}if(256&et){x.instructionLength=q.parseUShort(),x.instructions=[];for(var Tn=0;Tn<x.instructionLength;Tn+=1)x.instructions.push(q.parseByte())}}}function Yr(x,F){for(var C=[],S=0;S<x.length;S+=1){var q;C.push(q={x:F.xScale*(q=x[S]).x+F.scale01*q.y+F.dx,y:F.scale10*q.x+F.yScale*q.y+F.dy,onCurve:q.onCurve,lastPointOfContour:q.lastPointOfContour})}return C}function mo(x){var F=new fe;if(x)for(var C=function(Pt){for(var Tt=[],ct=[],on=0;on<Pt.length;on+=1){var $t=Pt[on];ct.push($t),$t.lastPointOfContour&&(Tt.push(ct),ct=[])}return ie.argument(0===ct.length,"There are still points left in the current contour."),Tt}(x),S=0;S<C.length;++S){var q,z=C[S],Oe=z[0];(ae=z[z.length-1]).onCurve?F.moveTo(ae.x,ae.y):Oe.onCurve?F.moveTo(Oe.x,Oe.y):F.moveTo((q={x:.5*(ae.x+Oe.x),y:.5*(ae.y+Oe.y)}).x,q.y);for(var qe=0;qe<z.length;++qe){var et,ae=Oe;Oe=z[(qe+1)%z.length],ae.onCurve?F.lineTo(ae.x,ae.y):(et=Oe,Oe.onCurve||(et={x:.5*(ae.x+Oe.x),y:.5*(ae.y+Oe.y)}),F.quadraticCurveTo(ae.x,ae.y,et.x,et.y))}F.closePath()}return F}function Co(x,F){if(F.isComposite)for(var C=0;C<F.components.length;C+=1){var q=x.get((S=F.components[C]).glyphIndex);if(q.getPath(),q.points){var z=void 0;if(void 0===S.matchedPoints)z=Yr(q.points,S);else{if(S.matchedPoints[0]>F.points.length-1||S.matchedPoints[1]>q.points.length-1)throw Error("Matched points out of range in "+F.name);var S,ae=F.points[S.matchedPoints[0]],Oe=Yr([Oe=q.points[S.matchedPoints[1]]],S={xScale:S.xScale,scale01:S.scale01,scale10:S.scale10,yScale:S.yScale,dx:0,dy:0})[0];S.dx=ae.x-Oe.x,S.dy=ae.y-Oe.y,z=Yr(q.points,S)}F.points=F.points.concat(z)}}return mo(F.points)}(Ln.prototype=bn.prototype={searchTag:ln,binSearch:Kt,getTable:function(x){var F=this.font.tables[this.tableName];return!F&&x?this.font.tables[this.tableName]=this.createDefaultTable():F},getScriptNames:function(){var x=this.getTable();return x?x.scripts.map(function(F){return F.tag}):[]},getDefaultScriptName:function(){var x=this.getTable();if(x){for(var F=!1,C=0;C<x.scripts.length;C++){var S=x.scripts[C].tag;if("DFLT"===S)return S;"latn"===S&&(F=!0)}return F?"latn":void 0}},getScriptTable:function(x,F){var C,S=this.getTable(F);if(S)return C=S.scripts,0<=(S=ln(S.scripts,x=x||"DFLT"))?C[S].script:F?(C.splice(-1-S,0,F={tag:x,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),F.script):void 0},getLangSysTable:function(q,F,C){var S;if(q=this.getScriptTable(q,C))return F&&"dflt"!==F&&"DFLT"!==F?0<=(S=ln(q.langSysRecords,F))?q.langSysRecords[S].langSys:C?(q.langSysRecords.splice(-1-S,0,C={tag:F,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),C.langSys):void 0:q.defaultLangSys},getFeatureTable:function(x,F,C,S){if(x=this.getLangSysTable(x,F,S)){for(var q,z=x.featureIndexes,ae=this.font.tables[this.tableName].features,Oe=0;Oe<z.length;Oe++)if((q=ae[z[Oe]]).tag===C)return q.feature;if(S)return ie.assert(0===(F=ae.length)||C>=ae[F-1].tag,"Features must be added in alphabetical order."),ae.push(q={tag:C,feature:{params:0,lookupListIndexes:[]}}),z.push(F),q.feature}},getLookupTables:function(z,F,C,S,q){var ae=[];if(z=this.getFeatureTable(z,F,C,q)){for(var Oe,qe=z.lookupListIndexes,et=this.font.tables[this.tableName].lookups,_t=0;_t<qe.length;_t++)(Oe=et[qe[_t]]).lookupType===S&&ae.push(Oe);if(0===ae.length&&q)return F=et.length,et.push(Oe={lookupType:S,lookupFlag:0,subtables:[],markFilteringSet:void 0}),qe.push(F),[Oe]}return ae},getGlyphClass:function(x,F){switch(x.format){case 1:return x.startGlyph<=F&&F<x.startGlyph+x.classes.length?x.classes[F-x.startGlyph]:0;case 2:var C=an(x.ranges,F);return C?C.classId:0}},getCoverageIndex:function(x,F){switch(x.format){case 1:var C=Kt(x.glyphs,F);return 0<=C?C:-1;case 2:return(C=an(x.ranges,F))?C.index+F-C.start:-1}},expandCoverage:function(x){if(1===x.format)return x.glyphs;for(var F=[],C=x.ranges,S=0;S<C.length;S++)for(var q=C[S],ae=q.end,Oe=q.start;Oe<=ae;Oe++)F.push(Oe);return F}}).init=function(){var x=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(x)},Ln.prototype.getKerningValue=function(x,F,C){for(var S=0;S<x.length;S++)for(var q=x[S].subtables,z=0;z<q.length;z++){var ae=q[z],Oe=this.getCoverageIndex(ae.coverage,F);if(!(Oe<0))switch(ae.posFormat){case 1:for(var qe=ae.pairSets[Oe],et=0;et<qe.length;et++){var _t=qe[et];if(_t.secondGlyph===C)return _t.value1&&_t.value1.xAdvance||0}break;case 2:var Tt=this.getGlyphClass(ae.classDef1,F),Pt=this.getGlyphClass(ae.classDef2,C);return(Tt=ae.classRecords[Tt][Pt]).value1&&Tt.value1.xAdvance||0}}return 0},Ln.prototype.getKerningTables=function(x,F){if(this.font.tables.gpos)return this.getLookupTables(x,F,"kern",2)},(Rn.prototype=bn.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Rn.prototype.getSingle=function(x,F,C){for(var S=[],q=this.getLookupTables(F,C,x,1),z=0;z<q.length;z++)for(var ae=q[z].subtables,Oe=0;Oe<ae.length;Oe++){var qe=ae[Oe],et=this.expandCoverage(qe.coverage),_t=void 0;if(1===qe.substFormat){var Pt=qe.deltaGlyphId;for(_t=0;_t<et.length;_t++){var Tt=et[_t];S.push({sub:Tt,by:Tt+Pt})}}else{var ct=qe.substitute;for(_t=0;_t<et.length;_t++)S.push({sub:et[_t],by:ct[_t]})}}return S},Rn.prototype.getAlternates=function(x,F,C){for(var S=[],q=this.getLookupTables(F,C,x,3),z=0;z<q.length;z++)for(var ae=q[z].subtables,Oe=0;Oe<ae.length;Oe++)for(var qe=ae[Oe],et=this.expandCoverage(qe.coverage),_t=qe.alternateSets,Pt=0;Pt<et.length;Pt++)S.push({sub:et[Pt],by:_t[Pt]});return S},Rn.prototype.getLigatures=function(x,F,C){for(var S=[],q=this.getLookupTables(F,C,x,4),z=0;z<q.length;z++)for(var ae=q[z].subtables,Oe=0;Oe<ae.length;Oe++)for(var qe=ae[Oe],et=this.expandCoverage(qe.coverage),_t=qe.ligatureSets,Pt=0;Pt<et.length;Pt++)for(var Tt=et[Pt],ct=_t[Pt],on=0;on<ct.length;on++){var $t=ct[on];S.push({sub:[Tt].concat($t.components),by:$t.ligGlyph})}return S},Rn.prototype.addSingle=function(x,F,C,S){C=Jn(this.getLookupTables(C,S,x,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),ie.assert(1===C.coverage.format,"Ligature: unable to modify coverage table format "+C.coverage.format),(x=this.binSearch(C.coverage.glyphs,S=F.sub))<0&&(C.coverage.glyphs.splice(x=-1-x,0,S),C.substitute.splice(x,0,0)),C.substitute[x]=F.by},Rn.prototype.addAlternate=function(x,F,C,S){C=Jn(this.getLookupTables(C,S,x,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),ie.assert(1===C.coverage.format,"Ligature: unable to modify coverage table format "+C.coverage.format),(x=this.binSearch(C.coverage.glyphs,S=F.sub))<0&&(C.coverage.glyphs.splice(x=-1-x,0,S),C.alternateSets.splice(x,0,0)),C.alternateSets[x]=F.by},Rn.prototype.addLigature=function(z,qe,Oe,q){(q=(Oe=this.getLookupTables(Oe,q,z,4,!0)[0]).subtables[0])||(Oe.subtables[0]=q={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),ie.assert(1===q.coverage.format,"Ligature: unable to modify coverage table format "+q.coverage.format),z=qe.sub[0];var ae=qe.sub.slice(1);if(Oe={ligGlyph:qe.by,components:ae},0<=(qe=this.binSearch(q.coverage.glyphs,z))){for(var et=q.ligatureSets[qe],_t=0;_t<et.length;_t++)if(function(Pt,Tt){var ct=Pt.length;if(ct===Tt.length){for(var on=0;on<ct;on++)if(Pt[on]!==Tt[on])return;return 1}}(et[_t].components,ae))return;et.push(Oe)}else q.coverage.glyphs.splice(qe=-1-qe,0,z),q.ligatureSets.splice(qe,0,[Oe])},Rn.prototype.getFeature=function(x,F,C){if(/ss\d\d/.test(x))return this.getSingle(x,F,C);switch(x){case"aalt":case"salt":return this.getSingle(x,F,C).concat(this.getAlternates(x,F,C));case"dlig":case"liga":case"rlig":return this.getLigatures(x,F,C)}},Rn.prototype.add=function(x,F,C,S){if(/ss\d\d/.test(x))return this.addSingle(x,F,C,S);switch(x){case"aalt":case"salt":return"number"==typeof F.by?this.addSingle(x,F,C,S):this.addAlternate(x,F,C,S);case"dlig":case"liga":case"rlig":return this.addLigature(x,F,C,S)}};var uo={getPath:mo,parse:function(x,F,C,S){for(var q=new fn.GlyphSet(S),z=0;z<C.length-1;z+=1){var ae=C[z];q.push(z,ae!==C[z+1]?fn.ttfGlyphLoader(S,z,po,x,F+ae,Co):fn.glyphLoader(S,z))}return q}};function Hn(x){this.font=x,this.getCommands=function(F){return uo.getPath(F).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Dr(x){return x}function vr(x){return Math.sign(x)*Math.round(Math.abs(x))}function Xr(x){return Math.sign(x)*Math.round(Math.abs(2*x))/2}function Vr(x){return Math.sign(x)*(Math.round(Math.abs(x)+.5)-.5)}function es(x){return Math.sign(x)*Math.ceil(Math.abs(x))}function Zo(x){return Math.sign(x)*Math.floor(Math.abs(x))}function no(x){var F=this.srPeriod,C=this.srPhase,S=1;return x<0&&(x=-x,S=-1),x+=this.srThreshold-C,x=Math.trunc(x/F)*F,(x+=C)<0?C*S:x*S}var $r={x:1,y:0,axis:"x",distance:function(x,F,C,S){return(C?x.xo:x.x)-(S?F.xo:F.x)},interpolate:function(x,F,C,S){var q,z,ae,Oe,qe,et,_t;if(!S||S===this)return q=x.xo-F.xo,z=x.xo-C.xo,qe=F.x-F.xo,et=C.x-C.xo,0===(_t=(ae=Math.abs(q))+(Oe=Math.abs(z)))?void(x.x=x.xo+(qe+et)/2):void(x.x=x.xo+(qe*Oe+et*ae)/_t);q=S.distance(x,F,!0,!0),z=S.distance(x,C,!0,!0),qe=S.distance(F,F,!1,!0),et=S.distance(C,C,!1,!0),0===(_t=(ae=Math.abs(q))+(Oe=Math.abs(z)))?$r.setRelative(x,x,(qe+et)/2,S,!0):$r.setRelative(x,x,(qe*Oe+et*ae)/_t,S,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(x,F,C,S,q){var z,ae;S&&S!==this?(z=q?F.xo:F.x,ae=q?F.yo:F.y,x.x=(z+=C*S.x)+(x.y-(ae+=C*S.y))/S.normalSlope):x.x=(q?F.xo:F.x)+C},slope:0,touch:function(x){x.xTouched=!0},touched:function(x){return x.xTouched},untouch:function(x){x.xTouched=!1}},go={x:0,y:1,axis:"y",distance:function(x,F,C,S){return(C?x.yo:x.y)-(S?F.yo:F.y)},interpolate:function(x,F,C,S){var q,z,ae,Oe,qe,et,_t;if(!S||S===this)return q=x.yo-F.yo,z=x.yo-C.yo,qe=F.y-F.yo,et=C.y-C.yo,0===(_t=(ae=Math.abs(q))+(Oe=Math.abs(z)))?void(x.y=x.yo+(qe+et)/2):void(x.y=x.yo+(qe*Oe+et*ae)/_t);q=S.distance(x,F,!0,!0),z=S.distance(x,C,!0,!0),qe=S.distance(F,F,!1,!0),et=S.distance(C,C,!1,!0),0===(_t=(ae=Math.abs(q))+(Oe=Math.abs(z)))?go.setRelative(x,x,(qe+et)/2,S,!0):go.setRelative(x,x,(qe*Oe+et*ae)/_t,S,!0)},normalSlope:0,setRelative:function(x,F,C,S,q){var z,ae;S&&S!==this?(z=q?F.xo:F.x,ae=q?F.yo:F.y,x.y=(ae+=C*S.y)+S.normalSlope*(x.x-(z+=C*S.x))):x.y=(q?F.yo:F.y)+C},slope:Number.POSITIVE_INFINITY,touch:function(x){x.yTouched=!0},touched:function(x){return x.yTouched},untouch:function(x){x.yTouched=!1}};function Kn(x,F){this.x=x,this.y=F,this.axis=void 0,this.slope=F/x,this.normalSlope=-x/F,Object.freeze(this)}function wn(x,F){var C=Math.sqrt(x*x+F*F);return F/=C,1==(x/=C)&&0===F?$r:0===x&&1===F?go:new Kn(x,F)}function Nn(x,F,C,S){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*F)/64,this.lastPointOfContour=C,this.onCurve=S,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze($r),Object.freeze(go),Kn.prototype.distance=function(x,F,C,S){return this.x*$r.distance(x,F,C,S)+this.y*go.distance(x,F,C,S)},Kn.prototype.interpolate=function(x,q,z,S){var ae=S.distance(x,q,!0,!0),Oe=S.distance(x,z,!0,!0),qe=(q=S.distance(q,q,!1,!0),z=S.distance(z,z,!1,!0),(ae=Math.abs(ae))+(Oe=Math.abs(Oe)));this.setRelative(x,x,0===qe?(q+z)/2:(q*Oe+z*ae)/qe,S,!0)},Kn.prototype.setRelative=function(x,z,qe,et,Oe){var ae=Oe?z.xo:z.x,_t=(Oe=Oe?z.yo:z.y,z=ae+qe*(et=et||this).x,ae=Oe+qe*et.y,Oe=et.normalSlope,x.y);x.x=((qe=this.slope)*(et=x.x)-Oe*z+ae-_t)/(qe-Oe),x.y=qe*(x.x-et)+_t},Kn.prototype.touch=function(x){x.xTouched=!0,x.yTouched=!0},Nn.prototype.nextTouched=function(x){for(var F=this.nextPointOnContour;!x.touched(F)&&F!==this;)F=F.nextPointOnContour;return F},Nn.prototype.prevTouched=function(x){for(var F=this.prevPointOnContour;!x.touched(F)&&F!==this;)F=F.prevPointOnContour;return F};var rr=Object.freeze(new Nn(0,0)),Kr={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Hr(x,F){switch(this.env=x,this.stack=[],this.prog=F,x){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=$r,this.round=vr}}function jr(x){for(var F=x.tZone=new Array(x.gZone.length),C=0;C<F.length;C++)F[C]=new Nn(0,0)}function yo(x,F){var C,S=x.prog,q=x.ip,z=1;do{if(88===(C=S[++q]))z++;else if(89===C)z--;else if(64===C)q+=S[q+1]+1;else if(65===C)q+=2*S[q+1]+1;else if(176<=C&&C<=183)q+=C-176+1;else if(184<=C&&C<=191)q+=2*(C-184+1);else if(F&&1===z&&27===C)break}while(0<z);x.ip=q}function ur(x,F){y.DEBUG&&console.log(F.step,"SVTCA["+x.axis+"]"),F.fv=F.pv=F.dpv=x}function ro(x,F){y.DEBUG&&console.log(F.step,"SPVTCA["+x.axis+"]"),F.pv=F.dpv=x}function So(x,F){y.DEBUG&&console.log(F.step,"SFVTCA["+x.axis+"]"),F.fv=x}function $n(x,F){var C,S=(q=F.stack).pop(),q=q.pop(),z=F.z2[S],ae=F.z1[q];y.DEBUG&&console.log("SPVTL["+x+"]",S,q),S=x?(C=z.y-ae.y,ae.x-z.x):(C=ae.x-z.x,ae.y-z.y),F.pv=F.dpv=wn(C,S)}function Do(x,F){var C,S=(q=F.stack).pop(),q=q.pop(),z=F.z2[S],ae=F.z1[q];y.DEBUG&&console.log("SFVTL["+x+"]",S,q),S=x?(C=z.y-ae.y,ae.x-z.x):(C=ae.x-z.x,ae.y-z.y),F.fv=wn(C,S)}function No(x){y.DEBUG&&console.log(x.step,"POP[]"),x.stack.pop()}function Ao(x,F){var C=F.stack.pop(),S=F.z0[C],q=F.fv,z=F.pv,ae=(y.DEBUG&&console.log(F.step,"MDAP["+x+"]",C),z.distance(S,rr));x&&(ae=F.round(ae)),q.setRelative(S,rr,ae,z),q.touch(S),F.rp0=F.rp1=C}function dr(x,F){var C,S,q,z=F.z2,ae=z.length-2;y.DEBUG&&console.log(F.step,"IUP["+x.axis+"]");for(var Oe=0;Oe<ae;Oe++)x.touched(C=z[Oe])||(S=C.prevTouched(x))!==C&&(S===(q=C.nextTouched(x))&&x.setRelative(C,C,x.distance(S,S,!1,!0),x,!0),x.interpolate(C,S,q,x))}function Oo(x,F){for(var C=F.stack,q=(x?F.z0:F.z1)[x?F.rp1:F.rp2],z=F.fv,ae=F.pv,Oe=F.loop,qe=F.z2;Oe--;){var et=C.pop(),_t=qe[et],Pt=ae.distance(q,q,!1,!0);z.setRelative(_t,_t,Pt,ae),z.touch(_t),y.DEBUG&&console.log(F.step,(1<F.loop?"loop "+(F.loop-Oe)+": ":"")+"SHP["+(x?"rp1":"rp2")+"]",et)}F.loop=1}function Bo(x,F){for(var S=(x?F.z0:F.z1)[x?F.rp1:F.rp2],q=F.fv,z=F.pv,ae=F.stack.pop(),Oe=F.z2[F.contours[ae]],qe=Oe,et=(y.DEBUG&&console.log(F.step,"SHC["+x+"]",ae),z.distance(S,S,!1,!0));qe!==S&&q.setRelative(qe,qe,et,z),(qe=qe.nextPointOnContour)!==Oe;);}function oo(x,F){var C,S,q=(x?F.z0:F.z1)[q=x?F.rp1:F.rp2],z=F.fv,ae=F.pv,Oe=(Oe=F.stack).pop();switch(y.DEBUG&&console.log(F.step,"SHZ["+x+"]",Oe),Oe){case 0:C=F.tZone;break;case 1:C=F.gZone;break;default:throw new Error("Invalid zone")}for(var qe=ae.distance(q,q,!1,!0),et=C.length-2,_t=0;_t<et;_t++)z.setRelative(S=C[_t],S,qe,ae)}function Qr(x,F){var C=(S=F.stack).pop()/64,S=S.pop(),q=F.z1[S],ae=F.fv;ae.setRelative(q,F.z0[F.rp0],C,F.pv),ae.touch(q),y.DEBUG&&console.log(F.step,"MSIRP["+x+"]",C,S),F.rp1=F.rp0,F.rp2=S,x&&(F.rp0=S)}function Wo(x,F){var Oe=(C=F.stack).pop(),C=C.pop(),S=F.z0[C],q=F.fv,z=F.pv,ae=F.cvt[Oe];y.DEBUG&&console.log(F.step,"MIAP["+x+"]",Oe,"(",ae,")",C),Oe=z.distance(S,rr),x&&(Math.abs(Oe-ae)<F.cvCutIn&&(Oe=ae),Oe=F.round(Oe)),q.setRelative(S,rr,Oe,z),0===F.zp0&&(S.xo=S.x,S.yo=S.y),q.touch(S),F.rp0=F.rp1=C}function Mo(x,F){var C=F.stack,S=C.pop(),q=F.z2[S];y.DEBUG&&console.log(F.step,"GC["+x+"]",S),C.push(64*F.dpv.distance(q,rr,x,!1))}function To(x,F){var C=(S=F.stack).pop(),S=S.pop(),z=F.dpv.distance(z=F.z0[S],F.z1[C],x,x);y.DEBUG&&console.log(F.step,"MD["+x+"]",C,S,"->",z),F.stack.push(Math.round(64*z))}function Po(x,F){var C=F.stack,S=C.pop(),q=F.fv,z=F.pv,ae=F.ppem,Oe=F.deltaBase+16*(x-1),qe=F.deltaShift,et=F.z0;y.DEBUG&&console.log(F.step,"DELTAP["+x+"]",S,C);for(var _t=0;_t<S;_t++){var Pt=C.pop(),Tt=C.pop();Oe+((240&Tt)>>4)===ae&&(0<=(Tt=(15&Tt)-8)&&Tt++,y.DEBUG&&console.log(F.step,"DELTAPFIX",Pt,"by",Tt*qe),q.setRelative(Pt=et[Pt],Pt,Tt*qe,z))}}function Uo(x,F){var C=F.stack,S=C.pop();y.DEBUG&&console.log(F.step,"ROUND[]"),C.push(64*F.round(S/64))}function Vn(x,F){var C=F.stack,S=C.pop(),q=F.ppem,z=F.deltaBase+16*(x-1),ae=F.deltaShift;y.DEBUG&&console.log(F.step,"DELTAC["+x+"]",S,C);for(var Oe=0;Oe<S;Oe++){var qe=C.pop(),et=C.pop();z+((240&et)>>4)===q&&(0<=(et=(15&et)-8)&&et++,et*=ae,y.DEBUG&&console.log(F.step,"DELTACFIX",qe,"by",et),F.cvt[qe]+=et)}}function ss(x,F){var C,S=(q=F.stack).pop(),q=q.pop(),z=F.z2[S],ae=F.z1[q];y.DEBUG&&console.log(F.step,"SDPVTL["+x+"]",S,q),S=x?(C=z.y-ae.y,ae.x-z.x):(C=ae.x-z.x,ae.y-z.y),F.dpv=wn(C,S)}function co(x,F){var C=F.stack,S=F.prog,q=F.ip;y.DEBUG&&console.log(F.step,"PUSHB["+x+"]");for(var z=0;z<x;z++)C.push(S[++q]);F.ip=q}function Io(x,F){var C=F.ip,S=F.prog,q=F.stack;y.DEBUG&&console.log(F.ip,"PUSHW["+x+"]");for(var z=0;z<x;z++){var ae=S[++C]<<8|S[++C];32768&ae&&(ae=-(1+(65535^ae))),q.push(ae)}F.ip=C}function Sn(x,F,C,S,q,z){var ae,Oe,_t,et=z.stack,qe=x&&et.pop(),Pt=(et=et.pop(),z.z1[et]),Tt=z.minDis,ct=z.fv,on=z.dpv,$t=ae=on.distance(Pt,_t=z.z0[_t=z.rp0],!0,!0),zt=0<=$t?1:-1;$t=Math.abs($t),x&&(Oe=z.cvt[qe],S&&Math.abs($t-Oe)<z.cvCutIn&&($t=Oe)),C&&$t<Tt&&($t=Tt),S&&($t=z.round($t)),ct.setRelative(Pt,_t,zt*$t,on),ct.touch(Pt),y.DEBUG&&console.log(z.step,(x?"MIRP[":"MDRP[")+(F?"M":"m")+(C?">":"_")+(S?"R":"_")+(0===q?"Gr":1===q?"Bl":2===q?"Wh":"")+"]",x?qe+"("+z.cvt[qe]+","+Oe+")":"",et,"(d =",ae,"->",zt*$t,")"),z.rp1=z.rp0,z.rp2=et,F&&(z.rp0=et)}Hn.prototype.exec=function(x,F){if("number"!=typeof F)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var C=this.font,S=this._prepState;if(!S||S.ppem!==F){var q=this._fpgmState;if(!q){Hr.prototype=Kr,(q=this._fpgmState=new Hr("fpgm",C.tables.fpgm)).funcs=[],q.font=C,y.DEBUG&&(console.log("---EXEC FPGM---"),q.step=-1);try{re(q)}catch(et){return console.log("Hinting error in FPGM:"+et),void(this._errorState=3)}}Hr.prototype=q,(S=this._prepState=new Hr("prep",C.tables.prep)).ppem=F;var z=C.tables.cvt;if(z)for(var ae=S.cvt=new Array(z.length),Oe=F/C.unitsPerEm,qe=0;qe<z.length;qe++)ae[qe]=z[qe]*Oe;else S.cvt=[];y.DEBUG&&(console.log("---EXEC PREP---"),S.step=-1);try{re(S)}catch(et){this._errorState<2&&console.log("Hinting error in PREP:"+et),this._errorState=2}}if(!(1<this._errorState))try{return eo(x,S)}catch(et){this._errorState<1&&(console.log("Hinting error:"+et),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var eo=function(x,F){var C=F.ppem/F.font.unitsPerEm,S=C,q=x.components;if(Hr.prototype=F,q){for(var z=F.font,ae=[],Oe=[],qe=0;qe<q.length;qe++){var et=q[qe],_t=z.glyphs.get(et.glyphIndex),Pt=new Hr("glyf",_t.instructions);y.DEBUG&&(console.log("---EXEC COMP "+qe+"---"),Pt.step=-1),ko(_t,Pt,C,S);for(var Tt=Math.round(et.dx*C),ct=Math.round(et.dy*S),on=Pt.gZone,$t=Pt.contours,zt=0;zt<on.length;zt++){var Lt=on[zt];Lt.xTouched=Lt.yTouched=!1,Lt.xo=Lt.x=Lt.x+Tt,Lt.yo=Lt.y=Lt.y+ct}var Ft=ae.length;ae.push.apply(ae,on);for(var Fn=0;Fn<$t.length;Fn++)Oe.push($t[Fn]+Ft)}x.instructions&&!Pt.inhibitGridFit&&((Pt=new Hr("glyf",x.instructions)).gZone=Pt.z0=Pt.z1=Pt.z2=ae,Pt.contours=Oe,ae.push(new Nn(0,0),new Nn(Math.round(x.advanceWidth*C),0)),y.DEBUG&&(console.log("---EXEC COMPOSITE---"),Pt.step=-1),re(Pt),ae.length-=2)}else Pt=new Hr("glyf",x.instructions),y.DEBUG&&(console.log("---EXEC GLYPH---"),Pt.step=-1),ko(x,Pt,C,S),ae=Pt.gZone;return ae},ko=function(x,F,C,S){for(var q,z,Oe=x.points||[],qe=Oe.length,et=F.gZone=F.z0=F.z1=F.z2=[],_t=F.contours=[],Pt=0;Pt<qe;Pt++)et[Pt]=new Nn((q=Oe[Pt]).x*C,q.y*S,q.lastPointOfContour,q.onCurve);for(var Tt=0;Tt<qe;Tt++)q=et[Tt],z||(z=q,_t.push(Tt)),q.lastPointOfContour?((q.nextPointOnContour=z).prevPointOnContour=q,z=void 0):(q.nextPointOnContour=et[Tt+1]).prevPointOnContour=q;if(!F.inhibitGridFit){if(y.DEBUG){console.log("PROCESSING GLYPH",F.stack);for(var ct=0;ct<qe;ct++)console.log(ct,et[ct].x,et[ct].y)}if(et.push(new Nn(0,0),new Nn(Math.round(x.advanceWidth*C),0)),re(F),et.length-=2,y.DEBUG){console.log("FINISHED GLYPH",F.stack);for(var on=0;on<qe;on++)console.log(on,et[on].x,et[on].y)}}},re=function(x){var F=x.prog;if(F){var C,S=F.length;for(x.ip=0;x.ip<S;x.ip++){if(y.DEBUG&&x.step++,!(C=Te[F[x.ip]]))throw new Error("unknown instruction: 0x"+Number(F[x.ip]).toString(16));C(x)}}},Te=[ur.bind(void 0,go),ur.bind(void 0,$r),ro.bind(void 0,go),ro.bind(void 0,$r),So.bind(void 0,go),So.bind(void 0,$r),$n.bind(void 0,0),$n.bind(void 0,1),Do.bind(void 0,0),Do.bind(void 0,1),function(x){var F=(C=x.stack).pop(),C=C.pop();y.DEBUG&&console.log(x.step,"SPVFS[]",F,C),x.pv=x.dpv=wn(C,F)},function(x){var F=(C=x.stack).pop(),C=C.pop();y.DEBUG&&console.log(x.step,"SPVFS[]",F,C),x.fv=wn(C,F)},function(x){var F=x.stack,C=x.pv;y.DEBUG&&console.log(x.step,"GPV[]"),F.push(16384*C.x),F.push(16384*C.y)},function(x){var F=x.stack,C=x.fv;y.DEBUG&&console.log(x.step,"GFV[]"),F.push(16384*C.x),F.push(16384*C.y)},function(x){x.fv=x.pv,y.DEBUG&&console.log(x.step,"SFVTPV[]")},function(F){var C=(ae=F.stack).pop(),S=ae.pop(),q=ae.pop(),z=ae.pop(),ae=ae.pop(),Oe=(qe=F.z0)[C],qe=qe[S],et=(_t=F.z1)[q],_t=_t[z],Pt=(F=F.z2[ae],y.DEBUG&&console.log("ISECT[], ",C,S,q,z,ae),C=Oe.x,S=Oe.y,Oe=et.y,C*(z=qe.y)-S*(q=qe.x)),Tt=(ae=et.x)*(et=_t.y)-Oe*(qe=_t.x);F.x=(Pt*(ae-qe)-Tt*(C-q))/(_t=(C-q)*(Oe-et)-(S-z)*(ae-qe)),F.y=(Pt*(Oe-et)-Tt*(S-z))/_t},function(x){x.rp0=x.stack.pop(),y.DEBUG&&console.log(x.step,"SRP0[]",x.rp0)},function(x){x.rp1=x.stack.pop(),y.DEBUG&&console.log(x.step,"SRP1[]",x.rp1)},function(x){x.rp2=x.stack.pop(),y.DEBUG&&console.log(x.step,"SRP2[]",x.rp2)},function(x){var F=x.stack.pop();switch(y.DEBUG&&console.log(x.step,"SZP0[]",F),x.zp0=F){case 0:x.tZone||jr(x),x.z0=x.tZone;break;case 1:x.z0=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var F=x.stack.pop();switch(y.DEBUG&&console.log(x.step,"SZP1[]",F),x.zp1=F){case 0:x.tZone||jr(x),x.z1=x.tZone;break;case 1:x.z1=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var F=x.stack.pop();switch(y.DEBUG&&console.log(x.step,"SZP2[]",F),x.zp2=F){case 0:x.tZone||jr(x),x.z2=x.tZone;break;case 1:x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var F=x.stack.pop();switch(y.DEBUG&&console.log(x.step,"SZPS[]",F),x.zp0=x.zp1=x.zp2=F){case 0:x.tZone||jr(x),x.z0=x.z1=x.z2=x.tZone;break;case 1:x.z0=x.z1=x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){x.loop=x.stack.pop(),y.DEBUG&&console.log(x.step,"SLOOP[]",x.loop)},function(x){y.DEBUG&&console.log(x.step,"RTG[]"),x.round=vr},function(x){y.DEBUG&&console.log(x.step,"RTHG[]"),x.round=Vr},function(x){var F=x.stack.pop();y.DEBUG&&console.log(x.step,"SMD[]",F),x.minDis=F/64},function(x){y.DEBUG&&console.log(x.step,"ELSE[]"),yo(x,!1)},function(x){var F=x.stack.pop();y.DEBUG&&console.log(x.step,"JMPR[]",F),x.ip+=F-1},function(x){var F=x.stack.pop();y.DEBUG&&console.log(x.step,"SCVTCI[]",F),x.cvCutIn=F/64},void 0,void 0,function(x){var F=x.stack;y.DEBUG&&console.log(x.step,"DUP[]"),F.push(F[F.length-1])},No,function(x){y.DEBUG&&console.log(x.step,"CLEAR[]"),x.stack.length=0},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"SWAP[]"),F.push(C),F.push(S)},function(x){var F=x.stack;y.DEBUG&&console.log(x.step,"DEPTH[]"),F.push(F.length)},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"CINDEX[]",C),F.push(F[F.length-C])},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"MINDEX[]",C),F.push(F.splice(F.length-C,1)[0])},void 0,void 0,void 0,function(x){var F=(S=x.stack).pop(),C=S.pop(),S=(y.DEBUG&&console.log(x.step,"LOOPCALL[]",F,C),x.ip),q=x.prog;x.prog=x.funcs[F];for(var z=0;z<C;z++)re(x),y.DEBUG&&console.log(++x.step,z+1<C?"next loopcall":"done loopcall",z);x.ip=S,x.prog=q},function(x){var F=x.stack.pop(),C=(y.DEBUG&&console.log(x.step,"CALL[]",F),x.ip),S=x.prog;x.prog=x.funcs[F],re(x),x.ip=C,x.prog=S,y.DEBUG&&console.log(++x.step,"returning from",F)},function(x){if("fpgm"!==x.env)throw new Error("FDEF not allowed here");var F=x.prog,C=x.ip,S=(S=x.stack).pop(),q=C;for(y.DEBUG&&console.log(x.step,"FDEF[]",S);45!==F[++C];);x.ip=C,x.funcs[S]=F.slice(q+1,C)},void 0,Ao.bind(void 0,0),Ao.bind(void 0,1),dr.bind(void 0,go),dr.bind(void 0,$r),Oo.bind(void 0,0),Oo.bind(void 0,1),Bo.bind(void 0,0),Bo.bind(void 0,1),oo.bind(void 0,0),oo.bind(void 0,1),function(x){for(var F=x.stack,C=x.loop,S=x.fv,q=F.pop()/64,z=x.z2;C--;){var ae=F.pop(),Oe=z[ae];y.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-C)+": ":"")+"SHPIX[]",ae,q),S.setRelative(Oe,Oe,q),S.touch(Oe)}x.loop=1},function(x){for(var F=x.stack,C=x.rp1,S=x.rp2,q=x.loop,z=x.z0[C],ae=x.z1[S],Oe=x.fv,qe=x.dpv,et=x.z2;q--;){var _t=F.pop(),Pt=et[_t];y.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-q)+": ":"")+"IP[]",_t,C,"<->",S),Oe.interpolate(Pt,z,ae,qe),Oe.touch(Pt)}x.loop=1},Qr.bind(void 0,0),Qr.bind(void 0,1),function(x){for(var F=x.stack,S=x.z0[x.rp0],q=x.loop,z=x.fv,ae=x.pv,Oe=x.z1;q--;){var qe=F.pop(),et=Oe[qe];y.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-q)+": ":"")+"ALIGNRP[]",qe),z.setRelative(et,S,0,ae),z.touch(et)}x.loop=1},function(x){y.DEBUG&&console.log(x.step,"RTDG[]"),x.round=Xr},Wo.bind(void 0,0),Wo.bind(void 0,1),function(x){var F=x.prog,C=x.ip,S=x.stack,q=F[++C];y.DEBUG&&console.log(x.step,"NPUSHB[]",q);for(var z=0;z<q;z++)S.push(F[++C]);x.ip=C},function(x){var F=x.ip,C=x.prog,S=x.stack,q=C[++F];y.DEBUG&&console.log(x.step,"NPUSHW[]",q);for(var z=0;z<q;z++){var ae=C[++F]<<8|C[++F];32768&ae&&(ae=-(1+(65535^ae))),S.push(ae)}x.ip=F},function(x){var S=x.stack,F=(F=x.store)||(x.store=[]),C=S.pop();S=S.pop(),y.DEBUG&&console.log(x.step,"WS",C,S),F[S]=C},function(q){var F=q.stack,C=q.store,S=F.pop();y.DEBUG&&console.log(q.step,"RS",S),F.push(q=C&&C[S]||0)},function(x){var F=(C=x.stack).pop(),C=C.pop();y.DEBUG&&console.log(x.step,"WCVTP",F,C),x.cvt[C]=F/64},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"RCVT",C),F.push(64*x.cvt[C])},Mo.bind(void 0,0),Mo.bind(void 0,1),void 0,To.bind(void 0,0),To.bind(void 0,1),function(x){y.DEBUG&&console.log(x.step,"MPPEM[]"),x.stack.push(x.ppem)},void 0,function(x){y.DEBUG&&console.log(x.step,"FLIPON[]"),x.autoFlip=!0},void 0,void 0,function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"LT[]",C,S),F.push(S<C?1:0)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"LTEQ[]",C,S),F.push(S<=C?1:0)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"GT[]",C,S),F.push(C<S?1:0)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"GTEQ[]",C,S),F.push(C<=S?1:0)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"EQ[]",C,S),F.push(C===S?1:0)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"NEQ[]",C,S),F.push(C!==S?1:0)},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"ODD[]",C),F.push(Math.trunc(C)%2?1:0)},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"EVEN[]",C),F.push(Math.trunc(C)%2?0:1)},function(x){var F=x.stack.pop();y.DEBUG&&console.log(x.step,"IF[]",F),F||(yo(x,!0),y.DEBUG&&console.log(x.step,"EIF[]"))},function(x){y.DEBUG&&console.log(x.step,"EIF[]")},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"AND[]",C,S),F.push(C&&S?1:0)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"OR[]",C,S),F.push(C||S?1:0)},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"NOT[]",C),F.push(C?0:1)},Po.bind(void 0,1),function(x){var F=x.stack.pop();y.DEBUG&&console.log(x.step,"SDB[]",F),x.deltaBase=F},function(x){var F=x.stack.pop();y.DEBUG&&console.log(x.step,"SDS[]",F),x.deltaShift=Math.pow(.5,F)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"ADD[]",C,S),F.push(S+C)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"SUB[]",C,S),F.push(S-C)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"DIV[]",C,S),F.push(64*S/C)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"MUL[]",C,S),F.push(S*C/64)},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"ABS[]",C),F.push(Math.abs(C))},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"NEG[]",C),F.push(-C)},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"FLOOR[]",C),F.push(64*Math.floor(C/64))},function(x){var F=x.stack,C=F.pop();y.DEBUG&&console.log(x.step,"CEILING[]",C),F.push(64*Math.ceil(C/64))},Uo.bind(void 0,0),Uo.bind(void 0,1),Uo.bind(void 0,2),Uo.bind(void 0,3),void 0,void 0,void 0,void 0,function(x){var F=(C=x.stack).pop(),C=C.pop();y.DEBUG&&console.log(x.step,"WCVTF[]",F,C),x.cvt[C]=F*x.ppem/x.font.unitsPerEm},Po.bind(void 0,2),Po.bind(void 0,3),Vn.bind(void 0,1),Vn.bind(void 0,2),Vn.bind(void 0,3),function(x){var F,C=x.stack.pop();switch(y.DEBUG&&console.log(x.step,"SROUND[]",C),x.round=no,192&C){case 0:F=.5;break;case 64:F=1;break;case 128:F=2;break;default:throw new Error("invalid SROUND value")}switch(x.srPeriod=F,48&C){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*F;break;case 32:x.srPhase=.5*F;break;case 48:x.srPhase=.75*F;break;default:throw new Error("invalid SROUND value")}x.srThreshold=0==(C&=15)?0:(C/8-.5)*F},function(x){var F,C=x.stack.pop();switch(y.DEBUG&&console.log(x.step,"S45ROUND[]",C),x.round=no,192&C){case 0:F=Math.sqrt(2)/2;break;case 64:F=Math.sqrt(2);break;case 128:F=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(x.srPeriod=F,48&C){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*F;break;case 32:x.srPhase=.5*F;break;case 48:x.srPhase=.75*F;break;default:throw new Error("invalid S45ROUND value")}x.srThreshold=0==(C&=15)?0:(C/8-.5)*F},void 0,void 0,function(x){y.DEBUG&&console.log(x.step,"ROFF[]"),x.round=Dr},void 0,function(x){y.DEBUG&&console.log(x.step,"RUTG[]"),x.round=es},function(x){y.DEBUG&&console.log(x.step,"RDTG[]"),x.round=Zo},No,No,void 0,void 0,void 0,void 0,void 0,function(x){var F=x.stack.pop();y.DEBUG&&console.log(x.step,"SCANCTRL[]",F)},ss.bind(void 0,0),ss.bind(void 0,1),function(x){var F=x.stack,C=F.pop(),S=0;y.DEBUG&&console.log(x.step,"GETINFO[]",C),1&C&&(S=35),32&C&&(S|=4096),F.push(S)},void 0,function(x){var F=x.stack,C=F.pop(),S=F.pop(),q=F.pop();y.DEBUG&&console.log(x.step,"ROLL[]"),F.push(S),F.push(C),F.push(q)},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"MAX[]",C,S),F.push(Math.max(S,C))},function(x){var F=x.stack,C=F.pop(),S=F.pop();y.DEBUG&&console.log(x.step,"MIN[]",C,S),F.push(Math.min(S,C))},function(x){var F=x.stack.pop();y.DEBUG&&console.log(x.step,"SCANTYPE[]",F)},function(x){var F=x.stack.pop(),C=x.stack.pop();switch(y.DEBUG&&console.log(x.step,"INSTCTRL[]",F,C),F){case 1:return void(x.inhibitGridFit=!!C);case 2:return void(x.ignoreCvt=!!C);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,co.bind(void 0,1),co.bind(void 0,2),co.bind(void 0,3),co.bind(void 0,4),co.bind(void 0,5),co.bind(void 0,6),co.bind(void 0,7),co.bind(void 0,8),Io.bind(void 0,1),Io.bind(void 0,2),Io.bind(void 0,3),Io.bind(void 0,4),Io.bind(void 0,5),Io.bind(void 0,6),Io.bind(void 0,7),Io.bind(void 0,8),Sn.bind(void 0,0,0,0,0,0),Sn.bind(void 0,0,0,0,0,1),Sn.bind(void 0,0,0,0,0,2),Sn.bind(void 0,0,0,0,0,3),Sn.bind(void 0,0,0,0,1,0),Sn.bind(void 0,0,0,0,1,1),Sn.bind(void 0,0,0,0,1,2),Sn.bind(void 0,0,0,0,1,3),Sn.bind(void 0,0,0,1,0,0),Sn.bind(void 0,0,0,1,0,1),Sn.bind(void 0,0,0,1,0,2),Sn.bind(void 0,0,0,1,0,3),Sn.bind(void 0,0,0,1,1,0),Sn.bind(void 0,0,0,1,1,1),Sn.bind(void 0,0,0,1,1,2),Sn.bind(void 0,0,0,1,1,3),Sn.bind(void 0,0,1,0,0,0),Sn.bind(void 0,0,1,0,0,1),Sn.bind(void 0,0,1,0,0,2),Sn.bind(void 0,0,1,0,0,3),Sn.bind(void 0,0,1,0,1,0),Sn.bind(void 0,0,1,0,1,1),Sn.bind(void 0,0,1,0,1,2),Sn.bind(void 0,0,1,0,1,3),Sn.bind(void 0,0,1,1,0,0),Sn.bind(void 0,0,1,1,0,1),Sn.bind(void 0,0,1,1,0,2),Sn.bind(void 0,0,1,1,0,3),Sn.bind(void 0,0,1,1,1,0),Sn.bind(void 0,0,1,1,1,1),Sn.bind(void 0,0,1,1,1,2),Sn.bind(void 0,0,1,1,1,3),Sn.bind(void 0,1,0,0,0,0),Sn.bind(void 0,1,0,0,0,1),Sn.bind(void 0,1,0,0,0,2),Sn.bind(void 0,1,0,0,0,3),Sn.bind(void 0,1,0,0,1,0),Sn.bind(void 0,1,0,0,1,1),Sn.bind(void 0,1,0,0,1,2),Sn.bind(void 0,1,0,0,1,3),Sn.bind(void 0,1,0,1,0,0),Sn.bind(void 0,1,0,1,0,1),Sn.bind(void 0,1,0,1,0,2),Sn.bind(void 0,1,0,1,0,3),Sn.bind(void 0,1,0,1,1,0),Sn.bind(void 0,1,0,1,1,1),Sn.bind(void 0,1,0,1,1,2),Sn.bind(void 0,1,0,1,1,3),Sn.bind(void 0,1,1,0,0,0),Sn.bind(void 0,1,1,0,0,1),Sn.bind(void 0,1,1,0,0,2),Sn.bind(void 0,1,1,0,0,3),Sn.bind(void 0,1,1,0,1,0),Sn.bind(void 0,1,1,0,1,1),Sn.bind(void 0,1,1,0,1,2),Sn.bind(void 0,1,1,0,1,3),Sn.bind(void 0,1,1,1,0,0),Sn.bind(void 0,1,1,1,0,1),Sn.bind(void 0,1,1,1,0,2),Sn.bind(void 0,1,1,1,0,3),Sn.bind(void 0,1,1,1,1,0),Sn.bind(void 0,1,1,1,1,1),Sn.bind(void 0,1,1,1,1,2),Sn.bind(void 0,1,1,1,1,3)],oe=Array.from||function(x){return x.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function xe(x){(x=x||{}).empty||(lr(x.familyName,"When creating a new Font object, familyName is required."),lr(x.styleName,"When creating a new Font object, styleName is required."),lr(x.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),lr(x.ascender,"When creating a new Font object, ascender is required."),lr(x.descender,"When creating a new Font object, descender is required."),lr(x.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:x.familyName||" "},fontSubfamily:{en:x.styleName||" "},fullName:{en:x.fullName||x.familyName+" "+x.styleName},postScriptName:{en:x.postScriptName||(x.familyName+x.styleName).replace(/\s/g,"")},designer:{en:x.designer||" "},designerURL:{en:x.designerURL||" "},manufacturer:{en:x.manufacturer||" "},manufacturerURL:{en:x.manufacturerURL||" "},license:{en:x.license||" "},licenseURL:{en:x.licenseURL||" "},version:{en:x.version||"Version 0.1"},description:{en:x.description||" "},copyright:{en:x.copyright||" "},trademark:{en:x.trademark||" "}},this.unitsPerEm=x.unitsPerEm||1e3,this.ascender=x.ascender,this.descender=x.descender,this.createdTimestamp=x.createdTimestamp,this.tables={os2:{usWeightClass:x.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:x.widthClass||this.usWidthClasses.MEDIUM,fsSelection:x.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new fn.GlyphSet(this,x.glyphs||[]),this.encoding=new Dt(this),this.position=new Ln(this),this.substitution=new Rn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Hn(this):void 0)}})}xe.prototype.hasChar=function(x){return null!==this.encoding.charToGlyphIndex(x)},xe.prototype.charToGlyphIndex=function(x){return this.encoding.charToGlyphIndex(x)},xe.prototype.charToGlyph=function(x){return x=this.charToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},xe.prototype.stringToGlyphs=function(x,F){F=F||this.defaultRenderOptions;for(var C=oe(x),S=[],q=0;q<C.length;q+=1)S.push(this.charToGlyphIndex(C[q]));var ae=S.length;if(F.features){x=F.script||this.substitution.getDefaultScriptName();var Oe=[];F.features.liga&&(Oe=Oe.concat(this.substitution.getFeature("liga",x,F.language))),F.features.rlig&&(Oe=Oe.concat(this.substitution.getFeature("rlig",x,F.language)));for(var qe=0;qe<ae;qe+=1)for(var et=0;et<Oe.length;et++){for(var _t=Oe[et],Pt=_t.sub,Tt=Pt.length,ct=0;ct<Tt&&Pt[ct]===S[qe+ct];)ct++;ct===Tt&&(S.splice(qe,Tt,_t.by),ae=ae-Tt+1)}}for(var on=new Array(ae),$t=this.glyphs.get(0),zt=0;zt<ae;zt+=1)on[zt]=this.glyphs.get(S[zt])||$t;return on},xe.prototype.nameToGlyphIndex=function(x){return this.glyphNames.nameToGlyphIndex(x)},xe.prototype.nameToGlyph=function(x){return x=this.nameToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},xe.prototype.glyphIndexToName=function(x){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(x):""},xe.prototype.getKerningValue=function(x,F){x=x.index||x,F=F.index||F;var C=this.position.defaultKerningTables;return C?this.position.getKerningValue(C,x,F):this.kerningPairs[x+","+F]||0},xe.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},xe.prototype.forEachGlyph=function(x,F,C,S,q,z){F=void 0!==F?F:0,C=void 0!==C?C:0;var ae,Oe=1/this.unitsPerEm*(S=void 0!==S?S:72),qe=this.stringToGlyphs(x,q=q||this.defaultRenderOptions);q.kerning&&(x=q.script||this.position.getDefaultScriptName(),ae=this.position.getKerningTables(x,q.language));for(var et=0;et<qe.length;et+=1){var _t=qe[et];z.call(this,_t,F,C,S,q),_t.advanceWidth&&(F+=_t.advanceWidth*Oe),q.kerning&&et<qe.length-1&&(F+=(ae?this.position.getKerningValue(ae,_t.index,qe[et+1].index):this.getKerningValue(_t,qe[et+1]))*Oe),q.letterSpacing?F+=q.letterSpacing*S:q.tracking&&(F+=q.tracking/1e3*S)}return F},xe.prototype.getPath=function(x,F,C,S,q){var z=new fe;return this.forEachGlyph(x,F,C,S,q,function(ae,Oe,qe,et){ae=ae.getPath(Oe,qe,et,q,this),z.extend(ae)}),z},xe.prototype.getPaths=function(x,F,C,S,q){var z=[];return this.forEachGlyph(x,F,C,S,q,function(ae,Oe,qe,et){ae=ae.getPath(Oe,qe,et,q,this),z.push(ae)}),z},xe.prototype.getAdvanceWidth=function(x,F,C){return this.forEachGlyph(x,0,0,F,C,function(){})},xe.prototype.draw=function(x,F,C,S,q,z){this.getPath(F,C,S,q,z).draw(x)},xe.prototype.drawPoints=function(x,F,C,S,q,z){this.forEachGlyph(F,C,S,q,z,function(ae,Oe,qe,et){ae.drawPoints(x,Oe,qe,et)})},xe.prototype.drawMetrics=function(x,F,C,S,q,z){this.forEachGlyph(F,C,S,q,z,function(ae,Oe,qe,et){ae.drawMetrics(x,Oe,qe,et)})},xe.prototype.getEnglishName=function(x){if(x=this.names[x])return x.en},xe.prototype.validate=function(){var x=this;function F(C){(C=x.getEnglishName(C))&&C.trim()}F("fontFamily"),F("weightName"),F("manufacturer"),F("copyright"),F("version")},xe.prototype.toTables=function(){return qt_fontToTable(this)},xe.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},xe.prototype.toArrayBuffer=function(){for(var x=this.toTables().encode(),F=new ArrayBuffer(x.length),C=new Uint8Array(F),S=0;S<x.length;S++)C[S]=x[S];return F},xe.prototype.download=function(x){var F=this.getEnglishName("fontFamily"),C=this.getEnglishName("fontSubfamily"),S=(x=x||F.replace(/\s/g,"")+"-"+C+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,S.byteLength,function(q){q.root.getFile(x,{create:!0},function(z){z.createWriter(function(ae){var Oe=new DataView(S);Oe=new Blob([Oe],{type:"font/opentype"}),ae.write(Oe),ae.addEventListener("writeend",function(){location.href=z.toURL()},!1)})})},function(q){throw new Error(q.name+": "+q.message)})):(F=r("fs"),C=function(q){for(var z=new f(q.byteLength),ae=new Uint8Array(q),Oe=0;Oe<z.length;++Oe)z[Oe]=ae[Oe];return z}(S),F.writeFileSync(x,C))},xe.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},xe.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},xe.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Zt_parse=function(x,F,C){for(var S,z,ae,Oe=new wt.Parser(x,F),qe=Oe.parseULong(),et=(ie.argument(65536===qe,"Unsupported fvar table version."),Oe.parseOffset16()),_t=(Oe.skip("uShort",1),Oe.parseUShort()),Pt=Oe.parseUShort(),Tt=Oe.parseUShort(),ct=Oe.parseUShort(),on=[],$t=0;$t<_t;$t++)on.push((z=C,ae={},S=new wt.Parser(S=x,F+et+$t*Pt),ae.tag=S.parseTag(),ae.minValue=S.parseFixed(),ae.defaultValue=S.parseFixed(),ae.maxValue=S.parseFixed(),S.skip("uShort",1),ae.name=z[S.parseUShort()]||{},ae));for(var zt=[],Lt=F+et+_t*Pt,Ft=0;Ft<Tt;Ft++)zt.push(function(Fn,Pn,kn,Tn){var zn={},xr=new wt.Parser(Fn,Pn);zn.name=Tn[xr.parseUShort()]||{},xr.skip("uShort",1),zn.coordinates={};for(var Nr=0;Nr<kn.length;++Nr)zn.coordinates[kn[Nr].tag]=xr.parseFixed();return zn}(x,Lt+Ft*ct,on,C));return{axes:on,instances:zt}},vn=new Array(10);vn[1]=function(){var x=this.offset+this.relativeOffset,F=this.parseUShort();return 1===F?{posFormat:1,coverage:this.parsePointer(dt.coverage),value:this.parseValueRecord()}:2===F?{posFormat:2,coverage:this.parsePointer(dt.coverage),values:this.parseValueRecordList()}:void ie.assert(!1,"0x"+x.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},vn[2]=function(){var x,F,C,S,z=this.offset+this.relativeOffset,q=this.parseUShort(),ae=(ie.assert(1===q||2===q,"0x"+z.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),z=this.parsePointer(dt.coverage),this.parseUShort()),Oe=this.parseUShort();return 1===q?{posFormat:q,coverage:z,valueFormat1:ae,valueFormat2:Oe,pairSets:this.parseList(dt.pointer(dt.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ae),value2:this.parseValueRecord(Oe)}})))}:2===q?(x=this.parsePointer(dt.classDef),F=this.parsePointer(dt.classDef),C=this.parseUShort(),S=this.parseUShort(),{posFormat:q,coverage:z,valueFormat1:ae,valueFormat2:Oe,classDef1:x,classDef2:F,class1Count:C,class2Count:S,classRecords:this.parseList(C,dt.list(S,function(){return{value1:this.parseValueRecord(ae),value2:this.parseValueRecord(Oe)}}))}):void 0},vn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},vn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},vn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},vn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},vn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},vn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},vn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Un_parse=function(x,F){return F=(x=new dt(x,F=F||0)).parseVersion(1),ie.argument(1===F||1.1===F,"Unsupported GPOS table version "+F),1===F?{version:F,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(vn)}:{version:F,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(vn),variations:x.parseFeatureVariationsList()}},Zn_parse=function(x,F){if(0===(F=(x=new wt.Parser(x,F)).parseUShort())){var C=x,S={},Pt=(C.skip("uShort"),C.parseUShort()),q=(ie.argument(0===Pt,"Unsupported kern sub-table version."),C.skip("uShort",2),C.parseUShort());C.skip("uShort",3);for(var z=0;z<q;z+=1){var ae=C.parseUShort(),Oe=C.parseUShort(),qe=C.parseShort();S[ae+","+Oe]=qe}return S}if(1!==F)throw new Error("Unsupported kern table version ("+F+").");var et=x,_t={};if(et.skip("uShort"),1<et.parseULong()&&console.warn("Only the first kern subtable is supported."),et.skip("uLong"),Pt=255&et.parseUShort(),et.skip("uShort"),0==Pt){var Tt=et.parseUShort();et.skip("uShort",3);for(var ct=0;ct<Tt;ct+=1){var on=et.parseUShort(),$t=et.parseUShort(),zt=et.parseShort();_t[on+","+$t]=zt}}return _t},ao_parse=function(x,F,C,S){for(var q=new wt.Parser(x,F),z=S?q.parseUShort:q.parseULong,ae=[],Oe=0;Oe<C+1;Oe+=1){var qe=z.call(q);S&&(qe*=2),ae.push(qe)}return ae};function Ro(x,F){r("fs").readFile(x,function(C,S){if(C)return F(C.message);F(null,Pr(S))})}function qr(x,F){var C=new XMLHttpRequest;C.open("get",x,!0),C.responseType="arraybuffer",C.onload=function(){return C.response?F(null,C.response):F("Font could not be loaded: "+C.statusText)},C.onerror=function(){F("Font could not be loaded")},C.send()}function fo(x,F){for(var C=[],S=12,q=0;q<F;q+=1){var z=wt.getTag(x,S),ae=wt.getULong(x,S+4),Oe=wt.getULong(x,S+8),qe=wt.getULong(x,S+12);C.push({tag:z,checksum:ae,offset:Oe,length:qe,compression:!1}),S+=16}return C}function ar(C,F){if("WOFF"!==F.compression)return{data:C,offset:F.offset};C=new Uint8Array(C.buffer,F.offset+2,F.compressedLength-2);var S=new Uint8Array(F.length);if(T(C,S),S.byteLength!==F.length)throw new Error("Decompression error: "+F.tag+" decompressed length doesn't match recorded length");return{data:new DataView(S.buffer,0),offset:0}}function fr(Ft){var F,C,S,q,z,ae,Oe,qe,et,_t,Pt,Tt,ct,on,$t=new xe({empty:!0}),zt=new DataView(Ft,0),Lt=[];if((Ft=wt.getTag(zt,0))===String.fromCharCode(0,1,0,0)||"true"===Ft||"typ1"===Ft)$t.outlinesFormat="truetype",Lt=fo(zt,S=wt.getUShort(zt,4));else if("OTTO"===Ft)$t.outlinesFormat="cff",Lt=fo(zt,S=wt.getUShort(zt,4));else{if("wOFF"!==Ft)throw new Error("Unsupported OpenType signature "+Ft);if((Fn=wt.getTag(zt,4))===String.fromCharCode(0,1,0,0))$t.outlinesFormat="truetype";else{if("OTTO"!==Fn)throw new Error("Unsupported OpenType flavor "+Ft);$t.outlinesFormat="cff"}Lt=function(Mr,cr){for(var io=[],Er=44,Ar=0;Ar<cr;Ar+=1){var pr=wt.getTag(Mr,Er),Zr=wt.getULong(Mr,Er+4),js=wt.getULong(Mr,Er+8),_s=wt.getULong(Mr,Er+12);io.push({tag:pr,offset:Zr,compression:js<_s&&"WOFF",compressedLength:js,length:_s}),Er+=20}return io}(zt,S=wt.getUShort(zt,12))}for(var Pn=0;Pn<S;Pn+=1){var kn=Lt[Pn],Tn=void 0;switch(kn.tag){case"cmap":Tn=ar(zt,kn),$t.tables.cmap=Pe_parse(Tn.data,Tn.offset),$t.encoding=new ut($t.tables.cmap);break;case"cvt ":Tn=ar(zt,kn),on=new wt.Parser(Tn.data,Tn.offset),$t.tables.cvt=on.parseShortList(kn.length/2);break;case"fvar":z=kn;break;case"fpgm":Tn=ar(zt,kn),on=new wt.Parser(Tn.data,Tn.offset),$t.tables.fpgm=on.parseByteList(kn.length);break;case"head":Tn=ar(zt,kn),$t.tables.head=de_parse(Tn.data,Tn.offset),$t.unitsPerEm=$t.tables.head.unitsPerEm,F=$t.tables.head.indexToLocFormat;break;case"hhea":Tn=ar(zt,kn),$t.tables.hhea=ne_parse(Tn.data,Tn.offset),$t.ascender=$t.tables.hhea.ascender,$t.descender=$t.tables.hhea.descender,$t.numberOfHMetrics=$t.tables.hhea.numberOfHMetrics;break;case"hmtx":et=kn;break;case"ltag":Tn=ar(zt,kn),C=ge_parse(Tn.data,Tn.offset);break;case"maxp":Tn=ar(zt,kn),$t.tables.maxp=ke_parse(Tn.data,Tn.offset),$t.numGlyphs=$t.tables.maxp.numGlyphs;break;case"name":Tt=kn;break;case"OS/2":Tn=ar(zt,kn),$t.tables.os2=yr_parse(Tn.data,Tn.offset);break;case"post":Tn=ar(zt,kn),$t.tables.post=Gr_parse(Tn.data,Tn.offset),$t.glyphNames=new jt($t.tables.post);break;case"prep":Tn=ar(zt,kn),on=new wt.Parser(Tn.data,Tn.offset),$t.tables.prep=on.parseByteList(kn.length);break;case"glyf":ae=kn;break;case"loca":Pt=kn;break;case"CFF ":q=kn;break;case"kern":_t=kn;break;case"GPOS":Oe=kn;break;case"GSUB":qe=kn;break;case"meta":ct=kn}}if(Fn=ar(zt,Tt),$t.tables.name=gr_parse(Fn.data,Fn.offset,C),$t.names=$t.tables.name,ae&&Pt)Ft=0===F,Fn=ar(zt,Pt),Fn=ao_parse(Fn.data,Fn.offset,$t.numGlyphs,Ft),Ft=ar(zt,ae),$t.glyphs=uo.parse(Ft.data,Ft.offset,Fn,$t);else{if(!q)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ft=ar(zt,q),W_parse(Ft.data,Ft.offset,$t)}for(var Fn=ar(zt,et),zn=(te_parse(Fn.data,Fn.offset,$t.numberOfHMetrics,$t.numGlyphs,$t.glyphs),$t),xr=zn.tables.cmap.glyphIndexMap,Nr=Object.keys(xr),zr=0;zr<Nr.length;zr+=1){var Wr,so=Nr[zr];(Wr=zn.glyphs.get(xr[so])).addUnicode(parseInt(so))}for(var hr=0;hr<zn.glyphs.length;hr+=1)Wr=zn.glyphs.get(hr),zn.cffEncoding?Wr.name=zn.isCIDFont?"gid"+hr:zn.cffEncoding.charset[hr]:zn.glyphNames.names&&(Wr.name=zn.glyphNames.glyphIndexToName(hr));return _t?(Ft=ar(zt,_t),$t.kerningPairs=Zn_parse(Ft.data,Ft.offset)):$t.kerningPairs={},Oe&&(Fn=ar(zt,Oe),$t.tables.gpos=Un_parse(Fn.data,Fn.offset),$t.position.init()),qe&&(Ft=ar(zt,qe),$t.tables.gsub=Fr_parse(Ft.data,Ft.offset)),z&&(Fn=ar(zt,z),$t.tables.fvar=Zt_parse(Fn.data,Fn.offset,$t.names)),ct&&(Ft=ar(zt,ct),$t.tables.meta=He_parse(Ft.data,Ft.offset),$t.metas=$t.tables.meta),$t}y.Font=xe,y.Glyph=Jt,y.Path=fe,y.BoundingBox=se,y._parse=wt,y.parse=fr,y.load=function(x,F){(typeof window>"u"?Ro:qr)(x,function(C,S){if(C)return F(C);var q;try{q=fr(S)}catch(z){return F(z,null)}return F(null,q)})},y.loadSync=function(x){return fr(Pr(r("fs").readFileSync(x)))},Object.defineProperty(y,"__esModule",{value:!0})},d("object"==typeof O&&void 0!==G?O:this.opentype={})}).call(this,r("buffer").Buffer)},{buffer:4,fs:2}],248:[function(r,G,O){(function(f){function m(w,b){for(var i=0,l=w.length-1;0<=l;l--){var h=w[l];"."===h?w.splice(l,1):".."===h?(w.splice(l,1),i++):i&&(w.splice(l,1),i--)}if(b)for(;i--;)w.unshift("..");return w}function d(w,b){if(w.filter)return w.filter(b);for(var i=[],l=0;l<w.length;l++)b(w[l],l,w)&&i.push(w[l]);return i}O.resolve=function(){for(var w="",b=!1,i=arguments.length-1;-1<=i&&!b;i--){var l=0<=i?arguments[i]:f.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(w=l+"/"+w,b="/"===l.charAt(0))}return(b?"/":"")+(w=m(d(w.split("/"),function(h){return!!h}),!b).join("/"))||"."},O.normalize=function(w){var b=O.isAbsolute(w),i="/"===y(w,-1);return(w=(w=m(d(w.split("/"),function(l){return!!l}),!b).join("/"))||b?w:".")&&i&&(w+="/"),(b?"/":"")+w},O.isAbsolute=function(w){return"/"===w.charAt(0)},O.join=function(){var w=Array.prototype.slice.call(arguments,0);return O.normalize(d(w,function(b,i){if("string"!=typeof b)throw new TypeError("Arguments to path.join must be strings");return b}).join("/"))},O.relative=function(w,b){function i(a){for(var g=0;g<a.length&&""===a[g];g++);for(var E=a.length-1;0<=E&&""===a[E];E--);return E<g?[]:a.slice(g,E-g+1)}w=O.resolve(w).substr(1),b=O.resolve(b).substr(1);for(var l=i(w.split("/")),h=i(b.split("/")),s=Math.min(l.length,h.length),c=s,p=0;p<s;p++)if(l[p]!==h[p]){c=p;break}var v=[];for(p=c;p<l.length;p++)v.push("..");return(v=v.concat(h.slice(c))).join("/")},O.sep="/",O.delimiter=":",O.dirname=function(w){if("string"!=typeof w&&(w+=""),0===w.length)return".";for(var b=47===w.charCodeAt(0),i=-1,l=!0,h=w.length-1;1<=h;--h)if(47===w.charCodeAt(h)){if(!l){i=h;break}}else l=!1;return-1===i?b?"/":".":b&&1===i?"/":w.slice(0,i)},O.basename=function(w,b){return w=function(i){"string"!=typeof i&&(i+="");for(var l=0,h=-1,s=!0,c=i.length-1;0<=c;--c)if(47===i.charCodeAt(c)){if(!s){l=c+1;break}}else-1===h&&(s=!1,h=c+1);return-1===h?"":i.slice(l,h)}(w),b&&w.substr(-1*b.length)===b?w.substr(0,w.length-b.length):w},O.extname=function(w){"string"!=typeof w&&(w+="");for(var b=-1,i=0,l=-1,h=!0,s=0,c=w.length-1;0<=c;--c){var p=w.charCodeAt(c);if(47===p){if(h)continue;i=c+1;break}-1===l&&(h=!1,l=c+1),46===p?-1===b?b=c:1!==s&&(s=1):-1!==b&&(s=-1)}return-1===b||-1===l||0===s||1===s&&b===l-1&&b===i+1?"":w.slice(b,l)};var y=function(w,b,i){return w.substr(b,i)}}).call(this,r("_process"))},{_process:249}],249:[function(r,d,O){var f,m;function y(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}d=d.exports={};try{f="function"==typeof setTimeout?setTimeout:y}catch{f=y}try{m="function"==typeof clearTimeout?clearTimeout:w}catch{m=w}function b(g){if(f===setTimeout)return setTimeout(g,0);if((f===y||!f)&&setTimeout)return(f=setTimeout)(g,0);try{return f(g,0)}catch{try{return f.call(null,g,0)}catch{return f.call(this,g,0)}}}var i,l=[],h=!1,s=-1;function c(){h&&i&&(h=!1,i.length?l=i.concat(l):s=-1,l.length&&p())}function p(){if(!h){for(var g=b(c),E=(h=!0,l.length);E;){for(i=l,l=[];++s<E;)i&&i[s].run();s=-1,E=l.length}i=null,h=!1,function($){if(m===clearTimeout)return clearTimeout($);if((m===w||!m)&&clearTimeout)return(m=clearTimeout)($);try{m($)}catch{try{return m.call(null,$)}catch{return m.call(this,$)}}}(g)}}function v(g,E){this.fun=g,this.array=E}function a(){}d.nextTick=function(g){var E=new Array(arguments.length-1);if(1<arguments.length)for(var $=1;$<arguments.length;$++)E[$-1]=arguments[$];l.push(new v(g,E)),1!==l.length||h||b(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=a,d.addListener=a,d.once=a,d.off=a,d.removeListener=a,d.removeAllListeners=a,d.emit=a,d.prependListener=a,d.prependOnceListener=a,d.listeners=function(g){return[]},d.binding=function(g){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(g){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],250:[function(r,G,O){G=function(f){"use strict";var m,d=Object.prototype,y=d.hasOwnProperty,w=(k="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",b=k.asyncIterator||"@@asyncIterator",i=k.toStringTag||"@@toStringTag";function l(Q,pe,K,we){var fe,Ie,Z,ie;return pe=pe&&pe.prototype instanceof g?pe:g,pe=Object.create(pe.prototype),we=new R(we||[]),pe._invoke=(fe=Q,Ie=K,Z=we,ie=s,function(Re,$e){if(ie===p)throw new Error("Generator is already running");if(ie===v){if("throw"===Re)throw $e;return N()}for(Z.method=Re,Z.arg=$e;;){var Fe=Z.delegate;if(Fe&&(Fe=function Ge(je,We){var Ye=je.iterator[We.method];if(Ye===m){if(We.delegate=null,"throw"===We.method){if(je.iterator.return&&(We.method="return",We.arg=m,Ge(je,We),"throw"===We.method))return a;We.method="throw",We.arg=new TypeError("The iterator does not provide a 'throw' method")}return a}return"throw"===(Ye=h(Ye,je.iterator,We.arg)).type?(We.method="throw",We.arg=Ye.arg,We.delegate=null,a):(Ye=Ye.arg)?Ye.done?(We[je.resultName]=Ye.value,We.next=je.nextLoc,"return"!==We.method&&(We.method="next",We.arg=m),We.delegate=null,a):Ye:(We.method="throw",We.arg=new TypeError("iterator result is not an object"),We.delegate=null,a)}(Fe,Z))){if(Fe===a)continue;return Fe}if("next"===Z.method)Z.sent=Z._sent=Z.arg;else if("throw"===Z.method){if(ie===s)throw ie=v,Z.arg;Z.dispatchException(Z.arg)}else"return"===Z.method&&Z.abrupt("return",Z.arg);if(ie=p,"normal"===(Fe=h(fe,Ie,Z)).type){if(ie=Z.done?v:c,Fe.arg!==a)return{value:Fe.arg,done:Z.done}}else"throw"===Fe.type&&(ie=v,Z.method="throw",Z.arg=Fe.arg)}}),pe}function h(Q,T,K){try{return{type:"normal",arg:Q.call(T,K)}}catch(se){return{type:"throw",arg:se}}}f.wrap=l;var s="suspendedStart",c="suspendedYield",p="executing",v="completed",a={};function g(){}function E(){}function $(){}var k,M,A=((k={})[w]=function(){return this},(M=(M=Object.getPrototypeOf)&&M(M(V([]))))&&M!==d&&y.call(M,w)&&(k=M),$.prototype=g.prototype=Object.create(k));function L(Q){["next","throw","return"].forEach(function(T){Q[T]=function(K){return this._invoke(T,K)}})}function U(Q){var T;this._invoke=function(K,se){function fe(){return new Promise(function(Ie,Z){!function ie(Ge,we,Re,$e){var Fe;if("throw"!==(Ge=h(Q[Ge],Q,we)).type)return(we=(Fe=Ge.arg).value)&&"object"==typeof we&&y.call(we,"__await")?Promise.resolve(we.__await).then(function(je){ie("next",je,Re,$e)},function(je){ie("throw",je,Re,$e)}):Promise.resolve(we).then(function(je){Fe.value=je,Re(Fe)},function(je){return ie("throw",je,Re,$e)});$e(Ge.arg)}(K,se,Ie,Z)})}return T=T?T.then(fe,fe):fe()}}function I(Q){var T={tryLoc:Q[0]};1 in Q&&(T.catchLoc=Q[1]),2 in Q&&(T.finallyLoc=Q[2],T.afterLoc=Q[3]),this.tryEntries.push(T)}function D(Q){var T=Q.completion||{};T.type="normal",delete T.arg,Q.completion=T}function R(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(I,this),this.reset(!0)}function V(Q){if(Q){var T,K=Q[w];if(K)return K.call(Q);if("function"==typeof Q.next)return Q;if(!isNaN(Q.length))return T=-1,(K=function se(){for(;++T<Q.length;)if(y.call(Q,T))return se.value=Q[T],se.done=!1,se;return se.value=m,se.done=!0,se}).next=K}return{next:N}}function N(){return{value:m,done:!0}}return(E.prototype=A.constructor=$).constructor=E,$[i]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(Q){return!!(Q="function"==typeof Q&&Q.constructor)&&(Q===E||"GeneratorFunction"===(Q.displayName||Q.name))},f.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,$):(Q.__proto__=$,i in Q||(Q[i]="GeneratorFunction")),Q.prototype=Object.create(A),Q},f.awrap=function(Q){return{__await:Q}},L(U.prototype),U.prototype[b]=function(){return this},f.AsyncIterator=U,f.async=function(Q,T,K,se){var fe=new U(l(Q,T,K,se));return f.isGeneratorFunction(T)?fe:fe.next().then(function(Ie){return Ie.done?Ie.value:fe.next()})},L(A),A[i]="Generator",A[w]=function(){return this},A.toString=function(){return"[object Generator]"},f.keys=function(Q){var T,K=[];for(T in Q)K.push(T);return K.reverse(),function se(){for(;K.length;){var fe=K.pop();if(fe in Q)return se.value=fe,se.done=!1,se}return se.done=!0,se}},f.values=V,R.prototype={constructor:R,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(D),!Q)for(var T in this)"t"===T.charAt(0)&&y.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=m)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if("throw"===Q.type)throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var T=this;function K(pe,we){return Ie.type="throw",Ie.arg=Q,T.next=pe,we&&(T.method="next",T.arg=m),!!we}for(var se=this.tryEntries.length-1;0<=se;--se){var fe=this.tryEntries[se],Ie=fe.completion;if("root"===fe.tryLoc)return K("end");if(fe.tryLoc<=this.prev){var Z=y.call(fe,"catchLoc"),ie=y.call(fe,"finallyLoc");if(Z&&ie){if(this.prev<fe.catchLoc)return K(fe.catchLoc,!0);if(this.prev<fe.finallyLoc)return K(fe.finallyLoc)}else if(Z){if(this.prev<fe.catchLoc)return K(fe.catchLoc,!0)}else{if(!ie)throw new Error("try statement without catch or finally");if(this.prev<fe.finallyLoc)return K(fe.finallyLoc)}}}},abrupt:function(Q,T){for(var K=this.tryEntries.length-1;0<=K;--K){var se=this.tryEntries[K];if(se.tryLoc<=this.prev&&y.call(se,"finallyLoc")&&this.prev<se.finallyLoc){var fe=se;break}}var Ie=(fe=fe&&("break"===Q||"continue"===Q)&&fe.tryLoc<=T&&T<=fe.finallyLoc?null:fe)?fe.completion:{};return Ie.type=Q,Ie.arg=T,fe?(this.method="next",this.next=fe.finallyLoc,a):this.complete(Ie)},complete:function(Q,T){if("throw"===Q.type)throw Q.arg;return"break"===Q.type||"continue"===Q.type?this.next=Q.arg:"return"===Q.type?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):"normal"===Q.type&&T&&(this.next=T),a},finish:function(Q){for(var T=this.tryEntries.length-1;0<=T;--T){var K=this.tryEntries[T];if(K.finallyLoc===Q)return this.complete(K.completion,K.afterLoc),D(K),a}},catch:function(Q){for(var T=this.tryEntries.length-1;0<=T;--T){var K,se,fe=this.tryEntries[T];if(fe.tryLoc===Q)return"throw"===(K=fe.completion).type&&(se=K.arg,D(fe)),se}throw new Error("illegal catch attempt")},delegateYield:function(Q,T,K){return this.delegate={iterator:V(Q),resultName:T,nextLoc:K},"next"===this.method&&(this.arg=m),a}},f}("object"==typeof G?G.exports:{});try{regeneratorRuntime=G}catch{Function("r","regeneratorRuntime = r")(G)}},{}],251:[function(r,G,O){!function(f){"use strict";var m,d,y,w,b,i,l,h,s,c;function p(D){if("string"!=typeof D&&(D=String(D)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function v(D){return"string"!=typeof D?String(D):D}function a(D){var R={next:function(){var V=D.shift();return{done:void 0===V,value:V}}};return d&&(R[Symbol.iterator]=function(){return R}),R}function g(D){this.map={},D instanceof g?D.forEach(function(R,V){this.append(V,R)},this):Array.isArray(D)?D.forEach(function(R){this.append(R[0],R[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(R){this.append(R,D[R])},this)}function E(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function $(D){return new Promise(function(R,V){D.onload=function(){R(D.result)},D.onerror=function(){V(D.error)}})}function k(D){var R=new FileReader,V=$(R);return R.readAsArrayBuffer(D),V}function M(D){var R;return D.slice?D.slice(0):((R=new Uint8Array(D.byteLength)).set(new Uint8Array(D)),R.buffer)}function A(){return this.bodyUsed=!1,this._initBody=function(D){if(this._bodyInit=D)if("string"==typeof D)this._bodyText=D;else if(y&&Blob.prototype.isPrototypeOf(D))this._bodyBlob=D;else if(w&&FormData.prototype.isPrototypeOf(D))this._bodyFormData=D;else if(m&&URLSearchParams.prototype.isPrototypeOf(D))this._bodyText=D.toString();else if(b&&y&&l(D))this._bodyArrayBuffer=M(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b||!ArrayBuffer.prototype.isPrototypeOf(D)&&!h(D))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=M(D)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof D?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var D=E(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(k)}),this.text=function(){var D,R,V=E(this);if(V)return V;if(this._bodyBlob)return V=this._bodyBlob,R=$(D=new FileReader),D.readAsText(V),R;if(this._bodyArrayBuffer)return Promise.resolve(function(N){for(var Q=new Uint8Array(N),T=new Array(Q.length),K=0;K<Q.length;K++)T[K]=String.fromCharCode(Q[K]);return T.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},w&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}function L(D,R){var V,N=(R=R||{}).body;if(D instanceof L){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,R.headers||(this.headers=new g(D.headers)),this.method=D.method,this.mode=D.mode,N||null==D._bodyInit||(N=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=R.credentials||this.credentials||"omit",!R.headers&&this.headers||(this.headers=new g(R.headers)),this.method=(V=(D=R.method||this.method||"GET").toUpperCase(),-1<s.indexOf(V)?V:D),this.mode=R.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&N)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(N)}function U(D){var R=new FormData;return D.trim().split("&").forEach(function(V){var N;V&&(N=(V=V.split("=")).shift().replace(/\+/g," "),V=V.join("=").replace(/\+/g," "),R.append(decodeURIComponent(N),decodeURIComponent(V)))}),R}function I(D,R){R=R||{},this.type="default",this.status=void 0===R.status?200:R.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new g(R.headers),this.url=R.url||"",this._initBody(D)}f.fetch||(m="URLSearchParams"in f,d="Symbol"in f&&"iterator"in Symbol,y="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),w="FormData"in f,(b="ArrayBuffer"in f)&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(D){return D&&DataView.prototype.isPrototypeOf(D)},h=ArrayBuffer.isView||function(D){return D&&-1<i.indexOf(Object.prototype.toString.call(D))}),g.prototype.append=function(D,R){D=p(D),R=v(R);var V=this.map[D];this.map[D]=V?V+","+R:R},g.prototype.delete=function(D){delete this.map[p(D)]},g.prototype.get=function(D){return D=p(D),this.has(D)?this.map[D]:null},g.prototype.has=function(D){return this.map.hasOwnProperty(p(D))},g.prototype.set=function(D,R){this.map[p(D)]=v(R)},g.prototype.forEach=function(D,R){for(var V in this.map)this.map.hasOwnProperty(V)&&D.call(R,this.map[V],V,this)},g.prototype.keys=function(){var D=[];return this.forEach(function(R,V){D.push(V)}),a(D)},g.prototype.values=function(){var D=[];return this.forEach(function(R){D.push(R)}),a(D)},g.prototype.entries=function(){var D=[];return this.forEach(function(R,V){D.push([V,R])}),a(D)},d&&(g.prototype[Symbol.iterator]=g.prototype.entries),s=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],L.prototype.clone=function(){return new L(this,{body:this._bodyInit})},A.call(L.prototype),A.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},I.error=function(){var D=new I(null,{status:0,statusText:""});return D.type="error",D},c=[301,302,303,307,308],I.redirect=function(D,R){if(-1===c.indexOf(R))throw new RangeError("Invalid status code");return new I(null,{status:R,headers:{location:D}})},f.Headers=g,f.Request=L,f.Response=I,f.fetch=function(D,R){return new Promise(function(V,N){var Q=new L(D,R),T=new XMLHttpRequest;T.onload=function(){var K,se={status:T.status,statusText:T.statusText,headers:(se=T.getAllResponseHeaders()||"",K=new g,se.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Z){var ie=(Z=Z.split(":")).shift().trim();ie&&(Z=Z.join(":").trim(),K.append(ie,Z))}),K)},fe=(se.url="responseURL"in T?T.responseURL:se.headers.get("X-Request-URL"),"response"in T?T.response:T.responseText);V(new I(fe,se))},T.onerror=function(){N(new TypeError("Network request failed"))},T.ontimeout=function(){N(new TypeError("Network request failed"))},T.open(Q.method,Q.url,!0),"include"===Q.credentials?T.withCredentials=!0:"omit"===Q.credentials&&(T.withCredentials=!1),"responseType"in T&&y&&(T.responseType="blob"),Q.headers.forEach(function(K,se){T.setRequestHeader(se,K)}),T.send(void 0===Q._bodyInit?null:Q._bodyInit)})},f.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],252:[function(r,G,O){"use strict";r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f,m=y(r("../core/main")),d=y(r("../color/color_conversion"));function y(i){return i&&i.__esModule?i:{default:i}}var w=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],b=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];m.default.prototype._rgbColorName=function(s){s=d.default._rgbaToHSBA(s);var l,h,c=[(f=s)[0],s[1],s[2]];0!==c[0]&&(c[0]=Math.round(100*c[0]),(s=c[0].toString().split(""))[h=s.length-1]=parseInt(s[h]),s[h]<2.5?s[h]=0:2.5<=s[h]&&s[h]<7.5&&(s[h]=5),2===s.length?(s[0]=parseInt(s[0]),7.5<=s[h]&&(s[h]=0,s[0]=s[0]+1),c[0]=10*s[0]+s[1]):c[0]=7.5<=s[h]?10:s[h]),c[2]=c[2]/255;for(var p=c.length-1;1<=p;p--)c[p]=c[p]<=.25?0:.25<c[p]&&c[p]<.75?.5:1;if(0===c[0]&&0===c[1]&&1===c[2]){for(var v=2;0<=v;v--)f[v]=Math.round(1e4*f[v])/1e4;for(var a=0;a<w.length;a++){if(w[a].h===f[0]&&w[a].s===f[1]&&w[a].b===f[2]){l=w[a].name;break}l="white"}}else for(var g=0;g<b.length;g++)if(b[g].h===c[0]&&b[g].s===c[1]&&b[g].b===c[2]){l=b[g].name;break}return l},O.default=r=m.default},{"../color/color_conversion":258,"../core/main":273,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196}],253:[function(r,G,O){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r},m="_Description",d="_fallbackDesc",y="_fallbackTable",w="_Label",b="_labelDesc",i="_labelTable";function l(h){if("label"===h||"fallback"===h)throw new Error("description should not be LABEL or FALLBACK");return h.endsWith(".")||h.endsWith(";")||h.endsWith(",")||h.endsWith("?")||h.endsWith("!")||(h+="."),h}f.default.prototype.describe=function(h,s){var c;f.default._validateParameters("describe",arguments),"string"==typeof h&&(c=this.canvas.id,h=l(h),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==h&&(this.descriptions.fallback.innerHTML=h):this._describeHTML("fallback",h),s===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==h&&(this.descriptions.label.innerHTML=h):this._describeHTML("label",h)))},f.default.prototype.describeElement=function(h,s,c){var p,v;f.default._validateParameters("describeElement",arguments),"string"==typeof s&&"string"==typeof h&&(p=this.canvas.id,s=l(s),v=function(a){if("label"===a||"fallback"===a)throw new Error("element name should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")?a=a.replace(/.$/,":"):a.endsWith(":")||(a+=":"),a}(h),h=h.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(s,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[h]?this.descriptions.fallbackElements[h].innerHTML!==v&&(this.descriptions.fallbackElements[h].innerHTML=v):this._describeElementHTML("fallback",h,v),c===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[h]?this.descriptions.labelElements[h].innerHTML!==v&&(this.descriptions.labelElements[h].innerHTML=v):this._describeElementHTML("label",h,v)))},f.default.prototype._describeHTML=function(h,s){var c,p=this.canvas.id;"fallback"===h?(this.dummyDOM.querySelector("#".concat(p+m))?this.dummyDOM.querySelector("#"+p+y).insertAdjacentHTML("beforebegin",'<p id="'.concat(p+d,'"></p>')):(c='<div id="'.concat(p).concat(m,'" role="region" aria-label="Canvas Description"><p id="').concat(p).concat(d,'"></p></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutput")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(p)).innerHTML=c),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(p).concat(d)),this.descriptions.fallback.innerHTML=s):"label"===h&&(this.dummyDOM.querySelector("#".concat(p+w))?this.dummyDOM.querySelector("#".concat(p+i))&&this.dummyDOM.querySelector("#".concat(p+i)).insertAdjacentHTML("beforebegin",'<p id="'.concat(p).concat(b,'"></p>')):(c='<div id="'.concat(p).concat(w,'" class="p5Label"><p id="').concat(p).concat(b,'"></p></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+p).insertAdjacentHTML("afterend",c)),this.descriptions.label=this.dummyDOM.querySelector("#"+p+b),this.descriptions.label.innerHTML=s)},f.default.prototype._describeElementHTML=function(h,s,c){var p,v=this.canvas.id;"fallback"===h?(this.dummyDOM.querySelector("#".concat(v+m))?this.dummyDOM.querySelector("#"+v+y)||this.dummyDOM.querySelector("#"+v+d).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(y,'"><caption>Canvas elements and their descriptions</caption></table>')):(p='<div id="'.concat(v).concat(m,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(y,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+v).innerHTML=p),(p=document.createElement("tr")).id=v+"_fte_"+s,this.dummyDOM.querySelector("#"+v+y).appendChild(p),this.descriptions.fallbackElements[s]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(s)),this.descriptions.fallbackElements[s].innerHTML=c):"label"===h&&(this.dummyDOM.querySelector("#".concat(v+w))?this.dummyDOM.querySelector("#".concat(v+i))||this.dummyDOM.querySelector("#"+v+b).insertAdjacentHTML("afterend",'<table id="'.concat(v+i,'"></table>')):(p='<div id="'.concat(v).concat(w,'" class="p5Label"><table id="').concat(v).concat(i,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",p)),(h=document.createElement("tr")).id=v+"_lte_"+s,this.dummyDOM.querySelector("#"+v+i).appendChild(h),this.descriptions.labelElements[s]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(s)),this.descriptions.labelElements[s].innerHTML=c)},O.default=r=f.default},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.replace":194}],254:[function(r,G,O){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype._updateGridOutput=function(f){var m,d,y,w,b,i,l,h;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(m=this._accessibleOutputs[f],b=(d=function(b,i){var l,h="",s="",c=0;for(l in i){var p,v=0;for(p in i[l]){var a='<li id="'.concat(b,"shape").concat(c,'">').concat(i[l][p].color," ").concat(l,",");"line"===l?a+=" location = ".concat(i[l][p].pos,", length = ").concat(i[l][p].length," pixels"):(a+=" location = ".concat(i[l][p].pos),"point"!==l&&(a+=", area = ".concat(i[l][p].area," %")),a+="</li>"),h+=a,v++,c++}s=1<v?"".concat(s," ").concat(v," ").concat(l,"s"):"".concat(s," ").concat(v," ").concat(l)}return{numShapes:[c,s],details:h}}(f,this.ingredients.shapes)).numShapes,l=this.width,h=this.height,i="".concat(i=this.ingredients.colors.background," canvas, ").concat(l," by ").concat(h," pixels, contains ").concat(b[0]),y=i="".concat(i,1===b[0]?" shape: ":" shapes: ").concat(b[1]),w=function(b,i){var l,h,s=0,c="",p=Array.from(Array(10),function(){return Array(10)});for(l in i)for(var v in i[l]){var a;a="line"!==l?'<a href="#'.concat(b,"shape").concat(s,'">').concat(i[l][v].color," ").concat(l,"</a>"):'<a href="#'.concat(b,"shape").concat(s,'">').concat(i[l][v].color," ").concat(l," midpoint</a>"),p[i[l][v].loc.locY][i[l][v].loc.locX]=p[i[l][v].loc.locY][i[l][v].loc.locX]?p[i[l][v].loc.locY][i[l][v].loc.locX]+"  "+a:a,s++}for(h in p){var g,E="<tr>";for(g in p[h])E+="<td>",void 0!==p[h][g]&&(E+=p[h][g]),E+="</td>";c=c+E+"</tr>"}return c}(f,this.ingredients.shapes),y!==m.summary.innerHTML&&(m.summary.innerHTML=y),w!==m.map.innerHTML&&(m.map.innerHTML=w),d.details!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=d.details),this._accessibleOutputs[f]=m)},O.default=r=r.default},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":157,"core-js/modules/es.array.map":163,"core-js/modules/es.string.iterator":190}],255:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};function d(y,w,b){return 10===(w=Math.floor(y[0]/w*10))&&(w-=1),10===(y=Math.floor(y[1]/b*10))&&(y-=1),{locX:w,locY:y}}f.default.prototype.textOutput=function(y){f.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},f.default.prototype.gridOutput=function(y){f.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},f.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},f.default.prototype._createOutput=function(y,w){var b,i,l,h=this.canvas.id,s=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),"");"Fallback"===w?(b=h+y,this.dummyDOM.querySelector("#".concat(i=h+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(h,"_Description"))?this.dummyDOM.querySelector("#".concat(h,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(h)).innerHTML='<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===w&&(b=h+y+(s=w),this.dummyDOM.querySelector("#".concat(i=h+"accessibleOutput"+w))||(this.dummyDOM.querySelector("#".concat(h,"_Label"))?this.dummyDOM.querySelector("#".concat(h,"_Label")):this.dummyDOM.querySelector("#".concat(h))).insertAdjacentHTML("afterend",'<div id="'.concat(i,'"></div>'))),this._accessibleOutputs[b]={},"textOutput"===y?(s="#".concat(h,"gridOutput").concat(s),l='<div id="'.concat(b,'">Text Output<div id="').concat(b,'Summary" aria-label="text output summary"><p id="').concat(b,'_summary"></p><ul id="').concat(b,'_list"></ul></div><table id="').concat(b,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(s)?this.dummyDOM.querySelector(s).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(i)).innerHTML=l,this._accessibleOutputs[b].list=this.dummyDOM.querySelector("#".concat(b,"_list"))):"gridOutput"===y&&(s="#".concat(h,"textOutput").concat(s),l='<div id="'.concat(b,'">Grid Output<p id="').concat(b,'_summary" aria-label="grid output summary"><table id="').concat(b,'_map" summary="grid output content"></table><ul id="').concat(b,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(s)?this.dummyDOM.querySelector(s).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(i)).innerHTML=l,this._accessibleOutputs[b].map=this.dummyDOM.querySelector("#".concat(b,"_map"))),this._accessibleOutputs[b].shapeDetails=this.dummyDOM.querySelector("#".concat(b,"_shapeDetails")),this._accessibleOutputs[b].summary=this.dummyDOM.querySelector("#".concat(b,"_summary"))},f.default.prototype._updateAccsOutput=function(){var y=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(y+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(y+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(y+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(y+"gridOutputLabel"))},f.default.prototype._accsBackground=function(y){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==y&&(this.ingredients.colors.backgroundRGBA=y,this.ingredients.colors.background=this._rgbColorName(y))},f.default.prototype._accsCanvasColors=function(y,w){"fill"===y?this.ingredients.colors.fillRGBA!==w&&(this.ingredients.colors.fillRGBA=w,this.ingredients.colors.fill=this._rgbColorName(w)):"stroke"===y&&this.ingredients.colors.strokeRGBA!==w&&(this.ingredients.colors.strokeRGBA=w,this.ingredients.colors.stroke=this._rgbColorName(w))},f.default.prototype._accsOutput=function(y,w){"ellipse"===y&&w[2]===w[3]?y="circle":"rectangle"===y&&w[2]===w[3]&&(y="square");var b,i,p,v,a,l={},h=!0,s=(v=w,p="rectangle"===(p=y)||"ellipse"===p||"arc"===p||"circle"===p||"square"===p?(a=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):"triangle"===p?(a=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):"quadrilateral"===p?(a=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):"line"===p?(a=(v[0]+v[2])/2,(v[1]+v[3])/2):(a=v[0],v[1]),[a,p]);if("line"===y?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(w[0],w[1],w[2],w[3])),b=this._getPos(w[0],[1]),i=this._getPos(w[2],[3]),l.loc=d(s,this.width,this.height),l.pos=b===i?"at ".concat(b):"from ".concat(b," to ").concat(i)):("point"===y?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=this._getArea(y,w)),l.pos=this._getPos.apply(this,function m(y){return function(w){if(Array.isArray(w)){for(var b=0,i=new Array(w.length);b<w.length;b++)i[b]=w[b];return i}}(y)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(s)),l.loc=d(s,this.width,this.height)),this.ingredients.shapes[y]){if(this.ingredients.shapes[y]!==[l]){for(var c in this.ingredients.shapes[y])JSON.stringify(this.ingredients.shapes[y][c])===JSON.stringify(l)&&(h=!1);!0===h&&this.ingredients.shapes[y].push(l)}}else this.ingredients.shapes[y]=[l]},f.default.prototype._getPos=function(i,b){i=new DOMPointReadOnly(i,b),b=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),b=(i=i.matrixTransform(b)).x,i=i.y;var l=this.width,h=this.height;return b<.4*l?i<.4*h?"top left":.6*h<i?"bottom left":"mid left":.6*l<b?i<.4*h?"top right":.6*h<i?"bottom right":"mid right":i<.4*h?"top middle":.6*h<i?"bottom middle":"middle"},f.default.prototype._getArea=function(y,w){var b,i,l=0,h=("arc"===y?(l=(b=((w[5]-w[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*w[2]*w[3]/8,"open"!==w[6]&&"chord"!==w[6]||(i=w[0],v=w[1],h=w[0]+w[2]/2*Math.cos(w[4]).toFixed(2),a=w[1]+w[3]/2*Math.sin(w[4]).toFixed(2),c=w[0]+w[2]/2*Math.cos(w[5]).toFixed(2),s=w[1]+w[3]/2*Math.sin(w[5]).toFixed(2),i=Math.abs(i*(a-s)+h*(s-v)+c*(v-a))/2,b>Math.PI?l+=i:l-=i)):"ellipse"===y||"circle"===y?l=3.14*w[2]/2*w[3]/2:"line"===y||"point"===y?l=0:"quadrilateral"===y?l=Math.abs((w[6]+w[0])*(w[7]-w[1])+(w[0]+w[2])*(w[1]-w[3])+(w[2]+w[4])*(w[3]-w[5])+(w[4]+w[6])*(w[5]-w[7]))/2:"rectangle"===y||"square"===y?l=w[2]*w[3]:"triangle"===y&&(l=Math.abs(w[0]*(w[3]-w[5])+w[2]*(w[5]-w[1])+w[4]*(w[1]-w[3]))/2),this.width*this._pixelDensity),s=this.height*this._pixelDensity,c=[new DOMPoint(0,0),new DOMPoint(h,0),new DOMPoint(h,s),new DOMPoint(0,s)],p=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),v=c.map(function(g){return g.matrixTransform(p)}),a=Math.abs((v[3].x+v[0].x)*(v[3].y-v[0].y)+(v[0].x+v[1].x)*(v[0].y-v[1].y)+(v[1].x+v[2].x)*(v[1].y-v[2].y)+(v[2].x+v[3].x)*(v[2].y-v[3].y))/2;return Math.round(100*l/a)},O.default=r=f.default},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],256:[function(r,G,O){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.concat"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype._updateTextOutput=function(f){var m,d,y,w,b,i,l,h;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(m=this._accessibleOutputs[f],b=(d=function(b,i){var l,h="",s=0;for(l in i)for(var c in i[l]){var p='<li><a href="#'.concat(b,"shape").concat(s,'">').concat(i[l][c].color," ").concat(l,"</a>");"line"===l?p+=", ".concat(i[l][c].pos,", ").concat(i[l][c].length," pixels long.</li>"):(p+=", at ".concat(i[l][c].pos),"point"!==l&&(p+=", covering ".concat(i[l][c].area,"% of the canvas")),p+=".</li>"),h+=p,s++}return{numShapes:s,listShapes:h}}(f,this.ingredients.shapes)).numShapes,i=this.ingredients.colors.background,h=this.height,l="Your output is a, ".concat(l=this.width," by ").concat(h," pixels, ").concat(i," canvas containing the following"),y=l=1===b?"".concat(l," shape:"):"".concat(l," ").concat(b," shapes:"),w=function(b,i){var l,h="",s=0;for(l in i)for(var c in i[l]){var p='<tr id="'.concat(b,"shape").concat(s,'"><th>').concat(i[l][c].color," ").concat(l,"</th>");"line"===l?p+="<td>location = ".concat(i[l][c].pos,"</td><td>length = ").concat(i[l][c].length," pixels</td></tr>"):(p+="<td>location = ".concat(i[l][c].pos,"</td>"),"point"!==l&&(p+="<td> area = ".concat(i[l][c].area,"%</td>")),p+="</tr>"),h+=p,s++}return h}(f,this.ingredients.shapes),y!==m.summary.innerHTML&&(m.summary.innerHTML=y),d.listShapes!==m.list.innerHTML&&(m.list.innerHTML=d.listShapes),w!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=w),this._accessibleOutputs[f]=m)},O.default=r=r.default},{"../core/main":273,"core-js/modules/es.array.concat":151}],257:[function(r,G,O){"use strict";var f=(f=r("./core/main"))&&f.__esModule?f:{default:f};r("./core/constants"),r("./core/environment"),r("./core/friendly_errors/stacktrace"),r("./core/friendly_errors/validate_params"),r("./core/friendly_errors/file_errors"),r("./core/friendly_errors/fes_core"),r("./core/friendly_errors/sketch_reader"),r("./core/helpers"),r("./core/legacy"),r("./core/preload"),r("./core/p5.Element"),r("./core/p5.Graphics"),r("./core/p5.Renderer"),r("./core/p5.Renderer2D"),r("./core/rendering"),r("./core/shim"),r("./core/structure"),r("./core/transform"),r("./core/shape/2d_primitives"),r("./core/shape/attributes"),r("./core/shape/curves"),r("./core/shape/vertex"),r("./accessibility/outputs"),r("./accessibility/textOutput"),r("./accessibility/gridOutput"),r("./accessibility/color_namer"),r("./color/color_conversion"),r("./color/creating_reading"),r("./color/p5.Color"),r("./color/setting"),r("./data/p5.TypedDict"),r("./data/local_storage.js"),r("./dom/dom"),r("./accessibility/describe"),r("./events/acceleration"),r("./events/keyboard"),r("./events/mouse"),r("./events/touch"),r("./image/filters"),r("./image/image"),r("./image/loading_displaying"),r("./image/p5.Image"),r("./image/pixels"),r("./io/files"),r("./io/p5.Table"),r("./io/p5.TableRow"),r("./io/p5.XML"),r("./math/calculation"),r("./math/math"),r("./math/noise"),r("./math/p5.Vector"),r("./math/random"),r("./math/trigonometry"),r("./typography/attributes"),r("./typography/loading_displaying"),r("./typography/p5.Font"),r("./utilities/array_functions"),r("./utilities/conversion"),r("./utilities/string_functions"),r("./utilities/time_date"),r("./webgl/3d_primitives"),r("./webgl/interaction"),r("./webgl/light"),r("./webgl/loading"),r("./webgl/material"),r("./webgl/p5.Camera"),r("./webgl/p5.Geometry"),r("./webgl/p5.Matrix"),r("./webgl/p5.RendererGL.Immediate"),r("./webgl/p5.RendererGL"),r("./webgl/p5.RendererGL.Retained"),r("./webgl/p5.Framebuffer"),r("./webgl/p5.Shader"),r("./webgl/p5.RenderBuffer"),r("./webgl/p5.Texture"),r("./webgl/text"),r("./core/init"),G.exports=f.default},{"./accessibility/color_namer":252,"./accessibility/describe":253,"./accessibility/gridOutput":254,"./accessibility/outputs":255,"./accessibility/textOutput":256,"./color/color_conversion":258,"./color/creating_reading":259,"./color/p5.Color":260,"./color/setting":261,"./core/constants":262,"./core/environment":263,"./core/friendly_errors/fes_core":264,"./core/friendly_errors/file_errors":265,"./core/friendly_errors/sketch_reader":266,"./core/friendly_errors/stacktrace":267,"./core/friendly_errors/validate_params":268,"./core/helpers":269,"./core/init":270,"./core/legacy":272,"./core/main":273,"./core/p5.Element":274,"./core/p5.Graphics":275,"./core/p5.Renderer":276,"./core/p5.Renderer2D":277,"./core/preload":278,"./core/rendering":279,"./core/shape/2d_primitives":280,"./core/shape/attributes":281,"./core/shape/curves":282,"./core/shape/vertex":283,"./core/shim":284,"./core/structure":285,"./core/transform":286,"./data/local_storage.js":287,"./data/p5.TypedDict":288,"./dom/dom":289,"./events/acceleration":290,"./events/keyboard":291,"./events/mouse":292,"./events/touch":293,"./image/filters":294,"./image/image":295,"./image/loading_displaying":296,"./image/p5.Image":297,"./image/pixels":298,"./io/files":299,"./io/p5.Table":300,"./io/p5.TableRow":301,"./io/p5.XML":302,"./math/calculation":303,"./math/math":304,"./math/noise":305,"./math/p5.Vector":306,"./math/random":307,"./math/trigonometry":308,"./typography/attributes":309,"./typography/loading_displaying":310,"./typography/p5.Font":311,"./utilities/array_functions":312,"./utilities/conversion":313,"./utilities/string_functions":314,"./utilities/time_date":315,"./webgl/3d_primitives":316,"./webgl/interaction":317,"./webgl/light":318,"./webgl/loading":319,"./webgl/material":320,"./webgl/p5.Camera":321,"./webgl/p5.Framebuffer":322,"./webgl/p5.Geometry":323,"./webgl/p5.Matrix":324,"./webgl/p5.RenderBuffer":325,"./webgl/p5.RendererGL":328,"./webgl/p5.RendererGL.Immediate":326,"./webgl/p5.RendererGL.Retained":327,"./webgl/p5.Shader":329,"./webgl/p5.Texture":330,"./webgl/text":331}],258:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.ColorConversion={_hsbaToHSLA:function(f){var d=f[1],y=f[2],w=(2-d)*y/2;return 0!=w&&(1==w?d=0:w<.5?d/=2-d:d=d*y/(2-2*w)),[f[0],d,w,f[3]]},_hsbaToRGBA:function(f){var m,d,y,w,b,i=6*f[0],l=f[1],h=f[2];return 0===l?[h,h,h,f[3]]:(d=h*(1-l),y=h*(1-l*(i-(m=Math.floor(i)))),l=h*(1-l*(1+m-i)),i=1===m?(w=y,b=h,d):2===m?(w=d,b=h,l):3===m?(w=d,b=y,h):4===m?(w=l,b=d,h):5===m?(w=h,b=d,y):(w=h,b=l,d),[w,b,i,f[3]])},_hslaToHSBA:function(f){var d=f[1],y=f[2],w=y<.5?(1+d)*y:y+d-y*d;return[f[0],d=2*(w-y)/w,w,f[3]]},_hslaToRGBA:function(f){var m,d=6*f[0],y=f[1],w=f[2];return 0===y?[w,w,w,f[3]]:[(m=function(b,i,l){return b<0?b+=6:6<=b&&(b-=6),b<1?i+(l-i)*b:b<3?l:b<4?i+(l-i)*(4-b):i})(2+d,y=2*w-(w=w<.5?(1+y)*w:w+y-w*y),w),m(d,y,w),m(d-2,y,w),f[3]]},_rgbaToHSBA:function(f){var m,d,y=f[0],w=f[1],b=f[2],i=Math.max(y,w,b),l=i-Math.min(y,w,b);return 0==l?d=m=0:(d=l/i,y===i?m=(w-b)/l:w===i?m=2+(b-y)/l:b===i&&(m=4+(y-w)/l),m<0?m+=6:6<=m&&(m-=6)),[m/6,d,i,f[3]]},_rgbaToHSLA:function(f){var m,d,h,y=f[0],w=f[1],b=f[2],i=Math.max(y,w,b),l=i+(h=Math.min(y,w,b));return 0==(h=i-h)?d=m=0:(d=l<1?h/l:h/(2-l),y===i?m=(w-b)/h:w===i?m=2+(b-y)/h:b===i&&(m=4+(y-w)/h),m<0?m+=6:6<=m&&(m-=6)),[m/6,d,l/2,f[3]]}},O.default=r=r.default.ColorConversion},{"../core/main":273}],259:[function(r,G,O){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function m(i){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(l){return f(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":f(l)})(i)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.map"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(b=r("../core/main"))&&b.__esModule?b:{default:b},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==m(i)&&"function"!=typeof i)return{default:i};var l=w();if(l&&l.has(i))return l.get(i);var h,s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i){var p;Object.prototype.hasOwnProperty.call(i,h)&&((p=c?Object.getOwnPropertyDescriptor(i,h):null)&&(p.get||p.set)?Object.defineProperty(s,h,p):s[h]=i[h])}return s.default=i,l&&l.set(i,s),s}(r("../core/constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}r("./p5.Color"),r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),d.default.prototype.alpha=function(i){return d.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},d.default.prototype.blue=function(i){return d.default._validateParameters("blue",arguments),this.color(i)._getBlue()},d.default.prototype.brightness=function(i){return d.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},d.default.prototype.color=function(){return d.default._validateParameters("color",arguments),arguments[0]instanceof d.default.Color?arguments[0]:new d.default.Color(this,arguments[0]instanceof Array?arguments[0]:arguments)},d.default.prototype.green=function(i){return d.default._validateParameters("green",arguments),this.color(i)._getGreen()},d.default.prototype.hue=function(i){return d.default._validateParameters("hue",arguments),this.color(i)._getHue()},d.default.prototype.lerpColor=function(i,l,h){d.default._validateParameters("lerpColor",arguments);var s,c,p,v=this._colorMode,a=this._colorMaxes;if(v===y.RGB)c=i.levels.map(function(g){return g/255}),p=l.levels.map(function(g){return g/255});else if(v===y.HSB)i._getBrightness(),l._getBrightness(),c=i.hsba,p=l.hsba;else{if(v!==y.HSL)throw new Error("".concat(v,"cannot be used for interpolation."));i._getLightness(),l._getLightness(),c=i.hsla,p=l.hsla}return h=Math.max(Math.min(h,1),0),void 0===this.lerp&&(this.lerp=function(g,E,$){return $*(E-g)+g}),i=this.lerp(c[0],p[0],h),l=this.lerp(c[1],p[1],h),s=this.lerp(c[2],p[2],h),c=this.lerp(c[3],p[3],h),this.color(i*=a[v][0],l*=a[v][1],s*=a[v][2],c*=a[v][3])},d.default.prototype.lightness=function(i){return d.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},d.default.prototype.red=function(i){return d.default._validateParameters("red",arguments),this.color(i)._getRed()},d.default.prototype.saturation=function(i){return d.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var b=d.default;O.default=b},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],260:[function(s,G,O){"use strict";function f(g){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(g)}function m(g){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(E){return f(E)}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":f(E)})(g)}s("core-js/modules/es.symbol"),s("core-js/modules/es.symbol.description"),s("core-js/modules/es.symbol.iterator"),s("core-js/modules/es.array.includes"),s("core-js/modules/es.array.iterator"),s("core-js/modules/es.array.join"),s("core-js/modules/es.array.map"),s("core-js/modules/es.array.slice"),s("core-js/modules/es.object.get-own-property-descriptor"),s("core-js/modules/es.object.to-string"),s("core-js/modules/es.regexp.constructor"),s("core-js/modules/es.regexp.exec"),s("core-js/modules/es.regexp.to-string"),s("core-js/modules/es.string.includes"),s("core-js/modules/es.string.iterator"),s("core-js/modules/es.string.trim"),s("core-js/modules/es.weak-map"),s("core-js/modules/web.dom-collections.iterator"),s("core-js/modules/es.array.includes"),s("core-js/modules/es.array.join"),s("core-js/modules/es.array.map"),s("core-js/modules/es.array.slice"),s("core-js/modules/es.object.to-string"),s("core-js/modules/es.regexp.constructor"),s("core-js/modules/es.regexp.exec"),s("core-js/modules/es.regexp.to-string"),s("core-js/modules/es.string.includes"),s("core-js/modules/es.string.trim"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=i(s("../core/main")),y=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==m(g)&&"function"!=typeof g)return{default:g};var E=b();if(E&&E.has(g))return E.get(g);var $,k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in g){var A;Object.prototype.hasOwnProperty.call(g,$)&&((A=M?Object.getOwnPropertyDescriptor(g,$):null)&&(A.get||A.set)?Object.defineProperty(k,$,A):k[$]=g[$])}return k.default=g,E&&E.set(g,k),k}(s("../core/constants")),w=i(s("./color_conversion"));function b(){var g;return"function"!=typeof WeakMap?null:(b=function(){return g},g=new WeakMap)}function i(g){return g&&g.__esModule?g:{default:g}}function l(g,E){for(var $=0;$<E.length;$++){var k=E[$];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}var h={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a=(s=/\s*/,/(\d{1,3})/),c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,p=new RegExp("".concat(c.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",a.source,",",a.source,",",a.source,"\\)$"].join(s.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(s.source),"i"),RGBA:new RegExp(["^rgba\\(",a.source,",",a.source,",",a.source,",",c.source,"\\)$"].join(s.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",c.source,"\\)$"].join(s.source),"i"),HSL:new RegExp(["^hsl\\(",a.source,",",p.source,",",p.source,"\\)$"].join(s.source),"i"),HSLA:new RegExp(["^hsla\\(",a.source,",",p.source,",",p.source,",",c.source,"\\)$"].join(s.source),"i"),HSB:new RegExp(["^hsb\\(",a.source,",",p.source,",",p.source,"\\)$"].join(s.source),"i"),HSBA:new RegExp(["^hsba\\(",a.source,",",p.source,",",p.source,",",c.source,"\\)$"].join(s.source),"i")};d.default.Color=function(){function g(M,A){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(M._colorMode,M._colorMaxes),![y.RGB,y.HSL,y.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=g._parseInputs.apply(this,A),this._calculateLevels()}var E,$,k;return E=g,k=[{key:"_parseInputs",value:function(M,A,L,U){var I,D=arguments.length,R=this.mode,V=this.maxes[R],N=[];if(3<=D){for(N[0]=M/V[0],N[1]=A/V[1],N[2]=L/V[2],N[3]="number"==typeof U?U/V[3]:1,I=N.length-1;0<=I;--I){var Q=N[I];Q<0?N[I]=0:1<Q&&(N[I]=1)}return R===y.HSL?w.default._hslaToRGBA(N):R===y.HSB?w.default._hsbaToRGBA(N):N}if(1===D&&"string"==typeof M){if(L=M.trim().toLowerCase(),h[L])return g._parseInputs.call(this,h[L]);if(v.HEX3.test(L))return(N=v.HEX3.exec(L).slice(1).map(function(T){return parseInt(T+T,16)/255}))[3]=1,N;if(v.HEX6.test(L))return(N=v.HEX6.exec(L).slice(1).map(function(T){return parseInt(T,16)/255}))[3]=1,N;if(v.HEX4.test(L))return v.HEX4.exec(L).slice(1).map(function(T){return parseInt(T+T,16)/255});if(v.HEX8.test(L))return v.HEX8.exec(L).slice(1).map(function(T){return parseInt(T,16)/255});if(v.RGB.test(L))return(N=v.RGB.exec(L).slice(1).map(function(T){return T/255}))[3]=1,N;if(v.RGB_PERCENT.test(L))return(N=v.RGB_PERCENT.exec(L).slice(1).map(function(T){return parseFloat(T)/100}))[3]=1,N;if(v.RGBA.test(L))return v.RGBA.exec(L).slice(1).map(function(T,K){return 3===K?parseFloat(T):T/255});if(v.RGBA_PERCENT.test(L))return v.RGBA_PERCENT.exec(L).slice(1).map(function(T,K){return 3===K?parseFloat(T):parseFloat(T)/100});if(v.HSL.test(L)?(N=v.HSL.exec(L).slice(1).map(function(T,K){return 0===K?parseInt(T,10)/360:parseInt(T,10)/100}))[3]=1:v.HSLA.test(L)&&(N=v.HSLA.exec(L).slice(1).map(function(T,K){return 0===K?parseInt(T,10)/360:3===K?parseFloat(T):parseInt(T,10)/100})),(N=N.map(function(T){return Math.max(Math.min(T,1),0)})).length)return w.default._hslaToRGBA(N);if(v.HSB.test(L)?(N=v.HSB.exec(L).slice(1).map(function(T,K){return 0===K?parseInt(T,10)/360:parseInt(T,10)/100}))[3]=1:v.HSBA.test(L)&&(N=v.HSBA.exec(L).slice(1).map(function(T,K){return 0===K?parseInt(T,10)/360:3===K?parseFloat(T):parseInt(T,10)/100})),N.length){for(I=N.length-1;0<=I;--I)N[I]=Math.max(Math.min(N[I],1),0);return w.default._hsbaToRGBA(N)}N=[1,1,1,1]}else{if(1!==D&&2!==D||"number"!=typeof M)throw new Error("".concat(arguments,"is not a valid color representation."));N[0]=M/V[2],N[1]=M/V[2],N[2]=M/V[2],N[3]="number"==typeof A?A/V[3]:1,N=N.map(function(T){return Math.max(Math.min(T,1),0)})}return N}}],($=[{key:"toString",value:function(M){var A=this.levels,L=this._array,U=L[3];switch(M){case"#rrggbb":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16));case"#rrggbbaa":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16),A[3]<16?"0".concat(A[3].toString(16)):A[3].toString(16));case"#rgb":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*L[0]).toString(16),Math.round(15*L[1]).toString(16),Math.round(15*L[2]).toString(16),Math.round(15*L[3]).toString(16));case"rgb":return"rgb(".concat(A[0],", ",A[1],", ",A[2],")");case"rgb%":return"rgb(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*L[0]).toPrecision(3),"%, ",(100*L[1]).toPrecision(3),"%, ",(100*L[2]).toPrecision(3),"%, ",(100*L[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],", ",U,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*U).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],", ",U,")");case"hsla%":return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*U).toPrecision(3),"%)");default:return"rgba(".concat(A[0],",",A[1],",",A[2],",",U,")")}}},{key:"setRed",value:function(M){this._array[0]=M/this.maxes[y.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(M){this._array[1]=M/this.maxes[y.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(M){this._array[2]=M/this.maxes[y.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(M){this._array[3]=M/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var M=this._array,A=this.levels=new Array(M.length),L=M.length-1;0<=L;--L)A[L]=Math.round(255*M[L]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(M,A){this.mode=M,this.maxes=A}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[y.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[y.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[y.RGB][1]}},{key:"_getHue",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[y.HSB][0]):(this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[y.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[y.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[y.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=w.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[y.HSB][1]):(this.hsla||(this.hsla=w.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[y.HSL][1])}}])&&l(E.prototype,$),k&&l(E,k),g}(),O.default=a=d.default.Color},{"../core/constants":262,"../core/main":273,"./color_conversion":258,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],261:[function(r,G,O){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function m(i){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(l){return f(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":f(l)})(i)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.fill"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(b=r("../core/main"))&&b.__esModule?b:{default:b},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==m(i)&&"function"!=typeof i)return{default:i};var l=w();if(l&&l.has(i))return l.get(i);var h,s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i){var p;Object.prototype.hasOwnProperty.call(i,h)&&((p=c?Object.getOwnPropertyDescriptor(i,h):null)&&(p.get||p.set)?Object.defineProperty(s,h,p):s[h]=i[h])}return s.default=i,l&&l.set(i,s),s}(r("../core/constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}r("./p5.Color"),d.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},d.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},d.default.prototype.colorMode=function(i,l,h,s,c){return d.default._validateParameters("colorMode",arguments),i!==y.RGB&&i!==y.HSB&&i!==y.HSL||(this._colorMode=i,i=this._colorMaxes[i],2===arguments.length?(i[0]=l,i[1]=l,i[2]=l,i[3]=l):4===arguments.length?(i[0]=l,i[1]=h,i[2]=s):5===arguments.length&&(i[0]=l,i[1]=h,i[2]=s,i[3]=c)),this},d.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},d.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},d.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},d.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},d.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},d.default.prototype.noErase=function(){return this._renderer.noErase(),this};var b=d.default;O.default=b},{"../core/constants":262,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],262:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.QUADRATIC=O.LINEAR=O._CTX_MIDDLE=O._DEFAULT_LEADMULT=O._DEFAULT_TEXT_FILL=O.WORD=O.CHAR=O.BOLDITALIC=O.BOLD=O.ITALIC=O.NORMAL=O.BLUR=O.ERODE=O.DILATE=O.POSTERIZE=O.INVERT=O.OPAQUE=O.GRAY=O.THRESHOLD=O.BURN=O.DODGE=O.SOFT_LIGHT=O.HARD_LIGHT=O.OVERLAY=O.REPLACE=O.SCREEN=O.MULTIPLY=O.EXCLUSION=O.SUBTRACT=O.DIFFERENCE=O.LIGHTEST=O.DARKEST=O.ADD=O.REMOVE=O.BLEND=O.UP_ARROW=O.TAB=O.SHIFT=O.RIGHT_ARROW=O.RETURN=O.OPTION=O.LEFT_ARROW=O.ESCAPE=O.ENTER=O.DOWN_ARROW=O.DELETE=O.CONTROL=O.BACKSPACE=O.ALT=O.AUTO=O.HSL=O.HSB=O.RGB=O.MITER=O.BEVEL=O.ROUND=O.SQUARE=O.PROJECT=O.PIE=O.CHORD=O.OPEN=O.CLOSE=O.TESS=O.QUAD_STRIP=O.QUADS=O.TRIANGLE_STRIP=O.TRIANGLE_FAN=O.TRIANGLES=O.LINE_LOOP=O.LINE_STRIP=O.LINES=O.POINTS=O.BASELINE=O.BOTTOM=O.TOP=O.CENTER=O.LEFT=O.RIGHT=O.RADIUS=O.CORNERS=O.CORNER=O.RAD_TO_DEG=O.DEG_TO_RAD=O.RADIANS=O.DEGREES=O.TWO_PI=O.TAU=O.QUARTER_PI=O.PI=O.HALF_PI=O.WAIT=O.TEXT=O.MOVE=O.HAND=O.CROSS=O.ARROW=O.WEBGL2=O.WEBGL=O.P2D=O.VERSION=void 0,O.RGBA=O.HALF_FLOAT=O.FLOAT=O.UNSIGNED_INT=O.UNSIGNED_BYTE=O.COVER=O.CONTAIN=O.FALLBACK=O.LABEL=O.AXES=O.GRID=O._DEFAULT_FILL=O._DEFAULT_STROKE=O.PORTRAIT=O.LANDSCAPE=O.MIRROR=O.CLAMP=O.REPEAT=O.NEAREST=O.IMAGE=O.IMMEDIATE=O.TEXTURE=O.FILL=O.STROKE=O.CURVE=O.BEZIER=void 0;var f=Math.PI,m=(O.VERSION="1.7.0",O.P2D="p2d",O.WEBGL="webgl",O.WEBGL2="webgl2",O.ARROW="default",O.CROSS="crosshair",O.HAND="pointer",O.MOVE="move",O.TEXT="text",O.WAIT="wait",f/2);O.HALF_PI=m,O.PI=m=f,O.QUARTER_PI=m=f/4,O.TAU=m=2*f,O.TWO_PI=m=2*f,O.DEGREES="degrees",O.RADIANS="radians",O.DEG_TO_RAD=m=f/180,O.RAD_TO_DEG=m=180/f,O.CORNER="corner",O.CORNERS="corners",O.RADIUS="radius",O.RIGHT="right",O.LEFT="left",O.CENTER="center",O.TOP="top",O.BOTTOM="bottom",O.BASELINE="alphabetic",O.POINTS=0,O.LINES=1,O.LINE_STRIP=3,O.LINE_LOOP=2,O.TRIANGLES=4,O.TRIANGLE_FAN=6,O.TRIANGLE_STRIP=5,O.QUADS="quads",O.QUAD_STRIP="quad_strip",O.TESS="tess",O.CLOSE="close",O.OPEN="open",O.CHORD="chord",O.PIE="pie",O.PROJECT="square",O.SQUARE="butt",O.ROUND="round",O.BEVEL="bevel",O.MITER="miter",O.RGB="rgb",O.HSB="hsb",O.HSL="hsl",O.AUTO="auto",O.ALT=18,O.BACKSPACE=8,O.CONTROL=17,O.DELETE=46,O.DOWN_ARROW=40,O.ENTER=13,O.ESCAPE=27,O.LEFT_ARROW=37,O.OPTION=18,O.RETURN=13,O.RIGHT_ARROW=39,O.SHIFT=16,O.TAB=9,O.UP_ARROW=38,O.BLEND="source-over",O.REMOVE="destination-out",O.ADD="lighter",O.DARKEST="darken",O.LIGHTEST="lighten",O.DIFFERENCE="difference",O.SUBTRACT="subtract",O.EXCLUSION="exclusion",O.MULTIPLY="multiply",O.SCREEN="screen",O.REPLACE="copy",O.OVERLAY="overlay",O.HARD_LIGHT="hard-light",O.SOFT_LIGHT="soft-light",O.DODGE="color-dodge",O.BURN="color-burn",O.THRESHOLD="threshold",O.GRAY="gray",O.OPAQUE="opaque",O.INVERT="invert",O.POSTERIZE="posterize",O.DILATE="dilate",O.ERODE="erode",O.BLUR="blur",O.NORMAL="normal",O.ITALIC="italic",O.BOLD="bold",O.BOLDITALIC="bold italic",O.CHAR="CHAR",O.WORD="WORD",O._DEFAULT_TEXT_FILL="#000000",O._DEFAULT_LEADMULT=1.25,O._CTX_MIDDLE="middle",O.LINEAR="linear",O.QUADRATIC="quadratic",O.BEZIER="bezier",O.CURVE="curve",O.STROKE="stroke",O.FILL="fill",O.TEXTURE="texture",O.IMMEDIATE="immediate",O.IMAGE="image",O.NEAREST="nearest",O.REPEAT="repeat",O.CLAMP="clamp",O.MIRROR="mirror",O.LANDSCAPE="landscape",O.PORTRAIT="portrait",O._DEFAULT_STROKE="#000000",O._DEFAULT_FILL="#FFFFFF",O.GRID="grid",O.AXES="axes",O.LABEL="label",O.FALLBACK="fallback",O.CONTAIN="contain",O.COVER="cover",O.UNSIGNED_BYTE="unsigned-byte",O.UNSIGNED_INT="unsigned-int",O.FLOAT="float",O.HALF_FLOAT="half-float",O.RGBA="rgba"},{}],263:[function(r,G,O){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}function m(s){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(c){return f(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(s)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(y=r("./main"))&&y.__esModule?y:{default:y},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==m(s)&&"function"!=typeof s)return{default:s};var c=w();if(c&&c.has(s))return c.get(s);var p,v={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in s){var g;Object.prototype.hasOwnProperty.call(s,p)&&((g=a?Object.getOwnPropertyDescriptor(s,p):null)&&(g.get||g.set)?Object.defineProperty(v,p,g):v[p]=s[p])}return v.default=s,c&&c.set(s,v),v}(r("./constants"));function w(){var s;return"function"!=typeof WeakMap?null:(w=function(){return s},s=new WeakMap)}var b=[y.ARROW,y.CROSS,y.HAND,y.MOVE,y.TEXT,y.WAIT],i=(d.default.prototype._frameRate=0,d.default.prototype._lastFrameTime=window.performance.now(),d.default.prototype._targetFrameRate=60,window.print);function l(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}d.default.prototype.print=function(){var s;arguments.length?(s=console).log.apply(s,arguments):i()},d.default.prototype.frameCount=0,d.default.prototype.deltaTime=0,d.default.prototype.focused=document.hasFocus(),d.default.prototype.cursor=function(s,c,p){var v,a="auto",g=this._curElement.elt;b.includes(s)?a=s:"string"==typeof s&&(v="",c&&p&&"number"==typeof c&&"number"==typeof p&&(v="".concat(c," ").concat(p)),a="http://"===s.substring(0,7)||"https://"===s.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(s)?"url(".concat(s,") ").concat(v,", auto"):s),g.style.cursor=a},d.default.prototype.frameRate=function(s){return d.default._validateParameters("frameRate",arguments),"number"!=typeof s||s<0?this._frameRate:(this._setProperty("_targetFrameRate",s),0===s&&this._setProperty("_frameRate",s),this)},d.default.prototype.getFrameRate=function(){return this.frameRate()},d.default.prototype.setFrameRate=function(s){return this.frameRate(s)},d.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},d.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},d.default.prototype.webglVersion=y.P2D,d.default.prototype.displayWidth=screen.width,d.default.prototype.displayHeight=screen.height,d.default.prototype.windowWidth=l(),d.default.prototype.windowHeight=h(),d.default.prototype._onresize=function(s){this._setProperty("windowWidth",l()),this._setProperty("windowHeight",h());var c=this._isGlobal?window:this;"function"!=typeof c.windowResized||void 0===(c=c.windowResized(s))||c||s.preventDefault()},d.default.prototype.width=0,d.default.prototype.height=0,d.default.prototype.fullscreen=function(s){if(d.default._validateParameters("fullscreen",arguments),void 0===s)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(s){if(s=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},d.default.prototype.pixelDensity=function(s){var c;return d.default._validateParameters("pixelDensity",arguments),"number"==typeof s?(s!==this._pixelDensity&&(this._pixelDensity=s),(c=this).resizeCanvas(this.width,this.height,!0)):c=this._pixelDensity,c},d.default.prototype.displayDensity=function(){return window.devicePixelRatio},d.default.prototype.getURL=function(){return location.href},d.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(s){return""!==s})},d.default.prototype.getURLParams=function(){for(var s,c=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,p={};null!=(s=c.exec(location.search));)s.index===c.lastIndex&&c.lastIndex++,p[s[1]]=s[2];return p},O.default=r=d.default},{"./constants":262,"./main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.search":195,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],264:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(b=r("../main"))&&b.__esModule?b:{default:b};function m(i,l){l=l||console.log.bind(console),d||w(),d.some(function(h){var s;if(i.message&&null!==i.message.match("\\W?".concat(h.name,"\\W")))return s="function"===h.type?"".concat(h.name,"()"):h.name,l("Did you just try to use p5.js's ".concat(s," ").concat(h.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(y)),!0})}r("../internationalization");var d=null,w=null,y=(f.default._friendlyError=f.default._checkForUserDefinedFunctions=f.default._fesErrorMonitor=function(){},d=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),b=(w=function(){function i(h){return Object.getOwnPropertyNames(h).filter(function(s){return"_"!==s[0]&&!(s in l)&&(l[s]=!0)}).map(function(s){var c="function"==typeof h[s]?"function":s===s.toUpperCase()?"constant":"variable";return{name:s,type:c}})}var l={};(d=[].concat(i(f.default.prototype),i(r("../constants")))).sort(function(h,s){return s.name.length-h.name.length})},f.default.prototype._helpForMisusedAtTopLevelCode=m,"complete"!==document.readyState&&(window.addEventListener("error",m,!1),window.addEventListener("load",function(){window.removeEventListener("error",m,!1)})),f.default);O.default=b},{"../constants":262,"../internationalization":271,"../main":273,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.function.name":167,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.starts-with":197,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],265:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(f=r("../main"))&&f.__esModule?f:{default:f};r("../internationalization"),f.default._friendlyFileLoadError=function(){},O.default=r=f.default},{"../internationalization":271,"../main":273}],266:[function(r,G,O){"use strict";function f(ie){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(ie)}function m(ie){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(pe){return f(pe)}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":f(pe)})(ie)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=function T(ie){return ie&&ie.__esModule?ie:{default:ie}}(r("../main"));function N(){var ie;return"function"!=typeof WeakMap?null:(N=function(){return ie},ie=new WeakMap)}r("../internationalization"),function Q(ie){if(ie&&ie.__esModule)return ie;if(null===ie||"object"!==m(ie)&&"function"!=typeof ie)return{default:ie};var pe=N();if(pe&&pe.has(ie))return pe.get(ie);var we,Re,$e={},Fe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in ie)Object.prototype.hasOwnProperty.call(ie,we)&&((Re=Fe?Object.getOwnPropertyDescriptor(ie,we):null)&&(Re.get||Re.set)?Object.defineProperty($e,we,Re):$e[we]=ie[we]);return $e.default=ie,pe&&pe.set(ie,$e),$e}(r("../constants")),d.default._fesCodeReader=function(){},O.default=d.default},{"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],267:[function(r,G,O){"use strict";function f(){var m=/(^|@)\S+:\d+/,d=/^\s*at .*(\S+:\d+|\(native\))/m,y=/^(eval@)?(\[native code])?$/;return{parse:function(w){return void 0!==w.stacktrace||void 0!==w["opera#sourceloc"]?this.parseOpera(w):w.stack&&w.stack.match(d)?this.parseV8OrIE(w):w.stack?this.parseFFOrSafari(w):void 0},extractLocation:function(w){return-1===w.indexOf(":")?[w]:[(w=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(w.replace(/[()]/g,"")))[1],w[2]||void 0,w[3]||void 0]},parseV8OrIE:function(w){return w.stack.split("\n").filter(function(b){return!!b.match(d)},this).map(function(b){var l=(i=(b=-1<b.indexOf("(eval ")?b.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):b).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),i=(i=l?i.replace(l[0],""):i).split(/\s+/).slice(1);return l=this.extractLocation(l?l[1]:i.pop()),{functionName:i.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:b}},this)},parseFFOrSafari:function(w){return w.stack.split("\n").filter(function(b){return!b.match(y)},this).map(function(b){var i,l;return-1===(b=-1<b.indexOf(" > eval")?b.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):b).indexOf("@")&&-1===b.indexOf(":")?{functionName:b}:{functionName:(l=b.match(i=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(b.replace(i,"")))[0],lineNumber:l[1],columnNumber:l[2],source:b}},this)},parseOpera:function(w){return!w.stacktrace||-1<w.message.indexOf("\n")&&w.message.split("\n").length>w.stacktrace.split("\n").length?this.parseOpera9(w):w.stack?this.parseOpera11(w):this.parseOpera10(w)},parseOpera9:function(w){for(var b=/Line (\d+).*script (?:in )?(\S+)/i,i=w.message.split("\n"),l=[],h=2,s=i.length;h<s;h+=2){var c=b.exec(i[h]);c&&l.push({fileName:c[2],lineNumber:c[1],source:i[h]})}return l},parseOpera10:function(w){for(var b=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=w.stacktrace.split("\n"),l=[],h=0,s=i.length;h<s;h+=2){var c=b.exec(i[h]);c&&l.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:i[h]})}return l},parseOpera11:function(w){return w.stack.split("\n").filter(function(b){return!!b.match(m)&&!b.match(/^Error created at/)},this).map(function(b){var i,h=b.split("@"),l=this.extractLocation(h.pop());return{functionName:(h=h.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(i=h.match(/\(([^)]*)\)/)?h.replace(/^[^(]+\(([^)]*)\)$/,"$1"):i)||"[arguments not available]"===i?void 0:i.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:b}},this)}}}r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("../main"))&&r.__esModule?r:{default:r}).default._getErrorStackParser=function(){return new f},O.default=r=r.default},{"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196}],268:[function(r,G,O){"use strict";function f(w){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(m=r("../main"))&&m.__esModule?m:{default:m};function d(){var w;return"function"!=typeof WeakMap?null:(d=function(){return w},w=new WeakMap)}function y(w){return(y="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(b){return f(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":f(b)})(w)}(function(w){if(!(w&&w.__esModule||null===w||"object"!==y(w)&&"function"!=typeof w)){var b=d();if(b&&b.has(w))return b.get(w);var i,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in w){var s;Object.prototype.hasOwnProperty.call(w,i)&&((s=h?Object.getOwnPropertyDescriptor(w,i):null)&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=w[i])}l.default=w,b&&b.set(w,l)}})(r("../constants")),r("../internationalization"),m.default._validateParameters=m.default._clearValidateParamsCache=function(){},O.default=r=m.default},{"../../../docs/parameterData.json":void 0,"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.map":168,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],269:[function(r,G,O){"use strict";function f(w){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}function m(w){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(b){return f(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":f(b)})(w)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==m(w)&&"function"!=typeof w)return{default:w};var b=y();if(b&&b.has(w))return b.get(w);var i,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in w){var s;Object.prototype.hasOwnProperty.call(w,i)&&((s=h?Object.getOwnPropertyDescriptor(w,i):null)&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=w[i])}return l.default=w,b&&b.set(w,l),l}(r("./constants"));function y(){var w;return"function"!=typeof WeakMap?null:(y=function(){return w},w=new WeakMap)}O.default={modeAdjust:function(w,b,i,l,h){return h===d.CORNER?{x:w,y:b,w:i,h:l}:h===d.CORNERS?{x:w,y:b,w:i-w,h:l-b}:h===d.RADIUS?{x:w-i,y:b-l,w:2*i,h:2*l}:h===d.CENTER?{x:w-.5*i,y:b-.5*l,w:i,h:l}:void 0}}},{"./constants":262,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],270:[function(r,G,O){"use strict";r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var f=(m=r("../core/main"))&&m.__esModule?m:{default:m};r("./internationalization");var m=Promise.resolve();Promise.all([new Promise(function(d,y){"complete"===document.readyState?d():window.addEventListener("load",d,!1)}),m]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!f.default.instance&&new f.default})},{"../core/main":273,"./internationalization":271,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/web.dom-collections.iterator":236}],271:[function(r,G,O){"use strict";r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.setTranslatorLanguage=O.currentTranslatorLanguage=O.availableTranslatorLanguages=O.initialize=O.translator=void 0;var f,d=w(r("i18next")),y=w(r("i18next-browser-languagedetector"));function w(l){return l&&l.__esModule?l:{default:l}}function b(l,h){for(var s=0;s<h.length;s++){var c=h[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var i=function(){function l(p,v){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(p,v)}var h,s;return h=l,(s=[{key:"fetchWithTimeout",value:function(p,v){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(p,v),new Promise(function(g,E){return setTimeout(function(){return E(new Error("timeout"))},a)})])}},{key:"init",value:function(p){var v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=p,this.options=v}},{key:"read",value:function(p,v,a){var g=this.options.loadPath;p===this.options.fallback?a(null,f[p][v]):undefined.includes(p)?(g=this.services.interpolator.interpolate(g,{lng:p,ns:v}),this.loadUrl(g,a)):a("Not found",!1)}},{key:"loadUrl",value:function(p,v){this.fetchWithTimeout(p).then(function(a){if(a.ok)return a.json();throw new Error("failed loading ".concat(p))},function(){throw new Error("failed loading ".concat(p))}).then(function(a){return v(null,a)}).catch(v)}}])&&b(h.prototype,s),l}();i.type="backend",O.translator=function(l,h){console.debug("p5.js translator called before translations were loaded"),d.default.t(l,h)},O.initialize=function(){return d.default.use(y.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:f}).then(function(l){O.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},O.availableTranslatorLanguages=function(){return d.default.languages},O.currentTranslatorLanguage=function(l){return d.default.language},O.setTranslatorLanguage=function(l){return d.default.changeLanguage(l||void 0,function(h){return console.debug("Translations failed to load (".concat(h,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236,i18next:3,"i18next-browser-languagedetector":3}],272:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("./main"))&&r.__esModule?r:{default:r}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},r.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},O.default=r=r.default},{"./main":273}],273:[function(r,G,O){"use strict";function f(l){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}function m(l){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(h){return f(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,r("./shim");var d=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==m(l)&&"function"!=typeof l)return{default:l};var h=y();if(h&&h.has(l))return h.get(l);var s,c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in l){var v;Object.prototype.hasOwnProperty.call(l,s)&&((v=p?Object.getOwnPropertyDescriptor(l,s):null)&&(v.get||v.set)?Object.defineProperty(c,s,v):c[s]=l[s])}return c.default=l,h&&h.set(l,c),c}(r("./constants"));function y(){var l;return"function"!=typeof WeakMap?null:(y=function(){return l},l=new WeakMap)}function w(l,h){for(var s=0;s<h.length;s++){var c=h[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var b,i=function(){function l(p,E,a){var g=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=E,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},E=Object.getOwnPropertyNames(l.prototype._registeredMethods);var $=!0,k=!1,M=void 0;try{for(var A,L=E[Symbol.iterator]();!($=(A=L.next()).done);$=!0){var U=A.value;this._registeredMethods[U]=l.prototype._registeredMethods[U].slice()}}catch(se){k=!0,M=se}finally{try{$||null==L.return||L.return()}finally{if(k)throw M}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){g._userNode&&"string"==typeof g._userNode&&(g._userNode=document.getElementById(g._userNode));var se=g._isGlobal?window:g;if(se.preload){var fe,Ie=document.getElementById(g._loadingScreenId),Z=(Ie||((Ie=document.createElement("div")).innerHTML="Loading...",Ie.style.position="absolute",Ie.id=g._loadingScreenId,(g._userNode||document.body).appendChild(Ie)),g._preloadMethods);for(fe in Z){Z[fe]=Z[fe]||l;var ie=Z[fe];ie!==l.prototype&&ie!==l||(g._isGlobal&&(window[fe]=g._wrapPreload(g,fe)),ie=g),g._registeredPreloadMethods[fe]=ie[fe],ie[fe]=g._wrapPreload(ie,fe)}se.preload(),g._runIfPreloadsAreDone()}else g._setup(),g._recording||g._draw()},this._runIfPreloadsAreDone=function(){var se,fe=this._isGlobal?window:this;0===fe._preloadCount&&((se=document.getElementById(fe._loadingScreenId))&&se.parentNode.removeChild(se),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),fe._setup(),this._recording||fe._draw()))},this._decrementPreload=function(){var se=this._isGlobal?window:this;se._preloadDone||"function"!=typeof se.preload||(se._setProperty("_preloadCount",se._preloadCount-1),se._runIfPreloadsAreDone())},this._wrapPreload=function(se,fe){var Ie=this;return function(){Ie._incrementPreload();for(var Z=arguments.length,ie=new Array(Z),pe=0;pe<Z;pe++)ie[pe]=arguments[pe];return Ie._registeredPreloadMethods[fe].apply(se,ie)}},this._incrementPreload=function(){var se=this._isGlobal?window:this;se._preloadDone||se._setProperty("_preloadCount",se._preloadCount+1)},this._setup=function(){g.createCanvas(g._defaultCanvasSize.width,g._defaultCanvasSize.height,"p2d");var se=g._isGlobal?window:g;if("function"==typeof se.preload)for(var fe in g._preloadMethods)se[fe]=g._preloadMethods[fe][fe],se[fe]&&g&&(se[fe]=se[fe].bind(g));g._millisStart=window.performance.now(),se._preloadDone=!0,"function"==typeof se.setup&&se.setup();var Ie=document.getElementsByTagName("canvas"),Z=!0,ie=!1,pe=void 0;try{for(var we,Re=Ie[Symbol.iterator]();!(Z=(we=Re.next()).done);Z=!0){var $e=we.value;"true"===$e.dataset.hidden&&($e.style.visibility="",delete $e.dataset.hidden)}}catch(Fe){ie=!0,pe=Fe}finally{try{Z||null==Re.return||Re.return()}finally{if(ie)throw pe}}g._lastTargetFrameTime=window.performance.now(),g._lastRealFrameTime=window.performance.now(),g._setupDone=!0,(g._accessibleOutputs.grid||g._accessibleOutputs.text)&&g._updateAccsOutput()},this._draw=function(){var se=window.performance.now(),Ie=1e3/g._targetFrameRate;(!g._loop||Ie-5<=se-g._lastTargetFrameTime)&&(g.deltaTime=se-g._lastRealFrameTime,g._setProperty("deltaTime",g.deltaTime),g._frameRate=1e3/g.deltaTime,g.redraw(),g._lastTargetFrameTime=Math.max(g._lastTargetFrameTime+Ie,se),g._lastRealFrameTime=se,void 0!==g._updateMouseCoords&&(g._updateMouseCoords(),g._setProperty("movedX",0),g._setProperty("movedY",0))),g._loop&&(g._requestAnimId=window.requestAnimationFrame(g._draw))},this._setProperty=function(se,fe){g[se]=fe,g._isGlobal&&(window[se]=fe)},this.remove=function(){if((se=document.getElementById(g._loadingScreenId))&&(se.parentNode.removeChild(se),g._incrementPreload()),g._curElement){for(var fe in g._loop=!1,g._requestAnimId&&window.cancelAnimationFrame(g._requestAnimId),g._events)window.removeEventListener(fe,g._events[fe]);var Ie=!0,se=!1,Z=void 0;try{for(var ie,pe=g._elements[Symbol.iterator]();!(Ie=(ie=pe.next()).done);Ie=!0){var we,Re=ie.value;for(we in Re.elt&&Re.elt.parentNode&&Re.elt.parentNode.removeChild(Re.elt),Re._events)Re.elt.removeEventListener(we,Re._events[we])}}catch(We){se=!0,Z=We}finally{try{Ie||null==pe.return||pe.return()}finally{if(se)throw Z}}var $e=g;g._registeredMethods.remove.forEach(function(We){void 0!==We&&We.call($e)})}if(g._isGlobal){for(var Fe in l.prototype)try{delete window[Fe]}catch{window[Fe]=void 0}for(var Ge in g)if(g.hasOwnProperty(Ge))try{delete window[Ge]}catch{window[Ge]=void 0}l.instance=null}},this._registeredMethods.init.forEach(function(se){void 0!==se&&se.call(this)},this),this._setupPromisePreloads();var I,D,R=this._createFriendlyGlobalFunctionBinder();if(p)p(this),l._checkForUserDefinedFunctions(this);else{for(var V in this._isGlobal=!0,l.instance=this,l.prototype)"function"==typeof l.prototype[V]?(I=V.substring(2),this._events.hasOwnProperty(I)||(Math.hasOwnProperty(V)&&Math[V]===l.prototype[V]?R(V,l.prototype[V]):R(V,l.prototype[V].bind(this)))):R(V,l.prototype[V]);for(var N in this)this.hasOwnProperty(N)&&R(N,this[N])}for(D in this._events){var Q=this["_on".concat(D)];Q&&(Q=Q.bind(this),window.addEventListener(D,Q,{passive:!1}),this._events[D]=Q)}function T(){g._setProperty("focused",!0)}function K(){g._setProperty("focused",!1)}window.addEventListener("focus",T),window.addEventListener("blur",K),this.registerMethod("remove",function(){window.removeEventListener("focus",T),window.removeEventListener("blur",K)}),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var h,s;return h=l,(s=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=d.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(p,v){l.prototype._preloadMethods.hasOwnProperty(p)||(l.prototype._preloadMethods[p]=v)}},{key:"registerMethod",value:function(p,v){var a=this||l.prototype;a._registeredMethods.hasOwnProperty(p)||(a._registeredMethods[p]=[]),a._registeredMethods[p].push(v)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},v=p.globalObject||window;return p.log||console.log.bind(console),function(a,g){v[a]=g}}}])&&w(h.prototype,s),l}();for(b in i.instance=null,i.disableFriendlyErrors=!1,d)i.prototype[b]=d[b];i.VERSION=d.VERSION,i.prototype._preloadMethods={loadJSON:i.prototype,loadImage:i.prototype,loadStrings:i.prototype,loadXML:i.prototype,loadBytes:i.prototype,loadTable:i.prototype,loadFont:i.prototype,loadModel:i.prototype,loadShader:i.prototype},i.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},i.prototype._registeredPreloadMethods={},O.default=i},{"./constants":262,"./shim":284,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],274:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("./main"))&&r.__esModule?r:{default:r};function m(d,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}f.default.Element=function(){function d(i,l){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.elt=i,this._pInst=this._pixelsState=l,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var y,w,b;return y=d,b=[{key:"_adjustListener",value:function(i,l,h){return!1===l?f.default.Element._detachListener(i,h):f.default.Element._attachListener(i,l,h),this}},{key:"_attachListener",value:function(i,l,h){h._events[i]&&f.default.Element._detachListener(i,h),l=l.bind(h),h.elt.addEventListener(i,l,!1),h._events[i]=l}},{key:"_detachListener",value:function(i,l){l.elt.removeEventListener(i,l._events[i],!1),l._events[i]=null}}],(w=[{key:"parent",value:function(i){return void 0===i?this.elt.parentNode:("string"==typeof i?("#"===i[0]&&(i=i.substring(1)),i=document.getElementById(i)):i instanceof f.default.Element&&(i=i.elt),i.appendChild(this.elt),this)}},{key:"id",value:function(i){return void 0===i?this.elt.id:(this.elt.id=i,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(i){return void 0===i?this.elt.className:(this.elt.className=i,this)}},{key:"mousePressed",value:function(i){return f.default.Element._adjustListener("mousedown",function(l){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(l),i.call(this,l)},this),this}},{key:"doubleClicked",value:function(i){return f.default.Element._adjustListener("dblclick",i,this),this}},{key:"mouseWheel",value:function(i){return f.default.Element._adjustListener("wheel",i,this),this}},{key:"mouseReleased",value:function(i){return f.default.Element._adjustListener("mouseup",i,this),this}},{key:"mouseClicked",value:function(i){return f.default.Element._adjustListener("click",i,this),this}},{key:"mouseMoved",value:function(i){return f.default.Element._adjustListener("mousemove",i,this),this}},{key:"mouseOver",value:function(i){return f.default.Element._adjustListener("mouseover",i,this),this}},{key:"mouseOut",value:function(i){return f.default.Element._adjustListener("mouseout",i,this),this}},{key:"touchStarted",value:function(i){return f.default.Element._adjustListener("touchstart",i,this),this}},{key:"touchMoved",value:function(i){return f.default.Element._adjustListener("touchmove",i,this),this}},{key:"touchEnded",value:function(i){return f.default.Element._adjustListener("touchend",i,this),this}},{key:"dragOver",value:function(i){return f.default.Element._adjustListener("dragover",i,this),this}},{key:"dragLeave",value:function(i){return f.default.Element._adjustListener("dragleave",i,this),this}},{key:"_setProperty",value:function(i,l){this[i]=l}}])&&m(y.prototype,w),b&&m(y,b),d}(),O.default=r=f.default.Element},{"./main":273}],275:[function(r,G,O){"use strict";function f(v){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(v)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(p=r("./main"))&&p.__esModule?p:{default:p},d=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==w(v)&&"function"!=typeof v)return{default:v};var a=y();if(a&&a.has(v))return a.get(v);var g,E={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in v){var k;Object.prototype.hasOwnProperty.call(v,g)&&((k=$?Object.getOwnPropertyDescriptor(v,g):null)&&(k.get||k.set)?Object.defineProperty(E,g,k):E[g]=v[g])}return E.default=v,a&&a.set(v,E),E}(r("./constants"));function y(){var v;return"function"!=typeof WeakMap?null:(y=function(){return v},v=new WeakMap)}function w(v){return(w="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(v)}function b(v,a){for(var g=0;g<a.length;g++){var E=a[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}function i(v,a){return(i=Object.setPrototypeOf||function(g,E){return g.__proto__=E,g})(v,a)}function h(v,a){return!a||"object"!==w(a)&&"function"!=typeof a?s(v):a}function s(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function c(v){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(v)}m.default.Graphics=function(v){var a=$;if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(v&&v.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),v&&i(a,v);var E=function l(v){return function(){var a,g=c(v);return h(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(a=c(this).constructor,Reflect.construct(g,arguments,a)):g.apply(this,arguments))}}($);function $(k,M,V,L,U){var I;if(!(this instanceof $))throw new TypeError("Cannot call a class as a function");R=U||document.createElement("canvas"),(I=E.call(this,R,L)).canvas=R;var D,R=V||d.P2D;for(D in V=L._userNode||document.body,U||V.appendChild(I.canvas),m.default.prototype)I[D]||(I[D]="function"==typeof m.default.prototype[D]?m.default.prototype[D].bind(s(I)):m.default.prototype[D]);return m.default.prototype._initializeInstanceVariables.apply(s(I)),I.width=k,I.height=M,I._pixelDensity=L._pixelDensity,I._renderer=R===d.WEBGL?new m.default.RendererGL(I.canvas,s(I),!1):new m.default.Renderer2D(I.canvas,s(I),!1),L._elements.push(s(I)),Object.defineProperty(s(I),"deltaTime",{get:function(){return this._pInst.deltaTime}}),I._renderer.resize(k,M),I._renderer._applyDefaults(),h(I,s(I))}return a=$,(v=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var k,M=this._pInst._elements.indexOf(this);for(k in-1!==M&&this._pInst._elements.splice(M,1),this._events)this.elt.removeEventListener(k,this._events[k])}},{key:"createFramebuffer",value:function(k){return new m.default.Framebuffer(this,k)}}])&&b(a.prototype,v),$}(m.default.Element);var p=m.default.Graphics;O.default=p},{"./constants":262,"./main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],276:[function(r,G,O){"use strict";function f(v){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(v)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(c=r("./main"))&&c.__esModule?c:{default:c},d=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==w(v)&&"function"!=typeof v)return{default:v};var a=y();if(a&&a.has(v))return a.get(v);var g,E={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in v){var k;Object.prototype.hasOwnProperty.call(v,g)&&((k=$?Object.getOwnPropertyDescriptor(v,g):null)&&(k.get||k.set)?Object.defineProperty(E,g,k):E[g]=v[g])}return E.default=v,a&&a.set(v,E),E}(r("../core/constants"));function y(){var v;return"function"!=typeof WeakMap?null:(y=function(){return v},v=new WeakMap)}function w(v){return(w="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(v)}function b(v,a){for(var g=0;g<a.length;g++){var E=a[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}function i(v,a){return(i=Object.setPrototypeOf||function(g,E){return g.__proto__=E,g})(v,a)}function h(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function s(v){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(v)}var c=function(v){var a=$;if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(v&&v.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),v&&i(a,v);var E=function l(v){return function(){var a,g,E=s(v);return a=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(a=s(this).constructor,Reflect.construct(E,arguments,a)):E.apply(this,arguments),E=this,!(g=a)||"object"!==w(g)&&"function"!=typeof g?h(E):g}}($);function $(k,M,A){var L;if(this instanceof $)return(L=E.call(this,k,M)).canvas=k,L._pixelsState=M,A?(L._isMainCanvas=!0,L._pInst._setProperty("_curElement",h(L)),L._pInst._setProperty("canvas",L.canvas),L._pInst._setProperty("width",L.width),L._pInst._setProperty("height",L.height)):(L.canvas.style.display="none",L._styles=[]),L._textSize=12,L._textLeading=15,L._textFont="sans-serif",L._textStyle=d.NORMAL,L._textAscent=null,L._textDescent=null,L._textAlign=d.LEFT,L._textBaseline=d.BASELINE,L._textWrap=d.WORD,L._rectMode=d.CORNER,L._ellipseMode=d.CENTER,L._curveTightness=0,L._imageMode=d.CORNER,L._tint=null,L._doStroke=!0,L._doFill=!0,L._strokeSet=!1,L._fillSet=!1,L._leadingSet=!1,L;throw new TypeError("Cannot call a class as a function")}return a=$,(v=[{key:"push",value:function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(k){k.properties&&Object.assign(this,k.properties)}},{key:"resize",value:function(k,M){this.width=k,this.height=M,this.elt.width=k*this._pInst._pixelDensity,this.elt.height=M*this._pInst._pixelDensity,this.elt.style.width="".concat(k,"px"),this.elt.style.height="".concat(M,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(k,M,A,L){var U=this._pixelsState,I=U._pixelDensity,D=this.canvas;if(void 0===k&&void 0===M)k=M=0,A=U.width,L=U.height;else if(k*=I,M*=I,void 0===A&&void 0===L)return k<0||M<0||k>=D.width||M>=D.height?[0,0,0,0]:this._getPixel(k,M);return(U=new m.default.Image(A,L)).canvas.getContext("2d").drawImage(D,k,M,A*I,L*I,0,0,A,L),U}},{key:"textLeading",value:function(k){return"number"==typeof k?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",k),this._pInst):this._textLeading}},{key:"textStyle",value:function(k){return k?(k!==d.NORMAL&&k!==d.ITALIC&&k!==d.BOLD&&k!==d.BOLDITALIC||this._setProperty("_textStyle",k),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(k,M){return void 0!==k?(this._setProperty("_textAlign",k),void 0!==M&&this._setProperty("_textBaseline",M),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(k){return this._setProperty("_textWrap",k),this._textWrap}},{key:"text",value:function(k,M,A,L,U){var I,D,R,V,N=this._pInst,Q=this._textWrap,T=Number.MAX_VALUE,K=A;if((this._doFill||this._doStroke)&&void 0!==k){if(I=(k=(k="string"!=typeof k?k.toString():k).replace(/(\t)/g,"  ")).split("\n"),void 0!==L){switch(this._rectMode===d.CENTER&&(M-=L/2),this._textAlign){case d.CENTER:M+=L/2;break;case d.RIGHT:M+=L}if(void 0!==U){this._rectMode===d.CENTER&&(A-=U/2,K-=U/2),k=A;var se=N.textAscent();switch(this._textBaseline){case d.BOTTOM:V=A+U,A=Math.max(V,A),K+=se;break;case d.CENTER:V=A+U/2,A=Math.max(V,A),K+=se/2}T=A+U-se,this._textBaseline===d.CENTER&&(T=k+U-se/2)}else this._textBaseline!==d.BOTTOM&&this._textBaseline!==d.CENTER||(K=A-(k=N.textSize()*this._textLeading)/2,T=A+k/2);if(Q===d.WORD){for(var fe=[],Ie=0;Ie<I.length;Ie++){for(var Z="",ie=I[Ie].split(" "),pe=0;pe<ie.length;pe++)D="".concat(Z+ie[pe])+" ",Z=L<(R=this.textWidth(D))&&0<Z.length?(fe.push(Z),"".concat(ie[pe])+" "):D;fe.push(Z)}var we=0;this._textBaseline===d.CENTER?we=(fe.length-1)*N.textLeading()/2:this._textBaseline===d.BOTTOM&&(we=(fe.length-1)*N.textLeading());for(var Re=0;Re<I.length;Re++){Z="",ie=I[Re].split(" ");for(var $e=0;$e<ie.length;$e++)D="".concat(Z+ie[$e])+" ",L<(R=this.textWidth(D))&&0<Z.length?(this._renderText(N,Z.trim(),M,A-we,T,K),Z="".concat(ie[$e])+" ",A+=N.textLeading()):Z=D;this._renderText(N,Z.trim(),M,A-we,T,K),A+=N.textLeading()}}else{for(var Fe=[],Ge=0;Ge<I.length;Ge++)for(var je=I[Ge].split(Z=""),We=0;We<je.length;We++)D="".concat(Z+je[We]),(R=this.textWidth(D))<=L?Z+=je[We]:L<R&&0<Z.length&&(Fe.push(Z),Z="".concat(je[We]));Fe.push(Z);var Ye=0;this._textBaseline===d.CENTER?Ye=(Fe.length-1)*N.textLeading()/2:this._textBaseline===d.BOTTOM&&(Ye=(Fe.length-1)*N.textLeading());for(var Ne=0;Ne<I.length;Ne++){je=I[Ne].split(Z="");for(var Ke=0;Ke<je.length;Ke++)D="".concat(Z+je[Ke]),(R=this.textWidth(D))<=L?Z+=je[Ke]:L<R&&0<Z.length&&(this._renderText(N,Z.trim(),M,A-Ye,T,K),A+=N.textLeading(),Z="".concat(je[Ke]))}this._renderText(N,Z.trim(),M,A-Ye,T,K),A+=N.textLeading()}}else{var at=0;this._textBaseline===d.CENTER?at=(I.length-1)*N.textLeading()/2:this._textBaseline===d.BOTTOM&&(at=(I.length-1)*N.textLeading());for(var yt=0;yt<I.length;yt++)this._renderText(N,I[yt],M,A-at,T,K-at),A+=N.textLeading()}return N}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===w(k)&&k.font&&k.font.supported}},{key:"_updateTextMetrics",value:function(){var k,M,A,L,U,I;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((k=document.createElement("span")).style.fontFamily=this._textFont,k.style.fontSize="".concat(this._textSize,"px"),k.innerHTML="ABCjgq|",(I=document.createElement("div")).style.display="inline-block",I.style.width="1px",I.style.height="0px",(M=document.createElement("div")).appendChild(k),M.appendChild(I),M.style.height="0px",M.style.overflow="hidden",document.body.appendChild(M),I.style.verticalAlign="baseline",L=p(I),U=p(k),A=L[1]-U[1],I.style.verticalAlign="bottom",L=p(I),U=p(k),I=L[1]-U[1]-A,document.body.removeChild(M),this._setProperty("_textAscent",A),this._setProperty("_textDescent",I)),this}}])&&b(a.prototype,v),$}(m.default.Element);function p(v){var a=0,g=0;if(v.offsetParent)for(;a+=v.offsetLeft,g+=v.offsetTop,v=v.offsetParent;);else a+=v.offsetLeft,g+=v.offsetTop;return[a,g]}c.prototype.textSize=function(v){return"number"==typeof v?(this._setProperty("_textSize",v),this._leadingSet||this._setProperty("_textLeading",v*d._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},m.default.Renderer=c,O.default=r=m.default.Renderer},{"../core/constants":262,"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],277:[function(v,G,O){"use strict";function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(a)}v("core-js/modules/es.symbol"),v("core-js/modules/es.symbol.description"),v("core-js/modules/es.symbol.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.for-each"),v("core-js/modules/es.array.iterator"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.number.to-fixed"),v("core-js/modules/es.object.get-own-property-descriptor"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.reflect.construct"),v("core-js/modules/es.reflect.get"),v("core-js/modules/es.regexp.to-string"),v("core-js/modules/es.string.iterator"),v("core-js/modules/es.weak-map"),v("core-js/modules/web.dom-collections.iterator"),v("core-js/modules/es.symbol"),v("core-js/modules/es.symbol.description"),v("core-js/modules/es.symbol.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.for-each"),v("core-js/modules/es.array.iterator"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.number.to-fixed"),v("core-js/modules/es.object.get-own-property-descriptor"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.reflect.construct"),v("core-js/modules/es.reflect.get"),v("core-js/modules/es.regexp.to-string"),v("core-js/modules/es.string.iterator"),v("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(p=v("./main"))&&p.__esModule?p:{default:p},d=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==w(a)&&"function"!=typeof a)return{default:a};var g=y();if(g&&g.has(a))return g.get(a);var E,$={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in a){var M;Object.prototype.hasOwnProperty.call(a,E)&&((M=k?Object.getOwnPropertyDescriptor(a,E):null)&&(M.get||M.set)?Object.defineProperty($,E,M):$[E]=a[E])}return $.default=a,g&&g.set(a,$),$}(v("./constants"));function y(){var a;return"function"!=typeof WeakMap?null:(y=function(){return a},a=new WeakMap)}function w(a){return(w="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(g){return f(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":f(g)})(a)}function b(a,g){for(var E=0;E<g.length;E++){var $=g[E];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(a,$.key,$)}}function i(a,g,E){return(i=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,k,M){if(A=function(L,U){for(;!Object.prototype.hasOwnProperty.call(L,U)&&null!==(L=s(L)););return L}(A,k))return(A=Object.getOwnPropertyDescriptor(A,k)).get?A.get.call(M):A.value})(a,g,E||a)}function l(a,g){return(l=Object.setPrototypeOf||function(E,$){return E.__proto__=$,E})(a,g)}function s(a){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(a)}v("./p5.Renderer");var c="rgba(0,0,0,0)",p=function(a){var g=k;if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(a&&a.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),a&&l(g,a);var $=function h(a){return function(){var g,E=s(a);if(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=s(this).constructor,Reflect.construct(E,arguments,g)):E.apply(this,arguments),E=this,!g||"object"!==w(g)&&"function"!=typeof g){if(void 0!==E)return E;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}(k);function k(M,A,L){if(this instanceof k)return(M=$.call(this,M,A,L)).drawingContext=M.canvas.getContext("2d"),M._pInst._setProperty("drawingContext",M.drawingContext),M;throw new TypeError("Cannot call a class as a function")}return g=k,(a=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=d.BLEND,this._setFill(d._DEFAULT_FILL),this._setStroke(d._DEFAULT_STROKE),this.drawingContext.lineCap=d.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(M,A){i(s(k.prototype),"resize",this).call(this,M,A),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var M,A;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof m.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(M=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(M,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(M=this._getFill(),A=(A=this._pInst).color.apply(A,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(A.levels),A=A.toString(),this._setFill(A),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(M),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setFill(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",M.levels)}},{key:"stroke",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setStroke(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",M.levels)}},{key:"erase",value:function(M,A){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,M=this._pInst.color(255,M).toString(),this.drawingContext.fillStyle=M,this._cachedStrokeStyle=this.drawingContext.strokeStyle,M=this._pInst.color(255,A).toString(),this.drawingContext.strokeStyle=M,A=this._cachedBlendMode,this.blendMode(d.REMOVE),this._cachedBlendMode=A,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"image",value:function(M,A,L,U,I,D,R,V,N){M.gifProperties&&M._animateGif(this._pInst);try{m.default.MediaElement&&M instanceof m.default.MediaElement&&M._ensureCanvas();var Q=(Q=this._tint&&M.canvas?this._getTintedImageCanvas(M):Q)||M.canvas||M.elt,T=1;M.width&&0<M.width&&(T=Q.width/M.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(Q,T*A,T*L,T*U,T*I,D,R,V,N),this._isErasing&&this._pInst.erase()}catch(K){if("NS_ERROR_NOT_AVAILABLE"!==K.name)throw K}}},{key:"_getTintedImageCanvas",value:function(M){if(!M.canvas)return M;M.tintCanvas||(M.tintCanvas=document.createElement("canvas")),M.tintCanvas.width!==M.canvas.width&&(M.tintCanvas.width=M.canvas.width),M.tintCanvas.height!==M.canvas.height&&(M.tintCanvas.height=M.canvas.height);var A=M.tintCanvas.getContext("2d");return A.save(),A.clearRect(0,0,M.canvas.width,M.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(A.drawImage(M.canvas,0,0),A.globalCompositeOperation="luminosity",A.drawImage(M.canvas,0,0),A.globalCompositeOperation="color",A.drawImage(M.canvas,0,0),A.globalCompositeOperation="multiply",A.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),A.fillRect(0,0,M.canvas.width,M.canvas.height),A.globalCompositeOperation="destination-in"),A.globalAlpha=this._tint[3]/255,A.drawImage(M.canvas,0,0),A.restore(),M.tintCanvas}},{key:"blendMode",value:function(M){if(M===d.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(M!==d.BLEND&&M!==d.REMOVE&&M!==d.DARKEST&&M!==d.LIGHTEST&&M!==d.DIFFERENCE&&M!==d.MULTIPLY&&M!==d.EXCLUSION&&M!==d.SCREEN&&M!==d.REPLACE&&M!==d.OVERLAY&&M!==d.HARD_LIGHT&&M!==d.SOFT_LIGHT&&M!==d.DODGE&&M!==d.BURN&&M!==d.ADD)throw new Error("Mode ".concat(M," not recognized."));this._cachedBlendMode=M,this.drawingContext.globalCompositeOperation=M}}},{key:"blend",value:function(){for(var M=this.drawingContext.globalCompositeOperation,A=arguments.length,L=new Array(A),U=0;U<A;U++)L[U]=arguments[U];var I=L[L.length-1],D=Array.prototype.slice.call(L,0,L.length-1);this.drawingContext.globalCompositeOperation=I,m.default.prototype.copy.apply(this,D),this.drawingContext.globalCompositeOperation=M}},{key:"_getPixel",value:function(M,A){return[(M=this.drawingContext.getImageData(M,A,1,1).data)[0],M[1],M[2],M[3]]}},{key:"loadPixels",value:function(){var A,M=this._pixelsState,L=this.drawingContext.getImageData(0,0,L=this.width*(A=M._pixelDensity),A*=this.height);M._setProperty("imageData",L),M._setProperty("pixels",L.data)}},{key:"set",value:function(M,A,L){M=Math.floor(M),A=Math.floor(A);var U=this._pixelsState;if(L instanceof m.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(U._pixelDensity,U._pixelDensity),this.drawingContext.clearRect(M,A,L.width,L.height),this.drawingContext.drawImage(L.canvas,M,A),this.drawingContext.restore();else{var I=0,D=0,R=0,V=0,N=4*(A*U._pixelDensity*(this.width*U._pixelDensity)+M*U._pixelDensity);if(U.imageData||U.loadPixels.call(U),"number"==typeof L)N<U.pixels.length&&(R=D=I=L,V=255);else if(L instanceof Array){if(L.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");N<U.pixels.length&&(I=L[0],D=L[1],R=L[2],V=L[3])}else L instanceof m.default.Color&&N<U.pixels.length&&(I=L.levels[0],D=L.levels[1],R=L.levels[2],V=L.levels[3]);for(var Q=0;Q<U._pixelDensity;Q++)for(var T=0;T<U._pixelDensity;T++)U.pixels[N=4*((A*U._pixelDensity+T)*this.width*U._pixelDensity+(M*U._pixelDensity+Q))]=I,U.pixels[N+1]=D,U.pixels[N+2]=R,U.pixels[N+3]=V}}},{key:"updatePixels",value:function(M,A,L,U){var I=this._pixelsState,D=I._pixelDensity;void 0===M&&void 0===A&&void 0===L&&void 0===U&&(A=M=0,L=this.width,U=this.height),M*=D,A*=D,L*=D,U*=D,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=I.imageData),this.drawingContext.putImageData(I.imageData,M,A,0,0,L,U)}},{key:"_acuteArcToBezier",value:function(M,A){var D=A/2,L=Math.cos(D),V=Math.sin(D),U=1/Math.tan(D),I=(D=M+D,Math.cos(D)),R=(D=Math.sin(D),(4-L)/3);return V+=(L-R)*U,{ax:Math.cos(M).toFixed(7),ay:Math.sin(M).toFixed(7),bx:(R*I+V*D).toFixed(7),by:(R*D-V*I).toFixed(7),cx:(R*I-V*D).toFixed(7),cy:(R*D+V*I).toFixed(7),dx:Math.cos(M+A).toFixed(7),dy:Math.sin(M+A).toFixed(7)}}},{key:"arc",value:function(M,A,L,U,I,D,R){var V,N=this.drawingContext,Q=L/2,T=U/2,K=[];for(M+=Q,A+=T;1e-5<=D-I;)V=Math.min(D-I,d.HALF_PI),K.push(this._acuteArcToBezier(I,V)),I+=V;return this._doFill&&(N.beginPath(),K.forEach(function(se,fe){0===fe&&N.moveTo(M+se.ax*Q,A+se.ay*T),N.bezierCurveTo(M+se.bx*Q,A+se.by*T,M+se.cx*Q,A+se.cy*T,M+se.dx*Q,A+se.dy*T)}),R!==d.PIE&&null!=R||N.lineTo(M,A),N.closePath(),N.fill()),this._doStroke&&(N.beginPath(),K.forEach(function(se,fe){0===fe&&N.moveTo(M+se.ax*Q,A+se.ay*T),N.bezierCurveTo(M+se.bx*Q,A+se.by*T,M+se.cx*Q,A+se.cy*T,M+se.dx*Q,A+se.dy*T)}),R===d.PIE?(N.lineTo(M,A),N.closePath()):R===d.CHORD&&N.closePath(),N.stroke()),this}},{key:"ellipse",value:function(K){var A=this.drawingContext,L=this._doFill,U=this._doStroke,I=parseFloat(K[0]),D=parseFloat(K[1]),T=parseFloat(K[2]);if(K=parseFloat(K[3]),L&&!U){if(this._getFill()===c)return this}else if(!L&&U&&this._getStroke()===c)return this;var R=T/2*.5522847498,V=K/2*.5522847498,N=I+T,Q=D+K;T=I+T/2,K=D+K/2,A.beginPath(),A.moveTo(I,K),A.bezierCurveTo(I,K-V,T-R,D,T,D),A.bezierCurveTo(T+R,D,N,K-V,N,K),A.bezierCurveTo(N,K+V,T+R,Q,T,Q),A.bezierCurveTo(T-R,Q,I,K+V,I,K),L&&A.fill(),U&&A.stroke()}},{key:"line",value:function(M,A,L,U){var I=this.drawingContext;return this._doStroke&&this._getStroke()!==c&&(I.beginPath(),I.moveTo(M,A),I.lineTo(L,U),I.stroke()),this}},{key:"point",value:function(M,A){var L,U,I=this.drawingContext;return this._doStroke&&this._getStroke()!==c?(L=this._getStroke(),U=this._getFill(),this._setFill(L),I.beginPath(),I.arc(M,A,I.lineWidth/2,0,d.TWO_PI,!1),I.fill(),void this._setFill(U)):this}},{key:"quad",value:function(M,A,L,U,I,D,R,V){var N=this.drawingContext,Q=this._doFill,T=this._doStroke;if(Q&&!T){if(this._getFill()===c)return this}else if(!Q&&T&&this._getStroke()===c)return this;return N.beginPath(),N.moveTo(M,A),N.lineTo(L,U),N.lineTo(I,D),N.lineTo(R,V),N.closePath(),Q&&N.fill(),T&&N.stroke(),this}},{key:"rect",value:function(T){var A,L,U=T[0],I=T[1],D=T[2],R=T[3],V=T[4],N=T[5],Q=T[6],K=(T=T[7],this.drawingContext),se=this._doFill,fe=this._doStroke;if(se&&!fe){if(this._getFill()===c)return this}else if(!se&&fe&&this._getStroke()===c)return this;return K.beginPath(),void 0===V?K.rect(U,I,D,R):(void 0===N&&(N=V),void 0===Q&&(Q=N),void 0===T&&(T=Q),fe=(se=Math.abs(D))/2,L=(A=Math.abs(R))/2,A<2*(V=se<2*V?fe:V)&&(V=L),A<2*(N=se<2*N?fe:N)&&(N=L),A<2*(Q=se<2*Q?fe:Q)&&(Q=L),A<2*(T=se<2*T?fe:T)&&(T=L),K.beginPath(),K.moveTo(U+V,I),K.arcTo(U+D,I,U+D,I+R,N),K.arcTo(U+D,I+R,U,I+R,Q),K.arcTo(U,I+R,U,I,T),K.arcTo(U,I,U+D,I,V),K.closePath()),this._doFill&&K.fill(),this._doStroke&&K.stroke(),this}},{key:"triangle",value:function(Q){var A=this.drawingContext,L=this._doFill,U=this._doStroke,I=Q[0],D=Q[1],R=Q[2],V=Q[3],N=Q[4];if(Q=Q[5],L&&!U){if(this._getFill()===c)return this}else if(!L&&U&&this._getStroke()===c)return this;A.beginPath(),A.moveTo(I,D),A.lineTo(R,V),A.lineTo(N,Q),A.closePath(),L&&A.fill(),U&&A.stroke()}},{key:"endShape",value:function(M,A,L,U,I,D,R){if(0!==A.length&&(this._doStroke||this._doFill)){var V,N,Q,T=M===d.CLOSE,K=(T&&!D&&A.push(A[0]),A.length);if(!L||R!==d.POLYGON&&null!==R)if(!U||R!==d.POLYGON&&null!==R)if(!I||R!==d.POLYGON&&null!==R)if(R===d.POINTS)for(N=0;N<K;N++)V=A[N],this._doStroke&&this._pInst.stroke(V[6]),this._pInst.point(V[0],V[1]);else if(R===d.LINES)for(N=0;N+1<K;N+=2)V=A[N],this._doStroke&&this._pInst.stroke(A[N+1][6]),this._pInst.line(V[0],V[1],A[N+1][0],A[N+1][1]);else if(R===d.TRIANGLES)for(N=0;N+2<K;N+=3)V=A[N],this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(A[N+1][0],A[N+1][1]),this.drawingContext.lineTo(A[N+2][0],A[N+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(A[N+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(A[N+2][6]),this.drawingContext.stroke());else if(R===d.TRIANGLE_STRIP)for(N=0;N+1<K;N++)V=A[N],this.drawingContext.beginPath(),this.drawingContext.moveTo(A[N+1][0],A[N+1][1]),this.drawingContext.lineTo(V[0],V[1]),this._doStroke&&this._pInst.stroke(A[N+1][6]),this._doFill&&this._pInst.fill(A[N+1][5]),N+2<K&&(this.drawingContext.lineTo(A[N+2][0],A[N+2][1]),this._doStroke&&this._pInst.stroke(A[N+2][6]),this._doFill&&this._pInst.fill(A[N+2][5])),this._doFillStrokeClose(T);else if(R===d.TRIANGLE_FAN){if(2<K){for(this.drawingContext.beginPath(),N=2;N<K;N++)V=A[N],this.drawingContext.moveTo(A[0][0],A[0][1]),this.drawingContext.lineTo(A[N-1][0],A[N-1][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(A[0][0],A[0][1]),N<K-1&&(this._doFill&&V[5]!==A[N+1][5]||this._doStroke&&V[6]!==A[N+1][6])&&(this._doFill&&(this._pInst.fill(V[5]),this.drawingContext.fill(),this._pInst.fill(A[N+1][5])),this._doStroke&&(this._pInst.stroke(V[6]),this.drawingContext.stroke(),this._pInst.stroke(A[N+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(T)}}else if(R===d.QUADS)for(N=0;N+3<K;N+=4){for(V=A[N],this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),Q=1;Q<4;Q++)this.drawingContext.lineTo(A[N+Q][0],A[N+Q][1]);this.drawingContext.lineTo(V[0],V[1]),this._doFill&&this._pInst.fill(A[N+3][5]),this._doStroke&&this._pInst.stroke(A[N+3][6]),this._doFillStrokeClose(T)}else if(R===d.QUAD_STRIP){if(3<K)for(N=0;N+1<K;N+=2)V=A[N],this.drawingContext.beginPath(),N+3<K?(this.drawingContext.moveTo(A[N+2][0],A[N+2][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(A[N+1][0],A[N+1][1]),this.drawingContext.lineTo(A[N+3][0],A[N+3][1]),this._doFill&&this._pInst.fill(A[N+3][5]),this._doStroke&&this._pInst.stroke(A[N+3][6])):(this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(A[N+1][0],A[N+1][1])),this._doFillStrokeClose(T)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(A[0][0],A[0][1]),N=1;N<K;N++)(V=A[N]).isVert&&(V.moveTo?this.drawingContext.moveTo(V[0],V[1]):this.drawingContext.lineTo(V[0],V[1]));this._doFillStrokeClose(T)}else{for(this.drawingContext.beginPath(),N=0;N<K;N++)A[N].isVert?A[N].moveTo?this.drawingContext.moveTo(A[N][0],A[N][1]):this.drawingContext.lineTo(A[N][0],A[N][1]):this.drawingContext.quadraticCurveTo(A[N][0],A[N][1],A[N][2],A[N][3]);this._doFillStrokeClose(T)}else{for(this.drawingContext.beginPath(),N=0;N<K;N++)A[N].isVert?A[N].moveTo?this.drawingContext.moveTo(A[N][0],A[N][1]):this.drawingContext.lineTo(A[N][0],A[N][1]):this.drawingContext.bezierCurveTo(A[N][0],A[N][1],A[N][2],A[N][3],A[N][4],A[N][5]);this._doFillStrokeClose(T)}else if(3<K){var se=[],fe=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(A[1][0],A[1][1]),N=1;N+2<K;N++)se[0]=[(V=A[N])[0],V[1]],se[1]=[V[0]+(fe*A[N+1][0]-fe*A[N-1][0])/6,V[1]+(fe*A[N+1][1]-fe*A[N-1][1])/6],se[2]=[A[N+1][0]+(fe*A[N][0]-fe*A[N+2][0])/6,A[N+1][1]+(fe*A[N][1]-fe*A[N+2][1])/6],se[3]=[A[N+1][0],A[N+1][1]],this.drawingContext.bezierCurveTo(se[1][0],se[1][1],se[2][0],se[2][1],se[3][0],se[3][1]);T&&this.drawingContext.lineTo(A[N+1][0],A[N+1][1]),this._doFillStrokeClose(T)}D=I=U=L=!1,T&&A.pop()}return this}},{key:"strokeCap",value:function(M){return M!==d.ROUND&&M!==d.SQUARE&&M!==d.PROJECT||(this.drawingContext.lineCap=M),this}},{key:"strokeJoin",value:function(M){return M!==d.ROUND&&M!==d.BEVEL&&M!==d.MITER||(this.drawingContext.lineJoin=M),this}},{key:"strokeWeight",value:function(M){return this.drawingContext.lineWidth=void 0===M||0===M?1e-4:M,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(M){M!==this._cachedFillStyle&&(this.drawingContext.fillStyle=M,this._cachedFillStyle=M)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(M){M!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=M,this._cachedStrokeStyle=M)}},{key:"bezier",value:function(M,A,L,U,I,D,R,V){return this._pInst.beginShape(),this._pInst.vertex(M,A),this._pInst.bezierVertex(L,U,I,D,R,V),this._pInst.endShape(),this}},{key:"curve",value:function(M,A,L,U,I,D,R,V){return this._pInst.beginShape(),this._pInst.curveVertex(M,A),this._pInst.curveVertex(L,U),this._pInst.curveVertex(I,D),this._pInst.curveVertex(R,V),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(M){M&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(M,A,L,U,I,D){this.drawingContext.transform(M,A,L,U,I,D)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(M){this.drawingContext.rotate(M)}},{key:"scale",value:function(M,A){return this.drawingContext.scale(M,A),this}},{key:"translate",value:function(M,A){return M instanceof m.default.Vector&&(A=M.y,M=M.x),this.drawingContext.translate(M,A),this}},{key:"_renderText",value:function(M,A,L,U,I,D){if(!(U<D||I<=U))return M.push(),this._isOpenType()?this._textFont._renderPath(A,L,U,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(A,L,U),this._doFill&&(this._fillSet||this._setFill(d._DEFAULT_TEXT_FILL),this.drawingContext.fillText(A,L,U))),M.pop(),M}},{key:"textWidth",value:function(M){return this._isOpenType()?this._textFont._textWidth(M,this._textSize):this.drawingContext.measureText(M).width}},{key:"_applyTextProperties",value:function(){var M,A=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),M=this._textFont,this._isOpenType()&&(M=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(M||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===d.CENTER?d._CTX_MIDDLE:this._textBaseline,A}},{key:"push",value:function(){return this.drawingContext.save(),i(s(k.prototype),"push",this).call(this)}},{key:"pop",value:function(M){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i(s(k.prototype),"pop",this).call(this,M)}}])&&b(g.prototype,a),k}(m.default.Renderer);p.prototype.text=function(a,g,E,A,k){var M;return void 0!==A&&this.drawingContext.textBaseline===d.BASELINE&&(M=!0,this.drawingContext.textBaseline=d.TOP),A=m.default.Renderer.prototype.text.apply(this,arguments),M&&(this.drawingContext.textBaseline=d.BASELINE),A},m.default.Renderer2D=p,O.default=v=m.default.Renderer2D},{"./constants":262,"./main":273,"./p5.Renderer":276,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],278:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var f=(r=r("./main"))&&r.__esModule?r:{default:r};function m(){return{}}f.default.prototype._promisePreloads=[];var d=!(f.default.prototype.registerPromisePreload=function(y){f.default.prototype._promisePreloads.push(y)});f.default.prototype._setupPromisePreloads=function(){var y=!0,w=!1,b=void 0;try{for(var i,l=this._promisePreloads[Symbol.iterator]();!(y=(i=l.next()).done);y=!0){var h=i.value,s=this,c=h.method,p=h.addCallbacks,v=h.legacyPreloadSetup,a=h.target||this,g=a[c].bind(a);if(a===f.default.prototype){if(d)continue;s=null,g=a[c]}a[c]=this._wrapPromisePreload(s,g,p),v&&(a[v.method]=this._legacyPreloadGenerator(s,v,a[c]))}}catch(E){w=!0,b=E}finally{try{y||null==l.return||l.return()}finally{if(w)throw b}}d=!0},f.default.prototype._wrapPromisePreload=function(y,w,b){var i=function(){for(var l=this,h=(this._incrementPreload(),null),s=null,c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];if(b)for(var a=p.length-1;0<=a&&!s&&"function"==typeof p[a];a--)s=h,h=p.pop();var g=Promise.resolve(w.apply(this,p));return h&&g.then(h),s&&g.catch(s),g.then(function(){return l._decrementPreload()}),g};return y?i.bind(y):i},f.default.prototype._legacyPreloadGenerator=function(y,l,b){var i=l.createBaseObject||m;return l=function(){var h=this;this._incrementPreload();for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];var v=i.apply(this,c);return b.apply(this,c).then(function(a){Object.assign(v,a),h._decrementPreload()}),v},y?l.bind(y):l}},{"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],279:[function(r,G,O){"use strict";function f(l){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(i=r("./main"))&&i.__esModule?i:{default:i},d=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==w(l)&&"function"!=typeof l)return{default:l};var h=y();if(h&&h.has(l))return h.get(l);var s,c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in l){var v;Object.prototype.hasOwnProperty.call(l,s)&&((v=p?Object.getOwnPropertyDescriptor(l,s):null)&&(v.get||v.set)?Object.defineProperty(c,s,v):c[s]=l[s])}return c.default=l,h&&h.set(l,c),c}(r("./constants"));function y(){var l;return"function"!=typeof WeakMap?null:(y=function(){return l},l=new WeakMap)}function w(l){return(w="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(h){return f(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(l)}r("./p5.Graphics"),r("./p5.Renderer2D"),r("../webgl/p5.RendererGL");var b="defaultCanvas0",i=(m.default.prototype.createCanvas=function(l,h,s,c){var p,v,a;if(m.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(s=d.P2D,c=arguments[2]):p=s||d.P2D,c)(a=document.getElementById(b))&&a.parentNode.removeChild(a),a=c,this._defaultGraphicsCreated=!1;else{if(p===d.WEBGL)(a=document.getElementById(b))&&(a.parentNode.removeChild(a),v=this._renderer,this._elements=this._elements.filter(function(E){return E!==v})),(a=document.createElement("canvas")).id=b,a.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)a=this.canvas;else{a=c||document.createElement("canvas");for(var g=0;document.getElementById("defaultCanvas".concat(g));)g++;b="defaultCanvas".concat(g),a.id=b,a.classList.add("p5Canvas")}this._setupDone||(a.dataset.hidden=!0,a.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(s=document.createElement("main"),document.body.appendChild(s)),document.getElementsByTagName("main")[0])).appendChild(a)}return p===d.WEBGL?(this._setProperty("_renderer",new m.default.RendererGL(a,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new m.default.Renderer2D(a,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,h),this._renderer._applyDefaults(),this._renderer},m.default.prototype.resizeCanvas=function(l,h,s){if(m.default._validateParameters("resizeCanvas",arguments),this._renderer){var c,p,v={};for(c in this.drawingContext){var a=this.drawingContext[c];"object"!==w(a)&&"function"!=typeof a&&(v[c]=a)}for(p in this.width=l,this.height=h,this._renderer.resize(l,h),v)try{this.drawingContext[p]=v[p]}catch{}s||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},m.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},m.default.prototype.createGraphics=function(l,h,s,c){return arguments[2]instanceof HTMLCanvasElement&&(s=d.P2D,c=arguments[2]),m.default._validateParameters("createGraphics",arguments),new m.default.Graphics(l,h,s,this,c)},m.default.prototype.createFramebuffer=function(l){return new m.default.Framebuffer(this,l)},m.default.prototype.blendMode=function(l){m.default._validateParameters("blendMode",arguments),l===d.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=d.BLEND),this._renderer.blendMode(l)},m.default);O.default=i},{"../webgl/p5.RendererGL":328,"./constants":262,"./main":273,"./p5.Graphics":275,"./p5.Renderer2D":277,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],280:[function(r,G,O){"use strict";function f(h){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(h)}function m(h){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(s){return f(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(h)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=i(r("../main")),y=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==m(h)&&"function"!=typeof h)return{default:h};var s=b();if(s&&s.has(h))return s.get(h);var c,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in h){var a;Object.prototype.hasOwnProperty.call(h,c)&&((a=v?Object.getOwnPropertyDescriptor(h,c):null)&&(a.get||a.set)?Object.defineProperty(p,c,a):p[c]=h[c])}return p.default=h,s&&s.set(h,p),p}(r("../constants")),w=i(r("../helpers"));function b(){var h;return"function"!=typeof WeakMap?null:(b=function(){return h},h=new WeakMap)}function i(h){return h&&h.__esModule?h:{default:h}}r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),d.default.prototype._normalizeArcAngles=function(h,s,c,p,v){var a;return h-=y.TWO_PI*Math.floor(h/y.TWO_PI),s-=y.TWO_PI*Math.floor(s/y.TWO_PI),a=Math.min(Math.abs(h-s),y.TWO_PI-Math.abs(h-s)),v&&(h=h<=y.HALF_PI?Math.atan(c/p*Math.tan(h)):h>y.HALF_PI&&h<=3*y.HALF_PI?Math.atan(c/p*Math.tan(h))+y.PI:Math.atan(c/p*Math.tan(h))+y.TWO_PI,s=s<=y.HALF_PI?Math.atan(c/p*Math.tan(s)):s>y.HALF_PI&&s<=3*y.HALF_PI?Math.atan(c/p*Math.tan(s))+y.PI:Math.atan(c/p*Math.tan(s))+y.TWO_PI),s<h&&(s+=y.TWO_PI),{start:h,stop:s,correspondToSamePoint:a<1e-5}},d.default.prototype.arc=function(h,s,c,p,v,a,g,E){return d.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&v!==a&&(v=this._toRadians(v),a=this._toRadians(a),c=Math.abs(c),p=Math.abs(p),h=w.default.modeAdjust(h,s,c,p,this._renderer._ellipseMode),(s=this._normalizeArcAngles(v,a,h.w,h.h,!0)).correspondToSamePoint?this._renderer.ellipse([h.x,h.y,h.w,h.h,E]):(this._renderer.arc(h.x,h.y,h.w,h.h,s.start,s.stop,g,E),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[h.x,h.y,h.w,h.h,s.start,s.stop,g]))),this},d.default.prototype.ellipse=function(h,s,c,p,v){return d.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},d.default.prototype.circle=function(){d.default._validateParameters("circle",arguments);var h=Array.prototype.slice.call(arguments,0,2);return h.push(arguments[2]),h.push(arguments[2]),this._renderEllipse.apply(this,function l(h){return function(s){if(Array.isArray(s)){for(var c=0,p=new Array(s.length);c<s.length;c++)p[c]=s[c];return p}}(h)||function(s){if(Symbol.iterator in Object(s)||"[object Arguments]"===Object.prototype.toString.call(s))return Array.from(s)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(h))},d.default.prototype._renderEllipse=function(h,s,c,p,v){return(this._renderer._doStroke||this._renderer._doFill)&&(c<0&&(c=Math.abs(c)),void 0===p?p=c:p<0&&(p=Math.abs(p)),h=w.default.modeAdjust(h,s,c,p,this._renderer._ellipseMode),this._renderer.ellipse([h.x,h.y,h.w,h.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[h.x,h.y,h.w,h.h])),this},d.default.prototype.line=function(){for(var h,s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return d.default._validateParameters("line",c),this._renderer._doStroke&&(h=this._renderer).line.apply(h,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",c),this},d.default.prototype.point=function(){for(var h,s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return d.default._validateParameters("point",c),this._renderer._doStroke&&(1===c.length&&c[0]instanceof d.default.Vector?this._renderer.point.call(this._renderer,c[0].x,c[0].y,c[0].z):((h=this._renderer).point.apply(h,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",c))),this},d.default.prototype.quad=function(){for(var h,s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return d.default._validateParameters("quad",c),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&c.length<12?this._renderer.quad.call(this._renderer,c[0],c[1],0,c[2],c[3],0,c[4],c[5],0,c[6],c[7],0,c[8],c[9]):((h=this._renderer).quad.apply(h,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",c))),this},d.default.prototype.rect=function(){for(var h=arguments.length,s=new Array(h),c=0;c<h;c++)s[c]=arguments[c];return d.default._validateParameters("rect",s),this._renderRect.apply(this,s)},d.default.prototype.square=function(h,s,c,p,v,a,g){return d.default._validateParameters("square",arguments),this._renderRect.call(this,h,s,c,c,p,v,a,g)},d.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var h=w.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),s=[h.x,h.y,h.w,h.h],c=4;c<arguments.length;c++)s[c]=arguments[c];this._renderer.rect(s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[h.x,h.y,h.w,h.h])}return this},d.default.prototype.triangle=function(){for(var h=arguments.length,s=new Array(h),c=0;c<h;c++)s[c]=arguments[c];return d.default._validateParameters("triangle",s),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",s),this},O.default=r=d.default},{"../constants":262,"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../helpers":269,"../main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],281:[function(r,G,O){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function m(i){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(l){return f(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":f(l)})(i)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(b=r("../main"))&&b.__esModule?b:{default:b},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==m(i)&&"function"!=typeof i)return{default:i};var l=w();if(l&&l.has(i))return l.get(i);var h,s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i){var p;Object.prototype.hasOwnProperty.call(i,h)&&((p=c?Object.getOwnPropertyDescriptor(i,h):null)&&(p.get||p.set)?Object.defineProperty(s,h,p):s[h]=i[h])}return s.default=i,l&&l.set(i,s),s}(r("../constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}d.default.prototype.ellipseMode=function(i){return d.default._validateParameters("ellipseMode",arguments),i!==y.CORNER&&i!==y.CORNERS&&i!==y.RADIUS&&i!==y.CENTER||(this._renderer._ellipseMode=i),this},d.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},d.default.prototype.rectMode=function(i){return d.default._validateParameters("rectMode",arguments),i!==y.CORNER&&i!==y.CORNERS&&i!==y.RADIUS&&i!==y.CENTER||(this._renderer._rectMode=i),this},d.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},d.default.prototype.strokeCap=function(i){return d.default._validateParameters("strokeCap",arguments),i!==y.ROUND&&i!==y.SQUARE&&i!==y.PROJECT||this._renderer.strokeCap(i),this},d.default.prototype.strokeJoin=function(i){return d.default._validateParameters("strokeJoin",arguments),i!==y.ROUND&&i!==y.BEVEL&&i!==y.MITER||this._renderer.strokeJoin(i),this},d.default.prototype.strokeWeight=function(i){return d.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var b=d.default;O.default=b},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],282:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(m=r("../main"))&&m.__esModule?m:{default:m};r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),f.default.prototype.bezier=function(){for(var d,y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];return f.default._validateParameters("bezier",w),(this._renderer._doStroke||this._renderer._doFill)&&(d=this._renderer).bezier.apply(d,w),this},f.default.prototype.bezierDetail=function(d){return f.default._validateParameters("bezierDetail",arguments),this._bezierDetail=d,this},f.default.prototype.bezierPoint=function(d,y,w,b,i){f.default._validateParameters("bezierPoint",arguments);var l=1-i;return Math.pow(l,3)*d+3*Math.pow(l,2)*i*y+3*l*Math.pow(i,2)*w+Math.pow(i,3)*b},f.default.prototype.bezierTangent=function(d,y,w,b,i){f.default._validateParameters("bezierTangent",arguments);var l=1-i;return 3*b*Math.pow(i,2)-3*w*Math.pow(i,2)+6*w*l*i-6*y*l*i+3*y*Math.pow(l,2)-3*d*Math.pow(l,2)},f.default.prototype.curve=function(){for(var d,y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];return f.default._validateParameters("curve",w),this._renderer._doStroke&&(d=this._renderer).curve.apply(d,w),this},f.default.prototype.curveDetail=function(d){return f.default._validateParameters("curveDetail",arguments),this._curveDetail=d<3?3:d,this},f.default.prototype.curveTightness=function(d){return f.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=d,this},f.default.prototype.curvePoint=function(d,y,w,b,i){f.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,h=i*i*i,s=i*i;return d*((l-1)/2*h+(1-l)*s+(l-1)/2*i)+y*((l+3)/2*h+(-5-l)/2*s+1)+w*((-3-l)/2*h+(l+2)*s+(1-l)/2*i)+b*((1-l)/2*h+(l-1)/2*s)},f.default.prototype.curveTangent=function(d,y,w,b,s){f.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,h=s*s*3;return d*((l-1)/2*h+(1-l)*(s*=2)+(l-1)/2)+y*((l+3)/2*h+(-5-l)/2*s)+w*((-3-l)/2*h+(l+2)*s+(1-l)/2)+b*((1-l)/2*h+(l-1)/2*s)};var m=f.default;O.default=m},{"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../main":273}],283:[function(r,G,O){"use strict";function f(g){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(g)}function m(g){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(E){return f(E)}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":f(E)})(g)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.slice"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(a=r("../main"))&&a.__esModule?a:{default:a},y=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==m(g)&&"function"!=typeof g)return{default:g};var E=w();if(E&&E.has(g))return E.get(g);var $,k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in g){var A;Object.prototype.hasOwnProperty.call(g,$)&&((A=M?Object.getOwnPropertyDescriptor(g,$):null)&&(A.get||A.set)?Object.defineProperty(k,$,A):k[$]=g[$])}return k.default=g,E&&E.set(g,k),k}(r("../constants"));function w(){var g;return"function"!=typeof WeakMap?null:(w=function(){return g},g=new WeakMap)}var b=null,i=[],l=[],h=!1,s=!1,c=!1,p=!1,v=!0,a=(d.default.prototype.beginContour=function(){return l=[],p=!0,this},d.default.prototype.beginShape=function(g){var E;return d.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(E=this._renderer).beginShape.apply(E,arguments):(b=g===y.POINTS||g===y.LINES||g===y.TRIANGLES||g===y.TRIANGLE_FAN||g===y.TRIANGLE_STRIP||g===y.QUADS||g===y.QUAD_STRIP?g:null,i=[],l=[]),this},d.default.prototype.bezierVertex=function(){for(var g,E=arguments.length,$=new Array(E),k=0;k<E;k++)$[k]=arguments[k];if(d.default._validateParameters("bezierVertex",$),this._renderer.isP3D)(g=this._renderer).bezierVertex.apply(g,$);else if(0===i.length)d.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{h=!0;for(var M=[],A=0;A<$.length;A++)M[A]=$[A];M.isVert=!1,(p?l:i).push(M)}return this},d.default.prototype.curveVertex=function(){for(var g,E=arguments.length,$=new Array(E),k=0;k<E;k++)$[k]=arguments[k];return d.default._validateParameters("curveVertex",$),this._renderer.isP3D?(g=this._renderer).curveVertex.apply(g,$):(s=!0,this.vertex($[0],$[1])),this},d.default.prototype.endContour=function(){var g=l[0].slice();g.isVert=l[0].isVert,g.moveTo=!1,l.push(g),v&&(i.push(i[0]),v=!1);for(var E=0;E<l.length;E++)i.push(l[E]);return this},d.default.prototype.endShape=function(g){if(d.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(g,s,h,c,p,b);else{if(0===i.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var E=g===y.CLOSE;E&&!p&&i.push(i[0]),this._renderer.endShape(g,i,s,h,c,p,b),v=!(p=c=h=s=!1),E&&i.pop()}return this},d.default.prototype.quadraticVertex=function(){for(var g,E=arguments.length,$=new Array(E),k=0;k<E;k++)$[k]=arguments[k];if(d.default._validateParameters("quadraticVertex",$),this._renderer.isP3D)(g=this._renderer).quadraticVertex.apply(g,$);else{if(this._contourInited)return(g={}).x=$[0],g.y=$[1],g.x3=$[2],g.y3=$[3],g.type=y.QUADRATIC,this._contourVertices.push(g),this;if(0<i.length){c=!0;for(var M=[],A=0;A<$.length;A++)M[A]=$[A];M.isVert=!1,(p?l:i).push(M)}else d.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},d.default.prototype.vertex=function(g,E,$,k,M){var A;return this._renderer.isP3D?(A=this._renderer).vertex.apply(A,arguments):((A=[]).isVert=!0,A[0]=g,A[1]=E,A[2]=0,A[3]=0,A[4]=0,A[5]=this._renderer._getFill(),A[6]=this._renderer._getStroke(),$&&(A.moveTo=$),(p?(0===l.length&&(A.moveTo=!0),l):i).push(A)),this},d.default.prototype.normal=function(g,E,$){var k;return this._assert3d("normal"),d.default._validateParameters("normal",arguments),(k=this._renderer).normal.apply(k,arguments),this},d.default);O.default=a},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],284:[function(r,G,O){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function m(i){return function(l){if(Array.isArray(l)){for(var h=0,s=new Array(l.length);h<l.length;h++)s[h]=l[h];return s}}(i)||function(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(i){return(d="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(l){return f(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":f(l)})(i)}var y,w,b;r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i,l){window.setTimeout(i,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(y=Object.keys,r=Object.defineProperty,w="function"==typeof Symbol&&"symbol"===d(Symbol()),b=Object.prototype.propertyIsEnumerable,r(Object,"assign",{value:function(i,l){if(null==i)throw new TypeError("target must be an object");for(var h,s=Object(i),c=1;c<arguments.length;++c){var p=Object(arguments[c]),v=y(p);for(w&&Object.getOwnPropertySymbols&&v.push.apply(v,m(Object.getOwnPropertySymbols(p).filter(function(a){return function(g){return b.call(a,g)}}(p)))),h=0;h<v.length;++h)s[v[h]]=p[v[h]]}return s},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/web.dom-collections.iterator":236}],285:[function(r,G,O){"use strict";r("core-js/modules/es.array.for-each"),r("core-js/modules/es.object.assign"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.object.assign"),r("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("./main"))&&r.__esModule?r:{default:r}).default.prototype.noLoop=function(){this._loop=!1},r.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},r.default.prototype.isLooping=function(){return this._loop},r.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},r.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},r.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var m=parseInt(f),d=((isNaN(m)||m<1)&&(m=1),this._isGlobal?window:this);if("function"==typeof d.draw){void 0===d.setup&&d.scale(d._pixelDensity,d._pixelDensity);for(var y=function(b){b.call(d)},w=0;w<m;w++){d.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),d._renderer.isP3D&&d._renderer._update(),d._setProperty("frameCount",d.frameCount+1),d._registeredMethods.pre.forEach(y),this._inUserDraw=!0;try{d.draw()}finally{this._inUserDraw=!1}d._registeredMethods.post.forEach(y)}}}},O.default=r=r.default},{"./main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.object.assign":174,"core-js/modules/web.dom-collections.for-each":235}],286:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("./main"))&&r.__esModule?r:{default:r};f.default.prototype.applyMatrix=function(){var d=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||d?(d=this._renderer).applyMatrix.apply(d,function m(d){return function(y){if(Array.isArray(y)){for(var w=0,b=new Array(y.length);w<y.length;w++)b[w]=y[w];return b}}(d)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(d=this._renderer).applyMatrix.apply(d,arguments),this},f.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},f.default.prototype.rotate=function(d,y){return f.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(d),y),this},f.default.prototype.rotateX=function(d){return this._assert3d("rotateX"),f.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(d)),this},f.default.prototype.rotateY=function(d){return this._assert3d("rotateY"),f.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(d)),this},f.default.prototype.rotateZ=function(d){return this._assert3d("rotateZ"),f.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(d)),this},f.default.prototype.scale=function(d,y,w){var b;return f.default._validateParameters("scale",arguments),d instanceof f.default.Vector?(d=(b=d).x,y=b.y,w=b.z):d instanceof Array&&(d=(b=d)[0],y=b[1],w=b[2]||1),isNaN(y)?y=w=d:isNaN(w)&&(w=1),this._renderer.scale.call(this._renderer,d,y,w),this},f.default.prototype.shearX=function(d){return f.default._validateParameters("shearX",arguments),d=this._toRadians(d),this._renderer.applyMatrix(1,0,Math.tan(d),1,0,0),this},f.default.prototype.shearY=function(d){return f.default._validateParameters("shearY",arguments),d=this._toRadians(d),this._renderer.applyMatrix(1,Math.tan(d),0,1,0,0),this},f.default.prototype.translate=function(d,y,w){return f.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(d,y,w):this._renderer.translate(d,y),this},O.default=r=f.default},{"./main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236}],287:[function(r,G,O){"use strict";function f(w){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(w)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var m=(r=r("../core/main"))&&r.__esModule?r:{default:r};function d(w){return function(b){if(Array.isArray(b)){for(var i=0,l=new Array(b.length);i<b.length;i++)l[i]=b[i];return l}}(w)||function(b){if(Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b))return Array.from(b)}(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(w){return(y="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(b){return f(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":f(b)})(w)}m.default.prototype.storeItem=function(w,b){"string"!=typeof w&&console.log("The argument that you passed to storeItem() - ".concat(w," is not a string.")),w.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(w," must not end with 'p5TypeID'.")),void 0===b&&console.log("You cannot store undefined variables using storeItem().");var i=y(b);switch(i){case"number":case"boolean":b=b.toString();break;case"object":b instanceof m.default.Color?i="p5.Color":b instanceof m.default.Vector&&(i="p5.Vector",b=[b.x,b.y,b.z]),b=JSON.stringify(b)}localStorage.setItem(w,b),w="".concat(w,"p5TypeID"),localStorage.setItem(w,i)},m.default.prototype.getItem=function(w){var b=localStorage.getItem(w),i=localStorage.getItem("".concat(w,"p5TypeID"));if(void 0===i)console.log("Unable to determine type of item stored under ".concat(w,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==b)switch(i){case"number":b=parseFloat(b);break;case"boolean":b="true"===b;break;case"object":b=JSON.parse(b);break;case"p5.Color":b=JSON.parse(b),b=this.color.apply(this,d(b.levels));break;case"p5.Vector":b=JSON.parse(b),b=this.createVector.apply(this,d(b))}return b},m.default.prototype.clearStorage=function(){localStorage.clear()},m.default.prototype.removeItem=function(w){"string"!=typeof w&&console.log("The argument that you passed to removeItem() - ".concat(w," is not a string.")),localStorage.removeItem(w),localStorage.removeItem("".concat(w,"p5TypeID"))}},{"../core/main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],288:[function(r,G,O){"use strict";function f(c){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(c)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(r=r("../core/main"))&&r.__esModule?r:{default:r};function d(c){return(d="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(p){return f(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(c)}function y(c,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&w(c,p)}function w(c,p){return(w=Object.setPrototypeOf||function(v,a){return v.__proto__=a,v})(c,p)}function b(c){return function(){var p,v=i(c);if(p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=i(this).constructor,Reflect.construct(v,arguments,p)):v.apply(this,arguments),v=this,!p||"object"!==d(p)&&"function"!=typeof p){if(void 0!==v)return v;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return p}}function i(c){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(c)}function l(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function h(c,p){for(var v=0;v<p.length;v++){var a=p[v];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}function s(c,p,v){p&&h(c.prototype,p),v&&h(c,v)}m.default.prototype.createStringDict=function(c,p){return m.default._validateParameters("createStringDict",arguments),new m.default.StringDict(c,p)},m.default.prototype.createNumberDict=function(c,p){return m.default._validateParameters("createNumberDict",arguments),new m.default.NumberDict(c,p)},m.default.TypedDict=function(){function c(p,v){return l(this,c),p instanceof Object?this.data=p:(this.data={},this.data[p]=v),this}return s(c,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(p){return this.data.hasOwnProperty(p)}},{key:"get",value:function(p){if(this.data.hasOwnProperty(p))return this.data[p];console.log("".concat(p," does not exist in this Dictionary"))}},{key:"set",value:function(p,v){this._validate(v)?this.data[p]=v:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(p){for(var v in p)this.set(v,p[v])}},{key:"create",value:function(p,v){p instanceof Object&&void 0===v?this._addObj(p):void 0!==p?this.set(p,v):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(p){if(!this.data.hasOwnProperty(p))throw new Error("".concat(p," does not exist in this Dictionary"));delete this.data[p]}},{key:"print",value:function(){for(var p in this.data)console.log("key:".concat(p," value:").concat(this.data[p]))}},{key:"saveTable",value:function(p){var v,a="";for(v in this.data)a+="".concat(v,",").concat(this.data[v],"\n");var g=new Blob([a],{type:"text/csv"});m.default.prototype.downloadFile(g,p||"mycsv","csv")}},{key:"saveJSON",value:function(p,v){m.default.prototype.saveJSON(this.data,p,v)}},{key:"_validate",value:function(p){return!0}}]),c}(),m.default.StringDict=function(){y(p,m.default.TypedDict);var c=b(p);function p(){l(this,p);for(var v=arguments.length,a=new Array(v),g=0;g<v;g++)a[g]=arguments[g];return c.call.apply(c,[this].concat(a))}return s(p,[{key:"_validate",value:function(v){return"string"==typeof v}}]),p}(),m.default.NumberDict=function(){y(p,m.default.TypedDict);var c=b(p);function p(){l(this,p);for(var v=arguments.length,a=new Array(v),g=0;g<v;g++)a[g]=arguments[g];return c.call.apply(c,[this].concat(a))}return s(p,[{key:"_validate",value:function(v){return"number"==typeof v}},{key:"add",value:function(v,a){this.data.hasOwnProperty(v)?this.data[v]+=a:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"sub",value:function(v,a){this.add(v,-a)}},{key:"mult",value:function(v,a){this.data.hasOwnProperty(v)?this.data[v]*=a:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"div",value:function(v,a){this.data.hasOwnProperty(v)?this.data[v]/=a:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"_valueTest",value:function(v){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var a,g=this.data[Object.keys(this.data)[0]];for(a in this.data)this.data[a]*v<g*v&&(g=this.data[a]);return g}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(v){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var a=Object.keys(this.data)[0],g=1;g<Object.keys(this.data).length;g++)Object.keys(this.data)[g]*v<a*v&&(a=Object.keys(this.data)[g]);return a}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),p}(),O.default=r=m.default.TypedDict},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],289:[function(r,G,O){"use strict";function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(r=r("../core/main"))&&r.__esModule?r:{default:r};function d(a,g){for(var E=0;E<g.length;E++){var $=g[E];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(a,$.key,$)}}function y(a,g,E){g&&d(a.prototype,g),E&&d(a,E)}function w(a,g){return(w=Object.setPrototypeOf||function(E,$){return E.__proto__=$,E})(a,g)}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(a)}function h(a,g){if(!(a instanceof g))throw new TypeError("Cannot call a class as a function")}function s(a){return(s="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(g){return f(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":f(g)})(a)}function c(a,g,E){return(g._userNode||document.body).appendChild(a),E=new(E?m.default.MediaElement:m.default.Element)(a,g),g._elements.push(E),E}function p(a,A,E,$){var k=document.createElement(A),M=("string"==typeof(E=E||"")&&(E=[E]),!0),L=void(A=!1);try{for(var U,I=E[Symbol.iterator]();!(M=(U=I.next()).done);M=!0){var D=U.value,R=document.createElement("source");R.setAttribute("src",D),k.appendChild(R)}}catch(N){A=!0,L=N}finally{try{M||null==I.return||I.return()}finally{if(A)throw L}}"function"==typeof $&&k.addEventListener("canplaythrough",function N(){$(),k.removeEventListener("canplaythrough",N)});var V=c(k,a,!0);return V.loadedmetadata=!1,k.addEventListener("loadedmetadata",function(){V.width=k.videoWidth,V.height=k.videoHeight,0===V.elt.width&&(V.elt.width=k.videoWidth),0===V.elt.height&&(V.elt.height=k.videoHeight),V.presetPlaybackRate&&(V.elt.playbackRate=V.presetPlaybackRate,delete V.presetPlaybackRate),V.loadedmetadata=!0}),V}function v(a,g,E,$){h(this,v),this.callback=a,this.time=g,this.id=E,this.val=$}m.default.prototype.select=function(a,g){return m.default._validateParameters("select",arguments),(g=this._getContainer(g).querySelector(a))?this._wrapElement(g):null},m.default.prototype.selectAll=function(a,g){m.default._validateParameters("selectAll",arguments);var E=[],$=this._getContainer(g).querySelectorAll(a);if($)for(var k=0;k<$.length;k++){var M=this._wrapElement($[k]);E.push(M)}return E},m.default.prototype._getContainer=function(a){var g=document;return"string"==typeof a?g=document.querySelector(a)||document:a instanceof m.default.Element?g=a.elt:a instanceof HTMLElement&&(g=a),g},m.default.prototype._wrapElement=function(a){var g,E=Array.prototype.slice.call(a.children);return"INPUT"===a.tagName&&"checkbox"===a.type?((g=new m.default.Element(a,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},g):"VIDEO"===a.tagName||"AUDIO"===a.tagName?new m.default.MediaElement(a,this):"SELECT"===a.tagName?this.createSelect(new m.default.Element(a,this)):0<E.length&&E.every(function($){return"INPUT"===$.tagName||"LABEL"===$.tagName})?this.createRadio(new m.default.Element(a,this)):new m.default.Element(a,this)},m.default.prototype.removeElements=function(a){m.default._validateParameters("removeElements",arguments),this._elements.filter(function(g){return!(g.elt instanceof HTMLCanvasElement)}).map(function(g){return g.remove()})},m.default.Element.prototype.changed=function(a){return m.default.Element._adjustListener("change",a,this),this},m.default.Element.prototype.input=function(a){return m.default.Element._adjustListener("input",a,this),this},m.default.prototype.createDiv=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",g=document.createElement("div");return g.innerHTML=a,c(g,this)},m.default.prototype.createP=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",g=document.createElement("p");return g.innerHTML=a,c(g,this)},m.default.prototype.createSpan=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",g=document.createElement("span");return g.innerHTML=a,c(g,this)},m.default.prototype.createImg=function(){m.default._validateParameters("createImg",arguments);var a,g=document.createElement("img"),E=arguments;return 1<E.length&&"string"==typeof E[1]&&(g.alt=E[1]),2<E.length&&"string"==typeof E[2]&&(g.crossOrigin=E[2]),g.src=E[0],a=c(g,this),g.addEventListener("load",function(){a.width=g.offsetWidth||g.width,a.height=g.offsetHeight||g.height;var $=E[E.length-1];"function"==typeof $&&$(a)}),a},m.default.prototype.createA=function(a,g,E){m.default._validateParameters("createA",arguments);var $=document.createElement("a");return $.href=a,$.innerHTML=g,E&&($.target=E),c($,this)},m.default.prototype.createSlider=function(a,g,E,$){m.default._validateParameters("createSlider",arguments);var k=document.createElement("input");return k.type="range",k.min=a,k.max=g,0===$?k.step=1e-18:$&&(k.step=$),"number"==typeof E&&(k.value=E),c(k,this)},m.default.prototype.createButton=function(a,g){m.default._validateParameters("createButton",arguments);var E=document.createElement("button");return E.innerHTML=a,g&&(E.value=g),c(E,this)},m.default.prototype.createCheckbox=function(){for(var a=arguments.length,g=new Array(a),E=0;E<a;E++)g[E]=arguments[E];m.default._validateParameters("createCheckbox",g);var $=document.createElement("div"),k=document.createElement("input"),M=(k.type="checkbox",document.createElement("label")),A=(M.appendChild(k),$.appendChild(M),c($,this));return A.checked=function(){var L=A.elt.firstElementChild.getElementsByTagName("input")[0];if(L){if(0===arguments.length)return L.checked;L.checked=!(arguments.length<=0||!arguments[0])}return A},this.value=function(L){return A.value=L,this},g[0]&&(A.value(g[0]),($=document.createElement("span")).innerHTML=g[0],M.appendChild($)),g[1]&&(k.checked=!0),A},m.default.prototype.createSelect=function(){for(var a,g=arguments.length,E=new Array(g),$=0;$<g;$++)E[$]=arguments[$];m.default._validateParameters("createSelect",E);var k,M=E[0];return M instanceof m.default.Element&&M.elt instanceof HTMLSelectElement?this.elt=(a=M).elt:M instanceof HTMLSelectElement?(a=c(M,this),this.elt=M):(k=document.createElement("select"),M&&"boolean"==typeof M&&k.setAttribute("multiple","true"),a=c(k,this),this.elt=k),a.option=function(A,L){var U;if(void 0!==A){for(var I,D=0;D<this.elt.length;D+=1)if(this.elt[D].textContent===A){U=D;break}void 0!==U?!1===L?this.elt.remove(U):this.elt[U].value=L:((I=document.createElement("option")).textContent=A,I.value=void 0===L?A:L,this.elt.appendChild(I),this._pInst._elements.push(I))}},a.selected=function(A){if(void 0!==A){for(var L=0;L<this.elt.length;L+=1)this.elt[L].value.toString()===A.toString()&&(this.elt.selectedIndex=L);return this}if(this.elt.getAttribute("multiple")){var U=[],I=!0,D=!1,R=void 0;try{for(var V,N=this.elt.selectedOptions[Symbol.iterator]();!(I=(V=N.next()).done);I=!0)U.push(V.value.value)}catch(T){D=!0,R=T}finally{try{I||null==N.return||N.return()}finally{if(D)throw R}}return U}return this.elt.value},a.disable=function(A){if("string"==typeof A)for(var L=0;L<this.elt.length;L++)this.elt[L].value.toString()===A&&(this.elt[L].disabled=!0,this.elt[L].selected=!1);else this.elt.disabled=!0;return this},a.enable=function(A){if("string"==typeof A)for(var L=0;L<this.elt.length;L++)this.elt[L].value.toString()===A&&(this.elt[L].disabled=!1,this.elt[L].selected=!1);else{this.elt.disabled=!1;for(var U=0;U<this.elt.length;U++)this.elt[U].disabled=!1,this.elt[U].selected=!1}return this},a},m.default.prototype.createRadio=function(){function a(A){return A instanceof HTMLInputElement&&"radio"===A.type}function g(A){return A instanceof HTMLLabelElement}var E,$,k,M=arguments.length<=0?void 0:arguments[0];return M instanceof m.default.Element&&(M.elt instanceof HTMLDivElement||M.elt instanceof HTMLSpanElement)?(E=M,this.elt=M.elt):M instanceof HTMLDivElement||M instanceof HTMLSpanElement?(E=c(M,this),$=this.elt=M,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(k=arguments.length<=1?void 0:arguments[1])):("string"==typeof M&&(k=M),$=document.createElement("div"),E=c($,this),this.elt=$),E._name=k||"radioOption",E._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(A){return a(A)||g(A)&&a(A.firstElementChild)}).map(function(A){return a(A)?A:A.firstElementChild})},E.option=function(A,L){var U,I,D,R=!0,V=!1,N=void 0;try{for(var Q,T=E._getOptionsArray()[Symbol.iterator]();!(R=(Q=T.next()).done);R=!0){var K=Q.value;if(K.value===A){U=K;break}}}catch(se){V=!0,N=se}finally{try{R||null==T.return||T.return()}finally{if(V)throw N}}return void 0===U&&((U=document.createElement("input")).setAttribute("type","radio"),U.setAttribute("value",A)),U.setAttribute("name",E._name),g(U.parentElement)?I=U.parentElement:(I=document.createElement("label")).insertAdjacentElement("afterbegin",U),I.lastElementChild instanceof HTMLSpanElement?D=I.lastElementChild:(D=document.createElement("span"),U.insertAdjacentElement("afterend",D)),D.innerHTML=void 0===L?A:L,this.elt.appendChild(I),U},E.remove=function(A){var L=!0,U=!1,I=void 0;try{for(var D,R=E._getOptionsArray()[Symbol.iterator]();!(L=(D=R.next()).done);L=!0){var V=D.value;if(V.value===A)return void(g(V.parentElement)?V.parentElement:V).remove()}}catch(N){U=!0,I=N}finally{try{L||null==R.return||R.return()}finally{if(U)throw I}}},E.value=function(){var A="",L=!0,U=!1,I=void 0;try{for(var D,R=E._getOptionsArray()[Symbol.iterator]();!(L=(D=R.next()).done);L=!0){var V=D.value;if(V.checked){A=V.value;break}}}catch(N){U=!0,I=N}finally{try{L||null==R.return||R.return()}finally{if(U)throw I}}return A},E.selected=function(A){var L=null;if(void 0===A){var U=!0,I=!1,D=void 0;try{for(var R,V=E._getOptionsArray()[Symbol.iterator]();!(U=(R=V.next()).done);U=!0){var N=R.value;if(N.checked){L=N;break}}}catch(fe){I=!0,D=fe}finally{try{U||null==V.return||V.return()}finally{if(I)throw D}}}else{E._getOptionsArray().forEach(function(Z){Z.checked=!1,Z.removeAttribute("checked")});var Q=!0;I=!1,D=void 0;try{for(var T,K=E._getOptionsArray()[Symbol.iterator]();!(Q=(T=K.next()).done);Q=!0){var se=T.value;se.value===A&&(se.setAttribute("checked",!0),se.checked=!0,L=se)}}catch(Z){I=!0,D=Z}finally{try{Q||null==K.return||K.return()}finally{if(I)throw D}}}return L},E.disable=function(){var A=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],L=!0,U=!1,I=void 0;try{for(var D,R=E._getOptionsArray()[Symbol.iterator]();!(L=(D=R.next()).done);L=!0)D.value.setAttribute("disabled",A)}catch(V){U=!0,I=V}finally{try{L||null==R.return||R.return()}finally{if(U)throw I}}},E},m.default.prototype.createColorPicker=function(a){m.default._validateParameters("createColorPicker",arguments);var g=document.createElement("input");return g.type="color",a?a instanceof m.default.Color?g.value=a.toString("#rrggbb"):(m.default.prototype._colorMode="rgb",m.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},g.value=m.default.prototype.color(a).toString("#rrggbb")):g.value="#000000",(g=c(g,this)).color=function(){return a&&(a.mode&&(m.default.prototype._colorMode=a.mode),a.maxes&&(m.default.prototype._colorMaxes=a.maxes)),m.default.prototype.color(this.elt.value)},g},m.default.prototype.createInput=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",E=(m.default._validateParameters("createInput",arguments),document.createElement("input"));return E.setAttribute("value",a),E.setAttribute("type",g),c(E,this)},m.default.prototype.createFileInput=function(a){var g,E=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(m.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(g=document.createElement("input")).setAttribute("type","file"),E&&g.setAttribute("multiple",!0),g.addEventListener("change",function($){var k=!0,M=!1,A=void 0;try{for(var L,U=$.target.files[Symbol.iterator]();!(k=(L=U.next()).done);k=!0)m.default.File._load(L.value,a)}catch(D){M=!0,A=D}finally{try{k||null==U.return||U.return()}finally{if(M)throw A}}},!1),c(g,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},m.default.prototype.createVideo=function(a,g){return m.default._validateParameters("createVideo",arguments),p(this,"video",a,g)},m.default.prototype.createAudio=function(a,g){return m.default._validateParameters("createAudio",arguments),p(this,"audio",a,g)},m.default.prototype.VIDEO="video",m.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(a){var g=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return g?new Promise(function(E,$){g.call(navigator,a,E,$)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),m.default.prototype.createCapture=function(){for(var a=arguments.length,g=new Array(a),E=0;E<a;E++)g[E]=arguments[E];if(m.default._validateParameters("createCapture",g),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var $,k=!0,M=!0,A=0,L=g;A<L.length;A++){var U=L[A];U===m.default.prototype.VIDEO?M=!1:U===m.default.prototype.AUDIO?k=!1:"object"===s(U)?I=U:"function"==typeof U&&($=U)}var I=I||{video:k,audio:M},D=document.createElement("video"),R=(D.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(I).then(function(V){try{"srcObject"in D?D.srcObject=V:D.src=window.URL.createObjectURL(V)}catch{D.src=V}},console.log),c(D,this,!0));return R.loadedmetadata=!1,D.addEventListener("loadedmetadata",function(){D.play(),D.width?(R.width=D.width,R.height=D.height):(R.width=R.elt.width=D.videoWidth,R.height=R.elt.height=D.videoHeight),R.loadedmetadata=!0,$&&$(D.srcObject)}),R},m.default.prototype.createElement=function(a,g){return m.default._validateParameters("createElement",arguments),a=document.createElement(a),void 0!==g&&(a.innerHTML=g),c(a,this)},m.default.Element.prototype.addClass=function(a){return this.elt.className?this.hasClass(a)||(this.elt.className=this.elt.className+" "+a):this.elt.className=a,this},m.default.Element.prototype.removeClass=function(a){return this.elt.classList.remove(a),this},m.default.Element.prototype.hasClass=function(a){return this.elt.classList.contains(a)},m.default.Element.prototype.toggleClass=function(a){return this.elt.classList.contains(a)?this.elt.classList.remove(a):this.elt.classList.add(a),this},m.default.Element.prototype.child=function(a){return void 0===a?this.elt.childNodes:("string"==typeof a?("#"===a[0]&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof m.default.Element&&(a=a.elt),a instanceof HTMLElement&&this.elt.appendChild(a),this)},m.default.Element.prototype.center=function(a){var g=this.elt.style.display,E="none"===this.elt.style.display,$="none"===this.parent().style.display,k={x:this.elt.offsetLeft,y:this.elt.offsetTop},M=(E&&this.show(),$&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),A=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===a||void 0===a?this.position(M/2+this.parent().offsetLeft,A/2+this.parent().offsetTop):"horizontal"===a?this.position(M/2+this.parent().offsetLeft,k.y):"vertical"===a&&this.position(k.x,A/2+this.parent().offsetTop),this.style("display",g),E&&this.hide(),$&&this.parent().hide(),this},m.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},m.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},m.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var a="";return this.elt.style.transform&&(a=(a=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=a,this},m.default.Element.prototype._rotate=function(){var a="";return this.elt.style.transform&&(a=(a=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=a,this},m.default.Element.prototype.style=function(a,g){if(void 0===(g=g instanceof m.default.Color?"rgba("+g.levels[0]+","+g.levels[1]+","+g.levels[2]+","+g.levels[3]/255+")":g)){if(-1===a.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(a);for(var E=a.split(";"),$=0;$<E.length;$++){var k=E[$].split(":");k[0]&&k[1]&&(this.elt.style[k[0].trim()]=k[1].trim())}}else this.elt.style[a]=g,"width"!==a&&"height"!==a&&"left"!==a&&"top"!==a||(g=window.getComputedStyle(this.elt).getPropertyValue(a).replace(/[^\d.]/g,""),this[a]=Math.round(parseFloat(g,10)));return this},m.default.Element.prototype.attribute=function(a,g){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===g?this.elt.getAttribute(a):(this.elt.setAttribute(a,g),this);if(void 0===g)return this.elt.firstChild.getAttribute(a);for(var E=0;E<this.elt.childNodes.length;E++)this.elt.childNodes[E].setAttribute(a,g)},m.default.Element.prototype.removeAttribute=function(a){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var g=0;g<this.elt.childNodes.length;g++)this.elt.childNodes[g].removeAttribute(a);return this.elt.removeAttribute(a),this},m.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},m.default.Element.prototype.show=function(){return this.elt.style.display="block",this},m.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},m.default.Element.prototype.size=function(a,g){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var E=a,$=g,k=m.default.prototype.AUTO;if(E!==k||$!==k){if(E===k?E=g*this.width/this.height:$===k&&($=a*this.height/this.width),this.elt instanceof HTMLCanvasElement){var M,A={},L=this.elt.getContext("2d");for(M in L)A[M]=L[M];for(M in this.elt.setAttribute("width",E*this._pInst._pixelDensity),this.elt.setAttribute("height",$*this._pInst._pixelDensity),this.elt.style.width=E+"px",this.elt.style.height=$+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),A)this.elt.getContext("2d")[M]=A[M]}else this.elt.style.width=E+"px",this.elt.style.height=$+"px",this.elt.width=E,this.elt.height=$;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},m.default.Element.prototype.remove=function(){this instanceof m.default.MediaElement&&(this.stop(),null!==(g=this.elt.srcObject)&&g.getTracks().forEach(function(E){E.stop()}));var a,g=this._pInst._elements.indexOf(this);for(a in-1!==g&&this._pInst._elements.splice(g,1),this._events)this.elt.removeEventListener(a,this._events[a]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},m.default.Element.prototype.drop=function(a,g){var E;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",E=function($){$.preventDefault()}),this.elt.addEventListener("dragleave",E)),m.default.Element._attachListener("drop",function(k){k.preventDefault(),"function"==typeof g&&g.call(this,k),k=k.dataTransfer.files;var M=!0,A=!1,L=void 0;try{for(var U,I=k[Symbol.iterator]();!(M=(U=I.next()).done);M=!0)m.default.File._load(U.value,a)}catch(R){A=!0,L=R}finally{try{M||null==I.return||I.return()}finally{if(A)throw L}}},this)):console.log("The File APIs are not fully supported in this browser."),this},r=function(a){var g=$;if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(a&&a.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),a&&w(g,a);var E=function b(a){return function(){var g,E,$=l(a);return g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=l(this).constructor,Reflect.construct($,arguments,g)):$.apply(this,arguments),$=this,!(E=g)||"object"!==s(E)&&"function"!=typeof E?i($):E}}($);function $(k,M){h(this,$);var A=i(M=E.call(this,k,M));return M.elt.crossOrigin="anonymous",M._prevTime=0,M._cueIDCounter=0,M._cues=[],M.pixels=[],M._pixelsState=i(M),M._pixelDensity=1,M._modified=!1,M._frameOnCanvas=-1,Object.defineProperty(A,"src",{get:function(){var L=A.elt.children[0].src,U=A.elt.src===window.location.href?"":A.elt.src;return L===window.location.href?U:L},set:function(L){for(var U=0;U<A.elt.children.length;U++)A.elt.removeChild(A.elt.children[U]);var I=document.createElement("source");I.src=L,k.appendChild(I),A.elt.src=L,A.modified=!0}}),A._onended=function(){},A.elt.onended=function(){A._onended(A)},M}return y($,[{key:"play",value:function(){var k;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(k=this.elt.play())&&k.catch&&k.catch(function(M){"NotAllowedError"===M.name?console.error(M):console.error("Media play method encountered an unexpected error",M)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var k=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(k)},{passive:!0,once:!0})}},{key:"autoplay",value:function(k){var M=this,A=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",k),k&&!A&&(k=function(){return M._setupAutoplayFailDetection()},4===this.elt.readyState?k():this.elt.addEventListener("canplay",k,{passive:!0,once:!0})),this}},{key:"volume",value:function(k){if(void 0===k)return this.elt.volume;this.elt.volume=k}},{key:"speed",value:function(k){if(void 0===k)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=k:this.presetPlaybackRate=k}},{key:"time",value:function(k){return void 0===k?this.elt.currentTime:(this.elt.currentTime=k,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var k=arguments.length,M=new Array(k),A=0;A<k;A++)M[A]=arguments[A];return m.default.Renderer2D.prototype.loadPixels.apply(this,M)}},{key:"updatePixels",value:function(k,M,A,L){return this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.updatePixels.call(this,k,M,A,L)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var k=arguments.length,M=new Array(k),A=0;A<k;A++)M[A]=arguments[A];return m.default.Renderer2D.prototype.get.apply(this,M)}},{key:"_getPixel",value:function(){this.loadPixels();for(var k=arguments.length,M=new Array(k),A=0;A<k;A++)M[A]=arguments[A];return m.default.Renderer2D.prototype._getPixel.apply(this,M)}},{key:"set",value:function(k,M,A){this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.set.call(this,k,M,A),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var k=arguments.length,M=new Array(k),A=0;A<k;A++)M[A]=arguments[A];m.default.prototype.copy.apply(this,M)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var k=arguments.length,M=new Array(k),A=0;A<k;A++)M[A]=arguments[A];m.default.Image.prototype.mask.apply(this,M)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(k){this._modified=k}},{key:"onended",value:function(k){return this._onended=k,this}},{key:"connect",value:function(k){var M,A;if("function"==typeof m.default.prototype.getAudioContext)M=m.default.prototype.getAudioContext(),A=m.default.soundOut.input;else try{A=(M=k.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=M.createMediaElementSource(this.elt),this.audioSourceNode.connect(A)),this.audioSourceNode.connect(k?k.input?k.input:k:A)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(k,U,A){var L=this._cueIDCounter++;return U=new v(U,k,L,A),this._cues.push(U),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),L}},{key:"removeCue",value:function(k){for(var M=0;M<this._cues.length;M++)this._cues[M].id===k&&(console.log(k),this._cues.splice(M,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var k=this.time(),M=0;M<this._cues.length;M++){var A=this._cues[M].time;this._prevTime<A&&A<=k&&this._cues[M].callback(this._cues[M].val)}this._prevTime=k}}]),$}(m.default.Element),m.default.MediaElement=r,r=function(){function a(g,E){h(this,a),this.file=g,this._pInst=E,E=g.type.split("/"),this.type=E[0],this.subtype=E[1],this.name=g.name,this.size=g.size,this.data=void 0}return y(a,null,[{key:"_createLoader",value:function(g,E){var $=new FileReader;return $.onload=function(k){var M,A=new m.default.File(g);"application/json"===A.file.type?A.data=JSON.parse(k.target.result):"text/xml"===A.file.type?(M=(new DOMParser).parseFromString(k.target.result,"text/xml"),A.data=new m.default.XML(M.documentElement)):A.data=k.target.result,E(A)},$}},{key:"_load",value:function(g,E){var $;/^text\//.test(g.type)||"application/json"===g.type?m.default.File._createLoader(g,E).readAsText(g):/^(video|audio)\//.test(g.type)?(($=new m.default.File(g)).data=URL.createObjectURL(g),E($)):m.default.File._createLoader(g,E).readAsDataURL(g)}}]),a}(),m.default.File=r,O.default=r=m.default},{"../core/main":273,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238}],290:[function(r,G,O){"use strict";function f(g){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(g)}function m(g){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(E){return f(E)}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":f(E)})(g)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(a=r("../core/main"))&&a.__esModule?a:{default:a},y=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==m(g)&&"function"!=typeof g)return{default:g};var E=w();if(E&&E.has(g))return E.get(g);var $,k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in g){var A;Object.prototype.hasOwnProperty.call(g,$)&&((A=M?Object.getOwnPropertyDescriptor(g,$):null)&&(A.get||A.set)?Object.defineProperty(k,$,A):k[$]=g[$])}return k.default=g,E&&E.set(g,k),k}(r("../core/constants"));function w(){var g;return"function"!=typeof WeakMap?null:(w=function(){return g},g=new WeakMap)}d.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",d.default.prototype.accelerationX=0,d.default.prototype.accelerationY=0,d.default.prototype.accelerationZ=0,d.default.prototype.pAccelerationX=0,d.default.prototype.pAccelerationY=0,d.default.prototype.pAccelerationZ=0,d.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},d.default.prototype.rotationX=0,d.default.prototype.rotationY=0,d.default.prototype.rotationZ=0,d.default.prototype.pRotationX=0,d.default.prototype.pRotationY=0;var b=d.default.prototype.pRotationZ=0,i=0,l=0,h="clockwise",s="clockwise",c="clockwise",p=(d.default.prototype.pRotateDirectionX=void 0,d.default.prototype.pRotateDirectionY=void 0,d.default.prototype.pRotateDirectionZ=void 0,d.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},d.default.prototype.turnAxis=void 0,.5),v=30,a=(d.default.prototype.setMoveThreshold=function(g){d.default._validateParameters("setMoveThreshold",arguments),p=g},d.default.prototype.setShakeThreshold=function(g){d.default._validateParameters("setShakeThreshold",arguments),v=g},d.default.prototype._ondeviceorientation=function(g){this._updatePRotations(),this._angleMode===y.radians&&(g.beta=g.beta*(_PI/180),g.gamma=g.gamma*(_PI/180),g.alpha=g.alpha*(_PI/180)),this._setProperty("rotationX",g.beta),this._setProperty("rotationY",g.gamma),this._setProperty("rotationZ",g.alpha),this._handleMotion()},d.default.prototype._ondevicemotion=function(g){this._updatePAccelerations(),this._setProperty("accelerationX",2*g.acceleration.x),this._setProperty("accelerationY",2*g.acceleration.y),this._setProperty("accelerationZ",2*g.acceleration.z),this._handleMotion()},d.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var g,E,$,k,M,A=this._isGlobal?window:this;"function"==typeof A.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>p||Math.abs(this.accelerationY-this.pAccelerationY)>p||Math.abs(this.accelerationZ-this.pAccelerationZ)>p)&&A.deviceMoved(),"function"==typeof A.deviceTurned&&($=b+180,0<(E=this.rotationX+180)-(g=this.pRotationX+180)&&E-g<270||E-g<-270?h="clockwise":(E-g<0||270<E-g)&&(h="counter-clockwise"),h!==this.pRotateDirectionX&&($=E),90<Math.abs(E-$)&&Math.abs(E-$)<270&&($=E,this._setProperty("turnAxis","X"),A.deviceTurned()),this.pRotateDirectionX=h,b=$-180,$=i+180,0<(g=this.rotationY+180)-(E=this.pRotationY+180)&&g-E<270||g-E<-270?s="clockwise":(g-E<0||270<g-this.pRotationY)&&(s="counter-clockwise"),s!==this.pRotateDirectionY&&($=g),90<Math.abs(g-$)&&Math.abs(g-$)<270&&($=g,this._setProperty("turnAxis","Y"),A.deviceTurned()),this.pRotateDirectionY=s,i=$-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?c="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(c="counter-clockwise"),c!==this.pRotateDirectionZ&&(l=this.rotationZ),90<Math.abs(this.rotationZ-l)&&Math.abs(this.rotationZ-l)<270&&(l=this.rotationZ,this._setProperty("turnAxis","Z"),A.deviceTurned()),this.pRotateDirectionZ=c,this._setProperty("turnAxis",void 0)),"function"==typeof A.deviceShaken&&(null!==this.pAccelerationX&&(k=Math.abs(this.accelerationX-this.pAccelerationX),M=Math.abs(this.accelerationY-this.pAccelerationY)),v<k+M&&A.deviceShaken())},d.default);O.default=a},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],291:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};f.default.prototype.isKeyPressed=!1,f.default.prototype.keyIsPressed=!1,f.default.prototype.key="",f.default.prototype.keyCode=0,f.default.prototype._onkeydown=function(m){var d;this._downKeys[m.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",m.which),this._downKeys[m.which]=!0,this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),"function"!=typeof(d=this._isGlobal?window:this).keyPressed||m.charCode||!1===d.keyPressed(m)&&m.preventDefault())},f.default.prototype._onkeyup=function(m){this._downKeys[m.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),this._setProperty("keyCode",m.which);var d=this._isGlobal?window:this;"function"==typeof d.keyReleased&&!1===d.keyReleased(m)&&m.preventDefault()},f.default.prototype._onkeypress=function(m){var d;m.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",m.which),this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),"function"==typeof(d=this._isGlobal?window:this).keyTyped&&!1===d.keyTyped(m)&&m.preventDefault())},f.default.prototype._onblur=function(m){this._downKeys={}},f.default.prototype.keyIsDown=function(m){return f.default._validateParameters("keyIsDown",arguments),this._downKeys[m]||!1},f.default.prototype._areDownKeys=function(){for(var m in this._downKeys)if(this._downKeys.hasOwnProperty(m)&&!0===this._downKeys[m])return!0;return!1},O.default=r=f.default},{"../core/main":273}],292:[function(r,G,O){"use strict";function f(b){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(b)}function m(b){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(i){return f(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":f(i)})(b)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.string.includes"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(d=r("../core/main"))&&d.__esModule?d:{default:d},y=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==m(b)&&"function"!=typeof b)return{default:b};var i=w();if(i&&i.has(b))return i.get(b);var l,h={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in b){var c;Object.prototype.hasOwnProperty.call(b,l)&&((c=s?Object.getOwnPropertyDescriptor(b,l):null)&&(c.get||c.set)?Object.defineProperty(h,l,c):h[l]=b[l])}return h.default=b,i&&i.set(b,h),h}(r("../core/constants"));function w(){var b;return"function"!=typeof WeakMap?null:(w=function(){return b},b=new WeakMap)}d.default.prototype.movedX=0,d.default.prototype.movedY=0,d.default.prototype._hasMouseInteracted=!1,d.default.prototype.mouseX=0,d.default.prototype.mouseY=0,d.default.prototype.pmouseX=0,d.default.prototype.pmouseY=0,d.default.prototype.winMouseX=0,d.default.prototype.winMouseY=0,d.default.prototype.pwinMouseX=0,d.default.prototype.pwinMouseY=0,d.default.prototype.mouseButton=0,d.default.prototype.mouseIsPressed=!1,d.default.prototype._updateNextMouseCoords=function(b){var i,l,h,s,c;null!==this._curElement&&(!b.touches||0<b.touches.length)&&(l=this.width,h=this.height,(s=b)&&!s.clientX&&(s.touches?s=s.touches[0]:s.changedTouches&&(s=s.changedTouches[0])),c=(i=this._curElement.elt).getBoundingClientRect(),h={x:(s.clientX-c.left)/(l=i.scrollWidth/l||1),y:(s.clientY-c.top)/(i=i.scrollHeight/h||1),winX:s.clientX,winY:s.clientY,id:s.identifier},this._setProperty("movedX",b.movementX),this._setProperty("movedY",b.movementY),this._setProperty("mouseX",h.x),this._setProperty("mouseY",h.y),this._setProperty("winMouseX",h.winX),this._setProperty("winMouseY",h.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},d.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},d.default.prototype._setMouseButton=function(b){this._setProperty("mouseButton",1===b.button?y.CENTER:2===b.button?y.RIGHT:y.LEFT)},d.default.prototype._onmousemove=function(b){var i=this._isGlobal?window:this;this._updateNextMouseCoords(b),this.mouseIsPressed?"function"==typeof i.mouseDragged?!1===i.mouseDragged(b)&&b.preventDefault():"function"==typeof i.touchMoved&&!1===i.touchMoved(b)&&b.preventDefault():"function"==typeof i.mouseMoved&&!1===i.mouseMoved(b)&&b.preventDefault()},d.default.prototype._onmousedown=function(b){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(b),this._updateNextMouseCoords(b),"function"==typeof i.mousePressed?!1===i.mousePressed(b)&&b.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof i.touchStarted&&!1===i.touchStarted(b)&&b.preventDefault()},d.default.prototype._onmouseup=function(b){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof i.mouseReleased?!1===i.mouseReleased(b)&&b.preventDefault():"function"==typeof i.touchEnded&&!1===i.touchEnded(b)&&b.preventDefault()},d.default.prototype._ondragend=d.default.prototype._onmouseup,d.default.prototype._ondragover=d.default.prototype._onmousemove,d.default.prototype._onclick=function(b){var i=this._isGlobal?window:this;"function"==typeof i.mouseClicked&&!1===i.mouseClicked(b)&&b.preventDefault()},d.default.prototype._ondblclick=function(b){var i=this._isGlobal?window:this;"function"==typeof i.doubleClicked&&!1===i.doubleClicked(b)&&b.preventDefault()},d.default.prototype._mouseWheelDeltaY=0,d.default.prototype._pmouseWheelDeltaY=0,d.default.prototype._onwheel=function(b){var i=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",b.deltaY),"function"==typeof i.mouseWheel&&(b.delta=b.deltaY,!1===i.mouseWheel(b)&&b.preventDefault())},d.default.prototype.requestPointerLock=function(){var b=this._curElement.elt;return b.requestPointerLock=b.requestPointerLock||b.mozRequestPointerLock,b.requestPointerLock?(b.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},d.default.prototype.exitPointerLock=function(){document.exitPointerLock()},O.default=r=d.default},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],293:[function(r,G,O){"use strict";r("core-js/modules/es.array.includes"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.string.includes"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.touches=[],r.default.prototype._updateTouchCoords=function(f){if(null!==this._curElement){for(var m=[],d=0;d<f.touches.length;d++)m[d]=function(c,s,p,i){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,h=c.getBoundingClientRect();return s=c.scrollWidth/s||1,c=c.scrollHeight/p||1,{x:((p=i.touches[l]||i.changedTouches[l]).clientX-h.left)/s,y:(p.clientY-h.top)/c,winX:p.clientX,winY:p.clientY,id:p.identifier}}(this._curElement.elt,this.width,this.height,f,d);this._setProperty("touches",m)}},r.default.prototype._ontouchstart=function(f){var m=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(f),this._updateNextMouseCoords(f),this._updateMouseCoords(),"function"==typeof m.touchStarted?!1===m.touchStarted(f)&&f.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof m.mousePressed&&!1===m.mousePressed(f)&&f.preventDefault()},r.default.prototype._ontouchmove=function(f){var m=this._isGlobal?window:this;this._updateTouchCoords(f),this._updateNextMouseCoords(f),"function"==typeof m.touchMoved?!1===m.touchMoved(f)&&f.preventDefault():"function"==typeof m.mouseDragged&&!1===m.mouseDragged(f)&&f.preventDefault()},r.default.prototype._ontouchend=function(f){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(f),this._updateNextMouseCoords(f);var m=this._isGlobal?window:this;"function"==typeof m.touchEnded?!1===m.touchEnded(f)&&f.preventDefault():"function"==typeof m.mouseReleased&&!1===m.mouseReleased(f)&&f.preventDefault()},O.default=r=r.default},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.string.includes":189}],294:[function(r,G,O){"use strict";r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f,m,d,y,w={_toPixels:function(b){var i,l;return b instanceof ImageData?b.data:b.getContext("2d")?b.getContext("2d").getImageData(0,0,b.width,b.height).data:b.getContext("webgl")?(l=(i=b.getContext("webgl")).drawingBufferWidth*i.drawingBufferHeight*4,l=new Uint8Array(l),i.readPixels(0,0,b.width,b.height,i.RGBA,i.UNSIGNED_BYTE,l),l):void 0},_getARGB:function(b,i){return b[3+(i*=4)]<<24&4278190080|b[i]<<16&16711680|b[1+i]<<8&65280|255&b[2+i]},_setPixels:function(b,i){for(var l,h=0,s=b.length;h<s;h++)b[0+(l=4*h)]=(16711680&i[h])>>>16,b[1+l]=(65280&i[h])>>>8,b[2+l]=255&i[h],b[3+l]=(4278190080&i[h])>>>24},_toImageData:function(b){return b instanceof ImageData?b:b.getContext("2d").getImageData(0,0,b.width,b.height)},_createImageData:function(b,i){return w._tmpCanvas=document.createElement("canvas"),w._tmpCtx=w._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(b,i)},apply:function(b,c,l){var h=b.getContext("2d"),s=h.getImageData(0,0,b.width,b.height);(c=c(s,l))instanceof ImageData?h.putImageData(c,0,0,0,0,b.width,b.height):h.putImageData(s,0,0,0,0,b.width,b.height)},threshold:function(b,i){for(var l=w._toPixels(b),h=(void 0===i&&(i=.5),Math.floor(255*i)),s=0;s<l.length;s+=4)l[s]=l[s+1]=l[s+2]=h<=.2126*l[s]+.7152*l[s+1]+.0722*l[s+2]?255:0},gray:function(b){for(var i=w._toPixels(b),l=0;l<i.length;l+=4)i[l]=i[l+1]=i[l+2]=.2126*i[l]+.7152*i[l+1]+.0722*i[l+2]},opaque:function(b){for(var i=w._toPixels(b),l=0;l<i.length;l+=4)i[l+3]=255;return i},invert:function(b){for(var i=w._toPixels(b),l=0;l<i.length;l+=4)i[l]=255-i[l],i[l+1]=255-i[l+1],i[l+2]=255-i[l+2]},posterize:function(b,i){var l=w._toPixels(b);if(i<2||255<i)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var h=i-1,s=0;s<l.length;s+=4){var p=l[s+1],v=l[s+2];l[s]=255*(l[s]*i>>8)/h,l[s+1]=255*(p*i>>8)/h,l[s+2]=255*(v*i>>8)/h}},dilate:function(b){for(var i,l,h,s,c,p,v,a,g,E=w._toPixels(b),$=0,k=E.length?E.length/4:0,M=new Int32Array(k);$<k;)for(l=(i=$)+b.width;$<l;)s=h=w._getARGB(E,$),(g=$-1)<i&&(g=$),l<=(a=$+1)&&(a=$),(c=$-b.width)<0&&(c=0),k<=(p=$+b.width)&&(p=$),c=w._getARGB(E,c),g=w._getARGB(E,g),p=w._getARGB(E,p),(s=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))<(v=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(h=g,s=v),s<(v=77*((g=w._getARGB(E,a))>>16&255)+151*(g>>8&255)+28*(255&g))&&(h=g,s=v),s<(a=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(h=c,s=a),s<(g=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(h=p,s=g),M[$++]=h;w._setPixels(E,M)},erode:function(b){for(var i,l,h,s,c,p,v,a,g,E=w._toPixels(b),$=0,k=E.length?E.length/4:0,M=new Int32Array(k);$<k;)for(l=(i=$)+b.width;$<l;)s=h=w._getARGB(E,$),(g=$-1)<i&&(g=$),l<=(a=$+1)&&(a=$),(c=$-b.width)<0&&(c=0),k<=(p=$+b.width)&&(p=$),c=w._getARGB(E,c),g=w._getARGB(E,g),p=w._getARGB(E,p),(v=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(s=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))&&(h=g,s=v),(v=77*((g=w._getARGB(E,a))>>16&255)+151*(g>>8&255)+28*(255&g))<s&&(h=g,s=v),(a=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<s&&(h=c,s=a),(g=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<s&&(h=p,s=g),M[$++]=h;w._setPixels(E,M)},blur:function(b,i){for(var l,h,s,c,p,v,a,g,E,$,k=w._toPixels(b),M=b.width,A=b.height,L=M*A,U=new Int32Array(L),I=0;I<L;I++)U[I]=w._getARGB(k,I);var D,R,V,N,Q,T,K,se,fe=new Int32Array(L),Ie=new Int32Array(L),Z=new Int32Array(L),ie=new Int32Array(L),pe=0,we=3.5*i|0;if(f!==(we=we<1?1:we<248?we:248)){m=1+(f=we)<<1,d=new Int32Array(m),y=new Array(m);for(var Re=0;Re<m;Re++)y[Re]=new Int32Array(256);for(var $e=1,Fe=we-1;$e<we;$e++){d[we+$e]=d[Fe]=T=Fe*Fe,K=y[we+$e],se=y[Fe--];for(var Ge=0;Ge<256;Ge++)K[Ge]=se[Ge]=T*Ge}Q=d[we]=we*we,K=y[we];for(var je=0;je<256;je++)K[je]=Q*je}for(R=0;R<A;R++){for(D=0;D<M;D++){if(c=s=h=p=l=0,(v=D-f)<0)$=-v,v=0;else{if(M<=v)break;$=0}for(V=$;V<m&&!(M<=v);V++){var We=U[v+pe];p+=(N=y[V])[(-16777216&We)>>>24],h+=N[(16711680&We)>>16],s+=N[(65280&We)>>8],c+=N[255&We],l+=d[V],v++}fe[a=pe+D]=p/l,Ie[a]=h/l,Z[a]=s/l,ie[a]=c/l}pe+=M}for(E=(g=-f)*M,R=pe=0;R<A;R++){for(D=0;D<M;D++){if(c=s=h=p=l=0,g<0)$=a=-g,v=D;else{if(A<=g)break;$=0,a=g,v=D+E}for(V=$;V<m&&!(A<=a);V++)p+=(N=y[V])[fe[v]],h+=N[Ie[v]],s+=N[Z[v]],c+=N[ie[v]],l+=d[V],a++,v+=M;U[D+pe]=p/l<<24|h/l<<16|s/l<<8|c/l}pe+=M,E+=M,g++}w._setPixels(k,U)}};O.default=w},{"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int32-array":215,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232}],295:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=d(r("../core/main")),m=d(r("omggif"));function d(w){return w&&w.__esModule?w:{default:w}}function y(w){return function(b){if(Array.isArray(b)){for(var i=0,l=new Array(b.length);i<b.length;i++)l[i]=b[i];return l}}(w)||function(b){if(Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b))return Array.from(b)}(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.createImage=function(w,b){return f.default._validateParameters("createImage",arguments),new f.default.Image(w,b)},f.default.prototype.saveCanvas=function(){f.default._validateParameters("saveCanvas",arguments);var w,b,i,l,h=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(w=arguments[0],h.shift()):arguments[0]instanceof f.default.Element?(w=arguments[0].elt,h.shift()):w=this._curElement&&this._curElement.elt,1<=h.length&&(b=h[0]),i=(i=2<=h.length?h[1]:i)||f.default.prototype._checkFileExtension(b,i)[1]||"png"){default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}w.toBlob(function(s){f.default.prototype.downloadFile(s,b,i)},l)},f.default.prototype.encodeAndDownloadGif=function(w,b){for(var i=w.gifProperties,h=(1===(l=i.loopLimit)?l=null:null===l&&(l=0),new Uint8Array(w.width*w.height*i.numFrames)),s=[],c={},p=0;p<i.numFrames;p++){for(var v=new Set,a=i.frames[p].image.data,g=a.length,E=new Uint32Array(w.width*w.height),$=0,k=0;$<g;$+=4,k++){var M=a[$+0]<<16|a[$+1]<<8|a[$+2]<<0;v.add(M),E[k]=M}var A=y(v).sort().toString();void 0===c[A]?c[A]={freq:1,frames:[p]}:(c[A].freq+=1,c[A].frames.push(p)),s.push(E)}for(var I=[],L=Object.keys(c).sort(function(Z,ie){return c[ie].freq-c[Z].freq}),U=L[0].split(",").map(function(Z){return parseInt(Z)}),D=(I=I.concat(c[U].frames),new Set(U)),R=1;R<L.length;R++){var V=L[R].split(",").map(function(Z){return parseInt(Z)}).filter(function(Z){return!D.has(Z)});if(U.length+V.length<=256){for(var N=0;N<V.length;N++)U.push(V[N]),D.add(V[N]);I=I.concat(c[L[R]].frames)}}I=new Set(I);for(var Q={},T=0;T<U.length;T++)Q[U[T]]||(Q[U[T]]=T);for(var K=1;K<U.length;)K<<=1;U.length=K;for(var l={loop:l,palette:new Uint32Array(U)},se=new m.default.GifWriter(h,w.width,w.height,l),fe={},Ie=0;Ie<i.numFrames;Ie++)!function(ie){var pe=!I.has(ie),we=pe?[]:U,Re=new Uint8Array(w.width*w.height),$e={},Fe=new Set,Ge=(s[ie].forEach(function(Ke,at){pe?(void 0===$e[Ke]&&($e[Ke]=we.length,we.push(Ke)),Re[at]=$e[Ke]):Re[at]=Q[Ke],0<ie&&s[ie-1][at]!==Ke&&Fe.add(Ke)}),{});if(0<(je=we.filter(function(Ke){return!Fe.has(Ke)})).length){var je,We=(pe?$e:Q)[je=je[0]];if(0<ie){for(var Ye=0;Ye<s[ie].length;Ye++)s[ie-1][Ye]===s[ie][Ye]&&(Re[Ye]=We);Ge.transparent=We,fe.frameOpts.disposal=1}}if(Ge.delay=i.frames[ie].delay/10,pe){for(var Ne=1;Ne<we.length;)Ne<<=1;we.length=Ne,Ge.palette=new Uint32Array(we)}0<ie&&se.addFrame(0,0,w.width,w.height,fe.pixelPaletteIndex,fe.frameOpts),fe={pixelPaletteIndex:Re,frameOpts:Ge}}(Ie);fe.frameOpts.disposal=1,se.addFrame(0,0,w.width,w.height,fe.pixelPaletteIndex,fe.frameOpts),l=new Blob([h.slice(0,se.end())],{type:"image/gif"}),f.default.prototype.downloadFile(l,b,"gif")},f.default.prototype.saveFrames=function(w,b,i,s,h){f.default._validateParameters("saveFrames",arguments),i=f.default.prototype.constrain(i=i||3,0,15),i*=1e3,s=f.default.prototype.constrain(s||15,0,22);var c=0,p=f.default.prototype._makeFrame,v=this._curElement.elt,a=[],g=setInterval(function(){a.push(p(w+c,b,v)),c++},1e3/s);setTimeout(function(){if(clearInterval(g),h)h(a);else{var E=!0,$=!1,k=void 0;try{for(var M,A=a[Symbol.iterator]();!(E=(M=A.next()).done);E=!0){var L=M.value;f.default.prototype.downloadFile(L.imageData,L.filename,L.ext)}}catch(U){$=!0,k=U}finally{try{E||null==A.return||A.return()}finally{if($)throw k}}}a=[]},.01+i)},f.default.prototype._makeFrame=function(w,b,h){var l;if(h=this?this._curElement.elt:h,b)switch(b.toLowerCase()){case"png":default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}else b="png",l="image/png";h=(h=h.toDataURL(l)).replace(l,"image/octet-stream");var s={};return s.imageData=h,s.filename=w,s.ext=b,s},O.default=r=f.default},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,omggif:246}],296:[function(r,G,O){"use strict";function f(v){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(v)}function m(v){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(v)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,r("regenerator-runtime/runtime");var d=h(r("../core/main")),y=h(r("../core/helpers")),w=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==m(v)&&"function"!=typeof v)return{default:v};var a=l();if(a&&a.has(v))return a.get(v);var g,E={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in v){var k;Object.prototype.hasOwnProperty.call(v,g)&&((k=$?Object.getOwnPropertyDescriptor(v,g):null)&&(k.get||k.set)?Object.defineProperty(E,g,k):E[g]=v[g])}return E.default=v,a&&a.set(v,E),E}(r("../core/constants")),b=h(r("omggif")),i=r("gifenc");function l(){var v;return"function"!=typeof WeakMap?null:(l=function(){return v},v=new WeakMap)}function h(v){return v&&v.__esModule?v:{default:v}}function s(v,a,g,E,$,k,M){try{var A=v[k](M),L=A.value}catch(U){return void g(U)}A.done?a(L):Promise.resolve(L).then(E,$)}function p(v,a){return 0<v&&v<a?v:a}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),d.default.prototype.loadImage=function(v,a,g){d.default._validateParameters("loadImage",arguments);var E=new d.default.Image(1,1,this),$=this,k=new Request(v,{method:"GET",mode:"cors"});return fetch(v,k).then(function(M){var A,L=M.headers.get("content-type");null===L&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),L&&L.includes("image/gif")?M.arrayBuffer().then(function(U){if(U){U=new Uint8Array(U);for(var I=E,D=a,R=g,V=function(pe){$._decrementPreload()}.bind($),N=new b.default.GifReader(U),Q=(I.width=I.canvas.width=N.width,I.height=I.canvas.height=N.height,[]),T=N.numFrames(),K=new Uint8ClampedArray(I.width*I.height*4),se=0;se<T;se++){var fe=N.frameInfo(se),Ie=I.drawingContext.getImageData(0,0,I.width,I.height),Z=(K=Ie.data.slice(),function(pe,we){try{we.decodeAndBlitFrameRGBA(pe,K)}catch(Re){d.default._friendlyFileLoadError(8,I.src),"function"==typeof R?R(Re):console.error(Re)}}(se,N),new ImageData(K,I.width,I.height));0===(I.drawingContext.putImageData(Z,0,0),Z=fe.delay)&&(Z=10),Q.push({image:I.drawingContext.getImageData(0,0,I.width,I.height),delay:10*Z}),2===fe.disposal?I.drawingContext.clearRect(fe.x,fe.y,fe.width,fe.height):3===fe.disposal&&I.drawingContext.putImageData(Ie,0,0,fe.x,fe.y,fe.width,fe.height)}null===(U=N.loopCount())?U=1:0===U&&(U=null),I.drawingContext.putImageData(Q[0].image,0,0),1<Q.length&&(I.gifProperties={displayIndex:0,loopLimit:U,loopCount:0,frames:Q,numFrames:T,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof D&&D(I),V()}},function(U){"function"==typeof g?(g(U),$._decrementPreload()):console.error(U)}):((A=new Image).onload=function(){E.width=E.canvas.width=A.width,E.height=E.canvas.height=A.height,E.drawingContext.drawImage(A,0,0),E.modified=!0,"function"==typeof a&&a(E),$._decrementPreload()},A.onerror=function(U){d.default._friendlyFileLoadError(0,A.src),"function"==typeof g?(g(U),$._decrementPreload()):console.error(U)},0!==v.indexOf("data:image/")&&(A.crossOrigin="Anonymous"),A.src=v),E.modified=!0}).catch(function(M){d.default._friendlyFileLoadError(0,v),"function"==typeof g?(g(M),$._decrementPreload()):console.error(M)}),E},d.default.prototype.saveGif=function(){v=H.mark(function g(E,$){var k,M,A,L,U,I,D,R,V,N,Q,T,K,se,fe,Ie,Z,ie,pe,we,Re,$e,Fe,Ge,je,We,Ye=arguments;return H.wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(k=2<Ye.length&&void 0!==Ye[2]?Ye[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof E)throw TypeError("fileName parameter must be a string");Ne.next=3;break;case 3:if("number"!=typeof $)throw TypeError("Duration parameter must be a number");Ne.next=5;break;case 5:if(A=k&&k.units||"seconds",L=k&&k.silent||!1,U=k&&k.notificationDuration||0,I=k&&k.notificationID||"progressBar","number"!=typeof(M=k&&k.delay||0))throw TypeError("Delay parameter must be a number");Ne.next=12;break;case 12:if("seconds"!==A&&"frames"!==A)throw TypeError('Units parameter must be either "frames" or "seconds"');Ne.next=14;break;case 14:if("boolean"!=typeof L)throw TypeError("Silent parameter must be a boolean");Ne.next=16;break;case 16:if("number"!=typeof U)throw TypeError("Notification duration parameter must be a number");Ne.next=18;break;case 18:if("string"!=typeof I)throw TypeError("Notification ID parameter must be a string");Ne.next=20;break;case 20:return this._recording=!0,D=(D=1/(N=(N=this._targetFrameRate)!==1/0&&void 0!==N&&0!==N?N:60)*1e3)<20?20:D,V=(R="seconds"===A?$*N:$)+(N="seconds"===A?M*N:M),this.frameCount=N,Q=this._pixelDensity,this.pixelDensity(1),T=[],null!==document.getElementById(I)&&document.getElementById(I).remove(),L||((K=this.createP("")).id(I),K.style("font-size","16px"),K.style("font-family","Montserrat"),K.style("background-color","#ffffffa0"),K.style("padding","8px"),K.style("border-radius","10px"),K.position(0,0)),this._renderer instanceof d.default.RendererGL&&(fe=this.drawingContext,se=new Uint8Array(fe.drawingBufferWidth*fe.drawingBufferHeight*4)),this.noLoop(),Ne.next=39,Promise.resolve();case 39:if(N<V)return this.redraw(),Ge=void 0,Ge=this._renderer instanceof d.default.RendererGL?(se=new Uint8Array(fe.drawingBufferWidth*fe.drawingBufferHeight*4),fe.readPixels(0,0,fe.drawingBufferWidth,fe.drawingBufferHeight,fe.RGBA,fe.UNSIGNED_BYTE,se),function(Ke){for(var at=parseInt(height/2),yt=4*width,lt=new Uint8Array(4*width),nt=0;nt<at;++nt){var St=nt*yt,Wt=(height-nt-1)*yt;lt.set(Ke.subarray(St,St+yt)),Ke.copyWithin(St,Wt,Wt+yt),Ke.set(lt,Wt)}return Ke}(se)):this.drawingContext.getImageData(0,0,this.width,this.height).data,T.push(Ge),N++,L||K.html("Saved frame <b>"+T.length.toString()+"</b> out of "+R.toString()),Ne.next=48,new Promise(function(Ke){return setTimeout(Ke,0)});Ne.next=50;break;case 48:Ne.next=39;break;case 50:L||K.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(Q),Ie=(0,i.GIFEncoder)(),Z=function(Ke){for(var at=new Uint8Array(Ke.length*Ke[0].length),yt=0;yt<Ke.length;yt++)at.set(Ke[yt],yt*Ke[0].length);var lt=(0,i.quantize)(at,256,{format:"rgba4444",oneBitAlpha:!0});return 256===lt.length?lt[lt.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:lt.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),lt}(T),ie={},pe=function(Ke){for(var at=Ke.length/4,yt=new Uint8Array(at),lt=0;lt<at;lt++){var nt=Ke[4*lt]<<24|Ke[4*lt+1]<<16|Ke[4*lt+2]<<8|Ke[4*lt+3];void 0===ie[nt]&&(ie[nt]=(0,i.nearestColorIndex)(Z,Ke.slice(4*lt,4*(lt+1)))),yt[lt]=ie[nt]}return yt},we=Z.length-1,Re=[],$e=0;case 60:if(!($e<T.length)){Ne.next=71;break}if(Fe=pe(T[$e]),Ge=Fe.slice(),0===$e)Ie.writeFrame(Fe,this.width,this.height,{palette:Z,delay:D,dispose:1});else{for(je=0;je<Fe.length;je++)Fe[je]===Re[je]&&(Fe[je]=we);Ie.writeFrame(Fe,this.width,this.height,{delay:D,transparent:!0,transparentIndex:we,dispose:1})}return Re=Ge,L||K.html("Rendered frame <b>"+$e.toString()+"</b> out of "+R.toString()),Ne.next=68,new Promise(function(Ke){return setTimeout(Ke,0)});case 68:$e++,Ne.next=60;break;case 71:Ie.finish(),We=Ie.bytesView(),We=new Blob([We],{type:"image/gif"}),T=[],this._recording=!1,this.loop(),L||(K.html("Done. Downloading your gif!\u{1f338}"),0<U&&setTimeout(function(){return K.remove()},1e3*U)),d.default.prototype.downloadFile(We,E,"gif");case 80:case"end":return Ne.stop()}},g,this)});var v,a=function(){var g=this,E=arguments;return new Promise(function($,k){var M=v.apply(g,E);function A(U){s(M,$,k,A,L,"next",U)}function L(U){s(M,$,k,A,L,"throw",U)}A(void 0)})};return function(g,E){return a.apply(this,arguments)}}(),d.default.prototype.image=function(v,a,g,E,N,Q,T,K,fe,U,I,D){d.default._validateParameters("image",arguments);var se=v.width,R=v.height,V=(D=D||w.CENTER,I=I||w.CENTER,v.elt&&v.elt.videoWidth&&!v.canvas&&(se=v.elt.videoWidth,R=v.elt.videoHeight),E||se);N=N||R,Q=Q||0,T=T||0,K=p(K||se,se),se=p(fe||R,R),fe=1,v.elt&&!v.canvas&&v.elt.style.width&&(fe=v.elt.videoWidth&&!E?v.elt.videoWidth:v.elt.width,fe/=parseInt(v.elt.style.width,10)),Q*=fe,T*=fe,se*=fe,K*=fe,R=function c(v,a,g,E,$,k,M,A,L,U,I){var D,R,V,N,Q,T,K,se,fe;return v===w.COVER&&(D=a,V=g,K=k,se=M,T=A,fe=L,R=U,N=I,K/=Q=Math.max(K/R,se/N),se/=Q,Q=T,T=fe,D===w.CENTER?Q+=(R-K)/2:D===w.RIGHT&&(Q+=R-K),V===w.CENTER?T+=(N-se)/2:V===w.BOTTOM&&(T+=N-se),A=(fe={x:Q,y:T,w:K,h:se}).x,L=fe.y,U=fe.w,I=fe.h),v===w.CONTAIN&&(D=a,R=g,V=E,N=$,Q=k,T=M,K=U,se=I,K/=fe=Math.max(K/Q,se/T),se/=fe,fe=V,V=N,D===w.CENTER?fe+=(Q-K)/2:D===w.RIGHT&&(fe+=Q-K),R===w.CENTER?V+=(T-se)/2:R===w.BOTTOM&&(V+=T-se),E=(v={x:fe,y:V,w:K,h:se}).x,$=v.y,k=v.w,M=v.h),{sx:A,sy:L,sw:U,sh:I,dx:E,dy:$,dw:k,dh:M}}(U,I,D,(R=y.default.modeAdjust(a,g,V,N,this._renderer._imageMode)).x,R.y,R.w,R.h,Q,T,K,se),this._renderer.image(v,R.sx,R.sy,R.sw,R.sh,R.dx,R.dy,R.dw,R.dh)},d.default.prototype.tint=function(){for(var v=arguments.length,a=new Array(v),g=0;g<v;g++)a[g]=arguments[g];d.default._validateParameters("tint",a);var E=this.color.apply(this,a);this._renderer._tint=E.levels},d.default.prototype.noTint=function(){this._renderer._tint=null},d.default.prototype._getTintedImageCanvas=d.default.Renderer2D.prototype._getTintedImageCanvas,d.default.prototype.imageMode=function(v){d.default._validateParameters("imageMode",arguments),v!==w.CORNER&&v!==w.CORNERS&&v!==w.CENTER||(this._renderer._imageMode=v)},O.default=r=d.default},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/helpers":269,"../core/main":273,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,gifenc:243,omggif:246,"regenerator-runtime/runtime":250}],297:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=d(r("../core/main")),m=d(r("./filters"));function d(w){return w&&w.__esModule?w:{default:w}}function y(w,b){for(var i=0;i<b.length;i++){var l=b[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(w,l.key,l)}}f.default.Image=function(){function w(h,s){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.width=h,this.height=s,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var b,i;return b=w,(i=[{key:"_animateGif",value:function(p){var s,c=this.gifProperties;p=p._lastRealFrameTime,0===c.lastChangeTime&&(c.lastChangeTime=p),c.playing&&(c.timeDisplayed=p-c.lastChangeTime,c.timeDisplayed>=(s=c.frames[c.displayIndex].delay)&&(s=Math.floor(c.timeDisplayed/s),c.timeDisplayed=0,c.lastChangeTime=p,c.displayIndex+=s,c.loopCount=Math.floor(c.displayIndex/c.numFrames),null!==c.loopLimit&&c.loopCount>=c.loopLimit?c.playing=!1:(this.drawingContext.putImageData(c.frames[p=c.displayIndex%c.numFrames].image,0,0),c.displayIndex=p,this.setModified(!0))))}},{key:"_setProperty",value:function(h,s){this[h]=s,this.setModified(!0)}},{key:"loadPixels",value:function(){f.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(h,s,c,p){f.default.Renderer2D.prototype.updatePixels.call(this,h,s,c,p),this.setModified(!0)}},{key:"get",value:function(h,s,c,p){return f.default._validateParameters("p5.Image.get",arguments),f.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var h=arguments.length,s=new Array(h),c=0;c<h;c++)s[c]=arguments[c];return f.default.Renderer2D.prototype._getPixel.apply(this,s)}},{key:"set",value:function(h,s,c){f.default.Renderer2D.prototype.set.call(this,h,s,c),this.setModified(!0)}},{key:"resize",value:function(h,s){0===h&&0===s?(h=this.canvas.width,s=this.canvas.height):0===h?h=this.canvas.width*s/this.canvas.height:0===s&&(s=this.canvas.height*h/this.canvas.width),h=Math.floor(h),s=Math.floor(s);var c=document.createElement("canvas");if(c.width=h,c.height=s,this.gifProperties)for(var p=this.gifProperties,v=0;v<p.numFrames;v++){for(var a=this.drawingContext.createImageData(h,s),g=(A=A=M=k=$=void 0,p.frames[v].image),E=a,$=0,k=0;k<E.height;k++)for(var M=0;M<E.width;M++){var A=Math.floor(M*g.width/E.width);A=4*(Math.floor(k*g.height/E.height)*g.width+A),E.data[$++]=g.data[A++],E.data[$++]=g.data[A++],E.data[$++]=g.data[A++],E.data[$++]=g.data[+A]}p.frames[v].image=a}c.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,c.width,c.height),this.canvas.width=this.width=h,this.canvas.height=this.height=s,this.drawingContext.drawImage(c,0,0,h,s,0,0,h,s),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var h=arguments.length,s=new Array(h),c=0;c<h;c++)s[c]=arguments[c];f.default.prototype.copy.apply(this,s)}},{key:"mask",value:function(h){var s=this.drawingContext.globalCompositeOperation,c=1,p=[h=void 0===h?this:h,0,0,(c=h instanceof f.default.Renderer?h._pInst._pixelDensity:c)*h.width,c*h.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var v=0;v<this.gifProperties.frames.length;v++)this.drawingContext.putImageData(this.gifProperties.frames[v].image,0,0),this.copy.apply(this,p),this.gifProperties.frames[v].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,p);this.drawingContext.globalCompositeOperation=s,this.setModified(!0)}},{key:"filter",value:function(h,s){m.default.apply(this.canvas,m.default[h],s),this.setModified(!0)}},{key:"blend",value:function(){for(var h=arguments.length,s=new Array(h),c=0;c<h;c++)s[c]=arguments[c];f.default._validateParameters("p5.Image.blend",arguments),f.default.prototype.blend.apply(this,s),this.setModified(!0)}},{key:"setModified",value:function(h){this._modified=h}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(h,s){this.gifProperties?f.default.prototype.encodeAndDownloadGif(this,h):f.default.prototype.saveCanvas(this.canvas,h,s)}},{key:"reset",value:function(){var h;this.gifProperties&&((h=this.gifProperties).playing=!0,h.timeSinceStart=0,h.timeDisplayed=0,h.lastChangeTime=0,h.loopCount=0,h.displayIndex=0,this.drawingContext.putImageData(h.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var h;if(this.gifProperties)return(h=this.gifProperties).displayIndex%h.numFrames}},{key:"setFrame",value:function(h){var s;this.gifProperties&&(h<(s=this.gifProperties).numFrames&&0<=h?(s.timeDisplayed=0,s.lastChangeTime=0,s.displayIndex=h,this.drawingContext.putImageData(s.frames[h].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(h,s){if(this.gifProperties){var c=this.gifProperties;if(s<c.numFrames&&0<=s)c.frames[s].delay=h;else{var p=!0,v=void(s=!1);try{for(var a,g=c.frames[Symbol.iterator]();!(p=(a=g.next()).done);p=!0)a.value.delay=h}catch($){s=!0,v=$}finally{try{p||null==g.return||g.return()}finally{if(s)throw v}}}}}}])&&y(b.prototype,i),w}(),O.default=r=f.default.Image},{"../core/main":273,"./filters":294,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],298:[function(r,G,O){"use strict";r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.filter"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=d(r("../core/main")),m=d(r("./filters"));function d(y){return y&&y.__esModule?y:{default:y}}r("../color/p5.Color"),f.default.prototype.pixels=[],f.default.prototype.blend=function(){for(var y,w=arguments.length,b=new Array(w),i=0;i<w;i++)b[i]=arguments[i];f.default._validateParameters("blend",b),this._renderer?(y=this._renderer).blend.apply(y,b):f.default.Renderer2D.prototype.blend.apply(this,b)},f.default.prototype.copy=function(){for(var y,w,b,i,l,h,s,c,p,v=arguments.length,a=new Array(v),g=0;g<v;g++)a[g]=arguments[g];if(f.default._validateParameters("copy",a),9===a.length)y=a[0],w=a[1],b=a[2],i=a[3],l=a[4],h=a[5],s=a[6],c=a[7],p=a[8];else{if(8!==a.length)throw new Error("Signature not supported");y=this,w=a[0],b=a[1],i=a[2],l=a[3],h=a[4],s=a[5],c=a[6],p=a[7]}f.default.prototype._copyHelper(this,y,w,b,i,l,h,s,c,p)},f.default.prototype._copyHelper=function(y,w,b,i,l,h,s,c,p,v){w.loadPixels();var a=w.canvas.width/w.width,g=0,E=0;w._renderer&&w._renderer.isP3D&&(g=w.width/2,E=w.height/2),y._renderer&&y._renderer.isP3D?f.default.RendererGL.prototype.image.call(y._renderer,w,b+g,i+E,l,h,s,c,p,v):y.drawingContext.drawImage(w.canvas,a*(b+g),a*(i+E),a*l,a*h,s,c,p,v)},f.default.prototype.filter=function(y,w){f.default._validateParameters("filter",arguments),m.default.apply(void 0!==this.canvas?this.canvas:this.elt,m.default[y],w)},f.default.prototype.get=function(y,w,b,i){var l;return f.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},f.default.prototype.loadPixels=function(){for(var y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];f.default._validateParameters("loadPixels",w),this._renderer.loadPixels()},f.default.prototype.set=function(y,w,b){this._renderer.set(y,w,b)},f.default.prototype.updatePixels=function(y,w,b,i){f.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(y,w,b,i)},O.default=r=f.default},{"../color/p5.Color":260,"../core/main":273,"./filters":294,"core-js/modules/es.array.filter":155}],299:[function(r,G,O){"use strict";function f(h){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(h)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=w(r("../core/main")),d=(r("whatwg-fetch"),r("es6-promise/auto"),w(r("fetch-jsonp"))),y=w(r("file-saver"));function w(h){return h&&h.__esModule?h:{default:h}}function b(h){return(b="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(s){return f(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(h)}function i(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(h,s){s&&!0!==s&&"true"!==s||(s="");var c="";return(h=h||"untitled")&&h.includes(".")&&(c=h.split(".").pop()),s&&c!==s&&(c=s,h="".concat(h,".").concat(c)),[h,c]}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),m.default.prototype.loadJSON=function(){for(var h=arguments.length,s=new Array(h),c=0;c<h;c++)s[c]=arguments[c];m.default._validateParameters("loadJSON",s);for(var p,v,a,g=s[0],E={},$="json",k=1;k<s.length;k++){var M=s[k];"string"==typeof M?"jsonp"!==M&&"json"!==M||($=M):"function"==typeof M?p?v=M:p=M:"object"===b(M)&&(M.hasOwnProperty("jsonpCallback")||M.hasOwnProperty("jsonpCallbackFunction"))&&($="jsonp",a=M)}var A=this;return this.httpDo(g,"GET",a,$,function(L){for(var U in L)E[U]=L[U];void 0!==p&&p(L),A._decrementPreload()},function(L){if(m.default._friendlyFileLoadError(5,g),!v)throw L;v(L)}),E},m.default.prototype.loadStrings=function(){for(var h=arguments.length,s=new Array(h),c=0;c<h;c++)s[c]=arguments[c];m.default._validateParameters("loadStrings",s);for(var p,v,a=[],g=1;g<s.length;g++){var E=s[g];"function"==typeof E&&(void 0===p?p=E:void 0===v&&(v=E))}var $=this;return m.default.prototype.httpDo.call(this,s[0],"GET","text",function(k){for(var M=k.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),A=0,L=M.length;A<L;A+=32768)Array.prototype.push.apply(a,M.slice(A,Math.min(A+32768,L)));void 0!==p&&p(a),$._decrementPreload()},function(k){if(m.default._friendlyFileLoadError(3,k),!v)throw k;v(k)}),a},m.default.prototype.loadTable=function(h){var s,c,p,v=[],a=!1,g=h.substring(h.lastIndexOf(".")+1,h.length);"csv"===g?p=",":"ssv"===g?p=";":"tsv"===g&&(p="\t");for(var E=1;E<arguments.length;E++)"function"==typeof arguments[E]?void 0===s?s=arguments[E]:void 0===c&&(c=arguments[E]):"string"==typeof arguments[E]&&(v.push(arguments[E]),"header"===arguments[E]&&(a=!0),"csv"===arguments[E]?p=",":"ssv"===arguments[E]?p=";":"tsv"===arguments[E]&&(p="\t"));var $=new m.default.Table,k=this;return this.httpDo(h,"GET","table",function(M){for(var A,L,U={},D=[],R=0,V=null,N=function(){U.currentState=0,U.token=""},Q=function(){V.push(U.token),N()},T=function(){U.currentState=4,D.push(V),V=null};;){if(null==(A=M[R++])){if(U.escaped)throw new Error("Unclosed quote in file.");if(V){Q(),T();break}}if(null===V&&(U.escaped=!1,V=[],N()),0===U.currentState){if('"'===A){U.escaped=!0,U.currentState=1;continue}U.currentState=1}if(1===U.currentState&&U.escaped)if('"'===A)'"'===M[R]?(U.token+='"',R++):(U.escaped=!1,U.currentState=2);else{if("\r"===A)continue;U.token+=A}else"\r"===A?("\n"===M[R]&&R++,Q(),T()):"\n"===A?(Q(),T()):A===p?Q():1===U.currentState&&(U.token+=A)}if(a)$.columns=D.shift();else for(var K=0;K<D[0].length;K++)$.columns[K]="null";for(var se=0;se<D.length;se++)(1!==D[se].length||"undefined"!==D[se][0]&&""!==D[se][0])&&((L=new m.default.TableRow).arr=D[se],L.obj=function(fe,Ie){if(void 0===(Ie=Ie||[]))for(var Z=0;Z<fe.length;Z++)Ie[Z.toString()]=Z;return Object.fromEntries(Ie.map(function(ie,pe){return[ie,fe[pe]]}))}(D[se],$.columns),$.addRow(L));"function"==typeof s&&s($),k._decrementPreload()},function(M){m.default._friendlyFileLoadError(2,h),c?c(M):console.error(M)}),$},m.default.prototype.loadXML=function(){for(var h=arguments.length,s=new Array(h),c=0;c<h;c++)s[c]=arguments[c];for(var p,v,a=new m.default.XML,g=1;g<s.length;g++){var E=s[g];"function"==typeof E&&(void 0===p?p=E:void 0===v&&(v=E))}var $=this;return this.httpDo(s[0],"GET","xml",function(k){for(var M in k)a[M]=k[M];void 0!==p&&p(a),$._decrementPreload()},function(k){if(m.default._friendlyFileLoadError(1,k),!v)throw k;v(k)}),a},m.default.prototype.loadBytes=function(h,s,c){var p={},v=this;return this.httpDo(h,"GET","arrayBuffer",function(a){p.bytes=new Uint8Array(a),"function"==typeof s&&s(p),v._decrementPreload()},function(a){if(m.default._friendlyFileLoadError(6,h),!c)throw a;c(a)}),p},m.default.prototype.httpGet=function(){m.default._validateParameters("httpGet",arguments);var h=Array.prototype.slice.call(arguments);return h.splice(1,0,"GET"),m.default.prototype.httpDo.apply(this,h)},m.default.prototype.httpPost=function(){m.default._validateParameters("httpPost",arguments);var h=Array.prototype.slice.call(arguments);return h.splice(1,0,"POST"),m.default.prototype.httpDo.apply(this,h)},m.default.prototype.httpDo=function(){for(var h,s,c,p={},v=0,a="text/plain",g=arguments.length-1;0<g&&"function"==typeof(g<0||arguments.length<=g?void 0:arguments[g]);g--)v++;var $=arguments.length<=0?void 0:arguments[0];if(2==(E=arguments.length-v)&&"string"==typeof $&&"object"===b(arguments.length<=1?void 0:arguments[1]))I=new Request($,arguments.length<=1?void 0:arguments[1]),s=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3];else{for(var k,M="GET",A=1;A<arguments.length;A++){var L=A<0||arguments.length<=A?void 0:arguments[A];if("string"==typeof L)"GET"===L||"POST"===L||"PUT"===L||"DELETE"===L?M=L:"json"===L||"jsonp"===L||"binary"===L||"arrayBuffer"===L||"xml"===L||"text"===L||"table"===L?h=L:k=L;else if("number"==typeof L)k=L.toString();else if("object"===b(L))if(L.hasOwnProperty("jsonpCallback")||L.hasOwnProperty("jsonpCallbackFunction"))for(var U in L)p[U]=L[U];else a=L instanceof m.default.XML?(k=L.serialize(),"application/xml"):(k=JSON.stringify(L),"application/json");else"function"==typeof L&&(s?c=L:s=L)}var E="GET"===M?new Headers:new Headers({"Content-Type":a}),I=new Request($,{method:M,mode:"cors",body:k,headers:E})}return(E=(E="jsonp"===(h=h||($.includes("json")?"json":$.includes("xml")?"xml":"text"))?(0,d.default)($,p):fetch(I)).then(function(D){if(!D.ok)throw(R=new Error(D.body)).status=D.status,R.ok=!1,R;var R=0;switch((R="jsonp"!==h?D.headers.get("content-length"):R)&&64e6<R&&m.default._friendlyFileLoadError(7,$),h){case"json":case"jsonp":return D.json();case"binary":return D.blob();case"arrayBuffer":return D.arrayBuffer();case"xml":return D.text().then(function(V){return V=(new DOMParser).parseFromString(V,"text/xml"),new m.default.XML(V.documentElement)});default:return D.text()}})).then(s||function(){}),E.catch(c||console.error),E},window.URL=window.URL||window.webkitURL,m.default.prototype._pWriters=[],m.default.prototype.createWriter=function(h,s){var c,p;for(p in m.default.prototype._pWriters)if(m.default.prototype._pWriters[p].name===h)return c=new m.default.PrintWriter(h+this.millis(),s),m.default.prototype._pWriters.push(c),c;return c=new m.default.PrintWriter(h,s),m.default.prototype._pWriters.push(c),c},m.default.PrintWriter=function(h,s){var c=this;this.name=h,this.content="",this.write=function(p){this.content+=p},this.print=function(p){this.content+="".concat(p,"\n")},this.clear=function(){this.content=""},this.close=function(){var p,v=[];for(p in v.push(this.content),m.default.prototype.writeFile(v,h,s),m.default.prototype._pWriters)m.default.prototype._pWriters[p].name===this.name&&m.default.prototype._pWriters.splice(p,1);c.clear(),c={}}},m.default.prototype.save=function(h,s,c){var p=arguments,v=(this._curElement||this).elt;if(0===p.length)m.default.prototype.saveCanvas(v);else if(p[0]instanceof m.default.Renderer||p[0]instanceof m.default.Graphics)m.default.prototype.saveCanvas(p[0].elt,p[1],p[2]);else if(1===p.length&&"string"==typeof p[0])m.default.prototype.saveCanvas(v,p[0]);else switch(l(p[1],p[2])[1]){case"json":return void m.default.prototype.saveJSON(p[0],p[1],p[2]);case"txt":return void m.default.prototype.saveStrings(p[0],p[1],p[2]);default:p[0]instanceof Array?m.default.prototype.saveStrings(p[0],p[1],p[2]):p[0]instanceof m.default.Table?m.default.prototype.saveTable(p[0],p[1],p[2]):p[0]instanceof m.default.Image?m.default.prototype.saveCanvas(p[0].canvas,p[1]):p[0]instanceof m.default.SoundFile&&m.default.prototype.saveSound(p[0],p[1],p[2],p[3])}},m.default.prototype.saveJSON=function(h,s,c){m.default._validateParameters("saveJSON",arguments),c=c?JSON.stringify(h):JSON.stringify(h,void 0,2),this.saveStrings(c.split("\n"),s,"json")},m.default.prototype.saveJSONObject=m.default.prototype.saveJSON,m.default.prototype.saveJSONArray=m.default.prototype.saveJSON,m.default.prototype.saveStrings=function(h,s,c,p){m.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(s,c||"txt"),a=0;a<h.length;a++)v.write(p?h[a]+"\r\n":h[a]+"\n");v.close(),v.clear()},m.default.prototype.saveTable=function(h,s,c){m.default._validateParameters("saveTable",arguments),p=void 0===c?s.substring(s.lastIndexOf(".")+1,s.length):c;var p,v=this.createWriter(s,p),a=h.columns,g="tsv"===p?"\t":",";if("html"!==p){if("0"!==a[0]){for(var E=0;E<a.length;E++)v.write(E<a.length-1?a[E]+g:a[E]);v.write("\n")}for(var $=0;$<h.rows.length;$++){var k=void 0;for(k=0;k<h.rows[$].arr.length;k++)k<h.rows[$].arr.length-1?"csv"===p&&String(h.rows[$].arr[k]).includes(",")?v.write('"'+h.rows[$].arr[k]+'"'+g):v.write(h.rows[$].arr[k]+g):"csv"===p&&String(h.rows[$].arr[k]).includes(",")?v.write('"'+h.rows[$].arr[k]+'"'):v.write(h.rows[$].arr[k]);v.write("\n")}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),"0"!==a[0]){v.print("    <tr>");for(var M=0;M<a.length;M++){var A=i(a[M]);v.print("      <td>".concat(A)),v.print("      </td>")}v.print("    </tr>")}for(var L=0;L<h.rows.length;L++){v.print("    <tr>");for(var U=0;U<h.columns.length;U++){var I=i(h.rows[L].getString(U));v.print("      <td>".concat(I)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},m.default.prototype.writeFile=function(v,s,c){var p="application/octet-stream";m.default.prototype._isSafari()&&(p="text/plain"),v=new Blob(v,{type:p}),m.default.prototype.downloadFile(v,s,c)},m.default.prototype.downloadFile=function(h,v,a){var p;a=(v=l(v,a))[0],h instanceof Blob?y.default.saveAs(h,a):((p=document.createElement("a")).href=h,p.download=a,p.onclick=function(g){document.body.removeChild(g.target),g.stopPropagation()},p.style.display="none",document.body.appendChild(p),m.default.prototype._isSafari()&&(h=(h='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(v[1],'"'),alert(h)),p.click())},m.default.prototype._checkFileExtension=l,m.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},O.default=r=m.default},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238,"es6-promise/auto":239,"fetch-jsonp":241,"file-saver":242,"whatwg-fetch":251}],300:[function(r,G,O){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};function m(d,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}f.default.Table=function(){function d(i){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var y,w;return y=d,(w=[{key:"addRow",value:function(i){if(void 0===(i=i||new f.default.TableRow).arr||void 0===i.obj)throw new Error("invalid TableRow: ".concat(i));return(i.table=this).rows.push(i),i}},{key:"removeRow",value:function(i){this.rows[i].table=null,i=this.rows.splice(i+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(i)}},{key:"getRow",value:function(i){return this.rows[i]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(i,l){if("string"==typeof l){for(var h=0;h<this.rows.length;h++)if(this.rows[h].obj[l]===i)return this.rows[h]}else for(var s=0;s<this.rows.length;s++)if(this.rows[s].arr[l]===i)return this.rows[s];return null}},{key:"findRows",value:function(i,l){var h=[];if("string"==typeof l)for(var s=0;s<this.rows.length;s++)this.rows[s].obj[l]===i&&h.push(this.rows[s]);else for(var c=0;c<this.rows.length;c++)this.rows[c].arr[l]===i&&h.push(this.rows[c]);return h}},{key:"matchRow",value:function(i,l){if("number"==typeof l){for(var h=0;h<this.rows.length;h++)if(this.rows[h].arr[l].match(i))return this.rows[h]}else for(var s=0;s<this.rows.length;s++)if(this.rows[s].obj[l].match(i))return this.rows[s];return null}},{key:"matchRows",value:function(i,l){var h=[];if("number"==typeof l)for(var s=0;s<this.rows.length;s++)this.rows[s].arr[l].match(i)&&h.push(this.rows[s]);else for(var c=0;c<this.rows.length;c++)this.rows[c].obj[l].match(i)&&h.push(this.rows[c]);return h}},{key:"getColumn",value:function(i){var l=[];if("string"==typeof i)for(var h=0;h<this.rows.length;h++)l.push(this.rows[h].obj[i]);else for(var s=0;s<this.rows.length;s++)l.push(this.rows[s].arr[i]);return l}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(i){this.columns.push(i||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(i,l){for(var h=[],s=0;s<i.length;s++)h.push(i.charAt(s).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var c=new RegExp(h.join("|"),"g");if(void 0===l)for(var p=0;p<this.columns.length;p++)for(var v=0;v<this.rows.length;v++){var a=(a=this.rows[v].arr[p]).replace(c,"");this.rows[v].arr[p]=a,this.rows[v].obj[this.columns[p]]=a}else if("string"==typeof l)for(var g=0;g<this.rows.length;g++){var E=(E=this.rows[g].obj[l]).replace(c,""),$=(this.rows[g].obj[l]=E,this.columns.indexOf(l));this.rows[g].arr[$]=E}else for(var k=0;k<this.rows.length;k++){var M=(M=this.rows[k].arr[l]).replace(c,"");this.rows[k].arr[l]=M,this.rows[k].obj[this.columns[l]]=M}}},{key:"trim",value:function(i){var l=new RegExp(" ","g");if(void 0===i)for(var h=0;h<this.columns.length;h++)for(var s=0;s<this.rows.length;s++){var c=(c=this.rows[s].arr[h]).replace(l,"");this.rows[s].arr[h]=c,this.rows[s].obj[this.columns[h]]=c}else if("string"==typeof i)for(var p=0;p<this.rows.length;p++){var v=(v=this.rows[p].obj[i]).replace(l,""),a=(this.rows[p].obj[i]=v,this.columns.indexOf(i));this.rows[p].arr[a]=v}else for(var g=0;g<this.rows.length;g++){var E=(E=this.rows[g].arr[i]).replace(l,"");this.rows[g].arr[i]=E,this.rows[g].obj[this.columns[i]]=E}}},{key:"removeColumn",value:function(s){var l,h;"string"==typeof s?h=this.columns.indexOf(l=s):l=this.columns[h=s],s=this.columns.splice(h+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(s);for(var c=0;c<this.rows.length;c++){var p=this.rows[c].arr,v=p.splice(h+1,p.length);p.pop(),this.rows[c].arr=p.concat(v),delete this.rows[c].obj[l]}}},{key:"set",value:function(i,l,h){this.rows[i].set(l,h)}},{key:"setNum",value:function(i,l,h){this.rows[i].setNum(l,h)}},{key:"setString",value:function(i,l,h){this.rows[i].setString(l,h)}},{key:"get",value:function(i,l){return this.rows[i].get(l)}},{key:"getNum",value:function(i,l){return this.rows[i].getNum(l)}},{key:"getString",value:function(i,l){return this.rows[i].getString(l)}},{key:"getObject",value:function(i){for(var l,h={},s=0;s<this.rows.length;s++)if(l=this.rows[s].obj,"string"==typeof i){if(!(0<=this.columns.indexOf(i)))throw new Error('This table has no column named "'.concat(i,'"'));h[l[i]]=l}else h[s]=this.rows[s].obj;return h}},{key:"getArray",value:function(){for(var i=[],l=0;l<this.rows.length;l++)i.push(this.rows[l].arr);return i}}])&&m(y.prototype,w),d}(),O.default=r=f.default},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.splice":166,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194}],301:[function(r,G,O){"use strict";function f(m,d){for(var y=0;y<d.length;y++){var w=d[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.TableRow=function(){function m(b,i){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var l=[];b&&(l=b.split(i=i||",")),this.arr=l,this.obj=Object.fromEntries(l.entries()),this.table=null}var d,y;return d=m,(y=[{key:"set",value:function(b,i){if("string"==typeof b){var l=this.table.columns.indexOf(b);if(!(0<=l))throw new Error('This table has no column named "'.concat(b,'"'));this.obj[b]=i,this.arr[l]=i}else{if(!(b<this.table.columns.length))throw new Error("Column #".concat(b," is out of the range of this table"));this.arr[b]=i,this.obj[l=this.table.columns[b]]=i}}},{key:"setNum",value:function(b,i){i=parseFloat(i),this.set(b,i)}},{key:"setString",value:function(b,i){i=i.toString(),this.set(b,i)}},{key:"get",value:function(b){return("string"==typeof b?this.obj:this.arr)[b]}},{key:"getNum",value:function(b){var i=parseFloat("string"==typeof b?this.obj[b]:this.arr[b]);if("NaN"===i.toString())throw"Error: ".concat(this.obj[b]," is NaN (Not a Number)");return i}},{key:"getString",value:function(b){return("string"==typeof b?this.obj:this.arr)[b].toString()}}])&&f(d.prototype,y),m}(),O.default=r=r.default},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236}],302:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};function m(y,w){for(var b=0;b<w.length;b++){var i=w[b];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(y,i.key,i)}}f.default.XML=function(){function y(l){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var w,b;return w=y,(b=[{key:"getParent",value:function(){return new f.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var h=this.DOM.innerHTML,s=this.DOM.attributes,c=document.implementation.createDocument(null,"default").createElement(l);c.innerHTML=h;for(var p=0;p<s.length;p++)c.setAttribute(s[p].nodeName,s.nodeValue);this.DOM=c}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],h=0;h<this.DOM.childNodes.length;h++)l.push(this.DOM.childNodes[h].nodeName);return l}},{key:"getChildren",value:function(l){return function d(y){for(var w=[],b=0;b<y.length;b++)w.push(new f.default.XML(y[b]));return w}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if("string"!=typeof l)return new f.default.XML(this.DOM.children[l]);var h=!0,s=!1,c=void 0;try{for(var p,v=this.DOM.children[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var a=p.value;if(a.tagName===l)return new f.default.XML(a)}}catch(g){s=!0,c=g}finally{try{h||null==v.return||v.return()}finally{if(s)throw c}}}},{key:"addChild",value:function(l){l instanceof f.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var h=-1;if("string"==typeof l){for(var s=0;s<this.DOM.children.length;s++)if(this.DOM.children[s].tagName===l){h=s;break}}else h=l;-1!==h&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],h=!0,s=!1,c=void 0;try{for(var p,v=this.DOM.attributes[Symbol.iterator]();!(h=(p=v.next()).done);h=!0)l.push(p.value.nodeName)}catch(g){s=!0,c=g}finally{try{h||null==v.return||v.return()}finally{if(s)throw c}}return l}},{key:"hasAttribute",value:function(l){var h={},s=!0,c=!1,p=void 0;try{for(var v,a=this.DOM.attributes[Symbol.iterator]();!(s=(v=a.next()).done);s=!0){var g=v.value;h[g.nodeName]=g.nodeValue}}catch(E){c=!0,p=E}finally{try{s||null==a.return||a.return()}finally{if(c)throw p}}return!!h[l]}},{key:"getNum",value:function(l,h){var s={},c=!0,p=!1,v=void 0;try{for(var a,g=this.DOM.attributes[Symbol.iterator]();!(c=(a=g.next()).done);c=!0){var E=a.value;s[E.nodeName]=E.nodeValue}}catch($){p=!0,v=$}finally{try{c||null==g.return||g.return()}finally{if(p)throw v}}return Number(s[l])||h||0}},{key:"getString",value:function(l,h){var s={},c=!0,p=!1,v=void 0;try{for(var a,g=this.DOM.attributes[Symbol.iterator]();!(c=(a=g.next()).done);c=!0){var E=a.value;s[E.nodeName]=E.nodeValue}}catch($){p=!0,v=$}finally{try{c||null==g.return||g.return()}finally{if(p)throw v}}return s[l]?String(s[l]):h||null}},{key:"setAttribute",value:function(l,h){this.DOM.setAttribute(l,h)}},{key:"getContent",value:function(l){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&m(w.prototype,b),y}(),O.default=r=f.default},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],303:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};function m(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var d=arguments.length,y=[],w=0,b=0;b<d;b++){var i=arguments[b];if((i=+i)==1/0||i===-1/0)return 1/0;w<(i=Math.abs(i))&&(w=i),y[b]=i}0===w&&(w=1);for(var p=0,c=0,l=0;l<d;l++){var h,s=p+(h=(h=y[l]/w)*h-c);c=s-p-h,p=s}return Math.sqrt(p)*w}f.default.prototype.abs=Math.abs,f.default.prototype.ceil=Math.ceil,f.default.prototype.constrain=function(d,y,w){return f.default._validateParameters("constrain",arguments),Math.max(Math.min(d,w),y)},f.default.prototype.dist=function(){for(var d=arguments.length,y=new Array(d),w=0;w<d;w++)y[w]=arguments[w];return f.default._validateParameters("dist",y),4===y.length?m(y[2]-y[0],y[3]-y[1]):6===y.length?m(y[3]-y[0],y[4]-y[1],y[5]-y[2]):void 0},f.default.prototype.exp=Math.exp,f.default.prototype.floor=Math.floor,f.default.prototype.lerp=function(d,y,w){return f.default._validateParameters("lerp",arguments),w*(y-d)+d},f.default.prototype.log=Math.log,f.default.prototype.mag=function(d,y){return f.default._validateParameters("mag",arguments),m(d,y)},f.default.prototype.map=function(d,y,w,b,i,l){return f.default._validateParameters("map",arguments),d=(d-y)/(w-y)*(i-b)+b,l?b<i?this.constrain(d,b,i):this.constrain(d,i,b):d},f.default.prototype.max=function(){for(var y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];return function(i){var l=-1/0,h=!0,s=!1,c=void 0;try{for(var p,v=i[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var a=p.value;l=l<a?a:l}}catch(g){s=!0,c=g}finally{try{h||null==v.return||v.return()}finally{if(s)throw c}}return l}(w[0]instanceof Array?w[0]:w)},f.default.prototype.min=function(){for(var y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];return function(i){var l=1/0,h=!0,s=!1,c=void 0;try{for(var p,v=i[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var a=p.value;l=a<l?a:l}}catch(g){s=!0,c=g}finally{try{h||null==v.return||v.return()}finally{if(s)throw c}}return l}(w[0]instanceof Array?w[0]:w)},f.default.prototype.norm=function(d,y,w){return f.default._validateParameters("norm",arguments),this.map(d,y,w,0,1)},f.default.prototype.pow=Math.pow,f.default.prototype.round=function(d,y){return y?(y=Math.pow(10,y),Math.round(d*y)/y):Math.round(d)},f.default.prototype.sq=function(d){return d*d},f.default.prototype.sqrt=Math.sqrt,f.default.prototype.fract=function(b){f.default._validateParameters("fract",arguments);var y,w=0;return b=Number(b),isNaN(b)||Math.abs(b)===1/0?b:(b<0&&(b=-b,w=1),String(b).includes(".")&&!String(b).includes("e")?(y=+("0"+(y=String(b)).slice(y.indexOf("."))),Math.abs(w-y)):b<1?Math.abs(w-b):0)},O.default=r=f.default},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],304:[function(r,G,O){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};function m(y,w,b){return(m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(i,l,h){var s=[null];return s.push.apply(s,l),l=new(Function.bind.apply(i,s)),h&&d(l,h.prototype),l}).apply(null,arguments)}function d(y,w){return(d=Object.setPrototypeOf||function(b,i){return b.__proto__=i,b})(y,w)}f.default.prototype.createVector=function(y,w,b){return this instanceof f.default?m(f.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new f.default.Vector(y,w,b)},O.default=r=f.default},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186}],305:[function(b,G,O){"use strict";function f(i){return.5*(1-Math.cos(i*Math.PI))}Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,b=(b=b("../core/main"))&&b.__esModule?b:{default:b};var m,d=4095,y=4,w=.5;b.default.prototype.noise=function(i){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==m){m=new Array(4096);for(var s=0;s<4096;s++)m[s]=Math.random()}i<0&&(i=-i),l<0&&(l=-l),h<0&&(h=-h);for(var c,p,v=Math.floor(i),a=Math.floor(l),g=Math.floor(h),E=i-v,$=l-a,k=h-g,M=0,A=.5,L=0;L<y;L++){var U=v+(a<<4)+(g<<8),I=f(E),D=f($),R=m[U&d];R+=I*(m[U+1&d]-R),c=m[U+16&d],R+=D*((c+=I*(m[U+16+1&d]-c))-R),c=m[(U+=256)&d],c+=I*(m[U+1&d]-c),p=m[U+16&d],c+=D*((p+=I*(m[U+16+1&d]-p))-c),M+=(R+=f(k)*(c-R))*A,A*=w,v<<=1,a<<=1,g<<=1,1<=(E*=2)&&(v++,E--),1<=($*=2)&&(a++,$--),1<=(k*=2)&&(g++,k--)}return M},b.default.prototype.noiseDetail=function(i,l){0<i&&(y=i),0<l&&(w=l)},b.default.prototype.noiseSeed=function(i){s=4294967296;var h,s,c_rand=function(){return(h=(1664525*h+1013904223)%s)/s};(function(v){h=(null==v?Math.random()*s:v)>>>0})(i),m=new Array(4096);for(var p=0;p<4096;p++)m[p]=c_rand()},O.default=b=b.default},{"../core/main":273}],306:[function(r,G,O){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}function m(s){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(c){return f(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(s)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.string.sub"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(h=r("../core/main"))&&h.__esModule?h:{default:h},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==m(s)&&"function"!=typeof s)return{default:s};var c=w();if(c&&c.has(s))return c.get(s);var p,v={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in s){var g;Object.prototype.hasOwnProperty.call(s,p)&&((g=a?Object.getOwnPropertyDescriptor(s,p):null)&&(g.get||g.set)?Object.defineProperty(v,p,g):v[p]=s[p])}return v.default=s,c&&c.set(s,v),v}(r("../core/constants"));function w(){var s;return"function"!=typeof WeakMap?null:(w=function(){return s},s=new WeakMap)}function b(s,c){for(var p=0;p<c.length;p++){var v=c[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}function i(s,c){return 0!==s&&(this.x=this.x%s),0!==c&&(this.y=this.y%c),this}function l(s,c,p){return 0!==s&&(this.x=this.x%s),0!==c&&(this.y=this.y%c),0!==p&&(this.z=this.z%p),this}d.default.Vector=function(){function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");var g,E,$="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],g=(arguments.length<=2?void 0:arguments[2])||0,E=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(g=(arguments.length<=0?void 0:arguments[0])||0,E=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=g,this.y=E,this.z=$}var c,p,v;return c=s,v=[{key:"fromAngle",value:function(a,g){return new d.default.Vector((g=void 0===g?1:g)*Math.cos(a),g*Math.sin(a),0)}},{key:"fromAngles",value:function(A,k,E){void 0===E&&(E=1);var $=Math.cos(k),M=(k=Math.sin(k),Math.cos(A));return A=Math.sin(A),new d.default.Vector(E*A*k,-E*M,E*A*$)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*y.TWO_PI)}},{key:"random3D",value:function(){var a=Math.random()*y.TWO_PI,g=2*Math.random()-1,E=($=Math.sqrt(1-g*g))*Math.cos(a),$=$*Math.sin(a);return new d.default.Vector(E,$,g)}},{key:"copy",value:function(a){return a.copy(a)}},{key:"add",value:function(a,g,E){return E?E.set(a):(E=a.copy(),3===arguments.length&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),E.add(g),E}},{key:"rem",value:function(a,g){if(a instanceof d.default.Vector&&g instanceof d.default.Vector)return(a=a.copy()).rem(g),a}},{key:"sub",value:function(a,g,E){return E?E.set(a):(E=a.copy(),3===arguments.length&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),E.sub(g),E}},{key:"mult",value:function(a,g,E){return E?E.set(a):(E=a.copy(),3===arguments.length&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),E.mult(g),E}},{key:"rotate",value:function(a,g,E){return 2===arguments.length?E=a.copy():(E instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),E.set(a)),E.rotate(g),E}},{key:"div",value:function(a,g,E){return E?E.set(a):(E=a.copy(),3===arguments.length&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),E.div(g),E}},{key:"dot",value:function(a,g){return a.dot(g)}},{key:"cross",value:function(a,g){return a.cross(g)}},{key:"dist",value:function(a,g){return a.dist(g)}},{key:"lerp",value:function(a,g,E,$){return $?$.set(a):($=a.copy(),4===arguments.length&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),$.lerp(g,E),$}},{key:"slerp",value:function(a,g,E,$){return $?$.set(a):($=a.copy(),4===arguments.length&&d.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),$.slerp(g,E),$}},{key:"mag",value:function(a){return a.mag()}},{key:"magSq",value:function(a){return a.magSq()}},{key:"normalize",value:function(a,g){return arguments.length<2?g=a.copy():(g instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),g.set(a)),g.normalize()}},{key:"limit",value:function(a,g,E){return arguments.length<3?E=a.copy():(E instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),E.set(a)),E.limit(g)}},{key:"setMag",value:function(a,g,E){return arguments.length<3?E=a.copy():(E instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),E.set(a)),E.setMag(g)}},{key:"heading",value:function(a){return a.heading()}},{key:"angleBetween",value:function(a,g){return a.angleBetween(g)}},{key:"reflect",value:function(a,g,E){return arguments.length<3?E=a.copy():(E instanceof d.default.Vector||d.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),E.set(a)),E.reflect(g)}},{key:"array",value:function(a){return a.array()}},{key:"equals",value:function(a,g){var E;return a instanceof d.default.Vector?E=a:a instanceof Array?E=(new d.default.Vector).set(a):d.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),E.equals(g)}}],(p=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(a,g,E){return a instanceof d.default.Vector?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):Array.isArray(a)?(this.x=a[0]||0,this.y=a[1]||0,this.z=a[2]||0):(this.x=a||0,this.y=g||0,this.z=E||0),this}},{key:"copy",value:function(){return this.isPInst?new d.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new d.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(a,g,E){return a instanceof d.default.Vector?(this.x+=a.x||0,this.y+=a.y||0,this.z+=a.z||0):Array.isArray(a)?(this.x+=a[0]||0,this.y+=a[1]||0,this.z+=a[2]||0):(this.x+=a||0,this.y+=g||0,this.z+=E||0),this}},{key:"rem",value:function(a,g,E){var $;if(a instanceof d.default.Vector){if([a.x,a.y,a.z].every(Number.isFinite))return k=parseFloat(a.x),M=parseFloat(a.y),$=parseFloat(a.z),l.call(this,k,M,$)}else if(Array.isArray(a)){if(a.every(function(A){return Number.isFinite(A)}))return 2===a.length?i.call(this,a[0],a[1]):3===a.length?l.call(this,a[0],a[1],a[2]):void 0}else if(1===arguments.length){if(Number.isFinite(a)&&0!==a)return this.x=this.x%a,this.y=this.y%a,this.z=this.z%a,this}else if(2===arguments.length){var k=Array.prototype.slice.call(arguments);if(k.every(function(A){return Number.isFinite(A)})&&2===k.length)return i.call(this,k[0],k[1])}else if(3===arguments.length){var M=Array.prototype.slice.call(arguments);if(M.every(function(A){return Number.isFinite(A)})&&3===M.length)return l.call(this,M[0],M[1],M[2])}}},{key:"sub",value:function(a,g,E){return a instanceof d.default.Vector?(this.x-=a.x||0,this.y-=a.y||0,this.z-=a.z||0):Array.isArray(a)?(this.x-=a[0]||0,this.y-=a[1]||0,this.z-=a[2]||0):(this.x-=a||0,this.y-=g||0,this.z-=E||0),this}},{key:"mult",value:function(a,g,E){var $;return a instanceof d.default.Vector?Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)&&"number"==typeof a.x&&"number"==typeof a.y&&"number"==typeof a.z?(this.x*=a.x,this.y*=a.y,this.z*=a.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(a)?a.every(function(k){return Number.isFinite(k)})&&a.every(function(k){return"number"==typeof k})?1===a.length?(this.x*=a[0],this.y*=a[0],this.z*=a[0]):2===a.length?(this.x*=a[0],this.y*=a[1]):3===a.length&&(this.x*=a[0],this.y*=a[1],this.z*=a[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):($=Array.prototype.slice.call(arguments)).every(function(k){return Number.isFinite(k)})&&$.every(function(k){return"number"==typeof k})?(1===arguments.length&&(this.x*=a,this.y*=a,this.z*=a),2===arguments.length&&(this.x*=a,this.y*=g),3===arguments.length&&(this.x*=a,this.y*=g,this.z*=E)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(a,g,E){if(a instanceof d.default.Vector)if(Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)&&"number"==typeof a.x&&"number"==typeof a.y&&"number"==typeof a.z){var $=0===a.z&&0===this.z;if(0===a.x||0===a.y||!$&&0===a.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=a.x,this.y/=a.y,$||(this.z/=a.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(a))if(a.every(function(k){return Number.isFinite(k)})&&a.every(function(k){return"number"==typeof k})){if(a.some(function(k){return 0===k}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===a.length?(this.x/=a[0],this.y/=a[0],this.z/=a[0]):2===a.length?(this.x/=a[0],this.y/=a[1]):3===a.length&&(this.x/=a[0],this.y/=a[1],this.z/=a[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(($=Array.prototype.slice.call(arguments)).every(function(k){return Number.isFinite(k)})&&$.every(function(k){return"number"==typeof k})){if($.some(function(k){return 0===k}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=a,this.y/=a,this.z/=a),2===arguments.length&&(this.x/=a,this.y/=g),3===arguments.length&&(this.x/=a,this.y/=g,this.z/=E)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var a=this.x,g=this.y,E=this.z;return a*a+g*g+E*E}},{key:"dot",value:function(a,g,E){return a instanceof d.default.Vector?this.dot(a.x,a.y,a.z):this.x*(a||0)+this.y*(g||0)+this.z*(E||0)}},{key:"cross",value:function($){var g=this.y*$.z-this.z*$.y,E=this.z*$.x-this.x*$.z;return $=this.x*$.y-this.y*$.x,this.isPInst?new d.default.Vector(this._fromRadians,this._toRadians,g,E,$):new d.default.Vector(g,E,$)}},{key:"dist",value:function(a){return a.copy().sub(this).mag()}},{key:"normalize",value:function(){var a=this.mag();return 0!==a&&this.mult(1/a),this}},{key:"limit",value:function(a){var g=this.magSq();return a*a<g&&this.div(Math.sqrt(g)).mult(a),this}},{key:"setMag",value:function(a){return this.normalize().mult(a)}},{key:"heading",value:function(){var a=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(a):a}},{key:"setHeading",value:function(a){this.isPInst&&(a=this._toRadians(a));var g=this.mag();return this.x=g*Math.cos(a),this.y=g*Math.sin(a),this}},{key:"rotate",value:function(g){g=this.heading()+g;var E=(this.isPInst&&(g=this._toRadians(g)),this.mag());return this.x=Math.cos(g)*E,this.y=Math.sin(g)*E,this}},{key:"angleBetween",value:function(a){var g;return this.magSq()*a.magSq()==0?NaN:(g=this.cross(a),a=Math.atan2(g.mag(),this.dot(a))*Math.sign(g.z||1),this.isPInst?this._fromRadians(a):a)}},{key:"lerp",value:function(a,g,E,$){return a instanceof d.default.Vector?this.lerp(a.x,a.y,a.z,g):(this.x+=(a-this.x)*$||0,this.y+=(g-this.y)*$||0,this.z+=(E-this.z)*$||0,this)}},{key:"slerp",value:function(a,g){if(0!==g){if(1===g)return this.set(a);var E=this.mag(),$=a.mag();if(E*$==0)this.mult(1-g).add(a.x*g,a.y*g,a.z*g);else{var k=this.cross(a),M=k.mag(),A=Math.atan2(M,this.dot(a));if(0<M)k.x/=M,k.y/=M,k.z/=M;else{if(A<.5*Math.PI)return this.mult(1-g).add(a.x*g,a.y*g,a.z*g),this;0===this.z&&0===a.z?k.set(0,0,1):0!==this.x?k.set(this.y,-this.x,0).normalize():k.set(1,0,0)}M=k.cross(this),k=(a=1-g+g*$/E)*Math.cos(g*A),$=a*Math.sin(g*A),this.x=this.x*k+M.x*$,this.y=this.y*k+M.y*$,this.z=this.z*k+M.z*$}}return this}},{key:"reflect",value:function(a){return a.normalize(),this.sub(a.mult(2*this.dot(a)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(M,g,E){var $,k;return M=M instanceof d.default.Vector?($=M.x||0,k=M.y||0,M.z||0):Array.isArray(M)?($=M[0]||0,k=M[1]||0,M[2]||0):($=M||0,k=g||0,E||0),this.x===$&&this.y===k&&this.z===M}}])&&b(c.prototype,p),v&&b(c,v),s}();var h=d.default.Vector;O.default=h},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.constructor":171,"core-js/modules/es.number.is-finite":172,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],307:[function(w,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(w=w("../core/main"))&&w.__esModule?w:{default:w},m="_lcg_random_state",d=4294967296,y=0;f.default.prototype._lcg=function(b){return this[b]=(1664525*this[b]+1013904223)%d,this[b]/d},f.default.prototype._lcgSetSeed=function(b,i){this[b]=(null==i?Math.random()*d:i)>>>0},f.default.prototype.randomSeed=function(b){this._lcgSetSeed(m,b),this._gaussian_previous=!1},f.default.prototype.random=function(b,i){var l,h;return f.default._validateParameters("random",arguments),l=null!=this[m]?this._lcg(m):Math.random(),void 0===b?l:void 0===i?b instanceof Array?b[Math.floor(l*b.length)]:l*b:(i<b&&(h=b,b=i,i=h),l*(i-b)+b)},f.default.prototype.randomGaussian=function(b){var i,l,h,s,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)i=y,this._gaussian_previous=!1;else{for(;1<=(s=(l=this.random(2)-1)*l+(h=this.random(2)-1)*h););i=l*(s=Math.sqrt(-2*Math.log(s)/s)),y=h*s,this._gaussian_previous=!0}return i*c+(b||0)},O.default=w=f.default},{"../core/main":273}],308:[function(r,G,O){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function m(i){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(l){return f(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":f(l)})(i)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(b=r("../core/main"))&&b.__esModule?b:{default:b},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==m(i)&&"function"!=typeof i)return{default:i};var l=w();if(l&&l.has(i))return l.get(i);var h,s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i){var p;Object.prototype.hasOwnProperty.call(i,h)&&((p=c?Object.getOwnPropertyDescriptor(i,h):null)&&(p.get||p.set)?Object.defineProperty(s,h,p):s[h]=i[h])}return s.default=i,l&&l.set(i,s),s}(r("../core/constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}d.default.prototype._angleMode=y.RADIANS,d.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},d.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},d.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},d.default.prototype.atan2=function(i,l){return this._fromRadians(Math.atan2(i,l))},d.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},d.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},d.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},d.default.prototype.degrees=function(i){return i*y.RAD_TO_DEG},d.default.prototype.radians=function(i){return i*y.DEG_TO_RAD},d.default.prototype.angleMode=function(i){if(d.default._validateParameters("angleMode",arguments),void 0===i)return this._angleMode;i!==y.DEGREES&&i!==y.RADIANS||(this._angleMode=i)},d.default.prototype._toRadians=function(i){return this._angleMode===y.DEGREES?i*y.DEG_TO_RAD:i},d.default.prototype._toDegrees=function(i){return this._angleMode===y.RADIANS?i*y.RAD_TO_DEG:i},d.default.prototype._fromRadians=function(i){return this._angleMode===y.DEGREES?i*y.RAD_TO_DEG:i};var b=d.default;O.default=b},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],309:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};f.default.prototype.textAlign=function(m,d){var y;return f.default._validateParameters("textAlign",arguments),(y=this._renderer).textAlign.apply(y,arguments)},f.default.prototype.textLeading=function(m){var d;return f.default._validateParameters("textLeading",arguments),(d=this._renderer).textLeading.apply(d,arguments)},f.default.prototype.textSize=function(m){var d;return f.default._validateParameters("textSize",arguments),(d=this._renderer).textSize.apply(d,arguments)},f.default.prototype.textStyle=function(m){var d;return f.default._validateParameters("textStyle",arguments),(d=this._renderer).textStyle.apply(d,arguments)},f.default.prototype.textWidth=function(){for(var m,d=arguments.length,y=new Array(d),w=0;w<d;w++)y[w]=arguments[w];return y[0]+="",f.default._validateParameters("textWidth",y),0===y[0].length?0:(m=this._renderer).textWidth.apply(m,y)},f.default.prototype.textAscent=function(){for(var m=arguments.length,d=new Array(m),y=0;y<m;y++)d[y]=arguments[y];return f.default._validateParameters("textAscent",d),this._renderer.textAscent()},f.default.prototype.textDescent=function(){for(var m=arguments.length,d=new Array(m),y=0;y<m;y++)d[y]=arguments[y];return f.default._validateParameters("textDescent",d),this._renderer.textDescent()},f.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},f.default.prototype.textWrap=function(m){if("WORD"!==m&&"CHAR"!==m)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(m)},O.default=r=f.default},{"../core/main":273}],310:[function(r,G,O){"use strict";function f(h){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(h)}function m(h){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(s){return f(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(h)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.split"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(l=r("../core/main"))&&l.__esModule?l:{default:l},y=i(r("../core/constants")),w=i(r("opentype.js"));function b(){var h;return"function"!=typeof WeakMap?null:(b=function(){return h},h=new WeakMap)}function i(h){if(h&&h.__esModule)return h;if(null===h||"object"!==m(h)&&"function"!=typeof h)return{default:h};var s=b();if(s&&s.has(h))return s.get(h);var c,p,v={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&((p=a?Object.getOwnPropertyDescriptor(h,c):null)&&(p.get||p.set)?Object.defineProperty(v,c,p):v[c]=h[c]);return v.default=h,s&&s.set(h,v),v}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),d.default.prototype.loadFont=function(h,s,c){d.default._validateParameters("loadFont",arguments);var p=new d.default.Font(this),v=this;return w.load(h,function(E,$){if(E)return d.default._friendlyFileLoadError(4,h),void 0!==c?c(E):void console.error(E,h);p.font=$,void 0!==s&&s(p),v._decrementPreload();var k=($=(E=h.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:E.slice($+1);["ttf","otf","woff","woff2"].includes(k)&&(k=E.slice(0,-1!==$?$:0),(E=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(k,";\nsrc: url(").concat(h,");\n}\n"))),document.head.appendChild(E))}),p},d.default.prototype.text=function(h,s,c,p,v){var a;return d.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(a=this._renderer).text.apply(a,arguments):this},d.default.prototype.textFont=function(h,s){if(d.default._validateParameters("textFont",arguments),arguments.length){if(h)return this._renderer._setProperty("_textFont",h),s&&(this._renderer._setProperty("_textSize",s),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",s*y._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=d.default;O.default=l},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,"opentype.js":247}],311:[function(r,G,O){"use strict";function f(M){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(M)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(m=r("../core/main"))&&m.__esModule?m:{default:m},d=function(M){if(M&&M.__esModule)return M;if(null===M||"object"!==w(M)&&"function"!=typeof M)return{default:M};var A=y();if(A&&A.has(M))return A.get(M);var L,U={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in M){var D;Object.prototype.hasOwnProperty.call(M,L)&&((D=I?Object.getOwnPropertyDescriptor(M,L):null)&&(D.get||D.set)?Object.defineProperty(U,L,D):U[L]=M[L])}return U.default=M,A&&A.set(M,U),U}(r("../core/constants"));function y(){var M;return"function"!=typeof WeakMap?null:(y=function(){return M},M=new WeakMap)}function w(M){return(w="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(A){return f(A)}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":f(A)})(M)}function b(M,A){for(var L=0;L<A.length;L++){var U=A[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(M,U.key,U)}}function i(M,A){var L=M.length;return M[A<0?A%L+L:A%L]}function l(M,A,L,U){var I,D,R;return U?(void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]),R=l.tmpPoint2,(D=l.tmpPoint1).x=A.x-M.x,D.y=A.y-M.y,R.x=L.x-A.x,R.y=L.y-A.y,I=D.x*R.x+D.y*R.y,D=Math.sqrt(D.x*D.x+D.y*D.y),R=Math.sqrt(R.x*R.x+R.y*R.y),Math.acos(I/(D*R))<U):(A[0]-M[0])*(L[1]-M[1])-(L[0]-M[0])*(A[1]-M[1])==0}function h(ie,we,pe,Re,$e,D,R,V,N){var Q=1-N,T=(K=Math.pow(Q,3))*ie+3*(se=Math.pow(Q,2))*N*pe+3*Q*N*N*$e+(fe=(Z=N*N)*N)*R,K=K*we+3*se*N*Re+3*Q*N*N*D+fe*V,se=ie+2*N*(pe-ie)+Z*($e-2*pe+ie),fe=we+2*N*(Re-we)+Z*(D-2*Re+we),Ie=pe+2*N*($e-pe)+Z*(R-2*$e+pe),Z=Re+2*N*(D-Re)+Z*(V-2*D+Re);return ie=Q*ie+N*pe,pe=Q*we+N*Re,we=Q*$e+N*R,Re=Q*D+N*V,$e=90-180*Math.atan2(se-Ie,fe-Z)/Math.PI,(Ie<se||fe<Z)&&($e+=180),{x:T,y:K,m:{x:se,y:fe},n:{x:Ie,y:Z},start:{x:ie,y:pe},end:{x:we,y:Re},alpha:$e}}function s(M,A,L,U,I,D,R,V,N){return null==N?$(M,A,L,U,I,D,R,V):h(M,A,L,U,I,D,R,V,function(Q,T,K,se,fe,Ie,Z,ie,pe){if(!(pe<0||$(Q,T,K,se,fe,Ie,Z,ie)<pe)){var we,Re=.5,$e=1-Re;for(we=$(Q,T,K,se,fe,Ie,Z,ie,$e);.01<Math.abs(we-pe);)we=$(Q,T,K,se,fe,Ie,Z,ie,$e+=(we<pe?1:-1)*(Re/=2));return $e}}(M,A,L,U,I,D,R,V,N))}function c(M,A,L){for(var U,I,D,R,V,N=0,Q=0,T=(M=function(K,se){function fe(lt,nt,St){var Wt,Ct;if(!lt)return["C",nt.x,nt.y,nt.x,nt.y,nt.x,nt.y];switch(lt[0]in{T:1,Q:1}||(nt.qx=nt.qy=null),lt[0]){case"M":nt.X=lt[1],nt.Y=lt[2];break;case"A":lt=["C"].concat(v.apply(0,[nt.x,nt.y].concat(lt.slice(1))));break;case"S":Ct="C"===St||"S"===St?(Wt=2*nt.x-nt.bx,2*nt.y-nt.by):(Wt=nt.x,nt.y),lt=["C",Wt,Ct].concat(lt.slice(1));break;case"T":"Q"===St||"T"===St?(nt.qx=2*nt.x-nt.qx,nt.qy=2*nt.y-nt.qy):(nt.qx=nt.x,nt.qy=nt.y),lt=["C"].concat(E(nt.x,nt.y,nt.qx,nt.qy,lt[1],lt[2]));break;case"Q":nt.qx=lt[1],nt.qy=lt[2],lt=["C"].concat(E(nt.x,nt.y,lt[1],lt[2],lt[3],lt[4]));break;case"L":lt=["C"].concat(g(nt.x,nt.y,lt[1],lt[2]));break;case"H":lt=["C"].concat(g(nt.x,nt.y,lt[1],nt.y));break;case"V":lt=["C"].concat(g(nt.x,nt.y,nt.x,lt[1]));break;case"Z":lt=["C"].concat(g(nt.x,nt.y,nt.X,nt.Y))}return lt}function Ie(lt,nt){if(7<lt[nt].length){lt[nt].shift();for(var St=lt[nt];St.length;)Fe[nt]="A",we&&(Ge[nt]="A"),lt.splice(nt++,0,["C"].concat(St.splice(0,6)));lt.splice(nt,1),ie=Math.max(pe.length,we&&we.length||0)}}function Z(lt,nt,St,Wt,Ct){lt&&nt&&"M"===lt[Ct][0]&&"M"!==nt[Ct][0]&&(nt.splice(Ct,0,["M",Wt.x,Wt.y]),St.bx=0,St.by=0,St.x=lt[Ct][1],St.y=lt[Ct][2],ie=Math.max(pe.length,we&&we.length||0))}var ie,pe=p(K),we=undefined,Re={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},$e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Fe=[],Ge=[],je="",We="";ie=Math.max(pe.length,we&&we.length||0);for(var Ye=0;Ye<ie;Ye++){"C"!==(je=pe[Ye]?pe[Ye][0]:je)&&(Fe[Ye]=je,Ye&&(We=Fe[Ye-1])),pe[Ye]=fe(pe[Ye],Re,We),"A"!==Fe[Ye]&&"C"===je&&(Fe[Ye]="C"),Ie(pe,Ye),we&&("C"!==(je=we[Ye]?we[Ye][0]:je)&&(Ge[Ye]=je,Ye&&(We=Ge[Ye-1])),we[Ye]=fe(we[Ye],$e,We),"A"!==Ge[Ye]&&"C"===je&&(Ge[Ye]="C"),Ie(we,Ye)),Z(pe,we,Re,$e,Ye),Z(we,pe,$e,Re,Ye);var Ne=pe[Ye],Ke=we&&we[Ye],at=Ne.length,yt=we&&Ke.length;Re.x=Ne[at-2],Re.y=Ne[at-1],Re.bx=parseFloat(Ne[at-4])||Re.x,Re.by=parseFloat(Ne[at-3])||Re.y,$e.bx=we&&(parseFloat(Ke[yt-4])||$e.x),$e.by=we&&(parseFloat(Ke[yt-3])||$e.y),$e.x=we&&Ke[yt-2],$e.y=we&&Ke[yt-1]}return we?[pe,we]:pe}(M)).length;Q<T;Q++){if("M"===(D=M[Q])[0])U=+D[1],I=+D[2];else{if(A<N+(R=s(U,I,D[1],D[2],D[3],D[4],D[5],D[6]))&&!L)return{x:(V=s(U,I,D[1],D[2],D[3],D[4],D[5],D[6],A-N)).x,y:V.y,alpha:V.alpha};N+=R,U=+D[5],I=+D[6]}D.shift()}return(V=L?N:h(U,I,D[0],D[1],D[2],D[3],D[4],D[5],1)).alpha?{x:V.x,y:V.y,alpha:V.alpha}:V}function p(M){var A=[],L=0,U=0,I=0,D=0,R=0;if(M){"M"===M[0][0]&&(I=L=+M[0][1],D=U=+M[0][2],R++,A[0]=["M",L,U]);for(var V,N,Q=3===M.length&&"M"===M[0][0]&&"R"===M[1][0].toUpperCase()&&"Z"===M[2][0].toUpperCase(),T=R,K=M.length;T<K;T++){if(A.push(V=[]),(N=M[T])[0]!==String.prototype.toUpperCase.call(N[0]))switch(V[0]=String.prototype.toUpperCase.call(N[0]),V[0]){case"A":V[1]=N[1],V[2]=N[2],V[3]=N[3],V[4]=N[4],V[5]=N[5],V[6]=+(N[6]+L),V[7]=+(N[7]+U);break;case"V":V[1]=+N[1]+U;break;case"H":V[1]=+N[1]+L;break;case"R":for(var se,fe=2,Ie=(se=[L,U].concat(N.slice(1))).length;fe<Ie;fe++)se[fe]=+se[fe]+L,se[++fe]=+se[fe]+U;A.pop(),A=A.concat(a(se,Q));break;case"M":I=+N[1]+L,D=+N[2]+U;break;default:for(var Z=1,ie=N.length;Z<ie;Z++)V[Z]=+N[Z]+(Z%2?L:U)}else if("R"===N[0])se=[L,U].concat(N.slice(1)),A.pop(),A=A.concat(a(se,Q)),V=["R"].concat(N.slice(-2));else for(var pe=0,we=N.length;pe<we;pe++)V[pe]=N[pe];switch(V[0]){case"Z":L=I,U=D;break;case"H":L=V[1];break;case"V":U=V[1];break;case"M":I=V[V.length-2],D=V[V.length-1];break;default:L=V[V.length-2],U=V[V.length-1]}}}return A}function v(M,A,L,U,we,Fe,Re,V,N,Q){function T(yt,lt,nt){return{x:yt*Math.cos(nt)-lt*Math.sin(nt),y:yt*Math.sin(nt)+lt*Math.cos(nt)}}var K,pe=120*(ie=Math.PI)/180,se=ie/180*(+we||0),fe=[],Ie=(Q?(Ye=Q[0],K=Q[1],je=Q[2],We=Q[3]):(M=($e=T(M,A,-se)).x,A=$e.y,1<(Ie=(Z=(M-(V=($e=T(V,N,-se)).x))/2)*Z/(L*L)+($e=(A-(N=$e.y))/2)*$e/(U*U))&&(L*=Ie=Math.sqrt(Ie),U*=Ie),Ie=L*L,Ge=U*U,je=(Fe=(Fe===Re?-1:1)*Math.sqrt(Math.abs((Ie*Ge-Ie*$e*$e-Ge*Z*Z)/(Ie*$e*$e+Ge*Z*Z))))*L*$e/U+(M+V)/2,We=Fe*-U*Z/L+(A+N)/2,Ye=Math.asin(((A-We)/U).toFixed(9)),K=Math.asin(((N-We)/U).toFixed(9)),(Ye=M<je?ie-Ye:Ye)<0&&(Ye=2*ie+Ye),(K=V<je?ie-K:K)<0&&(K=2*ie+K),Re&&K<Ye&&(Ye-=2*ie),!Re&&Ye<K&&(K-=2*ie)),K-Ye),Z=(Math.abs(Ie)>pe&&(Ge=K,$e=V,Fe=N,K=Ye+pe*(Re&&Ye<K?1:-1),fe=v(V=je+L*Math.cos(K),N=We+U*Math.sin(K),L,U,we,0,Re,$e,Fe,[K,Ge,je,We])),Ie=K-Ye,Math.cos(Ye)),ie=Math.sin(Ye),$e=(pe=Math.cos(K),we=Math.sin(K),4/3*L*(Re=Math.tan(Ie/4))),Ge=[M,A],je=[M+$e*ie,A-(Fe=4/3*U*Re)*Z],We=[V+$e*we,N-Fe*pe],Ye=[V,N];if(je[0]=2*Ge[0]-je[0],je[1]=2*Ge[1]-je[1],Q)return[je,We,Ye].concat(fe);for(var Ne=[],Ke=0,at=(fe=[je,We,Ye].concat(fe).join().split(",")).length;Ke<at;Ke++)Ne[Ke]=Ke%2?T(fe[Ke-1],fe[Ke],se).y:T(fe[Ke],fe[Ke+1],se).x;return Ne}function a(M,A){for(var L=[],U=0,I=M.length;U<I-2*!A;U+=2){var D=[{x:+M[U-2],y:+M[U-1]},{x:+M[U],y:+M[U+1]},{x:+M[U+2],y:+M[U+3]},{x:+M[U+4],y:+M[U+5]}];A?U?I-4===U?D[3]={x:+M[0],y:+M[1]}:I-2===U&&(D[2]={x:+M[0],y:+M[1]},D[3]={x:+M[2],y:+M[3]}):D[0]={x:+M[I-2],y:+M[I-1]}:I-4===U?D[3]=D[2]:U||(D[0]={x:+M[U],y:+M[U+1]}),L.push(["C",(6*D[1].x-D[0].x+D[2].x)/6,(6*D[1].y-D[0].y+D[2].y)/6,(D[1].x+6*D[2].x-D[3].x)/6,(D[1].y+6*D[2].y-D[3].y)/6,D[2].x,D[2].y])}return L}function g(M,A,L,U){return[M,A,L,U,L,U]}function E(M,A,L,U,I,D){return[1/3*M+2/3*L,1/3*A+2/3*U,1/3*I+2/3*L,1/3*D+2/3*U,I,D]}function $(M,A,L,U,I,D,R,V,N){for(var Q=(N=1<(N=null==N?1:N)?1:N<0?0:N)/2,T=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],K=0,se=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],fe=0;fe<12;fe++){var Ie=k(Z=Q*T[fe]+Q,M,L,I,R),Z=k(Z,A,U,D,V);K+=se[fe]*Math.sqrt(Ie*Ie+Z*Z)}return Q*K}function k(M,A,L,U,I){return M*(M*(-3*A+9*L-9*U+3*I)+6*A-12*L+6*U)-3*A+3*L}m.default.Font=function(){function M(I){if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");this.parent=I,this.cache={},this.font=void 0}var A,L;return A=M,(L=[{key:"textBounds",value:function(I){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,R=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,V=4<arguments.length?arguments[4]:void 0,N=V&&V.renderer&&V.renderer._pInst||this.parent,Q=N._renderer.drawingContext,T=(T=3<arguments.length?arguments[3]:void 0)||N._renderer._textSize;if(!Fe){for(var K=[],se=[],fe=[],Ie=(fe[0]=[],[]),Z=this._scale(T),ie=N._renderer.textLeading(),pe=0,we=(this.font.forEachGlyph(I,D,R,T,V,function(We,Ye,Ne,Ke){var at=We.getMetrics();0===We.index||10===We.index?fe[pe+=1]=[]:(fe[pe].push(Ye+at.xMin*Z),fe[pe].push(Ye+at.xMax*Z),Ie.push(Ne+pe*ie+-at.yMin*Z),Ie.push(Ne+pe*ie+-at.yMax*Z))}),0<fe[pe].length&&(K[pe]=Math.min.apply(null,fe[pe]),se[pe]=Math.max.apply(null,fe[pe])),0),Re=0;Re<=pe;Re++){K[Re]=Math.min.apply(null,fe[Re]),se[Re]=Math.max.apply(null,fe[Re]);var $e=se[Re]-K[Re];we<$e&&(we=$e)}var Fe={x:Q=Math.min.apply(null,K),y:R=Math.min.apply(null,Ie),h:Math.max.apply(null,Ie)-R,w:we,advance:Q-D};T=this._handleAlignment(N._renderer,I,Fe.x,Fe.y,Fe.w+Fe.advance),Fe.x=T.x,Fe.y=T.y}return Fe}},{key:"textToPoints",value:function(I,D,R,V,N){var Q=0,T=[],K=this._getGlyphs(I);V=V||this.parent._renderer._textSize;for(var se,fe=0;fe<K.length;fe++){if(!(K[se=fe].name&&"space"===K[se].name||I.length===K.length&&" "===I[se]))for(var Ie=function(we){for(var Re,$e=[],Fe=0;Fe<we.length;Fe++)"M"===we[Fe].type&&(Re&&$e.push(Re),Re=[]),Re.push((je=void 0,je=[(Ge=we[Fe]).type],"M"===Ge.type||"L"===Ge.type?je.push(Ge.x,Ge.y):"C"===Ge.type?je.push(Ge.x1,Ge.y1,Ge.x2,Ge.y2,Ge.x,Ge.y):"Q"===Ge.type&&je.push(Ge.x1,Ge.y1,Ge.x,Ge.y),je));var Ge,je;return $e.push(Re),$e}(K[fe].getPath(D,R,V).commands),Z=0;Z<Ie.length;Z++)for(var ie=function(we,Re){Re=function(Ye,Ne){if("object"!==w(Ye))Ye=Ne;else for(var Ke in Ne)void 0===Ye[Ke]&&(Ye[Ke]=Ne[Ke]);return Ye}(Re,{sampleFactor:.1,simplifyThreshold:0});for(var $e=c(we,0,1),Fe=$e/($e*Re.sampleFactor),Ge=[],je=0;je<$e;je+=Fe)Ge.push(c(we,je));return Re.simplifyThreshold&&function(We){for(var Ye=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Ke=We.length-1;3<We.length&&0<=Ke;--Ke)l(i(We,Ke-1),i(We,Ke),i(We,Ke+1),Ye)&&We.splice(Ke%We.length,1)}(Ge,Re.simplifyThreshold),Ge}(Ie[Z],N),pe=0;pe<ie.length;pe++)ie[pe].x+=Q,T.push(ie[pe]);Q+=K[fe].advanceWidth*this._scale(V)}return T}},{key:"_getGlyphs",value:function(I){return this.font.stringToGlyphs(I)}},{key:"_getPath",value:function(I,Q,R,V){var N=(V&&V.renderer&&V.renderer._pInst||this.parent)._renderer;return Q=this._handleAlignment(N,I,Q,R),this.font.getPath(I,Q.x,Q.y,N._textSize,V)}},{key:"_getPathData",value:function(I,D,R,V){var N=3;return"string"==typeof I&&2<arguments.length?I=this._getPath(I,D,R,V):"object"===w(D)&&(V=D),V&&"number"==typeof V.decimals&&(N=V.decimals),I.toPathData(N)}},{key:"_getSVG",value:function(I,D,R,V){var N=3;return"string"==typeof I&&2<arguments.length?I=this._getPath(I,D,R,V):"object"===w(D)&&(V=D),V&&("number"==typeof V.decimals&&(N=V.decimals),"number"==typeof V.strokeWidth&&(I.strokeWidth=V.strokeWidth),void 0!==V.fill&&(I.fill=V.fill),void 0!==V.stroke&&(I.stroke=V.stroke)),I.toSVG(N)}},{key:"_renderPath",value:function(T,se,fe,V){var N=V&&V.renderer||this.parent._renderer,Q=N.drawingContext,K=(T=("object"===w(T)&&T.commands?T:this._getPath(T,se,fe,V)).commands,Q.beginPath(),!0);se=!1,fe=void 0;try{for(var Ie,Z=T[Symbol.iterator]();!(K=(Ie=Z.next()).done);K=!0){var ie=Ie.value;"M"===ie.type?Q.moveTo(ie.x,ie.y):"L"===ie.type?Q.lineTo(ie.x,ie.y):"C"===ie.type?Q.bezierCurveTo(ie.x1,ie.y1,ie.x2,ie.y2,ie.x,ie.y):"Q"===ie.type?Q.quadraticCurveTo(ie.x1,ie.y1,ie.x,ie.y):"Z"===ie.type&&Q.closePath()}}catch(pe){se=!0,fe=pe}finally{try{K||null==Z.return||Z.return()}finally{if(se)throw fe}}return N._doStroke&&N._strokeSet&&Q.stroke(),N._doFill&&(N._fillSet||N._setFill(d._DEFAULT_TEXT_FILL),Q.fill()),this}},{key:"_textWidth",value:function(I,D){return this.font.getAdvanceWidth(I,D)}},{key:"_textAscent",value:function(I){return this.font.ascender*this._scale(I)}},{key:"_textDescent",value:function(I){return-this.font.descender*this._scale(I)}},{key:"_scale",value:function(I){return 1/this.font.unitsPerEm*(I||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(I,D,R,V,N){var Q=I._textSize;switch(void 0===N&&(N=this._textWidth(D,Q)),I._textAlign){case d.CENTER:R-=N/2;break;case d.RIGHT:R-=N}switch(I._textBaseline){case d.TOP:V+=this._textAscent(Q);break;case d.CENTER:V+=this._textAscent(Q)/2;break;case d.BOTTOM:V-=this._textDescent(Q)}return{x:R,y:V}}}])&&b(A.prototype,L),M}(),O.default=r=m.default},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],312:[function(r,G,O){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.append=function(f,m){return f.push(m),f},r.default.prototype.arrayCopy=function(f,m,d,y,w){var b,i;f=void 0!==w?(i=Math.min(w,f.length),b=y,f.slice(m,i+m)):(i=void 0!==d?(i=d,Math.min(i,f.length)):f.length,d=m,f.slice(b=0,i)),Array.prototype.splice.apply(d,[b,i].concat(f))},r.default.prototype.concat=function(f,m){return f.concat(m)},r.default.prototype.reverse=function(f){return f.reverse()},r.default.prototype.shorten=function(f){return f.pop(),f},r.default.prototype.shuffle=function(f,m){for(var d,y,w=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),b=(f=m||w?f:f.slice()).length;1<b;)d=this.random(0,1)*b|0,y=f[--b],f[b]=f[d],f[d]=y;return f},r.default.prototype.sort=function(f,y){var d=y?f.slice(0,Math.min(y,f.length)):f;return y=y?f.slice(Math.min(y,f.length)):[],(d="string"==typeof d[0]?d.sort():d.sort(function(w,b){return w-b})).concat(y)},r.default.prototype.splice=function(f,m,d){return Array.prototype.splice.apply(f,[d,0].concat(m)),f},r.default.prototype.subset=function(f,m,d){return f.slice(m,void 0!==d?m+d:f.length)},O.default=r=r.default},{"../core/main":273,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180}],313:[function(r,G,O){"use strict";r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};f.default.prototype.float=function(m){return m instanceof Array?m.map(parseFloat):parseFloat(m)},f.default.prototype.int=function(m){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return m===1/0||"Infinity"===m?1/0:m===-1/0||"-Infinity"===m?-1/0:"string"==typeof m?parseInt(m,d):"number"==typeof m?0|m:"boolean"==typeof m?m?1:0:m instanceof Array?m.map(function(y){return f.default.prototype.int(y,d)}):void 0},f.default.prototype.str=function(m){return m instanceof Array?m.map(f.default.prototype.str):String(m)},f.default.prototype.boolean=function(m){return"number"==typeof m?0!==m:"string"==typeof m?"true"===m.toLowerCase():"boolean"==typeof m?m:m instanceof Array?m.map(f.default.prototype.boolean):void 0},f.default.prototype.byte=function(m){return"number"==typeof(m=f.default.prototype.int(m,10))?(m+128)%256-128:m instanceof Array?m.map(f.default.prototype.byte):void 0},f.default.prototype.char=function(m){return"number"!=typeof m||isNaN(m)?m instanceof Array?m.map(f.default.prototype.char):"string"==typeof m?f.default.prototype.char(parseInt(m,10)):void 0:String.fromCharCode(m)},f.default.prototype.unchar=function(m){return"string"==typeof m&&1===m.length?m.charCodeAt(0):m instanceof Array?m.map(f.default.prototype.unchar):void 0},f.default.prototype.hex=function(m,d){if(d=null==d?8:d,m instanceof Array)return m.map(function(w){return f.default.prototype.hex(w,d)});if(m===1/0||m===-1/0)return(m===1/0?"F":"0").repeat(d);if("number"==typeof m){m<0&&(m=4294967295+m+1);for(var y=Number(m).toString(16).toUpperCase();y.length<d;)y="0".concat(y);return y.length>=d?y.substring(y.length-d,y.length):y}},f.default.prototype.unhex=function(m){return m instanceof Array?m.map(f.default.prototype.unhex):parseInt("0x".concat(m),16)},O.default=r=f.default},{"../core/main":273,"core-js/modules/es.array.map":163,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.repeat":193}],314:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(i=r("../core/main"))&&i.__esModule?i:{default:i};function m(l,h){return function(s){if(Array.isArray(s))return s}(l)||function(s,c){if(Symbol.iterator in Object(s)||"[object Arguments]"===Object.prototype.toString.call(s)){var p=[],v=!0,a=!1,g=void 0;try{for(var E,$=s[Symbol.iterator]();!(v=(E=$.next()).done)&&(p.push(E.value),!c||p.length!==c);v=!0);}catch(k){a=!0,g=k}finally{try{v||null==$.return||$.return()}finally{if(a)throw g}}return p}}(l,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(l,h,s){var c=(p=m(l.toString().split("."),2))[0],p=p[1];return void 0===s?(c=c.padStart(h,"0"),p?c+"."+p:c):(c=(l=m(l.toFixed(s).toString().split("."),2))[0],p=l[1],(c=c.padStart(h,"0"))+"."+p)}function y(p,h){var s=(p=p.toString()).indexOf("."),c=-1!==s?p.substring(s):"";if(p=(p=-1!==s?p.substring(0,s):p).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===h)c="";else if(void 0!==h)if(h>c.length)for(var v=h-(c+=-1===s?".":"").length+1,a=0;a<v;a++)c+="0";else c=c.substring(0,h+1);return p+c}function w(l){return 0<parseFloat(l)?"+".concat(l.toString()):l.toString()}function b(l){return 0<=parseFloat(l)?" ".concat(l.toString()):l.toString()}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),f.default.prototype.join=function(l,h){return f.default._validateParameters("join",arguments),l.join(h)},f.default.prototype.match=function(l,h){return f.default._validateParameters("match",arguments),l.match(h)},f.default.prototype.matchAll=function(l,h){f.default._validateParameters("matchAll",arguments);for(var s=new RegExp(h,"g"),c=s.exec(l),p=[];null!==c;)p.push(c),c=s.exec(l);return p},f.default.prototype.nf=function(l,h,s){return f.default._validateParameters("nf",arguments),l instanceof Array?l.map(function(c){return d(c,h,s)}):"[object Arguments]"===Object.prototype.toString.call(l)?3===l.length?this.nf(l[0],l[1],l[2]):2===l.length?this.nf(l[0],l[1]):this.nf(l[0]):d(l,h,s)},f.default.prototype.nfc=function(l,h){return f.default._validateParameters("nfc",arguments),l instanceof Array?l.map(function(s){return y(s,h)}):y(l,h)},f.default.prototype.nfp=function(){for(var l=arguments.length,h=new Array(l),s=0;s<l;s++)h[s]=arguments[s];f.default._validateParameters("nfp",h);var c=f.default.prototype.nf.apply(this,h);return c instanceof Array?c.map(w):w(c)},f.default.prototype.nfs=function(){for(var l=arguments.length,h=new Array(l),s=0;s<l;s++)h[s]=arguments[s];f.default._validateParameters("nfs",h);var c=f.default.prototype.nf.apply(this,h);return c instanceof Array?c.map(b):b(c)},f.default.prototype.split=function(l,h){return f.default._validateParameters("split",arguments),l.split(h)},f.default.prototype.splitTokens=function(l,h){var s,c;return f.default._validateParameters("splitTokens",arguments),c=void 0!==h?(c=/\]/g.exec(h),(s=/\[/g.exec(h))&&c?(h=h.slice(0,c.index)+h.slice(c.index+1),s=/\[/g.exec(h),h=h.slice(0,s.index)+h.slice(s.index+1),new RegExp("[\\[".concat(h,"\\]]"),"g")):c?(h=h.slice(0,c.index)+h.slice(c.index+1),new RegExp("[".concat(h,"\\]]"),"g")):s?(h=h.slice(0,s.index)+h.slice(s.index+1),new RegExp("[".concat(h,"\\[]"),"g")):new RegExp("[".concat(h,"]"),"g")):/\s/g,l.split(c).filter(function(p){return p})},f.default.prototype.trim=function(l){return f.default._validateParameters("trim",arguments),l instanceof Array?l.map(this.trim):l.trim()};var i=f.default;O.default=i},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.pad-start":192,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],315:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.day=function(){return(new Date).getDate()},r.default.prototype.hour=function(){return(new Date).getHours()},r.default.prototype.minute=function(){return(new Date).getMinutes()},r.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},r.default.prototype.month=function(){return(new Date).getMonth()+1},r.default.prototype.second=function(){return(new Date).getSeconds()},r.default.prototype.year=function(){return(new Date).getFullYear()},O.default=r=r.default},{"../core/main":273}],316:[function(r,G,O){"use strict";function f(l){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}function m(l){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(h){return f(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(i=r("../core/main"))&&i.__esModule?i:{default:i},y=(r("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==m(l)&&"function"!=typeof l)return{default:l};var h=w();if(h&&h.has(l))return h.get(l);var s,c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in l){var v;Object.prototype.hasOwnProperty.call(l,s)&&((v=p?Object.getOwnPropertyDescriptor(l,s):null)&&(v.get||v.set)?Object.defineProperty(c,s,v):c[s]=l[s])}return c.default=l,h&&h.set(l,c),c}(r("../core/constants")));function w(){var l;return"function"!=typeof WeakMap?null:(w=function(){return l},l=new WeakMap)}function b(l,h,s,c,p,v,a){l=l<=0?1:l,h=h<0?0:h,s=s<=0?l:s,c=c<3?3:c;for(var g,E,$=(v=void 0===v||v)?-2:0,k=(p=p<1?1:p)+((a=void 0===a?0!==h:a)?2:0),M=Math.atan2(l-h,s),A=Math.sin(M),L=Math.cos(M),U=$;U<=k;++U){var I=U/p,D=s*I,R=void 0;for(R=U<0?(I=D=0,l):p<U?(D=s,I=1,h):l+(h-l)*I,-2!==U&&U!==p+2||(R=0),D-=s/2,g=0;g<c;++g){var V=g/(c-1),Q=2*Math.PI*V,N=Math.sin(Q),T=(Q=Math.cos(Q),this.vertices.push(new d.default.Vector(N*R,D,Q*R)));T=U<0?new d.default.Vector(0,-1,0):p<U&&h?new d.default.Vector(0,1,0):new d.default.Vector(N*L,A,Q*L),this.vertexNormals.push(T),this.uvs.push(V,I)}}var K=0;if(v){for(E=0;E<c;++E)this.faces.push([K+E,K+c+(E+1)%c,K+c+E]);K+=2*c}for(U=0;U<p;++U){for(g=0;g<c;++g){var se=(g+1)%c;this.faces.push([K+g,K+se,K+c+se]),this.faces.push([K+g,K+c+se,K+c+g])}K+=c}if(a)for(K+=c,g=0;g<c;++g)this.faces.push([K+g,K+(g+1)%c,K+c])}d.default.prototype.plane=function(l,h,s,c){this._assert3d("plane"),d.default._validateParameters("plane",arguments),void 0===l&&(l=50),void 0===h&&(h=l),void 0===c&&(c=1);var p,v="plane|".concat(s=void 0===s?1:s,"|").concat(c);return this._renderer.geometryInHash(v)||((p=new d.default.Geometry(s,c,function(){for(var a,g,E=0;E<=this.detailY;E++)for(var $=E/this.detailY,k=0;k<=this.detailX;k++)g=new d.default.Vector((a=k/this.detailX)-.5,$-.5,0),this.vertices.push(g),this.uvs.push(a,$)})).computeFaces().computeNormals(),s<=1&&c<=1?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,p)),this._renderer.drawBuffersScaled(v,l,h,1),this},d.default.prototype.box=function(l,h,s,c,p){this._assert3d("box"),d.default._validateParameters("box",arguments),void 0===l&&(l=50),void 0===h&&(h=l),void 0===s&&(s=h);var v,a=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===p&&(p=a?1:4),a="box|".concat(c=void 0===c?a?1:4:c,"|").concat(p),this._renderer.geometryInHash(a)||((v=new d.default.Geometry(c,p,function(){var g=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(E,$){$*=4;for(var k=0;k<4;k++){var M=new d.default.Vector((2*(1&(M=E[k]))-1)/2,((2&M)-1)/2,((4&M)/2-1)/2);g.vertices.push(M),g.uvs.push(1&k,(2&k)/2)}g.faces.push([$,1+$,2+$]),g.faces.push([2+$,1+$,3+$])})})).computeNormals(),c<=4&&p<=4?v._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(a,v)),this._renderer.drawBuffersScaled(a,l,h,s),this},d.default.prototype.sphere=function(l,h,s){return this._assert3d("sphere"),d.default._validateParameters("sphere",arguments),this.ellipsoid(l=void 0===l?50:l,l,l,h=void 0===h?24:h,s=void 0===s?16:s),this},d.default.prototype.cylinder=function(l,h,s,c,p,v){this._assert3d("cylinder"),d.default._validateParameters("cylinder",arguments),void 0===l&&(l=50),void 0===h&&(h=l),void 0===c&&(c=1),void 0===v&&(v=!0),void 0===p&&(p=!0);var a,g="cylinder|".concat(s=void 0===s?24:s,"|").concat(c,"|").concat(p,"|").concat(v);return this._renderer.geometryInHash(g)||(a=new d.default.Geometry(s,c),b.call(a,1,1,1,s,c,p,v),s<=24&&c<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,a)),this._renderer.drawBuffersScaled(g,l,h,l),this},d.default.prototype.cone=function(l,h,s,c,p){this._assert3d("cone"),d.default._validateParameters("cone",arguments),void 0===l&&(l=50),void 0===h&&(h=l),void 0===c&&(c=1),void 0===p&&(p=!0);var v,a="cone|".concat(s=void 0===s?24:s,"|").concat(c,"|").concat(p);return this._renderer.geometryInHash(a)||(v=new d.default.Geometry(s,c),b.call(v,1,0,1,s,c,p,!1),s<=24&&c<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(a,v)),this._renderer.drawBuffersScaled(a,l,h,l),this},d.default.prototype.ellipsoid=function(l,h,s,c,p){this._assert3d("ellipsoid"),d.default._validateParameters("ellipsoid",arguments),void 0===l&&(l=50),void 0===h&&(h=l),void 0===s&&(s=l),void 0===p&&(p=16);var v,a="ellipsoid|".concat(c=void 0===c?24:c,"|").concat(p);return this._renderer.geometryInHash(a)||((v=new d.default.Geometry(c,p,function(){for(var g=0;g<=this.detailY;g++)for(var E=g/this.detailY,$=Math.PI*E-Math.PI/2,k=Math.cos($),M=Math.sin($),A=0;A<=this.detailX;A++){var L=A/this.detailX,I=2*Math.PI*L,U=Math.cos(I);I=Math.sin(I),I=new d.default.Vector(k*I,M,k*U),this.vertices.push(I),this.vertexNormals.push(I),this.uvs.push(L,E)}})).computeFaces(),c<=24&&p<=24?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(a,v)),this._renderer.drawBuffersScaled(a,l,h,s),this},d.default.prototype.torus=function(l,a,s,c){if(this._assert3d("torus"),d.default._validateParameters("torus",arguments),void 0===l)l=50;else if(!l)return;if(void 0===a)a=10;else if(!a)return;void 0===s&&(s=24),void 0===c&&(c=16);var p,v=(a/l).toPrecision(4);return a="torus|".concat(v,"|").concat(s,"|").concat(c),this._renderer.geometryInHash(a)||((p=new d.default.Geometry(s,c,function(){for(var g=0;g<=this.detailY;g++)for(var E=g/this.detailY,$=2*Math.PI*E,k=Math.cos($),M=Math.sin($),A=1+v*k,L=0;L<=this.detailX;L++){var U=L/this.detailX,I=2*Math.PI*U,R=Math.cos(I),D=(I=Math.sin(I),new d.default.Vector(A*R,A*I,v*M));R=new d.default.Vector(k*R,k*I,M),this.vertices.push(D),this.vertexNormals.push(R),this.uvs.push(U,E)}})).computeFaces(),s<=24&&c<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(a,p)),this._renderer.drawBuffersScaled(a,l,l,l),this},d.default.RendererGL.prototype.point=function(l,h,s){var c=[];return c.push(new d.default.Vector(l,h,s=void 0===s?0:s)),this._drawPoints(c,this.immediateMode.buffers.point),this},d.default.RendererGL.prototype.triangle=function(a){var h=a[0],s=a[1],c=a[2],p=a[3],v=a[4],g=(a=a[5],this.geometryInHash("tri")||((g=new d.default.Geometry(1,1,function(){var k=[];k.push(new d.default.Vector(0,0,0)),k.push(new d.default.Vector(1,0,0)),k.push(new d.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=k,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),g.computeNormals(),this.createBuffers("tri",g)),this.uMVMatrix.copy());try{var E=Math.sign(h*p-c*s+c*a-v*p+v*s-h*a),$=new d.default.Matrix([c-h,p-s,0,0,v-h,a-s,0,0,0,0,E,0,h,s,0,1]).mult(this.uMVMatrix);this.uMVMatrix=$,this.drawBuffers("tri")}finally{this.uMVMatrix=g}return this},d.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,y.TWO_PI,y.OPEN,l[4])},d.default.RendererGL.prototype.arc=function(l){var h,s=arguments[1],c=arguments[2],p=arguments[3],v=arguments[4],a=arguments[5],g=arguments[6],E=arguments[7]||25,$=(Math.abs(a-v)>=y.TWO_PI?"".concat(k="ellipse","|"):"".concat(k="arc","|").concat(v,"|").concat(a,"|").concat(g,"|")).concat(E,"|"),k=(this.geometryInHash($)||((h=new d.default.Geometry(E,1,function(){if(v.toFixed(10)!==a.toFixed(10)){g!==y.PIE&&void 0!==g||(this.vertices.push(new d.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var M=0;M<=E;M++){var L=M/E*(a-v)+v,A=.5+Math.cos(L)/2;L=.5+Math.sin(L)/2,this.vertices.push(new d.default.Vector(A,L,0)),this.uvs.push([A,L]),M<E-1&&(this.faces.push([0,M+1,M+2]),this.edges.push([M+1,M+2]))}switch(g){case y.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case y.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case y.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),E<=50?h._edgesToVertices(h):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(k," with more than 50 detail")),this.createBuffers($,h)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([l,s,0]),this.uMVMatrix.scale(c,p,1),this.drawBuffers($)}finally{this.uMVMatrix=k}return this},d.default.RendererGL.prototype.rect=function(l){var h=l[0],s=l[1],c=l[2],p=l[3];if(void 0===l[4]){var g=this._pInst._glAttributes.perPixelLighting,v=l[4]||(g?1:24),a=l[5]||(g?1:16),E=(g="rect|".concat(v,"|").concat(a),this.geometryInHash(g)||((E=new d.default.Geometry(v,a,function(){for(var T=0;T<=this.detailY;T++)for(var K=T/this.detailY,se=0;se<=this.detailX;se++){var fe=se/this.detailX,Ie=new d.default.Vector(fe,K,0);this.vertices.push(Ie),this.uvs.push(fe,K)}0<v&&0<a&&(this.edges=[[0,v],[v,(v+1)*(a+1)-1],[(v+1)*(a+1)-1,(v+1)*a],[(v+1)*a,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(g,E)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([h,s,0]),this.uMVMatrix.scale(c,p,1),this.drawBuffers(g)}finally{this.uMVMatrix=E}}else{g=l[4],E=void 0===l[5]?g:l[5];var $=void 0===l[6]?E:l[6],I=(l=void 0===l[7]?$:l[7],c),k=p,M=((I+=h)<h&&(L=h,h=I,I=L),(k+=s)<s&&(L=s,s=k,k=L),(L=Math.min((I-h)/2,(k-s)/2))<g&&(g=L),L<E&&(E=L),L<$&&($=L),L<l&&(l=L),h),A=s,L=I,U=(h=k,this.beginShape(),0!==E?(this.vertex(L-E,A),this.quadraticVertex(L,A,L,A+E)):this.vertex(L,A),0!==$?(this.vertex(L,h-$),this.quadraticVertex(L,h,L-$,h)):this.vertex(L,h),0!==l?(this.vertex(M+l,h),this.quadraticVertex(M,h,M,h-l)):this.vertex(M,h),0!==g?(this.vertex(M,A+g),this.quadraticVertex(M,A,M+g,A)):this.vertex(M,A),!(this.immediateMode.geometry.uvs.length=0));s=!1,I=void 0;try{for(var D,R=this.immediateMode.geometry.vertices[Symbol.iterator]();!(U=(D=R.next()).done);U=!0){var V=D.value;this.immediateMode.geometry.uvs.push((V.x-M)/c,(V.y-A)/p)}}catch(Z){s=!0,I=Z}finally{try{U||null==R.return||R.return()}finally{if(s)throw I}}this.endShape(y.CLOSE)}return this},d.default.RendererGL.prototype.quad=function(l,h,s,c,p,v,a,g,E,$,k,M,A,L){void 0===A&&(A=2),void 0===L&&(L=2);var U="quad|".concat(l,"|").concat(h,"|").concat(s,"|").concat(c,"|").concat(p,"|").concat(v,"|").concat(a,"|").concat(g,"|").concat(E,"|").concat($,"|").concat(k,"|").concat(M,"|").concat(A,"|").concat(L);if(!this.geometryInHash(U)){var I=new d.default.Geometry(A,L,function(){for(var T=1/(this.detailX-1),K=1/(this.detailY-1),se=0;se<this.detailY;se++)for(var fe=0;fe<this.detailX;fe++){var Ie=fe*T,Z=se*K;this.vertices.push(new d.default.Vector((1-Ie)*((1-Z)*l+Z*$)+Ie*((1-Z)*c+Z*a),(1-Ie)*((1-Z)*h+Z*k)+Ie*((1-Z)*p+Z*g),(1-Ie)*((1-Z)*s+Z*M)+Ie*((1-Z)*v+Z*E))),this.uvs.push([Ie,Z])}});I.faces=[];for(var D=0;D<L-1;D++)for(var R=0;R<A-1;R++){var V=R+D*A,N=R+1+(D+1)*A,Q=R+(D+1)*A;I.faces.push([V,R+1+D*A,N]),I.faces.push([V,N,Q])}I.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(U,I)}return this.drawBuffers(U),this},d.default.RendererGL.prototype.bezier=function(l,h,s,c,p,v,a,g,E,$,k,M){8===arguments.length&&(k=g,$=a,g=v,a=p,p=c,c=s,s=v=E=M=0);var A=this._pInst._bezierDetail||20;this.beginShape();for(var L=0;L<=A;L++){var U=Math.pow(1-L/A,3),I=L/A*3*Math.pow(1-L/A,2),D=3*Math.pow(L/A,2)*(1-L/A),R=Math.pow(L/A,3);this.vertex(l*U+c*I+a*D+$*R,h*U+p*I+g*D+k*R,s*U+v*I+E*D+M*R)}return this.endShape(),this},d.default.RendererGL.prototype.curve=function(l,h,s,c,p,v,a,g,E,$,k,M){8===arguments.length&&($=a,k=g,a=p,g=c,p=c=s,s=v=E=M=0);var A=this._pInst._curveDetail;this.beginShape();for(var L=0;L<=A;L++){var U=.5*Math.pow(L/A,3),I=.5*Math.pow(L/A,2),D=L/A*.5;this.vertex(U*(3*c-l-3*a+$)+I*(2*l-5*c+4*a-$)+D*(-l+a)+2*c*.5,U*(3*p-h-3*g+k)+I*(2*h-5*p+4*g-k)+D*(-h+g)+2*p*.5,U*(3*v-s-3*E+M)+I*(2*s-5*v+4*E-M)+D*(-s+E)+2*v*.5)}return this.endShape(),this},d.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},d.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var l,h,s,c,p,v,a=[],g=[],E=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var $=1/this._lutBezierDetail,k=0,M=1,A=0;k<1;){if(v=parseFloat(k.toFixed(6)),this._lookUpTableBezier[A]=this._bezierCoefficients(v),M.toFixed(6)===$.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(k.toFixed(6)),++A,this._lookUpTableBezier[A]=this._bezierCoefficients(v);break}k+=$,M-=$,++A}}for(var L=this._lookUpTableBezier.length,U=[],I=0;I<4;I++)U.push([]);U[0]=this.immediateMode.geometry.vertexColors.slice(-4),U[3]=this.curFillColor.slice();var D=[];for(I=0;I<4;I++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[3]=this.curStrokeColor.slice(),6===E){this.isBezier=!0,a=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var R=Math.hypot(a[0]-a[1],g[0]-g[1]),N=Math.hypot(a[1]-a[2],g[1]-g[2]),V=Math.hypot(a[2]-a[3],g[2]-g[3]);for(R/=N=R+N+V,V/=N,p=0;p<4;p++)U[1].push(U[0][p]*(1-R)+U[3][p]*R),U[2].push(U[0][p]*V+U[3][p]*(1-V)),D[1].push(D[0][p]*(1-R)+D[3][p]*R),D[2].push(D[0][p]*V+D[3][p]*(1-V));for(c=0;c<L;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=l=h=0;I<4;I++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableBezier[c][I]*U[I][p],this.curStrokeColor[p]+=this._lookUpTableBezier[c][I]*D[I][p];l+=a[I]*this._lookUpTableBezier[c][I],h+=g[I]*this._lookUpTableBezier[c][I]}this.vertex(l,h)}this.curFillColor=U[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===E){this.isBezier=!0,a=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var Q=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],T=Math.hypot(a[0]-a[1],g[0]-g[1],Q[0]-Q[1]),K=(N=Math.hypot(a[1]-a[2],g[1]-g[2],Q[1]-Q[2]),Math.hypot(a[2]-a[3],g[2]-g[3],Q[2]-Q[3]));for(T/=E=T+N+K,K/=E,p=0;p<4;p++)U[1].push(U[0][p]*(1-T)+U[3][p]*T),U[2].push(U[0][p]*K+U[3][p]*(1-K)),D[1].push(D[0][p]*(1-T)+D[3][p]*T),D[2].push(D[0][p]*K+D[3][p]*(1-K));for(c=0;c<L;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=l=h=s=0;I<4;I++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableBezier[c][I]*U[I][p],this.curStrokeColor[p]+=this._lookUpTableBezier[c][I]*D[I][p];l+=a[I]*this._lookUpTableBezier[c][I],h+=g[I]*this._lookUpTableBezier[c][I],s+=Q[I]*this._lookUpTableBezier[c][I]}this.vertex(l,h,s)}this.curFillColor=U[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},d.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var l,h,s,c,p,v,a=[],g=[],E=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var $=1/this._lutQuadraticDetail,k=0,M=1,A=0;k<1;){if(v=parseFloat(k.toFixed(6)),this._lookUpTableQuadratic[A]=this._quadraticCoefficients(v),M.toFixed(6)===$.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(k.toFixed(6)),++A,this._lookUpTableQuadratic[A]=this._quadraticCoefficients(v);break}k+=$,M-=$,++A}}for(var L=this._lookUpTableQuadratic.length,U=[],I=0;I<3;I++)U.push([]);U[0]=this.immediateMode.geometry.vertexColors.slice(-4),U[2]=this.curFillColor.slice();var D=[];for(I=0;I<3;I++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[2]=this.curStrokeColor.slice(),4===E){this.isQuadratic=!0,a=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var R=Math.hypot(a[0]-a[1],g[0]-g[1]);for(R/=R+Math.hypot(a[1]-a[2],g[1]-g[2]),p=0;p<4;p++)U[1].push(U[0][p]*(1-R)+U[2][p]*R),D[1].push(D[0][p]*(1-R)+D[2][p]*R);for(c=0;c<L;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=l=h=0;I<3;I++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableQuadratic[c][I]*U[I][p],this.curStrokeColor[p]+=this._lookUpTableQuadratic[c][I]*D[I][p];l+=a[I]*this._lookUpTableQuadratic[c][I],h+=g[I]*this._lookUpTableQuadratic[c][I]}this.vertex(l,h)}this.curFillColor=U[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===E){this.isQuadratic=!0,a=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var V=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],N=Math.hypot(a[0]-a[1],g[0]-g[1],V[0]-V[1]);for(N/=N+Math.hypot(a[1]-a[2],g[1]-g[2],V[1]-V[2]),p=0;p<4;p++)U[1].push(U[0][p]*(1-N)+U[2][p]*N),D[1].push(D[0][p]*(1-N)+D[2][p]*N);for(c=0;c<L;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=l=h=s=0;I<3;I++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableQuadratic[c][I]*U[I][p],this.curStrokeColor[p]+=this._lookUpTableQuadratic[c][I]*D[I][p];l+=a[I]*this._lookUpTableQuadratic[c][I],h+=g[I]*this._lookUpTableQuadratic[c][I],s+=V[I]*this._lookUpTableQuadratic[c][I]}this.vertex(l,h,s)}this.curFillColor=U[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},d.default.RendererGL.prototype.curveVertex=function(){var l,p,v,a=[],g=[],E=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var $=1/this._lutBezierDetail,k=0,M=1,A=0;k<1;){if(v=parseFloat(k.toFixed(6)),this._lookUpTableBezier[A]=this._bezierCoefficients(v),M.toFixed(6)===$.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(k.toFixed(6)),++A,this._lookUpTableBezier[A]=this._bezierCoefficients(v);break}k+=$,M-=$,++A}}var L=this._lookUpTableBezier.length;if(2===E){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),p=0;p<L;p++)this.vertex(a[0]*this._lookUpTableBezier[p][0]+a[1]*this._lookUpTableBezier[p][1]+a[2]*this._lookUpTableBezier[p][2]+a[3]*this._lookUpTableBezier[p][3],g[0]*this._lookUpTableBezier[p][0]+g[1]*this._lookUpTableBezier[p][1]+g[2]*this._lookUpTableBezier[p][2]+g[3]*this._lookUpTableBezier[p][3]);for(p=0;p<E;p++)this.immediateMode._curveVertex.shift()}}else if(3===E&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),p=0;p<L;p++)this.vertex(a[0]*this._lookUpTableBezier[p][0]+a[1]*this._lookUpTableBezier[p][1]+a[2]*this._lookUpTableBezier[p][2]+a[3]*this._lookUpTableBezier[p][3],g[0]*this._lookUpTableBezier[p][0]+g[1]*this._lookUpTableBezier[p][1]+g[2]*this._lookUpTableBezier[p][2]+g[3]*this._lookUpTableBezier[p][3],l[0]*this._lookUpTableBezier[p][0]+l[1]*this._lookUpTableBezier[p][1]+l[2]*this._lookUpTableBezier[p][2]+l[3]*this._lookUpTableBezier[p][3]);for(p=0;p<E;p++)this.immediateMode._curveVertex.shift()}},d.default.RendererGL.prototype.image=function(l,M,s,A,p,v,a,g,E){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(y.NORMAL);var $=0,k=(M<=l.width&&($=M/l.width),1);M+A<=l.width&&(k=(M+A)/l.width),M=0,s<=l.height&&(M=s/l.height),A=1,s+p<=l.height&&(A=(s+p)/l.height),this.beginShape(),this.vertex(v,a,0,$,M),this.vertex(v+g,a,0,k,M),this.vertex(v+g,a+E,0,k,A),this.vertex(v,a+E,0,$,A),this.endShape(y.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(y.REMOVE)};var i=d.default;O.default=i},{"../core/constants":262,"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],317:[function(r,G,O){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(b=r("../core/main"))&&b.__esModule?b:{default:b},d=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==w(i)&&"function"!=typeof i)return{default:i};var l=y();if(l&&l.has(i))return l.get(i);var h,s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i){var p;Object.prototype.hasOwnProperty.call(i,h)&&((p=c?Object.getOwnPropertyDescriptor(i,h):null)&&(p.get||p.set)?Object.defineProperty(s,h,p):s[h]=i[h])}return s.default=i,l&&l.set(i,s),s}(r("../core/constants"));function y(){var i;return"function"!=typeof WeakMap?null:(y=function(){return i},i=new WeakMap)}function w(i){return(w="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(l){return f(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":f(l)})(i)}m.default.prototype.orbitControl=function(i,l,h,E){var c=this,p=(this._assert3d("orbitControl"),m.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===i&&(i=1),void 0===l&&(l=i),void 0===h&&(h=1),"object"!==w(E)&&(E={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var k=E.disableTouchActions;!0===this.touchActionsDisabled||void 0!==k&&!k||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),E=void 0!==(k=E.freeRotation)&&k;var v,a,g,$=[],M=(this.touches.forEach(function(R){c._renderer.prevTouches.forEach(function(V){R.id===V.id&&$.push(V={x:R.x,y:R.y,px:V.x,py:V.y})})}),this._renderer.prevTouches=this.touches,k=0,0),A=0,L=0,U=0,I=this.height<this.width?this.height:this.width,D=!1;return 0<$.length?(D=0<$[0].x&&$[0].x<this.width&&0<$[0].y&&$[0].y<this.height,1===$.length?(M=-i*((v=$[0]).x-v.px)/I,A=l*(v.y-v.py)/I):(v=$[0],a=$[1],k=-(Math.hypot(v.x-a.x,v.y-a.y)-Math.hypot(v.px-a.px,v.py-a.py))*h*4e-4,L=.5*(v.x+a.x)-.5*(v.px+a.px),U=.5*(v.y+a.y)-.5*(v.py+a.py)),0<this.touches.length?D&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(D=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(k=Math.sign(this._mouseWheelDeltaY)*h,k*=.01,this._mouseWheelDeltaY=0,D&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(M=-i*this.movedX/I,A=l*this.movedY/I):this.mouseButton===this.RIGHT&&(L=this.movedX,U=this.movedY),D&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==k&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=k),.001<Math.abs(this._renderer.zoomVelocity)?(E?p._orbitFree(0,0,this._renderer.zoomVelocity):p._orbit(0,0,this._renderer.zoomVelocity),0!==p.projMatrix.mat4[15]&&(p.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),p.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=p.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=p.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===M&&0===A||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*M,.6*A),1e-6<this._renderer.rotateVelocity.magSq()?(E?p._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):p._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===L&&0===U||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(v=2*L/this.width),.15*(a=2*-U/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(h=p._getLocalAxes(),i=p.eyeX-p.centerX,l=p.eyeY-p.centerY,I=p.eyeZ-p.centerZ,D=Math.sqrt(i*i+l*l+I*I),k=new m.default.Vector(p.centerX,p.centerY,p.centerZ),k=p.cameraMatrix.multiplyPoint(k),(k=this._renderer.uPMatrix.multiplyAndNormalizePoint(k)).x-=this._renderer.moveVelocity.x,k.y-=this._renderer.moveVelocity.y,A=0===(M=this._renderer.uPMatrix.mat4)[15]?(g=(M[8]+k.x)/M[0]*D,(M[9]+k.y)/M[5]*D):(g=(k.x-M[12])/M[0],(k.y-M[13])/M[5]),p.setPosition(p.eyeX+g*h.x[0]+A*h.y[0],p.eyeY+g*h.x[1]+A*h.y[1],p.eyeZ+g*h.x[2]+A*h.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},m.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,l=new Array(i),h=0;h<i;h++)l[h]=arguments[h];m.default._validateParameters("debugMode",l);for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1);l[0]===d.GRID?this.registerMethod("post",this._grid.call(this,l[1],l[2],l[3],l[4],l[5])):l[0]===d.AXES?this.registerMethod("post",this._axesIcon.call(this,l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid.call(this,l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon.call(this,l[5],l[6],l[7],l[8])))},m.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},m.default.prototype._grid=function(i,l,h,s,c){void 0===i&&(i=this.width/2),void 0===l&&(l=Math.round(i/30)<4?4:Math.round(i/30)),void 0===h&&(h=0),void 0===s&&(s=0),void 0===c&&(c=0);var p=i/l,v=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var a=0;a<=l;a++)this.beginShape(this.LINES),this.vertex(-v+h,s,a*p-v+c),this.vertex(v+h,s,a*p-v+c),this.endShape();for(var g=0;g<=l;g++)this.beginShape(this.LINES),this.vertex(g*p-v+h,s,-v+c),this.vertex(g*p-v+h,s,v+c),this.endShape();this.pop()}},m.default.prototype._axesIcon=function(i,l,h,s){return void 0===i&&(i=40<this.width/20?this.width/20:40),void 0===l&&(l=-this.width/4),void 0===h&&(h=l),void 0===s&&(s=l),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,h,s),this.vertex(l+i,h,s),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,h,s),this.vertex(l,h+i,s),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,h,s),this.vertex(l,h,s+i),this.endShape(),this.pop()}};var b=m.default;O.default=b},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],318:[function(r,G,O){"use strict";Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};f.default.prototype.ambientLight=function(m,d,y,w){this._assert3d("ambientLight"),f.default._validateParameters("ambientLight",arguments);var b=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(b._array[0],b._array[1],b._array[2]),this._renderer._enableLighting=!0,this},f.default.prototype.specularColor=function(m,d,y){this._assert3d("specularColor"),f.default._validateParameters("specularColor",arguments);var w=this.color.apply(this,arguments);return this._renderer.specularColors=[w._array[0],w._array[1],w._array[2]],this},f.default.prototype.directionalLight=function(m,c,s,w,b,i){var l,h;return this._assert3d("directionalLight"),f.default._validateParameters("directionalLight",arguments),m=m instanceof f.default.Color?m:this.color(m,c,s),s="number"==typeof(c=arguments[arguments.length-1])?(l=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(l=c.x,h=c.y,c.z),c=Math.sqrt(l*l+h*h+s*s),this._renderer.directionalLightDirections.push(l/c,h/c,s/c),this._renderer.directionalLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.pointLight=function(m,s,c,w,b,i){var l,h;return this._assert3d("pointLight"),f.default._validateParameters("pointLight",arguments),m=m instanceof f.default.Color?m:this.color(m,s,c),c="number"==typeof(s=arguments[arguments.length-1])?(l=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(l=s.x,h=s.y,s.z),this._renderer.pointLightPositions.push(l,h,c),this._renderer.pointLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.lights=function(){this._assert3d("lights");var m=this.color("rgb(128,128,128)");return this.ambientLight(m),this.directionalLight(m,0,0,-1),this},f.default.prototype.lightFalloff=function(m,d,y){return this._assert3d("lightFalloff"),f.default._validateParameters("lightFalloff",arguments),m<0&&(m=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),y<0&&(y=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===m&&0===d&&0===y&&(m=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=m,this._renderer.linearAttenuation=d,this._renderer.quadraticAttenuation=y,this},f.default.prototype.spotLight=function(m,d,y,w,b,i,l,h,s,c,p){this._assert3d("spotLight"),f.default._validateParameters("spotLight",arguments);var v,a,g,E=arguments.length;switch(E){case 11:case 10:v=this.color(m,d,y),a=new f.default.Vector(w,b,i),g=new f.default.Vector(l,h,s);break;case 9:m instanceof f.default.Color?(v=m,a=new f.default.Vector(d,y,w),g=new f.default.Vector(b,i,l),c=h,p=s):w instanceof f.default.Vector?(v=this.color(m,d,y),a=w,g=new f.default.Vector(b,i,l),c=h,p=s):l instanceof f.default.Vector?(v=this.color(m,d,y),a=new f.default.Vector(w,b,i),g=l,c=h,p=s):(v=this.color(m,d,y),a=new f.default.Vector(w,b,i),g=new f.default.Vector(l,h,s));break;case 8:g=m instanceof f.default.Color?(v=m,a=new f.default.Vector(d,y,w),new f.default.Vector(b,i,l)):w instanceof f.default.Vector?(v=this.color(m,d,y),a=w,new f.default.Vector(b,i,l)):(v=this.color(m,d,y),a=new f.default.Vector(w,b,i),l),c=h;break;case 7:m instanceof f.default.Color&&d instanceof f.default.Vector?(v=m,a=d,g=new f.default.Vector(y,w,b),c=i,p=l):m instanceof f.default.Color&&b instanceof f.default.Vector?(v=m,a=new f.default.Vector(d,y,w),g=b,c=i,p=l):w instanceof f.default.Vector&&b instanceof f.default.Vector?(v=this.color(m,d,y),a=w,g=b,c=i,p=l):g=m instanceof f.default.Color?(v=m,a=new f.default.Vector(d,y,w),new f.default.Vector(b,i,l)):w instanceof f.default.Vector?(v=this.color(m,d,y),a=w,new f.default.Vector(b,i,l)):(v=this.color(m,d,y),a=new f.default.Vector(w,b,i),l);break;case 6:w instanceof f.default.Vector&&b instanceof f.default.Vector?(v=this.color(m,d,y),a=w,g=b,c=i):m instanceof f.default.Color&&b instanceof f.default.Vector?(v=m,a=new f.default.Vector(d,y,w),g=b,c=i):m instanceof f.default.Color&&d instanceof f.default.Vector&&(v=m,a=d,g=new f.default.Vector(y,w,b),c=i);break;case 5:m instanceof f.default.Color&&d instanceof f.default.Vector&&y instanceof f.default.Vector?(v=m,a=d,g=y,c=w,p=b):w instanceof f.default.Vector&&b instanceof f.default.Vector?(v=this.color(m,d,y),a=w,g=b):m instanceof f.default.Color&&b instanceof f.default.Vector?(v=m,a=new f.default.Vector(d,y,w),g=b):m instanceof f.default.Color&&d instanceof f.default.Vector&&(v=m,a=d,g=new f.default.Vector(y,w,b));break;case 4:v=m,a=d,g=y,c=w;break;case 3:v=m,a=d,g=y;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(E<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(v._array[0],v._array[1],v._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(a.x,a.y,a.z),g.normalize(),this._renderer.spotLightDirections.push(g.x,g.y,g.z),void 0===c&&(c=Math.PI/3),void 0!==p&&p<1?(p=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===p&&(p=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(p),this._renderer._enableLighting=!0,this},f.default.prototype.noLights=function(){this._assert3d("noLights");for(var m=arguments.length,d=new Array(m),y=0;y<m;y++)d[y]=arguments[y];return f.default._validateParameters("noLights",d),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},O.default=r=f.default},{"../core/main":273}],319:[function(r,G,O){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(m=r("../core/main"))&&m.__esModule?m:{default:m};r("./p5.Geometry"),f.default.prototype.loadModel=function(d){f.default._validateParameters("loadModel",arguments);var y,w,b,i=d.slice(-4),l=("boolean"==typeof arguments[1]?(y=arguments[1],w=arguments[2],b=arguments[3],void 0!==arguments[4]&&(i=arguments[4])):(y=!1,w=arguments[1],b=arguments[2],void 0!==arguments[3]&&(i=arguments[3])),new f.default.Geometry),h=(l.gid="".concat(d,"|").concat(y),this);return i.match(/\.stl$/i)?this.httpDo(d,"GET","arrayBuffer",function(s){(function(c,p){if(function(v){for(var a=new DataView(v),g=[115,111,108,105,100],E=0;E<5;E++)if(function($,k,M){for(var A=0,L=$.length;A<L;A++)if($[A]!==k.getUint8(M+A,!1))return;return 1}(g,a,E))return;return 1}(p))!function(v,a){for(var g,E,$,k,M,A,L,U=new DataView(a),I=U.getUint32(80,!0),D=!1,R=0;R<70;R++)1129270351===U.getUint32(R,!1)&&82===U.getUint8(R+4)&&61===U.getUint8(R+5)&&(D=!0,k=[],M=U.getUint8(R+6)/255,A=U.getUint8(R+7)/255,L=U.getUint8(R+8)/255);for(var V=0;V<I;V++){for(var N,Q=84+50*V,T=U.getFloat32(Q,!0),K=U.getFloat32(4+Q,!0),se=U.getFloat32(8+Q,!0),fe=(D&&($=32768&(N=U.getUint16(48+Q,!0))?(g=M,E=A,L):(g=(31&N)/31,E=(N>>5&31)/31,(N>>10&31)/31)),new f.default.Vector(T,K,se)),Ie=1;Ie<=3;Ie++){var Z=new f.default.Vector(U.getFloat32(Z=Q+12*Ie,!0),U.getFloat32(4+Z,!0),U.getFloat32(8+Z,!0));v.vertices.push(Z),v.vertexNormals.push(fe),D&&k.push(g,E,$)}v.faces.push([3*V,3*V+1,3*V+2]),v.uvs.push([0,0],[0,0],[0,0])}}(c,p);else{if(p=new DataView(p),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(v,a){for(var g,E,$="",k=[],M=0;M<a.length;++M){for(var A=a[M].trim(),L=A.split(" "),U=0;U<L.length;++U)""===L[U]&&L.splice(U,1);if(0!==L.length)switch($){case"":if("solid"!==L[0])return console.error(A),console.error('Invalid state "'.concat(L[0],'", should be "solid"'));$="solid";break;case"solid":if("facet"!==L[0]||"normal"!==L[1])return console.error(A),console.error('Invalid state "'.concat(L[0],'", should be "facet normal"'));g=new f.default.Vector(parseFloat(L[2]),parseFloat(L[3]),parseFloat(L[4])),v.vertexNormals.push(g,g,g),$="facet normal";break;case"facet normal":if("outer"!==L[0]||"loop"!==L[1])return console.error(A),console.error('Invalid state "'.concat(L[0],'", should be "outer loop"'));$="vertex";break;case"vertex":if("vertex"===L[0])E=new f.default.Vector(parseFloat(L[1]),parseFloat(L[2]),parseFloat(L[3])),v.vertices.push(E),v.uvs.push([0,0]),k.push(v.vertices.indexOf(E));else{if("endloop"!==L[0])return console.error(A),console.error('Invalid state "'.concat(L[0],'", should be "vertex" or "endloop"'));v.faces.push(k),k=[],$="endloop"}break;case"endloop":if("endfacet"!==L[0])return console.error(A),console.error('Invalid state "'.concat(L[0],'", should be "endfacet"'));$="endfacet";break;case"endfacet":if("endsolid"!==L[0]){if("facet"!==L[0]||"normal"!==L[1])return console.error(A),console.error('Invalid state "'.concat(L[0],'", should be "endsolid" or "facet normal"'));g=new f.default.Vector(parseFloat(L[2]),parseFloat(L[3]),parseFloat(L[4])),v.vertexNormals.push(g,g,g),$="facet normal"}break;default:console.error('Invalid state "'.concat($,'"'))}}}(c,p=new TextDecoder("utf-8").decode(p).split("\n"))}})(l,s),y&&l.normalize(),h._decrementPreload(),"function"==typeof w&&w(l)},b):i.match(/\.obj$/i)?this.loadStrings(d,function(s){for(var c=l,p=s,v={v:[],vt:[],vn:[]},a={},g=0;g<p.length;++g){var E=p[g].trim().split(/\b\s+/);if(0<E.length)if("v"===E[0]||"vn"===E[0]){var $=new f.default.Vector(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3]));v[E[0]].push($)}else if("vt"===E[0])$=[parseFloat(E[1]),1-parseFloat(E[2])],v[E[0]].push($);else if("f"===E[0])for(var k=3;k<E.length;++k){for(var M=[],A=[1,k-1,k],L=0;L<A.length;++L){var U=E[A[L]],I=0;if(void 0!==a[U])I=a[U];else{for(var D=U.split("/"),R=0;R<D.length;R++)D[R]=parseInt(D[R])-1;I=a[U]=c.vertices.length,c.vertices.push(v.v[D[0]].copy()),c.uvs.push(v.vt[D[1]]?v.vt[D[1]].slice():[0,0]),v.vn[D[2]]&&c.vertexNormals.push(v.vn[D[2]].copy())}M.push(I)}M[0]!==M[1]&&M[0]!==M[2]&&M[1]!==M[2]&&c.faces.push(M)}}0===c.vertexNormals.length&&c.computeNormals(),y&&l.normalize(),h._decrementPreload(),"function"==typeof w&&w(l)},b):(f.default._friendlyFileLoadError(3,d),b?b():f.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),l},f.default.prototype.model=function(d){this._assert3d("model"),f.default._validateParameters("model",arguments),0<d.vertices.length&&(this._renderer.geometryInHash(d.gid)||(0===d.edges.length&&d._makeTriangleEdges(),d._edgesToVertices(),this._renderer.createBuffers(d.gid,d)),this._renderer.drawBuffers(d.gid))};var m=f.default;O.default=m},{"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199}],320:[function(r,G,O){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function m(i){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(l){return f(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":f(l)})(i)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(b=r("../core/main"))&&b.__esModule?b:{default:b},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==m(i)&&"function"!=typeof i)return{default:i};var l=w();if(l&&l.has(i))return l.get(i);var h,s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i){var p;Object.prototype.hasOwnProperty.call(i,h)&&((p=c?Object.getOwnPropertyDescriptor(i,h):null)&&(p.get||p.set)?Object.defineProperty(s,h,p):s[h]=i[h])}return s.default=i,l&&l.set(i,s),s}(r("../core/constants"));function w(){var i;return"function"!=typeof WeakMap?null:(w=function(){return i},i=new WeakMap)}r("./p5.Texture"),d.default.prototype.loadShader=function(i,l,h,s){function c(){v._decrementPreload(),h&&h(p)}d.default._validateParameters("loadShader",arguments),s=s||console.error;var p=new d.default.Shader,v=this,a=!1,g=!1;return this.loadStrings(i,function(E){p._vertSrc=E.join("\n"),g=!0,a&&c()},s),this.loadStrings(l,function(E){p._fragSrc=E.join("\n"),a=!0,g&&c()},s),p},d.default.prototype.createShader=function(i,l){return this._assert3d("createShader"),d.default._validateParameters("createShader",arguments),new d.default.Shader(this._renderer,i,l)},d.default.prototype.shader=function(i){return this._assert3d("shader"),d.default._validateParameters("shader",arguments),void 0===i._renderer&&(i._renderer=this._renderer),i.init(),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),this},d.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},d.default.prototype.texture=function(i){return this._assert3d("texture"),d.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=y.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},d.default.prototype.textureMode=function(i){i!==y.IMAGE&&i!==y.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},d.default.prototype.textureWrap=function(i){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i,h=(this._renderer.textureWrapX=i,this._renderer.textureWrapY=l,!0),s=!1,c=void 0;try{for(var p,v=this._renderer.textures.values()[Symbol.iterator]();!(h=(p=v.next()).done);h=!0)p.value.setWrapMode(i,l)}catch(a){s=!0,c=a}finally{try{h||null==v.return||v.return()}finally{if(s)throw c}}},d.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,l=new Array(i),h=0;h<i;h++)l[h]=arguments[h];return d.default._validateParameters("normalMaterial",l),this._renderer.drawMode=y.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},d.default.prototype.ambientMaterial=function(i,l,h){this._assert3d("ambientMaterial"),d.default._validateParameters("ambientMaterial",arguments);var s=d.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=s._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},d.default.prototype.emissiveMaterial=function(i,l,h,s){this._assert3d("emissiveMaterial"),d.default._validateParameters("emissiveMaterial",arguments);var c=d.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=c._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},d.default.prototype.specularMaterial=function(i,l,h,s){this._assert3d("specularMaterial"),d.default._validateParameters("specularMaterial",arguments);var c=d.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=c._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},d.default.prototype.shininess=function(i){return this._assert3d("shininess"),d.default._validateParameters("shininess",arguments),this._renderer._useShininess=i=i<1?1:i,this},d.default.RendererGL.prototype._applyColorBlend=function(i){var l=this.GL,h=this.drawMode===y.TEXTURE;return(h=this.userFillShader||this.userStrokeShader||this.userPointShader||h||this.curBlendMode!==y.BLEND||i[i.length-1]<1||this._isErasing)!==this._isBlending&&(h||this.curBlendMode!==y.BLEND&&this.curBlendMode!==y.ADD?l.enable(l.BLEND):l.disable(l.BLEND),l.depthMask(!0),this._isBlending=h),this._applyBlendMode(),i},d.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case y.BLEND:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case y.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE);break;case y.REMOVE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_ALPHA);break;case y.MULTIPLY:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA);break;case y.SCREEN:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_COLOR);break;case y.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case y.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case y.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case y.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case y.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var b=d.default;O.default=b},{"../core/constants":262,"../core/main":273,"./p5.Texture":330,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],321:[function(r,G,O){"use strict";r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};function m(d,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}f.default.prototype.camera=function(){var d;this._assert3d("camera");for(var y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];return f.default._validateParameters("camera",w),(d=this._renderer._curCamera).camera.apply(d,w),this},f.default.prototype.perspective=function(){var d;this._assert3d("perspective");for(var y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];return f.default._validateParameters("perspective",w),(d=this._renderer._curCamera).perspective.apply(d,w),this},f.default.prototype.ortho=function(){var d;this._assert3d("ortho");for(var y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];return f.default._validateParameters("ortho",w),(d=this._renderer._curCamera).ortho.apply(d,w),this},f.default.prototype.frustum=function(){var d;this._assert3d("frustum");for(var y=arguments.length,w=new Array(y),b=0;b<y;b++)w[b]=arguments[b];return f.default._validateParameters("frustum",w),(d=this._renderer._curCamera).frustum.apply(d,w),this},f.default.prototype.createCamera=function(){this._assert3d("createCamera");var d=new f.default.Camera(this._renderer);return d._computeCameraDefaultSettings(),d._setDefaultCamera(),this._renderer._curCamera=d},f.default.Camera=function(){function d(i){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._renderer=i,this.cameraType="default",this.cameraMatrix=new f.default.Matrix,this.projMatrix=new f.default.Matrix,this.yScale=1}var y,w;return y=d,(w=[{key:"perspective",value:function(c,l,h,s){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===c?c=this.defaultCameraFOV:this._renderer._pInst._toRadians(c),void 0===l&&(l=this.defaultAspectRatio),void 0===h&&(h=this.defaultCameraNear),void 0===s&&(s=this.defaultCameraFar),h<=1e-4&&(h=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),s<h&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=l,this.cameraNear=h,this.cameraFar=s,this.projMatrix=f.default.Matrix.identity(),c=1/Math.tan(this.cameraFOV/2);var p=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(c/l,0,0,0,0,-c*this.yScale,0,0,0,0,(s+h)*p,-1,0,0,2*s*h*p,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(M,k,h,s,c,p){void 0===M&&(M=-this._renderer.width/2),void 0===k&&(k=+this._renderer.width/2),void 0===h&&(h=-this._renderer.height/2),void 0===s&&(s=+this._renderer.height/2),void 0===c&&(c=0),void 0===p&&(p=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=c;var A=k-M,v=s-h,a=(this.cameraFar=p)-c,g=2/A,E=2/v*this.yScale,$=-2/a;k=-(k+M)/A,M=-(s+h)/v,A=-(p+c)/a,this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(g,0,0,0,0,-E,0,0,0,0,$,0,k,M,A,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(M,k,h,s,c,p){void 0===M&&(M=.05*-this._renderer.width),void 0===k&&(k=.05*+this._renderer.width),void 0===h&&(h=.05*+this._renderer.height),void 0===s&&(s=.05*-this._renderer.height),void 0===c&&(c=this.defaultCameraNear),void 0===p&&(p=this.defaultCameraFar),this.cameraNear=c;var A=k-M,v=s-h,a=(this.cameraFar=p)-c,g=2*c/A,E=2*c/v*this.yScale,$=-2*p*c/a;k=(k+M)/A,M=(s+h)/v,A=-(p+c)/a,this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(g,0,0,0,0,-E,0,0,k,M,A,-1,0,0,$,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(g,l,h,s){var c=this.centerX,p=this.centerY,v=this.centerZ,a=(c-=this.eyeX,p-=this.eyeY,v-=this.eyeZ,f.default.Matrix.identity(this._renderer._pInst));(a.rotate(this._renderer._pInst._toRadians(g),l,h,s),g=[c*a.mat4[0]+p*a.mat4[4]+v*a.mat4[8],c*a.mat4[1]+p*a.mat4[5]+v*a.mat4[9],c*a.mat4[2]+p*a.mat4[6]+v*a.mat4[10]])[0]+=this.eyeX,g[1]+=this.eyeY,g[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,g[0],g[1],g[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(i){var l=this._getLocalAxes();this._rotateView(i,l.y[0],l.y[1],l.y[2])}},{key:"tilt",value:function(i){var l=this._getLocalAxes();this._rotateView(i,l.x[0],l.x[1],l.x[2])}},{key:"lookAt",value:function(i,l,h){this.camera(this.eyeX,this.eyeY,this.eyeZ,i,l,h,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(i,l,h,s,c,p,v,a,g){return void 0===i&&(h=this.defaultEyeZ,s=i=this.defaultEyeX,c=l=this.defaultEyeY,a=1,g=v=p=0),this.eyeX=i,this.eyeY=l,this.eyeZ=h,void 0!==s&&(this.centerX=s,this.centerY=c,this.centerZ=p),void 0!==v&&(this.upX=v,this.upY=a,this.upZ=g),s=this._getLocalAxes(),this.cameraMatrix.set(s.x[0],s.y[0],s.z[0],0,s.x[1],s.y[1],s.z[1],0,s.x[2],s.y[2],s.z[2],0,0,0,0,1),this.cameraMatrix.translate([c=-i,-l,-h]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(s,c,h){var p=this._getLocalAxes();this.camera(this.eyeX+(s=[p.x[0]*s,p.x[1]*s,p.x[2]*s])[0]+(c=[p.y[0]*c,p.y[1]*c,p.y[2]*c])[0]+(p=[p.z[0]*h,p.z[1]*h,p.z[2]*h])[0],this.eyeY+s[1]+c[1]+p[1],this.eyeZ+s[2]+c[2]+p[2],this.centerX+s[0]+c[0]+p[0],this.centerY+s[1]+c[1]+p[1],this.centerZ+s[2]+c[2]+p[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(i,l,h){this.camera(i,l,h,this.centerX+(i-this.eyeX),this.centerY+(l-this.eyeY),this.centerZ+(h-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(i){for(var l=0,h=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType"];l<h.length;l++){var s=h[l];this[s]=i[s]}this.cameraMatrix=i.cameraMatrix.copy(),this.projMatrix=i.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(i,l,h){var s,c,p,v,a,g,E,$,k,M,A,L,U,I,D,R,V,N;0===h?this.set(i):1===h?this.set(l):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=i.projMatrix.mat4[0]*Math.pow(l.projMatrix.mat4[0]/i.projMatrix.mat4[0],h),this.projMatrix.mat4[5]=i.projMatrix.mat4[5]*Math.pow(l.projMatrix.mat4[5]/i.projMatrix.mat4[5],h),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),v=new f.default.Vector(i.eyeX,i.eyeY,i.eyeZ),a=new f.default.Vector(l.eyeX,l.eyeY,l.eyeZ),R=new f.default.Vector(i.centerX,i.centerY,i.centerZ),N=new f.default.Vector(l.centerX,l.centerY,l.centerZ),p=f.default.Vector.dist(v,R),s=f.default.Vector.dist(a,N),s=p*Math.pow(s/p,h),p=f.default.Vector.sub(v,a),c=1,1e-6<(V=(I=v.copy().sub(a).sub(R).add(N)).magSq())&&(c=f.default.Vector.dot(p,I)/V,c=Math.max(0,Math.min(c,1))),p=f.default.Vector.lerp(f.default.Vector.lerp(v,R,c),f.default.Vector.lerp(a,N,c),h),I=i.cameraMatrix.createSubMatrix3x3(),V=l.cameraMatrix.createSubMatrix3x3(),v=I.column(2),R=V.column(2),a=I.column(1),N=V.column(1),i=new f.default.Vector,l=new f.default.Vector,g=new f.default.Vector,E=new f.default.Vector,1-($=.5*((I=(V=V.mult3x3(I.copy().transpose3x3())).diagonal())[0]+I[1]+I[2]-1))<1e-7?(i.set(f.default.Vector.lerp(v,R,h)).normalize(),g.set(i).mult(c*s).add(p),E.set(i).mult((c-1)*s).add(p),l.set(f.default.Vector.lerp(a,N,h)).normalize()):(R=1/(1-$),N=Math.max(I[0],I[1],I[2]),L=V.mat3[1]+V.mat3[3],U=V.mat3[2]+V.mat3[6],D=V.mat3[5]+V.mat3[7],N=N===I[0]?(M=.5*L*(R/=k=Math.sqrt((I[0]-$)*R)),A=.5*U*R,.5*(V.mat3[7]-V.mat3[5])/k):N===I[1]?(A=.5*D*(R/=M=Math.sqrt((I[1]-$)*R)),k=.5*L*R,.5*(V.mat3[2]-V.mat3[6])/M):(k=.5*U*(R/=A=Math.sqrt((I[2]-$)*R)),M=.5*D*R,.5*(V.mat3[3]-V.mat3[1])/A),L=h*Math.atan2(N,$),U=Math.cos(L),I=Math.sin(L),(N=new f.default.Matrix("mat3",[U+(D=1-U)*k*k,D*(R=k*M)-I*A,D*(V=A*k)+I*M,D*R+I*A,U+D*M*M,D*(h=M*A)-I*k,D*V-I*M,D*h+I*k,U+D*A*A])).multiplyVec3(v,i),g.set(i).mult(c*s).add(p),E.set(i).mult((c-1)*s).add(p),N.multiplyVec3(a,l)),this.camera(g.x,g.y,g.z,E.x,E.y,E.z,l.x,l.y,l.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var i=new f.default.Camera(this._renderer);return i.cameraFOV=this.cameraFOV,i.aspectRatio=this.aspectRatio,i.eyeX=this.eyeX,i.eyeY=this.eyeY,i.eyeZ=this.eyeZ,i.centerX=this.centerX,i.centerY=this.centerY,i.centerZ=this.centerZ,i.upX=this.upX,i.upY=this.upY,i.upZ=this.upZ,i.cameraNear=this.cameraNear,i.cameraFar=this.cameraFar,i.cameraType=this.cameraType,i.cameraMatrix=this.cameraMatrix.copy(),i.projMatrix=this.projMatrix.copy(),i}},{key:"_getLocalAxes",value:function(){var E,i=this.eyeX-this.centerX,l=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,v=(0!==(v=Math.sqrt(i*i+l*l+h*h))&&(i/=v,l/=v,h/=v),this.upX),s=(a=this.upY)*h-(g=this.upZ)*l,c=-v*h+g*i,p=v*l-a*i,a=(v=l*p-h*c,-i*p+h*s),g=i*c-l*s;return 0!==(0!==(E=Math.sqrt(s*s+c*c+p*p))&&(s/=E,c/=E,p/=E),E=Math.sqrt(v*v+a*a+g*g))&&(v/=E,a/=E,g/=E),{x:[s,c,p],y:[v,a,g],z:[i,l,h]}}},{key:"_orbit",value:function(i,E,g){var c=this.eyeX-this.centerX,p=this.eyeY-this.centerY,v=this.eyeZ-this.centerZ,s=Math.hypot(c,p,v),a=(c=new f.default.Vector(c,p,v).normalize(),p=new f.default.Vector(this.upX,this.upY,this.upZ).normalize(),v=new f.default.Vector.cross(p,c).normalize(),new f.default.Vector.cross(v,p));(s=(s*=Math.pow(10,g))<this.cameraNear?this.cameraNear:s)>this.cameraFar&&(s=this.cameraFar),g=Math.acos(Math.max(-1,Math.min(1,f.default.Vector.dot(c,p))))+E,E=i,(g<=0||g>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),p.mult(Math.cos(g)),a.mult(Math.cos(E)*Math.sin(g)),v.mult(Math.sin(E)*Math.sin(g)),c.set(p).add(a).add(v),this.eyeX=s*c.x+this.centerX,this.eyeY=s*c.y+this.centerY,this.eyeZ=s*c.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(g,E,k){var c=this.eyeX-this.centerX,p=this.eyeY-this.centerY,v=this.eyeZ-this.centerZ,s=Math.hypot(c,p,v),a=(c=new f.default.Vector(c,p,v).normalize(),p=new f.default.Vector(this.upX,this.upY,this.upZ),v=new f.default.Vector.cross(p,c).normalize(),new f.default.Vector.cross(c,v)),M=Math.atan2(E,g),$=(a.mult(Math.sin(M)),v.mult(Math.cos(M)).add(a),M=Math.sqrt(g*g+E*E),a=new f.default.Vector.cross(c,v),(s=(s*=Math.pow(10,k))<this.cameraNear?this.cameraNear:s)>this.cameraFar&&(s=this.cameraFar),g=Math.cos(M),E=Math.sin(M),(k=p.dot(c))*g+(M=p.dot(v))*E);k=-k*E+M*g,M=p.dot(a),p.x=$*c.x+k*v.x+M*a.x,p.y=$*c.y+k*v.y+M*a.y,p.z=$*c.z+k*v.z+M*a.z,v.mult(-E),c.mult(g).add(v).mult(s),this.camera(c.x+this.centerX,c.y+this.centerY,c.z+this.centerZ,this.centerX,this.centerY,this.centerZ,p.x,p.y,p.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&m(y.prototype,w),d}(),f.default.prototype.setCamera=function(d){this._renderer._curCamera=d,this._renderer.uPMatrix.set(d.projMatrix.mat4[0],d.projMatrix.mat4[1],d.projMatrix.mat4[2],d.projMatrix.mat4[3],d.projMatrix.mat4[4],d.projMatrix.mat4[5],d.projMatrix.mat4[6],d.projMatrix.mat4[7],d.projMatrix.mat4[8],d.projMatrix.mat4[9],d.projMatrix.mat4[10],d.projMatrix.mat4[11],d.projMatrix.mat4[12],d.projMatrix.mat4[13],d.projMatrix.mat4[14],d.projMatrix.mat4[15])},O.default=r=f.default.Camera},{"../core/main":273,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.string.sub":198}],322:[function(L,G,O){"use strict";function f(U){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(U)}L("core-js/modules/es.symbol"),L("core-js/modules/es.symbol.description"),L("core-js/modules/es.symbol.iterator"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.from"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.object.get-own-property-descriptor"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.reflect.construct"),L("core-js/modules/es.reflect.get"),L("core-js/modules/es.regexp.to-string"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.string.iterator"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint8-clamped-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),L("core-js/modules/es.weak-map"),L("core-js/modules/web.dom-collections.iterator"),L("core-js/modules/es.symbol"),L("core-js/modules/es.symbol.description"),L("core-js/modules/es.symbol.iterator"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.from"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.object.get-own-property-descriptor"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.reflect.construct"),L("core-js/modules/es.reflect.get"),L("core-js/modules/es.regexp.to-string"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.string.iterator"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint8-clamped-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),L("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var m=(A=L("../core/main"))&&A.__esModule?A:{default:A},d=function(U){if(U&&U.__esModule)return U;if(null===U||"object"!==s(U)&&"function"!=typeof U)return{default:U};var I=b();if(I&&I.has(U))return I.get(U);var D,R={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in U){var N;Object.prototype.hasOwnProperty.call(U,D)&&((N=V?Object.getOwnPropertyDescriptor(U,D):null)&&(N.get||N.set)?Object.defineProperty(R,D,N):R[D]=U[D])}return R.default=U,I&&I.set(U,R),R}(L("../core/constants")),y=L("./p5.Texture"),w=L("./p5.RendererGL");function b(){var U;return"function"!=typeof WeakMap?null:(b=function(){return U},U=new WeakMap)}function l(U,I){return function(D){if(Array.isArray(D))return D}(U)||function(D,R){if(Symbol.iterator in Object(D)||"[object Arguments]"===Object.prototype.toString.call(D)){var V=[],N=!0,Q=!1,T=void 0;try{for(var K,se=D[Symbol.iterator]();!(N=(K=se.next()).done)&&(V.push(K.value),!R||V.length!==R);N=!0);}catch(fe){Q=!0,T=fe}finally{try{N||null==se.return||se.return()}finally{if(Q)throw T}}return V}}(U,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(U,I,D){return I in U?Object.defineProperty(U,I,{value:D,enumerable:!0,configurable:!0,writable:!0}):U[I]=D,U}function s(U){return(s="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(I){return f(I)}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":f(I)})(U)}function c(U,I){if(!(U instanceof I))throw new TypeError("Cannot call a class as a function")}function p(U,I){for(var D=0;D<I.length;D++){var R=I[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(U,R.key,R)}}function v(U,I,D){I&&p(U.prototype,I),D&&p(U,D)}function a(U,I,D){return(a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,V,N){if(Q=function(T,K){for(;!Object.prototype.hasOwnProperty.call(T,K)&&null!==(T=$(T)););return T}(Q,V))return(Q=Object.getOwnPropertyDescriptor(Q,V)).get?Q.get.call(N):Q.value})(U,I,D||U)}function g(U,I){return(g=Object.setPrototypeOf||function(D,R){return D.__proto__=R,D})(U,I)}function $(U){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(U)}var k=function(U){var I=R;if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(U&&U.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),U&&g(I,U);var D=function E(U){return function(){var I,D=$(U);if(I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(I=$(this).constructor,Reflect.construct(D,arguments,I)):D.apply(this,arguments),D=this,!I||"object"!==s(I)&&"function"!=typeof I){if(void 0!==D)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return I}}(R);function R(V){var N;return c(this,R),(N=D.call(this,V.target._renderer)).fbo=V,N.yScale=-1,N}return v(R,[{key:"_computeCameraDefaultSettings",value:function(){a($(R.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),R}(m.default.Camera),M=(m.default.FramebufferCamera=k,function(){function U(I,D){c(this,U),this.framebuffer=I,this.property=D}return v(U,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),U}()),A=(m.default.FramebufferTexture=M,function(){function U(I){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(c(this,U),this.target=I,this.target._renderer.framebuffers.add(this),this.pixels=[],this.format=D.format||d.UNSIGNED_BYTE,this.channels=D.channels||(I._renderer._pInst._glAttributes.alpha?d.RGBA:d.RGB),this.useDepth=void 0===D.depth||D.depth,this.depthFormat=D.depthFormat||d.FLOAT,this.textureFiltering=D.textureFiltering||d.LINEAR,this.antialiasSamples=void 0===D.antialias?I._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof D.antialias?D.antialias:D.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&I.webglVersion!==d.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),D.width&&D.height?(this.width=D.width,this.height=D.height,this.autoSized=!1):(void 0===D.width!=(void 0===D.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=I.width,this.height=I.height,this.autoSized=!0),this.density=D.density||I.pixelDensity(),this.gl=D=I._renderer.GL,this._checkIfFormatsAvailable(),this.framebuffer=D.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=D.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),I=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=I}return v(U,[{key:"resize",value:function(I,D){this.autoSized=!1,this.width=I,this.height=D,this._handleResize()}},{key:"pixelDensity",value:function(I){if(!I)return this.density;this.autoSized=!1,this.density=I,this._handleResize()}},{key:"autoSized",value:function(I){if(void 0===I)return this.autoSized;this.autoSized=I,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var I=this.gl;(this.useDepth&&this.target.webglVersion===d.WEBGL&&!I.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===d.WEBGL&&this.depthFormat===d.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),[d.UNSIGNED_BYTE,d.FLOAT,d.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&![d.UNSIGNED_INT,d.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=d.FLOAT),I=(0,y.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==d.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&!I.float&&this.depthFormat===d.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),I.halfFloat||this.format!==d.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.channels===d.RGB&&[d.FLOAT,d.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=d.RGBA)}},{key:"_recreateTextures",value:function(){var I=this.gl,D=(this._updateSize(),I.getParameter(I.TEXTURE_BINDING_2D)),R=I.getParameter(I.FRAMEBUFFER_BINDING);if(!(V=I.createTexture()))throw new Error("Unable to create color texture");I.bindTexture(I.TEXTURE_2D,V);var N=this._glColorFormat();if(I.texImage2D(I.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,null),this.colorTexture=V,I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,V,0),this.useDepth){var V;if(!(V=I.createTexture()))throw new Error("Unable to create depth texture");var Q=this._glDepthFormat();I.bindTexture(I.TEXTURE_2D,V),I.texImage2D(I.TEXTURE_2D,0,Q.internalFormat,this.width*this.density,this.height*this.density,0,Q.format,Q.type,null),I.framebufferTexture2D(I.FRAMEBUFFER,I.DEPTH_ATTACHMENT,I.TEXTURE_2D,V,0),this.depthTexture=V}this.antialias&&(this.colorRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.colorRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),N.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(Q=this._glDepthFormat(),this.depthRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.depthRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),Q.internalFormat,this.width*this.density,this.height*this.density)),I.bindFramebuffer(I.FRAMEBUFFER,this.aaFramebuffer),I.framebufferRenderbuffer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&I.framebufferRenderbuffer(I.FRAMEBUFFER,I.DEPTH_ATTACHMENT,I.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new M(this,"depthTexture"),this.depthP5Texture=new m.default.Texture(this.target._renderer,this.depth,{minFilter:V=I.NEAREST,magFilter:V}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new M(this,"colorTexture"),this.colorP5Texture=new m.default.Texture(this.target._renderer,this.color,{glMinFilter:N=this.textureFiltering===d.LINEAR?I.LINEAR:I.NEAREST,glMagFilter:N}),this.target._renderer.textures.set(this.color,this.colorP5Texture),I.bindTexture(I.TEXTURE_2D,D),I.bindFramebuffer(I.FRAMEBUFFER,R)}},{key:"_glColorFormat",value:function(){var I,D,R=this.gl,V=this.format===d.FLOAT?R.FLOAT:this.format===d.HALF_FLOAT?this.target.webglVersion===d.WEBGL2?R.HALF_FLOAT:R.getExtension("OES_texture_half_float").HALF_FLOAT_OES:R.UNSIGNED_BYTE,N=this.channels===d.RGBA?R.RGBA:R.RGB;return{internalFormat:this.target.webglVersion===d.WEBGL2?(h(D={},R.FLOAT,h({},R.RGBA,R.RGBA32F)),h(D,R.HALF_FLOAT,h({},R.RGBA,R.RGBA16F)),h(D,R.UNSIGNED_BYTE,(h(I={},R.RGBA,R.RGBA8),h(I,R.RGB,R.RGB8),I)),D[V][N]):this.format===d.HALF_FLOAT?R.RGBA:N,format:N,type:V}}},{key:"_glDepthFormat",value:function(){var R=this.gl,I=this.depthFormat===d.FLOAT?R.FLOAT:R.UNSIGNED_INT,D=R.DEPTH_COMPONENT;return{internalFormat:R=this.target.webglVersion===d.WEBGL2?this.depthFormat===d.FLOAT?R.DEPTH_COMPONENT32F:R.DEPTH_COMPONENT24:R.DEPTH_COMPONENT,format:D,type:I}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var I=this.depth,D=this.colorRenderbuffer,R=this.depthRenderbuffer,V=(this._deleteTexture(V=this.color),I&&this._deleteTexture(I),this.gl);D&&V.deleteRenderbuffer(D),R&&V.deleteRenderbuffer(R),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var I=new k(this);return I._computeCameraDefaultSettings(),I._setDefaultCamera(),this.target._renderer._curCamera=I}},{key:"_deleteTexture",value:function(I){this.gl.deleteTexture(I.rawTexture()),this.target._renderer.textures.delete(I)}},{key:"remove",value:function(){var I=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),I.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&I.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&I.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&I.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){var I=this.gl;this.prevFramebuffer=I.getParameter(I.FRAMEBUFFER_BINDING),I.bindFramebuffer(I.FRAMEBUFFER,this.antialias?this.aaFramebuffer:this.framebuffer),this.prevViewport=I.getParameter(I.VIEWPORT),I.viewport(0,0,this.width*this.density,this.height*this.density),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"end",value:function(){var I=this.gl;if(this.antialias){I.bindFramebuffer(I.READ_FRAMEBUFFER,this.aaFramebuffer),I.bindFramebuffer(I.DRAW_FRAMEBUFFER,this.framebuffer);var D=[[I.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]];this.useDepth&&D.push([I.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var R=0,V=D;R<V.length;R++){var Q=l(V[R],2);I.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,Q[0],Q=Q[1])}}I.bindFramebuffer(I.FRAMEBUFFER,this.prevFramebuffer),I.viewport.apply(I,function i(U){return function(I){if(Array.isArray(I)){for(var D=0,R=new Array(I.length);D<I.length;D++)R[D]=I[D];return R}}(U)||function(I){if(Symbol.iterator in Object(I)||"[object Arguments]"===Object.prototype.toString.call(I))return Array.from(I)}(U)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.prevViewport)),this.target.pop()}},{key:"draw",value:function(I){this.begin(),I(),this.end()}},{key:"loadPixels",value:function(){var I=this.gl,D=I.getParameter(I.FRAMEBUFFER_BINDING),R=(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,I,this.framebuffer,0,0,this.width*this.density,this.height*this.density,R.format,R.type),I.bindFramebuffer(I.FRAMEBUFFER,D)}},{key:"get",value:function(I,D,R,V){m.default._validateParameters("p5.Framebuffer.get",arguments);var N=this._glColorFormat();if(void 0===I&&void 0===D)D=I=0,R=this.width,V=this.height;else if(void 0===R&&void 0===V)return(I<0||D<0||I>=this.width||D>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),I=this.target.constrain(I,0,this.width-1),D=this.target.constrain(D,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,I*this.density,D*this.density,N.format,N.type);I=this.target.constrain(I,0,this.width-1),D=this.target.constrain(D,0,this.height-1),R=this.target.constrain(R,1,this.width-I),V=this.target.constrain(V,1,this.height-D);for(var Q=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,I*this.density,D*this.density,R*this.density,V*this.density,N.format,N.type),T=new Uint8ClampedArray(R*V*this.density*this.density*4),K=(T.fill(255),N.type===this.gl.RGB?3:4),se=0;se<V*this.density;se++)for(var fe=0;fe<R*this.density;fe++)for(var Ie=0;Ie<4;Ie++){var ie=4*(se*R*this.density+fe)+Ie;Ie<K&&(T[ie]=Q[4==K?ie:(se*R*this.density+fe)*K+Ie])}return(I=new m.default.Image(R*this.density,V*this.density)).imageData=I.canvas.getContext("2d").createImageData(I.width,I.height),I.imageData.data.set(T),I.pixels=I.imageData.data,I.updatePixels(),1!==this.density&&I.resize(R,V),I}},{key:"updatePixels",value:function(){var I=this.gl,D=(this.colorP5Texture.bindTexture(),this._glColorFormat()),R=this.width*this.height*this.density*this.density*(R=D.format===I.RGBA?4:3),V=D.type===I.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof V)||this.pixels.length!==R)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");I.texImage2D(I.TEXTURE_2D,0,D.internalFormat,this.width*this.density,this.height*this.density,0,D.format,D.type,this.pixels),this.colorP5Texture.unbindTexture(),this.prevFramebuffer=I.getParameter(I.FRAMEBUFFER_BINDING),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),this.end()):(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),I.bindFramebuffer(I.FRAMEBUFFER,this.prevFramebuffer))}}]),U}());L=m.default.Framebuffer=A,O.default=L},{"../core/constants":262,"../core/main":273,"./p5.RendererGL":328,"./p5.Texture":330,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],323:[function(r,G,O){"use strict";r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};function m(d,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}f.default.Geometry=function(){function d(i,l,h){if(this instanceof d)return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=void 0!==i?i:1,this.detailY=void 0!==l?l:1,this.dirtyFlags={},h instanceof Function&&h.call(this),this;throw new TypeError("Cannot call a class as a function")}var y,w;return y=d,(w=[{key:"reset",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var i,l,h,s=this.detailX+1,c=0;c<this.detailY;c++)for(var p=0;p<this.detailX;p++)l=(c+1)*s+p+1,this.faces.push([c*s+p,i=c*s+p+1,h=(c+1)*s+p]),this.faces.push([h,i,l]);return this}},{key:"_getFaceNormal",value:function(l){var h=this.vertices[(l=this.faces[l])[0]],c=this.vertices[l[1]],s=(l=this.vertices[l[2]],c=f.default.Vector.sub(c,h),l=f.default.Vector.sub(l,h),h=f.default.Vector.cross(c,l),f.default.Vector.mag(h));return 0==(c=s/(f.default.Vector.mag(c)*f.default.Vector.mag(l)))||isNaN(c)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),h):(1<c&&(c=1),h.mult(Math.asin(c)/s))}},{key:"computeNormals",value:function(){for(var i=this,l=this.vertexNormals,h=this.vertices,s=this.faces,c=l.length=0;c<h.length;++c)l.push(new f.default.Vector);for(s.forEach(function(p,v){for(var a=i._getFaceNormal(v),g=0;g<3;++g)l[p[g]].add(a)}),c=0;c<h.length;++c)l[c].normalize();return this}},{key:"averageNormals",value:function(){for(var i=0;i<=this.detailY;i++){var l=this.detailX+1,h=f.default.Vector.add(this.vertexNormals[i*l],this.vertexNormals[i*l+this.detailX]);h=f.default.Vector.div(h,2),this.vertexNormals[i*l]=h,this.vertexNormals[i*l+this.detailX]=h}return this}},{key:"averagePoleNormals",value:function(){for(var i=new f.default.Vector(0,0,0),l=0;l<this.detailX;l++)i.add(this.vertexNormals[l]);i=f.default.Vector.div(i,this.detailX);for(var h=0;h<this.detailX;h++)this.vertexNormals[h]=i;i=new f.default.Vector(0,0,0);for(var s=this.vertices.length-1;s>this.vertices.length-1-this.detailX;s--)i.add(this.vertexNormals[s]);i=f.default.Vector.div(i,this.detailX);for(var c=this.vertices.length-1;c>this.vertices.length-1-this.detailX;c--)this.vertexNormals[c]=i;return this}},{key:"_makeTriangleEdges",value:function(){for(var i=this.edges.length=0;i<this.faces.length;i++)this.edges.push([this.faces[i][0],this.faces[i][1]]),this.edges.push([this.faces[i][1],this.faces[i][2]]),this.edges.push([this.faces[i][2],this.faces[i][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var i,l=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],h=!1,s=0;s<this.edges.length;s++){var c=this.edges[s-1],p=this.edges[s],v=this.vertices[p[0]],a=this.vertices[p[1]],g=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*p[0],4*(p[0]+1)):[0,0,0,0],E=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*p[1],4*(p[1]+1)):[0,0,0,0],$=a.copy().sub(v).normalize(),k=0<$.magSq();k&&this._addSegment(v,a,g,E,$),0<s&&c[1]===p[0]?(i&&k&&$.dot(i)<1-1e-8&&this._addJoin(v,i,$,g),!k||h||l||(this._addCap(v,$.copy().mult(-1),g),h=!0)):(h=!1,k&&(!l||0<s)&&(this._addCap(v,$.copy().mult(-1),g),h=!0),i&&(!l||s<this.edges.length-1)&&(this._addCap(this.vertices[c[1]],i,g),i=void 0)),s===this.edges.length-1&&(l?this._addJoin(a,$,this.vertices[this.edges[0][1]].copy().sub(a).normalize(),E):this._addCap(a,$,E)),k&&(i=$)}return this}},{key:"_addSegment",value:function(p,v,h,s,c){p=p.array(),v=v.array();var a=c.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var g=0,E=[this.lineTangentsIn,this.lineTangentsOut];g<E.length;g++)E[g].push(a,a,a,a,a,a);return this.lineVertices.push(p,p,v,v,p,v),this.lineVertexColors.push(h,h,s,s,h,s),this}},{key:"_addCap",value:function(i,l,h){for(var s=i.array(),c=l.array(),p=[0,0,0],v=0;v<6;v++)this.lineVertices.push(s),this.lineTangentsIn.push(c),this.lineTangentsOut.push(p),this.lineVertexColors.push(h);return this.lineSides.push(-1,-2,2,2,1,-1),this}},{key:"_addJoin",value:function(i,l,h,s){for(var c=i.array(),p=l.array(),v=h.array(),a=0;a<12;a++)this.lineVertices.push(c),this.lineTangentsIn.push(p),this.lineTangentsOut.push(v),this.lineVertexColors.push(s);for(var g=0,E=[-1,1];g<E.length;g++){var $=E[g];this.lineSides.push($,2*$,3*$,$,3*$,0)}return this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var i=this.vertices[0].copy(),l=this.vertices[0].copy(),h=0;h<this.vertices.length;h++)i.x=Math.max(i.x,this.vertices[h].x),l.x=Math.min(l.x,this.vertices[h].x),i.y=Math.max(i.y,this.vertices[h].y),l.y=Math.min(l.y,this.vertices[h].y),i.z=Math.max(i.z,this.vertices[h].z),l.z=Math.min(l.z,this.vertices[h].z);for(var s=f.default.Vector.lerp(i,l,.5),c=f.default.Vector.sub(i,l),p=200/Math.max(Math.max(c.x,c.y),c.z),v=0;v<this.vertices.length;v++)this.vertices[v].sub(s),this.vertices[v].mult(p)}return this}}])&&m(y.prototype,w),d}(),O.default=r=f.default.Geometry},{"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.slice":164,"core-js/modules/es.string.sub":198,"core-js/modules/web.dom-collections.for-each":235}],324:[function(w,G,O){"use strict";w("core-js/modules/es.array.iterator"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.typed-array.float32-array"),w("core-js/modules/es.typed-array.copy-within"),w("core-js/modules/es.typed-array.every"),w("core-js/modules/es.typed-array.fill"),w("core-js/modules/es.typed-array.filter"),w("core-js/modules/es.typed-array.find"),w("core-js/modules/es.typed-array.find-index"),w("core-js/modules/es.typed-array.for-each"),w("core-js/modules/es.typed-array.includes"),w("core-js/modules/es.typed-array.index-of"),w("core-js/modules/es.typed-array.iterator"),w("core-js/modules/es.typed-array.join"),w("core-js/modules/es.typed-array.last-index-of"),w("core-js/modules/es.typed-array.map"),w("core-js/modules/es.typed-array.reduce"),w("core-js/modules/es.typed-array.reduce-right"),w("core-js/modules/es.typed-array.reverse"),w("core-js/modules/es.typed-array.set"),w("core-js/modules/es.typed-array.slice"),w("core-js/modules/es.typed-array.some"),w("core-js/modules/es.typed-array.sort"),w("core-js/modules/es.typed-array.subarray"),w("core-js/modules/es.typed-array.to-locale-string"),w("core-js/modules/es.typed-array.to-string"),w("core-js/modules/es.array.iterator"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.typed-array.float32-array"),w("core-js/modules/es.typed-array.copy-within"),w("core-js/modules/es.typed-array.every"),w("core-js/modules/es.typed-array.fill"),w("core-js/modules/es.typed-array.filter"),w("core-js/modules/es.typed-array.find"),w("core-js/modules/es.typed-array.find-index"),w("core-js/modules/es.typed-array.for-each"),w("core-js/modules/es.typed-array.includes"),w("core-js/modules/es.typed-array.index-of"),w("core-js/modules/es.typed-array.iterator"),w("core-js/modules/es.typed-array.join"),w("core-js/modules/es.typed-array.last-index-of"),w("core-js/modules/es.typed-array.map"),w("core-js/modules/es.typed-array.reduce"),w("core-js/modules/es.typed-array.reduce-right"),w("core-js/modules/es.typed-array.reverse"),w("core-js/modules/es.typed-array.set"),w("core-js/modules/es.typed-array.slice"),w("core-js/modules/es.typed-array.some"),w("core-js/modules/es.typed-array.sort"),w("core-js/modules/es.typed-array.subarray"),w("core-js/modules/es.typed-array.to-locale-string"),w("core-js/modules/es.typed-array.to-string"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(w=w("../core/main"))&&w.__esModule?w:{default:w};function m(b,i){for(var l=0;l<i.length;l++){var h=i[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(b,h.key,h)}}var d=Array,y=function(b){return Array.isArray(b)};typeof Float32Array<"u"&&(d=Float32Array,y=function(b){return Array.isArray(b)||b instanceof Float32Array}),f.default.Matrix=function(){function b(){var s=this,c=b;if(s instanceof c)return arguments.length&&((s=arguments.length-1)<0||arguments.length<=s?void 0:arguments[s])instanceof f.default&&(this.p5=(c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new d([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new d([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var i,l,h;return i=b,h=[{key:"identity",value:function(s){return new f.default.Matrix(s)}}],(l=[{key:"set",value:function(s){return s instanceof f.default.Matrix?this.mat4=s.mat4:y(s)?this.mat4=s:16===arguments.length&&(this.mat4[0]=s,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new f.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var s;return void 0!==this.mat3?((s=new f.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],s.mat3[1]=this.mat3[1],s.mat3[2]=this.mat3[2],s.mat3[3]=this.mat3[3],s.mat3[4]=this.mat3[4],s.mat3[5]=this.mat3[5],s.mat3[6]=this.mat3[6],s.mat3[7]=this.mat3[7],s.mat3[8]=this.mat3[8]):((s=new f.default.Matrix(this.p5)).mat4[0]=this.mat4[0],s.mat4[1]=this.mat4[1],s.mat4[2]=this.mat4[2],s.mat4[3]=this.mat4[3],s.mat4[4]=this.mat4[4],s.mat4[5]=this.mat4[5],s.mat4[6]=this.mat4[6],s.mat4[7]=this.mat4[7],s.mat4[8]=this.mat4[8],s.mat4[9]=this.mat4[9],s.mat4[10]=this.mat4[10],s.mat4[11]=this.mat4[11],s.mat4[12]=this.mat4[12],s.mat4[13]=this.mat4[13],s.mat4[14]=this.mat4[14],s.mat4[15]=this.mat4[15]),s}},{key:"transpose",value:function(s){var c,p,v,a,g,E;return s instanceof f.default.Matrix?(c=s.mat4[1],p=s.mat4[2],v=s.mat4[3],a=s.mat4[6],g=s.mat4[7],E=s.mat4[11],this.mat4[0]=s.mat4[0],this.mat4[1]=s.mat4[4],this.mat4[2]=s.mat4[8],this.mat4[3]=s.mat4[12],this.mat4[4]=c,this.mat4[5]=s.mat4[5],this.mat4[6]=s.mat4[9],this.mat4[7]=s.mat4[13],this.mat4[8]=p,this.mat4[9]=a,this.mat4[10]=s.mat4[10],this.mat4[11]=s.mat4[14],this.mat4[12]=v,this.mat4[13]=g,this.mat4[14]=E,this.mat4[15]=s.mat4[15]):y(s)&&(c=s[1],p=s[2],v=s[3],a=s[6],g=s[7],E=s[11],this.mat4[0]=s[0],this.mat4[1]=s[4],this.mat4[2]=s[8],this.mat4[3]=s[12],this.mat4[4]=c,this.mat4[5]=s[5],this.mat4[6]=s[9],this.mat4[7]=s[13],this.mat4[8]=p,this.mat4[9]=a,this.mat4[10]=s[10],this.mat4[11]=s[14],this.mat4[12]=v,this.mat4[13]=g,this.mat4[14]=E,this.mat4[15]=s[15]),this}},{key:"invert",value:function(N){N instanceof f.default.Matrix?(c=N.mat4[0],p=N.mat4[1],v=N.mat4[2],a=N.mat4[3],g=N.mat4[4],E=N.mat4[5],$=N.mat4[6],k=N.mat4[7],M=N.mat4[8],A=N.mat4[9],L=N.mat4[10],U=N.mat4[11],I=N.mat4[12],D=N.mat4[13],R=N.mat4[14],V=N.mat4[15]):y(N)&&(c=N[0],p=N[1],v=N[2],a=N[3],g=N[4],E=N[5],$=N[6],k=N[7],M=N[8],A=N[9],L=N[10],U=N[11],I=N[12],D=N[13],R=N[14],V=N[15]);var c,p,v,a,g,E,$,k,M,A,L,U,I,D,R,V,Q=c*$-v*g,T=c*k-a*g,K=p*$-v*E,se=p*k-a*E,fe=v*k-a*$,Ie=M*D-A*I,Z=M*R-L*I,ie=M*V-U*I,pe=A*R-L*D,we=A*V-U*D,Re=L*V-U*R,$e=(N=c*E-p*g)*Re-Q*we+T*pe+K*ie-se*Z+fe*Ie;return $e?(this.mat4[0]=(E*Re-$*we+k*pe)*($e=1/$e),this.mat4[1]=(v*we-p*Re-a*pe)*$e,this.mat4[2]=(D*fe-R*se+V*K)*$e,this.mat4[3]=(L*se-A*fe-U*K)*$e,this.mat4[4]=($*ie-g*Re-k*Z)*$e,this.mat4[5]=(c*Re-v*ie+a*Z)*$e,this.mat4[6]=(R*T-I*fe-V*Q)*$e,this.mat4[7]=(M*fe-L*T+U*Q)*$e,this.mat4[8]=(g*we-E*ie+k*Ie)*$e,this.mat4[9]=(p*ie-c*we-a*Ie)*$e,this.mat4[10]=(I*se-D*T+V*N)*$e,this.mat4[11]=(A*T-M*se-U*N)*$e,this.mat4[12]=(E*Z-g*pe-$*Ie)*$e,this.mat4[13]=(c*pe-p*Z+v*Ie)*$e,this.mat4[14]=(D*Q-I*K-R*N)*$e,this.mat4[15]=(M*K-A*Q+L*N)*$e,this):null}},{key:"invert3x3",value:function(){var s=this.mat3[0],c=this.mat3[1],p=this.mat3[2],v=this.mat3[3],a=this.mat3[4],g=this.mat3[5],E=this.mat3[6],$=this.mat3[7],k=this.mat3[8],M=k*a-g*$,A=-k*v+g*E,L=$*v-a*E,U=s*M+c*A+p*L;return U?(this.mat3[0]=M*(U=1/U),this.mat3[1]=(-k*c+p*$)*U,this.mat3[2]=(g*c-p*a)*U,this.mat3[3]=A*U,this.mat3[4]=(k*s-p*E)*U,this.mat3[5]=(-g*s+p*v)*U,this.mat3[6]=L*U,this.mat3[7]=(-$*s+c*E)*U,this.mat3[8]=(a*s-c*v)*U,this):null}},{key:"transpose3x3",value:function(s){var c=(s=void 0===s?this.mat3:s)[1],p=s[2],v=s[5];return this.mat3[0]=s[0],this.mat3[1]=s[3],this.mat3[2]=s[6],this.mat3[3]=c,this.mat3[4]=s[4],this.mat3[5]=s[7],this.mat3[6]=p,this.mat3[7]=v,this.mat3[8]=s[8],this}},{key:"inverseTranspose",value:function(s){if(s=s.mat4,void 0===this.mat3?f.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=s[0],this.mat3[1]=s[1],this.mat3[2]=s[2],this.mat3[3]=s[4],this.mat3[4]=s[5],this.mat3[5]=s[6],this.mat3[6]=s[8],this.mat3[7]=s[9],this.mat3[8]=s[10]),s=this.invert3x3())s.transpose3x3(this.mat3);else for(var c=0;c<9;c++)this.mat3[c]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(p){var c;if(p===this||p===this.mat4)c=this.copy().mat4;else if(p instanceof f.default.Matrix)c=p.mat4;else if(y(p))c=p;else{if(16!==arguments.length)return;c=arguments}var v=this.mat4[1],a=this.mat4[2],g=this.mat4[3];return this.mat4[0]=(p=this.mat4[0])*c[0]+v*c[4]+a*c[8]+g*c[12],this.mat4[1]=p*c[1]+v*c[5]+a*c[9]+g*c[13],this.mat4[2]=p*c[2]+v*c[6]+a*c[10]+g*c[14],this.mat4[3]=p*c[3]+v*c[7]+a*c[11]+g*c[15],this.mat4[4]=(p=this.mat4[4])*c[0]+(v=this.mat4[5])*c[4]+(a=this.mat4[6])*c[8]+(g=this.mat4[7])*c[12],this.mat4[5]=p*c[1]+v*c[5]+a*c[9]+g*c[13],this.mat4[6]=p*c[2]+v*c[6]+a*c[10]+g*c[14],this.mat4[7]=p*c[3]+v*c[7]+a*c[11]+g*c[15],this.mat4[8]=(p=this.mat4[8])*c[0]+(v=this.mat4[9])*c[4]+(a=this.mat4[10])*c[8]+(g=this.mat4[11])*c[12],this.mat4[9]=p*c[1]+v*c[5]+a*c[9]+g*c[13],this.mat4[10]=p*c[2]+v*c[6]+a*c[10]+g*c[14],this.mat4[11]=p*c[3]+v*c[7]+a*c[11]+g*c[15],this.mat4[12]=(p=this.mat4[12])*c[0]+(v=this.mat4[13])*c[4]+(a=this.mat4[14])*c[8]+(g=this.mat4[15])*c[12],this.mat4[13]=p*c[1]+v*c[5]+a*c[9]+g*c[13],this.mat4[14]=p*c[2]+v*c[6]+a*c[10]+g*c[14],this.mat4[15]=p*c[3]+v*c[7]+a*c[11]+g*c[15],this}},{key:"apply",value:function(p){var c;if(p===this||p===this.mat4)c=this.copy().mat4;else if(p instanceof f.default.Matrix)c=p.mat4;else if(y(p))c=p;else{if(16!==arguments.length)return;c=arguments}var a,g,E,v=((p=this.mat4)[0]=c[0]*(v=p[0])+c[1]*(a=p[4])+c[2]*(g=p[8])+c[3]*(E=p[12]),p[4]=c[4]*v+c[5]*a+c[6]*g+c[7]*E,p[8]=c[8]*v+c[9]*a+c[10]*g+c[11]*E,p[12]=c[12]*v+c[13]*a+c[14]*g+c[15]*E,p[1]);return p[1]=c[0]*v+c[1]*(a=p[5])+c[2]*(g=p[9])+c[3]*(E=p[13]),p[5]=c[4]*v+c[5]*a+c[6]*g+c[7]*E,p[9]=c[8]*v+c[9]*a+c[10]*g+c[11]*E,p[13]=c[12]*v+c[13]*a+c[14]*g+c[15]*E,p[2]=c[0]*(v=p[2])+c[1]*(a=p[6])+c[2]*(g=p[10])+c[3]*(E=p[14]),p[6]=c[4]*v+c[5]*a+c[6]*g+c[7]*E,p[10]=c[8]*v+c[9]*a+c[10]*g+c[11]*E,p[14]=c[12]*v+c[13]*a+c[14]*g+c[15]*E,p[3]=c[0]*(v=p[3])+c[1]*(a=p[7])+c[2]*(g=p[11])+c[3]*(E=p[15]),p[7]=c[4]*v+c[5]*a+c[6]*g+c[7]*E,p[11]=c[8]*v+c[9]*a+c[10]*g+c[11]*E,p[15]=c[12]*v+c[13]*a+c[14]*g+c[15]*E,this}},{key:"scale",value:function(s,c,p){return s instanceof f.default.Vector?(c=s.y,p=s.z,s=s.x):s instanceof Array&&(c=s[1],p=s[2],s=s[0]),this.mat4[0]*=s,this.mat4[1]*=s,this.mat4[2]*=s,this.mat4[3]*=s,this.mat4[4]*=c,this.mat4[5]*=c,this.mat4[6]*=c,this.mat4[7]*=c,this.mat4[8]*=p,this.mat4[9]*=p,this.mat4[10]*=p,this.mat4[11]*=p,this}},{key:"rotate",value:function(N,we,pe,v){we instanceof f.default.Vector?(pe=we.y,v=we.z,we=we.x):we instanceof Array&&(pe=we[1],v=we[2],we=we[0]);var a=(we*=1/(a=Math.sqrt(we*we+pe*pe+v*v)),pe*=1/a,v*=1/a,this.mat4[0]),g=this.mat4[1],E=this.mat4[2],$=this.mat4[3],k=this.mat4[4],M=this.mat4[5],A=this.mat4[6],L=this.mat4[7],U=this.mat4[8],I=this.mat4[9],D=this.mat4[10],R=this.mat4[11],V=Math.sin(N),Q=1-(N=Math.cos(N)),T=we*we*Q+N,K=pe*we*Q+v*V,se=v*we*Q-pe*V,fe=we*pe*Q-v*V,Ie=pe*pe*Q+N,Z=v*pe*Q+we*V,ie=we*v*Q+pe*V;return pe=pe*v*Q-we*V,we=v*v*Q+N,this.mat4[0]=a*T+k*K+U*se,this.mat4[1]=g*T+M*K+I*se,this.mat4[2]=E*T+A*K+D*se,this.mat4[3]=$*T+L*K+R*se,this.mat4[4]=a*fe+k*Ie+U*Z,this.mat4[5]=g*fe+M*Ie+I*Z,this.mat4[6]=E*fe+A*Ie+D*Z,this.mat4[7]=$*fe+L*Ie+R*Z,this.mat4[8]=a*ie+k*pe+U*we,this.mat4[9]=g*ie+M*pe+I*we,this.mat4[10]=E*ie+A*pe+D*we,this.mat4[11]=$*ie+L*pe+R*we,this}},{key:"translate",value:function(v){var c=v[0],p=v[1];this.mat4[12]+=this.mat4[0]*c+this.mat4[4]*p+this.mat4[8]*(v=v[2]||0),this.mat4[13]+=this.mat4[1]*c+this.mat4[5]*p+this.mat4[9]*v,this.mat4[14]+=this.mat4[2]*c+this.mat4[6]*p+this.mat4[10]*v,this.mat4[15]+=this.mat4[3]*c+this.mat4[7]*p+this.mat4[11]*v}},{key:"rotateX",value:function(s){this.rotate(s,1,0,0)}},{key:"rotateY",value:function(s){this.rotate(s,0,1,0)}},{key:"rotateZ",value:function(s){this.rotate(s,0,0,1)}},{key:"perspective",value:function(a,c,p,v){a=1/Math.tan(a/2);var g=1/(p-v);return this.mat4[0]=a/c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=a,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(v+p)*g,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*v*p*g,this.mat4[15]=0,this}},{key:"ortho",value:function(s,c,p,v,a,g){var E=1/(s-c),$=1/(p-v),k=1/(a-g);return this.mat4[0]=-2*E,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*$,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*k,this.mat4[11]=0,this.mat4[12]=(s+c)*E,this.mat4[13]=(v+p)*$,this.mat4[14]=(g+a)*k,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(s,c,p,v){var a=new Array(4),g=this.mat4;return a[0]=g[0]*s+g[4]*c+g[8]*p+g[12]*v,a[1]=g[1]*s+g[5]*c+g[9]*p+g[13]*v,a[2]=g[2]*s+g[6]*c+g[10]*p+g[14]*v,a[3]=g[3]*s+g[7]*c+g[11]*p+g[15]*v,a}},{key:"multiplyPoint",value:function(p){var v=this.multiplyVec4(v=p.x,p.y,p=p.z,1);return new f.default.Vector(v[0],v[1],v[2])}},{key:"multiplyAndNormalizePoint",value:function(p){var v;return(v=this.multiplyVec4(v=p.x,p.y,p=p.z,1))[0]/=v[3],v[1]/=v[3],v[2]/=v[3],new f.default.Vector(v[0],v[1],v[2])}},{key:"multiplyDirection",value:function(p){var v=this.multiplyVec4(v=p.x,p.y,p=p.z,0);return new f.default.Vector(v[0],v[1],v[2])}},{key:"mult3x3",value:function(p){var c;if(p===this||p===this.mat3)c=this.copy().mat3;else if(p instanceof f.default.Matrix)c=p.mat3;else if(y(p))c=p;else{if(9!==arguments.length)return;c=arguments}var v=this.mat3[1],a=this.mat3[2];return this.mat3[0]=(p=this.mat3[0])*c[0]+v*c[3]+a*c[6],this.mat3[1]=p*c[1]+v*c[4]+a*c[7],this.mat3[2]=p*c[2]+v*c[5]+a*c[8],this.mat3[3]=(p=this.mat3[3])*c[0]+(v=this.mat3[4])*c[3]+(a=this.mat3[5])*c[6],this.mat3[4]=p*c[1]+v*c[4]+a*c[7],this.mat3[5]=p*c[2]+v*c[5]+a*c[8],this.mat3[6]=(p=this.mat3[6])*c[0]+(v=this.mat3[7])*c[3]+(a=this.mat3[8])*c[6],this.mat3[7]=p*c[1]+v*c[4]+a*c[7],this.mat3[8]=p*c[2]+v*c[5]+a*c[8],this}},{key:"column",value:function(s){return new f.default.Vector(this.mat3[s],this.mat3[s+3],this.mat3[s+6])}},{key:"row",value:function(s){return new f.default.Vector(this.mat3[3*s],this.mat3[3*s+1],this.mat3[3*s+2])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(s,c){return(c=void 0===c?s.copy():c).x=this.row(0).dot(s),c.y=this.row(1).dot(s),c.z=this.row(2).dot(s),c}},{key:"createSubMatrix3x3",value:function(){var s=new f.default.Matrix("mat3");return s.mat3[0]=this.mat4[0],s.mat3[1]=this.mat4[1],s.mat3[2]=this.mat4[2],s.mat3[3]=this.mat4[4],s.mat3[4]=this.mat4[5],s.mat3[5]=this.mat4[6],s.mat3[6]=this.mat4[8],s.mat3[7]=this.mat4[9],s.mat3[8]=this.mat4[10],s}}])&&m(i.prototype,l),h&&m(i,h),b}(),O.default=w=f.default.Matrix},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229}],325:[function(r,G,O){"use strict";function f(m,d){for(var y=0;y<d.length;y++){var w=d[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}r("core-js/modules/es.array.map"),r("core-js/modules/es.array.map"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.RenderBuffer=function(){function m(b,i,l,h,s,c){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.size=b,this.src=i,this.dst=l,this.attr=h,this._renderer=s,this.map=c}var d,y;return d=m,(y=[{key:"_prepareBuffer",value:function(b,i){var l,h,s,v,c=this._renderer.GL,p=b.model||b;(v=(v=i.attributes)[this.attr])&&(l=b[this.dst],0<(h=p[this.src]).length?((s=!l)&&(b[this.dst]=l=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,l),!s&&!1===p.dirtyFlags[this.src]||(s=(b=this.map)?b(h):h,this._renderer._bindBuffer(l,c.ARRAY_BUFFER,s),p.dirtyFlags[this.src]=!1),i.enableAttrib(v,this.size)):-1!==(b=v.location)&&this._renderer.registerEnabled[b]&&(c.disableVertexAttribArray(b),this._renderer.registerEnabled[b]=!1))}}])&&f(d.prototype,y),m}(),O.default=r=r.default.RenderBuffer},{"../core/main":273,"core-js/modules/es.array.map":163}],326:[function(r,G,O){"use strict";function f(h){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(h)}function m(h){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(s){return f(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(h)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(l=r("../core/main"))&&l.__esModule?l:{default:l},y=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==m(h)&&"function"!=typeof h)return{default:h};var s=w();if(s&&s.has(h))return s.get(h);var c,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in h){var a;Object.prototype.hasOwnProperty.call(h,c)&&((a=v?Object.getOwnPropertyDescriptor(h,c):null)&&(a.get||a.set)?Object.defineProperty(p,c,a):p[c]=h[c])}return p.default=h,s&&s.set(h,p),p}(r("../core/constants"));function w(){var h;return"function"!=typeof WeakMap?null:(w=function(){return h},h=new WeakMap)}function b(h){return function(s){if(Array.isArray(s)){for(var c=0,p=new Array(s.length);c<s.length;c++)p[c]=s[c];return p}}(h)||function(s){if(Symbol.iterator in Object(s)||"[object Arguments]"===Object.prototype.toString.call(s))return Array.from(s)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r("./p5.RenderBuffer"),d.default.RendererGL.prototype.beginShape=function(h){return this.immediateMode.shapeMode=void 0!==h?h:y.TESS,this.immediateMode.geometry.reset(),this};var i={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(d.default.RendererGL.prototype.vertex=function(h,s){if(this.immediateMode.shapeMode===y.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var c in i){var p=i[c];(c=this.immediateMode.geometry[c]).push.apply(c,b(c.slice(c.length-3*p,c.length-2*p)).concat(b(c.slice(c.length-p,c.length))))}var v,a,g=v=a=0,E=(3===arguments.length?g=arguments[2]:4===arguments.length?(v=arguments[2],a=arguments[3]):5===arguments.length&&(g=arguments[2],v=arguments[3],a=arguments[4]),new d.default.Vector(h,s,g));return this.immediateMode.geometry.vertices.push(E),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((E=this.curFillColor||[.5,.5,.5,1])[0],E[1],E[2],E[3]),this.immediateMode.geometry.vertexStrokeColors.push((E=this.curStrokeColor||[.5,.5,.5,1])[0],E[1],E[2],E[3]),this.textureMode===y.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,a/=this._tex.height):!this.isProcessingVertices&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,a),this.immediateMode._bezierVertex[0]=h,this.immediateMode._bezierVertex[1]=s,this.immediateMode._bezierVertex[2]=g,this.immediateMode._quadraticVertex[0]=h,this.immediateMode._quadraticVertex[1]=s,this.immediateMode._quadraticVertex[2]=g,this},d.default.RendererGL.prototype.normal=function(h,s,c){return this._currentNormal=h instanceof d.default.Vector?h:new d.default.Vector(h,s,c),this},d.default.RendererGL.prototype.endShape=function(h,s,c,p,v,a){return this.immediateMode.shapeMode===y.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},d.default.RendererGL.prototype._processVertices=function(h){var s;0!==this.immediateMode.geometry.vertices.length&&(h=h===y.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,h),this.immediateMode.geometry._edgesToVertices()),s=this.immediateMode.shapeMode===y.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||s)&&this.immediateMode.shapeMode!==y.LINES&&this._tesselateShape())},d.default.RendererGL.prototype._calculateEdges=function(h,s,c){var p=[],v=0;switch(h){case y.TRIANGLE_STRIP:for(v=0;v<s.length-2;v++)p.push([v,v+1]),p.push([v,v+2]);p.push([v,v+1]);break;case y.TRIANGLE_FAN:for(v=1;v<s.length-1;v++)p.push([0,v]),p.push([v,v+1]);p.push([0,s.length-1]);break;case y.TRIANGLES:for(v=0;v<s.length-2;v+=3)p.push([v,v+1]),p.push([v+1,v+2]),p.push([v+2,v]);break;case y.LINES:for(v=0;v<s.length-1;v+=2)p.push([v,v+1]);break;case y.QUADS:for(v=0;v<s.length-5;v+=6)p.push([v,v+1]),p.push([v+1,v+2]),p.push([v+3,v+5]),p.push([v+4,v+5]);break;case y.QUAD_STRIP:for(v=0;v<s.length-2;v+=2)p.push([v,v+1]),p.push([v,v+2]),p.push([v+1,v+3]);p.push([v,v+1]);break;default:for(v=0;v<s.length-1;v++)p.push([v,v+1])}return c&&p.push([s.length-1,0]),p},d.default.RendererGL.prototype._tesselateShape=function(){for(var h=this,s=(this.immediateMode.shapeMode=y.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(g,E){return[g.x,g.y,g.z,h.immediateMode.geometry.uvs[2*E],h.immediateMode.geometry.uvs[2*E+1],h.immediateMode.geometry.vertexColors[4*E],h.immediateMode.geometry.vertexColors[4*E+1],h.immediateMode.geometry.vertexColors[4*E+2],h.immediateMode.geometry.vertexColors[4*E+3],h.immediateMode.geometry.vertexNormals[E].x,h.immediateMode.geometry.vertexNormals[E].y,h.immediateMode.geometry.vertexNormals[E].z]}))]),c=this._triangulate(s),p=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),v=0,a=c.length;v<a;v+=d.default.RendererGL.prototype.tessyVertexSize)p.push.apply(p,b(c.slice(v+5,v+9))),this.normal.apply(this,b(c.slice(v+9,v+12))),this.vertex.apply(this,b(c.slice(v,v+5)));this.immediateMode.geometry.vertexColors=p},d.default.RendererGL.prototype._drawImmediateFill=function(){var h=this.GL,s=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),c=(this._setFillUniforms(s),!0),p=!1,v=void 0;try{for(var a,g=this.immediateMode.buffers.fill[Symbol.iterator]();!(c=(a=g.next()).done);c=!0)a.value._prepareBuffer(this.immediateMode.geometry,s)}catch(E){p=!0,v=E}finally{try{c||null==g.return||g.return()}finally{if(p)throw v}}this.immediateMode.shapeMode!==y.LINE_STRIP&&this.immediateMode.shapeMode!==y.LINES||(this.immediateMode.shapeMode=y.TRIANGLE_FAN),this.immediateMode.shapeMode===y.QUADS?this.immediateMode.shapeMode=y.TRIANGLES:this.immediateMode.shapeMode===y.QUAD_STRIP&&(this.immediateMode.shapeMode=y.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),h.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),s.unbindShader()},d.default.RendererGL.prototype._drawImmediateStroke=function(){var h=this.GL,s=h.isEnabled(h.CULL_FACE),c=(h.disable(h.CULL_FACE),this._getImmediateStrokeShader()),p=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(c),!0),v=!1,a=void 0;try{for(var g,E=this.immediateMode.buffers.stroke[Symbol.iterator]();!(p=(g=E.next()).done);p=!0)g.value._prepareBuffer(this.immediateMode.geometry,c)}catch($){v=!0,a=$}finally{try{p||null==E.return||E.return()}finally{if(v)throw a}}this._applyColorBlend(this.curStrokeColor),h.drawArrays(h.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),s&&h.enable(h.CULL_FACE),c.unbindShader()},d.default.RendererGL);O.default=l},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],327:[function(r,G,O){"use strict";function f(l){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}function m(l){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(h){return f(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var d=(i=r("../core/main"))&&i.__esModule?i:{default:i},y=(r("./p5.RendererGL"),r("./p5.RenderBuffer"),function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==m(l)&&"function"!=typeof l)return{default:l};var h=w();if(h&&h.has(l))return h.get(l);var s,c={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in l){var v;Object.prototype.hasOwnProperty.call(l,s)&&((v=p?Object.getOwnPropertyDescriptor(l,s):null)&&(v.get||v.set)?Object.defineProperty(c,s,v):c[s]=l[s])}return c.default=l,h&&h.set(l,c),c}(r("../core/constants")));function w(){var l;return"function"!=typeof WeakMap?null:(w=function(){return l},l=new WeakMap)}var b=0,i=(d.default.RendererGL.prototype._initBufferDefaults=function(l){var h;return this._freeBuffers(l),1e3<++b&&(h=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[h],b--),this.retainedMode.geometry[l]={}},d.default.RendererGL.prototype._freeBuffers=function(l){var h,s=this.retainedMode.geometry[l];function c(p){var v=!0,a=!1,g=void 0;try{for(var E,$=p[Symbol.iterator]();!(v=(E=$.next()).done);v=!0){var k=E.value;s[k.dst]&&(h.deleteBuffer(s[k.dst]),s[k.dst]=null)}}catch(M){a=!0,g=M}finally{try{v||null==$.return||$.return()}finally{if(a)throw g}}}s&&(delete this.retainedMode.geometry[l],b--,h=this.GL,s.indexBuffer&&h.deleteBuffer(s.indexBuffer),c(this.retainedMode.buffers.stroke),c(this.retainedMode.buffers.fill))},d.default.RendererGL.prototype.createBuffers=function(a,h){var s,c,p,v=this.GL,g=((a=this._initBufferDefaults(a)).model=h,a.indexBuffer);return h.faces.length?(g=g||(a.indexBuffer=v.createBuffer()),p=(c=(s=d.default.RendererGL.prototype._flatten(h.faces)).some(function(E){return 65535<E}))?Uint32Array:Uint16Array,this._bindBuffer(g,v.ELEMENT_ARRAY_BUFFER,s,p),a.indexBufferType=c?v.UNSIGNED_INT:v.UNSIGNED_SHORT,a.vertexCount=3*h.faces.length):(g&&(v.deleteBuffer(g),a.indexBuffer=null),a.vertexCount=h.vertices?h.vertices.length:0),a.lineVertexCount=h.lineVertices?h.lineVertices.length:0,a},d.default.RendererGL.prototype.drawBuffers=function(l){var h=this.GL,s=this.retainedMode.geometry[l];if(this._doFill){this._useVertexColor=0<s.model.vertexColors.length;var c=this._getRetainedFillShader(),p=(this._setFillUniforms(c),!0),v=!1,a=void 0;try{for(var g,E=this.retainedMode.buffers.fill[Symbol.iterator]();!(p=(g=E.next()).done);p=!0)g.value._prepareBuffer(s,c)}catch(U){v=!0,a=U}finally{try{p||null==E.return||E.return()}finally{if(v)throw a}}s.indexBuffer&&this._bindBuffer(s.indexBuffer,h.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(h.TRIANGLES,l),c.unbindShader()}if(this._doStroke&&0<s.lineVertexCount){v=h.isEnabled(h.CULL_FACE);var $=(h.disable(h.CULL_FACE),this._getRetainedStrokeShader()),k=(this._useLineColor=0<s.model.vertexStrokeColors.length,this._setStrokeUniforms($),!0),M=void(a=!1);try{for(var A,L=this.retainedMode.buffers.stroke[Symbol.iterator]();!(k=(A=L.next()).done);k=!0)A.value._prepareBuffer(s,$)}catch(D){a=!0,M=D}finally{try{k||null==L.return||L.return()}finally{if(a)throw M}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(h.TRIANGLES,l),v&&h.enable(h.CULL_FACE),$.unbindShader()}return this},d.default.RendererGL.prototype.drawBuffersScaled=function(l,h,s,c){var p=this.uMVMatrix.copy();try{this.uMVMatrix.scale(h,s,c),this.drawBuffers(l)}finally{this.uMVMatrix=p}},d.default.RendererGL.prototype._drawArrays=function(l,h){return this.GL.drawArrays(l,0,this.retainedMode.geometry[h].lineVertexCount),this},d.default.RendererGL.prototype._drawElements=function(l,s){var c=this.GL;if((s=this.retainedMode.geometry[s]).indexBuffer){if(this._pInst.webglVersion!==y.WEBGL2&&s.indexBufferType===c.UNSIGNED_INT&&!c.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");c.drawElements(c.TRIANGLES,s.vertexCount,s.indexBufferType,0)}else c.drawArrays(l||c.TRIANGLES,0,s.vertexCount)},d.default.RendererGL.prototype._drawPoints=function(l,h){var s=this.GL,c=this._getImmediatePointShader();this._setPointUniforms(c),this._bindBuffer(h,s.ARRAY_BUFFER,this._vToNArray(l),Float32Array,s.STATIC_DRAW),c.enableAttrib(c.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),s.drawArrays(s.Points,0,l.length),c.unbindShader()},d.default.RendererGL);O.default=i},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"./p5.RendererGL":328,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.some":165,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],328:[function(M,G,O){"use strict";function f(D){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(D)}M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.concat"),M("core-js/modules/es.array.copy-within"),M("core-js/modules/es.array.every"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.from"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.array.slice"),M("core-js/modules/es.array.some"),M("core-js/modules/es.map"),M("core-js/modules/es.object.assign"),M("core-js/modules/es.object.get-own-property-descriptor"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.reflect.construct"),M("core-js/modules/es.regexp.to-string"),M("core-js/modules/es.set"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.float64-array"),M("core-js/modules/es.typed-array.int16-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint16-array"),M("core-js/modules/es.typed-array.uint32-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),M("core-js/modules/es.weak-map"),M("core-js/modules/web.dom-collections.iterator"),M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.concat"),M("core-js/modules/es.array.copy-within"),M("core-js/modules/es.array.every"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.from"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.array.slice"),M("core-js/modules/es.array.some"),M("core-js/modules/es.map"),M("core-js/modules/es.object.assign"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.reflect.construct"),M("core-js/modules/es.regexp.to-string"),M("core-js/modules/es.set"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.float64-array"),M("core-js/modules/es.typed-array.int16-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint16-array"),M("core-js/modules/es.typed-array.uint32-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),M("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.readPixelsWebGL=U,O.readPixelWebGL=I,O.default=void 0;var m=b(M("../core/main")),d=function(D){if(D&&D.__esModule)return D;if(null===D||"object"!==i(D)&&"function"!=typeof D)return{default:D};var R=w();if(R&&R.has(D))return R.get(D);var V,N={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(V in D){var T;Object.prototype.hasOwnProperty.call(D,V)&&((T=Q?Object.getOwnPropertyDescriptor(D,V):null)&&(T.get||T.set)?Object.defineProperty(N,V,T):N[V]=D[V])}return N.default=D,R&&R.set(D,N),N}(M("../core/constants")),y=b(M("libtess"));function w(){var D;return"function"!=typeof WeakMap?null:(w=function(){return D},D=new WeakMap)}function b(D){return D&&D.__esModule?D:{default:D}}function i(D){return(i="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(R){return f(R)}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":f(R)})(D)}function l(D){return function(R){if(Array.isArray(R)){for(var V=0,N=new Array(R.length);V<R.length;V++)N[V]=R[V];return N}}(D)||function(R){if(Symbol.iterator in Object(R)||"[object Arguments]"===Object.prototype.toString.call(R))return Array.from(R)}(D)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(D,R){for(var V=0;V<R.length;V++){var N=R[V];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,N.key,N)}}function s(D,R){return(s=Object.setPrototypeOf||function(V,N){return V.__proto__=N,V})(D,R)}function p(D){if(void 0===D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function v(D){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)})(D)}function a(D,R){k+="#define STROKE_CAP_".concat(D," ").concat(R,"\n"),E[d[D]]=R}function g(D,R){k+="#define STROKE_JOIN_".concat(D," ").concat(R,"\n"),$[d[D]]=R}M("./p5.Shader"),M("./p5.Camera"),M("../core/p5.Renderer"),M("./p5.Matrix"),M("path");var E={},$={},k="",A="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n",L={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(a("ROUND",0),a("PROJECT",1),a("SQUARE",2),g("ROUND",0),g("MITER",1),g("BEVEL",2),(M="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n")+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"precision highp float;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:M+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  gl_FragColor = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:A+"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec2 pixelScale = vec2(\n    1. / uModelViewMatrix[0][0],\n    1. / uModelViewMatrix[1][1]\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:A+"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:k+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump float;\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nattribute vec4 aPosition;\nattribute vec3 aTangentIn;\nattribute vec3 aTangentOut;\nattribute float aSide;\nattribute vec4 aVertexColor;\n\nvarying vec4 vColor;\nvarying vec2 vTangent;\nvarying vec2 vCenter;\nvarying vec2 vPosition;\nvarying float vMaxDist;\nvarying float vCap;\nvarying float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5 * curPerspScale;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset / curPerspScale;\n\n  gl_Position.xy = p.xy + offset.xy;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:k+"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nvarying vec4 vColor;\nvarying vec2 vTangent;\nvarying vec2 vCenter;\nvarying vec2 vPosition;\nvarying float vMaxDist;\nvarying float vCap;\nvarying float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n"};function U(D,R,ie,N,Q,T,K,se,fe,Ie){var Z=R.getParameter(R.FRAMEBUFFER_BINDING),pe=T*K*(R.bindFramebuffer(R.FRAMEBUFFER,ie),ie=se===R.RGBA?4:3),we=fe===R.UNSIGNED_BYTE?Uint8Array:Float32Array;if(D instanceof we&&D.length===pe||(D=new we(pe)),R.readPixels(N,Ie?Ie-Q-K:Q,T,K,se,fe,D),R.bindFramebuffer(R.FRAMEBUFFER,Z),Ie)for(var Re=Math.floor(K/2),$e=new we(T*ie),Fe=0;Fe<Re;Fe++){var Ge=Fe*T*4,je=(K-Fe-1)*T*4;$e.set(D.subarray(Ge,Ge+4*T)),D.copyWithin(Ge,je,je+4*T),D.set($e,je)}return D}function I(D,fe,V,N,Q,T,K){var se=D.getParameter(D.FRAMEBUFFER_BINDING);return D.bindFramebuffer(D.FRAMEBUFFER,fe),fe=Q===D.RGBA?4:3,fe=new(T===D.UNSIGNED_BYTE?Uint8Array:Float32Array)(fe),D.readPixels(V,K?K-N-1:N,1,1,Q,T,fe),D.bindFramebuffer(D.FRAMEBUFFER,se),Array.from(fe)}m.default.prototype.setAttributes=function(D,R){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var V=!0;if(void 0!==R?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[D]!==R&&(this._glAttributes[D]=R,V=!1)):D instanceof Object&&this._glAttributes!==D&&(this._glAttributes=D,V=!1),this._renderer.isP3D&&!V){if(!this._setupDone)for(var N in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(N))return void m.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},m.default.RendererGL=function(D){var R=Q;if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),D&&s(R,D);var N=function c(D){return function(){var R,V,N=v(D);return R=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(R=v(this).constructor,Reflect.construct(N,arguments,R)):N.apply(this,arguments),N=this,!(V=R)||"object"!==i(V)&&"function"!=typeof V?p(N):V}}(Q);function Q(T,K,se,fe){if(this instanceof Q)return(T=N.call(this,T,K,se))._setAttributeDefaults(K),T._initContext(),T.isP3D=!0,T.GL=T.drawingContext,T._pInst._setProperty("drawingContext",T.drawingContext),T._isErasing=!1,T._enableLighting=!1,T.ambientLightColors=[],T.specularColors=[1,1,1],T.directionalLightDirections=[],T.directionalLightDiffuseColors=[],T.directionalLightSpecularColors=[],T.pointLightPositions=[],T.pointLightDiffuseColors=[],T.pointLightSpecularColors=[],T.spotLightPositions=[],T.spotLightDirections=[],T.spotLightDiffuseColors=[],T.spotLightSpecularColors=[],T.spotLightAngle=[],T.spotLightConc=[],T.drawMode=d.FILL,T.curFillColor=T._cachedFillStyle=[1,1,1,1],T.curAmbientColor=T._cachedFillStyle=[1,1,1,1],T.curSpecularColor=T._cachedFillStyle=[0,0,0,0],T.curEmissiveColor=T._cachedFillStyle=[0,0,0,0],T.curStrokeColor=T._cachedStrokeStyle=[0,0,0,1],T.curBlendMode=d.BLEND,T._cachedBlendMode=void 0,T.blendExt=T.webglVersion===d.WEBGL2?T.GL:T.GL.getExtension("EXT_blend_minmax"),T._isBlending=!1,T._hasSetAmbient=!1,T._useSpecularMaterial=!1,T._useEmissiveMaterial=!1,T._useNormalMaterial=!1,T._useShininess=1,T._useLineColor=!1,T._useVertexColor=!1,T.registerEnabled=[],T._tint=[255,255,255,255],T.constantAttenuation=1,T.linearAttenuation=0,T.quadraticAttenuation=0,T.uMVMatrix=new m.default.Matrix,T.uPMatrix=new m.default.Matrix,T.uNMatrix=new m.default.Matrix("mat3"),T._currentNormal=new m.default.Vector(0,0,1),T._curCamera=new m.default.Camera(p(T)),T._curCamera._computeCameraDefaultSettings(),T._curCamera._setDefaultCamera(),T.prevTouches=[],T.zoomVelocity=0,T.rotateVelocity=new m.default.Vector(0,0),T.moveVelocity=new m.default.Vector(0,0),T.executeZoom=!1,T.executeRotateAndMove=!1,T._defaultLightShader=void 0,T._defaultImmediateModeShader=void 0,T._defaultNormalShader=void 0,T._defaultColorShader=void 0,T._defaultPointShader=void 0,T.userFillShader=void 0,T.userStrokeShader=void 0,T.userPointShader=void 0,T.retainedMode={geometry:{},buffers:{stroke:[new m.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",p(T),T._flatten),new m.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",p(T),T._flatten),new m.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",p(T),T._flatten),new m.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",p(T),T._flatten),new m.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",p(T))],fill:[new m.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(T),T._vToNArray),new m.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",p(T),T._vToNArray),new m.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",p(T)),new m.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",p(T)),new m.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(T),T._flatten)],text:[new m.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(T),T._vToNArray),new m.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(T),T._flatten)]}},T.immediateMode={geometry:new m.default.Geometry,shapeMode:d.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new m.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",p(T),T._vToNArray),new m.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",p(T),T._vToNArray),new m.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",p(T)),new m.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",p(T)),new m.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",p(T),T._flatten)],stroke:[new m.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",p(T),T._flatten),new m.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",p(T),T._flatten),new m.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",p(T),T._flatten),new m.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",p(T),T._flatten),new m.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",p(T))],point:T.GL.createBuffer()}},T.pointSize=5,T.curStrokeWeight=1,T.curStrokeCap=d.ROUND,T.curStrokeJoin=d.ROUND,T.textures=new Map,T.framebuffers=new Set,T.textureMode=d.IMAGE,T.textureWrapX=d.CLAMP,T.textureWrapY=d.CLAMP,T._tex=null,T._curveTightness=6,T._lookUpTableBezier=[],T._lookUpTableQuadratic=[],T._lutBezierDetail=0,T._lutQuadraticDetail=0,T.isProcessingVertices=!1,T._tessy=T._initTessy(),T.fontInfos={},T._curShader=void 0,T;throw new TypeError("Cannot call a class as a function")}return R=Q,(D=[{key:"_setAttributeDefaults",value:function(T){var K={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};T._glAttributes=null===T._glAttributes?K:Object.assign(K,T._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?d.WEBGL2:d.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var T=this.drawingContext;T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.viewport(0,0,T.drawingBufferWidth,T.drawingBufferHeight),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(T,K){var se,fe=this.width,Ie=this.height,ie=this.canvas.id,Z=this._pInst instanceof m.default.Graphics;Z?((se=this._pInst).canvas.parentNode.removeChild(se.canvas),se.canvas=document.createElement("canvas"),(se._pInst._userNode||document.body).appendChild(se.canvas),m.default.Element.call(se,se.canvas,se._pInst),se.width=fe,se.height=Ie):((se=this.canvas)&&se.parentNode.removeChild(se),(se=document.createElement("canvas")).id=ie,(this._pInst._userNode||document.body).appendChild(se),this._pInst.canvas=se,this.canvas=se),ie=new m.default.RendererGL(this._pInst.canvas,this._pInst,!Z),this._pInst._setProperty("_renderer",ie),ie.resize(fe,Ie),ie._applyDefaults(),Z||this._pInst._elements.push(ie),"function"==typeof K&&setTimeout(function(){K.apply(window._renderer,T)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"background",value:function(){var fe=(fe=this._pInst).color.apply(fe,arguments);this.clear(fe.levels[0]/255,fe.levels[1]/255,fe.levels[2]/255,fe=fe.levels[3]/255)}},{key:"fill",value:function(T,K,se,fe){var Ie=m.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Ie._array,this.drawMode=d.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(T,K,se,fe){var Ie=m.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Ie._array}},{key:"strokeCap",value:function(T){this.curStrokeCap=T}},{key:"strokeJoin",value:function(T){this.curStrokeJoin=T}},{key:"filter",value:function(T){m.default._friendlyError("filter() does not work in WEBGL mode")}},{key:"blendMode",value:function(T){T===d.DARKEST||T===d.LIGHTEST||T===d.ADD||T===d.BLEND||T===d.SUBTRACT||T===d.SCREEN||T===d.EXCLUSION||T===d.REPLACE||T===d.MULTIPLY||T===d.REMOVE?this.curBlendMode=T:T!==d.BURN&&T!==d.OVERLAY&&T!==d.HARD_LIGHT&&T!==d.SOFT_LIGHT&&T!==d.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(T,K){this._isErasing||(this._applyBlendMode(d.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,T/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,K/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"strokeWeight",value:function(T){this.curStrokeWeight!==T&&(this.pointSize=T,this.curStrokeWeight=T)}},{key:"_getPixel",value:function(T,K){var se=this.GL;return I(se,null,T,K,se.RGBA,se.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var T,K,se=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):se._setProperty("pixels",U(se.pixels,K=this.GL,null,0,0,this.width*(T=this._pInst._pixelDensity),this.height*T,K.RGBA,K.UNSIGNED_BYTE,this.height*T))}},{key:"updatePixels",value:function(){var T=this._getTempFramebuffer();T.pixels=this._pixelsState.pixels,T.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(d.CENTER),this._pInst.image(T,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:d.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:d.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(T){return void 0!==this.retainedMode.geometry[T]}},{key:"resize",value:function(Ie,fe){m.default.Renderer.prototype.resize.call(this,Ie,fe),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var se=(void 0!==(Ie=this._pixelsState).pixels&&Ie._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);fe=!1,Ie=void 0;try{for(var Z,ie=this.framebuffers[Symbol.iterator]();!(se=(Z=ie.next()).done);se=!0)Z.value._canvasSizeChanged()}catch(pe){fe=!0,Ie=pe}finally{try{se||null==ie.return||ie.return()}finally{if(fe)throw Ie}}}},{key:"clear",value:function(){var fe=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(((arguments.length<=0?void 0:arguments[0])||0)*fe,((arguments.length<=1?void 0:arguments[1])||0)*fe,((arguments.length<=2?void 0:arguments[2])||0)*fe,fe),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(T,K,se,fe,Ie,Z){16===arguments.length?m.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([T,K,0,0,se,fe,0,0,0,0,1,0,Ie,Z,0,1])}},{key:"translate",value:function(T,K,se){return T instanceof m.default.Vector&&(se=T.z,K=T.y,T=T.x),this.uMVMatrix.translate([T,K,se]),this}},{key:"scale",value:function(T,K,se){return this.uMVMatrix.scale(T,K,se),this}},{key:"rotate",value:function(T,K){return void 0===K?this.rotateZ(T):(m.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(T){return this.rotate(T,1,0,0),this}},{key:"rotateY",value:function(T){return this.rotate(T,0,1,0),this}},{key:"rotateZ",value:function(T){return this.rotate(T,0,0,1),this}},{key:"push",value:function(){var T=m.default.Renderer.prototype.push.apply(this),K=T.properties;return K.uMVMatrix=this.uMVMatrix.copy(),K.uPMatrix=this.uPMatrix.copy(),K._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),K.ambientLightColors=this.ambientLightColors.slice(),K.specularColors=this.specularColors.slice(),K.directionalLightDirections=this.directionalLightDirections.slice(),K.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),K.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),K.pointLightPositions=this.pointLightPositions.slice(),K.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),K.pointLightSpecularColors=this.pointLightSpecularColors.slice(),K.spotLightPositions=this.spotLightPositions.slice(),K.spotLightDirections=this.spotLightDirections.slice(),K.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),K.spotLightSpecularColors=this.spotLightSpecularColors.slice(),K.spotLightAngle=this.spotLightAngle.slice(),K.spotLightConc=this.spotLightConc.slice(),K.userFillShader=this.userFillShader,K.userStrokeShader=this.userStrokeShader,K.userPointShader=this.userPointShader,K.pointSize=this.pointSize,K.curStrokeWeight=this.curStrokeWeight,K.curStrokeColor=this.curStrokeColor,K.curFillColor=this.curFillColor,K.curAmbientColor=this.curAmbientColor,K.curSpecularColor=this.curSpecularColor,K.curEmissiveColor=this.curEmissiveColor,K._hasSetAmbient=this._hasSetAmbient,K._useSpecularMaterial=this._useSpecularMaterial,K._useEmissiveMaterial=this._useEmissiveMaterial,K._useShininess=this._useShininess,K.constantAttenuation=this.constantAttenuation,K.linearAttenuation=this.linearAttenuation,K.quadraticAttenuation=this.quadraticAttenuation,K._enableLighting=this._enableLighting,K._useNormalMaterial=this._useNormalMaterial,K._tex=this._tex,K.drawMode=this.drawMode,K._currentNormal=this._currentNormal,K.curBlendMode=this.curBlendMode,T}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var T=this.userStrokeShader;return T&&T.isStrokeShader()?T:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var T=this.userFillShader;if(this._useNormalMaterial&&(!T||!T.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getImmediateModeShader();return T}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var T=this.userFillShader;if(this._enableLighting){if(!T||!T.isLightShader())return this._getLightShader()}else if(this._tex){if(!T||!T.isTextureShader())return this._getLightShader()}else if(!T)return this._getColorShader();return T}},{key:"_getImmediatePointShader",value:function(){var T=this.userPointShader;return T&&T.isPointShader()?T:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new m.default.Shader(this,L.phongVert,L.phongFrag):new m.default.Shader(this,L.lightVert,L.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new m.default.Shader(this,L.immediateVert,L.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new m.default.Shader(this,L.normalVert,L.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new m.default.Shader(this,L.normalVert,L.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new m.default.Shader(this,L.pointVert,L.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new m.default.Shader(this,L.lineVert,L.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===d.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new m.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+L.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+L.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(T,K){var se="";return this.webglVersion===d.WEBGL2&&(se+="#version 300 es\n#define WEBGL2\n"),"vert"===T?se+="#define VERTEX_SHADER\n":"frag"===T&&(se+="#define FRAGMENT_SHADER\n"),K&&(se+="precision ".concat(K," float;\n")),se}},{key:"_getEmptyTexture",value:function(){var T;return this._emptyTexture||((T=new m.default.Image(1,1)).set(0,0,255),this._emptyTexture=new m.default.Texture(this,T)),this._emptyTexture}},{key:"getTexture",value:function(T){T instanceof m.default.Framebuffer&&(T=T.color);var K=this.textures.get(T);return K||(K=new m.default.Texture(this,T),this.textures.set(T,K),K)}},{key:"createFramebuffer",value:function(T){return new m.default.Framebuffer(this,T)}},{key:"_setStrokeUniforms",value:function(T){T.bindShader(),T.setUniform("uUseLineColor",this._useLineColor),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uStrokeWeight",this.curStrokeWeight),T.setUniform("uStrokeCap",E[this.curStrokeCap]),T.setUniform("uStrokeJoin",$[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(T){T.bindShader(),T.setUniform("uUseVertexColor",this._useVertexColor),T.setUniform("uMaterialColor",this.curFillColor),T.setUniform("isTexture",!!this._tex),this._tex&&T.setUniform("uSampler",this._tex),T.setUniform("uTint",this._tint),T.setUniform("uHasSetAmbient",this._hasSetAmbient),T.setUniform("uAmbientMatColor",this.curAmbientColor),T.setUniform("uSpecularMatColor",this.curSpecularColor),T.setUniform("uEmissiveMatColor",this.curEmissiveColor),T.setUniform("uSpecular",this._useSpecularMaterial),T.setUniform("uEmissive",this._useEmissiveMaterial),T.setUniform("uShininess",this._useShininess),T.setUniform("uUseLighting",this._enableLighting);var K=(T.setUniform("uPointLightCount",K=this.pointLightDiffuseColors.length/3),T.setUniform("uPointLightLocation",this.pointLightPositions),T.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),T.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3);T.setUniform("uDirectionalLightCount",K),T.setUniform("uLightingDirection",this.directionalLightDirections),T.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),T.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),T.setUniform("uAmbientLightCount",K=this.ambientLightColors.length/3),T.setUniform("uAmbientColor",this.ambientLightColors),T.setUniform("uSpotLightCount",K=this.spotLightDiffuseColors.length/3),T.setUniform("uSpotLightAngle",this.spotLightAngle),T.setUniform("uSpotLightConc",this.spotLightConc),T.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),T.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),T.setUniform("uSpotLightLocation",this.spotLightPositions),T.setUniform("uSpotLightDirection",this.spotLightDirections),T.setUniform("uConstantAttenuation",this.constantAttenuation),T.setUniform("uLinearAttenuation",this.linearAttenuation),T.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),T.bindTextures()}},{key:"_setPointUniforms",value:function(T){T.bindShader(),T.setUniform("uMaterialColor",this.curStrokeColor),T.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(T,K,se,fe,Ie){this.GL.bindBuffer(K=K||this.GL.ARRAY_BUFFER,T),void 0!==se&&(T=new(fe||Float32Array)(se),this.GL.bufferData(K,T,Ie||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(T,K){return T.length===K.length&&T.every(function(se,fe){return se===K[fe]})}},{key:"_isTypedArray",value:function(T){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(K){return T instanceof K})}},{key:"_flatten",value:function(T){if(0===T.length)return[];var K;if(2e4<T.length){for(var se=[],fe=T.slice(),Ie=fe.pop();Array.isArray(Ie)?fe.push.apply(fe,l(Ie)):se.push(Ie),fe.length&&void 0!==(Ie=fe.pop()););return se.reverse(),se}return(K=[]).concat.apply(K,l(T))}},{key:"_vToNArray",value:function(T){var K=[],se=!0,fe=!1,Ie=void 0;try{for(var Z,ie=T[Symbol.iterator]();!(se=(Z=ie.next()).done);se=!0){var pe=Z.value;K.push(pe.x,pe.y,pe.z)}}catch(we){fe=!0,Ie=we}finally{try{se||null==ie.return||ie.return()}finally{if(fe)throw Ie}}return K}},{key:"_bezierCoefficients",value:function(T){var K=T*T,se=1-T,fe=se*se;return[fe*se,3*fe*T,3*se*K,K*T]}},{key:"_quadraticCoefficients",value:function(T){var K=1-T;return[K*K,2*K*T,T*T]}},{key:"_bezierToCatmull",value:function(T){return[T[1],T[1]+(T[2]-T[0])/this._curveTightness,T[2]-(T[3]-T[1])/this._curveTightness,T[2]]}},{key:"_initTessy",value:function(){var T=new y.default.GluTesselator;return T.gluTessCallback(y.default.gluEnum.GLU_TESS_VERTEX_DATA,function(K,se){for(var fe=0;fe<K.length;fe++)se.push(K[fe])}),T.gluTessCallback(y.default.gluEnum.GLU_TESS_BEGIN,function(K){K!==y.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(K))}),T.gluTessCallback(y.default.gluEnum.GLU_TESS_ERROR,function(K){console.log("error callback"),console.log("error number: ".concat(K))}),T.gluTessCallback(y.default.gluEnum.GLU_TESS_COMBINE,function(K,se,fe){for(var Ie=new Array(m.default.RendererGL.prototype.tessyVertexSize).fill(0),Z=0;Z<fe.length;Z++)for(var ie=0;ie<Ie.length;ie++)0!==fe[Z]&&se[Z]&&(Ie[ie]+=se[Z][ie]*fe[Z]);return Ie}),T.gluTessCallback(y.default.gluEnum.GLU_TESS_EDGE_FLAG,function(K){}),T}},{key:"_triangulate",value:function(T){var K=T[0]?T[0][2]:void 0,se=!0,fe=!0,we=!1,$e=void 0;try{for(var Ie,Z=T[Symbol.iterator]();!(fe=(Ie=Z.next()).done);fe=!0)for(var ie=Ie.value,pe=0;pe<ie.length;pe+=m.default.RendererGL.prototype.tessyVertexSize)if(ie[pe+2]!==K){se=!1;break}}catch(Ke){we=!0,$e=Ke}finally{try{fe||null==Z.return||Z.return()}finally{if(we)throw $e}}this._tessy.gluTessNormal(0,0,se?1:0);var Re=(this._tessy.gluTessBeginPolygon(we=[]),!0),Fe=void($e=!1);try{for(var Ge,je=T[Symbol.iterator]();!(Re=(Ge=je.next()).done);Re=!0){var We=Ge.value;this._tessy.gluTessBeginContour();for(var Ye=0;Ye<We.length;Ye+=m.default.RendererGL.prototype.tessyVertexSize){var Ne=We.slice(Ye,Ye+m.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Ne,Ne)}this._tessy.gluTessEndContour()}}catch(Ke){$e=!0,Fe=Ke}finally{try{Re||null==je.return||je.return()}finally{if($e)throw Fe}}return this._tessy.gluTessEndPolygon(),we}}])&&h(R.prototype,D),Q}(m.default.Renderer),m.default.prototype._assert3d=function(D){if(!this._renderer.isP3D)throw new Error("".concat(D,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},m.default.RendererGL.prototype.tessyVertexSize=12,O.default=M=m.default.RendererGL},{"../core/constants":262,"../core/main":273,"../core/p5.Renderer":276,"./p5.Camera":321,"./p5.Matrix":324,"./p5.Shader":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.map":168,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.float64-array":210,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int16-array":214,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,libtess:245,path:248}],329:[function(r,G,O){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};function m(d,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}f.default.Shader=function(){function d(i,l,h){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._renderer=i,this._vertSrc=l,this._fragSrc=h,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var y,w;return y=d,(w=[{key:"init",value:function(){if(0===this._glProgram){var i=this._renderer.GL;if(this._vertShader=i.createShader(i.VERTEX_SHADER),i.shaderSource(this._vertShader,this._vertSrc),i.compileShader(this._vertShader),!i.getShaderParameter(this._vertShader,i.COMPILE_STATUS))return f.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(i.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=i.createShader(i.FRAGMENT_SHADER),i.shaderSource(this._fragShader,this._fragSrc),i.compileShader(this._fragShader),!i.getShaderParameter(this._fragShader,i.COMPILE_STATUS))return f.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(i.getShaderInfoLog(this._fragShader))),null;this._glProgram=i.createProgram(),i.attachShader(this._glProgram,this._vertShader),i.attachShader(this._glProgram,this._fragShader),i.linkProgram(this._glProgram),i.getProgramParameter(this._glProgram,i.LINK_STATUS)||f.default._friendlyError("Snap! Error linking shader program: ".concat(i.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var i=this._renderer.GL,l=i.getProgramParameter(this._glProgram,i.ACTIVE_ATTRIBUTES),h=0;h<l;++h){var s=i.getActiveAttrib(this._glProgram,h),c=s.name,p=i.getAttribLocation(this._glProgram,c),v={};v.name=c,v.location=p,v.index=h,v.type=s.type,v.size=s.size,this.attributes[c]=v}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var i=this._renderer.GL,l=i.getProgramParameter(this._glProgram,i.ACTIVE_UNIFORMS),h=0,s=0;s<l;++s){var c=i.getActiveUniform(this._glProgram,s),p={},v=(p.location=i.getUniformLocation(this._glProgram,c.name),p.size=c.size,c.name);1<c.size&&(v=v.substring(0,v.indexOf("[0]"))),p.name=v,p.type=c.type,p._cachedData=void 0,p.type===i.SAMPLER_2D&&(p.samplerIndex=h,h++,this.samplers.push(p)),p.isArray=1<c.size||p.type===i.FLOAT_MAT3||p.type===i.FLOAT_MAT4||p.type===i.FLOAT_VEC2||p.type===i.FLOAT_VEC3||p.type===i.FLOAT_VEC4||p.type===i.INT_VEC2||p.type===i.INT_VEC4||p.type===i.INT_VEC3,this.uniforms[v]=p}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var i=this._renderer.GL,l=!0,h=!1,s=void 0;try{for(var c,p=this.samplers[Symbol.iterator]();!(l=(c=p.next()).done);l=!0){var v=c.value,a=v.texture;void 0===a&&(a=this._renderer._getEmptyTexture()),i.activeTexture(i.TEXTURE0+v.samplerIndex),a.bindTexture(),a.update(),i.uniform1i(v.location,v.samplerIndex)}}catch(g){h=!0,s=g}finally{try{l||null==p.return||p.return()}finally{if(h)throw s}}}},{key:"updateTextures",value:function(){var i=!0,l=!1,h=void 0;try{for(var s,c=this.samplers[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var p=s.value.texture;p&&p.update()}}catch(v){l=!0,h=v}finally{try{i||null==c.return||c.return()}finally{if(l)throw h}}}},{key:"unbindTextures",value:function(){var i=!0,l=!1,h=void 0;try{for(var s,c=this.samplers[Symbol.iterator]();!(i=(s=c.next()).done);i=!0)this.setUniform(s.value.name,this._renderer._getEmptyTexture())}catch(v){l=!0,h=v}finally{try{i||null==c.return||c.return()}finally{if(l)throw h}}}},{key:"_setMatrixUniforms",value:function(){var i=this._renderer._curCamera.cameraMatrix,l=this._renderer.uPMatrix,h=this._renderer.uMVMatrix,s=h.copy();s.mult(l),this.isStrokeShader()&&this.setUniform("uPerspective","default"===this._renderer._curCamera.cameraType?1:0),this.setUniform("uViewMatrix",i.mat4),this.setUniform("uProjectionMatrix",l.mat4),this.setUniform("uModelViewMatrix",h.mat4),this.setUniform("uModelViewProjectionMatrix",s.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(i,l){var h=this.uniforms[i];if(h){var s=this._renderer.GL;if(h.isArray){if(h._cachedData&&this._renderer._arraysEqual(h._cachedData,l))return;h._cachedData=l.slice(0)}else{if(h._cachedData&&h._cachedData===l)return;h._cachedData=Array.isArray(l)?l.slice(0):l}var c=h.location;switch(this.useProgram(),h.type){case s.BOOL:s.uniform1i(c,!0===l?1:0);break;case s.INT:1<h.size?l.length&&s.uniform1iv(c,l):s.uniform1i(c,l);break;case s.FLOAT:1<h.size?l.length&&s.uniform1fv(c,l):s.uniform1f(c,l);break;case s.FLOAT_MAT3:s.uniformMatrix3fv(c,!1,l);break;case s.FLOAT_MAT4:s.uniformMatrix4fv(c,!1,l);break;case s.FLOAT_VEC2:1<h.size?l.length&&s.uniform2fv(c,l):s.uniform2f(c,l[0],l[1]);break;case s.FLOAT_VEC3:1<h.size?l.length&&s.uniform3fv(c,l):s.uniform3f(c,l[0],l[1],l[2]);break;case s.FLOAT_VEC4:1<h.size?l.length&&s.uniform4fv(c,l):s.uniform4f(c,l[0],l[1],l[2],l[3]);break;case s.INT_VEC2:1<h.size?l.length&&s.uniform2iv(c,l):s.uniform2i(c,l[0],l[1]);break;case s.INT_VEC3:1<h.size?l.length&&s.uniform3iv(c,l):s.uniform3i(c,l[0],l[1],l[2]);break;case s.INT_VEC4:1<h.size?l.length&&s.uniform4iv(c,l):s.uniform4i(c,l[0],l[1],l[2],l[3]);break;case s.SAMPLER_2D:s.activeTexture(s.TEXTURE0+h.samplerIndex),h.texture=l instanceof f.default.Texture?l:this._renderer.getTexture(l),s.uniform1i(c,h.samplerIndex),h.texture.src.gifProperties&&h.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(i,l,h,s,c,p){var v;return i&&-1!==(i=i.location)&&(v=this._renderer.GL,this._renderer.registerEnabled[i]||(v.enableVertexAttribArray(i),this._renderer.registerEnabled[i]=!0),this._renderer.GL.vertexAttribPointer(i,l,h||v.FLOAT,s||!1,c||0,p||0)),this}}])&&m(y.prototype,w),d}(),O.default=r=f.default.Shader},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],330:[function(r,G,O){"use strict";function f(h){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(h)}function m(h){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(s){return f(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(h)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(O,"__esModule",{value:!0}),O.checkWebGLCapabilities=i,O.default=void 0;var d=(l=r("../core/main"))&&l.__esModule?l:{default:l},y=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==m(h)&&"function"!=typeof h)return{default:h};var s=w();if(s&&s.has(h))return s.get(h);var c,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in h){var a;Object.prototype.hasOwnProperty.call(h,c)&&((a=v?Object.getOwnPropertyDescriptor(h,c):null)&&(a.get||a.set)?Object.defineProperty(p,c,a):p[c]=h[c])}return p.default=h,s&&s.set(h,p),p}(r("../core/constants"));function w(){var h;return"function"!=typeof WeakMap?null:(w=function(){return h},h=new WeakMap)}function b(h,s){for(var c=0;c<s.length;c++){var p=s[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}function i(v){var s=v.GL,c=(v=v.webglVersion)===y.WEBGL2?s.getExtension("EXT_color_buffer_float")&&s.getExtension("EXT_float_blend"):s.getExtension("OES_texture_float");return{float:c,floatLinear:c&&s.getExtension("OES_texture_float_linear"),halfFloat:v=s.getExtension(v===y.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:v&&s.getExtension("OES_texture_half_float_linear")}}d.default.Texture=function(){function h(k,a,$){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=k;var E=this._renderer.GL;return $=$||{},this.src=a,this.glTex=void 0,this.glTarget=E.TEXTURE_2D,this.glFormat=$.format||E.RGBA,this.mipmaps=!1,this.glMinFilter=$.minFilter||E.LINEAR,this.glMagFilter=$.magFilter||E.LINEAR,this.glWrapS=$.wrapS||E.CLAMP_TO_EDGE,this.glWrapT=$.wrapT||E.CLAMP_TO_EDGE,this.glDataType=$.dataType||E.UNSIGNED_BYTE,$=i(k),this.glFormat!==E.HALF_FLOAT||$.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=E.FLOAT),this.glFormat!==E.HALF_FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||$.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.glFormat!==E.FLOAT||$.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=E.UNSIGNED_BYTE),this.glFormat!==E.FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||$.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.isSrcMediaElement=void 0!==d.default.MediaElement&&a instanceof d.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==d.default.Element&&a instanceof d.default.Element&&!(a instanceof d.default.Graphics)&&!(a instanceof d.default.Renderer),this.isSrcP5Image=a instanceof d.default.Image,this.isSrcP5Graphics=a instanceof d.default.Graphics,this.isSrcP5Renderer=a instanceof d.default.Renderer,this.isImageData=typeof ImageData<"u"&&a instanceof ImageData,this.isFramebufferTexture=a instanceof d.default.FramebufferTexture,k=this._getTextureDataFromSource(),this.width=k.width,this.height=k.height,this.init(k),this}var s,c;return s=h,(c=[{key:"_getTextureDataFromSource",value:function(){var v;return this.isFramebufferTexture?v=this.src.rawTexture():this.isSrcP5Image?v=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?v=this.src.elt:this.isImageData&&(v=this.src),v}},{key:"init",value:function(v){var a,g=this._renderer.GL;this.isFramebufferTexture||(this.glTex=g.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,this.glMagFilter),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(a=new Uint8Array([1,1,1,1]),g.texImage2D(this.glTarget,0,g.RGBA,1,1,0,this.glFormat,this.glDataType,a)):g.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v))}},{key:"update",value:function(){var v,a,g,E=this.src;return 0!==E.width&&0!==E.height&&!this.isFramebufferTexture&&(v=this._getTextureDataFromSource(),a=!1,g=this._renderer.GL,v.width!==this.width||v.height!==this.height?(a=!0,this.width=v.width||E.width,this.height=v.height||E.height,this.isSrcP5Image?E.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&E.setModified(!0)):this.isSrcP5Image?E.isModified()&&E.setModified(!(a=!0)):this.isSrcMediaElement?E.isModified()?E.setModified(!(a=!0)):E.loadedmetadata&&this._videoPrevUpdateTime!==E.time()&&(this._videoPrevUpdateTime=E.time(),a=!0):this.isImageData?E._dirty&&(a=!(E._dirty=!1)):a=!0,a&&(this.bindTexture(),g.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v)),a)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(v,a){var g=this._renderer.GL;this.glMinFilter=v===y.NEAREST?g.NEAREST:g.LINEAR,this.glMagFilter=a===y.NEAREST?g.NEAREST:g.LINEAR,this.bindTexture(),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,this.glMinFilter),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(v,a){function g(M){return 0==(M&M-1)}var E=this._renderer.GL,k=(k=this._getTextureDataFromSource()).naturalWidth&&k.naturalHeight?($=k.naturalWidth,k.naturalHeight):($=this.width,this.height),$=g($);k=g(k),v===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||$&&k?this.glWrapS=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):v===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||$&&k?this.glWrapS=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):this.glWrapS=E.CLAMP_TO_EDGE,a===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||$&&k?this.glWrapT=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):a===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||$&&k?this.glWrapT=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):this.glWrapT=E.CLAMP_TO_EDGE,this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,this.glWrapS),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&b(s.prototype,c),h}();var l=d.default.Texture;O.default=l},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],331:[function(r,G,O){"use strict";function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(a)}function m(a){return(m="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(g){return f(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":f(g)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.iterator");var d,y=(d=r("../core/main"))&&d.__esModule?d:{default:d},w=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==m(a)&&"function"!=typeof a)return{default:a};var g=b();if(g&&g.has(a))return g.get(a);var E,$={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in a){var M;Object.prototype.hasOwnProperty.call(a,E)&&((M=k?Object.getOwnPropertyDescriptor(a,E):null)&&(M.get||M.set)?Object.defineProperty($,E,M):$[E]=a[E])}return $.default=a,g&&g.set(a,$),$}(r("../core/constants"));function b(){var a;return"function"!=typeof WeakMap?null:(b=function(){return a},a=new WeakMap)}function i(a,g){if(!(a instanceof g))throw new TypeError("Cannot call a class as a function")}function l(a,g){for(var E=0;E<g.length;E++){var $=g[E];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(a,$.key,$)}}function h(a,g,E){g&&l(a.prototype,g),E&&l(a,E)}r("./p5.Shader"),r("./p5.RendererGL.Retained"),y.default.RendererGL.prototype._applyTextProperties=function(){},y.default.RendererGL.prototype.textWidth=function(a){return this._isOpenType()?this._textFont._textWidth(a,this._textSize):0};var s=function(){function a(g,E){i(this,a),this.width=g,this.height=E,this.infos=[]}return h(a,[{key:"findImage",value:function(g){var E,$,k=this.width*this.height;if(k<g)throw new Error("font is too complex to render in 3D");for(var M=this.infos.length-1;0<=M;--M){var A=this.infos[M];if(A.index+g<k){$=(E=A).imageData;break}}if(!E){try{$=new ImageData(this.width,this.height)}catch{var L=document.getElementsByTagName("canvas")[0],U=!L,I=(L||((L=document.createElement("canvas")).style.display="none",document.body.appendChild(L)),L.getContext("2d"));I&&($=I.createImageData(this.width,this.height)),U&&document.body.removeChild(L)}this.infos.push(E={index:0,imageData:$})}return I=E.index,E.index+=g,$._dirty=!0,{imageData:$,index:I}}}]),a}();function c(A,g,E,$,k){var M=A.imageData.data;A=4*A.index++,M[A++]=g,M[A++]=E,M[A++]=$,M[+A]=k}var p=Math.sqrt(3),v=function(){function a(g){i(this,a),this.font=g,this.strokeImageInfos=new s(64,64),this.colDimImageInfos=new s(64,64),this.rowDimImageInfos=new s(64,64),this.colCellImageInfos=new s(64,64),this.rowCellImageInfos=new s(64,64),this.glyphInfos={}}return h(a,[{key:"getGlyphInfo",value:function(g){var E=this.glyphInfos[g.index];if(!E){var $=g.getBoundingBox(),k=$.x1,M=$.y1,A=$.x2-k,L=$.y2-M,U=g.path.commands;if(0==A||0==L||!U.length)return this.glyphInfos[g.index]={};for(var I=[],D=[],R=[],V=8;0<=V;--V)R.push([]);for(V=8;0<=V;--V)D.push([]);var N,Q,T,K,se=function(){function cn(Ht,dn,tn,dt){i(this,cn),this.p0=Ht,this.c0=dn,this.c1=tn,this.p1=dt}return h(cn,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return y.default.Vector.sub(y.default.Vector.sub(this.p1,this.p0),y.default.Vector.mult(y.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ut){var dn=y.default.Vector.lerp(this.p0,this.c0,Ut),dt=y.default.Vector.lerp(this.c0,this.c1,Ut),tn=y.default.Vector.lerp(dn,dt,Ut);return this.c1=y.default.Vector.lerp(this.c1,this.p1,Ut),this.c0=y.default.Vector.lerp(dt,this.c1,Ut),dt=y.default.Vector.lerp(tn,this.c0,Ut),Ut=new cn(this.p0,dn,tn,dt),this.p0=dt,Ut}},{key:"splitInflections",value:function(){var Ht=y.default.Vector.sub(this.c0,this.p0),dn=y.default.Vector.sub(y.default.Vector.sub(this.c1,this.c0),Ht),tn=y.default.Vector.sub(y.default.Vector.sub(y.default.Vector.sub(this.p1,this.c1),Ht),y.default.Vector.mult(dn,2)),dt=[],Ut=dn.x*tn.y-dn.y*tn.x;return 0!==Ut&&0<=(Ht=(tn=Ht.x*tn.y-Ht.y*tn.x)*tn-4*Ut*(Ht.x*dn.y-Ht.y*dn.x))&&(Ut<0&&(Ut=-Ut,tn=-tn),Ht=(-tn+(dn=Math.sqrt(Ht)))/(2*Ut),0<(tn=(-tn-dn)/(2*Ut))&&tn<1&&(dt.push(this.split(tn)),Ht=1-(1-Ht)/(1-tn)),0<Ht&&Ht<1&&dt.push(this.split(Ht))),dt.push(this),dt}}]),cn}(),fe=!0,Ie=!1,Z=void 0;try{for(var ie,pe=U[Symbol.iterator]();!(fe=(ie=pe.next()).done);fe=!0){var we=ie.value,Re=(we.x-k)/A,$e=(we.y-M)/L;if(!Ct(N,Q,Re,$e)){switch(we.type){case"M":T=Re,K=$e;break;case"L":Wt(N,Q,Re,$e);break;case"Q":var Fe=(we.x1-k)/A,Ge=(we.y1-M)/L;nt([N,Re,Fe],[Q,$e,Ge],{x:N,y:Q,cx:Fe,cy:Ge});break;case"Z":Ct(N,Q,T,K)?I.push({x:N,y:Q}):(Wt(N,Q,T,K),I.push({x:T,y:K}));break;case"C":for(var je=function(Ue,Dt,ut,tn,dt,Ut,wt,Pe){Ue=new se(new y.default.Vector(Ue,Dt),new y.default.Vector(ut,tn),new y.default.Vector(dt,Ut),new y.default.Vector(wt,Pe)).splitInflections();var Ae=[],ze=30/p,mt=!0;Dt=!1,ut=void 0;try{for(var xt,jt=Ue[Symbol.iterator]();!(mt=(xt=jt.next()).done);mt=!0){for(var At=xt.value,Jt=[],gn=void 0;!(.125<=(gn=ze/At.quadError()));){var _n=Math.pow(gn,.3333333333333333),fn=At.split(_n),Mn=At.split(1-_n/(1-_n));Ae.push(fn),Jt.push(At),At=Mn}gn<1&&Ae.push(At.split(.5)),Ae.push(At),Array.prototype.push.apply(Ae,Jt.reverse())}}catch(bt){Dt=!0,ut=bt}finally{try{mt||null==jt.return||jt.return()}finally{if(Dt)throw ut}}return Ae}(N,Q,(we.x1-k)/A,(we.y1-M)/L,(we.x2-k)/A,(we.y2-M)/L,Re,$e),We=0;We<je.length;We++){var Ye=je[We].toQuadratic();nt([Ye.x,Ye.x1,Ye.cx],[Ye.y,Ye.y1,Ye.cy],Ye)}break;default:throw new Error("unknown command type: ".concat(we.type))}N=Re,Q=$e}}}catch(cn){Ie=!0,Z=cn}finally{try{fe||null==pe.return||pe.return()}finally{if(Ie)throw Z}}for(var Ne=I.length,Ke=this.strokeImageInfos.findImage(Ne),at=Ke.index,yt=0;yt<Ne;++yt){var lt=I[yt];c(Ke,St(lt.x),St(lt.y),St(lt.cx),St(lt.cy))}(E=this.glyphInfos[g.index]={glyph:g,uGlyphRect:[$.x1,-$.y1,$.x2,-$.y2],strokeImageInfo:Ke,strokes:I,colInfo:rn(R,this.colDimImageInfos,this.colCellImageInfos),rowInfo:rn(D,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[E.colInfo.dimOffset,E.rowInfo.dimOffset]}return E;function nt(cn,Ht,dn){var tn=I.length;function dt(Ae,ze,mt){for(var Dt=Ae.length;0<Dt--;){var ut=Ae[Dt];ut<ze&&(ze=ut),mt<ut&&(mt=ut)}return{min:ze,max:mt}}I.push(dn),dn=dt(cn,1,0),cn=Math.max(Math.floor(9*dn.min-.5),0);for(var Ut=Math.min(Math.ceil(9*dn.max+.5),9),wt=cn;wt<Ut;++wt)R[wt].push(tn);dn=dt(Ht,1,0),cn=Math.max(Math.floor(9*dn.min-.5),0);for(var Pe=Math.min(Math.ceil(9*dn.max+.5),9),Ue=cn;Ue<Pe;++Ue)D[Ue].push(tn)}function St(cn){return(cn=255*cn)<0?0:255<cn?255:cn}function Wt(cn,Ht,dn,tn){nt([cn,dn],[Ht,tn],{x:cn,y:Ht,cx:(cn+dn)/2,cy:(Ht+tn)/2})}function Ct(cn,Ht,dn,tn){return Math.abs(dn-cn)<1e-5&&Math.abs(tn-Ht)<1e-5}function rn(cn,Ht,dn){for(var tn=cn.length,dt=Ht.findImage(tn),Ut=(Ht=dt.index,0),wt=0;wt<tn;++wt)Ut+=cn[wt].length;for(var Pe=dn.findImage(Ut),Ue=0;Ue<tn;++Ue){var Ae=cn[Ue],ze=Ae.length,mt=Pe.index;c(dt,mt>>7,127&mt,ze>>7,127&ze);for(var Dt=0;Dt<ze;++Dt){var ut=Ae[Dt]+at;c(Pe,ut>>7,127&ut,0,0)}}return{cellImageInfo:Pe,dimOffset:Ht,dimImageInfo:dt}}}}]),a}();y.default.RendererGL.prototype._renderText=function(a,g,E,$,k){if(this._textFont&&"string"!=typeof this._textFont){if(!(k<=$)&&this._doFill){if(this._isOpenType()){a.push(),k=this._doStroke;var M=this.drawMode,A=(this._doStroke=!1,this.drawMode=w.TEXTURE,this._textFont.font),L=(L=this._textFont._fontInfo)||(this._textFont._fontInfo=new v(A)),U=(E=this._textFont._handleAlignment(this,g,E,$),$=this._textSize/A.unitsPerEm,this.translate(E.x,E.y,0),this.scale($,$,1),this.GL),I=(E=!this._defaultFontShader,this._getFontShader()),D=(I.init(),I.bindShader(),E&&(I.setUniform("uGridImageSize",[64,64]),I.setUniform("uCellsImageSize",[64,64]),I.setUniform("uStrokeImageSize",[64,64]),I.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),R=(D||(($=this._textGeom=new y.default.Geometry(1,1,function(){for(var We=0;We<=1;We++)for(var Ye=0;Ye<=1;Ye++)this.vertices.push(new y.default.Vector(Ye,We,0)),this.uvs.push(Ye,We)})).computeFaces().computeNormals(),D=this.createBuffers("glyph",$)),!0);E=!1,$=void 0;try{for(var V,N=this.retainedMode.buffers.text[Symbol.iterator]();!(R=(V=N.next()).done);R=!0)V.value._prepareBuffer(D,I)}catch(We){E=!0,$=We}finally{try{R||null==N.return||N.return()}finally{if(E)throw $}}this._bindBuffer(D.indexBuffer,U.ELEMENT_ARRAY_BUFFER),I.setUniform("uMaterialColor",this.curFillColor),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var Q=0,T=null,K=A.stringToGlyphs(g),se=!0,fe=!1,Ie=void 0;try{for(var Z,ie=K[Symbol.iterator]();!(se=(Z=ie.next()).done);se=!0){var pe,we,Re=Z.value,$e=(T&&(Q+=A.getKerningValue(T,Re)),L.getGlyphInfo(Re));$e.uGlyphRect&&(pe=$e.rowInfo,we=$e.colInfo,I.setUniform("uSamplerStrokes",$e.strokeImageInfo.imageData),I.setUniform("uSamplerRowStrokes",pe.cellImageInfo.imageData),I.setUniform("uSamplerRows",pe.dimImageInfo.imageData),I.setUniform("uSamplerColStrokes",we.cellImageInfo.imageData),I.setUniform("uSamplerCols",we.dimImageInfo.imageData),I.setUniform("uGridOffset",$e.uGridOffset),I.setUniform("uGlyphRect",$e.uGlyphRect),I.setUniform("uGlyphOffset",Q),I.bindTextures(),U.drawElements(U.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),Q+=Re.advanceWidth,T=Re}}catch(We){fe=!0,Ie=We}finally{try{se||null==ie.return||ie.return()}finally{if(fe)throw Ie}}}finally{I.unbindShader(),this._doStroke=k,this.drawMode=M,U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),a.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return a}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":262,"../core/main":273,"./p5.RendererGL.Retained":327,"./p5.Shader":329,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}]},{},[257])(257)},7305:(nn,Et,me)=>{function H(i){this.mode=st.MODE_8BIT_BYTE,this.data=i,this.parsedData=[];for(var l=0,h=this.data.length;l<h;l++){var s=[],c=this.data.charCodeAt(l);c>65536?(s[0]=240|(1835008&c)>>>18,s[1]=128|(258048&c)>>>12,s[2]=128|(4032&c)>>>6,s[3]=128|63&c):c>2048?(s[0]=224|(61440&c)>>>12,s[1]=128|(4032&c)>>>6,s[2]=128|63&c):c>128?(s[0]=192|(1984&c)>>>6,s[1]=128|63&c):s[0]=c,this.parsedData.push(s)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function j(i,l){this.typeNumber=i,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}H.prototype={getLength:function(i){return this.parsedData.length},write:function(i){for(var l=0,h=this.parsedData.length;l<h;l++)i.put(this.parsedData[l],8)}},j.prototype={addData:function(i){var l=new H(i);this.dataList.push(l),this.dataCache=null},isDark:function(i,l){if(i<0||this.moduleCount<=i||l<0||this.moduleCount<=l)throw new Error(i+","+l);return this.modules[i][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(i,l){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var h=0;h<this.moduleCount;h++){this.modules[h]=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[h][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(i,l),this.typeNumber>=7&&this.setupTypeNumber(i),null==this.dataCache&&(this.dataCache=j.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(i,l){for(var h=-1;h<=7;h++)if(!(i+h<=-1||this.moduleCount<=i+h))for(var s=-1;s<=7;s++)l+s<=-1||this.moduleCount<=l+s||(this.modules[i+h][l+s]=0<=h&&h<=6&&(0==s||6==s)||0<=s&&s<=6&&(0==h||6==h)||2<=h&&h<=4&&2<=s&&s<=4)},getBestMaskPattern:function(){for(var i=0,l=0,h=0;h<8;h++){this.makeImpl(!0,h);var s=G.getLostPoint(this);(0==h||i>s)&&(i=s,l=h)}return l},createMovieClip:function(i,l,h){var s=i.createEmptyMovieClip(l,h);this.make();for(var p=0;p<this.modules.length;p++)for(var v=1*p,a=0;a<this.modules[p].length;a++){var g=1*a;this.modules[p][a]&&(s.beginFill(0,100),s.moveTo(g,v),s.lineTo(g+1,v),s.lineTo(g+1,v+1),s.lineTo(g,v+1),s.endFill())}return s},setupTimingPattern:function(){for(var i=8;i<this.moduleCount-8;i++)null==this.modules[i][6]&&(this.modules[i][6]=i%2==0);for(var l=8;l<this.moduleCount-8;l++)null==this.modules[6][l]&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var i=G.getPatternPosition(this.typeNumber),l=0;l<i.length;l++)for(var h=0;h<i.length;h++){var s=i[l],c=i[h];if(null==this.modules[s][c])for(var p=-2;p<=2;p++)for(var v=-2;v<=2;v++)this.modules[s+p][c+v]=-2==p||2==p||-2==v||2==v||0==p&&0==v}},setupTypeNumber:function(i){for(var l=G.getBCHTypeNumber(this.typeNumber),h=0;h<18;h++){var s=!i&&1==(l>>h&1);this.modules[Math.floor(h/3)][h%3+this.moduleCount-8-3]=s}for(h=0;h<18;h++)s=!i&&1==(l>>h&1),this.modules[h%3+this.moduleCount-8-3][Math.floor(h/3)]=s},setupTypeInfo:function(i,l){for(var s=G.getBCHTypeInfo(this.errorCorrectLevel<<3|l),c=0;c<15;c++){var p=!i&&1==(s>>c&1);c<6?this.modules[c][8]=p:c<8?this.modules[c+1][8]=p:this.modules[this.moduleCount-15+c][8]=p}for(c=0;c<15;c++)p=!i&&1==(s>>c&1),c<8?this.modules[8][this.moduleCount-c-1]=p:c<9?this.modules[8][15-c-1+1]=p:this.modules[8][15-c-1]=p;this.modules[this.moduleCount-8][8]=!i},mapData:function(i,l){for(var h=-1,s=this.moduleCount-1,c=7,p=0,v=this.moduleCount-1;v>0;v-=2)for(6==v&&v--;;){for(var a=0;a<2;a++)if(null==this.modules[s][v-a]){var g=!1;p<i.length&&(g=1==(i[p]>>>c&1)),G.getMask(l,s,v-a)&&(g=!g),this.modules[s][v-a]=g,-1==--c&&(p++,c=7)}if((s+=h)<0||this.moduleCount<=s){s-=h,h=-h;break}}}},j.PAD0=236,j.PAD1=17,j.createData=function(i,l,h){for(var s=d.getRSBlocks(i,l),c=new y,p=0;p<h.length;p++){var v=h[p];c.put(v.mode,4),c.put(v.getLength(),G.getLengthInBits(v.mode,i)),v.write(c)}var a=0;for(p=0;p<s.length;p++)a+=s[p].dataCount;if(c.getLengthInBits()>8*a)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*a+")");for(c.getLengthInBits()+4<=8*a&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*a||(c.put(j.PAD0,8),c.getLengthInBits()>=8*a));)c.put(j.PAD1,8);return j.createBytes(c,s)},j.createBytes=function(i,l){for(var h=0,s=0,c=0,p=new Array(l.length),v=new Array(l.length),a=0;a<l.length;a++){var g=l[a].dataCount,E=l[a].totalCount-g;s=Math.max(s,g),c=Math.max(c,E),p[a]=new Array(g);for(var $=0;$<p[a].length;$++)p[a][$]=255&i.buffer[$+h];h+=g;var k=G.getErrorCorrectPolynomial(E),A=new m(p[a],k.getLength()-1).mod(k);for(v[a]=new Array(k.getLength()-1),$=0;$<v[a].length;$++){var L=$+A.getLength()-v[a].length;v[a][$]=L>=0?A.get(L):0}}var U=0;for($=0;$<l.length;$++)U+=l[$].totalCount;var I=new Array(U),D=0;for($=0;$<s;$++)for(a=0;a<l.length;a++)$<p[a].length&&(I[D++]=p[a][$]);for($=0;$<c;$++)for(a=0;a<l.length;a++)$<v[a].length&&(I[D++]=v[a][$]);return I};for(var st={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},X={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},G={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var l=i<<10;G.getBCHDigit(l)-G.getBCHDigit(G.G15)>=0;)l^=G.G15<<G.getBCHDigit(l)-G.getBCHDigit(G.G15);return(i<<10|l)^G.G15_MASK},getBCHTypeNumber:function(i){for(var l=i<<12;G.getBCHDigit(l)-G.getBCHDigit(G.G18)>=0;)l^=G.G18<<G.getBCHDigit(l)-G.getBCHDigit(G.G18);return i<<12|l},getBCHDigit:function(i){for(var l=0;0!=i;)l++,i>>>=1;return l},getPatternPosition:function(i){return G.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,l,h){switch(i){case r.PATTERN000:return(l+h)%2==0;case r.PATTERN001:return l%2==0;case r.PATTERN010:return h%3==0;case r.PATTERN011:return(l+h)%3==0;case r.PATTERN100:return(Math.floor(l/2)+Math.floor(h/3))%2==0;case r.PATTERN101:return l*h%2+l*h%3==0;case r.PATTERN110:return(l*h%2+l*h%3)%2==0;case r.PATTERN111:return(l*h%3+(l+h)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var l=new m([1],0),h=0;h<i;h++)l=l.multiply(new m([1,O.gexp(h)],0));return l},getLengthInBits:function(i,l){if(1<=l&&l<10)switch(i){case st.MODE_NUMBER:return 10;case st.MODE_ALPHA_NUM:return 9;case st.MODE_8BIT_BYTE:case st.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(l<27)switch(i){case st.MODE_NUMBER:return 12;case st.MODE_ALPHA_NUM:return 11;case st.MODE_8BIT_BYTE:return 16;case st.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else{if(!(l<41))throw new Error("type:"+l);switch(i){case st.MODE_NUMBER:return 14;case st.MODE_ALPHA_NUM:return 13;case st.MODE_8BIT_BYTE:return 16;case st.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}}},getLostPoint:function(i){for(var l=i.getModuleCount(),h=0,s=0;s<l;s++)for(var c=0;c<l;c++){for(var p=0,v=i.isDark(s,c),a=-1;a<=1;a++)if(!(s+a<0||l<=s+a))for(var g=-1;g<=1;g++)c+g<0||l<=c+g||0==a&&0==g||v==i.isDark(s+a,c+g)&&p++;p>5&&(h+=3+p-5)}for(s=0;s<l-1;s++)for(c=0;c<l-1;c++){var E=0;i.isDark(s,c)&&E++,i.isDark(s+1,c)&&E++,i.isDark(s,c+1)&&E++,i.isDark(s+1,c+1)&&E++,(0==E||4==E)&&(h+=3)}for(s=0;s<l;s++)for(c=0;c<l-6;c++)i.isDark(s,c)&&!i.isDark(s,c+1)&&i.isDark(s,c+2)&&i.isDark(s,c+3)&&i.isDark(s,c+4)&&!i.isDark(s,c+5)&&i.isDark(s,c+6)&&(h+=40);for(c=0;c<l;c++)for(s=0;s<l-6;s++)i.isDark(s,c)&&!i.isDark(s+1,c)&&i.isDark(s+2,c)&&i.isDark(s+3,c)&&i.isDark(s+4,c)&&!i.isDark(s+5,c)&&i.isDark(s+6,c)&&(h+=40);var $=0;for(c=0;c<l;c++)for(s=0;s<l;s++)i.isDark(s,c)&&$++;return h+Math.abs(100*$/l/l-50)/5*10}},O={glog:function(i){if(i<1)throw new Error("glog("+i+")");return O.LOG_TABLE[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return O.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},f=0;f<8;f++)O.EXP_TABLE[f]=1<<f;for(f=8;f<256;f++)O.EXP_TABLE[f]=O.EXP_TABLE[f-4]^O.EXP_TABLE[f-5]^O.EXP_TABLE[f-6]^O.EXP_TABLE[f-8];for(f=0;f<255;f++)O.LOG_TABLE[O.EXP_TABLE[f]]=f;function m(i,l){if(null==i.length)throw new Error(i.length+"/"+l);for(var h=0;h<i.length&&0==i[h];)h++;this.num=new Array(i.length-h+l);for(var s=0;s<i.length-h;s++)this.num[s]=i[s+h]}function d(i,l){this.totalCount=i,this.dataCount=l}function y(){this.buffer=[],this.length=0}m.prototype={get:function(i){return this.num[i]},getLength:function(){return this.num.length},multiply:function(i){for(var l=new Array(this.getLength()+i.getLength()-1),h=0;h<this.getLength();h++)for(var s=0;s<i.getLength();s++)l[h+s]^=O.gexp(O.glog(this.get(h))+O.glog(i.get(s)));return new m(l,0)},mod:function(i){if(this.getLength()-i.getLength()<0)return this;for(var l=O.glog(this.get(0))-O.glog(i.get(0)),h=new Array(this.getLength()),s=0;s<this.getLength();s++)h[s]=this.get(s);for(s=0;s<i.getLength();s++)h[s]^=O.gexp(O.glog(i.get(s))+l);return new m(h,0).mod(i)}},d.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],d.getRSBlocks=function(i,l){var h=d.getRsBlockTable(i,l);if(null==h)throw new Error("bad rs block @ typeNumber:"+i+"/errorCorrectLevel:"+l);for(var s=h.length/3,c=[],p=0;p<s;p++)for(var v=h[3*p+0],a=h[3*p+1],g=h[3*p+2],E=0;E<v;E++)c.push(new d(a,g));return c},d.getRsBlockTable=function(i,l){switch(l){case X.L:return d.RS_BLOCK_TABLE[4*(i-1)+0];case X.M:return d.RS_BLOCK_TABLE[4*(i-1)+1];case X.Q:return d.RS_BLOCK_TABLE[4*(i-1)+2];case X.H:return d.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},y.prototype={get:function(i){var l=Math.floor(i/8);return 1==(this.buffer[l]>>>7-i%8&1)},put:function(i,l){for(var h=0;h<l;h++)this.putBit(1==(i>>>l-h-1&1))},getLengthInBits:function(){return this.length},putBit:function(i){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),i&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var w=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function b(i){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof i&&(i={content:i}),i)for(var h in i)this.options[h]=i[h];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var v=this.options.content,a=function c(E,$){for(var k=function p(E){var $=encodeURI(E).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return $.length+($.length!=E?3:0)}(E),M=1,A=0,L=0,U=w.length;L<=U;L++){var I=w[L];if(!I)throw new Error("Content too long: expected "+A+" but got "+k);switch($){case"L":A=I[0];break;case"M":A=I[1];break;case"Q":A=I[2];break;case"H":A=I[3];break;default:throw new Error("Unknwon error correction level: "+$)}if(k<=A)break;M++}if(M>w.length)throw new Error("Content too long");return M}(v,this.options.ecl),g=function s(E){switch(E){case"L":return X.L;case"M":return X.M;case"Q":return X.Q;case"H":return X.H;default:throw new Error("Unknwon error correction level: "+E)}}(this.options.ecl);this.qrcode=new j(a,g),this.qrcode.addData(v),this.qrcode.make()}b.prototype.svg=function(i){var l=this.options||{},h=this.qrcode.modules;typeof i>"u"&&(i={container:l.container||"svg"});for(var s=!(typeof l.pretty<"u"&&!l.pretty),c=s?"  ":"",p=s?"\r\n":"",v=l.width,a=l.height,g=h.length,E=v/(g+2*l.padding),$=a/(g+2*l.padding),k=typeof l.join<"u"&&!!l.join,M=typeof l.swap<"u"&&!!l.swap,A=!(typeof l.xmlDeclaration<"u"&&!l.xmlDeclaration),L=typeof l.predefined<"u"&&!!l.predefined,U=L?c+'<defs><path id="qrmodule" d="M0 0 h'+$+" v"+E+' H0 z" style="fill:'+l.color+';shape-rendering:crispEdges;" /></defs>'+p:"",I=c+'<rect x="0" y="0" width="'+v+'" height="'+a+'" style="fill:'+l.background+';shape-rendering:crispEdges;"/>'+p,D="",R="",V=0;V<g;V++)for(var N=0;N<g;N++)if(h[N][V]){var T=N*E+l.padding*E,K=V*$+l.padding*$;if(M){var se=T;T=K,K=se}if(k){var fe=E+T,Ie=$+K;T=Number.isInteger(T)?Number(T):T.toFixed(2),K=Number.isInteger(K)?Number(K):K.toFixed(2),fe=Number.isInteger(fe)?Number(fe):fe.toFixed(2),R+="M"+T+","+K+" V"+(Ie=Number.isInteger(Ie)?Number(Ie):Ie.toFixed(2))+" H"+fe+" V"+K+" H"+T+" Z "}else D+=L?c+'<use x="'+T.toString()+'" y="'+K.toString()+'" href="#qrmodule" />'+p:c+'<rect x="'+T.toString()+'" y="'+K.toString()+'" width="'+E+'" height="'+$+'" style="fill:'+l.color+';shape-rendering:crispEdges;"/>'+p}k&&(D=c+'<path x="0" y="0" style="fill:'+l.color+';shape-rendering:crispEdges;" d="'+R+'" />');var Z="";switch(i.container){case"svg":A&&(Z+='<?xml version="1.0" standalone="yes"?>'+p),Z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+v+'" height="'+a+'">'+p,Z+=U+I+D,Z+="</svg>";break;case"svg-viewbox":A&&(Z+='<?xml version="1.0" standalone="yes"?>'+p),Z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+v+" "+a+'">'+p,Z+=U+I+D,Z+="</svg>";break;case"g":Z+='<g width="'+v+'" height="'+a+'">'+p,Z+=U+I+D,Z+="</g>";break;default:Z+=(U+I+D).replace(/^\s+/,"")}return Z},b.prototype.save=function(i,l){var h=this.svg();"function"!=typeof l&&(l=function(c,p){});try{me(Object(function(){var p=new Error("Cannot find module 'fs'");throw p.code="MODULE_NOT_FOUND",p}())).writeFile(i,h,l)}catch(c){l(c)}},nn.exports=b},5619:(nn,Et,me)=>{"use strict";me.d(Et,{X:()=>j});var H=me(8645);class j extends H.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const r=super._subscribe(X);return!r.closed&&X.next(this._value),r}getValue(){const{hasError:X,thrownError:r,_value:G}=this;if(X)throw r;return this._throwIfClosed(),G}next(X){super.next(this._value=X)}}},5592:(nn,Et,me)=>{"use strict";me.d(Et,{y:()=>f});var H=me(305),j=me(7394),st=me(4850),X=me(8407),r=me(2653),G=me(4674),O=me(1441);let f=(()=>{class w{constructor(i){i&&(this._subscribe=i)}lift(i){const l=new w;return l.source=this,l.operator=i,l}subscribe(i,l,h){const s=function y(w){return w&&w instanceof H.Lv||function d(w){return w&&(0,G.m)(w.next)&&(0,G.m)(w.error)&&(0,G.m)(w.complete)}(w)&&(0,j.Nn)(w)}(i)?i:new H.Hp(i,l,h);return(0,O.x)(()=>{const{operator:c,source:p}=this;s.add(c?c.call(s,p):p?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(l){i.error(l)}}forEach(i,l){return new(l=m(l))((h,s)=>{const c=new H.Hp({next:p=>{try{i(p)}catch(v){s(v),c.unsubscribe()}},error:s,complete:h});this.subscribe(c)})}_subscribe(i){var l;return null===(l=this.source)||void 0===l?void 0:l.subscribe(i)}[st.L](){return this}pipe(...i){return(0,X.U)(i)(this)}toPromise(i){return new(i=m(i))((l,h)=>{let s;this.subscribe(c=>s=c,c=>h(c),()=>l(s))})}}return w.create=b=>new w(b),w})();function m(w){var b;return null!==(b=null!=w?w:r.config.Promise)&&void 0!==b?b:Promise}},8645:(nn,Et,me)=>{"use strict";me.d(Et,{x:()=>O});var H=me(5592),j=me(7394);const X=(0,me(2306).d)(m=>function(){m(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var r=me(9039),G=me(1441);let O=(()=>{class m extends H.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const w=new f(this,this);return w.operator=y,w}_throwIfClosed(){if(this.closed)throw new X}next(y){(0,G.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const w of this.currentObservers)w.next(y)}})}error(y){(0,G.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:w}=this;for(;w.length;)w.shift().error(y)}})}complete(){(0,G.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:w,isStopped:b,observers:i}=this;return w||b?j.Lc:(this.currentObservers=null,i.push(y),new j.w0(()=>{this.currentObservers=null,(0,r.P)(i,y)}))}_checkFinalizedStatuses(y){const{hasError:w,thrownError:b,isStopped:i}=this;w?y.error(b):i&&y.complete()}asObservable(){const y=new H.y;return y.source=this,y}}return m.create=(d,y)=>new f(d,y),m})();class f extends O{constructor(d,y){super(),this.destination=d,this.source=y}next(d){var y,w;null===(w=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===w||w.call(y,d)}error(d){var y,w;null===(w=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===w||w.call(y,d)}complete(){var d,y;null===(y=null===(d=this.destination)||void 0===d?void 0:d.complete)||void 0===y||y.call(d)}_subscribe(d){var y,w;return null!==(w=null===(y=this.source)||void 0===y?void 0:y.subscribe(d))&&void 0!==w?w:j.Lc}}},305:(nn,Et,me)=>{"use strict";me.d(Et,{Hp:()=>h,Lv:()=>w});var H=me(4674),j=me(7394),st=me(2653),X=me(3894),r=me(2420);const G=m("C",void 0,void 0);function m(a,g,E){return{kind:a,value:g,error:E}}var d=me(7599),y=me(1441);class w extends j.w0{constructor(g){super(),this.isStopped=!1,g?(this.destination=g,(0,j.Nn)(g)&&g.add(this)):this.destination=v}static create(g,E,$){return new h(g,E,$)}next(g){this.isStopped?p(function f(a){return m("N",a,void 0)}(g),this):this._next(g)}error(g){this.isStopped?p(function O(a){return m("E",void 0,a)}(g),this):(this.isStopped=!0,this._error(g))}complete(){this.isStopped?p(G,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(g){this.destination.next(g)}_error(g){try{this.destination.error(g)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const b=Function.prototype.bind;function i(a,g){return b.call(a,g)}class l{constructor(g){this.partialObserver=g}next(g){const{partialObserver:E}=this;if(E.next)try{E.next(g)}catch($){s($)}}error(g){const{partialObserver:E}=this;if(E.error)try{E.error(g)}catch($){s($)}else s(g)}complete(){const{partialObserver:g}=this;if(g.complete)try{g.complete()}catch(E){s(E)}}}class h extends w{constructor(g,E,$){let k;if(super(),(0,H.m)(g)||!g)k={next:null!=g?g:void 0,error:null!=E?E:void 0,complete:null!=$?$:void 0};else{let M;this&&st.config.useDeprecatedNextContext?(M=Object.create(g),M.unsubscribe=()=>this.unsubscribe(),k={next:g.next&&i(g.next,M),error:g.error&&i(g.error,M),complete:g.complete&&i(g.complete,M)}):k=g}this.destination=new l(k)}}function s(a){st.config.useDeprecatedSynchronousErrorHandling?(0,y.O)(a):(0,X.h)(a)}function p(a,g){const{onStoppedNotification:E}=st.config;E&&d.z.setTimeout(()=>E(a,g))}const v={closed:!0,next:r.Z,error:function c(a){throw a},complete:r.Z}},7394:(nn,Et,me)=>{"use strict";me.d(Et,{Lc:()=>G,w0:()=>r,Nn:()=>O});var H=me(4674);const st=(0,me(2306).d)(m=>function(y){m(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((w,b)=>`${b+1}) ${w.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y});var X=me(9039);class r{constructor(d){this.initialTeardown=d,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let d;if(!this.closed){this.closed=!0;const{_parentage:y}=this;if(y)if(this._parentage=null,Array.isArray(y))for(const i of y)i.remove(this);else y.remove(this);const{initialTeardown:w}=this;if((0,H.m)(w))try{w()}catch(i){d=i instanceof st?i.errors:[i]}const{_finalizers:b}=this;if(b){this._finalizers=null;for(const i of b)try{f(i)}catch(l){d=null!=d?d:[],l instanceof st?d=[...d,...l.errors]:d.push(l)}}if(d)throw new st(d)}}add(d){var y;if(d&&d!==this)if(this.closed)f(d);else{if(d instanceof r){if(d.closed||d._hasParent(this))return;d._addParent(this)}(this._finalizers=null!==(y=this._finalizers)&&void 0!==y?y:[]).push(d)}}_hasParent(d){const{_parentage:y}=this;return y===d||Array.isArray(y)&&y.includes(d)}_addParent(d){const{_parentage:y}=this;this._parentage=Array.isArray(y)?(y.push(d),y):y?[y,d]:d}_removeParent(d){const{_parentage:y}=this;y===d?this._parentage=null:Array.isArray(y)&&(0,X.P)(y,d)}remove(d){const{_finalizers:y}=this;y&&(0,X.P)(y,d),d instanceof r&&d._removeParent(this)}}r.EMPTY=(()=>{const m=new r;return m.closed=!0,m})();const G=r.EMPTY;function O(m){return m instanceof r||m&&"closed"in m&&(0,H.m)(m.remove)&&(0,H.m)(m.add)&&(0,H.m)(m.unsubscribe)}function f(m){(0,H.m)(m)?m():m.unsubscribe()}},2653:(nn,Et,me)=>{"use strict";me.d(Et,{config:()=>H});const H={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(nn,Et,me)=>{"use strict";me.d(Et,{c:()=>G});var H=me(5592),j=me(7394),st=me(6196),X=me(8251),r=me(9360);class G extends H.y{constructor(f,m){super(),this.source=f,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,r.A)(f)&&(this.lift=f.lift)}_subscribe(f){return this.getSubject().subscribe(f)}getSubject(){const f=this._subject;return(!f||f.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:f}=this;this._subject=this._connection=null,null==f||f.unsubscribe()}connect(){let f=this._connection;if(!f){f=this._connection=new j.w0;const m=this.getSubject();f.add(this.source.subscribe((0,X.x)(m,void 0,()=>{this._teardown(),m.complete()},d=>{this._teardown(),m.error(d)},()=>this._teardown()))),f.closed&&(this._connection=null,f=j.w0.EMPTY)}return f}refCount(){return(0,st.x)()(this)}}},2572:(nn,Et,me)=>{"use strict";me.d(Et,{a:()=>d});var H=me(5592),j=me(7453),st=me(7715),X=me(2737),r=me(7400),G=me(9940),O=me(2714),f=me(8251),m=me(7103);function d(...b){const i=(0,G.yG)(b),l=(0,G.jO)(b),{args:h,keys:s}=(0,j.D)(b);if(0===h.length)return(0,st.D)([],i);const c=new H.y(function y(b,i,l=X.y){return h=>{w(i,()=>{const{length:s}=b,c=new Array(s);let p=s,v=s;for(let a=0;a<s;a++)w(i,()=>{const g=(0,st.D)(b[a],i);let E=!1;g.subscribe((0,f.x)(h,$=>{c[a]=$,E||(E=!0,v--),v||h.next(l(c.slice()))},()=>{--p||h.complete()}))},h)},h)}}(h,i,s?p=>(0,O.n)(s,p):X.y));return l?c.pipe((0,r.Z)(l)):c}function w(b,i,l){b?(0,m.f)(l,b,i):i()}},5211:(nn,Et,me)=>{"use strict";me.d(Et,{z:()=>r});var H=me(7537),st=me(9940),X=me(7715);function r(...G){return function j(){return(0,H.J)(1)}()((0,X.D)(G,(0,st.yG)(G)))}},4911:(nn,Et,me)=>{"use strict";me.d(Et,{P:()=>st});var H=me(5592),j=me(4829);function st(X){return new H.y(r=>{(0,j.Xf)(X()).subscribe(r)})}},6232:(nn,Et,me)=>{"use strict";me.d(Et,{E:()=>j});const j=new(me(5592).y)(r=>r.complete())},7715:(nn,Et,me)=>{"use strict";me.d(Et,{D:()=>$});var H=me(4829),j=me(7103),st=me(9360),X=me(8251);function r(k,M=0){return(0,st.e)((A,L)=>{A.subscribe((0,X.x)(L,U=>(0,j.f)(L,k,()=>L.next(U),M),()=>(0,j.f)(L,k,()=>L.complete(),M),U=>(0,j.f)(L,k,()=>L.error(U),M)))})}function G(k,M=0){return(0,st.e)((A,L)=>{L.add(k.schedule(()=>A.subscribe(L),M))})}var m=me(5592),y=me(4971),w=me(4674);function i(k,M){if(!k)throw new Error("Iterable cannot be null");return new m.y(A=>{(0,j.f)(A,M,()=>{const L=k[Symbol.asyncIterator]();(0,j.f)(A,M,()=>{L.next().then(U=>{U.done?A.complete():A.next(U.value)})},0,!0)})})}var l=me(8382),h=me(4026),s=me(4266),c=me(3664),p=me(5726),v=me(9853),a=me(541);function $(k,M){return M?function E(k,M){if(null!=k){if((0,l.c)(k))return function O(k,M){return(0,H.Xf)(k).pipe(G(M),r(M))}(k,M);if((0,s.z)(k))return function d(k,M){return new m.y(A=>{let L=0;return M.schedule(function(){L===k.length?A.complete():(A.next(k[L++]),A.closed||this.schedule())})})}(k,M);if((0,h.t)(k))return function f(k,M){return(0,H.Xf)(k).pipe(G(M),r(M))}(k,M);if((0,p.D)(k))return i(k,M);if((0,c.T)(k))return function b(k,M){return new m.y(A=>{let L;return(0,j.f)(A,M,()=>{L=k[y.h](),(0,j.f)(A,M,()=>{let U,I;try{({value:U,done:I}=L.next())}catch(D){return void A.error(D)}I?A.complete():A.next(U)},0,!0)}),()=>(0,w.m)(null==L?void 0:L.return)&&L.return()})}(k,M);if((0,a.L)(k))return function g(k,M){return i((0,a.Q)(k),M)}(k,M)}throw(0,v.z)(k)}(k,M):(0,H.Xf)(k)}},2438:(nn,Et,me)=>{"use strict";me.d(Et,{R:()=>d});var H=me(4829),j=me(5592),st=me(1631),X=me(4266),r=me(4674),G=me(7400);const O=["addListener","removeListener"],f=["addEventListener","removeEventListener"],m=["on","off"];function d(l,h,s,c){if((0,r.m)(s)&&(c=s,s=void 0),c)return d(l,h,s).pipe((0,G.Z)(c));const[p,v]=function i(l){return(0,r.m)(l.addEventListener)&&(0,r.m)(l.removeEventListener)}(l)?f.map(a=>g=>l[a](h,g,s)):function w(l){return(0,r.m)(l.addListener)&&(0,r.m)(l.removeListener)}(l)?O.map(y(l,h)):function b(l){return(0,r.m)(l.on)&&(0,r.m)(l.off)}(l)?m.map(y(l,h)):[];if(!p&&(0,X.z)(l))return(0,st.z)(a=>d(a,h,s))((0,H.Xf)(l));if(!p)throw new TypeError("Invalid event target");return new j.y(a=>{const g=(...E)=>a.next(1<E.length?E:E[0]);return p(g),()=>v(g)})}function y(l,h){return s=>c=>l[s](h,c)}},4829:(nn,Et,me)=>{"use strict";me.d(Et,{Xf:()=>b});var H=me(7582),j=me(4266),st=me(4026),X=me(5592),r=me(8382),G=me(5726),O=me(9853),f=me(3664),m=me(541),d=me(4674),y=me(3894),w=me(4850);function b(a){if(a instanceof X.y)return a;if(null!=a){if((0,r.c)(a))return function i(a){return new X.y(g=>{const E=a[w.L]();if((0,d.m)(E.subscribe))return E.subscribe(g);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(a);if((0,j.z)(a))return function l(a){return new X.y(g=>{for(let E=0;E<a.length&&!g.closed;E++)g.next(a[E]);g.complete()})}(a);if((0,st.t)(a))return function h(a){return new X.y(g=>{a.then(E=>{g.closed||(g.next(E),g.complete())},E=>g.error(E)).then(null,y.h)})}(a);if((0,G.D)(a))return c(a);if((0,f.T)(a))return function s(a){return new X.y(g=>{for(const E of a)if(g.next(E),g.closed)return;g.complete()})}(a);if((0,m.L)(a))return function p(a){return c((0,m.Q)(a))}(a)}throw(0,O.z)(a)}function c(a){return new X.y(g=>{(function v(a,g){var E,$,k,M;return(0,H.mG)(this,void 0,void 0,function*(){try{for(E=(0,H.KL)(a);!($=yield E.next()).done;)if(g.next($.value),g.closed)return}catch(A){k={error:A}}finally{try{$&&!$.done&&(M=E.return)&&(yield M.call(E))}finally{if(k)throw k.error}}g.complete()})})(a,g).catch(E=>g.error(E))})}},3019:(nn,Et,me)=>{"use strict";me.d(Et,{T:()=>G});var H=me(7537),j=me(4829),st=me(6232),X=me(9940),r=me(7715);function G(...O){const f=(0,X.yG)(O),m=(0,X._6)(O,1/0),d=O;return d.length?1===d.length?(0,j.Xf)(d[0]):(0,H.J)(m)((0,r.D)(d,f)):st.E}},2096:(nn,Et,me)=>{"use strict";me.d(Et,{of:()=>st});var H=me(9940),j=me(7715);function st(...X){const r=(0,H.yG)(X);return(0,j.D)(X,r)}},8504:(nn,Et,me)=>{"use strict";me.d(Et,{_:()=>st});var H=me(5592),j=me(4674);function st(X,r){const G=(0,j.m)(X)?X:()=>X,O=f=>f.error(G());return new H.y(r?f=>r.schedule(O,0,f):O)}},8251:(nn,Et,me)=>{"use strict";me.d(Et,{x:()=>j});var H=me(305);function j(X,r,G,O,f){return new st(X,r,G,O,f)}class st extends H.Lv{constructor(r,G,O,f,m,d){super(r),this.onFinalize=m,this.shouldUnsubscribe=d,this._next=G?function(y){try{G(y)}catch(w){r.error(w)}}:super._next,this._error=f?function(y){try{f(y)}catch(w){r.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=O?function(){try{O()}catch(y){r.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:G}=this;super.unsubscribe(),!G&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}}}},3997:(nn,Et,me)=>{"use strict";me.d(Et,{x:()=>X});var H=me(2737),j=me(9360),st=me(8251);function X(G,O=H.y){return G=null!=G?G:r,(0,j.e)((f,m)=>{let d,y=!0;f.subscribe((0,st.x)(m,w=>{const b=O(w);(y||!G(d,b))&&(y=!1,d=b,m.next(w))}))})}function r(G,O){return G===O}},2181:(nn,Et,me)=>{"use strict";me.d(Et,{h:()=>st});var H=me(9360),j=me(8251);function st(X,r){return(0,H.e)((G,O)=>{let f=0;G.subscribe((0,j.x)(O,m=>X.call(r,m,f++)&&O.next(m)))})}},7398:(nn,Et,me)=>{"use strict";me.d(Et,{U:()=>st});var H=me(9360),j=me(8251);function st(X,r){return(0,H.e)((G,O)=>{let f=0;G.subscribe((0,j.x)(O,m=>{O.next(X.call(r,m,f++))}))})}},975:(nn,Et,me)=>{"use strict";me.d(Et,{h:()=>j});var H=me(7398);function j(st){return(0,H.U)(()=>st)}},7537:(nn,Et,me)=>{"use strict";me.d(Et,{J:()=>st});var H=me(1631),j=me(2737);function st(X=1/0){return(0,H.z)(j.y,X)}},1631:(nn,Et,me)=>{"use strict";me.d(Et,{z:()=>f});var H=me(7398),j=me(4829),st=me(9360),X=me(7103),r=me(8251),O=me(4674);function f(m,d,y=1/0){return(0,O.m)(d)?f((w,b)=>(0,H.U)((i,l)=>d(w,i,b,l))((0,j.Xf)(m(w,b))),y):("number"==typeof d&&(y=d),(0,st.e)((w,b)=>function G(m,d,y,w,b,i,l,h){const s=[];let c=0,p=0,v=!1;const a=()=>{v&&!s.length&&!c&&d.complete()},g=$=>c<w?E($):s.push($),E=$=>{i&&d.next($),c++;let k=!1;(0,j.Xf)(y($,p++)).subscribe((0,r.x)(d,M=>{null==b||b(M),i?g(M):d.next(M)},()=>{k=!0},void 0,()=>{if(k)try{for(c--;s.length&&c<w;){const M=s.shift();l?(0,X.f)(d,l,()=>E(M)):E(M)}a()}catch(M){d.error(M)}}))};return m.subscribe((0,r.x)(d,g,()=>{v=!0,a()})),()=>{null==h||h()}}(w,b,m,y)))}},6196:(nn,Et,me)=>{"use strict";me.d(Et,{x:()=>st});var H=me(9360),j=me(8251);function st(){return(0,H.e)((X,r)=>{let G=null;X._refCount++;const O=(0,j.x)(r,void 0,void 0,void 0,()=>{if(!X||X._refCount<=0||0<--X._refCount)return void(G=null);const f=X._connection,m=G;G=null,f&&(!m||f===m)&&f.unsubscribe(),r.unsubscribe()});X.subscribe(O),O.closed||(G=X.connect())})}},4664:(nn,Et,me)=>{"use strict";me.d(Et,{w:()=>X});var H=me(4829),j=me(9360),st=me(8251);function X(r,G){return(0,j.e)((O,f)=>{let m=null,d=0,y=!1;const w=()=>y&&!m&&f.complete();O.subscribe((0,st.x)(f,b=>{null==m||m.unsubscribe();let i=0;const l=d++;(0,H.Xf)(r(b,l)).subscribe(m=(0,st.x)(f,h=>f.next(G?G(b,h,l,i++):h),()=>{m=null,w()}))},()=>{y=!0,w()}))})}},8180:(nn,Et,me)=>{"use strict";me.d(Et,{q:()=>X});var H=me(6232),j=me(9360),st=me(8251);function X(r){return r<=0?()=>H.E:(0,j.e)((G,O)=>{let f=0;G.subscribe((0,st.x)(O,m=>{++f<=r&&(O.next(m),r<=f&&O.complete())}))})}},9397:(nn,Et,me)=>{"use strict";me.d(Et,{b:()=>r});var H=me(4674),j=me(9360),st=me(8251),X=me(2737);function r(G,O,f){const m=(0,H.m)(G)||O||f?{next:G,error:O,complete:f}:G;return m?(0,j.e)((d,y)=>{var w;null===(w=m.subscribe)||void 0===w||w.call(m);let b=!0;d.subscribe((0,st.x)(y,i=>{var l;null===(l=m.next)||void 0===l||l.call(m,i),y.next(i)},()=>{var i;b=!1,null===(i=m.complete)||void 0===i||i.call(m),y.complete()},i=>{var l;b=!1,null===(l=m.error)||void 0===l||l.call(m,i),y.error(i)},()=>{var i,l;b&&(null===(i=m.unsubscribe)||void 0===i||i.call(m)),null===(l=m.finalize)||void 0===l||l.call(m)}))}):X.y}},7599:(nn,Et,me)=>{"use strict";me.d(Et,{z:()=>H});const H={setTimeout(j,st,...X){const{delegate:r}=H;return null!=r&&r.setTimeout?r.setTimeout(j,st,...X):setTimeout(j,st,...X)},clearTimeout(j){const{delegate:st}=H;return((null==st?void 0:st.clearTimeout)||clearTimeout)(j)},delegate:void 0}},4971:(nn,Et,me)=>{"use strict";me.d(Et,{h:()=>j});const j=function H(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(nn,Et,me)=>{"use strict";me.d(Et,{L:()=>H});const H="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(nn,Et,me)=>{"use strict";me.d(Et,{_6:()=>G,jO:()=>X,yG:()=>r});var H=me(4674),j=me(671);function st(O){return O[O.length-1]}function X(O){return(0,H.m)(st(O))?O.pop():void 0}function r(O){return(0,j.K)(st(O))?O.pop():void 0}function G(O,f){return"number"==typeof st(O)?O.pop():f}},7453:(nn,Et,me)=>{"use strict";me.d(Et,{D:()=>r});const{isArray:H}=Array,{getPrototypeOf:j,prototype:st,keys:X}=Object;function r(O){if(1===O.length){const f=O[0];if(H(f))return{args:f,keys:null};if(function G(O){return O&&"object"==typeof O&&j(O)===st}(f)){const m=X(f);return{args:m.map(d=>f[d]),keys:m}}}return{args:O,keys:null}}},9039:(nn,Et,me)=>{"use strict";function H(j,st){if(j){const X=j.indexOf(st);0<=X&&j.splice(X,1)}}me.d(Et,{P:()=>H})},2306:(nn,Et,me)=>{"use strict";function H(j){const X=j(r=>{Error.call(r),r.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}me.d(Et,{d:()=>H})},2714:(nn,Et,me)=>{"use strict";function H(j,st){return j.reduce((X,r,G)=>(X[r]=st[G],X),{})}me.d(Et,{n:()=>H})},1441:(nn,Et,me)=>{"use strict";me.d(Et,{O:()=>X,x:()=>st});var H=me(2653);let j=null;function st(r){if(H.config.useDeprecatedSynchronousErrorHandling){const G=!j;if(G&&(j={errorThrown:!1,error:null}),r(),G){const{errorThrown:O,error:f}=j;if(j=null,O)throw f}}else r()}function X(r){H.config.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=r)}},7103:(nn,Et,me)=>{"use strict";function H(j,st,X,r=0,G=!1){const O=st.schedule(function(){X(),G?j.add(this.schedule(null,r)):this.unsubscribe()},r);if(j.add(O),!G)return O}me.d(Et,{f:()=>H})},2737:(nn,Et,me)=>{"use strict";function H(j){return j}me.d(Et,{y:()=>H})},4266:(nn,Et,me)=>{"use strict";me.d(Et,{z:()=>H});const H=j=>j&&"number"==typeof j.length&&"function"!=typeof j},5726:(nn,Et,me)=>{"use strict";me.d(Et,{D:()=>j});var H=me(4674);function j(st){return Symbol.asyncIterator&&(0,H.m)(null==st?void 0:st[Symbol.asyncIterator])}},4674:(nn,Et,me)=>{"use strict";function H(j){return"function"==typeof j}me.d(Et,{m:()=>H})},8382:(nn,Et,me)=>{"use strict";me.d(Et,{c:()=>st});var H=me(4850),j=me(4674);function st(X){return(0,j.m)(X[H.L])}},3664:(nn,Et,me)=>{"use strict";me.d(Et,{T:()=>st});var H=me(4971),j=me(4674);function st(X){return(0,j.m)(null==X?void 0:X[H.h])}},4026:(nn,Et,me)=>{"use strict";me.d(Et,{t:()=>j});var H=me(4674);function j(st){return(0,H.m)(null==st?void 0:st.then)}},541:(nn,Et,me)=>{"use strict";me.d(Et,{L:()=>X,Q:()=>st});var H=me(7582),j=me(4674);function st(r){return(0,H.FC)(this,arguments,function*(){const O=r.getReader();try{for(;;){const{value:f,done:m}=yield(0,H.qq)(O.read());if(m)return yield(0,H.qq)(void 0);yield yield(0,H.qq)(f)}}finally{O.releaseLock()}})}function X(r){return(0,j.m)(null==r?void 0:r.getReader)}},671:(nn,Et,me)=>{"use strict";me.d(Et,{K:()=>j});var H=me(4674);function j(st){return st&&(0,H.m)(st.schedule)}},9360:(nn,Et,me)=>{"use strict";me.d(Et,{A:()=>j,e:()=>st});var H=me(4674);function j(X){return(0,H.m)(null==X?void 0:X.lift)}function st(X){return r=>{if(j(r))return r.lift(function(G){try{return X(G,this)}catch(O){this.error(O)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(nn,Et,me)=>{"use strict";me.d(Et,{Z:()=>X});var H=me(7398);const{isArray:j}=Array;function X(r){return(0,H.U)(G=>function st(r,G){return j(G)?r(...G):r(G)}(r,G))}},2420:(nn,Et,me)=>{"use strict";function H(){}me.d(Et,{Z:()=>H})},8407:(nn,Et,me)=>{"use strict";me.d(Et,{U:()=>st,z:()=>j});var H=me(2737);function j(...X){return st(X)}function st(X){return 0===X.length?H.y:1===X.length?X[0]:function(G){return X.reduce((O,f)=>f(O),G)}}},3894:(nn,Et,me)=>{"use strict";me.d(Et,{h:()=>st});var H=me(2653),j=me(7599);function st(X){j.z.setTimeout(()=>{const{onUnhandledError:r}=H.config;if(!r)throw X;r(X)})}},9853:(nn,Et,me)=>{"use strict";function H(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}me.d(Et,{z:()=>H})},863:(nn,Et,me)=>{var H={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,7350,433],"./ion-datetime_3.entry.js":[7059,7350,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function j(st){if(!me.o(H,st))return Promise.resolve().then(()=>{var G=new Error("Cannot find module '"+st+"'");throw G.code="MODULE_NOT_FOUND",G});var X=H[st],r=X[0];return Promise.all(X.slice(1).map(me.e)).then(()=>me(r))}j.keys=()=>Object.keys(H),j.id=863,nn.exports=j},7061:(nn,Et,me)=>{var H=me(8698).default;function j(){"use strict";nn.exports=j=function(){return st},nn.exports.__esModule=!0,nn.exports.default=nn.exports;var st={},X=Object.prototype,r=X.hasOwnProperty,G=Object.defineProperty||function(D,R,V){D[R]=V.value},O="function"==typeof Symbol?Symbol:{},f=O.iterator||"@@iterator",m=O.asyncIterator||"@@asyncIterator",d=O.toStringTag||"@@toStringTag";function y(D,R,V){return Object.defineProperty(D,R,{value:V,enumerable:!0,configurable:!0,writable:!0}),D[R]}try{y({},"")}catch{y=function(V,N,Q){return V[N]=Q}}function w(D,R,V,N){var T=Object.create((R&&R.prototype instanceof l?R:l).prototype),K=new L(N||[]);return G(T,"_invoke",{value:$(D,V,K)}),T}function b(D,R,V){try{return{type:"normal",arg:D.call(R,V)}}catch(N){return{type:"throw",arg:N}}}st.wrap=w;var i={};function l(){}function h(){}function s(){}var c={};y(c,f,function(){return this});var p=Object.getPrototypeOf,v=p&&p(p(U([])));v&&v!==X&&r.call(v,f)&&(c=v);var a=s.prototype=l.prototype=Object.create(c);function g(D){["next","throw","return"].forEach(function(R){y(D,R,function(V){return this._invoke(R,V)})})}function E(D,R){function V(Q,T,K,se){var fe=b(D[Q],D,T);if("throw"!==fe.type){var Ie=fe.arg,Z=Ie.value;return Z&&"object"==H(Z)&&r.call(Z,"__await")?R.resolve(Z.__await).then(function(ie){V("next",ie,K,se)},function(ie){V("throw",ie,K,se)}):R.resolve(Z).then(function(ie){Ie.value=ie,K(Ie)},function(ie){return V("throw",ie,K,se)})}se(fe.arg)}var N;G(this,"_invoke",{value:function(T,K){function se(){return new R(function(fe,Ie){V(T,K,fe,Ie)})}return N=N?N.then(se,se):se()}})}function $(D,R,V){var N="suspendedStart";return function(Q,T){if("executing"===N)throw new Error("Generator is already running");if("completed"===N){if("throw"===Q)throw T;return{value:void 0,done:!0}}for(V.method=Q,V.arg=T;;){var K=V.delegate;if(K){var se=k(K,V);if(se){if(se===i)continue;return se}}if("next"===V.method)V.sent=V._sent=V.arg;else if("throw"===V.method){if("suspendedStart"===N)throw N="completed",V.arg;V.dispatchException(V.arg)}else"return"===V.method&&V.abrupt("return",V.arg);N="executing";var fe=b(D,R,V);if("normal"===fe.type){if(N=V.done?"completed":"suspendedYield",fe.arg===i)continue;return{value:fe.arg,done:V.done}}"throw"===fe.type&&(N="completed",V.method="throw",V.arg=fe.arg)}}}function k(D,R){var V=R.method,N=D.iterator[V];if(void 0===N)return R.delegate=null,"throw"===V&&D.iterator.return&&(R.method="return",R.arg=void 0,k(D,R),"throw"===R.method)||"return"!==V&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+V+"' method")),i;var Q=b(N,D.iterator,R.arg);if("throw"===Q.type)return R.method="throw",R.arg=Q.arg,R.delegate=null,i;var T=Q.arg;return T?T.done?(R[D.resultName]=T.value,R.next=D.nextLoc,"return"!==R.method&&(R.method="next",R.arg=void 0),R.delegate=null,i):T:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,i)}function M(D){var R={tryLoc:D[0]};1 in D&&(R.catchLoc=D[1]),2 in D&&(R.finallyLoc=D[2],R.afterLoc=D[3]),this.tryEntries.push(R)}function A(D){var R=D.completion||{};R.type="normal",delete R.arg,D.completion=R}function L(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(M,this),this.reset(!0)}function U(D){if(D){var R=D[f];if(R)return R.call(D);if("function"==typeof D.next)return D;if(!isNaN(D.length)){var V=-1,N=function Q(){for(;++V<D.length;)if(r.call(D,V))return Q.value=D[V],Q.done=!1,Q;return Q.value=void 0,Q.done=!0,Q};return N.next=N}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=s,G(a,"constructor",{value:s,configurable:!0}),G(s,"constructor",{value:h,configurable:!0}),h.displayName=y(s,d,"GeneratorFunction"),st.isGeneratorFunction=function(D){var R="function"==typeof D&&D.constructor;return!!R&&(R===h||"GeneratorFunction"===(R.displayName||R.name))},st.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,s):(D.__proto__=s,y(D,d,"GeneratorFunction")),D.prototype=Object.create(a),D},st.awrap=function(D){return{__await:D}},g(E.prototype),y(E.prototype,m,function(){return this}),st.AsyncIterator=E,st.async=function(D,R,V,N,Q){void 0===Q&&(Q=Promise);var T=new E(w(D,R,V,N),Q);return st.isGeneratorFunction(R)?T:T.next().then(function(K){return K.done?K.value:T.next()})},g(a),y(a,d,"Generator"),y(a,f,function(){return this}),y(a,"toString",function(){return"[object Generator]"}),st.keys=function(D){var R=Object(D),V=[];for(var N in R)V.push(N);return V.reverse(),function Q(){for(;V.length;){var T=V.pop();if(T in R)return Q.value=T,Q.done=!1,Q}return Q.done=!0,Q}},st.values=U,L.prototype={constructor:L,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!R)for(var V in this)"t"===V.charAt(0)&&r.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=void 0)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if("throw"===R.type)throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var V=this;function N(Ie,Z){return K.type="throw",K.arg=R,V.next=Ie,Z&&(V.method="next",V.arg=void 0),!!Z}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var T=this.tryEntries[Q],K=T.completion;if("root"===T.tryLoc)return N("end");if(T.tryLoc<=this.prev){var se=r.call(T,"catchLoc"),fe=r.call(T,"finallyLoc");if(se&&fe){if(this.prev<T.catchLoc)return N(T.catchLoc,!0);if(this.prev<T.finallyLoc)return N(T.finallyLoc)}else if(se){if(this.prev<T.catchLoc)return N(T.catchLoc,!0)}else{if(!fe)throw new Error("try statement without catch or finally");if(this.prev<T.finallyLoc)return N(T.finallyLoc)}}}},abrupt:function(R,V){for(var N=this.tryEntries.length-1;N>=0;--N){var Q=this.tryEntries[N];if(Q.tryLoc<=this.prev&&r.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var T=Q;break}}T&&("break"===R||"continue"===R)&&T.tryLoc<=V&&V<=T.finallyLoc&&(T=null);var K=T?T.completion:{};return K.type=R,K.arg=V,T?(this.method="next",this.next=T.finallyLoc,i):this.complete(K)},complete:function(R,V){if("throw"===R.type)throw R.arg;return"break"===R.type||"continue"===R.type?this.next=R.arg:"return"===R.type?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):"normal"===R.type&&V&&(this.next=V),i},finish:function(R){for(var V=this.tryEntries.length-1;V>=0;--V){var N=this.tryEntries[V];if(N.finallyLoc===R)return this.complete(N.completion,N.afterLoc),A(N),i}},catch:function(R){for(var V=this.tryEntries.length-1;V>=0;--V){var N=this.tryEntries[V];if(N.tryLoc===R){var Q=N.completion;if("throw"===Q.type){var T=Q.arg;A(N)}return T}}throw new Error("illegal catch attempt")},delegateYield:function(R,V,N){return this.delegate={iterator:U(R),resultName:V,nextLoc:N},"next"===this.method&&(this.arg=void 0),i}},st}nn.exports=j,nn.exports.__esModule=!0,nn.exports.default=nn.exports},8698:nn=>{function Et(me){return nn.exports=Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},nn.exports.__esModule=!0,nn.exports.default=nn.exports,Et(me)}nn.exports=Et,nn.exports.__esModule=!0,nn.exports.default=nn.exports},4687:(nn,Et,me)=>{var H=me(7061)();nn.exports=H;try{regeneratorRuntime=H}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=H:Function("r","regeneratorRuntime = r")(H)}},6814:(nn,Et,me)=>{"use strict";me.d(Et,{Do:()=>h,EM:()=>Ao,HT:()=>X,JF:()=>oo,K0:()=>G,Mx:()=>Cn,NF:()=>ro,O5:()=>Gr,PM:()=>So,S$:()=>b,V_:()=>f,Ye:()=>s,b0:()=>l,bD:()=>Hr,ez:()=>Kr,q:()=>st,sg:()=>gr,tP:()=>qt,w_:()=>r});var H=me(9468);let j=null;function st(){return j}function X(he){j||(j=he)}class r{}const G=new H.OlP("DocumentToken");let O=(()=>{var he;class Me{historyGo(Ce){throw new Error("Not implemented")}}return(he=Me).\u0275fac=function(Ce){return new(Ce||he)},he.\u0275prov=H.Yz7({token:he,factory:function(){return(0,H.f3M)(m)},providedIn:"platform"}),Me})();const f=new H.OlP("Location Initialized");let m=(()=>{var he;class Me extends O{constructor(){super(),this._doc=(0,H.f3M)(G),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return st().getBaseHref(this._doc)}onPopState(Ce){const Qe=st().getGlobalEventTarget(this._doc,"window");return Qe.addEventListener("popstate",Ce,!1),()=>Qe.removeEventListener("popstate",Ce)}onHashChange(Ce){const Qe=st().getGlobalEventTarget(this._doc,"window");return Qe.addEventListener("hashchange",Ce,!1),()=>Qe.removeEventListener("hashchange",Ce)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ce){this._location.pathname=Ce}pushState(Ce,Qe,vt){this._history.pushState(Ce,Qe,vt)}replaceState(Ce,Qe,vt){this._history.replaceState(Ce,Qe,vt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ce=0){this._history.go(Ce)}getState(){return this._history.state}}return(he=Me).\u0275fac=function(Ce){return new(Ce||he)},he.\u0275prov=H.Yz7({token:he,factory:function(){return new he},providedIn:"platform"}),Me})();function d(he,Me){if(0==he.length)return Me;if(0==Me.length)return he;let it=0;return he.endsWith("/")&&it++,Me.startsWith("/")&&it++,2==it?he+Me.substring(1):1==it?he+Me:he+"/"+Me}function y(he){const Me=he.match(/#|\?|$/),it=Me&&Me.index||he.length;return he.slice(0,it-("/"===he[it-1]?1:0))+he.slice(it)}function w(he){return he&&"?"!==he[0]?"?"+he:he}let b=(()=>{var he;class Me{historyGo(Ce){throw new Error("Not implemented")}}return(he=Me).\u0275fac=function(Ce){return new(Ce||he)},he.\u0275prov=H.Yz7({token:he,factory:function(){return(0,H.f3M)(l)},providedIn:"root"}),Me})();const i=new H.OlP("appBaseHref");let l=(()=>{var he;class Me extends b{constructor(Ce,Qe){var vt,Qt,yn;super(),this._platformLocation=Ce,this._removeListenerFns=[],this._baseHref=null!==(vt=null!==(Qt=null!=Qe?Qe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Qt?Qt:null===(yn=(0,H.f3M)(G).location)||void 0===yn?void 0:yn.origin)&&void 0!==vt?vt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ce){return d(this._baseHref,Ce)}path(Ce=!1){const Qe=this._platformLocation.pathname+w(this._platformLocation.search),vt=this._platformLocation.hash;return vt&&Ce?`${Qe}${vt}`:Qe}pushState(Ce,Qe,vt,Qt){const yn=this.prepareExternalUrl(vt+w(Qt));this._platformLocation.pushState(Ce,Qe,yn)}replaceState(Ce,Qe,vt,Qt){const yn=this.prepareExternalUrl(vt+w(Qt));this._platformLocation.replaceState(Ce,Qe,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ce=0){var Qe,vt;null===(Qe=(vt=this._platformLocation).historyGo)||void 0===Qe||Qe.call(vt,Ce)}}return(he=Me).\u0275fac=function(Ce){return new(Ce||he)(H.LFG(O),H.LFG(i,8))},he.\u0275prov=H.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),Me})(),h=(()=>{var he;class Me extends b{constructor(Ce,Qe){super(),this._platformLocation=Ce,this._baseHref="",this._removeListenerFns=[],null!=Qe&&(this._baseHref=Qe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}path(Ce=!1){let Qe=this._platformLocation.hash;return null==Qe&&(Qe="#"),Qe.length>0?Qe.substring(1):Qe}prepareExternalUrl(Ce){const Qe=d(this._baseHref,Ce);return Qe.length>0?"#"+Qe:Qe}pushState(Ce,Qe,vt,Qt){let yn=this.prepareExternalUrl(vt+w(Qt));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.pushState(Ce,Qe,yn)}replaceState(Ce,Qe,vt,Qt){let yn=this.prepareExternalUrl(vt+w(Qt));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.replaceState(Ce,Qe,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ce=0){var Qe,vt;null===(Qe=(vt=this._platformLocation).historyGo)||void 0===Qe||Qe.call(vt,Ce)}}return(he=Me).\u0275fac=function(Ce){return new(Ce||he)(H.LFG(O),H.LFG(i,8))},he.\u0275prov=H.Yz7({token:he,factory:he.\u0275fac}),Me})(),s=(()=>{var he;class Me{constructor(Ce){this._subject=new H.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ce;const Qe=this._locationStrategy.getBaseHref();this._basePath=function a(he){if(new RegExp("^(https?:)?//").test(he)){const[,it]=he.split(/\/\/[^\/]+/);return it}return he}(y(v(Qe))),this._locationStrategy.onPopState(vt=>{this._subject.emit({url:this.path(!0),pop:!0,state:vt.state,type:vt.type})})}ngOnDestroy(){var Ce;null===(Ce=this._urlChangeSubscription)||void 0===Ce||Ce.unsubscribe(),this._urlChangeListeners=[]}path(Ce=!1){return this.normalize(this._locationStrategy.path(Ce))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ce,Qe=""){return this.path()==this.normalize(Ce+w(Qe))}normalize(Ce){return Me.stripTrailingSlash(function p(he,Me){if(!he||!Me.startsWith(he))return Me;const it=Me.substring(he.length);return""===it||["/",";","?","#"].includes(it[0])?it:Me}(this._basePath,v(Ce)))}prepareExternalUrl(Ce){return Ce&&"/"!==Ce[0]&&(Ce="/"+Ce),this._locationStrategy.prepareExternalUrl(Ce)}go(Ce,Qe="",vt=null){this._locationStrategy.pushState(vt,"",Ce,Qe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+w(Qe)),vt)}replaceState(Ce,Qe="",vt=null){this._locationStrategy.replaceState(vt,"",Ce,Qe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+w(Qe)),vt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ce=0){var Qe,vt;null===(Qe=(vt=this._locationStrategy).historyGo)||void 0===Qe||Qe.call(vt,Ce)}onUrlChange(Ce){return this._urlChangeListeners.push(Ce),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Qe=>{this._notifyUrlChangeListeners(Qe.url,Qe.state)})),()=>{const Qe=this._urlChangeListeners.indexOf(Ce);var vt;this._urlChangeListeners.splice(Qe,1),0===this._urlChangeListeners.length&&(null===(vt=this._urlChangeSubscription)||void 0===vt||vt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ce="",Qe){this._urlChangeListeners.forEach(vt=>vt(Ce,Qe))}subscribe(Ce,Qe,vt){return this._subject.subscribe({next:Ce,error:Qe,complete:vt})}}return(he=Me).normalizeQueryParams=w,he.joinWithSlash=d,he.stripTrailingSlash=y,he.\u0275fac=function(Ce){return new(Ce||he)(H.LFG(b))},he.\u0275prov=H.Yz7({token:he,factory:function(){return function c(){return new s((0,H.LFG)(b))}()},providedIn:"root"}),Me})();function v(he){return he.replace(/\/index.html$/,"")}function Cn(he,Me){Me=encodeURIComponent(Me);for(const it of he.split(";")){const Ce=it.indexOf("="),[Qe,vt]=-1==Ce?[it,""]:[it.slice(0,Ce),it.slice(Ce+1)];if(Qe.trim()===Me)return decodeURIComponent(vt)}return null}class Cr{constructor(Me,it,Ce,Qe){this.$implicit=Me,this.ngForOf=it,this.index=Ce,this.count=Qe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gr=(()=>{var he;class Me{set ngForOf(Ce){this._ngForOf=Ce,this._ngForOfDirty=!0}set ngForTrackBy(Ce){this._trackByFn=Ce}get ngForTrackBy(){return this._trackByFn}constructor(Ce,Qe,vt){this._viewContainer=Ce,this._template=Qe,this._differs=vt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ce){Ce&&(this._template=Ce)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ce=this._ngForOf;!this._differ&&Ce&&(this._differ=this._differs.find(Ce).create(this.ngForTrackBy))}if(this._differ){const Ce=this._differ.diff(this._ngForOf);Ce&&this._applyChanges(Ce)}}_applyChanges(Ce){const Qe=this._viewContainer;Ce.forEachOperation((vt,Qt,yn)=>{if(null==vt.previousIndex)Qe.createEmbeddedView(this._template,new Cr(vt.item,this._ngForOf,-1,-1),null===yn?void 0:yn);else if(null==yn)Qe.remove(null===Qt?void 0:Qt);else if(null!==Qt){const Qn=Qe.get(Qt);Qe.move(Qn,yn),Or(Qn,vt)}});for(let vt=0,Qt=Qe.length;vt<Qt;vt++){const Qn=Qe.get(vt).context;Qn.index=vt,Qn.count=Qt,Qn.ngForOf=this._ngForOf}Ce.forEachIdentityChange(vt=>{Or(Qe.get(vt.currentIndex),vt)})}static ngTemplateContextGuard(Ce,Qe){return!0}}return(he=Me).\u0275fac=function(Ce){return new(Ce||he)(H.Y36(H.s_b),H.Y36(H.Rgc),H.Y36(H.ZZ4))},he.\u0275dir=H.lG2({type:he,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Me})();function Or(he,Me){he.context.$implicit=Me.item}let Gr=(()=>{var he;class Me{constructor(Ce,Qe){this._viewContainer=Ce,this._context=new Ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Qe}set ngIf(Ce){this._context.$implicit=this._context.ngIf=Ce,this._updateView()}set ngIfThen(Ce){Lr("ngIfThen",Ce),this._thenTemplateRef=Ce,this._thenViewRef=null,this._updateView()}set ngIfElse(Ce){Lr("ngIfElse",Ce),this._elseTemplateRef=Ce,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ce,Qe){return!0}}return(he=Me).\u0275fac=function(Ce){return new(Ce||he)(H.Y36(H.s_b),H.Y36(H.Rgc))},he.\u0275dir=H.lG2({type:he,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Me})();class Ir{constructor(){this.$implicit=null,this.ngIf=null}}function Lr(he,Me){if(Me&&!Me.createEmbeddedView)throw new Error(`${he} must be a TemplateRef, but received '${(0,H.AaK)(Me)}'.`)}let qt=(()=>{var he;class Me{constructor(Ce){this._viewContainerRef=Ce,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ce){if(Ce.ngTemplateOutlet||Ce.ngTemplateOutletInjector){const Qe=this._viewContainerRef;if(this._viewRef&&Qe.remove(Qe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:vt,ngTemplateOutletContext:Qt,ngTemplateOutletInjector:yn}=this;this._viewRef=Qe.createEmbeddedView(vt,Qt,yn?{injector:yn}:void 0)}else this._viewRef=null}else this._viewRef&&Ce.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(he=Me).\u0275fac=function(Ce){return new(Ce||he)(H.Y36(H.s_b))},he.\u0275dir=H.lG2({type:he,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[H.TTD]}),Me})(),Kr=(()=>{var he;class Me{}return(he=Me).\u0275fac=function(Ce){return new(Ce||he)},he.\u0275mod=H.oAB({type:he}),he.\u0275inj=H.cJS({}),Me})();const Hr="browser",jr="server";function ro(he){return he===Hr}function So(he){return he===jr}let Ao=(()=>{var he;class Me{}return(he=Me).\u0275prov=(0,H.Yz7)({token:he,providedIn:"root",factory:()=>new dr((0,H.LFG)(G),window)}),Me})();class dr{constructor(Me,it){this.document=Me,this.window=it,this.offset=()=>[0,0]}setOffset(Me){this.offset=Array.isArray(Me)?()=>Me:Me}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Me){this.supportsScrolling()&&this.window.scrollTo(Me[0],Me[1])}scrollToAnchor(Me){if(!this.supportsScrolling())return;const it=function Oo(he,Me){const it=he.getElementById(Me)||he.getElementsByName(Me)[0];if(it)return it;if("function"==typeof he.createTreeWalker&&he.body&&"function"==typeof he.body.attachShadow){const Ce=he.createTreeWalker(he.body,NodeFilter.SHOW_ELEMENT);let Qe=Ce.currentNode;for(;Qe;){const vt=Qe.shadowRoot;if(vt){const Qt=vt.getElementById(Me)||vt.querySelector(`[name="${Me}"]`);if(Qt)return Qt}Qe=Ce.nextNode()}}return null}(this.document,Me);it&&(this.scrollToElement(it),it.focus())}setHistoryScrollRestoration(Me){this.supportsScrolling()&&(this.window.history.scrollRestoration=Me)}scrollToElement(Me){const it=Me.getBoundingClientRect(),Ce=it.left+this.window.pageXOffset,Qe=it.top+this.window.pageYOffset,vt=this.offset();this.window.scrollTo(Ce-vt[0],Qe-vt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class oo{}},9468:(nn,Et,me)=>{"use strict";me.d(Et,{tb:()=>Ld,AFp:()=>wh,ip1:()=>gy,hGG:()=>DC,z2F:()=>Wi,Ojb:()=>i_,sBO:()=>cC,Sil:()=>AE,EJc:()=>TE,Xts:()=>ma,SBq:()=>_a,lqb:()=>Ss,qLn:()=>Ns,vpe:()=>Ds,XFs:()=>Ht,OlP:()=>Tr,zs3:()=>ms,ZZ4:()=>Gd,aQg:()=>Vd,soG:()=>du,YKP:()=>bg,h0i:()=>ei,PXZ:()=>tC,R0b:()=>jo,FiY:()=>cl,Lbi:()=>hc,g9A:()=>xh,Qsj:()=>w_,FYo:()=>Th,JOm:()=>vl,q3G:()=>Zs,tp0:()=>dl,Rgc:()=>Na,dDg:()=>XE,eoX:()=>Cy,GfV:()=>Ih,s_b:()=>uu,ifc:()=>Xe,VuI:()=>FC,LMc:()=>BC,MMx:()=>xg,Lck:()=>dx,eFA:()=>Ty,G48:()=>uC,Gpc:()=>p,f3M:()=>Se,$WT:()=>Xr,MR2:()=>ic,_c5:()=>SC,qFp:()=>UC,rg0:()=>Qn,c2e:()=>yy,zSh:()=>uc,HDt:()=>vy,wAp:()=>Gi,vHH:()=>k,lri:()=>xy,rWj:()=>Ey,JZr:()=>$,EiD:()=>dh,mCW:()=>Ml,qzn:()=>wi,JVY:()=>j0,pB0:()=>k0,eBb:()=>O0,L6k:()=>A0,LAX:()=>P0,cg1:()=>ud,kL8:()=>zm,dqk:()=>Pe,Z0I:()=>yt,eJc:()=>Dd,QGY:()=>ed,F4k:()=>qp,RDi:()=>E0,AaK:()=>h,z3N:()=>As,qOj:()=>Uc,Xq5:()=>Tp,TTD:()=>Jr,_Bn:()=>_g,jDz:()=>Eg,xp6:()=>Qh,uIk:()=>Gc,ekj:()=>sd,Suo:()=>Zg,Xpm:()=>Jn,lG2:()=>Co,Yz7:()=>Ye,cJS:()=>Ke,oAB:()=>po,Yjl:()=>uo,Y36:()=>Ii,_UZ:()=>Jc,GkF:()=>Qc,qZA:()=>Kl,TgZ:()=>Xl,EpF:()=>Yp,n5z:()=>mf,LFG:()=>ee,$8M:()=>Pu,$Z:()=>tp,NdJ:()=>td,CRH:()=>Jg,oxw:()=>Qp,Hsn:()=>tm,F$t:()=>em,Q6J:()=>qc,MGl:()=>Ql,DdM:()=>jg,iGM:()=>Yg,MAs:()=>Hp,KtG:()=>Xa,CHM:()=>Ki,LSH:()=>oc,P3R:()=>hh,Akn:()=>gs,YNc:()=>$p,_uU:()=>Sm,Oqu:()=>ad,hij:()=>nu,AsE:()=>ld,Gf:()=>qg});var H=me(8645),j=me(7394),st=me(5592),X=me(3019),r=me(5619),G=me(2096),O=me(4829),f=me(305),m=me(9360);function d(t={}){const{connector:n=(()=>new H.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:_=!0}=t;return P=>{let J,ue,ve,De=0,Le=!1,Ze=!1;const pt=()=>{null==ue||ue.unsubscribe(),ue=void 0},It=()=>{pt(),J=ve=void 0,Le=Ze=!1},en=()=>{const hn=J;It(),null==hn||hn.unsubscribe()};return(0,m.e)((hn,xn)=>{De++,!Ze&&!Le&&pt();const On=ve=null!=ve?ve:n();xn.add(()=>{De--,0===De&&!Ze&&!Le&&(ue=y(en,_))}),On.subscribe(xn),!J&&De>0&&(J=new f.Hp({next:un=>On.next(un),error:un=>{Ze=!0,pt(),ue=y(It,o,un),On.error(un)},complete:()=>{Le=!0,pt(),ue=y(It,u),On.complete()}}),(0,O.Xf)(hn).subscribe(J))})(P)}}function y(t,n,...o){if(!0===n)return void t();if(!1===n)return;const u=new f.Hp({next:()=>{u.unsubscribe(),t()}});return(0,O.Xf)(n(...o)).subscribe(u)}var w=me(4664),b=me(3997);function i(t){for(let n in t)if(t[n]===i)return n;throw Error("Could not find renamed property on target object.")}function l(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function h(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(h).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function s(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const c=i({__forward_ref__:i});function p(t){return t.__forward_ref__=p,t.toString=function(){return h(this())},t}function v(t){return a(t)?t():t}function a(t){return"function"==typeof t&&t.hasOwnProperty(c)&&t.__forward_ref__===p}function g(t){return t&&!!t.\u0275providers}const $="https://g.co/ng/security#xss";class k extends Error{constructor(n,o){super(function M(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,o)),this.code=n}}function A(t){return"string"==typeof t?t:null==t?"":String(t)}function R(t,n){throw new k(-201,!1)}function $e(t,n){null==t&&function Fe(t,n,o,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${o} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function Ye(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ke(t){return{providers:t.providers||[],imports:t.imports||[]}}function at(t){return lt(t,Wt)||lt(t,rn)}function yt(t){return null!==at(t)}function lt(t,n){return t.hasOwnProperty(n)?t[n]:null}function St(t){return t&&(t.hasOwnProperty(Ct)||t.hasOwnProperty(cn))?t[Ct]:null}const Wt=i({\u0275prov:i}),Ct=i({\u0275inj:i}),rn=i({ngInjectableDef:i}),cn=i({ngInjectorDef:i});var Ht=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ht||{});let dn;function dt(t){const n=dn;return dn=t,n}function Ut(t,n,o){const u=at(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Ht.Optional?null:void 0!==n?n:void R(h(t))}const Pe=globalThis,Mn={},bt="__NG_DI_FLAG__",ht="ngTempTokenPath",gt=/\n/gm,Xt="__source";let sn;function En(t){const n=sn;return sn=t,n}function Bn(t,n=Ht.Default){if(void 0===sn)throw new k(-203,!1);return null===sn?Ut(t,void 0,n):sn.get(t,n&Ht.Optional?null:void 0,n)}function ee(t,n=Ht.Default){return(function tn(){return dn}()||Bn)(v(t),n)}function Se(t,n=Ht.Default){return ee(t,B(n))}function B(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Y(t){const n=[];for(let o=0;o<t.length;o++){const u=v(t[o]);if(Array.isArray(u)){if(0===u.length)throw new k(900,!1);let _,P=Ht.Default;for(let J=0;J<u.length;J++){const ue=u[J],ve=de(ue);"number"==typeof ve?-1===ve?_=ue.token:P|=ve:_=ue}n.push(ee(_,P))}else n.push(ee(u))}return n}function W(t,n){return t[bt]=n,t.prototype[bt]=n,t}function de(t){return t[bt]}function ge(t){return{toString:t}.toString()}var ke=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ke||{}),Xe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xe||{});const tt={},Ot=[],Gt=i({\u0275cmp:i}),Cn=i({\u0275dir:i}),Yt=i({\u0275pipe:i}),An=i({\u0275mod:i}),Xn=i({\u0275fac:i}),tr=i({__NG_ELEMENT_ID__:i}),ir=i({__NG_ENV_ID__:i});function Cr(t,n,o){let u=t.length;for(;;){const _=t.indexOf(n,o);if(-1===_)return _;if(0===_||t.charCodeAt(_-1)<=32){const P=n.length;if(_+P===u||t.charCodeAt(_+P)<=32)return _}o=_+1}}function gr(t,n,o){let u=0;for(;u<o.length;){const _=o[u];if("number"==typeof _){if(0!==_)break;u++;const P=o[u++],J=o[u++],ue=o[u++];t.setAttribute(n,J,ue,P)}else{const P=_,J=o[++u];yr(P)?t.setProperty(n,P,J):t.setAttribute(n,P,J),u++}}return u}function Or(t){return 3===t||4===t||6===t}function yr(t){return 64===t.charCodeAt(0)}function Gr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let u=0;u<n.length;u++){const _=n[u];"number"==typeof _?o=_:0===o||Ir(t,o,_,null,-1===o||2===o?n[++u]:null)}}return t}function Ir(t,n,o,u,_){let P=0,J=t.length;if(-1===n)J=-1;else for(;P<t.length;){const ue=t[P++];if("number"==typeof ue){if(ue===n){J=-1;break}if(ue>n){J=P-1;break}}}for(;P<t.length;){const ue=t[P];if("number"==typeof ue)break;if(ue===o){if(null===u)return void(null!==_&&(t[P+1]=_));if(u===t[P+1])return void(t[P+2]=_)}P++,null!==u&&P++,null!==_&&P++}-1!==J&&(t.splice(J,0,n),P=J+1),t.splice(P++,0,o),null!==u&&t.splice(P++,0,u),null!==_&&t.splice(P++,0,_)}const Lr="ng-template";function Sr(t,n,o){let u=0,_=!0;for(;u<t.length;){let P=t[u++];if("string"==typeof P&&_){const J=t[u++];if(o&&"class"===P&&-1!==Cr(J.toLowerCase(),n,0))return!0}else{if(1===P){for(;u<t.length&&"string"==typeof(P=t[u++]);)if(P.toLowerCase()===n)return!0;return!1}"number"==typeof P&&(_=!1)}}return!1}function Fr(t){return 4===t.type&&t.value!==Lr}function He(t,n,o){return n===(4!==t.type||o?t.value:Lr)}function Be(t,n,o){let u=4;const _=t.attrs||[],P=function qt(t){for(let n=0;n<t.length;n++)if(Or(t[n]))return n;return t.length}(_);let J=!1;for(let ue=0;ue<n.length;ue++){const ve=n[ue];if("number"!=typeof ve){if(!J)if(4&u){if(u=2|1&u,""!==ve&&!He(t,ve,o)||""===ve&&1===n.length){if(ot(u))return!1;J=!0}}else{const De=8&u?ve:n[++ue];if(8&u&&null!==t.attrs){if(!Sr(t.attrs,De,o)){if(ot(u))return!1;J=!0}continue}const Ze=ft(8&u?"class":ve,_,Fr(t),o);if(-1===Ze){if(ot(u))return!1;J=!0;continue}if(""!==De){let pt;pt=Ze>P?"":_[Ze+1].toLowerCase();const It=8&u?pt:null;if(It&&-1!==Cr(It,De,0)||2&u&&De!==pt){if(ot(u))return!1;J=!0}}}}else{if(!J&&!ot(u)&&!ot(ve))return!1;if(J&&ot(ve))continue;J=!1,u=ve|1&u}}return ot(u)||J}function ot(t){return 0==(1&t)}function ft(t,n,o,u){if(null===n)return-1;let _=0;if(u||!o){let P=!1;for(;_<n.length;){const J=n[_];if(J===t)return _;if(3===J||6===J)P=!0;else{if(1===J||2===J){let ue=n[++_];for(;"string"==typeof ue;)ue=n[++_];continue}if(4===J)break;if(0===J){_+=4;continue}}_+=P?1:2}return-1}return function ln(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const u=t[o];if("number"==typeof u)return-1;if(u===n)return o;o++}return-1}(n,t)}function Bt(t,n,o=!1){for(let u=0;u<n.length;u++)if(Be(t,n[u],o))return!0;return!1}function Kt(t,n){e:for(let o=0;o<n.length;o++){const u=n[o];if(t.length===u.length){for(let _=0;_<t.length;_++)if(t[_]!==u[_])continue e;return!0}}return!1}function an(t,n){return t?":not("+n.trim()+")":n}function bn(t){let n=t[0],o=1,u=2,_="",P=!1;for(;o<t.length;){let J=t[o];if("string"==typeof J)if(2&u){const ue=t[++o];_+="["+J+(ue.length>0?'="'+ue+'"':"")+"]"}else 8&u?_+="."+J:4&u&&(_+=" "+J);else""!==_&&!ot(J)&&(n+=an(P,_),_=""),u=J,P=P||!ot(u);o++}return""!==_&&(n+=an(P,_)),n}function Jn(t){return ge(()=>{var n;const o=es(t),u={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ke.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||Xe.Emulated,styles:t.styles||Ot,_:null,schemas:t.schemas||null,tView:null,id:""};Zo(u);const _=t.dependencies;return u.directiveDefs=no(_,!1),u.pipeDefs=no(_,!0),u.id=function go(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const _ of o)n=Math.imul(31,n)+_.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(u),u})}function lr(t){return Hn(t)||Dr(t)}function to(t){return null!==t}function po(t){return ge(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mo(t,n){if(null==t)return tt;const o={};for(const u in t)if(t.hasOwnProperty(u)){let _=t[u],P=_;Array.isArray(_)&&(P=_[1],_=_[0]),o[_]=u,n&&(n[_]=P)}return o}function Co(t){return ge(()=>{const n=es(t);return Zo(n),n})}function uo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Hn(t){return t[Gt]||null}function Dr(t){return t[Cn]||null}function vr(t){return t[Yt]||null}function Xr(t){const n=Hn(t)||Dr(t)||vr(t);return null!==n&&n.standalone}function Vr(t,n){const o=t[An]||null;if(!o&&!0===n)throw new Error(`Type ${h(t)} does not have '\u0275mod' property.`);return o}function es(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||tt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mo(t.inputs,n),outputs:mo(t.outputs)}}function Zo(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function no(t,n){if(!t)return null;const o=n?vr:lr;return()=>("function"==typeof t?t():t).map(u=>o(u)).filter(to)}const Kn=0,wn=1,Nn=2,rr=3,Kr=4,Hr=5,jr=6,yo=7,ur=8,ro=9,So=10,$n=11,Do=12,No=13,Ao=14,dr=15,Oo=16,Bo=17,oo=18,Qr=19,Wo=20,Mo=21,To=22,Po=23,Uo=24,Vn=25,co=1,Io=2,Sn=7,ko=9,Te=11;function xe(t){return Array.isArray(t)&&"object"==typeof t[co]}function Je(t){return Array.isArray(t)&&!0===t[co]}function Zt(t){return 0!=(4&t.flags)}function vn(t){return t.componentOffset>-1}function jn(t){return 1==(1&t.flags)}function Un(t){return!!t.template}function Zn(t){return 0!=(512&t[Nn])}function zt(t,n){return t.hasOwnProperty(Xn)?t[Xn]:null}let Pn=null,kn=!1;function Tn(t){const n=Pn;return Pn=t,n}const zn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Nr(t){if(!Ar(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Mr(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function so(t){var n;t.dirty=!0,function zr(t){if(void 0===t.liveConsumerNode)return;const n=kn;kn=!0;try{for(const o of t.liveConsumerNode)o.dirty||so(o)}finally{kn=n}}(t),null===(n=t.consumerMarkedDirty)||void 0===n||n.call(t,t)}function ho(t){return t&&(t.nextProducerIndex=0),Tn(t)}function hr(t,n){if(Tn(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ar(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Er(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Mr(t){pr(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==o.version||(Nr(o),u!==o.version))return!0}return!1}function cr(t){if(pr(t),Ar(t))for(let n=0;n<t.producerNode.length;n++)Er(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Er(t,n){if(function Zr(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),pr(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)Er(t.producerNode[u],t.producerIndexOfThis[u]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],_=t.liveConsumerNode[n];pr(_),_.producerIndexOfThis[u]=n}}function Ar(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function pr(t){var n,o,u;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(u=t.producerLastReadVersion)&&void 0!==u||(t.producerLastReadVersion=[])}let ri=null;function Qn(t){const n=Tn(null);try{return t()}finally{Tn(n)}}const nr=()=>{},Wn=(()=>({...zn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:nr}))();class wr{constructor(n,o,u){this.previousValue=n,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Jr(){return Jo}function Jo(t){return t.type.prototype.ngOnChanges&&(t.setInput=bs),ts}function ts(){const t=is(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===tt)t.previous=n;else for(let u in n)o[u]=n[u];t.current=null,this.ngOnChanges(n)}}function bs(t,n,o,u){const _=this.declaredInputs[o],P=is(t)||function ps(t,n){return t[vo]=n}(t,{previous:tt,current:null}),J=P.current||(P.current={}),ue=P.previous,ve=ue[_];J[_]=new wr(ve&&ve.currentValue,n,ue===tt),t[u]=n}Jr.ngInherit=!0;const vo="__ngSimpleChanges__";function is(t){return t[vo]||null}const as=function(t,n,o){};function Br(t){for(;Array.isArray(t);)t=t[Kn];return t}function si(t,n){return Br(n[t])}function Fo(t,n){return Br(n[t.index])}function Wa(t,n){return t.data[n]}function Go(t,n){const o=n[t];return xe(o)?o:o[Kn]}function ls(t,n){return null==n?null:t[n]}function Zi(t){t[Bo]=0}function qd(t){1024&t[Nn]||(t[Nn]|=1024,us(t,1))}function Ji(t){1024&t[Nn]&&(t[Nn]&=-1025,us(t,-1))}function us(t,n){let o=t[rr];if(null===o)return;o[Hr]+=n;let u=o;for(o=o[rr];null!==o&&(1===n&&1===u[Hr]||-1===n&&0===u[Hr]);)o[Hr]+=n,u=o,o=o[rr]}const Yn={lFrame:Gn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Za(){return Yn.bindingsEnabled}function Vs(){return null!==Yn.skipHydrationRootTNode}function pn(){return Yn.lFrame.lView}function mr(){return Yn.lFrame.tView}function Ki(t){return Yn.lFrame.contextLView=t,t[ur]}function Xa(t){return Yn.lFrame.contextLView=null,t}function _o(){let t=Ka();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ka(){return Yn.lFrame.currentTNode}function cs(t,n){const o=Yn.lFrame;o.currentTNode=t,o.isParent=n}function Qi(){return Yn.lFrame.isParent}function ea(){Yn.lFrame.isParent=!1}function zs(){return Yn.lFrame.bindingIndex++}function xs(t){const n=Yn.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function ye(t,n){const o=Yn.lFrame;o.bindingIndex=o.bindingRootIndex=t,ce(n)}function ce(t){Yn.lFrame.currentDirectiveIndex=t}function Ve(){return Yn.lFrame.currentQueryIndex}function rt(t){Yn.lFrame.currentQueryIndex=t}function Rt(t){const n=t[wn];return 2===n.type?n.declTNode:1===n.type?t[jr]:null}function mn(t,n,o){if(o&Ht.SkipSelf){let _=n,P=t;for(;!(_=_.parent,null!==_||o&Ht.Host||(_=Rt(P),null===_||(P=P[Ao],10&_.type))););if(null===_)return!1;n=_,t=P}const u=Yn.lFrame=Dn();return u.currentTNode=n,u.lView=t,!0}function Vt(t){const n=Dn(),o=t[wn];Yn.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Dn(){const t=Yn.lFrame,n=null===t?null:t.child;return null===n?Gn(t):n}function Gn(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ur(){const t=Yn.lFrame;return Yn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const bo=Ur;function _r(){const t=Ur();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lo(){return Yn.lFrame.selectedIndex}function ns(t){Yn.lFrame.selectedIndex=t}function Rr(){const t=Yn.lFrame;return Wa(t.tView,t.selectedIndex)}let tf=!0;function el(){return tf}function Fs(t){tf=t}function tl(t,n){for(let De=n.directiveStart,Le=n.directiveEnd;De<Le;De++){const pt=t.data[De].type.prototype,{ngAfterContentInit:It,ngAfterContentChecked:en,ngAfterViewInit:hn,ngAfterViewChecked:xn,ngOnDestroy:On}=pt;var o,u,_,P,J,ue,ve;It&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-De,It),en&&((null!==(u=t.contentHooks)&&void 0!==u?u:t.contentHooks=[]).push(De,en),(null!==(_=t.contentCheckHooks)&&void 0!==_?_:t.contentCheckHooks=[]).push(De,en)),hn&&(null!==(P=t.viewHooks)&&void 0!==P?P:t.viewHooks=[]).push(-De,hn),xn&&((null!==(J=t.viewHooks)&&void 0!==J?J:t.viewHooks=[]).push(De,xn),(null!==(ue=t.viewCheckHooks)&&void 0!==ue?ue:t.viewCheckHooks=[]).push(De,xn)),null!=On&&(null!==(ve=t.destroyHooks)&&void 0!==ve?ve:t.destroyHooks=[]).push(De,On)}}function nl(t,n,o){nf(t,n,3,o)}function rl(t,n,o,u){(3&t[Nn])===o&&nf(t,n,o,u)}function Du(t,n){let o=t[Nn];(3&o)===n&&(o&=8191,o+=1,t[Nn]=o)}function nf(t,n,o,u){const P=null!=u?u:-1,J=n.length-1;let ue=0;for(let ve=void 0!==u?65535&t[Bo]:0;ve<J;ve++)if("number"==typeof n[ve+1]){if(ue=n[ve],null!=u&&ue>=u)break}else n[ve]<0&&(t[Bo]+=65536),(ue<P||-1==P)&&(rv(t,o,n,ve),t[Bo]=(4294901760&t[Bo])+ve+2),ve++}function rf(t,n){as(4,t,n);const o=Tn(null);try{n.call(t)}finally{Tn(o),as(5,t,n)}}function rv(t,n,o,u){const _=o[u]<0,P=o[u+1],ue=t[_?-o[u]:o[u]];_?t[Nn]>>13<t[Bo]>>16&&(3&t[Nn])===n&&(t[Nn]+=8192,rf(ue,P)):rf(ue,P)}const li=-1;class na{constructor(n,o,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Tu(t){return t!==li}function ra(t){return 32767&t}function oa(t,n){let o=function av(t){return t>>16}(t),u=n;for(;o>0;)u=u[Ao],o--;return u}let Iu=!0;function ol(t){const n=Iu;return Iu=t,n}const sf=255,af=5;let lv=0;const Cs={};function sl(t,n){const o=lf(t,n);if(-1!==o)return o;const u=n[wn];u.firstCreatePass&&(t.injectorIndex=n.length,ju(u.data,t),ju(n,null),ju(u.blueprint,null));const _=il(t,n),P=t.injectorIndex;if(Tu(_)){const J=ra(_),ue=oa(_,n),ve=ue[wn].data;for(let De=0;De<8;De++)n[P+De]=ue[J+De]|ve[J+De]}return n[P+8]=_,P}function ju(t,n){t.push(0,0,0,0,0,0,0,0,n)}function lf(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function il(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,u=null,_=n;for(;null!==_;){if(u=gf(_),null===u)return li;if(o++,_=_[Ao],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return li}function Au(t,n,o){!function uv(t,n,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(tr)&&(u=o[tr]),null==u&&(u=o[tr]=lv++);const _=u&sf;n.data[t+(_>>af)]|=1<<_}(t,n,o)}function uf(t,n,o){if(o&Ht.Optional||void 0!==t)return t;R()}function cf(t,n,o,u){if(o&Ht.Optional&&void 0===u&&(u=null),!(o&(Ht.Self|Ht.Host))){const _=t[ro],P=dt(void 0);try{return _?_.get(n,u,o&Ht.Optional):Ut(n,u,o&Ht.Optional)}finally{dt(P)}}return uf(u,0,o)}function df(t,n,o,u=Ht.Default,_){if(null!==t){if(2048&n[Nn]&&!(u&Ht.Self)){const J=function mv(t,n,o,u,_){let P=t,J=n;for(;null!==P&&null!==J&&2048&J[Nn]&&!(512&J[Nn]);){const ue=ff(P,J,o,u|Ht.Self,Cs);if(ue!==Cs)return ue;let ve=P.parent;if(!ve){const De=J[Wo];if(De){const Le=De.get(o,Cs,u);if(Le!==Cs)return Le}ve=gf(J),J=J[Ao]}P=ve}return _}(t,n,o,u,Cs);if(J!==Cs)return J}const P=ff(t,n,o,u,Cs);if(P!==Cs)return P}return cf(n,o,u,_)}function ff(t,n,o,u,_){const P=function fv(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(tr)?t[tr]:void 0;return"number"==typeof n?n>=0?n&sf:pv:n}(o);if("function"==typeof P){if(!mn(n,t,u))return u&Ht.Host?uf(_,0,u):cf(n,o,u,_);try{let J;if(J=P(u),null!=J||u&Ht.Optional)return J;R()}finally{bo()}}else if("number"==typeof P){let J=null,ue=lf(t,n),ve=li,De=u&Ht.Host?n[dr][jr]:null;for((-1===ue||u&Ht.SkipSelf)&&(ve=-1===ue?il(t,n):n[ue+8],ve!==li&&pf(u,!1)?(J=n[wn],ue=ra(ve),n=oa(ve,n)):ue=-1);-1!==ue;){const Le=n[wn];if(hf(P,ue,Le.data)){const Ze=dv(ue,n,o,J,u,De);if(Ze!==Cs)return Ze}ve=n[ue+8],ve!==li&&pf(u,n[wn].data[ue+8]===De)&&hf(P,ue,n)?(J=Le,ue=ra(ve),n=oa(ve,n)):ue=-1}}return _}function dv(t,n,o,u,_,P){const J=n[wn],ue=J.data[t+8],Le=al(ue,J,o,null==u?vn(ue)&&Iu:u!=J&&0!=(3&ue.type),_&Ht.Host&&P===ue);return null!==Le?Ws(n,J,Le,ue):Cs}function al(t,n,o,u,_){const P=t.providerIndexes,J=n.data,ue=1048575&P,ve=t.directiveStart,Le=P>>20,pt=_?ue+Le:t.directiveEnd;for(let It=u?ue:ue+Le;It<pt;It++){const en=J[It];if(It<ve&&o===en||It>=ve&&en.type===o)return It}if(_){const It=J[ve];if(It&&Un(It)&&It.type===o)return ve}return null}function Ws(t,n,o,u){let _=t[o];const P=n.data;if(function ov(t){return t instanceof na}(_)){const J=_;J.resolving&&function U(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${o}`)}(function L(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():A(t)}(P[o]));const ue=ol(J.canSeeViewProviders);J.resolving=!0;const De=J.injectImpl?dt(J.injectImpl):null;mn(t,u,Ht.Default);try{_=t[o]=J.factory(void 0,P,t,u),n.firstCreatePass&&o>=u.directiveStart&&function nv(t,n,o){const{ngOnChanges:u,ngOnInit:_,ngDoCheck:P}=n.type.prototype;if(u){var J,ue;const Ze=Jo(n);(null!==(J=o.preOrderHooks)&&void 0!==J?J:o.preOrderHooks=[]).push(t,Ze),(null!==(ue=o.preOrderCheckHooks)&&void 0!==ue?ue:o.preOrderCheckHooks=[]).push(t,Ze)}var ve,De,Le;_&&(null!==(ve=o.preOrderHooks)&&void 0!==ve?ve:o.preOrderHooks=[]).push(0-t,_),P&&((null!==(De=o.preOrderHooks)&&void 0!==De?De:o.preOrderHooks=[]).push(t,P),(null!==(Le=o.preOrderCheckHooks)&&void 0!==Le?Le:o.preOrderCheckHooks=[]).push(t,P))}(o,P[o],n)}finally{null!==De&&dt(De),ol(ue),J.resolving=!1,bo()}}return _}function hf(t,n,o){return!!(o[n+(t>>af)]&1<<t)}function pf(t,n){return!(t&Ht.Self||t&Ht.Host&&n)}class Yo{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,u){return df(this._tNode,this._lView,n,B(u),o)}}function pv(){return new Yo(_o(),pn())}function mf(t){return ge(()=>{const n=t.prototype.constructor,o=n[Xn]||Ou(n),u=Object.prototype;let _=Object.getPrototypeOf(t.prototype).constructor;for(;_&&_!==u;){const P=_[Xn]||Ou(_);if(P&&P!==o)return P;_=Object.getPrototypeOf(_)}return P=>new P})}function Ou(t){return a(t)?()=>{const n=Ou(v(t));return n&&n()}:zt(t)}function gf(t){const n=t[wn],o=n.type;return 2===o?n.declTNode:1===o?t[jr]:null}function Pu(t){return function cv(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const u=o.length;let _=0;for(;_<u;){const P=o[_];if(Or(P))break;if(0===P)_+=2;else if("number"==typeof P)for(_++;_<u&&"string"==typeof o[_];)_++;else{if(P===n)return o[_+1];_+=2}}}return null}(_o(),t)}const ci="__parameters__";function fi(t,n,o){return ge(()=>{const u=function ku(t){return function(...o){if(t){const u=t(...o);for(const _ in u)this[_]=u[_]}}}(n);function _(...P){if(this instanceof _)return u.apply(this,P),this;const J=new _(...P);return ue.annotation=J,ue;function ue(ve,De,Le){const Ze=ve.hasOwnProperty(ci)?ve[ci]:Object.defineProperty(ve,ci,{value:[]})[ci];for(;Ze.length<=Le;)Ze.push(null);return(Ze[Le]=Ze[Le]||[]).push(J),ve}}return o&&(_.prototype=Object.create(o.prototype)),_.prototype.ngMetadataName=t,_.annotationCls=_,_})}function pi(t,n){t.forEach(o=>Array.isArray(o)?pi(o,n):n(o))}function vf(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function ll(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function aa(t,n){const o=[];for(let u=0;u<t;u++)o.push(n);return o}function rs(t,n,o){let u=mi(t,n);return u>=0?t[1|u]=o:(u=~u,function xv(t,n,o,u){let _=t.length;if(_==n)t.push(o,u);else if(1===_)t.push(u,t[0]),t[0]=o;else{for(_--,t.push(t[_-1],t[_]);_>n;)t[_]=t[_-2],_--;t[n]=o,t[n+1]=u}}(t,u,n,o)),u}function Ru(t,n){const o=mi(t,n);if(o>=0)return t[1|o]}function mi(t,n){return function _f(t,n,o){let u=0,_=t.length>>o;for(;_!==u;){const P=u+(_-u>>1),J=t[P<<o];if(n===J)return P<<o;J>n?_=P:u=P+1}return~(_<<o)}(t,n,1)}const cl=W(fi("Optional"),8),dl=W(fi("SkipSelf"),4);function gl(t){return 128==(128&t.flags)}var vl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(vl||{});const Vv=/^>|^->|<!--|-->|--!>|<!-$/g,Hv=/(<|>)/g,zv="\u200b$1\u200b";const Uu=new Map;let Wv=0;const Gu="__ngContext__";function Ho(t,n){xe(n)?(t[Gu]=n[Qr],function qv(t){Uu.set(t[Qr],t)}(n)):t[Gu]=n}let Vu;function Hu(t,n){return Vu(t,n)}function ca(t){const n=t[rr];return Je(n)?n[rr]:n}function Bf(t){return $f(t[Do])}function Uf(t){return $f(t[Kr])}function $f(t){for(;null!==t&&!Je(t);)t=t[Kr];return t}function vi(t,n,o,u,_){if(null!=u){let P,J=!1;Je(u)?P=u:xe(u)&&(J=!0,u=u[Kn]);const ue=Br(u);0===t&&null!==o?null==_?zf(n,o,ue):Ys(n,o,ue,_||null,!0):1===t&&null!==o?Ys(n,o,ue,_||null,!0):2===t?function Cl(t,n,o){const u=xl(t,n);u&&function p0(t,n,o,u){t.removeChild(n,o,u)}(t,u,n,o)}(n,ue,J):3===t&&n.destroyNode(ue),null!=P&&function y0(t,n,o,u,_){const P=o[Sn];P!==Br(o)&&vi(n,t,u,P,_);for(let ue=Te;ue<o.length;ue++){const ve=o[ue];fa(ve[wn],ve,t,n,u,P)}}(n,t,P,o,_)}}function zu(t,n){return t.createComment(function Af(t){return t.replace(Vv,n=>n.replace(Hv,zv))}(n))}function bl(t,n,o){return t.createElement(n,o)}function Vf(t,n){const o=t[ko],u=o.indexOf(n);Ji(n),o.splice(u,1)}function wl(t,n){if(t.length<=Te)return;const o=Te+n,u=t[o];if(u){const _=u[Oo];null!==_&&_!==t&&Vf(_,u),n>0&&(t[o-1][Kr]=u[Kr]);const P=ll(t,Te+n);!function s0(t,n){fa(t,n,n[$n],2,null,null),n[Kn]=null,n[jr]=null}(u[wn],u);const J=P[oo];null!==J&&J.detachView(P[wn]),u[rr]=null,u[Kr]=null,u[Nn]&=-129}return u}function Wu(t,n){if(!(256&n[Nn])){const o=n[$n];n[Po]&&cr(n[Po]),n[Uo]&&cr(n[Uo]),o.destroyNode&&fa(t,n,o,3,null,null),function u0(t){let n=t[Do];if(!n)return Yu(t[wn],t);for(;n;){let o=null;if(xe(n))o=n[Do];else{const u=n[Te];u&&(o=u)}if(!o){for(;n&&!n[Kr]&&n!==t;)xe(n)&&Yu(n[wn],n),n=n[rr];null===n&&(n=t),xe(n)&&Yu(n[wn],n),o=n&&n[Kr]}n=o}}(n)}}function Yu(t,n){if(!(256&n[Nn])){n[Nn]&=-129,n[Nn]|=256,function h0(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let u=0;u<o.length;u+=2){const _=n[o[u]];if(!(_ instanceof na)){const P=o[u+1];if(Array.isArray(P))for(let J=0;J<P.length;J+=2){const ue=_[P[J]],ve=P[J+1];as(4,ue,ve);try{ve.call(ue)}finally{as(5,ue,ve)}}else{as(4,_,P);try{P.call(_)}finally{as(5,_,P)}}}}}(t,n),function f0(t,n){const o=t.cleanup,u=n[yo];if(null!==o)for(let P=0;P<o.length-1;P+=2)if("string"==typeof o[P]){const J=o[P+3];J>=0?u[J]():u[-J].unsubscribe(),P+=2}else o[P].call(u[o[P+1]]);null!==u&&(n[yo]=null);const _=n[Mo];if(null!==_){n[Mo]=null;for(let P=0;P<_.length;P++)(0,_[P])()}}(t,n),1===n[wn].type&&n[$n].destroy();const o=n[Oo];if(null!==o&&Je(n[rr])){o!==n[rr]&&Vf(o,n);const u=n[oo];null!==u&&u.detachView(t)}!function Zv(t){Uu.delete(t[Qr])}(n)}}function qu(t,n,o){return function Hf(t,n,o){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return o[Kn];{const{componentOffset:_}=u;if(_>-1){const{encapsulation:P}=t.data[u.directiveStart+_];if(P===Xe.None||P===Xe.Emulated)return null}return Fo(u,o)}}(t,n.parent,o)}function Ys(t,n,o,u,_){t.insertBefore(n,o,u,_)}function zf(t,n,o){t.appendChild(n,o)}function Wf(t,n,o,u,_){null!==u?Ys(t,n,o,u,_):zf(t,n,o)}function xl(t,n){return t.parentNode(n)}function Yf(t,n,o){return Zf(t,n,o)}let Zu,Sl,Qu,Dl,Zf=function qf(t,n,o){return 40&t.type?Fo(t,o):null};function El(t,n,o,u){const _=qu(t,u,n),P=n[$n],ue=Yf(u.parent||n[jr],u,n);if(null!=_)if(Array.isArray(o))for(let ve=0;ve<o.length;ve++)Wf(P,_,o[ve],ue,!1);else Wf(P,_,o,ue,!1);void 0!==Zu&&Zu(P,u,n,o,_)}function da(t,n){if(null!==n){const o=n.type;if(3&o)return Fo(n,t);if(4&o)return Ju(-1,t[n.index]);if(8&o){const u=n.child;if(null!==u)return da(t,u);{const _=t[n.index];return Je(_)?Ju(-1,_):Br(_)}}if(32&o)return Hu(n,t)()||Br(t[n.index]);{const u=Xf(t,n);return null!==u?Array.isArray(u)?u[0]:da(ca(t[dr]),u):da(t,n.next)}}return null}function Xf(t,n){return null!==n?t[dr][jr].projection[n.projection]:null}function Ju(t,n){const o=Te+t+1;if(o<n.length){const u=n[o],_=u[wn].firstChild;if(null!==_)return da(u,_)}return n[Sn]}function Xu(t,n,o,u,_,P,J){for(;null!=o;){const ue=u[o.index],ve=o.type;if(J&&0===n&&(ue&&Ho(Br(ue),u),o.flags|=2),32!=(32&o.flags))if(8&ve)Xu(t,n,o.child,u,_,P,!1),vi(n,t,_,ue,P);else if(32&ve){const De=Hu(o,u);let Le;for(;Le=De();)vi(n,t,_,Le,P);vi(n,t,_,ue,P)}else 16&ve?Qf(t,n,u,o,_,P):vi(n,t,_,ue,P);o=J?o.projectionNext:o.next}}function fa(t,n,o,u,_,P){Xu(o,u,t.firstChild,n,_,P,!1)}function Qf(t,n,o,u,_,P){const J=o[dr],ve=J[jr].projection[u.projection];if(Array.isArray(ve))for(let De=0;De<ve.length;De++)vi(n,t,_,ve[De],P);else{let De=ve;const Le=J[rr];gl(u)&&(De.flags|=128),Xu(t,n,De,Le,_,P,!0)}}function eh(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function th(t,n,o){const{mergedAttrs:u,classes:_,styles:P}=o;null!==u&&gr(t,n,u),null!==_&&eh(t,n,_),null!==P&&function _0(t,n,o){t.setAttribute(n,"style",o)}(t,n,P)}function _i(t){var n;return(null===(n=function Ku(){if(void 0===Sl&&(Sl=null,Pe.trustedTypes))try{Sl=Pe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sl}())||void 0===n?void 0:n.createHTML(t))||t}function E0(t){Qu=t}function oh(t){var n;return(null===(n=function ec(){if(void 0===Dl&&(Dl=null,Pe.trustedTypes))try{Dl=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dl}())||void 0===n?void 0:n.createScriptURL(t))||t}class qs{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$})`}}class C0 extends qs{getTypeName(){return"HTML"}}class S0 extends qs{getTypeName(){return"Style"}}class D0 extends qs{getTypeName(){return"Script"}}class M0 extends qs{getTypeName(){return"URL"}}class T0 extends qs{getTypeName(){return"ResourceURL"}}function As(t){return t instanceof qs?t.changingThisBreaksApplicationSecurity:t}function wi(t,n){const o=function I0(t){return t instanceof qs&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${$})`)}return o===n}function j0(t){return new C0(t)}function A0(t){return new S0(t)}function O0(t){return new D0(t)}function P0(t){return new M0(t)}function k0(t){return new T0(t)}class R0{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(_i(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class L0{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=_i(n),o}}const N0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ml(t){return(t=String(t)).match(N0)?t:"unsafe:"+t}function Os(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function ha(...t){const n={};for(const o of t)for(const u in o)o.hasOwnProperty(u)&&(n[u]=!0);return n}const ih=Os("area,br,col,hr,img,wbr"),ah=Os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lh=Os("rp,rt"),tc=ha(ih,ha(ah,Os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ha(lh,Os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ha(lh,ah)),nc=Os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uh=ha(nc,Os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),B0=Os("script,style,template");class U0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let _=this.checkClobberedElement(o,o.nextSibling);if(_){o=_;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!tc.hasOwnProperty(o))return this.sanitizedSomething=!0,!B0.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=n.attributes;for(let _=0;_<u.length;_++){const P=u.item(_),J=P.name,ue=J.toLowerCase();if(!uh.hasOwnProperty(ue)){this.sanitizedSomething=!0;continue}let ve=P.value;nc[ue]&&(ve=Ml(ve)),this.buf.push(" ",J,'="',ch(ve),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();tc.hasOwnProperty(o)&&!ih.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(ch(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const $0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,G0=/([^\#-~ |!])/g;function ch(t){return t.replace(/&/g,"&amp;").replace($0,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(G0,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tl;function dh(t,n){let o=null;try{Tl=Tl||function sh(t){const n=new L0(t);return function F0(){try{return!!(new window.DOMParser).parseFromString(_i(""),"text/html")}catch{return!1}}()?new R0(n):n}(t);let u=n?String(n):"";o=Tl.getInertBodyElement(u);let _=5,P=u;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,u=P,P=o.innerHTML,o=Tl.getInertBodyElement(u)}while(u!==P);return _i((new U0).sanitizeChildren(rc(o)||o))}finally{if(o){const u=rc(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function rc(t){return"content"in t&&function V0(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Zs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zs||{});function oc(t){const n=pa();return n?n.sanitize(Zs.URL,t)||"":wi(t,"URL")?As(t):Ml(A(t))}function fh(t){const n=pa();if(n)return oh(n.sanitize(Zs.RESOURCE_URL,t)||"");if(wi(t,"ResourceURL"))return oh(As(t));throw new k(904,!1)}function hh(t,n,o){return function Z0(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?fh:oc}(n,o)(t)}function pa(){const t=pn();return t&&t[So].sanitizer}class Tr{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ye({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ma=new Tr("ENVIRONMENT_INITIALIZER"),ph=new Tr("INJECTOR",-1),mh=new Tr("INJECTOR_DEF_TYPES");class sc{get(n,o=Mn){if(o===Mn){const u=new Error(`NullInjectorError: No provider for ${h(n)}!`);throw u.name="NullInjectorError",u}return o}}function ic(t){return{\u0275providers:t}}function J0(...t){return{\u0275providers:gh(0,t),\u0275fromNgModule:!0}}function gh(t,...n){const o=[],u=new Set;let _;const P=J=>{o.push(J)};return pi(n,J=>{const ue=J;Il(ue,P,[],u)&&(_||(_=[]),_.push(ue))}),void 0!==_&&yh(_,P),o}function yh(t,n){for(let o=0;o<t.length;o++){const{ngModule:u,providers:_}=t[o];ac(_,P=>{n(P,u)})}}function Il(t,n,o,u){if(!(t=v(t)))return!1;let _=null,P=St(t);const J=!P&&Hn(t);if(P||J){if(J&&!J.standalone)return!1;_=t}else{const ve=t.ngModule;if(P=St(ve),!P)return!1;_=ve}const ue=u.has(_);if(J){if(ue)return!1;if(u.add(_),J.dependencies){const ve="function"==typeof J.dependencies?J.dependencies():J.dependencies;for(const De of ve)Il(De,n,o,u)}}else{if(!P)return!1;{if(null!=P.imports&&!ue){let De;u.add(_);try{pi(P.imports,Le=>{Il(Le,n,o,u)&&(De||(De=[]),De.push(Le))})}finally{}void 0!==De&&yh(De,n)}if(!ue){const De=zt(_)||(()=>new _);n({provide:_,useFactory:De,deps:Ot},_),n({provide:mh,useValue:_,multi:!0},_),n({provide:ma,useValue:()=>ee(_),multi:!0},_)}const ve=P.providers;if(null!=ve&&!ue){const De=t;ac(ve,Le=>{n(Le,De)})}}}return _!==t&&void 0!==t.providers}function ac(t,n){for(let o of t)g(o)&&(o=o.\u0275providers),Array.isArray(o)?ac(o,n):n(o)}const X0=i({provide:String,useValue:i});function lc(t){return null!==t&&"object"==typeof t&&X0 in t}function Js(t){return"function"==typeof t}const uc=new Tr("Set Injector scope."),jl={},Q0={};let cc;function Al(){return void 0===cc&&(cc=new sc),cc}class Ss{}class Ol extends Ss{get destroyed(){return this._destroyed}constructor(n,o,u,_){super(),this.parent=o,this.source=u,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fc(n,J=>this.processProvider(J)),this.records.set(ph,xi(void 0,this)),_.has("environment")&&this.records.set(Ss,xi(void 0,this));const P=this.records.get(uc);null!=P&&"string"==typeof P.value&&this.scopes.add(P.value),this.injectorDefTypes=new Set(this.get(mh.multi,Ot,Ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=En(this),u=dt(void 0);try{return n()}finally{En(o),dt(u)}}get(n,o=Mn,u=Ht.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ir))return n[ir](this);u=B(u);const P=En(this),J=dt(void 0);try{if(!(u&Ht.SkipSelf)){let ve=this.records.get(n);if(void 0===ve){const De=function o_(t){return"function"==typeof t||"object"==typeof t&&t instanceof Tr}(n)&&at(n);ve=De&&this.injectableDefInScope(De)?xi(dc(n),jl):null,this.records.set(n,ve)}if(null!=ve)return this.hydrate(n,ve)}return(u&Ht.Self?Al():this.parent).get(n,o=u&Ht.Optional&&o===Mn?null:o)}catch(ue){if("NullInjectorError"===ue.name){if((ue[ht]=ue[ht]||[]).unshift(h(n)),P)throw ue;return function ne(t,n,o,u){const _=t[ht];throw n[Xt]&&_.unshift(n[Xt]),t.message=function te(t,n,o,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let _=h(n);if(Array.isArray(n))_=n.map(h).join(" -> ");else if("object"==typeof n){let P=[];for(let J in n)if(n.hasOwnProperty(J)){let ue=n[J];P.push(J+":"+("string"==typeof ue?JSON.stringify(ue):h(ue)))}_=`{${P.join(", ")}}`}return`${o}${u?"("+u+")":""}[${_}]: ${t.replace(gt,"\n  ")}`}("\n"+t.message,_,o,u),t.ngTokenPath=_,t[ht]=null,t}(ue,n,"R3InjectorError",this.source)}throw ue}finally{dt(J),En(P)}}resolveInjectorInitializers(){const n=En(this),o=dt(void 0);try{const _=this.get(ma.multi,Ot,Ht.Self);for(const P of _)P()}finally{En(n),dt(o)}}toString(){const n=[],o=this.records;for(const u of o.keys())n.push(h(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(n){let o=Js(n=v(n))?n:v(n&&n.provide);const u=function t_(t){return lc(t)?xi(void 0,t.useValue):xi(bh(t),jl)}(n);if(Js(n)||!0!==n.multi)this.records.get(o);else{let _=this.records.get(o);_||(_=xi(void 0,jl,!0),_.factory=()=>Y(_.multi),this.records.set(o,_)),o=n,_.multi.push(n)}this.records.set(o,u)}hydrate(n,o){return o.value===jl&&(o.value=Q0,o.value=o.factory()),"object"==typeof o.value&&o.value&&function r_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=v(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function dc(t){const n=at(t),o=null!==n?n.factory:zt(t);if(null!==o)return o;if(t instanceof Tr)throw new k(204,!1);if(t instanceof Function)return function e_(t){const n=t.length;if(n>0)throw aa(n,"?"),new k(204,!1);const o=function nt(t){return t&&(t[Wt]||t[rn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new k(204,!1)}function bh(t,n,o){let u;if(Js(t)){const _=v(t);return zt(_)||dc(_)}if(lc(t))u=()=>v(t.useValue);else if(function _h(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...Y(t.deps||[]));else if(function vh(t){return!(!t||!t.useExisting)}(t))u=()=>ee(v(t.useExisting));else{const _=v(t&&(t.useClass||t.provide));if(!function n_(t){return!!t.deps}(t))return zt(_)||dc(_);u=()=>new _(...Y(t.deps))}return u}function xi(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function fc(t,n){for(const o of t)Array.isArray(o)?fc(o,n):o&&g(o)?fc(o.\u0275providers,n):n(o)}const wh=new Tr("AppId",{providedIn:"root",factory:()=>s_}),s_="ng",xh=new Tr("Platform Initializer"),hc=new Tr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),i_=new Tr("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function bi(){if(void 0!==Qu)return Qu;if(typeof document<"u")return document;throw new k(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Eh=(t,n,o)=>null;function vc(t,n,o=!1){return Eh(t,n,o)}class g_{}class Dh{}class v_{resolveComponentFactory(n){throw function y_(t){const n=Error(`No component factory found for ${h(t)}.`);return n.ngComponent=t,n}(n)}}let Bl=(()=>{class n{}return n.NULL=new v_,n})();function __(){return Di(_o(),pn())}function Di(t,n){return new _a(Fo(t,n))}let _a=(()=>{class n{constructor(u){this.nativeElement=u}}return n.__NG_ELEMENT_ID__=__,n})();function b_(t){return t instanceof _a?t.nativeElement:t}class Th{}let w_=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function x_(){const t=pn(),o=Go(_o().index,t);return(xe(o)?o:t)[$n]}(),n})(),E_=(()=>{var t;class n{}return(t=n).\u0275prov=Ye({token:t,providedIn:"root",factory:()=>null}),n})();class Ih{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const C_=new Ih("16.2.6"),wc={};function Ph(t,n=null,o=null,u){const _=kh(t,n,o,u);return _.resolveInjectorInitializers(),_}function kh(t,n=null,o=null,u,_=new Set){const P=[o||Ot,J0(t)];return u=u||("object"==typeof t?void 0:h(t)),new Ol(P,n||Al(),u||null,_)}let ms=(()=>{var t;class n{static create(u,_){if(Array.isArray(u))return Ph({name:""},_,u,"");{var P;const J=null!==(P=u.name)&&void 0!==P?P:"";return Ph({name:J},u.parent,u.providers,J)}}}return(t=n).THROW_IF_NOT_FOUND=Mn,t.NULL=new sc,t.\u0275prov=Ye({token:t,providedIn:"any",factory:()=>ee(ph)}),t.__NG_ELEMENT_ID__=-1,n})();function Ec(t){return t.ngOriginalError}class Ns{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&Ec(n);for(;o&&Ec(o);)o=Ec(o);return o||null}}function Sc(t){return n=>{setTimeout(t,void 0,n)}}const Ds=class A_ extends H.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,u){let _=n,P=o||(()=>null),J=u;if(n&&"object"==typeof n){var ue,ve,De;const Ze=n;_=null===(ue=Ze.next)||void 0===ue?void 0:ue.bind(Ze),P=null===(ve=Ze.error)||void 0===ve?void 0:ve.bind(Ze),J=null===(De=Ze.complete)||void 0===De?void 0:De.bind(Ze)}this.__isAsync&&(P=Sc(P),_&&(_=Sc(_)),J&&(J=Sc(J)));const Le=super.subscribe({next:_,error:P,complete:J});return n instanceof j.w0&&n.add(Le),Le}};function Lh(...t){}class jo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ds(!1),this.onMicrotaskEmpty=new Ds(!1),this.onStable=new Ds(!1),this.onError=new Ds(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!u&&o,_.shouldCoalesceRunChangeDetection=u,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function O_(){const t="function"==typeof Pe.requestAnimationFrame;let n=Pe[t?"requestAnimationFrame":"setTimeout"],o=Pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const _=o[Zone.__symbol__("OriginalDelegate")];_&&(o=_)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function R_(t){const n=()=>{!function k_(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Mc(t),t.isCheckStableRunning=!0,Dc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Mc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,_,P,J,ue)=>{if(function F_(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(ue))return o.invokeTask(_,P,J,ue);try{return Fh(t),o.invokeTask(_,P,J,ue)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===P.type||t.shouldCoalesceRunChangeDetection)&&n(),Nh(t)}},onInvoke:(o,u,_,P,J,ue,ve)=>{try{return Fh(t),o.invoke(_,P,J,ue,ve)}finally{t.shouldCoalesceRunChangeDetection&&n(),Nh(t)}},onHasTask:(o,u,_,P)=>{o.hasTask(_,P),u===_&&("microTask"==P.change?(t._hasPendingMicrotasks=P.microTask,Mc(t),Dc(t)):"macroTask"==P.change&&(t.hasPendingMacrotasks=P.macroTask))},onHandleError:(o,u,_,P)=>(o.handleError(_,P),t.runOutsideAngular(()=>t.onError.emit(P)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jo.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(jo.isInAngularZone())throw new k(909,!1)}run(n,o,u){return this._inner.run(n,o,u)}runTask(n,o,u,_){const P=this._inner,J=P.scheduleEventTask("NgZoneEvent: "+_,n,P_,Lh,Lh);try{return P.runTask(J,o,u)}finally{P.cancelTask(J)}}runGuarded(n,o,u){return this._inner.runGuarded(n,o,u)}runOutsideAngular(n){return this._outer.run(n)}}const P_={};function Dc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Fh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nh(t){t._nesting--,Dc(t)}class L_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ds,this.onMicrotaskEmpty=new Ds,this.onStable=new Ds,this.onError=new Ds}run(n,o,u){return n.apply(o,u)}runGuarded(n,o,u){return n.apply(o,u)}runOutsideAngular(n){return n()}runTask(n,o,u,_){return n.apply(o,u)}}const Bh=new Tr("",{providedIn:"root",factory:Uh});function Uh(){const t=Se(jo);let n=!0;const o=new st.y(_=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{_.next(n),_.complete()})}),u=new st.y(_=>{let P;t.runOutsideAngular(()=>{P=t.onStable.subscribe(()=>{jo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,_.next(!0))})})});const J=t.onUnstable.subscribe(()=>{jo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{_.next(!1)}))});return()=>{P.unsubscribe(),J.unsubscribe()}});return(0,X.T)(o,u.pipe(d()))}function Ps(t){return t instanceof Function?t():t}let Tc=(()=>{var t;class n{constructor(){this.renderDepth=0,this.handler=null}begin(){var u;null===(u=this.handler)||void 0===u||u.validateBegin(),this.renderDepth++}end(){var u;this.renderDepth--,0===this.renderDepth&&(null===(u=this.handler)||void 0===u||u.execute())}ngOnDestroy(){var u;null===(u=this.handler)||void 0===u||u.destroy(),this.handler=null}}return(t=n).\u0275prov=Ye({token:t,providedIn:"root",factory:()=>new t}),n})();function ba(t){for(;t;){t[Nn]|=64;const n=ca(t);if(Zn(t)&&!n)return t;t=n}return null}const zh=new Tr("",{providedIn:"root",factory:()=>!1});let wa=null;function Zh(t,n){var o;return null!==(o=t[n])&&void 0!==o?o:Kh()}function Jh(t,n){var o;const u=Kh();null!==(o=u.producerNode)&&void 0!==o&&o.length&&(t[n]=wa,u.lView=t,wa=Xh())}const Y_={...zn,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ba(t.lView)},lView:null};function Xh(){return Object.create(Y_)}function Kh(){var t;return null!==(t=wa)&&void 0!==t||(wa=Xh()),wa}const er={};function Qh(t){ep(mr(),pn(),lo()+t,!1)}function ep(t,n,o,u){if(!u)if(3==(3&n[Nn])){const P=t.preOrderCheckHooks;null!==P&&nl(n,P,o)}else{const P=t.preOrderHooks;null!==P&&rl(n,P,0,o)}ns(o)}function Ii(t,n=Ht.Default){const o=pn();return null===o?ee(t,n):df(_o(),o,v(t),n)}function tp(){throw new Error("invalid")}function $l(t,n,o,u,_,P,J,ue,ve,De,Le){const Ze=n.blueprint.slice();return Ze[Kn]=_,Ze[Nn]=140|u,(null!==De||t&&2048&t[Nn])&&(Ze[Nn]|=2048),Zi(Ze),Ze[rr]=Ze[Ao]=t,Ze[ur]=o,Ze[So]=J||t&&t[So],Ze[$n]=ue||t&&t[$n],Ze[ro]=ve||t&&t[ro]||null,Ze[jr]=P,Ze[Qr]=function Yv(){return Wv++}(),Ze[To]=Le,Ze[Wo]=De,Ze[dr]=2==n.type?t[dr]:Ze,Ze}function ji(t,n,o,u,_){let P=t.data[n];if(null===P)P=function Ic(t,n,o,u,_){const P=Ka(),J=Qi(),ve=t.data[n]=function tb(t,n,o,u,_,P){let J=n?n.injectorIndex:-1,ue=0;return Vs()&&(ue|=128),{type:o,index:u,insertBeforeIndex:null,injectorIndex:J,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ue,providerIndexes:0,value:_,attrs:P,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,J?P:P&&P.parent,o,n,u,_);return null===t.firstChild&&(t.firstChild=ve),null!==P&&(J?null==P.child&&null!==ve.parent&&(P.child=ve):null===P.next&&(P.next=ve,ve.prev=P)),ve}(t,n,o,u,_),function Qd(){return Yn.lFrame.inI18n}()&&(P.flags|=32);else if(64&P.type){P.type=o,P.value=u,P.attrs=_;const J=function Hs(){const t=Yn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();P.injectorIndex=null===J?-1:J.injectorIndex}return cs(P,!0),P}function xa(t,n,o,u){if(0===o)return-1;const _=n.length;for(let P=0;P<o;P++)n.push(u),t.blueprint.push(u),t.data.push(null);return _}function np(t,n,o,u,_){const P=Zh(n,Po),J=lo(),ue=2&u;try{ns(-1),ue&&n.length>Vn&&ep(t,n,Vn,!1),as(ue?2:0,_);const De=ue?P:null,Le=ho(De);try{null!==De&&(De.dirty=!1),o(u,_)}finally{hr(De,Le)}}finally{ue&&null===n[Po]&&Jh(n,Po),ns(J),as(ue?3:1,_)}}function jc(t,n,o){if(Zt(n)){const u=Tn(null);try{const P=n.directiveEnd;for(let J=n.directiveStart;J<P;J++){const ue=t.data[J];ue.contentQueries&&ue.contentQueries(1,o[J],J)}}finally{Tn(u)}}}function Ac(t,n,o){Za()&&(function lb(t,n,o,u){const _=o.directiveStart,P=o.directiveEnd;vn(o)&&function mb(t,n,o){const u=Fo(n,t),_=rp(o);let J=16;o.signals?J=4096:o.onPush&&(J=64);const ue=Gl(t,$l(t,_,null,J,u,n,null,t[So].rendererFactory.createRenderer(u,o),null,null,null));t[n.index]=ue}(n,o,t.data[_+o.componentOffset]),t.firstCreatePass||sl(o,n),Ho(u,n);const J=o.initialInputs;for(let ue=_;ue<P;ue++){const ve=t.data[ue],De=Ws(n,t,ue,o);Ho(De,n),null!==J&&gb(0,ue-_,De,ve,0,J),Un(ve)&&(Go(o.index,n)[ur]=Ws(n,t,ue,o))}}(t,n,o,Fo(o,n)),64==(64&o.flags)&&lp(t,n,o))}function Oc(t,n,o=Fo){const u=n.localNames;if(null!==u){let _=n.index+1;for(let P=0;P<u.length;P+=2){const J=u[P+1],ue=-1===J?o(n,t):t[J];t[_++]=ue}}}function rp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Pc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Pc(t,n,o,u,_,P,J,ue,ve,De,Le){const Ze=Vn+u,pt=Ze+_,It=function Z_(t,n){const o=[];for(let u=0;u<n;u++)o.push(u<t?null:er);return o}(Ze,pt),en="function"==typeof De?De():De;return It[wn]={type:t,blueprint:It,template:o,queries:null,viewQuery:ue,declTNode:n,data:It.slice().fill(null,Ze),bindingStartIndex:Ze,expandoStartIndex:pt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof P?P():P,pipeRegistry:"function"==typeof J?J():J,firstChild:null,schemas:ve,consts:en,incompleteFirstPass:!1,ssrId:Le}}let op=t=>null;function sp(t,n,o,u){for(let _ in t)if(t.hasOwnProperty(_)){o=null===o?{}:o;const P=t[_];null===u?ip(o,n,_,P):u.hasOwnProperty(_)&&ip(o,n,u[_],P)}return o}function ip(t,n,o,u){t.hasOwnProperty(o)?t[o].push(n,u):t[o]=[n,u]}function os(t,n,o,u,_,P,J,ue){const ve=Fo(n,o);let Le,De=n.inputs;!ue&&null!=De&&(Le=De[u])?(Nc(t,o,Le,u,_),vn(n)&&function ob(t,n){const o=Go(n,t);16&o[Nn]||(o[Nn]|=64)}(o,n.index)):3&n.type&&(u=function rb(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),_=null!=J?J(_,n.value||"",u):_,P.setProperty(ve,u,_))}function kc(t,n,o,u){if(Za()){const _=null===u?null:{"":-1},P=function cb(t,n){const o=t.directiveRegistry;let u=null,_=null;if(o)for(let J=0;J<o.length;J++){const ue=o[J];if(Bt(n,ue.selectors,!1))if(u||(u=[]),Un(ue))if(null!==ue.findHostDirectiveDefs){const ve=[];_=_||new Map,ue.findHostDirectiveDefs(ue,ve,_),u.unshift(...ve,ue),Rc(t,n,ve.length)}else u.unshift(ue),Rc(t,n,0);else{var P;_=_||new Map,null===(P=ue.findHostDirectiveDefs)||void 0===P||P.call(ue,ue,u,_),u.push(ue)}}return null===u?null:[u,_]}(t,o);let J,ue;null===P?J=ue=null:[J,ue]=P,null!==J&&ap(t,n,o,J,_,ue),_&&function db(t,n,o){if(n){const u=t.localNames=[];for(let _=0;_<n.length;_+=2){const P=o[n[_+1]];if(null==P)throw new k(-301,!1);u.push(n[_],P)}}}(o,u,_)}o.mergedAttrs=Gr(o.mergedAttrs,o.attrs)}function ap(t,n,o,u,_,P){for(let Ze=0;Ze<u.length;Ze++)Au(sl(o,n),t,u[Ze].type);!function hb(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,u.length);for(let Ze=0;Ze<u.length;Ze++){const pt=u[Ze];pt.providersResolver&&pt.providersResolver(pt)}let J=!1,ue=!1,ve=xa(t,n,u.length,null);for(let Ze=0;Ze<u.length;Ze++){const pt=u[Ze];o.mergedAttrs=Gr(o.mergedAttrs,pt.hostAttrs),pb(t,o,n,ve,pt),fb(ve,pt,_),null!==pt.contentQueries&&(o.flags|=4),(null!==pt.hostBindings||null!==pt.hostAttrs||0!==pt.hostVars)&&(o.flags|=64);const It=pt.type.prototype;var De,Le;!J&&(It.ngOnChanges||It.ngOnInit||It.ngDoCheck)&&((null!==(De=t.preOrderHooks)&&void 0!==De?De:t.preOrderHooks=[]).push(o.index),J=!0),ue||!It.ngOnChanges&&!It.ngDoCheck||((null!==(Le=t.preOrderCheckHooks)&&void 0!==Le?Le:t.preOrderCheckHooks=[]).push(o.index),ue=!0),ve++}!function nb(t,n,o){const _=n.directiveEnd,P=t.data,J=n.attrs,ue=[];let ve=null,De=null;for(let Le=n.directiveStart;Le<_;Le++){const Ze=P[Le],pt=o?o.get(Ze):null,en=pt?pt.outputs:null;ve=sp(Ze.inputs,Le,ve,pt?pt.inputs:null),De=sp(Ze.outputs,Le,De,en);const hn=null===ve||null===J||Fr(n)?null:yb(ve,Le,J);ue.push(hn)}null!==ve&&(ve.hasOwnProperty("class")&&(n.flags|=8),ve.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=ue,n.inputs=ve,n.outputs=De}(t,o,P)}function lp(t,n,o){const u=o.directiveStart,_=o.directiveEnd,P=o.index,J=function be(){return Yn.lFrame.currentDirectiveIndex}();try{ns(P);for(let ue=u;ue<_;ue++){const ve=t.data[ue],De=n[ue];ce(ue),(null!==ve.hostBindings||0!==ve.hostVars||null!==ve.hostAttrs)&&ub(ve,De)}}finally{ns(-1),ce(J)}}function ub(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Rc(t,n,o){var u;n.componentOffset=o,(null!==(u=t.components)&&void 0!==u?u:t.components=[]).push(n.index)}function fb(t,n,o){if(o){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)o[n.exportAs[u]]=t;Un(n)&&(o[""]=t)}}function pb(t,n,o,u,_){t.data[u]=_;const P=_.factory||(_.factory=zt(_.type)),J=new na(P,Un(_),Ii);t.blueprint[u]=J,o[u]=J,function ib(t,n,o,u,_){const P=_.hostBindings;if(P){let J=t.hostBindingOpCodes;null===J&&(J=t.hostBindingOpCodes=[]);const ue=~n.index;(function ab(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(J)!=ue&&J.push(ue),J.push(o,u,P)}}(t,n,u,xa(t,o,_.hostVars,er),_)}function Ms(t,n,o,u,_,P){const J=Fo(t,n);!function Lc(t,n,o,u,_,P,J){if(null==P)t.removeAttribute(n,_,o);else{const ue=null==J?A(P):J(P,u||"",_);t.setAttribute(n,_,ue,o)}}(n[$n],J,P,t.value,o,u,_)}function gb(t,n,o,u,_,P){const J=P[n];if(null!==J)for(let ue=0;ue<J.length;)up(u,o,J[ue++],J[ue++],J[ue++])}function up(t,n,o,u,_){const P=Tn(null);try{const J=t.inputTransforms;null!==J&&J.hasOwnProperty(u)&&(_=J[u].call(n,_)),null!==t.setInput?t.setInput(n,_,o,u):n[u]=_}finally{Tn(P)}}function yb(t,n,o){let u=null,_=0;for(;_<o.length;){const P=o[_];if(0!==P)if(5!==P){if("number"==typeof P)break;if(t.hasOwnProperty(P)){null===u&&(u=[]);const J=t[P];for(let ue=0;ue<J.length;ue+=2)if(J[ue]===n){u.push(P,J[ue+1],o[_+1]);break}}_+=2}else _+=2;else _+=4}return u}function cp(t,n,o,u){return[t,!0,!1,n,null,0,u,o,null,null,null]}function dp(t,n){const o=t.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const P=o[u+1];if(-1!==P){const J=t.data[P];rt(o[u]),J.contentQueries(2,n[P],P)}}}function Gl(t,n){return t[Do]?t[No][Kr]=n:t[Do]=n,t[No]=n,n}function Fc(t,n,o){rt(0);const u=Tn(null);try{n(t,o)}finally{Tn(u)}}function fp(t){return t[yo]||(t[yo]=[])}function hp(t){return t.cleanup||(t.cleanup=[])}function mp(t,n){const o=t[ro],u=o?o.get(Ns,null):null;u&&u.handleError(n)}function Nc(t,n,o,u,_){for(let P=0;P<o.length;){const J=o[P++],ue=o[P++];up(t.data[J],n[J],u,ue,_)}}function ks(t,n,o){const u=si(n,t);!function Gf(t,n,o){t.setValue(n,o)}(t[$n],u,o)}function vb(t,n){const o=Go(n,t),u=o[wn];!function _b(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(u,o);const _=o[Kn];null!==_&&null===o[To]&&(o[To]=vc(_,o[ro])),Bc(u,o,o[ur])}function Bc(t,n,o){Vt(n);try{const u=t.viewQuery;null!==u&&Fc(1,u,o);const _=t.template;null!==_&&np(t,n,_,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&dp(t,n),t.staticViewQueries&&Fc(2,t.viewQuery,o);const P=t.components;null!==P&&function bb(t,n){for(let o=0;o<n.length;o++)vb(t,n[o])}(n,P)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[Nn]&=-5,_r()}}let gp=(()=>{var t;class n{constructor(){this.all=new Set,this.queue=new Map}create(u,_,P){const J=typeof Zone>"u"?null:Zone.current,ue=function or(t,n,o){const u=Object.create(Wn);o&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const _=J=>{u.cleanupFn=J};return u.ref={notify:()=>so(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Mr(u))return;u.hasRun=!0;const J=ho(u);try{u.cleanupFn(),u.cleanupFn=nr,u.fn(_)}finally{hr(u,J)}},cleanup:()=>u.cleanupFn()},u.ref}(u,Le=>{this.all.has(Le)&&this.queue.set(Le,J)},P);let ve;this.all.add(ue),ue.notify();const De=()=>{var Le;ue.cleanup(),null===(Le=ve)||void 0===Le||Le(),this.all.delete(ue),this.queue.delete(ue)};return ve=null==_?void 0:_.onDestroy(De),{destroy:De}}flush(){if(0!==this.queue.size)for(const[u,_]of this.queue)this.queue.delete(u),_?_.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=n).\u0275prov=Ye({token:t,providedIn:"root",factory:()=>new t}),n})();function Vl(t,n,o){let u=o?t.styles:null,_=o?t.classes:null,P=0;if(null!==n)for(let J=0;J<n.length;J++){const ue=n[J];"number"==typeof ue?P=ue:1==P?_=s(_,ue):2==P&&(u=s(u,ue+": "+n[++J]+";"))}o?t.styles=u:t.stylesWithoutHost=u,o?t.classes=_:t.classesWithoutHost=_}function Ea(t,n,o,u,_=!1){for(;null!==o;){const P=n[o.index];null!==P&&u.push(Br(P)),Je(P)&&yp(P,u);const J=o.type;if(8&J)Ea(t,n,o.child,u);else if(32&J){const ue=Hu(o,n);let ve;for(;ve=ue();)u.push(ve)}else if(16&J){const ue=Xf(n,o);if(Array.isArray(ue))u.push(...ue);else{const ve=ca(n[dr]);Ea(ve[wn],ve,ue,u,!0)}}o=_?o.projectionNext:o.next}return u}function yp(t,n){for(let o=Te;o<t.length;o++){const u=t[o],_=u[wn].firstChild;null!==_&&Ea(u[wn],u,_,n)}t[Sn]!==t[Kn]&&n.push(t[Sn])}function Hl(t,n,o,u=!0){const _=n[So],P=_.rendererFactory,J=_.afterRenderEventManager;var ve;null===(ve=P.begin)||void 0===ve||ve.call(P),null==J||J.begin();try{vp(t,n,t.template,o)}catch(Ze){throw u&&mp(n,Ze),Ze}finally{var De,Le;null===(De=P.end)||void 0===De||De.call(P),null===(Le=_.effectManager)||void 0===Le||Le.flush(),null==J||J.end()}}function vp(t,n,o,u){var _;const P=n[Nn];if(256!=(256&P)){null===(_=n[So].effectManager)||void 0===_||_.flush(),Vt(n);try{Zi(n),function Su(t){return Yn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&np(t,n,o,2,u);const ue=3==(3&P);if(ue){const Le=t.preOrderCheckHooks;null!==Le&&nl(n,Le,null)}else{const Le=t.preOrderHooks;null!==Le&&rl(n,Le,0,null),Du(n,0)}if(function Eb(t){for(let n=Bf(t);null!==n;n=Uf(n)){if(!n[Io])continue;const o=n[ko];for(let u=0;u<o.length;u++){qd(o[u])}}}(n),_p(n,2),null!==t.contentQueries&&dp(t,n),ue){const Le=t.contentCheckHooks;null!==Le&&nl(n,Le)}else{const Le=t.contentHooks;null!==Le&&rl(n,Le,1),Du(n,1)}!function q_(t,n){const o=t.hostBindingOpCodes;if(null===o)return;const u=Zh(n,Uo);try{for(let _=0;_<o.length;_++){const P=o[_];if(P<0)ns(~P);else{const J=P,ue=o[++_],ve=o[++_];ye(ue,J),u.dirty=!1;const De=ho(u);try{ve(2,n[J])}finally{hr(u,De)}}}}finally{null===n[Uo]&&Jh(n,Uo),ns(-1)}}(t,n);const ve=t.components;null!==ve&&wp(n,ve,0);const De=t.viewQuery;if(null!==De&&Fc(2,De,u),ue){const Le=t.viewCheckHooks;null!==Le&&nl(n,Le)}else{const Le=t.viewHooks;null!==Le&&rl(n,Le,2),Du(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Nn]&=-73,Ji(n)}finally{_r()}}}function _p(t,n){for(let o=Bf(t);null!==o;o=Uf(o))for(let u=Te;u<o.length;u++)bp(o[u],n)}function Cb(t,n,o){bp(Go(n,t),o)}function bp(t,n){if(!function Yd(t){return 128==(128&t[Nn])}(t))return;const o=t[wn],u=t[Nn];if(80&u&&0===n||1024&u||2===n)vp(o,t,o.template,t[ur]);else if(t[Hr]>0){_p(t,1);const _=o.components;null!==_&&wp(t,_,1)}}function wp(t,n,o){for(let u=0;u<n.length;u++)Cb(t,n[u],o)}class Ca{get rootNodes(){const n=this._lView,o=n[wn];return Ea(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(n){this._lView[ur]=n}get destroyed(){return 256==(256&this._lView[Nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[rr];if(Je(n)){const o=n[8],u=o?o.indexOf(this):-1;u>-1&&(wl(n,u),ll(o,u))}this._attachedToViewContainer=!1}Wu(this._lView[wn],this._lView)}onDestroy(n){!function Ya(t,n){if(256==(256&t[Nn]))throw new k(911,!1);null===t[Mo]&&(t[Mo]=[]),t[Mo].push(n)}(this._lView,n)}markForCheck(){ba(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nn]&=-129}reattach(){this._lView[Nn]|=128}detectChanges(){Hl(this._lView[wn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function l0(t,n){fa(t,n,n[$n],2,null,null)}(this._lView[wn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=n}}class Sb extends Ca{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Hl(n[wn],n,n[ur],!1)}checkNoChanges(){}get context(){return null}}class xp extends Bl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Hn(n);return new Sa(o,this.ngModule)}}function Ep(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class Mb{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,u){u=B(u);const _=this.injector.get(n,wc,u);return _!==wc||o===wc?_:this.parentInjector.get(n,o,u)}}class Sa extends Dh{get inputs(){const n=this.componentDef,o=n.inputTransforms,u=Ep(n.inputs);if(null!==o)for(const _ of u)o.hasOwnProperty(_.propName)&&(_.transform=o[_.propName]);return u}get outputs(){return Ep(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function Ln(t){return t.map(bn).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,u,_){var P;let J=(_=_||this.ngModule)instanceof Ss?_:null===(P=_)||void 0===P?void 0:P.injector;J&&null!==this.componentDef.getStandaloneInjector&&(J=this.componentDef.getStandaloneInjector(J)||J);const ue=J?new Mb(n,J):n,ve=ue.get(Th,null);if(null===ve)throw new k(407,!1);const pt={rendererFactory:ve,sanitizer:ue.get(E_,null),effectManager:ue.get(gp,null),afterRenderEventManager:ue.get(Tc,null)},It=ve.createRenderer(null,this.componentDef),en=this.componentDef.selectors[0][0]||"div",hn=u?function J_(t,n,o,u){const P=u.get(zh,!1)||o===Xe.ShadowDom,J=t.selectRootElement(n,P);return function X_(t){op(t)}(J),J}(It,u,this.componentDef.encapsulation,ue):bl(It,en,function Db(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(en)),un=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let qn=null;null!==hn&&(qn=vc(hn,ue,!0));const sr=Pc(0,null,null,1,0,null,null,null,null,null,null),br=$l(null,sr,null,un,null,null,pt,It,ue,null,qn);let hs,$a;Vt(br);try{const $s=this.componentDef;let Yi,zd=null;$s.findHostDirectiveDefs?(Yi=[],zd=new Map,$s.findHostDirectiveDefs($s,Yi,zd),Yi.push($s)):Yi=[$s];const $C=function Ib(t,n){const o=t[wn],u=Vn;return t[u]=n,ji(o,u,2,"#host",null)}(br,hn),GC=function jb(t,n,o,u,_,P,J){const ue=_[wn];!function Ab(t,n,o,u){for(const _ of t)n.mergedAttrs=Gr(n.mergedAttrs,_.hostAttrs);null!==n.mergedAttrs&&(Vl(n,n.mergedAttrs,!0),null!==o&&th(u,o,n))}(u,t,n,J);let ve=null;null!==n&&(ve=vc(n,_[ro]));const De=P.rendererFactory.createRenderer(n,o);let Le=16;o.signals?Le=4096:o.onPush&&(Le=64);const Ze=$l(_,rp(o),null,Le,_[t.index],t,P,De,null,null,ve);return ue.firstCreatePass&&Rc(ue,t,u.length-1),Gl(_,Ze),_[t.index]=Ze}($C,hn,$s,Yi,br,pt,It);$a=Wa(sr,Vn),hn&&function Pb(t,n,o,u){if(u)gr(t,o,["ng-version",C_.full]);else{const{attrs:_,classes:P}=function Rn(t){const n=[],o=[];let u=1,_=2;for(;u<t.length;){let P=t[u];if("string"==typeof P)2===_?""!==P&&n.push(P,t[++u]):8===_&&o.push(P);else{if(!ot(_))break;_=P}u++}return{attrs:n,classes:o}}(n.selectors[0]);_&&gr(t,o,_),P&&P.length>0&&eh(t,o,P.join(" "))}}(It,$s,hn,u),void 0!==o&&function kb(t,n,o){const u=t.projection=[];for(let _=0;_<n.length;_++){const P=o[_];u.push(null!=P?Array.from(P):null)}}($a,this.ngContentSelectors,o),hs=function Ob(t,n,o,u,_,P){const J=_o(),ue=_[wn],ve=Fo(J,_);ap(ue,_,J,o,null,u);for(let Le=0;Le<o.length;Le++)Ho(Ws(_,ue,J.directiveStart+Le,J),_);lp(ue,_,J),ve&&Ho(ve,_);const De=Ws(_,ue,J.directiveStart+J.componentOffset,J);if(t[ur]=_[ur]=De,null!==P)for(const Le of P)Le(De,n);return jc(ue,J,t),De}(GC,$s,Yi,zd,br,[Rb]),Bc(sr,br,null)}finally{_r()}return new Tb(this.componentType,hs,Di($a,br),br,$a)}}class Tb extends g_{constructor(n,o,u,_,P){super(),this.location=u,this._rootLView=_,this._tNode=P,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Sb(_),this.componentType=n}setInput(n,o){const u=this._tNode.inputs;let _;if(null!==u&&(_=u[n])){var P;if(null!==(P=this.previousInputValues)&&void 0!==P||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const J=this._rootLView;Nc(J[wn],J,_,n,o),this.previousInputValues.set(n,o),ba(Go(this._tNode.index,J))}}get injector(){return new Yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Rb(){const t=_o();tl(pn()[wn],t)}function Uc(t){let n=function Cp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const u=[t];for(;n;){let _;if(Un(t))_=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new k(903,!1);_=n.\u0275dir}if(_){if(o){u.push(_);const J=t;J.inputs=zl(t.inputs),J.inputTransforms=zl(t.inputTransforms),J.declaredInputs=zl(t.declaredInputs),J.outputs=zl(t.outputs);const ue=_.hostBindings;ue&&Bb(t,ue);const ve=_.viewQuery,De=_.contentQueries;if(ve&&Fb(t,ve),De&&Nb(t,De),l(t.inputs,_.inputs),l(t.declaredInputs,_.declaredInputs),l(t.outputs,_.outputs),null!==_.inputTransforms&&(null===J.inputTransforms&&(J.inputTransforms={}),l(J.inputTransforms,_.inputTransforms)),Un(_)&&_.data.animation){const Le=t.data;Le.animation=(Le.animation||[]).concat(_.data.animation)}}const P=_.features;if(P)for(let J=0;J<P.length;J++){const ue=P[J];ue&&ue.ngInherit&&ue(t),ue===Uc&&(o=!1)}}n=Object.getPrototypeOf(n)}!function Lb(t){let n=0,o=null;for(let u=t.length-1;u>=0;u--){const _=t[u];_.hostVars=n+=_.hostVars,_.hostAttrs=Gr(_.hostAttrs,o=Gr(o,_.hostAttrs))}}(u)}function zl(t){return t===tt?{}:t===Ot?[]:t}function Fb(t,n){const o=t.viewQuery;t.viewQuery=o?(u,_)=>{n(u,_),o(u,_)}:n}function Nb(t,n){const o=t.contentQueries;t.contentQueries=o?(u,_,P)=>{n(u,_,P),o(u,_,P)}:n}function Bb(t,n){const o=t.hostBindings;t.hostBindings=o?(u,_)=>{n(u,_),o(u,_)}:n}function Tp(t){const n=t.inputConfig,o={};for(const u in n)if(n.hasOwnProperty(u)){const _=n[u];Array.isArray(_)&&_[2]&&(o[u]=_[2])}t.inputTransforms=o}function Wl(t){return!!$c(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function $c(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function zo(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function Gc(t,n,o,u){const _=pn();return zo(_,zs(),n)&&(mr(),Ms(Rr(),_,t,n,o,u)),Gc}function Oi(t,n,o,u){return zo(t,zs(),o)?n+A(o)+u:er}function Pi(t,n,o,u,_,P){const ue=function Xs(t,n,o,u){const _=zo(t,n,o);return zo(t,n+1,u)||_}(t,function ws(){return Yn.lFrame.bindingIndex}(),o,_);return xs(2),ue?n+A(o)+u+A(_)+P:er}function $p(t,n,o,u,_,P,J,ue){const ve=pn(),De=mr(),Le=t+Vn,Ze=De.firstCreatePass?function c1(t,n,o,u,_,P,J,ue,ve){const De=n.consts,Le=ji(n,t,4,J||null,ls(De,ue));kc(n,o,Le,ls(De,ve)),tl(n,Le);const Ze=Le.tView=Pc(2,Le,u,_,P,n.directiveRegistry,n.pipeRegistry,null,n.schemas,De,null);return null!==n.queries&&(n.queries.template(n,Le),Ze.queries=n.queries.embeddedTView(Le)),Le}(Le,De,ve,n,o,u,_,P,J):De.data[Le];cs(Ze,!1);const pt=Gp(De,ve,Ze,t);el()&&El(De,ve,pt,Ze),Ho(pt,ve),Gl(ve,ve[Le]=cp(pt,ve,pt,Ze)),jn(Ze)&&Ac(De,ve,Ze),null!=J&&Oc(ve,Ze,ue)}let Gp=function Vp(t,n,o,u){return Fs(!0),n[$n].createComment("")};function Hp(t){return function Ls(t,n){return t[n]}(function Eu(){return Yn.lFrame.contextLView}(),Vn+t)}function qc(t,n,o){const u=pn();return zo(u,zs(),n)&&os(mr(),Rr(),u,t,n,u[$n],o,!1),qc}function Zc(t,n,o,u,_){const J=_?"class":"style";Nc(t,o,n.inputs[J],J,u)}function Xl(t,n,o,u){const _=pn(),P=mr(),J=Vn+t,ue=_[$n],ve=P.firstCreatePass?function p1(t,n,o,u,_,P){const J=n.consts,ve=ji(n,t,2,u,ls(J,_));return kc(n,o,ve,ls(J,P)),null!==ve.attrs&&Vl(ve,ve.attrs,!1),null!==ve.mergedAttrs&&Vl(ve,ve.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,ve),ve}(J,P,_,n,o,u):P.data[J],De=zp(P,_,ve,ue,n,t);_[J]=De;const Le=jn(ve);return cs(ve,!0),th(ue,De,ve),32!=(32&ve.flags)&&el()&&El(P,_,De,ve),0===function qa(){return Yn.lFrame.elementDepthCount}()&&Ho(De,_),function Xi(){Yn.lFrame.elementDepthCount++}(),Le&&(Ac(P,_,ve),jc(P,ve,_)),null!==u&&Oc(_,ve),Xl}function Kl(){let t=_o();Qi()?ea():(t=t.parent,cs(t,!1));const n=t;(function Ja(t){return Yn.skipHydrationRootTNode===t})(n)&&function Kd(){Yn.skipHydrationRootTNode=null}(),function wu(){Yn.lFrame.elementDepthCount--}();const o=mr();return o.firstCreatePass&&(tl(o,t),Zt(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function sv(t){return 0!=(8&t.flags)}(n)&&Zc(o,n,pn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function iv(t){return 0!=(16&t.flags)}(n)&&Zc(o,n,pn(),n.stylesWithoutHost,!1),Kl}function Jc(t,n,o,u){return Xl(t,n,o,u),Kl(),Jc}let zp=(t,n,o,u,_,P)=>(Fs(!0),bl(u,_,function ef(){return Yn.lFrame.currentNamespace}()));function Xc(t,n,o){const u=pn(),_=mr(),P=t+Vn,J=_.firstCreatePass?function y1(t,n,o,u,_){const P=n.consts,J=ls(P,u),ue=ji(n,t,8,"ng-container",J);return null!==J&&Vl(ue,J,!0),kc(n,o,ue,ls(P,_)),null!==n.queries&&n.queries.elementStart(n,ue),ue}(P,_,u,n,o):_.data[P];cs(J,!0);const ue=Wp(_,u,J,t);return u[P]=ue,el()&&El(_,u,ue,J),Ho(ue,u),jn(J)&&(Ac(_,u,J),jc(_,J,u)),null!=o&&Oc(u,J),Xc}function Kc(){let t=_o();const n=mr();return Qi()?ea():(t=t.parent,cs(t,!1)),n.firstCreatePass&&(tl(n,t),Zt(t)&&n.queries.elementEnd(t)),Kc}function Qc(t,n,o){return Xc(t,n,o),Kc(),Qc}let Wp=(t,n,o,u)=>(Fs(!0),zu(n[$n],""));function Yp(){return pn()}function ed(t){return!!t&&"function"==typeof t.then}function qp(t){return!!t&&"function"==typeof t.subscribe}function td(t,n,o,u){const _=pn(),P=mr(),J=_o();return function Jp(t,n,o,u,_,P,J){const ue=jn(u),De=t.firstCreatePass&&hp(t),Le=n[ur],Ze=fp(n);let pt=!0;if(3&u.type||J){const hn=Fo(u,n),xn=J?J(hn):hn,On=Ze.length,un=J?sr=>J(Br(sr[u.index])):u.index;let qn=null;if(!J&&ue&&(qn=function b1(t,n,o,u){const _=t.cleanup;if(null!=_)for(let P=0;P<_.length-1;P+=2){const J=_[P];if(J===o&&_[P+1]===u){const ue=n[yo],ve=_[P+2];return ue.length>ve?ue[ve]:null}"string"==typeof J&&(P+=2)}return null}(t,n,_,u.index)),null!==qn)(qn.__ngLastListenerFn__||qn).__ngNextListenerFn__=P,qn.__ngLastListenerFn__=P,pt=!1;else{P=Kp(u,n,Le,P,!1);const sr=o.listen(xn,_,P);Ze.push(P,sr),De&&De.push(_,un,On,On+1)}}else P=Kp(u,n,Le,P,!1);const It=u.outputs;let en;if(pt&&null!==It&&(en=It[_])){const hn=en.length;if(hn)for(let xn=0;xn<hn;xn+=2){const br=n[en[xn]][en[xn+1]].subscribe(P),hs=Ze.length;Ze.push(P,br),De&&De.push(_,u.index,hs,-(hs+1))}}}(P,_,_[$n],J,t,n,u),td}function Xp(t,n,o,u){try{return as(6,n,o),!1!==o(u)}catch(_){return mp(t,_),!1}finally{as(7,n,o)}}function Kp(t,n,o,u,_){return function P(J){if(J===Function)return u;ba(t.componentOffset>-1?Go(t.index,n):n);let ve=Xp(n,o,u,J),De=P.__ngNextListenerFn__;for(;De;)ve=Xp(n,o,De,J)&&ve,De=De.__ngNextListenerFn__;return _&&!1===ve&&J.preventDefault(),ve}}function Qp(t=1){return function wo(t){return(Yn.lFrame.contextLView=function Es(t,n){for(;t>0;)n=n[Ao],t--;return n}(t,Yn.lFrame.contextLView))[ur]}(t)}function w1(t,n){let o=null;const u=function kt(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let _=0;_<n.length;_++){const P=n[_];if("*"!==P){if(null===u?Bt(t,P,!0):Kt(u,P))return _}else o=_}return o}function em(t){const n=pn()[dr][jr];if(!n.projection){const u=n.projection=aa(t?t.length:1,null),_=u.slice();let P=n.child;for(;null!==P;){const J=t?w1(P,t):0;null!==J&&(_[J]?_[J].projectionNext=P:u[J]=P,_[J]=P),P=P.next}}}function tm(t,n=0,o){const u=pn(),_=mr(),P=ji(_,Vn+t,16,null,o||null);null===P.projection&&(P.projection=n),ea(),(!u[To]||Vs())&&32!=(32&P.flags)&&function g0(t,n,o){Qf(n[$n],0,n,o,qu(t,o,n),Yf(o.parent||n[jr],o,n))}(_,u,P)}function Ql(t,n,o,u,_){const P=pn(),J=Oi(P,n,o,u);return J!==er&&os(mr(),Rr(),P,t,J,P[$n],_,!1),Ql}function eu(t,n){return t<<17|n<<2}function Bs(t){return t>>17&32767}function nd(t){return 2|t}function Ks(t){return(131068&t)>>2}function rd(t,n){return-131069&t|n<<2}function od(t){return 1|t}function dm(t,n,o,u,_){const P=t[o+1],J=null===n;let ue=u?Bs(P):Ks(P),ve=!1;for(;0!==ue&&(!1===ve||J);){const Le=t[ue+1];M1(t[ue],n)&&(ve=!0,t[ue+1]=u?od(Le):nd(Le)),ue=u?Bs(Le):Ks(Le)}ve&&(t[o+1]=u?nd(P):od(P))}function M1(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&mi(t,n)>=0}const Eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fm(t){return t.substring(Eo.key,Eo.keyEnd)}function T1(t){return t.substring(Eo.value,Eo.valueEnd)}function pm(t,n){const o=Eo.textEnd;let u=Eo.key=Ui(t,n,o);return o===u?-1:(u=Eo.keyEnd=function O1(t,n,o){let u;for(;n<o&&(45===(u=t.charCodeAt(n))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)n++;return n}(t,u,o),u=gm(t,u,o),u=Eo.value=Ui(t,u,o),u=Eo.valueEnd=function P1(t,n,o){let u=-1,_=-1,P=-1,J=n,ue=J;for(;J<o;){const ve=t.charCodeAt(J++);if(59===ve)return ue;34===ve||39===ve?ue=J=ym(t,ve,J,o):n===J-4&&85===P&&82===_&&76===u&&40===ve?ue=J=ym(t,41,J,o):ve>32&&(ue=J),P=_,_=u,u=-33&ve}return ue}(t,u,o),gm(t,u,o))}function Ui(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function gm(t,n,o,u){return(n=Ui(t,n,o))<o&&n++,n}function ym(t,n,o,u){let _=-1,P=o;for(;P<u;){const J=t.charCodeAt(P++);if(J==n&&92!==_)return P;_=92==J&&92===_?0:J}throw new Error}function sd(t,n){return function ys(t,n,o,u){const _=pn(),P=mr(),J=xs(2);P.firstUpdatePass&&bm(P,t,J,u),n!==er&&zo(_,J,n)&&xm(P,P.data[lo()],_,_[$n],t,_[J+1]=function V1(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=h(As(t)))),t}(n,o),u,J)}(t,n,null,!0),sd}function gs(t){!function vs(t,n,o,u){const _=mr(),P=xs(2);_.firstUpdatePass&&bm(_,null,P,u);const J=pn();if(o!==er&&zo(J,P,o)){const ue=_.data[lo()];if(Cm(ue,u)&&!_m(_,P)){let ve=u?ue.classesWithoutHost:ue.stylesWithoutHost;null!==ve&&(o=s(ve,o||"")),Zc(_,ue,J,o,u)}else!function G1(t,n,o,u,_,P,J,ue){_===er&&(_=Ot);let ve=0,De=0,Le=0<_.length?_[0]:null,Ze=0<P.length?P[0]:null;for(;null!==Le||null!==Ze;){const pt=ve<_.length?_[ve+1]:void 0,It=De<P.length?P[De+1]:void 0;let hn,en=null;Le===Ze?(ve+=2,De+=2,pt!==It&&(en=Ze,hn=It)):null===Ze||null!==Le&&Le<Ze?(ve+=2,en=Le):(De+=2,en=Ze,hn=It),null!==en&&xm(t,n,o,u,en,hn,J,ue),Le=ve<_.length?_[ve]:null,Ze=De<P.length?P[De]:null}}(_,ue,J,J[$n],J[P+1],J[P+1]=function U1(t,n,o){if(null==o||""===o)return Ot;const u=[],_=As(o);if(Array.isArray(_))for(let P=0;P<_.length;P++)t(u,_[P],!0);else if("object"==typeof _)for(const P in _)_.hasOwnProperty(P)&&t(u,P,_[P]);else"string"==typeof _&&n(u,_);return u}(t,n,o),u,P)}}(wm,k1,t,!1)}function k1(t,n){for(let o=function j1(t){return function mm(t){Eo.key=0,Eo.keyEnd=0,Eo.value=0,Eo.valueEnd=0,Eo.textEnd=t.length}(t),pm(t,Ui(t,0,Eo.textEnd))}(n);o>=0;o=pm(n,o))wm(t,fm(n),T1(n))}function _m(t,n){return n>=t.expandoStartIndex}function bm(t,n,o,u){const _=t.data;if(null===_[o+1]){const P=_[lo()],J=_m(t,o);Cm(P,u)&&null===n&&!J&&(n=!1),n=function L1(t,n,o,u){const _=function Ee(t){const n=Yn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let P=u?n.residualClasses:n.residualStyles;if(null===_)0===(u?n.classBindings:n.styleBindings)&&(o=ja(o=id(null,t,n,o,u),n.attrs,u),P=null);else{const J=n.directiveStylingLast;if(-1===J||t[J]!==_)if(o=id(_,t,n,o,u),null===P){let ve=function F1(t,n,o){const u=o?n.classBindings:n.styleBindings;if(0!==Ks(u))return t[Bs(u)]}(t,n,u);void 0!==ve&&Array.isArray(ve)&&(ve=id(null,t,n,ve[1],u),ve=ja(ve,n.attrs,u),function N1(t,n,o,u){t[Bs(o?n.classBindings:n.styleBindings)]=u}(t,n,u,ve))}else P=function B1(t,n,o){let u;const _=n.directiveEnd;for(let P=1+n.directiveStylingLast;P<_;P++)u=ja(u,t[P].hostAttrs,o);return ja(u,n.attrs,o)}(t,n,u)}return void 0!==P&&(u?n.residualClasses=P:n.residualStyles=P),o}(_,P,n,u),function S1(t,n,o,u,_,P){let J=P?n.classBindings:n.styleBindings,ue=Bs(J),ve=Ks(J);t[u]=o;let Le,De=!1;if(Array.isArray(o)?(Le=o[1],(null===Le||mi(o,Le)>0)&&(De=!0)):Le=o,_)if(0!==ve){const pt=Bs(t[ue+1]);t[u+1]=eu(pt,ue),0!==pt&&(t[pt+1]=rd(t[pt+1],u)),t[ue+1]=function E1(t,n){return 131071&t|n<<17}(t[ue+1],u)}else t[u+1]=eu(ue,0),0!==ue&&(t[ue+1]=rd(t[ue+1],u)),ue=u;else t[u+1]=eu(ve,0),0===ue?ue=u:t[ve+1]=rd(t[ve+1],u),ve=u;De&&(t[u+1]=nd(t[u+1])),dm(t,Le,u,!0),dm(t,Le,u,!1),function D1(t,n,o,u,_){const P=_?t.residualClasses:t.residualStyles;null!=P&&"string"==typeof n&&mi(P,n)>=0&&(o[u+1]=od(o[u+1]))}(n,Le,t,u,P),J=eu(ue,ve),P?n.classBindings=J:n.styleBindings=J}(_,P,n,o,J,u)}}function id(t,n,o,u,_){let P=null;const J=o.directiveEnd;let ue=o.directiveStylingLast;for(-1===ue?ue=o.directiveStart:ue++;ue<J&&(P=n[ue],u=ja(u,P.hostAttrs,_),P!==t);)ue++;return null!==t&&(o.directiveStylingLast=ue),u}function ja(t,n,o){const u=o?1:2;let _=-1;if(null!==n)for(let P=0;P<n.length;P++){const J=n[P];"number"==typeof J?_=J:_===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),rs(t,J,!!o||n[++P]))}return void 0===t?null:t}function wm(t,n,o){rs(t,n,As(o))}function xm(t,n,o,u,_,P,J,ue){if(!(3&n.type))return;const ve=t.data,De=ve[ue+1],Le=function C1(t){return 1==(1&t)}(De)?Em(ve,n,o,_,Ks(De),J):void 0;tu(Le)||(tu(P)||function x1(t){return 2==(2&t)}(De)&&(P=Em(ve,null,o,_,ue,J)),function v0(t,n,o,u,_){if(n)_?t.addClass(o,u):t.removeClass(o,u);else{let P=-1===u.indexOf("-")?void 0:vl.DashCase;null==_?t.removeStyle(o,u,P):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),P|=vl.Important),t.setStyle(o,u,_,P))}}(u,J,si(lo(),o),_,P))}function Em(t,n,o,u,_,P){const J=null===n;let ue;for(;_>0;){const ve=t[_],De=Array.isArray(ve),Le=De?ve[1]:ve,Ze=null===Le;let pt=o[_+1];pt===er&&(pt=Ze?Ot:void 0);let It=Ze?Ru(pt,u):Le===u?pt:void 0;if(De&&!tu(It)&&(It=Ru(ve,u)),tu(It)&&(ue=It,J))return ue;const en=t[_+1];_=J?Bs(en):Ks(en)}if(null!==n){let ve=P?n.residualClasses:n.residualStyles;null!=ve&&(ue=Ru(ve,u))}return ue}function tu(t){return void 0!==t}function Cm(t,n){return 0!=(t.flags&(n?8:16))}function Sm(t,n=""){const o=pn(),u=mr(),_=t+Vn,P=u.firstCreatePass?ji(u,_,1,n,null):u.data[_],J=Dm(u,o,P,n,t);o[_]=J,el()&&El(u,o,J,P),cs(P,!1)}let Dm=(t,n,o,u,_)=>(Fs(!0),function _l(t,n){return t.createText(n)}(n[$n],u));function ad(t){return nu("",t,""),ad}function nu(t,n,o){const u=pn(),_=Oi(u,t,n,o);return _!==er&&ks(u,lo(),_),nu}function ld(t,n,o,u,_){const P=pn(),J=Pi(P,t,n,o,u,_);return J!==er&&ks(P,lo(),J),ld}const Qs=void 0;var dw=["en",[["a","p"],["AM","PM"],Qs],[["AM","PM"],Qs,Qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qs,"{1} 'at' {0}",Qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cw(t){const o=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let $i={};function ud(t){const n=function fw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Wm(n);if(o)return o;const u=n.split("-")[0];if(o=Wm(u),o)return o;if("en"===u)return dw;throw new k(701,!1)}function zm(t){return ud(t)[Gi.PluralCase]}function Wm(t){return t in $i||($i[t]=Pe.ng&&Pe.ng.common&&Pe.ng.common.locales&&Pe.ng.common.locales[t]),$i[t]}var Gi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Gi||{});const Vi="en-US";let Ym=Vi;function fd(t,n,o,u,_){if(t=v(t),Array.isArray(t))for(let P=0;P<t.length;P++)fd(t[P],n,o,u,_);else{const P=mr(),J=pn(),ue=_o();let ve=Js(t)?t:v(t.provide);const De=bh(t),Le=1048575&ue.providerIndexes,Ze=ue.directiveStart,pt=ue.providerIndexes>>20;if(Js(t)||!t.multi){const It=new na(De,_,Ii),en=pd(ve,n,_?Le:Le+pt,Ze);-1===en?(Au(sl(ue,J),P,ve),hd(P,t,n.length),n.push(ve),ue.directiveStart++,ue.directiveEnd++,_&&(ue.providerIndexes+=1048576),o.push(It),J.push(It)):(o[en]=It,J[en]=It)}else{const It=pd(ve,n,Le+pt,Ze),en=pd(ve,n,Le,Le+pt),xn=en>=0&&o[en];if(_&&!xn||!_&&!(It>=0&&o[It])){Au(sl(ue,J),P,ve);const On=function cx(t,n,o,u,_){const P=new na(t,o,Ii);return P.multi=[],P.index=n,P.componentProviders=0,vg(P,_,u&&!o),P}(_?ux:lx,o.length,_,u,De);!_&&xn&&(o[en].providerFactory=On),hd(P,t,n.length,0),n.push(ve),ue.directiveStart++,ue.directiveEnd++,_&&(ue.providerIndexes+=1048576),o.push(On),J.push(On)}else hd(P,t,It>-1?It:en,vg(o[_?en:It],De,!_&&u));!_&&u&&xn&&o[en].componentProviders++}}}function hd(t,n,o,u){const _=Js(n),P=function K0(t){return!!t.useClass}(n);if(_||P){const ve=(P?v(n.useClass):n).prototype.ngOnDestroy;if(ve){const De=t.destroyHooks||(t.destroyHooks=[]);if(!_&&n.multi){const Le=De.indexOf(o);-1===Le?De.push(o,[u,ve]):De[Le+1].push(u,ve)}else De.push(o,ve)}}}function vg(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function pd(t,n,o,u){for(let _=o;_<u;_++)if(n[_]===t)return _;return-1}function lx(t,n,o,u){return md(this.multi,[])}function ux(t,n,o,u){const _=this.multi;let P;if(this.providerFactory){const J=this.providerFactory.componentProviders,ue=Ws(o,o[wn],this.providerFactory.index,u);P=ue.slice(0,J),md(_,P);for(let ve=J;ve<ue.length;ve++)P.push(ue[ve])}else P=[],md(_,P);return P}function md(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function _g(t,n=[]){return o=>{o.providersResolver=(u,_)=>function ax(t,n,o){const u=mr();if(u.firstCreatePass){const _=Un(t);fd(o,u.data,u.blueprint,_,!0),fd(n,u.data,u.blueprint,_,!1)}}(u,_?_(t):t,n)}}class ei{}class bg{}function dx(t,n){return new gd(t,null!=n?n:null,[])}class gd extends ei{constructor(n,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xp(this);const _=Vr(n);this._bootstrapComponents=Ps(_.bootstrap),this._r3Injector=kh(n,o,[{provide:ei,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver},...u],h(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class yd extends bg{constructor(n){super(),this.moduleType=n}create(n){return new gd(this.moduleType,n,[])}}class wg extends ei{constructor(n){super(),this.componentFactoryResolver=new xp(this),this.instance=null;const o=new Ol([...n.providers,{provide:ei,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver}],n.parent||Al(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function xg(t,n,o=null){return new wg({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let hx=(()=>{var t;class n{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const _=gh(0,u.type),P=_.length>0?xg([_],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,P)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Ye({token:t,providedIn:"environment",factory:()=>new t(ee(Ss))}),n})();function Eg(t){t.getStandaloneInjector=n=>n.get(hx).getOrCreateStandaloneInjector(t)}function jg(t,n,o){const u=function Vo(){const t=Yn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,_=pn();return _[u]===er?function Ts(t,n,o){return t[n]=o}(_,u,o?n.call(o):n()):function Da(t,n){return t[n]}(_,u)}function Nx(){return this._results[Symbol.iterator]()}class _d{get changes(){return this._changes||(this._changes=new Ds)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=_d.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Nx)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const u=this;u.dirty=!1;const _=function ds(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function bv(t,n,o){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let _=t[u],P=n[u];if(o&&(_=o(_),P=o(P)),P!==_)return!1}return!0}(u._results,_,o))&&(u._results=_,u.length=_.length,u.last=_[this.length-1],u.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Ux(t,n,o,u=!0){const _=n[wn];if(function c0(t,n,o,u){const _=Te+u,P=o.length;u>0&&(o[_-1][Kr]=n),u<P-Te?(n[Kr]=o[_],vf(o,Te+u,n)):(o.push(n),n[Kr]=null),n[rr]=o;const J=n[Oo];null!==J&&o!==J&&function d0(t,n){const o=t[ko];n[dr]!==n[rr][rr][dr]&&(t[Io]=!0),null===o?t[ko]=[n]:o.push(n)}(J,n);const ue=n[oo];null!==ue&&ue.insertView(t),n[Nn]|=128}(_,n,t,o),u){const P=Ju(o,t),J=n[$n],ue=xl(J,t[Sn]);null!==ue&&function a0(t,n,o,u,_,P){u[Kn]=_,u[jr]=n,fa(t,u,o,1,_,P)}(_,t[jr],J,n,ue,P)}}let Na=(()=>{class n{}return n.__NG_ELEMENT_ID__=Vx,n})();const $x=Na,Gx=class extends $x{constructor(n,o,u){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=u}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,u){const _=function Bx(t,n,o,u){var _,P;const J=n.tView,De=$l(t,J,o,4096&t[Nn]?4096:16,null,n,null,null,null,null!==(_=null==u?void 0:u.injector)&&void 0!==_?_:null,null!==(P=null==u?void 0:u.hydrationInfo)&&void 0!==P?P:null);De[Oo]=t[n.index];const Ze=t[oo];return null!==Ze&&(De[oo]=Ze.createEmbeddedView(J)),Bc(J,De,o),De}(this._declarationLView,this._declarationTContainer,n,{injector:o,hydrationInfo:u});return new Ca(_)}};function Vx(){return au(_o(),pn())}function au(t,n){return 4&t.type?new Gx(n,t,Di(t,n)):null}let uu=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zx,n})();function Zx(){return Gg(_o(),pn())}const Jx=uu,Ug=class extends Jx{constructor(n,o,u){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=u}get element(){return Di(this._hostTNode,this._hostLView)}get injector(){return new Yo(this._hostTNode,this._hostLView)}get parentInjector(){const n=il(this._hostTNode,this._hostLView);if(Tu(n)){const o=oa(n,this._hostLView),u=ra(n);return new Yo(o[wn].data[u+8],o)}return new Yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=$g(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Te}createEmbeddedView(n,o,u){let _,P;"number"==typeof u?_=u:null!=u&&(_=u.index,P=u.injector);const ue=n.createEmbeddedViewImpl(o||{},P,null);return this.insertImpl(ue,_,false),ue}createComponent(n,o,u,_,P){var J,ve;const De=n&&!function ia(t){return"function"==typeof t}(n);let Le;if(De)Le=o;else{const un=o||{};Le=un.index,u=un.injector,_=un.projectableNodes,P=un.environmentInjector||un.ngModuleRef}const Ze=De?n:new Sa(Hn(n)),pt=u||this.parentInjector;if(!P&&null==Ze.ngModule){const qn=(De?pt:this.parentInjector).get(Ss,null);qn&&(P=qn)}const It=Hn(null!==(J=Ze.componentType)&&void 0!==J?J:{}),en=(null==It?void 0:It.id,null),hn=null!==(ve=null==en?void 0:en.firstChild)&&void 0!==ve?ve:null,xn=Ze.create(pt,_,hn,P),On=!!en&&!gl(this._hostTNode);return this.insertImpl(xn.hostView,Le,On),xn}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,u){const _=n._lView;if(function vu(t){return Je(t[rr])}(_)){const ve=this.indexOf(n);if(-1!==ve)this.detach(ve);else{const De=_[rr],Le=new Ug(De,De[jr],De[rr]);Le.detach(Le.indexOf(n))}}const J=this._adjustIndex(o),ue=this._lContainer;return Ux(ue,_,J,!u),n.attachToViewContainerRef(),vf(bd(ue),J,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=$g(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),u=wl(this._lContainer,o);u&&(ll(bd(this._lContainer),o),Wu(u[wn],u))}detach(n){const o=this._adjustIndex(n,-1),u=wl(this._lContainer,o);return u&&null!=ll(bd(this._lContainer),o)?new Ca(u):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function $g(t){return t[8]}function bd(t){return t[8]||(t[8]=[])}function Gg(t,n){let o;const u=n[t.index];return Je(u)?o=u:(o=cp(u,n,null,t),n[t.index]=o,Gl(n,o)),Vg(o,n,t,u),new Ug(o,t,n)}let Vg=function Hg(t,n,o,u){if(t[Sn])return;let _;_=8&o.type?Br(u):function Xx(t,n){const o=t[$n],u=o.createComment(""),_=Fo(n,t);return Ys(o,xl(o,_),u,function m0(t,n){return t.nextSibling(n)}(o,_),!1),u}(n,o),t[Sn]=_};class wd{constructor(n){this.queryList=n,this.matches=null}clone(){return new wd(this.queryList)}setDirty(){this.queryList.setDirty()}}class xd{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const u=null!==n.contentQueries?n.contentQueries[0]:o.length,_=[];for(let P=0;P<u;P++){const J=o.getByIndex(P);_.push(this.queries[J.indexInDeclarationView].clone())}return new xd(_)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==Qg(n,o).matches&&this.queries[o].setDirty()}}class zg{constructor(n,o,u=null){this.predicate=n,this.flags=o,this.read=u}}class Ed{constructor(n=[]){this.queries=n}elementStart(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let u=0;u<this.length;u++){const _=null!==o?o.length:0,P=this.getByIndex(u).embeddedTView(n,_);P&&(P.indexInDeclarationView=u,null!==o?o.push(P):o=[P])}return null!==o?new Ed(o):null}template(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Cd{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new Cd(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let _=0;_<u.length;_++){const P=u[_];this.matchTNodeWithReadOption(n,o,eE(o,P)),this.matchTNodeWithReadOption(n,o,al(o,n,P,!1,!1))}else u===Na?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,al(o,n,u,!1,!1))}matchTNodeWithReadOption(n,o,u){if(null!==u){const _=this.metadata.read;if(null!==_)if(_===_a||_===uu||_===Na&&4&o.type)this.addMatch(o.index,-2);else{const P=al(o,n,_,!1,!1);null!==P&&this.addMatch(o.index,P)}else this.addMatch(o.index,u)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function eE(t,n){const o=t.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===n)return o[u+1];return null}function nE(t,n,o,u){return-1===o?function tE(t,n){return 11&t.type?Di(t,n):4&t.type?au(t,n):null}(n,t):-2===o?function rE(t,n,o){return o===_a?Di(n,t):o===Na?au(n,t):o===uu?Gg(n,t):void 0}(t,n,u):Ws(t,t[wn],o,n)}function Wg(t,n,o,u){const _=n[oo].queries[u];if(null===_.matches){const P=t.data,J=o.matches,ue=[];for(let ve=0;ve<J.length;ve+=2){const De=J[ve];ue.push(De<0?null:nE(n,P[De],J[ve+1],o.metadata.read))}_.matches=ue}return _.matches}function Sd(t,n,o,u){const _=t.queries.getByIndex(o),P=_.matches;if(null!==P){const J=Wg(t,n,_,o);for(let ue=0;ue<P.length;ue+=2){const ve=P[ue];if(ve>0)u.push(J[ue/2]);else{const De=P[ue+1],Le=n[-ve];for(let Ze=Te;Ze<Le.length;Ze++){const pt=Le[Ze];pt[Oo]===pt[rr]&&Sd(pt[wn],pt,De,u)}if(null!==Le[ko]){const Ze=Le[ko];for(let pt=0;pt<Ze.length;pt++){const It=Ze[pt];Sd(It[wn],It,De,u)}}}}}return u}function Yg(t){const n=pn(),o=mr(),u=Ve();rt(u+1);const _=Qg(o,u);if(t.dirty&&function yu(t){return 4==(4&t[Nn])}(n)===(2==(2&_.metadata.flags))){if(null===_.matches)t.reset([]);else{const P=_.crossesNgTemplate?Sd(o,n,u,[]):Wg(o,n,_,u);t.reset(P,b_),t.notifyOnChanges()}return!0}return!1}function qg(t,n,o){const u=mr();u.firstCreatePass&&(Kg(u,new zg(t,n,o),-1),2==(2&n)&&(u.staticViewQueries=!0)),Xg(u,pn(),n)}function Zg(t,n,o,u){const _=mr();if(_.firstCreatePass){const P=_o();Kg(_,new zg(n,o,u),P.index),function sE(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(_,t),2==(2&o)&&(_.staticContentQueries=!0)}Xg(_,pn(),o)}function Jg(){return function oE(t,n){return t[oo].queries[n].queryList}(pn(),Ve())}function Xg(t,n,o){const u=new _d(4==(4&o));(function eb(t,n,o,u){const _=fp(n);_.push(o),t.firstCreatePass&&hp(t).push(u,_.length-1)})(t,n,u,u.destroy),null===n[oo]&&(n[oo]=new xd),n[oo].queries.push(new wd(u))}function Kg(t,n,o){null===t.queries&&(t.queries=new Ed),t.queries.track(new Cd(n,o))}function Qg(t,n){return t.queries.getByIndex(n)}function Dd(t){return!!Vr(t)}const gy=new Tr("Application Initializer");let Ad=(()=>{var t;class n{constructor(){var u;this.initialized=!1,this.done=!1,this.donePromise=new Promise((_,P)=>{this.resolve=_,this.reject=P}),this.appInits=null!==(u=Se(gy,{optional:!0}))&&void 0!==u?u:[]}runInitializers(){if(this.initialized)return;const u=[];for(const P of this.appInits){const J=P();if(ed(J))u.push(J);else if(qp(J)){const ue=new Promise((ve,De)=>{J.subscribe({complete:ve,error:De})});u.push(ue)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{_()}).catch(P=>{this.reject(P)}),0===u.length&&_(),this.initialized=!0}}return(t=n).\u0275fac=function(u){return new(u||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),yy=(()=>{var t;class n{log(u){console.log(u)}warn(u){console.warn(u)}}return(t=n).\u0275fac=function(u){return new(u||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const du=new Tr("LocaleId",{providedIn:"root",factory:()=>Se(du,Ht.Optional|Ht.SkipSelf)||function ME(){return typeof $localize<"u"&&$localize.locale||Vi}()}),TE=new Tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let vy=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new r.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(u){return new(u||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();class jE{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let AE=(()=>{var t;class n{compileModuleSync(u){return new yd(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const _=this.compileModuleSync(u),J=Ps(Vr(u).declarations).reduce((ue,ve)=>{const De=Hn(ve);return De&&ue.push(new Sa(De)),ue},[]);return new jE(_,J)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return(t=n).\u0275fac=function(u){return new(u||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const xy=new Tr(""),Ey=new Tr("");let kd,XE=(()=>{var t;class n{constructor(u,_,P){this._ngZone=u,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kd||(function KE(t){kd=t}(P),P.addToWindow(_)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(u)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,_,P){let J=-1;_&&_>0&&(J=setTimeout(()=>{this._callbacks=this._callbacks.filter(ue=>ue.timeoutId!==J),u(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:u,timeoutId:J,updateCb:P})}whenStable(u,_,P){if(P&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,_,P),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,_,P){return[]}}return(t=n).\u0275fac=function(u){return new(u||t)(ee(jo),ee(Cy),ee(Ey))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac}),n})(),Cy=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(u,_){this._applications.set(u,_)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,_=!0){var P,J;return null!==(P=null===(J=kd)||void 0===J?void 0:J.findTestabilityInTree(this,u,_))&&void 0!==P?P:null}}return(t=n).\u0275fac=function(u){return new(u||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Us=null;const Sy=new Tr("AllowMultipleToken"),Rd=new Tr("PlatformDestroyListeners"),Ld=new Tr("appBootstrapListener");class tC{constructor(n,o){this.name=n,this.token=o}}function Ty(t,n,o=[]){const u=`Platform: ${n}`,_=new Tr(u);return(P=[])=>{let J=Fd();if(!J||J.injector.get(Sy,!1)){const ue=[...o,...P,{provide:_,useValue:!0}];t?t(ue):function nC(t){if(Us&&!Us.get(Sy,!1))throw new k(400,!1);(function Dy(){!function Rs(t){ri=t}(()=>{throw new k(600,!1)})})(),Us=t;const n=t.get(jy);(function My(t){const n=t.get(xh,null);null==n||n.forEach(o=>o())})(t)}(function Iy(t=[],n){return ms.create({name:n,providers:[{provide:uc,useValue:"platform"},{provide:Rd,useValue:new Set([()=>Us=null])},...t]})}(ue,u))}return function oC(t){const n=Fd();if(!n)throw new k(401,!1);return n}()}}function Fd(){var t,n;return null!==(t=null===(n=Us)||void 0===n?void 0:n.get(jy))&&void 0!==t?t:null}let jy=(()=>{var t;class n{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,_){const P=function sC(t="zone.js",n){return"noop"===t?new L_:"zone.js"===t?new jo(n):t}(null==_?void 0:_.ngZone,function Ay(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==_?void 0:_.ngZoneEventCoalescing,runCoalescing:null==_?void 0:_.ngZoneRunCoalescing}));return P.run(()=>{const J=function fx(t,n,o){return new gd(t,n,o)}(u.moduleType,this.injector,function Ly(t){return[{provide:jo,useFactory:t},{provide:ma,multi:!0,useFactory:()=>{const n=Se(aC,{optional:!0});return()=>n.initialize()}},{provide:Ry,useFactory:iC},{provide:Bh,useFactory:Uh}]}(()=>P)),ue=J.injector.get(Ns,null);return P.runOutsideAngular(()=>{const ve=P.onError.subscribe({next:De=>{ue.handleError(De)}});J.onDestroy(()=>{hu(this._modules,J),ve.unsubscribe()})}),function Oy(t,n,o){try{const u=o();return ed(u)?u.catch(_=>{throw n.runOutsideAngular(()=>t.handleError(_)),_}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(ue,P,()=>{const ve=J.injector.get(Ad);return ve.runInitializers(),ve.donePromise.then(()=>(function qm(t){$e(t,"Expected localeId to be defined"),"string"==typeof t&&(Ym=t.toLowerCase().replace(/_/g,"-"))}(J.injector.get(du,Vi)||Vi),this._moduleDoBootstrap(J),J))})})}bootstrapModule(u,_=[]){const P=Py({},_);return function QE(t,n,o){const u=new yd(o);return Promise.resolve(u)}(0,0,u).then(J=>this.bootstrapModuleFactory(J,P))}_moduleDoBootstrap(u){const _=u.injector.get(Wi);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(P=>_.bootstrap(P));else{if(!u.instance.ngDoBootstrap)throw new k(-403,!1);u.instance.ngDoBootstrap(_)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const u=this._injector.get(Rd,null);u&&(u.forEach(_=>_()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(u){return new(u||t)(ee(ms))},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function Py(t,n){return Array.isArray(n)?n.reduce(Py,t):{...t,...n}}let Wi=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Se(Ry),this.zoneIsStable=Se(Bh),this.componentTypes=[],this.components=[],this.isStable=Se(vy).hasPendingTasks.pipe((0,w.w)(u=>u?(0,G.of)(!1):this.zoneIsStable),(0,b.x)(),d()),this._injector=Se(Ss)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,_){const P=u instanceof Dh;if(!this._injector.get(Ad).done)throw!P&&Xr(u),new k(405,!1);let ue;ue=P?u:this._injector.get(Bl).resolveComponentFactory(u),this.componentTypes.push(ue.componentType);const ve=function eC(t){return t.isBoundToModule}(ue)?void 0:this._injector.get(ei),Le=ue.create(ms.NULL,[],_||ue.selector,ve),Ze=Le.location.nativeElement,pt=Le.injector.get(xy,null);return null==pt||pt.registerApplication(Ze),Le.onDestroy(()=>{this.detachView(Le.hostView),hu(this.components,Le),null==pt||pt.unregisterApplication(Ze)}),this._loadComponent(Le),Le}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const _=u;this._views.push(_),_.attachToAppRef(this)}detachView(u){const _=u;hu(this._views,_),_.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const _=this._injector.get(Ld,[]);_.push(...this._bootstrapListeners),_.forEach(P=>P(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>hu(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new k(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(u){return new(u||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function hu(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}const Ry=new Tr("",{providedIn:"root",factory:()=>Se(Ns).handleError.bind(void 0)});function iC(){const t=Se(jo),n=Se(Ns);return o=>t.runOutsideAngular(()=>n.handleError(o))}let aC=(()=>{var t;class n{constructor(){this.zone=Se(jo),this.applicationRef=Se(Wi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var u;null===(u=this._onMicrotaskEmptySubscription)||void 0===u||u.unsubscribe()}}return(t=n).\u0275fac=function(u){return new(u||t)},t.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function uC(){}let cC=(()=>{class n{}return n.__NG_ELEMENT_ID__=dC,n})();function dC(t){return function fC(t,n,o){if(vn(t)&&!o){const u=Go(t.index,n);return new Ca(u,u)}return 47&t.type?new Ca(n[dr],n):null}(_o(),pn(),16==(16&t))}class Uy{constructor(){}supports(n){return Wl(n)}create(n){return new vC(n)}}const yC=(t,n)=>n;class vC{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||yC}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,u=this._removalsHead,_=0,P=null;for(;o||u;){const J=!u||o&&o.currentIndex<Gy(u,_,P)?o:u,ue=Gy(J,_,P),ve=J.currentIndex;if(J===u)_--,u=u._nextRemoved;else if(o=o._next,null==J.previousIndex)_++;else{P||(P=[]);const De=ue-_,Le=ve-_;if(De!=Le){for(let pt=0;pt<De;pt++){const It=pt<P.length?P[pt]:P[pt]=0,en=It+pt;Le<=en&&en<De&&(P[pt]=It+1)}P[J.previousIndex]=Le-De}}ue!==ve&&n(J,ue,ve)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!Wl(n))throw new k(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let _,P,J,o=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let ue=0;ue<this.length;ue++)P=n[ue],J=this._trackByFn(ue,P),null!==o&&Object.is(o.trackById,J)?(u&&(o=this._verifyReinsertion(o,P,J,ue)),Object.is(o.item,P)||this._addIdentityChange(o,P)):(o=this._mismatch(o,P,J,ue),u=!0),o=o._next}else _=0,function Wb(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let u;for(;!(u=o.next()).done;)n(u.value)}}(n,ue=>{J=this._trackByFn(_,ue),null!==o&&Object.is(o.trackById,J)?(u&&(o=this._verifyReinsertion(o,ue,J,_)),Object.is(o.item,ue)||this._addIdentityChange(o,ue)):(o=this._mismatch(o,ue,J,_),u=!0),o=o._next,_++}),this.length=_;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,u,_){let P;return null===n?P=this._itTail:(P=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,P,_)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,_))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,P,_)):n=this._addAfter(new _C(o,u),P,_),n}_verifyReinsertion(n,o,u,_){let P=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==P?n=this._reinsertAfter(P,n._prev,_):n.currentIndex!=_&&(n.currentIndex=_,this._addToMoves(n,_)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const _=n._prevRemoved,P=n._nextRemoved;return null===_?this._removalsHead=P:_._nextRemoved=P,null===P?this._removalsTail=_:P._prevRemoved=_,this._insertAfter(n,o,u),this._addToMoves(n,u),n}_moveAfter(n,o,u){return this._unlink(n),this._insertAfter(n,o,u),this._addToMoves(n,u),n}_addAfter(n,o,u){return this._insertAfter(n,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,u){const _=null===o?this._itHead:o._next;return n._next=_,n._prev=o,null===_?this._itTail=n:_._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new $y),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,u=n._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $y),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class _C{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bC{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const o=n._prevDup,u=n._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class $y{constructor(){this.map=new Map}put(n){const o=n.trackById;let u=this.map.get(o);u||(u=new bC,this.map.set(o,u)),u.add(n)}get(n,o){const _=this.map.get(n);return _?_.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gy(t,n,o){const u=t.previousIndex;if(null===u)return u;let _=0;return o&&u<o.length&&(_=o[u]),u+n+_}class Vy{constructor(){}supports(n){return n instanceof Map||$c(n)}create(){return new wC}}class wC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||$c(n)))throw new k(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,_)=>{if(o&&o.key===_)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const P=this._getOrCreateRecordForKey(_,u);o=this._insertBeforeOrAppend(o,P)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const u=n._prev;return o._next=n,o._prev=u,n._prev=o,u&&(u._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const _=this._records.get(n);this._maybeAddToChanges(_,o);const P=_._prev,J=_._next;return P&&(P._next=J),J&&(J._prev=P),_._next=null,_._prev=null,_}const u=new xC(n);return this._records.set(n,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(u=>o(n[u],u))}}class xC{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hy(){return new Gd([new Uy])}let Gd=(()=>{var t;class n{constructor(u){this.factories=u}static create(u,_){if(null!=_){const P=_.factories.slice();u=u.concat(P)}return new n(u)}static extend(u){return{provide:n,useFactory:_=>n.create(u,_||Hy()),deps:[[n,new dl,new cl]]}}find(u){const _=this.factories.find(P=>P.supports(u));if(null!=_)return _;throw new k(901,!1)}}return(t=n).\u0275prov=Ye({token:t,providedIn:"root",factory:Hy}),n})();function zy(){return new Vd([new Vy])}let Vd=(()=>{var t;class n{constructor(u){this.factories=u}static create(u,_){if(_){const P=_.factories.slice();u=u.concat(P)}return new n(u)}static extend(u){return{provide:n,useFactory:_=>n.create(u,_||zy()),deps:[[n,new dl,new cl]]}}find(u){const _=this.factories.find(P=>P.supports(u));if(_)return _;throw new k(901,!1)}}return(t=n).\u0275prov=Ye({token:t,providedIn:"root",factory:zy}),n})();const SC=Ty(null,"core",[]);let DC=(()=>{var t;class n{constructor(u){}}return(t=n).\u0275fac=function(u){return new(u||t)(ee(Wi))},t.\u0275mod=po({type:t}),t.\u0275inj=Ke({}),n})();function FC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function BC(t,n){const o=Hn(t),u=n.elementInjector||Al();return new Sa(o).create(u,n.projectableNodes,n.hostElement,n.environmentInjector)}function UC(t){const n=Hn(t);if(!n)return null;const o=new Sa(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},95:(nn,Et,me)=>{"use strict";me.d(Et,{Fj:()=>a,u5:()=>x,Fd:()=>Mo,qQ:()=>Po,Cf:()=>$,JU:()=>l,a5:()=>lt,JJ:()=>Ct,On:()=>lr});var H=me(9468),j=me(6814),st=me(7715),X=me(5592),r=me(7453),G=me(4829),O=me(9940),f=me(8251),m=me(7400),d=me(2714),w=me(7398);let b=(()=>{var C;class S{constructor(z,ae){this._renderer=z,this._elementRef=ae,this.onChange=Oe=>{},this.onTouched=()=>{}}setProperty(z,ae){this._renderer.setProperty(this._elementRef.nativeElement,z,ae)}registerOnTouched(z){this.onTouched=z}registerOnChange(z){this.onChange=z}setDisabledState(z){this.setProperty("disabled",z)}}return(C=S).\u0275fac=function(z){return new(z||C)(H.Y36(H.Qsj),H.Y36(H.SBq))},C.\u0275dir=H.lG2({type:C}),S})(),i=(()=>{var C;class S extends b{}return(C=S).\u0275fac=function(){let q;return function(ae){return(q||(q=H.n5z(C)))(ae||C)}}(),C.\u0275dir=H.lG2({type:C,features:[H.qOj]}),S})();const l=new H.OlP("NgValueAccessor"),c={provide:l,useExisting:(0,H.Gpc)(()=>a),multi:!0},v=new H.OlP("CompositionEventMode");let a=(()=>{var C;class S extends b{constructor(z,ae,Oe){super(z,ae),this._compositionMode=Oe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function p(){const C=(0,j.q)()?(0,j.q)().getUserAgent():"";return/android (\d+)/.test(C.toLowerCase())}())}writeValue(z){this.setProperty("value",null==z?"":z)}_handleInput(z){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(z)}_compositionStart(){this._composing=!0}_compositionEnd(z){this._composing=!1,this._compositionMode&&this.onChange(z)}}return(C=S).\u0275fac=function(z){return new(z||C)(H.Y36(H.Qsj),H.Y36(H.SBq),H.Y36(v,8))},C.\u0275dir=H.lG2({type:C,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(z,ae){1&z&&H.NdJ("input",function(qe){return ae._handleInput(qe.target.value)})("blur",function(){return ae.onTouched()})("compositionstart",function(){return ae._compositionStart()})("compositionend",function(qe){return ae._compositionEnd(qe.target.value)})},features:[H._Bn([c]),H.qOj]}),S})();function g(C){return null==C||("string"==typeof C||Array.isArray(C))&&0===C.length}const $=new H.OlP("NgValidators"),k=new H.OlP("NgAsyncValidators");function T(C){return null}function K(C){return null!=C}function se(C){return(0,H.QGY)(C)?(0,st.D)(C):C}function fe(C){let S={};return C.forEach(q=>{S=null!=q?{...S,...q}:S}),0===Object.keys(S).length?null:S}function Ie(C,S){return S.map(q=>q(C))}function ie(C){return C.map(S=>function Z(C){return!C.validate}(S)?S:q=>S.validate(q))}function we(C){return null!=C?function pe(C){if(!C)return null;const S=C.filter(K);return 0==S.length?null:function(q){return fe(Ie(q,S))}}(ie(C)):null}function $e(C){return null!=C?function Re(C){if(!C)return null;const S=C.filter(K);return 0==S.length?null:function(q){return function y(...C){const S=(0,O.jO)(C),{args:q,keys:z}=(0,r.D)(C),ae=new X.y(Oe=>{const{length:qe}=q;if(!qe)return void Oe.complete();const et=new Array(qe);let _t=qe,Pt=qe;for(let Tt=0;Tt<qe;Tt++){let ct=!1;(0,G.Xf)(q[Tt]).subscribe((0,f.x)(Oe,on=>{ct||(ct=!0,Pt--),et[Tt]=on},()=>_t--,void 0,()=>{(!_t||!ct)&&(Pt||Oe.next(z?(0,d.n)(z,et):et),Oe.complete())}))}});return S?ae.pipe((0,m.Z)(S)):ae}(Ie(q,S).map(se)).pipe((0,w.U)(fe))}}(ie(C)):null}function Fe(C,S){return null===C?[S]:Array.isArray(C)?[...C,S]:[C,S]}function We(C){return C?Array.isArray(C)?C:[C]:[]}function Ye(C,S){return Array.isArray(C)?C.includes(S):C===S}function Ne(C,S){const q=We(S);return We(C).forEach(ae=>{Ye(q,ae)||q.push(ae)}),q}function Ke(C,S){return We(S).filter(q=>!Ye(C,q))}class at{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=we(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=$e(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S=void 0){this.control&&this.control.reset(S)}hasError(S,q){return!!this.control&&this.control.hasError(S,q)}getError(S,q){return this.control?this.control.getError(S,q):null}}class yt extends at{get formDirective(){return null}get path(){return null}}class lt extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nt{constructor(S){this._cd=S}get isTouched(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.touched)}get isUntouched(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.untouched)}get isPristine(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.pristine)}get isDirty(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.dirty)}get isValid(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.valid)}get isInvalid(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.invalid)}get isPending(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.pending)}get isSubmitted(){var S;return!(null===(S=this._cd)||void 0===S||!S.submitted)}}let Ct=(()=>{var C;class S extends nt{constructor(z){super(z)}}return(C=S).\u0275fac=function(z){return new(z||C)(H.Y36(lt,2))},C.\u0275dir=H.lG2({type:C,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(z,ae){2&z&&H.ekj("ng-untouched",ae.isUntouched)("ng-touched",ae.isTouched)("ng-pristine",ae.isPristine)("ng-dirty",ae.isDirty)("ng-valid",ae.isValid)("ng-invalid",ae.isInvalid)("ng-pending",ae.isPending)},features:[H.qOj]}),S})();const Jt="VALID",gn="INVALID",_n="PENDING",fn="DISABLED";function gt(C){return null!=C&&!Array.isArray(C)&&"object"==typeof C}class sn{constructor(S,q){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(S),this._assignAsyncValidators(q)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===Jt}get invalid(){return this.status===gn}get pending(){return this.status==_n}get disabled(){return this.status===fn}get enabled(){return this.status!==fn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._assignValidators(S)}setAsyncValidators(S){this._assignAsyncValidators(S)}addValidators(S){this.setValidators(Ne(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(Ne(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(Ke(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(Ke(S,this._rawAsyncValidators))}hasValidator(S){return Ye(this._rawValidators,S)}hasAsyncValidator(S){return Ye(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(q=>{q.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(q=>{q.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=_n,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const q=this._parentMarkedDirty(S.onlySelf);this.status=fn,this.errors=null,this._forEachChild(z=>{z.disable({...S,onlySelf:!0})}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:q}),this._onDisabledChange.forEach(z=>z(!0))}enable(S={}){const q=this._parentMarkedDirty(S.onlySelf);this.status=Jt,this._forEachChild(z=>{z.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:q}),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jt||this.status===_n)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(q=>q._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fn:Jt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=_n,this._hasOwnPendingAsyncValidator=!0;const q=se(this.asyncValidator(this));this._asyncValidationSubscription=q.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,q={}){this.errors=S,this._updateControlsErrors(!1!==q.emitEvent)}get(S){let q=S;return null==q||(Array.isArray(q)||(q=q.split(".")),0===q.length)?null:q.reduce((z,ae)=>z&&z._find(ae),this)}getError(S,q){const z=q?this.get(q):this;return z&&z.errors?z.errors[S]:null}hasError(S,q){return!!this.getError(S,q)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new H.vpe,this.statusChanges=new H.vpe}_calculateStatus(){return this._allControlsDisabled()?fn:this.errors?gn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_n)?_n:this._anyControlsHaveStatus(gn)?gn:Jt}_anyControlsHaveStatus(S){return this._anyControls(q=>q.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){gt(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}_assignValidators(S){this._rawValidators=Array.isArray(S)?S.slice():S,this._composedValidatorFn=function bt(C){return Array.isArray(C)?we(C):C||null}(this._rawValidators)}_assignAsyncValidators(S){this._rawAsyncValidators=Array.isArray(S)?S.slice():S,this._composedAsyncValidatorFn=function Nt(C){return Array.isArray(C)?$e(C):C||null}(this._rawAsyncValidators)}}const Se=new H.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>B}),B="always";function W(C,S,q=B){var z,ae;(function ge(C,S){const q=function Ge(C){return C._rawValidators}(C);null!==S.validator?C.setValidators(Fe(q,S.validator)):"function"==typeof q&&C.setValidators([q]);const z=function je(C){return C._rawAsyncValidators}(C);null!==S.asyncValidator?C.setAsyncValidators(Fe(z,S.asyncValidator)):"function"==typeof z&&C.setAsyncValidators([z]);const ae=()=>C.updateValueAndValidity();ne(S._rawValidators,ae),ne(S._rawAsyncValidators,ae)})(C,S),S.valueAccessor.writeValue(C.value),(C.disabled||"always"===q)&&(null===(z=(ae=S.valueAccessor).setDisabledState)||void 0===z||z.call(ae,C.disabled)),function Xe(C,S){S.valueAccessor.registerOnChange(q=>{C._pendingValue=q,C._pendingChange=!0,C._pendingDirty=!0,"change"===C.updateOn&&Ot(C,S)})}(C,S),function Gt(C,S){const q=(z,ae)=>{S.valueAccessor.writeValue(z),ae&&S.viewToModelUpdate(z)};C.registerOnChange(q),S._registerOnDestroy(()=>{C._unregisterOnChange(q)})}(C,S),function tt(C,S){S.valueAccessor.registerOnTouched(()=>{C._pendingTouched=!0,"blur"===C.updateOn&&C._pendingChange&&Ot(C,S),"submit"!==C.updateOn&&C.markAsTouched()})}(C,S),function te(C,S){if(S.valueAccessor.setDisabledState){const q=z=>{S.valueAccessor.setDisabledState(z)};C.registerOnDisabledChange(q),S._registerOnDestroy(()=>{C._unregisterOnDisabledChange(q)})}}(C,S)}function ne(C,S){C.forEach(q=>{q.registerOnValidatorChange&&q.registerOnValidatorChange(S)})}function Ot(C,S){C._pendingDirty&&C.markAsDirty(),C.setValue(C._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(C._pendingValue),C._pendingChange=!1}function Be(C,S){const q=C.indexOf(S);q>-1&&C.splice(q,1)}function ot(C){return"object"==typeof C&&null!==C&&2===Object.keys(C).length&&"value"in C&&"disabled"in C}const ft=class extends sn{constructor(S=null,q,z){super(function Mn(C){return(gt(C)?C.validators:C)||null}(q),function ht(C,S){return(gt(S)?S.asyncValidators:C)||null}(z,q)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(q),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gt(q)&&(q.nonNullable||q.initialValueIsDefault)&&(this.defaultValue=ot(S)?S.value:S)}setValue(S,q={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==q.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==q.emitViewToModelChange)),this.updateValueAndValidity(q)}patchValue(S,q={}){this.setValue(S,q)}reset(S=this.defaultValue,q={}){this._applyFormState(S),this.markAsPristine(q),this.markAsUntouched(q),this.setValue(this.value,q),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){Be(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){Be(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){ot(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}},Jn={provide:lt,useExisting:(0,H.Gpc)(()=>lr)},Pr=(()=>Promise.resolve())();let lr=(()=>{var C;class S extends lt{constructor(z,ae,Oe,qe,et,_t){super(),this._changeDetectorRef=et,this.callSetDisabledState=_t,this.control=new ft,this._registered=!1,this.name="",this.update=new H.vpe,this._parent=z,this._setValidators(ae),this._setAsyncValidators(Oe),this.valueAccessor=function Gr(C,S){if(!S)return null;let q,z,ae;return Array.isArray(S),S.forEach(Oe=>{Oe.constructor===a?q=Oe:function Or(C){return Object.getPrototypeOf(C.constructor)===i}(Oe)?z=Oe:ae=Oe}),ae||z||q||null}(0,qe)}ngOnChanges(z){if(this._checkForErrors(),!this._registered||"name"in z){if(this._registered&&(this._checkName(),this.formDirective)){const ae=z.name.previousValue;this.formDirective.removeControl({name:ae,path:this._getPath(ae)})}this._setUpControl()}"isDisabled"in z&&this._updateDisabled(z),function gr(C,S){if(!C.hasOwnProperty("model"))return!1;const q=C.model;return!!q.isFirstChange()||!Object.is(S,q.currentValue)}(z,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){W(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(z){Pr.then(()=>{var ae;this.control.setValue(z,{emitViewToModelChange:!1}),null===(ae=this._changeDetectorRef)||void 0===ae||ae.markForCheck()})}_updateDisabled(z){const ae=z.isDisabled.currentValue,Oe=0!==ae&&(0,H.VuI)(ae);Pr.then(()=>{var qe;Oe&&!this.control.disabled?this.control.disable():!Oe&&this.control.disabled&&this.control.enable(),null===(qe=this._changeDetectorRef)||void 0===qe||qe.markForCheck()})}_getPath(z){return this._parent?function Y(C,S){return[...S.path,C]}(z,this._parent):[z]}}return(C=S).\u0275fac=function(z){return new(z||C)(H.Y36(yt,9),H.Y36($,10),H.Y36(k,10),H.Y36(l,10),H.Y36(H.sBO,8),H.Y36(Se,8))},C.\u0275dir=H.lG2({type:C,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[H._Bn([Jn]),H.qOj,H.TTD]}),S})(),uo=(()=>{var C;class S{}return(C=S).\u0275fac=function(z){return new(z||C)},C.\u0275mod=H.oAB({type:C}),C.\u0275inj=H.cJS({}),S})();function oo(C){return"number"==typeof C?C:parseFloat(C)}let Qr=(()=>{var C;class S{constructor(){this._validator=T}ngOnChanges(z){if(this.inputName in z){const ae=this.normalizeInput(z[this.inputName].currentValue);this._enabled=this.enabled(ae),this._validator=this._enabled?this.createValidator(ae):T,this._onChange&&this._onChange()}}validate(z){return this._validator(z)}registerOnValidatorChange(z){this._onChange=z}enabled(z){return null!=z}}return(C=S).\u0275fac=function(z){return new(z||C)},C.\u0275dir=H.lG2({type:C,features:[H.TTD]}),S})();const Wo={provide:$,useExisting:(0,H.Gpc)(()=>Mo),multi:!0};let Mo=(()=>{var C;class S extends Qr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=z=>oo(z),this.createValidator=z=>function U(C){return S=>{if(g(S.value)||g(C))return null;const q=parseFloat(S.value);return!isNaN(q)&&q>C?{max:{max:C,actual:S.value}}:null}}(z)}}return(C=S).\u0275fac=function(){let q;return function(ae){return(q||(q=H.n5z(C)))(ae||C)}}(),C.\u0275dir=H.lG2({type:C,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(z,ae){2&z&&H.uIk("max",ae._enabled?ae.max:null)},inputs:{max:"max"},features:[H._Bn([Wo]),H.qOj]}),S})();const To={provide:$,useExisting:(0,H.Gpc)(()=>Po),multi:!0};let Po=(()=>{var C;class S extends Qr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=z=>oo(z),this.createValidator=z=>function L(C){return S=>{if(g(S.value)||g(C))return null;const q=parseFloat(S.value);return!isNaN(q)&&q<C?{min:{min:C,actual:S.value}}:null}}(z)}}return(C=S).\u0275fac=function(){let q;return function(ae){return(q||(q=H.n5z(C)))(ae||C)}}(),C.\u0275dir=H.lG2({type:C,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(z,ae){2&z&&H.uIk("min",ae._enabled?ae.min:null)},inputs:{min:"min"},features:[H._Bn([To]),H.qOj]}),S})(),jn=(()=>{var C;class S{}return(C=S).\u0275fac=function(z){return new(z||C)},C.\u0275mod=H.oAB({type:C}),C.\u0275inj=H.cJS({imports:[uo]}),S})(),x=(()=>{var C;class S{static withConfig(z){var ae;return{ngModule:S,providers:[{provide:Se,useValue:null!==(ae=z.callSetDisabledState)&&void 0!==ae?ae:B}]}}}return(C=S).\u0275fac=function(z){return new(z||C)},C.\u0275mod=H.oAB({type:C}),C.\u0275inj=H.cJS({imports:[jn]}),S})()},6593:(nn,Et,me)=>{"use strict";me.d(Et,{Dx:()=>lt,H7:()=>mt,b2:()=>Ye,q6:()=>Fe});var H=me(9468),j=me(6814);class st extends j.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class X extends st{static makeCurrent(){(0,j.HT)(new X)}onAndCancel(ht,Nt,gt){return ht.addEventListener(Nt,gt),()=>{ht.removeEventListener(Nt,gt)}}dispatchEvent(ht,Nt){ht.dispatchEvent(Nt)}remove(ht){ht.parentNode&&ht.parentNode.removeChild(ht)}createElement(ht,Nt){return(Nt=Nt||this.getDefaultDocument()).createElement(ht)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ht){return ht.nodeType===Node.ELEMENT_NODE}isShadowRoot(ht){return ht instanceof DocumentFragment}getGlobalEventTarget(ht,Nt){return"window"===Nt?window:"document"===Nt?ht:"body"===Nt?ht.body:null}getBaseHref(ht){const Nt=function G(){return r=r||document.querySelector("base"),r?r.getAttribute("href"):null}();return null==Nt?null:function f(bt){O=O||document.createElement("a"),O.setAttribute("href",bt);const ht=O.pathname;return"/"===ht.charAt(0)?ht:`/${ht}`}(Nt)}resetBaseElement(){r=null}getUserAgent(){return window.navigator.userAgent}getCookie(ht){return(0,j.Mx)(document.cookie,ht)}}let O,r=null,d=(()=>{var bt;class ht{build(){return new XMLHttpRequest}}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)},bt.\u0275prov=H.Yz7({token:bt,factory:bt.\u0275fac}),ht})();const y=new H.OlP("EventManagerPlugins");let w=(()=>{var bt;class ht{constructor(gt,Mt){this._zone=Mt,this._eventNameToPlugin=new Map,gt.forEach(Xt=>{Xt.manager=this}),this._plugins=gt.slice().reverse()}addEventListener(gt,Mt,Xt){return this._findPluginFor(Mt).addEventListener(gt,Mt,Xt)}getZone(){return this._zone}_findPluginFor(gt){let Mt=this._eventNameToPlugin.get(gt);if(Mt)return Mt;if(Mt=this._plugins.find(sn=>sn.supports(gt)),!Mt)throw new H.vHH(5101,!1);return this._eventNameToPlugin.set(gt,Mt),Mt}}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)(H.LFG(y),H.LFG(H.R0b))},bt.\u0275prov=H.Yz7({token:bt,factory:bt.\u0275fac}),ht})();class b{constructor(ht){this._doc=ht}}const i="ng-app-id";let l=(()=>{var bt;class ht{constructor(gt,Mt,Xt,sn={}){this.doc=gt,this.appId=Mt,this.nonce=Xt,this.platformId=sn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,j.PM)(sn),this.resetHostNodes()}addStyles(gt){for(const Mt of gt)1===this.changeUsageCount(Mt,1)&&this.onStyleAdded(Mt)}removeStyles(gt){for(const Mt of gt)this.changeUsageCount(Mt,-1)<=0&&this.onStyleRemoved(Mt)}ngOnDestroy(){const gt=this.styleNodesInDOM;gt&&(gt.forEach(Mt=>Mt.remove()),gt.clear());for(const Mt of this.getAllStyles())this.onStyleRemoved(Mt);this.resetHostNodes()}addHost(gt){this.hostNodes.add(gt);for(const Mt of this.getAllStyles())this.addStyleToHost(gt,Mt)}removeHost(gt){this.hostNodes.delete(gt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(gt){for(const Mt of this.hostNodes)this.addStyleToHost(Mt,gt)}onStyleRemoved(gt){var Mt;const Xt=this.styleRef;null===(Mt=Xt.get(gt))||void 0===Mt||null===(Mt=Mt.elements)||void 0===Mt||Mt.forEach(sn=>sn.remove()),Xt.delete(gt)}collectServerRenderedStyles(){var gt;const Mt=null===(gt=this.doc.head)||void 0===gt?void 0:gt.querySelectorAll(`style[${i}="${this.appId}"]`);if(null!=Mt&&Mt.length){const Xt=new Map;return Mt.forEach(sn=>{null!=sn.textContent&&Xt.set(sn.textContent,sn)}),Xt}return null}changeUsageCount(gt,Mt){const Xt=this.styleRef;if(Xt.has(gt)){const sn=Xt.get(gt);return sn.usage+=Mt,sn.usage}return Xt.set(gt,{usage:Mt,elements:[]}),Mt}getStyleElement(gt,Mt){const Xt=this.styleNodesInDOM,sn=null==Xt?void 0:Xt.get(Mt);if((null==sn?void 0:sn.parentNode)===gt)return Xt.delete(Mt),sn.removeAttribute(i),sn;{const In=this.doc.createElement("style");return this.nonce&&In.setAttribute("nonce",this.nonce),In.textContent=Mt,this.platformIsServer&&In.setAttribute(i,this.appId),In}}addStyleToHost(gt,Mt){var Xt;const sn=this.getStyleElement(gt,Mt);gt.appendChild(sn);const In=this.styleRef,En=null===(Xt=In.get(Mt))||void 0===Xt?void 0:Xt.elements;En?En.push(sn):In.set(Mt,{elements:[sn],usage:1})}resetHostNodes(){const gt=this.hostNodes;gt.clear(),gt.add(this.doc.head)}}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)(H.LFG(j.K0),H.LFG(H.AFp),H.LFG(H.Ojb,8),H.LFG(H.Lbi))},bt.\u0275prov=H.Yz7({token:bt,factory:bt.\u0275fac}),ht})();const h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},s=/%COMP%/g,c="%COMP%",p=`_nghost-${c}`,v=`_ngcontent-${c}`,g=new H.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function k(bt,ht){return ht.map(Nt=>Nt.replace(s,bt))}let M=(()=>{var bt;class ht{constructor(gt,Mt,Xt,sn,In,En,Bn,ee=null){this.eventManager=gt,this.sharedStylesHost=Mt,this.appId=Xt,this.removeStylesOnCompDestroy=sn,this.doc=In,this.platformId=En,this.ngZone=Bn,this.nonce=ee,this.rendererByCompId=new Map,this.platformIsServer=(0,j.PM)(En),this.defaultRenderer=new A(gt,In,Bn,this.platformIsServer)}createRenderer(gt,Mt){if(!gt||!Mt)return this.defaultRenderer;this.platformIsServer&&Mt.encapsulation===H.ifc.ShadowDom&&(Mt={...Mt,encapsulation:H.ifc.Emulated});const Xt=this.getOrCreateRenderer(gt,Mt);return Xt instanceof V?Xt.applyToHost(gt):Xt instanceof R&&Xt.applyStyles(),Xt}getOrCreateRenderer(gt,Mt){const Xt=this.rendererByCompId;let sn=Xt.get(Mt.id);if(!sn){const In=this.doc,En=this.ngZone,Bn=this.eventManager,ee=this.sharedStylesHost,_e=this.removeStylesOnCompDestroy,Se=this.platformIsServer;switch(Mt.encapsulation){case H.ifc.Emulated:sn=new V(Bn,ee,Mt,this.appId,_e,In,En,Se);break;case H.ifc.ShadowDom:return new D(Bn,ee,gt,Mt,In,En,this.nonce,Se);default:sn=new R(Bn,ee,Mt,_e,In,En,Se)}Xt.set(Mt.id,sn)}return sn}ngOnDestroy(){this.rendererByCompId.clear()}}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)(H.LFG(w),H.LFG(l),H.LFG(H.AFp),H.LFG(g),H.LFG(j.K0),H.LFG(H.Lbi),H.LFG(H.R0b),H.LFG(H.Ojb))},bt.\u0275prov=H.Yz7({token:bt,factory:bt.\u0275fac}),ht})();class A{constructor(ht,Nt,gt,Mt){this.eventManager=ht,this.doc=Nt,this.ngZone=gt,this.platformIsServer=Mt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ht,Nt){return Nt?this.doc.createElementNS(h[Nt]||Nt,ht):this.doc.createElement(ht)}createComment(ht){return this.doc.createComment(ht)}createText(ht){return this.doc.createTextNode(ht)}appendChild(ht,Nt){(I(ht)?ht.content:ht).appendChild(Nt)}insertBefore(ht,Nt,gt){ht&&(I(ht)?ht.content:ht).insertBefore(Nt,gt)}removeChild(ht,Nt){ht&&ht.removeChild(Nt)}selectRootElement(ht,Nt){let gt="string"==typeof ht?this.doc.querySelector(ht):ht;if(!gt)throw new H.vHH(-5104,!1);return Nt||(gt.textContent=""),gt}parentNode(ht){return ht.parentNode}nextSibling(ht){return ht.nextSibling}setAttribute(ht,Nt,gt,Mt){if(Mt){Nt=Mt+":"+Nt;const Xt=h[Mt];Xt?ht.setAttributeNS(Xt,Nt,gt):ht.setAttribute(Nt,gt)}else ht.setAttribute(Nt,gt)}removeAttribute(ht,Nt,gt){if(gt){const Mt=h[gt];Mt?ht.removeAttributeNS(Mt,Nt):ht.removeAttribute(`${gt}:${Nt}`)}else ht.removeAttribute(Nt)}addClass(ht,Nt){ht.classList.add(Nt)}removeClass(ht,Nt){ht.classList.remove(Nt)}setStyle(ht,Nt,gt,Mt){Mt&(H.JOm.DashCase|H.JOm.Important)?ht.style.setProperty(Nt,gt,Mt&H.JOm.Important?"important":""):ht.style[Nt]=gt}removeStyle(ht,Nt,gt){gt&H.JOm.DashCase?ht.style.removeProperty(Nt):ht.style[Nt]=""}setProperty(ht,Nt,gt){ht[Nt]=gt}setValue(ht,Nt){ht.nodeValue=Nt}listen(ht,Nt,gt){if("string"==typeof ht&&!(ht=(0,j.q)().getGlobalEventTarget(this.doc,ht)))throw new Error(`Unsupported event target ${ht} for event ${Nt}`);return this.eventManager.addEventListener(ht,Nt,this.decoratePreventDefault(gt))}decoratePreventDefault(ht){return Nt=>{if("__ngUnwrap__"===Nt)return ht;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ht(Nt)):ht(Nt))&&Nt.preventDefault()}}}function I(bt){return"TEMPLATE"===bt.tagName&&void 0!==bt.content}class D extends A{constructor(ht,Nt,gt,Mt,Xt,sn,In,En){super(ht,Xt,sn,En),this.sharedStylesHost=Nt,this.hostEl=gt,this.shadowRoot=gt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Bn=k(Mt.id,Mt.styles);for(const ee of Bn){const _e=document.createElement("style");In&&_e.setAttribute("nonce",In),_e.textContent=ee,this.shadowRoot.appendChild(_e)}}nodeOrShadowRoot(ht){return ht===this.hostEl?this.shadowRoot:ht}appendChild(ht,Nt){return super.appendChild(this.nodeOrShadowRoot(ht),Nt)}insertBefore(ht,Nt,gt){return super.insertBefore(this.nodeOrShadowRoot(ht),Nt,gt)}removeChild(ht,Nt){return super.removeChild(this.nodeOrShadowRoot(ht),Nt)}parentNode(ht){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ht)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class R extends A{constructor(ht,Nt,gt,Mt,Xt,sn,In,En){super(ht,Xt,sn,In),this.sharedStylesHost=Nt,this.removeStylesOnCompDestroy=Mt,this.styles=En?k(En,gt.styles):gt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class V extends R{constructor(ht,Nt,gt,Mt,Xt,sn,In,En){const Bn=Mt+"-"+gt.id;super(ht,Nt,gt,Xt,sn,In,En,Bn),this.contentAttr=function E(bt){return v.replace(s,bt)}(Bn),this.hostAttr=function $(bt){return p.replace(s,bt)}(Bn)}applyToHost(ht){this.applyStyles(),this.setAttribute(ht,this.hostAttr,"")}createElement(ht,Nt){const gt=super.createElement(ht,Nt);return super.setAttribute(gt,this.contentAttr,""),gt}}let N=(()=>{var bt;class ht extends b{constructor(gt){super(gt)}supports(gt){return!0}addEventListener(gt,Mt,Xt){return gt.addEventListener(Mt,Xt,!1),()=>this.removeEventListener(gt,Mt,Xt)}removeEventListener(gt,Mt,Xt){return gt.removeEventListener(Mt,Xt)}}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)(H.LFG(j.K0))},bt.\u0275prov=H.Yz7({token:bt,factory:bt.\u0275fac}),ht})();const Q=["alt","control","meta","shift"],T={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K={alt:bt=>bt.altKey,control:bt=>bt.ctrlKey,meta:bt=>bt.metaKey,shift:bt=>bt.shiftKey};let se=(()=>{var bt;class ht extends b{constructor(gt){super(gt)}supports(gt){return null!=ht.parseEventName(gt)}addEventListener(gt,Mt,Xt){const sn=ht.parseEventName(Mt),In=ht.eventCallback(sn.fullKey,Xt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,j.q)().onAndCancel(gt,sn.domEventName,In))}static parseEventName(gt){const Mt=gt.toLowerCase().split("."),Xt=Mt.shift();if(0===Mt.length||"keydown"!==Xt&&"keyup"!==Xt)return null;const sn=ht._normalizeKey(Mt.pop());let In="",En=Mt.indexOf("code");if(En>-1&&(Mt.splice(En,1),In="code."),Q.forEach(ee=>{const _e=Mt.indexOf(ee);_e>-1&&(Mt.splice(_e,1),In+=ee+".")}),In+=sn,0!=Mt.length||0===sn.length)return null;const Bn={};return Bn.domEventName=Xt,Bn.fullKey=In,Bn}static matchEventFullKeyCode(gt,Mt){let Xt=T[gt.key]||gt.key,sn="";return Mt.indexOf("code.")>-1&&(Xt=gt.code,sn="code."),!(null==Xt||!Xt)&&(Xt=Xt.toLowerCase()," "===Xt?Xt="space":"."===Xt&&(Xt="dot"),Q.forEach(In=>{In!==Xt&&(0,K[In])(gt)&&(sn+=In+".")}),sn+=Xt,sn===Mt)}static eventCallback(gt,Mt,Xt){return sn=>{ht.matchEventFullKeyCode(sn,gt)&&Xt.runGuarded(()=>Mt(sn))}}static _normalizeKey(gt){return"esc"===gt?"escape":gt}}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)(H.LFG(j.K0))},bt.\u0275prov=H.Yz7({token:bt,factory:bt.\u0275fac}),ht})();const Fe=(0,H.eFA)(H._c5,"browser",[{provide:H.Lbi,useValue:j.bD},{provide:H.g9A,useValue:function pe(){X.makeCurrent()},multi:!0},{provide:j.K0,useFactory:function Re(){return(0,H.RDi)(document),document},deps:[]}]),Ge=new H.OlP(""),je=[{provide:H.rWj,useClass:class m{addToWindow(ht){H.dqk.getAngularTestability=(gt,Mt=!0)=>{const Xt=ht.findTestabilityInTree(gt,Mt);if(null==Xt)throw new H.vHH(5103,!1);return Xt},H.dqk.getAllAngularTestabilities=()=>ht.getAllTestabilities(),H.dqk.getAllAngularRootElements=()=>ht.getAllRootElements(),H.dqk.frameworkStabilizers||(H.dqk.frameworkStabilizers=[]),H.dqk.frameworkStabilizers.push(gt=>{const Mt=H.dqk.getAllAngularTestabilities();let Xt=Mt.length,sn=!1;const In=function(En){sn=sn||En,Xt--,0==Xt&&gt(sn)};Mt.forEach(En=>{En.whenStable(In)})})}findTestabilityInTree(ht,Nt,gt){if(null==Nt)return null;const Mt=ht.getTestability(Nt);return null!=Mt?Mt:gt?(0,j.q)().isShadowRoot(Nt)?this.findTestabilityInTree(ht,Nt.host,!0):this.findTestabilityInTree(ht,Nt.parentElement,!0):null}},deps:[]},{provide:H.lri,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]},{provide:H.dDg,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]}],We=[{provide:H.zSh,useValue:"root"},{provide:H.qLn,useFactory:function we(){return new H.qLn},deps:[]},{provide:y,useClass:N,multi:!0,deps:[j.K0,H.R0b,H.Lbi]},{provide:y,useClass:se,multi:!0,deps:[j.K0]},M,l,w,{provide:H.FYo,useExisting:M},{provide:j.JF,useClass:d,deps:[]},[]];let Ye=(()=>{var bt;class ht{constructor(gt){}static withServerTransition(gt){return{ngModule:ht,providers:[{provide:H.AFp,useValue:gt.appId}]}}}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)(H.LFG(Ge,12))},bt.\u0275mod=H.oAB({type:bt}),bt.\u0275inj=H.cJS({providers:[...We,...je],imports:[j.ez,H.hGG]}),ht})(),lt=(()=>{var bt;class ht{constructor(gt){this._doc=gt}getTitle(){return this._doc.title}setTitle(gt){this._doc.title=gt||""}}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)(H.LFG(j.K0))},bt.\u0275prov=H.Yz7({token:bt,factory:function(gt){let Mt=null;return Mt=gt?new gt:function yt(){return new lt((0,H.LFG)(j.K0))}(),Mt},providedIn:"root"}),ht})();typeof window<"u"&&window;let mt=(()=>{var bt;class ht{}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)},bt.\u0275prov=H.Yz7({token:bt,factory:function(gt){let Mt=null;return Mt=gt?new(gt||bt):H.LFG(ut),Mt},providedIn:"root"}),ht})(),ut=(()=>{var bt;class ht extends mt{constructor(gt){super(),this._doc=gt}sanitize(gt,Mt){if(null==Mt)return null;switch(gt){case H.q3G.NONE:return Mt;case H.q3G.HTML:return(0,H.qzn)(Mt,"HTML")?(0,H.z3N)(Mt):(0,H.EiD)(this._doc,String(Mt)).toString();case H.q3G.STYLE:return(0,H.qzn)(Mt,"Style")?(0,H.z3N)(Mt):Mt;case H.q3G.SCRIPT:if((0,H.qzn)(Mt,"Script"))return(0,H.z3N)(Mt);throw new H.vHH(5200,!1);case H.q3G.URL:return(0,H.qzn)(Mt,"URL")?(0,H.z3N)(Mt):(0,H.mCW)(String(Mt));case H.q3G.RESOURCE_URL:if((0,H.qzn)(Mt,"ResourceURL"))return(0,H.z3N)(Mt);throw new H.vHH(5201,!1);default:throw new H.vHH(5202,!1)}}bypassSecurityTrustHtml(gt){return(0,H.JVY)(gt)}bypassSecurityTrustStyle(gt){return(0,H.L6k)(gt)}bypassSecurityTrustScript(gt){return(0,H.eBb)(gt)}bypassSecurityTrustUrl(gt){return(0,H.LAX)(gt)}bypassSecurityTrustResourceUrl(gt){return(0,H.pB0)(gt)}}return(bt=ht).\u0275fac=function(gt){return new(gt||bt)(H.LFG(j.K0))},bt.\u0275prov=H.Yz7({token:bt,factory:function(gt){let Mt=null;return Mt=gt?new gt:function Dt(bt){return new ut(bt.get(j.K0))}(H.LFG(H.zs3)),Mt},providedIn:"root"}),ht})()},5877:(nn,Et,me)=>{"use strict";me.d(Et,{gz:()=>no,y6:()=>Co,OD:()=>Fr,eC:()=>je,wm:()=>yu,wN:()=>Jo,F0:()=>Lo,rH:()=>ii,Bz:()=>Ka,Hx:()=>Dt});var H=me(9468),j=me(5592),st=me(4674),r=me(7715),G=me(2096),O=me(5619),f=me(2572);const d=(0,me(2306).d)(le=>function(){le(this),this.name="EmptyError",this.message="no elements in sequence"});var y=me(5211),w=me(4911),b=me(8407),i=me(8504),l=me(6232),h=me(3168),s=me(8645),c=me(7394),p=me(6814),v=me(7398),a=me(4664),g=me(8180),E=me(9940),$=me(9360),M=me(2181),A=me(1631),L=me(8251);function U(le){return(0,$.e)((ye,be)=>{let ce=!1;ye.subscribe((0,L.x)(be,Ee=>{ce=!0,be.next(Ee)},()=>{ce||be.next(le),be.complete()}))})}function I(le=D){return(0,$.e)((ye,be)=>{let ce=!1;ye.subscribe((0,L.x)(be,Ee=>{ce=!0,be.next(Ee)},()=>ce?be.complete():be.error(le())))})}function D(){return new d}var R=me(2737);function V(le,ye){const be=arguments.length>=2;return ce=>ce.pipe(le?(0,M.h)((Ee,Ve)=>le(Ee,Ve,ce)):R.y,(0,g.q)(1),be?U(ye):I(()=>new d))}function N(le,ye){return(0,st.m)(ye)?(0,A.z)(le,ye,1):(0,A.z)(le,1)}var Q=me(9397),T=me(4829);function K(le){return(0,$.e)((ye,be)=>{let Ve,ce=null,Ee=!1;ce=ye.subscribe((0,L.x)(be,void 0,void 0,rt=>{Ve=(0,T.Xf)(le(rt,K(le)(ye))),ce?(ce.unsubscribe(),ce=null,Ve.subscribe(be)):Ee=!0})),Ee&&(ce.unsubscribe(),ce=null,Ve.subscribe(be))})}function Ie(le){return le<=0?()=>l.E:(0,$.e)((ye,be)=>{let ce=[];ye.subscribe((0,L.x)(be,Ee=>{ce.push(Ee),le<ce.length&&ce.shift()},()=>{for(const Ee of ce)be.next(Ee);be.complete()},void 0,()=>{ce=null}))})}var ie=me(975);function pe(le){return(0,$.e)((ye,be)=>{try{ye.subscribe(be)}finally{be.add(le)}})}var we=me(6196),Re=me(2420),Fe=me(7537),Ge=me(6593);const je="primary",We=Symbol("RouteTitle");class Ye{constructor(ye){this.params=ye||{}}has(ye){return Object.prototype.hasOwnProperty.call(this.params,ye)}get(ye){if(this.has(ye)){const be=this.params[ye];return Array.isArray(be)?be[0]:be}return null}getAll(ye){if(this.has(ye)){const be=this.params[ye];return Array.isArray(be)?be:[be]}return[]}get keys(){return Object.keys(this.params)}}function Ne(le){return new Ye(le)}function Ke(le,ye,be){const ce=be.path.split("/");if(ce.length>le.length||"full"===be.pathMatch&&(ye.hasChildren()||ce.length<le.length))return null;const Ee={};for(let Ve=0;Ve<ce.length;Ve++){const rt=ce[Ve],Rt=le[Ve];if(rt.startsWith(":"))Ee[rt.substring(1)]=Rt;else if(rt!==Rt.path)return null}return{consumed:le.slice(0,ce.length),posParams:Ee}}function yt(le,ye){const be=le?Object.keys(le):void 0,ce=ye?Object.keys(ye):void 0;if(!be||!ce||be.length!=ce.length)return!1;let Ee;for(let Ve=0;Ve<be.length;Ve++)if(Ee=be[Ve],!lt(le[Ee],ye[Ee]))return!1;return!0}function lt(le,ye){if(Array.isArray(le)&&Array.isArray(ye)){if(le.length!==ye.length)return!1;const be=[...le].sort(),ce=[...ye].sort();return be.every((Ee,Ve)=>ce[Ve]===Ee)}return le===ye}function nt(le){return le.length>0?le[le.length-1]:null}function St(le){return function X(le){return!!le&&(le instanceof j.y||(0,st.m)(le.lift)&&(0,st.m)(le.subscribe))}(le)?le:(0,H.QGY)(le)?(0,r.D)(Promise.resolve(le)):(0,G.of)(le)}const Wt={exact:function Ht(le,ye,be){if(!ze(le.segments,ye.segments)||!Ut(le.segments,ye.segments,be)||le.numberOfChildren!==ye.numberOfChildren)return!1;for(const ce in ye.children)if(!le.children[ce]||!Ht(le.children[ce],ye.children[ce],be))return!1;return!0},subset:tn},Ct={exact:function cn(le,ye){return yt(le,ye)},subset:function dn(le,ye){return Object.keys(ye).length<=Object.keys(le).length&&Object.keys(ye).every(be=>lt(le[be],ye[be]))},ignored:()=>!0};function rn(le,ye,be){return Wt[be.paths](le.root,ye.root,be.matrixParams)&&Ct[be.queryParams](le.queryParams,ye.queryParams)&&!("exact"===be.fragment&&le.fragment!==ye.fragment)}function tn(le,ye,be){return dt(le,ye,ye.segments,be)}function dt(le,ye,be,ce){if(le.segments.length>be.length){const Ee=le.segments.slice(0,be.length);return!(!ze(Ee,be)||ye.hasChildren()||!Ut(Ee,be,ce))}if(le.segments.length===be.length){if(!ze(le.segments,be)||!Ut(le.segments,be,ce))return!1;for(const Ee in ye.children)if(!le.children[Ee]||!tn(le.children[Ee],ye.children[Ee],ce))return!1;return!0}{const Ee=be.slice(0,le.segments.length),Ve=be.slice(le.segments.length);return!!(ze(le.segments,Ee)&&Ut(le.segments,Ee,ce)&&le.children[je])&&dt(le.children[je],ye,Ve,ce)}}function Ut(le,ye,be){return ye.every((ce,Ee)=>Ct[be](le[Ee].parameters,ce.parameters))}class wt{constructor(ye=new Pe([],{}),be={},ce=null){this.root=ye,this.queryParams=be,this.fragment=ce}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ne(this.queryParams)),this._queryParamMap}toString(){return xt.serialize(this)}}class Pe{constructor(ye,be){this.segments=ye,this.children=be,this.parent=null,Object.values(be).forEach(ce=>ce.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jt(this)}}class Ue{constructor(ye,be){this.path=ye,this.parameters=be}get parameterMap(){return this._parameterMap||(this._parameterMap=Ne(this.parameters)),this._parameterMap}toString(){return ht(this)}}function ze(le,ye){return le.length===ye.length&&le.every((be,ce)=>be.path===ye[ce].path)}let Dt=(()=>{var le;class ye{}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:function(){return new ut},providedIn:"root"}),ye})();class ut{parse(ye){const be=new Se(ye);return new wt(be.parseRootSegment(),be.parseQueryParams(),be.parseFragment())}serialize(ye){const be=`/${At(ye.root,!0)}`,ce=function gt(le){const ye=Object.keys(le).map(be=>{const ce=le[be];return Array.isArray(ce)?ce.map(Ee=>`${gn(be)}=${gn(Ee)}`).join("&"):`${gn(be)}=${gn(ce)}`}).filter(be=>!!be);return ye.length?`?${ye.join("&")}`:""}(ye.queryParams);return`${be}${ce}${"string"==typeof ye.fragment?`#${function _n(le){return encodeURI(le)}(ye.fragment)}`:""}`}}const xt=new ut;function jt(le){return le.segments.map(ye=>ht(ye)).join("/")}function At(le,ye){if(!le.hasChildren())return jt(le);if(ye){const be=le.children[je]?At(le.children[je],!1):"",ce=[];return Object.entries(le.children).forEach(([Ee,Ve])=>{Ee!==je&&ce.push(`${Ee}:${At(Ve,!1)}`)}),ce.length>0?`${be}(${ce.join("//")})`:be}{const be=function mt(le,ye){let be=[];return Object.entries(le.children).forEach(([ce,Ee])=>{ce===je&&(be=be.concat(ye(Ee,ce)))}),Object.entries(le.children).forEach(([ce,Ee])=>{ce!==je&&(be=be.concat(ye(Ee,ce)))}),be}(le,(ce,Ee)=>Ee===je?[At(le.children[je],!1)]:[`${Ee}:${At(ce,!1)}`]);return 1===Object.keys(le.children).length&&null!=le.children[je]?`${jt(le)}/${be[0]}`:`${jt(le)}/(${be.join("//")})`}}function Jt(le){return encodeURIComponent(le).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gn(le){return Jt(le).replace(/%3B/gi,";")}function fn(le){return Jt(le).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mn(le){return decodeURIComponent(le)}function bt(le){return Mn(le.replace(/\+/g,"%20"))}function ht(le){return`${fn(le.path)}${function Nt(le){return Object.keys(le).map(ye=>`;${fn(ye)}=${fn(le[ye])}`).join("")}(le.parameters)}`}const Mt=/^[^\/()?;#]+/;function Xt(le){const ye=le.match(Mt);return ye?ye[0]:""}const sn=/^[^\/()?;=#]+/,En=/^[^=?&#]+/,ee=/^[^&#]+/;class Se{constructor(ye){this.url=ye,this.remaining=ye}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const ye={};if(this.consumeOptional("?"))do{this.parseQueryParam(ye)}while(this.consumeOptional("&"));return ye}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ye=[];for(this.peekStartsWith("(")||ye.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ye.push(this.parseSegment());let be={};this.peekStartsWith("/(")&&(this.capture("/"),be=this.parseParens(!0));let ce={};return this.peekStartsWith("(")&&(ce=this.parseParens(!1)),(ye.length>0||Object.keys(be).length>0)&&(ce[je]=new Pe(ye,be)),ce}parseSegment(){const ye=Xt(this.remaining);if(""===ye&&this.peekStartsWith(";"))throw new H.vHH(4009,!1);return this.capture(ye),new Ue(Mn(ye),this.parseMatrixParams())}parseMatrixParams(){const ye={};for(;this.consumeOptional(";");)this.parseParam(ye);return ye}parseParam(ye){const be=function In(le){const ye=le.match(sn);return ye?ye[0]:""}(this.remaining);if(!be)return;this.capture(be);let ce="";if(this.consumeOptional("=")){const Ee=Xt(this.remaining);Ee&&(ce=Ee,this.capture(ce))}ye[Mn(be)]=Mn(ce)}parseQueryParam(ye){const be=function Bn(le){const ye=le.match(En);return ye?ye[0]:""}(this.remaining);if(!be)return;this.capture(be);let ce="";if(this.consumeOptional("=")){const rt=function _e(le){const ye=le.match(ee);return ye?ye[0]:""}(this.remaining);rt&&(ce=rt,this.capture(ce))}const Ee=bt(be),Ve=bt(ce);if(ye.hasOwnProperty(Ee)){let rt=ye[Ee];Array.isArray(rt)||(rt=[rt],ye[Ee]=rt),rt.push(Ve)}else ye[Ee]=Ve}parseParens(ye){const be={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ce=Xt(this.remaining),Ee=this.remaining[ce.length];if("/"!==Ee&&")"!==Ee&&";"!==Ee)throw new H.vHH(4010,!1);let Ve;ce.indexOf(":")>-1?(Ve=ce.slice(0,ce.indexOf(":")),this.capture(Ve),this.capture(":")):ye&&(Ve=je);const rt=this.parseChildren();be[Ve]=1===Object.keys(rt).length?rt[je]:new Pe([],rt),this.consumeOptional("//")}return be}peekStartsWith(ye){return this.remaining.startsWith(ye)}consumeOptional(ye){return!!this.peekStartsWith(ye)&&(this.remaining=this.remaining.substring(ye.length),!0)}capture(ye){if(!this.consumeOptional(ye))throw new H.vHH(4011,!1)}}function B(le){return le.segments.length>0?new Pe([],{[je]:le}):le}function Y(le){const ye={};for(const ce of Object.keys(le.children)){const Ve=Y(le.children[ce]);if(ce===je&&0===Ve.segments.length&&Ve.hasChildren())for(const[rt,Rt]of Object.entries(Ve.children))ye[rt]=Rt;else(Ve.segments.length>0||Ve.hasChildren())&&(ye[ce]=Ve)}return function W(le){if(1===le.numberOfChildren&&le.children[je]){const ye=le.children[je];return new Pe(le.segments.concat(ye.segments),ye.children)}return le}(new Pe(le.segments,ye))}function de(le){return le instanceof wt}function te(le){var ye;let be;const Ve=B(function ce(rt){const Rt={};for(const Vt of rt.children){const Dn=ce(Vt);Rt[Vt.outlet]=Dn}const mn=new Pe(rt.url,Rt);return rt===le&&(be=mn),mn}(le.root));return null!==(ye=be)&&void 0!==ye?ye:Ve}function ge(le,ye,be,ce){let Ee=le;for(;Ee.parent;)Ee=Ee.parent;if(0===ye.length)return tt(Ee,Ee,Ee,be,ce);const Ve=function Cn(le){if("string"==typeof le[0]&&1===le.length&&"/"===le[0])return new Gt(!0,0,le);let ye=0,be=!1;const ce=le.reduce((Ee,Ve,rt)=>{if("object"==typeof Ve&&null!=Ve){if(Ve.outlets){const Rt={};return Object.entries(Ve.outlets).forEach(([mn,Vt])=>{Rt[mn]="string"==typeof Vt?Vt.split("/"):Vt}),[...Ee,{outlets:Rt}]}if(Ve.segmentPath)return[...Ee,Ve.segmentPath]}return"string"!=typeof Ve?[...Ee,Ve]:0===rt?(Ve.split("/").forEach((Rt,mn)=>{0==mn&&"."===Rt||(0==mn&&""===Rt?be=!0:".."===Rt?ye++:""!=Rt&&Ee.push(Rt))}),Ee):[...Ee,Ve]},[]);return new Gt(be,ye,ce)}(ye);if(Ve.toRoot())return tt(Ee,Ee,new Pe([],{}),be,ce);const rt=function An(le,ye,be){if(le.isAbsolute)return new Yt(ye,!0,0);if(!be)return new Yt(ye,!1,NaN);if(null===be.parent)return new Yt(be,!0,0);const ce=ke(le.commands[0])?0:1;return function Xn(le,ye,be){let ce=le,Ee=ye,Ve=be;for(;Ve>Ee;){if(Ve-=Ee,ce=ce.parent,!ce)throw new H.vHH(4005,!1);Ee=ce.segments.length}return new Yt(ce,!1,Ee-Ve)}(be,be.segments.length-1+ce,le.numberOfDoubleDots)}(Ve,Ee,le),Rt=rt.processChildren?Cr(rt.segmentGroup,rt.index,Ve.commands):ir(rt.segmentGroup,rt.index,Ve.commands);return tt(Ee,rt.segmentGroup,Rt,be,ce)}function ke(le){return"object"==typeof le&&null!=le&&!le.outlets&&!le.segmentPath}function Xe(le){return"object"==typeof le&&null!=le&&le.outlets}function tt(le,ye,be,ce,Ee){let rt,Ve={};ce&&Object.entries(ce).forEach(([mn,Vt])=>{Ve[mn]=Array.isArray(Vt)?Vt.map(Dn=>`${Dn}`):`${Vt}`}),rt=le===ye?be:Ot(le,ye,be);const Rt=B(Y(rt));return new wt(Rt,Ve,Ee)}function Ot(le,ye,be){const ce={};return Object.entries(le.children).forEach(([Ee,Ve])=>{ce[Ee]=Ve===ye?be:Ot(Ve,ye,be)}),new Pe(le.segments,ce)}class Gt{constructor(ye,be,ce){if(this.isAbsolute=ye,this.numberOfDoubleDots=be,this.commands=ce,ye&&ce.length>0&&ke(ce[0]))throw new H.vHH(4003,!1);const Ee=ce.find(Xe);if(Ee&&Ee!==nt(ce))throw new H.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yt{constructor(ye,be,ce){this.segmentGroup=ye,this.processChildren=be,this.index=ce}}function ir(le,ye,be){if(le||(le=new Pe([],{})),0===le.segments.length&&le.hasChildren())return Cr(le,ye,be);const ce=function gr(le,ye,be){let ce=0,Ee=ye;const Ve={match:!1,pathIndex:0,commandIndex:0};for(;Ee<le.segments.length;){if(ce>=be.length)return Ve;const rt=le.segments[Ee],Rt=be[ce];if(Xe(Rt))break;const mn=`${Rt}`,Vt=ce<be.length-1?be[ce+1]:null;if(Ee>0&&void 0===mn)break;if(mn&&Vt&&"object"==typeof Vt&&void 0===Vt.outlets){if(!Ir(mn,Vt,rt))return Ve;ce+=2}else{if(!Ir(mn,{},rt))return Ve;ce++}Ee++}return{match:!0,pathIndex:Ee,commandIndex:ce}}(le,ye,be),Ee=be.slice(ce.commandIndex);if(ce.match&&ce.pathIndex<le.segments.length){const Ve=new Pe(le.segments.slice(0,ce.pathIndex),{});return Ve.children[je]=new Pe(le.segments.slice(ce.pathIndex),le.children),Cr(Ve,0,Ee)}return ce.match&&0===Ee.length?new Pe(le.segments,{}):ce.match&&!le.hasChildren()?Or(le,ye,be):ce.match?Cr(le,0,Ee):Or(le,ye,be)}function Cr(le,ye,be){if(0===be.length)return new Pe(le.segments,{});{const ce=function tr(le){return Xe(le[0])?le[0].outlets:{[je]:le}}(be),Ee={};if(Object.keys(ce).some(Ve=>Ve!==je)&&le.children[je]&&1===le.numberOfChildren&&0===le.children[je].segments.length){const Ve=Cr(le.children[je],ye,be);return new Pe(le.segments,Ve.children)}return Object.entries(ce).forEach(([Ve,rt])=>{"string"==typeof rt&&(rt=[rt]),null!==rt&&(Ee[Ve]=ir(le.children[Ve],ye,rt))}),Object.entries(le.children).forEach(([Ve,rt])=>{void 0===ce[Ve]&&(Ee[Ve]=rt)}),new Pe(le.segments,Ee)}}function Or(le,ye,be){const ce=le.segments.slice(0,ye);let Ee=0;for(;Ee<be.length;){const Ve=be[Ee];if(Xe(Ve)){const mn=yr(Ve.outlets);return new Pe(ce,mn)}if(0===Ee&&ke(be[0])){ce.push(new Ue(le.segments[ye].path,Gr(be[0]))),Ee++;continue}const rt=Xe(Ve)?Ve.outlets[je]:`${Ve}`,Rt=Ee<be.length-1?be[Ee+1]:null;rt&&Rt&&ke(Rt)?(ce.push(new Ue(rt,Gr(Rt))),Ee+=2):(ce.push(new Ue(rt,{})),Ee++)}return new Pe(ce,{})}function yr(le){const ye={};return Object.entries(le).forEach(([be,ce])=>{"string"==typeof ce&&(ce=[ce]),null!==ce&&(ye[be]=Or(new Pe([],{}),0,ce))}),ye}function Gr(le){const ye={};return Object.entries(le).forEach(([be,ce])=>ye[be]=`${ce}`),ye}function Ir(le,ye,be){return le==be.path&&yt(ye,be.parameters)}const Lr="imperative";class Sr{constructor(ye,be){this.id=ye,this.url=be}}class Fr extends Sr{constructor(ye,be,ce="imperative",Ee=null){super(ye,be),this.type=0,this.navigationTrigger=ce,this.restoredState=Ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class He extends Sr{constructor(ye,be,ce){super(ye,be),this.urlAfterRedirects=ce,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Be extends Sr{constructor(ye,be,ce,Ee){super(ye,be),this.reason=ce,this.code=Ee,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ot extends Sr{constructor(ye,be,ce,Ee){super(ye,be),this.reason=ce,this.code=Ee,this.type=16}}class ft extends Sr{constructor(ye,be,ce,Ee){super(ye,be),this.error=ce,this.target=Ee,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bt extends Sr{constructor(ye,be,ce,Ee){super(ye,be),this.urlAfterRedirects=ce,this.state=Ee,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kt extends Sr{constructor(ye,be,ce,Ee){super(ye,be),this.urlAfterRedirects=ce,this.state=Ee,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qt extends Sr{constructor(ye,be,ce,Ee,Ve){super(ye,be),this.urlAfterRedirects=ce,this.state=Ee,this.shouldActivate=Ve,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ln extends Sr{constructor(ye,be,ce,Ee){super(ye,be),this.urlAfterRedirects=ce,this.state=Ee,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kt extends Sr{constructor(ye,be,ce,Ee){super(ye,be),this.urlAfterRedirects=ce,this.state=Ee,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an{constructor(ye){this.route=ye,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bn{constructor(ye){this.route=ye,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ln{constructor(ye){this.snapshot=ye,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rn{constructor(ye){this.snapshot=ye,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jn{constructor(ye){this.snapshot=ye,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(ye){this.snapshot=ye,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(ye,be,ce){this.routerEvent=ye,this.position=be,this.anchor=ce,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class to{}class po{constructor(ye){this.url=ye}}class mo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Co,this.attachRef=null}}let Co=(()=>{var le;class ye{constructor(){this.contexts=new Map}onChildOutletCreated(ce,Ee){const Ve=this.getOrCreateContext(ce);Ve.outlet=Ee,this.contexts.set(ce,Ve)}onChildOutletDestroyed(ce){const Ee=this.getContext(ce);Ee&&(Ee.outlet=null,Ee.attachRef=null)}onOutletDeactivated(){const ce=this.contexts;return this.contexts=new Map,ce}onOutletReAttached(ce){this.contexts=ce}getOrCreateContext(ce){let Ee=this.getContext(ce);return Ee||(Ee=new mo,this.contexts.set(ce,Ee)),Ee}getContext(ce){return this.contexts.get(ce)||null}}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),ye})();class uo{constructor(ye){this._root=ye}get root(){return this._root.value}parent(ye){const be=this.pathFromRoot(ye);return be.length>1?be[be.length-2]:null}children(ye){const be=Hn(ye,this._root);return be?be.children.map(ce=>ce.value):[]}firstChild(ye){const be=Hn(ye,this._root);return be&&be.children.length>0?be.children[0].value:null}siblings(ye){const be=Dr(ye,this._root);return be.length<2?[]:be[be.length-2].children.map(Ee=>Ee.value).filter(Ee=>Ee!==ye)}pathFromRoot(ye){return Dr(ye,this._root).map(be=>be.value)}}function Hn(le,ye){if(le===ye.value)return ye;for(const be of ye.children){const ce=Hn(le,be);if(ce)return ce}return null}function Dr(le,ye){if(le===ye.value)return[ye];for(const be of ye.children){const ce=Dr(le,be);if(ce.length)return ce.unshift(ye),ce}return[]}class vr{constructor(ye,be){this.value=ye,this.children=be}toString(){return`TreeNode(${this.value})`}}function Xr(le){const ye={};return le&&le.children.forEach(be=>ye[be.value.outlet]=be),ye}class Vr extends uo{constructor(ye,be){super(ye),this.snapshot=be,Nn(this,ye)}toString(){return this.snapshot.toString()}}function es(le,ye){const be=function Zo(le,ye){const rt=new Kn([],{},{},"",{},je,ye,null,{});return new wn("",new vr(rt,[]))}(0,ye),ce=new O.X([new Ue("",{})]),Ee=new O.X({}),Ve=new O.X({}),rt=new O.X({}),Rt=new O.X(""),mn=new no(ce,Ee,rt,Rt,Ve,je,ye,be.root);return mn.snapshot=be.root,new Vr(new vr(mn,[]),be)}class no{constructor(ye,be,ce,Ee,Ve,rt,Rt,mn){var Vt,Dn;this.urlSubject=ye,this.paramsSubject=be,this.queryParamsSubject=ce,this.fragmentSubject=Ee,this.dataSubject=Ve,this.outlet=rt,this.component=Rt,this._futureSnapshot=mn,this.title=null!==(Vt=null===(Dn=this.dataSubject)||void 0===Dn?void 0:Dn.pipe((0,v.U)(Gn=>Gn[We])))&&void 0!==Vt?Vt:(0,G.of)(void 0),this.url=ye,this.params=be,this.queryParams=ce,this.fragment=Ee,this.data=Ve}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,v.U)(ye=>Ne(ye)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,v.U)(ye=>Ne(ye)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $r(le,ye="emptyOnly"){const be=le.pathFromRoot;let ce=0;if("always"!==ye)for(ce=be.length-1;ce>=1;){const Ee=be[ce],Ve=be[ce-1];if(Ee.routeConfig&&""===Ee.routeConfig.path)ce--;else{if(Ve.component)break;ce--}}return function go(le){return le.reduce((ye,be)=>{var ce;return{params:{...ye.params,...be.params},data:{...ye.data,...be.data},resolve:{...be.data,...ye.resolve,...null===(ce=be.routeConfig)||void 0===ce?void 0:ce.data,...be._resolvedData}}},{params:{},data:{},resolve:{}})}(be.slice(ce))}class Kn{get title(){var ye;return null===(ye=this.data)||void 0===ye?void 0:ye[We]}constructor(ye,be,ce,Ee,Ve,rt,Rt,mn,Vt){this.url=ye,this.params=be,this.queryParams=ce,this.fragment=Ee,this.data=Ve,this.outlet=rt,this.component=Rt,this.routeConfig=mn,this._resolve=Vt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ne(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ne(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ce=>ce.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wn extends uo{constructor(ye,be){super(be),this.url=ye,Nn(this,be)}toString(){return rr(this._root)}}function Nn(le,ye){ye.value._routerState=le,ye.children.forEach(be=>Nn(le,be))}function rr(le){const ye=le.children.length>0?` { ${le.children.map(rr).join(", ")} } `:"";return`${le.value}${ye}`}function Kr(le){if(le.snapshot){const ye=le.snapshot,be=le._futureSnapshot;le.snapshot=be,yt(ye.queryParams,be.queryParams)||le.queryParamsSubject.next(be.queryParams),ye.fragment!==be.fragment&&le.fragmentSubject.next(be.fragment),yt(ye.params,be.params)||le.paramsSubject.next(be.params),function at(le,ye){if(le.length!==ye.length)return!1;for(let be=0;be<le.length;++be)if(!yt(le[be],ye[be]))return!1;return!0}(ye.url,be.url)||le.urlSubject.next(be.url),yt(ye.data,be.data)||le.dataSubject.next(be.data)}else le.snapshot=le._futureSnapshot,le.dataSubject.next(le._futureSnapshot.data)}function Hr(le,ye){const be=yt(le.params,ye.params)&&function Ae(le,ye){return ze(le,ye)&&le.every((be,ce)=>yt(be.parameters,ye[ce].parameters))}(le.url,ye.url);return be&&!(!le.parent!=!ye.parent)&&(!le.parent||Hr(le.parent,ye.parent))}let jr=(()=>{var le;class ye{constructor(){this.activated=null,this._activatedRoute=null,this.name=je,this.activateEvents=new H.vpe,this.deactivateEvents=new H.vpe,this.attachEvents=new H.vpe,this.detachEvents=new H.vpe,this.parentContexts=(0,H.f3M)(Co),this.location=(0,H.f3M)(H.s_b),this.changeDetector=(0,H.f3M)(H.sBO),this.environmentInjector=(0,H.f3M)(H.lqb),this.inputBinder=(0,H.f3M)(ur,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ce){if(ce.name){const{firstChange:Ee,previousValue:Ve}=ce.name;if(Ee)return;this.isTrackedInParentContexts(Ve)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ve)),this.initializeOutletWithName()}}ngOnDestroy(){var ce;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(ce=this.inputBinder)||void 0===ce||ce.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ce){var Ee;return(null===(Ee=this.parentContexts.getContext(ce))||void 0===Ee?void 0:Ee.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ce=this.parentContexts.getContext(this.name);null!=ce&&ce.route&&(ce.attachRef?this.attach(ce.attachRef,ce.route):this.activateWith(ce.route,ce.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H.vHH(4012,!1);this.location.detach();const ce=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ce.instance),ce}attach(ce,Ee){var Ve;this.activated=ce,this._activatedRoute=Ee,this.location.insert(ce.hostView),null===(Ve=this.inputBinder)||void 0===Ve||Ve.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ce.instance)}deactivate(){if(this.activated){const ce=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ce)}}activateWith(ce,Ee){var Ve;if(this.isActivated)throw new H.vHH(4013,!1);this._activatedRoute=ce;const rt=this.location,mn=ce.snapshot.component,Vt=this.parentContexts.getOrCreateContext(this.name).children,Dn=new yo(ce,Vt,rt.injector);this.activated=rt.createComponent(mn,{index:rt.length,injector:Dn,environmentInjector:null!=Ee?Ee:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Ve=this.inputBinder)||void 0===Ve||Ve.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275dir=H.lG2({type:le,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[H.TTD]}),ye})();class yo{constructor(ye,be,ce){this.route=ye,this.childContexts=be,this.parent=ce}get(ye,be){return ye===no?this.route:ye===Co?this.childContexts:this.parent.get(ye,be)}}const ur=new H.OlP("");let ro=(()=>{var le;class ye{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ce){this.unsubscribeFromRouteData(ce),this.subscribeToRouteData(ce)}unsubscribeFromRouteData(ce){var Ee;null===(Ee=this.outletDataSubscriptions.get(ce))||void 0===Ee||Ee.unsubscribe(),this.outletDataSubscriptions.delete(ce)}subscribeToRouteData(ce){const{activatedRoute:Ee}=ce,Ve=(0,f.a)([Ee.queryParams,Ee.params,Ee.data]).pipe((0,a.w)(([rt,Rt,mn],Vt)=>(mn={...rt,...Rt,...mn},0===Vt?(0,G.of)(mn):Promise.resolve(mn)))).subscribe(rt=>{if(!ce.isActivated||!ce.activatedComponentRef||ce.activatedRoute!==Ee||null===Ee.component)return void this.unsubscribeFromRouteData(ce);const Rt=(0,H.qFp)(Ee.component);if(Rt)for(const{templateName:mn}of Rt.inputs)ce.activatedComponentRef.setInput(mn,rt[mn]);else this.unsubscribeFromRouteData(ce)});this.outletDataSubscriptions.set(ce,Ve)}}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac}),ye})();function $n(le,ye,be){if(be&&le.shouldReuseRoute(ye.value,be.value.snapshot)){const ce=be.value;ce._futureSnapshot=ye.value;const Ee=function Do(le,ye,be){return ye.children.map(ce=>{for(const Ee of be.children)if(le.shouldReuseRoute(ce.value,Ee.value.snapshot))return $n(le,ce,Ee);return $n(le,ce)})}(le,ye,be);return new vr(ce,Ee)}{if(le.shouldAttach(ye.value)){const Ve=le.retrieve(ye.value);if(null!==Ve){const rt=Ve.route;return rt.value._futureSnapshot=ye.value,rt.children=ye.children.map(Rt=>$n(le,Rt)),rt}}const ce=function No(le){return new no(new O.X(le.url),new O.X(le.params),new O.X(le.queryParams),new O.X(le.fragment),new O.X(le.data),le.outlet,le.component,le)}(ye.value),Ee=ye.children.map(Ve=>$n(le,Ve));return new vr(ce,Ee)}}const Ao="ngNavigationCancelingError";function dr(le,ye){const{redirectTo:be,navigationBehaviorOptions:ce}=de(ye)?{redirectTo:ye,navigationBehaviorOptions:void 0}:ye,Ee=Oo(!1,0,ye);return Ee.url=be,Ee.navigationBehaviorOptions=ce,Ee}function Oo(le,ye,be){const ce=new Error("NavigationCancelingError: "+(le||""));return ce[Ao]=!0,ce.cancellationCode=ye,be&&(ce.url=be),ce}function oo(le){return le&&le[Ao]}let Qr=(()=>{var le;class ye{}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275cmp=H.Xpm({type:le,selectors:[["ng-component"]],standalone:!0,features:[H.jDz],decls:1,vars:0,template:function(ce,Ee){1&ce&&H._UZ(0,"router-outlet")},dependencies:[jr],encapsulation:2}),ye})();function Sn(le){const ye=le.children&&le.children.map(Sn),be=ye?{...le,children:ye}:{...le};return!be.component&&!be.loadComponent&&(ye||be.loadChildren)&&be.outlet&&be.outlet!==je&&(be.component=Qr),be}function eo(le){return le.outlet||je}function re(le){var ye;if(!le)return null;if(null!==(ye=le.routeConfig)&&void 0!==ye&&ye._injector)return le.routeConfig._injector;for(let be=le.parent;be;be=be.parent){const ce=be.routeConfig;if(null!=ce&&ce._loadedInjector)return ce._loadedInjector;if(null!=ce&&ce._injector)return ce._injector}return null}class xe{constructor(ye,be,ce,Ee,Ve){this.routeReuseStrategy=ye,this.futureState=be,this.currState=ce,this.forwardEvent=Ee,this.inputBindingEnabled=Ve}activate(ye){const be=this.futureState._root,ce=this.currState?this.currState._root:null;this.deactivateChildRoutes(be,ce,ye),Kr(this.futureState.root),this.activateChildRoutes(be,ce,ye)}deactivateChildRoutes(ye,be,ce){const Ee=Xr(be);ye.children.forEach(Ve=>{const rt=Ve.value.outlet;this.deactivateRoutes(Ve,Ee[rt],ce),delete Ee[rt]}),Object.values(Ee).forEach(Ve=>{this.deactivateRouteAndItsChildren(Ve,ce)})}deactivateRoutes(ye,be,ce){const Ee=ye.value,Ve=be?be.value:null;if(Ee===Ve)if(Ee.component){const rt=ce.getContext(Ee.outlet);rt&&this.deactivateChildRoutes(ye,be,rt.children)}else this.deactivateChildRoutes(ye,be,ce);else Ve&&this.deactivateRouteAndItsChildren(be,ce)}deactivateRouteAndItsChildren(ye,be){ye.value.component&&this.routeReuseStrategy.shouldDetach(ye.value.snapshot)?this.detachAndStoreRouteSubtree(ye,be):this.deactivateRouteAndOutlet(ye,be)}detachAndStoreRouteSubtree(ye,be){const ce=be.getContext(ye.value.outlet),Ee=ce&&ye.value.component?ce.children:be,Ve=Xr(ye);for(const rt of Object.keys(Ve))this.deactivateRouteAndItsChildren(Ve[rt],Ee);if(ce&&ce.outlet){const rt=ce.outlet.detach(),Rt=ce.children.onOutletDeactivated();this.routeReuseStrategy.store(ye.value.snapshot,{componentRef:rt,route:ye,contexts:Rt})}}deactivateRouteAndOutlet(ye,be){const ce=be.getContext(ye.value.outlet),Ee=ce&&ye.value.component?ce.children:be,Ve=Xr(ye);for(const rt of Object.keys(Ve))this.deactivateRouteAndItsChildren(Ve[rt],Ee);ce&&(ce.outlet&&(ce.outlet.deactivate(),ce.children.onOutletDeactivated()),ce.attachRef=null,ce.route=null)}activateChildRoutes(ye,be,ce){const Ee=Xr(be);ye.children.forEach(Ve=>{this.activateRoutes(Ve,Ee[Ve.value.outlet],ce),this.forwardEvent(new Pr(Ve.value.snapshot))}),ye.children.length&&this.forwardEvent(new Rn(ye.value.snapshot))}activateRoutes(ye,be,ce){const Ee=ye.value,Ve=be?be.value:null;if(Kr(Ee),Ee===Ve)if(Ee.component){const rt=ce.getOrCreateContext(Ee.outlet);this.activateChildRoutes(ye,be,rt.children)}else this.activateChildRoutes(ye,be,ce);else if(Ee.component){const rt=ce.getOrCreateContext(Ee.outlet);if(this.routeReuseStrategy.shouldAttach(Ee.snapshot)){const Rt=this.routeReuseStrategy.retrieve(Ee.snapshot);this.routeReuseStrategy.store(Ee.snapshot,null),rt.children.onOutletReAttached(Rt.contexts),rt.attachRef=Rt.componentRef,rt.route=Rt.route.value,rt.outlet&&rt.outlet.attach(Rt.componentRef,Rt.route.value),Kr(Rt.route.value),this.activateChildRoutes(ye,null,rt.children)}else{const Rt=re(Ee.snapshot);rt.attachRef=null,rt.route=Ee,rt.injector=Rt,rt.outlet&&rt.outlet.activateWith(Ee,rt.injector),this.activateChildRoutes(ye,null,rt.children)}}else this.activateChildRoutes(ye,null,ce)}}class Je{constructor(ye){this.path=ye,this.route=this.path[this.path.length-1]}}class Zt{constructor(ye,be){this.component=ye,this.route=be}}function vn(le,ye,be){const ce=le._root;return Zn(ce,ye?ye._root:null,be,[ce.value])}function Un(le,ye){const be=Symbol(),ce=ye.get(le,be);return ce===be?"function"!=typeof le||(0,H.Z0I)(le)?ye.get(le):le:ce}function Zn(le,ye,be,ce,Ee={canDeactivateChecks:[],canActivateChecks:[]}){const Ve=Xr(ye);return le.children.forEach(rt=>{(function ao(le,ye,be,ce,Ee={canDeactivateChecks:[],canActivateChecks:[]}){const Ve=le.value,rt=ye?ye.value:null,Rt=be?be.getContext(le.value.outlet):null;if(rt&&Ve.routeConfig===rt.routeConfig){const mn=function Ro(le,ye,be){if("function"==typeof be)return be(le,ye);switch(be){case"pathParamsChange":return!ze(le.url,ye.url);case"pathParamsOrQueryParamsChange":return!ze(le.url,ye.url)||!yt(le.queryParams,ye.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hr(le,ye)||!yt(le.queryParams,ye.queryParams);default:return!Hr(le,ye)}}(rt,Ve,Ve.routeConfig.runGuardsAndResolvers);mn?Ee.canActivateChecks.push(new Je(ce)):(Ve.data=rt.data,Ve._resolvedData=rt._resolvedData),Zn(le,ye,Ve.component?Rt?Rt.children:null:be,ce,Ee),mn&&Rt&&Rt.outlet&&Rt.outlet.isActivated&&Ee.canDeactivateChecks.push(new Zt(Rt.outlet.component,rt))}else rt&&qr(ye,Rt,Ee),Ee.canActivateChecks.push(new Je(ce)),Zn(le,null,Ve.component?Rt?Rt.children:null:be,ce,Ee)})(rt,Ve[rt.value.outlet],be,ce.concat([rt.value]),Ee),delete Ve[rt.value.outlet]}),Object.entries(Ve).forEach(([rt,Rt])=>qr(Rt,be.getContext(rt),Ee)),Ee}function qr(le,ye,be){const ce=Xr(le),Ee=le.value;Object.entries(ce).forEach(([Ve,rt])=>{qr(rt,Ee.component?ye?ye.children.getContext(Ve):null:ye,be)}),be.canDeactivateChecks.push(new Zt(Ee.component&&ye&&ye.outlet&&ye.outlet.isActivated?ye.outlet.component:null,Ee))}function fo(le){return"function"==typeof le}function ae(le){return le instanceof d||"EmptyError"===(null==le?void 0:le.name)}const Oe=Symbol("INITIAL_VALUE");function qe(){return(0,a.w)(le=>(0,f.a)(le.map(ye=>ye.pipe((0,g.q)(1),function k(...le){const ye=(0,E.yG)(le);return(0,$.e)((be,ce)=>{(ye?(0,y.z)(le,be,ye):(0,y.z)(le,be)).subscribe(ce)})}(Oe)))).pipe((0,v.U)(ye=>{for(const be of ye)if(!0!==be){if(be===Oe)return Oe;if(!1===be||be instanceof wt)return be}return!0}),(0,M.h)(ye=>ye!==Oe),(0,g.q)(1)))}function Ft(le){return(0,b.z)((0,Q.b)(ye=>{if(de(ye))throw dr(0,ye)}),(0,v.U)(ye=>!0===ye))}class Pn{constructor(ye){this.segmentGroup=ye||null}}class kn{constructor(ye){this.urlTree=ye}}function Tn(le){return(0,i._)(new Pn(le))}function zn(le){return(0,i._)(new kn(le))}class zr{constructor(ye,be){this.urlSerializer=ye,this.urlTree=be}noMatchError(ye){return new H.vHH(4002,!1)}lineralizeSegments(ye,be){let ce=[],Ee=be.root;for(;;){if(ce=ce.concat(Ee.segments),0===Ee.numberOfChildren)return(0,G.of)(ce);if(Ee.numberOfChildren>1||!Ee.children[je])return(0,i._)(new H.vHH(4e3,!1));Ee=Ee.children[je]}}applyRedirectCommands(ye,be,ce){return this.applyRedirectCreateUrlTree(be,this.urlSerializer.parse(be),ye,ce)}applyRedirectCreateUrlTree(ye,be,ce,Ee){const Ve=this.createSegmentGroup(ye,be.root,ce,Ee);return new wt(Ve,this.createQueryParams(be.queryParams,this.urlTree.queryParams),be.fragment)}createQueryParams(ye,be){const ce={};return Object.entries(ye).forEach(([Ee,Ve])=>{if("string"==typeof Ve&&Ve.startsWith(":")){const Rt=Ve.substring(1);ce[Ee]=be[Rt]}else ce[Ee]=Ve}),ce}createSegmentGroup(ye,be,ce,Ee){const Ve=this.createSegments(ye,be.segments,ce,Ee);let rt={};return Object.entries(be.children).forEach(([Rt,mn])=>{rt[Rt]=this.createSegmentGroup(ye,mn,ce,Ee)}),new Pe(Ve,rt)}createSegments(ye,be,ce,Ee){return be.map(Ve=>Ve.path.startsWith(":")?this.findPosParam(ye,Ve,Ee):this.findOrReturn(Ve,ce))}findPosParam(ye,be,ce){const Ee=ce[be.path.substring(1)];if(!Ee)throw new H.vHH(4001,!1);return Ee}findOrReturn(ye,be){let ce=0;for(const Ee of be){if(Ee.path===ye.path)return be.splice(ce),Ee;ce++}return ye}}const Wr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function so(le,ye,be,ce,Ee){const Ve=ho(le,ye,be);return Ve.matched?(ce=function Wo(le,ye){var be;return le.providers&&!le._injector&&(le._injector=(0,H.MMx)(le.providers,ye,`Route: ${le.path}`)),null!==(be=le._injector)&&void 0!==be?be:ye}(ye,ce),function Fn(le,ye,be,ce){const Ee=ye.canMatch;if(!Ee||0===Ee.length)return(0,G.of)(!0);const Ve=Ee.map(rt=>{const Rt=Un(rt,le);return St(function S(le){return le&&fo(le.canMatch)}(Rt)?Rt.canMatch(ye,be):le.runInContext(()=>Rt(ye,be)))});return(0,G.of)(Ve).pipe(qe(),Ft())}(ce,ye,be).pipe((0,v.U)(rt=>!0===rt?Ve:{...Wr}))):(0,G.of)(Ve)}function ho(le,ye,be){var ce,Ee;if(""===ye.path)return"full"===ye.pathMatch&&(le.hasChildren()||be.length>0)?{...Wr}:{matched:!0,consumedSegments:[],remainingSegments:be,parameters:{},positionalParamSegments:{}};const rt=(ye.matcher||Ke)(be,le,ye);if(!rt)return{...Wr};const Rt={};Object.entries(null!==(ce=rt.posParams)&&void 0!==ce?ce:{}).forEach(([Vt,Dn])=>{Rt[Vt]=Dn.path});const mn=rt.consumed.length>0?{...Rt,...rt.consumed[rt.consumed.length-1].parameters}:Rt;return{matched:!0,consumedSegments:rt.consumed,remainingSegments:be.slice(rt.consumed.length),parameters:mn,positionalParamSegments:null!==(Ee=rt.posParams)&&void 0!==Ee?Ee:{}}}function hr(le,ye,be,ce){return be.length>0&&function io(le,ye,be){return be.some(ce=>Ar(le,ye,ce)&&eo(ce)!==je)}(le,be,ce)?{segmentGroup:new Pe(ye,cr(ce,new Pe(be,le.children))),slicedSegments:[]}:0===be.length&&function Er(le,ye,be){return be.some(ce=>Ar(le,ye,ce))}(le,be,ce)?{segmentGroup:new Pe(le.segments,Mr(le,0,be,ce,le.children)),slicedSegments:be}:{segmentGroup:new Pe(le.segments,le.children),slicedSegments:be}}function Mr(le,ye,be,ce,Ee){const Ve={};for(const rt of ce)if(Ar(le,be,rt)&&!Ee[eo(rt)]){const Rt=new Pe([],{});Ve[eo(rt)]=Rt}return{...Ee,...Ve}}function cr(le,ye){const be={};be[je]=ye;for(const ce of le)if(""===ce.path&&eo(ce)!==je){const Ee=new Pe([],{});be[eo(ce)]=Ee}return be}function Ar(le,ye,be){return(!(le.hasChildren()||ye.length>0)||"full"!==be.pathMatch)&&""===be.path}class _s{constructor(ye,be,ce,Ee,Ve,rt,Rt){this.injector=ye,this.configLoader=be,this.rootComponentType=ce,this.config=Ee,this.urlTree=Ve,this.paramsInheritanceStrategy=rt,this.urlSerializer=Rt,this.allowRedirects=!0,this.applyRedirects=new zr(this.urlSerializer,this.urlTree)}noMatchError(ye){return new H.vHH(4002,!1)}recognize(){const ye=hr(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,ye,je).pipe(K(be=>{if(be instanceof kn)return this.allowRedirects=!1,this.urlTree=be.urlTree,this.match(be.urlTree);throw be instanceof Pn?this.noMatchError(be):be}),(0,v.U)(be=>{const ce=new Kn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},je,this.rootComponentType,null,{}),Ee=new vr(ce,be),Ve=new wn("",Ee),rt=function ne(le,ye,be=null,ce=null){return ge(te(le),ye,be,ce)}(ce,[],this.urlTree.queryParams,this.urlTree.fragment);return rt.queryParams=this.urlTree.queryParams,Ve.url=this.urlSerializer.serialize(rt),this.inheritParamsAndData(Ve._root),{state:Ve,tree:rt}}))}match(ye){return this.processSegmentGroup(this.injector,this.config,ye.root,je).pipe(K(ce=>{throw ce instanceof Pn?this.noMatchError(ce):ce}))}inheritParamsAndData(ye){const be=ye.value,ce=$r(be,this.paramsInheritanceStrategy);be.params=Object.freeze(ce.params),be.data=Object.freeze(ce.data),ye.children.forEach(Ee=>this.inheritParamsAndData(Ee))}processSegmentGroup(ye,be,ce,Ee){return 0===ce.segments.length&&ce.hasChildren()?this.processChildren(ye,be,ce):this.processSegment(ye,be,ce,ce.segments,Ee,!0)}processChildren(ye,be,ce){const Ee=[];for(const Ve of Object.keys(ce.children))"primary"===Ve?Ee.unshift(Ve):Ee.push(Ve);return(0,r.D)(Ee).pipe(N(Ve=>{const rt=ce.children[Ve],Rt=function ko(le,ye){const be=le.filter(ce=>eo(ce)===ye);return be.push(...le.filter(ce=>eo(ce)!==ye)),be}(be,Ve);return this.processSegmentGroup(ye,Rt,rt,Ve)}),function fe(le,ye){return(0,$.e)(function se(le,ye,be,ce,Ee){return(Ve,rt)=>{let Rt=be,mn=ye,Vt=0;Ve.subscribe((0,L.x)(rt,Dn=>{const Gn=Vt++;mn=Rt?le(mn,Dn,Gn):(Rt=!0,Dn),ce&&rt.next(mn)},Ee&&(()=>{Rt&&rt.next(mn),rt.complete()})))}}(le,ye,arguments.length>=2,!0))}((Ve,rt)=>(Ve.push(...rt),Ve)),U(null),function Z(le,ye){const be=arguments.length>=2;return ce=>ce.pipe(le?(0,M.h)((Ee,Ve)=>le(Ee,Ve,ce)):R.y,Ie(1),be?U(ye):I(()=>new d))}(),(0,A.z)(Ve=>{if(null===Ve)return Tn(ce);const rt=qi(Ve);return function ni(le){le.sort((ye,be)=>ye.value.outlet===je?-1:be.value.outlet===je?1:ye.value.outlet.localeCompare(be.value.outlet))}(rt),(0,G.of)(rt)}))}processSegment(ye,be,ce,Ee,Ve,rt){return(0,r.D)(be).pipe(N(Rt=>{var mn;return this.processSegmentAgainstRoute(null!==(mn=Rt._injector)&&void 0!==mn?mn:ye,be,Rt,ce,Ee,Ve,rt).pipe(K(Vt=>{if(Vt instanceof Pn)return(0,G.of)(null);throw Vt}))}),V(Rt=>!!Rt),K(Rt=>{if(ae(Rt))return function Zr(le,ye,be){return 0===ye.length&&!le.children[be]}(ce,Ee,Ve)?(0,G.of)([]):Tn(ce);throw Rt}))}processSegmentAgainstRoute(ye,be,ce,Ee,Ve,rt,Rt){return function pr(le,ye,be,ce){return!!(eo(le)===ce||ce!==je&&Ar(ye,be,le))&&("**"===le.path||ho(ye,le,be).matched)}(ce,Ee,Ve,rt)?void 0===ce.redirectTo?this.matchSegmentAgainstRoute(ye,Ee,ce,Ve,rt,Rt):Rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ye,Ee,be,ce,Ve,rt):Tn(Ee):Tn(Ee)}expandSegmentAgainstRouteUsingRedirect(ye,be,ce,Ee,Ve,rt){return"**"===Ee.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ye,ce,Ee,rt):this.expandRegularSegmentAgainstRouteUsingRedirect(ye,be,ce,Ee,Ve,rt)}expandWildCardWithParamsAgainstRouteUsingRedirect(ye,be,ce,Ee){const Ve=this.applyRedirects.applyRedirectCommands([],ce.redirectTo,{});return ce.redirectTo.startsWith("/")?zn(Ve):this.applyRedirects.lineralizeSegments(ce,Ve).pipe((0,A.z)(rt=>{const Rt=new Pe(rt,{});return this.processSegment(ye,be,Rt,rt,Ee,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ye,be,ce,Ee,Ve,rt){const{matched:Rt,consumedSegments:mn,remainingSegments:Vt,positionalParamSegments:Dn}=ho(be,Ee,Ve);if(!Rt)return Tn(be);const Gn=this.applyRedirects.applyRedirectCommands(mn,Ee.redirectTo,Dn);return Ee.redirectTo.startsWith("/")?zn(Gn):this.applyRedirects.lineralizeSegments(Ee,Gn).pipe((0,A.z)(Ur=>this.processSegment(ye,ce,be,Ur.concat(Vt),rt,!1)))}matchSegmentAgainstRoute(ye,be,ce,Ee,Ve,rt){let Rt;if("**"===ce.path){var mn,Vt;const Dn=Ee.length>0?nt(Ee).parameters:{},Gn=new Kn(Ee,Dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ri(ce),eo(ce),null!==(mn=null!==(Vt=ce.component)&&void 0!==Vt?Vt:ce._loadedComponent)&&void 0!==mn?mn:null,ce,Gs(ce));Rt=(0,G.of)({snapshot:Gn,consumedSegments:[],remainingSegments:[]}),be.children={}}else Rt=so(be,ce,Ee,ye).pipe((0,v.U)(({matched:Dn,consumedSegments:Gn,remainingSegments:Ur,parameters:bo})=>{var _r,wo;return Dn?{snapshot:new Kn(Gn,bo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ri(ce),eo(ce),null!==(_r=null!==(wo=ce.component)&&void 0!==wo?wo:ce._loadedComponent)&&void 0!==_r?_r:null,ce,Gs(ce)),consumedSegments:Gn,remainingSegments:Ur}:null}));return Rt.pipe((0,a.w)(Dn=>{var Gn;return null===Dn?Tn(be):(ye=null!==(Gn=ce._injector)&&void 0!==Gn?Gn:ye,this.getChildConfig(ye,ce,Ee).pipe((0,a.w)(({routes:Ur})=>{var bo;const _r=null!==(bo=ce._loadedInjector)&&void 0!==bo?bo:ye,{snapshot:wo,consumedSegments:Es,remainingSegments:lo}=Dn,{segmentGroup:ns,slicedSegments:Rr}=hr(be,Es,lo,Ur);if(0===Rr.length&&ns.hasChildren())return this.processChildren(_r,Ur,ns).pipe((0,v.U)(ai=>null===ai?null:[new vr(wo,ai)]));if(0===Ur.length&&0===Rr.length)return(0,G.of)([new vr(wo,[])]);const ta=eo(ce)===Ve;return this.processSegment(_r,Ur,ns,Rr,ta?je:Ve,!0).pipe((0,v.U)(ai=>[new vr(wo,ai)]))})))}))}getChildConfig(ye,be,ce){return be.children?(0,G.of)({routes:be.children,injector:ye}):be.loadChildren?void 0!==be._loadedRoutes?(0,G.of)({routes:be._loadedRoutes,injector:be._loadedInjector}):function Lt(le,ye,be,ce){const Ee=ye.canLoad;if(void 0===Ee||0===Ee.length)return(0,G.of)(!0);const Ve=Ee.map(rt=>{const Rt=Un(rt,le);return St(function fr(le){return le&&fo(le.canLoad)}(Rt)?Rt.canLoad(ye,be):le.runInContext(()=>Rt(ye,be)))});return(0,G.of)(Ve).pipe(qe(),Ft())}(ye,be,ce).pipe((0,A.z)(Ee=>Ee?this.configLoader.loadChildren(ye,be).pipe((0,Q.b)(Ve=>{be._loadedRoutes=Ve.routes,be._loadedInjector=Ve.injector})):function Nr(le){return(0,i._)(Oo(!1,3))}())):(0,G.of)({routes:[],injector:ye})}}function Ga(le){const ye=le.value.routeConfig;return ye&&""===ye.path}function qi(le){const ye=[],be=new Set;for(const ce of le){if(!Ga(ce)){ye.push(ce);continue}const Ee=ye.find(Ve=>ce.value.routeConfig===Ve.value.routeConfig);void 0!==Ee?(Ee.children.push(...ce.children),be.add(Ee)):ye.push(ce)}for(const ce of be){const Ee=qi(ce.children);ye.push(new vr(ce.value,Ee))}return ye.filter(ce=>!be.has(ce))}function ri(le){return le.data||{}}function Gs(le){return le.resolve||{}}function Qe(le){return"string"==typeof le.title||null===le.title}function vt(le){return(0,a.w)(ye=>{const be=le(ye);return be?(0,r.D)(be).pipe((0,v.U)(()=>ye)):(0,G.of)(ye)})}const Qt=new H.OlP("ROUTES");let yn=(()=>{var le;class ye{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,H.f3M)(H.Sil)}loadComponent(ce){if(this.componentLoaders.get(ce))return this.componentLoaders.get(ce);if(ce._loadedComponent)return(0,G.of)(ce._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ce);const Ee=St(ce.loadComponent()).pipe((0,v.U)(nr),(0,Q.b)(rt=>{this.onLoadEndListener&&this.onLoadEndListener(ce),ce._loadedComponent=rt}),pe(()=>{this.componentLoaders.delete(ce)})),Ve=new h.c(Ee,()=>new s.x).pipe((0,we.x)());return this.componentLoaders.set(ce,Ve),Ve}loadChildren(ce,Ee){if(this.childrenLoaders.get(Ee))return this.childrenLoaders.get(Ee);if(Ee._loadedRoutes)return(0,G.of)({routes:Ee._loadedRoutes,injector:Ee._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ee);const rt=function Qn(le,ye,be,ce){return St(le.loadChildren()).pipe((0,v.U)(nr),(0,A.z)(Ee=>Ee instanceof H.YKP||Array.isArray(Ee)?(0,G.of)(Ee):(0,r.D)(ye.compileModuleAsync(Ee))),(0,v.U)(Ee=>{ce&&ce(le);let Ve,rt,Rt=!1;return Array.isArray(Ee)?(rt=Ee,!0):(Ve=Ee.create(be).injector,rt=Ve.get(Qt,[],{optional:!0,self:!0}).flat()),{routes:rt.map(Sn),injector:Ve}}))}(Ee,this.compiler,ce,this.onLoadEndListener).pipe(pe(()=>{this.childrenLoaders.delete(Ee)})),Rt=new h.c(rt,()=>new s.x).pipe((0,we.x)());return this.childrenLoaders.set(Ee,Rt),Rt}}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),ye})();function nr(le){return function or(le){return le&&"object"==typeof le&&"default"in le}(le)?le.default:le}let Wn=(()=>{var le;class ye{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new s.x,this.transitionAbortSubject=new s.x,this.configLoader=(0,H.f3M)(yn),this.environmentInjector=(0,H.f3M)(H.lqb),this.urlSerializer=(0,H.f3M)(Dt),this.rootContexts=(0,H.f3M)(Co),this.inputBindingEnabled=null!==(0,H.f3M)(ur,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,G.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ve=>this.events.next(new bn(Ve)),this.configLoader.onLoadStartListener=Ve=>this.events.next(new an(Ve))}complete(){var ce;null===(ce=this.transitions)||void 0===ce||ce.complete()}handleNavigationRequest(ce){var Ee;const Ve=++this.navigationId;null===(Ee=this.transitions)||void 0===Ee||Ee.next({...this.transitions.value,...ce,id:Ve})}setupNavigations(ce,Ee,Ve){return this.transitions=new O.X({id:0,currentUrlTree:Ee,currentRawUrl:Ee,currentBrowserUrl:Ee,extractedUrl:ce.urlHandlingStrategy.extract(Ee),urlAfterRedirects:ce.urlHandlingStrategy.extract(Ee),rawUrl:Ee,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lr,restoredState:null,currentSnapshot:Ve.snapshot,targetSnapshot:null,currentRouterState:Ve,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,M.h)(rt=>0!==rt.id),(0,v.U)(rt=>({...rt,extractedUrl:ce.urlHandlingStrategy.extract(rt.rawUrl)})),(0,a.w)(rt=>{this.currentTransition=rt;let Rt=!1,mn=!1;return(0,G.of)(rt).pipe((0,Q.b)(Vt=>{this.currentNavigation={id:Vt.id,initialUrl:Vt.rawUrl,extractedUrl:Vt.extractedUrl,trigger:Vt.source,extras:Vt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,a.w)(Vt=>{var Dn;const Gn=Vt.currentBrowserUrl.toString(),Ur=!ce.navigated||Vt.extractedUrl.toString()!==Gn||Gn!==Vt.currentUrlTree.toString(),bo=null!==(Dn=Vt.extras.onSameUrlNavigation)&&void 0!==Dn?Dn:ce.onSameUrlNavigation;if(!Ur&&"reload"!==bo){const _r="";return this.events.next(new ot(Vt.id,this.urlSerializer.serialize(Vt.rawUrl),_r,0)),Vt.resolve(null),l.E}if(ce.urlHandlingStrategy.shouldProcessUrl(Vt.rawUrl))return(0,G.of)(Vt).pipe((0,a.w)(_r=>{var wo,Es;const lo=null===(wo=this.transitions)||void 0===wo?void 0:wo.getValue();return this.events.next(new Fr(_r.id,this.urlSerializer.serialize(_r.extractedUrl),_r.source,_r.restoredState)),lo!==(null===(Es=this.transitions)||void 0===Es?void 0:Es.getValue())?l.E:Promise.resolve(_r)}),function Rs(le,ye,be,ce,Ee,Ve){return(0,A.z)(rt=>function js(le,ye,be,ce,Ee,Ve,rt="emptyOnly"){return new _s(le,ye,be,ce,Ee,rt,Ve).recognize()}(le,ye,be,ce,rt.extractedUrl,Ee,Ve).pipe((0,v.U)(({state:Rt,tree:mn})=>({...rt,targetSnapshot:Rt,urlAfterRedirects:mn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ce.config,this.urlSerializer,ce.paramsInheritanceStrategy),(0,Q.b)(_r=>{rt.targetSnapshot=_r.targetSnapshot,rt.urlAfterRedirects=_r.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_r.urlAfterRedirects};const wo=new Bt(_r.id,this.urlSerializer.serialize(_r.extractedUrl),this.urlSerializer.serialize(_r.urlAfterRedirects),_r.targetSnapshot);this.events.next(wo)}));if(Ur&&ce.urlHandlingStrategy.shouldProcessUrl(Vt.currentRawUrl)){const{id:_r,extractedUrl:wo,source:Es,restoredState:lo,extras:ns}=Vt,Rr=new Fr(_r,this.urlSerializer.serialize(wo),Es,lo);this.events.next(Rr);const ta=es(0,this.rootComponentType).snapshot;return this.currentTransition=rt={...Vt,targetSnapshot:ta,urlAfterRedirects:wo,extras:{...ns,skipLocationChange:!1,replaceUrl:!1}},(0,G.of)(rt)}{const _r="";return this.events.next(new ot(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),_r,1)),Vt.resolve(null),l.E}}),(0,Q.b)(Vt=>{const Dn=new kt(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(Dn)}),(0,v.U)(Vt=>(this.currentTransition=rt={...Vt,guards:vn(Vt.targetSnapshot,Vt.currentSnapshot,this.rootContexts)},rt)),function et(le,ye){return(0,A.z)(be=>{const{targetSnapshot:ce,currentSnapshot:Ee,guards:{canActivateChecks:Ve,canDeactivateChecks:rt}}=be;return 0===rt.length&&0===Ve.length?(0,G.of)({...be,guardsResult:!0}):function _t(le,ye,be,ce){return(0,r.D)(le).pipe((0,A.z)(Ee=>function zt(le,ye,be,ce,Ee){const Ve=ye&&ye.routeConfig?ye.routeConfig.canDeactivate:null;if(!Ve||0===Ve.length)return(0,G.of)(!0);const rt=Ve.map(Rt=>{var mn;const Vt=null!==(mn=re(ye))&&void 0!==mn?mn:Ee,Dn=Un(Rt,Vt);return St(function C(le){return le&&fo(le.canDeactivate)}(Dn)?Dn.canDeactivate(le,ye,be,ce):Vt.runInContext(()=>Dn(le,ye,be,ce))).pipe(V())});return(0,G.of)(rt).pipe(qe())}(Ee.component,Ee.route,be,ye,ce)),V(Ee=>!0!==Ee,!0))}(rt,ce,Ee,le).pipe((0,A.z)(Rt=>Rt&&function ar(le){return"boolean"==typeof le}(Rt)?function Pt(le,ye,be,ce){return(0,r.D)(ye).pipe(N(Ee=>(0,y.z)(function ct(le,ye){return null!==le&&ye&&ye(new Ln(le)),(0,G.of)(!0)}(Ee.route.parent,ce),function Tt(le,ye){return null!==le&&ye&&ye(new Jn(le)),(0,G.of)(!0)}(Ee.route,ce),function $t(le,ye,be){const ce=ye[ye.length-1],Ve=ye.slice(0,ye.length-1).reverse().map(rt=>function jn(le){const ye=le.routeConfig?le.routeConfig.canActivateChild:null;return ye&&0!==ye.length?{node:le,guards:ye}:null}(rt)).filter(rt=>null!==rt).map(rt=>(0,w.P)(()=>{const Rt=rt.guards.map(mn=>{var Vt;const Dn=null!==(Vt=re(rt.node))&&void 0!==Vt?Vt:be,Gn=Un(mn,Dn);return St(function F(le){return le&&fo(le.canActivateChild)}(Gn)?Gn.canActivateChild(ce,le):Dn.runInContext(()=>Gn(ce,le))).pipe(V())});return(0,G.of)(Rt).pipe(qe())}));return(0,G.of)(Ve).pipe(qe())}(le,Ee.path,be),function on(le,ye,be){const ce=ye.routeConfig?ye.routeConfig.canActivate:null;if(!ce||0===ce.length)return(0,G.of)(!0);const Ee=ce.map(Ve=>(0,w.P)(()=>{var rt;const Rt=null!==(rt=re(ye))&&void 0!==rt?rt:be,mn=Un(Ve,Rt);return St(function x(le){return le&&fo(le.canActivate)}(mn)?mn.canActivate(ye,le):Rt.runInContext(()=>mn(ye,le))).pipe(V())}));return(0,G.of)(Ee).pipe(qe())}(le,Ee.route,be))),V(Ee=>!0!==Ee,!0))}(ce,Ve,le,ye):(0,G.of)(Rt)),(0,v.U)(Rt=>({...be,guardsResult:Rt})))})}(this.environmentInjector,Vt=>this.events.next(Vt)),(0,Q.b)(Vt=>{if(rt.guardsResult=Vt.guardsResult,de(Vt.guardsResult))throw dr(0,Vt.guardsResult);const Dn=new qt(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot,!!Vt.guardsResult);this.events.next(Dn)}),(0,M.h)(Vt=>!!Vt.guardsResult||(this.cancelNavigationTransition(Vt,"",3),!1)),vt(Vt=>{if(Vt.guards.canActivateChecks.length)return(0,G.of)(Vt).pipe((0,Q.b)(Dn=>{const Gn=new ln(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(Gn)}),(0,a.w)(Dn=>{let Gn=!1;return(0,G.of)(Dn).pipe(function oi(le,ye){return(0,A.z)(be=>{const{targetSnapshot:ce,guards:{canActivateChecks:Ee}}=be;if(!Ee.length)return(0,G.of)(be);let Ve=0;return(0,r.D)(Ee).pipe(N(rt=>function he(le,ye,be,ce){const Ee=le.routeConfig,Ve=le._resolve;return void 0!==(null==Ee?void 0:Ee.title)&&!Qe(Ee)&&(Ve[We]=Ee.title),function Me(le,ye,be,ce){const Ee=function it(le){return[...Object.keys(le),...Object.getOwnPropertySymbols(le)]}(le);if(0===Ee.length)return(0,G.of)({});const Ve={};return(0,r.D)(Ee).pipe((0,A.z)(rt=>function Ce(le,ye,be,ce){var Ee;const Ve=null!==(Ee=re(ye))&&void 0!==Ee?Ee:ce,rt=Un(le,Ve);return St(rt.resolve?rt.resolve(ye,be):Ve.runInContext(()=>rt(ye,be)))}(le[rt],ye,be,ce).pipe(V(),(0,Q.b)(Rt=>{Ve[rt]=Rt}))),Ie(1),(0,ie.h)(Ve),K(rt=>ae(rt)?l.E:(0,i._)(rt)))}(Ve,le,ye,ce).pipe((0,v.U)(rt=>(le._resolvedData=rt,le.data=$r(le,be).resolve,Ee&&Qe(Ee)&&(le.data[We]=Ee.title),null)))}(rt.route,ce,le,ye)),(0,Q.b)(()=>Ve++),Ie(1),(0,A.z)(rt=>Ve===Ee.length?(0,G.of)(be):l.E))})}(ce.paramsInheritanceStrategy,this.environmentInjector),(0,Q.b)({next:()=>Gn=!0,complete:()=>{Gn||this.cancelNavigationTransition(Dn,"",2)}}))}),(0,Q.b)(Dn=>{const Gn=new Kt(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(Gn)}))}),vt(Vt=>{const Dn=Gn=>{var Ur;const bo=[];null!==(Ur=Gn.routeConfig)&&void 0!==Ur&&Ur.loadComponent&&!Gn.routeConfig._loadedComponent&&bo.push(this.configLoader.loadComponent(Gn.routeConfig).pipe((0,Q.b)(_r=>{Gn.component=_r}),(0,v.U)(()=>{})));for(const _r of Gn.children)bo.push(...Dn(_r));return bo};return(0,f.a)(Dn(Vt.targetSnapshot.root)).pipe(U(),(0,g.q)(1))}),vt(()=>this.afterPreactivation()),(0,v.U)(Vt=>{const Dn=function So(le,ye,be){const ce=$n(le,ye._root,be?be._root:void 0);return new Vr(ce,ye)}(ce.routeReuseStrategy,Vt.targetSnapshot,Vt.currentRouterState);return this.currentTransition=rt={...Vt,targetRouterState:Dn},rt}),(0,Q.b)(()=>{this.events.next(new to)}),((le,ye,be,ce)=>(0,v.U)(Ee=>(new xe(ye,Ee.targetRouterState,Ee.currentRouterState,be,ce).activate(le),Ee)))(this.rootContexts,ce.routeReuseStrategy,Vt=>this.events.next(Vt),this.inputBindingEnabled),(0,g.q)(1),(0,Q.b)({next:Vt=>{var Dn;Rt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new He(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects))),null===(Dn=ce.titleStrategy)||void 0===Dn||Dn.updateTitle(Vt.targetRouterState.snapshot),Vt.resolve(!0)},complete:()=>{Rt=!0}}),function $e(le){return(0,$.e)((ye,be)=>{(0,T.Xf)(le).subscribe((0,L.x)(be,()=>be.complete(),Re.Z)),!be.closed&&ye.subscribe(be)})}(this.transitionAbortSubject.pipe((0,Q.b)(Vt=>{throw Vt}))),pe(()=>{var Vt;Rt||mn||this.cancelNavigationTransition(rt,"",1),(null===(Vt=this.currentNavigation)||void 0===Vt?void 0:Vt.id)===rt.id&&(this.currentNavigation=null)}),K(Vt=>{if(mn=!0,oo(Vt))this.events.next(new Be(rt.id,this.urlSerializer.serialize(rt.extractedUrl),Vt.message,Vt.cancellationCode)),function Bo(le){return oo(le)&&de(le.url)}(Vt)?this.events.next(new po(Vt.url)):rt.resolve(!1);else{var Dn;this.events.next(new ft(rt.id,this.urlSerializer.serialize(rt.extractedUrl),Vt,null!==(Dn=rt.targetSnapshot)&&void 0!==Dn?Dn:void 0));try{rt.resolve(ce.errorHandler(Vt))}catch(Gn){rt.reject(Gn)}}return l.E}))}))}cancelNavigationTransition(ce,Ee,Ve){const rt=new Be(ce.id,this.urlSerializer.serialize(ce.extractedUrl),Ee,Ve);this.events.next(rt),ce.resolve(!1)}}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),ye})();function kr(le){return le!==Lr}let wr=(()=>{var le;class ye{buildTitle(ce){let Ee,Ve=ce.root;for(;void 0!==Ve;){var rt;Ee=null!==(rt=this.getResolvedTitleForRoute(Ve))&&void 0!==rt?rt:Ee,Ve=Ve.children.find(Rt=>Rt.outlet===je)}return Ee}getResolvedTitleForRoute(ce){return ce.data[We]}}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:function(){return(0,H.f3M)(Jr)},providedIn:"root"}),ye})(),Jr=(()=>{var le;class ye extends wr{constructor(ce){super(),this.title=ce}updateTitle(ce){const Ee=this.buildTitle(ce);void 0!==Ee&&this.title.setTitle(Ee)}}return(le=ye).\u0275fac=function(ce){return new(ce||le)(H.LFG(Ge.Dx))},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),ye})(),Jo=(()=>{var le;class ye{}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:function(){return(0,H.f3M)(bs)},providedIn:"root"}),ye})();class ts{shouldDetach(ye){return!1}store(ye,be){}shouldAttach(ye){return!1}retrieve(ye){return null}shouldReuseRoute(ye,be){return ye.routeConfig===be.routeConfig}}let bs=(()=>{var le;class ye extends ts{}return(le=ye).\u0275fac=function(){let be;return function(Ee){return(be||(be=H.n5z(le)))(Ee||le)}}(),le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),ye})();const vo=new H.OlP("",{providedIn:"root",factory:()=>({})});let is=(()=>{var le;class ye{}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:function(){return(0,H.f3M)(ps)},providedIn:"root"}),ye})(),ps=(()=>{var le;class ye{shouldProcessUrl(ce){return!0}extract(ce){return ce}merge(ce,Ee){return ce}}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),ye})();var $o=function(le){return le[le.COMPLETE=0]="COMPLETE",le[le.FAILED=1]="FAILED",le[le.REDIRECTING=2]="REDIRECTING",le}($o||{});function Va(le,ye){le.events.pipe((0,M.h)(be=>be instanceof He||be instanceof Be||be instanceof ft||be instanceof ot),(0,v.U)(be=>be instanceof He||be instanceof ot?$o.COMPLETE:be instanceof Be&&(0===be.code||1===be.code)?$o.REDIRECTING:$o.FAILED),(0,M.h)(be=>be!==$o.REDIRECTING),(0,g.q)(1)).subscribe(()=>{ye()})}function as(le){throw le}function Ha(le,ye,be){return ye.parse("/")}const za={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Br={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lo=(()=>{var le;class ye{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var ce,Ee;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(ce=null===(Ee=this.location.getState())||void 0===Ee?void 0:Ee.\u0275routerPageId)&&void 0!==ce?ce:this.currentPageId}get events(){return this._events}constructor(){var ce,Ee;this.disposed=!1,this.currentPageId=0,this.console=(0,H.f3M)(H.c2e),this.isNgZoneEnabled=!1,this._events=new s.x,this.options=(0,H.f3M)(vo,{optional:!0})||{},this.pendingTasks=(0,H.f3M)(H.HDt),this.errorHandler=this.options.errorHandler||as,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ha,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,H.f3M)(is),this.routeReuseStrategy=(0,H.f3M)(Jo),this.titleStrategy=(0,H.f3M)(wr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(ce=null===(Ee=(0,H.f3M)(Qt,{optional:!0}))||void 0===Ee?void 0:Ee.flat())&&void 0!==ce?ce:[],this.navigationTransitions=(0,H.f3M)(Wn),this.urlSerializer=(0,H.f3M)(Dt),this.location=(0,H.f3M)(p.Ye),this.componentInputBindingEnabled=!!(0,H.f3M)(ur,{optional:!0}),this.eventsSubscription=new c.w0,this.isNgZoneEnabled=(0,H.f3M)(H.R0b)instanceof H.R0b&&H.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=es(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(Ve=>{this.lastSuccessfulId=Ve.id,this.currentPageId=this.browserPageId},Ve=>{this.console.warn(`Unhandled Navigation Error: ${Ve}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const ce=this.navigationTransitions.events.subscribe(Ee=>{try{const{currentTransition:Ve}=this.navigationTransitions;if(null===Ve)return void(Fo(Ee)&&this._events.next(Ee));if(Ee instanceof Fr)kr(Ve.source)&&(this.browserUrlTree=Ve.extractedUrl);else if(Ee instanceof ot)this.rawUrlTree=Ve.rawUrl;else if(Ee instanceof Bt){if("eager"===this.urlUpdateStrategy){if(!Ve.extras.skipLocationChange){const rt=this.urlHandlingStrategy.merge(Ve.urlAfterRedirects,Ve.rawUrl);this.setBrowserUrl(rt,Ve)}this.browserUrlTree=Ve.urlAfterRedirects}}else if(Ee instanceof to)this.currentUrlTree=Ve.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ve.urlAfterRedirects,Ve.rawUrl),this.routerState=Ve.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ve.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ve),this.browserUrlTree=Ve.urlAfterRedirects);else if(Ee instanceof Be)0!==Ee.code&&1!==Ee.code&&(this.navigated=!0),(3===Ee.code||2===Ee.code)&&this.restoreHistory(Ve);else if(Ee instanceof po){const rt=this.urlHandlingStrategy.merge(Ee.url,Ve.currentRawUrl),Rt={skipLocationChange:Ve.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kr(Ve.source)};this.scheduleNavigation(rt,Lr,null,Rt,{resolve:Ve.resolve,reject:Ve.reject,promise:Ve.promise})}Ee instanceof ft&&this.restoreHistory(Ve,!0),Ee instanceof He&&(this.navigated=!0),Fo(Ee)&&this._events.next(Ee)}catch(Ve){this.navigationTransitions.transitionAbortSubject.next(Ve)}});this.eventsSubscription.add(ce)}resetRootComponentType(ce){this.routerState.root.component=ce,this.navigationTransitions.rootComponentType=ce}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const ce=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Lr,ce)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(ce=>{const Ee="popstate"===ce.type?"popstate":"hashchange";"popstate"===Ee&&setTimeout(()=>{this.navigateToSyncWithBrowser(ce.url,Ee,ce.state)},0)}))}navigateToSyncWithBrowser(ce,Ee,Ve){const rt={replaceUrl:!0},Rt=null!=Ve&&Ve.navigationId?Ve:null;if(Ve){const Vt={...Ve};delete Vt.navigationId,delete Vt.\u0275routerPageId,0!==Object.keys(Vt).length&&(rt.state=Vt)}const mn=this.parseUrl(ce);this.scheduleNavigation(mn,Ee,Rt,rt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ce){this.config=ce.map(Sn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(ce,Ee={}){const{relativeTo:Ve,queryParams:rt,fragment:Rt,queryParamsHandling:mn,preserveFragment:Vt}=Ee,Dn=Vt?this.currentUrlTree.fragment:Rt;let Ur,Gn=null;switch(mn){case"merge":Gn={...this.currentUrlTree.queryParams,...rt};break;case"preserve":Gn=this.currentUrlTree.queryParams;break;default:Gn=rt||null}null!==Gn&&(Gn=this.removeEmptyProps(Gn));try{Ur=te(Ve?Ve.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ce[0]||!ce[0].startsWith("/"))&&(ce=[]),Ur=this.currentUrlTree.root}return ge(Ur,ce,Gn,null!=Dn?Dn:null)}navigateByUrl(ce,Ee={skipLocationChange:!1}){const Ve=de(ce)?ce:this.parseUrl(ce),rt=this.urlHandlingStrategy.merge(Ve,this.rawUrlTree);return this.scheduleNavigation(rt,Lr,null,Ee)}navigate(ce,Ee={skipLocationChange:!1}){return function si(le){for(let ye=0;ye<le.length;ye++)if(null==le[ye])throw new H.vHH(4008,!1)}(ce),this.navigateByUrl(this.createUrlTree(ce,Ee),Ee)}serializeUrl(ce){return this.urlSerializer.serialize(ce)}parseUrl(ce){let Ee;try{Ee=this.urlSerializer.parse(ce)}catch(Ve){Ee=this.malformedUriErrorHandler(Ve,this.urlSerializer,ce)}return Ee}isActive(ce,Ee){let Ve;if(Ve=!0===Ee?{...za}:!1===Ee?{...Br}:Ee,de(ce))return rn(this.currentUrlTree,ce,Ve);const rt=this.parseUrl(ce);return rn(this.currentUrlTree,rt,Ve)}removeEmptyProps(ce){return Object.keys(ce).reduce((Ee,Ve)=>{const rt=ce[Ve];return null!=rt&&(Ee[Ve]=rt),Ee},{})}scheduleNavigation(ce,Ee,Ve,rt,Rt){if(this.disposed)return Promise.resolve(!1);let mn,Vt,Dn;Rt?(mn=Rt.resolve,Vt=Rt.reject,Dn=Rt.promise):Dn=new Promise((Ur,bo)=>{mn=Ur,Vt=bo});const Gn=this.pendingTasks.add();return Va(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Gn))}),this.navigationTransitions.handleNavigationRequest({source:Ee,restoredState:Ve,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:ce,extras:rt,resolve:mn,reject:Vt,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(Ur=>Promise.reject(Ur))}setBrowserUrl(ce,Ee){const Ve=this.urlSerializer.serialize(ce);if(this.location.isCurrentPathEqualTo(Ve)||Ee.extras.replaceUrl){const Rt={...Ee.extras.state,...this.generateNgRouterState(Ee.id,this.browserPageId)};this.location.replaceState(Ve,"",Rt)}else{const rt={...Ee.extras.state,...this.generateNgRouterState(Ee.id,this.browserPageId+1)};this.location.go(Ve,"",rt)}}restoreHistory(ce,Ee=!1){if("computed"===this.canceledNavigationResolution){var Ve;const Rt=this.currentPageId-this.browserPageId;0!==Rt?this.location.historyGo(Rt):this.currentUrlTree===(null===(Ve=this.getCurrentNavigation())||void 0===Ve?void 0:Ve.finalUrl)&&0===Rt&&(this.resetState(ce),this.browserUrlTree=ce.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ee&&this.resetState(ce),this.resetUrlToCurrentUrlTree())}resetState(ce){this.routerState=ce.currentRouterState,this.currentUrlTree=ce.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ce.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ce,Ee){return"computed"===this.canceledNavigationResolution?{navigationId:ce,\u0275routerPageId:Ee}:{navigationId:ce}}}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),ye})();function Fo(le){return!(le instanceof to||le instanceof po)}let ii=(()=>{var le;class ye{constructor(ce,Ee,Ve,rt,Rt,mn){var Vt;this.router=ce,this.route=Ee,this.tabIndexAttribute=Ve,this.renderer=rt,this.el=Rt,this.locationStrategy=mn,this.href=null,this.commands=null,this.onChanges=new s.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Dn=null===(Vt=Rt.nativeElement.tagName)||void 0===Vt?void 0:Vt.toLowerCase();this.isAnchorElement="a"===Dn||"area"===Dn,this.isAnchorElement?this.subscription=ce.events.subscribe(Gn=>{Gn instanceof He&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ce){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ce)}ngOnChanges(ce){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(ce){null!=ce?(this.commands=Array.isArray(ce)?ce:[ce],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(ce,Ee,Ve,rt,Rt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==ce||Ee||Ve||rt||Rt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var ce;null===(ce=this.subscription)||void 0===ce||ce.unsubscribe()}updateHref(){var ce;this.href=null!==this.urlTree&&this.locationStrategy?null===(ce=this.locationStrategy)||void 0===ce?void 0:ce.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const Ee=null===this.href?null:(0,H.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ee)}applyAttributeValue(ce,Ee){const Ve=this.renderer,rt=this.el.nativeElement;null!==Ee?Ve.setAttribute(rt,ce,Ee):Ve.removeAttribute(rt,ce)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(le=ye).\u0275fac=function(ce){return new(ce||le)(H.Y36(Lo),H.Y36(no),H.$8M("tabindex"),H.Y36(H.Qsj),H.Y36(H.SBq),H.Y36(p.S$))},le.\u0275dir=H.lG2({type:le,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(ce,Ee){1&ce&&H.NdJ("click",function(rt){return Ee.onClick(rt.button,rt.ctrlKey,rt.shiftKey,rt.altKey,rt.metaKey)}),2&ce&&H.uIk("target",Ee.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",H.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",H.VuI],replaceUrl:["replaceUrl","replaceUrl",H.VuI],routerLink:"routerLink"},standalone:!0,features:[H.Xq5,H.TTD]}),ye})();class Go{}let yu=(()=>{var le;class ye{preload(ce,Ee){return Ee().pipe(K(()=>(0,G.of)(null)))}}return(le=ye).\u0275fac=function(ce){return new(ce||le)},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),ye})(),vu=(()=>{var le;class ye{constructor(ce,Ee,Ve,rt,Rt){this.router=ce,this.injector=Ve,this.preloadingStrategy=rt,this.loader=Rt}setUpPreloading(){this.subscription=this.router.events.pipe((0,M.h)(ce=>ce instanceof He),N(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ce,Ee){const Ve=[];for(const Vt of Ee){var rt,Rt;Vt.providers&&!Vt._injector&&(Vt._injector=(0,H.MMx)(Vt.providers,ce,`Route: ${Vt.path}`));const Dn=null!==(rt=Vt._injector)&&void 0!==rt?rt:ce,Gn=null!==(Rt=Vt._loadedInjector)&&void 0!==Rt?Rt:Dn;var mn;(Vt.loadChildren&&!Vt._loadedRoutes&&void 0===Vt.canLoad||Vt.loadComponent&&!Vt._loadedComponent)&&Ve.push(this.preloadConfig(Dn,Vt)),(Vt.children||Vt._loadedRoutes)&&Ve.push(this.processRoutes(Gn,null!==(mn=Vt.children)&&void 0!==mn?mn:Vt._loadedRoutes))}return(0,r.D)(Ve).pipe((0,Fe.J)())}preloadConfig(ce,Ee){return this.preloadingStrategy.preload(Ee,()=>{let Ve;Ve=Ee.loadChildren&&void 0===Ee.canLoad?this.loader.loadChildren(ce,Ee):(0,G.of)(null);const rt=Ve.pipe((0,A.z)(Rt=>{var mn;return null===Rt?(0,G.of)(void 0):(Ee._loadedRoutes=Rt.routes,Ee._loadedInjector=Rt.injector,this.processRoutes(null!==(mn=Rt.injector)&&void 0!==mn?mn:ce,Rt.routes))}));if(Ee.loadComponent&&!Ee._loadedComponent){const Rt=this.loader.loadComponent(Ee);return(0,r.D)([rt,Rt]).pipe((0,Fe.J)())}return rt})}}return(le=ye).\u0275fac=function(ce){return new(ce||le)(H.LFG(Lo),H.LFG(H.Sil),H.LFG(H.lqb),H.LFG(Go),H.LFG(yn))},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),ye})();const ls=new H.OlP("");let Zi=(()=>{var le;class ye{constructor(ce,Ee,Ve,rt,Rt={}){this.urlSerializer=ce,this.transitions=Ee,this.viewportScroller=Ve,this.zone=rt,this.options=Rt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Rt.scrollPositionRestoration=Rt.scrollPositionRestoration||"disabled",Rt.anchorScrolling=Rt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ce=>{ce instanceof Fr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ce.navigationTrigger,this.restoredId=ce.restoredState?ce.restoredState.navigationId:0):ce instanceof He?(this.lastId=ce.id,this.scheduleScrollEvent(ce,this.urlSerializer.parse(ce.urlAfterRedirects).fragment)):ce instanceof ot&&0===ce.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ce,this.urlSerializer.parse(ce.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ce=>{ce instanceof lr&&(ce.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ce.position):ce.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ce.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ce,Ee){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lr(ce,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ee))})},0)})}ngOnDestroy(){var ce,Ee;null===(ce=this.routerEventsSubscription)||void 0===ce||ce.unsubscribe(),null===(Ee=this.scrollEventsSubscription)||void 0===Ee||Ee.unsubscribe()}}return(le=ye).\u0275fac=function(ce){H.$Z()},le.\u0275prov=H.Yz7({token:le,factory:le.\u0275fac}),ye})();function us(le,ye){return{\u0275kind:le,\u0275providers:ye}}function bu(){const le=(0,H.f3M)(H.zs3);return ye=>{var be,ce;const Ee=le.get(H.z2F);if(ye!==Ee.components[0])return;const Ve=le.get(Lo),rt=le.get(qa);1===le.get(Xi)&&Ve.initialNavigation(),null===(be=le.get(Ja,null,H.XFs.Optional))||void 0===be||be.setUpPreloading(),null===(ce=le.get(ls,null,H.XFs.Optional))||void 0===ce||ce.init(),Ve.resetRootComponentType(Ee.componentTypes[0]),rt.closed||(rt.next(),rt.complete(),rt.unsubscribe())}}const qa=new H.OlP("",{factory:()=>new s.x}),Xi=new H.OlP("",{providedIn:"root",factory:()=>1}),Ja=new H.OlP("");function xu(le){return us(0,[{provide:Ja,useExisting:vu},{provide:Go,useExisting:le}])}const Ki=new H.OlP("ROUTER_FORROOT_GUARD"),Xa=[p.Ye,{provide:Dt,useClass:ut},Lo,Co,{provide:no,useFactory:function Ji(le){return le.routerState.root},deps:[Lo]},yn,[]];function _o(){return new H.PXZ("Router",Lo)}let Ka=(()=>{var le;class ye{constructor(ce){}static forRoot(ce,Ee){return{ngModule:ye,providers:[Xa,[],{provide:Qt,multi:!0,useValue:ce},{provide:Ki,useFactory:ea,deps:[[Lo,new H.FiY,new H.tp0]]},{provide:vo,useValue:Ee||{}},null!=Ee&&Ee.useHash?{provide:p.S$,useClass:p.Do}:{provide:p.S$,useClass:p.b0},{provide:ls,useFactory:()=>{const le=(0,H.f3M)(p.EM),ye=(0,H.f3M)(H.R0b),be=(0,H.f3M)(vo),ce=(0,H.f3M)(Wn),Ee=(0,H.f3M)(Dt);return be.scrollOffset&&le.setOffset(be.scrollOffset),new Zi(Ee,ce,le,ye,be)}},null!=Ee&&Ee.preloadingStrategy?xu(Ee.preloadingStrategy).\u0275providers:[],{provide:H.PXZ,multi:!0,useFactory:_o},null!=Ee&&Ee.initialNavigation?Eu(Ee):[],null!=Ee&&Ee.bindToComponentInputs?us(8,[ro,{provide:ur,useExisting:ro}]).\u0275providers:[],[{provide:Cu,useFactory:bu},{provide:H.tb,multi:!0,useExisting:Cu}]]}}static forChild(ce){return{ngModule:ye,providers:[{provide:Qt,multi:!0,useValue:ce}]}}}return(le=ye).\u0275fac=function(ce){return new(ce||le)(H.LFG(Ki,8))},le.\u0275mod=H.oAB({type:le}),le.\u0275inj=H.cJS({}),ye})();function ea(le){return"guarded"}function Eu(le){return["disabled"===le.initialNavigation?us(3,[{provide:H.ip1,multi:!0,useFactory:()=>{const ye=(0,H.f3M)(Lo);return()=>{ye.setUpLocationChangeListener()}}},{provide:Xi,useValue:2}]).\u0275providers:[],"enabledBlocking"===le.initialNavigation?us(2,[{provide:Xi,useValue:0},{provide:H.ip1,multi:!0,deps:[H.zs3],useFactory:ye=>{const be=ye.get(p.V_,Promise.resolve());return()=>be.then(()=>new Promise(ce=>{const Ee=ye.get(Lo),Ve=ye.get(qa);Va(Ee,()=>{ce(!0)}),ye.get(Wn).afterPreactivation=()=>(ce(!0),Ve.closed?(0,G.of)(void 0):Ve),Ee.initialNavigation()}))}}]).\u0275providers:[]]}const Cu=new H.OlP("")},1325:(nn,Et,me)=>{"use strict";me.d(Et,{Br:()=>dr,w:()=>N,We:()=>we,eh:()=>Re,dr:()=>Ge,oU:()=>We,cs:()=>rr,yp:()=>Ne,YG:()=>yt,Sm:()=>lt,nz:()=>cn,wI:()=>dn,W2:()=>tn,x4:()=>dt,fr:()=>Ae,jY:()=>ze,Gu:()=>mt,gu:()=>Dt,pK:()=>At,Ie:()=>Jt,rH:()=>gn,Q$:()=>ht,q_:()=>Nt,yh:()=>gt,yf:()=>Do,ki:()=>yo,d8:()=>ur,B7:()=>B,se:()=>Y,jP:()=>$r,Nd:()=>Xe,t9:()=>Cn,n0:()=>Yt,yq:()=>ir,ZU:()=>Cr,UN:()=>Nn,wd:()=>Gr,ho:()=>Lr,sr:()=>Sr,Pc:()=>eo,r4:()=>ss,HT:()=>Oo,IN:()=>Qr,SH:()=>kt,X1:()=>an,as:()=>Q,t4:()=>ot,U5:()=>T,QI:()=>K,j9:()=>se});var H=me(5861),j=me(9468),st=me(95),X=me(7582),r=me(2438),G=me(8645),O=me(5619),f=me(2572),m=me(2096),d=me(5877),y=me(1450),w=me(2181),b=me(4664),i=me(3997),l=me(6814),s=me(2364);const p=me(152).i,a=["*"],g=["outlet"],E=["tabsInner"],$=[[["","slot","top"]],"*"],k=["[slot=top]","*"];function M(re,Te){if(1&re&&(j.TgZ(0,"div",1),j.GkF(1,2),j.qZA()),2&re){const oe=j.oxw();j.xp6(1),j.Q6J("ngTemplateOutlet",oe.template)}}function A(re,Te){if(1&re&&j.GkF(0,1),2&re){const oe=j.oxw();j.Q6J("ngTemplateOutlet",oe.template)}}const L=re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(re):"function"==typeof requestAnimationFrame?requestAnimationFrame(re):setTimeout(re);let U=(()=>{class re{constructor(oe,xe){this.injector=oe,this.el=xe,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(oe){this.el.nativeElement.value=this.lastValue=oe,I(this.el)}handleValueChange(oe,xe){oe===this.el.nativeElement&&(xe!==this.lastValue&&(this.lastValue=xe,this.onChange(xe)),I(this.el))}_handleBlurEvent(oe){oe===this.el.nativeElement&&(this.onTouched(),I(this.el))}registerOnChange(oe){this.onChange=oe}registerOnTouched(oe){this.onTouched=oe}setDisabledState(oe){this.el.nativeElement.disabled=oe}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let oe;try{oe=this.injector.get(st.a5)}catch{}if(!oe)return;oe.statusChanges&&(this.statusChanges=oe.statusChanges.subscribe(()=>I(this.el)));const xe=oe.control;xe&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Zt=>{if(typeof xe[Zt]<"u"){const vn=xe[Zt].bind(xe);xe[Zt]=(...jn)=>{vn(...jn),I(this.el)}}})}}return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.zs3),j.Y36(j.SBq))},re.\u0275dir=j.lG2({type:re,hostBindings:function(oe,xe){1&oe&&j.NdJ("ionBlur",function(Zt){return xe._handleBlurEvent(Zt.target)})}}),re})();const I=re=>{L(()=>{const Te=re.nativeElement,oe=null!=Te.value&&Te.value.toString().length>0,xe=D(Te);R(Te,xe);const Je=Te.closest("ion-item");Je&&R(Je,oe?[...xe,"item-has-value"]:xe)})},D=re=>{const Te=re.classList,oe=[];for(let xe=0;xe<Te.length;xe++){const Je=Te.item(xe);null!==Je&&V(Je,"ng-")&&oe.push(`ion-${Je.substring(3)}`)}return oe},R=(re,Te)=>{const oe=re.classList;oe.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),oe.add(...Te)},V=(re,Te)=>re.substring(0,Te.length)===Te;let N=(()=>{class re extends U{constructor(oe,xe){super(oe,xe)}writeValue(oe){this.el.nativeElement.checked=this.lastValue=oe,I(this.el)}_handleIonChange(oe){this.handleValueChange(oe,oe.checked)}}return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.zs3),j.Y36(j.SBq))},re.\u0275dir=j.lG2({type:re,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(oe,xe){1&oe&&j.NdJ("ionChange",function(Zt){return xe._handleIonChange(Zt.target)})},features:[j._Bn([{provide:st.JU,useExisting:re,multi:!0}]),j.qOj]}),re})(),Q=(()=>{class re extends U{constructor(oe,xe){super(oe,xe)}handleInputEvent(oe){this.handleValueChange(oe,oe.value)}registerOnChange(oe){super.registerOnChange(xe=>{oe(""===xe?null:parseFloat(xe))})}}return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.zs3),j.Y36(j.SBq))},re.\u0275dir=j.lG2({type:re,selectors:[["ion-input","type","number"]],hostBindings:function(oe,xe){1&oe&&j.NdJ("ionInput",function(Zt){return xe.handleInputEvent(Zt.target)})},features:[j._Bn([{provide:st.JU,useExisting:re,multi:!0}]),j.qOj]}),re})(),T=(()=>{class re extends U{constructor(oe,xe){super(oe,xe)}_handleIonSelect(oe){this.handleValueChange(oe,oe.checked)}}return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.zs3),j.Y36(j.SBq))},re.\u0275dir=j.lG2({type:re,selectors:[["ion-radio"]],hostBindings:function(oe,xe){1&oe&&j.NdJ("ionSelect",function(Zt){return xe._handleIonSelect(Zt.target)})},features:[j._Bn([{provide:st.JU,useExisting:re,multi:!0}]),j.qOj]}),re})(),K=(()=>{class re extends U{constructor(oe,xe){super(oe,xe)}_handleChangeEvent(oe){this.handleValueChange(oe,oe.value)}}return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.zs3),j.Y36(j.SBq))},re.\u0275dir=j.lG2({type:re,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(oe,xe){1&oe&&j.NdJ("ionChange",function(Zt){return xe._handleChangeEvent(Zt.target)})},features:[j._Bn([{provide:st.JU,useExisting:re,multi:!0}]),j.qOj]}),re})(),se=(()=>{class re extends U{constructor(oe,xe){super(oe,xe)}_handleInputEvent(oe){this.handleValueChange(oe,oe.value)}}return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.zs3),j.Y36(j.SBq))},re.\u0275dir=j.lG2({type:re,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(oe,xe){1&oe&&j.NdJ("ionInput",function(Zt){return xe._handleInputEvent(Zt.target)})},features:[j._Bn([{provide:st.JU,useExisting:re,multi:!0}]),j.qOj]}),re})();const fe=(re,Te)=>{const oe=re.prototype;Te.forEach(xe=>{Object.defineProperty(oe,xe,{get(){return this.el[xe]},set(Je){this.z.runOutsideAngular(()=>this.el[xe]=Je)}})})},Ie=(re,Te)=>{const oe=re.prototype;Te.forEach(xe=>{oe[xe]=function(){const Je=arguments;return this.z.runOutsideAngular(()=>this.el[xe].apply(this.el,Je))}})},Z=(re,Te,oe)=>{oe.forEach(xe=>re[xe]=(0,r.R)(Te,xe))};function pe(re){return function(oe){const{defineCustomElementFn:xe,inputs:Je,methods:Zt}=re;return void 0!==xe&&xe(),Je&&fe(oe,Je),Zt&&Ie(oe,Zt),oe}}let we=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],re),re})(),Re=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionChange"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],re),re})(),Ge=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-app"]],ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({})],re),re})(),We=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],re),re})(),Ne=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","mode"]})],re),re})(),yt=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionFocus","ionBlur"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],re),re})(),lt=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["collapse"]})],re),re})(),cn=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionChange","ionFocus","ionBlur"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],re),re})(),dn=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],re),re})(),tn=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],re),re})(),dt=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],re),re})(),Ae=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["collapse","mode","translucent"]})],re),re})(),ze=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["fixed"]})],re),re})(),mt=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["collapse","mode","translucent"]})],re),re})(),Dt=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],re),re})(),At=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],re),re})(),Jt=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],re),re})(),gn=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","mode","sticky"]})],re),re})(),ht=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","mode","position"]})],re),re})(),Nt=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],re),re})(),gt=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","lines","mode"]})],re),re})(),B=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionFocus","ionBlur"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["alignment","color","disabled","justify","labelPlacement","legacy","mode","name","value"]})],re),re})(),Y=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionChange"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["allowEmptySelection","name","value"]})],re),re})(),Xe=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-row"]],ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({})],re),re})(),Cn=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],re),re})(),Yt=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["disabled","value"]})],re),re})(),ir=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","mode","selectedTab","translucent"]})],re),re})(),Cr=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],re),re})(),Gr=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","size"]})],re),re})(),Lr=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement,Z(this,this.el,["ionChange","ionFocus","ionBlur"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],re),re})(),Sr=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,oe.detach(),this.el=xe.nativeElement}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(oe,xe){1&oe&&(j.F$t(),j.Hsn(0))},encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["color","mode"]})],re),re})(),Fr=(()=>{class re{get(oe,xe){const Je=Be();return Je?Je.get(oe,xe):null}getBoolean(oe,xe){const Je=Be();return!!Je&&Je.getBoolean(oe,xe)}getNumber(oe,xe){const Je=Be();return Je?Je.getNumber(oe,xe):0}}return re.\u0275fac=function(oe){return new(oe||re)},re.\u0275prov=j.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})();const He=new j.OlP("USERCONFIG"),Be=()=>{if(typeof window<"u"){const re=window.Ionic;if(null!=re&&re.config)return re.config}return null};let ot=(()=>{class re{constructor(oe,xe){this.doc=oe,this.backButton=new G.x,this.keyboardDidShow=new G.x,this.keyboardDidHide=new G.x,this.pause=new G.x,this.resume=new G.x,this.resize=new G.x,xe.run(()=>{var Je;let Zt;this.win=oe.defaultView,this.backButton.subscribeWithPriority=function(vn,jn){return this.subscribe(Un=>Un.register(vn,Zn=>xe.run(()=>jn(Zn))))},Bt(this.pause,oe,"pause"),Bt(this.resume,oe,"resume"),Bt(this.backButton,oe,"ionBackButton"),Bt(this.resize,this.win,"resize"),Bt(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Bt(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(vn=>{Zt=vn}),null!==(Je=this.win)&&void 0!==Je&&Je.cordova?oe.addEventListener("deviceready",()=>{Zt("cordova")},{once:!0}):Zt("dom")})}is(oe){return(0,y.n$)(this.win,oe)}platforms(){return(0,y.AK)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(oe){return ft(this.win.location.href,oe)}isLandscape(){return!this.isPortrait()}isPortrait(){var oe,xe;return null===(oe=(xe=this.win).matchMedia)||void 0===oe?void 0:oe.call(xe,"(orientation: portrait)").matches}testUserAgent(oe){const xe=this.win.navigator;return!!(null!=xe&&xe.userAgent&&xe.userAgent.indexOf(oe)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return re.\u0275fac=function(oe){return new(oe||re)(j.LFG(l.K0),j.LFG(j.R0b))},re.\u0275prov=j.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})();const ft=(re,Te)=>{Te=Te.replace(/[[\]\\]/g,"\\$&");const xe=new RegExp("[\\?&]"+Te+"=([^&#]*)").exec(re);return xe?decodeURIComponent(xe[1].replace(/\+/g," ")):null},Bt=(re,Te,oe)=>{Te&&Te.addEventListener(oe,xe=>{re.next(null!=xe?xe.detail:void 0)})};let kt=(()=>{class re{constructor(oe,xe,Je,Zt){this.location=xe,this.serializer=Je,this.router=Zt,this.direction=ln,this.animated=Kt,this.guessDirection="forward",this.lastNavId=-1,Zt&&Zt.events.subscribe(vn=>{if(vn instanceof d.OD){const jn=vn.restoredState?vn.restoredState.navigationId:vn.id;this.guessDirection=jn<this.lastNavId?"back":"forward",this.guessAnimation=vn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?vn.id:jn}}),oe.backButton.subscribeWithPriority(0,vn=>{this.pop(),vn()})}navigateForward(oe,xe={}){return this.setDirection("forward",xe.animated,xe.animationDirection,xe.animation),this.navigate(oe,xe)}navigateBack(oe,xe={}){return this.setDirection("back",xe.animated,xe.animationDirection,xe.animation),this.navigate(oe,xe)}navigateRoot(oe,xe={}){return this.setDirection("root",xe.animated,xe.animationDirection,xe.animation),this.navigate(oe,xe)}back(oe={animated:!0,animationDirection:"back"}){return this.setDirection("back",oe.animated,oe.animationDirection,oe.animation),this.location.back()}pop(){var oe=this;return(0,H.Z)(function*(){let xe=oe.topOutlet;for(;xe;){if(yield xe.pop())return!0;xe=xe.parentOutlet}return!1})()}setDirection(oe,xe,Je,Zt){this.direction=oe,this.animated=qt(oe,xe,Je),this.animationBuilder=Zt}setTopOutlet(oe){this.topOutlet=oe}consumeTransition(){let xe,oe="root";const Je=this.animationBuilder;return"auto"===this.direction?(oe=this.guessDirection,xe=this.guessAnimation):(xe=this.animated,oe=this.direction),this.direction=ln,this.animated=Kt,this.animationBuilder=void 0,{direction:oe,animation:xe,animationBuilder:Je}}navigate(oe,xe){if(Array.isArray(oe))return this.router.navigate(oe,xe);{const Je=this.serializer.parse(oe.toString());return void 0!==xe.queryParams&&(Je.queryParams={...xe.queryParams}),void 0!==xe.fragment&&(Je.fragment=xe.fragment),this.router.navigateByUrl(Je,xe)}}}return re.\u0275fac=function(oe){return new(oe||re)(j.LFG(ot),j.LFG(l.Ye),j.LFG(d.Hx),j.LFG(d.F0,8))},re.\u0275prov=j.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})();const qt=(re,Te,oe)=>{if(!1!==Te){if(void 0!==oe)return oe;if("forward"===re||"back"===re)return re;if("root"===re&&!0===Te)return"forward"}},ln="auto",Kt=void 0;class an{constructor(Te={}){this.data=Te}get(Te){return this.data[Te]}}let bn=(()=>{class re{constructor(){this.zone=(0,j.f3M)(j.R0b),this.applicationRef=(0,j.f3M)(j.z2F)}create(oe,xe,Je){return new Ln(oe,xe,this.applicationRef,this.zone,Je)}}return re.\u0275fac=function(oe){return new(oe||re)},re.\u0275prov=j.Yz7({token:re,factory:re.\u0275fac}),re})();class Ln{constructor(Te,oe,xe,Je,Zt){this.environmentInjector=Te,this.injector=oe,this.applicationRef=xe,this.zone=Je,this.elementReferenceKey=Zt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Te,oe,xe,Je){return this.zone.run(()=>new Promise(Zt=>{const vn={...xe};void 0!==this.elementReferenceKey&&(vn[this.elementReferenceKey]=Te),Zt(Rn(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Te,oe,vn,Je,this.elementReferenceKey))}))}removeViewFromDom(Te,oe){return this.zone.run(()=>new Promise(xe=>{const Je=this.elRefMap.get(oe);if(Je){Je.destroy(),this.elRefMap.delete(oe);const Zt=this.elEventsMap.get(oe);Zt&&(Zt(),this.elEventsMap.delete(oe))}xe()}))}}const Rn=(re,Te,oe,xe,Je,Zt,vn,jn,Un,Zn,ao)=>{const Ro=j.zs3.create({providers:to(Un),parent:oe}),qr=(0,j.LMc)(jn,{environmentInjector:Te,elementInjector:Ro}),fo=qr.instance,ar=qr.location.nativeElement;if(Un&&(ao&&void 0!==fo[ao]&&console.error(`[Ionic Error]: ${ao} is a reserved property when using ${vn.tagName.toLowerCase()}. Rename or remove the "${ao}" property from ${jn.name}.`),Object.assign(fo,Un)),Zn)for(const x of Zn)ar.classList.add(x);const fr=Pr(re,fo,ar);return vn.appendChild(ar),xe.attachView(qr.hostView),Je.set(ar,qr),Zt.set(ar,fr),ar},Jn=[y.kx,y.re,y.EQ,y.Jd,y.F8],Pr=(re,Te,oe)=>re.run(()=>{const xe=Jn.filter(Je=>"function"==typeof Te[Je]).map(Je=>{const Zt=vn=>Te[Je](vn.detail);return oe.addEventListener(Je,Zt),()=>oe.removeEventListener(Je,Zt)});return()=>xe.forEach(Je=>Je())}),lr=new j.OlP("NavParamsToken"),to=re=>[{provide:lr,useValue:re},{provide:an,useFactory:po,deps:[lr]}],po=re=>new an(re),mo=(re,Te)=>((re=re.filter(oe=>oe.stackId!==Te.stackId)).push(Te),re),Hn=(re,Te)=>{const oe=re.createUrlTree(["."],{relativeTo:Te});return re.serializeUrl(oe)},Dr=(re,Te)=>!Te||re.stackId!==Te.stackId,vr=(re,Te)=>{if(!re)return;const oe=Xr(Te);for(let xe=0;xe<oe.length;xe++){if(xe>=re.length)return oe[xe];if(oe[xe]!==re[xe])return}},Xr=re=>re.split("/").map(Te=>Te.trim()).filter(Te=>""!==Te),Vr=re=>{re&&(re.ref.destroy(),re.unlistenEvents())};class es{constructor(Te,oe,xe,Je,Zt,vn){this.containerEl=oe,this.router=xe,this.navCtrl=Je,this.zone=Zt,this.location=vn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Te?Xr(Te):void 0}createView(Te,oe){var xe;const Je=Hn(this.router,oe),Zt=null==Te||null===(xe=Te.location)||void 0===xe?void 0:xe.nativeElement,vn=Pr(this.zone,Te.instance,Zt);return{id:this.nextId++,stackId:vr(this.tabsPrefix,Je),unlistenEvents:vn,element:Zt,ref:Te,url:Je}}getExistingView(Te){const oe=Hn(this.router,Te),xe=this.views.find(Je=>Je.url===oe);return xe&&xe.ref.changeDetectorRef.reattach(),xe}setActive(Te){var oe,xe;const Je=this.navCtrl.consumeTransition();let{direction:Zt,animation:vn,animationBuilder:jn}=Je;const Un=this.activeView,Zn=Dr(Te,Un);Zn&&(Zt="back",vn=void 0);const ao=this.views.slice();let Ro;const qr=this.router;qr.getCurrentNavigation?Ro=qr.getCurrentNavigation():null!==(oe=qr.navigations)&&void 0!==oe&&oe.value&&(Ro=qr.navigations.value),null!==(xe=Ro)&&void 0!==xe&&null!==(xe=xe.extras)&&void 0!==xe&&xe.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const fo=this.views.includes(Te),ar=this.insertView(Te,Zt);fo||Te.ref.changeDetectorRef.detectChanges();const fr=Te.animationBuilder;return void 0===jn&&"back"===Zt&&!Zn&&void 0!==fr&&(jn=fr),Un&&(Un.animationBuilder=jn),this.zone.runOutsideAngular(()=>this.wait(()=>(Un&&Un.ref.changeDetectorRef.detach(),Te.ref.changeDetectorRef.reattach(),this.transition(Te,Un,vn,this.canGoBack(1),!1,jn).then(()=>Zo(Te,ar,ao,this.location,this.zone)).then(()=>({enteringView:Te,direction:Zt,animation:vn,tabSwitch:Zn})))))}canGoBack(Te,oe=this.getActiveStackId()){return this.getStack(oe).length>Te}pop(Te,oe=this.getActiveStackId()){return this.zone.run(()=>{const xe=this.getStack(oe);if(xe.length<=Te)return Promise.resolve(!1);const Je=xe[xe.length-Te-1];let Zt=Je.url;const vn=Je.savedData;if(vn){var jn;const Zn=vn.get("primary");null!=Zn&&null!==(jn=Zn.route)&&void 0!==jn&&null!==(jn=jn._routerState)&&void 0!==jn&&jn.snapshot.url&&(Zt=Zn.route._routerState.snapshot.url)}const{animationBuilder:Un}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Zt,{...Je.savedExtras,animation:Un}).then(()=>!0)})}startBackTransition(){const Te=this.activeView;if(Te){const oe=this.getStack(Te.stackId),xe=oe[oe.length-2],Je=xe.animationBuilder;return this.wait(()=>this.transition(xe,Te,"back",this.canGoBack(2),!0,Je))}return Promise.resolve()}endBackTransition(Te){Te?(this.skipTransition=!0,this.pop(1)):this.activeView&&no(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Te){const oe=this.getStack(Te);return oe.length>0?oe[oe.length-1]:void 0}getRootUrl(Te){const oe=this.getStack(Te);return oe.length>0?oe[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Vr),this.activeView=void 0,this.views=[]}getStack(Te){return this.views.filter(oe=>oe.stackId===Te)}insertView(Te,oe){return this.activeView=Te,this.views=((re,Te,oe)=>"root"===oe?mo(re,Te):"forward"===oe?((re,Te)=>(re.indexOf(Te)>=0?re=re.filter(xe=>xe.stackId!==Te.stackId||xe.id<=Te.id):re.push(Te),re))(re,Te):((re,Te)=>re.indexOf(Te)>=0?re.filter(xe=>xe.stackId!==Te.stackId||xe.id<=Te.id):mo(re,Te))(re,Te))(this.views,Te,oe),this.views.slice()}transition(Te,oe,xe,Je,Zt,vn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(oe===Te)return Promise.resolve(!1);const jn=Te?Te.element:void 0,Un=oe?oe.element:void 0,Zn=this.containerEl;return jn&&jn!==Un&&(jn.classList.add("ion-page"),jn.classList.add("ion-page-invisible"),jn.parentElement!==Zn&&Zn.appendChild(jn),Zn.commit)?Zn.commit(jn,Un,{duration:void 0===xe?0:void 0,direction:xe,showGoBack:Je,progressAnimation:Zt,animationBuilder:vn}):Promise.resolve(!1)}wait(Te){var oe=this;return(0,H.Z)(function*(){void 0!==oe.runningTask&&(yield oe.runningTask,oe.runningTask=void 0);const xe=oe.runningTask=Te();return xe.finally(()=>oe.runningTask=void 0),xe})()}}const Zo=(re,Te,oe,xe,Je)=>"function"==typeof requestAnimationFrame?new Promise(Zt=>{requestAnimationFrame(()=>{no(re,Te,oe,xe,Je),Zt()})}):Promise.resolve(),no=(re,Te,oe,xe,Je)=>{Je.run(()=>oe.filter(Zt=>!Te.includes(Zt)).forEach(Vr)),Te.forEach(Zt=>{const jn=xe.path().split("?")[0].split("#")[0];if(Zt!==re&&Zt.url!==jn){const Un=Zt.element;Un.setAttribute("aria-hidden","true"),Un.classList.add("ion-page-hidden"),Zt.ref.changeDetectorRef.detach()}})};let $r=(()=>{class re{constructor(oe,xe,Je,Zt,vn,jn,Un,Zn){this.parentOutlet=Zn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new O.X(null),this.activated=null,this._activatedRoute=null,this.name=d.eC,this.stackWillChange=new j.vpe,this.stackDidChange=new j.vpe,this.activateEvents=new j.vpe,this.deactivateEvents=new j.vpe,this.parentContexts=(0,j.f3M)(d.y6),this.location=(0,j.f3M)(j.s_b),this.environmentInjector=(0,j.f3M)(j.lqb),this.inputBinder=(0,j.f3M)(Kn,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,j.f3M)(Fr),this.navCtrl=(0,j.f3M)(kt),this.nativeEl=Zt.nativeElement,this.name=oe||d.eC,this.tabsPrefix="true"===xe?Hn(vn,Un):void 0,this.stackCtrl=new es(this.tabsPrefix,this.nativeEl,vn,this.navCtrl,jn,Je),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(oe){this.nativeEl.animation=oe}set animated(oe){this.nativeEl.animated=oe}set swipeGesture(oe){this._swipeGesture=oe,this.nativeEl.swipeHandler=oe?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:xe=>this.stackCtrl.endBackTransition(xe)}:void 0}ngOnDestroy(){var oe;this.stackCtrl.destroy(),null===(oe=this.inputBinder)||void 0===oe||oe.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const oe=this.getContext();null!=oe&&oe.route&&this.activateWith(oe.route,oe.injector)}new Promise(oe=>(0,y.hh)(this.nativeEl,oe)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(oe,xe){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const xe=this.getContext();this.activatedView.savedData=new Map(xe.children.contexts);const Je=this.activatedView.savedData.get("primary");if(Je&&xe.route&&(Je.route={...xe.route}),this.activatedView.savedExtras={},xe.route){const Zt=xe.route.snapshot;this.activatedView.savedExtras.queryParams=Zt.queryParams,this.activatedView.savedExtras.fragment=Zt.fragment}}const oe=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(oe)}}activateWith(oe,xe){var Je;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=oe;let Zt,vn=this.stackCtrl.getExistingView(oe);if(vn){Zt=this.activated=vn.ref;const Zn=vn.savedData;Zn&&(this.getContext().children.contexts=Zn),this.updateActivatedRouteProxy(Zt.instance,oe)}else{var jn;const Zn=oe._futureSnapshot,ao=this.parentContexts.getOrCreateContext(this.name).children,Ro=new O.X(null),qr=this.createActivatedRouteProxy(Ro,oe),fo=new go(qr,ao,this.location.injector),ar=null!==(jn=Zn.routeConfig.component)&&void 0!==jn?jn:Zn.component;Zt=this.activated=this.location.createComponent(ar,{index:this.location.length,injector:fo,environmentInjector:null!=xe?xe:this.environmentInjector}),Ro.next(Zt.instance),vn=this.stackCtrl.createView(this.activated,oe),this.proxyMap.set(Zt.instance,qr),this.currentActivatedRoute$.next({component:Zt.instance,activatedRoute:oe})}null===(Je=this.inputBinder)||void 0===Je||Je.bindActivatedRouteToOutletComponent(this),this.activatedView=vn,this.navCtrl.setTopOutlet(this);const Un=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:vn,tabSwitch:Dr(vn,Un)}),this.stackCtrl.setActive(vn).then(Zn=>{this.activateEvents.emit(Zt.instance),this.stackDidChange.emit(Zn)})}canGoBack(oe=1,xe){return this.stackCtrl.canGoBack(oe,xe)}pop(oe=1,xe){return this.stackCtrl.pop(oe,xe)}getLastUrl(oe){const xe=this.stackCtrl.getLastUrl(oe);return xe?xe.url:void 0}getLastRouteView(oe){return this.stackCtrl.getLastUrl(oe)}getRootView(oe){return this.stackCtrl.getRootUrl(oe)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(oe,xe){const Je=new d.gz;return Je._futureSnapshot=xe._futureSnapshot,Je._routerState=xe._routerState,Je.snapshot=xe.snapshot,Je.outlet=xe.outlet,Je.component=xe.component,Je._paramMap=this.proxyObservable(oe,"paramMap"),Je._queryParamMap=this.proxyObservable(oe,"queryParamMap"),Je.url=this.proxyObservable(oe,"url"),Je.params=this.proxyObservable(oe,"params"),Je.queryParams=this.proxyObservable(oe,"queryParams"),Je.fragment=this.proxyObservable(oe,"fragment"),Je.data=this.proxyObservable(oe,"data"),Je}proxyObservable(oe,xe){return oe.pipe((0,w.h)(Je=>!!Je),(0,b.w)(Je=>this.currentActivatedRoute$.pipe((0,w.h)(Zt=>null!==Zt&&Zt.component===Je),(0,b.w)(Zt=>Zt&&Zt.activatedRoute[xe]),(0,i.x)())))}updateActivatedRouteProxy(oe,xe){const Je=this.proxyMap.get(oe);if(!Je)throw new Error("Could not find activated route proxy for view");Je._futureSnapshot=xe._futureSnapshot,Je._routerState=xe._routerState,Je.snapshot=xe.snapshot,Je.outlet=xe.outlet,Je.component=xe.component,this.currentActivatedRoute$.next({component:oe,activatedRoute:xe})}}return re.\u0275fac=function(oe){return new(oe||re)(j.$8M("name"),j.$8M("tabs"),j.Y36(l.Ye),j.Y36(j.SBq),j.Y36(d.F0),j.Y36(j.R0b),j.Y36(d.gz),j.Y36(re,12))},re.\u0275dir=j.lG2({type:re,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),re})();class go{constructor(Te,oe,xe){this.route=Te,this.childContexts=oe,this.parent=xe}get(Te,oe){return Te===d.gz?this.route:Te===d.y6?this.childContexts:this.parent.get(Te,oe)}}const Kn=new j.OlP("");let wn=(()=>{class re{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(oe){this.unsubscribeFromRouteData(oe),this.subscribeToRouteData(oe)}unsubscribeFromRouteData(oe){var xe;null===(xe=this.outletDataSubscriptions.get(oe))||void 0===xe||xe.unsubscribe(),this.outletDataSubscriptions.delete(oe)}subscribeToRouteData(oe){const{activatedRoute:xe}=oe,Je=(0,f.a)([xe.queryParams,xe.params,xe.data]).pipe((0,b.w)(([Zt,vn,jn],Un)=>(jn={...Zt,...vn,...jn},0===Un?(0,m.of)(jn):Promise.resolve(jn)))).subscribe(Zt=>{if(!oe.isActivated||!oe.activatedComponentRef||oe.activatedRoute!==xe||null===xe.component)return void this.unsubscribeFromRouteData(oe);const vn=(0,j.qFp)(xe.component);if(vn)for(const{templateName:jn}of vn.inputs)oe.activatedComponentRef.setInput(jn,Zt[jn]);else this.unsubscribeFromRouteData(oe)});this.outletDataSubscriptions.set(oe,Je)}}return re.\u0275fac=function(oe){return new(oe||re)},re.\u0275prov=j.Yz7({token:re,factory:re.\u0275fac}),re})(),Nn=(()=>{class re{constructor(oe){this.navCtrl=oe,this.ionTabsWillChange=new j.vpe,this.ionTabsDidChange=new j.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:oe,tabSwitch:xe}){const Je=oe.stackId;xe&&void 0!==Je&&this.ionTabsWillChange.emit({tab:Je})}onStackDidChange({enteringView:oe,tabSwitch:xe}){const Je=oe.stackId;xe&&void 0!==Je&&(this.tabBar&&(this.tabBar.selectedTab=Je),this.ionTabsDidChange.emit({tab:Je}))}select(oe){const xe="string"==typeof oe,Je=xe?oe:oe.detail.tab,Zt=this.outlet.getActiveStackId()===Je,vn=`${this.outlet.tabsPrefix}/${Je}`;if(xe||oe.stopPropagation(),Zt){const jn=this.outlet.getActiveStackId(),Un=this.outlet.getLastRouteView(jn);if((null==Un?void 0:Un.url)===vn)return;const Zn=this.outlet.getRootView(Je);return this.navCtrl.navigateRoot(vn,{...Zn&&vn===Zn.url&&Zn.savedExtras,animated:!0,animationDirection:"back"})}{const jn=this.outlet.getLastRouteView(Je);return this.navCtrl.navigateRoot((null==jn?void 0:jn.url)||vn,{...null==jn?void 0:jn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(oe=>{const xe=oe.el.getAttribute("slot");xe!==this.tabBarSlot&&(this.tabBarSlot=xe,this.relocateTabBar())})}relocateTabBar(){const oe=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(oe):this.tabsInner.nativeElement.after(oe)}}return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(kt))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-tabs"]],contentQueries:function(oe,xe,Je){if(1&oe&&(j.Suo(Je,ir,5),j.Suo(Je,ir,4)),2&oe){let Zt;j.iGM(Zt=j.CRH())&&(xe.tabBar=Zt.first),j.iGM(Zt=j.CRH())&&(xe.tabBars=Zt)}},viewQuery:function(oe,xe){if(1&oe&&(j.Gf(g,5,$r),j.Gf(E,7,j.SBq)),2&oe){let Je;j.iGM(Je=j.CRH())&&(xe.outlet=Je.first),j.iGM(Je=j.CRH())&&(xe.tabsInner=Je.first)}},hostBindings:function(oe,xe){1&oe&&j.NdJ("ionTabButtonClick",function(Zt){return xe.select(Zt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:k,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(oe,xe){1&oe&&(j.F$t($),j.Hsn(0),j.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),j.NdJ("stackWillChange",function(Zt){return xe.onStackWillChange(Zt)})("stackDidChange",function(Zt){return xe.onStackDidChange(Zt)}),j.qZA()(),j.Hsn(5,1))},dependencies:[$r],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),re})(),rr=(()=>{class re{constructor(oe,xe,Je){this.routerOutlet=oe,this.navCtrl=xe,this.config=Je}onClick(oe){var xe;const Je=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(xe=this.routerOutlet)&&void 0!==xe&&xe.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),oe.preventDefault()):null!=Je&&(this.navCtrl.navigateBack(Je,{animation:this.routerAnimation}),oe.preventDefault())}}return re.\u0275fac=function(oe){return new(oe||re)(j.Y36($r,8),j.Y36(kt),j.Y36(Fr))},re.\u0275dir=j.lG2({type:re,selectors:[["ion-back-button"]],hostBindings:function(oe,xe){1&oe&&j.NdJ("click",function(Zt){return xe.onClick(Zt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),re})(),yo=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,this.isCmpOpen=!1,this.el=xe.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,oe.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,oe.detectChanges()}),Z(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-modal"]],contentQueries:function(oe,xe,Je){if(1&oe&&j.Suo(Je,j.Rgc,5),2&oe){let Zt;j.iGM(Zt=j.CRH())&&(xe.template=Zt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(oe,xe){1&oe&&j.YNc(0,M,2,1,"div",0),2&oe&&j.Q6J("ngIf",xe.isCmpOpen||xe.keepContentsMounted)},dependencies:[l.O5,l.tP],encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],re),re})(),ur=(()=>{let re=class{constructor(oe,xe,Je){this.z=Je,this.isCmpOpen=!1,this.el=xe.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,oe.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,oe.detectChanges()}),Z(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return re.\u0275fac=function(oe){return new(oe||re)(j.Y36(j.sBO),j.Y36(j.SBq),j.Y36(j.R0b))},re.\u0275cmp=j.Xpm({type:re,selectors:[["ion-popover"]],contentQueries:function(oe,xe,Je){if(1&oe&&j.Suo(Je,j.Rgc,5),2&oe){let Zt;j.iGM(Zt=j.CRH())&&(xe.template=Zt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(oe,xe){1&oe&&j.YNc(0,A,1,1,"ng-container",0),2&oe&&j.Q6J("ngIf",xe.isCmpOpen||xe.keepContentsMounted)},dependencies:[l.O5,l.tP],encapsulation:2,changeDetection:0}),re=(0,X.gn)([pe({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],re),re})();const ro={provide:st.Cf,useExisting:(0,j.Gpc)(()=>So),multi:!0};let So=(()=>{class re extends st.Fd{}return re.\u0275fac=function(){let Te;return function(xe){return(Te||(Te=j.n5z(re)))(xe||re)}}(),re.\u0275dir=j.lG2({type:re,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(oe,xe){2&oe&&j.uIk("max",xe._enabled?xe.max:null)},features:[j._Bn([ro]),j.qOj]}),re})();const $n={provide:st.Cf,useExisting:(0,j.Gpc)(()=>Do),multi:!0};let Do=(()=>{class re extends st.qQ{}return re.\u0275fac=function(){let Te;return function(xe){return(Te||(Te=j.n5z(re)))(xe||re)}}(),re.\u0275dir=j.lG2({type:re,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(oe,xe){2&oe&&j.uIk("min",xe._enabled?xe.min:null)},features:[j._Bn([$n]),j.qOj]}),re})();class No{constructor(Te){this.ctrl=Te}create(Te){return this.ctrl.create(Te||{})}dismiss(Te,oe,xe){return this.ctrl.dismiss(Te,oe,xe)}getTop(){return this.ctrl.getTop()}}let dr=(()=>{class re extends No{constructor(){super(y.Cl)}}return re.\u0275fac=function(oe){return new(oe||re)},re.\u0275prov=j.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),Oo=(()=>{class re extends No{constructor(){super(y.G0)}}return re.\u0275fac=function(oe){return new(oe||re)},re.\u0275prov=j.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),Qr=(()=>{class re extends No{constructor(){super(y.Fy),this.angularDelegate=(0,j.f3M)(bn),this.injector=(0,j.f3M)(j.zs3),this.environmentInjector=(0,j.f3M)(j.lqb)}create(oe){return super.create({...oe,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return re.\u0275fac=function(oe){return new(oe||re)},re.\u0275prov=j.Yz7({token:re,factory:re.\u0275fac}),re})(),Wo=(()=>{class re extends No{constructor(){super(y.oq),this.angularDelegate=(0,j.f3M)(bn),this.injector=(0,j.f3M)(j.zs3),this.environmentInjector=(0,j.f3M)(j.lqb)}create(oe){return super.create({...oe,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return re.\u0275fac=function(oe){return new(oe||re)},re.\u0275prov=j.Yz7({token:re,factory:re.\u0275fac}),re})();class ss{shouldDetach(Te){return!1}shouldAttach(Te){return!1}store(Te,oe){}retrieve(Te){return null}shouldReuseRoute(Te,oe){if(Te.routeConfig!==oe.routeConfig)return!1;const xe=Te.params,Je=oe.params,Zt=Object.keys(xe),vn=Object.keys(Je);if(Zt.length!==vn.length)return!1;for(const jn of Zt)if(Je[jn]!==xe[jn])return!1;return!0}}const co=(re,Te,oe)=>()=>{if(Te.defaultView&&typeof window<"u"){(0,y.qc)({...re,_zoneGate:Zt=>oe.run(Zt)});const Je="__zone_symbol__addEventListener"in Te.body?"__zone_symbol__addEventListener":"addEventListener";return function h(){var re=[];if(typeof window<"u"){var Te=window;(!Te.customElements||Te.Element&&(!Te.Element.prototype.closest||!Te.Element.prototype.matches||!Te.Element.prototype.remove||!Te.Element.prototype.getRootNode))&&re.push(me.e(6748).then(me.t.bind(me,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Te.NodeList&&!Te.NodeList.prototype.forEach||!Te.fetch||!function(){try{var xe=new URL("b","http://a");return xe.pathname="c%20d","http://a/c%20d"===xe.href&&xe.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&re.push(me.e(2214).then(me.t.bind(me,2668,23)))}return Promise.all(re)}().then(()=>((re,Te)=>{if(!(typeof window>"u"))return p(),(0,s.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),Te)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:L,jmp:Zt=>oe.runOutsideAngular(Zt),ael(Zt,vn,jn,Un){Zt[Je](vn,jn,Un)},rel(Zt,vn,jn,Un){Zt.removeEventListener(vn,jn,Un)}}))}};let eo=(()=>{class re{static forRoot(oe){return{ngModule:re,providers:[{provide:He,useValue:oe},{provide:j.ip1,useFactory:co,multi:!0,deps:[He,l.K0,j.R0b]},{provide:Kn,useFactory:ko,deps:[d.F0]}]}}}return re.\u0275fac=function(oe){return new(oe||re)},re.\u0275mod=j.oAB({type:re}),re.\u0275inj=j.cJS({providers:[bn,Qr,Wo],imports:[l.ez]}),re})();function ko(re){return null!=re&&re.componentInputBindingEnabled?new wn:null}},9761:(nn,Et,me)=>{"use strict";me.d(Et,{Z:()=>st});var H=me(5861);const j={};j.write=function(){var X=(0,H.Z)(function*(r){yield navigator.clipboard.writeText(r)});return function(r){return X.apply(this,arguments)}}(),j.read=(0,H.Z)(function*(){return navigator.clipboard.readText()}),j.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")},j.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};const st=j},5861:(nn,Et,me)=>{"use strict";function H(st,X,r,G,O,f,m){try{var d=st[f](m),y=d.value}catch(w){return void r(w)}d.done?X(y):Promise.resolve(y).then(G,O)}function j(st){return function(){var X=this,r=arguments;return new Promise(function(G,O){var f=st.apply(X,r);function m(y){H(f,G,O,m,d,"next",y)}function d(y){H(f,G,O,m,d,"throw",y)}m(void 0)})}}me.d(Et,{Z:()=>j})},7582:(nn,Et,me)=>{"use strict";me.d(Et,{FC:()=>g,KL:()=>$,ZT:()=>j,gn:()=>r,mG:()=>w,qq:()=>a});var H=function(T,K){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,fe){se.__proto__=fe}||function(se,fe){for(var Ie in fe)Object.prototype.hasOwnProperty.call(fe,Ie)&&(se[Ie]=fe[Ie])})(T,K)};function j(T,K){if("function"!=typeof K&&null!==K)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function se(){this.constructor=T}H(T,K),T.prototype=null===K?Object.create(K):(se.prototype=K.prototype,new se)}function r(T,K,se,fe){var ie,Ie=arguments.length,Z=Ie<3?K:null===fe?fe=Object.getOwnPropertyDescriptor(K,se):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(T,K,se,fe);else for(var pe=T.length-1;pe>=0;pe--)(ie=T[pe])&&(Z=(Ie<3?ie(Z):Ie>3?ie(K,se,Z):ie(K,se))||Z);return Ie>3&&Z&&Object.defineProperty(K,se,Z),Z}function w(T,K,se,fe){return new(se||(se=Promise))(function(Z,ie){function pe($e){try{Re(fe.next($e))}catch(Fe){ie(Fe)}}function we($e){try{Re(fe.throw($e))}catch(Fe){ie(Fe)}}function Re($e){$e.done?Z($e.value):function Ie(Z){return Z instanceof se?Z:new se(function(ie){ie(Z)})}($e.value).then(pe,we)}Re((fe=fe.apply(T,K||[])).next())})}function a(T){return this instanceof a?(this.v=T,this):new a(T)}function g(T,K,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,fe=se.apply(T,K||[]),Z=[];return Ie={},ie("next"),ie("throw"),ie("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function ie(Ge){fe[Ge]&&(Ie[Ge]=function(je){return new Promise(function(We,Ye){Z.push([Ge,je,We,Ye])>1||pe(Ge,je)})})}function pe(Ge,je){try{!function we(Ge){Ge.value instanceof a?Promise.resolve(Ge.value.v).then(Re,$e):Fe(Z[0][2],Ge)}(fe[Ge](je))}catch(We){Fe(Z[0][3],We)}}function Re(Ge){pe("next",Ge)}function $e(Ge){pe("throw",Ge)}function Fe(Ge,je){Ge(je),Z.shift(),Z.length&&pe(Z[0][0],Z[0][1])}}function $(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,K=T[Symbol.asyncIterator];return K?K.call(T):(T=function h(T){var K="function"==typeof Symbol&&Symbol.iterator,se=K&&T[K],fe=0;if(se)return se.call(T);if(T&&"number"==typeof T.length)return{next:function(){return T&&fe>=T.length&&(T=void 0),{value:T&&T[fe++],done:!T}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}(T),se={},fe("next"),fe("throw"),fe("return"),se[Symbol.asyncIterator]=function(){return this},se);function fe(Z){se[Z]=T[Z]&&function(ie){return new Promise(function(pe,we){!function Ie(Z,ie,pe,we){Promise.resolve(we).then(function(Re){Z({value:Re,done:pe})},ie)}(pe,we,(ie=T[Z](ie)).done,ie.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},nn=>{nn(nn.s=8888)}]);