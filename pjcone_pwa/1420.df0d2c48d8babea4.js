"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1420],{1420:(Z,g,n)=>{n.r(g),n.d(g,{DedicatedSettingsPageModule:()=>A});var u=n(9808),l=n(4182),a=n(3996),c=n(9705),h=n(6505),e=n(9863),f=n(2443),v=n(4606),m=n(5742);const p=[{path:"",component:(()=>{class i{constructor(s,t,r){this.server=s,this.statusBar=t,this.lang=r,this.addresses=this.lang.text.UseAsServer.LoadingAddresses,this.block={groupchat:!1,webremote:!1}}ngOnInit(){new h(s=>{s.setup=()=>{s.loadStrings(`assets/data/infos/${this.lang.lang}/dedicated.txt`,t=>{this.info=t.join("\n"),s.remove()},t=>{console.error("\uc0ac\uc124\uc11c\ubc84 \uc124\uc815 \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",t),s.remove()})}}),this.server.funcs.onCheck=s=>{let t=Object.keys(s),r=[];t.forEach(d=>{s[d].ipv4Addresses.length&&s[d].ipv4Addresses.forEach(b=>{r.push(`${b} (${d})`)})}),this.addresses=r.length?r.join("\n"):this.lang.text.UseAsServer.NoAddress},this.server.check_addresses()}block_button(s){this.block[s]=!0,setTimeout(()=>{this.block[s]=!1},2e3)}start_minimalserver(){"offline"==this.statusBar.dedicated.official.groupchat?(this.block_button("groupchat"),this.statusBar.settings.dedicatedServer="pending",this.statusBar.dedicated.official.groupchat="pending",this.server.funcs.onStart=()=>{this.statusBar.settings.dedicatedServer="online",this.statusBar.dedicated.official.groupchat="online"},this.server.funcs.onFailed=()=>{this.statusBar.settings.dedicatedServer="missing",this.statusBar.dedicated.official.groupchat="missing",setTimeout(()=>{this.statusBar.settings.dedicatedServer="offline",this.statusBar.dedicated.official.groupchat="offline"},1500)},this.server.initialize()):(this.block_button("groupchat"),this.server.stop())}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(f.A),e.Y36(v.g),e.Y36(m.b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dedicated-settings"]],decls:24,vars:11,consts:[["slot","start"],["defaultHref","settings"],["disabled","",1,"infobox",2,"height","250px",3,"ngModel","ngModelChange"],["color","medium"],[3,"click"],["disabled","",1,"infobox",2,"height","80px",3,"ngModel","ngModelChange"],["button","",3,"disabled","click"],[1,"additional_form","status_bar_single"],[1,"form_margin"]],template:function(s,t){1&s&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button",1),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),e._uU(9),e.qZA()(),e.TgZ(10,"textarea",2),e.NdJ("ngModelChange",function(d){return t.info=d}),e.qZA(),e.TgZ(11,"ion-list-header")(12,"ion-label",3),e._uU(13),e.qZA(),e.TgZ(14,"ion-button",4),e.NdJ("click",function(){return t.server.check_addresses()}),e._uU(15),e.qZA()(),e.TgZ(16,"textarea",5),e.NdJ("ngModelChange",function(d){return t.addresses=d}),e.qZA(),e.TgZ(17,"ion-item-divider")(18,"ion-label"),e._uU(19),e.qZA()(),e.TgZ(20,"ion-item",6),e.NdJ("click",function(){return t.start_minimalserver()}),e._UZ(21,"div",7),e.TgZ(22,"ion-label",8),e._uU(23),e.qZA()()()),2&s&&(e.xp6(3),e.Oqu(t.lang.text.UseAsServer.Title),e.xp6(6),e.Oqu(t.lang.text.UseAsServer.UserNotice),e.xp6(1),e.Q6J("ngModel",t.info),e.xp6(3),e.Oqu(t.lang.text.UseAsServer.ThisDeviceAddress),e.xp6(2),e.Oqu(t.lang.text.UseAsServer.RefreshAddress),e.xp6(1),e.Q6J("ngModel",t.addresses),e.xp6(3),e.Oqu(t.lang.text.UseAsServer.DedicatedServer),e.xp6(1),e.Q6J("disabled",t.block.groupchat),e.xp6(1),e.Akn("background-color: "+t.statusBar.colors[t.statusBar.dedicated.official.groupchat]),e.xp6(2),e.Oqu(t.lang.text.UseAsServer.CustomGroupChat))},directives:[a.Gu,a.sr,a.wd,a.Sm,a.oU,a.cs,a.W2,a.rH,a.Q$,l.Fj,l.JJ,l.On,a.yh,a.YG,a.Ie],styles:[""]}),i})()}];let S=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[c.Bz.forChild(p)],c.Bz]}),i})(),A=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez,l.u5,a.Pc,S]]}),i})()}}]);