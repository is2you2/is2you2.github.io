"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7376],{6720:(G,b,a)=>{a.d(b,{w:()=>c});const c={FRONT:"front",BACK:"back"}},9892:(G,b,a)=>{a.d(b,{c:()=>t});var e=a(4496),E=a(9240),c=a(5624),S=a(4500),R=a(7136),O=a(1368),P=a(4716);function C(l,p){if(1&l&&(e.I0R(0,"span"),e.OEk(1),e.C$Y()),2&l){const u=e.GaO().$implicit;e.yG2(),e.oRS(" ",u.text," ")}}function v(l,p){if(1&l&&(e.I0R(0,"a",8),e.OEk(1),e.C$Y()),2&l){const u=e.GaO().$implicit;e.E7m("href",u.text,e.K6U),e.yG2(),e.cNF(u.text)}}function I(l,p){if(1&l&&(e.I0R(0,"span"),e.yuY(1,C,2,1,"span",6)(2,v,2,2,"a",7),e.C$Y()),2&l){const u=p.$implicit;e.yG2(),e.E7m("ngIf",!u.href),e.yG2(),e.E7m("ngIf",u.href)}}function k(l,p){if(1&l&&(e.I0R(0,"div"),e.yuY(1,I,3,2,"span",5),e.C$Y()),2&l){const u=p.$implicit;e.yG2(),e.E7m("ngForOf",u)}}let t=(()=>{var l;class p{constructor(_,d,g,f){this.navParams=_,this.modalCtrl=d,this.lang=g,this.nakama=f,this.info="QR\ucf54\ub4dc \ub610\ub294 \ubc14\ucf54\ub4dc\ub97c \uc778\uc2dd\ud558\uc600\uc73c\ub098 \uc774 \uc571\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uad6c\uc131\uc774 \uc544\ub2d9\ub2c8\ub2e4.",this.result={}}ngOnInit(){this.result=this.navParams.get("result"),this.result.text=this.result.content.split("\n");for(let _=0,d=this.result.text.length;_<d;_++){this.result.text[_]=this.result.text[_].split(" ");for(let g=0,f=this.result.text[_].length;g<f;g++){let y={};y.href=0==this.result.text[_][g].indexOf("http://")||0==this.result.text[_][g].indexOf("https://"),y.text=this.result.text[_][g],this.result.text[_][g]=y}}}}return(l=p).\u0275fac=function(_){return new(_||l)(e.GI1(E.a6),e.GI1(c.qS),e.GI1(S.o),e.GI1(R.h))},l.\u0275cmp=e.In1({type:l,selectors:[["app-qrelse"]],decls:23,vars:6,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref","subscribes"],["disabled","",1,"infobox",3,"ngModel","ngModelChange"],[1,"infobox","content_form"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_system",3,"href",4,"ngIf"],["target","_system",3,"href"]],template:function(_,d){1&_&&(e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.OEk(3,"\ub0b4\uc6a9 \uc77d\uae30"),e.C$Y(),e.I0R(4,"ion-buttons",1),e.qCj("click",function(){return d.modalCtrl.dismiss()}),e.wR5(5,"ion-back-button",2),e.C$Y()()(),e.I0R(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),e.OEk(9),e.C$Y()(),e.I0R(10,"textarea",3),e.iHE("ngModelChange",function(f){return e.kNx(d.lang.text.QRElse.info,f)||(d.lang.text.QRElse.info=f),f}),e.C$Y(),e.wR5(11,"ion-item-divider"),e.I0R(12,"ion-item")(13,"ion-label")(14,"p"),e.OEk(15),e.C$Y(),e.I0R(16,"h2"),e.OEk(17),e.C$Y()()(),e.I0R(18,"ion-item-divider")(19,"ion-label"),e.OEk(20),e.C$Y()(),e.I0R(21,"div",4),e.yuY(22,k,2,1,"div",5),e.C$Y()()),2&_&&(e.yG2(9),e.cNF(d.lang.text.QRElse.Title),e.yG2(),e.OKB("ngModel",d.lang.text.QRElse.info),e.yG2(5),e.cNF(d.lang.text.QRElse.format),e.yG2(2),e.cNF(d.result.format),e.yG2(3),e.cNF(d.lang.text.QRElse.contents),e.yG2(2),e.E7m("ngForOf",d.result.text))},dependencies:[O.ay,O.u_,P.ot,P.ue,P._G,c.GS,c._i,c.wB,c.Yb,c.S8,c.QR,c.tM,c.Md,c.Im],styles:[".content_form[_ngcontent-%COMP%]{background-color:var(--ion-color-light);overflow-y:auto}"]}),p})()},7376:(G,b,a)=>{a.r(b),a.d(b,{SubscribesPageModule:()=>w});var e=a(1368),E=a(4716),c=a(5624),S=a(3332),R=a(1528),O=a(6400);a(6720);const C=(0,O.C_)("BarcodeScanner",{web:()=>a.e(8456).then(a.bind(a,8456)).then(n=>new n.BarcodeScannerWeb)});var v=a(5193),I=a(9492),k=a(9892),t=a(4496),l=a(9240),p=a(3824),u=a(7136),_=a(4180),d=a(4500),g=a(5020),f=a(4668);function y(n,r){if(1&n){const o=t.KQA();t.I0R(0,"div",6),t.qCj("click",function(){t.usT(o);const s=t.GaO();return t.CGJ(s.scanQRCode())}),t.wR5(1,"ion-icon",7),t.C$Y()}}function T(n,r){if(1&n){const o=t.KQA();t.I0R(0,"ion-item",9),t.qCj("click",function(){t.usT(o);const s=t.GaO().$implicit,m=t.GaO(3);return t.CGJ(m.check_notifications(s))}),t.I0R(1,"ion-label"),t.OEk(2),t.C$Y()()}if(2&n){const o=t.GaO().$implicit,i=t.GaO(3);t.yG2(2),t.cNF(i.nakama.notifications_rearrange[o].request)}}function A(n,r){if(1&n&&(t.I0R(0,"div"),t.yuY(1,T,3,1,"ion-item",18),t.C$Y()),2&n){const o=r.$implicit,i=t.GaO(3);t.yG2(),t.E7m("ngIf",i.nakama.notifications_rearrange.length>o)}}const D=()=>[0,1,2];function Y(n,r){if(1&n&&(t.I0R(0,"ion-accordion-group",12,13)(2,"ion-accordion",14)(3,"ion-item",15)(4,"ion-label"),t.OEk(5),t.C$Y()(),t.I0R(6,"div",16),t.yuY(7,A,2,1,"div",17),t.C$Y()()()),2&n){const o=t.GaO(2);t.E7m("value",!1),t.yG2(5),t.cNF(o.lang.text.Subscribes.has_noties),t.yG2(2),t.E7m("ngForOf",t.q4q(3,D))}}function $(n,r){1&n&&t.wR5(0,"div",25)}function F(n,r){if(1&n&&t.wR5(0,"img",11),2&n){const o=t.GaO().$implicit;t.m_g("online"==o.status||3==o.redirect.type&&"pending"==o.status?"filter: grayscale(0) contrast(1)":"filter: grayscale(.9) contrast(1.4)"),t.E7m("src",o.info.img,t.K6U)}}function B(n,r){if(1&n){const o=t.KQA();t.I0R(0,"ion-item",9),t.qCj("click",function(){const m=t.usT(o).$implicit,h=t.GaO(3);return t.CGJ(h.go_to_chatroom(m))}),t.I0R(1,"div",20),t.yuY(2,$,1,0,"div",21),t.C$Y(),t.I0R(3,"div",10),t.yuY(4,F,1,3,"img",22),t.C$Y(),t.I0R(5,"ion-label")(6,"div",23)(7,"table")(8,"tr")(9,"td"),t.OEk(10),t.C$Y()()()(),t.I0R(11,"div",24),t.OEk(12),t.C$Y()()()}if(2&n){const o=r.$implicit,i=t.GaO(3);t.yG2(),t.m_g("background-color: "+i.statusBar.colors[o.status||"offline"]),t.yG2(),t.E7m("ngIf",o.is_new),t.yG2(2),t.E7m("ngIf",o.info),t.yG2(6),t.oRS(" ",o.info?o.info.name||o.info.display_name||i.lang.text.ChatRoom.noname_chatroom:o.title||i.lang.text.ChatRoom.noname_chatroom," "),t.yG2(2),t.oRS(" ",o.last_comment||o.noti||i.lang.text.Subscribes.noMessageHistory," ")}}function Q(n,r){if(1&n&&(t.I0R(0,"div")(1,"ion-item-divider")(2,"ion-label"),t.OEk(3),t.C$Y()(),t.yuY(4,B,13,6,"ion-item",19),t.C$Y()),2&n){const o=t.GaO(2);t.yG2(3),t.cNF(o.lang.text.Subscribes.JoinedChannels),t.yG2(),t.E7m("ngForOf",o.nakama.channels)}}function K(n,r){if(1&n){const o=t.KQA();t.I0R(0,"div")(1,"div",26),t.qCj("click",function(){t.usT(o);const s=t.GaO(2);return t.CGJ(s.add_new_group())}),t.wR5(2,"ion-icon",27),t.I0R(3,"div")(4,"ion-label",28),t.OEk(5),t.C$Y()()()()}if(2&n){const o=t.GaO(2);t.yG2(5),t.cNF(o.lang.text.Subscribes.NoChat)}}function N(n,r){if(1&n){const o=t.KQA();t.I0R(0,"ion-content"),t.yuY(1,Y,8,4,"ion-accordion-group",8),t.I0R(2,"ion-item-divider")(3,"ion-label"),t.OEk(4),t.C$Y()(),t.I0R(5,"ion-item",9),t.qCj("click",function(){t.usT(o);const s=t.GaO();return t.CGJ(s.go_to_page("group-server"))}),t.I0R(6,"div",10),t.wR5(7,"img",11),t.C$Y(),t.I0R(8,"ion-label"),t.OEk(9),t.C$Y()(),t.yuY(10,Q,5,2,"div",5)(11,K,6,1,"div",5),t.C$Y()}if(2&n){const o=t.GaO();t.yG2(),t.E7m("ngIf",o.nakama.notifications_rearrange.length),t.yG2(3),t.cNF(o.lang.text.Subscribes.myProfile),t.yG2(3),t.m_g(o.nakama.users.self.online?"filter: grayscale(0) contrast(1);":"filter: grayscale(.9) contrast(1.4);"),t.E7m("src",o.nakama.users.self.img,t.K6U),t.yG2(2),t.cNF(o.nakama.users.self.display_name||o.lang.text.Profile.noname_user),t.yG2(),t.E7m("ngIf",o.nakama.channels.length),t.yG2(),t.E7m("ngIf",!o.nakama.channels.length)}}const U=[{path:"",component:(()=>{var n;class r{constructor(i,s,m,h,M,x,j,W){this.modalCtrl=i,this.p5toast=s,this.nakama=m,this.statusBar=h,this.lang=M,this.global=x,this.nav=j,this.indexed=W,this.cant_dedicated=!1,this.EventListenerAct=X=>{X.detail.register(110,J=>{J(),this.StopScan(),document.removeEventListener("ionBackButton",this.EventListenerAct)})},this.StartScan=!1,this.lock_chatroom=!1}ngOnInit(){this.indexed.loadTextFromUserPath("servers/self/profile.img",(i,s)=>{i&&s&&(this.nakama.users.self.img=s.replace(/"|=|\\/g,""))})}try_add_shortcut(){this.global.p5key&&this.global.p5key.KeyShortCut?this.AddShortcut():setTimeout(()=>{this.try_add_shortcut()},100)}AddShortcut(){this.global.p5key&&this.global.p5key.KeyShortCut&&(this.global.p5key.KeyShortCut.Backquote=()=>{this.go_to_page("group-server")},this.global.p5key.KeyShortCut.Digit=i=>{this.nakama.channels.length>i?this.go_to_chatroom(this.nakama.channels[i]):this.add_new_group()}),this.global.p5key&&this.global.p5key.KeyShortCut&&!this.global.p5key.KeyShortCut.AddAct&&(this.global.p5key.KeyShortCut.AddAct=()=>{this.add_new_group()})}ionViewDidEnter(){this.nakama.subscribe_lock=!0,this.nakama.resumeBanner(),("DesktopPWA"==v.s1||"MobilePWA"==v.s1)&&(this.cant_dedicated=!0),this.try_add_shortcut()}go_to_page(i){this.nav.navigateForward(`portal/settings/${i}`),this.nakama.removeBanner()}scanQRCode(){var i=this;return(0,R.c)(function*(){let s=yield C.checkPermission({force:!0});const m="\uc628\uc804\ud55c \ub3d9\uc791 \ud6c4 \uc885\ub8cc";document.addEventListener("ionBackButton",i.EventListenerAct);try{if(!s.granted||i.StartScan)throw"\uc2dc\uc791 \ubd88\uac00\uc0c1\ud0dc";i.StartScan=!0,document.querySelector("body").classList.add("scanner-active"),yield C.hideBackground();const h=yield C.startScan();if(h.hasContent)try{if(0!=h.content.trim().indexOf(`${v.uM}pjcone_pwa/?`))throw"\uc8fc\uc18c \uc2dc\uc791\uc774 \ub2e4\ub984";yield i.nakama.AddressToQRCodeAct(i.global.CatchGETs(h.content.trim()))}catch{i.modalCtrl.create({component:k.c,componentProps:{result:h}}).then(x=>x.present())}throw m}catch(h){h!=m&&i.p5toast.show({text:i.lang.text.Subscribes.CameraPermissionDenied}),i.StopScan()}document.removeEventListener("ionBackButton",i.EventListenerAct)})()}StopScan(){this.StartScan=!1,document.querySelector("body").classList.remove("scanner-active"),C.showBackground(),C.stopScan()}go_to_chatroom(i){this.lock_chatroom||(this.lock_chatroom=!0,this.nakama.go_to_chatroom_without_admob_act(i),("online"!=i.status||"pending"!=i.status)&&delete i.is_new,this.lock_chatroom=!1)}check_notifications(i){let s=this.nakama.notifications_rearrange[i].server;this.nakama.check_notifications(this.nakama.notifications_rearrange[i],s.isOfficial,s.target)}add_new_group(){this.modalCtrl.create({component:I.s}).then(i=>{let s=this.global.p5key.KeyShortCut;this.global.p5key.KeyShortCut={},i.onDidDismiss().then(()=>{this.global.p5key.KeyShortCut=s,this.try_add_shortcut()}),i.present()})}ionViewWillLeave(){this.nakama.subscribe_lock=!1,delete this.global.p5key.KeyShortCut.Backquote,delete this.global.p5key.KeyShortCut.Digit,delete this.global.p5key.KeyShortCut.AddAct,this.StopScan()}}return(n=r).\u0275fac=function(i){return new(i||n)(t.GI1(c.qS),t.GI1(p.O),t.GI1(u.h),t.GI1(_.Y),t.GI1(d.o),t.GI1(g.A1),t.GI1(l.wX),t.GI1(f.k))},n.\u0275cmp=t.In1({type:n,selectors:[["app-subscribes"]],decls:9,vars:5,consts:[[1,"ion-no-border"],["class","qr_code_scan",3,"click",4,"ngIf"],[1,"add_group",3,"click"],["button","","name","add-circle-outline",2,"width","24px","height","24px"],[1,"header_online_circle",3,"click"],[4,"ngIf"],[1,"qr_code_scan",3,"click"],["name","scan-circle-outline",2,"width","24px","height","24px"],["value","colors","expand","inset",3,"value",4,"ngIf"],["button","",3,"click"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],["value","colors","expand","inset",3,"value"],["accordionGroup",""],["value","colors"],["slot","header"],["slot","content"],[4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],[1,"additional_form","status_bar_double"],["class","new_circle",4,"ngIf"],["class","profile_img",3,"style","src",4,"ngIf"],[1,"form_margin","header"],[1,"form_margin","content"],[1,"new_circle"],[1,"disconnect_info",3,"click"],["color","medium","name","chatbubble-ellipses-outline",2,"width","60px","height","60px"],["color","medium"]],template:function(i,s){1&i&&(t.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.OEk(3),t.C$Y(),t.yuY(4,y,2,0,"div",1),t.I0R(5,"div",2),t.qCj("click",function(){return s.add_new_group()}),t.wR5(6,"ion-icon",3),t.C$Y(),t.I0R(7,"div",4),t.qCj("click",function(){return s.nakama.toggle_all_session()}),t.C$Y()()(),t.yuY(8,N,12,8,"ion-content",5)),2&i&&(t.yG2(3),t.cNF(s.lang.text.Subscribes.Title),t.yG2(),t.E7m("ngIf",!s.cant_dedicated),t.yG2(3),t.m_g("background-color: "+s.statusBar.colors[s.statusBar.settings.groupServer]+"; cursor: pointer;"),t.yG2(),t.E7m("ngIf",!s.StartScan))},dependencies:[e.ay,e.u_,c.cm,c.qU,c._i,c.wB,c.Ko,c.Yb,c.S8,c.QR,c.tM,c.Md],styles:[".header[_ngcontent-%COMP%]{padding-bottom:4px}.content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle;padding:0 16px}.status_bar[_ngcontent-%COMP%]{width:5px;height:76%}.server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}.new_circle[_ngcontent-%COMP%]{position:relative;top:-5px;left:9px;width:8px;height:8px;border-radius:4px;background:#ff4961}.md[_ngcontent-%COMP%]   .qr_code_scan[_ngcontent-%COMP%]{position:absolute;right:116px;top:16px;cursor:pointer}.ios[_ngcontent-%COMP%]   .qr_code_scan[_ngcontent-%COMP%]{position:absolute;right:116px;top:10px;cursor:pointer}.md[_ngcontent-%COMP%]   .add_group[_ngcontent-%COMP%]{position:absolute;right:68px;top:16px;cursor:pointer}.ios[_ngcontent-%COMP%]   .add_group[_ngcontent-%COMP%]{position:absolute;right:68px;top:10px;cursor:pointer}"]}),r})()},{path:"chat-room",loadChildren:()=>Promise.all([a.e(7048),a.e(5929)]).then(a.bind(a,5929)).then(n=>n.ChatRoomPageModule)},{path:"qrelse",loadChildren:()=>a.e(6660).then(a.bind(a,6660)).then(n=>n.QRelsePageModule)}];let L=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({imports:[S.qQ.forChild(U),S.qQ]}),r})(),w=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({imports:[e.MD,E.y,c.wZ,L]}),r})()}}]);