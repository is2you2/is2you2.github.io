"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9745],{9745:(J,B,g)=>{g.d(B,{B:()=>ue});var a=g(5861),D=g(3641),v=g(9868),V=g(8049),U=g(9761),t=g(9468),h=g(1325),N=g(797),L=g(3857),C=g(2372),O=g(9376),u=g(5196),w=g(6052),k=g(9080),Z=g(4663),E=g(6814);const W=["ShowContentInfoIonic"];function K(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-icon",18),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.ChangeToAnother(-1))}),t.qZA()}}function G(l,m){if(1&l&&(t.TgZ(0,"ion-label",19),t._uU(1),t.qZA()),2&l){const n=t.oxw();t.xp6(1),t.Oqu(n.RelevanceIndex+" / "+n.Relevances.length)}}function j(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-icon",20),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.ChangeToAnother(1))}),t.qZA()}}function Q(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-button",21),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.close_text_edit())}),t._UZ(1,"ion-icon",22),t.qZA()}}function z(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-button",21),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.SaveText())}),t._UZ(1,"ion-icon",23),t.qZA()}}function X(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-button",24),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.DownloadAllListFiles())}),t._UZ(1,"ion-icon",25),t.qZA()}if(2&l){const n=t.oxw();t.Q6J("disabled",n.isDownloading||n.MessageInfo.content.transfer_index&&"download"==n.MessageInfo.content.transfer_index.OnTransfer)}}function ee(l,m){1&l&&(t.TgZ(0,"ion-button",26),t._UZ(1,"ion-icon",27),t.qZA())}function te(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-item",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.open_text_editor())}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&l){const n=t.oxw(3);t.xp6(2),t.Oqu(n.lang.text.ContentViewer.EditText)}}function ie(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-item",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.modify_image())}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&l){const n=t.oxw(3);t.xp6(2),t.Oqu(n.lang.text.ContentViewer.Edit)}}function ne(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-item",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.open_bottom_modal())}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&l){const n=t.oxw(3);t.xp6(2),t.Oqu(n.lang.text.ContentViewer.ContentInfo)}}function ae(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-item",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.download_file())}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&l){const n=t.oxw(3);t.xp6(2),t.Oqu(n.lang.text.ContentViewer.Download)}}function oe(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-item",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3);return t.KtG(i.RemoveFile())}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&l){const n=t.oxw(3);t.xp6(2),t.Oqu(n.lang.text.ContentViewer.RemoveFile)}}function le(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-content")(1,"ion-list"),t.YNc(2,te,3,1,"ion-item",29),t.YNc(3,ie,3,1,"ion-item",29),t.YNc(4,ne,3,1,"ion-item",29),t.TgZ(5,"ion-item",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.ShareContent())}),t.TgZ(6,"ion-label"),t._uU(7),t.qZA()(),t.YNc(8,ae,3,1,"ion-item",29),t.YNc(9,oe,3,1,"ion-item",29),t.qZA()()}if(2&l){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf","text"==n.FileInfo.viewer&&!n.HasNoEditButton),t.xp6(1),t.Q6J("ngIf","audio"!=n.FileInfo.viewer&&!n.HasNoEditButton),t.xp6(1),t.Q6J("ngIf",n.FileInfo.content_creator),t.xp6(3),t.Oqu(n.lang.text.ContentViewer.ShareContent),t.xp6(1),t.Q6J("ngIf",!n.FileInfo.url),t.xp6(1),t.Q6J("ngIf",n.OpenInChannelChat)}}function se(l,m){1&l&&(t.TgZ(0,"ion-popover",28),t.YNc(1,le,10,6,"ng-template"),t.qZA())}function re(l,m){1&l&&t._UZ(0,"div",33)}function ce(l,m){1&l&&t._UZ(0,"div",34)}function _e(l,m){if(1&l&&(t.TgZ(0,"td"),t.YNc(1,re,1,0,"div",31),t.YNc(2,ce,1,0,"div",32),t.qZA()),2&l){const n=t.oxw();t.xp6(1),t.Q6J("ngIf","pck"!=n.FileInfo.file_ext),t.xp6(1),t.Q6J("ngIf","pck"==n.FileInfo.file_ext)}}function de(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"td")(1,"ion-grid")(2,"ion-row",35)(3,"ion-col",36)(4,"ion-button",37),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.DownloadCurrentFile())}),t._uU(5),t.qZA()()()()()}if(2&l){const n=t.oxw();t.xp6(4),t.Q6J("disabled",n.isDownloading||n.MessageInfo.content.transfer_index&&"download"==n.MessageInfo.content.transfer_index.OnTransfer),t.xp6(1),t.hij(" ",n.MessageInfo.content.transfer_index&&"download"==n.MessageInfo.content.transfer_index.OnTransfer?n.lang.text.ContentViewer.FileDownloading:n.lang.text.ContentViewer.DownloadThisFile," ")}}function ge(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-item",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.copy_url(i.FileInfo.url))}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.TgZ(3,"ion-label",38),t._uU(4),t.qZA()()}if(2&l){const n=t.oxw(2);t.xp6(2),t.Oqu(n.lang.text.ContentInfo.SourceFrom),t.xp6(2),t.Oqu(n.content_creator.various_display)}}function fe(l,m){if(1&l&&(t.TgZ(0,"ion-item")(1,"ion-label"),t._uU(2),t.qZA(),t.TgZ(3,"ion-label",38),t._uU(4),t.qZA()()),2&l){const n=t.oxw(2);t.xp6(2),t.Oqu(n.lang.text.ContentInfo.FileSize),t.xp6(2),t.Oqu(n.CurrentFileSize)}}function he(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"div")(1,"ion-item-divider")(2,"div",41),t._uU(3),t.qZA()(),t.TgZ(4,"ion-item",30),t.NdJ("click",function(){const s=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.copy_url(s.user_id))}),t.TgZ(5,"ion-label"),t._uU(6),t.qZA(),t.TgZ(7,"ion-label",38),t._uU(8),t.qZA()(),t.TgZ(9,"ion-item",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.copy_url(i.FileInfo.url))}),t.TgZ(10,"ion-label"),t._uU(11),t.qZA(),t.TgZ(12,"ion-label",38),t._uU(13),t.qZA()()()}if(2&l){const n=m.$implicit,e=t.oxw(2);t.xp6(3),t.Oqu(n.timeDisplay),t.xp6(3),t.Oqu(e.lang.text.ContentInfo.Publisher),t.xp6(2),t.Oqu(n.publisher||n.display_name||e.lang.text.Profile.noname_user),t.xp6(3),t.Oqu(e.lang.text.ContentInfo.SourceFrom),t.xp6(2),t.Oqu(n.various_display)}}function me(l,m){if(1&l){const n=t.EpF();t.TgZ(0,"ion-content")(1,"ion-item-divider")(2,"ion-label"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-item",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.copy_url(i.content_creator.user_id))}),t.TgZ(5,"ion-label"),t._uU(6),t.qZA(),t.TgZ(7,"ion-label",38),t._uU(8),t.qZA()(),t.YNc(9,ge,5,2,"ion-item",29),t.YNc(10,fe,5,2,"ion-item",15),t.TgZ(11,"ion-item")(12,"ion-label"),t._uU(13),t.qZA(),t.TgZ(14,"ion-label",38),t._uU(15),t.qZA()(),t.YNc(16,he,14,5,"div",39),t.TgZ(17,"ion-item",30),t.NdJ("click",function(){t.CHM(n),t.oxw();const i=t.MAs(25);return t.KtG(i.dismiss())}),t.TgZ(18,"ion-label",40),t._uU(19),t.qZA()()()}if(2&l){const n=t.oxw();t.xp6(3),t.Oqu(n.lang.text.ContentInfo.WorkLogs),t.xp6(3),t.Oqu(n.lang.text.ContentInfo.LastPost),t.xp6(2),t.hij(" ",n.content_creator.publisher||n.content_creator.display_name||n.lang.text.Profile.noname_user,""),t.xp6(1),t.Q6J("ngIf",n.content_creator.various),t.xp6(1),t.Q6J("ngIf",!n.FileInfo.url),t.xp6(3),t.Oqu(n.lang.text.ContentInfo.TimeAt),t.xp6(2),t.Oqu(n.content_creator.timeDisplay),t.xp6(1),t.Q6J("ngForOf",n.content_related_creator),t.xp6(3),t.Oqu(n.lang.text.ContentInfo.CloseModal)}}const pe=function(){return[.5,1]};let ue=(()=>{var l;class m{constructor(e,i,s,c,_,p,o,r,x,y,b,I){this.modalCtrl=e,this.navParams=i,this.indexed=s,this.lang=c,this.file=_,this.p5toast=p,this.alertCtrl=o,this.loadingCtrl=r,this.fileOpener=x,this.global=y,this.nakama=b,this.mClipboard=I,this.useP5Navigator=!0,this.RelevanceIndex=0,this.HaveRelevances=!1,this.NeedDownloadFile=!1,this.isDownloading=!1,this.OpenInChannelChat=!1,this.isChannelOnline=!0,this.EventListenerAct=P=>{P.detail.register(120,R=>{})},this.isTextEditMode=!1,this.image_info={},this.forceWrite=!1}ngOnInit(){var e=this;return(0,a.Z)(function*(){e.MessageInfo=e.navParams.get("info"),e.OpenInChannelChat=void 0!==e.MessageInfo.code,e.CurrentViewId=e.MessageInfo.message_id,e.FileInfo=e.MessageInfo.content,e.ContentBox=document.getElementById("ContentBox"),e.FileHeader=document.getElementById("FileHeader"),e.isOfficial=e.navParams.get("isOfficial"),e.target=e.navParams.get("target");try{e.isChannelOnline="online"==e.nakama.channels_orig[e.isOfficial][e.target][e.MessageInfo.channel_id].info.status,e.isChannelOnline=e.isChannelOnline||"online"==e.nakama.channels_orig[e.isOfficial][e.target][e.MessageInfo.channel_id].status||"pending"==e.nakama.channels_orig[e.isOfficial][e.target][e.MessageInfo.channel_id].status}catch{}if("text"===(e.targetDB=e.navParams.get("targetDB"),e.HasNoEditButton=e.navParams.get("no_edit")||!1,e.FileInfo.is_new));else{if(e.Relevances=e.navParams.get("relevance"),e.Relevances){for(let i=0,s=e.Relevances.length;i<s;i++)if(e.Relevances[i].message_id&&e.MessageInfo.message_id){if(e.Relevances[i].message_id==e.MessageInfo.message_id){e.RelevanceIndex=i+1;break}}else if(e.Relevances[i].content.path==e.MessageInfo.content.path){e.RelevanceIndex=i+1;break}e.HaveRelevances=e.Relevances.length>1}else e.HaveRelevances=!1;e.FileInfo.url?e.FileURL=e.FileInfo.url:(e.blob=yield e.indexed.loadBlobFromUserPath(e.FileInfo.path||e.navParams.get("path"),e.FileInfo.type,void 0,e.targetDB),e.FileURL=URL.createObjectURL(e.blob)),e.CreateContentInfo()}})()}reinit_content_data(e){var i=this;return(0,a.Z)(function*(){if(i.NeedDownloadFile=!1,i.isTextEditMode=!1,i.MessageInfo=e,i.CurrentViewId=i.MessageInfo.message_id,i.FileInfo=i.MessageInfo.content,URL.revokeObjectURL(i.FileURL),i.FileInfo.url)i.FileURL=i.FileInfo.url,i.CreateContentInfo(),i.ionViewDidEnter();else{let s=i.FileInfo.path||`servers/${i.isOfficial}/${i.target}/channels/${e.channel_id}/files/msg_${e.message_id}.${e.content.file_ext}`;i.image_info.path=s,i.NeedDownloadFile=yield i.indexed.checkIfFileExist(`${s}.history`,void 0,i.targetDB);try{i.blob=yield i.indexed.loadBlobFromUserPath(s,i.FileInfo.type,void 0,i.targetDB),i.FileURL=URL.createObjectURL(i.blob),i.CreateContentInfo(),i.ionViewDidEnter()}catch{i.FileURL=void 0,i.blob=void 0,i.isDownloading=!1,i.NeedDownloadFile=!0,i.CreateContentInfo()}}})()}DownloadAllListFiles(){this.alertCtrl.create({header:this.lang.text.ContentViewer.DownloadAllFiles,message:this.lang.text.ContentViewer.DownloadLoadedList,buttons:[{text:this.lang.text.ContentViewer.DownloadThisFile,handler:()=>{this.DownloadInOrder()}}]}).then(e=>e.present())}DownloadInOrder(){var e=this;return(0,a.Z)(function*(){for(let i=0,s=e.Relevances.length;i<s;i++)e.nakama.OnTransfer[e.isOfficial]||(e.nakama.OnTransfer[e.isOfficial]={}),e.nakama.OnTransfer[e.isOfficial][e.target]||(e.nakama.OnTransfer[e.isOfficial][e.target]={}),e.nakama.OnTransfer[e.isOfficial][e.target][e.Relevances[i].channel_id]||(e.nakama.OnTransfer[e.isOfficial][e.target][e.Relevances[i].channel_id]={}),e.nakama.OnTransfer[e.isOfficial][e.target][e.Relevances[i].channel_id][e.Relevances[i].message_id]||(e.nakama.OnTransfer[e.isOfficial][e.target][e.Relevances[i].channel_id][e.Relevances[i].message_id]={});for(let i=0,s=e.Relevances.length;i<s;i++){let c=`servers/${e.isOfficial}/${e.target}/channels/${e.Relevances[i].channel_id}/files/msg_${e.Relevances[i].message_id}.${e.Relevances[i].content.file_ext}`;(yield e.indexed.checkIfFileExist(c,void 0,e.targetDB))||(yield e.DownloadCurrentFile(i))}})()}ChangeToAnother(e){this.p5canvas&&this.p5canvas.remove();let i=this.RelevanceIndex+e;i<=0||i>this.Relevances.length||(this.RelevanceIndex=i,this.FileInfo={file_ext:""},setTimeout(()=>{this.reinit_content_data(this.Relevances[this.RelevanceIndex-1])},0))}DownloadCurrentFile(e){var i=this;return(0,a.Z)(function*(){i.isDownloading=!0;let s=0,c=i.Relevances[null!=e?e:i.RelevanceIndex-1],_=`servers/${i.isOfficial}/${i.target}/channels/${c.channel_id}/files/msg_${c.message_id}.${c.content.file_ext}`;try{let o=yield i.indexed.loadTextFromUserPath(`${_}.history`,void 0,i.targetDB);s=JSON.parse(o).index}catch{}let p=c.message_id;yield i.nakama.ReadStorage_From_channel(c,_,i.isOfficial,i.target,s),i.CurrentViewId==p&&i.reinit_content_data(c)})()}formatBytes(e,i=2){if(!+e)return"0 Bytes";const c=i<0?0:i,p=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,p)).toFixed(c))} ${["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][p]}`}CreateContentInfo(){try{this.CurrentFileSize=this.formatBytes(this.FileInfo.size||this.FileInfo.filesize),this.content_creator=this.FileInfo.content_creator,this.content_creator.timeDisplay=new Date(this.content_creator.timestamp).toLocaleString(),this.content_related_creator=this.FileInfo.content_related_creator,this.content_creator.user_id&&(this.content_creator.is_me=this.nakama.servers[this.isOfficial][this.target].session.user_id==this.content_creator.user_id);try{this.content_creator.publisher=this.content_creator.is_me?this.nakama.users.self.display_name:this.nakama.users[this.isOfficial][this.target][this.content_creator.user_id].display_name}catch{}this.set_various_display(this.content_creator);for(let e=0,i=this.content_related_creator.length;e<i;e++)this.content_related_creator[e].user_id&&(this.content_related_creator[e].is_me=this.nakama.servers[this.isOfficial][this.target].session.user_id==this.content_related_creator[e].user_id),this.content_related_creator[e].timeDisplay=new Date(this.content_related_creator[e].timestamp).toLocaleString(),this.set_various_display(this.content_related_creator[e])}catch{}try{this.content_related_creator[0].publisher=this.content_related_creator[0].is_me?this.nakama.users.self.display_name:this.nakama.users[this.isOfficial][this.target][this.content_related_creator[0].user_id].display_name,this.content_related_creator[0].timestamp==this.content_related_creator[1].timestamp&&(this.content_related_creator[0].publisher=this.content_related_creator[1].is_me?this.nakama.users.self.display_name:this.nakama.users[this.isOfficial][this.target][this.content_related_creator[1].user_id].display_name,this.content_related_creator.splice(1,1))}catch{try{this.content_related_creator[0].publisher=this.content_related_creator[1].display_name,this.content_related_creator[0].timestamp==this.content_related_creator[1].timestamp&&(this.content_related_creator[0].publisher=this.content_related_creator[1].display_name,this.content_related_creator.splice(1,1))}catch{}try{this.content_related_creator[0].publisher||(this.content_related_creator[0].publisher=this.content_related_creator[0].display_name)}catch{}}try{this.content_related_creator.sort((e,i)=>e.timestamp>i.timestamp?-1:e.timestamp<i.timestamp?1:0)}catch{}}set_various_display(e){switch(e.various_display=this.lang.text.GlobalAct.UnknownSource,e.various){case"camera":e.various_display=this.lang.text.GlobalAct.FromCamera;break;case"link":e.various_display=this.FileInfo.url;break;case"loaded":e.various_display=this.lang.text.GlobalAct.variousCreator;break;case"voidDraw":e.various_display=this.lang.text.GlobalAct.FromVoidDraw;break;case"long_text":e.various_display=this.lang.text.GlobalAct.FromAutoLongText;break;case"textedit":e.various_display=this.lang.text.GlobalAct.FromTextEditor}}close_text_edit(){this.FileInfo.is_new?this.modalCtrl.dismiss():this.reinit_content_data(this.MessageInfo)}ionViewDidEnter(){var e=this;return(0,a.Z)(function*(){e.forceWrite=!1;let i=document.getElementById("content_viewer_canvas");switch(i&&(i.style.backgroundImage=""),document.removeEventListener("ionBackButton",e.EventListenerAct),e.p5canvas&&e.p5canvas.remove(),e.FileInfo.viewer){case"image":e.p5canvas=new v(o=>{o.setup=(0,a.Z)(function*(){i.style.maxWidth="100%",i.style.overflow="hidden",e.ContentBox.style.overflow="hidden",o.noCanvas();let d=o.createElement("img");d.elt.hidden=!0,d.elt.src=e.FileURL,d.elt.onload=()=>{i.style.backgroundImage=`url(${e.FileURL})`,i.style.backgroundRepeat="no-repeat",i.style.pointerEvents="none",e.image_info.width=d.elt.naturalWidth,e.image_info.height=d.elt.naturalHeight,x=o.createVector(d.elt.naturalWidth,d.elt.naturalHeight),r(),d.remove()},o.noLoop()});let r=()=>{if(e.image_info.width/e.image_info.height<i.clientWidth/i.clientHeight){let d=e.image_info.width*i.clientHeight/e.image_info.height;i.style.backgroundSize=`${d}px`,i.style.backgroundPositionX=(i.clientWidth-d)/2+"px",i.style.backgroundPositionY="0px"}else i.style.backgroundSize=`${i.clientWidth}px`,i.style.backgroundPositionX="0px",i.style.backgroundPositionY=i.clientHeight/2-x.y*(i.clientWidth/x.x)/2+"px"};o.windowResized=()=>{setTimeout(()=>{r()},50)};let x,y=o.createVector(),b=o.createVector(),I=o.createVector(),P=1,R=()=>{i.style.backgroundPositionX=`${y.x+I.x}px`,i.style.backgroundPositionY=`${y.y+I.y}px`},S=(d,M)=>{let f=P,F=P*M,A=Number(i.style.backgroundPositionX.split("px")[0]),H=Number(i.style.backgroundPositionY.split("px")[0]),xe=(f-F)*o.map(d.x,A,A+f,0,1),ve=(f-F)/x.x*x.y*o.map(d.y,H,H+f/x.x*x.y,0,1);i.style.backgroundPositionX=`${A+xe}px`,i.style.backgroundPositionY=`${H+ve}px`,i.style.backgroundSize=`${F}px`};o.mousePressed=()=>{e.useP5Navigator&&(o.mouseButton==o.CENTER&&r(),"DesktopPWA"==D.n$&&(y=o.createVector(Number(i.style.backgroundPositionX.split("px")[0]),Number(i.style.backgroundPositionY.split("px")[0])),b=o.createVector(o.mouseX,o.mouseY)))},o.mouseWheel=d=>{e.useP5Navigator&&(P=Number(i.style.backgroundSize.split("px")[0]),S(o.createVector(i.clientWidth/2,i.clientHeight/2),1-d.delta/1e3))},o.mouseDragged=()=>{e.useP5Navigator&&"DesktopPWA"==D.n$&&(I=o.createVector(o.mouseX,o.mouseY),I.sub(b),R())};let q,T={},Y=!1;o.touchStarted=d=>{if(e.useP5Navigator){for(let f=0,F=d.changedTouches.length;f<F;f++)T[d.changedTouches[f].identifier]=o.createVector(d.changedTouches[f].clientX,d.changedTouches[f].clientY);switch(Object.keys(T).length){case 1:y=o.createVector(Number(i.style.backgroundPositionX.split("px")[0]),Number(i.style.backgroundPositionY.split("px")[0])),b=T[d.changedTouches[0].identifier].copy();break;case 2:y=o.createVector(Number(i.style.backgroundPositionX.split("px")[0]),Number(i.style.backgroundPositionY.split("px")[0]));let f=T[0].copy();q=f.dist(T[1]),b=f.add(T[1]).div(2).copy(),P=Number(i.style.backgroundSize.split("px")[0]),R();break;default:Y=!0,r()}}},o.touchMoved=d=>{if(e.useP5Navigator&&!Y){for(let f=0,F=d.changedTouches.length;f<F;f++)T[d.changedTouches[f].identifier]=o.createVector(d.changedTouches[f].clientX,d.changedTouches[f].clientY);switch(Object.keys(T).length){case 1:I=T[d.changedTouches[0].identifier].copy(),I.sub(b),R();break;case 2:let f=T[0].copy(),F=f.dist(T[1]);I=f.add(T[1]).div(2).copy();let A=I.copy();I.sub(b),R(),S(A,F/q)}}},o.touchEnded=d=>{if(e.useP5Navigator&&"changedTouches"in d){for(let f=0,F=d.changedTouches.length;f<F;f++)delete T[d.changedTouches[f].identifier];switch(Object.keys(T).length){case 1:y=o.createVector(Number(i.style.backgroundPositionX.split("px")[0]),Number(i.style.backgroundPositionY.split("px")[0])),b=T[Object.keys(T)[0]].copy();break;case 0:Y=!1}}}});break;case"audio":e.p5canvas=new v(o=>{var r;o.setup=()=>{o.noCanvas(),o.noLoop(),r=o.createAudio([e.FileURL],()=>{i.appendChild(r.elt),r.elt.hidden=!0,setTimeout(()=>{x(),r.elt.hidden=!1},50),r.showControls(),r.play()})};let x=()=>{let y=e.ContentBox.offsetWidth;r.elt.setAttribute("style","position: relative; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%);"),r.size(y,25)};o.windowResized=()=>{setTimeout(()=>{x()},50)}});break;case"video":e.p5canvas=new v(o=>{var r;o.setup=()=>{o.noCanvas(),o.noLoop(),r=o.createVideo([e.FileURL],()=>{i.appendChild(r.elt),r.elt.hidden=!0,setTimeout(()=>{e.image_info.width=r.elt.videoWidth,e.image_info.height=r.elt.videoHeight,x(),r.elt.hidden=!1},50),r.showControls(),r.play()}),o.VideoMedia=r};let x=()=>{let y=e.ContentBox.offsetWidth,b=e.ContentBox.offsetHeight-e.FileHeader.offsetHeight,I=r.width,P=r.height;r.elt.setAttribute("style","position: relative; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%);"),I<P?(P=b,I=I/r.height*P):(I=y,P=P/r.width*I||b/2),r.size(I,P)};o.windowResized=()=>{setTimeout(()=>{x()},50)}});break;case"text":e.p5canvas=new v(o=>{o.setup=()=>{o.noCanvas(),o.noLoop();let r=o.createElement("textarea");r.elt.disabled=!0,r.elt.className="infobox",r.elt.setAttribute("style","height: 100%; display: block;"),r.elt.textContent="",i.appendChild(r.elt),o.TextArea=r.elt,e.FileInfo.is_new?e.open_text_editor(r.elt):o.loadStrings(e.FileURL,x=>{r.elt.textContent=x.join("\n")},x=>{i.textContent=e.lang.text.ContentViewer.CannotOpenText,e.FileInfo.else=!0})}});break;case"godot":document.addEventListener("ionBackButton",e.EventListenerAct);let s,_,c=e.MessageInfo.message_id;if(!e.targetDB){_="tmp_files/duplicate/viewer.pck";let o=yield e.indexed.loadBlobFromUserPath(e.FileInfo.path||e.navParams.get("path"),"");yield e.indexed.saveBlobToUserPath(o,_,void 0,e.indexed.godotDB)}try{let o=yield e.indexed.loadBlobFromUserPath((e.FileInfo.path||e.navParams.get("path"))+"_thumbnail.png","",void 0,e.targetDB);s=URL.createObjectURL(o)}catch{}!e.NeedDownloadFile&&e.CurrentViewId==c&&(yield e.global.CreateGodotIFrame("content_viewer_canvas",{local_url:"assets/data/godot/viewer.pck",title:"ViewerEx",path:_,alt_path:e.FileInfo.path||e.navParams.get("path"),ext:e.FileInfo.file_ext,force_logo:!0,background:s,receive_image:(o=(0,a.Z)(function*(r,x,y){let b="tmp_files/modify_image.png";yield e.indexed.saveBase64ToUserPath(","+r,b,void 0,e.indexed.godotDB),e.modalCtrl.dismiss({type:"image",path:b,width:x,height:y,msg:e.MessageInfo,index:e.RelevanceIndex-1})}),function(x,y,b){return o.apply(this,arguments)})},"create_thumbnail",e.indexed.ionicDB)),s&&URL.revokeObjectURL(s);break;case"disabled":let p=yield e.loadingCtrl.create({message:e.lang.text.TodoDetail.WIP});p.present();try{try{yield e.file.writeFile(e.file.externalDataDirectory,`viewer_tmp.${e.FileInfo.file_ext}`,e.blob)}catch{yield e.file.writeExistingFile(e.file.externalDataDirectory,`viewer_tmp.${e.FileInfo.file_ext}`,e.blob)}e.fileOpener.open(e.file.externalDataDirectory+`viewer_tmp.${e.FileInfo.file_ext}`,e.FileInfo.type||`application/${e.FileInfo.file_ext}`)}catch(o){console.log("open file failed: ",o),e.p5toast.show({text:`${e.lang.text.ChatRoom.cannot_open_file}: ${o.message}`})}p.dismiss()}var o})()}open_bottom_modal(){this.ShowContentInfoIonic.onDidDismiss().then(e=>{this.useP5Navigator=!0}),this.useP5Navigator=!1,this.ShowContentInfoIonic.present()}open_text_editor(e=this.p5canvas.TextArea){e.disabled=!1,setTimeout(()=>{this.isTextEditMode=!0,e.focus()},500)}SaveText(){var e=this;return(0,a.Z)(function*(){let i=new Blob([e.p5canvas.TextArea.value],{type:e.FileInfo.type});if(i.name=e.FileInfo.filename,e.OpenInChannelChat)e.modalCtrl.dismiss({type:"text",blob:i,contentRelated:e.FileInfo.content_related_creator});else{let s=yield e.loadingCtrl.create({message:e.lang.text.TodoDetail.WIP});s.present();let c=`tmp_files/texteditor/${e.FileInfo.filename}`;e.FileInfo.path||(e.FileInfo.path=c),yield e.indexed.saveBlobToUserPath(i,c,void 0,e.indexed.godotDB),s.dismiss(),e.p5toast.show({text:e.lang.text.ContentViewer.fileSaved}),e.modalCtrl.dismiss({type:"text",blob:i,path:c})}})()}modify_image(){var e=this;return(0,a.Z)(function*(){switch(e.FileInfo.viewer){case"image":{let c=yield e.loadingCtrl.create({message:e.lang.text.TodoDetail.WIP});c.present();try{let _;e.image_info.path=`tmp_files/external_image_edit/image_download.${e.FileInfo.file_ext}`,_=e.FileInfo.url?yield fetch(e.FileInfo.url).then(p=>p.blob()):yield e.indexed.loadBlobFromUserPath(e.FileInfo.path||e.navParams.get("path"),e.FileInfo.type||"",void 0,e.targetDB),yield e.indexed.saveBlobToUserPath(_,e.image_info.path,void 0,e.indexed.godotDB),e.modalCtrl.dismiss({type:"image",...e.image_info,path:e.image_info.path,msg:e.MessageInfo,index:e.RelevanceIndex-1})}catch(_){e.p5toast.show({text:`${e.lang.text.ContentViewer.CannotEditFile}: ${_}`})}c.dismiss()}break;case"text":let i=yield e.loadingCtrl.create({message:e.lang.text.TodoDetail.WIP});i.present(),e.image_info.width=e.p5canvas.TextArea.clientWidth,e.image_info.height=e.p5canvas.TextArea.scrollHeight,e.p5canvas.createCanvas(e.image_info.width,e.image_info.height),e.p5canvas.textSize(16),e.p5canvas.textWrap(e.p5canvas.WORD);let s=.05*e.p5canvas.width;e.p5canvas.text(e.p5canvas.TextArea.textContent,s,s,e.p5canvas.width-2*s),e.p5canvas.saveFrames("","png",1,1,function(){var c=(0,a.Z)(function*(_){try{i.dismiss(),e.image_info.path="tmp_files/text_edit/text_copy.png",yield e.indexed.saveBase64ToUserPath(_[0].imageData.replace(/"|=|\\/g,"",void 0,e.indexed.godotDB),e.image_info.path,void 0,e.indexed.godotDB),e.modalCtrl.dismiss({type:"image",...e.image_info,msg:e.MessageInfo,index:e.RelevanceIndex-1})}catch(p){console.log("\ud30c\uc77c \uc800\uc7a5 \uc624\ub958: ",p)}});return function(_){return c.apply(this,arguments)}}());break;case"video":try{let c=yield e.loadingCtrl.create({message:e.lang.text.TodoDetail.WIP});c.present(),e.p5canvas.VideoMedia.pause(),e.p5canvas.createCanvas(e.image_info.width,e.image_info.height),e.p5canvas.image(e.p5canvas.VideoMedia,0,0,e.image_info.width,e.image_info.height),e.p5canvas.saveFrames("","png",1,1,function(){var _=(0,a.Z)(function*(p){try{c.dismiss(),e.image_info.path="tmp_files/video_edit/frame.png",yield e.indexed.saveBase64ToUserPath(p[0].imageData.replace(/"|=|\\/g,""),e.image_info.path,void 0,e.indexed.godotDB),e.modalCtrl.dismiss({type:"image",...e.image_info,msg:e.MessageInfo,index:e.RelevanceIndex-1})}catch(o){console.log("\ud30c\uc77c \uc800\uc7a5 \uc624\ub958: ",o)}});return function(p){return _.apply(this,arguments)}}())}catch(c){console.log("\uc7ac\uc0dd\uc911\uc778 \ube44\ub514\uc624 \uc774\ubbf8\uc9c0 \ucd94\ucd9c \uc624\ub958: ",c)}break;case"godot":e.global.godot_window.modify_image();break;default:console.log("\ud3b8\uc9d1 \ubd88\uac00 \ud30c\uc77c \uc815\ubcf4: ",e.FileInfo)}})()}download_file(){"DesktopPWA"==D.n$||"MobilePWA"==D.n$?this.indexed.DownloadFileFromUserPath(this.FileInfo.path,this.FileInfo.type,this.FileInfo.filename,this.targetDB):this.alertCtrl.create({header:this.lang.text.ContentViewer.Filename,inputs:[{name:"filename",placeholder:this.FileInfo.filename,type:"text"}],buttons:[{text:this.lang.text.ContentViewer.saveFile,handler:e=>{this.DownloadFileAct(e)}}]}).then(e=>e.present())}DownloadFileAct(e){var i=this;return(0,a.Z)(function*(){let s=yield i.loadingCtrl.create({message:i.lang.text.TodoDetail.WIP});s.present();let c=e.filename?e.filename.replace(/:|\?|\/|\\|<|>/g,""):i.FileInfo.filename,_=yield i.indexed.loadBlobFromUserPath(i.FileInfo.path,i.FileInfo.type,void 0,i.targetDB);i.forceWrite&&!e.filename?i.file.writeExistingFile(i.file.externalDataDirectory,c,_).then(p=>{i.forceWrite=!1,s.dismiss(),i.p5toast.show({text:`${i.lang.text.ContentViewer.OverWriteFile}: ${c}`})}):i.file.writeFile(i.file.externalDataDirectory,c,_).then(p=>{s.dismiss(),i.p5toast.show({text:i.lang.text.ContentViewer.fileSaved})}).catch(p=>{12===(s.dismiss(),p.code)?(i.p5toast.show({text:i.lang.text.ContentViewer.AlreadyExist}),i.forceWrite=!0,i.download_file()):console.log("\uc900\ube44\ub418\uc9c0 \uc54a\uc740 \uc624\ub958 \ubc18\ud658: ",p)})})()}ShareContent(){let e=this.nakama.rearrange_channels();for(let i=e.length-1;i>=0;i--)("missing"==e[i].status||"offline"==e[i].status)&&e.splice(i,1);e.length?this.modalCtrl.create({component:V.D,componentProps:{file:this.FileInfo,channels:e}}).then(i=>{i.onDidDismiss().then(s=>{s.data&&this.modalCtrl.dismiss()}),i.present()}):this.p5toast.show({text:this.lang.text.ShareContentToOther.NoChannelToShare})}RemoveFile(){this.alertCtrl.create({header:this.lang.text.ContentViewer.RemoveFile,message:this.FileInfo.path,buttons:[{text:this.lang.text.TodoDetail.remove,handler:()=>{this.RemoveFileAct()}}]}).then(e=>e.present())}RemoveFileAct(){var e=this;return(0,a.Z)(function*(){URL.revokeObjectURL(e.FileURL),delete e.FileInfo.thumbnail,delete e.FileInfo.text,yield e.indexed.removeFileFromUserPath(e.FileInfo.path,void 0,e.targetDB),e.RelevanceIndex-=1,e.ChangeToAnother(1)})()}ionViewWillLeave(){var e=this;return(0,a.Z)(function*(){switch(document.removeEventListener("ionBackButton",e.EventListenerAct),e.FileInfo.viewer){case"video":try{let s,c,i=e.p5canvas.VideoMedia.size();i.width>i.height?(s=192,c=i.height/i.width*192):(s=i.width/i.height*192,c=192),e.p5canvas.createCanvas(s,c),e.p5canvas.imageMode(e.p5canvas.CORNER),e.p5canvas.image(e.p5canvas.VideoMedia,0,0,s*e.image_info.width/i.width,c*e.image_info.height/i.height),e.p5canvas.fill(255,128),e.p5canvas.rect(0,0,s,c),e.p5canvas.textWrap(e.p5canvas.CHAR),e.p5canvas.textSize(16);let _=c/16;e.p5canvas.push(),e.p5canvas.translate(_/6,_/6),e.p5canvas.fill(0),e.p5canvas.text(e.FileInfo.filename,_,_,s-2*_,c-2*_),e.p5canvas.filter(e.p5canvas.BLUR,3),e.p5canvas.pop(),e.p5canvas.fill(255),e.p5canvas.text(e.FileInfo.filename,_,_,s-2*_,c-2*_),e.p5canvas.saveFrames("","png",1,1,function(){var p=(0,a.Z)(function*(o){try{let r=o[0].imageData.replace(/"|=|\\/g,"");yield e.indexed.saveBase64ToUserPath(r,`${e.FileInfo.path}_thumbnail.png`,void 0,e.targetDB),e.FileInfo.thumbnail=r,e.global.modulate_thumbnail(e.FileInfo,"")}catch(r){console.log("\uc378\ub124\uc77c \uc800\uc7a5 \uc624\ub958: ",r)}});return function(o){return p.apply(this,arguments)}}())}catch(i){console.log("\ube44\ub514\uc624 \uc378\ub124\uc77c \uc0dd\uc131 \ucde8\uc18c: ",i)}break;case"godot":try{e.global.godot_window.filename=e.FileInfo.filename,e.global.godot_window.create_thumbnail(e.FileInfo)}catch{}}e.p5canvas&&e.p5canvas.remove(),URL.revokeObjectURL(e.FileURL);try{(yield e.file.checkFile(e.file.externalDataDirectory,`viewer_tmp.${e.FileInfo.file_ext}`))&&(yield e.file.removeFile(e.file.externalDataDirectory,`viewer_tmp.${e.FileInfo.file_ext}`))}catch{}})()}copy_url(e){this.mClipboard.copy(e).catch(i=>U.Z.write(e))}}return(l=m).\u0275fac=function(e){return new(e||l)(t.Y36(h.IN),t.Y36(h.X1),t.Y36(N.H),t.Y36(L.b),t.Y36(C.$),t.Y36(O.F),t.Y36(h.Br),t.Y36(h.HT),t.Y36(u.u),t.Y36(w.AN),t.Y36(k.a),t.Y36(Z.T))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-ionic-viewer"]],viewQuery:function(e,i){if(1&e&&t.Gf(W,5),2&e){let s;t.iGM(s=t.CRH())&&(i.ShowContentInfoIonic=s.first)}},decls:27,vars:15,consts:[["id","Toolbar"],["slot","start",3,"click"],["defaultHref",""],["class","relevance_change","style","padding-right: 4px;","slot","end","name","arrow-back-circle-outline",3,"click",4,"ngIf"],["slot","end",4,"ngIf"],["class","relevance_change","style","padding-right: 16px; padding-left: 4px;","slot","end","name","arrow-forward-circle-outline",3,"click",4,"ngIf"],["id","ContentBox"],[1,"main_table_elt"],[2,"height","0"],["id","FileHeader"],["text-wrap",""],[3,"click",4,"ngIf"],["class","ion-align-items-center",3,"disabled","click",4,"ngIf"],["id","menu_trigger",4,"ngIf"],["trigger","menu_trigger","dismissOnSelect","",4,"ngIf"],[4,"ngIf"],[3,"initialBreakpoint","breakpoints"],["ShowContentInfoIonic",""],["slot","end","name","arrow-back-circle-outline",1,"relevance_change",2,"padding-right","4px",3,"click"],["slot","end"],["slot","end","name","arrow-forward-circle-outline",1,"relevance_change",2,"padding-right","16px","padding-left","4px",3,"click"],[3,"click"],["name","close-circle-outline"],["name","save-outline"],[1,"ion-align-items-center",3,"disabled","click"],["name","code-download-outline"],["id","menu_trigger"],["name","ellipsis-vertical"],["trigger","menu_trigger","dismissOnSelect",""],["button","",3,"click",4,"ngIf"],["button","",3,"click"],["class","full_screen","id","content_viewer_canvas",4,"ngIf"],["class","full_screen","style","display: flex;","id","content_viewer_canvas",4,"ngIf"],["id","content_viewer_canvas",1,"full_screen"],["id","content_viewer_canvas",1,"full_screen",2,"display","flex"],[1,"ion-align-items-center"],["size","12",1,"ion-text-center"],["color","warning","shape","round",1,"ion-align-items-center",3,"disabled","click"],[1,"ion-text-end"],[4,"ngFor","ngForOf"],[1,"ion-text-center"],[2,"width","100%","text-align","center"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",1),t.NdJ("click",function(){return i.modalCtrl.dismiss()}),t._UZ(5,"ion-back-button",2),t.qZA(),t.YNc(6,K,1,0,"ion-icon",3),t.YNc(7,G,2,1,"ion-label",4),t.YNc(8,j,1,0,"ion-icon",5),t.qZA()(),t.TgZ(9,"ion-content",6)(10,"table",7)(11,"tr",8)(12,"td")(13,"ion-list-header",9)(14,"ion-label",10),t._uU(15),t.qZA(),t.YNc(16,Q,2,0,"ion-button",11),t.YNc(17,z,2,0,"ion-button",11),t.YNc(18,X,2,1,"ion-button",12),t.YNc(19,ee,2,0,"ion-button",13),t.YNc(20,se,2,0,"ion-popover",14),t.qZA()()(),t.TgZ(21,"tr"),t.YNc(22,_e,3,2,"td",15),t.YNc(23,de,6,2,"td",15),t.qZA()(),t.TgZ(24,"ion-modal",16,17),t.YNc(26,me,20,9,"ng-template"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(i.lang.text.ContentViewer.Title),t.xp6(3),t.Q6J("ngIf",i.HaveRelevances),t.xp6(1),t.Q6J("ngIf",i.HaveRelevances),t.xp6(1),t.Q6J("ngIf",i.HaveRelevances),t.xp6(7),t.Oqu(i.FileInfo.filename),t.xp6(1),t.Q6J("ngIf",i.isTextEditMode),t.xp6(1),t.Q6J("ngIf",i.isTextEditMode),t.xp6(1),t.Q6J("ngIf",i.isChannelOnline&&i.HaveRelevances&&!i.isTextEditMode),t.xp6(1),t.Q6J("ngIf",!i.isTextEditMode),t.xp6(1),t.Q6J("ngIf",!i.isTextEditMode),t.xp6(2),t.Q6J("ngIf",!i.NeedDownloadFile),t.xp6(1),t.Q6J("ngIf",i.NeedDownloadFile),t.xp6(1),t.Q6J("initialBreakpoint",.5)("breakpoints",t.DdM(14,pe)))},dependencies:[E.sg,E.O5,h.oU,h.YG,h.Sm,h.wI,h.W2,h.jY,h.Gu,h.gu,h.Ie,h.rH,h.Q$,h.q_,h.yh,h.Nd,h.wd,h.sr,h.ki,h.d8,h.cs],styles:[".main_table_elt[_ngcontent-%COMP%]{width:100%;height:100%;border:0;margin:0}.relevance_change[_ngcontent-%COMP%]{width:25px;height:25px}"]}),m})()},8049:(J,B,g)=>{g.d(B,{D:()=>L});var a=g(9468),D=g(3857),v=g(1325),$=g(7488),V=g(9080),U=g(6814);function t(C,O){1&C&&a._UZ(0,"div",11)}function h(C,O){if(1&C&&a._UZ(0,"img",12),2&C){const u=a.oxw().$implicit;a.Akn("online"==u.status||3==u.redirect.type&&"pending"==u.status?"filter: grayscale(0) contrast(1)":"filter: grayscale(.9) contrast(1.4)"),a.Q6J("src",u.info.img,a.LSH)}}function N(C,O){if(1&C){const u=a.EpF();a.TgZ(0,"ion-item",3),a.NdJ("click",function(){const Z=a.CHM(u).$implicit,E=a.oxw();return a.KtG(E.go_to_chatroom(Z))}),a.TgZ(1,"div",4),a.YNc(2,t,1,0,"div",5),a.qZA(),a.TgZ(3,"div",6),a.YNc(4,h,1,3,"img",7),a.qZA(),a.TgZ(5,"ion-label")(6,"div",8)(7,"table")(8,"tr")(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td",9),a._uU(12),a.qZA()()()(),a.TgZ(13,"div",10),a._uU(14),a.qZA()()()}if(2&C){const u=O.$implicit,w=a.oxw();a.xp6(1),a.Akn("background-color: "+w.statusBar.colors[u.status||"offline"]),a.xp6(1),a.Q6J("ngIf",u.is_new),a.xp6(2),a.Q6J("ngIf",u.info),a.xp6(6),a.hij(" ",u.info?u.info.name||u.info.display_name||w.lang.text.ChatRoom.noname_chatroom:u.title||w.lang.text.ChatRoom.noname_chatroom," "),a.xp6(2),a.hij(" ","("+u.server.target+")"," "),a.xp6(2),a.hij(" ",u.last_comment||u.noti||w.lang.text.Subscribes.noMessageHistory," ")}}let L=(()=>{var C;class O{constructor(w,k,Z,E,W){this.lang=w,this.navParams=k,this.modalCtrl=Z,this.statusBar=E,this.nakama=W}ngOnInit(){this.channels=this.navParams.get("channels")}go_to_chatroom(w){this.nakama.go_to_chatroom_without_admob_act(w,this.navParams.get("file")),this.modalCtrl.dismiss(!0)}}return(C=O).\u0275fac=function(w){return new(w||C)(a.Y36(D.b),a.Y36(v.X1),a.Y36(v.IN),a.Y36($.g),a.Y36(V.a))},C.\u0275cmp=a.Xpm({type:C,selectors:[["app-share-content-to-other"]],decls:11,vars:3,consts:[["slot","start",3,"click"],["defaultHref",""],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"additional_form","status_bar_double"],["class","new_circle",4,"ngIf"],[1,"additional_form","bg_img_form"],["class","profile_img",3,"style","src",4,"ngIf"],[1,"form_margin","header"],[1,"server_target"],[1,"form_margin","content"],[1,"new_circle"],[1,"profile_img",3,"src"]],template:function(w,k){1&w&&(a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),a._uU(3),a.qZA(),a.TgZ(4,"ion-buttons",0),a.NdJ("click",function(){return k.modalCtrl.dismiss()}),a._UZ(5,"ion-back-button",1),a.qZA()()(),a.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),a._uU(9),a.qZA()(),a.YNc(10,N,15,7,"ion-item",2),a.qZA()),2&w&&(a.xp6(3),a.Oqu(k.lang.text.ShareContentToOther.Title),a.xp6(6),a.Oqu(k.lang.text.ShareContentToOther.AvailableChannels),a.xp6(1),a.Q6J("ngForOf",k.channels))},dependencies:[U.sg,U.O5,v.oU,v.Sm,v.W2,v.Gu,v.Ie,v.rH,v.Q$,v.wd,v.sr,v.cs],styles:[".server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}.content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle;padding:0 16px}"]}),O})()}}]);