"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[634],{634:(y,u,i)=>{i.r(u),i.d(u,{CommunityServerPageModule:()=>_});var m=i(9808),d=i(4182),o=i(3996),g=i(501),c=i(6505),e=i(2096),v=i(4606),S=i(2855),h=i(5742);const f=[{path:"",component:(()=>{class n{constructor(s,t,r){this.statusBar=s,this.wsc=t,this.lang=r,this.info="",this.address_override="",this.useSSL=!1}ngOnInit(){this.address_override=this.wsc.address_override,this.useSSL="wss"==this.wsc.socket_header,new c(s=>{s.setup=()=>{s.loadStrings(`assets/data/infos/${this.lang.lang}/community-server.txt`,t=>{this.info=t.join("\n"),s.remove()})}})}reconn_community_server(){"offline"==this.statusBar.settings.communityServer?this.wsc.initialize():this.wsc.client.close()}on_address_changed(s){s.detail.value!=this.wsc.address_override&&(this.wsc.address_override=this.address_override.replace(/[^0-9.]/g,""),this.wsc.address_override||(this.useSSL=!1,this.toggle_useSSL()),localStorage.setItem("wsc_address_override",this.wsc.address_override),this.wsc.client.close())}toggle_useSSL(){this.useSSL=!this.useSSL,this.wsc.socket_header=this.useSSL?"wss":"ws",localStorage.setItem("wsc_socket_header",this.wsc.socket_header),this.wsc.client.close()}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(v.g),e.Y36(S.Z),e.Y36(h.b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-community-server"]],decls:23,vars:11,consts:[["slot","start"],["defaultHref","settings"],["disabled","",1,"infobox",2,"height","350px",3,"ngModel","ngModelChange"],["button","",3,"click"],[1,"additional_form","status_bar_single"],[1,"form_margin"],["type","text",1,"ion-text-end",3,"ngModel","ngModelChange","ionChange"],["button","",3,"disabled","click"],["slot","end",2,"pointer-events","none",3,"ngModel","ngModelChange"]],template:function(s,t){1&s&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button",1),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),e._uU(9),e.qZA()(),e.TgZ(10,"textarea",2),e.NdJ("ngModelChange",function(a){return t.info=a}),e.qZA(),e.TgZ(11,"ion-item-divider")(12,"ion-label"),e._uU(13),e.qZA()(),e.TgZ(14,"ion-item",3),e.NdJ("click",function(){return t.reconn_community_server()}),e._UZ(15,"div",4),e.TgZ(16,"ion-label",5),e._uU(17),e.qZA(),e.TgZ(18,"ion-input",6),e.NdJ("ngModelChange",function(a){return t.address_override=a})("ionChange",function(a){return t.on_address_changed(a)}),e.qZA()(),e.TgZ(19,"ion-item",7),e.NdJ("click",function(){return t.toggle_useSSL()}),e.TgZ(20,"ion-label"),e._uU(21),e.qZA(),e.TgZ(22,"ion-toggle",8),e.NdJ("ngModelChange",function(a){return t.useSSL=a}),e.qZA()()()),2&s&&(e.xp6(3),e.Oqu(t.lang.text.Settings.commServer),e.xp6(6),e.Oqu(t.lang.text.CommunityServer.AboutCommServer),e.xp6(1),e.Q6J("ngModel",t.info),e.xp6(3),e.Oqu(t.lang.text.CommunityServer.ServerStatus),e.xp6(2),e.Akn("background-color: "+t.statusBar.colors[t.statusBar.settings.communityServer]),e.xp6(2),e.Oqu(t.lang.text.CommunityServer.AddressInfo),e.xp6(1),e.Q6J("ngModel",t.address_override),e.xp6(1),e.Q6J("disabled",!t.address_override),e.xp6(2),e.Oqu(t.lang.text.CommunityServer.isSSL),e.xp6(1),e.Q6J("ngModel",t.useSSL))},directives:[o.Gu,o.sr,o.wd,o.Sm,o.oU,o.cs,o.W2,o.rH,o.Q$,d.Fj,d.JJ,d.On,o.Ie,o.pK,o.j9,o.ho,o.w],styles:[""]}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(f)],g.Bz]}),n})(),_=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,d.u5,o.Pc,C]]}),n})()}}]);