"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1484],{1484:(E,A,i)=>{i.r(A),i.d(A,{SettingsPageModule:()=>H});var P=i(9808),v=i(4182),e=i(3996),r=i(9705),M=i(655),C=i(4464),x=i(5016),O=i(2722),S=i(6366),b=i(7898),U=i(8982),t=i(9863),y=i(4606),N=i(9912),J=i(3496),g=i(2855),u=i(9040),s=i(5742),d=i(8677),c=i(1282);const p=["LangSel"];function Z(o,m){if(1&o){const l=t.EpF();t.TgZ(0,"div")(1,"ion-item",5),t.NdJ("click",function(){return t.CHM(l),t.oxw().setDisableBatteryOptimizations()}),t.TgZ(2,"ion-label"),t._uU(3),t.qZA()()()}if(2&o){const l=t.oxw();t.xp6(3),t.Oqu(l.lang.text.Settings.batteryOptimization)}}function B(o,m){if(1&o&&(t.TgZ(0,"ion-label",23),t._uU(1),t.qZA()),2&o){const l=t.oxw();t.xp6(1),t.hij("",l.client.address_override," ")}}function D(o,m){if(1&o){const l=t.EpF();t.TgZ(0,"ion-item",5),t.NdJ("click",function(){return t.CHM(l),t.oxw().go_to_page("dedicated-settings")}),t._UZ(1,"div",10),t.TgZ(2,"ion-label",11),t._uU(3),t.qZA()()}if(2&o){const l=t.oxw();t.xp6(1),t.Akn("background-color: "+l.statusBar.colors[l.statusBar.settings.dedicatedServer||"offline"]),t.xp6(2),t.Oqu(l.lang.text.Settings.useDeviceAsServer)}}function I(o,m){if(1&o){const l=t.EpF();t.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-item",5),t.NdJ("click",function(){return t.CHM(l),t.oxw().go_to_page("notification")}),t.TgZ(5,"ion-label"),t._uU(6),t.qZA()(),t.TgZ(7,"ion-item",5),t.NdJ("click",function(){return t.CHM(l),t.oxw().go_to_page("req-counter")}),t.TgZ(8,"ion-label"),t._uU(9),t.qZA()()()}if(2&o){const l=t.oxw();t.xp6(3),t.Oqu(l.lang.text.Settings.admin_community_menu),t.xp6(3),t.Oqu(l.lang.text.Settings.admin_noti_all),t.xp6(3),t.Oqu(l.lang.text.Settings.admin_req_counter)}}function F(o,m){if(1&o){const l=t.EpF();t.TgZ(0,"ion-item",5),t.NdJ("click",function(){return t.CHM(l),t.oxw().go_to_page("engineppt")}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&o){const l=t.oxw();t.xp6(2),t.Oqu(l.lang.text.Settings.EnginePPT)}}function L(o,m){if(1&o){const l=t.EpF();t.TgZ(0,"ion-item",5),t.NdJ("click",function(){return t.CHM(l),t.oxw().go_to_page("translator")}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&o){const l=t.oxw();t.xp6(2),t.Oqu(l.lang.text.Settings.AppTranslator)}}function Y(o,m){1&o&&(t.TgZ(0,"ion-select-option",24),t._uU(1,"#"),t.qZA())}const k=[{path:"",component:(()=>{class o{constructor(l,n,a,f,h,T,_,R,$,W){this.modalCtrl=l,this.nav=n,this.statusBar=a,this.nakama=f,this.indexed=h,this.client=T,this.bgmode=_,this.lang=R,this.noti=$,this.app=W,this.cant_dedicated=!1,this.EventListenerAct=j=>{j.detail.register(10,G=>{this.go_back(),G()})},this.list_tools=[],this.availables=[],this.isAdHiding=!0,this.isBatteryOptimizationsShowed=!1,this.self={},this.will_enter=!1,this.lock_modal_open=!1}ngOnInit(){this.nakama.removeBanner(),("DesktopPWA"==x.n$||"MobilePWA"==x.n$)&&(this.cant_dedicated=!0),this.indexed.loadTextFromUserPath("servers/self/profile.img",(l,n)=>{l&&n&&(this.nakama.users.self.img=n.replace(/"|=|\\/g,""))}),this.isBatteryOptimizationsShowed=Boolean(localStorage.getItem("ShowDisableBatteryOptimizations")),this.AD_Div=document.getElementById("advertise"),this.checkAdsInfo(),this.indexed.GetFileListFromDB("acts/",l=>{this.list_tools=[...l]})}go_to_tool_list(){this.modalCtrl.create({component:S.q,componentProps:{data:this.list_tools}}).then(l=>{l.onWillDismiss().then(()=>{this.indexed.GetFileListFromDB("acts/",n=>{this.list_tools=[...n]})}),l.present()})}checkAdsInfo(){return(0,M.mG)(this,void 0,void 0,function*(){try{let l=yield fetch(`${x.Oy}pjcone_ads/${this.lang.lang}.txt`);if(l.ok){let n=yield(yield l.blob()).text();this.indexed.saveTextFileToUserPath(n,"ads_list.txt");let a=n.split("\n");this.listAvailableAds(a)}}catch(l){console.log(l),this.indexed.loadTextFromUserPath("ads_list.txt",(n,a)=>{n&&a&&this.listAvailableAds(a.split("\n"))})}})}listAvailableAds(l){let a,n=(new Date).getTime();this.availables.length=0;for(let h=0,T=l.length;h<T;h++){let _=l[h].split(",");Number(_[0])<n?n<Number(_[1])&&this.availables.push([Number(_[0]),Number(_[1]),_[2]]):a?Number(_[0])<a&&(a=Number(_[0])):a=Number(_[0])}let f=this.AD_Div.childNodes;this.isAdHiding=!0,f.forEach(h=>{h.remove()}),this.availables.length?this.displayRandomAds():a&&(this.refreshAds=setTimeout(()=>{this.indexed.loadTextFromUserPath("ads_list.txt",(h,T)=>{h&&T&&this.listAvailableAds(T.split("\n"))})},a-(new Date).getTime()))}displayRandomAds(){let l=Math.floor(Math.random()*this.availables.length),n=this.availables[l];this.refreshAds=setTimeout(()=>{this.indexed.loadTextFromUserPath("ads_list.txt",(f,h)=>{f&&h&&this.listAvailableAds(h.split("\n"))})},n[1]-(new Date).getTime());let a=document.createElement("iframe");a.id="AdFrame",a.setAttribute("src",n[2]),a.setAttribute("frameborder","0"),a.setAttribute("class","full_screen"),this.isAdHiding=!1,this.AD_Div.appendChild(a)}open_link(l){window.open(l,"_system")}setDisableBatteryOptimizations(){this.bgmode.disableBatteryOptimizations(),this.isBatteryOptimizationsShowed=!0,localStorage.setItem("ShowDisableBatteryOptimizations","true")}ionViewWillEnter(){this.profile_filter=this.nakama.users.self.online?"filter: grayscale(0) contrast(1);":"filter: grayscale(.9) contrast(1.4);",document.addEventListener("ionBackButton",this.EventListenerAct)}start_minimalchat(l){if(!this.lock_modal_open){if(this.lock_modal_open=!0,this.will_enter)return;"online"!=this.statusBar.settings[l?"dedicated_groupchat":"community_ranchat"]&&"certified"!=this.statusBar.settings[l?"dedicated_groupchat":"community_ranchat"]&&(this.statusBar.settings[l?"dedicated_groupchat":"community_ranchat"]="pending"),this.will_enter=!0,setTimeout(()=>{this.will_enter=!1},500),this.modalCtrl.create({component:O.X,componentProps:{address:l,name:this.nakama.users.self.display_name}}).then(n=>{n.present(),this.lock_modal_open=!1})}}open_inapp_explorer(){this.modalCtrl.create({component:b.P}).then(l=>l.present())}LangClicked(){this.LangSel.open()}LanguageChanged(l){this.lang.lang=l.detail.value,this.lang.load_selected_lang()}go_to_page(l){this.nav.navigateForward(`settings/${l}`,{animation:C.Nn})}ionViewWillLeave(){document.removeEventListener("ionBackButton",this.EventListenerAct)}go_back(){delete this.nakama.users.self.img,clearTimeout(this.refreshAds),this.app.CreateGodotIFrame("godot-todo",{local_url:"assets/data/godot/todo.pck",title:"Todo",add_todo_menu:l=>{this.modalCtrl.create({component:U.s,componentProps:{godot:this.app.godot_window,data:l}}).then(n=>n.present())}})}}return o.\u0275fac=function(l){return new(l||o)(t.Y36(e.IN),t.Y36(e.SH),t.Y36(y.g),t.Y36(N.a),t.Y36(J.H),t.Y36(g.Z),t.Y36(u.z),t.Y36(s.b),t.Y36(d.J),t.Y36(c.A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-settings"]],viewQuery:function(l,n){if(1&l&&t.Gf(p,5),2&l){let a;t.iGM(a=t.CRH())&&(n.LangSel=a.first)}},decls:88,vars:49,consts:[["slot","start",3,"click"],["defaultHref","main"],[3,"hidden"],["slot","end","fill","clear","shape","round",3,"click"],["id","advertise",1,"advertise_banner"],["button","",3,"click"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],["button","",3,"disabled","click"],[4,"ngIf"],[1,"additional_form","status_bar_single"],[1,"form_margin"],["class","ion-text-right","color","medium",4,"ngIf"],["button","",3,"click",4,"ngIf"],["button","",3,"disabled"],[1,"ion-text-center",3,"placeholder","ngModel","ngModelChange"],[3,"click"],["slot","start","name","language"],[2,"pointer-events","none",3,"value","placeholder","ionChange"],["LangSel",""],["value","#",4,"ngIf"],["value","en"],["value","ko"],["color","medium",1,"ion-text-right"],["value","#"]],template:function(l,n){1&l&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",0),t.NdJ("click",function(){return n.go_back()}),t._UZ(5,"ion-back-button",1),t.qZA()()(),t.TgZ(6,"ion-content")(7,"div",2)(8,"ion-item-divider")(9,"ion-label"),t._uU(10),t.qZA(),t.TgZ(11,"ion-button",3),t.NdJ("click",function(){return n.open_link("https://is2you2.github.io/")}),t._uU(12),t.qZA()(),t._UZ(13,"div",4),t.qZA(),t.TgZ(14,"ion-item-divider")(15,"ion-label"),t._uU(16),t.qZA()(),t.TgZ(17,"ion-item",5),t.NdJ("click",function(){return n.go_to_page("profile")}),t.TgZ(18,"div",6),t._UZ(19,"img",7),t.qZA(),t.TgZ(20,"ion-label"),t._uU(21),t.qZA()(),t.TgZ(22,"ion-item",5),t.NdJ("click",function(){return n.go_to_page("noti-alert")}),t.TgZ(23,"ion-label"),t._uU(24),t.qZA()(),t.TgZ(25,"ion-item",8),t.NdJ("click",function(){return n.go_to_page("link-account")}),t.TgZ(26,"ion-label"),t._uU(27),t.qZA()(),t.YNc(28,Z,4,1,"div",9),t.TgZ(29,"ion-item-divider")(30,"ion-label"),t._uU(31),t.qZA()(),t.TgZ(32,"ion-item",5),t.NdJ("click",function(){return n.go_to_page("group-server")}),t._UZ(33,"div",10),t.TgZ(34,"ion-label",11),t._uU(35),t.qZA()(),t.TgZ(36,"ion-item",5),t.NdJ("click",function(){return n.go_to_page("community-server")}),t._UZ(37,"div",10),t.TgZ(38,"ion-label",11),t._uU(39),t.qZA(),t.YNc(40,B,2,1,"ion-label",12),t.qZA(),t.YNc(41,D,4,3,"ion-item",13),t.TgZ(42,"ion-item-divider")(43,"ion-label"),t._uU(44),t.qZA()(),t.TgZ(45,"ion-item",8),t.NdJ("click",function(){return n.start_minimalchat()}),t._UZ(46,"div",10),t.TgZ(47,"ion-label",11),t._uU(48),t.qZA()(),t.TgZ(49,"ion-item",14),t._UZ(50,"div",10),t.TgZ(51,"ion-label",11),t._uU(52),t.qZA(),t.TgZ(53,"ion-input",15),t.NdJ("ngModelChange",function(f){return n.chat_address=f}),t.qZA(),t.TgZ(54,"ion-button",16),t.NdJ("click",function(){return n.start_minimalchat(n.chat_address?"ws://"+n.chat_address:"ws://127.0.0.1")}),t._uU(55),t.qZA()(),t.TgZ(56,"ion-item",8),t.NdJ("click",function(){return n.go_to_page("qr-share")}),t.TgZ(57,"ion-label"),t._uU(58),t.qZA()(),t.YNc(59,I,10,3,"div",9),t.TgZ(60,"ion-item",8),t.NdJ("click",function(){return n.go_to_tool_list()}),t.TgZ(61,"ion-label"),t._uU(62),t.qZA()(),t.YNc(63,F,3,1,"ion-item",13),t.TgZ(64,"ion-item",5),t.NdJ("click",function(){return n.open_inapp_explorer()}),t.TgZ(65,"ion-label"),t._uU(66),t.qZA()(),t.TgZ(67,"ion-item-divider")(68,"ion-label"),t._uU(69),t.qZA()(),t.TgZ(70,"ion-item",5),t.NdJ("click",function(){return n.go_to_page("creator")}),t.TgZ(71,"ion-label"),t._uU(72),t.qZA()(),t.YNc(73,L,3,1,"ion-item",13),t.TgZ(74,"ion-item",5),t.NdJ("click",function(){return n.LangClicked()}),t._UZ(75,"ion-icon",17),t.TgZ(76,"ion-label"),t._uU(77),t.qZA(),t.TgZ(78,"ion-select",18,19),t.NdJ("ionChange",function(f){return n.LanguageChanged(f)}),t.YNc(80,Y,2,0,"ion-select-option",20),t.TgZ(81,"ion-select-option",21),t._uU(82,"English"),t.qZA(),t.TgZ(83,"ion-select-option",22),t._uU(84,"\ud55c\uad6d\uc5b4"),t.qZA()()(),t.TgZ(85,"ion-item",5),t.NdJ("click",function(){return n.go_to_page("licenses")}),t.TgZ(86,"ion-label"),t._uU(87),t.qZA()()()),2&l&&(t.xp6(3),t.Oqu(n.lang.text.Settings.Title),t.xp6(4),t.Q6J("hidden",n.isAdHiding),t.xp6(3),t.Oqu(n.lang.text.Settings.CommunityAds),t.xp6(2),t.hij(" ",n.lang.text.Settings.AdsContact," "),t.xp6(4),t.Oqu(n.lang.text.Settings.env_info),t.xp6(3),t.Akn(n.profile_filter),t.Q6J("src",n.nakama.users.self.img,t.LSH),t.xp6(2),t.Oqu(n.lang.text.Settings.myInfo),t.xp6(3),t.Oqu(n.lang.text.Settings.NotificationSetting),t.xp6(1),t.Q6J("disabled","online"!=n.statusBar.settings.communityServer),t.xp6(2),t.Oqu(n.lang.text.Settings.takeOverUser),t.xp6(1),t.Q6J("ngIf",!n.cant_dedicated&&!n.isBatteryOptimizationsShowed),t.xp6(3),t.Oqu(n.lang.text.Settings.ManageServer),t.xp6(2),t.Akn("background-color: "+n.statusBar.colors[n.statusBar.settings.groupServer||"offline"]),t.xp6(2),t.Oqu(n.lang.text.Settings.groupServer),t.xp6(2),t.Akn("background-color: "+n.statusBar.colors[n.statusBar.settings.communityServer||"offline"]),t.xp6(2),t.Oqu(n.lang.text.Settings.commServer),t.xp6(1),t.Q6J("ngIf",n.client.address_override),t.xp6(1),t.Q6J("ngIf",!n.cant_dedicated),t.xp6(3),t.Oqu(n.lang.text.Settings.Community),t.xp6(1),t.Q6J("disabled","online"!=n.statusBar.settings.communityServer||n.will_enter),t.xp6(1),t.Akn("background-color: "+n.statusBar.colors[n.statusBar.settings.community_ranchat||"offline"]),t.xp6(2),t.Oqu(n.lang.text.Settings.joinRanchat),t.xp6(1),t.Q6J("disabled",n.will_enter),t.xp6(1),t.Akn("background-color: "+n.statusBar.colors[n.statusBar.settings.dedicated_groupchat||"offline"]),t.xp6(2),t.Oqu(n.lang.text.Settings.joinDediChat),t.xp6(1),t.Q6J("placeholder",n.lang.text.Settings.joinDedi_placeholder+": 127.0.0.1")("ngModel",n.chat_address),t.xp6(2),t.hij(" ",n.lang.text.Settings.joinDedi_button," "),t.xp6(1),t.Q6J("disabled","online"!=n.statusBar.settings.communityServer),t.xp6(2),t.Oqu(n.lang.text.Settings.quickQRshare),t.xp6(1),t.Q6J("ngIf",n.client.is_admin),t.xp6(1),t.Q6J("disabled",!n.list_tools.length),t.xp6(2),t.Oqu(n.lang.text.Settings.ToolList),t.xp6(1),t.Q6J("ngIf",n.cant_dedicated),t.xp6(3),t.Oqu(n.lang.text.Settings.InAppExplorer),t.xp6(3),t.Oqu(n.lang.text.Settings.AppInfo),t.xp6(3),t.Oqu(n.lang.text.Settings.AppCreator),t.xp6(1),t.Q6J("ngIf","ko"!=n.lang.lang),t.xp6(4),t.Oqu(n.lang.text.Settings.AppLanguage),t.xp6(1),t.Q6J("value",n.lang.lang)("placeholder",n.lang.lang),t.xp6(2),t.Q6J("ngIf",n.client.is_admin),t.xp6(7),t.Oqu(n.lang.text.Settings.LicenseNotice))},directives:[e.Gu,e.sr,e.wd,e.Sm,e.oU,e.cs,e.W2,e.rH,e.Q$,e.YG,e.Ie,P.O5,e.pK,e.j9,v.JJ,v.On,e.gu,e.t9,e.QI,e.n0],styles:[".advertise_banner[_ngcontent-%COMP%]{width:100%;max-height:150px}"]}),o})()},{path:"privacy",loadChildren:()=>i.e(6426).then(i.bind(i,6426)).then(o=>o.PrivacyPageModule)},{path:"licenses",loadChildren:()=>i.e(4189).then(i.bind(i,4189)).then(o=>o.LicensesPageModule)},{path:"profile",loadChildren:()=>i.e(3774).then(i.bind(i,3774)).then(o=>o.ProfilePageModule)},{path:"dedicated-settings",loadChildren:()=>i.e(1420).then(i.bind(i,1420)).then(o=>o.DedicatedSettingsPageModule)},{path:"group-server",loadChildren:()=>Promise.all([i.e(8592),i.e(9666)]).then(i.bind(i,9666)).then(o=>o.GroupServerPageModule)},{path:"community-server",loadChildren:()=>i.e(634).then(i.bind(i,634)).then(o=>o.CommunityServerPageModule)},{path:"add-group",loadChildren:()=>Promise.all([i.e(8592),i.e(160)]).then(i.bind(i,160)).then(o=>o.AddGroupPageModule)},{path:"group-detail",loadChildren:()=>i.e(6167).then(i.bind(i,6167)).then(o=>o.GroupDetailPageModule)},{path:"link-account",loadChildren:()=>i.e(2056).then(i.bind(i,2056)).then(o=>o.LinkAccountPageModule)},{path:"translator",loadChildren:()=>i.e(747).then(i.bind(i,747)).then(o=>o.TranslatorPageModule)},{path:"creator",loadChildren:()=>i.e(3742).then(i.bind(i,3742)).then(o=>o.CreatorPageModule)},{path:"notification",loadChildren:()=>i.e(1254).then(i.bind(i,1254)).then(o=>o.NotificationPageModule)},{path:"tool-management",loadChildren:()=>i.e(7398).then(i.bind(i,7398)).then(o=>o.ToolManagementPageModule)},{path:"qr-share",loadChildren:()=>i.e(6250).then(i.bind(i,6250)).then(o=>o.QrSharePageModule)},{path:"noti-alert",loadChildren:()=>i.e(6886).then(i.bind(i,6886)).then(o=>o.NotiAlertPageModule)},{path:"req-counter",loadChildren:()=>i.e(6333).then(i.bind(i,6333)).then(o=>o.ReqCounterPageModule)},{path:"engineppt",loadChildren:()=>i.e(6526).then(i.bind(i,6526)).then(o=>o.EnginepptPageModule)}];let Q=(()=>{class o{}return o.\u0275fac=function(l){return new(l||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[r.Bz.forChild(k)],r.Bz]}),o})(),H=(()=>{class o{}return o.\u0275fac=function(l){return new(l||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[P.ez,v.u5,e.Pc,Q]]}),o})()},6366:(E,A,i)=>{i.d(A,{q:()=>J});var P=i(655),v=i(5016),e=i(9863),r=i(3996),M=i(3496),C=i(5742),x=i(3336),O=i(1282),S=i(9808);function b(g,u){if(1&g){const s=e.EpF();e.TgZ(0,"ion-button",6),e.NdJ("click",function(){e.CHM(s);const c=e.oxw().index;return e.oxw(2).remove_local_tool(c)}),e._uU(1),e.qZA()}if(2&g){const s=e.oxw(3);e.xp6(1),e.hij(" ",s.lang.text.ToolManager.Sync," ")}}function U(g,u){if(1&g&&(e.TgZ(0,"ion-item",4)(1,"ion-label"),e._uU(2),e.qZA(),e.YNc(3,b,2,1,"ion-button",5),e.qZA()),2&g){const s=u.$implicit;e.xp6(2),e.Oqu(s.text),e.xp6(1),e.Q6J("ngIf",!s.toggle)}}function t(g,u){if(1&g&&(e.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),e._uU(3),e.qZA()(),e.YNc(4,U,4,2,"ion-item",3),e.qZA()),2&g){const s=e.oxw();e.xp6(3),e.Oqu(s.lang.text.ToolManager.Official),e.xp6(1),e.Q6J("ngForOf",s.list_local)}}function y(g,u){if(1&g){const s=e.EpF();e.TgZ(0,"ion-item",4)(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-button",7),e.NdJ("click",function(){const p=e.CHM(s).index;return e.oxw(2).redownload_tool(p)}),e._uU(4),e.qZA(),e.TgZ(5,"ion-button",6),e.NdJ("click",function(){const p=e.CHM(s).index;return e.oxw(2).remove_tool(p)}),e._uU(6),e.qZA()()}if(2&g){const s=u.$implicit,d=e.oxw(2);e.xp6(2),e.Oqu(s.text),e.xp6(1),e.Q6J("disabled",s.toggle),e.xp6(1),e.hij(" ",d.lang.text.ToolManager.Redownload," "),e.xp6(2),e.hij(" ",d.lang.text.ToolManager.removeTool," ")}}function N(g,u){if(1&g&&(e.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),e._uU(3),e.qZA()(),e.YNc(4,y,7,4,"ion-item",3),e.qZA()),2&g){const s=e.oxw();e.xp6(3),e.Oqu(s.lang.text.ToolManager.Unofficial),e.xp6(1),e.Q6J("ngForOf",s.list)}}let J=(()=>{class g{constructor(s,d,c,p,Z,B){this.modalCtrl=s,this.navParams=d,this.indexed=c,this.lang=p,this.p5toast=Z,this.global=B,this.list=[],this.list_local=[]}ngOnInit(){this.navParams.get("data").forEach(d=>{let c=d.substring(5);0==c.indexOf("local/")?this.list_local.push({text:c.substring(6),toggle:!1}):this.list.push({text:c,toggle:!1})})}redownload_tool(s){return(0,P.mG)(this,void 0,void 0,function*(){try{this.list[s].toggle=!0;let d=yield fetch(`${v.Oy}pjcone_pck/${this.list[s].text}`);if(!d.ok)throw"\uc5c6\ub294 \ud234\uc774\ub77c\uace0 \ud310\ub2e8\ub429\ub2c8\ub2e4.";{let c=yield d.blob(),p=yield this.global.GetBase64ThroughFileReader(c);this.indexed.saveFileToUserPath(p,`acts/${this.list[s].text}`,()=>{this.list[s].toggle=!1,this.p5toast.show({text:`${this.lang.text.ToolManager.redownloadSucc}: ${this.list[s].text}`})})}}catch(d){console.log(d),this.list[s].toggle=!1,this.p5toast.show({text:`${this.lang.text.ToolManager.redownloadFailed}: ${this.list[s].text}`})}})}remove_tool(s){this.indexed.removeFileFromUserPath(`acts/${this.list[s].text}`),this.list.splice(s,1)}remove_local_tool(s){this.indexed.removeFileFromUserPath(`acts_local/${this.list_local[s].text}`),this.list_local[s].toggle=!0,this.p5toast.show({text:`${this.lang.text.ToolManager.SyncWell}: ${this.list_local[s].text}`})}}return g.\u0275fac=function(s){return new(s||g)(e.Y36(r.IN),e.Y36(r.X1),e.Y36(M.H),e.Y36(C.b),e.Y36(x.F),e.Y36(O.A))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-tool-management"]],decls:9,vars:3,consts:[["slot","start",3,"click"],["defaultHref","settings"],[4,"ngIf"],["button","",4,"ngFor","ngForOf"],["button",""],[3,"click",4,"ngIf"],[3,"click"],[3,"disabled","click"]],template:function(s,d){1&s&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-buttons",0),e.NdJ("click",function(){return d.modalCtrl.dismiss()}),e._UZ(5,"ion-back-button",1),e.qZA()()(),e.TgZ(6,"ion-content"),e.YNc(7,t,5,2,"div",2),e.YNc(8,N,5,2,"div",2),e.qZA()),2&s&&(e.xp6(3),e.Oqu(d.lang.text.Settings.ToolList),e.xp6(4),e.Q6J("ngIf",d.list_local.length),e.xp6(1),e.Q6J("ngIf",d.list.length))},directives:[r.Gu,r.sr,r.wd,r.Sm,r.oU,r.cs,r.W2,S.O5,r.rH,r.Q$,S.sg,r.Ie,r.YG],styles:[""]}),g})()}}]);