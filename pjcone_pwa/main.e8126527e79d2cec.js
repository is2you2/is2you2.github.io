(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{1028:(dn,Pt,he)=>{"use strict";he.d(Pt,{Y:()=>_e});var v=he(1316),we=he(3080),nt=he(4496),_e=function(o){function W(){return null!==o&&o.apply(this,arguments)||this}return(0,v.ct)(W,o),W.prototype.enable=function(){return(0,we.AN)(this,"enable",{sync:!0},arguments)},W.prototype.disable=function(){return(0,we.AN)(this,"disable",{sync:!0},arguments)},W.prototype.setEnabled=function(C){return(0,we.AN)(this,"setEnabled",{sync:!0},arguments)},W.prototype.fireEvent=function(C){for(var y=[],_=1;_<arguments.length;_++)y[_-1]=arguments[_];return(0,we.AN)(this,"fireEvent",{sync:!0},arguments)},W.prototype.isEnabled=function(){return(0,we.AN)(this,"isEnabled",{sync:!0},arguments)},W.prototype.isActive=function(){return(0,we.AN)(this,"isActive",{sync:!0},arguments)},W.prototype.setDefaults=function(C){return(0,we.AN)(this,"setDefaults",{platforms:["Android"]},arguments)},W.prototype.configure=function(C){return(0,we.AN)(this,"configure",{platforms:["Android"],sync:!0},arguments)},W.prototype.on=function(C){return(0,we.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},W.prototype.un=function(C,y){return(0,we.AN)(this,"un",{},arguments)},W.prototype.moveToBackground=function(){return(0,we.AN)(this,"moveToBackground",{platforms:["Android"],sync:!0},arguments)},W.prototype.disableWebViewOptimizations=function(){return(0,we.AN)(this,"disableWebViewOptimizations",{platforms:["Android"],sync:!0},arguments)},W.prototype.moveToForeground=function(){return(0,we.AN)(this,"moveToForeground",{platforms:["Android"],sync:!0},arguments)},W.prototype.overrideBackButton=function(){return(0,we.AN)(this,"overrideBackButton",{platforms:["Android"],sync:!0},arguments)},W.prototype.excludeFromTaskList=function(){return(0,we.AN)(this,"excludeFromTaskList",{platforms:["Android"],sync:!0},arguments)},W.prototype.isScreenOff=function(C){return(0,we.AN)(this,"isScreenOff",{platforms:["Android"]},arguments)},W.prototype.wakeUp=function(){return(0,we.AN)(this,"wakeUp",{platforms:["Android"],sync:!0},arguments)},W.prototype.unlock=function(){return(0,we.AN)(this,"unlock",{platforms:["Android"],sync:!0},arguments)},W.prototype.disableBatteryOptimizations=function(){return(0,we.AN)(this,"disableBatteryOptimizations",{platforms:["Android"],sync:!0},arguments)},W.\u0275fac=(()=>{let C;return function(_){return(C||(C=nt.otF(W)))(_||W)}})(),W.\u0275prov=nt.wxM({token:W,factory:W.\u0275fac}),W.pluginName="BackgroundMode",W.plugin="cordova-plugin-background-mode",W.pluginRef="cordova.plugins.backgroundMode",W.repo="https://github.com/katzer/cordova-plugin-background-mode",W.platforms=["AmazonFire OS","Android","Browser","iOS","Windows"],W=(0,v.UN)([],W)}(we.SM)},7756:(dn,Pt,he)=>{"use strict";he.d(Pt,{_:()=>_e});var v=he(1316),we=he(3080),nt=he(4496),_e=function(o){function W(){return null!==o&&o.apply(this,arguments)||this}return(0,v.ct)(W,o),W.prototype.copy=function(C){return(0,we.AN)(this,"copy",{},arguments)},W.prototype.paste=function(){return(0,we.AN)(this,"paste",{},arguments)},W.prototype.clear=function(){return(0,we.AN)(this,"clear",{},arguments)},W.\u0275fac=(()=>{let C;return function(_){return(C||(C=nt.otF(W)))(_||W)}})(),W.\u0275prov=nt.wxM({token:W,factory:W.\u0275fac}),W.pluginName="Clipboard",W.plugin="cordova-clipboard",W.pluginRef="cordova.plugins.clipboard",W.repo="https://github.com/ihadeed/cordova-clipboard",W.platforms=["Android","iOS","Windows Phone 8"],W=(0,v.UN)([],W)}(we.SM)},3080:(dn,Pt,he)=>{"use strict";he.d(Pt,{SM:()=>N,sp:()=>f,AN:()=>R,qE:()=>j,QN:()=>S,Ce:()=>W});var we=he(3252),nt=he(800),_e={error:"cordova_not_available"},o={error:"plugin_not_installed"};function W(D){if(typeof window<"u"&&window.angular){var Z=window.document,H=window.angular.element(Z.querySelector("[ng-app]")||Z.body).injector();if(H)return H.get("$q")(function(Y,q){D(Y,q)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Y,q){D(Y,q)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function f(D,V,Z){var H,Q;"string"==typeof D?H=D:(H=D.constructor.getPluginRef(),Z=D.constructor.getPluginName(),Q=D.constructor.getPluginInstallName());var Y=d(H);return!(!Y||V&&typeof Y[V]>"u")||(typeof window>"u"||!window.cordova?(function s(D,V){typeof process>"u"&&console.warn(V?"Native: tried calling "+D+"."+V+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+D+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Z,V),_e):(function c(D,V,Z){console.warn(Z?"Native: tried calling "+D+"."+Z+", but the "+D+" plugin is not installed.":"Native: tried accessing the "+D+" plugin but it's not installed."),V&&console.warn("Install the "+D+" plugin: 'ionic cordova plugin add "+V+"'")}(Z,Q,V),o))}function a(D,V,Z,H,Q,Y){void 0===H&&(H={}),Z=function w(D,V,Z,H){if(void 0===V&&(V={}),V.sync)return D;if("reverse"===V.callbackOrder)D.unshift(H),D.unshift(Z);else if("node"===V.callbackStyle)D.push(function(ne,de){ne?H(ne):Z(de)});else if("object"===V.callbackStyle&&V.successName&&V.errorName){var Q={};Q[V.successName]=Z,Q[V.errorName]=H,D.push(Q)}else if(typeof V.successIndex<"u"||typeof V.errorIndex<"u"){var Y=function(){V.successIndex>D.length?D[V.successIndex]=Z:D.splice(V.successIndex,0,Z)},q=function(){V.errorIndex>D.length?D[V.errorIndex]=H:D.splice(V.errorIndex,0,H)};V.successIndex>V.errorIndex?(q(),Y()):(Y(),q())}else D.push(Z),D.push(H);return D}(Z,H,Q,Y);var q=f(D,V);if(!0===q){var ne=d(D.constructor.getPluginRef());return ne[V].apply(ne,Z)}return q}function d(D){return typeof window<"u"?u(window,D):null}function u(D,V){for(var Z=V.split("."),H=D,Q=0;Q<Z.length;Q++){if(!H)return null;H=H[Z[Q]]}return H}var m=function(D,V,Z){return void 0===Z&&(Z={}),function(){for(var H=[],Q=0;Q<arguments.length;Q++)H[Q]=arguments[Q];return Z.sync?a(D,V,H,Z):Z.observable?function _(D,V,Z,H){return void 0===H&&(H={}),new we._(function(Q){var Y;return Y=H.destruct?a(D,V,Z,H,function(){for(var q=[],ne=0;ne<arguments.length;ne++)q[ne]=arguments[ne];return Q.next(q)},function(){for(var q=[],ne=0;ne<arguments.length;ne++)q[ne]=arguments[ne];return Q.error(q)}):a(D,V,Z,H,Q.next.bind(Q),Q.error.bind(Q)),Y&&Y.error&&(Q.error(Y.error),Q.complete()),function(){try{if(H.clearFunction)return H.clearWithArgs?a(D,H.clearFunction,Z,H,Q.next.bind(Q),Q.error.bind(Q)):a(D,H.clearFunction,[])}catch(q){console.warn("Unable to clear the previous observable watch for",D.constructor.getPluginName(),V),console.warn(q)}}})}(D,V,H,Z):Z.eventObservable&&Z.event?function h(D,V){return V=typeof window<"u"&&V?u(window,V):V||(typeof window<"u"?window:{}),(0,nt.w)(V,D)}(Z.event,Z.element):Z.otherPromise?function y(D,V,Z,H){return void 0===H&&(H={}),W(function(Q,Y){var q=a(D,V,Z,H);q?q.error?Y(q.error):q.then&&q.then(Q).catch(Y):Y({error:"unexpected_error"})})}(D,V,H,Z):function C(D,V,Z,H){void 0===H&&(H={});var Q,Y,q=W(function(ne,de){Q=H.destruct?a(D,V,Z,H,function(){for(var xe=[],K=0;K<arguments.length;K++)xe[K]=arguments[K];return ne(xe)},function(){for(var xe=[],K=0;K<arguments.length;K++)xe[K]=arguments[K];return de(xe)}):a(D,V,Z,H,ne,de),Y=de});return Q&&Q.error&&(q.catch(function(){}),"function"==typeof Y&&Y(Q.error)),q}(D,V,H,Z)}},N=function(){function D(){}return D.installed=function(){return!0===f(this.pluginRef)},D.getPlugin=function(){return typeof window<"u"?function b(D,V){for(var Z=V.split("."),H=D,Q=0;Q<Z.length;Q++){if(!H)return null;H=H[Z[Q]]}return H}(window,this.pluginRef):null},D.getPluginName=function(){return this.pluginName},D.getPluginRef=function(){return this.pluginRef},D.getPluginInstallName=function(){return this.plugin},D.getSupportedPlatforms=function(){return this.platforms},D.pluginName="",D.pluginRef="",D.plugin="",D.repo="",D.platforms=[],D.install="",D}();function R(D,V,Z,H){return m(D,V,Z).apply(this,H)}function j(D,V){return!0===f(D,V)?d(D.constructor.getPluginRef())[V]:null}function S(D,V,Z){!0===f(D,V)&&(d(D.constructor.getPluginRef())[V]=Z)}!function v(){if(typeof process>"u"){var D=typeof window<"u"?window:{},Z=Date.now(),H=!1;D.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Z)+" ms"),H=!0}),setTimeout(function(){!H&&D.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},8268:(dn,Pt,he)=>{"use strict";he.d(Pt,{G:()=>_e});var v=he(1316),we=he(3080),nt=he(4496),_e=function(o){function W(){return null!==o&&o.apply(this,arguments)||this}return(0,v.ct)(W,o),Object.defineProperty(W.prototype,"cordova",{get:function(){return(0,we.qE)(this,"cordova")},set:function(C){(0,we.QN)(this,"cordova",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"model",{get:function(){return(0,we.qE)(this,"model")},set:function(C){(0,we.QN)(this,"model",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"platform",{get:function(){return(0,we.qE)(this,"platform")},set:function(C){(0,we.QN)(this,"platform",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"uuid",{get:function(){return(0,we.qE)(this,"uuid")},set:function(C){(0,we.QN)(this,"uuid",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"version",{get:function(){return(0,we.qE)(this,"version")},set:function(C){(0,we.QN)(this,"version",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"manufacturer",{get:function(){return(0,we.qE)(this,"manufacturer")},set:function(C){(0,we.QN)(this,"manufacturer",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isVirtual",{get:function(){return(0,we.qE)(this,"isVirtual")},set:function(C){(0,we.QN)(this,"isVirtual",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"serial",{get:function(){return(0,we.qE)(this,"serial")},set:function(C){(0,we.QN)(this,"serial",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"sdkVersion",{get:function(){return(0,we.qE)(this,"sdkVersion")},set:function(C){(0,we.QN)(this,"sdkVersion",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isiOSAppOnMac",{get:function(){return(0,we.qE)(this,"isiOSAppOnMac")},set:function(C){(0,we.QN)(this,"isiOSAppOnMac",C)},enumerable:!1,configurable:!0}),W.\u0275fac=(()=>{let C;return function(_){return(C||(C=nt.otF(W)))(_||W)}})(),W.\u0275prov=nt.wxM({token:W,factory:W.\u0275fac}),W.pluginName="Device",W.plugin="cordova-plugin-device",W.pluginRef="device",W.repo="https://github.com/apache/cordova-plugin-device",W.platforms=["Android","Browser","iOS","macOS","Windows"],W=(0,v.UN)([],W)}(we.SM)},544:(dn,Pt,he)=>{"use strict";he.d(Pt,{S:()=>_e});var v=he(1316),we=he(3080),nt=he(4496),_e=function(o){function W(){var C=null!==o&&o.apply(this,arguments)||this;return C.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},C}return(0,v.ct)(W,o),W.prototype.getFreeDiskSpace=function(){var C=this;return function(){if(!0===(0,we.sp)(C))return(0,we.Ce)(function(y,_){cordova.exec(y,_,"File","getFreeDiskSpace",[])})}()},W.prototype.checkDir=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C+y).then(function(){return!0})}}()},W.prototype.createDir=function(C,y,_){var h=this;return function(){if(!0===(0,we.sp)(h)){if(/^\//.test(y)){var f=new FileError(5);return f.message="directory cannot start with /",Promise.reject(f)}var E={create:!0};return _||(E.exclusive=!0),h.resolveDirectoryUrl(C).then(function(w){return h.getDirectory(w,y,E)})}}()},W.prototype.removeDir=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C).then(function(f){return _.getDirectory(f,y,{create:!1})}).then(function(f){return _.remove(f)})}}()},W.prototype.moveDir=function(C,y,_,h){var f=this;return function(){if(!0===(0,we.sp)(f)){if(/^\//.test(h=h||y)){var E=new FileError(5);return E.message="directory cannot start with /",Promise.reject(E)}return f.resolveDirectoryUrl(C).then(function(w){return f.getDirectory(w,y,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(a){return f.move(w,a,h)})})}}()},W.prototype.copyDir=function(C,y,_,h){var f=this;return function(){if(!0===(0,we.sp)(f)){if(/^\//.test(h)){var E=new FileError(5);return E.message="directory cannot start with /",Promise.reject(E)}return f.resolveDirectoryUrl(C).then(function(w){return f.getDirectory(w,y,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(a){return f.copy(w,a,h)})})}}()},W.prototype.listDir=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C).then(function(f){return _.getDirectory(f,y,{create:!1,exclusive:!1})}).then(function(f){var E=f.createReader();return _.readEntries(E)})}}()},W.prototype.removeRecursively=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C).then(function(f){return _.getDirectory(f,y,{create:!1})}).then(function(f){return _.rimraf(f)})}}()},W.prototype.checkFile=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="file cannot start with /",Promise.reject(h)}return _.resolveLocalFilesystemUrl(C+y).then(function(f){if(f.isFile)return!0;var E=new FileError(13);return E.message="input is not a file",Promise.reject(E)})}}()},W.prototype.createFile=function(C,y,_){var h=this;return function(){if(!0===(0,we.sp)(h)){if(/^\//.test(y)){var f=new FileError(5);return f.message="file-name cannot start with /",Promise.reject(f)}var E={create:!0};return _||(E.exclusive=!0),h.resolveDirectoryUrl(C).then(function(w){return h.getFile(w,y,E)})}}()},W.prototype.removeFile=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="file-name cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C).then(function(f){return _.getFile(f,y,{create:!1})}).then(function(f){return _.remove(f)})}}()},W.prototype.writeFile=function(C,y,_,h){var f=this;return void 0===h&&(h={}),function(){if(!0===(0,we.sp)(f)){if(/^\//.test(y)){var E=new FileError(5);return E.message="file-name cannot start with /",Promise.reject(E)}var w={create:!h.append,exclusive:!h.replace};return f.resolveDirectoryUrl(C).then(function(a){return f.getFile(a,y,w)}).then(function(a){return f.writeFileEntry(a,_,h)})}}()},W.prototype.writeFileEntry=function(C,y,_){var h=this;return this.createWriter(C).then(function(f){return _.append&&f.seek(f.length),_.truncate&&f.truncate(_.truncate),h.write(f,y)}).then(function(){return C})},W.prototype.writeExistingFile=function(C,y,_){var h=this;return function(){if(!0===(0,we.sp)(h))return h.writeFile(C,y,_,{replace:!0})}()},W.prototype.readAsText=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_))return _.readFile(C,y,"Text")}()},W.prototype.readAsDataURL=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_))return _.readFile(C,y,"DataURL")}()},W.prototype.readAsBinaryString=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_))return _.readFile(C,y,"BinaryString")}()},W.prototype.readAsArrayBuffer=function(C,y){var _=this;return function(){if(!0===(0,we.sp)(_))return _.readFile(C,y,"ArrayBuffer")}()},W.prototype.moveFile=function(C,y,_,h){var f=this;return function(){if(!0===(0,we.sp)(f)){if(/^\//.test(h=h||y)){var E=new FileError(5);return E.message="file name cannot start with /",Promise.reject(E)}return f.resolveDirectoryUrl(C).then(function(w){return f.getFile(w,y,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(a){return f.move(w,a,h)})})}}()},W.prototype.copyFile=function(C,y,_,h){var f=this;return function(){if(!0===(0,we.sp)(f)){if(/^\//.test(h=h||y)){var E=new FileError(5);return E.message="file name cannot start with /",Promise.reject(E)}return f.resolveDirectoryUrl(C).then(function(w){return f.getFile(w,y,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(a){return f.copy(w,a,h)})})}}()},W.prototype.fillErrorMessage=function(C){try{C.message=this.cordovaFileError[C.code]}catch{}},W.prototype.resolveLocalFilesystemUrl=function(C){var y=this;return function(){if(!0===(0,we.sp)(y))return(0,we.Ce)(function(_,h){try{window.resolveLocalFileSystemURL(C,function(f){_(f)},function(f){y.fillErrorMessage(f),h(f)})}catch(f){y.fillErrorMessage(f),h(f)}})}()},W.prototype.resolveDirectoryUrl=function(C){var y=this;return function(){if(!0===(0,we.sp)(y))return y.resolveLocalFilesystemUrl(C).then(function(_){if(_.isDirectory)return _;var h=new FileError(13);return h.message="input is not a directory",Promise.reject(h)})}()},W.prototype.getDirectory=function(C,y,_){var h=this;return function(){if(!0===(0,we.sp)(h))return new Promise(function(f,E){try{C.getDirectory(y,_,function(w){f(w)},function(w){h.fillErrorMessage(w),E(w)})}catch(w){h.fillErrorMessage(w),E(w)}})}()},W.prototype.getFile=function(C,y,_){var h=this;return function(){if(!0===(0,we.sp)(h))return new Promise(function(f,E){try{C.getFile(y,_,f,function(w){h.fillErrorMessage(w),E(w)})}catch(w){h.fillErrorMessage(w),E(w)}})}()},W.prototype.readFile=function(C,y,_){var h=this;if(/^\//.test(y)){var f=new FileError(5);return f.message="file-name cannot start with /",Promise.reject(f)}return this.resolveDirectoryUrl(C).then(function(E){return h.getFile(E,y,{create:!1})}).then(function(E){var w=new FileReader;return(0,we.Ce)(function(a,l){w.onloadend=function(){void 0!==w.result||null!==w.result?a(w.result):l(void 0!==w.error||null!==w.error?w.error:{code:null,message:"READER_ONLOADEND_ERR"})},E.file(function(d){w["readAs"+_].call(w,d)},function(d){l(d)})})})},W.prototype.remove=function(C){var y=this;return new Promise(function(_,h){C.remove(function(){_({success:!0,fileRemoved:C})},function(f){y.fillErrorMessage(f),h(f)})})},W.prototype.move=function(C,y,_){var h=this;return new Promise(function(f,E){C.moveTo(y,_,function(w){f(w)},function(w){h.fillErrorMessage(w),E(w)})})},W.prototype.copy=function(C,y,_){var h=this;return new Promise(function(f,E){C.copyTo(y,_,function(w){f(w)},function(w){h.fillErrorMessage(w),E(w)})})},W.prototype.readEntries=function(C){var y=this;return new Promise(function(_,h){C.readEntries(function(f){_(f)},function(f){y.fillErrorMessage(f),h(f)})})},W.prototype.rimraf=function(C){var y=this;return new Promise(function(_,h){C.removeRecursively(function(){_({success:!0,fileRemoved:C})},function(f){y.fillErrorMessage(f),h(f)})})},W.prototype.createWriter=function(C){var y=this;return new Promise(function(_,h){C.createWriter(function(f){_(f)},function(f){y.fillErrorMessage(f),h(f)})})},W.prototype.write=function(C,y){return y instanceof Blob?this.writeFileInChunks(C,y):new Promise(function(_,h){C.onwriteend=function(f){C.error?h(C.error):_(f)},C.write(y)})},W.prototype.writeFileInChunks=function(C,y){var h=0;function f(){var E=Math.min(1048576,y.size-h),w=y.slice(h,h+E);h+=E,C.write(w)}return(0,we.Ce)(function(E,w){C.onerror=w,C.onwrite=function(){h<y.size?f():E()},f()})},Object.defineProperty(W.prototype,"applicationDirectory",{get:function(){return(0,we.qE)(this,"applicationDirectory")},set:function(C){(0,we.QN)(this,"applicationDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"applicationStorageDirectory",{get:function(){return(0,we.qE)(this,"applicationStorageDirectory")},set:function(C){(0,we.QN)(this,"applicationStorageDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"dataDirectory",{get:function(){return(0,we.qE)(this,"dataDirectory")},set:function(C){(0,we.QN)(this,"dataDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"cacheDirectory",{get:function(){return(0,we.qE)(this,"cacheDirectory")},set:function(C){(0,we.QN)(this,"cacheDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"externalApplicationStorageDirectory",{get:function(){return(0,we.qE)(this,"externalApplicationStorageDirectory")},set:function(C){(0,we.QN)(this,"externalApplicationStorageDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"externalDataDirectory",{get:function(){return(0,we.qE)(this,"externalDataDirectory")},set:function(C){(0,we.QN)(this,"externalDataDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"externalCacheDirectory",{get:function(){return(0,we.qE)(this,"externalCacheDirectory")},set:function(C){(0,we.QN)(this,"externalCacheDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"externalRootDirectory",{get:function(){return(0,we.qE)(this,"externalRootDirectory")},set:function(C){(0,we.QN)(this,"externalRootDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"tempDirectory",{get:function(){return(0,we.qE)(this,"tempDirectory")},set:function(C){(0,we.QN)(this,"tempDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"syncedDataDirectory",{get:function(){return(0,we.qE)(this,"syncedDataDirectory")},set:function(C){(0,we.QN)(this,"syncedDataDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"documentsDirectory",{get:function(){return(0,we.qE)(this,"documentsDirectory")},set:function(C){(0,we.QN)(this,"documentsDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"sharedDirectory",{get:function(){return(0,we.qE)(this,"sharedDirectory")},set:function(C){(0,we.QN)(this,"sharedDirectory",C)},enumerable:!1,configurable:!0}),W.\u0275fac=(()=>{let C;return function(_){return(C||(C=nt.otF(W)))(_||W)}})(),W.\u0275prov=nt.wxM({token:W,factory:W.\u0275fac}),W.pluginName="File",W.plugin="cordova-plugin-file",W.pluginRef="cordova.file",W.repo="https://github.com/apache/cordova-plugin-file",W.platforms=["Android","Browser","iOS","macOS","Windows"],W=(0,v.UN)([],W)}(we.SM)},6928:(dn,Pt,he)=>{"use strict";he.d(Pt,{G8:()=>W,kZ:()=>o});var v=he(1316),we=he(3080),nt=he(4496),o=function(C){return C.INPUT="input",C.BUTTON="button",C}(o||{}),W=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return(0,v.ct)(y,C),y.prototype.hasPermission=function(){return(0,we.AN)(this,"hasPermission",{},arguments)},y.prototype.requestPermission=function(){return(0,we.AN)(this,"requestPermission",{},arguments)},y.prototype.schedule=function(_){return(0,we.AN)(this,"schedule",{sync:!0},arguments)},y.prototype.update=function(_){return(0,we.AN)(this,"update",{sync:!0},arguments)},y.prototype.clear=function(_){return(0,we.AN)(this,"clear",{},arguments)},y.prototype.clearAll=function(){return(0,we.AN)(this,"clearAll",{},arguments)},y.prototype.cancel=function(_){return(0,we.AN)(this,"cancel",{},arguments)},y.prototype.cancelAll=function(){return(0,we.AN)(this,"cancelAll",{},arguments)},y.prototype.isPresent=function(_){return(0,we.AN)(this,"isPresent",{},arguments)},y.prototype.isScheduled=function(_){return(0,we.AN)(this,"isScheduled",{},arguments)},y.prototype.isTriggered=function(_){return(0,we.AN)(this,"isTriggered",{},arguments)},y.prototype.hasType=function(_,h){return(0,we.AN)(this,"hasType",{},arguments)},y.prototype.getType=function(_){return(0,we.AN)(this,"getType",{},arguments)},y.prototype.getIds=function(){return(0,we.AN)(this,"getIds",{},arguments)},y.prototype.getScheduledIds=function(){return(0,we.AN)(this,"getScheduledIds",{},arguments)},y.prototype.getTriggeredIds=function(){return(0,we.AN)(this,"getTriggeredIds",{},arguments)},y.prototype.get=function(_){return(0,we.AN)(this,"get",{},arguments)},y.prototype.getAll=function(){return(0,we.AN)(this,"getAll",{},arguments)},y.prototype.getScheduled=function(_){return(0,we.AN)(this,"getScheduled",{},arguments)},y.prototype.getTriggered=function(_){return(0,we.AN)(this,"getTriggered",{},arguments)},y.prototype.addActions=function(_,h){return(0,we.AN)(this,"addActions",{},arguments)},y.prototype.removeActions=function(_){return(0,we.AN)(this,"removeActions",{},arguments)},y.prototype.hasActions=function(_){return(0,we.AN)(this,"hasActions",{},arguments)},y.prototype.getDefaults=function(){return(0,we.AN)(this,"getDefaults",{sync:!0},arguments)},y.prototype.setDefaults=function(_){return(0,we.AN)(this,"setDefaults",{sync:!0},arguments)},y.prototype.getAllScheduled=function(){return(0,we.AN)(this,"getAllScheduled",{},arguments)},y.prototype.getAllTriggered=function(){return(0,we.AN)(this,"getAllTriggered",{},arguments)},y.prototype.on=function(_){return(0,we.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},y.prototype.fireEvent=function(_,h){return(0,we.AN)(this,"fireEvent",{sync:!0},arguments)},y.prototype.fireQueuedEvents=function(){return(0,we.AN)(this,"fireQueuedEvents",{},arguments)},y.\u0275fac=(()=>{let _;return function(f){return(_||(_=nt.otF(y)))(f||y)}})(),y.\u0275prov=nt.wxM({token:y,factory:y.\u0275fac}),y.pluginName="LocalNotifications",y.plugin="cordova-plugin-local-notification",y.pluginRef="cordova.plugins.notification.local",y.repo="https://github.com/katzer/cordova-plugin-local-notifications",y.platforms=["Android","iOS","Windows"],y=(0,v.UN)([],y)}(we.SM)},9312:(dn,Pt,he)=>{"use strict";he.d(Pt,{G:()=>v});var v=function(we){return we.NOT_REQUIRED="NOT_REQUIRED",we.OBTAINED="OBTAINED",we.REQUIRED="REQUIRED",we.UNKNOWN="UNKNOWN",we}(v||{})},3428:(dn,Pt,he)=>{"use strict";he.d(Pt,{i8:()=>h,st:()=>nt,iq:()=>_e,Ko:()=>o,iK:()=>C});var v=he(6400),nt=function(f){return f.SizeChanged="bannerAdSizeChanged",f.Loaded="bannerAdLoaded",f.FailedToLoad="bannerAdFailedToLoad",f.Opened="bannerAdOpened",f.Closed="bannerAdClosed",f.AdImpression="bannerAdImpression",f}(nt||{}),_e=function(f){return f.TOP_CENTER="TOP_CENTER",f.CENTER="CENTER",f.BOTTOM_CENTER="BOTTOM_CENTER",f}(_e||{}),o=function(f){return f.BANNER="BANNER",f.FULL_BANNER="FULL_BANNER",f.LARGE_BANNER="LARGE_BANNER",f.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",f.LEADERBOARD="LEADERBOARD",f.ADAPTIVE_BANNER="ADAPTIVE_BANNER",f.SMART_BANNER="SMART_BANNER",f}(o||{}),C=function(f){return f.Loaded="onRewardedVideoAdLoaded",f.FailedToLoad="onRewardedVideoAdFailedToLoad",f.Showed="onRewardedVideoAdShowed",f.FailedToShow="onRewardedVideoAdFailedToShow",f.Dismissed="onRewardedVideoAdDismissed",f.Rewarded="onRewardedVideoAdReward",f}(C||{});he(9312);const h=(0,v.C_)("AdMob",{web:()=>he.e(9192).then(he.bind(he,9192)).then(f=>new f.AdMobWeb)})},6400:(dn,Pt,he)=>{"use strict";he.d(Pt,{C_:()=>a,Yr:()=>_,io:()=>k,w8:()=>u});var v=he(1528);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var y=function(j){return j.Unimplemented="UNIMPLEMENTED",j.Unavailable="UNAVAILABLE",j}(y||{});class _ extends Error{constructor(S,D,V){super(S),this.message=S,this.code=D,this.data=V}}const f=j=>{var S,D,V,Z,H;const Q=j.CapacitorCustomPlatform||null,Y=j.Capacitor||{},q=Y.Plugins=Y.Plugins||{},ne=j.CapacitorPlatforms,xe=(null===(S=null==ne?void 0:ne.currentPlatform)||void 0===S?void 0:S.getPlatform)||(()=>null!==Q?Q.name:(j=>{var S,D;return null!=j&&j.androidBridge?"android":null!==(D=null===(S=null==j?void 0:j.webkit)||void 0===S?void 0:S.messageHandlers)&&void 0!==D&&D.bridge?"ios":"web"})(j)),L=(null===(D=null==ne?void 0:ne.currentPlatform)||void 0===D?void 0:D.isNativePlatform)||(()=>"web"!==xe()),ge=(null===(V=null==ne?void 0:ne.currentPlatform)||void 0===V?void 0:V.isPluginAvailable)||(Ae=>{const Qe=Oe.get(Ae);return!!(null!=Qe&&Qe.platforms.has(xe())||Le(Ae))}),Le=(null===(Z=null==ne?void 0:ne.currentPlatform)||void 0===Z?void 0:Z.getPluginHeader)||(Ae=>{var Qe;return null===(Qe=Y.PluginHeaders)||void 0===Qe?void 0:Qe.find(Ke=>Ke.name===Ae)}),Oe=new Map,Be=(null===(H=null==ne?void 0:ne.currentPlatform)||void 0===H?void 0:H.registerPlugin)||((Ae,Qe={})=>{const Ke=Oe.get(Ae);if(Ke)return console.warn(`Capacitor plugin "${Ae}" already registered. Cannot register plugins twice.`),Ke.proxy;const vt=xe(),mt=Le(Ae);let yt;const jt=function(){var Ut=(0,v.c)(function*(){return!yt&&vt in Qe?yt=yt="function"==typeof Qe[vt]?yield Qe[vt]():Qe[vt]:null!==Q&&!yt&&"web"in Qe&&(yt=yt="function"==typeof Qe.web?yield Qe.web():Qe.web),yt});return function(){return Ut.apply(this,arguments)}}(),Rt=Ut=>{let lt;const Nt=(..._t)=>{const Pe=jt().then(Fe=>{const Ie=((Ut,lt)=>{var Nt,_t;if(!mt){if(Ut)return null===(_t=Ut[lt])||void 0===_t?void 0:_t.bind(Ut);throw new _(`"${Ae}" plugin is not implemented on ${vt}`,y.Unimplemented)}{const Pe=null==mt?void 0:mt.methods.find(Fe=>lt===Fe.name);if(Pe)return"promise"===Pe.rtype?Fe=>Y.nativePromise(Ae,lt.toString(),Fe):(Fe,Ie)=>Y.nativeCallback(Ae,lt.toString(),Fe,Ie);if(Ut)return null===(Nt=Ut[lt])||void 0===Nt?void 0:Nt.bind(Ut)}})(Fe,Ut);if(Ie){const Ze=Ie(..._t);return lt=null==Ze?void 0:Ze.remove,Ze}throw new _(`"${Ae}.${Ut}()" is not implemented on ${vt}`,y.Unimplemented)});return"addListener"===Ut&&(Pe.remove=(0,v.c)(function*(){return lt()})),Pe};return Nt.toString=()=>`${Ut.toString()}() { [capacitor code] }`,Object.defineProperty(Nt,"name",{value:Ut,writable:!1,configurable:!1}),Nt},an=Rt("addListener"),on=Rt("removeListener"),fn=(Ut,lt)=>{const Nt=an({eventName:Ut},lt),_t=function(){var Fe=(0,v.c)(function*(){const Ie=yield Nt;on({eventName:Ut,callbackId:Ie},lt)});return function(){return Fe.apply(this,arguments)}}(),Pe=new Promise(Fe=>Nt.then(()=>Fe({remove:_t})));return Pe.remove=(0,v.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield _t()}),Pe},zt=new Proxy({},{get(Ut,lt){switch(lt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return mt?fn:an;case"removeListener":return on;default:return Rt(lt)}}});return q[Ae]=zt,Oe.set(Ae,{name:Ae,proxy:zt,platforms:new Set([...Object.keys(Qe),...mt?[vt]:[]])}),zt});return Y.convertFileSrc||(Y.convertFileSrc=Ae=>Ae),Y.getPlatform=xe,Y.handleError=Ae=>j.console.error(Ae),Y.isNativePlatform=L,Y.isPluginAvailable=ge,Y.pluginMethodNoop=(Ae,Qe,Ke)=>Promise.reject(`${Ke} does not have an implementation of "${Qe}".`),Y.registerPlugin=Be,Y.Exception=_,Y.DEBUG=!!Y.DEBUG,Y.isLoggingEnabled=!!Y.isLoggingEnabled,Y.platform=Y.getPlatform(),Y.isNative=Y.isNativePlatform(),Y},w=(j=>j.Capacitor=f(j))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),a=w.registerPlugin;class u{constructor(S){this.listeners={},this.windowListeners={},S&&(console.warn(`Capacitor WebPlugin "${S.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=S)}addListener(S,D){var V=this;this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push(D);const H=this.windowListeners[S];H&&!H.registered&&this.addWindowListener(H);const Q=function(){var q=(0,v.c)(function*(){return V.removeListener(S,D)});return function(){return q.apply(this,arguments)}}(),Y=Promise.resolve({remove:Q});return Object.defineProperty(Y,"remove",{value:(q=(0,v.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Q()}),function(){return q.apply(this,arguments)})}),Y;var q}removeAllListeners(){var S=this;return(0,v.c)(function*(){S.listeners={};for(const D in S.windowListeners)S.removeWindowListener(S.windowListeners[D]);S.windowListeners={}})()}notifyListeners(S,D){const V=this.listeners[S];V&&V.forEach(Z=>Z(D))}hasListeners(S){return!!this.listeners[S].length}registerWindowListener(S,D){this.windowListeners[D]={registered:!1,windowEventName:S,pluginEventName:D,handler:V=>{this.notifyListeners(D,V)}}}unimplemented(S="not implemented"){return new w.Exception(S,y.Unimplemented)}unavailable(S="not available"){return new w.Exception(S,y.Unavailable)}removeListener(S,D){var V=this;return(0,v.c)(function*(){const Z=V.listeners[S];if(!Z)return;const H=Z.indexOf(D);V.listeners[S].splice(H,1),V.listeners[S].length||V.removeWindowListener(V.windowListeners[S])})()}addWindowListener(S){window.addEventListener(S.windowEventName,S.handler),S.registered=!0}removeWindowListener(S){S&&(window.removeEventListener(S.windowEventName,S.handler),S.registered=!1)}}const s=j=>encodeURIComponent(j).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),m=j=>j.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends u{getCookies(){return(0,v.c)(function*(){const S=document.cookie,D={};return S.split(";").forEach(V=>{if(V.length<=0)return;let[Z,H]=V.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");Z=m(Z).trim(),H=m(H).trim(),D[Z]=H}),D})()}setCookie(S){return(0,v.c)(function*(){try{const D=s(S.key),V=s(S.value),Z=`; expires=${(S.expires||"").replace("expires=","")}`,H=(S.path||"/").replace("path=",""),Q=null!=S.url&&S.url.length>0?`domain=${S.url}`:"";document.cookie=`${D}=${V||""}${Z}; path=${H}; ${Q};`}catch(D){return Promise.reject(D)}})()}deleteCookie(S){return(0,v.c)(function*(){try{document.cookie=`${S.key}=; Max-Age=0`}catch(D){return Promise.reject(D)}})()}clearCookies(){return(0,v.c)(function*(){try{const S=document.cookie.split(";")||[];for(const D of S)document.cookie=D.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(S){return Promise.reject(S)}})()}clearAllCookies(){var S=this;return(0,v.c)(function*(){try{yield S.clearCookies()}catch(D){return Promise.reject(D)}})()}}a("CapacitorCookies",{web:()=>new p});const O=function(){var j=(0,v.c)(function*(S){return new Promise((D,V)=>{const Z=new FileReader;Z.onload=()=>{const H=Z.result;D(H.indexOf(",")>=0?H.split(",")[1]:H)},Z.onerror=H=>V(H),Z.readAsDataURL(S)})});return function(D){return j.apply(this,arguments)}}(),k=(j,S={})=>{const D=Object.assign({method:j.method||"GET",headers:j.headers},S),Z=((j={})=>{const S=Object.keys(j);return Object.keys(j).map(Z=>Z.toLocaleLowerCase()).reduce((Z,H,Q)=>(Z[H]=j[S[Q]],Z),{})})(j.headers)["content-type"]||"";if("string"==typeof j.data)D.body=j.data;else if(Z.includes("application/x-www-form-urlencoded")){const H=new URLSearchParams;for(const[Q,Y]of Object.entries(j.data||{}))H.set(Q,Y);D.body=H.toString()}else if(Z.includes("multipart/form-data")||j.data instanceof FormData){const H=new FormData;if(j.data instanceof FormData)j.data.forEach((Y,q)=>{H.append(q,Y)});else for(const Y of Object.keys(j.data))H.append(Y,j.data[Y]);D.body=H;const Q=new Headers(D.headers);Q.delete("content-type"),D.headers=Q}else(Z.includes("application/json")||"object"==typeof j.data)&&(D.body=JSON.stringify(j.data));return D};class A extends u{request(S){return(0,v.c)(function*(){const D=k(S,S.webFetchExtra),V=((j,S=!0)=>j?Object.entries(j).reduce((V,Z)=>{const[H,Q]=Z;let Y,q;return Array.isArray(Q)?(q="",Q.forEach(ne=>{Y=S?encodeURIComponent(ne):ne,q+=`${H}=${Y}&`}),q.slice(0,-1)):(Y=S?encodeURIComponent(Q):Q,q=`${H}=${Y}`),`${V}&${q}`},"").substr(1):null)(S.params,S.shouldEncodeUrlParams),Z=V?`${S.url}?${V}`:S.url,H=yield fetch(Z,D),Q=H.headers.get("content-type")||"";let q,ne,{responseType:Y="text"}=H.ok?S:{};switch(Q.includes("application/json")&&(Y="json"),Y){case"arraybuffer":case"blob":ne=yield H.blob(),q=yield O(ne);break;case"json":q=yield H.json();break;default:q=yield H.text()}const de={};return H.headers.forEach((xe,K)=>{de[K]=xe}),{data:q,headers:de,status:H.status,url:H.url}})()}get(S){var D=this;return(0,v.c)(function*(){return D.request(Object.assign(Object.assign({},S),{method:"GET"}))})()}post(S){var D=this;return(0,v.c)(function*(){return D.request(Object.assign(Object.assign({},S),{method:"POST"}))})()}put(S){var D=this;return(0,v.c)(function*(){return D.request(Object.assign(Object.assign({},S),{method:"PUT"}))})()}patch(S){var D=this;return(0,v.c)(function*(){return D.request(Object.assign(Object.assign({},S),{method:"PATCH"}))})()}delete(S){var D=this;return(0,v.c)(function*(){return D.request(Object.assign(Object.assign({},S),{method:"DELETE"}))})()}}a("CapacitorHttp",{web:()=>new A})},9248:(dn,Pt,he)=>{"use strict";he.d(Pt,{c:()=>nt,r:()=>f});const nt=(R,k)=>{R.componentOnReady?R.componentOnReady().then(A=>k(A)):f(()=>k(R))},f=R=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(R):"function"==typeof requestAnimationFrame?requestAnimationFrame(R):setTimeout(R)},1896:(dn,Pt,he)=>{"use strict";he.d(Pt,{L:()=>v,a:()=>we,b:()=>nt,c:()=>_e,d:()=>o,g:()=>R});const v="ionViewWillEnter",we="ionViewDidEnter",nt="ionViewWillLeave",_e="ionViewDidLeave",o="ionViewWillUnload",R=k=>k.classList.contains("ion-page")?k:k.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||k},388:(dn,Pt,he)=>{"use strict";he.d(Pt,{c:()=>d});var v=he(4829),we=he(6384);let nt;const o=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W=u=>(void 0===nt&&(nt=void 0===u.style.animationName&&void 0!==u.style.webkitAnimationName?"-webkit-":""),nt),C=(u,c,s)=>{const m=c.startsWith("animation")?W(u):"";u.style.setProperty(m+c,s)},y=(u,c)=>{const s=c.startsWith("animation")?W(u):"";u.style.removeProperty(s+c)},f=[],l=(u=[],c)=>{if(void 0!==c){const s=Array.isArray(c)?c:[c];return[...u,...s]}return u},d=u=>{let c,s,m,p,b,O,$,Y,q,ne,de,re,ge,N=[],R=[],k=[],A=!1,j={},S=[],D=[],V={},Z=0,H=!1,Q=!1,xe=!0,K=!1,L=!0,Me=!1;const Le=u,Ye=[],et=[],Oe=[],Ge=[],Be=[],Ae=[],Qe=[],Ke=[],vt=[],mt=[],yt=[],jt="function"==typeof AnimationEffect||void 0!==v.w&&"function"==typeof v.w.AnimationEffect,Ht="function"==typeof Element&&"function"==typeof Element.prototype.animate&&jt,an=()=>yt,lt=(At,je)=>{const He=je.findIndex(Mt=>Mt.c===At);He>-1&&je.splice(He,1)},_t=(At,je)=>((null!=je&&je.oneTimeCallback?et:Ye).push({c:At,o:je}),ge),Fe=()=>{if(Ht)yt.forEach(At=>{At.cancel()}),yt.length=0;else{const At=Ge.slice();(0,we.r)(()=>{At.forEach(je=>{y(je,"animation-name"),y(je,"animation-duration"),y(je,"animation-timing-function"),y(je,"animation-iteration-count"),y(je,"animation-delay"),y(je,"animation-play-state"),y(je,"animation-fill-mode"),y(je,"animation-direction")})})}},Ie=()=>{Ae.forEach(At=>{null!=At&&At.parentNode&&At.parentNode.removeChild(At)}),Ae.length=0},xt=()=>void 0!==b?b:$?$.getFill():"both",en=()=>void 0!==q?q:void 0!==O?O:$?$.getDirection():"normal",We=()=>H?"linear":void 0!==m?m:$?$.getEasing():"linear",bt=()=>Q?0:void 0!==ne?ne:void 0!==s?s:$?$.getDuration():0,Lt=()=>void 0!==p?p:$?$.getIterations():1,Ft=()=>void 0!==de?de:void 0!==c?c:$?$.getDelay():0,P=()=>{0!==Z&&(Z--,0===Z&&((()=>{Wn(),vt.forEach(kt=>kt()),mt.forEach(kt=>kt());const At=xe?1:0,je=S,He=D,Mt=V;Ge.forEach(kt=>{const Wt=kt.classList;je.forEach(ie=>Wt.add(ie)),He.forEach(ie=>Wt.remove(ie));for(const ie in Mt)Mt.hasOwnProperty(ie)&&C(kt,ie,Mt[ie])}),ne=void 0,q=void 0,de=void 0,Ye.forEach(kt=>kt.c(At,ge)),et.forEach(kt=>kt.c(At,ge)),et.length=0,L=!0,xe&&(K=!0),xe=!0})(),$&&$.animationFinish()))},z=(At=!0)=>{Ie();const je=(u=>(u.forEach(c=>{for(const s in c)if(c.hasOwnProperty(s)){const m=c[s];if("easing"===s)c["animation-timing-function"]=m,delete c[s];else{const p=o(s);p!==s&&(c[p]=m,delete c[s])}}}),u))(N);Ge.forEach(He=>{if(je.length>0){const Mt=((u=[])=>u.map(c=>{const s=c.offset,m=[];for(const p in c)c.hasOwnProperty(p)&&"offset"!==p&&m.push(`${p}: ${c[p]};`);return`${100*s}% { ${m.join(" ")} }`}).join(" "))(je);re=void 0!==u?u:(u=>{let c=f.indexOf(u);return c<0&&(c=f.push(u)-1),`ion-animation-${c}`})(Mt);const kt=((u,c,s)=>{var m;const p=(u=>{const c=void 0!==u.getRootNode?u.getRootNode():u;return c.head||c})(s),b=W(s),O=p.querySelector("#"+u);if(O)return O;const N=(null!==(m=s.ownerDocument)&&void 0!==m?m:document).createElement("style");return N.id=u,N.textContent=`@${b}keyframes ${u} { ${c} } @${b}keyframes ${u}-alt { ${c} }`,p.appendChild(N),N})(re,Mt,He);Ae.push(kt),C(He,"animation-duration",`${bt()}ms`),C(He,"animation-timing-function",We()),C(He,"animation-delay",`${Ft()}ms`),C(He,"animation-fill-mode",xt()),C(He,"animation-direction",en());const Wt=Lt()===1/0?"infinite":Lt().toString();C(He,"animation-iteration-count",Wt),C(He,"animation-play-state","paused"),At&&C(He,"animation-name",`${kt.id}-alt`),(0,we.r)(()=>{C(He,"animation-name",kt.id||null)})}})},oe=(At=!0)=>{(()=>{Qe.forEach(Mt=>Mt()),Ke.forEach(Mt=>Mt());const At=R,je=k,He=j;Ge.forEach(Mt=>{const kt=Mt.classList;At.forEach(Wt=>kt.add(Wt)),je.forEach(Wt=>kt.remove(Wt));for(const Wt in He)He.hasOwnProperty(Wt)&&C(Mt,Wt,He[Wt])})})(),N.length>0&&(Ht?(Ge.forEach(At=>{const je=At.animate(N,{id:Le,delay:Ft(),duration:bt(),easing:We(),iterations:Lt(),fill:xt(),direction:en()});je.pause(),yt.push(je)}),yt.length>0&&(yt[0].onfinish=()=>{P()})):z(At)),A=!0},ae=At=>{if(At=Math.min(Math.max(At,0),.9999),Ht)yt.forEach(je=>{je.currentTime=je.effect.getComputedTiming().delay+bt()*At,je.pause()});else{const je=`-${bt()*At}ms`;Ge.forEach(He=>{N.length>0&&(C(He,"animation-delay",je),C(He,"animation-play-state","paused"))})}},ee=At=>{yt.forEach(je=>{je.effect.updateTiming({delay:Ft(),duration:bt(),easing:We(),iterations:Lt(),fill:xt(),direction:en()})}),void 0!==At&&ae(At)},ye=(At=!0,je)=>{(0,we.r)(()=>{Ge.forEach(He=>{C(He,"animation-name",re||null),C(He,"animation-duration",`${bt()}ms`),C(He,"animation-timing-function",We()),C(He,"animation-delay",void 0!==je?`-${je*bt()}ms`:`${Ft()}ms`),C(He,"animation-fill-mode",xt()||null),C(He,"animation-direction",en()||null);const Mt=Lt()===1/0?"infinite":Lt().toString();C(He,"animation-iteration-count",Mt),At&&C(He,"animation-name",`${re}-alt`),(0,we.r)(()=>{C(He,"animation-name",re||null)})})})},Ue=(At=!1,je=!0,He)=>(At&&Be.forEach(Mt=>{Mt.update(At,je,He)}),Ht?ee(He):ye(je,He),ge),yn=()=>{A&&(Ht?yt.forEach(At=>{At.pause()}):Ge.forEach(At=>{C(At,"animation-play-state","paused")}),Me=!0)},Rn=()=>{Y=void 0,P()},Wn=()=>{Y&&clearTimeout(Y)},$e=At=>new Promise(je=>{null!=At&&At.sync&&(Q=!0,_t(()=>Q=!1,{oneTimeCallback:!0})),A||oe(),K&&(Ht?(ae(0),ee()):ye(),K=!1),L&&(Z=Be.length+1,L=!1);const He=()=>{lt(Mt,et),je()},Mt=()=>{lt(He,Oe),je()};_t(Mt,{oneTimeCallback:!0}),((At,je)=>{Oe.push({c:At,o:{oneTimeCallback:!0}})})(He),Be.forEach(kt=>{kt.play()}),Ht?(yt.forEach(At=>{At.play()}),(0===N.length||0===Ge.length)&&P()):(()=>{if(Wn(),(0,we.r)(()=>{Ge.forEach(At=>{N.length>0&&C(At,"animation-play-state","running")})}),0===N.length||0===Ge.length)P();else{const At=Ft()||0,je=bt()||0,He=Lt()||1;isFinite(He)&&(Y=setTimeout(Rn,At+je*He+100)),((u,c)=>{let s;const m={passive:!0},b=O=>{u===O.target&&(s&&s(),Wn(),(0,we.r)(()=>{Ge.forEach(At=>{y(At,"animation-duration"),y(At,"animation-delay"),y(At,"animation-play-state")}),(0,we.r)(P)}))};u&&(u.addEventListener("webkitAnimationEnd",b,m),u.addEventListener("animationend",b,m),s=()=>{u.removeEventListener("webkitAnimationEnd",b,m),u.removeEventListener("animationend",b,m)})})(Ge[0])}})(),Me=!1}),$t=(At,je)=>{const He=N[0];return void 0===He||void 0!==He.offset&&0!==He.offset?N=[{offset:0,[At]:je},...N]:He[At]=je,ge};return ge={parentAnimation:$,elements:Ge,childAnimations:Be,id:Le,animationFinish:P,from:$t,to:(At,je)=>{const He=N[N.length-1];return void 0===He||void 0!==He.offset&&1!==He.offset?N=[...N,{offset:1,[At]:je}]:He[At]=je,ge},fromTo:(At,je,He)=>$t(At,je).to(At,He),parent:At=>($=At,ge),play:$e,pause:()=>(Be.forEach(At=>{At.pause()}),yn(),ge),stop:()=>{Be.forEach(At=>{At.stop()}),A&&(Fe(),A=!1),H=!1,Q=!1,L=!0,q=void 0,ne=void 0,de=void 0,Z=0,K=!1,xe=!0,Me=!1,Oe.forEach(At=>At.c(0,ge)),Oe.length=0},destroy:At=>(Be.forEach(je=>{je.destroy(At)}),(At=>{Fe(),At&&Ie()})(At),Ge.length=0,Be.length=0,N.length=0,Ye.length=0,et.length=0,A=!1,L=!0,ge),keyframes:At=>{const je=N!==At;return N=At,je&&(At=>{Ht?an().forEach(je=>{const He=je.effect;if(He.setKeyframes)He.setKeyframes(At);else{const Mt=new KeyframeEffect(He.target,At,He.getTiming());je.effect=Mt}}):z()})(N),ge},addAnimation:At=>{if(null!=At)if(Array.isArray(At))for(const je of At)je.parent(ge),Be.push(je);else At.parent(ge),Be.push(At);return ge},addElement:At=>{if(null!=At)if(1===At.nodeType)Ge.push(At);else if(At.length>=0)for(let je=0;je<At.length;je++)Ge.push(At[je]);else console.error("Invalid addElement value");return ge},update:Ue,fill:At=>(b=At,Ue(!0),ge),direction:At=>(O=At,Ue(!0),ge),iterations:At=>(p=At,Ue(!0),ge),duration:At=>(!Ht&&0===At&&(At=1),s=At,Ue(!0),ge),easing:At=>(m=At,Ue(!0),ge),delay:At=>(c=At,Ue(!0),ge),getWebAnimations:an,getKeyframes:()=>N,getFill:xt,getDirection:en,getDelay:Ft,getIterations:Lt,getEasing:We,getDuration:bt,afterAddRead:At=>(vt.push(At),ge),afterAddWrite:At=>(mt.push(At),ge),afterClearStyles:(At=[])=>{for(const je of At)V[je]="";return ge},afterStyles:(At={})=>(V=At,ge),afterRemoveClass:At=>(D=l(D,At),ge),afterAddClass:At=>(S=l(S,At),ge),beforeAddRead:At=>(Qe.push(At),ge),beforeAddWrite:At=>(Ke.push(At),ge),beforeClearStyles:(At=[])=>{for(const je of At)j[je]="";return ge},beforeStyles:(At={})=>(j=At,ge),beforeRemoveClass:At=>(k=l(k,At),ge),beforeAddClass:At=>(R=l(R,At),ge),onFinish:_t,isRunning:()=>0!==Z&&!Me,progressStart:(At=!1,je)=>(Be.forEach(He=>{He.progressStart(At,je)}),yn(),H=At,A||oe(),Ue(!1,!0,je),ge),progressStep:At=>(Be.forEach(je=>{je.progressStep(At)}),ae(At),ge),progressEnd:(At,je,He)=>(H=!1,Be.forEach(Mt=>{Mt.progressEnd(At,je,He)}),void 0!==He&&(ne=He),K=!1,xe=!0,0===At?(q="reverse"===en()?"normal":"reverse","reverse"===q&&(xe=!1),Ht?(Ue(),ae(1-je)):(de=(1-je)*bt()*-1,Ue(!1,!1))):1===At&&(Ht?(Ue(),ae(je)):(de=je*bt()*-1,Ue(!1,!1))),void 0!==At&&!$&&$e(),ge)}}},9637:(dn,Pt,he)=>{"use strict";he.d(Pt,{E:()=>h,I:()=>C,a:()=>v,s:()=>y});const v=f=>{try{if(f instanceof C)return f.value;if(!_e()||"string"!=typeof f||""===f)return f;if(f.includes("onload="))return"";const E=document.createDocumentFragment(),w=document.createElement("div");E.appendChild(w),w.innerHTML=f,W.forEach(u=>{const c=E.querySelectorAll(u);for(let s=c.length-1;s>=0;s--){const m=c[s];m.parentNode?m.parentNode.removeChild(m):E.removeChild(m);const p=nt(m);for(let b=0;b<p.length;b++)we(p[b])}});const a=nt(E);for(let u=0;u<a.length;u++)we(a[u]);const l=document.createElement("div");l.appendChild(E);const d=l.querySelector("div");return null!==d?d.innerHTML:l.innerHTML}catch(E){return console.error(E),""}},we=f=>{if(f.nodeType&&1!==f.nodeType)return;if(typeof NamedNodeMap<"u"&&!(f.attributes instanceof NamedNodeMap))return void f.remove();for(let w=f.attributes.length-1;w>=0;w--){const a=f.attributes.item(w),l=a.name;if(!o.includes(l.toLowerCase())){f.removeAttribute(l);continue}const d=a.value,u=f[l];(null!=d&&d.toLowerCase().includes("javascript:")||null!=u&&u.toLowerCase().includes("javascript:"))&&f.removeAttribute(l)}const E=nt(f);for(let w=0;w<E.length;w++)we(E[w])},nt=f=>null!=f.children?f.children:f.childNodes,_e=()=>{var f;const E=window,w=null===(f=null==E?void 0:E.Ionic)||void 0===f?void 0:f.config;return!w||(w.get?w.get("sanitizerEnabled",!0):!0===w.sanitizerEnabled||void 0===w.sanitizerEnabled)},o=["class","id","href","src","name","slot"],W=["script","style","iframe","meta","link","object","embed"];class C{constructor(E){this.value=E}}const y=f=>{const E=window,w=E.Ionic;if(!w||!w.config||"Object"===w.config.constructor.name)return E.Ionic=E.Ionic||{},E.Ionic.config=Object.assign(Object.assign({},E.Ionic.config),f),E.Ionic.config},h=!1},495:(dn,Pt,he)=>{"use strict";he.d(Pt,{C:()=>o,a:()=>nt,d:()=>_e});var v=he(1528),we=he(6384);const nt=function(){var W=(0,v.c)(function*(C,y,_,h,f,E){var w;if(C)return C.attachViewToDom(y,_,f,h);if(!(E||"string"==typeof _||_ instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof _?null===(w=y.ownerDocument)||void 0===w?void 0:w.createElement(_):_;return h&&h.forEach(l=>a.classList.add(l)),f&&Object.assign(a,f),y.appendChild(a),yield new Promise(l=>(0,we.c)(a,l)),a});return function(y,_,h,f,E,w){return W.apply(this,arguments)}}(),_e=(W,C)=>{if(C){if(W)return W.removeViewFromDom(C.parentElement,C);C.remove()}return Promise.resolve()},o=()=>{let W,C;return{attachViewToDom:function(){var h=(0,v.c)(function*(f,E,w={},a=[]){var l,d;let u;if(W=f,E){const s="string"==typeof E?null===(l=W.ownerDocument)||void 0===l?void 0:l.createElement(E):E;a.forEach(m=>s.classList.add(m)),Object.assign(s,w),W.appendChild(s),u=s,yield new Promise(m=>(0,we.c)(s,m))}else if(W.children.length>0&&("ION-MODAL"===W.tagName||"ION-POPOVER"===W.tagName)&&!(u=W.children[0]).classList.contains("ion-delegate-host")){const m=null===(d=W.ownerDocument)||void 0===d?void 0:d.createElement("div");m.classList.add("ion-delegate-host"),a.forEach(p=>m.classList.add(p)),m.append(...W.children),W.appendChild(m),u=m}const c=document.querySelector("ion-app")||document.body;return C=document.createComment("ionic teleport"),W.parentNode.insertBefore(C,W),c.appendChild(W),null!=u?u:W});return function(E,w){return h.apply(this,arguments)}}(),removeViewFromDom:()=>(W&&C&&(C.parentNode.insertBefore(W,C),C.remove()),Promise.resolve())}}},6560:(dn,Pt,he)=>{"use strict";he.d(Pt,{G:()=>o});class we{constructor(C,y,_,h,f){this.id=y,this.name=_,this.disableScroll=f,this.priority=1e6*h+y,this.ctrl=C}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const C=this.ctrl.capture(this.name,this.id,this.priority);return C&&this.disableScroll&&this.ctrl.disableScroll(this.id),C}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class nt{constructor(C,y,_,h){this.id=y,this.disable=_,this.disableScroll=h,this.ctrl=C}block(){if(this.ctrl){if(this.disable)for(const C of this.disable)this.ctrl.disableGesture(C,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const C of this.disable)this.ctrl.enableGesture(C,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const _e="backdrop-no-scroll",o=new class v{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(C){var y;return new we(this,this.newID(),C.name,null!==(y=C.priority)&&void 0!==y?y:0,!!C.disableScroll)}createBlocker(C={}){return new nt(this,this.newID(),C.disable,!!C.disableScroll)}start(C,y,_){return this.canStart(C)?(this.requestedStart.set(y,_),!0):(this.requestedStart.delete(y),!1)}capture(C,y,_){if(!this.start(C,y,_))return!1;const h=this.requestedStart;let f=-1e4;if(h.forEach(E=>{f=Math.max(f,E)}),f===_){this.capturedId=y,h.clear();const E=new CustomEvent("ionGestureCaptured",{detail:{gestureName:C}});return document.dispatchEvent(E),!0}return h.delete(y),!1}release(C){this.requestedStart.delete(C),this.capturedId===C&&(this.capturedId=void 0)}disableGesture(C,y){let _=this.disabledGestures.get(C);void 0===_&&(_=new Set,this.disabledGestures.set(C,_)),_.add(y)}enableGesture(C,y){const _=this.disabledGestures.get(C);void 0!==_&&_.delete(y)}disableScroll(C){this.disabledScroll.add(C),1===this.disabledScroll.size&&document.body.classList.add(_e)}enableScroll(C){this.disabledScroll.delete(C),0===this.disabledScroll.size&&document.body.classList.remove(_e)}canStart(C){return!(void 0!==this.capturedId||this.isDisabled(C))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(C){const y=this.disabledGestures.get(C);return!!(y&&y.size>0)}newID(){return this.gestureId++,this.gestureId}}},136:(dn,Pt,he)=>{"use strict";he.r(Pt),he.d(Pt,{MENU_BACK_BUTTON_PRIORITY:()=>_,OVERLAY_BACK_BUTTON_PRIORITY:()=>y,blockHardwareBackButton:()=>W,shoudUseCloseWatcher:()=>o,startHardwareBackButton:()=>C});var v=he(1528),we=he(4829),nt=he(1780);he(3716);const o=()=>nt.c.get("experimentalCloseWatcher",!1)&&void 0!==we.w&&"CloseWatcher"in we.w,W=()=>{document.addEventListener("backbutton",()=>{})},C=()=>{const h=document;let f=!1;const E=()=>{if(f)return;let w=0,a=[];const l=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(c,s){a.push({priority:c,handler:s,id:w++})}}});h.dispatchEvent(l);const d=function(){var c=(0,v.c)(function*(s){try{if(null!=s&&s.handler){const m=s.handler(u);null!=m&&(yield m)}}catch(m){console.error(m)}});return function(m){return c.apply(this,arguments)}}(),u=()=>{if(a.length>0){let c={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};a.forEach(s=>{s.priority>=c.priority&&(c=s)}),f=!0,a=a.filter(s=>s.id!==c.id),d(c).then(()=>f=!1)}};u()};if(o()){let w;const a=()=>{null==w||w.destroy(),w=new we.w.CloseWatcher,w.onclose=()=>{E(),a()}};a()}else h.addEventListener("backbutton",E)},y=100,_=99},6384:(dn,Pt,he)=>{"use strict";he.d(Pt,{a:()=>y,b:()=>_,c:()=>nt,d:()=>d,e:()=>l,f:()=>a,g:()=>h,h:()=>w,i:()=>C,j:()=>b,k:()=>o,l:()=>u,m:()=>_e,n:()=>E,o:()=>c,p:()=>p,q:()=>O,r:()=>f,s:()=>N,t:()=>v,u:()=>s,v:()=>m});const v=(R,k=0)=>new Promise(A=>{we(R,k,A)}),we=(R,k=0,A)=>{let $,j;const S={passive:!0},V=()=>{$&&$()},Z=H=>{(void 0===H||R===H.target)&&(V(),A(H))};return R&&(R.addEventListener("webkitTransitionEnd",Z,S),R.addEventListener("transitionend",Z,S),j=setTimeout(Z,k+500),$=()=>{void 0!==j&&(clearTimeout(j),j=void 0),R.removeEventListener("webkitTransitionEnd",Z,S),R.removeEventListener("transitionend",Z,S)}),V},nt=(R,k)=>{R.componentOnReady?R.componentOnReady().then(A=>k(A)):f(()=>k(R))},_e=R=>void 0!==R.componentOnReady,o=(R,k=[])=>{const A={};return k.forEach($=>{R.hasAttribute($)&&(null!==R.getAttribute($)&&(A[$]=R.getAttribute($)),R.removeAttribute($))}),A},W=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],C=(R,k)=>{let A=W;return k&&k.length>0&&(A=A.filter($=>!k.includes($))),o(R,A)},y=(R,k,A,$)=>{var j;if(typeof window<"u"){const S=window,D=null===(j=null==S?void 0:S.Ionic)||void 0===j?void 0:j.config;if(D){const V=D.get("_ael");if(V)return V(R,k,A,$);if(D._ael)return D._ael(R,k,A,$)}}return R.addEventListener(k,A,$)},_=(R,k,A,$)=>{var j;if(typeof window<"u"){const S=window,D=null===(j=null==S?void 0:S.Ionic)||void 0===j?void 0:j.config;if(D){const V=D.get("_rel");if(V)return V(R,k,A,$);if(D._rel)return D._rel(R,k,A,$)}}return R.removeEventListener(k,A,$)},h=(R,k=R)=>R.shadowRoot||k,f=R=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(R):"function"==typeof requestAnimationFrame?requestAnimationFrame(R):setTimeout(R),E=R=>!!R.shadowRoot&&!!R.attachShadow,w=R=>{const k=R.closest("ion-item");return k?k.querySelector("ion-label"):null},a=R=>{if(R.focus(),R.classList.contains("ion-focusable")){const k=R.closest("ion-app");k&&k.setFocus([R])}},l=(R,k)=>{let A;const $=R.getAttribute("aria-labelledby"),j=R.id;let S=null!==$&&""!==$.trim()?$:k+"-lbl",D=null!==$&&""!==$.trim()?document.getElementById($):w(R);return D?(null===$&&(D.id=S),A=D.textContent,D.setAttribute("aria-hidden","true")):""!==j.trim()&&(D=document.querySelector(`label[for="${j}"]`),D&&(""!==D.id?S=D.id:D.id=S=`${j}-lbl`,A=D.textContent)),{label:D,labelId:S,labelText:A}},d=(R,k,A,$,j)=>{if(R||E(k)){let S=k.querySelector("input.aux-input");S||(S=k.ownerDocument.createElement("input"),S.type="hidden",S.classList.add("aux-input"),k.appendChild(S)),S.disabled=j,S.name=A,S.value=$||""}},u=(R,k,A)=>Math.max(R,Math.min(k,A)),c=(R,k)=>{if(!R){const A="ASSERT: "+k;throw console.error(A),new Error(A)}},s=R=>R.timeStamp||Date.now(),m=R=>{if(R){const k=R.changedTouches;if(k&&k.length>0){const A=k[0];return{x:A.clientX,y:A.clientY}}if(void 0!==R.pageX)return{x:R.pageX,y:R.pageY}}return{x:0,y:0}},p=R=>{const k="rtl"===document.dir;switch(R){case"start":return k;case"end":return!k;default:throw new Error(`"${R}" is not a valid value for [side]. Use "start" or "end" instead.`)}},b=(R,k)=>{const A=R._original||R;return{_original:R,emit:O(A.emit.bind(A),k)}},O=(R,k=0)=>{let A;return(...$)=>{clearTimeout(A),A=setTimeout(R,k,...$)}},N=(R,k)=>{if(null!=R||(R={}),null!=k||(k={}),R===k)return!0;const A=Object.keys(R);if(A.length!==Object.keys(k).length)return!1;for(const $ of A)if(!($ in k)||R[$]!==k[$])return!1;return!0}},2528:(dn,Pt,he)=>{"use strict";he.r(Pt),he.d(Pt,{GESTURE_CONTROLLER:()=>v.G,createGesture:()=>_});var v=he(6560);const we=(w,a,l,d)=>{const u=nt(w)?{capture:!!d.capture,passive:!!d.passive}:!!d.capture;let c,s;return w.__zone_symbol__addEventListener?(c="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(c="addEventListener",s="removeEventListener"),w[c](a,l,u),()=>{w[s](a,l,u)}},nt=w=>{if(void 0===_e)try{const a=Object.defineProperty({},"passive",{get:()=>{_e=!0}});w.addEventListener("optsTest",()=>{},a)}catch{_e=!1}return!!_e};let _e;const C=w=>w instanceof Document?w:w.ownerDocument,_=w=>{let a=!1,l=!1,d=!0,u=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},w),s=c.canStart,m=c.onWillStart,p=c.onStart,b=c.onEnd,O=c.notCaptured,N=c.onMove,R=c.threshold,k=c.passive,A=c.blurOnStart,$={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},j=((w,a,l)=>{const d=l*(Math.PI/180),u="x"===w,c=Math.cos(d),s=a*a;let m=0,p=0,b=!1,O=0;return{start(N,R){m=N,p=R,O=0,b=!0},detect(N,R){if(!b)return!1;const k=N-m,A=R-p,$=k*k+A*A;if($<s)return!1;const j=Math.sqrt($),S=(u?k:A)/j;return O=S>c?1:S<-c?-1:0,b=!1,!0},isGesture:()=>0!==O,getDirection:()=>O}})(c.direction,c.threshold,c.maxAngle),S=v.G.createGesture({name:w.gestureName,priority:w.gesturePriority,disableScroll:w.disableScroll}),Z=()=>{a&&(u=!1,N&&N($))},H=()=>!!S.capture()&&(a=!0,d=!1,$.startX=$.currentX,$.startY=$.currentY,$.startTime=$.currentTime,m?m($).then(Y):Y(),!0),Y=()=>{A&&(()=>{if(typeof document<"u"){const K=document.activeElement;null!=K&&K.blur&&K.blur()}})(),p&&p($),d=!0},q=()=>{a=!1,l=!1,u=!1,d=!0,S.release()},ne=K=>{const L=a,re=d;if(q(),re){if(h($,K),L)return void(b&&b($));O&&O($)}},de=((w,a,l,d,u)=>{let c,s,m,p,b,O,N,R=0;const k=Q=>{R=Date.now()+2e3,a(Q)&&(!s&&l&&(s=we(w,"touchmove",l,u)),m||(m=we(Q.target,"touchend",$,u)),p||(p=we(Q.target,"touchcancel",$,u)))},A=Q=>{R>Date.now()||a(Q)&&(!O&&l&&(O=we(C(w),"mousemove",l,u)),N||(N=we(C(w),"mouseup",j,u)))},$=Q=>{S(),d&&d(Q)},j=Q=>{D(),d&&d(Q)},S=()=>{s&&s(),m&&m(),p&&p(),s=m=p=void 0},D=()=>{O&&O(),N&&N(),O=N=void 0},V=()=>{S(),D()},Z=(Q=!0)=>{Q?(c||(c=we(w,"touchstart",k,u)),b||(b=we(w,"mousedown",A,u))):(c&&c(),b&&b(),c=b=void 0,V())};return{enable:Z,stop:V,destroy:()=>{Z(!1),d=l=a=void 0}}})(c.el,K=>{const L=E(K);return!(l||!d||(f(K,$),$.startX=$.currentX,$.startY=$.currentY,$.startTime=$.currentTime=L,$.velocityX=$.velocityY=$.deltaX=$.deltaY=0,$.event=K,s&&!1===s($))||(S.release(),!S.start()))&&(l=!0,0===R?H():(j.start($.startX,$.startY),!0))},K=>{a?!u&&d&&(u=!0,h($,K),requestAnimationFrame(Z)):(h($,K),j.detect($.currentX,$.currentY)&&(!j.isGesture()||!H())&&xe())},ne,{capture:!1,passive:k}),xe=()=>{q(),de.stop(),O&&O($)};return{enable(K=!0){K||(a&&ne(void 0),q()),de.enable(K)},destroy(){S.destroy(),de.destroy()}}},h=(w,a)=>{if(!a)return;const l=w.currentX,d=w.currentY,u=w.currentTime;f(a,w);const c=w.currentX,s=w.currentY,p=(w.currentTime=E(a))-u;if(p>0&&p<100){const O=(s-d)/p;w.velocityX=(c-l)/p*.7+.3*w.velocityX,w.velocityY=.7*O+.3*w.velocityY}w.deltaX=c-w.startX,w.deltaY=s-w.startY,w.event=a},f=(w,a)=>{let l=0,d=0;if(w){const u=w.changedTouches;if(u&&u.length>0){const c=u[0];l=c.clientX,d=c.clientY}else void 0!==w.pageX&&(l=w.pageX,d=w.pageY)}a.currentX=l,a.currentY=d},E=w=>w.timeStamp||Date.now()},2032:(dn,Pt,he)=>{"use strict";he.d(Pt,{a:()=>we,b:()=>nt,p:()=>v});const v=(_e,...o)=>console.warn(`[Ionic Warning]: ${_e}`,...o),we=(_e,...o)=>console.error(`[Ionic Error]: ${_e}`,...o),nt=(_e,...o)=>console.error(`<${_e.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},3716:(dn,Pt,he)=>{"use strict";he.d(Pt,{B:()=>E,H:()=>H,a:()=>En,b:()=>tr,c:()=>re,d:()=>Ye,e:()=>An,f:()=>Le,g:()=>ge,h:()=>V,i:()=>xt,j:()=>w,r:()=>z,w:()=>At});var v=he(1528);let _e,o,W,C=!1,y=!1,_=!1,h=!1,f=!1;const E={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},w=je=>{const He=new URL(je,yn.$resourcesUrl$);return He.origin!==It.location.origin?He.href:He.pathname},m="s-id",p="sty-id",b="c-id",N="slot-fb{display:contents}slot-fb[hidden]{display:none}",R="http://www.w3.org/1999/xlink",k={},S=je=>"object"==(je=typeof je)||"function"===je;function D(je){var He,Mt,kt;return null!==(kt=null===(Mt=null===(He=je.head)||void 0===He?void 0:He.querySelector('meta[name="csp-nonce"]'))||void 0===Mt?void 0:Mt.getAttribute("content"))&&void 0!==kt?kt:void 0}const V=(je,He,...Mt)=>{let kt=null,Wt=null,ie=null,Re=!1,ve=!1;const Ve=[],pt=Dn=>{for(let On=0;On<Dn.length;On++)kt=Dn[On],Array.isArray(kt)?pt(kt):null!=kt&&"boolean"!=typeof kt&&((Re="function"!=typeof je&&!S(kt))&&(kt=String(kt)),Re&&ve?Ve[Ve.length-1].$text$+=kt:Ve.push(Re?Z(null,kt):kt),ve=Re)};if(pt(Mt),He){He.key&&(Wt=He.key),He.name&&(ie=He.name);{const Dn=He.className||He.class;Dn&&(He.class="object"!=typeof Dn?Dn:Object.keys(Dn).filter(On=>Dn[On]).join(" "))}}if("function"==typeof je)return je(null===He?{}:He,Ve,Y);const Kt=Z(je,null);return Kt.$attrs$=He,Ve.length>0&&(Kt.$children$=Ve),Kt.$key$=Wt,Kt.$name$=ie,Kt},Z=(je,He)=>({$flags$:0,$tag$:je,$text$:He,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),H={},Y={forEach:(je,He)=>je.map(q).forEach(He),map:(je,He)=>je.map(q).map(He).map(ne)},q=je=>({vattrs:je.$attrs$,vchildren:je.$children$,vkey:je.$key$,vname:je.$name$,vtag:je.$tag$,vtext:je.$text$}),ne=je=>{if("function"==typeof je.vtag){const Mt=Object.assign({},je.vattrs);return je.vkey&&(Mt.key=je.vkey),je.vname&&(Mt.name=je.vname),V(je.vtag,Mt,...je.vchildren||[])}const He=Z(je.vtag,je.vtext);return He.$attrs$=je.vattrs,He.$children$=je.vchildren,He.$key$=je.vkey,He.$name$=je.vname,He},xe=(je,He,Mt,kt,Wt,ie,Re)=>{let ve,Ve,pt,Kt;if(1===ie.nodeType){for(ve=ie.getAttribute(b),ve&&(Ve=ve.split("."),(Ve[0]===Re||"0"===Ve[0])&&(pt={$flags$:0,$hostId$:Ve[0],$nodeId$:Ve[1],$depth$:Ve[2],$index$:Ve[3],$tag$:ie.tagName.toLowerCase(),$elm$:ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},He.push(pt),ie.removeAttribute(b),je.$children$||(je.$children$=[]),je.$children$[pt.$index$]=pt,je=pt,kt&&"0"===pt.$depth$&&(kt[pt.$index$]=pt.$elm$))),Kt=ie.childNodes.length-1;Kt>=0;Kt--)xe(je,He,Mt,kt,Wt,ie.childNodes[Kt],Re);if(ie.shadowRoot)for(Kt=ie.shadowRoot.childNodes.length-1;Kt>=0;Kt--)xe(je,He,Mt,kt,Wt,ie.shadowRoot.childNodes[Kt],Re)}else if(8===ie.nodeType)Ve=ie.nodeValue.split("."),(Ve[1]===Re||"0"===Ve[1])&&(ve=Ve[0],pt={$flags$:0,$hostId$:Ve[1],$nodeId$:Ve[2],$depth$:Ve[3],$index$:Ve[4],$elm$:ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ve?(pt.$elm$=ie.nextSibling,pt.$elm$&&3===pt.$elm$.nodeType&&(pt.$text$=pt.$elm$.textContent,He.push(pt),ie.remove(),je.$children$||(je.$children$=[]),je.$children$[pt.$index$]=pt,kt&&"0"===pt.$depth$&&(kt[pt.$index$]=pt.$elm$))):pt.$hostId$===Re&&("s"===ve?(pt.$tag$="slot",ie["s-sn"]=Ve[5]?pt.$name$=Ve[5]:"",ie["s-sr"]=!0,kt&&(pt.$elm$=Zt.createElement(pt.$tag$),pt.$name$&&pt.$elm$.setAttribute("name",pt.$name$),ie.parentNode.insertBefore(pt.$elm$,ie),ie.remove(),"0"===pt.$depth$&&(kt[pt.$index$]=pt.$elm$)),Mt.push(pt),je.$children$||(je.$children$=[]),je.$children$[pt.$index$]=pt):"r"===ve&&(kt?ie.remove():(Wt["s-cr"]=ie,ie["s-cn"]=!0))));else if(je&&"style"===je.$tag$){const Dn=Z(null,ie.textContent);Dn.$elm$=ie,Dn.$index$="0",je.$children$=[Dn]}},K=(je,He)=>{if(1===je.nodeType){let Mt=0;for(;Mt<je.childNodes.length;Mt++)K(je.childNodes[Mt],He);if(je.shadowRoot)for(Mt=0;Mt<je.shadowRoot.childNodes.length;Mt++)K(je.shadowRoot.childNodes[Mt],He)}else if(8===je.nodeType){const Mt=je.nodeValue.split(".");"o"===Mt[0]&&(He.set(Mt[1]+"."+Mt[2],je),je.nodeValue="",je["s-en"]=Mt[3])}},re=je=>ct.push(je),ge=je=>P(je).$modeName$,Le=je=>P(je).$hostElement$,Ye=(je,He,Mt)=>{const kt=Le(je);return{emit:Wt=>et(kt,He,{bubbles:!!(4&Mt),composed:!!(2&Mt),cancelable:!!(1&Mt),detail:Wt})}},et=(je,He,Mt)=>{const kt=yn.ce(He,Mt);return je.dispatchEvent(kt),kt},Oe=new WeakMap,Ge=(je,He,Mt)=>{let kt=Ue.get(je);yr&&Mt?(kt=kt||new CSSStyleSheet,"string"==typeof kt?kt=He:kt.replaceSync(He)):kt=He,Ue.set(je,kt)},Be=(je,He,Mt)=>{var kt;const Wt=Qe(He,Mt),ie=Ue.get(Wt);if(je=11===je.nodeType?je:Zt,ie)if("string"==typeof ie){let ve,Re=Oe.get(je=je.head||je);if(Re||Oe.set(je,Re=new Set),!Re.has(Wt)){if(je.host&&(ve=je.querySelector(`[${p}="${Wt}"]`)))ve.innerHTML=ie;else{ve=Zt.createElement("style"),ve.innerHTML=ie;const Ve=null!==(kt=yn.$nonce$)&&void 0!==kt?kt:D(Zt);null!=Ve&&ve.setAttribute("nonce",Ve),je.insertBefore(ve,je.querySelector("link"))}4&He.$flags$&&(ve.innerHTML+=N),Re&&Re.add(Wt)}}else je.adoptedStyleSheets.includes(ie)||(je.adoptedStyleSheets=[...je.adoptedStyleSheets,ie]);return Wt},Qe=(je,He)=>"sc-"+(He&&32&je.$flags$?je.$tagName$+"-"+He:je.$tagName$),Ke=je=>je.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),vt=(je,He,Mt,kt,Wt,ie)=>{if(Mt!==kt){let Re=oe(je,He),ve=He.toLowerCase();if("class"===He){const Ve=je.classList,pt=yt(Mt),Kt=yt(kt);Ve.remove(...pt.filter(Dn=>Dn&&!Kt.includes(Dn))),Ve.add(...Kt.filter(Dn=>Dn&&!pt.includes(Dn)))}else if("style"===He){for(const Ve in Mt)(!kt||null==kt[Ve])&&(Ve.includes("-")?je.style.removeProperty(Ve):je.style[Ve]="");for(const Ve in kt)(!Mt||kt[Ve]!==Mt[Ve])&&(Ve.includes("-")?je.style.setProperty(Ve,kt[Ve]):je.style[Ve]=kt[Ve])}else if("key"!==He)if("ref"===He)kt&&kt(je);else if(Re||"o"!==He[0]||"n"!==He[1]){const Ve=S(kt);if((Re||Ve&&null!==kt)&&!Wt)try{if(je.tagName.includes("-"))je[He]=kt;else{const Kt=null==kt?"":kt;"list"===He?Re=!1:(null==Mt||je[He]!=Kt)&&(je[He]=Kt)}}catch{}let pt=!1;ve!==(ve=ve.replace(/^xlink\:?/,""))&&(He=ve,pt=!0),null==kt||!1===kt?(!1!==kt||""===je.getAttribute(He))&&(pt?je.removeAttributeNS(R,He):je.removeAttribute(He)):(!Re||4&ie||Wt)&&!Ve&&(kt=!0===kt?"":kt,pt?je.setAttributeNS(R,He,kt):je.setAttribute(He,kt))}else if(He="-"===He[2]?He.slice(3):oe(It,ve)?ve.slice(2):ve[2]+He.slice(3),Mt||kt){const Ve=He.endsWith(jt);He=He.replace(Ht,""),Mt&&yn.rel(je,He,Mt,Ve),kt&&yn.ael(je,He,kt,Ve)}}},mt=/\s/,yt=je=>je?je.split(mt):[],jt="Capture",Ht=new RegExp(jt+"$"),Rt=(je,He,Mt,kt)=>{const Wt=11===He.$elm$.nodeType&&He.$elm$.host?He.$elm$.host:He.$elm$,ie=je&&je.$attrs$||k,Re=He.$attrs$||k;for(kt in ie)kt in Re||vt(Wt,kt,ie[kt],void 0,Mt,He.$flags$);for(kt in Re)vt(Wt,kt,ie[kt],Re[kt],Mt,He.$flags$)},an=(je,He,Mt,kt)=>{const Wt=He.$children$[Mt];let Re,ve,Ve,ie=0;if(C||(_=!0,"slot"===Wt.$tag$&&(_e&&kt.classList.add(_e+"-s"),Wt.$flags$|=Wt.$children$?2:1)),null!==Wt.$text$)Re=Wt.$elm$=Zt.createTextNode(Wt.$text$);else if(1&Wt.$flags$)Re=Wt.$elm$=Zt.createTextNode("");else{if(h||(h="svg"===Wt.$tag$),Re=Wt.$elm$=Zt.createElementNS(h?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Wt.$flags$?"slot-fb":Wt.$tag$),h&&"foreignObject"===Wt.$tag$&&(h=!1),Rt(null,Wt,h),(je=>null!=je)(_e)&&Re["s-si"]!==_e&&Re.classList.add(Re["s-si"]=_e),Wt.$children$)for(ie=0;ie<Wt.$children$.length;++ie)ve=an(je,Wt,ie,Re),ve&&Re.appendChild(ve);"svg"===Wt.$tag$?h=!1:"foreignObject"===Re.tagName&&(h=!0)}return Re["s-hn"]=W,3&Wt.$flags$&&(Re["s-sr"]=!0,Re["s-cr"]=o,Re["s-sn"]=Wt.$name$||"",Ve=je&&je.$children$&&je.$children$[Mt],Ve&&Ve.$tag$===Wt.$tag$&&je.$elm$&&on(je.$elm$,!1)),Re},on=(je,He)=>{yn.$flags$|=1;const Mt=je.childNodes;for(let kt=Mt.length-1;kt>=0;kt--){const Wt=Mt[kt];Wt["s-hn"]!==W&&Wt["s-ol"]&&(_t(Wt).insertBefore(Wt,Nt(Wt)),Wt["s-ol"].remove(),Wt["s-ol"]=void 0,Wt["s-sh"]=void 0,_=!0),He&&on(Wt,He)}yn.$flags$&=-2},fn=(je,He,Mt,kt,Wt,ie)=>{let ve,Re=je["s-cr"]&&je["s-cr"].parentNode||je;for(Re.shadowRoot&&Re.tagName===W&&(Re=Re.shadowRoot);Wt<=ie;++Wt)kt[Wt]&&(ve=an(null,Mt,Wt,je),ve&&(kt[Wt].$elm$=ve,Re.insertBefore(ve,Nt(He))))},zt=(je,He,Mt)=>{for(let kt=He;kt<=Mt;++kt){const Wt=je[kt];if(Wt){const ie=Wt.$elm$;Dt(Wt),ie&&(y=!0,ie["s-ol"]?ie["s-ol"].remove():on(ie,!0),ie.remove())}}},lt=(je,He,Mt=!1)=>je.$tag$===He.$tag$&&("slot"===je.$tag$?je.$name$===He.$name$:!!Mt||je.$key$===He.$key$),Nt=je=>je&&je["s-ol"]||je,_t=je=>(je["s-ol"]?je["s-ol"]:je).parentNode,Pe=(je,He,Mt=!1)=>{const kt=He.$elm$=je.$elm$,Wt=je.$children$,ie=He.$children$,Re=He.$tag$,ve=He.$text$;let Ve;null===ve?(h="svg"===Re||"foreignObject"!==Re&&h,"slot"===Re&&!C||Rt(je,He,h),null!==Wt&&null!==ie?((je,He,Mt,kt,Wt=!1)=>{let jr,Ar,ie=0,Re=0,ve=0,Ve=0,pt=He.length-1,Kt=He[0],Dn=He[pt],On=kt.length-1,zn=kt[0],Xn=kt[On];for(;ie<=pt&&Re<=On;)if(null==Kt)Kt=He[++ie];else if(null==Dn)Dn=He[--pt];else if(null==zn)zn=kt[++Re];else if(null==Xn)Xn=kt[--On];else if(lt(Kt,zn,Wt))Pe(Kt,zn,Wt),Kt=He[++ie],zn=kt[++Re];else if(lt(Dn,Xn,Wt))Pe(Dn,Xn,Wt),Dn=He[--pt],Xn=kt[--On];else if(lt(Kt,Xn,Wt))("slot"===Kt.$tag$||"slot"===Xn.$tag$)&&on(Kt.$elm$.parentNode,!1),Pe(Kt,Xn,Wt),je.insertBefore(Kt.$elm$,Dn.$elm$.nextSibling),Kt=He[++ie],Xn=kt[--On];else if(lt(Dn,zn,Wt))("slot"===Kt.$tag$||"slot"===Xn.$tag$)&&on(Dn.$elm$.parentNode,!1),Pe(Dn,zn,Wt),je.insertBefore(Dn.$elm$,Kt.$elm$),Dn=He[--pt],zn=kt[++Re];else{for(ve=-1,Ve=ie;Ve<=pt;++Ve)if(He[Ve]&&null!==He[Ve].$key$&&He[Ve].$key$===zn.$key$){ve=Ve;break}ve>=0?(Ar=He[ve],Ar.$tag$!==zn.$tag$?jr=an(He&&He[Re],Mt,ve,je):(Pe(Ar,zn,Wt),He[ve]=void 0,jr=Ar.$elm$),zn=kt[++Re]):(jr=an(He&&He[Re],Mt,Re,je),zn=kt[++Re]),jr&&_t(Kt.$elm$).insertBefore(jr,Nt(Kt.$elm$))}ie>pt?fn(je,null==kt[On+1]?null:kt[On+1].$elm$,Mt,kt,Re,On):Re>On&&zt(He,ie,pt)})(kt,Wt,He,ie,Mt):null!==ie?(null!==je.$text$&&(kt.textContent=""),fn(kt,null,He,ie,0,ie.length-1)):null!==Wt&&zt(Wt,0,Wt.length-1),h&&"svg"===Re&&(h=!1)):(Ve=kt["s-cr"])?Ve.parentNode.textContent=ve:je.$text$!==ve&&(kt.data=ve)},Fe=je=>{const He=je.childNodes;for(const Mt of He)if(1===Mt.nodeType){if(Mt["s-sr"]){const kt=Mt["s-sn"];Mt.hidden=!1;for(const Wt of He)if(Wt!==Mt)if(Wt["s-hn"]!==Mt["s-hn"]||""!==kt){if(1===Wt.nodeType&&(kt===Wt.getAttribute("slot")||kt===Wt["s-sn"])){Mt.hidden=!0;break}}else if(1===Wt.nodeType||3===Wt.nodeType&&""!==Wt.textContent.trim()){Mt.hidden=!0;break}}Fe(Mt)}},Ie=[],Ze=je=>{let He,Mt,kt;for(const Wt of je.childNodes){if(Wt["s-sr"]&&(He=Wt["s-cr"])&&He.parentNode){Mt=He.parentNode.childNodes;const ie=Wt["s-sn"];for(kt=Mt.length-1;kt>=0;kt--)if(He=Mt[kt],!He["s-cn"]&&!He["s-nr"]&&He["s-hn"]!==Wt["s-hn"])if(wt(He,ie)){let Re=Ie.find(ve=>ve.$nodeToRelocate$===He);y=!0,He["s-sn"]=He["s-sn"]||ie,Re?(Re.$nodeToRelocate$["s-sh"]=Wt["s-hn"],Re.$slotRefNode$=Wt):(He["s-sh"]=Wt["s-hn"],Ie.push({$slotRefNode$:Wt,$nodeToRelocate$:He})),He["s-sr"]&&Ie.map(ve=>{wt(ve.$nodeToRelocate$,He["s-sn"])&&(Re=Ie.find(Ve=>Ve.$nodeToRelocate$===He),Re&&!ve.$slotRefNode$&&(ve.$slotRefNode$=Re.$slotRefNode$))})}else Ie.some(Re=>Re.$nodeToRelocate$===He)||Ie.push({$nodeToRelocate$:He})}1===Wt.nodeType&&Ze(Wt)}},wt=(je,He)=>1===je.nodeType?null===je.getAttribute("slot")&&""===He||je.getAttribute("slot")===He:je["s-sn"]===He||""===He,Dt=je=>{je.$attrs$&&je.$attrs$.ref&&je.$attrs$.ref(null),je.$children$&&je.$children$.map(Dt)},rn=(je,He)=>{He&&!je.$onRenderResolve$&&He["s-p"]&&He["s-p"].push(new Promise(Mt=>je.$onRenderResolve$=Mt))},bn=(je,He)=>{if(je.$flags$|=16,!(4&je.$flags$))return rn(je,je.$ancestorComponent$),At(()=>_n(je,He));je.$flags$|=512},_n=(je,He)=>{const kt=je.$lazyInstance$;let Wt;return He&&(je.$flags$|=256,je.$queuedListeners$&&(je.$queuedListeners$.map(([ie,Re])=>We(kt,ie,Re)),je.$queuedListeners$=void 0),Wt=We(kt,"componentWillLoad")),Wt=St(Wt,()=>We(kt,"componentWillRender")),St(Wt,()=>it(je,kt,He))},St=(je,He)=>Et(je)?je.then(He):He(),Et=je=>je instanceof Promise||je&&je.then&&"function"==typeof je.then,it=function(){var je=(0,v.c)(function*(He,Mt,kt){var Wt;const ie=He.$hostElement$,ve=ie["s-rc"];kt&&(je=>{const He=je.$cmpMeta$,Mt=je.$hostElement$,kt=He.$flags$,ie=Be(Mt.shadowRoot?Mt.shadowRoot:Mt.getRootNode(),He,je.$modeName$);10&kt&&(Mt["s-sc"]=ie,Mt.classList.add(ie+"-h"),2&kt&&Mt.classList.add(ie+"-s"))})(He);ze(He,Mt,ie,kt),ve&&(ve.map(pt=>pt()),ie["s-rc"]=void 0);{const pt=null!==(Wt=ie["s-p"])&&void 0!==Wt?Wt:[],Kt=()=>ut(He);0===pt.length?Kt():(Promise.all(pt).then(Kt),He.$flags$|=4,pt.length=0)}});return function(Mt,kt,Wt){return je.apply(this,arguments)}}(),ze=(je,He,Mt,kt)=>{try{He=He.render&&He.render(),je.$flags$&=-17,je.$flags$|=2,((je,He,Mt=!1)=>{var kt,Wt,ie,Re;const ve=je.$hostElement$,Ve=je.$cmpMeta$,pt=je.$vnode$||Z(null,null),Kt=(je=>je&&je.$tag$===H)(He)?He:V(null,null,He);if(W=ve.tagName,Ve.$attrsToReflect$&&(Kt.$attrs$=Kt.$attrs$||{},Ve.$attrsToReflect$.map(([Dn,On])=>Kt.$attrs$[On]=ve[Dn])),Mt&&Kt.$attrs$)for(const Dn of Object.keys(Kt.$attrs$))ve.hasAttribute(Dn)&&!["key","ref","style","class"].includes(Dn)&&(Kt.$attrs$[Dn]=ve[Dn]);if(Kt.$tag$=null,Kt.$flags$|=4,je.$vnode$=Kt,Kt.$elm$=pt.$elm$=ve.shadowRoot||ve,_e=ve["s-sc"],C=0!=(1&Ve.$flags$),o=ve["s-cr"],y=!1,Pe(pt,Kt,Mt),yn.$flags$|=1,_){Ze(Kt.$elm$);for(const Dn of Ie){const On=Dn.$nodeToRelocate$;if(!On["s-ol"]){const zn=Zt.createTextNode("");zn["s-nr"]=On,On.parentNode.insertBefore(On["s-ol"]=zn,On)}}for(const Dn of Ie){const On=Dn.$nodeToRelocate$,zn=Dn.$slotRefNode$;if(zn){const Xn=zn.parentNode;let jr=zn.nextSibling;{let Ar=null===(kt=On["s-ol"])||void 0===kt?void 0:kt.previousSibling;for(;Ar;){let Rr=null!==(Wt=Ar["s-nr"])&&void 0!==Wt?Wt:null;if(Rr&&Rr["s-sn"]===On["s-sn"]&&Xn===Rr.parentNode&&(Rr=Rr.nextSibling,!Rr||!Rr["s-nr"])){jr=Rr;break}Ar=Ar.previousSibling}}(!jr&&Xn!==On.parentNode||On.nextSibling!==jr)&&On!==jr&&(!On["s-hn"]&&On["s-ol"]&&(On["s-hn"]=On["s-ol"].parentNode.nodeName),Xn.insertBefore(On,jr),1===On.nodeType&&(On.hidden=null!==(ie=On["s-ih"])&&void 0!==ie&&ie))}else 1===On.nodeType&&(Mt&&(On["s-ih"]=null!==(Re=On.hidden)&&void 0!==Re&&Re),On.hidden=!0)}}y&&Fe(Kt.$elm$),yn.$flags$&=-2,Ie.length=0,o=void 0})(je,He,kt)}catch(Wt){ae(Wt,je.$hostElement$)}return null},ut=je=>{const Mt=je.$hostElement$,Wt=je.$lazyInstance$,ie=je.$ancestorComponent$;We(Wt,"componentDidRender"),64&je.$flags$?We(Wt,"componentDidUpdate"):(je.$flags$|=64,bt(Mt),We(Wt,"componentDidLoad"),je.$onReadyResolve$(Mt),ie||en()),je.$onInstanceResolve$(Mt),je.$onRenderResolve$&&(je.$onRenderResolve$(),je.$onRenderResolve$=void 0),512&je.$flags$&&un(()=>bn(je,!1)),je.$flags$&=-517},xt=je=>{{const He=P(je),Mt=He.$hostElement$.isConnected;return Mt&&2==(18&He.$flags$)&&bn(He,!1),Mt}},en=je=>{bt(Zt.documentElement),un(()=>et(It,"appload",{detail:{namespace:"ionic"}}))},We=(je,He,Mt)=>{if(je&&je[He])try{return je[He](Mt)}catch(kt){ae(kt)}},bt=je=>je.classList.add("hydrated"),Vt=(je,He,Mt)=>{var kt;const Wt=je.prototype;if(He.$members$){je.watchers&&(He.$watchers$=je.watchers);const ie=Object.entries(He.$members$);if(ie.map(([Re,[ve]])=>{31&ve||2&Mt&&32&ve?Object.defineProperty(Wt,Re,{get(){return((je,He)=>P(this).$instanceValues$.get(He))(0,Re)},set(Ve){((je,He,Mt,kt)=>{const Wt=P(je),ie=Wt.$hostElement$,Re=Wt.$instanceValues$.get(He),ve=Wt.$flags$,Ve=Wt.$lazyInstance$;Mt=((je,He)=>null==je||S(je)?je:4&He?"false"!==je&&(""===je||!!je):2&He?parseFloat(je):1&He?String(je):je)(Mt,kt.$members$[He][0]);const pt=Number.isNaN(Re)&&Number.isNaN(Mt);if((!(8&ve)||void 0===Re)&&Mt!==Re&&!pt&&(Wt.$instanceValues$.set(He,Mt),Ve)){if(kt.$watchers$&&128&ve){const Dn=kt.$watchers$[He];Dn&&Dn.map(On=>{try{Ve[On](Mt,Re,He)}catch(zn){ae(zn,ie)}})}2==(18&ve)&&bn(Wt,!1)}})(this,Re,Ve,He)},configurable:!0,enumerable:!0}):1&Mt&&64&ve&&Object.defineProperty(Wt,Re,{value(...Ve){var pt;const Kt=P(this);return null===(pt=null==Kt?void 0:Kt.$onInstancePromise$)||void 0===pt?void 0:pt.then(()=>{var Dn;return null===(Dn=Kt.$lazyInstance$)||void 0===Dn?void 0:Dn[Re](...Ve)})}})}),1&Mt){const Re=new Map;Wt.attributeChangedCallback=function(ve,Ve,pt){yn.jmp(()=>{var Kt;const Dn=Re.get(ve);if(this.hasOwnProperty(Dn))pt=this[Dn],delete this[Dn];else{if(Wt.hasOwnProperty(Dn)&&"number"==typeof this[Dn]&&this[Dn]==pt)return;if(null==Dn){const On=P(this),zn=null==On?void 0:On.$flags$;if(zn&&!(8&zn)&&128&zn&&pt!==Ve){const Xn=On.$lazyInstance$,jr=null===(Kt=He.$watchers$)||void 0===Kt?void 0:Kt[ve];null==jr||jr.forEach(Ar=>{null!=Xn[Ar]&&Xn[Ar].call(Xn,pt,Ve,ve)})}return}}this[Dn]=(null!==pt||"boolean"!=typeof this[Dn])&&pt})},je.observedAttributes=Array.from(new Set([...Object.keys(null!==(kt=He.$watchers$)&&void 0!==kt?kt:{}),...ie.filter(([ve,Ve])=>15&Ve[0]).map(([ve,Ve])=>{var pt;const Kt=Ve[1]||ve;return Re.set(Kt,ve),512&Ve[0]&&(null===(pt=He.$attrsToReflect$)||void 0===pt||pt.push([ve,Kt])),Kt})]))}}return je},cn=function(){var je=(0,v.c)(function*(He,Mt,kt,Wt){let ie;if(!(32&Mt.$flags$)){Mt.$flags$|=32;{if(ie=ye(kt),ie.then){const pt=()=>{};ie=yield ie,pt()}ie.isProxied||(kt.$watchers$=ie.watchers,Vt(ie,kt,2),ie.isProxied=!0);const Ve=()=>{};Mt.$flags$|=8;try{new ie(Mt)}catch(pt){ae(pt)}Mt.$flags$&=-9,Mt.$flags$|=128,Ve(),gn(Mt.$lazyInstance$)}if(ie.style){let Ve=ie.style;"string"!=typeof Ve&&(Ve=Ve[Mt.$modeName$=(je=>ct.map(He=>He(je)).find(He=>!!He))(He)]);const pt=Qe(kt,Mt.$modeName$);if(!Ue.has(pt)){const Kt=()=>{};Ge(pt,Ve,!!(1&kt.$flags$)),Kt()}}}const Re=Mt.$ancestorComponent$,ve=()=>bn(Mt,!0);Re&&Re["s-rc"]?Re["s-rc"].push(ve):ve()});return function(Mt,kt,Wt,ie){return je.apply(this,arguments)}}(),gn=je=>{We(je,"connectedCallback")},Sn=je=>{const He=je["s-cr"]=Zt.createComment("");He["s-cn"]=!0,je.insertBefore(He,je.firstChild)},Cn=je=>{We(je,"disconnectedCallback")},Zn=function(){var je=(0,v.c)(function*(He){if(!(1&yn.$flags$)){const Mt=P(He);Mt.$rmListeners$&&(Mt.$rmListeners$.map(kt=>kt()),Mt.$rmListeners$=void 0),null!=Mt&&Mt.$lazyInstance$?Cn(Mt.$lazyInstance$):null!=Mt&&Mt.$onReadyPromise$&&Mt.$onReadyPromise$.then(()=>Cn(Mt.$lazyInstance$))}});return function(Mt){return je.apply(this,arguments)}}(),tr=(je,He={})=>{var Mt;const Wt=[],ie=He.exclude||[],Re=It.customElements,ve=Zt.head,Ve=ve.querySelector("meta[charset]"),pt=Zt.createElement("style"),Kt=[],Dn=Zt.querySelectorAll(`[${p}]`);let On,zn=!0,Xn=0;for(Object.assign(yn,He),yn.$resourcesUrl$=new URL(He.resourcesUrl||"./",Zt.baseURI).href,yn.$flags$|=2;Xn<Dn.length;Xn++)Ge(Dn[Xn].getAttribute(p),Ke(Dn[Xn].innerHTML),!0);let jr=!1;if(je.map(Ar=>{Ar[1].map(Rr=>{var Bo;const Br={$flags$:Rr[0],$tagName$:Rr[1],$members$:Rr[2],$listeners$:Rr[3]};4&Br.$flags$&&(jr=!0),Br.$members$=Rr[2],Br.$listeners$=Rr[3],Br.$attrsToReflect$=[],Br.$watchers$=null!==(Bo=Rr[4])&&void 0!==Bo?Bo:{};const hr=Br.$tagName$,Tn=class extends HTMLElement{constructor(Fn){super(Fn),F(Fn=this,Br),1&Br.$flags$&&Fn.attachShadow({mode:"open",delegatesFocus:!!(16&Br.$flags$)})}connectedCallback(){On&&(clearTimeout(On),On=null),zn?Kt.push(this):yn.jmp(()=>(je=>{if(!(1&yn.$flags$)){const He=P(je),Mt=He.$cmpMeta$,kt=()=>{};if(1&He.$flags$)ar(je,He,Mt.$listeners$),null!=He&&He.$lazyInstance$?gn(He.$lazyInstance$):null!=He&&He.$onReadyPromise$&&He.$onReadyPromise$.then(()=>gn(He.$lazyInstance$));else{let Wt;if(He.$flags$|=1,Wt=je.getAttribute(m),Wt){if(1&Mt.$flags$){const ie=Be(je.shadowRoot,Mt,je.getAttribute("s-mode"));je.classList.remove(ie+"-h",ie+"-s")}((je,He,Mt,kt)=>{const ie=je.shadowRoot,Re=[],Ve=ie?[]:null,pt=kt.$vnode$=Z(He,null);yn.$orgLocNodes$||K(Zt.body,yn.$orgLocNodes$=new Map),je[m]=Mt,je.removeAttribute(m),xe(pt,Re,[],Ve,je,je,Mt),Re.map(Kt=>{const Dn=Kt.$hostId$+"."+Kt.$nodeId$,On=yn.$orgLocNodes$.get(Dn),zn=Kt.$elm$;On&&Rn&&""===On["s-en"]&&On.parentNode.insertBefore(zn,On.nextSibling),ie||(zn["s-hn"]=He,On&&(zn["s-ol"]=On,zn["s-ol"]["s-nr"]=zn)),yn.$orgLocNodes$.delete(Dn)}),ie&&Ve.map(Kt=>{Kt&&ie.appendChild(Kt)})})(je,Mt.$tagName$,Wt,He)}Wt||12&Mt.$flags$&&Sn(je);{let ie=je;for(;ie=ie.parentNode||ie.host;)if(1===ie.nodeType&&ie.hasAttribute("s-id")&&ie["s-p"]||ie["s-p"]){rn(He,He.$ancestorComponent$=ie);break}}Mt.$members$&&Object.entries(Mt.$members$).map(([ie,[Re]])=>{if(31&Re&&je.hasOwnProperty(ie)){const ve=je[ie];delete je[ie],je[ie]=ve}}),cn(je,He,Mt)}kt()}})(this))}disconnectedCallback(){yn.jmp(()=>Zn(this))}componentOnReady(){return P(this).$onReadyPromise$}};Br.$lazyBundleId$=Ar[0],!ie.includes(hr)&&!Re.get(hr)&&(Wt.push(hr),Re.define(hr,Vt(Tn,Br,1)))})}),Wt.length>0&&(jr&&(pt.textContent+=N),pt.textContent+=Wt+"{visibility:hidden}.hydrated{visibility:inherit}",pt.innerHTML.length)){pt.setAttribute("data-styles","");const Ar=null!==(Mt=yn.$nonce$)&&void 0!==Mt?Mt:D(Zt);null!=Ar&&pt.setAttribute("nonce",Ar),ve.insertBefore(pt,Ve?Ve.nextSibling:ve.firstChild)}zn=!1,Kt.length?Kt.map(Ar=>Ar.connectedCallback()):yn.jmp(()=>On=setTimeout(en,30))},ar=(je,He,Mt,kt)=>{Mt&&Mt.map(([Wt,ie,Re])=>{const ve=Hn(je,Wt),Ve=Pn(He,Re),pt=G(Wt);yn.ael(ve,ie,Ve,pt),(He.$rmListeners$=He.$rmListeners$||[]).push(()=>yn.rel(ve,ie,Ve,pt))})},Pn=(je,He)=>Mt=>{try{256&je.$flags$?je.$lazyInstance$[He](Mt):(je.$queuedListeners$=je.$queuedListeners$||[]).push([He,Mt])}catch(kt){ae(kt)}},Hn=(je,He)=>4&He?Zt:8&He?It:16&He?Zt.body:je,G=je=>Wn?{passive:0!=(1&je),capture:0!=(2&je)}:0!=(2&je),Se=new WeakMap,P=je=>Se.get(je),z=(je,He)=>Se.set(He.$lazyInstance$=je,He),F=(je,He)=>{const Mt={$flags$:0,$hostElement$:je,$cmpMeta$:He,$instanceValues$:new Map};return Mt.$onInstancePromise$=new Promise(kt=>Mt.$onInstanceResolve$=kt),Mt.$onReadyPromise$=new Promise(kt=>Mt.$onReadyResolve$=kt),je["s-p"]=[],je["s-rc"]=[],ar(je,Mt,He.$listeners$),Se.set(je,Mt)},oe=(je,He)=>He in je,ae=(je,He)=>(0,console.error)(je,He),ee=new Map,ye=(je,He,Mt)=>{const kt=je.$tagName$.replace(/-/g,"_"),Wt=je.$lazyBundleId$,ie=ee.get(Wt);return ie?ie[kt]:he(1480)(`./${Wt}.entry.js`).then(Re=>(ee.set(Wt,Re),Re[kt]),ae)},Ue=new Map,ct=[],It=typeof window<"u"?window:{},Zt=It.document||{head:{}},yn={$flags$:0,$resourcesUrl$:"",jmp:je=>je(),raf:je=>requestAnimationFrame(je),ael:(je,He,Mt,kt)=>je.addEventListener(He,Mt,kt),rel:(je,He,Mt,kt)=>je.removeEventListener(He,Mt,kt),ce:(je,He)=>new CustomEvent(je,He)},En=je=>{Object.assign(yn,je)},Rn=!0,Wn=(()=>{let je=!1;try{Zt.addEventListener("e",null,Object.defineProperty({},"passive",{get(){je=!0}}))}catch{}return je})(),yr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),st=[],ft=[],$e=(je,He)=>Mt=>{je.push(Mt),f||(f=!0,He&&4&yn.$flags$?un($t):yn.raf($t))},at=je=>{for(let He=0;He<je.length;He++)try{je[He](performance.now())}catch(Mt){ae(Mt)}je.length=0},$t=()=>{at(st),at(ft),(f=st.length>0)&&yn.raf($t)},un=je=>Promise.resolve(void 0).then(je),An=$e(st,!1),At=$e(ft,!0)},148:(dn,Pt,he)=>{"use strict";he.d(Pt,{m:()=>w});var v=he(1528),we=he(4829),nt=he(136),_e=he(2032),o=he(6384),W=he(1780),C=he(388);const y=a=>(0,C.c)().duration(a?400:300),_=a=>{let l,d;const u=a.width+8,c=(0,C.c)(),s=(0,C.c)();a.isEndSide?(l=u+"px",d="0px"):(l=-u+"px",d="0px"),c.addElement(a.menuInnerEl).fromTo("transform",`translateX(${l})`,`translateX(${d})`);const p="ios"===(0,W.b)(a),b=p?.2:.25;return s.addElement(a.backdropEl).fromTo("opacity",.01,b),y(p).addAnimation([c,s])},h=a=>{let l,d;const u=(0,W.b)(a),c=a.width;a.isEndSide?(l=-c+"px",d=c+"px"):(l=c+"px",d=-c+"px");const s=(0,C.c)().addElement(a.menuInnerEl).fromTo("transform",`translateX(${d})`,"translateX(0px)"),m=(0,C.c)().addElement(a.contentEl).fromTo("transform","translateX(0px)",`translateX(${l})`),p=(0,C.c)().addElement(a.backdropEl).fromTo("opacity",.01,.32);return y("ios"===u).addAnimation([s,m,p])},f=a=>{const l=(0,W.b)(a),d=a.width*(a.isEndSide?-1:1)+"px",u=(0,C.c)().addElement(a.contentEl).fromTo("transform","translateX(0px)",`translateX(${d})`);return y("ios"===l).addAnimation(u)},w=(()=>{const a=new Map,l=[],d=function(){var q=(0,v.c)(function*(ne){const de=yield O(ne,!0);return!!de&&de.open()});return function(de){return q.apply(this,arguments)}}(),u=function(){var q=(0,v.c)(function*(ne){const de=yield void 0!==ne?O(ne,!0):N();return void 0!==de&&de.close()});return function(de){return q.apply(this,arguments)}}(),c=function(){var q=(0,v.c)(function*(ne){const de=yield O(ne,!0);return!!de&&de.toggle()});return function(de){return q.apply(this,arguments)}}(),s=function(){var q=(0,v.c)(function*(ne,de){const xe=yield O(de);return xe&&(xe.disabled=!ne),xe});return function(de,xe){return q.apply(this,arguments)}}(),m=function(){var q=(0,v.c)(function*(ne,de){const xe=yield O(de);return xe&&(xe.swipeGesture=ne),xe});return function(de,xe){return q.apply(this,arguments)}}(),p=function(){var q=(0,v.c)(function*(ne){if(null!=ne){const de=yield O(ne);return void 0!==de&&de.isOpen()}return void 0!==(yield N())});return function(de){return q.apply(this,arguments)}}(),b=function(){var q=(0,v.c)(function*(ne){const de=yield O(ne);return!!de&&!de.disabled});return function(de){return q.apply(this,arguments)}}(),O=function(){var q=(0,v.c)(function*(ne,de=!1){if(yield Y(),"start"===ne||"end"===ne){const K=l.filter(re=>re.side===ne&&!re.disabled);if(K.length>=1)return K.length>1&&de&&(0,_e.p)(`menuController queried for a menu on the "${ne}" side, but ${K.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,K.map(re=>re.el)),K[0].el;const L=l.filter(re=>re.side===ne);if(L.length>=1)return L.length>1&&de&&(0,_e.p)(`menuController queried for a menu on the "${ne}" side, but ${L.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,L.map(re=>re.el)),L[0].el}else if(null!=ne)return Q(K=>K.menuId===ne);return Q(K=>!K.disabled)||(l.length>0?l[0].el:void 0)});return function(de){return q.apply(this,arguments)}}(),N=function(){var q=(0,v.c)(function*(){return yield Y(),V()});return function(){return q.apply(this,arguments)}}(),R=function(){var q=(0,v.c)(function*(){return yield Y(),Z()});return function(){return q.apply(this,arguments)}}(),k=function(){var q=(0,v.c)(function*(){return yield Y(),H()});return function(){return q.apply(this,arguments)}}(),A=(q,ne)=>{a.set(q,ne)},S=function(){var q=(0,v.c)(function*(ne,de,xe){if(H())return!1;if(de){const K=yield N();K&&ne.el!==K&&(yield K.setOpen(!1,!1))}return ne._setOpen(de,xe)});return function(de,xe,K){return q.apply(this,arguments)}}(),V=()=>Q(q=>q._isOpen),Z=()=>l.map(q=>q.el),H=()=>l.some(q=>q.isAnimating),Q=q=>{const ne=l.find(q);if(void 0!==ne)return ne.el},Y=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(q=>new Promise(ne=>(0,o.c)(q,ne))));return A("reveal",f),A("push",h),A("overlay",_),null==we.d||we.d.addEventListener("ionBackButton",q=>{const ne=V();ne&&q.detail.register(nt.MENU_BACK_BUTTON_PRIORITY,()=>ne.close())}),{registerAnimation:A,get:O,getMenus:R,getOpen:N,isEnabled:b,swipeGesture:m,isAnimating:k,isOpen:p,enable:s,toggle:c,close:u,open:d,_getOpenSync:V,_createAnimation:(q,ne)=>{const de=a.get(q);if(!de)throw new Error("animation not registered");return de(ne)},_register:q=>{l.indexOf(q)<0&&l.push(q)},_unregister:q=>{const ne=l.indexOf(q);ne>-1&&l.splice(ne,1)},_setOpen:S}})()},4829:(dn,Pt,he)=>{"use strict";he.d(Pt,{d:()=>we,w:()=>v});const v=typeof window<"u"?window:void 0,we=typeof document<"u"?document:void 0},968:(dn,Pt,he)=>{"use strict";he.d(Pt,{b:()=>W,c:()=>C,d:()=>y,e:()=>R,g:()=>$,l:()=>O,s:()=>k,t:()=>f,w:()=>N});var v=he(1528),we=he(3716),nt=he(6384);const W="ionViewWillLeave",C="ionViewDidLeave",y="ionViewWillUnload",f=j=>new Promise((S,D)=>{(0,we.w)(()=>{E(j),w(j).then(V=>{V.animation&&V.animation.destroy(),a(j),S(V)},V=>{a(j),D(V)})})}),E=j=>{const S=j.enteringEl,D=j.leavingEl;A(S,D,j.direction),j.showGoBack?S.classList.add("can-go-back"):S.classList.remove("can-go-back"),k(S,!1),S.style.setProperty("pointer-events","none"),D&&(k(D,!1),D.style.setProperty("pointer-events","none"))},w=function(){var j=(0,v.c)(function*(S){const D=yield l(S);return D&&we.B.isBrowser?d(D,S):u(S)});return function(D){return j.apply(this,arguments)}}(),a=j=>{const S=j.enteringEl,D=j.leavingEl;S.classList.remove("ion-page-invisible"),S.style.removeProperty("pointer-events"),void 0!==D&&(D.classList.remove("ion-page-invisible"),D.style.removeProperty("pointer-events"))},l=function(){var j=(0,v.c)(function*(S){return S.leavingEl&&S.animated&&0!==S.duration?S.animationBuilder?S.animationBuilder:"ios"===S.mode?(yield Promise.resolve().then(he.bind(he,3760))).iosTransitionAnimation:(yield Promise.resolve().then(he.bind(he,2976))).mdTransitionAnimation:void 0});return function(D){return j.apply(this,arguments)}}(),d=function(){var j=(0,v.c)(function*(S,D){yield c(D,!0);const V=S(D.baseEl,D);p(D.enteringEl,D.leavingEl);const Z=yield m(V,D);return D.progressCallback&&D.progressCallback(void 0),Z&&b(D.enteringEl,D.leavingEl),{hasCompleted:Z,animation:V}});return function(D,V){return j.apply(this,arguments)}}(),u=function(){var j=(0,v.c)(function*(S){const D=S.enteringEl,V=S.leavingEl;return yield c(S,!1),p(D,V),b(D,V),{hasCompleted:!0}});return function(D){return j.apply(this,arguments)}}(),c=function(){var j=(0,v.c)(function*(S,D){(void 0!==S.deepWait?S.deepWait:D)&&(yield Promise.all([R(S.enteringEl),R(S.leavingEl)])),yield s(S.viewIsReady,S.enteringEl)});return function(D,V){return j.apply(this,arguments)}}(),s=function(){var j=(0,v.c)(function*(S,D){S&&(yield S(D))});return function(D,V){return j.apply(this,arguments)}}(),m=(j,S)=>{const D=S.progressCallback,V=new Promise(Z=>{j.onFinish(H=>Z(1===H))});return D?(j.progressStart(!0),D(j)):j.play(),V},p=(j,S)=>{O(S,W),O(j,"ionViewWillEnter")},b=(j,S)=>{O(j,"ionViewDidEnter"),O(S,C)},O=(j,S)=>{if(j){const D=new CustomEvent(S,{bubbles:!1,cancelable:!1});j.dispatchEvent(D)}},N=()=>new Promise(j=>(0,nt.r)(()=>(0,nt.r)(()=>j()))),R=function(){var j=(0,v.c)(function*(S){const D=S;if(D){if(null!=D.componentOnReady){if(null!=(yield D.componentOnReady()))return}else if(null!=D.__registerHost)return void(yield new Promise(Z=>(0,nt.r)(Z)));yield Promise.all(Array.from(D.children).map(R))}});return function(D){return j.apply(this,arguments)}}(),k=(j,S)=>{S?(j.setAttribute("aria-hidden","true"),j.classList.add("ion-page-hidden")):(j.hidden=!1,j.removeAttribute("aria-hidden"),j.classList.remove("ion-page-hidden"))},A=(j,S,D)=>{void 0!==j&&(j.style.zIndex="back"===D?"99":"101"),void 0!==S&&(S.style.zIndex="100")},$=j=>j.classList.contains("ion-page")?j:j.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||j},4708:(dn,Pt,he)=>{"use strict";he.d(Pt,{AF:()=>C.I,KQ:()=>_.l,MZ:()=>_e.mdTransitionAnimation,W4:()=>_.a,cp:()=>C.s,kT:()=>_.m,oz:()=>_.c,uw:()=>nt.iosTransitionAnimation}),he(388),he(968);var nt=he(3760),_e=he(2976),C=(he(2528),he(1780),he(9637)),_=(he(148),he(5820));he(4829),he(3716),he(6560),he(136)},1780:(dn,Pt,he)=>{"use strict";he.d(Pt,{a:()=>f,b:()=>Z,c:()=>nt,i:()=>H});var v=he(3716);class we{constructor(){this.m=new Map}reset(Y){this.m=new Map(Object.entries(Y))}get(Y,q){const ne=this.m.get(Y);return void 0!==ne?ne:q}getBoolean(Y,q=!1){const ne=this.m.get(Y);return void 0===ne?q:"string"==typeof ne?"true"===ne:!!ne}getNumber(Y,q){const ne=parseFloat(this.m.get(Y));return isNaN(ne)?void 0!==q?q:NaN:ne}set(Y,q){this.m.set(Y,q)}}const nt=new we,y="ionic:",_="ionic-persist-config",f=(Q,Y)=>("string"==typeof Q&&(Y=Q,Q=void 0),(Q=>E(Q))(Q).includes(Y)),E=(Q=window)=>{if(typeof Q>"u")return[];Q.Ionic=Q.Ionic||{};let Y=Q.Ionic.platforms;return null==Y&&(Y=Q.Ionic.platforms=w(Q),Y.forEach(q=>Q.document.documentElement.classList.add(`plt-${q}`))),Y},w=Q=>{const Y=nt.get("platform");return Object.keys(D).filter(q=>{const ne=null==Y?void 0:Y[q];return"function"==typeof ne?ne(Q):D[q](Q)})},l=Q=>!!(j(Q,/iPad/i)||j(Q,/Macintosh/i)&&b(Q)),c=Q=>j(Q,/android|sink/i),b=Q=>S(Q,"(any-pointer:coarse)"),N=Q=>R(Q)||k(Q),R=Q=>!!(Q.cordova||Q.phonegap||Q.PhoneGap),k=Q=>{const Y=Q.Capacitor;return!(null==Y||!Y.isNative)},j=(Q,Y)=>Y.test(Q.navigator.userAgent),S=(Q,Y)=>{var q;return null===(q=Q.matchMedia)||void 0===q?void 0:q.call(Q,Y).matches},D={ipad:l,iphone:Q=>j(Q,/iPhone/i),ios:Q=>j(Q,/iPhone|iPod/i)||l(Q),android:c,phablet:Q=>{const Y=Q.innerWidth,q=Q.innerHeight,ne=Math.min(Y,q),de=Math.max(Y,q);return ne>390&&ne<520&&de>620&&de<800},tablet:Q=>{const Y=Q.innerWidth,q=Q.innerHeight,ne=Math.min(Y,q),de=Math.max(Y,q);return l(Q)||(Q=>c(Q)&&!j(Q,/mobile/i))(Q)||ne>460&&ne<820&&de>780&&de<1400},cordova:R,capacitor:k,electron:Q=>j(Q,/electron/i),pwa:Q=>{var Y;return!!(null!==(Y=Q.matchMedia)&&void 0!==Y&&Y.call(Q,"(display-mode: standalone)").matches||Q.navigator.standalone)},mobile:b,mobileweb:Q=>b(Q)&&!N(Q),desktop:Q=>!b(Q),hybrid:N};let V;const Z=Q=>Q&&(0,v.g)(Q)||V,H=(Q={})=>{if(typeof window>"u")return;const Y=window.document,q=window,ne=q.Ionic=q.Ionic||{},de={};Q._ael&&(de.ael=Q._ael),Q._rel&&(de.rel=Q._rel),Q._ce&&(de.ce=Q._ce),(0,v.a)(de);const xe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Q=>{try{const Y=Q.sessionStorage.getItem(_);return null!==Y?JSON.parse(Y):{}}catch{return{}}})(q)),{persistConfig:!1}),ne.config),(Q=>{const Y={};return Q.location.search.slice(1).split("&").map(q=>q.split("=")).map(([q,ne])=>[decodeURIComponent(q),decodeURIComponent(ne)]).filter(([q])=>((Q,Y)=>Q.substr(0,Y.length)===Y)(q,y)).map(([q,ne])=>[q.slice(6),ne]).forEach(([q,ne])=>{Y[q]=ne}),Y})(q)),Q);nt.reset(xe),nt.getBoolean("persistConfig")&&((Q,Y)=>{try{Q.sessionStorage.setItem(_,JSON.stringify(Y))}catch{return}})(q,xe),E(q),ne.config=nt,ne.mode=V=nt.get("mode",Y.documentElement.getAttribute("mode")||(f(q,"ios")?"ios":"md")),nt.set("mode",V),Y.documentElement.setAttribute("mode",V),Y.documentElement.classList.add(V),nt.getBoolean("_testing")&&nt.set("animated",!1);const K=re=>{var ge;return null===(ge=re.tagName)||void 0===ge?void 0:ge.startsWith("ION-")},L=re=>["ios","md"].includes(re);(0,v.c)(re=>{for(;re;){const ge=re.mode||re.getAttribute("mode");if(ge){if(L(ge))return ge;K(re)&&console.warn('Invalid ionic mode: "'+ge+'", expected: "ios" or "md"')}re=re.parentElement}return V})}},3760:(dn,Pt,he)=>{"use strict";he.r(Pt),he.d(Pt,{iosTransitionAnimation:()=>w,shadow:()=>C});var v=he(388),we=he(968);he(4829),he(3716);const W=l=>document.querySelector(`${l}.ion-cloned-element`),C=l=>l.shadowRoot||l,y=l=>{const d="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs"),u="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=d){const c=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=c?c.querySelector(u):null}return l.querySelector(u)},_=(l,d)=>{const u="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs");let c=[];if(null!=u){const s=u.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=s&&(c=s.querySelectorAll("ion-buttons"))}else c=l.querySelectorAll("ion-buttons");for(const s of c){const m=s.closest("ion-header"),p=m&&!m.classList.contains("header-collapse-condense-inactive"),b=s.querySelector("ion-back-button"),O=s.classList.contains("buttons-collapse");if(null!==b&&("start"===s.slot||""===s.slot)&&(O&&p&&d||!O))return b}return null},f=(l,d,u,c,s,m,p,b,O)=>{var N,R;const k=d?`calc(100% - ${s.right+4}px)`:s.left-4+"px",A=d?"right":"left",$=d?"left":"right",j=d?"right":"left",S=(null===(N=m.textContent)||void 0===N?void 0:N.trim())===(null===(R=b.textContent)||void 0===R?void 0:R.trim()),V=(O.height-a)/p.height,Z=S?`scale(${O.width/p.width}, ${V})`:`scale(${V})`,H="scale(1)",Y=C(c).querySelector("ion-icon").getBoundingClientRect(),q=d?Y.width/2-(Y.right-s.right)+"px":s.left-Y.width/2+"px",ne=d?`-${window.innerWidth-s.right}px`:`${s.left}px`,de=`${O.top}px`,xe=`${s.top}px`,re=u?[{offset:0,transform:`translate3d(${ne}, ${xe}, 0)`},{offset:1,transform:`translate3d(${q}, ${de}, 0)`}]:[{offset:0,transform:`translate3d(${q}, ${de}, 0)`},{offset:1,transform:`translate3d(${ne}, ${xe}, 0)`}],Le=u?[{offset:0,opacity:1,transform:H},{offset:1,opacity:0,transform:Z}]:[{offset:0,opacity:0,transform:Z},{offset:1,opacity:1,transform:H}],Oe=u?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Ge=(0,v.c)(),Be=(0,v.c)(),Ae=(0,v.c)(),Qe=W("ion-back-button"),Ke=C(Qe).querySelector(".button-text"),vt=C(Qe).querySelector("ion-icon");Qe.text=c.text,Qe.mode=c.mode,Qe.icon=c.icon,Qe.color=c.color,Qe.disabled=c.disabled,Qe.style.setProperty("display","block"),Qe.style.setProperty("position","fixed"),Be.addElement(vt),Ge.addElement(Ke),Ae.addElement(Qe),Ae.beforeStyles({position:"absolute",top:"0px",[j]:"0px"}).keyframes(re),Ge.beforeStyles({"transform-origin":`${A} top`}).beforeAddWrite(()=>{c.style.setProperty("display","none"),Qe.style.setProperty(A,k)}).afterAddWrite(()=>{c.style.setProperty("display",""),Qe.style.setProperty("display","none"),Qe.style.removeProperty(A)}).keyframes(Le),Be.beforeStyles({"transform-origin":`${$} center`}).keyframes(Oe),l.addAnimation([Ge,Be,Ae])},E=(l,d,u,c,s,m,p,b)=>{var O,N;const R=d?"right":"left",k=d?`calc(100% - ${s.right}px)`:`${s.left}px`,$=`${s.top}px`,S=d?`-${window.innerWidth-b.right-8}px`:b.x-8+"px",V=b.y-2+"px",Z=(null===(O=p.textContent)||void 0===O?void 0:O.trim())===(null===(N=c.textContent)||void 0===N?void 0:N.trim()),Q=b.height/(m.height-a),Y="scale(1)",q=Z?`scale(${b.width/m.width}, ${Q})`:`scale(${Q})`,xe=u?[{offset:0,opacity:0,transform:`translate3d(${S}, ${V}, 0) ${q}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${$}, 0) ${Y}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${$}, 0) ${Y}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${S}, ${V}, 0) ${q}`}],K=W("ion-title"),L=(0,v.c)();K.innerText=c.innerText,K.size=c.size,K.color=c.color,L.addElement(K),L.beforeStyles({"transform-origin":`${R} top`,height:`${s.height}px`,display:"",position:"relative",[R]:k}).beforeAddWrite(()=>{c.style.setProperty("opacity","0")}).afterAddWrite(()=>{c.style.setProperty("opacity",""),K.style.setProperty("display","none")}).keyframes(xe),l.addAnimation(L)},w=(l,d)=>{var u;try{const c="cubic-bezier(0.32,0.72,0,1)",s="opacity",m="transform",p="0%",O="rtl"===l.ownerDocument.dir,N=O?"-99.5%":"99.5%",R=O?"33%":"-33%",k=d.enteringEl,A=d.leavingEl,$="back"===d.direction,j=k.querySelector(":scope > ion-content"),S=k.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),D=k.querySelectorAll(":scope > ion-header > ion-toolbar"),V=(0,v.c)(),Z=(0,v.c)();if(V.addElement(k).duration((null!==(u=d.duration)&&void 0!==u?u:0)||540).easing(d.easing||c).fill("both").beforeRemoveClass("ion-page-invisible"),A&&null!=l){const q=(0,v.c)();q.addElement(l),V.addAnimation(q)}if(j||0!==D.length||0!==S.length?(Z.addElement(j),Z.addElement(S)):Z.addElement(k.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),V.addAnimation(Z),$?Z.beforeClearStyles([s]).fromTo("transform",`translateX(${R})`,`translateX(${p})`).fromTo(s,.8,1):Z.beforeClearStyles([s]).fromTo("transform",`translateX(${N})`,`translateX(${p})`),j){const q=C(j).querySelector(".transition-effect");if(q){const ne=q.querySelector(".transition-cover"),de=q.querySelector(".transition-shadow"),xe=(0,v.c)(),K=(0,v.c)(),L=(0,v.c)();xe.addElement(q).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),K.addElement(ne).beforeClearStyles([s]).fromTo(s,0,.1),L.addElement(de).beforeClearStyles([s]).fromTo(s,.03,.7),xe.addAnimation([K,L]),Z.addAnimation([xe])}}const H=k.querySelector("ion-header.header-collapse-condense"),{forward:Q,backward:Y}=((l,d,u,c,s)=>{const m=_(c,u),p=y(s),b=y(c),O=_(s,u),N=null!==m&&null!==p&&!u,R=null!==b&&null!==O&&u;if(N){const k=p.getBoundingClientRect(),A=m.getBoundingClientRect(),$=C(m).querySelector(".button-text"),j=$.getBoundingClientRect(),D=C(p).querySelector(".toolbar-title").getBoundingClientRect();E(l,d,u,p,k,D,$,j),f(l,d,u,m,A,$,j,p,D)}else if(R){const k=b.getBoundingClientRect(),A=O.getBoundingClientRect(),$=C(O).querySelector(".button-text"),j=$.getBoundingClientRect(),D=C(b).querySelector(".toolbar-title").getBoundingClientRect();E(l,d,u,b,k,D,$,j),f(l,d,u,O,A,$,j,b,D)}return{forward:N,backward:R}})(V,O,$,k,A);if(D.forEach(q=>{const ne=(0,v.c)();ne.addElement(q),V.addAnimation(ne);const de=(0,v.c)();de.addElement(q.querySelector("ion-title"));const xe=(0,v.c)(),K=Array.from(q.querySelectorAll("ion-buttons,[menuToggle]")),L=q.closest("ion-header"),re=null==L?void 0:L.classList.contains("header-collapse-condense-inactive");let ge;ge=K.filter($?Oe=>{const Ge=Oe.classList.contains("buttons-collapse");return Ge&&!re||!Ge}:Oe=>!Oe.classList.contains("buttons-collapse")),xe.addElement(ge);const Me=(0,v.c)();Me.addElement(q.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Le=(0,v.c)();Le.addElement(C(q).querySelector(".toolbar-background"));const Ye=(0,v.c)(),et=q.querySelector("ion-back-button");if(et&&Ye.addElement(et),ne.addAnimation([de,xe,Me,Le,Ye]),xe.fromTo(s,.01,1),Me.fromTo(s,.01,1),$)re||de.fromTo("transform",`translateX(${R})`,`translateX(${p})`).fromTo(s,.01,1),Me.fromTo("transform",`translateX(${R})`,`translateX(${p})`),Ye.fromTo(s,.01,1);else if(H||de.fromTo("transform",`translateX(${N})`,`translateX(${p})`).fromTo(s,.01,1),Me.fromTo("transform",`translateX(${N})`,`translateX(${p})`),Le.beforeClearStyles([s,"transform"]),(null==L?void 0:L.translucent)?Le.fromTo("transform",O?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Le.fromTo(s,.01,"var(--opacity)"),Q||Ye.fromTo(s,.01,1),et&&!Q){const Ge=(0,v.c)();Ge.addElement(C(et).querySelector(".button-text")).fromTo("transform",O?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ne.addAnimation(Ge)}}),A){const q=(0,v.c)(),ne=A.querySelector(":scope > ion-content"),de=A.querySelectorAll(":scope > ion-header > ion-toolbar"),xe=A.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ne||0!==de.length||0!==xe.length?(q.addElement(ne),q.addElement(xe)):q.addElement(A.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),V.addAnimation(q),$){q.beforeClearStyles([s]).fromTo("transform",`translateX(${p})`,O?"translateX(-100%)":"translateX(100%)");const K=(0,we.g)(A);V.afterAddWrite(()=>{"normal"===V.getDirection()&&K.style.setProperty("display","none")})}else q.fromTo("transform",`translateX(${p})`,`translateX(${R})`).fromTo(s,1,.8);if(ne){const K=C(ne).querySelector(".transition-effect");if(K){const L=K.querySelector(".transition-cover"),re=K.querySelector(".transition-shadow"),ge=(0,v.c)(),Me=(0,v.c)(),Le=(0,v.c)();ge.addElement(K).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Me.addElement(L).beforeClearStyles([s]).fromTo(s,.1,0),Le.addElement(re).beforeClearStyles([s]).fromTo(s,.7,.03),ge.addAnimation([Me,Le]),q.addAnimation([ge])}}de.forEach(K=>{const L=(0,v.c)();L.addElement(K);const re=(0,v.c)();re.addElement(K.querySelector("ion-title"));const ge=(0,v.c)(),Me=K.querySelectorAll("ion-buttons,[menuToggle]"),Le=K.closest("ion-header"),Ye=null==Le?void 0:Le.classList.contains("header-collapse-condense-inactive"),et=Array.from(Me).filter(Ke=>{const vt=Ke.classList.contains("buttons-collapse");return vt&&!Ye||!vt});ge.addElement(et);const Oe=(0,v.c)(),Ge=K.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ge.length>0&&Oe.addElement(Ge);const Be=(0,v.c)();Be.addElement(C(K).querySelector(".toolbar-background"));const Ae=(0,v.c)(),Qe=K.querySelector("ion-back-button");if(Qe&&Ae.addElement(Qe),L.addAnimation([re,ge,Oe,Ae,Be]),V.addAnimation(L),Ae.fromTo(s,.99,0),ge.fromTo(s,.99,0),Oe.fromTo(s,.99,0),$){if(Ye||re.fromTo("transform",`translateX(${p})`,O?"translateX(-100%)":"translateX(100%)").fromTo(s,.99,0),Oe.fromTo("transform",`translateX(${p})`,O?"translateX(-100%)":"translateX(100%)"),Be.beforeClearStyles([s,"transform"]),(null==Le?void 0:Le.translucent)?Be.fromTo("transform","translateX(0px)",O?"translateX(-100%)":"translateX(100%)"):Be.fromTo(s,"var(--opacity)",0),Qe&&!Y){const vt=(0,v.c)();vt.addElement(C(Qe).querySelector(".button-text")).fromTo("transform",`translateX(${p})`,`translateX(${(O?-124:124)+"px"})`),L.addAnimation(vt)}}else Ye||re.fromTo("transform",`translateX(${p})`,`translateX(${R})`).fromTo(s,.99,0).afterClearStyles([m,s]),Oe.fromTo("transform",`translateX(${p})`,`translateX(${R})`).afterClearStyles([m,s]),Ae.afterClearStyles([s]),re.afterClearStyles([s]),ge.afterClearStyles([s])})}return V}catch(c){throw c}},a=10},2976:(dn,Pt,he)=>{"use strict";he.r(Pt),he.d(Pt,{mdTransitionAnimation:()=>o});var v=he(388),we=he(968);he(4829),he(3716);const o=(W,C)=>{var y,_,h;const f="40px",w="back"===C.direction,l=C.leavingEl,d=(0,we.g)(C.enteringEl),u=d.querySelector("ion-toolbar"),c=(0,v.c)();if(c.addElement(d).fill("both").beforeRemoveClass("ion-page-invisible"),w?c.duration((null!==(y=C.duration)&&void 0!==y?y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration((null!==(_=C.duration)&&void 0!==_?_:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${f})`,"translateY(0px)").fromTo("opacity",.01,1),u){const s=(0,v.c)();s.addElement(u),c.addAnimation(s)}if(l&&w){c.duration((null!==(h=C.duration)&&void 0!==h?h:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const s=(0,v.c)();s.addElement((0,we.g)(l)).onFinish(m=>{1===m&&s.elements.length>0&&s.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${f})`).fromTo("opacity",1,0),c.addAnimation(s)}return c}},5820:(dn,Pt,he)=>{"use strict";he.d(Pt,{B:()=>ge,G:()=>Me,O:()=>Le,a:()=>E,b:()=>w,c:()=>u,d:()=>Ye,e:()=>et,f:()=>H,g:()=>Y,h:()=>de,i:()=>K,j:()=>s,k:()=>m,l:()=>a,m:()=>l,n:()=>N,o:()=>V,s:()=>re});var v=he(1528),we=he(4829),nt=he(136),_e=he(1780),o=he(495),W=he(6384),C=he(2032);let y=0,_=0;const h=new WeakMap,f=Oe=>({create:Ge=>p(Oe,Ge),dismiss:(Ge,Be,Ae)=>j(document,Ge,Be,Oe,Ae),getTop:()=>(0,v.c)(function*(){return V(document,Oe)})()}),E=f("ion-alert"),w=f("ion-action-sheet"),a=f("ion-loading"),l=f("ion-modal"),u=f("ion-popover"),s=Oe=>{typeof document<"u"&&$(document);const Ge=y++;Oe.overlayIndex=Ge},m=Oe=>(Oe.hasAttribute("id")||(Oe.id="ion-overlay-"+ ++_),Oe.id),p=(Oe,Ge)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Oe).then(()=>{const Be=document.createElement(Oe);return Be.classList.add("overlay-hidden"),Object.assign(Be,Object.assign(Object.assign({},Ge),{hasController:!0})),q(document).appendChild(Be),new Promise(Ae=>(0,W.c)(Be,Ae))}):Promise.resolve(),b='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',N=(Oe,Ge)=>{const Be=Oe.querySelector(b);k(Be,Ge)},R=(Oe,Ge)=>{const Be=Array.from(Oe.querySelectorAll(b));k(Be.length>0?Be[Be.length-1]:null,Ge)},k=(Oe,Ge)=>{let Be=Oe;const Ae=null==Oe?void 0:Oe.shadowRoot;Ae&&(Be=Ae.querySelector(b)||Oe),Be?(0,W.f)(Be):Ge.focus()},$=Oe=>{0===y&&(y=1,Oe.addEventListener("focus",Ge=>{((Oe,Ge)=>{const Be=V(Ge,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ae=Oe.target;Be&&Ae&&!Be.classList.contains("ion-disable-focus-trap")&&(Be.shadowRoot?(()=>{if(Be.contains(Ae))Be.lastFocus=Ae;else if("ION-TOAST"===Ae.tagName)k(Be.lastFocus,Be);else{const vt=Be.lastFocus;N(Be,Be),vt===Ge.activeElement&&R(Be,Be),Be.lastFocus=Ge.activeElement}})():(()=>{if(Be===Ae)Be.lastFocus=void 0;else if("ION-TOAST"===Ae.tagName)k(Be.lastFocus,Be);else{const vt=(0,W.g)(Be);if(!vt.contains(Ae))return;const mt=vt.querySelector(".ion-overlay-wrapper");if(!mt)return;if(mt.contains(Ae)||Ae===vt.querySelector("ion-backdrop"))Be.lastFocus=Ae;else{const yt=Be.lastFocus;N(mt,Be),yt===Ge.activeElement&&R(mt,Be),Be.lastFocus=Ge.activeElement}}})())})(Ge,Oe)},!0),Oe.addEventListener("ionBackButton",Ge=>{const Be=V(Oe);null!=Be&&Be.backdropDismiss&&Ge.detail.register(nt.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Be.dismiss(void 0,ge)})}),(0,nt.shoudUseCloseWatcher)()||Oe.addEventListener("keydown",Ge=>{if("Escape"===Ge.key){const Be=V(Oe);null!=Be&&Be.backdropDismiss&&Be.dismiss(void 0,ge)}}))},j=(Oe,Ge,Be,Ae,Qe)=>{const Ke=V(Oe,Ae,Qe);return Ke?Ke.dismiss(Ge,Be):Promise.reject("overlay does not exist")},D=(Oe,Ge)=>((Oe,Ge)=>(void 0===Ge&&(Ge="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Oe.querySelectorAll(Ge)).filter(Be=>Be.overlayIndex>0)))(Oe,Ge).filter(Be=>!(Oe=>Oe.classList.contains("overlay-hidden"))(Be)),V=(Oe,Ge,Be)=>{const Ae=D(Oe,Ge);return void 0===Be?Ae[Ae.length-1]:Ae.find(Qe=>Qe.id===Be)},Z=(Oe=!1)=>{const Be=q(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Be&&(Oe?Be.setAttribute("aria-hidden","true"):Be.removeAttribute("aria-hidden"))},H=function(){var Oe=(0,v.c)(function*(Ge,Be,Ae,Qe,Ke){var vt,mt;if(Ge.presented)return;Z(!0),void 0!==we.d&&D(we.d).forEach(an=>an.setAttribute("aria-hidden","true")),Ge.presented=!0,Ge.willPresent.emit(),null===(vt=Ge.willPresentShorthand)||void 0===vt||vt.emit();const yt=(0,_e.b)(Ge),jt=Ge.enterAnimation?Ge.enterAnimation:_e.c.get(Be,"ios"===yt?Ae:Qe);(yield ne(Ge,jt,Ge.el,Ke))&&(Ge.didPresent.emit(),null===(mt=Ge.didPresentShorthand)||void 0===mt||mt.emit()),"ION-TOAST"!==Ge.el.tagName&&Q(Ge.el),Ge.keyboardClose&&(null===document.activeElement||!Ge.el.contains(document.activeElement))&&Ge.el.focus(),Ge.el.removeAttribute("aria-hidden")});return function(Be,Ae,Qe,Ke,vt){return Oe.apply(this,arguments)}}(),Q=function(){var Oe=(0,v.c)(function*(Ge){let Be=document.activeElement;if(!Be)return;const Ae=null==Be?void 0:Be.shadowRoot;Ae&&(Be=Ae.querySelector(b)||Be),yield Ge.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Be.focus()});return function(Be){return Oe.apply(this,arguments)}}(),Y=function(){var Oe=(0,v.c)(function*(Ge,Be,Ae,Qe,Ke,vt,mt){var yt,jt,Ht;if(!Ge.presented)return!1;void 0!==we.d&&1===D(we.d).length&&Z(!1),Ge.presented=!1;try{Ge.el.style.setProperty("pointer-events","none"),Ge.willDismiss.emit({data:Be,role:Ae}),null===(yt=Ge.willDismissShorthand)||void 0===yt||yt.emit({data:Be,role:Ae});const Rt=(0,_e.b)(Ge),an=Ge.leaveAnimation?Ge.leaveAnimation:_e.c.get(Qe,"ios"===Rt?Ke:vt);Ae!==Me&&(yield ne(Ge,an,Ge.el,mt)),Ge.didDismiss.emit({data:Be,role:Ae}),null===(jt=Ge.didDismissShorthand)||void 0===jt||jt.emit({data:Be,role:Ae}),(h.get(Ge)||[]).forEach(fn=>fn.destroy()),h.delete(Ge),Ge.el.classList.add("overlay-hidden"),Ge.el.style.removeProperty("pointer-events"),void 0!==Ge.el.lastFocus&&(Ge.el.lastFocus=void 0)}catch(Rt){console.error(Rt)}return Ge.el.remove(),void 0!==we.d&&(null===(Ht=V(we.d))||void 0===Ht||Ht.removeAttribute("aria-hidden")),!0});return function(Be,Ae,Qe,Ke,vt,mt,yt){return Oe.apply(this,arguments)}}(),q=Oe=>Oe.querySelector("ion-app")||Oe.body,ne=function(){var Oe=(0,v.c)(function*(Ge,Be,Ae,Qe){Ae.classList.remove("overlay-hidden");const vt=Be(Ge.el,Qe);(!Ge.animated||!_e.c.getBoolean("animated",!0))&&vt.duration(0),Ge.keyboardClose&&vt.beforeAddWrite(()=>{const yt=Ae.ownerDocument.activeElement;null!=yt&&yt.matches("input,ion-input, ion-textarea")&&yt.blur()});const mt=h.get(Ge)||[];return h.set(Ge,[...mt,vt]),yield vt.play(),!0});return function(Be,Ae,Qe,Ke){return Oe.apply(this,arguments)}}(),de=(Oe,Ge)=>{let Be;const Ae=new Promise(Qe=>Be=Qe);return xe(Oe,Ge,Qe=>{Be(Qe.detail)}),Ae},xe=(Oe,Ge,Be)=>{const Ae=Qe=>{(0,W.b)(Oe,Ge,Ae),Be(Qe)};(0,W.a)(Oe,Ge,Ae)},K=Oe=>"cancel"===Oe||Oe===ge,L=Oe=>Oe(),re=(Oe,Ge)=>{if("function"==typeof Oe)return _e.c.get("_zoneGate",L)(()=>{try{return Oe(Ge)}catch(Ae){throw Ae}})},ge="backdrop",Me="gesture",Le=39,Ye=Oe=>{let Be,Ge=!1;const Ae=(0,o.C)(),Qe=(mt=!1)=>{if(Be&&!mt)return{delegate:Be,inline:Ge};const{el:yt,hasController:jt,delegate:Ht}=Oe;return Ge=null!==yt.parentNode&&!jt,Be=Ge?Ht||Ae:Ht,{inline:Ge,delegate:Be}};return{attachViewToDom:function(){var mt=(0,v.c)(function*(yt){const{delegate:jt}=Qe(!0);if(jt)return yield jt.attachViewToDom(Oe.el,yt);const{hasController:Ht}=Oe;if(Ht&&void 0!==yt)throw new Error("framework delegate is missing");return null});return function(jt){return mt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:mt}=Qe();mt&&void 0!==Oe.el&&mt.removeViewFromDom(Oe.el.parentElement,Oe.el)}}},et=()=>{let Oe;const Ge=()=>{Oe&&(Oe(),Oe=void 0)};return{addClickListener:(Ae,Qe)=>{Ge();const Ke=void 0!==Qe?document.getElementById(Qe):null;Ke?Oe=((mt,yt)=>{const jt=()=>{yt.present()};return mt.addEventListener("click",jt),()=>{mt.removeEventListener("click",jt)}})(Ke,Ae):(0,C.p)(`A trigger element with the ID "${Qe}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ae)},removeClickListener:Ge}}},8637:(dn,Pt,he)=>{"use strict";he.d(Pt,{H:()=>c,b:()=>Ht,c:()=>b,f:()=>Oe,g:()=>p,h:()=>d,p:()=>bn,r:()=>Nt});var v=he(1528);let nt,_e,o=!1,W=!1;const h={},a=We=>"object"==(We=typeof We)||"function"===We;function l(We){var bt,Lt,Ft;return null!==(Ft=null===(Lt=null===(bt=We.head)||void 0===bt?void 0:bt.querySelector('meta[name="csp-nonce"]'))||void 0===Lt?void 0:Lt.getAttribute("content"))&&void 0!==Ft?Ft:void 0}const d=(We,bt,...Lt)=>{let Ft=null,Vt=!1,cn=!1;const gn=[],xn=Cn=>{for(let Zn=0;Zn<Cn.length;Zn++)Ft=Cn[Zn],Array.isArray(Ft)?xn(Ft):null!=Ft&&"boolean"!=typeof Ft&&((Vt="function"!=typeof We&&!a(Ft))&&(Ft=String(Ft)),Vt&&cn?gn[gn.length-1].$text$+=Ft:gn.push(Vt?u(null,Ft):Ft),cn=Vt)};if(xn(Lt),bt){const Cn=bt.className||bt.class;Cn&&(bt.class="object"!=typeof Cn?Cn:Object.keys(Cn).filter(Zn=>Cn[Zn]).join(" "))}const Sn=u(We,null);return Sn.$attrs$=bt,gn.length>0&&(Sn.$children$=gn),Sn},u=(We,bt)=>({$flags$:0,$tag$:We,$text$:bt,$elm$:null,$children$:null,$attrs$:null}),c={},p=We=>lt(We).$hostElement$,b=(We,bt,Lt)=>{const Ft=p(We);return{emit:Vt=>O(Ft,bt,{bubbles:!!(4&Lt),composed:!!(2&Lt),cancelable:!!(1&Lt),detail:Vt})}},O=(We,bt,Lt)=>{const Ft=rn.ce(bt,Lt);return We.dispatchEvent(Ft),Ft},N=new WeakMap,$=(We,bt)=>"sc-"+We.$tagName$,j=(We,bt,Lt,Ft,Vt,cn)=>{if(Lt!==Ft){let gn=Pe(We,bt),xn=bt.toLowerCase();if("class"===bt){const Sn=We.classList,Cn=D(Lt),Zn=D(Ft);Sn.remove(...Cn.filter(tr=>tr&&!Zn.includes(tr))),Sn.add(...Zn.filter(tr=>tr&&!Cn.includes(tr)))}else if("style"===bt){for(const Sn in Lt)(!Ft||null==Ft[Sn])&&(Sn.includes("-")?We.style.removeProperty(Sn):We.style[Sn]="");for(const Sn in Ft)(!Lt||Ft[Sn]!==Lt[Sn])&&(Sn.includes("-")?We.style.setProperty(Sn,Ft[Sn]):We.style[Sn]=Ft[Sn])}else if("ref"===bt)Ft&&Ft(We);else if(gn||"o"!==bt[0]||"n"!==bt[1]){const Sn=a(Ft);if((gn||Sn&&null!==Ft)&&!Vt)try{if(We.tagName.includes("-"))We[bt]=Ft;else{const Cn=null==Ft?"":Ft;"list"===bt?gn=!1:(null==Lt||We[bt]!=Cn)&&(We[bt]=Cn)}}catch{}null==Ft||!1===Ft?(!1!==Ft||""===We.getAttribute(bt))&&We.removeAttribute(bt):(!gn||4&cn||Vt)&&!Sn&&We.setAttribute(bt,Ft=!0===Ft?"":Ft)}else bt="-"===bt[2]?bt.slice(3):Pe(Dt,xn)?xn.slice(2):xn[2]+bt.slice(3),Lt&&rn.rel(We,bt,Lt,!1),Ft&&rn.ael(We,bt,Ft,!1)}},S=/\s/,D=We=>We?We.split(S):[],V=(We,bt,Lt,Ft)=>{const Vt=11===bt.$elm$.nodeType&&bt.$elm$.host?bt.$elm$.host:bt.$elm$,cn=We&&We.$attrs$||h,gn=bt.$attrs$||h;for(Ft in cn)Ft in gn||j(Vt,Ft,cn[Ft],void 0,Lt,bt.$flags$);for(Ft in gn)j(Vt,Ft,cn[Ft],gn[Ft],Lt,bt.$flags$)},Z=(We,bt,Lt,Ft)=>{const Vt=bt.$children$[Lt];let gn,xn,cn=0;if(null!==Vt.$text$)gn=Vt.$elm$=Gt.createTextNode(Vt.$text$);else{if(o||(o="svg"===Vt.$tag$),gn=Vt.$elm$=Gt.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Vt.$tag$),o&&"foreignObject"===Vt.$tag$&&(o=!1),V(null,Vt,o),(We=>null!=We)(nt)&&gn["s-si"]!==nt&&gn.classList.add(gn["s-si"]=nt),Vt.$children$)for(cn=0;cn<Vt.$children$.length;++cn)xn=Z(We,Vt,cn),xn&&gn.appendChild(xn);"svg"===Vt.$tag$?o=!1:"foreignObject"===gn.tagName&&(o=!0)}return gn},H=(We,bt,Lt,Ft,Vt,cn)=>{let xn,gn=We;for(gn.shadowRoot&&gn.tagName===_e&&(gn=gn.shadowRoot);Vt<=cn;++Vt)Ft[Vt]&&(xn=Z(null,Lt,Vt),xn&&(Ft[Vt].$elm$=xn,gn.insertBefore(xn,bt)))},Q=(We,bt,Lt)=>{for(let Ft=bt;Ft<=Lt;++Ft){const Vt=We[Ft];if(Vt){const cn=Vt.$elm$;de(Vt),cn&&cn.remove()}}},q=(We,bt)=>We.$tag$===bt.$tag$,ne=(We,bt)=>{const Lt=bt.$elm$=We.$elm$,Ft=We.$children$,Vt=bt.$children$,cn=bt.$tag$,gn=bt.$text$;null===gn?(o="svg"===cn||"foreignObject"!==cn&&o,V(We,bt,o),null!==Ft&&null!==Vt?((We,bt,Lt,Ft)=>{let ar,Vt=0,cn=0,gn=bt.length-1,xn=bt[0],Sn=bt[gn],Cn=Ft.length-1,Zn=Ft[0],tr=Ft[Cn];for(;Vt<=gn&&cn<=Cn;)null==xn?xn=bt[++Vt]:null==Sn?Sn=bt[--gn]:null==Zn?Zn=Ft[++cn]:null==tr?tr=Ft[--Cn]:q(xn,Zn)?(ne(xn,Zn),xn=bt[++Vt],Zn=Ft[++cn]):q(Sn,tr)?(ne(Sn,tr),Sn=bt[--gn],tr=Ft[--Cn]):q(xn,tr)?(ne(xn,tr),We.insertBefore(xn.$elm$,Sn.$elm$.nextSibling),xn=bt[++Vt],tr=Ft[--Cn]):q(Sn,Zn)?(ne(Sn,Zn),We.insertBefore(Sn.$elm$,xn.$elm$),Sn=bt[--gn],Zn=Ft[++cn]):(ar=Z(bt&&bt[cn],Lt,cn),Zn=Ft[++cn],ar&&xn.$elm$.parentNode.insertBefore(ar,xn.$elm$));Vt>gn?H(We,null==Ft[Cn+1]?null:Ft[Cn+1].$elm$,Lt,Ft,cn,Cn):cn>Cn&&Q(bt,Vt,gn)})(Lt,Ft,bt,Vt):null!==Vt?(null!==We.$text$&&(Lt.textContent=""),H(Lt,null,bt,Vt,0,Vt.length-1)):null!==Ft&&Q(Ft,0,Ft.length-1),o&&"svg"===cn&&(o=!1)):We.$text$!==gn&&(Lt.data=gn)},de=We=>{We.$attrs$&&We.$attrs$.ref&&We.$attrs$.ref(null),We.$children$&&We.$children$.map(de)},K=(We,bt)=>{bt&&!We.$onRenderResolve$&&bt["s-p"]&&bt["s-p"].push(new Promise(Lt=>We.$onRenderResolve$=Lt))},L=(We,bt)=>{if(We.$flags$|=16,!(4&We.$flags$))return K(We,We.$ancestorComponent$),en(()=>re(We,bt));We.$flags$|=512},re=(We,bt)=>{const Ft=We.$lazyInstance$;return bt&&(We.$flags$|=256,We.$queuedListeners$&&(We.$queuedListeners$.map(([cn,gn])=>Be(Ft,cn,gn)),We.$queuedListeners$=void 0)),ge(void 0,()=>Le(We,Ft,bt))},ge=(We,bt)=>Me(We)?We.then(bt):bt(),Me=We=>We instanceof Promise||We&&We.then&&"function"==typeof We.then,Le=function(){var We=(0,v.c)(function*(bt,Lt,Ft){var Vt;const cn=bt.$hostElement$,xn=cn["s-rc"];Ft&&(We=>{const bt=We.$cmpMeta$,Lt=We.$hostElement$,Ft=bt.$flags$,cn=((We,bt,Lt,Ft)=>{var Vt;let cn=$(bt);const gn=wt.get(cn);if(We=11===We.nodeType?We:Gt,gn)if("string"==typeof gn){let Sn,xn=N.get(We=We.head||We);if(xn||N.set(We,xn=new Set),!xn.has(cn)){{Sn=Gt.createElement("style"),Sn.innerHTML=gn;const Cn=null!==(Vt=rn.$nonce$)&&void 0!==Vt?Vt:l(Gt);null!=Cn&&Sn.setAttribute("nonce",Cn),We.insertBefore(Sn,We.querySelector("link"))}xn&&xn.add(cn)}}else We.adoptedStyleSheets.includes(gn)||(We.adoptedStyleSheets=[...We.adoptedStyleSheets,gn]);return cn})(Lt.shadowRoot?Lt.shadowRoot:Lt.getRootNode(),bt);10&Ft&&(Lt["s-sc"]=cn,Lt.classList.add(cn+"-h"))})(bt);Ye(bt,Lt),xn&&(xn.map(Cn=>Cn()),cn["s-rc"]=void 0);{const Cn=null!==(Vt=cn["s-p"])&&void 0!==Vt?Vt:[],Zn=()=>et(bt);0===Cn.length?Zn():(Promise.all(Cn).then(Zn),bt.$flags$|=4,Cn.length=0)}});return function(Lt,Ft,Vt){return We.apply(this,arguments)}}(),Ye=(We,bt,Lt)=>{try{bt=bt.render(),We.$flags$&=-17,We.$flags$|=2,((We,bt)=>{const Lt=We.$hostElement$,Ft=We.$vnode$||u(null,null),Vt=(We=>We&&We.$tag$===c)(bt)?bt:d(null,null,bt);_e=Lt.tagName,Vt.$tag$=null,Vt.$flags$|=4,We.$vnode$=Vt,Vt.$elm$=Ft.$elm$=Lt.shadowRoot||Lt,nt=Lt["s-sc"],ne(Ft,Vt)})(We,bt)}catch(Ft){Fe(Ft,We.$hostElement$)}return null},et=We=>{const Lt=We.$hostElement$,Vt=We.$lazyInstance$,cn=We.$ancestorComponent$;64&We.$flags$||(We.$flags$|=64,Ae(Lt),Be(Vt,"componentDidLoad"),We.$onReadyResolve$(Lt),cn||Ge()),We.$onInstanceResolve$(Lt),We.$onRenderResolve$&&(We.$onRenderResolve$(),We.$onRenderResolve$=void 0),512&We.$flags$&&xt(()=>L(We,!1)),We.$flags$&=-517},Oe=We=>{{const bt=lt(We),Lt=bt.$hostElement$.isConnected;return Lt&&2==(18&bt.$flags$)&&L(bt,!1),Lt}},Ge=We=>{Ae(Gt.documentElement),xt(()=>O(Dt,"appload",{detail:{namespace:"ionicpwaelements"}}))},Be=(We,bt,Lt)=>{if(We&&We[bt])try{return We[bt](Lt)}catch(Ft){Fe(Ft)}},Ae=We=>We.classList.add("hydrated"),vt=(We,bt,Lt)=>{if(bt.$members$){const Ft=Object.entries(bt.$members$),Vt=We.prototype;if(Ft.map(([cn,[gn]])=>{31&gn||2&Lt&&32&gn?Object.defineProperty(Vt,cn,{get(){return((We,bt)=>lt(this).$instanceValues$.get(bt))(0,cn)},set(xn){((We,bt,Lt,Ft)=>{const Vt=lt(We),cn=Vt.$instanceValues$.get(bt),gn=Vt.$flags$,xn=Vt.$lazyInstance$;Lt=((We,bt)=>null==We||a(We)?We:4&bt?"false"!==We&&(""===We||!!We):2&bt?parseFloat(We):1&bt?String(We):We)(Lt,Ft.$members$[bt][0]);const Sn=Number.isNaN(cn)&&Number.isNaN(Lt);(!(8&gn)||void 0===cn)&&Lt!==cn&&!Sn&&(Vt.$instanceValues$.set(bt,Lt),xn&&2==(18&gn)&&L(Vt,!1))})(this,cn,xn,bt)},configurable:!0,enumerable:!0}):1&Lt&&64&gn&&Object.defineProperty(Vt,cn,{value(...xn){const Sn=lt(this);return Sn.$onInstancePromise$.then(()=>Sn.$lazyInstance$[cn](...xn))}})}),1&Lt){const cn=new Map;Vt.attributeChangedCallback=function(gn,xn,Sn){rn.jmp(()=>{const Cn=cn.get(gn);if(this.hasOwnProperty(Cn))Sn=this[Cn],delete this[Cn];else if(Vt.hasOwnProperty(Cn)&&"number"==typeof this[Cn]&&this[Cn]==Sn)return;this[Cn]=(null!==Sn||"boolean"!=typeof this[Cn])&&Sn})},We.observedAttributes=Ft.filter(([gn,xn])=>15&xn[0]).map(([gn,xn])=>{const Sn=xn[1]||gn;return cn.set(Sn,gn),Sn})}}return We},mt=function(){var We=(0,v.c)(function*(bt,Lt,Ft,Vt,cn){if(!(32&Lt.$flags$)){Lt.$flags$|=32;{if((cn=Ze(Ft)).then){const Cn=()=>{};cn=yield cn,Cn()}cn.isProxied||(vt(cn,Ft,2),cn.isProxied=!0);const Sn=()=>{};Lt.$flags$|=8;try{new cn(Lt)}catch(Cn){Fe(Cn)}Lt.$flags$&=-9,Sn()}if(cn.style){let Sn=cn.style;const Cn=$(Ft);if(!wt.has(Cn)){const Zn=()=>{};((We,bt,Lt)=>{let Ft=wt.get(We);_n&&Lt?(Ft=Ft||new CSSStyleSheet,"string"==typeof Ft?Ft=bt:Ft.replaceSync(bt)):Ft=bt,wt.set(We,Ft)})(Cn,Sn,!!(1&Ft.$flags$)),Zn()}}}const gn=Lt.$ancestorComponent$,xn=()=>L(Lt,!0);gn&&gn["s-rc"]?gn["s-rc"].push(xn):xn()});return function(Lt,Ft,Vt,cn,gn){return We.apply(this,arguments)}}(),Ht=(We,bt={})=>{var Lt;const Vt=[],cn=bt.exclude||[],gn=Dt.customElements,xn=Gt.head,Sn=xn.querySelector("meta[charset]"),Cn=Gt.createElement("style"),Zn=[];let tr,ar=!0;Object.assign(rn,bt),rn.$resourcesUrl$=new URL(bt.resourcesUrl||"./",Gt.baseURI).href,We.map(Pn=>{Pn[1].map(Hn=>{const G={$flags$:Hn[0],$tagName$:Hn[1],$members$:Hn[2],$listeners$:Hn[3]};G.$members$=Hn[2],G.$listeners$=Hn[3];const me=G.$tagName$,Se=class extends HTMLElement{constructor(P){super(P),_t(P=this,G),1&G.$flags$&&P.attachShadow({mode:"open"})}connectedCallback(){tr&&(clearTimeout(tr),tr=null),ar?Zn.push(this):rn.jmp(()=>(We=>{if(!(1&rn.$flags$)){const bt=lt(We),Lt=bt.$cmpMeta$,Ft=()=>{};if(1&bt.$flags$)Rt(We,bt,Lt.$listeners$);else{bt.$flags$|=1;{let Vt=We;for(;Vt=Vt.parentNode||Vt.host;)if(Vt["s-p"]){K(bt,bt.$ancestorComponent$=Vt);break}}Lt.$members$&&Object.entries(Lt.$members$).map(([Vt,[cn]])=>{if(31&cn&&We.hasOwnProperty(Vt)){const gn=We[Vt];delete We[Vt],We[Vt]=gn}}),mt(We,bt,Lt)}Ft()}})(this))}disconnectedCallback(){rn.jmp(()=>(We=>{if(!(1&rn.$flags$)){const bt=lt(this),Lt=bt.$lazyInstance$;bt.$rmListeners$&&(bt.$rmListeners$.map(Ft=>Ft()),bt.$rmListeners$=void 0),Be(Lt,"disconnectedCallback")}})())}componentOnReady(){return lt(this).$onReadyPromise$}};G.$lazyBundleId$=Pn[0],!cn.includes(me)&&!gn.get(me)&&(Vt.push(me),gn.define(me,vt(Se,G,1)))})});{Cn.innerHTML=Vt+"{visibility:hidden}.hydrated{visibility:inherit}",Cn.setAttribute("data-styles","");const Pn=null!==(Lt=rn.$nonce$)&&void 0!==Lt?Lt:l(Gt);null!=Pn&&Cn.setAttribute("nonce",Pn),xn.insertBefore(Cn,Sn?Sn.nextSibling:xn.firstChild)}ar=!1,Zn.length?Zn.map(Pn=>Pn.connectedCallback()):rn.jmp(()=>tr=setTimeout(Ge,30))},Rt=(We,bt,Lt,Ft)=>{Lt&&Lt.map(([Vt,cn,gn])=>{const xn=on(We,Vt),Sn=an(bt,gn),Cn=fn(Vt);rn.ael(xn,cn,Sn,Cn),(bt.$rmListeners$=bt.$rmListeners$||[]).push(()=>rn.rel(xn,cn,Sn,Cn))})},an=(We,bt)=>Lt=>{try{256&We.$flags$?We.$lazyInstance$[bt](Lt):(We.$queuedListeners$=We.$queuedListeners$||[]).push([bt,Lt])}catch(Ft){Fe(Ft)}},on=(We,bt)=>16&bt?Gt.body:We,fn=We=>0!=(2&We),Ut=new WeakMap,lt=We=>Ut.get(We),Nt=(We,bt)=>Ut.set(bt.$lazyInstance$=We,bt),_t=(We,bt)=>{const Lt={$flags$:0,$hostElement$:We,$cmpMeta$:bt,$instanceValues$:new Map};return Lt.$onInstancePromise$=new Promise(Ft=>Lt.$onInstanceResolve$=Ft),Lt.$onReadyPromise$=new Promise(Ft=>Lt.$onReadyResolve$=Ft),We["s-p"]=[],We["s-rc"]=[],Rt(We,Lt,bt.$listeners$),Ut.set(We,Lt)},Pe=(We,bt)=>bt in We,Fe=(We,bt)=>(0,console.error)(We,bt),Ie=new Map,Ze=(We,bt,Lt)=>{const Ft=We.$tagName$.replace(/-/g,"_"),Vt=We.$lazyBundleId$,cn=Ie.get(Vt);if(cn)return cn[Ft];if(!Lt||!BUILD.hotModuleReplacement){const gn=xn=>(Ie.set(Vt,xn),xn[Ft]);switch(Vt){case"pwa-action-sheet":return he.e(2152).then(he.bind(he,2152)).then(gn,Fe);case"pwa-camera-modal":return he.e(6056).then(he.bind(he,6056)).then(gn,Fe);case"pwa-toast":return he.e(3276).then(he.bind(he,3276)).then(gn,Fe);case"pwa-camera-modal-instance":return he.e(1148).then(he.bind(he,1148)).then(gn,Fe);case"pwa-camera":return he.e(580).then(he.bind(he,580)).then(gn,Fe)}}return he(996)(`./${Vt}.entry.js`).then(gn=>(Ie.set(Vt,gn),gn[Ft]),Fe)},wt=new Map,Dt=typeof window<"u"?window:{},Gt=Dt.document||{head:{}},rn={$flags$:0,$resourcesUrl$:"",jmp:We=>We(),raf:We=>requestAnimationFrame(We),ael:(We,bt,Lt,Ft)=>We.addEventListener(bt,Lt,Ft),rel:(We,bt,Lt,Ft)=>We.removeEventListener(bt,Lt,Ft),ce:(We,bt)=>new CustomEvent(We,bt)},bn=We=>Promise.resolve(We),_n=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),St=[],Et=[],it=(We,bt)=>Lt=>{We.push(Lt),W||(W=!0,bt&&4&rn.$flags$?xt(ut):rn.raf(ut))},ze=We=>{for(let bt=0;bt<We.length;bt++)try{We[bt](performance.now())}catch(Lt){Fe(Lt)}We.length=0},ut=()=>{ze(St),ze(Et),(W=St.length>0)&&rn.raf(ut)},xt=We=>bn().then(We),en=it(Et,!0)},5193:(dn,Pt,he)=>{"use strict";he.d(Pt,{a0:()=>O,uM:()=>b,O$:()=>p,s1:()=>m});var v=he(1528),we=he(6400);const nt=(0,we.C_)("App",{web:()=>he.e(4736).then(he.bind(he,4736)).then(N=>new N.AppWeb)});var _e=he(4708),o=he(6124),W=he(3428);const y=(0,we.C_)("LocalNotifications",{web:()=>he.e(1208).then(he.bind(he,1208)).then(N=>new N.LocalNotificationsWeb)});var _=he(9352),h=he(4496),f=he(9240),E=he(5624),w=he(3332),a=he(6819),l=he(1028),d=he(7136),u=he(4668),c=he(4500),s=he(5020),m="DesktopPWA",p=!1;const b="https://is2you2.github.io/";window.p5=_;let O=(()=>{var N;class R{constructor(A,$,j,S,D,V,Z,H,Q,Y,q){this.platform=A,this.nakama=V,this.modalCtrl=H,this.lang=Y,A.is("desktop")?m="DesktopPWA":A.is("mobileweb")?m="MobilePWA":A.is("android")?m="Android":A.is("iphone")&&(m="iOS"),p=A.is("electron"),Z.initialize(()=>{let ne=q.CatchGETs(location.href)||{};q.initialize(),V.AddressToQRCodeAct(ne),S.initialize(),"Android"==m&&y.checkPermissions().then(function(){var de=(0,v.c)(function*(xe){"granted"!=xe.display&&(yield y.requestPermissions())});return function(xe){return de.apply(this,arguments)}}()),S.load_settings(),Z.GetFileListFromDB("tmp_files",de=>{de.forEach(xe=>Z.removeFileFromUserPath(xe))})}),Y.Callback_nakama=()=>{V.initialize(),V.check_if_online(),Y.isFirstTime=!1},this.init_admob(),("Android"==m||"iOS"==m)&&nt.addListener("appUrlOpen",ne=>{j.run(()=>{const de=ne.url.split(".app").pop();de&&$.navigateByUrl(de)})}),S.SetListener("click",ne=>{try{let de,K,xe=ne.data.page.componentProps;switch(ne.data.page.component){case"ChatRoomPage":K=xe.info.noti_id;break;case"MinimalChatPage":de=o._,K=xe.noti_id;break;case"AddTodoMenuPage":xe={data:xe.data},K=JSON.parse(xe.data).id;break;case"NakamaReqContTitle":let L=V.servers[xe.data.isOfficial][xe.data.Target],re="";return re+=`${Y.text.Nakama.ReqContServer}: ${xe.data.serverName}<br>`,re+=`${Y.text.Nakama.ReqContUserName}: ${xe.data.userName}`,void Q.create({header:Y.text.Nakama.ReqContTitle,message:re,buttons:[{text:Y.text.Nakama.ReqContAccept,handler:()=>{L.client.addGroupUsers(L.session,xe.data.group_id,[xe.data.user_id]).then(ge=>{ge||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),L.client.deleteNotifications(L.session,[xe.data.noti_id]).then(Me=>{Me?V.update_notifications(xe.data.isOfficial,xe.data.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Me)})})}},{text:Y.text.Nakama.ReqContReject,handler:()=>{L.client.kickGroupUsers(L.session,xe.data.group_id,[xe.data.user_id]).then(ge=>{ge||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),L.client.deleteNotifications(L.session,[xe.data.noti_id]),V.update_notifications(xe.data.isOfficial,xe.data.Target)})},cssClass:"red_font"}]}).then(ge=>ge.present());case"AllUserNotification":break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0\uac00 \uc544\ub2d8: ",ne.data.page.component)}if(K==S.Current)return;this.waiting_open_page(ne,de,xe)}catch{if("AllUserNotification"===ne.data.type){let K=`<div>${ne.data.body}</div>`;Q.create({header:ne.data.title,message:new _e.AF(ne.data.image?`<img *ngIf="${ne.data.image}" src="${ne.data.image}" alt="noti_image" style="border-radius: 8px">`+K:K),buttons:[{text:Y.text.Nakama.LocalNotiOK,handler:()=>{V.servers[ne.data.isOfficial][ne.data.target].client.deleteNotifications(V.servers[ne.data.isOfficial][ne.data.target].session,[ne.data.noti_id])}}]}).then(re=>re.present())}else console.log("\uc900\ube44\ub41c \uc54c\ub9bc \ud589\ub3d9 \uc5c6\uc74c: ",ne.data)}}),D.enable(),V.on_socket_connected.connection_check=()=>{V.check_if_online()},V.on_socket_disconnected.connection_check=()=>{V.check_if_online()}}waiting_open_page(A,$,j){var S=this;return(0,v.c)(function*(){try{let D=yield S.modalCtrl.create({component:$,componentProps:j});switch(A.data.page.component){case"ChatRoomPage":if(!S.lang.text.ChatRoom.YouReadHereLast)throw"ChatRoomPage \ubc88\uc5ed \uc900\ube44\uc911";if(j.info.noti_id)throw j={info:S.nakama.channels_orig[j.info.isOfficial][j.info.target][j.info.id]},"ChatRoomPage props \uc7ac\uc815\ube44";S.nakama.go_to_chatroom_without_admob_act(j.info);break;case"MinimalChatPage":if(!S.lang.text.MinimalChat.leave_chat_group)throw"MinimalChatPage \ubc88\uc5ed \uc900\ube44\uc911";D.present();break;case"AddTodoMenuPage":if(!S.lang.text.TodoDetail.ToggleWorkers)throw"AddTodoMenuPage \ubc88\uc5ed \uc900\ube44\uc911";S.nakama.open_add_todo_page(j.data);break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0 \ud589\ub3d9 \uc5c6\uc74c: ",A.data.page.component),D.present()}}catch(D){console.log("retry open notification clicked because... : ",D),setTimeout(()=>{S.waiting_open_page(A,$,j)},200)}})()}init_admob(){this.platform.ready().then(()=>{W.i8.initialize({testingDevices:[],initializeForTesting:!0})})}}return(N=R).\u0275fac=function(A){return new(A||N)(h.GI1(f.WU),h.GI1(w.E5),h.GI1(h.WW2),h.GI1(a.s),h.GI1(l.Y),h.GI1(d.h),h.GI1(u.k),h.GI1(E.qS),h.GI1(E.iW),h.GI1(c.o),h.GI1(s.A1))},N.\u0275cmp=h.In1({type:N,selectors:[["app-root"]],decls:2,vars:0,template:function(A,$){1&A&&(h.I0R(0,"ion-app"),h.wR5(1,"ion-router-outlet"),h.C$Y())},dependencies:[E.qk,E.Cg]}),R})()},5020:(dn,Pt,he)=>{"use strict";he.d(Pt,{A1:()=>a,KY:()=>w,Mp:()=>E});var v=he(1528),we=he(4972),_e=he(9352),W=he(4496),C=he(3824),y=he(4500),_=he(4476),h=he(4668),f=he(5624),E=!1;const w=8e4;let a=(()=>{var l;class d{constructor(c,s,m,p,b){this.p5toast=c,this.lang=s,this.sanitizer=m,this.indexed=p,this.loadingCtrl=b,E=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}initialize(){this.p5key=new _e(c=>{c.setup=()=>{c.noCanvas(),c.noLoop(),c.KeyShortCut={}},c.keyPressed=s=>{switch(s.code){case"Backquote":c.KeyShortCut.Backquote&&c.KeyShortCut.Backquote();break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":if(c.KeyShortCut.Digit){let m=(Number(s.code.slice(-1))-1+10)%10;c.KeyShortCut.Digit(m)}break;case"KeyQ":case"KeyW":case"KeyE":c.KeyShortCut.BottomTab&&c.KeyShortCut.BottomTab(s.code.slice(-1));break;case"KeyA":c.KeyShortCut.AddAct&&c.KeyShortCut.AddAct();break;case"KeyS":c.KeyShortCut.SKeyAct&&c.KeyShortCut.SKeyAct();break;case"KeyD":c.KeyShortCut.DeleteAct&&c.KeyShortCut.DeleteAct();break;case"KeyF":c.KeyShortCut.FKeyAct&&c.KeyShortCut.FKeyAct();break;case"Enter":c.KeyShortCut.EnterAct&&c.KeyShortCut.EnterAct();break;case"Escape":c.KeyShortCut.Escape&&c.KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":c.KeyShortCut.HistoryAct&&c.KeyShortCut.HistoryAct(s.code.slice(-1))}}})}CatchGETs(c){const s=c.split("?");if(s.length>1){const m=s[1].split("&");let p={};for(let b=0,O=m.length;b<O;b++){const N=m[b].split("=");p[N[0]]||(p[N[0]]=[]),p[N[0]].push(decodeURIComponent(N[1]))}return p}}readasQRCodeFromId(c){try{let s=new we({content:`[${JSON.stringify(c)}]`,padding:4,width:8,height:8,color:E?"#bbb":"#444",background:E?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(s)}`)}catch(s){console.log("readasQRCodeFromId: ",s),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${s}`})}}readasQRCodeFromString(c){try{let s=new we({content:c,padding:4,width:8,height:8,color:E?"#bbb":"#444",background:E?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(s)}`)}catch(s){console.log("readasQRCodeFromString: ",s),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${s}`})}}CreateGodotIFrame(c,s,m=""){var p=this;let b=!1;return new Promise(function(){var O=(0,v.c)(function*(N){let R=function(){var j=(0,v.c)(function*(){try{if("godot"!=window.godot)throw"No godot";if(m&&!p.godot_window[m])throw"No act ready";b=!0,yield p.indexed.GetGodotIndexedDB(),N()}catch{setTimeout(()=>{R()},1e3)}});return function(){return j.apply(this,arguments)}}();p.godot_window&&p.godot_window.quit_godot&&p.godot_window.quit_godot(),p.godot_splash&&p.godot_splash.remove(),p.godot&&p.godot.remove(),window.godot="";let k=document.createElement("iframe");k.id="godot",k.setAttribute("src","assets/html/index.html"),k.setAttribute("frameborder","0"),k.setAttribute("class","full_screen"),k.setAttribute("allow","fullscreen; encrypted-media"),k.setAttribute("scrolling","no"),k.setAttribute("withCredentials","true"),"content_viewer_canvas"==c&&(s.create_thumbnail_p5=function(){var j=(0,v.c)(function*(S,D=void 0){new _e(V=>{V.setup=()=>{V.noCanvas(),V.pixelDensity(1),V.loadImage("data:image/png;base64,"+S,function(){var Z=(0,v.c)(function*(H){let Q=V.createCanvas(H.width,H.height);V.image(H,0,0),V.textSize(16),V.textWrap(V.CHAR);let Y=V.height/24;V.push(),V.translate(Y/6,Y/6),V.fill(0),V.text(p.godot_window.filename,Y,Y,V.width-2*Y,V.height-2*Y),V.filter(V.BLUR,3),V.pop(),V.fill(255),V.text(p.godot_window.filename,Y,Y,V.width-2*Y,V.height-2*Y);let q=Q.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield p.indexed.saveBase64ToUserPath(q,`${s.alt_path||s.path}_thumbnail.png`),p.modulate_thumbnail(D,"")}catch(ne){console.log("p.saveFrames: ",ne)}V.remove()});return function(H){return Z.apply(this,arguments)}}(),Z=>{console.error("create_thumbnail_load thumbnail failed: ",Z),V.remove()})}})});return function(S){return j.apply(this,arguments)}}());let A=document.getElementById(c);A.appendChild(k),p.godot_window=k.contentWindow||k.contentDocument,Object.keys(s).forEach(j=>p.godot_window[j]=s[j]),p.godot=k,p.godot_splash=new _e(j=>{let S,D,Q,Y;j.setup=()=>{let L=j.createCanvas(A.clientWidth,A.clientHeight);L.parent(A),L.style("position: absolute; left: 0;"),j.imageMode(j.CENTER),j.rectMode(j.CENTER),j.noStroke(),j.CurrentLoaded=0,j.LoadLength=1,p.godot_window.update_load=(re,ge)=>{j.CurrentLoaded=re,j.LoadLength=ge},j.loadImage("assets/icon/favicon.png",re=>{S=re}),j.pixelDensity(1),s.background&&j.loadImage(s.background,re=>{D=re,re.width>re.height?(Y=j.height,Q=re.width/re.height*j.height):(Q=j.width,Y=re.height/re.width*j.width)})};let q=2,ne=0,de=E?80:200,xe=E?200:80,K=E?40:160;j.draw=()=>{j.clear(255,255,255,255);let L=j.constrain(255*q,0,255);j.background(de),j.tint(255,L),D&&j.image(D,j.width/2,j.height/2,Q,Y),S&&j.image(S,j.width/2,j.height/2),j.push(),j.translate(j.width/2,j.height/2+80),ne+=.07,j.rotate(ne),j.fill(xe,j.constrain(255*q,0,255)),j.push(),j.translate(-6,-6),j.rotate(2*-ne),j.rect(0,0,8,8,2),j.pop(),j.push(),j.translate(6,-6),j.rotate(2*-ne),j.rect(0,0,8,8,2),j.pop(),j.push(),j.translate(-6,6),j.rotate(2*-ne),j.rect(0,0,8,8,2),j.pop(),j.push(),j.translate(6,6),j.rotate(2*-ne),j.rect(0,0,8,8,2),j.pop(),j.pop(),j.push(),j.translate(j.width/2,j.height/2+120),j.stroke(K,L),j.strokeWeight(3),j.line(-30,0,30,0),j.stroke(xe,L),j.line(-30,0,j.lerp(-30,30,j.CurrentLoaded/j.LoadLength),0),j.pop(),b&&(q-=.04,q<=0&&j.remove())},j.windowResized=()=>{j.resizeCanvas(A.clientWidth,A.clientHeight)}}),yield R()});return function(N){return O.apply(this,arguments)}}())}req_file_info(c,s){var m=this;return(0,v.c)(function*(){return new Promise(function(){var p=(0,v.c)(function*(b){b(yield m.indexed.GetFileInfoFromDB(c,void 0,s))});return function(b){return p.apply(this,arguments)}}())})()}req_file_part_base64(c,s,m,p){for(var b="",O=new Uint8Array(c.contents.slice(s*w,(s+1)*w)),N=0,R=O.byteLength;N<R;N++)b+=String.fromCharCode(O[N]);let k=btoa(b);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:s}),`${m}.history`,void 0,p),k}save_file_part(c,s,m,p){this.indexed.saveBase64ToUserPath(","+m,`${c}_part/${s}.part`,void 0,p),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:s}),`${c}.history`,void 0,p)}remove_req_file_info(c,s){delete c.content.transfer_index,this.indexed.removeFileFromUserPath(`${s}.history`)}modulate_thumbnail(c,s){var m=this;return(0,v.c)(function*(){try{let p=yield m.indexed.loadBlobFromUserPath(`${c.path}_thumbnail.png`,"image/png"),b=URL.createObjectURL(p);return c.thumbnail=m.sanitizer.bypassSecurityTrustUrl(b),void setTimeout(()=>{URL.revokeObjectURL(b),s&&URL.revokeObjectURL(s)},100)}catch{}switch(c.viewer){case"image":c.thumbnail=c.url?c.url:m.sanitizer.bypassSecurityTrustUrl(s);break;case"text":if(c.url){let p=yield fetch(c.url).then(b=>b.text());c.text=p.split("\n"),c.thumbnail=p.split("\n")}else new _e(p=>{p.setup=()=>{p.noCanvas(),p.loadStrings(s,b=>{c.text=b,URL.revokeObjectURL(s),p.remove()},b=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",b),c.text=[m.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(s),p.remove()})}})}s&&setTimeout(()=>{URL.revokeObjectURL(s)},100)})()}set_viewer_category(c){try{if(0==c.type.indexOf("image/"))c.viewer="image";else if(0==c.type.indexOf("audio/"))c.viewer="audio";else if(0==c.type.indexOf("video/"))c.viewer="video";else{if(0!=c.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";c.viewer="text"}}catch{this.set_viewer_category_from_ext(c)}}set_viewer_category_from_ext(c){switch(c.file_ext){case"blend":c.viewer="blender";break;case"pck":c.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":c.viewer="image";break;case"wav":case"ogg":case"mp3":c.viewer="audio";break;case"mp4":case"ogv":case"webm":c.viewer="video";break;case"md":case"prop":case"conf":case"log":case"txt":case"cs":case"gd":case"py":case"yml":case"gitignore":case"json":case"csv":case"ts":case"js":case"cpp":case"rs":case"java":case"shader":c.viewer="text";break;default:c.viewer="disabled"}}GetBase64ThroughFileReader(c){return new Promise((s,m)=>{var p;let b=new FileReader;b=null!==(p=b._realReader)&&void 0!==p?p:b,b.onload=O=>{s(O.target.result.replace(/"|\\|=/g,""))},b.onerror=O=>{m(O)},b.readAsDataURL(c)})}Base64ToBlob(c,s=""){let m=atob(c.split(",")[1]),p=new ArrayBuffer(m.length),b=new Int8Array(p);for(let N=0,R=m.length;N<R;N++)b[N]=m.charCodeAt(N);return new Blob([b],{type:s})}upload_file_to_storage(c,s,m,p,b){var O=this;return(0,v.c)(function*(){let N=yield O.loadingCtrl.create({message:O.lang.text.GlobalAct.TryToFallbackFS});N.present();let R=new FormData,k=(new Date).getTime(),A=c.filename.split(".")[0],$=`${s}_${A}_${k}.${c.file_ext}`,j=new File([c.blob],$);R.append("files",j);let D,S=!1;b&&(D=yield O.try_upload_to_user_custom_fs(c,s,R,N)),N.message=O.lang.text.Settings.CheckCdnServer;try{if(D)throw S=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";D=`${m}//${p}:9002/cdn/${$}`;let V=new Headers;V.append("Access-Control-Allow-Origin","*"),V.append("Access-Control-Allow-Method","*"),V.append("Access-Control-Allow-Headers","*"),yield fetch(`${m}//${p}:9001/${$}`,{method:"POST",headers:V,body:R}),(yield fetch(D)).ok&&(S=!0)}catch(V){N.message=O.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",V)}return N.dismiss(),S?D:void 0})()}try_upload_to_user_custom_fs(c,s,m,p){var b=this;return(0,v.c)(function*(){let O;O=p||(yield b.loadingCtrl.create({message:b.lang.text.Settings.TryToFallbackFS}));let N=(new Date).getTime(),R=c.filename.split(".")[0],k=`${s}_${R}_${N}.${c.file_ext}`;if(!m){m=new FormData;let j=new File([c.blob],k);m.append("files",j)}let A,$=localStorage.getItem("fallback_fs");try{if(!$)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let j=$.split(":"),D=j[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:";A=`${D}//${j[0]}:${j[1]||9002}/cdn/${k}`;let V=new Headers;V.append("Access-Control-Allow-Origin","*"),V.append("Access-Control-Allow-Method","*"),V.append("Access-Control-Allow-Headers","*"),yield fetch(`${D}//${j[0]}:9001/${k}`,{method:"POST",headers:V,body:m});let Z=yield fetch(A);if(p||O.dismiss(),Z.ok)return A}catch{return void(p||O.dismiss())}})()}}return(l=d).\u0275fac=function(c){return new(c||l)(W.CoB(C.O),W.CoB(y.o),W.CoB(_.mI),W.CoB(h.k),W.CoB(f.Kg))},l.\u0275prov=W.wxM({token:l,factory:l.\u0275fac,providedIn:"root"}),d})()},4668:(dn,Pt,he)=>{"use strict";he.d(Pt,{k:()=>o});var v=he(1528),we=he(4496),nt=he(3824),_e=he(4500);let o=(()=>{var W;class C{constructor(_,h){this.p5toast=_,this.lang=h}initialize(_=(()=>{})){if(this.ionicDB)return;let h=indexedDB.open("/ionicfs",10);h.onsuccess=f=>{f.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=a=>{this.ionicDB=a.target.result,_()}},h.onupgradeneeded=f=>{f.target.result.createObjectStore("FILE_DATA")},h.onerror=f=>{indexedDB.open("/ionicfs",11).onsuccess=w=>{this.ionicDB=w.target.result,_()}}}GetGodotIndexedDB(){var _=this;return(0,v.c)(function*(){if(!_.godotDB)return new Promise((h,f)=>{let E=indexedDB.open("/userfs",21);E.onsuccess=w=>{_.godotDB=E.result,h(void 0)},E.onerror=w=>{console.error("IndexedDB initialized failed: ",w),f(w)}})})()}createRecursiveDirectory(_,h=this.ionicDB){let f=_.lastIndexOf("/"),E=_.substring(0,f);E&&this.checkIfFileExist(E,w=>{let a=h.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${E}`);a.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),this.createRecursiveDirectory(E,h)},a.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l)}})}createDirectory(_){return new Promise((h,f)=>{this.checkIfFileExist(_,E=>{let w=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${_}`);w.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),h(void 0)},w.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a),f(a)}})})}saveTextFileToUserPath(_,h,f=(w=>{}),E=this.ionicDB){return this.createRecursiveDirectory(h,E),new Promise((w,a)=>{let l=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(_)},`/userfs/${h}`);l.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(d),w(d)},l.onerror=d=>{a(d)}})}saveBase64ToUserPath(_,h,f=(w=>{}),E=this.ionicDB){return new Promise((w,a)=>{let l=atob(_.split(",")[1]),d=new ArrayBuffer(l.length),u=new Int8Array(d);for(let s=0,m=l.length;s<m;s++)u[s]=l.charCodeAt(s);this.createRecursiveDirectory(h,E);let c=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${h}`);c.onsuccess=s=>{"success"!=s.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(u),w(u)},c.onerror=s=>{a(s)}})}saveInt8ArrayToUserPath(_,h,f=this.ionicDB){return new Promise((E,w)=>{this.createRecursiveDirectory(h,f);let a=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:_},`/userfs/${h}`);a.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),E()},a.onerror=l=>{w(l)}})}saveBlobToUserPath(_,h,f=(w=>{}),E=this.ionicDB){var w=this;return new Promise(function(){var a=(0,v.c)(function*(l,d){let u;try{let s=yield _.arrayBuffer();u=new Int8Array(s)}catch(s){d(s)}w.createRecursiveDirectory(h,E);let c=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${h}`);c.onsuccess=s=>{"success"!=s.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(u),l(u)},c.onerror=s=>{d(s)}});return function(l,d){return a.apply(this,arguments)}}())}saveFileToUserPath(_,h,f=(w=>{}),E=this.ionicDB){return this.createRecursiveDirectory(h,E),new Promise((w,a)=>{let l=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(_,`/userfs/${h}`);l.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(d),w(d)},l.onerror=d=>{a(d)}})}checkIfFileExist(_,h=(E=>{}),f=this.ionicDB){return new Promise((E,w)=>{let a=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${_}`);a.onsuccess=l=>{let d=l.target.result;h(d),E(d)},a.onerror=l=>{w(l)}})}GetFileListFromDB(_,h=(E=>{}),f=this.ionicDB){let E=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((w,a)=>{E.onsuccess=l=>{const d=l.target.result;for(let u=d.length-1;u>=0;u--)d[u].includes(_)?d[u]=d[u].substring(8):d.splice(u,1);h(d),w(d)},E.onerror=l=>{a(l)}})}GetFileInfoFromDB(_,h=(E=>{}),f=this.ionicDB){let E=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((w,a)=>{E.onsuccess=l=>{const d=l.target.result;h(d),w(d)},E.onerror=l=>{a(l)}})}loadTextFromUserPath(_,h=((E,w)=>{}),f=this.ionicDB){return new Promise(E=>{let w=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=a=>{if(a.target.result){let l=(new TextDecoder).decode(a.target.result.contents);h(!0,l),E(l)}else h(!1,`No file: , ${_}`),E(void 0)},w.onerror=a=>{console.error("IndexedDB loadTextFromUserPath failed: ",a),E(void 0)}})}loadBlobFromUserPath(_,h,f=(w=>{}),E=this.ionicDB){let w=E.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((a,l)=>{w.onsuccess=d=>{try{let u=new Blob([d.target.result.contents],{type:h});f(u),a(u)}catch(u){l(u)}},w.onerror=d=>{l(d)}})}DownloadFileFromUserPath(_,h,f,E=this.ionicDB){let w=E.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=a=>{try{let l=new Blob([a.target.result.contents],{type:h}),d=URL.createObjectURL(l),u=document.createElement("a");u.download=f,u.href=d,document.body.appendChild(u),u.click(),document.body.removeChild(u),u.remove(),URL.revokeObjectURL(d),this.p5toast.show({text:this.lang.text.ContentViewer.fileSaved})}catch(l){console.error("DownloadFileFromUserPath: ",l),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${l}`})}},w.onerror=a=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",a)}}removeFileFromUserPath(_,h=(E=>{}),f=this.ionicDB){let E=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${_}`);return new Promise((w,a)=>{E.onsuccess=l=>{h(l),w(l)},E.onerror=l=>{a(l)}})}}return(W=C).\u0275fac=function(_){return new(_||W)(we.CoB(nt.O),we.CoB(_e.o))},W.\u0275prov=we.wxM({token:W,factory:W.\u0275fac,providedIn:"root"}),C})()},4500:(dn,Pt,he)=>{"use strict";he.d(Pt,{o:()=>_e});var v=he(9352),nt=he(4496);let _e=(()=>{var o;class W{constructor(){this.text={Front:{},Portal:{},Main:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{}},this.isFirstTime=!0,this.lang=navigator.language.split("-")[0];let y=localStorage.getItem("lang");y&&(this.lang=y),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){new v(y=>{y.setup=()=>{y.noCanvas(),y.loadTable("assets/data/translate.csv","csv","header",_=>{let h;_.columns.includes(this.lang)||(this.lang="en"),localStorage.setItem("lang",this.lang);for(let f=0,E=_.rows.length;f<E;f++)"#"==_.rows[f].obj["#"].charAt(0)?(h=_.rows[f].obj["#"].substring(3),this.text[h]||(this.text[h]={})):this.text[h][_.rows[f].obj["#"]]=_.rows[f].obj[this.lang];this.isFirstTime&&this.Callback_nakama(),y.remove()},_=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",_),y.remove()})}})}}return(o=W).\u0275fac=function(y){return new(y||o)},o.\u0275prov=nt.wxM({token:o,factory:o.\u0275fac,providedIn:"root"}),W})()},6884:(dn,Pt,he)=>{"use strict";he.d(Pt,{a:()=>nt});var v=he(5193),we=he(4496);let nt=(()=>{var _e;class o{constructor(){this.users={},this.funcs={onStart:C=>console.warn("onStart \ud568\uc218 \uc5c6\uc74c: ",C),onCheck:C=>console.warn("onCheck \ud568\uc218 \uc5c6\uc74c: ",C),onFailed:C=>console.error("onFailed \ud568\uc218 \uc5c6\uc74c: ",C)}}initialize(){"DesktopPWA"!=v.s1&&"MobilePWA"!=v.s1?(this.server||(this.server=cordova.plugins.wsserver),this.server.start(12011,{onFailure:(y,_,h)=>{this.funcs.onFailed(`Stopped listening on ${y}:${_}. Reason: ${h}`)},onOpen:y=>{this.users[y.uuid]={address:this.users[y.remoteAddr]},Object.keys(this.users).forEach(_=>{this.send_to(_,`Counter:${Object.keys(this.users).length}`)})},onMessage:(y,_)=>{try{let h=JSON.parse(_);"join"==h.type&&(this.users[y.uuid].uid=h.uid,this.users[y.uuid].name=h.name)}catch(h){console.error(`json \ubcc0\ud658 \uc624\ub958_${_}: ${h}`)}Object.keys(this.users).forEach(h=>{this.send_to(h,_)})},onClose:(y,_,h,f)=>{let E=this.users[y.uuid].uid,w=this.users[y.uuid].name;delete this.users[y.uuid];let a={uid:E,name:w,type:"leave",count:Object.keys(this.users).length},l=JSON.stringify(a);Object.keys(this.users).forEach(d=>{this.send_to(d,l)})},origins:[],protocols:[],tcpNoDelay:!0},(y,_)=>{this.funcs.onStart("")},y=>{this.funcs.onFailed(`Did not start. Reason: ${y}`)})):this.funcs.onFailed("Did not start. Reason: \ud50c\ub7ab\ud3fc \ubd88\uc77c\uce58: \uc0ac\uc124 \uc11c\ubc84 \uad6c\ucd95 \ucde8\uc18c")}check_addresses(){"DesktopPWA"!=v.s1&&"MobilePWA"!=v.s1&&(this.server||(this.server=cordova.plugins.wsserver),this.server.getInterfaces(C=>{this.funcs.onCheck(C)}))}disconnect_peer(C,y=4e3,_="EMPTY"){this.server.close({uuid:C},y,_)}stop(){"DesktopPWA"!=v.s1&&"MobilePWA"!=v.s1&&this.server.stop((C,y)=>{this.funcs.onFailed(`Stopped listening on ${y}`)})}send_to(C,y){this.server.send({uuid:C},y)}}return(_e=o).\u0275fac=function(C){return new(C||_e)},_e.\u0275prov=we.wxM({token:_e,factory:_e.\u0275fac,providedIn:"root"}),o})()},6819:(dn,Pt,he)=>{"use strict";he.d(Pt,{s:()=>C});var v=he(1528),we=he(5193),nt=he(4496),_e=he(6928),o=he(1028),W=he(4668);let C=(()=>{var y;class _{constructor(f,E,w){this.noti=f,this.bgmode=E,this.indexed=w,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={},this.listeners={}}change_silent_settings(f){this.settings.silent[f]=!this.settings.silent[f],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(f,E)=>{f&&E&&(this.settings=JSON.parse(E)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){return(0,v.c)(function*(){("DesktopPWA"==we.s1||"MobilePWA"==we.s1)&&("Notification"in window||console.error("Notification \ubbf8\uc9c0\uc6d0 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4"),Notification.requestPermission().then(f=>{"granted"!=f&&console.log("\uc54c\ub9bc \uac70\uc808",f)},f=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800:",f)}))})()}PushLocal(f,E="favicon",w=(()=>{})){if("DesktopPWA"==we.s1||"MobilePWA"==we.s1){if(document.hasFocus()&&this.Current==E||f.triggerWhen_ln)return;const a={badge:`${f.badge}`,body:f.body,icon:`assets/icon/${f.icon||f.smallIcon_ln||E||"favicon"}.png`,image:f.image,lang:f.lang_wn,silent:!this.settings.silent[f.icon||f.smallIcon_ln]||!1,tag:f.tag_wn,actions:f.actions_wn,data:f.data_wn,renotify:f.renotify_wn,requireInteraction:f.requireInteraction_wn,dir:f.dir_wn};if("DesktopPWA"==we.s1)this.WebNoties[f.id]&&(this.WebNoties[f.id].close(),delete this.WebNoties[f.id]),this.WebNoties[f.id]=new Notification(f.title,{...a}),this.WebNoties[f.id].onclick=()=>{w(),window.focus(),this.WebNoties[f.id].close()};else if(window.swReg&&window.swReg.active){if(this.WebNoties[f.id]){try{this.WebNoties[f.id].close()}catch{}delete this.WebNoties[f.id]}try{this.WebNoties[f.id]=window.swReg.showNotification(f.title,{...a})}catch{}try{this.WebNoties[f.id].onclick=()=>{w(),window.focus(),this.WebNoties[f.id].close()}}catch{}}}else{if(!this.bgmode.isActive()&&this.Current==E)return;let a={};a.id=f.id,a.title=f.title,f.body&&(a.text=f.body),f.actions_ln&&(a.actions=f.actions_ln),f.autoCancel_ln&&(a.autoClear=f.autoCancel_ln),f.launch_ln&&(a.launch=f.launch_ln),f.badge&&(a.badge=f.badge),f.image&&(a.attachments=[f.image]),f.clock_ln&&(a.clock=f.clock_ln),f.iconColor_ln&&(a.color=f.iconColor_ln||"ffd94e"),f.extra_ln&&(a.data=f.extra_ln),f.group_ln&&(a.group=f.group_ln),f.groupSummary_ln&&(a.groupSummary=f.groupSummary_ln),f.groupSummaryText_ln&&(a.summary=f.groupSummaryText_ln),f.led_ln&&(a.led=f.led_ln),f.lockscreen_ln&&(a.lockscreen=f.lockscreen_ln),f.mediaSesion_ln&&(a.mediaSession=f.mediaSesion_ln),f.number_ln&&(a.number=f.number_ln),f.progressBar_ln&&(a.progressBar=f.progressBar_ln),f.priority_ln&&(a.priority=f.priority_ln),a.silent=!this.settings.silent[f.smallIcon_ln]||!1,f.timeoutAfter_ln&&(a.timeoutAfter=f.timeoutAfter_ln),f.wakeup_ln&&(a.wakeup=f.wakeup_ln),f.ongoing_ln&&(a.sticky=f.ongoing_ln),f.triggerWhen_ln&&(a.trigger=f.triggerWhen_ln),f.vibrate_ln&&(a.vibrate=f.vibrate_ln),f.icon&&(a.icon=f.icon),a.smallIcon=`res://${f.smallIcon_ln||E||"icon_mono"}`,a.sound=`res://${f.sound_ln||"platform_default"}`,a.foreground=!0,this.noti.schedule(a)}}GetNotificationIds(f=(E=>{})){"DesktopPWA"==we.s1||"MobilePWA"==we.s1||this.noti.getScheduledIds().then(E=>{f(E)})}ClearNoti(f){"DesktopPWA"==we.s1?this.WebNoties[f]&&this.WebNoties[f].close():"MobilePWA"!=we.s1&&this.noti.clear(f)}SetListener(f,E=((w,a)=>console.warn(`${f}: ${w}/${a}`))){"DesktopPWA"==we.s1||"MobilePWA"==we.s1||(this.listeners[f]=(w,a)=>{E(w,a)},cordova.plugins.notification.local.on(f,this.listeners[f]))}RemoveListener(f){"DesktopPWA"==we.s1||"MobilePWA"==we.s1||(cordova.plugins.notification.local.un(f,this.listeners[f]),delete this.listeners[f])}}return(y=_).\u0275fac=function(f){return new(f||y)(nt.CoB(_e.G8),nt.CoB(o.Y),nt.CoB(W.k))},y.\u0275prov=nt.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),_})()},6124:(dn,Pt,he)=>{"use strict";he.d(Pt,{_:()=>D});var v=he(6928),we=he(5193),nt=he(5020),_e=he(4496);let o=(()=>{var V;class Z{constructor(){this.client={},this.status={dedicated_groupchat:"idle",community_ranchat:"idle"},this.userInput={dedicated_groupchat:{logs:[],text:"",last_message:{}},community_ranchat:{logs:[],text:"",last_message:{}}},this.ConnectedNow={dedicated_groupchat:0,community_ranchat:0},this.funcs={dedicated_groupchat:{onopen:Q=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",Q),onclose:Q=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",Q),onmessage:Q=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",Q)},community_ranchat:{onopen:Q=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",Q),onclose:Q=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",Q),onmessage:Q=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",Q)}}}initialize(Q,Y){this.client[Q]=new WebSocket(`${Y}:12011`),this.client[Q].onopen=ne=>{this.funcs[Q].onopen(ne)},this.client[Q].onclose=ne=>{this.funcs[Q].onclose(ne)},this.client[Q].onerror=ne=>{console.error("\uc624\ub958 \ubc1c\uc0dd: ",ne)},this.client[Q].onmessage=ne=>{"string"==typeof ne.data?this.funcs[Q].onmessage(ne.data):ne.data.text().then(de=>{this.funcs[Q].onmessage(de)})}}send(Q,Y){this.client?this.client[Q].send(Y):console.warn("client \uc5f0\uacb0\ub418\uc5b4\uc788\uc9c0 \uc54a\uc74c: \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \ucde8\uc18c: ",Y)}disconnect(Q,Y=1e3,q="user_close"){this.client&&this.client[Q].close(Y,q)}}return(V=Z).\u0275fac=function(Q){return new(Q||V)},V.\u0275prov=_e.wxM({token:V,factory:V.\u0275fac,providedIn:"root"}),Z})();var W=he(5624),C=he(9240),y=he(8268),_=he(6819),h=he(4476),f=he(4180),E=he(4500),w=he(7136),a=he(6884),l=he(1368),d=he(4716);const u=["minimalchat_input"];function c(V,Z){if(1&V&&(_e.I0R(0,"ion-select-option"),_e.OEk(1),_e.C$Y()),2&V){const H=Z.$implicit;_e.yG2(),_e.oRS("",H.key+" ("+H.address+")"," ")}}function s(V,Z){if(1&V){const H=_e.KQA();_e.I0R(0,"ion-select",14),_e.qCj("ionChange",function(Y){_e.usT(H);const q=_e.GaO(2);return _e.CGJ(q.SelectOtherAddress(Y))}),_e.yuY(1,c,2,1,"ion-select-option",9),_e.C$Y()}if(2&V){const H=_e.GaO(2);_e.E7m("label",H.lang.text.MinimalChat.shareAddress)("placeholder",H.lang.text.MinimalChat.selectNetwork),_e.yG2(),_e.E7m("ngForOf",H.addresses)}}function m(V,Z){if(1&V&&_e.wR5(0,"img",15),2&V){const H=_e.GaO(2);_e.E7m("src",H.QRCodeSRC,_e.K6U)}}function p(V,Z){if(1&V&&(_e.I0R(0,"div")(1,"ion-item-divider"),_e.yuY(2,s,2,3,"ion-select",12),_e.C$Y(),_e.yuY(3,m,1,1,"img",13),_e.C$Y()),2&V){const H=_e.GaO();_e.yG2(2),_e.E7m("ngIf",H.isLocalAddress&&H.isMobileApp),_e.yG2(),_e.E7m("ngIf",H.QRCodeSRC)}}function b(V,Z){if(1&V&&(_e.I0R(0,"font",18),_e.OEk(1),_e.C$Y()),2&V){const H=_e.GaO().$implicit;_e.CI5("color","#",H.color,""),_e.yG2(),_e.cNF(H.text)}}function O(V,Z){if(1&V&&(_e.I0R(0,"b"),_e.OEk(1),_e.C$Y()),2&V){const H=_e.GaO(2).$implicit;_e.yG2(),_e.oRS("",H.target,":")}}function N(V,Z){if(1&V&&(_e.I0R(0,"font",19)(1,"font",18),_e.yuY(2,O,2,1,"b",8),_e.C$Y(),_e.OEk(3),_e.C$Y()),2&V){const H=_e.GaO().$implicit;_e.yG2(),_e.CI5("color","#",H.color,""),_e.yG2(),_e.E7m("ngIf",H.target),_e.yG2(),_e.oRS(" "," "+H.text," ")}}function R(V,Z){if(1&V&&(_e.I0R(0,"p"),_e.yuY(1,b,2,2,"font",16)(2,N,4,3,"font",17),_e.C$Y()),2&V){const H=Z.$implicit;_e.yG2(),_e.E7m("ngIf",!H.target),_e.yG2(),_e.E7m("ngIf",H.target)}}function k(V,Z){if(1&V){const H=_e.KQA();_e.I0R(0,"td")(1,"ion-button",20),_e.qCj("click",function(){_e.usT(H);const Y=_e.GaO();return _e.CGJ(Y.join_ranchat())}),_e.OEk(2),_e.C$Y()()}if(2&V){const H=_e.GaO();_e.yG2(2),_e.oRS(" ",H.lang.text.MinimalChat.start_chat," ")}}function A(V,Z){if(1&V){const H=_e.KQA();_e.I0R(0,"td")(1,"ion-button",21),_e.qCj("click",function(){_e.usT(H);const Y=_e.GaO();return _e.CGJ(Y.join_ranchat())}),_e.OEk(2),_e.C$Y()()}if(2&V){const H=_e.GaO();_e.yG2(),_e.E7m("disabled",H.req_refreshed),_e.yG2(),_e.oRS(" ",H.lang.text.MinimalChat.new_chat," ")}}function $(V,Z){if(1&V){const H=_e.KQA();_e.I0R(0,"td")(1,"ion-button",22),_e.qCj("click",function(){_e.usT(H);const Y=_e.GaO();return _e.CGJ(Y.quit_chat())}),_e.wR5(2,"ion-icon",23),_e.C$Y()()}}function j(V,Z){if(1&V){const H=_e.KQA();_e.I0R(0,"td",24)(1,"ion-input",25,26),_e.qCj("ionFocus",function(){_e.usT(H);const Y=_e.GaO();return _e.CGJ(Y.focus_on_input(120))})("keyup.enter",function(){_e.usT(H);const Y=_e.GaO();return _e.CGJ(Y.send())}),_e.iHE("ngModelChange",function(Y){_e.usT(H);const q=_e.GaO();return _e.kNx(q.client.userInput[q.target].text,Y)||(q.client.userInput[q.target].text=Y),_e.CGJ(Y)}),_e.C$Y()()}if(2&V){const H=_e.GaO();_e.yG2(),_e.E7m("placeholder",H.lang.text.MinimalChat.input_placeholder),_e.OKB("ngModel",H.client.userInput[H.target].text)}}function S(V,Z){if(1&V){const H=_e.KQA();_e.I0R(0,"td")(1,"ion-button",22),_e.qCj("click",function(){_e.usT(H);const Y=_e.GaO();return _e.CGJ(Y.send())}),_e.wR5(2,"ion-icon",27),_e.C$Y()()}}let D=(()=>{var V;class Z{constructor(Q,Y,q,ne,de,xe,K,L,re,ge,Me){this.client=Q,this.modalCtrl=Y,this.device=q,this.noti=ne,this.title=de,this.params=xe,this.statusBar=K,this.lang=L,this.nakama=re,this.local_server=ge,this.global=Me,this.uuid=this.device.uuid,this.Header="ranchat",this.iconColor="d8d8d8",this.lnId=11,this.req_refreshed=!1,this.isCustomDedicated=!1,this.isLocalAddress=!1,this.isMobileApp=!1,this.open_this=Le=>{Le.id==this.lnId&&this.modalCtrl.create({component:Z,componentProps:{address:this.params.get("address"),name:this.params.get("name")}}).then(Ye=>Ye.present())},this.target="community_ranchat",this.BackButtonPressed=!1}SelectOtherAddress(Q){let Y=Q.detail.value,q=Y.substring(Y.indexOf("(")+1,Y.indexOf(")"));this.QRCodeSRC=this.global.readasQRCodeFromString(`${we.uM}pjcone_pwa/?group_dedi=ws://${q}`)}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){this.InitBrowserBackButtonOverride(),this.isMobileApp="Android"==we.s1||"iOS"==we.s1,this.local_server.funcs.onCheck=ne=>{let de=Object.keys(ne),xe=[];de.forEach(K=>{ne[K].ipv4Addresses.length&&ne[K].ipv4Addresses.forEach(L=>{xe.push({address:L,key:K})}),this.addresses=xe})},this.local_server.check_addresses(),this.nakama.removeBanner(),this.header_title=this.lang.text.MinimalChat.header_title_ranchat;let Q=this.params.get("address"),Y=this.params.get("name");if(Q&&(this.target="dedicated_groupchat",this.lnId=12,this.header_title=this.lang.text.MinimalChat.header_title_group,this.client.status[this.target]="custom",this.Header="simplechat",this.isCustomDedicated=!0,this.isLocalAddress="ws://127.0.0.1"==Q,this.isLocalAddress||(this.QRCodeSRC=this.global.readasQRCodeFromId({type:"group_dedi",value:{address:Q}}))),this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.title.setTitle(Q?this.lang.text.MinimalChat.WebTitle_group:this.lang.text.MinimalChat.WebTitle_ran),this.noti.Current=this.Header,this.minimal_chat_log=document.getElementById("minimal_chat_div"),this.minimal_chat_log.onscroll=ne=>{this.minimal_chat_log.scrollHeight==this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight&&this.scroll_down()},document.getElementById("favicon").setAttribute("href","assets/icon/simplechat.png"),!this.client.client[this.target]||this.client.client[this.target].readyState!=this.client.client[this.target].OPEN){this.noti.SetListener(`send${this.target}`,(de,xe)=>{this.noti.ClearNoti(de.id),this.send(xe.text)}),this.noti.SetListener(`reconn${this.target}`,de=>{this.noti.ClearNoti(de.id),this.join_ranchat()}),this.noti.SetListener(`exit${this.target}`,de=>{this.noti.ClearNoti(de.id),this.quit_chat()}),this.reply_act=[{id:`send${this.target}`,type:v.kZ.INPUT,title:this.lang.text.MinimalChat.Noti_Reply}],Q||this.reply_act.push({id:`reconn${this.target}`,title:this.lang.text.MinimalChat.new_chat,launch:!1}),this.client.userInput[this.target].logs.length=0;let ne={color:nt.Mp?"bbb":"444",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.joinChat_group:this.lang.text.MinimalChat.joinChat_ran};this.client.userInput[this.target].logs.push(ne),this.client.userInput[this.target].last_message=ne,this.client.initialize(this.target,Q)}this.client.funcs[this.target].onmessage=ne=>{try{let de=JSON.parse(ne),K=this.uuid==de.uid?Y||this.lang.text.MinimalChat.name_me:de.name||("custom"==this.client.status[this.target]?this.lang.text.MinimalChat.name_stranger_group:this.lang.text.MinimalChat.name_stranger_ran),L=de.uid?(de.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):nt.Mp?"888":"444";if(de.msg){let ge={color:L,text:de.msg,target:K};this.client.userInput[this.target].logs.push(ge),this.client.userInput[this.target].last_message=ge}else if(de.type)if("join"==de.type){let ge={color:L,text:this.lang.text.MinimalChat.user_join_comment,target:K};this.client.userInput[this.target].logs.push(ge),this.client.userInput[this.target].last_message=ge}else{let ge={color:L,text:this.lang.text.MinimalChat.user_out_comment,target:K};this.client.userInput[this.target].logs.push(ge),this.client.userInput[this.target].last_message=ge}let re="certified";if(de.count&&(this.client.ConnectedNow[this.target]=de.count),de.msg)this.noti.PushLocal({id:this.lnId,title:K,body:de.msg,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this);else if(de.type){let ge="join"==de.type;ge||(re="pending"),this.noti.PushLocal({id:this.lnId,title:ge?this.lang.text.MinimalChat.user_join:this.lang.text.MinimalChat.user_out,body:K+` | ${ge?this.lang.text.MinimalChat.user_join_comment:this.lang.text.MinimalChat.user_out_comment}`,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this)}this.statusBar.settings[this.target]=re,setTimeout(()=>{this.statusBar.settings[this.target]==re&&(this.statusBar.settings[this.target]="online")},250)}catch{switch(ne){case"GOT_MATCHED":this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250),this.client.userInput[this.target].logs.length=0;let xe={color:nt.Mp?"8bb":"488",text:this.lang.text.MinimalChat.meet_someone};this.client.userInput[this.target].logs.push(xe),this.client.userInput[this.target].last_message=xe,this.client.status[this.target]="linked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.meet_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;case"PARTNER_OUT":this.statusBar.settings[this.target]="pending",setTimeout(()=>{"pending"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250);let K={color:nt.Mp?"b88":"844",text:this.lang.text.MinimalChat.leave_someone};this.client.userInput[this.target].logs.push(K),this.client.userInput[this.target].last_message=K,this.client.status[this.target]="unlinked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.leave_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;default:let L=ne.split(":");this.client.ConnectedNow[this.target]=parseInt(L[1])}}this.focus_on_input()},this.client.funcs[this.target].onclose=ne=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let de={color:"faa",text:this.lang.text.MinimalChat.failed_to_join};this.client.userInput[this.target].logs.push(de),this.client.userInput[this.target].last_message=de,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.failed_to_join,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)},this.client.funcs[this.target].onopen=ne=>{this.statusBar.settings[this.target]="online",Q&&this.client.send(this.target,JSON.stringify({uid:this.uuid,name:Y,type:"join"})),this.client.funcs[this.target].onclose=de=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let xe=this.lang.text.MinimalChat.cannot_join,K={color:"faa",text:xe};this.client.userInput[this.target].logs.push(K),this.client.userInput[this.target].last_message=K,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:xe,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}}}ionViewDidEnter(){setTimeout(()=>{this.scroll_down()},0)}scroll_down(){this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"})}join_ranchat(){if(this.client.client[this.target].readyState==this.client.client[this.target].OPEN){this.client.send(this.target,"REQ_REGROUPING"),this.client.status[this.target]="unlinked",this.client.userInput[this.target].logs.length=0;let Q={color:nt.Mp?"bbb":"444",text:this.lang.text.MinimalChat.waiting_someone};this.client.userInput[this.target].logs.push(Q),this.client.userInput[this.target].last_message=Q,this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"}),this.focus_on_input(),this.req_refreshed=!0,setTimeout(()=>{this.req_refreshed=!1},1e3)}else{let Q=this.lang.text.MinimalChat.cannot_start,Y={color:"faa",text:Q};this.client.userInput[this.target].logs.push(Y),this.client.userInput[this.target].last_message=Y,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:Q,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}}focus_on_input(Q){this.minimalchat_input.setFocus(),setTimeout(()=>{let Y=this.minimal_chat_log.scrollHeight;Y<this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight+120&&this.minimal_chat_log.scrollTo({top:Y,behavior:"smooth"})},Q||0)}send(Q){this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250);let Y={uid:this.uuid,msg:Q||this.client.userInput[this.target].text};if(!Y.msg.trim())return;let q=this.params.get("name");q&&(Y.name=q),this.client.send(this.target,JSON.stringify(Y)),this.client.userInput[this.target].text="",this.focus_on_input()}quit_chat(){this.client.funcs[this.target].onclose=()=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let Q={color:nt.Mp?"ffa":"884",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.leave_chat_group:this.lang.text.MinimalChat.leave_chat_ran};this.client.userInput[this.target].logs.push(Q),this.client.userInput[this.target].last_message=Q,this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"})},this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.client.disconnect(this.target),"ws://127.0.0.1"==this.params.get("address")&&this.local_server.stop(),this.modalCtrl.dismiss()}ionViewWillLeave(){this.title.setTitle("Project: Cone"),document.getElementById("favicon").setAttribute("href","assets/icon/favicon.png"),this.noti.Current=void 0}}return(V=Z).\u0275fac=function(Q){return new(Q||V)(_e.GI1(o),_e.GI1(W.qS),_e.GI1(y.G),_e.GI1(_.s),_e.GI1(h.OY),_e.GI1(C.a6),_e.GI1(f.Y),_e.GI1(E.o),_e.GI1(w.h),_e.GI1(a.a),_e.GI1(nt.A1))},V.\u0275cmp=_e.In1({type:V,selectors:[["app-minimal-chat"]],viewQuery:function(Q,Y){if(1&Q&&_e.CC$(u,5),2&Q){let q;_e.wto(q=_e.Gqi())&&(Y.minimalchat_input=q.first)}},decls:23,vars:10,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["slot","end",2,"margin","8px 16px"],["id","main_table",2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],["id","minimal_chat_div",1,"main",2,"max-width","100vw"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","input_table",2,"width","100%"],["style","width: 100%;",4,"ngIf"],[3,"label","placeholder","ionChange",4,"ngIf"],["style","width: 100%; height: auto;","alt","Loading",3,"src",4,"ngIf"],[3,"label","placeholder","ionChange"],["alt","Loading",2,"width","100%","height","auto",3,"src"],[3,"color",4,"ngIf"],["class","default_text",4,"ngIf"],[3,"color"],[1,"default_text"],["expand","block",3,"click"],["expand","block",3,"disabled","click"],["expand","block","fill","clear",3,"click"],["name","exit"],[2,"width","100%"],["id","minimalchat_input","type","text",3,"placeholder","ngModel","ionFocus","keyup.enter","ngModelChange"],["minimalchat_input",""],["name","send"]],template:function(Q,Y){1&Q&&(_e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),_e.qCj("click",function(){return Y.modalCtrl.dismiss()}),_e.wR5(3,"ion-back-button",2),_e.C$Y(),_e.I0R(4,"ion-title"),_e.OEk(5),_e.C$Y(),_e.I0R(6,"div",3),_e.OEk(7),_e.C$Y()()(),_e.I0R(8,"ion-content")(9,"table",4)(10,"tr",5)(11,"td",6)(12,"div",7),_e.yuY(13,p,4,2,"div",8)(14,R,3,2,"p",9),_e.C$Y()()()()(),_e.I0R(15,"ion-footer")(16,"table",10)(17,"tr"),_e.yuY(18,k,3,1,"td",8)(19,A,3,2,"td",8)(20,$,3,0,"td",8)(21,j,3,2,"td",11)(22,S,3,0,"td",8),_e.C$Y()()()),2&Q&&(_e.yG2(5),_e.cNF(Y.header_title),_e.yG2(2),_e.CAO("",Y.lang.text.MinimalChat.concurrent_users,": ",Y.client.ConnectedNow[Y.target],""),_e.yG2(6),_e.E7m("ngIf",Y.isCustomDedicated&&(!Y.isLocalAddress||Y.isMobileApp)),_e.yG2(),_e.E7m("ngForOf",Y.client.userInput[Y.target].logs),_e.yG2(4),_e.E7m("ngIf","idle"==Y.client.status[Y.target]),_e.yG2(),_e.E7m("ngIf","linked"==Y.client.status[Y.target]||"unlinked"==Y.client.status[Y.target]),_e.yG2(),_e.E7m("ngIf","unlinked"==Y.client.status[Y.target]||"idle"==Y.client.status[Y.target]||"custom"==Y.client.status[Y.target]),_e.yG2(),_e.E7m("ngIf","linked"==Y.client.status[Y.target]||"custom"==Y.client.status[Y.target]),_e.yG2(),_e.E7m("ngIf","linked"==Y.client.status[Y.target]||"custom"==Y.client.status[Y.target]))},dependencies:[l.ay,l.u_,d.ue,d._G,W.sn,W.GS,W._i,W.eV,W.wB,W.Ko,W.A5,W.S8,W.Cy,W.gd,W.tM,W.Md,W.IT,W.qG,W.Im],styles:[".main[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}p[_ngcontent-%COMP%]{margin:8px 0 0}.default_text[_ngcontent-%COMP%]{color:var(--miniranchat-default-text)}.bottom_thumbnail[_ngcontent-%COMP%]{width:100%;max-width:100vw;height:-moz-fit-content;height:fit-content;max-height:96px;transform:translateY(-100%);position:absolute;background:var(--chatroom-last-msg-viewer-bg);padding:8px;overflow:hidden}"]}),Z})()},7136:(dn,Pt,he)=>{"use strict";he.d(Pt,{i:()=>Pn,h:()=>Hn});var E,w,v=he(1528),we=Object.defineProperty,nt=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,W=(G,me,Se)=>me in G?we(G,me,{enumerable:!0,configurable:!0,writable:!0,value:Se}):G[me]=Se,C=(G,me)=>{for(var Se in me||(me={}))_e.call(me,Se)&&W(G,Se,me[Se]);if(nt)for(var Se of nt(me))o.call(me,Se)&&W(G,Se,me[Se]);return G},y=(G,me,Se)=>new Promise((P,z)=>{var F=ee=>{try{ae(Se.next(ee))}catch(ye){z(ye)}},oe=ee=>{try{ae(Se.throw(ee))}catch(ye){z(ye)}},ae=ee=>ee.done?P(ee.value):Promise.resolve(ee.value).then(F,oe);ae((Se=Se.apply(G,me)).next())}),_=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof _<"u"&&_,h_searchParams="URLSearchParams"in _,h_iterable="Symbol"in _&&"iterator"in Symbol,h_blob="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),h_formData="FormData"in _,h_arrayBuffer="ArrayBuffer"in _;function a(G){if("string"!=typeof G&&(G=String(G)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(G)||""===G)throw new TypeError('Invalid character in header field name: "'+G+'"');return G.toLowerCase()}function l(G){return"string"!=typeof G&&(G=String(G)),G}function d(G){var me={next:function(){var Se=G.shift();return{done:void 0===Se,value:Se}}};return h_iterable&&(me[Symbol.iterator]=function(){return me}),me}function u(G){this.map={},G instanceof u?G.forEach(function(me,Se){this.append(Se,me)},this):Array.isArray(G)?G.forEach(function(me){this.append(me[0],me[1])},this):G&&Object.getOwnPropertyNames(G).forEach(function(me){this.append(me,G[me])},this)}function c(G){if(G.bodyUsed)return Promise.reject(new TypeError("Already read"));G.bodyUsed=!0}function s(G){return new Promise(function(me,Se){G.onload=function(){me(G.result)},G.onerror=function(){Se(G.error)}})}function m(G){var me=new FileReader,Se=s(me);return me.readAsArrayBuffer(G),Se}function O(G){if(G.slice)return G.slice(0);var me=new Uint8Array(G.byteLength);return me.set(new Uint8Array(G)),me.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(G){this.bodyUsed=this.bodyUsed,this._bodyInit=G,G?"string"==typeof G?this._bodyText=G:h_blob&&Blob.prototype.isPrototypeOf(G)?this._bodyBlob=G:h_formData&&FormData.prototype.isPrototypeOf(G)?this._bodyFormData=G:h_searchParams&&URLSearchParams.prototype.isPrototypeOf(G)?this._bodyText=G.toString():h_arrayBuffer&&h_blob&&function f(G){return G&&DataView.prototype.isPrototypeOf(G)}(G)?(this._bodyArrayBuffer=O(G.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(G)||w(G))?this._bodyArrayBuffer=O(G):this._bodyText=G=Object.prototype.toString.call(G):this._bodyText="",this.headers.get("content-type")||("string"==typeof G?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h_searchParams&&URLSearchParams.prototype.isPrototypeOf(G)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h_blob&&(this.blob=function(){var G=c(this);if(G)return G;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(m)}),this.text=function(){var G=c(this);if(G)return G;if(this._bodyBlob)return function p(G){var me=new FileReader,Se=s(me);return me.readAsText(G),Se}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function b(G){for(var me=new Uint8Array(G),Se=new Array(me.length),P=0;P<me.length;P++)Se[P]=String.fromCharCode(me[P]);return Se.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h_formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}h_arrayBuffer&&(E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(G){return G&&E.indexOf(Object.prototype.toString.call(G))>-1}),u.prototype.append=function(G,me){G=a(G),me=l(me);var Se=this.map[G];this.map[G]=Se?Se+", "+me:me},u.prototype.delete=function(G){delete this.map[a(G)]},u.prototype.get=function(G){return G=a(G),this.has(G)?this.map[G]:null},u.prototype.has=function(G){return this.map.hasOwnProperty(a(G))},u.prototype.set=function(G,me){this.map[a(G)]=l(me)},u.prototype.forEach=function(G,me){for(var Se in this.map)this.map.hasOwnProperty(Se)&&G.call(me,this.map[Se],Se,this)},u.prototype.keys=function(){var G=[];return this.forEach(function(me,Se){G.push(Se)}),d(G)},u.prototype.values=function(){var G=[];return this.forEach(function(me){G.push(me)}),d(G)},u.prototype.entries=function(){var G=[];return this.forEach(function(me,Se){G.push([Se,me])}),d(G)},h_iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(G,me){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Se=(me=me||{}).body;if(G instanceof A){if(G.bodyUsed)throw new TypeError("Already read");this.url=G.url,this.credentials=G.credentials,me.headers||(this.headers=new u(G.headers)),this.method=G.method,this.mode=G.mode,this.signal=G.signal,!Se&&null!=G._bodyInit&&(Se=G._bodyInit,G.bodyUsed=!0)}else this.url=String(G);if(this.credentials=me.credentials||this.credentials||"same-origin",(me.headers||!this.headers)&&(this.headers=new u(me.headers)),this.method=function k(G){var me=G.toUpperCase();return R.indexOf(me)>-1?me:G}(me.method||this.method||"GET"),this.mode=me.mode||this.mode||null,this.signal=me.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Se)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Se),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==me.cache&&"no-cache"!==me.cache)){var P=/([?&])_=[^&]*/;P.test(this.url)?this.url=this.url.replace(P,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function $(G){var me=new FormData;return G.trim().split("&").forEach(function(Se){if(Se){var P=Se.split("="),z=P.shift().replace(/\+/g," "),F=P.join("=").replace(/\+/g," ");me.append(decodeURIComponent(z),decodeURIComponent(F))}}),me}function j(G){var me=new u;return G.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(P){return 0===P.indexOf("\n")?P.substr(1,P.length):P}).forEach(function(P){var z=P.split(":"),F=z.shift().trim();if(F){var oe=z.join(":").trim();me.append(F,oe)}}),me}function S(G,me){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');me||(me={}),this.type="default",this.status=void 0===me.status?200:me.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===me.statusText?"":""+me.statusText,this.headers=new u(me.headers),this.url=me.url||"",this._initBody(G)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},N.call(A.prototype),N.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},S.error=function(){var G=new S(null,{status:0,statusText:""});return G.type="error",G};var D=[301,302,303,307,308];S.redirect=function(G,me){if(-1===D.indexOf(me))throw new RangeError("Invalid status code");return new S(null,{status:me,headers:{location:G}})};var V=_.DOMException;try{new V}catch{(V=function(me,Se){this.message=me,this.name=Se;var P=Error(me);this.stack=P.stack}).prototype=Object.create(Error.prototype),V.prototype.constructor=V}function Z(G,me){return new Promise(function(Se,P){var z=new A(G,me);if(z.signal&&z.signal.aborted)return P(new V("Aborted","AbortError"));var F=new XMLHttpRequest;function oe(){F.abort()}F.onload=function(){var ee={status:F.status,statusText:F.statusText,headers:j(F.getAllResponseHeaders()||"")};ee.url="responseURL"in F?F.responseURL:ee.headers.get("X-Request-URL");var ye="response"in F?F.response:F.responseText;setTimeout(function(){Se(new S(ye,ee))},0)},F.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},F.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},F.onabort=function(){setTimeout(function(){P(new V("Aborted","AbortError"))},0)},F.open(z.method,function ae(ee){try{return""===ee&&_.location.href?_.location.href:ee}catch{return ee}}(z.url),!0),"include"===z.credentials?F.withCredentials=!0:"omit"===z.credentials&&(F.withCredentials=!1),"responseType"in F&&(h_blob?F.responseType="blob":h_arrayBuffer&&z.headers.get("Content-Type")&&-1!==z.headers.get("Content-Type").indexOf("application/octet-stream")&&(F.responseType="arraybuffer")),!me||"object"!=typeof me.headers||me.headers instanceof u?z.headers.forEach(function(ee,ye){F.setRequestHeader(ye,ee)}):Object.getOwnPropertyNames(me.headers).forEach(function(ee){F.setRequestHeader(ee,l(me.headers[ee]))}),z.signal&&(z.signal.addEventListener("abort",oe),F.onreadystatechange=function(){4===F.readyState&&z.signal.removeEventListener("abort",oe)}),F.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}Z.polyfill=!0,_.fetch||(_.fetch=Z,_.Headers=u,_.Request=A,_.Response=S);var H="function"==typeof atob,Q="function"==typeof btoa,Y="function"==typeof Buffer,q="function"==typeof TextDecoder?new TextDecoder:void 0,ne="function"==typeof TextEncoder?new TextEncoder:void 0,xe=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),K=(G=>{let me={};return G.forEach((Se,P)=>me[Se]=P),me})(xe),L=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,re=String.fromCharCode.bind(String),ge="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):G=>new Uint8Array(Array.prototype.slice.call(G,0)),Le=G=>G.replace(/[^A-Za-z0-9\+\/]/g,""),et=Q?G=>btoa(G):Y?G=>Buffer.from(G,"binary").toString("base64"):G=>{let me,Se,P,z,F="";const oe=G.length%3;for(let ae=0;ae<G.length;){if((Se=G.charCodeAt(ae++))>255||(P=G.charCodeAt(ae++))>255||(z=G.charCodeAt(ae++))>255)throw new TypeError("invalid character found");me=Se<<16|P<<8|z,F+=xe[me>>18&63]+xe[me>>12&63]+xe[me>>6&63]+xe[63&me]}return oe?F.slice(0,oe-3)+"===".substring(oe):F},Oe=Y?G=>Buffer.from(G).toString("base64"):G=>{let Se=[];for(let P=0,z=G.length;P<z;P+=4096)Se.push(re.apply(null,G.subarray(P,P+4096)));return et(Se.join(""))},Ge=G=>{if(G.length<2)return(me=G.charCodeAt(0))<128?G:me<2048?re(192|me>>>6)+re(128|63&me):re(224|me>>>12&15)+re(128|me>>>6&63)+re(128|63&me);var me=65536+1024*(G.charCodeAt(0)-55296)+(G.charCodeAt(1)-56320);return re(240|me>>>18&7)+re(128|me>>>12&63)+re(128|me>>>6&63)+re(128|63&me)},Be=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Qe=Y?G=>Buffer.from(G,"utf8").toString("base64"):ne?G=>Oe(ne.encode(G)):G=>et((G=>G.replace(Be,Ge))(G)),Ke=(G,me=!1)=>me?(G=>G.replace(/=/g,"").replace(/[+\/]/g,me=>"+"==me?"-":"_"))(Qe(G)):Qe(G),vt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,mt=G=>{switch(G.length){case 4:var Se=((7&G.charCodeAt(0))<<18|(63&G.charCodeAt(1))<<12|(63&G.charCodeAt(2))<<6|63&G.charCodeAt(3))-65536;return re(55296+(Se>>>10))+re(56320+(1023&Se));case 3:return re((15&G.charCodeAt(0))<<12|(63&G.charCodeAt(1))<<6|63&G.charCodeAt(2));default:return re((31&G.charCodeAt(0))<<6|63&G.charCodeAt(1))}},Ht=H?G=>atob(Le(G)):Y?G=>Buffer.from(G,"base64").toString("binary"):G=>{if(G=G.replace(/\s+/g,""),!L.test(G))throw new TypeError("malformed base64.");G+="==".slice(2-(3&G.length));let me,P,z,Se="";for(let F=0;F<G.length;)me=K[G.charAt(F++)]<<18|K[G.charAt(F++)]<<12|(P=K[G.charAt(F++)])<<6|(z=K[G.charAt(F++)]),Se+=64===P?re(me>>16&255):64===z?re(me>>16&255,me>>8&255):re(me>>16&255,me>>8&255,255&me);return Se},Rt=Y?G=>ge(Buffer.from(G,"base64")):G=>ge(Ht(G).split("").map(me=>me.charCodeAt(0))),an=Y?G=>Buffer.from(G,"base64").toString("utf8"):q?G=>q.decode(Rt(G)):G=>(G=>G.replace(vt,mt))(Ht(G)),fn=G=>an((G=>Le(G.replace(/[-_]/g,me=>"-"==me?"+":"/")))(G));function zt(G,me,Se){const P=C(C({},{method:G}),me);if(P.headers=C({},me.headers),typeof XMLHttpRequest<"u"){const z=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=z&&z.set||(P.credentials="cocos-ignore")}return Object.keys(P.headers).includes("Accept")||(P.headers.Accept="application/json"),Object.keys(P.headers).includes("Content-Type")||(P.headers["Content-Type"]="application/json"),Object.keys(P.headers).forEach(z=>{P.headers[z]||delete P.headers[z]}),Se&&(P.body=Se),P}var Ut=class{constructor(G,me,Se){this.serverKey=G,this.basePath=me,this.timeoutMs=Se}healthcheck(G,me={}){const F=this.buildFullUrl(this.basePath,"/healthcheck",new Map),oe=zt("GET",me,"");return G&&(oe.headers.Authorization="Bearer "+G),Promise.race([fetch(F,oe).then(ae=>{if(204==ae.status)return ae;if(ae.status>=200&&ae.status<300)return ae.json();throw ae}),new Promise((ae,ee)=>setTimeout(ee,this.timeoutMs,"Request timed out."))])}getAccount(G,me={}){const F=this.buildFullUrl(this.basePath,"/v2/account",new Map),oe=zt("GET",me,"");return G&&(oe.headers.Authorization="Bearer "+G),Promise.race([fetch(F,oe).then(ae=>{if(204==ae.status)return ae;if(ae.status>=200&&ae.status<300)return ae.json();throw ae}),new Promise((ae,ee)=>setTimeout(ee,this.timeoutMs,"Request timed out."))])}updateAccount(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account",z),ae=zt("PUT",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}authenticateApple(G,me,Se,P,z,F={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ae=new Map;ae.set("create",P),ae.set("username",z);let ee="";ee=JSON.stringify(Se||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",ae),Ue=zt("POST",F,ee);return Ue.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}authenticateCustom(G,me,Se,P,z,F={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ae=new Map;ae.set("create",P),ae.set("username",z);let ee="";ee=JSON.stringify(Se||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",ae),Ue=zt("POST",F,ee);return Ue.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}authenticateDevice(G,me,Se,P,z,F={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ae=new Map;ae.set("create",P),ae.set("username",z);let ee="";ee=JSON.stringify(Se||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",ae),Ue=zt("POST",F,ee);return Ue.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}authenticateEmail(G,me,Se,P,z,F={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ae=new Map;ae.set("create",P),ae.set("username",z);let ee="";ee=JSON.stringify(Se||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",ae),Ue=zt("POST",F,ee);return Ue.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}authenticateFacebook(G,me,Se,P,z,F,oe={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ee=new Map;ee.set("create",P),ee.set("username",z),ee.set("sync",F);let ye="";ye=JSON.stringify(Se||{});const Ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",ee),ct=zt("POST",oe,ye);return ct.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(Ue,ct).then(It=>{if(204==It.status)return It;if(It.status>=200&&It.status<300)return It.json();throw It}),new Promise((It,Zt)=>setTimeout(Zt,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(G,me,Se,P,z,F={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ae=new Map;ae.set("create",P),ae.set("username",z);let ee="";ee=JSON.stringify(Se||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",ae),Ue=zt("POST",F,ee);return Ue.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(G,me,Se,P,z,F={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ae=new Map;ae.set("create",P),ae.set("username",z);let ee="";ee=JSON.stringify(Se||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",ae),Ue=zt("POST",F,ee);return Ue.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}authenticateGoogle(G,me,Se,P,z,F={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ae=new Map;ae.set("create",P),ae.set("username",z);let ee="";ee=JSON.stringify(Se||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",ae),Ue=zt("POST",F,ee);return Ue.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}authenticateSteam(G,me,Se,P,z,F,oe={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const ee=new Map;ee.set("create",P),ee.set("username",z),ee.set("sync",F);let ye="";ye=JSON.stringify(Se||{});const Ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",ee),ct=zt("POST",oe,ye);return ct.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(Ue,ct).then(It=>{if(204==It.status)return It;if(It.status>=200&&It.status<300)return It.json();throw It}),new Promise((It,Zt)=>setTimeout(Zt,this.timeoutMs,"Request timed out."))])}linkApple(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/link/apple",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkCustom(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/link/custom",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkDevice(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/link/device",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkEmail(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/link/email",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkFacebook(G,me,Se,P={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;F.set("sync",Se);let oe="";oe=JSON.stringify(me||{});const ae=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",F),ee=zt("POST",P,oe);return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkGameCenter(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkGoogle(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/link/google",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkSteam(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/link/steam",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}sessionRefresh(G,me,Se,P={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let oe="";oe=JSON.stringify(Se||{});const ae=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",F),ee=zt("POST",P,oe);return ee.headers.Authorization="Basic "+Ke(G+":"+me),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}unlinkApple(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkCustom(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkDevice(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkEmail(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkFacebook(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkGoogle(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkSteam(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listChannelMessages(G,me,Se,P,z,F={}){if(null==me)throw new Error("'channelId' is a required parameter but is null or undefined.");const oe="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(me))),ae=new Map;ae.set("limit",Se),ae.set("forward",P),ae.set("cursor",z);const ye=this.buildFullUrl(this.basePath,oe,ae),Ue=zt("GET",F,"");return G&&(Ue.headers.Authorization="Bearer "+G),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}event(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/event",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteFriends(G,me,Se,P={}){const F=new Map;F.set("ids",me),F.set("usernames",Se);const ae=this.buildFullUrl(this.basePath,"/v2/friend",F),ee=zt("DELETE",P,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}listFriends(G,me,Se,P,z={}){const oe=new Map;oe.set("limit",me),oe.set("state",Se),oe.set("cursor",P);const ee=this.buildFullUrl(this.basePath,"/v2/friend",oe),ye=zt("GET",z,"");return G&&(ye.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,ye).then(Ue=>{if(204==Ue.status)return Ue;if(Ue.status>=200&&Ue.status<300)return Ue.json();throw Ue}),new Promise((Ue,ct)=>setTimeout(ct,this.timeoutMs,"Request timed out."))])}addFriends(G,me,Se,P={}){const F=new Map;F.set("ids",me),F.set("usernames",Se);const ae=this.buildFullUrl(this.basePath,"/v2/friend",F),ee=zt("POST",P,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}blockFriends(G,me,Se,P={}){const F=new Map;F.set("ids",me),F.set("usernames",Se);const ae=this.buildFullUrl(this.basePath,"/v2/friend/block",F),ee=zt("POST",P,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}importFacebookFriends(G,me,Se,P={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;F.set("reset",Se);let oe="";oe=JSON.stringify(me||{});const ae=this.buildFullUrl(this.basePath,"/v2/friend/facebook",F),ee=zt("POST",P,oe);return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}importSteamFriends(G,me,Se,P={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;F.set("reset",Se);let oe="";oe=JSON.stringify(me||{});const ae=this.buildFullUrl(this.basePath,"/v2/friend/steam",F),ee=zt("POST",P,oe);return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}listGroups(G,me,Se,P,z,F,oe,ae={}){const ye=new Map;ye.set("name",me),ye.set("cursor",Se),ye.set("limit",P),ye.set("lang_tag",z),ye.set("members",F),ye.set("open",oe);const ct=this.buildFullUrl(this.basePath,"/v2/group",ye),It=zt("GET",ae,"");return G&&(It.headers.Authorization="Bearer "+G),Promise.race([fetch(ct,It).then(Zt=>{if(204==Zt.status)return Zt;if(Zt.status>=200&&Zt.status<300)return Zt.json();throw Zt}),new Promise((Zt,yn)=>setTimeout(yn,this.timeoutMs,"Request timed out."))])}createGroup(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/group",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteGroup(G,me,Se={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");const P="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(me))),oe=this.buildFullUrl(this.basePath,P,new Map),ae=zt("DELETE",Se,"");return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}updateGroup(G,me,Se,P={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const z="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(me))),F=new Map;let oe="";oe=JSON.stringify(Se||{});const ae=this.buildFullUrl(this.basePath,z,F),ee=zt("PUT",P,oe);return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}addGroupUsers(G,me,Se,P={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");const z="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(me))),F=new Map;F.set("user_ids",Se);const ae=this.buildFullUrl(this.basePath,z,F),ee=zt("POST",P,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}banGroupUsers(G,me,Se,P={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");const z="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(me))),F=new Map;F.set("user_ids",Se);const ae=this.buildFullUrl(this.basePath,z,F),ee=zt("POST",P,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(G,me,Se,P={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'userIds' is a required parameter but is null or undefined.");const z="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(me))),F=new Map;F.set("user_ids",Se);const ae=this.buildFullUrl(this.basePath,z,F),ee=zt("POST",P,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}joinGroup(G,me,Se={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");const P="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(me))),oe=this.buildFullUrl(this.basePath,P,new Map),ae=zt("POST",Se,"");return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}kickGroupUsers(G,me,Se,P={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");const z="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(me))),F=new Map;F.set("user_ids",Se);const ae=this.buildFullUrl(this.basePath,z,F),ee=zt("POST",P,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}leaveGroup(G,me,Se={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");const P="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(me))),oe=this.buildFullUrl(this.basePath,P,new Map),ae=zt("POST",Se,"");return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(G,me,Se,P={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");const z="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(me))),F=new Map;F.set("user_ids",Se);const ae=this.buildFullUrl(this.basePath,z,F),ee=zt("POST",P,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}listGroupUsers(G,me,Se,P,z,F={}){if(null==me)throw new Error("'groupId' is a required parameter but is null or undefined.");const oe="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(me))),ae=new Map;ae.set("limit",Se),ae.set("state",P),ae.set("cursor",z);const ye=this.buildFullUrl(this.basePath,oe,ae),Ue=zt("GET",F,"");return G&&(Ue.headers.Authorization="Bearer "+G),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(G,me,Se={}){if(null==me)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const P="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(me))),oe=this.buildFullUrl(this.basePath,P,new Map),ae=zt("DELETE",Se,"");return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(G,me,Se,P,z,F,oe={}){if(null==me)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const ae="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(me))),ee=new Map;ee.set("owner_ids",Se),ee.set("limit",P),ee.set("cursor",z),ee.set("expiry",F);const Ue=this.buildFullUrl(this.basePath,ae,ee),ct=zt("GET",oe,"");return G&&(ct.headers.Authorization="Bearer "+G),Promise.race([fetch(Ue,ct).then(It=>{if(204==It.status)return It;if(It.status>=200&&It.status<300)return It.json();throw It}),new Promise((It,Zt)=>setTimeout(Zt,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(G,me,Se,P={}){if(null==me)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const z="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(me))),F=new Map;let oe="";oe=JSON.stringify(Se||{});const ae=this.buildFullUrl(this.basePath,z,F),ee=zt("POST",P,oe);return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(G,me,Se,P,z,F={}){if(null==me)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'ownerId' is a required parameter but is null or undefined.");const oe="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(me))).replace("{ownerId}",encodeURIComponent(String(Se))),ae=new Map;ae.set("limit",P),ae.set("expiry",z);const ye=this.buildFullUrl(this.basePath,oe,ae),Ue=zt("GET",F,"");return G&&(Ue.headers.Authorization="Bearer "+G),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}listMatches(G,me,Se,P,z,F,oe,ae={}){const ye=new Map;ye.set("limit",me),ye.set("authoritative",Se),ye.set("label",P),ye.set("min_size",z),ye.set("max_size",F),ye.set("query",oe);const ct=this.buildFullUrl(this.basePath,"/v2/match",ye),It=zt("GET",ae,"");return G&&(It.headers.Authorization="Bearer "+G),Promise.race([fetch(ct,It).then(Zt=>{if(204==Zt.status)return Zt;if(Zt.status>=200&&Zt.status<300)return Zt.json();throw Zt}),new Promise((Zt,yn)=>setTimeout(yn,this.timeoutMs,"Request timed out."))])}deleteNotifications(G,me,Se={}){const z=new Map;z.set("ids",me);const oe=this.buildFullUrl(this.basePath,"/v2/notification",z),ae=zt("DELETE",Se,"");return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listNotifications(G,me,Se,P={}){const F=new Map;F.set("limit",me),F.set("cacheable_cursor",Se);const ae=this.buildFullUrl(this.basePath,"/v2/notification",F),ee=zt("GET",P,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}rpcFunc2(G,me,Se,P,z={}){if(null==me)throw new Error("'id' is a required parameter but is null or undefined.");const F="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(me))),oe=new Map;oe.set("payload",Se),oe.set("http_key",P);const ee=this.buildFullUrl(this.basePath,F,oe),ye=zt("GET",z,"");return G&&(ye.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,ye).then(Ue=>{if(204==Ue.status)return Ue;if(Ue.status>=200&&Ue.status<300)return Ue.json();throw Ue}),new Promise((Ue,ct)=>setTimeout(ct,this.timeoutMs,"Request timed out."))])}rpcFunc(G,me,Se,P,z={}){if(null==me)throw new Error("'id' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const F="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(me))),oe=new Map;oe.set("http_key",P);let ae="";ae=JSON.stringify(Se||{});const ee=this.buildFullUrl(this.basePath,F,oe),ye=zt("POST",z,ae);return G&&(ye.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,ye).then(Ue=>{if(204==Ue.status)return Ue;if(Ue.status>=200&&Ue.status<300)return Ue.json();throw Ue}),new Promise((Ue,ct)=>setTimeout(ct,this.timeoutMs,"Request timed out."))])}sessionLogout(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/session/logout",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}readStorageObjects(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/storage",z),ae=zt("POST",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}writeStorageObjects(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/storage",z),ae=zt("PUT",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(G,me,Se={}){if(null==me)throw new Error("'body' is a required parameter but is null or undefined.");const z=new Map;let F="";F=JSON.stringify(me||{});const oe=this.buildFullUrl(this.basePath,"/v2/storage/delete",z),ae=zt("PUT",Se,F);return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listStorageObjects(G,me,Se,P,z,F={}){if(null==me)throw new Error("'collection' is a required parameter but is null or undefined.");const oe="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(me))),ae=new Map;ae.set("user_id",Se),ae.set("limit",P),ae.set("cursor",z);const ye=this.buildFullUrl(this.basePath,oe,ae),Ue=zt("GET",F,"");return G&&(Ue.headers.Authorization="Bearer "+G),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}listStorageObjects2(G,me,Se,P,z,F={}){if(null==me)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'userId' is a required parameter but is null or undefined.");const oe="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(me))).replace("{userId}",encodeURIComponent(String(Se))),ae=new Map;ae.set("limit",P),ae.set("cursor",z);const ye=this.buildFullUrl(this.basePath,oe,ae),Ue=zt("GET",F,"");return G&&(Ue.headers.Authorization="Bearer "+G),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}listTournaments(G,me,Se,P,z,F,oe,ae={}){const ye=new Map;ye.set("category_start",me),ye.set("category_end",Se),ye.set("start_time",P),ye.set("end_time",z),ye.set("limit",F),ye.set("cursor",oe);const ct=this.buildFullUrl(this.basePath,"/v2/tournament",ye),It=zt("GET",ae,"");return G&&(It.headers.Authorization="Bearer "+G),Promise.race([fetch(ct,It).then(Zt=>{if(204==Zt.status)return Zt;if(Zt.status>=200&&Zt.status<300)return Zt.json();throw Zt}),new Promise((Zt,yn)=>setTimeout(yn,this.timeoutMs,"Request timed out."))])}listTournamentRecords(G,me,Se,P,z,F,oe={}){if(null==me)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const ae="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(me))),ee=new Map;ee.set("owner_ids",Se),ee.set("limit",P),ee.set("cursor",z),ee.set("expiry",F);const Ue=this.buildFullUrl(this.basePath,ae,ee),ct=zt("GET",oe,"");return G&&(ct.headers.Authorization="Bearer "+G),Promise.race([fetch(Ue,ct).then(It=>{if(204==It.status)return It;if(It.status>=200&&It.status<300)return It.json();throw It}),new Promise((It,Zt)=>setTimeout(Zt,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(G,me,Se,P={}){if(null==me)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const z="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(me))),F=new Map;let oe="";oe=JSON.stringify(Se||{});const ae=this.buildFullUrl(this.basePath,z,F),ee=zt("POST",P,oe);return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(G,me,Se,P={}){if(null==me)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const z="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(me))),F=new Map;let oe="";oe=JSON.stringify(Se||{});const ae=this.buildFullUrl(this.basePath,z,F),ee=zt("PUT",P,oe);return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(ae,ee).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}joinTournament(G,me,Se={}){if(null==me)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const P="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(me))),oe=this.buildFullUrl(this.basePath,P,new Map),ae=zt("POST",Se,"");return G&&(ae.headers.Authorization="Bearer "+G),Promise.race([fetch(oe,ae).then(ee=>{if(204==ee.status)return ee;if(ee.status>=200&&ee.status<300)return ee.json();throw ee}),new Promise((ee,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(G,me,Se,P,z,F={}){if(null==me)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'ownerId' is a required parameter but is null or undefined.");const oe="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(me))).replace("{ownerId}",encodeURIComponent(String(Se))),ae=new Map;ae.set("limit",P),ae.set("expiry",z);const ye=this.buildFullUrl(this.basePath,oe,ae),Ue=zt("GET",F,"");return G&&(Ue.headers.Authorization="Bearer "+G),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}getUsers(G,me,Se,P,z={}){const oe=new Map;oe.set("ids",me),oe.set("usernames",Se),oe.set("facebook_ids",P);const ee=this.buildFullUrl(this.basePath,"/v2/user",oe),ye=zt("GET",z,"");return G&&(ye.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,ye).then(Ue=>{if(204==Ue.status)return Ue;if(Ue.status>=200&&Ue.status<300)return Ue.json();throw Ue}),new Promise((Ue,ct)=>setTimeout(ct,this.timeoutMs,"Request timed out."))])}listUserGroups(G,me,Se,P,z,F={}){if(null==me)throw new Error("'userId' is a required parameter but is null or undefined.");const oe="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(me))),ae=new Map;ae.set("limit",Se),ae.set("state",P),ae.set("cursor",z);const ye=this.buildFullUrl(this.basePath,oe,ae),Ue=zt("GET",F,"");return G&&(Ue.headers.Authorization="Bearer "+G),Promise.race([fetch(ye,Ue).then(ct=>{if(204==ct.status)return ct;if(ct.status>=200&&ct.status<300)return ct.json();throw ct}),new Promise((ct,It)=>setTimeout(It,this.timeoutMs,"Request timed out."))])}buildFullUrl(G,me,Se){let P=G+me+"?";for(let[z,F]of Se)F instanceof Array?P+=F.reduce((oe,ae)=>oe+encodeURIComponent(z)+"="+encodeURIComponent(ae)+"&",""):null!=F&&(P+=encodeURIComponent(z)+"="+encodeURIComponent(F)+"&");return P}},lt=class{constructor(G,me,Se){this.created=Se,this.token=G,this.refresh_token=me,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(G,me)}isexpired(G){return this.expires_at-G<0}isrefreshexpired(G){return this.refresh_expires_at-G<0}update(G,me){const Se=G.split(".");if(3!=Se.length)throw"jwt is not valid.";const P=JSON.parse(Ht(Se[1])),z=Math.floor(parseInt(P.exp));if(me){const F=me.split(".");if(3!=F.length)throw"refresh jwt is not valid.";const oe=JSON.parse(Ht(F[1])),ae=Math.floor(parseInt(oe.exp));this.refresh_expires_at=ae,this.refresh_token=me}this.token=G,this.expires_at=z,this.username=P.usn,this.user_id=P.uid,this.vars=P.vrs}static restore(G,me){return new lt(G,me,!1)}},Nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Pe=0;Pe<64;Pe++)_t[Nt.charCodeAt(Pe)]=Pe;var Pe,Fe=function(G){var Se,me=new Uint8Array(G),P=me.length,z="";for(Se=0;Se<P;Se+=3)z+=Nt[me[Se]>>2],z+=Nt[(3&me[Se])<<4|me[Se+1]>>4],z+=Nt[(15&me[Se+1])<<2|me[Se+2]>>6],z+=Nt[63&me[Se+2]];return P%3==2?z=z.substring(0,z.length-1)+"=":P%3==1&&(z=z.substring(0,z.length-2)+"=="),z},Ie=function(G){var P,F,oe,ae,ee,me=.75*G.length,Se=G.length,z=0;"="===G[G.length-1]&&(me--,"="===G[G.length-2]&&me--);var ye=new ArrayBuffer(me),Ue=new Uint8Array(ye);for(P=0;P<Se;P+=4)F=_t[G.charCodeAt(P)],oe=_t[G.charCodeAt(P+1)],ae=_t[G.charCodeAt(P+2)],ee=_t[G.charCodeAt(P+3)],Ue[z++]=F<<2|oe>>4,Ue[z++]=(15&oe)<<4|ae>>2,Ue[z++]=(3&ae)<<6|63&ee;return ye},Ze=class{get onClose(){return this._socket.onclose}set onClose(G){this._socket.onclose=G}get onError(){return this._socket.onerror}set onError(G){this._socket.onerror=G}get onMessage(){return this._socket.onmessage}set onMessage(G){G?this._socket.onmessage=me=>{const Se=JSON.parse(me.data);Se.match_data&&Se.match_data.data?Se.match_data.data=new Uint8Array(Ie(Se.match_data.data)):Se.party_data&&Se.party_data.data&&(Se.party_data.data=new Uint8Array(Ie(Se.party_data.data))),G(Se)}:G=null}get onOpen(){return this._socket.onopen}set onOpen(G){this._socket.onopen=G}isOpen(){var G;return(null==(G=this._socket)?void 0:G.readyState)==WebSocket.OPEN}connect(G,me,Se,P,z){const F=`${G}${me}:${Se}/ws?lang=en&status=${encodeURIComponent(P.toString())}&token=${encodeURIComponent(z)}`;this._socket=new WebSocket(F)}close(){this._socket.close(),this._socket=void 0}send(G){if(G.match_data_send){G.match_data_send.op_code=G.match_data_send.op_code.toString();let me=G.match_data_send.data;me&&me instanceof Uint8Array?G.match_data_send.data=Fe(me.buffer):me&&(G.match_data_send.data=et(me))}else if(G.party_data_send){G.party_data_send.op_code=G.party_data_send.op_code.toString();let me=G.party_data_send.data;me&&me instanceof Uint8Array?G.party_data_send.data=Fe(me.buffer):me&&(G.party_data_send.data=et(me))}this._socket.send(JSON.stringify(G))}},wt=class{constructor(G,me,Se=!1,P=!1,z=new Ze,F=wt.DefaultSendTimeoutMs){this.host=G,this.port=me,this.useSSL=Se,this.verbose=P,this.adapter=z,this.sendTimeoutMs=F,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=wt.DefaultHeartbeatTimeoutMs}generatecid(){const G=this.nextCid.toString();return++this.nextCid,G}connect(G,me=!1,Se=wt.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(G):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,me,G.token),this.adapter.onClose=z=>{this.ondisconnect(z)},this.adapter.onError=z=>{this.onerror(z)},this.adapter.onMessage=z=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(z)),z.cid){const F=this.cIds[z.cid];if(!F)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",z));delete this.cIds[z.cid],z.error?F.reject(z.error):F.resolve(z)}else z.notifications?z.notifications.notifications.forEach(F=>{F.content=F.content?JSON.parse(F.content):void 0,this.onnotification(F)}):z.match_data?(z.match_data.op_code=parseInt(z.match_data.op_code),this.onmatchdata(z.match_data)):z.match_presence_event?this.onmatchpresence(z.match_presence_event):z.matchmaker_ticket?this.onmatchmakerticket(z.matchmaker_ticket):z.matchmaker_matched?this.onmatchmakermatched(z.matchmaker_matched):z.status_presence_event?this.onstatuspresence(z.status_presence_event):z.stream_presence_event?this.onstreampresence(z.stream_presence_event):z.stream_data?this.onstreamdata(z.stream_data):z.channel_message?(z.channel_message.content=JSON.parse(z.channel_message.content),this.onchannelmessage(z.channel_message)):z.channel_presence_event?this.onchannelpresence(z.channel_presence_event):z.party_data?(z.party_data.op_code=parseInt(z.party_data.op_code),this.onpartydata(z.party_data)):z.party_close?this.onpartyclose(z.party_close):z.party_join_request?this.onpartyjoinrequest(z.party_join_request):z.party_leader?this.onpartyleader(z.party_leader):z.party_matchmaker_ticket?this.onpartymatchmakerticket(z.party_matchmaker_ticket):z.party_presence_event?this.onpartypresence(z.party_presence_event):z.party?this.onparty(z.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",z)},new Promise((z,F)=>{this.adapter.onOpen=oe=>{this.verbose&&window&&window.console&&console.log(oe),this.pingPong(),z(G)},this.adapter.onError=oe=>{F(oe),this.adapter.close()},setTimeout(()=>{F("The socket timed out when trying to connect.")},Se)}))}disconnect(G=!0){this.adapter.isOpen()&&this.adapter.close(),G&&this.ondisconnect({})}setHeartbeatTimeoutMs(G){this._heartbeatTimeoutMs=G}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(G){this.verbose&&window&&window.console&&console.log(G)}onerror(G){this.verbose&&window&&window.console&&console.log(G)}onchannelmessage(G){this.verbose&&window&&window.console&&console.log(G)}onchannelpresence(G){this.verbose&&window&&window.console&&console.log(G)}onnotification(G){this.verbose&&window&&window.console&&console.log(G)}onmatchdata(G){this.verbose&&window&&window.console&&console.log(G)}onmatchpresence(G){this.verbose&&window&&window.console&&console.log(G)}onmatchmakerticket(G){this.verbose&&window&&window.console&&console.log(G)}onmatchmakermatched(G){this.verbose&&window&&window.console&&console.log(G)}onparty(G){this.verbose&&window&&window.console&&console.log(G)}onpartyclose(G){this.verbose&&window&&window.console&&console.log("Party closed: "+G)}onpartyjoinrequest(G){this.verbose&&window&&window.console&&console.log(G)}onpartydata(G){this.verbose&&window&&window.console&&console.log(G)}onpartyleader(G){this.verbose&&window&&window.console&&console.log(G)}onpartymatchmakerticket(G){this.verbose&&window&&window.console&&console.log(G)}onpartypresence(G){this.verbose&&window&&window.console&&console.log(G)}onstatuspresence(G){this.verbose&&window&&window.console&&console.log(G)}onstreampresence(G){this.verbose&&window&&window.console&&console.log(G)}onstreamdata(G){this.verbose&&window&&window.console&&console.log(G)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(G,me=wt.DefaultSendTimeoutMs){const Se=G;return new Promise((P,z)=>{if(this.adapter.isOpen())if(Se.match_data_send)this.adapter.send(Se),P();else if(Se.party_data_send)this.adapter.send(Se),P();else{Se.channel_message_send?Se.channel_message_send.content=JSON.stringify(Se.channel_message_send.content):Se.channel_message_update&&(Se.channel_message_update.content=JSON.stringify(Se.channel_message_update.content));const F=this.generatecid();this.cIds[F]={resolve:P,reject:z},setTimeout(()=>{z("The socket timed out while waiting for a response.")},me),Se.cid=F,this.adapter.send(Se)}else z("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const F=C({},Se);F.match_data_send&&F.match_data_send.data?F.match_data_send.data=fn(F.match_data_send.data):F.party_data_send&&F.party_data_send.data&&(F.party_data_send.data=fn(F.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(F))}})}acceptPartyMember(G,me){return this.send({party_accept:{party_id:G,presence:me}})}addMatchmaker(G,me,Se,P,z){return y(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:me,max_count:Se,query:G,string_properties:P,numeric_properties:z}})).matchmaker_ticket})}addMatchmakerParty(G,me,Se,P,z,F){return y(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:G,min_count:Se,max_count:P,query:me,string_properties:z,numeric_properties:F}})).party_matchmaker_ticket})}closeParty(G){return y(this,null,function*(){return yield this.send({party_close:{party_id:G}})})}createMatch(G){return y(this,null,function*(){return(yield this.send({match_create:{name:G}})).match})}createParty(G,me){return y(this,null,function*(){return(yield this.send({party_create:{open:G,max_size:me}})).party})}followUsers(G){return y(this,null,function*(){return(yield this.send({status_follow:{user_ids:G}})).status})}joinChat(G,me,Se,P){return y(this,null,function*(){return(yield this.send({channel_join:{target:G,type:me,persistence:Se,hidden:P}})).channel})}joinMatch(G,me,Se){return y(this,null,function*(){const P={match_join:{metadata:Se}};return me?P.match_join.token=me:P.match_join.match_id=G,(yield this.send(P)).match})}joinParty(G){return y(this,null,function*(){return yield this.send({party_join:{party_id:G}})})}leaveChat(G){return this.send({channel_leave:{channel_id:G}})}leaveMatch(G){return this.send({match_leave:{match_id:G}})}leaveParty(G){return this.send({party_leave:{party_id:G}})}listPartyJoinRequests(G){return y(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:G}})).party_join_request})}promotePartyMember(G,me){return y(this,null,function*(){return(yield this.send({party_promote:{party_id:G,presence:me}})).party_leader})}removeChatMessage(G,me){return y(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:G,message_id:me}})).channel_message_ack})}removeMatchmaker(G){return this.send({matchmaker_remove:{ticket:G}})}removeMatchmakerParty(G,me){return this.send({party_matchmaker_remove:{party_id:G,ticket:me}})}removePartyMember(G,me){return y(this,null,function*(){return this.send({party_remove:{party_id:G,presence:me}})})}rpc(G,me,Se){return y(this,null,function*(){return(yield this.send({rpc:{id:G,payload:me,http_key:Se}})).rpc})}sendMatchState(G,me,Se,P,z){return y(this,null,function*(){return this.send({match_data_send:{match_id:G,op_code:me,data:Se,presences:null!=P?P:[],reliable:z}})})}sendPartyData(G,me,Se){return this.send({party_data_send:{party_id:G,op_code:me,data:Se}})}unfollowUsers(G){return this.send({status_unfollow:{user_ids:G}})}updateChatMessage(G,me,Se){return y(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:G,message_id:me,content:Se}})).channel_message_ack})}updateStatus(G){return this.send({status_update:{status:G}})}writeChatMessage(G,me){return y(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:G,content:me}})).channel_message_ack})}pingPong(){return y(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},Dt=wt;Dt.DefaultHeartbeatTimeoutMs=1e4,Dt.DefaultSendTimeoutMs=1e4,Dt.DefaultConnectTimeoutMs=3e4;var Et=class{constructor(G="defaultkey",me="127.0.0.1",Se="7350",P=!1,z=7e3,F=!0){this.serverkey=G,this.host=me,this.port=Se,this.useSSL=P,this.timeout=z,this.autoRefreshSession=F,this.expiredTimespanMs=3e5,this.apiClient=new Ut(G,`${P?"https://":"http://"}${me}:${Se}`,z)}addGroupUsers(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.addGroupUsers(G.token,me,Se).then(P=>void 0!==P)})}addFriends(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.addFriends(G.token,me,Se).then(P=>void 0!==P)})}authenticateApple(G,me,Se){return y(this,arguments,function*(P,z,F,oe={},ae={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:P,vars:oe},z,F,ae).then(ye=>new lt(ye.token||"",ye.refresh_token||"",ye.created||!1))})}authenticateCustom(G,me,Se,P={},z={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:G,vars:P},me,Se,z).then(oe=>new lt(oe.token||"",oe.refresh_token||"",oe.created||!1))}authenticateDevice(G,me,Se,P){return this.apiClient.authenticateDevice(this.serverkey,"",{id:G,vars:P},me,Se).then(F=>new lt(F.token||"",F.refresh_token||"",F.created||!1))}authenticateEmail(G,me,Se,P,z){return this.apiClient.authenticateEmail(this.serverkey,"",{email:G,password:me,vars:z},Se,P).then(oe=>new lt(oe.token||"",oe.refresh_token||"",oe.created||!1))}authenticateFacebookInstantGame(G,me,Se,P,z={}){const F={signed_player_info:G,vars:P};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:F.signed_player_info,vars:F.vars},me,Se,z).then(oe=>new lt(oe.token||"",oe.refresh_token||"",oe.created||!1))}authenticateFacebook(G,me,Se,P,z,F={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:G,vars:z},me,Se,P,F).then(ae=>new lt(ae.token||"",ae.refresh_token||"",ae.created||!1))}authenticateGoogle(G,me,Se,P){return y(this,arguments,function*(z,F,oe,ae,ee={}){const ye={token:z,vars:ae},Ue=yield this.apiClient.authenticateGoogle(this.serverkey,"",ye,F,oe,ee);return new lt(Ue.token||"",Ue.refresh_token||"",Ue.created||!1)})}authenticateGameCenter(G,me,Se,P,z,F,oe,ae,ee){return y(this,arguments,function*(ye,Ue,ct,It,Zt,yn,En,Rn,Wn,mr={}){const yr={bundle_id:ye,player_id:Ue,public_key_url:ct,salt:It,signature:Zt,timestamp_seconds:yn,vars:Wn},st=yield this.apiClient.authenticateGameCenter(this.serverkey,"",yr,Rn,En,mr);return new lt(st.token||"",st.refresh_token||"",st.created||!1)})}authenticateSteam(G,me,Se,P,z){return y(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:G,vars:z,sync:P},me,Se).then(oe=>new lt(oe.token||"",oe.refresh_token||"",oe.created||!1))})}banGroupUsers(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.banGroupUsers(G.token,me,Se).then(P=>void 0!==P)})}blockFriends(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.blockFriends(G.token,me,Se).then(P=>Promise.resolve(null!=P))})}createGroup(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.createGroup(G.token,me).then(Se=>Promise.resolve({avatar_url:Se.avatar_url,create_time:Se.create_time,creator_id:Se.creator_id,description:Se.description,edge_count:Se.edge_count?Number(Se.edge_count):0,id:Se.id,lang_tag:Se.lang_tag,max_count:Se.max_count?Number(Se.max_count):0,metadata:Se.metadata?JSON.parse(Se.metadata):void 0,name:Se.name,open:Se.open,update_time:Se.update_time}))})}createSocket(G=!1,me=!1,Se=new Ze,P=Dt.DefaultSendTimeoutMs){return new Dt(this.host,this.port,G,me,Se,P)}deleteFriends(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.deleteFriends(G.token,me,Se).then(P=>void 0!==P)})}deleteGroup(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.deleteGroup(G.token,me).then(Se=>void 0!==Se)})}deleteNotifications(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.deleteNotifications(G.token,me).then(Se=>Promise.resolve(null!=Se))})}deleteStorageObjects(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.deleteStorageObjects(G.token,me).then(Se=>Promise.resolve(null!=Se))})}demoteGroupUsers(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.demoteGroupUsers(G.token,me,Se).then(P=>Promise.resolve(null!=P))})}emitEvent(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.event(G.token,me).then(Se=>Promise.resolve(null!=Se))})}getAccount(G){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.getAccount(G.token)})}importFacebookFriends(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.importFacebookFriends(G.token,me).then(Se=>void 0!==Se)})}importSteamFriends(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.importSteamFriends(G.token,me,Se).then(P=>void 0!==P)})}getUsers(G,me,Se,P){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.getUsers(G.token,me,Se,P).then(z=>{var F={users:[]};return null==z.users||z.users.forEach(oe=>{F.users.push({avatar_url:oe.avatar_url,create_time:oe.create_time,display_name:oe.display_name,edge_count:oe.edge_count?Number(oe.edge_count):0,facebook_id:oe.facebook_id,gamecenter_id:oe.gamecenter_id,google_id:oe.google_id,id:oe.id,lang_tag:oe.lang_tag,location:oe.location,online:oe.online,steam_id:oe.steam_id,timezone:oe.timezone,update_time:oe.update_time,username:oe.username,metadata:oe.metadata?JSON.parse(oe.metadata):void 0})}),Promise.resolve(F)})})}joinGroup(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.joinGroup(G.token,me,{}).then(Se=>void 0!==Se)})}joinTournament(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.joinTournament(G.token,me,{}).then(Se=>void 0!==Se)})}kickGroupUsers(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.kickGroupUsers(G.token,me,Se).then(P=>Promise.resolve(null!=P))})}leaveGroup(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.leaveGroup(G.token,me,{}).then(Se=>void 0!==Se)})}listChannelMessages(G,me,Se,P,z){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listChannelMessages(G.token,me,Se,P,z).then(F=>{var oe={messages:[],next_cursor:F.next_cursor,prev_cursor:F.prev_cursor,cacheable_cursor:F.cacheable_cursor};return null==F.messages||F.messages.forEach(ae=>{oe.messages.push({channel_id:ae.channel_id,code:ae.code?Number(ae.code):0,create_time:ae.create_time,message_id:ae.message_id,persistent:ae.persistent,sender_id:ae.sender_id,update_time:ae.update_time,username:ae.username,content:ae.content?JSON.parse(ae.content):void 0,group_id:ae.group_id,room_name:ae.room_name,user_id_one:ae.user_id_one,user_id_two:ae.user_id_two})}),Promise.resolve(oe)})})}listGroupUsers(G,me,Se,P,z){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listGroupUsers(G.token,me,P,Se,z).then(F=>{var oe={group_users:[],cursor:F.cursor};return null==F.group_users||F.group_users.forEach(ae=>{oe.group_users.push({user:{avatar_url:ae.user.avatar_url,create_time:ae.user.create_time,display_name:ae.user.display_name,edge_count:ae.user.edge_count?Number(ae.user.edge_count):0,facebook_id:ae.user.facebook_id,gamecenter_id:ae.user.gamecenter_id,google_id:ae.user.google_id,id:ae.user.id,lang_tag:ae.user.lang_tag,location:ae.user.location,online:ae.user.online,steam_id:ae.user.steam_id,timezone:ae.user.timezone,update_time:ae.user.update_time,username:ae.user.username,metadata:ae.user.metadata?JSON.parse(ae.user.metadata):void 0},state:ae.state?Number(ae.state):0})}),Promise.resolve(oe)})})}listUserGroups(G,me,Se,P,z){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listUserGroups(G.token,me,Se,P,z).then(F=>{var oe={user_groups:[],cursor:F.cursor};return null==F.user_groups||F.user_groups.forEach(ae=>{oe.user_groups.push({group:{avatar_url:ae.group.avatar_url,create_time:ae.group.create_time,creator_id:ae.group.creator_id,description:ae.group.description,edge_count:ae.group.edge_count?Number(ae.group.edge_count):0,id:ae.group.id,lang_tag:ae.group.lang_tag,max_count:ae.group.max_count,metadata:ae.group.metadata?JSON.parse(ae.group.metadata):void 0,name:ae.group.name,open:ae.group.open,update_time:ae.group.update_time},state:ae.state?Number(ae.state):0})}),Promise.resolve(oe)})})}listGroups(G,me,Se,P){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listGroups(G.token,me,Se,P).then(z=>{var F={groups:[]};return null==z.groups||(F.cursor=z.cursor,z.groups.forEach(oe=>{F.groups.push({avatar_url:oe.avatar_url,create_time:oe.create_time,creator_id:oe.creator_id,description:oe.description,edge_count:oe.edge_count?Number(oe.edge_count):0,id:oe.id,lang_tag:oe.lang_tag,max_count:oe.max_count,metadata:oe.metadata?JSON.parse(oe.metadata):void 0,name:oe.name,open:oe.open,update_time:oe.update_time})})),Promise.resolve(F)})})}linkApple(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkApple(G.token,me).then(Se=>void 0!==Se)})}linkCustom(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkCustom(G.token,me).then(Se=>void 0!==Se)})}linkDevice(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkDevice(G.token,me).then(Se=>void 0!==Se)})}linkEmail(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkEmail(G.token,me).then(Se=>void 0!==Se)})}linkFacebook(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkFacebook(G.token,me).then(Se=>void 0!==Se)})}linkFacebookInstantGame(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkFacebookInstantGame(G.token,me).then(Se=>void 0!==Se)})}linkGoogle(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkGoogle(G.token,me).then(Se=>void 0!==Se)})}linkGameCenter(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkGameCenter(G.token,me).then(Se=>void 0!==Se)})}linkSteam(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkSteam(G.token,me).then(Se=>void 0!==Se)})}listFriends(G,me,Se,P){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listFriends(G.token,Se,me,P).then(z=>{var F={friends:[],cursor:z.cursor};return null==z.friends||z.friends.forEach(oe=>{F.friends.push({user:{avatar_url:oe.user.avatar_url,create_time:oe.user.create_time,display_name:oe.user.display_name,edge_count:oe.user.edge_count?Number(oe.user.edge_count):0,facebook_id:oe.user.facebook_id,gamecenter_id:oe.user.gamecenter_id,google_id:oe.user.google_id,id:oe.user.id,lang_tag:oe.user.lang_tag,location:oe.user.location,online:oe.user.online,steam_id:oe.user.steam_id,timezone:oe.user.timezone,update_time:oe.user.update_time,username:oe.user.username,metadata:oe.user.metadata?JSON.parse(oe.user.metadata):void 0,facebook_instant_game_id:oe.user.facebook_instant_game_id},state:oe.state})}),Promise.resolve(F)})})}listLeaderboardRecords(G,me,Se,P,z,F){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listLeaderboardRecords(G.token,me,Se,P,z,F).then(oe=>{var ae={next_cursor:oe.next_cursor,prev_cursor:oe.prev_cursor,owner_records:[],records:[]};return null!=oe.owner_records&&oe.owner_records.forEach(ee=>{ae.owner_records.push({expiry_time:ee.expiry_time,leaderboard_id:ee.leaderboard_id,metadata:ee.metadata?JSON.parse(ee.metadata):void 0,num_score:ee.num_score?Number(ee.num_score):0,owner_id:ee.owner_id,rank:ee.rank?Number(ee.rank):0,score:ee.score?Number(ee.score):0,subscore:ee.subscore?Number(ee.subscore):0,update_time:ee.update_time,username:ee.username,max_num_score:ee.max_num_score?Number(ee.max_num_score):0})}),null!=oe.records&&oe.records.forEach(ee=>{ae.records.push({expiry_time:ee.expiry_time,leaderboard_id:ee.leaderboard_id,metadata:ee.metadata?JSON.parse(ee.metadata):void 0,num_score:ee.num_score?Number(ee.num_score):0,owner_id:ee.owner_id,rank:ee.rank?Number(ee.rank):0,score:ee.score?Number(ee.score):0,subscore:ee.subscore?Number(ee.subscore):0,update_time:ee.update_time,username:ee.username,max_num_score:ee.max_num_score?Number(ee.max_num_score):0})}),Promise.resolve(ae)})})}listLeaderboardRecordsAroundOwner(G,me,Se,P,z){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listLeaderboardRecordsAroundOwner(G.token,me,Se,P,z).then(F=>{var oe={next_cursor:F.next_cursor,prev_cursor:F.prev_cursor,owner_records:[],records:[]};return null!=F.owner_records&&F.owner_records.forEach(ae=>{oe.owner_records.push({expiry_time:ae.expiry_time,leaderboard_id:ae.leaderboard_id,metadata:ae.metadata?JSON.parse(ae.metadata):void 0,num_score:ae.num_score?Number(ae.num_score):0,owner_id:ae.owner_id,rank:ae.rank?Number(ae.rank):0,score:ae.score?Number(ae.score):0,subscore:ae.subscore?Number(ae.subscore):0,update_time:ae.update_time,username:ae.username,max_num_score:ae.max_num_score?Number(ae.max_num_score):0})}),null!=F.records&&F.records.forEach(ae=>{oe.records.push({expiry_time:ae.expiry_time,leaderboard_id:ae.leaderboard_id,metadata:ae.metadata?JSON.parse(ae.metadata):void 0,num_score:ae.num_score?Number(ae.num_score):0,owner_id:ae.owner_id,rank:ae.rank?Number(ae.rank):0,score:ae.score?Number(ae.score):0,subscore:ae.subscore?Number(ae.subscore):0,update_time:ae.update_time,username:ae.username,max_num_score:ae.max_num_score?Number(ae.max_num_score):0})}),Promise.resolve(oe)})})}listMatches(G,me,Se,P,z,F,oe){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listMatches(G.token,me,Se,P,z,F,oe)})}listNotifications(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listNotifications(G.token,me,Se).then(P=>{var z={cacheable_cursor:P.cacheable_cursor,notifications:[]};return null==P.notifications||P.notifications.forEach(F=>{z.notifications.push({code:F.code?Number(F.code):0,create_time:F.create_time,id:F.id,persistent:F.persistent,sender_id:F.sender_id,subject:F.subject,content:F.content?JSON.parse(F.content):void 0})}),Promise.resolve(z)})})}listStorageObjects(G,me,Se,P,z){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listStorageObjects(G.token,me,Se,P,z).then(F=>{var oe={objects:[],cursor:F.cursor};return null==F.objects||F.objects.forEach(ae=>{oe.objects.push({collection:ae.collection,key:ae.key,permission_read:ae.permission_read?Number(ae.permission_read):0,permission_write:ae.permission_write?Number(ae.permission_write):0,value:ae.value?JSON.parse(ae.value):void 0,version:ae.version,user_id:ae.user_id,create_time:ae.create_time,update_time:ae.update_time})}),Promise.resolve(oe)})})}listTournaments(G,me,Se,P,z,F,oe){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listTournaments(G.token,me,Se,P,z,F,oe).then(ae=>{var ee={cursor:ae.cursor,tournaments:[]};return null!=ae.tournaments&&ae.tournaments.forEach(ye=>{ee.tournaments.push({id:ye.id,title:ye.title,description:ye.description,duration:ye.duration?Number(ye.duration):0,category:ye.category?Number(ye.category):0,sort_order:ye.sort_order?Number(ye.sort_order):0,size:ye.size?Number(ye.size):0,max_size:ye.max_size?Number(ye.max_size):0,max_num_score:ye.max_num_score?Number(ye.max_num_score):0,can_enter:ye.can_enter,end_active:ye.end_active?Number(ye.end_active):0,next_reset:ye.next_reset?Number(ye.next_reset):0,metadata:ye.metadata?JSON.parse(ye.metadata):void 0,create_time:ye.create_time,start_time:ye.start_time,end_time:ye.end_time,start_active:ye.start_active})}),Promise.resolve(ee)})})}listTournamentRecords(G,me,Se,P,z,F){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listTournamentRecords(G.token,me,Se,P,z,F).then(oe=>{var ae={next_cursor:oe.next_cursor,prev_cursor:oe.prev_cursor,owner_records:[],records:[]};return null!=oe.owner_records&&oe.owner_records.forEach(ee=>{ae.owner_records.push({expiry_time:ee.expiry_time,leaderboard_id:ee.leaderboard_id,metadata:ee.metadata?JSON.parse(ee.metadata):void 0,num_score:ee.num_score?Number(ee.num_score):0,owner_id:ee.owner_id,rank:ee.rank?Number(ee.rank):0,score:ee.score?Number(ee.score):0,subscore:ee.subscore?Number(ee.subscore):0,update_time:ee.update_time,username:ee.username,max_num_score:ee.max_num_score?Number(ee.max_num_score):0})}),null!=oe.records&&oe.records.forEach(ee=>{ae.records.push({expiry_time:ee.expiry_time,leaderboard_id:ee.leaderboard_id,metadata:ee.metadata?JSON.parse(ee.metadata):void 0,num_score:ee.num_score?Number(ee.num_score):0,owner_id:ee.owner_id,rank:ee.rank?Number(ee.rank):0,score:ee.score?Number(ee.score):0,subscore:ee.subscore?Number(ee.subscore):0,update_time:ee.update_time,username:ee.username,max_num_score:ee.max_num_score?Number(ee.max_num_score):0})}),Promise.resolve(ae)})})}listTournamentRecordsAroundOwner(G,me,Se,P,z){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listTournamentRecordsAroundOwner(G.token,me,Se,P,z).then(F=>{var oe={next_cursor:F.next_cursor,prev_cursor:F.prev_cursor,owner_records:[],records:[]};return null!=F.owner_records&&F.owner_records.forEach(ae=>{oe.owner_records.push({expiry_time:ae.expiry_time,leaderboard_id:ae.leaderboard_id,metadata:ae.metadata?JSON.parse(ae.metadata):void 0,num_score:ae.num_score?Number(ae.num_score):0,owner_id:ae.owner_id,rank:ae.rank?Number(ae.rank):0,score:ae.score?Number(ae.score):0,subscore:ae.subscore?Number(ae.subscore):0,update_time:ae.update_time,username:ae.username,max_num_score:ae.max_num_score?Number(ae.max_num_score):0})}),null!=F.records&&F.records.forEach(ae=>{oe.records.push({expiry_time:ae.expiry_time,leaderboard_id:ae.leaderboard_id,metadata:ae.metadata?JSON.parse(ae.metadata):void 0,num_score:ae.num_score?Number(ae.num_score):0,owner_id:ae.owner_id,rank:ae.rank?Number(ae.rank):0,score:ae.score?Number(ae.score):0,subscore:ae.subscore?Number(ae.subscore):0,update_time:ae.update_time,username:ae.username,max_num_score:ae.max_num_score?Number(ae.max_num_score):0})}),Promise.resolve(oe)})})}promoteGroupUsers(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.promoteGroupUsers(G.token,me,Se)})}readStorageObjects(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.readStorageObjects(G.token,me).then(Se=>{var P={objects:[]};return null==Se.objects||Se.objects.forEach(z=>{P.objects.push({collection:z.collection,key:z.key,permission_read:z.permission_read?Number(z.permission_read):0,permission_write:z.permission_write?Number(z.permission_write):0,value:z.value?JSON.parse(z.value):void 0,version:z.version,user_id:z.user_id,create_time:z.create_time,update_time:z.update_time})}),Promise.resolve(P)})})}rpc(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.rpcFunc(G.token,me,JSON.stringify(Se)).then(P=>Promise.resolve({id:P.id,payload:P.payload?JSON.parse(P.payload):void 0}))})}rpcHttpKey(G,me,Se){return y(this,null,function*(){return this.apiClient.rpcFunc2("",me,Se&&JSON.stringify(Se)||"",G).then(P=>Promise.resolve({id:P.id,payload:P.payload?JSON.parse(P.payload):void 0})).catch(P=>{throw P})})}sessionLogout(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.sessionLogout(G.token,{refresh_token:Se,token:me}).then(P=>void 0!==P)})}sessionRefresh(G){return y(this,arguments,function*(me,Se={}){if(!me)return console.error("Cannot refresh a null session."),me;me.created&&me.expires_at-me.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),me.created&&me.refresh_expires_at-me.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const P=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:me.refresh_token,vars:Se});return me.update(P.token,P.refresh_token),me})}unlinkApple(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkApple(G.token,me).then(Se=>void 0!==Se)})}unlinkCustom(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkCustom(G.token,me).then(Se=>void 0!==Se)})}unlinkDevice(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkDevice(G.token,me).then(Se=>void 0!==Se)})}unlinkEmail(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkEmail(G.token,me).then(Se=>void 0!==Se)})}unlinkFacebook(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkFacebook(G.token,me).then(Se=>void 0!==Se)})}unlinkFacebookInstantGame(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkFacebookInstantGame(G.token,me).then(Se=>void 0!==Se)})}unlinkGoogle(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkGoogle(G.token,me).then(Se=>void 0!==Se)})}unlinkGameCenter(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkGameCenter(G.token,me).then(Se=>void 0!==Se)})}unlinkSteam(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkSteam(G.token,me).then(Se=>void 0!==Se)})}updateAccount(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.updateAccount(G.token,me).then(Se=>void 0!==Se)})}updateGroup(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.updateGroup(G.token,me,Se).then(P=>void 0!==P)})}validatePurchaseApple(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.validatePurchaseApple(G.token,{receipt:me})})}validatePurchaseGoogle(G,me){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.validatePurchaseGoogle(G.token,{purchase:me})})}validatePurchaseHuawei(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.validatePurchaseHuawei(G.token,{purchase:me,signature:Se})})}writeLeaderboardRecord(G,me,Se){return y(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.writeLeaderboardRecord(G.token,me,{metadata:Se.metadata?JSON.stringify(Se.metadata):void 0,score:Se.score,subscore:Se.subscore}).then(P=>Promise.resolve({expiry_time:P.expiry_time,leaderboard_id:P.leaderboard_id,metadata:P.metadata?JSON.parse(P.metadata):void 0,num_score:P.num_score?Number(P.num_score):0,owner_id:P.owner_id,score:P.score?Number(P.score):0,subscore:P.subscore?Number(P.subscore):0,update_time:P.update_time,username:P.username,max_num_score:P.max_num_score?Number(P.max_num_score):0,rank:P.rank?Number(P.rank):0}))})}writeStorageObjects(G,me){return y(this,null,function*(){this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G));var Se={objects:[]};return me.forEach(P=>{Se.objects.push({collection:P.collection,key:P.key,permission_read:P.permission_read,permission_write:P.permission_write,value:JSON.stringify(P.value),version:P.version})}),this.apiClient.writeStorageObjects(G.token,Se)})}writeTournamentRecord(G,me,Se){return y(this,null,function*(){return this.apiClient.writeTournamentRecord(G.token,me,{metadata:Se.metadata?JSON.stringify(Se.metadata):void 0,score:Se.score,subscore:Se.subscore}).then(P=>Promise.resolve({expiry_time:P.expiry_time,leaderboard_id:P.leaderboard_id,metadata:P.metadata?JSON.parse(P.metadata):void 0,num_score:P.num_score?Number(P.num_score):0,owner_id:P.owner_id,score:P.score?Number(P.score):0,subscore:P.subscore?Number(P.subscore):0,update_time:P.update_time,username:P.username,max_num_score:P.max_num_score?Number(P.max_num_score):0,rank:P.rank?Number(P.rank):0}))})}},it=he(5193),ze=he(9352),ut=he(4708),xt=he(6756),en=he(3428),We=he(5020),bt=he(6124),Lt=he(9404),Ft=he(1052),Vt=he(4496),cn=he(3824),gn=he(4180),xn=he(4668),Sn=he(6819),Cn=he(5624),Zn=he(9240),tr=he(4500),ar=he(1028),Pn=function(G){return G[G.MANAGE_TODO=10]="MANAGE_TODO",G[G.EDIT_PROFILE=11]="EDIT_PROFILE",G[G.ADD_CHANNEL=14]="ADD_CHANNEL",G[G.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",G[G.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",G[G.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",G[G.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",G[G.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",G[G.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",G}(Pn||{});let Hn=(()=>{var G;class me{constructor(P,z,F,oe,ae,ee,ye,Ue,ct,It,Zt,yn,En){this.p5toast=P,this.statusBar=z,this.indexed=F,this.noti=oe,this.modalCtrl=ae,this.alertCtrl=ee,this.lang=ye,this.global=Ue,this.bgmode=ct,this.navCtrl=It,this.ngZone=Zt,this.loadingCtrl=yn,this.nav=En,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.isBannerShowing=!1,this.TogglingSession=!1,this.isRewardAdsUsed=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.RemoteTodoCounter={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.after_rearrange_group={},this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.OnTransfer={},this.OnTransferMessage={}}initialize(){var P=this;return(0,v.c)(function*(){P.noti.GetNotificationIds(Ue=>{P.registered_id=Ue}),yield P.set_all_todo_notification();let z=yield P.indexed.loadTextFromUserPath("servers/self/profile.json");z&&(P.users.self=JSON.parse(z));try{let Ue=(yield P.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Ue&&(P.users.self.img=Ue)}catch{}let F=yield P.indexed.loadTextFromUserPath("servers/list_detail.csv");if(F)F.split("\n").forEach(ct=>{let It=ct.split(","),Zt={isOfficial:It[1],name:It[2],target:It[3],address:It[4],port:+It[5],useSSL:"true"==It[6]};P.servers[Zt.isOfficial][Zt.target]={},P.servers[Zt.isOfficial][Zt.target].info=Zt,P.init_server(Zt)});else{let Ue=location.href.split("?").length>1;(P.users.self.online||Ue)&&P.toggle_all_session()}P.catch_group_server_header("offline");let oe=yield P.indexed.loadTextFromUserPath("servers/groups.json");oe&&(P.groups=JSON.parse(oe)),P.rearrange_group_list().forEach(function(){var Ue=(0,v.c)(function*(ct){if("missing"!=ct.status){let It=yield P.indexed.loadTextFromUserPath(`servers/${ct.server.isOfficial}/${ct.server.target}/groups/${ct.id}.img`);It&&(ct.img=It.replace(/"|=|\\/g,"")),delete ct.status;let Zt=ct.server.isOfficial,yn=ct.server.target;if(ct.users)for(let En=0,Rn=ct.users.length;En<Rn;En++)ct.users[En].is_me||(ct.users[En].user=P.load_other_user(ct.users[En].user.id,Zt,yn))}});return function(ct){return Ue.apply(this,arguments)}}()),yield P.load_channel_list();let ee=yield P.indexed.loadTextFromUserPath("servers/list.json");ee&&(P.statusBar.groupServer=JSON.parse(ee)),Object.keys(P.statusBar.groupServer).forEach(Ue=>{P.servers[Ue]?Object.keys(P.statusBar.groupServer[Ue]).forEach(It=>{P.servers[Ue][It]||delete P.statusBar.groupServer[Ue][It]}):delete P.statusBar.groupServer[Ue]}),P.users.self.online&&P.init_all_sessions()})()}set_all_todo_notification(){var P=this;return(0,v.c)(function*(){P.indexed.GetFileListFromDB("info.todo",z=>{z.forEach(F=>{P.indexed.loadTextFromUserPath(F,(oe,ae)=>{if(oe&&ae){let ee=JSON.parse(ae);P.set_todo_notification(ee)}})})})})()}getGodotDBRecursive(){var P=this;return(0,v.c)(function*(){try{if(void 0===P.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(F=>{setTimeout(()=>{F(void 0)},100)}),yield P.getGodotDBRecursive()}})()}open_add_todo_page(P=""){this.AddTodoLinkAct?this.AddTodoLinkAct(P):this.ngZone.run(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:ut.MZ,state:{data:P}})})}set_todo_notification(P){let z=P.startFrom||P.limit;if("DesktopPWA"==it.s1||"MobilePWA"==it.s1){let F=new Date(z).getTime()-(new Date).getTime();if(F>0){let oe=setTimeout(()=>{this.noti.PushLocal({id:P.noti_id,title:P.title,body:P.description},void 0,ae=>{this.open_add_todo_page(JSON.stringify(P))})},F);this.web_noti_id[P.noti_id]=oe}}else{let F=new Date(z).getTime(),oe=!0;for(let ae=0,ee=this.registered_id.length;ae<ee;ae++)if(this.registered_id[ae]==P.id){this.registered_id.splice(ae,1),oe=!1;break}if(!P.done&&oe&&F>(new Date).getTime()){let ae="58a192";switch(P.importance){case"1":ae="ddbb41";break;case"2":ae="ff754e"}P.custom_color&&(ae=P.custom_color),this.noti.PushLocal({id:P.noti_id,title:P.title,body:P.description,smallIcon_ln:"todo",iconColor_ln:ae,group_ln:"todo",triggerWhen_ln:{at:new Date(z)},extra_ln:{page:{component:"AddTodoMenuPage",componentProps:{data:JSON.stringify(P)}}}})}}}init_server(P){this.servers[P.isOfficial][P.target]||(this.servers[P.isOfficial][P.target]={}),this.servers[P.isOfficial][P.target].client=new Et(P.key||"defaultkey",P.address,(P.port||7350).toString(),P.useSSL||!1)}resumeBanner(){var P=this;return(0,v.c)(function*(){P.isBannerShowing&&void 0!==(yield en.i8.resumeBanner().catch(oe=>console.log(oe)))&&(document.querySelector("ion-router-outlet").style.marginBottom=P.appMargin+"px")})()}removeBanner(){var P=this;return(0,v.c)(function*(){P.isBannerShowing&&void 0!==(yield en.i8.hideBanner().catch(oe=>console.log(oe)))&&(document.querySelector("ion-router-outlet").style.marginBottom="0px")})()}go_to_chatroom_without_admob_act(P,z){this.has_new_channel_msg=!1,this.rearrange_channels(),this.save_channels_with_less_info(),this.ChatroomLinkAct?this.ChatroomLinkAct(P,z):this.ngZone.run(()=>{this.navCtrl.navigateForward("chat-room",{animation:ut.MZ,state:{info:P,file:z}})})}init_all_sessions(){var P=this;return(0,v.c)(function*(){let z=Object.keys(P.servers.official);for(let oe=0,ae=z.length;oe<ae;oe++)yield P.init_session(P.servers.official[z[oe]].info);let F=Object.keys(P.servers.unofficial);for(let oe=0,ae=F.length;oe<ae;oe++)yield P.init_session(P.servers.unofficial[F[oe]].info);return z.length+F.length})()}logout_all_server(){let P=Object.keys(this.statusBar.groupServer);for(let z=0,F=P.length;z<F;z++){let oe=Object.keys(this.statusBar.groupServer[P[z]]);for(let ae=0,ee=oe.length;ae<ee;ae++)"online"==this.statusBar.groupServer[P[z]][oe[ae]]&&(this.servers[P[z]][oe[ae]].socket?this.servers[P[z]][oe[ae]].socket.disconnect(!0):this.link_group(P[z],oe[ae],!1))}}toggle_all_session(){var P=this;return(0,v.c)(function*(){if(!P.TogglingSession)if(P.TogglingSession=!0,yield P.WatchAdsAndGetDevServerInfo())P.TogglingSession=!1;else{if("online"==P.statusBar.settings.groupServer)P.logout_all_server(),P.p5toast.show({text:P.lang.text.Nakama.SessionLogout});else{P.p5toast.show({text:P.lang.text.Nakama.PendingLogin});try{(yield P.init_all_sessions())||(P.p5toast.show({text:P.lang.text.Subscribes.Disconnected}),P.nav.navigateForward("portal/settings/group-server"),P.removeBanner())}catch{}}P.TogglingSession=!1}})()}WatchAdsAndGetDevServerInfo(P=!1){var z=this;return(0,v.c)(function*(){let F=z.get_all_server_info(!0);if(!z.isRewardAdsUsed&&!F.length||P){const oe={adId:"ca-app-pub-6577630868247944/4325703911"};try{if(!(yield fetch(`${it.uM}pjcone_ads/admob.txt`)).ok)throw"\uc900\ube44\ub41c \uad11\uace0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4";yield en.i8.prepareRewardVideoAd(oe),yield en.i8.showRewardVideoAd(),z.bgmode.disable(),en.i8.addListener(en.iK.Dismissed,()=>{z.bgmode.enable()}),en.i8.addListener(en.iK.Rewarded,function(){var ee=(0,v.c)(function*(ye){0!=ye.amount&&(yield z.AccessToOfficialTestServer())});return function(ye){return ee.apply(this,arguments)}}())}catch(ae){console.log(ae),yield z.AccessToOfficialTestServer()}return!0}return!1})()}AccessToOfficialTestServer(){var P=this;return(0,v.c)(function*(){let F=(yield(yield fetch(`${it.uM}assets/data/WSAddress.txt`)).text()).split("\n")[0];yield P.add_group_server({isOfficial:"official",address:F,name:P.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0}),P.isRewardAdsUsed=!0;let oe=Object.keys(P.servers.official);for(let ae=0,ee=oe.length;ae<ee;ae++)yield P.init_session(P.servers.official[oe[ae]].info);"online"==P.statusBar.settings.groupServer&&P.p5toast.show({text:P.lang.text.Nakama.AccessTestServer})})()}link_group(P,z,F="offline"==this.statusBar.groupServer[P][z]){var oe=this;return(0,v.c)(function*(){if(F)oe.statusBar.groupServer[P][z]="pending",oe.catch_group_server_header("pending"),oe.users.self.online&&(yield oe.init_session(oe.servers[P][z].info));else{if(oe.channels_orig[P]&&oe.channels_orig[P][z]&&(Object.keys(oe.channels_orig[P][z]).forEach(ee=>{"missing"!=oe.channels_orig[P][z][ee].status&&delete oe.channels_orig[P][z][ee].status}),oe.rearrange_channels()),oe.groups[P]&&oe.groups[P][z]&&Object.keys(oe.groups[P][z]).forEach(ee=>{oe.groups[P][z][ee].status="offline"}),oe.set_group_statusBar("offline",P,z),oe.statusBar.groupServer[P][z]="offline",oe.catch_group_server_header("offline"),oe.servers[P][z].session){try{yield oe.servers[P][z].client.sessionLogout(oe.servers[P][z].session,oe.servers[P][z].session.token,oe.servers[P][z].session.refresh_token)}catch{}oe.noti_origin[P]&&oe.noti_origin[P][z]&&delete oe.noti_origin[P][z],oe.rearrange_notifications()}oe.channels_orig[P]&&oe.channels_orig[P][z]&&Object.keys(oe.channels_orig[P][z]).forEach(ee=>{"missing"!=oe.channels_orig[P][z][ee].status&&delete oe.channels_orig[P][z][ee].status})}oe.indexed.saveTextFileToUserPath(JSON.stringify(oe.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let P=[];return Object.keys(this.servers.official).forEach(oe=>{"online"==this.statusBar.groupServer.official[oe]&&P.push(this.servers.official[oe])}),Object.keys(this.servers.unofficial).forEach(oe=>{"online"==this.statusBar.groupServer.unofficial[oe]&&P.push(this.servers.unofficial[oe])}),P}get_all_server_info(P=!1,z=!1){let F=[],oe=Object.keys(this.servers.official);return P&&oe.forEach(ee=>{z?("online"==this.statusBar.groupServer.official[ee]||"pending"==this.statusBar.groupServer.official[ee])&&F.push(this.servers.official[ee].info):this.servers.official[ee]&&F.push(this.servers.official[ee].info)}),Object.keys(this.servers.unofficial).forEach(ee=>{z?("online"==this.statusBar.groupServer.unofficial[ee]||"pending"==this.statusBar.groupServer.unofficial[ee])&&F.push(this.servers.unofficial[ee].info):this.servers.unofficial[ee]&&F.push(this.servers.unofficial[ee].info)}),F}add_group_server(P,z=(()=>{})){var F=this;if(this.statusBar.groupServer.unofficial[P.target||P.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${P.target||P.name}`});P.target=P.target||P.name,P.address=P.address||"192.168.0.1",P.port=P.port||7350,P.useSSL=P.useSSL||!1,P.isOfficial=P.isOfficial||"unofficial",P.key=P.key||"defaultkey",this.groups[P.isOfficial]||(this.groups[P.isOfficial]={}),this.groups[P.isOfficial][P.target]||(this.groups[P.isOfficial][P.target]={}),this.channels_orig[P.isOfficial]||(this.channels_orig[P.isOfficial]={}),this.channels_orig[P.isOfficial][P.target]||(this.channels_orig[P.isOfficial][P.target]={});let oe=(new Date).getTime().toString();return oe+=`,${P.isOfficial}`,oe+=`,${P.name}`,oe+=`,${P.target}`,oe+=`,${P.address}`,oe+=`,${P.port}`,oe+=`,${P.useSSL}`,new Promise(function(){var ae=(0,v.c)(function*(ee){{let ye={urls:[`stun:${P.address}:3478`,`turn:${P.address}:3478`],username:"username",credential:"password"};yield F.SaveWebRTCServer(ye)}"official"!=P.isOfficial?F.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var ye=(0,v.c)(function*(Ue,ct){let It=[];Ue&&ct&&(It=ct.split("\n")),It.push(oe),F.indexed.saveTextFileToUserPath(It.join("\n"),"servers/list_detail.csv",Zt=>{F.init_server(P),F.servers[P.isOfficial][P.target].info={...P},z()}),F.statusBar.groupServer[P.isOfficial][P.target]="offline",yield F.indexed.saveTextFileToUserPath(JSON.stringify(F.statusBar.groupServer),"servers/list.json"),ee()});return function(Ue,ct){return ye.apply(this,arguments)}}()):(F.init_server(P),F.servers[P.isOfficial][P.target].info={...P},F.statusBar.groupServer[P.isOfficial][P.target]="offline",ee())});return function(ee){return ae.apply(this,arguments)}}())}SaveWebRTCServer(P){var z=this;return(0,v.c)(function*(){let F=(yield z.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",oe=JSON.parse(F),ae=!1;for(let ye=0,Ue=Object.keys(oe).length;ye<Ue;ye++)if(z.catch_address_from_rtc_server_address(P)==z.catch_address_from_rtc_server_address(oe[ye])){ae=!0;break}ae||oe.push(P),yield z.indexed.saveTextFileToUserPath(JSON.stringify(oe),"servers/webrtc_server.json")})()}RemoveWebRTCServer(P){var z=this;return(0,v.c)(function*(){let F=(yield z.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",oe=JSON.parse(F);for(let ee=0,ye=Object.keys(oe).length;ee<ye;ee++){let Ue=z.catch_address_from_rtc_server_address(oe[ee]);P==Ue&&oe.splice(ee,1)}yield z.indexed.saveTextFileToUserPath(JSON.stringify(oe),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(P){let z;try{let F=P.urls[0];(F.indexOf("stun:")>=0||F.indexOf("turn:")>=0)&&(F=F.substring(5));let oe=F.lastIndexOf(":");z=F.substring(0,oe)}catch(F){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",F)}return z}catch_group_server_header(P){let z=P;this.statusBar.settings.groupServer=P,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(oe=>{switch(this.statusBar.groupServer.official[oe]){case"online":z="online";break;case"pending":"online"!=z&&(z="pending");break;case"missing":case"offline":"online"!=z&&"pending"!=z&&(z="offline")}}),"online"!=z&&Object.keys(this.statusBar.groupServer.unofficial).forEach(ae=>{switch(this.statusBar.groupServer.unofficial[ae]){case"online":z="online";break;case"pending":"online"!=z&&(z="pending");break;case"missing":case"offline":"online"!=z&&"pending"!=z&&(z="offline")}}),this.statusBar.settings.groupServer=z},1500)}init_session(P){var z=this;return(0,v.c)(function*(){z.TogglingSession=!0;try{z.servers[P.isOfficial][P.target].session=yield z.servers[P.isOfficial][P.target].client.authenticateEmail(z.users.self.email,z.users.self.password,!1),yield z.after_login(P.isOfficial,P.target,P.useSSL)}catch(F){switch(F.status){case 400:z.p5toast.show({text:z.lang.text.Nakama.NeedLoginInfo}),z.nav.navigateForward("portal/settings/group-server"),z.removeBanner(),z.users.self.online=!1,delete z.users.self.password,z.set_group_statusBar("offline",P.isOfficial,P.target);break;case 401:z.p5toast.show({text:z.lang.text.Nakama.NeedAccountReset}),z.users.self.online=!1,delete z.users.self.password,z.set_group_statusBar("offline",P.isOfficial,P.target);break;case 404:if(z.servers[P.isOfficial][P.target].session=yield z.servers[P.isOfficial][P.target].client.authenticateEmail(z.users.self.email,z.users.self.password,!0),z.users.self.display_name&&z.servers[P.isOfficial][P.target].client.updateAccount(z.servers[P.isOfficial][P.target].session,{display_name:z.users.self.display_name,lang_tag:navigator.language.split("-")[0]||z.lang.lang}),z.p5toast.show({text:`${z.lang.text.Nakama.RegisterUserSucc}: ${P.name}`,lateable:!0}),z.users.self.img)try{let ae=yield z.servers[P.isOfficial][P.target].client.writeStorageObjects(z.servers[P.isOfficial][P.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:z.users.self.img}}]);z.servers[P.isOfficial][P.target].client.updateAccount(z.servers[P.isOfficial][P.target].session,{avatar_url:ae.acks[0].version})}catch(ae){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",ae)}(yield z.indexed.checkIfFileExist("servers/self/content.pck"))&&z.sync_save_file({path:"servers/self/content.pck"},P.isOfficial,P.target,"user_public","main_content"),yield z.after_login(P.isOfficial,P.target,P.useSSL);break;default:z.p5toast.show({text:`(${P.name}) ${z.lang.text.Nakama.UnexpectedLoginErr}: ${F}`}),z.set_group_statusBar("offline",P.isOfficial,P.target)}}z.TogglingSession=!1})()}after_login(P,z,F){var oe=this;return(0,v.c)(function*(){oe.set_group_statusBar("pending",P,z),oe.servers[P][z].socket=oe.servers[P][z].client.createSocket(F);try{let ee=yield oe.servers[P][z].client.getAccount(oe.servers[P][z].session),ye=JSON.parse(ee.user.metadata);oe.servers[P][z].info.is_admin=ye.is_admin,Object.keys(ee.user).forEach(ct=>{"display_name"==ct?oe.users.self[ct]=ee.user[ct]:oe.users.self.display_name||(oe.users.self[ct]=ee.user[ct])}),oe.save_self_profile()}catch{}if(!oe.users.self.img)try{let ee=yield oe.servers[P][z].client.readStorageObjects(oe.servers[P][z].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:oe.servers[P][z].session.user_id}]});ee.objects.length&&(oe.socket_reactive.profile?oe.socket_reactive.profile(ee.objects[0].value.img):(oe.users.self.img=ee.objects[0].value.img,oe.indexed.saveTextFileToUserPath(JSON.stringify(oe.users.self.img),"servers/self/profile.img")))}catch{}yield oe.load_server_todo(P,z);let ae=yield oe.connect_to(P,z);oe.set_group_statusBar("online",P,z),yield oe.get_group_list_from_server(P,z),yield oe.redirect_channel(P,z),oe.noti_origin[P]||(oe.noti_origin[P]={}),oe.noti_origin[P][z]||(oe.noti_origin[P][z]={}),yield oe.update_notifications(P,z);try{let ee=yield oe.servers[P][z].client.readStorageObjects(oe.servers[P][z].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:oe.servers[P][z].session.user_id}]});try{return oe.self_match[P]||(oe.self_match[P]={}),oe.self_match[P][z]||(oe.self_match[P][z]=void 0),void(oe.self_match[P][z]=yield ae.joinMatch(ee.objects[0].value.match_id))}catch{let Ue=yield ae.createMatch();oe.self_match[P][z]=Ue,oe.servers[P][z].client.writeStorageObjects(oe.servers[P][z].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:Ue.match_id}}])}}catch{}oe.rearrange_channels(),oe.rearrange_group_list();for(let ee=0,ye=oe.AfterLoginAct.length;ee<ye;ee++)try{yield oe.AfterLoginAct[ee]()}catch(Ue){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",Ue)}oe.AfterLoginAct.length=0,oe.AfterLoginActDone=!0})()}load_server_todo(P,z){var F=this;return(0,v.c)(function*(){try{let oe=yield F.servers[P][z].client.readStorageObjects(F.servers[P][z].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:F.servers[P][z].session.user_id}]});if(oe.objects.length){let ae=oe.objects[0].value.data;F.RemoteTodoCounter[P]||(F.RemoteTodoCounter[P]={}),F.RemoteTodoCounter[P][z]=ae;for(let ee=0,ye=ae.length;ee<ye;ee++)try{let Ue=yield F.servers[P][z].client.readStorageObjects(F.servers[P][z].session,{object_ids:[{collection:"server_todo",key:`RemoteTodo_${ae[ee]}`,user_id:F.servers[P][z].session.user_id}]});Ue.objects.length?F.modify_remote_info_as_local(Ue.objects[0].value,P,z):F.removeRemoteTodoCounter(P,z,ae[ee])}catch(Ue){console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Ue)}}}catch(oe){console.log("\uc6d0\uaca9 \ud560 \uc77c\uc758 \uc218 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",oe)}})()}getRemoteTodoCounter(P,z){var F=this;return(0,v.c)(function*(){try{return F.RemoteTodoCounter[P][z].sort(),F.RemoteTodoCounter[P][z][F.RemoteTodoCounter[P][z].length-1]}catch{let ae=yield F.servers[P][z].client.readStorageObjects(F.servers[P][z].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:F.servers[P][z].session.user_id}]}),ee=0;return ae.objects.length?ee=ae.objects[0].value.data.length:(F.RemoteTodoCounter[P]||(F.RemoteTodoCounter[P]={}),F.RemoteTodoCounter[P][z]||(F.RemoteTodoCounter[P][z]=[])),ee}})()}addRemoteTodoCounter(P,z,F){try{this.RemoteTodoCounter[P][z].push(F),this.RemoteTodoCounter[P][z].sort()}catch{this.RemoteTodoCounter[P]||(this.RemoteTodoCounter[P]={}),this.RemoteTodoCounter[P][z]||(this.RemoteTodoCounter[P][z]=[F])}this.updateRemoteCounter(P,z)}removeRemoteTodoCounter(P,z,F){try{let oe=this.RemoteTodoCounter[P][z].indexOf(F);this.RemoteTodoCounter[P][z].splice(oe,1)}catch{this.RemoteTodoCounter[P]||(this.RemoteTodoCounter[P]={}),this.RemoteTodoCounter[P][z]||(this.RemoteTodoCounter[P][z]=[])}this.updateRemoteCounter(P,z)}updateRemoteCounter(P,z){this.servers[P][z].client.writeStorageObjects(this.servers[P][z].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:this.RemoteTodoCounter[P][z]}}])}modify_remote_info_as_local(P,z,F){P.remote.name=this.servers[z][F].info.name,P.remote.isOfficial=z,P.remote.target=F,P.remote.type=`${z}/${F}`,this.set_todo_notification(P),this.global.p5todo&&this.global.p5todo.add_todo&&this.global.p5todo.add_todo(JSON.stringify(P)),this.indexed.saveTextFileToUserPath(JSON.stringify(P),`todo/${P.id}/info.todo`)}load_groups(P,z,F){var oe=this;return(0,v.c)(function*(){let ae=oe.groups[P][z][F].channel_id;try{if("missing"!=oe.groups[P][z][F].status){let ee=yield oe.servers[P][z].client.listGroupUsers(oe.servers[P][z].session,F);if(ee.group_users.length){let ye=!0;for(let Ue=0,ct=ee.group_users.length;Ue<ct;Ue++)if(ee.group_users[Ue].user.id==oe.servers[P][z].session.user_id){switch(ee.group_users[Ue].state){case 0:case 1:case 2:oe.groups[P][z][F].status="online";break;case 3:oe.groups[P][z][F].status="pending";break;default:console.warn("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",ee.group_users[Ue].state),oe.groups[P][z][F].status="missing"}ye=!1,ee.group_users[Ue].is_me=!0;break}ye&&(oe.groups[P][z][F].status="missing",ae&&(oe.channels_orig[P][z][ae].status="missing"),oe.save_channels_with_less_info())}else oe.groups[P][z][F].status="missing",oe.channels_orig[P][z][ae].status="missing",oe.save_channels_with_less_info();ee.group_users.length&&(oe.groups[P][z][F].users=ee.group_users);for(let ye=0,Ue=ee.group_users.length;ye<Ue;ye++)if(ee.group_users[ye].is_me)ee.group_users[ye].user=oe.users.self;else try{let ct=yield oe.servers[P][z].client.readStorageObjects(oe.servers[P][z].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:ee.group_users[ye].user.id}]});ct.objects.length?ee.group_users[ye].user.img=ct.objects[0].value.img:delete ee.group_users[ye].user.img,oe.save_other_user(ee.group_users[ye].user,P,z)}catch(ct){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",ct),oe.save_other_user(ee.group_users[ye].user,P,z)}oe.save_groups_with_less_info()}}catch(ee){console.log("load_groups_error: ",ee)}})()}save_self_profile(){let P={...this.users.self};delete P.img,this.indexed.saveTextFileToUserPath(JSON.stringify(P),"servers/self/profile.json")}rearrange_all_user(){let P=[];return Object.keys(this.users).forEach(F=>{"self"!=F&&Object.keys(this.users[F]).forEach(ae=>{Object.keys(this.users[F][ae]).forEach(ye=>{P.push(this.users[F][ae][ye])})})}),P}load_other_user(P,z,F,oe=(ae=>{})){try{if(this.servers[z][F].session.user_id==P)return this.users.self}catch{}let ae=!1;return this.users[z][F]||(this.users[z][F]={}),this.users[z][F][P]||(this.users[z][F][P]={},this.indexed.loadTextFromUserPath(`servers/${z}/${F}/users/${P}/profile.json`,(ee,ye)=>{if(ee&&ye){let Ue=JSON.parse(ye);Object.keys(Ue).forEach(It=>this.users[z][F][P][It]=Ue[It]),ae||(oe(this.users[z][F][P]),ae=!0)}else try{this.servers[z][F].client.getUsers(this.servers[z][F].session,[P]).then(Ue=>{Ue.users.length?(Object.keys(Ue.users[0]).forEach(It=>this.users[z][F][P][It]=Ue.users[0][It]),ae||(oe(this.users[z][F][P]),ae=!0),this.users[z][F][P].img||(this.users[z][F][P].img=null),this.save_other_user(this.users[z][F][P],z,F)):(this.indexed.removeFileFromUserPath(`${z}/${F}/users/${P}`),this.indexed.removeFileFromUserPath(`${z}/${F}/users/${P}/profile.json`),this.indexed.removeFileFromUserPath(`${z}/${F}/users/${P}/profile.img`))})}catch{}}),this.users[z][F][P].img?this.save_other_user(this.users[z][F][P],z,F):this.indexed.loadTextFromUserPath(`servers/${z}/${F}/users/${P}/profile.img`,(ee,ye)=>{if(ee&&ye)this.users[z][F][P].img=ye.replace(/"|=|\\/g,"");else if(this.users[z][F][P].avatar_url)try{"online"==this.statusBar.groupServer[z][F]&&this.servers[z][F].client.readStorageObjects(this.servers[z][F].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:P}]}).then(Ue=>{Ue.objects.length?this.users[z][F][P].img=Ue.objects[0].value.img:delete this.users[z][F][P].avatar_url,ae||(oe(this.users[z][F][P]),ae=!0),this.save_other_user(this.users[z][F][P],z,F)}).catch(Ue=>{this.users[z][F][P].img&&(delete this.users[z][F][P].img,ae||(oe(this.users[z][F][P]),ae=!0),this.save_other_user(this.users[z][F][P],z,F))})}catch{}})),this.users[z][F][P]}save_other_user(P,z,F){let oe=JSON.parse(JSON.stringify(P));P.id!=this.servers[z][F].session.user_id&&(delete oe.img,delete oe.online,delete oe.todo_checked,delete oe.todo_done,this.users[z][F]||(this.users[z][F]={}),this.users[z][F][P.id]||(this.users[z][F][P.id]={}),Object.keys(P).forEach(ee=>this.users[z][F][P.id][ee]=P[ee]),this.indexed.saveTextFileToUserPath(JSON.stringify(oe),`servers/${z}/${F}/users/${oe.id}/profile.json`),P.img?this.indexed.saveTextFileToUserPath(P.img,`servers/${z}/${F}/users/${P.id}/profile.img`):void 0===P.img&&this.indexed.removeFileFromUserPath(`servers/${z}/${F}/users/${P.id}/profile.img`))}update_notifications(P,z){var F=this;return(0,v.c)(function*(){let oe=yield F.servers[P][z].client.listNotifications(F.servers[P][z].session,1);F.noti_origin[P][z]={};for(let ae=0,ee=oe.notifications.length;ae<ee;ae++)F.act_on_notification(oe.notifications[ae],P,z);F.rearrange_notifications()})()}rearrange_notifications(){let P=[];return Object.keys(this.noti_origin).forEach(F=>{Object.keys(this.noti_origin[F]).forEach(ae=>{Object.keys(this.noti_origin[F][ae]).forEach(ye=>{P.push(this.noti_origin[F][ae][ye])})})}),P.sort((F,oe)=>F.create_time<oe.create_time?1:F.create_time>oe.create_time?-1:0),this.notifications_rearrange=P,P}add_channels(P,z,F){var oe=this;return(0,v.c)(function*(){switch(oe.channels_orig[z][F][P.id]||(oe.channels_orig[z][F][P.id]={}),Object.keys(P).forEach(ee=>oe.channels_orig[z][F][P.id][ee]=P[ee]),oe.channels_orig[z][F][P.id].cnoti_id||(oe.channels_orig[z][F][P.id].cnoti_id=oe.get_noti_id()),oe.channels_orig[z][F][P.id].redirect.type){case 2:let ee=oe.channels_orig[z][F][P.id].redirect.id;oe.channels_orig[z][F][P.id].color=(ee.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let ye=oe.load_other_user(ee,z,F).online?"online":"pending";oe.channels_orig[z][F][P.id].status=ye;break;case 3:try{let Ue=oe.channels_orig[z][F][P.id].redirect.id;oe.channels_orig[z][F][P.id].color=(Ue.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let ct=yield oe.servers[z][F].client.listGroupUsers(oe.servers[z][F].session,Ue);oe.groups[z][F][Ue].users||(oe.groups[z][F][Ue].users=[]),ct.group_users.forEach(It=>{It.user.id!=oe.servers[z][F].session.user_id&&(oe.users[z][F][It.user.id]||oe.save_other_user(It.user,z,F)),It.user.id==oe.servers[z][F].session.user_id?It.user.is_me=!0:oe.users[z][F][It.user.id]||oe.save_other_user(It.user,z,F),It.user=oe.load_other_user(It.user.id,z,F),oe.add_group_user_without_duplicate(It,Ue,z,F)})}catch(Ue){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Ue)}oe.count_channel_online_member(oe.channels_orig[z][F][P.id],z,F);break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",oe.channels_orig[z][F][P.id])}oe.rearrange_channels(),oe.servers[z][F].socket.sendMatchState(oe.self_match[z][F].match_id,Pn.ADD_CHANNEL,encodeURIComponent(""))})()}add_group_user_without_duplicate(P,z,F,oe){let ae=!1;this.groups[F][oe][z].users||(this.groups[F][oe][z].users=[]);for(let ee=0,ye=this.groups[F][oe][z].users.length;ee<ye;ee++)if(this.groups[F][oe][z].users[ee].user.id==P.user.id){ae=!0;break}ae||this.groups[F][oe][z].users.push(P)}load_channel_list(){var P=this;return(0,v.c)(function*(){let z=yield P.indexed.loadTextFromUserPath("servers/channels.json");z&&(P.channels_orig=JSON.parse(z),Object.keys(P.channels_orig).forEach(oe=>{Object.keys(P.channels_orig[oe]).forEach(ee=>{Object.keys(P.channels_orig[oe][ee]).forEach(Ue=>{2==P.channels_orig[oe][ee][Ue].redirect.type&&(P.channels_orig[oe][ee][Ue].info=P.load_other_user(P.channels_orig[oe][ee][Ue].redirect.id,oe,ee)),"missing"!=P.channels_orig[oe][ee][Ue].status&&delete P.channels_orig[oe][ee][Ue].status,0==P.channels_orig[oe][ee][Ue].redirect.type&&(P.channels_orig[oe][ee][Ue].status="online"),P.channels_orig[oe][ee][Ue].is_new&&!P.subscribe_lock&&(P.has_new_channel_msg=!0)})})})),P.rearrange_channels()})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.noti_id}check_If_RegisteredId(P){let z=!1;for(let F=0,oe=this.registered_id.length;F<oe;F++)if(this.registered_id[F]==P){z=!0,this.registered_id.splice(F,1);break}return z?this.check_If_RegisteredId(P+1):P}redirect_channel(P,z){var F=this;return(0,v.c)(function*(){if(F.channels_orig[P][z]){let oe=Object.keys(F.channels_orig[P][z]);for(let ae=0,ee=oe.length;ae<ee;ae++)if("missing"!=F.channels_orig[P][z][oe[ae]].status)try{switch(yield F.servers[P][z].socket.joinChat(F.channels_orig[P][z][oe[ae]].redirect.id,F.channels_orig[P][z][oe[ae]].redirect.type,F.channels_orig[P][z][oe[ae]].redirect.persistence,!1),F.channels_orig[P][z][oe[ae]].cnoti_id||(F.channels_orig[P][z][oe[ae]].cnoti_id=F.get_noti_id()),F.channels_orig[P][z][oe[ae]].color=(F.channels_orig[P][z][oe[ae]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),F.channels_orig[P][z][oe[ae]].redirect.type){case 2:try{let ye=yield F.servers[P][z].client.readStorageObjects(F.servers[P][z].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:F.channels_orig[P][z][oe[ae]].redirect.id}]}),Ue=F.load_other_user(F.channels_orig[P][z][oe[ae]].redirect.id,P,z);Ue.img=ye.objects.length?ye.objects[0].value.img:void 0,F.save_other_user(Ue,P,z)}catch{}case 3:if(!F.channels_orig[P][z][oe[ae]].update){let ye=yield F.servers[P][z].client.listChannelMessages(F.servers[P][z].session,oe[ae],1,!1);ye.messages.length&&F.update_from_channel_msg(ye.messages[0],P,z)}F.count_channel_online_member(F.channels_orig[P][z][oe[ae]],P,z),F.save_channels_with_less_info();break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub9ac\ub2e4\uc774\ub809\uc158 \ud0c0\uc785: ",F.channels_orig[P][z][oe[ae]].redirect.type)}}catch{F.channels_orig[P][z][oe[ae]].status="missing",delete F.channels_orig[P][z][oe[ae]].info,F.save_channels_with_less_info()}F.rearrange_channels()}})()}rearrange_channels(){let P=[];return Object.keys(this.channels_orig).forEach(F=>{Object.keys(this.channels_orig[F]).forEach(ae=>{Object.keys(this.channels_orig[F][ae]).forEach(ye=>{this.channels_orig[F][ae][ye].server={isOfficial:F,target:ae};try{this.channels_orig[F][ae][ye].server.name=this.servers[F][ae].info.name}catch{this.channels_orig[F][ae][ye].server.name=this.lang.text.Nakama.DeletedServer}switch(this.channels_orig[F][ae][ye].redirect.type){case 1:console.warn("\ubc29 \ub300\ud654 \uae30\ub2a5 \uc900\ube44\uc911...");break;case 2:this.channels_orig[F][ae][ye].info=this.load_other_user(this.channels_orig[F][ae][ye].redirect.id,F,ae),this.channels_orig[F][ae][ye].title=this.channels_orig[F][ae][ye].info.display_name;break;case 3:"missing"!=this.channels_orig[F][ae][ye].status&&(this.groups[F][ae]&&this.groups[F][ae][this.channels_orig[F][ae][ye].redirect.id]?(this.channels_orig[F][ae][ye].info=this.groups[F][ae][this.channels_orig[F][ae][ye].redirect.id],this.channels_orig[F][ae][ye].title=this.groups[F][ae][this.channels_orig[F][ae][ye].redirect.id].name):this.channels_orig[F][ae][ye].status="missing");break;case 0:this.channels_orig[F][ae][ye].info||(this.channels_orig[F][ae][ye].info={}),this.channels_orig[F][ae][ye].info.name=this.channels_orig[F][ae][ye].title,this.channels_orig[F][ae][ye].info.img||this.indexed.loadTextFromUserPath(`servers/${F}/${ae}/groups/${ye}.img`,(Ue,ct)=>{Ue&&ct&&(this.channels_orig[F][ae][ye].info.img=ct)});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \ub300\ud654\ud615\uc2dd: ",this.channels_orig[F][ae][ye])}P.push(this.channels_orig[F][ae][ye])})})}),P.sort((F,oe)=>{let ae=new Date(F.last_comment_time||0).getTime(),ee=new Date(oe.last_comment_time||0).getTime();return ae<ee?1:ae>ee?-1:0}),P.sort((F,oe)=>F.is_new?oe.is_new?0:-1:oe.is_new?1:0),this.channels=P,this.save_channels_with_less_info(),P}save_channels_with_less_info(){let P=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(P).forEach(F=>{Object.keys(P[F]).forEach(ae=>{let ee=Object.keys(P[F][ae]);ee.forEach(ye=>{delete P[F][ae][ye].img,delete P[F][ae][ye].group,delete P[F][ae][ye].info,delete P[F][ae][ye].update,delete P[F][ae][ye].presences,delete P[F][ae][ye].cnoti_id,delete P[F][ae][ye].status,delete P[F][ae][ye].color,P[F][ae][ye].is_new||delete P[F][ae][ye].is_new}),ee.length||delete P[F][ae]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(P),"servers/channels.json")}limit_image_size(P,z=(F=>{})){new ze(oe=>{oe.setup=()=>{oe.noCanvas(),oe.loadImage(P,ee=>{ee.resize(window.innerWidth,window.innerWidth*ee.height/ee.width),ee.canvas.toDataURL().length>245e3&&ae(ee),z(ee),oe.remove()},ee=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),oe.remove()})};let ae=ee=>{ee.resize(.95*ee.width,.95*ee.height),ee.canvas.toDataURL().length>245e3&&ae(ee)}})}try_add_group(P){var z=this;return new Promise(function(){var F=(0,v.c)(function*(oe,ae){let ee=z.get_all_online_server();for(let ye=0,Ue=ee.length;ye<Ue;ye++)try{let ct=yield ee[ye].client.joinGroup(ee[ye].session,P.id);if(!ct)return void console.warn("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");ct=yield ee[ye].client.listGroups(ee[ye].session,decodeURIComponent(P.name));for(let It=0,Zt=ct.groups.length;It<Zt;It++)if(ct.groups[It].id==P.id){let yn=ct.groups[It];yn.status=yn.open?"online":"pending",yn.server=z.servers[ee[ye].info.isOfficial][ee[ye].info.target].info;try{let En=yield z.servers[ee[ye].info.isOfficial][ee[ye].info.target].client.listGroupUsers(z.servers[ee[ye].info.isOfficial][ee[ye].info.target].session,ct.groups[It].id);yn.users=En.group_users,En.group_users.forEach(Rn=>{Rn.user.id==z.servers[ee[ye].info.isOfficial][ee[ye].info.target].session.user_id?Rn.is_me=!0:z.save_other_user(Rn.user,ee[ye].info.isOfficial,ee[ye].info.target)})}catch(En){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",En)}try{let En=yield z.servers[ee[ye].info.isOfficial][ee[ye].info.target].client.readStorageObjects(z.servers[ee[ye].info.isOfficial][ee[ye].info.target].session,{object_ids:[{collection:"group_public",key:`group_${ct.groups[It].id}`,user_id:ct.groups[It].creator_id}]});En.objects.length&&(yn.img=En.objects[0].value.img)}catch(En){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",En)}if(z.save_group_info(yn,ee[ye].info.isOfficial,ee[ye].info.target),yield ee[ye].socket.sendMatchState(z.self_match[ee[ye].info.isOfficial][ee[ye].info.target].match_id,Pn.ADD_CHANNEL,encodeURIComponent("")),yn.open){let En=yield z.join_chat_with_modulation(yn.id,3,ee[ye].info.isOfficial,ee[ye].info.target);if(!z.opened_page_info.channel||z.opened_page_info.channel.isOfficial!=ee[ye].info.isOfficial||z.opened_page_info.channel.target!=ee[ye].info.target||z.opened_page_info.channel.id!=En.id)try{let Rn=yield z.servers[ee[ye].info.isOfficial][ee[ye].info.target].client.listChannelMessages(z.servers[ee[ye].info.isOfficial][ee[ye].info.target].session,En.id,1,!1);Rn.messages.length&&z.update_from_channel_msg(Rn.messages[0],ee[ye].info.isOfficial,ee[ye].info.target),z.save_group_info(yn,ee[ye].info.isOfficial,ee[ye].info.target),z.save_groups_with_less_info(),z.go_to_chatroom_without_admob_act(En)}catch(Rn){console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",Rn)}}oe();break}}catch(ct){switch(ct.status){case 400:let It=yield ee[ye].client.listGroups(ee[ye].session,decodeURIComponent(P.name));for(let Zt=0,yn=It.groups.length;Zt<yn;Zt++)if(It.groups[Zt].id==P.id){try{let En=It.groups[Zt],Rn=yield z.servers[ee[Zt].info.isOfficial][ee[Zt].info.target].client.listGroupUsers(z.servers[ee[Zt].info.isOfficial][ee[Zt].info.target].session,It.groups[Zt].id);En.users=Rn.group_users,Rn.group_users.forEach(Wn=>{Wn.user.id==z.servers[ee[Zt].info.isOfficial][ee[Zt].info.target].session.user_id?Wn.is_me=!0:z.save_other_user(Wn.user,ee[Zt].info.isOfficial,ee[Zt].info.target)}),z.save_group_info(En,ee[Zt].info.isOfficial,ee[Zt].info.target)}catch(En){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uc911\ubcf5 \uc815\ubcf4: ",En)}break}break;case 404:break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",ct)}}ae(z.lang.text.Nakama.GroupAllListDone)});return function(oe,ae){return F.apply(this,arguments)}}())}save_group_info(P,z,F){this.groups[z][F]||(this.groups[z][F]={}),this.groups[z][F][P.id]=P,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(P.img,`servers/${z}/${F}/groups/${P.id}.img`),P.owner==this.servers[z][F].session.user_id&&P.img&&this.servers[z][F].client.writeStorageObjects(this.servers[z][F].session,[{collection:"group_public",key:`group_${P.id}`,value:{img:P.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(P=(()=>{})){let z=JSON.parse(JSON.stringify(this.groups));Object.keys(z).forEach(oe=>{Object.keys(z[oe]).forEach(ee=>{let ye=Object.keys(z[oe][ee]);ye.forEach(Ue=>{if(delete z[oe][ee][Ue].server,delete z[oe][ee][Ue].img,z[oe][ee][Ue].users)for(let ct=0,It=z[oe][ee][Ue].users.length;ct<It;ct++)if(z[oe][ee][Ue].users[ct]){delete z[oe][ee][Ue].users[ct].state;try{z[oe][ee][Ue].users[ct].user.id?(z[oe][ee][Ue].users[ct].user={id:z[oe][ee][Ue].users[ct].user.id},this.servers[oe][ee]&&this.servers[oe][ee].session&&z[oe][ee][Ue].users[ct].user.id==this.servers[oe][ee].session.user_id&&(z[oe][ee][Ue].users[ct].is_me=!0)):z[oe][ee][Ue].users[ct].is_me||z[oe][ee][Ue].users.splice(ct,1)}catch{}}}),ye.length||delete z[oe][ee]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(z),"servers/groups.json",()=>{P()})}remove_group_list(P,z,F,oe=!1){var ae=this;return(0,v.c)(function*(){try{let ee=P.creator_id==ae.servers[z][F].session.user_id;if(!ae.servers[z][F]||!ee)throw"not a group creator";(yield ae.servers[z][F].client.deleteGroup(ae.servers[z][F].session,P.id))||console.warn("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),ae.remove_channel_files(z,F,P.channel_id,ee);try{throw yield ae.servers[z][F].client.deleteStorageObjects(ae.servers[z][F].session,{object_ids:[{collection:"group_public",key:`group_${P.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{oe&&(yield ae.indexed.removeFileFromUserPath(`servers/${z}/${F}/groups/${P.id}.img`))}catch(ye){console.log(ye)}}})()}remove_channel_files(P,z,F,oe){try{this.servers[P][z].client.rpc(this.servers[P][z].session,"remove_channel_file",{collection:`file_${F.replace(/[.]/g,"_")}`,is_creator:oe}).catch(ae=>{})}catch{}}get_group_list_from_server(P,z){var F=this;return(0,v.c)(function*(){F.groups[P]||(F.groups[P]={}),F.groups[P][z]||(F.groups[P][z]={});try{(yield F.servers[P][z].client.listUserGroups(F.servers[P][z].session,F.servers[P][z].session.user_id)).user_groups.forEach(function(){var ae=(0,v.c)(function*(ee){if(!F.groups[P][z][ee.group.id]){F.groups[P][z][ee.group.id]={};try{let ye=yield F.servers[P][z].client.readStorageObjects(F.servers[P][z].session,{object_ids:[{collection:"group_public",key:`group_${ee.group.id}`,user_id:ee.group.creator_id}]});ye.objects.length&&(F.groups[P][z][ee.group.id].img=ye.objects[0].value.img,F.indexed.saveTextFileToUserPath(ye.objects[0].value.img,`servers/${P}/${z}/groups/${ee.group.id}.img`))}catch(ye){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ye)}}F.groups[P][z][ee.group.id]={...F.groups[P][z][ee.group.id],...ee.group},F.groups[P][z][ee.group.id].status="online";try{(yield F.servers[P][z].client.listGroupUsers(F.servers[P][z].session,ee.group.id)).group_users.forEach(Ue=>{Ue.user.id==F.servers[P][z].session.user_id?Ue.user.is_me=!0:(Ue.user.img=null,F.save_other_user(Ue.user,P,z)),Ue.user=F.load_other_user(Ue.user.id,P,z),F.add_group_user_without_duplicate(Ue,ee.group.id,P,z)})}catch(ye){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ye)}yield F.join_chat_with_modulation(ee.group.id,3,P,z),F.save_groups_with_less_info()});return function(ee){return ae.apply(this,arguments)}}())}catch(oe){console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",oe)}})()}rearrange_group_list(){let P=[];return Object.keys(this.groups).forEach(oe=>{Object.keys(this.groups[oe]).forEach(ee=>{Object.keys(this.groups[oe][ee]).forEach(Ue=>{try{this.groups[oe][ee][Ue].server=this.servers[oe][ee].info}catch{this.groups[oe][ee][Ue].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:oe,target:ee}}P.push(this.groups[oe][ee][Ue])})})}),Object.keys(this.after_rearrange_group).forEach(oe=>this.after_rearrange_group[oe](P)),P}set_group_statusBar(P,z,F){this.statusBar.groupServer[z][F]&&(this.statusBar.groupServer[z][F]=P),this.catch_group_server_header(P)}count_channel_online_member(P,z,F){var oe=this;return(0,v.c)(function*(){let ae="pending";try{if("offline"==oe.statusBar.groupServer[z][F])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(P.group_id){if(oe.groups[z][F][P.group_id]&&oe.groups[z][F][P.group_id].users){let ee=oe.groups[z][F][P.group_id].users.length;if(1==ee)ae=oe.users.self.online?"online":"offline";else for(let ye=0;ye<ee;ye++){let Ue=oe.groups[z][F][P.group_id].users[ye].user.id||oe.servers[z][F].session.user_id;if(Ue!=oe.servers[z][F].session.user_id&&oe.load_other_user(Ue,z,F).online){ae="online";break}}}}else if(P.user_id_one)if(oe.channels_orig[z][F][P.channel_id||P.id]){let ee=oe.channels_orig[z][F][P.channel_id||P.id].redirect.id,ye=yield oe.servers[z][F].client.getUsers(oe.servers[z][F].session,[ee]);Object.keys(ye.users[0]).forEach(ct=>{oe.users[z][F][ee][ct]=ye.users[0][ct]}),ae=oe.load_other_user(ee,z,F).online?"online":"pending"}else try{let ee=yield oe.join_chat_with_modulation(P.user_id_one!=oe.servers[z][F].session.user_id?P.user_id_one:P.user_id_two,2,z,F);ae=oe.load_other_user(oe.channels_orig[z][F][ee.id].redirect.id,z,F).online?"online":"pending"}catch(ee){console.error(ee)}}catch{ae="offline"==oe.statusBar.groupServer[z][F]?"offline":"missing"}oe.channels_orig[z][F][P.channel_id||P.id]||(oe.channels_orig[z][F][P.channel_id||P.id]={}),"missing"!=oe.channels_orig[z][F][P.channel_id||P.id].status&&(oe.channels_orig[z][F][P.channel_id||P.id].status=ae)})()}remove_server(P,z){var F=this;return(0,v.c)(function*(){let oe=yield F.loadingCtrl.create({message:F.lang.text.TodoDetail.WIP});oe.present(),oe.message=F.lang.text.Nakama.RemovingAccount;try{F.servers[P][z].client.rpc(F.servers[P][z].session,"remove_account_fn",{user_id:F.servers[P][z].session.user_id}).catch(ye=>{})}catch{}if(oe.message=F.lang.text.Nakama.LogoutAccount,"online"==F.statusBar.groupServer[P][z])try{F.servers[P][z].socket.disconnect(!0)}catch{F.link_group(P,z,!1)}oe.message=F.lang.text.Nakama.RemovingNotification;try{delete F.noti_origin[P][z]}catch{}F.rearrange_notifications(),oe.message=F.lang.text.Nakama.MissingChannels;try{let ye=Object.keys(F.channels_orig[P][z]);F.channels_orig.deleted||(F.channels_orig.deleted={}),F.channels_orig.deleted[z]||(F.channels_orig.deleted[z]={}),ye.forEach(Ue=>{F.channels_orig[P][z][Ue].info.status="missing",F.channels_orig[P][z][Ue].status="missing",F.channels_orig.deleted[z][Ue]=JSON.parse(JSON.stringify(F.channels_orig[P][z][Ue]))}),delete F.channels_orig[P][z]}catch{}F.rearrange_channels();let ae=yield F.indexed.GetFileListFromDB(`servers/unofficial/${z}`);for(let ye=0,Ue=ae.length;ye<Ue;ye++){let ct=yield F.indexed.GetFileInfoFromDB(ae[ye]),It=ae[ye].replace("/official/","/deleted/").replace("/unofficial/","/deleted/");yield F.indexed.saveFileToUserPath(ct,It),yield F.indexed.removeFileFromUserPath(ae[ye]),oe.message=`${F.lang.text.Nakama.MissingChannelFiles}: ${ae[ye]}`,("Android"==it.s1||"iOS"==it.s1)&&F.noti.noti.schedule({id:9,title:`${F.lang.text.Nakama.MissingChannelFiles}: ${Ue-ye}`,progressBar:{value:ye,maxValue:Ue},sound:null,smallIcon:"res://icon_mono",color:"b0b0b0"})}oe.message=F.lang.text.Nakama.MissingGroups;try{F.groups.deleted||(F.groups.deleted={}),F.groups.deleted[z]||(F.groups.deleted[z]={}),F.groups.deleted[z]=JSON.parse(JSON.stringify(F.groups[P][z])),Object.keys(F.groups.deleted[z]).forEach(Ue=>{F.groups.deleted[z][Ue].server.name=F.lang.text.Nakama.DeletedServer,F.groups.deleted[z][Ue].server.isOfficial="deleted",F.groups.deleted[z][Ue].status="missing",F.groups.deleted[z][Ue]=JSON.parse(JSON.stringify(F.groups[P][z][Ue]))}),delete F.groups[P][z]}catch{}oe.message=F.lang.text.Nakama.DeletingServerInfo,F.set_group_statusBar("offline",P,z),delete F.statusBar.groupServer[P][z],F.RemoveWebRTCServer(F.servers[P][z].info.address),delete F.servers[P][z],F.save_groups_with_less_info(),F.indexed.saveTextFileToUserPath(JSON.stringify(F.statusBar.groupServer),"servers/list.json");let ee=yield F.indexed.loadTextFromUserPath("servers/list_detail.csv");if(ee){let ye=ee.split("\n");for(let Ue=0,ct=ye.length;Ue<ct;Ue++)if(ye[Ue].split(",")[3]==z){ye.splice(Ue,1);break}F.indexed.saveTextFileToUserPath(ye.join("\n"),"servers/list_detail.csv")}setTimeout(()=>{F.noti.ClearNoti(9)},100),oe.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0).length?(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"})):(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}))}connect_to(P="official",z="default"){var F=this;return(0,v.c)(function*(){yield F.servers[P][z].socket.connect(F.servers[P][z].session,!0);let oe=F.servers[P][z].socket;return Object.keys(F.on_socket_connected).forEach(ee=>F.on_socket_connected[ee]()),oe.onnotification=ee=>{F.act_on_notification(ee,P,z),F.rearrange_notifications()},oe.onchannelpresence=ee=>{if(void 0!==ee.joins)ee.joins.forEach(ye=>{F.servers[P][z].session.user_id!=ye.user_id&&(F.load_other_user(ye.user_id,P,z).online=!0)}),F.count_channel_online_member(ee,P,z);else if(void 0!==ee.leaves){let ye=[];ee.leaves.forEach(Ue=>{F.servers[P][z].session.user_id!=Ue.user_id&&(delete F.load_other_user(Ue.user_id,P,z).online,ye.push(Ue.user_id))}),ye.forEach(Ue=>F.load_other_user(Ue,P,z)),F.count_channel_online_member(ee,P,z)}F.socket_reactive["others-online"]&&F.socket_reactive["others-online"]()},oe.onmatchdata=function(){var ee=(0,v.c)(function*(ye){switch(ye.data_str=decodeURIComponent((new TextDecoder).decode(ye.data)),ye.op_code){case Pn.MANAGE_TODO:{let Ue=ye.data_str.split(",");switch(Ue[0]){case"add":F.servers[P][z].client.readStorageObjects(F.servers[P][z].session,{object_ids:[{collection:Ue[1],key:Ue[2],user_id:F.servers[P][z].session.user_id}]}).then(function(){var Zt=(0,v.c)(function*(yn){if(yn.objects.length){F.modify_remote_info_as_local(yn.objects[0].value,P,z);let En=yn.objects[0].value,Rn=Number(En.id.split("_")[1]),Wn=-1;try{Wn=F.RemoteTodoCounter[P][z].indexOf(Rn)}catch{}-1==Wn&&F.addRemoteTodoCounter(P,z,Rn),F.noti.PushLocal({id:En.noti_id,title:En.title,body:En.description,smallIcon_ln:"todo",iconColor_ln:En.custom_color,group_ln:"todo",extra_ln:{page:{component:"AddTodoMenuPage",componentProps:{data:JSON.stringify(En)}}}},void 0,mr=>{F.open_add_todo_page(JSON.stringify(En))}),F.p5toast.show({text:`${F.lang.text.Main.RequestTodo}: ${En.title}`})}});return function(yn){return Zt.apply(this,arguments)}}());break;case"done":F.indexed.loadTextFromUserPath(`todo/${Ue[1]}/info.todo`,(Zt,yn)=>{if(Zt&&yn){let En=JSON.parse(yn);En.done=!0,F.modify_remote_info_as_local(En,P,z),F.addRemoteTodoCounter(P,z,Number(En.id.split("_")[1])),F.noti.ClearNoti(En.noti_id)}});break;case"delete":F.indexed.loadTextFromUserPath(`todo/${Ue[1]}/info.todo`,(Zt,yn)=>{if(Zt&&yn){let En=JSON.parse(yn);F.indexed.GetFileListFromDB(`todo/${Ue[1]}`,Rn=>{Rn.forEach(Wn=>F.indexed.removeFileFromUserPath(Wn)),En.noti_id&&("DesktopPWA"==it.s1||"MobilePWA"==it.s1)&&(clearTimeout(F.web_noti_id[En.noti_id]),delete F.web_noti_id[En.noti_id]),F.noti.ClearNoti(En.noti_id),F.global.p5todo&&F.global.p5todo.remove_todo&&F.global.p5todo.remove_todo(JSON.stringify(En))}),F.addRemoteTodoCounter(P,z,Number(En.id.split("_")[1]))}});break;case"worker":let ct="true"==Ue[3];F.AddTodoManageUpdateAct&&F.AddTodoManageUpdateAct(Ue[1],Ue[2],ct,Number(Ue[4])),F.p5toast.show({text:`${ct?F.lang.text.Main.WorkerAbandon:F.lang.text.Main.WorkerDone}: ${F.users[P][z][Ue[2]].display_name}`}),F.indexed.loadTextFromUserPath(`todo/${Ue[1]}/info.todo`,(Zt,yn)=>{if(Zt&&yn){let En=JSON.parse(yn);for(let Rn=0,Wn=En.workers.length;Rn<Wn;Rn++)if((En.workers[Rn].user_id||En.workers[Rn].id)==Ue[2]){En.workers[Rn].isDelete="true"==Ue[3],En.workers[Rn].timestamp=Number(Ue[4]);break}F.modify_remote_info_as_local(En,P,z),F.addRemoteTodoCounter(P,z,Number(En.id.split("_")[1]))}});break;default:console.warn("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",ye)}}break;case Pn.EDIT_PROFILE:switch(ye.data_str){case"info":F.servers[P][z].client.getAccount(F.servers[P][z].session).then(Ue=>{Object.keys(Ue.user).forEach(It=>F.users.self[It]=Ue.user[It]),F.save_self_profile()});break;case"image":F.servers[P][z].client.readStorageObjects(F.servers[P][z].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:F.servers[P][z].session.user_id}]}).then(Ue=>{Ue.objects.length?(F.indexed.saveTextFileToUserPath(JSON.stringify(Ue.objects[0].value.img),"servers/self/profile.img"),F.users.self.img=Ue.objects[0].value.img.replace(/"|=|\\/g,"")):F.indexed.removeFileFromUserPath("servers/self/profile.img")});break;case"content":F.socket_reactive.self_profile_content_update&&F.socket_reactive.self_profile_content_update();break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",ye)}break;case Pn.ADD_CHANNEL:F.get_group_list_from_server(P,z);break;case Pn.WEBRTC_INIT_REQ_SIGNAL:F.servers[P][z].session.user_id!=ye.presence.user_id&&F.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&F.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case Pn.WEBRTC_REPLY_INIT_SIGNAL:F.servers[P][z].session.user_id!=ye.presence.user_id&&F.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&F.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(ye.data_str);break;case Pn.WEBRTC_RECEIVE_ANSWER:F.servers[P][z].session.user_id!=ye.presence.user_id&&F.socket_reactive.WEBRTC_RECEIVE_ANSWER&&F.socket_reactive.WEBRTC_RECEIVE_ANSWER(ye.data_str);break;case Pn.WEBRTC_ICE_CANDIDATES:F.servers[P][z].session.user_id!=ye.presence.user_id&&F.socket_reactive.WEBRTC_ICE_CANDIDATES&&F.socket_reactive.WEBRTC_ICE_CANDIDATES(ye.data_str);break;case Pn.WEBRTC_NEGOCIATENEEDED:F.servers[P][z].session.user_id!=ye.presence.user_id&&F.socket_reactive.WEBRTC_NEGOCIATENEEDED&&F.socket_reactive.WEBRTC_NEGOCIATENEEDED(ye.data_str);break;case Pn.WEBRTC_HANGUP:F.servers[P][z].session.user_id!=ye.presence.user_id&&F.WebRTCService&&(yield F.WebRTCService.close_webrtc());break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",ye)}});return function(ye){return ee.apply(this,arguments)}}(),oe.onchannelmessage=ee=>{F.channels_orig[P][z][ee.channel_id]?(F.update_from_channel_msg(ee,P,z),ee.content.match&&ee.sender_id!=F.servers[P][z].session.user_id&&F.JoinWebRTCMatch(ee,P,z,F.channels_orig[P][z][ee.channel_id])):ee.user_id_one?F.join_chat_with_modulation(ee.sender_id,2,P,z):ee.group_id&&F.join_chat_with_modulation(ee.group_id,3,P,z)},oe.ondisconnect=ee=>{F.OnSocketDisconnect(P,z)},oe})()}OnSocketDisconnect(P,z){this.link_group(P,z,!1),Object.keys(this.on_socket_disconnected).forEach(oe=>this.on_socket_disconnected[oe]())}saveListedMessage(P,z,F,oe){let ae={},ee=JSON.parse(JSON.stringify(P));for(;ee.length;){ae.target!=ee[0].msgDate&&(ae.msg&&this.saveMessageByDate(ae,z,F,oe),ae.target=ee[0].msgDate,ae.msg=[]);let ye=ee.shift();delete ye.content.text,delete ye.content.img,delete ye.content.local_comp,delete ye.content.path,delete ye.msgDate,delete ye.msgTime,delete ye.isLastRead,delete ye.showInfo,ae.msg.push(ye)}this.saveMessageByDate(ae,z,F,oe)}saveMessageByDate(P,z,F,oe){if(!P.msg||!P.msg.length)return;let ae=JSON.parse(JSON.stringify(P)),ee=ae.target.split("-");this.indexed.loadTextFromUserPath(`servers/${F}/${oe}/channels/${z.id}/chats/${ee[0]}/${ee[1]}/${ee[2]}`,(ye,Ue)=>{let ct=[],It=[];ye&&Ue&&(ct=JSON.parse(Ue)),ae.msg.forEach(yn=>{let En=!1;for(let Rn=0,Wn=ct.length;Rn<Wn;Rn++)if(ct[Rn].message_id==yn.message_id){En=!0,ct[Rn]=yn;break}En||It.push(yn)});let Zt=[...ct,...It];Zt.sort((yn,En)=>yn.create_time<En.create_time?-1:yn.create_time>En.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(Zt),`servers/${F}/${oe}/channels/${z.id}/chats/${ee[0]}/${ee[1]}/${ee[2]}`)})}ModulateTimeDate(P){let z=new Date(P.create_time);P.msgDate=`${z.getFullYear()}-${("00"+(z.getMonth()+1)).slice(-2)}-${("00"+z.getDate()).slice(-2)}`,P.msgTime=`${("00"+z.getHours()).slice(-2)}:${("00"+z.getMinutes()).slice(-2)}`}join_chat_with_modulation(P,z,F,oe,ae=!1){var ee=this;return(0,v.c)(function*(){ee.channels_orig[F][oe]||(ee.channels_orig[F][oe]={});let ye=yield ee.servers[F][oe].socket.joinChat(P,z,!0,!1);try{switch(ye.redirect={id:P,type:z,persistence:!0},ye.server={isOfficial:F,target:oe},z){case 2:ye.title=ee.load_other_user(P,F,oe).display_name,ye.info=ee.load_other_user(P,F,oe);break;case 3:ye.title=ee.groups[F][oe][P].name,ye.info=ee.groups[F][oe][P],ee.groups[F][oe][P].channel_id=ye.id,ee.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",z)}try{ee.channels_orig[F][oe][ye.id].status="offline"}catch{}if(yield ee.add_channels(ye,F,oe),!ee.opened_page_info.channel||ee.opened_page_info.channel.isOfficial!=F||ee.opened_page_info.channel.target!=oe||ee.opened_page_info.channel.id!=ye.id)try{let Ue=yield ee.servers[F][oe].client.listChannelMessages(ee.servers[F][oe].session,ye.id,1,!1);Ue.messages.length&&ee.update_from_channel_msg(Ue.messages[0],F,oe,ae)}catch(Ue){console.error("\ub9c8\uc9c0\ub9c9 \uba54\uc2dc\uc9c0 \ubc1b\uc544\uc11c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Ue)}return ee.count_channel_online_member(ye,F,oe),ee.save_groups_with_less_info(),ye}catch(Ue){let ct="";throw ct=3===Ue.code?ee.lang.text.Nakama.AddChannelFailed_Code3:Ue.message,ee.p5toast.show({text:`${ee.lang.text.Nakama.AddChannelFailed}: ${ct}`}),`${ee.lang.text.Nakama.AddChannelFailed}: ${ct}`}})()}update_from_channel_msg(P,z,F,oe=!1){var ae=this;return(0,v.c)(function*(){let ee=P.sender_id==ae.servers[z][F].session.user_id,ye=P.message_id!=ae.channels_orig[z][F][P.channel_id].last_comment_id,Ue=ae.modulation_channel_message(P,z,F);if(!ee&&ye){let Zt={id:ae.channels_orig[z][F][P.channel_id].cnoti_id,title:ae.channels_orig[z][F][P.channel_id].info.name||ae.channels_orig[z][F][P.channel_id].info.display_name||ae.channels_orig[z][F][P.channel_id].title||ae.lang.text.Subscribes.noTitiedChat,body:Ue.content.msg||Ue.content.noti||(Ue.content.match?ae.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${ae.lang.text.ChatRoom.attachments})`,extra_ln:{page:{component:"ChatRoomPage",componentProps:{info:{id:P.channel_id,isOfficial:z,target:F,noti_id:ae.channels_orig[z][F][P.channel_id].cnoti_id}}}},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"};Ue.content.url&&0==Ue.content.type.indexOf("image/")&&(Zt.image=Ue.content.url),ae.noti.PushLocal(Zt,ae.channels_orig[z][F][P.channel_id].cnoti_id,yn=>{ae.go_to_chatroom_without_admob_act(ae.channels_orig[z][F][P.channel_id])})}switch(ee&&ae.noti.ClearNoti(ae.channels_orig[z][F][P.channel_id].cnoti_id),Ue.code){case 0:Ue.content.gupdate&&ae.update_group_info(Ue,z,F),Ue.content.user_update&&ae.update_group_user_info(Ue,z,F),ye&&(ae.channels_orig[z][F][P.channel_id].is_new=!ee,ae.subscribe_lock||(ae.has_new_channel_msg=!ee));break;case 1:case 2:break;case 3:case 4:case 5:case 6:if(ae.socket_reactive.group_detail&&ae.socket_reactive.group_detail.update_GroupUsersList(z,F),3==Ue.code||4==Ue.code)break;if(ae.noti_origin[z]&&ae.noti_origin[z][F]){let Zt=Object.keys(ae.noti_origin[z][F]),yn=[];Zt.forEach(En=>{-5==ae.noti_origin[z][F][En].code&&ae.noti_origin[z][F][En].sender_id==Ue.sender_id&&yn.push(En)});try{(yield ae.servers[z][F].client.deleteNotifications(ae.servers[z][F].session,yn))||console.warn("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),ae.update_notifications(z,F)}catch(En){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",En)}}ee&&(ae.channels_orig[z][F][Ue.channel_id].status="missing",delete ae.channels_orig[z][F][Ue.channel_id].info);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Ue)}ae.ModulateTimeDate(Ue),ae.check_sender_and_show_name(Ue,z,F);let ct=P.content.msg;ae.content_to_hyperlink(Ue),ae.channels_orig[z][F][P.channel_id].last_comment_time=P.update_time,ae.channels_orig[z][F][Ue.channel_id].last_comment_id=Ue.message_id,ae.rearrange_channels(),!oe&&ae.channels_orig[z][F][Ue.channel_id].update&&ae.channels_orig[z][F][Ue.channel_id].update(Ue),ae.saveListedMessage([Ue],ae.channels_orig[z][F][Ue.channel_id],z,F),ae.channels_orig[z][F][Ue.channel_id].last_comment=(Ue.content.filename?`(${ae.lang.text.ChatRoom.attachments}) `:"")+(ct||Ue.content.noti||(Ue.content.match?ae.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||""),ae.save_channels_with_less_info()})()}JoinWebRTCMatch(P,z,F,oe){var ae=this;return(0,v.c)(function*(){try{try{ae.WebRTCService.CurrentMatch=yield ae.servers[z][F].socket.joinMatch(P.content.match)}catch(ee){throw ee}ae.WebRTCService&&(yield ae.WebRTCService.initialize("audio",void 0,{isOfficial:z,target:F,channel_id:oe.id,user_id:oe.info.id||oe.info.user_id},!1)),yield ae.servers[z][F].socket.sendMatchState(P.content.match,Pn.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(ee){4===ee.code?ae.p5toast.show({text:ae.lang.text.ChatRoom.MatchExpiration}):(console.log("\ucc38\uc5ec \uc2e4\ud328: ",ee),ae.p5toast.show({text:`${ae.lang.text.ChatRoom.JoinMatchFailed}: ${ee}`}))}})()}content_to_hyperlink(P){if(!P.content.msg||"object"==typeof P.content.msg)return;let z=P.content.msg.split("\n");P.content.msg=[],z.forEach(F=>{let oe={text:F};F&&P.content.msg.push([oe]);try{let ae=oe.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");oe.text.length==ae.length&&(oe.size=48)}catch{}});for(let F=0,oe=P.content.msg.length;F<oe;F++)if(P.content.msg[F][0].text){let ae=P.content.msg[F][0].text.indexOf("http://");if(ae<0&&(ae=P.content.msg[F][0].text.indexOf("https://")),ae>=0){let ye,ee=[];0!=ae&&(ye=P.content.msg[F][0].text.substring(0,ae),ee.push({text:ye}));let It,Zt,Ue=P.content.msg[F][0].text.substring(ae),ct=Ue.indexOf(" ");ct<0?(It=Ue,ee.push({text:It,href:!0})):(It=Ue.substring(0,ct),ee.push({text:It,href:!0}),Zt=Ue.substring(ct),ee.push({text:Zt})),P.content.msg[F]=ee}}}check_sender_and_show_name(P,z,F){try{P.color=(P.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),P.sender_id==this.servers[z][F].session.user_id?(P.user_display_name=this.users.self.display_name,P.is_me=!0):P.user_display_name=this.load_other_user(P.sender_id,z,F).display_name,P.user_display_name=P.user_display_name||this.lang.text.Profile.noname_user}catch(oe){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",oe)}}modulation_channel_message(P,z,F){this.translate_updates(P);let ae,oe=!1;try{oe=P.sender_id==this.servers[z][F].session.user_id}catch{oe=P.content.user_update}try{ae=oe?this.users.self:this.load_other_user(P.sender_id,z,F)}catch{ae=this.users.self}switch(P.code){case 0:if(P.content.filename){try{P.content.transfer_index=this.OnTransfer[z][F][P.channel_id][P.message_id]}catch{}try{this.OnTransferMessage[P.message_id]=P}catch{}}break;case 1:case 2:break;case 3:case 4:P.content.user_update=ae,P.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${ae.display_name}`,setTimeout(()=>{this.count_channel_online_member(P,z,F)},50);break;case 5:P.content.user_update=ae,P.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${ae.display_name}`,setTimeout(()=>{this.count_channel_online_member(P,z,F)},50);break;case 6:P.content.user_update=ae,P.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${ae.display_name}`,setTimeout(()=>{this.count_channel_online_member(P,z,F)},50);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",P)}return P}update_group_info(P,z,F){switch(this.translate_updates(P),P.content.gupdate){case"remove":case"force_remove":this.groups[z][F][P.group_id].status="missing",delete this.groups[z][F][P.group_id].img,this.save_groups_with_less_info(),this.indexed.removeFileFromUserPath(`servers/${z}/${F}/groups/${P.group_id}.img`),this.channels_orig[z][F][P.channel_id].status="missing",this.servers[z][F].socket.leaveChat(P.channel_id);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",P)}}translate_updates(P){if(P.content.user_update)switch(P.content.user_update){case"modify_data":P.content.noti=`${this.lang.text.Profile.user_profile_changed}${P.content.noti_form}`;break;case"modify_content":P.content.noti=`${this.lang.text.Profile.user_content_changed}${P.content.noti_form}`;break;case"remove_content":P.content.noti=`${this.lang.text.Profile.user_content_removed}${P.content.noti_form}`}if(P.content.gupdate)switch(P.content.gupdate){case"remove":P.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":P.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(P,z,F){var oe=this;return(0,v.c)(function*(){switch(oe.translate_updates(P),P.content.user_update){case"modify_data":try{let ae=yield oe.servers[z][F].client.getUsers(oe.servers[z][F].session,[P.sender_id]);ae.users.length?oe.save_other_user(ae.users[0],z,F):(delete oe.users[z][F][P.sender_id],oe.indexed.removeFileFromUserPath(`servers/${z}/${F}/users/${P.sender_id}/profile.json`))}catch(ae){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",ae)}break;case"modify_content":case"remove_content":oe.socket_reactive.other_user_content_update&&oe.socket_reactive.other_user_content_update();break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",P)}})()}check_notifications(P,z,F){var oe=this;return(0,v.c)(function*(){let ae=oe.servers[z][F];switch(P.code){case 0:case-2:break;case 1:case-1:case-3:case-4:case-6:oe.noti.RemoveListener(`check${P.code}`),oe.noti.ClearNoti(P.code);try{(yield ae.client.deleteNotifications(ae.session,[P.id]))||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),oe.update_notifications(z,F)}catch(ee){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ee)}break;case-5:try{let ee=yield ae.client.getUsers(ae.session,[P.sender_id]);if(ee.users.length){let ye="";ye+=`${oe.lang.text.Nakama.ReqContServer}: ${P.server.name}<br>`,ye+=`${oe.lang.text.Nakama.ReqContUserName}: ${ee.users[0].display_name}`,oe.alertCtrl.create({header:oe.lang.text.Nakama.ReqContTitle,message:ye,buttons:[{text:oe.lang.text.Nakama.ReqContAccept,handler:(Ue=(0,v.c)(function*(){try{(yield ae.client.addGroupUsers(ae.session,P.content.group_id,[ee.users[0].id]))||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),oe.noti.RemoveListener(`check${P.code}`),oe.noti.ClearNoti(P.code);try{let It=yield ae.client.deleteNotifications(ae.session,[P.id]);It?oe.update_notifications(z,F):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",It)}catch(It){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",It)}}catch(ct){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",ct)}}),function(){return Ue.apply(this,arguments)})},{text:oe.lang.text.Nakama.ReqContReject,handler:function(){var Ue=(0,v.c)(function*(){try{(yield ae.client.kickGroupUsers(ae.session,P.content.group_id,[ee.users[0].id]))||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),ae.client.deleteNotifications(ae.session,[P.id]),oe.update_notifications(z,F)}catch(ct){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",ct)}});return function(){return Ue.apply(this,arguments)}}(),cssClass:"red_font"}]}).then(Ue=>Ue.present())}else try{(yield ae.client.deleteNotifications(ae.session,[P.id]))||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),oe.p5toast.show({text:oe.lang.text.Nakama.UserNotFound}),oe.update_notifications(z,F)}catch(ye){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ye)}}catch(ee){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",ee)}break;case-7:oe.LoginAgain(oe.noti_origin,z,F);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",P.code)}var Ue})()}act_on_notification(P,z,F){var oe=this;return(0,v.c)(function*(){let ae=!1;switch(P.server=oe.servers[z][F].info,P.code){case 404:oe.remove_server(z,F);break;case 1:try{(yield oe.servers[z][F].client.deleteNotifications(oe.servers[z][F].session,[P.id]))||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),oe.update_notifications(z,F)}catch(It){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",It)}let ee=decodeURIComponent(P.content.msg),ye=decodeURIComponent(P.content.uri);oe.noti.PushLocal({id:P.code,title:oe.servers[z][F].info.name,body:ee,image:ye,extra_ln:{type:"AllUserNotification",title:oe.servers[z][F].info.name,body:ee,image:ye,isOfficial:z,target:F,noti_id:P.id},smallIcon_ln:"diychat",group_ln:"all_user_noti",iconColor_ln:"ff754e"},"global_noti_all",It=>{let yn=`<div>${ee}</div>`;oe.alertCtrl.create({header:oe.servers[z][F].info.name,message:new ut.AF(ye?`<img src="${ye}" alt="noti_image" style="border-radius: 2px">`+yn:yn),buttons:[{text:oe.lang.text.Nakama.LocalNotiOK,handler:()=>{oe.servers[z][F].client.deleteNotifications(oe.servers[z][F].session,[P.id])}}]}).then(Rn=>Rn.present())});break;case 0:P.request=`${P.code}-${P.subject}`;break;case-1:let Ue;P.request=`${P.code}-${P.subject}`,2===(P.content&&P.content.username&&(Ue=2),Ue)?oe.join_chat_with_modulation(P.sender_id,Ue,z,F):(console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",P,Ue),P.request=`${P.code}-${P.subject}`),ae=!0;try{(yield oe.servers[z][F].client.deleteNotifications(oe.servers[z][F].session,[P.id]))||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),oe.update_notifications(z,F)}catch(It){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",It)}break;case-2:case-3:P.request=`${P.code}-${P.subject}`;break;case-4:oe.socket_reactive.group_detail&&oe.socket_reactive.group_detail.info.id==P.content.group_id&&oe.socket_reactive.group_detail.update_from_notification(P),oe.groups[z][F][P.content.group_id].status="online",P.request=`${P.code}-${P.subject}`,oe.noti.RemoveListener(`check${P.code}`),oe.noti.SetListener(`check${P.code}`,It=>{oe.noti.ClearNoti(It.id),oe.noti.RemoveListener(`check${P.code}`),oe.check_notifications(P,z,F)});try{let It=yield oe.servers[z][F].client.readStorageObjects(oe.servers[z][F].session,{object_ids:[{collection:"group_public",key:`group_${P.content.group_id}`,user_id:oe.groups[z][F][P.content.group_id].creator_id}]});It.objects.length&&(oe.groups[z][F][P.content.group_id].img=It.objects[0].value.img,oe.indexed.saveTextFileToUserPath(It.objects[0].value.img,`servers/${z}/${F}/groups/${P.content.group_id}.img`))}catch(It){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",It)}try{let It=yield oe.servers[z][F].client.listGroupUsers(oe.servers[z][F].session,P.content.group_id);It.group_users.length&&It.group_users.forEach(Zt=>{oe.load_other_user(Zt.user.id,z,F)})}catch(It){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",It)}oe.join_chat_with_modulation(P.content.group_id,3,z,F),oe.noti.PushLocal({id:P.code,title:`${oe.groups[z][F][P.content.group_id].name}: ${oe.lang.text.Nakama.LocalNotiTitle}`,body:P.subject,group_ln:"diychat",icon:oe.groups[z][F][P.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,It=>{oe.check_notifications(P,z,F)});break;case-5:let ct=oe.groups[z][F][P.content.group_id];if(ct)P.request=`${oe.lang.text.Nakama.ReqContTitle}: ${ct.name}`;else{ae=!0;try{let It=yield oe.servers[z][F].client.deleteNotifications(oe.servers[z][F].session,[P.id]);It?oe.update_notifications(z,F):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",It)}catch(It){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",It)}}oe.socket_reactive.group_detail&&oe.socket_reactive.group_detail.info.id==P.content.group_id&&oe.socket_reactive.group_detail.update_from_notification(P),oe.noti.RemoveListener(`check${P.code}`),oe.noti.SetListener(`check${P.code}`,It=>{oe.noti.ClearNoti(It.id),oe.noti.RemoveListener(`check${P.code}`),!oe.socket_reactive.group_detail&&oe.modalCtrl.create({component:xt.q,componentProps:{info:oe.groups[z][F][P.content.group_id],server:oe.servers[z][F].info}}).then(Zt=>Zt.present())}),oe.noti.PushLocal({id:P.code,title:`${oe.groups[z][F][P.content.group_id].name}: ${oe.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:oe.groups[z][F][P.content.group_id].img,extra_ln:{page:{component:"NakamaReqContTitle",componentProps:{data:{noti_id:P.id,serverName:oe.servers[z][F].info.name,userName:oe.load_other_user(P.sender_id,z,F).display_name,group_id:P.content.group_id,user_id:P.sender_id,isOfficial:z,Target:F}}}},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,It=>{oe.socket_reactive.group_detail.info.id!=P.content.group_id&&oe.modalCtrl.create({component:xt.q,componentProps:{info:oe.groups[z][F][P.content.group_id]}}).then(Zt=>Zt.present())});break;case-6:P.request=`${P.code}-${P.subject}`;break;case-7:P.request=`${oe.servers[z][F].info.name}: ${oe.lang.text.Nakama.SessionLogout}`,oe.LoginAgain(P,z,F);break;default:console.warn("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",P),P.request=`${P.code}-${P.subject}`}ae||(oe.noti_origin[z]||(oe.noti_origin[z]={}),oe.noti_origin[z][F]||(oe.noti_origin[z][F]={}),oe.noti_origin[z][F][P.id]=P)})()}LoginAgain(P,z,F){this.alertCtrl.create({header:this.servers[z][F].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[z][F][P.id]}catch{}this.rearrange_notifications(),this.link_group(z,F,!0)}}]}).then(oe=>oe.present())}WriteStorage_From_channel(P,z,F,oe,ae=0){var ee=this;return(0,v.c)(function*(){let ye=JSON.parse(JSON.stringify(P)),Ue=yield ee.global.req_file_info(z),ct=Math.ceil(Ue.contents.length/We.KY);if(ee.OnTransfer[F]||(ee.OnTransfer[F]={}),ee.OnTransfer[F][oe]||(ee.OnTransfer[F][oe]={}),ee.OnTransfer[F][oe][P.channel_id]||(ee.OnTransfer[F][oe][P.channel_id]={}),ee.OnTransfer[F][oe][P.channel_id][P.message_id]||(ee.OnTransfer[F][oe][P.channel_id][P.message_id]={index:ct}),!ee.OnTransfer[F][oe][P.channel_id][P.message_id].OnTransfer){P.content.transfer_index||(P.content.transfer_index=ee.OnTransfer[F][oe][P.channel_id][P.message_id]);for(let It=ae;It<ct;It++)try{let Zt=ee.global.req_file_part_base64(Ue,It,z);yield ee.servers[F][oe].client.writeStorageObjects(ee.servers[F][oe].session,[{collection:`file_${ye.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ye.message_id}_${It}`,permission_read:2,permission_write:1,value:{data:Zt}}]),ee.OnTransfer[F][oe][P.channel_id][P.message_id].index=ct-1-It,ee.OnTransfer[F][oe][P.channel_id][P.message_id].OnTransfer="upload"}catch(Zt){console.log("WriteStorage_From_channel: ",Zt),ee.p5toast.show({text:`${ee.lang.text.Nakama.FailedUpload}: ${Zt}`});break}setTimeout(()=>{delete ee.OnTransfer[F][oe][P.channel_id][P.message_id],ee.global.remove_req_file_info(P,z),ee.p5toast.show({text:`${ee.lang.text.ChatRoom.SendFile}: ${ye.content.filename}`})},100)}})()}ReadStorage_From_channel(P,z,F,oe,ae=0){var ee=this;return(0,v.c)(function*(){let ye=JSON.parse(JSON.stringify(P));if(ee.OnTransfer[F]||(ee.OnTransfer[F]={}),ee.OnTransfer[F][oe]||(ee.OnTransfer[F][oe]={}),ee.OnTransfer[F][oe][P.channel_id]||(ee.OnTransfer[F][oe][P.channel_id]={}),ee.OnTransfer[F][oe][P.channel_id][P.message_id]||(ee.OnTransfer[F][oe][P.channel_id][P.message_id]={index:ye.content.partsize}),ee.OnTransfer[F][oe][P.channel_id][P.message_id].OnTransfer)return;P.content.transfer_index||(P.content.transfer_index=ee.OnTransfer[F][oe][P.channel_id][P.message_id]);let Ue=!0;for(let ct=ae,It=ye.content.partsize;ct<It;ct++)try{let Zt=yield ee.servers[F][oe].client.readStorageObjects(ee.servers[F][oe].session,{object_ids:[{collection:`file_${ye.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ye.message_id}_${ct}`,user_id:ye.sender_id}]});ee.global.save_file_part(z,ct,Zt.objects[0].value.data),ee.OnTransfer[F][oe][P.channel_id][P.message_id].index=It-1-ct,ee.OnTransfer[F][oe][P.channel_id][P.message_id].OnTransfer="download"}catch(Zt){console.log("ReadStorage_From_channel: ",Zt),Ue=!1,ee.p5toast.show({text:`${ee.lang.text.Nakama.FailedDownload}: ${Zt}`});break}if(Ue){if(P.content.url)P.content.thumbnail=P.content.url;else{P.content.text=[ee.lang.text.ChatRoom.SavingFile],delete P.content.transfer_index,delete ee.OnTransfer[F][oe][ye.channel_id][ye.message_id].index,ee.p5toast.show({text:`${ee.lang.text.ChatRoom.SavingFile}: ${ye.content.filename}`}),("Android"==it.s1||"iOS"==it.s1)&&ee.noti.noti.schedule({id:8,title:`${ee.lang.text.ContentViewer.SavingFile}: ${P.content.filename}`,progressBar:{indeterminate:!0},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});let It=[],Zt=0;yield new Promise(function(){var yn=(0,v.c)(function*(En){for(let Rn=0,Wn=ye.content.partsize;Rn<Wn;Rn++)try{let mr=yield ee.indexed.GetFileInfoFromDB(`${z}_part/${Rn}.part`);Zt+=mr.contents.length,It[Rn]=mr}catch(mr){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",mr);break}try{let Rn=new Int8Array(Zt),Wn=0;for(let mr=0,yr=It.length;mr<yr;mr++)Rn.set(It[mr].contents,Wn),Wn+=It[mr].contents.length;yield ee.indexed.saveInt8ArrayToUserPath(Rn,z);for(let mr=0,yr=ye.content.partsize;mr<yr;mr++)ee.indexed.removeFileFromUserPath(`${z}_part/${mr}.part`);yield ee.indexed.removeFileFromUserPath(`${z}_part`),ee.global.remove_req_file_info(ye,z),P.content.text=[ee.lang.text.ChatRoom.FileSaved]}catch(Rn){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",Rn)}En(void 0)});return function(En){return yn.apply(this,arguments)}}()),ee.noti.ClearNoti(8)}let ct;if(ye.content.path=z,"godot"!=ye.content.viewer){let It=yield ee.indexed.loadBlobFromUserPath(z,P.content.type||"");ct=URL.createObjectURL(It)}yield ee.global.modulate_thumbnail((ee.OnTransferMessage[ye.message_id]||P).content,ct),delete ee.OnTransfer[F][oe][ye.channel_id][ye.message_id],delete ee.OnTransferMessage[ye.message_id]}return Ue})()}sync_save_file(P,z,F,oe,ae="",ee){var ye=this;return(0,v.c)(function*(){try{let Ue=JSON.parse(JSON.stringify(P));yield ye.indexed.saveBlobToUserPath(P.blob,Ue.path,void 0,ee);let ct=yield ye.global.req_file_info(Ue.path,ee);Ue.partsize=Math.ceil((Ue.filesize||ct.contents.length)/We.KY),delete Ue.blob,yield ye.servers[z][F].client.writeStorageObjects(ye.servers[z][F].session,[{collection:oe,key:ae||Ue.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:Ue}]);for(let It=0;It<Ue.partsize;It++){let Zt=ye.global.req_file_part_base64(ct,It,Ue.path,ee);yield ye.servers[z][F].client.writeStorageObjects(ye.servers[z][F].session,[{collection:oe,key:ae?`${ae}_${It}`:Ue.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${It}`,permission_read:2,permission_write:1,value:{data:Zt}}])}ye.indexed.removeFileFromUserPath(`${Ue.path}.history`,void 0,ee)}catch(Ue){console.log("SyncSaveFailed: ",Ue)}})()}sync_load_file(P,z,F,oe,ae="",ee="",ye){var Ue=this;return(0,v.c)(function*(){let ct=JSON.parse(JSON.stringify(P));try{return yield Ue.indexed.loadBlobFromUserPath(ct.path,ct.type||"",void 0,ye)}catch{try{let yn=(yield Ue.servers[z][F].client.readStorageObjects(Ue.servers[z][F].session,{object_ids:[{collection:oe,key:ee||ct.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:ae||Ue.servers[z][F].session.user_id}]})).objects[0].value;for(let En=0;En<yn.partsize;En++){let Rn=yield Ue.servers[z][F].client.readStorageObjects(Ue.servers[z][F].session,{object_ids:[{collection:oe,key:ee?`${ee}_${En}`:yn.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${En}`,user_id:ae||Ue.servers[z][F].session.user_id}]});Ue.global.save_file_part(yn.path,En,Rn.objects[0].value.data,ye)}return yield Ue.indexed.loadBlobFromUserPath(yn.path,yn.type||"",void 0,ye)}catch{return null}}})()}sync_remove_file(P,z,F,oe,ae="",ee){var ye=this;return(0,v.c)(function*(){try{yield ye.indexed.removeFileFromUserPath(P,void 0,ee);let ct=(yield ye.servers[z][F].client.readStorageObjects(ye.servers[z][F].session,{object_ids:[{collection:oe,key:P.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:ae||ye.servers[z][F].session.user_id}]})).objects[0].value;try{ye.servers[z][F].client.rpc(ye.servers[z][F].session,"remove_channel_file",{collection:oe,key:ct.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+"_"})}catch{}yield ye.servers[z][F].client.deleteStorageObjects(ye.servers[z][F].session,{object_ids:[{collection:oe,key:ct.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch(Ue){console.log("SyncRemoveFailed: ",Ue)}})()}AddressToQRCodeAct(P,z=!1){var F=this;return(0,v.c)(function*(){let oe=[];if(P.open_profile&&oe.push({type:"open_profile"}),P.tmp_user){let ae=P.tmp_user[0].split(",");F.users.self.email=ae[0],F.users.self.password=ae[1],F.users.self.display_name=ae[2],F.users.self.online=!0,F.save_self_profile()}if(P.server)for(let ae=0,ee=P.server.length;ae<ee;ae++){let ye=P.server[ae].split(",");oe.push({type:"server",value:{name:ye[0]||"No named server",target:ye[0]||"No named server",address:ye[1]||"192.168.0.1",useSSL:ye[2]||!1,port:ye[3]||7350,key:ye[4]||"defaultkey",isOfficial:"unofficial"}})}if(P.group)for(let ae=0,ee=P.group.length;ae<ee;ae++){let ye=P.group[ae].split(",");oe.push({type:"group",name:ye[0],id:ye[1]})}if(P.group_dedi&&"http:"==window.location.protocol&&oe.push({type:"group_dedi",value:{address:`ws://${P.group_dedi[0]}`}}),P.open_prv_channel){let ae=P.open_prv_channel[0].split(",");oe.push({type:"open_prv_channel",user_id:ae[0],isOfficial:ae[1]||"official",target:ae[2]||"DevTestServer"})}if(P.open_channel){let ae=P.open_channel[0].split(",");oe.push({type:"open_channel",group_id:ae[0],isOfficial:ae[1],target:ae[2]})}if(P.rtcserver)for(let ae=0,ee=P.rtcserver.length;ae<ee;ae++){let ye=P.rtcserver[ae].split("]"),Ue=ye[0].split("[")[1],ct=ye[1].split(",");oe.push({type:"rtcserver",value:{urls:Ue.split(","),username:ct[1],credential:ct[2]}})}if(P.voidDraw)for(let ae=0,ee=P.voidDraw.length;ae<ee;ae++){let Ue=P.voidDraw[ae].split("]")[0].split("[")[1];oe.push({type:"voidDraw",addresses:Ue.split(",")})}if(z)return oe;yield F.act_from_QRInfo(oe)})()}act_from_QRInfo(P){var z=this;return(0,v.c)(function*(){z.removeBanner();for(let F=0,oe=P.length;F<oe;F++)switch(P[F].type){case"open_profile":z.nav.navigateForward("portal/settings/group-server"),z.removeBanner();break;case"tmp_user":break;case"server":if(z.statusBar.groupServer.unofficial[P[F].value.name])z.p5toast.show({text:`${z.lang.text.Nakama.AlreadyHaveTargetName}: ${P[F].value.name}`}),delete P[F].value.name,yield z.modalCtrl.create({component:Lt.E,componentProps:{data:P[F].value}}).then(ye=>ye.present());else{let ye={name:decodeURIComponent(P[F].value.name),target:decodeURIComponent(P[F].value.target),address:decodeURIComponent(P[F].value.address),port:P[F].value.port,useSSL:P[F].value.useSSL,isOfficial:P[F].value.isOfficial,key:decodeURIComponent(P[F].value.key)};yield z.add_group_server(ye),z.init_session(ye)}break;case"group_dedi":yield z.modalCtrl.create({component:bt._,componentProps:{address:P[F].value.address,name:z.users.self.display_name}}).then(ye=>{ye.present()});break;case"group":z.AfterLoginActDone?yield z.try_add_group(P[F]):z.AfterLoginAct.push((0,v.c)(function*(){return yield z.try_add_group(P[F])}));break;case"open_prv_channel":if(z.AfterLoginActDone){let ye=yield z.join_chat_with_modulation(P[F].user_id,2,P[F].isOfficial,P[F].target,!0);z.go_to_chatroom_without_admob_act(ye)}else z.AfterLoginAct.push((0,v.c)(function*(){let ye=yield z.join_chat_with_modulation(P[F].user_id,2,P[F].isOfficial,P[F].target,!0);z.go_to_chatroom_without_admob_act(ye)}));break;case"open_channel":if(z.AfterLoginActDone){let ye=yield z.join_chat_with_modulation(P[F].group_id,3,P[F].isOfficial,P[F].target,!0);z.go_to_chatroom_without_admob_act(ye)}else z.AfterLoginAct.push((0,v.c)(function*(){let ye=yield z.join_chat_with_modulation(P[F].group_id,3,P[F].isOfficial,P[F].target,!0);z.go_to_chatroom_without_admob_act(ye)}));break;case"rtcserver":let ee=[];try{if(!z.lang.text.WebRTCDevManager.NoRegServer)throw"\ubc88\uc5ed \uc900\ube44 \uc548\ub428";let ye=yield z.indexed.loadTextFromUserPath("servers/webrtc_server.json");ee=JSON.parse(ye)}catch{}ee.push(P[F].value),yield z.indexed.saveTextFileToUserPath(JSON.stringify(ee),"servers/webrtc_server.json");break;case"voidDraw":z.AfterLoginActDone?z.modalCtrl.create({component:Ft.S,componentProps:{addresses:P[F].addresses},cssClass:"fullscreen"}).then(ye=>ye.present()):z.AfterLoginAct.push((0,v.c)(function*(){z.modalCtrl.create({component:Ft.S,componentProps:{addresses:P[F].addresses},cssClass:"fullscreen"}).then(ye=>ye.present())}));break;default:throw z.resumeBanner(),"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}}return(G=me).\u0275fac=function(P){return new(P||G)(Vt.CoB(cn.O),Vt.CoB(gn.Y),Vt.CoB(xn.k),Vt.CoB(Sn.s),Vt.CoB(Cn.qS),Vt.CoB(Cn.iW),Vt.CoB(tr.o),Vt.CoB(We.A1),Vt.CoB(ar.Y),Vt.CoB(Zn.wX),Vt.CoB(Vt.WW2),Vt.CoB(Cn.Kg),Vt.CoB(Zn.wX))},G.\u0275prov=Vt.wxM({token:G,factory:G.\u0275fac,providedIn:"root"}),me})()},4428:(dn,Pt,he)=>{"use strict";he.d(Pt,{y:()=>m});var v=he(1528),we=he(9352),_e=he(2272),o=he(4496),W=he(5624),C=he(9240),y=he(7136),_=he(4180),h=he(3824),f=he(4668),E=he(4500),w=he(5020),a=he(7756),l=he(1368);function d(p,b){if(1&p){const O=o.KQA();o.I0R(0,"td")(1,"ion-button",9),o.qCj("click",function(){o.usT(O);const R=o.GaO(2);return o.CGJ(R.notification_react(-5))}),o.OEk(2),o.C$Y()()}if(2&p){const O=o.GaO(2);o.yG2(2),o.oRS(" ",O.lang.text.OtherProfile.add_to_group," ")}}function u(p,b){if(1&p){const O=o.KQA();o.I0R(0,"td")(1,"ion-button",9),o.qCj("click",function(){o.usT(O);const R=o.GaO(2);return o.CGJ(R.notification_react(-2))}),o.OEk(2),o.C$Y()()}if(2&p){const O=o.GaO(2);o.yG2(2),o.oRS(" ",O.lang.text.OtherProfile.add_friend," ")}}function c(p,b){if(1&p){const O=o.KQA();o.I0R(0,"td")(1,"ion-button",10),o.qCj("click",function(){o.usT(O);const R=o.GaO(2);return o.CGJ(R.kick_user_from_group())}),o.OEk(2),o.C$Y()()}if(2&p){const O=o.GaO(2);o.yG2(2),o.oRS(" ",O.lang.text.OtherProfile.kick_from_group," ")}}function s(p,b){if(1&p){const O=o.KQA();o.I0R(0,"div",5)(1,"table",6)(2,"tr"),o.yuY(3,d,3,1,"td",7)(4,u,3,1,"td",7),o.I0R(5,"td")(6,"ion-button",8),o.qCj("click",function(){o.usT(O);const R=o.GaO();return o.CGJ(R.create_chat())}),o.OEk(7),o.C$Y()(),o.yuY(8,c,3,1,"td",7),o.C$Y()()()}if(2&p){const O=o.GaO();o.yG2(3),o.E7m("ngIf",O.has_admin&&O.additional_buttons[-5]),o.yG2(),o.E7m("ngIf",O.additional_buttons[-2]),o.yG2(2),o.E7m("disabled",O.lock_create_chat),o.yG2(),o.oRS(" ",O.lang.text.OtherProfile.privacy_chat," "),o.yG2(),o.E7m("ngIf",O.has_admin)}}let m=(()=>{var p;class b{constructor(N,R,k,A,$,j,S,D,V,Z){this.modalCtrl=N,this.navParams=R,this.nakama=k,this.statusBar=A,this.p5toast=$,this.indexed=j,this.lang=S,this.global=D,this.loadingCtrl=V,this.mClipboard=Z,this.info={},this.group_info={},this.additional_buttons={},this.has_admin=!1,this.BackButtonPressed=!1,this.user_content_id="",this.onDismissData={},this.lock_create_chat=!1}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){var N=this;return(0,v.c)(function*(){N.InitBrowserBackButtonOverride(),N.nakama.removeBanner(),N.info=N.navParams.get("info"),N.has_admin=N.navParams.get("has_admin"),N.group_info=N.navParams.get("group"),N.isOfficial=N.group_info.server.isOfficial,N.target=N.group_info.server.target,N.user_content_id=`user_content_${N.info.user.id}`,N.nakama.load_other_user(N.info.user.id,N.isOfficial,N.target),N.nakama.socket_reactive["others-profile"]=R=>{N.p5canvas.ChangeImageSmooth(R)},N.nakama.socket_reactive["others-online"]=()=>{N.p5canvas.loop()},N.nakama.socket_reactive.other_user_content_update=()=>{N.update_content_from_server()},setTimeout((0,v.c)(function*(){(yield N.indexed.checkIfFileExist(`servers/${N.isOfficial}/${N.target}/users/${N.info.user.id}/content.pck`))&&(yield N.global.CreateGodotIFrame(N.user_content_id,{ext:"pck",path:`servers/${N.isOfficial}/${N.target}/users/${N.info.user.id}/content.pck`}))}),150),N.catch_user_noties()})()}ionViewWillEnter(){this.OtherCanvasDiv=document.getElementById("OtherUserCanvasDiv"),this.p5canvas=new we(N=>{let k,A,$,S,j=1,D="0, 0, 0",V=0;N.setup=()=>{let Z=N.color(`#${(this.info.user.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}`);D=`${N.red(Z)}, ${N.green(Z)}, ${N.blue(Z)}`,S=N.createDiv(),S.style("width","100%"),S.style("height","100%"),S.style("background-image",`linear-gradient(to top, rgba(${D}, 0), rgba(${D}, 0))`),S.parent(this.OtherCanvasDiv),N.noCanvas(),N.pixelDensity(1);let H=N.createDiv();const Q="156px";H.style("width",Q),H.style("height",Q),H.style("position","absolute"),H.style("top","120px"),H.style("left","50%"),H.style("transform","translateX(-50%)"),H.style("border-radius",Q),H.style("background-image","url(assets/data/avatar.svg)"),H.style("background-position","center"),H.style("background-repeat","no-repeat"),H.style("background-size","cover"),H.parent(this.OtherCanvasDiv);let Y=N.createDiv();const q="36px";Y.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),Y.style("width",q),Y.style("height",q),Y.style("position","absolute"),Y.style("top","128px"),Y.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px"),setTimeout(()=>{Y.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")},0),Y.style("border-radius",q),Y.parent(this.OtherCanvasDiv),N.OnlineLamp=Y,A=N.createImg(this.info.user.img,"profile_img"),A.style("width",Q),A.style("height",Q),A.style("border-radius",Q),A.style("position","absolute"),A.style("object-fit","cover"),this.info.user.img||A.hide(),A.parent(H),$=N.createImg(void 0,"before_img"),$.style("width",Q),$.style("height",Q),$.style("border-radius",Q),$.style("position","absolute"),$.style("object-fit","cover"),$.hide(),$.parent(H),N.ChangeImageSmooth=K=>{K?($.elt.src=void 0,$.hide()):($.elt.src=A.elt.src,$.show()),A.elt.src=K,j=1,N.loop(),this.info.user.img=K,K?A.show():A.hide()};let de=N.createDiv();de.style("width","100%"),de.style("position","absolute"),de.style("top","330px"),de.style("display","flex"),de.style("flex-direction","column"),de.parent(this.OtherCanvasDiv),k=N.createDiv(this.info.user.display_name||this.lang.text.Profile.noname_user),k.style("font-size","36px"),k.style("font-weight","bold"),k.style("align-self","center"),k.style("width","80%"),k.style("text-align","center"),k.parent(de);let xe=N.createDiv(this.info.user.id);xe.style("color","var(--ion-color-medium)"),xe.style("align-self","center"),xe.style("margin-top","36px"),xe.style("width","80%"),xe.style("text-align","center"),xe.parent(de),xe.elt.onclick=()=>{this.copy_id()}},N.draw=()=>{j>0&&(j-=.025,$.style("opacity",`${j}`),A.style("opacity",""+(1-j))),this.info.user.online?this.lerpVal<1?this.lerpVal+=.025:this.lerpVal=1:this.lerpVal>0?this.lerpVal-=.025:this.lerpVal=0,V<1&&(V+=.025),A.style("filter",`grayscale(${N.lerp(.9,0,this.lerpVal)}) contrast(${N.lerp(1.4,1,this.lerpVal)})`),$.style("filter",`grayscale(${N.lerp(.9,0,this.lerpVal)}) contrast(${N.lerp(1.4,1,this.lerpVal)})`),S.style("background-image",`linear-gradient(to top, rgba(${D}, ${N.min(1,V)/2}), rgba(${D}, 0))`),j<=0&&(this.lerpVal>=1||this.lerpVal<=0)&&V>=1&&(this.p5canvas.OnlineLamp.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),N.noLoop())},N.windowResized=()=>{N.OnlineLamp.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")}})}update_content_from_server(){var N=this;return(0,v.c)(function*(){N.global.godot.remove();let R=yield N.loadingCtrl.create({message:N.lang.text.TodoDetail.WIP});R.present();let A,k=N.nakama.servers[N.isOfficial][N.target];try{A=(yield k.client.readStorageObjects(k.session,{object_ids:[{collection:"user_public",key:"main_content",user_id:N.info.user.id}]})).objects[0].value;let j="";for(let S=0,D=A.partsize;S<D;S++)j+=(yield k.client.readStorageObjects(k.session,{object_ids:[{collection:"user_public",key:`main_content_${S}`,user_id:N.info.user.id}]})).objects[S].value.data;yield N.indexed.saveBase64ToUserPath(j.replace(/"|=|\\/g,""),`servers/${N.isOfficial}/${N.target}/users/${N.info.user.id}/content.pck`),yield N.global.CreateGodotIFrame(N.user_content_id,{ext:"pck",path:`servers/${N.isOfficial}/${N.target}/users/${N.info.user.id}/content.pck`})}catch{yield N.indexed.removeFileFromUserPath(`servers/${N.isOfficial}/${N.target}/users/${N.info.user.id}/content.pck`),N.global.godot.remove()}R.dismiss()})()}catch_user_noties(){this.nakama.noti_origin[this.isOfficial]&&this.nakama.noti_origin[this.isOfficial][this.target]&&Object.keys(this.nakama.noti_origin[this.isOfficial][this.target]).forEach(k=>{this.nakama.noti_origin[this.isOfficial][this.target][k].sender_id==this.info.user.id&&(this.additional_buttons[this.nakama.noti_origin[this.isOfficial][this.target][k].code.toString()]=k)})}notification_react(N){switch(N){case 0:case-1:case-2:break;case-5:this.nakama.servers[this.isOfficial][this.target].client.addGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(R=>{R||console.warn("\ubc34 \uc720\uc800\uc5d0 \ub300\ud55c\uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.p5toast.show({text:`${this.lang.text.OtherProfile.added_to_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[N.toString()]]).then(k=>{k||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),delete this.additional_buttons[N.toString()],this.nakama.update_notifications(this.isOfficial,this.target),this.onDismissData={id:this.info.user.id,act:"accept_join"},this.info.status="online",this.p5canvas.loop()})});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ubc18\uc751: ",N)}}create_chat(){var N=this;return(0,v.c)(function*(){if(!N.lock_create_chat){N.lock_create_chat=!0;try{let R=yield N.nakama.join_chat_with_modulation(N.info.user.id,2,N.isOfficial,N.target,!0);N.nakama.go_to_chatroom_without_admob_act(R),N.lock_create_chat=!1,N.modalCtrl.dismiss({dismiss:!0})}catch(R){N.lock_create_chat=!1,console.error(R)}}})()}kick_user_from_group(){switch(this.info.state){case 0:case 1:case 2:this.after_announce_kick();break;case 3:this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[-5]]).then(N=>{N||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),this.after_announce_kick(),delete this.additional_buttons[-5],this.nakama.update_notifications(this.isOfficial,this.target),this.info.status="missing",this.p5canvas.loop()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uc0c1\ud0dc: ",this.info)}}after_announce_kick(){this.nakama.servers[this.isOfficial][this.target].client.kickGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(N=>{this.p5toast.show({text:`${this.lang.text.OtherProfile.kicked_from_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.modalCtrl.dismiss({id:this.info.user.id,act:"kick"})})}copy_id(){this.mClipboard.copy(this.info.user.id).catch(N=>_e.c.write(this.info.user.id))}focus_on_content(){console.warn("\ucf58\ud150\uce20 \uc790\uc138\ud788\ubcf4\uae30 \uae30\ub2a5 \uc900\ube44\uc911")}ionViewDidLeave(){delete this.nakama.socket_reactive["others-profile"],delete this.nakama.socket_reactive["others-online"],delete this.nakama.socket_reactive.other_user_content_update,this.p5canvas.remove()}}return(p=b).\u0275fac=function(N){return new(N||p)(o.GI1(W.qS),o.GI1(C.a6),o.GI1(y.h),o.GI1(_.Y),o.GI1(h.O),o.GI1(f.k),o.GI1(E.o),o.GI1(w.A1),o.GI1(W.Kg),o.GI1(a._))},p.\u0275cmp=o.In1({type:p,selectors:[["app-others-profile"]],decls:9,vars:2,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","OtherUserCanvasDiv",2,"position","absolute","width","100%","height","100%","display","flex"],["style","width: 100%; position: absolute; bottom: 0;",4,"ngIf"],[2,"width","100%","position","absolute","bottom","0"],["id","input_table",2,"width","100%","background-color","black"],[4,"ngIf"],["expand","block",3,"disabled","click"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(N,R){1&N&&(o.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o.OEk(3),o.C$Y(),o.I0R(4,"ion-buttons",1),o.qCj("click",function(){return R.modalCtrl.dismiss(R.onDismissData)}),o.wR5(5,"ion-back-button",2),o.C$Y()()(),o.I0R(6,"ion-content"),o.wR5(7,"div",3),o.yuY(8,s,9,5,"div",4),o.C$Y()),2&N&&(o.yG2(3),o.cNF(R.lang.text.OtherProfile.Title),o.yG2(5),o.E7m("ngIf","online"==R.statusBar.groupServer[R.isOfficial][R.target]))},dependencies:[l.u_,W.sn,W.GS,W._i,W.wB,W.tM,W.Md,W.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),b})()},3824:(dn,Pt,he)=>{"use strict";he.d(Pt,{O:()=>o});var v=he(9352),nt=he(4496),_e=function(W){return W[W.Idle=0]="Idle",W[W.DivFadeIn=1]="DivFadeIn",W[W.BorderAlert=2]="BorderAlert",W[W.Reading=3]="Reading",W[W.FadeOut=4]="FadeOut",W}(_e||{});let o=(()=>{var W;class C{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=_e.Idle}show(_){let h;_.time=(new Date).getTime(),_.lateable||(this.AlertNow=_,this.status=_e.DivFadeIn),this.alert.length&&(h=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==_.text?this.status=_e.DivFadeIn:h&&h.text==_.text||this.alert.push(_),this.isShowing?this.status==_e.FadeOut&&(this.status=_e.DivFadeIn):(this.CurrentToast=new v(E=>{let w,a,l,d=0,u=0,c=0;E.setup=()=>{E.noCanvas(),w=E.createDiv(),w.style("position: absolute; left: 0; top: 0; z-index: 1"),w.style("width: 100%; height: fit-content"),w.style("padding: 32px;"),w.style("display: flex; justify-content: center;"),w.style("pointer-events: none"),s(),l=E.createDiv(),l.parent(w),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("border-radius: 24px"),l.style("background: #44a6fa88"),l.style("padding: 4px"),a=E.createDiv(),a.parent(l),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("word-break: break-all"),a.style("background: #44a6fa88"),a.style("border-radius: 20px"),a.style("padding: 12px"),a.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),a.html(this.AlertNow.text),m(),this.status=_e.DivFadeIn},E.draw=()=>{switch(this.status){case _e.DivFadeIn:d<1?d+=1:(d=1,u=1,this.status=_e.BorderAlert,a.html(this.AlertNow.text));break;case _e.BorderAlert:if(u>0)u-=.03;else{let b;u=0,b=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,c=E.millis()+b+960,this.status=_e.Reading}break;case _e.Reading:E.millis()>c&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),a.html(this.AlertNow.text),this.status=_e.DivFadeIn):this.status=_e.FadeOut);break;case _e.FadeOut:d>0?d-=.04:p()}s(),m()};let s=()=>{w.style(`opacity: ${d}`)},m=()=>{let b=E.lerpColor(E.color("#44a6fabb"),E.color("#ffd94ebb"),u).levels;l.style(`padding: ${4*u}px`),a.style(`padding: ${E.lerp(16,12,u)}px`),a.style(`border-radius: ${E.lerp(24,20,u)}px`),l.style(`background: rgba(${b[0]}, ${b[1]}, ${b[2]}, ${b[3]/255})`)},p=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=_e.FadeOut}}return(W=C).\u0275fac=function(_){return new(_||W)},W.\u0275prov=nt.wxM({token:W,factory:W.\u0275fac,providedIn:"root"}),C})()},6756:(dn,Pt,he)=>{"use strict";he.d(Pt,{q:()=>k});var v=he(1528),we=he(4428),nt=he(340),_e=he(2272),o=he(5193),W=he(4496),C=he(9240),y=he(5624),_=he(7136),h=he(4180),f=he(4668),E=he(4500),w=he(5020),a=he(3824),l=he(7756),d=he(1368),u=he(4716);function c(A,$){if(1&A){const j=W.KQA();W.I0R(0,"img",21),W.qCj("click",function(){W.usT(j);const D=W.GaO(2);return W.CGJ(D.copy_startup_address())}),W.C$Y()}if(2&A){const j=W.GaO(2);W.E7m("src",j.QRCodeSRC,W.K6U)}}function s(A,$){if(1&A&&(W.I0R(0,"div")(1,"ion-item-divider")(2,"ion-label"),W.OEk(3),W.C$Y()(),W.yuY(4,c,1,1,"img",20),W.C$Y()),2&A){const j=W.GaO();W.yG2(3),W.cNF(j.lang.text.GroupDetail.invite_scan_below),W.yG2(),W.E7m("ngIf",j.QRCodeSRC)}}function m(A,$){if(1&A&&(W.I0R(0,"ion-item",22)(1,"ion-label",23),W.OEk(2),W.C$Y()()),2&A){const j=W.GaO();W.yG2(2),W.cNF(j.lang.text.GroupDetail.NotAcceptYet)}}function p(A,$){if(1&A&&(W.I0R(0,"ion-item",22)(1,"ion-label",23),W.OEk(2),W.C$Y()()),2&A){const j=W.GaO();W.yG2(2),W.cNF(j.lang.text.GroupDetail.MissedGroup)}}function b(A,$){if(1&A&&(W.I0R(0,"ion-item-divider")(1,"ion-label"),W.OEk(2),W.C$Y()()),2&A){const j=W.GaO();W.yG2(2),W.oRS("",j.lang.text.GroupDetail.Members+" ("+j.info.users.length+"/"+j.info.max_count+")"," ")}}function O(A,$){if(1&A){const j=W.KQA();W.I0R(0,"ion-item",7),W.qCj("click",function(){const V=W.usT(j).$implicit,Z=W.GaO();return W.CGJ(Z.open_user_profile(V))}),W.wR5(1,"div",8),W.I0R(2,"div",9),W.wR5(3,"img",10),W.C$Y(),W.I0R(4,"ion-label",11),W.OEk(5),W.C$Y()()}if(2&A){const j=$.$implicit,S=W.GaO();W.yG2(),W.m_g("background-color: "+S.statusBar.colors[j.user.online?"online":"offline"]),W.yG2(2),W.m_g("filter: "+(j.user.online?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),W.E7m("src",j.user.img,W.K6U),W.yG2(2),W.cNF(j.user.display_name||S.lang.text.Profile.noname_user)}}function N(A,$){if(1&A){const j=W.KQA();W.I0R(0,"ion-item",7),W.qCj("click",function(){W.usT(j);const D=W.GaO();return W.CGJ(D.remove_group())}),W.I0R(1,"ion-label",24),W.OEk(2),W.C$Y()()}if(2&A){const j=W.GaO();W.yG2(2),W.cNF(j.lang.text.GroupDetail.BreakupGroup)}}function R(A,$){if(1&A){const j=W.KQA();W.I0R(0,"ion-item",7),W.qCj("click",function(){W.usT(j);const D=W.GaO();return W.CGJ(D.leave_group())}),W.I0R(1,"ion-label",24),W.OEk(2),W.C$Y()()}if(2&A){const j=W.GaO();W.yG2(2),W.cNF(j.lang.text.GroupDetail.LeaveGroup)}}let k=(()=>{var A;class ${constructor(S,D,V,Z,H,Q,Y,q,ne){this.navParams=S,this.nakama=D,this.modalCtrl=V,this.statusBar=Z,this.indexed=H,this.lang=Q,this.global=Y,this.p5toast=q,this.mClipboard=ne,this.has_admin=!1,this.BackButtonPressed=!1,this.file_sel_id="",this.need_edit=!1,this.lock_modal_open=!1}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){var S=this;return(0,v.c)(function*(){S.InitBrowserBackButtonOverride(),S.info=S.navParams.get("info"),S.file_sel_id=`group_detail_${S.info.id}_${(new Date).getTime()}}`,S.info_orig=JSON.parse(JSON.stringify(S.navParams.get("info"))),S.nakama.socket_reactive.group_detail=S,S.QRCodeSRC=S.global.readasQRCodeFromString(`${o.uM}pjcone_pwa/?group=${S.info.name},${S.info.id}`),S.info.server||(S.info.server=S.navParams.get("server")),S.isOfficial=S.info.server.isOfficial,S.target=S.info.server.target;try{S.has_admin=S.info.creator_id==S.nakama.servers[S.isOfficial][S.target].session.user_id}catch(D){console.log("check is admin failed: ",D),S.has_admin=!1}if(S.info.users&&S.info.users.length)for(let D=0,V=S.info.users.length;D<V;D++)S.info.users[D].is_me?(S.info.users[D].user=S.nakama.users.self,S.indexed.loadTextFromUserPath("servers/self/profile.img",(Z,H)=>{Z&&H&&(S.nakama.users.self.img=H.replace(/"|\\|=/g,""))})):S.info.users[D].user.id?S.info.users[D].user=S.nakama.load_other_user(S.info.users[D].user.id,S.isOfficial,S.target):S.info.users.splice(D,1);try{S.nakama.servers[S.isOfficial][S.target].client.readStorageObjects(S.nakama.servers[S.isOfficial][S.target].session,{object_ids:[{collection:"group_public",key:`group_${S.info.id}`,user_id:S.info.creator_id}]}).then(D=>{D.objects.length?(S.nakama.groups[S.isOfficial][S.target][S.info.id].img=D.objects[0].value.img.replace(/"|=|\\/g,""),S.indexed.saveTextFileToUserPath(D.objects[0].value.img,`servers/${S.isOfficial}/${S.target}/groups/${S.info.id}.img`)):(delete S.nakama.groups[S.isOfficial][S.target][S.info.id].img,S.indexed.removeFileFromUserPath(`servers/${S.isOfficial}/${S.target}/groups/${S.info.id}.img`))})}catch(D){console.log(D)}})()}ionViewWillEnter(){this.nakama.removeBanner()}update_from_notification(S){switch(S.code){case-4:case-5:this.update_GroupUsersList(S.server.isOfficial,S.server.target);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",S)}}update_GroupUsersList(S,D){this.nakama.servers[S][D].client.listGroupUsers(this.nakama.servers[S][D].session,this.info.id).then(V=>{let Z=[];for(let H=0,Q=V.group_users.length;H<Q;H++)if(V.group_users[H].user.id==this.nakama.servers[S][D].session.user_id)Z.push({state:V.group_users[H].state,user:this.nakama.users.self});else{let Y=this.nakama.load_other_user(V.group_users[H].user.id,S,D);this.nakama.save_other_user(V.group_users[H].user,S,D),Z.push({state:V.group_users[H].state,user:Y})}this.info.users=Z})}buttonClickInputFile(){var S=this;return(0,v.c)(function*(){if(S.has_admin)if(S.info.img)S.info.img=void 0;else try{let D=yield _e.c.read();yield S.check_if_clipboard_available(D)}catch{try{let V=yield S.mClipboard.paste();yield S.check_if_clipboard_available(V)}catch{document.getElementById(S.file_sel_id).click()}}})()}inputImageSelected(S){var D=this;return(0,v.c)(function*(){let V=yield D.global.GetBase64ThroughFileReader(S.target.files[0]);D.nakama.limit_image_size(V,Z=>{D.info.img=Z.canvas.toDataURL(),D.announce_update_group_image(D.info.img)})})()}announce_update_group_image(S){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.writeStorageObjects(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,[{collection:"group_public",key:`group_${this.info.id}`,value:{img:S},permission_read:2,permission_write:1}]).then(D=>{this.indexed.saveTextFileToUserPath(JSON.stringify(S),`servers/${this.info.server.isOfficial}/${this.info.server.target}/groups/${this.info.id}.img`)})}check_if_clipboard_available(S){var D=this;return(0,v.c)(function*(){try{if(0!=S.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((V,Z)=>{let H=document.createElement("img");H.src=S,H.onload=()=>{D.info.img=S,D.announce_update_group_image(S),H.remove(),V(void 0)},H.onerror=()=>{H.remove(),Z()}})}catch{try{if(0!=S.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";D.nakama.limit_image_size(S,Z=>{D.info.img=Z.canvas.toDataURL(),D.announce_update_group_image(D.info.img)})}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}remove_group(){this.need_edit=!1;try{if(this.nakama.servers[this.info.server.isOfficial][this.info.server.target]){if(this.info.creator_id!=this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session.user_id)throw this.lang.text.GroupDetail.YouAreNotCreator;"online"==this.info.status?this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"remove"}).then(S=>{this.after_remove_group()}):this.after_remove_group()}else this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}catch(S){console.log("remove_group: ",S),this.p5toast.show({text:S})}}after_remove_group(){this.leave_channel(),this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}edit_group(){"online"==this.statusBar.groupServer[this.info.server.isOfficial][this.info.server.target]&&"missing"!=this.info.status&&this.has_admin&&this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.updateGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id,{name:this.info.name,lang_tag:this.info.lang_tag,description:this.info.description,open:this.info.open}),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id]=this.info,this.nakama.save_groups_with_less_info()}open_user_profile(S){this.lock_modal_open||(this.lock_modal_open=!0,S.is_me?this.modalCtrl.create({component:nt.w,componentProps:{isOfficial:this.info.server.isOfficial,target:this.info.server.target}}).then(D=>{D.present(),this.lock_modal_open=!1}):this.modalCtrl.create({component:we.y,componentProps:{info:S,group:this.info,has_admin:this.has_admin}}).then(D=>{D.onDidDismiss().then(V=>{if(V.data){if(V.data.id)for(let Z=0,H=this.info.users.length;Z<H;Z++)if(this.info.users[Z].user.id==V.data.id){switch(V.data.act){case"accept_join":this.info.users[Z].status="online";break;case"kick":this.info.users.splice(Z,1);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc0c1\ub300\ubc29 \uc815\ubcf4: ",V)}break}V.data.dismiss&&this.modalCtrl.dismiss()}}),D.present(),this.lock_modal_open=!1}))}leave_group(){this.need_edit=!1,"online"==this.info.status?this.after_leave_group(()=>{this.leave_channel(),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))}):"pending"==this.info.status&&this.after_leave_group(()=>{this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))})}after_leave_group(S=(()=>console.warn("after_leave_group_announce Func Null"))){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.leaveGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id).then(D=>{D&&S(),this.nakama.remove_channel_files(this.info.server.isOfficial,this.info.server.target,this.info.channel_id)})}leave_channel(){this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target]&&this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id]&&"missing"!=this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status&&(delete this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].img,this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status="missing",delete this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].info),this.nakama.save_channels_with_less_info()}copy_id(){this.mClipboard.copy(this.info.id).catch(S=>_e.c.write(this.info.id))}copy_startup_address(){let S=`https://is2you2.github.io/pjcone_pwa/?group=${this.info.name},${this.info.id}`;this.mClipboard.copy(S).catch(D=>_e.c.write(S))}ionViewWillLeave(){delete this.nakama.socket_reactive.group_detail,this.need_edit=this.info.description!=this.info_orig.description,this.need_edit&&this.edit_group()}}return(A=$).\u0275fac=function(S){return new(S||A)(W.GI1(C.a6),W.GI1(_.h),W.GI1(y.qS),W.GI1(h.Y),W.GI1(f.k),W.GI1(E.o),W.GI1(w.A1),W.GI1(a.O),W.GI1(l._))},A.\u0275cmp=W.In1({type:A,selectors:[["app-group-detail"]],decls:39,vars:24,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["color","warning",4,"ngIf"],[3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],["button","",3,"click"],[1,"additional_form","status_bar_single"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],[1,"form_margin"],[1,"server_target"],[1,"form_margin","content"],["hidden","","type","file","accept","image/*",3,"id","change"],[1,"infobox",3,"disabled","ngModel","placeholder","ngModelChange"],[2,"pointer-events","none"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["alt","Loading",2,"width","100%","height","auto",3,"src","click"],["color","warning"],[1,"ion-text-center"],["color","danger",1,"ion-text-center"]],template:function(S,D){1&S&&(W.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),W.OEk(3),W.C$Y(),W.I0R(4,"ion-buttons",1),W.qCj("click",function(){return D.modalCtrl.dismiss()}),W.wR5(5,"ion-back-button",2),W.C$Y()()(),W.I0R(6,"ion-content"),W.yuY(7,s,5,2,"div",3)(8,m,3,1,"ion-item",4)(9,p,3,1,"ion-item",4),W.I0R(10,"ion-item",5),W.qCj("click",function(){return D.copy_id()}),W.I0R(11,"ion-label",6),W.OEk(12),W.C$Y()(),W.I0R(13,"ion-item",7),W.qCj("click",function(){return D.buttonClickInputFile()}),W.wR5(14,"div",8),W.I0R(15,"div",9),W.wR5(16,"img",10),W.C$Y(),W.I0R(17,"ion-label",11)(18,"div")(19,"table")(20,"tr")(21,"td"),W.OEk(22),W.C$Y(),W.I0R(23,"td",12),W.OEk(24),W.C$Y()()()(),W.I0R(25,"div",13),W.OEk(26),W.C$Y()()(),W.I0R(27,"input",14),W.qCj("change",function(Z){return D.inputImageSelected(Z)}),W.C$Y(),W.I0R(28,"ion-item-divider")(29,"ion-label"),W.OEk(30),W.C$Y()(),W.I0R(31,"textarea",15),W.iHE("ngModelChange",function(Z){return W.kNx(D.info.description,Z)||(D.info.description=Z),Z}),W.C$Y(),W.I0R(32,"ion-item",16)(33,"ion-toggle",17),W.iHE("ngModelChange",function(Z){return W.kNx(D.info.open,Z)||(D.info.open=Z),Z}),W.OEk(34),W.C$Y()(),W.yuY(35,b,3,1,"ion-item-divider",3)(36,O,6,6,"ion-item",18)(37,N,3,1,"ion-item",19)(38,R,3,1,"ion-item",19),W.C$Y()),2&S&&(W.yG2(3),W.cNF(D.lang.text.GroupDetail.Title),W.yG2(4),W.E7m("ngIf","missing"!=D.info.status),W.yG2(),W.E7m("ngIf","pending"==D.info.status),W.yG2(),W.E7m("ngIf","missing"==D.info.status),W.yG2(3),W.cNF(D.info.id),W.yG2(2),W.m_g("background-color: "+D.statusBar.colors[D.info.status||"offline"]),W.yG2(2),W.m_g("filter: "+("online"==D.info.status?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),W.E7m("src",D.info.img,W.K6U),W.yG2(6),W.oRS(" ",D.info.name||D.info.title||D.info.display_name," "),W.yG2(2),W.oRS(" ","("+(D.info.server.name||D.info.server.target)+")"," "),W.yG2(2),W.oRS(" ",D.lang.text.AddGroup.ClicktoChangeGroupImg," "),W.yG2(),W.E7m("id",D.file_sel_id),W.yG2(3),W.cNF(D.lang.text.AddGroup.GroupDetail_placeholder),W.yG2(),W.E7m("disabled",!D.has_admin),W.OKB("ngModel",D.info.description),W.E7m("placeholder",D.lang.text.GroupDetail.NoDetailGroup),W.yG2(2),W.OKB("ngModel",D.info.open),W.yG2(),W.cNF(D.lang.text.GroupDetail.IsOpen),W.yG2(),W.E7m("ngIf",D.info.users&&D.info.users.length),W.yG2(),W.E7m("ngForOf",D.info.users),W.yG2(),W.E7m("ngIf",("online"==D.info.status||"pending"==D.info.status)&&D.has_admin),W.yG2(),W.E7m("ngIf",("online"==D.info.status||"pending"==D.info.status)&&!D.has_admin))},dependencies:[d.ay,d.u_,u.ot,u.ue,u._G,y.GS,y._i,y.wB,y.Yb,y.S8,y.QR,y.tM,y.E$,y.Md,y.UJ,y.Im],styles:[".content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle}.server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}"]}),$})()},340:(dn,Pt,he)=>{"use strict";he.d(Pt,{w:()=>k});var v=he(1528),we=he(7136),nt=he(2272),_e=he(5193),o=he(9352),C=he(4496),y=he(3824),_=he(4180),h=he(4668),f=he(4500),E=he(5020),w=he(5624),a=he(9240),l=he(7756),d=he(1368),u=he(4716);const c=["RegisterNewServer"];function s(A,$){if(1&A){const j=C.KQA();C.I0R(0,"ion-item",9),C.qCj("click",function(){C.usT(j);const D=C.GaO(2);return C.CGJ(D.add_dev_test_server())}),C.I0R(1,"ion-label",17),C.OEk(2),C.C$Y()()}if(2&A){const j=C.GaO(2);C.yG2(2),C.cNF(j.lang.text.GroupServer.UseDevTestServer)}}function m(A,$){if(1&A&&(C.I0R(0,"p"),C.OEk(1),C.C$Y()),2&A){const j=C.GaO().$implicit,S=C.GaO(2);C.yG2(),C.cNF(j.useSSL?S.lang.text.GroupServer.useSSL:S.lang.text.GroupServer.NotuseSSL)}}function p(A,$){if(1&A){const j=C.KQA();C.I0R(0,"ion-button",22),C.qCj("click",function(){C.usT(j);const D=C.GaO().$implicit,V=C.GaO(2);return C.CGJ(V.remove_server(D.isOfficial,D.target))}),C.OEk(1),C.C$Y()}if(2&A){const j=C.GaO().$implicit,S=C.GaO(2);C.yG2(),C.oRS(" ","online"==S.statusBar.groupServer[j.isOfficial][j.target]?S.lang.text.GroupServer.RemoveAccount:S.lang.text.GroupServer.RemoveUnofficial," ")}}function b(A,$){if(1&A){const j=C.KQA();C.I0R(0,"ion-item",9),C.qCj("click",function(){const V=C.usT(j).$implicit,Z=C.GaO(2);return C.CGJ(Z.link_group(V.isOfficial,V.target))}),C.wR5(1,"div",18),C.I0R(2,"ion-label",19)(3,"h2"),C.OEk(4),C.C$Y(),C.yuY(5,m,2,1,"p",20),C.C$Y(),C.yuY(6,p,2,1,"ion-button",21),C.C$Y()}if(2&A){const j=$.$implicit,S=C.GaO(2);C.yG2(),C.m_g("background-color: "+S.statusBar.colors[S.statusBar.groupServer[j.isOfficial][j.target]||"offline"]),C.yG2(3),C.cNF(j.name),C.yG2(),C.E7m("ngIf","official"!=j.isOfficial),C.yG2(),C.E7m("ngIf","official"!=j.isOfficial)}}function O(A,$){if(1&A){const j=C.KQA();C.I0R(0,"div",8)(1,"ion-item",9),C.qCj("click",function(){C.usT(j);const D=C.GaO();return C.CGJ(D.toggle_online())}),C.I0R(2,"ion-label",10),C.OEk(3),C.C$Y()(),C.I0R(4,"ion-accordion-group")(5,"ion-accordion",11)(6,"ion-item",12)(7,"ion-label"),C.OEk(8),C.C$Y()(),C.I0R(9,"div",13),C.yuY(10,s,3,1,"ion-item",14)(11,b,7,5,"ion-item",15),C.I0R(12,"ion-item",9),C.qCj("click",function(){C.usT(j);const D=C.GaO();return C.CGJ(D.OpenNewServerForm())}),C.I0R(13,"ion-label",16),C.OEk(14),C.C$Y()()()()()()}if(2&A){const j=C.GaO();C.yG2(3),C.cNF(j.lang.text.Profile.LogOut),C.yG2(5),C.cNF(j.lang.text.GroupServer.JoinedServerList),C.yG2(2),C.E7m("ngIf",j.CanAddTestServer),C.yG2(),C.E7m("ngForOf",j.servers),C.yG2(3),C.cNF(j.lang.text.GroupServer.RegisterServer)}}function N(A,$){if(1&A){const j=C.KQA();C.I0R(0,"ion-content")(1,"ion-item")(2,"ion-label",16),C.OEk(3),C.C$Y()(),C.I0R(4,"ion-item",23)(5,"ion-input",24),C.iHE("ngModelChange",function(D){C.usT(j);const V=C.GaO();return C.kNx(V.dedicated_info.name,D)||(V.dedicated_info.name=D),C.CGJ(D)}),C.C$Y()(),C.I0R(6,"ion-item",23)(7,"ion-input",25),C.iHE("ngModelChange",function(D){C.usT(j);const V=C.GaO();return C.kNx(V.dedicated_info.address,D)||(V.dedicated_info.address=D),C.CGJ(D)}),C.C$Y()(),C.I0R(8,"ion-item",23)(9,"ion-input",26),C.iHE("ngModelChange",function(D){C.usT(j);const V=C.GaO();return C.kNx(V.dedicated_info.key,D)||(V.dedicated_info.key=D),C.CGJ(D)}),C.C$Y()(),C.I0R(10,"ion-item",27),C.qCj("click",function(){C.usT(j);const D=C.GaO();return C.CGJ(D.add_custom_dedicated())}),C.I0R(11,"ion-label",16),C.OEk(12),C.C$Y()()()}if(2&A){const j=C.GaO();C.yG2(3),C.cNF(j.lang.text.GroupServer.RegisterServer),C.yG2(),C.E7m("disabled",j.add_custom_tog),C.yG2(),C.E7m("label",j.lang.text.GroupServer.DisplayName),C.OKB("ngModel",j.dedicated_info.name),C.E7m("placeholder",j.lang.text.GroupServer.DisplayName_placeholder),C.yG2(),C.E7m("disabled",j.add_custom_tog),C.yG2(),C.E7m("label",j.lang.text.GroupServer.Address),C.OKB("ngModel",j.dedicated_info.address),C.yG2(),C.E7m("disabled",j.add_custom_tog),C.yG2(),C.E7m("label",j.lang.text.GroupServer.Key),C.OKB("ngModel",j.dedicated_info.key),C.yG2(),C.E7m("disabled",j.add_custom_tog),C.yG2(2),C.cNF(j.lang.text.GroupServer.submit)}}const R=()=>[.4,.6];let k=(()=>{var A;class ${constructor(S,D,V,Z,H,Q,Y,q,ne,de,xe){this.nakama=S,this.p5toast=D,this.statusBar=V,this.indexed=Z,this.lang=H,this.global=Q,this.loadingCtrl=Y,this.mClipboard=q,this.navCtrl=ne,this.navParams=de,this.modalCtrl=xe,this.session_uid="",this.BackButtonPressed=!1,this.isMobilePWA=!1,this.CanAddTestServer=!1,this.OnlineToggle=!1,this.ShowServerList=!1,this.dedicated_info={name:void 0,address:void 0,target:void 0,port:void 0,useSSL:void 0,isOfficial:void 0,key:void 0},this.add_custom_tog=!1,this.isOverrideButtonPressed=!1,this.announce_update_profile=!0,this.original_profile={},this.file_sel_id="",this.content_sel_id="",this.can_auto_modified=!1}ngOnInit(){if(window.history.pushState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.navCtrl.back())},this.servers=this.nakama.get_all_server_info(!0),this.file_sel_id=`self_profile_${(new Date).getTime()}`,this.content_sel_id=`self_content_${(new Date).getTime()}`,this.original_profile=JSON.parse(JSON.stringify(this.nakama.users.self)),this.nakama.users.self.img||this.indexed.loadTextFromUserPath("servers/self/profile.img",(S,D)=>{S&&D&&(this.nakama.users.self.img=D.replace(/"|\\|=/g,""))}),this.nakama.socket_reactive.profile=S=>{this.p5canvas.ChangeImageSmooth(S)},setTimeout(()=>{this.check_user_content()},150),this.nakama.socket_reactive.self_profile_content_update=()=>{this.update_content_from_server()},this.announce_update_profile=void 0!==this.original_profile.display_name,this.navParams.data.target){let S=this.navParams.get("isOfficial"),D=this.navParams.get("target");try{this.session_uid=this.nakama.servers[S][D].session.user_id}catch{}}}ionViewWillEnter(){this.gsCanvasDiv=document.getElementById("GroupServerCanvasDiv"),this.OnlineToggle=this.nakama.users.self.online,this.p5canvas=new o(S=>{let V,Z,H,Q,q,Y=1,ne="0, 0, 0",de=0,xe=!!this.session_uid;S.setup=()=>{if(xe){let Be=S.color(`#${(this.session_uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}`);ne=`${S.red(Be)}, ${S.green(Be)}, ${S.blue(Be)}`,q=S.createDiv(),q.style("width","100%"),q.style("height","100%"),q.style("background-image",`linear-gradient(to top, rgba(${ne}, 0), rgba(${ne}, 0))`),q.parent(this.gsCanvasDiv)}S.noCanvas(),S.pixelDensity(1);let K=S.createDiv();const L="156px";K.style("width",L),K.style("height",L),K.style("position","absolute"),K.style("top","120px"),K.style("left","50%"),K.style("transform","translateX(-50%)"),K.style("border-radius",L),K.style("background-image","url(assets/data/avatar.svg)"),K.style("background-position","center"),K.style("background-repeat","no-repeat"),K.style("background-size","cover"),K.parent(this.gsCanvasDiv),K.elt.onclick=()=>{this.change_img_from_file()};let re=S.createDiv();const ge="36px";re.style("background-color",this.OnlineToggle?this.statusBar.colors.online:this.statusBar.colors.offline),re.style("width",ge),re.style("height",ge),re.style("position","absolute"),re.style("top","128px"),re.style("left",this.gsCanvasDiv.clientWidth/2+38+"px"),setTimeout(()=>{re.style("left",this.gsCanvasDiv.clientWidth/2+38+"px")},0),re.style("border-radius",ge),re.parent(this.gsCanvasDiv),re.elt.onclick=()=>{this.toggle_online()},S.OnlineLamp=re,H=S.createImg(this.nakama.users.self.img,"profile_img"),H.style("width",L),H.style("height",L),H.style("border-radius",L),H.style("position","absolute"),H.style("object-fit","cover"),this.nakama.users.self.img||H.hide(),H.parent(K),Q=S.createImg(void 0,"before_img"),Q.style("width",L),Q.style("height",L),Q.style("border-radius",L),Q.style("position","absolute"),Q.style("object-fit","cover"),Q.hide(),Q.parent(K),S.ChangeImageSmooth=Be=>{Be?(Q.elt.src=void 0,Q.hide()):(Q.elt.src=H.elt.src,Q.show()),H.elt.src=Be,Y=1,S.loop(),this.nakama.users.self.img=Be,this.sync_to_all_server(),document.getElementById(this.file_sel_id).value="",Be?H.show():H.hide()};let Me=S.createDiv();if(Me.style("width","100%"),Me.style("position","absolute"),Me.style("top","330px"),Me.style("display","flex"),Me.style("flex-direction","column"),Me.parent(this.gsCanvasDiv),V=S.createDiv(this.nakama.users.self.display_name||this.lang.text.Profile.noname_user),V.style("font-size","36px"),V.style("font-weight","bold"),V.style("align-self","center"),V.style("width","80%"),V.style("text-align","center"),V.parent(Me),V.elt.onclick=()=>{Z.value(this.nakama.users.self.display_name?V.html():""),Z.show(),V.hide(),Z.elt.focus()},Z=S.createInput(),Z.style("font-size","36px"),Z.style("margin-top","-3px"),Z.style("font-weight","bold"),Z.style("align-self","center"),Z.style("width","80%"),Z.style("text-align","center"),Z.attribute("placeholder",this.lang.text.Profile.name_placeholder),V.style("text-align","center"),Z.parent(Me),Z.hide(),Z.elt.addEventListener("focusout",()=>{this.nakama.users.self.display_name=Z.value(),V.html(`${Z.value()||this.lang.text.Profile.noname_user}`),Z.hide(),V.show()}),this.session_uid){let Be=S.createDiv(this.session_uid);Be.style("margin-top","36px"),Be.style("color","var(--ion-color-medium)"),Be.style("width","80%"),Be.style("text-align","center"),Be.style("align-self","center"),Be.parent(Me),Be.elt.onclick=()=>{this.copy_id()}}let Ye=S.createDiv();Ye.style("margin-top","60px"),Ye.style("width","80%"),Ye.style("align-self","center"),Ye.style("max-width","384px"),Ye.style("height","180px"),Ye.style("background-color","#8888"),Ye.style("text-align","center"),Ye.style("border-radius","24px"),Ye.style("display","flex"),Ye.style("flex-direction","column"),Ye.parent(Me),S.InputForm=Ye,this.OnlineToggle&&Ye.hide();let et=S.createInput(this.nakama.users.self.email);et.style("align-self","center"),et.id("email_input"),et.style("margin-top","24px"),et.style("width","50%"),et.style("text-align","center"),et.attribute("placeholder","test@example.com"),et.parent(Ye),et.elt.onchange=()=>{this.nakama.users.self.email=et.value(),this.email_modified()},et.elt.onkeypress=Be=>{"Enter"==Be.key&&Oe.elt.focus()};let Oe=S.createInput();Oe.style("margin-top","10px"),Oe.style("align-self","center"),Oe.style("width","50%"),Oe.style("text-align","center"),Oe.attribute("type","password"),Oe.attribute("placeholder",this.lang.text.Profile.at_least),Oe.parent(Ye),Oe.elt.onchange=()=>{this.nakama.users.self.password=Oe.value()},Oe.elt.onkeypress=Be=>{"Enter"==Be.key&&(this.nakama.users.self.password=Oe.value(),Ge.elt.disabled=!0,this.toggle_online())},S.PasswordInput=Oe;let Ge=S.createButton(this.OnlineToggle?this.lang.text.Profile.LogOut:this.lang.text.Profile.login_toggle);Ge.style("margin-top","17px"),Ge.style("align-self","center"),Ge.style("text-align","center"),Ge.style("font-size","24px"),Ge.style("border-radius","16px"),Ge.style("padding","12px 30px"),Ge.parent(Ye),Ge.elt.onclick=()=>{Ge.elt.disabled=!0,this.toggle_online()},S.LoginButton=Ge},S.draw=()=>{Y>0&&(Y-=.025,Q.style("opacity",`${Y}`),H.style("opacity",""+(1-Y))),this.nakama.users.self.online?this.lerpVal<1?this.lerpVal+=.025:this.lerpVal=1:this.lerpVal>0?this.lerpVal-=.025:this.lerpVal=0,xe&&de<1&&(de+=.025),H.style("filter",`grayscale(${S.lerp(.9,0,this.lerpVal)}) contrast(${S.lerp(1.4,1,this.lerpVal)})`),Q.style("filter",`grayscale(${S.lerp(.9,0,this.lerpVal)}) contrast(${S.lerp(1.4,1,this.lerpVal)})`),xe&&q.style("background-image",`linear-gradient(to top, rgba(${ne}, ${S.min(1,de)/2}), rgba(${ne}, 0))`),Y<=0&&(this.lerpVal>=1||this.lerpVal<=0)&&(!xe||de>=1)&&(this.OnlineToggle=this.lerpVal>=1,this.OnlineToggle?(this.p5canvas.InputForm.hide(),S.LoginButton.html(this.lang.text.Profile.LogOut),S.OnlineLamp.style("background-color",this.statusBar.colors.online)):(this.p5canvas.InputForm.show(),this.p5canvas.InputForm.style("display","flex"),S.LoginButton.html(this.lang.text.Profile.login_toggle),S.OnlineLamp.style("background-color",this.statusBar.colors.offline)),this.ShowServerList=this.OnlineToggle,this.p5canvas.PasswordInput.value(""),S.LoginButton.elt.disabled=!1,S.noLoop())},S.windowResized=()=>{S.OnlineLamp.style("left",this.gsCanvasDiv.clientWidth/2+38+"px")}}),this.ShowServerList=this.OnlineToggle,this.nakama.users.self.email||document.getElementById("email_input").focus(),this.CanAddTestServer=0==Object.keys(this.nakama.servers.official).length&&0!=Object.keys(this.nakama.servers.unofficial).length,this.isMobilePWA="MobilePWA"==_e.s1}add_dev_test_server(){var S=this;return(0,v.c)(function*(){S.CanAddTestServer=!(yield S.nakama.WatchAdsAndGetDevServerInfo(!0)),S.servers=S.nakama.get_all_server_info(!0)})()}link_group(S,D){if(this.isOverrideButtonPressed)this.isOverrideButtonPressed=!1;else if("offline"==this.statusBar.groupServer[S][D])this.nakama.link_group(S,D);else try{this.nakama.servers[S][D].socket.disconnect(!0)}catch{this.nakama.OnSocketDisconnect(S,D)}}add_custom_dedicated(){if(this.add_custom_tog)return;if(!this.dedicated_info.name)return void this.p5toast.show({text:this.lang.text.GroupServer.NeedSetDIsplayName});this.add_custom_tog=!0;let S=(this.dedicated_info.address||"192.168.0.1").split(":");this.dedicated_info.address=S[0],this.dedicated_info.port=Number(S[1])||7350,this.dedicated_info.useSSL="https:"==window.location.protocol&&!_e.O$,this.dedicated_info.useSSL=this.dedicated_info.useSSL||!!this.dedicated_info.address.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,""),this.dedicated_info.key=this.dedicated_info.key||"defaultkey",this.nakama.add_group_server(this.dedicated_info,()=>{this.servers=this.nakama.get_all_server_info(!0),this.link_group(this.dedicated_info.isOfficial,this.dedicated_info.target),this.dedicated_info.name=void 0,this.dedicated_info.address=void 0,this.dedicated_info.target=void 0,this.dedicated_info.port=void 0,this.dedicated_info.key=void 0,this.dedicated_info.useSSL=void 0,this.dedicated_info.isOfficial=void 0}),this.RegisterNewServer.dismiss(),setTimeout(()=>{this.add_custom_tog=!1},1e3)}remove_server(S,D){var V=this;return(0,v.c)(function*(){V.isOverrideButtonPressed=!0;try{yield V.nakama.remove_server(S,D)}catch(Z){console.log("\uc11c\ubc84 \uc0ad\uc81c \uc624\ub958: ",Z)}V.servers=V.nakama.get_all_server_info(!0)})()}ionViewWillLeave(){var S=this;return(0,v.c)(function*(){delete S.global.p5key.KeyShortCut.Escape,S.nakama.on_socket_disconnected.group_unlink_by_user&&delete S.nakama.on_socket_disconnected.group_unlink_by_user,delete S.nakama.socket_reactive.profile,delete S.nakama.socket_reactive.self_profile_content_update;let D=Object.keys(S.nakama.users.self),V=!1;for(let Z=0,H=D.length;Z<H;Z++)if("img"!=D[Z]&&S.nakama.users.self[D[Z]]!=S.original_profile[D[Z]]){V=!0;break}if(S.nakama.users.self.img=S.tmp_img||S.nakama.users.self.img,V){let Z=S.nakama.get_all_online_server();for(let H=0,Q=Z.length;H<Q;H++){let Y=!1;if(S.nakama.users.self.display_name!=S.original_profile.display_name&&(yield Z[H].client.updateAccount(Z[H].session,{display_name:S.nakama.users.self.display_name}).then(function(){var q=(0,v.c)(function*(ne){Y=!0;try{yield Z[H].socket.sendMatchState(S.nakama.self_match[Z[H].info.isOfficial][Z[H].info.target].match_id,we.i.EDIT_PROFILE,encodeURIComponent("info"))}catch{}});return function(ne){return q.apply(this,arguments)}}())),Y&&S.nakama.channels_orig[Z[H].info.isOfficial][Z[H].info.target]){let q=Object.keys(S.nakama.channels_orig[Z[H].info.isOfficial][Z[H].info.target]);q&&q.forEach(ne=>{S.announce_update_profile&&Z[H].socket.writeChatMessage(ne,{user_update:"modify_data",noti_form:S.original_profile.display_name==S.nakama.users.self.display_name?`: ${S.original_profile.display_name}`:`: ${S.original_profile.display_name} -> ${S.nakama.users.self.display_name}`})})}}S.nakama.save_self_profile()}S.p5canvas.remove()})()}check_user_content(){var S=this;return(0,v.c)(function*(){try{if(!(yield S.indexed.checkIfFileExist("servers/self/content.pck")))throw"\ub85c\uceec\uc5d0 \uc900\ube44\ub41c \ud30c\uc77c \uc5c6\uc74c";yield S.global.CreateGodotIFrame("my_content",{ext:"pck",path:"servers/self/content.pck"})}catch(D){console.log("check_user_content: ",D),S.update_content_from_server()}})()}update_content_from_server(){var S=this;return(0,v.c)(function*(){let D={path:"servers/self/content.pck"},V=S.nakama.get_all_online_server(),Z=!1;for(let H=0,Q=V.length;H<Q;H++)try{Z=!!(yield S.nakama.sync_load_file(D,V[H].info.isOfficial,V[H].info.target,"user_public",V[H].session.user_id,"main_content"));break}catch(Y){console.log("update_content_from_server: ",Y);continue}Z&&(S.global.godot.remove(),yield S.global.CreateGodotIFrame("my_content",{ext:"pck",path:"servers/self/content.pck"}))})()}change_content(){document.getElementById(this.content_sel_id).click()}inputFileSelected(S){var D=this;return(0,v.c)(function*(){if(S.target.files.length){D.global.godot.remove();let V={};if(V.filename=S.target.files[0].name,V.file_ext=S.target.files[0].name.split(".").pop()||S.target.files[0].type||D.lang.text.ChatRoom.unknown_ext,"pck"!=V.file_ext)return void D.p5toast.show({text:D.lang.text.EngineWorksPPT.FileExtPck});V.size=S.target.files[0].size,V.type=S.target.files[0].type,V.typeheader=S.target.files[0].type.split("/")[0];let Z=yield D.loadingCtrl.create({message:D.lang.text.TodoDetail.WIP});V.blob=S.target.files[0],V.path="servers/self/content.pck",Z.present();let H=D.nakama.get_all_online_server();if(H.length)for(let Q=0,Y=H.length;Q<Y;Q++)try{yield D.nakama.sync_save_file(V,H[Q].info.isOfficial,H[Q].info.target,"user_public","main_content"),yield H[Q].socket.sendMatchState(D.nakama.self_match[H[Q].info.isOfficial][H[Q].info.target].match_id,we.i.EDIT_PROFILE,encodeURIComponent("content"));let q=Object.keys(D.nakama.channels_orig[H[Q].info.isOfficial][H[Q].info.target]);q&&q.forEach(ne=>{D.announce_update_profile&&H[Q].socket.writeChatMessage(ne,{user_update:"modify_content",noti_form:`: ${D.original_profile.display_name}`})})}catch(q){console.log("inputFileSelected: ",q);continue}else yield D.indexed.saveBlobToUserPath(S.target.files[0],V.path);Z.dismiss(),yield D.global.CreateGodotIFrame("my_content",{ext:"pck",path:"servers/self/content.pck"})}})()}remove_content(){var S=this;return(0,v.c)(function*(){yield S.indexed.removeFileFromUserPath("servers/self/content.pck");let Z,D=S.nakama.get_all_online_server(),V=D.length;V&&(Z=yield S.loadingCtrl.create({message:S.lang.text.TodoDetail.WIP}),Z.present());for(let H=0,Q=D.length;H<Q;H++){try{let q=(yield D[H].client.readStorageObjects(D[H].session,{object_ids:[{collection:"user_public",key:"main_content",user_id:D[H].session.user_id}]})).objects[0].value;for(let ne=0,de=q.partsize;ne<de;ne++)yield D[H].client.deleteStorageObjects(D[H].session,{object_ids:[{collection:"user_public",key:`main_content_${ne}`}]});yield D[H].client.deleteStorageObjects(D[H].session,{object_ids:[{collection:"user_public",key:"main_content"}]})}catch(Y){console.log("remove_content: ",Y)}try{let Y=Object.keys(S.nakama.channels_orig[D[H].info.isOfficial][D[H].info.target]);Y.length&&Y.forEach(q=>{"missing"!=S.nakama.channels_orig[D[H].info.isOfficial][D[H].info.target][q].status&&S.announce_update_profile&&D[H].socket.writeChatMessage(q,{user_update:"remove_content",noti_form:`: ${S.original_profile.display_name}`})})}catch(Y){console.log("\ubcc0\uacbd\uc744 \uc54c\ub9b4 \ucc44\ub110 \uc5c6\uc74c: ",Y)}yield D[H].socket.sendMatchState(S.nakama.self_match[D[H].info.isOfficial][D[H].info.target].match_id,we.i.EDIT_PROFILE,encodeURIComponent("content"))}S.global.godot.remove(),V&&Z.dismiss()})()}sync_to_all_server(){var S=this;let D=this.nakama.get_all_online_server();this.nakama.save_self_profile(),this.indexed.saveTextFileToUserPath(JSON.stringify(this.nakama.users.self.img),"servers/self/profile.img"),this.tmp_img="";for(let V=0,Z=D.length;V<Z;V++)D[V].client.writeStorageObjects(D[V].session,[{collection:"user_public",key:"profile_image",value:{img:this.nakama.users.self.img},permission_read:2,permission_write:1}]).then(function(){var H=(0,v.c)(function*(Q){try{yield D[V].socket.sendMatchState(S.nakama.self_match[D[V].info.isOfficial][D[V].info.target].match_id,we.i.EDIT_PROFILE,encodeURIComponent("image"))}catch{}yield D[V].client.updateAccount(D[V].session,{avatar_url:Q.acks[0].version})});return function(Q){return H.apply(this,arguments)}}()).catch(H=>{console.error("inputImageSelected_err: ",H)})}change_img_from_file(){var S=this;return(0,v.c)(function*(){if(S.nakama.users.self.img)S.p5canvas.ChangeImageSmooth();else try{let D=yield nt.c.read();yield S.check_if_clipboard_available(D)}catch{try{let V=yield S.mClipboard.paste();yield S.check_if_clipboard_available(V)}catch{document.getElementById(S.file_sel_id).click()}}})()}inputImageSelected(S){var D=this;return(0,v.c)(function*(){let V=setInterval(()=>{},110);setTimeout(()=>{clearInterval(V)},1500);let Z=yield D.global.GetBase64ThroughFileReader(S.target.files[0]);D.nakama.limit_image_size(Z,H=>{D.p5canvas.ChangeImageSmooth(H.canvas.toDataURL())})})()}ionViewDidEnter(){this.can_auto_modified=!0,this.global.p5key.KeyShortCut.Escape=()=>{this.navCtrl.pop()}}email_modified(){this.can_auto_modified&&(this.nakama.users.self.online&&this.toggle_online(),this.nakama.users.self.online=!1,delete this.nakama.users.self.password,this.p5canvas.PasswordInput.value(""))}toggle_online(){var S=this;return(0,v.c)(function*(){if(S.OnlineToggle=!S.OnlineToggle,S.nakama.users.self.online=S.OnlineToggle,S.OnlineToggle){S.announce_update_profile=!1;try{if(!S.nakama.users.self.email)throw S.p5toast.show({text:S.lang.text.Profile.need_email}),"\uc774\uba54\uc77c \uacf5\ubc31";if(!S.nakama.users.self.password)throw S.p5toast.show({text:S.lang.text.Profile.need_password}),"\ube44\ubc00\ubc88\ud638 \uacf5\ubc31";S.nakama.save_self_profile(),yield S.nakama.init_all_sessions(),S.servers.length||(yield S.nakama.WatchAdsAndGetDevServerInfo(),S.servers=S.nakama.get_all_server_info(!0))}catch{S.nakama.users.self.online=!1,S.OnlineToggle=!1}}else S.nakama.logout_all_server(),delete S.nakama.users.self.password,S.nakama.save_groups_with_less_info(),S.nakama.rearrange_channels();S.p5canvas.loop()})()}check_if_clipboard_available(S){var D=this;return(0,v.c)(function*(){try{if(0!=S.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((V,Z)=>{let H=document.createElement("img");H.src=S,H.onload=()=>{D.p5canvas.ChangeImageSmooth(S),H.remove(),V(void 0)},H.onerror=()=>{H.remove(),Z()}})}catch{try{if(0!=S.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";D.nakama.limit_image_size(S,Z=>D.p5canvas.ChangeImageSmooth(Z.canvas.toDataURL()))}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}OpenNewServerForm(){this.RegisterNewServer.present()}copy_id(){this.mClipboard.copy(this.session_uid).catch(S=>nt.c.write(this.session_uid))}go_back(){var S=this;return(0,v.c)(function*(){try{yield S.modalCtrl.dismiss()}catch{}})()}}return(A=$).\u0275fac=function(S){return new(S||A)(C.GI1(we.h),C.GI1(y.O),C.GI1(_.Y),C.GI1(h.k),C.GI1(f.o),C.GI1(E.A1),C.GI1(w.Kg),C.GI1(l._),C.GI1(a.wX),C.GI1(a.a6),C.GI1(w.qS))},A.\u0275cmp=C.In1({type:A,selectors:[["app-group-server"]],viewQuery:function(S,D){if(1&S&&C.CC$(c,5),2&S){let V;C.wto(V=C.Gqi())&&(D.RegisterNewServer=V.first)}},decls:13,vars:6,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","GroupServerCanvasDiv",2,"position","absolute","width","100%","height","100%","display","flex"],["style","position: absolute; bottom: 0; width: 100%;",4,"ngIf"],["hidden","","type","file","accept","image/*",3,"id","change"],[3,"initialBreakpoint","breakpoints"],["RegisterNewServer",""],[2,"position","absolute","bottom","0","width","100%"],["button","",3,"click"],["color","warning",1,"ion-text-center"],["value","open"],["button","","slot","header"],["slot","content"],["button","",3,"click",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],[1,"ion-text-center"],["color","secondary"],[1,"additional_form","status_bar_single"],[1,"form_margin"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],["button","",3,"disabled"],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"disabled","click"]],template:function(S,D){1&S&&(C.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),C.OEk(3),C.C$Y(),C.I0R(4,"ion-buttons",1),C.qCj("click",function(){return D.go_back()}),C.wR5(5,"ion-back-button",2),C.C$Y()()(),C.I0R(6,"ion-content"),C.wR5(7,"div",3),C.yuY(8,O,15,5,"div",4),C.I0R(9,"input",5),C.qCj("change",function(Z){return D.inputImageSelected(Z)}),C.C$Y(),C.I0R(10,"ion-modal",6,7),C.yuY(12,N,13,13,"ng-template"),C.C$Y()()),2&S&&(C.yG2(3),C.cNF(D.lang.text.Settings.groupServer),C.yG2(5),C.E7m("ngIf",D.ShowServerList),C.yG2(),C.E7m("id",D.file_sel_id),C.yG2(),C.E7m("initialBreakpoint",D.isMobilePWA?.6:.4)("breakpoints",C.q4q(5,R)))},dependencies:[d.ay,d.u_,u.ue,u._G,w.cm,w.qU,w.sn,w.GS,w._i,w.wB,w.A5,w.Yb,w.QR,w.tM,w.Md,w.yc,w.qG,w.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),$})()},9404:(dn,Pt,he)=>{"use strict";he.d(Pt,{E:()=>c});var v=he(1528),we=he(2272),nt=he(5193),_e=he(4496),o=he(5624),W=he(9240),C=he(4500),y=he(3824),_=he(4180),h=he(4668),f=he(7136),E=he(5020),w=he(7756),a=he(1368),l=he(4716);const d=["ServerDetailuseSSL"];function u(s,m){if(1&s){const p=_e.KQA();_e.I0R(0,"img",14),_e.qCj("click",function(){_e.usT(p);const O=_e.GaO();return _e.CGJ(O.copy_startup_address())}),_e.C$Y()}if(2&s){const p=_e.GaO();_e.E7m("src",p.QRCodeSRC,_e.K6U)}}let c=(()=>{var s;class m{constructor(b,O,N,R,k,A,$,j,S){this.modalCtrl=b,this.navParams=O,this.lang=N,this.p5toast=R,this.statusBar=k,this.indexed=A,this.nakama=$,this.global=j,this.mClipboard=S,this.isTargetAlreadyExist=!0,this.index=0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let b={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete b.address,"defaultkey"==this.dedicated_info.key&&delete b.key,7350==this.dedicated_info.port&&delete b.port,this.dedicated_info.useSSL||delete b.useSSL,this.QRCodeSRC=this.global.readasQRCodeFromString(`${nt.uM}pjcone_pwa/?server=${b.name||""},${b.address||""},${b.useSSL?"true":""},${b.port||7350},${b.key||""}`),this.isTargetAlreadyExist=!!this.statusBar.groupServer.unofficial[this.dedicated_info.target]}ionViewDidEnter(){this.ServerDetailuseSSL.checked=this.dedicated_info.useSSL}copy_startup_address(){let b=`https://is2you2.github.io/pjcone_pwa/?server=${this.dedicated_info.name||""},${this.dedicated_info.address||""},${this.dedicated_info.useSSL||""},${this.dedicated_info.port||""},${this.dedicated_info.key||""}&open_profile=true`;this.mClipboard.copy(b).catch(O=>we.c.write(b))}apply_changed_info(){var b=this;return(0,v.c)(function*(){if(!b.dedicated_info.name)return void b.p5toast.show({text:b.lang.text.GroupServer.NeedSetDIsplayName});b.dedicated_info.target=b.dedicated_info.target||b.dedicated_info.name,b.dedicated_info.address=b.dedicated_info.address||"192.168.0.1",b.dedicated_info.port=b.dedicated_info.port||7350,b.dedicated_info.useSSL=b.ServerDetailuseSSL.checked||!1,b.dedicated_info.isOfficial=b.dedicated_info.isOfficial||"unofficial",b.dedicated_info.key=b.dedicated_info.key||"defaultkey";let O=(new Date).getTime().toString();O+=`,${b.dedicated_info.isOfficial}`,O+=`,${b.dedicated_info.name}`,O+=`,${b.dedicated_info.target}`,O+=`,${b.dedicated_info.address}`,O+=`,${b.dedicated_info.port}`,O+=`,${b.dedicated_info.useSSL}`;let N=yield b.indexed.loadTextFromUserPath("servers/list_detail.csv"),R=[];if(N&&(R=N.split("\n")),b.isTargetAlreadyExist)for(let k=0,A=R.length;k<A;k++)if(R[k].split(",")[3]==b.dedicated_info.target){R.splice(k,1);break}R.push(O),yield b.indexed.saveTextFileToUserPath(R.join("\n"),"servers/list_detail.csv"),b.nakama.init_server(b.dedicated_info),b.nakama.servers[b.dedicated_info.isOfficial][b.dedicated_info.target].info={...b.dedicated_info};try{b.nakama.servers[b.dedicated_info.isOfficial][b.dedicated_info.target].socket.disconnect(!0)}catch{}b.modalCtrl.dismiss()})()}}return(s=m).\u0275fac=function(b){return new(b||s)(_e.GI1(o.qS),_e.GI1(W.a6),_e.GI1(C.o),_e.GI1(y.O),_e.GI1(_.Y),_e.GI1(h.k),_e.GI1(f.h),_e.GI1(E.A1),_e.GI1(w._))},s.\u0275cmp=_e.In1({type:s,selectors:[["app-server-detail"]],viewQuery:function(b,O){if(1&b&&_e.CC$(d,5),2&b){let N;_e.wto(N=_e.Gqi())&&(O.ServerDetailuseSSL=N.first)}},decls:31,vars:19,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["button",""],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["type","number","placeholder","7350",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"click"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["ServerDetailuseSSL",""],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto",3,"src","click"]],template:function(b,O){1&b&&(_e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),_e.OEk(3),_e.C$Y(),_e.I0R(4,"ion-buttons",1),_e.qCj("click",function(){return O.modalCtrl.dismiss()}),_e.wR5(5,"ion-back-button",2),_e.C$Y()()(),_e.I0R(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),_e.OEk(9),_e.C$Y()(),_e.yuY(10,u,1,1,"img",3),_e.I0R(11,"ion-item-divider")(12,"ion-label"),_e.OEk(13,"\uc11c\ubc84 \uc124\uc815"),_e.C$Y()(),_e.I0R(14,"ion-item",4)(15,"ion-input",5),_e.iHE("ngModelChange",function(R){return _e.kNx(O.dedicated_info.name,R)||(O.dedicated_info.name=R),R}),_e.C$Y()(),_e.I0R(16,"ion-item",6)(17,"ion-input",5),_e.iHE("ngModelChange",function(R){return _e.kNx(O.dedicated_info.target,R)||(O.dedicated_info.target=R),R}),_e.C$Y()(),_e.I0R(18,"ion-item",4)(19,"ion-input",7),_e.iHE("ngModelChange",function(R){return _e.kNx(O.dedicated_info.address,R)||(O.dedicated_info.address=R),R}),_e.C$Y()(),_e.I0R(20,"ion-item",4)(21,"ion-input",8),_e.iHE("ngModelChange",function(R){return _e.kNx(O.dedicated_info.key,R)||(O.dedicated_info.key=R),R}),_e.C$Y()(),_e.I0R(22,"ion-item",4)(23,"ion-input",9),_e.iHE("ngModelChange",function(R){return _e.kNx(O.dedicated_info.port,R)||(O.dedicated_info.port=R),R}),_e.C$Y()(),_e.I0R(24,"ion-item",10),_e.qCj("click",function(){return O.dedicated_info.useSSL=!O.dedicated_info.useSSL}),_e.I0R(25,"ion-toggle",11,12),_e.iHE("ngModelChange",function(R){return _e.kNx(O.dedicated_info.useSSL,R)||(O.dedicated_info.useSSL=R),R}),_e.OEk(27),_e.C$Y()(),_e.I0R(28,"ion-item",10),_e.qCj("click",function(){return O.apply_changed_info()}),_e.I0R(29,"ion-label",13),_e.OEk(30),_e.C$Y()()()),2&b&&(_e.yG2(3),_e.cNF(O.lang.text.GroupServer.ServerDetail),_e.yG2(6),_e.cNF(O.lang.text.ServerDetail.copy_scan_below),_e.yG2(),_e.E7m("ngIf",O.QRCodeSRC),_e.yG2(5),_e.E7m("label",O.lang.text.GroupServer.DisplayName),_e.OKB("ngModel",O.dedicated_info.name),_e.E7m("placeholder",O.lang.text.GroupServer.DisplayName_placeholder),_e.yG2(),_e.E7m("disabled",O.isTargetAlreadyExist),_e.yG2(),_e.E7m("label",O.lang.text.GroupServer.DivisionName),_e.OKB("ngModel",O.dedicated_info.target),_e.E7m("placeholder",O.dedicated_info.name||O.lang.text.GroupServer.DivisionName_placeholder),_e.yG2(2),_e.E7m("label",O.lang.text.GroupServer.Address),_e.OKB("ngModel",O.dedicated_info.address),_e.yG2(2),_e.E7m("label",O.lang.text.GroupServer.Key),_e.OKB("ngModel",O.dedicated_info.key),_e.yG2(2),_e.E7m("label",O.lang.text.GroupServer.Port),_e.OKB("ngModel",O.dedicated_info.port),_e.yG2(2),_e.OKB("ngModel",O.dedicated_info.useSSL),_e.yG2(2),_e.cNF(O.lang.text.GroupServer.isSSL),_e.yG2(3),_e.cNF(O.lang.text.ServerDetail.ApplyChangeServerInfo))},dependencies:[a.u_,l.ue,l._G,o.GS,o._i,o.wB,o.A5,o.Yb,o.S8,o.QR,o.tM,o.E$,o.Md,o.UJ,o.Ch,o.qG,o.Im],styles:[".icon_style[_ngcontent-%COMP%]{width:22px;height:22px;transform:translateY(2px);margin-left:4px;margin-right:4px}"]}),m})()},1052:(dn,Pt,he)=>{"use strict";he.d(Pt,{S:()=>E});var v=he(1528),we=he(9352),_e=he(5193),o=he(4496),W=he(4500),C=he(5624),y=he(9240),_=he(5020),h=he(4668),f=he(3824);let E=(()=>{var w;class a{constructor(d,u,c,s,m,p,b,O){this.lang=d,this.modalCtrl=u,this.alertCtrl=c,this.loadingCtrl=s,this.global=m,this.navParams=p,this.indexed=b,this.p5toast=O,this.BackButtonPressed=!1,this.EventListenerAct=N=>{N.detail.register(130,R=>{})},this.isMobile=!1,this.isCropMode=!1,this.WithoutSave=!0}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){this.InitBrowserBackButtonOverride()}ionViewDidEnter(){var d=this;return(0,v.c)(function*(){d.AddShortCut(),document.addEventListener("ionBackButton",d.EventListenerAct),d.mainLoading=yield d.loadingCtrl.create({message:d.lang.text.voidDraw.UseThisImage}),d.create_new_canvas({width:d.navParams.data.width,height:d.navParams.data.height,path:d.navParams.data.path}),d.isMobile="DesktopPWA"!=_e.s1})()}AddShortCut(){delete this.global.p5key.KeyShortCut.Digit,this.global.p5key.KeyShortCut.HistoryAct=d=>{switch(d){case"Z":this.p5voidDraw.history_act(-1);break;case"X":this.p5voidDraw.history_act(1);break;case"C":this.isCropMode?this.p5voidDraw.apply_crop():this.p5voidDraw.change_color();break;case"V":this.p5voidDraw.set_line_weight()}},this.global.p5key.KeyShortCut.AddAct=()=>{this.p5toast.show({text:this.lang.text.voidDraw.Preparing})},this.global.p5key.KeyShortCut.SKeyAct=()=>{this.open_crop_tool()},this.global.p5key.KeyShortCut.DeleteAct=()=>{this.isCropMode?this.p5voidDraw.apply_crop():this.dismiss_draw()},this.global.p5key.KeyShortCut.FKeyAct=()=>{}}create_new_canvas(d){var u=this;return(0,v.c)(function*(){d.width=d.width||432,d.height=d.height||432,u.p5voidDraw&&u.p5voidDraw.remove(),u.create_p5voidDraw(d)})()}waiting(d){return new Promise(u=>setTimeout(()=>{u(void 0)},d))}create_p5voidDraw(d){var u=this;let c=document.getElementById("voidDraw");this.isCropMode=!1,this.p5voidDraw=new we(s=>{let m,p,b,O,N,R,k,A,$=s.createColorPicker("#000"),j=Math.min(d.width,d.height)/100,S=1,V=[];s.setup=(0,v.c)(function*(){s.pixelDensity(1),s.noLoop(),s.noFill(),s.imageMode(s.CENTER),O=s.createCanvas(c.clientWidth,c.clientHeight),O.parent(c),H.x=s.width/2,H.y=s.height/2,s.set_line_weight=()=>{u.alertCtrl.create({header:u.lang.text.voidDraw.changeWeight,inputs:[{label:u.lang.text.voidDraw.weight,name:"weight",placeholder:`${S}`,type:"number"}],buttons:[{text:u.lang.text.voidDraw.apply,handler:Dt=>{Dt.weight&&(S=Number(Dt.weight))}}]}).then(Dt=>{an=!1,Dt.onWillDismiss().then(()=>{an=!0}),Dt.present()})},s.change_color=()=>{$.elt.click()},s.save_image=()=>{new we(Dt=>{Dt.setup=()=>{let Gt=Dt.createCanvas(m.width,m.height);Dt.pixelDensity(1),b&&Dt.image(b,0,0),m&&Dt.image(m,0,0);let rn=Gt.elt.toDataURL("image/png").replace("image/png","image/octet-stream");u.modalCtrl.dismiss({name:`voidDraw_${Dt.year()}-${Dt.nf(Dt.month(),2)}-${Dt.nf(Dt.day(),2)}_${Dt.nf(Dt.hour(),2)}-${Dt.nf(Dt.minute(),2)}-${Dt.nf(Dt.second(),2)}.png`,img:rn,loadingCtrl:u.mainLoading}),Dt.remove()}})},s.history_act=Dt=>{switch(xe=s.min(s.max(0,xe+Dt),s.DrawingStack.length),Dt){case 1:s.DrawingStack.length&&(k.style.fill="var(--ion-color-dark)"),xe==s.DrawingStack.length&&(A.style.fill="var(--ion-color-medium)"),L(m,s.DrawingStack[xe-1]);break;case-1:s.DrawingStack.length&&(A.style.fill="var(--ion-color-dark)"),xe<1?(k.style.fill="var(--ion-color-medium)",m.clear(255,255,255,255),s.redraw()):K()}},s.open_crop_tool=()=>{u.isCropMode?(u.isCropMode=!1,s.redraw()):(u.isCropMode=!0,de.x=m.width,de.y=m.height,ne.x=0,ne.y=0,s.redraw())},s.apply_crop=()=>{u.isMobile&&ne.div(Q),m.resizeCanvas(de.x,de.y),p=s.createVector(m.width/2,m.height/2),q.sub(ne),K(),b.resizeCanvas(de.x,de.y),b.push(),b.background(255),b.translate(q),s.BaseImage&&b.image(s.BaseImage,0,0),V&&Z(),b.pop(),b.redraw(),u.isCropMode=!1,s.SetCanvasViewportInit()},N=s.createElement("table"),N.style("position: absolute; top: 0px;"),N.style(`width: 100%; height: ${ge}px;`),N.style("background-color: var(--voidDraw-menu-background);"),N.parent(c);let Ut=N.elt.insertRow(0),lt=Ut.insertCell(0);lt.innerHTML='<ion-icon id="AddTextIcon" style="width: 27px; height: 27px" name="text"></ion-icon>',document.getElementById("AddTextIcon").style.fill="var(--ion-color-medium)",lt.style.textAlign="center",lt.style.cursor="pointer",lt.onclick=()=>{u.p5toast.show({text:u.lang.text.voidDraw.Preparing})};let Nt=Ut.insertCell(1);Nt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="crop"></ion-icon>',Nt.style.textAlign="center",Nt.style.cursor="pointer",Nt.onclick=()=>{u.open_crop_tool()};let _t=Ut.insertCell(2);_t.innerHTML='<ion-icon style="width: 27px; height: 27px" name="checkmark"></ion-icon>',_t.style.textAlign="center",_t.style.cursor="pointer",_t.onclick=()=>{u.dismiss_draw()},R=s.createElement("table"),R.style("position: absolute; bottom: 0px;"),R.style(`width: 100%; height: ${ge}px;`),R.style("background-color: var(--voidDraw-menu-background);"),R.parent(c);let Pe=R.elt.insertRow(0),Fe=Pe.insertCell(0);Fe.innerHTML='<ion-icon id="undoIcon" style="width: 27px; height: 27px" name="arrow-undo"></ion-icon>',k=document.getElementById("undoIcon"),k.style.fill="var(--ion-color-medium)",Fe.style.textAlign="center",Fe.style.cursor="pointer",Fe.onclick=()=>{u.p5voidDraw.history_act(-1)};let Ie=Pe.insertCell(1);Ie.innerHTML='<ion-icon id="redoIcon" style="width: 27px; height: 27px" name="arrow-redo"></ion-icon>',A=document.getElementById("redoIcon"),A.style.fill="var(--ion-color-medium)",Ie.style.textAlign="center",Ie.style.cursor="pointer",Ie.onclick=()=>{u.p5voidDraw.history_act(1)};let Ze=Pe.insertCell(2);$.parent(Ze),Ze.style.textAlign="center",Ze.style.cursor="pointer",Ze.onclick=()=>{$.elt.click()};let wt=Pe.insertCell(3);if(wt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="pencil"></ion-icon>',wt.style.textAlign="center",wt.style.cursor="pointer",wt.onclick=()=>{u.change_line_weight()},s.SetCanvasViewportInit=()=>{O.hide(),s.resizeCanvas(c.clientWidth,c.clientHeight),Y.x=s.width/2,Y.y=s.height/2,H.x=0,H.y=0;let Dt=c.clientHeight-112;Q=c.clientWidth/Dt<m.width/m.height?c.clientWidth/m.width:Dt/m.height,O.show(),s.redraw()},m=s.createGraphics(d.width,d.height),p=s.createVector(m.width/2,m.height/2),m.pixelDensity(1),m.noLoop(),m.noFill(),s.ActualCanvas=m,b=s.createGraphics(d.width,d.height),b.pixelDensity(1),b.noLoop(),b.noFill(),b.background(255),V=u.navParams.get("text"),V&&Z(),s.ImageCanvas=b,d.path){let Dt=yield u.indexed.loadBlobFromUserPath(d.path,""),Gt=URL.createObjectURL(Dt);s.loadImage(Gt,rn=>{s.BaseImage=rn,b.image(s.BaseImage,0,0),b.redraw(),URL.revokeObjectURL(Gt),s.SetCanvasViewportInit()},rn=>{console.error("\uadf8\ub9bc\ud310 \ubc30\uacbd \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",rn),b.redraw(),URL.revokeObjectURL(Gt),s.SetCanvasViewportInit()})}else b.redraw(),s.SetCanvasViewportInit();d.width<d.height&&(j/=Q)});let Z=()=>{b.push(),b.textSize(16),b.textWrap(s.CHAR),b.fill(0);for(let Ut=0,lt=V.length;Ut<lt;Ut++)b.text(V[Ut],0,24*Ut,d.width||432);b.pop()},H=s.createVector(),Q=1,Y=s.createVector(0,0),q=s.createVector(),ne=s.createVector(),de=s.createVector();s.draw=()=>{if(s.clear(255,255,255,255),s.push(),s.translate(Y),s.scale(Q),s.translate(H),s.image(b,0,0),s.image(b,0,0),m&&s.image(b,0,0),m&&s.image(m,0,0),this.isCropMode)s.push(),s.translate(-m.width/2,-m.height/2),s.translate(ne),s.noStroke(),s.fill(0,100),s.rect(0,0,de.x,de.y),s.stroke(255,0,0),s.strokeWeight(8),s.beginShape(s.LINES),s.vertex(0,0),s.vertex(de.x,0),s.vertex(de.x,0),s.vertex(de.x,.8*de.y),s.vertex(0,0),s.vertex(0,de.y),s.vertex(0,de.y),s.vertex(.8*de.x,de.y),s.stroke(255,255,0),s.vertex(.8*de.x,de.y),s.vertex(de.x,de.y),s.vertex(de.x,.8*de.y),s.vertex(de.x,de.y),s.endShape(),s.pop();else if(re&&re.pos&&re.pos.length){s.push(),s.translate(q),s.stroke(re.color),s.strokeWeight(re.weight),s.beginShape();for(let Ut=0,lt=re.pos.length;Ut<lt;Ut++)s.curveVertex(re.pos[Ut].x-p.x,re.pos[Ut].y-p.y);s.endShape(),s.pop()}s.pop()},s.DrawingStack=[];let xe=0,K=()=>{m.clear(255,255,255,255);for(let Ut=0;Ut<xe;Ut++)L(m,s.DrawingStack[Ut])},L=(Ut,lt=re)=>{if(lt.color){Ut.push(),Ut.translate(q),Ut.stroke(lt.color),Ut.strokeWeight(lt.weight),Ut.beginShape();for(let Nt=0,_t=lt.pos.length;Nt<_t;Nt++)Ut.curveVertex(lt.pos[Nt].x,lt.pos[Nt].y);Ut.endShape(),Ut.pop(),Ut.redraw(),s.redraw()}};s.windowResized=()=>{setTimeout(()=>{s.SetCanvasViewportInit()},0)};let re={};const ge=56;let Me,Le,Ye,et,Ge,Be,Qe,Oe=0,Ae=!1,Ke=!1;s.mousePressed=Ut=>{if(an){if(s.mouseY<ge||s.mouseY>s.height-ge)return void(Ke=!0);switch(Ut.which){case 1:this.isCropMode?vt():mt();break;case 3:Le=s.createVector(s.mouseX,s.mouseY),Be=H.copy(),Me=s.createVector(s.mouseX,s.mouseY);break;case 2:s.SetCanvasViewportInit()}}};let vt=(Ut,lt)=>{let Nt=jt(Ut,lt),_t=ne.copy().add(de).sub(s.createVector(m.width/2,m.height/2)),Pe=Nt.dist(_t),Fe=.2*s.max(m.width,m.height);Ae=Pe<Fe,Ae?(et=s.createVector(s.mouseX,s.mouseY),Qe=de.copy()):Ye=s.createVector(s.mouseX,s.mouseY).sub(ne.mult(Q))},mt=(Ut,lt)=>{k.style.fill="var(--ion-color-dark)",A.style.fill="var(--ion-color-medium)";let Nt=jt(Ut,lt);Nt.sub(q),Nt.add(p);let _t={x:Nt.x,y:Nt.y},Pe=$.color().levels,Fe=`#${s.hex(Pe[0],2)}${s.hex(Pe[1],2)}${s.hex(Pe[2],2)}`;re={pos:[],color:Fe,weight:j*S},re.pos.push(_t),re.pos.push(_t),s.redraw()};s.mouseDragged=Ut=>{if(an)switch(Ut.which){case 1:if(this.isCropMode&&!Ke){let lt=s.createVector(s.mouseX,s.mouseY);Ae?de=Qe.copy().add(et.copy().sub(lt).div(-Q)):ne=Ye.copy().sub(lt).div(-Q),s.redraw()}else{let lt=jt();lt.sub(q),lt.add(p),re&&re.pos&&re.pos.push({x:lt.x,y:lt.y}),s.redraw()}break;case 3:Me=s.createVector(s.mouseX,s.mouseY),H=Be.copy().add(Me.sub(Le).div(Q)),s.redraw()}},s.mouseWheel=Ut=>{an&&(s.mouseY<ge||s.mouseY>s.height-ge?Ke=!0:(yt(jt()),Q*=Ut.deltaY<0?1.1:.9,s.redraw()))},s.mouseReleased=Ut=>{if(an){if(1===Ut.which&&!this.isCropMode&&!Ke){let lt=jt();lt.sub(q),lt.add(p);let Nt={x:lt.x,y:lt.y};re&&(re.pos.push(Nt),re.pos.push(Nt)),zt()}Ke=!1}};let yt=Ut=>{Y=s.createVector(s.mouseX,s.mouseY),H=Ut.mult(-1)},jt=(Ut,lt)=>{let Nt=s.createVector(Ut||s.mouseX,lt||s.mouseY);return Nt.sub(Y),Nt.div(Q),Nt.sub(H),Nt},Ht=[],Rt=!1,an=!0;s.touchStarted=Ut=>{if(an){if(Ht=Ut.touches,Ut.changedTouches[0].clientY<ge||Ut.changedTouches[0].clientY>s.height-ge)return void(Ke=!0);switch(Rt=!0,Ht.length){case 1:this.isCropMode?vt(Ut.changedTouches[0].clientX,Ut.changedTouches[0].clientY-ge):mt(Ut.changedTouches[0].clientX,Ut.changedTouches[0].clientY-ge);break;case 2:let lt=s.createVector(Ht[0].clientX,Ht[0].clientY-56),Nt=s.createVector(Ht[1].clientX,Ht[1].clientY-56);Oe=lt.dist(Nt),Le=lt.copy().add(Nt).div(2),Be=H.copy(),Ge=Q,re=void 0;break;default:Rt=!1,s.SetCanvasViewportInit()}}},s.touchMoved=Ut=>{if(an&&Rt){switch(Ht=Ut.touches,Ht.length){case 1:if(this.isCropMode&&!Ke){let lt=s.createVector(Ut.changedTouches[0].clientX,Ut.changedTouches[0].clientY-ge);Ae?de=Qe.copy().add(et.copy().sub(lt).div(-Q)):ne=Ye.copy().sub(lt).div(-Q),s.redraw()}else{let lt=jt(Ut.changedTouches[0].clientX,Ut.changedTouches[0].clientY-ge);lt.sub(q),lt.add(p),re&&re.pos&&re.pos.push({x:lt.x,y:lt.y}),s.redraw()}break;case 2:{let lt=s.createVector(Ht[0].clientX,Ht[0].clientY-56),Nt=s.createVector(Ht[1].clientX,Ht[1].clientY-56),_t=lt.copy().add(Nt).div(2);Q=lt.dist(Nt)/Oe*Ge,H=Be.copy().add(_t.sub(Le).div(Q)),s.redraw()}}return!1}},s.touchEnded=Ut=>{if(an&&Ut.changedTouches){switch(Ht=Ut.touches,Rt=!1,Ht.length){case 0:if(!this.isCropMode&&!Ke&&re){let lt=jt(Ut.changedTouches[0].clientX,Ut.changedTouches[0].clientY-ge);lt.sub(q),lt.add(p);let Nt={x:lt.x,y:lt.y};re.pos.push(Nt),re.pos.push(Nt),zt()}break;case 1:if(!Rt)return;fn(),Oe=0,re=void 0}Ke=!1}};let fn=()=>{Le=s.createVector(Ht[0].clientX,Ht[0].clientY-56),Be=H.copy()},zt=()=>{s.DrawingStack.length=xe,re&&(s.DrawingStack.push(re),L(m,re)),xe=s.DrawingStack.length,Le=void 0,Ke=!1,re=void 0,s.redraw()}})}new_image(){this.alertCtrl.create({header:this.lang.text.voidDraw.newDraw,inputs:[{name:"width",type:"number",placeholder:`${this.lang.text.voidDraw.width} (${this.lang.text.voidDraw.default_size}: 432)`},{name:"height",type:"number",placeholder:`${this.lang.text.voidDraw.height} (${this.lang.text.voidDraw.default_size}: 432)`}],buttons:[{text:this.lang.text.voidDraw.CreateNew,handler:u=>{u.width=u.width?Number(u.width):432,u.height=u.height?Number(u.height):432,this.create_new_canvas(u)}}]}).then(u=>u.present())}change_line_weight(){this.p5voidDraw.set_line_weight()}open_crop_tool(){this.p5voidDraw.open_crop_tool()}dismiss_draw(){this.isCropMode?this.p5voidDraw.apply_crop():(this.mainLoading.present(),this.WithoutSave=!1,this.p5voidDraw.save_image())}RemoveShortCut(){delete this.global.p5key.KeyShortCut.HistoryAct,delete this.global.p5key.KeyShortCut.AddAct,delete this.global.p5key.KeyShortCut.DeleteAct,delete this.global.p5key.KeyShortCut.SKeyAct,delete this.global.p5key.KeyShortCut.FKeyAct}ionViewWillLeave(){this.RemoveShortCut(),this.p5voidDraw&&this.p5voidDraw.remove()}ionViewDidLeave(){document.removeEventListener("ionBackButton",this.EventListenerAct),this.WithoutSave&&this.mainLoading.remove()}}return(w=a).\u0275fac=function(d){return new(d||w)(o.GI1(W.o),o.GI1(C.qS),o.GI1(C.iW),o.GI1(C.Kg),o.GI1(_.A1),o.GI1(y.a6),o.GI1(h.k),o.GI1(f.O))},w.\u0275cmp=o.In1({type:w,selectors:[["app-void-draw"]],decls:8,vars:1,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["oncontextmenu","return false;"],["id","voidDraw",1,"full_screen",2,"display","flex","overflow","hidden","background-color","black"]],template:function(d,u){1&d&&(o.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o.OEk(3),o.C$Y(),o.I0R(4,"ion-buttons",1),o.qCj("click",function(){return u.modalCtrl.dismiss()}),o.wR5(5,"ion-back-button",2),o.C$Y()()(),o.I0R(6,"ion-content",3),o.wR5(7,"div",4),o.C$Y()),2&d&&(o.yG2(3),o.cNF(u.lang.text.ChatRoom.voidDraw))},dependencies:[C.GS,C._i,C.wB,C.tM,C.Md,C.Im]}),a})()},4180:(dn,Pt,he)=>{"use strict";he.d(Pt,{Y:()=>we});var v=he(4496);let we=(()=>{var nt;class _e{constructor(){this.colors={offline:"#888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",community_ranchat:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},this.dedicated={official:{groupchat:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(nt=_e).\u0275fac=function(W){return new(W||nt)},nt.\u0275prov=v.wxM({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_e})()},5788:(dn,Pt,he)=>{"use strict";var v=he(4476),we=he(4496),nt=he(3332),_e=he(9240),o=he(5624),W=he(5193);const C=[{path:"",loadChildren:()=>he.e(5504).then(he.bind(he,5504)).then(it=>it.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>he.e(8668).then(he.bind(he,8668)).then(it=>it.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>he.e(732).then(he.bind(he,732)).then(it=>it.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>Promise.all([he.e(8744),he.e(7048),he.e(7988)]).then(he.bind(he,7988)).then(it=>it.UserFsDirPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([he.e(8744),he.e(7048),he.e(3872)]).then(he.bind(he,3872)).then(it=>it.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([he.e(8744),he.e(9596),he.e(8696),he.e(5929)]).then(he.bind(he,5929)).then(it=>it.ChatRoomPageModule)},{path:"share-content-to-other",loadChildren:()=>he.e(3116).then(he.bind(he,3116)).then(it=>it.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>Promise.all([he.e(9596),he.e(8080)]).then(he.bind(he,8080)).then(it=>it.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>Promise.all([he.e(9596),he.e(8696),he.e(516)]).then(he.bind(he,516)).then(it=>it.PortalPageModule)}];let y=(()=>{var it;class ze{}return(it=ze).\u0275fac=function(xt){return new(xt||it)},it.\u0275mod=we.a4G({type:it}),it.\u0275inj=we.s3X({imports:[nt.qQ.forRoot(C,{preloadingStrategy:nt.eu}),nt.qQ]}),ze})();var _=he(8268),h=he(1028),f=he(6928),E=he(1368),w=he(1424),a=he(3800),l=he(800),d=he(2700),u=he(7228),c=he(5657),s=he(3252),m=he(308);const p=new s._(m.K);var O=he(267),N=he(560),R=he(8960),k=he(6624),A=he(2115);function $(...it){const ze=(0,k.e_)(it),ut=(0,k._8)(it,1/0),xt=it;return xt.length?1===xt.length?(0,N.Uv)(xt[0]):(0,O.u)(ut)((0,A.Q)(xt,ze)):R.k}var j=he(4704),S=he(6684),D=he(7368),V=he(2376),Z=he(8880),H=he(5448);const Y={connector:()=>new c.E};function q(it,ze=Y){const{connector:ut}=ze;return(0,H.i)((xt,en)=>{const We=ut();(0,N.Uv)(it(function Q(it){return new s._(ze=>it.subscribe(ze))}(We))).subscribe(en),en.add(xt.subscribe(We))})}var xe=he(3992),K=he(9212),L=he(4548);class re extends L.wH{constructor(ze,ut){super()}schedule(ze,ut=0){return this}}const ge={setInterval(it,ze,...ut){const{delegate:xt}=ge;return null!=xt&&xt.setInterval?xt.setInterval(it,ze,...ut):setInterval(it,ze,...ut)},clearInterval(it){const{delegate:ze}=ge;return((null==ze?void 0:ze.clearInterval)||clearInterval)(it)},delegate:void 0};var Me=he(1248);const Ye={now:()=>(Ye.delegate||Date).now(),delegate:void 0};class et{constructor(ze,ut=et.now){this.schedulerActionCtor=ze,this.now=ut}schedule(ze,ut=0,xt){return new this.schedulerActionCtor(this,ze).schedule(xt,ut)}}et.now=Ye.now;const Ge=new class Oe extends et{constructor(ze,ut=et.now){super(ze,ut),this.actions=[],this._active=!1}flush(ze){const{actions:ut}=this;if(this._active)return void ut.push(ze);let xt;this._active=!0;do{if(xt=ze.execute(ze.state,ze.delay))break}while(ze=ut.shift());if(this._active=!1,xt){for(;ze=ut.shift();)ze.unsubscribe();throw xt}}}(class Le extends re{constructor(ze,ut){super(ze,ut),this.scheduler=ze,this.work=ut,this.pending=!1}schedule(ze,ut=0){var xt;if(this.closed)return this;this.state=ze;const en=this.id,We=this.scheduler;return null!=en&&(this.id=this.recycleAsyncId(We,en,ut)),this.pending=!0,this.delay=ut,this.id=null!==(xt=this.id)&&void 0!==xt?xt:this.requestAsyncId(We,this.id,ut),this}requestAsyncId(ze,ut,xt=0){return ge.setInterval(ze.flush.bind(ze,this),xt)}recycleAsyncId(ze,ut,xt=0){if(null!=xt&&this.delay===xt&&!1===this.pending)return ut;null!=ut&&ge.clearInterval(ut)}execute(ze,ut){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xt=this._execute(ze,ut);if(xt)return xt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ze,ut){let en,xt=!1;try{this.work(ze)}catch(We){xt=!0,en=We||new Error("Scheduled action threw falsy error")}if(xt)return this.unsubscribe(),en}unsubscribe(){if(!this.closed){const{id:ze,scheduler:ut}=this,{actions:xt}=ut;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Me.k)(xt,this),null!=ze&&(this.id=this.recycleAsyncId(ut,ze,null)),this.delay=null,super.unsubscribe()}}}),Be=Ge;var Ae=he(7773),Ke=he(320),vt=he(7400);function mt(it,ze){return ze?ut=>(0,u.W)(ze.pipe((0,xe.U)(1),function Qe(){return(0,H.i)((it,ze)=>{it.subscribe((0,Ae.e)(ze,m.K))})}()),ut.pipe(mt(it))):(0,vt.O)((ut,xt)=>(0,N.Uv)(it(ut,xt)).pipe((0,xe.U)(1),(0,Ke.e)(ut)))}var yt=he(3048);const an="Service workers are disabled or not supported by this browser";class fn{constructor(ze){if(this.serviceWorker=ze,ze){const xt=(0,l.w)(ze,"controllerchange").pipe((0,j.k)(()=>ze.controller)),en=(0,w.Q)(()=>(0,d.of)(ze.controller)),We=(0,u.W)(en,xt);this.worker=We.pipe((0,S.I)(cn=>!!cn)),this.registration=this.worker.pipe((0,D.G)(()=>ze.getRegistration()));const Vt=(0,l.w)(ze,"message").pipe((0,j.k)(cn=>cn.data)).pipe((0,S.I)(cn=>cn&&cn.type)).pipe(function de(it){return it?ze=>q(it)(ze):ze=>function ne(it,ze){const ut=(0,Z.m)(it)?it:()=>it;return(0,Z.m)(ze)?q(ze,{connector:ut}):xt=>new V.C(xt,ut)}(new c.E)(ze)}());Vt.connect(),this.events=Vt}else this.worker=this.events=this.registration=function on(it){return(0,w.Q)(()=>(0,a.c)(new Error(it)))}(an)}postMessage(ze,ut){return this.worker.pipe((0,xe.U)(1),(0,K.y)(xt=>{xt.postMessage({action:ze,...ut})})).toPromise().then(()=>{})}postMessageWithOperation(ze,ut,xt){const en=this.waitForOperationCompleted(xt),We=this.postMessage(ze,ut);return Promise.all([We,en]).then(([,bt])=>bt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(ze){let ut;return ut="string"==typeof ze?xt=>xt.type===ze:xt=>ze.includes(xt.type),this.events.pipe((0,S.I)(ut))}nextEventOfType(ze){return this.eventsOfType(ze).pipe((0,xe.U)(1))}waitForOperationCompleted(ze){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,S.I)(ut=>ut.nonce===ze),(0,xe.U)(1),(0,j.k)(ut=>{if(void 0!==ut.result)return ut.result;throw new Error(ut.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let zt=(()=>{var it;class ze{get isEnabled(){return this.sw.isEnabled}constructor(xt){if(this.sw=xt,this.pushManager=null,this.subscriptionChanges=new c.E,!xt.isEnabled)return this.messages=p,this.notificationClicks=p,void(this.subscription=p);this.messages=this.sw.eventsOfType("PUSH").pipe((0,j.k)(We=>We.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,j.k)(We=>We.data)),this.pushManager=this.sw.registration.pipe((0,j.k)(We=>We.pushManager));const en=this.pushManager.pipe((0,D.G)(We=>We.getSubscription()));this.subscription=$(en,this.subscriptionChanges)}requestSubscription(xt){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(an));const en={userVisibleOnly:!0};let We=this.decodeBase64(xt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),bt=new Uint8Array(new ArrayBuffer(We.length));for(let Lt=0;Lt<We.length;Lt++)bt[Lt]=We.charCodeAt(Lt);return en.applicationServerKey=bt,this.pushManager.pipe((0,D.G)(Lt=>Lt.subscribe(en)),(0,xe.U)(1)).toPromise().then(Lt=>(this.subscriptionChanges.next(Lt),Lt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,xe.U)(1),(0,D.G)(en=>{if(null===en)throw new Error("Not subscribed to push notifications.");return en.unsubscribe().then(We=>{if(!We)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(an))}decodeBase64(xt){return atob(xt)}}return(it=ze).\u0275fac=function(xt){return new(xt||it)(we.CoB(fn))},it.\u0275prov=we.wxM({token:it,factory:it.\u0275fac}),ze})(),Ut=(()=>{var it;class ze{get isEnabled(){return this.sw.isEnabled}constructor(xt){if(this.sw=xt,!xt.isEnabled)return this.versionUpdates=p,void(this.unrecoverable=p);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(an));const xt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:xt},xt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(an));const xt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:xt},xt)}}return(it=ze).\u0275fac=function(xt){return new(xt||it)(we.CoB(fn))},it.\u0275prov=we.wxM({token:it,factory:it.\u0275fac}),ze})();const lt=new we.UbH("");function Nt(it,ze,ut,xt){return()=>{if(!(0,E.c0)(xt)||!("serviceWorker"in navigator)||!1===ut.enabled)return;let en;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof ut.registrationStrategy)en=ut.registrationStrategy();else{const[bt,...Lt]=(ut.registrationStrategy||"registerWhenStable:30000").split(":");switch(bt){case"registerImmediately":en=(0,d.of)(null);break;case"registerWithDelay":en=_t(+Lt[0]||0);break;case"registerWhenStable":en=Lt[0]?$(Pe(it),_t(+Lt[0])):Pe(it);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${ut.registrationStrategy}`)}}it.get(we.WW2).runOutsideAngular(()=>en.pipe((0,xe.U)(1)).subscribe(()=>navigator.serviceWorker.register(ze,{scope:ut.scope}).catch(bt=>console.error("Service worker registration failed with:",bt))))}}function _t(it){return(0,d.of)(null).pipe(function Rt(it,ze=Ge){const ut=function Ht(it=0,ze,ut=Be){let xt=-1;return null!=ze&&((0,yt.G)(ze)?ut=ze:xt=ze),new s._(en=>{let We=function jt(it){return it instanceof Date&&!isNaN(it)}(it)?+it-ut.now():it;We<0&&(We=0);let bt=0;return ut.schedule(function(){en.closed||(en.next(bt++),0<=xt?this.schedule(void 0,xt):en.complete())},We)})}(it,ze);return mt(()=>ut)}(it))}function Pe(it){return it.get(we.Swk).isStable.pipe((0,S.I)(ut=>ut))}function Fe(it,ze){return new fn((0,E.c0)(ze)&&!1!==it.enabled?navigator.serviceWorker:void 0)}class Ie{}function Ze(it,ze={}){return(0,we.AFj)([zt,Ut,{provide:lt,useValue:it},{provide:Ie,useValue:ze},{provide:fn,useFactory:Fe,deps:[Ie,we.AHE]},{provide:we.kZF,useFactory:Nt,deps:[we.zZn,lt,Ie,we.AHE],multi:!0}])}let wt=(()=>{var it;class ze{static register(xt,en={}){return{ngModule:ze,providers:[Ze(xt,en)]}}}return(it=ze).\u0275fac=function(xt){return new(xt||it)},it.\u0275mod=we.a4G({type:it}),it.\u0275inj=we.s3X({providers:[zt,Ut]}),ze})();var Gt=he(544),rn=he(7756);let bn=(()=>{var it;class ze{}return(it=ze).\u0275fac=function(xt){return new(xt||it)},it.\u0275mod=we.a4G({type:it,bootstrap:[W.a0]}),it.\u0275inj=we.s3X({providers:[{provide:nt.XE,useClass:_e.um},_.G,Gt.S,h.Y,_e.a6,f.G8,rn._],imports:[v.iE,o.wZ.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),y,wt.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),ze})();var _n=he(8637);(0,we.agy)(),v.o_().bootstrapModule(bn).catch(it=>console.log(it)),window,typeof window>"u"?Promise.resolve():(0,_n.p)().then(()=>(0,_n.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},9352:(dn,Pt,he)=>{var v=he(3248);dn.exports=function o(W,C,y){function _(E,w){if(!C[E]){if(!W[E]){var a=void 0;if(!w&&a)return require(E,!0);if(h)return h(E,!0);throw(w=new Error("Cannot find module '"+E+"'")).code="MODULE_NOT_FOUND",w}a=C[E]={exports:{}},W[E][0].call(a.exports,function(l){return _(W[E][1][l]||l)},a,a.exports,o,W,C,y)}return C[E].exports}for(var h=void 0,f=0;f<y.length;f++)_(y[f]);return _}({1:[function(o,W,C){"use strict";C.byteLength=function(u){return 3*((u=a(u))[0]+(u=u[1]))/4-u},C.toByteArray=function(l){var d,u,s,N,c=(s=a(l))[0],m=new h(3*(c+(N=s=s[1]))/4-N),p=0,b=0<s?c-4:c;for(u=0;u<b;u+=4)d=_[l.charCodeAt(u)]<<18|_[l.charCodeAt(u+1)]<<12|_[l.charCodeAt(u+2)]<<6|_[l.charCodeAt(u+3)],m[p++]=d>>16&255,m[p++]=d>>8&255,m[p++]=255&d;return 2===s&&(d=_[l.charCodeAt(u)]<<2|_[l.charCodeAt(u+1)]>>4,m[p++]=255&d),1===s&&(d=_[l.charCodeAt(u)]<<10|_[l.charCodeAt(u+1)]<<4|_[l.charCodeAt(u+2)]>>2,m[p++]=d>>8&255,m[p++]=255&d),m},C.fromByteArray=function(l){for(var d,u=l.length,c=u%3,s=[],m=0,p=u-c;m<p;m+=16383)s.push(function(b,O,N){for(var k=[],A=O;A<N;A+=3)k.push(y[($=(b[A]<<16&16711680)+(b[A+1]<<8&65280)+(255&b[A+2]))>>18&63]+y[$>>12&63]+y[$>>6&63]+y[63&$]);var $;return k.join("")}(l,m,p<m+16383?p:m+16383));return 1==c?s.push(y[(d=l[u-1])>>2]+y[d<<4&63]+"=="):2==c&&s.push(y[(d=(l[u-2]<<8)+l[u-1])>>10]+y[d>>4&63]+y[d<<2&63]+"="),s.join("")};for(var y=[],_=[],h=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0;E<64;++E)y[E]=f[E],_[f.charCodeAt(E)]=E;function a(l){var d=l.length;if(0<d%4)throw new Error("Invalid string. Length must be a multiple of 4");return d=(l=-1===(l=l.indexOf("="))?d:l)===d?0:4-l%4,[l,d]}_[45]=62,_[95]=63},{}],2:[function(o,W,C){},{}],3:[function(o,W,C){},{}],4:[function(o,W,C){(function(a){"use strict";var _=o("base64-js"),h=o("ieee754"),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,E=(C.Buffer=a,C.SlowBuffer=function(K){return+K!=K&&(K=0),a.alloc(+K)},C.INSPECT_MAX_BYTES=50,2147483647);function w(K){if(E<K)throw new RangeError('The value "'+K+'" is invalid for option "size"');return K=new Uint8Array(K),Object.setPrototypeOf(K,a.prototype),K}function a(K,L,re){if("number"!=typeof K)return l(K,L,re);if("string"==typeof L)throw new TypeError('The "string" argument must be of type string. Received type number');return u(K)}function l(K,L,re){if("string"==typeof K){var ge=K,Me=L;if(a.isEncoding(Me="string"==typeof Me&&""!==Me?Me:"utf8"))return(ge=(Ye=w(Le=0|m(ge,Me))).write(ge,Me))!==Le?Ye.slice(0,ge):Ye;throw new TypeError("Unknown encoding: "+Me)}if(ArrayBuffer.isView(K))return c(K);if(null!=K){if(ne(K,ArrayBuffer)||K&&ne(K.buffer,ArrayBuffer)){var Le=K,Ye=re;if((ge=L)<0||Le.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(Le.byteLength<ge+(Ye||0))throw new RangeError('"length" is outside of buffer bounds');return Le=void 0===ge&&void 0===Ye?new Uint8Array(Le):void 0===Ye?new Uint8Array(Le,ge):new Uint8Array(Le,ge,Ye),Object.setPrototypeOf(Le,a.prototype),Le}if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(Me=K.valueOf&&K.valueOf())&&Me!==K)return a.from(Me,L,re);var et=a.isBuffer(Oe=K)?(0!==(Be=w(Ge=0|s(Oe.length))).length&&Oe.copy(Be,0,0,Ge),Be):void 0!==Oe.length?"number"!=typeof Oe.length||de(Oe.length)?w(0):c(Oe):"Buffer"===Oe.type&&Array.isArray(Oe.data)?c(Oe.data):void 0;if(et)return et;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return a.from(K[Symbol.toPrimitive]("string"),L,re)}var Oe,Ge,Be;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function d(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function u(K){return d(K),w(K<0?0:0|s(K))}function c(K){for(var L=K.length<0?0:0|s(K.length),re=w(L),ge=0;ge<L;ge+=1)re[ge]=255&K[ge];return re}function s(K){if(E<=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return 0|K}function m(K,L){if(a.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ne(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var re=K.length,ge=2<arguments.length&&!0===arguments[2];if(!ge&&0===re)return 0;for(var Me=!1;;)switch(L){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return Q(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*re;case"hex":return re>>>1;case"base64":return Y(K).length;default:if(Me)return ge?-1:Q(K).length;L=(""+L).toLowerCase(),Me=!0}}function p(K,L,re){var ge,Me=!1;if((L=void 0===L||L<0?0:L)>this.length||(re=void 0===re||re>this.length?this.length:re)<=0||(re>>>=0)<=(L>>>=0))return"";for(K=K||"utf8";;)switch(K){case"hex":var Ye=re,Be=this.length;(!Ye||Ye<0||Be<Ye)&&(Ye=Be);for(var et="",Oe=mt=!(mt=L)||mt<0?0:mt;Oe<Ye;++Oe)et+=xe[this[Oe]];return et;case"utf8":case"utf-8":return A(this,L,re);case"ascii":var Ae=(Be=L,re),Qe="";Ae=Math.min(this.length,Ae);for(var Ke=Be;Ke<Ae;++Ke)Qe+=String.fromCharCode(127&this[Ke]);return Qe;case"latin1":case"binary":var mt=L,yt=re,jt="";yt=Math.min(this.length,yt);for(var Ht=mt;Ht<yt;++Ht)jt+=String.fromCharCode(this[Ht]);return jt;case"base64":return Rt=this,ge=re,0===(an=L)&&ge===Rt.length?_.fromByteArray(Rt):_.fromByteArray(Rt.slice(an,ge));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Rt=L,an=re,on=this.slice(Rt,an),fn="",zt=0;zt<on.length;zt+=2)fn+=String.fromCharCode(on[zt]+256*on[zt+1]);return fn;default:if(Me)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Me=!0}}function b(K,L,re){var ge=K[L];K[L]=K[re],K[re]=ge}function O(K,L,re,ge,Me){if(0===K.length)return-1;if("string"==typeof re?(ge=re,re=0):2147483647<re?re=2147483647:re<-2147483648&&(re=-2147483648),(re=(re=de(re=+re)?Me?0:K.length-1:re)<0?K.length+re:re)>=K.length){if(Me)return-1;re=K.length-1}else if(re<0){if(!Me)return-1;re=0}if("string"==typeof L&&(L=a.from(L,ge)),a.isBuffer(L))return 0===L.length?-1:N(K,L,re,ge,Me);if("number"==typeof L)return L&=255,"function"==typeof Uint8Array.prototype.indexOf?(Me?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(K,L,re):N(K,[L],re,ge,Me);throw new TypeError("val must be string, number or Buffer")}function N(K,L,re,ge,Me){var Le=1,Ye=K.length,et=L.length;if(void 0!==ge&&("ucs2"===(ge=String(ge).toLowerCase())||"ucs-2"===ge||"utf16le"===ge||"utf-16le"===ge)){if(K.length<2||L.length<2)return-1;Ye/=Le=2,et/=2,re/=2}function Oe(Ke,vt){return 1===Le?Ke[vt]:Ke.readUInt16BE(vt*Le)}if(Me)for(var Ge=-1,Be=re;Be<Ye;Be++)if(Oe(K,Be)===Oe(L,-1===Ge?0:Be-Ge)){if(Be-(Ge=-1===Ge?Be:Ge)+1===et)return Ge*Le}else-1!==Ge&&(Be-=Be-Ge),Ge=-1;else for(Be=re=Ye<re+et?Ye-et:re;0<=Be;Be--){for(var Ae=!0,Qe=0;Qe<et;Qe++)if(Oe(K,Be+Qe)!==Oe(L,Qe)){Ae=!1;break}if(Ae)return Be}return-1}function R(K,L,re,ge){return q(function(Me){for(var Le=[],Ye=0;Ye<Me.length;++Ye)Le.push(255&Me.charCodeAt(Ye));return Le}(L),K,re,ge)}function k(K,L,re,ge){return q(function(Me,Le){for(var Ye,et,Oe=[],Ge=0;Ge<Me.length&&!((Le-=2)<0);++Ge)Ye=(et=Me.charCodeAt(Ge))>>8,Oe.push(et%=256),Oe.push(Ye);return Oe}(L,K.length-re),K,re,ge)}function A(K,L,re){re=Math.min(K.length,re);for(var ge=[],Me=L;Me<re;){var Le,Ye,et,Oe,Ge=K[Me],Be=null,Ae=239<Ge?4:223<Ge?3:191<Ge?2:1;if(Me+Ae<=re)switch(Ae){case 1:Ge<128&&(Be=Ge);break;case 2:128==(192&(Le=K[Me+1]))&&127<(Oe=(31&Ge)<<6|63&Le)&&(Be=Oe);break;case 3:Ye=K[Me+2],128==(192&(Le=K[Me+1]))&&128==(192&Ye)&&2047<(Oe=(15&Ge)<<12|(63&Le)<<6|63&Ye)&&(Oe<55296||57343<Oe)&&(Be=Oe);break;case 4:Ye=K[Me+2],et=K[Me+3],128==(192&(Le=K[Me+1]))&&128==(192&Ye)&&128==(192&et)&&65535<(Oe=(15&Ge)<<18|(63&Le)<<12|(63&Ye)<<6|63&et)&&Oe<1114112&&(Be=Oe)}null===Be?(Be=65533,Ae=1):65535<Be&&(ge.push((Be-=65536)>>>10&1023|55296),Be=56320|1023&Be),ge.push(Be),Me+=Ae}var Qe=ge,Ke=Qe.length;if(Ke<=$)return String.fromCharCode.apply(String,Qe);for(var vt="",mt=0;mt<Ke;)vt+=String.fromCharCode.apply(String,Qe.slice(mt,mt+=$));return vt}C.kMaxLength=E,(a.TYPED_ARRAY_SUPPORT=function(){try{var K=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(K,L),42===K.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=l,Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(K,L,re){return d(K),K<=0||void 0===L?w(K):"string"==typeof re?w(K).fill(L,re):w(K).fill(L)},a.allocUnsafe=u,a.allocUnsafeSlow=u,a.isBuffer=function(K){return null!=K&&!0===K._isBuffer&&K!==a.prototype},a.compare=function(K,L){if(ne(K,Uint8Array)&&(K=a.from(K,K.offset,K.byteLength)),ne(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(K)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===L)return 0;for(var re=K.length,ge=L.length,Me=0,Le=Math.min(re,ge);Me<Le;++Me)if(K[Me]!==L[Me]){re=K[Me],ge=L[Me];break}return re<ge?-1:ge<re?1:0},a.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(K,L){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return a.alloc(0);if(void 0===L)for(Me=L=0;Me<K.length;++Me)L+=K[Me].length;for(var re=a.allocUnsafe(L),ge=0,Me=0;Me<K.length;++Me){var Le=K[Me];if(ne(Le,Uint8Array)&&(Le=a.from(Le)),!a.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(re,ge),ge+=Le.length}return re},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<K;L+=2)b(this,L,L+1);return this},a.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<K;L+=4)b(this,L,L+3),b(this,L+1,L+2);return this},a.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<K;L+=8)b(this,L,L+7),b(this,L+1,L+6),b(this,L+2,L+5),b(this,L+3,L+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var K=this.length;return 0===K?"":0===arguments.length?A(this,0,K):p.apply(this,arguments)},a.prototype.equals=function(K){if(a.isBuffer(K))return this===K||0===a.compare(this,K);throw new TypeError("Argument must be a Buffer")},a.prototype.inspect=function(){var L="",K=C.INSPECT_MAX_BYTES;return L=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(L+=" ... "),"<Buffer "+L+">"},f&&(a.prototype[f]=a.prototype.inspect),a.prototype.compare=function(K,L,re,ge,Me){if(ne(K,Uint8Array)&&(K=a.from(K,K.offset,K.byteLength)),!a.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(void 0===re&&(re=K?K.length:0),void 0===ge&&(ge=0),void 0===Me&&(Me=this.length),(L=void 0===L?0:L)<0||re>K.length||ge<0||Me>this.length)throw new RangeError("out of range index");if(Me<=ge&&re<=L)return 0;if(Me<=ge)return-1;if(re<=L)return 1;if(this===K)return 0;for(var Le=(Me>>>=0)-(ge>>>=0),Ye=(re>>>=0)-(L>>>=0),et=Math.min(Le,Ye),Oe=this.slice(ge,Me),Ge=K.slice(L,re),Be=0;Be<et;++Be)if(Oe[Be]!==Ge[Be]){Le=Oe[Be],Ye=Ge[Be];break}return Le<Ye?-1:Ye<Le?1:0},a.prototype.includes=function(K,L,re){return-1!==this.indexOf(K,L,re)},a.prototype.indexOf=function(K,L,re){return O(this,K,L,re,!0)},a.prototype.lastIndexOf=function(K,L,re){return O(this,K,L,re,!1)},a.prototype.write=function(K,L,re,ge){if(void 0===L)ge="utf8",re=this.length,L=0;else if(void 0===re&&"string"==typeof L)ge=L,re=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(re)?(re>>>=0,void 0===ge&&(ge="utf8")):(ge=re,re=void 0)}var Me=this.length-L;if((void 0===re||Me<re)&&(re=Me),0<K.length&&(re<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge=ge||"utf8";for(var Le,Ye,et,Oe=!1;;)switch(ge){case"hex":var Be=K,Ae=L,Qe=re,Ke=(Ae=Number(Ae)||0,this.length-Ae);(!Qe||Ke<(Qe=Number(Qe)))&&(Qe=Ke),(Ke=Be.length)/2<Qe&&(Qe=Ke/2);for(var vt=0;vt<Qe;++vt){var mt=parseInt(Be.substr(2*vt,2),16);if(de(mt))return vt;this[Ae+vt]=mt}return vt;case"utf8":case"utf-8":return et=re,q(Q(K,(Ye=this).length-(Ke=L)),Ye,Ke,et);case"ascii":case"latin1":case"binary":return R(this,K,L,re);case"base64":return Ye=this,et=L,Le=re,q(Y(K),Ye,et,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,K,L,re);default:if(Oe)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Oe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;function j(K,L,re){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(re<K+L)throw new RangeError("Trying to access beyond buffer length")}function S(K,L,re,ge,Me,Le){if(!a.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(Me<L||L<Le)throw new RangeError('"value" argument is out of bounds');if(re+ge>K.length)throw new RangeError("Index out of range")}function D(K,L,re,ge){if(re+ge>K.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function V(K,L,re,ge,Me){return L=+L,re>>>=0,Me||D(K,0,re,4),h.write(K,L,re,ge,23,4),re+4}function Z(K,L,re,ge,Me){return L=+L,re>>>=0,Me||D(K,0,re,8),h.write(K,L,re,ge,52,8),re+8}a.prototype.slice=function(K,L){var re=this.length;return(K=~~K)<0?(K+=re)<0&&(K=0):re<K&&(K=re),(L=void 0===L?re:~~L)<0?(L+=re)<0&&(L=0):re<L&&(L=re),L<K&&(L=K),re=this.subarray(K,L),Object.setPrototypeOf(re,a.prototype),re},a.prototype.readUIntLE=function(K,L,re){K>>>=0,L>>>=0,re||j(K,L,this.length);for(var ge=this[K],Me=1,Le=0;++Le<L&&(Me*=256);)ge+=this[K+Le]*Me;return ge},a.prototype.readUIntBE=function(K,L,re){K>>>=0,L>>>=0,re||j(K,L,this.length);for(var ge=this[K+--L],Me=1;0<L&&(Me*=256);)ge+=this[K+--L]*Me;return ge},a.prototype.readUInt8=function(K,L){return K>>>=0,L||j(K,1,this.length),this[K]},a.prototype.readUInt16LE=function(K,L){return K>>>=0,L||j(K,2,this.length),this[K]|this[K+1]<<8},a.prototype.readUInt16BE=function(K,L){return K>>>=0,L||j(K,2,this.length),this[K]<<8|this[K+1]},a.prototype.readUInt32LE=function(K,L){return K>>>=0,L||j(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},a.prototype.readUInt32BE=function(K,L){return K>>>=0,L||j(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},a.prototype.readIntLE=function(K,L,re){K>>>=0,L>>>=0,re||j(K,L,this.length);for(var ge=this[K],Me=1,Le=0;++Le<L&&(Me*=256);)ge+=this[K+Le]*Me;return(Me*=128)<=ge&&(ge-=Math.pow(2,8*L)),ge},a.prototype.readIntBE=function(K,L,re){K>>>=0,L>>>=0,re||j(K,L,this.length);for(var ge=L,Me=1,Le=this[K+--ge];0<ge&&(Me*=256);)Le+=this[K+--ge]*Me;return(Me*=128)<=Le&&(Le-=Math.pow(2,8*L)),Le},a.prototype.readInt8=function(K,L){return K>>>=0,L||j(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},a.prototype.readInt16LE=function(K,L){return K>>>=0,L||j(K,2,this.length),32768&(L=this[K]|this[K+1]<<8)?4294901760|L:L},a.prototype.readInt16BE=function(K,L){return K>>>=0,L||j(K,2,this.length),32768&(L=this[K+1]|this[K]<<8)?4294901760|L:L},a.prototype.readInt32LE=function(K,L){return K>>>=0,L||j(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},a.prototype.readInt32BE=function(K,L){return K>>>=0,L||j(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},a.prototype.readFloatLE=function(K,L){return K>>>=0,L||j(K,4,this.length),h.read(this,K,!0,23,4)},a.prototype.readFloatBE=function(K,L){return K>>>=0,L||j(K,4,this.length),h.read(this,K,!1,23,4)},a.prototype.readDoubleLE=function(K,L){return K>>>=0,L||j(K,8,this.length),h.read(this,K,!0,52,8)},a.prototype.readDoubleBE=function(K,L){return K>>>=0,L||j(K,8,this.length),h.read(this,K,!1,52,8)},a.prototype.writeUIntLE=function(K,L,re,ge){K=+K,L>>>=0,re>>>=0,ge||S(this,K,L,re,Math.pow(2,8*re)-1,0);var Me=1,Le=0;for(this[L]=255&K;++Le<re&&(Me*=256);)this[L+Le]=K/Me&255;return L+re},a.prototype.writeUIntBE=function(K,L,re,ge){K=+K,L>>>=0,re>>>=0,ge||S(this,K,L,re,Math.pow(2,8*re)-1,0);var Me=re-1,Le=1;for(this[L+Me]=255&K;0<=--Me&&(Le*=256);)this[L+Me]=K/Le&255;return L+re},a.prototype.writeUInt8=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,1,255,0),this[L]=255&K,L+1},a.prototype.writeUInt16LE=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,2,65535,0),this[L]=255&K,this[L+1]=K>>>8,L+2},a.prototype.writeUInt16BE=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,2,65535,0),this[L]=K>>>8,this[L+1]=255&K,L+2},a.prototype.writeUInt32LE=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,4,4294967295,0),this[L+3]=K>>>24,this[L+2]=K>>>16,this[L+1]=K>>>8,this[L]=255&K,L+4},a.prototype.writeUInt32BE=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,4,4294967295,0),this[L]=K>>>24,this[L+1]=K>>>16,this[L+2]=K>>>8,this[L+3]=255&K,L+4},a.prototype.writeIntLE=function(K,L,re,ge){K=+K,L>>>=0,ge||S(this,K,L,re,(ge=Math.pow(2,8*re-1))-1,-ge);var Me=0,Le=1,Ye=0;for(this[L]=255&K;++Me<re&&(Le*=256);)K<0&&0===Ye&&0!==this[L+Me-1]&&(Ye=1),this[L+Me]=(K/Le>>0)-Ye&255;return L+re},a.prototype.writeIntBE=function(K,L,re,ge){K=+K,L>>>=0,ge||S(this,K,L,re,(ge=Math.pow(2,8*re-1))-1,-ge);var Me=re-1,Le=1,Ye=0;for(this[L+Me]=255&K;0<=--Me&&(Le*=256);)K<0&&0===Ye&&0!==this[L+Me+1]&&(Ye=1),this[L+Me]=(K/Le>>0)-Ye&255;return L+re},a.prototype.writeInt8=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,1,127,-128),this[L]=255&(K=K<0?255+K+1:K),L+1},a.prototype.writeInt16LE=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,2,32767,-32768),this[L]=255&K,this[L+1]=K>>>8,L+2},a.prototype.writeInt16BE=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,2,32767,-32768),this[L]=K>>>8,this[L+1]=255&K,L+2},a.prototype.writeInt32LE=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,4,2147483647,-2147483648),this[L]=255&K,this[L+1]=K>>>8,this[L+2]=K>>>16,this[L+3]=K>>>24,L+4},a.prototype.writeInt32BE=function(K,L,re){return K=+K,L>>>=0,re||S(this,K,L,4,2147483647,-2147483648),this[L]=(K=K<0?4294967295+K+1:K)>>>24,this[L+1]=K>>>16,this[L+2]=K>>>8,this[L+3]=255&K,L+4},a.prototype.writeFloatLE=function(K,L,re){return V(this,K,L,!0,re)},a.prototype.writeFloatBE=function(K,L,re){return V(this,K,L,!1,re)},a.prototype.writeDoubleLE=function(K,L,re){return Z(this,K,L,!0,re)},a.prototype.writeDoubleBE=function(K,L,re){return Z(this,K,L,!1,re)},a.prototype.copy=function(K,L,re,ge){if(!a.isBuffer(K))throw new TypeError("argument should be a Buffer");if(re=re||0,ge||0===ge||(ge=this.length),L>=K.length&&(L=K.length),(ge=0<ge&&ge<re?re:ge)===re||0===K.length||0===this.length)return 0;if((L=L||0)<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length);var Me=(ge=K.length-L<ge-re?K.length-L+re:ge)-re;if(this===K&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(L,re,ge);else if(this===K&&re<L&&L<ge)for(var Le=Me-1;0<=Le;--Le)K[Le+L]=this[Le+re];else Uint8Array.prototype.set.call(K,this.subarray(re,ge),L);return Me},a.prototype.fill=function(K,L,re,ge){if("string"==typeof K){if("string"==typeof L?(ge=L,L=0,re=this.length):"string"==typeof re&&(ge=re,re=this.length),void 0!==ge&&"string"!=typeof ge)throw new TypeError("encoding must be a string");if("string"==typeof ge&&!a.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var Me;1===K.length&&(Me=K.charCodeAt(0),("utf8"===ge&&Me<128||"latin1"===ge)&&(K=Me))}else"number"==typeof K?K&=255:"boolean"==typeof K&&(K=Number(K));if(L<0||this.length<L||this.length<re)throw new RangeError("Out of range index");var Le;if(!(re<=L))if(L>>>=0,re=void 0===re?this.length:re>>>0,"number"==typeof(K=K||0))for(Le=L;Le<re;++Le)this[Le]=K;else{var Ye=a.isBuffer(K)?K:a.from(K,ge),et=Ye.length;if(0===et)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(Le=0;Le<re-L;++Le)this[Le+L]=Ye[Le%et]}return this};var H=/[^+/0-9A-Za-z-_]/g;function Q(K,L){L=L||1/0;for(var re,ge=K.length,Me=null,Le=[],Ye=0;Ye<ge;++Ye){if(55295<(re=K.charCodeAt(Ye))&&re<57344){if(!Me){if(56319<re){-1<(L-=3)&&Le.push(239,191,189);continue}if(Ye+1===ge){-1<(L-=3)&&Le.push(239,191,189);continue}Me=re;continue}if(re<56320){-1<(L-=3)&&Le.push(239,191,189),Me=re;continue}re=65536+(Me-55296<<10|re-56320)}else Me&&-1<(L-=3)&&Le.push(239,191,189);if(Me=null,re<128){if(--L<0)break;Le.push(re)}else if(re<2048){if((L-=2)<0)break;Le.push(re>>6|192,63&re|128)}else if(re<65536){if((L-=3)<0)break;Le.push(re>>12|224,re>>6&63|128,63&re|128)}else{if(!(re<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;Le.push(re>>18|240,re>>12&63|128,re>>6&63|128,63&re|128)}}return Le}function Y(K){return _.toByteArray(function(L){if((L=(L=L.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L}(K))}function q(K,L,re,ge){for(var Me=0;Me<ge&&!(Me+re>=L.length||Me>=K.length);++Me)L[Me+re]=K[Me];return Me}function ne(K,L){return K instanceof L||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===L.name}function de(K){return K!=K}var xe=function(){for(var K="0123456789abcdef",L=new Array(256),re=0;re<16;++re)for(var ge=16*re,Me=0;Me<16;++Me)L[ge+Me]=K[re]+K[Me];return L}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(o,W,C){W.exports=function(y){if("function"!=typeof y)throw TypeError(String(y)+" is not a function");return y}},{}],6:[function(o,W,C){var y=o("../internals/is-object");W.exports=function(_){if(y(_)||null===_)return _;throw TypeError("Can't set "+String(_)+" as a prototype")}},{"../internals/is-object":75}],7:[function(h,W,C){var y=h("../internals/well-known-symbol"),_=h("../internals/object-create"),f=(h=h("../internals/object-define-property"),y("unscopables")),E=Array.prototype;null==E[f]&&h.f(E,f,{configurable:!0,value:_(null)}),W.exports=function(w){E[f][w]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(o,W,C){"use strict";var y=o("../internals/string-multibyte").charAt;W.exports=function(_,h,f){return h+(f?y(_,h).length:1)}},{"../internals/string-multibyte":124}],9:[function(o,W,C){W.exports=function(y,_,h){if(y instanceof _)return y;throw TypeError("Incorrect "+(h?h+" ":"")+"invocation")}},{}],10:[function(o,W,C){var y=o("../internals/is-object");W.exports=function(_){if(y(_))return _;throw TypeError(String(_)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,W,C){W.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(D,W,C){"use strict";function y(Z){return w(Z)&&a(V,l(Z))}var _,h=D("../internals/array-buffer-native"),f=D("../internals/descriptors"),E=D("../internals/global"),w=D("../internals/is-object"),a=D("../internals/has"),l=D("../internals/classof"),d=D("../internals/create-non-enumerable-property"),u=D("../internals/redefine"),c=D("../internals/object-define-property").f,s=D("../internals/object-get-prototype-of"),m=D("../internals/object-set-prototype-of"),$=D("../internals/well-known-symbol"),p=(D=D("../internals/uid"),E.Int8Array),b=p&&p.prototype,O=(O=E.Uint8ClampedArray)&&O.prototype,N=p&&s(p),R=b&&s(b),k=Object.prototype,A=k.isPrototypeOf,j=($=$("toStringTag"),D("TYPED_ARRAY_TAG")),S=h&&!!m&&"Opera"!==l(E.opera),V=(D=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(_ in V)E[_]||(S=!1);if((!S||"function"!=typeof N||N===Function.prototype)&&(N=function(){throw TypeError("Incorrect invocation")},S))for(_ in V)E[_]&&m(E[_],N);if((!S||!R||R===k)&&(R=N.prototype,S))for(_ in V)E[_]&&m(E[_].prototype,R);if(S&&s(O)!==R&&m(O,R),f&&!a(R,$))for(_ in D=!0,c(R,$,{get:function(){return w(this)?this[j]:void 0}}),V)E[_]&&d(E[_],j,_);W.exports={NATIVE_ARRAY_BUFFER_VIEWS:S,TYPED_ARRAY_TAG:D&&j,aTypedArray:function(Z){if(y(Z))return Z;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(Z){if(m){if(A.call(N,Z))return Z}else for(var H in V)if(a(V,_)&&(H=E[H])&&(Z===H||A.call(H,Z)))return Z;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(Z,H,Q){if(f){if(Q)for(var Y in V)(Y=E[Y])&&a(Y.prototype,Z)&&delete Y.prototype[Z];R[Z]&&!Q||u(R,Z,!Q&&S&&b[Z]||H)}},exportTypedArrayStaticMethod:function(Z,H,Q){var Y,q;if(f){if(m){if(Q)for(Y in V)(q=E[Y])&&a(q,Z)&&delete q[Z];if(N[Z]&&!Q)return;try{return u(N,Z,!Q&&S&&p[Z]||H)}catch{}}for(Y in V)!(q=E[Y])||q[Z]&&!Q||u(q,Z,H)}},isView:function(Z){return"DataView"===(Z=l(Z))||a(V,Z)},isTypedArray:y,TypedArray:N,TypedArrayPrototype:R}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(re,W,C){"use strict";function y(Ae){return[255&Ae]}function _(Ae){return[255&Ae,Ae>>8&255]}function h(Ae){return[255&Ae,Ae>>8&255,Ae>>16&255,Ae>>24&255]}function f(Ae){return Ae[3]<<24|Ae[2]<<16|Ae[1]<<8|Ae[0]}function E(Ae){return Le(Ae,23,4)}function w(Ae){return Le(Ae,52,8)}function a(Ae,Qe){D(Ae[ne],Qe,{get:function(){return H(this)[Qe]}})}function l(jt,Qe,yt,vt){if((yt=k(yt))+Qe>(jt=H(jt)).byteLength)throw Me(de);return jt=H(jt.buffer).bytes.slice(yt+=jt.byteOffset,yt+Qe),vt?jt:jt.reverse()}function d(Ae,Qe,Ke,vt,mt,yt){if((Ke=k(Ke))+Qe>(Ae=H(Ae)).byteLength)throw Me(de);for(var jt=H(Ae.buffer).bytes,Ht=Ke+Ae.byteOffset,Rt=vt(+mt),an=0;an<Qe;an++)jt[Ht+an]=Rt[yt?an:Qe-an-1]}var u=re("../internals/global"),c=re("../internals/descriptors"),s=re("../internals/array-buffer-native"),m=re("../internals/create-non-enumerable-property"),p=re("../internals/redefine-all"),b=re("../internals/fails"),O=re("../internals/an-instance"),N=re("../internals/to-integer"),R=re("../internals/to-length"),k=re("../internals/to-index"),A=re("../internals/ieee754"),$=re("../internals/object-get-prototype-of"),j=re("../internals/object-set-prototype-of"),S=re("../internals/object-get-own-property-names").f,D=re("../internals/object-define-property").f,V=re("../internals/array-fill"),Z=re("../internals/set-to-string-tag"),H=(re=re("../internals/internal-state")).get,Q=re.set,Y="ArrayBuffer",q="DataView",ne="prototype",de="Wrong index",xe=u[Y],K=xe,L=u[q],ge=(re=L&&L[ne],Object.prototype),Me=u.RangeError,Le=A.pack,Ye=A.unpack;if(s){if(!b(function(){xe(1)})||!b(function(){new xe(-1)})||b(function(){return new xe,new xe(1.5),new xe(NaN),xe.name!=Y})){u=(K=function(Ke){return O(this,K),new xe(k(Ke))})[ne]=xe[ne];for(var et,Oe=S(xe),Ge=0;Oe.length>Ge;)(et=Oe[Ge++])in K||m(K,et,xe[et]);u.constructor=K}j&&$(re)!==ge&&j(re,ge),A=new L(new K(2));var Be=re.setInt8;A.setInt8(0,2147483648),A.setInt8(1,2147483649),!A.getInt8(0)&&A.getInt8(1)||p(re,{setInt8:function(Qe,Ke){Be.call(this,Qe,Ke<<24>>24)},setUint8:function(Qe,Ke){Be.call(this,Qe,Ke<<24>>24)}},{unsafe:!0})}else K=function(Ae){O(this,K,Y),Ae=k(Ae),Q(this,{bytes:V.call(new Array(Ae),0),byteLength:Ae}),c||(this.byteLength=Ae)},L=function(Ae,mt,Ke){O(this,L,q),O(Ae,K,q);var vt=H(Ae).byteLength;if((mt=N(mt))<0||vt<mt)throw Me("Wrong offset");if(vt<mt+(Ke=void 0===Ke?vt-mt:R(Ke)))throw Me("Wrong length");Q(this,{buffer:Ae,byteLength:Ke,byteOffset:mt}),c||(this.buffer=Ae,this.byteLength=Ke,this.byteOffset=mt)},c&&(a(K,"byteLength"),a(L,"buffer"),a(L,"byteLength"),a(L,"byteOffset")),p(L[ne],{getInt8:function(Ae){return l(this,1,Ae)[0]<<24>>24},getUint8:function(Ae){return l(this,1,Ae)[0]},getInt16:function(Ae){return((Ae=l(this,2,Ae,1<arguments.length?arguments[1]:void 0))[1]<<8|Ae[0])<<16>>16},getUint16:function(Ae){return(Ae=l(this,2,Ae,1<arguments.length?arguments[1]:void 0))[1]<<8|Ae[0]},getInt32:function(Ae){return f(l(this,4,Ae,1<arguments.length?arguments[1]:void 0))},getUint32:function(Ae){return f(l(this,4,Ae,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Ae){return Ye(l(this,4,Ae,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Ae){return Ye(l(this,8,Ae,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Ae,Qe){d(this,1,Ae,y,Qe)},setUint8:function(Ae,Qe){d(this,1,Ae,y,Qe)},setInt16:function(Ae,Qe){d(this,2,Ae,_,Qe,2<arguments.length?arguments[2]:void 0)},setUint16:function(Ae,Qe){d(this,2,Ae,_,Qe,2<arguments.length?arguments[2]:void 0)},setInt32:function(Ae,Qe){d(this,4,Ae,h,Qe,2<arguments.length?arguments[2]:void 0)},setUint32:function(Ae,Qe){d(this,4,Ae,h,Qe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Ae,Qe){d(this,4,Ae,E,Qe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Ae,Qe){d(this,8,Ae,w,Qe,2<arguments.length?arguments[2]:void 0)}});Z(K,Y),Z(L,q),W.exports={ArrayBuffer:K,DataView:L}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(o,W,C){"use strict";var y=o("../internals/to-object"),_=o("../internals/to-absolute-index"),h=o("../internals/to-length"),f=Math.min;W.exports=[].copyWithin||function(c,w){var a=y(this),l=h(a.length),d=_(c,l),u=_(w,l),s=f((void 0===(c=2<arguments.length?arguments[2]:void 0)?l:_(c,l))-u,l-d),m=1;for(u<d&&d<u+s&&(m=-1,u+=s-1,d+=s-1);0<s--;)u in a?a[d]=a[u]:delete a[d],d+=m,u+=m;return a}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(o,W,C){"use strict";var y=o("../internals/to-object"),_=o("../internals/to-absolute-index"),h=o("../internals/to-length");W.exports=function(f){for(var l,E=y(this),w=h(E.length),a=_(1<(l=arguments.length)?arguments[1]:void 0,w),d=void 0===(l=2<l?arguments[2]:void 0)?w:_(l,w);a<d;)E[a++]=f;return E}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(h,W,C){"use strict";var y=h("../internals/array-iteration").forEach,_=h("../internals/array-method-is-strict");h=h("../internals/array-method-uses-to-length"),_=_("forEach"),h=h("forEach"),W.exports=_&&h?[].forEach:function(f){return y(this,f,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,W,C){"use strict";var y=o("../internals/function-bind-context"),_=o("../internals/to-object"),h=o("../internals/call-with-safe-iteration-closing"),f=o("../internals/is-array-iterator-method"),E=o("../internals/to-length"),w=o("../internals/create-property"),a=o("../internals/get-iterator-method");W.exports=function(O){var d,u,c,s,m,p,b=_(O),N=(O="function"==typeof this?this:Array,arguments.length),R=1<N?arguments[1]:void 0,k=void 0!==R,A=a(b),$=0;if(k&&(R=y(R,2<N?arguments[2]:void 0,2)),null==A||O==Array&&f(A))for(u=new O(d=E(b.length));$<d;$++)p=k?R(b[$],$):b[$],w(u,$,p);else for(m=(s=A.call(b)).next,u=new O;!(c=m.call(s)).done;$++)p=k?h(s,R,[c.value,$],!0):c.value,w(u,$,p);return u.length=$,u}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(o,W,C){function y(E){return function(w,a,l){var d,u=_(w),c=h(u.length),s=f(l,c);if(E&&a!=a){for(;s<c;)if((d=u[s++])!=d)return!0}else for(;s<c;s++)if((E||s in u)&&u[s]===a)return E||s||0;return!E&&-1}}var _=o("../internals/to-indexed-object"),h=o("../internals/to-length"),f=o("../internals/to-absolute-index");W.exports={includes:y(!0),indexOf:y(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(o,W,C){function y(l){var d=1==l,u=2==l,c=3==l,s=4==l,m=6==l,p=5==l||m;return function(b,O,N,R){for(var k,A,$=f(b),j=h($),S=_(O,N,3),D=E(j.length),V=0,Z=(O=R||w,d?O(b,D):u?O(b,0):void 0);V<D;V++)if((p||V in j)&&(A=S(k=j[V],V,$),l))if(d)Z[V]=A;else if(A)switch(l){case 3:return!0;case 5:return k;case 6:return V;case 2:a.call(Z,k)}else if(s)return!1;return m?-1:c||s?s:Z}}var _=o("../internals/function-bind-context"),h=o("../internals/indexed-object"),f=o("../internals/to-object"),E=o("../internals/to-length"),w=o("../internals/array-species-create"),a=[].push;W.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(l,W,C){"use strict";var y=l("../internals/to-indexed-object"),_=l("../internals/to-integer"),h=l("../internals/to-length"),a=l("../internals/array-method-is-strict"),f=(l=l("../internals/array-method-uses-to-length"),Math.min),E=[].lastIndexOf,w=!!E&&1/[1].lastIndexOf(1,-0)<0;a=a("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0}),W.exports=!w&&a&&l?E:function(d){if(w)return E.apply(this,arguments)||0;var u=y(this),c=h(u.length),s=c-1;for((s=1<arguments.length?f(s,_(arguments[1])):s)<0&&(s=c+s);0<=s;s--)if(s in u&&u[s]===d)return s||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(o,W,C){var y=o("../internals/fails"),_=o("../internals/well-known-symbol"),h=o("../internals/engine-v8-version"),f=_("species");W.exports=function(E){return 51<=h||!y(function(){var w=[];return(w.constructor={})[f]=function(){return{foo:1}},1!==w[E](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(o,W,C){"use strict";var y=o("../internals/fails");W.exports=function(_,h){var f=[][_];return!!f&&y(function(){f.call(null,h||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,W,C){function y(a){throw a}var _=o("../internals/descriptors"),h=o("../internals/fails"),f=o("../internals/has"),E=Object.defineProperty,w={};W.exports=function(a,l){var d,u,c,s;return f(w,a)?w[a]:(d=[][a],u=!!f(l=l||{},"ACCESSORS")&&l.ACCESSORS,c=f(l,0)?l[0]:y,s=f(l,1)?l[1]:void 0,w[a]=!!d&&!h(function(){if(u&&!_)return!0;var m={length:-1};u?E(m,1,{enumerable:!0,get:y}):m[1]=1,d.call(m,c,s)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,W,C){function y(w){return function(a,l,d,u){_(l);var c=h(a),s=f(c),m=E(c.length),p=w?m-1:0,b=w?-1:1;if(d<2)for(;;){if(p in s){u=s[p],p+=b;break}if(p+=b,w?p<0:m<=p)throw TypeError("Reduce of empty array with no initial value")}for(;w?0<=p:p<m;p+=b)p in s&&(u=l(u,s[p],p,c));return u}}var _=o("../internals/a-function"),h=o("../internals/to-object"),f=o("../internals/indexed-object"),E=o("../internals/to-length");W.exports={left:y(!1),right:y(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(o,W,C){var y=o("../internals/is-object"),_=o("../internals/is-array"),h=o("../internals/well-known-symbol")("species");W.exports=function(f,E){var w;return new(void 0===(w=_(f)&&("function"==typeof(w=f.constructor)&&(w===Array||_(w.prototype))||y(w)&&null===(w=w[h]))?void 0:w)?Array:w)(0===E?0:E)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(o,W,C){var y=o("../internals/an-object");W.exports=function(_,h,f,E){try{return E?h(y(f)[0],f[1]):h(f)}catch(w){throw void 0!==(E=_.return)&&y(E.call(_)),w}}},{"../internals/an-object":10}],27:[function(o,W,C){var y=o("../internals/well-known-symbol")("iterator"),_=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){_=!0}};f[y]=function(){return this},Array.from(f,function(){throw 2})}catch{}W.exports=function(E,w){if(!w&&!_)return!1;var a=!1;try{var l={};l[y]=function(){return{next:function(){return{done:a=!0}}}},E(l)}catch{}return a}},{"../internals/well-known-symbol":149}],28:[function(o,W,C){var y={}.toString;W.exports=function(_){return y.call(_).slice(8,-1)}},{}],29:[function(o,W,C){var y=o("../internals/to-string-tag-support"),_=o("../internals/classof-raw"),h=o("../internals/well-known-symbol")("toStringTag"),f="Arguments"==_(function(){return arguments}());W.exports=y?_:function(E){var w;return void 0===E?"Undefined":null===E?"Null":"string"==typeof(w=function(a,l){try{return a[l]}catch{}}(E=Object(E),h))?w:f?_(E):"Object"==(w=_(E))&&"function"==typeof E.callee?"Arguments":w}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(c,W,C){"use strict";var y=c("../internals/object-define-property").f,_=c("../internals/object-create"),h=c("../internals/redefine-all"),f=c("../internals/function-bind-context"),E=c("../internals/an-instance"),w=c("../internals/iterate"),a=c("../internals/define-iterator"),l=c("../internals/set-species"),d=c("../internals/descriptors"),u=c("../internals/internal-metadata").fastKey,s=(c=c("../internals/internal-state")).set,m=c.getterFor;W.exports={getConstructor:function(p,b,O,N){function R(j,S,D){var V,Z=$(j),H=k(j,S);return H?H.value=D:(Z.last=H={index:V=u(S,!0),key:S,value:D,previous:S=Z.last,next:void 0,removed:!1},Z.first||(Z.first=H),S&&(S.next=H),d?Z.size++:j.size++,"F"!==V&&(Z.index[V]=H)),j}function k(V,S){V=$(V);var D,Z=u(S);if("F"!==Z)return V.index[Z];for(D=V.first;D;D=D.next)if(D.key==S)return D}var A=p(function(j,S){E(j,A,b),s(j,{type:b,index:_(null),first:void 0,last:void 0,size:0}),d||(j.size=0),null!=S&&w(S,j[N],j,O)}),$=m(b);return h(A.prototype,{clear:function(){for(var j=$(this),S=j.index,D=j.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete S[D.index],D=D.next;j.first=j.last=void 0,d?j.size=0:this.size=0},delete:function(Z){var S,D,V=$(this);return(Z=k(this,Z))&&(S=Z.next,D=Z.previous,delete V.index[Z.index],Z.removed=!0,D&&(D.next=S),S&&(S.previous=D),V.first==Z&&(V.first=S),V.last==Z&&(V.last=D),d?V.size--:this.size--),!!Z},forEach:function(j){for(var S,D=$(this),V=f(j,1<arguments.length?arguments[1]:void 0,3);S=S?S.next:D.first;)for(V(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(j){return!!k(this,j)}}),h(A.prototype,O?{get:function(j){return(j=k(this,j))&&j.value},set:function(j,S){return R(this,0===j?0:j,S)}}:{add:function(j){return R(this,j=0===j?0:j,j)}}),d&&y(A.prototype,"size",{get:function(){return $(this).size}}),A},setStrong:function(p,b,O){var N=b+" Iterator",R=m(b),k=m(N);a(p,b,function(A,$){s(this,{type:N,target:A,state:R(A),kind:$,last:void 0})},function(){for(var A=k(this),$=A.kind,j=A.last;j&&j.removed;)j=j.previous;return A.target&&(A.last=j=j?j.next:A.state.first)?"keys"==$?{value:j.key,done:!1}:"values"==$?{value:j.value,done:!1}:{value:[j.key,j.value],done:!1}:{value:A.target=void 0,done:!0}},O?"entries":"values",!O,!0),l(b)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(s,W,C){"use strict";function y(R){return R.frozen||(R.frozen=new _)}function _(){this.entries=[]}function h(R,k){return b(R.entries,function(A){return A[0]===k})}var f=s("../internals/redefine-all"),E=s("../internals/internal-metadata").getWeakData,w=s("../internals/an-object"),a=s("../internals/is-object"),l=s("../internals/an-instance"),d=s("../internals/iterate"),u=s("../internals/array-iteration"),c=s("../internals/has"),m=(s=s("../internals/internal-state")).set,p=s.getterFor,b=u.find,O=u.findIndex,N=0;_.prototype={get:function(R){if(R=h(this,R))return R[1]},has:function(R){return!!h(this,R)},set:function(R,k){var A=h(this,R);A?A[1]=k:this.entries.push([R,k])},delete:function(R){var k=O(this.entries,function(A){return A[0]===R});return~k&&this.entries.splice(k,1),!!~k}},W.exports={getConstructor:function(R,k,A,$){function j(V,Z,H){var Q=D(V),Y=E(w(Z),!0);return!0===Y?y(Q).set(Z,H):Y[Q.id]=H,V}var S=R(function(V,Z){l(V,S,k),m(V,{type:k,id:N++,frozen:void 0}),null!=Z&&d(Z,V[$],V,A)}),D=p(k);return f(S.prototype,{delete:function(V){var Z,H=D(this);return!!a(V)&&(!0===(Z=E(V))?y(H).delete(V):Z&&c(Z,H.id)&&delete Z[H.id])},has:function(V){var Z,H=D(this);return!!a(V)&&(!0===(Z=E(V))?y(H).has(V):Z&&c(Z,H.id))}}),f(S.prototype,A?{get:function(V){var Z,H=D(this);if(a(V))return!0===(Z=E(V))?y(H).get(V):Z?Z[H.id]:void 0},set:function(V,Z){return j(this,V,Z)}}:{add:function(V){return j(this,V,!0)}}),S}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(o,W,C){"use strict";var y=o("../internals/export"),_=o("../internals/global"),h=o("../internals/is-forced"),f=o("../internals/redefine"),E=o("../internals/internal-metadata"),w=o("../internals/iterate"),a=o("../internals/an-instance"),l=o("../internals/is-object"),d=o("../internals/fails"),u=o("../internals/check-correctness-of-iteration"),c=o("../internals/set-to-string-tag"),s=o("../internals/inherit-if-required");W.exports=function(m,p,b){function O(Y){var q=Z[Y];f(Z,Y,"add"==Y?function(ne){return q.call(this,0===ne?0:ne),this}:"delete"==Y?function(ne){return!(S&&!l(ne))&&q.call(this,0===ne?0:ne)}:"get"==Y?function(ne){return S&&!l(ne)?void 0:q.call(this,0===ne?0:ne)}:"has"==Y?function(ne){return!(S&&!l(ne))&&q.call(this,0===ne?0:ne)}:function(ne,de){return q.call(this,0===ne?0:ne,de),this})}var N,R,k,A,$,j=-1!==m.indexOf("Map"),S=-1!==m.indexOf("Weak"),D=j?"set":"add",V=_[m],Z=V&&V.prototype,H=V,Q={};return h(m,"function"!=typeof V||!(S||Z.forEach&&!d(function(){(new V).entries().next()})))?(H=b.getConstructor(p,m,j,D),E.REQUIRED=!0):h(m,!0)&&(R=(N=new H)[D](S?{}:-0,1)!=N,k=d(function(){N.has(1)}),A=u(function(Y){new V(Y)}),$=!S&&d(function(){for(var Y=new V,q=5;q--;)Y[D](q,q);return!Y.has(-0)}),A||(((H=p(function(Y,q){return a(Y,H,m),Y=s(new V,Y,H),null!=q&&w(q,Y[D],Y,j),Y})).prototype=Z).constructor=H),(k||$)&&(O("delete"),O("has"),j&&O("get")),($||R)&&O(D),S&&Z.clear&&delete Z.clear),Q[m]=H,y({global:!0,forced:H!=V},Q),c(H,m),S||b.setStrong(H,m,j),H}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(o,W,C){var y=o("../internals/has"),_=o("../internals/own-keys"),h=o("../internals/object-get-own-property-descriptor"),f=o("../internals/object-define-property");W.exports=function(E,w){for(var a=_(w),l=f.f,d=h.f,u=0;u<a.length;u++){var c=a[u];y(E,c)||l(E,c,d(w,c))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(o,W,C){var y=o("../internals/well-known-symbol")("match");W.exports=function(_){var h=/./;try{"/./"[_](h)}catch{try{return h[y]=!1,"/./"[_](h)}catch{}}return!1}},{"../internals/well-known-symbol":149}],35:[function(o,W,C){o=o("../internals/fails"),W.exports=!o(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":51}],36:[function(o,W,C){var y=o("../internals/require-object-coercible"),_=/"/g;W.exports=function(a,f,E,w){a=String(y(a));var l="<"+f;return""!==E&&(l+=" "+E+'="'+String(w).replace(_,"&quot;")+'"'),l+">"+a+"</"+f+">"}},{"../internals/require-object-coercible":114}],37:[function(o,W,C){"use strict";function y(){return this}var _=o("../internals/iterators-core").IteratorPrototype,h=o("../internals/object-create"),f=o("../internals/create-property-descriptor"),E=o("../internals/set-to-string-tag"),w=o("../internals/iterators");W.exports=function(a,l,d){return l+=" Iterator",a.prototype=h(_,{next:f(1,d)}),E(a,l,!1,!0),w[l]=y,a}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(o,W,C){var y=o("../internals/descriptors"),_=o("../internals/object-define-property"),h=o("../internals/create-property-descriptor");W.exports=y?function(f,E,w){return _.f(f,E,h(1,w))}:function(f,E,w){return f[E]=w,f}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,W,C){W.exports=function(y,_){return{enumerable:!(1&y),configurable:!(2&y),writable:!(4&y),value:_}}},{}],40:[function(o,W,C){"use strict";var y=o("../internals/to-primitive"),_=o("../internals/object-define-property"),h=o("../internals/create-property-descriptor");W.exports=function(f,E,w){(E=y(E))in f?_.f(f,E,h(0,w)):f[E]=w}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(s,W,C){"use strict";function y(){return this}var _=s("../internals/export"),h=s("../internals/create-iterator-constructor"),f=s("../internals/object-get-prototype-of"),E=s("../internals/object-set-prototype-of"),w=s("../internals/set-to-string-tag"),a=s("../internals/create-non-enumerable-property"),l=s("../internals/redefine"),d=s("../internals/well-known-symbol"),u=s("../internals/is-pure"),c=s("../internals/iterators"),m=(s=s("../internals/iterators-core")).IteratorPrototype,p=s.BUGGY_SAFARI_ITERATORS,b=d("iterator"),O="values",N="entries";W.exports=function(R,k,A,Q,j,S,D){function V(K){if(K===j&&de)return de;if(!p&&K in q)return q[K];switch(K){case"keys":case O:case N:return function(){return new A(this,K)}}return function(){return new A(this)}}h(A,k,Q),Q=k+" Iterator";var Z,H,Y=!1,q=R.prototype,ne=q[b]||q["@@iterator"]||j&&q[j],de=!p&&ne||V(j),xe="Array"==k&&q.entries||ne;if(xe&&(xe=f(xe.call(new R)),m!==Object.prototype&&xe.next&&(u||f(xe)===m||(E?E(xe,m):"function"!=typeof xe[b]&&a(xe,b,y)),w(xe,Q,!0,!0),u&&(c[Q]=y))),j==O&&ne&&ne.name!==O&&(Y=!0,de=function(){return ne.call(this)}),u&&!D||q[b]===de||a(q,b,de),c[k]=de,j)if(Z={values:V(O),keys:S?de:V("keys"),entries:V(N)},D)for(H in Z)!p&&!Y&&H in q||l(q,H,Z[H]);else _({target:k,proto:!0,forced:p||Y},Z);return Z}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(o,W,C){var y=o("../internals/path"),_=o("../internals/has"),h=o("../internals/well-known-symbol-wrapped"),f=o("../internals/object-define-property").f;W.exports=function(E){var w=y.Symbol||(y.Symbol={});_(w,E)||f(w,E,{value:h.f(E)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(o,W,C){o=o("../internals/fails"),W.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(_,W,C){var y=_("../internals/global"),h=(_=_("../internals/is-object"),y.document),f=_(h)&&_(h.createElement);W.exports=function(E){return f?h.createElement(E):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,W,C){W.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,W,C){o=o("../internals/engine-user-agent"),W.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,W,C){o=o("../internals/get-built-in"),W.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(h,W,C){var y,_,f=h("../internals/global");h=h("../internals/engine-user-agent"),(f=(f=(f=f.process)&&f.versions)&&f.v8)?_=(y=f.split("."))[0]+y[1]:h&&(!(y=h.match(/Edge\/(\d+)/))||74<=y[1])&&(y=h.match(/Chrome\/(\d+)/))&&(_=y[1]),W.exports=_&&+_},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,W,C){W.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,W,C){var y=o("../internals/global"),_=o("../internals/object-get-own-property-descriptor").f,h=o("../internals/create-non-enumerable-property"),f=o("../internals/redefine"),E=o("../internals/set-global"),w=o("../internals/copy-constructor-properties"),a=o("../internals/is-forced");W.exports=function(l,d){var u,c,s,m=l.target,p=l.global,b=l.stat,O=p?y:b?y[m]||E(m,{}):(y[m]||{}).prototype;if(O)for(u in d){if(c=d[u],s=l.noTargetGet?(s=_(O,u))&&s.value:O[u],!a(p?u:m+(b?".":"#")+u,l.forced)&&void 0!==s){if(typeof c==typeof s)continue;w(c,s)}(l.sham||s&&s.sham)&&h(c,"sham",!0),f(O,u,c,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(o,W,C){W.exports=function(y){try{return!!y()}catch{return!0}}},{}],52:[function(d,W,C){"use strict";d("../modules/es.regexp.exec");var y=d("../internals/redefine"),_=d("../internals/fails"),h=d("../internals/well-known-symbol"),f=d("../internals/regexp-exec"),E=d("../internals/create-non-enumerable-property"),w=h("species"),a=!_(function(){var s=/./;return s.exec=function(){var m=[];return m.groups={a:"7"},m},"7"!=="".replace(s,"$<a>")}),l="$0"==="a".replace(/./,"$0"),u=!!/./[d=h("replace")]&&""===/./[d]("a","$0"),c=!_(function(){var s=(m=/(?:)/).exec,m=(m.exec=function(){return s.apply(this,arguments)},"ab".split(m));return 2!==m.length||"a"!==m[0]||"b"!==m[1]});W.exports=function(s,m,p,b){var O,N,R=h(s),k=!_(function(){var $={};return $[R]=function(){return 7},7!=""[s]($)}),A=k&&!_(function(){var $=!1,j=/a/;return"split"===s&&((j={constructor:{}}).constructor[w]=function(){return j},j.flags="",j[R]=/./[R]),j.exec=function(){return $=!0,null},j[R](""),!$});k&&A&&("replace"!==s||a&&l&&!u)&&("split"!==s||c)||(O=/./[R],p=(A=p(R,""[s],function($,j,S,D,V){return j.exec===f?k&&!V?{done:!0,value:O.call(j,S,D)}:{done:!0,value:$.call(S,j,D)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}))[0],N=A[1],y(String.prototype,s,p),y(RegExp.prototype,R,2==m?function($,j){return N.call($,this,j)}:function($){return N.call($,this)})),b&&E(RegExp.prototype[R],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(o,W,C){"use strict";var _=o("../internals/is-array"),h=o("../internals/to-length"),f=o("../internals/function-bind-context");W.exports=function y(E,w,a,l,d,u,c,s){for(var m,p=d,b=0,O=!!c&&f(c,s,3);b<l;){if(b in a){if(m=O?O(a[b],b,w):a[b],0<u&&_(m))p=y(E,w,m,h(m.length),p,u-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");E[p]=m}p++}b++}return p}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(o,W,C){o=o("../internals/fails"),W.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,W,C){var y=o("../internals/a-function");W.exports=function(_,h,f){if(y(_),void 0===h)return _;switch(f){case 0:return function(){return _.call(h)};case 1:return function(E){return _.call(h,E)};case 2:return function(E,w){return _.call(h,E,w)};case 3:return function(E,w,a){return _.call(h,E,w,a)}}return function(){return _.apply(h,arguments)}}},{"../internals/a-function":5}],56:[function(o,W,C){"use strict";var y=o("../internals/a-function"),_=o("../internals/is-object"),h=[].slice,f={};W.exports=Function.bind||function(E){var w=y(this),a=h.call(arguments,1),l=function(){var d=a.concat(h.call(arguments));if(this instanceof l){var u=w,c=d.length,s=d;if(!(c in f)){for(var m=[],p=0;p<c;p++)m[p]="a["+p+"]";f[c]=Function("C,a","return new C("+m.join(",")+")")}return f[c](u,s)}return w.apply(E,d)};return _(w.prototype)&&(l.prototype=w.prototype),l}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,W,C){function y(f){return"function"==typeof f?f:void 0}var _=o("../internals/path"),h=o("../internals/global");W.exports=function(f,E){return arguments.length<2?y(_[f])||y(h[f]):_[f]&&_[f][E]||h[f]&&h[f][E]}},{"../internals/global":60,"../internals/path":105}],58:[function(o,W,C){var y=o("../internals/classof"),_=o("../internals/iterators"),h=o("../internals/well-known-symbol")("iterator");W.exports=function(f){if(null!=f)return f[h]||f["@@iterator"]||_[y(f)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(o,W,C){var y=o("../internals/an-object"),_=o("../internals/get-iterator-method");W.exports=function(h){var f=_(h);if("function"!=typeof f)throw TypeError(String(h)+" is not iterable");return y(f.call(h))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,W,C){(function(y){function _(h){return h&&h.Math==Math&&h}W.exports=_("object"==typeof globalThis&&globalThis)||_("object"==typeof window&&window)||_("object"==typeof self&&self)||_("object"==typeof y&&y)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,W,C){var y={}.hasOwnProperty;W.exports=function(_,h){return y.call(_,h)}},{}],62:[function(o,W,C){W.exports={}},{}],63:[function(o,W,C){var y=o("../internals/global");W.exports=function(_,h){var f=y.console;f&&f.error&&(1===arguments.length?f.error(_):f.error(_,h))}},{"../internals/global":60}],64:[function(o,W,C){o=o("../internals/get-built-in"),W.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,W,C){var y=o("../internals/descriptors"),_=o("../internals/fails"),h=o("../internals/document-create-element");W.exports=!y&&!_(function(){return 7!=Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,W,C){var y=Math.abs,_=Math.pow,h=Math.floor,f=Math.log,E=Math.LN2;W.exports={pack:function(w,a,p){var d,u,c,s=new Array(p),m=8*p-a-1,b=(p=(1<<m)-1)>>1,O=23===a?_(2,-24)-_(2,-77):0,N=w<0||0===w&&1/w<0?1:0,R=0;for((w=y(w))!=w||w===1/0?(u=w!=w?1:0,d=p):(d=h(f(w)/E),w*(c=_(2,-d))<1&&(d--,c*=2),2<=(w+=1<=d+b?O/c:O*_(2,1-b))*c&&(d++,c/=2),p<=d+b?(u=0,d=p):1<=d+b?(u=(w*c-1)*_(2,a),d+=b):(u=w*_(2,b-1)*_(2,a),d=0));8<=a;s[R++]=255&u,u/=256,a-=8);for(d=d<<a|u,m+=a;0<m;s[R++]=255&d,d/=256,m-=8);return s[--R]|=128*N,s},unpack:function(w,a){var l,p,d=w.length,u=(1<<(p=8*d-a-1))-1,c=u>>1,s=p-7,m=d-1,b=127&(p=w[m--]);for(p>>=7;0<s;b=256*b+w[m],m--,s-=8);for(l=b&(1<<-s)-1,b>>=-s,s+=a;0<s;l=256*l+w[m],m--,s-=8);if(0===b)b=1-c;else{if(b===u)return l?NaN:p?-1/0:1/0;l+=_(2,a),b-=c}return(p?-1:1)*l*_(2,b-a)}}},{}],67:[function(o,W,C){var y=o("../internals/fails"),_=o("../internals/classof-raw"),h="".split;W.exports=y(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return"String"==_(f)?h.call(f,""):Object(f)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,W,C){var y=o("../internals/is-object"),_=o("../internals/object-set-prototype-of");W.exports=function(h,f,E){return _&&"function"==typeof(f=f.constructor)&&f!==E&&y(f=f.prototype)&&f!==E.prototype&&_(h,f),h}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(y,W,C){y=y("../internals/shared-store");var _=Function.toString;"function"!=typeof y.inspectSource&&(y.inspectSource=function(h){return _.call(h)}),W.exports=y.inspectSource},{"../internals/shared-store":120}],70:[function(o,W,C){function y(s){E(s,l,{value:{objectID:"O"+ ++d,weakData:{}}})}var _=o("../internals/hidden-keys"),h=o("../internals/is-object"),f=o("../internals/has"),E=o("../internals/object-define-property").f,w=o("../internals/uid"),a=o("../internals/freezing"),l=w("meta"),d=0,u=Object.isExtensible||function(){return!0},c=W.exports={REQUIRED:!1,fastKey:function(s,m){if(!h(s))return"symbol"==typeof s?s:("string"==typeof s?"S":"P")+s;if(!f(s,l)){if(!u(s))return"F";if(!m)return"E";y(s)}return s[l].objectID},getWeakData:function(s,m){if(!f(s,l)){if(!u(s))return!0;if(!m)return!1;y(s)}return s[l].weakData},onFreeze:function(s){return a&&c.REQUIRED&&u(s)&&!f(s,l)&&y(s),s}};_[l]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(p,W,C){var y,_,h,f,E,w,a,l,d=p("../internals/native-weak-map"),b=p("../internals/global"),u=p("../internals/is-object"),c=p("../internals/create-non-enumerable-property"),s=p("../internals/has"),m=p("../internals/shared-key");p=p("../internals/hidden-keys"),b=b.WeakMap,a=d?(y=new b,_=y.get,h=y.has,f=y.set,E=function(O,N){return f.call(y,O,N),N},w=function(O){return _.call(y,O)||{}},function(O){return h.call(y,O)}):(p[l=m("state")]=!0,E=function(O,N){return c(O,l,N),N},w=function(O){return s(O,l)?O[l]:{}},function(O){return s(O,l)}),W.exports={set:E,get:w,has:a,enforce:function(O){return a(O)?w(O):E(O,{})},getterFor:function(O){return function(N){if(u(N)&&(N=w(N)).type===O)return N;throw TypeError("Incompatible receiver, "+O+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(o,W,C){var y=o("../internals/well-known-symbol"),_=o("../internals/iterators"),h=y("iterator"),f=Array.prototype;W.exports=function(E){return void 0!==E&&(_.Array===E||f[h]===E)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(o,W,C){var y=o("../internals/classof-raw");W.exports=Array.isArray||function(_){return"Array"==y(_)}},{"../internals/classof-raw":28}],74:[function(o,W,C){function y(l,d){return(l=E[f(l)])==a||l!=w&&("function"==typeof d?_(d):!!d)}var _=o("../internals/fails"),h=/#|\.prototype\./,f=y.normalize=function(l){return String(l).replace(h,".").toLowerCase()},E=y.data={},w=y.NATIVE="N",a=y.POLYFILL="P";W.exports=y},{"../internals/fails":51}],75:[function(o,W,C){W.exports=function(y){return"object"==typeof y?null!==y:"function"==typeof y}},{}],76:[function(o,W,C){W.exports=!1},{}],77:[function(o,W,C){var y=o("../internals/is-object"),_=o("../internals/classof-raw"),h=o("../internals/well-known-symbol")("match");W.exports=function(f){var E;return y(f)&&(void 0!==(E=f[h])?!!E:"RegExp"==_(f))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(o,W,C){function y(l,d){this.stopped=l,this.result=d}var _=o("../internals/an-object"),h=o("../internals/is-array-iterator-method"),f=o("../internals/to-length"),E=o("../internals/function-bind-context"),w=o("../internals/get-iterator-method"),a=o("../internals/call-with-safe-iteration-closing");(W.exports=function(l,d,u,c,s){var m,p,b,O,N,R,k=E(d,u,c?2:1);if(s)m=l;else{if("function"!=typeof(d=w(l)))throw TypeError("Target is not iterable");if(h(d)){for(p=0,b=f(l.length);p<b;p++)if((O=c?k(_(R=l[p])[0],R[1]):k(l[p]))&&O instanceof y)return O;return new y(!1)}m=d.call(l)}for(N=m.next;!(R=N.call(m)).done;)if("object"==typeof(O=a(m,k,R.value,c))&&O&&O instanceof y)return O;return new y(!1)}).stop=function(l){return new y(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(w,W,C){"use strict";var y,_,h=w("../internals/object-get-prototype-of"),f=w("../internals/create-non-enumerable-property"),E=w("../internals/has"),a=w("../internals/well-known-symbol"),l=(w=w("../internals/is-pure"),a=a("iterator"),!1);[].keys&&("next"in(_=[].keys())?(h=h(h(_)))!==Object.prototype&&(y=h):l=!0),null==y&&(y={}),w||E(y,a)||f(y,a,function(){return this}),W.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(o,W,C){W.exports={}},{}],81:[function(o,W,C){W.exports=Math.sign||function(y){return 0==(y=+y)||y!=y?y:y<0?-1:1}},{}],82:[function(c,W,C){var y,_,h,f,E,w,a,l,d=c("../internals/global"),N=c("../internals/object-get-own-property-descriptor").f,O=c("../internals/classof-raw"),u=c("../internals/task").set,s=(c=c("../internals/engine-is-ios"),d.MutationObserver||d.WebKitMutationObserver),m=d.process,p=d.Promise,b="process"==O(m);O=N(d,"queueMicrotask"),(N=O&&O.value)||(y=function(){var R,k;for(b&&(R=m.domain)&&R.exit();_;){k=_.fn,_=_.next;try{k()}catch(A){throw _?f():h=void 0,A}}h=void 0,R&&R.enter()},f=b?function(){m.nextTick(y)}:s&&!c?(E=!0,w=document.createTextNode(""),new s(y).observe(w,{characterData:!0}),function(){w.data=E=!E}):p&&p.resolve?(a=p.resolve(void 0),l=a.then,function(){l.call(a,y)}):function(){u.call(d,y)}),W.exports=N||function(R){R={fn:R,next:void 0},h&&(h.next=R),_||(_=R,f()),h=R}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(o,W,C){o=o("../internals/global"),W.exports=o.Promise},{"../internals/global":60}],84:[function(o,W,C){o=o("../internals/fails"),W.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,W,C){var y=o("../internals/fails"),_=o("../internals/well-known-symbol"),h=o("../internals/is-pure"),f=_("iterator");W.exports=!y(function(){var E=new URL("b?a=1&b=2&c=3","http://a"),w=E.searchParams,a="";return E.pathname="c%20d",w.forEach(function(l,d){w.delete("b"),a+=d+l}),h&&!E.toJSON||!w.sort||"http://a/c%20d?a=1&c=3"!==E.href||"3"!==w.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!w[f]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(y,W,C){var _=y("../internals/global");y=y("../internals/inspect-source"),W.exports="function"==typeof(_=_.WeakMap)&&/native code/.test(y(_))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,W,C){"use strict";function y(h){var f,E;this.promise=new h(function(w,a){if(void 0!==f||void 0!==E)throw TypeError("Bad Promise constructor");f=w,E=a}),this.resolve=_(f),this.reject=_(E)}var _=o("../internals/a-function");W.exports.f=function(h){return new y(h)}},{"../internals/a-function":5}],88:[function(o,W,C){var y=o("../internals/is-regexp");W.exports=function(_){if(y(_))throw TypeError("The method doesn't accept regular expressions");return _}},{"../internals/is-regexp":77}],89:[function(o,W,C){var y=o("../internals/global").isFinite;W.exports=Number.isFinite||function(_){return"number"==typeof _&&y(_)}},{"../internals/global":60}],90:[function(o,W,C){"use strict";var y=o("../internals/descriptors"),_=o("../internals/fails"),h=o("../internals/object-keys"),f=o("../internals/object-get-own-property-symbols"),E=o("../internals/object-property-is-enumerable"),w=o("../internals/to-object"),a=o("../internals/indexed-object"),l=Object.assign,d=Object.defineProperty;W.exports=!l||_(function(){var u,c,s,m;return!(!y||1===l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(c={},m="abcdefghijklmnopqrst",(u={})[s=Symbol()]=7,m.split("").forEach(function(p){c[p]=p}),7!=l({},u)[s]||h(l({},c)).join("")!=m)})?function(u,c){for(var s=w(u),m=arguments.length,p=1,b=f.f,O=E.f;p<m;)for(var N,R=a(arguments[p++]),k=b?h(R).concat(b(R)):h(R),A=k.length,$=0;$<A;)N=k[$++],y&&!O.call(R,N)||(s[N]=R[N]);return s}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(d,W,C){function y(){}var _,h=d("../internals/an-object"),f=d("../internals/object-define-properties"),E=d("../internals/enum-bug-keys"),w=d("../internals/hidden-keys"),a=d("../internals/html"),l=d("../internals/document-create-element"),u=(d=d("../internals/shared-key"),"prototype"),c="script",s=d("IE_PROTO"),m=function(b){return"<"+c+">"+b+"</"+c+">"},p=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}p=_?((b=_).write(m("")),b.close(),O=b.parentWindow.Object,b=null,O):(b=l("iframe"),O="java"+c+":",b.style.display="none",a.appendChild(b),b.src=String(O),(O=b.contentWindow.document).open(),O.write(m("document.F=Object")),O.close(),O.F);for(var b,O,N=E.length;N--;)delete p[u][E[N]];return p()};w[s]=!0,W.exports=Object.create||function(b,O){var N;return null!==b?(y[u]=h(b),N=new y,y[u]=null,N[s]=b):N=p(),void 0===O?N:f(N,O)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(o,W,C){var y=o("../internals/descriptors"),_=o("../internals/object-define-property"),h=o("../internals/an-object"),f=o("../internals/object-keys");W.exports=y?Object.defineProperties:function(E,w){h(E);for(var a,l=f(w),d=l.length,u=0;u<d;)_.f(E,a=l[u++],w[a]);return E}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,W,C){var y=o("../internals/descriptors"),_=o("../internals/ie8-dom-define"),h=o("../internals/an-object"),f=o("../internals/to-primitive"),E=Object.defineProperty;C.f=y?E:function(w,a,l){if(h(w),a=f(a,!0),h(l),_)try{return E(w,a,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(w[a]=l.value),w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(o,W,C){var y=o("../internals/descriptors"),_=o("../internals/object-property-is-enumerable"),h=o("../internals/create-property-descriptor"),f=o("../internals/to-indexed-object"),E=o("../internals/to-primitive"),w=o("../internals/has"),a=o("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;C.f=y?l:function(d,u){if(d=f(d),u=E(u,!0),a)try{return l(d,u)}catch{}if(w(d,u))return h(!_.f.call(d,u),d[u])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(o,W,C){var y=o("../internals/to-indexed-object"),_=o("../internals/object-get-own-property-names").f,h={}.toString,f="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];W.exports.f=function(E){if(!f||"[object Window]"!=h.call(E))return _(y(E));try{return _(E)}catch{return f.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(o,W,C){var y=o("../internals/object-keys-internal"),_=o("../internals/enum-bug-keys").concat("length","prototype");C.f=Object.getOwnPropertyNames||function(h){return y(h,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,W,C){C.f=Object.getOwnPropertySymbols},{}],98:[function(f,W,C){var y=f("../internals/has"),_=f("../internals/to-object"),h=f("../internals/shared-key"),E=(f=f("../internals/correct-prototype-getter"),h("IE_PROTO")),w=Object.prototype;W.exports=f?Object.getPrototypeOf:function(a){return a=_(a),y(a,E)?a[E]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?w:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(o,W,C){var y=o("../internals/has"),_=o("../internals/to-indexed-object"),h=o("../internals/array-includes").indexOf,f=o("../internals/hidden-keys");W.exports=function(E,w){var a,l=_(E),d=0,u=[];for(a in l)!y(f,a)&&y(l,a)&&u.push(a);for(;w.length>d;)!y(l,a=w[d++])||~h(u,a)||u.push(a);return u}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(o,W,C){var y=o("../internals/object-keys-internal"),_=o("../internals/enum-bug-keys");W.exports=Object.keys||function(h){return y(h,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,W,C){"use strict";var y={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,h=_&&!y.call({1:2},1);C.f=h?function(f){return!!(f=_(this,f))&&f.enumerable}:y},{}],102:[function(o,W,C){var y=o("../internals/an-object"),_=o("../internals/a-possible-prototype");W.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,f=!1,E={};try{(h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),f=E instanceof Array}catch{}return function(w,a){return y(w),_(a),f?h.call(w,a):w.__proto__=a,w}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,W,C){"use strict";var y=o("../internals/to-string-tag-support"),_=o("../internals/classof");W.exports=y?{}.toString:function(){return"[object "+_(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(o,W,C){var y=o("../internals/get-built-in"),_=o("../internals/object-get-own-property-names"),h=o("../internals/object-get-own-property-symbols"),f=o("../internals/an-object");W.exports=y("Reflect","ownKeys")||function(E){var w=_.f(f(E)),a=h.f;return a?w.concat(a(E)):w}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(o,W,C){o=o("../internals/global"),W.exports=o},{"../internals/global":60}],106:[function(o,W,C){W.exports=function(y){try{return{error:!1,value:y()}}catch(_){return{error:!0,value:_}}}},{}],107:[function(o,W,C){var y=o("../internals/an-object"),_=o("../internals/is-object"),h=o("../internals/new-promise-capability");W.exports=function(f,E){return y(f),_(E)&&E.constructor===f?E:((0,(f=h.f(f)).resolve)(E),f.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(o,W,C){var y=o("../internals/redefine");W.exports=function(_,h,f){for(var E in h)y(_,E,h[E],f);return _}},{"../internals/redefine":109}],109:[function(w,W,C){var y=w("../internals/global"),_=w("../internals/create-non-enumerable-property"),h=w("../internals/has"),f=w("../internals/set-global"),E=w("../internals/inspect-source"),a=(w=w("../internals/internal-state")).get,l=w.enforce,d=String(String).split("String");(W.exports=function(u,c,s,O){var p=!!O&&!!O.unsafe,b=!!O&&!!O.enumerable;O=!!O&&!!O.noTargetGet,"function"==typeof s&&("string"!=typeof c||h(s,"name")||_(s,"name",c),l(s).source=d.join("string"==typeof c?c:"")),u===y?b?u[c]=s:f(c,s):(p?!O&&u[c]&&(b=!0):delete u[c],b?u[c]=s:_(u,c,s))})(Function.prototype,"toString",function(){return"function"==typeof this&&a(this).source||E(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(o,W,C){var y=o("./classof-raw"),_=o("./regexp-exec");W.exports=function(h,f){var E=h.exec;if("function"==typeof E){if("object"!=typeof(E=E.call(h,f)))throw TypeError("RegExp exec method returned something other than an Object or null");return E}if("RegExp"!==y(h))throw TypeError("RegExp#exec called on incompatible receiver");return _.call(h,f)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(f,W,C){"use strict";var y,_,h=f("./regexp-flags"),E=(f=f("./regexp-sticky-helpers"),RegExp.prototype.exec),w=String.prototype.replace,a=E,l=(_=/b*/g,E.call(y=/a/,"a"),E.call(_,"a"),0!==y.lastIndex||0!==_.lastIndex),d=f.UNSUPPORTED_Y||f.BROKEN_CARET,u=void 0!==/()??/.exec("")[1];W.exports=a=l||u||d?function(c){var s,m,p,b,O=this,N=d&&O.sticky,R=h.call(O),k=O.source,A=0,$=c;return N&&(-1===(R=R.replace("y","")).indexOf("g")&&(R+="g"),$=String(c).slice(O.lastIndex),0<O.lastIndex&&(!O.multiline||O.multiline&&"\n"!==c[O.lastIndex-1])&&(k="(?: "+k+")",$=" "+$,A++),m=new RegExp("^(?:"+k+")",R)),u&&(m=new RegExp("^"+k+"$(?!\\s)",R)),l&&(s=O.lastIndex),p=E.call(N?m:O,$),N?p?(p.input=p.input.slice(A),p[0]=p[0].slice(A),p.index=O.lastIndex,O.lastIndex+=p[0].length):O.lastIndex=0:l&&p&&(O.lastIndex=O.global?p.index+p[0].length:s),u&&p&&1<p.length&&w.call(p[0],m,function(){for(b=1;b<arguments.length-2;b++)void 0===arguments[b]&&(p[b]=void 0)}),p}:a},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(o,W,C){"use strict";var y=o("../internals/an-object");W.exports=function(){var _=y(this),h="";return _.global&&(h+="g"),_.ignoreCase&&(h+="i"),_.multiline&&(h+="m"),_.dotAll&&(h+="s"),_.unicode&&(h+="u"),_.sticky&&(h+="y"),h}},{"../internals/an-object":10}],113:[function(o,W,C){"use strict";function y(_,h){return RegExp(_,h)}o=o("./fails"),C.UNSUPPORTED_Y=o(function(){var _=y("a","y");return _.lastIndex=2,null!=_.exec("abcd")}),C.BROKEN_CARET=o(function(){var _=y("^r","gy");return _.lastIndex=2,null!=_.exec("str")})},{"./fails":51}],114:[function(o,W,C){W.exports=function(y){if(null==y)throw TypeError("Can't call method on "+y);return y}},{}],115:[function(o,W,C){W.exports=Object.is||function(y,_){return y===_?0!==y||1/y==1/_:y!=y&&_!=_}},{}],116:[function(o,W,C){var y=o("../internals/global"),_=o("../internals/create-non-enumerable-property");W.exports=function(h,f){try{_(y,h,f)}catch{y[h]=f}return f}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(o,W,C){"use strict";var y=o("../internals/get-built-in"),_=o("../internals/object-define-property"),h=o("../internals/well-known-symbol"),f=o("../internals/descriptors"),E=h("species");W.exports=function(a){a=y(a),f&&a&&!a[E]&&(0,_.f)(a,E,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(o,W,C){var y=o("../internals/object-define-property").f,_=o("../internals/has"),h=o("../internals/well-known-symbol")("toStringTag");W.exports=function(f,E,w){f&&!_(f=w?f:f.prototype,h)&&y(f,h,{configurable:!0,value:E})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(o,W,C){var y=o("../internals/shared"),_=o("../internals/uid"),h=y("keys");W.exports=function(f){return h[f]||(h[f]=_(f))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(y,W,C){var h=y("../internals/global"),_=(y=y("../internals/set-global"),"__core-js_shared__");h=h[_]||y(_,{}),W.exports=h},{"../internals/global":60,"../internals/set-global":116}],121:[function(o,W,C){var y=o("../internals/is-pure"),_=o("../internals/shared-store");(W.exports=function(h,f){return _[h]||(_[h]=void 0!==f?f:{})})("versions",[]).push({version:"3.6.5",mode:y?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(o,W,C){var y=o("../internals/an-object"),_=o("../internals/a-function"),h=o("../internals/well-known-symbol")("species");W.exports=function(w,E){return void 0===(w=y(w).constructor)||null==(w=y(w)[h])?E:_(w)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(o,W,C){var y=o("../internals/fails");W.exports=function(_){return y(function(){var h=""[_]('"');return h!==h.toLowerCase()||3<h.split('"').length})}},{"../internals/fails":51}],124:[function(o,W,C){function y(f){return function(l,d){l=String(h(l)),d=_(d);var a,u=l.length;return d<0||u<=d?f?"":void 0:(a=l.charCodeAt(d))<55296||56319<a||d+1===u||(u=l.charCodeAt(d+1))<56320||57343<u?f?l.charAt(d):a:f?l.slice(d,d+2):u-56320+(a-55296<<10)+65536}}var _=o("../internals/to-integer"),h=o("../internals/require-object-coercible");W.exports={codeAt:y(!1),charAt:y(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(o,W,C){o=o("../internals/engine-user-agent"),W.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],126:[function(o,W,C){function y(w){return function(u,m,s){var c=(u=String(f(u))).length;return s=void 0===s?" ":String(s),(m=_(m))<=c||""==s?u:((c=h.call(s,E((m-=c)/s.length))).length>m&&(c=c.slice(0,m)),w?u+c:c+u)}}var _=o("../internals/to-length"),h=o("../internals/string-repeat"),f=o("../internals/require-object-coercible"),E=Math.ceil;W.exports={start:y(!1),end:y(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(o,W,C){"use strict";function y(p){return p+22+75*(p<26)}function _(p){var b,O=[],N=(p=function(ne){for(var de=[],xe=0,K=ne.length;xe<K;){var L,re=ne.charCodeAt(xe++);55296<=re&&re<=56319&&xe<K?56320==(64512&(L=ne.charCodeAt(xe++)))?de.push(((1023&re)<<10)+(1023&L)+65536):(de.push(re),xe--):de.push(re)}return de}(p)).length,R=128,k=0,A=72;for(D=0;D<p.length;D++)(b=p[D])<128&&O.push(m(b));var $=O.length,j=$;for($&&O.push("-");j<N;){for(var S=h,D=0;D<p.length;D++)R<=(b=p[D])&&b<S&&(S=b);var V=j+1;if(S-R>s((h-k)/V))throw RangeError(u);for(k+=(S-R)*V,R=S,D=0;D<p.length;D++){if((b=p[D])<R&&++k>h)throw RangeError(u);if(b==R){for(var Z=k,H=f;;H+=f){var Q=H<=A?1:A+E<=H?E:H-A;if(Z<Q)break;var Y=Z-Q,q=f-Q;O.push(m(y(Q+Y%q))),Z=s(Y/q)}O.push(m(y(Z))),A=function(ne,de,xe){var K=0;for(ne=xe?s(ne/a):ne>>1,ne+=s(ne/de);c*E>>1<ne;K+=f)ne=s(ne/c);return s(K+(c+1)*ne/(ne+w))}(k,V,j==$),k=0,++j}}++k,++R}return O.join("")}var h=2147483647,f=36,E=26,w=38,a=700,l=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",c=f-1,s=Math.floor,m=String.fromCharCode;W.exports=function(p){for(var b,O=[],N=p.toLowerCase().replace(d,".").split("."),R=0;R<N.length;R++)O.push(l.test(b=N[R])?"xn--"+_(b):b);return O.join(".")}},{}],128:[function(o,W,C){"use strict";var y=o("../internals/to-integer"),_=o("../internals/require-object-coercible");W.exports="".repeat||function(h){var f=String(_(this)),E="",w=y(h);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=1)&&(f+=f))1&w&&(E+=f);return E}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(o,W,C){var y=o("../internals/fails"),_=o("../internals/whitespaces");W.exports=function(h){return y(function(){return!!_[h]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[h]()||_[h].name!==h})}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(h,W,C){function y(w){return function(a){return a=String(_(a)),1&w&&(a=a.replace(f,"")),2&w?a.replace(E,""):a}}var _=h("../internals/require-object-coercible"),f=(h="["+h("../internals/whitespaces")+"]",RegExp("^"+h+h+"*")),E=RegExp(h+h+"*$");W.exports={start:y(1),end:y(2),trim:y(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(c,W,C){function y(j){return function(){$(j)}}function _(j){$(j.data)}function h(j){E.postMessage(j+"",s.protocol+"//"+s.host)}var f,E=c("../internals/global"),w=c("../internals/fails"),a=c("../internals/classof-raw"),l=c("../internals/function-bind-context"),d=c("../internals/html"),u=c("../internals/document-create-element"),s=(c=c("../internals/engine-is-ios"),E.location),m=E.setImmediate,p=E.clearImmediate,b=E.process,O=E.MessageChannel,N=E.Dispatch,R=0,k={},A="onreadystatechange",$=function(j){var S;k.hasOwnProperty(j)&&(S=k[j],delete k[j],S())};m&&p||(m=function(j){for(var S=[],D=1;D<arguments.length;)S.push(arguments[D++]);return k[++R]=function(){("function"==typeof j?j:Function(j)).apply(void 0,S)},f(R),R},p=function(j){delete k[j]},"process"==a(b)?f=function(j){b.nextTick(y(j))}:N&&N.now?f=function(j){N.now(y(j))}:O&&!c?(c=(a=new O).port2,a.port1.onmessage=_,f=l(c.postMessage,c,1)):!E.addEventListener||"function"!=typeof postMessage||E.importScripts||w(h)||"file:"===s.protocol?f=A in u("script")?function(j){d.appendChild(u("script"))[A]=function(){d.removeChild(this),$(j)}}:function(j){setTimeout(y(j),0)}:(f=h,E.addEventListener("message",_,!1))),W.exports={set:m,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(o,W,C){var y=o("../internals/classof-raw");W.exports=function(_){if("number"!=typeof _&&"Number"!=y(_))throw TypeError("Incorrect invocation");return+_}},{"../internals/classof-raw":28}],133:[function(o,W,C){var y=o("../internals/to-integer"),_=Math.max,h=Math.min;W.exports=function(f,E){return(f=y(f))<0?_(f+E,0):h(f,E)}},{"../internals/to-integer":136}],134:[function(o,W,C){var y=o("../internals/to-integer"),_=o("../internals/to-length");W.exports=function(f){if(void 0===f)return 0;f=y(f);var E=_(f);if(f!==E)throw RangeError("Wrong length or index");return E}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(o,W,C){var y=o("../internals/indexed-object"),_=o("../internals/require-object-coercible");W.exports=function(h){return y(_(h))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(o,W,C){var y=Math.ceil,_=Math.floor;W.exports=function(h){return isNaN(h=+h)?0:(0<h?_:y)(h)}},{}],137:[function(o,W,C){var y=o("../internals/to-integer"),_=Math.min;W.exports=function(h){return 0<h?_(y(h),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(o,W,C){var y=o("../internals/require-object-coercible");W.exports=function(_){return Object(y(_))}},{"../internals/require-object-coercible":114}],139:[function(o,W,C){var y=o("../internals/to-positive-integer");W.exports=function(_,h){if((_=y(_))%h)throw RangeError("Wrong offset");return _}},{"../internals/to-positive-integer":140}],140:[function(o,W,C){var y=o("../internals/to-integer");W.exports=function(_){if((_=y(_))<0)throw RangeError("The argument can't be less than 0");return _}},{"../internals/to-integer":136}],141:[function(o,W,C){var y=o("../internals/is-object");W.exports=function(_,h){if(!y(_))return _;var f,E;if(h&&"function"==typeof(f=_.toString)&&!y(E=f.call(_))||"function"==typeof(f=_.valueOf)&&!y(E=f.call(_))||!h&&"function"==typeof(f=_.toString)&&!y(E=f.call(_)))return E;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(o,W,C){var y={};y[o("../internals/well-known-symbol")("toStringTag")]="z",W.exports="[object z]"===String(y)},{"../internals/well-known-symbol":149}],143:[function(o,W,C){"use strict";function y(mt,yt){for(var jt=0,Ht=yt.length,Rt=new(Ae(mt))(Ht);jt<Ht;)Rt[jt]=yt[jt++];return Rt}function _(mt,yt){L(mt,yt,{get:function(){return xe(this)[yt]}})}function h(mt){return mt instanceof Le||"ArrayBuffer"==(mt=$(mt))||"SharedArrayBuffer"==mt}function f(mt,yt){return Qe(mt)&&"symbol"!=typeof yt&&yt in mt&&String(+yt)==String(yt)}function E(mt,yt){return f(mt,yt=k(yt,!0))?p(2,mt[yt]):re(mt,yt)}function w(mt,yt,jt){return!(f(mt,yt=k(yt,!0))&&j(jt)&&A(jt,"value"))||A(jt,"get")||A(jt,"set")||jt.configurable||A(jt,"writable")&&!jt.writable||A(jt,"enumerable")&&!jt.enumerable?L(mt,yt,jt):(mt[yt]=jt.value,mt)}var a=o("../internals/export"),l=o("../internals/global"),d=o("../internals/descriptors"),u=o("../internals/typed-array-constructors-require-wrappers"),c=o("../internals/array-buffer-view-core"),s=o("../internals/array-buffer"),m=o("../internals/an-instance"),p=o("../internals/create-property-descriptor"),b=o("../internals/create-non-enumerable-property"),O=o("../internals/to-length"),N=o("../internals/to-index"),R=o("../internals/to-offset"),k=o("../internals/to-primitive"),A=o("../internals/has"),$=o("../internals/classof"),j=o("../internals/is-object"),S=o("../internals/object-create"),D=o("../internals/object-set-prototype-of"),V=o("../internals/object-get-own-property-names").f,Z=o("../internals/typed-array-from"),H=o("../internals/array-iteration").forEach,Q=o("../internals/set-species"),Y=o("../internals/object-define-property"),q=o("../internals/object-get-own-property-descriptor"),ne=o("../internals/internal-state"),de=o("../internals/inherit-if-required"),xe=ne.get,K=ne.set,L=Y.f,re=q.f,ge=Math.round,Me=l.RangeError,Le=s.ArrayBuffer,Ye=s.DataView,et=c.NATIVE_ARRAY_BUFFER_VIEWS,Oe=c.TYPED_ARRAY_TAG,Ge=c.TypedArray,Be=c.TypedArrayPrototype,Ae=c.aTypedArrayConstructor,Qe=c.isTypedArray,Ke="BYTES_PER_ELEMENT",vt="Wrong length";d?(et||(q.f=E,Y.f=w,_(Be,"buffer"),_(Be,"byteOffset"),_(Be,"byteLength"),_(Be,"length")),a({target:"Object",stat:!0,forced:!et},{getOwnPropertyDescriptor:E,defineProperty:w}),W.exports=function(lt,yt,jt){function Ht(_t,Pe){L(_t,Pe,{get:function(){var Fe=this,Ie=Pe;return(Fe=xe(Fe)).view[on](Ie*Rt+Fe.byteOffset,!0)},set:function(Fe){var Ie=this,Ze=Pe;Ie=xe(Ie),jt&&(Fe=(Fe=ge(Fe))<0?0:255<Fe?255:255&Fe),Ie.view[fn](Ze*Rt+Ie.byteOffset,Fe,!0)},enumerable:!0})}var Rt=lt.match(/\d+$/)[0]/8,an=lt+(jt?"Clamped":"")+"Array",on="get"+lt,fn="set"+lt,zt=l[an],Ut=zt,Nt=(lt=Ut&&Ut.prototype,{});et?u&&(Ut=yt(function(_t,Pe,Fe,Ie){return m(_t,Ut,an),de(j(Pe)?h(Pe)?void 0!==Ie?new zt(Pe,R(Fe,Rt),Ie):void 0!==Fe?new zt(Pe,R(Fe,Rt)):new zt(Pe):Qe(Pe)?y(Ut,Pe):Z.call(Ut,Pe):new zt(N(Pe)),_t,Ut)}),D&&D(Ut,Ge),H(V(zt),function(_t){_t in Ut||b(Ut,_t,zt[_t])}),Ut.prototype=lt):(Ut=yt(function(_t,Pe,Fe,Ie){m(_t,Ut,an);var Ze,wt,Dt=0,Gt=0;if(j(Pe)){if(!h(Pe))return Qe(Pe)?y(Ut,Pe):Z.call(Ut,Pe);var rn=Pe;if(Gt=R(Fe,Rt),Fe=Pe.byteLength,void 0===Ie){if(Fe%Rt||(Ze=Fe-Gt)<0)throw Me(vt)}else if(Fe<(Ze=O(Ie)*Rt)+Gt)throw Me(vt);wt=Ze/Rt}else wt=N(Pe),rn=new Le(Ze=wt*Rt);for(K(_t,{buffer:rn,byteOffset:Gt,byteLength:Ze,length:wt,view:new Ye(rn)});Dt<wt;)Ht(_t,Dt++)}),D&&D(Ut,Ge),lt=Ut.prototype=S(Be)),lt.constructor!==Ut&&b(lt,"constructor",Ut),Oe&&b(lt,Oe,an),Nt[an]=Ut,a({global:!0,forced:Ut!=zt,sham:!et},Nt),Ke in Ut||b(Ut,Ke,Rt),Ke in lt||b(lt,Ke,Rt),Q(an)}):W.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(f,W,C){var y=f("../internals/global"),_=f("../internals/fails"),h=f("../internals/check-correctness-of-iteration"),E=(f=f("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,y.ArrayBuffer),w=y.Int8Array;W.exports=!f||!_(function(){w(1)})||!_(function(){new w(-1)})||!h(function(a){new w,new w(null),new w(1.5),new w(a)},!0)||_(function(){return 1!==new w(new E(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(o,W,C){var y=o("../internals/to-object"),_=o("../internals/to-length"),h=o("../internals/get-iterator-method"),f=o("../internals/is-array-iterator-method"),E=o("../internals/function-bind-context"),w=o("../internals/array-buffer-view-core").aTypedArrayConstructor;W.exports=function(a){var l,d,u,c,s,m,p=y(a),b=arguments.length,O=1<b?arguments[1]:void 0,N=void 0!==O,R=h(p);if(null!=R&&!f(R))for(m=(s=R.call(p)).next,p=[];!(c=m.call(s)).done;)p.push(c.value);for(N&&2<b&&(O=E(O,arguments[2],2)),d=_(p.length),u=new(w(this))(d),l=0;l<d;l++)u[l]=N?O(p[l],l):p[l];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(o,W,C){var y=0,_=Math.random();W.exports=function(h){return"Symbol("+String(void 0===h?"":h)+")_"+(++y+_).toString(36)}},{}],147:[function(o,W,C){o=o("../internals/native-symbol"),W.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],148:[function(o,W,C){o=o("../internals/well-known-symbol"),C.f=o},{"../internals/well-known-symbol":149}],149:[function(w,W,C){var y=w("../internals/global"),_=w("../internals/shared"),h=w("../internals/has"),f=w("../internals/uid"),E=w("../internals/native-symbol"),a=(w=w("../internals/use-symbol-as-uid"),_("wks")),l=y.Symbol,d=w?l:l&&l.withoutSetter||f;W.exports=function(u){return h(a,u)||(a[u]=E&&h(l,u)?l[u]:d("Symbol."+u)),a[u]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(o,W,C){W.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],151:[function(h,W,C){"use strict";var y=h("../internals/export"),_=h("../internals/global"),E=h("../internals/array-buffer"),f=(h=h("../internals/set-species"),"ArrayBuffer");y({global:!0,forced:_[f]!==(E=E[f])},{ArrayBuffer:E}),h(f)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(p,W,C){"use strict";var y=p("../internals/export"),_=p("../internals/fails"),h=p("../internals/is-array"),f=p("../internals/is-object"),E=p("../internals/to-object"),w=p("../internals/to-length"),a=p("../internals/create-property"),l=p("../internals/array-species-create"),d=p("../internals/array-method-has-species-support"),m=p("../internals/well-known-symbol"),u=(p=p("../internals/engine-v8-version"),m("isConcatSpreadable")),c=9007199254740991,s="Maximum allowed index exceeded";m=51<=p||!_(function(){var b=[];return b[u]=!1,b.concat()[0]!==b}),p=d("concat"),y({target:"Array",proto:!0,forced:!m||!p},{concat:function(b){for(var O,N,R,k,A,$=E(this),j=l($,0),S=0,D=-1,V=arguments.length;D<V;D++)if(A=void 0,f(k=R=-1===D?$:arguments[D])&&(void 0!==(A=k[u])?A:h(k))){if(N=w(R.length),c<S+N)throw TypeError(s);for(O=0;O<N;O++,S++)O in R&&a(j,S,R[O])}else{if(c<=S)throw TypeError(s);a(j,S++,R)}return j.length=S,j}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(h,W,C){var y=h("../internals/export"),_=h("../internals/array-copy-within");h=h("../internals/add-to-unscopables"),y({target:"Array",proto:!0},{copyWithin:_}),h("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(f,W,C){"use strict";var y=f("../internals/export"),_=f("../internals/array-iteration").every,h=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),h=h("every"),f=f("every"),y({target:"Array",proto:!0,forced:!h||!f},{every:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(h,W,C){var y=h("../internals/export"),_=h("../internals/array-fill");h=h("../internals/add-to-unscopables"),y({target:"Array",proto:!0},{fill:_}),h("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(f,W,C){"use strict";var y=f("../internals/export"),_=f("../internals/array-iteration").filter,h=f("../internals/array-method-has-species-support");f=f("../internals/array-method-uses-to-length"),h=h("filter"),f=f("filter"),y({target:"Array",proto:!0,forced:!h||!f},{filter:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(w,W,C){"use strict";var y=w("../internals/export"),_=w("../internals/array-iteration").findIndex,h=w("../internals/add-to-unscopables"),f=(w=w("../internals/array-method-uses-to-length"),"findIndex"),E=!0;w=w(f),f in[]&&Array(1)[f](function(){E=!1}),y({target:"Array",proto:!0,forced:E||!w},{findIndex:function(a){return _(this,a,1<arguments.length?arguments[1]:void 0)}}),h(f)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(o,W,C){"use strict";var y=o("../internals/export"),_=o("../internals/flatten-into-array"),h=o("../internals/to-object"),f=o("../internals/to-length"),E=o("../internals/a-function"),w=o("../internals/array-species-create");y({target:"Array",proto:!0},{flatMap:function(a){var l,d=h(this),u=f(d.length);return E(a),(l=w(d,0)).length=_(l,d,d,u,0,1,a,1<arguments.length?arguments[1]:void 0),l}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(o,W,C){"use strict";var y=o("../internals/export"),_=o("../internals/flatten-into-array"),h=o("../internals/to-object"),f=o("../internals/to-length"),E=o("../internals/to-integer"),w=o("../internals/array-species-create");y({target:"Array",proto:!0},{flat:function(){var a=arguments.length?arguments[0]:void 0,l=h(this),d=f(l.length),u=w(l,0);return u.length=_(u,l,l,d,0,void 0===a?1:E(a)),u}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(_,W,C){"use strict";var y=_("../internals/export");_=_("../internals/array-for-each"),y({target:"Array",proto:!0,forced:[].forEach!=_},{forEach:_})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(o,W,C){var y=o("../internals/export"),_=o("../internals/array-from");y({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(h){Array.from(h)})},{from:_})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(o,W,C){"use strict";var y=o("../internals/export"),_=o("../internals/array-includes").includes,h=o("../internals/add-to-unscopables");y({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(f){return _(this,f,1<arguments.length?arguments[1]:void 0)}}),h("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(w,W,C){"use strict";var y=w("../internals/export"),_=w("../internals/array-includes").indexOf,E=w("../internals/array-method-is-strict"),h=(w=w("../internals/array-method-uses-to-length"),[].indexOf),f=!!h&&1/[1].indexOf(1,-0)<0;E=E("indexOf"),w=w("indexOf",{ACCESSORS:!0,1:0}),y({target:"Array",proto:!0,forced:f||!E||!w},{indexOf:function(a){return f?h.apply(this,arguments)||0:_(this,a,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(E,W,C){"use strict";var y=E("../internals/to-indexed-object"),_=E("../internals/add-to-unscopables"),h=E("../internals/iterators"),f=E("../internals/internal-state"),w=(E=E("../internals/define-iterator"),"Array Iterator"),a=f.set,l=f.getterFor(w);W.exports=E(Array,"Array",function(d,u){a(this,{type:w,target:y(d),index:0,kind:u})},function(){var d=l(this),u=d.target,c=d.kind,s=d.index++;return!u||s>=u.length?{value:d.target=void 0,done:!0}:"keys"==c?{value:s,done:!1}:"values"==c?{value:u[s],done:!1}:{value:[s,u[s]],done:!1}},"values"),h.Arguments=h.Array,_("keys"),_("values"),_("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(E,W,C){"use strict";var y=E("../internals/export"),f=E("../internals/indexed-object"),_=E("../internals/to-indexed-object"),h=(E=E("../internals/array-method-is-strict"),[].join);f=f!=Object,E=E("join",","),y({target:"Array",proto:!0,forced:f||!E},{join:function(w){return h.call(_(this),void 0===w?",":w)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(_,W,C){_("../internals/export")({target:"Array",proto:!0,forced:(_=_("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:_})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(f,W,C){"use strict";var y=f("../internals/export"),_=f("../internals/array-iteration").map,h=f("../internals/array-method-has-species-support");f=f("../internals/array-method-uses-to-length"),h=h("map"),f=f("map"),y({target:"Array",proto:!0,forced:!h||!f},{map:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(u,W,C){"use strict";var y=u("../internals/export"),_=u("../internals/is-object"),h=u("../internals/is-array"),f=u("../internals/to-absolute-index"),E=u("../internals/to-length"),w=u("../internals/to-indexed-object"),a=u("../internals/create-property"),l=u("../internals/well-known-symbol"),d=u("../internals/array-method-has-species-support"),c=(u=u("../internals/array-method-uses-to-length"),d=d("slice"),u=u("slice",{ACCESSORS:!0,0:0,1:2}),l("species")),s=[].slice,m=Math.max;y({target:"Array",proto:!0,forced:!d||!u},{slice:function(p,b){var O,N,R,k=w(this),A=E(k.length),$=f(p,A),j=f(void 0===b?A:b,A);if(h(k)&&((O="function"==typeof(O=k.constructor)&&(O===Array||h(O.prototype))||_(O)&&null===(O=O[c])?void 0:O)===Array||void 0===O))return s.call(k,$,j);for(N=new(void 0===O?Array:O)(m(j-$,0)),R=0;$<j;$++,R++)$ in k&&a(N,R,k[$]);return N.length=R,N}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(f,W,C){"use strict";var y=f("../internals/export"),_=f("../internals/array-iteration").some,h=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),h=h("some"),f=f("some"),y({target:"Array",proto:!0,forced:!h||!f},{some:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(d,W,C){"use strict";var y=d("../internals/export"),_=d("../internals/to-absolute-index"),h=d("../internals/to-integer"),f=d("../internals/to-length"),E=d("../internals/to-object"),w=d("../internals/array-species-create"),a=d("../internals/create-property"),l=d("../internals/array-method-has-species-support"),u=(d=d("../internals/array-method-uses-to-length"),l=l("splice"),d=d("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),c=Math.min;y({target:"Array",proto:!0,forced:!l||!d},{splice:function(S,m){var p,b,O,N,R,k,A=E(this),$=f(A.length),j=_(S,$);if(0===(S=arguments.length)?p=b=0:b=1===S?(p=0,$-j):(p=S-2,c(u(h(m),0),$-j)),9007199254740991<$+p-b)throw TypeError("Maximum allowed length exceeded");for(O=w(A,b),N=0;N<b;N++)(R=j+N)in A&&a(O,N,A[R]);if(p<(O.length=b)){for(N=j;N<$-b;N++)k=N+p,(R=N+b)in A?A[k]=A[R]:delete A[k];for(N=$;$-b+p<N;N--)delete A[N-1]}else if(b<p)for(N=$-b;j<N;N--)k=N+p-1,(R=N+b-1)in A?A[k]=A[R]:delete A[k];for(N=0;N<p;N++)A[N+j]=arguments[N+2];return A.length=$-b+p,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(o,W,C){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(o,W,C){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(_,W,C){var y=_("../internals/descriptors"),h=(_=_("../internals/object-define-property").f,Function.prototype),f=h.toString,E=/^\s*function ([^ (]*)/;!y||"name"in h||_(h,"name",{configurable:!0,get:function(){try{return f.call(this).match(E)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(_,W,C){"use strict";var y=_("../internals/collection");_=_("../internals/collection-strong"),W.exports=y("Map",function(h){return function(){return h(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(y,W,C){y=y("../internals/export");var _=Math.hypot,h=Math.abs,f=Math.sqrt;y({target:"Math",stat:!0,forced:!!_&&_(1/0,NaN)!==1/0},{hypot:function(E,w){for(var a,l,d=0,u=0,c=arguments.length,s=0;u<c;)s<(a=h(arguments[u++]))?(d=d*(l=s/a)*l+1,s=a):d+=0<a?(l=a/s)*l:a;return s===1/0?1/0:s*f(d)}})},{"../internals/export":50}],176:[function(y,W,C){y=y("../internals/export");var _=Math.log,h=Math.LN2;y({target:"Math",stat:!0},{log2:function(f){return _(f)/h}})},{"../internals/export":50}],177:[function(o,W,C){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(o,W,C){"use strict";function y(D){var V,Z,H,Q,Y,q,ne,de=d(D,!1);if("string"==typeof de&&2<de.length)if(43===(D=(de=b(de)).charCodeAt(0))||45===D){if(88===(V=de.charCodeAt(2))||120===V)return NaN}else if(48===D){switch(de.charCodeAt(1)){case 66:case 98:Z=2,H=49;break;case 79:case 111:Z=8,H=55;break;default:return+de}for(Y=(Q=de.slice(2)).length,q=0;q<Y;q++)if((ne=Q.charCodeAt(q))<48||H<ne)return NaN;return parseInt(Q,Z)}return+de}var _=o("../internals/descriptors"),h=o("../internals/global"),f=o("../internals/is-forced"),E=o("../internals/redefine"),w=o("../internals/has"),a=o("../internals/classof-raw"),l=o("../internals/inherit-if-required"),d=o("../internals/to-primitive"),u=o("../internals/fails"),c=o("../internals/object-create"),s=o("../internals/object-get-own-property-names").f,m=o("../internals/object-get-own-property-descriptor").f,p=o("../internals/object-define-property").f,b=o("../internals/string-trim").trim,O="Number",N=h[O],R=N.prototype,k=a(c(R))==O;if(f(O,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var A,$=function(V){V=arguments.length<1?0:V;var Z=this;return Z instanceof $&&(k?u(function(){R.valueOf.call(Z)}):a(Z)!=O)?l(new N(y(V)),Z,$):y(V)},j=_?s(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;j.length>S;S++)w(N,A=j[S])&&!w($,A)&&p($,A,m(N,A));($.prototype=R).constructor=$,E(h,O,$)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(o,W,C){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(w,W,C){"use strict";function y(d,u,c){return 0===u?c:u%2==1?y(d,u-1,c*d):y(d*d,u/2,c)}var _=w("../internals/export"),h=w("../internals/to-integer"),f=w("../internals/this-number-value"),E=w("../internals/string-repeat"),a=(w=w("../internals/fails"),1..toFixed),l=Math.floor;_({target:"Number",proto:!0,forced:a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!w(function(){a.call({})})},{toFixed:function(O){function u(A,$){for(var j=-1,S=$;++j<6;)N[j]=(S+=A*N[j])%1e7,S=l(S/1e7)}function c(A){for(var $=6,j=0;0<=--$;)N[$]=l((j+=N[$])/A),j=j%A*1e7}function s(){for(var A,$=6,j="";0<=--$;)""===j&&0!==$&&0===N[$]||(A=String(N[$]),j=""===j?A:j+E.call("0",7-A.length)+A);return j}var m,p,b=f(this),N=(O=h(O),[0,0,0,0,0,0]),R="",k="0";if(O<0||20<O)throw RangeError("Incorrect fraction digits");if(b!=b)return"NaN";if(b<=-1e21||1e21<=b)return String(b);if(b<0&&(R="-",b=-b),1e-21<b)if(b=(m=function(A){for(var $=0,j=A;4096<=j;)$+=12,j/=4096;for(;2<=j;)$+=1,j/=2;return $}(b*y(2,69,1))-69)<0?b*y(2,-m,1):b/y(2,m,1),b*=4503599627370496,0<(m=52-m)){for(u(0,b),p=O;7<=p;)u(1e7,0),p-=7;for(u(y(10,p,1),0),p=m-1;23<=p;)c(1<<23),p-=23;c(1<<p),u(1,1),c(2),k=s()}else u(0,b),u(1<<-m,0),k=s()+E.call("0",O);return 0<O?R+((b=k.length)<=O?"0."+E.call("0",O-b)+k:k.slice(0,b-O)+"."+k.slice(b-O)):R+k}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(_,W,C){var y=_("../internals/export");_=_("../internals/object-assign"),y({target:"Object",stat:!0,forced:Object.assign!==_},{assign:_})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(o,W,C){var y=o("../internals/export"),_=o("../internals/iterate"),h=o("../internals/create-property");y({target:"Object",stat:!0},{fromEntries:function(f){var E={};return _(f,function(w,a){h(E,w,a)},void 0,!0),E}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(f,W,C){var y=f("../internals/export"),E=f("../internals/fails"),_=f("../internals/to-indexed-object"),h=f("../internals/object-get-own-property-descriptor").f;f=f("../internals/descriptors"),E=E(function(){h(1)}),y({target:"Object",stat:!0,forced:!f||E,sham:!f},{getOwnPropertyDescriptor:function(w,a){return h(_(w),a)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(h,W,C){var y=h("../internals/export"),_=h("../internals/fails");h=h("../internals/object-get-own-property-names-external").f,y({target:"Object",stat:!0,forced:_(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(E,W,C){var y=E("../internals/export"),_=E("../internals/fails"),h=E("../internals/to-object"),f=E("../internals/object-get-prototype-of");E=E("../internals/correct-prototype-getter"),y({target:"Object",stat:!0,forced:_(function(){f(1)}),sham:!E},{getPrototypeOf:function(w){return f(h(w))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(o,W,C){var y=o("../internals/export"),_=o("../internals/to-object"),h=o("../internals/object-keys");y({target:"Object",stat:!0,forced:o("../internals/fails")(function(){h(1)})},{keys:function(f){return h(_(f))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(h,W,C){var y=h("../internals/to-string-tag-support"),_=h("../internals/redefine");h=h("../internals/object-to-string"),y||_(Object.prototype,"toString",h,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function(jt,W,C){"use strict";var y,_,h,f,E=jt("../internals/export"),w=jt("../internals/is-pure"),a=jt("../internals/global"),l=jt("../internals/get-built-in"),d=jt("../internals/native-promise-constructor"),u=jt("../internals/redefine"),c=jt("../internals/redefine-all"),s=jt("../internals/set-to-string-tag"),m=jt("../internals/set-species"),p=jt("../internals/is-object"),b=jt("../internals/a-function"),O=jt("../internals/an-instance"),N=jt("../internals/classof-raw"),R=jt("../internals/inspect-source"),k=jt("../internals/iterate"),A=jt("../internals/check-correctness-of-iteration"),$=jt("../internals/species-constructor"),j=jt("../internals/task").set,S=jt("../internals/microtask"),D=jt("../internals/promise-resolve"),V=jt("../internals/host-report-errors"),Z=jt("../internals/new-promise-capability"),H=jt("../internals/perform"),Q=jt("../internals/internal-state"),Y=jt("../internals/is-forced"),Ht=jt("../internals/well-known-symbol"),q=jt("../internals/engine-v8-version"),ne=Ht("species"),de="Promise",xe=Q.get,K=Q.set,L=Q.getterFor(de),re=d,ge=a.TypeError,Me=a.document,Le=a.process,Ye=l("fetch"),et=Z.f,Oe=et,Ge="process"==N(Le),Be=!!(Me&&Me.createEvent&&a.dispatchEvent),Ae="unhandledrejection",Rt=(Ht=(jt=Y(de,function(){var Nt,_t;return R(re)===String(re)&&(66===q||!Ge&&"function"!=typeof PromiseRejectionEvent)||!((!w||re.prototype.finally)&&(51<=q&&/native code/.test(re)||(_t=function(Pe){Pe(function(){},function(){})},((Nt=re.resolve(1)).constructor={})[ne]=_t,Nt.then(function(){})instanceof _t)))}))||!A(function(Nt){re.all(Nt).catch(function(){})}),function(Nt){var _t;return!(!p(Nt)||"function"!=typeof(_t=Nt.then))&&_t}),an=function(Nt,_t,Pe){var Fe;_t.notified||(_t.notified=!0,Fe=_t.reactions,S(function(){for(var Ie,Ze,wt=_t.value,Dt=1==_t.state,Gt=0;Fe.length>Gt;){var rn,bn,_n,St=Fe[Gt++],Et=Dt?St.ok:St.fail,it=St.resolve,ze=St.reject,ut=St.domain;try{Et?(Dt||(2===_t.rejection&&function(xt,en){j.call(a,function(){Ge?Le.emit("rejectionHandled",xt):on("rejectionhandled",xt,en.value)})}(Nt,_t),_t.rejection=1),!0===Et?rn=wt:(ut&&ut.enter(),rn=Et(wt),ut&&(ut.exit(),_n=!0)),rn===St.promise?ze(ge("Promise-chain cycle")):(bn=Rt(rn))?bn.call(rn,it,ze):it(rn)):ze(wt)}catch(xt){ut&&!_n&&ut.exit(),ze(xt)}}_t.reactions=[],_t.notified=!1,Pe&&!_t.rejection&&(Ie=Nt,Ze=_t,j.call(a,function(){var xt=Ze.value,en=fn(Ze);if(en&&(en=H(function(){Ge?Le.emit("unhandledRejection",xt,Ie):on(Ae,Ie,xt)}),Ze.rejection=Ge||fn(Ze)?2:1,en.error))throw en.value}))}))},on=function(Nt,_t,Pe){var Fe;Be?((Fe=Me.createEvent("Event")).promise=_t,Fe.reason=Pe,Fe.initEvent(Nt,!1,!0),a.dispatchEvent(Fe)):Fe={promise:_t,reason:Pe},(_t=a["on"+Nt])?_t(Fe):Nt===Ae&&V("Unhandled promise rejection",Pe)},fn=function(Nt){return 1!==Nt.rejection&&!Nt.parent},zt=function(Nt,_t,Pe,Fe){return function(Ie){Nt(_t,Pe,Ie,Fe)}},Ut=function(Nt,_t,Pe,Fe){_t.done||(_t.done=!0,(_t=Fe||_t).value=Pe,_t.state=2,an(Nt,_t,!0))},lt=function(Nt,_t,Pe,Fe){if(!_t.done){_t.done=!0,Fe&&(_t=Fe);try{if(Nt===Pe)throw ge("Promise can't be resolved itself");var Ie=Rt(Pe);Ie?S(function(){var Ze={done:!1};try{Ie.call(Pe,zt(lt,Nt,Ze,_t),zt(Ut,Nt,Ze,_t))}catch(wt){Ut(Nt,Ze,wt,_t)}}):(_t.value=Pe,_t.state=1,an(Nt,_t,!1))}catch(Ze){Ut(Nt,{done:!1},Ze,_t)}}};jt&&(re=function(Nt){O(this,re,de),b(Nt),y.call(this);var _t=xe(this);try{Nt(zt(lt,this,_t),zt(Ut,this,_t))}catch(Pe){Ut(this,_t,Pe)}},(y=function(Nt){K(this,{type:de,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(re.prototype,{then:function(Nt,_t){var Pe=L(this),Fe=et($(this,re));return Fe.ok="function"!=typeof Nt||Nt,Fe.fail="function"==typeof _t&&_t,Fe.domain=Ge?Le.domain:void 0,Pe.parent=!0,Pe.reactions.push(Fe),0!=Pe.state&&an(this,Pe,!1),Fe.promise},catch:function(Nt){return this.then(void 0,Nt)}}),_=function(){var Nt=new y,_t=xe(Nt);this.promise=Nt,this.resolve=zt(lt,Nt,_t),this.reject=zt(Ut,Nt,_t)},Z.f=et=function(Nt){return Nt===re||Nt===h?new _:Oe(Nt)},w||"function"!=typeof d||(f=d.prototype.then,u(d.prototype,"then",function(Nt,_t){var Pe=this;return new re(function(Fe,Ie){f.call(Pe,Fe,Ie)}).then(Nt,_t)},{unsafe:!0}),"function"==typeof Ye&&E({global:!0,enumerable:!0,forced:!0},{fetch:function(Nt){return D(re,Ye.apply(a,arguments))}}))),E({global:!0,wrap:!0,forced:jt},{Promise:re}),s(re,de,!1,!0),m(de),h=l(de),E({target:de,stat:!0,forced:jt},{reject:function(Nt){var _t=et(this);return _t.reject.call(void 0,Nt),_t.promise}}),E({target:de,stat:!0,forced:w||jt},{resolve:function(Nt){return D(w&&this===h?re:this,Nt)}}),E({target:de,stat:!0,forced:Ht},{all:function(Nt){var _t=this,Pe=et(_t),Fe=Pe.resolve,Ie=Pe.reject,Ze=H(function(){var wt=b(_t.resolve),Dt=[],Gt=0,rn=1;k(Nt,function(bn){var _n=Gt++,St=!1;Dt.push(void 0),rn++,wt.call(_t,bn).then(function(Et){St||(St=!0,Dt[_n]=Et,--rn||Fe(Dt))},Ie)}),--rn||Fe(Dt)});return Ze.error&&Ie(Ze.value),Pe.promise},race:function(Nt){var _t=this,Pe=et(_t),Fe=Pe.reject,Ie=H(function(){var Ze=b(_t.resolve);k(Nt,function(wt){Ze.call(_t,wt).then(Pe.resolve,Fe)})});return Ie.error&&Fe(Ie.value),Pe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(a,W,C){var y=a("../internals/export"),c=a("../internals/get-built-in"),_=a("../internals/a-function"),h=a("../internals/an-object"),f=a("../internals/is-object"),E=a("../internals/object-create"),w=a("../internals/function-bind"),l=(a=a("../internals/fails"),c("Reflect","construct")),d=a(function(){function s(){}return!(l(function(){},[],s)instanceof s)}),u=!a(function(){l(function(){})});y({target:"Reflect",stat:!0,forced:c=d||u,sham:c},{construct:function(s,m){_(s),h(m);var p=arguments.length<3?s:_(arguments[2]);if(u&&!d)return l(s,m,p);if(s==p){switch(m.length){case 0:return new s;case 1:return new s(m[0]);case 2:return new s(m[0],m[1]);case 3:return new s(m[0],m[1],m[2]);case 4:return new s(m[0],m[1],m[2],m[3])}var b=[null];return b.push.apply(b,m),new(w.apply(s,b))}return p=E(f(b=p.prototype)?b:Object.prototype),b=Function.apply.call(s,p,m),f(b)?b:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(o,W,C){var y=o("../internals/export"),_=o("../internals/is-object"),h=o("../internals/an-object"),f=o("../internals/has"),E=o("../internals/object-get-own-property-descriptor"),w=o("../internals/object-get-prototype-of");y({target:"Reflect",stat:!0},{get:function a(l,d){var u,c=arguments.length<3?l:arguments[2];return h(l)===c?l[d]:(u=E.f(l,d))?f(u,"value")?u.value:void 0===u.get?void 0:u.get.call(c):_(u=w(l))?a(u,d,c):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(o,W,C){var y=o("../internals/descriptors"),_=o("../internals/global"),h=o("../internals/is-forced"),f=o("../internals/inherit-if-required"),E=o("../internals/object-define-property").f,w=o("../internals/object-get-own-property-names").f,a=o("../internals/is-regexp"),l=o("../internals/regexp-flags"),d=o("../internals/regexp-sticky-helpers"),u=o("../internals/redefine"),c=o("../internals/fails"),s=o("../internals/internal-state").set,m=o("../internals/set-species"),p=o("../internals/well-known-symbol")("match"),b=_.RegExp,O=b.prototype,N=/a/g,R=/a/g,k=new b(N)!==N,A=d.UNSUPPORTED_Y;if(y&&h("RegExp",!k||A||c(function(){return R[p]=!1,b(N)!=N||b(R)==R||"/a/i"!=b(N,"i")}))){for(var $=function(D,V){var Z,H=this instanceof $,Q=a(D),Y=void 0===V;return!H&&Q&&D.constructor===$&&Y?D:(k?Q&&!Y&&(D=D.source):D instanceof $&&(Y&&(V=l.call(D)),D=D.source),A&&(Z=!!V&&-1<V.indexOf("y"))&&(V=V.replace(/y/g,"")),Q=f(k?new b(D,V):b(D,V),H?this:O,$),A&&Z&&s(Q,{sticky:Z}),Q)},j=w(b),S=0;j.length>S;)!function(D){D in $||E($,D,{configurable:!0,get:function(){return b[D]},set:function(V){b[D]=V}})}(j[S++]);(O.constructor=$).prototype=O,u(_,"RegExp",$)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(_,W,C){"use strict";var y=_("../internals/export");_=_("../internals/regexp-exec"),y({target:"RegExp",proto:!0,forced:/./.exec!==_},{exec:_})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(f,W,C){"use strict";var y=f("../internals/redefine"),_=f("../internals/an-object"),a=f("../internals/fails"),h=f("../internals/regexp-flags"),E=(f="toString",RegExp.prototype),w=E[f];((a=a(function(){return"/a/b"!=w.call({source:"a",flags:"b"})}))||w.name!=f)&&y(RegExp.prototype,f,function(){var d=_(this),u=String(d.source),c=d.flags;return"/"+u+"/"+String(void 0===c&&d instanceof RegExp&&!("flags"in E)?h.call(d):c)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(_,W,C){"use strict";var y=_("../internals/collection");_=_("../internals/collection-strong"),W.exports=y("Set",function(h){return function(){return h(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(w,W,C){"use strict";var y=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,h=w("../internals/to-length"),f=w("../internals/not-a-regexp"),E=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),a=(w=w("../internals/is-pure"),"".endsWith),l=Math.min;d=d("endsWith"),y({target:"String",proto:!0,forced:!(!w&&!d&&(y=_(String.prototype,"endsWith"))&&!y.writable||d)},{endsWith:function(u){var c=String(E(this)),s=(f(u),1<arguments.length?arguments[1]:void 0),m=h(c.length);return s=void 0===s?m:l(h(s),m),m=String(u),a?a.call(c,m,s):c.slice(s-m.length,s)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(o,W,C){"use strict";var y=o("../internals/export"),_=o("../internals/not-a-regexp"),h=o("../internals/require-object-coercible");y({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(f){return!!~String(h(this)).indexOf(_(f),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(h,W,C){"use strict";var y=h("../internals/string-multibyte").charAt,_=h("../internals/internal-state"),f=(h=h("../internals/define-iterator"),"String Iterator"),E=_.set,w=_.getterFor(f);h(String,"String",function(a){E(this,{type:f,string:String(a),index:0})},function(){var a=w(this),l=a.string,d=a.index;return d>=l.length?{value:void 0,done:!0}:(l=y(l,d),a.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(o,W,C){"use strict";var y=o("../internals/fix-regexp-well-known-symbol-logic"),_=o("../internals/an-object"),h=o("../internals/to-length"),f=o("../internals/require-object-coercible"),E=o("../internals/advance-string-index"),w=o("../internals/regexp-exec-abstract");y("match",1,function(a,l,d){return[function(u){var c=f(this),s=null==u?void 0:u[a];return void 0!==s?s.call(u,c):new RegExp(u)[a](String(c))},function(u){var c=d(l,u,this);if(c.done)return c.value;var s=_(u),m=String(this);if(!s.global)return w(s,m);for(var p=s.unicode,b=[],O=s.lastIndex=0;null!==(N=w(s,m));){var N=String(N[0]);""===(b[O]=N)&&(s.lastIndex=E(m,h(s.lastIndex),p)),O++}return 0===O?null:b}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(o,W,C){"use strict";var y=o("../internals/export"),_=o("../internals/string-pad").start;y({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(h){return _(this,h,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(o,W,C){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(o,W,C){"use strict";var y=o("../internals/fix-regexp-well-known-symbol-logic"),_=o("../internals/an-object"),h=o("../internals/to-object"),f=o("../internals/to-length"),E=o("../internals/to-integer"),w=o("../internals/require-object-coercible"),a=o("../internals/advance-string-index"),l=o("../internals/regexp-exec-abstract"),d=Math.max,u=Math.min,c=Math.floor,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;y("replace",2,function(p,b,O,N){var R=N.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,k=N.REPLACE_KEEPS_$0,A=R?"$":"$0";return[function($,j){var S=w(this),D=null==$?void 0:$[p];return void 0!==D?D.call($,S,j):b.call(String(S),$,j)},function($,j){if(!R&&k||"string"==typeof j&&-1===j.indexOf(A)){var S=O(b,$,this,j);if(S.done)return S.value}for(var D,V=_($),Z=String(this),H="function"==typeof j,Q=(H||(j=String(j)),V.global),Y=(Q&&(D=V.unicode,V.lastIndex=0),[]);null!==(K=l(V,Z))&&(Y.push(K),Q);)""===String(K[0])&&(V.lastIndex=a(Z,f(V.lastIndex),D));for(var q,ne="",de=0,xe=0;xe<Y.length;xe++){for(var K=Y[xe],L=String(K[0]),re=d(u(E(K.index),Z.length),0),ge=[],Me=1;Me<K.length;Me++)ge.push(void 0===(q=K[Me])?q:String(q));var Le=K.groups,Ye=H?(Ye=[L].concat(ge,re,Z),void 0!==Le&&Ye.push(Le),String(j.apply(void 0,Ye))):function(et,Oe,Ge,Be,Ae,Qe){var Ke=Ge+et.length,vt=Be.length,mt=m;return void 0!==Ae&&(Ae=h(Ae),mt=s),b.call(Qe,mt,function(yt,jt){var Ht;switch(jt.charAt(0)){case"$":return"$";case"&":return et;case"`":return Oe.slice(0,Ge);case"'":return Oe.slice(Ke);case"<":Ht=Ae[jt.slice(1,-1)];break;default:var Rt,an=+jt;if(0==an)return yt;if(vt<an)return 0!==(Rt=c(an/10))&&Rt<=vt?void 0===Be[Rt-1]?jt.charAt(1):Be[Rt-1]+jt.charAt(1):yt;Ht=Be[an-1]}return void 0===Ht?"":Ht})}(L,Z,re,ge,Le,j);de<=re&&(ne+=Z.slice(de,re)+Ye,de=re+L.length)}return ne+Z.slice(de)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(o,W,C){"use strict";var y=o("../internals/fix-regexp-well-known-symbol-logic"),_=o("../internals/an-object"),h=o("../internals/require-object-coercible"),f=o("../internals/same-value"),E=o("../internals/regexp-exec-abstract");y("search",1,function(w,a,l){return[function(d){var u=h(this),c=null==d?void 0:d[w];return void 0!==c?c.call(d,u):new RegExp(d)[w](String(u))},function(d){var u,c=l(a,d,this);return c.done?c.value:(c=_(d),d=String(this),f(u=c.lastIndex,0)||(c.lastIndex=0),d=E(c,d),f(c.lastIndex,u)||(c.lastIndex=u),null===d?-1:d.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(u,W,C){"use strict";var y=u("../internals/fix-regexp-well-known-symbol-logic"),_=u("../internals/is-regexp"),h=u("../internals/an-object"),f=u("../internals/require-object-coercible"),E=u("../internals/species-constructor"),w=u("../internals/advance-string-index"),a=u("../internals/to-length"),l=u("../internals/regexp-exec-abstract"),d=u("../internals/regexp-exec"),c=(u=u("../internals/fails"),[].push),s=Math.min,m=4294967295,p=!u(function(){return!RegExp(m,"y")});y("split",2,function(b,O,N){var R="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(k,A){var $=String(f(this)),j=void 0===A?m:A>>>0;if(0==j)return[];if(void 0===k)return[$];if(!_(k))return O.call($,k,j);for(var S,D,V,Z=[],H=(A=(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.unicode?"u":"")+(k.sticky?"y":""),0),Q=new RegExp(k.source,A+"g");(S=d.call(Q,$))&&!(H<(D=Q.lastIndex)&&(Z.push($.slice(H,S.index)),1<S.length&&S.index<$.length&&c.apply(Z,S.slice(1)),V=S[0].length,H=D,Z.length>=j));)Q.lastIndex===S.index&&Q.lastIndex++;return H===$.length?!V&&Q.test("")||Z.push(""):Z.push($.slice(H)),Z.length>j?Z.slice(0,j):Z}:"0".split(void 0,0).length?function(k,A){return void 0===k&&0===A?[]:O.call(this,k,A)}:O;return[function(k,A){var $=f(this),j=null==k?void 0:k[b];return void 0!==j?j.call(k,$,A):R.call(String($),k,A)},function(S,A){if(($=N(R,S,this,A,R!==O)).done)return $.value;var $=h(S),j=String(this),D=(S=E($,RegExp),$.unicode),Z=new S(p?$:"^(?:"+$.source+")",($.ignoreCase?"i":"")+($.multiline?"m":"")+($.unicode?"u":"")+(p?"y":"g")),H=void 0===A?m:A>>>0;if(0==H)return[];if(0===j.length)return null===l(Z,j)?[j]:[];for(var Q=0,Y=0,q=[];Y<j.length;){Z.lastIndex=p?Y:0;var ne,de=l(Z,p?j:j.slice(Y));if(null===de||(ne=s(a(Z.lastIndex+(p?0:Y)),j.length))===Q)Y=w(j,Y,D);else{if(q.push(j.slice(Q,Y)),q.length===H)return q;for(var xe=1;xe<=de.length-1;xe++)if(q.push(de[xe]),q.length===H)return q;Y=Q=ne}}return q.push(j.slice(Q)),q}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(w,W,C){"use strict";var y=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,h=w("../internals/to-length"),f=w("../internals/not-a-regexp"),E=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),a=(w=w("../internals/is-pure"),"".startsWith),l=Math.min;d=d("startsWith"),y({target:"String",proto:!0,forced:!(!w&&!d&&(y=_(String.prototype,"startsWith"))&&!y.writable||d)},{startsWith:function(m){var c=String(E(this)),s=(f(m),h(l(1<arguments.length?arguments[1]:void 0,c.length)));return m=String(m),a?a.call(c,m,s):c.slice(s,s+m.length)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(o,W,C){"use strict";var y=o("../internals/export"),_=o("../internals/create-html");y({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return _(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(o,W,C){"use strict";var y=o("../internals/export"),_=o("../internals/string-trim").trim;y({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return _(this)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(s,W,C){"use strict";var y,_,h,f,E,w=s("../internals/export"),a=s("../internals/descriptors"),l=s("../internals/global"),d=s("../internals/has"),u=s("../internals/is-object"),c=s("../internals/object-define-property").f,m=(s=s("../internals/copy-constructor-properties"),l.Symbol);!a||"function"!=typeof m||"description"in m.prototype&&void 0===m().description||(y={},s(_=function(){var p=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),b=this instanceof _?new m(p):void 0===p?m():m(p);return""===p&&(y[b]=!0),b},m),(l=_.prototype=m.prototype).constructor=_,h=l.toString,f="Symbol(test)"==String(m("test")),E=/^Symbol\((.*)\)[^)]+$/,c(l,"description",{configurable:!0,get:function(){var p=u(this)?this.valueOf():this,b=h.call(p);return d(y,p)?"":""===(p=f?b.slice(7,-1):b.replace(E,"$1"))?void 0:p}}),w({global:!0,forced:!0},{Symbol:_}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(o,W,C){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function(Oe,W,C){"use strict";function y(Ie,Ze){var wt=Ht[Ie]=$(Qe[et]);return Ge(wt,{type:Ye,tag:Ie,description:Ze}),d||(wt.description=Ze),wt}function _(Ie,Dt){O(Ie);var wt=R(Dt);return Dt=j(wt).concat(Fe(wt)),Me(Dt,function(Gt){d&&!Pe.call(wt,Gt)||_t(Ie,Gt,wt[Gt])}),Ie}function h(Dt,Gt){var wt;if(Dt=R(Dt),Gt=k(Gt,!0),Dt!==Ae||!m(Ht,Gt)||m(Rt,Gt))return!(wt=vt(Dt,Gt))||!m(Ht,Gt)||m(Dt,Le)&&Dt[Le][Gt]||(wt.enumerable=!0),wt}function f(Ze){Ze=yt(R(Ze));var wt=[];return Me(Ze,function(Dt){m(Ht,Dt)||m(de,Dt)||wt.push(Dt)}),wt}var E=Oe("../internals/export"),w=Oe("../internals/global"),a=Oe("../internals/get-built-in"),l=Oe("../internals/is-pure"),d=Oe("../internals/descriptors"),u=Oe("../internals/native-symbol"),c=Oe("../internals/use-symbol-as-uid"),s=Oe("../internals/fails"),m=Oe("../internals/has"),p=Oe("../internals/is-array"),b=Oe("../internals/is-object"),O=Oe("../internals/an-object"),N=Oe("../internals/to-object"),R=Oe("../internals/to-indexed-object"),k=Oe("../internals/to-primitive"),A=Oe("../internals/create-property-descriptor"),$=Oe("../internals/object-create"),j=Oe("../internals/object-keys"),S=Oe("../internals/object-get-own-property-names"),D=Oe("../internals/object-get-own-property-names-external"),V=Oe("../internals/object-get-own-property-symbols"),Z=Oe("../internals/object-get-own-property-descriptor"),H=Oe("../internals/object-define-property"),Q=Oe("../internals/object-property-is-enumerable"),Y=Oe("../internals/create-non-enumerable-property"),q=Oe("../internals/redefine"),ne=Oe("../internals/shared"),fn=Oe("../internals/shared-key"),de=Oe("../internals/hidden-keys"),xe=Oe("../internals/uid"),K=Oe("../internals/well-known-symbol"),L=Oe("../internals/well-known-symbol-wrapped"),re=Oe("../internals/define-well-known-symbol"),ge=Oe("../internals/set-to-string-tag"),zt=Oe("../internals/internal-state"),Me=Oe("../internals/array-iteration").forEach,Le=fn("hidden"),Ye="Symbol",et="prototype",Ge=(Oe=K("toPrimitive"),zt.set),Be=zt.getterFor(Ye),Ae=Object[et],Qe=w.Symbol,Ke=a("JSON","stringify"),vt=Z.f,mt=H.f,yt=D.f,jt=Q.f,Ht=ne("symbols"),Rt=ne("op-symbols"),an=ne("string-to-symbol-registry"),on=ne("symbol-to-string-registry"),Ut=(fn=ne("wks"),!(zt=w.QObject)||!zt[et]||!zt[et].findChild),lt=d&&s(function(){return 7!=$(mt({},"a",{get:function(){return mt(this,"a",{value:7}).a}})).a})?function(Ie,Ze,wt){var Dt=vt(Ae,Ze);Dt&&delete Ae[Ze],mt(Ie,Ze,wt),Dt&&Ie!==Ae&&mt(Ae,Ze,Dt)}:mt,Nt=c?function(Ie){return"symbol"==typeof Ie}:function(Ie){return Object(Ie)instanceof Qe},_t=function(Ie,Ze,wt){return Ie===Ae&&_t(Rt,Ze,wt),O(Ie),Ze=k(Ze,!0),O(wt),(m(Ht,Ze)?(wt.enumerable?(m(Ie,Le)&&Ie[Le][Ze]&&(Ie[Le][Ze]=!1),wt=$(wt,{enumerable:A(0,!1)})):(m(Ie,Le)||mt(Ie,Le,A(1,{})),Ie[Le][Ze]=!0),lt):mt)(Ie,Ze,wt)},Pe=function(Ze){Ze=k(Ze,!0);var wt=jt.call(this,Ze);return!(this===Ae&&m(Ht,Ze)&&!m(Rt,Ze))&&(!(wt||!m(this,Ze)||!m(Ht,Ze)||m(this,Le)&&this[Le][Ze])||wt)},Fe=function(wt){var Ze=wt===Ae,Dt=(wt=yt(Ze?Rt:R(wt)),[]);return Me(wt,function(Gt){!m(Ht,Gt)||Ze&&!m(Ae,Gt)||Dt.push(Ht[Gt])}),Dt};u||(q((Qe=function(){if(this instanceof Qe)throw TypeError("Symbol is not a constructor");var Ie=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Ze=xe(Ie),wt=function(Dt){this===Ae&&wt.call(Rt,Dt),m(this,Le)&&m(this[Le],Ze)&&(this[Le][Ze]=!1),lt(this,Ze,A(1,Dt))};return d&&Ut&&lt(Ae,Ze,{configurable:!0,set:wt}),y(Ze,Ie)})[et],"toString",function(){return Be(this).tag}),q(Qe,"withoutSetter",function(Ie){return y(xe(Ie),Ie)}),Q.f=Pe,H.f=_t,Z.f=h,S.f=D.f=f,V.f=Fe,L.f=function(Ie){return y(K(Ie),Ie)},d&&(mt(Qe[et],"description",{configurable:!0,get:function(){return Be(this).description}}),l||q(Ae,"propertyIsEnumerable",Pe,{unsafe:!0}))),E({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Qe}),Me(j(fn),function(Ie){re(Ie)}),E({target:Ye,stat:!0,forced:!u},{for:function(wt){var Ze;return wt=String(wt),m(an,wt)?an[wt]:(Ze=Qe(wt),an[wt]=Ze,on[Ze]=wt,Ze)},keyFor:function(Ie){if(!Nt(Ie))throw TypeError(Ie+" is not a symbol");if(m(on,Ie))return on[Ie]},useSetter:function(){Ut=!0},useSimple:function(){Ut=!1}}),E({target:"Object",stat:!0,forced:!u,sham:!d},{create:function(Ie,Ze){return void 0===Ze?$(Ie):_($(Ie),Ze)},defineProperty:_t,defineProperties:_,getOwnPropertyDescriptor:h}),E({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:f,getOwnPropertySymbols:Fe}),E({target:"Object",stat:!0,forced:s(function(){V.f(1)})},{getOwnPropertySymbols:function(Ie){return V.f(N(Ie))}}),Ke&&E({target:"JSON",stat:!0,forced:!u||s(function(){var Ie=Qe();return"[null]"!=Ke([Ie])||"{}"!=Ke({a:Ie})||"{}"!=Ke(Object(Ie))})},{stringify:function(Ie,Ze,wt){for(var Dt,Gt=[Ie],rn=1;rn<arguments.length;)Gt.push(arguments[rn++]);if((b(Dt=Ze)||void 0!==Ie)&&!Nt(Ie))return p(Ze)||(Ze=function(bn,_n){if("function"==typeof Dt&&(_n=Dt.call(this,bn,_n)),!Nt(_n))return _n}),Gt[1]=Ze,Ke.apply(null,Gt)}}),Qe[et][Oe]||Y(Qe[et],Oe,Qe[et].valueOf),ge(Qe,Ye),de[Le]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-copy-within"),h=y.aTypedArray;(0,y.exportTypedArrayMethod)("copyWithin",function(f,E){return _.call(h(this),f,E,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").every,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("every",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-fill"),h=y.aTypedArray;(0,y.exportTypedArrayMethod)("fill",function(f){return _.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").filter,h=o("../internals/species-constructor"),f=y.aTypedArray,E=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("filter",function(w){for(var a=_(f(this),w,1<arguments.length?arguments[1]:void 0),l=(w=h(this,this.constructor),0),d=a.length,u=new(E(w))(d);l<d;)u[l]=a[l++];return u})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").findIndex,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("findIndex",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").find,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("find",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(o,W,C){o("../internals/typed-array-constructor")("Float32",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],217:[function(o,W,C){o("../internals/typed-array-constructor")("Float64",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],218:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").forEach,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("forEach",function(f){_(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-includes").includes,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("includes",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-includes").indexOf,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("indexOf",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(o,W,C){o("../internals/typed-array-constructor")("Int16",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],222:[function(o,W,C){o("../internals/typed-array-constructor")("Int32",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],223:[function(_,W,C){"use strict";function y(){return h.call(w(this))}var d=_("../internals/global"),l=_("../internals/array-buffer-view-core"),a=_("../modules/es.array.iterator"),h=(_=_("../internals/well-known-symbol")("iterator"),a.values),f=a.keys,E=a.entries,w=l.aTypedArray;a=l.exportTypedArrayMethod,d=!!(l=(d=d.Uint8Array)&&d.prototype[_])&&("values"==l.name||null==l.name),a("entries",function(){return E.call(w(this))}),a("keys",function(){return f.call(w(this))}),a("values",y,!d),a(_,y,!d)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(_,W,C){"use strict";var y=(_=_("../internals/array-buffer-view-core")).aTypedArray,h=[].join;(_=_.exportTypedArrayMethod)("join",function(f){return h.apply(y(this),arguments)})},{"../internals/array-buffer-view-core":12}],225:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-last-index-of"),h=y.aTypedArray;(0,y.exportTypedArrayMethod)("lastIndexOf",function(f){return _.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").map,h=o("../internals/species-constructor"),f=y.aTypedArray,E=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("map",function(w){return _(f(this),w,1<arguments.length?arguments[1]:void 0,function(a,l){return new(E(h(a,a.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-reduce").right,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduceRight",function(f){return _(h(this),f,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-reduce").left,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduce",function(f){return _(h(this),f,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(_,W,C){"use strict";var y=(_=_("../internals/array-buffer-view-core")).aTypedArray,h=(_=_.exportTypedArrayMethod,Math.floor);_("reverse",function(){for(var f,E=y(this).length,w=h(E/2),a=0;a<w;)f=this[a],this[a++]=this[--E],this[E]=f;return this})},{"../internals/array-buffer-view-core":12}],230:[function(E,W,C){"use strict";var y=E("../internals/array-buffer-view-core"),_=E("../internals/to-length"),h=E("../internals/to-offset"),f=E("../internals/to-object"),w=(E=E("../internals/fails"),y.aTypedArray);(0,y.exportTypedArrayMethod)("set",function(a){w(this);var l=h(1<arguments.length?arguments[1]:void 0,1),d=this.length,u=f(a),c=_(u.length),s=0;if(d<c+l)throw RangeError("Wrong length");for(;s<c;)this[l+s]=u[s++]},E(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(_,W,C){"use strict";var E=_("../internals/array-buffer-view-core"),y=_("../internals/species-constructor"),h=(_=_("../internals/fails"),E.aTypedArray),f=E.aTypedArrayConstructor,w=[].slice;(E=E.exportTypedArrayMethod)("slice",function(a,l){for(var d=w.call(h(this),a,l),u=(a=y(this,this.constructor),0),c=d.length,s=new(f(a))(c);u<c;)s[u]=d[u++];return s},_(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/array-iteration").some,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("some",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(_,W,C){"use strict";var y=(_=_("../internals/array-buffer-view-core")).aTypedArray,h=[].sort;(_=_.exportTypedArrayMethod)("sort",function(f){return h.call(y(this),f)})},{"../internals/array-buffer-view-core":12}],234:[function(o,W,C){"use strict";var y=o("../internals/array-buffer-view-core"),_=o("../internals/to-length"),h=o("../internals/to-absolute-index"),f=o("../internals/species-constructor"),E=y.aTypedArray;(0,y.exportTypedArrayMethod)("subarray",function(u,a){var l=E(this),d=l.length;return u=h(u,d),new(f(l,l.constructor))(l.buffer,l.byteOffset+u*l.BYTES_PER_ELEMENT,_((void 0===a?d:h(a,d))-u))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(_,W,C){"use strict";var E=_("../internals/global"),y=_("../internals/array-buffer-view-core"),h=(_=_("../internals/fails"),E.Int8Array),f=y.aTypedArray,w=(E=y.exportTypedArrayMethod,[].toLocaleString),a=[].slice,l=!!h&&_(function(){w.call(new h(1))});E("toLocaleString",function(){return w.apply(l?a.call(f(this)):f(this),arguments)},_(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!_(function(){h.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(_,W,C){"use strict";var y=_("../internals/array-buffer-view-core").exportTypedArrayMethod,E=_("../internals/fails"),h=(_=(_=_("../internals/global").Uint8Array)&&_.prototype||{},[].toString),f=[].join;E(function(){h.call({})})&&(h=function(){return f.call(this)}),y("toString",h,E=_.toString!=h)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(o,W,C){o("../internals/typed-array-constructor")("Uint16",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],238:[function(o,W,C){o("../internals/typed-array-constructor")("Uint32",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],239:[function(o,W,C){o("../internals/typed-array-constructor")("Uint8",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],240:[function(o,W,C){o("../internals/typed-array-constructor")("Uint8",function(y){return function(_,h,f){return y(this,_,h,f)}},!0)},{"../internals/typed-array-constructor":143}],241:[function(m,O,C){"use strict";function y(N){return function(){return N(this,arguments.length?arguments[0]:void 0)}}var _,h,f,E,w,p=m("../internals/global"),a=m("../internals/redefine-all"),l=m("../internals/internal-metadata"),d=m("../internals/collection"),u=m("../internals/collection-weak"),c=m("../internals/is-object"),s=m("../internals/internal-state").enforce,b=(m=m("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,Object.isExtensible);O=O.exports=d("WeakMap",y,u),m&&p&&(_=u.getConstructor(y,"WeakMap",!0),l.REQUIRED=!0,h=(d=O.prototype).delete,f=d.has,E=d.get,w=d.set,a(d,{delete:function(N){var R;return c(N)&&!b(N)?((R=s(this)).frozen||(R.frozen=new _),h.call(this,N)||R.frozen.delete(N)):h.call(this,N)},has:function(N){var R;return c(N)&&!b(N)?((R=s(this)).frozen||(R.frozen=new _),f.call(this,N)||R.frozen.has(N)):f.call(this,N)},get:function(N){var R;return!c(N)||b(N)||((R=s(this)).frozen||(R.frozen=new _),f.call(this,N))?E.call(this,N):R.frozen.get(N)},set:function(N,R){var k;return!c(N)||b(N)||((k=s(this)).frozen||(k.frozen=new _),f.call(this,N))?w.call(this,N,R):k.frozen.set(N,R),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(o,W,C){var y,_=o("../internals/global"),h=o("../internals/dom-iterables"),f=o("../internals/array-for-each"),E=o("../internals/create-non-enumerable-property");for(y in h){var w;if((w=(w=_[y])&&w.prototype)&&w.forEach!==f)try{E(w,"forEach",f)}catch{w.forEach=f}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(w,W,C){var y,_=w("../internals/global"),h=w("../internals/dom-iterables"),f=w("../modules/es.array.iterator"),E=w("../internals/create-non-enumerable-property"),a=(w=w("../internals/well-known-symbol"))("iterator"),l=w("toStringTag"),d=f.values;for(y in h){var u=_[y],c=u&&u.prototype;if(c){if(c[a]!==d)try{E(c,a,d)}catch{c[a]=d}if(c[l]||E(c,l,y),h[y])for(var s in f)if(c[s]!==f[s])try{E(c,s,f[s])}catch{c[s]=f[s]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(Le,W,C){"use strict";function y(Ye){try{return decodeURIComponent(Ye)}catch{return Ye}}function _(Ye){return re[Ye]}function h(Ye){return encodeURIComponent(Ye).replace(L,_)}function f(Ye){this.entries.length=0,ge(this.entries,Ye)}function E(Ye,et){if(Ye<et)throw TypeError("Not enough arguments")}function w(){p(this,w,H);var Ye,et,Oe,Ge,Be,Ae,Qe,Ke,vt=0<arguments.length?arguments[0]:void 0,mt=[];if(Y(this,{type:H,entries:mt,updateURL:function(){},updateSearchParams:f}),void 0!==vt)if(k(vt))if("function"==typeof(Ye=S(vt)))for(Oe=(et=Ye.call(vt)).next;!(Ge=Oe.call(et)).done;){if((Ae=(Be=(Ge=j(R(Ge.value))).next).call(Ge)).done||(Qe=Be.call(Ge)).done||!Be.call(Ge).done)throw TypeError("Expected sequence with length 2");mt.push({key:Ae.value+"",value:Qe.value+""})}else for(Ke in vt)b(vt,Ke)&&mt.push({key:Ke,value:vt[Ke]+""});else ge(mt,"string"==typeof vt?"?"===vt.charAt(0)?vt.slice(1):vt:vt+"")}Le("../modules/es.array.iterator");var a=Le("../internals/export"),Z=Le("../internals/get-built-in"),l=Le("../internals/native-url"),d=Le("../internals/redefine"),u=Le("../internals/redefine-all"),c=Le("../internals/set-to-string-tag"),s=Le("../internals/create-iterator-constructor"),m=Le("../internals/internal-state"),p=Le("../internals/an-instance"),b=Le("../internals/has"),O=Le("../internals/function-bind-context"),N=Le("../internals/classof"),R=Le("../internals/an-object"),k=Le("../internals/is-object"),A=Le("../internals/object-create"),$=Le("../internals/create-property-descriptor"),j=Le("../internals/get-iterator"),S=Le("../internals/get-iterator-method"),D=(Le=Le("../internals/well-known-symbol"),Z("fetch")),V=Z("Headers"),H=(Z=Le("iterator"),"URLSearchParams"),Q=H+"Iterator",Y=m.set,q=m.getterFor(H),ne=m.getterFor(Q),de=/\+/g,xe=Array(4),K=function(Ye){var et,Oe=Ye.replace(de," "),Ge=4;try{return decodeURIComponent(Oe)}catch{for(;Ge;)Oe=Oe.replace((et=Ge--,xe[et-1]||(xe[et-1]=RegExp("((?:%[\\da-f]{2}){"+et+"})","gi"))),y);return Oe}},L=/[!'()~]|%20/g,re={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ge=function(Ye,et){if(et)for(var Oe,Ge=et.split("&"),Be=0;Be<Ge.length;)(Oe=Ge[Be++]).length&&(Oe=Oe.split("="),Ye.push({key:K(Oe.shift()),value:K(Oe.join("="))}))},Me=s(function(Ye,et){Y(this,{type:Q,iterator:j(q(Ye).entries),kind:et})},"Iterator",function(){var et,Ye=(et=ne(this)).kind,Oe=(et=et.iterator.next()).value;return et.done||(et.value="keys"===Ye?Oe.key:"values"===Ye?Oe.value:[Oe.key,Oe.value]),et});u(Le=w.prototype,{append:function(Ye,et){E(arguments.length,2);var Oe=q(this);Oe.entries.push({key:Ye+"",value:et+""}),Oe.updateURL()},delete:function(Ye){E(arguments.length,1);for(var et=q(this),Oe=et.entries,Ge=Ye+"",Be=0;Be<Oe.length;)Oe[Be].key===Ge?Oe.splice(Be,1):Be++;et.updateURL()},get:function(Ye){E(arguments.length,1);for(var et=q(this).entries,Oe=Ye+"",Ge=0;Ge<et.length;Ge++)if(et[Ge].key===Oe)return et[Ge].value;return null},getAll:function(Ye){E(arguments.length,1);for(var et=q(this).entries,Oe=Ye+"",Ge=[],Be=0;Be<et.length;Be++)et[Be].key===Oe&&Ge.push(et[Be].value);return Ge},has:function(Ye){E(arguments.length,1);for(var et=q(this).entries,Oe=Ye+"",Ge=0;Ge<et.length;)if(et[Ge++].key===Oe)return!0;return!1},set:function(Ye,et){E(arguments.length,1);for(var Oe,Ge=q(this),Be=Ge.entries,Ae=!1,Qe=Ye+"",Ke=et+"",vt=0;vt<Be.length;vt++)(Oe=Be[vt]).key===Qe&&(Ae?Be.splice(vt--,1):(Ae=!0,Oe.value=Ke));Ae||Be.push({key:Qe,value:Ke}),Ge.updateURL()},sort:function(){for(var Ye,et,Oe=q(this),Ge=Oe.entries,Be=Ge.slice(),Ae=Ge.length=0;Ae<Be.length;Ae++){for(Ye=Be[Ae],et=0;et<Ae;et++)if(Ge[et].key>Ye.key){Ge.splice(et,0,Ye);break}et===Ae&&Ge.push(Ye)}Oe.updateURL()},forEach:function(Ye){for(var et,Oe=q(this).entries,Ge=O(Ye,1<arguments.length?arguments[1]:void 0,3),Be=0;Be<Oe.length;)Ge((et=Oe[Be++]).value,et.key,this)},keys:function(){return new Me(this,"keys")},values:function(){return new Me(this,"values")},entries:function(){return new Me(this,"entries")}},{enumerable:!0}),d(Le,Z,Le.entries),d(Le,"toString",function(){for(var Ye,et=q(this).entries,Oe=[],Ge=0;Ge<et.length;)Ye=et[Ge++],Oe.push(h(Ye.key)+"="+h(Ye.value));return Oe.join("&")},{enumerable:!0}),c(w,H),a({global:!0,forced:!l},{URLSearchParams:w}),l||"function"!=typeof D||"function"!=typeof V||a({global:!0,enumerable:!0,forced:!0},{fetch:function(Be){var et,Oe,Ge;return Be=[Be],1<arguments.length&&(k(et=arguments[1])&&N(Oe=et.body)===H&&((Ge=et.headers?new V(et.headers):new V).has("content-type")||Ge.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),et=A(et,{body:$(0,String(Oe)),headers:$(0,Ge)})),Be.push(et)),D.apply(this,Be)}}),W.exports={URLSearchParams:w,getState:q}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(j,W,C){"use strict";function y(G){var me,Se,P,z;if("number"==typeof G){for(me=[],Se=0;Se<4;Se++)me.unshift(G%256),G=Q(G/256);return me.join(".")}if("object"!=typeof G)return G;for(me="",P=Qe(G),Se=0;Se<8;Se++)z&&0===G[Se]||(z=z&&!1,P===Se?(me+=Se?":":"::",z=!0):(me+=G[Se].toString(16),Se<7&&(me+=":")));return"["+me+"]"}function _(G){return!G.host||G.cannotBeABaseURL||"file"==G.scheme}function h(G,me,Se,P){var z,F,oe,ae=Se||Nt,ee=0,ye="",Ue=!1,ct=!1,It=!1;for(Se||(G.scheme="",G.username="",G.password="",G.host=null,G.port=null,G.path=[],G.query=null,G.fragment=null,G.cannotBeABaseURL=!1,me=me.replace(Ge,"")),me=me.replace(Be,""),z=N(me);ee<=z.length;){switch(F=z[ee],ae){case Nt:if(!F||!K.test(F)){if(Se)return ne;ae=Pe;continue}ye+=F.toLowerCase(),ae=_t;break;case _t:if(F&&(L.test(F)||"+"==F||"-"==F||"."==F))ye+=F.toLowerCase();else{if(":"!=F){if(Se)return ne;ye="",ae=Pe,ee=0;continue}if(Se&&(Rt(G)!=b(Ht,ye)||"file"==ye&&(an(G)||null!==G.port)||"file"==G.scheme&&!G.host))return;if(G.scheme=ye,Se)return void(Rt(G)&&Ht[G.scheme]==G.port&&(G.port=null));ye="","file"==G.scheme?ae=Et:Rt(G)&&P&&P.scheme==G.scheme?ae=Fe:Rt(G)?ae=Dt:"/"==z[ee+1]?(ae=Ie,ee++):(G.cannotBeABaseURL=!0,G.path.push(""),ae=en)}break;case Pe:if(!P||P.cannotBeABaseURL&&"#"!=F)return ne;if(P.cannotBeABaseURL&&"#"==F){G.scheme=P.scheme,G.path=P.path.slice(),G.query=P.query,G.fragment="",G.cannotBeABaseURL=!0,ae=bt;break}ae="file"==P.scheme?Et:Ze;continue;case Fe:if("/"!=F||"/"!=z[ee+1]){ae=Ze;continue}ae=Gt,ee++;break;case Ie:if("/"==F){ae=rn;break}ae=xt;continue;case Ze:if(G.scheme=P.scheme,F==w)G.username=P.username,G.password=P.password,G.host=P.host,G.port=P.port,G.path=P.path.slice(),G.query=P.query;else if("/"==F||"\\"==F&&Rt(G))ae=wt;else if("?"==F)G.username=P.username,G.password=P.password,G.host=P.host,G.port=P.port,G.path=P.path.slice(),G.query="",ae=We;else{if("#"!=F){G.username=P.username,G.password=P.password,G.host=P.host,G.port=P.port,G.path=P.path.slice(),G.path.pop(),ae=xt;continue}G.username=P.username,G.password=P.password,G.host=P.host,G.port=P.port,G.path=P.path.slice(),G.query=P.query,G.fragment="",ae=bt}break;case wt:if(!Rt(G)||"/"!=F&&"\\"!=F){if("/"!=F){G.username=P.username,G.password=P.password,G.host=P.host,G.port=P.port,ae=xt;continue}ae=rn}else ae=Gt;break;case Dt:if(ae=Gt,"/"!=F||"/"!=ye.charAt(ee+1))continue;ee++;break;case Gt:if("/"==F||"\\"==F)break;ae=rn;continue;case rn:if("@"==F){Ue&&(ye="%40"+ye),Ue=!0;for(var Zt=N(ye),yn=0;yn<Zt.length;yn++){var En=Zt[yn];":"!=En||It?(En=jt(En,yt),It?G.password+=En:G.username+=En):It=!0}ye=""}else if(F==w||"/"==F||"?"==F||"#"==F||"\\"==F&&Rt(G)){if(Ue&&""==ye)return q;ee-=N(ye).length+1,ye="",ae=bn}else ye+=F;break;case bn:case _n:if(Se&&"file"==G.scheme){ae=ze;continue}if(":"!=F||ct){if(F==w||"/"==F||"?"==F||"#"==F||"\\"==F&&Rt(G)){if(Rt(G)&&""==ye)return de;if(Se&&""==ye&&(an(G)||null!==G.port))return;if(oe=Ae(G,ye))return oe;if(ye="",ae=ut,Se)return;continue}"["==F?ct=!0:"]"==F&&(ct=!1),ye+=F}else{if(""==ye)return de;if(oe=Ae(G,ye))return oe;if(ye="",ae=St,Se==_n)return}break;case St:if(!re.test(F)){if(F==w||"/"==F||"?"==F||"#"==F||"\\"==F&&Rt(G)||Se){if(""!=ye){var Rn=parseInt(ye,10);if(65535<Rn)return xe;G.port=Rt(G)&&Rn===Ht[G.scheme]?null:Rn,ye=""}if(Se)return;ae=ut;continue}return xe}ye+=F;break;case Et:if(G.scheme="file","/"==F||"\\"==F)ae=it;else{if(!P||"file"!=P.scheme){ae=xt;continue}if(F==w)G.host=P.host,G.path=P.path.slice(),G.query=P.query;else if("?"==F)G.host=P.host,G.path=P.path.slice(),G.query="",ae=We;else{if("#"!=F){fn(z.slice(ee).join(""))||(G.host=P.host,G.path=P.path.slice(),zt(G)),ae=xt;continue}G.host=P.host,G.path=P.path.slice(),G.query=P.query,G.fragment="",ae=bt}}break;case it:if("/"==F||"\\"==F){ae=ze;break}P&&"file"==P.scheme&&!fn(z.slice(ee).join(""))&&(on(P.path[0],!0)?G.path.push(P.path[0]):G.host=P.host),ae=xt;continue;case ze:if(F==w||"/"==F||"\\"==F||"?"==F||"#"==F){if(!Se&&on(ye))ae=xt;else{if(""==ye){if(G.host="",Se)return}else{if(oe=Ae(G,ye))return oe;if("localhost"==G.host&&(G.host=""),Se)return;ye=""}ae=ut}continue}ye+=F;break;case ut:if(Rt(G)){if(ae=xt,"/"!=F&&"\\"!=F)continue}else if(Se||"?"!=F)if(Se||"#"!=F){if(F!=w&&(ae=xt,"/"!=F))continue}else G.fragment="",ae=bt;else G.query="",ae=We;break;case xt:if(F==w||"/"==F||"\\"==F&&Rt(G)||!Se&&("?"==F||"#"==F)){if(lt(ye)?(zt(G),"/"==F||"\\"==F&&Rt(G)||G.path.push("")):Ut(ye)?"/"==F||"\\"==F&&Rt(G)||G.path.push(""):("file"==G.scheme&&!G.path.length&&on(ye)&&(G.host&&(G.host=""),ye=ye.charAt(0)+":"),G.path.push(ye)),ye="","file"==G.scheme&&(F==w||"?"==F||"#"==F))for(;1<G.path.length&&""===G.path[0];)G.path.shift();"?"==F?(G.query="",ae=We):"#"==F&&(G.fragment="",ae=bt)}else ye+=jt(F,mt);break;case en:"?"==F?(G.query="",ae=We):"#"==F?(G.fragment="",ae=bt):F!=w&&(G.path[0]+=jt(F,Ke));break;case We:Se||"#"!=F?F!=w&&("'"==F&&Rt(G)?G.query+="%27":G.query+="#"==F?"%23":jt(F,Ke)):(G.fragment="",ae=bt);break;case bt:F!=w&&(G.fragment+=jt(F,vt))}ee++}}function f(F){var me,Se,P=p(this,f,"URL"),z=1<arguments.length?arguments[1]:void 0,oe=(F=String(F),Z(P,{type:"URL"}));if(void 0!==z)if(z instanceof f)me=H(z);else if(Se=h(me={},String(z)))throw TypeError(Se);if(Se=h(oe,F,null,me))throw TypeError(Se);var ae=oe.searchParams=new D;(z=V(ae)).updateSearchParams(oe.query),z.updateURL=function(){oe.query=String(ae)||null},u||(P.href=Ft.call(P),P.origin=Vt.call(P),P.protocol=cn.call(P),P.username=gn.call(P),P.password=xn.call(P),P.host=Sn.call(P),P.hostname=Cn.call(P),P.port=Zn.call(P),P.pathname=tr.call(P),P.search=ar.call(P),P.searchParams=Pn.call(P),P.hash=Hn.call(P))}function E(G,me){return{get:G,set:me,configurable:!0,enumerable:!0}}j("../modules/es.string.iterator");var w,a,l,d=j("../internals/export"),u=j("../internals/descriptors"),c=j("../internals/native-url"),Lt=j("../internals/global"),s=j("../internals/object-define-properties"),m=j("../internals/redefine"),p=j("../internals/an-instance"),b=j("../internals/has"),O=j("../internals/object-assign"),N=j("../internals/array-from"),R=j("../internals/string-multibyte").codeAt,k=j("../internals/string-punycode-to-ascii"),A=j("../internals/set-to-string-tag"),$=j("../modules/web.url-search-params"),S=(j=j("../internals/internal-state"),Lt.URL),D=$.URLSearchParams,V=$.getState,Z=j.set,H=j.getterFor("URL"),Q=Math.floor,Y=Math.pow,q="Invalid authority",ne="Invalid scheme",de="Invalid host",xe="Invalid port",K=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,re=/\d/,ge=/^(0x|0X)/,Me=/^[0-7]+$/,Le=/^\d+$/,Ye=/^[\dA-Fa-f]+$/,et=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Ge=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Be=/[\u0009\u000A\u000D]/g,Ae=function(G,me){var Se,P,z;if("["==me.charAt(0))return"]"==me.charAt(me.length-1)&&(Se=function(F){var Ue,ct,It,Zt,yn,En,Rn,oe=[0,0,0,0,0,0,0,0],ae=0,ee=null,ye=0,Wn=function(){return F.charAt(ye)};if(":"==Wn()){if(":"!=F.charAt(1))return;ye+=2,ee=++ae}for(;Wn();){if(8==ae)return;if(":"!=Wn()){for(Ue=ct=0;ct<4&&Ye.test(Wn());)Ue=16*Ue+parseInt(Wn(),16),ye++,ct++;if("."==Wn()){if(0==ct||(ye-=ct,ae>6))return;for(It=0;Wn();){if(Zt=null,It>0){if(!("."==Wn()&&It<4))return;ye++}if(!re.test(Wn()))return;for(;re.test(Wn());){if(yn=parseInt(Wn(),10),null===Zt)Zt=yn;else{if(0==Zt)return;Zt=10*Zt+yn}if(Zt>255)return;ye++}oe[ae]=256*oe[ae]+Zt,(2==++It||4==It)&&ae++}if(4!=It)return;break}if(":"==Wn()){if(ye++,!Wn())return}else if(Wn())return;oe[ae++]=Ue}else{if(null!==ee)return;ye++,ee=++ae}}if(null!==ee)for(En=ae-ee,ae=7;0!=ae&&En>0;)Rn=oe[ae],oe[ae--]=oe[ee+En-1],oe[ee+--En]=Rn;else if(8!=ae)return;return oe}(me.slice(1,-1)))?void(G.host=Se):de;if(Rt(G))return me=k(me),et.test(me)||null===(Se=function(F){var ae,ee,ye,Ue,ct,It,Zt,oe=F.split(".");if(oe.length&&""==oe[oe.length-1]&&oe.pop(),(ae=oe.length)>4)return F;for(ee=[],ye=0;ye<ae;ye++){if(""==(Ue=oe[ye]))return F;if(ct=10,Ue.length>1&&"0"==Ue.charAt(0)&&(ct=ge.test(Ue)?16:8,Ue=Ue.slice(8==ct?1:2)),""===Ue)It=0;else{if(!(10==ct?Le:8==ct?Me:Ye).test(Ue))return F;It=parseInt(Ue,ct)}ee.push(It)}for(ye=0;ye<ae;ye++)if(It=ee[ye],ye==ae-1){if(It>=Y(256,5-ae))return null}else if(It>255)return null;for(Zt=ee.pop(),ye=0;ye<ee.length;ye++)Zt+=ee[ye]*Y(256,3-ye);return Zt}(me))?de:void(G.host=Se);if(Oe.test(me))return de;for(Se="",P=N(me),z=0;z<P.length;z++)Se+=jt(P[z],Ke);G.host=Se},Qe=function(G){for(var me=null,Se=1,P=null,z=0,F=0;F<8;F++)0!==G[F]?(Se<z&&(me=P,Se=z),P=null,z=0):(null===P&&(P=F),++z);return Se<z&&(me=P,Se=z),me},Ke={},vt=O({},Ke,{" ":1,'"':1,"<":1,">":1,"`":1}),mt=O({},vt,{"#":1,"?":1,"{":1,"}":1}),yt=O({},mt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),jt=function(G,me){var Se=R(G,0);return 32<Se&&Se<127&&!b(me,G)?G:encodeURIComponent(G)},Ht={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Rt=function(G){return b(Ht,G.scheme)},an=function(G){return""!=G.username||""!=G.password},on=function(G,me){return 2==G.length&&K.test(G.charAt(0))&&(":"==(G=G.charAt(1))||!me&&"|"==G)},fn=function(G){return 1<G.length&&on(G.slice(0,2))&&(2==G.length||"/"===(G=G.charAt(2))||"\\"===G||"?"===G||"#"===G)},zt=function(G){var me=G.path,Se=me.length;!Se||"file"==G.scheme&&1==Se&&on(me[0],!0)||me.pop()},Ut=function(G){return"."===G||"%2e"===G.toLowerCase()},lt=function(G){return".."===(G=G.toLowerCase())||"%2e."===G||".%2e"===G||"%2e%2e"===G},Nt={},_t={},Pe={},Fe={},Ie={},Ze={},wt={},Dt={},Gt={},rn={},bn={},_n={},St={},Et={},it={},ze={},ut={},xt={},en={},We={},bt={},Ft=(Lt=f.prototype,function(){var G=H(this),me=G.scheme,Se=G.username,P=G.password,z=G.host,F=G.port,oe=G.path,ae=G.query,ee=G.fragment,ye=me+":";return null!==z?(ye+="//",an(G)&&(ye+=Se+(P?":"+P:"")+"@"),ye+=y(z),null!==F&&(ye+=":"+F)):"file"==me&&(ye+="//"),ye+=G.cannotBeABaseURL?oe[0]:oe.length?"/"+oe.join("/"):"",null!==ae&&(ye+="?"+ae),null!==ee&&(ye+="#"+ee),ye}),Vt=function(){var G=H(this),me=G.scheme,Se=G.port;if("blob"==me)try{return new URL(me.path[0]).origin}catch{return"null"}return"file"!=me&&Rt(G)?me+"://"+y(G.host)+(null!==Se?":"+Se:""):"null"},cn=function(){return H(this).scheme+":"},gn=function(){return H(this).username},xn=function(){return H(this).password},Sn=function(){var G=(me=H(this)).host,me=me.port;return null===G?"":null===me?y(G):y(G)+":"+me},Cn=function(){var G=H(this).host;return null===G?"":y(G)},Zn=function(){var G=H(this).port;return null===G?"":String(G)},tr=function(){var G=H(this),me=G.path;return G.cannotBeABaseURL?me[0]:me.length?"/"+me.join("/"):""},ar=function(){var G=H(this).query;return G?"?"+G:""},Pn=function(){return H(this).searchParams},Hn=function(){var G=H(this).fragment;return G?"#"+G:""};u&&s(Lt,{href:E(Ft,function(Se){var me=H(this);if(Se=h(me,Se=String(Se)))throw TypeError(Se);V(me.searchParams).updateSearchParams(me.query)}),origin:E(Vt),protocol:E(cn,function(G){h(H(this),String(G)+":",Nt)}),username:E(gn,function(G){var me=H(this),Se=N(String(G));if(!_(me)){me.username="";for(var P=0;P<Se.length;P++)me.username+=jt(Se[P],yt)}}),password:E(xn,function(G){var me=H(this),Se=N(String(G));if(!_(me)){me.password="";for(var P=0;P<Se.length;P++)me.password+=jt(Se[P],yt)}}),host:E(Sn,function(G){var me=H(this);me.cannotBeABaseURL||h(me,String(G),bn)}),hostname:E(Cn,function(G){var me=H(this);me.cannotBeABaseURL||h(me,String(G),_n)}),port:E(Zn,function(G){var me=H(this);_(me)||(""==(G=String(G))?me.port=null:h(me,G,St))}),pathname:E(tr,function(G){var me=H(this);me.cannotBeABaseURL||(me.path=[],h(me,G+"",ut))}),search:E(ar,function(G){var me=H(this);""==(G=String(G))?me.query=null:("?"==G.charAt(0)&&(G=G.slice(1)),me.query="",h(me,G,We)),V(me.searchParams).updateSearchParams(me.query)}),searchParams:E(Pn),hash:E(Hn,function(G){var me=H(this);""==(G=String(G))?me.fragment=null:("#"==G.charAt(0)&&(G=G.slice(1)),me.fragment="",h(me,G,bt))})}),m(Lt,"toJSON",function(){return Ft.call(this)},{enumerable:!0}),m(Lt,"toString",function(){return Ft.call(this)},{enumerable:!0}),S&&(l=S.revokeObjectURL,(a=S.createObjectURL)&&m(f,"createObjectURL",function(G){return a.apply(S,arguments)}),l&&m(f,"revokeObjectURL",function(G){return l.apply(S,arguments)})),A(f,"URL"),d({global:!0,forced:!c,sham:!u},{URL:f})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(o,W,C){"use strict";W.exports=o("./").polyfill()},{"./":247}],247:[function(o,W,C){(function(y,_){var f;f=function(){"use strict";function E(Ae){return"function"==typeof Ae}var w=Array.isArray||function(Ae){return"[object Array]"===Object.prototype.toString.call(Ae)},a=0,l=void 0,d=void 0,u=function(Ae,Qe){O[a]=Ae,O[a+1]=Qe,2===(a+=2)&&(d?d(N):D())},c=typeof window<"u"?window:void 0,s=(s=c||{}).MutationObserver||s.WebKitMutationObserver,m=typeof self>"u"&&void 0!==y&&"[object process]"==={}.toString.call(y),p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var Ae=setTimeout;return function(){return Ae(N,1)}}var O=new Array(1e3);function N(){for(var Ae=0;Ae<a;Ae+=2)(0,O[Ae])(O[Ae+1]),O[Ae]=void 0,O[Ae+1]=void 0;a=0}var k,A,$,D=void 0;function j(Ae,Qe){var Ke,vt=this,mt=new this.constructor(Z),yt=(void 0===mt[V]&&Ye(mt),vt._state);return yt?(Ke=arguments[yt-1],u(function(){return Me(yt,mt,Ke,vt._result)})):re(vt,mt,Ae,Qe),mt}function S(Ae){var Qe;return Ae&&"object"==typeof Ae&&Ae.constructor===this?Ae:(de(Qe=new this(Z),Ae),Qe)}D=m?function(){return y.nextTick(N)}:s?(A=0,m=new s(N),$=document.createTextNode(""),m.observe($,{characterData:!0}),function(){$.data=A=++A%2}):p?((k=new MessageChannel).port1.onmessage=N,function(){return k.port2.postMessage(0)}):(void 0===c&&"function"==typeof o?function R(){try{var Ae=Function("return this")().require("vertx");return void 0!==(l=Ae.runOnLoop||Ae.runOnContext)?function(){l(N)}:b()}catch{return b()}}:b)();var V=Math.random().toString(36).substring(2);function Z(){}var H=void 0,Q=1,Y=2;function q(Ae,Qe,Ke){u(function(vt){var mt=!1,yt=function(jt,Ht,Rt,an){try{jt.call(Ht,function(jt){mt||(mt=!0,(Qe!==jt?de:K)(vt,jt))},function(jt){mt||(mt=!0,L(vt,jt))})}catch(on){return on}}(Ke,Qe);!mt&&yt&&(mt=!0,L(vt,yt))},Ae)}function ne(Ae,Qe,Ke){var vt,mt;Qe.constructor===Ae.constructor&&Ke===j&&Qe.constructor.resolve===S?(vt=Ae,(mt=Qe)._state===Q?K(vt,mt._result):mt._state===Y?L(vt,mt._result):re(mt,void 0,function(yt){return de(vt,yt)},function(yt){return L(vt,yt)})):void 0!==Ke&&E(Ke)?q(Ae,Qe,Ke):K(Ae,Qe)}function de(Ae,Qe){if(Ae===Qe)L(Ae,new TypeError("You cannot resolve a promise with itself"));else if(Ke=typeof Qe,null===Qe||"object"!=Ke&&"function"!=Ke)K(Ae,Qe);else{Ke=void 0;try{Ke=Qe.then}catch(vt){return void L(Ae,vt)}ne(Ae,Qe,Ke)}var Ke}function xe(Ae){Ae._onerror&&Ae._onerror(Ae._result),ge(Ae)}function K(Ae,Qe){Ae._state===H&&(Ae._result=Qe,Ae._state=Q,0!==Ae._subscribers.length&&u(ge,Ae))}function L(Ae,Qe){Ae._state===H&&(Ae._state=Y,Ae._result=Qe,u(xe,Ae))}function re(Ae,Qe,Ke,vt){var mt=Ae._subscribers,yt=mt.length;Ae._onerror=null,mt[yt]=Qe,mt[yt+Q]=Ke,mt[yt+Y]=vt,0===yt&&Ae._state&&u(ge,Ae)}function ge(Ae){var Qe=Ae._subscribers,Ke=Ae._state;if(0!==Qe.length){for(var vt,mt=void 0,yt=Ae._result,jt=0;jt<Qe.length;jt+=3)mt=Qe[jt+Ke],(vt=Qe[jt])?Me(Ke,vt,mt,yt):mt(yt);Ae._subscribers.length=0}}function Me(Ae,Qe,Ke,vt){var mt=E(Ke),yt=void 0,jt=void 0,Ht=!0;if(mt){try{yt=Ke(vt)}catch(Rt){Ht=!1,jt=Rt}if(Qe===yt)return void L(Qe,new TypeError("A promises callback cannot return that same promise."))}else yt=vt;Qe._state===H&&(mt&&Ht?de(Qe,yt):!1===Ht?L(Qe,jt):Ae===Q?K(Qe,yt):Ae===Y&&L(Qe,yt))}var Le=0;function Ye(Ae){Ae[V]=Le++,Ae._state=void 0,Ae._result=void 0,Ae._subscribers=[]}Oe.prototype._enumerate=function(Ae){for(var Qe=0;this._state===H&&Qe<Ae.length;Qe++)this._eachEntry(Ae[Qe],Qe)},Oe.prototype._eachEntry=function(Ae,Qe){var Ke=this._instanceConstructor,vt=Ke.resolve;if(vt===S){var mt,yt=void 0,jt=void 0,Ht=!1;try{yt=Ae.then}catch(Rt){Ht=!0,jt=Rt}yt===j&&Ae._state!==H?this._settledAt(Ae._state,Qe,Ae._result):"function"!=typeof yt?(this._remaining--,this._result[Qe]=Ae):Ke===Ge?(mt=new Ke(Z),Ht?L(mt,jt):ne(mt,Ae,yt),this._willSettleAt(mt,Qe)):this._willSettleAt(new Ke(function(Rt){return Rt(Ae)}),Qe)}else this._willSettleAt(vt(Ae),Qe)},Oe.prototype._settledAt=function(Ae,Qe,Ke){var vt=this.promise;vt._state===H&&(this._remaining--,Ae===Y?L(vt,Ke):this._result[Qe]=Ke),0===this._remaining&&K(vt,this._result)},Oe.prototype._willSettleAt=function(Ae,Qe){var Ke=this;re(Ae,void 0,function(vt){return Ke._settledAt(Q,Qe,vt)},function(vt){return Ke._settledAt(Y,Qe,vt)})};var et=Oe;function Oe(Ae,Qe){this._instanceConstructor=Ae,this.promise=new Ae(Z),this.promise[V]||Ye(this.promise),w(Qe)?(this.length=Qe.length,this._remaining=Qe.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Qe),0!==this._remaining)||K(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}Be.prototype.catch=function(Ae){return this.then(null,Ae)},Be.prototype.finally=function(Ae){var Qe=this.constructor;return E(Ae)?this.then(function(Ke){return Qe.resolve(Ae()).then(function(){return Ke})},function(Ke){return Qe.resolve(Ae()).then(function(){throw Ke})}):this.then(Ae,Ae)};var Ge=Be;function Be(Ae){if(this[V]=Le++,this._result=this._state=void 0,this._subscribers=[],Z!==Ae){if("function"!=typeof Ae)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Be))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Qe=this;try{Ae(function(Ke){de(Qe,Ke)},function(Ke){L(Qe,Ke)})}catch(Ke){L(Qe,Ke)}}}return Ge.prototype.then=j,Ge.all=function(Ae){return new et(this,Ae).promise},Ge.race=function(Ae){var Qe=this;return w(Ae)?new Qe(function(Ke,vt){for(var mt=Ae.length,yt=0;yt<mt;yt++)Qe.resolve(Ae[yt]).then(Ke,vt)}):new Qe(function(Ke,vt){return vt(new TypeError("You must pass an array to race."))})},Ge.resolve=S,Ge.reject=function(Ae){var Qe=new this(Z);return L(Qe,Ae),Qe},Ge._setScheduler=function(Ae){d=Ae},Ge._setAsap=function(Ae){u=Ae},Ge._asap=u,Ge.polyfill=function(){var Ae=void 0;if(void 0!==_)Ae=_;else if(typeof self<"u")Ae=self;else try{Ae=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Qe=Ae.Promise;if(Qe){var Ke=null;try{Ke=Object.prototype.toString.call(Qe.resolve())}catch{}if("[object Promise]"===Ke&&!Qe.cast)return}Ae.Promise=Ge},Ge.Promise=Ge},"object"==typeof C&&void 0!==W?W.exports=f():this.ES6Promise=f()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:256}],248:[function(o,W,C){var _;_=function(h,f){"use strict";function a(d){try{delete window[d]}catch{window[d]=void 0}}function l(d){(d=document.getElementById(d))&&document.getElementsByTagName("head")[0].removeChild(d)}f.exports=function(d){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=d,s=u.timeout||5e3,m=u.jsonpCallback||"callback",p=void 0;return new Promise(function(b,O){var N=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),R=m+"_"+N,k=(window[N]=function(A){b({ok:!0,json:function(){return Promise.resolve(A)}}),p&&clearTimeout(p),l(R),a(N)},c+=-1===c.indexOf("?")?"?":"&",document.createElement("script"));k.setAttribute("src",""+c+m+"="+N),u.charset&&k.setAttribute("charset",u.charset),k.id=R,document.getElementsByTagName("head")[0].appendChild(k),p=setTimeout(function(){O(new Error("JSONP request to "+d+" timed out")),a(N),l(R),window[N]=function(){a(N)}},s),k.onerror=function(){O(new Error("JSONP request to "+d+" failed")),a(N),l(R),p&&clearTimeout(p)}})}},void 0!==C&&void 0!==W?_(0,W):(_(_={exports:{}},_),this.fetchJsonp=_.exports)},{}],249:[function(o,W,C){var y=function(_){"use strict";var h,f,E,w,a,l,u,c,s,m;if(!(void 0===_||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return h=function(){return _.URL||_.webkitURL||_},f=(m=_.document).createElementNS("http://www.w3.org/1999/xhtml","a"),E="download"in f,w=/constructor/i.test(_.HTMLElement)||_.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(p){(_.setImmediate||_.setTimeout)(function(){throw p},0)},4e4,u=function(p){setTimeout(function(){"string"==typeof p?h().revokeObjectURL(p):p.remove()},4e4)},c=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p},m=(s=function(p,b,A){A||(p=c(p));var N,R,k=this,$=(A="application/octet-stream"===p.type,function(){for(var j=k,S="writestart progress write writeend".split(" "),V=(S=[].concat(S)).length;V--;){var Z=j["on"+S[V]];if("function"==typeof Z)try{Z.call(j,j)}catch(H){l(H)}}});k.readyState=k.INIT,E?(N=h().createObjectURL(p),setTimeout(function(){var j,S;f.href=N,f.download=b,j=f,S=new MouseEvent("click"),j.dispatchEvent(S),$(),u(N),k.readyState=k.DONE})):(a||A&&w)&&_.FileReader?((R=new FileReader).onloadend=function(){var j=a?R.result:R.result.replace(/^data:[^;]*;/,"data:attachment/file;");_.open(j,"_blank")||(_.location.href=j),j=void 0,k.readyState=k.DONE,$()},R.readAsDataURL(p),k.readyState=k.INIT):(N=N||h().createObjectURL(p),!A&&_.open(N,"_blank")||(_.location.href=N),k.readyState=k.DONE,$(),u(N))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,b,O){return b=b||p.name||"download",O||(p=c(p)),navigator.msSaveOrOpenBlob(p,b)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,function(p,b,O){return new s(p,b||p.name||"download",O)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==W&&W.exports&&(W.exports.saveAs=y)},{}],250:[function(o,W,C){var y,_=Object.defineProperty,h=(_(C,"__esModule",{value:!0}),C),f={GIFEncoder:()=>$,applyPalette:()=>function(H,Q,Y="rgb565"){if(!H||!H.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(H instanceof Uint8Array||H instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<Q.length)throw new Error("applyPalette() only works with 256 colors or less");const q=new Uint32Array(H.buffer),ne=q.length,de="rgb444"===Y?4096:65536,xe=new Uint8Array(ne),K=new Array(de);if("rgba4444"===Y)for(let Be=0;Be<ne;Be++){var Me,L=(Me=q[Be])>>24&255,re=Me>>16&255,ge=Me>>8&255,Le=(Le=u(Me&=255,ge,re,L))in K?K[Le]:K[Le]=function(Ae,Qe,Ke,vt,mt){let yt=0,jt=1e100;for(let on=0;on<mt.length;on++){var Rt=mt[on],an=R(Rt[3]-vt);an>jt||(an+=R(Rt[0]-Ae))>jt||(an+=R(Rt[1]-Qe))>jt||(an+=R(Rt[2]-Ke))>jt||(jt=an,yt=on)}return yt}(Me,ge,re,L,Q);xe[Be]=Le}else{const Be="rgb444"===Y?c:d;for(let Ae=0;Ae<ne;Ae++){var Oe,Ye=(Oe=q[Ae])>>16&255,et=Oe>>8&255,Ge=(Ge=Be(Oe&=255,et,Ye))in K?K[Ge]:K[Ge]=function(Qe,Ke,vt,mt){let yt=0,jt=1e100;for(let on=0;on<mt.length;on++){var Rt=mt[on],an=R(Rt[0]-Qe);an>jt||(an+=R(Rt[1]-Ke))>jt||(an+=R(Rt[2]-vt))>jt||(jt=an,yt=on)}return yt}(Oe,et,Ye,Q);xe[Ae]=Ge}}return xe},default:()=>Z,nearestColor:()=>function(H,Q,Y=O){return H[k(H,Q,Y)]},nearestColorIndex:()=>k,nearestColorIndexWithDistance:()=>A,prequantize:()=>function(H,{roundRGB:Q=5,roundAlpha:Y=10,oneBitAlpha:q=null}={}){const ne=new Uint32Array(H.buffer);for(let re=0;re<ne.length;re++){let ge=(L=ne[re])>>24&255;var xe=L>>16&255,K=L>>8&255,L=255&L;ge=N(ge,Y),q&&(ge=ge<=("number"==typeof q?q:127)?0:255),L=N(L,Q),K=N(K,Q),xe=N(xe,Q),ne[re]=ge<<24|xe<<16|K<<8|L<<0}},quantize:()=>function(H,Q,Y={}){var{format:q="rgb565",clearAlpha:ne=!0,clearAlphaColor:de=0,clearAlphaThreshold:xe=0,oneBitAlpha:K=!1}=Y;if(!H||!H.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(H instanceof Uint8Array||H instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");H=new Uint32Array(H.buffer);let L=!1!==Y.useSqrt;const re="rgba4444"===q,ge=function(fn,zt){const lt=new Array("rgb444"===zt?4096:65536),Nt=fn.length;if("rgba4444"===zt)for(let it=0;it<Nt;++it){var Ie,_t=(Ie=fn[it])>>24&255,Pe=Ie>>16&255,Fe=Ie>>8&255,Ze=u(Ie&=255,Fe,Pe,_t);let ze=Ze in lt?lt[Ze]:lt[Ze]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};ze.rc+=Ie,ze.gc+=Fe,ze.bc+=Pe,ze.ac+=_t,ze.cnt++}else if("rgb444"===zt)for(let it=0;it<Nt;++it){var Gt,wt=(Gt=fn[it])>>16&255,Dt=Gt>>8&255,rn=c(Gt&=255,Dt,wt);let ze=rn in lt?lt[rn]:lt[rn]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};ze.rc+=Gt,ze.gc+=Dt,ze.bc+=wt,ze.cnt++}else for(let it=0;it<Nt;++it){var St,bn=(St=fn[it])>>16&255,_n=St>>8&255,Et=d(St&=255,_n,bn);let ze=Et in lt?lt[Et]:lt[Et]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};ze.rc+=St,ze.gc+=_n,ze.bc+=bn,ze.cnt++}return lt}(H,q),Me=ge.length,Le=Me-1,Ye=new Uint32Array(Me+1);for(var et=0,Oe=0;Oe<Me;++Oe){const fn=ge[Oe];null!=fn&&(Rt=1/fn.cnt,re&&(fn.ac*=Rt),fn.rc*=Rt,fn.gc*=Rt,fn.bc*=Rt,ge[et++]=fn)}var Ge,Be,Ae;for(m(Q)/et<.022&&(L=!1),Oe=0;Oe<et-1;++Oe)ge[Oe].fw=Oe+1,ge[Oe+1].bk=Oe,L&&(ge[Oe].cnt=Math.sqrt(ge[Oe].cnt));for(L&&(ge[Oe].cnt=Math.sqrt(ge[Oe].cnt)),Oe=0;Oe<et;++Oe){p(ge,Oe,!1);var Qe=ge[Oe].err;for(Be=++Ye[0];1<Be&&!(ge[Ge=Ye[Ae=Be>>1]].err<=Qe);Be=Ae)Ye[Be]=Ge;Ye[Be]=Oe}var Ke,vt=et-Q;for(Oe=0;Oe<vt;){for(;;){var mt=Ye[1];if((Ke=ge[mt]).tm>=Ke.mtm&&ge[Ke.nn].mtm<=Ke.tm)break;for(Ke.mtm==Le?mt=Ye[1]=Ye[Ye[0]--]:(p(ge,mt,!1),Ke.tm=Oe),Qe=ge[mt].err,Be=1;(Ae=Be+Be)<=Ye[0]&&(Ae<Ye[0]&&ge[Ye[Ae]].err>ge[Ye[Ae+1]].err&&Ae++,!(Qe<=ge[Ge=Ye[Ae]].err));Be=Ae)Ye[Be]=Ge;Ye[Be]=mt}var yt=ge[Ke.nn],jt=Ke.cnt,Ht=yt.cnt,Rt=1/(jt+Ht);re&&(Ke.ac=Rt*(jt*Ke.ac+Ht*yt.ac)),Ke.rc=Rt*(jt*Ke.rc+Ht*yt.rc),Ke.gc=Rt*(jt*Ke.gc+Ht*yt.gc),Ke.bc=Rt*(jt*Ke.bc+Ht*yt.bc),Ke.cnt+=yt.cnt,Ke.mtm=++Oe,ge[yt.bk].fw=yt.fw,ge[yt.fw].bk=yt.bk,yt.mtm=Le}let an=[];for(Oe=0;;0){let fn=s(Math.round(ge[Oe].rc),0,255),zt=s(Math.round(ge[Oe].gc),0,255),Ut=s(Math.round(ge[Oe].bc),0,255),lt=255;re&&(lt=s(Math.round(ge[Oe].ac),0,255),K&&(lt=lt<=(on="number"==typeof K?K:127)?0:255),ne&&lt<=xe&&(fn=zt=Ut=de,lt=0));var on=re?[fn,zt,Ut,lt]:[fn,zt,Ut];if(function(Nt,_t){for(let Ie=0;Ie<Nt.length;Ie++){var Pe=(Fe=Nt[Ie])[0]===_t[0]&&Fe[1]===_t[1]&&Fe[2]===_t[2],Fe=!(4<=Fe.length&&4<=_t.length)||Fe[3]===_t[3];if(Pe&&Fe)return!0}return!1}(an,on)||an.push(on),0==(Oe=ge[Oe].fw))break}return an},snapColorsToPalette:()=>function(H,Q,Y=5){if(H.length&&Q.length){var q=H.map(L=>L.slice(0,3)),ne=Y*Y,de=H[0].length;for(let L=0;L<Q.length;L++){let re=Q[L];re=re.length<de?[re[0],re[1],re[2],255]:re.length>de?re.slice(0,3):re.slice();var K,xe=(K=A(q,re.slice(0,3),O))[0];0<(K=K[1])&&K<=ne&&(H[xe]=re)}}}};for(y in f)_(h,y,{get:f[y],enumerable:!0});var E={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function w(H=256){let Q=0,Y=new Uint8Array(H);return{get buffer(){return Y.buffer},reset(){Q=0},bytesView:()=>Y.subarray(0,Q),bytes:()=>Y.slice(0,Q),writeByte(ne){q(Q+1),Y[Q]=ne,Q++},writeBytes(ne,de=0,xe=ne.length){q(Q+xe);for(let K=0;K<xe;K++)Y[Q++]=ne[K+de]},writeBytesView(ne,de=0,xe=ne.byteLength){q(Q+xe),Y.set(ne.subarray(de,de+xe),Q),Q+=xe}};function q(ne){var de=Y.length;if(!(ne<=de)){ne=Math.max(ne,de*(de<1048576?2:1.125)>>>0),0!=de&&(ne=Math.max(ne,256));const xe=Y;Y=new Uint8Array(ne),0<Q&&Y.set(xe.subarray(0,Q),0)}}}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function(H,Q,Y,re,ne=w(512),de=new Uint8Array(256),xe=new Int32Array(5003),K=new Int32Array(5003)){var L=xe.length;re=Math.max(2,re),de.fill(0),K.fill(0),xe.fill(-1);let ge=0,Me=0;var Le=re+1;const Ye=Le;let et=!1,Oe=Ye,Ge=(1<<Oe)-1;var Be=1<<Le-1;const Ae=1+Be;let Qe=2+Be,Ke=0,vt=Y[0],mt=0;for(let on=L;on<65536;on*=2)++mt;mt=8-mt,ne.writeByte(re),an(Be);var yt=Y.length;for(let on=1;on<yt;on++)e:{var jt=Y[on],Ht=(jt<<12)+vt;let fn=jt<<mt^vt;if(xe[fn]===Ht)vt=K[fn];else{for(var Rt=0===fn?1:L-fn;0<=xe[fn];)if((fn-=Rt)<0&&(fn+=L),xe[fn]===Ht){vt=K[fn];break e}an(vt),vt=jt,Qe<4096?(K[fn]=Qe++,xe[fn]=Ht):(xe.fill(-1),Qe=2+Be,et=!0,an(Be))}}return an(vt),an(Ae),ne.writeByte(0),ne.bytesView();function an(on){for(ge&=a[Me],0<Me?ge|=on<<Me:ge=on,Me+=Oe;8<=Me;)de[Ke++]=255&ge,254<=Ke&&(ne.writeByte(Ke),ne.writeBytesView(de,0,Ke),Ke=0),ge>>=8,Me-=8;if((Qe>Ge||et)&&(et?(Oe=Ye,Ge=(1<<Oe)-1,et=!1):(++Oe,Ge=12===Oe?1<<Oe:(1<<Oe)-1)),on==Ae){for(;0<Me;)de[Ke++]=255&ge,254<=Ke&&(ne.writeByte(Ke),ne.writeBytesView(de,0,Ke),Ke=0),ge>>=8,Me-=8;0<Ke&&(ne.writeByte(Ke),ne.writeBytesView(de,0,Ke),Ke=0)}}};function d(H,Q,Y){return H<<8&63488|Q<<2&992|Y>>3}function u(H,Q,Y,q){return H>>4|240&Q|(240&Y)<<4|(240&q)<<8}function c(H,Q,Y){return H>>4<<8|240&Q|Y>>4}function s(H,Q,Y){return H<Q?Q:Y<H?Y:H}function m(H){return H*H}function p(H,Q,Y){var q=0,ne=1e100;const de=H[Q];for(var xe=de.cnt,K=de.ac,L=de.rc,re=de.gc,ge=de.bc,Me=de.fw;0!=Me;Me=H[Me].fw){var Le,et,Ye=H[Me];ne<=(et=xe*(et=Ye.cnt)/(xe+et))||(Le=0,Y&&ne<=(Le+=et*m(Ye.ac-K))||ne<=(Le+=et*m(Ye.rc-L))||ne<=(Le+=et*m(Ye.gc-re))||ne<=(Le+=et*m(Ye.bc-ge))||(ne=Le,q=Me))}de.err=ne,de.nn=q}function O(H,Q){for(var Y=0,q=0;q<H.length;q++){var ne=H[q]-Q[q];Y+=ne*ne}return Y}function N(H,Q){return 1<Q?Math.round(H/Q)*Q:H}function R(H){return H*H}function k(H,Q,Y=O){let q=1/0,ne=-1;for(let xe=0;xe<H.length;xe++){var de=Y(Q,H[xe]);de<q&&(q=de,ne=xe)}return ne}function A(H,Q,Y=O){let q=1/0,ne=-1;for(let xe=0;xe<H.length;xe++){var de=Y(Q,H[xe]);de<q&&(q=de,ne=xe)}return[ne,q]}function $(H={}){const{initialCapacity:Q=4096,auto:Y=!0}=H,q=w(Q),ne=new Uint8Array(256),de=new Int32Array(5003),xe=new Int32Array(5003);let K=!1;return{reset(){q.reset(),K=!1},finish(){q.writeByte(E.trailer)},bytes:()=>q.bytes(),bytesView:()=>q.bytesView(),get buffer(){return q.buffer},get stream(){return q},writeHeader:L,writeFrame(re,ge,Me,vt={}){var{transparent:Ye=!1,transparentIndex:et=0,delay:Rt=0,palette:Oe=null,repeat:yt=0,colorDepth:Ge=8,dispose:Be=-1}=vt;let Ae=!1;if(Y?K||(Ae=!0,L(),K=!0):Ae=!!vt.first,ge=Math.max(0,Math.floor(ge)),Me=Math.max(0,Math.floor(Me)),Ae){if(!Oe)throw new Error("First frame must include a { palette } option");var[vt,jt,Ke,Ht,mt=8]=[q,ge,Me,Oe,Ge];mt=128|mt-1<<4|(Ht=V(Ht.length)-1),S(vt,jt),S(vt,Ke),vt.writeBytes([mt,0,0]),j(q,Oe),0<=yt&&(jt=yt,(Ht=q).writeByte(33),Ht.writeByte(255),Ht.writeByte(11),D(Ht,"NETSCAPE2.0"),Ht.writeByte(3),Ht.writeByte(1),S(Ht,jt),Ht.writeByte(0))}var Qe,Ke,mt=Be,yt=Ke=Math.round(Rt/10),jt=Ye,Ht=et,Rt=((vt=q).writeByte(33),vt.writeByte(249),vt.writeByte(4),Ht<0&&(Ht=0,jt=!1),jt=jt?(Qe=1,2):Qe=0,0<=mt&&(jt=7&mt),vt.writeByte(0|(jt<<=2)|Qe),S(vt,yt),vt.writeByte(Ht||0),vt.writeByte(0),!!Oe&&!Ae);Ye=ge,et=Me,Qe=Rt?Oe:null,(Be=q).writeByte(44),S(Be,0),S(Be,0),S(Be,Ye),S(Be,et),Qe?(Ye=V(Qe.length)-1,Be.writeByte(128|Ye)):Be.writeByte(0),Rt&&j(q,Oe),[yt,vt,et,Ye,Be=8,Rt,Oe,re]=[q,re,ge,Me,Ge,ne,de,xe],l(et,Ye,vt,Be,yt,Rt,Oe,re)}};function L(){D(q,"GIF89a")}}function j(H,Q){var Y=1<<V(Q.length);for(let q=0;q<Y;q++){let ne=[0,0,0];q<Q.length&&(ne=Q[q]),H.writeByte(ne[0]),H.writeByte(ne[1]),H.writeByte(ne[2])}}function S(H,Q){H.writeByte(255&Q),H.writeByte(Q>>8&255)}function D(H,Q){for(var Y=0;Y<Q.length;Y++)H.writeByte(Q.charCodeAt(Y))}function V(H){return Math.max(Math.ceil(Math.log2(H)),1)}var Z=$},{}],251:[function(o,W,C){C.read=function(y,_,h,f,p){var w,a,l=8*p-f-1,d=(1<<l)-1,u=d>>1,c=-7,s=h?p-1:0,m=h?-1:1;for(p=y[_+s],s+=m,w=p&(1<<-c)-1,p>>=-c,c+=l;0<c;w=256*w+y[_+s],s+=m,c-=8);for(a=w&(1<<-c)-1,w>>=-c,c+=f;0<c;a=256*a+y[_+s],s+=m,c-=8);if(0===w)w=1-u;else{if(w===d)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,f),w-=u}return(p?-1:1)*a*Math.pow(2,w-f)},C.write=function(y,_,h,f,E,b){var a,l,d=8*b-E-1,u=(1<<d)-1,c=u>>1,s=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,m=f?0:b-1,p=f?1:-1;for(b=_<0||0===_&&1/_<0?1:0,_=Math.abs(_),isNaN(_)||_===1/0?(l=isNaN(_)?1:0,a=u):(a=Math.floor(Math.log(_)/Math.LN2),_*(f=Math.pow(2,-a))<1&&(a--,f*=2),2<=(_+=1<=a+c?s/f:s*Math.pow(2,1-c))*f&&(a++,f/=2),u<=a+c?(l=0,a=u):1<=a+c?(l=(_*f-1)*Math.pow(2,E),a+=c):(l=_*Math.pow(2,c-1)*Math.pow(2,E),a=0));8<=E;y[h+m]=255&l,m+=p,l/=256,E-=8);for(a=a<<E|l,d+=E;0<d;y[h+m]=255&a,m+=p,a/=256,d-=8);y[h+m-p]|=128*b}},{}],252:[function(o,W,C){"use strict";var y;function _(Pe,Fe){return Pe.b===Fe.b&&Pe.a===Fe.a}function h(Pe,Fe){return Pe.b<Fe.b||Pe.b===Fe.b&&Pe.a<=Fe.a}function f(Pe,Fe,Ie){var Ze=Fe.b-Pe.b,wt=Ie.b-Fe.b;return 0<Ze+wt?Ze<wt?Fe.a-Pe.a+Ze/(Ze+wt)*(Pe.a-Ie.a):Fe.a-Ie.a+wt/(Ze+wt)*(Ie.a-Pe.a):0}function E(Pe,Fe,Ie){var Ze=Fe.b-Pe.b,wt=Ie.b-Fe.b;return 0<Ze+wt?(Fe.a-Ie.a)*Ze+(Fe.a-Pe.a)*wt:0}function w(Pe,Fe){return Pe.a<Fe.a||Pe.a===Fe.a&&Pe.b<=Fe.b}function a(Pe,Fe,Ie){var Ze=Fe.a-Pe.a,wt=Ie.a-Fe.a;return 0<Ze+wt?Ze<wt?Fe.b-Pe.b+Ze/(Ze+wt)*(Pe.b-Ie.b):Fe.b-Ie.b+wt/(Ze+wt)*(Ie.b-Pe.b):0}function l(Pe,Fe,Ie){var Ze=Fe.a-Pe.a,wt=Ie.a-Fe.a;return 0<Ze+wt?(Fe.b-Ie.b)*Ze+(Fe.b-Pe.b)*wt:0}function d(Pe,Fe,Ie,Ze){return(Pe=Pe<0?0:Pe)<=(Ie=Ie<0?0:Ie)?0===Ie?(Fe+Ze)/2:Fe+Pe/(Pe+Ie)*(Ze-Fe):Ze+Ie/(Pe+Ie)*(Fe-Ze)}function u(Pe){var Fe=b(Pe.b);return N(Fe,Pe.c),N(Fe.b,Pe.c),R(Fe,Pe.a),Fe}function c(Pe,Fe){var Ie=!1,Ze=!1;Pe!==Fe&&(Fe.a!==Pe.a&&(Ze=!0,A(Fe.a,Pe.a)),Fe.d!==Pe.d&&(Ie=!0,$(Fe.d,Pe.d)),O(Fe,Pe),Ze||(N(Fe,Pe.a),Pe.a.c=Pe),Ie||(R(Fe,Pe.d),Pe.d.a=Pe))}function s(Pe){var Fe=Pe.b,Ie=!1;Pe.d!==Pe.b.d&&(Ie=!0,$(Pe.d,Pe.b.d)),Pe.c===Pe?A(Pe.a,null):(Pe.b.d.a=Pe.b.e,Pe.a.c=Pe.c,O(Pe,Pe.b.e),Ie||R(Pe,Pe.d)),Fe.c===Fe?(A(Fe.a,null),$(Fe.d,null)):(Pe.d.a=Fe.b.e,Fe.a.c=Fe.c,O(Fe,Fe.b.e)),k(Pe)}function m(Pe){var Fe=b(Pe),Ie=Fe.b;return O(Fe,Pe.e),Fe.a=Pe.b.a,N(Ie,Fe.a),Fe.d=Ie.d=Pe.d,Fe=Fe.b,O(Pe.b,Pe.b.b.e),O(Pe.b,Fe),Pe.b.a=Fe.a,Fe.b.a.c=Fe.b,Fe.b.d=Pe.b.d,Fe.f=Pe.f,Fe.b.f=Pe.b.f,Fe}function p(Pe,Fe){var Ie=!1,Ze=b(Pe),wt=Ze.b;return Fe.d!==Pe.d&&(Ie=!0,$(Fe.d,Pe.d)),O(Ze,Pe.e),O(wt,Fe),Ze.a=Pe.b.a,wt.a=Fe.a,Ze.d=wt.d=Pe.d,Pe.d.a=wt,Ie||R(Ze,Pe.d),Ze}function b(Pe){var Fe=new Ke,Ie=new Ke;return(((Ie.h=Pe.b.h).b.h=Fe).h=Pe).b.h=Ie,Fe.b=Ie,((Fe.c=Fe).e=Ie).b=Fe,(Ie.c=Ie).e=Fe}function O(Pe,Fe){var Ie=Pe.c,Ze=Fe.c;Ie.b.e=Fe,(Ze.b.e=Pe).c=Ze,Fe.c=Ie}function N(Pe,Fe){var Ie=Fe.f,Ze=new mt(Fe,Ie);for(Ie.e=Ze,Ie=(Fe.f=Ze).c=Pe;Ie.a=Ze,(Ie=Ie.c)!==Pe;);}function R(Pe,Fe){var Ie=Fe.d,Ze=new Qe(Fe,Ie);for(Ie.b=Ze,(Fe.d=Ze).a=Pe,Ze.c=Fe.c,Ie=Pe;Ie.d=Ze,(Ie=Ie.e)!==Pe;);}function k(Pe){var Fe=Pe.h;(Fe.b.h=Pe=Pe.b.h).b.h=Fe}function A(Pe,Fe){for(var Ie=Pe.c,Ze=Ie;Ze.a=Fe,(Ze=Ze.c)!==Ie;);((Ze=Pe.e).f=Ie=Pe.f).e=Ze}function $(Pe,Fe){for(var Ie=Pe.a,Ze=Ie;Ze.d=Fe,(Ze=Ze.e)!==Ie;);((Ze=Pe.b).d=Ie=Pe.d).b=Ze}function j(Pe){var Fe=0;return Math.abs(Pe[1])>Math.abs(Pe[0])&&(Fe=1),Math.abs(Pe[2])>Math.abs(Pe[Fe])?2:Fe}function S(Pe,Fe){Pe.f+=Fe.f,Pe.b.f+=Fe.b.f}function D(Pe,Fe,Ie){return Ie=Ie.a,(Fe=Fe.a).b.a===(Pe=Pe.a)?Ie.b.a===Pe?h(Fe.a,Ie.a)?E(Ie.b.a,Fe.a,Ie.a)<=0:0<=E(Fe.b.a,Ie.a,Fe.a):E(Ie.b.a,Pe,Ie.a)<=0:Ie.b.a===Pe?0<=E(Fe.b.a,Pe,Fe.a):(Fe=f(Fe.b.a,Pe,Fe.a),(Pe=f(Ie.b.a,Pe,Ie.a))<=Fe)}function V(Pe){Pe.a.i=null;var Fe=Pe.e;Fe.a.c=Fe.c,Fe.c.a=Fe.a,Pe.e=null}function Z(Pe,Fe){s(Pe.a),Pe.c=!1,(Pe.a=Fe).i=Pe}function H(Pe){for(var Fe=Pe.a.a;(Pe=_t(Pe)).a.a===Fe;);return Pe.c&&(Z(Pe,Fe=p(Nt(Pe).a.b,Pe.a.e)),Pe=_t(Pe)),Pe}function Q(Pe,Fe,Ie){var Ze=new lt;return Ze.a=Ie,Ze.e=et(Pe.f,Fe.e,Ze),Ie.i=Ze}function Y(Pe,Fe){switch(Pe.s){case 100130:return 0!=(1&Fe);case 100131:return 0!==Fe;case 100132:return 0<Fe;case 100133:return Fe<0;case 100134:return 2<=Fe||Fe<=-2}return!1}function q(Pe){var Fe=Pe.a,Ie=Fe.d;Ie.c=Pe.d,Ie.a=Fe,V(Pe)}function ne(Pe,Fe,Ie){for(Fe=(Pe=Fe).a;Pe!==Ie;){Pe.c=!1;var Ze=Nt(Pe),wt=Ze.a;if(wt.a!==Fe.a){if(!Ze.c){q(Pe);break}Z(Ze,wt=p(Fe.c.b,wt.b))}Fe.c!==wt&&(c(wt.b.e,wt),c(Fe,wt)),q(Pe),Fe=Ze.a,Pe=Ze}return Fe}function de(Pe,Fe,Ie,Ze,wt,Dt){for(var Gt=!0;Q(Pe,Fe,Ie.b),(Ie=Ie.c)!==Ze;);for(null===wt&&(wt=Nt(Fe).a.b.c);(Ie=(Ze=Nt(Fe)).a.b).a===wt.a;)Ie.c!==wt&&(c(Ie.b.e,Ie),c(wt.b.e,Ie)),Ze.f=Fe.f-Ie.f,Ze.d=Y(Pe,Ze.f),Fe.b=!0,!Gt&&re(Pe,Fe)&&(S(Ie,wt),V(Fe),s(wt)),Gt=!1,Fe=Ze,wt=Ie;Fe.b=!0,Dt&&Me(Pe,Fe)}function xe(Pe,Fe,Ie,Ze,wt){var Dt=[Fe.g[0],Fe.g[1],Fe.g[2]];Fe.d=null,Fe.d=Pe.o&&Pe.o(Dt,Ie,Ze,Pe.c)||null,null===Fe.d&&(wt?Pe.n||(Ae(Pe,100156),Pe.n=!0):Fe.d=Ie[0])}function K(Pe,Fe,Ie){var Ze=[null,null,null,null];Ze[0]=Fe.a.d,Ze[1]=Ie.a.d,xe(Pe,Fe.a,Ze,[.5,.5,0,0],!1),c(Fe,Ie)}function L(Pe,Fe,Ie,Ze,wt){var Dt=Math.abs(Fe.b-Pe.b)+Math.abs(Fe.a-Pe.a),Gt=Math.abs(Ie.b-Pe.b)+Math.abs(Ie.a-Pe.a),rn=wt+1;Ze[wt]=.5*Gt/(Dt+Gt),Ze[rn]=.5*Dt/(Dt+Gt),Pe.g[0]+=Ze[wt]*Fe.g[0]+Ze[rn]*Ie.g[0],Pe.g[1]+=Ze[wt]*Fe.g[1]+Ze[rn]*Ie.g[1],Pe.g[2]+=Ze[wt]*Fe.g[2]+Ze[rn]*Ie.g[2]}function re(Pe,Fe){var Ie=Nt(Fe),Ze=Fe.a,wt=Ie.a;if(h(Ze.a,wt.a)){if(0<E(wt.b.a,Ze.a,wt.a))return;if(_(Ze.a,wt.a)){if(Ze.a!==wt.a){Ie=Pe.e;var Dt=Ze.a.h;if(0<=Dt){var Gt=(Ie=Ie.b).d,rn=Ie.e,bn=Ie.c,_n=bn[Dt];Gt[_n]=Gt[Ie.a],(bn[Gt[_n]]=_n)<=--Ie.a&&(_n<=1||h(rn[Gt[_n>>1]],rn[Gt[_n]])?zt:Ut)(Ie,_n),rn[Dt]=null,bn[Dt]=Ie.b,Ie.b=Dt}else for(Ie.c[-(Dt+1)]=null;0<Ie.a&&null===Ie.c[Ie.d[Ie.a-1]];)--Ie.a;K(Pe,wt.b.e,Ze)}}else m(wt.b),c(Ze,wt.b.e),Fe.b=Ie.b=!0}else{if(E(Ze.b.a,wt.a,Ze.a)<0)return;_t(Fe).b=Fe.b=!0,m(Ze.b),c(wt.b.e,Ze)}return 1}function ge(Pe,Fe){var Ie=Nt(Fe),Ze=Fe.a,wt=Ie.a,Dt=Ze.a,Gt=wt.a,rn=Ze.b.a,bn=wt.b.a,_n=new mt;if(E(rn,Pe.a,Dt),E(bn,Pe.a,Gt),!(Dt===Gt||Math.min(Dt.a,rn.a)>Math.max(Gt.a,bn.a))){if(h(Dt,Gt)){if(0<E(bn,Dt,Gt))return}else if(E(rn,Gt,Dt)<0)return;var St,Et,it=rn,ze=Dt,ut=bn,xt=Gt;if(h(it,ze)||(St=it,it=ze,ze=St),h(ut,xt)||(St=ut,ut=xt,xt=St),h(it,ut)||(St=it,it=ut,ut=St,St=ze,ze=xt,xt=St),h(ut,ze)?h(ze,xt)?((St=f(it,ut,ze))+(Et=f(ut,ze,xt))<0&&(St=-St,Et=-Et),_n.b=d(St,ut.b,Et,ze.b)):((St=E(it,ut,ze))+(Et=-E(it,xt,ze))<0&&(St=-St,Et=-Et),_n.b=d(St,ut.b,Et,xt.b)):_n.b=(ut.b+ze.b)/2,w(it,ze)||(St=it,it=ze,ze=St),w(ut,xt)||(St=ut,ut=xt,xt=St),w(it,ut)||(St=it,it=ut,ut=St,St=ze,ze=xt,xt=St),w(ut,ze)?w(ze,xt)?((St=a(it,ut,ze))+(Et=a(ut,ze,xt))<0&&(St=-St,Et=-Et),_n.a=d(St,ut.a,Et,ze.a)):((St=l(it,ut,ze))+(Et=-l(it,xt,ze))<0&&(St=-St,Et=-Et),_n.a=d(St,ut.a,Et,xt.a)):_n.a=(ut.a+ze.a)/2,h(_n,Pe.a)&&(_n.b=Pe.a.b,_n.a=Pe.a.a),it=h(Dt,Gt)?Dt:Gt,h(it,_n)&&(_n.b=it.b,_n.a=it.a),_(_n,Dt)||_(_n,Gt))return re(Pe,Fe),0;if(!_(rn,Pe.a)&&0<=E(rn,Pe.a,_n)||!_(bn,Pe.a)&&E(bn,Pe.a,_n)<=0){if(bn===Pe.a)m(Ze.b),c(wt.b,Ze),Ze=Nt(Fe=H(Fe)).a,ne(Pe,Nt(Fe),Ie),de(Pe,Fe,Ze.b.e,Ze,Ze,!0);else{if(rn!==Pe.a)return 0<=E(rn,Pe.a,_n)&&(_t(Fe).b=Fe.b=!0,m(Ze.b),Ze.a.b=Pe.a.b,Ze.a.a=Pe.a.a),void(E(bn,Pe.a,_n)<=0&&(Fe.b=Ie.b=!0,m(wt.b),wt.a.b=Pe.a.b,wt.a.a=Pe.a.a));for(m(wt.b),c(Ze.e,wt.b.e),Gt=(Dt=Ie=Fe).a.b.a;(Dt=_t(Dt)).a.b.a===Gt;);Dt=Nt(Fe=Dt).a.b.c,Ie.a=wt.b.e,de(Pe,Fe,(wt=ne(Pe,Ie,null)).c,Ze.b.c,Dt,!0)}return 1}m(Ze.b),m(wt.b),c(wt.b.e,Ze),Ze.a.b=_n.b,Ze.a.a=_n.a,Ze.a.h=jt(Pe.e,Ze.a),wt=[0,0,0,0],_n=[Dt.d,rn.d,Gt.d,bn.d],(Ze=Ze.a).g[0]=Ze.g[1]=Ze.g[2]=0,L(Ze,Dt,rn,wt,0),L(Ze,Gt,bn,wt,2),xe(Pe,Ze,_n,wt,!0),_t(Fe).b=Fe.b=Ie.b=!0}}function Me(Pe,Fe){for(var Ie=Nt(Fe);;){for(;Ie.b;)Ie=Nt(Fe=Ie);if(!(Fe.b||null!==(Fe=_t(Ie=Fe))&&Fe.b))break;Fe.b=!1;var Ze=Fe.a,wt=Ie.a;if(Dt=Ze.b.a!==wt.b.a)e:{var Dt,Gt=Nt(Dt=Fe),rn=Dt.a,bn=Gt.a,_n=void 0;if(h(rn.b.a,bn.b.a)){if(E(rn.b.a,bn.b.a,rn.a)<0){Dt=!1;break e}_t(Dt).b=Dt.b=!0,_n=m(rn),c(bn.b,_n),_n.d.c=Dt.d}else{if(0<E(bn.b.a,rn.b.a,bn.a)){Dt=!1;break e}Dt.b=Gt.b=!0,_n=m(bn),c(rn.e,bn.b),_n.b.d.c=Dt.d}Dt=!0}if(Dt&&(Ie.c?(V(Ie),s(wt),wt=(Ie=Nt(Fe)).a):Fe.c&&(V(Fe),s(Ze),Ze=(Fe=_t(Ie)).a)),Ze.a!==wt.a)if(Ze.b.a===wt.b.a||Fe.c||Ie.c||Ze.b.a!==Pe.a&&wt.b.a!==Pe.a)re(Pe,Fe);else if(ge(Pe,Fe))break;Ze.a===wt.a&&Ze.b.a===wt.b.a&&(S(wt,Ze),V(Fe),s(Ze),Fe=_t(Ie))}}function Le(Pe,Fe){var Ie=new lt,Ze=u(Pe.b);Ze.a.b=4e150,Ze.a.a=Fe,Ze.b.a.b=-4e150,Ze.b.a.a=Fe,Pe.a=Ze.b.a,Ie.a=Ze,Ie.f=0,Ie.d=!1,Ie.c=!1,Ie.h=!0,Ie.b=!1,Ze=et(Ze=Pe.f,Ze.a,Ie),Ie.e=Ze}function Ye(Pe){this.a=new Oe,this.b=Pe,this.c=D}function et(Pe,Fe,Ie){for(;null!==(Fe=Fe.c).b&&!Pe.c(Pe.b,Fe.b,Ie););return Pe=new Oe(Ie,Fe.a,Fe),Fe.a.c=Pe,Fe.a=Pe}function Oe(Pe,Fe,Ie){this.b=Pe||null,this.a=Fe||this,this.c=Ie||this}function Ge(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Be(Pe,Fe){if(Pe.d!==Fe)for(;Pe.d!==Fe;)if(Pe.d<Fe)switch(Pe.d){case 0:Ae(Pe,100151),Pe.u(null);break;case 1:Ae(Pe,100152),Pe.t()}else switch(Pe.d){case 2:Ae(Pe,100154),Pe.v();break;case 1:Ae(Pe,100153),Pe.w()}}function Ae(Pe,Fe){Pe.p&&Pe.p(Fe,Pe.c)}function Qe(Pe,Fe){this.b=Pe||this,this.d=Fe||this,this.a=null,this.c=!1}function Ke(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function vt(){this.c=new mt,this.a=new Qe,this.b=new Ke,this.d=new Ke,this.b.b=this.d,this.d.b=this.b}function mt(Pe,Fe){this.e=Pe||this,this.f=Fe||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function yt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Rt}function jt(Pe,Fe){var Ie,Ze,wt;return Pe.e?(2*(Ze=++(Ie=Pe.b).a)>Ie.f&&(Ie.f*=2,Ie.c=an(Ie.c,Ie.f+1)),0===Ie.b?wt=Ze:(wt=Ie.b,Ie.b=Ie.c[Ie.b]),Ie.e[wt]=Fe,Ie.c[wt]=Ze,Ie.d[Ze]=wt,Ie.h&&Ut(Ie,Ze),wt):(Ie=Pe.a++,Pe.c[Ie]=Fe,-(Ie+1))}function Ht(Pe){if(0===Pe.a)return fn(Pe.b);var Fe=Pe.c[Pe.d[Pe.a-1]];if(0!==Pe.b.a&&h(on(Pe.b),Fe))return fn(Pe.b);for(;--Pe.a,0<Pe.a&&null===Pe.c[Pe.d[Pe.a-1]];);return Fe}function Rt(){this.d=an([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function an(Pe,Fe){for(var Ie=Array(Fe),Ze=0;Ze<Pe.length;Ze++)Ie[Ze]=Pe[Ze];for(;Ze<Fe;Ze++)Ie[Ze]=0;return Ie}function on(Pe){return Pe.e[Pe.d[1]]}function fn(Pe){var Fe=Pe.d,Ie=Pe.e,Ze=Pe.c,wt=Fe[1],Dt=Ie[wt];return 0<Pe.a&&(Fe[1]=Fe[Pe.a],Ze[Fe[1]]=1,Ie[wt]=null,Ze[wt]=Pe.b,Pe.b=wt,0<--Pe.a&&zt(Pe,1)),Dt}function zt(Pe,Fe){for(var Ie=Pe.d,Ze=Pe.e,wt=Pe.c,Dt=Fe,Gt=Ie[Dt];;){var rn=Dt<<1,bn=(rn<Pe.a&&h(Ze[Ie[rn+1]],Ze[Ie[rn]])&&(rn+=1),Ie[rn]);if(rn>Pe.a||h(Ze[Gt],Ze[bn])){wt[Ie[Dt]=Gt]=Dt;break}wt[Ie[Dt]=bn]=Dt,Dt=rn}}function Ut(Pe,Fe){for(var Ie=Pe.d,Ze=Pe.e,wt=Pe.c,Dt=Fe,Gt=Ie[Dt];;){var rn=Dt>>1,bn=Ie[rn];if(0==rn||h(Ze[bn],Ze[Gt])){wt[Ie[Dt]=Gt]=Dt;break}wt[Ie[Dt]=bn]=Dt,Dt=rn}}function lt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Nt(Pe){return Pe.e.c.b}function _t(Pe){return Pe.e.a.b}(y=Ge.prototype).x=function(){Be(this,0)},y.B=function(Pe,Fe){switch(Pe){case 100142:return;case 100140:switch(Fe){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Fe)}break;case 100141:return void(this.m=!!Fe);default:return void Ae(this,100900)}Ae(this,100901)},y.y=function(Pe){switch(Pe){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Ae(this,100900)}return!1},y.A=function(Pe,Fe,Ie){this.j[0]=Pe,this.j[1]=Fe,this.j[2]=Ie},y.z=function(Pe,Fe){var Ie=Fe||null;switch(Pe){case 100100:case 100106:this.h=Ie;break;case 100104:case 100110:this.l=Ie;break;case 100101:case 100107:this.k=Ie;break;case 100102:case 100108:this.i=Ie;break;case 100103:case 100109:this.p=Ie;break;case 100105:case 100111:this.o=Ie;break;case 100112:this.r=Ie;break;default:Ae(this,100900)}},y.C=function(Pe,Fe){var Ie=!1,Ze=[0,0,0];Be(this,2);for(var wt=0;wt<3;++wt){var Dt=Pe[wt];Dt<-1e150&&(Dt=-1e150,Ie=!0),1e150<Dt&&(Dt=1e150,Ie=!0),Ze[wt]=Dt}Ie&&Ae(this,100155),null===(Ie=this.q)?c(Ie=u(this.b),Ie.b):(m(Ie),Ie=Ie.e),Ie.a.d=Fe,Ie.a.g[0]=Ze[0],Ie.a.g[1]=Ze[1],Ie.a.g[2]=Ze[2],Ie.f=1,Ie.b.f=-1,this.q=Ie},y.u=function(Pe){Be(this,0),this.d=1,this.b=new vt,this.c=Pe},y.t=function(){Be(this,1),this.d=2,this.q=null},y.v=function(){Be(this,2),this.d=1},y.w=function(){Be(this,1),this.d=0;var Pe,Fe,Dt=!1,Gt=[Ie=this.j[0],Ze=this.j[1],wt=this.j[2]];if(0===Ie&&0===Ze&&0===wt){for(var Ze=[-2e150,-2e150,-2e150],rn=[2e150,2e150,2e150],wt=[],bn=[],Ie=(Dt=this.b.c).e;Ie!==Dt;Ie=Ie.e)for(var _n=0;_n<3;++_n){var St=Ie.g[_n];St<rn[_n]&&(rn[_n]=St,bn[_n]=Ie),St>Ze[_n]&&(Ze[_n]=St,wt[_n]=Ie)}if(Ze[1]-rn[1]>Ze[Ie=0]-rn[0]&&(Ie=1),rn[Ie=Ze[2]-rn[2]>Ze[Ie]-rn[Ie]?2:Ie]>=Ze[Ie])Gt[0]=0,Gt[1]=0,Gt[2]=1;else{for(rn=bn[Ie],bn=[Ze=0,0,0],rn=[rn.g[0]-(wt=wt[Ie]).g[0],rn.g[1]-wt.g[1],rn.g[2]-wt.g[2]],_n=[0,0,0],Ie=Dt.e;Ie!==Dt;Ie=Ie.e)_n[0]=Ie.g[0]-wt.g[0],_n[1]=Ie.g[1]-wt.g[1],_n[2]=Ie.g[2]-wt.g[2],bn[0]=rn[1]*_n[2]-rn[2]*_n[1],bn[1]=rn[2]*_n[0]-rn[0]*_n[2],bn[2]=rn[0]*_n[1]-rn[1]*_n[0],Ze<(St=bn[0]*bn[0]+bn[1]*bn[1]+bn[2]*bn[2])&&(Ze=St,Gt[0]=bn[0],Gt[1]=bn[1],Gt[2]=bn[2]);Ze<=0&&(Gt[0]=Gt[1]=Gt[2]=0,Gt[j(rn)]=1)}Dt=!0}for(Ze=((bn=j(Gt))+1)%3,wt=(bn+2)%3,bn=0<Gt[bn]?1:-1,Gt=(Ie=this.b.c).e;Gt!==Ie;Gt=Gt.e)Gt.b=Gt.g[Ze],Gt.a=bn*Gt.g[wt];if(Dt){for(Gt=0,Ie=(Dt=this.b.a).b;Ie!==Dt;Ie=Ie.b)if(!((Ze=Ie.a).f<=0))for(;Gt+=(Ze.a.b-Ze.b.a.b)*(Ze.a.a+Ze.b.a.a),(Ze=Ze.e)!==Ie.a;);if(Gt<0)for(Dt=(Gt=this.b.c).e;Dt!==Gt;Dt=Dt.e)Dt.a=-Dt.a}for(this.n=!1,Ie=(Gt=this.b.b).h;Ie!==Gt;Ie=Dt)Dt=Ie.h,Ze=Ie.e,_(Ie.a,Ie.b.a)&&Ie.e.e!==Ie&&(K(this,Ze,Ie),s(Ie),Ze=(Ie=Ze).e),Ze.e===Ie&&(Ze!==Ie&&(Ze!==Dt&&Ze!==Dt.b||(Dt=Dt.h),s(Ze)),Ie!==Dt&&Ie!==Dt.b||(Dt=Dt.h),s(Ie));for(this.e=Gt=new yt,Ie=(Dt=this.b.c).e;Ie!==Dt;Ie=Ie.e)Ie.h=jt(Gt,Ie);var Et=Gt;Et.d=[];for(var it=0;it<Et.a;it++)Et.d[it]=it;Et.d.sort(function(xt){return function(en,We){return h(xt[en],xt[We])?1:-1}}(Et.c)),Et.e=!0;for(var ze=Et.b,ut=ze.a;1<=ut;--ut)zt(ze,ut);for(ze.h=!0,this.f=new Ye(this),Le(this,-4e150),Le(this,4e150);null!==(Gt=Ht(this.e));){for(;;){e:if(0===(Ie=this.e).a)Dt=on(Ie.b);else if(Dt=Ie.c[Ie.d[Ie.a-1]],0!==Ie.b.a&&h(Ie=on(Ie.b),Dt)){Dt=Ie;break e}if(null===Dt||!_(Dt,Gt))break;Dt=Ht(this.e),K(this,Gt.c,Dt.c)}!function xt(en,We){for(var bt,Lt=(en.a=We).c;null===Lt.i;)if((Lt=Lt.c)===We.c){Lt=en;var Ft=We;(xn=new lt).a=Ft.c.b;for(var Sn=(Vt=Lt.f).a;null!==(Sn=Sn.a).b&&!Vt.c(Vt.b,xn,Sn.b););var Vt,cn,gn=Nt(Vt=Sn.b),xn=Vt.a;return Sn=gn.a,void(0===E(xn.b.a,Ft,xn.a)?_((xn=Vt.a).a,Ft)||_(xn.b.a,Ft)||(m(xn.b),Vt.c&&(s(xn.c),Vt.c=!1),c(Ft.c,xn),xt(Lt,Ft)):(cn=h(Sn.b.a,xn.b.a)?Vt:gn,gn=void 0,Vt.d||cn.c?(gn=cn===Vt?p(Ft.c.b,xn.e):p(Sn.b.c.b,Ft.c).b,cn.c?Z(cn,gn):((Vt=Q(xn=Lt,Vt,gn)).f=_t(Vt).f+Vt.a.f,Vt.d=Y(xn,Vt.f)),xt(Lt,Ft)):de(Lt,Vt,Ft.c,Ft.c,null,!0)))}Vt=(xn=Nt(Lt=H(Lt.i))).a,(xn=ne(en,xn,null)).c===Vt?(xn=(Vt=xn).c,Sn=Nt(Lt),bt=!1,(gn=Lt.a).b.a!==(cn=Sn.a).b.a&&ge(en,Lt),_(gn.a,en.a)&&(c(xn.b.e,gn),xn=Nt(Lt=H(Lt)).a,ne(en,Nt(Lt),Sn),bt=!0),_(cn.a,en.a)&&(c(Vt,cn.b.e),Vt=ne(en,Sn,null),bt=!0),bt?de(en,Lt,Vt.c,xn,xn,!0):(Ft=h(cn.a,gn.a)?cn.b.e:gn,de(en,Lt,Ft=p(Vt.c.b,Ft),Ft.c,Ft.c,!1),Ft.b.i.c=!0,Me(en,Lt))):de(en,Lt,xn.c,Vt,Vt,!0)}(this,Gt)}for(this.a=this.f.a.a.b.a.a,Gt=0;null!==(Dt=this.f.a.a.b);)Dt.h||++Gt,V(Dt);for(this.f=null,(Gt=this.e).b=null,Gt.d=null,this.e=Gt.c=null,Ie=(Gt=this.b).a.b;Ie!==Gt.a;Ie=Dt)Dt=Ie.b,(Ie=Ie.a).e.e===Ie&&(S(Ie.c,Ie),s(Ie));if(!this.n){if(Gt=this.b,this.m)for(Ie=Gt.b.h;Ie!==Gt.b;Ie=Dt)Dt=Ie.h,Ie.b.d.c!==Ie.d.c?Ie.f=Ie.d.c?1:-1:s(Ie);else for(Ie=Gt.a.b;Ie!==Gt.a;Ie=Dt)if(Dt=Ie.b,Ie.c){for(Ie=Ie.a;h(Ie.b.a,Ie.a);Ie=Ie.c.b);for(;h(Ie.a,Ie.b.a);Ie=Ie.e);for(Ze=Ie.c.b,wt=void 0;Ie.e!==Ze;)if(h(Ie.b.a,Ze.a)){for(;Ze.e!==Ie&&(h((Fe=Ze.e).b.a,Fe.a)||E(Ze.a,Ze.b.a,Ze.e.b.a)<=0);)Ze=(wt=p(Ze.e,Ze)).b;Ze=Ze.c.b}else{for(;Ze.e!==Ie&&(h((Pe=Ie.c.b).a,Pe.b.a)||0<=E(Ie.b.a,Ie.a,Ie.c.b.a));)Ie=(wt=p(Ie,Ie.c.b)).b;Ie=Ie.e}for(;Ze.e.e!==Ie;)Ze=(wt=p(Ze.e,Ze)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(Dt=(Gt=this.b).a.b;Dt!==Gt.a;Dt=Dt.b)if(Dt.c){for(this.h&&this.h(2,this.c),Ie=Dt.a;this.k&&this.k(Ie.a.d,this.c),(Ie=Ie.e)!==Dt.a;);this.i&&this.i(this.c)}}else{for(Dt=!!this.l,Ie=!1,Ze=-1,wt=(Gt=this.b).a.d;wt!==Gt.a;wt=wt.d)if(wt.c)for(Ie||(this.h&&this.h(4,this.c),Ie=!0),bn=wt.a;Dt&&Ze!==(rn=bn.b.d.c?0:1)&&(Ze=rn,this.l&&this.l(!!Ze,this.c)),this.k&&this.k(bn.a.d,this.c),(bn=bn.e)!==wt.a;);Ie&&this.i&&this.i(this.c)}if(this.r){for(Ie=(Gt=this.b).a.b;Ie!==Gt.a;Ie=Dt)if(Dt=Ie.b,!Ie.c){for(wt=(Ze=Ie.a).e,bn=void 0;wt=(bn=wt).e,(bn.d=null)===bn.b.d&&(bn.c===bn?A(bn.a,null):(bn.a.c=bn.c,O(bn,bn.b.e)),(rn=bn.b).c===rn?A(rn.a,null):(rn.a.c=rn.c,O(rn,rn.b.e)),k(bn)),bn!==Ze;);Ze=Ie.d,((Ie=Ie.b).d=Ze).b=Ie}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Ge,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Ge.prototype.gluDeleteTess=Ge.prototype.x,Ge.prototype.gluTessProperty=Ge.prototype.B,Ge.prototype.gluGetTessProperty=Ge.prototype.y,Ge.prototype.gluTessNormal=Ge.prototype.A,Ge.prototype.gluTessCallback=Ge.prototype.z,Ge.prototype.gluTessVertex=Ge.prototype.C,Ge.prototype.gluTessBeginPolygon=Ge.prototype.u,Ge.prototype.gluTessBeginContour=Ge.prototype.t,Ge.prototype.gluTessEndContour=Ge.prototype.v,Ge.prototype.gluTessEndPolygon=Ge.prototype.w,void 0!==W&&(W.exports=this.libtess)},{}],253:[function(o,W,C){"use strict";function _(h,f,E,w){for(var a=h[f++],l=1<<a,d=1+l,u=1+d,c=a+1,s=(1<<c)-1,m=0,p=0,b=0,O=h[f++],N=new Int32Array(4096),R=null;;){for(;m<16&&0!==O;)p|=h[f++]<<m,m+=8,1===O?O=h[f++]:--O;if(m<c)break;var k=p&s;if(p>>=c,m-=c,k==l)u=1+d,s=(1<<(c=a+1))-1,R=null;else{if(k==d)break;for(var A=k<u?k:R,$=0,j=A;l<j;)j=N[j]>>8,++$;var S=j;if(w<b+$+(A!==k?1:0))return void console.log("Warning, gif stream longer than expected.");E[b++]=S;var D=b+=$;for(A!==k&&(E[b++]=S),j=A;$--;)E[--D]=255&(j=N[j]),j>>=8;null!==R&&u<4096&&(N[u++]=R<<8|S,s+1<=u&&c<12&&(++c,s=s<<1|1)),R=k}}b!==w&&console.log("Warning, gif stream shorter than expected.")}try{C.GifWriter=function y(h,f,E,w){var a=0,l=void 0===(w=void 0===w?{}:w).loop?null:w.loop,d=void 0===w.palette?null:w.palette;if(f<=0||E<=0||65535<f||65535<E)throw new Error("Width/Height invalid.");function u(R){if((R=R.length)<2||256<R||R&R-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return R}h[a++]=71,h[a++]=73,h[a++]=70,h[a++]=56,h[a++]=57,h[a++]=97;var c=0,s=0;if(null!==d){for(var m=u(d);m>>=1;)++c;if(m=1<<c,--c,void 0!==w.background){if(m<=(s=w.background))throw new Error("Background index out of range.");if(0===s)throw new Error("Background index explicitly passed as 0.")}}if(h[a++]=255&f,h[a++]=f>>8&255,h[a++]=255&E,h[a++]=E>>8&255,h[a++]=(null!==d?128:0)|c,h[a++]=s,h[a++]=0,null!==d)for(var p=0,b=d.length;p<b;++p){var O=d[p];h[a++]=O>>16&255,h[a++]=O>>8&255,h[a++]=255&O}if(null!==l){if(l<0||65535<l)throw new Error("Loop count invalid.");h[a++]=33,h[a++]=255,h[a++]=11,h[a++]=78,h[a++]=69,h[a++]=84,h[a++]=83,h[a++]=67,h[a++]=65,h[a++]=80,h[a++]=69,h[a++]=50,h[a++]=46,h[a++]=48,h[a++]=3,h[a++]=1,h[a++]=255&l,h[a++]=l>>8&255,h[a++]=0}var N=!1;this.addFrame=function(R,k,A,$,j,S){if(!0===N&&(--a,N=!1),S=void 0===S?{}:S,R<0||k<0||65535<R||65535<k)throw new Error("x/y invalid.");if(A<=0||$<=0||65535<A||65535<$)throw new Error("Width/Height invalid.");if(j.length<A*$)throw new Error("Not enough pixels for the frame size.");var D=!0,V=S.palette;if(null==V&&(D=!1,V=d),null==V)throw new Error("Must supply either a local or global palette.");for(var H=u(V),Z=0;H>>=1;)++Z;H=1<<Z;var Q=void 0===S.delay?0:S.delay,Y=void 0===S.disposal?0:S.disposal;if(Y<0||3<Y)throw new Error("Disposal out of range.");var q=!1,ne=0;if(null!=S.transparent&&(q=!0,(ne=S.transparent)<0||H<=ne))throw new Error("Transparent color index.");if(0===Y&&!q&&0===Q||(h[a++]=33,h[a++]=249,h[a++]=4,h[a++]=Y<<2|(!0===q?1:0),h[a++]=255&Q,h[a++]=Q>>8&255,h[a++]=ne,h[a++]=0),h[a++]=44,h[a++]=255&R,h[a++]=R>>8&255,h[a++]=255&k,h[a++]=k>>8&255,h[a++]=255&A,h[a++]=A>>8&255,h[a++]=255&$,h[a++]=$>>8&255,h[a++]=!0===D?128|Z-1:0,!0===D)for(var de=0,xe=V.length;de<xe;++de){var K=V[de];h[a++]=K>>16&255,h[a++]=K>>8&255,h[a++]=255&K}return a=function(L,re,ge,Me){L[re++]=ge;var Le=re++,Ye=1<<ge,et=Ye-1,Oe=1+Ye,Ge=1+Oe,Be=ge+1,Ae=0,Qe=0;function Ke(fn){for(;fn<=Ae;)L[re++]=255&Qe,Qe>>=8,Ae-=8,re===Le+256&&(L[Le]=255,Le=re++)}function vt(fn){Qe|=fn<<Ae,Ae+=Be,Ke(8)}var mt=Me[0]&et,yt={};vt(Ye);for(var jt=1,Ht=Me.length;jt<Ht;++jt){var Rt=Me[jt]&et,an=mt<<8|Rt,on=yt[an];if(void 0===on){for(Qe|=mt<<Ae,Ae+=Be;8<=Ae;)L[re++]=255&Qe,Qe>>=8,Ae-=8,re===Le+256&&(L[Le]=255,Le=re++);4096===Ge?(vt(Ye),Ge=1+Oe,Be=ge+1,yt={}):(1<<Be<=Ge&&++Be,yt[an]=Ge++),mt=Rt}else mt=on}return vt(mt),vt(Oe),Ke(1),Le+1===re?L[Le]=0:(L[Le]=re-Le-1,L[re++]=0),re}(h,a,Z<2?2:Z,j)},this.end=function(){return!1===N&&(h[a++]=59,N=!0),a},this.getOutputBuffer=function(){return h},this.setOutputBuffer=function(R){h=R},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(R){a=R}},C.GifReader=function(h){var f=0;if(71!==h[f++]||73!==h[f++]||70!==h[f++]||56!==h[f++]||56!=(h[f++]+1&253)||97!==h[f++])throw new Error("Invalid GIF 87a/89a header.");var E=h[f++]|h[f++]<<8,w=h[f++]|h[f++]<<8,a=h[f++],d=(f++,f++,null),u=null,c=(a>>7&&(d=f,f+=3*(u=1<<1+(7&a))),!0),s=[],m=0,p=null,b=0,O=null;for(this.width=E,this.height=w;c&&f<h.length;)switch(h[f++]){case 33:switch(h[f++]){case 255:if(11!==h[f]||78==h[f+1]&&69==h[f+2]&&84==h[f+3]&&83==h[f+4]&&67==h[f+5]&&65==h[f+6]&&80==h[f+7]&&69==h[f+8]&&50==h[f+9]&&46==h[f+10]&&48==h[f+11]&&3==h[f+12]&&1==h[f+13]&&0==h[f+16])f+=14,O=h[f++]|h[f++]<<8,f++;else for(f+=12;;){if(!(0<=(R=h[f++])))throw Error("Invalid block size");if(0===R)break;f+=R}break;case 249:if(4!==h[f++]||0!==h[f+4])throw new Error("Invalid graphics extension block.");var N=h[f++];m=h[f++]|h[f++]<<8,p=h[f++],!(1&N)&&(p=null),b=N>>2&7,f++;break;case 254:for(;;){if(!(0<=(R=h[f++])))throw Error("Invalid block size");if(0===R)break;f+=R}break;default:throw new Error("Unknown graphic control label: 0x"+h[f-1].toString(16))}break;case 44:var R,k=h[f++]|h[f++]<<8,A=h[f++]|h[f++]<<8,$=h[f++]|h[f++]<<8,j=h[f++]|h[f++]<<8,S=(Q=h[f++])>>6&1,V=d,Z=u,H=!1,Q=(Q>>7&&(H=!0,V=f,f+=3*(Z=1<<1+(7&Q))),f);for(f++;;){if(!(0<=(R=h[f++])))throw Error("Invalid block size");if(0===R)break;f+=R}s.push({x:k,y:A,width:$,height:j,has_local_palette:H,palette_offset:V,palette_size:Z,data_offset:Q,data_length:f-Q,transparent_index:p,interlaced:!!S,delay:m,disposal:b});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+h[f-1].toString(16))}this.numFrames=function(){return s.length},this.loopCount=function(){return O},this.frameInfo=function(Y){if(Y<0||Y>=s.length)throw new Error("Frame index out of range.");return s[Y]},this.decodeAndBlitFrameBGRA=function(Y,q){for(var ne=(Y=this.frameInfo(Y)).width*Y.height,de=new Uint8Array(ne),xe=(_(h,Y.data_offset,de,ne),Y.palette_offset),K=Y.transparent_index,L=(null===K&&(K=256),Y.width),re=E-L,ge=L,Me=4*(Y.y*E+Y.x),Le=4*((Y.y+Y.height)*E+Y.x),Ye=Me,et=4*re,Oe=(!0===Y.interlaced&&(et+=4*E*7),8),Ge=0,Be=de.length;Ge<Be;++Ge){var Ae,Qe,Ke=de[Ge];0===ge&&(ge=L,Le<=(Ye+=et)&&(et=4*re+4*E*(Oe-1),Ye=Me+(L+re)*(Oe<<1),Oe>>=1)),Ke===K?Ye+=4:(Ae=h[xe+3*Ke],Qe=h[xe+3*Ke+1],q[Ye++]=Ke=h[xe+3*Ke+2],q[Ye++]=Qe,q[Ye++]=Ae,q[Ye++]=255),--ge}},this.decodeAndBlitFrameRGBA=function(Y,q){for(var ne=(Y=this.frameInfo(Y)).width*Y.height,de=new Uint8Array(ne),xe=(_(h,Y.data_offset,de,ne),Y.palette_offset),K=Y.transparent_index,L=(null===K&&(K=256),Y.width),re=E-L,ge=L,Me=4*(Y.y*E+Y.x),Le=4*((Y.y+Y.height)*E+Y.x),Ye=Me,et=4*re,Oe=(!0===Y.interlaced&&(et+=4*E*7),8),Ge=0,Be=de.length;Ge<Be;++Ge){var Ae,Qe,Ke=de[Ge];0===ge&&(ge=L,Le<=(Ye+=et)&&(et=4*re+4*E*(Oe-1),Ye=Me+(L+re)*(Oe<<1),Oe>>=1)),Ke===K?Ye+=4:(Ae=h[xe+3*Ke],Qe=h[xe+3*Ke+1],Ke=h[xe+3*Ke+2],q[Ye++]=Ae,q[Ye++]=Qe,q[Ye++]=Ke,q[Ye++]=255),--ge}}}}catch{}},{}],254:[function(o,W,C){(function(y){var h;h=function(f){"use strict";function E(J){if(null==this)throw TypeError();var B,I=String(this),M=I.length;if(!((J=(J=J?Number(J):0)!=J?0:J)<0||M<=J))return 55296<=(B=I.charCodeAt(J))&&B<=56319&&J+1<M&&56320<=(M=I.charCodeAt(J+1))&&M<=57343?1024*(B-55296)+M-56320+65536:B}String.prototype.codePointAt||((w=function(){try{var x={},B=Object.defineProperty,I=B(x,x,x)&&B}catch{}return I}())?w(String.prototype,"codePointAt",{value:E,configurable:!0,writable:!0}):String.prototype.codePointAt=E);var w;function d(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function u(x,B){this.source=x,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=B,this.destLen=0,this.ltree=new d,this.dtree=new d}var c=new d,s=new d,m=new Uint8Array(30),p=new Uint16Array(30),b=new Uint8Array(30),O=new Uint16Array(30),N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R=new d,k=new Uint8Array(320);function A(x,B,I,M){for(var J,X=0;X<I;++X)x[X]=0;for(X=0;X<30-I;++X)x[X+I]=X/I|0;for(J=M,X=0;X<30;++X)B[X]=J,J+=1<<x[X]}var $=new Uint16Array(16);function j(x,B,I,M){for(var J,X=0;X<16;++X)x.table[X]=0;for(X=0;X<M;++X)x.table[B[I+X]]++;for(X=J=x.table[0]=0;X<16;++X)$[X]=J,J+=x.table[X];for(X=0;X<M;++X)B[I+X]&&(x.trans[$[B[I+X]]++]=X)}function S(x,B,I){if(!B)return I;for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;var M=x.tag&65535>>>16-B;return x.tag>>>=B,x.bitcount-=B,M+I}function D(x,B){for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;for(var I=0,M=0,J=0,X=x.tag;M=2*M+(1&X),X>>>=1,I+=B.table[++J],0<=(M-=B.table[J]););return x.tag=X,x.bitcount-=J,B.trans[I+M]}function V(x,B,I){for(;;){if(256===(M=D(x,B)))return 0;if(M<256)x.dest[x.destLen++]=M;else for(var J,X=S(x,m[M-=257],p[M]),M=D(x,I),le=J=x.destLen-S(x,b[M],O[M]);le<J+X;++le)x.dest[x.destLen++]=x.dest[le]}}for(var Z=c,H=s,Q=0;Q<7;++Q)Z.table[Q]=0;for(Z.table[7]=24,Z.table[8]=152,Z.table[9]=112,Q=0;Q<24;++Q)Z.trans[Q]=256+Q;for(Q=0;Q<144;++Q)Z.trans[24+Q]=Q;for(Q=0;Q<8;++Q)Z.trans[168+Q]=280+Q;for(Q=0;Q<112;++Q)Z.trans[176+Q]=144+Q;for(Q=0;Q<5;++Q)H.table[Q]=0;for(H.table[5]=32,Q=0;Q<32;++Q)H.trans[Q]=Q;A(m,p,4,3),A(b,O,2,1),m[28]=0,p[28]=258;var Y=function(x,B){var I,M,J,X=new u(x,B);do{switch(void 0,(M=X).bitcount--||(M.tag=M.source[M.sourceIndex++],M.bitcount=7),J=1&M.tag,M.tag>>>=1,M=J,S(X,2,0)){case 0:I=function(Xt){for(var Bn,Gn;8<Xt.bitcount;)Xt.sourceIndex--,Xt.bitcount-=8;if((Bn=256*Xt.source[Xt.sourceIndex+1]+Xt.source[Xt.sourceIndex])!==(65535&~(256*Xt.source[Xt.sourceIndex+3]+Xt.source[Xt.sourceIndex+2])))return-3;for(Xt.sourceIndex+=4,Gn=Bn;Gn;--Gn)Xt.dest[Xt.destLen++]=Xt.source[Xt.sourceIndex++];return Xt.bitcount=0,0}(X);break;case 1:I=V(X,c,s);break;case 2:sn=tn=mn=Jt=le=gt=void 0;for(var le,ke=X,Xe=X.ltree,rt=X.dtree,Tt=S(ke,5,257),qt=S(ke,5,1),Bt=S(ke,4,4),gt=0;gt<19;++gt)k[gt]=0;for(gt=0;gt<Bt;++gt){var mn=S(ke,3,0);k[N[gt]]=mn}for(j(R,k,0,19),le=0;le<Tt+qt;){var tn=D(ke,R);switch(tn){case 16:for(var sn=k[le-1],Jt=S(ke,2,3);Jt;--Jt)k[le++]=sn;break;case 17:for(Jt=S(ke,3,3);Jt;--Jt)k[le++]=0;break;case 18:for(Jt=S(ke,7,11);Jt;--Jt)k[le++]=0;break;default:k[le++]=tn}}j(Xe,k,0,Tt),j(rt,k,Tt,qt),I=V(X,X.ltree,X.dtree);break;default:I=-3}if(0!==I)throw new Error("Data error")}while(!M);return X.destLen<X.dest.length?"function"==typeof X.dest.slice?X.dest.slice(0,X.destLen):X.dest.subarray(0,X.destLen):X.dest};function q(x,B,I,M,J){return Math.pow(1-J,3)*x+3*Math.pow(1-J,2)*J*B+3*(1-J)*Math.pow(J,2)*I+Math.pow(J,3)*M}function ne(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function de(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function xe(x){throw new Error(x)}function K(x,B){x||xe(B)}ne.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ne.prototype.addPoint=function(x,B){"number"==typeof x&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),"number"==typeof B&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=B,this.y2=B),B<this.y1&&(this.y1=B),B>this.y2&&(this.y2=B))},ne.prototype.addX=function(x){this.addPoint(x,null)},ne.prototype.addY=function(x){this.addPoint(null,x)},ne.prototype.addBezier=function(x,B,I,M,J,X,le,ke){var Xe=[x,B],rt=[I,M],Tt=[J,X],qt=[le,ke];this.addPoint(x,B),this.addPoint(le,ke);for(var Bt=0;Bt<=1;Bt++){var gt,mn=6*Xe[Bt]-12*rt[Bt]+6*Tt[Bt],tn=-3*Xe[Bt]+9*rt[Bt]-9*Tt[Bt]+3*qt[Bt],sn=3*rt[Bt]-3*Xe[Bt];0==tn?0==mn||0<(gt=-sn/mn)&&gt<1&&(0===Bt&&this.addX(q(Xe[Bt],rt[Bt],Tt[Bt],qt[Bt],gt)),1===Bt&&this.addY(q(Xe[Bt],rt[Bt],Tt[Bt],qt[Bt],gt))):(gt=Math.pow(mn,2)-4*sn*tn)<0||(0<(sn=(-mn+Math.sqrt(gt))/(2*tn))&&sn<1&&(0===Bt&&this.addX(q(Xe[Bt],rt[Bt],Tt[Bt],qt[Bt],sn)),1===Bt&&this.addY(q(Xe[Bt],rt[Bt],Tt[Bt],qt[Bt],sn))),0<(sn=(-mn-Math.sqrt(gt))/(2*tn))&&sn<1&&(0===Bt&&this.addX(q(Xe[Bt],rt[Bt],Tt[Bt],qt[Bt],sn)),1===Bt&&this.addY(q(Xe[Bt],rt[Bt],Tt[Bt],qt[Bt],sn))))}},ne.prototype.addQuad=function(x,B,I,M,J,X){this.addBezier(x,B,I=x+2/3*(I-x),M=B+2/3*(M-B),I+1/3*(J-x),M+1/3*(X-B),J,X)},de.prototype.moveTo=function(x,B){this.commands.push({type:"M",x,y:B})},de.prototype.lineTo=function(x,B){this.commands.push({type:"L",x,y:B})},de.prototype.curveTo=de.prototype.bezierCurveTo=function(x,B,I,M,J,X){this.commands.push({type:"C",x1:x,y1:B,x2:I,y2:M,x:J,y:X})},de.prototype.quadTo=de.prototype.quadraticCurveTo=function(x,B,I,M){this.commands.push({type:"Q",x1:x,y1:B,x:I,y:M})},de.prototype.close=de.prototype.closePath=function(){this.commands.push({type:"Z"})},de.prototype.extend=function(x){var B;if(x.commands)x=x.commands;else if(x instanceof ne)return this.moveTo((B=x).x1,B.y1),this.lineTo(B.x2,B.y1),this.lineTo(B.x2,B.y2),this.lineTo(B.x1,B.y2),void this.close();Array.prototype.push.apply(this.commands,x)},de.prototype.getBoundingBox=function(){for(var x=new ne,B=0,I=0,M=0,J=0,X=0;X<this.commands.length;X++){var le=this.commands[X];switch(le.type){case"M":x.addPoint(le.x,le.y),B=M=le.x,I=J=le.y;break;case"L":x.addPoint(le.x,le.y),M=le.x,J=le.y;break;case"Q":x.addQuad(M,J,le.x1,le.y1,le.x,le.y),M=le.x,J=le.y;break;case"C":x.addBezier(M,J,le.x1,le.y1,le.x2,le.y2,le.x,le.y),M=le.x,J=le.y;break;case"Z":M=B,J=I;break;default:throw new Error("Unexpected path command "+le.type)}}return x.isEmpty()&&x.addPoint(0,0),x},de.prototype.draw=function(x){x.beginPath();for(var B=0;B<this.commands.length;B+=1){var I=this.commands[B];"M"===I.type?x.moveTo(I.x,I.y):"L"===I.type?x.lineTo(I.x,I.y):"C"===I.type?x.bezierCurveTo(I.x1,I.y1,I.x2,I.y2,I.x,I.y):"Q"===I.type?x.quadraticCurveTo(I.x1,I.y1,I.x,I.y):"Z"===I.type&&x.closePath()}this.fill&&(x.fillStyle=this.fill,x.fill()),this.stroke&&(x.strokeStyle=this.stroke,x.lineWidth=this.strokeWidth,x.stroke())},de.prototype.toPathData=function(x){function B(){for(var X=arguments,le="",ke=0;ke<arguments.length;ke+=1){var Xe=X[ke];0<=Xe&&0<ke&&(le+=" "),le+=Math.round(Xe)===Xe?""+Math.round(Xe):Xe.toFixed(x)}return le}x=void 0!==x?x:2;for(var I="",M=0;M<this.commands.length;M+=1){var J=this.commands[M];"M"===J.type?I+="M"+B(J.x,J.y):"L"===J.type?I+="L"+B(J.x,J.y):"C"===J.type?I+="C"+B(J.x1,J.y1,J.x2,J.y2,J.x,J.y):"Q"===J.type?I+="Q"+B(J.x1,J.y1,J.x,J.y):"Z"===J.type&&(I+="Z")}return I},de.prototype.toSVG=function(x){var B=(B='<path d="')+this.toPathData(x)+'"';return this.fill&&"black"!==this.fill&&(B+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(B+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),B+"/>"},de.prototype.toDOMElement=function(B){B=this.toPathData(B);var I=document.createElementNS("http://www.w3.org/2000/svg","path");return I.setAttribute("d",B),I};var L={fail:xe,argument:K,assert:K},re={},ge={},Me={};function Le(x){return function(){return x}}ge.BYTE=function(x){return L.argument(0<=x&&x<=255,"Byte value should be between 0 and 255."),[x]},Me.BYTE=Le(1),ge.CHAR=function(x){return[x.charCodeAt(0)]},Me.CHAR=Le(1),ge.CHARARRAY=function(x){for(var B=[],I=0;I<x.length;I+=1)B[I]=x.charCodeAt(I);return B},Me.CHARARRAY=function(x){return x.length},ge.USHORT=function(x){return[x>>8&255,255&x]},Me.USHORT=Le(2),ge.SHORT=function(x){return[(x=32768<=x?-(65536-x):x)>>8&255,255&x]},Me.SHORT=Le(2),ge.UINT24=function(x){return[x>>16&255,x>>8&255,255&x]},Me.UINT24=Le(3),ge.ULONG=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},Me.ULONG=Le(4),ge.LONG=function(x){return[(x=2147483648<=x?-(4294967296-x):x)>>24&255,x>>16&255,x>>8&255,255&x]},Me.LONG=Le(4),ge.FIXED=ge.ULONG,Me.FIXED=Me.ULONG,ge.FWORD=ge.SHORT,Me.FWORD=Me.SHORT,ge.UFWORD=ge.USHORT,Me.UFWORD=Me.USHORT,ge.LONGDATETIME=function(x){return[0,0,0,0,x>>24&255,x>>16&255,x>>8&255,255&x]},Me.LONGDATETIME=Le(8),ge.TAG=function(x){return L.argument(4===x.length,"Tag should be exactly 4 ASCII characters."),[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]},Me.TAG=Le(4),ge.Card8=ge.BYTE,Me.Card8=Me.BYTE,ge.Card16=ge.USHORT,Me.Card16=Me.USHORT,ge.OffSize=ge.BYTE,Me.OffSize=Me.BYTE,ge.SID=ge.USHORT,Me.SID=Me.USHORT,ge.NUMBER=function(x){return-107<=x&&x<=107?[x+139]:108<=x&&x<=1131?[247+((x-=108)>>8),255&x]:-1131<=x&&x<=-108?[251+((x=-x-108)>>8),255&x]:-32768<=x&&x<=32767?ge.NUMBER16(x):ge.NUMBER32(x)},Me.NUMBER=function(x){return ge.NUMBER(x).length},ge.NUMBER16=function(x){return[28,x>>8&255,255&x]},Me.NUMBER16=Le(3),ge.NUMBER32=function(x){return[29,x>>24&255,x>>16&255,x>>8&255,255&x]},Me.NUMBER32=Le(5),ge.REAL=function(x){for(var B=x.toString(),I=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(B),M=(I&&(I=parseFloat("1e"+((I[2]?+I[2]:0)+I[1].length)),B=(Math.round(x*I)/I).toString()),""),J=0,X=B.length;J<X;J+=1){var le=B[J];M+="e"===le?"-"===B[++J]?"c":"b":"."===le?"a":"-"===le?"e":le}for(var ke=[30],Xe=0,rt=(M+=1&M.length?"f":"ff").length;Xe<rt;Xe+=2)ke.push(parseInt(M.substr(Xe,2),16));return ke},Me.REAL=function(x){return ge.REAL(x).length},ge.NAME=ge.CHARARRAY,Me.NAME=Me.CHARARRAY,ge.STRING=ge.CHARARRAY,Me.STRING=Me.CHARARRAY,re.UTF8=function(x,B,I){for(var M=[],J=I,X=0;X<J;X++,B+=1)M[X]=x.getUint8(B);return String.fromCharCode.apply(null,M)},re.UTF16=function(x,B,I){for(var M=[],J=I/2,X=0;X<J;X++,B+=2)M[X]=x.getUint16(B);return String.fromCharCode.apply(null,M)},ge.UTF16=function(x){for(var B=[],I=0;I<x.length;I+=1){var M=x.charCodeAt(I);B[B.length]=M>>8&255,B[B.length]=255&M}return B},Me.UTF16=function(x){return 2*x.length};var Ye,et={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},Oe=(re.MACSTRING=function(x,B,I,M){var J=et[M];if(void 0!==J){for(var X="",le=0;le<I;le++){var ke=x.getUint8(B+le);X+=ke<=127?String.fromCharCode(ke):J[127&ke]}return X}},"function"==typeof WeakMap&&new WeakMap);function Ge(x){return-128<=x&&x<=127}ge.MACSTRING=function(x,B){var I=function(le){if(!Ye)for(var ke in Ye={},et)Ye[ke]=new String(ke);var Xe=Ye[le];if(void 0!==Xe){if(Oe){var rt=Oe.get(Xe);if(void 0!==rt)return rt}var Tt=et[le];if(void 0!==Tt){for(var qt={},Bt=0;Bt<Tt.length;Bt++)qt[Tt.charCodeAt(Bt)]=Bt+128;return Oe&&Oe.set(Xe,qt),qt}}}(B);if(void 0!==I){for(var M=[],J=0;J<x.length;J++){var X=x.charCodeAt(J);if(128<=X&&void 0===(X=I[X]))return;M[J]=X}return M}},Me.MACSTRING=function(x,B){return void 0!==(x=ge.MACSTRING(x,B))?x.length:0},ge.VARDELTAS=function(x){for(var M=0,B=[];M<x.length;){var I=x[M];M=(0===I?function(J,X,le){for(var ke=0,Xe=J.length;X<Xe&&ke<64&&0===J[X];)++X,++ke;return le.push(128|ke-1),X}:-128<=I&&I<=127?function(J,X,le){for(var ke=0,Xe=J.length,rt=X;rt<Xe&&ke<64;){var Tt=J[rt];if(!Ge(Tt)||0===Tt&&rt+1<Xe&&0===J[rt+1])break;++rt,++ke}le.push(ke-1);for(var qt=X;qt<rt;++qt)le.push(J[qt]+256&255);return rt}:function(J,X,le){for(var ke=0,Xe=J.length,rt=X;rt<Xe&&ke<64;){var Tt=J[rt];if(0===Tt||Ge(Tt)&&rt+1<Xe&&Ge(J[rt+1]))break;++rt,++ke}le.push(64|ke-1);for(var qt=X;qt<rt;++qt){var Bt=J[qt];le.push(Bt+65536>>8&255,Bt+256&255)}return rt})(x,M,B)}return B},ge.INDEX=function(x){for(var B=1,I=[B],M=[],J=0;J<x.length;J+=1){var X=ge.OBJECT(x[J]);Array.prototype.push.apply(M,X),I.push(B+=X.length)}if(0===M.length)return[0,0];for(var le=[],ke=1+Math.floor(Math.log(B)/Math.log(2))/8|0,Xe=[void 0,ge.BYTE,ge.USHORT,ge.UINT24,ge.ULONG][ke],rt=0;rt<I.length;rt+=1){var Tt=Xe(I[rt]);Array.prototype.push.apply(le,Tt)}return Array.prototype.concat(ge.Card16(x.length),ge.OffSize(ke),le,M)},Me.INDEX=function(x){return ge.INDEX(x).length},ge.DICT=function(x){for(var B=[],I=Object.keys(x),M=I.length,J=0;J<M;J+=1){var X=parseInt(I[J],0),le=x[X];B=(B=B.concat(ge.OPERAND(le.value,le.type))).concat(ge.OPERATOR(X))}return B},Me.DICT=function(x){return ge.DICT(x).length},ge.OPERATOR=function(x){return x<1200?[x]:[12,x-1200]},ge.OPERAND=function(x,B){var I=[];if(Array.isArray(B))for(var M=0;M<B.length;M+=1)L.argument(x.length===B.length,"Not enough arguments given for type"+B),I=I.concat(ge.OPERAND(x[M],B[M]));else if("SID"===B)I=I.concat(ge.NUMBER(x));else if("offset"===B)I=I.concat(ge.NUMBER32(x));else if("number"===B)I=I.concat(ge.NUMBER(x));else{if("real"!==B)throw new Error("Unknown operand type "+B);I=I.concat(ge.REAL(x))}return I},ge.OP=ge.BYTE,Me.OP=Me.BYTE;var Be="function"==typeof WeakMap&&new WeakMap;function Ae(x,B,I){for(var M=0;M<B.length;M+=1){var J=B[M];this[J.name]=J.value}if(this.tableName=x,this.fields=B,I)for(var X=Object.keys(I),le=0;le<X.length;le+=1){var ke=X[le];void 0!==this[ke]&&(this[ke]=I[ke])}}function Qe(x,B,I){void 0===I&&(I=B.length);var M=new Array(B.length+1);M[0]={name:x+"Count",type:"USHORT",value:I};for(var J=0;J<B.length;J++)M[J+1]={name:x+J,type:"USHORT",value:B[J]};return M}function Ke(x,B,I){var M=B.length,J=new Array(M+1);J[0]={name:x+"Count",type:"USHORT",value:M};for(var X=0;X<M;X++)J[X+1]={name:x+X,type:"TABLE",value:I(B[X],X)};return J}function vt(x,B,I){var M=B.length,J=[];J[0]={name:x+"Count",type:"USHORT",value:M};for(var X=0;X<M;X++)J=J.concat(I(B[X],X));return J}function mt(x){1===x.format?Ae.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Qe("glyph",x.glyphs))):L.assert(!1,"Can't create coverage table format 2 yet.")}function yt(x){Ae.call(this,"scriptListTable",vt("scriptRecord",x,function(B,I){var M=B.script,J=M.defaultLangSys;return L.assert(!!J,"Unable to write GSUB: script "+B.tag+" has no default language system."),[{name:"scriptTag"+I,type:"TAG",value:B.tag},{name:"script"+I,type:"TABLE",value:new Ae("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Ae("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:J.reqFeatureIndex}].concat(Qe("featureIndex",J.featureIndexes)))}].concat(vt("langSys",M.langSysRecords,function(X,le){var ke=X.langSys;return[{name:"langSysTag"+le,type:"TAG",value:X.tag},{name:"langSys"+le,type:"TABLE",value:new Ae("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ke.reqFeatureIndex}].concat(Qe("featureIndex",ke.featureIndexes)))}]})))}]}))}function jt(x){Ae.call(this,"featureListTable",vt("featureRecord",x,function(B,I){var M=B.feature;return[{name:"featureTag"+I,type:"TAG",value:B.tag},{name:"feature"+I,type:"TABLE",value:new Ae("featureTable",[{name:"featureParams",type:"USHORT",value:M.featureParams}].concat(Qe("lookupListIndex",M.lookupListIndexes)))}]}))}function Ht(x,B){Ae.call(this,"lookupListTable",Ke("lookup",x,function(I){var M=B[I.lookupType];return L.assert(!!M,"Unable to write GSUB lookup type "+I.lookupType+" tables."),new Ae("lookupTable",[{name:"lookupType",type:"USHORT",value:I.lookupType},{name:"lookupFlag",type:"USHORT",value:I.lookupFlag}].concat(Ke("subtable",I.subtables,M)))}))}ge.CHARSTRING=function(x){if(Be){var B=Be.get(x);if(void 0!==B)return B}for(var X=[],I=x.length,M=0;M<I;M+=1){var J=x[M];X=X.concat(ge[J.type](J.value))}return Be&&Be.set(x,X),X},Me.CHARSTRING=function(x){return ge.CHARSTRING(x).length},ge.OBJECT=function(x){var B=ge[x.type];return L.argument(void 0!==B,"No encoding function for type "+x.type),B(x.value)},Me.OBJECT=function(x){var B=Me[x.type];return L.argument(void 0!==B,"No sizeOf function for type "+x.type),B(x.value)},ge.TABLE=function(x){for(var B=[],I=x.fields.length,M=[],J=[],X=0;X<I;X+=1){var le=x.fields[X],ke=(L.argument(void 0!==(Xe=ge[le.type]),"No encoding function for field type "+le.type+" ("+le.name+")"),x[le.name]),Xe=Xe(ke=void 0===ke?le.value:ke);"TABLE"===le.type?(J.push(B.length),B=B.concat([0,0]),M.push(Xe)):B=B.concat(Xe)}for(var rt=0;rt<M.length;rt+=1){var Tt=J[rt],qt=B.length;L.argument(qt<65536,"Table "+x.tableName+" too big."),B[Tt]=qt>>8,B[Tt+1]=255&qt,B=B.concat(M[rt])}return B},Me.TABLE=function(x){for(var B=0,I=x.fields.length,M=0;M<I;M+=1){var J=x.fields[M],X=Me[J.type],le=(L.argument(void 0!==X,"No sizeOf function for field type "+J.type+" ("+J.name+")"),x[J.name]);B+=X(le=void 0===le?J.value:le),"TABLE"===J.type&&(B+=2)}return B},ge.RECORD=ge.TABLE,Me.RECORD=Me.TABLE,ge.LITERAL=function(x){return x},Me.LITERAL=function(x){return x.length},Ae.prototype.encode=function(){return ge.TABLE(this)},Ae.prototype.sizeOf=function(){return Me.TABLE(this)};var Rt={Table:Ae,Record:Ae,Coverage:(mt.prototype=Object.create(Ae.prototype)).constructor=mt,ScriptList:(yt.prototype=Object.create(Ae.prototype)).constructor=yt,FeatureList:(jt.prototype=Object.create(Ae.prototype)).constructor=jt,LookupList:(Ht.prototype=Object.create(Ae.prototype)).constructor=Ht,ushortList:Qe,tableList:Ke,recordList:vt};function an(x,B){return x.getUint8(B)}function on(x,B){return x.getUint16(B,!1)}function fn(x,B){return x.getUint32(B,!1)}function zt(x,B){return x.getInt16(B,!1)+x.getUint16(B+2,!1)/65535}var Ut={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function lt(x,B){this.data=x,this.offset=B,this.relativeOffset=0}lt.prototype.parseByte=function(){var x=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},lt.prototype.parseChar=function(){var x=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},lt.prototype.parseCard8=lt.prototype.parseByte,lt.prototype.parseCard16=lt.prototype.parseUShort=function(){var x=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},lt.prototype.parseSID=lt.prototype.parseUShort,lt.prototype.parseOffset16=lt.prototype.parseUShort,lt.prototype.parseShort=function(){var x=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},lt.prototype.parseF2Dot14=function(){var x=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,x},lt.prototype.parseOffset32=lt.prototype.parseULong=function(){var x=fn(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},lt.prototype.parseFixed=function(){var x=zt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},lt.prototype.parseString=function(x){var B=this.data,I=this.offset+this.relativeOffset,M="";this.relativeOffset+=x;for(var J=0;J<x;J++)M+=String.fromCharCode(B.getUint8(I+J));return M},lt.prototype.parseTag=function(){return this.parseString(4)},lt.prototype.parseLongDateTime=function(){var x=fn(this.data,this.offset+this.relativeOffset+4);return x-=2082844800,this.relativeOffset+=8,x},lt.prototype.parseVersion=function(x){var B=on(this.data,this.offset+this.relativeOffset),I=on(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,B+I/(x=void 0===x?4096:x)/10},lt.prototype.skip=function(x,B){this.relativeOffset+=Ut[x]*(B=void 0===B?1:B)},lt.prototype.parseULongList=function(x){void 0===x&&(x=this.parseULong());for(var B=new Array(x),I=this.data,M=this.offset+this.relativeOffset,J=0;J<x;J++)B[J]=I.getUint32(M),M+=4;return this.relativeOffset+=4*x,B},lt.prototype.parseOffset16List=lt.prototype.parseUShortList=function(x){void 0===x&&(x=this.parseUShort());for(var B=new Array(x),I=this.data,M=this.offset+this.relativeOffset,J=0;J<x;J++)B[J]=I.getUint16(M),M+=2;return this.relativeOffset+=2*x,B},lt.prototype.parseShortList=function(x){for(var B=new Array(x),I=this.data,M=this.offset+this.relativeOffset,J=0;J<x;J++)B[J]=I.getInt16(M),M+=2;return this.relativeOffset+=2*x,B},lt.prototype.parseByteList=function(x){for(var B=new Array(x),I=this.data,M=this.offset+this.relativeOffset,J=0;J<x;J++)B[J]=I.getUint8(M++);return this.relativeOffset+=x,B},lt.prototype.parseList=function(x,B){B||(B=x,x=this.parseUShort());for(var I=new Array(x),M=0;M<x;M++)I[M]=B.call(this);return I},lt.prototype.parseList32=function(x,B){B||(B=x,x=this.parseULong());for(var I=new Array(x),M=0;M<x;M++)I[M]=B.call(this);return I},lt.prototype.parseRecordList=function(x,B){B||(B=x,x=this.parseUShort());for(var I=new Array(x),M=Object.keys(B),J=0;J<x;J++){for(var X={},le=0;le<M.length;le++){var ke=M[le];X[ke]=B[ke].call(this)}I[J]=X}return I},lt.prototype.parseRecordList32=function(x,B){B||(B=x,x=this.parseULong());for(var I=new Array(x),M=Object.keys(B),J=0;J<x;J++){for(var X={},le=0;le<M.length;le++){var ke=M[le];X[ke]=B[ke].call(this)}I[J]=X}return I},lt.prototype.parseStruct=function(x){if("function"==typeof x)return x.call(this);for(var B=Object.keys(x),I={},M=0;M<B.length;M++){var J=B[M];I[J]=x[J].call(this)}return I},lt.prototype.parseValueRecord=function(x){var B;if(0!==(x=void 0===x?this.parseUShort():x))return B={},1&x&&(B.xPlacement=this.parseShort()),2&x&&(B.yPlacement=this.parseShort()),4&x&&(B.xAdvance=this.parseShort()),8&x&&(B.yAdvance=this.parseShort()),16&x&&(B.xPlaDevice=void 0,this.parseShort()),32&x&&(B.yPlaDevice=void 0,this.parseShort()),64&x&&(B.xAdvDevice=void 0,this.parseShort()),128&x&&(B.yAdvDevice=void 0,this.parseShort()),B},lt.prototype.parseValueRecordList=function(){for(var x=this.parseUShort(),B=this.parseUShort(),I=new Array(B),M=0;M<B;M++)I[M]=this.parseValueRecord(x);return I},lt.prototype.parsePointer=function(x){var B=this.parseOffset16();if(0<B)return new lt(this.data,this.offset+B).parseStruct(x)},lt.prototype.parsePointer32=function(x){var B=this.parseOffset32();if(0<B)return new lt(this.data,this.offset+B).parseStruct(x)},lt.prototype.parseListOfLists=function(x){for(var B=this.parseOffset16List(),I=B.length,M=this.relativeOffset,J=new Array(I),X=0;X<I;X++){var le=B[X];if(0===le)J[X]=void 0;else if(this.relativeOffset=le,x){for(var ke=this.parseOffset16List(),Xe=new Array(ke.length),rt=0;rt<ke.length;rt++)this.relativeOffset=le+ke[rt],Xe[rt]=x.call(this);J[X]=Xe}else J[X]=this.parseUShortList()}return this.relativeOffset=M,J},lt.prototype.parseCoverage=function(){var x=this.offset+this.relativeOffset,B=this.parseUShort(),I=this.parseUShort();if(1===B)return{format:1,glyphs:this.parseUShortList(I)};if(2!==B)throw new Error("0x"+x.toString(16)+": Coverage format must be 1 or 2.");for(var M=new Array(I),J=0;J<I;J++)M[J]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:M}},lt.prototype.parseClassDef=function(){var x=this.offset+this.relativeOffset,B=this.parseUShort();if(1===B)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===B)return{format:2,ranges:this.parseRecordList({start:lt.uShort,end:lt.uShort,classId:lt.uShort})};throw new Error("0x"+x.toString(16)+": ClassDef format must be 1 or 2.")},lt.list=function(x,B){return function(){return this.parseList(x,B)}},lt.list32=function(x,B){return function(){return this.parseList32(x,B)}},lt.recordList=function(x,B){return function(){return this.parseRecordList(x,B)}},lt.recordList32=function(x,B){return function(){return this.parseRecordList32(x,B)}},lt.pointer=function(x){return function(){return this.parsePointer(x)}},lt.pointer32=function(x){return function(){return this.parsePointer32(x)}},lt.tag=lt.prototype.parseTag,lt.byte=lt.prototype.parseByte,lt.uShort=lt.offset16=lt.prototype.parseUShort,lt.uShortList=lt.prototype.parseUShortList,lt.uLong=lt.offset32=lt.prototype.parseULong,lt.uLongList=lt.prototype.parseULongList,lt.struct=lt.prototype.parseStruct,lt.coverage=lt.prototype.parseCoverage,lt.classDef=lt.prototype.parseClassDef;var Nt={reserved:lt.uShort,reqFeatureIndex:lt.uShort,featureIndexes:lt.uShortList},_t=(lt.prototype.parseScriptList=function(){return this.parsePointer(lt.recordList({tag:lt.tag,script:lt.pointer({defaultLangSys:lt.pointer(Nt),langSysRecords:lt.recordList({tag:lt.tag,langSys:lt.pointer(Nt)})})}))||[]},lt.prototype.parseFeatureList=function(){return this.parsePointer(lt.recordList({tag:lt.tag,feature:lt.pointer({featureParams:lt.offset16,lookupListIndexes:lt.uShortList})}))||[]},lt.prototype.parseLookupList=function(x){return this.parsePointer(lt.list(lt.pointer(function(){var B=this.parseUShort(),I=(L.argument(1<=B&&B<=9,"GPOS/GSUB lookup type "+B+" unknown."),this.parseUShort()),M=16&I;return{lookupType:B,lookupFlag:I,subtables:this.parseList(lt.pointer(x[B])),markFilteringSet:M?this.parseUShort():void 0}})))||[]},lt.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var x=this.parseUShort(),B=this.parseUShort();return L.argument(1===x&&B<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:lt.offset32,featureTableSubstitutionOffset:lt.offset32})})||[]},{getByte:an,getCard8:an,getUShort:on,getCard16:on,getShort:function(x,B){return x.getInt16(B,!1)},getULong:fn,getFixed:zt,getTag:function(x,B){for(var I="",M=B;M<B+4;M+=1)I+=String.fromCharCode(x.getInt8(M));return I},getOffset:function(x,B,I){for(var M=0,J=0;J<I;J+=1)M=(M<<=8)+x.getUint8(B+J);return M},getBytes:function(x,B,I){for(var M=[],J=B;J<I;J+=1)M.push(x.getUint8(J));return M},bytesToString:function(x){for(var B="",I=0;I<x.length;I+=1)B+=String.fromCharCode(x[I]);return B},Parser:lt}),Pe_parse=function(x,B){for(var I={},M=(I.version=_t.getUShort(x,B),L.argument(0===I.version,"cmap table version should be 0."),I.numTables=_t.getUShort(x,B+2),-1),J=I.numTables-1;0<=J;--J){var X=_t.getUShort(x,B+4+8*J),le=_t.getUShort(x,B+4+8*J+2);if(3===X&&(0===le||1===le||10===le)||0===X&&(0===le||1===le||2===le||3===le||4===le)){M=_t.getULong(x,B+4+8*J+4);break}}if(-1===M)throw new Error("No valid cmap sub-tables found.");var ke=new _t.Parser(x,B+M);if(I.format=ke.parseUShort(),12===I.format){var Xe,rt=I,Tt=ke;Tt.parseUShort(),rt.length=Tt.parseULong(),rt.language=Tt.parseULong(),rt.groupCount=Xe=Tt.parseULong(),rt.glyphIndexMap={};for(var qt=0;qt<Xe;qt+=1)for(var Bt=Tt.parseULong(),gt=Tt.parseULong(),mn=Tt.parseULong(),tn=Bt;tn<=gt;tn+=1)rt.glyphIndexMap[tn]=mn,mn++}else{if(4!==I.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+I.format+").");var sn=I,Jt=x,Xt=B,Bn=M;sn.length=ke.parseUShort(),sn.language=ke.parseUShort(),sn.segCount=Gn=ke.parseUShort()>>1,ke.skip("uShort",3),sn.glyphIndexMap={};for(var Gn,$n=new _t.Parser(Jt,Xt+Bn+14),Un=new _t.Parser(Jt,Xt+Bn+16+2*Gn),Qn=new _t.Parser(Jt,Xt+Bn+16+4*Gn),er=new _t.Parser(Jt,Xt+Bn+16+6*Gn),Ur=Xt+Bn+16+8*Gn,Kr=0;Kr<Gn-1;Kr+=1)for(var Qr=void 0,Jr=$n.parseUShort(),fo=Un.parseUShort(),xr=Qn.parseShort(),Mr=er.parseUShort(),gr=fo;gr<=Jr;gr+=1)0!==Mr?(Ur=(Ur=er.offset+er.relativeOffset-2)+Mr+2*(gr-fo),0!==(Qr=_t.getUShort(Jt,Ur))&&(Qr=Qr+xr&65535)):Qr=gr+xr&65535,sn.glyphIndexMap[gr]=Qr}return I},Pe_make=function(x){for(var B=!0,I=x.length-1;0<I;--I)if(65535<x.get(I).unicode){console.log("Adding CMAP format 12 (needed!)"),B=!1;break}var M,J,X=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:B?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:B?12:20}],le=(X=(X=B?X:X.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Rt.Table("cmap",X));for(le.segments=[],I=0;I<x.length;I+=1){for(var ke=x.get(I),Xe=0;Xe<ke.unicodes.length;Xe+=1)le.segments.push({end:M=ke.unicodes[Xe],start:M,delta:-(M-(J=I)),offset:0,glyphIndex:J});le.segments=le.segments.sort(function(Xt,Bn){return Xt.start-Bn.start})}le.segments.push({end:65535,start:65535,delta:1,offset:0});var rt=le.segments.length,Tt=0,qt=[],Bt=[],gt=[],mn=[],tn=[],sn=[];for(I=0;I<rt;I+=1){var Jt=le.segments[I];Jt.end<=65535&&Jt.start<=65535?(qt=qt.concat({name:"end_"+I,type:"USHORT",value:Jt.end}),Bt=Bt.concat({name:"start_"+I,type:"USHORT",value:Jt.start}),gt=gt.concat({name:"idDelta_"+I,type:"SHORT",value:Jt.delta}),mn=mn.concat({name:"idRangeOffset_"+I,type:"USHORT",value:Jt.offset}),void 0!==Jt.glyphId&&(tn=tn.concat({name:"glyph_"+I,type:"USHORT",value:Jt.glyphId}))):Tt+=1,B||void 0===Jt.glyphIndex||(sn=(sn=(sn=sn.concat({name:"cmap12Start_"+I,type:"ULONG",value:Jt.start})).concat({name:"cmap12End_"+I,type:"ULONG",value:Jt.end})).concat({name:"cmap12Glyph_"+I,type:"ULONG",value:Jt.glyphIndex}))}return le.segCountX2=2*(rt-Tt),le.searchRange=2*Math.pow(2,Math.floor(Math.log(rt-Tt)/Math.log(2))),le.entrySelector=Math.log(le.searchRange/2)/Math.log(2),le.rangeShift=le.segCountX2-le.searchRange,le.fields=le.fields.concat(qt),le.fields.push({name:"reservedPad",type:"USHORT",value:0}),le.fields=le.fields.concat(Bt),le.fields=le.fields.concat(gt),le.fields=le.fields.concat(mn),le.fields=le.fields.concat(tn),le.cmap4Length=14+2*qt.length+2+2*Bt.length+2*gt.length+2*mn.length+2*tn.length,B||(X=16+4*sn.length,le.cmap12Offset=20+le.cmap4Length,le.fields=le.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:X},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:sn.length/3}]),le.fields=le.fields.concat(sn)),le},Fe=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ze=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],wt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Dt(x){this.font=x}function Gt(x){this.cmap=x}function rn(x,B){this.encoding=x,this.charset=B}function bn(x){switch(x.version){case 1:this.names=wt.slice();break;case 2:this.names=new Array(x.numberOfGlyphs);for(var B=0;B<x.numberOfGlyphs;B++)this.names[B]=x.glyphNameIndex[B]<wt.length?wt[x.glyphNameIndex[B]]:x.names[x.glyphNameIndex[B]-wt.length];break;case 2.5:this.names=new Array(x.numberOfGlyphs);for(var I=0;I<x.numberOfGlyphs;I++)this.names[I]=wt[I+x.glyphNameIndex[I]];break;default:this.names=[]}}Dt.prototype.charToGlyphIndex=function(x){var B=x.codePointAt(0),I=this.font.glyphs;if(I)for(var M=0;M<I.length;M+=1)for(var J=I.get(M),X=0;X<J.unicodes.length;X+=1)if(J.unicodes[X]===B)return M;return null},Gt.prototype.charToGlyphIndex=function(x){return this.cmap.glyphIndexMap[x.codePointAt(0)]||0},rn.prototype.charToGlyphIndex=function(x){return x=x.codePointAt(0),this.charset.indexOf(x=this.encoding[x])},bn.prototype.nameToGlyphIndex=function(x){return this.names.indexOf(x)},bn.prototype.glyphIndexToName=function(x){return this.names[x]};var _n_line=function(x,B,I,M,J){x.beginPath(),x.moveTo(B,I),x.lineTo(M,J),x.stroke()};function St(x){this.bindConstructorValues(x)}function Et(x,B,I){Object.defineProperty(x,B,{get:function(){return x[I]},set:function(M){x[I]=M},enumerable:!0,configurable:!0})}function it(x,B){if(this.font=x,this.glyphs={},Array.isArray(B))for(var I=0;I<B.length;I++)this.glyphs[I]=B[I];this.length=B&&B.length||0}St.prototype.bindConstructorValues=function(x){var B;this.index=x.index||0,this.name=x.name||null,this.unicode=x.unicode||void 0,this.unicodes=x.unicodes||void 0!==x.unicode?[x.unicode]:[],x.xMin&&(this.xMin=x.xMin),x.yMin&&(this.yMin=x.yMin),x.xMax&&(this.xMax=x.xMax),x.yMax&&(this.yMax=x.yMax),x.advanceWidth&&(this.advanceWidth=x.advanceWidth),Object.defineProperty(this,"path",(B=(x=x.path)||new de,{configurable:!0,get:function(){return B="function"==typeof B?B():B},set:function(I){B=I}}))},St.prototype.addUnicode=function(x){0===this.unicodes.length&&(this.unicode=x),this.unicodes.push(x)},St.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},St.prototype.getPath=function(x,B,I,M,J){x=void 0!==x?x:0,B=void 0!==B?B:0,I=void 0!==I?I:72;for(var X,le,ke=(M=M||{}).xScale,Xe=M.yScale,rt=((X=M.hinting&&J&&J.hinting?this.path&&J.hinting.exec(this,I):X)?(le=J.hinting.getCommands(X),x=Math.round(x),B=Math.round(B),ke=Xe=1):(le=this.path.commands,M=1/this.path.unitsPerEm*I,void 0===ke&&(ke=M),void 0===Xe&&(Xe=M)),new de),Tt=0;Tt<le.length;Tt+=1){var qt=le[Tt];"M"===qt.type?rt.moveTo(x+qt.x*ke,B+-qt.y*Xe):"L"===qt.type?rt.lineTo(x+qt.x*ke,B+-qt.y*Xe):"Q"===qt.type?rt.quadraticCurveTo(x+qt.x1*ke,B+-qt.y1*Xe,x+qt.x*ke,B+-qt.y*Xe):"C"===qt.type?rt.curveTo(x+qt.x1*ke,B+-qt.y1*Xe,x+qt.x2*ke,B+-qt.y2*Xe,x+qt.x*ke,B+-qt.y*Xe):"Z"===qt.type&&rt.closePath()}return rt},St.prototype.getContours=function(){if(void 0===this.points)return[];for(var x=[],B=[],I=0;I<this.points.length;I+=1){var M=this.points[I];B.push(M),M.lastPointOfContour&&(x.push(B),B=[])}return L.argument(0===B.length,"There are still points left in the current contour."),x},St.prototype.getMetrics=function(){for(var x=this.path.commands,B=[],I=[],M=0;M<x.length;M+=1){var J=x[M];"Z"!==J.type&&(B.push(J.x),I.push(J.y)),"Q"!==J.type&&"C"!==J.type||(B.push(J.x1),I.push(J.y1)),"C"===J.type&&(B.push(J.x2),I.push(J.y2))}var X={xMin:Math.min.apply(null,B),yMin:Math.min.apply(null,I),xMax:Math.max.apply(null,B),yMax:Math.max.apply(null,I),leftSideBearing:this.leftSideBearing};return isFinite(X.xMin)||(X.xMin=0),isFinite(X.xMax)||(X.xMax=this.advanceWidth),isFinite(X.yMin)||(X.yMin=0),isFinite(X.yMax)||(X.yMax=0),X.rightSideBearing=this.advanceWidth-X.leftSideBearing-(X.xMax-X.xMin),X},St.prototype.draw=function(x,B,I,M,J){this.getPath(B,I,M,J).draw(x)},St.prototype.drawPoints=function(x,B,I,M){function J(Tt,qt,Bt,gt){var mn=2*Math.PI;x.beginPath();for(var tn=0;tn<Tt.length;tn+=1)x.moveTo(qt+Tt[tn].x*gt,Bt+Tt[tn].y*gt),x.arc(qt+Tt[tn].x*gt,Bt+Tt[tn].y*gt,2,0,mn,!1);x.closePath(),x.fill()}B=void 0!==B?B:0,I=void 0!==I?I:0,M=1/this.path.unitsPerEm*(M=void 0!==M?M:24);for(var X=[],le=[],ke=this.path,Xe=0;Xe<ke.commands.length;Xe+=1){var rt=ke.commands[Xe];void 0!==rt.x&&X.push({x:rt.x,y:-rt.y}),void 0!==rt.x1&&le.push({x:rt.x1,y:-rt.y1}),void 0!==rt.x2&&le.push({x:rt.x2,y:-rt.y2})}x.fillStyle="blue",J(X,B,I,M),x.fillStyle="red",J(le,B,I,M)},St.prototype.drawMetrics=function(x,B,I,M){B=void 0!==B?B:0,I=void 0!==I?I:0,M=1/this.path.unitsPerEm*(M=void 0!==M?M:24),x.lineWidth=1,x.strokeStyle="black",_n_line(x,B,-1e4,B,1e4),_n_line(x,-1e4,I,1e4,I);var J=this.xMin||0,X=this.yMin||0,le=this.xMax||0,ke=this.yMax||0,Xe=this.advanceWidth||0;x.strokeStyle="blue",_n_line(x,B+J*M,-1e4,B+J*M,1e4),_n_line(x,B+le*M,-1e4,B+le*M,1e4),_n_line(x,-1e4,I+-X*M,1e4,I+-X*M),_n_line(x,-1e4,I+-ke*M,1e4,I+-ke*M),x.strokeStyle="green",_n_line(x,B+Xe*M,-1e4,B+Xe*M,1e4)},it.prototype.get=function(x){return"function"==typeof this.glyphs[x]&&(this.glyphs[x]=this.glyphs[x]()),this.glyphs[x]},it.prototype.push=function(x,B){this.glyphs[x]=B,this.length++};var ze={GlyphSet:it,glyphLoader:function(x,B){return new St({index:B,font:x})},ttfGlyphLoader:function(x,B,I,M,J,X){return function(){var le=new St({index:B,font:x});return le.path=function(){I(le,M,J);var ke=X(x.glyphs,le);return ke.unitsPerEm=x.unitsPerEm,ke},Et(le,"xMin","_xMin"),Et(le,"xMax","_xMax"),Et(le,"yMin","_yMin"),Et(le,"yMax","_yMax"),le}},cffGlyphLoader:function(x,B,I,M){return function(){var J=new St({index:B,font:x});return J.path=function(){var X=I(x,J,M);return X.unitsPerEm=x.unitsPerEm,X},J}}};function ut(x){return x.length<1240?107:x.length<33900?1131:32768}function xt(x,B,I){var M,J=[],X=[],le=_t.getCard16(x,B);if(0!==le){for(var ke=_t.getByte(x,B+2),Xe=B+(le+1)*ke+2,rt=B+3,Tt=0;Tt<le+1;Tt+=1)J.push(_t.getOffset(x,rt,ke)),rt+=ke;M=Xe+J[le]}else M=B+2;for(var qt=0;qt<J.length-1;qt+=1){var Bt=_t.getBytes(x,Xe+J[qt],Xe+J[qt+1]);I&&(Bt=I(Bt)),X.push(Bt)}return{objects:X,startOffset:B,endOffset:M}}function en(x,B){if(28===B)return x.parseByte()<<8|x.parseByte();if(29===B)return x.parseByte()<<24|x.parseByte()<<16|x.parseByte()<<8|x.parseByte();if(30===B){for(var I=x,M="",J=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var X=(le=I.parseByte())>>4,le=15&le;if(15==X||(M+=J[X],15==le))break;M+=J[le]}return parseFloat(M)}if(32<=B&&B<=246)return B-139;if(247<=B&&B<=250)return 256*(B-247)+x.parseByte()+108;if(251<=B&&B<=254)return 256*-(B-251)-x.parseByte()-108;throw new Error("Invalid b0 "+B)}function We(x,B,I){var M=new _t.Parser(x,B=void 0!==B?B:0),J=[],X=[];for(I=void 0!==I?I:x.length;M.relativeOffset<I;){var le=M.parseByte();le<=21?(12===le&&(le=1200+M.parseByte()),J.push([le,X]),X=[]):X.push(en(M,le))}for(var ke=J,Xe={},rt=0;rt<ke.length;rt+=1){var Bt,Tt=ke[rt][0],qt=ke[rt][1];if(Bt=1===qt.length?qt[0]:qt,Xe.hasOwnProperty(Tt)&&!isNaN(Xe[Tt]))throw new Error("Object "+Xe+" already has key "+Tt);Xe[Tt]=Bt}return Xe}function bt(x,B){return B<=390?Fe[B]:x[B-391]}function Lt(x,B,I){for(var M,J={},X=0;X<B.length;X+=1){var le=B[X];if(Array.isArray(le.type)){var ke=[];ke.length=le.type.length;for(var Xe=0;Xe<le.type.length;Xe++)void 0===(M=void 0!==x[le.op]?x[le.op][Xe]:void 0)&&(M=void 0!==le.value&&void 0!==le.value[Xe]?le.value[Xe]:null),"SID"===le.type[Xe]&&(M=bt(I,M)),ke[Xe]=M;J[le.name]=ke}else void 0===(M=x[le.op])&&(M=void 0!==le.value?le.value:null),"SID"===le.type&&(M=bt(I,M)),J[le.name]=M}return J}var Ft=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Vt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function cn(x,B,I,M){return Lt(We(x,B,I),Vt,M)}function gn(x,B,I,M){for(var J=[],X=0;X<I.length;X+=1){var le,ke=((ke=M,le=Lt(We(le=new DataView(new Uint8Array(I[X]).buffer),0,le.byteLength),Ft,ke))._subrs=[],le._subrsBias=0,le.private[0]),Xe=le.private[1];0!==ke&&0!==Xe&&(ke=cn(x,Xe+B,ke,M),le._defaultWidthX=ke.defaultWidthX,le._nominalWidthX=ke.nominalWidthX,0!==ke.subrs&&(Xe=xt(x,Xe+ke.subrs+B),le._subrs=Xe.objects,le._subrsBias=ut(le._subrs)),le._privateDict=ke),J.push(le)}return J}function xn(x,B,I){var M,J,X,le,ke,Xe,rt,Tt,qt,Bt=new de,gt=[],mn=0,tn=!1,sn=!1,Jt=0,Xt=0,Bn=(qt=(x.isCIDFont?(ke=x.tables.cff.topDict._fdSelect[B.index],ke=x.tables.cff.topDict._fdArray[ke],Xe=ke._subrs,rt=ke._subrsBias,Tt=ke._defaultWidthX,ke):(Xe=x.tables.cff.topDict._subrs,rt=x.tables.cff.topDict._subrsBias,Tt=x.tables.cff.topDict._defaultWidthX,x.tables.cff.topDict))._nominalWidthX,Tt);function Gn(Un,Qn){sn&&Bt.closePath(),Bt.moveTo(Un,Qn),sn=!0}function $n(){gt.length%2==0||tn||(Bn=gt.shift()+qt),mn+=gt.length>>1,gt.length=0,tn=!0}return function Un(Qn){for(var er,Ur,Kr,Qr,Jr,fo,xr,Mr,gr,kr,Nn,to,Nr=0;Nr<Qn.length;){var no=Qn[Nr];switch(Nr+=1,no){case 1:case 3:case 18:case 23:$n();break;case 4:1<gt.length&&!tn&&(Bn=gt.shift()+qt,tn=!0),Xt+=gt.pop(),Gn(Jt,Xt);break;case 5:for(;0<gt.length;)Jt+=gt.shift(),Xt+=gt.shift(),Bt.lineTo(Jt,Xt);break;case 6:for(;0<gt.length&&(Jt+=gt.shift(),Bt.lineTo(Jt,Xt),0!==gt.length);)Xt+=gt.shift(),Bt.lineTo(Jt,Xt);break;case 7:for(;0<gt.length&&(Xt+=gt.shift(),Bt.lineTo(Jt,Xt),0!==gt.length);)Jt+=gt.shift(),Bt.lineTo(Jt,Xt);break;case 8:for(;0<gt.length;)M=Jt+gt.shift(),J=Xt+gt.shift(),X=M+gt.shift(),le=J+gt.shift(),Jt=X+gt.shift(),Xt=le+gt.shift(),Bt.curveTo(M,J,X,le,Jt,Xt);break;case 10:Jr=gt.pop()+rt,(fo=Xe[Jr])&&Un(fo);break;case 11:return;case 12:switch(no=Qn[Nr],Nr+=1,no){case 35:M=Jt+gt.shift(),J=Xt+gt.shift(),X=M+gt.shift(),le=J+gt.shift(),xr=X+gt.shift(),Mr=le+gt.shift(),gr=xr+gt.shift(),kr=Mr+gt.shift(),Nn=gr+gt.shift(),to=kr+gt.shift(),Jt=Nn+gt.shift(),Xt=to+gt.shift(),gt.shift(),Bt.curveTo(M,J,X,le,xr,Mr),Bt.curveTo(gr,kr,Nn,to,Jt,Xt);break;case 34:M=Jt+gt.shift(),J=Xt,X=M+gt.shift(),le=J+gt.shift(),xr=X+gt.shift(),Mr=le,gr=xr+gt.shift(),kr=le,Nn=gr+gt.shift(),to=Xt,Jt=Nn+gt.shift(),Bt.curveTo(M,J,X,le,xr,Mr),Bt.curveTo(gr,kr,Nn,to,Jt,Xt);break;case 36:M=Jt+gt.shift(),J=Xt+gt.shift(),X=M+gt.shift(),le=J+gt.shift(),xr=X+gt.shift(),Mr=le,gr=xr+gt.shift(),kr=le,Nn=gr+gt.shift(),to=kr+gt.shift(),Jt=Nn+gt.shift(),Bt.curveTo(M,J,X,le,xr,Mr),Bt.curveTo(gr,kr,Nn,to,Jt,Xt);break;case 37:M=Jt+gt.shift(),J=Xt+gt.shift(),X=M+gt.shift(),le=J+gt.shift(),xr=X+gt.shift(),Mr=le+gt.shift(),gr=xr+gt.shift(),kr=Mr+gt.shift(),Nn=gr+gt.shift(),to=kr+gt.shift(),Math.abs(Nn-Jt)>Math.abs(to-Xt)?Jt=Nn+gt.shift():Xt=to+gt.shift(),Bt.curveTo(M,J,X,le,xr,Mr),Bt.curveTo(gr,kr,Nn,to,Jt,Xt);break;default:console.log("Glyph "+B.index+": unknown operator 1200"+no),gt.length=0}break;case 14:0<gt.length&&!tn&&(Bn=gt.shift()+qt,tn=!0),sn&&(Bt.closePath(),sn=!1);break;case 19:case 20:$n(),Nr+=mn+7>>3;break;case 21:2<gt.length&&!tn&&(Bn=gt.shift()+qt,tn=!0),Xt+=gt.pop(),Gn(Jt+=gt.pop(),Xt);break;case 22:1<gt.length&&!tn&&(Bn=gt.shift()+qt,tn=!0),Gn(Jt+=gt.pop(),Xt);break;case 24:for(;2<gt.length;)M=Jt+gt.shift(),J=Xt+gt.shift(),X=M+gt.shift(),le=J+gt.shift(),Jt=X+gt.shift(),Xt=le+gt.shift(),Bt.curveTo(M,J,X,le,Jt,Xt);Jt+=gt.shift(),Xt+=gt.shift(),Bt.lineTo(Jt,Xt);break;case 25:for(;6<gt.length;)Jt+=gt.shift(),Xt+=gt.shift(),Bt.lineTo(Jt,Xt);M=Jt+gt.shift(),J=Xt+gt.shift(),X=M+gt.shift(),le=J+gt.shift(),Jt=X+gt.shift(),Xt=le+gt.shift(),Bt.curveTo(M,J,X,le,Jt,Xt);break;case 26:for(gt.length%2&&(Jt+=gt.shift());0<gt.length;)M=Jt,J=Xt+gt.shift(),X=M+gt.shift(),le=J+gt.shift(),Jt=X,Xt=le+gt.shift(),Bt.curveTo(M,J,X,le,Jt,Xt);break;case 27:for(gt.length%2&&(Xt+=gt.shift());0<gt.length;)M=Jt+gt.shift(),J=Xt,X=M+gt.shift(),le=J+gt.shift(),Jt=X+gt.shift(),Bt.curveTo(M,J,X,le,Jt,Xt=le);break;case 28:gt.push(((er=Qn[Nr])<<24|(Ur=Qn[Nr+1])<<16)>>16),Nr+=2;break;case 29:Jr=gt.pop()+x.gsubrsBias,(fo=x.gsubrs[Jr])&&Un(fo);break;case 30:for(;0<gt.length&&(M=Jt,J=Xt+gt.shift(),X=M+gt.shift(),le=J+gt.shift(),Jt=X+gt.shift(),Xt=le+(1===gt.length?gt.shift():0),Bt.curveTo(M,J,X,le,Jt,Xt),0!==gt.length);)M=Jt+gt.shift(),J=Xt,X=M+gt.shift(),le=J+gt.shift(),Xt=le+gt.shift(),Jt=X+(1===gt.length?gt.shift():0),Bt.curveTo(M,J,X,le,Jt,Xt);break;case 31:for(;0<gt.length&&(M=Jt+gt.shift(),J=Xt,X=M+gt.shift(),le=J+gt.shift(),Xt=le+gt.shift(),Jt=X+(1===gt.length?gt.shift():0),Bt.curveTo(M,J,X,le,Jt,Xt),0!==gt.length);)M=Jt,J=Xt+gt.shift(),X=M+gt.shift(),le=J+gt.shift(),Jt=X+gt.shift(),Xt=le+(1===gt.length?gt.shift():0),Bt.curveTo(M,J,X,le,Jt,Xt);break;default:no<32?console.log("Glyph "+B.index+": unknown operator "+no):no<247?gt.push(no-139):no<251?(er=Qn[Nr],Nr+=1,gt.push(256*(no-247)+er+108)):no<255?(er=Qn[Nr],Nr+=1,gt.push(256*-(no-251)-er-108)):(er=Qn[Nr],Ur=Qn[Nr+1],Kr=Qn[Nr+2],Qr=Qn[Nr+3],Nr+=4,gt.push((er<<24|Ur<<16|Kr<<8|Qr)/65536))}}}(I),B.advanceWidth=Bn,Bt}function Sn(x,B){var I,M=Fe.indexOf(x);return 0<=M&&(I=M),0<=(M=B.indexOf(x))?I=M+Fe.length:(I=Fe.length+B.length,B.push(x)),I}function Cn(x,B,I){for(var M={},J=0;J<x.length;J+=1){var X=x[J],le=B[X.name];void 0===le||function ke(Xe,rt){if(Xe===rt)return 1;if(Array.isArray(Xe)&&Array.isArray(rt)&&Xe.length===rt.length){for(var Tt=0;Tt<Xe.length;Tt+=1)if(!ke(Xe[Tt],rt[Tt]))return;return 1}}(le,X.value)||("SID"===X.type&&(le=Sn(le,I)),M[X.op]={name:X.name,type:X.type,value:le})}return M}function Zn(x,B){var I=new Rt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return I.dict=Cn(Ft,x,B),I}function tr(x){var B=new Rt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return B.topDicts=[{name:"topDict_0",type:"TABLE",value:x}],B}var Pn_parse=function(x,B,I){I.tables.cff={},(J={}).formatMajor=_t.getCard8(ke=x,M=B),J.formatMinor=_t.getCard8(ke,M+1),J.size=_t.getCard8(ke,M+2),J.offsetSize=_t.getCard8(ke,M+3),J.startOffset=M,J.endOffset=M+4;var ke=xt(x,J.endOffset,_t.bytesToString),M=xt(x,ke.endOffset),J=xt(x,M.endOffset,_t.bytesToString);if(ke=xt(x,J.endOffset),I.gsubrs=ke.objects,I.gsubrsBias=ut(I.gsubrs),1!==(ke=gn(x,B,M.objects,J.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ke.length);if((I.tables.cff.topDict=M=ke[0])._privateDict&&(I.defaultWidthX=M._privateDict.defaultWidthX,I.nominalWidthX=M._privateDict.nominalWidthX),void 0!==M.ros[0]&&void 0!==M.ros[1]&&(I.isCIDFont=!0),I.isCIDFont){var X=M.fdSelect;if(0===(ke=M.fdArray)||0===X)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ke=gn(x,B,xt(x,ke+=B).objects,J.objects),M._fdArray=ke,M._fdSelect=function(Bt,gt,mn,tn){var sn,Jt=[],Xt=new _t.Parser(Bt,gt);if(0===(Bt=Xt.parseCard8()))for(var Bn=0;Bn<mn;Bn++){if(tn<=(sn=Xt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+sn+" (FD count "+tn+")");Jt.push(sn)}else{if(3!==Bt)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Bt);var Gn,$n=Xt.parseCard16(),Un=Xt.parseCard16();if(0!==Un)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Un);for(var Qn=0;Qn<$n;Qn++){if(sn=Xt.parseCard8(),Gn=Xt.parseCard16(),tn<=sn)throw new Error("CFF table CID Font FDSelect has bad FD index value "+sn+" (FD count "+tn+")");if(mn<Gn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Gn);for(;Un<Gn;Un++)Jt.push(sn);Un=Gn}if(Gn!==mn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Gn)}return Jt}(x,X+=B,I.numGlyphs,ke.length)}ke=cn(x,X=B+M.private[1],M.private[0],J.objects);var le=(I.defaultWidthX=ke.defaultWidthX,I.nominalWidthX=ke.nominalWidthX,0!==ke.subrs?(X=xt(x,X+ke.subrs),I.subrs=X.objects,I.subrsBias=ut(I.subrs)):(I.subrs=[],I.subrsBias=0),xt(x,B+M.charStrings));I.nGlyphs=le.objects.length,ke=function(Tt,qt,Bt,gt){var mn=new _t.Parser(Tt,qt),tn=(--Bt,[".notdef"]);if(0===(Tt=mn.parseCard8()))for(var sn=0;sn<Bt;sn+=1)Jt=mn.parseSID(),tn.push(bt(gt,Jt));else if(1===Tt)for(;tn.length<=Bt;)for(var Jt=mn.parseSID(),Xt=mn.parseCard8(),Bn=0;Bn<=Xt;Bn+=1)tn.push(bt(gt,Jt)),Jt+=1;else{if(2!==Tt)throw new Error("Unknown charset format "+Tt);for(;tn.length<=Bt;){Jt=mn.parseSID(),Xt=mn.parseCard16();for(var Gn=0;Gn<=Xt;Gn+=1)tn.push(bt(gt,Jt)),Jt+=1}}return tn}(x,B+M.charset,I.nGlyphs,J.objects),I.cffEncoding=0===M.encoding?new rn(Ie,ke):1===M.encoding?new rn(Ze,ke):function(Tt,qt,Bt){var gt={},mn=new _t.Parser(Tt,qt);if(0===(Tt=mn.parseCard8()))for(var tn=mn.parseCard8(),sn=0;sn<tn;sn+=1)gt[Xt=mn.parseCard8()]=sn;else{if(1!==Tt)throw new Error("Unknown encoding format "+Tt);for(var Jt=mn.parseCard8(),Xt=1,Bn=0;Bn<Jt;Bn+=1)for(var Gn=mn.parseCard8(),$n=mn.parseCard8(),Un=Gn;Un<=Gn+$n;Un+=1)gt[Un]=Xt,Xt+=1}return new rn(gt,Bt)}(x,B+M.encoding,ke),I.encoding=I.encoding||I.cffEncoding,I.glyphs=new ze.GlyphSet(I);for(var Xe=0;Xe<I.nGlyphs;Xe+=1)I.glyphs.push(Xe,ze.cffGlyphLoader(I,Xe,xn,le.objects[Xe]))},Pn_make=function(x,Tt){for(var I,M=new Rt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),J={version:Tt.version,fullName:Tt.fullName,familyName:Tt.familyName,weight:Tt.weightName,fontBBox:Tt.fontBBox||[0,0,0,0],fontMatrix:[J=1/Tt.unitsPerEm,0,0,J,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},X=[],le=1;le<x.length;le+=1)I=x.get(le),X.push(I.name);var ke,Xe,rt=[],qt=(M.header=new Rt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),M.nameIndex=function(Bt){var gt=new Rt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);gt.names=[];for(var mn=0;mn<Bt.length;mn+=1)gt.names.push({name:"name_"+mn,type:"NAME",value:Bt[mn]});return gt}([Tt.postScriptName]),Tt=Zn(J,rt),M.topDictIndex=tr(Tt),M.globalSubrIndex=new Rt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),M.charsets=function(Bt,gt){for(var mn=new Rt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),tn=0;tn<Bt.length;tn+=1){var sn=Sn(Bt[tn],gt);mn.fields.push({name:"glyph_"+tn,type:"SID",value:sn})}return mn}(X,rt),M.charStringsIndex=function ar(x){for(var B=new Rt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),I=0;I<x.length;I+=1){var M=x.get(I),J=function(X){for(var le=[],ke=X.path,Xe=(le.push({name:"width",type:"NUMBER",value:X.advanceWidth}),0),rt=0,Tt=0;Tt<ke.commands.length;Tt+=1){var qt,Bt,gt,mn,tn=void 0,sn=void 0,Jt=ke.commands[Tt];"M"===(Jt="Q"===Jt.type?{type:"C",x:Jt.x,y:Jt.y,x1:1/3*Xe+2/3*Jt.x1,y1:1/3*rt+2/3*Jt.y1,x2:1/3*Jt.x+2/3*Jt.x1,y2:1/3*Jt.y+2/3*Jt.y1}:Jt).type?(tn=Math.round(Jt.x-Xe),sn=Math.round(Jt.y-rt),le.push({name:"dx",type:"NUMBER",value:tn}),le.push({name:"dy",type:"NUMBER",value:sn}),le.push({name:"rmoveto",type:"OP",value:21}),Xe=Math.round(Jt.x),rt=Math.round(Jt.y)):"L"===Jt.type?(tn=Math.round(Jt.x-Xe),sn=Math.round(Jt.y-rt),le.push({name:"dx",type:"NUMBER",value:tn}),le.push({name:"dy",type:"NUMBER",value:sn}),le.push({name:"rlineto",type:"OP",value:5}),Xe=Math.round(Jt.x),rt=Math.round(Jt.y)):"C"===Jt.type&&(qt=Math.round(Jt.x1-Xe),Bt=Math.round(Jt.y1-rt),gt=Math.round(Jt.x2-Jt.x1),mn=Math.round(Jt.y2-Jt.y1),tn=Math.round(Jt.x-Jt.x2),sn=Math.round(Jt.y-Jt.y2),le.push({name:"dx1",type:"NUMBER",value:qt}),le.push({name:"dy1",type:"NUMBER",value:Bt}),le.push({name:"dx2",type:"NUMBER",value:gt}),le.push({name:"dy2",type:"NUMBER",value:mn}),le.push({name:"dx",type:"NUMBER",value:tn}),le.push({name:"dy",type:"NUMBER",value:sn}),le.push({name:"rrcurveto",type:"OP",value:8}),Xe=Math.round(Jt.x),rt=Math.round(Jt.y))}return le.push({name:"endchar",type:"OP",value:14}),le}(M);B.charStrings.push({name:M.name,type:"CHARSTRING",value:J})}return B}(x),M.privateDict=(qt={},ke=rt,(Xe=new Rt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Cn(Vt,qt,ke),Xe),M.stringIndex=function(Bt){var gt=new Rt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);gt.strings=[];for(var mn=0;mn<Bt.length;mn+=1)gt.strings.push({name:"string_"+mn,type:"STRING",value:Bt[mn]});return gt}(rt),M.header.sizeOf()+M.nameIndex.sizeOf()+M.topDictIndex.sizeOf()+M.stringIndex.sizeOf()+M.globalSubrIndex.sizeOf());return J.charset=qt,J.encoding=0,J.charStrings=J.charset+M.charsets.sizeOf(),J.private[1]=J.charStrings+M.charStringsIndex.sizeOf(),Tt=Zn(J,rt),M.topDictIndex=tr(Tt),M},Hn_parse=function(M,B){var I={};return M=new _t.Parser(M,B),I.version=M.parseVersion(),I.fontRevision=Math.round(1e3*M.parseFixed())/1e3,I.checkSumAdjustment=M.parseULong(),I.magicNumber=M.parseULong(),L.argument(1594834165===I.magicNumber,"Font header has wrong magic number."),I.flags=M.parseUShort(),I.unitsPerEm=M.parseUShort(),I.created=M.parseLongDateTime(),I.modified=M.parseLongDateTime(),I.xMin=M.parseShort(),I.yMin=M.parseShort(),I.xMax=M.parseShort(),I.yMax=M.parseShort(),I.macStyle=M.parseUShort(),I.lowestRecPPEM=M.parseUShort(),I.fontDirectionHint=M.parseShort(),I.indexToLocFormat=M.parseShort(),I.glyphDataFormat=M.parseShort(),I},Hn_make=function(x){var B=Math.round((new Date).getTime()/1e3)+2082844800,I=B;return x.createdTimestamp&&(I=x.createdTimestamp+2082844800),new Rt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:I},{name:"modified",type:"LONGDATETIME",value:B},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],x)},G_parse=function(M,B){var I={};return M=new _t.Parser(M,B),I.version=M.parseVersion(),I.ascender=M.parseShort(),I.descender=M.parseShort(),I.lineGap=M.parseShort(),I.advanceWidthMax=M.parseUShort(),I.minLeftSideBearing=M.parseShort(),I.minRightSideBearing=M.parseShort(),I.xMaxExtent=M.parseShort(),I.caretSlopeRise=M.parseShort(),I.caretSlopeRun=M.parseShort(),I.caretOffset=M.parseShort(),M.relativeOffset+=8,I.metricDataFormat=M.parseShort(),I.numberOfHMetrics=M.parseUShort(),I},G_make=function(x){return new Rt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],x)},me_parse=function(x,B,I,M,J){for(var X,le,ke=new _t.Parser(x,B),Xe=0;Xe<M;Xe+=1){Xe<I&&(X=ke.parseUShort(),le=ke.parseShort());var rt=J.get(Xe);rt.advanceWidth=X,rt.leftSideBearing=le}},me_make=function(x){for(var B=new Rt.Table("hmtx",[]),I=0;I<x.length;I+=1){var M=(J=x.get(I)).advanceWidth||0,J=J.leftSideBearing||0;B.fields.push({name:"advanceWidth_"+I,type:"USHORT",value:M}),B.fields.push({name:"leftSideBearing_"+I,type:"SHORT",value:J})}return B},Se_make=function(x){for(var B=new Rt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:x.length}]),I="",M=12+4*x.length,J=0;J<x.length;++J){var X=I.indexOf(x[J]);X<0&&(X=I.length,I+=x[J]),B.fields.push({name:"offset "+J,type:"USHORT",value:M+X}),B.fields.push({name:"length "+J,type:"USHORT",value:x[J].length})}return B.fields.push({name:"stringPool",type:"CHARARRAY",value:I}),B},Se_parse=function(x,B){for(var I=new _t.Parser(x,B),M=I.parseULong(),J=(L.argument(1===M,"Unsupported ltag table version."),I.skip("uLong",1),I.parseULong()),X=[],le=0;le<J;le++){for(var ke="",Xe=B+I.parseUShort(),rt=I.parseUShort(),Tt=Xe;Tt<Xe+rt;++Tt)ke+=String.fromCharCode(x.getInt8(Tt));X.push(ke)}return X},P_parse=function(M,B){var I={};return M=new _t.Parser(M,B),I.version=M.parseVersion(),I.numGlyphs=M.parseUShort(),1===I.version&&(I.maxPoints=M.parseUShort(),I.maxContours=M.parseUShort(),I.maxCompositePoints=M.parseUShort(),I.maxCompositeContours=M.parseUShort(),I.maxZones=M.parseUShort(),I.maxTwilightPoints=M.parseUShort(),I.maxStorage=M.parseUShort(),I.maxFunctionDefs=M.parseUShort(),I.maxInstructionDefs=M.parseUShort(),I.maxStackElements=M.parseUShort(),I.maxSizeOfInstructions=M.parseUShort(),I.maxComponentElements=M.parseUShort(),I.maxComponentDepth=M.parseUShort()),I},P_make=function(x){return new Rt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:x}])},z=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],F={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},oe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ae={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},ee="utf-16",ye={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ue={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function ct(x,B,I){switch(x){case 0:return ee;case 1:return Ue[I]||ye[B];case 3:if(1===B||10===B)return ee}}function It(x){var B,I={};for(B in x)I[x[B]]=parseInt(B);return I}function Zt(x,B,I,M,J,X){return new Rt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:x},{name:"encodingID",type:"USHORT",value:B},{name:"languageID",type:"USHORT",value:I},{name:"nameID",type:"USHORT",value:M},{name:"length",type:"USHORT",value:J},{name:"offset",type:"USHORT",value:X}])}function yn(x,B){if((I=function(X,le){var ke=X.length,Xe=le.length-ke+1;e:for(var rt=0;rt<Xe;rt++)for(;rt<Xe;rt++){for(var Tt=0;Tt<ke;Tt++)if(le[rt+Tt]!==X[Tt])continue e;return rt}return-1}(x,B))<0)for(var I=B.length,M=0,J=x.length;M<J;++M)B.push(x[M]);return I}var En_parse=function(x,B,I){for(var M={},J=new _t.Parser(x,B),X=(B=J.parseUShort(),J.parseUShort()),le=J.offset+J.parseUShort(),ke=0;ke<X;ke++){var mn=J.parseUShort(),Xe=J.parseUShort(),rt=J.parseUShort(),Tt=J.parseUShort(),qt=(Tt=z[Tt]||Tt,J.parseUShort()),Bt=J.parseUShort(),gt=function(sn,Jt,Xt){switch(sn){case 0:if(65535===Jt)return"und";if(Xt)return Xt[Jt];break;case 1:return F[Jt];case 3:return ae[Jt]}}(mn,rt,I);void 0!==(mn=ct(mn,Xe,rt))&&void 0!==gt&&(Xe=void 0,(Xe=mn===ee?re.UTF16(x,le+Bt,qt):re.MACSTRING(x,le+Bt,qt,mn))&&((rt=void 0===(rt=M[Tt])?M[Tt]={}:rt)[gt]=Xe))}return 1===B&&J.parseUShort(),M},En_make=function(x,B){var I,M=[],J={},X=It(z);for(I in x){var le=X[I];if(void 0===le&&(le=I),Bt=parseInt(le),isNaN(Bt))throw new Error('Name table entry "'+I+'" does not exist, see nameTableNames for complete list.');J[Bt]=x[I],M.push(Bt)}for(var ke=It(F),Xe=It(ae),rt=[],Tt=[],qt=0;qt<M.length;qt++){var Bt,gt,mn=J[Bt=M[qt]];for(gt in mn){var Gn,tn=mn[gt],sn=ke[gt],Jt=oe[sn],Xt=ct(Gn=1,Jt,sn),Bn=(void 0===(Xt=ge.MACSTRING(tn,Xt))&&(Gn=0,(sn=B.indexOf(gt))<0&&(sn=B.length,B.push(gt)),Jt=4,Xt=ge.UTF16(tn)),yn(Xt,Tt));void 0!==(rt.push(Zt(Gn,Jt,sn,Bt,Xt.length,Bn)),Gn=Xe[gt])&&(sn=yn(Jt=ge.UTF16(tn),Tt),rt.push(Zt(3,1,Gn,Bt,Jt.length,sn)))}}rt.sort(function(Qn,er){return Qn.platformID-er.platformID||Qn.encodingID-er.encodingID||Qn.languageID-er.languageID||Qn.nameID-er.nameID});for(var $n=new Rt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:rt.length},{name:"stringOffset",type:"USHORT",value:6+12*rt.length}]),Un=0;Un<rt.length;Un++)$n.fields.push({name:"record_"+Un,type:"RECORD",value:rt[Un]});return $n.fields.push({name:"strings",type:"LITERAL",value:Tt}),$n},Rn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Wn_parse=function(x,B){var I={},M=new _t.Parser(x,B);I.version=M.parseUShort(),I.xAvgCharWidth=M.parseShort(),I.usWeightClass=M.parseUShort(),I.usWidthClass=M.parseUShort(),I.fsType=M.parseUShort(),I.ySubscriptXSize=M.parseShort(),I.ySubscriptYSize=M.parseShort(),I.ySubscriptXOffset=M.parseShort(),I.ySubscriptYOffset=M.parseShort(),I.ySuperscriptXSize=M.parseShort(),I.ySuperscriptYSize=M.parseShort(),I.ySuperscriptXOffset=M.parseShort(),I.ySuperscriptYOffset=M.parseShort(),I.yStrikeoutSize=M.parseShort(),I.yStrikeoutPosition=M.parseShort(),I.sFamilyClass=M.parseShort(),I.panose=[];for(var J=0;J<10;J++)I.panose[J]=M.parseByte();return I.ulUnicodeRange1=M.parseULong(),I.ulUnicodeRange2=M.parseULong(),I.ulUnicodeRange3=M.parseULong(),I.ulUnicodeRange4=M.parseULong(),I.achVendID=String.fromCharCode(M.parseByte(),M.parseByte(),M.parseByte(),M.parseByte()),I.fsSelection=M.parseUShort(),I.usFirstCharIndex=M.parseUShort(),I.usLastCharIndex=M.parseUShort(),I.sTypoAscender=M.parseShort(),I.sTypoDescender=M.parseShort(),I.sTypoLineGap=M.parseShort(),I.usWinAscent=M.parseUShort(),I.usWinDescent=M.parseUShort(),1<=I.version&&(I.ulCodePageRange1=M.parseULong(),I.ulCodePageRange2=M.parseULong()),2<=I.version&&(I.sxHeight=M.parseShort(),I.sCapHeight=M.parseShort(),I.usDefaultChar=M.parseUShort(),I.usBreakChar=M.parseUShort(),I.usMaxContent=M.parseUShort()),I},Wn_make=function(x){return new Rt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],x)},Wn_getUnicodeRange=function(x){for(var B=0;B<Rn.length;B+=1){var I=Rn[B];if(x>=I.begin&&x<I.end)return B}return-1},mr_parse=function(x,B){var I={},M=new _t.Parser(x,B);switch(I.version=M.parseVersion(),I.italicAngle=M.parseFixed(),I.underlinePosition=M.parseShort(),I.underlineThickness=M.parseShort(),I.isFixedPitch=M.parseULong(),I.minMemType42=M.parseULong(),I.maxMemType42=M.parseULong(),I.minMemType1=M.parseULong(),I.maxMemType1=M.parseULong(),I.version){case 1:I.names=wt.slice();break;case 2:I.numberOfGlyphs=M.parseUShort(),I.glyphNameIndex=new Array(I.numberOfGlyphs);for(var J=0;J<I.numberOfGlyphs;J++)I.glyphNameIndex[J]=M.parseUShort();I.names=[];for(var X,le=0;le<I.numberOfGlyphs;le++)I.glyphNameIndex[le]>=wt.length&&(X=M.parseChar(),I.names.push(M.parseString(X)));break;case 2.5:I.numberOfGlyphs=M.parseUShort(),I.offset=new Array(I.numberOfGlyphs);for(var ke=0;ke<I.numberOfGlyphs;ke++)I.offset[ke]=M.parseChar()}return I},mr_make=function(){return new Rt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},yr=new Array(9),st=(yr[1]=function(){var x=this.offset+this.relativeOffset,B=this.parseUShort();return 1===B?{substFormat:1,coverage:this.parsePointer(lt.coverage),deltaGlyphId:this.parseUShort()}:2===B?{substFormat:2,coverage:this.parsePointer(lt.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+x.toString(16)+": lookup type 1 format must be 1 or 2.")},yr[2]=function(){var x=this.parseUShort();return L.argument(1===x,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(lt.coverage),sequences:this.parseListOfLists()}},yr[3]=function(){var x=this.parseUShort();return L.argument(1===x,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(lt.coverage),alternateSets:this.parseListOfLists()}},yr[4]=function(){var x=this.parseUShort();return L.argument(1===x,"GSUB ligature table identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(lt.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:lt.uShort,lookupListIndex:lt.uShort});yr[5]=function(){var x,B,I=this.offset+this.relativeOffset,M=this.parseUShort();return 1===M?{substFormat:M,coverage:this.parsePointer(lt.coverage),ruleSets:this.parseListOfLists(function(){var J=this.parseUShort(),X=this.parseUShort();return{input:this.parseUShortList(J-1),lookupRecords:this.parseRecordList(X,st)}})}:2===M?{substFormat:M,coverage:this.parsePointer(lt.coverage),classDef:this.parsePointer(lt.classDef),classSets:this.parseListOfLists(function(){var J=this.parseUShort(),X=this.parseUShort();return{classes:this.parseUShortList(J-1),lookupRecords:this.parseRecordList(X,st)}})}:3===M?(x=this.parseUShort(),B=this.parseUShort(),{substFormat:M,coverages:this.parseList(x,lt.pointer(lt.coverage)),lookupRecords:this.parseRecordList(B,st)}):void L.assert(!1,"0x"+I.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},yr[6]=function(){var x=this.offset+this.relativeOffset,B=this.parseUShort();return 1===B?{substFormat:1,coverage:this.parsePointer(lt.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(st)}})}:2===B?{substFormat:2,coverage:this.parsePointer(lt.coverage),backtrackClassDef:this.parsePointer(lt.classDef),inputClassDef:this.parsePointer(lt.classDef),lookaheadClassDef:this.parsePointer(lt.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(st)}})}:3===B?{substFormat:3,backtrackCoverage:this.parseList(lt.pointer(lt.coverage)),inputCoverage:this.parseList(lt.pointer(lt.coverage)),lookaheadCoverage:this.parseList(lt.pointer(lt.coverage)),lookupRecords:this.parseRecordList(st)}:void L.assert(!1,"0x"+x.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},yr[7]=function(){var x=this.parseUShort(),B=(L.argument(1===x,"GSUB Extension Substitution subtable identifier-format must be 1"),x=this.parseUShort(),new lt(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:x,extension:yr[x].call(B)}},yr[8]=function(){var x=this.parseUShort();return L.argument(1===x,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(lt.coverage),backtrackCoverage:this.parseList(lt.pointer(lt.coverage)),lookaheadCoverage:this.parseList(lt.pointer(lt.coverage)),substitutes:this.parseUShortList()}};var ft=new Array(9);ft[1]=function(x){return new Rt.Table("substitutionTable",1===x.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Rt.Coverage(x.coverage)},{name:"deltaGlyphID",type:"USHORT",value:x.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Rt.Coverage(x.coverage)}].concat(Rt.ushortList("substitute",x.substitute)))},ft[3]=function(x){return L.assert(1===x.substFormat,"Lookup type 3 substFormat must be 1."),new Rt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Rt.Coverage(x.coverage)}].concat(Rt.tableList("altSet",x.alternateSets,function(B){return new Rt.Table("alternateSetTable",Rt.ushortList("alternate",B))})))},ft[4]=function(x){return L.assert(1===x.substFormat,"Lookup type 4 substFormat must be 1."),new Rt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Rt.Coverage(x.coverage)}].concat(Rt.tableList("ligSet",x.ligatureSets,function(B){return new Rt.Table("ligatureSetTable",Rt.tableList("ligature",B,function(I){return new Rt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:I.ligGlyph}].concat(Rt.ushortList("component",I.components,I.components.length+1)))}))})))};var $e_parse=function(x,B){return B=(x=new lt(x,B=B||0)).parseVersion(1),L.argument(1===B||1.1===B,"Unsupported GSUB table version."),1===B?{version:B,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(yr)}:{version:B,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(yr),variations:x.parseFeatureVariationsList()}},$e_make=function(x){return new Rt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Rt.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new Rt.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new Rt.LookupList(x.lookups,ft)}])},at_parse=function(x,B){for(var I=new _t.Parser(x,B),M=I.parseULong(),J=(L.argument(1===M,"Unsupported META table version."),I.parseULong(),I.parseULong(),I.parseULong()),X={},le=0;le<J;le++){var ke=I.parseTag(),rt=I.parseULong(),Xe=I.parseULong();rt=re.UTF8(x,B+rt,Xe),X[ke]=rt}return X},at_make=function(x){var B,I=Object.keys(x).length,M="",J=16+12*I,X=new Rt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:J},{name:"numTags",type:"ULONG",value:I}]);for(B in x){var le=M.length;M+=x[B],X.fields.push({name:"tag "+B,type:"TAG",value:B}),X.fields.push({name:"offset "+B,type:"ULONG",value:J+le}),X.fields.push({name:"length "+B,type:"ULONG",value:x[B].length})}return X.fields.push({name:"stringPool",type:"CHARARRAY",value:M}),X};function $t(x){return Math.log(x)/Math.log(2)|0}function un(x){for(;x.length%4!=0;)x.push(0);for(var B=0,I=0;I<x.length;I+=4)B+=(x[I]<<24)+(x[I+1]<<16)+(x[I+2]<<8)+x[I+3];return B%Math.pow(2,32)}function An(x,B,I,M){return new Rt.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==x?x:""},{name:"checkSum",type:"ULONG",value:void 0!==B?B:0},{name:"offset",type:"ULONG",value:void 0!==I?I:0},{name:"length",type:"ULONG",value:void 0!==M?M:0}])}function At(x){for(var B=new Rt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),I=(B.tables=x,B.numTables=x.length,Math.pow(2,$t(B.numTables))),M=(B.searchRange=16*I,B.entrySelector=$t(I),B.rangeShift=16*B.numTables-B.searchRange,[]),J=[],X=B.sizeOf()+An().sizeOf()*B.numTables;X%4!=0;)X+=1,J.push({name:"padding",type:"BYTE",value:0});for(var le=0;le<x.length;le+=1){var ke=x[le],Xe=(L.argument(4===ke.tableName.length,"Table name"+ke.tableName+" is invalid."),ke.sizeOf()),rt=An(ke.tableName,un(ke.encode()),X,Xe);for(M.push({name:rt.tag+" Table Record",type:"RECORD",value:rt}),J.push({name:ke.tableName+" table",type:"RECORD",value:ke}),X+=Xe,L.argument(!isNaN(X),"Something went wrong calculating the offset.");X%4!=0;)X+=1,J.push({name:"padding",type:"BYTE",value:0})}return M.sort(function(Tt,qt){return Tt.value.tag>qt.value.tag?1:-1}),B.fields=B.fields.concat(M),B.fields=B.fields.concat(J),B}function je(x,B,I){for(var M=0;M<B.length;M+=1){var J=x.charToGlyphIndex(B[M]);if(0<J)return x.glyphs.get(J).getMetrics()}return I}var He_fontToTable=function(x){for(var B,I=[],M=[],J=[],X=[],le=[],ke=[],Xe=[],rt=0,Tt=0,qt=0,Bt=0,gt=0,mn=0;mn<x.glyphs.length;mn+=1){var tn=x.glyphs.get(mn),sn=0|tn.unicode;if(isNaN(tn.advanceWidth))throw new Error("Glyph "+tn.name+" ("+mn+"): advanceWidth is not a number.");if((sn<B||void 0===B)&&0<sn&&(B=sn),rt<sn&&(rt=sn),(sn=Wn_getUnicodeRange(sn))<32)Tt|=1<<sn;else if(sn<64)qt|=1<<sn-32;else if(sn<96)Bt|=1<<sn-64;else{if(!(sn<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");gt|=1<<sn-96}".notdef"!==tn.name&&(sn=tn.getMetrics(),I.push(sn.xMin),M.push(sn.yMin),J.push(sn.xMax),X.push(sn.yMax),ke.push(sn.leftSideBearing),Xe.push(sn.rightSideBearing),le.push(tn.advanceWidth))}var Jt,Xt={xMin:Math.min.apply(null,I),yMin:Math.min.apply(null,M),xMax:Math.max.apply(null,J),yMax:Math.max.apply(null,X),advanceWidthMax:Math.max.apply(null,le),advanceWidthAvg:function(no){for(var Jo=0,ci=0;ci<no.length;ci+=1)Jo+=no[ci];return Jo/no.length}(le),minLeftSideBearing:Math.min.apply(null,ke),maxLeftSideBearing:Math.max.apply(null,ke),minRightSideBearing:Math.min.apply(null,Xe)},Bn=(Xt.ascender=x.ascender,Xt.descender=x.descender,Hn_make({flags:3,unitsPerEm:x.unitsPerEm,xMin:Xt.xMin,yMin:Xt.yMin,xMax:Xt.xMax,yMax:Xt.yMax,lowestRecPPEM:3,createdTimestamp:x.createdTimestamp})),Gn=G_make({ascender:Xt.ascender,descender:Xt.descender,advanceWidthMax:Xt.advanceWidthMax,minLeftSideBearing:Xt.minLeftSideBearing,minRightSideBearing:Xt.minRightSideBearing,xMaxExtent:Xt.maxLeftSideBearing+(Xt.xMax-Xt.xMin),numberOfHMetrics:x.glyphs.length}),$n=P_make(x.glyphs.length),Un=Wn_make({xAvgCharWidth:Math.round(Xt.advanceWidthAvg),usWeightClass:x.tables.os2.usWeightClass,usWidthClass:x.tables.os2.usWidthClass,usFirstCharIndex:B,usLastCharIndex:rt,ulUnicodeRange1:Tt,ulUnicodeRange2:qt,ulUnicodeRange3:Bt,ulUnicodeRange4:gt,fsSelection:x.tables.os2.fsSelection,sTypoAscender:Xt.ascender,sTypoDescender:Xt.descender,sTypoLineGap:0,usWinAscent:Xt.yMax,usWinDescent:Math.abs(Xt.yMin),ulCodePageRange1:1,sxHeight:je(x,"xyvw",{yMax:Math.round(Xt.ascender/2)}).yMax,sCapHeight:je(x,"HIKLEFJMNTZBDPRAGOQSUVWXY",Xt).yMax,usDefaultChar:x.hasChar(" ")?32:0,usBreakChar:x.hasChar(" ")?32:0}),Qn=me_make(x.glyphs),er=Pe_make(x.glyphs),xr=(Mr=x.getEnglishName("fontFamily"))+" "+(gr=x.getEnglishName("fontSubfamily")),Ur=(Ur=x.getEnglishName("postScriptName"))||Mr.replace(/\s/g,"")+"-"+gr,Kr={};for(Jt in x.names)Kr[Jt]=x.names[Jt];Kr.uniqueID||(Kr.uniqueID={en:x.getEnglishName("manufacturer")+":"+xr}),Kr.postScriptName||(Kr.postScriptName={en:Ur}),Kr.preferredFamily||(Kr.preferredFamily=x.names.fontFamily),Kr.preferredSubfamily||(Kr.preferredSubfamily=x.names.fontSubfamily);var Qr=En_make(Kr,Jr=[]),Jr=0<Jr.length?Se_make(Jr):void 0,fo=mr_make(),Mr=(xr=Pn_make(x.glyphs,{version:x.getEnglishName("version"),fullName:xr,familyName:Mr,weightName:gr,postScriptName:Ur,unitsPerEm:x.unitsPerEm,fontBBox:[0,Xt.yMin,Xt.ascender,Xt.advanceWidthMax]}),x.metas&&0<Object.keys(x.metas).length?at_make(x.metas):void 0),gr=[Bn,Gn,$n,Un,Qr,er,fo,xr,Qn];Jr&&gr.push(Jr),x.tables.gsub&&gr.push($e_make(x.tables.gsub)),Mr&&gr.push(Mr);for(var kr=un((Ur=At(gr)).encode()),Nn=Ur.fields,to=!1,Nr=0;Nr<Nn.length;Nr+=1)if("head table"===Nn[Nr].name){Nn[Nr].value.checkSumAdjustment=2981146554-kr,to=!0;break}if(to)return Ur;throw new Error("Could not find head table with checkSum to adjust.")};function Mt(x,B){for(var I=0,M=x.length-1;I<=M;){var J=I+M>>>1,X=x[J].tag;if(X===B)return J;X<B?I=1+J:M=J-1}return-I-1}function kt(x,B){for(var I=0,M=x.length-1;I<=M;){var J=I+M>>>1,X=x[J];if(X===B)return J;X<B?I=1+J:M=J-1}return-I-1}function Wt(x,B){for(var I=0,M=x.length-1;I<=M;){var J,X=I+M>>>1,le=(J=x[X]).start;if(le===B)return J;le<B?I=1+X:M=X-1}if(0<I)return B>(J=x[I-1]).end?0:J}function ie(x,B){this.font=x,this.tableName=B}function Re(x){ie.call(this,x,"gpos")}function ve(x){ie.call(this,x,"gsub")}function Ve(x,B,I){for(var M=x.subtables,J=0;J<M.length;J++){var X=M[J];if(X.substFormat===B)return X}if(I)return M.push(I),I}function pt(x){for(var B=new ArrayBuffer(x.length),I=new Uint8Array(B),M=0;M<x.length;++M)I[M]=x[M];return B}function Kt(x,B){if(!x)throw B}function Dn(x,B,I,M,J){var X=0<(B&M)?(X=x.parseByte(),I+(X=B&J?X:-X)):0<(B&J)?I:I+x.parseShort();return X}function On(x,B,I){var M,J=new _t.Parser(B,I);if(x.numberOfContours=J.parseShort(),x._xMin=J.parseShort(),x._yMin=J.parseShort(),x._xMax=J.parseShort(),x._yMax=J.parseShort(),0<x.numberOfContours){for(var X=x.endPointIndices=[],le=0;le<x.numberOfContours;le+=1)X.push(J.parseUShort());x.instructionLength=J.parseUShort(),x.instructions=[];for(var ke=0;ke<x.instructionLength;ke+=1)x.instructions.push(J.parseByte());for(var Xe=X[X.length-1]+1,rt=[],Tt=0;Tt<Xe;Tt+=1)if(M=J.parseByte(),rt.push(M),0<(8&M))for(var qt=J.parseByte(),Bt=0;Bt<qt;Bt+=1)rt.push(M),Tt+=1;if(L.argument(rt.length===Xe,"Bad flags."),0<X.length){var gt,mn=[];if(0<Xe){for(var tn=0;tn<Xe;tn+=1)(gt={}).onCurve=!!(1&(M=rt[tn])),gt.lastPointOfContour=0<=X.indexOf(tn),mn.push(gt);for(var sn=0,Jt=0;Jt<Xe;Jt+=1)(gt=mn[Jt]).x=Dn(J,M=rt[Jt],sn,2,16),sn=gt.x;for(var Xt=0,Bn=0;Bn<Xe;Bn+=1)(gt=mn[Bn]).y=Dn(J,M=rt[Bn],Xt,4,32),Xt=gt.y}x.points=mn}else x.points=[]}else if(0===x.numberOfContours)x.points=[];else{x.isComposite=!0,x.points=[],x.components=[];for(var Gn=!0;Gn;){rt=J.parseUShort();var $n={glyphIndex:J.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&rt)?0<(2&rt)?($n.dx=J.parseShort(),$n.dy=J.parseShort()):$n.matchedPoints=[J.parseUShort(),J.parseUShort()]:0<(2&rt)?($n.dx=J.parseChar(),$n.dy=J.parseChar()):$n.matchedPoints=[J.parseByte(),J.parseByte()],0<(8&rt)?$n.xScale=$n.yScale=J.parseF2Dot14():0<(64&rt)?($n.xScale=J.parseF2Dot14(),$n.yScale=J.parseF2Dot14()):0<(128&rt)&&($n.xScale=J.parseF2Dot14(),$n.scale01=J.parseF2Dot14(),$n.scale10=J.parseF2Dot14(),$n.yScale=J.parseF2Dot14()),x.components.push($n),Gn=!!(32&rt)}if(256&rt){x.instructionLength=J.parseUShort(),x.instructions=[];for(var Un=0;Un<x.instructionLength;Un+=1)x.instructions.push(J.parseByte())}}}function zn(x,B){for(var I=[],M=0;M<x.length;M+=1){var J;I.push(J={x:B.xScale*(J=x[M]).x+B.scale01*J.y+B.dx,y:B.scale10*J.x+B.yScale*J.y+B.dy,onCurve:J.onCurve,lastPointOfContour:J.lastPointOfContour})}return I}function Xn(x){var B=new de;if(x)for(var I=function(qt){for(var Bt=[],gt=[],mn=0;mn<qt.length;mn+=1){var tn=qt[mn];gt.push(tn),tn.lastPointOfContour&&(Bt.push(gt),gt=[])}return L.argument(0===gt.length,"There are still points left in the current contour."),Bt}(x),M=0;M<I.length;++M){var J,X=I[M],ke=X[0];(le=X[X.length-1]).onCurve?B.moveTo(le.x,le.y):ke.onCurve?B.moveTo(ke.x,ke.y):B.moveTo((J={x:.5*(le.x+ke.x),y:.5*(le.y+ke.y)}).x,J.y);for(var Xe=0;Xe<X.length;++Xe){var rt,le=ke;ke=X[(Xe+1)%X.length],le.onCurve?B.lineTo(le.x,le.y):(rt=ke,ke.onCurve||(rt={x:.5*(le.x+ke.x),y:.5*(le.y+ke.y)}),B.quadraticCurveTo(le.x,le.y,rt.x,rt.y))}B.closePath()}return B}function jr(x,B){if(B.isComposite)for(var I=0;I<B.components.length;I+=1){var J=x.get((M=B.components[I]).glyphIndex);if(J.getPath(),J.points){var X=void 0;if(void 0===M.matchedPoints)X=zn(J.points,M);else{if(M.matchedPoints[0]>B.points.length-1||M.matchedPoints[1]>J.points.length-1)throw Error("Matched points out of range in "+B.name);var M,le=B.points[M.matchedPoints[0]],ke=zn([ke=J.points[M.matchedPoints[1]]],M={xScale:M.xScale,scale01:M.scale01,scale10:M.scale10,yScale:M.yScale,dx:0,dy:0})[0];M.dx=le.x-ke.x,M.dy=le.y-ke.y,X=zn(J.points,M)}B.points=B.points.concat(X)}}return Xn(B.points)}(Re.prototype=ie.prototype={searchTag:Mt,binSearch:kt,getTable:function(x){var B=this.font.tables[this.tableName];return!B&&x?this.font.tables[this.tableName]=this.createDefaultTable():B},getScriptNames:function(){var x=this.getTable();return x?x.scripts.map(function(B){return B.tag}):[]},getDefaultScriptName:function(){var x=this.getTable();if(x){for(var B=!1,I=0;I<x.scripts.length;I++){var M=x.scripts[I].tag;if("DFLT"===M)return M;"latn"===M&&(B=!0)}return B?"latn":void 0}},getScriptTable:function(x,B){var I,M=this.getTable(B);if(M)return I=M.scripts,0<=(M=Mt(M.scripts,x=x||"DFLT"))?I[M].script:B?(I.splice(-1-M,0,B={tag:x,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),B.script):void 0},getLangSysTable:function(J,B,I){var M;if(J=this.getScriptTable(J,I))return B&&"dflt"!==B&&"DFLT"!==B?0<=(M=Mt(J.langSysRecords,B))?J.langSysRecords[M].langSys:I?(J.langSysRecords.splice(-1-M,0,I={tag:B,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),I.langSys):void 0:J.defaultLangSys},getFeatureTable:function(x,B,I,M){if(x=this.getLangSysTable(x,B,M)){for(var J,X=x.featureIndexes,le=this.font.tables[this.tableName].features,ke=0;ke<X.length;ke++)if((J=le[X[ke]]).tag===I)return J.feature;if(M)return L.assert(0===(B=le.length)||I>=le[B-1].tag,"Features must be added in alphabetical order."),le.push(J={tag:I,feature:{params:0,lookupListIndexes:[]}}),X.push(B),J.feature}},getLookupTables:function(X,B,I,M,J){var le=[];if(X=this.getFeatureTable(X,B,I,J)){for(var ke,Xe=X.lookupListIndexes,rt=this.font.tables[this.tableName].lookups,Tt=0;Tt<Xe.length;Tt++)(ke=rt[Xe[Tt]]).lookupType===M&&le.push(ke);if(0===le.length&&J)return B=rt.length,rt.push(ke={lookupType:M,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Xe.push(B),[ke]}return le},getGlyphClass:function(x,B){switch(x.format){case 1:return x.startGlyph<=B&&B<x.startGlyph+x.classes.length?x.classes[B-x.startGlyph]:0;case 2:var I=Wt(x.ranges,B);return I?I.classId:0}},getCoverageIndex:function(x,B){switch(x.format){case 1:var I=kt(x.glyphs,B);return 0<=I?I:-1;case 2:return(I=Wt(x.ranges,B))?I.index+B-I.start:-1}},expandCoverage:function(x){if(1===x.format)return x.glyphs;for(var B=[],I=x.ranges,M=0;M<I.length;M++)for(var J=I[M],le=J.end,ke=J.start;ke<=le;ke++)B.push(ke);return B}}).init=function(){var x=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(x)},Re.prototype.getKerningValue=function(x,B,I){for(var M=0;M<x.length;M++)for(var J=x[M].subtables,X=0;X<J.length;X++){var le=J[X],ke=this.getCoverageIndex(le.coverage,B);if(!(ke<0))switch(le.posFormat){case 1:for(var Xe=le.pairSets[ke],rt=0;rt<Xe.length;rt++){var Tt=Xe[rt];if(Tt.secondGlyph===I)return Tt.value1&&Tt.value1.xAdvance||0}break;case 2:var Bt=this.getGlyphClass(le.classDef1,B),qt=this.getGlyphClass(le.classDef2,I);return(Bt=le.classRecords[Bt][qt]).value1&&Bt.value1.xAdvance||0}}return 0},Re.prototype.getKerningTables=function(x,B){if(this.font.tables.gpos)return this.getLookupTables(x,B,"kern",2)},(ve.prototype=ie.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ve.prototype.getSingle=function(x,B,I){for(var M=[],J=this.getLookupTables(B,I,x,1),X=0;X<J.length;X++)for(var le=J[X].subtables,ke=0;ke<le.length;ke++){var Xe=le[ke],rt=this.expandCoverage(Xe.coverage),Tt=void 0;if(1===Xe.substFormat){var qt=Xe.deltaGlyphId;for(Tt=0;Tt<rt.length;Tt++){var Bt=rt[Tt];M.push({sub:Bt,by:Bt+qt})}}else{var gt=Xe.substitute;for(Tt=0;Tt<rt.length;Tt++)M.push({sub:rt[Tt],by:gt[Tt]})}}return M},ve.prototype.getAlternates=function(x,B,I){for(var M=[],J=this.getLookupTables(B,I,x,3),X=0;X<J.length;X++)for(var le=J[X].subtables,ke=0;ke<le.length;ke++)for(var Xe=le[ke],rt=this.expandCoverage(Xe.coverage),Tt=Xe.alternateSets,qt=0;qt<rt.length;qt++)M.push({sub:rt[qt],by:Tt[qt]});return M},ve.prototype.getLigatures=function(x,B,I){for(var M=[],J=this.getLookupTables(B,I,x,4),X=0;X<J.length;X++)for(var le=J[X].subtables,ke=0;ke<le.length;ke++)for(var Xe=le[ke],rt=this.expandCoverage(Xe.coverage),Tt=Xe.ligatureSets,qt=0;qt<rt.length;qt++)for(var Bt=rt[qt],gt=Tt[qt],mn=0;mn<gt.length;mn++){var tn=gt[mn];M.push({sub:[Bt].concat(tn.components),by:tn.ligGlyph})}return M},ve.prototype.addSingle=function(x,B,I,M){I=Ve(this.getLookupTables(I,M,x,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(1===I.coverage.format,"Ligature: unable to modify coverage table format "+I.coverage.format),(x=this.binSearch(I.coverage.glyphs,M=B.sub))<0&&(I.coverage.glyphs.splice(x=-1-x,0,M),I.substitute.splice(x,0,0)),I.substitute[x]=B.by},ve.prototype.addAlternate=function(x,B,I,M){I=Ve(this.getLookupTables(I,M,x,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(1===I.coverage.format,"Ligature: unable to modify coverage table format "+I.coverage.format),(x=this.binSearch(I.coverage.glyphs,M=B.sub))<0&&(I.coverage.glyphs.splice(x=-1-x,0,M),I.alternateSets.splice(x,0,0)),I.alternateSets[x]=B.by},ve.prototype.addLigature=function(X,Xe,ke,J){(J=(ke=this.getLookupTables(ke,J,X,4,!0)[0]).subtables[0])||(ke.subtables[0]=J={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(1===J.coverage.format,"Ligature: unable to modify coverage table format "+J.coverage.format),X=Xe.sub[0];var le=Xe.sub.slice(1);if(ke={ligGlyph:Xe.by,components:le},0<=(Xe=this.binSearch(J.coverage.glyphs,X))){for(var rt=J.ligatureSets[Xe],Tt=0;Tt<rt.length;Tt++)if(function(qt,Bt){var gt=qt.length;if(gt===Bt.length){for(var mn=0;mn<gt;mn++)if(qt[mn]!==Bt[mn])return;return 1}}(rt[Tt].components,le))return;rt.push(ke)}else J.coverage.glyphs.splice(Xe=-1-Xe,0,X),J.ligatureSets.splice(Xe,0,[ke])},ve.prototype.getFeature=function(x,B,I){if(/ss\d\d/.test(x))return this.getSingle(x,B,I);switch(x){case"aalt":case"salt":return this.getSingle(x,B,I).concat(this.getAlternates(x,B,I));case"dlig":case"liga":case"rlig":return this.getLigatures(x,B,I)}},ve.prototype.add=function(x,B,I,M){if(/ss\d\d/.test(x))return this.addSingle(x,B,I,M);switch(x){case"aalt":case"salt":return"number"==typeof B.by?this.addSingle(x,B,I,M):this.addAlternate(x,B,I,M);case"dlig":case"liga":case"rlig":return this.addLigature(x,B,I,M)}};var Ar={getPath:Xn,parse:function(x,B,I,M){for(var J=new ze.GlyphSet(M),X=0;X<I.length-1;X+=1){var le=I[X];J.push(X,le!==I[X+1]?ze.ttfGlyphLoader(M,X,On,x,B+le,jr):ze.glyphLoader(M,X))}return J}};function Rr(x){this.font=x,this.getCommands=function(B){return Ar.getPath(B).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Bo(x){return x}function Br(x){return Math.sign(x)*Math.round(Math.abs(x))}function hr(x){return Math.sign(x)*Math.round(Math.abs(2*x))/2}function Tn(x){return Math.sign(x)*(Math.round(Math.abs(x)+.5)-.5)}function Fn(x){return Math.sign(x)*Math.ceil(Math.abs(x))}function dr(x){return Math.sign(x)*Math.floor(Math.abs(x))}function Yr(x){var B=this.srPeriod,I=this.srPhase,M=1;return x<0&&(x=-x,M=-1),x+=this.srThreshold-I,x=Math.trunc(x/B)*B,(x+=I)<0?I*M:x*M}var Er={x:1,y:0,axis:"x",distance:function(x,B,I,M){return(I?x.xo:x.x)-(M?B.xo:B.x)},interpolate:function(x,B,I,M){var J,X,le,ke,Xe,rt,Tt;if(!M||M===this)return J=x.xo-B.xo,X=x.xo-I.xo,Xe=B.x-B.xo,rt=I.x-I.xo,0===(Tt=(le=Math.abs(J))+(ke=Math.abs(X)))?void(x.x=x.xo+(Xe+rt)/2):void(x.x=x.xo+(Xe*ke+rt*le)/Tt);J=M.distance(x,B,!0,!0),X=M.distance(x,I,!0,!0),Xe=M.distance(B,B,!1,!0),rt=M.distance(I,I,!1,!0),0===(Tt=(le=Math.abs(J))+(ke=Math.abs(X)))?Er.setRelative(x,x,(Xe+rt)/2,M,!0):Er.setRelative(x,x,(Xe*ke+rt*le)/Tt,M,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(x,B,I,M,J){var X,le;M&&M!==this?(X=J?B.xo:B.x,le=J?B.yo:B.y,x.x=(X+=I*M.x)+(x.y-(le+=I*M.y))/M.normalSlope):x.x=(J?B.xo:B.x)+I},slope:0,touch:function(x){x.xTouched=!0},touched:function(x){return x.xTouched},untouch:function(x){x.xTouched=!1}},Lr={x:0,y:1,axis:"y",distance:function(x,B,I,M){return(I?x.yo:x.y)-(M?B.yo:B.y)},interpolate:function(x,B,I,M){var J,X,le,ke,Xe,rt,Tt;if(!M||M===this)return J=x.yo-B.yo,X=x.yo-I.yo,Xe=B.y-B.yo,rt=I.y-I.yo,0===(Tt=(le=Math.abs(J))+(ke=Math.abs(X)))?void(x.y=x.yo+(Xe+rt)/2):void(x.y=x.yo+(Xe*ke+rt*le)/Tt);J=M.distance(x,B,!0,!0),X=M.distance(x,I,!0,!0),Xe=M.distance(B,B,!1,!0),rt=M.distance(I,I,!1,!0),0===(Tt=(le=Math.abs(J))+(ke=Math.abs(X)))?Lr.setRelative(x,x,(Xe+rt)/2,M,!0):Lr.setRelative(x,x,(Xe*ke+rt*le)/Tt,M,!0)},normalSlope:0,setRelative:function(x,B,I,M,J){var X,le;M&&M!==this?(X=J?B.xo:B.x,le=J?B.yo:B.y,x.y=(le+=I*M.y)+M.normalSlope*(x.x-(X+=I*M.x))):x.y=(J?B.yo:B.y)+I},slope:Number.POSITIVE_INFINITY,touch:function(x){x.yTouched=!0},touched:function(x){return x.yTouched},untouch:function(x){x.yTouched=!1}};function uo(x,B){this.x=x,this.y=B,this.axis=void 0,this.slope=B/x,this.normalSlope=-x/B,Object.freeze(this)}function lr(x,B){var I=Math.sqrt(x*x+B*B);return B/=I,1==(x/=I)&&0===B?Er:0===x&&1===B?Lr:new uo(x,B)}function vr(x,B,I,M){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*B)/64,this.lastPointOfContour=I,this.onCurve=M,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Er),Object.freeze(Lr),uo.prototype.distance=function(x,B,I,M){return this.x*Er.distance(x,B,I,M)+this.y*Lr.distance(x,B,I,M)},uo.prototype.interpolate=function(x,J,X,M){var le=M.distance(x,J,!0,!0),ke=M.distance(x,X,!0,!0),Xe=(J=M.distance(J,J,!1,!0),X=M.distance(X,X,!1,!0),(le=Math.abs(le))+(ke=Math.abs(ke)));this.setRelative(x,x,0===Xe?(J+X)/2:(J*ke+X*le)/Xe,M,!0)},uo.prototype.setRelative=function(x,X,Xe,rt,ke){var le=ke?X.xo:X.x,Tt=(ke=ke?X.yo:X.y,X=le+Xe*(rt=rt||this).x,le=ke+Xe*rt.y,ke=rt.normalSlope,x.y);x.x=((Xe=this.slope)*(rt=x.x)-ke*X+le-Tt)/(Xe-ke),x.y=Xe*(x.x-rt)+Tt},uo.prototype.touch=function(x){x.xTouched=!0,x.yTouched=!0},vr.prototype.nextTouched=function(x){for(var B=this.nextPointOnContour;!x.touched(B)&&B!==this;)B=B.nextPointOnContour;return B},vr.prototype.prevTouched=function(x){for(var B=this.prevPointOnContour;!x.touched(B)&&B!==this;)B=B.prevPointOnContour;return B};var $r=Object.freeze(new vr(0,0)),qn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ro(x,B){switch(this.env=x,this.stack=[],this.prog=B,x){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Er,this.round=Br}}function zo(x){for(var B=x.tZone=new Array(x.gZone.length),I=0;I<B.length;I++)B[I]=new vr(0,0)}function Eo(x,B){var I,M=x.prog,J=x.ip,X=1;do{if(88===(I=M[++J]))X++;else if(89===I)X--;else if(64===I)J+=M[J+1]+1;else if(65===I)J+=2*M[J+1]+1;else if(176<=I&&I<=183)J+=I-176+1;else if(184<=I&&I<=191)J+=2*(I-184+1);else if(B&&1===X&&27===I)break}while(0<X);x.ip=J}function Dr(x,B){f.DEBUG&&console.log(B.step,"SVTCA["+x.axis+"]"),B.fv=B.pv=B.dpv=x}function So(x,B){f.DEBUG&&console.log(B.step,"SPVTCA["+x.axis+"]"),B.pv=B.dpv=x}function To(x,B){f.DEBUG&&console.log(B.step,"SFVTCA["+x.axis+"]"),B.fv=x}function ho(x,B){var I,M=(J=B.stack).pop(),J=J.pop(),X=B.z2[M],le=B.z1[J];f.DEBUG&&console.log("SPVTL["+x+"]",M,J),M=x?(I=X.y-le.y,le.x-X.x):(I=le.x-X.x,le.y-X.y),B.pv=B.dpv=lr(I,M)}function po(x,B){var I,M=(J=B.stack).pop(),J=J.pop(),X=B.z2[M],le=B.z1[J];f.DEBUG&&console.log("SFVTL["+x+"]",M,J),M=x?(I=X.y-le.y,le.x-X.x):(I=le.x-X.x,le.y-X.y),B.fv=lr(I,M)}function qo(x){f.DEBUG&&console.log(x.step,"POP[]"),x.stack.pop()}function Po(x,B){var I=B.stack.pop(),M=B.z0[I],J=B.fv,X=B.pv,le=(f.DEBUG&&console.log(B.step,"MDAP["+x+"]",I),X.distance(M,$r));x&&(le=B.round(le)),J.setRelative(M,$r,le,X),J.touch(M),B.rp0=B.rp1=I}function mo(x,B){var I,M,J,X=B.z2,le=X.length-2;f.DEBUG&&console.log(B.step,"IUP["+x.axis+"]");for(var ke=0;ke<le;ke++)x.touched(I=X[ke])||(M=I.prevTouched(x))!==I&&(M===(J=I.nextTouched(x))&&x.setRelative(I,I,x.distance(M,M,!1,!0),x,!0),x.interpolate(I,M,J,x))}function ko(x,B){for(var I=B.stack,J=(x?B.z0:B.z1)[x?B.rp1:B.rp2],X=B.fv,le=B.pv,ke=B.loop,Xe=B.z2;ke--;){var rt=I.pop(),Tt=Xe[rt],qt=le.distance(J,J,!1,!0);X.setRelative(Tt,Tt,qt,le),X.touch(Tt),f.DEBUG&&console.log(B.step,(1<B.loop?"loop "+(B.loop-ke)+": ":"")+"SHP["+(x?"rp1":"rp2")+"]",rt)}B.loop=1}function Yn(x,B){for(var M=(x?B.z0:B.z1)[x?B.rp1:B.rp2],J=B.fv,X=B.pv,le=B.stack.pop(),ke=B.z2[B.contours[le]],Xe=ke,rt=(f.DEBUG&&console.log(B.step,"SHC["+x+"]",le),X.distance(M,M,!1,!0));Xe!==M&&J.setRelative(Xe,Xe,rt,X),(Xe=Xe.nextPointOnContour)!==ke;);}function Uo(x,B){var I,M,J=(x?B.z0:B.z1)[J=x?B.rp1:B.rp2],X=B.fv,le=B.pv,ke=(ke=B.stack).pop();switch(f.DEBUG&&console.log(B.step,"SHZ["+x+"]",ke),ke){case 0:I=B.tZone;break;case 1:I=B.gZone;break;default:throw new Error("Invalid zone")}for(var Xe=le.distance(J,J,!1,!0),rt=I.length-2,Tt=0;Tt<rt;Tt++)X.setRelative(M=I[Tt],M,Xe,le)}function oo(x,B){var I=(M=B.stack).pop()/64,M=M.pop(),J=B.z1[M],le=B.fv;le.setRelative(J,B.z0[B.rp0],I,B.pv),le.touch(J),f.DEBUG&&console.log(B.step,"MSIRP["+x+"]",I,M),B.rp1=B.rp0,B.rp2=M,x&&(B.rp0=M)}function co(x,B){var ke=(I=B.stack).pop(),I=I.pop(),M=B.z0[I],J=B.fv,X=B.pv,le=B.cvt[ke];f.DEBUG&&console.log(B.step,"MIAP["+x+"]",ke,"(",le,")",I),ke=X.distance(M,$r),x&&(Math.abs(ke-le)<B.cvCutIn&&(ke=le),ke=B.round(ke)),J.setRelative(M,$r,ke,X),0===B.zp0&&(M.xo=M.x,M.yo=M.y),J.touch(M),B.rp0=B.rp1=I}function Ro(x,B){var I=B.stack,M=I.pop(),J=B.z2[M];f.DEBUG&&console.log(B.step,"GC["+x+"]",M),I.push(64*B.dpv.distance(J,$r,x,!1))}function Lo(x,B){var I=(M=B.stack).pop(),M=M.pop(),X=B.dpv.distance(X=B.z0[M],B.z1[I],x,x);f.DEBUG&&console.log(B.step,"MD["+x+"]",I,M,"->",X),B.stack.push(Math.round(64*X))}function br(x,B){var I=B.stack,M=I.pop(),J=B.fv,X=B.pv,le=B.ppem,ke=B.deltaBase+16*(x-1),Xe=B.deltaShift,rt=B.z0;f.DEBUG&&console.log(B.step,"DELTAP["+x+"]",M,I);for(var Tt=0;Tt<M;Tt++){var qt=I.pop(),Bt=I.pop();ke+((240&Bt)>>4)===le&&(0<=(Bt=(15&Bt)-8)&&Bt++,f.DEBUG&&console.log(B.step,"DELTAPFIX",qt,"by",Bt*Xe),J.setRelative(qt=rt[qt],qt,Bt*Xe,X))}}function Yo(x,B){var I=B.stack,M=I.pop();f.DEBUG&&console.log(B.step,"ROUND[]"),I.push(64*B.round(M/64))}function Vr(x,B){var I=B.stack,M=I.pop(),J=B.ppem,X=B.deltaBase+16*(x-1),le=B.deltaShift;f.DEBUG&&console.log(B.step,"DELTAC["+x+"]",M,I);for(var ke=0;ke<M;ke++){var Xe=I.pop(),rt=I.pop();X+((240&rt)>>4)===J&&(0<=(rt=(15&rt)-8)&&rt++,rt*=le,f.DEBUG&&console.log(B.step,"DELTACFIX",Xe,"by",rt),B.cvt[Xe]+=rt)}}function Hr(x,B){var I,M=(J=B.stack).pop(),J=J.pop(),X=B.z2[M],le=B.z1[J];f.DEBUG&&console.log(B.step,"SDPVTL["+x+"]",M,J),M=x?(I=X.y-le.y,le.x-X.x):(I=le.x-X.x,le.y-X.y),B.dpv=lr(I,M)}function xo(x,B){var I=B.stack,M=B.prog,J=B.ip;f.DEBUG&&console.log(B.step,"PUSHB["+x+"]");for(var X=0;X<x;X++)I.push(M[++J]);B.ip=J}function Xr(x,B){var I=B.ip,M=B.prog,J=B.stack;f.DEBUG&&console.log(B.ip,"PUSHW["+x+"]");for(var X=0;X<x;X++){var le=M[++I]<<8|M[++I];32768&le&&(le=-(1+(65535^le))),J.push(le)}B.ip=I}function Ln(x,B,I,M,J,X){var le,ke,Tt,rt=X.stack,Xe=x&&rt.pop(),qt=(rt=rt.pop(),X.z1[rt]),Bt=X.minDis,gt=X.fv,mn=X.dpv,tn=le=mn.distance(qt,Tt=X.z0[Tt=X.rp0],!0,!0),sn=0<=tn?1:-1;tn=Math.abs(tn),x&&(ke=X.cvt[Xe],M&&Math.abs(tn-ke)<X.cvCutIn&&(tn=ke)),I&&tn<Bt&&(tn=Bt),M&&(tn=X.round(tn)),gt.setRelative(qt,Tt,sn*tn,mn),gt.touch(qt),f.DEBUG&&console.log(X.step,(x?"MIRP[":"MDRP[")+(B?"M":"m")+(I?">":"_")+(M?"R":"_")+(0===J?"Gr":1===J?"Bl":2===J?"Wh":"")+"]",x?Xe+"("+X.cvt[Xe]+","+ke+")":"",rt,"(d =",le,"->",sn*tn,")"),X.rp1=X.rp0,X.rp2=rt,B&&(X.rp0=rt)}Rr.prototype.exec=function(x,B){if("number"!=typeof B)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var I=this.font,M=this._prepState;if(!M||M.ppem!==B){var J=this._fpgmState;if(!J){ro.prototype=qn,(J=this._fpgmState=new ro("fpgm",I.tables.fpgm)).funcs=[],J.font=I,f.DEBUG&&(console.log("---EXEC FPGM---"),J.step=-1);try{Go(J)}catch(rt){return console.log("Hinting error in FPGM:"+rt),void(this._errorState=3)}}ro.prototype=J,(M=this._prepState=new ro("prep",I.tables.prep)).ppem=B;var X=I.tables.cvt;if(X)for(var le=M.cvt=new Array(X.length),ke=B/I.unitsPerEm,Xe=0;Xe<X.length;Xe++)le[Xe]=X[Xe]*ke;else M.cvt=[];f.DEBUG&&(console.log("---EXEC PREP---"),M.step=-1);try{Go(M)}catch(rt){this._errorState<2&&console.log("Hinting error in PREP:"+rt),this._errorState=2}}if(!(1<this._errorState))try{return Do(x,M)}catch(rt){this._errorState<1&&(console.log("Hinting error:"+rt),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Do=function(x,B){var I=B.ppem/B.font.unitsPerEm,M=I,J=x.components;if(ro.prototype=B,J){for(var X=B.font,le=[],ke=[],Xe=0;Xe<J.length;Xe++){var rt=J[Xe],Tt=X.glyphs.get(rt.glyphIndex),qt=new ro("glyf",Tt.instructions);f.DEBUG&&(console.log("---EXEC COMP "+Xe+"---"),qt.step=-1),Xo(Tt,qt,I,M);for(var Bt=Math.round(rt.dx*I),gt=Math.round(rt.dy*M),mn=qt.gZone,tn=qt.contours,sn=0;sn<mn.length;sn++){var Jt=mn[sn];Jt.xTouched=Jt.yTouched=!1,Jt.xo=Jt.x=Jt.x+Bt,Jt.yo=Jt.y=Jt.y+gt}var Xt=le.length;le.push.apply(le,mn);for(var Bn=0;Bn<tn.length;Bn++)ke.push(tn[Bn]+Xt)}x.instructions&&!qt.inhibitGridFit&&((qt=new ro("glyf",x.instructions)).gZone=qt.z0=qt.z1=qt.z2=le,qt.contours=ke,le.push(new vr(0,0),new vr(Math.round(x.advanceWidth*I),0)),f.DEBUG&&(console.log("---EXEC COMPOSITE---"),qt.step=-1),Go(qt),le.length-=2)}else qt=new ro("glyf",x.instructions),f.DEBUG&&(console.log("---EXEC GLYPH---"),qt.step=-1),Xo(x,qt,I,M),le=qt.gZone;return le},Xo=function(x,B,I,M){for(var J,X,ke=x.points||[],Xe=ke.length,rt=B.gZone=B.z0=B.z1=B.z2=[],Tt=B.contours=[],qt=0;qt<Xe;qt++)rt[qt]=new vr((J=ke[qt]).x*I,J.y*M,J.lastPointOfContour,J.onCurve);for(var Bt=0;Bt<Xe;Bt++)J=rt[Bt],X||(X=J,Tt.push(Bt)),J.lastPointOfContour?((J.nextPointOnContour=X).prevPointOnContour=J,X=void 0):(J.nextPointOnContour=rt[Bt+1]).prevPointOnContour=J;if(!B.inhibitGridFit){if(f.DEBUG){console.log("PROCESSING GLYPH",B.stack);for(var gt=0;gt<Xe;gt++)console.log(gt,rt[gt].x,rt[gt].y)}if(rt.push(new vr(0,0),new vr(Math.round(x.advanceWidth*I),0)),Go(B),rt.length-=2,f.DEBUG){console.log("FINISHED GLYPH",B.stack);for(var mn=0;mn<Xe;mn++)console.log(mn,rt[mn].x,rt[mn].y)}}},Go=function(x){var B=x.prog;if(B){var I,M=B.length;for(x.ip=0;x.ip<M;x.ip++){if(f.DEBUG&&x.step++,!(I=li[B[x.ip]]))throw new Error("unknown instruction: 0x"+Number(B[x.ip]).toString(16));I(x)}}},li=[Dr.bind(void 0,Lr),Dr.bind(void 0,Er),So.bind(void 0,Lr),So.bind(void 0,Er),To.bind(void 0,Lr),To.bind(void 0,Er),ho.bind(void 0,0),ho.bind(void 0,1),po.bind(void 0,0),po.bind(void 0,1),function(x){var B=(I=x.stack).pop(),I=I.pop();f.DEBUG&&console.log(x.step,"SPVFS[]",B,I),x.pv=x.dpv=lr(I,B)},function(x){var B=(I=x.stack).pop(),I=I.pop();f.DEBUG&&console.log(x.step,"SPVFS[]",B,I),x.fv=lr(I,B)},function(x){var B=x.stack,I=x.pv;f.DEBUG&&console.log(x.step,"GPV[]"),B.push(16384*I.x),B.push(16384*I.y)},function(x){var B=x.stack,I=x.fv;f.DEBUG&&console.log(x.step,"GFV[]"),B.push(16384*I.x),B.push(16384*I.y)},function(x){x.fv=x.pv,f.DEBUG&&console.log(x.step,"SFVTPV[]")},function(B){var I=(le=B.stack).pop(),M=le.pop(),J=le.pop(),X=le.pop(),le=le.pop(),ke=(Xe=B.z0)[I],Xe=Xe[M],rt=(Tt=B.z1)[J],Tt=Tt[X],qt=(B=B.z2[le],f.DEBUG&&console.log("ISECT[], ",I,M,J,X,le),I=ke.x,M=ke.y,ke=rt.y,I*(X=Xe.y)-M*(J=Xe.x)),Bt=(le=rt.x)*(rt=Tt.y)-ke*(Xe=Tt.x);B.x=(qt*(le-Xe)-Bt*(I-J))/(Tt=(I-J)*(ke-rt)-(M-X)*(le-Xe)),B.y=(qt*(ke-rt)-Bt*(M-X))/Tt},function(x){x.rp0=x.stack.pop(),f.DEBUG&&console.log(x.step,"SRP0[]",x.rp0)},function(x){x.rp1=x.stack.pop(),f.DEBUG&&console.log(x.step,"SRP1[]",x.rp1)},function(x){x.rp2=x.stack.pop(),f.DEBUG&&console.log(x.step,"SRP2[]",x.rp2)},function(x){var B=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZP0[]",B),x.zp0=B){case 0:x.tZone||zo(x),x.z0=x.tZone;break;case 1:x.z0=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var B=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZP1[]",B),x.zp1=B){case 0:x.tZone||zo(x),x.z1=x.tZone;break;case 1:x.z1=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var B=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZP2[]",B),x.zp2=B){case 0:x.tZone||zo(x),x.z2=x.tZone;break;case 1:x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var B=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZPS[]",B),x.zp0=x.zp1=x.zp2=B){case 0:x.tZone||zo(x),x.z0=x.z1=x.z2=x.tZone;break;case 1:x.z0=x.z1=x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){x.loop=x.stack.pop(),f.DEBUG&&console.log(x.step,"SLOOP[]",x.loop)},function(x){f.DEBUG&&console.log(x.step,"RTG[]"),x.round=Br},function(x){f.DEBUG&&console.log(x.step,"RTHG[]"),x.round=Tn},function(x){var B=x.stack.pop();f.DEBUG&&console.log(x.step,"SMD[]",B),x.minDis=B/64},function(x){f.DEBUG&&console.log(x.step,"ELSE[]"),Eo(x,!1)},function(x){var B=x.stack.pop();f.DEBUG&&console.log(x.step,"JMPR[]",B),x.ip+=B-1},function(x){var B=x.stack.pop();f.DEBUG&&console.log(x.step,"SCVTCI[]",B),x.cvCutIn=B/64},void 0,void 0,function(x){var B=x.stack;f.DEBUG&&console.log(x.step,"DUP[]"),B.push(B[B.length-1])},qo,function(x){f.DEBUG&&console.log(x.step,"CLEAR[]"),x.stack.length=0},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"SWAP[]"),B.push(I),B.push(M)},function(x){var B=x.stack;f.DEBUG&&console.log(x.step,"DEPTH[]"),B.push(B.length)},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"CINDEX[]",I),B.push(B[B.length-I])},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"MINDEX[]",I),B.push(B.splice(B.length-I,1)[0])},void 0,void 0,void 0,function(x){var B=(M=x.stack).pop(),I=M.pop(),M=(f.DEBUG&&console.log(x.step,"LOOPCALL[]",B,I),x.ip),J=x.prog;x.prog=x.funcs[B];for(var X=0;X<I;X++)Go(x),f.DEBUG&&console.log(++x.step,X+1<I?"next loopcall":"done loopcall",X);x.ip=M,x.prog=J},function(x){var B=x.stack.pop(),I=(f.DEBUG&&console.log(x.step,"CALL[]",B),x.ip),M=x.prog;x.prog=x.funcs[B],Go(x),x.ip=I,x.prog=M,f.DEBUG&&console.log(++x.step,"returning from",B)},function(x){if("fpgm"!==x.env)throw new Error("FDEF not allowed here");var B=x.prog,I=x.ip,M=(M=x.stack).pop(),J=I;for(f.DEBUG&&console.log(x.step,"FDEF[]",M);45!==B[++I];);x.ip=I,x.funcs[M]=B.slice(J+1,I)},void 0,Po.bind(void 0,0),Po.bind(void 0,1),mo.bind(void 0,Lr),mo.bind(void 0,Er),ko.bind(void 0,0),ko.bind(void 0,1),Yn.bind(void 0,0),Yn.bind(void 0,1),Uo.bind(void 0,0),Uo.bind(void 0,1),function(x){for(var B=x.stack,I=x.loop,M=x.fv,J=B.pop()/64,X=x.z2;I--;){var le=B.pop(),ke=X[le];f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-I)+": ":"")+"SHPIX[]",le,J),M.setRelative(ke,ke,J),M.touch(ke)}x.loop=1},function(x){for(var B=x.stack,I=x.rp1,M=x.rp2,J=x.loop,X=x.z0[I],le=x.z1[M],ke=x.fv,Xe=x.dpv,rt=x.z2;J--;){var Tt=B.pop(),qt=rt[Tt];f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-J)+": ":"")+"IP[]",Tt,I,"<->",M),ke.interpolate(qt,X,le,Xe),ke.touch(qt)}x.loop=1},oo.bind(void 0,0),oo.bind(void 0,1),function(x){for(var B=x.stack,M=x.z0[x.rp0],J=x.loop,X=x.fv,le=x.pv,ke=x.z1;J--;){var Xe=B.pop(),rt=ke[Xe];f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-J)+": ":"")+"ALIGNRP[]",Xe),X.setRelative(rt,M,0,le),X.touch(rt)}x.loop=1},function(x){f.DEBUG&&console.log(x.step,"RTDG[]"),x.round=hr},co.bind(void 0,0),co.bind(void 0,1),function(x){var B=x.prog,I=x.ip,M=x.stack,J=B[++I];f.DEBUG&&console.log(x.step,"NPUSHB[]",J);for(var X=0;X<J;X++)M.push(B[++I]);x.ip=I},function(x){var B=x.ip,I=x.prog,M=x.stack,J=I[++B];f.DEBUG&&console.log(x.step,"NPUSHW[]",J);for(var X=0;X<J;X++){var le=I[++B]<<8|I[++B];32768&le&&(le=-(1+(65535^le))),M.push(le)}x.ip=B},function(x){var M=x.stack,B=(B=x.store)||(x.store=[]),I=M.pop();M=M.pop(),f.DEBUG&&console.log(x.step,"WS",I,M),B[M]=I},function(J){var B=J.stack,I=J.store,M=B.pop();f.DEBUG&&console.log(J.step,"RS",M),B.push(J=I&&I[M]||0)},function(x){var B=(I=x.stack).pop(),I=I.pop();f.DEBUG&&console.log(x.step,"WCVTP",B,I),x.cvt[I]=B/64},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"RCVT",I),B.push(64*x.cvt[I])},Ro.bind(void 0,0),Ro.bind(void 0,1),void 0,Lo.bind(void 0,0),Lo.bind(void 0,1),function(x){f.DEBUG&&console.log(x.step,"MPPEM[]"),x.stack.push(x.ppem)},void 0,function(x){f.DEBUG&&console.log(x.step,"FLIPON[]"),x.autoFlip=!0},void 0,void 0,function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"LT[]",I,M),B.push(M<I?1:0)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"LTEQ[]",I,M),B.push(M<=I?1:0)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"GT[]",I,M),B.push(I<M?1:0)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"GTEQ[]",I,M),B.push(I<=M?1:0)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"EQ[]",I,M),B.push(I===M?1:0)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"NEQ[]",I,M),B.push(I!==M?1:0)},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"ODD[]",I),B.push(Math.trunc(I)%2?1:0)},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"EVEN[]",I),B.push(Math.trunc(I)%2?0:1)},function(x){var B=x.stack.pop();f.DEBUG&&console.log(x.step,"IF[]",B),B||(Eo(x,!0),f.DEBUG&&console.log(x.step,"EIF[]"))},function(x){f.DEBUG&&console.log(x.step,"EIF[]")},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"AND[]",I,M),B.push(I&&M?1:0)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"OR[]",I,M),B.push(I||M?1:0)},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"NOT[]",I),B.push(I?0:1)},br.bind(void 0,1),function(x){var B=x.stack.pop();f.DEBUG&&console.log(x.step,"SDB[]",B),x.deltaBase=B},function(x){var B=x.stack.pop();f.DEBUG&&console.log(x.step,"SDS[]",B),x.deltaShift=Math.pow(.5,B)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"ADD[]",I,M),B.push(M+I)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"SUB[]",I,M),B.push(M-I)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"DIV[]",I,M),B.push(64*M/I)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"MUL[]",I,M),B.push(M*I/64)},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"ABS[]",I),B.push(Math.abs(I))},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"NEG[]",I),B.push(-I)},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"FLOOR[]",I),B.push(64*Math.floor(I/64))},function(x){var B=x.stack,I=B.pop();f.DEBUG&&console.log(x.step,"CEILING[]",I),B.push(64*Math.ceil(I/64))},Yo.bind(void 0,0),Yo.bind(void 0,1),Yo.bind(void 0,2),Yo.bind(void 0,3),void 0,void 0,void 0,void 0,function(x){var B=(I=x.stack).pop(),I=I.pop();f.DEBUG&&console.log(x.step,"WCVTF[]",B,I),x.cvt[I]=B*x.ppem/x.font.unitsPerEm},br.bind(void 0,2),br.bind(void 0,3),Vr.bind(void 0,1),Vr.bind(void 0,2),Vr.bind(void 0,3),function(x){var B,I=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SROUND[]",I),x.round=Yr,192&I){case 0:B=.5;break;case 64:B=1;break;case 128:B=2;break;default:throw new Error("invalid SROUND value")}switch(x.srPeriod=B,48&I){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*B;break;case 32:x.srPhase=.5*B;break;case 48:x.srPhase=.75*B;break;default:throw new Error("invalid SROUND value")}x.srThreshold=0==(I&=15)?0:(I/8-.5)*B},function(x){var B,I=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"S45ROUND[]",I),x.round=Yr,192&I){case 0:B=Math.sqrt(2)/2;break;case 64:B=Math.sqrt(2);break;case 128:B=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(x.srPeriod=B,48&I){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*B;break;case 32:x.srPhase=.5*B;break;case 48:x.srPhase=.75*B;break;default:throw new Error("invalid S45ROUND value")}x.srThreshold=0==(I&=15)?0:(I/8-.5)*B},void 0,void 0,function(x){f.DEBUG&&console.log(x.step,"ROFF[]"),x.round=Bo},void 0,function(x){f.DEBUG&&console.log(x.step,"RUTG[]"),x.round=Fn},function(x){f.DEBUG&&console.log(x.step,"RDTG[]"),x.round=dr},qo,qo,void 0,void 0,void 0,void 0,void 0,function(x){var B=x.stack.pop();f.DEBUG&&console.log(x.step,"SCANCTRL[]",B)},Hr.bind(void 0,0),Hr.bind(void 0,1),function(x){var B=x.stack,I=B.pop(),M=0;f.DEBUG&&console.log(x.step,"GETINFO[]",I),1&I&&(M=35),32&I&&(M|=4096),B.push(M)},void 0,function(x){var B=x.stack,I=B.pop(),M=B.pop(),J=B.pop();f.DEBUG&&console.log(x.step,"ROLL[]"),B.push(M),B.push(I),B.push(J)},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"MAX[]",I,M),B.push(Math.max(M,I))},function(x){var B=x.stack,I=B.pop(),M=B.pop();f.DEBUG&&console.log(x.step,"MIN[]",I,M),B.push(Math.min(M,I))},function(x){var B=x.stack.pop();f.DEBUG&&console.log(x.step,"SCANTYPE[]",B)},function(x){var B=x.stack.pop(),I=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"INSTCTRL[]",B,I),B){case 1:return void(x.inhibitGridFit=!!I);case 2:return void(x.ignoreCvt=!!I);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,xo.bind(void 0,1),xo.bind(void 0,2),xo.bind(void 0,3),xo.bind(void 0,4),xo.bind(void 0,5),xo.bind(void 0,6),xo.bind(void 0,7),xo.bind(void 0,8),Xr.bind(void 0,1),Xr.bind(void 0,2),Xr.bind(void 0,3),Xr.bind(void 0,4),Xr.bind(void 0,5),Xr.bind(void 0,6),Xr.bind(void 0,7),Xr.bind(void 0,8),Ln.bind(void 0,0,0,0,0,0),Ln.bind(void 0,0,0,0,0,1),Ln.bind(void 0,0,0,0,0,2),Ln.bind(void 0,0,0,0,0,3),Ln.bind(void 0,0,0,0,1,0),Ln.bind(void 0,0,0,0,1,1),Ln.bind(void 0,0,0,0,1,2),Ln.bind(void 0,0,0,0,1,3),Ln.bind(void 0,0,0,1,0,0),Ln.bind(void 0,0,0,1,0,1),Ln.bind(void 0,0,0,1,0,2),Ln.bind(void 0,0,0,1,0,3),Ln.bind(void 0,0,0,1,1,0),Ln.bind(void 0,0,0,1,1,1),Ln.bind(void 0,0,0,1,1,2),Ln.bind(void 0,0,0,1,1,3),Ln.bind(void 0,0,1,0,0,0),Ln.bind(void 0,0,1,0,0,1),Ln.bind(void 0,0,1,0,0,2),Ln.bind(void 0,0,1,0,0,3),Ln.bind(void 0,0,1,0,1,0),Ln.bind(void 0,0,1,0,1,1),Ln.bind(void 0,0,1,0,1,2),Ln.bind(void 0,0,1,0,1,3),Ln.bind(void 0,0,1,1,0,0),Ln.bind(void 0,0,1,1,0,1),Ln.bind(void 0,0,1,1,0,2),Ln.bind(void 0,0,1,1,0,3),Ln.bind(void 0,0,1,1,1,0),Ln.bind(void 0,0,1,1,1,1),Ln.bind(void 0,0,1,1,1,2),Ln.bind(void 0,0,1,1,1,3),Ln.bind(void 0,1,0,0,0,0),Ln.bind(void 0,1,0,0,0,1),Ln.bind(void 0,1,0,0,0,2),Ln.bind(void 0,1,0,0,0,3),Ln.bind(void 0,1,0,0,1,0),Ln.bind(void 0,1,0,0,1,1),Ln.bind(void 0,1,0,0,1,2),Ln.bind(void 0,1,0,0,1,3),Ln.bind(void 0,1,0,1,0,0),Ln.bind(void 0,1,0,1,0,1),Ln.bind(void 0,1,0,1,0,2),Ln.bind(void 0,1,0,1,0,3),Ln.bind(void 0,1,0,1,1,0),Ln.bind(void 0,1,0,1,1,1),Ln.bind(void 0,1,0,1,1,2),Ln.bind(void 0,1,0,1,1,3),Ln.bind(void 0,1,1,0,0,0),Ln.bind(void 0,1,1,0,0,1),Ln.bind(void 0,1,1,0,0,2),Ln.bind(void 0,1,1,0,0,3),Ln.bind(void 0,1,1,0,1,0),Ln.bind(void 0,1,1,0,1,1),Ln.bind(void 0,1,1,0,1,2),Ln.bind(void 0,1,1,0,1,3),Ln.bind(void 0,1,1,1,0,0),Ln.bind(void 0,1,1,1,0,1),Ln.bind(void 0,1,1,1,0,2),Ln.bind(void 0,1,1,1,0,3),Ln.bind(void 0,1,1,1,1,0),Ln.bind(void 0,1,1,1,1,1),Ln.bind(void 0,1,1,1,1,2),Ln.bind(void 0,1,1,1,1,3)],go=Array.from||function(x){return x.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function _r(x){(x=x||{}).empty||(Kt(x.familyName,"When creating a new Font object, familyName is required."),Kt(x.styleName,"When creating a new Font object, styleName is required."),Kt(x.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Kt(x.ascender,"When creating a new Font object, ascender is required."),Kt(x.descender,"When creating a new Font object, descender is required."),Kt(x.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:x.familyName||" "},fontSubfamily:{en:x.styleName||" "},fullName:{en:x.fullName||x.familyName+" "+x.styleName},postScriptName:{en:x.postScriptName||(x.familyName+x.styleName).replace(/\s/g,"")},designer:{en:x.designer||" "},designerURL:{en:x.designerURL||" "},manufacturer:{en:x.manufacturer||" "},manufacturerURL:{en:x.manufacturerURL||" "},license:{en:x.license||" "},licenseURL:{en:x.licenseURL||" "},version:{en:x.version||"Version 0.1"},description:{en:x.description||" "},copyright:{en:x.copyright||" "},trademark:{en:x.trademark||" "}},this.unitsPerEm=x.unitsPerEm||1e3,this.ascender=x.ascender,this.descender=x.descender,this.createdTimestamp=x.createdTimestamp,this.tables={os2:{usWeightClass:x.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:x.widthClass||this.usWidthClasses.MEDIUM,fsSelection:x.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ze.GlyphSet(this,x.glyphs||[]),this.encoding=new Dt(this),this.position=new Re(this),this.substitution=new ve(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Rr(this):void 0)}})}_r.prototype.hasChar=function(x){return null!==this.encoding.charToGlyphIndex(x)},_r.prototype.charToGlyphIndex=function(x){return this.encoding.charToGlyphIndex(x)},_r.prototype.charToGlyph=function(x){return x=this.charToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},_r.prototype.stringToGlyphs=function(x,B){B=B||this.defaultRenderOptions;for(var I=go(x),M=[],J=0;J<I.length;J+=1)M.push(this.charToGlyphIndex(I[J]));var le=M.length;if(B.features){x=B.script||this.substitution.getDefaultScriptName();var ke=[];B.features.liga&&(ke=ke.concat(this.substitution.getFeature("liga",x,B.language))),B.features.rlig&&(ke=ke.concat(this.substitution.getFeature("rlig",x,B.language)));for(var Xe=0;Xe<le;Xe+=1)for(var rt=0;rt<ke.length;rt++){for(var Tt=ke[rt],qt=Tt.sub,Bt=qt.length,gt=0;gt<Bt&&qt[gt]===M[Xe+gt];)gt++;gt===Bt&&(M.splice(Xe,Bt,Tt.by),le=le-Bt+1)}}for(var mn=new Array(le),tn=this.glyphs.get(0),sn=0;sn<le;sn+=1)mn[sn]=this.glyphs.get(M[sn])||tn;return mn},_r.prototype.nameToGlyphIndex=function(x){return this.glyphNames.nameToGlyphIndex(x)},_r.prototype.nameToGlyph=function(x){return x=this.nameToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},_r.prototype.glyphIndexToName=function(x){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(x):""},_r.prototype.getKerningValue=function(x,B){x=x.index||x,B=B.index||B;var I=this.position.defaultKerningTables;return I?this.position.getKerningValue(I,x,B):this.kerningPairs[x+","+B]||0},_r.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},_r.prototype.forEachGlyph=function(x,B,I,M,J,X){B=void 0!==B?B:0,I=void 0!==I?I:0;var le,ke=1/this.unitsPerEm*(M=void 0!==M?M:72),Xe=this.stringToGlyphs(x,J=J||this.defaultRenderOptions);J.kerning&&(x=J.script||this.position.getDefaultScriptName(),le=this.position.getKerningTables(x,J.language));for(var rt=0;rt<Xe.length;rt+=1){var Tt=Xe[rt];X.call(this,Tt,B,I,M,J),Tt.advanceWidth&&(B+=Tt.advanceWidth*ke),J.kerning&&rt<Xe.length-1&&(B+=(le?this.position.getKerningValue(le,Tt.index,Xe[rt+1].index):this.getKerningValue(Tt,Xe[rt+1]))*ke),J.letterSpacing?B+=J.letterSpacing*M:J.tracking&&(B+=J.tracking/1e3*M)}return B},_r.prototype.getPath=function(x,B,I,M,J){var X=new de;return this.forEachGlyph(x,B,I,M,J,function(le,ke,Xe,rt){le=le.getPath(ke,Xe,rt,J,this),X.extend(le)}),X},_r.prototype.getPaths=function(x,B,I,M,J){var X=[];return this.forEachGlyph(x,B,I,M,J,function(le,ke,Xe,rt){le=le.getPath(ke,Xe,rt,J,this),X.push(le)}),X},_r.prototype.getAdvanceWidth=function(x,B,I){return this.forEachGlyph(x,0,0,B,I,function(){})},_r.prototype.draw=function(x,B,I,M,J,X){this.getPath(B,I,M,J,X).draw(x)},_r.prototype.drawPoints=function(x,B,I,M,J,X){this.forEachGlyph(B,I,M,J,X,function(le,ke,Xe,rt){le.drawPoints(x,ke,Xe,rt)})},_r.prototype.drawMetrics=function(x,B,I,M,J,X){this.forEachGlyph(B,I,M,J,X,function(le,ke,Xe,rt){le.drawMetrics(x,ke,Xe,rt)})},_r.prototype.getEnglishName=function(x){if(x=this.names[x])return x.en},_r.prototype.validate=function(){var x=this;function B(I){(I=x.getEnglishName(I))&&I.trim()}B("fontFamily"),B("weightName"),B("manufacturer"),B("copyright"),B("version")},_r.prototype.toTables=function(){return He_fontToTable(this)},_r.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},_r.prototype.toArrayBuffer=function(){for(var x=this.toTables().encode(),B=new ArrayBuffer(x.length),I=new Uint8Array(B),M=0;M<x.length;M++)I[M]=x[M];return B},_r.prototype.download=function(x){var B=this.getEnglishName("fontFamily"),I=this.getEnglishName("fontSubfamily"),M=(x=x||B.replace(/\s/g,"")+"-"+I+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,M.byteLength,function(J){J.root.getFile(x,{create:!0},function(X){X.createWriter(function(le){var ke=new DataView(M);ke=new Blob([ke],{type:"font/opentype"}),le.write(ke),le.addEventListener("writeend",function(){location.href=X.toURL()},!1)})})},function(J){throw new Error(J.name+": "+J.message)})):(B=o("fs"),I=function(J){for(var X=new y(J.byteLength),le=new Uint8Array(J),ke=0;ke<X.length;++ke)X[ke]=le[ke];return X}(M),B.writeFileSync(x,I))},_r.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},_r.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},_r.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ci_parse=function(x,B,I){for(var M,X,le,ke=new _t.Parser(x,B),Xe=ke.parseULong(),rt=(L.argument(65536===Xe,"Unsupported fvar table version."),ke.parseOffset16()),Tt=(ke.skip("uShort",1),ke.parseUShort()),qt=ke.parseUShort(),Bt=ke.parseUShort(),gt=ke.parseUShort(),mn=[],tn=0;tn<Tt;tn++)mn.push((X=I,le={},M=new _t.Parser(M=x,B+rt+tn*qt),le.tag=M.parseTag(),le.minValue=M.parseFixed(),le.defaultValue=M.parseFixed(),le.maxValue=M.parseFixed(),M.skip("uShort",1),le.name=X[M.parseUShort()]||{},le));for(var sn=[],Jt=B+rt+Tt*qt,Xt=0;Xt<Bt;Xt++)sn.push(function(Bn,Gn,$n,Un){var Qn={},er=new _t.Parser(Bn,Gn);Qn.name=Un[er.parseUShort()]||{},er.skip("uShort",1),Qn.coordinates={};for(var Ur=0;Ur<$n.length;++Ur)Qn.coordinates[$n[Ur].tag]=er.parseFixed();return Qn}(x,Jt+Xt*gt,mn,I));return{axes:mn,instances:sn}},Ao=new Array(10);Ao[1]=function(){var x=this.offset+this.relativeOffset,B=this.parseUShort();return 1===B?{posFormat:1,coverage:this.parsePointer(lt.coverage),value:this.parseValueRecord()}:2===B?{posFormat:2,coverage:this.parsePointer(lt.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+x.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ao[2]=function(){var x,B,I,M,X=this.offset+this.relativeOffset,J=this.parseUShort(),le=(L.assert(1===J||2===J,"0x"+X.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),X=this.parsePointer(lt.coverage),this.parseUShort()),ke=this.parseUShort();return 1===J?{posFormat:J,coverage:X,valueFormat1:le,valueFormat2:ke,pairSets:this.parseList(lt.pointer(lt.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(le),value2:this.parseValueRecord(ke)}})))}:2===J?(x=this.parsePointer(lt.classDef),B=this.parsePointer(lt.classDef),I=this.parseUShort(),M=this.parseUShort(),{posFormat:J,coverage:X,valueFormat1:le,valueFormat2:ke,classDef1:x,classDef2:B,class1Count:I,class2Count:M,classRecords:this.parseList(I,lt.list(M,function(){return{value1:this.parseValueRecord(le),value2:this.parseValueRecord(ke)}}))}):void 0},Ao[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ao[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ao[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ao[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ao[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ao[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ao[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Si_parse=function(x,B){return B=(x=new lt(x,B=B||0)).parseVersion(1),L.argument(1===B||1.1===B,"Unsupported GPOS table version "+B),1===B?{version:B,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Ao)}:{version:B,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Ao),variations:x.parseFeatureVariationsList()}},mi_parse=function(x,B){if(0===(B=(x=new _t.Parser(x,B)).parseUShort())){var I=x,M={},qt=(I.skip("uShort"),I.parseUShort()),J=(L.argument(0===qt,"Unsupported kern sub-table version."),I.skip("uShort",2),I.parseUShort());I.skip("uShort",3);for(var X=0;X<J;X+=1){var le=I.parseUShort(),ke=I.parseUShort(),Xe=I.parseShort();M[le+","+ke]=Xe}return M}if(1!==B)throw new Error("Unsupported kern table version ("+B+").");var rt=x,Tt={};if(rt.skip("uShort"),1<rt.parseULong()&&console.warn("Only the first kern subtable is supported."),rt.skip("uLong"),qt=255&rt.parseUShort(),rt.skip("uShort"),0==qt){var Bt=rt.parseUShort();rt.skip("uShort",3);for(var gt=0;gt<Bt;gt+=1){var mn=rt.parseUShort(),tn=rt.parseUShort(),sn=rt.parseShort();Tt[mn+","+tn]=sn}}return Tt},Qi_parse=function(x,B,I,M){for(var J=new _t.Parser(x,B),X=M?J.parseUShort:J.parseULong,le=[],ke=0;ke<I+1;ke+=1){var Xe=X.call(J);M&&(Xe*=2),le.push(Xe)}return le};function bs(x,B){o("fs").readFile(x,function(I,M){if(I)return B(I.message);B(null,pt(M))})}function ui(x,B){var I=new XMLHttpRequest;I.open("get",x,!0),I.responseType="arraybuffer",I.onload=function(){return I.response?B(null,I.response):B("Font could not be loaded: "+I.statusText)},I.onerror=function(){B("Font could not be loaded")},I.send()}function oi(x,B){for(var I=[],M=12,J=0;J<B;J+=1){var X=_t.getTag(x,M),le=_t.getULong(x,M+4),ke=_t.getULong(x,M+8),Xe=_t.getULong(x,M+12);I.push({tag:X,checksum:le,offset:ke,length:Xe,compression:!1}),M+=16}return I}function Wr(I,B){if("WOFF"!==B.compression)return{data:I,offset:B.offset};I=new Uint8Array(I.buffer,B.offset+2,B.compressedLength-2);var M=new Uint8Array(B.length);if(Y(I,M),M.byteLength!==B.length)throw new Error("Decompression error: "+B.tag+" decompressed length doesn't match recorded length");return{data:new DataView(M.buffer,0),offset:0}}function Di(Xt){var B,I,M,J,X,le,ke,Xe,rt,Tt,qt,Bt,gt,mn,tn=new _r({empty:!0}),sn=new DataView(Xt,0),Jt=[];if("\0\x01\0\0"===(Xt=_t.getTag(sn,0))||"true"===Xt||"typ1"===Xt)tn.outlinesFormat="truetype",Jt=oi(sn,M=_t.getUShort(sn,4));else if("OTTO"===Xt)tn.outlinesFormat="cff",Jt=oi(sn,M=_t.getUShort(sn,4));else{if("wOFF"!==Xt)throw new Error("Unsupported OpenType signature "+Xt);if("\0\x01\0\0"===(Bn=_t.getTag(sn,4)))tn.outlinesFormat="truetype";else{if("OTTO"!==Bn)throw new Error("Unsupported OpenType flavor "+Xt);tn.outlinesFormat="cff"}Jt=function(Mr,gr){for(var kr=[],Nn=44,to=0;to<gr;to+=1){var Nr=_t.getTag(Mr,Nn),no=_t.getULong(Mr,Nn+4),Jo=_t.getULong(Mr,Nn+8),ci=_t.getULong(Mr,Nn+12);kr.push({tag:Nr,offset:no,compression:Jo<ci&&"WOFF",compressedLength:Jo,length:ci}),Nn+=20}return kr}(sn,M=_t.getUShort(sn,12))}for(var Gn=0;Gn<M;Gn+=1){var $n=Jt[Gn],Un=void 0;switch($n.tag){case"cmap":Un=Wr(sn,$n),tn.tables.cmap=Pe_parse(Un.data,Un.offset),tn.encoding=new Gt(tn.tables.cmap);break;case"cvt ":Un=Wr(sn,$n),mn=new _t.Parser(Un.data,Un.offset),tn.tables.cvt=mn.parseShortList($n.length/2);break;case"fvar":X=$n;break;case"fpgm":Un=Wr(sn,$n),mn=new _t.Parser(Un.data,Un.offset),tn.tables.fpgm=mn.parseByteList($n.length);break;case"head":Un=Wr(sn,$n),tn.tables.head=Hn_parse(Un.data,Un.offset),tn.unitsPerEm=tn.tables.head.unitsPerEm,B=tn.tables.head.indexToLocFormat;break;case"hhea":Un=Wr(sn,$n),tn.tables.hhea=G_parse(Un.data,Un.offset),tn.ascender=tn.tables.hhea.ascender,tn.descender=tn.tables.hhea.descender,tn.numberOfHMetrics=tn.tables.hhea.numberOfHMetrics;break;case"hmtx":rt=$n;break;case"ltag":Un=Wr(sn,$n),I=Se_parse(Un.data,Un.offset);break;case"maxp":Un=Wr(sn,$n),tn.tables.maxp=P_parse(Un.data,Un.offset),tn.numGlyphs=tn.tables.maxp.numGlyphs;break;case"name":Bt=$n;break;case"OS/2":Un=Wr(sn,$n),tn.tables.os2=Wn_parse(Un.data,Un.offset);break;case"post":Un=Wr(sn,$n),tn.tables.post=mr_parse(Un.data,Un.offset),tn.glyphNames=new bn(tn.tables.post);break;case"prep":Un=Wr(sn,$n),mn=new _t.Parser(Un.data,Un.offset),tn.tables.prep=mn.parseByteList($n.length);break;case"glyf":le=$n;break;case"loca":qt=$n;break;case"CFF ":J=$n;break;case"kern":Tt=$n;break;case"GPOS":ke=$n;break;case"GSUB":Xe=$n;break;case"meta":gt=$n}}if(Bn=Wr(sn,Bt),tn.tables.name=En_parse(Bn.data,Bn.offset,I),tn.names=tn.tables.name,le&&qt)Xt=0===B,Bn=Wr(sn,qt),Bn=Qi_parse(Bn.data,Bn.offset,tn.numGlyphs,Xt),Xt=Wr(sn,le),tn.glyphs=Ar.parse(Xt.data,Xt.offset,Bn,tn);else{if(!J)throw new Error("Font doesn't contain TrueType or CFF outlines.");Xt=Wr(sn,J),Pn_parse(Xt.data,Xt.offset,tn)}for(var Bn=Wr(sn,rt),Qn=(me_parse(Bn.data,Bn.offset,tn.numberOfHMetrics,tn.numGlyphs,tn.glyphs),tn),er=Qn.tables.cmap.glyphIndexMap,Ur=Object.keys(er),Kr=0;Kr<Ur.length;Kr+=1){var Qr,Jr=Ur[Kr];(Qr=Qn.glyphs.get(er[Jr])).addUnicode(parseInt(Jr))}for(var xr=0;xr<Qn.glyphs.length;xr+=1)Qr=Qn.glyphs.get(xr),Qn.cffEncoding?Qr.name=Qn.isCIDFont?"gid"+xr:Qn.cffEncoding.charset[xr]:Qn.glyphNames.names&&(Qr.name=Qn.glyphNames.glyphIndexToName(xr));return Tt?(Xt=Wr(sn,Tt),tn.kerningPairs=mi_parse(Xt.data,Xt.offset)):tn.kerningPairs={},ke&&(Bn=Wr(sn,ke),tn.tables.gpos=Si_parse(Bn.data,Bn.offset),tn.position.init()),Xe&&(Xt=Wr(sn,Xe),tn.tables.gsub=$e_parse(Xt.data,Xt.offset)),X&&(Bn=Wr(sn,X),tn.tables.fvar=Ci_parse(Bn.data,Bn.offset,tn.names)),gt&&(Xt=Wr(sn,gt),tn.tables.meta=at_parse(Xt.data,Xt.offset),tn.metas=tn.tables.meta),tn}f.Font=_r,f.Glyph=St,f.Path=de,f.BoundingBox=ne,f._parse=_t,f.parse=Di,f.load=function(x,B){(typeof window>"u"?bs:ui)(x,function(I,M){if(I)return B(I);var J;try{J=Di(M)}catch(X){return B(X,null)}return B(null,J)})},f.loadSync=function(x){return Di(pt(o("fs").readFileSync(x)))},Object.defineProperty(f,"__esModule",{value:!0})},h("object"==typeof C&&void 0!==W?C:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],255:[function(o,W,C){(function(y){function _(E,w){for(var a=0,l=E.length-1;0<=l;l--){var d=E[l];"."===d?E.splice(l,1):".."===d?(E.splice(l,1),a++):a&&(E.splice(l,1),a--)}if(w)for(;a--;)E.unshift("..");return E}function h(E,w){if(E.filter)return E.filter(w);for(var a=[],l=0;l<E.length;l++)w(E[l],l,E)&&a.push(E[l]);return a}C.resolve=function(){for(var E="",w=!1,a=arguments.length-1;-1<=a&&!w;a--){var l=0<=a?arguments[a]:y.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(E=l+"/"+E,w="/"===l.charAt(0))}return(w?"/":"")+(E=_(h(E.split("/"),function(d){return!!d}),!w).join("/"))||"."},C.normalize=function(E){var w=C.isAbsolute(E),a="/"===f(E,-1);return(E=(E=_(h(E.split("/"),function(l){return!!l}),!w).join("/"))||w?E:".")&&a&&(E+="/"),(w?"/":"")+E},C.isAbsolute=function(E){return"/"===E.charAt(0)},C.join=function(){var E=Array.prototype.slice.call(arguments,0);return C.normalize(h(E,function(w,a){if("string"!=typeof w)throw new TypeError("Arguments to path.join must be strings");return w}).join("/"))},C.relative=function(E,w){function a(p){for(var b=0;b<p.length&&""===p[b];b++);for(var O=p.length-1;0<=O&&""===p[O];O--);return O<b?[]:p.slice(b,O-b+1)}E=C.resolve(E).substr(1),w=C.resolve(w).substr(1);for(var l=a(E.split("/")),d=a(w.split("/")),u=Math.min(l.length,d.length),c=u,s=0;s<u;s++)if(l[s]!==d[s]){c=s;break}var m=[];for(s=c;s<l.length;s++)m.push("..");return(m=m.concat(d.slice(c))).join("/")},C.sep="/",C.delimiter=":",C.dirname=function(E){if("string"!=typeof E&&(E+=""),0===E.length)return".";for(var w=47===E.charCodeAt(0),a=-1,l=!0,d=E.length-1;1<=d;--d)if(47===E.charCodeAt(d)){if(!l){a=d;break}}else l=!1;return-1===a?w?"/":".":w&&1===a?"/":E.slice(0,a)},C.basename=function(E,w){return E=function(a){"string"!=typeof a&&(a+="");for(var l=0,d=-1,u=!0,c=a.length-1;0<=c;--c)if(47===a.charCodeAt(c)){if(!u){l=c+1;break}}else-1===d&&(u=!1,d=c+1);return-1===d?"":a.slice(l,d)}(E),w&&E.substr(-1*w.length)===w?E.substr(0,E.length-w.length):E},C.extname=function(E){"string"!=typeof E&&(E+="");for(var w=-1,a=0,l=-1,d=!0,u=0,c=E.length-1;0<=c;--c){var s=E.charCodeAt(c);if(47===s){if(d)continue;a=c+1;break}-1===l&&(d=!1,l=c+1),46===s?-1===w?w=c:1!==u&&(u=1):-1!==w&&(u=-1)}return-1===w||-1===l||0===u||1===u&&w===l-1&&w===a+1?"":E.slice(w,l)};var f=function(E,w,a){return E.substr(w,a)}}).call(this,o("_process"))},{_process:256}],256:[function(o,h,C){var y,_;function f(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}h=h.exports={};try{y="function"==typeof setTimeout?setTimeout:f}catch{y=f}try{_="function"==typeof clearTimeout?clearTimeout:E}catch{_=E}function w(b){if(y===setTimeout)return setTimeout(b,0);if((y===f||!y)&&setTimeout)return(y=setTimeout)(b,0);try{return y(b,0)}catch{try{return y.call(null,b,0)}catch{return y.call(this,b,0)}}}var a,l=[],d=!1,u=-1;function c(){d&&a&&(d=!1,a.length?l=a.concat(l):u=-1,l.length&&s())}function s(){if(!d){for(var b=w(c),O=(d=!0,l.length);O;){for(a=l,l=[];++u<O;)a&&a[u].run();u=-1,O=l.length}a=null,d=!1,function(N){if(_===clearTimeout)return clearTimeout(N);if((_===E||!_)&&clearTimeout)return(_=clearTimeout)(N);try{_(N)}catch{try{return _.call(null,N)}catch{return _.call(this,N)}}}(b)}}function m(b,O){this.fun=b,this.array=O}function p(){}h.nextTick=function(b){var O=new Array(arguments.length-1);if(1<arguments.length)for(var N=1;N<arguments.length;N++)O[N-1]=arguments[N];l.push(new m(b,O)),1!==l.length||d||w(s)},m.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=p,h.addListener=p,h.once=p,h.off=p,h.removeListener=p,h.removeAllListeners=p,h.emit=p,h.prependListener=p,h.prependOnceListener=p,h.listeners=function(b){return[]},h.binding=function(b){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(b){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],257:[function(o,W,C){W=function(y){"use strict";var _,h=Object.prototype,f=h.hasOwnProperty,E=(R="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",w=R.asyncIterator||"@@asyncIterator",a=R.toStringTag||"@@toStringTag";function l(Q,re,q,ge){var de,xe,K,L;return re=re&&re.prototype instanceof b?re:b,re=Object.create(re.prototype),ge=new V(ge||[]),re._invoke=(de=Q,xe=q,K=ge,L=u,function(Me,Le){if(L===s)throw new Error("Generator is already running");if(L===m){if("throw"===Me)throw Le;return H()}for(K.method=Me,K.arg=Le;;){var Ye=K.delegate;if(Ye&&(Ye=function et(Oe,Ge){var Be=Oe.iterator[Ge.method];if(Be===_){if(Ge.delegate=null,"throw"===Ge.method){if(Oe.iterator.return&&(Ge.method="return",Ge.arg=_,et(Oe,Ge),"throw"===Ge.method))return p;Ge.method="throw",Ge.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(Be=d(Be,Oe.iterator,Ge.arg)).type?(Ge.method="throw",Ge.arg=Be.arg,Ge.delegate=null,p):(Be=Be.arg)?Be.done?(Ge[Oe.resultName]=Be.value,Ge.next=Oe.nextLoc,"return"!==Ge.method&&(Ge.method="next",Ge.arg=_),Ge.delegate=null,p):Be:(Ge.method="throw",Ge.arg=new TypeError("iterator result is not an object"),Ge.delegate=null,p)}(Ye,K))){if(Ye===p)continue;return Ye}if("next"===K.method)K.sent=K._sent=K.arg;else if("throw"===K.method){if(L===u)throw L=m,K.arg;K.dispatchException(K.arg)}else"return"===K.method&&K.abrupt("return",K.arg);if(L=s,"normal"===(Ye=d(de,xe,K)).type){if(L=K.done?m:c,Ye.arg!==p)return{value:Ye.arg,done:K.done}}else"throw"===Ye.type&&(L=m,K.method="throw",K.arg=Ye.arg)}}),re}function d(Q,Y,q){try{return{type:"normal",arg:Q.call(Y,q)}}catch(ne){return{type:"throw",arg:ne}}}y.wrap=l;var u="suspendedStart",c="suspendedYield",s="executing",m="completed",p={};function b(){}function O(){}function N(){}var R,k,A=((R={})[E]=function(){return this},(k=(k=Object.getPrototypeOf)&&k(k(Z([]))))&&k!==h&&f.call(k,E)&&(R=k),N.prototype=b.prototype=Object.create(R));function $(Q){["next","throw","return"].forEach(function(Y){Q[Y]=function(q){return this._invoke(Y,q)}})}function j(Q){var Y;this._invoke=function(q,ne){function de(){return new Promise(function(xe,K){!function L(et,ge,Me,Le){var Ye;if("throw"!==(et=d(Q[et],Q,ge)).type)return(ge=(Ye=et.arg).value)&&"object"==typeof ge&&f.call(ge,"__await")?Promise.resolve(ge.__await).then(function(Oe){L("next",Oe,Me,Le)},function(Oe){L("throw",Oe,Me,Le)}):Promise.resolve(ge).then(function(Oe){Ye.value=Oe,Me(Ye)},function(Oe){return L("throw",Oe,Me,Le)});Le(et.arg)}(q,ne,xe,K)})}return Y=Y?Y.then(de,de):de()}}function S(Q){var Y={tryLoc:Q[0]};1 in Q&&(Y.catchLoc=Q[1]),2 in Q&&(Y.finallyLoc=Q[2],Y.afterLoc=Q[3]),this.tryEntries.push(Y)}function D(Q){var Y=Q.completion||{};Y.type="normal",delete Y.arg,Q.completion=Y}function V(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(S,this),this.reset(!0)}function Z(Q){if(Q){var Y,q=Q[E];if(q)return q.call(Q);if("function"==typeof Q.next)return Q;if(!isNaN(Q.length))return Y=-1,(q=function ne(){for(;++Y<Q.length;)if(f.call(Q,Y))return ne.value=Q[Y],ne.done=!1,ne;return ne.value=_,ne.done=!0,ne}).next=q}return{next:H}}function H(){return{value:_,done:!0}}return(O.prototype=A.constructor=N).constructor=O,N[a]=O.displayName="GeneratorFunction",y.isGeneratorFunction=function(Q){return!!(Q="function"==typeof Q&&Q.constructor)&&(Q===O||"GeneratorFunction"===(Q.displayName||Q.name))},y.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,N):(Q.__proto__=N,a in Q||(Q[a]="GeneratorFunction")),Q.prototype=Object.create(A),Q},y.awrap=function(Q){return{__await:Q}},$(j.prototype),j.prototype[w]=function(){return this},y.AsyncIterator=j,y.async=function(Q,Y,q,ne){var de=new j(l(Q,Y,q,ne));return y.isGeneratorFunction(Y)?de:de.next().then(function(xe){return xe.done?xe.value:de.next()})},$(A),A[a]="Generator",A[E]=function(){return this},A.toString=function(){return"[object Generator]"},y.keys=function(Q){var Y,q=[];for(Y in Q)q.push(Y);return q.reverse(),function ne(){for(;q.length;){var de=q.pop();if(de in Q)return ne.value=de,ne.done=!1,ne}return ne.done=!0,ne}},y.values=Z,V.prototype={constructor:V,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(D),!Q)for(var Y in this)"t"===Y.charAt(0)&&f.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=_)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if("throw"===Q.type)throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var Y=this;function q(re,ge){return xe.type="throw",xe.arg=Q,Y.next=re,ge&&(Y.method="next",Y.arg=_),!!ge}for(var ne=this.tryEntries.length-1;0<=ne;--ne){var de=this.tryEntries[ne],xe=de.completion;if("root"===de.tryLoc)return q("end");if(de.tryLoc<=this.prev){var K=f.call(de,"catchLoc"),L=f.call(de,"finallyLoc");if(K&&L){if(this.prev<de.catchLoc)return q(de.catchLoc,!0);if(this.prev<de.finallyLoc)return q(de.finallyLoc)}else if(K){if(this.prev<de.catchLoc)return q(de.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return q(de.finallyLoc)}}}},abrupt:function(Q,Y){for(var q=this.tryEntries.length-1;0<=q;--q){var ne=this.tryEntries[q];if(ne.tryLoc<=this.prev&&f.call(ne,"finallyLoc")&&this.prev<ne.finallyLoc){var de=ne;break}}var xe=(de=de&&("break"===Q||"continue"===Q)&&de.tryLoc<=Y&&Y<=de.finallyLoc?null:de)?de.completion:{};return xe.type=Q,xe.arg=Y,de?(this.method="next",this.next=de.finallyLoc,p):this.complete(xe)},complete:function(Q,Y){if("throw"===Q.type)throw Q.arg;return"break"===Q.type||"continue"===Q.type?this.next=Q.arg:"return"===Q.type?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):"normal"===Q.type&&Y&&(this.next=Y),p},finish:function(Q){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var q=this.tryEntries[Y];if(q.finallyLoc===Q)return this.complete(q.completion,q.afterLoc),D(q),p}},catch:function(Q){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var q,ne,de=this.tryEntries[Y];if(de.tryLoc===Q)return"throw"===(q=de.completion).type&&(ne=q.arg,D(de)),ne}throw new Error("illegal catch attempt")},delegateYield:function(Q,Y,q){return this.delegate={iterator:Z(Q),resultName:Y,nextLoc:q},"next"===this.method&&(this.arg=_),p}},y}("object"==typeof W?W.exports:{});try{regeneratorRuntime=W}catch{Function("r","regeneratorRuntime = r")(W)}},{}],258:[function(o,W,C){!function(y){"use strict";var _,h,f,E,w,a,l,d,u,c;function s(D){if("string"!=typeof D&&(D=String(D)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function m(D){return"string"!=typeof D?String(D):D}function p(D){var V={next:function(){var Z=D.shift();return{done:void 0===Z,value:Z}}};return h&&(V[Symbol.iterator]=function(){return V}),V}function b(D){this.map={},D instanceof b?D.forEach(function(V,Z){this.append(Z,V)},this):Array.isArray(D)?D.forEach(function(V){this.append(V[0],V[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(V){this.append(V,D[V])},this)}function O(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function N(D){return new Promise(function(V,Z){D.onload=function(){V(D.result)},D.onerror=function(){Z(D.error)}})}function R(D){var V=new FileReader,Z=N(V);return V.readAsArrayBuffer(D),Z}function k(D){var V;return D.slice?D.slice(0):((V=new Uint8Array(D.byteLength)).set(new Uint8Array(D)),V.buffer)}function A(){return this.bodyUsed=!1,this._initBody=function(D){if(this._bodyInit=D)if("string"==typeof D)this._bodyText=D;else if(f&&Blob.prototype.isPrototypeOf(D))this._bodyBlob=D;else if(E&&FormData.prototype.isPrototypeOf(D))this._bodyFormData=D;else if(_&&URLSearchParams.prototype.isPrototypeOf(D))this._bodyText=D.toString();else if(w&&f&&l(D))this._bodyArrayBuffer=k(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!w||!ArrayBuffer.prototype.isPrototypeOf(D)&&!d(D))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=k(D)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof D?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f&&(this.blob=function(){var D=O(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?O(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(R)}),this.text=function(){var D,V,Z=O(this);if(Z)return Z;if(this._bodyBlob)return Z=this._bodyBlob,V=N(D=new FileReader),D.readAsText(Z),V;if(this._bodyArrayBuffer)return Promise.resolve(function(H){for(var Q=new Uint8Array(H),Y=new Array(Q.length),q=0;q<Q.length;q++)Y[q]=String.fromCharCode(Q[q]);return Y.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},E&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}function $(D,V){var Z,H=(V=V||{}).body;if(D instanceof $){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,V.headers||(this.headers=new b(D.headers)),this.method=D.method,this.mode=D.mode,H||null==D._bodyInit||(H=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=V.credentials||this.credentials||"omit",!V.headers&&this.headers||(this.headers=new b(V.headers)),this.method=(Z=(D=V.method||this.method||"GET").toUpperCase(),-1<u.indexOf(Z)?Z:D),this.mode=V.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}function j(D){var V=new FormData;return D.trim().split("&").forEach(function(Z){var H;Z&&(H=(Z=Z.split("=")).shift().replace(/\+/g," "),Z=Z.join("=").replace(/\+/g," "),V.append(decodeURIComponent(H),decodeURIComponent(Z)))}),V}function S(D,V){V=V||{},this.type="default",this.status=void 0===V.status?200:V.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in V?V.statusText:"OK",this.headers=new b(V.headers),this.url=V.url||"",this._initBody(D)}y.fetch||(_="URLSearchParams"in y,h="Symbol"in y&&"iterator"in Symbol,f="FileReader"in y&&"Blob"in y&&function(){try{return new Blob,!0}catch{return!1}}(),E="FormData"in y,(w="ArrayBuffer"in y)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(D){return D&&DataView.prototype.isPrototypeOf(D)},d=ArrayBuffer.isView||function(D){return D&&-1<a.indexOf(Object.prototype.toString.call(D))}),b.prototype.append=function(D,V){D=s(D),V=m(V);var Z=this.map[D];this.map[D]=Z?Z+","+V:V},b.prototype.delete=function(D){delete this.map[s(D)]},b.prototype.get=function(D){return D=s(D),this.has(D)?this.map[D]:null},b.prototype.has=function(D){return this.map.hasOwnProperty(s(D))},b.prototype.set=function(D,V){this.map[s(D)]=m(V)},b.prototype.forEach=function(D,V){for(var Z in this.map)this.map.hasOwnProperty(Z)&&D.call(V,this.map[Z],Z,this)},b.prototype.keys=function(){var D=[];return this.forEach(function(V,Z){D.push(Z)}),p(D)},b.prototype.values=function(){var D=[];return this.forEach(function(V){D.push(V)}),p(D)},b.prototype.entries=function(){var D=[];return this.forEach(function(V,Z){D.push([Z,V])}),p(D)},h&&(b.prototype[Symbol.iterator]=b.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],$.prototype.clone=function(){return new $(this,{body:this._bodyInit})},A.call($.prototype),A.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},S.error=function(){var D=new S(null,{status:0,statusText:""});return D.type="error",D},c=[301,302,303,307,308],S.redirect=function(D,V){if(-1===c.indexOf(V))throw new RangeError("Invalid status code");return new S(null,{status:V,headers:{location:D}})},y.Headers=b,y.Request=$,y.Response=S,y.fetch=function(D,V){return new Promise(function(Z,H){var Q=new $(D,V),Y=new XMLHttpRequest;Y.onload=function(){var q,ne={status:Y.status,statusText:Y.statusText,headers:(ne=Y.getAllResponseHeaders()||"",q=new b,ne.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(K){var L=(K=K.split(":")).shift().trim();L&&(K=K.join(":").trim(),q.append(L,K))}),q)},de=(ne.url="responseURL"in Y?Y.responseURL:ne.headers.get("X-Request-URL"),"response"in Y?Y.response:Y.responseText);Z(new S(de,ne))},Y.onerror=function(){H(new TypeError("Network request failed"))},Y.ontimeout=function(){H(new TypeError("Network request failed"))},Y.open(Q.method,Q.url,!0),"include"===Q.credentials?Y.withCredentials=!0:"omit"===Q.credentials&&(Y.withCredentials=!1),"responseType"in Y&&f&&(Y.responseType="blob"),Q.headers.forEach(function(q,ne){Y.setRequestHeader(ne,q)}),Y.send(void 0===Q._bodyInit?null:Q._bodyInit)})},y.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],259:[function(o,W,C){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y,_=f(o("../core/main")),h=f(o("../color/color_conversion"));function f(a){return a&&a.__esModule?a:{default:a}}var E=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],w=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];_.default.prototype._rgbColorName=function(u){u=h.default._rgbaToHSBA(u);var l,d,c=[(y=u)[0],u[1],u[2]];0!==c[0]&&(c[0]=Math.round(100*c[0]),(u=c[0].toString().split(""))[d=u.length-1]=parseInt(u[d]),u[d]<2.5?u[d]=0:2.5<=u[d]&&u[d]<7.5&&(u[d]=5),2===u.length?(u[0]=parseInt(u[0]),7.5<=u[d]&&(u[d]=0,u[0]=u[0]+1),c[0]=10*u[0]+u[1]):c[0]=7.5<=u[d]?10:u[d]),c[2]=c[2]/255;for(var s=c.length-1;1<=s;s--)c[s]=c[s]<=.25?0:.25<c[s]&&c[s]<.75?.5:1;if(0===c[0]&&0===c[1]&&1===c[2]){for(var m=2;0<=m;m--)y[m]=Math.round(1e4*y[m])/1e4;for(var p=0;p<E.length;p++){if(E[p].h===y[0]&&E[p].s===y[1]&&E[p].b===y[2]){l=E[p].name;break}l="white"}}else for(var b=0;b<w.length;b++)if(w[b].h===c[0]&&w[b].s===c[1]&&w[b].b===c[2]){l=w[b].name;break}return l},C.default=o=_.default},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(o,W,C){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o},_="_Description",h="_fallbackDesc",f="_fallbackTable",E="_Label",w="_labelDesc",a="_labelTable";function l(d){if("label"===d||"fallback"===d)throw new Error("description should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")||d.endsWith("?")||d.endsWith("!")||(d+="."),d}y.default.prototype.describe=function(d,u){var c;y.default._validateParameters("describe",arguments),"string"==typeof d&&(c=this.canvas.id,d=l(d),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),u===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d)))},y.default.prototype.describeElement=function(d,u,c){var s,m;y.default._validateParameters("describeElement",arguments),"string"==typeof u&&"string"==typeof d&&(s=this.canvas.id,u=l(u),m=function(p){if("label"===p||"fallback"===p)throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p}(d),d=d.replace(/[^a-zA-Z0-9]/g,""),m='<th scope="row">'.concat(m,"</th><td>").concat(u,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(s).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==m&&(this.descriptions.fallbackElements[d].innerHTML=m):this._describeElementHTML("fallback",d,m),c===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==m&&(this.descriptions.labelElements[d].innerHTML=m):this._describeElementHTML("label",d,m)))},y.default.prototype._describeHTML=function(d,u){var c,s=this.canvas.id;"fallback"===d?(this.dummyDOM.querySelector("#".concat(s+_))?this.dummyDOM.querySelector("#"+s+f).insertAdjacentHTML("beforebegin",'<p id="'.concat(s+h,'"></p>')):(c='<div id="'.concat(s).concat(_,'" role="region" aria-label="Canvas Description"><p id="').concat(s).concat(h,'"></p></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutput")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(s)).innerHTML=c),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(s).concat(h)),this.descriptions.fallback.innerHTML=u):"label"===d&&(this.dummyDOM.querySelector("#".concat(s+E))?this.dummyDOM.querySelector("#".concat(s+a))&&this.dummyDOM.querySelector("#".concat(s+a)).insertAdjacentHTML("beforebegin",'<p id="'.concat(s).concat(w,'"></p>')):(c='<div id="'.concat(s).concat(E,'" class="p5Label"><p id="').concat(s).concat(w,'"></p></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+s).insertAdjacentHTML("afterend",c)),this.descriptions.label=this.dummyDOM.querySelector("#"+s+w),this.descriptions.label.innerHTML=u)},y.default.prototype._describeElementHTML=function(d,u,c){var s,m=this.canvas.id;"fallback"===d?(this.dummyDOM.querySelector("#".concat(m+_))?this.dummyDOM.querySelector("#"+m+f)||this.dummyDOM.querySelector("#"+m+h).insertAdjacentHTML("afterend",'<table id="'.concat(m).concat(f,'"><caption>Canvas elements and their descriptions</caption></table>')):(s='<div id="'.concat(m).concat(_,'" role="region" aria-label="Canvas Description"><table id="').concat(m).concat(f,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#"+m).innerHTML=s),(s=document.createElement("tr")).id=m+"_fte_"+u,this.dummyDOM.querySelector("#"+m+f).appendChild(s),this.descriptions.fallbackElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_fte_").concat(u)),this.descriptions.fallbackElements[u].innerHTML=c):"label"===d&&(this.dummyDOM.querySelector("#".concat(m+E))?this.dummyDOM.querySelector("#".concat(m+a))||this.dummyDOM.querySelector("#"+m+w).insertAdjacentHTML("afterend",'<table id="'.concat(m+a,'"></table>')):(s='<div id="'.concat(m).concat(E,'" class="p5Label"><table id="').concat(m).concat(a,'"></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",s)),(d=document.createElement("tr")).id=m+"_lte_"+u,this.dummyDOM.querySelector("#"+m+a).appendChild(d),this.descriptions.labelElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_lte_").concat(u)),this.descriptions.labelElements[u].innerHTML=c)},C.default=o=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(o,W,C){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(y){var _,h,f,E,w,a,l,d;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(_=this._accessibleOutputs[y],w=(h=function(w,a){var l,d="",u="",c=0;for(l in a){var s,m=0;for(s in a[l]){var p='<li id="'.concat(w,"shape").concat(c,'">').concat(a[l][s].color," ").concat(l,",");"line"===l?p+=" location = ".concat(a[l][s].pos,", length = ").concat(a[l][s].length," pixels"):(p+=" location = ".concat(a[l][s].pos),"point"!==l&&(p+=", area = ".concat(a[l][s].area," %")),p+="</li>"),d+=p,m++,c++}u=1<m?"".concat(u," ").concat(m," ").concat(l,"s"):"".concat(u," ").concat(m," ").concat(l)}return{numShapes:[c,u],details:d}}(y,this.ingredients.shapes)).numShapes,l=this.width,d=this.height,a="".concat(a=this.ingredients.colors.background," canvas, ").concat(l," by ").concat(d," pixels, contains ").concat(w[0]),f=a="".concat(a,1===w[0]?" shape: ":" shapes: ").concat(w[1]),E=function(w,a){var l,d,u=0,c="",s=Array.from(Array(10),function(){return Array(10)});for(l in a)for(var m in a[l]){var p;p="line"!==l?'<a href="#'.concat(w,"shape").concat(u,'">').concat(a[l][m].color," ").concat(l,"</a>"):'<a href="#'.concat(w,"shape").concat(u,'">').concat(a[l][m].color," ").concat(l," midpoint</a>"),s[a[l][m].loc.locY][a[l][m].loc.locX]=s[a[l][m].loc.locY][a[l][m].loc.locX]?s[a[l][m].loc.locY][a[l][m].loc.locX]+"  "+p:p,u++}for(d in s){var b,O="<tr>";for(b in s[d])O+="<td>",void 0!==s[d][b]&&(O+=s[d][b]),O+="</td>";c=c+O+"</tr>"}return c}(y,this.ingredients.shapes),f!==_.summary.innerHTML&&(_.summary.innerHTML=f),E!==_.map.innerHTML&&(_.map.innerHTML=E),h.details!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=h.details),this._accessibleOutputs[y]=_)},C.default=o=o.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};function h(f,E,w){return 10===(E=Math.floor(f[0]/E*10))&&(E-=1),10===(f=Math.floor(f[1]/w*10))&&(f-=1),{locX:E,locY:f}}y.default.prototype.textOutput=function(f){y.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},y.default.prototype.gridOutput=function(f){y.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},y.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},y.default.prototype._createOutput=function(f,E){var w,a,l,d=this.canvas.id,u=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),"");"Fallback"===E?(w=d+f,this.dummyDOM.querySelector("#".concat(a=d+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(d,"_Description"))?this.dummyDOM.querySelector("#".concat(d,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(d)).innerHTML='<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===E&&(w=d+f+(u=E),this.dummyDOM.querySelector("#".concat(a=d+"accessibleOutput"+E))||(this.dummyDOM.querySelector("#".concat(d,"_Label"))?this.dummyDOM.querySelector("#".concat(d,"_Label")):this.dummyDOM.querySelector("#".concat(d))).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>'))),this._accessibleOutputs[w]={},"textOutput"===f?(u="#".concat(d,"gridOutput").concat(u),l='<div id="'.concat(w,'">Text Output<div id="').concat(w,'Summary" aria-label="text output summary"><p id="').concat(w,'_summary"></p><ul id="').concat(w,'_list"></ul></div><table id="').concat(w,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(a)).innerHTML=l,this._accessibleOutputs[w].list=this.dummyDOM.querySelector("#".concat(w,"_list"))):"gridOutput"===f&&(u="#".concat(d,"textOutput").concat(u),l='<div id="'.concat(w,'">Grid Output<p id="').concat(w,'_summary" aria-label="grid output summary"><table id="').concat(w,'_map" summary="grid output content"></table><ul id="').concat(w,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(a)).innerHTML=l,this._accessibleOutputs[w].map=this.dummyDOM.querySelector("#".concat(w,"_map"))),this._accessibleOutputs[w].shapeDetails=this.dummyDOM.querySelector("#".concat(w,"_shapeDetails")),this._accessibleOutputs[w].summary=this.dummyDOM.querySelector("#".concat(w,"_summary"))},y.default.prototype._updateAccsOutput=function(){var f=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(f+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(f+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(f+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(f+"gridOutputLabel"))},y.default.prototype._accsBackground=function(f){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==f&&(this.ingredients.colors.backgroundRGBA=f,this.ingredients.colors.background=this._rgbColorName(f))},y.default.prototype._accsCanvasColors=function(f,E){"fill"===f?this.ingredients.colors.fillRGBA!==E&&(this.ingredients.colors.fillRGBA=E,this.ingredients.colors.fill=this._rgbColorName(E)):"stroke"===f&&this.ingredients.colors.strokeRGBA!==E&&(this.ingredients.colors.strokeRGBA=E,this.ingredients.colors.stroke=this._rgbColorName(E))},y.default.prototype._accsOutput=function(f,E){"ellipse"===f&&E[2]===E[3]?f="circle":"rectangle"===f&&E[2]===E[3]&&(f="square");var w,a,s,m,p,l={},d=!0,u=(m=E,s="rectangle"===(s=f)||"ellipse"===s||"arc"===s||"circle"===s||"square"===s?(p=Math.round(m[0]+m[2]/2),Math.round(m[1]+m[3]/2)):"triangle"===s?(p=(m[0]+m[2]+m[4])/3,(m[1]+m[3]+m[5])/3):"quadrilateral"===s?(p=(m[0]+m[2]+m[4]+m[6])/4,(m[1]+m[3]+m[5]+m[7])/4):"line"===s?(p=(m[0]+m[2])/2,(m[1]+m[3])/2):(p=m[0],m[1]),[p,s]);if("line"===f?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(E[0],E[1],E[2],E[3])),w=this._getPos(E[0],[1]),a=this._getPos(E[2],[3]),l.loc=h(u,this.width,this.height),l.pos=w===a?"at ".concat(w):"from ".concat(w," to ").concat(a)):("point"===f?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=this._getArea(f,E)),l.pos=this._getPos.apply(this,function _(f){return function(E){if(Array.isArray(E)){for(var w=0,a=new Array(E.length);w<E.length;w++)a[w]=E[w];return a}}(f)||function(E){if(Symbol.iterator in Object(E)||"[object Arguments]"===Object.prototype.toString.call(E))return Array.from(E)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)),l.loc=h(u,this.width,this.height)),this.ingredients.shapes[f]){if(this.ingredients.shapes[f]!==[l]){for(var c in this.ingredients.shapes[f])JSON.stringify(this.ingredients.shapes[f][c])===JSON.stringify(l)&&(d=!1);!0===d&&this.ingredients.shapes[f].push(l)}}else this.ingredients.shapes[f]=[l]},y.default.prototype._getPos=function(a,w){a=new DOMPointReadOnly(a,w),w=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),w=(a=a.matrixTransform(w)).x,a=a.y;var l=this.width*this._pixelDensity,d=this.height*this._pixelDensity;return w<.4*l?a<.4*d?"top left":.6*d<a?"bottom left":"mid left":.6*l<w?a<.4*d?"top right":.6*d<a?"bottom right":"mid right":a<.4*d?"top middle":.6*d<a?"bottom middle":"middle"},y.default.prototype._getArea=function(f,E){var w,a,l=0,d=("arc"===f?(l=(w=((E[5]-E[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*E[2]*E[3]/8,"open"!==E[6]&&"chord"!==E[6]||(a=E[0],m=E[1],d=E[0]+E[2]/2*Math.cos(E[4]).toFixed(2),p=E[1]+E[3]/2*Math.sin(E[4]).toFixed(2),c=E[0]+E[2]/2*Math.cos(E[5]).toFixed(2),u=E[1]+E[3]/2*Math.sin(E[5]).toFixed(2),a=Math.abs(a*(p-u)+d*(u-m)+c*(m-p))/2,w>Math.PI?l+=a:l-=a)):"ellipse"===f||"circle"===f?l=3.14*E[2]/2*E[3]/2:"line"===f||"point"===f?l=0:"quadrilateral"===f?l=Math.abs((E[6]+E[0])*(E[7]-E[1])+(E[0]+E[2])*(E[1]-E[3])+(E[2]+E[4])*(E[3]-E[5])+(E[4]+E[6])*(E[5]-E[7]))/2:"rectangle"===f||"square"===f?l=E[2]*E[3]:"triangle"===f&&(l=Math.abs(E[0]*(E[3]-E[5])+E[2]*(E[5]-E[1])+E[4]*(E[1]-E[3]))/2),this.width*this._pixelDensity),u=this.height*this._pixelDensity,c=[new DOMPoint(0,0),new DOMPoint(d,0),new DOMPoint(d,u),new DOMPoint(0,u)],s=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),m=c.map(function(b){return b.matrixTransform(s)}),p=Math.abs((m[3].x+m[0].x)*(m[3].y-m[0].y)+(m[0].x+m[1].x)*(m[0].y-m[1].y)+(m[1].x+m[2].x)*(m[1].y-m[2].y)+(m[2].x+m[3].x)*(m[2].y-m[3].y))/2;return Math.round(100*l/p)},C.default=o=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(o,W,C){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(y){var _,h,f,E,w,a,l,d;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(_=this._accessibleOutputs[y],w=(h=function(w,a){var l,d="",u=0;for(l in a)for(var c in a[l]){var s='<li><a href="#'.concat(w,"shape").concat(u,'">').concat(a[l][c].color," ").concat(l,"</a>");"line"===l?s+=", ".concat(a[l][c].pos,", ").concat(a[l][c].length," pixels long.</li>"):(s+=", at ".concat(a[l][c].pos),"point"!==l&&(s+=", covering ".concat(a[l][c].area,"% of the canvas")),s+=".</li>"),d+=s,u++}return{numShapes:u,listShapes:d}}(y,this.ingredients.shapes)).numShapes,a=this.ingredients.colors.background,d=this.height,l="Your output is a, ".concat(l=this.width," by ").concat(d," pixels, ").concat(a," canvas containing the following"),f=l=1===w?"".concat(l," shape:"):"".concat(l," ").concat(w," shapes:"),E=function(w,a){var l,d="",u=0;for(l in a)for(var c in a[l]){var s='<tr id="'.concat(w,"shape").concat(u,'"><th>').concat(a[l][c].color," ").concat(l,"</th>");"line"===l?s+="<td>location = ".concat(a[l][c].pos,"</td><td>length = ").concat(a[l][c].length," pixels</td></tr>"):(s+="<td>location = ".concat(a[l][c].pos,"</td>"),"point"!==l&&(s+="<td> area = ".concat(a[l][c].area,"%</td>")),s+="</tr>"),d+=s,u++}return d}(y,this.ingredients.shapes),f!==_.summary.innerHTML&&(_.summary.innerHTML=f),h.listShapes!==_.list.innerHTML&&(_.list.innerHTML=h.listShapes),E!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=E),this._accessibleOutputs[y]=_)},C.default=o=o.default},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(o,W,C){"use strict";var y=(y=o("./core/main"))&&y.__esModule?y:{default:y};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),W.exports=y.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(o,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(y){var h=y[1],f=y[2],E=(2-h)*f/2;return 0!=E&&(1==E?h=0:E<.5?h/=2-h:h=h*f/(2-2*E)),[y[0],h,E,y[3]]},_hsbaToRGBA:function(y){var _,h,f,E,w,a=6*y[0],l=y[1],d=y[2];return 0===l?[d,d,d,y[3]]:(h=d*(1-l),f=d*(1-l*(a-(_=Math.floor(a)))),l=d*(1-l*(1+_-a)),a=1===_?(E=f,w=d,h):2===_?(E=h,w=d,l):3===_?(E=h,w=f,d):4===_?(E=l,w=h,d):5===_?(E=d,w=h,f):(E=d,w=l,h),[E,w,a,y[3]])},_hslaToHSBA:function(y){var h=y[1],f=y[2],E=f<.5?(1+h)*f:f+h-f*h;return[y[0],h=2*(E-f)/E,E,y[3]]},_hslaToRGBA:function(y){var _,h=6*y[0],f=y[1],E=y[2];return 0===f?[E,E,E,y[3]]:[(_=function(w,a,l){return w<0?w+=6:6<=w&&(w-=6),w<1?a+(l-a)*w:w<3?l:w<4?a+(l-a)*(4-w):a})(2+h,f=2*E-(E=E<.5?(1+f)*E:E+f-E*f),E),_(h,f,E),_(h-2,f,E),y[3]]},_rgbaToHSBA:function(y){var _,h,f=y[0],E=y[1],w=y[2],a=Math.max(f,E,w),l=a-Math.min(f,E,w);return 0==l?h=_=0:(h=l/a,f===a?_=(E-w)/l:E===a?_=2+(w-f)/l:w===a&&(_=4+(f-E)/l),_<0?_+=6:6<=_&&(_-=6)),[_/6,h,a,y[3]]},_rgbaToHSLA:function(y){var _,h,d,f=y[0],E=y[1],w=y[2],a=Math.max(f,E,w),l=a+(d=Math.min(f,E,w));return 0==(d=a-d)?h=_=0:(h=l<1?d/l:d/(2-l),f===a?_=(E-w)/d:E===a?_=2+(w-f)/d:w===a&&(_=4+(f-E)/d),_<0?_+=6:6<=_&&(_-=6)),[_/6,h,l/2,y[3]]}},C.default=o=o.default.ColorConversion},{"../core/main":280}],266:[function(o,W,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(o("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),h.default.prototype.alpha=function(a){return h.default._validateParameters("alpha",arguments),this.color(a)._getAlpha()},h.default.prototype.blue=function(a){return h.default._validateParameters("blue",arguments),this.color(a)._getBlue()},h.default.prototype.brightness=function(a){return h.default._validateParameters("brightness",arguments),this.color(a)._getBrightness()},h.default.prototype.color=function(){for(var a,l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return h.default._validateParameters("color",d),d[0]instanceof h.default.Color?d[0]:(a=Array.isArray(d[0])?d[0]:d,new h.default.Color(this,a))},h.default.prototype.green=function(a){return h.default._validateParameters("green",arguments),this.color(a)._getGreen()},h.default.prototype.hue=function(a){return h.default._validateParameters("hue",arguments),this.color(a)._getHue()},h.default.prototype.lerpColor=function(a,l,d){h.default._validateParameters("lerpColor",arguments);var u,c,s,m=this._colorMode,p=this._colorMaxes;if(m===f.RGB)c=a.levels.map(function(b){return b/255}),s=l.levels.map(function(b){return b/255});else if(m===f.HSB)a._getBrightness(),l._getBrightness(),c=a.hsba,s=l.hsba;else{if(m!==f.HSL)throw new Error("".concat(m," cannot be used for interpolation."));a._getLightness(),l._getLightness(),c=a.hsla,s=l.hsla}return d=Math.max(Math.min(d,1),0),void 0===this.lerp&&(this.lerp=function(b,O,N){return N*(O-b)+b}),m===f.RGB?u=this.lerp(c[0],s[0],d):(.5<Math.abs(c[0]-s[0])&&(c[0]>s[0]?s[0]+=1:c[0]+=1),1<=(u=this.lerp(c[0],s[0],d))&&--u),a=this.lerp(c[1],s[1],d),l=this.lerp(c[2],s[2],d),c=this.lerp(c[3],s[3],d),this.color(u*=p[m][0],a*=p[m][1],l*=p[m][2],c*=p[m][3])},h.default.prototype.lightness=function(a){return h.default._validateParameters("lightness",arguments),this.color(a)._getLightness()},h.default.prototype.red=function(a){return h.default._validateParameters("red",arguments),this.color(a)._getRed()},h.default.prototype.saturation=function(a){return h.default._validateParameters("saturation",arguments),this.color(a)._getSaturation()};var w=h.default;C.default=w},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(u,W,C){"use strict";function y(b){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(b)}function _(b){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(O){return y(O)}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":y(O)})(b)}u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.get-own-property-descriptor"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.string.trim"),u("core-js/modules/es.weak-map"),u("core-js/modules/web.dom-collections.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.trim"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=a(u("../core/main")),f=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==_(b)&&"function"!=typeof b)return{default:b};var O=w();if(O&&O.has(b))return O.get(b);var N,R={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in b){var A;Object.prototype.hasOwnProperty.call(b,N)&&((A=k?Object.getOwnPropertyDescriptor(b,N):null)&&(A.get||A.set)?Object.defineProperty(R,N,A):R[N]=b[N])}return R.default=b,O&&O.set(b,R),R}(u("../core/constants")),E=a(u("./color_conversion"));function w(){var b;return"function"!=typeof WeakMap?null:(w=function(){return b},b=new WeakMap)}function a(b){return b&&b.__esModule?b:{default:b}}function l(b,O){for(var N=0;N<O.length;N++){var R=O[N];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,R.key,R)}}var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=(u=/\s*/,/(\d{1,3})/),c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,s=new RegExp("".concat(c.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",s.source,",",s.source,",",s.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",c.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",s.source,",",s.source,",",s.source,",",c.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",s.source,",",s.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",s.source,",",s.source,",",c.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",s.source,",",s.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",s.source,",",s.source,",",c.source,"\\)$"].join(u.source),"i")};h.default.Color=function(){function b(k,A){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(k._colorMode,k._colorMaxes),![f.RGB,f.HSL,f.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=b._parseInputs.apply(this,A),this._calculateLevels()}var O,N,R;return O=b,R=[{key:"_parseInputs",value:function(k,A,$,j){var S,D=arguments.length,V=this.mode,Z=this.maxes[V],H=[];if(3<=D){for(H[0]=k/Z[0],H[1]=A/Z[1],H[2]=$/Z[2],H[3]="number"==typeof j?j/Z[3]:1,S=H.length-1;0<=S;--S){var Q=H[S];Q<0?H[S]=0:1<Q&&(H[S]=1)}return V===f.HSL?E.default._hslaToRGBA(H):V===f.HSB?E.default._hsbaToRGBA(H):H}if(1===D&&"string"==typeof k){if($=k.trim().toLowerCase(),d[$])return b._parseInputs.call(this,d[$]);if(m.HEX3.test($))return(H=m.HEX3.exec($).slice(1).map(function(Y){return parseInt(Y+Y,16)/255}))[3]=1,H;if(m.HEX6.test($))return(H=m.HEX6.exec($).slice(1).map(function(Y){return parseInt(Y,16)/255}))[3]=1,H;if(m.HEX4.test($))return m.HEX4.exec($).slice(1).map(function(Y){return parseInt(Y+Y,16)/255});if(m.HEX8.test($))return m.HEX8.exec($).slice(1).map(function(Y){return parseInt(Y,16)/255});if(m.RGB.test($))return(H=m.RGB.exec($).slice(1).map(function(Y){return Y/255}))[3]=1,H;if(m.RGB_PERCENT.test($))return(H=m.RGB_PERCENT.exec($).slice(1).map(function(Y){return parseFloat(Y)/100}))[3]=1,H;if(m.RGBA.test($))return m.RGBA.exec($).slice(1).map(function(Y,q){return 3===q?parseFloat(Y):Y/255});if(m.RGBA_PERCENT.test($))return m.RGBA_PERCENT.exec($).slice(1).map(function(Y,q){return 3===q?parseFloat(Y):parseFloat(Y)/100});if(m.HSL.test($)?(H=m.HSL.exec($).slice(1).map(function(Y,q){return 0===q?parseInt(Y,10)/360:parseInt(Y,10)/100}))[3]=1:m.HSLA.test($)&&(H=m.HSLA.exec($).slice(1).map(function(Y,q){return 0===q?parseInt(Y,10)/360:3===q?parseFloat(Y):parseInt(Y,10)/100})),(H=H.map(function(Y){return Math.max(Math.min(Y,1),0)})).length)return E.default._hslaToRGBA(H);if(m.HSB.test($)?(H=m.HSB.exec($).slice(1).map(function(Y,q){return 0===q?parseInt(Y,10)/360:parseInt(Y,10)/100}))[3]=1:m.HSBA.test($)&&(H=m.HSBA.exec($).slice(1).map(function(Y,q){return 0===q?parseInt(Y,10)/360:3===q?parseFloat(Y):parseInt(Y,10)/100})),H.length){for(S=H.length-1;0<=S;--S)H[S]=Math.max(Math.min(H[S],1),0);return E.default._hsbaToRGBA(H)}H=[1,1,1,1]}else{if(1!==D&&2!==D||"number"!=typeof k)throw new Error("".concat(arguments,"is not a valid color representation."));H[0]=k/Z[2],H[1]=k/Z[2],H[2]=k/Z[2],H[3]="number"==typeof A?A/Z[3]:1,H=H.map(function(Y){return Math.max(Math.min(Y,1),0)})}return H}}],(N=[{key:"toString",value:function(k){var A=this.levels,$=this._array,j=$[3];switch(k){case"#rrggbb":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16));case"#rrggbbaa":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16),A[3]<16?"0".concat(A[3].toString(16)):A[3].toString(16));case"#rgb":return"#".concat(Math.round(15*$[0]).toString(16),Math.round(15*$[1]).toString(16),Math.round(15*$[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*$[0]).toString(16),Math.round(15*$[1]).toString(16),Math.round(15*$[2]).toString(16),Math.round(15*$[3]).toString(16));case"rgb":return"rgb(".concat(A[0],", ",A[1],", ",A[2],")");case"rgb%":return"rgb(".concat((100*$[0]).toPrecision(3),"%, ",(100*$[1]).toPrecision(3),"%, ",(100*$[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*$[0]).toPrecision(3),"%, ",(100*$[1]).toPrecision(3),"%, ",(100*$[2]).toPrecision(3),"%, ",(100*$[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],", ",j,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],", ",j,")");case"hsla%":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");default:return"rgba(".concat(A[0],",",A[1],",",A[2],",",j,")")}}},{key:"setRed",value:function(k){this._array[0]=k/this.maxes[f.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(k){this._array[1]=k/this.maxes[f.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(k){this._array[2]=k/this.maxes[f.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(k){this._array[3]=k/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var k=this._array,A=this.levels=new Array(k.length),$=k.length-1;0<=$;--$)A[$]=Math.round(255*k[$]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(k,A){this.mode=k,this.maxes=A}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[f.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[f.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[f.RGB][1]}},{key:"_getHue",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[f.HSB][0]):(this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[f.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[f.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[f.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[f.HSB][1]):(this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[f.HSL][1])}}])&&l(O.prototype,N),R&&l(O,R),b}(),C.default=p=h.default.Color},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(o,W,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(o("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}o("./p5.Color"),h.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},h.default.prototype.endClip=function(){this._renderer.endClip()},h.default.prototype.clip=function(a,l){this._renderer.beginClip(l),a(),this._renderer.endClip(l)},h.default.prototype.background=function(){var a;return(a=this._renderer).background.apply(a,arguments),this},h.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},h.default.prototype.colorMode=function(a,l,d,u,c){return h.default._validateParameters("colorMode",arguments),a!==f.RGB&&a!==f.HSB&&a!==f.HSL||(this._colorMode=a,a=this._colorMaxes[a],2===arguments.length?(a[0]=l,a[1]=l,a[2]=l,a[3]=l):4===arguments.length?(a[0]=l,a[1]=d,a[2]=u):5===arguments.length&&(a[0]=l,a[1]=d,a[2]=u,a[3]=c)),this},h.default.prototype.fill=function(){var a;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(a=this._renderer).fill.apply(a,arguments),this},h.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},h.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},h.default.prototype.stroke=function(){var a;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(a=this._renderer).stroke.apply(a,arguments),this},h.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},h.default.prototype.noErase=function(){return this._renderer.noErase(),this};var w=h.default;C.default=w},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(o,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.QUADRATIC=C.LINEAR=C._CTX_MIDDLE=C._DEFAULT_LEADMULT=C._DEFAULT_TEXT_FILL=C.WORD=C.CHAR=C.BOLDITALIC=C.BOLD=C.ITALIC=C.NORMAL=C.BLUR=C.ERODE=C.DILATE=C.POSTERIZE=C.INVERT=C.OPAQUE=C.GRAY=C.THRESHOLD=C.BURN=C.DODGE=C.SOFT_LIGHT=C.HARD_LIGHT=C.OVERLAY=C.REPLACE=C.SCREEN=C.MULTIPLY=C.EXCLUSION=C.SUBTRACT=C.DIFFERENCE=C.LIGHTEST=C.DARKEST=C.ADD=C.REMOVE=C.BLEND=C.UP_ARROW=C.TAB=C.SHIFT=C.RIGHT_ARROW=C.RETURN=C.OPTION=C.LEFT_ARROW=C.ESCAPE=C.ENTER=C.DOWN_ARROW=C.DELETE=C.CONTROL=C.BACKSPACE=C.ALT=C.AUTO=C.HSL=C.HSB=C.RGB=C.MITER=C.BEVEL=C.ROUND=C.SQUARE=C.PROJECT=C.PIE=C.CHORD=C.OPEN=C.CLOSE=C.TESS=C.QUAD_STRIP=C.QUADS=C.TRIANGLE_STRIP=C.TRIANGLE_FAN=C.TRIANGLES=C.LINE_LOOP=C.LINE_STRIP=C.LINES=C.POINTS=C.BASELINE=C.BOTTOM=C.TOP=C.CENTER=C.LEFT=C.RIGHT=C.RADIUS=C.CORNERS=C.CORNER=C.RAD_TO_DEG=C.DEG_TO_RAD=C.RADIANS=C.DEGREES=C.TWO_PI=C.TAU=C.QUARTER_PI=C.PI=C.HALF_PI=C.WAIT=C.TEXT=C.MOVE=C.HAND=C.CROSS=C.ARROW=C.WEBGL2=C.WEBGL=C.P2D=C.VERSION=void 0,C.RGBA=C.HALF_FLOAT=C.FLOAT=C.UNSIGNED_INT=C.UNSIGNED_BYTE=C.COVER=C.CONTAIN=C.FALLBACK=C.LABEL=C.AXES=C.GRID=C._DEFAULT_FILL=C._DEFAULT_STROKE=C.PORTRAIT=C.LANDSCAPE=C.SMOOTH=C.FLAT=C.MIRROR=C.CLAMP=C.REPEAT=C.NEAREST=C.IMAGE=C.IMMEDIATE=C.TEXTURE=C.FILL=C.STROKE=C.CURVE=C.BEZIER=void 0;var y=Math.PI,_=(C.VERSION="1.9.1",C.P2D="p2d",C.WEBGL="webgl",C.WEBGL2="webgl2",C.ARROW="default",C.CROSS="crosshair",C.HAND="pointer",C.MOVE="move",C.TEXT="text",C.WAIT="wait",y/2);C.HALF_PI=_,C.PI=_=y,C.QUARTER_PI=_=y/4,C.TAU=_=2*y,C.TWO_PI=_=2*y,C.DEGREES="degrees",C.RADIANS="radians",C.DEG_TO_RAD=_=y/180,C.RAD_TO_DEG=_=180/y,C.CORNER="corner",C.CORNERS="corners",C.RADIUS="radius",C.RIGHT="right",C.LEFT="left",C.CENTER="center",C.TOP="top",C.BOTTOM="bottom",C.BASELINE="alphabetic",C.POINTS=0,C.LINES=1,C.LINE_STRIP=3,C.LINE_LOOP=2,C.TRIANGLES=4,C.TRIANGLE_FAN=6,C.TRIANGLE_STRIP=5,C.QUADS="quads",C.QUAD_STRIP="quad_strip",C.TESS="tess",C.CLOSE="close",C.OPEN="open",C.CHORD="chord",C.PIE="pie",C.PROJECT="square",C.SQUARE="butt",C.ROUND="round",C.BEVEL="bevel",C.MITER="miter",C.RGB="rgb",C.HSB="hsb",C.HSL="hsl",C.AUTO="auto",C.ALT=18,C.BACKSPACE=8,C.CONTROL=17,C.DELETE=46,C.DOWN_ARROW=40,C.ENTER=13,C.ESCAPE=27,C.LEFT_ARROW=37,C.OPTION=18,C.RETURN=13,C.RIGHT_ARROW=39,C.SHIFT=16,C.TAB=9,C.UP_ARROW=38,C.BLEND="source-over",C.REMOVE="destination-out",C.ADD="lighter",C.DARKEST="darken",C.LIGHTEST="lighten",C.DIFFERENCE="difference",C.SUBTRACT="subtract",C.EXCLUSION="exclusion",C.MULTIPLY="multiply",C.SCREEN="screen",C.REPLACE="copy",C.OVERLAY="overlay",C.HARD_LIGHT="hard-light",C.SOFT_LIGHT="soft-light",C.DODGE="color-dodge",C.BURN="color-burn",C.THRESHOLD="threshold",C.GRAY="gray",C.OPAQUE="opaque",C.INVERT="invert",C.POSTERIZE="posterize",C.DILATE="dilate",C.ERODE="erode",C.BLUR="blur",C.NORMAL="normal",C.ITALIC="italic",C.BOLD="bold",C.BOLDITALIC="bold italic",C.CHAR="CHAR",C.WORD="WORD",C._DEFAULT_TEXT_FILL="#000000",C._DEFAULT_LEADMULT=1.25,C._CTX_MIDDLE="middle",C.LINEAR="linear",C.QUADRATIC="quadratic",C.BEZIER="bezier",C.CURVE="curve",C.STROKE="stroke",C.FILL="fill",C.TEXTURE="texture",C.IMMEDIATE="immediate",C.IMAGE="image",C.NEAREST="nearest",C.REPEAT="repeat",C.CLAMP="clamp",C.MIRROR="mirror",C.FLAT="flat",C.SMOOTH="smooth",C.LANDSCAPE="landscape",C.PORTRAIT="portrait",C._DEFAULT_STROKE="#000000",C._DEFAULT_FILL="#FFFFFF",C.GRID="grid",C.AXES="axes",C.LABEL="label",C.FALLBACK="fallback",C.CONTAIN="contain",C.COVER="cover",C.UNSIGNED_BYTE="unsigned-byte",C.UNSIGNED_INT="unsigned-int",C.FLOAT="float",C.HALF_FLOAT="half-float",C.RGBA="rgba"},{}],270:[function(o,W,C){"use strict";function y(c){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}function _(c){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(s){return y(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":y(s)})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(f=o("./main"))&&f.__esModule?f:{default:f},f=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==_(c)&&"function"!=typeof c)return{default:c};var s=E();if(s&&s.has(c))return s.get(c);var m,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in c){var O;Object.prototype.hasOwnProperty.call(c,m)&&((O=b?Object.getOwnPropertyDescriptor(c,m):null)&&(O.get||O.set)?Object.defineProperty(p,m,O):p[m]=c[m])}return p.default=c,s&&s.set(c,p),p}(o("./constants"));function E(){var c;return"function"!=typeof WeakMap?null:(E=function(){return c},c=new WeakMap)}var w=[f.ARROW,f.CROSS,f.HAND,f.MOVE,f.TEXT,f.WAIT],a=(h.default.prototype._frameRate=0,h.default.prototype._lastFrameTime=window.performance.now(),h.default.prototype._targetFrameRate=60,window.print),l=!1;function d(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}h.default.prototype.print=function(){var c;arguments.length?(c=console).log.apply(c,arguments):l||(a(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(l=!0))},h.default.prototype.frameCount=0,h.default.prototype.deltaTime=0,h.default.prototype.focused=document.hasFocus(),h.default.prototype.cursor=function(c,s,m){var p,b="auto",O=this._curElement.elt;w.includes(c)?b=c:"string"==typeof c&&(p="",s&&m&&"number"==typeof s&&"number"==typeof m&&(p="".concat(s," ").concat(m)),b="http://"===c.substring(0,7)||"https://"===c.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?"url(".concat(c,") ").concat(p,", auto"):c),O.style.cursor=b},h.default.prototype.frameRate=function(c){return h.default._validateParameters("frameRate",arguments),"number"!=typeof c||c<0?this._frameRate:(this._setProperty("_targetFrameRate",c),0===c&&this._setProperty("_frameRate",c),this)},h.default.prototype.getFrameRate=function(){return this.frameRate()},h.default.prototype.setFrameRate=function(c){return this.frameRate(c)},h.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},h.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},h.default.prototype.webglVersion=f.P2D,h.default.prototype.displayWidth=screen.width,h.default.prototype.displayHeight=screen.height,h.default.prototype.windowWidth=d(),h.default.prototype.windowHeight=u(),h.default.prototype._onresize=function(c){this._setProperty("windowWidth",d()),this._setProperty("windowHeight",u());var s=this._isGlobal?window:this;"function"!=typeof s.windowResized||void 0===(s=s.windowResized(c))||s||c.preventDefault()},h.default.prototype.width=0,h.default.prototype.height=0,h.default.prototype.fullscreen=function(c){if(h.default._validateParameters("fullscreen",arguments),void 0===c)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(c){if(c=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},h.default.prototype.pixelDensity=function(c){var s;return h.default._validateParameters("pixelDensity",arguments),"number"==typeof c?(c!==this._pixelDensity&&(this._pixelDensity=c),(s=this).resizeCanvas(this.width,this.height,!0)):s=this._pixelDensity,s},h.default.prototype.displayDensity=function(){return window.devicePixelRatio},h.default.prototype.getURL=function(){return location.href},h.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(c){return""!==c})},h.default.prototype.getURLParams=function(){for(var c,s=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};null!=(c=s.exec(location.search));)c.index===s.lastIndex&&s.lastIndex++,m[c[1]]=c[2];return m},C.default=o=h.default},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(w=o("../main"))&&w.__esModule?w:{default:w};function _(a,l){l=l||console.log.bind(console),h||E(),h.some(function(d){var u;if(a.message&&null!==a.message.match("\\W?".concat(d.name,"\\W")))return u="function"===d.type?"".concat(d.name,"()"):d.name,l("Did you just try to use p5.js's ".concat(u," ").concat(d.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(f)),!0})}o("../internationalization");var h=null,E=null,f=(y.default._friendlyError=y.default._checkForUserDefinedFunctions=y.default._fesErrorMonitor=function(){},h=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),w=(E=function(){function a(d){return Object.getOwnPropertyNames(d).filter(function(u){return"_"!==u[0]&&!(u in l)&&(l[u]=!0)}).map(function(u){var c="function"==typeof d[u]?"function":u===u.toUpperCase()?"constant":"variable";return{name:u,type:c}})}var l={};(h=[].concat(a(y.default.prototype),a(o("../constants")))).sort(function(d,u){return u.name.length-d.name.length})},y.default.prototype._helpForMisusedAtTopLevelCode=_,"complete"!==document.readyState&&(window.addEventListener("error",_,!1),window.addEventListener("load",function(){window.removeEventListener("error",_,!1)})),y.default);C.default=w},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(o,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(y=o("../main"))&&y.__esModule?y:{default:y};o("../internationalization"),y.default._friendlyFileLoadError=function(){},C.default=o=y.default},{"../internationalization":278,"../main":280}],273:[function(o,W,C){"use strict";function y(L){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(L)}function _(L){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(re){return y(re)}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":y(re)})(L)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=function Y(L){return L&&L.__esModule?L:{default:L}}(o("../main"));function H(){var L;return"function"!=typeof WeakMap?null:(H=function(){return L},L=new WeakMap)}o("../internationalization"),function Q(L){if(L&&L.__esModule)return L;if(null===L||"object"!==_(L)&&"function"!=typeof L)return{default:L};var re=H();if(re&&re.has(L))return re.get(L);var ge,Me,Le={},Ye=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ge in L)Object.prototype.hasOwnProperty.call(L,ge)&&((Me=Ye?Object.getOwnPropertyDescriptor(L,ge):null)&&(Me.get||Me.set)?Object.defineProperty(Le,ge,Me):Le[ge]=L[ge]);return Le.default=L,re&&re.set(L,Le),Le}(o("../constants")),h.default._fesCodeReader=function(){},C.default=h.default},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(o,W,C){"use strict";function y(){var _=/(^|@)\S+:\d+/,h=/^\s*at .*(\S+:\d+|\(native\))/m,f=/^(eval@)?(\[native code])?$/;return{parse:function(E){return void 0!==E.stacktrace||void 0!==E["opera#sourceloc"]?this.parseOpera(E):E.stack&&E.stack.match(h)?this.parseV8OrIE(E):E.stack?this.parseFFOrSafari(E):void 0},extractLocation:function(E){return-1===E.indexOf(":")?[E]:[(E=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(E.replace(/[()]/g,"")))[1],E[2]||void 0,E[3]||void 0]},parseV8OrIE:function(E){return E.stack.split("\n").filter(function(w){return!!w.match(h)},this).map(function(w){var l=(a=(w=-1<w.indexOf("(eval ")?w.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):w).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),a=(a=l?a.replace(l[0],""):a).split(/\s+/).slice(1);return l=this.extractLocation(l?l[1]:a.pop()),{functionName:a.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseFFOrSafari:function(E){return E.stack.split("\n").filter(function(w){return!w.match(f)},this).map(function(w){var a,l;return-1===(w=-1<w.indexOf(" > eval")?w.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):w).indexOf("@")&&-1===w.indexOf(":")?{functionName:w}:{functionName:(l=w.match(a=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(w.replace(a,"")))[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseOpera:function(E){return!E.stacktrace||-1<E.message.indexOf("\n")&&E.message.split("\n").length>E.stacktrace.split("\n").length?this.parseOpera9(E):E.stack?this.parseOpera11(E):this.parseOpera10(E)},parseOpera9:function(E){for(var w=/Line (\d+).*script (?:in )?(\S+)/i,a=E.message.split("\n"),l=[],d=2,u=a.length;d<u;d+=2){var c=w.exec(a[d]);c&&l.push({fileName:c[2],lineNumber:c[1],source:a[d]})}return l},parseOpera10:function(E){for(var w=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=E.stacktrace.split("\n"),l=[],d=0,u=a.length;d<u;d+=2){var c=w.exec(a[d]);c&&l.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:a[d]})}return l},parseOpera11:function(E){return E.stack.split("\n").filter(function(w){return!!w.match(_)&&!w.match(/^Error created at/)},this).map(function(w){var a,d=w.split("@"),l=this.extractLocation(d.pop());return{functionName:(d=d.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(a=d.match(/\(([^)]*)\)/)?d.replace(/^[^(]+\(([^)]*)\)$/,"$1"):a)||"[arguments not available]"===a?void 0:a.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new y},C.default=o=o.default},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(o,W,C){"use strict";function y(E){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(E)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(_=o("../main"))&&_.__esModule?_:{default:_};function h(){var E;return"function"!=typeof WeakMap?null:(h=function(){return E},E=new WeakMap)}function f(E){return(f="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(w){return y(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(E)}(function(E){if(!(E&&E.__esModule||null===E||"object"!==f(E)&&"function"!=typeof E)){var w=h();if(w&&w.has(E))return w.get(E);var a,l={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in E){var u;Object.prototype.hasOwnProperty.call(E,a)&&((u=d?Object.getOwnPropertyDescriptor(E,a):null)&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=E[a])}l.default=E,w&&w.set(E,l)}})(o("../constants")),o("../internationalization"),_.default._validateParameters=_.default._clearValidateParamsCache=function(){},C.default=o=_.default},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(o,W,C){"use strict";function y(E){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(E)}function _(E){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(w){return y(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(E)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=function(E){if(E&&E.__esModule)return E;if(null===E||"object"!==_(E)&&"function"!=typeof E)return{default:E};var w=f();if(w&&w.has(E))return w.get(E);var a,l={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in E){var u;Object.prototype.hasOwnProperty.call(E,a)&&((u=d?Object.getOwnPropertyDescriptor(E,a):null)&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=E[a])}return l.default=E,w&&w.set(E,l),l}(o("./constants"));function f(){var E;return"function"!=typeof WeakMap?null:(f=function(){return E},E=new WeakMap)}C.default={modeAdjust:function(E,w,a,l,d){return d===h.CORNER?{x:E,y:w,w:a,h:l}:d===h.CORNERS?{x:E,y:w,w:a-E,h:l-w}:d===h.RADIUS?{x:E-a,y:w-l,w:2*a,h:2*l}:d===h.CENTER?{x:E-.5*a,y:w-.5*l,w:a,h:l}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(o,W,C){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var y=(_=o("../core/main"))&&_.__esModule?_:{default:_};o("./internationalization");var _=Promise.resolve();Promise.all([new Promise(function(h,f){"complete"===document.readyState?h():window.addEventListener("load",h,!1)}),_]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!y.default.instance&&new y.default})},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(o,W,C){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.setTranslatorLanguage=C.currentTranslatorLanguage=C.availableTranslatorLanguages=C.initialize=C.translator=void 0;var y,h=E(o("i18next")),f=E(o("i18next-browser-languagedetector"));function E(l){return l&&l.__esModule?l:{default:l}}function w(l,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var a=function(){function l(s,m){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(s,m)}var d,u;return d=l,(u=[{key:"fetchWithTimeout",value:function(s,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(s,m),new Promise(function(b,O){return setTimeout(function(){return O(new Error("timeout"))},p)})])}},{key:"init",value:function(s){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=s,this.options=m}},{key:"read",value:function(s,m,p){var b=this.options.loadPath;s===this.options.fallback?p(null,y[s][m]):undefined.includes(s)?(b=this.services.interpolator.interpolate(b,{lng:s,ns:m}),this.loadUrl(b,p)):p("Not found",!1)}},{key:"loadUrl",value:function(s,m){this.fetchWithTimeout(s).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(s))},function(){throw new Error("failed loading ".concat(s))}).then(function(p){return m(null,p)}).catch(m)}}])&&w(d.prototype,u),l}();a.type="backend",C.translator=function(l,d){console.debug("p5.js translator called before translations were loaded"),h.default.t(l,d)},C.initialize=function(){return h.default.use(f.default).use(a).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:y}).then(function(l){C.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},C.availableTranslatorLanguages=function(){return h.default.languages},C.currentTranslatorLanguage=function(l){return h.default.language},C.setTranslatorLanguage=function(l){return h.default.changeLanguage(l||void 0,function(d){return console.debug("Translations failed to load (".concat(d,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(o,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},C.default=o=o.default},{"./main":280}],280:[function(o,W,C){"use strict";function y(l){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(d){return y(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,o("./shim");var h=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var d=f();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(o("./constants"));function f(){var l;return"function"!=typeof WeakMap?null:(f=function(){return l},l=new WeakMap)}function E(l,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var w,a=function(){function l(s,b){var p=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=b,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},b=Object.getOwnPropertyNames(l.prototype._registeredMethods);var O=!0,N=!1,R=void 0;try{for(var k,A=b[Symbol.iterator]();!(O=(k=A.next()).done);O=!0){var $=k.value;this._registeredMethods[$]=l.prototype._registeredMethods[$].slice()}}catch(q){N=!0,R=q}finally{try{O||null==A.return||A.return()}finally{if(N)throw R}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),l.prototype.callRegisteredHooksFor=function(q){var ne=this||l.prototype,de=this._isGlobal?window:this;if(ne._registeredMethods.hasOwnProperty(q)){ne=ne._registeredMethods[q];var xe=!0,K=void(q=!1);try{for(var L,re=ne[Symbol.iterator]();!(xe=(L=re.next()).done);xe=!0){var ge=L.value;"function"==typeof ge&&ge.call(de)}}catch(Ye){q=!0,K=Ye}finally{try{xe||null==re.return||re.return()}finally{if(q)throw K}}}},this._start=function(){p._userNode&&"string"==typeof p._userNode&&(p._userNode=document.getElementById(p._userNode));var q=p._isGlobal?window:p;if(q.preload){p.callRegisteredHooksFor("beforePreload");var ne,de=document.getElementById(p._loadingScreenId),xe=(de||((de=document.createElement("div")).innerHTML="Loading...",de.style.position="absolute",de.id=p._loadingScreenId,(p._userNode||document.body).appendChild(de)),p._preloadMethods);for(ne in xe){xe[ne]=xe[ne]||l;var K=xe[ne];K!==l.prototype&&K!==l||(p._isGlobal&&(window[ne]=p._wrapPreload(p,ne)),K=p),p._registeredPreloadMethods[ne]=K[ne],K[ne]=p._wrapPreload(K,ne)}q.preload(),p._runIfPreloadsAreDone()}else p._setup(),p._recording||p._draw()},this._runIfPreloadsAreDone=function(){var q,ne=this._isGlobal?window:this;0===ne._preloadCount&&((q=document.getElementById(ne._loadingScreenId))&&q.parentNode.removeChild(q),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),ne._setup(),this._recording||ne._draw()))},this._decrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||"function"!=typeof q.preload||(q._setProperty("_preloadCount",q._preloadCount-1),q._runIfPreloadsAreDone())},this._wrapPreload=function(q,ne){var de=this;return function(){de._incrementPreload();for(var xe=arguments.length,K=new Array(xe),L=0;L<xe;L++)K[L]=arguments[L];return de._registeredPreloadMethods[ne].apply(q,K)}},this._incrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||q._setProperty("_preloadCount",q._preloadCount+1)},this._setup=function(){p.callRegisteredHooksFor("beforeSetup"),p.createCanvas(p._defaultCanvasSize.width,p._defaultCanvasSize.height,"p2d");var q=p._isGlobal?window:p;if("function"==typeof q.preload)for(var ne in p._preloadMethods)q[ne]=p._preloadMethods[ne][ne],q[ne]&&p&&(q[ne]=q[ne].bind(p));p._millisStart=window.performance.now(),q._preloadDone=!0,"function"==typeof q.setup&&q.setup();var de=document.getElementsByTagName("canvas"),xe=!0,K=!1,L=void 0;try{for(var re,ge=de[Symbol.iterator]();!(xe=(re=ge.next()).done);xe=!0){var Me=re.value;"true"===Me.dataset.hidden&&(Me.style.visibility="",delete Me.dataset.hidden)}}catch(Le){K=!0,L=Le}finally{try{xe||null==ge.return||ge.return()}finally{if(K)throw L}}p._lastTargetFrameTime=window.performance.now(),p._lastRealFrameTime=window.performance.now(),p._setupDone=!0,(p._accessibleOutputs.grid||p._accessibleOutputs.text)&&p._updateAccsOutput(),p.callRegisteredHooksFor("afterSetup")},this._draw=function(){var q=window.performance.now(),de=1e3/p._targetFrameRate;(!p._loop||de-5<=q-p._lastTargetFrameTime)&&(p.deltaTime=q-p._lastRealFrameTime,p._setProperty("deltaTime",p.deltaTime),p._frameRate=1e3/p.deltaTime,p.redraw(),p._lastTargetFrameTime=Math.max(p._lastTargetFrameTime+de,q),p._lastRealFrameTime=q,void 0!==p._updateMouseCoords&&(p._updateMouseCoords(),p._setProperty("movedX",0),p._setProperty("movedY",0))),p._loop&&(p._requestAnimId=window.requestAnimationFrame(p._draw))},this._setProperty=function(q,ne){p[q]=ne,p._isGlobal&&(window[q]=ne)},this.remove=function(){if(p._startListener&&window.removeEventListener("load",p._startListener,!1),(q=document.getElementById(p._loadingScreenId))&&(q.parentNode.removeChild(q),p._incrementPreload()),p._curElement){for(var ne in p._loop=!1,p._requestAnimId&&window.cancelAnimationFrame(p._requestAnimId),p._events)window.removeEventListener(ne,p._events[ne]);var de=!0,q=!1,xe=void 0;try{for(var K,L=p._elements[Symbol.iterator]();!(de=(K=L.next()).done);de=!0){var re,ge=K.value;for(re in ge.elt&&ge.elt.parentNode&&ge.elt.parentNode.removeChild(ge.elt),ge._events)ge.elt.removeEventListener(re,ge._events[re])}}catch(Oe){q=!0,xe=Oe}finally{try{de||null==L.return||L.return()}finally{if(q)throw xe}}var Me=p;p._registeredMethods.remove.forEach(function(Oe){void 0!==Oe&&Oe.call(Me)})}if(p._isGlobal){for(var Le in l.prototype)try{delete window[Le]}catch{window[Le]=void 0}for(var Ye in p)if(p.hasOwnProperty(Ye))try{delete window[Ye]}catch{window[Ye]=void 0}l.instance=null}},this._registeredMethods.init.forEach(function(q){void 0!==q&&q.call(this)},this),this._setupPromisePreloads();var j,S,D=this._createFriendlyGlobalFunctionBinder();if(s)s(this),l._checkForUserDefinedFunctions(this);else{for(var V in this._isGlobal=!0,l.instance=this,l.prototype)"function"==typeof l.prototype[V]?(j=V.substring(2),this._events.hasOwnProperty(j)||(Math.hasOwnProperty(V)&&Math[V]===l.prototype[V]?D(V,l.prototype[V]):D(V,l.prototype[V].bind(this)))):D(V,l.prototype[V]);for(var Z in this)this.hasOwnProperty(Z)&&D(Z,this[Z])}for(S in this._events){var H=this["_on".concat(S)];H&&(H=H.bind(this),window.addEventListener(S,H,{passive:!1}),this._events[S]=H)}function Q(){p._setProperty("focused",!0)}function Y(){p._setProperty("focused",!1)}window.addEventListener("focus",Q),window.addEventListener("blur",Y),this.registerMethod("remove",function(){window.removeEventListener("focus",Q),window.removeEventListener("blur",Y)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var d,u;return d=l,(u=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=h.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(s,m){l.prototype._preloadMethods.hasOwnProperty(s)||(l.prototype._preloadMethods[s]=m)}},{key:"registerMethod",value:function(s,m){var p=this||l.prototype;p._registeredMethods.hasOwnProperty(s)||(p._registeredMethods[s]=[]),p._registeredMethods[s].push(m)}},{key:"unregisterMethod",value:function(s,m){var p=this||l.prototype;if(p._registeredMethods.hasOwnProperty(s)){for(var b=p._registeredMethods[s],O=[],N=0;N<b.length;N++)b[N]===m&&O.push(N);for(var R=O.length-1;0<=R;R--)b.splice(O[R],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},m=s.globalObject||window;return s.log||console.log.bind(console),function(p,b){m[p]=b}}}])&&E(d.prototype,u),l}();for(w in a.instance=null,a.disableFriendlyErrors=!1,h)a.prototype[w]=h[w];a.VERSION=h.VERSION,a.prototype._preloadMethods={loadJSON:a.prototype,loadImage:a.prototype,loadStrings:a.prototype,loadXML:a.prototype,loadBytes:a.prototype,loadTable:a.prototype,loadFont:a.prototype,loadModel:a.prototype,loadShader:a.prototype},a.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},a.prototype._registeredPreloadMethods={},C.default=a},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(o,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("./main"))&&o.__esModule?o:{default:o};function _(h,f){for(var E=0;E<f.length;E++){var w=f[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}y.default.Element=function(){function h(a,l){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.elt=a,this._pInst=this._pixelsState=l,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var f,E,w;return f=h,w=[{key:"_adjustListener",value:function(a,l,d){return!1===l?y.default.Element._detachListener(a,d):y.default.Element._attachListener(a,l,d),this}},{key:"_attachListener",value:function(a,l,d){d._events[a]&&y.default.Element._detachListener(a,d),l=l.bind(d),d.elt.addEventListener(a,l,!1),d._events[a]=l}},{key:"_detachListener",value:function(a,l){l.elt.removeEventListener(a,l._events[a],!1),l._events[a]=null}}],(E=[{key:"parent",value:function(a){return void 0===a?this.elt.parentNode:("string"==typeof a?("#"===a[0]&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof y.default.Element&&(a=a.elt),a.appendChild(this.elt),this)}},{key:"id",value:function(a){return void 0===a?this.elt.id:(this.elt.id=a,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(a){return void 0===a?this.elt.className:(this.elt.className=a,this)}},{key:"mousePressed",value:function(a){return y.default.Element._adjustListener("mousedown",function(l){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(l),a.call(this,l)},this),this}},{key:"doubleClicked",value:function(a){return y.default.Element._adjustListener("dblclick",a,this),this}},{key:"mouseWheel",value:function(a){return y.default.Element._adjustListener("wheel",a,this),this}},{key:"mouseReleased",value:function(a){return y.default.Element._adjustListener("mouseup",a,this),this}},{key:"mouseClicked",value:function(a){return y.default.Element._adjustListener("click",a,this),this}},{key:"mouseMoved",value:function(a){return y.default.Element._adjustListener("mousemove",a,this),this}},{key:"mouseOver",value:function(a){return y.default.Element._adjustListener("mouseover",a,this),this}},{key:"mouseOut",value:function(a){return y.default.Element._adjustListener("mouseout",a,this),this}},{key:"touchStarted",value:function(a){return y.default.Element._adjustListener("touchstart",a,this),this}},{key:"touchMoved",value:function(a){return y.default.Element._adjustListener("touchmove",a,this),this}},{key:"touchEnded",value:function(a){return y.default.Element._adjustListener("touchend",a,this),this}},{key:"dragOver",value:function(a){return y.default.Element._adjustListener("dragover",a,this),this}},{key:"dragLeave",value:function(a){return y.default.Element._adjustListener("dragleave",a,this),this}},{key:"_setProperty",value:function(a,l){this[a]=l}}])&&_(f.prototype,E),w&&_(f,w),h}(),C.default=o=y.default.Element},{"./main":280}],282:[function(o,W,C){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function _(m){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(p){return y(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(s=o("./main"))&&s.__esModule?s:{default:s},f=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==_(m)&&"function"!=typeof m)return{default:m};var p=E();if(p&&p.has(m))return p.get(m);var b,O={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var R;Object.prototype.hasOwnProperty.call(m,b)&&((R=N?Object.getOwnPropertyDescriptor(m,b):null)&&(R.get||R.set)?Object.defineProperty(O,b,R):O[b]=m[b])}return O.default=m,p&&p.set(m,O),O}(o("./constants"));function E(){var m;return"function"!=typeof WeakMap?null:(E=function(){return m},m=new WeakMap)}function w(m,p){for(var b=0;b<p.length;b++){var O=p[b];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function a(m,p){return(a=Object.setPrototypeOf||function(b,O){return b.__proto__=O,b})(m,p)}function d(m,p){return!p||"object"!==_(p)&&"function"!=typeof p?u(m):p}function u(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function c(m){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}h.default.Graphics=function(m){var p=N;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&a(p,m);var O=function l(m){return function(){var p,b=c(m);return d(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=c(this).constructor,Reflect.construct(b,arguments,p)):b.apply(this,arguments))}}(N);function N(R,k,Z,$,j){var S;if(!(this instanceof N))throw new TypeError("Cannot call a class as a function");V=j||document.createElement("canvas"),(S=O.call(this,V,$)).canvas=V;var D,V=Z||f.P2D;for(D in Z=$._userNode||document.body,j||Z.appendChild(S.canvas),h.default.prototype)S[D]||(S[D]="function"==typeof h.default.prototype[D]?h.default.prototype[D].bind(u(S)):h.default.prototype[D]);return h.default.prototype._initializeInstanceVariables.apply(u(S)),S.width=R,S.height=k,S._pixelDensity=$._pixelDensity,S._renderer=V===f.WEBGL?new h.default.RendererGL(S.canvas,u(S),!1):new h.default.Renderer2D(S.canvas,u(S),!1),$._elements.push(u(S)),Object.defineProperty(u(S),"deltaTime",{get:function(){return this._pInst.deltaTime}}),S._renderer.resize(R,k),S._renderer._applyDefaults(),d(S,u(S))}return p=N,(m=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var R,k=this._pInst._elements.indexOf(this);for(R in-1!==k&&this._pInst._elements.splice(k,1),this._events)this.elt.removeEventListener(R,this._events[R])}},{key:"createFramebuffer",value:function(R){return new h.default.Framebuffer(this,R)}}])&&w(p.prototype,m),N}(h.default.Element);var s=h.default.Graphics;C.default=s},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(o,W,C){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(c=o("./main"))&&c.__esModule?c:{default:c},h=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==E(m)&&"function"!=typeof m)return{default:m};var p=f();if(p&&p.has(m))return p.get(m);var b,O={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var R;Object.prototype.hasOwnProperty.call(m,b)&&((R=N?Object.getOwnPropertyDescriptor(m,b):null)&&(R.get||R.set)?Object.defineProperty(O,b,R):O[b]=m[b])}return O.default=m,p&&p.set(m,O),O}(o("../core/constants"));function f(){var m;return"function"!=typeof WeakMap?null:(f=function(){return m},m=new WeakMap)}function E(m){return(E="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(p){return y(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(m)}function w(m,p){for(var b=0;b<p.length;b++){var O=p[b];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function a(m,p){return(a=Object.setPrototypeOf||function(b,O){return b.__proto__=O,b})(m,p)}function d(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(m){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}var c=function(m){var p=N;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&a(p,m);var O=function l(m){return function(){var p,b,O=u(m);return p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=u(this).constructor,Reflect.construct(O,arguments,p)):O.apply(this,arguments),O=this,!(b=p)||"object"!==E(b)&&"function"!=typeof b?d(O):b}}(N);function N(R,k,A){var $;if(this instanceof N)return($=O.call(this,R,k)).canvas=R,$._pixelsState=k,A?($._isMainCanvas=!0,$._pInst._setProperty("_curElement",d($)),$._pInst._setProperty("canvas",$.canvas),$._pInst._setProperty("width",$.width),$._pInst._setProperty("height",$.height)):($.canvas.style.display="none",$._styles=[]),$._clipping=!1,$._clipInvert=!1,$._textSize=12,$._textLeading=15,$._textFont="sans-serif",$._textStyle=h.NORMAL,$._textAscent=null,$._textDescent=null,$._textAlign=h.LEFT,$._textBaseline=h.BASELINE,$._textWrap=h.WORD,$._rectMode=h.CORNER,$._ellipseMode=h.CENTER,$._curveTightness=0,$._imageMode=h.CORNER,$._tint=null,$._doStroke=!0,$._doFill=!0,$._strokeSet=!1,$._fillSet=!1,$._leadingSet=!1,$._pushPopDepth=0,$;throw new TypeError("Cannot call a class as a function")}return p=N,(m=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(R){this._pushPopDepth--,R.properties&&Object.assign(this,R.properties)}},{key:"beginClip",value:function(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=R.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(R,k){this.width=R,this.height=k,this.elt.width=R*this._pInst._pixelDensity,this.elt.height=k*this._pInst._pixelDensity,this.elt.style.width="".concat(R,"px"),this.elt.style.height="".concat(k,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(R,k,A,$){var j=this._pixelsState,S=j._pixelDensity,D=this.canvas;if(void 0===R&&void 0===k)R=k=0,A=j.width,$=j.height;else if(R*=S,k*=S,void 0===A&&void 0===$)return R<0||k<0||R>=D.width||k>=D.height?[0,0,0,0]:this._getPixel(R,k);return(j=new _.default.Image(A*S,$*S)).pixelDensity(S),j.canvas.getContext("2d").drawImage(D,R,k,A*S,$*S,0,0,A*S,$*S),j}},{key:"textLeading",value:function(R){return"number"==typeof R?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",R),this._pInst):this._textLeading}},{key:"textStyle",value:function(R){return R?(R!==h.NORMAL&&R!==h.ITALIC&&R!==h.BOLD&&R!==h.BOLDITALIC||this._setProperty("_textStyle",R),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(R,k){return void 0!==R?(this._setProperty("_textAlign",R),void 0!==k&&this._setProperty("_textBaseline",k),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(R){return this._setProperty("_textWrap",R),this._textWrap}},{key:"text",value:function(R,k,A,$,j){var S,D,V,Z,H=this._pInst,Q=this._textWrap,Y=Number.MAX_VALUE,q=A;if((this._doFill||this._doStroke)&&void 0!==R){if(S=(R=(R="string"!=typeof R?R.toString():R).replace(/(\t)/g,"  ")).split("\n"),void 0!==$){switch(this._rectMode===h.CENTER&&(k-=$/2),this._textAlign){case h.CENTER:k+=$/2;break;case h.RIGHT:k+=$}if(void 0!==j){this._rectMode===h.CENTER&&(A-=j/2,q-=j/2),R=A;var ne=H.textAscent();switch(this._textBaseline){case h.BOTTOM:Z=A+j,A=Math.max(Z,A),q+=ne;break;case h.CENTER:Z=A+j/2,A=Math.max(Z,A),q+=ne/2}Y=A+j-ne,this._textBaseline===h.CENTER&&(Y=R+j-ne/2)}else this._textBaseline!==h.BOTTOM&&this._textBaseline!==h.CENTER||(q=A-(R=H.textSize()*this._textLeading)/2,Y=A+R/2);if(Q===h.WORD){for(var de=[],xe=0;xe<S.length;xe++){for(var K="",L=S[xe].split(" "),re=0;re<L.length;re++)D="".concat(K+L[re])+" ",K=$<(V=this.textWidth(D))&&0<K.length?(de.push(K),"".concat(L[re])+" "):D;de.push(K)}var ge=0;this._textBaseline===h.CENTER?ge=(de.length-1)*H.textLeading()/2:this._textBaseline===h.BOTTOM&&(ge=(de.length-1)*H.textLeading());for(var Me=0;Me<S.length;Me++){K="",L=S[Me].split(" ");for(var Le=0;Le<L.length;Le++)D="".concat(K+L[Le])+" ",$<(V=this.textWidth(D))&&0<K.length?(this._renderText(H,K.trim(),k,A-ge,Y,q),K="".concat(L[Le])+" ",A+=H.textLeading()):K=D;this._renderText(H,K.trim(),k,A-ge,Y,q),A+=H.textLeading()}}else{for(var Ye=[],et=0;et<S.length;et++)for(var Oe=S[et].split(K=""),Ge=0;Ge<Oe.length;Ge++)D="".concat(K+Oe[Ge]),(V=this.textWidth(D))<=$?K+=Oe[Ge]:$<V&&0<K.length&&(Ye.push(K),K="".concat(Oe[Ge]));Ye.push(K);var Be=0;this._textBaseline===h.CENTER?Be=(Ye.length-1)*H.textLeading()/2:this._textBaseline===h.BOTTOM&&(Be=(Ye.length-1)*H.textLeading());for(var Ae=0;Ae<S.length;Ae++){Oe=S[Ae].split(K="");for(var Qe=0;Qe<Oe.length;Qe++)D="".concat(K+Oe[Qe]),(V=this.textWidth(D))<=$?K+=Oe[Qe]:$<V&&0<K.length&&(this._renderText(H,K.trim(),k,A-Be,Y,q),A+=H.textLeading(),K="".concat(Oe[Qe]))}this._renderText(H,K.trim(),k,A-Be,Y,q),A+=H.textLeading()}}else{var Ke=0;this._textBaseline===h.CENTER?Ke=(S.length-1)*H.textLeading()/2:this._textBaseline===h.BOTTOM&&(Ke=(S.length-1)*H.textLeading());for(var vt=0;vt<S.length;vt++)this._renderText(H,S[vt],k,A-Ke,Y,q-Ke),A+=H.textLeading()}return H}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===E(R)&&R.font&&R.font.supported}},{key:"_updateTextMetrics",value:function(){var R,k,A,$,j,S;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((R=document.createElement("span")).style.fontFamily=this._textFont,R.style.fontSize="".concat(this._textSize,"px"),R.innerHTML="ABCjgq|",(S=document.createElement("div")).style.display="inline-block",S.style.width="1px",S.style.height="0px",(k=document.createElement("div")).appendChild(R),k.appendChild(S),k.style.height="0px",k.style.overflow="hidden",document.body.appendChild(k),S.style.verticalAlign="baseline",$=s(S),j=s(R),A=$[1]-j[1],S.style.verticalAlign="bottom",$=s(S),j=s(R),S=$[1]-j[1]-A,document.body.removeChild(k),this._setProperty("_textAscent",A),this._setProperty("_textDescent",S)),this}}])&&w(p.prototype,m),N}(_.default.Element);function s(m){var p=0,b=0;if(m.offsetParent)for(;p+=m.offsetLeft,b+=m.offsetTop,m=m.offsetParent;);else p+=m.offsetLeft,b+=m.offsetTop;return[p,b]}c.prototype.textSize=function(m){return"number"==typeof m?(this._setProperty("_textSize",m),this._leadingSet||this._setProperty("_textLeading",m*h._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},_.default.Renderer=c,C.default=o=_.default.Renderer},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(m,W,C){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(b){return y(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(p)}m("core-js/modules/es.symbol"),m("core-js/modules/es.symbol.description"),m("core-js/modules/es.symbol.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-own-property-descriptor"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.reflect.construct"),m("core-js/modules/es.reflect.get"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.iterator"),m("core-js/modules/es.weak-map"),m("core-js/modules/web.dom-collections.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(s=m("./main"))&&s.__esModule?s:{default:s},f=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var b=E();if(b&&b.has(p))return b.get(p);var O,N={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in p){var k;Object.prototype.hasOwnProperty.call(p,O)&&((k=R?Object.getOwnPropertyDescriptor(p,O):null)&&(k.get||k.set)?Object.defineProperty(N,O,k):N[O]=p[O])}return N.default=p,b&&b.set(p,N),N}(m("./constants"));function E(){var p;return"function"!=typeof WeakMap?null:(E=function(){return p},p=new WeakMap)}function w(p,b){for(var O=0;O<b.length;O++){var N=b[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}function a(p,b,O){return(a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,R,k){if(A=function($,j){for(;!Object.prototype.hasOwnProperty.call($,j)&&null!==($=u($)););return $}(A,R))return(A=Object.getOwnPropertyDescriptor(A,R)).get?A.get.call(k):A.value})(p,b,O||p)}function l(p,b){return(l=Object.setPrototypeOf||function(O,N){return O.__proto__=N,O})(p,b)}function u(p){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}m("./p5.Renderer");var c="rgba(0,0,0,0)",s=function(p){var b=R;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&l(b,p);var N=function d(p){return function(){var b,O=u(p);if(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=u(this).constructor,Reflect.construct(O,arguments,b)):O.apply(this,arguments),O=this,!b||"object"!==_(b)&&"function"!=typeof b){if(void 0!==O)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}(R);function R(k,A,$){if(this instanceof R)return(k=N.call(this,k,A,$)).drawingContext=k.canvas.getContext("2d"),k._pInst._setProperty("drawingContext",k.drawingContext),k;throw new TypeError("Cannot call a class as a function")}return b=R,(p=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new h.default.Graphics(this.width,this.height,f.WEBGL,(this._pInst instanceof h.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=f.BLEND,this._setFill(f._DEFAULT_FILL),this._setStroke(f._DEFAULT_STROKE),this.drawingContext.lineCap=f.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(k,A){a(u(R.prototype),"resize",this).call(this,k,A),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var k,A;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof h.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(k=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(k,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(k=this._getFill(),A=(A=this._pInst).color.apply(A,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(A.levels),A=A.toString(),this._setFill(A),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(k),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var k=(k=this._pInst).color.apply(k,arguments);this._setFill(k.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",k.levels)}},{key:"stroke",value:function(){var k=(k=this._pInst).color.apply(k,arguments);this._setStroke(k.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",k.levels)}},{key:"erase",value:function(k,A){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,k=this._pInst.color(255,k).toString(),this.drawingContext.fillStyle=k,this._cachedStrokeStyle=this.drawingContext.strokeStyle,k=this._pInst.color(255,A).toString(),this.drawingContext.strokeStyle=k,A=this._cachedBlendMode,this.blendMode(f.REMOVE),this._cachedBlendMode=A,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(u(R.prototype),"beginClip",this).call(this,k),this._cachedFillStyle=this.drawingContext.fillStyle,k=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=k,this._cachedStrokeStyle=this.drawingContext.strokeStyle,k=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=k,k=this._cachedBlendMode,this.blendMode(f.BLEND),this._cachedBlendMode=k,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),a(u(R.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(k,A,$,j,S,D,V,Z,H){k.gifProperties&&k._animateGif(this._pInst);try{h.default.MediaElement&&k instanceof h.default.MediaElement&&k._ensureCanvas();var Q=(Q=this._tint&&k.canvas?this._getTintedImageCanvas(k):Q)||k.canvas||k.elt,Y=1;k.width&&0<k.width&&(Y=Q.width/k.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(Q,Y*A,Y*$,Y*j,Y*S,D,V,Z,H),this._isErasing&&this._pInst.erase()}catch(q){if("NS_ERROR_NOT_AVAILABLE"!==q.name)throw q}}},{key:"_getTintedImageCanvas",value:function(k){if(!k.canvas)return k;k.tintCanvas||(k.tintCanvas=document.createElement("canvas")),k.tintCanvas.width!==k.canvas.width&&(k.tintCanvas.width=k.canvas.width),k.tintCanvas.height!==k.canvas.height&&(k.tintCanvas.height=k.canvas.height);var A=k.tintCanvas.getContext("2d");return A.save(),A.clearRect(0,0,k.canvas.width,k.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(A.drawImage(k.canvas,0,0),A.globalCompositeOperation="luminosity",A.drawImage(k.canvas,0,0),A.globalCompositeOperation="color",A.drawImage(k.canvas,0,0),A.globalCompositeOperation="multiply",A.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),A.fillRect(0,0,k.canvas.width,k.canvas.height),A.globalCompositeOperation="destination-in"),A.globalAlpha=this._tint[3]/255,A.drawImage(k.canvas,0,0),A.restore(),k.tintCanvas}},{key:"blendMode",value:function(k){if(k===f.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(k!==f.BLEND&&k!==f.REMOVE&&k!==f.DARKEST&&k!==f.LIGHTEST&&k!==f.DIFFERENCE&&k!==f.MULTIPLY&&k!==f.EXCLUSION&&k!==f.SCREEN&&k!==f.REPLACE&&k!==f.OVERLAY&&k!==f.HARD_LIGHT&&k!==f.SOFT_LIGHT&&k!==f.DODGE&&k!==f.BURN&&k!==f.ADD)throw new Error("Mode ".concat(k," not recognized."));this._cachedBlendMode=k,this.drawingContext.globalCompositeOperation=k}}},{key:"blend",value:function(){for(var k=this.drawingContext.globalCompositeOperation,A=arguments.length,$=new Array(A),j=0;j<A;j++)$[j]=arguments[j];var S=$[$.length-1],D=Array.prototype.slice.call($,0,$.length-1);this.drawingContext.globalCompositeOperation=S,h.default.prototype.copy.apply(this,D),this.drawingContext.globalCompositeOperation=k}},{key:"_getPixel",value:function(k,A){return[(k=this.drawingContext.getImageData(k,A,1,1).data)[0],k[1],k[2],k[3]]}},{key:"loadPixels",value:function(){var A,k=this._pixelsState,$=this.drawingContext.getImageData(0,0,$=this.width*(A=k._pixelDensity),A*=this.height);k._setProperty("imageData",$),k._setProperty("pixels",$.data)}},{key:"set",value:function(k,A,$){k=Math.floor(k),A=Math.floor(A);var j=this._pixelsState;if($ instanceof h.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(j._pixelDensity,j._pixelDensity),this.drawingContext.clearRect(k,A,$.width,$.height),this.drawingContext.drawImage($.canvas,k,A),this.drawingContext.restore();else{var S=0,D=0,V=0,Z=0,H=4*(A*j._pixelDensity*(this.width*j._pixelDensity)+k*j._pixelDensity);if(j.imageData||j.loadPixels(),"number"==typeof $)H<j.pixels.length&&(V=D=S=$,Z=255);else if(Array.isArray($)){if($.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");H<j.pixels.length&&(S=$[0],D=$[1],V=$[2],Z=$[3])}else $ instanceof h.default.Color&&H<j.pixels.length&&(S=$.levels[0],D=$.levels[1],V=$.levels[2],Z=$.levels[3]);for(var Q=0;Q<j._pixelDensity;Q++)for(var Y=0;Y<j._pixelDensity;Y++)j.pixels[H=4*((A*j._pixelDensity+Y)*this.width*j._pixelDensity+(k*j._pixelDensity+Q))]=S,j.pixels[H+1]=D,j.pixels[H+2]=V,j.pixels[H+3]=Z}}},{key:"updatePixels",value:function(k,A,$,j){var S=this._pixelsState,D=S._pixelDensity;void 0===k&&void 0===A&&void 0===$&&void 0===j&&(A=k=0,$=this.width,j=this.height),k*=D,A*=D,$*=D,j*=D,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=S.imageData),this.drawingContext.putImageData(S.imageData,k,A,0,0,$,j)}},{key:"_acuteArcToBezier",value:function(k,A){var D=A/2,$=Math.cos(D),Z=Math.sin(D),j=1/Math.tan(D),S=(D=k+D,Math.cos(D)),V=(D=Math.sin(D),(4-$)/3);return Z+=($-V)*j,{ax:Math.cos(k).toFixed(7),ay:Math.sin(k).toFixed(7),bx:(V*S+Z*D).toFixed(7),by:(V*D-Z*S).toFixed(7),cx:(V*S-Z*D).toFixed(7),cy:(V*D+Z*S).toFixed(7),dx:Math.cos(k+A).toFixed(7),dy:Math.sin(k+A).toFixed(7)}}},{key:"arc",value:function(k,A,$,j,S,D,V){var Z,H=this.drawingContext,Q=$/2,Y=j/2,q=[];for(k+=Q,A+=Y;1e-5<=D-S;)Z=Math.min(D-S,f.HALF_PI),q.push(this._acuteArcToBezier(S,Z)),S+=Z;return this._doFill&&(this._clipping||H.beginPath(),q.forEach(function(ne,de){0===de&&H.moveTo(k+ne.ax*Q,A+ne.ay*Y),H.bezierCurveTo(k+ne.bx*Q,A+ne.by*Y,k+ne.cx*Q,A+ne.cy*Y,k+ne.dx*Q,A+ne.dy*Y)}),V!==f.PIE&&null!=V||H.lineTo(k,A),H.closePath(),this._clipping||H.fill()),this._doStroke&&(this._clipping||H.beginPath(),q.forEach(function(ne,de){0===de&&H.moveTo(k+ne.ax*Q,A+ne.ay*Y),H.bezierCurveTo(k+ne.bx*Q,A+ne.by*Y,k+ne.cx*Q,A+ne.cy*Y,k+ne.dx*Q,A+ne.dy*Y)}),V===f.PIE?(H.lineTo(k,A),H.closePath()):V===f.CHORD&&H.closePath(),this._clipping||H.stroke()),this}},{key:"ellipse",value:function(Z){var A=this.drawingContext,$=this._doFill,j=this._doStroke,S=parseFloat(Z[0]),D=parseFloat(Z[1]),V=parseFloat(Z[2]);if(Z=parseFloat(Z[3]),$&&!j){if(this._getFill()===c)return this}else if(!$&&j&&this._getStroke()===c)return this;S+=V/2,D+=Z/2,V/=2,Z/=2,this._clipping||A.beginPath(),A.ellipse(S,D,V,Z,0,0,2*Math.PI),!this._clipping&&$&&A.fill(),!this._clipping&&j&&A.stroke()}},{key:"line",value:function(k,A,$,j){var S=this.drawingContext;return this._doStroke&&this._getStroke()!==c&&(this._clipping||S.beginPath(),S.moveTo(k,A),S.lineTo($,j),S.stroke()),this}},{key:"point",value:function(k,A){var $,j,S=this.drawingContext;return this._doStroke&&this._getStroke()!==c?($=this._getStroke(),j=this._getFill(),this._clipping||this._setFill($),this._clipping||S.beginPath(),S.arc(k,A,S.lineWidth/2,0,f.TWO_PI,!1),void(this._clipping||(S.fill(),this._setFill(j)))):this}},{key:"quad",value:function(k,A,$,j,S,D,V,Z){var H=this.drawingContext,Q=this._doFill,Y=this._doStroke;if(Q&&!Y){if(this._getFill()===c)return this}else if(!Q&&Y&&this._getStroke()===c)return this;return this._clipping||H.beginPath(),H.moveTo(k,A),H.lineTo($,j),H.lineTo(S,D),H.lineTo(V,Z),H.closePath(),!this._clipping&&Q&&H.fill(),!this._clipping&&Y&&H.stroke(),this}},{key:"rect",value:function(Y){var A,$,j=Y[0],S=Y[1],D=Y[2],V=Y[3],Z=Y[4],H=Y[5],Q=Y[6],q=(Y=Y[7],this.drawingContext),ne=this._doFill,de=this._doStroke;if(ne&&!de){if(this._getFill()===c)return this}else if(!ne&&de&&this._getStroke()===c)return this;return this._clipping||q.beginPath(),void 0===Z?q.rect(j,S,D,V):(void 0===H&&(H=Z),void 0===Q&&(Q=H),void 0===Y&&(Y=Q),de=(ne=Math.abs(D))/2,$=(A=Math.abs(V))/2,A<2*(Z=ne<2*Z?de:Z)&&(Z=$),A<2*(H=ne<2*H?de:H)&&(H=$),A<2*(Q=ne<2*Q?de:Q)&&(Q=$),A<2*(Y=ne<2*Y?de:Y)&&(Y=$),this._clipping||q.beginPath(),q.moveTo(j+Z,S),q.arcTo(j+D,S,j+D,S+V,H),q.arcTo(j+D,S+V,j,S+V,Q),q.arcTo(j,S+V,j,S,Y),q.arcTo(j,S,j+D,S,Z),q.closePath()),!this._clipping&&this._doFill&&q.fill(),!this._clipping&&this._doStroke&&q.stroke(),this}},{key:"triangle",value:function(Q){var A=this.drawingContext,$=this._doFill,j=this._doStroke,S=Q[0],D=Q[1],V=Q[2],Z=Q[3],H=Q[4];if(Q=Q[5],$&&!j){if(this._getFill()===c)return this}else if(!$&&j&&this._getStroke()===c)return this;this._clipping||A.beginPath(),A.moveTo(S,D),A.lineTo(V,Z),A.lineTo(H,Q),A.closePath(),!this._clipping&&$&&A.fill(),!this._clipping&&j&&A.stroke()}},{key:"endShape",value:function(k,A,$,j,S,D,V){if(0!==A.length&&(this._doStroke||this._doFill)){var Z,H,Q,Y=k===f.CLOSE,q=(Y&&!D&&A.push(A[0]),A.length);if($&&null===V){if(3<q){var ne=[],de=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(A[1][0],A[1][1]),H=1;H+2<q;H++)ne[0]=[(Z=A[H])[0],Z[1]],ne[1]=[Z[0]+(de*A[H+1][0]-de*A[H-1][0])/6,Z[1]+(de*A[H+1][1]-de*A[H-1][1])/6],ne[2]=[A[H+1][0]+(de*A[H][0]-de*A[H+2][0])/6,A[H+1][1]+(de*A[H][1]-de*A[H+2][1])/6],ne[3]=[A[H+1][0],A[H+1][1]],this.drawingContext.bezierCurveTo(ne[1][0],ne[1][1],ne[2][0],ne[2][1],ne[3][0],ne[3][1]);Y&&this.drawingContext.lineTo(A[H+1][0],A[H+1][1]),this._doFillStrokeClose(Y)}}else if(j&&null===V){for(this._clipping||this.drawingContext.beginPath(),H=0;H<q;H++)A[H].isVert?A[H].moveTo?this.drawingContext.moveTo(A[H][0],A[H][1]):this.drawingContext.lineTo(A[H][0],A[H][1]):this.drawingContext.bezierCurveTo(A[H][0],A[H][1],A[H][2],A[H][3],A[H][4],A[H][5]);this._doFillStrokeClose(Y)}else if(S&&null===V){for(this._clipping||this.drawingContext.beginPath(),H=0;H<q;H++)A[H].isVert?A[H].moveTo?this.drawingContext.moveTo(A[H][0],A[H][1]):this.drawingContext.lineTo(A[H][0],A[H][1]):this.drawingContext.quadraticCurveTo(A[H][0],A[H][1],A[H][2],A[H][3]);this._doFillStrokeClose(Y)}else if(V===f.POINTS)for(H=0;H<q;H++)Z=A[H],this._doStroke&&this._pInst.stroke(Z[6]),this._pInst.point(Z[0],Z[1]);else if(V===f.LINES)for(H=0;H+1<q;H+=2)Z=A[H],this._doStroke&&this._pInst.stroke(A[H+1][6]),this._pInst.line(Z[0],Z[1],A[H+1][0],A[H+1][1]);else if(V===f.TRIANGLES)for(H=0;H+2<q;H+=3)Z=A[H],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(Z[0],Z[1]),this.drawingContext.lineTo(A[H+1][0],A[H+1][1]),this.drawingContext.lineTo(A[H+2][0],A[H+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(A[H+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(A[H+2][6]),this.drawingContext.stroke());else if(V===f.TRIANGLE_STRIP)for(H=0;H+1<q;H++)Z=A[H],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(A[H+1][0],A[H+1][1]),this.drawingContext.lineTo(Z[0],Z[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[H+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(A[H+1][5]),H+2<q&&(this.drawingContext.lineTo(A[H+2][0],A[H+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[H+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(A[H+2][5])),this._doFillStrokeClose(Y);else if(V===f.TRIANGLE_FAN){if(2<q){for(this._clipping||this.drawingContext.beginPath(),H=2;H<q;H++)Z=A[H],this.drawingContext.moveTo(A[0][0],A[0][1]),this.drawingContext.lineTo(A[H-1][0],A[H-1][1]),this.drawingContext.lineTo(Z[0],Z[1]),this.drawingContext.lineTo(A[0][0],A[0][1]),H<q-1&&(this._doFill&&Z[5]!==A[H+1][5]||this._doStroke&&Z[6]!==A[H+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(Z[5]),this.drawingContext.fill(),this._pInst.fill(A[H+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(Z[6]),this.drawingContext.stroke(),this._pInst.stroke(A[H+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(Y)}}else if(V===f.QUADS)for(H=0;H+3<q;H+=4){for(Z=A[H],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(Z[0],Z[1]),Q=1;Q<4;Q++)this.drawingContext.lineTo(A[H+Q][0],A[H+Q][1]);this.drawingContext.lineTo(Z[0],Z[1]),!this._clipping&&this._doFill&&this._pInst.fill(A[H+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[H+3][6]),this._doFillStrokeClose(Y)}else if(V===f.QUAD_STRIP){if(3<q)for(H=0;H+1<q;H+=2)Z=A[H],this._clipping||this.drawingContext.beginPath(),H+3<q?(this.drawingContext.moveTo(A[H+2][0],A[H+2][1]),this.drawingContext.lineTo(Z[0],Z[1]),this.drawingContext.lineTo(A[H+1][0],A[H+1][1]),this.drawingContext.lineTo(A[H+3][0],A[H+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(A[H+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[H+3][6])):(this.drawingContext.moveTo(Z[0],Z[1]),this.drawingContext.lineTo(A[H+1][0],A[H+1][1])),this._doFillStrokeClose(Y)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(A[0][0],A[0][1]),H=1;H<q;H++)(Z=A[H]).isVert&&(Z.moveTo?(Y&&this.drawingContext.closePath(),this.drawingContext.moveTo(Z[0],Z[1])):this.drawingContext.lineTo(Z[0],Z[1]));this._doFillStrokeClose(Y)}D=S=j=$=!1,Y&&A.pop()}return this}},{key:"strokeCap",value:function(k){return k!==f.ROUND&&k!==f.SQUARE&&k!==f.PROJECT||(this.drawingContext.lineCap=k),this}},{key:"strokeJoin",value:function(k){return k!==f.ROUND&&k!==f.BEVEL&&k!==f.MITER||(this.drawingContext.lineJoin=k),this}},{key:"strokeWeight",value:function(k){return this.drawingContext.lineWidth=void 0===k||0===k?1e-4:k,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(k){k!==this._cachedFillStyle&&(this.drawingContext.fillStyle=k,this._cachedFillStyle=k)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(k){k!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=k,this._cachedStrokeStyle=k)}},{key:"bezier",value:function(k,A,$,j,S,D,V,Z){return this._pInst.beginShape(),this._pInst.vertex(k,A),this._pInst.bezierVertex($,j,S,D,V,Z),this._pInst.endShape(),this}},{key:"curve",value:function(k,A,$,j,S,D,V,Z){return this._pInst.beginShape(),this._pInst.curveVertex(k,A),this._pInst.curveVertex($,j),this._pInst.curveVertex(S,D),this._pInst.curveVertex(V,Z),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(k){k&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(k,A,$,j,S,D){this.drawingContext.transform(k,A,$,j,S,D)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(k){this.drawingContext.rotate(k)}},{key:"scale",value:function(k,A){return this.drawingContext.scale(k,A),this}},{key:"translate",value:function(k,A){return k instanceof h.default.Vector&&(A=k.y,k=k.x),this.drawingContext.translate(k,A),this}},{key:"_renderText",value:function(k,A,$,j,S,D){if(!(j<D||S<=j))return k.push(),this._isOpenType()?this._textFont._renderPath(A,$,j,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(A,$,j),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(f._DEFAULT_TEXT_FILL),this.drawingContext.fillText(A,$,j))),k.pop(),k}},{key:"textWidth",value:function(k){return this._isOpenType()?this._textFont._textWidth(k,this._textSize):this.drawingContext.measureText(k).width}},{key:"_applyTextProperties",value:function(){var k,A=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),k=this._textFont,this._isOpenType()&&(k=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,'px "').concat(k||"sans-serif",'"'),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===f.CENTER?f._CTX_MIDDLE:this._textBaseline,A}},{key:"push",value:function(){return this.drawingContext.save(),a(u(R.prototype),"push",this).call(this)}},{key:"pop",value:function(k){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,a(u(R.prototype),"pop",this).call(this,k)}}])&&w(b.prototype,p),R}(h.default.Renderer);s.prototype.text=function(p,b,O,A,R){var k;return void 0!==A&&this.drawingContext.textBaseline===f.BASELINE&&(k=!0,this.drawingContext.textBaseline=f.TOP),A=h.default.Renderer.prototype.text.apply(this,arguments),k&&(this.drawingContext.textBaseline=f.BASELINE),A},h.default.Renderer2D=s,C.default=m=h.default.Renderer2D},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var y=(o=o("./main"))&&o.__esModule?o:{default:o};function _(){return{}}y.default.prototype._promisePreloads=[];var h=!(y.default.prototype.registerPromisePreload=function(f){y.default.prototype._promisePreloads.push(f)});y.default.prototype._setupPromisePreloads=function(){var f=!0,E=!1,w=void 0;try{for(var a,l=this._promisePreloads[Symbol.iterator]();!(f=(a=l.next()).done);f=!0){var d=a.value,u=this,c=d.method,s=d.addCallbacks,m=d.legacyPreloadSetup,p=d.target||this,b=p[c].bind(p);if(p===y.default.prototype){if(h)continue;u=null,b=p[c]}p[c]=this._wrapPromisePreload(u,b,s),m&&(p[m.method]=this._legacyPreloadGenerator(u,m,p[c]))}}catch(O){E=!0,w=O}finally{try{f||null==l.return||l.return()}finally{if(E)throw w}}h=!0},y.default.prototype._wrapPromisePreload=function(f,E,w){var a=function(){for(var l=this,d=(this._incrementPreload(),null),u=null,c=arguments.length,s=new Array(c),m=0;m<c;m++)s[m]=arguments[m];if(w)for(var p=s.length-1;0<=p&&!u&&"function"==typeof s[p];p--)u=d,d=s.pop();var b=Promise.resolve(E.apply(this,s));return d&&b.then(d),u&&b.catch(u),b.then(function(){return l._decrementPreload()}),b};return f?a.bind(f):a},y.default.prototype._legacyPreloadGenerator=function(f,l,w){var a=l.createBaseObject||_;return l=function(){var d=this;this._incrementPreload();for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];var m=a.apply(this,c);return w.apply(this,c).then(function(p){Object.assign(m,p),d._decrementPreload()}),m},f?l.bind(f):l}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(o,W,C){"use strict";function y(l){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(a=o("./main"))&&a.__esModule?a:{default:a},h=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==E(l)&&"function"!=typeof l)return{default:l};var d=f();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(o("./constants"));function f(){var l;return"function"!=typeof WeakMap?null:(f=function(){return l},l=new WeakMap)}function E(l){return(E="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(d){return y(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(l)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var w="defaultCanvas0",a=(_.default.prototype.createCanvas=function(l,d,u,c){var s,m,p;if(_.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(u=h.P2D,c=arguments[2]):s=u||h.P2D,c)(p=document.getElementById(w))&&p.parentNode.removeChild(p),p=c,this._defaultGraphicsCreated=!1;else{if(s===h.WEBGL)(p=document.getElementById(w))&&(p.parentNode.removeChild(p),m=this._renderer,this._elements=this._elements.filter(function(O){return O!==m})),(p=document.createElement("canvas")).id=w,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=c||document.createElement("canvas");for(var b=0;document.getElementById("defaultCanvas".concat(b));)b++;w="defaultCanvas".concat(b),p.id=w,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(u=document.createElement("main"),document.body.appendChild(u)),document.getElementsByTagName("main")[0])).appendChild(p)}return s===h.WEBGL?(this._setProperty("_renderer",new _.default.RendererGL(p,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new _.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,d),this._renderer._applyDefaults(),this._renderer},_.default.prototype.resizeCanvas=function(l,d,u){if(_.default._validateParameters("resizeCanvas",arguments),this._renderer){var c,s,m={};for(c in this.drawingContext){var p=this.drawingContext[c];"object"!==E(p)&&"function"!=typeof p&&(m[c]=p)}for(s in this.width=l,this.height=d,this._renderer.resize(l,d),m)try{this.drawingContext[s]=m[s]}catch{}u||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},_.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},_.default.prototype.createGraphics=function(l,d){for(var u=arguments.length,c=new Array(2<u?u-2:0),s=2;s<u;s++)c[s-2]=arguments[s];return c[0]instanceof HTMLCanvasElement&&(c[1]=c[0],c[0]=h.P2D),_.default._validateParameters("createGraphics",arguments),new _.default.Graphics(l,d,c[0],this,c[1])},_.default.prototype.createFramebuffer=function(l){return new _.default.Framebuffer(this,l)},_.default.prototype.clearDepth=function(l){this._assert3d("clearDepth"),this._renderer.clearDepth(l)},_.default.prototype.blendMode=function(l){_.default._validateParameters("blendMode",arguments),l===h.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=h.BLEND),this._renderer.blendMode(l)},_.default);C.default=a},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(o,W,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=a(o("../main")),f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=w();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(o("../constants")),E=a(o("../helpers"));function w(){var d;return"function"!=typeof WeakMap?null:(w=function(){return d},d=new WeakMap)}function a(d){return d&&d.__esModule?d:{default:d}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),h.default.prototype._normalizeArcAngles=function(d,u,c,s,m){var p;return d-=f.TWO_PI*Math.floor(d/f.TWO_PI),u-=f.TWO_PI*Math.floor(u/f.TWO_PI),p=Math.min(Math.abs(d-u),f.TWO_PI-Math.abs(d-u)),m&&(d=d<=f.HALF_PI?Math.atan(c/s*Math.tan(d)):d>f.HALF_PI&&d<=3*f.HALF_PI?Math.atan(c/s*Math.tan(d))+f.PI:Math.atan(c/s*Math.tan(d))+f.TWO_PI,u=u<=f.HALF_PI?Math.atan(c/s*Math.tan(u)):u>f.HALF_PI&&u<=3*f.HALF_PI?Math.atan(c/s*Math.tan(u))+f.PI:Math.atan(c/s*Math.tan(u))+f.TWO_PI),u<d&&(u+=f.TWO_PI),{start:d,stop:u,correspondToSamePoint:p<1e-5}},h.default.prototype.arc=function(d,u,c,s,m,p,b,O){return h.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&m!==p&&(m=this._toRadians(m),p=this._toRadians(p),c=Math.abs(c),s=Math.abs(s),d=E.default.modeAdjust(d,u,c,s,this._renderer._ellipseMode),(u=this._normalizeArcAngles(m,p,d.w,d.h,!0)).correspondToSamePoint?this._renderer.ellipse([d.x,d.y,d.w,d.h,O]):(this._renderer.arc(d.x,d.y,d.w,d.h,u.start,u.stop,b,O),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[d.x,d.y,d.w,d.h,u.start,u.stop,b]))),this},h.default.prototype.ellipse=function(d,u,c,s,m){return h.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},h.default.prototype.circle=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];h.default._validateParameters("circle",u);var s=u.slice(0,2);return s.push(u[2],u[2]),this._renderEllipse.apply(this,function l(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(s))},h.default.prototype._renderEllipse=function(d,u,c,s,m){return(this._renderer._doStroke||this._renderer._doFill)&&(c<0&&(c=Math.abs(c)),void 0===s?s=c:s<0&&(s=Math.abs(s)),d=E.default.modeAdjust(d,u,c,s,this._renderer._ellipseMode),this._renderer.ellipse([d.x,d.y,d.w,d.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[d.x,d.y,d.w,d.h])),this},h.default.prototype.line=function(){for(var d,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return h.default._validateParameters("line",c),this._renderer._doStroke&&(d=this._renderer).line.apply(d,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",c),this},h.default.prototype.point=function(){for(var d,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return h.default._validateParameters("point",c),this._renderer._doStroke&&(1===c.length&&c[0]instanceof h.default.Vector?this._renderer.point.call(this._renderer,c[0].x,c[0].y,c[0].z):((d=this._renderer).point.apply(d,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",c))),this},h.default.prototype.quad=function(){for(var d,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return h.default._validateParameters("quad",c),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&c.length<12?this._renderer.quad.call(this._renderer,c[0],c[1],0,c[2],c[3],0,c[4],c[5],0,c[6],c[7],0,c[8],c[9]):((d=this._renderer).quad.apply(d,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",c))),this},h.default.prototype.rect=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return h.default._validateParameters("rect",u),this._renderRect.apply(this,u)},h.default.prototype.square=function(d,u,c,s,m,p,b){return h.default._validateParameters("square",arguments),this._renderRect.call(this,d,u,c,c,s,m,p,b)},h.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var d=E.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),u=[d.x,d.y,d.w,d.h],c=4;c<arguments.length;c++)u[c]=arguments[c];this._renderer.rect(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[d.x,d.y,d.w,d.h])}return this},h.default.prototype.triangle=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return h.default._validateParameters("triangle",u),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",u),this},C.default=o=h.default},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(o,W,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=o("../main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(o("../constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}h.default.prototype.ellipseMode=function(a){return h.default._validateParameters("ellipseMode",arguments),a!==f.CORNER&&a!==f.CORNERS&&a!==f.RADIUS&&a!==f.CENTER||(this._renderer._ellipseMode=a),this},h.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},h.default.prototype.rectMode=function(a){return h.default._validateParameters("rectMode",arguments),a!==f.CORNER&&a!==f.CORNERS&&a!==f.RADIUS&&a!==f.CENTER||(this._renderer._rectMode=a),this},h.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},h.default.prototype.strokeCap=function(a){return h.default._validateParameters("strokeCap",arguments),a!==f.ROUND&&a!==f.SQUARE&&a!==f.PROJECT||this._renderer.strokeCap(a),this},h.default.prototype.strokeJoin=function(a){return h.default._validateParameters("strokeJoin",arguments),a!==f.ROUND&&a!==f.BEVEL&&a!==f.MITER||this._renderer.strokeJoin(a),this},h.default.prototype.strokeWeight=function(a){return h.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(a),this};var w=h.default;C.default=w},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(o,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(_=o("../main"))&&_.__esModule?_:{default:_};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),y.default.prototype.bezier=function(){for(var h,f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("bezier",E),(this._renderer._doStroke||this._renderer._doFill)&&(h=this._renderer).bezier.apply(h,E),this},y.default.prototype.bezierDetail=function(h){return y.default._validateParameters("bezierDetail",arguments),this._bezierDetail=h,this},y.default.prototype.bezierPoint=function(h,f,E,w,a){y.default._validateParameters("bezierPoint",arguments);var l=1-a;return Math.pow(l,3)*h+3*Math.pow(l,2)*a*f+3*l*Math.pow(a,2)*E+Math.pow(a,3)*w},y.default.prototype.bezierTangent=function(h,f,E,w,a){y.default._validateParameters("bezierTangent",arguments);var l=1-a;return 3*w*Math.pow(a,2)-3*E*Math.pow(a,2)+6*E*l*a-6*f*l*a+3*f*Math.pow(l,2)-3*h*Math.pow(l,2)},y.default.prototype.curve=function(){for(var h,f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("curve",E),this._renderer._doStroke&&(h=this._renderer).curve.apply(h,E),this},y.default.prototype.curveDetail=function(h){return y.default._validateParameters("curveDetail",arguments),this._curveDetail=h<3?3:h,this},y.default.prototype.curveTightness=function(h){return y.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=h,this},y.default.prototype.curvePoint=function(h,f,E,w,a){y.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,d=a*a*a,u=a*a;return h*((l-1)/2*d+(1-l)*u+(l-1)/2*a)+f*((l+3)/2*d+(-5-l)/2*u+1)+E*((-3-l)/2*d+(l+2)*u+(1-l)/2*a)+w*((1-l)/2*d+(l-1)/2*u)},y.default.prototype.curveTangent=function(h,f,E,w,u){y.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,d=u*u*3;return h*((l-1)/2*d+(1-l)*(u*=2)+(l-1)/2)+f*((l+3)/2*d+(-5-l)/2*u)+E*((-3-l)/2*d+(l+2)*u+(1-l)/2)+w*((1-l)/2*d+(l-1)/2*u)};var _=y.default;C.default=_},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(o,W,C){"use strict";function y(b){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(b)}function _(b){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(O){return y(O)}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":y(O)})(b)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(p=o("../main"))&&p.__esModule?p:{default:p},f=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==_(b)&&"function"!=typeof b)return{default:b};var O=E();if(O&&O.has(b))return O.get(b);var N,R={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in b){var A;Object.prototype.hasOwnProperty.call(b,N)&&((A=k?Object.getOwnPropertyDescriptor(b,N):null)&&(A.get||A.set)?Object.defineProperty(R,N,A):R[N]=b[N])}return R.default=b,O&&O.set(b,R),R}(o("../constants"));function E(){var b;return"function"!=typeof WeakMap?null:(E=function(){return b},b=new WeakMap)}var w=null,a=[],l=[],d=!1,u=!1,c=!1,s=!1,m=!0,p=(h.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(l=[],s=!0),this},h.default.prototype.beginShape=function(b){var O;return h.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(O=this._renderer).beginShape.apply(O,arguments):(w=b===f.POINTS||b===f.LINES||b===f.TRIANGLES||b===f.TRIANGLE_FAN||b===f.TRIANGLE_STRIP||b===f.QUADS||b===f.QUAD_STRIP?b:null,a=[],l=[]),this},h.default.prototype.bezierVertex=function(){for(var b,O=arguments.length,N=new Array(O),R=0;R<O;R++)N[R]=arguments[R];if(h.default._validateParameters("bezierVertex",N),this._renderer.isP3D)(b=this._renderer).bezierVertex.apply(b,N);else if(0===a.length)h.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{d=!0;for(var k=[],A=0;A<N.length;A++)k[A]=N[A];k.isVert=!1,(s?l:a).push(k)}return this},h.default.prototype.curveVertex=function(){for(var b,O=arguments.length,N=new Array(O),R=0;R<O;R++)N[R]=arguments[R];return h.default._validateParameters("curveVertex",N),this._renderer.isP3D?(b=this._renderer).curveVertex.apply(b,N):(u=!0,this.vertex(N[0],N[1])),this},h.default.prototype.endContour=function(){if(!this._renderer.isP3D){var b=l[0].slice();b.isVert=l[0].isVert,b.moveTo=!1,l.push(b),m&&(a.push(a[0]),m=!1);for(var O=0;O<l.length;O++)a.push(l[O])}return this},h.default.prototype.endShape=function(b){var O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(h.default._validateParameters("endShape",arguments),O<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),O=1),this._renderer.isP3D)this._renderer.endShape(b,u,d,c,s,w,O);else{if(1!==O&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===a.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(O=b===f.CLOSE)&&!s&&a.push(a[0]),this._renderer.endShape(b,a,u,d,c,s,w),m=!(s=c=d=u=!1),O&&a.pop()}return this},h.default.prototype.quadraticVertex=function(){for(var b,O=arguments.length,N=new Array(O),R=0;R<O;R++)N[R]=arguments[R];if(h.default._validateParameters("quadraticVertex",N),this._renderer.isP3D)(b=this._renderer).quadraticVertex.apply(b,N);else{if(this._contourInited)return(b={}).x=N[0],b.y=N[1],b.x3=N[2],b.y3=N[3],b.type=f.QUADRATIC,this._contourVertices.push(b),this;if(0<a.length){c=!0;for(var k=[],A=0;A<N.length;A++)k[A]=N[A];k.isVert=!1,(s?l:a).push(k)}else h.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},h.default.prototype.vertex=function(b,O,N,R,k){var A;return this._renderer.isP3D?(A=this._renderer).vertex.apply(A,arguments):((A=[]).isVert=!0,A[0]=b,A[1]=O,A[2]=0,A[3]=0,A[4]=0,A[5]=this._renderer._getFill(),A[6]=this._renderer._getStroke(),N&&(A.moveTo=N),(s?(0===l.length&&(A.moveTo=!0),l):a).push(A)),this},h.default.prototype.normal=function(b,O,N){var R;return this._assert3d("normal"),h.default._validateParameters("normal",arguments),(R=this._renderer).normal.apply(R,arguments),this},h.default);C.default=p},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(o,W,C){},{}],292:[function(o,W,C){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var y=this._styles.pop();y?(this._renderer.pop(y.renderer),Object.assign(this,y.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(y){if(!this._inUserDraw&&this._setupDone){var _=parseInt(y),h=((isNaN(_)||_<1)&&(_=1),this._isGlobal?window:this);if("function"==typeof h.draw){void 0===h.setup&&h.scale(h._pixelDensity,h._pixelDensity);for(var f=0;f<_;f++){h.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),h._renderer.isP3D&&h._renderer._update(),h._setProperty("frameCount",h.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{h.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},C.default=o=o.default},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("./main"))&&o.__esModule?o:{default:o};y.default.prototype.applyMatrix=function(){var h=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||h?(h=this._renderer).applyMatrix.apply(h,function _(h){return function(f){if(Array.isArray(f)){for(var E=0,w=new Array(f.length);E<f.length;E++)w[E]=f[E];return w}}(h)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(h=this._renderer).applyMatrix.apply(h,arguments),this},y.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},y.default.prototype.rotate=function(h,f){return y.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(h),f),this},y.default.prototype.rotateX=function(h){return this._assert3d("rotateX"),y.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(h)),this},y.default.prototype.rotateY=function(h){return this._assert3d("rotateY"),y.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(h)),this},y.default.prototype.rotateZ=function(h){return this._assert3d("rotateZ"),y.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(h)),this},y.default.prototype.scale=function(h,f,E){var w;return y.default._validateParameters("scale",arguments),h instanceof y.default.Vector?(h=(w=h).x,f=w.y,E=w.z):Array.isArray(h)&&(h=(w=h)[0],f=w[1],E=w[2]||1),isNaN(f)?f=E=h:isNaN(E)&&(E=1),this._renderer.scale(h,f,E),this},y.default.prototype.shearX=function(h){return y.default._validateParameters("shearX",arguments),h=this._toRadians(h),this._renderer.applyMatrix(1,0,Math.tan(h),1,0,0),this},y.default.prototype.shearY=function(h){return y.default._validateParameters("shearY",arguments),h=this._toRadians(h),this._renderer.applyMatrix(1,Math.tan(h),0,1,0,0),this},y.default.prototype.translate=function(h,f,E){return y.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(h,f,E):this._renderer.translate(h,f),this},C.default=o=y.default},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(o,W,C){"use strict";function y(E){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(E)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function h(E){return function(w){if(Array.isArray(w)){for(var a=0,l=new Array(w.length);a<w.length;a++)l[a]=w[a];return l}}(E)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(E){return(f="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(w){return y(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(E)}_.default.prototype.storeItem=function(E,w){"string"!=typeof E&&console.log("The argument that you passed to storeItem() - ".concat(E," is not a string.")),E.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(E," must not end with 'p5TypeID'.")),void 0===w&&console.log("You cannot store undefined variables using storeItem().");var a=f(w);switch(a){case"number":case"boolean":w=w.toString();break;case"object":w instanceof _.default.Color?a="p5.Color":w instanceof _.default.Vector&&(a="p5.Vector",w=[w.x,w.y,w.z]),w=JSON.stringify(w)}localStorage.setItem(E,w),E="".concat(E,"p5TypeID"),localStorage.setItem(E,a)},_.default.prototype.getItem=function(E){var w=localStorage.getItem(E),a=localStorage.getItem("".concat(E,"p5TypeID"));if(void 0===a)console.log("Unable to determine type of item stored under ".concat(E,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==w)switch(a){case"number":w=parseFloat(w);break;case"boolean":w="true"===w;break;case"object":w=JSON.parse(w);break;case"p5.Color":w=JSON.parse(w),w=this.color.apply(this,h(w.levels));break;case"p5.Vector":w=JSON.parse(w),w=this.createVector.apply(this,h(w))}return w},_.default.prototype.clearStorage=function(){localStorage.clear()},_.default.prototype.removeItem=function(E){"string"!=typeof E&&console.log("The argument that you passed to removeItem() - ".concat(E," is not a string.")),localStorage.removeItem(E),localStorage.removeItem("".concat(E,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],295:[function(o,W,C){"use strict";function y(c){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}function _(c){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(s){return y(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":y(s)})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(o=o("../core/main"))&&o.__esModule?o:{default:o};function f(c,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(s&&s.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),s&&E(c,s)}function E(c,s){return(E=Object.setPrototypeOf||function(m,p){return m.__proto__=p,m})(c,s)}function w(c){return function(){var s,m=a(c);if(s=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(s=a(this).constructor,Reflect.construct(m,arguments,s)):m.apply(this,arguments),m=this,!s||"object"!==_(s)&&"function"!=typeof s){if(void 0!==m)return m;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return s}}function a(c){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(c)}function l(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")}function d(c,s){for(var m=0;m<s.length;m++){var p=s[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}function u(c,s,m){s&&d(c.prototype,s),m&&d(c,m)}h.default.prototype.createStringDict=function(c,s){return h.default._validateParameters("createStringDict",arguments),new h.default.StringDict(c,s)},h.default.prototype.createNumberDict=function(c,s){return h.default._validateParameters("createNumberDict",arguments),new h.default.NumberDict(c,s)},h.default.TypedDict=function(){function c(s,m){return l(this,c),s instanceof Object?this.data=s:(this.data={},this.data[s]=m),this}return u(c,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(s){return this.data.hasOwnProperty(s)}},{key:"get",value:function(s){if(this.data.hasOwnProperty(s))return this.data[s];console.log("".concat(s," does not exist in this Dictionary"))}},{key:"set",value:function(s,m){this._validate(m)?this.data[s]=m:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(s){for(var m in s)this.set(m,s[m])}},{key:"create",value:function(s,m){s instanceof Object&&void 0===m?this._addObj(s):void 0!==s?this.set(s,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(s){if(!this.data.hasOwnProperty(s))throw new Error("".concat(s," does not exist in this Dictionary"));delete this.data[s]}},{key:"print",value:function(){for(var s in this.data)console.log("key:".concat(s," value:").concat(this.data[s]))}},{key:"saveTable",value:function(s){var m,p="";for(m in this.data)p+="".concat(m,",").concat(this.data[m],"\n");var b=new Blob([p],{type:"text/csv"});h.default.prototype.downloadFile(b,s||"mycsv","csv")}},{key:"saveJSON",value:function(s,m){h.default.prototype.saveJSON(this.data,s,m)}},{key:"_validate",value:function(s){return!0}}]),c}(),h.default.StringDict=function(){f(s,h.default.TypedDict);var c=w(s);function s(){l(this,s);for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];return c.call.apply(c,[this].concat(p))}return u(s,[{key:"_validate",value:function(m){return"string"==typeof m}}]),s}(),h.default.NumberDict=function(){f(s,h.default.TypedDict);var c=w(s);function s(){l(this,s);for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];return c.call.apply(c,[this].concat(p))}return u(s,[{key:"_validate",value:function(m){return"number"==typeof m}},{key:"add",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]+=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"sub",value:function(m,p){this.add(m,-p)}},{key:"mult",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]*=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"div",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]/=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"_valueTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var p,b=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*m<b*m&&(b=this.data[p]);return b}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],b=1;b<Object.keys(this.data).length;b++)Object.keys(this.data)[b]*m<p*m&&(p=Object.keys(this.data)[b]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),s}(),C.default=o=h.default.TypedDict},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(o,W,C){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(o=o("../core/main"))&&o.__esModule?o:{default:o};function h(p,b){for(var O=0;O<b.length;O++){var N=b[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}function f(p,b,O){b&&h(p.prototype,b),O&&h(p,O)}function E(p,b){return(E=Object.setPrototypeOf||function(O,N){return O.__proto__=N,O})(p,b)}function a(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}function d(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function u(p){return(u="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(b){return y(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(p)}function c(p,b,O){return(b._userNode||document.body).appendChild(p),O=new(O?_.default.MediaElement:_.default.Element)(p,b),b._elements.push(O),O}function s(p,A,O,N){var R=document.createElement(A),k=("string"==typeof(O=O||"")&&(O=[O]),!0),$=void(A=!1);try{for(var j,S=O[Symbol.iterator]();!(k=(j=S.next()).done);k=!0){var D=j.value,V=document.createElement("source");V.setAttribute("src",D),R.appendChild(V)}}catch(H){A=!0,$=H}finally{try{k||null==S.return||S.return()}finally{if(A)throw $}}"function"==typeof N&&R.addEventListener("canplaythrough",function H(){N(),R.removeEventListener("canplaythrough",H)});var Z=c(R,p,!0);return Z.loadedmetadata=!1,R.addEventListener("loadedmetadata",function(){Z.width=R.videoWidth,Z.height=R.videoHeight,0===Z.elt.width&&(Z.elt.width=R.videoWidth),0===Z.elt.height&&(Z.elt.height=R.videoHeight),Z.presetPlaybackRate&&(Z.elt.playbackRate=Z.presetPlaybackRate,delete Z.presetPlaybackRate),Z.loadedmetadata=!0}),Z}function m(p,b,O,N){d(this,m),this.callback=p,this.time=b,this.id=O,this.val=N}_.default.prototype.select=function(p,b){return _.default._validateParameters("select",arguments),(b=this._getContainer(b).querySelector(p))?this._wrapElement(b):null},_.default.prototype.selectAll=function(p,b){_.default._validateParameters("selectAll",arguments);var O=[],N=this._getContainer(b).querySelectorAll(p);if(N)for(var R=0;R<N.length;R++){var k=this._wrapElement(N[R]);O.push(k)}return O},_.default.prototype._getContainer=function(p){var b=document;return"string"==typeof p?b=document.querySelector(p)||document:p instanceof _.default.Element?b=p.elt:p instanceof HTMLElement&&(b=p),b},_.default.prototype._wrapElement=function(p){var b,O=Array.prototype.slice.call(p.children);return"INPUT"===p.tagName&&"checkbox"===p.type?((b=new _.default.Element(p,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},b):"VIDEO"===p.tagName||"AUDIO"===p.tagName?new _.default.MediaElement(p,this):"SELECT"===p.tagName?this.createSelect(new _.default.Element(p,this)):0<O.length&&O.every(function(N){return"INPUT"===N.tagName||"LABEL"===N.tagName})?this.createRadio(new _.default.Element(p,this)):new _.default.Element(p,this)},_.default.prototype.removeElements=function(p){_.default._validateParameters("removeElements",arguments),this._elements.filter(function(b){return!(b.elt instanceof HTMLCanvasElement)}).map(function(b){return b.remove()})},_.default.Element.prototype.changed=function(p){return _.default.Element._adjustListener("change",p,this),this},_.default.Element.prototype.input=function(p){return _.default.Element._adjustListener("input",p,this),this},_.default.prototype.createDiv=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("div");return b.innerHTML=p,c(b,this)},_.default.prototype.createP=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("p");return b.innerHTML=p,c(b,this)},_.default.prototype.createSpan=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("span");return b.innerHTML=p,c(b,this)},_.default.prototype.createImg=function(){_.default._validateParameters("createImg",arguments);var p,b=document.createElement("img"),O=arguments;return 1<O.length&&"string"==typeof O[1]&&(b.alt=O[1]),2<O.length&&"string"==typeof O[2]&&(b.crossOrigin=O[2]),b.src=O[0],p=c(b,this),b.addEventListener("load",function(){p.width=b.offsetWidth||b.width,p.height=b.offsetHeight||b.height;var N=O[O.length-1];"function"==typeof N&&N(p)}),p},_.default.prototype.createA=function(p,b,O){_.default._validateParameters("createA",arguments);var N=document.createElement("a");return N.href=p,N.innerHTML=b,O&&(N.target=O),c(N,this)},_.default.prototype.createSlider=function(p,b,O,N){_.default._validateParameters("createSlider",arguments);var R=document.createElement("input");return R.type="range",R.min=p,R.max=b,0===N?R.step=1e-18:N&&(R.step=N),"number"==typeof O&&(R.value=O),c(R,this)},_.default.prototype.createButton=function(p,b){_.default._validateParameters("createButton",arguments);var O=document.createElement("button");return O.innerHTML=p,b&&(O.value=b),c(O,this)},_.default.prototype.createCheckbox=function(){for(var p=arguments.length,b=new Array(p),O=0;O<p;O++)b[O]=arguments[O];_.default._validateParameters("createCheckbox",b);var N=document.createElement("div"),R=document.createElement("input"),k=(R.type="checkbox",document.createElement("label")),A=(k.appendChild(R),N.appendChild(k),c(N,this));return A.checked=function(){var $=A.elt.firstElementChild.getElementsByTagName("input")[0];if($){if(0===arguments.length)return $.checked;$.checked=!(arguments.length<=0||!arguments[0])}return A},this.value=function($){return A.value=$,this},b[0]&&(A.value(b[0]),(N=document.createElement("span")).innerHTML=b[0],k.appendChild(N)),b[1]&&(R.checked=!0),A},_.default.prototype.createSelect=function(){for(var p,b=arguments.length,O=new Array(b),N=0;N<b;N++)O[N]=arguments[N];_.default._validateParameters("createSelect",O);var R,k=O[0];return k instanceof _.default.Element&&k.elt instanceof HTMLSelectElement?this.elt=(p=k).elt:k instanceof HTMLSelectElement?(p=c(k,this),this.elt=k):(R=document.createElement("select"),k&&"boolean"==typeof k&&R.setAttribute("multiple","true"),p=c(R,this),this.elt=R),p.option=function(A,$){var j;if(void 0!==A){for(var S,D=0;D<this.elt.length;D+=1)if(this.elt[D].textContent===A){j=D;break}void 0!==j?!1===$?this.elt.remove(j):this.elt[j].value=$:((S=document.createElement("option")).textContent=A,S.value=void 0===$?A:$,this.elt.appendChild(S),this._pInst._elements.push(S))}},p.selected=function(A){if(void 0!==A){for(var $=0;$<this.elt.length;$+=1)this.elt[$].value.toString()===A.toString()&&(this.elt.selectedIndex=$);return this}if(this.elt.getAttribute("multiple")){var j=[],S=!0,D=!1,V=void 0;try{for(var Z,H=this.elt.selectedOptions[Symbol.iterator]();!(S=(Z=H.next()).done);S=!0)j.push(Z.value.value)}catch(Y){D=!0,V=Y}finally{try{S||null==H.return||H.return()}finally{if(D)throw V}}return j}return this.elt.value},p.disable=function(A){if("string"==typeof A)for(var $=0;$<this.elt.length;$++)this.elt[$].value.toString()===A&&(this.elt[$].disabled=!0,this.elt[$].selected=!1);else this.elt.disabled=!0;return this},p.enable=function(A){if("string"==typeof A)for(var $=0;$<this.elt.length;$++)this.elt[$].value.toString()===A&&(this.elt[$].disabled=!1,this.elt[$].selected=!1);else{this.elt.disabled=!1;for(var j=0;j<this.elt.length;j++)this.elt[j].disabled=!1,this.elt[j].selected=!1}return this},p},_.default.prototype.createRadio=function(){function p(A){return A instanceof HTMLInputElement&&"radio"===A.type}function b(A){return A instanceof HTMLLabelElement}var O,N,R,k=arguments.length<=0?void 0:arguments[0];return k instanceof _.default.Element&&(k.elt instanceof HTMLDivElement||k.elt instanceof HTMLSpanElement)?(O=k,this.elt=k.elt):k instanceof HTMLDivElement||k instanceof HTMLSpanElement?(O=c(k,this),N=this.elt=k,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(R=arguments.length<=1?void 0:arguments[1])):("string"==typeof k&&(R=k),N=document.createElement("div"),O=c(N,this),this.elt=N),O._name=R||"radioOption",O._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(A){return p(A)||b(A)&&p(A.firstElementChild)}).map(function(A){return p(A)?A:A.firstElementChild})},O.option=function(A,$){var j,S,D,V=!0,Z=!1,H=void 0;try{for(var Q,Y=O._getOptionsArray()[Symbol.iterator]();!(V=(Q=Y.next()).done);V=!0){var q=Q.value;if(q.value===A){j=q;break}}}catch(ne){Z=!0,H=ne}finally{try{V||null==Y.return||Y.return()}finally{if(Z)throw H}}return void 0===j&&((j=document.createElement("input")).setAttribute("type","radio"),j.setAttribute("value",A)),j.setAttribute("name",O._name),b(j.parentElement)?S=j.parentElement:(S=document.createElement("label")).insertAdjacentElement("afterbegin",j),S.lastElementChild instanceof HTMLSpanElement?D=S.lastElementChild:(D=document.createElement("span"),j.insertAdjacentElement("afterend",D)),D.innerHTML=void 0===$?A:$,this.elt.appendChild(S),j},O.remove=function(A){var $=!0,j=!1,S=void 0;try{for(var D,V=O._getOptionsArray()[Symbol.iterator]();!($=(D=V.next()).done);$=!0){var Z=D.value;if(Z.value===A)return void(b(Z.parentElement)?Z.parentElement:Z).remove()}}catch(H){j=!0,S=H}finally{try{$||null==V.return||V.return()}finally{if(j)throw S}}},O.value=function(){var A="",$=!0,j=!1,S=void 0;try{for(var D,V=O._getOptionsArray()[Symbol.iterator]();!($=(D=V.next()).done);$=!0){var Z=D.value;if(Z.checked){A=Z.value;break}}}catch(H){j=!0,S=H}finally{try{$||null==V.return||V.return()}finally{if(j)throw S}}return A},O.selected=function(A){var $=null;if(void 0===A){var j=!0,S=!1,D=void 0;try{for(var V,Z=O._getOptionsArray()[Symbol.iterator]();!(j=(V=Z.next()).done);j=!0){var H=V.value;if(H.checked){$=H;break}}}catch(de){S=!0,D=de}finally{try{j||null==Z.return||Z.return()}finally{if(S)throw D}}}else{O._getOptionsArray().forEach(function(K){K.checked=!1,K.removeAttribute("checked")});var Q=!0;S=!1,D=void 0;try{for(var Y,q=O._getOptionsArray()[Symbol.iterator]();!(Q=(Y=q.next()).done);Q=!0){var ne=Y.value;ne.value===A&&(ne.setAttribute("checked",!0),ne.checked=!0,$=ne)}}catch(K){S=!0,D=K}finally{try{Q||null==q.return||q.return()}finally{if(S)throw D}}}return $},O.disable=function(){var A=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],$=!0,j=!1,S=void 0;try{for(var D,V=O._getOptionsArray()[Symbol.iterator]();!($=(D=V.next()).done);$=!0)D.value.setAttribute("disabled",A)}catch(Z){j=!0,S=Z}finally{try{$||null==V.return||V.return()}finally{if(j)throw S}}},O},_.default.prototype.createColorPicker=function(p){_.default._validateParameters("createColorPicker",arguments);var b=document.createElement("input");return b.type="color",p?p instanceof _.default.Color?b.value=p.toString("#rrggbb"):(_.default.prototype._colorMode="rgb",_.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},b.value=_.default.prototype.color(p).toString("#rrggbb")):b.value="#000000",(b=c(b,this)).color=function(){return p&&(p.mode&&(_.default.prototype._colorMode=p.mode),p.maxes&&(_.default.prototype._colorMaxes=p.maxes)),_.default.prototype.color(this.elt.value)},b},_.default.prototype.createInput=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",O=(_.default._validateParameters("createInput",arguments),document.createElement("input"));return O.setAttribute("value",p),O.setAttribute("type",b),c(O,this)},_.default.prototype.createFileInput=function(p){var b,O=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(_.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(b=document.createElement("input")).setAttribute("type","file"),O&&b.setAttribute("multiple",!0),b.addEventListener("change",function(N){var R=!0,k=!1,A=void 0;try{for(var $,j=N.target.files[Symbol.iterator]();!(R=($=j.next()).done);R=!0)_.default.File._load($.value,p)}catch(D){k=!0,A=D}finally{try{R||null==j.return||j.return()}finally{if(k)throw A}}},!1),c(b,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},_.default.prototype.createVideo=function(p,b){return _.default._validateParameters("createVideo",arguments),s(this,"video",p,b)},_.default.prototype.createAudio=function(p,b){return _.default._validateParameters("createAudio",arguments),s(this,"audio",p,b)},_.default.prototype.VIDEO="video",_.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(p){var b=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return b?new Promise(function(O,N){b.call(navigator,p,O,N)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),_.default.prototype.createCapture=function(){for(var p=arguments.length,b=new Array(p),O=0;O<p;O++)b[O]=arguments[O];if(_.default._validateParameters("createCapture",b),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var N,R=!0,k=!0,A=!1,$=0,j=b;$<j.length;$++){var S=j[$];S===_.default.prototype.VIDEO?k=!1:S===_.default.prototype.AUDIO?R=!1:"object"===u(S)?(void 0!==S.flipped&&(A=S.flipped,delete S.flipped),D=Object.assign({},D,S)):"function"==typeof S&&(N=S)}var D=Object.assign({},{video:R,audio:k},D),V=document.createElement("video"),Z=(V.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(D).then(function(H){try{"srcObject"in V?V.srcObject=H:V.src=window.URL.createObjectURL(H)}catch{V.src=H}},console.error),c(V,this,!0));return Z.loadedmetadata=!1,V.addEventListener("loadedmetadata",function(){V.play(),V.width?(Z.width=V.width,Z.height=V.height,A&&(Z.elt.style.transform="scaleX(-1)")):(Z.width=Z.elt.width=V.videoWidth,Z.height=Z.elt.height=V.videoHeight),Z.loadedmetadata=!0,N&&N(V.srcObject)}),Z.flipped=A,Z},_.default.prototype.createElement=function(p,b){return _.default._validateParameters("createElement",arguments),p=document.createElement(p),void 0!==b&&(p.innerHTML=b),c(p,this)},_.default.Element.prototype.addClass=function(p){return this.elt.className?this.hasClass(p)||(this.elt.className=this.elt.className+" "+p):this.elt.className=p,this},_.default.Element.prototype.removeClass=function(p){return this.elt.classList.remove(p),this},_.default.Element.prototype.hasClass=function(p){return this.elt.classList.contains(p)},_.default.Element.prototype.toggleClass=function(p){return this.elt.classList.contains(p)?this.elt.classList.remove(p):this.elt.classList.add(p),this},_.default.Element.prototype.child=function(p){return void 0===p?this.elt.childNodes:("string"==typeof p?("#"===p[0]&&(p=p.substring(1)),p=document.getElementById(p)):p instanceof _.default.Element&&(p=p.elt),p instanceof HTMLElement&&this.elt.appendChild(p),this)},_.default.Element.prototype.center=function(p){var b=this.elt.style.display,O="none"===this.elt.style.display,N="none"===this.parent().style.display,R={x:this.elt.offsetLeft,y:this.elt.offsetTop},k=(O&&this.show(),N&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),A=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===p||void 0===p?this.position(k/2+this.parent().offsetLeft,A/2+this.parent().offsetTop):"horizontal"===p?this.position(k/2+this.parent().offsetLeft,R.y):"vertical"===p&&this.position(R.x,A/2+this.parent().offsetTop),this.style("display",b),O&&this.hide(),N&&this.parent().hide(),this},_.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},_.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},_.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=p,this},_.default.Element.prototype._rotate=function(){var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=p,this},_.default.Element.prototype.style=function(p,b){if(void 0===(b=b instanceof _.default.Color?"rgba("+b.levels[0]+","+b.levels[1]+","+b.levels[2]+","+b.levels[3]/255+")":b)){if(-1===p.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(p);for(var O=p.split(";"),N=0;N<O.length;N++){var R=O[N].split(":");R[0]&&R[1]&&(this.elt.style[R[0].trim()]=R[1].trim())}}else this.elt.style[p]=b,"width"!==p&&"height"!==p&&"left"!==p&&"top"!==p||(b=window.getComputedStyle(this.elt).getPropertyValue(p).replace(/[^\d.]/g,""),this[p]=Math.round(parseFloat(b,10)));return this},_.default.Element.prototype.attribute=function(p,b){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===b?this.elt.getAttribute(p):(this.elt.setAttribute(p,b),this);if(void 0===b)return this.elt.firstChild.getAttribute(p);for(var O=0;O<this.elt.childNodes.length;O++)this.elt.childNodes[O].setAttribute(p,b)},_.default.Element.prototype.removeAttribute=function(p){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var b=0;b<this.elt.childNodes.length;b++)this.elt.childNodes[b].removeAttribute(p);return this.elt.removeAttribute(p),this},_.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},_.default.Element.prototype.show=function(){return this.elt.style.display="block",this},_.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},_.default.Element.prototype.size=function(p,b){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var O=p,N=b,R=_.default.prototype.AUTO;if(O!==R||N!==R){if(O===R?O=b*this.width/this.height:N===R&&(N=p*this.height/this.width),this.elt instanceof HTMLCanvasElement){var k,A={},$=this.elt.getContext("2d");for(k in $)A[k]=$[k];for(k in this.elt.setAttribute("width",O*this._pInst._pixelDensity),this.elt.setAttribute("height",N*this._pInst._pixelDensity),this.elt.style.width=O+"px",this.elt.style.height=N+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),A)this.elt.getContext("2d")[k]=A[k]}else this.elt.style.width=O+"px",this.elt.style.height=N+"px",this.elt.width=O,this.elt.height=N;this.width=O,this.height=N,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",O),this._pInst._setProperty("height",N))}return this},_.default.Element.prototype.remove=function(){this instanceof _.default.MediaElement&&(this.stop(),null!==(b=this.elt.srcObject)&&b.getTracks().forEach(function(O){O.stop()}));var p,b=this._pInst._elements.indexOf(this);for(p in-1!==b&&this._pInst._elements.splice(b,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},_.default.Element.prototype.drop=function(p,b){var O;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",O=function(N){N.preventDefault()}),this.elt.addEventListener("dragleave",O)),_.default.Element._attachListener("drop",function(R){R.preventDefault(),"function"==typeof b&&b.call(this,R),R=R.dataTransfer.files;var k=!0,A=!1,$=void 0;try{for(var j,S=R[Symbol.iterator]();!(k=(j=S.next()).done);k=!0)_.default.File._load(j.value,p)}catch(V){A=!0,$=V}finally{try{k||null==S.return||S.return()}finally{if(A)throw $}}},this)):console.log("The File APIs are not fully supported in this browser."),this},_.default.Element.prototype.draggable=function(p){var b,O="ontouchstart"in window,N=0,R=0,k=0,A=0,$=O?"touchend":"mouseup",j=O?"touchmove":"mousemove";function S(V){var Z;V=V||window.event,A=O?(Z=V.changedTouches,N=k-parseInt(Z[0].clientX),R=A-parseInt(Z[0].clientY),k=parseInt(Z[0].clientX),parseInt(Z[0].clientY)):(N=k-parseInt(V.clientX),R=A-parseInt(V.clientY),k=parseInt(V.clientX),parseInt(V.clientY)),p.style.left=p.offsetLeft-N+"px",p.style.top=p.offsetTop-R+"px"}function D(){document.removeEventListener($,D,!1),document.removeEventListener(j,S,!1)}return void 0===p?b=p=this.elt:p!==this.elt&&p.elt!==this.elt&&(p=p.elt,b=this.elt),b.addEventListener(O?"touchstart":"mousedown",function(V){var Z;return V=V||window.event,A=O?(Z=V.changedTouches,k=parseInt(Z[0].clientX),parseInt(Z[0].clientY)):(k=parseInt(V.clientX),parseInt(V.clientY)),document.addEventListener($,D,!1),document.addEventListener(j,S,!1),!1},!1),b.style.cursor="move",this},o=function(p){var b=N;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&E(b,p);var O=function w(p){return function(){var b,O,N=l(p);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=l(this).constructor,Reflect.construct(N,arguments,b)):N.apply(this,arguments),N=this,!(O=b)||"object"!==u(O)&&"function"!=typeof O?a(N):O}}(N);function N(R,k){d(this,N);var A=a(k=O.call(this,R,k));return k.elt.crossOrigin="anonymous",k._prevTime=0,k._cueIDCounter=0,k._cues=[],k.pixels=[],k._pixelsState=a(k),k._pixelDensity=1,k._modified=!1,k._frameOnCanvas=-1,Object.defineProperty(A,"src",{get:function(){var $=A.elt.children[0].src,j=A.elt.src===window.location.href?"":A.elt.src;return $===window.location.href?j:$},set:function($){for(var j=0;j<A.elt.children.length;j++)A.elt.removeChild(A.elt.children[j]);var S=document.createElement("source");S.src=$,R.appendChild(S),A.elt.src=$,A.modified=!0}}),A._onended=function(){},A.elt.onended=function(){A._onended(A)},k}return f(N,[{key:"play",value:function(){var R;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(R=this.elt.play())&&R.catch&&R.catch(function(k){"NotAllowedError"===k.name?console.error(k):console.error("Media play method encountered an unexpected error",k)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var R=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(R)},{passive:!0,once:!0})}},{key:"autoplay",value:function(R){var k=this,A=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",R),R&&!A&&(R=function(){return k._setupAutoplayFailDetection()},4===this.elt.readyState?R():this.elt.addEventListener("canplay",R,{passive:!0,once:!0})),this}},{key:"volume",value:function(R){if(void 0===R)return this.elt.volume;this.elt.volume=R}},{key:"speed",value:function(R){if(void 0===R)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=R:this.presetPlaybackRate=R}},{key:"time",value:function(R){return void 0===R?this.elt.currentTime:(this.elt.currentTime=R,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var R=arguments.length,k=new Array(R),A=0;A<R;A++)k[A]=arguments[A];return _.default.Renderer2D.prototype.loadPixels.apply(this,k)}},{key:"updatePixels",value:function(R,k,A,$){return this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.updatePixels.call(this,R,k,A,$)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var R=arguments.length,k=new Array(R),A=0;A<R;A++)k[A]=arguments[A];return _.default.Renderer2D.prototype.get.apply(this,k)}},{key:"_getPixel",value:function(){this.loadPixels();for(var R=arguments.length,k=new Array(R),A=0;A<R;A++)k[A]=arguments[A];return _.default.Renderer2D.prototype._getPixel.apply(this,k)}},{key:"set",value:function(R,k,A){this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.set.call(this,R,k,A),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var R=arguments.length,k=new Array(R),A=0;A<R;A++)k[A]=arguments[A];_.default.prototype.copy.apply(this,k)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var R=arguments.length,k=new Array(R),A=0;A<R;A++)k[A]=arguments[A];_.default.Image.prototype.mask.apply(this,k)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(R){this._modified=R}},{key:"onended",value:function(R){return this._onended=R,this}},{key:"connect",value:function(R){var k,A;if("function"==typeof _.default.prototype.getAudioContext)k=_.default.prototype.getAudioContext(),A=_.default.soundOut.input;else try{A=(k=R.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=k.createMediaElementSource(this.elt),this.audioSourceNode.connect(A)),this.audioSourceNode.connect(R?R.input?R.input:R:A)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(R,j,A){var $=this._cueIDCounter++;return j=new m(j,R,$,A),this._cues.push(j),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),$}},{key:"removeCue",value:function(R){for(var k=0;k<this._cues.length;k++)this._cues[k].id===R&&(console.log(R),this._cues.splice(k,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var R=this.time(),k=0;k<this._cues.length;k++){var A=this._cues[k].time;this._prevTime<A&&A<=R&&this._cues[k].callback(this._cues[k].val)}this._prevTime=R}}]),N}(_.default.Element),_.default.MediaElement=o,o=function(){function p(b,O){d(this,p),this.file=b,this._pInst=O,O=b.type.split("/"),this.type=O[0],this.subtype=O[1],this.name=b.name,this.size=b.size,this.data=void 0}return f(p,null,[{key:"_createLoader",value:function(b,O){var N=new FileReader;return N.onload=function(R){var k,A=new _.default.File(b);"application/json"===A.file.type?A.data=JSON.parse(R.target.result):"text/xml"===A.file.type?(k=(new DOMParser).parseFromString(R.target.result,"text/xml"),A.data=new _.default.XML(k.documentElement)):A.data=R.target.result,O(A)},N}},{key:"_load",value:function(b,O){var N;/^text\//.test(b.type)||"application/json"===b.type?_.default.File._createLoader(b,O).readAsText(b):/^(video|audio)\//.test(b.type)?((N=new _.default.File(b)).data=URL.createObjectURL(b),O(N)):_.default.File._createLoader(b,O).readAsDataURL(b)}}]),p}(),_.default.File=o,C.default=o=_.default},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(u,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(u=u("../core/main"))&&u.__esModule?u:{default:u};y.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",y.default.prototype.accelerationX=0,y.default.prototype.accelerationY=0,y.default.prototype.accelerationZ=0,y.default.prototype.pAccelerationX=0,y.default.prototype.pAccelerationY=0,y.default.prototype.pAccelerationZ=0,y.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},y.default.prototype.rotationX=0,y.default.prototype.rotationY=0,y.default.prototype.rotationZ=0,y.default.prototype.pRotationX=0,y.default.prototype.pRotationY=0;var _=y.default.prototype.pRotationZ=0,h=0,f=0,E="clockwise",w="clockwise",a="clockwise",l=(y.default.prototype.pRotateDirectionX=void 0,y.default.prototype.pRotateDirectionY=void 0,y.default.prototype.pRotateDirectionZ=void 0,y.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},y.default.prototype.turnAxis=void 0,.5),d=30;y.default.prototype.setMoveThreshold=function(c){y.default._validateParameters("setMoveThreshold",arguments),l=c},y.default.prototype.setShakeThreshold=function(c){y.default._validateParameters("setShakeThreshold",arguments),d=c},y.default.prototype._ondeviceorientation=function(c){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(c.beta)),this._setProperty("rotationY",this._fromDegrees(c.gamma)),this._setProperty("rotationZ",this._fromDegrees(c.alpha)),this._handleMotion()},y.default.prototype._ondevicemotion=function(c){this._updatePAccelerations(),this._setProperty("accelerationX",2*c.acceleration.x),this._setProperty("accelerationY",2*c.acceleration.y),this._setProperty("accelerationZ",2*c.acceleration.z),this._handleMotion()},y.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var c,s,m,p,b,O=this._isGlobal?window:this;"function"==typeof O.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>l||Math.abs(this.accelerationY-this.pAccelerationY)>l||Math.abs(this.accelerationZ-this.pAccelerationZ)>l)&&O.deviceMoved(),"function"==typeof O.deviceTurned&&(s=this._toDegrees(this.rotationX)+180,m=this._toDegrees(this.pRotationX)+180,c=_+180,0<s-m&&s-m<270||s-m<-270?E="clockwise":(s-m<0||270<s-m)&&(E="counter-clockwise"),E!==this.pRotateDirectionX&&(c=s),90<Math.abs(s-c)&&Math.abs(s-c)<270&&(c=s,this._setProperty("turnAxis","X"),O.deviceTurned()),this.pRotateDirectionX=E,_=c-180,m=this._toDegrees(this.rotationY)+180,s=this._toDegrees(this.pRotationY)+180,c=h+180,0<m-s&&m-s<270||m-s<-270?w="clockwise":(m-s<0||270<m-this.pRotationY)&&(w="counter-clockwise"),w!==this.pRotateDirectionY&&(c=m),90<Math.abs(m-c)&&Math.abs(m-c)<270&&(c=m,this._setProperty("turnAxis","Y"),O.deviceTurned()),this.pRotateDirectionY=w,h=c-180,0<(s=this._toDegrees(this.rotationZ))-(m=this._toDegrees(this.pRotationZ))&&s-m<270||s-m<-270?a="clockwise":(s-m<0||270<s-m)&&(a="counter-clockwise"),a!==this.pRotateDirectionZ&&(f=s),90<Math.abs(s-f)&&Math.abs(s-f)<270&&(f=s,this._setProperty("turnAxis","Z"),O.deviceTurned()),this.pRotateDirectionZ=a,this._setProperty("turnAxis",void 0)),"function"==typeof O.deviceShaken&&(null!==this.pAccelerationX&&(p=Math.abs(this.accelerationX-this.pAccelerationX),b=Math.abs(this.accelerationY-this.pAccelerationY)),d<p+b&&O.deviceShaken())},C.default=u=y.default},{"../core/main":280}],298:[function(o,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};y.default.prototype.isKeyPressed=!1,y.default.prototype.keyIsPressed=!1,y.default.prototype.key="",y.default.prototype.keyCode=0,y.default.prototype._onkeydown=function(_){var h;this._downKeys[_.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",_.which),this._downKeys[_.which]=!0,this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"!=typeof(h=this._isGlobal?window:this).keyPressed||_.charCode||!1===h.keyPressed(_)&&_.preventDefault())},y.default.prototype._onkeyup=function(_){this._downKeys[_.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),this._setProperty("keyCode",_.which);var h=this._isGlobal?window:this;"function"==typeof h.keyReleased&&!1===h.keyReleased(_)&&_.preventDefault()},y.default.prototype._onkeypress=function(_){var h;_.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",_.which),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"==typeof(h=this._isGlobal?window:this).keyTyped&&!1===h.keyTyped(_)&&_.preventDefault())},y.default.prototype._onblur=function(_){this._downKeys={}},y.default.prototype.keyIsDown=function(_){return y.default._validateParameters("keyIsDown",arguments),this._downKeys[_]||!1},y.default.prototype._areDownKeys=function(){for(var _ in this._downKeys)if(this._downKeys.hasOwnProperty(_)&&!0===this._downKeys[_])return!0;return!1},C.default=o=y.default},{"../core/main":280}],299:[function(o,W,C){"use strict";function y(w){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(w)}function _(w){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(a){return y(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(w)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(h=o("../core/main"))&&h.__esModule?h:{default:h},f=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==_(w)&&"function"!=typeof w)return{default:w};var a=E();if(a&&a.has(w))return a.get(w);var l,d={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in w){var c;Object.prototype.hasOwnProperty.call(w,l)&&((c=u?Object.getOwnPropertyDescriptor(w,l):null)&&(c.get||c.set)?Object.defineProperty(d,l,c):d[l]=w[l])}return d.default=w,a&&a.set(w,d),d}(o("../core/constants"));function E(){var w;return"function"!=typeof WeakMap?null:(E=function(){return w},w=new WeakMap)}h.default.prototype.movedX=0,h.default.prototype.movedY=0,h.default.prototype._hasMouseInteracted=!1,h.default.prototype.mouseX=0,h.default.prototype.mouseY=0,h.default.prototype.pmouseX=0,h.default.prototype.pmouseY=0,h.default.prototype.winMouseX=0,h.default.prototype.winMouseY=0,h.default.prototype.pwinMouseX=0,h.default.prototype.pwinMouseY=0,h.default.prototype.mouseButton=0,h.default.prototype.mouseIsPressed=!1,h.default.prototype._updateNextMouseCoords=function(w){var a,l,d,u,c;null!==this._curElement&&(!w.touches||0<w.touches.length)&&(l=this.width,d=this.height,(u=w)&&!u.clientX&&(u.touches?u=u.touches[0]:u.changedTouches&&(u=u.changedTouches[0])),c=(a=this._curElement.elt).getBoundingClientRect(),d={x:(u.clientX-c.left)/(l=a.scrollWidth/l||1),y:(u.clientY-c.top)/(a=a.scrollHeight/d||1),winX:u.clientX,winY:u.clientY,id:u.identifier},this._setProperty("movedX",w.movementX),this._setProperty("movedY",w.movementY),this._setProperty("mouseX",d.x),this._setProperty("mouseY",d.y),this._setProperty("winMouseX",d.winX),this._setProperty("winMouseY",d.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},h.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},h.default.prototype._setMouseButton=function(w){this._setProperty("mouseButton",1===w.button?f.CENTER:2===w.button?f.RIGHT:f.LEFT)},h.default.prototype._onmousemove=function(w){var a=this._isGlobal?window:this;this._updateNextMouseCoords(w),this.mouseIsPressed?"function"==typeof a.mouseDragged?!1===a.mouseDragged(w)&&w.preventDefault():"function"==typeof a.touchMoved&&!1===a.touchMoved(w)&&w.preventDefault():"function"==typeof a.mouseMoved&&!1===a.mouseMoved(w)&&w.preventDefault()},h.default.prototype._onmousedown=function(w){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(w),this._updateNextMouseCoords(w),this.touchstart||("function"==typeof a.mousePressed?!1===a.mousePressed(w)&&w.preventDefault():"function"==typeof a.touchStarted&&!1===a.touchStarted(w)&&w.preventDefault(),this.touchstart=!1)},h.default.prototype._onmouseup=function(w){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof a.mouseReleased?!1===a.mouseReleased(w)&&w.preventDefault():"function"==typeof a.touchEnded&&!1===a.touchEnded(w)&&w.preventDefault(),this.touchend=!1)},h.default.prototype._ondragend=h.default.prototype._onmouseup,h.default.prototype._ondragover=h.default.prototype._onmousemove,h.default.prototype._onclick=function(w){var a=this._isGlobal?window:this;"function"==typeof a.mouseClicked&&!1===a.mouseClicked(w)&&w.preventDefault()},h.default.prototype._ondblclick=function(w){var a=this._isGlobal?window:this;"function"==typeof a.doubleClicked&&!1===a.doubleClicked(w)&&w.preventDefault()},h.default.prototype._mouseWheelDeltaY=0,h.default.prototype._pmouseWheelDeltaY=0,h.default.prototype._onwheel=function(w){var a=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",w.deltaY),"function"==typeof a.mouseWheel&&(w.delta=w.deltaY,!1===a.mouseWheel(w)&&w.preventDefault())},h.default.prototype.requestPointerLock=function(){var w=this._curElement.elt;return w.requestPointerLock=w.requestPointerLock||w.mozRequestPointerLock,w.requestPointerLock?(w.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},h.default.prototype.exitPointerLock=function(){document.exitPointerLock()},C.default=o=h.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(o,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(y){if(null!==this._curElement){for(var _=[],h=0;h<y.touches.length;h++)_[h]=function(c,u,s,a){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,d=c.getBoundingClientRect();return u=c.scrollWidth/u||1,c=c.scrollHeight/s||1,{x:((s=a.touches[l]||a.changedTouches[l]).clientX-d.left)/u,y:(s.clientY-d.top)/c,winX:s.clientX,winY:s.clientY,id:s.identifier}}(this._curElement.elt,this.width,this.height,y,h);this._setProperty("touches",_)}},o.default.prototype._ontouchstart=function(y){var _=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(y),this._updateNextMouseCoords(y),this._updateMouseCoords(),"function"==typeof _.touchStarted&&(!1===_.touchStarted(y)&&y.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(y){var _=this._isGlobal?window:this;this._updateTouchCoords(y),this._updateNextMouseCoords(y),"function"==typeof _.touchMoved?!1===_.touchMoved(y)&&y.preventDefault():"function"==typeof _.mouseDragged&&!1===_.mouseDragged(y)&&y.preventDefault()},o.default.prototype._ontouchend=function(y){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(y),this._updateNextMouseCoords(y);var _=this._isGlobal?window:this;"function"==typeof _.touchEnded&&(!1===_.touchEnded(y)&&y.preventDefault(),this.touchend=!0)},C.default=o=o.default},{"../core/main":280}],301:[function(o,W,C){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y,_,h,f,E={_toPixels:function(w){var a,l;return w instanceof ImageData?w.data:w.getContext("2d")?w.getContext("2d").getImageData(0,0,w.width,w.height).data:w.getContext("webgl")?(l=(a=w.getContext("webgl")).drawingBufferWidth*a.drawingBufferHeight*4,l=new Uint8Array(l),a.readPixels(0,0,w.width,w.height,a.RGBA,a.UNSIGNED_BYTE,l),l):void 0},_getARGB:function(w,a){return w[3+(a*=4)]<<24&4278190080|w[a]<<16&16711680|w[1+a]<<8&65280|255&w[2+a]},_setPixels:function(w,a){for(var l,d=0,u=w.length;d<u;d++)w[0+(l=4*d)]=(16711680&a[d])>>>16,w[1+l]=(65280&a[d])>>>8,w[2+l]=255&a[d],w[3+l]=(4278190080&a[d])>>>24},_toImageData:function(w){return w instanceof ImageData?w:w.getContext("2d").getImageData(0,0,w.width,w.height)},_createImageData:function(w,a){return E._tmpCanvas=document.createElement("canvas"),E._tmpCtx=E._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(w,a)},apply:function(w,c,l){var d=w.getContext("2d"),u=d.getImageData(0,0,w.width,w.height);(c=c(u,l))instanceof ImageData?d.putImageData(c,0,0,0,0,w.width,w.height):d.putImageData(u,0,0,0,0,w.width,w.height)},threshold:function(w){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,l=E._toPixels(w),d=Math.floor(255*a),u=0;u<l.length;u+=4)l[u]=l[u+1]=l[u+2]=d<=.2126*l[u]+.7152*l[u+1]+.0722*l[u+2]?255:0},gray:function(w){for(var a=E._toPixels(w),l=0;l<a.length;l+=4)a[l]=a[l+1]=a[l+2]=.2126*a[l]+.7152*a[l+1]+.0722*a[l+2]},opaque:function(w){for(var a=E._toPixels(w),l=0;l<a.length;l+=4)a[l+3]=255;return a},invert:function(w){for(var a=E._toPixels(w),l=0;l<a.length;l+=4)a[l]=255-a[l],a[l+1]=255-a[l+1],a[l+2]=255-a[l+2]},posterize:function(w){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,l=E._toPixels(w);if(a<2||255<a)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var d=a-1,u=0;u<l.length;u+=4){var s=l[u+1],m=l[u+2];l[u]=255*(l[u]*a>>8)/d,l[u+1]=255*(s*a>>8)/d,l[u+2]=255*(m*a>>8)/d}},dilate:function(w){for(var a,l,d,u,c,s,m,p,b,O=E._toPixels(w),N=0,R=O.length?O.length/4:0,k=new Int32Array(R);N<R;)for(l=(a=N)+w.width;N<l;)u=d=E._getARGB(O,N),(b=N-1)<a&&(b=N),l<=(p=N+1)&&(p=N),(c=N-w.width)<0&&(c=0),R<=(s=N+w.width)&&(s=N),c=E._getARGB(O,c),b=E._getARGB(O,b),s=E._getARGB(O,s),(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(d=b,u=m),u<(m=77*((b=E._getARGB(O,p))>>16&255)+151*(b>>8&255)+28*(255&b))&&(d=b,u=m),u<(p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(d=c,u=p),u<(b=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))&&(d=s,u=b),k[N++]=d;E._setPixels(O,k)},erode:function(w){for(var a,l,d,u,c,s,m,p,b,O=E._toPixels(w),N=0,R=O.length?O.length/4:0,k=new Int32Array(R);N<R;)for(l=(a=N)+w.width;N<l;)u=d=E._getARGB(O,N),(b=N-1)<a&&(b=N),l<=(p=N+1)&&(p=N),(c=N-w.width)<0&&(c=0),R<=(s=N+w.width)&&(s=N),c=E._getARGB(O,c),b=E._getARGB(O,b),s=E._getARGB(O,s),(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(d=b,u=m),(m=77*((b=E._getARGB(O,p))>>16&255)+151*(b>>8&255)+28*(255&b))<u&&(d=b,u=m),(p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<u&&(d=c,u=p),(b=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))<u&&(d=s,u=b),k[N++]=d;E._setPixels(O,k)},blur:function(w,a){for(var l,d,u,c,s,m,p,b,O,N,R=E._toPixels(w),k=w.width,A=w.height,$=k*A,j=new Int32Array($),S=0;S<$;S++)j[S]=E._getARGB(R,S);var D,V,Z,H,Q,Y,q,ne,de=new Int32Array($),xe=new Int32Array($),K=new Int32Array($),L=new Int32Array($),re=0,ge=3.5*a|0;if(y!==(ge=ge<1?1:ge<248?ge:248)){_=1+(y=ge)<<1,h=new Int32Array(_),f=new Array(_);for(var Me=0;Me<_;Me++)f[Me]=new Int32Array(256);for(var Le=1,Ye=ge-1;Le<ge;Le++){h[ge+Le]=h[Ye]=Y=Ye*Ye,q=f[ge+Le],ne=f[Ye--];for(var et=0;et<256;et++)q[et]=ne[et]=Y*et}Q=h[ge]=ge*ge,q=f[ge];for(var Oe=0;Oe<256;Oe++)q[Oe]=Q*Oe}for(V=0;V<A;V++){for(D=0;D<k;D++){if(c=u=d=s=l=0,(m=D-y)<0)N=-m,m=0;else{if(k<=m)break;N=0}for(Z=N;Z<_&&!(k<=m);Z++){var Ge=j[m+re];s+=(H=f[Z])[(-16777216&Ge)>>>24],d+=H[(16711680&Ge)>>16],u+=H[(65280&Ge)>>8],c+=H[255&Ge],l+=h[Z],m++}de[p=re+D]=s/l,xe[p]=d/l,K[p]=u/l,L[p]=c/l}re+=k}for(O=(b=-y)*k,V=re=0;V<A;V++){for(D=0;D<k;D++){if(c=u=d=s=l=0,b<0)N=p=-b,m=D;else{if(A<=b)break;N=0,p=b,m=D+O}for(Z=N;Z<_&&!(A<=p);Z++)s+=(H=f[Z])[de[m]],d+=H[xe[m]],u+=H[K[m]],c+=H[L[m]],l+=h[Z],p++,m+=k;j[D+re]=s/l<<24|d/l<<16|u/l<<8|c/l}re+=k,O+=k,b++}E._setPixels(R,j)}};C.default=E},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=h(o("../core/main")),_=h(o("omggif"));function h(E){return E&&E.__esModule?E:{default:E}}function f(E){return function(w){if(Array.isArray(w)){for(var a=0,l=new Array(w.length);a<w.length;a++)l[a]=w[a];return l}}(E)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.createImage=function(E,w){return y.default._validateParameters("createImage",arguments),new y.default.Image(E,w)},y.default.prototype.saveCanvas=function(){for(var E,w,a,l,d,u,c=arguments.length,s=new Array(c),m=0;m<c;m++)s[m]=arguments[m];switch(y.default._validateParameters("saveCanvas",s),s[0]instanceof HTMLCanvasElement?(E=s[0],s.shift()):s[0]instanceof y.default.Element?(E=s[0].elt,s.shift()):s[0]instanceof y.default.Framebuffer?((d=this.createGraphics((l=s[0]).width,l.height)).pixelDensity(pixelDensity()),l.loadPixels(),d.loadPixels(),d.pixels.set(l.pixels),d.updatePixels(),E=d.elt,s.shift()):E=this._curElement&&this._curElement.elt,1<=s.length&&(w=s[0]),a=(a=2<=s.length?s[1]:a)||y.default.prototype._checkFileExtension(w,a)[1]||"png"){default:u="image/png";break;case"jpeg":case"jpg":u="image/jpeg"}E.toBlob(function(p){y.default.prototype.downloadFile(p,w,a),d&&d.remove()},u)},y.default.prototype.encodeAndDownloadGif=function(E,w){for(var a=E.gifProperties,d=(1===(l=a.loopLimit)?l=null:null===l&&(l=0),new Uint8Array(E.width*E.height*a.numFrames)),u=[],c={},s=0;s<a.numFrames;s++){for(var m=new Set,p=a.frames[s].image.data,b=p.length,O=new Uint32Array(E.width*E.height),N=0,R=0;N<b;N+=4,R++){var k=p[N+0]<<16|p[N+1]<<8|p[N+2]<<0;m.add(k),O[R]=k}var A=f(m).sort().toString();void 0===c[A]?c[A]={freq:1,frames:[s]}:(c[A].freq+=1,c[A].frames.push(s)),u.push(O)}for(var S=[],$=Object.keys(c).sort(function(K,L){return c[L].freq-c[K].freq}),j=$[0].split(",").map(function(K){return parseInt(K)}),D=(S=S.concat(c[j].frames),new Set(j)),V=1;V<$.length;V++){var Z=$[V].split(",").map(function(K){return parseInt(K)}).filter(function(K){return!D.has(K)});if(j.length+Z.length<=256){for(var H=0;H<Z.length;H++)j.push(Z[H]),D.add(Z[H]);S=S.concat(c[$[V]].frames)}}S=new Set(S);for(var Q={},Y=0;Y<j.length;Y++)Q[j[Y]]||(Q[j[Y]]=Y);for(var q=1;q<j.length;)q<<=1;j.length=q;for(var l={loop:l,palette:new Uint32Array(j)},ne=new _.default.GifWriter(d,E.width,E.height,l),de={},xe=0;xe<a.numFrames;xe++)!function(L){var re=!S.has(L),ge=re?[]:j,Me=new Uint8Array(E.width*E.height),Le={},Ye=new Set,et=(u[L].forEach(function(Qe,Ke){re?(void 0===Le[Qe]&&(Le[Qe]=ge.length,ge.push(Qe)),Me[Ke]=Le[Qe]):Me[Ke]=Q[Qe],0<L&&u[L-1][Ke]!==Qe&&Ye.add(Qe)}),{});if(0<(Oe=ge.filter(function(Qe){return!Ye.has(Qe)})).length){var Oe,Ge=(re?Le:Q)[Oe=Oe[0]];if(0<L){for(var Be=0;Be<u[L].length;Be++)u[L-1][Be]===u[L][Be]&&(Me[Be]=Ge);et.transparent=Ge,de.frameOpts.disposal=1}}if(et.delay=a.frames[L].delay/10,re){for(var Ae=1;Ae<ge.length;)Ae<<=1;ge.length=Ae,et.palette=new Uint32Array(ge)}0<L&&ne.addFrame(0,0,E.width,E.height,de.pixelPaletteIndex,de.frameOpts),de={pixelPaletteIndex:Me,frameOpts:et}}(xe);de.frameOpts.disposal=1,ne.addFrame(0,0,E.width,E.height,de.pixelPaletteIndex,de.frameOpts),l=new Blob([d.slice(0,ne.end())],{type:"image/gif"}),y.default.prototype.downloadFile(l,w,"gif")},y.default.prototype.saveFrames=function(E,w,a,u,d){y.default._validateParameters("saveFrames",arguments),a=y.default.prototype.constrain(a=a||3,0,15),a*=1e3,u=y.default.prototype.constrain(u||15,0,22);var c=0,s=y.default.prototype._makeFrame,m=this._curElement.elt,p=[],b=setInterval(function(){p.push(s(E+c,w,m)),c++},1e3/u);setTimeout(function(){if(clearInterval(b),d)d(p);else for(var O=0,N=p;O<N.length;O++){var R=N[O];y.default.prototype.downloadFile(R.imageData,R.filename,R.ext)}p=[]},.01+a)},y.default.prototype._makeFrame=function(E,w,d){var l;if(d=this?this._curElement.elt:d,w)switch(w.toLowerCase()){case"png":default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}else w="png",l="image/png";d=(d=d.toDataURL(l)).replace(l,"image/octet-stream");var u={};return u.imageData=d,u.filename=E,u.ext=w,u},C.default=o=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(o,W,C){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function _(m){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(p){return y(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,o("regenerator-runtime/runtime");var h=d(o("../core/main")),f=d(o("../core/helpers")),E=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==_(m)&&"function"!=typeof m)return{default:m};var p=l();if(p&&p.has(m))return p.get(m);var b,O={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var R;Object.prototype.hasOwnProperty.call(m,b)&&((R=N?Object.getOwnPropertyDescriptor(m,b):null)&&(R.get||R.set)?Object.defineProperty(O,b,R):O[b]=m[b])}return O.default=m,p&&p.set(m,O),O}(o("../core/constants")),w=d(o("omggif")),a=o("gifenc");function l(){var m;return"function"!=typeof WeakMap?null:(l=function(){return m},m=new WeakMap)}function d(m){return m&&m.__esModule?m:{default:m}}function u(m,p,b,O,N,R,k){try{var A=m[R](k),$=A.value}catch(j){return void b(j)}A.done?p($):Promise.resolve($).then(O,N)}function s(m,p){return 0<m&&m<p?m:p}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),h.default.prototype.loadImage=function(m,p,b){h.default._validateParameters("loadImage",arguments);var O=new h.default.Image(1,1,this),N=this,R=new Request(m,{method:"GET",mode:"cors"});return fetch(m,R).then(function(k){var A,$=k.headers.get("content-type");null===$&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),$&&$.includes("image/gif")?k.arrayBuffer().then(function(j){if(j){j=new Uint8Array(j);for(var S=O,D=p,V=b,Z=function(re){N._decrementPreload()}.bind(N),H=new w.default.GifReader(j),Q=(S.width=S.canvas.width=H.width,S.height=S.canvas.height=H.height,[]),Y=H.numFrames(),q=new Uint8ClampedArray(S.width*S.height*4),ne=0;ne<Y;ne++){var de=H.frameInfo(ne),xe=S.drawingContext.getImageData(0,0,S.width,S.height),K=(q=xe.data.slice(),function(re,ge){try{ge.decodeAndBlitFrameRGBA(re,q)}catch(Me){h.default._friendlyFileLoadError(8,S.src),"function"==typeof V?V(Me):console.error(Me)}}(ne,H),new ImageData(q,S.width,S.height));0===(S.drawingContext.putImageData(K,0,0),K=de.delay)&&(K=10),Q.push({image:S.drawingContext.getImageData(0,0,S.width,S.height),delay:10*K}),2===de.disposal?S.drawingContext.clearRect(de.x,de.y,de.width,de.height):3===de.disposal&&S.drawingContext.putImageData(xe,0,0,de.x,de.y,de.width,de.height)}null===(j=H.loopCount())?j=1:0===j&&(j=null),S.drawingContext.putImageData(Q[0].image,0,0),1<Q.length&&(S.gifProperties={displayIndex:0,loopLimit:j,loopCount:0,frames:Q,numFrames:Y,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof D&&D(S),Z()}},function(j){"function"==typeof b?(b(j),N._decrementPreload()):console.error(j)}):((A=new Image).onload=function(){O.width=O.canvas.width=A.width,O.height=O.canvas.height=A.height,O.drawingContext.drawImage(A,0,0),O.modified=!0,"function"==typeof p&&p(O),N._decrementPreload()},A.onerror=function(j){h.default._friendlyFileLoadError(0,A.src),"function"==typeof b?(b(j),N._decrementPreload()):console.error(j)},0!==m.indexOf("data:image/")&&(A.crossOrigin="Anonymous"),A.src=m),O.modified=!0}).catch(function(k){h.default._friendlyFileLoadError(0,m),"function"==typeof b?(b(k),N._decrementPreload()):console.error(k)}),O},h.default.prototype.saveGif=function(){m=v.mark(function b(O,N){var R,k,A,$,j,S,D,V,Z,H,Q,Y,q,ne,de,xe,K,L,re,ge,Me,Le,Ye,et,Oe,Ge,Be=arguments;return v.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(R=2<Be.length&&void 0!==Be[2]?Be[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof O)throw TypeError("fileName parameter must be a string");Ae.next=3;break;case 3:if("number"!=typeof N)throw TypeError("Duration parameter must be a number");Ae.next=5;break;case 5:if(A=R&&R.units||"seconds",$=R&&R.silent||!1,j=R&&R.notificationDuration||0,S=R&&R.notificationID||"progressBar","number"!=typeof(k=R&&R.delay||0))throw TypeError("Delay parameter must be a number");Ae.next=12;break;case 12:if("seconds"!==A&&"frames"!==A)throw TypeError('Units parameter must be either "frames" or "seconds"');Ae.next=14;break;case 14:if("boolean"!=typeof $)throw TypeError("Silent parameter must be a boolean");Ae.next=16;break;case 16:if("number"!=typeof j)throw TypeError("Notification duration parameter must be a number");Ae.next=18;break;case 18:if("string"!=typeof S)throw TypeError("Notification ID parameter must be a string");Ae.next=20;break;case 20:return this._recording=!0,D=(D=1/(H=(H=this._targetFrameRate)!==1/0&&void 0!==H&&0!==H?H:60)*1e3)<20?20:D,Z=(V="seconds"===A?N*H:N)+(H="seconds"===A?k*H:k),this.frameCount=H,Q=this._pixelDensity,this.pixelDensity(1),Y=[],null!==document.getElementById(S)&&document.getElementById(S).remove(),$||((q=this.createP("")).id(S),q.style("font-size","16px"),q.style("font-family","Montserrat"),q.style("background-color","#ffffffa0"),q.style("padding","8px"),q.style("border-radius","10px"),q.position(0,0)),this._renderer instanceof h.default.RendererGL&&(de=this.drawingContext,ne=new Uint8Array(de.drawingBufferWidth*de.drawingBufferHeight*4)),this.noLoop(),Ae.next=39,Promise.resolve();case 39:if(H<Z)return this.redraw(),et=void 0,et=this._renderer instanceof h.default.RendererGL?(ne=new Uint8Array(de.drawingBufferWidth*de.drawingBufferHeight*4),de.readPixels(0,0,de.drawingBufferWidth,de.drawingBufferHeight,de.RGBA,de.UNSIGNED_BYTE,ne),function(Qe,Ke,vt){for(var mt=parseInt(vt/2),yt=4*Ke,jt=new Uint8Array(4*Ke),Ht=0;Ht<mt;++Ht){var Rt=Ht*yt,an=(vt-Ht-1)*yt;jt.set(Qe.subarray(Rt,Rt+yt)),Qe.copyWithin(Rt,an,an+yt),Qe.set(jt,an)}return Qe}(ne,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,Y.push(et),H++,$||q.html("Saved frame <b>"+Y.length.toString()+"</b> out of "+V.toString()),Ae.next=48,new Promise(function(Qe){return setTimeout(Qe,0)});Ae.next=50;break;case 48:Ae.next=39;break;case 50:$||q.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(Q),xe=(0,a.GIFEncoder)(),K=function(Qe){for(var Ke=new Uint8Array(Qe.length*Qe[0].length),vt=0;vt<Qe.length;vt++)Ke.set(Qe[vt],vt*Qe[0].length);var mt=(0,a.quantize)(Ke,256,{format:"rgba4444",oneBitAlpha:!0});return 256===mt.length?mt[mt.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:mt.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),mt}(Y),L={},re=function(Qe){for(var Ke=Qe.length/4,vt=new Uint8Array(Ke),mt=0;mt<Ke;mt++){var yt=Qe[4*mt]<<24|Qe[4*mt+1]<<16|Qe[4*mt+2]<<8|Qe[4*mt+3];void 0===L[yt]&&(L[yt]=(0,a.nearestColorIndex)(K,Qe.slice(4*mt,4*(mt+1)))),vt[mt]=L[yt]}return vt},ge=K.length-1,Me=[],Le=0;case 60:if(!(Le<Y.length)){Ae.next=71;break}if(Ye=re(Y[Le]),et=Ye.slice(),0===Le)xe.writeFrame(Ye,this.width,this.height,{palette:K,delay:D,dispose:1});else{for(Oe=0;Oe<Ye.length;Oe++)Ye[Oe]===Me[Oe]&&(Ye[Oe]=ge);xe.writeFrame(Ye,this.width,this.height,{delay:D,transparent:!0,transparentIndex:ge,dispose:1})}return Me=et,$||q.html("Rendered frame <b>"+Le.toString()+"</b> out of "+V.toString()),Ae.next=68,new Promise(function(Qe){return setTimeout(Qe,0)});case 68:Le++,Ae.next=60;break;case 71:xe.finish(),Ge=xe.bytesView(),Ge=new Blob([Ge],{type:"image/gif"}),Y=[],this._recording=!1,this.loop(),$||(q.html("Done. Downloading your gif!\u{1f338}"),0<j&&setTimeout(function(){return q.remove()},1e3*j)),h.default.prototype.downloadFile(Ge,O,"gif");case 80:case"end":return Ae.stop()}},b,this)});var m,p=function(){var b=this,O=arguments;return new Promise(function(N,R){var k=m.apply(b,O);function A(j){u(k,N,R,A,$,"next",j)}function $(j){u(k,N,R,A,$,"throw",j)}A(void 0)})};return function(b,O){return p.apply(this,arguments)}}(),h.default.prototype.image=function(m,p,b,O,H,Q,Y,q,de,j,S,D){h.default._validateParameters("image",arguments);var ne=m.width,V=m.height,Z=(D=D||E.CENTER,S=S||E.CENTER,m.elt&&(ne=void 0!==ne?ne:m.elt.width,V=void 0!==V?V:m.elt.height),m.elt&&m.elt.videoWidth&&!m.canvas&&(ne=void 0!==ne?ne:m.elt.videoWidth,V=void 0!==V?V:m.elt.videoHeight),O||ne);H=H||V,Q=Q||0,Y=Y||0,q=s(void 0!==q?q:ne,ne),ne=s(void 0!==de?de:V,V),de=1,m.elt&&!m.canvas&&m.elt.style.width&&(de=m.elt.videoWidth&&!O?m.elt.videoWidth:m.elt.width,de/=parseInt(m.elt.style.width,10)),Q*=de,Y*=de,ne*=de,q*=de,V=function c(m,p,b,O,N,R,k,A,$,j,S){var D,V,Z,H,Q,Y,q,ne,de;return m===E.COVER&&(D=p,Z=b,q=R,ne=k,Y=A,de=$,V=j,H=S,q/=Q=Math.max(q/V,ne/H),ne/=Q,Q=Y,Y=de,D===E.CENTER?Q+=(V-q)/2:D===E.RIGHT&&(Q+=V-q),Z===E.CENTER?Y+=(H-ne)/2:Z===E.BOTTOM&&(Y+=H-ne),A=(de={x:Q,y:Y,w:q,h:ne}).x,$=de.y,j=de.w,S=de.h),m===E.CONTAIN&&(D=p,V=b,Z=O,H=N,Q=R,Y=k,q=j,ne=S,q/=de=Math.max(q/Q,ne/Y),ne/=de,de=Z,Z=H,D===E.CENTER?de+=(Q-q)/2:D===E.RIGHT&&(de+=Q-q),V===E.CENTER?Z+=(Y-ne)/2:V===E.BOTTOM&&(Z+=Y-ne),O=(m={x:de,y:Z,w:q,h:ne}).x,N=m.y,R=m.w,k=m.h),{sx:A,sy:$,sw:j,sh:S,dx:O,dy:N,dw:R,dh:k}}(j,S,D,(V=f.default.modeAdjust(p,b,Z,H,this._renderer._imageMode)).x,V.y,V.w,V.h,Q,Y,q,ne),this._renderer.image(m,V.sx,V.sy,V.sw,V.sh,V.dx,V.dy,V.dw,V.dh)},h.default.prototype.tint=function(){for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];h.default._validateParameters("tint",p);var O=this.color.apply(this,p);this._renderer._tint=O.levels},h.default.prototype.noTint=function(){this._renderer._tint=null},h.default.prototype._getTintedImageCanvas=h.default.Renderer2D.prototype._getTintedImageCanvas,h.default.prototype.imageMode=function(m){h.default._validateParameters("imageMode",arguments),m!==E.CORNER&&m!==E.CORNERS&&m!==E.CENTER||(this._renderer._imageMode=m)},C.default=o=h.default},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=h(o("../core/main")),_=h(o("./filters"));function h(E){return E&&E.__esModule?E:{default:E}}function f(E,w){for(var a=0;a<w.length;a++){var l=w[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(E,l.key,l)}}y.default.Image=function(){function E(d,u){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.width=d,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var w,a;return w=E,(a=[{key:"pixelDensity",value:function(d){return void 0!==d?(d<=0&&(y.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),d=1),this._pixelDensity=d,this.width/=d,this.height/=d,this):this._pixelDensity}},{key:"_animateGif",value:function(s){var u,c=this.gifProperties;s=s._lastRealFrameTime,0===c.lastChangeTime&&(c.lastChangeTime=s),c.playing&&(c.timeDisplayed=s-c.lastChangeTime,c.timeDisplayed>=(u=c.frames[c.displayIndex].delay)&&(u=Math.floor(c.timeDisplayed/u),c.timeDisplayed=0,c.lastChangeTime=s,c.displayIndex+=u,c.loopCount=Math.floor(c.displayIndex/c.numFrames),null!==c.loopLimit&&c.loopCount>=c.loopLimit?c.playing=!1:(this.drawingContext.putImageData(c.frames[s=c.displayIndex%c.numFrames].image,0,0),c.displayIndex=s,this.setModified(!0))))}},{key:"_setProperty",value:function(d,u){this[d]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){y.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(d,u,c,s){y.default.Renderer2D.prototype.updatePixels.call(this,d,u,c,s),this.setModified(!0)}},{key:"get",value:function(d,u,c,s){return y.default._validateParameters("p5.Image.get",arguments),y.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return y.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(d,u,c){y.default.Renderer2D.prototype.set.call(this,d,u,c),this.setModified(!0)}},{key:"resize",value:function(d,u){0===d&&0===u?(d=this.canvas.width,u=this.canvas.height):0===d?d=this.canvas.width*u/this.canvas.height:0===u&&(u=this.canvas.height*d/this.canvas.width),d=Math.floor(d),u=Math.floor(u);var c=document.createElement("canvas");if(c.width=d,c.height=u,this.gifProperties)for(var s=this.gifProperties,m=0;m<s.numFrames;m++){for(var p=this.drawingContext.createImageData(d,u),b=(A=A=k=R=N=void 0,s.frames[m].image),O=p,N=0,R=0;R<O.height;R++)for(var k=0;k<O.width;k++){var A=Math.floor(k*b.width/O.width);A=4*(Math.floor(R*b.height/O.height)*b.width+A),O.data[N++]=b.data[A++],O.data[N++]=b.data[A++],O.data[N++]=b.data[A++],O.data[N++]=b.data[+A]}s.frames[m].image=p}c.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,c.width,c.height),this.canvas.width=this.width=d,this.canvas.height=this.height=u,this.drawingContext.drawImage(c,0,0,d,u,0,0,d,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];y.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(d){var u=this.drawingContext.globalCompositeOperation,c=1,s=[d=void 0===d?this:d,0,0,(c=d instanceof y.default.Renderer?d._pInst._pixelDensity:c)*d.width,c*d.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var m=0;m<this.gifProperties.frames.length;m++)this.drawingContext.putImageData(this.gifProperties.frames[m].image,0,0),this.copy.apply(this,s),this.gifProperties.frames[m].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,s);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(d,u){_.default.apply(this.canvas,_.default[d],u),this.setModified(!0)}},{key:"blend",value:function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];y.default._validateParameters("p5.Image.blend",arguments),y.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(d){this._modified=d}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(d,u){this.gifProperties?y.default.prototype.encodeAndDownloadGif(this,d):y.default.prototype.saveCanvas(this.canvas,d,u)}},{key:"reset",value:function(){var d;this.gifProperties&&((d=this.gifProperties).playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var d;if(this.gifProperties)return(d=this.gifProperties).displayIndex%d.numFrames}},{key:"setFrame",value:function(d){var u;this.gifProperties&&(d<(u=this.gifProperties).numFrames&&0<=d?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=d,this.drawingContext.putImageData(u.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(d,u){if(this.gifProperties){var c=this.gifProperties;if(u<c.numFrames&&0<=u)c.frames[u].delay=d;else{var s=!0,m=void(u=!1);try{for(var p,b=c.frames[Symbol.iterator]();!(s=(p=b.next()).done);s=!0)p.value.delay=d}catch(N){u=!0,m=N}finally{try{s||null==b.return||b.return()}finally{if(u)throw m}}}}}}])&&f(w.prototype,a),E}(),C.default=o=y.default.Image},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(o,W,C){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=h(o("../core/main")),_=h(o("./filters"));function h(f){return f&&f.__esModule?f:{default:f}}o("../color/p5.Color"),y.default.prototype.pixels=[],y.default.prototype.blend=function(){for(var f,E=arguments.length,w=new Array(E),a=0;a<E;a++)w[a]=arguments[a];y.default._validateParameters("blend",w),this._renderer?(f=this._renderer).blend.apply(f,w):y.default.Renderer2D.prototype.blend.apply(this,w)},y.default.prototype.copy=function(){for(var f,E,w,a,l,d,u,c,s,m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];if(y.default._validateParameters("copy",p),9===p.length)f=p[0],E=p[1],w=p[2],a=p[3],l=p[4],d=p[5],u=p[6],c=p[7],s=p[8];else{if(8!==p.length)throw new Error("Signature not supported");f=this,E=p[0],w=p[1],a=p[2],l=p[3],d=p[4],u=p[5],c=p[6],s=p[7]}y.default.prototype._copyHelper(this,f,E,w,a,l,d,u,c,s)},y.default.prototype._copyHelper=function(f,E,w,a,l,d,u,c,s,m){var p=E.canvas.width/E.width,b=0,O=0;E._renderer&&E._renderer.isP3D&&(b=E.width/2,O=E.height/2),f._renderer&&f._renderer.isP3D?(f.push(),f.resetMatrix(),f.noLights(),f.blendMode(f.BLEND),f.imageMode(f.CORNER),y.default.RendererGL.prototype.image.call(f._renderer,E,w+b,a+O,l,d,u,c,s,m),f.pop()):f.drawingContext.drawImage(E.canvas,p*(w+b),p*(a+O),p*l,p*d,u,c,s,m)},y.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},y.default.prototype.filter=function(){for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];y.default._validateParameters("filter",E);var u=function(){var c,s={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof y.default.Shader?s.shader=arguments.length<=0?void 0:arguments[0]:(s.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(s.value=arguments.length<=1?void 0:arguments[1]),!1===((c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c])&&(s.useWebGL=!1)),s}.apply(void 0,E),a=u.shader,l=u.operation,d=u.value;u=u.useWebGL,this._renderer.isP3D&&a?y.default.RendererGL.prototype.filter.call(this._renderer,a):u||this._renderer.isP3D?(!u&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?y.default.RendererGL.prototype.filter.call(this._renderer,l,d):((a=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),a.filter.apply(a,E),this.copy(a._renderer,0,0,this.width,this.height,0,0,this.width,this.height),a.clear())):_.default.apply(void 0!==this.canvas?this.canvas:this.elt,_.default[l],d)},y.default.prototype.get=function(f,E,w,a){var l;return y.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},y.default.prototype.loadPixels=function(){for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];y.default._validateParameters("loadPixels",E),this._renderer.loadPixels()},y.default.prototype.set=function(f,E,w){this._renderer.set(f,E,w)},y.default.prototype.updatePixels=function(f,E,w,a){y.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(f,E,w,a)},C.default=o=y.default},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(o,W,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=E(o("../core/main")),h=(o("whatwg-fetch"),o("es6-promise/auto"),E(o("fetch-jsonp"))),f=E(o("file-saver"));function E(d){return d&&d.__esModule?d:{default:d}}function w(d){return(w="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}function a(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(d,u){u&&!0!==u&&"true"!==u||(u="");var c="";return(d=d||"untitled")&&d.includes(".")&&(c=d.split(".").pop()),u&&c!==u&&(c=u,d="".concat(d,".").concat(c)),[d,c]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),_.default.prototype.loadJSON=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];_.default._validateParameters("loadJSON",u);for(var s,m,p,b=u[0],O={},N="json",R=1;R<u.length;R++){var k=u[R];"string"==typeof k?"jsonp"!==k&&"json"!==k||(N=k):"function"==typeof k?s?m=k:s=k:"object"===w(k)&&(k.hasOwnProperty("jsonpCallback")||k.hasOwnProperty("jsonpCallbackFunction"))&&(N="jsonp",p=k)}var A=this;return this.httpDo(b,"GET",p,N,function($){for(var j in $)O[j]=$[j];void 0!==s&&s($),A._decrementPreload()},function($){if(_.default._friendlyFileLoadError(5,b),!m)throw $;m($)}),O},_.default.prototype.loadStrings=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];_.default._validateParameters("loadStrings",u);for(var s,m,p=[],b=1;b<u.length;b++){var O=u[b];"function"==typeof O&&(void 0===s?s=O:void 0===m&&(m=O))}var N=this;return _.default.prototype.httpDo.call(this,u[0],"GET","text",function(R){for(var k=R.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),A=0,$=k.length;A<$;A+=32768)Array.prototype.push.apply(p,k.slice(A,Math.min(A+32768,$)));void 0!==s&&s(p),N._decrementPreload()},function(R){if(_.default._friendlyFileLoadError(3,R),!m)throw R;m(R)}),p},_.default.prototype.loadTable=function(d){var u,c,s,m=[],p=!1,b=d.substring(d.lastIndexOf(".")+1,d.length);"csv"===b?s=",":"ssv"===b?s=";":"tsv"===b&&(s="\t");for(var O=1;O<arguments.length;O++)"function"==typeof arguments[O]?void 0===u?u=arguments[O]:void 0===c&&(c=arguments[O]):"string"==typeof arguments[O]&&(m.push(arguments[O]),"header"===arguments[O]&&(p=!0),"csv"===arguments[O]?s=",":"ssv"===arguments[O]?s=";":"tsv"===arguments[O]&&(s="\t"));var N=new _.default.Table,R=this;return this.httpDo(d,"GET","table",function(k){for(var A,$,j={},D=[],V=0,Z=null,H=function(){j.currentState=0,j.token=""},Q=function(){Z.push(j.token),H()},Y=function(){j.currentState=4,D.push(Z),Z=null};;){if(null==(A=k[V++])){if(j.escaped)throw new Error("Unclosed quote in file.");if(Z){Q(),Y();break}}if(null===Z&&(j.escaped=!1,Z=[],H()),0===j.currentState){if('"'===A){j.escaped=!0,j.currentState=1;continue}j.currentState=1}if(1===j.currentState&&j.escaped)if('"'===A)'"'===k[V]?(j.token+='"',V++):(j.escaped=!1,j.currentState=2);else{if("\r"===A)continue;j.token+=A}else"\r"===A?("\n"===k[V]&&V++,Q(),Y()):"\n"===A?(Q(),Y()):A===s?Q():1===j.currentState&&(j.token+=A)}if(p)N.columns=D.shift();else for(var q=0;q<D[0].length;q++)N.columns[q]="null";for(var ne=0;ne<D.length;ne++)(1!==D[ne].length||"undefined"!==D[ne][0]&&""!==D[ne][0])&&(($=new _.default.TableRow).arr=D[ne],$.obj=function(de,xe){if(void 0===(xe=xe||[]))for(var K=0;K<de.length;K++)xe[K.toString()]=K;return Object.fromEntries(xe.map(function(L,re){return[L,de[re]]}))}(D[ne],N.columns),N.addRow($));"function"==typeof u&&u(N),R._decrementPreload()},function(k){_.default._friendlyFileLoadError(2,d),c?c(k):console.error(k)}),N},_.default.prototype.loadXML=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];for(var s,m,p=new _.default.XML,b=1;b<u.length;b++){var O=u[b];"function"==typeof O&&(void 0===s?s=O:void 0===m&&(m=O))}var N=this;return this.httpDo(u[0],"GET","xml",function(R){for(var k in R)p[k]=R[k];void 0!==s&&s(p),N._decrementPreload()},function(R){if(_.default._friendlyFileLoadError(1,R),!m)throw R;m(R)}),p},_.default.prototype.loadBytes=function(d,u,c){var s={},m=this;return this.httpDo(d,"GET","arrayBuffer",function(p){s.bytes=new Uint8Array(p),"function"==typeof u&&u(s),m._decrementPreload()},function(p){if(_.default._friendlyFileLoadError(6,d),!c)throw p;c(p)}),s},_.default.prototype.httpGet=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return _.default._validateParameters("httpGet",u),u.splice(1,0,"GET"),_.default.prototype.httpDo.apply(this,u)},_.default.prototype.httpPost=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return _.default._validateParameters("httpPost",u),u.splice(1,0,"POST"),_.default.prototype.httpDo.apply(this,u)},_.default.prototype.httpDo=function(){for(var d,u,c,s={},m=0,p="text/plain",b=arguments.length-1;0<b&&"function"==typeof(b<0||arguments.length<=b?void 0:arguments[b]);b--)m++;var N=arguments.length<=0?void 0:arguments[0];if(2==(O=arguments.length-m)&&"string"==typeof N&&"object"===w(arguments.length<=1?void 0:arguments[1]))S=new Request(N,arguments.length<=1?void 0:arguments[1]),u=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3];else{for(var R,k="GET",A=1;A<arguments.length;A++){var $=A<0||arguments.length<=A?void 0:arguments[A];if("string"==typeof $)"GET"===$||"POST"===$||"PUT"===$||"DELETE"===$?k=$:"json"===$||"jsonp"===$||"binary"===$||"arrayBuffer"===$||"xml"===$||"text"===$||"table"===$?d=$:R=$;else if("number"==typeof $)R=$.toString();else if("object"===w($))if($.hasOwnProperty("jsonpCallback")||$.hasOwnProperty("jsonpCallbackFunction"))for(var j in $)s[j]=$[j];else p=$ instanceof _.default.XML?(R=$.serialize(),"application/xml"):(R=JSON.stringify($),"application/json");else"function"==typeof $&&(u?c=$:u=$)}var O="GET"===k?new Headers:new Headers({"Content-Type":p}),S=new Request(N,{method:k,mode:"cors",body:R,headers:O})}return(O=(O="jsonp"===(d=d||(N.includes("json")?"json":N.includes("xml")?"xml":"text"))?(0,h.default)(N,s):fetch(S)).then(function(D){if(!D.ok)throw(V=new Error(D.body)).status=D.status,V.ok=!1,V;var V=0;switch((V="jsonp"!==d?D.headers.get("content-length"):V)&&64e6<V&&_.default._friendlyFileLoadError(7,N),d){case"json":case"jsonp":return D.json();case"binary":return D.blob();case"arrayBuffer":return D.arrayBuffer();case"xml":return D.text().then(function(Z){return Z=(new DOMParser).parseFromString(Z,"text/xml"),new _.default.XML(Z.documentElement)});default:return D.text()}})).then(u||function(){}),O.catch(c||console.error),O},window.URL=window.URL||window.webkitURL,_.default.prototype._pWriters=[],_.default.prototype.createWriter=function(d,u){var c,s;for(s in _.default.prototype._pWriters)if(_.default.prototype._pWriters[s].name===d)return c=new _.default.PrintWriter(d+this.millis(),u),_.default.prototype._pWriters.push(c),c;return c=new _.default.PrintWriter(d,u),_.default.prototype._pWriters.push(c),c},_.default.PrintWriter=function(d,u){var c=this;this.name=d,this.content="",this.write=function(s){this.content+=s},this.print=function(s){this.content+="".concat(s,"\n")},this.clear=function(){this.content=""},this.close=function(){var s,m=[];for(s in m.push(this.content),_.default.prototype.writeFile(m,d,u),_.default.prototype._pWriters)_.default.prototype._pWriters[s].name===this.name&&_.default.prototype._pWriters.splice(s,1);c.clear(),c={}}},_.default.prototype.save=function(d,u,c){var s=arguments,m=(this._curElement||this).elt;if(0===s.length)_.default.prototype.saveCanvas(m);else if(s[0]instanceof _.default.Renderer||s[0]instanceof _.default.Graphics)_.default.prototype.saveCanvas(s[0].elt,s[1],s[2]);else if(1===s.length&&"string"==typeof s[0])_.default.prototype.saveCanvas(m,s[0]);else switch(l(s[1],s[2])[1]){case"json":return void _.default.prototype.saveJSON(s[0],s[1],s[2]);case"txt":return void _.default.prototype.saveStrings(s[0],s[1],s[2]);default:s[0]instanceof Array?_.default.prototype.saveStrings(s[0],s[1],s[2]):s[0]instanceof _.default.Table?_.default.prototype.saveTable(s[0],s[1],s[2]):s[0]instanceof _.default.Image?_.default.prototype.saveCanvas(s[0].canvas,s[1]):s[0]instanceof _.default.SoundFile&&_.default.prototype.saveSound(s[0],s[1],s[2],s[3])}},_.default.prototype.saveJSON=function(d,u,c){_.default._validateParameters("saveJSON",arguments),c=c?JSON.stringify(d):JSON.stringify(d,void 0,2),this.saveStrings(c.split("\n"),u,"json")},_.default.prototype.saveJSONObject=_.default.prototype.saveJSON,_.default.prototype.saveJSONArray=_.default.prototype.saveJSON,_.default.prototype.saveStrings=function(d,u,c,s){_.default._validateParameters("saveStrings",arguments);for(var m=this.createWriter(u,c||"txt"),p=0;p<d.length;p++)m.write(s?d[p]+"\r\n":d[p]+"\n");m.close(),m.clear()},_.default.prototype.saveTable=function(d,u,c){_.default._validateParameters("saveTable",arguments),s=void 0===c?u.substring(u.lastIndexOf(".")+1,u.length):c;var s,m=this.createWriter(u,s),p=d.columns,b="tsv"===s?"\t":",";if("html"!==s){if("0"!==p[0]){for(var O=0;O<p.length;O++)m.write(O<p.length-1?p[O]+b:p[O]);m.write("\n")}for(var N=0;N<d.rows.length;N++){var R=void 0;for(R=0;R<d.rows[N].arr.length;R++)R<d.rows[N].arr.length-1?"csv"===s&&String(d.rows[N].arr[R]).includes(",")?m.write('"'+d.rows[N].arr[R]+'"'+b):m.write(d.rows[N].arr[R]+b):"csv"===s&&String(d.rows[N].arr[R]).includes(",")?m.write('"'+d.rows[N].arr[R]+'"'):m.write(d.rows[N].arr[R]);m.write("\n")}}else{if(m.print("<html>"),m.print("<head>"),m.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),m.print("</head>"),m.print("<body>"),m.print("  <table>"),"0"!==p[0]){m.print("    <tr>");for(var k=0;k<p.length;k++){var A=a(p[k]);m.print("      <td>".concat(A)),m.print("      </td>")}m.print("    </tr>")}for(var $=0;$<d.rows.length;$++){m.print("    <tr>");for(var j=0;j<d.columns.length;j++){var S=a(d.rows[$].getString(j));m.print("      <td>".concat(S)),m.print("      </td>")}m.print("    </tr>")}m.print("  </table>"),m.print("</body>"),m.print("</html>")}m.close(),m.clear()},_.default.prototype.writeFile=function(m,u,c){var s="application/octet-stream";_.default.prototype._isSafari()&&(s="text/plain"),m=new Blob(m,{type:s}),_.default.prototype.downloadFile(m,u,c)},_.default.prototype.downloadFile=function(d,m,p){var s;p=(m=l(m,p))[0],d instanceof Blob?f.default.saveAs(d,p):((s=document.createElement("a")).href=d,s.download=p,s.onclick=function(b){document.body.removeChild(b.target),b.stopPropagation()},s.style.display="none",document.body.appendChild(s),_.default.prototype._isSafari()&&(d=(d='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(m[1],'"'),alert(d)),s.click())},_.default.prototype._checkFileExtension=l,_.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},C.default=o=_.default},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(o,W,C){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(h,f){for(var E=0;E<f.length;E++){var w=f[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}y.default.Table=function(){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var f,E;return f=h,(E=[{key:"addRow",value:function(a){if(void 0===(a=a||new y.default.TableRow).arr||void 0===a.obj)throw new Error("invalid TableRow: ".concat(a));return(a.table=this).rows.push(a),a}},{key:"removeRow",value:function(a){this.rows[a].table=null,a=this.rows.splice(a+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(a)}},{key:"getRow",value:function(a){return this.rows[a]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(a,l){if("string"==typeof l){for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[l]===a)return this.rows[d]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[l]===a)return this.rows[u];return null}},{key:"findRows",value:function(a,l){var d=[];if("string"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].obj[l]===a&&d.push(this.rows[u]);else for(var c=0;c<this.rows.length;c++)this.rows[c].arr[l]===a&&d.push(this.rows[c]);return d}},{key:"matchRow",value:function(a,l){if("number"==typeof l){for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[l].match(a))return this.rows[d]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[l].match(a))return this.rows[u];return null}},{key:"matchRows",value:function(a,l){var d=[];if("number"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].arr[l].match(a)&&d.push(this.rows[u]);else for(var c=0;c<this.rows.length;c++)this.rows[c].obj[l].match(a)&&d.push(this.rows[c]);return d}},{key:"getColumn",value:function(a){var l=[];if("string"==typeof a)for(var d=0;d<this.rows.length;d++)l.push(this.rows[d].obj[a]);else for(var u=0;u<this.rows.length;u++)l.push(this.rows[u].arr[a]);return l}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(a){this.columns.push(a||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(a,l){for(var d=[],u=0;u<a.length;u++)d.push(a.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var c=new RegExp(d.join("|"),"g");if(void 0===l)for(var s=0;s<this.columns.length;s++)for(var m=0;m<this.rows.length;m++){var p=(p=this.rows[m].arr[s]).replace(c,"");this.rows[m].arr[s]=p,this.rows[m].obj[this.columns[s]]=p}else if("string"==typeof l)for(var b=0;b<this.rows.length;b++){var O=(O=this.rows[b].obj[l]).replace(c,""),N=(this.rows[b].obj[l]=O,this.columns.indexOf(l));this.rows[b].arr[N]=O}else for(var R=0;R<this.rows.length;R++){var k=(k=this.rows[R].arr[l]).replace(c,"");this.rows[R].arr[l]=k,this.rows[R].obj[this.columns[l]]=k}}},{key:"trim",value:function(a){var l=new RegExp(" ","g");if(void 0===a)for(var d=0;d<this.columns.length;d++)for(var u=0;u<this.rows.length;u++){var c=(c=this.rows[u].arr[d]).replace(l,"");this.rows[u].arr[d]=c,this.rows[u].obj[this.columns[d]]=c}else if("string"==typeof a)for(var s=0;s<this.rows.length;s++){var m=(m=this.rows[s].obj[a]).replace(l,""),p=(this.rows[s].obj[a]=m,this.columns.indexOf(a));this.rows[s].arr[p]=m}else for(var b=0;b<this.rows.length;b++){var O=(O=this.rows[b].arr[a]).replace(l,"");this.rows[b].arr[a]=O,this.rows[b].obj[this.columns[a]]=O}}},{key:"removeColumn",value:function(u){var l,d;"string"==typeof u?d=this.columns.indexOf(l=u):l=this.columns[d=u],u=this.columns.splice(d+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(u);for(var c=0;c<this.rows.length;c++){var s=this.rows[c].arr,m=s.splice(d+1,s.length);s.pop(),this.rows[c].arr=s.concat(m),delete this.rows[c].obj[l]}}},{key:"set",value:function(a,l,d){this.rows[a].set(l,d)}},{key:"setNum",value:function(a,l,d){this.rows[a].setNum(l,d)}},{key:"setString",value:function(a,l,d){this.rows[a].setString(l,d)}},{key:"get",value:function(a,l){return this.rows[a].get(l)}},{key:"getNum",value:function(a,l){return this.rows[a].getNum(l)}},{key:"getString",value:function(a,l){return this.rows[a].getString(l)}},{key:"getObject",value:function(a){for(var l,d={},u=0;u<this.rows.length;u++)if(l=this.rows[u].obj,"string"==typeof a){if(!(0<=this.columns.indexOf(a)))throw new Error('This table has no column named "'.concat(a,'"'));d[l[a]]=l}else d[u]=this.rows[u].obj;return d}},{key:"getArray",value:function(){for(var a=[],l=0;l<this.rows.length;l++)a.push(this.rows[l].arr);return a}}])&&_(f.prototype,E),h}(),C.default=o=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(o,W,C){"use strict";function y(_,h){for(var f=0;f<h.length;f++){var E=h[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function _(w,a){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");var l=[];w&&(l=w.split(a=a||",")),this.arr=l,this.obj=Object.fromEntries(l.entries()),this.table=null}var h,f;return h=_,(f=[{key:"set",value:function(w,a){if("string"==typeof w){var l=this.table.columns.indexOf(w);if(!(0<=l))throw new Error('This table has no column named "'.concat(w,'"'));this.obj[w]=a,this.arr[l]=a}else{if(!(w<this.table.columns.length))throw new Error("Column #".concat(w," is out of the range of this table"));this.arr[w]=a,this.obj[l=this.table.columns[w]]=a}}},{key:"setNum",value:function(w,a){a=parseFloat(a),this.set(w,a)}},{key:"setString",value:function(w,a){a=a.toString(),this.set(w,a)}},{key:"get",value:function(w){return("string"==typeof w?this.obj:this.arr)[w]}},{key:"getNum",value:function(w){var a=parseFloat("string"==typeof w?this.obj[w]:this.arr[w]);if("NaN"===a.toString())throw"Error: ".concat(this.obj[w]," is NaN (Not a Number)");return a}},{key:"getString",value:function(w){return("string"==typeof w?this.obj:this.arr)[w].toString()}}])&&y(h.prototype,f),_}(),C.default=o=o.default},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(f,E){for(var w=0;w<E.length;w++){var a=E[w];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}y.default.XML=function(){function f(l){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var E,w;return E=f,(w=[{key:"getParent",value:function(){return new y.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var d=this.DOM.innerHTML,u=this.DOM.attributes,c=document.implementation.createDocument(null,"default").createElement(l);c.innerHTML=d;for(var s=0;s<u.length;s++)c.setAttribute(u[s].nodeName,u.nodeValue);this.DOM=c}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],d=0;d<this.DOM.childNodes.length;d++)l.push(this.DOM.childNodes[d].nodeName);return l}},{key:"getChildren",value:function(l){return function h(f){for(var E=[],w=0;w<f.length;w++)E.push(new y.default.XML(f[w]));return E}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if("string"!=typeof l)return new y.default.XML(this.DOM.children[l]);var d=!0,u=!1,c=void 0;try{for(var s,m=this.DOM.children[Symbol.iterator]();!(d=(s=m.next()).done);d=!0){var p=s.value;if(p.tagName===l)return new y.default.XML(p)}}catch(b){u=!0,c=b}finally{try{d||null==m.return||m.return()}finally{if(u)throw c}}}},{key:"addChild",value:function(l){l instanceof y.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var d=-1;if("string"==typeof l){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===l){d=u;break}}else d=l;-1!==d&&this.DOM.removeChild(this.DOM.children[d])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],d=!0,u=!1,c=void 0;try{for(var s,m=this.DOM.attributes[Symbol.iterator]();!(d=(s=m.next()).done);d=!0)l.push(s.value.nodeName)}catch(b){u=!0,c=b}finally{try{d||null==m.return||m.return()}finally{if(u)throw c}}return l}},{key:"hasAttribute",value:function(l){var d={},u=!0,c=!1,s=void 0;try{for(var m,p=this.DOM.attributes[Symbol.iterator]();!(u=(m=p.next()).done);u=!0){var b=m.value;d[b.nodeName]=b.nodeValue}}catch(O){c=!0,s=O}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}return!!d[l]}},{key:"getNum",value:function(l,d){var u={},c=!0,s=!1,m=void 0;try{for(var p,b=this.DOM.attributes[Symbol.iterator]();!(c=(p=b.next()).done);c=!0){var O=p.value;u[O.nodeName]=O.nodeValue}}catch(N){s=!0,m=N}finally{try{c||null==b.return||b.return()}finally{if(s)throw m}}return Number(u[l])||d||0}},{key:"getString",value:function(l,d){var u={},c=!0,s=!1,m=void 0;try{for(var p,b=this.DOM.attributes[Symbol.iterator]();!(c=(p=b.next()).done);c=!0){var O=p.value;u[O.nodeName]=O.nodeValue}}catch(N){s=!0,m=N}finally{try{c||null==b.return||b.return()}finally{if(s)throw m}}return u[l]?String(u[l]):d||null}},{key:"setAttribute",value:function(l,d){this.DOM.setAttribute(l,d)}},{key:"getContent",value:function(l){var d=this.DOM.textContent;return(d=d.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&_(E.prototype,w),f}(),C.default=o=y.default},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(h){return function(f){if(Array.isArray(f)){for(var E=0,w=new Array(f.length);E<f.length;E++)w[E]=f[E];return w}}(h)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.abs=Math.abs,y.default.prototype.ceil=Math.ceil,y.default.prototype.constrain=function(h,f,E){return y.default._validateParameters("constrain",arguments),Math.max(Math.min(h,E),f)},y.default.prototype.dist=function(){for(var h=arguments.length,f=new Array(h),E=0;E<h;E++)f[E]=arguments[E];return y.default._validateParameters("dist",f),4===f.length?Math.hypot(f[2]-f[0],f[3]-f[1]):6===f.length?Math.hypot(f[3]-f[0],f[4]-f[1],f[5]-f[2]):void 0},y.default.prototype.exp=Math.exp,y.default.prototype.floor=Math.floor,y.default.prototype.lerp=function(h,f,E){return y.default._validateParameters("lerp",arguments),E*(f-h)+h},y.default.prototype.log=Math.log,y.default.prototype.mag=function(h,f){return y.default._validateParameters("mag",arguments),Math.hypot(h,f)},y.default.prototype.map=function(h,f,E,w,a,l){return y.default._validateParameters("map",arguments),h=(h-f)/(E-f)*(a-w)+w,l?w<a?this.constrain(h,w,a):this.constrain(h,a,w):h},y.default.prototype.max=function(){for(var h=function(a){return Math.max.apply(Math,_(a))},f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return Array.isArray(E[0])?h(E[0]):h(E)},y.default.prototype.min=function(){for(var h=function(a){return Math.min.apply(Math,_(a))},f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return Array.isArray(E[0])?h(E[0]):h(E)},y.default.prototype.norm=function(h,f,E){return y.default._validateParameters("norm",arguments),this.map(h,f,E,0,1)},y.default.prototype.pow=Math.pow,y.default.prototype.round=function(h,f){return f?(f=Math.pow(10,f),Math.round(h*f)/f):Math.round(h)},y.default.prototype.sq=function(h){return h*h},y.default.prototype.sqrt=Math.sqrt,y.default.prototype.fract=function(w){y.default._validateParameters("fract",arguments);var f,E=0;return w=Number(w),isNaN(w)||Math.abs(w)===1/0?w:(w<0&&(w=-w,E=1),String(w).includes(".")&&!String(w).includes("e")?(f=+("0"+(f=String(w)).slice(f.indexOf("."))),Math.abs(E-f)):w<1?Math.abs(E-w):0)},C.default=o=y.default},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(o,W,C){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(f,E,w){return(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(a,l,d){var u=[null];return u.push.apply(u,l),l=new(Function.bind.apply(a,u)),d&&h(l,d.prototype),l}).apply(null,arguments)}function h(f,E){return(h=Object.setPrototypeOf||function(w,a){return w.__proto__=a,w})(f,E)}y.default.prototype.createVector=function(f,E,w){return this instanceof y.default?_(y.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new y.default.Vector(f,E,w)},C.default=o=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(w,W,C){"use strict";function y(a){return.5*(1-Math.cos(a*Math.PI))}Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,w=(w=w("../core/main"))&&w.__esModule?w:{default:w};var _,h=4095,f=4,E=.5;w.default.prototype.noise=function(a){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==_){_=new Array(4096);for(var u=0;u<4096;u++)_[u]=Math.random()}a<0&&(a=-a),l<0&&(l=-l),d<0&&(d=-d);for(var c,s,m=Math.floor(a),p=Math.floor(l),b=Math.floor(d),O=a-m,N=l-p,R=d-b,k=0,A=.5,$=0;$<f;$++){var j=m+(p<<4)+(b<<8),S=y(O),D=y(N),V=_[j&h];V+=S*(_[j+1&h]-V),c=_[j+16&h],V+=D*((c+=S*(_[j+16+1&h]-c))-V),c=_[(j+=256)&h],c+=S*(_[j+1&h]-c),s=_[j+16&h],c+=D*((s+=S*(_[j+16+1&h]-s))-c),k+=(V+=y(R)*(c-V))*A,A*=E,m<<=1,p<<=1,b<<=1,1<=(O*=2)&&(m++,O--),1<=(N*=2)&&(p++,N--),1<=(R*=2)&&(b++,R--)}return k},w.default.prototype.noiseDetail=function(a,l){0<a&&(f=a),0<l&&(E=l)},w.default.prototype.noiseSeed=function(a){u=4294967296;var d,u,c_rand=function(){return(d=(1664525*d+1013904223)%u)/u};(function(m){d=(null==m?Math.random()*u:m)>>>0})(a),_=new Array(4096);for(var s=0;s<4096;s++)_[s]=c_rand()},C.default=w=w.default},{"../core/main":280}],313:[function(o,W,C){"use strict";function y(l){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(d){return y(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(a=o("../core/main"))&&a.__esModule?a:{default:a},f=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var d=E();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(o("../core/constants"));function E(){var l;return"function"!=typeof WeakMap?null:(E=function(){return l},l=new WeakMap)}function w(l,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}h.default.Vector=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var m,p,b="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],m=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(m=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=m,this.y=p,this.z=b}var d,u,c;return d=l,c=[{key:"fromAngle",value:function(s,m){return new h.default.Vector((m=void 0===m?1:m)*Math.cos(s),m*Math.sin(s),0)}},{key:"fromAngles",value:function(R,O,p){void 0===p&&(p=1);var b=Math.cos(O),N=(O=Math.sin(O),Math.cos(R));return R=Math.sin(R),new h.default.Vector(p*R*O,-p*N,p*R*b)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*f.TWO_PI)}},{key:"random3D",value:function(){var s=Math.random()*f.TWO_PI,m=2*Math.random()-1,p=(b=Math.sqrt(1-m*m))*Math.cos(s),b=b*Math.sin(s);return new h.default.Vector(p,b,m)}},{key:"copy",value:function(s){return s.copy(s)}},{key:"add",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),p.add(m),p}},{key:"rem",value:function(s,m){if(s instanceof h.default.Vector&&m instanceof h.default.Vector)return(s=s.copy()).rem(m),s}},{key:"sub",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),p.sub(m),p}},{key:"mult",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),p.mult(m),p}},{key:"rotate",value:function(s,m,p){return 2===arguments.length?p=s.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),p.set(s)),p.rotate(m),p}},{key:"div",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),p.div(m),p}},{key:"dot",value:function(s,m){return s.dot(m)}},{key:"cross",value:function(s,m){return s.cross(m)}},{key:"dist",value:function(s,m){return s.dist(m)}},{key:"lerp",value:function(s,m,p,b){return b?b.set(s):(b=s.copy(),4===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),b.lerp(m,p),b}},{key:"slerp",value:function(s,m,p,b){return b?b.set(s):(b=s.copy(),4===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),b.slerp(m,p),b}},{key:"mag",value:function(s){return s.mag()}},{key:"magSq",value:function(s){return s.magSq()}},{key:"normalize",value:function(s,m){return arguments.length<2?m=s.copy():(m instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),m.set(s)),m.normalize()}},{key:"limit",value:function(s,m,p){return arguments.length<3?p=s.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),p.set(s)),p.limit(m)}},{key:"setMag",value:function(s,m,p){return arguments.length<3?p=s.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),p.set(s)),p.setMag(m)}},{key:"heading",value:function(s){return s.heading()}},{key:"angleBetween",value:function(s,m){return s.angleBetween(m)}},{key:"reflect",value:function(s,m,p){return arguments.length<3?p=s.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),p.set(s)),p.reflect(m)}},{key:"array",value:function(s){return s.array()}},{key:"equals",value:function(s,m){var p;return s instanceof h.default.Vector?p=s:Array.isArray(s)?p=(new h.default.Vector).set(s):h.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(m)}}],(u=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(s,m,p){return s instanceof h.default.Vector?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):Array.isArray(s)?(this.x=s[0]||0,this.y=s[1]||0,this.z=s[2]||0):(this.x=s||0,this.y=m||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new h.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(s,m,p){return s instanceof h.default.Vector?(this.x+=s.x||0,this.y+=s.y||0,this.z+=s.z||0):Array.isArray(s)?(this.x+=s[0]||0,this.y+=s[1]||0,this.z+=s[2]||0):(this.x+=s||0,this.y+=m||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(s,m){return 0!==s&&(this.x=this.x%s),0!==m&&(this.y=this.y%m),this}},{key:"calculateRemainder3D",value:function(s,m,p){return 0!==s&&(this.x=this.x%s),0!==m&&(this.y=this.y%m),0!==p&&(this.z=this.z%p),this}},{key:"rem",value:function(s,m,p){var b;if(s instanceof h.default.Vector){if([s.x,s.y,s.z].every(Number.isFinite))return O=parseFloat(s.x),N=parseFloat(s.y),b=parseFloat(s.z),this.calculateRemainder3D(O,N,b)}else if(Array.isArray(s)){if(s.every(function(R){return Number.isFinite(R)}))return 2===s.length?this.calculateRemainder2D(s[0],s[1]):3===s.length?this.calculateRemainder3D(s[0],s[1],s[2]):void 0}else if(1===arguments.length){if(Number.isFinite(s)&&0!==s)return this.x=this.x%s,this.y=this.y%s,this.z=this.z%s,this}else if(2===arguments.length){var O=Array.prototype.slice.call(arguments);if(O.every(function(R){return Number.isFinite(R)})&&2===O.length)return this.calculateRemainder2D(O[0],O[1])}else if(3===arguments.length){var N=Array.prototype.slice.call(arguments);if(N.every(function(R){return Number.isFinite(R)})&&3===N.length)return this.calculateRemainder3D(N[0],N[1],N[2])}}},{key:"sub",value:function(s,m,p){return s instanceof h.default.Vector?(this.x-=s.x||0,this.y-=s.y||0,this.z-=s.z||0):Array.isArray(s)?(this.x-=s[0]||0,this.y-=s[1]||0,this.z-=s[2]||0):(this.x-=s||0,this.y-=m||0,this.z-=p||0),this}},{key:"mult",value:function(s,m,p){var b;return s instanceof h.default.Vector?Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&"number"==typeof s.x&&"number"==typeof s.y&&"number"==typeof s.z?(this.x*=s.x,this.y*=s.y,this.z*=s.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(s)?s.every(function(O){return Number.isFinite(O)})&&s.every(function(O){return"number"==typeof O})?1===s.length?(this.x*=s[0],this.y*=s[0],this.z*=s[0]):2===s.length?(this.x*=s[0],this.y*=s[1]):3===s.length&&(this.x*=s[0],this.y*=s[1],this.z*=s[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(b=Array.prototype.slice.call(arguments)).every(function(O){return Number.isFinite(O)})&&b.every(function(O){return"number"==typeof O})?(1===arguments.length&&(this.x*=s,this.y*=s,this.z*=s),2===arguments.length&&(this.x*=s,this.y*=m),3===arguments.length&&(this.x*=s,this.y*=m,this.z*=p)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(s,m,p){if(s instanceof h.default.Vector)if(Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&"number"==typeof s.x&&"number"==typeof s.y&&"number"==typeof s.z){var b=0===s.z&&0===this.z;if(0===s.x||0===s.y||!b&&0===s.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=s.x,this.y/=s.y,b||(this.z/=s.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(s))if(s.every(function(O){return Number.isFinite(O)})&&s.every(function(O){return"number"==typeof O})){if(s.some(function(O){return 0===O}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===s.length?(this.x/=s[0],this.y/=s[0],this.z/=s[0]):2===s.length?(this.x/=s[0],this.y/=s[1]):3===s.length&&(this.x/=s[0],this.y/=s[1],this.z/=s[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((b=Array.prototype.slice.call(arguments)).every(function(O){return Number.isFinite(O)})&&b.every(function(O){return"number"==typeof O})){if(b.some(function(O){return 0===O}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=s,this.y/=s,this.z/=s),2===arguments.length&&(this.x/=s,this.y/=m),3===arguments.length&&(this.x/=s,this.y/=m,this.z/=p)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var s=this.x,m=this.y,p=this.z;return s*s+m*m+p*p}},{key:"dot",value:function(s,m,p){return s instanceof h.default.Vector?this.dot(s.x,s.y,s.z):this.x*(s||0)+this.y*(m||0)+this.z*(p||0)}},{key:"cross",value:function(b){var m=this.y*b.z-this.z*b.y,p=this.z*b.x-this.x*b.z;return b=this.x*b.y-this.y*b.x,this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,m,p,b):new h.default.Vector(m,p,b)}},{key:"dist",value:function(s){return s.copy().sub(this).mag()}},{key:"normalize",value:function(){var s=this.mag();return 0!==s&&this.mult(1/s),this}},{key:"limit",value:function(s){var m=this.magSq();return s*s<m&&this.div(Math.sqrt(m)).mult(s),this}},{key:"setMag",value:function(s){return this.normalize().mult(s)}},{key:"heading",value:function(){var s=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(s):s}},{key:"setHeading",value:function(s){this.isPInst&&(s=this._toRadians(s));var m=this.mag();return this.x=m*Math.cos(s),this.y=m*Math.sin(s),this}},{key:"rotate",value:function(m){m=this.heading()+m;var p=(this.isPInst&&(m=this._toRadians(m)),this.mag());return this.x=Math.cos(m)*p,this.y=Math.sin(m)*p,this}},{key:"angleBetween",value:function(s){var m;return this.magSq()*s.magSq()==0?NaN:(m=this.cross(s),s=Math.atan2(m.mag(),this.dot(s))*Math.sign(m.z||1),this.isPInst?this._fromRadians(s):s)}},{key:"lerp",value:function(s,m,p,b){return s instanceof h.default.Vector?this.lerp(s.x,s.y,s.z,m):(this.x+=(s-this.x)*b||0,this.y+=(m-this.y)*b||0,this.z+=(p-this.z)*b||0,this)}},{key:"slerp",value:function(s,m){if(0!==m){if(1===m)return this.set(s);var p=this.mag(),b=s.mag();if(p*b==0)this.mult(1-m).add(s.x*m,s.y*m,s.z*m);else{var O=this.cross(s),N=O.mag(),R=Math.atan2(N,this.dot(s));if(0<N)O.x/=N,O.y/=N,O.z/=N;else{if(R<.5*Math.PI)return this.mult(1-m).add(s.x*m,s.y*m,s.z*m),this;0===this.z&&0===s.z?O.set(0,0,1):0!==this.x?O.set(this.y,-this.x,0).normalize():O.set(1,0,0)}N=O.cross(this),O=(s=1-m+m*b/p)*Math.cos(m*R),b=s*Math.sin(m*R),this.x=this.x*O+N.x*b,this.y=this.y*O+N.y*b,this.z=this.z*O+N.z*b}}return this}},{key:"reflect",value:function(s){return s.normalize(),this.sub(s.mult(2*this.dot(s)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(N,m,p){var b,O;return N=N instanceof h.default.Vector?(b=N.x||0,O=N.y||0,N.z||0):Array.isArray(N)?(b=N[0]||0,O=N[1]||0,N[2]||0):(b=N||0,O=m||0,p||0),this.x===b&&this.y===O&&this.z===N}}])&&w(d.prototype,u),c&&w(d,c),l}();var a=h.default.Vector;C.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(E,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(E=E("../core/main"))&&E.__esModule?E:{default:E},_="_lcg_random_state",h=4294967296,f=0;y.default.prototype._lcg=function(w){return this[w]=(1664525*this[w]+1013904223)%h,this[w]/h},y.default.prototype._lcgSetSeed=function(w,a){this[w]=(null==a?Math.random()*h:a)>>>0},y.default.prototype.randomSeed=function(w){this._lcgSetSeed(_,w),this._gaussian_previous=!1},y.default.prototype.random=function(w,a){var l,d;return y.default._validateParameters("random",arguments),l=null!=this[_]?this._lcg(_):Math.random(),void 0===w?l:void 0===a?Array.isArray(w)?w[Math.floor(l*w.length)]:l*w:(a<w&&(d=w,w=a,a=d),l*(a-w)+w)},y.default.prototype.randomGaussian=function(w){var a,l,d,u,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)a=f,this._gaussian_previous=!1;else{for(;1<=(u=(l=this.random(2)-1)*l+(d=this.random(2)-1)*d););a=l*(u=Math.sqrt(-2*Math.log(u)/u)),f=d*u,this._gaussian_previous=!0}return a*c+(w||0)},C.default=E=y.default},{"../core/main":280}],315:[function(o,W,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(o("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}h.default.prototype._angleMode=f.RADIANS,h.default.prototype.acos=function(a){return this._fromRadians(Math.acos(a))},h.default.prototype.asin=function(a){return this._fromRadians(Math.asin(a))},h.default.prototype.atan=function(a){return this._fromRadians(Math.atan(a))},h.default.prototype.atan2=function(a,l){return this._fromRadians(Math.atan2(a,l))},h.default.prototype.cos=function(a){return Math.cos(this._toRadians(a))},h.default.prototype.sin=function(a){return Math.sin(this._toRadians(a))},h.default.prototype.tan=function(a){return Math.tan(this._toRadians(a))},h.default.prototype.degrees=function(a){return a*f.RAD_TO_DEG},h.default.prototype.radians=function(a){return a*f.DEG_TO_RAD},h.default.prototype.angleMode=function(a){if(h.default._validateParameters("angleMode",arguments),void 0===a)return this._angleMode;a!==f.DEGREES&&a!==f.RADIANS||a!==this._angleMode&&(a===f.RADIANS?(this._setProperty("pRotationX",this.pRotationX*f.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*f.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*f.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*f.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*f.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*f.RAD_TO_DEG)),this._angleMode=a)},h.default.prototype._toRadians=function(a){return this._angleMode===f.DEGREES?a*f.DEG_TO_RAD:a},h.default.prototype._toDegrees=function(a){return this._angleMode===f.RADIANS?a*f.RAD_TO_DEG:a},h.default.prototype._fromRadians=function(a){return this._angleMode===f.DEGREES?a*f.RAD_TO_DEG:a},h.default.prototype._fromDegrees=function(a){return this._angleMode===f.RADIANS?a*f.DEG_TO_RAD:a};var w=h.default;C.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(o,W,C){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};y.default.prototype.textAlign=function(_,h){var f;return y.default._validateParameters("textAlign",arguments),(f=this._renderer).textAlign.apply(f,arguments)},y.default.prototype.textLeading=function(_){var h;return y.default._validateParameters("textLeading",arguments),(h=this._renderer).textLeading.apply(h,arguments)},y.default.prototype.textSize=function(_){var h;return y.default._validateParameters("textSize",arguments),(h=this._renderer).textSize.apply(h,arguments)},y.default.prototype.textStyle=function(_){var h;return y.default._validateParameters("textStyle",arguments),(h=this._renderer).textStyle.apply(h,arguments)},y.default.prototype.textWidth=function(){for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];if(h[0]+="",y.default._validateParameters("textWidth",h),0===h[0].length)return 0;for(var E=h[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),w=[],a=0;a<E.length;a++)w.push(this._renderer.textWidth(E[a]));return Math.max.apply(Math,w)},y.default.prototype.textAscent=function(){for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];return y.default._validateParameters("textAscent",h),this._renderer.textAscent()},y.default.prototype.textDescent=function(){for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];return y.default._validateParameters("textDescent",h),this._renderer.textDescent()},y.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},y.default.prototype.textWrap=function(_){if("WORD"!==_&&"CHAR"!==_)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(_)},C.default=o=y.default},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(o,W,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(l=o("../core/main"))&&l.__esModule?l:{default:l},f=a(o("../core/constants")),E=a(o("opentype.js"));function w(){var d;return"function"!=typeof WeakMap?null:(w=function(){return d},d=new WeakMap)}function a(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=w();if(u&&u.has(d))return u.get(d);var c,s,m={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&((s=p?Object.getOwnPropertyDescriptor(d,c):null)&&(s.get||s.set)?Object.defineProperty(m,c,s):m[c]=d[c]);return m.default=d,u&&u.set(d,m),m}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),h.default.prototype.loadFont=function(d,u,c){h.default._validateParameters("loadFont",arguments);var s=new h.default.Font(this),m=this;return E.load(d,function(O,N){if(O)return h.default._friendlyFileLoadError(4,d),void 0!==c?c(O):void console.error(O,d);s.font=N,void 0!==u&&u(s),m._decrementPreload();var R=(N=(O=d.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:O.slice(N+1);["ttf","otf","woff","woff2"].includes(R)&&(R=O.slice(0,-1!==N?N:0),(O=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(R,";\nsrc: url(").concat(d,");\n}\n"))),document.head.appendChild(O))}),s},h.default.prototype.text=function(d,u,c,s,m){var p;return h.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},h.default.prototype.textFont=function(d,u){if(h.default._validateParameters("textFont",arguments),arguments.length){if(d)return this._renderer._setProperty("_textFont",d),u&&(this._renderer._setProperty("_textSize",u),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",u*f._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=h.default;C.default=l},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(o,W,C){"use strict";function y(k){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(k)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(_=o("../core/main"))&&_.__esModule?_:{default:_},h=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==E(k)&&"function"!=typeof k)return{default:k};var A=f();if(A&&A.has(k))return A.get(k);var $,j={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in k){var D;Object.prototype.hasOwnProperty.call(k,$)&&((D=S?Object.getOwnPropertyDescriptor(k,$):null)&&(D.get||D.set)?Object.defineProperty(j,$,D):j[$]=k[$])}return j.default=k,A&&A.set(k,j),j}(o("../core/constants"));function f(){var k;return"function"!=typeof WeakMap?null:(f=function(){return k},k=new WeakMap)}function E(k){return(E="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(A){return y(A)}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":y(A)})(k)}function w(k,A){for(var $=0;$<A.length;$++){var j=A[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}function a(k,A){var $=k.length;return k[A<0?A%$+$:A%$]}function l(k,A,$,j){var S,D,V;return j?(void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]),V=l.tmpPoint2,(D=l.tmpPoint1).x=A.x-k.x,D.y=A.y-k.y,V.x=$.x-A.x,V.y=$.y-A.y,S=D.x*V.x+D.y*V.y,D=Math.sqrt(D.x*D.x+D.y*D.y),V=Math.sqrt(V.x*V.x+V.y*V.y),Math.acos(S/(D*V))<j):(A[0]-k[0])*($[1]-k[1])-($[0]-k[0])*(A[1]-k[1])==0}function d(L,ge,re,Me,Le,D,V,Z,H){var Q=1-H,Y=(q=Math.pow(Q,3))*L+3*(ne=Math.pow(Q,2))*H*re+3*Q*H*H*Le+(de=(K=H*H)*H)*V,q=q*ge+3*ne*H*Me+3*Q*H*H*D+de*Z,ne=L+2*H*(re-L)+K*(Le-2*re+L),de=ge+2*H*(Me-ge)+K*(D-2*Me+ge),xe=re+2*H*(Le-re)+K*(V-2*Le+re),K=Me+2*H*(D-Me)+K*(Z-2*D+Me);return L=Q*L+H*re,re=Q*ge+H*Me,ge=Q*Le+H*V,Me=Q*D+H*Z,Le=90-180*Math.atan2(ne-xe,de-K)/Math.PI,(xe<ne||de<K)&&(Le+=180),{x:Y,y:q,m:{x:ne,y:de},n:{x:xe,y:K},start:{x:L,y:re},end:{x:ge,y:Me},alpha:Le}}function u(k,A,$,j,S,D,V,Z,H){return null==H?N(k,A,$,j,S,D,V,Z):d(k,A,$,j,S,D,V,Z,function(Q,Y,q,ne,de,xe,K,L,re){if(!(re<0||N(Q,Y,q,ne,de,xe,K,L)<re)){var ge,Me=.5,Le=1-Me;for(ge=N(Q,Y,q,ne,de,xe,K,L,Le);.01<Math.abs(ge-re);)ge=N(Q,Y,q,ne,de,xe,K,L,Le+=(ge<re?1:-1)*(Me/=2));return Le}}(k,A,$,j,S,D,V,Z,H))}function c(k,A,$){for(var j,S,D,V,Z,H=0,Q=0,Y=(k=function(q,ne){function de(mt,yt,jt){var Ht,Rt;if(!mt)return["C",yt.x,yt.y,yt.x,yt.y,yt.x,yt.y];switch(mt[0]in{T:1,Q:1}||(yt.qx=yt.qy=null),mt[0]){case"M":yt.X=mt[1],yt.Y=mt[2];break;case"A":mt=["C"].concat(m.apply(0,[yt.x,yt.y].concat(mt.slice(1))));break;case"S":Rt="C"===jt||"S"===jt?(Ht=2*yt.x-yt.bx,2*yt.y-yt.by):(Ht=yt.x,yt.y),mt=["C",Ht,Rt].concat(mt.slice(1));break;case"T":"Q"===jt||"T"===jt?(yt.qx=2*yt.x-yt.qx,yt.qy=2*yt.y-yt.qy):(yt.qx=yt.x,yt.qy=yt.y),mt=["C"].concat(O(yt.x,yt.y,yt.qx,yt.qy,mt[1],mt[2]));break;case"Q":yt.qx=mt[1],yt.qy=mt[2],mt=["C"].concat(O(yt.x,yt.y,mt[1],mt[2],mt[3],mt[4]));break;case"L":mt=["C"].concat(b(yt.x,yt.y,mt[1],mt[2]));break;case"H":mt=["C"].concat(b(yt.x,yt.y,mt[1],yt.y));break;case"V":mt=["C"].concat(b(yt.x,yt.y,yt.x,mt[1]));break;case"Z":mt=["C"].concat(b(yt.x,yt.y,yt.X,yt.Y))}return mt}function xe(mt,yt){if(7<mt[yt].length){mt[yt].shift();for(var jt=mt[yt];jt.length;)Ye[yt]="A",ge&&(et[yt]="A"),mt.splice(yt++,0,["C"].concat(jt.splice(0,6)));mt.splice(yt,1),L=Math.max(re.length,ge&&ge.length||0)}}function K(mt,yt,jt,Ht,Rt){mt&&yt&&"M"===mt[Rt][0]&&"M"!==yt[Rt][0]&&(yt.splice(Rt,0,["M",Ht.x,Ht.y]),jt.bx=0,jt.by=0,jt.x=mt[Rt][1],jt.y=mt[Rt][2],L=Math.max(re.length,ge&&ge.length||0))}var L,re=s(q),ge=undefined,Me={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Le={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ye=[],et=[],Oe="",Ge="";L=Math.max(re.length,ge&&ge.length||0);for(var Be=0;Be<L;Be++){"C"!==(Oe=re[Be]?re[Be][0]:Oe)&&(Ye[Be]=Oe,Be&&(Ge=Ye[Be-1])),re[Be]=de(re[Be],Me,Ge),"A"!==Ye[Be]&&"C"===Oe&&(Ye[Be]="C"),xe(re,Be),ge&&("C"!==(Oe=ge[Be]?ge[Be][0]:Oe)&&(et[Be]=Oe,Be&&(Ge=et[Be-1])),ge[Be]=de(ge[Be],Le,Ge),"A"!==et[Be]&&"C"===Oe&&(et[Be]="C"),xe(ge,Be)),K(re,ge,Me,Le,Be),K(ge,re,Le,Me,Be);var Ae=re[Be],Qe=ge&&ge[Be],Ke=Ae.length,vt=ge&&Qe.length;Me.x=Ae[Ke-2],Me.y=Ae[Ke-1],Me.bx=parseFloat(Ae[Ke-4])||Me.x,Me.by=parseFloat(Ae[Ke-3])||Me.y,Le.bx=ge&&(parseFloat(Qe[vt-4])||Le.x),Le.by=ge&&(parseFloat(Qe[vt-3])||Le.y),Le.x=ge&&Qe[vt-2],Le.y=ge&&Qe[vt-1]}return ge?[re,ge]:re}(k)).length;Q<Y;Q++){if("M"===(D=k[Q])[0])j=+D[1],S=+D[2];else{if(A<H+(V=u(j,S,D[1],D[2],D[3],D[4],D[5],D[6]))&&!$)return{x:(Z=u(j,S,D[1],D[2],D[3],D[4],D[5],D[6],A-H)).x,y:Z.y,alpha:Z.alpha};H+=V,j=+D[5],S=+D[6]}D.shift()}return(Z=$?H:d(j,S,D[0],D[1],D[2],D[3],D[4],D[5],1)).alpha?{x:Z.x,y:Z.y,alpha:Z.alpha}:Z}function s(k){var A=[],$=0,j=0,S=0,D=0,V=0;if(k){"M"===k[0][0]&&(S=$=+k[0][1],D=j=+k[0][2],V++,A[0]=["M",$,j]);for(var Z,H,Q=3===k.length&&"M"===k[0][0]&&"R"===k[1][0].toUpperCase()&&"Z"===k[2][0].toUpperCase(),Y=V,q=k.length;Y<q;Y++){if(A.push(Z=[]),(H=k[Y])[0]!==H[0].toUpperCase())switch(Z[0]=H[0].toUpperCase(),Z[0]){case"A":Z[1]=H[1],Z[2]=H[2],Z[3]=H[3],Z[4]=H[4],Z[5]=H[5],Z[6]=+(H[6]+$),Z[7]=+(H[7]+j);break;case"V":Z[1]=+H[1]+j;break;case"H":Z[1]=+H[1]+$;break;case"R":for(var ne,de=2,xe=(ne=[$,j].concat(H.slice(1))).length;de<xe;de++)ne[de]=+ne[de]+$,ne[++de]=+ne[de]+j;A.pop(),A=A.concat(p(ne,Q));break;case"M":S=+H[1]+$,D=+H[2]+j;break;default:for(var K=1,L=H.length;K<L;K++)Z[K]=+H[K]+(K%2?$:j)}else if("R"===H[0])ne=[$,j].concat(H.slice(1)),A.pop(),A=A.concat(p(ne,Q)),Z=["R"].concat(H.slice(-2));else for(var re=0,ge=H.length;re<ge;re++)Z[re]=H[re];switch(Z[0]){case"Z":$=S,j=D;break;case"H":$=Z[1];break;case"V":j=Z[1];break;case"M":S=Z[Z.length-2],D=Z[Z.length-1];break;default:$=Z[Z.length-2],j=Z[Z.length-1]}}}return A}function m(k,A,$,j,ge,Ye,Me,Z,H,Q){function Y(vt,mt,yt){return{x:vt*Math.cos(yt)-mt*Math.sin(yt),y:vt*Math.sin(yt)+mt*Math.cos(yt)}}var q,re=120*(L=Math.PI)/180,ne=L/180*(+ge||0),de=[],xe=(Q?(Be=Q[0],q=Q[1],Oe=Q[2],Ge=Q[3]):(k=(Le=Y(k,A,-ne)).x,A=Le.y,1<(xe=(K=(k-(Z=(Le=Y(Z,H,-ne)).x))/2)*K/($*$)+(Le=(A-(H=Le.y))/2)*Le/(j*j))&&($*=xe=Math.sqrt(xe),j*=xe),xe=$*$,et=j*j,Oe=(Ye=(Ye===Me?-1:1)*Math.sqrt(Math.abs((xe*et-xe*Le*Le-et*K*K)/(xe*Le*Le+et*K*K))))*$*Le/j+(k+Z)/2,Ge=Ye*-j*K/$+(A+H)/2,Be=Math.asin(((A-Ge)/j).toFixed(9)),q=Math.asin(((H-Ge)/j).toFixed(9)),(Be=k<Oe?L-Be:Be)<0&&(Be=2*L+Be),(q=Z<Oe?L-q:q)<0&&(q=2*L+q),Me&&q<Be&&(Be-=2*L),!Me&&Be<q&&(q-=2*L)),q-Be),K=(Math.abs(xe)>re&&(et=q,Le=Z,Ye=H,q=Be+re*(Me&&Be<q?1:-1),de=m(Z=Oe+$*Math.cos(q),H=Ge+j*Math.sin(q),$,j,ge,0,Me,Le,Ye,[q,et,Oe,Ge])),xe=q-Be,Math.cos(Be)),L=Math.sin(Be),Le=(re=Math.cos(q),ge=Math.sin(q),4/3*$*(Me=Math.tan(xe/4))),et=[k,A],Oe=[k+Le*L,A-(Ye=4/3*j*Me)*K],Ge=[Z+Le*ge,H-Ye*re],Be=[Z,H];if(Oe[0]=2*et[0]-Oe[0],Oe[1]=2*et[1]-Oe[1],Q)return[Oe,Ge,Be].concat(de);for(var Ae=[],Qe=0,Ke=(de=[Oe,Ge,Be].concat(de).join().split(",")).length;Qe<Ke;Qe++)Ae[Qe]=Qe%2?Y(de[Qe-1],de[Qe],ne).y:Y(de[Qe],de[Qe+1],ne).x;return Ae}function p(k,A){for(var $=[],j=0,S=k.length;j<S-2*!A;j+=2){var D=[{x:+k[j-2],y:+k[j-1]},{x:+k[j],y:+k[j+1]},{x:+k[j+2],y:+k[j+3]},{x:+k[j+4],y:+k[j+5]}];A?j?S-4===j?D[3]={x:+k[0],y:+k[1]}:S-2===j&&(D[2]={x:+k[0],y:+k[1]},D[3]={x:+k[2],y:+k[3]}):D[0]={x:+k[S-2],y:+k[S-1]}:S-4===j?D[3]=D[2]:j||(D[0]={x:+k[j],y:+k[j+1]}),$.push(["C",(6*D[1].x-D[0].x+D[2].x)/6,(6*D[1].y-D[0].y+D[2].y)/6,(D[1].x+6*D[2].x-D[3].x)/6,(D[1].y+6*D[2].y-D[3].y)/6,D[2].x,D[2].y])}return $}function b(k,A,$,j){return[k,A,$,j,$,j]}function O(k,A,$,j,S,D){return[1/3*k+2/3*$,1/3*A+2/3*j,1/3*S+2/3*$,1/3*D+2/3*j,S,D]}function N(k,A,$,j,S,D,V,Z,H){for(var Q=(H=1<(H=null==H?1:H)?1:H<0?0:H)/2,Y=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],q=0,ne=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],de=0;de<12;de++){var xe=R(K=Q*Y[de]+Q,k,$,S,V),K=R(K,A,j,D,Z);q+=ne[de]*Math.sqrt(xe*xe+K*K)}return Q*q}function R(k,A,$,j,S){return k*(k*(-3*A+9*$-9*j+3*S)+6*A-12*$+6*j)-3*A+3*$}_.default.Font=function(){function k(S){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");this.parent=S,this.cache={},this.font=void 0}var A,$;return A=k,($=[{key:"textBounds",value:function(S){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,V=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,Z=4<arguments.length?arguments[4]:void 0,H=Z&&Z.renderer&&Z.renderer._pInst||this.parent,Q=H._renderer.drawingContext,Y=(Y=3<arguments.length?arguments[3]:void 0)||H._renderer._textSize;if(!Ye){for(var q=[],ne=[],de=[],xe=(de[0]=[],[]),K=this._scale(Y),L=H._renderer.textLeading(),re=0,ge=(this.font.forEachGlyph(S,D,V,Y,Z,function(Ge,Be,Ae,Qe){var Ke=Ge.getMetrics();0===Ge.index?de[re+=1]=[]:(de[re].push(Be+Ke.xMin*K),de[re].push(Be+Ke.xMax*K),xe.push(Ae+re*L+-Ke.yMin*K),xe.push(Ae+re*L+-Ke.yMax*K))}),0<de[re].length&&(q[re]=Math.min.apply(null,de[re]),ne[re]=Math.max.apply(null,de[re])),0),Me=0;Me<=re;Me++){q[Me]=Math.min.apply(null,de[Me]),ne[Me]=Math.max.apply(null,de[Me]);var Le=ne[Me]-q[Me];ge<Le&&(ge=Le)}var Ye={x:Q=Math.min.apply(null,q),y:V=Math.min.apply(null,xe),h:Math.max.apply(null,xe)-V,w:ge,advance:Q-D};Y=this._handleAlignment(H._renderer,S,Ye.x,Ye.y,Ye.w+Ye.advance),Ye.x=Y.x,Ye.y=Y.y}return Ye}},{key:"textToPoints",value:function(S,D,V,Z,H){var Q=D,Y=[],q=S.split(/\r?\n|\r|\n/g);Z=Z||this.parent._renderer._textSize;for(var ne,de,xe,K=0;K<q.length;K++){var L=0;D=Q;for(var re=(re=q[K]).replace("\t","  "),ge=this._getGlyphs(re),Me=0;Me<ge.length;Me++){if(de=re,!((xe=ge)[ne=Me].name&&"space"===xe[ne].name||de.length===xe.length&&" "===de[ne]))for(var Le=function(Ge){for(var Be,Ae=[],Qe=0;Qe<Ge.length;Qe++)"M"===Ge[Qe].type&&(Be&&Ae.push(Be),Be=[]),Be.push((vt=void 0,vt=[(Ke=Ge[Qe]).type],"M"===Ke.type||"L"===Ke.type?vt.push(Ke.x,Ke.y):"C"===Ke.type?vt.push(Ke.x1,Ke.y1,Ke.x2,Ke.y2,Ke.x,Ke.y):"Q"===Ke.type&&vt.push(Ke.x1,Ke.y1,Ke.x,Ke.y),vt));var Ke,vt;return Ae.push(Be),Ae}(ge[Me].getPath(D,V,Z).commands),Ye=0;Ye<Le.length;Ye++)for(var et=function(Ge,Be){Be=function(yt,jt){if("object"!==E(yt))yt=jt;else for(var Ht in jt)void 0===yt[Ht]&&(yt[Ht]=jt[Ht]);return yt}(Be,{sampleFactor:.1,simplifyThreshold:0});for(var Ae=c(Ge,0,1),Qe=Ae/(Ae*Be.sampleFactor),Ke=[],vt=0;vt<Ae;vt+=Qe)Ke.push(c(Ge,vt));return Be.simplifyThreshold&&function(mt){for(var yt=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Ht=mt.length-1;3<mt.length&&0<=Ht;--Ht)l(a(mt,Ht-1),a(mt,Ht),a(mt,Ht+1),yt)&&mt.splice(Ht%mt.length,1)}(Ke,Be.simplifyThreshold),Ke}(Le[Ye],H),Oe=0;Oe<et.length;Oe++)et[Oe].x+=L,Y.push(et[Oe]);L+=ge[Me].advanceWidth*this._scale(Z)}V+=this.parent._renderer._textLeading}return Y}},{key:"_getGlyphs",value:function(S){return this.font.stringToGlyphs(S)}},{key:"_getPath",value:function(S,Q,V,Z){var H=(Z&&Z.renderer&&Z.renderer._pInst||this.parent)._renderer;return Q=this._handleAlignment(H,S,Q,V),this.font.getPath(S,Q.x,Q.y,H._textSize,Z)}},{key:"_getPathData",value:function(S,D,V,Z){var H=3;return"string"==typeof S&&2<arguments.length?S=this._getPath(S,D,V,Z):"object"===E(D)&&(Z=D),Z&&"number"==typeof Z.decimals&&(H=Z.decimals),S.toPathData(H)}},{key:"_getSVG",value:function(S,D,V,Z){var H=3;return"string"==typeof S&&2<arguments.length?S=this._getPath(S,D,V,Z):"object"===E(D)&&(Z=D),Z&&("number"==typeof Z.decimals&&(H=Z.decimals),"number"==typeof Z.strokeWidth&&(S.strokeWidth=Z.strokeWidth),void 0!==Z.fill&&(S.fill=Z.fill),void 0!==Z.stroke&&(S.stroke=Z.stroke)),S.toSVG(H)}},{key:"_renderPath",value:function(Y,ne,de,Z){var H=Z&&Z.renderer||this.parent._renderer,Q=H.drawingContext,q=(Y=("object"===E(Y)&&Y.commands?Y:this._getPath(Y,ne,de,Z)).commands,Q.beginPath(),!0);ne=!1,de=void 0;try{for(var xe,K=Y[Symbol.iterator]();!(q=(xe=K.next()).done);q=!0){var L=xe.value;"M"===L.type?Q.moveTo(L.x,L.y):"L"===L.type?Q.lineTo(L.x,L.y):"C"===L.type?Q.bezierCurveTo(L.x1,L.y1,L.x2,L.y2,L.x,L.y):"Q"===L.type?Q.quadraticCurveTo(L.x1,L.y1,L.x,L.y):"Z"===L.type&&Q.closePath()}}catch(re){ne=!0,de=re}finally{try{q||null==K.return||K.return()}finally{if(ne)throw de}}return H._doStroke&&H._strokeSet&&!H._clipping&&Q.stroke(),H._doFill&&!H._clipping&&(H._fillSet||H._setFill(h._DEFAULT_TEXT_FILL),Q.fill()),this}},{key:"_textWidth",value:function(S,D){return this.font.getAdvanceWidth(S,D)}},{key:"_textAscent",value:function(S){return this.font.ascender*this._scale(S)}},{key:"_textDescent",value:function(S){return-this.font.descender*this._scale(S)}},{key:"_scale",value:function(S){return 1/this.font.unitsPerEm*(S||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(S,D,V,Z,H){var Q=S._textSize;switch(void 0===H&&(H=this._textWidth(D,Q)),S._textAlign){case h.CENTER:V-=H/2;break;case h.RIGHT:V-=H}switch(S._textBaseline){case h.TOP:Z+=this._textAscent(Q);break;case h.CENTER:Z+=this._textAscent(Q)/2;break;case h.BOTTOM:Z-=this._textDescent(Q)}return{x:V,y:Z}}}])&&w(A.prototype,$),k}(),C.default=o=_.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(o,W,C){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(y,_){return y.push(_),y},o.default.prototype.arrayCopy=function(y,_,h,f,E){var w,a;y=void 0!==E?(a=Math.min(E,y.length),w=f,y.slice(_,a+_)):(a=void 0!==h?(a=h,Math.min(a,y.length)):y.length,h=_,y.slice(w=0,a)),Array.prototype.splice.apply(h,[w,a].concat(y))},o.default.prototype.concat=function(y,_){return y.concat(_)},o.default.prototype.reverse=function(y){return y.reverse()},o.default.prototype.shorten=function(y){return y.pop(),y},o.default.prototype.shuffle=function(y,_){for(var h,f,E=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(y),w=(y=_||E?y:y.slice()).length;1<w;)h=this.random(0,1)*w|0,f=y[--w],y[w]=y[h],y[h]=f;return y},o.default.prototype.sort=function(y,f){var h=f?y.slice(0,Math.min(f,y.length)):y;return f=f?y.slice(Math.min(f,y.length)):[],(h="string"==typeof h[0]?h.sort():h.sort(function(E,w){return E-w})).concat(f)},o.default.prototype.splice=function(y,_,h){return Array.prototype.splice.apply(y,[h,0].concat(_)),y},o.default.prototype.subset=function(y,_,h){return y.slice(_,void 0!==h?_+h:y.length)},C.default=o=o.default},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(o,W,C){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};y.default.prototype.float=function(_){return _ instanceof Array?_.map(parseFloat):parseFloat(_)},y.default.prototype.int=function(_){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return _===1/0||"Infinity"===_?1/0:_===-1/0||"-Infinity"===_?-1/0:"string"==typeof _?parseInt(_,h):"number"==typeof _?0|_:"boolean"==typeof _?_?1:0:_ instanceof Array?_.map(function(f){return y.default.prototype.int(f,h)}):void 0},y.default.prototype.str=function(_){return _ instanceof Array?_.map(y.default.prototype.str):String(_)},y.default.prototype.boolean=function(_){return"number"==typeof _?0!==_:"string"==typeof _?"true"===_.toLowerCase():"boolean"==typeof _?_:_ instanceof Array?_.map(y.default.prototype.boolean):void 0},y.default.prototype.byte=function(_){return"number"==typeof(_=y.default.prototype.int(_,10))?(_+128)%256-128:_ instanceof Array?_.map(y.default.prototype.byte):void 0},y.default.prototype.char=function(_){return"number"!=typeof _||isNaN(_)?_ instanceof Array?_.map(y.default.prototype.char):"string"==typeof _?y.default.prototype.char(parseInt(_,10)):void 0:String.fromCharCode(_)},y.default.prototype.unchar=function(_){return"string"==typeof _&&1===_.length?_.charCodeAt(0):_ instanceof Array?_.map(y.default.prototype.unchar):void 0},y.default.prototype.hex=function(_,h){if(h=null==h?8:h,_ instanceof Array)return _.map(function(E){return y.default.prototype.hex(E,h)});if(_===1/0||_===-1/0)return(_===1/0?"F":"0").repeat(h);if("number"==typeof _){_<0&&(_=4294967295+_+1);for(var f=Number(_).toString(16).toUpperCase();f.length<h;)f="0".concat(f);return f.length>=h?f.substring(f.length-h,f.length):f}},y.default.prototype.unhex=function(_){return _ instanceof Array?_.map(y.default.prototype.unhex):parseInt("0x".concat(_),16)},C.default=o=y.default},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(a=o("../core/main"))&&a.__esModule?a:{default:a};function _(l,d){return function(u){if(Array.isArray(u))return u}(l)||function(u,c){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u)){var s=[],m=!0,p=!1,b=void 0;try{for(var O,N=u[Symbol.iterator]();!(m=(O=N.next()).done)&&(s.push(O.value),!c||s.length!==c);m=!0);}catch(R){p=!0,b=R}finally{try{m||null==N.return||N.return()}finally{if(p)throw b}}return s}}(l,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(l,d,u){var c=(s=_(l.toString().split("."),2))[0],s=s[1];return void 0===u?(c=c.padStart(d,"0"),s?c+"."+s:c):(c=(l=_(l.toFixed(u).toString().split("."),2))[0],s=l[1],c=c.padStart(d,"0"),void 0===s?c:c+"."+s)}function f(s,d){var u=(s=s.toString()).indexOf("."),c=-1!==u?s.substring(u):"";if(s=(s=-1!==u?s.substring(0,u):s).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===d)c="";else if(void 0!==d)if(d>c.length)for(var m=d-(c+=-1===u?".":"").length+1,p=0;p<m;p++)c+="0";else c=c.substring(0,d+1);return s+c}function E(l){return 0<parseFloat(l)?"+".concat(l.toString()):l.toString()}function w(l){return 0<=parseFloat(l)?" ".concat(l.toString()):l.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),y.default.prototype.join=function(l,d){return y.default._validateParameters("join",arguments),l.join(d)},y.default.prototype.match=function(l,d){return y.default._validateParameters("match",arguments),l.match(d)},y.default.prototype.matchAll=function(l,d){y.default._validateParameters("matchAll",arguments);for(var u=new RegExp(d,"g"),c=u.exec(l),s=[];null!==c;)s.push(c),c=u.exec(l);return s},y.default.prototype.nf=function(l,d,u){return y.default._validateParameters("nf",arguments),l instanceof Array?l.map(function(c){return h(c,d,u)}):"[object Arguments]"===Object.prototype.toString.call(l)?3===l.length?this.nf(l[0],l[1],l[2]):2===l.length?this.nf(l[0],l[1]):this.nf(l[0]):h(l,d,u)},y.default.prototype.nfc=function(l,d){return y.default._validateParameters("nfc",arguments),l instanceof Array?l.map(function(u){return f(u,d)}):f(l,d)},y.default.prototype.nfp=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];y.default._validateParameters("nfp",d);var c=y.default.prototype.nf.apply(this,d);return c instanceof Array?c.map(E):E(c)},y.default.prototype.nfs=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];y.default._validateParameters("nfs",d);var c=y.default.prototype.nf.apply(this,d);return c instanceof Array?c.map(w):w(c)},y.default.prototype.split=function(l,d){return y.default._validateParameters("split",arguments),l.split(d)},y.default.prototype.splitTokens=function(l,d){var u,c;return y.default._validateParameters("splitTokens",arguments),c=void 0!==d?(c=/\]/g.exec(d),(u=/\[/g.exec(d))&&c?(d=d.slice(0,c.index)+d.slice(c.index+1),u=/\[/g.exec(d),d=d.slice(0,u.index)+d.slice(u.index+1),new RegExp("[\\[".concat(d,"\\]]"),"g")):c?(d=d.slice(0,c.index)+d.slice(c.index+1),new RegExp("[".concat(d,"\\]]"),"g")):u?(d=d.slice(0,u.index)+d.slice(u.index+1),new RegExp("[".concat(d,"\\[]"),"g")):new RegExp("[".concat(d,"]"),"g")):/\s/g,l.split(c).filter(function(s){return s})},y.default.prototype.trim=function(l){return y.default._validateParameters("trim",arguments),l instanceof Array?l.map(this.trim):l.trim()};var a=y.default;C.default=a},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(o,W,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},C.default=o=o.default},{"../core/main":280}],323:[function(o,W,C){"use strict";function y(l){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(d){return y(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(a=o("../core/main"))&&a.__esModule?a:{default:a},f=(o("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var d=E();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(o("../core/constants")));function E(){var l;return"function"!=typeof WeakMap?null:(E=function(){return l},l=new WeakMap)}function w(l,d,u,c,s,m,p){l=l<=0?1:l,d=d<0?0:d,u=u<=0?l:u,c=c<3?3:c;for(var b,O,N=(m=void 0===m||m)?-2:0,R=(s=s<1?1:s)+((p=void 0===p?0!==d:p)?2:0),k=Math.atan2(l-d,u),A=Math.sin(k),$=Math.cos(k),j=N;j<=R;++j){var S=j/s,D=u*S,V=void 0;for(V=j<0?(S=D=0,l):s<j?(D=u,S=1,d):l+(d-l)*S,-2!==j&&j!==s+2||(V=0),D-=u/2,b=0;b<c;++b){var Z=b/(c-1),Q=2*Math.PI*Z,H=Math.sin(Q),Y=(Q=Math.cos(Q),this.vertices.push(new h.default.Vector(H*V,D,Q*V)));Y=j<0?new h.default.Vector(0,-1,0):s<j&&d?new h.default.Vector(0,1,0):new h.default.Vector(H*$,A,Q*$),this.vertexNormals.push(Y),this.uvs.push(Z,S)}}var q=0;if(m){for(O=0;O<c;++O)this.faces.push([q+O,q+c+(O+1)%c,q+c+O]);q+=2*c}for(j=0;j<s;++j){for(b=0;b<c;++b){var ne=(b+1)%c;this.faces.push([q+b,q+ne,q+c+ne]),this.faces.push([q+b,q+c+ne,q+c+b])}q+=c}if(p)for(q+=c,b=0;b<c;++b)this.faces.push([q+b,q+(b+1)%c,q+c])}h.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},h.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},h.default.prototype.buildGeometry=function(l){return this._renderer.buildGeometry(l)},h.default.prototype.freeGeometry=function(l){this._renderer._freeBuffers(l.gid)},h.default.prototype.plane=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=(this._assert3d("plane"),h.default._validateParameters("plane",arguments),"plane|".concat(c,"|").concat(s));return this._renderer.geometryInHash(m)||((l=new h.default.Geometry(c,s,function(){for(var p,b,O=0;O<=this.detailY;O++)for(var N=O/this.detailY,R=0;R<=this.detailX;R++)b=new h.default.Vector((p=R/this.detailX)-.5,N-.5,0),this.vertices.push(b),this.uvs.push(p,N)})).computeFaces().computeNormals(),c<=1&&s<=1?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,l)),this._renderer.drawBuffersScaled(m,d,u,1),this},h.default.prototype.box=function(l,d,u,c,s){this._assert3d("box"),h.default._validateParameters("box",arguments),void 0===l&&(l=50),void 0===d&&(d=l),void 0===u&&(u=d);var m,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===s&&(s=p?1:4),p="box|".concat(c=void 0===c?p?1:4:c,"|").concat(s),this._renderer.geometryInHash(p)||((m=new h.default.Geometry(c,s,function(){var b=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(O,N){N*=4;for(var R=0;R<4;R++){var k=new h.default.Vector((2*(1&(k=O[R]))-1)/2,((2&k)-1)/2,((4&k)/2-1)/2);b.vertices.push(k),b.uvs.push(1&R,(2&R)/2)}b.faces.push([N,1+N,2+N]),b.faces.push([2+N,1+N,3+N])})})).computeNormals(),c<=4&&s<=4?m._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,m)),this._renderer.drawBuffersScaled(p,l,d,u),this},h.default.prototype.sphere=function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),h.default._validateParameters("sphere",arguments),this.ellipsoid(l,l,l,d,u),this},h.default.prototype.cylinder=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],b=(this._assert3d("cylinder"),h.default._validateParameters("cylinder",arguments),"cylinder|".concat(c,"|").concat(s,"|").concat(m,"|").concat(p));return this._renderer.geometryInHash(b)||(l=new h.default.Geometry(c,s),w.call(l,1,1,1,c,s,m,p),c<=24&&s<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,l)),this._renderer.drawBuffersScaled(b,d,u,d),this},h.default.prototype.cone=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=(this._assert3d("cone"),h.default._validateParameters("cone",arguments),"cone|".concat(c,"|").concat(s,"|").concat(m));return this._renderer.geometryInHash(p)||(l=new h.default.Geometry(c,s),w.call(l,1,0,1,c,s,m,!1),c<=24&&s<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,d,u,d),this},h.default.prototype.ellipsoid=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,p=(this._assert3d("ellipsoid"),h.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(s,"|").concat(m));return this._renderer.geometryInHash(p)||((l=new h.default.Geometry(s,m,function(){for(var b=0;b<=this.detailY;b++)for(var O=b/this.detailY,N=Math.PI*O-Math.PI/2,R=Math.cos(N),k=Math.sin(N),A=0;A<=this.detailX;A++){var $=A/this.detailX,S=2*Math.PI*$,j=Math.cos(S);S=Math.sin(S),S=new h.default.Vector(R*S,k,R*j),this.vertices.push(S),this.vertexNormals.push(S),this.uvs.push($,O)}})).computeFaces(),s<=24&&m<=24?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,d,u,c),this},h.default.prototype.torus=function(l,p,u,c){if(this._assert3d("torus"),h.default._validateParameters("torus",arguments),void 0===l)l=50;else if(!l)return;if(void 0===p)p=10;else if(!p)return;void 0===u&&(u=24),void 0===c&&(c=16);var s,m=(p/l).toPrecision(4);return p="torus|".concat(m,"|").concat(u,"|").concat(c),this._renderer.geometryInHash(p)||((s=new h.default.Geometry(u,c,function(){for(var b=0;b<=this.detailY;b++)for(var O=b/this.detailY,N=2*Math.PI*O,R=Math.cos(N),k=Math.sin(N),A=1+m*R,$=0;$<=this.detailX;$++){var j=$/this.detailX,S=2*Math.PI*j,V=Math.cos(S),D=(S=Math.sin(S),new h.default.Vector(A*V,A*S,m*k));V=new h.default.Vector(R*V,R*S,k),this.vertices.push(D),this.vertexNormals.push(V),this.uvs.push(j,O)}})).computeFaces(),u<=24&&c<=16?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,s)),this._renderer.drawBuffersScaled(p,l,l,l),this},h.default.RendererGL.prototype.point=function(l,d){var u=[];return u.push(new h.default.Vector(l,d,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(u,this.immediateMode.buffers.point),this},h.default.RendererGL.prototype.triangle=function(p){var d=p[0],u=p[1],c=p[2],s=p[3],m=p[4],b=(p=p[5],this.geometryInHash("tri")||((b=new h.default.Geometry(1,1,function(){var R=[];R.push(new h.default.Vector(0,0,0)),R.push(new h.default.Vector(1,0,0)),R.push(new h.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=R,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),b.computeNormals(),this.createBuffers("tri",b)),this.uMVMatrix.copy());try{var O=Math.sign(d*s-c*u+c*p-m*s+m*u-d*p),N=new h.default.Matrix([c-d,s-u,0,0,m-d,p-u,0,0,0,0,O,0,d,u,0,1]).mult(this.uMVMatrix);this.uMVMatrix=N,this.drawBuffers("tri")}finally{this.uMVMatrix=b}return this},h.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,f.TWO_PI,f.OPEN,l[4])},h.default.RendererGL.prototype.arc=function(){var l,d=arguments.length<=0?void 0:arguments[0],u=arguments.length<=1?void 0:arguments[1],c=arguments.length<=2?void 0:arguments[2],s=arguments.length<=3?void 0:arguments[3],m=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],b=arguments.length<=6?void 0:arguments[6],O=(arguments.length<=7?void 0:arguments[7])||25,N=(Math.abs(p-m)>=f.TWO_PI?"".concat(R="ellipse","|"):"".concat(R="arc","|").concat(m,"|").concat(p,"|").concat(b,"|")).concat(O,"|"),R=(this.geometryInHash(N)||((l=new h.default.Geometry(O,1,function(){if(m.toFixed(10)!==p.toFixed(10)){b!==f.PIE&&void 0!==b||(this.vertices.push(new h.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var k=0;k<=O;k++){var $=k/O*(p-m)+m,A=.5+Math.cos($)/2;$=.5+Math.sin($)/2,this.vertices.push(new h.default.Vector(A,$,0)),this.uvs.push([A,$]),k<O-1&&(this.faces.push([0,k+1,k+2]),this.edges.push([k+1,k+2]))}switch(b){case f.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case f.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case f.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),O<=50?l._edgesToVertices(l):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(R," with more than 50 detail")),this.createBuffers(N,l)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,u,0]),this.uMVMatrix.scale(c,s,1),this.drawBuffers(N)}finally{this.uMVMatrix=R}return this},h.default.RendererGL.prototype.rect=function(l){var d=l[0],u=l[1],c=l[2],s=l[3];if(void 0===l[4]){var b=this._pInst._glAttributes.perPixelLighting,m=l[4]||(b?1:24),p=l[5]||(b?1:16),O=(b="rect|".concat(m,"|").concat(p),this.geometryInHash(b)||((O=new h.default.Geometry(m,p,function(){for(var Y=0;Y<=this.detailY;Y++)for(var q=Y/this.detailY,ne=0;ne<=this.detailX;ne++){var de=ne/this.detailX,xe=new h.default.Vector(de,q,0);this.vertices.push(xe),this.uvs.push(de,q)}0<m&&0<p&&(this.edges=[[0,m],[m,(m+1)*(p+1)-1],[(m+1)*(p+1)-1,(m+1)*p],[(m+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(b,O)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,u,0]),this.uMVMatrix.scale(c,s,1),this.drawBuffers(b)}finally{this.uMVMatrix=O}}else{b=l[4],O=void 0===l[5]?b:l[5];var N=void 0===l[6]?O:l[6],S=(l=void 0===l[7]?N:l[7],c),R=s,k=((S+=d)<d&&($=d,d=S,S=$),(R+=u)<u&&($=u,u=R,R=$),($=Math.min((S-d)/2,(R-u)/2))<b&&(b=$),$<O&&(O=$),$<N&&(N=$),$<l&&(l=$),d),A=u,$=S,j=(d=R,this.beginShape(),0!==O?(this.vertex($-O,A),this.quadraticVertex($,A,$,A+O)):this.vertex($,A),0!==N?(this.vertex($,d-N),this.quadraticVertex($,d,$-N,d)):this.vertex($,d),0!==l?(this.vertex(k+l,d),this.quadraticVertex(k,d,k,d-l)):this.vertex(k,d),0!==b?(this.vertex(k,A+b),this.quadraticVertex(k,A,k+b,A)):this.vertex(k,A),!(this.immediateMode.geometry.uvs.length=0));u=!1,S=void 0;try{for(var D,V=this.immediateMode.geometry.vertices[Symbol.iterator]();!(j=(D=V.next()).done);j=!0){var Z=D.value;this.immediateMode.geometry.uvs.push((Z.x-k)/c,(Z.y-A)/s)}}catch(K){u=!0,S=K}finally{try{j||null==V.return||V.return()}finally{if(u)throw S}}this.endShape(f.CLOSE)}return this},h.default.RendererGL.prototype.quad=function(l,d,u,c,s,m,p,b,O,N,R,k){var A=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,$=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,j="quad|".concat(l,"|").concat(d,"|").concat(u,"|").concat(c,"|").concat(s,"|").concat(m,"|").concat(p,"|").concat(b,"|").concat(O,"|").concat(N,"|").concat(R,"|").concat(k,"|").concat(A,"|").concat($);if(!this.geometryInHash(j)){var S=new h.default.Geometry(A,$,function(){for(var ne=1/(this.detailX-1),de=1/(this.detailY-1),xe=0;xe<this.detailY;xe++)for(var K=0;K<this.detailX;K++){var L=K*ne,re=xe*de;this.vertices.push(new h.default.Vector((1-L)*((1-re)*l+re*N)+L*((1-re)*c+re*p),(1-L)*((1-re)*d+re*R)+L*((1-re)*s+re*b),(1-L)*((1-re)*u+re*k)+L*((1-re)*m+re*O))),this.uvs.push([L,re])}});S.faces=[];for(var D=0;D<$-1;D++)for(var V=0;V<A-1;V++){var Z=V+D*A,H=V+1+(D+1)*A,Q=V+(D+1)*A;S.faces.push([Z,V+1+D*A,H]),S.faces.push([Z,H,Q])}S.computeNormals();for(var Y=[S.edges.length=0,2,3,1],q=0;q<Y.length;q++)S.edges.push([Y[q],Y[(q+1)%Y.length]]);S._edgesToVertices(),this.createBuffers(j,S)}return this.drawBuffers(j),this},h.default.RendererGL.prototype.bezier=function(l,d,u,c,s,m,p,b,O,N,R,k){8===arguments.length&&(R=b,N=p,b=m,p=s,s=c,c=u,u=m=O=k=0);var A=this._pInst._bezierDetail||20;this.beginShape();for(var $=0;$<=A;$++){var j=Math.pow(1-$/A,3),S=$/A*3*Math.pow(1-$/A,2),D=3*Math.pow($/A,2)*(1-$/A),V=Math.pow($/A,3);this.vertex(l*j+c*S+p*D+N*V,d*j+s*S+b*D+R*V,u*j+m*S+O*D+k*V)}return this.endShape(),this},h.default.RendererGL.prototype.curve=function(l,d,u,c,s,m,p,b,O,N,R,k){8===arguments.length&&(N=p,R=b,p=s,b=c,s=c=u,u=m=O=k=0);var A=this._pInst._curveDetail;this.beginShape();for(var $=0;$<=A;$++){var j=.5*Math.pow($/A,3),S=.5*Math.pow($/A,2),D=$/A*.5;this.vertex(j*(3*c-l-3*p+N)+S*(2*l-5*c+4*p-N)+D*(-l+p)+2*c*.5,j*(3*s-d-3*b+R)+S*(2*d-5*s+4*b-R)+D*(-d+b)+2*s*.5,j*(3*m-u-3*O+k)+S*(2*u-5*m+4*O-k)+D*(-u+O)+2*m*.5)}return this.endShape(),this},h.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},h.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var l,d,u,c,s,m,p=[],b=[],O=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var N=1/this._lutBezierDetail,R=0,k=1,A=0;R<1;){if(m=parseFloat(R.toFixed(6)),this._lookUpTableBezier[A]=this._bezierCoefficients(m),k.toFixed(6)===N.toFixed(6)){m=parseFloat(k.toFixed(6))+parseFloat(R.toFixed(6)),++A,this._lookUpTableBezier[A]=this._bezierCoefficients(m);break}R+=N,k-=N,++A}}for(var $=this._lookUpTableBezier.length,j=[],S=0;S<4;S++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[3]=this.curFillColor.slice();var D=[];for(S=0;S<4;S++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[3]=this.curStrokeColor.slice(),6===O){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var V=Math.hypot(p[0]-p[1],b[0]-b[1]),H=Math.hypot(p[1]-p[2],b[1]-b[2]),Z=Math.hypot(p[2]-p[3],b[2]-b[3]);for(V/=H=V+H+Z,Z/=H,s=0;s<4;s++)j[1].push(j[0][s]*(1-V)+j[3][s]*V),j[2].push(j[0][s]*Z+j[3][s]*(1-Z)),D[1].push(D[0][s]*(1-V)+D[3][s]*V),D[2].push(D[0][s]*Z+D[3][s]*(1-Z));for(c=0;c<$;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],S=l=d=0;S<4;S++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableBezier[c][S]*j[S][s],this.curStrokeColor[s]+=this._lookUpTableBezier[c][S]*D[S][s];l+=p[S]*this._lookUpTableBezier[c][S],d+=b[S]*this._lookUpTableBezier[c][S]}this.vertex(l,d)}this.curFillColor=j[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===O){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var Q=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],Y=Math.hypot(p[0]-p[1],b[0]-b[1],Q[0]-Q[1]),q=(H=Math.hypot(p[1]-p[2],b[1]-b[2],Q[1]-Q[2]),Math.hypot(p[2]-p[3],b[2]-b[3],Q[2]-Q[3]));for(Y/=O=Y+H+q,q/=O,s=0;s<4;s++)j[1].push(j[0][s]*(1-Y)+j[3][s]*Y),j[2].push(j[0][s]*q+j[3][s]*(1-q)),D[1].push(D[0][s]*(1-Y)+D[3][s]*Y),D[2].push(D[0][s]*q+D[3][s]*(1-q));for(c=0;c<$;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],S=l=d=u=0;S<4;S++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableBezier[c][S]*j[S][s],this.curStrokeColor[s]+=this._lookUpTableBezier[c][S]*D[S][s];l+=p[S]*this._lookUpTableBezier[c][S],d+=b[S]*this._lookUpTableBezier[c][S],u+=Q[S]*this._lookUpTableBezier[c][S]}this.vertex(l,d,u)}this.curFillColor=j[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},h.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var l,d,u,c,s,m,p=[],b=[],O=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var N=1/this._lutQuadraticDetail,R=0,k=1,A=0;R<1;){if(m=parseFloat(R.toFixed(6)),this._lookUpTableQuadratic[A]=this._quadraticCoefficients(m),k.toFixed(6)===N.toFixed(6)){m=parseFloat(k.toFixed(6))+parseFloat(R.toFixed(6)),++A,this._lookUpTableQuadratic[A]=this._quadraticCoefficients(m);break}R+=N,k-=N,++A}}for(var $=this._lookUpTableQuadratic.length,j=[],S=0;S<3;S++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[2]=this.curFillColor.slice();var D=[];for(S=0;S<3;S++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[2]=this.curStrokeColor.slice(),4===O){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var V=Math.hypot(p[0]-p[1],b[0]-b[1]);for(V/=V+Math.hypot(p[1]-p[2],b[1]-b[2]),s=0;s<4;s++)j[1].push(j[0][s]*(1-V)+j[2][s]*V),D[1].push(D[0][s]*(1-V)+D[2][s]*V);for(c=0;c<$;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],S=l=d=0;S<3;S++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableQuadratic[c][S]*j[S][s],this.curStrokeColor[s]+=this._lookUpTableQuadratic[c][S]*D[S][s];l+=p[S]*this._lookUpTableQuadratic[c][S],d+=b[S]*this._lookUpTableQuadratic[c][S]}this.vertex(l,d)}this.curFillColor=j[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===O){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var Z=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],H=Math.hypot(p[0]-p[1],b[0]-b[1],Z[0]-Z[1]);for(H/=H+Math.hypot(p[1]-p[2],b[1]-b[2],Z[1]-Z[2]),s=0;s<4;s++)j[1].push(j[0][s]*(1-H)+j[2][s]*H),D[1].push(D[0][s]*(1-H)+D[2][s]*H);for(c=0;c<$;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],S=l=d=u=0;S<3;S++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableQuadratic[c][S]*j[S][s],this.curStrokeColor[s]+=this._lookUpTableQuadratic[c][S]*D[S][s];l+=p[S]*this._lookUpTableQuadratic[c][S],d+=b[S]*this._lookUpTableQuadratic[c][S],u+=Z[S]*this._lookUpTableQuadratic[c][S]}this.vertex(l,d,u)}this.curFillColor=j[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},h.default.RendererGL.prototype.curveVertex=function(){var l,s,m,p=[],b=[],O=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var N=1/this._lutBezierDetail,R=0,k=1,A=0;R<1;){if(m=parseFloat(R.toFixed(6)),this._lookUpTableBezier[A]=this._bezierCoefficients(m),k.toFixed(6)===N.toFixed(6)){m=parseFloat(k.toFixed(6))+parseFloat(R.toFixed(6)),++A,this._lookUpTableBezier[A]=this._bezierCoefficients(m);break}R+=N,k-=N,++A}}var $=this._lookUpTableBezier.length;if(2===O){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),s=0;s<$;s++)this.vertex(p[0]*this._lookUpTableBezier[s][0]+p[1]*this._lookUpTableBezier[s][1]+p[2]*this._lookUpTableBezier[s][2]+p[3]*this._lookUpTableBezier[s][3],b[0]*this._lookUpTableBezier[s][0]+b[1]*this._lookUpTableBezier[s][1]+b[2]*this._lookUpTableBezier[s][2]+b[3]*this._lookUpTableBezier[s][3]);for(s=0;s<O;s++)this.immediateMode._curveVertex.shift()}}else if(3===O&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),s=0;s<$;s++)this.vertex(p[0]*this._lookUpTableBezier[s][0]+p[1]*this._lookUpTableBezier[s][1]+p[2]*this._lookUpTableBezier[s][2]+p[3]*this._lookUpTableBezier[s][3],b[0]*this._lookUpTableBezier[s][0]+b[1]*this._lookUpTableBezier[s][1]+b[2]*this._lookUpTableBezier[s][2]+b[3]*this._lookUpTableBezier[s][3],l[0]*this._lookUpTableBezier[s][0]+l[1]*this._lookUpTableBezier[s][1]+l[2]*this._lookUpTableBezier[s][2]+l[3]*this._lookUpTableBezier[s][3]);for(s=0;s<O;s++)this.immediateMode._curveVertex.shift()}},h.default.RendererGL.prototype.image=function(l,k,u,A,s,m,p,b,O){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(f.NORMAL);var N=0,R=(k<=l.width&&(N=k/l.width),1);k+A<=l.width&&(R=(k+A)/l.width),k=0,u<=l.height&&(k=u/l.height),A=1,u+s<=l.height&&(A=(u+s)/l.height),this.beginShape(),this.vertex(m,p,0,N,k),this.vertex(m+b,p,0,R,k),this.vertex(m+b,p+O,0,R,A),this.vertex(m,p+O,0,N,A),this.endShape(f.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(f.REMOVE)};var a=h.default;C.default=a},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(o,W,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(l=o("../core/main"))&&l.__esModule?l:{default:l},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=E();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(o("../core/constants"));function E(){var d;return"function"!=typeof WeakMap?null:(E=function(){return d},d=new WeakMap)}function w(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(d,u){for(var c=0;c<u.length;c++){var s=u[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}var l=function(){function d(m){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");(this.renderer=m)._pInst.push(),this.identityMatrix=new h.default.Matrix,m.uMVMatrix=new h.default.Matrix,this.geometry=new h.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(d.nextGeometryId),d.nextGeometryId++,this.hasTransform=!1}var u,c;return u=d,(c=[{key:"transformVertices",value:function(m){var p=this;return this.hasTransform?m.map(function(b){return p.renderer.uMVMatrix.multiplyPoint(b)}):m}},{key:"transformNormals",value:function(m){var p=this;return this.hasTransform?m.map(function(b){return p.renderer.uNMatrix.multiplyVec3(b)}):m}},{key:"addGeometry",value:function(m){for(var p,b=this,O=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(R,k){return R===b.identityMatrix.mat4[k]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),N=((p=this.geometry.vertices).push.apply(p,w(this.transformVertices(m.vertices))),(p=this.geometry.vertexNormals).push.apply(p,w(this.transformNormals(m.vertexNormals))),(p=this.geometry.uvs).push.apply(p,w(m.uvs)),this.renderer._doFill&&(p=this.geometry.faces).push.apply(p,w(m.faces.map(function(R){return R.map(function(k){return k+O})}))),this.renderer._doStroke&&(p=this.geometry.edges).push.apply(p,w(m.edges.map(function(R){return R.map(function(k){return k+O})}))),w(m.vertexColors));N.length<4*m.vertices.length;)N.push.apply(N,w(this.renderer.curFillColor));(p=this.geometry.vertexColors).push.apply(p,w(N))}},{key:"addImmediate",value:function(){var m=this.renderer.immediateMode.geometry,p=this.renderer.immediateMode.shapeMode,b=[];if(this.renderer._doFill)if(p===f.TRIANGLE_STRIP||p===f.QUAD_STRIP)for(var O=2;O<m.vertices.length;O++)b.push(O%2==0?[O,O-1,O-2]:[O,O-2,O-1]);else if(p===f.TRIANGLE_FAN)for(var N=2;N<m.vertices.length;N++)b.push([0,N-1,N]);else for(var R=0;R<m.vertices.length;R+=3)b.push([R,R+1,R+2]);this.addGeometry(Object.assign({},m,{faces:b}))}},{key:"addRetained",value:function(m){this.addGeometry(m.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&a(u.prototype,c),d}();l.nextGeometryId=0,C.default=l},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(o,W,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(w=o("../core/main"))&&w.__esModule?w:{default:w},h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==E(a)&&"function"!=typeof a)return{default:a};var l=f();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(o("../core/constants"));function f(){var a;return"function"!=typeof WeakMap?null:(f=function(){return a},a=new WeakMap)}function E(a){return(E="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}_.default.prototype.orbitControl=function(a,l,d,O){var c=this,s=(this._assert3d("orbitControl"),_.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===a&&(a=1),void 0===l&&(l=a),void 0===d&&(d=1),"object"!==E(O)&&(O={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var R=O.disableTouchActions;!0===this.touchActionsDisabled||void 0!==R&&!R||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),O=void 0!==(R=O.freeRotation)&&R;var m,p,b,N=[],k=(this.touches.forEach(function(V){c._renderer.prevTouches.forEach(function(Z){V.id===Z.id&&N.push(Z={x:V.x,y:V.y,px:Z.x,py:Z.y})})}),this._renderer.prevTouches=this.touches,R=0,0),A=0,$=0,j=0,S=this.height<this.width?this.height:this.width,D=!1;return 0<N.length?(D=0<N[0].x&&N[0].x<this.width&&0<N[0].y&&N[0].y<this.height,1===N.length?(k=-a*((m=N[0]).x-m.px)/S,A=l*(m.y-m.py)/S):(m=N[0],p=N[1],R=-(Math.hypot(m.x-p.x,m.y-p.y)-Math.hypot(m.px-p.px,m.py-p.py))*d*4e-4,$=.5*(m.x+p.x)-.5*(m.px+p.px),j=.5*(m.y+p.y)-.5*(m.py+p.py)),0<this.touches.length?D&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(D=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(R=Math.sign(this._mouseWheelDeltaY)*d,R*=.01,this._mouseWheelDeltaY=0,D&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(k=-a*this.movedX/S,A=l*this.movedY/S):this.mouseButton===this.RIGHT&&($=this.movedX,j=this.movedY*s.yScale),D&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==R&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=R),.001<Math.abs(this._renderer.zoomVelocity)?(O?s._orbitFree(0,0,this._renderer.zoomVelocity):s._orbit(0,0,this._renderer.zoomVelocity),0!==s.projMatrix.mat4[15]&&(s.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),s.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=s.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=s.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===k&&0===A||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*k,.6*A),1e-6<this._renderer.rotateVelocity.magSq()?(O?s._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):s._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===$&&0===j||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(m=2*$/this.width),.15*(p=2*-j/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(d=s._getLocalAxes(),a=s.eyeX-s.centerX,l=s.eyeY-s.centerY,S=s.eyeZ-s.centerZ,D=Math.sqrt(a*a+l*l+S*S),R=new _.default.Vector(s.centerX,s.centerY,s.centerZ),R=s.cameraMatrix.multiplyPoint(R),(R=this._renderer.uPMatrix.multiplyAndNormalizePoint(R)).x-=this._renderer.moveVelocity.x,R.y-=this._renderer.moveVelocity.y,A=0===(k=this._renderer.uPMatrix.mat4)[15]?(b=(k[8]+R.x)/k[0]*D,(k[9]+R.y)/k[5]*D):(b=(R.x-k[12])/k[0],(R.y-k[13])/k[5]),s.setPosition(s.eyeX+b*d.x[0]+A*d.y[0],s.eyeY+b*d.x[1]+A*d.y[1],s.eyeZ+b*d.x[2]+A*d.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},_.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];_.default._validateParameters("debugMode",l);for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1);l[0]===h.GRID?this.registerMethod("post",this._grid(l[1],l[2],l[3],l[4],l[5])):l[0]===h.AXES?this.registerMethod("post",this._axesIcon(l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid(l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon(l[5],l[6],l[7],l[8])))},_.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1)},_.default.prototype._grid=function(a,l,d,u,c){void 0===a&&(a=this.width/2),void 0===l&&(l=Math.round(a/30)<4?4:Math.round(a/30)),void 0===d&&(d=0),void 0===u&&(u=0),void 0===c&&(c=0);var s=a/l,m=a/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix);for(var p=0;p<=l;p++)this.beginShape(this.LINES),this.vertex(-m+d,u,p*s-m+c),this.vertex(m+d,u,p*s-m+c),this.endShape();for(var b=0;b<=l;b++)this.beginShape(this.LINES),this.vertex(b*s-m+d,u,-m+c),this.vertex(b*s-m+d,u,m+c),this.endShape();this.pop()}},_.default.prototype._axesIcon=function(a,l,d,u){return void 0===a&&(a=40<this.width/20?this.width/20:40),void 0===l&&(l=-this.width/4),void 0===d&&(d=l),void 0===u&&(u=l),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,d,u),this.vertex(l+a,d,u),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,d,u),this.vertex(l,d+a,u),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,d,u),this.vertex(l,d,u+a),this.endShape(),this.pop()}};var w=_.default;C.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(o,W,C){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};y.default.prototype.ambientLight=function(_,h,f,E){this._assert3d("ambientLight"),y.default._validateParameters("ambientLight",arguments);var w=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(w._array[0],w._array[1],w._array[2]),this._renderer._enableLighting=!0,this},y.default.prototype.specularColor=function(_,h,f){this._assert3d("specularColor"),y.default._validateParameters("specularColor",arguments);var E=this.color.apply(this,arguments);return this._renderer.specularColors=[E._array[0],E._array[1],E._array[2]],this},y.default.prototype.directionalLight=function(_,c,u,E,w,a){var l,d;return this._assert3d("directionalLight"),y.default._validateParameters("directionalLight",arguments),_=_ instanceof y.default.Color?_:this.color(_,c,u),u="number"==typeof(c=arguments[arguments.length-1])?(l=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(l=c.x,d=c.y,c.z),c=Math.sqrt(l*l+d*d+u*u),this._renderer.directionalLightDirections.push(l/c,d/c,u/c),this._renderer.directionalLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.pointLight=function(_,u,c,E,w,a){var l,d;return this._assert3d("pointLight"),y.default._validateParameters("pointLight",arguments),_=_ instanceof y.default.Color?_:this.color(_,u,c),c="number"==typeof(u=arguments[arguments.length-1])?(l=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(l=u.x,d=u.y,u.z),this._renderer.pointLightPositions.push(l,d,c),this._renderer.pointLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.imageLight=function(_){this._renderer.activeImageLight=_,this._renderer._enableLighting=!0},y.default.prototype.panorama=function(_){this.filter(this._renderer._getSphereMapping(_))},y.default.prototype.lights=function(){this._assert3d("lights");var _=this.color("rgb(128,128,128)");return this.ambientLight(_),this.directionalLight(_,0,0,-1),this},y.default.prototype.lightFalloff=function(_,h,f){return this._assert3d("lightFalloff"),y.default._validateParameters("lightFalloff",arguments),_<0&&(_=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),h<0&&(h=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),f<0&&(f=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===_&&0===h&&0===f&&(_=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=_,this._renderer.linearAttenuation=h,this._renderer.quadraticAttenuation=f,this},y.default.prototype.spotLight=function(_,h,f,E,w,a,l,d,u,c,s){this._assert3d("spotLight"),y.default._validateParameters("spotLight",arguments);var m,p,b,O=arguments.length;switch(O){case 11:case 10:m=this.color(_,h,f),p=new y.default.Vector(E,w,a),b=new y.default.Vector(l,d,u);break;case 9:_ instanceof y.default.Color?(m=_,p=new y.default.Vector(h,f,E),b=new y.default.Vector(w,a,l),c=d,s=u):E instanceof y.default.Vector?(m=this.color(_,h,f),p=E,b=new y.default.Vector(w,a,l),c=d,s=u):l instanceof y.default.Vector?(m=this.color(_,h,f),p=new y.default.Vector(E,w,a),b=l,c=d,s=u):(m=this.color(_,h,f),p=new y.default.Vector(E,w,a),b=new y.default.Vector(l,d,u));break;case 8:b=_ instanceof y.default.Color?(m=_,p=new y.default.Vector(h,f,E),new y.default.Vector(w,a,l)):E instanceof y.default.Vector?(m=this.color(_,h,f),p=E,new y.default.Vector(w,a,l)):(m=this.color(_,h,f),p=new y.default.Vector(E,w,a),l),c=d;break;case 7:_ instanceof y.default.Color&&h instanceof y.default.Vector?(m=_,p=h,b=new y.default.Vector(f,E,w),c=a,s=l):_ instanceof y.default.Color&&w instanceof y.default.Vector?(m=_,p=new y.default.Vector(h,f,E),b=w,c=a,s=l):E instanceof y.default.Vector&&w instanceof y.default.Vector?(m=this.color(_,h,f),p=E,b=w,c=a,s=l):b=_ instanceof y.default.Color?(m=_,p=new y.default.Vector(h,f,E),new y.default.Vector(w,a,l)):E instanceof y.default.Vector?(m=this.color(_,h,f),p=E,new y.default.Vector(w,a,l)):(m=this.color(_,h,f),p=new y.default.Vector(E,w,a),l);break;case 6:E instanceof y.default.Vector&&w instanceof y.default.Vector?(m=this.color(_,h,f),p=E,b=w,c=a):_ instanceof y.default.Color&&w instanceof y.default.Vector?(m=_,p=new y.default.Vector(h,f,E),b=w,c=a):_ instanceof y.default.Color&&h instanceof y.default.Vector&&(m=_,p=h,b=new y.default.Vector(f,E,w),c=a);break;case 5:_ instanceof y.default.Color&&h instanceof y.default.Vector&&f instanceof y.default.Vector?(m=_,p=h,b=f,c=E,s=w):E instanceof y.default.Vector&&w instanceof y.default.Vector?(m=this.color(_,h,f),p=E,b=w):_ instanceof y.default.Color&&w instanceof y.default.Vector?(m=_,p=new y.default.Vector(h,f,E),b=w):_ instanceof y.default.Color&&h instanceof y.default.Vector&&(m=_,p=h,b=new y.default.Vector(f,E,w));break;case 4:m=_,p=h,b=f,c=E;break;case 3:m=_,p=h,b=f;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(O<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),b.normalize(),this._renderer.spotLightDirections.push(b.x,b.y,b.z),void 0===c&&(c=Math.PI/3),void 0!==s&&s<1?(s=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===s&&(s=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(s),this._renderer._enableLighting=!0,this},y.default.prototype.noLights=function(){this._assert3d("noLights");for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];return y.default._validateParameters("noLights",h),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},C.default=o=y.default},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(o,W,C){"use strict";function y(E){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(E)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(f=o("../core/main"))&&f.__esModule?f:{default:f};function h(E){return(h="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(w){return y(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(E)}o("./p5.Geometry"),_.default.prototype.loadModel=function(E,w){_.default._validateParameters("loadModel",arguments);var a,l,d=!1,u=!1,c=!1,s=E.slice(-4),m=(w&&"object"===h(w)?(d=w.normalize||!1,a=w.successCallback,l=w.failureCallback,s=w.fileType||s,u=w.flipU||!1,c=w.flipV||!1):"boolean"==typeof w?(d=w,a=arguments[2],l=arguments[3],void 0!==arguments[4]&&(s=arguments[4])):(a="function"==typeof w?w:void 0,l=arguments[2],void 0!==arguments[3]&&(s=arguments[3])),new _.default.Geometry),p=(m.gid="".concat(E,"|").concat(d),this);return s.match(/\.stl$/i)?this.httpDo(E,"GET","arrayBuffer",function(b){(function(O,N){if(function(R){for(var k=new DataView(R),A=[115,111,108,105,100],$=0;$<5;$++)if(function(j,S,D){for(var V=0,Z=j.length;V<Z;V++)if(j[V]!==S.getUint8(D+V,!1))return;return 1}(A,k,$))return;return 1}(N))!function(R,k){for(var A,$,j,S,D,V,Z,H=new DataView(k),Q=H.getUint32(80,!0),Y=!1,q=0;q<70;q++)1129270351===H.getUint32(q,!1)&&82===H.getUint8(q+4)&&61===H.getUint8(q+5)&&(Y=!0,S=[],D=H.getUint8(q+6)/255,V=H.getUint8(q+7)/255,Z=H.getUint8(q+8)/255);for(var ne=0;ne<Q;ne++){for(var de,xe=84+50*ne,K=H.getFloat32(xe,!0),L=H.getFloat32(4+xe,!0),re=H.getFloat32(8+xe,!0),ge=(Y&&(j=32768&(de=H.getUint16(48+xe,!0))?(A=D,$=V,Z):(A=(31&de)/31,$=(de>>5&31)/31,(de>>10&31)/31)),new _.default.Vector(K,L,re)),Me=1;Me<=3;Me++){var Le=new _.default.Vector(H.getFloat32(Le=xe+12*Me,!0),H.getFloat32(4+Le,!0),H.getFloat32(8+Le,!0));R.vertices.push(Le),R.vertexNormals.push(ge),Y&&S.push(A,$,j)}R.faces.push([3*ne,3*ne+1,3*ne+2]),R.uvs.push([0,0],[0,0],[0,0])}}(O,N);else{if(N=new DataView(N),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(R,k){for(var A,$,j="",S=[],D=0;D<k.length;++D){for(var V=k[D].trim(),Z=V.split(" "),H=0;H<Z.length;++H)""===Z[H]&&Z.splice(H,1);if(0!==Z.length)switch(j){case"":if("solid"!==Z[0])return console.error(V),console.error('Invalid state "'.concat(Z[0],'", should be "solid"'));j="solid";break;case"solid":if("facet"!==Z[0]||"normal"!==Z[1])return console.error(V),console.error('Invalid state "'.concat(Z[0],'", should be "facet normal"'));A=new _.default.Vector(parseFloat(Z[2]),parseFloat(Z[3]),parseFloat(Z[4])),R.vertexNormals.push(A,A,A),j="facet normal";break;case"facet normal":if("outer"!==Z[0]||"loop"!==Z[1])return console.error(V),console.error('Invalid state "'.concat(Z[0],'", should be "outer loop"'));j="vertex";break;case"vertex":if("vertex"===Z[0])$=new _.default.Vector(parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])),R.vertices.push($),R.uvs.push([0,0]),S.push(R.vertices.indexOf($));else{if("endloop"!==Z[0])return console.error(V),console.error('Invalid state "'.concat(Z[0],'", should be "vertex" or "endloop"'));R.faces.push(S),S=[],j="endloop"}break;case"endloop":if("endfacet"!==Z[0])return console.error(V),console.error('Invalid state "'.concat(Z[0],'", should be "endfacet"'));j="endfacet";break;case"endfacet":if("endsolid"!==Z[0]){if("facet"!==Z[0]||"normal"!==Z[1])return console.error(V),console.error('Invalid state "'.concat(Z[0],'", should be "endsolid" or "facet normal"'));A=new _.default.Vector(parseFloat(Z[2]),parseFloat(Z[3]),parseFloat(Z[4])),R.vertexNormals.push(A,A,A),j="facet normal"}break;default:console.error('Invalid state "'.concat(j,'"'))}}}(O,N=new TextDecoder("utf-8").decode(N).split("\n"))}})(m,b),d&&m.normalize(),u&&m.flipU(),c&&m.flipV(),p._decrementPreload(),"function"==typeof a&&a(m)},l):s.match(/\.obj$/i)?this.loadStrings(E,function(b){for(var O=m,N=b,R={v:[],vt:[],vn:[]},k={},A=0;A<N.length;++A){var $=N[A].trim().split(/\b\s+/);if(0<$.length)if("v"===$[0]||"vn"===$[0]){var j=new _.default.Vector(parseFloat($[1]),parseFloat($[2]),parseFloat($[3]));R[$[0]].push(j)}else if("vt"===$[0])j=[parseFloat($[1]),1-parseFloat($[2])],R[$[0]].push(j);else if("f"===$[0])for(var S=3;S<$.length;++S){for(var D=[],V=[1,S-1,S],Z=0;Z<V.length;++Z){var H=$[V[Z]],Q=0;if(void 0!==k[H])Q=k[H];else{for(var Y=H.split("/"),q=0;q<Y.length;q++)Y[q]=parseInt(Y[q])-1;Q=k[H]=O.vertices.length,O.vertices.push(R.v[Y[0]].copy()),O.uvs.push(R.vt[Y[1]]?R.vt[Y[1]].slice():[0,0]),R.vn[Y[2]]&&O.vertexNormals.push(R.vn[Y[2]].copy())}D.push(Q)}D[0]!==D[1]&&D[0]!==D[2]&&D[1]!==D[2]&&O.faces.push(D)}}0===O.vertexNormals.length&&O.computeNormals(),d&&m.normalize(),u&&m.flipU(),c&&m.flipV(),p._decrementPreload(),"function"==typeof a&&a(m)},l):(_.default._friendlyFileLoadError(3,E),l?l():_.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),m},_.default.prototype.model=function(E){this._assert3d("model"),_.default._validateParameters("model",arguments),0<E.vertices.length&&(this._renderer.geometryInHash(E.gid)||(0===E.edges.length&&E._makeTriangleEdges(),E._edgesToVertices(),this._renderer.createBuffers(E.gid,E)),this._renderer.drawBuffers(E.gid))};var f=_.default;C.default=f},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],328:[function(o,W,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(o("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}o("./p5.Texture"),h.default.prototype.loadShader=function(a,l,d,u){function c(){m._decrementPreload(),d&&d(s)}h.default._validateParameters("loadShader",arguments),u=u||console.error;var s=new h.default.Shader,m=this,p=!1,b=!1;return this.loadStrings(a,function(O){s._vertSrc=O.join("\n"),b=!0,p&&c()},u),this.loadStrings(l,function(O){s._fragSrc=O.join("\n"),p=!0,b&&c()},u),s},h.default.prototype.createShader=function(a,l){return h.default._validateParameters("createShader",arguments),new h.default.Shader(this._renderer,a,l)},h.default.prototype.createFilterShader=function(a){h.default._validateParameters("createFilterShader",arguments);var l=a.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(l=new h.default.Shader(this._renderer,l,a)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),l},h.default.prototype.shader=function(a){return this._assert3d("shader"),h.default._validateParameters("shader",arguments),a.ensureCompiledOnContext(this),a.isStrokeShader()?this._renderer.userStrokeShader=a:(this._renderer.userFillShader=a,this._renderer._useNormalMaterial=!1),this},h.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},h.default.prototype.texture=function(a){return this._assert3d("texture"),h.default._validateParameters("texture",arguments),a.gifProperties&&a._animateGif(this),this._renderer.drawMode=f.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=a,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.textureMode=function(a){a!==f.IMAGE&&a!==f.NORMAL?console.warn("You tried to set ".concat(a," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=a},h.default.prototype.textureWrap=function(a){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,d=(this._renderer.textureWrapX=a,this._renderer.textureWrapY=l,!0),u=!1,c=void 0;try{for(var s,m=this._renderer.textures.values()[Symbol.iterator]();!(d=(s=m.next()).done);d=!0)s.value.setWrapMode(a,l)}catch(p){u=!0,c=p}finally{try{d||null==m.return||m.return()}finally{if(u)throw c}}},h.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return h.default._validateParameters("normalMaterial",l),this._renderer.drawMode=f.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},h.default.prototype.ambientMaterial=function(a,l,d){this._assert3d("ambientMaterial"),h.default._validateParameters("ambientMaterial",arguments);var u=h.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=u._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.emissiveMaterial=function(a,l,d,u){this._assert3d("emissiveMaterial"),h.default._validateParameters("emissiveMaterial",arguments);var c=h.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=c._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},h.default.prototype.specularMaterial=function(a,l,d,u){this._assert3d("specularMaterial"),h.default._validateParameters("specularMaterial",arguments);var c=h.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=c._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},h.default.prototype.shininess=function(a){return this._assert3d("shininess"),h.default._validateParameters("shininess",arguments),this._renderer._useShininess=a=a<1?1:a,this},h.default.prototype.metalness=function(a){return this._assert3d("metalness"),a=1-Math.exp(-a/100),this._renderer._useMetalness=a,this},h.default.RendererGL.prototype._applyColorBlend=function(a,c){var d=this.GL;return(c=c||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===f.TEXTURE||this.curBlendMode!==f.BLEND||a[a.length-1]<1||this._isErasing)!==this._isBlending&&(c||this.curBlendMode!==f.BLEND&&this.curBlendMode!==f.ADD?d.enable(d.BLEND):d.disable(d.BLEND),d.depthMask(!0),this._isBlending=c),this._applyBlendMode(),a},h.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var a=this.GL;switch(this.curBlendMode){case f.BLEND:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case f.ADD:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE);break;case f.REMOVE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_ALPHA);break;case f.MULTIPLY:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA);break;case f.SCREEN:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_COLOR);break;case f.EXCLUSION:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE_MINUS_DST_COLOR,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE);break;case f.REPLACE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO);break;case f.SUBTRACT:a.blendEquationSeparate(a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case f.DARKEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case f.LIGHTEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var w=h.default;C.default=w},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(o,W,C){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(h,f){for(var E=0;E<f.length;E++){var w=f[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}y.default.prototype.camera=function(){var h;this._assert3d("camera");for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("camera",E),(h=this._renderer._curCamera).camera.apply(h,E),this},y.default.prototype.perspective=function(){var h;this._assert3d("perspective");for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("perspective",E),(h=this._renderer._curCamera).perspective.apply(h,E),this},y.default.prototype.ortho=function(){var h;this._assert3d("ortho");for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("ortho",E),(h=this._renderer._curCamera).ortho.apply(h,E),this},y.default.prototype.frustum=function(){var h;this._assert3d("frustum");for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("frustum",E),(h=this._renderer._curCamera).frustum.apply(h,E),this},y.default.prototype.createCamera=function(){this._assert3d("createCamera");var h=new y.default.Camera(this._renderer);return h._computeCameraDefaultSettings(),h._setDefaultCamera(),this._renderer._curCamera=h},y.default.Camera=function(){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=a,this.cameraType="default",this.cameraMatrix=new y.default.Matrix,this.projMatrix=new y.default.Matrix,this.yScale=1}var f,E;return f=h,(E=[{key:"perspective",value:function(c,l,d,u){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===c?c=this.defaultCameraFOV:this._renderer._pInst._toRadians(c),void 0===l&&(l=this.defaultAspectRatio),void 0===d&&(d=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),d<=1e-4&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=l,this.cameraNear=d,this.cameraFar=u,this.projMatrix=y.default.Matrix.identity(),c=1/Math.tan(this.cameraFOV/2);var s=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(c/l,0,0,0,0,-c*this.yScale,0,0,0,0,(u+d)*s,-1,0,0,2*u*d*s,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(k,R,d,u,c,s){void 0===k&&(k=-this._renderer.width/2),void 0===R&&(R=+this._renderer.width/2),void 0===d&&(d=-this._renderer.height/2),void 0===u&&(u=+this._renderer.height/2),void 0===c&&(c=0),void 0===s&&(s=Math.max(this._renderer.width,this._renderer.height)+800),this.cameraNear=c;var A=R-k,m=u-d,p=(this.cameraFar=s)-c,b=2/A,O=2/m*this.yScale,N=-2/p;R=-(R+k)/A,k=-(u+d)/m,A=-(s+c)/p,this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-O,0,0,0,0,N,0,R,k,A,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(k,R,d,u,c,s){void 0===k&&(k=.05*-this._renderer.width),void 0===R&&(R=.05*+this._renderer.width),void 0===d&&(d=.05*+this._renderer.height),void 0===u&&(u=.05*-this._renderer.height),void 0===c&&(c=this.defaultCameraNear),void 0===s&&(s=this.defaultCameraFar),this.cameraNear=c;var A=R-k,m=u-d,p=(this.cameraFar=s)-c,b=2*c/A,O=2*c/m*this.yScale,N=-2*s*c/p;R=(R+k)/A,k=(u+d)/m,A=-(s+c)/p,this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-O,0,0,R,k,A,-1,0,0,N,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(b,l,d,u){var c=this.centerX,s=this.centerY,m=this.centerZ,p=(c-=this.eyeX,s-=this.eyeY,m-=this.eyeZ,y.default.Matrix.identity(this._renderer._pInst));(p.rotate(this._renderer._pInst._toRadians(b),l,d,u),b=[c*p.mat4[0]+s*p.mat4[4]+m*p.mat4[8],c*p.mat4[1]+s*p.mat4[5]+m*p.mat4[9],c*p.mat4[2]+s*p.mat4[6]+m*p.mat4[10]])[0]+=this.eyeX,b[1]+=this.eyeY,b[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,b[0],b[1],b[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(a){var l=this._getLocalAxes();this._rotateView(a,l.y[0],l.y[1],l.y[2])}},{key:"tilt",value:function(a){var l=this._getLocalAxes();this._rotateView(a,l.x[0],l.x[1],l.x[2])}},{key:"lookAt",value:function(a,l,d){this.camera(this.eyeX,this.eyeY,this.eyeZ,a,l,d,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(a,l,d,u,c,s,m,p,b){return void 0===a&&(d=this.defaultEyeZ,u=a=this.defaultEyeX,c=l=this.defaultEyeY,p=1,b=m=s=0),this.eyeX=a,this.eyeY=l,this.eyeZ=d,void 0!==u&&(this.centerX=u,this.centerY=c,this.centerZ=s),void 0!==m&&(this.upX=m,this.upY=p,this.upZ=b),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),this.cameraMatrix.translate([c=-a,-l,-d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(u,c,d){var s=this._getLocalAxes();this.camera(this.eyeX+(u=[s.x[0]*u,s.x[1]*u,s.x[2]*u])[0]+(c=[s.y[0]*c,s.y[1]*c,s.y[2]*c])[0]+(s=[s.z[0]*d,s.z[1]*d,s.z[2]*d])[0],this.eyeY+u[1]+c[1]+s[1],this.eyeZ+u[2]+c[2]+s[2],this.centerX+u[0]+c[0]+s[0],this.centerY+u[1]+c[1]+s[1],this.centerZ+u[2]+c[2]+s[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(a,l,d){this.camera(a,l,d,this.centerX+(a-this.eyeX),this.centerY+(l-this.eyeY),this.centerZ+(d-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(a){for(var l=0,d=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];l<d.length;l++){var u=d[l];this[u]=a[u]}this.cameraMatrix=a.cameraMatrix.copy(),this.projMatrix=a.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(a,l,d){var u,c,s,m,p,b,O,N,R,k,A,$,j,S,D,V,Z,H;0===d?this.set(a):1===d?this.set(l):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=a.projMatrix.mat4[0]*Math.pow(l.projMatrix.mat4[0]/a.projMatrix.mat4[0],d),this.projMatrix.mat4[5]=a.projMatrix.mat4[5]*Math.pow(l.projMatrix.mat4[5]/a.projMatrix.mat4[5],d),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),m=new y.default.Vector(a.eyeX,a.eyeY,a.eyeZ),p=new y.default.Vector(l.eyeX,l.eyeY,l.eyeZ),V=new y.default.Vector(a.centerX,a.centerY,a.centerZ),H=new y.default.Vector(l.centerX,l.centerY,l.centerZ),s=y.default.Vector.dist(m,V),u=y.default.Vector.dist(p,H),u=s*Math.pow(u/s,d),s=y.default.Vector.sub(m,p),c=1,1e-6<(Z=(S=m.copy().sub(p).sub(V).add(H)).magSq())&&(c=y.default.Vector.dot(s,S)/Z,c=Math.max(0,Math.min(c,1))),s=y.default.Vector.lerp(y.default.Vector.lerp(m,V,c),y.default.Vector.lerp(p,H,c),d),S=a.cameraMatrix.createSubMatrix3x3(),Z=l.cameraMatrix.createSubMatrix3x3(),m=S.row(2),V=Z.row(2),p=S.row(1),H=Z.row(1),a=new y.default.Vector,l=new y.default.Vector,b=new y.default.Vector,O=new y.default.Vector,1-(N=.5*((S=(Z=Z.mult3x3(S.copy().transpose3x3())).diagonal())[0]+S[1]+S[2]-1))<1e-7?(a.set(y.default.Vector.lerp(m,V,d)).normalize(),b.set(a).mult(c*u).add(s),O.set(a).mult((c-1)*u).add(s),l.set(y.default.Vector.lerp(p,H,d)).normalize()):(V=1/(1-N),H=Math.max(S[0],S[1],S[2]),$=Z.mat3[1]+Z.mat3[3],j=Z.mat3[2]+Z.mat3[6],D=Z.mat3[5]+Z.mat3[7],H=H===S[0]?(k=.5*$*(V/=R=Math.sqrt((S[0]-N)*V)),A=.5*j*V,.5*(Z.mat3[7]-Z.mat3[5])/R):H===S[1]?(A=.5*D*(V/=k=Math.sqrt((S[1]-N)*V)),R=.5*$*V,.5*(Z.mat3[2]-Z.mat3[6])/k):(R=.5*j*(V/=A=Math.sqrt((S[2]-N)*V)),k=.5*D*V,.5*(Z.mat3[3]-Z.mat3[1])/A),$=d*Math.atan2(H,N),j=Math.cos($),S=Math.sin($),(H=new y.default.Matrix("mat3",[j+(D=1-j)*R*R,D*(V=R*k)+S*A,D*(Z=A*R)-S*k,D*V-S*A,j+D*k*k,D*(d=k*A)+S*R,D*Z+S*k,D*d-S*R,j+D*A*A])).multiplyVec3(m,a),b.set(a).mult(c*u).add(s),O.set(a).mult((c-1)*u).add(s),H.multiplyVec3(p,l)),this.camera(b.x,b.y,b.z,O.x,O.y,O.z,l.x,l.y,l.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var a=new y.default.Camera(this._renderer);return a.cameraFOV=this.cameraFOV,a.aspectRatio=this.aspectRatio,a.eyeX=this.eyeX,a.eyeY=this.eyeY,a.eyeZ=this.eyeZ,a.centerX=this.centerX,a.centerY=this.centerY,a.centerZ=this.centerZ,a.upX=this.upX,a.upY=this.upY,a.upZ=this.upZ,a.cameraNear=this.cameraNear,a.cameraFar=this.cameraFar,a.cameraType=this.cameraType,a.cameraMatrix=this.cameraMatrix.copy(),a.projMatrix=this.projMatrix.copy(),a.yScale=this.yScale,a}},{key:"_getLocalAxes",value:function(){var O,a=this.eyeX-this.centerX,l=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,m=(0!==(m=Math.sqrt(a*a+l*l+d*d))&&(a/=m,l/=m,d/=m),this.upX),u=(p=this.upY)*d-(b=this.upZ)*l,c=-m*d+b*a,s=m*l-p*a,p=(m=l*s-d*c,-a*s+d*u),b=a*c-l*u;return 0!==(0!==(O=Math.sqrt(u*u+c*c+s*s))&&(u/=O,c/=O,s/=O),O=Math.sqrt(m*m+p*p+b*b))&&(m/=O,p/=O,b/=O),{x:[u,c,s],y:[m,p,b],z:[a,l,d]}}},{key:"_orbit",value:function(a,O,b){var c=this.eyeX-this.centerX,s=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(c,s,m),p=(c=new y.default.Vector(c,s,m).normalize(),s=new y.default.Vector(this.upX,this.upY,this.upZ).normalize(),m=y.default.Vector.cross(s,c).normalize(),y.default.Vector.cross(m,s));(u=(u*=Math.pow(10,b))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),b=Math.acos(Math.max(-1,Math.min(1,y.default.Vector.dot(c,s))))+O,O=a,(b<=0||b>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),s.mult(Math.cos(b)),p.mult(Math.cos(O)*Math.sin(b)),m.mult(Math.sin(O)*Math.sin(b)),c.set(s).add(p).add(m),this.eyeX=u*c.x+this.centerX,this.eyeY=u*c.y+this.centerY,this.eyeZ=u*c.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(b,O,R){var c=this.eyeX-this.centerX,s=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(c,s,m),p=(c=new y.default.Vector(c,s,m).normalize(),s=new y.default.Vector(this.upX,this.upY,this.upZ),m=y.default.Vector.cross(s,c).normalize(),y.default.Vector.cross(c,m)),k=Math.atan2(O,b),N=(p.mult(Math.sin(k)),m.mult(Math.cos(k)).add(p),k=Math.sqrt(b*b+O*O),p=y.default.Vector.cross(c,m),(u=(u*=Math.pow(10,R))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),b=Math.cos(k),O=Math.sin(k),(R=s.dot(c))*b+(k=s.dot(m))*O);R=-R*O+k*b,k=s.dot(p),s.x=N*c.x+R*m.x+k*p.x,s.y=N*c.y+R*m.y+k*p.y,s.z=N*c.z+R*m.z+k*p.z,m.mult(-O),c.mult(b).add(m).mult(u),this.camera(c.x+this.centerX,c.y+this.centerY,c.z+this.centerZ,this.centerX,this.centerY,this.centerZ,s.x,s.y,s.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&_(f.prototype,E),h}(),y.default.prototype.setCamera=function(h){this._renderer._curCamera=h,this._renderer.uPMatrix.set(h.projMatrix)},C.default=o=y.default.Camera},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(o,W,C){"use strict";function y(_,h){for(var f=0;f<h.length;f++){var E=h[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function _(){var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(w),this.initialLength=w}var h,f;return h=_,(f=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var w;this.length<this.data.length/2&&(w=1<<Math.ceil(Math.log2(this.length)),(w=new Float32Array(w)).set(this.data.subarray(0,this.length),0),this.data=w)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var w=arguments.length,a=new Array(w),l=0;l<w;l++)a[l]=arguments[l];this.ensureLength(this.length+a.length),this.data.set(a,this.length),this.length+=a.length}},{key:"slice",value:function(w,a){return this.data.slice(w,Math.min(a,this.length))}},{key:"subArray",value:function(w,a){return this.data.subarray(w,Math.min(a,this.length))}},{key:"ensureLength",value:function(w){for(;this.data.length<w;){var a=new Float32Array(2*this.data.length);a.set(this.data,0),this.data=a}}}])&&y(h.prototype,f),_}(),C.default=o=o.default.DataArray},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(A,W,C){"use strict";function y($){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})($)}function _($){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(j){return y(j)}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":y(j)})($)}A("core-js/modules/es.symbol"),A("core-js/modules/es.symbol.description"),A("core-js/modules/es.symbol.iterator"),A("core-js/modules/es.array.fill"),A("core-js/modules/es.array.includes"),A("core-js/modules/es.array.iterator"),A("core-js/modules/es.object.get-own-property-descriptor"),A("core-js/modules/es.object.get-prototype-of"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.reflect.construct"),A("core-js/modules/es.reflect.get"),A("core-js/modules/es.regexp.to-string"),A("core-js/modules/es.string.includes"),A("core-js/modules/es.string.iterator"),A("core-js/modules/es.typed-array.float32-array"),A("core-js/modules/es.typed-array.uint8-array"),A("core-js/modules/es.typed-array.uint8-clamped-array"),A("core-js/modules/es.typed-array.copy-within"),A("core-js/modules/es.typed-array.every"),A("core-js/modules/es.typed-array.fill"),A("core-js/modules/es.typed-array.filter"),A("core-js/modules/es.typed-array.find"),A("core-js/modules/es.typed-array.find-index"),A("core-js/modules/es.typed-array.for-each"),A("core-js/modules/es.typed-array.includes"),A("core-js/modules/es.typed-array.index-of"),A("core-js/modules/es.typed-array.iterator"),A("core-js/modules/es.typed-array.join"),A("core-js/modules/es.typed-array.last-index-of"),A("core-js/modules/es.typed-array.map"),A("core-js/modules/es.typed-array.reduce"),A("core-js/modules/es.typed-array.reduce-right"),A("core-js/modules/es.typed-array.reverse"),A("core-js/modules/es.typed-array.set"),A("core-js/modules/es.typed-array.slice"),A("core-js/modules/es.typed-array.some"),A("core-js/modules/es.typed-array.sort"),A("core-js/modules/es.typed-array.subarray"),A("core-js/modules/es.typed-array.to-locale-string"),A("core-js/modules/es.typed-array.to-string"),A("core-js/modules/es.weak-map"),A("core-js/modules/web.dom-collections.iterator"),A("core-js/modules/es.array.fill"),A("core-js/modules/es.array.includes"),A("core-js/modules/es.array.iterator"),A("core-js/modules/es.object.get-prototype-of"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.string.includes"),A("core-js/modules/es.typed-array.float32-array"),A("core-js/modules/es.typed-array.uint8-array"),A("core-js/modules/es.typed-array.uint8-clamped-array"),A("core-js/modules/es.typed-array.copy-within"),A("core-js/modules/es.typed-array.every"),A("core-js/modules/es.typed-array.fill"),A("core-js/modules/es.typed-array.filter"),A("core-js/modules/es.typed-array.find"),A("core-js/modules/es.typed-array.find-index"),A("core-js/modules/es.typed-array.for-each"),A("core-js/modules/es.typed-array.includes"),A("core-js/modules/es.typed-array.index-of"),A("core-js/modules/es.typed-array.iterator"),A("core-js/modules/es.typed-array.join"),A("core-js/modules/es.typed-array.last-index-of"),A("core-js/modules/es.typed-array.map"),A("core-js/modules/es.typed-array.reduce"),A("core-js/modules/es.typed-array.reduce-right"),A("core-js/modules/es.typed-array.reverse"),A("core-js/modules/es.typed-array.set"),A("core-js/modules/es.typed-array.slice"),A("core-js/modules/es.typed-array.some"),A("core-js/modules/es.typed-array.sort"),A("core-js/modules/es.typed-array.subarray"),A("core-js/modules/es.typed-array.to-locale-string"),A("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(k=A("../core/main"))&&k.__esModule?k:{default:k},f=function($){if($&&$.__esModule)return $;if(null===$||"object"!==_($)&&"function"!=typeof $)return{default:$};var j=a();if(j&&j.has($))return j.get($);var S,D={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in $){var Z;Object.prototype.hasOwnProperty.call($,S)&&((Z=V?Object.getOwnPropertyDescriptor($,S):null)&&(Z.get||Z.set)?Object.defineProperty(D,S,Z):D[S]=$[S])}return D.default=$,j&&j.set($,D),D}(A("../core/constants")),E=A("./p5.Texture"),w=A("./p5.RendererGL");function a(){var $;return"function"!=typeof WeakMap?null:(a=function(){return $},$=new WeakMap)}function l($,j){return function(S){if(Array.isArray(S))return S}($)||function(S,D){if(Symbol.iterator in Object(S)||"[object Arguments]"===Object.prototype.toString.call(S)){var V=[],Z=!0,H=!1,Q=void 0;try{for(var Y,q=S[Symbol.iterator]();!(Z=(Y=q.next()).done)&&(V.push(Y.value),!D||V.length!==D);Z=!0);}catch(ne){H=!0,Q=ne}finally{try{Z||null==q.return||q.return()}finally{if(H)throw Q}}return V}}($,j)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d($,j,S){return j in $?Object.defineProperty($,j,{value:S,enumerable:!0,configurable:!0,writable:!0}):$[j]=S,$}function u($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")}function c($,j){for(var S=0;S<j.length;S++){var D=j[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty($,D.key,D)}}function s($,j,S){j&&c($.prototype,j),S&&c($,S)}function m($,j,S){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(H,V,Z){if(H=function(Q,Y){for(;!Object.prototype.hasOwnProperty.call(Q,Y)&&null!==(Q=O(Q)););return Q}(H,V))return(H=Object.getOwnPropertyDescriptor(H,V)).get?H.get.call(Z):H.value})($,j,S||$)}function p($,j){return(p=Object.setPrototypeOf||function(S,D){return S.__proto__=D,S})($,j)}function O($){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})($)}var N=function($){var j=D;if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create($&&$.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),$&&p(j,$);var S=function b($){return function(){var j,S=O($);if(j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=O(this).constructor,Reflect.construct(S,arguments,j)):S.apply(this,arguments),S=this,!j||"object"!==_(j)&&"function"!=typeof j){if(void 0!==S)return S;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return j}}(D);function D(V){var Z;return u(this,D),(Z=S.call(this,V.target._renderer)).fbo=V,Z.yScale=-1,Z}return s(D,[{key:"_computeCameraDefaultSettings",value:function(){m(O(D.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),D}(h.default.Camera),R=(h.default.FramebufferCamera=N,function(){function $(j,S){u(this,$),this.framebuffer=j,this.property=S}return s($,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),$}()),k=(h.default.FramebufferTexture=R,function(){function $(V){var S=this,D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(u(this,$),this.target=V,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=D.format||f.UNSIGNED_BYTE,this.channels=D.channels||(V._renderer._pInst._glAttributes.alpha?f.RGBA:f.RGB),this.useDepth=void 0===D.depth||D.depth,this.depthFormat=D.depthFormat||f.FLOAT,this.textureFiltering=D.textureFiltering||f.LINEAR,this.antialiasSamples=void 0===D.antialias?V._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof D.antialias?D.antialias:D.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&V.webglVersion!==f.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),D.width&&D.height?(this.width=D.width,this.height=D.height,this.autoSized=!1):(void 0===D.width!=(void 0===D.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=V.width,this.height=V.height,this.autoSized=!0),this.density=D.density||V.pixelDensity(),this.gl=V=V._renderer.GL,this._checkIfFormatsAvailable(),D.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===D.stencil||D.stencil),this.framebuffer=V.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=V.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),D=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=D,this.draw(function(){return S.target.clear()})}return s($,[{key:"resize",value:function(j,S){this.autoSized=!1,this.width=j,this.height=S,this._handleResize()}},{key:"pixelDensity",value:function(j){if(!j)return this.density;this.autoSized=!1,this.density=j,this._handleResize()}},{key:"autoSized",value:function(j){if(void 0===j)return this.autoSized;this.autoSized=j,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var j=this.gl;(this.useDepth&&this.target.webglVersion===f.WEBGL&&!j.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===f.WEBGL&&this.depthFormat===f.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),[f.UNSIGNED_BYTE,f.FLOAT,f.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&![f.UNSIGNED_INT,f.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=f.FLOAT),j=(0,E.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==f.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&!j.float&&this.depthFormat===f.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),j.halfFloat||this.format!==f.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.channels===f.RGB&&[f.FLOAT,f.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=f.RGBA)}},{key:"_recreateTextures",value:function(){var j=this.gl,S=(this._updateSize(),j.getParameter(j.TEXTURE_BINDING_2D)),D=j.getParameter(j.FRAMEBUFFER_BINDING);if(!(V=j.createTexture()))throw new Error("Unable to create color texture");j.bindTexture(j.TEXTURE_2D,V);var Z=this._glColorFormat();if(j.texImage2D(j.TEXTURE_2D,0,Z.internalFormat,this.width*this.density,this.height*this.density,0,Z.format,Z.type,null),this.colorTexture=V,j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,V,0),this.useDepth){var V;if(!(V=j.createTexture()))throw new Error("Unable to create depth texture");var H=this._glDepthFormat();j.bindTexture(j.TEXTURE_2D,V),j.texImage2D(j.TEXTURE_2D,0,H.internalFormat,this.width*this.density,this.height*this.density,0,H.format,H.type,null),j.framebufferTexture2D(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.TEXTURE_2D,V,0),this.depthTexture=V}this.antialias&&(this.colorRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.colorRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),Z.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(H=this._glDepthFormat(),this.depthRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.depthRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),H.internalFormat,this.width*this.density,this.height*this.density)),j.bindFramebuffer(j.FRAMEBUFFER,this.aaFramebuffer),j.framebufferRenderbuffer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&j.framebufferRenderbuffer(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new R(this,"depthTexture"),this.depthP5Texture=new h.default.Texture(this.target._renderer,this.depth,{minFilter:V=j.NEAREST,magFilter:V}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new R(this,"colorTexture"),this.colorP5Texture=new h.default.Texture(this.target._renderer,this.color,{minFilter:Z=this.textureFiltering===f.LINEAR?j.LINEAR:j.NEAREST,magFilter:Z}),this.target._renderer.textures.set(this.color,this.colorP5Texture),j.bindTexture(j.TEXTURE_2D,S),j.bindFramebuffer(j.FRAMEBUFFER,D)}},{key:"_glColorFormat",value:function(){var j,S,D=this.gl,V=this.format===f.FLOAT?D.FLOAT:this.format===f.HALF_FLOAT?this.target.webglVersion===f.WEBGL2?D.HALF_FLOAT:D.getExtension("OES_texture_half_float").HALF_FLOAT_OES:D.UNSIGNED_BYTE,Z=this.channels===f.RGBA?D.RGBA:D.RGB;return{internalFormat:this.target.webglVersion===f.WEBGL2?(d(S={},D.FLOAT,d({},D.RGBA,D.RGBA32F)),d(S,D.HALF_FLOAT,d({},D.RGBA,D.RGBA16F)),d(S,D.UNSIGNED_BYTE,(d(j={},D.RGBA,D.RGBA8),d(j,D.RGB,D.RGB8),j)),S[V][Z]):this.format===f.HALF_FLOAT?D.RGBA:Z,format:Z,type:V}}},{key:"_glDepthFormat",value:function(){var D=this.gl,j=this.useStencil?this.depthFormat===f.FLOAT?D.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===f.WEBGL2?D.UNSIGNED_INT_24_8:D.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===f.FLOAT?D.FLOAT:D.UNSIGNED_INT,S=this.useStencil?D.DEPTH_STENCIL:D.DEPTH_COMPONENT;return{internalFormat:D=this.useStencil?this.depthFormat===f.FLOAT?D.DEPTH32F_STENCIL8:this.target.webglVersion===f.WEBGL2?D.DEPTH24_STENCIL8:D.DEPTH_STENCIL:this.target.webglVersion===f.WEBGL2?this.depthFormat===f.FLOAT?D.DEPTH_COMPONENT32F:D.DEPTH_COMPONENT24:D.DEPTH_COMPONENT,format:S,type:j}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var j=this.depth,S=this.colorRenderbuffer,D=this.depthRenderbuffer,V=(this._deleteTexture(V=this.color),j&&this._deleteTexture(j),this.gl);S&&V.deleteRenderbuffer(S),D&&V.deleteRenderbuffer(D),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var j=new N(this);return j._computeCameraDefaultSettings(),j._setDefaultCamera(),this.target._renderer._curCamera=j}},{key:"_deleteTexture",value:function(j){this.gl.deleteTexture(j.rawTexture()),this.target._renderer.textures.delete(j)}},{key:"remove",value:function(){var j=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),j.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&j.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&j.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&j.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix)}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var j=this.gl;j.bindFramebuffer(j.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var j=this.gl,S=(j.bindFramebuffer(j.READ_FRAMEBUFFER,this.aaFramebuffer),j.bindFramebuffer(j.DRAW_FRAMEBUFFER,this.framebuffer),[[j.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&S.push([j.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var D=0,V=S;D<V.length;D++){var H=l(V[D],2);j.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,H[0],H=H[1])}}}},{key:"end",value:function(){var j=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(j.bindFramebuffer(j.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(j){this.begin(),j(),this.end()}},{key:"loadPixels",value:function(){var j=this.gl,S=this.target._renderer.activeFramebuffer(),D=(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,j,this.framebuffer,0,0,this.width*this.density,this.height*this.density,D.format,D.type),j.bindFramebuffer(j.FRAMEBUFFER,S?S._framebufferToBind():null)}},{key:"get",value:function(j,S,D,V){h.default._validateParameters("p5.Framebuffer.get",arguments);var Z=this._glColorFormat();if(void 0===j&&void 0===S)S=j=0,D=this.width,V=this.height;else if(void 0===D&&void 0===V)return(j<0||S<0||j>=this.width||S>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),j=this.target.constrain(j,0,this.width-1),S=this.target.constrain(S,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,j*this.density,S*this.density,Z.format,Z.type);j=this.target.constrain(j,0,this.width-1),S=this.target.constrain(S,0,this.height-1),D=this.target.constrain(D,1,this.width-j),V=this.target.constrain(V,1,this.height-S);for(var H=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,j*this.density,S*this.density,D*this.density,V*this.density,Z.format,Z.type),Q=new Uint8ClampedArray(D*V*this.density*this.density*4),Y=(Q.fill(255),Z.type===this.gl.RGB?3:4),q=0;q<V*this.density;q++)for(var ne=0;ne<D*this.density;ne++)for(var de=0;de<4;de++){var K=4*(q*D*this.density+ne)+de;de<Y&&(Q[K]=H[4==Y?K:(q*D*this.density+ne)*Y+de])}return(j=new h.default.Image(D*this.density,V*this.density)).imageData=j.canvas.getContext("2d").createImageData(j.width,j.height),j.imageData.data.set(Q),j.pixels=j.imageData.data,j.updatePixels(),1!==this.density&&j.resize(D,V),j}},{key:"updatePixels",value:function(){var j=this.gl,S=(this.colorP5Texture.bindTexture(),this._glColorFormat()),D=this.width*this.height*this.density*this.density*(D=S.format===j.RGBA?4:3),V=S.type===j.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof V)||this.pixels.length!==D)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");j.texImage2D(j.TEXTURE_2D,0,S.internalFormat,this.width*this.density,this.height*this.density,0,S.format,S.type,this.pixels),this.colorP5Texture.unbindTexture(),V=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),this.end()):(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),j.bindFramebuffer(j.FRAMEBUFFER,V?V._framebufferToBind():null))}}]),$}());A=h.default.Framebuffer=k,C.default=A},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(o,W,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(l=o("../core/main"))&&l.__esModule?l:{default:l},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=E();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(o("../core/constants"));function E(){var d;return"function"!=typeof WeakMap?null:(E=function(){return d},d=new WeakMap)}function w(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(d,u){for(var c=0;c<u.length;c++){var s=u[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}h.default.Geometry=function(){function d(m,p,b){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.lineVertices=new h.default.DataArray,this.lineTangentsIn=new h.default.DataArray,this.lineTangentsOut=new h.default.DataArray,this.lineSides=new h.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new h.default.DataArray,this.detailX=void 0!==m?m:1,this.detailY=void 0!==p?p:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,b instanceof Function&&b.call(this)}var u,c;return u=d,(c=[{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var m=0;m<this.vertexColors.length;m+=4)if(this.vertexColors[m+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var m=0;m<this.lineVertexColors.length;m+=4)if(this.lineVertexColors[m+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(m,p){return p%2==0?1-m:m})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(m,p){return p%2==0?m:1-m})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var m,p,b,O=this.detailX+1,N=0;N<this.detailY;N++)for(var R=0;R<this.detailX;R++)p=(N+1)*O+R+1,this.faces.push([N*O+R,m=N*O+R+1,b=(N+1)*O+R]),this.faces.push([b,m,p]);return this}},{key:"_getFaceNormal",value:function(p){var b=this.vertices[(p=this.faces[p])[0]],N=this.vertices[p[1]],O=(p=this.vertices[p[2]],N=h.default.Vector.sub(N,b),p=h.default.Vector.sub(p,b),b=h.default.Vector.cross(N,p),h.default.Vector.mag(b));return 0==(N=O/(h.default.Vector.mag(N)*h.default.Vector.mag(p)))||isNaN(N)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),b):(1<N&&(N=1),b.mult(Math.asin(N)/O))}},{key:"computeNormals",value:function(){var m,p=this,O=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,N=this.vertexNormals,R=this.vertices,k=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.FLAT)===f.SMOOTH){for(var A={},$=[],j=Math.pow(10,void 0===O?3:O),S=function(Q){return Math.round(Q*j)/j},D=function(Q){return"".concat(S(Q.x),",").concat(S(Q.y),",").concat(S(Q.z))},V=0;V<R.length;V++){var Z=R[V],H=D(Z);void 0===A[H]&&(A[H]=$.length,$.push(Z))}k.forEach(function(Q){for(var Y=0;Y<3;++Y){var q=D(q=R[q=Q[Y]]);Q[Y]=A[q]}}),this.edges.forEach(function(Q){for(var Y=0;Y<2;++Y){var q=D(q=R[q=Q[Y]]);Q[Y]=A[q]}}),this.vertices=R=$}for(m=N.length=0;m<R.length;++m)N.push(new h.default.Vector);for(k.forEach(function(Q,Y){for(var q=p._getFaceNormal(Y),ne=0;ne<3;++ne)N[Q[ne]].add(q)}),m=0;m<R.length;++m)N[m].normalize();return this}},{key:"averageNormals",value:function(){for(var m=0;m<=this.detailY;m++){var p=this.detailX+1,b=h.default.Vector.add(this.vertexNormals[m*p],this.vertexNormals[m*p+this.detailX]);b=h.default.Vector.div(b,2),this.vertexNormals[m*p]=b,this.vertexNormals[m*p+this.detailX]=b}return this}},{key:"averagePoleNormals",value:function(){for(var m=new h.default.Vector(0,0,0),p=0;p<this.detailX;p++)m.add(this.vertexNormals[p]);m=h.default.Vector.div(m,this.detailX);for(var b=0;b<this.detailX;b++)this.vertexNormals[b]=m;m=new h.default.Vector(0,0,0);for(var O=this.vertices.length-1;O>this.vertices.length-1-this.detailX;O--)m.add(this.vertexNormals[O]);m=h.default.Vector.div(m,this.detailX);for(var N=this.vertices.length-1;N>this.vertices.length-1-this.detailX;N--)this.vertexNormals[N]=m;return this}},{key:"_makeTriangleEdges",value:function(){for(var m=this.edges.length=0;m<this.faces.length;m++)this.edges.push([this.faces[m][0],this.faces[m][1]]),this.edges.push([this.faces[m][1],this.faces[m][2]]),this.edges.push([this.faces[m][2],this.faces[m][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var m,p=new Map,b=new Set,O=0;O<this.edges.length;O++){var N,R=this.edges[O-1],k=this.edges[O],A=this.vertices[k[0]],$=this.vertices[k[1]],j=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*k[0],4*(k[0]+1)):[0,0,0,0],S=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*k[1],4*(k[1]+1)):[0,0,0,0],D=$.copy().sub(A).normalize(),V=0<D.magSq();V&&this._addSegment(A,$,j,S,D),0<O&&R[1]===k[0]?b.has(k[0])||(b.add(k[0]),p.delete(k[0]),m&&V&&D.dot(m)<1-1e-8&&this._addJoin(A,m,D,j)):(V&&!b.has(k[0])&&((N=p.get(k[0]))?(this._addJoin(A,N.dir,D,j),p.delete(k[0]),b.add(k[0])):p.set(k[0],{point:A,dir:D.copy().mult(-1),color:j})),m&&!b.has(R[1])&&((N=p.get(R[1]))?(this._addJoin(this.vertices[R[1]],m,N.dir.copy().mult(-1),j),p.delete(R[1]),b.add(R[1])):p.set(R[1],{point:this.vertices[R[1]],dir:m,color:j}),m=void 0)),O!==this.edges.length-1||b.has(k[1])||((A=p.get(k[1]))?(this._addJoin($,D,A.dir.copy().mult(-1),S),p.delete(k[1]),b.add(k[1])):p.set(k[1],{point:$,dir:D,color:S})),V&&(m=D)}var Z=!0,H=!1,Q=void 0;try{for(var Y,q=p.values()[Symbol.iterator]();!(Z=(Y=q.next()).done);Z=!0){var ne=Y.value;this._addCap(ne.point,ne.dir,ne.color)}}catch(L){H=!0,Q=L}finally{try{Z||null==q.return||q.return()}finally{if(H)throw Q}}return this}},{key:"_addSegment",value:function(R,k,b,O,N){R=R.array(),k=k.array();var A=N.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var $=0,j=[this.lineTangentsIn,this.lineTangentsOut];$<j.length;$++)for(var S=j[$],D=0;D<6;D++)S.push.apply(S,w(A));return(N=this.lineVertices).push.apply(N,w(R).concat(w(k),w(R),w(k),w(k),w(R))),(N=this.lineVertexColors).push.apply(N,w(b).concat(w(O),w(b),w(O),w(O),w(b))),this}},{key:"_addCap",value:function(m,p,b){for(var O,N=m.array(),R=p.array(),k=[0,0,0],A=0;A<6;A++)(O=this.lineVertices).push.apply(O,w(N)),(O=this.lineTangentsIn).push.apply(O,w(R)),(O=this.lineTangentsOut).push.apply(O,k),(O=this.lineVertexColors).push.apply(O,w(b));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(m,p,b,O){for(var N,R=m.array(),k=p.array(),A=b.array(),$=0;$<12;$++)(N=this.lineVertices).push.apply(N,w(R)),(N=this.lineTangentsIn).push.apply(N,w(k)),(N=this.lineTangentsOut).push.apply(N,w(A)),(N=this.lineVertexColors).push.apply(N,w(O));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var m=this.vertices[0].copy(),p=this.vertices[0].copy(),b=0;b<this.vertices.length;b++)m.x=Math.max(m.x,this.vertices[b].x),p.x=Math.min(p.x,this.vertices[b].x),m.y=Math.max(m.y,this.vertices[b].y),p.y=Math.min(p.y,this.vertices[b].y),m.z=Math.max(m.z,this.vertices[b].z),p.z=Math.min(p.z,this.vertices[b].z);for(var O=h.default.Vector.lerp(m,p,.5),N=h.default.Vector.sub(m,p),R=200/Math.max(Math.max(N.x,N.y),N.z),k=0;k<this.vertices.length;k++)this.vertices[k].sub(O),this.vertices[k].mult(R)}return this}}])&&a(u.prototype,c),d}();var l=h.default.Geometry;C.default=l},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(E,W,C){"use strict";E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(E=E("../core/main"))&&E.__esModule?E:{default:E};function _(w,a){for(var l=0;l<a.length;l++){var d=a[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(w,d.key,d)}}var h=Array,f=function(w){return Array.isArray(w)};typeof Float32Array<"u"&&(h=Float32Array,f=function(w){return Array.isArray(w)||w instanceof Float32Array}),y.default.Matrix=function(){function w(){var u=this,c=w;if(u instanceof c)return arguments.length&&((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])instanceof y.default&&(this.p5=(c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new h([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new h([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var a,l,d;return a=w,d=[{key:"identity",value:function(u){return new y.default.Matrix(u)}}],(l=[{key:"set",value:function(u){var c=arguments;if(u instanceof y.default.Matrix?c=u.mat4:f(u)&&(c=u),16!==c.length)y.default._friendlyError("Expected 16 values but received ".concat(c.length,"."),"p5.Matrix.set");else for(var s=0;s<16;s++)this.mat4[s]=c[s];return this}},{key:"get",value:function(){return new y.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var u;return void 0!==this.mat3?((u=new y.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],u.mat3[1]=this.mat3[1],u.mat3[2]=this.mat3[2],u.mat3[3]=this.mat3[3],u.mat3[4]=this.mat3[4],u.mat3[5]=this.mat3[5],u.mat3[6]=this.mat3[6],u.mat3[7]=this.mat3[7],u.mat3[8]=this.mat3[8]):((u=new y.default.Matrix(this.p5)).mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15]),u}},{key:"transpose",value:function(u){var c,s,m,p,b,O;return u instanceof y.default.Matrix?(c=u.mat4[1],s=u.mat4[2],m=u.mat4[3],p=u.mat4[6],b=u.mat4[7],O=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=c,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=s,this.mat4[9]=p,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=m,this.mat4[13]=b,this.mat4[14]=O,this.mat4[15]=u.mat4[15]):f(u)&&(c=u[1],s=u[2],m=u[3],p=u[6],b=u[7],O=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=c,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=s,this.mat4[9]=p,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=m,this.mat4[13]=b,this.mat4[14]=O,this.mat4[15]=u[15]),this}},{key:"invert",value:function(H){H instanceof y.default.Matrix?(c=H.mat4[0],s=H.mat4[1],m=H.mat4[2],p=H.mat4[3],b=H.mat4[4],O=H.mat4[5],N=H.mat4[6],R=H.mat4[7],k=H.mat4[8],A=H.mat4[9],$=H.mat4[10],j=H.mat4[11],S=H.mat4[12],D=H.mat4[13],V=H.mat4[14],Z=H.mat4[15]):f(H)&&(c=H[0],s=H[1],m=H[2],p=H[3],b=H[4],O=H[5],N=H[6],R=H[7],k=H[8],A=H[9],$=H[10],j=H[11],S=H[12],D=H[13],V=H[14],Z=H[15]);var c,s,m,p,b,O,N,R,k,A,$,j,S,D,V,Z,Q=c*N-m*b,Y=c*R-p*b,q=s*N-m*O,ne=s*R-p*O,de=m*R-p*N,xe=k*D-A*S,K=k*V-$*S,L=k*Z-j*S,re=A*V-$*D,ge=A*Z-j*D,Me=$*Z-j*V,Le=(H=c*O-s*b)*Me-Q*ge+Y*re+q*L-ne*K+de*xe;return Le?(this.mat4[0]=(O*Me-N*ge+R*re)*(Le=1/Le),this.mat4[1]=(m*ge-s*Me-p*re)*Le,this.mat4[2]=(D*de-V*ne+Z*q)*Le,this.mat4[3]=($*ne-A*de-j*q)*Le,this.mat4[4]=(N*L-b*Me-R*K)*Le,this.mat4[5]=(c*Me-m*L+p*K)*Le,this.mat4[6]=(V*Y-S*de-Z*Q)*Le,this.mat4[7]=(k*de-$*Y+j*Q)*Le,this.mat4[8]=(b*ge-O*L+R*xe)*Le,this.mat4[9]=(s*L-c*ge-p*xe)*Le,this.mat4[10]=(S*ne-D*Y+Z*H)*Le,this.mat4[11]=(A*Y-k*ne-j*H)*Le,this.mat4[12]=(O*K-b*re-N*xe)*Le,this.mat4[13]=(c*re-s*K+m*xe)*Le,this.mat4[14]=(D*Q-S*q-V*H)*Le,this.mat4[15]=(k*q-A*Q+$*H)*Le,this):null}},{key:"invert3x3",value:function(){var u=this.mat3[0],c=this.mat3[1],s=this.mat3[2],m=this.mat3[3],p=this.mat3[4],b=this.mat3[5],O=this.mat3[6],N=this.mat3[7],R=this.mat3[8],k=R*p-b*N,A=-R*m+b*O,$=N*m-p*O,j=u*k+c*A+s*$;return j?(this.mat3[0]=k*(j=1/j),this.mat3[1]=(-R*c+s*N)*j,this.mat3[2]=(b*c-s*p)*j,this.mat3[3]=A*j,this.mat3[4]=(R*u-s*O)*j,this.mat3[5]=(-b*u+s*m)*j,this.mat3[6]=$*j,this.mat3[7]=(-N*u+c*O)*j,this.mat3[8]=(p*u-c*m)*j,this):null}},{key:"transpose3x3",value:function(u){var c=(u=void 0===u?this.mat3:u)[1],s=u[2],m=u[5];return this.mat3[0]=u[0],this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=c,this.mat3[4]=u[4],this.mat3[5]=u[7],this.mat3[6]=s,this.mat3[7]=m,this.mat3[8]=u[8],this}},{key:"inverseTranspose",value:function(u){if(u=u.mat4,void 0===this.mat3?y.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=u[0],this.mat3[1]=u[1],this.mat3[2]=u[2],this.mat3[3]=u[4],this.mat3[4]=u[5],this.mat3[5]=u[6],this.mat3[6]=u[8],this.mat3[7]=u[9],this.mat3[8]=u[10]),u=this.invert3x3())u.transpose3x3(this.mat3);else for(var c=0;c<9;c++)this.mat3[c]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(s){var c;if(s===this||s===this.mat4)c=this.copy().mat4;else if(s instanceof y.default.Matrix)c=s.mat4;else if(f(s))c=s;else{if(16!==arguments.length)return;c=arguments}var m=this.mat4[1],p=this.mat4[2],b=this.mat4[3];return this.mat4[0]=(s=this.mat4[0])*c[0]+m*c[4]+p*c[8]+b*c[12],this.mat4[1]=s*c[1]+m*c[5]+p*c[9]+b*c[13],this.mat4[2]=s*c[2]+m*c[6]+p*c[10]+b*c[14],this.mat4[3]=s*c[3]+m*c[7]+p*c[11]+b*c[15],this.mat4[4]=(s=this.mat4[4])*c[0]+(m=this.mat4[5])*c[4]+(p=this.mat4[6])*c[8]+(b=this.mat4[7])*c[12],this.mat4[5]=s*c[1]+m*c[5]+p*c[9]+b*c[13],this.mat4[6]=s*c[2]+m*c[6]+p*c[10]+b*c[14],this.mat4[7]=s*c[3]+m*c[7]+p*c[11]+b*c[15],this.mat4[8]=(s=this.mat4[8])*c[0]+(m=this.mat4[9])*c[4]+(p=this.mat4[10])*c[8]+(b=this.mat4[11])*c[12],this.mat4[9]=s*c[1]+m*c[5]+p*c[9]+b*c[13],this.mat4[10]=s*c[2]+m*c[6]+p*c[10]+b*c[14],this.mat4[11]=s*c[3]+m*c[7]+p*c[11]+b*c[15],this.mat4[12]=(s=this.mat4[12])*c[0]+(m=this.mat4[13])*c[4]+(p=this.mat4[14])*c[8]+(b=this.mat4[15])*c[12],this.mat4[13]=s*c[1]+m*c[5]+p*c[9]+b*c[13],this.mat4[14]=s*c[2]+m*c[6]+p*c[10]+b*c[14],this.mat4[15]=s*c[3]+m*c[7]+p*c[11]+b*c[15],this}},{key:"apply",value:function(s){var c;if(s===this||s===this.mat4)c=this.copy().mat4;else if(s instanceof y.default.Matrix)c=s.mat4;else if(f(s))c=s;else{if(16!==arguments.length)return;c=arguments}var p,b,O,m=((s=this.mat4)[0]=c[0]*(m=s[0])+c[1]*(p=s[4])+c[2]*(b=s[8])+c[3]*(O=s[12]),s[4]=c[4]*m+c[5]*p+c[6]*b+c[7]*O,s[8]=c[8]*m+c[9]*p+c[10]*b+c[11]*O,s[12]=c[12]*m+c[13]*p+c[14]*b+c[15]*O,s[1]);return s[1]=c[0]*m+c[1]*(p=s[5])+c[2]*(b=s[9])+c[3]*(O=s[13]),s[5]=c[4]*m+c[5]*p+c[6]*b+c[7]*O,s[9]=c[8]*m+c[9]*p+c[10]*b+c[11]*O,s[13]=c[12]*m+c[13]*p+c[14]*b+c[15]*O,s[2]=c[0]*(m=s[2])+c[1]*(p=s[6])+c[2]*(b=s[10])+c[3]*(O=s[14]),s[6]=c[4]*m+c[5]*p+c[6]*b+c[7]*O,s[10]=c[8]*m+c[9]*p+c[10]*b+c[11]*O,s[14]=c[12]*m+c[13]*p+c[14]*b+c[15]*O,s[3]=c[0]*(m=s[3])+c[1]*(p=s[7])+c[2]*(b=s[11])+c[3]*(O=s[15]),s[7]=c[4]*m+c[5]*p+c[6]*b+c[7]*O,s[11]=c[8]*m+c[9]*p+c[10]*b+c[11]*O,s[15]=c[12]*m+c[13]*p+c[14]*b+c[15]*O,this}},{key:"scale",value:function(u,c,s){return u instanceof y.default.Vector?(c=u.y,s=u.z,u=u.x):u instanceof Array&&(c=u[1],s=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=c,this.mat4[5]*=c,this.mat4[6]*=c,this.mat4[7]*=c,this.mat4[8]*=s,this.mat4[9]*=s,this.mat4[10]*=s,this.mat4[11]*=s,this}},{key:"rotate",value:function(H,ge,re,m){ge instanceof y.default.Vector?(re=ge.y,m=ge.z,ge=ge.x):ge instanceof Array&&(re=ge[1],m=ge[2],ge=ge[0]);var p=(ge*=1/(p=Math.sqrt(ge*ge+re*re+m*m)),re*=1/p,m*=1/p,this.mat4[0]),b=this.mat4[1],O=this.mat4[2],N=this.mat4[3],R=this.mat4[4],k=this.mat4[5],A=this.mat4[6],$=this.mat4[7],j=this.mat4[8],S=this.mat4[9],D=this.mat4[10],V=this.mat4[11],Z=Math.sin(H),Q=1-(H=Math.cos(H)),Y=ge*ge*Q+H,q=re*ge*Q+m*Z,ne=m*ge*Q-re*Z,de=ge*re*Q-m*Z,xe=re*re*Q+H,K=m*re*Q+ge*Z,L=ge*m*Q+re*Z;return re=re*m*Q-ge*Z,ge=m*m*Q+H,this.mat4[0]=p*Y+R*q+j*ne,this.mat4[1]=b*Y+k*q+S*ne,this.mat4[2]=O*Y+A*q+D*ne,this.mat4[3]=N*Y+$*q+V*ne,this.mat4[4]=p*de+R*xe+j*K,this.mat4[5]=b*de+k*xe+S*K,this.mat4[6]=O*de+A*xe+D*K,this.mat4[7]=N*de+$*xe+V*K,this.mat4[8]=p*L+R*re+j*ge,this.mat4[9]=b*L+k*re+S*ge,this.mat4[10]=O*L+A*re+D*ge,this.mat4[11]=N*L+$*re+V*ge,this}},{key:"translate",value:function(m){var c=m[0],s=m[1];this.mat4[12]+=this.mat4[0]*c+this.mat4[4]*s+this.mat4[8]*(m=m[2]||0),this.mat4[13]+=this.mat4[1]*c+this.mat4[5]*s+this.mat4[9]*m,this.mat4[14]+=this.mat4[2]*c+this.mat4[6]*s+this.mat4[10]*m,this.mat4[15]+=this.mat4[3]*c+this.mat4[7]*s+this.mat4[11]*m}},{key:"rotateX",value:function(u){this.rotate(u,1,0,0)}},{key:"rotateY",value:function(u){this.rotate(u,0,1,0)}},{key:"rotateZ",value:function(u){this.rotate(u,0,0,1)}},{key:"perspective",value:function(p,c,s,m){p=1/Math.tan(p/2);var b=1/(s-m);return this.mat4[0]=p/c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(m+s)*b,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*m*s*b,this.mat4[15]=0,this}},{key:"ortho",value:function(u,c,s,m,p,b){var O=1/(u-c),N=1/(s-m),R=1/(p-b);return this.mat4[0]=-2*O,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*N,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*R,this.mat4[11]=0,this.mat4[12]=(u+c)*O,this.mat4[13]=(m+s)*N,this.mat4[14]=(b+p)*R,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(u,c,s,m){var p=new Array(4),b=this.mat4;return p[0]=b[0]*u+b[4]*c+b[8]*s+b[12]*m,p[1]=b[1]*u+b[5]*c+b[9]*s+b[13]*m,p[2]=b[2]*u+b[6]*c+b[10]*s+b[14]*m,p[3]=b[3]*u+b[7]*c+b[11]*s+b[15]*m,p}},{key:"multiplyPoint",value:function(s){var m=this.multiplyVec4(m=s.x,s.y,s=s.z,1);return new y.default.Vector(m[0],m[1],m[2])}},{key:"multiplyAndNormalizePoint",value:function(s){var m;return(m=this.multiplyVec4(m=s.x,s.y,s=s.z,1))[0]/=m[3],m[1]/=m[3],m[2]/=m[3],new y.default.Vector(m[0],m[1],m[2])}},{key:"multiplyDirection",value:function(s){var m=this.multiplyVec4(m=s.x,s.y,s=s.z,0);return new y.default.Vector(m[0],m[1],m[2])}},{key:"mult3x3",value:function(s){var c;if(s===this||s===this.mat3)c=this.copy().mat3;else if(s instanceof y.default.Matrix)c=s.mat3;else if(f(s))c=s;else{if(9!==arguments.length)return;c=arguments}var m=this.mat3[1],p=this.mat3[2];return this.mat3[0]=(s=this.mat3[0])*c[0]+m*c[3]+p*c[6],this.mat3[1]=s*c[1]+m*c[4]+p*c[7],this.mat3[2]=s*c[2]+m*c[5]+p*c[8],this.mat3[3]=(s=this.mat3[3])*c[0]+(m=this.mat3[4])*c[3]+(p=this.mat3[5])*c[6],this.mat3[4]=s*c[1]+m*c[4]+p*c[7],this.mat3[5]=s*c[2]+m*c[5]+p*c[8],this.mat3[6]=(s=this.mat3[6])*c[0]+(m=this.mat3[7])*c[3]+(p=this.mat3[8])*c[6],this.mat3[7]=s*c[1]+m*c[4]+p*c[7],this.mat3[8]=s*c[2]+m*c[5]+p*c[8],this}},{key:"column",value:function(u){return new y.default.Vector(this.mat3[3*u],this.mat3[3*u+1],this.mat3[3*u+2])}},{key:"row",value:function(u){return new y.default.Vector(this.mat3[u],this.mat3[u+3],this.mat3[u+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(u,c){return(c=void 0===c?u.copy():c).x=this.row(0).dot(u),c.y=this.row(1).dot(u),c.z=this.row(2).dot(u),c}},{key:"createSubMatrix3x3",value:function(){var u=new y.default.Matrix("mat3");return u.mat3[0]=this.mat4[0],u.mat3[1]=this.mat4[1],u.mat3[2]=this.mat4[2],u.mat3[3]=this.mat4[4],u.mat3[4]=this.mat4[5],u.mat3[5]=this.mat4[6],u.mat3[6]=this.mat4[8],u.mat3[7]=this.mat4[9],u.mat3[8]=this.mat4[10],u}}])&&_(a.prototype,l),d&&_(a,d),w}(),C.default=E=y.default.Matrix},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(o,W,C){"use strict";function y(_,h){for(var f=0;f<h.length;f++){var E=h[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function _(w,a,l,d,u,c){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.size=w,this.src=a,this.dst=l,this.attr=d,this._renderer=u,this.map=c}var h,f;return h=_,(f=[{key:"_prepareBuffer",value:function(w,a){var l,d,u,m,c=this._renderer.GL,s=w.model||w;(m=(m=a.attributes)[this.attr])&&(l=w[this.dst],0<(d=s[this.src]).length?((u=!l)&&(w[this.dst]=l=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,l),!u&&!1===s.dirtyFlags[this.src]||(u=(w=this.map)?w(d):d,this._renderer._bindBuffer(l,c.ARRAY_BUFFER,u),s.dirtyFlags[this.src]=!1),a.enableAttrib(m,this.size)):-1!==(w=m.location)&&this._renderer.registerEnabled.has(w)&&(c.disableVertexAttribArray(w),this._renderer.registerEnabled.delete(w)))}}])&&y(h.prototype,f),_}(),C.default=o=o.default.RenderBuffer},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(o,W,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(l=o("../core/main"))&&l.__esModule?l:{default:l},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=E();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(o("../core/constants"));function E(){var d;return"function"!=typeof WeakMap?null:(E=function(){return d},d=new WeakMap)}function w(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),h.default.RendererGL.prototype.beginShape=function(d){return this.immediateMode.shapeMode=void 0!==d?d:f.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var a={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(h.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==f.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},h.default.RendererGL.prototype.vertex=function(d,u){if(this.immediateMode.shapeMode===f.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var c in a){var s=a[c];(c=this.immediateMode.geometry[c]).push.apply(c,w(c.slice(c.length-3*s,c.length-2*s)).concat(w(c.slice(c.length-s,c.length))))}var m,p,b=m=p=0,O=(3===arguments.length?b=arguments[2]:4===arguments.length?(m=arguments[2],p=arguments[3]):5===arguments.length&&(b=arguments[2],m=arguments[3],p=arguments[4]),new h.default.Vector(d,u,b));return this.immediateMode.geometry.vertices.push(O),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((O=this.curFillColor||[.5,.5,.5,1])[0],O[1],O[2],O[3]),this.immediateMode.geometry.vertexStrokeColors.push((O=this.curStrokeColor||[.5,.5,.5,1])[0],O[1],O[2],O[3]),this.textureMode!==f.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(m/=this._tex.width,p/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(m,p),this.immediateMode._bezierVertex[0]=d,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=b,this.immediateMode._quadraticVertex[0]=d,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=b,this},h.default.RendererGL.prototype.normal=function(d,u,c){return this._currentNormal=d instanceof h.default.Vector?d:new h.default.Vector(d,u,c),this},h.default.RendererGL.prototype.endShape=function(d,u,c,s,m,p){var b=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===f.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this.immediateMode.shapeMode!==f.LINE_STRIP&&this.immediateMode.shapeMode!==f.LINES||(this.immediateMode.shapeMode=f.TRIANGLE_FAN),this.immediateMode.shapeMode===f.QUADS?this.immediateMode.shapeMode=f.TRIANGLES:this.immediateMode.shapeMode===f.QUAD_STRIP&&(this.immediateMode.shapeMode=f.TRIANGLE_STRIP),this._doFill&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(b),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},h.default.RendererGL.prototype._processVertices=function(d){var u;0!==this.immediateMode.geometry.vertices.length&&(d=d===f.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,d),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),u=this.immediateMode.shapeMode===f.TESS,d=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||u||d)&&this.immediateMode.shapeMode!==f.LINES&&this._tesselateShape())},h.default.RendererGL.prototype._calculateEdges=function(d,u,c){var s=[],m=0,p=this.immediateMode.contourIndices.slice(),b=0;switch(d){case f.TRIANGLE_STRIP:for(m=0;m<u.length-2;m++)s.push([m,m+1]),s.push([m,m+2]);s.push([m,m+1]);break;case f.TRIANGLE_FAN:for(m=1;m<u.length-1;m++)s.push([0,m]),s.push([m,m+1]);s.push([0,u.length-1]);break;case f.TRIANGLES:for(m=0;m<u.length-2;m+=3)s.push([m,m+1]),s.push([m+1,m+2]),s.push([m+2,m]);break;case f.LINES:for(m=0;m<u.length-1;m+=2)s.push([m,m+1]);break;case f.QUADS:for(m=0;m<u.length-5;m+=6)s.push([m,m+1]),s.push([m+1,m+2]),s.push([m+3,m+5]),s.push([m+4,m+5]);break;case f.QUAD_STRIP:for(m=0;m<u.length-2;m+=2)s.push([m,m+1]),s.push([m,m+2]),s.push([m+1,m+3]);s.push([m,m+1]);break;default:for(m=0;m<u.length;m++)m+1<u.length&&m+1!==p[0]?s.push([m,m+1]):((c||b)&&s.push([m,b]),0<p.length&&(b=p.shift()))}return d!==f.TESS&&c&&s.push([u.length-1,0]),s},h.default.RendererGL.prototype._tesselateShape=function(){for(var d=this,u=(this.immediateMode.shapeMode=f.TRIANGLES,[[]]),c=0;c<this.immediateMode.geometry.vertices.length;c++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===c&&(this.immediateMode.contourIndices.shift(),u.push([])),u[u.length-1].push(this.immediateMode.geometry.vertices[c].x,this.immediateMode.geometry.vertices[c].y,this.immediateMode.geometry.vertices[c].z,this.immediateMode.geometry.uvs[2*c],this.immediateMode.geometry.uvs[2*c+1],this.immediateMode.geometry.vertexColors[4*c],this.immediateMode.geometry.vertexColors[4*c+1],this.immediateMode.geometry.vertexColors[4*c+2],this.immediateMode.geometry.vertexColors[4*c+3],this.immediateMode.geometry.vertexNormals[c].x,this.immediateMode.geometry.vertexNormals[c].y,this.immediateMode.geometry.vertexNormals[c].z);for(var s,m=this._triangulate(u),p=this.immediateMode.geometry.vertices,b=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),O=0,N=m.length;O<N;O+=h.default.RendererGL.prototype.tessyVertexSize)b.push.apply(b,w(m.slice(O+5,O+9))),this.normal.apply(this,w(m.slice(O+9,O+12))),this.vertex.apply(this,w(m.slice(O,O+5)));this.geometryBuilder&&(s=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(R){return R.map(function(k){if(!s.has(k)){var A=p[k],$=d.immediateMode.geometry.vertices.findIndex(function(Q){return A.x===Q.x&&A.y===Q.y&&A.z===Q.z});if(-1===$){for(var j=1/0,S=0,D=0;D<d.immediateMode.geometry.vertices.length;D++){var Z,H,V=A.y-(Z=d.immediateMode.geometry.vertices[D]).y;(H=(H=A.x-Z.x)*H+V*V+(Z=A.z-Z.z)*Z)<j&&(j=H,S=D)}$=S}s.set(k,$)}return s.get(k)})})),this.immediateMode.geometry.vertexColors=b},h.default.RendererGL.prototype._drawImmediateFill=function(){var d,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,c=this.GL,s=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,d=this._getImmediateFillShader(),this._setFillUniforms(d),!0),m=!1,p=void 0;try{for(var b,O=this.immediateMode.buffers.fill[Symbol.iterator]();!(s=(b=O.next()).done);s=!0)b.value._prepareBuffer(this.immediateMode.geometry,d)}catch(N){m=!0,p=N}finally{try{s||null==O.return||O.return()}finally{if(m)throw p}}if(d.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===u)c.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{c.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,u)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}d.unbindShader()},h.default.RendererGL.prototype._drawImmediateStroke=function(){var d=this.GL,u=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),c=(this._setStrokeUniforms(u),!0),s=!1,m=void 0;try{for(var p,b=this.immediateMode.buffers.stroke[Symbol.iterator]();!(c=(p=b.next()).done);c=!0)p.value._prepareBuffer(this.immediateMode.geometry,u)}catch(O){s=!0,m=O}finally{try{c||null==b.return||b.return()}finally{if(s)throw m}}u.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),d.drawArrays(d.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),u.unbindShader()},h.default.RendererGL);C.default=l},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(o,W,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=o("../core/main"))&&w.__esModule?w:{default:w},f=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(o("../core/constants")));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}h.default.RendererGL.prototype.freeGeometry=function(a){a.gid?this._freeBuffers(a.gid):console.warn("The model you passed to freeGeometry does not have an id!")},h.default.RendererGL.prototype._initBufferDefaults=function(a){var l;return this._freeBuffers(a),1e3<Object.keys(this.retainedMode.geometry).length&&(l=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(l)),this.retainedMode.geometry[a]={}},h.default.RendererGL.prototype._freeBuffers=function(a){var l,d=this.retainedMode.geometry[a];function u(c){var s=!0,m=!1,p=void 0;try{for(var b,O=c[Symbol.iterator]();!(s=(b=O.next()).done);s=!0){var N=b.value;d[N.dst]&&(l.deleteBuffer(d[N.dst]),d[N.dst]=null)}}catch(R){m=!0,p=R}finally{try{s||null==O.return||O.return()}finally{if(m)throw p}}}d&&(delete this.retainedMode.geometry[a],l=this.GL,d.indexBuffer&&l.deleteBuffer(d.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill))},h.default.RendererGL.prototype.createBuffers=function(m,l){var d,u,c,s=this.GL,p=((m=this._initBufferDefaults(m)).model=l,m.indexBuffer);return l.faces.length?(p=p||(m.indexBuffer=s.createBuffer()),c=(u=(d=h.default.RendererGL.prototype._flatten(l.faces)).some(function(b){return 65535<b}))?Uint32Array:Uint16Array,this._bindBuffer(p,s.ELEMENT_ARRAY_BUFFER,d,c),m.indexBufferType=u?s.UNSIGNED_INT:s.UNSIGNED_SHORT,m.vertexCount=3*l.faces.length):(p&&(s.deleteBuffer(p),m.indexBuffer=null),m.vertexCount=l.vertices?l.vertices.length:0),m.lineVertexCount=l.lineVertices?l.lineVertices.length/3:0,m},h.default.RendererGL.prototype.drawBuffers=function(a){var l=this.GL,d=this.retainedMode.geometry[a];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[a].vertexCount){this._useVertexColor=0<d.model.vertexColors.length;var u=this._getRetainedFillShader(),c=(this._setFillUniforms(u),!0),s=!1,m=void 0;try{for(var p,b=this.retainedMode.buffers.fill[Symbol.iterator]();!(c=(p=b.next()).done);c=!0)p.value._prepareBuffer(d,u)}catch(A){s=!0,m=A}finally{try{c||null==b.return||b.return()}finally{if(s)throw m}}u.disableRemainingAttributes(),d.indexBuffer&&this._bindBuffer(d.indexBuffer,l.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,d.model.hasFillTransparency()),this._drawElements(l.TRIANGLES,a),u.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<d.lineVertexCount){this._useLineColor=0<d.model.vertexStrokeColors.length;var O=this._getRetainedStrokeShader(),N=(this._setStrokeUniforms(O),!0);s=!1,m=void 0;try{for(var R,k=this.retainedMode.buffers.stroke[Symbol.iterator]();!(N=(R=k.next()).done);N=!0)R.value._prepareBuffer(d,O)}catch(j){s=!0,m=j}finally{try{N||null==k.return||k.return()}finally{if(s)throw m}}O.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,d.model.hasStrokeTransparency()),this._drawArrays(l.TRIANGLES,a),O.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(d),this},h.default.RendererGL.prototype.drawBuffersScaled=function(a,l,d,u){var c=this.uMVMatrix.copy();try{this.uMVMatrix.scale(l,d,u),this.drawBuffers(a)}finally{this.uMVMatrix=c}},h.default.RendererGL.prototype._drawArrays=function(a,l){return this.GL.drawArrays(a,0,this.retainedMode.geometry[l].lineVertexCount),this},h.default.RendererGL.prototype._drawElements=function(a,d){var u=this.GL;if((d=this.retainedMode.geometry[d]).indexBuffer){if(this._pInst.webglVersion!==f.WEBGL2&&d.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,d.vertexCount,d.indexBufferType,0)}else u.drawArrays(a||u.TRIANGLES,0,d.vertexCount)},h.default.RendererGL.prototype._drawPoints=function(a,l){var d=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(l,d.ARRAY_BUFFER,this._vToNArray(a),Float32Array,d.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),d.drawArrays(d.Points,0,a.length),u.unbindShader()};var w=h.default.RendererGL;C.default=w},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(D,W,C){"use strict";function y(q){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(q)}function _(q){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(ne){return y(ne)}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":y(ne)})(q)}D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.copy-within"),D("core-js/modules/es.array.every"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.flat"),D("core-js/modules/es.array.flat-map"),D("core-js/modules/es.array.from"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.array.map"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.array.some"),D("core-js/modules/es.array.unscopables.flat"),D("core-js/modules/es.array.unscopables.flat-map"),D("core-js/modules/es.map"),D("core-js/modules/es.object.assign"),D("core-js/modules/es.object.get-own-property-descriptor"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.reflect.construct"),D("core-js/modules/es.reflect.get"),D("core-js/modules/es.regexp.to-string"),D("core-js/modules/es.set"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.float64-array"),D("core-js/modules/es.typed-array.int16-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint16-array"),D("core-js/modules/es.typed-array.uint32-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/es.weak-map"),D("core-js/modules/web.dom-collections.iterator"),D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.copy-within"),D("core-js/modules/es.array.every"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.flat"),D("core-js/modules/es.array.flat-map"),D("core-js/modules/es.array.from"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.array.map"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.array.some"),D("core-js/modules/es.array.unscopables.flat"),D("core-js/modules/es.array.unscopables.flat-map"),D("core-js/modules/es.map"),D("core-js/modules/es.object.assign"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.set"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.float64-array"),D("core-js/modules/es.typed-array.int16-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint16-array"),D("core-js/modules/es.typed-array.uint32-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.readPixelsWebGL=Q,C.readPixelWebGL=Y,C.default=void 0;var h=d(D("../core/main")),f=function(q){if(q&&q.__esModule)return q;if(null===q||"object"!==_(q)&&"function"!=typeof q)return{default:q};var ne=l();if(ne&&ne.has(q))return ne.get(q);var de,xe={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(de in q){var L;Object.prototype.hasOwnProperty.call(q,de)&&((L=K?Object.getOwnPropertyDescriptor(q,de):null)&&(L.get||L.set)?Object.defineProperty(xe,de,L):xe[de]=q[de])}return xe.default=q,ne&&ne.set(q,xe),xe}(D("../core/constants")),E=d(D("./GeometryBuilder")),w=d(D("libtess")),a=(D("./p5.Shader"),D("./p5.Camera"),D("../core/p5.Renderer"),D("./p5.Matrix"),D("./p5.Framebuffer"),D("path"),D("./p5.Texture"));function l(){var q;return"function"!=typeof WeakMap?null:(l=function(){return q},q=new WeakMap)}function d(q){return q&&q.__esModule?q:{default:q}}function u(q){return function(ne){if(Array.isArray(ne)){for(var de=0,xe=new Array(ne.length);de<ne.length;de++)xe[de]=ne[de];return xe}}(q)||function(ne){if(Symbol.iterator in Object(ne)||"[object Arguments]"===Object.prototype.toString.call(ne))return Array.from(ne)}(q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(q,ne){for(var de=0;de<ne.length;de++){var xe=ne[de];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(q,xe.key,xe)}}function s(q,ne,de){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(re,K,L){if(re=function(ge,Me){for(;!Object.prototype.hasOwnProperty.call(ge,Me)&&null!==(ge=O(ge)););return ge}(re,K))return(re=Object.getOwnPropertyDescriptor(re,K)).get?re.get.call(L):re.value})(q,ne,de||q)}function m(q,ne){return(m=Object.setPrototypeOf||function(de,xe){return de.__proto__=xe,de})(q,ne)}function b(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function O(q){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)})(q)}function N(q,ne,de){ne in q?Object.defineProperty(q,ne,{value:de,enumerable:!0,configurable:!0,writable:!0}):q[ne]=de}function R(q,ne){S+="#define STROKE_CAP_".concat(q," ").concat(ne,"\n"),$[f[q]]=ne}function k(q,ne){S+="#define STROKE_JOIN_".concat(q," ").concat(ne,"\n"),j[f[q]]=ne}var A,$={},j={},S="",V={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(R("ROUND",0),R("PROJECT",1),R("SQUARE",2),k("ROUND",0),k("MITER",1),k("BEVEL",2),(D='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:D+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:S+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:S+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},Z=V.sphereMappingFrag;for(A in V)V[A]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+V[A];N(D={},f.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),N(D,f.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),N(D,f.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),N(D,f.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),N(D,f.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),N(D,f.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),N(D,f.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),N(D,f.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var H=D;function Q(q,ne,et,xe,K,L,re,ge,Me,Le){var Ye=ne.getParameter(ne.FRAMEBUFFER_BINDING),Oe=L*re*(ne.bindFramebuffer(ne.FRAMEBUFFER,et),et=ge===ne.RGBA?4:3),Ge=Me===ne.UNSIGNED_BYTE?Uint8Array:Float32Array;if(q instanceof Ge&&q.length===Oe||(q=new Ge(Oe)),ne.readPixels(xe,Le?Le-K-re:K,L,re,ge,Me,q),ne.bindFramebuffer(ne.FRAMEBUFFER,Ye),Le)for(var Be=Math.floor(re/2),Ae=new Ge(L*et),Qe=0;Qe<Be;Qe++){var Ke=Qe*L*4,vt=(re-Qe-1)*L*4;Ae.set(q.subarray(Ke,Ke+4*L)),q.copyWithin(Ke,vt,vt+4*L),q.set(Ae,vt)}return q}function Y(q,Me,de,xe,K,L,re){var ge=q.getParameter(q.FRAMEBUFFER_BINDING);return q.bindFramebuffer(q.FRAMEBUFFER,Me),Me=K===q.RGBA?4:3,Me=new(L===q.UNSIGNED_BYTE?Uint8Array:Float32Array)(Me),q.readPixels(de,re?re-xe-1:xe,1,1,K,L,Me),q.bindFramebuffer(q.FRAMEBUFFER,ge),Array.from(Me)}h.default.prototype.setAttributes=function(q,ne){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var de=!0;if(void 0!==ne?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[q]!==ne&&(this._glAttributes[q]=ne,de=!1)):q instanceof Object&&this._glAttributes!==q&&(this._glAttributes=q,de=!1),this._renderer.isP3D&&!de){if(!this._setupDone)for(var xe in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(xe))return void h.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},h.default.RendererGL=function(q){var ne=K;if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(q&&q.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),q&&m(ne,q);var xe=function p(q){return function(){var ne,de,xe=O(q);return ne=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(ne=O(this).constructor,Reflect.construct(xe,arguments,ne)):xe.apply(this,arguments),xe=this,!(de=ne)||"object"!==_(de)&&"function"!=typeof de?b(xe):de}}(K);function K(L,re,ge,Me){if(this instanceof K)return(L=xe.call(this,L,re,ge))._setAttributeDefaults(re),L._initContext(),L.isP3D=!0,L.geometryBuilder=void 0,L.GL=L.drawingContext,L._pInst._setProperty("drawingContext",L.drawingContext),L._isErasing=!1,L._clipDepths=[],L._isClipApplied=!1,L._stencilTestOn=!1,L._enableLighting=!1,L.ambientLightColors=[],L.mixedAmbientLight=[],L.mixedSpecularColor=[],L.specularColors=[1,1,1],L.directionalLightDirections=[],L.directionalLightDiffuseColors=[],L.directionalLightSpecularColors=[],L.pointLightPositions=[],L.pointLightDiffuseColors=[],L.pointLightSpecularColors=[],L.spotLightPositions=[],L.spotLightDirections=[],L.spotLightDiffuseColors=[],L.spotLightSpecularColors=[],L.spotLightAngle=[],L.spotLightConc=[],L.activeImageLight=null,L.diffusedTextures=new Map,L.specularTextures=new Map,L.drawMode=f.FILL,L.curFillColor=L._cachedFillStyle=[1,1,1,1],L.curAmbientColor=L._cachedFillStyle=[1,1,1,1],L.curSpecularColor=L._cachedFillStyle=[0,0,0,0],L.curEmissiveColor=L._cachedFillStyle=[0,0,0,0],L.curStrokeColor=L._cachedStrokeStyle=[0,0,0,1],L.curBlendMode=f.BLEND,L.preEraseBlend=void 0,L._cachedBlendMode=void 0,L.blendExt=L.webglVersion===f.WEBGL2?L.GL:L.GL.getExtension("EXT_blend_minmax"),L._isBlending=!1,L._hasSetAmbient=!1,L._useSpecularMaterial=!1,L._useEmissiveMaterial=!1,L._useNormalMaterial=!1,L._useShininess=1,L._useMetalness=0,L._useLineColor=!1,L._useVertexColor=!1,L.registerEnabled=new Set,L._tint=[255,255,255,255],L.constantAttenuation=1,L.linearAttenuation=0,L.quadraticAttenuation=0,L.uMVMatrix=new h.default.Matrix,L.uPMatrix=new h.default.Matrix,L.uNMatrix=new h.default.Matrix("mat3"),L.curMatrix=new h.default.Matrix("mat3"),L._currentNormal=new h.default.Vector(0,0,1),L._curCamera=new h.default.Camera(b(L)),L._curCamera._computeCameraDefaultSettings(),L._curCamera._setDefaultCamera(),L.filterCamera=new h.default.Camera(b(L)),L.filterCamera._computeCameraDefaultSettings(),L.filterCamera._setDefaultCamera(),L.prevTouches=[],L.zoomVelocity=0,L.rotateVelocity=new h.default.Vector(0,0),L.moveVelocity=new h.default.Vector(0,0),L.executeZoom=!1,L.executeRotateAndMove=!1,L.specularShader=void 0,L.sphereMapping=void 0,L.diffusedShader=void 0,L._defaultLightShader=void 0,L._defaultImmediateModeShader=void 0,L._defaultNormalShader=void 0,L._defaultColorShader=void 0,L._defaultPointShader=void 0,L.userFillShader=void 0,L.userStrokeShader=void 0,L.userPointShader=void 0,L.retainedMode={geometry:{},buffers:{stroke:[new h.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(L)),new h.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(L)),new h.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(L)),new h.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(L)),new h.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(L))],fill:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(L),L._vToNArray),new h.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(L),L._vToNArray),new h.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(L)),new h.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(L)),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(L),L._flatten)],text:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(L),L._vToNArray),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(L),L._flatten)]}},L.immediateMode={geometry:new h.default.Geometry,shapeMode:f.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(L),L._vToNArray),new h.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(L),L._vToNArray),new h.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(L)),new h.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(L)),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(L),L._flatten)],stroke:[new h.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(L)),new h.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(L)),new h.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(L)),new h.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(L)),new h.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(L))],point:L.GL.createBuffer()}},L.pointSize=5,L.curStrokeWeight=1,L.curStrokeCap=f.ROUND,L.curStrokeJoin=f.ROUND,L.textures=new Map,L.framebuffers=new Set,L.activeFramebuffers=[],L.filterShader=void 0,L.filterLayer=void 0,L.filterLayerTemp=void 0,L.defaultFilterShaders={},L.textureMode=f.IMAGE,L.textureWrapX=f.CLAMP,L.textureWrapY=f.CLAMP,L._tex=null,L._curveTightness=6,L._lookUpTableBezier=[],L._lookUpTableQuadratic=[],L._lutBezierDetail=0,L._lutQuadraticDetail=0,L.isProcessingVertices=!1,L._tessy=L._initTessy(),L.fontInfos={},L._curShader=void 0,L;throw new TypeError("Cannot call a class as a function")}return ne=K,(q=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new E.default(this)}},{key:"endGeometry",value:function(){var L;if(this.geometryBuilder)return L=this.geometryBuilder.finish(),this.geometryBuilder=void 0,L;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(L){return this.beginGeometry(),L(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(L){var re={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};L._glAttributes=null===L._glAttributes?re:Object.assign(re,L._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?f.WEBGL2:f.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var L=this.drawingContext;L.enable(L.DEPTH_TEST),L.depthFunc(L.LEQUAL),L.viewport(0,0,L.drawingBufferWidth,L.drawingBufferHeight),L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(L,re){var ge,Me=this.width,Le=this.height,et=this.canvas.id,Ye=this._pInst instanceof h.default.Graphics;Ye?((ge=this._pInst).canvas.parentNode.removeChild(ge.canvas),ge.canvas=document.createElement("canvas"),(ge._pInst._userNode||document.body).appendChild(ge.canvas),h.default.Element.call(ge,ge.canvas,ge._pInst),ge.width=Me,ge.height=Le):((ge=this.canvas)&&ge.parentNode.removeChild(ge),(ge=document.createElement("canvas")).id=et,(this._pInst._userNode||document.body).appendChild(ge),this._pInst.canvas=ge,this.canvas=ge),et=new h.default.RendererGL(this._pInst.canvas,this._pInst,!Ye),this._pInst._setProperty("_renderer",et),et.resize(Me,Le),et._applyDefaults(),Ye||this._pInst._elements.push(et),"function"==typeof re&&setTimeout(function(){re.apply(window._renderer,L)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var Me=(Me=this._pInst).color.apply(Me,arguments);this.clear(Me.levels[0]/255,Me.levels[1]/255,Me.levels[2]/255,Me=Me.levels[3]/255)}},{key:"fill",value:function(L,re,ge,Me){var Le=h.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Le._array,this.drawMode=f.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(L,re,ge,Me){var Le=h.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Le._array}},{key:"strokeCap",value:function(L){this.curStrokeCap=L}},{key:"strokeJoin",value:function(L){this.curStrokeJoin=L}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(L,re){L.width===re.width&&L.height===re.height||L.resize(re.width,re.height),L.pixelDensity()!==re.pixelDensity()&&L.pixelDensity(re.pixelDensity())}},{key:"filter",value:function(){var L,re,ge=this,Me=this.getFilterLayer(),Le=void 0,Ye=void 0,et=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Ye=arguments.length<=0?void 0:arguments[0],N(L={},f.BLUR,3),N(L,f.POSTERIZE,4),N(L,f.THRESHOLD,.5),Le=Ye in L&&void 0===(arguments.length<=1?void 0:arguments[1])?L[Ye]:arguments.length<=1?void 0:arguments[1],Ye in this.defaultFilterShaders||(this.defaultFilterShaders[Ye]=new h.default.Shader(Me._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",H[Ye])),this.filterShader=this.defaultFilterShaders[Ye]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),Oe=(this.matchSize(Me,et),Me.draw(function(){return ge._pInst.clear()}),[1/(et.width*et.pixelDensity()),1/(et.height*et.pixelDensity())]);Ye===f.BLUR?(re=this.getFilterLayerTemp(),this.matchSize(re,et),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(f.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",Oe),this.filterShader.setUniform("canvasSize",[et.width,et.height]),this.filterShader.setUniform("radius",Math.max(1,Le)),re.draw(function(){ge.filterShader.setUniform("direction",[1,0]),ge.filterShader.setUniform("tex0",et),ge._pInst.clear(),ge._pInst.shader(ge.filterShader),ge._pInst.noLights(),ge._pInst.plane(et.width,et.height)}),Me.draw(function(){ge.filterShader.setUniform("direction",[0,1]),ge.filterShader.setUniform("tex0",re),ge._pInst.clear(),ge._pInst.shader(ge.filterShader),ge._pInst.noLights(),ge._pInst.plane(et.width,et.height)}),this._pInst.pop()):Me.draw(function(){ge._pInst.noStroke(),ge._pInst.blendMode(f.BLEND),ge._pInst.shader(ge.filterShader),ge.filterShader.setUniform("tex0",et),ge.filterShader.setUniform("texelSize",Oe),ge.filterShader.setUniform("canvasSize",[et.width,et.height]),ge.filterShader.setUniform("filterParameter",Le),ge._pInst.noLights(),ge._pInst.plane(et.width,et.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(f.CORNER),this._pInst.blendMode(f.BLEND),et.filterCamera._resize(),this._pInst.setCamera(et.filterCamera),this._pInst.resetMatrix(),this._pInst.image(Me,-et.width/2,-et.height/2,et.width,et.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(L){return L?this._pInst.pixelDensity(L):this._pInst.pixelDensity()}},{key:"blendMode",value:function(L){L===f.DARKEST||L===f.LIGHTEST||L===f.ADD||L===f.BLEND||L===f.SUBTRACT||L===f.SCREEN||L===f.EXCLUSION||L===f.REPLACE||L===f.MULTIPLY||L===f.REMOVE?this.curBlendMode=L:L!==f.BURN&&L!==f.OVERLAY&&L!==f.HARD_LIGHT&&L!==f.SOFT_LIGHT&&L!==f.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(L,re){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(f.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,L/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,re/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(s(O(K.prototype),"beginClip",this).call(this,L),this.drawTarget()._isClipApplied=!0,L=this.GL).clearStencil(0),L.clear(L.STENCIL_BUFFER_BIT),L.enable(L.STENCIL_TEST),this._stencilTestOn=!0,L.stencilFunc(L.ALWAYS,1,255),L.stencilOp(L.KEEP,L.KEEP,L.REPLACE),L.disable(L.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var L=this.GL;L.stencilOp(L.KEEP,L.KEEP,L.KEEP),L.stencilFunc(this._clipInvert?L.EQUAL:L.NOTEQUAL,0,255),L.enable(L.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),s(O(K.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(L){this.curStrokeWeight!==L&&(this.pointSize=L,this.curStrokeWeight=L)}},{key:"_getPixel",value:function(L,re){var ge=this.GL;return Y(ge,null,L,re,ge.RGBA,ge.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var L,re,ge=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):ge._setProperty("pixels",Q(ge.pixels,re=this.GL,null,0,0,this.width*(L=this._pInst._pixelDensity),this.height*L,re.RGBA,re.UNSIGNED_BYTE,this.height*L))}},{key:"updatePixels",value:function(){var L=this._getTempFramebuffer();L.pixels=this._pixelsState.pixels,L.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(f.CENTER),this._pInst.image(L,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:f.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:f.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(L){return void 0!==this.retainedMode.geometry[L]}},{key:"viewport",value:function(L,re){this._viewport=[0,0,L,re],this.GL.viewport(0,0,L,re)}},{key:"resize",value:function(Le,Me){h.default.Renderer.prototype.resize.call(this,Le,Me),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ge=(void 0!==(Le=this._pixelsState).pixels&&Le._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);Me=!1,Le=void 0;try{for(var Ye,et=this.framebuffers[Symbol.iterator]();!(ge=(Ye=et.next()).done);ge=!0)Ye.value._canvasSizeChanged()}catch(Oe){Me=!0,Le=Oe}finally{try{ge||null==et.return||et.return()}finally{if(Me)throw Le}}}},{key:"clear",value:function(){var L=(arguments.length<=0?void 0:arguments[0])||0,re=(arguments.length<=1?void 0:arguments[1])||0,ge=(arguments.length<=2?void 0:arguments[2])||0,Me=(arguments.length<=3?void 0:arguments[3])||0,Le=this.activeFramebuffer();Le&&Le.format===f.UNSIGNED_BYTE&&!Le.antialias&&0===Me&&(Me=1e-10),this.GL.clearColor(L*Me,re*Me,ge*Me,Me),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(L,re,ge,Me,Le,Ye){16===arguments.length?h.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([L,re,0,0,ge,Me,0,0,0,0,1,0,Le,Ye,0,1])}},{key:"translate",value:function(L,re,ge){return L instanceof h.default.Vector&&(ge=L.z,re=L.y,L=L.x),this.uMVMatrix.translate([L,re,ge]),this}},{key:"scale",value:function(L,re,ge){return this.uMVMatrix.scale(L,re,ge),this}},{key:"rotate",value:function(L,re){return void 0===re?this.rotateZ(L):(h.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(L){return this.rotate(L,1,0,0),this}},{key:"rotateY",value:function(L){return this.rotate(L,0,1,0),this}},{key:"rotateZ",value:function(L){return this.rotate(L,0,0,1),this}},{key:"push",value:function(){var L=h.default.Renderer.prototype.push.apply(this),re=L.properties;return re.uMVMatrix=this.uMVMatrix.copy(),re.uPMatrix=this.uPMatrix.copy(),re._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),re.ambientLightColors=this.ambientLightColors.slice(),re.specularColors=this.specularColors.slice(),re.directionalLightDirections=this.directionalLightDirections.slice(),re.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),re.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),re.pointLightPositions=this.pointLightPositions.slice(),re.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),re.pointLightSpecularColors=this.pointLightSpecularColors.slice(),re.spotLightPositions=this.spotLightPositions.slice(),re.spotLightDirections=this.spotLightDirections.slice(),re.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),re.spotLightSpecularColors=this.spotLightSpecularColors.slice(),re.spotLightAngle=this.spotLightAngle.slice(),re.spotLightConc=this.spotLightConc.slice(),re.userFillShader=this.userFillShader,re.userStrokeShader=this.userStrokeShader,re.userPointShader=this.userPointShader,re.pointSize=this.pointSize,re.curStrokeWeight=this.curStrokeWeight,re.curStrokeColor=this.curStrokeColor,re.curFillColor=this.curFillColor,re.curAmbientColor=this.curAmbientColor,re.curSpecularColor=this.curSpecularColor,re.curEmissiveColor=this.curEmissiveColor,re._hasSetAmbient=this._hasSetAmbient,re._useSpecularMaterial=this._useSpecularMaterial,re._useEmissiveMaterial=this._useEmissiveMaterial,re._useShininess=this._useShininess,re._useMetalness=this._useMetalness,re.constantAttenuation=this.constantAttenuation,re.linearAttenuation=this.linearAttenuation,re.quadraticAttenuation=this.quadraticAttenuation,re._enableLighting=this._enableLighting,re._useNormalMaterial=this._useNormalMaterial,re._tex=this._tex,re.drawMode=this.drawMode,re._currentNormal=this._currentNormal,re.curBlendMode=this.curBlendMode,re.activeImageLight=this.activeImageLight,L}},{key:"pop",value:function(){var L;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var re=arguments.length,ge=new Array(re),Me=0;Me<re;Me++)ge[Me]=arguments[Me];(L=s(O(K.prototype),"pop",this)).call.apply(L,[this].concat(ge)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var L=this.drawTarget();L._isClipApplied!==this._stencilTestOn&&(L._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var L=this.userStrokeShader;return L&&L.isStrokeShader()?L:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(L){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(Z)),this.uNMatrix.inverseTranspose(this.uMVMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",L),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var L=this.userFillShader;if(this._useNormalMaterial&&(!L||!L.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!L||!L.isLightShader())return this._getLightShader()}else if(this._tex){if(!L||!L.isTextureShader())return this._getLightShader()}else if(!L)return this._getImmediateModeShader();return L}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var L=this.userFillShader;if(this._enableLighting){if(!L||!L.isLightShader())return this._getLightShader()}else if(this._tex){if(!L||!L.isTextureShader())return this._getLightShader()}else if(!L)return this._getColorShader();return L}},{key:"_getImmediatePointShader",value:function(){var L=this.userPointShader;return L&&L.isPointShader()?L:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+V.phongFrag):new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+V.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===f.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(L,re){var ge="";return this.webglVersion===f.WEBGL2&&(ge+="#version 300 es\n#define WEBGL2\n"),"vert"===L?ge+="#define VERTEX_SHADER\n":"frag"===L&&(ge+="#define FRAGMENT_SHADER\n"),re&&(ge+="precision ".concat(re," float;\n")),ge}},{key:"_getEmptyTexture",value:function(){var L;return this._emptyTexture||((L=new h.default.Image(1,1)).set(0,0,255),this._emptyTexture=new h.default.Texture(this,L)),this._emptyTexture}},{key:"getTexture",value:function(L){L instanceof h.default.Framebuffer&&(L=L.color);var re=this.textures.get(L);return re||(re=new h.default.Texture(this,L),this.textures.set(L,re),re)}},{key:"getDiffusedTexture",value:function(L){var re,ge,Me=this;return null!=this.diffusedTextures.get(L)?this.diffusedTextures.get(L):(re=Math.floor(L.height/L.width*200),ge=this._pInst.createFramebuffer({width:200,height:re,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(V.imageLightVert,V.imageLightDiffusedFrag)),ge.draw(function(){Me._pInst.shader(Me.diffusedShader),Me.diffusedShader.setUniform("environmentMap",L),Me._pInst.noStroke(),Me._pInst.rectMode(f.CENTER),Me._pInst.noLights(),Me._pInst.rect(0,0,200,re)}),this.diffusedTextures.set(L,ge),ge)}},{key:"getSpecularTexture",value:function(L){var re=this;if(null!=this.specularTextures.get(L))return this.specularTextures.get(L);for(var ge,Me=[],Le=this._pInst.createFramebuffer({width:512,height:512,density:1}),Ye=Math.log(512)/Math.log(2),et=(this.specularShader||(this.specularShader=this._pInst.createShader(V.imageLightVert,V.imageLightSpecularFrag)),512);1<=et;et/=2)!function(Oe){Le.resize(Oe,Oe);var Ge=1-Math.log(Oe)/Math.log(2)/Ye;Le.draw(function(){re._pInst.shader(re.specularShader),re._pInst.clear(),re.specularShader.setUniform("environmentMap",L),re.specularShader.setUniform("roughness",Ge),re._pInst.noStroke(),re._pInst.noLights(),re._pInst.plane(Oe,Oe)}),Me.push(Le.get().drawingContext.getImageData(0,0,Oe,Oe))}(et);return Le.remove(),ge=new a.MipmapTexture(this,Me,{}),this.specularTextures.set(L,ge),ge}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(L){return new h.default.Framebuffer(this,L)}},{key:"_setStrokeUniforms",value:function(L){L.bindShader(),L.setUniform("uUseLineColor",this._useLineColor),L.setUniform("uMaterialColor",this.curStrokeColor),L.setUniform("uStrokeWeight",this.curStrokeWeight),L.setUniform("uStrokeCap",$[this.curStrokeCap]),L.setUniform("uStrokeJoin",j[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(L){var re=this,ge=(L.bindShader(),this.mixedSpecularColor=u(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(Me,Le){return re.curFillColor[Le]*re._useMetalness+Me*(1-re._useMetalness)})),L.setUniform("uUseVertexColor",this._useVertexColor),L.setUniform("uMaterialColor",this.curFillColor),L.setUniform("isTexture",!!this._tex),this._tex&&L.setUniform("uSampler",this._tex),L.setUniform("uTint",this._tint),L.setUniform("uHasSetAmbient",this._hasSetAmbient),L.setUniform("uAmbientMatColor",this.curAmbientColor),L.setUniform("uSpecularMatColor",this.mixedSpecularColor),L.setUniform("uEmissiveMatColor",this.curEmissiveColor),L.setUniform("uSpecular",this._useSpecularMaterial),L.setUniform("uEmissive",this._useEmissiveMaterial),L.setUniform("uShininess",this._useShininess),L.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(L),L.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);L.setUniform("uPointLightCount",ge),L.setUniform("uPointLightLocation",this.pointLightPositions),L.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),L.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),L.setUniform("uDirectionalLightCount",ge=this.directionalLightDiffuseColors.length/3),L.setUniform("uLightingDirection",this.directionalLightDirections),L.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),L.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),ge=this.ambientLightColors.length/3,this.mixedAmbientLight=u(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(Me){return Math.max(0,Me-=re._useMetalness)})),L.setUniform("uAmbientLightCount",ge),L.setUniform("uAmbientColor",this.mixedAmbientLight),L.setUniform("uSpotLightCount",ge=this.spotLightDiffuseColors.length/3),L.setUniform("uSpotLightAngle",this.spotLightAngle),L.setUniform("uSpotLightConc",this.spotLightConc),L.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),L.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),L.setUniform("uSpotLightLocation",this.spotLightPositions),L.setUniform("uSpotLightDirection",this.spotLightDirections),L.setUniform("uConstantAttenuation",this.constantAttenuation),L.setUniform("uLinearAttenuation",this.linearAttenuation),L.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),L.bindTextures()}},{key:"_setImageLightUniforms",value:function(L){var re;L.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(re=this.getDiffusedTexture(this.activeImageLight),L.setUniform("environmentMapDiffused",re),re=this.getSpecularTexture(this.activeImageLight),L.setUniform("levelOfDetail",20/this._useShininess*8),L.setUniform("environmentMapSpecular",re))}},{key:"_setPointUniforms",value:function(L){L.bindShader(),L.setUniform("uMaterialColor",this.curStrokeColor),L.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(L,re,ge,Me,Le){this.GL.bindBuffer(re=re||this.GL.ARRAY_BUFFER,L),void 0!==ge&&((L=ge)instanceof h.default.DataArray?L=ge.dataArray():L instanceof(Me||Float32Array)||(L=new(Me||Float32Array)(L)),this.GL.bufferData(re,L,Le||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(L,re){return L.length===re.length&&L.every(function(ge,Me){return ge===re[Me]})}},{key:"_isTypedArray",value:function(L){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(re){return L instanceof re})}},{key:"_flatten",value:function(L){return L.flat()}},{key:"_vToNArray",value:function(L){return L.flatMap(function(re){return[re.x,re.y,re.z]})}},{key:"_bezierCoefficients",value:function(L){var re=L*L,ge=1-L,Me=ge*ge;return[Me*ge,3*Me*L,3*ge*re,re*L]}},{key:"_quadraticCoefficients",value:function(L){var re=1-L;return[re*re,2*re*L,L*L]}},{key:"_bezierToCatmull",value:function(L){return[L[1],L[1]+(L[2]-L[0])/this._curveTightness,L[2]-(L[3]-L[1])/this._curveTightness,L[2]]}},{key:"_initTessy",value:function(){var L=new w.default.GluTesselator;return L.gluTessCallback(w.default.gluEnum.GLU_TESS_VERTEX_DATA,function(re,ge){var Me=!0,Le=!1,Ye=void 0;try{for(var et,Oe=re[Symbol.iterator]();!(Me=(et=Oe.next()).done);Me=!0)ge.push(et.value)}catch(Be){Le=!0,Ye=Be}finally{try{Me||null==Oe.return||Oe.return()}finally{if(Le)throw Ye}}}),L.gluTessCallback(w.default.gluEnum.GLU_TESS_BEGIN,function(re){re!==w.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(re))}),L.gluTessCallback(w.default.gluEnum.GLU_TESS_ERROR,function(re){console.log("error callback"),console.log("error number: ".concat(re))}),L.gluTessCallback(w.default.gluEnum.GLU_TESS_COMBINE,function(re,ge,Me){for(var Le=new Array(h.default.RendererGL.prototype.tessyVertexSize).fill(0),Ye=0;Ye<Me.length;Ye++)for(var et=0;et<Le.length;et++)0!==Me[Ye]&&ge[Ye]&&(Le[et]+=ge[Ye][et]*Me[Ye]);return Le}),L.gluTessCallback(w.default.gluEnum.GLU_TESS_EDGE_FLAG,function(re){}),L.gluTessProperty(w.default.gluEnum.GLU_TESS_WINDING_RULE,w.default.windingRule.GLU_TESS_WINDING_NONZERO),L}},{key:"_triangulate",value:function(L){var re=L[0]?L[0][2]:void 0,ge=!0,Me=!0,Ge=!1,Ae=void 0;try{for(var Le,Ye=L[Symbol.iterator]();!(Me=(Le=Ye.next()).done);Me=!0)for(var et=Le.value,Oe=0;Oe<et.length;Oe+=h.default.RendererGL.prototype.tessyVertexSize)if(et[Oe+2]!==re){ge=!1;break}}catch(Ht){Ge=!0,Ae=Ht}finally{try{Me||null==Ye.return||Ye.return()}finally{if(Ge)throw Ae}}this._tessy.gluTessNormal(0,0,ge?1:0);var Be=(this._tessy.gluTessBeginPolygon(Ge=[]),!0),Qe=void(Ae=!1);try{for(var Ke,vt=L[Symbol.iterator]();!(Be=(Ke=vt.next()).done);Be=!0){var mt=Ke.value;this._tessy.gluTessBeginContour();for(var yt=0;yt<mt.length;yt+=h.default.RendererGL.prototype.tessyVertexSize){var jt=mt.slice(yt,yt+h.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(jt,jt)}this._tessy.gluTessEndContour()}}catch(Ht){Ae=!0,Qe=Ht}finally{try{Be||null==vt.return||vt.return()}finally{if(Ae)throw Qe}}return this._tessy.gluTessEndPolygon(),Ge}}])&&c(ne.prototype,q),K}(h.default.Renderer),h.default.prototype._assert3d=function(q){if(!this._renderer.isP3D)throw new Error("".concat(q,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},h.default.RendererGL.prototype.tessyVertexSize=12,C.default=D=h.default.RendererGL},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(o,W,C){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(o=o("../core/main"))&&o.__esModule?o:{default:o};function _(h,f){for(var E=0;E<f.length;E++){var w=f[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}y.default.Shader=function(){function h(a,l,d){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=a,this._vertSrc=l,this._fragSrc=d,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var f,E;return f=h,(E=[{key:"init",value:function(){if(0===this._glProgram){var a=this._renderer.GL;if(this._vertShader=a.createShader(a.VERTEX_SHADER),a.shaderSource(this._vertShader,this._vertSrc),a.compileShader(this._vertShader),!a.getShaderParameter(this._vertShader,a.COMPILE_STATUS))return y.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(a.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(this._fragShader,this._fragSrc),a.compileShader(this._fragShader),!a.getShaderParameter(this._fragShader,a.COMPILE_STATUS))return y.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(a.getShaderInfoLog(this._fragShader))),null;this._glProgram=a.createProgram(),a.attachShader(this._glProgram,this._vertShader),a.attachShader(this._glProgram,this._fragShader),a.linkProgram(this._glProgram),a.getProgramParameter(this._glProgram,a.LINK_STATUS)||y.default._friendlyError("Snap! Error linking shader program: ".concat(a.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(a){var l=new y.default.Shader(a._renderer,this._vertSrc,this._fragSrc);return l.ensureCompiledOnContext(a),l}},{key:"ensureCompiledOnContext",value:function(a){if(0!==this._glProgram&&this._renderer!==a._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=a._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var a=this._renderer.GL,l=a.getProgramParameter(this._glProgram,a.ACTIVE_ATTRIBUTES),d=0;d<l;++d){var u=a.getActiveAttrib(this._glProgram,d),c=u.name,s=a.getAttribLocation(this._glProgram,c),m={};m.name=c,m.location=s,m.index=d,m.type=u.type,m.size=u.size,this.attributes[c]=m}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var a=this._renderer.GL,l=a.getProgramParameter(this._glProgram,a.ACTIVE_UNIFORMS),d=0,u=0;u<l;++u){var c=a.getActiveUniform(this._glProgram,u),s={},m=(s.location=a.getUniformLocation(this._glProgram,c.name),s.size=c.size,c.name);1<c.size&&(m=m.substring(0,m.indexOf("[0]"))),s.name=m,s.type=c.type,s._cachedData=void 0,s.type===a.SAMPLER_2D&&(s.samplerIndex=d,d++,this.samplers.push(s)),s.isArray=1<c.size||s.type===a.FLOAT_MAT3||s.type===a.FLOAT_MAT4||s.type===a.FLOAT_VEC2||s.type===a.FLOAT_VEC3||s.type===a.FLOAT_VEC4||s.type===a.INT_VEC2||s.type===a.INT_VEC4||s.type===a.INT_VEC3,this.uniforms[m]=s}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var a=this._renderer.GL,l=!0,d=!1,u=void 0;try{for(var c,s=this.samplers[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var m=c.value,p=m.texture;void 0===p&&(p=this._renderer._getEmptyTexture()),a.activeTexture(a.TEXTURE0+m.samplerIndex),p.bindTexture(),p.update(),a.uniform1i(m.location,m.samplerIndex)}}catch(b){d=!0,u=b}finally{try{l||null==s.return||s.return()}finally{if(d)throw u}}}},{key:"updateTextures",value:function(){var a=!0,l=!1,d=void 0;try{for(var u,c=this.samplers[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value.texture;s&&s.update()}}catch(m){l=!0,d=m}finally{try{a||null==c.return||c.return()}finally{if(l)throw d}}}},{key:"unbindTextures",value:function(){var a=!0,l=!1,d=void 0;try{for(var u,c=this.samplers[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)this.setUniform(u.value.name,this._renderer._getEmptyTexture())}catch(m){l=!0,d=m}finally{try{a||null==c.return||c.return()}finally{if(l)throw d}}}},{key:"_setMatrixUniforms",value:function(){var a=this._renderer._curCamera.cameraMatrix,l=this._renderer.uPMatrix,d=this._renderer.uMVMatrix,u=d.copy();u.mult(l),this.isStrokeShader()&&this.setUniform("uPerspective","default"===this._renderer._curCamera.cameraType?1:0),this.setUniform("uViewMatrix",a.mat4),this.setUniform("uProjectionMatrix",l.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(a,l){var d=this.uniforms[a];if(d){var u=this._renderer.GL;if(d.isArray){if(d._cachedData&&this._renderer._arraysEqual(d._cachedData,l))return;d._cachedData=l.slice(0)}else{if(d._cachedData&&d._cachedData===l)return;d._cachedData=Array.isArray(l)?l.slice(0):l}var c=d.location;switch(this.useProgram(),d.type){case u.BOOL:u.uniform1i(c,!0===l?1:0);break;case u.INT:1<d.size?l.length&&u.uniform1iv(c,l):u.uniform1i(c,l);break;case u.FLOAT:1<d.size?l.length&&u.uniform1fv(c,l):u.uniform1f(c,l);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(c,!1,l);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(c,!1,l);break;case u.FLOAT_VEC2:1<d.size?l.length&&u.uniform2fv(c,l):u.uniform2f(c,l[0],l[1]);break;case u.FLOAT_VEC3:1<d.size?l.length&&u.uniform3fv(c,l):u.uniform3f(c,l[0],l[1],l[2]);break;case u.FLOAT_VEC4:1<d.size?l.length&&u.uniform4fv(c,l):u.uniform4f(c,l[0],l[1],l[2],l[3]);break;case u.INT_VEC2:1<d.size?l.length&&u.uniform2iv(c,l):u.uniform2i(c,l[0],l[1]);break;case u.INT_VEC3:1<d.size?l.length&&u.uniform3iv(c,l):u.uniform3i(c,l[0],l[1],l[2]);break;case u.INT_VEC4:1<d.size?l.length&&u.uniform4iv(c,l):u.uniform4i(c,l[0],l[1],l[2],l[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+d.samplerIndex),d.texture=l instanceof y.default.Texture?l:this._renderer.getTexture(l),u.uniform1i(c,d.samplerIndex),d.texture.src.gifProperties&&d.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(a){return void 0!==a})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(a,l,d,u,c,s){var m;return a&&-1!==(a=a.location)&&(m=this._renderer.GL,this._renderer.registerEnabled.has(a)||(m.enableVertexAttribArray(a),this._renderer.registerEnabled.add(a)),this._renderer.GL.vertexAttribPointer(a,l,d||m.FLOAT,u||!1,c||0,s||0)),this}},{key:"disableRemainingAttributes",value:function(){var a=this,l=!0,d=!1,u=void 0;try{for(var c,s=this._renderer.registerEnabled.values()[Symbol.iterator]();!(l=(c=s.next()).done);l=!0)!function(){var m=c.value;Object.keys(a.attributes).some(function(p){return a.attributes[p].location===m})||(a._renderer.GL.disableVertexAttribArray(m),a._renderer.registerEnabled.delete(m))}()}catch(m){d=!0,u=m}finally{try{l||null==s.return||s.return()}finally{if(d)throw u}}}}])&&_(f.prototype,E),h}(),C.default=o=y.default.Shader},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(o,W,C){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(b){return y(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.checkWebGLCapabilities=m,C.default=C.MipmapTexture=void 0;var h=(s=o("../core/main"))&&s.__esModule?s:{default:s},f=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var b=E();if(b&&b.has(p))return b.get(p);var O,N={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in p){var k;Object.prototype.hasOwnProperty.call(p,O)&&((k=R?Object.getOwnPropertyDescriptor(p,O):null)&&(k.get||k.set)?Object.defineProperty(N,O,k):N[O]=p[O])}return N.default=p,b&&b.set(p,N),N}(o("../core/constants"));function E(){var p;return"function"!=typeof WeakMap?null:(E=function(){return p},p=new WeakMap)}function w(p,b){return(w=Object.setPrototypeOf||function(O,N){return O.__proto__=N,O})(p,b)}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}function d(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function u(p,b){for(var O=0;O<b.length;O++){var N=b[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}function c(p,b,O){b&&u(p.prototype,b),O&&u(p,O)}h.default.Texture=function(){function p(A,O,k){d(this,p),this._renderer=A;var R=this._renderer.GL;return k=k||{},this.src=O,this.glTex=void 0,this.glTarget=R.TEXTURE_2D,this.glFormat=k.format||R.RGBA,this.mipmaps=!1,this.glMinFilter=k.minFilter||R.LINEAR,this.glMagFilter=k.magFilter||R.LINEAR,this.glWrapS=k.wrapS||R.CLAMP_TO_EDGE,this.glWrapT=k.wrapT||R.CLAMP_TO_EDGE,this.glDataType=k.dataType||R.UNSIGNED_BYTE,k=m(A),this.glFormat!==R.HALF_FLOAT||k.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=R.FLOAT),this.glFormat!==R.HALF_FLOAT||this.glMinFilter!==R.LINEAR&&this.glMagFilter!==R.LINEAR||k.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===R.LINEAR&&(this.glMinFilter=R.NEAREST),this.glMagFilter===R.LINEAR&&(this.glMagFilter=R.NEAREST)),this.glFormat!==R.FLOAT||k.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=R.UNSIGNED_BYTE),this.glFormat!==R.FLOAT||this.glMinFilter!==R.LINEAR&&this.glMagFilter!==R.LINEAR||k.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===R.LINEAR&&(this.glMinFilter=R.NEAREST),this.glMagFilter===R.LINEAR&&(this.glMagFilter=R.NEAREST)),this.isSrcMediaElement=void 0!==h.default.MediaElement&&O instanceof h.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==h.default.Element&&O instanceof h.default.Element&&!(O instanceof h.default.Graphics)&&!(O instanceof h.default.Renderer),this.isSrcP5Image=O instanceof h.default.Image,this.isSrcP5Graphics=O instanceof h.default.Graphics,this.isSrcP5Renderer=O instanceof h.default.Renderer,this.isImageData=typeof ImageData<"u"&&O instanceof ImageData,this.isFramebufferTexture=O instanceof h.default.FramebufferTexture,A=this._getTextureDataFromSource(),this.width=A.width,this.height=A.height,this.init(A),this}return c(p,[{key:"_getTextureDataFromSource",value:function(){var b;return this.isFramebufferTexture?b=this.src.rawTexture():this.isSrcP5Image?b=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?b=this.src.elt:this.isImageData&&(b=this.src),b}},{key:"init",value:function(b){var O,N=this._renderer.GL;this.isFramebufferTexture||(this.glTex=N.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,this.glMagFilter),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(O=new Uint8Array([1,1,1,1]),N.texImage2D(this.glTarget,0,N.RGBA,1,1,0,this.glFormat,this.glDataType,O)):N.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b))}},{key:"update",value:function(){var b,O,N,R=this.src;return 0!==R.width&&0!==R.height&&!this.isFramebufferTexture&&(b=this._getTextureDataFromSource(),O=!1,N=this._renderer.GL,b.width!==this.width||b.height!==this.height?(O=!0,this.width=b.width||R.width,this.height=b.height||R.height,this.isSrcP5Image?R.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&R.setModified(!0)):this.isSrcP5Image?R.isModified()&&R.setModified(!(O=!0)):this.isSrcMediaElement?R.isModified()?R.setModified(!(O=!0)):R.loadedmetadata&&this._videoPrevUpdateTime!==R.time()&&(this._videoPrevUpdateTime=R.time(),O=!0):this.isImageData?R._dirty&&(O=!(R._dirty=!1)):O=!0,O&&(this.bindTexture(),N.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b)),O)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(b,O){var N=this._renderer.GL;this.glMinFilter=this.glFilter(b),this.glMagFilter=this.glFilter(O),this.bindTexture(),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,this.glMinFilter),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(b){var O=this._renderer.GL;return b===f.NEAREST?O.NEAREST:O.LINEAR}},{key:"setWrapMode",value:function(b,O){function N($){return 0==($&$-1)}var R=this._renderer.GL,A=(A=this._getTextureDataFromSource()).naturalWidth&&A.naturalHeight?(k=A.naturalWidth,A.naturalHeight):(k=this.width,this.height),k=N(k);A=N(A),b===f.REPEAT?this._renderer.webglVersion===f.WEBGL2||k&&A?this.glWrapS=R.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=R.CLAMP_TO_EDGE):b===f.MIRROR?this._renderer.webglVersion===f.WEBGL2||k&&A?this.glWrapS=R.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=R.CLAMP_TO_EDGE):this.glWrapS=R.CLAMP_TO_EDGE,O===f.REPEAT?this._renderer.webglVersion===f.WEBGL2||k&&A?this.glWrapT=R.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=R.CLAMP_TO_EDGE):O===f.MIRROR?this._renderer.webglVersion===f.WEBGL2||k&&A?this.glWrapT=R.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=R.CLAMP_TO_EDGE):this.glWrapT=R.CLAMP_TO_EDGE,this.bindTexture(),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,this.glWrapS),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p}();var s=function(p){var b=N;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&w(b,p);var O=function a(p){return function(){var b,O=l(p);if(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=l(this).constructor,Reflect.construct(O,arguments,b)):O.apply(this,arguments),O=this,!b||"object"!==_(b)&&"function"!=typeof b){if(void 0!==O)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}(N);function N(R,k,A){return d(this,N),k=(R=O.call(this,R,k,A))._renderer.GL,R.glMinFilter===k.LINEAR&&(R.glMinFilter=k.LINEAR_MIPMAP_LINEAR),R}return c(N,[{key:"glFilter",value:function(R){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(R){var k=this._renderer.GL;this.glTex=k.createTexture(),this.bindTexture();for(var A=0;A<R.length;A++)k.texImage2D(this.glTarget,A,this.glFormat,this.glFormat,this.glDataType,R[A]);this.glMinFilter=k.LINEAR_MIPMAP_LINEAR,k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,this.glMagFilter),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),N}(h.default.Texture);function m(R){var b=R.GL,O=(R=R.webglVersion)===f.WEBGL2?b.getExtension("EXT_color_buffer_float")&&b.getExtension("EXT_float_blend"):b.getExtension("OES_texture_float");return{float:O,floatLinear:O&&b.getExtension("OES_texture_float_linear"),halfFloat:R=b.getExtension(R===f.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:R&&b.getExtension("OES_texture_half_float_linear")}}C.MipmapTexture=s,C.default=o=h.default.Texture},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(o,W,C){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(b){return y(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var h,f=(h=o("../core/main"))&&h.__esModule?h:{default:h},E=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var b=w();if(b&&b.has(p))return b.get(p);var O,N={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in p){var k;Object.prototype.hasOwnProperty.call(p,O)&&((k=R?Object.getOwnPropertyDescriptor(p,O):null)&&(k.get||k.set)?Object.defineProperty(N,O,k):N[O]=p[O])}return N.default=p,b&&b.set(p,N),N}(o("../core/constants"));function w(){var p;return"function"!=typeof WeakMap?null:(w=function(){return p},p=new WeakMap)}function a(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function l(p,b){for(var O=0;O<b.length;O++){var N=b[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}function d(p,b,O){b&&l(p.prototype,b),O&&l(p,O)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),f.default.RendererGL.prototype._applyTextProperties=function(){},f.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var u=function(){function p(b,O){a(this,p),this.width=b,this.height=O,this.infos=[]}return d(p,[{key:"findImage",value:function(b){var O,N,R=this.width*this.height;if(R<b)throw new Error("font is too complex to render in 3D");for(var k=this.infos.length-1;0<=k;--k){var A=this.infos[k];if(A.index+b<R){N=(O=A).imageData;break}}if(!O){try{N=new ImageData(this.width,this.height)}catch{var $=document.getElementsByTagName("canvas")[0],j=!$,S=($||(($=document.createElement("canvas")).style.display="none",document.body.appendChild($)),$.getContext("2d"));S&&(N=S.createImageData(this.width,this.height)),j&&document.body.removeChild($)}this.infos.push(O={index:0,imageData:N})}return S=O.index,O.index+=b,N._dirty=!0,{imageData:N,index:S}}}]),p}();function c(A,b,O,N,R){var k=A.imageData.data;A=4*A.index++,k[A++]=b,k[A++]=O,k[A++]=N,k[+A]=R}var s=Math.sqrt(3),m=function(){function p(b){a(this,p),this.font=b,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={}}return d(p,[{key:"getGlyphInfo",value:function(b){var O=this.glyphInfos[b.index];if(!O){var N=b.getBoundingBox(),R=N.x1,k=N.y1,A=N.x2-R,$=N.y2-k,j=b.path.commands;if(0==A||0==$||!j.length)return this.glyphInfos[b.index]={};for(var S=[],D=[],V=[],Z=8;0<=Z;--Z)V.push([]);for(Z=8;0<=Z;--Z)D.push([]);var H,Q,Y,q,ne=function(){function on(fn,zt,Ut,lt){a(this,on),this.p0=fn,this.c0=zt,this.c1=Ut,this.p1=lt}return d(on,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return f.default.Vector.sub(f.default.Vector.sub(this.p1,this.p0),f.default.Vector.mult(f.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Nt){var zt=f.default.Vector.lerp(this.p0,this.c0,Nt),lt=f.default.Vector.lerp(this.c0,this.c1,Nt),Ut=f.default.Vector.lerp(zt,lt,Nt);return this.c1=f.default.Vector.lerp(this.c1,this.p1,Nt),this.c0=f.default.Vector.lerp(lt,this.c1,Nt),lt=f.default.Vector.lerp(Ut,this.c0,Nt),Nt=new on(this.p0,zt,Ut,lt),this.p0=lt,Nt}},{key:"splitInflections",value:function(){var fn=f.default.Vector.sub(this.c0,this.p0),zt=f.default.Vector.sub(f.default.Vector.sub(this.c1,this.c0),fn),Ut=f.default.Vector.sub(f.default.Vector.sub(f.default.Vector.sub(this.p1,this.c1),fn),f.default.Vector.mult(zt,2)),lt=[],Nt=zt.x*Ut.y-zt.y*Ut.x;return 0!==Nt&&0<=(fn=(Ut=fn.x*Ut.y-fn.y*Ut.x)*Ut-4*Nt*(fn.x*zt.y-fn.y*zt.x))&&(Nt<0&&(Nt=-Nt,Ut=-Ut),fn=(-Ut+(zt=Math.sqrt(fn)))/(2*Nt),0<(Ut=(-Ut-zt)/(2*Nt))&&Ut<1&&(lt.push(this.split(Ut)),fn=1-(1-fn)/(1-Ut)),0<fn&&fn<1&&lt.push(this.split(fn))),lt.push(this),lt}}]),on}(),de=!0,xe=!1,K=void 0;try{for(var L,re=j[Symbol.iterator]();!(de=(L=re.next()).done);de=!0){var ge=L.value,Me=(ge.x-R)/A,Le=(ge.y-k)/$;if(!Rt(H,Q,Me,Le)){switch(ge.type){case"M":Y=Me,q=Le;break;case"L":Ht(H,Q,Me,Le);break;case"Q":var Ye=(ge.x1-R)/A,et=(ge.y1-k)/$;yt([H,Me,Ye],[Q,Le,et],{x:H,y:Q,cx:Ye,cy:et});break;case"Z":Rt(H,Q,Y,q)?S.push({x:H,y:Q}):(Ht(H,Q,Y,q),S.push({x:Y,y:q}));break;case"C":for(var Oe=function(Fe,Dt,Gt,Ut,lt,Nt,_t,Pe){Fe=new ne(new f.default.Vector(Fe,Dt),new f.default.Vector(Gt,Ut),new f.default.Vector(lt,Nt),new f.default.Vector(_t,Pe)).splitInflections();var Ie=[],Ze=30/s,wt=!0;Dt=!1,Gt=void 0;try{for(var rn,bn=Fe[Symbol.iterator]();!(wt=(rn=bn.next()).done);wt=!0){for(var _n=rn.value,St=[],Et=void 0;!(.125<=(Et=Ze/_n.quadError()));){var it=Math.pow(Et,.3333333333333333),ze=_n.split(it),ut=_n.split(1-it/(1-it));Ie.push(ze),St.push(_n),_n=ut}Et<1&&Ie.push(_n.split(.5)),Ie.push(_n),Array.prototype.push.apply(Ie,St.reverse())}}catch(xt){Dt=!0,Gt=xt}finally{try{wt||null==bn.return||bn.return()}finally{if(Dt)throw Gt}}return Ie}(H,Q,(ge.x1-R)/A,(ge.y1-k)/$,(ge.x2-R)/A,(ge.y2-k)/$,Me,Le),Ge=0;Ge<Oe.length;Ge++){var Be=Oe[Ge].toQuadratic();yt([Be.x,Be.x1,Be.cx],[Be.y,Be.y1,Be.cy],Be)}break;default:throw new Error("unknown command type: ".concat(ge.type))}H=Me,Q=Le}}}catch(on){xe=!0,K=on}finally{try{de||null==re.return||re.return()}finally{if(xe)throw K}}for(var Ae=S.length,Qe=this.strokeImageInfos.findImage(Ae),Ke=Qe.index,vt=0;vt<Ae;++vt){var mt=S[vt];c(Qe,jt(mt.x),jt(mt.y),jt(mt.cx),jt(mt.cy))}(O=this.glyphInfos[b.index]={glyph:b,uGlyphRect:[N.x1,-N.y1,N.x2,-N.y2],strokeImageInfo:Qe,strokes:S,colInfo:an(V,this.colDimImageInfos,this.colCellImageInfos),rowInfo:an(D,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[O.colInfo.dimOffset,O.rowInfo.dimOffset]}return O;function yt(on,fn,zt){var Ut=S.length;function lt(Ie,Ze,wt){for(var Dt=Ie.length;0<Dt--;){var Gt=Ie[Dt];Gt<Ze&&(Ze=Gt),wt<Gt&&(wt=Gt)}return{min:Ze,max:wt}}S.push(zt),zt=lt(on,1,0),on=Math.max(Math.floor(9*zt.min-.5),0);for(var Nt=Math.min(Math.ceil(9*zt.max+.5),9),_t=on;_t<Nt;++_t)V[_t].push(Ut);zt=lt(fn,1,0),on=Math.max(Math.floor(9*zt.min-.5),0);for(var Pe=Math.min(Math.ceil(9*zt.max+.5),9),Fe=on;Fe<Pe;++Fe)D[Fe].push(Ut)}function jt(on){return(on=255*on)<0?0:255<on?255:on}function Ht(on,fn,zt,Ut){yt([on,zt],[fn,Ut],{x:on,y:fn,cx:(on+zt)/2,cy:(fn+Ut)/2})}function Rt(on,fn,zt,Ut){return Math.abs(zt-on)<1e-5&&Math.abs(Ut-fn)<1e-5}function an(on,fn,zt){for(var Ut=on.length,lt=fn.findImage(Ut),Nt=(fn=lt.index,0),_t=0;_t<Ut;++_t)Nt+=on[_t].length;for(var Pe=zt.findImage(Nt),Fe=0;Fe<Ut;++Fe){var Ie=on[Fe],Ze=Ie.length,wt=Pe.index;c(lt,wt>>7,127&wt,Ze>>7,127&Ze);for(var Dt=0;Dt<Ze;++Dt){var Gt=Ie[Dt]+Ke;c(Pe,Gt>>7,127&Gt,0,0)}}return{cellImageInfo:Pe,dimOffset:fn,dimImageInfo:lt}}}}]),p}();f.default.RendererGL.prototype._renderText=function(p,b,O,N,R){if(this._textFont&&"string"!=typeof this._textFont){if(!(R<=N)&&this._doFill){if(this._isOpenType()){p.push(),R=this._doStroke;var k=this.drawMode,A=(this._doStroke=!1,this.drawMode=E.TEXTURE,this._textFont.font),$=($=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(A)),j=(O=this._textFont._handleAlignment(this,b,O,N),N=this._textSize/A.unitsPerEm,this.translate(O.x,O.y,0),this.scale(N,N,1),this.GL),S=(O=!this._defaultFontShader,this._getFontShader()),D=(S.init(),S.bindShader(),O&&(S.setUniform("uGridImageSize",[64,64]),S.setUniform("uCellsImageSize",[64,64]),S.setUniform("uStrokeImageSize",[64,64]),S.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),V=(D||((N=this._textGeom=new f.default.Geometry(1,1,function(){for(var Ge=0;Ge<=1;Ge++)for(var Be=0;Be<=1;Be++)this.vertices.push(new f.default.Vector(Be,Ge,0)),this.uvs.push(Be,Ge)})).computeFaces().computeNormals(),D=this.createBuffers("glyph",N)),!0);O=!1,N=void 0;try{for(var Z,H=this.retainedMode.buffers.text[Symbol.iterator]();!(V=(Z=H.next()).done);V=!0)Z.value._prepareBuffer(D,S)}catch(Ge){O=!0,N=Ge}finally{try{V||null==H.return||H.return()}finally{if(O)throw N}}this._bindBuffer(D.indexBuffer,j.ELEMENT_ARRAY_BUFFER),S.setUniform("uMaterialColor",this.curFillColor),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var Q=0,Y=null,q=A.stringToGlyphs(b),ne=!0,de=!1,xe=void 0;try{for(var K,L=q[Symbol.iterator]();!(ne=(K=L.next()).done);ne=!0){var re,ge,Me=K.value,Le=(Y&&(Q+=A.getKerningValue(Y,Me)),$.getGlyphInfo(Me));Le.uGlyphRect&&(re=Le.rowInfo,ge=Le.colInfo,S.setUniform("uSamplerStrokes",Le.strokeImageInfo.imageData),S.setUniform("uSamplerRowStrokes",re.cellImageInfo.imageData),S.setUniform("uSamplerRows",re.dimImageInfo.imageData),S.setUniform("uSamplerColStrokes",ge.cellImageInfo.imageData),S.setUniform("uSamplerCols",ge.dimImageInfo.imageData),S.setUniform("uGridOffset",Le.uGridOffset),S.setUniform("uGlyphRect",Le.uGlyphRect),S.setUniform("uGlyphOffset",Q),S.bindTextures(),j.drawElements(j.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),Q+=Me.advanceWidth,Y=Me}}catch(Ge){de=!0,xe=Ge}finally{try{ne||null==L.return||L.return()}finally{if(de)throw xe}}}finally{S.unbindShader(),this._doStroke=R,this.drawMode=k,j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)},4972:(dn,Pt,he)=>{function v(a){this.mode=nt.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var l=0,d=this.data.length;l<d;l++){var u=[],c=this.data.charCodeAt(l);c>65536?(u[0]=240|(1835008&c)>>>18,u[1]=128|(258048&c)>>>12,u[2]=128|(4032&c)>>>6,u[3]=128|63&c):c>2048?(u[0]=224|(61440&c)>>>12,u[1]=128|(4032&c)>>>6,u[2]=128|63&c):c>128?(u[0]=192|(1984&c)>>>6,u[1]=128|63&c):u[0]=c,this.parsedData.push(u)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function we(a,l){this.typeNumber=a,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}v.prototype={getLength:function(a){return this.parsedData.length},write:function(a){for(var l=0,d=this.parsedData.length;l<d;l++)a.put(this.parsedData[l],8)}},we.prototype={addData:function(a){var l=new v(a);this.dataList.push(l),this.dataCache=null},isDark:function(a,l){if(a<0||this.moduleCount<=a||l<0||this.moduleCount<=l)throw new Error(a+","+l);return this.modules[a][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,l){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++)this.modules[d][u]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,l),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=we.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(a,l){for(var d=-1;d<=7;d++)if(!(a+d<=-1||this.moduleCount<=a+d))for(var u=-1;u<=7;u++)l+u<=-1||this.moduleCount<=l+u||(this.modules[a+d][l+u]=0<=d&&d<=6&&(0==u||6==u)||0<=u&&u<=6&&(0==d||6==d)||2<=d&&d<=4&&2<=u&&u<=4)},getBestMaskPattern:function(){for(var a=0,l=0,d=0;d<8;d++){this.makeImpl(!0,d);var u=W.getLostPoint(this);(0==d||a>u)&&(a=u,l=d)}return l},createMovieClip:function(a,l,d){var u=a.createEmptyMovieClip(l,d);this.make();for(var s=0;s<this.modules.length;s++)for(var m=1*s,p=0;p<this.modules[s].length;p++){var b=1*p;this.modules[s][p]&&(u.beginFill(0,100),u.moveTo(b,m),u.lineTo(b+1,m),u.lineTo(b+1,m+1),u.lineTo(b,m+1),u.endFill())}return u},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=a%2==0);for(var l=8;l<this.moduleCount-8;l++)null==this.modules[6][l]&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var a=W.getPatternPosition(this.typeNumber),l=0;l<a.length;l++)for(var d=0;d<a.length;d++){var u=a[l],c=a[d];if(null==this.modules[u][c])for(var s=-2;s<=2;s++)for(var m=-2;m<=2;m++)this.modules[u+s][c+m]=-2==s||2==s||-2==m||2==m||0==s&&0==m}},setupTypeNumber:function(a){for(var l=W.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var u=!a&&1==(l>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=u}for(d=0;d<18;d++)u=!a&&1==(l>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=u},setupTypeInfo:function(a,l){for(var u=W.getBCHTypeInfo(this.errorCorrectLevel<<3|l),c=0;c<15;c++){var s=!a&&1==(u>>c&1);c<6?this.modules[c][8]=s:c<8?this.modules[c+1][8]=s:this.modules[this.moduleCount-15+c][8]=s}for(c=0;c<15;c++)s=!a&&1==(u>>c&1),c<8?this.modules[8][this.moduleCount-c-1]=s:c<9?this.modules[8][15-c-1+1]=s:this.modules[8][15-c-1]=s;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,l){for(var d=-1,u=this.moduleCount-1,c=7,s=0,m=this.moduleCount-1;m>0;m-=2)for(6==m&&m--;;){for(var p=0;p<2;p++)if(null==this.modules[u][m-p]){var b=!1;s<a.length&&(b=1==(a[s]>>>c&1)),W.getMask(l,u,m-p)&&(b=!b),this.modules[u][m-p]=b,-1==--c&&(s++,c=7)}if((u+=d)<0||this.moduleCount<=u){u-=d,d=-d;break}}}},we.PAD0=236,we.PAD1=17,we.createData=function(a,l,d){for(var u=h.getRSBlocks(a,l),c=new f,s=0;s<d.length;s++){var m=d[s];c.put(m.mode,4),c.put(m.getLength(),W.getLengthInBits(m.mode,a)),m.write(c)}var p=0;for(s=0;s<u.length;s++)p+=u[s].dataCount;if(c.getLengthInBits()>8*p)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*p+")");for(c.getLengthInBits()+4<=8*p&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*p||(c.put(we.PAD0,8),c.getLengthInBits()>=8*p));)c.put(we.PAD1,8);return we.createBytes(c,u)},we.createBytes=function(a,l){for(var d=0,u=0,c=0,s=new Array(l.length),m=new Array(l.length),p=0;p<l.length;p++){var b=l[p].dataCount,O=l[p].totalCount-b;u=Math.max(u,b),c=Math.max(c,O),s[p]=new Array(b);for(var N=0;N<s[p].length;N++)s[p][N]=255&a.buffer[N+d];d+=b;var R=W.getErrorCorrectPolynomial(O),A=new _(s[p],R.getLength()-1).mod(R);for(m[p]=new Array(R.getLength()-1),N=0;N<m[p].length;N++){var $=N+A.getLength()-m[p].length;m[p][N]=$>=0?A.get($):0}}var j=0;for(N=0;N<l.length;N++)j+=l[N].totalCount;var S=new Array(j),D=0;for(N=0;N<u;N++)for(p=0;p<l.length;p++)N<s[p].length&&(S[D++]=s[p][N]);for(N=0;N<c;N++)for(p=0;p<l.length;p++)N<m[p].length&&(S[D++]=m[p][N]);return S};for(var nt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},_e={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},W={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var l=a<<10;W.getBCHDigit(l)-W.getBCHDigit(W.G15)>=0;)l^=W.G15<<W.getBCHDigit(l)-W.getBCHDigit(W.G15);return(a<<10|l)^W.G15_MASK},getBCHTypeNumber:function(a){for(var l=a<<12;W.getBCHDigit(l)-W.getBCHDigit(W.G18)>=0;)l^=W.G18<<W.getBCHDigit(l)-W.getBCHDigit(W.G18);return a<<12|l},getBCHDigit:function(a){for(var l=0;0!=a;)l++,a>>>=1;return l},getPatternPosition:function(a){return W.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,l,d){switch(a){case o.PATTERN000:return(l+d)%2==0;case o.PATTERN001:return l%2==0;case o.PATTERN010:return d%3==0;case o.PATTERN011:return(l+d)%3==0;case o.PATTERN100:return(Math.floor(l/2)+Math.floor(d/3))%2==0;case o.PATTERN101:return l*d%2+l*d%3==0;case o.PATTERN110:return(l*d%2+l*d%3)%2==0;case o.PATTERN111:return(l*d%3+(l+d)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var l=new _([1],0),d=0;d<a;d++)l=l.multiply(new _([1,C.gexp(d)],0));return l},getLengthInBits:function(a,l){if(1<=l&&l<10)switch(a){case nt.MODE_NUMBER:return 10;case nt.MODE_ALPHA_NUM:return 9;case nt.MODE_8BIT_BYTE:case nt.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(l<27)switch(a){case nt.MODE_NUMBER:return 12;case nt.MODE_ALPHA_NUM:return 11;case nt.MODE_8BIT_BYTE:return 16;case nt.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(l<41))throw new Error("type:"+l);switch(a){case nt.MODE_NUMBER:return 14;case nt.MODE_ALPHA_NUM:return 13;case nt.MODE_8BIT_BYTE:return 16;case nt.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var l=a.getModuleCount(),d=0,u=0;u<l;u++)for(var c=0;c<l;c++){for(var s=0,m=a.isDark(u,c),p=-1;p<=1;p++)if(!(u+p<0||l<=u+p))for(var b=-1;b<=1;b++)c+b<0||l<=c+b||0==p&&0==b||m==a.isDark(u+p,c+b)&&s++;s>5&&(d+=3+s-5)}for(u=0;u<l-1;u++)for(c=0;c<l-1;c++){var O=0;a.isDark(u,c)&&O++,a.isDark(u+1,c)&&O++,a.isDark(u,c+1)&&O++,a.isDark(u+1,c+1)&&O++,(0==O||4==O)&&(d+=3)}for(u=0;u<l;u++)for(c=0;c<l-6;c++)a.isDark(u,c)&&!a.isDark(u,c+1)&&a.isDark(u,c+2)&&a.isDark(u,c+3)&&a.isDark(u,c+4)&&!a.isDark(u,c+5)&&a.isDark(u,c+6)&&(d+=40);for(c=0;c<l;c++)for(u=0;u<l-6;u++)a.isDark(u,c)&&!a.isDark(u+1,c)&&a.isDark(u+2,c)&&a.isDark(u+3,c)&&a.isDark(u+4,c)&&!a.isDark(u+5,c)&&a.isDark(u+6,c)&&(d+=40);var N=0;for(c=0;c<l;c++)for(u=0;u<l;u++)a.isDark(u,c)&&N++;return d+Math.abs(100*N/l/l-50)/5*10}},C={glog:function(a){if(a<1)throw new Error("glog("+a+")");return C.LOG_TABLE[a]},gexp:function(a){for(;a<0;)a+=255;for(;a>=256;)a-=255;return C.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},y=0;y<8;y++)C.EXP_TABLE[y]=1<<y;for(y=8;y<256;y++)C.EXP_TABLE[y]=C.EXP_TABLE[y-4]^C.EXP_TABLE[y-5]^C.EXP_TABLE[y-6]^C.EXP_TABLE[y-8];for(y=0;y<255;y++)C.LOG_TABLE[C.EXP_TABLE[y]]=y;function _(a,l){if(null==a.length)throw new Error(a.length+"/"+l);for(var d=0;d<a.length&&0==a[d];)d++;this.num=new Array(a.length-d+l);for(var u=0;u<a.length-d;u++)this.num[u]=a[u+d]}function h(a,l){this.totalCount=a,this.dataCount=l}function f(){this.buffer=[],this.length=0}_.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var l=new Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var u=0;u<a.getLength();u++)l[d+u]^=C.gexp(C.glog(this.get(d))+C.glog(a.get(u)));return new _(l,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var l=C.glog(this.get(0))-C.glog(a.get(0)),d=new Array(this.getLength()),u=0;u<this.getLength();u++)d[u]=this.get(u);for(u=0;u<a.getLength();u++)d[u]^=C.gexp(C.glog(a.get(u))+l);return new _(d,0).mod(a)}},h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(a,l){var d=h.getRsBlockTable(a,l);if(null==d)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+l);for(var u=d.length/3,c=[],s=0;s<u;s++)for(var m=d[3*s+0],p=d[3*s+1],b=d[3*s+2],O=0;O<m;O++)c.push(new h(p,b));return c},h.getRsBlockTable=function(a,l){switch(l){case _e.L:return h.RS_BLOCK_TABLE[4*(a-1)+0];case _e.M:return h.RS_BLOCK_TABLE[4*(a-1)+1];case _e.Q:return h.RS_BLOCK_TABLE[4*(a-1)+2];case _e.H:return h.RS_BLOCK_TABLE[4*(a-1)+3];default:return}},f.prototype={get:function(a){var l=Math.floor(a/8);return 1==(this.buffer[l]>>>7-a%8&1)},put:function(a,l){for(var d=0;d<l;d++)this.putBit(1==(a>>>l-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var E=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function w(a){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof a&&(a={content:a}),a)for(var d in a)this.options[d]=a[d];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var m=this.options.content,p=function c(O,N){for(var R=function s(O){var N=encodeURI(O).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return N.length+(N.length!=O?3:0)}(O),k=1,A=0,$=0,j=E.length;$<=j;$++){var S=E[$];if(!S)throw new Error("Content too long: expected "+A+" but got "+R);switch(N){case"L":A=S[0];break;case"M":A=S[1];break;case"Q":A=S[2];break;case"H":A=S[3];break;default:throw new Error("Unknwon error correction level: "+N)}if(R<=A)break;k++}if(k>E.length)throw new Error("Content too long");return k}(m,this.options.ecl),b=function u(O){switch(O){case"L":return _e.L;case"M":return _e.M;case"Q":return _e.Q;case"H":return _e.H;default:throw new Error("Unknwon error correction level: "+O)}}(this.options.ecl);this.qrcode=new we(p,b),this.qrcode.addData(m),this.qrcode.make()}w.prototype.svg=function(a){var l=this.options||{},d=this.qrcode.modules;typeof a>"u"&&(a={container:l.container||"svg"});for(var u=!(typeof l.pretty<"u"&&!l.pretty),c=u?"  ":"",s=u?"\r\n":"",m=l.width,p=l.height,b=d.length,O=m/(b+2*l.padding),N=p/(b+2*l.padding),R=typeof l.join<"u"&&!!l.join,k=typeof l.swap<"u"&&!!l.swap,A=!(typeof l.xmlDeclaration<"u"&&!l.xmlDeclaration),$=typeof l.predefined<"u"&&!!l.predefined,j=$?c+'<defs><path id="qrmodule" d="M0 0 h'+N+" v"+O+' H0 z" style="fill:'+l.color+';shape-rendering:crispEdges;" /></defs>'+s:"",S=c+'<rect x="0" y="0" width="'+m+'" height="'+p+'" style="fill:'+l.background+';shape-rendering:crispEdges;"/>'+s,D="",V="",Z=0;Z<b;Z++)for(var H=0;H<b;H++)if(d[H][Z]){var Y=H*O+l.padding*O,q=Z*N+l.padding*N;if(k){var ne=Y;Y=q,q=ne}if(R){var de=O+Y,xe=N+q;Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),de=Number.isInteger(de)?Number(de):de.toFixed(2),V+="M"+Y+","+q+" V"+(xe=Number.isInteger(xe)?Number(xe):xe.toFixed(2))+" H"+de+" V"+q+" H"+Y+" Z "}else D+=$?c+'<use x="'+Y.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+s:c+'<rect x="'+Y.toString()+'" y="'+q.toString()+'" width="'+O+'" height="'+N+'" style="fill:'+l.color+';shape-rendering:crispEdges;"/>'+s}R&&(D=c+'<path x="0" y="0" style="fill:'+l.color+';shape-rendering:crispEdges;" d="'+V+'" />');var K="";switch(a.container){case"svg":A&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+m+'" height="'+p+'">'+s,K+=j+S+D,K+="</svg>";break;case"svg-viewbox":A&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+m+" "+p+'">'+s,K+=j+S+D,K+="</svg>";break;case"g":K+='<g width="'+m+'" height="'+p+'">'+s,K+=j+S+D,K+="</g>";break;default:K+=(j+S+D).replace(/^\s+/,"")}return K},w.prototype.save=function(a,l){var d=this.svg();"function"!=typeof l&&(l=function(c,s){});try{he(Object(function(){var s=new Error("Cannot find module 'fs'");throw s.code="MODULE_NOT_FOUND",s}())).writeFile(a,d,l)}catch(c){l(c)}},dn.exports=w},6700:(dn,Pt,he)=>{"use strict";he.d(Pt,{g:()=>we});var v=he(5657);class we extends v.E{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const o=super._subscribe(_e);return!o.closed&&_e.next(this._value),o}getValue(){const{hasError:_e,thrownError:o,_value:W}=this;if(_e)throw o;return this._throwIfClosed(),W}next(_e){super.next(this._value=_e)}}},3252:(dn,Pt,he)=>{"use strict";he.d(Pt,{_:()=>y});var v=he(1760),we=he(4548),nt=he(472),_e=he(3928),o=he(4491),W=he(8880),C=he(2075);let y=(()=>{class E{constructor(a){a&&(this._subscribe=a)}lift(a){const l=new E;return l.source=this,l.operator=a,l}subscribe(a,l,d){const u=function f(E){return E&&E instanceof v.yR||function h(E){return E&&(0,W.m)(E.next)&&(0,W.m)(E.error)&&(0,W.m)(E.complete)}(E)&&(0,we.GI)(E)}(a)?a:new v.ot(a,l,d);return(0,C.c)(()=>{const{operator:c,source:s}=this;u.add(c?c.call(u,s):s?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(a){try{return this._subscribe(a)}catch(l){a.error(l)}}forEach(a,l){return new(l=_(l))((d,u)=>{const c=new v.ot({next:s=>{try{a(s)}catch(m){u(m),c.unsubscribe()}},error:u,complete:d});this.subscribe(c)})}_subscribe(a){var l;return null===(l=this.source)||void 0===l?void 0:l.subscribe(a)}[nt.a](){return this}pipe(...a){return(0,_e.Y)(a)(this)}toPromise(a){return new(a=_(a))((l,d)=>{let u;this.subscribe(c=>u=c,c=>d(c),()=>l(u))})}}return E.create=w=>new E(w),E})();function _(E){var w;return null!==(w=null!=E?E:o.config.Promise)&&void 0!==w?w:Promise}},5657:(dn,Pt,he)=>{"use strict";he.d(Pt,{E:()=>C});var v=he(3252),we=he(4548);const _e=(0,he(4912).w)(_=>function(){_(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=he(1248),W=he(2075);let C=(()=>{class _ extends v._{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(f){const E=new y(this,this);return E.operator=f,E}_throwIfClosed(){if(this.closed)throw new _e}next(f){(0,W.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const E of this.currentObservers)E.next(f)}})}error(f){(0,W.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=f;const{observers:E}=this;for(;E.length;)E.shift().error(f)}})}complete(){(0,W.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:f}=this;for(;f.length;)f.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var f;return(null===(f=this.observers)||void 0===f?void 0:f.length)>0}_trySubscribe(f){return this._throwIfClosed(),super._trySubscribe(f)}_subscribe(f){return this._throwIfClosed(),this._checkFinalizedStatuses(f),this._innerSubscribe(f)}_innerSubscribe(f){const{hasError:E,isStopped:w,observers:a}=this;return E||w?we.au:(this.currentObservers=null,a.push(f),new we.wH(()=>{this.currentObservers=null,(0,o.k)(a,f)}))}_checkFinalizedStatuses(f){const{hasError:E,thrownError:w,isStopped:a}=this;E?f.error(w):a&&f.complete()}asObservable(){const f=new v._;return f.source=this,f}}return _.create=(h,f)=>new y(h,f),_})();class y extends C{constructor(h,f){super(),this.destination=h,this.source=f}next(h){var f,E;null===(E=null===(f=this.destination)||void 0===f?void 0:f.next)||void 0===E||E.call(f,h)}error(h){var f,E;null===(E=null===(f=this.destination)||void 0===f?void 0:f.error)||void 0===E||E.call(f,h)}complete(){var h,f;null===(f=null===(h=this.destination)||void 0===h?void 0:h.complete)||void 0===f||f.call(h)}_subscribe(h){var f,E;return null!==(E=null===(f=this.source)||void 0===f?void 0:f.subscribe(h))&&void 0!==E?E:we.au}}},1760:(dn,Pt,he)=>{"use strict";he.d(Pt,{ot:()=>d,yR:()=>E});var v=he(8880),we=he(4548),nt=he(4491),_e=he(1984),o=he(308);const W=_("C",void 0,void 0);function _(p,b,O){return{kind:p,value:b,error:O}}var h=he(3376),f=he(2075);class E extends we.wH{constructor(b){super(),this.isStopped=!1,b?(this.destination=b,(0,we.GI)(b)&&b.add(this)):this.destination=m}static create(b,O,N){return new d(b,O,N)}next(b){this.isStopped?s(function y(p){return _("N",p,void 0)}(b),this):this._next(b)}error(b){this.isStopped?s(function C(p){return _("E",void 0,p)}(b),this):(this.isStopped=!0,this._error(b))}complete(){this.isStopped?s(W,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(b){this.destination.next(b)}_error(b){try{this.destination.error(b)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function a(p,b){return w.call(p,b)}class l{constructor(b){this.partialObserver=b}next(b){const{partialObserver:O}=this;if(O.next)try{O.next(b)}catch(N){u(N)}}error(b){const{partialObserver:O}=this;if(O.error)try{O.error(b)}catch(N){u(N)}else u(b)}complete(){const{partialObserver:b}=this;if(b.complete)try{b.complete()}catch(O){u(O)}}}class d extends E{constructor(b,O,N){let R;if(super(),(0,v.m)(b)||!b)R={next:null!=b?b:void 0,error:null!=O?O:void 0,complete:null!=N?N:void 0};else{let k;this&&nt.config.useDeprecatedNextContext?(k=Object.create(b),k.unsubscribe=()=>this.unsubscribe(),R={next:b.next&&a(b.next,k),error:b.error&&a(b.error,k),complete:b.complete&&a(b.complete,k)}):R=b}this.destination=new l(R)}}function u(p){nt.config.useDeprecatedSynchronousErrorHandling?(0,f.q)(p):(0,_e.U)(p)}function s(p,b){const{onStoppedNotification:O}=nt.config;O&&h.u.setTimeout(()=>O(p,b))}const m={closed:!0,next:o.K,error:function c(p){throw p},complete:o.K}},4548:(dn,Pt,he)=>{"use strict";he.d(Pt,{au:()=>W,wH:()=>o,GI:()=>C});var v=he(8880);const nt=(0,he(4912).w)(_=>function(f){_(this),this.message=f?`${f.length} errors occurred during unsubscription:\n${f.map((E,w)=>`${w+1}) ${E.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=f});var _e=he(1248);class o{constructor(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let h;if(!this.closed){this.closed=!0;const{_parentage:f}=this;if(f)if(this._parentage=null,Array.isArray(f))for(const a of f)a.remove(this);else f.remove(this);const{initialTeardown:E}=this;if((0,v.m)(E))try{E()}catch(a){h=a instanceof nt?a.errors:[a]}const{_finalizers:w}=this;if(w){this._finalizers=null;for(const a of w)try{y(a)}catch(l){h=null!=h?h:[],l instanceof nt?h=[...h,...l.errors]:h.push(l)}}if(h)throw new nt(h)}}add(h){var f;if(h&&h!==this)if(this.closed)y(h);else{if(h instanceof o){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=null!==(f=this._finalizers)&&void 0!==f?f:[]).push(h)}}_hasParent(h){const{_parentage:f}=this;return f===h||Array.isArray(f)&&f.includes(h)}_addParent(h){const{_parentage:f}=this;this._parentage=Array.isArray(f)?(f.push(h),f):f?[f,h]:h}_removeParent(h){const{_parentage:f}=this;f===h?this._parentage=null:Array.isArray(f)&&(0,_e.k)(f,h)}remove(h){const{_finalizers:f}=this;f&&(0,_e.k)(f,h),h instanceof o&&h._removeParent(this)}}o.EMPTY=(()=>{const _=new o;return _.closed=!0,_})();const W=o.EMPTY;function C(_){return _ instanceof o||_&&"closed"in _&&(0,v.m)(_.remove)&&(0,v.m)(_.add)&&(0,v.m)(_.unsubscribe)}function y(_){(0,v.m)(_)?_():_.unsubscribe()}},4491:(dn,Pt,he)=>{"use strict";he.d(Pt,{config:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2376:(dn,Pt,he)=>{"use strict";he.d(Pt,{C:()=>W});var v=he(3252),we=he(4548),nt=he(8084),_e=he(7773),o=he(5448);class W extends v._{constructor(y,_){super(),this.source=y,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,o.e)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,null==y||y.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new we.wH;const _=this.getSubject();y.add(this.source.subscribe((0,_e.e)(_,void 0,()=>{this._teardown(),_.complete()},h=>{this._teardown(),_.error(h)},()=>this._teardown()))),y.closed&&(this._connection=null,y=we.wH.EMPTY)}return y}refCount(){return(0,nt.O)()(this)}}},6040:(dn,Pt,he)=>{"use strict";he.d(Pt,{E:()=>h});var v=he(3252),we=he(4300),nt=he(2115),_e=he(528),o=he(4187),W=he(6624),C=he(7904),y=he(7773),_=he(9399);function h(...w){const a=(0,W.e_)(w),l=(0,W.yu)(w),{args:d,keys:u}=(0,we.Q)(w);if(0===d.length)return(0,nt.Q)([],a);const c=new v._(function f(w,a,l=_e.Z){return d=>{E(a,()=>{const{length:u}=w,c=new Array(u);let s=u,m=u;for(let p=0;p<u;p++)E(a,()=>{const b=(0,nt.Q)(w[p],a);let O=!1;b.subscribe((0,y.e)(d,N=>{c[p]=N,O||(O=!0,m--),m||d.next(l(c.slice()))},()=>{--s||d.complete()}))},d)},d)}}(d,a,u?s=>(0,C.q)(u,s):_e.Z));return l?c.pipe((0,o.j)(l)):c}function E(w,a,l){w?(0,_._)(l,w,a):a()}},7228:(dn,Pt,he)=>{"use strict";he.d(Pt,{W:()=>o});var v=he(267),nt=he(6624),_e=he(2115);function o(...W){return function we(){return(0,v.u)(1)}()((0,_e.Q)(W,(0,nt.e_)(W)))}},1424:(dn,Pt,he)=>{"use strict";he.d(Pt,{Q:()=>nt});var v=he(3252),we=he(560);function nt(_e){return new v._(o=>{(0,we.Uv)(_e()).subscribe(o)})}},8960:(dn,Pt,he)=>{"use strict";he.d(Pt,{k:()=>we});const we=new(he(3252)._)(o=>o.complete())},2115:(dn,Pt,he)=>{"use strict";he.d(Pt,{Q:()=>N});var v=he(560),we=he(9399),nt=he(5448),_e=he(7773);function o(R,k=0){return(0,nt.i)((A,$)=>{A.subscribe((0,_e.e)($,j=>(0,we._)($,R,()=>$.next(j),k),()=>(0,we._)($,R,()=>$.complete(),k),j=>(0,we._)($,R,()=>$.error(j),k)))})}function W(R,k=0){return(0,nt.i)((A,$)=>{$.add(R.schedule(()=>A.subscribe($),k))})}var _=he(3252),f=he(3835),E=he(8880);function a(R,k){if(!R)throw new Error("Iterable cannot be null");return new _._(A=>{(0,we._)(A,k,()=>{const $=R[Symbol.asyncIterator]();(0,we._)(A,k,()=>{$.next().then(j=>{j.done?A.complete():A.next(j.value)})},0,!0)})})}var l=he(5099),d=he(5432),u=he(5428),c=he(1688),s=he(376),m=he(8272),p=he(5832);function N(R,k){return k?function O(R,k){if(null!=R){if((0,l.O)(R))return function C(R,k){return(0,v.Uv)(R).pipe(W(k),o(k))}(R,k);if((0,u.G)(R))return function h(R,k){return new _._(A=>{let $=0;return k.schedule(function(){$===R.length?A.complete():(A.next(R[$++]),A.closed||this.schedule())})})}(R,k);if((0,d.u)(R))return function y(R,k){return(0,v.Uv)(R).pipe(W(k),o(k))}(R,k);if((0,s.E)(R))return a(R,k);if((0,c.i)(R))return function w(R,k){return new _._(A=>{let $;return(0,we._)(A,k,()=>{$=R[f.w](),(0,we._)(A,k,()=>{let j,S;try{({value:j,done:S}=$.next())}catch(D){return void A.error(D)}S?A.complete():A.next(j)},0,!0)}),()=>(0,E.m)(null==$?void 0:$.return)&&$.return()})}(R,k);if((0,p.K)(R))return function b(R,k){return a((0,p._)(R),k)}(R,k)}throw(0,m.W)(R)}(R,k):(0,v.Uv)(R)}},800:(dn,Pt,he)=>{"use strict";he.d(Pt,{w:()=>h});var v=he(560),we=he(3252),nt=he(7400),_e=he(5428),o=he(8880),W=he(4187);const C=["addListener","removeListener"],y=["addEventListener","removeEventListener"],_=["on","off"];function h(l,d,u,c){if((0,o.m)(u)&&(c=u,u=void 0),c)return h(l,d,u).pipe((0,W.j)(c));const[s,m]=function a(l){return(0,o.m)(l.addEventListener)&&(0,o.m)(l.removeEventListener)}(l)?y.map(p=>b=>l[p](d,b,u)):function E(l){return(0,o.m)(l.addListener)&&(0,o.m)(l.removeListener)}(l)?C.map(f(l,d)):function w(l){return(0,o.m)(l.on)&&(0,o.m)(l.off)}(l)?_.map(f(l,d)):[];if(!s&&(0,_e.G)(l))return(0,nt.O)(p=>h(p,d,u))((0,v.Uv)(l));if(!s)throw new TypeError("Invalid event target");return new we._(p=>{const b=(...O)=>p.next(1<O.length?O:O[0]);return s(b),()=>m(b)})}function f(l,d){return u=>c=>l[u](d,c)}},560:(dn,Pt,he)=>{"use strict";he.d(Pt,{Uv:()=>w});var v=he(1316),we=he(5428),nt=he(5432),_e=he(3252),o=he(5099),W=he(376),C=he(8272),y=he(1688),_=he(5832),h=he(8880),f=he(1984),E=he(472);function w(p){if(p instanceof _e._)return p;if(null!=p){if((0,o.O)(p))return function a(p){return new _e._(b=>{const O=p[E.a]();if((0,h.m)(O.subscribe))return O.subscribe(b);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,we.G)(p))return function l(p){return new _e._(b=>{for(let O=0;O<p.length&&!b.closed;O++)b.next(p[O]);b.complete()})}(p);if((0,nt.u)(p))return function d(p){return new _e._(b=>{p.then(O=>{b.closed||(b.next(O),b.complete())},O=>b.error(O)).then(null,f.U)})}(p);if((0,W.E)(p))return c(p);if((0,y.i)(p))return function u(p){return new _e._(b=>{for(const O of p)if(b.next(O),b.closed)return;b.complete()})}(p);if((0,_.K)(p))return function s(p){return c((0,_._)(p))}(p)}throw(0,C.W)(p)}function c(p){return new _e._(b=>{(function m(p,b){var O,N,R,k;return(0,v.kH)(this,void 0,void 0,function*(){try{for(O=(0,v.mA)(p);!(N=yield O.next()).done;)if(b.next(N.value),b.closed)return}catch(A){R={error:A}}finally{try{N&&!N.done&&(k=O.return)&&(yield k.call(O))}finally{if(R)throw R.error}}b.complete()})})(p,b).catch(O=>b.error(O))})}},2700:(dn,Pt,he)=>{"use strict";he.d(Pt,{of:()=>nt});var v=he(6624),we=he(2115);function nt(..._e){const o=(0,v.e_)(_e);return(0,we.Q)(_e,o)}},3800:(dn,Pt,he)=>{"use strict";he.d(Pt,{c:()=>nt});var v=he(3252),we=he(8880);function nt(_e,o){const W=(0,we.m)(_e)?_e:()=>_e,C=y=>y.error(W());return new v._(o?y=>o.schedule(C,0,y):C)}},7773:(dn,Pt,he)=>{"use strict";he.d(Pt,{e:()=>we});var v=he(1760);function we(_e,o,W,C,y){return new nt(_e,o,W,C,y)}class nt extends v.yR{constructor(o,W,C,y,_,h){super(o),this.onFinalize=_,this.shouldUnsubscribe=h,this._next=W?function(f){try{W(f)}catch(E){o.error(E)}}:super._next,this._error=y?function(f){try{y(f)}catch(E){o.error(E)}finally{this.unsubscribe()}}:super._error,this._complete=C?function(){try{C()}catch(f){o.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:W}=this;super.unsubscribe(),!W&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},6684:(dn,Pt,he)=>{"use strict";he.d(Pt,{I:()=>nt});var v=he(5448),we=he(7773);function nt(_e,o){return(0,v.i)((W,C)=>{let y=0;W.subscribe((0,we.e)(C,_=>_e.call(o,_,y++)&&C.next(_)))})}},4704:(dn,Pt,he)=>{"use strict";he.d(Pt,{k:()=>nt});var v=he(5448),we=he(7773);function nt(_e,o){return(0,v.i)((W,C)=>{let y=0;W.subscribe((0,we.e)(C,_=>{C.next(_e.call(o,_,y++))}))})}},320:(dn,Pt,he)=>{"use strict";he.d(Pt,{e:()=>we});var v=he(4704);function we(nt){return(0,v.k)(()=>nt)}},267:(dn,Pt,he)=>{"use strict";he.d(Pt,{u:()=>nt});var v=he(7400),we=he(528);function nt(_e=1/0){return(0,v.O)(we.Z,_e)}},7400:(dn,Pt,he)=>{"use strict";he.d(Pt,{O:()=>y});var v=he(4704),we=he(560),nt=he(5448),_e=he(9399),o=he(7773),C=he(8880);function y(_,h,f=1/0){return(0,C.m)(h)?y((E,w)=>(0,v.k)((a,l)=>h(E,a,w,l))((0,we.Uv)(_(E,w))),f):("number"==typeof h&&(f=h),(0,nt.i)((E,w)=>function W(_,h,f,E,w,a,l,d){const u=[];let c=0,s=0,m=!1;const p=()=>{m&&!u.length&&!c&&h.complete()},b=N=>c<E?O(N):u.push(N),O=N=>{a&&h.next(N),c++;let R=!1;(0,we.Uv)(f(N,s++)).subscribe((0,o.e)(h,k=>{null==w||w(k),a?b(k):h.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(c--;u.length&&c<E;){const k=u.shift();l?(0,_e._)(h,l,()=>O(k)):O(k)}p()}catch(k){h.error(k)}}))};return _.subscribe((0,o.e)(h,b,()=>{m=!0,p()})),()=>{null==d||d()}}(E,w,_,f)))}},8084:(dn,Pt,he)=>{"use strict";he.d(Pt,{O:()=>nt});var v=he(5448),we=he(7773);function nt(){return(0,v.i)((_e,o)=>{let W=null;_e._refCount++;const C=(0,we.e)(o,void 0,void 0,void 0,()=>{if(!_e||_e._refCount<=0||0<--_e._refCount)return void(W=null);const y=_e._connection,_=W;W=null,y&&(!_||y===_)&&y.unsubscribe(),o.unsubscribe()});_e.subscribe(C),C.closed||(W=_e.connect())})}},7368:(dn,Pt,he)=>{"use strict";he.d(Pt,{G:()=>_e});var v=he(560),we=he(5448),nt=he(7773);function _e(o,W){return(0,we.i)((C,y)=>{let _=null,h=0,f=!1;const E=()=>f&&!_&&y.complete();C.subscribe((0,nt.e)(y,w=>{null==_||_.unsubscribe();let a=0;const l=h++;(0,v.Uv)(o(w,l)).subscribe(_=(0,nt.e)(y,d=>y.next(W?W(w,d,l,a++):d),()=>{_=null,E()}))},()=>{f=!0,E()}))})}},3992:(dn,Pt,he)=>{"use strict";he.d(Pt,{U:()=>_e});var v=he(8960),we=he(5448),nt=he(7773);function _e(o){return o<=0?()=>v.k:(0,we.i)((W,C)=>{let y=0;W.subscribe((0,nt.e)(C,_=>{++y<=o&&(C.next(_),o<=y&&C.complete())}))})}},9212:(dn,Pt,he)=>{"use strict";he.d(Pt,{y:()=>o});var v=he(8880),we=he(5448),nt=he(7773),_e=he(528);function o(W,C,y){const _=(0,v.m)(W)||C||y?{next:W,error:C,complete:y}:W;return _?(0,we.i)((h,f)=>{var E;null===(E=_.subscribe)||void 0===E||E.call(_);let w=!0;h.subscribe((0,nt.e)(f,a=>{var l;null===(l=_.next)||void 0===l||l.call(_,a),f.next(a)},()=>{var a;w=!1,null===(a=_.complete)||void 0===a||a.call(_),f.complete()},a=>{var l;w=!1,null===(l=_.error)||void 0===l||l.call(_,a),f.error(a)},()=>{var a,l;w&&(null===(a=_.unsubscribe)||void 0===a||a.call(_)),null===(l=_.finalize)||void 0===l||l.call(_)}))}):_e.Z}},3376:(dn,Pt,he)=>{"use strict";he.d(Pt,{u:()=>v});const v={setTimeout(we,nt,..._e){const{delegate:o}=v;return null!=o&&o.setTimeout?o.setTimeout(we,nt,..._e):setTimeout(we,nt,..._e)},clearTimeout(we){const{delegate:nt}=v;return((null==nt?void 0:nt.clearTimeout)||clearTimeout)(we)},delegate:void 0}},3835:(dn,Pt,he)=>{"use strict";he.d(Pt,{w:()=>we});const we=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},472:(dn,Pt,he)=>{"use strict";he.d(Pt,{a:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6624:(dn,Pt,he)=>{"use strict";he.d(Pt,{_8:()=>W,e_:()=>o,yu:()=>_e});var v=he(8880),we=he(3048);function nt(C){return C[C.length-1]}function _e(C){return(0,v.m)(nt(C))?C.pop():void 0}function o(C){return(0,we.G)(nt(C))?C.pop():void 0}function W(C,y){return"number"==typeof nt(C)?C.pop():y}},4300:(dn,Pt,he)=>{"use strict";he.d(Pt,{Q:()=>o});const{isArray:v}=Array,{getPrototypeOf:we,prototype:nt,keys:_e}=Object;function o(C){if(1===C.length){const y=C[0];if(v(y))return{args:y,keys:null};if(function W(C){return C&&"object"==typeof C&&we(C)===nt}(y)){const _=_e(y);return{args:_.map(h=>y[h]),keys:_}}}return{args:C,keys:null}}},1248:(dn,Pt,he)=>{"use strict";function v(we,nt){if(we){const _e=we.indexOf(nt);0<=_e&&we.splice(_e,1)}}he.d(Pt,{k:()=>v})},4912:(dn,Pt,he)=>{"use strict";function v(we){const _e=we(o=>{Error.call(o),o.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}he.d(Pt,{w:()=>v})},7904:(dn,Pt,he)=>{"use strict";function v(we,nt){return we.reduce((_e,o,W)=>(_e[o]=nt[W],_e),{})}he.d(Pt,{q:()=>v})},2075:(dn,Pt,he)=>{"use strict";he.d(Pt,{c:()=>nt,q:()=>_e});var v=he(4491);let we=null;function nt(o){if(v.config.useDeprecatedSynchronousErrorHandling){const W=!we;if(W&&(we={errorThrown:!1,error:null}),o(),W){const{errorThrown:C,error:y}=we;if(we=null,C)throw y}}else o()}function _e(o){v.config.useDeprecatedSynchronousErrorHandling&&we&&(we.errorThrown=!0,we.error=o)}},9399:(dn,Pt,he)=>{"use strict";function v(we,nt,_e,o=0,W=!1){const C=nt.schedule(function(){_e(),W?we.add(this.schedule(null,o)):this.unsubscribe()},o);if(we.add(C),!W)return C}he.d(Pt,{_:()=>v})},528:(dn,Pt,he)=>{"use strict";function v(we){return we}he.d(Pt,{Z:()=>v})},5428:(dn,Pt,he)=>{"use strict";he.d(Pt,{G:()=>v});const v=we=>we&&"number"==typeof we.length&&"function"!=typeof we},376:(dn,Pt,he)=>{"use strict";he.d(Pt,{E:()=>we});var v=he(8880);function we(nt){return Symbol.asyncIterator&&(0,v.m)(null==nt?void 0:nt[Symbol.asyncIterator])}},8880:(dn,Pt,he)=>{"use strict";function v(we){return"function"==typeof we}he.d(Pt,{m:()=>v})},5099:(dn,Pt,he)=>{"use strict";he.d(Pt,{O:()=>nt});var v=he(472),we=he(8880);function nt(_e){return(0,we.m)(_e[v.a])}},1688:(dn,Pt,he)=>{"use strict";he.d(Pt,{i:()=>nt});var v=he(3835),we=he(8880);function nt(_e){return(0,we.m)(null==_e?void 0:_e[v.w])}},5432:(dn,Pt,he)=>{"use strict";he.d(Pt,{u:()=>we});var v=he(8880);function we(nt){return(0,v.m)(null==nt?void 0:nt.then)}},5832:(dn,Pt,he)=>{"use strict";he.d(Pt,{K:()=>_e,_:()=>nt});var v=he(1316),we=he(8880);function nt(o){return(0,v.o7)(this,arguments,function*(){const C=o.getReader();try{for(;;){const{value:y,done:_}=yield(0,v.U1)(C.read());if(_)return yield(0,v.U1)(void 0);yield yield(0,v.U1)(y)}}finally{C.releaseLock()}})}function _e(o){return(0,we.m)(null==o?void 0:o.getReader)}},3048:(dn,Pt,he)=>{"use strict";he.d(Pt,{G:()=>we});var v=he(8880);function we(nt){return nt&&(0,v.m)(nt.schedule)}},5448:(dn,Pt,he)=>{"use strict";he.d(Pt,{e:()=>we,i:()=>nt});var v=he(8880);function we(_e){return(0,v.m)(null==_e?void 0:_e.lift)}function nt(_e){return o=>{if(we(o))return o.lift(function(W){try{return _e(W,this)}catch(C){this.error(C)}});throw new TypeError("Unable to lift unknown Observable type")}}},4187:(dn,Pt,he)=>{"use strict";he.d(Pt,{j:()=>_e});var v=he(4704);const{isArray:we}=Array;function _e(o){return(0,v.k)(W=>function nt(o,W){return we(W)?o(...W):o(W)}(o,W))}},308:(dn,Pt,he)=>{"use strict";function v(){}he.d(Pt,{K:()=>v})},3928:(dn,Pt,he)=>{"use strict";he.d(Pt,{W:()=>we,Y:()=>nt});var v=he(528);function we(..._e){return nt(_e)}function nt(_e){return 0===_e.length?v.Z:1===_e.length?_e[0]:function(W){return _e.reduce((C,y)=>y(C),W)}}},1984:(dn,Pt,he)=>{"use strict";he.d(Pt,{U:()=>nt});var v=he(4491),we=he(3376);function nt(_e){we.u.setTimeout(()=>{const{onUnhandledError:o}=v.config;if(!o)throw _e;o(_e)})}},8272:(dn,Pt,he)=>{"use strict";function v(we){return new TypeError(`You provided ${null!==we&&"object"==typeof we?"an invalid object":`'${we}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}he.d(Pt,{W:()=>v})},1480:(dn,Pt,he)=>{var v={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function we(nt){if(!he.o(v,nt))return Promise.resolve().then(()=>{var W=new Error("Cannot find module '"+nt+"'");throw W.code="MODULE_NOT_FOUND",W});var _e=v[nt],o=_e[0];return Promise.all(_e.slice(1).map(he.e)).then(()=>he(o))}we.keys=()=>Object.keys(v),we.id=1480,dn.exports=we},996:(dn,Pt,he)=>{var v={"./pwa-action-sheet.entry.js":[2152,2152],"./pwa-camera-modal-instance.entry.js":[1148,1148],"./pwa-camera-modal.entry.js":[6056,6056],"./pwa-camera.entry.js":[580,580],"./pwa-toast.entry.js":[3276,3276]};function we(nt){if(!he.o(v,nt))return Promise.resolve().then(()=>{var W=new Error("Cannot find module '"+nt+"'");throw W.code="MODULE_NOT_FOUND",W});var _e=v[nt],o=_e[0];return he.e(_e[1]).then(()=>he(o))}we.keys=()=>Object.keys(v),we.id=996,dn.exports=we},6636:(dn,Pt,he)=>{var v=he(9848).default;function we(){"use strict";dn.exports=we=function(){return _e},dn.exports.__esModule=!0,dn.exports.default=dn.exports;var nt,_e={},o=Object.prototype,W=o.hasOwnProperty,C=Object.defineProperty||function(Q,Y,q){Q[Y]=q.value},y="function"==typeof Symbol?Symbol:{},_=y.iterator||"@@iterator",h=y.asyncIterator||"@@asyncIterator",f=y.toStringTag||"@@toStringTag";function E(Q,Y,q){return Object.defineProperty(Q,Y,{value:q,enumerable:!0,configurable:!0,writable:!0}),Q[Y]}try{E({},"")}catch{E=function(q,ne,de){return q[ne]=de}}function w(Q,Y,q,ne){var xe=Object.create((Y&&Y.prototype instanceof m?Y:m).prototype),K=new Z(ne||[]);return C(xe,"_invoke",{value:j(Q,q,K)}),xe}function a(Q,Y,q){try{return{type:"normal",arg:Q.call(Y,q)}}catch(ne){return{type:"throw",arg:ne}}}_e.wrap=w;var l="suspendedStart",d="suspendedYield",u="executing",c="completed",s={};function m(){}function p(){}function b(){}var O={};E(O,_,function(){return this});var N=Object.getPrototypeOf,R=N&&N(N(H([])));R&&R!==o&&W.call(R,_)&&(O=R);var k=b.prototype=m.prototype=Object.create(O);function A(Q){["next","throw","return"].forEach(function(Y){E(Q,Y,function(q){return this._invoke(Y,q)})})}function $(Q,Y){function q(de,xe,K,L){var re=a(Q[de],Q,xe);if("throw"!==re.type){var ge=re.arg,Me=ge.value;return Me&&"object"==v(Me)&&W.call(Me,"__await")?Y.resolve(Me.__await).then(function(Le){q("next",Le,K,L)},function(Le){q("throw",Le,K,L)}):Y.resolve(Me).then(function(Le){ge.value=Le,K(ge)},function(Le){return q("throw",Le,K,L)})}L(re.arg)}var ne;C(this,"_invoke",{value:function(xe,K){function L(){return new Y(function(re,ge){q(xe,K,re,ge)})}return ne=ne?ne.then(L,L):L()}})}function j(Q,Y,q){var ne=l;return function(de,xe){if(ne===u)throw new Error("Generator is already running");if(ne===c){if("throw"===de)throw xe;return{value:nt,done:!0}}for(q.method=de,q.arg=xe;;){var K=q.delegate;if(K){var L=S(K,q);if(L){if(L===s)continue;return L}}if("next"===q.method)q.sent=q._sent=q.arg;else if("throw"===q.method){if(ne===l)throw ne=c,q.arg;q.dispatchException(q.arg)}else"return"===q.method&&q.abrupt("return",q.arg);ne=u;var re=a(Q,Y,q);if("normal"===re.type){if(ne=q.done?c:d,re.arg===s)continue;return{value:re.arg,done:q.done}}"throw"===re.type&&(ne=c,q.method="throw",q.arg=re.arg)}}}function S(Q,Y){var q=Y.method,ne=Q.iterator[q];if(ne===nt)return Y.delegate=null,"throw"===q&&Q.iterator.return&&(Y.method="return",Y.arg=nt,S(Q,Y),"throw"===Y.method)||"return"!==q&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+q+"' method")),s;var de=a(ne,Q.iterator,Y.arg);if("throw"===de.type)return Y.method="throw",Y.arg=de.arg,Y.delegate=null,s;var xe=de.arg;return xe?xe.done?(Y[Q.resultName]=xe.value,Y.next=Q.nextLoc,"return"!==Y.method&&(Y.method="next",Y.arg=nt),Y.delegate=null,s):xe:(Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,s)}function D(Q){var Y={tryLoc:Q[0]};1 in Q&&(Y.catchLoc=Q[1]),2 in Q&&(Y.finallyLoc=Q[2],Y.afterLoc=Q[3]),this.tryEntries.push(Y)}function V(Q){var Y=Q.completion||{};Y.type="normal",delete Y.arg,Q.completion=Y}function Z(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(D,this),this.reset(!0)}function H(Q){if(Q||""===Q){var Y=Q[_];if(Y)return Y.call(Q);if("function"==typeof Q.next)return Q;if(!isNaN(Q.length)){var q=-1,ne=function de(){for(;++q<Q.length;)if(W.call(Q,q))return de.value=Q[q],de.done=!1,de;return de.value=nt,de.done=!0,de};return ne.next=ne}}throw new TypeError(v(Q)+" is not iterable")}return p.prototype=b,C(k,"constructor",{value:b,configurable:!0}),C(b,"constructor",{value:p,configurable:!0}),p.displayName=E(b,f,"GeneratorFunction"),_e.isGeneratorFunction=function(Q){var Y="function"==typeof Q&&Q.constructor;return!!Y&&(Y===p||"GeneratorFunction"===(Y.displayName||Y.name))},_e.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,b):(Q.__proto__=b,E(Q,f,"GeneratorFunction")),Q.prototype=Object.create(k),Q},_e.awrap=function(Q){return{__await:Q}},A($.prototype),E($.prototype,h,function(){return this}),_e.AsyncIterator=$,_e.async=function(Q,Y,q,ne,de){void 0===de&&(de=Promise);var xe=new $(w(Q,Y,q,ne),de);return _e.isGeneratorFunction(Y)?xe:xe.next().then(function(K){return K.done?K.value:xe.next()})},A(k),E(k,f,"Generator"),E(k,_,function(){return this}),E(k,"toString",function(){return"[object Generator]"}),_e.keys=function(Q){var Y=Object(Q),q=[];for(var ne in Y)q.push(ne);return q.reverse(),function de(){for(;q.length;){var xe=q.pop();if(xe in Y)return de.value=xe,de.done=!1,de}return de.done=!0,de}},_e.values=H,Z.prototype={constructor:Z,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=nt,this.done=!1,this.delegate=null,this.method="next",this.arg=nt,this.tryEntries.forEach(V),!Y)for(var q in this)"t"===q.charAt(0)&&W.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=nt)},stop:function(){this.done=!0;var Y=this.tryEntries[0].completion;if("throw"===Y.type)throw Y.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var q=this;function ne(ge,Me){return K.type="throw",K.arg=Y,q.next=ge,Me&&(q.method="next",q.arg=nt),!!Me}for(var de=this.tryEntries.length-1;de>=0;--de){var xe=this.tryEntries[de],K=xe.completion;if("root"===xe.tryLoc)return ne("end");if(xe.tryLoc<=this.prev){var L=W.call(xe,"catchLoc"),re=W.call(xe,"finallyLoc");if(L&&re){if(this.prev<xe.catchLoc)return ne(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return ne(xe.finallyLoc)}else if(L){if(this.prev<xe.catchLoc)return ne(xe.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return ne(xe.finallyLoc)}}}},abrupt:function(Y,q){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var de=this.tryEntries[ne];if(de.tryLoc<=this.prev&&W.call(de,"finallyLoc")&&this.prev<de.finallyLoc){var xe=de;break}}xe&&("break"===Y||"continue"===Y)&&xe.tryLoc<=q&&q<=xe.finallyLoc&&(xe=null);var K=xe?xe.completion:{};return K.type=Y,K.arg=q,xe?(this.method="next",this.next=xe.finallyLoc,s):this.complete(K)},complete:function(Y,q){if("throw"===Y.type)throw Y.arg;return"break"===Y.type||"continue"===Y.type?this.next=Y.arg:"return"===Y.type?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):"normal"===Y.type&&q&&(this.next=q),s},finish:function(Y){for(var q=this.tryEntries.length-1;q>=0;--q){var ne=this.tryEntries[q];if(ne.finallyLoc===Y)return this.complete(ne.completion,ne.afterLoc),V(ne),s}},catch:function(Y){for(var q=this.tryEntries.length-1;q>=0;--q){var ne=this.tryEntries[q];if(ne.tryLoc===Y){var de=ne.completion;if("throw"===de.type){var xe=de.arg;V(ne)}return xe}}throw new Error("illegal catch attempt")},delegateYield:function(Y,q,ne){return this.delegate={iterator:H(Y),resultName:q,nextLoc:ne},"next"===this.method&&(this.arg=nt),s}},_e}dn.exports=we,dn.exports.__esModule=!0,dn.exports.default=dn.exports},9848:dn=>{function Pt(he){return dn.exports=Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},dn.exports.__esModule=!0,dn.exports.default=dn.exports,Pt(he)}dn.exports=Pt,dn.exports.__esModule=!0,dn.exports.default=dn.exports},3248:(dn,Pt,he)=>{var v=he(6636)();dn.exports=v;try{regeneratorRuntime=v}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=v:Function("r","regeneratorRuntime = r")(v)}},1368:(dn,Pt,he)=>{"use strict";he.d(Pt,{MD:()=>Eo,MP:()=>u,OM:()=>Ro,Qd:()=>a,Sg:()=>ye,Ud:()=>C,XV:()=>Wt,YZ:()=>Yn,_k:()=>Dr,ay:()=>Rn,c0:()=>po,mQ:()=>_,mg:()=>o,oB:()=>c,uC:()=>d,u_:()=>yr,uf:()=>qo,ug:()=>_e,uy:()=>nt});var v=he(4496);let we=null;function nt(){return we}function _e(ce){var Te;null!==(Te=we)&&void 0!==Te||(we=ce)}class o{}const C=new v.UbH("");let y=(()=>{var ce;class Te{historyGo(De){throw new Error("")}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=v.wxM({token:ce,factory:()=>(0,v.uUt)(h),providedIn:"platform"}),Te})();const _=new v.UbH("");let h=(()=>{var ce;class Te extends y{constructor(){super(),this._doc=(0,v.uUt)(C),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nt().getBaseHref(this._doc)}onPopState(De){const tt=nt().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("popstate",De,!1),()=>tt.removeEventListener("popstate",De)}onHashChange(De){const tt=nt().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("hashchange",De,!1),()=>tt.removeEventListener("hashchange",De)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(De){this._location.pathname=De}pushState(De,tt,Ct){this._history.pushState(De,tt,Ct)}replaceState(De,tt,Ct){this._history.replaceState(De,tt,Ct)}forward(){this._history.forward()}back(){this._history.back()}historyGo(De=0){this._history.go(De)}getState(){return this._history.state}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=v.wxM({token:ce,factory:()=>new ce,providedIn:"platform"}),Te})();function f(ce,Te){if(0==ce.length)return Te;if(0==Te.length)return ce;let dt=0;return ce.endsWith("/")&&dt++,Te.startsWith("/")&&dt++,2==dt?ce+Te.substring(1):1==dt?ce+Te:ce+"/"+Te}function E(ce){const Te=ce.match(/#|\?|$/),dt=Te&&Te.index||ce.length;return ce.slice(0,dt-("/"===ce[dt-1]?1:0))+ce.slice(dt)}function w(ce){return ce&&"?"!==ce[0]?"?"+ce:ce}let a=(()=>{var ce;class Te{historyGo(De){throw new Error("")}}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275prov=v.wxM({token:ce,factory:()=>(0,v.uUt)(d),providedIn:"root"}),Te})();const l=new v.UbH("");let d=(()=>{var ce;class Te extends a{constructor(De,tt){var Ct,ln,In;super(),this._platformLocation=De,this._removeListenerFns=[],this._baseHref=null!==(Ct=null!==(ln=null!=tt?tt:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ln?ln:null===(In=(0,v.uUt)(C).location)||void 0===In?void 0:In.origin)&&void 0!==Ct?Ct:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(De){this._removeListenerFns.push(this._platformLocation.onPopState(De),this._platformLocation.onHashChange(De))}getBaseHref(){return this._baseHref}prepareExternalUrl(De){return f(this._baseHref,De)}path(De=!1){const tt=this._platformLocation.pathname+w(this._platformLocation.search),Ct=this._platformLocation.hash;return Ct&&De?`${tt}${Ct}`:tt}pushState(De,tt,Ct,ln){const In=this.prepareExternalUrl(Ct+w(ln));this._platformLocation.pushState(De,tt,In)}replaceState(De,tt,Ct,ln){const In=this.prepareExternalUrl(Ct+w(ln));this._platformLocation.replaceState(De,tt,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(De=0){var tt,Ct;null===(tt=(Ct=this._platformLocation).historyGo)||void 0===tt||tt.call(Ct,De)}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(v.CoB(y),v.CoB(l,8))},ce.\u0275prov=v.wxM({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})(),u=(()=>{var ce;class Te extends a{constructor(De,tt){super(),this._platformLocation=De,this._baseHref="",this._removeListenerFns=[],null!=tt&&(this._baseHref=tt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(De){this._removeListenerFns.push(this._platformLocation.onPopState(De),this._platformLocation.onHashChange(De))}getBaseHref(){return this._baseHref}path(De=!1){var tt;const Ct=null!==(tt=this._platformLocation.hash)&&void 0!==tt?tt:"#";return Ct.length>0?Ct.substring(1):Ct}prepareExternalUrl(De){const tt=f(this._baseHref,De);return tt.length>0?"#"+tt:tt}pushState(De,tt,Ct,ln){let In=this.prepareExternalUrl(Ct+w(ln));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.pushState(De,tt,In)}replaceState(De,tt,Ct,ln){let In=this.prepareExternalUrl(Ct+w(ln));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.replaceState(De,tt,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(De=0){var tt,Ct;null===(tt=(Ct=this._platformLocation).historyGo)||void 0===tt||tt.call(Ct,De)}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(v.CoB(y),v.CoB(l,8))},ce.\u0275prov=v.wxM({token:ce,factory:ce.\u0275fac}),Te})(),c=(()=>{var ce;class Te{constructor(De){this._subject=new v._w7,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=De;const tt=this._locationStrategy.getBaseHref();this._basePath=function b(ce){if(new RegExp("^(https?:)?//").test(ce)){const[,dt]=ce.split(/\/\/[^\/]+/);return dt}return ce}(E(p(tt))),this._locationStrategy.onPopState(Ct=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ct.state,type:Ct.type})})}ngOnDestroy(){var De;null===(De=this._urlChangeSubscription)||void 0===De||De.unsubscribe(),this._urlChangeListeners=[]}path(De=!1){return this.normalize(this._locationStrategy.path(De))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(De,tt=""){return this.path()==this.normalize(De+w(tt))}normalize(De){return Te.stripTrailingSlash(function m(ce,Te){if(!ce||!Te.startsWith(ce))return Te;const dt=Te.substring(ce.length);return""===dt||["/",";","?","#"].includes(dt[0])?dt:Te}(this._basePath,p(De)))}prepareExternalUrl(De){return De&&"/"!==De[0]&&(De="/"+De),this._locationStrategy.prepareExternalUrl(De)}go(De,tt="",Ct=null){this._locationStrategy.pushState(Ct,"",De,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(De+w(tt)),Ct)}replaceState(De,tt="",Ct=null){this._locationStrategy.replaceState(Ct,"",De,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(De+w(tt)),Ct)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(De=0){var tt,Ct;null===(tt=(Ct=this._locationStrategy).historyGo)||void 0===tt||tt.call(Ct,De)}onUrlChange(De){var tt;return this._urlChangeListeners.push(De),null!==(tt=this._urlChangeSubscription)&&void 0!==tt||(this._urlChangeSubscription=this.subscribe(Ct=>{this._notifyUrlChangeListeners(Ct.url,Ct.state)})),()=>{const Ct=this._urlChangeListeners.indexOf(De);var ln;this._urlChangeListeners.splice(Ct,1),0===this._urlChangeListeners.length&&(null===(ln=this._urlChangeSubscription)||void 0===ln||ln.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(De="",tt){this._urlChangeListeners.forEach(Ct=>Ct(De,tt))}subscribe(De,tt,Ct){return this._subject.subscribe({next:De,error:tt,complete:Ct})}}return(ce=Te).normalizeQueryParams=w,ce.joinWithSlash=f,ce.stripTrailingSlash=E,ce.\u0275fac=function(De){return new(De||ce)(v.CoB(a))},ce.\u0275prov=v.wxM({token:ce,factory:()=>function s(){return new c((0,v.CoB)(a))}(),providedIn:"root"}),Te})();function p(ce){return ce.replace(/\/index.html$/,"")}function ye(ce,Te){Te=encodeURIComponent(Te);for(const dt of ce.split(";")){const De=dt.indexOf("="),[tt,Ct]=-1==De?[dt,""]:[dt.slice(0,De),dt.slice(De+1)];if(tt.trim()===Te)return decodeURIComponent(Ct)}return null}class En{constructor(Te,dt,De,tt){this.$implicit=Te,this.ngForOf=dt,this.index=De,this.count=tt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{var ce;class Te{set ngForOf(De){this._ngForOf=De,this._ngForOfDirty=!0}set ngForTrackBy(De){this._trackByFn=De}get ngForTrackBy(){return this._trackByFn}constructor(De,tt,Ct){this._viewContainer=De,this._template=tt,this._differs=Ct,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(De){De&&(this._template=De)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const De=this._ngForOf;!this._differ&&De&&(this._differ=this._differs.find(De).create(this.ngForTrackBy))}if(this._differ){const De=this._differ.diff(this._ngForOf);De&&this._applyChanges(De)}}_applyChanges(De){const tt=this._viewContainer;De.forEachOperation((Ct,ln,In)=>{if(null==Ct.previousIndex)tt.createEmbeddedView(this._template,new En(Ct.item,this._ngForOf,-1,-1),null===In?void 0:In);else if(null==In)tt.remove(null===ln?void 0:ln);else if(null!==ln){const rr=tt.get(ln);tt.move(rr,In),Wn(rr,Ct)}});for(let Ct=0,ln=tt.length;Ct<ln;Ct++){const rr=tt.get(Ct).context;rr.index=Ct,rr.count=ln,rr.ngForOf=this._ngForOf}De.forEachIdentityChange(Ct=>{Wn(tt.get(Ct.currentIndex),Ct)})}static ngTemplateContextGuard(De,tt){return!0}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(v.GI1(v.y8U),v.GI1(v.Yw2),v.GI1(v.Uj7))},ce.\u0275dir=v.Sc5({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Te})();function Wn(ce,Te){ce.context.$implicit=Te.item}let yr=(()=>{var ce;class Te{constructor(De,tt){this._viewContainer=De,this._context=new st,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=tt}set ngIf(De){this._context.$implicit=this._context.ngIf=De,this._updateView()}set ngIfThen(De){ft("ngIfThen",De),this._thenTemplateRef=De,this._thenViewRef=null,this._updateView()}set ngIfElse(De){ft("ngIfElse",De),this._elseTemplateRef=De,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(De,tt){return!0}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(v.GI1(v.y8U),v.GI1(v.Yw2))},ce.\u0275dir=v.Sc5({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Te})();class st{constructor(){this.$implicit=null,this.ngIf=null}}function ft(ce,Te){if(Te&&!Te.createEmbeddedView)throw new Error(`${ce} must be a TemplateRef, but received '${(0,v.GEN)(Te)}'.`)}let Wt=(()=>{var ce;class Te{constructor(De){this._viewContainerRef=De,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(De){if(this._shouldRecreateView(De)){var tt;const Ct=this._viewContainerRef;if(this._viewRef&&Ct.remove(Ct.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ln=this._createContextForwardProxy();this._viewRef=Ct.createEmbeddedView(this.ngTemplateOutlet,ln,{injector:null!==(tt=this.ngTemplateOutletInjector)&&void 0!==tt?tt:void 0})}}_shouldRecreateView(De){return!!De.ngTemplateOutlet||!!De.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(De,tt,Ct)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,tt,Ct),get:(De,tt,Ct)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,tt,Ct)}})}}return(ce=Te).\u0275fac=function(De){return new(De||ce)(v.GI1(v.y8U))},ce.\u0275dir=v.Sc5({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[v.SYr]}),Te})(),Eo=(()=>{var ce;class Te{}return(ce=Te).\u0275fac=function(De){return new(De||ce)},ce.\u0275mod=v.a4G({type:ce}),ce.\u0275inj=v.s3X({}),Te})();const Dr="browser",So="server";function po(ce){return ce===Dr}function qo(ce){return ce===So}let Yn=(()=>{var ce;class Te{}return(ce=Te).\u0275prov=(0,v.wxM)({token:ce,providedIn:"root",factory:()=>po((0,v.uUt)(v.AHE))?new Uo((0,v.uUt)(C),window):new co}),Te})();class Uo{constructor(Te,dt){this.document=Te,this.window=dt,this.offset=()=>[0,0]}setOffset(Te){this.offset=Array.isArray(Te)?()=>Te:Te}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Te){this.window.scrollTo(Te[0],Te[1])}scrollToAnchor(Te){const dt=function oo(ce,Te){const dt=ce.getElementById(Te)||ce.getElementsByName(Te)[0];if(dt)return dt;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const De=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let tt=De.currentNode;for(;tt;){const Ct=tt.shadowRoot;if(Ct){const ln=Ct.getElementById(Te)||Ct.querySelector(`[name="${Te}"]`);if(ln)return ln}tt=De.nextNode()}}return null}(this.document,Te);dt&&(this.scrollToElement(dt),dt.focus())}setHistoryScrollRestoration(Te){this.window.history.scrollRestoration=Te}scrollToElement(Te){const dt=Te.getBoundingClientRect(),De=dt.left+this.window.pageXOffset,tt=dt.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(De-Ct[0],tt-Ct[1])}}class co{setOffset(Te){}getScrollPosition(){return[0,0]}scrollToPosition(Te){}scrollToAnchor(Te){}setHistoryScrollRestoration(Te){}}class Ro{}},4496:(dn,Pt,he)=>{"use strict";he.d(Pt,{qid:()=>hh,QHP:()=>fe,kZF:()=>L0,Ev2:()=>iM,Swk:()=>Xi,YND:()=>nn,kD9:()=>X0,ESV:()=>O2,ayF:()=>B2,syz:()=>is,GMv:()=>Bi,SIe:()=>di,eAe:()=>Vi,_w7:()=>fn,_6O:()=>_t,UbH:()=>be,zZn:()=>ti,Uj7:()=>wh,YNh:()=>Eh,KYU:()=>dc,obV:()=>kg,oF$:()=>fs,WW2:()=>io,T7N:()=>Xl,AHE:()=>ot,crf:()=>Je,q87:()=>sE,O8F:()=>Vm,yzm:()=>bu,SI6:()=>us,Qfh:()=>Kl,Yw2:()=>al,G4X:()=>D2,eOv:()=>k0,a8Z:()=>M0,y8U:()=>Uu,K6R:()=>xn,I44:()=>Km,cZD:()=>PM,kdu:()=>GM,SIz:()=>yf,Gk1:()=>lx,grM:()=>W0,agy:()=>H2,wd:()=>Sr,uUt:()=>wr,_Ap:()=>zn,AFj:()=>Zl,m4O:()=>oM,o9M:()=>$M,SMS:()=>n_,sRj:()=>RM,oPY:()=>I0,i4S:()=>Xc,GUM:()=>_a,g9Y:()=>ta,OBp:()=>Ke,aS5:()=>j0,Mn9:()=>P0,Y8L:()=>Qe,Om8:()=>Ap,ozE:()=>mu,K2p:()=>qs,GM_:()=>z_,u8n:()=>K_,ER9:()=>Y_,Vfw:()=>q_,Gc:()=>X_,iMv:()=>Hf,G58:()=>vt,y02:()=>Ly,IHs:()=>Cn,K_M:()=>Ah,Guz:()=>Wi,w5$:()=>dh,gX2:()=>R0,auf:()=>Ic,GEN:()=>Pe,E2t:()=>Ri,eg9:()=>pf,Wk5:()=>ee,QJr:()=>Pg,SYr:()=>ed,M5G:()=>Xv,UHJ:()=>Kv,yG2:()=>lm,e48:()=>If,eAK:()=>kf,szK:()=>Cv,In1:()=>kt,Sc5:()=>Ve,wxM:()=>Fr,s3X:()=>rs,a4G:()=>Re,UTH:()=>pt,GI1:()=>Ks,wR5:()=>Uf,C_f:()=>Vf,C$Y:()=>ec,I0R:()=>Qu,KQA:()=>Py,otF:()=>up,CoB:()=>Oo,gJ8:()=>ud,KEo:()=>cm,qCj:()=>qf,Gqi:()=>Mv,GaO:()=>fv,_Xx:()=>pv,kPM:()=>hv,E7m:()=>jf,CI5:()=>ic,q4q:()=>s0,wto:()=>Dv,Gew:()=>Iv,CGJ:()=>Aa,usT:()=>_s,K6U:()=>yd,YFg:()=>jp,m_g:()=>fi,yuY:()=>na,OEk:()=>Fv,cNF:()=>Xf,oRS:()=>sc,CAO:()=>Kf,kNx:()=>qv,iHE:()=>Zf,OKB:()=>Jf,CC$:()=>Sv}),he(1528);let nt=null,o=1;const W=Symbol("SIGNAL");function C(t){const n=nt;return nt=t,n}function a(t){if((!N(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==o)){if(!t.producerMustRecompute(t)&&!m(t))return t.dirty=!1,void(t.lastCleanEpoch=o);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=o}}function m(t){R(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==r.version||(a(r),i!==r.version))return!0}return!1}function O(t,n){if(function k(t){var n,r;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(r=t.liveConsumerIndexOfThis)&&void 0!==r||(t.liveConsumerIndexOfThis=[])}(t),R(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)O(t.producerNode[i],t.producerIndexOfThis[i]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],g=t.liveConsumerNode[n];R(g),g.producerIndexOfThis[i]=n}}function N(t){var n,r;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(r=t.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function R(t){var n,r,i;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(r=t.producerIndexOfThis)&&void 0!==r||(t.producerIndexOfThis=[]),null!==(i=t.producerLastReadVersion)&&void 0!==i||(t.producerLastReadVersion=[])}let Z=null;var et=he(5657),Oe=he(4548),Ge=he(6700),Be=he(4704);const Qe="https://g.co/ng/security#xss";class Ke extends Error{constructor(n,r){super(vt(n,r)),this.code=n}}function vt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function on(t){return n=>{setTimeout(t,void 0,n)}}const fn=class an extends et.E{constructor(n=!1){super(),this.__isAsync=n}emit(n){const r=C(null);try{super.next(n)}finally{C(r)}}subscribe(n,r,i){let g=n,T=r||(()=>null),U=i;if(n&&"object"==typeof n){var te,ue,Ce;const qe=n;g=null===(te=qe.next)||void 0===te?void 0:te.bind(qe),T=null===(ue=qe.error)||void 0===ue?void 0:ue.bind(qe),U=null===(Ce=qe.complete)||void 0===Ce?void 0:Ce.bind(qe)}this.__isAsync&&(T=on(T),g&&(g=on(g)),U&&(U=on(U)));const Ne=super.subscribe({next:g,error:T,complete:U});return n instanceof Oe.wH&&n.add(Ne),Ne}};var _t=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_t||{});function Pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Fe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}var gn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gn||{}),xn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xn||{});function Sn(t){return{toString:t}.toString()}const Cn=globalThis,ar={},Pn=[];function Hn(t){for(let n in t)if(t[n]===Hn)return n;throw Error("Could not find renamed property on target object.")}function G(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}const me=Hn({\u0275cmp:Hn}),Se=Hn({\u0275dir:Hn}),P=Hn({\u0275pipe:Hn}),z=Hn({\u0275mod:Hn}),F=Hn({\u0275fac:Hn}),oe=Hn({__NG_ELEMENT_ID__:Hn}),ae=Hn({__NG_ENV_ID__:Hn});var ee=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ee||{});function ye(t,n,r){let i=t.length;for(;;){const g=t.indexOf(n,r);if(-1===g)return g;if(0===g||t.charCodeAt(g-1)<=32){const T=n.length;if(g+T===i||t.charCodeAt(g+T)<=32)return g}r=g+1}}function Ue(t,n,r){let i=0;for(;i<r.length;){const g=r[i];if("number"==typeof g){if(0!==g)break;i++;const T=r[i++],U=r[i++],te=r[i++];t.setAttribute(n,U,te,T)}else{const T=g,U=r[++i];It(T)?t.setProperty(n,T,U):t.setAttribute(n,T,U),i++}}return i}function ct(t){return 3===t||4===t||6===t}function It(t){return 64===t.charCodeAt(0)}function Zt(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let i=0;i<n.length;i++){const g=n[i];"number"==typeof g?r=g:0===r||yn(t,r,g,null,-1===r||2===r?n[++i]:null)}}return t}function yn(t,n,r,i,g){let T=0,U=t.length;if(-1===n)U=-1;else for(;T<t.length;){const te=t[T++];if("number"==typeof te){if(te===n){U=-1;break}if(te>n){U=T-1;break}}}for(;T<t.length;){const te=t[T];if("number"==typeof te)break;if(te===r){if(null===i)return void(null!==g&&(t[T+1]=g));if(i===t[T+1])return void(t[T+2]=g)}T++,null!==i&&T++,null!==g&&T++}-1!==U&&(t.splice(U,0,n),T=U+1),t.splice(T++,0,r),null!==i&&t.splice(T++,0,i),null!==g&&t.splice(T++,0,g)}const En="ng-template";function Rn(t,n,r){let i=0,g=!0;for(;i<t.length;){let T=t[i++];if("string"==typeof T&&g){const U=t[i++];if(r&&"class"===T&&-1!==ye(U.toLowerCase(),n,0))return!0}else{if(1===T){for(;i<t.length&&"string"==typeof(T=t[i++]);)if(T.toLowerCase()===n)return!0;return!1}"number"==typeof T&&(g=!1)}}return!1}function Wn(t){return 4===t.type&&t.value!==En}function mr(t,n,r){return n===(4!==t.type||r?t.value:En)}function yr(t,n,r){let i=4;const g=t.attrs||[],T=function $t(t){for(let n=0;n<t.length;n++)if(ct(t[n]))return n;return t.length}(g);let U=!1;for(let te=0;te<n.length;te++){const ue=n[te];if("number"!=typeof ue){if(!U)if(4&i){if(i=2|1&i,""!==ue&&!mr(t,ue,r)||""===ue&&1===n.length){if(st(i))return!1;U=!0}}else{const Ce=8&i?ue:n[++te];if(8&i&&null!==t.attrs){if(!Rn(t.attrs,Ce,r)){if(st(i))return!1;U=!0}continue}const qe=ft(8&i?"class":ue,g,Wn(t),r);if(-1===qe){if(st(i))return!1;U=!0;continue}if(""!==Ce){let ht;ht=qe>T?"":g[qe+1].toLowerCase();const Ot=8&i?ht:null;if(Ot&&-1!==ye(Ot,Ce,0)||2&i&&Ce!==ht){if(st(i))return!1;U=!0}}}}else{if(!U&&!st(i)&&!st(ue))return!1;if(U&&st(ue))continue;U=!1,i=ue|1&i}}return st(i)||U}function st(t){return 0==(1&t)}function ft(t,n,r,i){if(null===n)return-1;let g=0;if(i||!r){let T=!1;for(;g<n.length;){const U=n[g];if(U===t)return g;if(3===U||6===U)T=!0;else{if(1===U||2===U){let te=n[++g];for(;"string"==typeof te;)te=n[++g];continue}if(4===U)break;if(0===U){g+=4;continue}}g+=T?1:2}return-1}return function un(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const i=t[r];if("number"==typeof i)return-1;if(i===n)return r;r++}return-1}(n,t)}function $e(t,n,r=!1){for(let i=0;i<n.length;i++)if(yr(t,n[i],r))return!0;return!1}function An(t,n){e:for(let r=0;r<n.length;r++){const i=n[r];if(t.length===i.length){for(let g=0;g<t.length;g++)if(t[g]!==i[g])continue e;return!0}}return!1}function At(t,n){return t?":not("+n.trim()+")":n}function je(t){let n=t[0],r=1,i=2,g="",T=!1;for(;r<t.length;){let U=t[r];if("string"==typeof U)if(2&i){const te=t[++r];g+="["+U+(te.length>0?'="'+te+'"':"")+"]"}else 8&i?g+="."+U:4&i&&(g+=" "+U);else""!==g&&!st(U)&&(n+=At(T,g),g=""),i=U,T=T||!st(i);r++}return""!==g&&(n+=At(T,g)),n}function kt(t){return Sn(()=>{var n;const r=jr(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||xn.Emulated,styles:t.styles||Pn,_:null,schemas:t.schemas||null,tView:null,id:""};Ar(i);const g=t.dependencies;return i.directiveDefs=Rr(g,!1),i.pipeDefs=Rr(g,!0),i.id=function Br(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const g of r)n=Math.imul(31,n)+g.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Wt(t){return Kt(t)||Dn(t)}function ie(t){return null!==t}function Re(t){return Sn(()=>({type:t.type,bootstrap:t.bootstrap||Pn,declarations:t.declarations||Pn,imports:t.imports||Pn,exports:t.exports||Pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ve(t,n){if(null==t)return ar;const r={};for(const g in t)if(t.hasOwnProperty(g)){const T=t[g];let U,te,ue=ee.None;var i;Array.isArray(T)?(ue=T[0],U=T[1],te=null!==(i=T[2])&&void 0!==i?i:U):(U=T,te=T),n?(r[U]=ue!==ee.None?[g,ue]:g,n[U]=te):r[U]=g}return r}function Ve(t){return Sn(()=>{const n=jr(t);return Ar(n),n})}function pt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Kt(t){return t[me]||null}function Dn(t){return t[Se]||null}function On(t){return t[P]||null}function zn(t){const n=Kt(t)||Dn(t)||On(t);return null!==n&&n.standalone}function Xn(t,n){const r=t[z]||null;if(!r&&!0===n)throw new Error(`Type ${Pe(t)} does not have '\u0275mod' property.`);return r}function jr(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ar,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ve(t.inputs,n),outputs:ve(t.outputs),debugInfo:null}}function Ar(t){var n;null===(n=t.features)||void 0===n||n.forEach(r=>r(t))}function Rr(t,n){if(!t)return null;const r=n?On:Wt;return()=>("function"==typeof t?t():t).map(i=>r(i)).filter(ie)}const hr=0,Tn=1,Fn=2,dr=3,Yr=4,Er=5,Lr=6,uo=7,lr=8,vr=9,$r=10,qn=11,ro=12,zo=13,Eo=14,Dr=15,So=16,To=17,ho=18,po=19,qo=20,Po=21,mo=22,ko=23,Yn=25,Uo=1,co=7,Lo=9,br=10;var Yo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yo||{});function Vr(t){return Array.isArray(t)&&"object"==typeof t[Uo]}function Hr(t){return Array.isArray(t)&&!0===t[Uo]}function xo(t){return 0!=(4&t.flags)}function Xr(t){return t.componentOffset>-1}function Ln(t){return 1==(1&t.flags)}function Do(t){return!!t.template}function Xo(t){return 0!=(512&t[Fn])}let Tt=!1;function gt(t){for(;Array.isArray(t);)t=t[hr];return t}function tn(t,n){return gt(n[t])}function sn(t,n){return gt(n[t.index])}function Xt(t,n){return t.data[n]}function Gn(t,n){const r=n[t];return Vr(r)?r:r[hr]}function Un(t){return 128==(128&t[Fn])}function er(t,n){return null==n?null:t[n]}function Ur(t){t[To]=0}function Kr(t){1024&t[Fn]||(t[Fn]|=1024,Un(t)&&xr(t))}function Jr(t){var n;return!!(9216&t[Fn]||null!==(n=t[ko])&&void 0!==n&&n.dirty)}function fo(t){if(Jr(t))xr(t);else if(64&t[Fn])if(function qt(){return Tt}())t[Fn]|=1024,xr(t);else{var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify()}}function xr(t){var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();let r=kr(t);for(;null!==r&&!(8192&r[Fn])&&(r[Fn]|=8192,Un(r));)r=kr(r)}function Mr(t,n){if(256==(256&t[Fn]))throw new Ke(911,!1);null===t[Po]&&(t[Po]=[]),t[Po].push(n)}function kr(t){const n=t[dr];return Hr(n)?n[dr]:n}const Nn={lFrame:eo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fi(){return Nn.bindingsEnabled}function Mi(){return null!==Nn.skipHydrationRootTNode}function hn(){return Nn.lFrame.lView}function fr(){return Nn.lFrame.tView}function _s(t){return Nn.lFrame.contextLView=t,t[lr]}function Aa(t){return Nn.lFrame.contextLView=null,t}function Or(){let t=Oa();for(;null!==t&&64===t.type;)t=t.parent;return t}function Oa(){return Nn.lFrame.currentTNode}function Zo(t,n){const r=Nn.lFrame;r.currentTNode=t,r.isParent=n}function ws(){return Nn.lFrame.isParent}function Es(){Nn.lFrame.isParent=!1}function ce(){return Nn.lFrame.bindingIndex++}function Te(t){const n=Nn.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function tt(t,n){const r=Nn.lFrame;r.bindingIndex=r.bindingRootIndex=t,ln(n)}function ln(t){Nn.lFrame.currentDirectiveIndex=t}function rr(){return Nn.lFrame.currentQueryIndex}function or(t){Nn.lFrame.currentQueryIndex=t}function Cr(t){const n=t[Tn];return 2===n.type?n.declTNode:1===n.type?t[Er]:null}function nr(t,n,r){if(r&_t.SkipSelf){let g=n,T=t;for(;!(g=g.parent,null!==g||r&_t.Host||(g=Cr(T),null===g||(T=T[Eo],10&g.type))););if(null===g)return!1;n=g,t=T}const i=Nn.lFrame=Ir();return i.currentTNode=n,i.lView=t,!0}function Tr(t){const n=Ir(),r=t[Tn];Nn.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Ir(){const t=Nn.lFrame,n=null===t?null:t.child;return null===n?eo(t):n}function eo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Qo(){const t=Nn.lFrame;return Nn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yo=Qo;function ei(){const t=Qo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zr(){return Nn.lFrame.selectedIndex}function Co(t){Nn.lFrame.selectedIndex=t}function ir(){const t=Nn.lFrame;return Xt(t.tView,t.selectedIndex)}let Pa=!0;function Ss(){return Pa}function Ti(t){Pa=t}function wc(){return gi(Or(),hn())}function gi(t,n){return new Bi(sn(t,n))}let Na,Bi=(()=>{class n{constructor(i){this.nativeElement=i}}return n.__NG_ELEMENT_ID__=wc,n})();function Ec(t){return t instanceof Bi?t.nativeElement:t}function Ui(t,n){t.forEach(r=>Array.isArray(r)?Ui(r,n):n(r))}function xc(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function ka(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function No(t,n,r){let i=Ai(t,n);return i>=0?t[1|i]=r:(i=~i,function Ms(t,n,r,i){let g=t.length;if(g==n)t.push(r,i);else if(1===g)t.push(i,t[0]),t[0]=r;else{for(g--,t.push(t[g-1],t[g]);g>n;)t[g]=t[g-2],g--;t[n]=r,t[n+1]=i}}(t,i,n,r)),i}function Fl(t,n){const r=Ai(t,n);if(r>=0)return t[1|r]}function Ai(t,n){return function Sc(t,n,r){let i=0,g=t.length>>r;for(;g!==i;){const T=i+(g-i>>1),U=t[T<<r];if(n===U)return T<<r;U>n?g=T:i=T+1}return~(g<<r)}(t,n,1)}function Ih(){return this._results[Symbol.iterator]()}class Bl{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new fn}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Bl.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Ih)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const i=function Zr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Nl(t,n,r){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let g=t[i],T=n[i];if(r&&(g=r(g),T=r(T)),T!==g)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Is(t){return 128==(128&t.flags)}function Ic(t){Na=t}function Fr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rs(t){return{providers:t.providers||[],imports:t.imports||[]}}function As(t){return Tc(t,Ba)||Tc(t,se)}function Ah(t){return null!==As(t)}function Tc(t,n){return t.hasOwnProperty(n)?t[n]:null}function Fa(t){return t&&(t.hasOwnProperty(Ul)||t.hasOwnProperty(pe))?t[Ul]:null}const Ba=Hn({\u0275prov:Hn}),Ul=Hn({\u0275inj:Hn}),se=Hn({ngInjectableDef:Hn}),pe=Hn({ngInjectorDef:Hn});class be{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Fr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fe=new be("",{providedIn:"root",factory:()=>Ee}),Ee="ng",Je=new be(""),ot=new be("",{providedIn:"platform",factory:()=>"unknown"}),nn=new be("",{providedIn:"root",factory:()=>{var t;return(null===(t=function yi(){if(void 0!==Na)return Na;if(typeof document<"u")return document;throw new Ke(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),qr=Hn({__forward_ref__:Hn});function Sr(t){return t.__forward_ref__=Sr,t.toString=function(){return Pe(this())},t}function Vn(t){return si(t)?t():t}function si(t){return"function"==typeof t&&t.hasOwnProperty(qr)&&t.__forward_ref__===Sr}function Oc(t){return t&&!!t.\u0275providers}function sr(t){return"string"==typeof t?t:null==t?"":String(t)}function jc(t,n){throw new Ke(-201,!1)}let Pc;function jh(){return Pc}function $o(t){const n=Pc;return Pc=t,n}function Ph(t,n,r){const i=As(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:r&_t.Optional?null:void 0!==n?n:void jc()}const Ua={},kc="__NG_DI_FLAG__",Gl="ngTempTokenPath",Tb=/\n/gm,kh="__source";let Os;function $i(t){const n=Os;return Os=t,n}function jb(t,n=_t.Default){if(void 0===Os)throw new Ke(-203,!1);return null===Os?Ph(t,void 0,n):Os.get(t,n&_t.Optional?null:void 0,n)}function Oo(t,n=_t.Default){return(jh()||jb)(Vn(t),n)}function wr(t,n=_t.Default){return Oo(t,$l(n))}function $l(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rc(t){const n=[];for(let r=0;r<t.length;r++){const i=Vn(t[r]);if(Array.isArray(i)){if(0===i.length)throw new Ke(900,!1);let g,T=_t.Default;for(let U=0;U<i.length;U++){const te=i[U],ue=Pb(te);"number"==typeof ue?-1===ue?g=te.token:T|=ue:g=te}n.push(Oo(g,T))}else n.push(Oo(i))}return n}function Ga(t,n){return t[kc]=n,t.prototype[kc]=n,t}function Pb(t){return t[kc]}let Lh=()=>null;function Uc(t,n,r=!1){return Lh(t,n,r)}const Ns="__parameters__";function Bs(t,n,r){return Sn(()=>{const i=function Hc(t){return function(...r){if(t){const i=t(...r);for(const g in i)this[g]=i[g]}}}(n);function g(...T){if(this instanceof g)return i.apply(this,T),this;const U=new g(...T);return te.annotation=U,te;function te(ue,Ce,Ne){const qe=ue.hasOwnProperty(Ns)?ue[Ns]:Object.defineProperty(ue,Ns,{value:[]})[Ns];for(;qe.length<=Ne;)qe.push(null);return(qe[Ne]=qe[Ne]||[]).push(U),ue}}return r&&(g.prototype=Object.create(r.prototype)),g.prototype.ngMetadataName=t,g.annotationCls=g,g})}const Xl=Ga(Bs("Optional"),8),Kl=Ga(Bs("SkipSelf"),4);function os(t,n){return t.hasOwnProperty(F)?t[F]:null}const is=new be(""),$h=new be("",-1),Wc=new be("");class Jl{get(n,r=Ua){if(r===Ua){const i=new Error(`NullInjectorError: No provider for ${Pe(n)}!`);throw i.name="NullInjectorError",i}return r}}function Zl(t){return{\u0275providers:t}}function qb(...t){return{\u0275providers:zc(0,t),\u0275fromNgModule:!0}}function zc(t,...n){const r=[],i=new Set;let g;const T=U=>{r.push(U)};return Ui(n,U=>{const te=U;Ql(te,T,[],i)&&(g||(g=[]),g.push(te))}),void 0!==g&&Vh(g,T),r}function Vh(t,n){for(let r=0;r<t.length;r++){const{ngModule:i,providers:g}=t[r];qc(g,T=>{n(T,i)})}}function Ql(t,n,r,i){if(!(t=Vn(t)))return!1;let g=null,T=Fa(t);const U=!T&&Kt(t);if(T||U){if(U&&!U.standalone)return!1;g=t}else{const ue=t.ngModule;if(T=Fa(ue),!T)return!1;g=ue}const te=i.has(g);if(U){if(te)return!1;if(i.add(g),U.dependencies){const ue="function"==typeof U.dependencies?U.dependencies():U.dependencies;for(const Ce of ue)Ql(Ce,n,r,i)}}else{if(!T)return!1;{if(null!=T.imports&&!te){let Ce;i.add(g);try{Ui(T.imports,Ne=>{Ql(Ne,n,r,i)&&(Ce||(Ce=[]),Ce.push(Ne))})}finally{}void 0!==Ce&&Vh(Ce,n)}if(!te){const Ce=os(g)||(()=>new g);n({provide:g,useFactory:Ce,deps:Pn},g),n({provide:Wc,useValue:g,multi:!0},g),n({provide:is,useValue:()=>Oo(g),multi:!0},g)}const ue=T.providers;if(null!=ue&&!te){const Ce=t;qc(ue,Ne=>{n(Ne,Ce)})}}}return g!==t&&void 0!==t.providers}function qc(t,n){for(let r of t)Oc(r)&&(r=r.\u0275providers),Array.isArray(r)?qc(r,n):n(r)}const Yb=Hn({provide:String,useValue:Hn});function Yc(t){return null!==t&&"object"==typeof t&&Yb in t}function ss(t){return"function"==typeof t}const Xc=new be(""),eu={},Kb={};let Kc;function tu(){return void 0===Kc&&(Kc=new Jl),Kc}class di{}class Us extends di{get destroyed(){return this._destroyed}constructor(n,r,i,g){super(),this.parent=r,this.source=i,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zc(n,U=>this.processProvider(U)),this.records.set($h,Gs(void 0,this)),g.has("environment")&&this.records.set(di,Gs(void 0,this));const T=this.records.get(Xc);null!=T&&"string"==typeof T.value&&this.scopes.add(T.value),this.injectorDefTypes=new Set(this.get(Wc,Pn,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=C(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of r)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),C(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=$i(this),i=$o(void 0);try{return n()}finally{$i(r),$o(i)}}get(n,r=Ua,i=_t.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ae))return n[ae](this);i=$l(i);const T=$i(this),U=$o(void 0);try{if(!(i&_t.SkipSelf)){let ue=this.records.get(n);if(void 0===ue){const Ce=function t_(t){return"function"==typeof t||"object"==typeof t&&t instanceof be}(n)&&As(n);ue=Ce&&this.injectableDefInScope(Ce)?Gs(Jc(n),eu):null,this.records.set(n,ue)}if(null!=ue)return this.hydrate(n,ue)}return(i&_t.Self?tu():this.parent).get(n,r=i&_t.Optional&&r===Ua?null:r)}catch(te){if("NullInjectorError"===te.name){if((te[Gl]=te[Gl]||[]).unshift(Pe(n)),T)throw te;return function kb(t,n,r,i){const g=t[Gl];throw n[kh]&&g.unshift(n[kh]),t.message=function Rb(t,n,r,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let g=Pe(n);if(Array.isArray(n))g=n.map(Pe).join(" -> ");else if("object"==typeof n){let T=[];for(let U in n)if(n.hasOwnProperty(U)){let te=n[U];T.push(U+":"+("string"==typeof te?JSON.stringify(te):Pe(te)))}g=`{${T.join(", ")}}`}return`${r}${i?"("+i+")":""}[${g}]: ${t.replace(Tb,"\n  ")}`}("\n"+t.message,g,r,i),t.ngTokenPath=g,t[Gl]=null,t}(te,n,"R3InjectorError",this.source)}throw te}finally{$o(U),$i(T)}}resolveInjectorInitializers(){const n=C(null),r=$i(this),i=$o(void 0);try{const T=this.get(is,Pn,_t.Self);for(const U of T)U()}finally{$i(r),$o(i),C(n)}}toString(){const n=[],r=this.records;for(const i of r.keys())n.push(Pe(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processProvider(n){let r=ss(n=Vn(n))?n:Vn(n&&n.provide);const i=function Zb(t){return Yc(t)?Gs(void 0,t.useValue):Gs(zh(t),eu)}(n);if(!ss(n)&&!0===n.multi){let g=this.records.get(r);g||(g=Gs(void 0,eu,!0),g.factory=()=>Rc(g.multi),this.records.set(r,g)),r=n,g.multi.push(n)}this.records.set(r,i)}hydrate(n,r){const i=C(null);try{return r.value===eu&&(r.value=Kb,r.value=r.factory()),"object"==typeof r.value&&r.value&&function e_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{C(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Vn(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Jc(t){const n=As(t),r=null!==n?n.factory:os(t);if(null!==r)return r;if(t instanceof be)throw new Ke(204,!1);if(t instanceof Function)return function Jb(t){if(t.length>0)throw new Ke(204,!1);const r=function Oh(t){return t&&(t[Ba]||t[se])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Ke(204,!1)}function zh(t,n,r){let i;if(ss(t)){const g=Vn(t);return os(g)||Jc(g)}if(Yc(t))i=()=>Vn(t.useValue);else if(function Wh(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Rc(t.deps||[]));else if(function Hh(t){return!(!t||!t.useExisting)}(t))i=()=>Oo(Vn(t.useExisting));else{const g=Vn(t&&(t.useClass||t.provide));if(!function Qb(t){return!!t.deps}(t))return os(g)||Jc(g);i=()=>new g(...Rc(t.deps))}return i}function Gs(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Zc(t,n){for(const r of t)Array.isArray(r)?Zc(r,n):r&&Oc(r)?Zc(r.\u0275providers,n):n(r)}function n_(t,n){t instanceof Us&&t.assertNotDestroyed();const i=$i(t),g=$o(void 0);try{return n()}finally{$i(i),$o(g)}}class f_{constructor(n,r,i){this.previousValue=n,this.currentValue=r,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yh(t,n,r,i){null!==n?n.applyValueToInputSignal(n,i):t[r]=i}function ed(){return Xh}function Xh(t){return t.type.prototype.ngOnChanges&&(t.setInput=p_),h_}function h_(){const t=Jh(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===ar)t.previous=n;else for(let i in n)r[i]=n[i];t.current=null,this.ngOnChanges(n)}}function p_(t,n,r,i,g){const T=this.declaredInputs[i],U=Jh(t)||function m_(t,n){return t[Kh]=n}(t,{previous:ar,current:null}),te=U.current||(U.current={}),ue=U.previous,Ce=ue[T];te[T]=new f_(Ce&&Ce.currentValue,r,ue===ar),Yh(t,n,g,r)}ed.ngInherit=!0;const Kh="__ngSimpleChanges__";function Jh(t){return t[Kh]||null}const vi=function(t,n,r){};function ou(t,n){for(let Ce=n.directiveStart,Ne=n.directiveEnd;Ce<Ne;Ce++){const ht=t.data[Ce].type.prototype,{ngAfterContentInit:Ot,ngAfterContentChecked:Qt,ngAfterViewInit:pn,ngAfterViewChecked:Mn,ngOnDestroy:jn}=ht;var r,i,g,T,U,te,ue;Ot&&(null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(-Ce,Ot),Qt&&((null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(Ce,Qt),(null!==(g=t.contentCheckHooks)&&void 0!==g?g:t.contentCheckHooks=[]).push(Ce,Qt)),pn&&(null!==(T=t.viewHooks)&&void 0!==T?T:t.viewHooks=[]).push(-Ce,pn),Mn&&((null!==(U=t.viewHooks)&&void 0!==U?U:t.viewHooks=[]).push(Ce,Mn),(null!==(te=t.viewCheckHooks)&&void 0!==te?te:t.viewCheckHooks=[]).push(Ce,Mn)),null!=jn&&(null!==(ue=t.destroyHooks)&&void 0!==ue?ue:t.destroyHooks=[]).push(Ce,jn)}}function iu(t,n,r){Zh(t,n,3,r)}function su(t,n,r,i){(3&t[Fn])===r&&Zh(t,n,r,i)}function nd(t,n){let r=t[Fn];(3&r)===n&&(r&=16383,r+=1,t[Fn]=r)}function Zh(t,n,r,i){const T=null!=i?i:-1,U=n.length-1;let te=0;for(let ue=void 0!==i?65535&t[To]:0;ue<U;ue++)if("number"==typeof n[ue+1]){if(te=n[ue],null!=i&&te>=i)break}else n[ue]<0&&(t[To]+=65536),(te<T||-1==T)&&(v_(t,r,n,ue),t[To]=(4294901760&t[To])+ue+2),ue++}function Qh(t,n){vi(4,t,n);const r=C(null);try{n.call(t)}finally{C(r),vi(5,t,n)}}function v_(t,n,r,i){const g=r[i]<0,T=r[i+1],te=t[g?-r[i]:r[i]];g?t[Fn]>>14<t[To]>>16&&(3&t[Fn])===n&&(t[Fn]+=16384,Qh(te,T)):Qh(te,T)}const Vs=-1;class qa{constructor(n,r,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=i}}function od(t){return t!==Vs}function Ya(t){return 32767&t}function Xa(t,n){let r=function x_(t){return t>>16}(t),i=n;for(;r>0;)i=i[Eo],r--;return i}let id=!0;function au(t){const n=id;return id=t,n}const ep=255,tp=5;let C_=0;const bi={};function lu(t,n){const r=np(t,n);if(-1!==r)return r;const i=n[Tn];i.firstCreatePass&&(t.injectorIndex=n.length,sd(i.data,t),sd(n,null),sd(i.blueprint,null));const g=uu(t,n),T=t.injectorIndex;if(od(g)){const U=Ya(g),te=Xa(g,n),ue=te[Tn].data;for(let Ce=0;Ce<8;Ce++)n[T+Ce]=te[U+Ce]|ue[U+Ce]}return n[T+8]=g,T}function sd(t,n){t.push(0,0,0,0,0,0,0,0,n)}function np(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function uu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,i=null,g=n;for(;null!==g;){if(i=cp(g),null===i)return Vs;if(r++,g=g[Eo],-1!==i.injectorIndex)return i.injectorIndex|r<<16}return Vs}function ad(t,n,r){!function S_(t,n,r){let i;"string"==typeof r?i=r.charCodeAt(0)||0:r.hasOwnProperty(oe)&&(i=r[oe]),null==i&&(i=r[oe]=C_++);const g=i&ep;n.data[t+(g>>tp)]|=1<<g}(t,n,r)}function rp(t,n,r){if(r&_t.Optional||void 0!==t)return t;jc()}function op(t,n,r,i){if(r&_t.Optional&&void 0===i&&(i=null),!(r&(_t.Self|_t.Host))){const g=t[vr],T=$o(void 0);try{return g?g.get(n,i,r&_t.Optional):Ph(n,i,r&_t.Optional)}finally{$o(T)}}return rp(i,0,r)}function ip(t,n,r,i=_t.Default,g){if(null!==t){if(2048&n[Fn]&&!(i&_t.Self)){const U=function A_(t,n,r,i,g){let T=t,U=n;for(;null!==T&&null!==U&&2048&U[Fn]&&!(512&U[Fn]);){const te=sp(T,U,r,i|_t.Self,bi);if(te!==bi)return te;let ue=T.parent;if(!ue){const Ce=U[qo];if(Ce){const Ne=Ce.get(r,bi,i);if(Ne!==bi)return Ne}ue=cp(U),U=U[Eo]}T=ue}return g}(t,n,r,i,bi);if(U!==bi)return U}const T=sp(t,n,r,i,bi);if(T!==bi)return T}return op(n,r,i,g)}function sp(t,n,r,i,g){const T=function I_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(oe)?t[oe]:void 0;return"number"==typeof n?n>=0?n&ep:T_:n}(r);if("function"==typeof T){if(!nr(n,t,i))return i&_t.Host?rp(g,0,i):op(n,r,i,g);try{let U;if(U=T(i),null!=U||i&_t.Optional)return U;jc()}finally{yo()}}else if("number"==typeof T){let U=null,te=np(t,n),ue=Vs,Ce=i&_t.Host?n[Dr][Er]:null;for((-1===te||i&_t.SkipSelf)&&(ue=-1===te?uu(t,n):n[te+8],ue!==Vs&&lp(i,!1)?(U=n[Tn],te=Ya(ue),n=Xa(ue,n)):te=-1);-1!==te;){const Ne=n[Tn];if(ap(T,te,Ne.data)){const qe=M_(te,n,r,U,i,Ce);if(qe!==bi)return qe}ue=n[te+8],ue!==Vs&&lp(i,n[Tn].data[te+8]===Ce)&&ap(T,te,n)?(U=Ne,te=Ya(ue),n=Xa(ue,n)):te=-1}}return g}function M_(t,n,r,i,g,T){const U=n[Tn],te=U.data[t+8],Ne=cu(te,U,r,null==i?Xr(te)&&id:i!=U&&0!=(3&te.type),g&_t.Host&&T===te);return null!==Ne?as(n,U,Ne,te):bi}function cu(t,n,r,i,g){const T=t.providerIndexes,U=n.data,te=1048575&T,ue=t.directiveStart,Ne=T>>20,ht=g?te+Ne:t.directiveEnd;for(let Ot=i?te:te+Ne;Ot<ht;Ot++){const Qt=U[Ot];if(Ot<ue&&r===Qt||Ot>=ue&&Qt.type===r)return Ot}if(g){const Ot=U[ue];if(Ot&&Do(Ot)&&Ot.type===r)return ue}return null}function as(t,n,r,i){let g=t[r];const T=n.data;if(function b_(t){return t instanceof qa}(g)){const U=g;U.resolving&&function Db(t,n){throw n&&n.join(" > "),new Ke(-200,t)}(function Pr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():sr(t)}(T[r]));const te=au(U.canSeeViewProviders);U.resolving=!0;const Ce=U.injectImpl?$o(U.injectImpl):null;nr(t,i,_t.Default);try{g=t[r]=U.factory(void 0,T,t,i),n.firstCreatePass&&r>=i.directiveStart&&function y_(t,n,r){const{ngOnChanges:i,ngOnInit:g,ngDoCheck:T}=n.type.prototype;if(i){var U,te;const qe=Xh(n);(null!==(U=r.preOrderHooks)&&void 0!==U?U:r.preOrderHooks=[]).push(t,qe),(null!==(te=r.preOrderCheckHooks)&&void 0!==te?te:r.preOrderCheckHooks=[]).push(t,qe)}var ue,Ce,Ne;g&&(null!==(ue=r.preOrderHooks)&&void 0!==ue?ue:r.preOrderHooks=[]).push(0-t,g),T&&((null!==(Ce=r.preOrderHooks)&&void 0!==Ce?Ce:r.preOrderHooks=[]).push(t,T),(null!==(Ne=r.preOrderCheckHooks)&&void 0!==Ne?Ne:r.preOrderCheckHooks=[]).push(t,T))}(r,T[r],n)}finally{null!==Ce&&$o(Ce),au(te),U.resolving=!1,yo()}}return g}function ap(t,n,r){return!!(r[n+(t>>tp)]&1<<t)}function lp(t,n){return!(t&_t.Self||t&_t.Host&&n)}class bo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,i){return ip(this._tNode,this._lView,n,$l(i),r)}}function T_(){return new bo(Or(),hn())}function up(t){return Sn(()=>{const n=t.prototype.constructor,r=n[F]||ld(n),i=Object.prototype;let g=Object.getPrototypeOf(t.prototype).constructor;for(;g&&g!==i;){const T=g[F]||ld(g);if(T&&T!==r)return T;g=Object.getPrototypeOf(g)}return T=>new T})}function ld(t){return si(t)?()=>{const n=ld(Vn(t));return n&&n()}:os(t)}function cp(t){const n=t[Tn],r=n.type;return 2===r?n.declTNode:1===r?t[Er]:null}function ud(t){return function D_(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const i=r.length;let g=0;for(;g<i;){const T=r[g];if(ct(T))break;if(0===T)g+=2;else if("number"==typeof T)for(g++;g<i&&"string"==typeof r[g];)g++;else{if(T===n)return r[g+1];g+=2}}}return null}(Or(),t)}function mp(t,n=null,r=null,i){const g=gp(t,n,r,i);return g.resolveInjectorInitializers(),g}function gp(t,n=null,r=null,i,g=new Set){const T=[r||Pn,qb(t)];return i=i||("object"==typeof t?void 0:Pe(t)),new Us(T,n||tu(),i||null,g)}let ti=(()=>{var t;class n{static create(i,g){if(Array.isArray(i))return mp({name:""},g,i,"");{var T;const U=null!==(T=i.name)&&void 0!==T?T:"";return mp({name:U},i.parent,i.providers,U)}}}return(t=n).THROW_IF_NOT_FOUND=Ua,t.NULL=new Jl,t.\u0275prov=Fr({token:t,providedIn:"any",factory:()=>Oo($h)}),t.__NG_ELEMENT_ID__=-1,n})();function dd(t){return t.ngOriginalError}class Vi{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&dd(n);for(;r&&dd(r);)r=dd(r);return r||null}}const vp=new be("",{providedIn:"root",factory:()=>wr(Vi).handleError.bind(void 0)}),_p=new be("",{providedIn:"root",factory:()=>!1});let hu,pu;function zs(t){var n;return(null===(n=function fd(){if(void 0===hu&&(hu=null,Cn.trustedTypes))try{hu=Cn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hu}())||void 0===n?void 0:n.createHTML(t))||t}function xp(t){var n;return(null===(n=function hd(){if(void 0===pu&&(pu=null,Cn.trustedTypes))try{pu=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pu}())||void 0===n?void 0:n.createScriptURL(t))||t}class ls{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}class U_ extends ls{getTypeName(){return"HTML"}}class G_ extends ls{getTypeName(){return"Style"}}class $_ extends ls{getTypeName(){return"Script"}}class V_ extends ls{getTypeName(){return"URL"}}class H_ extends ls{getTypeName(){return"ResourceURL"}}function Ri(t){return t instanceof ls?t.changingThisBreaksApplicationSecurity:t}function qs(t,n){const r=function W_(t){return t instanceof ls&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Qe})`)}return r===n}function z_(t){return new U_(t)}function q_(t){return new G_(t)}function Y_(t){return new $_(t)}function X_(t){return new V_(t)}function K_(t){return new H_(t)}class J_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(zs(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class Z_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=zs(n),r}}const e1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mu(t){return(t=String(t)).match(e1)?t:"unsafe:"+t}function Li(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Ka(...t){const n={};for(const r of t)for(const i in r)r.hasOwnProperty(i)&&(n[i]=!0);return n}const Sp=Li("area,br,col,hr,img,wbr"),Dp=Li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mp=Li("rp,rt"),pd=Ka(Sp,Ka(Dp,Li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ka(Mp,Li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ka(Mp,Dp)),md=Li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ip=Ka(md,Li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),t1=Li("script,style,template");class n1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,i=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?i=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,i&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let g=this.checkClobberedElement(r,r.nextSibling);if(g){r=g;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!pd.hasOwnProperty(r))return this.sanitizedSomething=!0,!t1.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const i=n.attributes;for(let g=0;g<i.length;g++){const T=i.item(g),U=T.name,te=U.toLowerCase();if(!Ip.hasOwnProperty(te)){this.sanitizedSomething=!0;continue}let ue=T.value;md[te]&&(ue=mu(ue)),this.buf.push(" ",U,'="',Tp(ue),'"')}return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();pd.hasOwnProperty(r)&&!Sp.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Tp(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const r1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o1=/([^\#-~ |!])/g;function Tp(t){return t.replace(/&/g,"&amp;").replace(r1,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(o1,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gu;function Ap(t,n){let r=null;try{gu=gu||function Cp(t){const n=new Z_(t);return function Q_(){try{return!!(new window.DOMParser).parseFromString(zs(""),"text/html")}catch{return!1}}()?new J_(n):n}(t);let i=n?String(n):"";r=gu.getInertBodyElement(i);let g=5,T=i;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,i=T,T=r.innerHTML,r=gu.getInertBodyElement(i)}while(i!==T);return zs((new n1).sanitizeChildren(gd(r)||r))}finally{if(r){const i=gd(r)||r;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function gd(t){return"content"in t&&function i1(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var us=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(us||{});function yd(t){const n=Ja();return n?n.sanitize(us.URL,t)||"":qs(t,"URL")?Ri(t):mu(sr(t))}function Op(t){const n=Ja();if(n)return xp(n.sanitize(us.RESOURCE_URL,t)||"");if(qs(t,"ResourceURL"))return xp(Ri(t));throw new Ke(904,!1)}function jp(t,n,r){return function d1(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Op:yd}(n,r)(t)}function Ja(){const t=hn();return t&&t[$r].sanitizer}const f1=/^>|^->|<!--|-->|--!>|<!-$/g,h1=/(<|>)/g,p1="\u200b$1\u200b";const vd=new Map;let b1=0;const _d="__ngContext__";function jo(t,n){Vr(n)?(t[_d]=n[po],function w1(t){vd.set(t[po],t)}(n)):t[_d]=n}function ni(t){return t instanceof Function?t():t}var bu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bu||{});let Cd;function Sd(t,n){return Cd(t,n)}function Xs(t,n,r,i,g){if(null!=i){let T,U=!1;Hr(i)?T=i:Vr(i)&&(U=!0,i=i[hr]);const te=gt(i);0===t&&null!==r?null==g?Jp(n,r,te):cs(n,r,te,g||null,!0):1===t&&null!==r?cs(n,r,te,g||null,!0):2===t?function Su(t,n,r){const i=xu(t,n);i&&function V1(t,n,r,i){t.removeChild(n,r,i)}(t,i,n,r)}(n,te,U):3===t&&n.destroyNode(te),null!=T&&function z1(t,n,r,i,g){const T=r[co];T!==gt(r)&&Xs(n,t,i,T,g);for(let te=br;te<r.length;te++){const ue=r[te];Du(ue[Tn],ue,t,n,i,T)}}(n,t,T,r,g)}}function Dd(t,n){return t.createComment(function Pp(t){return t.replace(f1,n=>n.replace(h1,p1))}(n))}function wu(t,n,r){return t.createElement(n,r)}function Yp(t,n){Du(t,n,n[qn],2,null,null)}function Xp(t,n){const r=t[Lo],i=r.indexOf(n);r.splice(i,1)}function Qa(t,n){if(t.length<=br)return;const r=br+n,i=t[r];if(i){const g=i[So];null!==g&&g!==t&&Xp(g,i),n>0&&(t[r-1][Yr]=i[Yr]);const T=ka(t,br+n);!function L1(t,n){Yp(t,n),n[hr]=null,n[Er]=null}(i[Tn],i);const U=T[ho];null!==U&&U.detachView(T[Tn]),i[dr]=null,i[Yr]=null,i[Fn]&=-129}return i}function Eu(t,n){if(!(256&n[Fn])){const r=n[qn];r.destroyNode&&Du(t,n,r,3,null,null),function F1(t){let n=t[ro];if(!n)return Md(t[Tn],t);for(;n;){let r=null;if(Vr(n))r=n[ro];else{const i=n[br];i&&(r=i)}if(!r){for(;n&&!n[Yr]&&n!==t;)Vr(n)&&Md(n[Tn],n),n=n[dr];null===n&&(n=t),Vr(n)&&Md(n[Tn],n),r=n&&n[Yr]}n=r}}(n)}}function Md(t,n){if(256&n[Fn])return;const r=C(null);try{n[Fn]&=-129,n[Fn]|=256,n[ko]&&function p(t){if(R(t),N(t))for(let n=0;n<t.producerNode.length;n++)O(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[ko]),function $1(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let i=0;i<r.length;i+=2){const g=n[r[i]];if(!(g instanceof qa)){const T=r[i+1];if(Array.isArray(T))for(let U=0;U<T.length;U+=2){const te=g[T[U]],ue=T[U+1];vi(4,te,ue);try{ue.call(te)}finally{vi(5,te,ue)}}else{vi(4,g,T);try{T.call(g)}finally{vi(5,g,T)}}}}}(t,n),function G1(t,n){const r=t.cleanup,i=n[uo];if(null!==r)for(let T=0;T<r.length-1;T+=2)if("string"==typeof r[T]){const U=r[T+3];U>=0?i[U]():i[-U].unsubscribe(),T+=2}else r[T].call(i[r[T+1]]);null!==i&&(n[uo]=null);const g=n[Po];if(null!==g){n[Po]=null;for(let T=0;T<g.length;T++)(0,g[T])()}}(t,n),1===n[Tn].type&&n[qn].destroy();const i=n[So];if(null!==i&&Hr(n[dr])){i!==n[dr]&&Xp(i,n);const g=n[ho];null!==g&&g.detachView(t)}!function E1(t){vd.delete(t[po])}(n)}finally{C(r)}}function Id(t,n,r){return function Kp(t,n,r){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return r[hr];{const{componentOffset:g}=i;if(g>-1){const{encapsulation:T}=t.data[i.directiveStart+g];if(T===xn.None||T===xn.Emulated)return null}return sn(i,r)}}(t,n.parent,r)}function cs(t,n,r,i,g){t.insertBefore(n,r,i,g)}function Jp(t,n,r){t.appendChild(n,r)}function Zp(t,n,r,i,g){null!==i?cs(t,n,r,i,g):Jp(t,n,r)}function xu(t,n){return t.parentNode(n)}function Qp(t,n,r){return tm(t,n,r)}let Td,tm=function em(t,n,r){return 40&t.type?sn(t,r):null};function Cu(t,n,r,i){const g=Id(t,i,n),T=n[qn],te=Qp(i.parent||n[Er],i,n);if(null!=g)if(Array.isArray(r))for(let ue=0;ue<r.length;ue++)Zp(T,g,r[ue],te,!1);else Zp(T,g,r,te,!1);void 0!==Td&&Td(T,i,n,r,g)}function el(t,n){if(null!==n){const r=n.type;if(3&r)return sn(n,t);if(4&r)return Ad(-1,t[n.index]);if(8&r){const i=n.child;if(null!==i)return el(t,i);{const g=t[n.index];return Hr(g)?Ad(-1,g):gt(g)}}if(32&r)return Sd(n,t)()||gt(t[n.index]);{const i=rm(t,n);return null!==i?Array.isArray(i)?i[0]:el(kr(t[Dr]),i):el(t,n.next)}}return null}function rm(t,n){return null!==n?t[Dr][Er].projection[n.projection]:null}function Ad(t,n){const r=br+t+1;if(r<n.length){const i=n[r],g=i[Tn].firstChild;if(null!==g)return el(i,g)}return n[co]}function Od(t,n,r,i,g,T,U){for(;null!=r;){const te=i[r.index],ue=r.type;if(U&&0===n&&(te&&jo(gt(te),i),r.flags|=2),32!=(32&r.flags))if(8&ue)Od(t,n,r.child,i,g,T,!1),Xs(n,t,g,te,T);else if(32&ue){const Ce=Sd(r,i);let Ne;for(;Ne=Ce();)Xs(n,t,g,Ne,T);Xs(n,t,g,te,T)}else 16&ue?im(t,n,i,r,g,T):Xs(n,t,g,te,T);r=U?r.projectionNext:r.next}}function Du(t,n,r,i,g,T){Od(r,i,t.firstChild,n,g,T,!1)}function im(t,n,r,i,g,T){const U=r[Dr],ue=U[Er].projection[i.projection];if(Array.isArray(ue))for(let Ce=0;Ce<ue.length;Ce++)Xs(n,t,g,ue[Ce],T);else{let Ce=ue;const Ne=U[dr];Is(i)&&(Ce.flags|=128),Od(t,n,Ce,Ne,g,T,!0)}}function sm(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function am(t,n,r){const{mergedAttrs:i,classes:g,styles:T}=r;null!==i&&Ue(t,n,i),null!==g&&sm(t,n,g),null!==T&&function Y1(t,n,r){t.setAttribute(n,"style",r)}(t,n,T)}const ur={};function lm(t=1){um(fr(),hn(),zr()+t,!1)}function um(t,n,r,i){if(!i)if(3==(3&n[Fn])){const T=t.preOrderCheckHooks;null!==T&&iu(n,T,r)}else{const T=t.preOrderHooks;null!==T&&su(n,T,0,r)}Co(r)}function Ks(t,n=_t.Default){const r=hn();return null===r?Oo(t,n):ip(Or(),r,Vn(t),n)}function cm(){throw new Error("invalid")}function dm(t,n,r,i,g,T){const U=C(null);try{let te=null;g&ee.SignalBased&&(te=n[i][W]),null!==te&&void 0!==te.transformFn&&(T=te.transformFn(T)),g&ee.HasDecoratorInputTransform&&(T=t.inputTransforms[i].call(n,T)),null!==t.setInput?t.setInput(n,te,T,r,i):Yh(n,te,i,T)}finally{C(U)}}function Mu(t,n,r,i,g,T,U,te,ue,Ce,Ne){const qe=n.blueprint.slice();return qe[hr]=g,qe[Fn]=204|i,(null!==Ce||t&&2048&t[Fn])&&(qe[Fn]|=2048),Ur(qe),qe[dr]=qe[Eo]=t,qe[lr]=r,qe[$r]=U||t&&t[$r],qe[qn]=te||t&&t[qn],qe[vr]=ue||t&&t[vr]||null,qe[Er]=T,qe[po]=function _1(){return b1++}(),qe[Lr]=Ne,qe[qo]=Ce,qe[Dr]=2==n.type?t[Dr]:qe,qe}function Js(t,n,r,i,g){let T=t.data[n];if(null===T)T=function jd(t,n,r,i,g){const T=Oa(),U=ws(),ue=t.data[n]=function nw(t,n,r,i,g,T){let U=n?n.injectorIndex:-1,te=0;return Mi()&&(te|=128),{type:r,index:i,insertBeforeIndex:null,injectorIndex:U,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:te,providerIndexes:0,value:g,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,U?T:T&&T.parent,r,n,i,g);return null===t.firstChild&&(t.firstChild=ue),null!==T&&(U?null==T.child&&null!==ue.parent&&(T.child=ue):null===T.next&&(T.next=ue,ue.prev=T)),ue}(t,n,r,i,g),function dt(){return Nn.lFrame.inI18n}()&&(T.flags|=32);else if(64&T.type){T.type=r,T.value=i,T.attrs=g;const U=function Ii(){const t=Nn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();T.injectorIndex=null===U?-1:U.injectorIndex}return Zo(T,!0),T}function tl(t,n,r,i){if(0===r)return-1;const g=n.length;for(let T=0;T<r;T++)n.push(i),t.blueprint.push(i),t.data.push(null);return g}function fm(t,n,r,i,g){const T=zr(),U=2&i;try{Co(-1),U&&n.length>Yn&&um(t,n,Yn,!1),vi(U?2:0,g),r(i,g)}finally{Co(T),vi(U?3:1,g)}}function Pd(t,n,r){if(xo(n)){const i=C(null);try{const T=n.directiveEnd;for(let U=n.directiveStart;U<T;U++){const te=t.data[U];te.contentQueries&&te.contentQueries(1,r[U],U)}}finally{C(i)}}}function kd(t,n,r){Fi()&&(function uw(t,n,r,i){const g=r.directiveStart,T=r.directiveEnd;Xr(r)&&function gw(t,n,r){const i=sn(n,t),g=hm(r);let U=16;r.signals?U=4096:r.onPush&&(U=64);const te=Iu(t,Mu(t,g,null,U,i,n,null,t[$r].rendererFactory.createRenderer(i,r),null,null,null));t[n.index]=te}(n,r,t.data[g+r.componentOffset]),t.firstCreatePass||lu(r,n),jo(i,n);const U=r.initialInputs;for(let te=g;te<T;te++){const ue=t.data[te],Ce=as(n,t,te,r);jo(Ce,n),null!==U&&yw(0,te-g,Ce,ue,0,U),Do(ue)&&(Gn(r.index,n)[lr]=as(n,t,te,r))}}(t,n,r,sn(r,n)),64==(64&r.flags)&&vm(t,n,r))}function Rd(t,n,r=sn){const i=n.localNames;if(null!==i){let g=n.index+1;for(let T=0;T<i.length;T+=2){const U=i[T+1],te=-1===U?r(n,t):t[U];t[g++]=te}}}function hm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ld(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ld(t,n,r,i,g,T,U,te,ue,Ce,Ne){const qe=Yn+i,ht=qe+g,Ot=function K1(t,n){const r=[];for(let i=0;i<n;i++)r.push(i<t?null:ur);return r}(qe,ht),Qt="function"==typeof Ce?Ce():Ce;return Ot[Tn]={type:t,blueprint:Ot,template:r,queries:null,viewQuery:te,declTNode:n,data:Ot.slice().fill(null,qe),bindingStartIndex:qe,expandoStartIndex:ht,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof U?U():U,firstChild:null,schemas:ue,consts:Qt,incompleteFirstPass:!1,ssrId:Ne}}let pm=()=>null;function mm(t,n,r,i,g){for(let U in n){var T;if(!n.hasOwnProperty(U))continue;const te=n[U];if(void 0===te)continue;null!==(T=i)&&void 0!==T||(i={});let ue,Ce=ee.None;Array.isArray(te)?(ue=te[0],Ce=te[1]):ue=te;let Ne=U;if(null!==g){if(!g.hasOwnProperty(U))continue;Ne=g[U]}0===t?gm(i,r,Ne,ue,Ce):gm(i,r,Ne,ue)}return i}function gm(t,n,r,i,g){let T;t.hasOwnProperty(r)?(T=t[r]).push(n,i):T=t[r]=[n,i],void 0!==g&&T.push(g)}function Ho(t,n,r,i,g,T,U,te){const ue=sn(n,r);let Ne,Ce=n.inputs;!te&&null!=Ce&&(Ne=Ce[i])?(Gd(t,r,Ne,i,g),Xr(n)&&function iw(t,n){const r=Gn(n,t);16&r[Fn]||(r[Fn]|=64)}(r,n.index)):3&n.type&&(i=function ow(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),g=null!=U?U(g,n.value||"",i):g,T.setProperty(ue,i,g))}function Nd(t,n,r,i){if(Fi()){const g=null===i?null:{"":-1},T=function dw(t,n){const r=t.directiveRegistry;let i=null,g=null;if(r)for(let U=0;U<r.length;U++){const te=r[U];if($e(n,te.selectors,!1))if(i||(i=[]),Do(te))if(null!==te.findHostDirectiveDefs){const ue=[];g=g||new Map,te.findHostDirectiveDefs(te,ue,g),i.unshift(...ue,te),Fd(t,n,ue.length)}else i.unshift(te),Fd(t,n,0);else{var T;g=g||new Map,null===(T=te.findHostDirectiveDefs)||void 0===T||T.call(te,te,i,g),i.push(te)}}return null===i?null:[i,g]}(t,r);let U,te;null===T?U=te=null:[U,te]=T,null!==U&&ym(t,n,r,U,g,te),g&&function fw(t,n,r){if(n){const i=t.localNames=[];for(let g=0;g<n.length;g+=2){const T=r[n[g+1]];if(null==T)throw new Ke(-301,!1);i.push(n[g],T)}}}(r,i,g)}r.mergedAttrs=Zt(r.mergedAttrs,r.attrs)}function ym(t,n,r,i,g,T){for(let qe=0;qe<i.length;qe++)ad(lu(r,n),t,i[qe].type);!function pw(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,i.length);for(let qe=0;qe<i.length;qe++){const ht=i[qe];ht.providersResolver&&ht.providersResolver(ht)}let U=!1,te=!1,ue=tl(t,n,i.length,null);for(let qe=0;qe<i.length;qe++){const ht=i[qe];r.mergedAttrs=Zt(r.mergedAttrs,ht.hostAttrs),mw(t,r,n,ue,ht),hw(ue,ht,g),null!==ht.contentQueries&&(r.flags|=4),(null!==ht.hostBindings||null!==ht.hostAttrs||0!==ht.hostVars)&&(r.flags|=64);const Ot=ht.type.prototype;var Ce,Ne;!U&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((null!==(Ce=t.preOrderHooks)&&void 0!==Ce?Ce:t.preOrderHooks=[]).push(r.index),U=!0),te||!Ot.ngOnChanges&&!Ot.ngDoCheck||((null!==(Ne=t.preOrderCheckHooks)&&void 0!==Ne?Ne:t.preOrderCheckHooks=[]).push(r.index),te=!0),ue++}!function rw(t,n,r){const g=n.directiveEnd,T=t.data,U=n.attrs,te=[];let ue=null,Ce=null;for(let Ne=n.directiveStart;Ne<g;Ne++){const qe=T[Ne],ht=r?r.get(qe):null,Qt=ht?ht.outputs:null;ue=mm(0,qe.inputs,Ne,ue,ht?ht.inputs:null),Ce=mm(1,qe.outputs,Ne,Ce,Qt);const pn=null===ue||null===U||Wn(n)?null:vw(ue,Ne,U);te.push(pn)}null!==ue&&(ue.hasOwnProperty("class")&&(n.flags|=8),ue.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=te,n.inputs=ue,n.outputs=Ce}(t,r,T)}function vm(t,n,r){const i=r.directiveStart,g=r.directiveEnd,T=r.index,U=function Ct(){return Nn.lFrame.currentDirectiveIndex}();try{Co(T);for(let te=i;te<g;te++){const ue=t.data[te],Ce=n[te];ln(te),(null!==ue.hostBindings||0!==ue.hostVars||null!==ue.hostAttrs)&&cw(ue,Ce)}}finally{Co(-1),ln(U)}}function cw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Fd(t,n,r){var i;n.componentOffset=r,(null!==(i=t.components)&&void 0!==i?i:t.components=[]).push(n.index)}function hw(t,n,r){if(r){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)r[n.exportAs[i]]=t;Do(n)&&(r[""]=t)}}function mw(t,n,r,i,g){t.data[i]=g;const T=g.factory||(g.factory=os(g.type)),U=new qa(T,Do(g),Ks);t.blueprint[i]=U,r[i]=U,function aw(t,n,r,i,g){const T=g.hostBindings;if(T){let U=t.hostBindingOpCodes;null===U&&(U=t.hostBindingOpCodes=[]);const te=~n.index;(function lw(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(U)!=te&&U.push(te),U.push(r,i,T)}}(t,n,i,tl(t,r,g.hostVars,ur),g)}function _i(t,n,r,i,g,T){const U=sn(t,n);!function Bd(t,n,r,i,g,T,U){if(null==T)t.removeAttribute(n,g,r);else{const te=null==U?sr(T):U(T,i||"",g);t.setAttribute(n,g,te,r)}}(n[qn],U,T,t.value,r,i,g)}function yw(t,n,r,i,g,T){const U=T[n];if(null!==U)for(let te=0;te<U.length;)dm(i,r,U[te++],U[te++],U[te++],U[te++])}function vw(t,n,r){let i=null,g=0;for(;g<r.length;){const T=r[g];if(0!==T)if(5!==T){if("number"==typeof T)break;if(t.hasOwnProperty(T)){null===i&&(i=[]);const U=t[T];for(let te=0;te<U.length;te+=3)if(U[te]===n){i.push(T,U[te+1],U[te+2],r[g+1]);break}}g+=2}else g+=2;else g+=4}return i}function bm(t,n,r,i){return[t,!0,0,n,null,i,null,r,null,null]}function _m(t,n){const r=t.contentQueries;if(null!==r){const i=C(null);try{for(let g=0;g<r.length;g+=2){const U=r[g+1];if(-1!==U){const te=t.data[U];or(r[g]),te.contentQueries(2,n[U],U)}}}finally{C(i)}}}function Iu(t,n){return t[ro]?t[zo][Yr]=n:t[ro]=n,t[zo]=n,n}function Ud(t,n,r){or(0);const i=C(null);try{n(t,r)}finally{C(i)}}function wm(t){return t[uo]||(t[uo]=[])}function Em(t){return t.cleanup||(t.cleanup=[])}function Tu(t,n){const r=t[vr],i=r?r.get(Vi,null):null;i&&i.handleError(n)}function Gd(t,n,r,i,g){for(let T=0;T<r.length;){const U=r[T++],te=r[T++],ue=r[T++];dm(t.data[U],n[U],i,te,ue,g)}}function Ni(t,n,r){const i=tn(n,t);!function qp(t,n,r){t.setValue(n,r)}(t[qn],i,r)}function bw(t,n){const r=Gn(n,t),i=r[Tn];!function _w(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(i,r);const g=r[hr];null!==g&&null===r[Lr]&&(r[Lr]=Uc(g,r[vr])),$d(i,r,r[lr])}function $d(t,n,r){Tr(n);try{var i;const g=t.viewQuery;null!==g&&Ud(1,g,r);const T=t.template;null!==T&&fm(t,n,T,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),null===(i=n[ho])||void 0===i||i.finishViewCreation(t),t.staticContentQueries&&_m(t,n),t.staticViewQueries&&Ud(2,t.viewQuery,r);const U=t.components;null!==U&&function ww(t,n){for(let r=0;r<n.length;r++)bw(t,n[r])}(n,U)}catch(g){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),g}finally{n[Fn]&=-5,ei()}}function Zs(t,n){return!n||null===n.firstChild||Is(t)}function rl(t,n,r,i=!0){const g=n[Tn];if(function B1(t,n,r,i){const g=br+i,T=r.length;i>0&&(r[g-1][Yr]=n),i<T-br?(n[Yr]=r[g],xc(r,br+i,n)):(r.push(n),n[Yr]=null),n[dr]=r;const U=n[So];null!==U&&r!==U&&function U1(t,n){const r=t[Lo];n[Dr]!==n[dr][dr][Dr]&&(t[Fn]|=Yo.HasTransplantedViews),null===r?t[Lo]=[n]:r.push(n)}(U,n);const te=n[ho];null!==te&&te.insertView(t),fo(n),n[Fn]|=128}(g,n,t,r),i){const U=Ad(r,t),te=n[qn],ue=xu(te,t[co]);null!==ue&&function N1(t,n,r,i,g,T){i[hr]=g,i[Er]=n,Du(t,i,r,1,g,T)}(g,t[Er],te,n,ue,U)}const T=n[Lr];null!==T&&null!==T.firstChild&&(T.firstChild=null)}function ol(t,n,r,i,g=!1){for(;null!==r;){const T=n[r.index];null!==T&&i.push(gt(T)),Hr(T)&&Sm(T,i);const U=r.type;if(8&U)ol(t,n,r.child,i);else if(32&U){const te=Sd(r,n);let ue;for(;ue=te();)i.push(ue)}else if(16&U){const te=rm(n,r);if(Array.isArray(te))i.push(...te);else{const ue=kr(n[Dr]);ol(ue[Tn],ue,te,i,!0)}}r=g?r.projectionNext:r.next}return i}function Sm(t,n){for(let r=br;r<t.length;r++){const i=t[r],g=i[Tn].firstChild;null!==g&&ol(i[Tn],i,g,n)}t[co]!==t[hr]&&n.push(t[co])}let Dm=[];const Sw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xr(t.lView)},consumerOnSignalRead(){this.lView[ko]=this}};function Mm(t){return Tm(t[ro])}function Im(t){return Tm(t[Yr])}function Tm(t){for(;null!==t&&!Hr(t);)t=t[Yr];return t}function Au(t,n=!0,r=0){const i=t[$r],g=i.rendererFactory;var U;null===(U=g.begin)||void 0===U||U.call(g);try{!function Iw(t,n){Hd(t,n);let r=0;for(;Jr(t);){if(100===r)throw new Ke(103,!1);r++,Hd(t,1)}}(t,r)}catch(Ce){throw n&&Tu(t,Ce),Ce}finally{var te,ue;null===(te=g.end)||void 0===te||te.call(g),null===(ue=i.inlineEffectRunner)||void 0===ue||ue.flush()}}function Tw(t,n,r,i){var g;const T=n[Fn];if(256==(256&T))return;null===(g=n[$r].inlineEffectRunner)||void 0===g||g.flush(),Tr(n);let te=null,ue=null;(function Aw(t){return 2!==t.type})(t)&&(ue=function Ew(t){var n;return null!==(n=t[ko])&&void 0!==n?n:function xw(t){var n;const r=null!==(n=Dm.pop())&&void 0!==n?n:Object.create(Sw);return r.lView=t,r}(t)}(n),te=function c(t){return t&&(t.nextProducerIndex=0),C(t)}(ue));try{Ur(n),function es(t){return Nn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&fm(t,n,r,2,i);const Ce=3==(3&T);if(Ce){const ht=t.preOrderCheckHooks;null!==ht&&iu(n,ht,null)}else{const ht=t.preOrderHooks;null!==ht&&su(n,ht,0,null),nd(n,0)}if(function Ow(t){for(let n=Mm(t);null!==n;n=Im(n)){if(!(n[Fn]&Yo.HasTransplantedViews))continue;const r=n[Lo];for(let i=0;i<r.length;i++){Kr(r[i])}}}(n),Om(n,0),null!==t.contentQueries&&_m(t,n),Ce){const ht=t.contentCheckHooks;null!==ht&&iu(n,ht)}else{const ht=t.contentHooks;null!==ht&&su(n,ht,1),nd(n,1)}!function X1(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let i=0;i<r.length;i++){const g=r[i];if(g<0)Co(~g);else{const T=g,U=r[++i],te=r[++i];tt(U,T),te(2,n[T])}}}finally{Co(-1)}}(t,n);const Ne=t.components;null!==Ne&&Pm(n,Ne,0);const qe=t.viewQuery;if(null!==qe&&Ud(2,qe,i),Ce){const ht=t.viewCheckHooks;null!==ht&&iu(n,ht)}else{const ht=t.viewHooks;null!==ht&&su(n,ht,2),nd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[mo]){for(const ht of n[mo])ht();n[mo]=null}n[Fn]&=-73}catch(Ce){throw xr(n),Ce}finally{null!==ue&&(function s(t,n){if(C(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(N(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)O(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(ue,te),function Cw(t){t.lView[ko]!==t&&(t.lView=null,Dm.push(t))}(ue)),ei()}}function Om(t,n){for(let r=Mm(t);null!==r;r=Im(r))for(let i=br;i<r.length;i++)jm(r[i],n)}function jw(t,n,r){jm(Gn(n,t),r)}function jm(t,n){Un(t)&&Hd(t,n)}function Hd(t,n){const i=t[Tn],g=t[Fn],T=t[ko];let U=!!(0===n&&16&g);if(U||(U=!!(64&g&&0===n)),U||(U=!!(1024&g)),U||(U=!(null==T||!T.dirty||!m(T))),T&&(T.dirty=!1),t[Fn]&=-9217,U)Tw(i,t,i.template,t[lr]);else if(8192&g){Om(t,1);const te=i.components;null!==te&&Pm(t,te,1)}}function Pm(t,n,r){for(let i=0;i<n.length;i++)jw(t,n[i],r)}function il(t){var n;for(null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Fn]|=64;const r=kr(t);if(Xo(t)&&!r)return t;t=r}return null}class sl{get rootNodes(){const n=this._lView,r=n[Tn];return ol(r,n,r.firstChild,[])}constructor(n,r,i=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(n){this._lView[lr]=n}get destroyed(){return 256==(256&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[dr];if(Hr(n)){const r=n[8],i=r?r.indexOf(this):-1;i>-1&&(Qa(n,i),ka(r,i))}this._attachedToViewContainer=!1}Eu(this._lView[Tn],this._lView)}onDestroy(n){Mr(this._lView,n)}markForCheck(){il(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-129}reattach(){fo(this._lView),this._lView[Fn]|=128}detectChanges(){this._lView[Fn]|=1024,Au(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Yp(this._lView[Tn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ke(902,!1);this._appRef=n,fo(this._lView)}}let al=(()=>{class n{}return n.__NG_ELEMENT_ID__=Rw,n})();const Pw=al,kw=class extends Pw{constructor(n,r,i){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const g=function nl(t,n,r,i){const g=C(null);try{var T,U;const te=n.tView,Ne=Mu(t,te,r,4096&t[Fn]?4096:16,null,n,null,null,null,null!==(T=null==i?void 0:i.injector)&&void 0!==T?T:null,null!==(U=null==i?void 0:i.dehydratedView)&&void 0!==U?U:null);Ne[So]=t[n.index];const ht=t[ho];return null!==ht&&(Ne[ho]=ht.createEmbeddedView(te)),$d(te,Ne,r),Ne}finally{C(g)}}(this._declarationLView,this._declarationTContainer,n,{injector:r,dehydratedView:i});return new sl(g)}};function Rw(){return Ou(Or(),hn())}function Ou(t,n){return 4&t.type?new kw(n,t,gi(t,n)):null}class Um{}class rE{}class Gm{}class iE{resolveComponentFactory(n){throw function oE(t){const n=Error(`No component factory found for ${Pe(t)}.`);return n.ngComponent=t,n}(n)}}let Lu=(()=>{class n{}return n.NULL=new iE,n})();class Vm{}let sE=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function aE(){const t=hn(),r=Gn(Or().index,t);return(Vr(r)?r:t)[qn]}(),n})(),lE=(()=>{var t;class n{}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:()=>null}),n})();const Kd={};let Nu=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=cE,t.__NG_ENV_ID__=r=>r,n})();class uE extends Nu{constructor(n){super(),this._lView=n}onDestroy(n){return Mr(this._lView,n),()=>function gr(t,n){if(null===t[Po])return;const r=t[Po].indexOf(n);-1!==r&&t[Po].splice(r,1)}(this._lView,n)}}function cE(){return new uE(hn())}const Hm=new Set;function wi(t){var n,r;Hm.has(t)||(Hm.add(t),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:t}}))}function Wm(...t){}class io{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fn(!1),this.onMicrotaskEmpty=new fn(!1),this.onStable=new fn(!1),this.onError=new fn(!1),typeof Zone>"u")throw new Ke(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!i&&r,g.shouldCoalesceRunChangeDetection=i,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function dE(){const t="function"==typeof Cn.requestAnimationFrame;let n=Cn[t?"requestAnimationFrame":"setTimeout"],r=Cn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&r){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const g=r[Zone.__symbol__("OriginalDelegate")];g&&(r=g)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function pE(t){const n=()=>{!function hE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Cn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Zd(t),t.isCheckStableRunning=!0,Jd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Zd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,i,g,T,U,te)=>{if(function mE(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(te))return r.invokeTask(g,T,U,te);try{return zm(t),r.invokeTask(g,T,U,te)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||t.shouldCoalesceRunChangeDetection)&&n(),qm(t)}},onInvoke:(r,i,g,T,U,te,ue)=>{try{return zm(t),r.invoke(g,T,U,te,ue)}finally{t.shouldCoalesceRunChangeDetection&&n(),qm(t)}},onHasTask:(r,i,g,T)=>{r.hasTask(g,T),i===g&&("microTask"==T.change?(t._hasPendingMicrotasks=T.microTask,Zd(t),Jd(t)):"macroTask"==T.change&&(t.hasPendingMacrotasks=T.macroTask))},onHandleError:(r,i,g,T)=>(r.handleError(g,T),t.runOutsideAngular(()=>t.onError.emit(T)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!io.isInAngularZone())throw new Ke(909,!1)}static assertNotInAngularZone(){if(io.isInAngularZone())throw new Ke(909,!1)}run(n,r,i){return this._inner.run(n,r,i)}runTask(n,r,i,g){const T=this._inner,U=T.scheduleEventTask("NgZoneEvent: "+g,n,fE,Wm,Wm);try{return T.runTask(U,r,i)}finally{T.cancelTask(U)}}runGuarded(n,r,i){return this._inner.runGuarded(n,r,i)}runOutsideAngular(n){return this._outer.run(n)}}const fE={};function Jd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qm(t){t._nesting--,Jd(t)}class Ym{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fn,this.onMicrotaskEmpty=new fn,this.onStable=new fn,this.onError=new fn}run(n,r,i){return n.apply(r,i)}runGuarded(n,r,i){return n.apply(r,i)}runOutsideAngular(n){return n()}runTask(n,r,i,g){return n.apply(r,i)}}var ds=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ds||{});const Xm={destroy(){}};function Km(t,n){var r,i,g;!n&&function nu(t){if(!jh()&&!function Ob(){return Os}())throw new Ke(-203,!1)}();const T=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:wr(ti);if(!function Hi(t){return"browser"===(null!=t?t:wr(ti)).get(ot)}(T))return Xm;wi("NgAfterNextRender");const U=T.get(fl),te=null!==(i=U.handler)&&void 0!==i?i:U.handler=new Zm,ue=null!==(g=null==n?void 0:n.phase)&&void 0!==g?g:ds.MixedReadWrite,Ce=()=>{te.unregister(qe),Ne()},Ne=T.get(Nu).onDestroy(Ce),qe=new Jm(T,ue,()=>{Ce(),t()});return te.register(qe),{destroy:Ce}}class Jm{constructor(n,r,i){this.phase=r,this.callbackFn=i,this.zone=n.get(io),this.errorHandler=n.get(Vi,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(r)}}}class Zm{constructor(){this.executingCallbacks=!1,this.buckets={[ds.EarlyRead]:new Set,[ds.Write]:new Set,[ds.MixedReadWrite]:new Set,[ds.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let fl=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const g of i)g()}ngOnDestroy(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:()=>new t}),n})();function Wi(t){return!!Xn(t)}function Bu(t,n,r){let i=r?t.styles:null,g=r?t.classes:null,T=0;if(null!==n)for(let U=0;U<n.length;U++){const te=n[U];"number"==typeof te?T=te:1==T?g=Fe(g,te):2==T&&(i=Fe(i,te+": "+n[++U]+";"))}r?t.styles=i:t.stylesWithoutHost=i,r?t.classes=g:t.classesWithoutHost=g}class tg extends Lu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Kt(n);return new ml(r,this.ngModule)}}function ng(t){const n=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r];void 0!==i&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:r})}return n}class wE{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,i){i=$l(i);const g=this.injector.get(n,Kd,i);return g!==Kd||r===Kd?g:this.parentInjector.get(n,r,i)}}class ml extends Gm{get inputs(){const n=this.componentDef,r=n.inputTransforms,i=ng(n.inputs);if(null!==r)for(const g of i)r.hasOwnProperty(g.propName)&&(g.transform=r[g.propName]);return i}get outputs(){return ng(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function He(t){return t.map(je).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,i,g){const T=C(null);try{var te;let ue=(g=g||this.ngModule)instanceof di?g:null===(te=g)||void 0===te?void 0:te.injector;ue&&null!==this.componentDef.getStandaloneInjector&&(ue=this.componentDef.getStandaloneInjector(ue)||ue);const Ce=ue?new wE(n,ue):n,Ne=Ce.get(Vm,null);if(null===Ne)throw new Ke(407,!1);const qe=Ce.get(lE,null),Qt={rendererFactory:Ne,sanitizer:qe,inlineEffectRunner:null,afterRenderEventManager:Ce.get(fl,null),changeDetectionScheduler:Ce.get(Um,null)},pn=Ne.createRenderer(null,this.componentDef),Mn=this.componentDef.selectors[0][0]||"div",jn=i?function J1(t,n,r,i){const T=i.get(_p,!1)||r===xn.ShadowDom,U=t.selectRootElement(n,T);return function Z1(t){pm(t)}(U),U}(pn,i,this.componentDef.encapsulation,Ce):wu(pn,Mn,function _E(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Mn));let vn=512;this.componentDef.signals?vn|=4096:this.componentDef.onPush||(vn|=16);let Kn=null;null!==jn&&(Kn=Uc(jn,Ce,!0));const cr=Ld(0,null,null,1,0,null,null,null,null,null,null),pr=Mu(null,cr,null,vn,null,null,Qt,pn,Ce,null,Kn);let Io,vs;Tr(pr);try{const Ji=this.componentDef;let Sa,Sh=null;Ji.findHostDirectiveDefs?(Sa=[],Sh=new Map,Ji.findHostDirectiveDefs(Ji,Sa,Sh),Sa.push(Ji)):Sa=[Ji];const VM=function xE(t,n){const r=t[Tn],i=Yn;return t[i]=n,Js(r,i,2,"#host",null)}(pr,jn),HM=function CE(t,n,r,i,g,T,U){const te=g[Tn];!function SE(t,n,r,i){for(const g of t)n.mergedAttrs=Zt(n.mergedAttrs,g.hostAttrs);null!==n.mergedAttrs&&(Bu(n,n.mergedAttrs,!0),null!==r&&am(i,r,n))}(i,t,n,U);let ue=null;null!==n&&(ue=Uc(n,g[vr]));const Ce=T.rendererFactory.createRenderer(n,r);let Ne=16;r.signals?Ne=4096:r.onPush&&(Ne=64);const qe=Mu(g,hm(r),null,Ne,g[t.index],t,T,Ce,null,null,ue);return te.firstCreatePass&&Fd(te,t,i.length-1),Iu(g,qe),g[t.index]=qe}(VM,jn,Ji,Sa,pr,Qt,pn);vs=Xt(cr,Yn),jn&&function ME(t,n,r,i){if(i)Ue(t,r,["ng-version","17.2.4"]);else{const{attrs:g,classes:T}=function Mt(t){const n=[],r=[];let i=1,g=2;for(;i<t.length;){let T=t[i];if("string"==typeof T)2===g?""!==T&&n.push(T,t[++i]):8===g&&r.push(T);else{if(!st(g))break;g=T}i++}return{attrs:n,classes:r}}(n.selectors[0]);g&&Ue(t,r,g),T&&T.length>0&&sm(t,r,T.join(" "))}}(pn,Ji,jn,i),void 0!==r&&function IE(t,n,r){const i=t.projection=[];for(let g=0;g<n.length;g++){const T=r[g];i.push(null!=T?Array.from(T):null)}}(vs,this.ngContentSelectors,r),Io=function DE(t,n,r,i,g,T){const U=Or(),te=g[Tn],ue=sn(U,g);ym(te,g,U,r,null,i);for(let Ne=0;Ne<r.length;Ne++)jo(as(g,te,U.directiveStart+Ne,U),g);vm(te,g,U),ue&&jo(ue,g);const Ce=as(g,te,U.directiveStart+U.componentOffset,U);if(t[lr]=g[lr]=Ce,null!==T)for(const Ne of T)Ne(Ce,n);return Pd(te,U,g),Ce}(HM,Ji,Sa,Sh,pr,[TE]),$d(cr,pr,null)}finally{ei()}return new EE(this.componentType,Io,gi(vs,pr),pr,vs)}finally{C(T)}}}class EE extends rE{constructor(n,r,i,g,T){super(),this.location=i,this._rootLView=g,this._tNode=T,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new sl(g,void 0,!1),this.componentType=n}setInput(n,r){const i=this._tNode.inputs;let g;if(null!==i&&(g=i[n])){var T;if(null!==(T=this.previousInputValues)&&void 0!==T||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const U=this._rootLView;Gd(U[Tn],U,g,n,r),this.previousInputValues.set(n,r),il(Gn(this._tNode.index,U))}}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function TE(){const t=Or();ou(hn()[Tn],t)}let Uu=(()=>{class n{}return n.__NG_ELEMENT_ID__=AE,n})();function AE(){return ig(Or(),hn())}const OE=Uu,rg=class extends OE{constructor(n,r,i){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=i}get element(){return gi(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const n=uu(this._hostTNode,this._hostLView);if(od(n)){const r=Xa(n,this._hostLView),i=Ya(n);return new bo(r[Tn].data[i+8],r)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=og(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-br}createEmbeddedView(n,r,i){let g,T;"number"==typeof i?g=i:null!=i&&(g=i.index,T=i.injector);const te=n.createEmbeddedViewImpl(r||{},T,null);return this.insertImpl(te,g,Zs(this._hostTNode,null)),te}createComponent(n,r,i,g,T){var U,ue;const Ce=n&&!function za(t){return"function"==typeof t}(n);let Ne;if(Ce)Ne=r;else{const jn=r||{};Ne=jn.index,i=jn.injector,g=jn.projectableNodes,T=jn.environmentInjector||jn.ngModuleRef}const qe=Ce?n:new ml(Kt(n)),ht=i||this.parentInjector;if(!T&&null==qe.ngModule){const vn=(Ce?ht:this.parentInjector).get(di,null);vn&&(T=vn)}const Ot=Kt(null!==(U=qe.componentType)&&void 0!==U?U:{}),Qt=(null==Ot?void 0:Ot.id,null),pn=null!==(ue=null==Qt?void 0:Qt.firstChild)&&void 0!==ue?ue:null,Mn=qe.create(ht,g,pn,T);return this.insertImpl(Mn.hostView,Ne,Zs(this._hostTNode,Qt)),Mn}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,i){const g=n._lView;if(function Qn(t){return Hr(t[dr])}(g)){const te=this.indexOf(n);if(-1!==te)this.detach(te);else{const ue=g[dr],Ce=new rg(ue,ue[Er],ue[dr]);Ce.detach(Ce.indexOf(n))}}const T=this._adjustIndex(r),U=this._lContainer;return rl(U,g,T,i),n.attachToViewContainerRef(),xc(nf(U),T,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=og(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),i=Qa(this._lContainer,r);i&&(ka(nf(this._lContainer),r),Eu(i[Tn],i))}detach(n){const r=this._adjustIndex(n,-1),i=Qa(this._lContainer,r);return i&&null!=ka(nf(this._lContainer),r)?new sl(i):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function og(t){return t[8]}function nf(t){return t[8]||(t[8]=[])}function ig(t,n){let r;const i=n[t.index];return Hr(i)?r=i:(r=bm(i,n,null,t),n[t.index]=r,Iu(n,r)),sg(r,n,t,i),new rg(r,t,n)}let sg=function lg(t,n,r,i){if(t[co])return;let g;g=8&r.type?gt(i):function jE(t,n){const r=t[qn],i=r.createComment(""),g=sn(n,t);return cs(r,xu(r,g),i,function H1(t,n){return t.nextSibling(n)}(r,g),!1),i}(n,r),t[co]=g},rf=()=>!1;class sf{constructor(n){this.queryList=n,this.matches=null}clone(){return new sf(this.queryList)}setDirty(){this.queryList.setDirty()}}class af{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const i=null!==n.contentQueries?n.contentQueries[0]:r.length,g=[];for(let T=0;T<i;T++){const U=r.getByIndex(T);g.push(this.queries[U.indexInDeclarationView].clone())}return new af(g)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==ff(n,r).matches&&this.queries[r].setDirty()}}class ug{constructor(n,r,i=null){this.flags=r,this.read=i,this.predicate="string"==typeof n?function UE(t){return t.split(",").map(n=>n.trim())}(n):n}}class lf{constructor(n=[]){this.queries=n}elementStart(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let i=0;i<this.length;i++){const g=null!==r?r.length:0,T=this.getByIndex(i).embeddedTView(n,g);T&&(T.indexInDeclarationView=i,null!==r?r.push(T):r=[T])}return null!==r?new lf(r):null}template(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class uf{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new uf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const i=this.metadata.predicate;if(Array.isArray(i))for(let g=0;g<i.length;g++){const T=i[g];this.matchTNodeWithReadOption(n,r,LE(r,T)),this.matchTNodeWithReadOption(n,r,cu(r,n,T,!1,!1))}else i===al?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,cu(r,n,i,!1,!1))}matchTNodeWithReadOption(n,r,i){if(null!==i){const g=this.metadata.read;if(null!==g)if(g===Bi||g===Uu||g===al&&4&r.type)this.addMatch(r.index,-2);else{const T=cu(r,n,g,!1,!1);null!==T&&this.addMatch(r.index,T)}else this.addMatch(r.index,i)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function LE(t,n){const r=t.localNames;if(null!==r)for(let i=0;i<r.length;i+=2)if(r[i]===n)return r[i+1];return null}function FE(t,n,r,i){return-1===r?function NE(t,n){return 11&t.type?gi(t,n):4&t.type?Ou(t,n):null}(n,t):-2===r?function BE(t,n,r){return r===Bi?gi(n,t):r===al?Ou(n,t):r===Uu?ig(n,t):void 0}(t,n,i):as(t,t[Tn],r,n)}function cg(t,n,r,i){const g=n[ho].queries[i];if(null===g.matches){const T=t.data,U=r.matches,te=[];for(let ue=0;null!==U&&ue<U.length;ue+=2){const Ce=U[ue];te.push(Ce<0?null:FE(n,T[Ce],U[ue+1],r.metadata.read))}g.matches=te}return g.matches}function cf(t,n,r,i){const g=t.queries.getByIndex(r),T=g.matches;if(null!==T){const U=cg(t,n,g,r);for(let te=0;te<T.length;te+=2){const ue=T[te];if(ue>0)i.push(U[te/2]);else{const Ce=T[te+1],Ne=n[-ue];for(let qe=br;qe<Ne.length;qe++){const ht=Ne[qe];ht[So]===ht[dr]&&cf(ht[Tn],ht,Ce,i)}if(null!==Ne[Lo]){const qe=Ne[Lo];for(let ht=0;ht<qe.length;ht++){const Ot=qe[ht];cf(Ot[Tn],Ot,Ce,i)}}}}}return i}function dg(t,n,r){var i;const g=new Bl(4==(4&r));return function tw(t,n,r,i){const g=wm(n);g.push(r),t.firstCreatePass&&Em(t).push(i,g.length-1)}(t,n,g,g.destroy),(null!==(i=n[ho])&&void 0!==i?i:n[ho]=new af).queries.push(new sf(g))-1}function pg(t,n,r){null===t.queries&&(t.queries=new lf),t.queries.track(new uf(n,r))}function ff(t,n){return t.queries.getByIndex(n)}function mg(t,n){const r=t[Tn],i=ff(r,n);return i.crossesNgTemplate?cf(r,t,n,[]):cg(r,t,i,n)}function vg(t){return function gg(t){return"function"==typeof t&&void 0!==t[W]}(t)&&"function"==typeof t.set}function pf(t){let n=function Tg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const i=[t];for(;n;){let g;if(Do(t))g=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ke(903,!1);g=n.\u0275dir}if(g){if(r){i.push(g);const U=t;U.inputs=$u(t.inputs),U.inputTransforms=$u(t.inputTransforms),U.declaredInputs=$u(t.declaredInputs),U.outputs=$u(t.outputs);const te=g.hostBindings;te&&nx(t,te);const ue=g.viewQuery,Ce=g.contentQueries;if(ue&&ex(t,ue),Ce&&tx(t,Ce),ZE(t,g),G(t.outputs,g.outputs),Do(g)&&g.data.animation){const Ne=t.data;Ne.animation=(Ne.animation||[]).concat(g.data.animation)}}const T=g.features;if(T)for(let U=0;U<T.length;U++){const te=T[U];te&&te.ngInherit&&te(t),te===pf&&(r=!1)}}n=Object.getPrototypeOf(n)}!function QE(t){let n=0,r=null;for(let i=t.length-1;i>=0;i--){const g=t[i];g.hostVars=n+=g.hostVars,g.hostAttrs=Zt(g.hostAttrs,r=Zt(r,g.hostAttrs))}}(i)}function ZE(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const g=n.inputs[i];if(void 0!==g&&(t.inputs[i]=g,t.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){var r;const T=Array.isArray(g)?g[0]:g;if(!n.inputTransforms.hasOwnProperty(T))continue;null!==(r=t.inputTransforms)&&void 0!==r||(t.inputTransforms={}),t.inputTransforms[T]=n.inputTransforms[T]}}}function $u(t){return t===ar?{}:t===Pn?[]:t}function ex(t,n){const r=t.viewQuery;t.viewQuery=r?(i,g)=>{n(i,g),r(i,g)}:n}function tx(t,n){const r=t.contentQueries;t.contentQueries=r?(i,g,T)=>{n(i,g,T),r(i,g,T)}:n}function nx(t,n){const r=t.hostBindings;t.hostBindings=r?(i,g)=>{n(i,g),r(i,g)}:n}function Pg(t){const n=t.inputConfig,r={};for(const i in n)if(n.hasOwnProperty(i)){const g=n[i];Array.isArray(g)&&g[3]&&(r[i]=g[3])}t.inputTransforms=r}class fs{}class kg{}function lx(t,n){return new mf(t,null!=n?n:null,[])}class mf extends fs{constructor(n,r,i){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tg(this);const g=Xn(n);this._bootstrapComponents=ni(g.bootstrap),this._r3Injector=gp(n,r,[{provide:fs,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver},...i],Pe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class gf extends kg{constructor(n){super(),this.moduleType=n}create(n){return new mf(this.moduleType,n,[])}}class Rg extends fs{constructor(n){super(),this.componentFactoryResolver=new tg(this),this.instance=null;const r=new Us([...n.providers,{provide:fs,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],n.parent||tu(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function yf(t,n,r=null){return new Rg({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let ta=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge.g(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Hu(t){return!!vf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function vf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function so(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function na(t,n,r,i,g,T,U,te){const ue=hn(),Ce=fr(),Ne=t+Yn,qe=Ce.firstCreatePass?function mx(t,n,r,i,g,T,U,te,ue){const Ce=n.consts,Ne=Js(n,t,4,U||null,er(Ce,te));Nd(n,r,Ne,er(Ce,ue)),ou(n,Ne);const qe=Ne.tView=Ld(2,Ne,i,g,T,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Ce,null);return null!==n.queries&&(n.queries.template(n,Ne),qe.queries=n.queries.embeddedTView(Ne)),Ne}(Ne,Ce,ue,n,r,i,g,T,U):Ce.data[Ne];Zo(qe,!1);const ht=Lg(Ce,ue,qe,t);Ss()&&Cu(Ce,ue,ht,qe),jo(ht,ue);const Ot=bm(ht,ue,ht,qe);return ue[Ne]=Ot,Iu(ue,Ot),function ag(t,n,r){return rf(t,n,r)}(Ot,qe,ue),Ln(qe)&&kd(Ce,ue,qe),null!=U&&Rd(ue,qe,te),na}let Lg=function Ng(t,n,r,i){return Ti(!0),n[qn].createComment("")};function If(t,n,r,i){const g=hn();return so(g,ce(),n)&&(fr(),_i(ir(),g,t,n,r,i)),If}function ca(t,n,r,i){return so(t,ce(),r)?n+sr(r)+i:ur}function da(t,n,r,i,g,T){const te=function hs(t,n,r,i){const g=so(t,n,r);return so(t,n+1,i)||g}(t,function Mo(){return Nn.lFrame.bindingIndex}(),r,g);return Te(2),te?n+sr(r)+i+sr(g)+T:ur}function Ju(t,n){return t<<17|n<<2}function Yi(t){return t>>17&32767}function Tf(t){return 2|t}function ms(t){return(131068&t)>>2}function Af(t,n){return-131069&t|n<<2}function Of(t){return 1|t}function py(t,n,r,i){const g=t[r+1],T=null===n;let U=i?Yi(g):ms(g),te=!1;for(;0!==U&&(!1===te||T);){const Ce=t[U+1];Qx(t[U],n)&&(te=!0,t[U+1]=i?Of(Ce):Tf(Ce)),U=i?Yi(Ce):ms(Ce)}te&&(t[r+1]=i?Tf(g):Of(g))}function Qx(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ai(t,n)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function my(t){return t.substring(_o.key,_o.keyEnd)}function eC(t){return t.substring(_o.value,_o.valueEnd)}function yy(t,n){const r=_o.textEnd;let i=_o.key=va(t,n,r);return r===i?-1:(i=_o.keyEnd=function oC(t,n,r){let i;for(;n<r&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,r),i=by(t,i,r),i=_o.value=va(t,i,r),i=_o.valueEnd=function iC(t,n,r){let i=-1,g=-1,T=-1,U=n,te=U;for(;U<r;){const ue=t.charCodeAt(U++);if(59===ue)return te;34===ue||39===ue?te=U=_y(t,ue,U,r):n===U-4&&85===T&&82===g&&76===i&&40===ue?te=U=_y(t,41,U,r):ue>32&&(te=U),T=g,g=i,i=-33&ue}return te}(t,i,r),by(t,i,r))}function va(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function by(t,n,r,i){return(n=va(t,n,r))<r&&n++,n}function _y(t,n,r,i){let g=-1,T=r;for(;T<i;){const U=t.charCodeAt(T++);if(U==n&&92!==g)return T;g=92==U&&92===g?0:U}throw new Error}function jf(t,n,r){const i=hn();return so(i,ce(),n)&&Ho(fr(),ir(),i,t,n,i[qn],r,!1),jf}function Pf(t,n,r,i,g){const U=g?"class":"style";Gd(t,r,n.inputs[U],U,i)}function kf(t,n){return function hi(t,n,r,i){const g=hn(),T=fr(),U=Te(2);T.firstUpdatePass&&xy(T,t,U,i),n!==ur&&so(g,U,n)&&Sy(T,T.data[zr()],g,g[qn],t,g[U+1]=function mC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Pe(Ri(t)))),t}(n,r),i,U)}(t,n,null,!0),kf}function fi(t){!function pi(t,n,r,i){const g=fr(),T=Te(2);g.firstUpdatePass&&xy(g,null,T,i);const U=hn();if(r!==ur&&so(U,T,r)){const te=g.data[zr()];if(My(te,i)&&!Ey(g,T)){let ue=i?te.classesWithoutHost:te.stylesWithoutHost;null!==ue&&(r=Fe(ue,r||"")),Pf(g,te,U,r,i)}else!function pC(t,n,r,i,g,T,U,te){g===ur&&(g=Pn);let ue=0,Ce=0,Ne=0<g.length?g[0]:null,qe=0<T.length?T[0]:null;for(;null!==Ne||null!==qe;){const ht=ue<g.length?g[ue+1]:void 0,Ot=Ce<T.length?T[Ce+1]:void 0;let pn,Qt=null;Ne===qe?(ue+=2,Ce+=2,ht!==Ot&&(Qt=qe,pn=Ot)):null===qe||null!==Ne&&Ne<qe?(ue+=2,Qt=Ne):(Ce+=2,Qt=qe,pn=Ot),null!==Qt&&Sy(t,n,r,i,Qt,pn,U,te),Ne=ue<g.length?g[ue]:null,qe=Ce<T.length?T[Ce]:null}}(g,te,U,U[qn],U[T+1],U[T+1]=function fC(t,n,r){if(null==r||""===r)return Pn;const i=[],g=Ri(r);if(Array.isArray(g))for(let T=0;T<g.length;T++)t(i,g[T],!0);else if("object"==typeof g)for(const T in g)g.hasOwnProperty(T)&&t(i,T,g[T]);else"string"==typeof g&&n(i,g);return i}(t,n,r),i,T)}}(Cy,sC,t,!1)}function sC(t,n){for(let r=function nC(t){return function vy(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}(t),yy(t,va(t,0,_o.textEnd))}(n);r>=0;r=yy(n,r))Cy(t,my(n),eC(n))}function Ey(t,n){return n>=t.expandoStartIndex}function xy(t,n,r,i){const g=t.data;if(null===g[r+1]){const T=g[zr()],U=Ey(t,r);My(T,i)&&null===n&&!U&&(n=!1),n=function lC(t,n,r,i){const g=function In(t){const n=Nn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let T=i?n.residualClasses:n.residualStyles;if(null===g)0===(i?n.classBindings:n.styleBindings)&&(r=wl(r=Rf(null,t,n,r,i),n.attrs,i),T=null);else{const U=n.directiveStylingLast;if(-1===U||t[U]!==g)if(r=Rf(g,t,n,r,i),null===T){let ue=function uC(t,n,r){const i=r?n.classBindings:n.styleBindings;if(0!==ms(i))return t[Yi(i)]}(t,n,i);void 0!==ue&&Array.isArray(ue)&&(ue=Rf(null,t,n,ue[1],i),ue=wl(ue,n.attrs,i),function cC(t,n,r,i){t[Yi(r?n.classBindings:n.styleBindings)]=i}(t,n,i,ue))}else T=function dC(t,n,r){let i;const g=n.directiveEnd;for(let T=1+n.directiveStylingLast;T<g;T++)i=wl(i,t[T].hostAttrs,r);return wl(i,n.attrs,r)}(t,n,i)}return void 0!==T&&(i?n.residualClasses=T:n.residualStyles=T),r}(g,T,n,i),function Jx(t,n,r,i,g,T){let U=T?n.classBindings:n.styleBindings,te=Yi(U),ue=ms(U);t[i]=r;let Ne,Ce=!1;if(Array.isArray(r)?(Ne=r[1],(null===Ne||Ai(r,Ne)>0)&&(Ce=!0)):Ne=r,g)if(0!==ue){const ht=Yi(t[te+1]);t[i+1]=Ju(ht,te),0!==ht&&(t[ht+1]=Af(t[ht+1],i)),t[te+1]=function Xx(t,n){return 131071&t|n<<17}(t[te+1],i)}else t[i+1]=Ju(te,0),0!==te&&(t[te+1]=Af(t[te+1],i)),te=i;else t[i+1]=Ju(ue,0),0===te?te=i:t[ue+1]=Af(t[ue+1],i),ue=i;Ce&&(t[i+1]=Tf(t[i+1])),py(t,Ne,i,!0),py(t,Ne,i,!1),function Zx(t,n,r,i,g){const T=g?t.residualClasses:t.residualStyles;null!=T&&"string"==typeof n&&Ai(T,n)>=0&&(r[i+1]=Of(r[i+1]))}(n,Ne,t,i,T),U=Ju(te,ue),T?n.classBindings=U:n.styleBindings=U}(g,T,n,r,U,i)}}function Rf(t,n,r,i,g){let T=null;const U=r.directiveEnd;let te=r.directiveStylingLast;for(-1===te?te=r.directiveStart:te++;te<U&&(T=n[te],i=wl(i,T.hostAttrs,g),T!==t);)te++;return null!==t&&(r.directiveStylingLast=te),i}function wl(t,n,r){const i=r?1:2;let g=-1;if(null!==n)for(let T=0;T<n.length;T++){const U=n[T];"number"==typeof U?g=U:g===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),No(t,U,!!r||n[++T]))}return void 0===t?null:t}function Cy(t,n,r){No(t,n,Ri(r))}function Sy(t,n,r,i,g,T,U,te){if(!(3&n.type))return;const ue=t.data,Ce=ue[te+1],Ne=function Kx(t){return 1==(1&t)}(Ce)?Dy(ue,n,r,g,ms(Ce),U):void 0;Zu(Ne)||(Zu(T)||function Yx(t){return 2==(2&t)}(Ce)&&(T=Dy(ue,null,r,g,te,U)),function q1(t,n,r,i,g){if(n)g?t.addClass(r,i):t.removeClass(r,i);else{let T=-1===i.indexOf("-")?void 0:bu.DashCase;null==g?t.removeStyle(r,i,T):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),T|=bu.Important),t.setStyle(r,i,g,T))}}(i,U,tn(zr(),r),g,T))}function Dy(t,n,r,i,g,T){const U=null===n;let te;for(;g>0;){const ue=t[g],Ce=Array.isArray(ue),Ne=Ce?ue[1]:ue,qe=null===Ne;let ht=r[g+1];ht===ur&&(ht=qe?Pn:void 0);let Ot=qe?Fl(ht,i):Ne===i?ht:void 0;if(Ce&&!Zu(Ot)&&(Ot=Fl(ue,i)),Zu(Ot)&&(te=Ot,U))return te;const Qt=t[g+1];g=U?Yi(Qt):ms(Qt)}if(null!==n){let ue=T?n.residualClasses:n.residualStyles;null!=ue&&(te=Fl(ue,i))}return te}function Zu(t){return void 0!==t}function My(t,n){return 0!=(t.flags&(n?8:16))}function Qu(t,n,r,i){const g=hn(),T=fr(),U=Yn+t,te=g[qn],ue=T.firstCreatePass?function FC(t,n,r,i,g,T){const U=n.consts,ue=Js(n,t,2,i,er(U,g));return Nd(n,r,ue,er(U,T)),null!==ue.attrs&&Bu(ue,ue.attrs,!1),null!==ue.mergedAttrs&&Bu(ue,ue.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,ue),ue}(U,T,g,n,r,i):T.data[U],Ce=Oy(T,g,ue,te,n,t);g[U]=Ce;const Ne=Ln(ue);return Zo(ue,!0),am(te,Ce,ue),32!=(32&ue.flags)&&Ss()&&Cu(T,g,Ce,ue),0===function no(){return Nn.lFrame.elementDepthCount}()&&jo(Ce,g),function Jo(){Nn.lFrame.elementDepthCount++}(),Ne&&(kd(T,g,ue),Pd(T,ue,g)),null!==i&&Rd(g,ue),Qu}function ec(){let t=Or();ws()?Es():(t=t.parent,Zo(t,!1));const n=t;(function Da(t){return Nn.skipHydrationRootTNode===t})(n)&&function Ta(){Nn.skipHydrationRootTNode=null}(),function ci(){Nn.lFrame.elementDepthCount--}();const r=fr();return r.firstCreatePass&&(ou(r,t),xo(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function w_(t){return 0!=(8&t.flags)}(n)&&Pf(r,n,hn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function E_(t){return 0!=(16&t.flags)}(n)&&Pf(r,n,hn(),n.stylesWithoutHost,!1),ec}function Uf(t,n,r,i){return Qu(t,n,r,i),ec(),Uf}let Oy=(t,n,r,i,g,T)=>(Ti(!0),wu(i,g,function Ll(){return Nn.lFrame.currentNamespace}()));function Gf(t,n,r){const i=hn(),g=fr(),T=t+Yn,U=g.firstCreatePass?function GC(t,n,r,i,g){const T=n.consts,U=er(T,i),te=Js(n,t,8,"ng-container",U);return null!==U&&Bu(te,U,!0),Nd(n,r,te,er(T,g)),null!==n.queries&&n.queries.elementStart(n,te),te}(T,g,i,n,r):g.data[T];Zo(U,!0);const te=jy(g,i,U,t);return i[T]=te,Ss()&&Cu(g,i,te,U),jo(te,i),Ln(U)&&(kd(g,i,U),Pd(g,U,i)),null!=r&&Rd(i,U),Gf}function $f(){let t=Or();const n=fr();return ws()?Es():(t=t.parent,Zo(t,!1)),n.firstCreatePass&&(ou(n,t),xo(t)&&n.queries.elementEnd(t)),$f}function Vf(t,n,r){return Gf(t,n,r),$f(),Vf}let jy=(t,n,r,i)=>(Ti(!0),Dd(n[qn],""));function Py(){return hn()}const gs=void 0;var WC=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HC(t){const r=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===i?1:5}];let ba={};function Hf(t){const n=function zC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=Ny(n);if(r)return r;const i=n.split("-")[0];if(r=Ny(i),r)return r;if("en"===i)return WC;throw new Ke(701,!1)}function Ly(t){return Hf(t)[_a.PluralCase]}function Ny(t){return t in ba||(ba[t]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[t]),ba[t]}var _a=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_a||{});const wa="en-US";let Fy=wa;function qf(t,n,r,i){const g=hn(),T=fr(),U=Or();return Yf(T,g,g[qn],U,t,n,i),qf}function Yf(t,n,r,i,g,T,U){const te=Ln(i),Ce=t.firstCreatePass&&Em(t),Ne=n[lr],qe=wm(n);let ht=!0;if(3&i.type||U){const pn=sn(i,n),Mn=U?U(pn):pn,jn=qe.length,vn=U?cr=>U(gt(cr[i.index])):i.index;let Kn=null;if(!U&&te&&(Kn=function US(t,n,r,i){const g=t.cleanup;if(null!=g)for(let T=0;T<g.length-1;T+=2){const U=g[T];if(U===r&&g[T+1]===i){const te=n[uo],ue=g[T+2];return te.length>ue?te[ue]:null}"string"==typeof U&&(T+=2)}return null}(t,n,g,i.index)),null!==Kn)(Kn.__ngLastListenerFn__||Kn).__ngNextListenerFn__=T,Kn.__ngLastListenerFn__=T,ht=!1;else{T=dv(i,n,Ne,T,!1);const cr=r.listen(Mn,g,T);qe.push(T,cr),Ce&&Ce.push(g,vn,jn,jn+1)}}else T=dv(i,n,Ne,T,!1);const Ot=i.outputs;let Qt;if(ht&&null!==Ot&&(Qt=Ot[g])){const pn=Qt.length;if(pn)for(let Mn=0;Mn<pn;Mn+=2){const pr=n[Qt[Mn]][Qt[Mn+1]].subscribe(T),Io=qe.length;qe.push(T,pr),Ce&&Ce.push(g,i.index,Io,"function"==typeof pr?Io+1:-(Io+1))}}}function cv(t,n,r,i){const g=C(null);try{return vi(6,n,r),!1!==r(i)}catch(T){return Tu(t,T),!1}finally{vi(7,n,r),C(g)}}function dv(t,n,r,i,g){return function T(U){if(U===Function)return i;il(t.componentOffset>-1?Gn(t.index,n):n);let ue=cv(n,r,i,U),Ce=T.__ngNextListenerFn__;for(;Ce;)ue=cv(n,r,Ce,U)&&ue,Ce=Ce.__ngNextListenerFn__;return g&&!1===ue&&U.preventDefault(),ue}}function fv(t=1){return function ii(t){return(Nn.lFrame.contextLView=function Qr(t,n){for(;t>0;)n=n[Eo],t--;return n}(t,Nn.lFrame.contextLView))[lr]}(t)}function GS(t,n){let r=null;const i=function at(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let g=0;g<n.length;g++){const T=n[g];if("*"!==T){if(null===i?$e(t,T,!0):An(i,T))return g}else r=g}return r}function hv(t){const n=hn()[Dr][Er];if(!n.projection){const i=n.projection=function Ra(t,n){const r=[];for(let i=0;i<t;i++)r.push(n);return r}(t?t.length:1,null),g=i.slice();let T=n.child;for(;null!==T;){const U=t?GS(T,t):0;null!==U&&(g[U]?g[U].projectionNext=T:i[U]=T,g[U]=T),T=T.next}}}function pv(t,n=0,r){const i=hn(),g=fr(),T=Js(g,Yn+t,16,null,r||null);null===T.projection&&(T.projection=n),Es(),(!i[Lr]||Mi())&&32!=(32&T.flags)&&function W1(t,n,r){im(n[qn],0,n,r,Id(t,r,n),Qp(r.parent||n[Er],r,n))}(g,i,T)}function ic(t,n,r,i,g){const T=hn(),U=ca(T,n,r,i);return U!==ur&&Ho(fr(),ir(),T,t,U,T[qn],g,!1),ic}function Cv(t,n,r,i){!function hg(t,n,r,i){const g=fr();if(g.firstCreatePass){const T=Or();pg(g,new ug(n,r,i),T.index),function GE(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(g,t),2==(2&r)&&(g.staticContentQueries=!0)}return dg(g,hn(),r)}(t,n,r,i)}function Sv(t,n,r){!function fg(t,n,r){const i=fr();return i.firstCreatePass&&(pg(i,new ug(t,n,r),-1),2==(2&n)&&(i.staticViewQueries=!0)),dg(i,hn(),n)}(t,n,r)}function Dv(t){const n=hn(),r=fr(),i=rr();or(i+1);const g=ff(r,i);if(t.dirty&&function $n(t){return 4==(4&t[Fn])}(n)===(2==(2&g.metadata.flags))){if(null===g.matches)t.reset([]);else{const T=mg(n,i);t.reset(T,Ec),t.notifyOnChanges()}return!0}return!1}function Mv(){return function df(t,n){return t[ho].queries[n].queryList}(hn(),rr())}function Iv(t){return function Bn(t,n){return t[n]}(function xs(){return Nn.lFrame.contextLView}(),Yn+t)}function Fv(t,n=""){const r=hn(),i=fr(),g=t+Yn,T=i.firstCreatePass?Js(i,g,1,n,null):i.data[g],U=Bv(i,r,T,n,t);r[g]=U,Ss()&&Cu(i,r,U,T),Zo(T,!1)}let Bv=(t,n,r,i,g)=>(Ti(!0),function _u(t,n){return t.createText(n)}(n[qn],i));function Xf(t){return sc("",t,""),Xf}function sc(t,n,r){const i=hn(),g=ca(i,t,n,r);return g!==ur&&Ni(i,zr(),g),sc}function Kf(t,n,r,i,g){const T=hn(),U=da(T,t,n,r,i,g);return U!==ur&&Ni(T,zr(),U),Kf}function Jf(t,n,r){vg(n)&&(n=n());const i=hn();return so(i,ce(),n)&&Ho(fr(),ir(),i,t,n,i[qn],r,!1),Jf}function qv(t,n){const r=vg(t);return r&&t.set(n),r}function Zf(t,n){const r=hn(),i=fr(),g=Or();return Yf(i,r,r[qn],g,t,n),Zf}function Qf(t,n,r,i,g){if(t=Vn(t),Array.isArray(t))for(let T=0;T<t.length;T++)Qf(t[T],n,r,i,g);else{const T=fr(),U=hn(),te=Or();let ue=ss(t)?t:Vn(t.provide);const Ce=zh(t),Ne=1048575&te.providerIndexes,qe=te.directiveStart,ht=te.providerIndexes>>20;if(ss(t)||!t.multi){const Ot=new qa(Ce,g,Ks),Qt=th(ue,n,g?Ne:Ne+ht,qe);-1===Qt?(ad(lu(te,U),T,ue),eh(T,t,n.length),n.push(ue),te.directiveStart++,te.directiveEnd++,g&&(te.providerIndexes+=1048576),r.push(Ot),U.push(Ot)):(r[Qt]=Ot,U[Qt]=Ot)}else{const Ot=th(ue,n,Ne+ht,qe),Qt=th(ue,n,Ne,Ne+ht),Mn=Qt>=0&&r[Qt];if(g&&!Mn||!g&&!(Ot>=0&&r[Ot])){ad(lu(te,U),T,ue);const jn=function sD(t,n,r,i,g){const T=new qa(t,r,Ks);return T.multi=[],T.index=n,T.componentProviders=0,Yv(T,g,i&&!r),T}(g?iD:oD,r.length,g,i,Ce);!g&&Mn&&(r[Qt].providerFactory=jn),eh(T,t,n.length,0),n.push(ue),te.directiveStart++,te.directiveEnd++,g&&(te.providerIndexes+=1048576),r.push(jn),U.push(jn)}else eh(T,t,Ot>-1?Ot:Qt,Yv(r[g?Qt:Ot],Ce,!g&&i));!g&&i&&Mn&&r[Qt].componentProviders++}}}function eh(t,n,r,i){const g=ss(n),T=function Xb(t){return!!t.useClass}(n);if(g||T){const ue=(T?Vn(n.useClass):n).prototype.ngOnDestroy;if(ue){const Ce=t.destroyHooks||(t.destroyHooks=[]);if(!g&&n.multi){const Ne=Ce.indexOf(r);-1===Ne?Ce.push(r,[i,ue]):Ce[Ne+1].push(i,ue)}else Ce.push(r,ue)}}}function Yv(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function th(t,n,r,i){for(let g=r;g<i;g++)if(n[g]===t)return g;return-1}function oD(t,n,r,i){return nh(this.multi,[])}function iD(t,n,r,i){const g=this.multi;let T;if(this.providerFactory){const U=this.providerFactory.componentProviders,te=as(r,r[Tn],this.providerFactory.index,i);T=te.slice(0,U),nh(g,T);for(let ue=U;ue<te.length;ue++)T.push(te[ue])}else T=[],nh(g,T);return T}function nh(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function Xv(t,n=[]){return r=>{r.providersResolver=(i,g)=>function rD(t,n,r){const i=fr();if(i.firstCreatePass){const g=Do(t);Qf(r,i.data,i.blueprint,g,!0),Qf(n,i.data,i.blueprint,g,!1)}}(i,g?g(t):t,n)}}let aD=(()=>{var t;class n{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const g=zc(0,i.type),T=g.length>0?yf([g],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,T)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Fr({token:t,providedIn:"environment",factory:()=>new t(Oo(di))}),n})();function Kv(t){wi("NgStandalone"),t.getStandaloneInjector=n=>n.get(aD).getOrCreateStandaloneInjector(t)}function s0(t,n,r){const i=function Gr(){const t=Nn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,g=hn();return g[i]===ur?function Ei(t,n,r){return t[n]=r}(g,i,r?n.call(r):n()):function yl(t,n){return t[n]}(g,i)}class M0{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let I0=(()=>{var t;class n{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const j0=new be(""),P0=new be("");let ch,D2=(()=>{var t;class n{constructor(i,g,T){this._ngZone=i,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ch||(function M2(t){ch=t}(T),T.addToWindow(g)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(i)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,g,T){let U=-1;g&&g>0&&(U=setTimeout(()=>{this._callbacks=this._callbacks.filter(te=>te.timeoutId!==U),i()},g)),this._callbacks.push({doneCb:i,timeoutId:U,updateCb:T})}whenStable(i,g,T){if(T&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,g,T),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,g,T){return[]}}return(t=n).\u0275fac=function(i){return new(i||t)(Oo(io),Oo(k0),Oo(P0))},t.\u0275prov=Fr({token:t,factory:t.\u0275fac}),n})(),k0=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(i,g){this._applications.set(i,g)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,g=!0){var T,U;return null!==(T=null===(U=ch)||void 0===U?void 0:U.findTestabilityInTree(this,i,g))&&void 0!==T?T:null}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function dh(t){return!!t&&"function"==typeof t.then}function R0(t){return!!t&&"function"==typeof t.subscribe}const L0=new be("");let fh=(()=>{var t;class n{constructor(){var i;this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,T)=>{this.resolve=g,this.reject=T}),this.appInits=null!==(i=wr(L0,{optional:!0}))&&void 0!==i?i:[]}runInitializers(){if(this.initialized)return;const i=[];for(const T of this.appInits){const U=T();if(dh(U))i.push(U);else if(R0(U)){const te=new Promise((ue,Ce)=>{U.subscribe({complete:ue,error:Ce})});i.push(te)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{g()}).catch(T=>{this.reject(T)}),0===i.length&&g(),this.initialized=!0}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const hh=new be("");function B0(t,n){return Array.isArray(n)?n.reduce(B0,t):{...t,...n}}let Xi=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wr(vp),this.afterRenderEffectManager=wr(fl),this.componentTypes=[],this.components=[],this.isStable=wr(ta).hasPendingTasks.pipe((0,Be.k)(i=>!i)),this._injector=wr(di)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,g){const T=i instanceof Gm;if(!this._injector.get(fh).done)throw!T&&zn(i),new Ke(405,!1);let te;te=T?i:this._injector.get(Lu).resolveComponentFactory(i),this.componentTypes.push(te.componentType);const ue=function I2(t){return t.isBoundToModule}(te)?void 0:this._injector.get(fs),Ne=te.create(ti.NULL,[],g||te.selector,ue),qe=Ne.location.nativeElement,ht=Ne.injector.get(j0,null);return null==ht||ht.registerApplication(qe),Ne.onDestroy(()=>{this.detachView(Ne.hostView),cc(this.components,Ne),null==ht||ht.unregisterApplication(qe)}),this._loadComponent(Ne),Ne}tick(){if(this._runningTick)throw new Ke(101,!1);const i=C(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(g){this.internalErrorHandler(g)}finally{this._runningTick=!1,C(i)}}detectChangesInAttachedViews(){let i=0;const g=this.afterRenderEffectManager;for(;;){if(100===i)throw new Ke(103,!1);const T=0===i;for(let{_lView:U,notifyErrorHandler:te}of this._views)!T&&!ph(U)||this.detectChangesInView(U,te,T);if(i++,g.executeInternalCallbacks(),!this._views.some(({_lView:U})=>ph(U))&&(g.execute(),!this._views.some(({_lView:U})=>ph(U))))break}}detectChangesInView(i,g,T){let U;T?(U=0,i[Fn]|=1024):U=64&i[Fn]?0:1,Au(i,g,U)}attachView(i){const g=i;this._views.push(g),g.attachToAppRef(this)}detachView(i){const g=i;cc(this._views,g),g.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const g=this._injector.get(hh,[]);[...this._bootstrapListeners,...g].forEach(T=>T(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cc(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ke(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function cc(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function ph(t){return Jr(t)}class A2{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let O2=(()=>{var t;class n{compileModuleSync(i){return new gf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const g=this.compileModuleSync(i),U=ni(Xn(i).declarations).reduce((te,ue)=>{const Ce=Kt(ue);return Ce&&te.push(new ml(Ce)),te},[]);return new A2(g,U)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),k2=(()=>{var t;class n{constructor(){this.zone=wr(io),this.applicationRef=wr(Xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function R2(){const t=wr(io),n=wr(Vi);return r=>t.runOutsideAngular(()=>n.handleError(r))}let N2=(()=>{var t;class n{constructor(){this.subscription=new Oe.wH,this.initialized=!1,this.zone=wr(io),this.pendingTasks=wr(ta)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var g;io.assertInAngularZone(),null!==(g=i)&&void 0!==g||(i=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const dc=new be("",{providedIn:"root",factory:()=>wr(dc,_t.Optional|_t.SkipSelf)||function F2(){return typeof $localize<"u"&&$localize.locale||wa}()}),B2=new be("",{providedIn:"root",factory:()=>"USD"}),mh=new be("");let V0=(()=>{var t;class n{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,g){const T=function gE(t="zone.js",n){return"noop"===t?new Ym:"zone.js"===t?new io(n):t}(null==g?void 0:g.ngZone,function $0(t){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==t?void 0:t.runCoalescing)&&void 0!==r&&r}}({eventCoalescing:null==g?void 0:g.ngZoneEventCoalescing,runCoalescing:null==g?void 0:g.ngZoneRunCoalescing}));return T.run(()=>{const U=function ux(t,n,r){return new mf(t,n,r)}(i.moduleType,this.injector,function G0(t){return[{provide:io,useFactory:t},{provide:is,multi:!0,useFactory:()=>{const n=wr(k2,{optional:!0});return()=>n.initialize()}},{provide:is,multi:!0,useFactory:()=>{const n=wr(N2);return()=>{n.initialize()}}},{provide:vp,useFactory:R2}]}(()=>T)),te=U.injector.get(Vi,null);return T.runOutsideAngular(()=>{const ue=T.onError.subscribe({next:Ce=>{te.handleError(Ce)}});U.onDestroy(()=>{cc(this._modules,U),ue.unsubscribe()})}),function F0(t,n,r){try{const i=r();return dh(i)?i.catch(g=>{throw n.runOutsideAngular(()=>t.handleError(g)),g}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(te,T,()=>{const ue=U.injector.get(fh);return ue.runInitializers(),ue.donePromise.then(()=>(function By(t){"string"==typeof t&&(Fy=t.toLowerCase().replace(/_/g,"-"))}(U.injector.get(dc,wa)||wa),this._moduleDoBootstrap(U),U))})})}bootstrapModule(i,g=[]){const T=B0({},g);return function P2(t,n,r){const i=new gf(r);return Promise.resolve(i)}(0,0,i).then(U=>this.bootstrapModuleFactory(U,T))}_moduleDoBootstrap(i){const g=i.injector.get(Xi);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(T=>g.bootstrap(T));else{if(!i.instance.ngDoBootstrap)throw new Ke(-403,!1);i.instance.ngDoBootstrap(g)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const i=this._injector.get(mh,null);i&&(i.forEach(g=>g()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(i){return new(i||t)(Oo(ti))},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Ki=null;const H0=new be("");function W0(t,n,r=[]){const i=`Platform: ${n}`,g=new be(i);return(T=[])=>{let U=gh();if(!U||U.injector.get(H0,!1)){const te=[...r,...T,{provide:g,useValue:!0}];t?t(te):function G2(t){if(Ki&&!Ki.get(H0,!1))throw new Ke(400,!1);(function N0(){!function Q(t){Z=t}(()=>{throw new Ke(600,!1)})})(),Ki=t;const n=t.get(V0);(function q0(t){const n=t.get(Je,null);null==n||n.forEach(r=>r())})(t)}(function z0(t=[],n){return ti.create({name:n,providers:[{provide:Xc,useValue:"platform"},{provide:mh,useValue:new Set([()=>Ki=null])},...t]})}(te,i))}return function $2(t){const n=gh();if(!n)throw new Ke(401,!1);return n}()}}function gh(){var t,n;return null!==(t=null===(n=Ki)||void 0===n?void 0:n.get(V0))&&void 0!==t?t:null}function H2(){}let X0=(()=>{class n{}return n.__NG_ELEMENT_ID__=W2,n})();function W2(t){return function z2(t,n,r){if(Xr(t)&&!r){const i=Gn(t.index,n);return new sl(i,i)}return 47&t.type?new sl(n[Dr],n):null}(Or(),hn(),16==(16&t))}class Q0{constructor(){}supports(n){return Hu(n)}create(n){return new J2(n)}}const K2=(t,n)=>n;class J2{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||K2}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,i=this._removalsHead,g=0,T=null;for(;r||i;){const U=!i||r&&r.currentIndex<tb(i,g,T)?r:i,te=tb(U,g,T),ue=U.currentIndex;if(U===i)g--,i=i._nextRemoved;else if(r=r._next,null==U.previousIndex)g++;else{T||(T=[]);const Ce=te-g,Ne=ue-g;if(Ce!=Ne){for(let ht=0;ht<Ce;ht++){const Ot=ht<T.length?T[ht]:T[ht]=0,Qt=Ot+ht;Ne<=Qt&&Qt<Ce&&(T[ht]=Ot+1)}T[U.previousIndex]=Ne-Ce}}te!==ue&&n(U,te,ue)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Hu(n))throw new Ke(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let g,T,U,r=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let te=0;te<this.length;te++)T=n[te],U=this._trackByFn(te,T),null!==r&&Object.is(r.trackById,U)?(i&&(r=this._verifyReinsertion(r,T,U,te)),Object.is(r.item,T)||this._addIdentityChange(r,T)):(r=this._mismatch(r,T,U,te),i=!0),r=r._next}else g=0,function hx(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let i;for(;!(i=r.next()).done;)n(i.value)}}(n,te=>{U=this._trackByFn(g,te),null!==r&&Object.is(r.trackById,U)?(i&&(r=this._verifyReinsertion(r,te,U,g)),Object.is(r.item,te)||this._addIdentityChange(r,te)):(r=this._mismatch(r,te,U,g),i=!0),r=r._next,g++}),this.length=g;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,i,g){let T;return null===n?T=this._itTail:(T=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,T,g)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,g))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,T,g)):n=this._addAfter(new Z2(r,i),T,g),n}_verifyReinsertion(n,r,i,g){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==T?n=this._reinsertAfter(T,n._prev,g):n.currentIndex!=g&&(n.currentIndex=g,this._addToMoves(n,g)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const g=n._prevRemoved,T=n._nextRemoved;return null===g?this._removalsHead=T:g._nextRemoved=T,null===T?this._removalsTail=g:T._prevRemoved=g,this._insertAfter(n,r,i),this._addToMoves(n,i),n}_moveAfter(n,r,i){return this._unlink(n),this._insertAfter(n,r,i),this._addToMoves(n,i),n}_addAfter(n,r,i){return this._insertAfter(n,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,i){const g=null===r?this._itHead:r._next;return n._next=g,n._prev=r,null===g?this._itTail=n:g._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,i=n._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Z2{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Q2{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const r=n._prevDup,i=n._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}class eb{constructor(){this.map=new Map}put(n){const r=n.trackById;let i=this.map.get(r);i||(i=new Q2,this.map.set(r,i)),i.add(n)}get(n,r){const g=this.map.get(n);return g?g.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(t,n,r){const i=t.previousIndex;if(null===i)return i;let g=0;return r&&i<r.length&&(g=r[i]),i+n+g}class nb{constructor(){}supports(n){return n instanceof Map||vf(n)}create(){return new eM}}class eM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||vf(n)))throw new Ke(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,g)=>{if(r&&r.key===g)this._maybeAddToChanges(r,i),this._appendAfter=r,r=r._next;else{const T=this._getOrCreateRecordForKey(g,i);r=this._insertBeforeOrAppend(r,T)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let i=r;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const i=n._prev;return r._next=n,r._prev=i,n._prev=r,i&&(i._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const g=this._records.get(n);this._maybeAddToChanges(g,r);const T=g._prev,U=g._next;return T&&(T._next=U),U&&(U._prev=T),g._next=null,g._prev=null,g}const i=new tM(n);return this._records.set(n,i),i.currentValue=r,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(i=>r(n[i],i))}}class tM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new wh([new Q0])}let wh=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,g){if(null!=g){const T=g.factories.slice();i=i.concat(T)}return new n(i)}static extend(i){return{provide:n,useFactory:g=>n.create(i,g||rb()),deps:[[n,new Kl,new Xl]]}}find(i){const g=this.factories.find(T=>T.supports(i));if(null!=g)return g;throw new Ke(901,!1)}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:rb}),n})();function ob(){return new Eh([new nb])}let Eh=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,g){if(g){const T=g.factories.slice();i=i.concat(T)}return new n(i)}static extend(i){return{provide:n,useFactory:g=>n.create(i,g||ob()),deps:[[n,new Kl,new Xl]]}}find(i){const g=this.factories.find(T=>T.supports(i));if(g)return g;throw new Ke(901,!1)}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:ob}),n})();const oM=W0(null,"core",[]);let iM=(()=>{var t;class n{constructor(i){}}return(t=n).\u0275fac=function(i){return new(i||t)(Oo(Xi))},t.\u0275mod=Re({type:t}),t.\u0275inj=rs({}),n})();function PM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function RM(t){const n=C(null);try{return t()}finally{C(n)}}function GM(t,n){const r=Kt(t),i=n.elementInjector||tu();return new ml(r).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function $M(t){const n=Kt(t);if(!n)return null;const r=new ml(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4716:(dn,Pt,he)=>{"use strict";he.d(Pt,{ot:()=>p,y:()=>x,_t:()=>Ro,Gu:()=>br,WM:()=>N,Y6:()=>l,eq:()=>mt,ue:()=>Rt,_G:()=>Dn});var v=he(4496),we=he(1368),nt=he(2115),_e=he(3252),o=he(4300),W=he(560),C=he(6624),y=he(7773),_=he(4187),h=he(7904),E=he(4704);let w=(()=>{var I;class M{constructor(X,le){this._renderer=X,this._elementRef=le,this.onChange=ke=>{},this.onTouched=()=>{}}setProperty(X,le){this._renderer.setProperty(this._elementRef.nativeElement,X,le)}registerOnTouched(X){this.onTouched=X}registerOnChange(X){this.onChange=X}setDisabledState(X){this.setProperty("disabled",X)}}return(I=M).\u0275fac=function(X){return new(X||I)(v.GI1(v.q87),v.GI1(v.GMv))},I.\u0275dir=v.Sc5({type:I}),M})(),a=(()=>{var I;class M extends w{}return(I=M).\u0275fac=(()=>{let J;return function(le){return(J||(J=v.otF(I)))(le||I)}})(),I.\u0275dir=v.Sc5({type:I,features:[v.eg9]}),M})();const l=new v.UbH(""),c={provide:l,useExisting:(0,v.wd)(()=>p),multi:!0},m=new v.UbH("");let p=(()=>{var I;class M extends w{constructor(X,le,ke){super(X,le),this._compositionMode=ke,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function s(){const I=(0,we.uy)()?(0,we.uy)().getUserAgent():"";return/android (\d+)/.test(I.toLowerCase())}())}writeValue(X){this.setProperty("value",null==X?"":X)}_handleInput(X){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(X)}_compositionStart(){this._composing=!0}_compositionEnd(X){this._composing=!1,this._compositionMode&&this.onChange(X)}}return(I=M).\u0275fac=function(X){return new(X||I)(v.GI1(v.q87),v.GI1(v.GMv),v.GI1(m,8))},I.\u0275dir=v.Sc5({type:I,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(X,le){1&X&&v.qCj("input",function(Xe){return le._handleInput(Xe.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(Xe){return le._compositionEnd(Xe.target.value)})},features:[v.M5G([c]),v.eg9]}),M})();function b(I){return null==I||("string"==typeof I||Array.isArray(I))&&0===I.length}const N=new v.UbH(""),R=new v.UbH("");function Y(I){return null}function q(I){return null!=I}function ne(I){return(0,v.w5$)(I)?(0,nt.Q)(I):I}function de(I){let M={};return I.forEach(J=>{M=null!=J?{...M,...J}:M}),0===Object.keys(M).length?null:M}function xe(I,M){return M.map(J=>J(I))}function L(I){return I.map(M=>function K(I){return!I.validate}(M)?M:J=>M.validate(J))}function ge(I){return null!=I?function re(I){if(!I)return null;const M=I.filter(q);return 0==M.length?null:function(J){return de(xe(J,M))}}(L(I)):null}function Le(I){return null!=I?function Me(I){if(!I)return null;const M=I.filter(q);return 0==M.length?null:function(J){return function f(...I){const M=(0,C.yu)(I),{args:J,keys:X}=(0,o.Q)(I),le=new _e._(ke=>{const{length:Xe}=J;if(!Xe)return void ke.complete();const rt=new Array(Xe);let Tt=Xe,qt=Xe;for(let Bt=0;Bt<Xe;Bt++){let gt=!1;(0,W.Uv)(J[Bt]).subscribe((0,y.e)(ke,mn=>{gt||(gt=!0,qt--),rt[Bt]=mn},()=>Tt--,void 0,()=>{(!Tt||!gt)&&(qt||ke.next(X?(0,h.q)(X,rt):rt),ke.complete())}))}});return M?le.pipe((0,_.j)(M)):le}(xe(J,M).map(ne)).pipe((0,E.k)(de))}}(L(I)):null}function Ye(I,M){return null===I?[M]:Array.isArray(I)?[...I,M]:[I,M]}function Ge(I){return I?Array.isArray(I)?I:[I]:[]}function Be(I,M){return Array.isArray(I)?I.includes(M):I===M}function Ae(I,M){const J=Ge(M);return Ge(I).forEach(le=>{Be(J,le)||J.push(le)}),J}function Qe(I,M){return Ge(M).filter(J=>!Be(I,J))}class Ke{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=ge(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Le(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,J){return!!this.control&&this.control.hasError(M,J)}getError(M,J){return this.control?this.control.getError(M,J):null}}class vt extends Ke{get formDirective(){return null}get path(){return null}}class mt extends Ke{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yt{constructor(M){this._cd=M}get isTouched(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.touched)}get isUntouched(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.untouched)}get isPristine(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.pristine)}get isDirty(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.dirty)}get isValid(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.valid)}get isInvalid(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.invalid)}get isPending(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.pending)}get isSubmitted(){var M;return!(null===(M=this._cd)||void 0===M||!M.submitted)}}let Rt=(()=>{var I;class M extends yt{constructor(X){super(X)}}return(I=M).\u0275fac=function(X){return new(X||I)(v.GI1(mt,2))},I.\u0275dir=v.Sc5({type:I,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(X,le){2&X&&v.eAK("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)},features:[v.eg9]}),M})();const St="VALID",Et="INVALID",it="PENDING",ze="DISABLED";function bt(I){return null!=I&&!Array.isArray(I)&&"object"==typeof I}class Vt{constructor(M,J){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(J)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===St}get invalid(){return this.status===Et}get pending(){return this.status==it}get disabled(){return this.status===ze}get enabled(){return this.status!==ze}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(Ae(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Ae(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Qe(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Qe(M,this._rawAsyncValidators))}hasValidator(M){return Be(this._rawValidators,M)}hasAsyncValidator(M){return Be(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(J=>{J.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(J=>{J.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=it,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const J=this._parentMarkedDirty(M.onlySelf);this.status=ze,this.errors=null,this._forEachChild(X=>{X.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:J}),this._onDisabledChange.forEach(X=>X(!0))}enable(M={}){const J=this._parentMarkedDirty(M.onlySelf);this.status=St,this._forEachChild(X=>{X.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:J}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===St||this.status===it)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(J=>J._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ze:St}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=it,this._hasOwnPendingAsyncValidator=!0;const J=ne(this.asyncValidator(this));this._asyncValidationSubscription=J.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,J={}){this.errors=M,this._updateControlsErrors(!1!==J.emitEvent)}get(M){let J=M;return null==J||(Array.isArray(J)||(J=J.split(".")),0===J.length)?null:J.reduce((X,le)=>X&&X._find(le),this)}getError(M,J){const X=J?this.get(J):this;return X&&X.errors?X.errors[M]:null}hasError(M,J){return!!this.getError(M,J)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new v._w7,this.statusChanges=new v._w7}_calculateStatus(){return this._allControlsDisabled()?ze:this.errors?Et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(it)?it:this._anyControlsHaveStatus(Et)?Et:St}_anyControlsHaveStatus(M){return this._anyControls(J=>J.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){bt(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function xt(I){return Array.isArray(I)?ge(I):I||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function We(I){return Array.isArray(I)?Le(I):I||null}(this._rawAsyncValidators)}}const tr=new v.UbH("CallSetDisabledState",{providedIn:"root",factory:()=>ar}),ar="always";function Hn(I,M,J=ar){var X,le;(function P(I,M){const J=function et(I){return I._rawValidators}(I);null!==M.validator?I.setValidators(Ye(J,M.validator)):"function"==typeof J&&I.setValidators([J]);const X=function Oe(I){return I._rawAsyncValidators}(I);null!==M.asyncValidator?I.setAsyncValidators(Ye(X,M.asyncValidator)):"function"==typeof X&&I.setAsyncValidators([X]);const le=()=>I.updateValueAndValidity();me(M._rawValidators,le),me(M._rawAsyncValidators,le)})(I,M),M.valueAccessor.writeValue(I.value),(I.disabled||"always"===J)&&(null===(X=(le=M.valueAccessor).setDisabledState)||void 0===X||X.call(le,I.disabled)),function F(I,M){M.valueAccessor.registerOnChange(J=>{I._pendingValue=J,I._pendingChange=!0,I._pendingDirty=!0,"change"===I.updateOn&&ae(I,M)})}(I,M),function ee(I,M){const J=(X,le)=>{M.valueAccessor.writeValue(X),le&&M.viewToModelUpdate(X)};I.registerOnChange(J),M._registerOnDestroy(()=>{I._unregisterOnChange(J)})}(I,M),function oe(I,M){M.valueAccessor.registerOnTouched(()=>{I._pendingTouched=!0,"blur"===I.updateOn&&I._pendingChange&&ae(I,M),"submit"!==I.updateOn&&I.markAsTouched()})}(I,M),function Se(I,M){if(M.valueAccessor.setDisabledState){const J=X=>{M.valueAccessor.setDisabledState(X)};I.registerOnDisabledChange(J),M._registerOnDestroy(()=>{I._unregisterOnDisabledChange(J)})}}(I,M)}function me(I,M){I.forEach(J=>{J.registerOnValidatorChange&&J.registerOnValidatorChange(M)})}function ae(I,M){I._pendingDirty&&I.markAsDirty(),I.setValue(I._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(I._pendingValue),I._pendingChange=!1}function un(I,M){const J=I.indexOf(M);J>-1&&I.splice(J,1)}function An(I){return"object"==typeof I&&null!==I&&2===Object.keys(I).length&&"value"in I&&"disabled"in I}Promise.resolve();const At=class extends Vt{constructor(M=null,J,X){super(function ut(I){return(bt(I)?I.validators:I)||null}(J),function en(I,M){return(bt(M)?M.asyncValidators:I)||null}(X,J)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(J),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bt(J)&&(J.nonNullable||J.initialValueIsDefault)&&(this.defaultValue=An(M)?M.value:M)}setValue(M,J={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==J.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==J.emitViewToModelChange)),this.updateValueAndValidity(J)}patchValue(M,J={}){this.setValue(M,J)}reset(M=this.defaultValue,J={}){this._applyFormState(M),this.markAsPristine(J),this.markAsUntouched(J),this.setValue(this.value,J),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){un(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){un(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){An(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},pt={provide:mt,useExisting:(0,v.wd)(()=>Dn)},Kt=Promise.resolve();let Dn=(()=>{var I;class M extends mt{constructor(X,le,ke,Xe,rt,Tt){super(),this._changeDetectorRef=rt,this.callSetDisabledState=Tt,this.control=new At,this._registered=!1,this.name="",this.update=new v._w7,this._parent=X,this._setValidators(le),this._setAsyncValidators(ke),this.valueAccessor=function yr(I,M){if(!M)return null;let J,X,le;return Array.isArray(M),M.forEach(ke=>{ke.constructor===p?J=ke:function Wn(I){return Object.getPrototypeOf(I.constructor)===a}(ke)?X=ke:le=ke}),le||X||J||null}(0,Xe)}ngOnChanges(X){if(this._checkForErrors(),!this._registered||"name"in X){if(this._registered&&(this._checkName(),this.formDirective)){const le=X.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in X&&this._updateDisabled(X),function Rn(I,M){if(!I.hasOwnProperty("model"))return!1;const J=I.model;return!!J.isFirstChange()||!Object.is(M,J.currentValue)}(X,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(X){this.viewModel=X,this.update.emit(X)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(X){Kt.then(()=>{var le;this.control.setValue(X,{emitViewToModelChange:!1}),null===(le=this._changeDetectorRef)||void 0===le||le.markForCheck()})}_updateDisabled(X){const le=X.isDisabled.currentValue,ke=0!==le&&(0,v.cZD)(le);Kt.then(()=>{var Xe;ke&&!this.control.disabled?this.control.disable():!ke&&this.control.disabled&&this.control.enable(),null===(Xe=this._changeDetectorRef)||void 0===Xe||Xe.markForCheck()})}_getPath(X){return this._parent?function Pn(I,M){return[...M.path,I]}(X,this._parent):[X]}}return(I=M).\u0275fac=function(X){return new(X||I)(v.GI1(vt,9),v.GI1(N,10),v.GI1(R,10),v.GI1(l,10),v.GI1(v.kD9,8),v.GI1(tr,8))},I.\u0275dir=v.Sc5({type:I,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[v.Wk5.None,"disabled","isDisabled"],model:[v.Wk5.None,"ngModel","model"],options:[v.Wk5.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[v.M5G([pt]),v.eg9,v.SYr]}),M})();function Uo(I){return"number"==typeof I?I:parseFloat(I)}let oo=(()=>{var I;class M{constructor(){this._validator=Y}ngOnChanges(X){if(this.inputName in X){const le=this.normalizeInput(X[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):Y,this._onChange&&this._onChange()}}validate(X){return this._validator(X)}registerOnValidatorChange(X){this._onChange=X}enabled(X){return null!=X}}return(I=M).\u0275fac=function(X){return new(X||I)},I.\u0275dir=v.Sc5({type:I,features:[v.SYr]}),M})();const co={provide:N,useExisting:(0,v.wd)(()=>Ro),multi:!0};let Ro=(()=>{var I;class M extends oo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=X=>Uo(X),this.createValidator=X=>function j(I){return M=>{if(b(M.value)||b(I))return null;const J=parseFloat(M.value);return!isNaN(J)&&J>I?{max:{max:I,actual:M.value}}:null}}(X)}}return(I=M).\u0275fac=(()=>{let J;return function(le){return(J||(J=v.otF(I)))(le||I)}})(),I.\u0275dir=v.Sc5({type:I,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(X,le){2&X&&v.e48("max",le._enabled?le.max:null)},inputs:{max:"max"},features:[v.M5G([co]),v.eg9]}),M})();const Lo={provide:N,useExisting:(0,v.wd)(()=>br),multi:!0};let br=(()=>{var I;class M extends oo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=X=>Uo(X),this.createValidator=X=>function $(I){return M=>{if(b(M.value)||b(I))return null;const J=parseFloat(M.value);return!isNaN(J)&&J<I?{min:{min:I,actual:M.value}}:null}}(X)}}return(I=M).\u0275fac=(()=>{let J;return function(le){return(J||(J=v.otF(I)))(le||I)}})(),I.\u0275dir=v.Sc5({type:I,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(X,le){2&X&&v.e48("min",le._enabled?le.min:null)},inputs:{min:"min"},features:[v.M5G([Lo]),v.eg9]}),M})(),Zi=(()=>{var I;class M{}return(I=M).\u0275fac=function(X){return new(X||I)},I.\u0275mod=v.a4G({type:I}),I.\u0275inj=v.s3X({}),M})(),x=(()=>{var I;class M{static withConfig(X){var le;return{ngModule:M,providers:[{provide:tr,useValue:null!==(le=X.callSetDisabledState)&&void 0!==le?le:ar}]}}}return(I=M).\u0275fac=function(X){return new(X||I)},I.\u0275mod=v.a4G({type:I}),I.\u0275inj=v.s3X({imports:[Zi]}),M})()},4476:(dn,Pt,he)=>{"use strict";he.d(Pt,{OY:()=>Qe,iE:()=>Ge,mI:()=>_t,o_:()=>Le});var v=he(4496),we=he(1368);class nt extends we.mg{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends nt{static makeCurrent(){(0,we.ug)(new _e)}onAndCancel(Et,it,ze){return Et.addEventListener(it,ze),()=>{Et.removeEventListener(it,ze)}}dispatchEvent(Et,it){Et.dispatchEvent(it)}remove(Et){Et.parentNode&&Et.parentNode.removeChild(Et)}createElement(Et,it){return(it=it||this.getDefaultDocument()).createElement(Et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Et){return Et.nodeType===Node.ELEMENT_NODE}isShadowRoot(Et){return Et instanceof DocumentFragment}getGlobalEventTarget(Et,it){return"window"===it?window:"document"===it?Et:"body"===it?Et.body:null}getBaseHref(Et){const it=function W(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==it?null:function C(St){return new URL(St,document.baseURI).pathname}(it)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(Et){return(0,we.Sg)(document.cookie,Et)}}let o=null,_=(()=>{var St;class Et{build(){return new XMLHttpRequest}}return(St=Et).\u0275fac=function(ze){return new(ze||St)},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();const h=new v.UbH("");let f=(()=>{var St;class Et{constructor(ze,ut){this._zone=ut,this._eventNameToPlugin=new Map,ze.forEach(xt=>{xt.manager=this}),this._plugins=ze.slice().reverse()}addEventListener(ze,ut,xt){return this._findPluginFor(ut).addEventListener(ze,ut,xt)}getZone(){return this._zone}_findPluginFor(ze){let ut=this._eventNameToPlugin.get(ze);if(ut)return ut;if(ut=this._plugins.find(en=>en.supports(ze)),!ut)throw new v.OBp(5101,!1);return this._eventNameToPlugin.set(ze,ut),ut}}return(St=Et).\u0275fac=function(ze){return new(ze||St)(v.CoB(h),v.CoB(v.WW2))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();class E{constructor(Et){this._doc=Et}}const w="ng-app-id";let a=(()=>{var St;class Et{constructor(ze,ut,xt,en={}){this.doc=ze,this.appId=ut,this.nonce=xt,this.platformId=en,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,we.uf)(en),this.resetHostNodes()}addStyles(ze){for(const ut of ze)1===this.changeUsageCount(ut,1)&&this.onStyleAdded(ut)}removeStyles(ze){for(const ut of ze)this.changeUsageCount(ut,-1)<=0&&this.onStyleRemoved(ut)}ngOnDestroy(){const ze=this.styleNodesInDOM;ze&&(ze.forEach(ut=>ut.remove()),ze.clear());for(const ut of this.getAllStyles())this.onStyleRemoved(ut);this.resetHostNodes()}addHost(ze){this.hostNodes.add(ze);for(const ut of this.getAllStyles())this.addStyleToHost(ze,ut)}removeHost(ze){this.hostNodes.delete(ze)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ze){for(const ut of this.hostNodes)this.addStyleToHost(ut,ze)}onStyleRemoved(ze){var ut;const xt=this.styleRef;null===(ut=xt.get(ze))||void 0===ut||null===(ut=ut.elements)||void 0===ut||ut.forEach(en=>en.remove()),xt.delete(ze)}collectServerRenderedStyles(){var ze;const ut=null===(ze=this.doc.head)||void 0===ze?void 0:ze.querySelectorAll(`style[${w}="${this.appId}"]`);if(null!=ut&&ut.length){const xt=new Map;return ut.forEach(en=>{null!=en.textContent&&xt.set(en.textContent,en)}),xt}return null}changeUsageCount(ze,ut){const xt=this.styleRef;if(xt.has(ze)){const en=xt.get(ze);return en.usage+=ut,en.usage}return xt.set(ze,{usage:ut,elements:[]}),ut}getStyleElement(ze,ut){const xt=this.styleNodesInDOM,en=null==xt?void 0:xt.get(ut);if((null==en?void 0:en.parentNode)===ze)return xt.delete(ut),en.removeAttribute(w),en;{const We=this.doc.createElement("style");return this.nonce&&We.setAttribute("nonce",this.nonce),We.textContent=ut,this.platformIsServer&&We.setAttribute(w,this.appId),ze.appendChild(We),We}}addStyleToHost(ze,ut){var xt;const en=this.getStyleElement(ze,ut),We=this.styleRef,bt=null===(xt=We.get(ut))||void 0===xt?void 0:xt.elements;bt?bt.push(en):We.set(ut,{elements:[en],usage:1})}resetHostNodes(){const ze=this.hostNodes;ze.clear(),ze.add(this.doc.head)}}return(St=Et).\u0275fac=function(ze){return new(ze||St)(v.CoB(we.Ud),v.CoB(v.QHP),v.CoB(v.YND,8),v.CoB(v.AHE))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();const l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},d=/%COMP%/g,u="%COMP%",c=`_nghost-${u}`,s=`_ngcontent-${u}`,p=new v.UbH("",{providedIn:"root",factory:()=>!0});function N(St,Et){return Et.map(it=>it.replace(d,St))}let R=(()=>{var St;class Et{constructor(ze,ut,xt,en,We,bt,Lt,Ft=null){this.eventManager=ze,this.sharedStylesHost=ut,this.appId=xt,this.removeStylesOnCompDestroy=en,this.doc=We,this.platformId=bt,this.ngZone=Lt,this.nonce=Ft,this.rendererByCompId=new Map,this.platformIsServer=(0,we.uf)(bt),this.defaultRenderer=new k(ze,We,Lt,this.platformIsServer)}createRenderer(ze,ut){if(!ze||!ut)return this.defaultRenderer;this.platformIsServer&&ut.encapsulation===v.K6R.ShadowDom&&(ut={...ut,encapsulation:v.K6R.Emulated});const xt=this.getOrCreateRenderer(ze,ut);return xt instanceof V?xt.applyToHost(ze):xt instanceof D&&xt.applyStyles(),xt}getOrCreateRenderer(ze,ut){const xt=this.rendererByCompId;let en=xt.get(ut.id);if(!en){const We=this.doc,bt=this.ngZone,Lt=this.eventManager,Ft=this.sharedStylesHost,Vt=this.removeStylesOnCompDestroy,cn=this.platformIsServer;switch(ut.encapsulation){case v.K6R.Emulated:en=new V(Lt,Ft,ut,this.appId,Vt,We,bt,cn);break;case v.K6R.ShadowDom:return new S(Lt,Ft,ze,ut,We,bt,this.nonce,cn);default:en=new D(Lt,Ft,ut,Vt,We,bt,cn)}xt.set(ut.id,en)}return en}ngOnDestroy(){this.rendererByCompId.clear()}}return(St=Et).\u0275fac=function(ze){return new(ze||St)(v.CoB(f),v.CoB(a),v.CoB(v.QHP),v.CoB(p),v.CoB(we.Ud),v.CoB(v.AHE),v.CoB(v.WW2),v.CoB(v.YND))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();class k{constructor(Et,it,ze,ut){this.eventManager=Et,this.doc=it,this.ngZone=ze,this.platformIsServer=ut,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Et,it){return it?this.doc.createElementNS(l[it]||it,Et):this.doc.createElement(Et)}createComment(Et){return this.doc.createComment(Et)}createText(Et){return this.doc.createTextNode(Et)}appendChild(Et,it){(j(Et)?Et.content:Et).appendChild(it)}insertBefore(Et,it,ze){Et&&(j(Et)?Et.content:Et).insertBefore(it,ze)}removeChild(Et,it){Et&&Et.removeChild(it)}selectRootElement(Et,it){let ze="string"==typeof Et?this.doc.querySelector(Et):Et;if(!ze)throw new v.OBp(-5104,!1);return it||(ze.textContent=""),ze}parentNode(Et){return Et.parentNode}nextSibling(Et){return Et.nextSibling}setAttribute(Et,it,ze,ut){if(ut){it=ut+":"+it;const xt=l[ut];xt?Et.setAttributeNS(xt,it,ze):Et.setAttribute(it,ze)}else Et.setAttribute(it,ze)}removeAttribute(Et,it,ze){if(ze){const ut=l[ze];ut?Et.removeAttributeNS(ut,it):Et.removeAttribute(`${ze}:${it}`)}else Et.removeAttribute(it)}addClass(Et,it){Et.classList.add(it)}removeClass(Et,it){Et.classList.remove(it)}setStyle(Et,it,ze,ut){ut&(v.yzm.DashCase|v.yzm.Important)?Et.style.setProperty(it,ze,ut&v.yzm.Important?"important":""):Et.style[it]=ze}removeStyle(Et,it,ze){ze&v.yzm.DashCase?Et.style.removeProperty(it):Et.style[it]=""}setProperty(Et,it,ze){null!=Et&&(Et[it]=ze)}setValue(Et,it){Et.nodeValue=it}listen(Et,it,ze){if("string"==typeof Et&&!(Et=(0,we.uy)().getGlobalEventTarget(this.doc,Et)))throw new Error(`Unsupported event target ${Et} for event ${it}`);return this.eventManager.addEventListener(Et,it,this.decoratePreventDefault(ze))}decoratePreventDefault(Et){return it=>{if("__ngUnwrap__"===it)return Et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Et(it)):Et(it))&&it.preventDefault()}}}function j(St){return"TEMPLATE"===St.tagName&&void 0!==St.content}class S extends k{constructor(Et,it,ze,ut,xt,en,We,bt){super(Et,xt,en,bt),this.sharedStylesHost=it,this.hostEl=ze,this.shadowRoot=ze.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=N(ut.id,ut.styles);for(const Ft of Lt){const Vt=document.createElement("style");We&&Vt.setAttribute("nonce",We),Vt.textContent=Ft,this.shadowRoot.appendChild(Vt)}}nodeOrShadowRoot(Et){return Et===this.hostEl?this.shadowRoot:Et}appendChild(Et,it){return super.appendChild(this.nodeOrShadowRoot(Et),it)}insertBefore(Et,it,ze){return super.insertBefore(this.nodeOrShadowRoot(Et),it,ze)}removeChild(Et,it){return super.removeChild(this.nodeOrShadowRoot(Et),it)}parentNode(Et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class D extends k{constructor(Et,it,ze,ut,xt,en,We,bt){super(Et,xt,en,We),this.sharedStylesHost=it,this.removeStylesOnCompDestroy=ut,this.styles=bt?N(bt,ze.styles):ze.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class V extends D{constructor(Et,it,ze,ut,xt,en,We,bt){const Lt=ut+"-"+ze.id;super(Et,it,ze,xt,en,We,bt,Lt),this.contentAttr=function b(St){return s.replace(d,St)}(Lt),this.hostAttr=function O(St){return c.replace(d,St)}(Lt)}applyToHost(Et){this.applyStyles(),this.setAttribute(Et,this.hostAttr,"")}createElement(Et,it){const ze=super.createElement(Et,it);return super.setAttribute(ze,this.contentAttr,""),ze}}let Z=(()=>{var St;class Et extends E{constructor(ze){super(ze)}supports(ze){return!0}addEventListener(ze,ut,xt){return ze.addEventListener(ut,xt,!1),()=>this.removeEventListener(ze,ut,xt)}removeEventListener(ze,ut,xt){return ze.removeEventListener(ut,xt)}}return(St=Et).\u0275fac=function(ze){return new(ze||St)(v.CoB(we.Ud))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();const H=["alt","control","meta","shift"],Q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y={alt:St=>St.altKey,control:St=>St.ctrlKey,meta:St=>St.metaKey,shift:St=>St.shiftKey};let q=(()=>{var St;class Et extends E{constructor(ze){super(ze)}supports(ze){return null!=Et.parseEventName(ze)}addEventListener(ze,ut,xt){const en=Et.parseEventName(ut),We=Et.eventCallback(en.fullKey,xt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,we.uy)().onAndCancel(ze,en.domEventName,We))}static parseEventName(ze){const ut=ze.toLowerCase().split("."),xt=ut.shift();if(0===ut.length||"keydown"!==xt&&"keyup"!==xt)return null;const en=Et._normalizeKey(ut.pop());let We="",bt=ut.indexOf("code");if(bt>-1&&(ut.splice(bt,1),We="code."),H.forEach(Ft=>{const Vt=ut.indexOf(Ft);Vt>-1&&(ut.splice(Vt,1),We+=Ft+".")}),We+=en,0!=ut.length||0===en.length)return null;const Lt={};return Lt.domEventName=xt,Lt.fullKey=We,Lt}static matchEventFullKeyCode(ze,ut){let xt=Q[ze.key]||ze.key,en="";return ut.indexOf("code.")>-1&&(xt=ze.code,en="code."),!(null==xt||!xt)&&(xt=xt.toLowerCase()," "===xt?xt="space":"."===xt&&(xt="dot"),H.forEach(We=>{We!==xt&&(0,Y[We])(ze)&&(en+=We+".")}),en+=xt,en===ut)}static eventCallback(ze,ut,xt){return en=>{Et.matchEventFullKeyCode(en,ze)&&xt.runGuarded(()=>ut(en))}}static _normalizeKey(ze){return"esc"===ze?"escape":ze}}return(St=Et).\u0275fac=function(ze){return new(ze||St)(v.CoB(we.Ud))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();const Le=(0,v.grM)(v.m4O,"browser",[{provide:v.AHE,useValue:we._k},{provide:v.crf,useValue:function L(){_e.makeCurrent()},multi:!0},{provide:we.Ud,useFactory:function ge(){return(0,v.auf)(document),document},deps:[]}]),Ye=new v.UbH(""),et=[{provide:v.Mn9,useClass:class y{addToWindow(Et){v.IHs.getAngularTestability=(ze,ut=!0)=>{const xt=Et.findTestabilityInTree(ze,ut);if(null==xt)throw new v.OBp(5103,!1);return xt},v.IHs.getAllAngularTestabilities=()=>Et.getAllTestabilities(),v.IHs.getAllAngularRootElements=()=>Et.getAllRootElements(),v.IHs.frameworkStabilizers||(v.IHs.frameworkStabilizers=[]),v.IHs.frameworkStabilizers.push(ze=>{const ut=v.IHs.getAllAngularTestabilities();let xt=ut.length;const en=function(){xt--,0==xt&&ze()};ut.forEach(We=>{We.whenStable(en)})})}findTestabilityInTree(Et,it,ze){if(null==it)return null;const ut=Et.getTestability(it);return null!=ut?ut:ze?(0,we.uy)().isShadowRoot(it)?this.findTestabilityInTree(Et,it.host,!0):this.findTestabilityInTree(Et,it.parentElement,!0):null}},deps:[]},{provide:v.aS5,useClass:v.G4X,deps:[v.WW2,v.eOv,v.Mn9]},{provide:v.G4X,useClass:v.G4X,deps:[v.WW2,v.eOv,v.Mn9]}],Oe=[{provide:v.i4S,useValue:"root"},{provide:v.eAe,useFactory:function re(){return new v.eAe},deps:[]},{provide:h,useClass:Z,multi:!0,deps:[we.Ud,v.WW2,v.AHE]},{provide:h,useClass:q,multi:!0,deps:[we.Ud]},R,a,f,{provide:v.O8F,useExisting:R},{provide:we.OM,useClass:_,deps:[]},[]];let Ge=(()=>{var St;class Et{constructor(ze){}static withServerTransition(ze){return{ngModule:Et,providers:[{provide:v.QHP,useValue:ze.appId}]}}}return(St=Et).\u0275fac=function(ze){return new(ze||St)(v.CoB(Ye,12))},St.\u0275mod=v.a4G({type:St}),St.\u0275inj=v.s3X({providers:[...Oe,...et],imports:[we.MD,v.Ev2]}),Et})(),Qe=(()=>{var St;class Et{constructor(ze){this._doc=ze}getTitle(){return this._doc.title}setTitle(ze){this._doc.title=ze||""}}return(St=Et).\u0275fac=function(ze){return new(ze||St)(v.CoB(we.Ud))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac,providedIn:"root"}),Et})(),_t=(()=>{var St;class Et{}return(St=Et).\u0275fac=function(ze){return new(ze||St)},St.\u0275prov=v.wxM({token:St,factory:function(ze){let ut=null;return ut=ze?new(ze||St):v.CoB(Pe),ut},providedIn:"root"}),Et})(),Pe=(()=>{var St;class Et extends _t{constructor(ze){super(),this._doc=ze}sanitize(ze,ut){if(null==ut)return null;switch(ze){case v.SI6.NONE:return ut;case v.SI6.HTML:return(0,v.K2p)(ut,"HTML")?(0,v.E2t)(ut):(0,v.Om8)(this._doc,String(ut)).toString();case v.SI6.STYLE:return(0,v.K2p)(ut,"Style")?(0,v.E2t)(ut):ut;case v.SI6.SCRIPT:if((0,v.K2p)(ut,"Script"))return(0,v.E2t)(ut);throw new v.OBp(5200,!1);case v.SI6.URL:return(0,v.K2p)(ut,"URL")?(0,v.E2t)(ut):(0,v.ozE)(String(ut));case v.SI6.RESOURCE_URL:if((0,v.K2p)(ut,"ResourceURL"))return(0,v.E2t)(ut);throw new v.OBp(5201,!1);default:throw new v.OBp(5202,!1)}}bypassSecurityTrustHtml(ze){return(0,v.GM_)(ze)}bypassSecurityTrustStyle(ze){return(0,v.Vfw)(ze)}bypassSecurityTrustScript(ze){return(0,v.ER9)(ze)}bypassSecurityTrustUrl(ze){return(0,v.Gc)(ze)}bypassSecurityTrustResourceUrl(ze){return(0,v.u8n)(ze)}}return(St=Et).\u0275fac=function(ze){return new(ze||St)(v.CoB(we.Ud))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac,providedIn:"root"}),Et})()},3332:(dn,Pt,he)=>{"use strict";he.d(Pt,{gV:()=>lr,O4:()=>Br,Qx:()=>$t,gf:()=>Oe,eu:()=>Ss,XE:()=>nr,E5:()=>ir,ER:()=>Cs,qQ:()=>Ts,qd:()=>Gt});var v=he(4496),we=he(3252),nt=he(8880),o=he(2115),W=he(2700),C=he(6700),y=he(6040);const h=(0,he(4912).w)(se=>function(){se(this),this.name="EmptyError",this.message="no elements in sequence"});var f=he(7228),E=he(1424),w=he(3928),a=he(3800),l=he(8960),d=he(2376),u=he(5657),c=he(4548),s=he(1368),m=he(4704),p=he(7368),b=he(3992),O=he(6624),N=he(5448),k=he(6684),A=he(7400),$=he(7773);function j(se){return(0,N.i)((pe,be)=>{let fe=!1;pe.subscribe((0,$.e)(be,Ee=>{fe=!0,be.next(Ee)},()=>{fe||be.next(se),be.complete()}))})}function S(se=D){return(0,N.i)((pe,be)=>{let fe=!1;pe.subscribe((0,$.e)(be,Ee=>{fe=!0,be.next(Ee)},()=>fe?be.complete():be.error(se())))})}function D(){return new h}var V=he(528);function Z(se,pe){const be=arguments.length>=2;return fe=>fe.pipe(se?(0,k.I)((Ee,Je)=>se(Ee,Je,fe)):V.Z,(0,b.U)(1),be?j(pe):S(()=>new h))}function H(se,pe){return(0,nt.m)(pe)?(0,A.O)(se,pe,1):(0,A.O)(se,1)}var Q=he(9212),Y=he(560);function q(se){return(0,N.i)((pe,be)=>{let Je,fe=null,Ee=!1;fe=pe.subscribe((0,$.e)(be,void 0,void 0,ot=>{Je=(0,Y.Uv)(se(ot,q(se)(pe))),fe?(fe.unsubscribe(),fe=null,Je.subscribe(be)):Ee=!0})),Ee&&(fe.unsubscribe(),fe=null,Je.subscribe(be))})}function xe(se){return se<=0?()=>l.k:(0,N.i)((pe,be)=>{let fe=[];pe.subscribe((0,$.e)(be,Ee=>{fe.push(Ee),se<fe.length&&fe.shift()},()=>{for(const Ee of fe)be.next(Ee);be.complete()},void 0,()=>{fe=null}))})}var L=he(320);function re(se){return(0,N.i)((pe,be)=>{try{pe.subscribe(be)}finally{be.add(se)}})}var ge=he(8084),Me=he(308),Ye=he(267),et=he(4476);const Oe="primary",Ge=Symbol("RouteTitle");class Be{constructor(pe){this.params=pe||{}}has(pe){return Object.prototype.hasOwnProperty.call(this.params,pe)}get(pe){if(this.has(pe)){const be=this.params[pe];return Array.isArray(be)?be[0]:be}return null}getAll(pe){if(this.has(pe)){const be=this.params[pe];return Array.isArray(be)?be:[be]}return[]}get keys(){return Object.keys(this.params)}}function Ae(se){return new Be(se)}function Qe(se,pe,be){const fe=be.path.split("/");if(fe.length>se.length||"full"===be.pathMatch&&(pe.hasChildren()||fe.length<se.length))return null;const Ee={};for(let Je=0;Je<fe.length;Je++){const ot=fe[Je],Yt=se[Je];if(ot.startsWith(":"))Ee[ot.substring(1)]=Yt;else if(ot!==Yt.path)return null}return{consumed:se.slice(0,fe.length),posParams:Ee}}function vt(se,pe){const be=se?mt(se):void 0,fe=pe?mt(pe):void 0;if(!be||!fe||be.length!=fe.length)return!1;let Ee;for(let Je=0;Je<be.length;Je++)if(Ee=be[Je],!yt(se[Ee],pe[Ee]))return!1;return!0}function mt(se){return[...Object.keys(se),...Object.getOwnPropertySymbols(se)]}function yt(se,pe){if(Array.isArray(se)&&Array.isArray(pe)){if(se.length!==pe.length)return!1;const be=[...se].sort(),fe=[...pe].sort();return be.every((Ee,Je)=>fe[Je]===Ee)}return se===pe}function jt(se){return se.length>0?se[se.length-1]:null}function Ht(se){return function _e(se){return!!se&&(se instanceof we._||(0,nt.m)(se.lift)&&(0,nt.m)(se.subscribe))}(se)?se:(0,v.w5$)(se)?(0,o.Q)(Promise.resolve(se)):(0,W.of)(se)}const Rt={exact:function zt(se,pe,be){if(!wt(se.segments,pe.segments)||!_t(se.segments,pe.segments,be)||se.numberOfChildren!==pe.numberOfChildren)return!1;for(const fe in pe.children)if(!se.children[fe]||!zt(se.children[fe],pe.children[fe],be))return!1;return!0},subset:lt},an={exact:function fn(se,pe){return vt(se,pe)},subset:function Ut(se,pe){return Object.keys(pe).length<=Object.keys(se).length&&Object.keys(pe).every(be=>yt(se[be],pe[be]))},ignored:()=>!0};function on(se,pe,be){return Rt[be.paths](se.root,pe.root,be.matrixParams)&&an[be.queryParams](se.queryParams,pe.queryParams)&&!("exact"===be.fragment&&se.fragment!==pe.fragment)}function lt(se,pe,be){return Nt(se,pe,pe.segments,be)}function Nt(se,pe,be,fe){if(se.segments.length>be.length){const Ee=se.segments.slice(0,be.length);return!(!wt(Ee,be)||pe.hasChildren()||!_t(Ee,be,fe))}if(se.segments.length===be.length){if(!wt(se.segments,be)||!_t(se.segments,be,fe))return!1;for(const Ee in pe.children)if(!se.children[Ee]||!lt(se.children[Ee],pe.children[Ee],fe))return!1;return!0}{const Ee=be.slice(0,se.segments.length),Je=be.slice(se.segments.length);return!!(wt(se.segments,Ee)&&_t(se.segments,Ee,fe)&&se.children[Oe])&&Nt(se.children[Oe],pe,Je,fe)}}function _t(se,pe,be){return pe.every((fe,Ee)=>an[be](se[Ee].parameters,fe.parameters))}class Pe{constructor(pe=new Fe([],{}),be={},fe=null){this.root=pe,this.queryParams=be,this.fragment=fe}get queryParamMap(){var pe;return null!==(pe=this._queryParamMap)&&void 0!==pe||(this._queryParamMap=Ae(this.queryParams)),this._queryParamMap}toString(){return bn.serialize(this)}}class Fe{constructor(pe,be){this.segments=pe,this.children=be,this.parent=null,Object.values(be).forEach(fe=>fe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _n(this)}}class Ie{constructor(pe,be){this.path=pe,this.parameters=be}get parameterMap(){var pe;return null!==(pe=this._parameterMap)&&void 0!==pe||(this._parameterMap=Ae(this.parameters)),this._parameterMap}toString(){return We(this)}}function wt(se,pe){return se.length===pe.length&&se.every((be,fe)=>be.path===pe[fe].path)}let Gt=(()=>{var se;class pe{}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:()=>new rn,providedIn:"root"}),pe})();class rn{parse(pe){const be=new tr(pe);return new Pe(be.parseRootSegment(),be.parseQueryParams(),be.parseFragment())}serialize(pe){const be=`/${St(pe.root,!0)}`,fe=function Lt(se){const pe=Object.entries(se).map(([be,fe])=>Array.isArray(fe)?fe.map(Ee=>`${it(be)}=${it(Ee)}`).join("&"):`${it(be)}=${it(fe)}`).filter(be=>be);return pe.length?`?${pe.join("&")}`:""}(pe.queryParams);return`${be}${fe}${"string"==typeof pe.fragment?`#${function ze(se){return encodeURI(se)}(pe.fragment)}`:""}`}}const bn=new rn;function _n(se){return se.segments.map(pe=>We(pe)).join("/")}function St(se,pe){if(!se.hasChildren())return _n(se);if(pe){const be=se.children[Oe]?St(se.children[Oe],!1):"",fe=[];return Object.entries(se.children).forEach(([Ee,Je])=>{Ee!==Oe&&fe.push(`${Ee}:${St(Je,!1)}`)}),fe.length>0?`${be}(${fe.join("//")})`:be}{const be=function Dt(se,pe){let be=[];return Object.entries(se.children).forEach(([fe,Ee])=>{fe===Oe&&(be=be.concat(pe(Ee,fe)))}),Object.entries(se.children).forEach(([fe,Ee])=>{fe!==Oe&&(be=be.concat(pe(Ee,fe)))}),be}(se,(fe,Ee)=>Ee===Oe?[St(se.children[Oe],!1)]:[`${Ee}:${St(fe,!1)}`]);return 1===Object.keys(se.children).length&&null!=se.children[Oe]?`${_n(se)}/${be[0]}`:`${_n(se)}/(${be.join("//")})`}}function Et(se){return encodeURIComponent(se).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function it(se){return Et(se).replace(/%3B/gi,";")}function ut(se){return Et(se).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xt(se){return decodeURIComponent(se)}function en(se){return xt(se.replace(/\+/g,"%20"))}function We(se){return`${ut(se.path)}${function bt(se){return Object.entries(se).map(([pe,be])=>`;${ut(pe)}=${ut(be)}`).join("")}(se.parameters)}`}const Ft=/^[^\/()?;#]+/;function Vt(se){const pe=se.match(Ft);return pe?pe[0]:""}const cn=/^[^\/()?;=#]+/,xn=/^[^=?&#]+/,Cn=/^[^&#]+/;class tr{constructor(pe){this.url=pe,this.remaining=pe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){const pe={};if(this.consumeOptional("?"))do{this.parseQueryParam(pe)}while(this.consumeOptional("&"));return pe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const pe=[];for(this.peekStartsWith("(")||pe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),pe.push(this.parseSegment());let be={};this.peekStartsWith("/(")&&(this.capture("/"),be=this.parseParens(!0));let fe={};return this.peekStartsWith("(")&&(fe=this.parseParens(!1)),(pe.length>0||Object.keys(be).length>0)&&(fe[Oe]=new Fe(pe,be)),fe}parseSegment(){const pe=Vt(this.remaining);if(""===pe&&this.peekStartsWith(";"))throw new v.OBp(4009,!1);return this.capture(pe),new Ie(xt(pe),this.parseMatrixParams())}parseMatrixParams(){const pe={};for(;this.consumeOptional(";");)this.parseParam(pe);return pe}parseParam(pe){const be=function gn(se){const pe=se.match(cn);return pe?pe[0]:""}(this.remaining);if(!be)return;this.capture(be);let fe="";if(this.consumeOptional("=")){const Ee=Vt(this.remaining);Ee&&(fe=Ee,this.capture(fe))}pe[xt(be)]=xt(fe)}parseQueryParam(pe){const be=function Sn(se){const pe=se.match(xn);return pe?pe[0]:""}(this.remaining);if(!be)return;this.capture(be);let fe="";if(this.consumeOptional("=")){const ot=function Zn(se){const pe=se.match(Cn);return pe?pe[0]:""}(this.remaining);ot&&(fe=ot,this.capture(fe))}const Ee=en(be),Je=en(fe);if(pe.hasOwnProperty(Ee)){let ot=pe[Ee];Array.isArray(ot)||(ot=[ot],pe[Ee]=ot),ot.push(Je)}else pe[Ee]=Je}parseParens(pe){const be={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const fe=Vt(this.remaining),Ee=this.remaining[fe.length];if("/"!==Ee&&")"!==Ee&&";"!==Ee)throw new v.OBp(4010,!1);let Je;fe.indexOf(":")>-1?(Je=fe.slice(0,fe.indexOf(":")),this.capture(Je),this.capture(":")):pe&&(Je=Oe);const ot=this.parseChildren();be[Je]=1===Object.keys(ot).length?ot[Oe]:new Fe([],ot),this.consumeOptional("//")}return be}peekStartsWith(pe){return this.remaining.startsWith(pe)}consumeOptional(pe){return!!this.peekStartsWith(pe)&&(this.remaining=this.remaining.substring(pe.length),!0)}capture(pe){if(!this.consumeOptional(pe))throw new v.OBp(4011,!1)}}function ar(se){return se.segments.length>0?new Fe([],{[Oe]:se}):se}function Pn(se){const pe={};for(const[fe,Ee]of Object.entries(se.children)){const Je=Pn(Ee);if(fe===Oe&&0===Je.segments.length&&Je.hasChildren())for(const[ot,Yt]of Object.entries(Je.children))pe[ot]=Yt;else(Je.segments.length>0||Je.hasChildren())&&(pe[fe]=Je)}return function Hn(se){if(1===se.numberOfChildren&&se.children[Oe]){const pe=se.children[Oe];return new Fe(se.segments.concat(pe.segments),pe.children)}return se}(new Fe(se.segments,pe))}function G(se){return se instanceof Pe}function Se(se){var pe;let be;const Je=ar(function fe(ot){const Yt={};for(const nn of ot.children){const kn=fe(nn);Yt[nn.outlet]=kn}const wn=new Fe(ot.url,Yt);return ot===se&&(be=wn),wn}(se.root));return null!==(pe=be)&&void 0!==pe?pe:Je}function P(se,pe,be,fe){let Ee=se;for(;Ee.parent;)Ee=Ee.parent;if(0===pe.length)return oe(Ee,Ee,Ee,be,fe);const Je=function ye(se){if("string"==typeof se[0]&&1===se.length&&"/"===se[0])return new ee(!0,0,se);let pe=0,be=!1;const fe=se.reduce((Ee,Je,ot)=>{if("object"==typeof Je&&null!=Je){if(Je.outlets){const Yt={};return Object.entries(Je.outlets).forEach(([wn,nn])=>{Yt[wn]="string"==typeof nn?nn.split("/"):nn}),[...Ee,{outlets:Yt}]}if(Je.segmentPath)return[...Ee,Je.segmentPath]}return"string"!=typeof Je?[...Ee,Je]:0===ot?(Je.split("/").forEach((Yt,wn)=>{0==wn&&"."===Yt||(0==wn&&""===Yt?be=!0:".."===Yt?pe++:""!=Yt&&Ee.push(Yt))}),Ee):[...Ee,Je]},[]);return new ee(be,pe,fe)}(pe);if(Je.toRoot())return oe(Ee,Ee,new Fe([],{}),be,fe);const ot=function ct(se,pe,be){if(se.isAbsolute)return new Ue(pe,!0,0);if(!be)return new Ue(pe,!1,NaN);if(null===be.parent)return new Ue(be,!0,0);const fe=z(se.commands[0])?0:1;return function It(se,pe,be){let fe=se,Ee=pe,Je=be;for(;Je>Ee;){if(Je-=Ee,fe=fe.parent,!fe)throw new v.OBp(4005,!1);Ee=fe.segments.length}return new Ue(fe,!1,Ee-Je)}(be,be.segments.length-1+fe,se.numberOfDoubleDots)}(Je,Ee,se),Yt=ot.processChildren?En(ot.segmentGroup,ot.index,Je.commands):yn(ot.segmentGroup,ot.index,Je.commands);return oe(Ee,ot.segmentGroup,Yt,be,fe)}function z(se){return"object"==typeof se&&null!=se&&!se.outlets&&!se.segmentPath}function F(se){return"object"==typeof se&&null!=se&&se.outlets}function oe(se,pe,be,fe,Ee){let ot,Je={};fe&&Object.entries(fe).forEach(([wn,nn])=>{Je[wn]=Array.isArray(nn)?nn.map(kn=>`${kn}`):`${nn}`}),ot=se===pe?be:ae(se,pe,be);const Yt=ar(Pn(ot));return new Pe(Yt,Je,Ee)}function ae(se,pe,be){const fe={};return Object.entries(se.children).forEach(([Ee,Je])=>{fe[Ee]=Je===pe?be:ae(Je,pe,be)}),new Fe(se.segments,fe)}class ee{constructor(pe,be,fe){if(this.isAbsolute=pe,this.numberOfDoubleDots=be,this.commands=fe,pe&&fe.length>0&&z(fe[0]))throw new v.OBp(4003,!1);const Ee=fe.find(F);if(Ee&&Ee!==jt(fe))throw new v.OBp(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ue{constructor(pe,be,fe){this.segmentGroup=pe,this.processChildren=be,this.index=fe}}function yn(se,pe,be){var fe;if(null!==(fe=se)&&void 0!==fe||(se=new Fe([],{})),0===se.segments.length&&se.hasChildren())return En(se,pe,be);const Ee=function Rn(se,pe,be){let fe=0,Ee=pe;const Je={match:!1,pathIndex:0,commandIndex:0};for(;Ee<se.segments.length;){if(fe>=be.length)return Je;const ot=se.segments[Ee],Yt=be[fe];if(F(Yt))break;const wn=`${Yt}`,nn=fe<be.length-1?be[fe+1]:null;if(Ee>0&&void 0===wn)break;if(wn&&nn&&"object"==typeof nn&&void 0===nn.outlets){if(!st(wn,nn,ot))return Je;fe+=2}else{if(!st(wn,{},ot))return Je;fe++}Ee++}return{match:!0,pathIndex:Ee,commandIndex:fe}}(se,pe,be),Je=be.slice(Ee.commandIndex);if(Ee.match&&Ee.pathIndex<se.segments.length){const ot=new Fe(se.segments.slice(0,Ee.pathIndex),{});return ot.children[Oe]=new Fe(se.segments.slice(Ee.pathIndex),se.children),En(ot,0,Je)}return Ee.match&&0===Je.length?new Fe(se.segments,{}):Ee.match&&!se.hasChildren()?Wn(se,pe,be):Ee.match?En(se,0,Je):Wn(se,pe,be)}function En(se,pe,be){if(0===be.length)return new Fe(se.segments,{});{const fe=function Zt(se){return F(se[0])?se[0].outlets:{[Oe]:se}}(be),Ee={};if(Object.keys(fe).some(Je=>Je!==Oe)&&se.children[Oe]&&1===se.numberOfChildren&&0===se.children[Oe].segments.length){const Je=En(se.children[Oe],pe,be);return new Fe(se.segments,Je.children)}return Object.entries(fe).forEach(([Je,ot])=>{"string"==typeof ot&&(ot=[ot]),null!==ot&&(Ee[Je]=yn(se.children[Je],pe,ot))}),Object.entries(se.children).forEach(([Je,ot])=>{void 0===fe[Je]&&(Ee[Je]=ot)}),new Fe(se.segments,Ee)}}function Wn(se,pe,be){const fe=se.segments.slice(0,pe);let Ee=0;for(;Ee<be.length;){const Je=be[Ee];if(F(Je)){const wn=mr(Je.outlets);return new Fe(fe,wn)}if(0===Ee&&z(be[0])){fe.push(new Ie(se.segments[pe].path,yr(be[0]))),Ee++;continue}const ot=F(Je)?Je.outlets[Oe]:`${Je}`,Yt=Ee<be.length-1?be[Ee+1]:null;ot&&Yt&&z(Yt)?(fe.push(new Ie(ot,yr(Yt))),Ee+=2):(fe.push(new Ie(ot,{})),Ee++)}return new Fe(fe,{})}function mr(se){const pe={};return Object.entries(se).forEach(([be,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(pe[be]=Wn(new Fe([],{}),0,fe))}),pe}function yr(se){const pe={};return Object.entries(se).forEach(([be,fe])=>pe[be]=`${fe}`),pe}function st(se,pe,be){return se==be.path&&vt(pe,be.parameters)}const ft="imperative";var $e=function(se){return se[se.NavigationStart=0]="NavigationStart",se[se.NavigationEnd=1]="NavigationEnd",se[se.NavigationCancel=2]="NavigationCancel",se[se.NavigationError=3]="NavigationError",se[se.RoutesRecognized=4]="RoutesRecognized",se[se.ResolveStart=5]="ResolveStart",se[se.ResolveEnd=6]="ResolveEnd",se[se.GuardsCheckStart=7]="GuardsCheckStart",se[se.GuardsCheckEnd=8]="GuardsCheckEnd",se[se.RouteConfigLoadStart=9]="RouteConfigLoadStart",se[se.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",se[se.ChildActivationStart=11]="ChildActivationStart",se[se.ChildActivationEnd=12]="ChildActivationEnd",se[se.ActivationStart=13]="ActivationStart",se[se.ActivationEnd=14]="ActivationEnd",se[se.Scroll=15]="Scroll",se[se.NavigationSkipped=16]="NavigationSkipped",se}($e||{});class at{constructor(pe,be){this.id=pe,this.url=be}}class $t extends at{constructor(pe,be,fe="imperative",Ee=null){super(pe,be),this.type=$e.NavigationStart,this.navigationTrigger=fe,this.restoredState=Ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class un extends at{constructor(pe,be,fe){super(pe,be),this.urlAfterRedirects=fe,this.type=$e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var An=function(se){return se[se.Redirect=0]="Redirect",se[se.SupersededByNewNavigation=1]="SupersededByNewNavigation",se[se.NoDataFromResolver=2]="NoDataFromResolver",se[se.GuardRejected=3]="GuardRejected",se}(An||{}),At=function(se){return se[se.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",se[se.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",se}(At||{});class je extends at{constructor(pe,be,fe,Ee){super(pe,be),this.reason=fe,this.code=Ee,this.type=$e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class He extends at{constructor(pe,be,fe,Ee){super(pe,be),this.reason=fe,this.code=Ee,this.type=$e.NavigationSkipped}}class Mt extends at{constructor(pe,be,fe,Ee){super(pe,be),this.error=fe,this.target=Ee,this.type=$e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kt extends at{constructor(pe,be,fe,Ee){super(pe,be),this.urlAfterRedirects=fe,this.state=Ee,this.type=$e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wt extends at{constructor(pe,be,fe,Ee){super(pe,be),this.urlAfterRedirects=fe,this.state=Ee,this.type=$e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends at{constructor(pe,be,fe,Ee,Je){super(pe,be),this.urlAfterRedirects=fe,this.state=Ee,this.shouldActivate=Je,this.type=$e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Re extends at{constructor(pe,be,fe,Ee){super(pe,be),this.urlAfterRedirects=fe,this.state=Ee,this.type=$e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ve extends at{constructor(pe,be,fe,Ee){super(pe,be),this.urlAfterRedirects=fe,this.state=Ee,this.type=$e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve{constructor(pe){this.route=pe,this.type=$e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pt{constructor(pe){this.route=pe,this.type=$e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kt{constructor(pe){this.snapshot=pe,this.type=$e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(pe){this.snapshot=pe,this.type=$e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(pe){this.snapshot=pe,this.type=$e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zn{constructor(pe){this.snapshot=pe,this.type=$e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xn{constructor(pe,be,fe){this.routerEvent=pe,this.position=be,this.anchor=fe,this.type=$e.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jr{}class Ar{constructor(pe){this.url=pe}}class Bo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Br,this.attachRef=null}}let Br=(()=>{var se;class pe{constructor(){this.contexts=new Map}onChildOutletCreated(fe,Ee){const Je=this.getOrCreateContext(fe);Je.outlet=Ee,this.contexts.set(fe,Je)}onChildOutletDestroyed(fe){const Ee=this.getContext(fe);Ee&&(Ee.outlet=null,Ee.attachRef=null)}onOutletDeactivated(){const fe=this.contexts;return this.contexts=new Map,fe}onOutletReAttached(fe){this.contexts=fe}getOrCreateContext(fe){let Ee=this.getContext(fe);return Ee||(Ee=new Bo,this.contexts.set(fe,Ee)),Ee}getContext(fe){return this.contexts.get(fe)||null}}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})();class hr{constructor(pe){this._root=pe}get root(){return this._root.value}parent(pe){const be=this.pathFromRoot(pe);return be.length>1?be[be.length-2]:null}children(pe){const be=Tn(pe,this._root);return be?be.children.map(fe=>fe.value):[]}firstChild(pe){const be=Tn(pe,this._root);return be&&be.children.length>0?be.children[0].value:null}siblings(pe){const be=Fn(pe,this._root);return be.length<2?[]:be[be.length-2].children.map(Ee=>Ee.value).filter(Ee=>Ee!==pe)}pathFromRoot(pe){return Fn(pe,this._root).map(be=>be.value)}}function Tn(se,pe){if(se===pe.value)return pe;for(const be of pe.children){const fe=Tn(se,be);if(fe)return fe}return null}function Fn(se,pe){if(se===pe.value)return[pe];for(const be of pe.children){const fe=Fn(se,be);if(fe.length)return fe.unshift(pe),fe}return[]}class dr{constructor(pe,be){this.value=pe,this.children=be}toString(){return`TreeNode(${this.value})`}}function Yr(se){const pe={};return se&&se.children.forEach(be=>pe[be.value.outlet]=be),pe}class Er extends hr{constructor(pe,be){super(pe),this.snapshot=be,ro(this,pe)}toString(){return this.snapshot.toString()}}function Lr(se){const pe=function uo(se){const Je=new $r([],{},{},"",{},Oe,se,null,{});return new qn("",new dr(Je,[]))}(se),be=new C.g([new Ie("",{})]),fe=new C.g({}),Ee=new C.g({}),Je=new C.g({}),ot=new C.g(""),Yt=new lr(be,fe,Je,ot,Ee,Oe,se,pe.root);return Yt.snapshot=pe.root,new Er(new dr(Yt,[]),pe)}class lr{constructor(pe,be,fe,Ee,Je,ot,Yt,wn){var nn,kn;this.urlSubject=pe,this.paramsSubject=be,this.queryParamsSubject=fe,this.fragmentSubject=Ee,this.dataSubject=Je,this.outlet=ot,this.component=Yt,this._futureSnapshot=wn,this.title=null!==(nn=null===(kn=this.dataSubject)||void 0===kn?void 0:kn.pipe((0,m.k)(Jn=>Jn[Ge])))&&void 0!==nn?nn:(0,W.of)(void 0),this.url=pe,this.params=be,this.queryParams=fe,this.fragment=Ee,this.data=Je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var pe;return null!==(pe=this._paramMap)&&void 0!==pe||(this._paramMap=this.params.pipe((0,m.k)(be=>Ae(be)))),this._paramMap}get queryParamMap(){var pe;return null!==(pe=this._queryParamMap)&&void 0!==pe||(this._queryParamMap=this.queryParams.pipe((0,m.k)(be=>Ae(be)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vr(se,pe,be="emptyOnly"){var fe;let Ee;const{routeConfig:Je}=se;var ot;return Ee=null===pe||"always"!==be&&""!==(null==Je?void 0:Je.path)&&(pe.component||null!==(fe=pe.routeConfig)&&void 0!==fe&&fe.loadComponent)?{params:{...se.params},data:{...se.data},resolve:{...se.data,...null!==(ot=se._resolvedData)&&void 0!==ot?ot:{}}}:{params:{...pe.params,...se.params},data:{...pe.data,...se.data},resolve:{...se.data,...pe.data,...null==Je?void 0:Je.data,...se._resolvedData}},Je&&So(Je)&&(Ee.resolve[Ge]=Je.title),Ee}class $r{get title(){var pe;return null===(pe=this.data)||void 0===pe?void 0:pe[Ge]}constructor(pe,be,fe,Ee,Je,ot,Yt,wn,nn){this.url=pe,this.params=be,this.queryParams=fe,this.fragment=Ee,this.data=Je,this.outlet=ot,this.component=Yt,this.routeConfig=wn,this._resolve=nn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var pe;return null!==(pe=this._paramMap)&&void 0!==pe||(this._paramMap=Ae(this.params)),this._paramMap}get queryParamMap(){var pe;return null!==(pe=this._queryParamMap)&&void 0!==pe||(this._queryParamMap=Ae(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(fe=>fe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qn extends hr{constructor(pe,be){super(be),this.url=pe,ro(this,be)}toString(){return zo(this._root)}}function ro(se,pe){pe.value._routerState=se,pe.children.forEach(be=>ro(se,be))}function zo(se){const pe=se.children.length>0?` { ${se.children.map(zo).join(", ")} } `:"";return`${se.value}${pe}`}function Eo(se){if(se.snapshot){const pe=se.snapshot,be=se._futureSnapshot;se.snapshot=be,vt(pe.queryParams,be.queryParams)||se.queryParamsSubject.next(be.queryParams),pe.fragment!==be.fragment&&se.fragmentSubject.next(be.fragment),vt(pe.params,be.params)||se.paramsSubject.next(be.params),function Ke(se,pe){if(se.length!==pe.length)return!1;for(let be=0;be<se.length;++be)if(!vt(se[be],pe[be]))return!1;return!0}(pe.url,be.url)||se.urlSubject.next(be.url),vt(pe.data,be.data)||se.dataSubject.next(be.data)}else se.snapshot=se._futureSnapshot,se.dataSubject.next(se._futureSnapshot.data)}function Dr(se,pe){const be=vt(se.params,pe.params)&&function Ze(se,pe){return wt(se,pe)&&se.every((be,fe)=>vt(be.parameters,pe[fe].parameters))}(se.url,pe.url);return be&&!(!se.parent!=!pe.parent)&&(!se.parent||Dr(se.parent,pe.parent))}function So(se){return"string"==typeof se.title||null===se.title}let To=(()=>{var se;class pe{constructor(){this.activated=null,this._activatedRoute=null,this.name=Oe,this.activateEvents=new v._w7,this.deactivateEvents=new v._w7,this.attachEvents=new v._w7,this.detachEvents=new v._w7,this.parentContexts=(0,v.uUt)(Br),this.location=(0,v.uUt)(v.y8U),this.changeDetector=(0,v.uUt)(v.kD9),this.environmentInjector=(0,v.uUt)(v.SIe),this.inputBinder=(0,v.uUt)(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(fe){if(fe.name){const{firstChange:Ee,previousValue:Je}=fe.name;if(Ee)return;this.isTrackedInParentContexts(Je)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Je)),this.initializeOutletWithName()}}ngOnDestroy(){var fe;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(fe=this.inputBinder)||void 0===fe||fe.unsubscribeFromRouteData(this)}isTrackedInParentContexts(fe){var Ee;return(null===(Ee=this.parentContexts.getContext(fe))||void 0===Ee?void 0:Ee.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const fe=this.parentContexts.getContext(this.name);null!=fe&&fe.route&&(fe.attachRef?this.attach(fe.attachRef,fe.route):this.activateWith(fe.route,fe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.OBp(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.OBp(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.OBp(4012,!1);this.location.detach();const fe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(fe.instance),fe}attach(fe,Ee){var Je;this.activated=fe,this._activatedRoute=Ee,this.location.insert(fe.hostView),null===(Je=this.inputBinder)||void 0===Je||Je.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(fe.instance)}deactivate(){if(this.activated){const fe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(fe)}}activateWith(fe,Ee){var Je;if(this.isActivated)throw new v.OBp(4013,!1);this._activatedRoute=fe;const ot=this.location,wn=fe.snapshot.component,nn=this.parentContexts.getOrCreateContext(this.name).children,kn=new ho(fe,nn,ot.injector);this.activated=ot.createComponent(wn,{index:ot.length,injector:kn,environmentInjector:null!=Ee?Ee:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Je=this.inputBinder)||void 0===Je||Je.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275dir=v.Sc5({type:se,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.SYr]}),pe})();class ho{constructor(pe,be,fe){this.route=pe,this.childContexts=be,this.parent=fe}get(pe,be){return pe===lr?this.route:pe===Br?this.childContexts:this.parent.get(pe,be)}}const po=new v.UbH("");let qo=(()=>{var se;class pe{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(fe){this.unsubscribeFromRouteData(fe),this.subscribeToRouteData(fe)}unsubscribeFromRouteData(fe){var Ee;null===(Ee=this.outletDataSubscriptions.get(fe))||void 0===Ee||Ee.unsubscribe(),this.outletDataSubscriptions.delete(fe)}subscribeToRouteData(fe){const{activatedRoute:Ee}=fe,Je=(0,y.E)([Ee.queryParams,Ee.params,Ee.data]).pipe((0,p.G)(([ot,Yt,wn],nn)=>(wn={...ot,...Yt,...wn},0===nn?(0,W.of)(wn):Promise.resolve(wn)))).subscribe(ot=>{if(!fe.isActivated||!fe.activatedComponentRef||fe.activatedRoute!==Ee||null===Ee.component)return void this.unsubscribeFromRouteData(fe);const Yt=(0,v.o9M)(Ee.component);if(Yt)for(const{templateName:wn}of Yt.inputs)fe.activatedComponentRef.setInput(wn,ot[wn]);else this.unsubscribeFromRouteData(fe)});this.outletDataSubscriptions.set(fe,Je)}}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac}),pe})();function mo(se,pe,be){if(be&&se.shouldReuseRoute(pe.value,be.value.snapshot)){const fe=be.value;fe._futureSnapshot=pe.value;const Ee=function ko(se,pe,be){return pe.children.map(fe=>{for(const Ee of be.children)if(se.shouldReuseRoute(fe.value,Ee.value.snapshot))return mo(se,fe,Ee);return mo(se,fe)})}(se,pe,be);return new dr(fe,Ee)}{if(se.shouldAttach(pe.value)){const Je=se.retrieve(pe.value);if(null!==Je){const ot=Je.route;return ot.value._futureSnapshot=pe.value,ot.children=pe.children.map(Yt=>mo(se,Yt)),ot}}const fe=function Yn(se){return new lr(new C.g(se.url),new C.g(se.params),new C.g(se.queryParams),new C.g(se.fragment),new C.g(se.data),se.outlet,se.component,se)}(pe.value),Ee=pe.children.map(Je=>mo(se,Je));return new dr(fe,Ee)}}const Uo="ngNavigationCancelingError";function oo(se,pe){const{redirectTo:be,navigationBehaviorOptions:fe}=G(pe)?{redirectTo:pe,navigationBehaviorOptions:void 0}:pe,Ee=co(!1,An.Redirect);return Ee.url=be,Ee.navigationBehaviorOptions=fe,Ee}function co(se,pe){const be=new Error(`NavigationCancelingError: ${se||""}`);return be[Uo]=!0,be.cancellationCode=pe,be}function Lo(se){return!!se&&se[Uo]}let br=(()=>{var se;class pe{}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275cmp=v.In1({type:se,selectors:[["ng-component"]],standalone:!0,features:[v.UHJ],decls:1,vars:0,template:function(fe,Ee){1&fe&&v.wR5(0,"router-outlet")},dependencies:[To],encapsulation:2}),pe})();function li(se){const pe=se.children&&se.children.map(li),be=pe?{...se,children:pe}:{...se};return!be.component&&!be.loadComponent&&(pe||be.loadChildren)&&be.outlet&&be.outlet!==Oe&&(be.component=br),be}function go(se){return se.outlet||Oe}function Ko(se){var pe;if(!se)return null;if(null!==(pe=se.routeConfig)&&void 0!==pe&&pe._injector)return se.routeConfig._injector;for(let be=se.parent;be;be=be.parent){const fe=be.routeConfig;if(null!=fe&&fe._loadedInjector)return fe._loadedInjector;if(null!=fe&&fe._injector)return fe._injector}return null}class Zi{constructor(pe,be,fe,Ee,Je){this.routeReuseStrategy=pe,this.futureState=be,this.currState=fe,this.forwardEvent=Ee,this.inputBindingEnabled=Je}activate(pe){const be=this.futureState._root,fe=this.currState?this.currState._root:null;this.deactivateChildRoutes(be,fe,pe),Eo(this.futureState.root),this.activateChildRoutes(be,fe,pe)}deactivateChildRoutes(pe,be,fe){const Ee=Yr(be);pe.children.forEach(Je=>{const ot=Je.value.outlet;this.deactivateRoutes(Je,Ee[ot],fe),delete Ee[ot]}),Object.values(Ee).forEach(Je=>{this.deactivateRouteAndItsChildren(Je,fe)})}deactivateRoutes(pe,be,fe){const Ee=pe.value,Je=be?be.value:null;if(Ee===Je)if(Ee.component){const ot=fe.getContext(Ee.outlet);ot&&this.deactivateChildRoutes(pe,be,ot.children)}else this.deactivateChildRoutes(pe,be,fe);else Je&&this.deactivateRouteAndItsChildren(be,fe)}deactivateRouteAndItsChildren(pe,be){pe.value.component&&this.routeReuseStrategy.shouldDetach(pe.value.snapshot)?this.detachAndStoreRouteSubtree(pe,be):this.deactivateRouteAndOutlet(pe,be)}detachAndStoreRouteSubtree(pe,be){const fe=be.getContext(pe.value.outlet),Ee=fe&&pe.value.component?fe.children:be,Je=Yr(pe);for(const ot of Object.values(Je))this.deactivateRouteAndItsChildren(ot,Ee);if(fe&&fe.outlet){const ot=fe.outlet.detach(),Yt=fe.children.onOutletDeactivated();this.routeReuseStrategy.store(pe.value.snapshot,{componentRef:ot,route:pe,contexts:Yt})}}deactivateRouteAndOutlet(pe,be){const fe=be.getContext(pe.value.outlet),Ee=fe&&pe.value.component?fe.children:be,Je=Yr(pe);for(const ot of Object.values(Je))this.deactivateRouteAndItsChildren(ot,Ee);fe&&(fe.outlet&&(fe.outlet.deactivate(),fe.children.onOutletDeactivated()),fe.attachRef=null,fe.route=null)}activateChildRoutes(pe,be,fe){const Ee=Yr(be);pe.children.forEach(Je=>{this.activateRoutes(Je,Ee[Je.value.outlet],fe),this.forwardEvent(new zn(Je.value.snapshot))}),pe.children.length&&this.forwardEvent(new Dn(pe.value.snapshot))}activateRoutes(pe,be,fe){const Ee=pe.value,Je=be?be.value:null;if(Eo(Ee),Ee===Je)if(Ee.component){const ot=fe.getOrCreateContext(Ee.outlet);this.activateChildRoutes(pe,be,ot.children)}else this.activateChildRoutes(pe,be,fe);else if(Ee.component){const ot=fe.getOrCreateContext(Ee.outlet);if(this.routeReuseStrategy.shouldAttach(Ee.snapshot)){const Yt=this.routeReuseStrategy.retrieve(Ee.snapshot);this.routeReuseStrategy.store(Ee.snapshot,null),ot.children.onOutletReAttached(Yt.contexts),ot.attachRef=Yt.componentRef,ot.route=Yt.route.value,ot.outlet&&ot.outlet.attach(Yt.componentRef,Yt.route.value),Eo(Yt.route.value),this.activateChildRoutes(pe,null,ot.children)}else{const Yt=Ko(Ee.snapshot);ot.attachRef=null,ot.route=Ee,ot.injector=Yt,ot.outlet&&ot.outlet.activateWith(Ee,ot.injector),this.activateChildRoutes(pe,null,ot.children)}}else this.activateChildRoutes(pe,null,fe)}}class Si{constructor(pe){this.path=pe,this.route=this.path[this.path.length-1]}}class mi{constructor(pe,be){this.component=pe,this.route=be}}function Qi(se,pe,be){const fe=se._root;return oi(fe,pe?pe._root:null,be,[fe.value])}function ui(se,pe){const be=Symbol(),fe=pe.get(se,be);return fe===be?"function"!=typeof se||(0,v.K_M)(se)?pe.get(se):se:fe}function oi(se,pe,be,fe,Ee={canDeactivateChecks:[],canActivateChecks:[]}){const Je=Yr(pe);return se.children.forEach(ot=>{(function Wr(se,pe,be,fe,Ee={canDeactivateChecks:[],canActivateChecks:[]}){const Je=se.value,ot=pe?pe.value:null,Yt=be?be.getContext(se.value.outlet):null;if(ot&&Je.routeConfig===ot.routeConfig){const wn=function Di(se,pe,be){if("function"==typeof be)return be(se,pe);switch(be){case"pathParamsChange":return!wt(se.url,pe.url);case"pathParamsOrQueryParamsChange":return!wt(se.url,pe.url)||!vt(se.queryParams,pe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dr(se,pe)||!vt(se.queryParams,pe.queryParams);default:return!Dr(se,pe)}}(ot,Je,Je.routeConfig.runGuardsAndResolvers);wn?Ee.canActivateChecks.push(new Si(fe)):(Je.data=ot.data,Je._resolvedData=ot._resolvedData),oi(se,pe,Je.component?Yt?Yt.children:null:be,fe,Ee),wn&&Yt&&Yt.outlet&&Yt.outlet.isActivated&&Ee.canDeactivateChecks.push(new mi(Yt.outlet.component,ot))}else ot&&x(pe,Yt,Ee),Ee.canActivateChecks.push(new Si(fe)),oi(se,null,Je.component?Yt?Yt.children:null:be,fe,Ee)})(ot,Je[ot.value.outlet],be,fe.concat([ot.value]),Ee),delete Je[ot.value.outlet]}),Object.entries(Je).forEach(([ot,Yt])=>x(Yt,be.getContext(ot),Ee)),Ee}function x(se,pe,be){const fe=Yr(se),Ee=se.value;Object.entries(fe).forEach(([Je,ot])=>{x(ot,Ee.component?pe?pe.children.getContext(Je):null:pe,be)}),be.canDeactivateChecks.push(new mi(Ee.component&&pe&&pe.outlet&&pe.outlet.isActivated?pe.outlet.component:null,Ee))}function B(se){return"function"==typeof se}function Xe(se){return se instanceof h||"EmptyError"===(null==se?void 0:se.name)}const rt=Symbol("INITIAL_VALUE");function Tt(){return(0,p.G)(se=>(0,y.E)(se.map(pe=>pe.pipe((0,b.U)(1),function R(...se){const pe=(0,O.e_)(se);return(0,N.i)((be,fe)=>{(pe?(0,f.W)(se,be,pe):(0,f.W)(se,be)).subscribe(fe)})}(rt)))).pipe((0,m.k)(pe=>{for(const be of pe)if(!0!==be){if(be===rt)return rt;if(!1===be||be instanceof Pe)return be}return!0}),(0,k.I)(pe=>pe!==rt),(0,b.U)(1)))}function Gn(se){return(0,w.W)((0,Q.y)(pe=>{if(G(pe))throw oo(0,pe)}),(0,m.k)(pe=>!0===pe))}class Un{constructor(pe){this.segmentGroup=pe||null}}class Qn extends Error{constructor(pe){super(),this.urlTree=pe}}function er(se){return(0,a.c)(new Un(se))}class Jr{constructor(pe,be){this.urlSerializer=pe,this.urlTree=be}lineralizeSegments(pe,be){let fe=[],Ee=be.root;for(;;){if(fe=fe.concat(Ee.segments),0===Ee.numberOfChildren)return(0,W.of)(fe);if(Ee.numberOfChildren>1||!Ee.children[Oe])return(0,a.c)(new v.OBp(4e3,!1));Ee=Ee.children[Oe]}}applyRedirectCommands(pe,be,fe){const Ee=this.applyRedirectCreateUrlTree(be,this.urlSerializer.parse(be),pe,fe);if(be.startsWith("/"))throw new Qn(Ee);return Ee}applyRedirectCreateUrlTree(pe,be,fe,Ee){const Je=this.createSegmentGroup(pe,be.root,fe,Ee);return new Pe(Je,this.createQueryParams(be.queryParams,this.urlTree.queryParams),be.fragment)}createQueryParams(pe,be){const fe={};return Object.entries(pe).forEach(([Ee,Je])=>{if("string"==typeof Je&&Je.startsWith(":")){const Yt=Je.substring(1);fe[Ee]=be[Yt]}else fe[Ee]=Je}),fe}createSegmentGroup(pe,be,fe,Ee){const Je=this.createSegments(pe,be.segments,fe,Ee);let ot={};return Object.entries(be.children).forEach(([Yt,wn])=>{ot[Yt]=this.createSegmentGroup(pe,wn,fe,Ee)}),new Fe(Je,ot)}createSegments(pe,be,fe,Ee){return be.map(Je=>Je.path.startsWith(":")?this.findPosParam(pe,Je,Ee):this.findOrReturn(Je,fe))}findPosParam(pe,be,fe){const Ee=fe[be.path.substring(1)];if(!Ee)throw new v.OBp(4001,!1);return Ee}findOrReturn(pe,be){let fe=0;for(const Ee of be){if(Ee.path===pe.path)return be.splice(fe),Ee;fe++}return pe}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xr(se,pe,be,fe,Ee){const Je=Mr(se,pe,be);return Je.matched?(fe=function Yo(se,pe){var be;return se.providers&&!se._injector&&(se._injector=(0,v.SIz)(se.providers,pe,`Route: ${se.path}`)),null!==(be=se._injector)&&void 0!==be?be:pe}(pe,fe),function $n(se,pe,be,fe){const Ee=pe.canMatch;if(!Ee||0===Ee.length)return(0,W.of)(!0);const Je=Ee.map(ot=>{const Yt=ui(ot,se);return Ht(function ke(se){return se&&B(se.canMatch)}(Yt)?Yt.canMatch(pe,be):(0,v.SMS)(se,()=>Yt(pe,be)))});return(0,W.of)(Je).pipe(Tt(),Gn())}(fe,pe,be).pipe((0,m.k)(ot=>!0===ot?Je:{...fo}))):(0,W.of)(Je)}function Mr(se,pe,be){var fe,Ee;if("**"===pe.path)return function gr(se){return{matched:!0,parameters:se.length>0?jt(se).parameters:{},consumedSegments:se,remainingSegments:[],positionalParamSegments:{}}}(be);if(""===pe.path)return"full"===pe.pathMatch&&(se.hasChildren()||be.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:be,parameters:{},positionalParamSegments:{}};const ot=(pe.matcher||Qe)(be,se,pe);if(!ot)return{...fo};const Yt={};Object.entries(null!==(fe=ot.posParams)&&void 0!==fe?fe:{}).forEach(([nn,kn])=>{Yt[nn]=kn.path});const wn=ot.consumed.length>0?{...Yt,...ot.consumed[ot.consumed.length-1].parameters}:Yt;return{matched:!0,consumedSegments:ot.consumed,remainingSegments:be.slice(ot.consumed.length),parameters:wn,positionalParamSegments:null!==(Ee=ot.posParams)&&void 0!==Ee?Ee:{}}}function kr(se,pe,be,fe){return be.length>0&&function Nr(se,pe,be){return be.some(fe=>Jo(se,pe,fe)&&go(fe)!==Oe)}(se,be,fe)?{segmentGroup:new Fe(pe,to(fe,new Fe(be,se.children))),slicedSegments:[]}:0===be.length&&function no(se,pe,be){return be.some(fe=>Jo(se,pe,fe))}(se,be,fe)?{segmentGroup:new Fe(se.segments,Nn(se,be,fe,se.children)),slicedSegments:be}:{segmentGroup:new Fe(se.segments,se.children),slicedSegments:be}}function Nn(se,pe,be,fe){const Ee={};for(const Je of be)if(Jo(se,pe,Je)&&!fe[go(Je)]){const ot=new Fe([],{});Ee[go(Je)]=ot}return{...fe,...Ee}}function to(se,pe){const be={};be[Oe]=pe;for(const fe of se)if(""===fe.path&&go(fe)!==Oe){const Ee=new Fe([],{});be[go(fe)]=Ee}return be}function Jo(se,pe,be){return(!(se.hasChildren()||pe.length>0)||"full"!==be.pathMatch)&&""===be.path}class Mi{}class Ia{constructor(pe,be,fe,Ee,Je,ot,Yt){this.injector=pe,this.configLoader=be,this.rootComponentType=fe,this.config=Ee,this.urlTree=Je,this.paramsInheritanceStrategy=ot,this.urlSerializer=Yt,this.applyRedirects=new Jr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(pe){return new v.OBp(4002,`'${pe.segmentGroup}'`)}recognize(){const pe=kr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(pe).pipe((0,m.k)(be=>{const fe=new $r([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Oe,this.rootComponentType,null,{}),Ee=new dr(fe,be),Je=new qn("",Ee),ot=function me(se,pe,be=null,fe=null){return P(Se(se),pe,be,fe)}(fe,[],this.urlTree.queryParams,this.urlTree.fragment);return ot.queryParams=this.urlTree.queryParams,Je.url=this.urlSerializer.serialize(ot),this.inheritParamsAndData(Je._root,null),{state:Je,tree:ot}}))}match(pe){return this.processSegmentGroup(this.injector,this.config,pe,Oe).pipe(q(fe=>{if(fe instanceof Qn)return this.urlTree=fe.urlTree,this.match(fe.urlTree.root);throw fe instanceof Un?this.noMatchError(fe):fe}))}inheritParamsAndData(pe,be){const fe=pe.value,Ee=vr(fe,be,this.paramsInheritanceStrategy);fe.params=Object.freeze(Ee.params),fe.data=Object.freeze(Ee.data),pe.children.forEach(Je=>this.inheritParamsAndData(Je,fe))}processSegmentGroup(pe,be,fe,Ee){return 0===fe.segments.length&&fe.hasChildren()?this.processChildren(pe,be,fe):this.processSegment(pe,be,fe,fe.segments,Ee,!0).pipe((0,m.k)(Je=>Je instanceof dr?[Je]:[]))}processChildren(pe,be,fe){const Ee=[];for(const Je of Object.keys(fe.children))"primary"===Je?Ee.unshift(Je):Ee.push(Je);return(0,o.Q)(Ee).pipe(H(Je=>{const ot=fe.children[Je],Yt=function _r(se,pe){const be=se.filter(fe=>go(fe)===pe);return be.push(...se.filter(fe=>go(fe)!==pe)),be}(be,Je);return this.processSegmentGroup(pe,Yt,ot,Je)}),function de(se,pe){return(0,N.i)(function ne(se,pe,be,fe,Ee){return(Je,ot)=>{let Yt=be,wn=pe,nn=0;Je.subscribe((0,$.e)(ot,kn=>{const Jn=nn++;wn=Yt?se(wn,kn,Jn):(Yt=!0,kn),fe&&ot.next(wn)},Ee&&(()=>{Yt&&ot.next(wn),ot.complete()})))}}(se,pe,arguments.length>=2,!0))}((Je,ot)=>(Je.push(...ot),Je)),j(null),function K(se,pe){const be=arguments.length>=2;return fe=>fe.pipe(se?(0,k.I)((Ee,Je)=>se(Ee,Je,fe)):V.Z,xe(1),be?j(pe):S(()=>new h))}(),(0,A.O)(Je=>{if(null===Je)return er(fe);const ot=hn(Je);return function kl(se){se.sort((pe,be)=>pe.value.outlet===Oe?-1:be.value.outlet===Oe?1:pe.value.outlet.localeCompare(be.value.outlet))}(ot),(0,W.of)(ot)}))}processSegment(pe,be,fe,Ee,Je,ot){return(0,o.Q)(be).pipe(H(Yt=>{var wn;return this.processSegmentAgainstRoute(null!==(wn=Yt._injector)&&void 0!==wn?wn:pe,be,Yt,fe,Ee,Je,ot).pipe(q(nn=>{if(nn instanceof Un)return(0,W.of)(null);throw nn}))}),Z(Yt=>!!Yt),q(Yt=>{if(Xe(Yt))return function Fi(se,pe,be){return 0===pe.length&&!se.children[be]}(fe,Ee,Je)?(0,W.of)(new Mi):er(fe);throw Yt}))}processSegmentAgainstRoute(pe,be,fe,Ee,Je,ot,Yt){return function ci(se,pe,be,fe){return!!(go(se)===fe||fe!==Oe&&Jo(pe,be,se))&&Mr(pe,se,be).matched}(fe,Ee,Je,ot)?void 0===fe.redirectTo?this.matchSegmentAgainstRoute(pe,Ee,fe,Je,ot):this.allowRedirects&&Yt?this.expandSegmentAgainstRouteUsingRedirect(pe,Ee,be,fe,Je,ot):er(Ee):er(Ee)}expandSegmentAgainstRouteUsingRedirect(pe,be,fe,Ee,Je,ot){const{matched:Yt,consumedSegments:wn,positionalParamSegments:nn,remainingSegments:kn}=Mr(be,Ee,Je);if(!Yt)return er(be);Ee.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Jn=this.applyRedirects.applyRedirectCommands(wn,Ee.redirectTo,nn);return this.applyRedirects.lineralizeSegments(Ee,Jn).pipe((0,A.O)(qr=>this.processSegment(pe,fe,be,qr.concat(kn),ot,!1)))}matchSegmentAgainstRoute(pe,be,fe,Ee,Je){const ot=xr(be,fe,Ee,pe);return"**"===fe.path&&(be.children={}),ot.pipe((0,p.G)(Yt=>{var wn;return Yt.matched?(pe=null!==(wn=fe._injector)&&void 0!==wn?wn:pe,this.getChildConfig(pe,fe,Ee).pipe((0,p.G)(({routes:nn})=>{var kn,Jn,qr;const Sr=null!==(kn=fe._loadedInjector)&&void 0!==kn?kn:pe,{consumedSegments:Vn,remainingSegments:si,parameters:Oi}=Yt,ji=new $r(Vn,Oi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function _s(se){return se.data||{}}(fe),go(fe),null!==(Jn=null!==(qr=fe.component)&&void 0!==qr?qr:fe._loadedComponent)&&void 0!==Jn?Jn:null,fe,function Aa(se){return se.resolve||{}}(fe)),{segmentGroup:Gi,slicedSegments:Pi}=kr(be,Vn,si,nn);if(0===Pi.length&&Gi.hasChildren())return this.processChildren(Sr,nn,Gi).pipe((0,m.k)(ki=>null===ki?null:new dr(ji,ki)));if(0===nn.length&&0===Pi.length)return(0,W.of)(new dr(ji,[]));const Ac=go(fe)===Je;return this.processSegment(Sr,nn,Gi,Pi,Ac?Oe:Je,!0).pipe((0,m.k)(ki=>new dr(ji,ki instanceof dr?[ki]:[])))}))):er(be)}))}getChildConfig(pe,be,fe){return be.children?(0,W.of)({routes:be.children,injector:pe}):be.loadChildren?void 0!==be._loadedRoutes?(0,W.of)({routes:be._loadedRoutes,injector:be._loadedInjector}):function Bn(se,pe,be,fe){const Ee=pe.canLoad;if(void 0===Ee||0===Ee.length)return(0,W.of)(!0);const Je=Ee.map(ot=>{const Yt=ui(ot,se);return Ht(function M(se){return se&&B(se.canLoad)}(Yt)?Yt.canLoad(pe,be):(0,v.SMS)(se,()=>Yt(pe,be)))});return(0,W.of)(Je).pipe(Tt(),Gn())}(pe,be,fe).pipe((0,A.O)(Ee=>Ee?this.configLoader.loadChildren(pe,be).pipe((0,Q.y)(Je=>{be._loadedRoutes=Je.routes,be._loadedInjector=Je.injector})):function Qr(se){return(0,a.c)(co(!1,An.GuardRejected))}())):(0,W.of)({routes:[],injector:pe})}}function Ta(se){const pe=se.value.routeConfig;return pe&&""===pe.path}function hn(se){const pe=[],be=new Set;for(const fe of se){if(!Ta(fe)){pe.push(fe);continue}const Ee=pe.find(Je=>fe.value.routeConfig===Je.value.routeConfig);void 0!==Ee?(Ee.children.push(...fe.children),be.add(Ee)):pe.push(fe)}for(const fe of be){const Ee=hn(fe.children);pe.push(new dr(fe.value,Ee))}return pe.filter(fe=>!be.has(fe))}function Ii(se){const pe=se.children.map(be=>Ii(be)).flat();return[se,...pe]}function xs(se){return(0,p.G)(pe=>{const be=se(pe);return be?(0,o.Q)(be).pipe((0,m.k)(()=>pe)):(0,W.of)(pe)})}let Rl=(()=>{var se;class pe{buildTitle(fe){let Ee,Je=fe.root;for(;void 0!==Je;){var ot;Ee=null!==(ot=this.getResolvedTitleForRoute(Je))&&void 0!==ot?ot:Ee,Je=Je.children.find(Yt=>Yt.outlet===Oe)}return Ee}getResolvedTitleForRoute(fe){return fe.data[Ge]}}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:()=>(0,v.uUt)(ja),providedIn:"root"}),pe})(),ja=(()=>{var se;class pe extends Rl{constructor(fe){super(),this.title=fe}updateTitle(fe){const Ee=this.buildTitle(fe);void 0!==Ee&&this.title.setTitle(Ee)}}return(se=pe).\u0275fac=function(fe){return new(fe||se)(v.CoB(et.OY))},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})();const Gr=new v.UbH("",{providedIn:"root",factory:()=>({})}),Mo=new v.UbH("");let es=(()=>{var se;class pe{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,v.uUt)(v.ESV)}loadComponent(fe){if(this.componentLoaders.get(fe))return this.componentLoaders.get(fe);if(fe._loadedComponent)return(0,W.of)(fe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(fe);const Ee=Ht(fe.loadComponent()).pipe((0,m.k)(dt),(0,Q.y)(ot=>{this.onLoadEndListener&&this.onLoadEndListener(fe),fe._loadedComponent=ot}),re(()=>{this.componentLoaders.delete(fe)})),Je=new d.C(Ee,()=>new u.E).pipe((0,ge.O)());return this.componentLoaders.set(fe,Je),Je}loadChildren(fe,Ee){if(this.childrenLoaders.get(Ee))return this.childrenLoaders.get(Ee);if(Ee._loadedRoutes)return(0,W.of)({routes:Ee._loadedRoutes,injector:Ee._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ee);const ot=function ce(se,pe,be,fe){return Ht(se.loadChildren()).pipe((0,m.k)(dt),(0,A.O)(Ee=>Ee instanceof v.obV||Array.isArray(Ee)?(0,W.of)(Ee):(0,o.Q)(pe.compileModuleAsync(Ee))),(0,m.k)(Ee=>{fe&&fe(se);let Je,ot,Yt=!1;return Array.isArray(Ee)?(ot=Ee,!0):(Je=Ee.create(be).injector,ot=Je.get(Mo,[],{optional:!0,self:!0}).flat()),{routes:ot.map(li),injector:Je}}))}(Ee,this.compiler,fe,this.onLoadEndListener).pipe(re(()=>{this.childrenLoaders.delete(Ee)})),Yt=new d.C(ot,()=>new u.E).pipe((0,ge.O)());return this.childrenLoaders.set(Ee,Yt),Yt}}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})();function dt(se){return function Te(se){return se&&"object"==typeof se&&"default"in se}(se)?se.default:se}let De=(()=>{var se;class pe{}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:()=>(0,v.uUt)(tt),providedIn:"root"}),pe})(),tt=(()=>{var se;class pe{shouldProcessUrl(fe){return!0}extract(fe){return fe}merge(fe,Ee){return fe}}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})();const Ct=new v.UbH(""),ln=new v.UbH("");function In(se,pe,be){const fe=se.get(ln),Ee=se.get(s.Ud);return se.get(v.WW2).runOutsideAngular(()=>{if(!Ee.startViewTransition||fe.skipNextTransition)return fe.skipNextTransition=!1,Promise.resolve();let Je;const ot=new Promise(nn=>{Je=nn}),Yt=Ee.startViewTransition(()=>(Je(),function rr(se){return new Promise(pe=>{(0,v.I44)(pe,{injector:se})})}(se))),{onViewTransitionCreated:wn}=fe;return wn&&(0,v.SMS)(se,()=>wn({transition:Yt,from:pe,to:be})),ot})}let or=(()=>{var se;class pe{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new u.E,this.transitionAbortSubject=new u.E,this.configLoader=(0,v.uUt)(es),this.environmentInjector=(0,v.uUt)(v.SIe),this.urlSerializer=(0,v.uUt)(Gt),this.rootContexts=(0,v.uUt)(Br),this.location=(0,v.uUt)(s.oB),this.inputBindingEnabled=null!==(0,v.uUt)(po,{optional:!0}),this.titleStrategy=(0,v.uUt)(Rl),this.options=(0,v.uUt)(Gr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,v.uUt)(De),this.createViewTransition=(0,v.uUt)(Ct,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,W.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Je=>this.events.next(new pt(Je)),this.configLoader.onLoadStartListener=Je=>this.events.next(new Ve(Je))}complete(){var fe;null===(fe=this.transitions)||void 0===fe||fe.complete()}handleNavigationRequest(fe){var Ee;const Je=++this.navigationId;null===(Ee=this.transitions)||void 0===Ee||Ee.next({...this.transitions.value,...fe,id:Je})}setupNavigations(fe,Ee,Je){return this.transitions=new C.g({id:0,currentUrlTree:Ee,currentRawUrl:Ee,extractedUrl:this.urlHandlingStrategy.extract(Ee),urlAfterRedirects:this.urlHandlingStrategy.extract(Ee),rawUrl:Ee,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ft,restoredState:null,currentSnapshot:Je.snapshot,targetSnapshot:null,currentRouterState:Je,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,k.I)(ot=>0!==ot.id),(0,m.k)(ot=>({...ot,extractedUrl:this.urlHandlingStrategy.extract(ot.rawUrl)})),(0,p.G)(ot=>{this.currentTransition=ot;let Yt=!1,wn=!1;return(0,W.of)(ot).pipe((0,Q.y)(nn=>{this.currentNavigation={id:nn.id,initialUrl:nn.rawUrl,extractedUrl:nn.extractedUrl,trigger:nn.source,extras:nn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,p.G)(nn=>{var kn;const Jn=!fe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),qr=null!==(kn=nn.extras.onSameUrlNavigation)&&void 0!==kn?kn:fe.onSameUrlNavigation;if(!Jn&&"reload"!==qr){const Sr="";return this.events.next(new He(nn.id,this.urlSerializer.serialize(nn.rawUrl),Sr,At.IgnoredSameUrlNavigation)),nn.resolve(null),l.k}if(this.urlHandlingStrategy.shouldProcessUrl(nn.rawUrl))return(0,W.of)(nn).pipe((0,p.G)(Sr=>{var Vn,si;const Oi=null===(Vn=this.transitions)||void 0===Vn?void 0:Vn.getValue();return this.events.next(new $t(Sr.id,this.urlSerializer.serialize(Sr.extractedUrl),Sr.source,Sr.restoredState)),Oi!==(null===(si=this.transitions)||void 0===si?void 0:si.getValue())?l.k:Promise.resolve(Sr)}),function Or(se,pe,be,fe,Ee,Je){return(0,A.O)(ot=>function Da(se,pe,be,fe,Ee,Je,ot="emptyOnly"){return new Ia(se,pe,be,fe,Ee,ot,Je).recognize()}(se,pe,be,fe,ot.extractedUrl,Ee,Je).pipe((0,m.k)(({state:Yt,tree:wn})=>({...ot,targetSnapshot:Yt,urlAfterRedirects:wn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,fe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Q.y)(Sr=>{ot.targetSnapshot=Sr.targetSnapshot,ot.urlAfterRedirects=Sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Sr.urlAfterRedirects};const Vn=new kt(Sr.id,this.urlSerializer.serialize(Sr.extractedUrl),this.urlSerializer.serialize(Sr.urlAfterRedirects),Sr.targetSnapshot);this.events.next(Vn)}));if(Jn&&this.urlHandlingStrategy.shouldProcessUrl(nn.currentRawUrl)){const{id:Sr,extractedUrl:Vn,source:si,restoredState:Oi,extras:ji}=nn,Gi=new $t(Sr,this.urlSerializer.serialize(Vn),si,Oi);this.events.next(Gi);const Pi=Lr(this.rootComponentType).snapshot;return this.currentTransition=ot={...nn,targetSnapshot:Pi,urlAfterRedirects:Vn,extras:{...ji,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Vn,(0,W.of)(ot)}{const Sr="";return this.events.next(new He(nn.id,this.urlSerializer.serialize(nn.extractedUrl),Sr,At.IgnoredByUrlHandlingStrategy)),nn.resolve(null),l.k}}),(0,Q.y)(nn=>{const kn=new Wt(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot);this.events.next(kn)}),(0,m.k)(nn=>(this.currentTransition=ot={...nn,guards:Qi(nn.targetSnapshot,nn.currentSnapshot,this.rootContexts)},ot)),function qt(se,pe){return(0,A.O)(be=>{const{targetSnapshot:fe,currentSnapshot:Ee,guards:{canActivateChecks:Je,canDeactivateChecks:ot}}=be;return 0===ot.length&&0===Je.length?(0,W.of)({...be,guardsResult:!0}):function Bt(se,pe,be,fe){return(0,o.Q)(se).pipe((0,A.O)(Ee=>function Xt(se,pe,be,fe,Ee){const Je=pe&&pe.routeConfig?pe.routeConfig.canDeactivate:null;if(!Je||0===Je.length)return(0,W.of)(!0);const ot=Je.map(Yt=>{var wn;const nn=null!==(wn=Ko(pe))&&void 0!==wn?wn:Ee,kn=ui(Yt,nn);return Ht(function le(se){return se&&B(se.canDeactivate)}(kn)?kn.canDeactivate(se,pe,be,fe):(0,v.SMS)(nn,()=>kn(se,pe,be,fe))).pipe(Z())});return(0,W.of)(ot).pipe(Tt())}(Ee.component,Ee.route,be,pe,fe)),Z(Ee=>!0!==Ee,!0))}(ot,fe,Ee,se).pipe((0,A.O)(Yt=>Yt&&function I(se){return"boolean"==typeof se}(Yt)?function gt(se,pe,be,fe){return(0,o.Q)(pe).pipe(H(Ee=>(0,f.W)(function tn(se,pe){return null!==se&&pe&&pe(new Kt(se)),(0,W.of)(!0)}(Ee.route.parent,fe),function mn(se,pe){return null!==se&&pe&&pe(new On(se)),(0,W.of)(!0)}(Ee.route,fe),function Jt(se,pe,be){const fe=pe[pe.length-1],Je=pe.slice(0,pe.length-1).reverse().map(ot=>function bs(se){const pe=se.routeConfig?se.routeConfig.canActivateChild:null;return pe&&0!==pe.length?{node:se,guards:pe}:null}(ot)).filter(ot=>null!==ot).map(ot=>(0,E.Q)(()=>{const Yt=ot.guards.map(wn=>{var nn;const kn=null!==(nn=Ko(ot.node))&&void 0!==nn?nn:be,Jn=ui(wn,kn);return Ht(function X(se){return se&&B(se.canActivateChild)}(Jn)?Jn.canActivateChild(fe,se):(0,v.SMS)(kn,()=>Jn(fe,se))).pipe(Z())});return(0,W.of)(Yt).pipe(Tt())}));return(0,W.of)(Je).pipe(Tt())}(se,Ee.path,be),function sn(se,pe,be){const fe=pe.routeConfig?pe.routeConfig.canActivate:null;if(!fe||0===fe.length)return(0,W.of)(!0);const Ee=fe.map(Je=>(0,E.Q)(()=>{var ot;const Yt=null!==(ot=Ko(pe))&&void 0!==ot?ot:be,wn=ui(Je,Yt);return Ht(function J(se){return se&&B(se.canActivate)}(wn)?wn.canActivate(pe,se):(0,v.SMS)(Yt,()=>wn(pe,se))).pipe(Z())}));return(0,W.of)(Ee).pipe(Tt())}(se,Ee.route,be))),Z(Ee=>!0!==Ee,!0))}(fe,Je,se,pe):(0,W.of)(Yt)),(0,m.k)(Yt=>({...be,guardsResult:Yt})))})}(this.environmentInjector,nn=>this.events.next(nn)),(0,Q.y)(nn=>{if(ot.guardsResult=nn.guardsResult,G(nn.guardsResult))throw oo(0,nn.guardsResult);const kn=new ie(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot,!!nn.guardsResult);this.events.next(kn)}),(0,k.I)(nn=>!!nn.guardsResult||(this.cancelNavigationTransition(nn,"",An.GuardRejected),!1)),xs(nn=>{if(nn.guards.canActivateChecks.length)return(0,W.of)(nn).pipe((0,Q.y)(kn=>{const Jn=new Re(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Jn)}),(0,p.G)(kn=>{let Jn=!1;return(0,W.of)(kn).pipe(function Oa(se,pe){return(0,A.O)(be=>{const{targetSnapshot:fe,guards:{canActivateChecks:Ee}}=be;if(!Ee.length)return(0,W.of)(be);const Je=new Set(Ee.map(wn=>wn.route)),ot=new Set;for(const wn of Je)if(!ot.has(wn))for(const nn of Ii(wn))ot.add(nn);let Yt=0;return(0,o.Q)(ot).pipe(H(wn=>Je.has(wn)?function Zo(se,pe,be,fe){const Ee=se.routeConfig,Je=se._resolve;return void 0!==(null==Ee?void 0:Ee.title)&&!So(Ee)&&(Je[Ge]=Ee.title),function ws(se,pe,be,fe){const Ee=mt(se);if(0===Ee.length)return(0,W.of)({});const Je={};return(0,o.Q)(Ee).pipe((0,A.O)(ot=>function Es(se,pe,be,fe){var Ee;const Je=null!==(Ee=Ko(pe))&&void 0!==Ee?Ee:fe,ot=ui(se,Je);return Ht(ot.resolve?ot.resolve(pe,be):(0,v.SMS)(Je,()=>ot(pe,be)))}(se[ot],pe,be,fe).pipe(Z(),(0,Q.y)(Yt=>{Je[ot]=Yt}))),xe(1),(0,L.e)(Je),q(ot=>Xe(ot)?l.k:(0,a.c)(ot)))}(Je,se,pe,fe).pipe((0,m.k)(ot=>(se._resolvedData=ot,se.data=vr(se,se.parent,be).resolve,null)))}(wn,fe,se,pe):(wn.data=vr(wn,wn.parent,se).resolve,(0,W.of)(void 0))),(0,Q.y)(()=>Yt++),xe(1),(0,A.O)(wn=>Yt===ot.size?(0,W.of)(be):l.k))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Q.y)({next:()=>Jn=!0,complete:()=>{Jn||this.cancelNavigationTransition(kn,"",An.NoDataFromResolver)}}))}),(0,Q.y)(kn=>{const Jn=new ve(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Jn)}))}),xs(nn=>{const kn=Jn=>{var qr;const Sr=[];null!==(qr=Jn.routeConfig)&&void 0!==qr&&qr.loadComponent&&!Jn.routeConfig._loadedComponent&&Sr.push(this.configLoader.loadComponent(Jn.routeConfig).pipe((0,Q.y)(Vn=>{Jn.component=Vn}),(0,m.k)(()=>{})));for(const Vn of Jn.children)Sr.push(...kn(Vn));return Sr};return(0,y.E)(kn(nn.targetSnapshot.root)).pipe(j(null),(0,b.U)(1))}),xs(()=>this.afterPreactivation()),(0,p.G)(()=>{var nn;const{currentSnapshot:kn,targetSnapshot:Jn}=ot,qr=null===(nn=this.createViewTransition)||void 0===nn?void 0:nn.call(this,this.environmentInjector,kn.root,Jn.root);return qr?(0,o.Q)(qr).pipe((0,m.k)(()=>ot)):(0,W.of)(ot)}),(0,m.k)(nn=>{const kn=function Po(se,pe,be){const fe=mo(se,pe._root,be?be._root:void 0);return new Er(fe,pe)}(fe.routeReuseStrategy,nn.targetSnapshot,nn.currentRouterState);return this.currentTransition=ot={...nn,targetRouterState:kn},this.currentNavigation.targetRouterState=kn,ot}),(0,Q.y)(()=>{this.events.next(new jr)}),((se,pe,be,fe)=>(0,m.k)(Ee=>(new Zi(pe,Ee.targetRouterState,Ee.currentRouterState,be,fe).activate(se),Ee)))(this.rootContexts,fe.routeReuseStrategy,nn=>this.events.next(nn),this.inputBindingEnabled),(0,b.U)(1),(0,Q.y)({next:nn=>{var kn;Yt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new un(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects))),null===(kn=this.titleStrategy)||void 0===kn||kn.updateTitle(nn.targetRouterState.snapshot),nn.resolve(!0)},complete:()=>{Yt=!0}}),function Le(se){return(0,N.i)((pe,be)=>{(0,Y.Uv)(se).subscribe((0,$.e)(be,()=>be.complete(),Me.K)),!be.closed&&pe.subscribe(be)})}(this.transitionAbortSubject.pipe((0,Q.y)(nn=>{throw nn}))),re(()=>{var nn;!Yt&&!wn&&this.cancelNavigationTransition(ot,"",An.SupersededByNewNavigation),(null===(nn=this.currentTransition)||void 0===nn?void 0:nn.id)===ot.id&&(this.currentNavigation=null,this.currentTransition=null)}),q(nn=>{if(wn=!0,Lo(nn))this.events.next(new je(ot.id,this.urlSerializer.serialize(ot.extractedUrl),nn.message,nn.cancellationCode)),function Ro(se){return Lo(se)&&G(se.url)}(nn)?this.events.next(new Ar(nn.url)):ot.resolve(!1);else{var kn;this.events.next(new Mt(ot.id,this.urlSerializer.serialize(ot.extractedUrl),nn,null!==(kn=ot.targetSnapshot)&&void 0!==kn?kn:void 0));try{ot.resolve(fe.errorHandler(nn))}catch(Jn){this.options.resolveNavigationPromiseOnError?ot.resolve(!1):ot.reject(Jn)}}return l.k}))}))}cancelNavigationTransition(fe,Ee,Je){const ot=new je(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Ee,Je);this.events.next(ot),fe.resolve(!1)}isUpdatingInternalState(){var fe,Ee;return(null===(fe=this.currentTransition)||void 0===fe?void 0:fe.extractedUrl.toString())!==(null===(Ee=this.currentTransition)||void 0===Ee?void 0:Ee.currentUrlTree.toString())}isUpdatedBrowserUrl(){var fe,Ee;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(fe=this.currentTransition)||void 0===fe?void 0:fe.extractedUrl.toString())&&!(null!==(Ee=this.currentTransition)&&void 0!==Ee&&Ee.extras.skipLocationChange)}}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})();function Cr(se){return se!==ft}let nr=(()=>{var se;class pe{}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:()=>(0,v.uUt)(Ir),providedIn:"root"}),pe})();class Tr{shouldDetach(pe){return!1}store(pe,be){}shouldAttach(pe){return!1}retrieve(pe){return null}shouldReuseRoute(pe,be){return pe.routeConfig===be.routeConfig}}let Ir=(()=>{var se;class pe extends Tr{}return(se=pe).\u0275fac=(()=>{let be;return function(Ee){return(be||(be=v.otF(se)))(Ee||se)}})(),se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})(),eo=(()=>{var se;class pe{}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:()=>(0,v.uUt)(Qo),providedIn:"root"}),pe})(),Qo=(()=>{var se;class pe extends eo{constructor(){super(...arguments),this.location=(0,v.uUt)(s.oB),this.urlSerializer=(0,v.uUt)(Gt),this.options=(0,v.uUt)(Gr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,v.uUt)(De),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pe,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var fe,Ee;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(fe=null===(Ee=this.restoredState())||void 0===Ee?void 0:Ee.\u0275routerPageId)&&void 0!==fe?fe:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(fe){return this.location.subscribe(Ee=>{"popstate"===Ee.type&&fe(Ee.url,Ee.state)})}handleRouterEvent(fe,Ee){if(fe instanceof $t)this.stateMemento=this.createStateMemento();else if(fe instanceof He)this.rawUrlTree=Ee.initialUrl;else if(fe instanceof kt){if("eager"===this.urlUpdateStrategy&&!Ee.extras.skipLocationChange){const Je=this.urlHandlingStrategy.merge(Ee.finalUrl,Ee.initialUrl);this.setBrowserUrl(Je,Ee)}}else fe instanceof jr?(this.currentUrlTree=Ee.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ee.finalUrl,Ee.initialUrl),this.routerState=Ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ee.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ee))):fe instanceof je&&(fe.code===An.GuardRejected||fe.code===An.NoDataFromResolver)?this.restoreHistory(Ee):fe instanceof Mt?this.restoreHistory(Ee,!0):fe instanceof un&&(this.lastSuccessfulId=fe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(fe,Ee){const Je=this.urlSerializer.serialize(fe);if(this.location.isCurrentPathEqualTo(Je)||Ee.extras.replaceUrl){const Yt={...Ee.extras.state,...this.generateNgRouterState(Ee.id,this.browserPageId)};this.location.replaceState(Je,"",Yt)}else{const ot={...Ee.extras.state,...this.generateNgRouterState(Ee.id,this.browserPageId+1)};this.location.go(Je,"",ot)}}restoreHistory(fe,Ee=!1){if("computed"===this.canceledNavigationResolution){const ot=this.currentPageId-this.browserPageId;0!==ot?this.location.historyGo(ot):this.currentUrlTree===fe.finalUrl&&0===ot&&(this.resetState(fe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ee&&this.resetState(fe),this.resetUrlToCurrentUrlTree())}resetState(fe){var Ee;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(Ee=fe.finalUrl)&&void 0!==Ee?Ee:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(fe,Ee){return"computed"===this.canceledNavigationResolution?{navigationId:fe,\u0275routerPageId:Ee}:{navigationId:fe}}}return(se=pe).\u0275fac=(()=>{let be;return function(Ee){return(be||(be=v.otF(se)))(Ee||se)}})(),se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})();var yo=function(se){return se[se.COMPLETE=0]="COMPLETE",se[se.FAILED=1]="FAILED",se[se.REDIRECTING=2]="REDIRECTING",se}(yo||{});function ei(se,pe){se.events.pipe((0,k.I)(be=>be instanceof un||be instanceof je||be instanceof Mt||be instanceof He),(0,m.k)(be=>be instanceof un||be instanceof He?yo.COMPLETE:be instanceof je&&(be.code===An.Redirect||be.code===An.SupersededByNewNavigation)?yo.REDIRECTING:yo.FAILED),(0,k.I)(be=>be!==yo.REDIRECTING),(0,b.U)(1)).subscribe(()=>{pe()})}function ii(se){throw se}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Co={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{var se;class pe{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var fe,Ee;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,v.uUt)(v.oPY),this.stateManager=(0,v.uUt)(eo),this.options=(0,v.uUt)(Gr,{optional:!0})||{},this.pendingTasks=(0,v.uUt)(v.g9Y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,v.uUt)(or),this.urlSerializer=(0,v.uUt)(Gt),this.location=(0,v.uUt)(s.oB),this.urlHandlingStrategy=(0,v.uUt)(De),this._events=new u.E,this.errorHandler=this.options.errorHandler||ii,this.navigated=!1,this.routeReuseStrategy=(0,v.uUt)(nr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(fe=null===(Ee=(0,v.uUt)(Mo,{optional:!0}))||void 0===Ee?void 0:Ee.flat())&&void 0!==fe?fe:[],this.componentInputBindingEnabled=!!(0,v.uUt)(po,{optional:!0}),this.eventsSubscription=new c.wH,this.isNgZoneEnabled=(0,v.uUt)(v.WW2)instanceof v.WW2&&v.WW2.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Je=>{this.console.warn(Je)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const fe=this.navigationTransitions.events.subscribe(Ee=>{try{const Je=this.navigationTransitions.currentTransition,ot=this.navigationTransitions.currentNavigation;if(null!==Je&&null!==ot)if(this.stateManager.handleRouterEvent(Ee,ot),Ee instanceof je&&Ee.code!==An.Redirect&&Ee.code!==An.SupersededByNewNavigation)this.navigated=!0;else if(Ee instanceof un)this.navigated=!0;else if(Ee instanceof Ar){const Yt=this.urlHandlingStrategy.merge(Ee.url,Je.currentRawUrl),wn={info:Je.extras.info,skipLocationChange:Je.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cr(Je.source)};this.scheduleNavigation(Yt,ft,null,wn,{resolve:Je.resolve,reject:Je.reject,promise:Je.promise})}(function bc(se){return!(se instanceof jr||se instanceof Ar)})(Ee)&&this._events.next(Ee)}catch(Je){this.navigationTransitions.transitionAbortSubject.next(Je)}});this.eventsSubscription.add(fe)}resetRootComponentType(fe){this.routerState.root.component=fe,this.navigationTransitions.rootComponentType=fe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ft,this.stateManager.restoredState())}setUpLocationChangeListener(){var fe;null!==(fe=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==fe||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((Ee,Je)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Ee,"popstate",Je)},0)}))}navigateToSyncWithBrowser(fe,Ee,Je){const ot={replaceUrl:!0},Yt=null!=Je&&Je.navigationId?Je:null;if(Je){const nn={...Je};delete nn.navigationId,delete nn.\u0275routerPageId,0!==Object.keys(nn).length&&(ot.state=nn)}const wn=this.parseUrl(fe);this.scheduleNavigation(wn,Ee,Yt,ot)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(fe){this.config=fe.map(li),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(fe,Ee={}){const{relativeTo:Je,queryParams:ot,fragment:Yt,queryParamsHandling:wn,preserveFragment:nn}=Ee,kn=nn?this.currentUrlTree.fragment:Yt;let qr,Jn=null;switch(wn){case"merge":Jn={...this.currentUrlTree.queryParams,...ot};break;case"preserve":Jn=this.currentUrlTree.queryParams;break;default:Jn=ot||null}null!==Jn&&(Jn=this.removeEmptyProps(Jn));try{qr=Se(Je?Je.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof fe[0]||!fe[0].startsWith("/"))&&(fe=[]),qr=this.currentUrlTree.root}return P(qr,fe,Jn,null!=kn?kn:null)}navigateByUrl(fe,Ee={skipLocationChange:!1}){const Je=G(fe)?fe:this.parseUrl(fe),ot=this.urlHandlingStrategy.merge(Je,this.rawUrlTree);return this.scheduleNavigation(ot,ft,null,Ee)}navigate(fe,Ee={skipLocationChange:!1}){return function ts(se){for(let pe=0;pe<se.length;pe++)if(null==se[pe])throw new v.OBp(4008,!1)}(fe),this.navigateByUrl(this.createUrlTree(fe,Ee),Ee)}serializeUrl(fe){return this.urlSerializer.serialize(fe)}parseUrl(fe){try{return this.urlSerializer.parse(fe)}catch{return this.urlSerializer.parse("/")}}isActive(fe,Ee){let Je;if(Je=!0===Ee?{...zr}:!1===Ee?{...Co}:Ee,G(fe))return on(this.currentUrlTree,fe,Je);const ot=this.parseUrl(fe);return on(this.currentUrlTree,ot,Je)}removeEmptyProps(fe){return Object.entries(fe).reduce((Ee,[Je,ot])=>(null!=ot&&(Ee[Je]=ot),Ee),{})}scheduleNavigation(fe,Ee,Je,ot,Yt){if(this.disposed)return Promise.resolve(!1);let wn,nn,kn;Yt?(wn=Yt.resolve,nn=Yt.reject,kn=Yt.promise):kn=new Promise((qr,Sr)=>{wn=qr,nn=Sr});const Jn=this.pendingTasks.add();return ei(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Jn))}),this.navigationTransitions.handleNavigationRequest({source:Ee,restoredState:Je,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:fe,extras:ot,resolve:wn,reject:nn,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(qr=>Promise.reject(qr))}}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})(),Cs=(()=>{var se;class pe{constructor(fe,Ee,Je,ot,Yt,wn){var nn;this.router=fe,this.route=Ee,this.tabIndexAttribute=Je,this.renderer=ot,this.el=Yt,this.locationStrategy=wn,this.href=null,this.commands=null,this.onChanges=new u.E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const kn=null===(nn=Yt.nativeElement.tagName)||void 0===nn?void 0:nn.toLowerCase();this.isAnchorElement="a"===kn||"area"===kn,this.isAnchorElement?this.subscription=fe.events.subscribe(Jn=>{Jn instanceof un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(fe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",fe)}ngOnChanges(fe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(fe){null!=fe?(this.commands=Array.isArray(fe)?fe:[fe],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(fe,Ee,Je,ot,Yt){const wn=this.urlTree;return!!(null===wn||this.isAnchorElement&&(0!==fe||Ee||Je||ot||Yt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(wn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var fe;null===(fe=this.subscription)||void 0===fe||fe.unsubscribe()}updateHref(){var fe;const Ee=this.urlTree;this.href=null!==Ee&&this.locationStrategy?null===(fe=this.locationStrategy)||void 0===fe?void 0:fe.prepareExternalUrl(this.router.serializeUrl(Ee)):null;const Je=null===this.href?null:(0,v.YFg)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Je)}applyAttributeValue(fe,Ee){const Je=this.renderer,ot=this.el.nativeElement;null!==Ee?Je.setAttribute(ot,fe,Ee):Je.removeAttribute(ot,fe)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(se=pe).\u0275fac=function(fe){return new(fe||se)(v.GI1(ir),v.GI1(lr),v.gJ8("tabindex"),v.GI1(v.q87),v.GI1(v.GMv),v.GI1(s.Qd))},se.\u0275dir=v.Sc5({type:se,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(fe,Ee){1&fe&&v.qCj("click",function(ot){return Ee.onClick(ot.button,ot.ctrlKey,ot.shiftKey,ot.altKey,ot.metaKey)}),2&fe&&v.e48("target",Ee.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[v.Wk5.HasDecoratorInputTransform,"preserveFragment","preserveFragment",v.cZD],skipLocationChange:[v.Wk5.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",v.cZD],replaceUrl:[v.Wk5.HasDecoratorInputTransform,"replaceUrl","replaceUrl",v.cZD],routerLink:"routerLink"},standalone:!0,features:[v.QJr,v.SYr]}),pe})();class Pa{}let Ss=(()=>{var se;class pe{preload(fe,Ee){return Ee().pipe(q(()=>(0,W.of)(null)))}}return(se=pe).\u0275fac=function(fe){return new(fe||se)},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})(),wc=(()=>{var se;class pe{constructor(fe,Ee,Je,ot,Yt){this.router=fe,this.injector=Je,this.preloadingStrategy=ot,this.loader=Yt}setUpPreloading(){this.subscription=this.router.events.pipe((0,k.I)(fe=>fe instanceof un),H(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(fe,Ee){const Je=[];for(const nn of Ee){var ot,Yt;nn.providers&&!nn._injector&&(nn._injector=(0,v.SIz)(nn.providers,fe,`Route: ${nn.path}`));const kn=null!==(ot=nn._injector)&&void 0!==ot?ot:fe,Jn=null!==(Yt=nn._loadedInjector)&&void 0!==Yt?Yt:kn;var wn;(nn.loadChildren&&!nn._loadedRoutes&&void 0===nn.canLoad||nn.loadComponent&&!nn._loadedComponent)&&Je.push(this.preloadConfig(kn,nn)),(nn.children||nn._loadedRoutes)&&Je.push(this.processRoutes(Jn,null!==(wn=nn.children)&&void 0!==wn?wn:nn._loadedRoutes))}return(0,o.Q)(Je).pipe((0,Ye.u)())}preloadConfig(fe,Ee){return this.preloadingStrategy.preload(Ee,()=>{let Je;Je=Ee.loadChildren&&void 0===Ee.canLoad?this.loader.loadChildren(fe,Ee):(0,W.of)(null);const ot=Je.pipe((0,A.O)(Yt=>{var wn;return null===Yt?(0,W.of)(void 0):(Ee._loadedRoutes=Yt.routes,Ee._loadedInjector=Yt.injector,this.processRoutes(null!==(wn=Yt.injector)&&void 0!==wn?wn:fe,Yt.routes))}));if(Ee.loadComponent&&!Ee._loadedComponent){const Yt=this.loader.loadComponent(Ee);return(0,o.Q)([ot,Yt]).pipe((0,Ye.u)())}return ot})}}return(se=pe).\u0275fac=function(fe){return new(fe||se)(v.CoB(ir),v.CoB(v.ESV),v.CoB(v.SIe),v.CoB(Pa),v.CoB(es))},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac,providedIn:"root"}),pe})();const gi=new v.UbH("");let Bi=(()=>{var se;class pe{constructor(fe,Ee,Je,ot,Yt={}){this.urlSerializer=fe,this.transitions=Ee,this.viewportScroller=Je,this.zone=ot,this.options=Yt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Yt.scrollPositionRestoration||(Yt.scrollPositionRestoration="disabled"),Yt.anchorScrolling||(Yt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(fe=>{fe instanceof $t?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=fe.navigationTrigger,this.restoredId=fe.restoredState?fe.restoredState.navigationId:0):fe instanceof un?(this.lastId=fe.id,this.scheduleScrollEvent(fe,this.urlSerializer.parse(fe.urlAfterRedirects).fragment)):fe instanceof He&&fe.code===At.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(fe,this.urlSerializer.parse(fe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(fe=>{fe instanceof Xn&&(fe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(fe.position):fe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(fe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(fe,Ee){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xn(fe,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ee))})},0)})}ngOnDestroy(){var fe,Ee;null===(fe=this.routerEventsSubscription)||void 0===fe||fe.unsubscribe(),null===(Ee=this.scrollEventsSubscription)||void 0===Ee||Ee.unsubscribe()}}return(se=pe).\u0275fac=function(fe){v.KEo()},se.\u0275prov=v.wxM({token:se,factory:se.\u0275fac}),pe})();function Zr(se,pe){return{\u0275kind:se,\u0275providers:pe}}function Ds(){const se=(0,v.uUt)(v.zZn);return pe=>{var be,fe;const Ee=se.get(v.Swk);if(pe!==Ee.components[0])return;const Je=se.get(ir),ot=se.get(Cc);1===se.get(Ms)&&Je.initialNavigation(),null===(be=se.get(Ai,null,v._6O.Optional))||void 0===be||be.setUpPreloading(),null===(fe=se.get(gi,null,v._6O.Optional))||void 0===fe||fe.init(),Je.resetRootComponentType(Ee.componentTypes[0]),ot.closed||(ot.next(),ot.complete(),ot.unsubscribe())}}const Cc=new v.UbH("",{factory:()=>new u.E}),Ms=new v.UbH("",{providedIn:"root",factory:()=>1}),Ai=new v.UbH("");function Mh(se){return Zr(0,[{provide:Ai,useExisting:wc},{provide:Pa,useExisting:se}])}function Dc(se){return Zr(9,[{provide:Ct,useValue:In},{provide:ln,useValue:{skipNextTransition:!(null==se||!se.skipInitialTransition),...se}}])}const La=new v.UbH("ROUTER_FORROOT_GUARD"),Is=[s.oB,{provide:Gt,useClass:rn},ir,Br,{provide:lr,useFactory:function Nl(se){return se.routerState.root},deps:[ir]},es,[]];let Ts=(()=>{var se;class pe{constructor(fe){}static forRoot(fe,Ee){return{ngModule:pe,providers:[Is,[],{provide:Mo,multi:!0,useValue:fe},{provide:La,useFactory:Fr,deps:[[ir,new v.T7N,new v.Qfh]]},{provide:Gr,useValue:Ee||{}},null!=Ee&&Ee.useHash?{provide:s.Qd,useClass:s.MP}:{provide:s.Qd,useClass:s.uC},{provide:gi,useFactory:()=>{const se=(0,v.uUt)(s.YZ),pe=(0,v.uUt)(v.WW2),be=(0,v.uUt)(Gr),fe=(0,v.uUt)(or),Ee=(0,v.uUt)(Gt);return be.scrollOffset&&se.setOffset(be.scrollOffset),new Bi(Ee,fe,se,pe,be)}},null!=Ee&&Ee.preloadingStrategy?Mh(Ee.preloadingStrategy).\u0275providers:[],null!=Ee&&Ee.initialNavigation?Th(Ee):[],null!=Ee&&Ee.bindToComponentInputs?Zr(8,[qo,{provide:po,useExisting:qo}]).\u0275providers:[],null!=Ee&&Ee.enableViewTransitions?Dc().\u0275providers:[],[{provide:rs,useFactory:Ds},{provide:v.qid,multi:!0,useExisting:rs}]]}}static forChild(fe){return{ngModule:pe,providers:[{provide:Mo,multi:!0,useValue:fe}]}}}return(se=pe).\u0275fac=function(fe){return new(fe||se)(v.CoB(La,8))},se.\u0275mod=v.a4G({type:se}),se.\u0275inj=v.s3X({}),pe})();function Fr(se){return"guarded"}function Th(se){return["disabled"===se.initialNavigation?Zr(3,[{provide:v.kZF,multi:!0,useFactory:()=>{const pe=(0,v.uUt)(ir);return()=>{pe.setUpLocationChangeListener()}}},{provide:Ms,useValue:2}]).\u0275providers:[],"enabledBlocking"===se.initialNavigation?Zr(2,[{provide:Ms,useValue:0},{provide:v.kZF,multi:!0,deps:[v.zZn],useFactory:pe=>{const be=pe.get(s.mQ,Promise.resolve());return()=>be.then(()=>new Promise(fe=>{const Ee=pe.get(ir),Je=pe.get(Cc);ei(Ee,()=>{fe(!0)}),pe.get(or).afterPreactivation=()=>(fe(!0),Je.closed?(0,W.of)(void 0):Je),Ee.initialNavigation()}))}}]).\u0275providers:[]]}const rs=new v.UbH("")},9240:(dn,Pt,he)=>{"use strict";he.d(Pt,{kh:()=>Pe,_U:()=>Ut,m2:()=>lt,Im:()=>F,Qz:()=>We,Ej:()=>Ue,sW:()=>ut,Cg:()=>Pn,CE:()=>ct,um:()=>mr,wX:()=>an,a6:()=>_t,gk:()=>yr,WU:()=>jt,g5:()=>oe,GY:()=>ae,uU:()=>Zt,Al:()=>Se,cl:()=>It,ag:()=>yn});var v=he(1528),we=he(4496),nt=he(3332),_e=he(1368);class o{constructor(){this.m=new Map}reset(ft){this.m=new Map(Object.entries(ft))}get(ft,$e){const at=this.m.get(ft);return void 0!==at?at:$e}getBoolean(ft,$e=!1){const at=this.m.get(ft);return void 0===at?$e:"string"==typeof at?"true"===at:!!at}getNumber(ft,$e){const at=parseFloat(this.m.get(ft));return isNaN(at)?void 0!==$e?$e:NaN:at}set(ft,$e){this.m.set(ft,$e)}}const W=new o,w=st=>l(st),l=(st=window)=>{if(typeof st>"u")return[];st.Ionic=st.Ionic||{};let ft=st.Ionic.platforms;return null==ft&&(ft=st.Ionic.platforms=d(st),ft.forEach($e=>st.document.documentElement.classList.add(`plt-${$e}`))),ft},d=st=>{const ft=W.get("platform");return Object.keys(H).filter($e=>{const at=null==ft?void 0:ft[$e];return"function"==typeof at?at(st):H[$e](st)})},c=st=>!!(V(st,/iPad/i)||V(st,/Macintosh/i)&&R(st)),p=st=>V(st,/android|sink/i),R=st=>Z(st,"(any-pointer:coarse)"),A=st=>$(st)||j(st),$=st=>!!(st.cordova||st.phonegap||st.PhoneGap),j=st=>{const ft=st.Capacitor;return!(null==ft||!ft.isNative)},V=(st,ft)=>ft.test(st.navigator.userAgent),Z=(st,ft)=>{var $e;return null===($e=st.matchMedia)||void 0===$e?void 0:$e.call(st,ft).matches},H={ipad:c,iphone:st=>V(st,/iPhone/i),ios:st=>V(st,/iPhone|iPod/i)||c(st),android:p,phablet:st=>{const ft=st.innerWidth,$e=st.innerHeight,at=Math.min(ft,$e),$t=Math.max(ft,$e);return at>390&&at<520&&$t>620&&$t<800},tablet:st=>{const ft=st.innerWidth,$e=st.innerHeight,at=Math.min(ft,$e),$t=Math.max(ft,$e);return c(st)||(st=>p(st)&&!V(st,/mobile/i))(st)||at>460&&at<820&&$t>780&&$t<1400},cordova:$,capacitor:j,electron:st=>V(st,/electron/i),pwa:st=>{var ft;return!!(null!==(ft=st.matchMedia)&&void 0!==ft&&ft.call(st,"(display-mode: standalone)").matches||st.navigator.standalone)},mobile:R,mobileweb:st=>R(st)&&!A(st),desktop:st=>!R(st),hybrid:A};var ne=he(1896),de=he(9248),xe=he(5657),K=he(800),L=he(6700),re=he(6040),ge=he(2700),Me=he(1316),Le=he(6684),Ye=he(7368),et=he(528),Oe=he(5448),Ge=he(7773);function Ae(st,ft){return st===ft}var Qe=he(4716);const Ke=["tabsInner"];let jt=(()=>{class st{constructor($e,at){this.doc=$e,this.backButton=new xe.E,this.keyboardDidShow=new xe.E,this.keyboardDidHide=new xe.E,this.pause=new xe.E,this.resume=new xe.E,this.resize=new xe.E,at.run(()=>{var $t;let un;this.win=$e.defaultView,this.backButton.subscribeWithPriority=function(An,At){return this.subscribe(je=>je.register(An,He=>at.run(()=>At(He))))},Rt(this.pause,$e,"pause",at),Rt(this.resume,$e,"resume",at),Rt(this.backButton,$e,"ionBackButton",at),Rt(this.resize,this.win,"resize",at),Rt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",at),Rt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",at),this._readyPromise=new Promise(An=>{un=An}),null!==($t=this.win)&&void 0!==$t&&$t.cordova?$e.addEventListener("deviceready",()=>{un("cordova")},{once:!0}):un("dom")})}is($e){return((st,ft)=>("string"==typeof st&&(ft=st,st=void 0),w(st).includes(ft)))(this.win,$e)}platforms(){return w(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam($e){return Ht(this.win.location.href,$e)}isLandscape(){return!this.isPortrait()}isPortrait(){var $e,at;return null===($e=(at=this.win).matchMedia)||void 0===$e?void 0:$e.call(at,"(orientation: portrait)").matches}testUserAgent($e){const at=this.win.navigator;return!!(null!=at&&at.userAgent&&at.userAgent.indexOf($e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return st.\u0275fac=function($e){return new($e||st)(we.CoB(_e.Ud),we.CoB(we.WW2))},st.\u0275prov=we.wxM({token:st,factory:st.\u0275fac,providedIn:"root"}),st})();const Ht=(st,ft)=>{ft=ft.replace(/[[\]\\]/g,"\\$&");const at=new RegExp("[\\?&]"+ft+"=([^&#]*)").exec(st);return at?decodeURIComponent(at[1].replace(/\+/g," ")):null},Rt=(st,ft,$e,at)=>{ft&&ft.addEventListener($e,$t=>{at.run(()=>{st.next(null!=$t?$t.detail:void 0)})})};let an=(()=>{class st{constructor($e,at,$t,un){this.location=at,this.serializer=$t,this.router=un,this.direction=fn,this.animated=zt,this.guessDirection="forward",this.lastNavId=-1,un&&un.events.subscribe(An=>{if(An instanceof nt.Qx){const At=An.restoredState?An.restoredState.navigationId:An.id;this.guessDirection=At<this.lastNavId?"back":"forward",this.guessAnimation=An.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?An.id:At}}),$e.backButton.subscribeWithPriority(0,An=>{this.pop(),An()})}navigateForward($e,at={}){return this.setDirection("forward",at.animated,at.animationDirection,at.animation),this.navigate($e,at)}navigateBack($e,at={}){return this.setDirection("back",at.animated,at.animationDirection,at.animation),this.navigate($e,at)}navigateRoot($e,at={}){return this.setDirection("root",at.animated,at.animationDirection,at.animation),this.navigate($e,at)}back($e={animated:!0,animationDirection:"back"}){return this.setDirection("back",$e.animated,$e.animationDirection,$e.animation),this.location.back()}pop(){var $e=this;return(0,v.c)(function*(){let at=$e.topOutlet;for(;at;){if(yield at.pop())return!0;at=at.parentOutlet}return!1})()}setDirection($e,at,$t,un){this.direction=$e,this.animated=on($e,at,$t),this.animationBuilder=un}setTopOutlet($e){this.topOutlet=$e}consumeTransition(){let at,$e="root";const $t=this.animationBuilder;return"auto"===this.direction?($e=this.guessDirection,at=this.guessAnimation):(at=this.animated,$e=this.direction),this.direction=fn,this.animated=zt,this.animationBuilder=void 0,{direction:$e,animation:at,animationBuilder:$t}}navigate($e,at){if(Array.isArray($e))return this.router.navigate($e,at);{const $t=this.serializer.parse($e.toString());return void 0!==at.queryParams&&($t.queryParams={...at.queryParams}),void 0!==at.fragment&&($t.fragment=at.fragment),this.router.navigateByUrl($t,at)}}}return st.\u0275fac=function($e){return new($e||st)(we.CoB(jt),we.CoB(_e.oB),we.CoB(nt.qd),we.CoB(nt.E5,8))},st.\u0275prov=we.wxM({token:st,factory:st.\u0275fac,providedIn:"root"}),st})();const on=(st,ft,$e)=>{if(!1!==ft){if(void 0!==$e)return $e;if("forward"===st||"back"===st)return st;if("root"===st&&!0===ft)return"forward"}},fn="auto",zt=void 0;let Ut=(()=>{class st{get($e,at){const $t=Nt();return $t?$t.get($e,at):null}getBoolean($e,at){const $t=Nt();return!!$t&&$t.getBoolean($e,at)}getNumber($e,at){const $t=Nt();return $t?$t.getNumber($e,at):0}}return st.\u0275fac=function($e){return new($e||st)},st.\u0275prov=we.wxM({token:st,factory:st.\u0275fac,providedIn:"root"}),st})();const lt=new we.UbH("USERCONFIG"),Nt=()=>{if(typeof window<"u"){const st=window.Ionic;if(null!=st&&st.config)return st.config}return null};class _t{constructor(ft={}){this.data=ft}get(ft){return this.data[ft]}}let Pe=(()=>{class st{constructor(){this.zone=(0,we.uUt)(we.WW2),this.applicationRef=(0,we.uUt)(we.Swk)}create($e,at,$t){return new Fe($e,at,this.applicationRef,this.zone,$t)}}return st.\u0275fac=function($e){return new($e||st)},st.\u0275prov=we.wxM({token:st,factory:st.\u0275fac}),st})();class Fe{constructor(ft,$e,at,$t,un){this.environmentInjector=ft,this.injector=$e,this.applicationRef=at,this.zone=$t,this.elementReferenceKey=un,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ft,$e,at,$t){return this.zone.run(()=>new Promise(un=>{const An={...at};void 0!==this.elementReferenceKey&&(An[this.elementReferenceKey]=ft),un(Ie(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ft,$e,An,$t,this.elementReferenceKey))}))}removeViewFromDom(ft,$e){return this.zone.run(()=>new Promise(at=>{const $t=this.elRefMap.get($e);if($t){$t.destroy(),this.elRefMap.delete($e);const un=this.elEventsMap.get($e);un&&(un(),this.elEventsMap.delete($e))}at()}))}}const Ie=(st,ft,$e,at,$t,un,An,At,je,He,Mt)=>{const kt=we.zZn.create({providers:Gt(je),parent:$e}),Wt=(0,we.kdu)(At,{environmentInjector:ft,elementInjector:kt}),ie=Wt.instance,Re=Wt.location.nativeElement;if(je&&(Mt&&void 0!==ie[Mt]&&console.error(`[Ionic Error]: ${Mt} is a reserved property when using ${An.tagName.toLowerCase()}. Rename or remove the "${Mt}" property from ${At.name}.`),Object.assign(ie,je)),He)for(const Ve of He)Re.classList.add(Ve);const ve=wt(st,ie,Re);return An.appendChild(Re),at.attachView(Wt.hostView),$t.set(Re,Wt),un.set(Re,ve),Re},Ze=[ne.L,ne.a,ne.b,ne.c,ne.d],wt=(st,ft,$e)=>st.run(()=>{const at=Ze.filter($t=>"function"==typeof ft[$t]).map($t=>{const un=An=>ft[$t](An.detail);return $e.addEventListener($t,un),()=>$e.removeEventListener($t,un)});return()=>at.forEach($t=>$t())}),Dt=new we.UbH("NavParamsToken"),Gt=st=>[{provide:Dt,useValue:st},{provide:_t,useFactory:rn,deps:[Dt]}],rn=st=>new _t(st),bn=(st,ft)=>{const $e=st.prototype;ft.forEach(at=>{Object.defineProperty($e,at,{get(){return this.el[at]},set($t){this.z.runOutsideAngular(()=>this.el[at]=$t)}})})},_n=(st,ft)=>{const $e=st.prototype;ft.forEach(at=>{$e[at]=function(){const $t=arguments;return this.z.runOutsideAngular(()=>this.el[at].apply(this.el,$t))}})},St=(st,ft,$e)=>{$e.forEach(at=>st[at]=(0,K.w)(ft,at))};function Et(st){return function($e){const{defineCustomElementFn:at,inputs:$t,methods:un}=st;return void 0!==at&&at(),$t&&bn($e,$t),un&&_n($e,un),$e}}const it=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],ze=["present","dismiss","onDidDismiss","onWillDismiss"];let ut=(()=>{let st=class{constructor($e,at,$t){this.z=$t,this.isCmpOpen=!1,this.el=at.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,$e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,$e.detectChanges()}),St(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return st.\u0275fac=function($e){return new($e||st)(we.GI1(we.kD9),we.GI1(we.GMv),we.GI1(we.WW2))},st.\u0275dir=we.Sc5({type:st,selectors:[["ion-popover"]],contentQueries:function($e,at,$t){if(1&$e&&we.szK($t,we.Yw2,5),2&$e){let un;we.wto(un=we.Gqi())&&(at.template=un.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),st=(0,Me.UN)([Et({inputs:it,methods:ze})],st),st})();const xt=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],en=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let We=(()=>{let st=class{constructor($e,at,$t){this.z=$t,this.isCmpOpen=!1,this.el=at.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,$e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,$e.detectChanges()}),St(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return st.\u0275fac=function($e){return new($e||st)(we.GI1(we.kD9),we.GI1(we.GMv),we.GI1(we.WW2))},st.\u0275dir=we.Sc5({type:st,selectors:[["ion-modal"]],contentQueries:function($e,at,$t){if(1&$e&&we.szK($t,we.Yw2,5),2&$e){let un;we.wto(un=we.Gqi())&&(at.template=un.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),st=(0,Me.UN)([Et({inputs:xt,methods:en})],st),st})();const Lt=(st,ft)=>((st=st.filter($e=>$e.stackId!==ft.stackId)).push(ft),st),cn=(st,ft)=>{const $e=st.createUrlTree(["."],{relativeTo:ft});return st.serializeUrl($e)},gn=(st,ft)=>!ft||st.stackId!==ft.stackId,xn=(st,ft)=>{if(!st)return;const $e=Sn(ft);for(let at=0;at<$e.length;at++){if(at>=st.length)return $e[at];if($e[at]!==st[at])return}},Sn=st=>st.split("/").map(ft=>ft.trim()).filter(ft=>""!==ft),Cn=st=>{st&&(st.ref.destroy(),st.unlistenEvents())};class Zn{constructor(ft,$e,at,$t,un,An){this.containerEl=$e,this.router=at,this.navCtrl=$t,this.zone=un,this.location=An,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ft?Sn(ft):void 0}createView(ft,$e){var at;const $t=cn(this.router,$e),un=null==ft||null===(at=ft.location)||void 0===at?void 0:at.nativeElement,An=wt(this.zone,ft.instance,un);return{id:this.nextId++,stackId:xn(this.tabsPrefix,$t),unlistenEvents:An,element:un,ref:ft,url:$t}}getExistingView(ft){const $e=cn(this.router,ft),at=this.views.find($t=>$t.url===$e);return at&&at.ref.changeDetectorRef.reattach(),at}setActive(ft){var $e,at;const $t=this.navCtrl.consumeTransition();let{direction:un,animation:An,animationBuilder:At}=$t;const je=this.activeView,He=gn(ft,je);He&&(un="back",An=void 0);const Mt=this.views.slice();let kt;const Wt=this.router;Wt.getCurrentNavigation?kt=Wt.getCurrentNavigation():null!==($e=Wt.navigations)&&void 0!==$e&&$e.value&&(kt=Wt.navigations.value),null!==(at=kt)&&void 0!==at&&null!==(at=at.extras)&&void 0!==at&&at.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ie=this.views.includes(ft),Re=this.insertView(ft,un);ie||ft.ref.changeDetectorRef.detectChanges();const ve=ft.animationBuilder;return void 0===At&&"back"===un&&!He&&void 0!==ve&&(At=ve),je&&(je.animationBuilder=At),this.zone.runOutsideAngular(()=>this.wait(()=>(je&&je.ref.changeDetectorRef.detach(),ft.ref.changeDetectorRef.reattach(),this.transition(ft,je,An,this.canGoBack(1),!1,At).then(()=>tr(ft,Re,Mt,this.location,this.zone)).then(()=>({enteringView:ft,direction:un,animation:An,tabSwitch:He})))))}canGoBack(ft,$e=this.getActiveStackId()){return this.getStack($e).length>ft}pop(ft,$e=this.getActiveStackId()){return this.zone.run(()=>{const at=this.getStack($e);if(at.length<=ft)return Promise.resolve(!1);const $t=at[at.length-ft-1];let un=$t.url;const An=$t.savedData;if(An){var At;const He=An.get("primary");null!=He&&null!==(At=He.route)&&void 0!==At&&null!==(At=At._routerState)&&void 0!==At&&At.snapshot.url&&(un=He.route._routerState.snapshot.url)}const{animationBuilder:je}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(un,{...$t.savedExtras,animation:je}).then(()=>!0)})}startBackTransition(){const ft=this.activeView;if(ft){const $e=this.getStack(ft.stackId),at=$e[$e.length-2],$t=at.animationBuilder;return this.wait(()=>this.transition(at,ft,"back",this.canGoBack(2),!0,$t))}return Promise.resolve()}endBackTransition(ft){ft?(this.skipTransition=!0,this.pop(1)):this.activeView&&ar(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ft){const $e=this.getStack(ft);return $e.length>0?$e[$e.length-1]:void 0}getRootUrl(ft){const $e=this.getStack(ft);return $e.length>0?$e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Cn),this.activeView=void 0,this.views=[]}getStack(ft){return this.views.filter($e=>$e.stackId===ft)}insertView(ft,$e){return this.activeView=ft,this.views=((st,ft,$e)=>"root"===$e?Lt(st,ft):"forward"===$e?((st,ft)=>(st.indexOf(ft)>=0?st=st.filter(at=>at.stackId!==ft.stackId||at.id<=ft.id):st.push(ft),st))(st,ft):((st,ft)=>st.indexOf(ft)>=0?st.filter(at=>at.stackId!==ft.stackId||at.id<=ft.id):Lt(st,ft))(st,ft))(this.views,ft,$e),this.views.slice()}transition(ft,$e,at,$t,un,An){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if($e===ft)return Promise.resolve(!1);const At=ft?ft.element:void 0,je=$e?$e.element:void 0,He=this.containerEl;return At&&At!==je&&(At.classList.add("ion-page"),At.classList.add("ion-page-invisible"),At.parentElement!==He&&He.appendChild(At),He.commit)?He.commit(At,je,{duration:void 0===at?0:void 0,direction:at,showGoBack:$t,progressAnimation:un,animationBuilder:An}):Promise.resolve(!1)}wait(ft){var $e=this;return(0,v.c)(function*(){void 0!==$e.runningTask&&(yield $e.runningTask,$e.runningTask=void 0);const at=$e.runningTask=ft();return at.finally(()=>$e.runningTask=void 0),at})()}}const tr=(st,ft,$e,at,$t)=>"function"==typeof requestAnimationFrame?new Promise(un=>{requestAnimationFrame(()=>{ar(st,ft,$e,at,$t),un()})}):Promise.resolve(),ar=(st,ft,$e,at,$t)=>{$t.run(()=>$e.filter(un=>!ft.includes(un)).forEach(Cn)),ft.forEach(un=>{const At=at.path().split("?")[0].split("#")[0];if(un!==st&&un.url!==At){const je=un.element;je.setAttribute("aria-hidden","true"),je.classList.add("ion-page-hidden"),un.ref.changeDetectorRef.detach()}})};let Pn=(()=>{class st{constructor($e,at,$t,un,An,At,je,He){this.parentOutlet=He,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new L.g(null),this.activated=null,this._activatedRoute=null,this.name=nt.gf,this.stackWillChange=new we._w7,this.stackDidChange=new we._w7,this.activateEvents=new we._w7,this.deactivateEvents=new we._w7,this.parentContexts=(0,we.uUt)(nt.O4),this.location=(0,we.uUt)(we.y8U),this.environmentInjector=(0,we.uUt)(we.SIe),this.inputBinder=(0,we.uUt)(G,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,we.uUt)(Ut),this.navCtrl=(0,we.uUt)(an),this.nativeEl=un.nativeElement,this.name=$e||nt.gf,this.tabsPrefix="true"===at?cn(An,je):void 0,this.stackCtrl=new Zn(this.tabsPrefix,this.nativeEl,An,this.navCtrl,At,$t),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation($e){this.nativeEl.animation=$e}set animated($e){this.nativeEl.animated=$e}set swipeGesture($e){this._swipeGesture=$e,this.nativeEl.swipeHandler=$e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:at=>this.stackCtrl.endBackTransition(at)}:void 0}ngOnDestroy(){var $e;this.stackCtrl.destroy(),null===($e=this.inputBinder)||void 0===$e||$e.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const $e=this.getContext();null!=$e&&$e.route&&this.activateWith($e.route,$e.injector)}new Promise($e=>(0,de.c)(this.nativeEl,$e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach($e,at){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const at=this.getContext();this.activatedView.savedData=new Map(at.children.contexts);const $t=this.activatedView.savedData.get("primary");if($t&&at.route&&($t.route={...at.route}),this.activatedView.savedExtras={},at.route){const un=at.route.snapshot;this.activatedView.savedExtras.queryParams=un.queryParams,this.activatedView.savedExtras.fragment=un.fragment}}const $e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit($e)}}activateWith($e,at){var $t;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=$e;let un,An=this.stackCtrl.getExistingView($e);if(An){un=this.activated=An.ref;const He=An.savedData;He&&(this.getContext().children.contexts=He),this.updateActivatedRouteProxy(un.instance,$e)}else{var At;const He=$e._futureSnapshot,Mt=this.parentContexts.getOrCreateContext(this.name).children,kt=new L.g(null),Wt=this.createActivatedRouteProxy(kt,$e),ie=new Hn(Wt,Mt,this.location.injector),Re=null!==(At=He.routeConfig.component)&&void 0!==At?At:He.component;un=this.activated=this.location.createComponent(Re,{index:this.location.length,injector:ie,environmentInjector:null!=at?at:this.environmentInjector}),kt.next(un.instance),An=this.stackCtrl.createView(this.activated,$e),this.proxyMap.set(un.instance,Wt),this.currentActivatedRoute$.next({component:un.instance,activatedRoute:$e})}null===($t=this.inputBinder)||void 0===$t||$t.bindActivatedRouteToOutletComponent(this),this.activatedView=An,this.navCtrl.setTopOutlet(this);const je=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:An,tabSwitch:gn(An,je)}),this.stackCtrl.setActive(An).then(He=>{this.activateEvents.emit(un.instance),this.stackDidChange.emit(He)})}canGoBack($e=1,at){return this.stackCtrl.canGoBack($e,at)}pop($e=1,at){return this.stackCtrl.pop($e,at)}getLastUrl($e){const at=this.stackCtrl.getLastUrl($e);return at?at.url:void 0}getLastRouteView($e){return this.stackCtrl.getLastUrl($e)}getRootView($e){return this.stackCtrl.getRootUrl($e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy($e,at){const $t=new nt.gV;return $t._futureSnapshot=at._futureSnapshot,$t._routerState=at._routerState,$t.snapshot=at.snapshot,$t.outlet=at.outlet,$t.component=at.component,$t._paramMap=this.proxyObservable($e,"paramMap"),$t._queryParamMap=this.proxyObservable($e,"queryParamMap"),$t.url=this.proxyObservable($e,"url"),$t.params=this.proxyObservable($e,"params"),$t.queryParams=this.proxyObservable($e,"queryParams"),$t.fragment=this.proxyObservable($e,"fragment"),$t.data=this.proxyObservable($e,"data"),$t}proxyObservable($e,at){return $e.pipe((0,Le.I)($t=>!!$t),(0,Ye.G)($t=>this.currentActivatedRoute$.pipe((0,Le.I)(un=>null!==un&&un.component===$t),(0,Ye.G)(un=>un&&un.activatedRoute[at]),function Be(st,ft=et.Z){return st=null!=st?st:Ae,(0,Oe.i)(($e,at)=>{let $t,un=!0;$e.subscribe((0,Ge.e)(at,An=>{const At=ft(An);(un||!st($t,At))&&(un=!1,$t=At,at.next(An))}))})}())))}updateActivatedRouteProxy($e,at){const $t=this.proxyMap.get($e);if(!$t)throw new Error("Could not find activated route proxy for view");$t._futureSnapshot=at._futureSnapshot,$t._routerState=at._routerState,$t.snapshot=at.snapshot,$t.outlet=at.outlet,$t.component=at.component,this.currentActivatedRoute$.next({component:$e,activatedRoute:at})}}return st.\u0275fac=function($e){return new($e||st)(we.gJ8("name"),we.gJ8("tabs"),we.GI1(_e.oB),we.GI1(we.GMv),we.GI1(nt.E5),we.GI1(we.WW2),we.GI1(nt.gV),we.GI1(st,12))},st.\u0275dir=we.Sc5({type:st,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),st})();class Hn{constructor(ft,$e,at){this.route=ft,this.childContexts=$e,this.parent=at}get(ft,$e){return ft===nt.gV?this.route:ft===nt.O4?this.childContexts:this.parent.get(ft,$e)}}const G=new we.UbH("");let me=(()=>{class st{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent($e){this.unsubscribeFromRouteData($e),this.subscribeToRouteData($e)}unsubscribeFromRouteData($e){var at;null===(at=this.outletDataSubscriptions.get($e))||void 0===at||at.unsubscribe(),this.outletDataSubscriptions.delete($e)}subscribeToRouteData($e){const{activatedRoute:at}=$e,$t=(0,re.E)([at.queryParams,at.params,at.data]).pipe((0,Ye.G)(([un,An,At],je)=>(At={...un,...An,...At},0===je?(0,ge.of)(At):Promise.resolve(At)))).subscribe(un=>{if(!$e.isActivated||!$e.activatedComponentRef||$e.activatedRoute!==at||null===at.component)return void this.unsubscribeFromRouteData($e);const An=(0,we.o9M)(at.component);if(An)for(const{templateName:At}of An.inputs)$e.activatedComponentRef.setInput(At,un[At]);else this.unsubscribeFromRouteData($e)});this.outletDataSubscriptions.set($e,$t)}}return st.\u0275fac=function($e){return new($e||st)},st.\u0275prov=we.wxM({token:st,factory:st.\u0275fac}),st})();const Se=()=>({provide:G,useFactory:P,deps:[nt.E5]});function P(st){return null!=st&&st.componentInputBindingEnabled?new me:null}const z=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let F=(()=>{let st=class{constructor($e,at,$t,un,An,At){this.routerOutlet=$e,this.navCtrl=at,this.config=$t,this.r=un,this.z=An,At.detach(),this.el=this.r.nativeElement}onClick($e){var at;const $t=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(at=this.routerOutlet)&&void 0!==at&&at.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),$e.preventDefault()):null!=$t&&(this.navCtrl.navigateBack($t,{animation:this.routerAnimation}),$e.preventDefault())}};return st.\u0275fac=function($e){return new($e||st)(we.GI1(Pn,8),we.GI1(an),we.GI1(Ut),we.GI1(we.GMv),we.GI1(we.WW2),we.GI1(we.kD9))},st.\u0275dir=we.Sc5({type:st,hostBindings:function($e,at){1&$e&&we.qCj("click",function(un){return at.onClick(un)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),st=(0,Me.UN)([Et({inputs:z})],st),st})(),oe=(()=>{class st{constructor($e,at,$t,un,An){this.locationStrategy=$e,this.navCtrl=at,this.elementRef=$t,this.router=un,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var $e;if(null!==($e=this.routerLink)&&void 0!==$e&&$e.urlTree){const at=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=at}}onClick($e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),$e.preventDefault()}}return st.\u0275fac=function($e){return new($e||st)(we.GI1(_e.Qd),we.GI1(an),we.GI1(we.GMv),we.GI1(nt.E5),we.GI1(nt.ER,8))},st.\u0275dir=we.Sc5({type:st,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function($e,at){1&$e&&we.qCj("click",function(un){return at.onClick(un)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[we.SYr]}),st})(),ae=(()=>{class st{constructor($e,at,$t,un,An){this.locationStrategy=$e,this.navCtrl=at,this.elementRef=$t,this.router=un,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var $e;if(null!==($e=this.routerLink)&&void 0!==$e&&$e.urlTree){const at=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=at}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return st.\u0275fac=function($e){return new($e||st)(we.GI1(_e.Qd),we.GI1(an),we.GI1(we.GMv),we.GI1(nt.E5),we.GI1(nt.ER,8))},st.\u0275dir=we.Sc5({type:st,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function($e,at){1&$e&&we.qCj("click",function(){return at.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[we.SYr]}),st})();const ee=["animated","animation","root","rootParams","swipeGesture"],ye=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Ue=(()=>{let st=class{constructor($e,at,$t,un,An,At){this.z=An,At.detach(),this.el=$e.nativeElement,$e.nativeElement.delegate=un.create(at,$t),St(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return st.\u0275fac=function($e){return new($e||st)(we.GI1(we.GMv),we.GI1(we.SIe),we.GI1(we.zZn),we.GI1(Pe),we.GI1(we.WW2),we.GI1(we.kD9))},st.\u0275dir=we.Sc5({type:st,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),st=(0,Me.UN)([Et({inputs:ee,methods:ye})],st),st})(),ct=(()=>{class st{constructor($e){this.navCtrl=$e,this.ionTabsWillChange=new we._w7,this.ionTabsDidChange=new we._w7,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:$e,tabSwitch:at}){const $t=$e.stackId;at&&void 0!==$t&&this.ionTabsWillChange.emit({tab:$t})}onStackDidChange({enteringView:$e,tabSwitch:at}){const $t=$e.stackId;at&&void 0!==$t&&(this.tabBar&&(this.tabBar.selectedTab=$t),this.ionTabsDidChange.emit({tab:$t}))}select($e){const at="string"==typeof $e,$t=at?$e:$e.detail.tab,un=this.outlet.getActiveStackId()===$t,An=`${this.outlet.tabsPrefix}/${$t}`;if(at||$e.stopPropagation(),un){const At=this.outlet.getActiveStackId(),je=this.outlet.getLastRouteView(At);if((null==je?void 0:je.url)===An)return;const He=this.outlet.getRootView($t);return this.navCtrl.navigateRoot(An,{...He&&An===He.url&&He.savedExtras,animated:!0,animationDirection:"back"})}{const At=this.outlet.getLastRouteView($t);return this.navCtrl.navigateRoot((null==At?void 0:At.url)||An,{...null==At?void 0:At.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach($e=>{const at=$e.el.getAttribute("slot");at!==this.tabBarSlot&&(this.tabBarSlot=at,this.relocateTabBar())})}relocateTabBar(){const $e=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before($e):this.tabsInner.nativeElement.after($e)}}return st.\u0275fac=function($e){return new($e||st)(we.GI1(an))},st.\u0275dir=we.Sc5({type:st,selectors:[["ion-tabs"]],viewQuery:function($e,at){if(1&$e&&we.CC$(Ke,7,we.GMv),2&$e){let $t;we.wto($t=we.Gqi())&&(at.tabsInner=$t.first)}},hostBindings:function($e,at){1&$e&&we.qCj("ionTabButtonClick",function(un){return at.select(un)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),st})();const It=st=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(st):"function"==typeof requestAnimationFrame?requestAnimationFrame(st):setTimeout(st);let Zt=(()=>{class st{constructor($e,at){this.injector=$e,this.elementRef=at,this.onChange=()=>{},this.onTouched=()=>{}}writeValue($e){this.elementRef.nativeElement.value=this.lastValue=$e,yn(this.elementRef)}handleValueChange($e,at){$e===this.elementRef.nativeElement&&(at!==this.lastValue&&(this.lastValue=at,this.onChange(at)),yn(this.elementRef))}_handleBlurEvent($e){$e===this.elementRef.nativeElement&&(this.onTouched(),yn(this.elementRef))}registerOnChange($e){this.onChange=$e}registerOnTouched($e){this.onTouched=$e}setDisabledState($e){this.elementRef.nativeElement.disabled=$e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let $e;try{$e=this.injector.get(Qe.eq)}catch{}if(!$e)return;$e.statusChanges&&(this.statusChanges=$e.statusChanges.subscribe(()=>yn(this.elementRef)));const at=$e.control;at&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(un=>{if(typeof at[un]<"u"){const An=at[un].bind(at);at[un]=(...At)=>{An(...At),yn(this.elementRef)}}})}}return st.\u0275fac=function($e){return new($e||st)(we.GI1(we.zZn),we.GI1(we.GMv))},st.\u0275dir=we.Sc5({type:st,hostBindings:function($e,at){1&$e&&we.qCj("ionBlur",function(un){return at._handleBlurEvent(un.target)})}}),st})();const yn=st=>{It(()=>{const ft=st.nativeElement,$e=null!=ft.value&&ft.value.toString().length>0,at=En(ft);Rn(ft,at);const $t=ft.closest("ion-item");$t&&Rn($t,$e?[...at,"item-has-value"]:at)})},En=st=>{const ft=st.classList,$e=[];for(let at=0;at<ft.length;at++){const $t=ft.item(at);null!==$t&&Wn($t,"ng-")&&$e.push(`ion-${$t.substring(3)}`)}return $e},Rn=(st,ft)=>{const $e=st.classList;$e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),$e.add(...ft)},Wn=(st,ft)=>st.substring(0,ft.length)===ft;class mr{shouldDetach(ft){return!1}shouldAttach(ft){return!1}store(ft,$e){}retrieve(ft){return null}shouldReuseRoute(ft,$e){if(ft.routeConfig!==$e.routeConfig)return!1;const at=ft.params,$t=$e.params,un=Object.keys(at),An=Object.keys($t);if(un.length!==An.length)return!1;for(const At of un)if($t[At]!==at[At])return!1;return!0}}class yr{constructor(ft){this.ctrl=ft}create(ft){return this.ctrl.create(ft||{})}dismiss(ft,$e,at){return this.ctrl.dismiss(ft,$e,at)}getTop(){return this.ctrl.getTop()}}},5624:(dn,Pt,he)=>{"use strict";he.d(Pt,{iW:()=>yr,UJ:()=>p,cm:()=>D,qU:()=>V,qk:()=>Q,O7:()=>Y,Im:()=>ye,Gi:()=>ne,sn:()=>K,GS:()=>L,ew:()=>et,cz:()=>Oe,Kk:()=>Ge,_i:()=>Be,on:()=>Ae,eV:()=>yt,YP:()=>jt,wB:()=>Ht,Ko:()=>Rt,A5:()=>zt,Yb:()=>Ut,S8:()=>lt,QR:()=>Ie,OC:()=>Ze,zz:()=>wt,W9:()=>mr,yc:()=>Zt,sW:()=>yn,CS:()=>ze,ue:()=>ut,Cg:()=>ae,qo:()=>Vt,Cy:()=>Sn,gd:()=>Cn,mx:()=>Pn,ej:()=>Hn,CE:()=>ee,tM:()=>P,E$:()=>F,Md:()=>oe,wZ:()=>Wt,Kg:()=>at,qS:()=>un,Ch:()=>b,Gv:()=>O,IT:()=>N,qG:()=>R});var v=he(4496),we=he(4716),nt=he(9240),_e=he(1316),o=he(800),W=he(1368),C=he(3332),y=he(4708),h=he(1528),f=he(3716);const w=he(1780).i,a=function(){var ie=(0,h.c)(function*(Re,ve){if(!(typeof window>"u"))return yield w(),(0,f.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ve)});return function(ve,Ve){return ie.apply(this,arguments)}}(),l=["*"],d=["outlet"],u=[[["","slot","top"]],"*"],c=["[slot=top]","*"];function s(ie,Re){if(1&ie&&(v.I0R(0,"div",1),v.C_f(1,2),v.C$Y()),2&ie){const ve=v.GaO();v.yG2(),v.E7m("ngTemplateOutlet",ve.template)}}function m(ie,Re){if(1&ie&&v.C_f(0,1),2&ie){const ve=v.GaO();v.E7m("ngTemplateOutlet",ve.template)}}let p=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}writeValue(ve){this.elementRef.nativeElement.checked=this.lastValue=ve,(0,nt.ag)(this.elementRef)}_handleIonChange(ve){this.handleValueChange(ve,ve.checked)}}return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.zZn),v.GI1(v.GMv))},ie.\u0275dir=v.Sc5({type:ie,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(ve,Ve){1&ve&&v.qCj("ionChange",function(Kt){return Ve._handleIonChange(Kt.target)})},features:[v.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),v.eg9]}),ie})(),b=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}handleInputEvent(ve){this.handleValueChange(ve,ve.value)}registerOnChange(ve){super.registerOnChange(Ve=>{ve(""===Ve?null:parseFloat(Ve))})}}return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.zZn),v.GI1(v.GMv))},ie.\u0275dir=v.Sc5({type:ie,selectors:[["ion-input","type","number"]],hostBindings:function(ve,Ve){1&ve&&v.qCj("ionInput",function(Kt){return Ve.handleInputEvent(Kt.target)})},features:[v.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),v.eg9]}),ie})(),O=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}_handleIonSelect(ve){this.handleValueChange(ve,ve.checked)}}return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.zZn),v.GI1(v.GMv))},ie.\u0275dir=v.Sc5({type:ie,selectors:[["ion-radio"]],hostBindings:function(ve,Ve){1&ve&&v.qCj("ionSelect",function(Kt){return Ve._handleIonSelect(Kt.target)})},features:[v.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),v.eg9]}),ie})(),N=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}_handleChangeEvent(ve){this.handleValueChange(ve,ve.value)}}return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.zZn),v.GI1(v.GMv))},ie.\u0275dir=v.Sc5({type:ie,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(ve,Ve){1&ve&&v.qCj("ionChange",function(Kt){return Ve._handleChangeEvent(Kt.target)})},features:[v.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),v.eg9]}),ie})(),R=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}_handleInputEvent(ve){this.handleValueChange(ve,ve.value)}}return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.zZn),v.GI1(v.GMv))},ie.\u0275dir=v.Sc5({type:ie,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(ve,Ve){1&ve&&v.qCj("ionInput",function(Kt){return Ve._handleInputEvent(Kt.target)})},features:[v.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),v.eg9]}),ie})();const k=(ie,Re)=>{const ve=ie.prototype;Re.forEach(Ve=>{Object.defineProperty(ve,Ve,{get(){return this.el[Ve]},set(pt){this.z.runOutsideAngular(()=>this.el[Ve]=pt)},configurable:!0})})},A=(ie,Re)=>{const ve=ie.prototype;Re.forEach(Ve=>{ve[Ve]=function(){const pt=arguments;return this.z.runOutsideAngular(()=>this.el[Ve].apply(this.el,pt))}})},$=(ie,Re,ve)=>{ve.forEach(Ve=>ie[Ve]=(0,o.w)(Re,Ve))};function S(ie){return function(ve){const{defineCustomElementFn:Ve,inputs:pt,methods:Kt}=ie;return void 0!==Ve&&Ve(),pt&&k(ve,pt),Kt&&A(ve,Kt),ve}}let D=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],ie),ie})(),V=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionChange"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],ie),ie})(),Q=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-app"]],ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({})],ie),ie})(),Y=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-avatar"]],ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({})],ie),ie})(),ne=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","mode"]})],ie),ie})(),K=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],ie),ie})(),L=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["collapse"]})],ie),ie})(),et=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionChange","ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],ie),ie})(),Oe=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","disabled","mode","outline"]})],ie),ie})(),Ge=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],ie),ie})(),Be=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],ie),ie})(),Ae=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],ie),ie})(),yt=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["collapse","mode","translucent"]})],ie),ie})(),jt=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["fixed"]})],ie),ie})(),Ht=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["collapse","mode","translucent"]})],ie),ie})(),Rt=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],ie),ie})(),zt=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],ie),ie})(),Ut=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],ie),ie})(),lt=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","mode","sticky"]})],ie),ie})(),Ie=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","mode","position"]})],ie),ie})(),Ze=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],ie),ie})(),wt=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","lines","mode"]})],ie),ie})(),ze=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["alignment","color","disabled","justify","labelPlacement","legacy","mode","name","value"]})],ie),ie})(),ut=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionChange"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["allowEmptySelection","compareWith","name","value"]})],ie),ie})(),Vt=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-row"]],ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({})],ie),ie})(),Sn=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],ie),ie})(),Cn=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["disabled","value"]})],ie),ie})(),Pn=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","mode","selectedTab","translucent"]})],ie),ie})(),Hn=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],ie),ie})(),P=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","size"]})],ie),ie})(),F=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement,$(this,this.el,["ionChange","ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],ie),ie})(),oe=(()=>{let ie=class{constructor(ve,Ve,pt){this.z=pt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([S({inputs:["color","mode"]})],ie),ie})(),ae=(()=>{class ie extends nt.Cg{constructor(ve,Ve,pt,Kt,Dn,On,zn,Xn){super(ve,Ve,pt,Kt,Dn,On,zn,Xn),this.parentOutlet=Xn}}return ie.\u0275fac=function(ve){return new(ve||ie)(v.gJ8("name"),v.gJ8("tabs"),v.GI1(W.oB),v.GI1(v.GMv),v.GI1(C.E5),v.GI1(v.WW2),v.GI1(C.gV),v.GI1(ie,12))},ie.\u0275dir=v.Sc5({type:ie,selectors:[["ion-router-outlet"]],features:[v.eg9]}),ie})(),ee=(()=>{class ie extends nt.CE{}return ie.\u0275fac=(()=>{let Re;return function(Ve){return(Re||(Re=v.otF(ie)))(Ve||ie)}})(),ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-tabs"]],contentQueries:function(ve,Ve,pt){if(1&ve&&(v.szK(pt,Pn,5),v.szK(pt,Pn,4)),2&ve){let Kt;v.wto(Kt=v.Gqi())&&(Ve.tabBar=Kt.first),v.wto(Kt=v.Gqi())&&(Ve.tabBars=Kt)}},viewQuery:function(ve,Ve){if(1&ve&&v.CC$(d,5,ae),2&ve){let pt;v.wto(pt=v.Gqi())&&(Ve.outlet=pt.first)}},features:[v.eg9],ngContentSelectors:c,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(ve,Ve){1&ve&&(v.kPM(u),v._Xx(0),v.I0R(1,"div",0,1)(3,"ion-router-outlet",2,3),v.qCj("stackWillChange",function(Kt){return Ve.onStackWillChange(Kt)})("stackDidChange",function(Kt){return Ve.onStackDidChange(Kt)}),v.C$Y()(),v._Xx(5,1))},dependencies:[ae],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),ie})(),ye=(()=>{class ie extends nt.Im{constructor(ve,Ve,pt,Kt,Dn,On){super(ve,Ve,pt,Kt,Dn,On)}}return ie.\u0275fac=function(ve){return new(ve||ie)(v.GI1(ae,8),v.GI1(nt.wX),v.GI1(nt._U),v.GI1(v.GMv),v.GI1(v.WW2),v.GI1(v.kD9))},ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-back-button"]],features:[v.eg9],ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),ie})(),Zt=(()=>{class ie extends nt.Qz{}return ie.\u0275fac=(()=>{let Re;return function(Ve){return(Re||(Re=v.otF(ie)))(Ve||ie)}})(),ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-modal"]],features:[v.eg9],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(ve,Ve){1&ve&&v.yuY(0,s,2,1,"div",0),2&ve&&v.E7m("ngIf",Ve.isCmpOpen||Ve.keepContentsMounted)},dependencies:[W.u_,W.XV],encapsulation:2,changeDetection:0}),ie})(),yn=(()=>{class ie extends nt.sW{}return ie.\u0275fac=(()=>{let Re;return function(Ve){return(Re||(Re=v.otF(ie)))(Ve||ie)}})(),ie.\u0275cmp=v.In1({type:ie,selectors:[["ion-popover"]],features:[v.eg9],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(ve,Ve){1&ve&&v.yuY(0,m,1,1,"ng-container",0),2&ve&&v.E7m("ngIf",Ve.isCmpOpen||Ve.keepContentsMounted)},dependencies:[W.u_,W.XV],encapsulation:2,changeDetection:0}),ie})();const En={provide:we.WM,useExisting:(0,v.wd)(()=>Rn),multi:!0};let Rn=(()=>{class ie extends we._t{}return ie.\u0275fac=(()=>{let Re;return function(Ve){return(Re||(Re=v.otF(ie)))(Ve||ie)}})(),ie.\u0275dir=v.Sc5({type:ie,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ve,Ve){2&ve&&v.e48("max",Ve._enabled?Ve.max:null)},features:[v.M5G([En]),v.eg9]}),ie})();const Wn={provide:we.WM,useExisting:(0,v.wd)(()=>mr),multi:!0};let mr=(()=>{class ie extends we.Gu{}return ie.\u0275fac=(()=>{let Re;return function(Ve){return(Re||(Re=v.otF(ie)))(Ve||ie)}})(),ie.\u0275dir=v.Sc5({type:ie,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ve,Ve){2&ve&&v.e48("min",Ve._enabled?Ve.min:null)},features:[v.M5G([Wn]),v.eg9]}),ie})(),yr=(()=>{class ie extends nt.gk{constructor(){super(y.W4)}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),at=(()=>{class ie extends nt.gk{constructor(){super(y.KQ)}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),un=(()=>{class ie extends nt.gk{constructor(){super(y.kT),this.angularDelegate=(0,v.uUt)(nt.kh),this.injector=(0,v.uUt)(v.zZn),this.environmentInjector=(0,v.uUt)(v.SIe)}create(ve){return super.create({...ve,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac}),ie})();class At extends nt.gk{constructor(){super(y.oz),this.angularDelegate=(0,v.uUt)(nt.kh),this.injector=(0,v.uUt)(v.zZn),this.environmentInjector=(0,v.uUt)(v.SIe)}create(Re){return super.create({...Re,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const He=(ie,Re,ve)=>()=>{const Ve=Re.defaultView;if(Ve&&typeof window<"u"){(0,y.cp)({...ie,_zoneGate:Kt=>ve.run(Kt)});const pt="__zone_symbol__addEventListener"in Re.body?"__zone_symbol__addEventListener":"addEventListener";return function _(){var ie=[];if(typeof window<"u"){var Re=window;(!Re.customElements||Re.Element&&(!Re.Element.prototype.closest||!Re.Element.prototype.matches||!Re.Element.prototype.remove||!Re.Element.prototype.getRootNode))&&ie.push(he.e(4448).then(he.t.bind(he,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Re.NodeList&&!Re.NodeList.prototype.forEach||!Re.fetch||!function(){try{var Ve=new URL("b","http://a");return Ve.pathname="c%20d","http://a/c%20d"===Ve.href&&Ve.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&ie.push(he.e(488).then(he.t.bind(he,6304,23)))}return Promise.all(ie)}().then(()=>a(Ve,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:nt.cl,jmp:Kt=>ve.runOutsideAngular(Kt),ael(Kt,Dn,On,zn){Kt[pt](Dn,On,zn)},rel(Kt,Dn,On,zn){Kt.removeEventListener(Dn,On,zn)}}))}};let Wt=(()=>{class ie{static forRoot(ve){return{ngModule:ie,providers:[{provide:nt.m2,useValue:ve},{provide:v.kZF,useFactory:He,multi:!0,deps:[nt.m2,W.Ud,v.WW2]},(0,nt.Al)()]}}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275mod=v.a4G({type:ie}),ie.\u0275inj=v.s3X({providers:[nt.kh,un,At],imports:[W.MD]}),ie})()},2272:(dn,Pt,he)=>{"use strict";he.d(Pt,{c:()=>nt});var v=he(1528);const we={};we.write=function(){var _e=(0,v.c)(function*(o){yield navigator.clipboard.writeText(o)});return function(o){return _e.apply(this,arguments)}}(),we.read=(0,v.c)(function*(){return navigator.clipboard.readText()}),we.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")},we.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};const nt=we},1528:(dn,Pt,he)=>{"use strict";function v(nt,_e,o,W,C,y,_){try{var h=nt[y](_),f=h.value}catch(E){return void o(E)}h.done?_e(f):Promise.resolve(f).then(W,C)}function we(nt){return function(){var _e=this,o=arguments;return new Promise(function(W,C){var y=nt.apply(_e,o);function _(f){v(y,W,C,_,h,"next",f)}function h(f){v(y,W,C,_,h,"throw",f)}_(void 0)})}}he.d(Pt,{c:()=>we})},1316:(dn,Pt,he)=>{"use strict";he.d(Pt,{U1:()=>p,UN:()=>o,ct:()=>we,kH:()=>E,mA:()=>N,o7:()=>b});var v=function(Y,q){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,de){ne.__proto__=de}||function(ne,de){for(var xe in de)Object.prototype.hasOwnProperty.call(de,xe)&&(ne[xe]=de[xe])})(Y,q)};function we(Y,q){if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function ne(){this.constructor=Y}v(Y,q),Y.prototype=null===q?Object.create(q):(ne.prototype=q.prototype,new ne)}function o(Y,q,ne,de){var L,xe=arguments.length,K=xe<3?q:null===de?de=Object.getOwnPropertyDescriptor(q,ne):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(Y,q,ne,de);else for(var re=Y.length-1;re>=0;re--)(L=Y[re])&&(K=(xe<3?L(K):xe>3?L(q,ne,K):L(q,ne))||K);return xe>3&&K&&Object.defineProperty(q,ne,K),K}function E(Y,q,ne,de){return new(ne||(ne=Promise))(function(K,L){function re(Le){try{Me(de.next(Le))}catch(Ye){L(Ye)}}function ge(Le){try{Me(de.throw(Le))}catch(Ye){L(Ye)}}function Me(Le){Le.done?K(Le.value):function xe(K){return K instanceof ne?K:new ne(function(L){L(K)})}(Le.value).then(re,ge)}Me((de=de.apply(Y,q||[])).next())})}function p(Y){return this instanceof p?(this.v=Y,this):new p(Y)}function b(Y,q,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,de=ne.apply(Y,q||[]),K=[];return xe={},L("next"),L("throw"),L("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function L(et){de[et]&&(xe[et]=function(Oe){return new Promise(function(Ge,Be){K.push([et,Oe,Ge,Be])>1||re(et,Oe)})})}function re(et,Oe){try{!function ge(et){et.value instanceof p?Promise.resolve(et.value.v).then(Me,Le):Ye(K[0][2],et)}(de[et](Oe))}catch(Ge){Ye(K[0][3],Ge)}}function Me(et){re("next",et)}function Le(et){re("throw",et)}function Ye(et,Oe){et(Oe),K.shift(),K.length&&re(K[0][0],K[0][1])}}function N(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,q=Y[Symbol.asyncIterator];return q?q.call(Y):(Y=function d(Y){var q="function"==typeof Symbol&&Symbol.iterator,ne=q&&Y[q],de=0;if(ne)return ne.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&de>=Y.length&&(Y=void 0),{value:Y&&Y[de++],done:!Y}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ne={},de("next"),de("throw"),de("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function de(K){ne[K]=Y[K]&&function(L){return new Promise(function(re,ge){!function xe(K,L,re,ge){Promise.resolve(ge).then(function(Me){K({value:Me,done:re})},L)}(re,ge,(L=Y[K](L)).done,L.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},dn=>{dn(dn.s=5788)}]);