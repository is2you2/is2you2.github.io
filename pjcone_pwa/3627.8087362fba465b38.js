"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3627],{6069:(S,b,o)=>{o.d(b,{R:()=>O});var e=o(9863),c=o(3996),g=o(5742),v=o(9912),f=o(4182),Z=o(9808);function P(r,d){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const s=e.oxw().$implicit;e.xp6(1),e.hij(" ",s.text," ")}}function T(r,d){if(1&r&&(e.TgZ(0,"a",7),e._uU(1),e.qZA()),2&r){const s=e.oxw().$implicit;e.Q6J("href",s.text,e.LSH),e.xp6(1),e.Oqu(s.text)}}function t(r,d){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,P,2,1,"span",5),e.YNc(2,T,2,2,"a",6),e.qZA()),2&r){const s=d.$implicit;e.xp6(1),e.Q6J("ngIf",!s.href),e.xp6(1),e.Q6J("ngIf",s.href)}}function A(r,d){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,t,3,2,"span",4),e.qZA()),2&r){const s=d.$implicit;e.xp6(1),e.Q6J("ngForOf",s)}}let O=(()=>{class r{constructor(s,u,_,p){this.navParams=s,this.modalCtrl=u,this.lang=_,this.nakama=p,this.info="QR\ucf54\ub4dc \ub610\ub294 \ubc14\ucf54\ub4dc\ub97c \uc778\uc2dd\ud558\uc600\uc73c\ub098 \uc774 \uc571\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uad6c\uc131\uc774 \uc544\ub2d9\ub2c8\ub2e4.",this.result={}}ngOnInit(){this.result=this.navParams.get("result"),this.result.text=this.result.text.split("\n");for(let s=0,u=this.result.text.length;s<u;s++){this.result.text[s]=this.result.text[s].split(" ");for(let _=0,p=this.result.text[s].length;_<p;_++){let x={};x.href=0==this.result.text[s][_].indexOf("http://")||0==this.result.text[s][_].indexOf("https://"),x.text=this.result.text[s][_],this.result.text[s][_]=x}}this.nakama.removeBanner()}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(c.X1),e.Y36(c.IN),e.Y36(g.b),e.Y36(v.a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-qrelse"]],decls:23,vars:6,consts:[["slot","start",3,"click"],["defaultHref","subscribes"],["disabled","",1,"infobox",3,"ngModel","ngModelChange"],[1,"infobox","content_form"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_system",3,"href",4,"ngIf"],["target","_system",3,"href"]],template:function(s,u){1&s&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"\ub0b4\uc6a9 \uc77d\uae30"),e.qZA(),e.TgZ(4,"ion-buttons",0),e.NdJ("click",function(){return u.modalCtrl.dismiss()}),e._UZ(5,"ion-back-button",1),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),e._uU(9),e.qZA()(),e.TgZ(10,"textarea",2),e.NdJ("ngModelChange",function(p){return u.lang.text.QRElse.info=p}),e.qZA(),e._UZ(11,"ion-item-divider"),e.TgZ(12,"ion-item")(13,"ion-label")(14,"p"),e._uU(15),e.qZA(),e.TgZ(16,"h2"),e._uU(17),e.qZA()()(),e.TgZ(18,"ion-item-divider")(19,"ion-label"),e._uU(20),e.qZA()(),e.TgZ(21,"div",3),e.YNc(22,A,2,1,"div",4),e.qZA()()),2&s&&(e.xp6(9),e.Oqu(u.lang.text.QRElse.Title),e.xp6(1),e.Q6J("ngModel",u.lang.text.QRElse.info),e.xp6(5),e.Oqu(u.lang.text.QRElse.format),e.xp6(2),e.Oqu(u.result.format),e.xp6(3),e.Oqu(u.lang.text.QRElse.contents),e.xp6(2),e.Q6J("ngForOf",u.result.text))},directives:[c.Gu,c.sr,c.wd,c.Sm,c.oU,c.cs,c.W2,c.rH,c.Q$,f.Fj,f.JJ,f.On,c.Ie,Z.sg,Z.O5],styles:[".content_form[_ngcontent-%COMP%]{background-color:var(--ion-color-light);overflow-y:auto}"]}),r})()},3627:(S,b,o)=>{o.r(b),o.d(b,{SubscribesPageModule:()=>J});var e=o(9808),c=o(4182),g=o(3996),v=o(9705),f=o(5016),Z=o(6638),P=o(4896),T=o(6069),t=o(9863),A=o(9645),O=o(3336),r=o(9912),d=o(4606),s=o(5742);function u(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"ion-item",3),t.NdJ("click",function(){t.CHM(n);const m=t.oxw().$implicit;return t.oxw(2).check_notifications(m)}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&i){const n=t.oxw().$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(a.nakama.notifications_rearrange[n].request)}}function _(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,u,3,1,"ion-item",11),t.qZA()),2&i){const n=l.$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.nakama.notifications_rearrange.length>n)}}const p=function(){return[0,1,2]};function x(i,l){if(1&i&&(t.TgZ(0,"ion-accordion-group",5,6)(2,"ion-accordion",7)(3,"ion-item",8)(4,"ion-label"),t._uU(5),t.qZA()(),t.TgZ(6,"ion-list",9),t.YNc(7,_,2,1,"div",10),t.qZA()()()),2&i){const n=t.oxw();t.Q6J("value",!1),t.xp6(5),t.Oqu(n.lang.text.Subscribes.has_noties),t.xp6(2),t.Q6J("ngForOf",t.DdM(3,p))}}function Q(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-item",3),t.NdJ("click",function(){return t.CHM(n),t.oxw().scanQRCode()}),t.TgZ(5,"ion-label",4),t._uU(6),t.qZA()()()}if(2&i){const n=t.oxw();t.xp6(3),t.Oqu(n.lang.text.Subscribes.almighty_link),t.xp6(3),t.Oqu(n.lang.text.Subscribes.almighty_button)}}function M(i,l){1&i&&t._UZ(0,"div",20)}function R(i,l){if(1&i&&t._UZ(0,"img",21),2&i){const n=t.oxw().$implicit;t.Akn("online"==n.status||3==n.redirect.type&&"pending"==n.status?"filter: grayscale(0) contrast(1)":"filter: grayscale(.9) contrast(1.4)"),t.Q6J("src",n.info.img,t.LSH)}}function k(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"ion-item",3),t.NdJ("click",function(){const h=t.CHM(n).$implicit;return t.oxw(2).go_to_chatroom(h)}),t.TgZ(1,"div",13),t.YNc(2,M,1,0,"div",14),t.qZA(),t.TgZ(3,"div",15),t.YNc(4,R,1,3,"img",16),t.qZA(),t.TgZ(5,"ion-label")(6,"div",17)(7,"table")(8,"tr")(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",18),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",19),t._uU(14),t.qZA()()()}if(2&i){const n=l.$implicit,a=t.oxw(2);t.xp6(1),t.Akn("background-color: "+a.statusBar.colors[n.info&&n.info.status||n.status||"offline"]),t.xp6(1),t.Q6J("ngIf",n.is_new),t.xp6(2),t.Q6J("ngIf",n.info),t.xp6(6),t.hij(" ",n.info?n.info.name||n.info.display_name||a.lang.text.ChatRoom.noname_chatroom:n.title||a.lang.text.ChatRoom.noname_chatroom," "),t.xp6(2),t.hij(" ","("+n.server.target+")"," "),t.xp6(2),t.hij(" ",n.last_comment||n.noti||a.lang.text.Subscribes.noMessageHistory," ")}}function U(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,k,15,7,"ion-item",12),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.nakama.channels)}}const E=[{path:"",component:(()=>{class i{constructor(n,a,m,h,C,y){this.modalCtrl=n,this.codescan=a,this.p5toast=m,this.nakama=h,this.statusBar=C,this.lang=y,this.cant_scan=!1,this.lock_chatroom=!1}ngOnInit(){("DesktopPWA"==f.n$||"MobilePWA"==f.n$)&&(this.cant_scan=!0)}ionViewDidEnter(){this.nakama.subscribe_lock=!0,this.nakama.resumeBanner()}scanQRCode(){this.codescan.scan({disableSuccessBeep:!0,disableAnimations:!0,resultDisplayDuration:0}).then(n=>{if(!n.cancelled)try{this.nakama.act_from_QRInfo(n.text.trim())}catch(a){console.log("scanQRCode_failed: ",a),this.modalCtrl.create({component:T.R,componentProps:{result:n}}).then(m=>m.present())}}).catch(n=>{console.log(n),this.p5toast.show({text:this.lang.text.Subscribes.CameraPermissionDenied})})}go_to_chatroom(n){this.lock_chatroom||(this.lock_chatroom=!0,this.nakama.go_to_chatroom_without_admob_act(n),("online"!=n.status||"pending"!=n.status)&&delete n.is_new,this.lock_chatroom=!1)}check_notifications(n){let a=this.nakama.notifications_rearrange[n].server;this.nakama.check_notifications(this.nakama.notifications_rearrange[n],a.isOfficial,a.target)}add_new_group(){this.nakama.get_all_server_info(!0,!0).length?this.modalCtrl.create({component:Z.B}).then(a=>a.present()):this.modalCtrl.create({component:P.Y}).then(a=>{this.p5toast.show({text:this.lang.text.Subscribes.Disconnected}),a.present()})}ionViewWillLeave(){this.nakama.subscribe_lock=!1}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(g.IN),t.Y36(A.m),t.Y36(O.F),t.Y36(r.a),t.Y36(d.g),t.Y36(s.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-subscribes"]],decls:15,vars:8,consts:[[1,"header_online_circle"],["value","colors","expand","inset",3,"value",4,"ngIf"],[4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["value","colors","expand","inset",3,"value"],["accordionGroup",""],["value","colors"],["slot","header"],["slot","content"],[4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],[1,"additional_form","status_bar_double"],["class","new_circle",4,"ngIf"],[1,"additional_form","bg_img_form"],["class","profile_img",3,"style","src",4,"ngIf"],[1,"form_margin","header"],[1,"server_target"],[1,"form_margin","content"],[1,"new_circle"],[1,"profile_img",3,"src"]],template:function(n,a){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA(),t._UZ(4,"div",0),t.qZA()(),t.TgZ(5,"ion-content"),t.YNc(6,x,8,4,"ion-accordion-group",1),t.YNc(7,Q,7,2,"div",2),t.TgZ(8,"ion-item-divider")(9,"ion-label"),t._uU(10),t.qZA()(),t.YNc(11,U,2,1,"div",2),t.TgZ(12,"ion-item",3),t.NdJ("click",function(){return a.add_new_group()}),t.TgZ(13,"ion-label",4),t._uU(14),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(a.lang.text.Subscribes.Title),t.xp6(1),t.Akn("background-color: "+a.statusBar.colors[a.statusBar.settings.groupServer]),t.xp6(2),t.Q6J("ngIf",a.nakama.notifications_rearrange.length),t.xp6(1),t.Q6J("ngIf",!a.cant_scan),t.xp6(3),t.Oqu(a.lang.text.Subscribes.Chat),t.xp6(1),t.Q6J("ngIf",a.nakama.channels.length),t.xp6(3),t.Oqu(a.lang.text.Subscribes.AddGroup))},directives:[g.Gu,g.sr,g.wd,g.W2,e.O5,g.eh,g.We,g.Ie,g.Q$,g.q_,e.sg,g.rH],styles:[".header[_ngcontent-%COMP%]{padding-bottom:4px}.content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle;padding:0 16px}.status_bar[_ngcontent-%COMP%]{width:5px;height:76%}.server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}.new_circle[_ngcontent-%COMP%]{position:relative;top:-5px;left:9px;width:8px;height:8px;border-radius:4px;background:#ff4961}"]}),i})()},{path:"chat-room",loadChildren:()=>Promise.all([o.e(7602),o.e(8592),o.e(3875)]).then(o.bind(o,3875)).then(i=>i.ChatRoomPageModule)},{path:"qrelse",loadChildren:()=>o.e(1388).then(o.bind(o,1388)).then(i=>i.QRelsePageModule)}];let I=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[v.Bz.forChild(E)],v.Bz]}),i})(),J=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[e.ez,c.u5,g.Pc,I]]}),i})()}}]);