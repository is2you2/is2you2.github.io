"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1592],{8828:(w,x,d)=>{d.d(x,{_8:()=>I,on:()=>u,wd:()=>v});var I=function(_){return _.Prompt="PROMPT",_.Camera="CAMERA",_.Photos="PHOTOS",_}(I||{}),v=function(_){return _.Rear="REAR",_.Front="FRONT",_}(v||{}),u=function(_){return _.Uri="uri",_.Base64="base64",_.DataUrl="dataUrl",_}(u||{})},4120:(w,x,d)=>{d.d(x,{Ut:()=>u,_8:()=>v._8,on:()=>v.on});var I=d(6400),v=d(8828);const u=(0,I.C_)("Camera",{web:()=>d.e(9028).then(d.bind(d,9028)).then(_=>new _.CameraWeb)})},1592:(w,x,d)=>{d.r(x),d.d(x,{AddPostPageModule:()=>X});var I=d(1368),v=d(4716),u=d(5624),_=d(3332),y=d(1528),E=d(5020),G=d(340),A=d(4120),T=d(1052),R=d(4712),M=d(2272),S=d(8744),e=d(4496),$=d(4500),D=d(9240),F=d(7136),B=d(3824),U=d(4668),K=d(4476),Y=d(7756);function j(l,g){if(1&l){const r=e.KQA();e.I0R(0,"ion-item",5),e.qCj("click",function(){const a=e.usT(r).index,n=e.GaO(2);return e.CGJ(n.select_server(a))}),e.I0R(1,"ion-label"),e.OEk(2),e.C$Y()()}if(2&l){const r=g.$implicit;e.yG2(2),e.cNF(r.name)}}function N(l,g){if(1&l){const r=e.KQA();e.I0R(0,"ion-accordion-group",19,20),e.qCj("click",function(){e.usT(r);const i=e.GaO();return e.CGJ(i.isExpanded=!0)}),e.I0R(2,"ion-accordion",21)(3,"ion-item",22)(4,"ion-label"),e.OEk(5),e.C$Y(),e.I0R(6,"ion-label",23),e.OEk(7),e.C$Y(),e.wR5(8,"ion-icon",24),e.C$Y(),e.I0R(9,"div",25),e.yuY(10,j,3,1,"ion-item",26),e.C$Y()()()}if(2&l){const r=e.GaO();e.E7m("disabled",r.isSaveClicked)("value",r.isExpanded),e.yG2(5),e.cNF(r.lang.text.AddGroup.SelectServer),e.yG2(2),e.cNF(r.servers[r.index].name),e.yG2(3),e.E7m("ngForOf",r.servers)}}function L(l,g){if(1&l&&(e.I0R(0,"div",27)(1,"div",28),e.wR5(2,"img",29),e.C$Y()()),2&l){const r=e.GaO();e.yG2(2),e.E7m("src",r.MainPostImage,e.K6U)}}function W(l,g){if(1&l&&e.wR5(0,"ion-icon",34),2&l){const r=e.GaO().$implicit;e.E7m("name",r.icon||"close-circle")}}function H(l,g){if(1&l&&e.wR5(0,"img",35),2&l){const r=e.GaO().$implicit;e.E7m("src","assets/icon/"+r.icon_img,e.K6U)("alt",r.title)}}function V(l,g){if(1&l){const r=e.KQA();e.I0R(0,"div",30)(1,"div",31),e.qCj("click",function(){const a=e.usT(r).$implicit;return e.CGJ(a.act())}),e.yuY(2,W,1,1,"ion-icon",32)(3,H,1,2,"img",33),e.I0R(4,"div"),e.OEk(5),e.C$Y()()()}if(2&l){const r=g.$implicit;e.yG2(),e.m_g("cursor: "+(r.cursor||"pointer")+";"),e.E7m("hidden",r.isHide),e.yG2(),e.E7m("ngIf",r.icon),e.yG2(),e.E7m("ngIf",r.icon_img),e.yG2(2),e.cNF(r.name)}}function Q(l,g){if(1&l){const r=e.KQA();e.I0R(0,"ion-item",36),e.qCj("click",function(){const a=e.usT(r).$implicit,n=e.GaO();return e.CGJ(n.open_viewer(a))}),e.I0R(1,"ion-label"),e.OEk(2),e.C$Y(),e.I0R(3,"div",37),e.wR5(4,"img",38),e.C$Y()()}if(2&l){const r=g.$implicit,t=g.index,i=e.GaO();e.E7m("id","PostAttach_"+t)("disabled",i.isSaveClicked),e.yG2(2),e.cNF("["+t+"] "+r.filename),e.yG2(2),e.E7m("src",r.thumbnail,e.K6U)}}const z=[{path:"",component:(()=>{var l;class g{constructor(t,i,a,n,s,o,m,h,b,Z,q){var C,c=this;this.global=t,this.lang=i,this.navCtrl=a,this.nakama=n,this.modalCtrl=s,this.p5toast=o,this.indexed=m,this.loadingCtrl=h,this.sanitizer=b,this.mClipboard=Z,this.alertCtrl=q,this.servers=[],this.userInput={id:void 0,title:void 0,titleImage:void 0,content:void 0,creator_id:void 0,creator_name:void 0,UserColor:void 0,create_time:void 0,modify_time:void 0,server:void 0,mainImage:void 0,attachments:[]},this.index=0,this.isExpanded=!1,this.isSaveClicked=!1,this.useVoiceRecording=!1,this.MainPostImage=void 0,this.extended_buttons=[{icon:"image-outline",name:this.lang.text.AddPost.MainPostImage,act:()=>{this.MainPostImage?(this.MainPostImage=void 0,this.userInput.mainImage=void 0,document.getElementById("PostMainImage_sel").value=""):document.getElementById("PostMainImage_sel").click()}},{icon:"document-attach-outline",name:this.lang.text.ChatRoom.attachments,act:(C=(0,y.c)(function*(){if(!c.isSaveClicked)try{return void(yield c.new_attach({detail:{value:"link"}}))}catch(p){"done"!=p&&c.new_attach({detail:{value:"load"}})}}),function(){return C.apply(this,arguments)})},{icon_img:"voidDraw.png",name:this.lang.text.ChatRoom.voidDraw,act:function(){var C=(0,y.c)(function*(){c.isSaveClicked||c.modalCtrl.create({component:T.S,componentProps:{},cssClass:"fullscreen"}).then(f=>{f.onWillDismiss().then(function(){var O=(0,y.c)(function*(k){k.data&&(yield c.voidDraw_fileAct_callback(k,void 0))});return function(k){return O.apply(this,arguments)}}()),f.onDidDismiss().then(()=>{c.AddShortcut()}),delete c.global.p5key.KeyShortCut.Escape,f.present()})});return function(){return C.apply(this,arguments)}}()},{icon:"camera-outline",name:this.lang.text.ChatRoom.Camera,act:function(){var C=(0,y.c)(function*(){if(!c.isSaveClicked)try{const p=yield A.Ut.getPhoto({quality:90,resultType:A.on.Base64,source:A._8.Camera});let P=yield c.loadingCtrl.create({message:c.lang.text.TodoDetail.WIP});P.present();let f={};f.filename=`Camera_${(new Date).toLocaleString().replace(/:/g,"_")}.${p.format}`,f.file_ext=p.format,f.thumbnail=c.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+p.base64String),f.type=`image/${p.format}`,f.typeheader="image",f.content_related_creator=[{user_id:"local"==c.servers[c.index].isOfficial?"local":c.nakama.servers[c.isOfficial][c.target].session.user_id,timestamp:(new Date).getTime(),display_name:c.nakama.users.self.display_name,various:"camera"}],f.content_creator={user_id:"local"==c.servers[c.index].isOfficial?"local":c.nakama.servers[c.isOfficial][c.target].session.user_id,timestamp:(new Date).getTime(),display_name:c.nakama.users.self.display_name,various:"camera"},f.viewer="image",f.path=`tmp_files/post/${f.filename}`,yield c.indexed.saveBase64ToUserPath("data:image/jpeg;base64,"+p.base64String,f.path,k=>{f.blob=new Blob([k],{type:f.type})}),c.userInput.attachments.push(f),c.MakeAttachHaveContextMenu(),P.dismiss()}catch{}});return function(){return C.apply(this,arguments)}}()},{icon:"mic-circle-outline",name:this.lang.text.ChatRoom.Voice,act:function(){var C=(0,y.c)(function*(){if(!c.isSaveClicked)if(c.useVoiceRecording=!c.useVoiceRecording,c.useVoiceRecording)(yield R.G.hasAudioRecordingPermission()).value?(c.extended_buttons[4].icon="stop-circle-outline",yield R.G.startRecording(),c.p5toast.show({text:c.lang.text.ChatRoom.StartVRecord})):yield R.G.requestAudioRecordingPermission();else{let p=yield R.G.stopRecording(),P=c.global.Base64ToBlob(`${p.value.mimeType},${p.value.recordDataBase64}`);P.name=`${c.lang.text.ChatRoom.VoiceRecord}.${p.value.mimeType.split("/").pop().split(";")[0]}`,P.type_override=p.value.mimeType,c.selected_blobFile_callback_act(P),c.extended_buttons[4].icon="mic-circle-outline"}});return function(){return C.apply(this,arguments)}}()}],this.lock_modal_open=!1}ngOnInit(){this.servers=this.nakama.get_all_server_info(!0,!0),this.servers.unshift({name:this.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"channels",local:!0}),this.servers.length>1&&(this.index=1),this.select_server(this.index),this.userInput.creator_name=this.nakama.users.self.display_name}catchBottomTabShortCut(){this.BottomTabShortcut=this.global.p5key.KeyShortCut.BottomTab,delete this.global.p5key.KeyShortCut.BottomTab}ionViewWillEnter(){var t=this;this.AddShortcut(),this.catchBottomTabShortCut();let i=document.getElementById("add_post_title").childNodes[1].childNodes[1].childNodes[1];i.onpaste=a=>{let n=[];for(const s of a.clipboardData.files)s.type.startsWith("image/")&&n.push({file:s});n.length&&1==n.length&&this.ChangeMainPostImage({target:{files:[n[0].file]}})},this.userInput.title?document.getElementById("add_post_content").focus():i.focus(),document.getElementById("add_post_content").onpaste=a=>{let n=[];for(const s of a.clipboardData.files)s.type.startsWith("image/")&&n.push({file:s});var s;n.length&&(1==n.length?this.selected_blobFile_callback_act(n[0].file):this.alertCtrl.create({header:this.lang.text.ChatRoom.MultipleSend,message:`${this.lang.text.ChatRoom.CountFile}: ${n.length}`,buttons:[{text:this.lang.text.ChatRoom.Send,handler:(s=(0,y.c)(function*(){let o=yield t.loadingCtrl.create({message:t.lang.text.TodoDetail.WIP});o.present();for(let m=0,h=n.length;m<h;m++)yield t.selected_blobFile_callback_act(n[m].file);o.dismiss()}),function(){return s.apply(this,arguments)})}]}).then(s=>{this.global.p5key.KeyShortCut.Escape=()=>{s.dismiss()},s.onDidDismiss().then(()=>{this.global.p5key.KeyShortCut.Escape=()=>{this.navCtrl.pop()}}),s.present()}))}}go_to_profile(){this.modalCtrl.create({component:G.w,componentProps:{isOfficial:this.isOfficial,target:this.target}}).then(t=>t.present())}select_server(t){this.index=t,this.userInput.server=this.servers[t],this.isExpanded=!1,this.isOfficial=this.servers[t].isOfficial,this.target=this.servers[t].target;try{this.userInput.creator_id=this.nakama.servers[this.isOfficial][this.target].session.user_id,this.userInput.UserColor=(this.userInput.creator_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}catch{this.userInput.creator_id="local",this.userInput.creator_name=this.nakama.users.self.display_name,this.userInput.UserColor="888888"}}AddShortcut(){this.global.p5key&&this.global.p5key.KeyShortCut&&(this.global.p5key.KeyShortCut.Escape=()=>{this.navCtrl.navigateBack("portal/community")})}ChangeMainPostImage(t){let i=t.target.files[0],a=URL.createObjectURL(i);this.indexed.saveBlobToUserPath(i,"tmp_files/post/MainImage.png"),this.userInput.mainImage={filename:"MainImage.png"},this.MainPostImage=a,setTimeout(()=>{URL.revokeObjectURL(a)},100)}selected_blobFile_callback_act(t,i=[],a="loaded",n){var s=this;return(0,y.c)(function*(){let o={};o.filename=t.name,o.file_ext=t.name.split(".").pop()||t.type||s.lang.text.ChatRoom.unknown_ext,o.size=t.size,o.type=t.type||t.type_override,n&&(o.path=n),o.content_related_creator=[...i,{user_id:"local"==s.servers[s.index].isOfficial?"local":s.nakama.servers[s.isOfficial][s.target].session.user_id,timestamp:(new Date).getTime(),display_name:s.nakama.users.self.display_name,various:a}],o.content_creator={user_id:"local"==s.servers[s.index].isOfficial?"local":s.nakama.servers[s.isOfficial][s.target].session.user_id,timestamp:(new Date).getTime(),display_name:s.nakama.users.self.display_name,various:a},o.blob=t,o.path=`tmp_files/post/${o.filename}_${s.userInput.attachments.length}.${o.file_ext}`,s.create_selected_thumbnail(o),s.userInput.attachments.push(o),s.MakeAttachHaveContextMenu(),s.indexed.saveBlobToUserPath(o.blob,o.path)})()}create_selected_thumbnail(t){var i=this;return(0,y.c)(function*(){if(i.global.set_viewer_category_from_ext(t),t.url){try{(yield fetch(t.url)).ok&&(t.thumbnail=t.url)}catch{}return void(t.typeheader=t.viewer)}try{t.thumbnail=yield i.indexed.loadBlobFromUserPath(t.path,t.type)}catch{}let a=URL.createObjectURL(t.blob);"image"===(t.typeheader=t.blob.type.split("/")[0]||t.viewer,setTimeout(()=>{URL.revokeObjectURL(a)},0),t.thumbnail=void 0,t.typeheader)&&(t.thumbnail=i.sanitizer.bypassSecurityTrustUrl(a))})()}voidDraw_fileAct_callback(t,i){var a=this;return(0,y.c)(function*(){try{let n={};n.filename=t.data.name,n.file_ext="png",n.thumbnail=a.sanitizer.bypassSecurityTrustUrl(t.data.img),n.type="image/png",n.typeheader="image",i?(n.content_related_creator=i,n.content_creator={user_id:"local"==a.servers[a.index].isOfficial?"local":a.nakama.servers[a.isOfficial][a.target].session.user_id,timestamp:(new Date).getTime(),display_name:a.nakama.users.self.display_name,various:"voidDraw"}):(n.content_related_creator=[{user_id:"local"==a.servers[a.index].isOfficial?"local":a.nakama.servers[a.isOfficial][a.target].session.user_id,timestamp:(new Date).getTime(),display_name:a.nakama.users.self.display_name,various:"voidDraw"}],n.content_creator={user_id:"local"==a.servers[a.index].isOfficial?"local":a.nakama.servers[a.isOfficial][a.target].session.user_id,timestamp:(new Date).getTime(),display_name:a.nakama.users.self.display_name,various:"voidDraw"}),n.path=`tmp_files/post/${n.filename}`,n.viewer="image",yield a.indexed.saveBase64ToUserPath(t.data.img,n.path,s=>{n.blob=new Blob([s],{type:n.type})}),a.userInput.attachments.push(n),a.MakeAttachHaveContextMenu()}catch(n){console.error("godot-\uc774\ubbf8\uc9c0 \ud3b8\uc9d1 \uc0ac\uc6a9 \ubd88\uac00: ",n)}t.data.loadingCtrl.dismiss()})()}new_attach(t,i=void 0){var a=this;return(0,y.c)(function*(){let n;switch(void 0===i&&(i={}),t.detail.value){case"load":document.getElementById("add_post_input").click();break;case"link":try{let s=i.url;if(void 0===s)try{s=yield a.mClipboard.paste()}catch{try{s=yield M.c.read()}catch(b){throw b}}try{let h=a.global.Base64ToBlob(s),b=s.split(";")[0].split(":")[1];throw n=new File([h],`${a.lang.text.ChatRoom.FileLink}.${b.split("/").pop()}`,{type:b}),yield a.selected_blobFile_callback_act(n),"done"}catch(h){if("done"===h)throw h}try{if(n&&void 0===i.filename)throw"\uc774\ubbf8 \ud30c\uc77c\uc774 \ucca8\ubd80\ub428, \ud1a0\uae00\ub9cc \uc2dc\ub3c4";if(!(yield fetch(s)).ok)throw"URL \uad6c\uc870\uac00 \uc815\uc0c1\uc774 \uc544\ub2d8"}catch(h){throw h}let o={};o.url=s,o.content_related_creator=[],i&&i.content_related_creator&&(o.content_related_creator=[...i.content_related_creator]),o.content_related_creator.push({user_id:"local"==a.servers[a.index].isOfficial?"local":a.nakama.servers[a.isOfficial][a.target].session.user_id,timestamp:(new Date).getTime(),display_name:a.nakama.users.self.display_name,various:i.url?"shared":"link"}),o.content_creator={user_id:"local"==a.servers[a.index].isOfficial?"local":a.nakama.servers[a.isOfficial][a.target].session.user_id,timestamp:(new Date).getTime(),display_name:a.nakama.users.self.display_name,various:i.url?"shared":"link"};let m=o.url.split(".");o.file_ext=i.file_ext||m.pop().split("?").shift(),o.filename=i.filename||decodeURIComponent(`${m.pop().split("/").pop()||a.lang.text.ChatRoom.ExternalLinkFile}.${o.file_ext}`),a.global.set_viewer_category_from_ext(o),o.type=i.type||"",o.typeheader=i.typeheader||o.viewer,a.global.modulate_thumbnail(o,o.url),a.userInput.attachments.push(o),a.MakeAttachHaveContextMenu()}catch(s){throw"done"==s?s:`\uc778\uc2dd \ubd88\uac00\ub2a5\ud55c URL \uc815\ubcf4: ${s}`}}})()}MakeAttachHaveContextMenu(){setTimeout(()=>{for(let t=this.userInput.attachments.length-1;t>=0;t--)document.getElementById(`PostAttach_${t}`).oncontextmenu=()=>(this.p5toast.show({text:`${this.lang.text.AddPost.RemoveAttach}: ${this.userInput.attachments[t].filename}`}),this.userInput.attachments.splice(t,1),this.MakeAttachHaveContextMenu(),!1)},0)}inputFileSelected(t){var i=this;return(0,y.c)(function*(){if(t.target.files.length)if(1!=t.target.files.length){let n=yield i.alertCtrl.create({header:i.lang.text.ChatRoom.MultipleSend,message:`${i.lang.text.ChatRoom.CountFile}: ${t.target.files.length}`,buttons:[{text:i.lang.text.ChatRoom.Send,handler:(s=(0,y.c)(function*(){let o=yield i.loadingCtrl.create({message:i.lang.text.ChatRoom.MultipleSend});o.present();for(let m=0,h=t.target.files.length;m<h;m++)o.message=`${i.lang.text.ChatRoom.MultipleSend}: ${h-m}`,yield i.selected_blobFile_callback_act(t.target.files[m]);o.dismiss(),setTimeout(()=>{document.getElementById("add_post_input").value=""},300)}),function(){return s.apply(this,arguments)})}]});i.global.p5key.KeyShortCut.Escape=()=>{n.dismiss()},n.onDidDismiss().then(()=>{i.global.p5key.KeyShortCut.Escape=()=>{i.navCtrl.pop()}}),n.present()}else{let n=yield i.loadingCtrl.create({message:i.lang.text.TodoDetail.WIP});n.present(),yield i.selected_blobFile_callback_act(t.target.files[0]),n.dismiss(),document.getElementById("add_post_input").value=""}var s})()}open_viewer(t){var i=this;let a=[];for(let n=0,s=this.userInput.attachments.length;n<s;n++)a.push({content:this.userInput.attachments[n]});this.lock_modal_open||(this.lock_modal_open=!0,delete this.global.p5key.KeyShortCut.Escape,this.modalCtrl.create({component:S.K,componentProps:{info:{content:t},path:t.path,alt_path:t.path,isOfficial:this.isOfficial,target:this.target,relevance:a,local:"local"==this.servers[this.index].isOfficial},cssClass:"fullscreen"}).then(n=>{n.onDidDismiss().then(s=>{if(this.AddShortcut(),s.data)switch(s.data.type){case"image":let o=[];if(s.data.msg.content.content_related_creator&&(o=[...s.data.msg.content.content_related_creator]),s.data.msg.content.content_creator){let m=!1;for(let h=0,b=o.length;h<b;h++)if(o[h].user_id==s.data.msg.content.content_creator.user_id){m=!0;break}m||o.push(s.data.msg.content.content_creator)}return void this.modalCtrl.create({component:T.S,componentProps:{path:s.data.path||t.path,width:s.data.width,height:s.data.height,isDarkMode:s.data.isDarkMode},cssClass:"fullscreen"}).then(m=>{m.onDidDismiss().then(()=>{this.AddShortcut()}),m.onWillDismiss().then(function(){var h=(0,y.c)(function*(b){b.data&&(yield i.voidDraw_fileAct_callback(b,o))});return function(b){return h.apply(this,arguments)}}()),delete this.global.p5key.KeyShortCut.Escape,m.present()});case"text":this.selected_blobFile_callback_act(s.data.blob,s.data.contentRelated,"textedit")}}),delete this.global.p5key.KeyShortCut.Escape,n.present(),this.nakama.removeBanner(),this.lock_modal_open=!1}))}postData(){if(!this.userInput.title)return this.p5toast.show({text:this.lang.text.AddPost.NeedPostTitle}),void document.getElementById("add_post_title").childNodes[1].childNodes[1].childNodes[1].focus();this.p5toast.show({text:"\uac8c\uc2dc\ubb3c \uc791\uc131 \uae30\ub2a5 \uc900\ube44\uc911"}),this.isSaveClicked=!0,this.userInput.create_time?this.userInput.modify_time=(new Date).getTime():this.userInput.create_time=(new Date).getTime(),console.log("\uc785\ub825\ub428: ",this.userInput)}ionViewWillLeave(){delete this.global.p5key.KeyShortCut.Escape,this.global.p5key.KeyShortCut.BottomTab=this.BottomTabShortcut}}return(l=g).\u0275fac=function(t){return new(t||l)(e.GI1(E.A1),e.GI1($.o),e.GI1(D.wX),e.GI1(F.h),e.GI1(u.qS),e.GI1(B.O),e.GI1(U.k),e.GI1(u.Kg),e.GI1(K.mI),e.GI1(Y._),e.GI1(u.iW))},l.\u0275cmp=e.In1({type:l,selectors:[["app-add-post"]],decls:29,vars:19,consts:[[3,"translucent"],["slot","start"],["defaultHref","portal/community"],[3,"fullscreen"],["value","colors","expand","inset",3,"disabled","value","click",4,"ngIf"],["button","",3,"click"],[1,"additional_form","new_bg_form"],[1,"ion-text-end"],["style","width: 100%; text-align: center; text-align: -webkit-center; padding: 8px;",4,"ngIf"],["button",""],["id","add_post_title",3,"disabled","placeholder","ngModel","ngModelChange"],["id","add_post_content",1,"infobox",2,"height","50%",3,"disabled","placeholder"],["hidden","","type","file","id","add_post_input","accept","*","multiple","",3,"change"],["hidden","","type","file","id","PostMainImage_sel","accept","image/png",3,"change"],[2,"width","100%","text-align","center","padding-bottom","16px"],["style","display: inline-block;",4,"ngFor","ngForOf"],["button","",3,"id","disabled","click",4,"ngFor","ngForOf"],["button","",3,"disabled","click"],[1,"ion-text-center"],["value","colors","expand","inset",3,"disabled","value","click"],["accordionGroup",""],["value","colors"],["slot","header"],[1,"ion-text-right"],[1,"ion-accordion-toggle-icon","hide_accordion_icon"],["slot","content"],["button","",3,"click",4,"ngFor","ngForOf"],[2,"width","100%","text-align","center","text-align","-webkit-center","padding","8px"],[2,"width","400px"],["alt","MainPostImage",1,"thumbnail_image",2,"border-radius","16px",3,"src"],[2,"display","inline-block"],[1,"ext_button","ext_button_override",3,"hidden","click"],["slot","icon-only","style","width: 36px; height: 36px;",3,"name",4,"ngIf"],["class","ext_icon_img",3,"src","alt",4,"ngIf"],["slot","icon-only",2,"width","36px","height","36px",3,"name"],[1,"ext_icon_img",3,"src","alt"],["button","",3,"id","disabled","click"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"]],template:function(t,i){1&t&&(e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.OEk(3),e.C$Y(),e.I0R(4,"ion-buttons",1),e.wR5(5,"ion-back-button",2),e.C$Y()()(),e.I0R(6,"ion-content",3),e.yuY(7,N,11,5,"ion-accordion-group",4),e.I0R(8,"ion-item",5),e.qCj("click",function(){return i.go_to_profile()}),e.wR5(9,"div",6),e.I0R(10,"ion-label"),e.OEk(11),e.C$Y(),e.I0R(12,"ion-label",7),e.OEk(13),e.C$Y()(),e.I0R(14,"ion-item-divider")(15,"ion-label"),e.OEk(16),e.C$Y()(),e.yuY(17,L,3,1,"div",8),e.I0R(18,"ion-item",9)(19,"ion-input",10),e.iHE("ngModelChange",function(n){return e.kNx(i.userInput.title,n)||(i.userInput.title=n),n}),e.C$Y()(),e.wR5(20,"textarea",11),e.I0R(21,"input",12),e.qCj("change",function(n){return i.inputFileSelected(n)}),e.C$Y(),e.I0R(22,"input",13),e.qCj("change",function(n){return i.ChangeMainPostImage(n)}),e.C$Y(),e.I0R(23,"div",14),e.yuY(24,V,6,6,"div",15),e.C$Y(),e.yuY(25,Q,5,4,"ion-item",16),e.I0R(26,"ion-item",17),e.qCj("click",function(){return i.postData()}),e.I0R(27,"ion-label",18),e.OEk(28),e.C$Y()()()),2&t&&(e.E7m("translucent",!0),e.yG2(3),e.cNF(i.lang.text.AddPost.Title),e.yG2(3),e.E7m("fullscreen",!0),e.yG2(),e.E7m("ngIf",i.servers.length),e.yG2(2),e.m_g("background-image: linear-gradient(to right, #0000, #"+i.userInput.UserColor+"44)"),e.yG2(2),e.cNF(i.lang.text.AddPost.Creator),e.yG2(2),e.cNF(i.userInput.creator_name||i.lang.text.Profile.noname_user),e.yG2(3),e.cNF(i.lang.text.AddPost.AddNewPost),e.yG2(),e.E7m("ngIf",i.MainPostImage),e.yG2(2),e.E7m("disabled",i.isSaveClicked)("placeholder",i.lang.text.AddPost.TitlePlaceholder),e.OKB("ngModel",i.userInput.title),e.yG2(),e.E7m("disabled",i.isSaveClicked)("placeholder",i.lang.text.AddPost.ContentPlaceHolder),e.yG2(4),e.E7m("ngForOf",i.extended_buttons),e.yG2(),e.E7m("ngForOf",i.userInput.attachments),e.yG2(),e.E7m("disabled",i.isSaveClicked),e.yG2(2),e.cNF(i.lang.text.AddPost.Post))},dependencies:[I.ay,I.u_,v.ue,v._G,u.cm,u.qU,u.GS,u._i,u.wB,u.Ko,u.A5,u.Yb,u.S8,u.QR,u.tM,u.Md,u.qG,u.Im],styles:[".ext_button_override[_ngcontent-%COMP%]{margin:12px;cursor:pointer}.thumbnail_image[_ngcontent-%COMP%]{width:100%;max-height:240px;object-fit:cover}"]}),g})()}];let J=(()=>{var l;class g{}return(l=g).\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.a4G({type:l}),l.\u0275inj=e.s3X({imports:[_.qQ.forChild(z),_.qQ]}),g})(),X=(()=>{var l;class g{}return(l=g).\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.a4G({type:l}),l.\u0275inj=e.s3X({imports:[I.MD,v.y,u.wZ,J]}),g})()}}]);