(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5083:(Dr,rr,we)=>{"use strict";we.d(rr,{E_:()=>u,F3:()=>i,I9:()=>b});var M=we(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var v=function(I){return I.Unimplemented="UNIMPLEMENTED",I.Unavailable="UNAVAILABLE",I}(v||{});class b extends Error{constructor(F,R,Z){super(F),this.message=F,this.code=R,this.data=Z}}const y=I=>{var F,R,Z,oe,q;const re=I.CapacitorCustomPlatform||null,W=I.Capacitor||{},G=W.Plugins=W.Plugins||{},K=I.CapacitorPlatforms,Me=(null===(F=null==K?void 0:K.currentPlatform)||void 0===F?void 0:F.getPlatform)||(()=>null!==re?re.name:(I=>{var F,R;return null!=I&&I.androidBridge?"android":null!==(R=null===(F=null==I?void 0:I.webkit)||void 0===F?void 0:F.messageHandlers)&&void 0!==R&&R.bridge?"ios":"web"})(I)),j=(null===(R=null==K?void 0:K.currentPlatform)||void 0===R?void 0:R.isNativePlatform)||(()=>"web"!==Me()),me=(null===(Z=null==K?void 0:K.currentPlatform)||void 0===Z?void 0:Z.isPluginAvailable)||(Fe=>{const rt=ze.get(Fe);return!!(null!=rt&&rt.platforms.has(Me())||Be(Fe))}),Be=(null===(oe=null==K?void 0:K.currentPlatform)||void 0===oe?void 0:oe.getPluginHeader)||(Fe=>{var rt;return null===(rt=W.PluginHeaders)||void 0===rt?void 0:rt.find(Ye=>Ye.name===Fe)}),ze=new Map,lt=(null===(q=null==K?void 0:K.currentPlatform)||void 0===q?void 0:q.registerPlugin)||((Fe,rt={})=>{const Ye=ze.get(Fe);if(Ye)return console.warn(`Capacitor plugin "${Fe}" already registered. Cannot register plugins twice.`),Ye.proxy;const ot=Me(),Je=Be(Fe);let ft;const Pt=function(){var hr=(0,M.A)(function*(){return!ft&&ot in rt?ft=ft="function"==typeof rt[ot]?yield rt[ot]():rt[ot]:null!==re&&!ft&&"web"in rt&&(ft=ft="function"==typeof rt.web?yield rt.web():rt.web),ft});return function(){return hr.apply(this,arguments)}}(),$t=hr=>{let It;const lr=(...Ht)=>{const $e=Pt().then(We=>{const Pe=((hr,It)=>{var lr,Ht;if(!Je){if(hr)return null===(Ht=hr[It])||void 0===Ht?void 0:Ht.bind(hr);throw new b(`"${Fe}" plugin is not implemented on ${ot}`,v.Unimplemented)}{const $e=null==Je?void 0:Je.methods.find(We=>It===We.name);if($e)return"promise"===$e.rtype?We=>W.nativePromise(Fe,It.toString(),We):(We,Pe)=>W.nativeCallback(Fe,It.toString(),We,Pe);if(hr)return null===(lr=hr[It])||void 0===lr?void 0:lr.bind(hr)}})(We,hr);if(Pe){const Xe=Pe(...Ht);return It=null==Xe?void 0:Xe.remove,Xe}throw new b(`"${Fe}.${hr}()" is not implemented on ${ot}`,v.Unimplemented)});return"addListener"===hr&&($e.remove=(0,M.A)(function*(){return It()})),$e};return lr.toString=()=>`${hr.toString()}() { [capacitor code] }`,Object.defineProperty(lr,"name",{value:hr,writable:!1,configurable:!1}),lr},cr=$t("addListener"),Vt=$t("removeListener"),mr=(hr,It)=>{const lr=cr({eventName:hr},It),Ht=function(){var We=(0,M.A)(function*(){const Pe=yield lr;Vt({eventName:hr,callbackId:Pe},It)});return function(){return We.apply(this,arguments)}}(),$e=new Promise(We=>lr.then(()=>We({remove:Ht})));return $e.remove=(0,M.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ht()}),$e},Kt=new Proxy({},{get(hr,It){switch(It){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Je?mr:cr;case"removeListener":return Vt;default:return $t(It)}}});return G[Fe]=Kt,ze.set(Fe,{name:Fe,proxy:Kt,platforms:new Set([...Object.keys(rt),...Je?[ot]:[]])}),Kt});return W.convertFileSrc||(W.convertFileSrc=Fe=>Fe),W.getPlatform=Me,W.handleError=Fe=>I.console.error(Fe),W.isNativePlatform=j,W.isPluginAvailable=me,W.pluginMethodNoop=(Fe,rt,Ye)=>Promise.reject(`${Ye} does not have an implementation of "${rt}".`),W.registerPlugin=lt,W.Exception=b,W.DEBUG=!!W.DEBUG,W.isLoggingEnabled=!!W.isLoggingEnabled,W.platform=W.getPlatform(),W.isNative=W.isNativePlatform(),W},_=(I=>I.Capacitor=y(I))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),i=_.registerPlugin;class u{constructor(F){this.listeners={},this.retainedEventArguments={},this.windowListeners={},F&&(console.warn(`Capacitor WebPlugin "${F.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=F)}addListener(F,R){var Z=this;let oe=!1;this.listeners[F]||(this.listeners[F]=[],oe=!0),this.listeners[F].push(R);const re=this.windowListeners[F];re&&!re.registered&&this.addWindowListener(re),oe&&this.sendRetainedArgumentsForEvent(F);const W=function(){var K=(0,M.A)(function*(){return Z.removeListener(F,R)});return function(){return K.apply(this,arguments)}}();return Promise.resolve({remove:W})}removeAllListeners(){var F=this;return(0,M.A)(function*(){F.listeners={};for(const R in F.windowListeners)F.removeWindowListener(F.windowListeners[R]);F.windowListeners={}})()}notifyListeners(F,R,Z){const oe=this.listeners[F];if(oe)oe.forEach(q=>q(R));else if(Z){let q=this.retainedEventArguments[F];q||(q=[]),q.push(R),this.retainedEventArguments[F]=q}}hasListeners(F){return!!this.listeners[F].length}registerWindowListener(F,R){this.windowListeners[R]={registered:!1,windowEventName:F,pluginEventName:R,handler:Z=>{this.notifyListeners(R,Z)}}}unimplemented(F="not implemented"){return new _.Exception(F,v.Unimplemented)}unavailable(F="not available"){return new _.Exception(F,v.Unavailable)}removeListener(F,R){var Z=this;return(0,M.A)(function*(){const oe=Z.listeners[F];if(!oe)return;const q=oe.indexOf(R);Z.listeners[F].splice(q,1),Z.listeners[F].length||Z.removeWindowListener(Z.windowListeners[F])})()}addWindowListener(F){window.addEventListener(F.windowEventName,F.handler),F.registered=!0}removeWindowListener(F){F&&(window.removeEventListener(F.windowEventName,F.handler),F.registered=!1)}sendRetainedArgumentsForEvent(F){const R=this.retainedEventArguments[F];R&&(delete this.retainedEventArguments[F],R.forEach(Z=>{this.notifyListeners(F,Z)}))}}const d=I=>encodeURIComponent(I).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),m=I=>I.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class f extends u{getCookies(){return(0,M.A)(function*(){const F=document.cookie,R={};return F.split(";").forEach(Z=>{if(Z.length<=0)return;let[oe,q]=Z.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");oe=m(oe).trim(),q=m(q).trim(),R[oe]=q}),R})()}setCookie(F){return(0,M.A)(function*(){try{const R=d(F.key),Z=d(F.value),oe=`; expires=${(F.expires||"").replace("expires=","")}`,q=(F.path||"/").replace("path=",""),re=null!=F.url&&F.url.length>0?`domain=${F.url}`:"";document.cookie=`${R}=${Z||""}${oe}; path=${q}; ${re};`}catch(R){return Promise.reject(R)}})()}deleteCookie(F){return(0,M.A)(function*(){try{document.cookie=`${F.key}=; Max-Age=0`}catch(R){return Promise.reject(R)}})()}clearCookies(){return(0,M.A)(function*(){try{const F=document.cookie.split(";")||[];for(const R of F)document.cookie=R.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(F){return Promise.reject(F)}})()}clearAllCookies(){var F=this;return(0,M.A)(function*(){try{yield F.clearCookies()}catch(R){return Promise.reject(R)}})()}}i("CapacitorCookies",{web:()=>new f});const D=function(){var I=(0,M.A)(function*(F){return new Promise((R,Z)=>{const oe=new FileReader;oe.onload=()=>{const q=oe.result;R(q.indexOf(",")>=0?q.split(",")[1]:q)},oe.onerror=q=>Z(q),oe.readAsDataURL(F)})});return function(R){return I.apply(this,arguments)}}();class x extends u{request(F){return(0,M.A)(function*(){const R=((I,F={})=>{const R=Object.assign({method:I.method||"GET",headers:I.headers},F),oe=((I={})=>{const F=Object.keys(I);return Object.keys(I).map(oe=>oe.toLocaleLowerCase()).reduce((oe,q,re)=>(oe[q]=I[F[re]],oe),{})})(I.headers)["content-type"]||"";if("string"==typeof I.data)R.body=I.data;else if(oe.includes("application/x-www-form-urlencoded")){const q=new URLSearchParams;for(const[re,W]of Object.entries(I.data||{}))q.set(re,W);R.body=q.toString()}else if(oe.includes("multipart/form-data")||I.data instanceof FormData){const q=new FormData;if(I.data instanceof FormData)I.data.forEach((W,G)=>{q.append(G,W)});else for(const W of Object.keys(I.data))q.append(W,I.data[W]);R.body=q;const re=new Headers(R.headers);re.delete("content-type"),R.headers=re}else(oe.includes("application/json")||"object"==typeof I.data)&&(R.body=JSON.stringify(I.data));return R})(F,F.webFetchExtra),Z=((I,F=!0)=>I?Object.entries(I).reduce((Z,oe)=>{const[q,re]=oe;let W,G;return Array.isArray(re)?(G="",re.forEach(K=>{W=F?encodeURIComponent(K):K,G+=`${q}=${W}&`}),G.slice(0,-1)):(W=F?encodeURIComponent(re):re,G=`${q}=${W}`),`${Z}&${G}`},"").substr(1):null)(F.params,F.shouldEncodeUrlParams),oe=Z?`${F.url}?${Z}`:F.url,q=yield fetch(oe,R),re=q.headers.get("content-type")||"";let G,K,{responseType:W="text"}=q.ok?F:{};switch(re.includes("application/json")&&(W="json"),W){case"arraybuffer":case"blob":K=yield q.blob(),G=yield D(K);break;case"json":G=yield q.json();break;default:G=yield q.text()}const ue={};return q.headers.forEach((Me,Y)=>{ue[Y]=Me}),{data:G,headers:ue,status:q.status,url:q.url}})()}get(F){var R=this;return(0,M.A)(function*(){return R.request(Object.assign(Object.assign({},F),{method:"GET"}))})()}post(F){var R=this;return(0,M.A)(function*(){return R.request(Object.assign(Object.assign({},F),{method:"POST"}))})()}put(F){var R=this;return(0,M.A)(function*(){return R.request(Object.assign(Object.assign({},F),{method:"PUT"}))})()}patch(F){var R=this;return(0,M.A)(function*(){return R.request(Object.assign(Object.assign({},F),{method:"PATCH"}))})()}delete(F){var R=this;return(0,M.A)(function*(){return R.request(Object.assign(Object.assign({},F),{method:"DELETE"}))})()}}i("CapacitorHttp",{web:()=>new x})},4442:(Dr,rr,we)=>{"use strict";we.d(rr,{L:()=>o,a:()=>se,b:()=>V,c:()=>v,d:()=>b,g:()=>q}),we(5531);const o="ionViewWillEnter",se="ionViewDidEnter",V="ionViewWillLeave",v="ionViewDidLeave",b="ionViewWillUnload",q=re=>re.classList.contains("ion-page")?re:re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||re},5531:(Dr,rr,we)=>{"use strict";we.d(rr,{a:()=>p,c:()=>T,g:()=>b});class M{constructor(){this.m=new Map}reset(re){this.m=new Map(Object.entries(re))}get(re,W){const G=this.m.get(re);return void 0!==G?G:W}getBoolean(re,W=!1){const G=this.m.get(re);return void 0===G?W:"string"==typeof G?"true"===G:!!G}getNumber(re,W){const G=parseFloat(this.m.get(re));return isNaN(G)?void 0!==W?W:NaN:G}set(re,W){this.m.set(re,W)}}const T=new M,b=q=>y(q),p=(q,re)=>("string"==typeof q&&(re=q,q=void 0),b(q).includes(re)),y=(q=window)=>{if(typeof q>"u")return[];q.Ionic=q.Ionic||{};let re=q.Ionic.platforms;return null==re&&(re=q.Ionic.platforms=E(q),re.forEach(W=>q.document.documentElement.classList.add(`plt-${W}`))),re},E=q=>{const re=T.get("platform");return Object.keys(F).filter(W=>{const G=null==re?void 0:re[W];return"function"==typeof G?G(q):F[W](q)})},i=q=>!!(U(q,/iPad/i)||U(q,/Macintosh/i)&&f(q)),u=q=>U(q,/android|sink/i),f=q=>I(q,"(any-pointer:coarse)"),D=q=>$(q)||L(q),$=q=>!!(q.cordova||q.phonegap||q.PhoneGap),L=q=>{const re=q.Capacitor;return!(null==re||!re.isNative)},U=(q,re)=>re.test(q.navigator.userAgent),I=(q,re)=>{var W;return null===(W=q.matchMedia)||void 0===W?void 0:W.call(q,re).matches},F={ipad:i,iphone:q=>U(q,/iPhone/i),ios:q=>U(q,/iPhone|iPod/i)||i(q),android:u,phablet:q=>{const re=q.innerWidth,W=q.innerHeight,G=Math.min(re,W),K=Math.max(re,W);return G>390&&G<520&&K>620&&K<800},tablet:q=>{const re=q.innerWidth,W=q.innerHeight,G=Math.min(re,W),K=Math.max(re,W);return i(q)||(q=>u(q)&&!U(q,/mobile/i))(q)||G>460&&G<820&&K>780&&K<1400},cordova:$,capacitor:L,electron:q=>U(q,/electron/i),pwa:q=>{var re;return!!(null!==(re=q.matchMedia)&&void 0!==re&&re.call(q,"(display-mode: standalone)").matches||q.navigator.standalone)},mobile:f,mobileweb:q=>f(q)&&!D(q),desktop:q=>!f(q),hybrid:D}},9986:(Dr,rr,we)=>{"use strict";we.d(rr,{c:()=>se});var M=we(8476);let T;const Et=(V,v,b)=>{const p=v.startsWith("animation")?(V=>(void 0===T&&(T=void 0===V.style.animationName&&void 0!==V.style.webkitAnimationName?"-webkit-":""),T))(V):"";V.style.setProperty(p+v,b)},o=(V=[],v)=>{if(void 0!==v){const b=Array.isArray(v)?v:[v];return[...V,...b]}return V},se=V=>{let v,b,p,y,E,_,h,P,x,U,Z,i=[],l=[],a=[],u=!1,d={},m=[],f=[],g={},D=0,$=!1,L=!1,I=!0,F=!1,R=!0,oe=!1;const q=V,re=[],W=[],G=[],K=[],ue=[],Me=[],Y=[],j=[],te=[],me=[],xe=[],Be="function"==typeof AnimationEffect||void 0!==M.w&&"function"==typeof M.w.AnimationEffect,qe="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Be,ct=()=>xe,rt=(ke,He)=>{const vt=He.findIndex(Ge=>Ge.c===ke);vt>-1&&He.splice(vt,1)},ot=(ke,He)=>((null!=He&&He.oneTimeCallback?W:re).push({c:ke,o:He}),Z),ft=()=>{qe&&(xe.forEach(ke=>{ke.cancel()}),xe.length=0)},Pt=()=>{Me.forEach(ke=>{null!=ke&&ke.parentNode&&ke.parentNode.removeChild(ke)}),Me.length=0},Pe=()=>void 0!==E?E:h?h.getFill():"both",Xe=()=>void 0!==P?P:void 0!==_?_:h?h.getDirection():"normal",wt=()=>$?"linear":void 0!==p?p:h?h.getEasing():"linear",Ot=()=>L?0:void 0!==x?x:void 0!==b?b:h?h.getDuration():0,Xt=()=>void 0!==y?y:h?h.getIterations():1,Ct=()=>void 0!==U?U:void 0!==v?v:h?h.getDelay():0,br=()=>{0!==D&&(D--,0===D&&((()=>{te.forEach(dt=>dt()),me.forEach(dt=>dt());const ke=I?1:0,He=m,vt=f,Ge=g;K.forEach(dt=>{const Ft=dt.classList;He.forEach(ar=>Ft.add(ar)),vt.forEach(ar=>Ft.remove(ar));for(const ar in Ge)Ge.hasOwnProperty(ar)&&Et(dt,ar,Ge[ar])}),x=void 0,P=void 0,U=void 0,re.forEach(dt=>dt.c(ke,Z)),W.forEach(dt=>dt.c(ke,Z)),W.length=0,R=!0,I&&(F=!0),I=!0})(),h&&h.animationFinish()))},vr=()=>{(()=>{Y.forEach(Ge=>Ge()),j.forEach(Ge=>Ge());const ke=l,He=a,vt=d;K.forEach(Ge=>{const dt=Ge.classList;ke.forEach(Ft=>dt.add(Ft)),He.forEach(Ft=>dt.remove(Ft));for(const Ft in vt)vt.hasOwnProperty(Ft)&&Et(Ge,Ft,vt[Ft])})})(),i.length>0&&qe&&(K.forEach(ke=>{const He=ke.animate(i,{id:q,delay:Ct(),duration:Ot(),easing:wt(),iterations:Xt(),fill:Pe(),direction:Xe()});He.pause(),xe.push(He)}),xe.length>0&&(xe[0].onfinish=()=>{br()})),u=!0},Mr=ke=>{ke=Math.min(Math.max(ke,0),.9999),qe&&xe.forEach(He=>{He.currentTime=He.effect.getComputedTiming().delay+Ot()*ke,He.pause()})},z=ke=>{xe.forEach(He=>{He.effect.updateTiming({delay:Ct(),duration:Ot(),easing:wt(),iterations:Xt(),fill:Pe(),direction:Xe()})}),void 0!==ke&&Mr(ke)},pe=(ke=!1,He=!0,vt)=>(ke&&ue.forEach(Ge=>{Ge.update(ke,He,vt)}),qe&&z(vt),Z),B=()=>{u&&(qe?xe.forEach(ke=>{ke.pause()}):K.forEach(ke=>{Et(ke,"animation-play-state","paused")}),oe=!0)},je=ke=>new Promise(He=>{null!=ke&&ke.sync&&(L=!0,ot(()=>L=!1,{oneTimeCallback:!0})),u||vr(),F&&(qe&&(Mr(0),z()),F=!1),R&&(D=ue.length+1,R=!1);const vt=()=>{rt(Ge,W),He()},Ge=()=>{rt(vt,G),He()};ot(Ge,{oneTimeCallback:!0}),((ke,He)=>{G.push({c:ke,o:{oneTimeCallback:!0}})})(vt),ue.forEach(dt=>{dt.play()}),qe?(xe.forEach(ke=>{ke.play()}),(0===i.length||0===K.length)&&br()):br(),oe=!1}),it=(ke,He)=>{const vt=i[0];return void 0===vt||void 0!==vt.offset&&0!==vt.offset?i=[{offset:0,[ke]:He},...i]:vt[ke]=He,Z};return Z={parentAnimation:h,elements:K,childAnimations:ue,id:q,animationFinish:br,from:it,to:(ke,He)=>{const vt=i[i.length-1];return void 0===vt||void 0!==vt.offset&&1!==vt.offset?i=[...i,{offset:1,[ke]:He}]:vt[ke]=He,Z},fromTo:(ke,He,vt)=>it(ke,He).to(ke,vt),parent:ke=>(h=ke,Z),play:je,pause:()=>(ue.forEach(ke=>{ke.pause()}),B(),Z),stop:()=>{ue.forEach(ke=>{ke.stop()}),u&&(ft(),u=!1),$=!1,L=!1,R=!0,P=void 0,x=void 0,U=void 0,D=0,F=!1,I=!0,oe=!1,G.forEach(ke=>ke.c(0,Z)),G.length=0},destroy:ke=>(ue.forEach(He=>{He.destroy(ke)}),(ke=>{ft(),ke&&Pt()})(ke),K.length=0,ue.length=0,i.length=0,re.length=0,W.length=0,u=!1,R=!0,Z),keyframes:ke=>{const He=i!==ke;return i=ke,He&&(ke=>{qe&&ct().forEach(He=>{const vt=He.effect;if(vt.setKeyframes)vt.setKeyframes(ke);else{const Ge=new KeyframeEffect(vt.target,ke,vt.getTiming());He.effect=Ge}})})(i),Z},addAnimation:ke=>{if(null!=ke)if(Array.isArray(ke))for(const He of ke)He.parent(Z),ue.push(He);else ke.parent(Z),ue.push(ke);return Z},addElement:ke=>{if(null!=ke)if(1===ke.nodeType)K.push(ke);else if(ke.length>=0)for(let He=0;He<ke.length;He++)K.push(ke[He]);else console.error("Invalid addElement value");return Z},update:pe,fill:ke=>(E=ke,pe(!0),Z),direction:ke=>(_=ke,pe(!0),Z),iterations:ke=>(y=ke,pe(!0),Z),duration:ke=>(!qe&&0===ke&&(ke=1),b=ke,pe(!0),Z),easing:ke=>(p=ke,pe(!0),Z),delay:ke=>(v=ke,pe(!0),Z),getWebAnimations:ct,getKeyframes:()=>i,getFill:Pe,getDirection:Xe,getDelay:Ct,getIterations:Xt,getEasing:wt,getDuration:Ot,afterAddRead:ke=>(te.push(ke),Z),afterAddWrite:ke=>(me.push(ke),Z),afterClearStyles:(ke=[])=>{for(const He of ke)g[He]="";return Z},afterStyles:(ke={})=>(g=ke,Z),afterRemoveClass:ke=>(f=o(f,ke),Z),afterAddClass:ke=>(m=o(m,ke),Z),beforeAddRead:ke=>(Y.push(ke),Z),beforeAddWrite:ke=>(j.push(ke),Z),beforeClearStyles:(ke=[])=>{for(const He of ke)d[He]="";return Z},beforeStyles:(ke={})=>(d=ke,Z),beforeRemoveClass:ke=>(a=o(a,ke),Z),beforeAddClass:ke=>(l=o(l,ke),Z),onFinish:ot,isRunning:()=>0!==D&&!oe,progressStart:(ke=!1,He)=>(ue.forEach(vt=>{vt.progressStart(ke,He)}),B(),$=ke,u||vr(),pe(!1,!0,He),Z),progressStep:ke=>(ue.forEach(He=>{He.progressStep(ke)}),Mr(ke),Z),progressEnd:(ke,He,vt)=>($=!1,ue.forEach(Ge=>{Ge.progressEnd(ke,He,vt)}),void 0!==vt&&(x=vt),F=!1,I=!0,0===ke?(P="reverse"===Xe()?"normal":"reverse","reverse"===P&&(I=!1),qe?(pe(),Mr(1-He)):(U=(1-He)*Ot()*-1,pe(!1,!1))):1===ke&&(qe?(pe(),Mr(He)):(U=He*Ot()*-1,pe(!1,!1))),void 0!==ke&&!h&&je(),Z)}}},464:(Dr,rr,we)=>{"use strict";we.d(rr,{E:()=>p,I:()=>V,a:()=>M,s:()=>v});const M=y=>{try{if(y instanceof V)return y.value;if(!Et()||"string"!=typeof y||""===y)return y;if(y.includes("onload="))return"";const E=document.createDocumentFragment(),_=document.createElement("div");E.appendChild(_),_.innerHTML=y,se.forEach(u=>{const h=E.querySelectorAll(u);for(let d=h.length-1;d>=0;d--){const m=h[d];m.parentNode?m.parentNode.removeChild(m):E.removeChild(m);const f=Qe(m);for(let g=0;g<f.length;g++)T(f[g])}});const i=Qe(E);for(let u=0;u<i.length;u++)T(i[u]);const l=document.createElement("div");l.appendChild(E);const a=l.querySelector("div");return null!==a?a.innerHTML:l.innerHTML}catch(E){return console.error(E),""}},T=y=>{if(y.nodeType&&1!==y.nodeType)return;if(typeof NamedNodeMap<"u"&&!(y.attributes instanceof NamedNodeMap))return void y.remove();for(let _=y.attributes.length-1;_>=0;_--){const i=y.attributes.item(_),l=i.name;if(!o.includes(l.toLowerCase())){y.removeAttribute(l);continue}const a=i.value,u=y[l];(null!=a&&a.toLowerCase().includes("javascript:")||null!=u&&u.toLowerCase().includes("javascript:"))&&y.removeAttribute(l)}const E=Qe(y);for(let _=0;_<E.length;_++)T(E[_])},Qe=y=>null!=y.children?y.children:y.childNodes,Et=()=>{var y;const E=window,_=null===(y=null==E?void 0:E.Ionic)||void 0===y?void 0:y.config;return!_||(_.get?_.get("sanitizerEnabled",!0):!0===_.sanitizerEnabled||void 0===_.sanitizerEnabled)},o=["class","id","href","src","name","slot"],se=["script","style","iframe","meta","link","object","embed"];class V{constructor(E){this.value=E}}const v=y=>{const E=window,_=E.Ionic;if(!_||!_.config||"Object"===_.config.constructor.name)return E.Ionic=E.Ionic||{},E.Ionic.config=Object.assign(Object.assign({},E.Ionic.config),y),E.Ionic.config},p=!1},8621:(Dr,rr,we)=>{"use strict";we.d(rr,{C:()=>o,a:()=>Qe,d:()=>Et});var M=we(467),T=we(4920);const Qe=function(){var se=(0,M.A)(function*(V,v,b,p,y,E){var _;if(V)return V.attachViewToDom(v,b,y,p);if(!(E||"string"==typeof b||b instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof b?null===(_=v.ownerDocument)||void 0===_?void 0:_.createElement(b):b;return p&&p.forEach(l=>i.classList.add(l)),y&&Object.assign(i,y),v.appendChild(i),yield new Promise(l=>(0,T.c)(i,l)),i});return function(v,b,p,y,E,_){return se.apply(this,arguments)}}(),Et=(se,V)=>{if(V){if(se)return se.removeViewFromDom(V.parentElement,V);V.remove()}return Promise.resolve()},o=()=>{let se,V;return{attachViewToDom:function(){var p=(0,M.A)(function*(y,E,_={},i=[]){var l,a;let u;if(se=y,E){const d="string"==typeof E?null===(l=se.ownerDocument)||void 0===l?void 0:l.createElement(E):E;i.forEach(m=>d.classList.add(m)),Object.assign(d,_),se.appendChild(d),u=d,yield new Promise(m=>(0,T.c)(d,m))}else if(se.children.length>0&&("ION-MODAL"===se.tagName||"ION-POPOVER"===se.tagName)&&!(u=se.children[0]).classList.contains("ion-delegate-host")){const m=null===(a=se.ownerDocument)||void 0===a?void 0:a.createElement("div");m.classList.add("ion-delegate-host"),i.forEach(f=>m.classList.add(f)),m.append(...se.children),se.appendChild(m),u=m}const h=document.querySelector("ion-app")||document.body;return V=document.createComment("ionic teleport"),se.parentNode.insertBefore(V,se),h.appendChild(se),null!=u?u:se});return function(E,_){return p.apply(this,arguments)}}(),removeViewFromDom:()=>(se&&V&&(V.parentNode.insertBefore(se,V),V.remove()),Promise.resolve())}}},1970:(Dr,rr,we)=>{"use strict";we.d(rr,{B:()=>Et,G:()=>o});class T{constructor(V,v,b,p,y){this.id=v,this.name=b,this.disableScroll=y,this.priority=1e6*p+v,this.ctrl=V}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const V=this.ctrl.capture(this.name,this.id,this.priority);return V&&this.disableScroll&&this.ctrl.disableScroll(this.id),V}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Qe{constructor(V,v,b,p){this.id=v,this.disable=b,this.disableScroll=p,this.ctrl=V}block(){if(this.ctrl){if(this.disable)for(const V of this.disable)this.ctrl.disableGesture(V,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const V of this.disable)this.ctrl.enableGesture(V,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Et="backdrop-no-scroll",o=new class M{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(V){var v;return new T(this,this.newID(),V.name,null!==(v=V.priority)&&void 0!==v?v:0,!!V.disableScroll)}createBlocker(V={}){return new Qe(this,this.newID(),V.disable,!!V.disableScroll)}start(V,v,b){return this.canStart(V)?(this.requestedStart.set(v,b),!0):(this.requestedStart.delete(v),!1)}capture(V,v,b){if(!this.start(V,v,b))return!1;const p=this.requestedStart;let y=-1e4;if(p.forEach(E=>{y=Math.max(y,E)}),y===b){this.capturedId=v,p.clear();const E=new CustomEvent("ionGestureCaptured",{detail:{gestureName:V}});return document.dispatchEvent(E),!0}return p.delete(v),!1}release(V){this.requestedStart.delete(V),this.capturedId===V&&(this.capturedId=void 0)}disableGesture(V,v){let b=this.disabledGestures.get(V);void 0===b&&(b=new Set,this.disabledGestures.set(V,b)),b.add(v)}enableGesture(V,v){const b=this.disabledGestures.get(V);void 0!==b&&b.delete(v)}disableScroll(V){this.disabledScroll.add(V),1===this.disabledScroll.size&&document.body.classList.add(Et)}enableScroll(V){this.disabledScroll.delete(V),0===this.disabledScroll.size&&document.body.classList.remove(Et)}canStart(V){return!(void 0!==this.capturedId||this.isDisabled(V))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(V){const v=this.disabledGestures.get(V);return!!(v&&v.size>0)}newID(){return this.gestureId++,this.gestureId}}},8669:(Dr,rr,we)=>{"use strict";we.r(rr),we.d(rr,{MENU_BACK_BUTTON_PRIORITY:()=>b,OVERLAY_BACK_BUTTON_PRIORITY:()=>v,blockHardwareBackButton:()=>se,shouldUseCloseWatcher:()=>o,startHardwareBackButton:()=>V});var M=we(467),T=we(8476),Qe=we(4921);we(8393);const o=()=>Qe.c.get("experimentalCloseWatcher",!1)&&void 0!==T.w&&"CloseWatcher"in T.w,se=()=>{document.addEventListener("backbutton",()=>{})},V=()=>{const p=document;let y=!1;const E=()=>{if(y)return;let _=0,i=[];const l=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(h,d){i.push({priority:h,handler:d,id:_++})}}});p.dispatchEvent(l);const a=function(){var h=(0,M.A)(function*(d){try{if(null!=d&&d.handler){const m=d.handler(u);null!=m&&(yield m)}}catch(m){console.error(m)}});return function(m){return h.apply(this,arguments)}}(),u=()=>{if(i.length>0){let h={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(d=>{d.priority>=h.priority&&(h=d)}),y=!0,i=i.filter(d=>d.id!==h.id),a(h).then(()=>y=!1)}};u()};if(o()){let _;const i=()=>{null==_||_.destroy(),_=new T.w.CloseWatcher,_.onclose=()=>{E(),i()}};i()}else p.addEventListener("backbutton",E)},v=100,b=99},4920:(Dr,rr,we)=>{"use strict";we.d(rr,{a:()=>v,b:()=>b,c:()=>Qe,d:()=>i,e:()=>d,f:()=>_,g:()=>p,h:()=>o,i:()=>V,j:()=>l,k:()=>Et,l:()=>E,m:()=>a,n:()=>h,o:()=>m,p:()=>u,r:()=>y,s:()=>f,t:()=>M});const M=(g,D=0)=>new Promise($=>{T(g,D,$)}),T=(g,D=0,$)=>{let L,P;const x={passive:!0},I=()=>{L&&L()},F=R=>{(void 0===R||g===R.target)&&(I(),$(R))};return g&&(g.addEventListener("webkitTransitionEnd",F,x),g.addEventListener("transitionend",F,x),P=setTimeout(F,D+500),L=()=>{void 0!==P&&(clearTimeout(P),P=void 0),g.removeEventListener("webkitTransitionEnd",F,x),g.removeEventListener("transitionend",F,x)}),I},Qe=(g,D)=>{g.componentOnReady?g.componentOnReady().then($=>D($)):y(()=>D(g))},Et=g=>void 0!==g.componentOnReady,o=(g,D=[])=>{const $={};return D.forEach(L=>{g.hasAttribute(L)&&(null!==g.getAttribute(L)&&($[L]=g.getAttribute(L)),g.removeAttribute(L))}),$},se=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],V=(g,D)=>{let $=se;return D&&D.length>0&&($=$.filter(L=>!D.includes(L))),o(g,$)},v=(g,D,$,L)=>{var P;if(typeof window<"u"){const x=window,U=null===(P=null==x?void 0:x.Ionic)||void 0===P?void 0:P.config;if(U){const I=U.get("_ael");if(I)return I(g,D,$,L);if(U._ael)return U._ael(g,D,$,L)}}return g.addEventListener(D,$,L)},b=(g,D,$,L)=>{var P;if(typeof window<"u"){const x=window,U=null===(P=null==x?void 0:x.Ionic)||void 0===P?void 0:P.config;if(U){const I=U.get("_rel");if(I)return I(g,D,$,L);if(U._rel)return U._rel(g,D,$,L)}}return g.removeEventListener(D,$,L)},p=(g,D=g)=>g.shadowRoot||D,y=g=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(g):"function"==typeof requestAnimationFrame?requestAnimationFrame(g):setTimeout(g),E=g=>!!g.shadowRoot&&!!g.attachShadow,_=g=>{if(g.focus(),g.classList.contains("ion-focusable")){const D=g.closest("ion-app");D&&D.setFocus([g])}},i=(g,D,$,L,P)=>{if(g||E(D)){let x=D.querySelector("input.aux-input");x||(x=D.ownerDocument.createElement("input"),x.type="hidden",x.classList.add("aux-input"),D.appendChild(x)),x.disabled=P,x.name=$,x.value=L||""}},l=(g,D,$)=>Math.max(g,Math.min(D,$)),a=(g,D)=>{if(!g){const $="ASSERT: "+D;throw console.error($),new Error($)}},u=g=>{if(g){const D=g.changedTouches;if(D&&D.length>0){const $=D[0];return{x:$.clientX,y:$.clientY}}if(void 0!==g.pageX)return{x:g.pageX,y:g.pageY}}return{x:0,y:0}},h=g=>{const D="rtl"===document.dir;switch(g){case"start":return D;case"end":return!D;default:throw new Error(`"${g}" is not a valid value for [side]. Use "start" or "end" instead.`)}},d=(g,D)=>{const $=g._original||g;return{_original:g,emit:m($.emit.bind($),D)}},m=(g,D=0)=>{let $;return(...L)=>{clearTimeout($),$=setTimeout(g,D,...L)}},f=(g,D)=>{if(null!=g||(g={}),null!=D||(D={}),g===D)return!0;const $=Object.keys(g);if($.length!==Object.keys(D).length)return!1;for(const L of $)if(!(L in D)||g[L]!==D[L])return!1;return!0}},8607:(Dr,rr,we)=>{"use strict";we.r(rr),we.d(rr,{GESTURE_CONTROLLER:()=>M.G,createGesture:()=>b});var M=we(1970);const T=(_,i,l,a)=>{const u=Qe(_)?{capture:!!a.capture,passive:!!a.passive}:!!a.capture;let h,d;return _.__zone_symbol__addEventListener?(h="__zone_symbol__addEventListener",d="__zone_symbol__removeEventListener"):(h="addEventListener",d="removeEventListener"),_[h](i,l,u),()=>{_[d](i,l,u)}},Qe=_=>{if(void 0===Et)try{const i=Object.defineProperty({},"passive",{get:()=>{Et=!0}});_.addEventListener("optsTest",()=>{},i)}catch{Et=!1}return!!Et};let Et;const V=_=>_ instanceof Document?_:_.ownerDocument,b=_=>{let i=!1,l=!1,a=!0,u=!1;const h=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},_),d=h.canStart,m=h.onWillStart,f=h.onStart,g=h.onEnd,D=h.notCaptured,$=h.onMove,L=h.threshold,P=h.passive,x=h.blurOnStart,U={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},I=((_,i,l)=>{const a=l*(Math.PI/180),u="x"===_,h=Math.cos(a),d=i*i;let m=0,f=0,g=!1,D=0;return{start($,L){m=$,f=L,D=0,g=!0},detect($,L){if(!g)return!1;const P=$-m,x=L-f,U=P*P+x*x;if(U<d)return!1;const I=Math.sqrt(U),F=(u?P:x)/I;return D=F>h?1:F<-h?-1:0,g=!1,!0},isGesture:()=>0!==D,getDirection:()=>D}})(h.direction,h.threshold,h.maxAngle),F=M.G.createGesture({name:_.gestureName,priority:_.gesturePriority,disableScroll:_.disableScroll}),oe=()=>{i&&(u=!1,$&&$(U))},q=()=>!!F.capture()&&(i=!0,a=!1,U.startX=U.currentX,U.startY=U.currentY,U.startTime=U.currentTime,m?m(U).then(W):W(),!0),W=()=>{x&&(()=>{if(typeof document<"u"){const Y=document.activeElement;null!=Y&&Y.blur&&Y.blur()}})(),f&&f(U),a=!0},G=()=>{i=!1,l=!1,u=!1,a=!0,F.release()},K=Y=>{const j=i,te=a;if(G(),te){if(p(U,Y),j)return void(g&&g(U));D&&D(U)}},ue=((_,i,l,a,u)=>{let h,d,m,f,g,D,$,L=0;const P=re=>{L=Date.now()+2e3,i(re)&&(!d&&l&&(d=T(_,"touchmove",l,u)),m||(m=T(re.target,"touchend",U,u)),f||(f=T(re.target,"touchcancel",U,u)))},x=re=>{L>Date.now()||i(re)&&(!D&&l&&(D=T(V(_),"mousemove",l,u)),$||($=T(V(_),"mouseup",I,u)))},U=re=>{F(),a&&a(re)},I=re=>{R(),a&&a(re)},F=()=>{d&&d(),m&&m(),f&&f(),d=m=f=void 0},R=()=>{D&&D(),$&&$(),D=$=void 0},Z=()=>{F(),R()},oe=(re=!0)=>{re?(h||(h=T(_,"touchstart",P,u)),g||(g=T(_,"mousedown",x,u))):(h&&h(),g&&g(),h=g=void 0,Z())};return{enable:oe,stop:Z,destroy:()=>{oe(!1),a=l=i=void 0}}})(h.el,Y=>{const j=E(Y);return!(l||!a||(y(Y,U),U.startX=U.currentX,U.startY=U.currentY,U.startTime=U.currentTime=j,U.velocityX=U.velocityY=U.deltaX=U.deltaY=0,U.event=Y,d&&!1===d(U))||(F.release(),!F.start()))&&(l=!0,0===L?q():(I.start(U.startX,U.startY),!0))},Y=>{i?!u&&a&&(u=!0,p(U,Y),requestAnimationFrame(oe)):(p(U,Y),I.detect(U.currentX,U.currentY)&&(!I.isGesture()||!q())&&Me())},K,{capture:!1,passive:P}),Me=()=>{G(),ue.stop(),D&&D(U)};return{enable(Y=!0){Y||(i&&K(void 0),G()),ue.enable(Y)},destroy(){F.destroy(),ue.destroy()}}},p=(_,i)=>{if(!i)return;const l=_.currentX,a=_.currentY,u=_.currentTime;y(i,_);const h=_.currentX,d=_.currentY,f=(_.currentTime=E(i))-u;if(f>0&&f<100){const D=(d-a)/f;_.velocityX=(h-l)/f*.7+.3*_.velocityX,_.velocityY=.7*D+.3*_.velocityY}_.deltaX=h-_.startX,_.deltaY=d-_.startY,_.event=i},y=(_,i)=>{let l=0,a=0;if(_){const u=_.changedTouches;if(u&&u.length>0){const h=u[0];l=h.clientX,a=h.clientY}else void 0!==_.pageX&&(l=_.pageX,a=_.pageY)}i.currentX=l,i.currentY=a},E=_=>_.timeStamp||Date.now()},6073:(Dr,rr,we)=>{"use strict";we.d(rr,{m:()=>_});var M=we(467),T=we(8476),Qe=we(8669),Et=we(4929),o=we(4920),se=we(4921),V=we(9986);const v=i=>(0,V.c)().duration(i?400:300),b=i=>{let l,a;const u=i.width+8,h=(0,V.c)(),d=(0,V.c)();i.isEndSide?(l=u+"px",a="0px"):(l=-u+"px",a="0px"),h.addElement(i.menuInnerEl).fromTo("transform",`translateX(${l})`,`translateX(${a})`);const f="ios"===(0,se.b)(i),g=f?.2:.25;return d.addElement(i.backdropEl).fromTo("opacity",.01,g),v(f).addAnimation([h,d])},p=i=>{let l,a;const u=(0,se.b)(i),h=i.width;i.isEndSide?(l=-h+"px",a=h+"px"):(l=h+"px",a=-h+"px");const d=(0,V.c)().addElement(i.menuInnerEl).fromTo("transform",`translateX(${a})`,"translateX(0px)"),m=(0,V.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${l})`),f=(0,V.c)().addElement(i.backdropEl).fromTo("opacity",.01,.32);return v("ios"===u).addAnimation([d,m,f])},y=i=>{const l=(0,se.b)(i),a=i.width*(i.isEndSide?-1:1)+"px",u=(0,V.c)().addElement(i.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`);return v("ios"===l).addAnimation(u)},_=(()=>{const i=new Map,l=[],a=function(){var G=(0,M.A)(function*(K){const ue=yield D(K,!0);return!!ue&&ue.open()});return function(ue){return G.apply(this,arguments)}}(),u=function(){var G=(0,M.A)(function*(K){const ue=yield void 0!==K?D(K,!0):$();return void 0!==ue&&ue.close()});return function(ue){return G.apply(this,arguments)}}(),h=function(){var G=(0,M.A)(function*(K){const ue=yield D(K,!0);return!!ue&&ue.toggle()});return function(ue){return G.apply(this,arguments)}}(),d=function(){var G=(0,M.A)(function*(K,ue){const Me=yield D(ue);return Me&&(Me.disabled=!K),Me});return function(ue,Me){return G.apply(this,arguments)}}(),m=function(){var G=(0,M.A)(function*(K,ue){const Me=yield D(ue);return Me&&(Me.swipeGesture=K),Me});return function(ue,Me){return G.apply(this,arguments)}}(),f=function(){var G=(0,M.A)(function*(K){if(null!=K){const ue=yield D(K);return void 0!==ue&&ue.isOpen()}return void 0!==(yield $())});return function(ue){return G.apply(this,arguments)}}(),g=function(){var G=(0,M.A)(function*(K){const ue=yield D(K);return!!ue&&!ue.disabled});return function(ue){return G.apply(this,arguments)}}(),D=function(){var G=(0,M.A)(function*(K,ue=!1){if(yield W(),"start"===K||"end"===K){const Y=l.filter(te=>te.side===K&&!te.disabled);if(Y.length>=1)return Y.length>1&&ue&&(0,Et.p)(`menuController queried for a menu on the "${K}" side, but ${Y.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Y.map(te=>te.el)),Y[0].el;const j=l.filter(te=>te.side===K);if(j.length>=1)return j.length>1&&ue&&(0,Et.p)(`menuController queried for a menu on the "${K}" side, but ${j.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,j.map(te=>te.el)),j[0].el}else if(null!=K)return re(Y=>Y.menuId===K);return re(Y=>!Y.disabled)||(l.length>0?l[0].el:void 0)});return function(ue){return G.apply(this,arguments)}}(),$=function(){var G=(0,M.A)(function*(){return yield W(),Z()});return function(){return G.apply(this,arguments)}}(),L=function(){var G=(0,M.A)(function*(){return yield W(),oe()});return function(){return G.apply(this,arguments)}}(),P=function(){var G=(0,M.A)(function*(){return yield W(),q()});return function(){return G.apply(this,arguments)}}(),x=(G,K)=>{i.set(G,K)},F=function(){var G=(0,M.A)(function*(K,ue,Me){if(q())return!1;if(ue){const Y=yield $();Y&&K.el!==Y&&(yield Y.setOpen(!1,!1))}return K._setOpen(ue,Me)});return function(ue,Me,Y){return G.apply(this,arguments)}}(),Z=()=>re(G=>G._isOpen),oe=()=>l.map(G=>G.el),q=()=>l.some(G=>G.isAnimating),re=G=>{const K=l.find(G);if(void 0!==K)return K.el},W=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(G=>new Promise(K=>(0,o.c)(G,K))));return x("reveal",y),x("push",p),x("overlay",b),null==T.d||T.d.addEventListener("ionBackButton",G=>{const K=Z();K&&G.detail.register(Qe.MENU_BACK_BUTTON_PRIORITY,()=>K.close())}),{registerAnimation:x,get:D,getMenus:L,getOpen:$,isEnabled:g,swipeGesture:m,isAnimating:P,isOpen:f,enable:d,toggle:h,close:u,open:a,_getOpenSync:Z,_createAnimation:(G,K)=>{const ue=i.get(G);if(!ue)throw new Error("animation not registered");return ue(K)},_register:G=>{l.indexOf(G)<0&&l.push(G)},_unregister:G=>{const K=l.indexOf(G);K>-1&&l.splice(K,1)},_setOpen:F}})()},8393:(Dr,rr,we)=>{"use strict";we.d(rr,{B:()=>se,a:()=>R,b:()=>Vs,c:()=>Pe,d:()=>Xt,e:()=>te,f:()=>Vt,g:()=>Xe,h:()=>$t,i:()=>Ot,j:()=>yn,k:()=>xe,r:()=>b,w:()=>me});var M=we(467);var Et=Object.defineProperty,se={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},V=new WeakMap,v=Le=>V.get(Le),b=(Le,tt)=>V.set(tt.$lazyInstance$=Le,tt),y=(Le,tt)=>tt in Le,E=(Le,tt)=>(0,console.error)(Le,tt),_=new Map,l=new Map,a=[],f="s-id",g="sty-id",D="c-id",L="slot-fb{display:contents}slot-fb[hidden]{display:none}",P="http://www.w3.org/1999/xlink",x=typeof window<"u"?window:{},U=x.document||{head:{}},F={$flags$:0,$resourcesUrl$:"",jmp:Le=>Le(),raf:Le=>requestAnimationFrame(Le),ael:(Le,tt,Tt,kt)=>Le.addEventListener(tt,Tt,kt),rel:(Le,tt,Tt,kt)=>Le.removeEventListener(tt,Tt,kt),ce:(Le,tt)=>new CustomEvent(Le,tt)},R=Le=>{Object.assign(F,Le)},Z=!0,oe=(()=>{let Le=!1;try{U.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Le=!0}}))}catch{}return Le})(),re=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),W=!1,G=[],K=[],ue=(Le,tt)=>Tt=>{Le.push(Tt),W||(W=!0,tt&&4&F.$flags$?j(Y):F.raf(Y))},Me=Le=>{for(let tt=0;tt<Le.length;tt++)try{Le[tt](performance.now())}catch(Tt){E(Tt)}Le.length=0},Y=()=>{Me(G),Me(K),(W=G.length>0)&&F.raf(Y)},j=Le=>Promise.resolve(void 0).then(Le),te=ue(G,!1),me=ue(K,!0),xe=Le=>{const tt=new URL(Le,F.$resourcesUrl$);return tt.origin!==x.location.origin?tt.href:tt.pathname},Be={},st=Le=>"object"==(Le=typeof Le)||"function"===Le;function lt(Le){var tt,Tt,kt;return null!=(kt=null==(Tt=null==(tt=Le.head)?void 0:tt.querySelector('meta[name="csp-nonce"]'))?void 0:Tt.getAttribute("content"))?kt:void 0}((Le,tt)=>{for(var Tt in tt)Et(Le,Tt,{get:tt[Tt],enumerable:!0})})({},{err:()=>Ye,map:()=>ot,ok:()=>rt,unwrap:()=>Je,unwrapErr:()=>ft});var rt=Le=>({isOk:!0,isErr:!1,value:Le}),Ye=Le=>({isOk:!1,isErr:!0,value:Le});function ot(Le,tt){if(Le.isOk){const Tt=tt(Le.value);return Tt instanceof Promise?Tt.then(kt=>rt(kt)):rt(Tt)}if(Le.isErr)return Ye(Le.value);throw"should never get here"}var Je=Le=>{if(Le.isOk)return Le.value;throw Le.value},ft=Le=>{if(Le.isErr)return Le.value;throw Le.value},$t=(Le,tt,...Tt)=>{let kt=null,Qt=null,Yt=null,gr=!1,Sr=!1;const xr=[],Tr=Fr=>{for(let Gr=0;Gr<Fr.length;Gr++)kt=Fr[Gr],Array.isArray(kt)?Tr(kt):null!=kt&&"boolean"!=typeof kt&&((gr="function"!=typeof Le&&!st(kt))&&(kt=String(kt)),gr&&Sr?xr[xr.length-1].$text$+=kt:xr.push(gr?cr(null,kt):kt),Sr=gr)};if(Tr(Tt),tt){tt.key&&(Qt=tt.key),tt.name&&(Yt=tt.name);{const Fr=tt.className||tt.class;Fr&&(tt.class="object"!=typeof Fr?Fr:Object.keys(Fr).filter(Gr=>Fr[Gr]).join(" "))}}if("function"==typeof Le)return Le(null===tt?{}:tt,xr,Kt);const Ur=cr(Le,null);return Ur.$attrs$=tt,xr.length>0&&(Ur.$children$=xr),Ur.$key$=Qt,Ur.$name$=Yt,Ur},cr=(Le,tt)=>({$flags$:0,$tag$:Le,$text$:tt,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Vt={},Kt={forEach:(Le,tt)=>Le.map(hr).forEach(tt),map:(Le,tt)=>Le.map(hr).map(tt).map(It)},hr=Le=>({vattrs:Le.$attrs$,vchildren:Le.$children$,vkey:Le.$key$,vname:Le.$name$,vtag:Le.$tag$,vtext:Le.$text$}),It=Le=>{if("function"==typeof Le.vtag){const Tt={...Le.vattrs};return Le.vkey&&(Tt.key=Le.vkey),Le.vname&&(Tt.name=Le.vname),$t(Le.vtag,Tt,...Le.vchildren||[])}const tt=cr(Le.vtag,Le.vtext);return tt.$attrs$=Le.vattrs,tt.$children$=Le.vchildren,tt.$key$=Le.vkey,tt.$name$=Le.vname,tt},Ht=(Le,tt,Tt,kt,Qt,Yt,gr)=>{let Sr,xr,Tr,Ur;if(1===Yt.nodeType){for(Sr=Yt.getAttribute(D),Sr&&(xr=Sr.split("."),(xr[0]===gr||"0"===xr[0])&&(Tr={$flags$:0,$hostId$:xr[0],$nodeId$:xr[1],$depth$:xr[2],$index$:xr[3],$tag$:Yt.tagName.toLowerCase(),$elm$:Yt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},tt.push(Tr),Yt.removeAttribute(D),Le.$children$||(Le.$children$=[]),Le.$children$[Tr.$index$]=Tr,Le=Tr,kt&&"0"===Tr.$depth$&&(kt[Tr.$index$]=Tr.$elm$))),Ur=Yt.childNodes.length-1;Ur>=0;Ur--)Ht(Le,tt,Tt,kt,Qt,Yt.childNodes[Ur],gr);if(Yt.shadowRoot)for(Ur=Yt.shadowRoot.childNodes.length-1;Ur>=0;Ur--)Ht(Le,tt,Tt,kt,Qt,Yt.shadowRoot.childNodes[Ur],gr)}else if(8===Yt.nodeType)xr=Yt.nodeValue.split("."),(xr[1]===gr||"0"===xr[1])&&(Sr=xr[0],Tr={$flags$:0,$hostId$:xr[1],$nodeId$:xr[2],$depth$:xr[3],$index$:xr[4],$elm$:Yt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Sr?(Tr.$elm$=Yt.nextSibling,Tr.$elm$&&3===Tr.$elm$.nodeType&&(Tr.$text$=Tr.$elm$.textContent,tt.push(Tr),Yt.remove(),Le.$children$||(Le.$children$=[]),Le.$children$[Tr.$index$]=Tr,kt&&"0"===Tr.$depth$&&(kt[Tr.$index$]=Tr.$elm$))):Tr.$hostId$===gr&&("s"===Sr?(Tr.$tag$="slot",Yt["s-sn"]=xr[5]?Tr.$name$=xr[5]:"",Yt["s-sr"]=!0,kt&&(Tr.$elm$=U.createElement(Tr.$tag$),Tr.$name$&&Tr.$elm$.setAttribute("name",Tr.$name$),Yt.parentNode.insertBefore(Tr.$elm$,Yt),Yt.remove(),"0"===Tr.$depth$&&(kt[Tr.$index$]=Tr.$elm$)),Tt.push(Tr),Le.$children$||(Le.$children$=[]),Le.$children$[Tr.$index$]=Tr):"r"===Sr&&(kt?Yt.remove():(Qt["s-cr"]=Yt,Yt["s-cn"]=!0))));else if(Le&&"style"===Le.$tag$){const Fr=cr(null,Yt.textContent);Fr.$elm$=Yt,Fr.$index$="0",Le.$children$=[Fr]}},$e=(Le,tt)=>{if(1===Le.nodeType){let Tt=0;for(;Tt<Le.childNodes.length;Tt++)$e(Le.childNodes[Tt],tt);if(Le.shadowRoot)for(Tt=0;Tt<Le.shadowRoot.childNodes.length;Tt++)$e(Le.shadowRoot.childNodes[Tt],tt)}else if(8===Le.nodeType){const Tt=Le.nodeValue.split(".");"o"===Tt[0]&&(tt.set(Tt[1]+"."+Tt[2],Le),Le.nodeValue="",Le["s-en"]=Tt[3])}},Pe=Le=>a.push(Le),Xe=Le=>v(Le).$modeName$,Ot=Le=>v(Le).$hostElement$,Xt=(Le,tt,Tt)=>{const kt=Ot(Le);return{emit:Qt=>Ct(kt,tt,{bubbles:!!(4&Tt),composed:!!(2&Tt),cancelable:!!(1&Tt),detail:Qt})}},Ct=(Le,tt,Tt)=>{const kt=F.ce(tt,Tt);return Le.dispatchEvent(kt),kt},Bt=new WeakMap,er=(Le,tt,Tt)=>{let kt=l.get(Le);re&&Tt?(kt=kt||new CSSStyleSheet,"string"==typeof kt?kt=tt:kt.replaceSync(tt)):kt=tt,l.set(Le,kt)},or=(Le,tt,Tt)=>{var kt;const Qt=mt(tt,Tt),Yt=l.get(Qt);if(Le=11===Le.nodeType?Le:U,Yt)if("string"==typeof Yt){let Sr,gr=Bt.get(Le=Le.head||Le);if(gr||Bt.set(Le,gr=new Set),!gr.has(Qt)){if(Le.host&&(Sr=Le.querySelector(`[${g}="${Qt}"]`)))Sr.innerHTML=Yt;else{Sr=U.createElement("style"),Sr.innerHTML=Yt;const xr=null!=(kt=F.$nonce$)?kt:lt(U);null!=xr&&Sr.setAttribute("nonce",xr),Le.insertBefore(Sr,Le.querySelector("link"))}4&tt.$flags$&&(Sr.innerHTML+=L),gr&&gr.add(Qt)}}else Le.adoptedStyleSheets.includes(Yt)||(Le.adoptedStyleSheets=[...Le.adoptedStyleSheets,Yt]);return Qt},mt=(Le,tt)=>"sc-"+(tt&&32&Le.$flags$?Le.$tagName$+"-"+tt:Le.$tagName$),Ut=Le=>Le.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),yt=(Le,tt,Tt,kt,Qt,Yt)=>{if(Tt!==kt){let gr=y(Le,tt),Sr=tt.toLowerCase();if("class"===tt){const xr=Le.classList,Tr=ur(Tt),Ur=ur(kt);xr.remove(...Tr.filter(Fr=>Fr&&!Ur.includes(Fr))),xr.add(...Ur.filter(Fr=>Fr&&!Tr.includes(Fr)))}else if("style"===tt){for(const xr in Tt)(!kt||null==kt[xr])&&(xr.includes("-")?Le.style.removeProperty(xr):Le.style[xr]="");for(const xr in kt)(!Tt||kt[xr]!==Tt[xr])&&(xr.includes("-")?Le.style.setProperty(xr,kt[xr]):Le.style[xr]=kt[xr])}else if("key"!==tt)if("ref"===tt)kt&&kt(Le);else if(gr||"o"!==tt[0]||"n"!==tt[1]){const xr=st(kt);if((gr||xr&&null!==kt)&&!Qt)try{if(Le.tagName.includes("-"))Le[tt]=kt;else{const Ur=null==kt?"":kt;"list"===tt?gr=!1:(null==Tt||Le[tt]!=Ur)&&(Le[tt]=Ur)}}catch{}let Tr=!1;Sr!==(Sr=Sr.replace(/^xlink\:?/,""))&&(tt=Sr,Tr=!0),null==kt||!1===kt?(!1!==kt||""===Le.getAttribute(tt))&&(Tr?Le.removeAttributeNS(P,tt):Le.removeAttribute(tt)):(!gr||4&Yt||Qt)&&!xr&&(kt=!0===kt?"":kt,Tr?Le.setAttributeNS(P,tt,kt):Le.setAttribute(tt,kt))}else if(tt="-"===tt[2]?tt.slice(3):y(x,Sr)?Sr.slice(2):Sr[2]+tt.slice(3),Tt||kt){const xr=tt.endsWith(ht);tt=tt.replace(Dt,""),Tt&&F.rel(Le,tt,Tt,xr),kt&&F.ael(Le,tt,kt,xr)}}},Lt=/\s/,ur=Le=>Le?Le.split(Lt):[],ht="Capture",Dt=new RegExp(ht+"$"),tr=(Le,tt,Tt)=>{const kt=11===tt.$elm$.nodeType&&tt.$elm$.host?tt.$elm$.host:tt.$elm$,Qt=Le&&Le.$attrs$||Be,Yt=tt.$attrs$||Be;for(const gr of Jt(Object.keys(Qt)))gr in Yt||yt(kt,gr,Qt[gr],void 0,Tt,tt.$flags$);for(const gr of Jt(Object.keys(Yt)))yt(kt,gr,Qt[gr],Yt[gr],Tt,tt.$flags$)};function Jt(Le){return Le.includes("ref")?[...Le.filter(tt=>"ref"!==tt),"ref"]:Le}var ir,br,Er,vr=!1,Mr=!1,z=!1,pe=!1,Ie=(Le,tt,Tt,kt)=>{var Qt;const Yt=tt.$children$[Tt];let Sr,xr,Tr,gr=0;if(vr||(z=!0,"slot"===Yt.$tag$&&(ir&&kt.classList.add(ir+"-s"),Yt.$flags$|=Yt.$children$?2:1)),null!==Yt.$text$)Sr=Yt.$elm$=U.createTextNode(Yt.$text$);else if(1&Yt.$flags$)Sr=Yt.$elm$=U.createTextNode("");else{if(pe||(pe="svg"===Yt.$tag$),Sr=Yt.$elm$=U.createElementNS(pe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!vr&&2&Yt.$flags$?"slot-fb":Yt.$tag$),pe&&"foreignObject"===Yt.$tag$&&(pe=!1),tr(null,Yt,pe),(Le=>null!=Le)(ir)&&Sr["s-si"]!==ir&&Sr.classList.add(Sr["s-si"]=ir),dt(Sr,kt),Yt.$children$)for(gr=0;gr<Yt.$children$.length;++gr)xr=Ie(Le,Yt,gr,Sr),xr&&Sr.appendChild(xr);"svg"===Yt.$tag$?pe=!1:"foreignObject"===Sr.tagName&&(pe=!0)}return Sr["s-hn"]=Er,3&Yt.$flags$&&(Sr["s-sr"]=!0,Sr["s-cr"]=br,Sr["s-sn"]=Yt.$name$||"",Sr["s-rf"]=null==(Qt=Yt.$attrs$)?void 0:Qt.ref,Tr=Le&&Le.$children$&&Le.$children$[Tt],Tr&&Tr.$tag$===Yt.$tag$&&Le.$elm$&&C(Le.$elm$)),Sr},C=Le=>{F.$flags$|=1;const tt=Le.closest(Er.toLowerCase());if(null!=tt){const Tt=Array.from(tt.childNodes).find(Qt=>Qt["s-cr"]),kt=Array.from(Le.childNodes);for(const Qt of Tt?kt.reverse():kt)null!=Qt["s-sh"]&&(vt(tt,Qt,null!=Tt?Tt:null),Qt["s-sh"]=void 0,z=!0)}F.$flags$&=-2},O=(Le,tt)=>{F.$flags$|=1;const Tt=Array.from(Le.childNodes);if(Le["s-sr"]){let kt=Le;for(;kt=kt.nextSibling;)kt&&kt["s-sn"]===Le["s-sn"]&&kt["s-sh"]===Er&&Tt.push(kt)}for(let kt=Tt.length-1;kt>=0;kt--){const Qt=Tt[kt];Qt["s-hn"]!==Er&&Qt["s-ol"]&&(vt(je(Qt),Qt,ie(Qt)),Qt["s-ol"].remove(),Qt["s-ol"]=void 0,Qt["s-sh"]=void 0,z=!0),tt&&O(Qt,tt)}F.$flags$&=-2},B=(Le,tt,Tt,kt,Qt,Yt)=>{let Sr,gr=Le["s-cr"]&&Le["s-cr"].parentNode||Le;for(gr.shadowRoot&&gr.tagName===Er&&(gr=gr.shadowRoot);Qt<=Yt;++Qt)kt[Qt]&&(Sr=Ie(null,Tt,Qt,Le),Sr&&(kt[Qt].$elm$=Sr,vt(gr,Sr,ie(tt))))},A=(Le,tt,Tt)=>{for(let kt=tt;kt<=Tt;++kt){const Qt=Le[kt];if(Qt){const Yt=Qt.$elm$;He(Qt),Yt&&(Mr=!0,Yt["s-ol"]?Yt["s-ol"].remove():O(Yt,!0),Yt.remove())}}},H=(Le,tt,Tt=!1)=>Le.$tag$===tt.$tag$&&("slot"===Le.$tag$?Le.$name$===tt.$name$:!!Tt||Le.$key$===tt.$key$),ie=Le=>Le&&Le["s-ol"]||Le,je=Le=>(Le["s-ol"]?Le["s-ol"]:Le).parentNode,Ae=(Le,tt,Tt=!1)=>{const kt=tt.$elm$=Le.$elm$,Qt=Le.$children$,Yt=tt.$children$,gr=tt.$tag$,Sr=tt.$text$;let xr;null===Sr?(pe="svg"===gr||"foreignObject"!==gr&&pe,"slot"!==gr||vr?tr(Le,tt,pe):Le.$name$!==tt.$name$&&(tt.$elm$["s-sn"]=tt.$name$||"",C(tt.$elm$.parentElement)),null!==Qt&&null!==Yt?((Le,tt,Tt,kt,Qt=!1)=>{let bn,_n,Yt=0,gr=0,Sr=0,xr=0,Tr=tt.length-1,Ur=tt[0],Fr=tt[Tr],Gr=kt.length-1,qr=kt[0],pn=kt[Gr];for(;Yt<=Tr&&gr<=Gr;)if(null==Ur)Ur=tt[++Yt];else if(null==Fr)Fr=tt[--Tr];else if(null==qr)qr=kt[++gr];else if(null==pn)pn=kt[--Gr];else if(H(Ur,qr,Qt))Ae(Ur,qr,Qt),Ur=tt[++Yt],qr=kt[++gr];else if(H(Fr,pn,Qt))Ae(Fr,pn,Qt),Fr=tt[--Tr],pn=kt[--Gr];else if(H(Ur,pn,Qt))("slot"===Ur.$tag$||"slot"===pn.$tag$)&&O(Ur.$elm$.parentNode,!1),Ae(Ur,pn,Qt),vt(Le,Ur.$elm$,Fr.$elm$.nextSibling),Ur=tt[++Yt],pn=kt[--Gr];else if(H(Fr,qr,Qt))("slot"===Ur.$tag$||"slot"===pn.$tag$)&&O(Fr.$elm$.parentNode,!1),Ae(Fr,qr,Qt),vt(Le,Fr.$elm$,Ur.$elm$),Fr=tt[--Tr],qr=kt[++gr];else{for(Sr=-1,xr=Yt;xr<=Tr;++xr)if(tt[xr]&&null!==tt[xr].$key$&&tt[xr].$key$===qr.$key$){Sr=xr;break}Sr>=0?(_n=tt[Sr],_n.$tag$!==qr.$tag$?bn=Ie(tt&&tt[gr],Tt,Sr,Le):(Ae(_n,qr,Qt),tt[Sr]=void 0,bn=_n.$elm$),qr=kt[++gr]):(bn=Ie(tt&&tt[gr],Tt,gr,Le),qr=kt[++gr]),bn&&vt(je(Ur.$elm$),bn,ie(Ur.$elm$))}Yt>Tr?B(Le,null==kt[Gr+1]?null:kt[Gr+1].$elm$,Tt,kt,gr,Gr):gr>Gr&&A(tt,Yt,Tr)})(kt,Qt,tt,Yt,Tt):null!==Yt?(null!==Le.$text$&&(kt.textContent=""),B(kt,null,tt,Yt,0,Yt.length-1)):null!==Qt&&A(Qt,0,Qt.length-1),pe&&"svg"===gr&&(pe=!1)):(xr=kt["s-cr"])?xr.parentNode.textContent=Sr:Le.$text$!==Sr&&(kt.data=Sr)},it=Le=>{const tt=Le.childNodes;for(const Tt of tt)if(1===Tt.nodeType){if(Tt["s-sr"]){const kt=Tt["s-sn"];Tt.hidden=!1;for(const Qt of tt)if(Qt!==Tt)if(Qt["s-hn"]!==Tt["s-hn"]||""!==kt){if(1===Qt.nodeType&&(kt===Qt.getAttribute("slot")||kt===Qt["s-sn"])||3===Qt.nodeType&&kt===Qt["s-sn"]){Tt.hidden=!0;break}}else if(1===Qt.nodeType||3===Qt.nodeType&&""!==Qt.textContent.trim()){Tt.hidden=!0;break}}it(Tt)}},xt=[],fr=Le=>{let tt,Tt,kt;for(const Qt of Le.childNodes){if(Qt["s-sr"]&&(tt=Qt["s-cr"])&&tt.parentNode){Tt=tt.parentNode.childNodes;const Yt=Qt["s-sn"];for(kt=Tt.length-1;kt>=0;kt--)if(tt=Tt[kt],!(tt["s-cn"]||tt["s-nr"]||tt["s-hn"]===Qt["s-hn"]||tt["s-sh"]&&tt["s-sh"]===Qt["s-hn"]))if(ke(tt,Yt)){let gr=xt.find(Sr=>Sr.$nodeToRelocate$===tt);Mr=!0,tt["s-sn"]=tt["s-sn"]||Yt,gr?(gr.$nodeToRelocate$["s-sh"]=Qt["s-hn"],gr.$slotRefNode$=Qt):(tt["s-sh"]=Qt["s-hn"],xt.push({$slotRefNode$:Qt,$nodeToRelocate$:tt})),tt["s-sr"]&&xt.map(Sr=>{ke(Sr.$nodeToRelocate$,tt["s-sn"])&&(gr=xt.find(xr=>xr.$nodeToRelocate$===tt),gr&&!Sr.$slotRefNode$&&(Sr.$slotRefNode$=gr.$slotRefNode$))})}else xt.some(gr=>gr.$nodeToRelocate$===tt)||xt.push({$nodeToRelocate$:tt})}1===Qt.nodeType&&fr(Qt)}},ke=(Le,tt)=>1===Le.nodeType?null===Le.getAttribute("slot")&&""===tt||Le.getAttribute("slot")===tt:Le["s-sn"]===tt||""===tt,He=Le=>{Le.$attrs$&&Le.$attrs$.ref&&Le.$attrs$.ref(null),Le.$children$&&Le.$children$.map(He)},vt=(Le,tt,Tt)=>{const kt=null==Le?void 0:Le.insertBefore(tt,Tt);return dt(tt,Le),kt},Ge=Le=>{const tt=[];return Le&&tt.push(...Le["s-scs"]||[],Le["s-si"],Le["s-sc"],...Ge(Le.parentElement)),tt},dt=(Le,tt,Tt=!1)=>{var kt;if(Le&&tt&&1===Le.nodeType){const Qt=new Set(Ge(tt).filter(Boolean));if(Qt.size&&(null==(kt=Le.classList)||kt.add(...Le["s-scs"]=[...Qt]),Le["s-ol"]||Tt))for(const Yt of Array.from(Le.childNodes))dt(Yt,Le,!0)}},ar=(Le,tt)=>{tt&&!Le.$onRenderResolve$&&tt["s-p"]&&tt["s-p"].push(new Promise(Tt=>Le.$onRenderResolve$=Tt))},_r=(Le,tt)=>{if(Le.$flags$|=16,!(4&Le.$flags$))return ar(Le,Le.$ancestorComponent$),me(()=>Pr(Le,tt));Le.$flags$|=512},Pr=(Le,tt)=>{const Qt=Le.$lazyInstance$;if(!Qt)throw new Error(`Can't render component <${Le.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Yt;return tt&&(Le.$flags$|=256,Le.$queuedListeners$&&(Le.$queuedListeners$.map(([gr,Sr])=>Sn(Qt,gr,Sr)),Le.$queuedListeners$=void 0),Yt=Sn(Qt,"componentWillLoad")),Yt=tn(Yt,()=>Sn(Qt,"componentWillRender")),tn(Yt,()=>Nn(Le,Qt,tt))},tn=(Le,tt)=>on(Le)?Le.then(tt).catch(Tt=>{console.error(Tt),tt()}):tt(),on=Le=>Le instanceof Promise||Le&&Le.then&&"function"==typeof Le.then,Nn=function(){var Le=(0,M.A)(function*(tt,Tt,kt){var Qt;const Yt=tt.$hostElement$,Sr=Yt["s-rc"];kt&&(Le=>{const tt=Le.$cmpMeta$,Tt=Le.$hostElement$,kt=tt.$flags$,Yt=or(Tt.shadowRoot?Tt.shadowRoot:Tt.getRootNode(),tt,Le.$modeName$);10&kt&&(Tt["s-sc"]=Yt,Tt.classList.add(Yt+"-h"),2&kt&&Tt.classList.add(Yt+"-s"))})(tt);Dn(tt,Tt,Yt,kt),Sr&&(Sr.map(Tr=>Tr()),Yt["s-rc"]=void 0);{const Tr=null!=(Qt=Yt["s-p"])?Qt:[],Ur=()=>Kr(tt);0===Tr.length?Ur():(Promise.all(Tr).then(Ur),tt.$flags$|=4,Tr.length=0)}});return function(Tt,kt,Qt){return Le.apply(this,arguments)}}(),Dn=(Le,tt,Tt,kt)=>{try{tt=tt.render&&tt.render(),Le.$flags$&=-17,Le.$flags$|=2,((Le,tt,Tt=!1)=>{var kt,Qt,Yt,gr,Sr;const xr=Le.$hostElement$,Tr=Le.$cmpMeta$,Ur=Le.$vnode$||cr(null,null),Fr=(Le=>Le&&Le.$tag$===Vt)(tt)?tt:$t(null,null,tt);if(Er=xr.tagName,Tr.$attrsToReflect$&&(Fr.$attrs$=Fr.$attrs$||{},Tr.$attrsToReflect$.map(([Gr,qr])=>Fr.$attrs$[qr]=xr[Gr])),Tt&&Fr.$attrs$)for(const Gr of Object.keys(Fr.$attrs$))xr.hasAttribute(Gr)&&!["key","ref","style","class"].includes(Gr)&&(Fr.$attrs$[Gr]=xr[Gr]);if(Fr.$tag$=null,Fr.$flags$|=4,Le.$vnode$=Fr,Fr.$elm$=Ur.$elm$=xr.shadowRoot||xr,ir=xr["s-sc"],vr=!!(1&Tr.$flags$),br=xr["s-cr"],Mr=!1,Ae(Ur,Fr,Tt),F.$flags$|=1,z){fr(Fr.$elm$);for(const Gr of xt){const qr=Gr.$nodeToRelocate$;if(!qr["s-ol"]){const pn=U.createTextNode("");pn["s-nr"]=qr,vt(qr.parentNode,qr["s-ol"]=pn,qr)}}for(const Gr of xt){const qr=Gr.$nodeToRelocate$,pn=Gr.$slotRefNode$;if(pn){const bn=pn.parentNode;let _n=pn.nextSibling;if(_n&&1===_n.nodeType){let Fn=null==(kt=qr["s-ol"])?void 0:kt.previousSibling;for(;Fn;){let kn=null!=(Qt=Fn["s-nr"])?Qt:null;if(kn&&kn["s-sn"]===qr["s-sn"]&&bn===kn.parentNode){for(kn=kn.nextSibling;kn===qr||null!=kn&&kn["s-sr"];)kn=null==kn?void 0:kn.nextSibling;if(!kn||!kn["s-nr"]){_n=kn;break}}Fn=Fn.previousSibling}}(!_n&&bn!==qr.parentNode||qr.nextSibling!==_n)&&qr!==_n&&(vt(bn,qr,_n),1===qr.nodeType&&(qr.hidden=null!=(Yt=qr["s-ih"])&&Yt)),qr&&"function"==typeof pn["s-rf"]&&pn["s-rf"](qr)}else 1===qr.nodeType&&(Tt&&(qr["s-ih"]=null!=(gr=qr.hidden)&&gr),qr.hidden=!0)}}if(Mr&&it(Fr.$elm$),F.$flags$&=-2,xt.length=0,2&Tr.$flags$)for(const Gr of Fr.$elm$.childNodes)Gr["s-hn"]!==Er&&!Gr["s-sh"]&&(Tt&&null==Gr["s-ih"]&&(Gr["s-ih"]=null!=(Sr=Gr.hidden)&&Sr),Gr.hidden=!0);br=void 0})(Le,tt,kt)}catch(Qt){E(Qt,Le.$hostElement$)}return null},Kr=Le=>{const Tt=Le.$hostElement$,Qt=Le.$lazyInstance$,Yt=Le.$ancestorComponent$;Sn(Qt,"componentDidRender"),64&Le.$flags$?Sn(Qt,"componentDidUpdate"):(Le.$flags$|=64,Ln(Tt),Sn(Qt,"componentDidLoad"),Le.$onReadyResolve$(Tt),Yt||Vn()),Le.$onInstanceResolve$(Tt),Le.$onRenderResolve$&&(Le.$onRenderResolve$(),Le.$onRenderResolve$=void 0),512&Le.$flags$&&j(()=>_r(Le,!1)),Le.$flags$&=-517},yn=Le=>{{const tt=v(Le),Tt=tt.$hostElement$.isConnected;return Tt&&2==(18&tt.$flags$)&&_r(tt,!1),Tt}},Vn=Le=>{Ln(U.documentElement),j(()=>Ct(x,"appload",{detail:{namespace:"ionic"}}))},Sn=(Le,tt,Tt)=>{if(Le&&Le[tt])try{return Le[tt](Tt)}catch(kt){E(kt)}},Ln=Le=>Le.classList.add(("hydrated","hydrated")),wo=(Le,tt,Tt)=>{var kt,Qt;const Yt=Le.prototype;if(tt.$members$||tt.$watchers$||Le.watchers){Le.watchers&&!tt.$watchers$&&(tt.$watchers$=Le.watchers);const gr=Object.entries(null!=(kt=tt.$members$)?kt:{});if(gr.map(([Sr,[xr]])=>{31&xr||2&Tt&&32&xr?Object.defineProperty(Yt,Sr,{get(){return((Le,tt)=>v(this).$instanceValues$.get(tt))(0,Sr)},set(Tr){((Le,tt,Tt,kt)=>{const Qt=v(Le);if(!Qt)throw new Error(`Couldn't find host element for "${kt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Yt=Qt.$hostElement$,gr=Qt.$instanceValues$.get(tt),Sr=Qt.$flags$,xr=Qt.$lazyInstance$;Tt=((Le,tt)=>null==Le||st(Le)?Le:4&tt?"false"!==Le&&(""===Le||!!Le):2&tt?parseFloat(Le):1&tt?String(Le):Le)(Tt,kt.$members$[tt][0]);const Tr=Number.isNaN(gr)&&Number.isNaN(Tt);if((!(8&Sr)||void 0===gr)&&Tt!==gr&&!Tr&&(Qt.$instanceValues$.set(tt,Tt),xr)){if(kt.$watchers$&&128&Sr){const Fr=kt.$watchers$[tt];Fr&&Fr.map(Gr=>{try{xr[Gr](Tt,gr,tt)}catch(qr){E(qr,Yt)}})}2==(18&Sr)&&_r(Qt,!1)}})(this,Sr,Tr,tt)},configurable:!0,enumerable:!0}):1&Tt&&64&xr&&Object.defineProperty(Yt,Sr,{value(...Tr){var Ur;const Fr=v(this);return null==(Ur=null==Fr?void 0:Fr.$onInstancePromise$)?void 0:Ur.then(()=>{var Gr;return null==(Gr=Fr.$lazyInstance$)?void 0:Gr[Sr](...Tr)})}})}),1&Tt){const Sr=new Map;Yt.attributeChangedCallback=function(xr,Tr,Ur){F.jmp(()=>{var Fr;const Gr=Sr.get(xr);if(this.hasOwnProperty(Gr))Ur=this[Gr],delete this[Gr];else{if(Yt.hasOwnProperty(Gr)&&"number"==typeof this[Gr]&&this[Gr]==Ur)return;if(null==Gr){const qr=v(this),pn=null==qr?void 0:qr.$flags$;if(pn&&!(8&pn)&&128&pn&&Ur!==Tr){const bn=qr.$lazyInstance$,_n=null==(Fr=tt.$watchers$)?void 0:Fr[xr];null==_n||_n.forEach(Fn=>{null!=bn[Fn]&&bn[Fn].call(bn,Ur,Tr,xr)})}return}}this[Gr]=(null!==Ur||"boolean"!=typeof this[Gr])&&Ur})},Le.observedAttributes=Array.from(new Set([...Object.keys(null!=(Qt=tt.$watchers$)?Qt:{}),...gr.filter(([xr,Tr])=>15&Tr[0]).map(([xr,Tr])=>{var Ur;const Fr=Tr[1]||xr;return Sr.set(Fr,xr),512&Tr[0]&&(null==(Ur=tt.$attrsToReflect$)||Ur.push([xr,Fr])),Fr})]))}}return Le},ko=function(){var Le=(0,M.A)(function*(tt,Tt,kt,Qt){let Yt;if(!(32&Tt.$flags$)){if(Tt.$flags$|=32,kt.$lazyBundleId$){const Tr=((Le,tt,Tt)=>{const kt=Le.$tagName$.replace(/-/g,"_"),Qt=Le.$lazyBundleId$;if(!Qt)return;const Yt=_.get(Qt);return Yt?Yt[kt]:we(8996)(`./${Qt}.entry.js`).then(gr=>(_.set(Qt,gr),gr[kt]),E)})(kt);if(Tr&&"then"in Tr){const Fr=()=>{};Yt=yield Tr,Fr()}else Yt=Tr;if(!Yt)throw new Error(`Constructor for "${kt.$tagName$}#${Tt.$modeName$}" was not found`);Yt.isProxied||(kt.$watchers$=Yt.watchers,wo(Yt,kt,2),Yt.isProxied=!0);const Ur=()=>{};Tt.$flags$|=8;try{new Yt(Tt)}catch(Fr){E(Fr)}Tt.$flags$&=-9,Tt.$flags$|=128,Ur(),No(Tt.$lazyInstance$)}else Yt=tt.constructor,customElements.whenDefined(tt.localName).then(()=>Tt.$flags$|=128);if(Yt&&Yt.style){let Tr;"string"==typeof Yt.style?Tr=Yt.style:"string"!=typeof Yt.style&&(Tt.$modeName$=(Le=>a.map(tt=>tt(Le)).find(tt=>!!tt))(tt),Tt.$modeName$&&(Tr=Yt.style[Tt.$modeName$]));const Ur=mt(kt,Tt.$modeName$);if(!l.has(Ur)){const Fr=()=>{};er(Ur,Tr,!!(1&kt.$flags$)),Fr()}}}const gr=Tt.$ancestorComponent$,Sr=()=>_r(Tt,!0);gr&&gr["s-rc"]?gr["s-rc"].push(Sr):Sr()});return function(Tt,kt,Qt,Yt){return Le.apply(this,arguments)}}(),No=Le=>{Sn(Le,"connectedCallback")},Wn=Le=>{const tt=Le["s-cr"]=U.createComment("");tt["s-cn"]=!0,vt(Le,tt,Le.firstChild)},Vo=Le=>{Sn(Le,"disconnectedCallback")},oo=function(){var Le=(0,M.A)(function*(tt){if(!(1&F.$flags$)){const Tt=v(tt);Tt.$rmListeners$&&(Tt.$rmListeners$.map(kt=>kt()),Tt.$rmListeners$=void 0),null!=Tt&&Tt.$lazyInstance$?Vo(Tt.$lazyInstance$):null!=Tt&&Tt.$onReadyPromise$&&Tt.$onReadyPromise$.then(()=>Vo(Tt.$lazyInstance$))}});return function(Tt){return Le.apply(this,arguments)}}(),vs=Le=>{const tt=Le.cloneNode;Le.cloneNode=function(Tt){const kt=this,Qt=kt.shadowRoot&&Z,Yt=tt.call(kt,!!Qt&&Tt);if(!Qt&&Tt){let Sr,xr,gr=0;const Tr=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;gr<kt.childNodes.length;gr++)Sr=kt.childNodes[gr]["s-nr"],xr=Tr.every(Ur=>!kt.childNodes[gr][Ur]),Sr&&(Yt.__appendChild?Yt.__appendChild(Sr.cloneNode(!0)):Yt.appendChild(Sr.cloneNode(!0))),xr&&Yt.appendChild(kt.childNodes[gr].cloneNode(!0))}return Yt}},ye=Le=>{Le.__appendChild=Le.appendChild,Le.appendChild=function(tt){const Tt=tt["s-sn"]=Yo(tt),kt=As(this.childNodes,Tt,this.tagName);if(kt){const Qt=Ms(kt,Tt),Yt=Qt[Qt.length-1],gr=vt(Yt.parentNode,tt,Yt.nextSibling);return it(this),gr}return this.__appendChild(tt)}},Ve=Le=>{Le.__removeChild=Le.removeChild,Le.removeChild=function(tt){if(tt&&typeof tt["s-sn"]<"u"){const Tt=As(this.childNodes,tt["s-sn"],this.tagName);if(Tt){const Qt=Ms(Tt,tt["s-sn"]).find(Yt=>Yt===tt);if(Qt)return Qt.remove(),void it(this)}}return this.__removeChild(tt)}},ut=Le=>{const tt=Le.prepend;Le.prepend=function(...Tt){Tt.forEach(kt=>{"string"==typeof kt&&(kt=this.ownerDocument.createTextNode(kt));const Qt=kt["s-sn"]=Yo(kt),Yt=As(this.childNodes,Qt,this.tagName);if(Yt){const gr=document.createTextNode("");gr["s-nr"]=kt,Yt["s-cr"].parentNode.__appendChild(gr),kt["s-ol"]=gr;const xr=Ms(Yt,Qt)[0];return vt(xr.parentNode,kt,xr.nextSibling)}return 1===kt.nodeType&&kt.getAttribute("slot")&&(kt.hidden=!0),tt.call(this,kt)})}},Ee=Le=>{Le.append=function(...tt){tt.forEach(Tt=>{"string"==typeof Tt&&(Tt=this.ownerDocument.createTextNode(Tt)),this.appendChild(Tt)})}},pt=Le=>{const tt=Le.insertAdjacentHTML;Le.insertAdjacentHTML=function(Tt,kt){if("afterbegin"!==Tt&&"beforeend"!==Tt)return tt.call(this,Tt,kt);const Qt=this.ownerDocument.createElement("_");let Yt;if(Qt.innerHTML=kt,"afterbegin"===Tt)for(;Yt=Qt.firstChild;)this.prepend(Yt);else if("beforeend"===Tt)for(;Yt=Qt.firstChild;)this.append(Yt)}},Zt=Le=>{Le.insertAdjacentText=function(tt,Tt){this.insertAdjacentHTML(tt,Tt)}},fn=Le=>{const tt=Le.insertAdjacentElement;Le.insertAdjacentElement=function(Tt,kt){return"afterbegin"!==Tt&&"beforeend"!==Tt?tt.call(this,Tt,kt):"afterbegin"===Tt?(this.prepend(kt),kt):("beforeend"===Tt&&this.append(kt),kt)}},Gn=Le=>{const tt=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Le,"__textContent",tt),Object.defineProperty(Le,"textContent",{get(){return" "+ts(this.childNodes).map(Qt=>{var Yt,gr;const Sr=[];let xr=Qt.nextSibling;for(;xr&&xr["s-sn"]===Qt["s-sn"];)(3===xr.nodeType||1===xr.nodeType)&&Sr.push(null!=(gr=null==(Yt=xr.textContent)?void 0:Yt.trim())?gr:""),xr=xr.nextSibling;return Sr.filter(Tr=>""!==Tr).join(" ")}).filter(Qt=>""!==Qt).join(" ")+" "},set(Tt){ts(this.childNodes).forEach(Qt=>{let Yt=Qt.nextSibling;for(;Yt&&Yt["s-sn"]===Qt["s-sn"];){const gr=Yt;Yt=Yt.nextSibling,gr.remove()}if(""===Qt["s-sn"]){const gr=this.ownerDocument.createTextNode(Tt);gr["s-sn"]="",vt(Qt.parentElement,gr,Qt.nextSibling)}else Qt.remove()})}})},mo=(Le,tt)=>{class Tt extends Array{item(Qt){return this[Qt]}}if(8&tt.$flags$){const kt=Le.__lookupGetter__("childNodes");Object.defineProperty(Le,"children",{get(){return this.childNodes.map(Qt=>1===Qt.nodeType)}}),Object.defineProperty(Le,"childElementCount",{get:()=>Le.children.length}),Object.defineProperty(Le,"childNodes",{get(){const Qt=kt.call(this);if(!(1&F.$flags$)&&2&v(this).$flags$){const Yt=new Tt;for(let gr=0;gr<Qt.length;gr++){const Sr=Qt[gr]["s-nr"];Sr&&Yt.push(Sr)}return Yt}return Tt.from(Qt)}})}},ts=Le=>{const tt=[];for(const Tt of Array.from(Le))Tt["s-sr"]&&tt.push(Tt),tt.push(...ts(Tt.childNodes));return tt},Yo=Le=>Le["s-sn"]||1===Le.nodeType&&Le.getAttribute("slot")||"",As=(Le,tt,Tt)=>{let Qt,kt=0;for(;kt<Le.length;kt++)if(Qt=Le[kt],Qt["s-sr"]&&Qt["s-sn"]===tt&&Qt["s-hn"]===Tt||(Qt=As(Qt.childNodes,tt,Tt),Qt))return Qt;return null},Ms=(Le,tt)=>{const Tt=[Le];for(;(Le=Le.nextSibling)&&Le["s-sn"]===tt;)Tt.push(Le);return Tt},Vs=(Le,tt={})=>{var Tt;const Qt=[],Yt=tt.exclude||[],gr=x.customElements,Sr=U.head,xr=Sr.querySelector("meta[charset]"),Tr=U.createElement("style"),Ur=[],Fr=U.querySelectorAll(`[${g}]`);let Gr,qr=!0,pn=0;for(Object.assign(F,tt),F.$resourcesUrl$=new URL(tt.resourcesUrl||"./",U.baseURI).href,F.$flags$|=2;pn<Fr.length;pn++)er(Fr[pn].getAttribute(g),Ut(Fr[pn].innerHTML),!0);let bn=!1;if(Le.map(_n=>{_n[1].map(Fn=>{var kn;const Rr={$flags$:Fn[0],$tagName$:Fn[1],$members$:Fn[2],$listeners$:Fn[3]};4&Rr.$flags$&&(bn=!0),Rr.$members$=Fn[2],Rr.$listeners$=Fn[3],Rr.$attrsToReflect$=[],Rr.$watchers$=null!=(kn=Fn[4])?kn:{};const go=Rr.$tagName$,Lo=class extends HTMLElement{constructor(Pn){if(super(Pn),this.hasRegisteredEventListeners=!1,((Le,tt)=>{const Tt={$flags$:0,$hostElement$:Le,$cmpMeta$:tt,$instanceValues$:new Map};Tt.$onInstancePromise$=new Promise(kt=>Tt.$onInstanceResolve$=kt),Tt.$onReadyPromise$=new Promise(kt=>Tt.$onReadyResolve$=kt),Le["s-p"]=[],Le["s-rc"]=[],V.set(Le,Tt)})(Pn=this,Rr),1&Rr.$flags$)if(Pn.shadowRoot){if("open"!==Pn.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Rr.$tagName$}! Mode is set to ${Pn.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Pn.attachShadow({mode:"open",delegatesFocus:!!(16&Rr.$flags$)})}connectedCallback(){const Pn=v(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Is(this,Pn,Rr.$listeners$)),Gr&&(clearTimeout(Gr),Gr=null),qr?Ur.push(this):F.jmp(()=>(Le=>{if(!(1&F.$flags$)){const tt=v(Le),Tt=tt.$cmpMeta$,kt=()=>{};if(1&tt.$flags$)Is(Le,tt,Tt.$listeners$),null!=tt&&tt.$lazyInstance$?No(tt.$lazyInstance$):null!=tt&&tt.$onReadyPromise$&&tt.$onReadyPromise$.then(()=>No(tt.$lazyInstance$));else{let Qt;if(tt.$flags$|=1,Qt=Le.getAttribute(f),Qt){if(1&Tt.$flags$){const Yt=or(Le.shadowRoot,Tt,Le.getAttribute("s-mode"));Le.classList.remove(Yt+"-h",Yt+"-s")}((Le,tt,Tt,kt)=>{const Yt=Le.shadowRoot,gr=[],xr=Yt?[]:null,Tr=kt.$vnode$=cr(tt,null);F.$orgLocNodes$||$e(U.body,F.$orgLocNodes$=new Map),Le[f]=Tt,Le.removeAttribute(f),Ht(Tr,gr,[],xr,Le,Le,Tt),gr.map(Ur=>{const Fr=Ur.$hostId$+"."+Ur.$nodeId$,Gr=F.$orgLocNodes$.get(Fr),qr=Ur.$elm$;Gr&&""===Gr["s-en"]&&Gr.parentNode.insertBefore(qr,Gr.nextSibling),Yt||(qr["s-hn"]=tt,Gr&&(qr["s-ol"]=Gr,qr["s-ol"]["s-nr"]=qr)),F.$orgLocNodes$.delete(Fr)}),Yt&&xr.map(Ur=>{Ur&&Yt.appendChild(Ur)})})(Le,Tt.$tagName$,Qt,tt)}Qt||12&Tt.$flags$&&Wn(Le);{let Yt=Le;for(;Yt=Yt.parentNode||Yt.host;)if(1===Yt.nodeType&&Yt.hasAttribute("s-id")&&Yt["s-p"]||Yt["s-p"]){ar(tt,tt.$ancestorComponent$=Yt);break}}Tt.$members$&&Object.entries(Tt.$members$).map(([Yt,[gr]])=>{if(31&gr&&Le.hasOwnProperty(Yt)){const Sr=Le[Yt];delete Le[Yt],Le[Yt]=Sr}}),ko(Le,tt,Tt)}kt()}})(this))}disconnectedCallback(){F.jmp(()=>oo(this))}componentOnReady(){return v(this).$onReadyPromise$}};2&Rr.$flags$&&((Le,tt)=>{vs(Le),ye(Le),Ee(Le),ut(Le),fn(Le),pt(Le),Zt(Le),Gn(Le),mo(Le,tt),Ve(Le)})(Lo.prototype,Rr),Rr.$lazyBundleId$=_n[0],!Yt.includes(go)&&!gr.get(go)&&(Qt.push(go),gr.define(go,wo(Lo,Rr,1)))})}),Qt.length>0&&(bn&&(Tr.textContent+=L),Tr.textContent+=Qt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Tr.innerHTML.length)){Tr.setAttribute("data-styles","");const _n=null!=(Tt=F.$nonce$)?Tt:lt(U);null!=_n&&Tr.setAttribute("nonce",_n),Sr.insertBefore(Tr,xr?xr.nextSibling:Sr.firstChild)}qr=!1,Ur.length?Ur.map(_n=>_n.connectedCallback()):F.jmp(()=>Gr=setTimeout(Vn,30))},Is=(Le,tt,Tt,kt)=>{Tt&&Tt.map(([Qt,Yt,gr])=>{const Sr=Ao(Le,Qt),xr=Eo(tt,gr),Tr=Yn(Qt);F.ael(Sr,Yt,xr,Tr),(tt.$rmListeners$=tt.$rmListeners$||[]).push(()=>F.rel(Sr,Yt,xr,Tr))})},Eo=(Le,tt)=>Tt=>{var kt;try{256&Le.$flags$?null==(kt=Le.$lazyInstance$)||kt[tt](Tt):(Le.$queuedListeners$=Le.$queuedListeners$||[]).push([tt,Tt])}catch(Qt){E(Qt)}},Ao=(Le,tt)=>4&tt?U:8&tt?x:16&tt?U.body:Le,Yn=Le=>oe?{passive:!!(1&Le),capture:!!(2&Le)}:!!(2&Le)},1331:(Dr,rr,we)=>{"use strict";we.d(rr,{b:()=>v,c:()=>b,d:()=>p,e:()=>Z,g:()=>re,l:()=>F,s:()=>oe,t:()=>h,w:()=>R});var M=we(467),T=we(4921),Qe=we(8393),Et=we(4929),o=we(4920);const v="ionViewWillLeave",b="ionViewDidLeave",p="ionViewWillUnload",y=W=>{W.tabIndex=-1,W.focus()},E=W=>null!==W.offsetParent,i="ion-last-focus",u_saveViewFocus=K=>{if(T.c.get("focusManagerPriority",!1)){const Me=document.activeElement;null!==Me&&null!=K&&K.contains(Me)&&Me.setAttribute(i,"true")}},u_setViewFocus=K=>{const ue=T.c.get("focusManagerPriority",!1);if(Array.isArray(ue)&&!K.contains(document.activeElement)){const Me=K.querySelector(`[${i}]`);if(Me&&E(Me))return void y(Me);for(const Y of ue)switch(Y){case"content":const j=K.querySelector('main, [role="main"]');if(j&&E(j))return void y(j);break;case"heading":const te=K.querySelector('h1, [role="heading"][aria-level="1"]');if(te&&E(te))return void y(te);break;case"banner":const me=K.querySelector('header, [role="banner"]');if(me&&E(me))return void y(me);break;default:(0,Et.p)(`Unrecognized focus manager priority value ${Y}`)}y(K)}},h=W=>new Promise((G,K)=>{(0,Qe.w)(()=>{d(W),m(W).then(ue=>{ue.animation&&ue.animation.destroy(),f(W),G(ue)},ue=>{f(W),K(ue)})})}),d=W=>{const G=W.enteringEl,K=W.leavingEl;u_saveViewFocus(K),q(G,K,W.direction),W.showGoBack?G.classList.add("can-go-back"):G.classList.remove("can-go-back"),oe(G,!1),G.style.setProperty("pointer-events","none"),K&&(oe(K,!1),K.style.setProperty("pointer-events","none"))},m=function(){var W=(0,M.A)(function*(G){const K=yield g(G);return K&&Qe.B.isBrowser?D(K,G):$(G)});return function(K){return W.apply(this,arguments)}}(),f=W=>{const G=W.enteringEl,K=W.leavingEl;G.classList.remove("ion-page-invisible"),G.style.removeProperty("pointer-events"),void 0!==K&&(K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events")),u_setViewFocus(G)},g=function(){var W=(0,M.A)(function*(G){return G.leavingEl&&G.animated&&0!==G.duration?G.animationBuilder?G.animationBuilder:"ios"===G.mode?(yield Promise.resolve().then(we.bind(we,9856))).iosTransitionAnimation:(yield Promise.resolve().then(we.bind(we,361))).mdTransitionAnimation:void 0});return function(K){return W.apply(this,arguments)}}(),D=function(){var W=(0,M.A)(function*(G,K){yield L(K,!0);const ue=G(K.baseEl,K);U(K.enteringEl,K.leavingEl);const Me=yield x(ue,K);return K.progressCallback&&K.progressCallback(void 0),Me&&I(K.enteringEl,K.leavingEl),{hasCompleted:Me,animation:ue}});return function(K,ue){return W.apply(this,arguments)}}(),$=function(){var W=(0,M.A)(function*(G){const K=G.enteringEl,ue=G.leavingEl,Me=T.c.get("focusManagerPriority",!1);return yield L(G,Me),U(K,ue),I(K,ue),{hasCompleted:!0}});return function(K){return W.apply(this,arguments)}}(),L=function(){var W=(0,M.A)(function*(G,K){(void 0!==G.deepWait?G.deepWait:K)&&(yield Promise.all([Z(G.enteringEl),Z(G.leavingEl)])),yield P(G.viewIsReady,G.enteringEl)});return function(K,ue){return W.apply(this,arguments)}}(),P=function(){var W=(0,M.A)(function*(G,K){G&&(yield G(K))});return function(K,ue){return W.apply(this,arguments)}}(),x=(W,G)=>{const K=G.progressCallback,ue=new Promise(Me=>{W.onFinish(Y=>Me(1===Y))});return K?(W.progressStart(!0),K(W)):W.play(),ue},U=(W,G)=>{F(G,v),F(W,"ionViewWillEnter")},I=(W,G)=>{F(W,"ionViewDidEnter"),F(G,b)},F=(W,G)=>{if(W){const K=new CustomEvent(G,{bubbles:!1,cancelable:!1});W.dispatchEvent(K)}},R=()=>new Promise(W=>(0,o.r)(()=>(0,o.r)(()=>W()))),Z=function(){var W=(0,M.A)(function*(G){const K=G;if(K){if(null!=K.componentOnReady){if(null!=(yield K.componentOnReady()))return}else if(null!=K.__registerHost)return void(yield new Promise(Me=>(0,o.r)(Me)));yield Promise.all(Array.from(K.children).map(Z))}});return function(K){return W.apply(this,arguments)}}(),oe=(W,G)=>{G?(W.setAttribute("aria-hidden","true"),W.classList.add("ion-page-hidden")):(W.hidden=!1,W.removeAttribute("aria-hidden"),W.classList.remove("ion-page-hidden"))},q=(W,G,K)=>{void 0!==W&&(W.style.zIndex="back"===K?"99":"101"),void 0!==G&&(G.style.zIndex="100")},re=W=>W.classList.contains("ion-page")?W:W.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||W},4929:(Dr,rr,we)=>{"use strict";we.d(rr,{a:()=>T,b:()=>Qe,p:()=>M});const M=(Et,...o)=>console.warn(`[Ionic Warning]: ${Et}`,...o),T=(Et,...o)=>console.error(`[Ionic Error]: ${Et}`,...o),Qe=(Et,...o)=>console.error(`<${Et.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},8476:(Dr,rr,we)=>{"use strict";we.d(rr,{d:()=>T,w:()=>M});const M=typeof window<"u"?window:void 0,T=typeof document<"u"?document:void 0},617:(Dr,rr,we)=>{"use strict";we.d(rr,{FJ:()=>b.l,NC:()=>Qe.iosTransitionAnimation,OZ:()=>b.m,QX:()=>V.s,TN:()=>b.a,V5:()=>Et.mdTransitionAnimation,Vk:()=>V.I,mF:()=>b.c}),we(9986),we(1331);var Qe=we(9856),Et=we(361),V=(we(8607),we(4921),we(464)),b=(we(6073),we(1070));we(8476),we(8393),we(1970),we(8669)},4921:(Dr,rr,we)=>{"use strict";we.d(rr,{a:()=>y,b:()=>oe,c:()=>Qe,i:()=>q});var M=we(8393);class T{constructor(){this.m=new Map}reset(W){this.m=new Map(Object.entries(W))}get(W,G){const K=this.m.get(W);return void 0!==K?K:G}getBoolean(W,G=!1){const K=this.m.get(W);return void 0===K?G:"string"==typeof K?"true"===K:!!K}getNumber(W,G){const K=parseFloat(this.m.get(W));return isNaN(K)?void 0!==G?G:NaN:K}set(W,G){this.m.set(W,G)}}const Qe=new T,v="ionic:",b="ionic-persist-config",y=(re,W)=>("string"==typeof re&&(W=re,re=void 0),(re=>E(re))(re).includes(W)),E=(re=window)=>{if(typeof re>"u")return[];re.Ionic=re.Ionic||{};let W=re.Ionic.platforms;return null==W&&(W=re.Ionic.platforms=_(re),W.forEach(G=>re.document.documentElement.classList.add(`plt-${G}`))),W},_=re=>{const W=Qe.get("platform");return Object.keys(R).filter(G=>{const K=null==W?void 0:W[G];return"function"==typeof K?K(re):R[G](re)})},l=re=>!!(I(re,/iPad/i)||I(re,/Macintosh/i)&&g(re)),h=re=>I(re,/android|sink/i),g=re=>F(re,"(any-pointer:coarse)"),$=re=>L(re)||P(re),L=re=>!!(re.cordova||re.phonegap||re.PhoneGap),P=re=>{const W=re.Capacitor;return!(null==W||!W.isNative)},I=(re,W)=>W.test(re.navigator.userAgent),F=(re,W)=>{var G;return null===(G=re.matchMedia)||void 0===G?void 0:G.call(re,W).matches},R={ipad:l,iphone:re=>I(re,/iPhone/i),ios:re=>I(re,/iPhone|iPod/i)||l(re),android:h,phablet:re=>{const W=re.innerWidth,G=re.innerHeight,K=Math.min(W,G),ue=Math.max(W,G);return K>390&&K<520&&ue>620&&ue<800},tablet:re=>{const W=re.innerWidth,G=re.innerHeight,K=Math.min(W,G),ue=Math.max(W,G);return l(re)||(re=>h(re)&&!I(re,/mobile/i))(re)||K>460&&K<820&&ue>780&&ue<1400},cordova:L,capacitor:P,electron:re=>I(re,/electron/i),pwa:re=>{var W;return!!(null!==(W=re.matchMedia)&&void 0!==W&&W.call(re,"(display-mode: standalone)").matches||re.navigator.standalone)},mobile:g,mobileweb:re=>g(re)&&!$(re),desktop:re=>!g(re),hybrid:$};let Z;const oe=re=>re&&(0,M.g)(re)||Z,q=(re={})=>{if(typeof window>"u")return;const W=window.document,G=window,K=G.Ionic=G.Ionic||{},ue={};re._ael&&(ue.ael=re._ael),re._rel&&(ue.rel=re._rel),re._ce&&(ue.ce=re._ce),(0,M.a)(ue);const Me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(re=>{try{const W=re.sessionStorage.getItem(b);return null!==W?JSON.parse(W):{}}catch{return{}}})(G)),{persistConfig:!1}),K.config),(re=>{const W={};return re.location.search.slice(1).split("&").map(G=>G.split("=")).map(([G,K])=>{try{return[decodeURIComponent(G),decodeURIComponent(K)]}catch{return["",""]}}).filter(([G])=>((re,W)=>re.substr(0,W.length)===W)(G,v)).map(([G,K])=>[G.slice(6),K]).forEach(([G,K])=>{W[G]=K}),W})(G)),re);Qe.reset(Me),Qe.getBoolean("persistConfig")&&((re,W)=>{try{re.sessionStorage.setItem(b,JSON.stringify(W))}catch{return}})(G,Me),E(G),K.config=Qe,K.mode=Z=Qe.get("mode",W.documentElement.getAttribute("mode")||(y(G,"ios")?"ios":"md")),Qe.set("mode",Z),W.documentElement.setAttribute("mode",Z),W.documentElement.classList.add(Z),Qe.getBoolean("_testing")&&Qe.set("animated",!1);const Y=te=>{var me;return null===(me=te.tagName)||void 0===me?void 0:me.startsWith("ION-")},j=te=>["ios","md"].includes(te);(0,M.c)(te=>{for(;te;){const me=te.mode||te.getAttribute("mode");if(me){if(j(me))return me;Y(te)&&console.warn('Invalid ionic mode: "'+me+'", expected: "ios" or "md"')}te=te.parentElement}return Z})}},9856:(Dr,rr,we)=>{"use strict";we.r(rr),we.d(rr,{iosTransitionAnimation:()=>i,shadow:()=>v});var M=we(9986),T=we(1331);we(8476),we(4921),we(8393);const V=a=>document.querySelector(`${a}.ion-cloned-element`),v=a=>a.shadowRoot||a,b=a=>{const u="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs"),h="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=u){const d=u.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=d?d.querySelector(h):null}return a.querySelector(h)},p=(a,u)=>{const h="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs");let d=[];if(null!=h){const m=h.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=m&&(d=m.querySelectorAll("ion-buttons"))}else d=a.querySelectorAll("ion-buttons");for(const m of d){const f=m.closest("ion-header"),g=f&&!f.classList.contains("header-collapse-condense-inactive"),D=m.querySelector("ion-back-button"),$=m.classList.contains("buttons-collapse");if(null!==D&&("start"===m.slot||""===m.slot)&&($&&g&&u||!$))return D}return null},E=(a,u,h,d,m,f,g,D,$)=>{var L,P;const x=u?`calc(100% - ${m.right+4}px)`:m.left-4+"px",U=u?"right":"left",I=u?"left":"right",F=u?"right":"left";let R=1,Z=1,oe=`scale(${Z})`;const q="scale(1)";if(f&&g){const Je=(null===(L=f.textContent)||void 0===L?void 0:L.trim())===(null===(P=D.textContent)||void 0===P?void 0:P.trim());R=$.width/g.width,Z=($.height-l)/g.height,oe=Je?`scale(${R}, ${Z})`:`scale(${Z})`}const W=v(d).querySelector("ion-icon").getBoundingClientRect(),G=u?W.width/2-(W.right-m.right)+"px":m.left-W.width/2+"px",K=u?`-${window.innerWidth-m.right}px`:`${m.left}px`,ue=`${$.top}px`,Me=`${m.top}px`,te=h?[{offset:0,transform:`translate3d(${K}, ${Me}, 0)`},{offset:1,transform:`translate3d(${G}, ${ue}, 0)`}]:[{offset:0,transform:`translate3d(${G}, ${ue}, 0)`},{offset:1,transform:`translate3d(${K}, ${Me}, 0)`}],Be=h?[{offset:0,opacity:1,transform:q},{offset:1,opacity:0,transform:oe}]:[{offset:0,opacity:0,transform:oe},{offset:1,opacity:1,transform:q}],ze=h?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],st=(0,M.c)(),lt=(0,M.c)(),Fe=(0,M.c)(),rt=V("ion-back-button"),Ye=v(rt).querySelector(".button-text"),ot=v(rt).querySelector("ion-icon");rt.text=d.text,rt.mode=d.mode,rt.icon=d.icon,rt.color=d.color,rt.disabled=d.disabled,rt.style.setProperty("display","block"),rt.style.setProperty("position","fixed"),lt.addElement(ot),st.addElement(Ye),Fe.addElement(rt),Fe.beforeStyles({position:"absolute",top:"0px",[F]:"0px"}).beforeAddWrite(()=>{d.style.setProperty("display","none"),rt.style.setProperty(U,x)}).afterAddWrite(()=>{d.style.setProperty("display",""),rt.style.setProperty("display","none"),rt.style.removeProperty(U)}).keyframes(te),st.beforeStyles({"transform-origin":`${U} top`}).keyframes(Be),lt.beforeStyles({"transform-origin":`${I} center`}).keyframes(ze),a.addAnimation([st,lt,Fe])},_=(a,u,h,d,m,f,g,D,$)=>{var L,P;const x=u?"right":"left",U=u?`calc(100% - ${m.right}px)`:`${m.left}px`,F=`${m.top}px`;let Z=u?`-${window.innerWidth-g.right-8}px`:`${g.x+8}px`,oe=.5;const q="scale(1)";let re=`scale(${oe})`;if(D&&$){Z=u?`-${window.innerWidth-$.right-8}px`:$.x-8+"px";const me=(null===(L=D.textContent)||void 0===L?void 0:L.trim())===(null===(P=d.textContent)||void 0===P?void 0:P.trim());oe=$.height/(f.height-l),re=me?`scale(${$.width/f.width}, ${oe})`:`scale(${oe})`}const K=g.top+g.height/2-m.height*oe/2+"px",Y=h?[{offset:0,opacity:0,transform:`translate3d(${Z}, ${K}, 0) ${re}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${F}, 0) ${q}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${F}, 0) ${q}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Z}, ${K}, 0) ${re}`}],j=V("ion-title"),te=(0,M.c)();j.innerText=d.innerText,j.size=d.size,j.color=d.color,te.addElement(j),te.beforeStyles({"transform-origin":`${x} top`,height:`${m.height}px`,display:"",position:"relative",[x]:U}).beforeAddWrite(()=>{d.style.setProperty("opacity","0")}).afterAddWrite(()=>{d.style.setProperty("opacity",""),j.style.setProperty("display","none")}).keyframes(Y),a.addAnimation(te)},i=(a,u)=>{var h;try{const d="cubic-bezier(0.32,0.72,0,1)",m="opacity",f="transform",g="0%",$="rtl"===a.ownerDocument.dir,L=$?"-99.5%":"99.5%",P=$?"33%":"-33%",x=u.enteringEl,U=u.leavingEl,I="back"===u.direction,F=x.querySelector(":scope > ion-content"),R=x.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Z=x.querySelectorAll(":scope > ion-header > ion-toolbar"),oe=(0,M.c)(),q=(0,M.c)();if(oe.addElement(x).duration((null!==(h=u.duration)&&void 0!==h?h:0)||540).easing(u.easing||d).fill("both").beforeRemoveClass("ion-page-invisible"),U&&null!=a){const K=(0,M.c)();K.addElement(a),oe.addAnimation(K)}if(F||0!==Z.length||0!==R.length?(q.addElement(F),q.addElement(R)):q.addElement(x.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),oe.addAnimation(q),I?q.beforeClearStyles([m]).fromTo("transform",`translateX(${P})`,`translateX(${g})`).fromTo(m,.8,1):q.beforeClearStyles([m]).fromTo("transform",`translateX(${L})`,`translateX(${g})`),F){const K=v(F).querySelector(".transition-effect");if(K){const ue=K.querySelector(".transition-cover"),Me=K.querySelector(".transition-shadow"),Y=(0,M.c)(),j=(0,M.c)(),te=(0,M.c)();Y.addElement(K).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),j.addElement(ue).beforeClearStyles([m]).fromTo(m,0,.1),te.addElement(Me).beforeClearStyles([m]).fromTo(m,.03,.7),Y.addAnimation([j,te]),q.addAnimation([Y])}}const re=x.querySelector("ion-header.header-collapse-condense"),{forward:W,backward:G}=((a,u,h,d,m)=>{const f=p(d,h),g=b(m),D=b(d),$=p(m,h),L=null!==f&&null!==g&&!h,P=null!==D&&null!==$&&h;if(L){const x=g.getBoundingClientRect(),U=f.getBoundingClientRect(),I=v(f).querySelector(".button-text"),F=null==I?void 0:I.getBoundingClientRect(),Z=v(g).querySelector(".toolbar-title").getBoundingClientRect();_(a,u,h,g,x,Z,U,I,F),E(a,u,h,f,U,I,F,g,Z)}else if(P){const x=D.getBoundingClientRect(),U=$.getBoundingClientRect(),I=v($).querySelector(".button-text"),F=null==I?void 0:I.getBoundingClientRect(),Z=v(D).querySelector(".toolbar-title").getBoundingClientRect();_(a,u,h,D,x,Z,U,I,F),E(a,u,h,$,U,I,F,D,Z)}return{forward:L,backward:P}})(oe,$,I,x,U);if(Z.forEach(K=>{const ue=(0,M.c)();ue.addElement(K),oe.addAnimation(ue);const Me=(0,M.c)();Me.addElement(K.querySelector("ion-title"));const Y=(0,M.c)(),j=Array.from(K.querySelectorAll("ion-buttons,[menuToggle]")),te=K.closest("ion-header"),me=null==te?void 0:te.classList.contains("header-collapse-condense-inactive");let xe;xe=j.filter(I?st=>{const lt=st.classList.contains("buttons-collapse");return lt&&!me||!lt}:st=>!st.classList.contains("buttons-collapse")),Y.addElement(xe);const Be=(0,M.c)();Be.addElement(K.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const qe=(0,M.c)();qe.addElement(v(K).querySelector(".toolbar-background"));const ct=(0,M.c)(),ze=K.querySelector("ion-back-button");if(ze&&ct.addElement(ze),ue.addAnimation([Me,Y,Be,qe,ct]),Y.fromTo(m,.01,1),Be.fromTo(m,.01,1),I)me||Me.fromTo("transform",`translateX(${P})`,`translateX(${g})`).fromTo(m,.01,1),Be.fromTo("transform",`translateX(${P})`,`translateX(${g})`),ct.fromTo(m,.01,1);else if(re||Me.fromTo("transform",`translateX(${L})`,`translateX(${g})`).fromTo(m,.01,1),Be.fromTo("transform",`translateX(${L})`,`translateX(${g})`),qe.beforeClearStyles([m,"transform"]),(null==te?void 0:te.translucent)?qe.fromTo("transform",$?"translateX(-100%)":"translateX(100%)","translateX(0px)"):qe.fromTo(m,.01,"var(--opacity)"),W||ct.fromTo(m,.01,1),ze&&!W){const lt=(0,M.c)();lt.addElement(v(ze).querySelector(".button-text")).fromTo("transform",$?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ue.addAnimation(lt)}}),U){const K=(0,M.c)(),ue=U.querySelector(":scope > ion-content"),Me=U.querySelectorAll(":scope > ion-header > ion-toolbar"),Y=U.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ue||0!==Me.length||0!==Y.length?(K.addElement(ue),K.addElement(Y)):K.addElement(U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),oe.addAnimation(K),I){K.beforeClearStyles([m]).fromTo("transform",`translateX(${g})`,$?"translateX(-100%)":"translateX(100%)");const j=(0,T.g)(U);oe.afterAddWrite(()=>{"normal"===oe.getDirection()&&j.style.setProperty("display","none")})}else K.fromTo("transform",`translateX(${g})`,`translateX(${P})`).fromTo(m,1,.8);if(ue){const j=v(ue).querySelector(".transition-effect");if(j){const te=j.querySelector(".transition-cover"),me=j.querySelector(".transition-shadow"),xe=(0,M.c)(),Be=(0,M.c)(),qe=(0,M.c)();xe.addElement(j).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Be.addElement(te).beforeClearStyles([m]).fromTo(m,.1,0),qe.addElement(me).beforeClearStyles([m]).fromTo(m,.7,.03),xe.addAnimation([Be,qe]),K.addAnimation([xe])}}Me.forEach(j=>{const te=(0,M.c)();te.addElement(j);const me=(0,M.c)();me.addElement(j.querySelector("ion-title"));const xe=(0,M.c)(),Be=j.querySelectorAll("ion-buttons,[menuToggle]"),qe=j.closest("ion-header"),ct=null==qe?void 0:qe.classList.contains("header-collapse-condense-inactive"),ze=Array.from(Be).filter(ot=>{const Je=ot.classList.contains("buttons-collapse");return Je&&!ct||!Je});xe.addElement(ze);const st=(0,M.c)(),lt=j.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");lt.length>0&&st.addElement(lt);const Fe=(0,M.c)();Fe.addElement(v(j).querySelector(".toolbar-background"));const rt=(0,M.c)(),Ye=j.querySelector("ion-back-button");if(Ye&&rt.addElement(Ye),te.addAnimation([me,xe,st,rt,Fe]),oe.addAnimation(te),rt.fromTo(m,.99,0),xe.fromTo(m,.99,0),st.fromTo(m,.99,0),I){if(ct||me.fromTo("transform",`translateX(${g})`,$?"translateX(-100%)":"translateX(100%)").fromTo(m,.99,0),st.fromTo("transform",`translateX(${g})`,$?"translateX(-100%)":"translateX(100%)"),Fe.beforeClearStyles([m,"transform"]),(null==qe?void 0:qe.translucent)?Fe.fromTo("transform","translateX(0px)",$?"translateX(-100%)":"translateX(100%)"):Fe.fromTo(m,"var(--opacity)",0),Ye&&!G){const Je=(0,M.c)();Je.addElement(v(Ye).querySelector(".button-text")).fromTo("transform",`translateX(${g})`,`translateX(${($?-124:124)+"px"})`),te.addAnimation(Je)}}else ct||me.fromTo("transform",`translateX(${g})`,`translateX(${P})`).fromTo(m,.99,0).afterClearStyles([f,m]),st.fromTo("transform",`translateX(${g})`,`translateX(${P})`).afterClearStyles([f,m]),rt.afterClearStyles([m]),me.afterClearStyles([m]),xe.afterClearStyles([m])})}return oe}catch(d){throw d}},l=10},361:(Dr,rr,we)=>{"use strict";we.r(rr),we.d(rr,{mdTransitionAnimation:()=>se});var M=we(9986),T=we(1331);we(8476),we(4921),we(8393);const se=(V,v)=>{var b,p,y;const E="40px",i="back"===v.direction,a=v.leavingEl,u=(0,T.g)(v.enteringEl),h=u.querySelector("ion-toolbar"),d=(0,M.c)();if(d.addElement(u).fill("both").beforeRemoveClass("ion-page-invisible"),i?d.duration((null!==(b=v.duration)&&void 0!==b?b:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):d.duration((null!==(p=v.duration)&&void 0!==p?p:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${E})`,"translateY(0px)").fromTo("opacity",.01,1),h){const m=(0,M.c)();m.addElement(h),d.addAnimation(m)}if(a&&i){d.duration((null!==(y=v.duration)&&void 0!==y?y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const m=(0,M.c)();m.addElement((0,T.g)(a)).onFinish(f=>{1===f&&m.elements.length>0&&m.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${E})`).fromTo("opacity",1,0),d.addAnimation(m)}return d}},1070:(Dr,rr,we)=>{"use strict";we.d(rr,{B:()=>Be,F:()=>rt,G:()=>qe,O:()=>ct,a:()=>u,b:()=>h,c:()=>g,d:()=>ze,e:()=>st,f:()=>W,g:()=>K,h:()=>Y,i:()=>te,j:()=>$,k:()=>L,l:()=>d,m:()=>m,n:()=>p,o:()=>q,q:()=>y,s:()=>xe});var M=we(467),T=we(8476),Qe=we(4920),Et=we(8669),o=we(4921),se=we(8621),V=we(1970),v=we(4929);const b='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',p=(Ye,ot)=>{const Je=Ye.querySelector(b);E(Je,null!=ot?ot:Ye)},y=(Ye,ot)=>{const Je=Array.from(Ye.querySelectorAll(b));E(Je.length>0?Je[Je.length-1]:null,null!=ot?ot:Ye)},E=(Ye,ot)=>{let Je=Ye;const ft=null==Ye?void 0:Ye.shadowRoot;ft&&(Je=ft.querySelector(b)||Ye),Je?(0,Qe.f)(Je):ot.focus()};let _=0,i=0;const l=new WeakMap,a=Ye=>({create:ot=>P(Ye,ot),dismiss:(ot,Je,ft)=>R(document,ot,Je,Ye,ft),getTop:()=>(0,M.A)(function*(){return q(document,Ye)})()}),u=a("ion-alert"),h=a("ion-action-sheet"),d=a("ion-loading"),m=a("ion-modal"),g=a("ion-popover"),$=Ye=>{typeof document<"u"&&F(document);const ot=_++;Ye.overlayIndex=ot},L=Ye=>(Ye.hasAttribute("id")||(Ye.id="ion-overlay-"+ ++i),Ye.id),P=(Ye,ot)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ye).then(()=>{const Je=document.createElement(Ye);return Je.classList.add("overlay-hidden"),Object.assign(Je,Object.assign(Object.assign({},ot),{hasController:!0})),ue(document).appendChild(Je),new Promise(ft=>(0,Qe.c)(Je,ft))}):Promise.resolve(),U=(Ye,ot)=>{let Je=Ye;const ft=null==Ye?void 0:Ye.shadowRoot;ft&&(Je=ft.querySelector(b)||Ye),Je?(0,Qe.f)(Je):ot.focus()},F=Ye=>{0===_&&(_=1,Ye.addEventListener("focus",ot=>{((Ye,ot)=>{const Je=q(ot,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),ft=Ye.target;Je&&ft&&!Je.classList.contains(rt)&&(Je.shadowRoot?(()=>{if(Je.contains(ft))Je.lastFocus=ft;else if("ION-TOAST"===ft.tagName)U(Je.lastFocus,Je);else{const $t=Je.lastFocus;p(Je),$t===ot.activeElement&&y(Je),Je.lastFocus=ot.activeElement}})():(()=>{if(Je===ft)Je.lastFocus=void 0;else if("ION-TOAST"===ft.tagName)U(Je.lastFocus,Je);else{const $t=(0,Qe.g)(Je);if(!$t.contains(ft))return;const cr=$t.querySelector(".ion-overlay-wrapper");if(!cr)return;if(cr.contains(ft)||ft===$t.querySelector("ion-backdrop"))Je.lastFocus=ft;else{const Vt=Je.lastFocus;p(cr,Je),Vt===ot.activeElement&&y(cr,Je),Je.lastFocus=ot.activeElement}}})())})(ot,Ye)},!0),Ye.addEventListener("ionBackButton",ot=>{const Je=q(Ye);null!=Je&&Je.backdropDismiss&&ot.detail.register(Et.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Je.dismiss(void 0,Be)})}),(0,Et.shouldUseCloseWatcher)()||Ye.addEventListener("keydown",ot=>{if("Escape"===ot.key){const Je=q(Ye);null!=Je&&Je.backdropDismiss&&Je.dismiss(void 0,Be)}}))},R=(Ye,ot,Je,ft,Pt)=>{const Wt=q(Ye,ft,Pt);return Wt?Wt.dismiss(ot,Je):Promise.reject("overlay does not exist")},oe=(Ye,ot)=>((Ye,ot)=>(void 0===ot&&(ot="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ye.querySelectorAll(ot)).filter(Je=>Je.overlayIndex>0)))(Ye,ot).filter(Je=>!(Ye=>Ye.classList.contains("overlay-hidden"))(Je)),q=(Ye,ot,Je)=>{const ft=oe(Ye,ot);return void 0===Je?ft[ft.length-1]:ft.find(Pt=>Pt.id===Je)},re=(Ye=!1)=>{const Je=ue(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Je&&(Ye?Je.setAttribute("aria-hidden","true"):Je.removeAttribute("aria-hidden"))},W=function(){var Ye=(0,M.A)(function*(ot,Je,ft,Pt,Wt){var $t,cr;if(ot.presented)return;re(!0),document.body.classList.add(V.B),lt(ot.el),ot.presented=!0,ot.willPresent.emit(),null===($t=ot.willPresentShorthand)||void 0===$t||$t.emit();const Vt=(0,o.b)(ot),mr=ot.enterAnimation?ot.enterAnimation:o.c.get(Je,"ios"===Vt?ft:Pt);(yield Me(ot,mr,ot.el,Wt))&&(ot.didPresent.emit(),null===(cr=ot.didPresentShorthand)||void 0===cr||cr.emit()),"ION-TOAST"!==ot.el.tagName&&G(ot.el),ot.keyboardClose&&(null===document.activeElement||!ot.el.contains(document.activeElement))&&ot.el.focus(),ot.el.removeAttribute("aria-hidden")});return function(Je,ft,Pt,Wt,$t){return Ye.apply(this,arguments)}}(),G=function(){var Ye=(0,M.A)(function*(ot){let Je=document.activeElement;if(!Je)return;const ft=null==Je?void 0:Je.shadowRoot;ft&&(Je=ft.querySelector(b)||Je),yield ot.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Je.focus()});return function(Je){return Ye.apply(this,arguments)}}(),K=function(){var Ye=(0,M.A)(function*(ot,Je,ft,Pt,Wt,$t,cr){var Vt,mr;if(!ot.presented)return!1;void 0!==T.d&&1===oe(T.d).length&&(re(!1),document.body.classList.remove(V.B)),ot.presented=!1;try{ot.el.style.setProperty("pointer-events","none"),ot.willDismiss.emit({data:Je,role:ft}),null===(Vt=ot.willDismissShorthand)||void 0===Vt||Vt.emit({data:Je,role:ft});const hr=(0,o.b)(ot),It=ot.leaveAnimation?ot.leaveAnimation:o.c.get(Pt,"ios"===hr?Wt:$t);ft!==qe&&(yield Me(ot,It,ot.el,cr)),ot.didDismiss.emit({data:Je,role:ft}),null===(mr=ot.didDismissShorthand)||void 0===mr||mr.emit({data:Je,role:ft}),(l.get(ot)||[]).forEach(Ht=>Ht.destroy()),l.delete(ot),ot.el.classList.add("overlay-hidden"),ot.el.style.removeProperty("pointer-events"),void 0!==ot.el.lastFocus&&(ot.el.lastFocus=void 0)}catch(hr){console.error(hr)}return ot.el.remove(),Fe(),!0});return function(Je,ft,Pt,Wt,$t,cr,Vt){return Ye.apply(this,arguments)}}(),ue=Ye=>Ye.querySelector("ion-app")||Ye.body,Me=function(){var Ye=(0,M.A)(function*(ot,Je,ft,Pt){ft.classList.remove("overlay-hidden");const $t=Je(ot.el,Pt);(!ot.animated||!o.c.getBoolean("animated",!0))&&$t.duration(0),ot.keyboardClose&&$t.beforeAddWrite(()=>{const Vt=ft.ownerDocument.activeElement;null!=Vt&&Vt.matches("input,ion-input, ion-textarea")&&Vt.blur()});const cr=l.get(ot)||[];return l.set(ot,[...cr,$t]),yield $t.play(),!0});return function(Je,ft,Pt,Wt){return Ye.apply(this,arguments)}}(),Y=(Ye,ot)=>{let Je;const ft=new Promise(Pt=>Je=Pt);return j(Ye,ot,Pt=>{Je(Pt.detail)}),ft},j=(Ye,ot,Je)=>{const ft=Pt=>{(0,Qe.b)(Ye,ot,ft),Je(Pt)};(0,Qe.a)(Ye,ot,ft)},te=Ye=>"cancel"===Ye||Ye===Be,me=Ye=>Ye(),xe=(Ye,ot)=>{if("function"==typeof Ye)return o.c.get("_zoneGate",me)(()=>{try{return Ye(ot)}catch(ft){throw ft}})},Be="backdrop",qe="gesture",ct=39,ze=Ye=>{let Je,ot=!1;const ft=(0,se.C)(),Pt=(cr=!1)=>{if(Je&&!cr)return{delegate:Je,inline:ot};const{el:Vt,hasController:mr,delegate:Kt}=Ye;return ot=null!==Vt.parentNode&&!mr,Je=ot?Kt||ft:Kt,{inline:ot,delegate:Je}};return{attachViewToDom:function(){var cr=(0,M.A)(function*(Vt){const{delegate:mr}=Pt(!0);if(mr)return yield mr.attachViewToDom(Ye.el,Vt);const{hasController:Kt}=Ye;if(Kt&&void 0!==Vt)throw new Error("framework delegate is missing");return null});return function(mr){return cr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:cr}=Pt();cr&&void 0!==Ye.el&&cr.removeViewFromDom(Ye.el.parentElement,Ye.el)}}},st=()=>{let Ye;const ot=()=>{Ye&&(Ye(),Ye=void 0)};return{addClickListener:(ft,Pt)=>{ot();const Wt=void 0!==Pt?document.getElementById(Pt):null;Wt?Ye=((cr,Vt)=>{const mr=()=>{Vt.present()};return cr.addEventListener("click",mr),()=>{cr.removeEventListener("click",mr)}})(Wt,ft):(0,v.p)(`A trigger element with the ID "${Pt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ft)},removeClickListener:ot}},lt=Ye=>{var ot;if(void 0===T.d)return;const Je=oe(T.d);for(let ft=Je.length-1;ft>=0;ft--){const Pt=Je[ft],Wt=null!==(ot=Je[ft+1])&&void 0!==ot?ot:Ye;(Wt.hasAttribute("aria-hidden")||"ION-TOAST"!==Wt.tagName)&&Pt.setAttribute("aria-hidden","true")}},Fe=()=>{if(void 0===T.d)return;const Ye=oe(T.d);for(let ot=Ye.length-1;ot>=0;ot--){const Je=Ye[ot];if(Je.removeAttribute("aria-hidden"),"ION-TOAST"!==Je.tagName)break}},rt="ion-disable-focus-trap"},1288:(Dr,rr,we)=>{"use strict";we.d(rr,{H:()=>h,b:()=>Wt,c:()=>g,f:()=>ze,g:()=>f,h:()=>a,p:()=>Bt,r:()=>lr});var M=we(467);let Qe,Et,o=!1,se=!1;const p={},i=ht=>"object"==(ht=typeof ht)||"function"===ht;function l(ht){var Dt,tr,Jt;return null!==(Jt=null===(tr=null===(Dt=ht.head)||void 0===Dt?void 0:Dt.querySelector('meta[name="csp-nonce"]'))||void 0===tr?void 0:tr.getAttribute("content"))&&void 0!==Jt?Jt:void 0}const a=(ht,Dt,...tr)=>{let Jt=null,ir=!1,br=!1;const Er=[],vr=z=>{for(let pe=0;pe<z.length;pe++)Jt=z[pe],Array.isArray(Jt)?vr(Jt):null!=Jt&&"boolean"!=typeof Jt&&((ir="function"!=typeof ht&&!i(Jt))&&(Jt=String(Jt)),ir&&br?Er[Er.length-1].$text$+=Jt:Er.push(ir?u(null,Jt):Jt),br=ir)};if(vr(tr),Dt){const z=Dt.className||Dt.class;z&&(Dt.class="object"!=typeof z?z:Object.keys(z).filter(pe=>z[pe]).join(" "))}const Mr=u(ht,null);return Mr.$attrs$=Dt,Er.length>0&&(Mr.$children$=Er),Mr},u=(ht,Dt)=>({$flags$:0,$tag$:ht,$text$:Dt,$elm$:null,$children$:null,$attrs$:null}),h={},f=ht=>It(ht).$hostElement$,g=(ht,Dt,tr)=>{const Jt=f(ht);return{emit:ir=>D(Jt,Dt,{bubbles:!!(4&tr),composed:!!(2&tr),cancelable:!!(1&tr),detail:ir})}},D=(ht,Dt,tr)=>{const Jt=Ct.ce(Dt,tr);return ht.dispatchEvent(Jt),Jt},$=new WeakMap,U=(ht,Dt)=>"sc-"+ht.$tagName$,I=(ht,Dt,tr,Jt,ir,br)=>{if(tr!==Jt){let Er=$e(ht,Dt),vr=Dt.toLowerCase();if("class"===Dt){const Mr=ht.classList,z=R(tr),pe=R(Jt);Mr.remove(...z.filter(Ie=>Ie&&!pe.includes(Ie))),Mr.add(...pe.filter(Ie=>Ie&&!z.includes(Ie)))}else if("style"===Dt){for(const Mr in tr)(!Jt||null==Jt[Mr])&&(Mr.includes("-")?ht.style.removeProperty(Mr):ht.style[Mr]="");for(const Mr in Jt)(!tr||Jt[Mr]!==tr[Mr])&&(Mr.includes("-")?ht.style.setProperty(Mr,Jt[Mr]):ht.style[Mr]=Jt[Mr])}else if("ref"===Dt)Jt&&Jt(ht);else if(Er||"o"!==Dt[0]||"n"!==Dt[1]){const Mr=i(Jt);if((Er||Mr&&null!==Jt)&&!ir)try{if(ht.tagName.includes("-"))ht[Dt]=Jt;else{const z=null==Jt?"":Jt;"list"===Dt?Er=!1:(null==tr||ht[Dt]!=z)&&(ht[Dt]=z)}}catch{}null==Jt||!1===Jt?(!1!==Jt||""===ht.getAttribute(Dt))&&ht.removeAttribute(Dt):(!Er||4&br||ir)&&!Mr&&ht.setAttribute(Dt,Jt=!0===Jt?"":Jt)}else Dt="-"===Dt[2]?Dt.slice(3):$e(Ot,vr)?vr.slice(2):vr[2]+Dt.slice(3),tr&&Ct.rel(ht,Dt,tr,!1),Jt&&Ct.ael(ht,Dt,Jt,!1)}},F=/\s/,R=ht=>ht?ht.split(F):[],Z=(ht,Dt,tr,Jt)=>{const ir=11===Dt.$elm$.nodeType&&Dt.$elm$.host?Dt.$elm$.host:Dt.$elm$,br=ht&&ht.$attrs$||p,Er=Dt.$attrs$||p;for(Jt in br)Jt in Er||I(ir,Jt,br[Jt],void 0,tr,Dt.$flags$);for(Jt in Er)I(ir,Jt,br[Jt],Er[Jt],tr,Dt.$flags$)},oe=(ht,Dt,tr,Jt)=>{const ir=Dt.$children$[tr];let Er,vr,br=0;if(null!==ir.$text$)Er=ir.$elm$=Xt.createTextNode(ir.$text$);else{if(o||(o="svg"===ir.$tag$),Er=ir.$elm$=Xt.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ir.$tag$),o&&"foreignObject"===ir.$tag$&&(o=!1),Z(null,ir,o),(ht=>null!=ht)(Qe)&&Er["s-si"]!==Qe&&Er.classList.add(Er["s-si"]=Qe),ir.$children$)for(br=0;br<ir.$children$.length;++br)vr=oe(ht,ir,br),vr&&Er.appendChild(vr);"svg"===ir.$tag$?o=!1:"foreignObject"===Er.tagName&&(o=!0)}return Er},q=(ht,Dt,tr,Jt,ir,br)=>{let vr,Er=ht;for(Er.shadowRoot&&Er.tagName===Et&&(Er=Er.shadowRoot);ir<=br;++ir)Jt[ir]&&(vr=oe(null,tr,ir),vr&&(Jt[ir].$elm$=vr,Er.insertBefore(vr,Dt)))},re=(ht,Dt,tr)=>{for(let Jt=Dt;Jt<=tr;++Jt){const ir=ht[Jt];if(ir){const br=ir.$elm$;ue(ir),br&&br.remove()}}},G=(ht,Dt)=>ht.$tag$===Dt.$tag$,K=(ht,Dt)=>{const tr=Dt.$elm$=ht.$elm$,Jt=ht.$children$,ir=Dt.$children$,br=Dt.$tag$,Er=Dt.$text$;null===Er?(o="svg"===br||"foreignObject"!==br&&o,Z(ht,Dt,o),null!==Jt&&null!==ir?((ht,Dt,tr,Jt)=>{let C,ir=0,br=0,Er=Dt.length-1,vr=Dt[0],Mr=Dt[Er],z=Jt.length-1,pe=Jt[0],Ie=Jt[z];for(;ir<=Er&&br<=z;)null==vr?vr=Dt[++ir]:null==Mr?Mr=Dt[--Er]:null==pe?pe=Jt[++br]:null==Ie?Ie=Jt[--z]:G(vr,pe)?(K(vr,pe),vr=Dt[++ir],pe=Jt[++br]):G(Mr,Ie)?(K(Mr,Ie),Mr=Dt[--Er],Ie=Jt[--z]):G(vr,Ie)?(K(vr,Ie),ht.insertBefore(vr.$elm$,Mr.$elm$.nextSibling),vr=Dt[++ir],Ie=Jt[--z]):G(Mr,pe)?(K(Mr,pe),ht.insertBefore(Mr.$elm$,vr.$elm$),Mr=Dt[--Er],pe=Jt[++br]):(C=oe(Dt&&Dt[br],tr,br),pe=Jt[++br],C&&vr.$elm$.parentNode.insertBefore(C,vr.$elm$));ir>Er?q(ht,null==Jt[z+1]?null:Jt[z+1].$elm$,tr,Jt,br,z):br>z&&re(Dt,ir,Er)})(tr,Jt,Dt,ir):null!==ir?(null!==ht.$text$&&(tr.textContent=""),q(tr,null,Dt,ir,0,ir.length-1)):null!==Jt&&re(Jt,0,Jt.length-1),o&&"svg"===br&&(o=!1)):ht.$text$!==Er&&(tr.data=Er)},ue=ht=>{ht.$attrs$&&ht.$attrs$.ref&&ht.$attrs$.ref(null),ht.$children$&&ht.$children$.map(ue)},Y=(ht,Dt)=>{Dt&&!ht.$onRenderResolve$&&Dt["s-p"]&&Dt["s-p"].push(new Promise(tr=>ht.$onRenderResolve$=tr))},j=(ht,Dt)=>{if(ht.$flags$|=16,!(4&ht.$flags$))return Y(ht,ht.$ancestorComponent$),ur(()=>te(ht,Dt));ht.$flags$|=512},te=(ht,Dt)=>{const Jt=ht.$lazyInstance$;return Dt&&(ht.$flags$|=256,ht.$queuedListeners$&&(ht.$queuedListeners$.map(([br,Er])=>lt(Jt,br,Er)),ht.$queuedListeners$=void 0)),me(void 0,()=>Be(ht,Jt,Dt))},me=(ht,Dt)=>xe(ht)?ht.then(Dt):Dt(),xe=ht=>ht instanceof Promise||ht&&ht.then&&"function"==typeof ht.then,Be=function(){var ht=(0,M.A)(function*(Dt,tr,Jt){var ir;const br=Dt.$hostElement$,vr=br["s-rc"];Jt&&(ht=>{const Dt=ht.$cmpMeta$,tr=ht.$hostElement$,Jt=Dt.$flags$,br=((ht,Dt,tr,Jt)=>{var ir;let br=U(Dt);const Er=wt.get(br);if(ht=11===ht.nodeType?ht:Xt,Er)if("string"==typeof Er){let Mr,vr=$.get(ht=ht.head||ht);if(vr||$.set(ht,vr=new Set),!vr.has(br)){{Mr=Xt.createElement("style"),Mr.innerHTML=Er;const z=null!==(ir=Ct.$nonce$)&&void 0!==ir?ir:l(Xt);null!=z&&Mr.setAttribute("nonce",z),ht.insertBefore(Mr,ht.querySelector("link"))}vr&&vr.add(br)}}else ht.adoptedStyleSheets.includes(Er)||(ht.adoptedStyleSheets=[...ht.adoptedStyleSheets,Er]);return br})(tr.shadowRoot?tr.shadowRoot:tr.getRootNode(),Dt);10&Jt&&(tr["s-sc"]=br,tr.classList.add(br+"-h"))})(Dt);qe(Dt,tr),vr&&(vr.map(z=>z()),br["s-rc"]=void 0);{const z=null!==(ir=br["s-p"])&&void 0!==ir?ir:[],pe=()=>ct(Dt);0===z.length?pe():(Promise.all(z).then(pe),Dt.$flags$|=4,z.length=0)}});return function(tr,Jt,ir){return ht.apply(this,arguments)}}(),qe=(ht,Dt,tr)=>{try{Dt=Dt.render(),ht.$flags$&=-17,ht.$flags$|=2,((ht,Dt)=>{const tr=ht.$hostElement$,Jt=ht.$vnode$||u(null,null),ir=(ht=>ht&&ht.$tag$===h)(Dt)?Dt:a(null,null,Dt);Et=tr.tagName,ir.$tag$=null,ir.$flags$|=4,ht.$vnode$=ir,ir.$elm$=Jt.$elm$=tr.shadowRoot||tr,Qe=tr["s-sc"],K(Jt,ir)})(ht,Dt)}catch(Jt){We(Jt,ht.$hostElement$)}return null},ct=ht=>{const tr=ht.$hostElement$,ir=ht.$lazyInstance$,br=ht.$ancestorComponent$;64&ht.$flags$||(ht.$flags$|=64,Fe(tr),lt(ir,"componentDidLoad"),ht.$onReadyResolve$(tr),br||st()),ht.$onInstanceResolve$(tr),ht.$onRenderResolve$&&(ht.$onRenderResolve$(),ht.$onRenderResolve$=void 0),512&ht.$flags$&&Lt(()=>j(ht,!1)),ht.$flags$&=-517},ze=ht=>{{const Dt=It(ht),tr=Dt.$hostElement$.isConnected;return tr&&2==(18&Dt.$flags$)&&j(Dt,!1),tr}},st=ht=>{Fe(Xt.documentElement),Lt(()=>D(Ot,"appload",{detail:{namespace:"ionicpwaelements"}}))},lt=(ht,Dt,tr)=>{if(ht&&ht[Dt])try{return ht[Dt](tr)}catch(Jt){We(Jt)}},Fe=ht=>ht.classList.add("hydrated"),ot=(ht,Dt,tr)=>{if(Dt.$members$){const Jt=Object.entries(Dt.$members$),ir=ht.prototype;if(Jt.map(([br,[Er]])=>{31&Er||2&tr&&32&Er?Object.defineProperty(ir,br,{get(){return((ht,Dt)=>It(this).$instanceValues$.get(Dt))(0,br)},set(vr){((ht,Dt,tr,Jt)=>{const ir=It(ht),br=ir.$instanceValues$.get(Dt),Er=ir.$flags$,vr=ir.$lazyInstance$;tr=((ht,Dt)=>null==ht||i(ht)?ht:4&Dt?"false"!==ht&&(""===ht||!!ht):2&Dt?parseFloat(ht):1&Dt?String(ht):ht)(tr,Jt.$members$[Dt][0]);const Mr=Number.isNaN(br)&&Number.isNaN(tr);(!(8&Er)||void 0===br)&&tr!==br&&!Mr&&(ir.$instanceValues$.set(Dt,tr),vr&&2==(18&Er)&&j(ir,!1))})(this,br,vr,Dt)},configurable:!0,enumerable:!0}):1&tr&&64&Er&&Object.defineProperty(ir,br,{value(...vr){const Mr=It(this);return Mr.$onInstancePromise$.then(()=>Mr.$lazyInstance$[br](...vr))}})}),1&tr){const br=new Map;ir.attributeChangedCallback=function(Er,vr,Mr){Ct.jmp(()=>{const z=br.get(Er);if(this.hasOwnProperty(z))Mr=this[z],delete this[z];else if(ir.hasOwnProperty(z)&&"number"==typeof this[z]&&this[z]==Mr)return;this[z]=(null!==Mr||"boolean"!=typeof this[z])&&Mr})},ht.observedAttributes=Jt.filter(([Er,vr])=>15&vr[0]).map(([Er,vr])=>{const Mr=vr[1]||Er;return br.set(Mr,Er),Mr})}}return ht},Je=function(){var ht=(0,M.A)(function*(Dt,tr,Jt,ir,br){if(!(32&tr.$flags$)){tr.$flags$|=32;{if((br=Xe(Jt)).then){const z=()=>{};br=yield br,z()}br.isProxied||(ot(br,Jt,2),br.isProxied=!0);const Mr=()=>{};tr.$flags$|=8;try{new br(tr)}catch(z){We(z)}tr.$flags$&=-9,Mr()}if(br.style){let Mr=br.style;const z=U(Jt);if(!wt.has(z)){const pe=()=>{};((ht,Dt,tr)=>{let Jt=wt.get(ht);er&&tr?(Jt=Jt||new CSSStyleSheet,"string"==typeof Jt?Jt=Dt:Jt.replaceSync(Dt)):Jt=Dt,wt.set(ht,Jt)})(z,Mr,!!(1&Jt.$flags$)),pe()}}}const Er=tr.$ancestorComponent$,vr=()=>j(tr,!0);Er&&Er["s-rc"]?Er["s-rc"].push(vr):vr()});return function(tr,Jt,ir,br,Er){return ht.apply(this,arguments)}}(),Wt=(ht,Dt={})=>{var tr;const ir=[],br=Dt.exclude||[],Er=Ot.customElements,vr=Xt.head,Mr=vr.querySelector("meta[charset]"),z=Xt.createElement("style"),pe=[];let Ie,C=!0;Object.assign(Ct,Dt),Ct.$resourcesUrl$=new URL(Dt.resourcesUrl||"./",Xt.baseURI).href,ht.map(O=>{O[1].map(B=>{const A={$flags$:B[0],$tagName$:B[1],$members$:B[2],$listeners$:B[3]};A.$members$=B[2],A.$listeners$=B[3];const Q=A.$tagName$,H=class extends HTMLElement{constructor(ie){super(ie),Ht(ie=this,A),1&A.$flags$&&ie.attachShadow({mode:"open"})}connectedCallback(){Ie&&(clearTimeout(Ie),Ie=null),C?pe.push(this):Ct.jmp(()=>(ht=>{if(!(1&Ct.$flags$)){const Dt=It(ht),tr=Dt.$cmpMeta$,Jt=()=>{};if(1&Dt.$flags$)$t(ht,Dt,tr.$listeners$);else{Dt.$flags$|=1;{let ir=ht;for(;ir=ir.parentNode||ir.host;)if(ir["s-p"]){Y(Dt,Dt.$ancestorComponent$=ir);break}}tr.$members$&&Object.entries(tr.$members$).map(([ir,[br]])=>{if(31&br&&ht.hasOwnProperty(ir)){const Er=ht[ir];delete ht[ir],ht[ir]=Er}}),Je(ht,Dt,tr)}Jt()}})(this))}disconnectedCallback(){Ct.jmp(()=>(ht=>{if(!(1&Ct.$flags$)){const Dt=It(this),tr=Dt.$lazyInstance$;Dt.$rmListeners$&&(Dt.$rmListeners$.map(Jt=>Jt()),Dt.$rmListeners$=void 0),lt(tr,"disconnectedCallback")}})())}componentOnReady(){return It(this).$onReadyPromise$}};A.$lazyBundleId$=O[0],!br.includes(Q)&&!Er.get(Q)&&(ir.push(Q),Er.define(Q,ot(H,A,1)))})});{z.innerHTML=ir+"{visibility:hidden}.hydrated{visibility:inherit}",z.setAttribute("data-styles","");const O=null!==(tr=Ct.$nonce$)&&void 0!==tr?tr:l(Xt);null!=O&&z.setAttribute("nonce",O),vr.insertBefore(z,Mr?Mr.nextSibling:vr.firstChild)}C=!1,pe.length?pe.map(O=>O.connectedCallback()):Ct.jmp(()=>Ie=setTimeout(st,30))},$t=(ht,Dt,tr,Jt)=>{tr&&tr.map(([ir,br,Er])=>{const vr=Vt(ht,ir),Mr=cr(Dt,Er),z=mr(ir);Ct.ael(vr,br,Mr,z),(Dt.$rmListeners$=Dt.$rmListeners$||[]).push(()=>Ct.rel(vr,br,Mr,z))})},cr=(ht,Dt)=>tr=>{try{256&ht.$flags$?ht.$lazyInstance$[Dt](tr):(ht.$queuedListeners$=ht.$queuedListeners$||[]).push([Dt,tr])}catch(Jt){We(Jt)}},Vt=(ht,Dt)=>16&Dt?Xt.body:ht,mr=ht=>!!(2&ht),hr=new WeakMap,It=ht=>hr.get(ht),lr=(ht,Dt)=>hr.set(Dt.$lazyInstance$=ht,Dt),Ht=(ht,Dt)=>{const tr={$flags$:0,$hostElement$:ht,$cmpMeta$:Dt,$instanceValues$:new Map};return tr.$onInstancePromise$=new Promise(Jt=>tr.$onInstanceResolve$=Jt),tr.$onReadyPromise$=new Promise(Jt=>tr.$onReadyResolve$=Jt),ht["s-p"]=[],ht["s-rc"]=[],$t(ht,tr,Dt.$listeners$),hr.set(ht,tr)},$e=(ht,Dt)=>Dt in ht,We=(ht,Dt)=>(0,console.error)(ht,Dt),Pe=new Map,Xe=(ht,Dt,tr)=>{const Jt=ht.$tagName$.replace(/-/g,"_"),ir=ht.$lazyBundleId$,br=Pe.get(ir);if(br)return br[Jt];if(!tr||!BUILD.hotModuleReplacement){const Er=vr=>(Pe.set(ir,vr),vr[Jt]);switch(ir){case"pwa-action-sheet":return we.e(6301).then(we.bind(we,6301)).then(Er,We);case"pwa-camera-modal":return we.e(2982).then(we.bind(we,2982)).then(Er,We);case"pwa-toast":return we.e(3574).then(we.bind(we,3574)).then(Er,We);case"pwa-camera-modal-instance":return we.e(5640).then(we.bind(we,5640)).then(Er,We);case"pwa-camera":return we.e(6086).then(we.bind(we,6086)).then(Er,We)}}return we(5235)(`./${ir}.entry.js`).then(Er=>(Pe.set(ir,Er),Er[Jt]),We)},wt=new Map,Ot=typeof window<"u"?window:{},Xt=Ot.document||{head:{}},Ct={$flags$:0,$resourcesUrl$:"",jmp:ht=>ht(),raf:ht=>requestAnimationFrame(ht),ael:(ht,Dt,tr,Jt)=>ht.addEventListener(Dt,tr,Jt),rel:(ht,Dt,tr,Jt)=>ht.removeEventListener(Dt,tr,Jt),ce:(ht,Dt)=>new CustomEvent(ht,Dt)},Bt=ht=>Promise.resolve(ht),er=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),or=[],Rt=[],mt=(ht,Dt)=>tr=>{ht.push(tr),se||(se=!0,Dt&&4&Ct.$flags$?Lt(yt):Ct.raf(yt))},Ut=ht=>{for(let Dt=0;Dt<ht.length;Dt++)try{ht[Dt](performance.now())}catch(tr){We(tr)}ht.length=0},yt=()=>{Ut(or),Ut(Rt),(se=or.length>0)&&Ct.raf(yt)},Lt=ht=>Bt().then(ht),ur=mt(Rt,!0)},5402:(Dr,rr,we)=>{"use strict";we.d(rr,{R:()=>T});const T=(0,we(5083).F3)("VoiceRecorder",{web:()=>we.e(9888).then(we.bind(we,9888)).then(Qe=>new Qe.VoiceRecorderWeb)})},92:(Dr,rr,we)=>{"use strict";we.d(rr,{Yl:()=>_,ZL:()=>l,aH:()=>E,d2:()=>i});var M=we(467),T=we(8326),Et=we(3953),o=we(3656),se=we(5374),V=we(5547),v=we(4237),b=we(755),p=we(4234),y=we(482),E="DesktopPWA",_=!1;const i="https://is2you2.github.io/";window.p5=T;let l=(()=>{var a;class u{constructor(d,m,f,g,D,$){d.is("desktop")?E="DesktopPWA":d.is("mobileweb")?E="MobilePWA":d.is("android")?E="Android":d.is("iphone")&&(E="iOS"),_=d.is("electron"),g.initialize((0,M.A)(function*(){D.Callback_nakama=()=>{f.initialize(),D.Callback_nakama=null};try{let P=yield g.loadBlobFromUserPath("translate.csv",""),x=URL.createObjectURL(P);D.load_selected_lang(x)}catch{D.load_selected_lang()}let L=$.CatchGETs(location.href)||{};$.initialize(),f.AddressToQRCodeAct(L),m.initialize(),m.load_settings(),g.GetFileListFromDB("tmp_files",P=>{P.forEach(x=>g.removeFileFromUserPath(x))})}))}}return(a=u).\u0275fac=function(d){return new(d||a)(Et.rXU(o.OD),Et.rXU(V.r),Et.rXU(v.X),Et.rXU(b.n),Et.rXU(p.y),Et.rXU(y.z3))},a.\u0275cmp=Et.VBU({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(d,m){1&d&&(Et.j41(0,"ion-app"),Et.nrm(1,"ion-router-outlet"),Et.k0s())},dependencies:[se.U1,se.Rg]}),u})()},482:(Dr,rr,we)=>{"use strict";we.d(rr,{xM:()=>g,z3:()=>D,ud:()=>f});var M=we(467),T=we(4023),Qe=we(8326),Et=we(617),o=we(92),se=we(5083),V=function($){return $.Prompt="PROMPT",$.Camera="CAMERA",$.Photos="PHOTOS",$}(V||{}),v=function($){return $.Rear="REAR",$.Front="FRONT",$}(v||{}),b=function($){return $.Uri="uri",$.Base64="base64",$.DataUrl="dataUrl",$}(b||{});class p extends se.E_{getPhoto(L){var P=this;return(0,M.A)(function*(){return new Promise(function(){var x=(0,M.A)(function*(U,I){if(L.webUseInput||L.source===V.Photos)P.fileInputExperience(L,U,I);else if(L.source===V.Prompt){let F=document.querySelector("pwa-action-sheet");F||(F=document.createElement("pwa-action-sheet"),document.body.appendChild(F)),F.header=L.promptLabelHeader||"Photo",F.cancelable=!1,F.options=[{title:L.promptLabelPhoto||"From Photos"},{title:L.promptLabelPicture||"Take Picture"}],F.addEventListener("onSelection",function(){var R=(0,M.A)(function*(Z){0===Z.detail?P.fileInputExperience(L,U,I):P.cameraExperience(L,U,I)});return function(Z){return R.apply(this,arguments)}}())}else P.cameraExperience(L,U,I)});return function(U,I){return x.apply(this,arguments)}}())})()}pickImages(L){var P=this;return(0,M.A)(function*(){return new Promise(function(){var x=(0,M.A)(function*(U,I){P.multipleFileInputExperience(U,I)});return function(U,I){return x.apply(this,arguments)}}())})()}cameraExperience(L,P,x){var U=this;return(0,M.A)(function*(){if(customElements.get("pwa-camera-modal")){const I=document.createElement("pwa-camera-modal");I.facingMode=L.direction===v.Front?"user":"environment",document.body.appendChild(I);try{yield I.componentOnReady(),I.addEventListener("onPhoto",function(){var F=(0,M.A)(function*(R){const Z=R.detail;null===Z?x(new se.I9("User cancelled photos app")):Z instanceof Error?x(Z):P(yield U._getCameraPhoto(Z,L)),I.dismiss(),document.body.removeChild(I)});return function(R){return F.apply(this,arguments)}}()),I.present()}catch{U.fileInputExperience(L,P,x)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),U.fileInputExperience(L,P,x)})()}fileInputExperience(L,P,x){let U=document.querySelector("#_capacitor-camera-input");const I=()=>{var F;null===(F=U.parentNode)||void 0===F||F.removeChild(U)};U||(U=document.createElement("input"),U.id="_capacitor-camera-input",U.type="file",U.hidden=!0,document.body.appendChild(U),U.addEventListener("change",F=>{const R=U.files[0];let Z="jpeg";if("image/png"===R.type?Z="png":"image/gif"===R.type&&(Z="gif"),"dataUrl"===L.resultType||"base64"===L.resultType){const oe=new FileReader;oe.addEventListener("load",()=>{if("dataUrl"===L.resultType)P({dataUrl:oe.result,format:Z});else if("base64"===L.resultType){const q=oe.result.split(",")[1];P({base64String:q,format:Z})}I()}),oe.readAsDataURL(R)}else P({webPath:URL.createObjectURL(R),format:Z}),I()}),U.addEventListener("cancel",F=>{x(new se.I9("User cancelled photos app")),I()})),U.accept="image/*",U.capture=!0,L.source===V.Photos||L.source===V.Prompt?U.removeAttribute("capture"):L.direction===v.Front?U.capture="user":L.direction===v.Rear&&(U.capture="environment"),U.click()}multipleFileInputExperience(L,P){let x=document.querySelector("#_capacitor-camera-input-multiple");const U=()=>{var I;null===(I=x.parentNode)||void 0===I||I.removeChild(x)};x||(x=document.createElement("input"),x.id="_capacitor-camera-input-multiple",x.type="file",x.hidden=!0,x.multiple=!0,document.body.appendChild(x),x.addEventListener("change",I=>{const F=[];for(let R=0;R<x.files.length;R++){const Z=x.files[R];let oe="jpeg";"image/png"===Z.type?oe="png":"image/gif"===Z.type&&(oe="gif"),F.push({webPath:URL.createObjectURL(Z),format:oe})}L({photos:F}),U()}),x.addEventListener("cancel",I=>{P(new se.I9("User cancelled photos app")),U()})),x.accept="image/*",x.click()}_getCameraPhoto(L,P){return new Promise((x,U)=>{const I=new FileReader,F=L.type.split("/")[1];"uri"===P.resultType?x({webPath:URL.createObjectURL(L),format:F,saved:!1}):(I.readAsDataURL(L),I.onloadend=()=>{const R=I.result;x("dataUrl"===P.resultType?{dataUrl:R,format:F,saved:!1}:{base64String:R.split(",")[1],format:F,saved:!1})},I.onerror=R=>{U(R)})})}checkPermissions(){var L=this;return(0,M.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw L.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw L.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var L=this;return(0,M.A)(function*(){throw L.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var L=this;return(0,M.A)(function*(){throw L.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var L=this;return(0,M.A)(function*(){throw L.unavailable("Not implemented on web.")})()}}new p;const E=(0,se.F3)("Camera",{web:()=>new p});var _=we(5402),i=we(3953),l=we(5374),a=we(3656),u=we(9900),h=we(4234),d=we(345),m=we(755),f=!1;const g=8e4;let D=(()=>{var $;class L{constructor(x,U,I,F,R,Z,oe){this.modalCtrl=x,this.p5toast=U,this.lang=I,this.sanitizer=F,this.indexed=R,this.loadingCtrl=Z,this.navCtrl=oe,this.FocusOnPortal=!0,this.PortalBottonTabAct={Todo:void 0,Subscribes:void 0,Arcade:void 0,Community:void 0},this.CacheShortCut={},this.WindowOnBlurAct={},this.WebsocketRetryTerm=70,this.WaitingConnect=!1,this.InitEnd=!1,this.PeerConnected=!1,this.PageDismissAct={},f=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",q=>{f=!!q.matches})}initialize(){window.onblur=()=>{let x=Object.keys(this.WindowOnBlurAct);for(let U of x)this.WindowOnBlurAct[U]()},this.p5toast.HTMLEncode||(this.p5toast.HTMLEncode=this.HTMLEncode),this.p5key=new Qe(x=>{x.setup=()=>{x.noCanvas(),x.noLoop(),this.p5KeyShortCut={}},x.keyPressed=U=>{if(this.p5KeyShortCut){switch(U.code){case"Backspace":this.p5KeyShortCut.Backspace&&this.p5KeyShortCut.Backspace();break;case"Backquote":this.p5KeyShortCut.Backquote&&this.p5KeyShortCut.Backquote();break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":case"Numpad0":if(this.p5KeyShortCut.Digit){let I=(Number(U.code.slice(-1))-1+10)%10;this.p5KeyShortCut.Digit(I)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":case"KeyT":this.p5KeyShortCut.BottomTab&&this.p5KeyShortCut.BottomTab(U.code.slice(-1));break;case"KeyA":this.p5KeyShortCut.AddAct&&this.p5KeyShortCut.AddAct();break;case"KeyS":this.p5KeyShortCut.SKeyAct&&this.p5KeyShortCut.SKeyAct();break;case"KeyD":this.p5KeyShortCut.DeleteAct&&this.p5KeyShortCut.DeleteAct();break;case"KeyF":this.p5KeyShortCut.FKeyAct&&this.p5KeyShortCut.FKeyAct();break;case"Escape":this.p5KeyShortCut.Escape&&this.p5KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":this.p5KeyShortCut.HistoryAct&&this.p5KeyShortCut.HistoryAct(U.code.slice(-1))}"Enter"===U.key&&this.p5KeyShortCut.EnterAct&&this.p5KeyShortCut.EnterAct(U)}}})}RemoveAllModals(x=(()=>{})){var U=this;return(0,M.A)(function*(){let I="init";for(;I;)I=yield U.modalCtrl.getTop(),I&&(yield I.dismiss());x&&x()})()}CatchGETs(x){const U=x.split("?");if(U.length>1){const I=U[1].split("&");let F={};for(let R=0,Z=I.length;R<Z;R++){const oe=I[R].split("=");F[oe[0]]||(F[oe[0]]=[]),F[oe[0]].push(decodeURIComponent(oe[1]))}return F}}readasQRCodeFromString(x){try{let U=new T({content:x,padding:4,width:8,height:8,color:f?"#bbb":"#444",background:f?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(U)}`)}catch(U){console.log("readasQRCodeFromString: ",U),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${U}`})}}CreateGodotIFrame(x,U,I=""){var F=this;return new Promise(function(){var R=(0,M.A)(function*(Z){let oe=function(){var G=(0,M.A)(function*(){try{if("godot"!=window.godot)throw"No godot";if(I&&!F.godot_window[I])throw"No act ready";yield F.indexed.GetGodotIndexedDB(),Z()}catch{setTimeout(()=>{oe()},1e3)}});return function(){return G.apply(this,arguments)}}();F.godot_window&&F.godot_window.quit_godot&&F.godot_window.quit_godot(),F.godot_window&&F.godot_window.quit_ionic&&F.godot_window.quit_ionic(),F.godot_splash&&F.godot_splash.remove(),F.godot&&F.godot.remove(),window.godot="";let q=document.createElement("iframe");q.id="godot",q.setAttribute("src","assets/html/index.html"),q.setAttribute("frameborder","0"),q.setAttribute("class","full_screen"),q.setAttribute("allow","fullscreen; encrypted-media"),q.setAttribute("scrolling","no"),q.setAttribute("withCredentials","true"),"content_viewer_canvas"==x&&(U.create_thumbnail_p5=function(){var G=(0,M.A)(function*(K,ue=void 0){new Qe(Me=>{Me.setup=()=>{Me.noCanvas(),Me.pixelDensity(1),Me.loadImage("data:image/png;base64,"+K,function(){var Y=(0,M.A)(function*(j){let te=Me.createCanvas(j.width,j.height);Me.image(j,0,0),Me.textSize(16),Me.textWrap(Me.CHAR);let me=Me.height/24;Me.push(),Me.translate(me/6,me/6),Me.fill(0),Me.text(F.godot_window.filename,me,me,Me.width-2*me,Me.height-2*me),Me.filter(Me.BLUR,3,!1),Me.pop(),Me.fill(255),Me.text(F.godot_window.filename,me,me,Me.width-2*me,Me.height-2*me);let xe=te.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield F.indexed.saveBase64ToUserPath(xe,`${U.alt_path||U.path}_thumbnail.png`),F.modulate_thumbnail(ue,"")}catch(Be){console.log("p.saveFrames: ",Be)}Me.remove()});return function(j){return Y.apply(this,arguments)}}(),Y=>{console.error("create_thumbnail_load thumbnail failed: ",Y),Me.remove()})}})});return function(K){return G.apply(this,arguments)}}()),document.getElementById(x).appendChild(q),F.godot_window=q.contentWindow||q.contentDocument,Object.keys(U).forEach(G=>F.godot_window[G]=U[G]),F.godot=q,yield oe()});return function(Z){return R.apply(this,arguments)}}())}req_file_info(x){var U=this;return(0,M.A)(function*(){return new Promise(function(){var I=(0,M.A)(function*(F){F(yield U.indexed.GetFileInfoFromDB(x))});return function(F){return I.apply(this,arguments)}}())})()}req_file_part_base64(x,U,I){let F="",R=new Uint8Array(x.contents.slice(U*g,(U+1)*g));for(let oe=0,q=R.byteLength;oe<q;oe++)F+=String.fromCharCode(R[oe]);let Z=btoa(F);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:U}),`${I}.history`),Z}save_file_part(x,U,I){this.indexed.saveBase64ToUserPath(","+I,`${x}_part/${U}.part`),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:U}),`${x}.history`)}remove_req_file_info(x,U){delete x.content.transfer_index,this.indexed.removeFileFromUserPath(`${U}.history`)}modulate_thumbnail(x,U,I){var F=this;return(0,M.A)(function*(){try{let R=yield F.indexed.loadBlobFromUserPath(`${x.path}_thumbnail.png`,"image/png"),Z=URL.createObjectURL(R);return x.thumbnail=F.sanitizer.bypassSecurityTrustUrl(Z),void setTimeout(()=>{URL.revokeObjectURL(Z),U&&URL.revokeObjectURL(U)},100)}catch{}switch(x.viewer){case"image":try{if(!x.url)throw"No URL";if(!(yield fetch(x.url,{signal:null==I?void 0:I.signal})).ok)throw"Not ok";x.thumbnail=x.url}catch{U&&(x.thumbnail=F.sanitizer.bypassSecurityTrustUrl(U))}break;case"text":if(x.url){let R=yield fetch(x.url,{signal:null==I?void 0:I.signal}).then(Z=>Z.text());x.text=R.split("\n")}else new Qe(R=>{R.setup=()=>{R.noCanvas(),R.loadStrings(U,Z=>{x.text=Z,URL.revokeObjectURL(U),R.remove()},Z=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",Z),x.text=[F.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(U),R.remove()})}})}U&&setTimeout(()=>{URL.revokeObjectURL(U)},100)})()}set_viewer_category(x){try{if(this.set_viewer_category_from_ext(x),"disabled"==x.viewer)if(0==x.type.indexOf("image/"))x.viewer="image";else if(0==x.type.indexOf("audio/"))x.viewer="audio";else if(0==x.type.indexOf("video/"))x.viewer="video";else{if(0!=x.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";x.viewer="text"}}catch(U){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",U,"/ type: ",x.type)}}set_viewer_category_from_ext(x){switch(x.file_ext){case"blend":x.viewer="blender";break;case"pck":x.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":x.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":x.viewer="audio";break;case"mp4":case"ogv":x.viewer="video";break;case"webm":try{x.viewer=0==x.type.indexOf("video/")?"video":"audio"}catch(U){console.log("\ud30c\uc77c \ud655\uc7a5\uc790 \uac80\ud1a0 \uc624\ub958: ",U,"/",x),x.viewer="disabled"}break;case"sh":case"c":case"cs":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"xml":case"css":case"scss":case"pl":case"md":case"prop":case"properties":case"json":case"yml":x.viewer="code";break;case"csv":case"conf":case"log":case"txt":case"gitignore":x.viewer="text";break;case"pdf":x.viewer="pdf";break;default:x.viewer="disabled"}}GetBase64ThroughFileReader(x){return new Promise((U,I)=>{var F;let R=new FileReader;R=null!==(F=R._realReader)&&void 0!==F?F:R,R.onload=Z=>{R.onload=null,R.onerror=null,U(Z.target.result.replace(/"|\\|=/g,""))},R.onerror=Z=>{R.onload=null,R.onerror=null,I(Z)},R.readAsDataURL(x)})}Base64ToBlob(x,U=""){let I=atob(x.split(",")[1]),F=new ArrayBuffer(I.length),R=new Int8Array(F);for(let oe=0,q=I.length;oe<q;oe++)R[oe]=I.charCodeAt(oe);return new Blob([R],{type:U})}upload_file_to_storage(x,U,I,F,R,Z){var oe=this;return(0,M.A)(function*(){let q;q=Z||(yield oe.loadingCtrl.create({message:oe.lang.text.Settings.TryToFallbackFS})),q.present();let W,re=!1;R&&(W=yield oe.try_upload_to_user_custom_fs(x,U,q)),q.message=oe.lang.text.GlobalAct.CheckCdnServer;let G,K=new AbortController;try{if(W)throw re=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";let ue=(new Date).getTime(),Me=x.filename.substring(0,x.filename.lastIndexOf(".")),Y=`${U}_${ue}_${Me}.${x.file_ext}`;W=`${I}//${F}:9002/cdn/${Y}`,G=setInterval((0,M.A)(function*(){let Be=yield fetch(`${I}//${F}:9001/filesize/${Y}`,{method:"POST",signal:K.signal}),qe=Number(yield Be.text()),ct=Math.floor(qe/x.size*100);q.message=`${x.filename}: ${ct||0}%`}),700);let j=new FormData,te=new File([x.blob],Y);if(j.append("files",te),!(yield fetch(`${I}//${F}:9001/cdn/${Y}`,{method:"POST",body:j})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";if(clearInterval(G),K.abort(),!(yield fetch(W)).ok)throw"\uc694\uccad \uc2e4\ud328";re=!0}catch(ue){clearInterval(G),K.abort(),q.message=oe.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",ue)}return q.dismiss(),re?W:void 0})()}remove_file_from_storage(x){return(0,M.A)(function*(){try{let U=x.split("/cdn/"),I=U.pop(),F=U.shift(),R=F.lastIndexOf(":");R>5&&(F=F.substring(0,R)),yield fetch(`${F}:9001/remove/${I}`,{method:"POST"})}catch(U){throw console.log("remove_file_from_storage: ",U),U}})()}remove_files_from_storage_with_key(x,U){return(0,M.A)(function*(){try{let I=x.lastIndexOf(":");I>5&&(x=x.substring(0,I)),yield fetch(`${x}:9001/remove_key/${U}`,{method:"POST"})}catch(I){throw console.log("remove_files_from_storage_with_key: ",I),I}})()}try_upload_to_user_custom_fs(x,U,I,F){var R=this;return(0,M.A)(function*(){let Z;Z=I||(yield R.loadingCtrl.create({message:R.lang.text.Settings.TryToFallbackFS}));let K,oe=(new Date).getTime(),q=x.filename.substring(0,x.filename.lastIndexOf(".")),re=`${U}_${oe}_${q}.${x.file_ext}`,W=new FormData,G=new File([x.blob],re);W.append("files",G),F||(F=localStorage.getItem("fallback_fs"));let ue,Me=new AbortController;try{if(!F)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Y=F.split("://"),j=Y.pop().split(":"),te=Y.pop();if(te?te+=":":te=R.checkProtocolFromAddress(j[0])?"https:":"http:",K=`${te}//${j[0]}:${j[1]||9002}/cdn/${re}`,ue=setInterval((0,M.A)(function*(){let Be=yield fetch(`${te}//${j}:9001/filesize/${re}`,{method:"POST",signal:Me.signal}),qe=Number(yield Be.text()),ct=Math.floor(qe/x.size*100);I&&(I.message=`${x.filename}: ${ct||0}%`)}),700),!(yield fetch(`${te}//${j[0]}:9001/cdn/${re}`,{method:"POST",body:W})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";clearInterval(ue),Me.abort();let xe=yield fetch(K);if(I||Z.dismiss(),xe.ok)return K;throw"\uc694\uccad \uc2e4\ud328"}catch{return clearInterval(ue),Me.abort(),void(I||Z.dismiss())}})()}checkProtocolFromAddress(x){return!!x.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")}load_blender_file(x,U,I,F,R){var Z=this;return new Qe(oe=>{let K,q=[],re=[],G={};oe.setup=(0,M.A)(function*(){let Me,ue=oe.createCanvas(x.clientWidth,x.clientHeight,oe.WEBGL);ue.parent(x),Z.BlenderLoadingCtrl=yield Z.loadingCtrl.create({message:Z.lang.text.ContentViewer.OnLoadContent}),Z.BlenderLoadingCtrl.present(),Z.BlenderCanvasInside=ue,oe.textureMode(oe.NORMAL),oe.textureWrap(oe.REPEAT),oe.clear(255,255,255,0),oe.pixelDensity(1);try{Me=yield Z.indexed.loadBlobFromUserPath(U.path,U.type||"")}catch{try{Me=yield(yield fetch(U.url,{signal:null==R?void 0:R.signal})).blob()}catch(te){console.log("\ubdf0\uc5b4\uc5d0\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",te),F()}}let Y=oe.createElement("iframe");Y.elt.id="jsBlend",Y.elt.setAttribute("src","assets/js.blend/index.html"),Y.elt.setAttribute("frameborder","0"),Y.elt.setAttribute("class","full_screen"),Y.elt.setAttribute("allow","fullscreen; encrypted-media"),Y.elt.setAttribute("scrolling","no"),Y.elt.setAttribute("withCredentials","true"),Y.hide(),x.appendChild(Y.elt),Y.elt.contentWindow.TARGET_FILE=Me,Y.elt.onload=(0,M.A)(function*(){if(!Me)return void Z.p5toast.show({text:Z.lang.text.ContentViewer.CannotOpenText});K=oe.createDiv(),K.parent(x),K.id("logDiv"),K.style("position","absolute"),K.style("top","0"),K.style("left","0"),K.style("width","100%"),K.style("height","100%"),K.style("max-height",`${x.clientHeight}px`),K.style("pointer-events","none"),Z.BlenderLoadingCtrl.dismiss();let j=yield Y.elt.contentWindow.JSBLEND(Me);Z.BlenderLoadingCtrl=yield Z.loadingCtrl.create({message:Z.lang.text.ContentViewer.OnLoadContent}),Z.BlenderLoadingCtrl.present();const te=100;let me=j.file.AB;if(j.file.objects.PackedFile)for(let ft=0,Pt=j.file.objects.PackedFile.length;ft<Pt;ft++){let Wt=j.file.objects.PackedFile[ft],$t=Wt.data.__data_address__,Vt=me.slice($t,$t+Wt.size),mr=new Blob([Vt]),Kt=URL.createObjectURL(mr);oe.loadImage(Kt,hr=>{G[Wt.data.__data_address__]=hr,URL.revokeObjectURL(Kt)},hr=>{console.log("\ud14d\uc2a4\uccd0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",hr),URL.revokeObjectURL(Kt)})}let xe=j.file.objects.vec2f,Be=0,qe=j.file.objects.Mesh,ct=j.file.objects.vec3f,ze=0,st=j.file.objects.vec2i,lt=0;for(let ft=0,Pt=j.file.objects.Object.length;ft<Pt;ft++){let Wt=j.file.objects.Object[ft];Z.BlenderLoadingCtrl.message=`${Z.lang.text.ContentViewer.ReadObject}: ${Wt.aname}`;let $t=oe.createVector(-Wt.loc[0]*te,-Wt.loc[2]*te,Wt.loc[1]*te),cr=oe.createVector(Wt.rot[0],Wt.rot[2],-Wt.rot[1]);switch(Wt.type){case 1:{{let Xe=["noimp","colonly","convcolonly","navmesh"],wt=!1;for(let Ot=0,Xt=Xe.length;Ot<Xt;Ot++)if(-1!==Wt.aname.indexOf(Xe[Ot],Wt.aname.length-Xe[Ot].length)){wt=!0;break}if(wt||(wt=448==Wt.base_flag),wt)continue}let mr,Kt,hr,It,Vt=null;for(let Xe=0,wt=qe.length;Xe<wt;Xe++)if(qe[Xe].address==Wt.data.address){Vt=Xe;break}try{let Xe=-1;for(let wt=0,Ot=xe.length;wt<Ot;wt++)if(xe[wt].address&&(Xe++,Xe==Vt)){Be=wt;break}}catch{}try{let Xe=-1,wt=!1,Ot=ct.length;for(let Xt=0;Xt<Ot;Xt++)if(ct[Xt].address){if(Xe++,wt){mr=ct.slice(ze,Xt);break}Xe==Vt&&(ze=Xt,wt=!0)}mr||(mr=ct.slice(ze,Ot))}catch{}try{let Xe=-1,wt=!1,Ot=st.length;for(let Xt=0;Xt<Ot;Xt++)if(st[Xt].address){if(Xe++,wt){Kt=st.slice(lt,Xt);break}Xe==Vt&&(lt=Xt,wt=!0)}Kt||(Kt=st.slice(lt,Ot))}catch{}if(Wt.data.ldata.layers.length)for(let Xe=0,wt=Wt.data.ldata.layers.length;Xe<wt;Xe++)11===Wt.data.ldata.layers[Xe].type&&(It=Wt.data.ldata.layers[Xe].data);else It=Wt.data.ldata.layers.data;oe.beginGeometry(),oe.push(),oe.translate($t),oe.scale(Wt.size[0],Wt.size[2],Wt.size[1]),Wt.rot[0]+Wt.rot[1]+Wt.rot[2]&&(K.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Wt.aname}: ${Z.lang.text.ContentViewer.MayGimbalLock}</div>`,oe.rotate(oe.HALF_PI,cr));try{let Xe=[];for(let wt=0,Ot=mr.length;wt<Ot;wt++)Xe.push([]);for(let wt=0,Ot=Kt.length;wt<Ot;wt++){var Fe,rt;let Xt=null!==(Fe=Kt[wt].x)&&void 0!==Fe?Fe:Kt[wt].v1,Ct=null!==(rt=Kt[wt].y)&&void 0!==rt?rt:Kt[wt].v2;Xe[Xt].push(Ct),Xe[Ct].push(Xt)}for(let Xt,Ct,Ot=It.length-1;Ot>=0;Ot--){var Ye,ot,Je;let Bt=It[Ot].i,er=null!==(Ye=mr[Bt].x)&&void 0!==Ye?Ye:mr[Bt].co[0],or=null!==(ot=mr[Bt].y)&&void 0!==ot?ot:mr[Bt].co[1],Rt=null!==(Je=mr[Bt].z)&&void 0!==Je?Je:mr[Bt].co[2];if(void 0!==Ct){try{if(!Xe[Ct].includes(Bt))throw"\ub9c8\uc9c0\ub9c9 \uc810\uc73c\ub85c\ubd80\ud130 \uadf8\ub9b4 \uc218 \uc5c6\uc74c";oe.vertex(-er*te,-Rt*te,or*te,xe[Be+Ot].x,-xe[Be+Ot].y);let Ut=!1;if(Ct!=Xt&&(Ut=Xe[Bt].includes(Xt)),Ut)throw"\ub3cc\uc544\uac08 \uc218 \uc788\ub294\ub370 \ub3cc\uc544\uac00\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc0c8 \uc2dc\uc791\uc810\uc73c\ub85c \uc778\uc2dd"}catch{oe.endShape(oe.CLOSE),Ct=void 0;continue}Ct=Bt}else oe.beginShape(),oe.vertex(-er*te,-Rt*te,or*te,xe[Be+Ot].x,-xe[Be+Ot].y),Xt=Bt,Ct=Bt}}catch(Xe){console.log("\uba54\uc26c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Xe),K.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Wt.aname}: ${Z.lang.text.ContentViewer.LoadMeshFailed}: ${Xe}</div>`}oe.pop(),hr=oe.endGeometry();let Ht,$e,We,Pe=0;try{if(!Wt.data.mat.length)throw"no_mat";for(let Xe=0,wt=Wt.data.mat.length;Xe<wt;Xe++){try{let Ot=Wt.data.mat[Xe].nodetree.nodes.first.next.inputs.first.default_value.value;$e=oe.color(255*Ot[0],255*Ot[1],255*Ot[2],255*Ot[3])}catch(Ot){console.log("\ubca0\uc774\uc2a4 \uc0c9\uc0c1 \uac00\uc838\uc624\uae30 \uc2e4\ud328: ",Ot),K.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Wt.aname}: ${Z.lang.text.ContentViewer.FailedGetBaseColor}: ${Ot}</div>`}try{let Ot=Wt.data.mat[Xe].nodetree.nodes.first.next.inputs.last.prev.default_value.value;Pe=Wt.data.mat[Xe].nodetree.nodes.first.next.inputs.last.default_value.value,We=oe.color(255*Ot[0],255*Ot[1],255*Ot[2],255*Ot[3])}catch(Ot){K.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Wt.aname}: ${Z.lang.text.ContentViewer.FailedGetEmitColor}: ${Ot}</div>`}if(Wt.data.mat[Xe].nodetree.nodes.last.id){let Ot=Wt.data.mat[Xe].nodetree.nodes.last.id.packedfile;if(!Ot)throw"unpacked";Ht=Ot.data.__data_address__}}}catch(Xe){switch(Xe){case"unpacked":K.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Wt.aname}: ${Z.lang.text.ContentViewer.LinkedTexFile}</div>`;break;case"no_mat":K.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${Wt.aname}: ${Z.lang.text.ContentViewer.NoMaterial}</div>`;break;default:console.log(Wt.aname,"_\uc7ac\uc9c8 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Xe),K.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Wt.aname}: ${Xe}</div>`}}hr.computeNormals(),re.push({id:Wt.data.address,name:Wt.data.aname,color:$e,emissionColor:We,emissionStrength:Pe,texture:Ht,mesh:hr})}break;case 10:q.length<5?(K.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Wt.aname}: ${Z.lang.text.ContentViewer.OnWorkReadLightMode}</div>`,q.push({type:"point",loc:$t,rot:cr,color:oe.color(255,255,255)})):K.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${Wt.aname}: ${Z.lang.text.ContentViewer.ReachLightLimit}</div>`}yield new Promise(Vt=>setTimeout(Vt,0))}Z.BlenderLoadingCtrl.dismiss(),setTimeout(()=>{K.elt.remove()},8e3),I(),Y.elt.onload=null}),oe.camera(0,0,-oe.height/2/oe.tan(30*oe.PI/180),0,0,0,0,1,0)}),oe.draw=()=>{if(oe.clear(255,255,255,0),oe.orbitControl(),q.length)for(let ue=0,Me=q.length;ue<Me;ue++)"point"===q[ue].type&&oe.pointLight(q[ue].color,q[ue].loc);else oe.directionalLight(128,128,128,-1,1,1);oe.ambientLight(128);for(let ue=0,Me=re.length;ue<Me;ue++)oe.push(),re[ue].texture?(oe.noStroke(),G[re[ue].texture]&&oe.texture(G[re[ue].texture])):re[ue].color&&(oe.noStroke(),oe.ambientMaterial(re[ue].color)),re[ue].emissionStrength&&(oe.noStroke(),oe.emissiveMaterial(re[ue].emissionColor)),oe.model(re[ue].mesh),oe.pop()},oe.windowResized=()=>{setTimeout(()=>{x.style.maxHeight=window.innerHeight-56-45+"px",K&&K.style("max-height",`${x.clientHeight}px`),oe.resizeCanvas(x.clientWidth,x.clientHeight)},50)}})}StoreShortCutAct(x){this.CacheShortCut[x]=this.p5KeyShortCut,this.p5KeyShortCut={}}RestoreShortCutAct(x){this.p5KeyShortCut=this.CacheShortCut[x],delete this.CacheShortCut[x]}from_camera(x,U){var I=this;return(0,M.A)(function*(){let F={},R=yield I.loadingCtrl.create({message:I.lang.text.TodoDetail.WIP});try{const Z=yield E.getPhoto({quality:90,resultType:b.Base64,source:V.Camera});R.present(),F.filename=`Camera_${(new Date).toLocaleString().replace(/[:|.|\/]/g,"_")}.${Z.format}`,F.file_ext=Z.format,F.base64="data:image/jpeg;base64,"+Z.base64String,F.thumbnail=I.sanitizer.bypassSecurityTrustUrl(F.base64),F.type=`image/${Z.format}`,F.typeheader="image",F.content_related_creator=[{user_id:U.user_id,timestamp:(new Date).getTime(),display_name:U.display_name,various:"camera"}],F.content_creator={user_id:U.user_id,timestamp:(new Date).getTime(),display_name:U.display_name,various:"camera"},F.path=`${x}${F.filename}`,F.viewer="image";let q=yield I.indexed.saveBase64ToUserPath(F.base64,F.path);F.blob=new Blob([q],{type:F.type}),F.size=F.blob.size}catch(Z){throw console.log("\uce74\uba54\ub77c \ud589\ub3d9 \uc2e4\ud328: ",Z),Z}return R.dismiss(),F})()}selected_blobFile_callback_act(x,U,I,F="loaded",R=[]){let Z={};return Z.filename=x.name,Z.file_ext=x.name.split(".").pop()||x.type||this.lang.text.ChatRoom.unknown_ext,Z.size=x.size,Z.type=x.type||x.type_override,Z.path=`${U}${Z.filename}`,Z.blob=x,Z.content_related_creator=[...R,{user_id:I.user_id,timestamp:(new Date).getTime(),display_name:I.display_name,various:F}],Z.content_creator={user_id:I.user_id,timestamp:(new Date).getTime(),display_name:I.display_name,various:F},this.set_viewer_category(Z),Z}voidDraw_fileAct_callback(x,U,I,F){var R=this;return(0,M.A)(function*(){let Z={};Z.filename=x.data.name,Z.file_ext="png",Z.type="image/png",Z.viewer="image",F?(Z.content_related_creator=F,Z.content_creator={user_id:I.user_id,timestamp:(new Date).getTime(),display_name:I.display_name,various:"voidDraw"}):(Z.content_related_creator=[{user_id:I.user_id,timestamp:(new Date).getTime(),display_name:I.display_name,various:"voidDraw"}],Z.content_creator={timestamp:(new Date).getTime(),display_name:R.CallbackNakama.users.self.display_name,various:"voidDraw"}),Z.typeheader="image",Z.path=`${U}${Z.filename}`,Z.thumbnail=R.sanitizer.bypassSecurityTrustUrl(x.data.img);let oe=yield R.indexed.saveBase64ToUserPath(x.data.img,Z.path),q=new Blob([oe],{type:Z.type});return Z.blob=new File([q],x.data.name),Z.size=Z.blob.size,x.data.loadingCtrl.dismiss(),Z})()}TextEditorNewFileName(){let x=new Date;return`texteditor_${x.getUTCFullYear()}-${("0"+(x.getMonth()+1)).slice(-2)}-${("0"+x.getDate()).slice(-2)}_${("0"+x.getHours()).slice(-2)}-${("0"+x.getMinutes()).slice(-2)}-${("0"+x.getSeconds()).slice(-2)}.txt`}TextEditorAfterAct(x,U){let I={};return I.content_creator={user_id:U.user_id,timestamp:(new Date).getTime(),display_name:U.display_name,various:"textedit"},I.content_related_creator=[],I.content_related_creator.push(I.content_creator),I.blob=x.blob,I.path=x.path,I.size=x.blob.size,I.filename=x.blob.name||this.TextEditorNewFileName(),I.file_ext=I.filename.split(".").pop(),I.type="text/plain",I.typeheader="text",I.viewer="text",I}open_custom_site(x){try{let R,U=x.split("://"),F=U.pop().split(":");F.length>1&&F.pop();try{R="https"==U[0]||"wss"==U[0]}catch{R=this.checkProtocolFromAddress(F[0])}F[0]="//"+F[0],F.unshift(R?"https":"http"),("DesktopPWA"==o.aH||"MobilePWA"==o.aH)&&window.open(F.join(":")+":9001","_blank")}catch{}}open_link(x){x&&window.open(x,"_blank")}GetValueFromClipboard(){return(0,M.A)(function*(){const x=yield navigator.clipboard.read();let U={type:void 0,value:void 0};try{for(let I of x)for(let F of I.types){let R=yield I.getType(F);if("image/png"==F){U.type=F;let Z=new File([R],"image.png");U.value=Z;break}if("text/plain"==F){U.type=F,U.value=yield R.text();break}}return U}catch(I){throw console.error("\ud074\ub9bd\ubcf4\ub4dc\uc5d0\uc11c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",I),U.type="error",U.value=I,U}})()}WriteValueToClipboard(x,U,I){var F=this;return(0,M.A)(function*(){try{let R={},Z=U;"text/plain"==x&&(Z=new Blob([U],{type:x})),R[x]=Z,yield navigator.clipboard.write([new ClipboardItem(R)]),"DesktopPWA"==o.aH&&F.p5toast.show({text:`${F.lang.text.GlobalAct.PCClipboard}: ${I||U}`})}catch(R){throw console.log("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ud558\uae30 \uc624\ub958: ",R),F.p5toast.show({text:`${F.lang.text.GlobalAct.ClipboardFailed}: ${R}`}),R}})()}HTMLEncode(x){let U=(x=[...x]).length,I=[];for(;U--;){let F=x[U].codePointAt(0);I[U]=F<65||F>127||F>90&&F<97?"&#"+F+";":x[U]}return I.join("")}StopAndSaveVoiceRecording(){var x=this;return(0,M.A)(function*(){try{let U=yield _.R.stopRecording(),I=x.Base64ToBlob(`${U.value.mimeType},${U.value.recordDataBase64}`);return I.name=`${x.lang.text.ChatRoom.VoiceRecord}.${U.value.mimeType.split("/").pop().split(";")[0]}`,I.type_override=U.value.mimeType,I}catch(U){throw x.p5toast.show({text:`${x.lang.text.AddPost.FailedToSaveVoice}:${U}`}),U}})()}InstantCallSend(x){this.InstantCallWSClient&&this.InstantCallWSClient.readyState==this.InstantCallWSClient.OPEN&&this.InstantCallWSClient.send(x)}ActLikeModal(x,U){this.RemoveAllModals(()=>{this.navCtrl.navigateForward(x,{animation:Et.V5,state:U})})}}return($=L).\u0275fac=function(x){return new(x||$)(i.KVO(l.W3),i.KVO(u.G),i.KVO(h.y),i.KVO(d.up),i.KVO(m.n),i.KVO(l.Xi),i.KVO(a.q9))},$.\u0275prov=i.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),L})()},755:(Dr,rr,we)=>{"use strict";we.d(rr,{n:()=>o});var M=we(467),T=we(3953),Qe=we(9900),Et=we(4234);let o=(()=>{var se;class V{constructor(b,p){this.p5toast=b,this.lang=p}initialize(b=(()=>{})){if(this.ionicDB)return void b();let p=indexedDB.open("/ionicfs",10),y=()=>{p.onsuccess=null,p.onupgradeneeded=null,p.onerror=null};p.onsuccess=E=>{E.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=l=>{this.ionicDB=l.target.result,b(),y()}},p.onupgradeneeded=E=>{E.target.result.createObjectStore("FILE_DATA")},p.onerror=E=>{indexedDB.open("/ionicfs",11).onsuccess=i=>{this.ionicDB=i.target.result,b(),y()}}}GetGodotIndexedDB(){var b=this;return(0,M.A)(function*(){if(!b.godotDB)return new Promise((p,y)=>{let E=indexedDB.open("/userfs",21),_=()=>{E.onsuccess=null,E.onerror=null};E.onsuccess=i=>{b.godotDB=E.result,_(),p(void 0)},E.onerror=i=>{console.error("IndexedDB initialized failed: ",i),_(),y(i)}})})()}createRecursiveDirectory(b,p=this.ionicDB){let y=b.lastIndexOf("/"),E=b.substring(0,y);E&&this.checkIfFileExist(E,_=>{let i=p.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${E}`),l=()=>{i.onsuccess=null,i.onerror=null};i.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),this.createRecursiveDirectory(E,p),l()},i.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a),l()}})}createDirectory(b){return new Promise((p,y)=>{this.checkIfFileExist(b,E=>{let _=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${b}`),i=()=>{_.onsuccess=null,_.onerror=null};_.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),i(),p(void 0)},_.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l),i(),y(l)}})})}saveTextFileToUserPath(b,p,y=(_=>{}),E=this.ionicDB){return this.createRecursiveDirectory(p,E),new Promise((_,i)=>{let l=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(b)},`/userfs/${p}`),a=()=>{l.onsuccess=null,l.onerror=null};l.onsuccess=u=>{"success"!=u.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),y(u),a(),_(u)},l.onerror=u=>{a(),i(u)}})}saveBase64ToUserPath(b,p,y=(_=>{}),E=this.ionicDB){return new Promise((_,i)=>{let l=atob(b.split(",")[1]),a=new ArrayBuffer(l.length),u=new Int8Array(a);for(let d=0,m=l.length;d<m;d++)u[d]=l.charCodeAt(d);this.createRecursiveDirectory(p,E);let h=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${p}`);h.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),h.onsuccess=null,h.onerror=null,y(u),_(u)},h.onerror=d=>{h.onsuccess=null,h.onerror=null,i(d)}})}saveInt8ArrayToUserPath(b,p,y=this.ionicDB){return new Promise((E,_)=>{this.createRecursiveDirectory(p,y);let i=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:b},`/userfs/${p}`);i.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),i.onsuccess=null,i.onerror=null,E()},i.onerror=l=>{i.onsuccess=null,i.onerror=null,_(l)}})}saveBlobToUserPath(b,p,y=(_=>{}),E=this.ionicDB){var _=this;return new Promise(function(){var i=(0,M.A)(function*(l,a){let u;try{let d=yield b.arrayBuffer();u=new Int8Array(d)}catch(d){a(d)}_.createRecursiveDirectory(p,E);let h=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${p}`);h.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),h.onsuccess=null,h.onerror=null,y(u),l(u)},h.onerror=d=>{h.onsuccess=null,h.onerror=null,a(d)}});return function(l,a){return i.apply(this,arguments)}}())}saveFileToUserPath(b,p,y=(_=>{}),E=this.ionicDB){return this.createRecursiveDirectory(p,E),new Promise((_,i)=>{let l=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(b,`/userfs/${p}`);l.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",p),l.onsuccess=null,l.onerror=null,y(a),_(a)},l.onerror=a=>{l.onsuccess=null,l.onerror=null,i(a)}})}checkIfFileExist(b,p=(E=>{}),y=this.ionicDB){return new Promise((E,_)=>{let i=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${b}`);i.onsuccess=l=>{let a=l.target.result;i.onsuccess=null,i.onerror=null,p(a),E(a)},i.onerror=l=>{i.onsuccess=null,i.onerror=null,_(l)}})}GetFileListFromDB(b,p=(E=>{}),y=this.ionicDB){let E=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((_,i)=>{E.onsuccess=l=>{const a=l.target.result;for(let u=a.length-1;u>=0;u--)a[u].includes(b)?a[u]=a[u].substring(8):a.splice(u,1);E.onsuccess=null,E.onerror=null,p(a),_(a)},E.onerror=l=>{E.onsuccess=null,E.onerror=null,i(l)}})}GetFileInfoFromDB(b,p=(E=>{}),y=this.ionicDB){let E=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((_,i)=>{E.onsuccess=l=>{const a=l.target.result;E.onsuccess=null,E.onerror=null,p(a),_(a)},E.onerror=l=>{E.onsuccess=null,E.onerror=null,i(l)}})}loadTextFromUserPath(b,p=((E,_)=>{}),y=this.ionicDB){return new Promise(E=>{let _=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);_.onsuccess=i=>{if(i.target.result){let l=(new TextDecoder).decode(i.target.result.contents);_.onsuccess=null,_.onerror=null,p(!0,l),E(l)}else _.onsuccess=null,_.onerror=null,p(!1,`No file: , ${b}`),E(void 0)},_.onerror=i=>{console.error("IndexedDB loadTextFromUserPath failed: ",i),_.onsuccess=null,_.onerror=null,E(void 0)}})}loadBlobFromUserPath(b,p,y=(_=>{}),E=this.ionicDB){let _=E.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((i,l)=>{_.onsuccess=a=>{try{let u=new Blob([a.target.result.contents],{type:p});_.onsuccess=null,_.onerror=null,y(u),i(u)}catch(u){_.onsuccess=null,_.onerror=null,l(u)}},_.onerror=a=>{_.onsuccess=null,_.onerror=null,l(a)}})}DownloadFileFromUserPath(b,p,y,E=this.ionicDB){let _=E.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);_.onsuccess=i=>{try{let l=new Blob([i.target.result.contents],{type:p}),a=URL.createObjectURL(l),u=document.createElement("a");u.download=y,u.href=a,document.body.appendChild(u),u.click(),document.body.removeChild(u),u.remove(),URL.revokeObjectURL(a)}catch(l){console.error("DownloadFileFromUserPath: ",l),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${l}`})}_.onsuccess=null,_.onerror=null},_.onerror=i=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",i),_.onsuccess=null,_.onerror=null}}removeFileFromUserPath(b,p=(E=>{}),y=this.ionicDB){let E=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${b}`);return new Promise((_,i)=>{E.onsuccess=l=>{E.onsuccess=null,E.onerror=null,p(l),_(l)},E.onerror=l=>{E.onsuccess=null,E.onerror=null,i(l)}})}}return(se=V).\u0275fac=function(b){return new(b||se)(T.KVO(Qe.G),T.KVO(Et.y))},se.\u0275prov=T.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),V})()},4234:(Dr,rr,we)=>{"use strict";we.d(rr,{y:()=>o});var M=we(467),T=we(8326),Et=we(3953);let o=(()=>{var se;class V{constructor(){this.text={Front:{},Portal:{},Main:{},Arcade:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{},MinimalChat:{},voidDraw:{},PostViewer:{},TodoDetail:{},InstantCall:{},ContentViewer:{}},this.setable=[],this.lang=navigator.language.split("-")[0];let b=localStorage.getItem("lang");b&&(this.lang=b)}load_selected_lang(b="assets/data/translate.csv"){var p=this;return(0,M.A)(function*(){return yield new Promise((y,E)=>{new T(_=>{_.setup=()=>{_.noCanvas(),_.loadTable(b,"csv","header",i=>{try{let a,l=Object.keys(i.rows[0].obj);p.setable.length=0;for(let u of l)"#"!=u&&p.setable.push({value:u,display_name:i.rows[0].obj[u]});i.columns.includes(p.lang)||(p.lang=p.setable[0].value),localStorage.setItem("lang",p.lang);for(let u=0,h=i.rows.length;u<h;u++)"#"==i.rows[u].obj["#"].charAt(0)?(a=i.rows[u].obj["#"].substring(3),p.text[a]||(p.text[a]={})):a&&(p.text[a][i.rows[u].obj["#"]]=i.rows[u].obj[p.lang]);p.Callback_nakama&&p.Callback_nakama(),b&&URL.revokeObjectURL(b),_.remove(),y(void 0)}catch(l){console.log("\uc0ac\uc6a9\uc790 \uc5b8\uc5b4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",l),b&&URL.revokeObjectURL(b),_.remove(),p.load_selected_lang(),y(void 0)}},i=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",i),b&&URL.revokeObjectURL(b),_.remove(),E(i)})}})})})()}}return(se=V).\u0275fac=function(b){return new(b||se)},se.\u0275prov=Et.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),V})()},5547:(Dr,rr,we)=>{"use strict";we.d(rr,{r:()=>o});var M=we(467),T=we(3953),Qe=we(755),Et=we(4234);let o=(()=>{var se;class V{constructor(b,p){this.indexed=b,this.lang=p,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={}}change_silent_settings(b){this.settings.silent[b]=!this.settings.silent[b],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(b,p)=>{b&&p&&(this.settings=JSON.parse(p)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){var b=this;return(0,M.A)(function*(){b.ClearNoti(11),"serviceWorker"in navigator?(b.MobileSWReg=window.swReg,navigator.serviceWorker.addEventListener("message",p=>{if(p.data.reply){if("12"===p.data.data){let y={msg:p.data.reply};if(!y.msg.trim())return;y.name=b.Sq_client.MyUserName,b.Sq_client.send(JSON.stringify(y))}}else window.swRegListenerCallback[p.data.data]&&window.swRegListenerCallback[p.data.data](),delete window.swRegListenerCallback[p.data.data]})):console.log("Service Worker is not supported in this browser.")})()}PushLocal(b,p,y=(()=>{})){var E=this;return(0,M.A)(function*(){if(document.hasFocus()&&E.Current==p||!E.settings.silent[b.smallIcon_ln||p||"icon_mono"])return;const _={badge:b.icon||`assets/badge/${b.smallIcon_ln||p||"favicon"}.png`,body:b.body,icon:b.icon||`assets/icon/${b.smallIcon_ln||p||"favicon"}.png`,image:b.image,silent:!E.settings.silent[b.smallIcon_ln]||!1,tag:`${b.id}`,actions:b.actions_wm,data:b.data_wm,requireInteraction:!!b.actions_wm};try{if(E.WebNoties[b.id]){try{E.WebNoties[b.id].close()}catch{}delete E.WebNoties[b.id]}yield E.MobileSWReg.showNotification(b.title,{..._});let i=yield E.MobileSWReg.getNotifications();for(let l=0,a=i.length;l<a;l++)if(i[l].tag==`${b.id}`){E.WebNoties[b.id]=i[l];break}window.swRegListenerCallback[b.id]=()=>{y(),window.focus(),E.WebNoties[b.id].close()}}catch{}})()}ClearNoti(b){this.WebNoties[b]&&this.WebNoties[b].close()}}return(se=V).\u0275fac=function(b){return new(b||se)(T.KVO(Qe.n),T.KVO(Et.y))},se.\u0275prov=T.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),V})()},4237:(Dr,rr,we)=>{"use strict";we.d(rr,{I:()=>vr,X:()=>Mr});var E,_,M=we(467),T=Object.defineProperty,Qe=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,se=(z,pe,Ie)=>pe in z?T(z,pe,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):z[pe]=Ie,V=(z,pe)=>{for(var Ie in pe||(pe={}))Et.call(pe,Ie)&&se(z,Ie,pe[Ie]);if(Qe)for(var Ie of Qe(pe))o.call(pe,Ie)&&se(z,Ie,pe[Ie]);return z},v=(z,pe,Ie)=>new Promise((C,O)=>{var B=H=>{try{Q(Ie.next(H))}catch(ie){O(ie)}},A=H=>{try{Q(Ie.throw(H))}catch(ie){O(ie)}},Q=H=>H.done?C(H.value):Promise.resolve(H.value).then(B,A);Q((Ie=Ie.apply(z,pe)).next())}),b=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof b<"u"&&b,p_searchParams="URLSearchParams"in b,p_iterable="Symbol"in b&&"iterator"in Symbol,p_blob="FileReader"in b&&"Blob"in b&&function(){try{return new Blob,!0}catch{return!1}}(),p_formData="FormData"in b,p_arrayBuffer="ArrayBuffer"in b;function i(z){if("string"!=typeof z&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(z)||""===z)throw new TypeError('Invalid character in header field name: "'+z+'"');return z.toLowerCase()}function l(z){return"string"!=typeof z&&(z=String(z)),z}function a(z){var pe={next:function(){var Ie=z.shift();return{done:void 0===Ie,value:Ie}}};return p_iterable&&(pe[Symbol.iterator]=function(){return pe}),pe}function u(z){this.map={},z instanceof u?z.forEach(function(pe,Ie){this.append(Ie,pe)},this):Array.isArray(z)?z.forEach(function(pe){this.append(pe[0],pe[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(pe){this.append(pe,z[pe])},this)}function h(z){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}function d(z){return new Promise(function(pe,Ie){z.onload=function(){pe(z.result)},z.onerror=function(){Ie(z.error)}})}function m(z){var pe=new FileReader,Ie=d(pe);return pe.readAsArrayBuffer(z),Ie}function D(z){if(z.slice)return z.slice(0);var pe=new Uint8Array(z.byteLength);return pe.set(new Uint8Array(z)),pe.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(z){this.bodyUsed=this.bodyUsed,this._bodyInit=z,z?"string"==typeof z?this._bodyText=z:p_blob&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:p_formData&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:p_searchParams&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():p_arrayBuffer&&p_blob&&function y(z){return z&&DataView.prototype.isPrototypeOf(z)}(z)?(this._bodyArrayBuffer=D(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(z)||_(z))?this._bodyArrayBuffer=D(z):this._bodyText=z=Object.prototype.toString.call(z):this._bodyText="",this.headers.get("content-type")||("string"==typeof z?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p_searchParams&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p_blob&&(this.blob=function(){var z=h(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(m)}),this.text=function(){var z=h(this);if(z)return z;if(this._bodyBlob)return function f(z){var pe=new FileReader,Ie=d(pe);return pe.readAsText(z),Ie}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function g(z){for(var pe=new Uint8Array(z),Ie=new Array(pe.length),C=0;C<pe.length;C++)Ie[C]=String.fromCharCode(pe[C]);return Ie.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p_formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}p_arrayBuffer&&(E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(z){return z&&E.indexOf(Object.prototype.toString.call(z))>-1}),u.prototype.append=function(z,pe){z=i(z),pe=l(pe);var Ie=this.map[z];this.map[z]=Ie?Ie+", "+pe:pe},u.prototype.delete=function(z){delete this.map[i(z)]},u.prototype.get=function(z){return z=i(z),this.has(z)?this.map[z]:null},u.prototype.has=function(z){return this.map.hasOwnProperty(i(z))},u.prototype.set=function(z,pe){this.map[i(z)]=l(pe)},u.prototype.forEach=function(z,pe){for(var Ie in this.map)this.map.hasOwnProperty(Ie)&&z.call(pe,this.map[Ie],Ie,this)},u.prototype.keys=function(){var z=[];return this.forEach(function(pe,Ie){z.push(Ie)}),a(z)},u.prototype.values=function(){var z=[];return this.forEach(function(pe){z.push(pe)}),a(z)},u.prototype.entries=function(){var z=[];return this.forEach(function(pe,Ie){z.push([Ie,pe])}),a(z)},p_iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var L=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(z,pe){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Ie=(pe=pe||{}).body;if(z instanceof x){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,pe.headers||(this.headers=new u(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,!Ie&&null!=z._bodyInit&&(Ie=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=pe.credentials||this.credentials||"same-origin",(pe.headers||!this.headers)&&(this.headers=new u(pe.headers)),this.method=function P(z){var pe=z.toUpperCase();return L.indexOf(pe)>-1?pe:z}(pe.method||this.method||"GET"),this.mode=pe.mode||this.mode||null,this.signal=pe.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Ie)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Ie),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==pe.cache&&"no-cache"!==pe.cache)){var C=/([?&])_=[^&]*/;C.test(this.url)?this.url=this.url.replace(C,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function U(z){var pe=new FormData;return z.trim().split("&").forEach(function(Ie){if(Ie){var C=Ie.split("="),O=C.shift().replace(/\+/g," "),B=C.join("=").replace(/\+/g," ");pe.append(decodeURIComponent(O),decodeURIComponent(B))}}),pe}function I(z){var pe=new u;return z.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(C){return 0===C.indexOf("\n")?C.substr(1,C.length):C}).forEach(function(C){var O=C.split(":"),B=O.shift().trim();if(B){var A=O.join(":").trim();pe.append(B,A)}}),pe}function F(z,pe){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');pe||(pe={}),this.type="default",this.status=void 0===pe.status?200:pe.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===pe.statusText?"":""+pe.statusText,this.headers=new u(pe.headers),this.url=pe.url||"",this._initBody(z)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},$.call(x.prototype),$.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},F.error=function(){var z=new F(null,{status:0,statusText:""});return z.type="error",z};var R=[301,302,303,307,308];F.redirect=function(z,pe){if(-1===R.indexOf(pe))throw new RangeError("Invalid status code");return new F(null,{status:pe,headers:{location:z}})};var Z=b.DOMException;try{new Z}catch{(Z=function(pe,Ie){this.message=pe,this.name=Ie;var C=Error(pe);this.stack=C.stack}).prototype=Object.create(Error.prototype),Z.prototype.constructor=Z}function oe(z,pe){return new Promise(function(Ie,C){var O=new x(z,pe);if(O.signal&&O.signal.aborted)return C(new Z("Aborted","AbortError"));var B=new XMLHttpRequest;function A(){B.abort()}B.onload=function(){var H={status:B.status,statusText:B.statusText,headers:I(B.getAllResponseHeaders()||"")};H.url="responseURL"in B?B.responseURL:H.headers.get("X-Request-URL");var ie="response"in B?B.response:B.responseText;setTimeout(function(){Ie(new F(ie,H))},0)},B.onerror=function(){setTimeout(function(){C(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){C(new TypeError("Network request failed"))},0)},B.onabort=function(){setTimeout(function(){C(new Z("Aborted","AbortError"))},0)},B.open(O.method,function Q(H){try{return""===H&&b.location.href?b.location.href:H}catch{return H}}(O.url),!0),"include"===O.credentials?B.withCredentials=!0:"omit"===O.credentials&&(B.withCredentials=!1),"responseType"in B&&(p_blob?B.responseType="blob":p_arrayBuffer&&O.headers.get("Content-Type")&&-1!==O.headers.get("Content-Type").indexOf("application/octet-stream")&&(B.responseType="arraybuffer")),!pe||"object"!=typeof pe.headers||pe.headers instanceof u?O.headers.forEach(function(H,ie){B.setRequestHeader(ie,H)}):Object.getOwnPropertyNames(pe.headers).forEach(function(H){B.setRequestHeader(H,l(pe.headers[H]))}),O.signal&&(O.signal.addEventListener("abort",A),B.onreadystatechange=function(){4===B.readyState&&O.signal.removeEventListener("abort",A)}),B.send(typeof O._bodyInit>"u"?null:O._bodyInit)})}oe.polyfill=!0,b.fetch||(b.fetch=oe,b.Headers=u,b.Request=x,b.Response=F);var q="function"==typeof atob,re="function"==typeof btoa,W="function"==typeof Buffer,G="function"==typeof TextDecoder?new TextDecoder:void 0,K="function"==typeof TextEncoder?new TextEncoder:void 0,Me=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Y=(z=>{let pe={};return z.forEach((Ie,C)=>pe[Ie]=C),pe})(Me),j=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,te=String.fromCharCode.bind(String),me="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):z=>new Uint8Array(Array.prototype.slice.call(z,0)),Be=z=>z.replace(/[^A-Za-z0-9\+\/]/g,""),ct=re?z=>btoa(z):W?z=>Buffer.from(z,"binary").toString("base64"):z=>{let pe,Ie,C,O,B="";const A=z.length%3;for(let Q=0;Q<z.length;){if((Ie=z.charCodeAt(Q++))>255||(C=z.charCodeAt(Q++))>255||(O=z.charCodeAt(Q++))>255)throw new TypeError("invalid character found");pe=Ie<<16|C<<8|O,B+=Me[pe>>18&63]+Me[pe>>12&63]+Me[pe>>6&63]+Me[63&pe]}return A?B.slice(0,A-3)+"===".substring(A):B},ze=W?z=>Buffer.from(z).toString("base64"):z=>{let Ie=[];for(let C=0,O=z.length;C<O;C+=4096)Ie.push(te.apply(null,z.subarray(C,C+4096)));return ct(Ie.join(""))},st=z=>{if(z.length<2)return(pe=z.charCodeAt(0))<128?z:pe<2048?te(192|pe>>>6)+te(128|63&pe):te(224|pe>>>12&15)+te(128|pe>>>6&63)+te(128|63&pe);var pe=65536+1024*(z.charCodeAt(0)-55296)+(z.charCodeAt(1)-56320);return te(240|pe>>>18&7)+te(128|pe>>>12&63)+te(128|pe>>>6&63)+te(128|63&pe)},lt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,rt=W?z=>Buffer.from(z,"utf8").toString("base64"):K?z=>ze(K.encode(z)):z=>ct((z=>z.replace(lt,st))(z)),Ye=(z,pe=!1)=>pe?(z=>z.replace(/=/g,"").replace(/[+\/]/g,pe=>"+"==pe?"-":"_"))(rt(z)):rt(z),ot=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Je=z=>{switch(z.length){case 4:var Ie=((7&z.charCodeAt(0))<<18|(63&z.charCodeAt(1))<<12|(63&z.charCodeAt(2))<<6|63&z.charCodeAt(3))-65536;return te(55296+(Ie>>>10))+te(56320+(1023&Ie));case 3:return te((15&z.charCodeAt(0))<<12|(63&z.charCodeAt(1))<<6|63&z.charCodeAt(2));default:return te((31&z.charCodeAt(0))<<6|63&z.charCodeAt(1))}},Wt=q?z=>atob(Be(z)):W?z=>Buffer.from(z,"base64").toString("binary"):z=>{if(z=z.replace(/\s+/g,""),!j.test(z))throw new TypeError("malformed base64.");z+="==".slice(2-(3&z.length));let pe,C,O,Ie="";for(let B=0;B<z.length;)pe=Y[z.charAt(B++)]<<18|Y[z.charAt(B++)]<<12|(C=Y[z.charAt(B++)])<<6|(O=Y[z.charAt(B++)]),Ie+=64===C?te(pe>>16&255):64===O?te(pe>>16&255,pe>>8&255):te(pe>>16&255,pe>>8&255,255&pe);return Ie},$t=W?z=>me(Buffer.from(z,"base64")):z=>me(Wt(z).split("").map(pe=>pe.charCodeAt(0))),cr=W?z=>Buffer.from(z,"base64").toString("utf8"):G?z=>G.decode($t(z)):z=>(z=>z.replace(ot,Je))(Wt(z)),mr=z=>cr((z=>Be(z.replace(/[-_]/g,pe=>"-"==pe?"+":"/")))(z));function Kt(z,pe,Ie){const C=V(V({},{method:z}),pe);if(C.headers=V({},pe.headers),typeof XMLHttpRequest<"u"){const O=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=O&&O.set||(C.credentials="cocos-ignore")}return Object.keys(C.headers).includes("Accept")||(C.headers.Accept="application/json"),Object.keys(C.headers).includes("Content-Type")||(C.headers["Content-Type"]="application/json"),Object.keys(C.headers).forEach(O=>{C.headers[O]||delete C.headers[O]}),Ie&&(C.body=Ie),C}var hr=class{constructor(z,pe,Ie){this.serverKey=z,this.basePath=pe,this.timeoutMs=Ie}healthcheck(z,pe={}){const B=this.buildFullUrl(this.basePath,"/healthcheck",new Map),A=Kt("GET",pe,"");return z&&(A.headers.Authorization="Bearer "+z),Promise.race([fetch(B,A).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,H)=>setTimeout(H,this.timeoutMs,"Request timed out."))])}deleteAccount(z,pe={}){const B=this.buildFullUrl(this.basePath,"/v2/account",new Map),A=Kt("DELETE",pe,"");return z&&(A.headers.Authorization="Bearer "+z),Promise.race([fetch(B,A).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,H)=>setTimeout(H,this.timeoutMs,"Request timed out."))])}getAccount(z,pe={}){const B=this.buildFullUrl(this.basePath,"/v2/account",new Map),A=Kt("GET",pe,"");return z&&(A.headers.Authorization="Bearer "+z),Promise.race([fetch(B,A).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,H)=>setTimeout(H,this.timeoutMs,"Request timed out."))])}updateAccount(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account",O),Q=Kt("PUT",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}authenticateApple(z,pe,Ie,C,O,B={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",C),Q.set("username",O);let H="";H=JSON.stringify(Ie||{});const ie=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",Q),je=Kt("POST",B,H);return z&&(je.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}authenticateCustom(z,pe,Ie,C,O,B={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",C),Q.set("username",O);let H="";H=JSON.stringify(Ie||{});const ie=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",Q),je=Kt("POST",B,H);return z&&(je.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}authenticateDevice(z,pe,Ie,C,O,B={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",C),Q.set("username",O);let H="";H=JSON.stringify(Ie||{});const ie=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",Q),je=Kt("POST",B,H);return z&&(je.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}authenticateEmail(z,pe,Ie,C,O,B={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",C),Q.set("username",O);let H="";H=JSON.stringify(Ie||{});const ie=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",Q),je=Kt("POST",B,H);return z&&(je.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}authenticateFacebook(z,pe,Ie,C,O,B,A={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const H=new Map;H.set("create",C),H.set("username",O),H.set("sync",B);let ie="";ie=JSON.stringify(Ie||{});const je=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",H),Ae=Kt("POST",A,ie);return z&&(Ae.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(je,Ae).then(it=>{if(204==it.status)return it;if(it.status>=200&&it.status<300)return it.json();throw it}),new Promise((it,xt)=>setTimeout(xt,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(z,pe,Ie,C,O,B={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",C),Q.set("username",O);let H="";H=JSON.stringify(Ie||{});const ie=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",Q),je=Kt("POST",B,H);return z&&(je.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(z,pe,Ie,C,O,B={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",C),Q.set("username",O);let H="";H=JSON.stringify(Ie||{});const ie=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",Q),je=Kt("POST",B,H);return z&&(je.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}authenticateGoogle(z,pe,Ie,C,O,B={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",C),Q.set("username",O);let H="";H=JSON.stringify(Ie||{});const ie=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",Q),je=Kt("POST",B,H);return z&&(je.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}authenticateSteam(z,pe,Ie,C,O,B,A={}){if(null==Ie)throw new Error("'account' is a required parameter but is null or undefined.");const H=new Map;H.set("create",C),H.set("username",O),H.set("sync",B);let ie="";ie=JSON.stringify(Ie||{});const je=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",H),Ae=Kt("POST",A,ie);return z&&(Ae.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(je,Ae).then(it=>{if(204==it.status)return it;if(it.status>=200&&it.status<300)return it.json();throw it}),new Promise((it,xt)=>setTimeout(xt,this.timeoutMs,"Request timed out."))])}linkApple(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/link/apple",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}linkCustom(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/link/custom",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}linkDevice(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/link/device",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}linkEmail(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/link/email",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}linkFacebook(z,pe,Ie,C={}){if(null==pe)throw new Error("'account' is a required parameter but is null or undefined.");const B=new Map;B.set("sync",Ie);let A="";A=JSON.stringify(pe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",B),H=Kt("POST",C,A);return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}linkGameCenter(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}linkGoogle(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/link/google",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}linkSteam(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/link/steam",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}sessionRefresh(z,pe,Ie,C={}){if(null==Ie)throw new Error("'body' is a required parameter but is null or undefined.");const B=new Map;let A="";A=JSON.stringify(Ie||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",B),H=Kt("POST",C,A);return z&&(H.headers.Authorization="Basic "+Ye(z+":"+pe)),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}unlinkApple(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}unlinkCustom(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}unlinkDevice(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}unlinkEmail(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}unlinkFacebook(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}unlinkGoogle(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}unlinkSteam(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}listChannelMessages(z,pe,Ie,C,O,B={}){if(null==pe)throw new Error("'channelId' is a required parameter but is null or undefined.");const A="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(pe))),Q=new Map;Q.set("limit",Ie),Q.set("forward",C),Q.set("cursor",O);const ie=this.buildFullUrl(this.basePath,A,Q),je=Kt("GET",B,"");return z&&(je.headers.Authorization="Bearer "+z),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}event(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/event",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}deleteFriends(z,pe,Ie,C={}){const B=new Map;B.set("ids",pe),B.set("usernames",Ie);const Q=this.buildFullUrl(this.basePath,"/v2/friend",B),H=Kt("DELETE",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}listFriends(z,pe,Ie,C,O={}){const A=new Map;A.set("limit",pe),A.set("state",Ie),A.set("cursor",C);const H=this.buildFullUrl(this.basePath,"/v2/friend",A),ie=Kt("GET",O,"");return z&&(ie.headers.Authorization="Bearer "+z),Promise.race([fetch(H,ie).then(je=>{if(204==je.status)return je;if(je.status>=200&&je.status<300)return je.json();throw je}),new Promise((je,Ae)=>setTimeout(Ae,this.timeoutMs,"Request timed out."))])}addFriends(z,pe,Ie,C={}){const B=new Map;B.set("ids",pe),B.set("usernames",Ie);const Q=this.buildFullUrl(this.basePath,"/v2/friend",B),H=Kt("POST",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}blockFriends(z,pe,Ie,C={}){const B=new Map;B.set("ids",pe),B.set("usernames",Ie);const Q=this.buildFullUrl(this.basePath,"/v2/friend/block",B),H=Kt("POST",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}importFacebookFriends(z,pe,Ie,C={}){if(null==pe)throw new Error("'account' is a required parameter but is null or undefined.");const B=new Map;B.set("reset",Ie);let A="";A=JSON.stringify(pe||{});const Q=this.buildFullUrl(this.basePath,"/v2/friend/facebook",B),H=Kt("POST",C,A);return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}listFriendsOfFriends(z,pe,Ie,C={}){const B=new Map;B.set("limit",pe),B.set("cursor",Ie);const Q=this.buildFullUrl(this.basePath,"/v2/friend/friends",B),H=Kt("GET",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}importSteamFriends(z,pe,Ie,C={}){if(null==pe)throw new Error("'account' is a required parameter but is null or undefined.");const B=new Map;B.set("reset",Ie);let A="";A=JSON.stringify(pe||{});const Q=this.buildFullUrl(this.basePath,"/v2/friend/steam",B),H=Kt("POST",C,A);return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}listGroups(z,pe,Ie,C,O,B,A,Q={}){const ie=new Map;ie.set("name",pe),ie.set("cursor",Ie),ie.set("limit",C),ie.set("lang_tag",O),ie.set("members",B),ie.set("open",A);const Ae=this.buildFullUrl(this.basePath,"/v2/group",ie),it=Kt("GET",Q,"");return z&&(it.headers.Authorization="Bearer "+z),Promise.race([fetch(Ae,it).then(xt=>{if(204==xt.status)return xt;if(xt.status>=200&&xt.status<300)return xt.json();throw xt}),new Promise((xt,fr)=>setTimeout(fr,this.timeoutMs,"Request timed out."))])}createGroup(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/group",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}deleteGroup(z,pe,Ie={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const C="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(pe))),A=this.buildFullUrl(this.basePath,C,new Map),Q=Kt("DELETE",Ie,"");return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}updateGroup(z,pe,Ie,C={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'body' is a required parameter but is null or undefined.");const O="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(pe))),B=new Map;let A="";A=JSON.stringify(Ie||{});const Q=this.buildFullUrl(this.basePath,O,B),H=Kt("PUT",C,A);return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}addGroupUsers(z,pe,Ie,C={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const O="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(pe))),B=new Map;B.set("user_ids",Ie);const Q=this.buildFullUrl(this.basePath,O,B),H=Kt("POST",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}banGroupUsers(z,pe,Ie,C={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const O="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(pe))),B=new Map;B.set("user_ids",Ie);const Q=this.buildFullUrl(this.basePath,O,B),H=Kt("POST",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(z,pe,Ie,C={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const O="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(pe))),B=new Map;B.set("user_ids",Ie);const Q=this.buildFullUrl(this.basePath,O,B),H=Kt("POST",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}joinGroup(z,pe,Ie={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const C="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(pe))),A=this.buildFullUrl(this.basePath,C,new Map),Q=Kt("POST",Ie,"");return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}kickGroupUsers(z,pe,Ie,C={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const O="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(pe))),B=new Map;B.set("user_ids",Ie);const Q=this.buildFullUrl(this.basePath,O,B),H=Kt("POST",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}leaveGroup(z,pe,Ie={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const C="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(pe))),A=this.buildFullUrl(this.basePath,C,new Map),Q=Kt("POST",Ie,"");return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(z,pe,Ie,C={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const O="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(pe))),B=new Map;B.set("user_ids",Ie);const Q=this.buildFullUrl(this.basePath,O,B),H=Kt("POST",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}listGroupUsers(z,pe,Ie,C,O,B={}){if(null==pe)throw new Error("'groupId' is a required parameter but is null or undefined.");const A="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(pe))),Q=new Map;Q.set("limit",Ie),Q.set("state",C),Q.set("cursor",O);const ie=this.buildFullUrl(this.basePath,A,Q),je=Kt("GET",B,"");return z&&(je.headers.Authorization="Bearer "+z),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}validatePurchaseFacebookInstant(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/iap/purchase/facebookinstant",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}listSubscriptions(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/iap/subscription",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}validateSubscriptionApple(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/iap/subscription/apple",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}validateSubscriptionGoogle(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/iap/subscription/google",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}getSubscription(z,pe,Ie={}){if(null==pe)throw new Error("'productId' is a required parameter but is null or undefined.");const C="/v2/iap/subscription/{productId}".replace("{productId}",encodeURIComponent(String(pe))),A=this.buildFullUrl(this.basePath,C,new Map),Q=Kt("GET",Ie,"");return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(z,pe,Ie={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const C="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(pe))),A=this.buildFullUrl(this.basePath,C,new Map),Q=Kt("DELETE",Ie,"");return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(z,pe,Ie,C,O,B,A={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const Q="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(pe))),H=new Map;H.set("owner_ids",Ie),H.set("limit",C),H.set("cursor",O),H.set("expiry",B);const je=this.buildFullUrl(this.basePath,Q,H),Ae=Kt("GET",A,"");return z&&(Ae.headers.Authorization="Bearer "+z),Promise.race([fetch(je,Ae).then(it=>{if(204==it.status)return it;if(it.status>=200&&it.status<300)return it.json();throw it}),new Promise((it,xt)=>setTimeout(xt,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(z,pe,Ie,C={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'record' is a required parameter but is null or undefined.");const O="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(pe))),B=new Map;let A="";A=JSON.stringify(Ie||{});const Q=this.buildFullUrl(this.basePath,O,B),H=Kt("POST",C,A);return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(z,pe,Ie,C,O,B,A={}){if(null==pe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'ownerId' is a required parameter but is null or undefined.");const Q="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(pe))).replace("{ownerId}",encodeURIComponent(String(Ie))),H=new Map;H.set("limit",C),H.set("expiry",O),H.set("cursor",B);const je=this.buildFullUrl(this.basePath,Q,H),Ae=Kt("GET",A,"");return z&&(Ae.headers.Authorization="Bearer "+z),Promise.race([fetch(je,Ae).then(it=>{if(204==it.status)return it;if(it.status>=200&&it.status<300)return it.json();throw it}),new Promise((it,xt)=>setTimeout(xt,this.timeoutMs,"Request timed out."))])}listMatches(z,pe,Ie,C,O,B,A,Q={}){const ie=new Map;ie.set("limit",pe),ie.set("authoritative",Ie),ie.set("label",C),ie.set("min_size",O),ie.set("max_size",B),ie.set("query",A);const Ae=this.buildFullUrl(this.basePath,"/v2/match",ie),it=Kt("GET",Q,"");return z&&(it.headers.Authorization="Bearer "+z),Promise.race([fetch(Ae,it).then(xt=>{if(204==xt.status)return xt;if(xt.status>=200&&xt.status<300)return xt.json();throw xt}),new Promise((xt,fr)=>setTimeout(fr,this.timeoutMs,"Request timed out."))])}deleteNotifications(z,pe,Ie={}){const O=new Map;O.set("ids",pe);const A=this.buildFullUrl(this.basePath,"/v2/notification",O),Q=Kt("DELETE",Ie,"");return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}listNotifications(z,pe,Ie,C={}){const B=new Map;B.set("limit",pe),B.set("cacheable_cursor",Ie);const Q=this.buildFullUrl(this.basePath,"/v2/notification",B),H=Kt("GET",C,"");return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}rpcFunc2(z,pe,Ie,C,O={}){if(null==pe)throw new Error("'id' is a required parameter but is null or undefined.");const B="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(pe))),A=new Map;A.set("payload",Ie),A.set("http_key",C);const H=this.buildFullUrl(this.basePath,B,A),ie=Kt("GET",O,"");return z&&(ie.headers.Authorization="Bearer "+z),Promise.race([fetch(H,ie).then(je=>{if(204==je.status)return je;if(je.status>=200&&je.status<300)return je.json();throw je}),new Promise((je,Ae)=>setTimeout(Ae,this.timeoutMs,"Request timed out."))])}rpcFunc(z,pe,Ie,C,O={}){if(null==pe)throw new Error("'id' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'body' is a required parameter but is null or undefined.");const B="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(pe))),A=new Map;A.set("http_key",C);let Q="";Q=JSON.stringify(Ie||{});const H=this.buildFullUrl(this.basePath,B,A),ie=Kt("POST",O,Q);return z&&(ie.headers.Authorization="Bearer "+z),Promise.race([fetch(H,ie).then(je=>{if(204==je.status)return je;if(je.status>=200&&je.status<300)return je.json();throw je}),new Promise((je,Ae)=>setTimeout(Ae,this.timeoutMs,"Request timed out."))])}sessionLogout(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/session/logout",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}readStorageObjects(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/storage",O),Q=Kt("POST",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}writeStorageObjects(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/storage",O),Q=Kt("PUT",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(z,pe,Ie={}){if(null==pe)throw new Error("'body' is a required parameter but is null or undefined.");const O=new Map;let B="";B=JSON.stringify(pe||{});const A=this.buildFullUrl(this.basePath,"/v2/storage/delete",O),Q=Kt("PUT",Ie,B);return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}listStorageObjects(z,pe,Ie,C,O,B={}){if(null==pe)throw new Error("'collection' is a required parameter but is null or undefined.");const A="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(pe))),Q=new Map;Q.set("user_id",Ie),Q.set("limit",C),Q.set("cursor",O);const ie=this.buildFullUrl(this.basePath,A,Q),je=Kt("GET",B,"");return z&&(je.headers.Authorization="Bearer "+z),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}listStorageObjects2(z,pe,Ie,C,O,B={}){if(null==pe)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'userId' is a required parameter but is null or undefined.");const A="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(pe))).replace("{userId}",encodeURIComponent(String(Ie))),Q=new Map;Q.set("limit",C),Q.set("cursor",O);const ie=this.buildFullUrl(this.basePath,A,Q),je=Kt("GET",B,"");return z&&(je.headers.Authorization="Bearer "+z),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}listTournaments(z,pe,Ie,C,O,B,A,Q={}){const ie=new Map;ie.set("category_start",pe),ie.set("category_end",Ie),ie.set("start_time",C),ie.set("end_time",O),ie.set("limit",B),ie.set("cursor",A);const Ae=this.buildFullUrl(this.basePath,"/v2/tournament",ie),it=Kt("GET",Q,"");return z&&(it.headers.Authorization="Bearer "+z),Promise.race([fetch(Ae,it).then(xt=>{if(204==xt.status)return xt;if(xt.status>=200&&xt.status<300)return xt.json();throw xt}),new Promise((xt,fr)=>setTimeout(fr,this.timeoutMs,"Request timed out."))])}deleteTournamentRecord(z,pe,Ie={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const C="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),A=this.buildFullUrl(this.basePath,C,new Map),Q=Kt("DELETE",Ie,"");return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}listTournamentRecords(z,pe,Ie,C,O,B,A={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const Q="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),H=new Map;H.set("owner_ids",Ie),H.set("limit",C),H.set("cursor",O),H.set("expiry",B);const je=this.buildFullUrl(this.basePath,Q,H),Ae=Kt("GET",A,"");return z&&(Ae.headers.Authorization="Bearer "+z),Promise.race([fetch(je,Ae).then(it=>{if(204==it.status)return it;if(it.status>=200&&it.status<300)return it.json();throw it}),new Promise((it,xt)=>setTimeout(xt,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(z,pe,Ie,C={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'record' is a required parameter but is null or undefined.");const O="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),B=new Map;let A="";A=JSON.stringify(Ie||{});const Q=this.buildFullUrl(this.basePath,O,B),H=Kt("POST",C,A);return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(z,pe,Ie,C={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'record' is a required parameter but is null or undefined.");const O="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(pe))),B=new Map;let A="";A=JSON.stringify(Ie||{});const Q=this.buildFullUrl(this.basePath,O,B),H=Kt("PUT",C,A);return z&&(H.headers.Authorization="Bearer "+z),Promise.race([fetch(Q,H).then(ie=>{if(204==ie.status)return ie;if(ie.status>=200&&ie.status<300)return ie.json();throw ie}),new Promise((ie,je)=>setTimeout(je,this.timeoutMs,"Request timed out."))])}joinTournament(z,pe,Ie={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const C="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(pe))),A=this.buildFullUrl(this.basePath,C,new Map),Q=Kt("POST",Ie,"");return z&&(Q.headers.Authorization="Bearer "+z),Promise.race([fetch(A,Q).then(H=>{if(204==H.status)return H;if(H.status>=200&&H.status<300)return H.json();throw H}),new Promise((H,ie)=>setTimeout(ie,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(z,pe,Ie,C,O,B,A={}){if(null==pe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Ie)throw new Error("'ownerId' is a required parameter but is null or undefined.");const Q="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(pe))).replace("{ownerId}",encodeURIComponent(String(Ie))),H=new Map;H.set("limit",C),H.set("expiry",O),H.set("cursor",B);const je=this.buildFullUrl(this.basePath,Q,H),Ae=Kt("GET",A,"");return z&&(Ae.headers.Authorization="Bearer "+z),Promise.race([fetch(je,Ae).then(it=>{if(204==it.status)return it;if(it.status>=200&&it.status<300)return it.json();throw it}),new Promise((it,xt)=>setTimeout(xt,this.timeoutMs,"Request timed out."))])}getUsers(z,pe,Ie,C,O={}){const A=new Map;A.set("ids",pe),A.set("usernames",Ie),A.set("facebook_ids",C);const H=this.buildFullUrl(this.basePath,"/v2/user",A),ie=Kt("GET",O,"");return z&&(ie.headers.Authorization="Bearer "+z),Promise.race([fetch(H,ie).then(je=>{if(204==je.status)return je;if(je.status>=200&&je.status<300)return je.json();throw je}),new Promise((je,Ae)=>setTimeout(Ae,this.timeoutMs,"Request timed out."))])}listUserGroups(z,pe,Ie,C,O,B={}){if(null==pe)throw new Error("'userId' is a required parameter but is null or undefined.");const A="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(pe))),Q=new Map;Q.set("limit",Ie),Q.set("state",C),Q.set("cursor",O);const ie=this.buildFullUrl(this.basePath,A,Q),je=Kt("GET",B,"");return z&&(je.headers.Authorization="Bearer "+z),Promise.race([fetch(ie,je).then(Ae=>{if(204==Ae.status)return Ae;if(Ae.status>=200&&Ae.status<300)return Ae.json();throw Ae}),new Promise((Ae,it)=>setTimeout(it,this.timeoutMs,"Request timed out."))])}buildFullUrl(z,pe,Ie){let C=z+pe+"?";for(let[O,B]of Ie)B instanceof Array?C+=B.reduce((A,Q)=>A+encodeURIComponent(O)+"="+encodeURIComponent(Q)+"&",""):null!=B&&(C+=encodeURIComponent(O)+"="+encodeURIComponent(B)+"&");return C}},It=class{constructor(z,pe,Ie){this.created=Ie,this.token=z,this.refresh_token=pe,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(z,pe)}isexpired(z){return this.expires_at-z<0}isrefreshexpired(z){return this.refresh_expires_at-z<0}update(z,pe){const Ie=z.split(".");if(3!=Ie.length)throw"jwt is not valid.";const C=JSON.parse(Wt(Ie[1])),O=Math.floor(parseInt(C.exp));if(pe){const B=pe.split(".");if(3!=B.length)throw"refresh jwt is not valid.";const A=JSON.parse(Wt(B[1])),Q=Math.floor(parseInt(A.exp));this.refresh_expires_at=Q,this.refresh_token=pe}this.token=z,this.expires_at=O,this.username=C.usn,this.user_id=C.uid,this.vars=C.vrs}static restore(z,pe){return new It(z,pe,!1)}},lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ht=typeof Uint8Array>"u"?[]:new Uint8Array(256);for($e=0;$e<64;$e++)Ht[lr.charCodeAt($e)]=$e;var $e,We=function(z){var Ie,pe=new Uint8Array(z),C=pe.length,O="";for(Ie=0;Ie<C;Ie+=3)O+=lr[pe[Ie]>>2],O+=lr[(3&pe[Ie])<<4|pe[Ie+1]>>4],O+=lr[(15&pe[Ie+1])<<2|pe[Ie+2]>>6],O+=lr[63&pe[Ie+2]];return C%3==2?O=O.substring(0,O.length-1)+"=":C%3==1&&(O=O.substring(0,O.length-2)+"=="),O},Pe=function(z){var C,B,A,Q,H,pe=.75*z.length,Ie=z.length,O=0;"="===z[z.length-1]&&(pe--,"="===z[z.length-2]&&pe--);var ie=new ArrayBuffer(pe),je=new Uint8Array(ie);for(C=0;C<Ie;C+=4)B=Ht[z.charCodeAt(C)],A=Ht[z.charCodeAt(C+1)],Q=Ht[z.charCodeAt(C+2)],H=Ht[z.charCodeAt(C+3)],je[O++]=B<<2|A>>4,je[O++]=(15&A)<<4|Q>>2,je[O++]=(3&Q)<<6|63&H;return ie},Xe=class{get onClose(){return this._socket.onclose}set onClose(z){this._socket.onclose=z}get onError(){return this._socket.onerror}set onError(z){this._socket.onerror=z}get onMessage(){return this._socket.onmessage}set onMessage(z){z?this._socket.onmessage=pe=>{const Ie=JSON.parse(pe.data);Ie.match_data&&Ie.match_data.data?Ie.match_data.data=new Uint8Array(Pe(Ie.match_data.data)):Ie.party_data&&Ie.party_data.data&&(Ie.party_data.data=new Uint8Array(Pe(Ie.party_data.data))),z(Ie)}:z=null}get onOpen(){return this._socket.onopen}set onOpen(z){this._socket.onopen=z}isOpen(){var z;return(null==(z=this._socket)?void 0:z.readyState)==WebSocket.OPEN}connect(z,pe,Ie,C,O){const B=`${z}${pe}:${Ie}/ws?lang=en&status=${encodeURIComponent(C.toString())}&token=${encodeURIComponent(O)}`;this._socket=new WebSocket(B)}close(){this._socket.close(),this._socket=void 0}send(z){if(z.match_data_send){z.match_data_send.op_code=z.match_data_send.op_code.toString();let pe=z.match_data_send.data;pe&&pe instanceof Uint8Array?z.match_data_send.data=We(pe.buffer):pe&&(z.match_data_send.data=ct(pe))}else if(z.party_data_send){z.party_data_send.op_code=z.party_data_send.op_code.toString();let pe=z.party_data_send.data;pe&&pe instanceof Uint8Array?z.party_data_send.data=We(pe.buffer):pe&&(z.party_data_send.data=ct(pe))}this._socket.send(JSON.stringify(z))}},wt=class{constructor(z,pe,Ie=!1,C=!1,O=new Xe,B=wt.DefaultSendTimeoutMs){this.host=z,this.port=pe,this.useSSL=Ie,this.verbose=C,this.adapter=O,this.sendTimeoutMs=B,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=wt.DefaultHeartbeatTimeoutMs}generatecid(){const z=this.nextCid.toString();return++this.nextCid,z}connect(z,pe=!1,Ie=wt.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(z):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,pe,z.token),this.adapter.onClose=O=>{this.ondisconnect(O)},this.adapter.onError=O=>{this.onerror(O)},this.adapter.onMessage=O=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(O)),O.cid){const B=this.cIds[O.cid];if(!B)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",O));delete this.cIds[O.cid],O.error?B.reject(O.error):B.resolve(O)}else O.notifications?O.notifications.notifications.forEach(B=>{B.content=B.content?JSON.parse(B.content):void 0,this.onnotification(B)}):O.match_data?(O.match_data.op_code=parseInt(O.match_data.op_code),this.onmatchdata(O.match_data)):O.match_presence_event?this.onmatchpresence(O.match_presence_event):O.matchmaker_ticket?this.onmatchmakerticket(O.matchmaker_ticket):O.matchmaker_matched?this.onmatchmakermatched(O.matchmaker_matched):O.status_presence_event?this.onstatuspresence(O.status_presence_event):O.stream_presence_event?this.onstreampresence(O.stream_presence_event):O.stream_data?this.onstreamdata(O.stream_data):O.channel_message?(O.channel_message.content=JSON.parse(O.channel_message.content),this.onchannelmessage(O.channel_message)):O.channel_presence_event?this.onchannelpresence(O.channel_presence_event):O.party_data?(O.party_data.op_code=parseInt(O.party_data.op_code),this.onpartydata(O.party_data)):O.party_close?this.onpartyclose(O.party_close):O.party_join_request?this.onpartyjoinrequest(O.party_join_request):O.party_leader?this.onpartyleader(O.party_leader):O.party_matchmaker_ticket?this.onpartymatchmakerticket(O.party_matchmaker_ticket):O.party_presence_event?this.onpartypresence(O.party_presence_event):O.party?this.onparty(O.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",O)},new Promise((O,B)=>{this.adapter.onOpen=A=>{this.verbose&&window&&window.console&&console.log(A),this.pingPong(),O(z)},this.adapter.onError=A=>{B(A),this.adapter.close()},setTimeout(()=>{B("The socket timed out when trying to connect.")},Ie)}))}disconnect(z=!0){this.adapter.isOpen()&&this.adapter.close(),z&&this.ondisconnect({})}setHeartbeatTimeoutMs(z){this._heartbeatTimeoutMs=z}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(z){this.verbose&&window&&window.console&&console.log(z)}onerror(z){this.verbose&&window&&window.console&&console.log(z)}onchannelmessage(z){this.verbose&&window&&window.console&&console.log(z)}onchannelpresence(z){this.verbose&&window&&window.console&&console.log(z)}onnotification(z){this.verbose&&window&&window.console&&console.log(z)}onmatchdata(z){this.verbose&&window&&window.console&&console.log(z)}onmatchpresence(z){this.verbose&&window&&window.console&&console.log(z)}onmatchmakerticket(z){this.verbose&&window&&window.console&&console.log(z)}onmatchmakermatched(z){this.verbose&&window&&window.console&&console.log(z)}onparty(z){this.verbose&&window&&window.console&&console.log(z)}onpartyclose(z){this.verbose&&window&&window.console&&console.log("Party closed: "+z)}onpartyjoinrequest(z){this.verbose&&window&&window.console&&console.log(z)}onpartydata(z){this.verbose&&window&&window.console&&console.log(z)}onpartyleader(z){this.verbose&&window&&window.console&&console.log(z)}onpartymatchmakerticket(z){this.verbose&&window&&window.console&&console.log(z)}onpartypresence(z){this.verbose&&window&&window.console&&console.log(z)}onstatuspresence(z){this.verbose&&window&&window.console&&console.log(z)}onstreampresence(z){this.verbose&&window&&window.console&&console.log(z)}onstreamdata(z){this.verbose&&window&&window.console&&console.log(z)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(z,pe=wt.DefaultSendTimeoutMs){const Ie=z;return new Promise((C,O)=>{if(this.adapter.isOpen())if(Ie.match_data_send)this.adapter.send(Ie),C();else if(Ie.party_data_send)this.adapter.send(Ie),C();else{Ie.channel_message_send?Ie.channel_message_send.content=JSON.stringify(Ie.channel_message_send.content):Ie.channel_message_update&&(Ie.channel_message_update.content=JSON.stringify(Ie.channel_message_update.content));const B=this.generatecid();this.cIds[B]={resolve:C,reject:O},setTimeout(()=>{O("The socket timed out while waiting for a response.")},pe),Ie.cid=B,this.adapter.send(Ie)}else O("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const B=V({},Ie);B.match_data_send&&B.match_data_send.data?B.match_data_send.data=mr(B.match_data_send.data):B.party_data_send&&B.party_data_send.data&&(B.party_data_send.data=mr(B.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(B))}})}acceptPartyMember(z,pe){return this.send({party_accept:{party_id:z,presence:pe}})}addMatchmaker(z,pe,Ie,C,O){return v(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:pe,max_count:Ie,query:z,string_properties:C,numeric_properties:O}})).matchmaker_ticket})}addMatchmakerParty(z,pe,Ie,C,O,B){return v(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:z,min_count:Ie,max_count:C,query:pe,string_properties:O,numeric_properties:B}})).party_matchmaker_ticket})}closeParty(z){return v(this,null,function*(){return yield this.send({party_close:{party_id:z}})})}createMatch(z){return v(this,null,function*(){return(yield this.send({match_create:{name:z}})).match})}createParty(z,pe){return v(this,null,function*(){return(yield this.send({party_create:{open:z,max_size:pe}})).party})}followUsers(z){return v(this,null,function*(){return(yield this.send({status_follow:{user_ids:z}})).status})}joinChat(z,pe,Ie,C){return v(this,null,function*(){return(yield this.send({channel_join:{target:z,type:pe,persistence:Ie,hidden:C}})).channel})}joinMatch(z,pe,Ie){return v(this,null,function*(){const C={match_join:{metadata:Ie}};return pe?C.match_join.token=pe:C.match_join.match_id=z,(yield this.send(C)).match})}joinParty(z){return v(this,null,function*(){return yield this.send({party_join:{party_id:z}})})}leaveChat(z){return this.send({channel_leave:{channel_id:z}})}leaveMatch(z){return this.send({match_leave:{match_id:z}})}leaveParty(z){return this.send({party_leave:{party_id:z}})}listPartyJoinRequests(z){return v(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:z}})).party_join_request})}promotePartyMember(z,pe){return v(this,null,function*(){return(yield this.send({party_promote:{party_id:z,presence:pe}})).party_leader})}removeChatMessage(z,pe){return v(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:z,message_id:pe}})).channel_message_ack})}removeMatchmaker(z){return this.send({matchmaker_remove:{ticket:z}})}removeMatchmakerParty(z,pe){return this.send({party_matchmaker_remove:{party_id:z,ticket:pe}})}removePartyMember(z,pe){return v(this,null,function*(){return this.send({party_remove:{party_id:z,presence:pe}})})}rpc(z,pe,Ie){return v(this,null,function*(){return(yield this.send({rpc:{id:z,payload:pe,http_key:Ie}})).rpc})}sendMatchState(z,pe,Ie,C,O){return v(this,null,function*(){return this.send({match_data_send:{match_id:z,op_code:pe,data:Ie,presences:null!=C?C:[],reliable:O}})})}sendPartyData(z,pe,Ie){return this.send({party_data_send:{party_id:z,op_code:pe,data:Ie}})}unfollowUsers(z){return this.send({status_unfollow:{user_ids:z}})}updateChatMessage(z,pe,Ie){return v(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:z,message_id:pe,content:Ie}})).channel_message_ack})}updateStatus(z){return this.send({status_update:{status:z}})}writeChatMessage(z,pe){return v(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:z,content:pe}})).channel_message_ack})}pingPong(){return v(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},Ot=wt;Ot.DefaultHeartbeatTimeoutMs=1e4,Ot.DefaultSendTimeoutMs=1e4,Ot.DefaultConnectTimeoutMs=3e4;var Rt=class{constructor(z="defaultkey",pe="127.0.0.1",Ie="7350",C=!1,O=7e3,B=!0){this.serverkey=z,this.host=pe,this.port=Ie,this.useSSL=C,this.timeout=O,this.autoRefreshSession=B,this.expiredTimespanMs=3e5,this.apiClient=new hr(z,`${C?"https://":"http://"}${pe}:${Ie}`,O)}addGroupUsers(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.addGroupUsers(z.token,pe,Ie).then(C=>void 0!==C)})}addFriends(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.addFriends(z.token,pe,Ie).then(C=>void 0!==C)})}authenticateApple(z,pe,Ie){return v(this,arguments,function*(C,O,B,A={},Q={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:C,vars:A},O,B,Q).then(ie=>new It(ie.token||"",ie.refresh_token||"",ie.created||!1))})}authenticateCustom(z,pe,Ie,C={},O={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:z,vars:C},pe,Ie,O).then(A=>new It(A.token||"",A.refresh_token||"",A.created||!1))}authenticateDevice(z,pe,Ie,C){return this.apiClient.authenticateDevice(this.serverkey,"",{id:z,vars:C},pe,Ie).then(B=>new It(B.token||"",B.refresh_token||"",B.created||!1))}authenticateEmail(z,pe,Ie,C,O){return this.apiClient.authenticateEmail(this.serverkey,"",{email:z,password:pe,vars:O},Ie,C).then(A=>new It(A.token||"",A.refresh_token||"",A.created||!1))}authenticateFacebookInstantGame(z,pe,Ie,C,O={}){const B={signed_player_info:z,vars:C};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:B.signed_player_info,vars:B.vars},pe,Ie,O).then(A=>new It(A.token||"",A.refresh_token||"",A.created||!1))}authenticateFacebook(z,pe,Ie,C,O,B={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:z,vars:O},pe,Ie,C,B).then(Q=>new It(Q.token||"",Q.refresh_token||"",Q.created||!1))}authenticateGoogle(z,pe,Ie,C){return v(this,arguments,function*(O,B,A,Q,H={}){const ie={token:O,vars:Q},je=yield this.apiClient.authenticateGoogle(this.serverkey,"",ie,B,A,H);return new It(je.token||"",je.refresh_token||"",je.created||!1)})}authenticateGameCenter(z,pe,Ie,C,O,B,A,Q,H){return v(this,arguments,function*(ie,je,Ae,it,xt,fr,ke,He,vt,Ge={}){const dt={bundle_id:ie,player_id:je,public_key_url:Ae,salt:it,signature:xt,timestamp_seconds:fr,vars:vt},Ft=yield this.apiClient.authenticateGameCenter(this.serverkey,"",dt,He,ke,Ge);return new It(Ft.token||"",Ft.refresh_token||"",Ft.created||!1)})}authenticateSteam(z,pe,Ie,C,O){return v(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:z,vars:O,sync:C},pe,Ie).then(A=>new It(A.token||"",A.refresh_token||"",A.created||!1))})}banGroupUsers(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.banGroupUsers(z.token,pe,Ie).then(C=>void 0!==C)})}blockFriends(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.blockFriends(z.token,pe,Ie).then(C=>Promise.resolve(null!=C))})}createGroup(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.createGroup(z.token,pe).then(Ie=>Promise.resolve({avatar_url:Ie.avatar_url,create_time:Ie.create_time,creator_id:Ie.creator_id,description:Ie.description,edge_count:Ie.edge_count?Number(Ie.edge_count):0,id:Ie.id,lang_tag:Ie.lang_tag,max_count:Ie.max_count?Number(Ie.max_count):0,metadata:Ie.metadata?JSON.parse(Ie.metadata):void 0,name:Ie.name,open:Ie.open,update_time:Ie.update_time}))})}createSocket(z=!1,pe=!1,Ie=new Xe,C=Ot.DefaultSendTimeoutMs){return new Ot(this.host,this.port,z,pe,Ie,C)}deleteAccount(z){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.deleteAccount(z.token).then(pe=>void 0!==pe)})}deleteFriends(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.deleteFriends(z.token,pe,Ie).then(C=>void 0!==C)})}deleteGroup(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.deleteGroup(z.token,pe).then(Ie=>void 0!==Ie)})}deleteNotifications(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.deleteNotifications(z.token,pe).then(Ie=>Promise.resolve(null!=Ie))})}deleteStorageObjects(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.deleteStorageObjects(z.token,pe).then(Ie=>Promise.resolve(null!=Ie))})}deleteTournamentRecord(z,pe){return v(this,null,function*(){return this.apiClient.deleteTournamentRecord(z.token,pe)})}demoteGroupUsers(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.demoteGroupUsers(z.token,pe,Ie).then(C=>Promise.resolve(null!=C))})}emitEvent(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.event(z.token,pe).then(Ie=>Promise.resolve(null!=Ie))})}getAccount(z){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.getAccount(z.token)})}getSubscription(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.getSubscription(z.token,pe)})}importFacebookFriends(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.importFacebookFriends(z.token,pe).then(Ie=>void 0!==Ie)})}importSteamFriends(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.importSteamFriends(z.token,pe,Ie).then(C=>void 0!==C)})}getUsers(z,pe,Ie,C){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.getUsers(z.token,pe,Ie,C).then(O=>{var B={users:[]};return null==O.users||O.users.forEach(A=>{B.users.push({avatar_url:A.avatar_url,create_time:A.create_time,display_name:A.display_name,edge_count:A.edge_count?Number(A.edge_count):0,facebook_id:A.facebook_id,gamecenter_id:A.gamecenter_id,google_id:A.google_id,id:A.id,lang_tag:A.lang_tag,location:A.location,online:A.online,steam_id:A.steam_id,timezone:A.timezone,update_time:A.update_time,username:A.username,metadata:A.metadata?JSON.parse(A.metadata):void 0})}),Promise.resolve(B)})})}joinGroup(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.joinGroup(z.token,pe,{}).then(Ie=>void 0!==Ie)})}joinTournament(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.joinTournament(z.token,pe,{}).then(Ie=>void 0!==Ie)})}kickGroupUsers(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.kickGroupUsers(z.token,pe,Ie).then(C=>Promise.resolve(null!=C))})}leaveGroup(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.leaveGroup(z.token,pe,{}).then(Ie=>void 0!==Ie)})}listChannelMessages(z,pe,Ie,C,O){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listChannelMessages(z.token,pe,Ie,C,O).then(B=>{var A={messages:[],next_cursor:B.next_cursor,prev_cursor:B.prev_cursor,cacheable_cursor:B.cacheable_cursor};return null==B.messages||B.messages.forEach(Q=>{A.messages.push({channel_id:Q.channel_id,code:Q.code?Number(Q.code):0,create_time:Q.create_time,message_id:Q.message_id,persistent:Q.persistent,sender_id:Q.sender_id,update_time:Q.update_time,username:Q.username,content:Q.content?JSON.parse(Q.content):void 0,group_id:Q.group_id,room_name:Q.room_name,user_id_one:Q.user_id_one,user_id_two:Q.user_id_two})}),Promise.resolve(A)})})}listGroupUsers(z,pe,Ie,C,O){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listGroupUsers(z.token,pe,C,Ie,O).then(B=>{var A={group_users:[],cursor:B.cursor};return null==B.group_users||B.group_users.forEach(Q=>{A.group_users.push({user:{avatar_url:Q.user.avatar_url,create_time:Q.user.create_time,display_name:Q.user.display_name,edge_count:Q.user.edge_count?Number(Q.user.edge_count):0,facebook_id:Q.user.facebook_id,gamecenter_id:Q.user.gamecenter_id,google_id:Q.user.google_id,id:Q.user.id,lang_tag:Q.user.lang_tag,location:Q.user.location,online:Q.user.online,steam_id:Q.user.steam_id,timezone:Q.user.timezone,update_time:Q.user.update_time,username:Q.user.username,metadata:Q.user.metadata?JSON.parse(Q.user.metadata):void 0},state:Q.state?Number(Q.state):0})}),Promise.resolve(A)})})}listUserGroups(z,pe,Ie,C,O){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listUserGroups(z.token,pe,Ie,C,O).then(B=>{var A={user_groups:[],cursor:B.cursor};return null==B.user_groups||B.user_groups.forEach(Q=>{A.user_groups.push({group:{avatar_url:Q.group.avatar_url,create_time:Q.group.create_time,creator_id:Q.group.creator_id,description:Q.group.description,edge_count:Q.group.edge_count?Number(Q.group.edge_count):0,id:Q.group.id,lang_tag:Q.group.lang_tag,max_count:Q.group.max_count,metadata:Q.group.metadata?JSON.parse(Q.group.metadata):void 0,name:Q.group.name,open:Q.group.open,update_time:Q.group.update_time},state:Q.state?Number(Q.state):0})}),Promise.resolve(A)})})}listGroups(z,pe,Ie,C){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listGroups(z.token,pe,Ie,C).then(O=>{var B={groups:[]};return null==O.groups||(B.cursor=O.cursor,O.groups.forEach(A=>{B.groups.push({avatar_url:A.avatar_url,create_time:A.create_time,creator_id:A.creator_id,description:A.description,edge_count:A.edge_count?Number(A.edge_count):0,id:A.id,lang_tag:A.lang_tag,max_count:A.max_count,metadata:A.metadata?JSON.parse(A.metadata):void 0,name:A.name,open:A.open,update_time:A.update_time})})),Promise.resolve(B)})})}linkApple(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.linkApple(z.token,pe).then(Ie=>void 0!==Ie)})}linkCustom(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.linkCustom(z.token,pe).then(Ie=>void 0!==Ie)})}linkDevice(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.linkDevice(z.token,pe).then(Ie=>void 0!==Ie)})}linkEmail(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.linkEmail(z.token,pe).then(Ie=>void 0!==Ie)})}linkFacebook(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.linkFacebook(z.token,pe).then(Ie=>void 0!==Ie)})}linkFacebookInstantGame(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.linkFacebookInstantGame(z.token,pe).then(Ie=>void 0!==Ie)})}linkGoogle(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.linkGoogle(z.token,pe).then(Ie=>void 0!==Ie)})}linkGameCenter(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.linkGameCenter(z.token,pe).then(Ie=>void 0!==Ie)})}linkSteam(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.linkSteam(z.token,pe).then(Ie=>void 0!==Ie)})}listFriends(z,pe,Ie,C){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listFriends(z.token,Ie,pe,C).then(O=>{var B={friends:[],cursor:O.cursor};return null==O.friends||O.friends.forEach(A=>{B.friends.push({user:{avatar_url:A.user.avatar_url,create_time:A.user.create_time,display_name:A.user.display_name,edge_count:A.user.edge_count?Number(A.user.edge_count):0,facebook_id:A.user.facebook_id,gamecenter_id:A.user.gamecenter_id,google_id:A.user.google_id,id:A.user.id,lang_tag:A.user.lang_tag,location:A.user.location,online:A.user.online,steam_id:A.user.steam_id,timezone:A.user.timezone,update_time:A.user.update_time,username:A.user.username,metadata:A.user.metadata?JSON.parse(A.user.metadata):void 0,facebook_instant_game_id:A.user.facebook_instant_game_id},state:A.state})}),Promise.resolve(B)})})}listFriendsOfFriends(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listFriendsOfFriends(z.token,pe,Ie).then(C=>{var O={friends_of_friends:[],cursor:C.cursor};return null==C.friends_of_friends||C.friends_of_friends.forEach(B=>{O.friends_of_friends.push({referrer:B.referrer,user:{avatar_url:B.user.avatar_url,create_time:B.user.create_time,display_name:B.user.display_name,edge_count:B.user.edge_count?Number(B.user.edge_count):0,facebook_id:B.user.facebook_id,gamecenter_id:B.user.gamecenter_id,google_id:B.user.google_id,id:B.user.id,lang_tag:B.user.lang_tag,location:B.user.location,online:B.user.online,steam_id:B.user.steam_id,timezone:B.user.timezone,update_time:B.user.update_time,username:B.user.username,metadata:B.user.metadata?JSON.parse(B.user.metadata):void 0,facebook_instant_game_id:B.user.facebook_instant_game_id}})}),Promise.resolve(O)})})}listLeaderboardRecords(z,pe,Ie,C,O,B){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listLeaderboardRecords(z.token,pe,Ie,C,O,B).then(A=>{var Q={next_cursor:A.next_cursor,prev_cursor:A.prev_cursor,rank_count:A.rank_count?Number(A.rank_count):0,owner_records:[],records:[]};return null!=A.owner_records&&A.owner_records.forEach(H=>{Q.owner_records.push({expiry_time:H.expiry_time,leaderboard_id:H.leaderboard_id,metadata:H.metadata?JSON.parse(H.metadata):void 0,num_score:H.num_score?Number(H.num_score):0,owner_id:H.owner_id,rank:H.rank?Number(H.rank):0,score:H.score?Number(H.score):0,subscore:H.subscore?Number(H.subscore):0,update_time:H.update_time,username:H.username,max_num_score:H.max_num_score?Number(H.max_num_score):0})}),null!=A.records&&A.records.forEach(H=>{Q.records.push({expiry_time:H.expiry_time,leaderboard_id:H.leaderboard_id,metadata:H.metadata?JSON.parse(H.metadata):void 0,num_score:H.num_score?Number(H.num_score):0,owner_id:H.owner_id,rank:H.rank?Number(H.rank):0,score:H.score?Number(H.score):0,subscore:H.subscore?Number(H.subscore):0,update_time:H.update_time,username:H.username,max_num_score:H.max_num_score?Number(H.max_num_score):0})}),Promise.resolve(Q)})})}listLeaderboardRecordsAroundOwner(z,pe,Ie,C,O,B){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listLeaderboardRecordsAroundOwner(z.token,pe,Ie,C,O,B).then(A=>{var Q={next_cursor:A.next_cursor,prev_cursor:A.prev_cursor,rank_count:A.rank_count?Number(A.rank_count):0,owner_records:[],records:[]};return null!=A.owner_records&&A.owner_records.forEach(H=>{Q.owner_records.push({expiry_time:H.expiry_time,leaderboard_id:H.leaderboard_id,metadata:H.metadata?JSON.parse(H.metadata):void 0,num_score:H.num_score?Number(H.num_score):0,owner_id:H.owner_id,rank:H.rank?Number(H.rank):0,score:H.score?Number(H.score):0,subscore:H.subscore?Number(H.subscore):0,update_time:H.update_time,username:H.username,max_num_score:H.max_num_score?Number(H.max_num_score):0})}),null!=A.records&&A.records.forEach(H=>{Q.records.push({expiry_time:H.expiry_time,leaderboard_id:H.leaderboard_id,metadata:H.metadata?JSON.parse(H.metadata):void 0,num_score:H.num_score?Number(H.num_score):0,owner_id:H.owner_id,rank:H.rank?Number(H.rank):0,score:H.score?Number(H.score):0,subscore:H.subscore?Number(H.subscore):0,update_time:H.update_time,username:H.username,max_num_score:H.max_num_score?Number(H.max_num_score):0})}),Promise.resolve(Q)})})}listMatches(z,pe,Ie,C,O,B,A){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listMatches(z.token,pe,Ie,C,O,B,A)})}listNotifications(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listNotifications(z.token,pe,Ie).then(C=>{var O={cacheable_cursor:C.cacheable_cursor,notifications:[]};return null==C.notifications||C.notifications.forEach(B=>{O.notifications.push({code:B.code?Number(B.code):0,create_time:B.create_time,id:B.id,persistent:B.persistent,sender_id:B.sender_id,subject:B.subject,content:B.content?JSON.parse(B.content):void 0})}),Promise.resolve(O)})})}listStorageObjects(z,pe,Ie,C,O){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listStorageObjects(z.token,pe,Ie,C,O).then(B=>{var A={objects:[],cursor:B.cursor};return null==B.objects||B.objects.forEach(Q=>{A.objects.push({collection:Q.collection,key:Q.key,permission_read:Q.permission_read?Number(Q.permission_read):0,permission_write:Q.permission_write?Number(Q.permission_write):0,value:Q.value?JSON.parse(Q.value):void 0,version:Q.version,user_id:Q.user_id,create_time:Q.create_time,update_time:Q.update_time})}),Promise.resolve(A)})})}listTournaments(z,pe,Ie,C,O,B,A){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listTournaments(z.token,pe,Ie,C,O,B,A).then(Q=>{var H={cursor:Q.cursor,tournaments:[]};return null!=Q.tournaments&&Q.tournaments.forEach(ie=>{H.tournaments.push({id:ie.id,title:ie.title,description:ie.description,duration:ie.duration?Number(ie.duration):0,category:ie.category?Number(ie.category):0,sort_order:ie.sort_order?Number(ie.sort_order):0,size:ie.size?Number(ie.size):0,max_size:ie.max_size?Number(ie.max_size):0,max_num_score:ie.max_num_score?Number(ie.max_num_score):0,can_enter:ie.can_enter,end_active:ie.end_active?Number(ie.end_active):0,next_reset:ie.next_reset?Number(ie.next_reset):0,metadata:ie.metadata?JSON.parse(ie.metadata):void 0,create_time:ie.create_time,start_time:ie.start_time,end_time:ie.end_time,start_active:ie.start_active,authoritative:ie.authoritative})}),Promise.resolve(H)})})}listSubscriptions(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listSubscriptions(z.token,{cursor:pe,limit:Ie})})}listTournamentRecords(z,pe,Ie,C,O,B){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listTournamentRecords(z.token,pe,Ie,C,O,B).then(A=>{var Q={next_cursor:A.next_cursor,prev_cursor:A.prev_cursor,owner_records:[],records:[]};return null!=A.owner_records&&A.owner_records.forEach(H=>{Q.owner_records.push({expiry_time:H.expiry_time,leaderboard_id:H.leaderboard_id,metadata:H.metadata?JSON.parse(H.metadata):void 0,num_score:H.num_score?Number(H.num_score):0,owner_id:H.owner_id,rank:H.rank?Number(H.rank):0,score:H.score?Number(H.score):0,subscore:H.subscore?Number(H.subscore):0,update_time:H.update_time,username:H.username,max_num_score:H.max_num_score?Number(H.max_num_score):0})}),null!=A.records&&A.records.forEach(H=>{Q.records.push({expiry_time:H.expiry_time,leaderboard_id:H.leaderboard_id,metadata:H.metadata?JSON.parse(H.metadata):void 0,num_score:H.num_score?Number(H.num_score):0,owner_id:H.owner_id,rank:H.rank?Number(H.rank):0,score:H.score?Number(H.score):0,subscore:H.subscore?Number(H.subscore):0,update_time:H.update_time,username:H.username,max_num_score:H.max_num_score?Number(H.max_num_score):0})}),Promise.resolve(Q)})})}listTournamentRecordsAroundOwner(z,pe,Ie,C,O,B){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.listTournamentRecordsAroundOwner(z.token,pe,Ie,C,O,B).then(A=>{var Q={next_cursor:A.next_cursor,prev_cursor:A.prev_cursor,owner_records:[],records:[]};return null!=A.owner_records&&A.owner_records.forEach(H=>{Q.owner_records.push({expiry_time:H.expiry_time,leaderboard_id:H.leaderboard_id,metadata:H.metadata?JSON.parse(H.metadata):void 0,num_score:H.num_score?Number(H.num_score):0,owner_id:H.owner_id,rank:H.rank?Number(H.rank):0,score:H.score?Number(H.score):0,subscore:H.subscore?Number(H.subscore):0,update_time:H.update_time,username:H.username,max_num_score:H.max_num_score?Number(H.max_num_score):0})}),null!=A.records&&A.records.forEach(H=>{Q.records.push({expiry_time:H.expiry_time,leaderboard_id:H.leaderboard_id,metadata:H.metadata?JSON.parse(H.metadata):void 0,num_score:H.num_score?Number(H.num_score):0,owner_id:H.owner_id,rank:H.rank?Number(H.rank):0,score:H.score?Number(H.score):0,subscore:H.subscore?Number(H.subscore):0,update_time:H.update_time,username:H.username,max_num_score:H.max_num_score?Number(H.max_num_score):0})}),Promise.resolve(Q)})})}promoteGroupUsers(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.promoteGroupUsers(z.token,pe,Ie)})}readStorageObjects(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.readStorageObjects(z.token,pe).then(Ie=>{var C={objects:[]};return null==Ie.objects||Ie.objects.forEach(O=>{C.objects.push({collection:O.collection,key:O.key,permission_read:O.permission_read?Number(O.permission_read):0,permission_write:O.permission_write?Number(O.permission_write):0,value:O.value?JSON.parse(O.value):void 0,version:O.version,user_id:O.user_id,create_time:O.create_time,update_time:O.update_time})}),Promise.resolve(C)})})}rpc(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.rpcFunc(z.token,pe,JSON.stringify(Ie)).then(C=>Promise.resolve({id:C.id,payload:C.payload?JSON.parse(C.payload):void 0}))})}rpcHttpKey(z,pe,Ie){return v(this,null,function*(){return this.apiClient.rpcFunc2("",pe,Ie&&JSON.stringify(Ie)||"",z).then(C=>Promise.resolve({id:C.id,payload:C.payload?JSON.parse(C.payload):void 0})).catch(C=>{throw C})})}sessionLogout(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.sessionLogout(z.token,{refresh_token:Ie,token:pe}).then(C=>void 0!==C)})}sessionRefresh(z){return v(this,arguments,function*(pe,Ie={}){if(!pe)return console.error("Cannot refresh a null session."),pe;pe.created&&pe.expires_at-pe.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),pe.created&&pe.refresh_expires_at-pe.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const C=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:pe.refresh_token,vars:Ie});return pe.update(C.token,C.refresh_token),pe})}unlinkApple(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.unlinkApple(z.token,pe).then(Ie=>void 0!==Ie)})}unlinkCustom(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.unlinkCustom(z.token,pe).then(Ie=>void 0!==Ie)})}unlinkDevice(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.unlinkDevice(z.token,pe).then(Ie=>void 0!==Ie)})}unlinkEmail(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.unlinkEmail(z.token,pe).then(Ie=>void 0!==Ie)})}unlinkFacebook(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.unlinkFacebook(z.token,pe).then(Ie=>void 0!==Ie)})}unlinkFacebookInstantGame(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.unlinkFacebookInstantGame(z.token,pe).then(Ie=>void 0!==Ie)})}unlinkGoogle(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.unlinkGoogle(z.token,pe).then(Ie=>void 0!==Ie)})}unlinkGameCenter(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.unlinkGameCenter(z.token,pe).then(Ie=>void 0!==Ie)})}unlinkSteam(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.unlinkSteam(z.token,pe).then(Ie=>void 0!==Ie)})}updateAccount(z,pe){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.updateAccount(z.token,pe).then(Ie=>void 0!==Ie)})}updateGroup(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.updateGroup(z.token,pe,Ie).then(C=>void 0!==C)})}validatePurchaseApple(z,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.validatePurchaseApple(z.token,{receipt:pe,persist:Ie})})}validatePurchaseFacebookInstant(z,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.validatePurchaseFacebookInstant(z.token,{signed_request:pe,persist:Ie})})}validatePurchaseGoogle(z,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.validatePurchaseGoogle(z.token,{purchase:pe,persist:Ie})})}validatePurchaseHuawei(z,pe,Ie,C=!0){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.validatePurchaseHuawei(z.token,{purchase:pe,signature:Ie,persist:C})})}validateSubscriptionApple(z,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.validateSubscriptionApple(z.token,{receipt:pe,persist:Ie})})}validateSubscriptionGoogle(z,pe,Ie=!0){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.validateSubscriptionGoogle(z.token,{receipt:pe,persist:Ie})})}writeLeaderboardRecord(z,pe,Ie){return v(this,null,function*(){return this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z)),this.apiClient.writeLeaderboardRecord(z.token,pe,{metadata:Ie.metadata?JSON.stringify(Ie.metadata):void 0,score:Ie.score,subscore:Ie.subscore}).then(C=>Promise.resolve({expiry_time:C.expiry_time,leaderboard_id:C.leaderboard_id,metadata:C.metadata?JSON.parse(C.metadata):void 0,num_score:C.num_score?Number(C.num_score):0,owner_id:C.owner_id,score:C.score?Number(C.score):0,subscore:C.subscore?Number(C.subscore):0,update_time:C.update_time,username:C.username,max_num_score:C.max_num_score?Number(C.max_num_score):0,rank:C.rank?Number(C.rank):0}))})}writeStorageObjects(z,pe){return v(this,null,function*(){this.autoRefreshSession&&z.refresh_token&&z.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(z));var Ie={objects:[]};return pe.forEach(C=>{Ie.objects.push({collection:C.collection,key:C.key,permission_read:C.permission_read,permission_write:C.permission_write,value:JSON.stringify(C.value),version:C.version})}),this.apiClient.writeStorageObjects(z.token,Ie)})}writeTournamentRecord(z,pe,Ie){return v(this,null,function*(){return this.apiClient.writeTournamentRecord(z.token,pe,{metadata:Ie.metadata?JSON.stringify(Ie.metadata):void 0,score:Ie.score,subscore:Ie.subscore}).then(C=>Promise.resolve({expiry_time:C.expiry_time,leaderboard_id:C.leaderboard_id,metadata:C.metadata?JSON.parse(C.metadata):void 0,num_score:C.num_score?Number(C.num_score):0,owner_id:C.owner_id,score:C.score?Number(C.score):0,subscore:C.subscore?Number(C.subscore):0,update_time:C.update_time,username:C.username,max_num_score:C.max_num_score?Number(C.max_num_score):0,rank:C.rank?Number(C.rank):0}))})}},mt=we(92),Ut=we(8326),yt=we(617),Lt=we(482),ur=we(3953),ht=we(9900),Dt=we(8065),tr=we(755),Jt=we(5547),ir=we(5374),br=we(3656),Er=we(4234),vr=function(z){return z[z.MANAGE_TODO=10]="MANAGE_TODO",z[z.EDIT_PROFILE=11]="EDIT_PROFILE",z[z.MANAGE_POST=12]="MANAGE_POST",z[z.ADD_CHANNEL=14]="ADD_CHANNEL",z[z.NAME_OVERRIDED=15]="NAME_OVERRIDED",z[z.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",z[z.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",z[z.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",z[z.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",z[z.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",z[z.WEBRTC_RECEIVED_CALL_SELF=25]="WEBRTC_RECEIVED_CALL_SELF",z[z.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",z[z.VOIDDRAW_INIT=40]="VOIDDRAW_INIT",z[z.USER_PROFILE_CHANGED=100]="USER_PROFILE_CHANGED",z[z.USER_PROFILE_IMAGE_CHANGED=101]="USER_PROFILE_IMAGE_CHANGED",z[z.GROUP_DATA_CHANGED=200]="GROUP_DATA_CHANGED",z[z.GROUP_IMAGE_CHANGED=201]="GROUP_IMAGE_CHANGED",z}(vr||{});let Mr=(()=>{var z;class pe{constructor(C,O,B,A,Q,H,ie,je,Ae){this.p5toast=C,this.statusBar=O,this.indexed=B,this.noti=A,this.alertCtrl=Q,this.lang=H,this.global=ie,this.navCtrl=je,this.loadingCtrl=Ae,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.TogglingSession=!1,this.isRewardAdsUsed=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.RemoteTodoCounter={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={local:{},official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.is_post_lock=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.OnTransfer={},this.OnTransferMessage={},this.usernameOverride={local:{target:{}}},this.post_counter={local:{target:{me:0}},official:{},unofficial:{}},ie.CallbackNakama=this}initialize(){var C=this;return(0,M.A)(function*(){yield C.set_all_todo_notification();let O=yield C.indexed.loadTextFromUserPath("servers/self/profile.json");O&&(C.users.self=JSON.parse(O));try{let je=(yield C.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");je&&(C.users.self.img=je)}catch{}yield C.LoadOverridesOffline();let B=yield C.indexed.loadTextFromUserPath("servers/groups.json");B&&(C.groups=JSON.parse(B)),C.rearrange_group_list().forEach(function(){var je=(0,M.A)(function*(Ae){let it=yield C.indexed.loadTextFromUserPath(`servers/${Ae.server.isOfficial}/${Ae.server.target}/groups/${Ae.id}.img`);if(it&&(Ae.img=it.replace(/"|=|\\/g,"")),"missing"!=Ae.status){delete Ae.status;let xt=Ae.server.isOfficial,fr=Ae.server.target;if(Ae.users)for(let ke=0,He=Ae.users.length;ke<He;ke++)Ae.users[ke].is_me||(Ae.users[ke].user=C.load_other_user(Ae.users[ke].user.id,xt,fr))}});return function(Ae){return je.apply(this,arguments)}}()),yield C.load_channel_list(),yield C.CheckIfLostLocal(),C.rearrange_channels();let Q=yield C.indexed.loadTextFromUserPath("servers/list.json");Q&&(C.statusBar.groupServer=JSON.parse(Q)),Object.keys(C.statusBar.groupServer).forEach(je=>{C.servers[je]?Object.keys(C.statusBar.groupServer[je]).forEach(it=>{C.servers[je][it]||delete C.statusBar.groupServer[je][it]}):delete C.statusBar.groupServer[je]}),C.showServer=!!localStorage.getItem("showServer"),C.catch_group_server_header("offline");let ie=yield C.indexed.loadTextFromUserPath("servers/list_detail.csv");if(ie)ie.split("\n").forEach(Ae=>{let it=Ae.split(","),xt={isOfficial:it[1],name:it[2],target:it[3],address:it[4],port:+it[5],useSSL:"true"==it[6]};C.servers[xt.isOfficial][xt.target]={},C.servers[xt.isOfficial][xt.target].info=xt,C.init_server(xt),C.users.self.online&&C.init_session(xt)});else{let je=location.href.split("?").length>1;(C.users.self.online||je)&&C.toggle_all_session()}})()}CheckIfLostLocal(){var C=this;return(0,M.A)(function*(){let O=yield C.indexed.GetFileListFromDB("servers/local/target/channels");for(let B of O)try{let A=B.split("/");if(5==A.length){let Q=A.pop();C.channels_orig.local.target||(C.channels_orig.local.target={}),C.channels_orig.local.target[Q]||(C.channels_orig.local.target[Q]={CDN:0,id:Q,info:{isOfficial:"local",target:"target",name:C.lang.text.Nakama.DamagedChannel},local:!0,redirect:{type:0},server:{isOfficial:"local",target:"target",name:"\uc0ad\uc81c\ub41c \uc11c\ubc84"},status:"online",title:C.lang.text.Nakama.DamagedChannel})}}catch(A){console.log("\ub85c\uceec \ucc44\ub110 \uc7ac\uac80\ud1a0 \ub2e8\uacc4 \uc624\ub958: ",A)}})()}set_all_todo_notification(){var C=this;return(0,M.A)(function*(){let O=yield C.indexed.GetFileListFromDB("info.todo");for(let B=0,A=O.length;B<A;B++){let Q=yield C.indexed.loadTextFromUserPath(O[B]);if(Q){let H=JSON.parse(Q);C.registered_id.push(H.noti_id),C.set_todo_notification(H)}}})()}getGodotDBRecursive(){var C=this;return(0,M.A)(function*(){try{if(void 0===C.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(B=>{setTimeout(()=>{B(void 0)},100)}),yield C.getGodotDBRecursive()}})()}open_add_todo_page(C=""){this.AddTodoLinkAct?this.AddTodoLinkAct(C):this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:yt.V5,state:{data:C}})})}open_group_detail(C){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-detail",{animation:yt.V5,state:C})})}open_others_profile(C){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("others-profile",{animation:yt.V5,state:C})})}set_todo_notification(C){var O=this;return(0,M.A)(function*(){let B=C.startFrom||C.limit;if("DesktopPWA"==mt.aH||"MobilePWA"==mt.aH){let A=new Date(B).getTime()-(new Date).getTime();if(A>0&&A<2e9){let Q=setTimeout((0,M.A)(function*(){let H;for(let ie of C.attach)if("image"==ie.viewer){if(ie.url)H=ie.url;else{let je=yield O.indexed.loadBlobFromUserPath(ie.path,ie.type);H=URL.createObjectURL(je)}break}yield O.noti.PushLocal({id:C.noti_id,title:C.title,body:C.description,image:H,smallIcon_ln:"todo"},void 0,ie=>{O.open_add_todo_page(JSON.stringify(C))}),setTimeout(()=>{try{URL.revokeObjectURL(H)}catch{}},1e3)}),A);O.web_noti_id[C.noti_id]=Q}}else{let A=new Date(B).getTime();for(let Q=0,H=O.registered_id.length;Q<H;Q++)if(O.registered_id[Q]==C.id){if(O.registered_id.splice(Q,1),C.id=O.get_noti_id(),!C.done&&C.remote){let ie=C.remote.isOfficial,je=C.remote.target;try{yield O.servers[ie][je].client.writeStorageObjects(O.servers[ie][je].session,[{collection:"server_todo",key:C.id,permission_read:2,permission_write:1,value:C}]).then(Ae=>{O.servers[ie][je].socket.sendMatchState(O.self_match[ie][je].match_id,vr.MANAGE_TODO,encodeURIComponent(`add,${Ae.acks[0].collection},${Ae.acks[0].key}`))})}catch(Ae){console.log("\uc11c\ubc84 \uc54c\ub9bc \uc7ac\ub4f1\ub85d \uc2e4\ud328: ",Ae)}}break}if(!C.done&&A>(new Date).getTime()){let Q="58a192";switch(C.importance){case"1":Q="ddbb41";break;case"2":Q="b95437"}C.custom_color&&(Q=C.custom_color.replace("#","")),O.noti.PushLocal({id:C.noti_id,title:C.title,body:C.description,smallIcon_ln:"todo"})}}})()}init_server(C){this.servers[C.isOfficial][C.target]||(this.servers[C.isOfficial][C.target]={}),this.servers[C.isOfficial][C.target].client=new Rt(C.key||"defaultkey",C.address,(C.port||7350).toString(),C.useSSL||!1)}go_to_chatroom_without_admob_act(C,O){this.has_new_channel_msg=!1,C.update&&delete C.update,this.ChatroomLinkAct?this.ChatroomLinkAct(C,O):this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("chat-room",{state:{info:C,file:O}})})}add_new_group(){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-group",{animation:yt.V5})})}open_profile_page(C){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-server",{animation:yt.V5,state:C})})}open_post(C,O){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("post-viewer",{animation:yt.V5,state:{data:C,index:O+1}})})}init_all_sessions(){var C=this;return(0,M.A)(function*(){let O=Object.keys(C.servers.official);for(let A=0,Q=O.length;A<Q;A++)yield C.init_session(C.servers.official[O[A]].info);let B=Object.keys(C.servers.unofficial);for(let A=0,Q=B.length;A<Q;A++)yield C.init_session(C.servers.unofficial[B[A]].info);return O.length+B.length})()}logout_all_server(){let C=Object.keys(this.statusBar.groupServer);for(let O=0,B=C.length;O<B;O++){let A=Object.keys(this.statusBar.groupServer[C[O]]);for(let Q=0,H=A.length;Q<H;Q++)"online"==this.statusBar.groupServer[C[O]][A[Q]]&&(this.servers[C[O]][A[Q]].socket?this.servers[C[O]][A[Q]].socket.disconnect(!0):this.link_group(C[O],A[Q],!1))}}toggle_all_session(){var C=this;return(0,M.A)(function*(){if(!C.TogglingSession){if(C.TogglingSession=!0,"online"==C.statusBar.settings.groupServer)C.logout_all_server(),C.p5toast.show({text:C.lang.text.Nakama.SessionLogout});else{C.p5toast.show({text:C.lang.text.Nakama.PendingLogin});try{(yield C.init_all_sessions())||C.AccessToOfficialTestServer()}catch(O){console.log("\ud14c\uc2a4\ud2b8 \uc11c\ubc84 \uc5f0\uacb0 \uc624\ub958: ",O)}}C.TogglingSession=!1}})()}WatchAdsAndGetDevServerInfo(C=!1){var O=this;return(0,M.A)(function*(){if(!O.isRewardAdsUsed||C){let B=yield O.loadingCtrl.create({message:O.lang.text.TodoDetail.WIP});return B.present(),yield O.AccessToOfficialTestServer(),B.dismiss(),!0}return!1})()}AccessToOfficialTestServer(){var C=this;return(0,M.A)(function*(){try{let B=(yield(yield fetch(`${mt.d2}assets/data/WSAddress.txt`)).text()).split("\n")[0];yield C.add_group_server({isOfficial:"official",address:B,name:C.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0}),C.isRewardAdsUsed=!0;let A=Object.keys(C.servers.official);for(let Q=0,H=A.length;Q<H;Q++)yield C.init_session(C.servers.official[A[Q]].info);"online"==C.statusBar.settings.groupServer&&C.p5toast.show({text:C.lang.text.Nakama.AccessTestServer})}catch(O){console.log("\uc8fc\uc18c\ubc1b\uae30 \uc2e4\ud328: ",O)}})()}link_group(C,O,B="offline"==this.statusBar.groupServer[C][O]){var A=this;return(0,M.A)(function*(){if(B)A.statusBar.groupServer[C][O]="pending",A.catch_group_server_header("pending"),A.users.self.online&&(yield A.init_session(A.servers[C][O].info));else{A.channels_orig[C]&&A.channels_orig[C][O]&&Object.keys(A.channels_orig[C][O]).forEach(H=>{"missing"!=A.channels_orig[C][O][H].status&&delete A.channels_orig[C][O][H].status}),A.groups[C]&&A.groups[C][O]&&Object.keys(A.groups[C][O]).forEach(H=>{"missing"!=A.groups[C][O][H].status&&(A.groups[C][O][H].status="offline")}),A.set_group_statusBar("offline",C,O),A.statusBar.groupServer[C][O]="offline",A.catch_group_server_header("offline");try{yield A.servers[C][O].client.sessionLogout(A.servers[C][O].session,A.servers[C][O].session.token,A.servers[C][O].session.refresh_token)}catch{}A.noti_origin[C]&&A.noti_origin[C][O]&&delete A.noti_origin[C][O],A.rearrange_notifications(),A.channels_orig[C]&&A.channels_orig[C][O]&&Object.keys(A.channels_orig[C][O]).forEach(H=>{"missing"!=A.channels_orig[C][O][H].status&&delete A.channels_orig[C][O][H].status})}A.indexed.saveTextFileToUserPath(JSON.stringify(A.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let C=[];return Object.keys(this.servers.official).forEach(A=>{"online"==this.statusBar.groupServer.official[A]&&C.push(this.servers.official[A])}),Object.keys(this.servers.unofficial).forEach(A=>{"online"==this.statusBar.groupServer.unofficial[A]&&C.push(this.servers.unofficial[A])}),C}get_all_server_info(C=!1,O=!1){let B=[],A=Object.keys(this.servers.official);return C&&A.forEach(H=>{O?("online"==this.statusBar.groupServer.official[H]||"pending"==this.statusBar.groupServer.official[H])&&B.push(this.servers.official[H].info):this.servers.official[H]&&B.push(this.servers.official[H].info)}),Object.keys(this.servers.unofficial).forEach(H=>{O?("online"==this.statusBar.groupServer.unofficial[H]||"pending"==this.statusBar.groupServer.unofficial[H])&&B.push(this.servers.unofficial[H].info):this.servers.unofficial[H]&&B.push(this.servers.unofficial[H].info)}),B}add_group_server(C,O=(()=>{})){var B=this;if(this.statusBar.groupServer.unofficial[C.target||C.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${C.target||C.name}`});C.target=C.target||C.name,C.address=C.address||"192.168.0.1",C.port=C.port||7350,C.useSSL=C.useSSL||!1,C.isOfficial=C.isOfficial||"unofficial",C.key=C.key||"defaultkey";let A=(new Date).getTime().toString();return A+=`,${C.isOfficial}`,A+=`,${C.name}`,A+=`,${C.target}`,A+=`,${C.address}`,A+=`,${C.port}`,A+=`,${C.useSSL}`,new Promise(function(){var Q=(0,M.A)(function*(H){{let ie={urls:[`stun:${C.address}:3478`,`turn:${C.address}:3478`],username:"username",credential:"password"};yield B.SaveWebRTCServer(ie)}"official"!=C.isOfficial?B.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var ie=(0,M.A)(function*(je,Ae){let it=[];je&&Ae&&(it=Ae.split("\n")),it.push(A),B.indexed.saveTextFileToUserPath(it.join("\n"),"servers/list_detail.csv",xt=>{B.init_server(C),B.servers[C.isOfficial][C.target].info={...C},O()}),B.statusBar.groupServer[C.isOfficial][C.target]="offline",yield B.indexed.saveTextFileToUserPath(JSON.stringify(B.statusBar.groupServer),"servers/list.json"),H()});return function(je,Ae){return ie.apply(this,arguments)}}()):(B.init_server(C),B.servers[C.isOfficial][C.target].info={...C},B.statusBar.groupServer[C.isOfficial][C.target]="offline",H())});return function(H){return Q.apply(this,arguments)}}())}SaveWebRTCServer(C){var O=this;return(0,M.A)(function*(){let B=(yield O.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",A=JSON.parse(B),Q=!1;for(let ie=0,je=Object.keys(A).length;ie<je;ie++)if(O.catch_address_from_rtc_server_address(C)==O.catch_address_from_rtc_server_address(A[ie])){Q=!0;break}Q||A.push(C),yield O.indexed.saveTextFileToUserPath(JSON.stringify(A),"servers/webrtc_server.json")})()}RemoveWebRTCServer(C){var O=this;return(0,M.A)(function*(){let B=(yield O.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",A=JSON.parse(B);for(let H=0,ie=Object.keys(A).length;H<ie;H++){let je=O.catch_address_from_rtc_server_address(A[H]);C==je&&A.splice(H,1)}yield O.indexed.saveTextFileToUserPath(JSON.stringify(A),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(C){let O;try{let B=C.urls[0];(B.indexOf("stun:")>=0||B.indexOf("turn:")>=0)&&(B=B.substring(5));let A=B.lastIndexOf(":");O=B.substring(0,A)}catch(B){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",B)}return O}catch_group_server_header(C){let O=C;this.statusBar.settings.groupServer=C,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(A=>{switch(this.statusBar.groupServer.official[A]){case"online":O="online";break;case"pending":"online"!=O&&(O="pending");break;case"missing":case"offline":"online"!=O&&"pending"!=O&&(O="offline")}}),"online"!=O&&Object.keys(this.statusBar.groupServer.unofficial).forEach(Q=>{switch(this.statusBar.groupServer.unofficial[Q]){case"online":O="online";break;case"pending":"online"!=O&&(O="pending");break;case"missing":case"offline":"online"!=O&&"pending"!=O&&(O="offline")}}),this.statusBar.settings.groupServer=O},1500)}init_session(C){var O=this;return(0,M.A)(function*(){O.groups[C.isOfficial]||(O.groups[C.isOfficial]={}),O.groups[C.isOfficial][C.target]||(O.groups[C.isOfficial][C.target]={}),O.channels_orig[C.isOfficial]||(O.channels_orig[C.isOfficial]={}),O.channels_orig[C.isOfficial][C.target]||(O.channels_orig[C.isOfficial][C.target]={}),O.usernameOverride[C.isOfficial]||(O.usernameOverride[C.isOfficial]={}),O.usernameOverride[C.isOfficial][C.target]||(O.usernameOverride[C.isOfficial][C.target]={}),O.OnTransfer[C.isOfficial]||(O.OnTransfer[C.isOfficial]={}),O.OnTransfer[C.isOfficial][C.target]||(O.OnTransfer[C.isOfficial][C.target]={}),O.self_match[C.isOfficial]||(O.self_match[C.isOfficial]={}),O.self_match[C.isOfficial][C.target]||(O.self_match[C.isOfficial][C.target]=void 0),O.noti_origin[C.isOfficial]||(O.noti_origin[C.isOfficial]={}),O.noti_origin[C.isOfficial][C.target]||(O.noti_origin[C.isOfficial][C.target]={}),O.RemoteTodoCounter[C.isOfficial]||(O.RemoteTodoCounter[C.isOfficial]={}),O.RemoteTodoCounter[C.isOfficial][C.target]||(O.RemoteTodoCounter[C.isOfficial][C.target]=[]),O.TogglingSession=!0;try{O.servers[C.isOfficial][C.target].session=yield O.servers[C.isOfficial][C.target].client.authenticateEmail(O.users.self.email,O.users.self.password,!1),yield O.after_login(C.isOfficial,C.target,C.useSSL)}catch(B){switch(B.status){case 400:O.p5toast.show({text:O.lang.text.Nakama.NeedLoginInfo}),O.open_profile_page(),O.users.self.online=!1,delete O.users.self.password,O.set_group_statusBar("offline",C.isOfficial,C.target);break;case 401:O.p5toast.show({text:O.lang.text.Nakama.NeedAccountReset}),O.users.self.online=!1,delete O.users.self.password,O.set_group_statusBar("offline",C.isOfficial,C.target);break;case 404:if(O.servers[C.isOfficial][C.target].session=yield O.servers[C.isOfficial][C.target].client.authenticateEmail(O.users.self.email,O.users.self.password,!0),O.users.self.display_name&&O.servers[C.isOfficial][C.target].client.updateAccount(O.servers[C.isOfficial][C.target].session,{display_name:O.users.self.display_name,lang_tag:navigator.language.split("-")[0]||O.lang.lang}),O.p5toast.show({text:`${O.lang.text.Nakama.RegisterUserSucc}: ${C.name}`,lateable:!0}),O.users.self.img)try{yield O.servers[C.isOfficial][C.target].client.writeStorageObjects(O.servers[C.isOfficial][C.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:O.users.self.img}}])}catch(Q){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Q)}(yield O.indexed.checkIfFileExist("servers/self/content.pck"))&&O.sync_save_file({path:"servers/self/content.pck"},C.isOfficial,C.target,"user_public","main_content"),yield O.after_login(C.isOfficial,C.target,C.useSSL);break;default:O.p5toast.show({text:`(${C.name}) ${O.lang.text.Nakama.UnexpectedLoginErr}: ${B}`}),O.set_group_statusBar("offline",C.isOfficial,C.target)}}O.TogglingSession=!1})()}after_login(C,O,B){var A=this;return(0,M.A)(function*(){A.set_group_statusBar("pending",C,O),A.servers[C][O].socket=A.servers[C][O].client.createSocket(B),A.servers[C][O].client.getAccount(A.servers[C][O].session).then(Q=>{let H=JSON.parse(Q.user.metadata);A.servers[C][O].info.is_admin=H.is_admin,Object.keys(Q.user).forEach(je=>{"display_name"==je?A.users.self[je]=Q.user[je]:A.users.self.display_name||(A.users.self[je]=Q.user[je])}),A.save_self_profile()}),A.servers[C][O].client.readStorageObjects(A.servers[C][O].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:A.servers[C][O].session.user_id}]}).then(Q=>{Q.objects.length?A.socket_reactive.profile?(A.users.self.img=Q.objects[0].value.img,A.socket_reactive.profile(Q.objects[0].value.img)):(A.users.self.img=Q.objects[0].value.img,A.indexed.saveTextFileToUserPath(JSON.stringify(A.users.self.img),"servers/self/profile.img")):A.socket_reactive.profile&&A.socket_reactive.profile("")}),A.LoadOverrideName(C,O),A.connect_to(C,O,Q=>{A.servers[C][O].client.readStorageObjects(A.servers[C][O].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:A.servers[C][O].session.user_id}]}).then(function(){var ie=(0,M.A)(function*(je){try{A.self_match[C][O]=yield Q.joinMatch(je.objects[0].value.match_id)}catch{let it=yield Q.createMatch();A.self_match[C][O]=it,A.servers[C][O].client.writeStorageObjects(A.servers[C][O].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:it.match_id}}])}for(let Ae=0,it=A.AfterLoginAct.length;Ae<it;Ae++)try{yield A.AfterLoginAct[Ae]()}catch(xt){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",xt)}A.AfterLoginAct.length=0,A.AfterLoginActDone=!0});return function(je){return ie.apply(this,arguments)}}());let H=Object.keys(A.users[C][O]||{});H&&A.servers[C][O].client.getUsers(A.servers[C][O].session,H).then(ie=>{for(let je=0,Ae=ie.users.length;je<Ae;je++)A.save_other_user(ie.users[je],C,O)}).catch(ie=>{console.log("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328: ",ie)}),A.redirect_channel(C,O).then(()=>{A.get_group_list_from_server(C,O)})}),yield A.SyncTodoCounter(C,O),A.load_server_todo(C,O),A.RemoteTodoSelfCheck(C,O),A.rearrange_group_list(),A.load_posts_counter(),A.update_notifications(C,O),A.set_group_statusBar("online",C,O)})()}load_server_todo(C,O){var B=this;try{let A=this.RemoteTodoCounter[C][O];for(let Q=A.length-1;Q>=0;Q--){let H=`RemoteTodo_${A[Q]}`;this.servers[C][O].client.readStorageObjects(this.servers[C][O].session,{object_ids:[{collection:"server_todo",key:H,user_id:this.servers[C][O].session.user_id}]}).then(function(){var ie=(0,M.A)(function*(je){if(je.objects.length)yield B.modify_remote_info_as_local(je.objects[0].value,C,O);else try{let Ae;B.RemoteTodoCounter[C][O].splice(Q,1);try{Ae=`todo/${H}_${C}_${O}/info.todo`}catch{Ae=`todo/${H}/info.todo`}let it=yield B.indexed.loadTextFromUserPath(Ae),xt=JSON.parse(it);B.deleteTodoFromStorage(!0,xt,!0)}catch{}});return function(je){return ie.apply(this,arguments)}}()).catch(ie=>{console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",ie)})}}catch{}}RemoteTodoSelfCheck(C,O){var B=this;this.indexed.GetFileListFromDB("todo/RemoteTodo_").then(function(){var A=(0,M.A)(function*(Q){for(let H=0,ie=Q.length;H<ie;H++)try{if(Q[H].indexOf("info.todo")>=0){let je=yield B.indexed.loadTextFromUserPath(Q[H]),Ae=JSON.parse(je);Ae.remote.isOfficial==C&&Ae.remote.target==O&&((yield B.servers[C][O].client.readStorageObjects(B.servers[C][O].session,{object_ids:[{collection:"server_todo",key:Ae.id,user_id:B.servers[C][O].session.user_id}]})).objects.length||((yield B.indexed.GetFileListFromDB(`todo/${Ae.id}_${C}_${O}`)).forEach(fr=>B.indexed.removeFileFromUserPath(fr)),Ae.noti_id&&("DesktopPWA"==mt.aH||"MobilePWA"==mt.aH)&&(clearTimeout(B.web_noti_id[Ae.noti_id]),delete B.web_noti_id[Ae.noti_id]),B.noti.ClearNoti(Ae.id),B.global.p5removeTodo&&B.global.p5removeTodo(je)))}}catch{}});return function(Q){return A.apply(this,arguments)}}())}getRemoteTodoCounter(C,O){var B=this;return(0,M.A)(function*(){try{B.RemoteTodoCounter[C][O].sort((H,ie)=>H-ie);let A=B.RemoteTodoCounter[C][O].length;if(!A)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let Q=B.RemoteTodoCounter[C][O][A-1]+1;return B.RemoteTodoCounter[C][O].push(Q),Q}catch{let Q=yield B.SyncTodoCounter(C,O),H=0;return Q&&Q.objects.length&&Q.objects[0].value.data.length?H=Q.objects[0].value.data.pop()+1:B.RemoteTodoCounter[C][O]=[0],H}})()}SyncTodoCounter(C,O){var B=this;return(0,M.A)(function*(){try{let A=yield B.servers[C][O].client.readStorageObjects(B.servers[C][O].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:B.servers[C][O].session.user_id}]});return B.RemoteTodoCounter[C][O]=A.objects[0].value.data,A}catch{}})()}removeRemoteTodoCounter(C,O,B){var A=this;return(0,M.A)(function*(){try{let Q=A.RemoteTodoCounter[C][O].indexOf(B);Q>=0&&A.RemoteTodoCounter[C][O].splice(Q,1)}catch{}yield A.updateRemoteCounter(C,O)})()}updateRemoteCounter(C,O){var B=this;return(0,M.A)(function*(){if(B.RemoteTodoCounter[C][O].length){for(let A=B.RemoteTodoCounter[C][O].length-1;A>=0;A--)(void 0===B.RemoteTodoCounter[C][O][A]||null==B.RemoteTodoCounter[C][O][A])&&B.RemoteTodoCounter[C][O].splice(A,1);B.RemoteTodoCounter[C][O].sort((A,Q)=>A-Q);for(let A=B.RemoteTodoCounter[C][O].length-2;A>=0;A--)B.RemoteTodoCounter[C][O][A+1]==B.RemoteTodoCounter[C][O][A]&&B.RemoteTodoCounter[C][O].splice(A,1)}yield B.servers[C][O].client.writeStorageObjects(B.servers[C][O].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:B.RemoteTodoCounter[C][O]}}])})()}modify_remote_info_as_local(C,O,B){var A=this;return(0,M.A)(function*(){C.remote.name=A.servers[O][B].info.name,C.remote.isOfficial=O,C.remote.target=B,C.remote.type=`${O}/${B}`,A.set_todo_notification(C);try{C.is_me=C.remote.creator_id==A.servers[O][B].session.user_id}catch{}A.global.p5todoAddtodo&&A.global.p5todoAddtodo(JSON.stringify(C));let Q=yield A.indexed.loadTextFromUserPath(`todo/${C.id}_${O}_${B}/info.todo`);if(Q){let H=JSON.parse(Q);if(C.create_at<=H.create_at&&H.modified){if(H.done)return void A.doneTodo(C,!0);if(H.removed)return void A.deleteTodoFromStorage(!0,H,!0);delete H.modified,yield A.indexed.saveTextFileToUserPath(JSON.stringify(H),`todo/${H.id}_${O}_${B}/info.todo`),yield A.servers[H.remote.isOfficial][H.remote.target].client.writeStorageObjects(A.servers[H.remote.isOfficial][H.remote.target].session,[{collection:"server_todo",key:H.id,permission_read:2,permission_write:1,value:H}]).then(ie=>{A.servers[H.remote.isOfficial][H.remote.target].socket.sendMatchState(A.self_match[H.remote.isOfficial][H.remote.target].match_id,vr.MANAGE_TODO,encodeURIComponent(`add,${ie.acks[0].collection},${ie.acks[0].key}`))})}else A.indexed.saveTextFileToUserPath(JSON.stringify(C),`todo/${C.id}_${O}_${B}/info.todo`)}else A.indexed.saveTextFileToUserPath(JSON.stringify(C),`todo/${C.id}_${O}_${B}/info.todo`)})()}doneTodo(C,O=!1){var B=this;return(0,M.A)(function*(){if(C.done=!0,B.global.p5todoAddtodo&&B.global.p5todoAddtodo(JSON.stringify(C)),C.remote){let A;O||(A=yield B.loadingCtrl.create({message:B.lang.text.TodoDetail.WIP}),A.present());try{B.servers[C.remote.isOfficial][C.remote.target]&&B.self_match[C.remote.isOfficial][C.remote.target]&&(yield B.servers[C.remote.isOfficial][C.remote.target].socket.sendMatchState(B.self_match[C.remote.isOfficial][C.remote.target].match_id,vr.MANAGE_TODO,encodeURIComponent(`done,${C.id}`))),O||A.dismiss()}catch{let H;C.modified=!0;try{H=`todo/${C.id}_${C.remote.isOfficial}_${C.remote.target}/info.todo`}catch{H=`todo/${C.id}/info.todo`}return yield B.indexed.saveTextFileToUserPath(JSON.stringify(C),H),O||A.dismiss(),void B.navCtrl.pop()}}yield B.deleteTodoFromStorage(!1,C,O),B.navCtrl.pop()})()}deleteTodoFromStorage(C,O,B=!1){var A=this;return(0,M.A)(function*(){let Q,H;if(B||(Q=yield A.loadingCtrl.create({message:A.lang.text.TodoDetail.WIP}),Q.present()),O.attach&&O.attach.length)for(let je=0,Ae=O.attach.length;je<Ae;je++)O.attach[je].url&&A.global.remove_file_from_storage(O.attach[je].url);if(O.remote)try{if(!A.servers[O.remote.isOfficial][O.remote.target])throw"Server deleted.";try{let je=O.remote.isOfficial,Ae=O.remote.target;if(yield A.servers[je][Ae].client.deleteStorageObjects(A.servers[je][Ae].session,{object_ids:[{collection:"server_todo",key:O.id}]}),O.attach)for(let it=0,xt=O.attach.length;it<xt;it++)O.attach[it].url?A.global.remove_file_from_storage(O.attach[it].url):yield A.sync_remove_file(O.attach[it].path,je,Ae,"todo_attach");C&&(yield A.servers[je][Ae].socket.sendMatchState(A.self_match[je][Ae].match_id,vr.MANAGE_TODO,encodeURIComponent(`delete,${O.id}`)))}catch(je){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",je)}try{if(O.remote.creator_id!=A.servers[O.remote.isOfficial][O.remote.target].session.user_id){let je=(new Date).getTime();try{yield A.servers[O.remote.isOfficial][O.remote.target].client.rpc(A.servers[O.remote.isOfficial][O.remote.target].session,"manage_todo_done_fn",{id:O.id,creator_id:O.remote.creator_id,user_id:A.servers[O.remote.isOfficial][O.remote.target].session.user_id,timestamp:je,isDelete:C})}catch{}try{let Ae=yield A.servers[O.remote.isOfficial][O.remote.target].client.readStorageObjects(A.servers[O.remote.isOfficial][O.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:O.remote.creator_id}]});Ae.objects.length&&(yield A.servers[O.remote.isOfficial][O.remote.target].socket.joinMatch(Ae.objects[0].value.match_id),yield A.servers[O.remote.isOfficial][O.remote.target].socket.sendMatchState(Ae.objects[0].value.match_id,vr.MANAGE_TODO,encodeURIComponent(`worker,${O.id},${A.servers[O.remote.isOfficial][O.remote.target].session.user_id},${C},${je}`)),yield A.servers[O.remote.isOfficial][O.remote.target].socket.leaveMatch(Ae.objects[0].value.match_id))}catch{}}}catch{}if(O.workers){try{yield A.servers[O.remote.isOfficial][O.remote.target].client.rpc(A.servers[O.remote.isOfficial][O.remote.target].session,"manage_todo_delete_fn",{id:O.id,workers:O.workers})}catch{}for(let je=0,Ae=O.workers.length;je<Ae;je++)try{let it=yield A.servers[O.remote.isOfficial][O.remote.target].client.readStorageObjects(A.servers[O.remote.isOfficial][O.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:O.workers[je].id}]});it.objects.length&&(yield A.servers[O.remote.isOfficial][O.remote.target].socket.joinMatch(it.objects[0].value.match_id),yield A.servers[O.remote.isOfficial][O.remote.target].socket.sendMatchState(it.objects[0].value.match_id,vr.MANAGE_TODO,encodeURIComponent(C?`delete,${O.id}`:`done,${O.id}`)),yield A.servers[O.remote.isOfficial][O.remote.target].socket.leaveMatch(it.objects[0].value.match_id))}catch{}}yield A.removeRemoteTodoCounter(O.remote.isOfficial,O.remote.target,Number(O.id.split("_").pop()))}catch{let Ae;O.modified=!0,O.removed=!0;try{Ae=`todo/${O.id}_${O.remote.isOfficial}_${O.remote.target}/info.todo`}catch{Ae=`todo/${O.id}/info.todo`}return yield A.indexed.saveTextFileToUserPath(JSON.stringify(O),Ae),A.removeRegisteredId(O.noti_id),A.noti.ClearNoti(O.noti_id),C&&A.global.p5removeTodo&&A.global.p5removeTodo(JSON.stringify(O)),void(B||Q.dismiss())}try{H=`todo/${O.id}_${O.remote.isOfficial}_${O.remote.target}`}catch{H=`todo/${O.id}`}(yield A.indexed.GetFileListFromDB(H)).forEach(je=>A.indexed.removeFileFromUserPath(je)),O.noti_id&&("Android"==mt.aH||"iOS"==mt.aH||(clearTimeout(A.web_noti_id[O.noti_id]),delete A.web_noti_id[O.noti_id])),A.removeRegisteredId(O.noti_id),A.noti.ClearNoti(O.noti_id),C&&A.global.p5todo&&A.global.p5removeTodo(JSON.stringify(O)),B||Q.dismiss()})()}load_groups(C,O,B,A=!1){var Q=this;return(0,M.A)(function*(){let H=Q.groups[C][O][B].channel_id;try{if("missing"!=Q.groups[C][O][B].status){let ie=yield Q.servers[C][O].client.listGroupUsers(Q.servers[C][O].session,B);if(ie.group_users.length){let je=!0;for(let Ae=0,it=ie.group_users.length;Ae<it;Ae++)if(ie.group_users[Ae].user.id==Q.servers[C][O].session.user_id){switch(ie.group_users[Ae].state){case 0:case 1:case 2:Q.groups[C][O][B].status="online";break;case 3:Q.groups[C][O][B].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",ie.group_users[Ae].state),Q.groups[C][O][B].status="missing"}je=!1,ie.group_users[Ae].is_me=!0;break}je&&(Q.groups[C][O][B].status="missing",H&&(Q.channels_orig[C][O][H].status="missing"),Q.save_channels_with_less_info())}else Q.groups[C][O][B].status="missing",Q.channels_orig[C][O][H].status="missing",Q.save_channels_with_less_info();ie.group_users.length&&(Q.groups[C][O][B].users=ie.group_users);for(let je=0,Ae=ie.group_users.length;je<Ae;je++)if(ie.group_users[je].is_me)ie.group_users[je].user=Q.users.self;else try{if(A)throw"\uc0ac\uc6a9\uc790 \ub370\uc774\ud130\ub9cc \ubc1b\uc74c";let it=yield Q.servers[C][O].client.readStorageObjects(Q.servers[C][O].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:ie.group_users[je].user.id}]});it.objects.length?ie.group_users[je].user.img=it.objects[0].value.img:delete ie.group_users[je].user.img,Q.save_other_user(ie.group_users[je].user,C,O)}catch(it){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",it),Q.save_other_user(ie.group_users[je].user,C,O)}Q.save_groups_with_less_info()}}catch(ie){console.log("load_groups_error: ",ie)}})()}save_self_profile(){let C={...this.users.self};delete C.img,this.indexed.saveTextFileToUserPath(JSON.stringify(C),"servers/self/profile.json")}rearrange_all_user(){let C=[];return Object.keys(this.users).forEach(B=>{"self"!=B&&Object.keys(this.users[B]).forEach(Q=>{Object.keys(this.users[B][Q]).forEach(ie=>{C.push(this.users[B][Q][ie])})})}),C}load_other_user(C,O,B,A=(H=>{}),Q=!1){try{if(this.servers[O][B].session.user_id==C)return A(this.users.self),this.users.self}catch{}if(this.users[O][B]||(this.users[O][B]={}),this.users[O][B][C]&&!Q)return this.users[O][B][C];this.users[O][B][C]={};let H=()=>{this.indexed.loadTextFromUserPath(`servers/${O}/${B}/users/${C}/profile.json`,(je,Ae)=>{if(je&&Ae){let it=JSON.parse(Ae);Object.keys(it).forEach(fr=>this.users[O][B][C][fr]=it[fr])}})};try{this.servers[O][B].client.getUsers(this.servers[O][B].session,[C]).then(je=>{je.users.length?(Object.keys(je.users[0]).forEach(it=>this.users[O][B][C][it]=je.users[0][it]),this.users[O][B][C].img||(this.users[O][B][C].img=null),this.save_other_user(this.users[O][B][C],O,B)):(this.indexed.removeFileFromUserPath(`${O}/${B}/users/${C}`),this.indexed.removeFileFromUserPath(`${O}/${B}/users/${C}/profile.json`),this.indexed.removeFileFromUserPath(`${O}/${B}/users/${C}/profile.img`))}).catch(je=>{H()})}catch{H()}let ie=()=>{this.users[O][B][C].img&&(delete this.users[O][B][C].img,A(this.users[O][B][C]),this.save_other_user(this.users[O][B][C],O,B)),this.indexed.loadTextFromUserPath(`servers/${O}/${B}/users/${C}/profile.img`,(je,Ae)=>{je&&Ae&&(this.users[O][B][C].img=Ae.replace(/"|=|\\/g,""))})};try{this.servers[O][B].client.readStorageObjects(this.servers[O][B].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:C}]}).then(je=>{je.objects.length&&(this.users[O][B][C].img=je.objects[0].value.img),A(this.users[O][B][C]),this.save_other_user(this.users[O][B][C],O,B)}).catch(je=>{ie()})}catch{ie()}return this.users[O][B][C]}save_other_user(C,O,B){if(this.servers[O][B].session.user_id==C.id)return;let A=JSON.parse(JSON.stringify(C));C.id!=this.servers[O][B].session.user_id&&(delete A.img,delete A.online,delete A.todo_checked,delete A.todo_done,this.users[O][B]||(this.users[O][B]={}),this.users[O][B][C.id]||(this.users[O][B][C.id]={}),Object.keys(C).forEach(H=>this.users[O][B][C.id][H]=C[H]),this.indexed.saveTextFileToUserPath(JSON.stringify(A),`servers/${O}/${B}/users/${A.id}/profile.json`),C.img?this.indexed.saveTextFileToUserPath(C.img,`servers/${O}/${B}/users/${C.id}/profile.img`):void 0===C.img&&this.indexed.removeFileFromUserPath(`servers/${O}/${B}/users/${C.id}/profile.img`))}update_notifications(C,O){var B=this;return(0,M.A)(function*(){let A=yield B.servers[C][O].client.listNotifications(B.servers[C][O].session,1);B.noti_origin[C][O]={};for(let Q=0,H=A.notifications.length;Q<H;Q++)B.act_on_notification(A.notifications[Q],C,O);B.rearrange_notifications()})()}rearrange_notifications(){let C=[];return Object.keys(this.noti_origin).forEach(B=>{Object.keys(this.noti_origin[B]).forEach(Q=>{Object.keys(this.noti_origin[B][Q]).forEach(ie=>{C.push(this.noti_origin[B][Q][ie])})})}),C.sort((B,A)=>B.create_time<A.create_time?1:B.create_time>A.create_time?-1:0),this.notifications_rearrange=C,C}add_channel(C,O,B){var A=this;return(0,M.A)(function*(){if(!A.channels_orig[O][B][C.id]){A.channels_orig[O][B][C.id]={};try{A.servers[O][B].socket.sendMatchState(A.self_match[O][B].match_id,vr.ADD_CHANNEL,encodeURIComponent(""))}catch{}}switch(Object.keys(C).forEach(H=>A.channels_orig[O][B][C.id][H]=C[H]),A.channels_orig[O][B][C.id].cnoti_id||(A.channels_orig[O][B][C.id].cnoti_id=A.get_noti_id()),A.channels_orig[O][B][C.id].redirect.type){case 2:let H=A.channels_orig[O][B][C.id].redirect.id;A.channels_orig[O][B][C.id].color=(H.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let ie=A.load_other_user(H,O,B).online?"online":"pending";A.channels_orig[O][B][C.id].status=ie;break;case 3:try{let je=A.channels_orig[O][B][C.id].redirect.id;A.channels_orig[O][B][C.id].color=(je.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),"missing"==A.channels_orig[O][B][C.id].status&&delete A.channels_orig[O][B][C.id].status,A.load_groups(O,B,je,!0)}catch(je){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",je)}break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",A.channels_orig[O][B][C.id])}})()}add_group_user_without_duplicate(C,O,B,A){let Q=!1;this.groups[B][A][O].users||(this.groups[B][A][O].users=[]);for(let H=0,ie=this.groups[B][A][O].users.length;H<ie;H++)if(this.groups[B][A][O].users[H].user.id==C.user.id){Q=!0;break}Q||this.groups[B][A][O].users.push(C)}load_channel_list(){var C=this;return(0,M.A)(function*(){let O=yield C.indexed.loadTextFromUserPath("servers/channels.json");O&&(C.channels_orig=JSON.parse(O),Object.keys(C.channels_orig).forEach(A=>{Object.keys(C.channels_orig[A]).forEach(H=>{Object.keys(C.channels_orig[A][H]).forEach(je=>{try{if(C.channels_orig[A][H][je].volatile)throw delete C.channels_orig[A][H][je],`\ud718\ubc1c\uc131 \ucc44\ub110 \ubb34\uc2dc: ${je}`;2==C.channels_orig[A][H][je].redirect.type&&(C.channels_orig[A][H][je].info=C.load_other_user(C.channels_orig[A][H][je].redirect.id,A,H)),"missing"!=C.channels_orig[A][H][je].status&&delete C.channels_orig[A][H][je].status,0==C.channels_orig[A][H][je].redirect.type&&(C.channels_orig[A][H][je].status="online"),C.channels_orig[A][H][je].is_new&&!C.subscribe_lock&&(C.has_new_channel_msg=!0)}catch(Ae){console.log("\ucc44\ub110 \ubd88\ub7ec\uc624\uae30 \ucde8\uc18c\ub428: ",Ae)}})})}))})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(C){let O=!1;for(let B=0,A=this.registered_id.length;B<A;B++)if(this.registered_id[B]==C){O=!0;break}return O?this.check_If_RegisteredId(C+1):C}removeRegisteredId(C){for(let O=0,B=this.registered_id.length;O<B;O++)if(this.registered_id[O]==C){this.registered_id.splice(O,1);break}}redirect_channel(C,O){var B=this;return(0,M.A)(function*(){if(B.channels_orig[C][O]){let A=Object.keys(B.channels_orig[C][O]);for(let Q=0,H=A.length;Q<H;Q++)try{"missing"!=B.channels_orig[C][O][A[Q]].status&&2===(yield B.servers[C][O].socket.joinChat(B.channels_orig[C][O][A[Q]].redirect.id,B.channels_orig[C][O][A[Q]].redirect.type,B.channels_orig[C][O][A[Q]].redirect.persistence,!1),B.channels_orig[C][O][A[Q]].cnoti_id||(B.channels_orig[C][O][A[Q]].cnoti_id=B.get_noti_id()),B.channels_orig[C][O][A[Q]].color=(B.channels_orig[C][O][A[Q]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),B.channels_orig[C][O][A[Q]].redirect.type)&&(B.servers[C][O].client.readStorageObjects(B.servers[C][O].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:B.channels_orig[C][O][A[Q]].redirect.id}]}).then(ie=>{let je=B.load_other_user(B.channels_orig[C][O][A[Q]].redirect.id,C,O);je.img=ie.objects.length?ie.objects[0].value.img:void 0,B.save_other_user(je,C,O)}),B.channels_orig[C][O][A[Q]].update||B.servers[C][O].client.listChannelMessages(B.servers[C][O].session,A[Q],1,!1).then(ie=>{ie.messages.length&&B.update_from_channel_msg(ie.messages[0],C,O)}))}catch{B.channels_orig[C][O][A[Q]].status="missing"}}})()}rearrange_channels(){let C=[];return Object.keys(this.channels_orig).forEach(B=>{Object.keys(this.channels_orig[B]).forEach(Q=>{Object.keys(this.channels_orig[B][Q]).forEach(ie=>{this.channels_orig[B][Q][ie].server={isOfficial:B,target:Q};try{this.channels_orig[B][Q][ie].server.name=this.servers[B][Q].info.name}catch{this.channels_orig[B][Q][ie].server.name=this.lang.text.Nakama.DeletedServer}try{switch(this.channels_orig[B][Q][ie].info||(this.channels_orig[B][Q][ie].info={}),this.channels_orig[B][Q][ie].info.isOfficial=B,this.channels_orig[B][Q][ie].info.target=Q,this.channels_orig[B][Q][ie].redirect.type){case 1:break;case 2:this.channels_orig[B][Q][ie].info=this.load_other_user(this.channels_orig[B][Q][ie].redirect.id,B,Q),this.channels_orig[B][Q][ie].title=this.channels_orig[B][Q][ie].info.display_name;break;case 3:"missing"!=this.channels_orig[B][Q][ie].status&&(this.groups[B][Q]&&this.groups[B][Q][this.channels_orig[B][Q][ie].redirect.id]?(this.channels_orig[B][Q][ie].info=this.groups[B][Q][this.channels_orig[B][Q][ie].redirect.id],this.channels_orig[B][Q][ie].title=this.groups[B][Q][this.channels_orig[B][Q][ie].redirect.id].name,"missing"==this.groups[B][Q][this.channels_orig[B][Q][ie].redirect.id].status&&(this.channels_orig[B][Q][ie].status=this.groups[B][Q][this.channels_orig[B][Q][ie].redirect.id].status)):this.channels_orig[B][Q][ie].status="missing");break;case 0:this.channels_orig[B][Q][ie].info||(this.channels_orig[B][Q][ie].info={}),this.channels_orig[B][Q][ie].info.name=this.channels_orig[B][Q][ie].title,this.channels_orig[B][Q][ie].info.img||this.indexed.loadTextFromUserPath(`servers/${B}/${Q}/groups/${ie}.img`,(je,Ae)=>{je&&Ae&&(this.channels_orig[B][Q][ie].info.img=Ae)})}}catch{}this.channels_orig[B][Q][ie].last_comment_time||(this.channels_orig[B][Q][ie].last_comment_time=Date.now()),C.push(this.channels_orig[B][Q][ie])})})}),C.sort((B,A)=>{let Q=new Date(B.last_comment_time||0).getTime(),H=new Date(A.last_comment_time||0).getTime();return Q<H?1:Q>H?-1:0}),C.sort((B,A)=>B.is_new?A.is_new?0:-1:A.is_new?1:0),this.channels=C,this.save_channels_with_less_info(),C}save_channels_with_less_info(){let C=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(C).forEach(B=>{Object.keys(C[B]).forEach(Q=>{let H=Object.keys(C[B][Q]);H.forEach(ie=>{delete C[B][Q][ie].img,delete C[B][Q][ie].group,delete C[B][Q][ie].info,delete C[B][Q][ie].update,delete C[B][Q][ie].presences,delete C[B][Q][ie].cnoti_id,delete C[B][Q][ie].status,delete C[B][Q][ie].color,delete C[B][Q][ie].isOfficial,delete C[B][Q][ie].target,C[B][Q][ie].is_new||delete C[B][Q][ie].is_new}),H.length||delete C[B][Q]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(C),"servers/channels.json")}limit_image_size(C,O=(B=>{})){new Ut(A=>{A.setup=()=>{A.noCanvas(),A.loadImage(C,H=>{H.resize(window.innerWidth,window.innerWidth*H.height/H.width),H.canvas.toDataURL().length>245e3&&Q(H),O(H),A.remove()},H=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),A.remove()})};let Q=H=>{H.resize(.95*H.width,.95*H.height),H.canvas.toDataURL().length>245e3&&Q(H)}})}try_add_group(C){var O=this;return new Promise(function(){var B=(0,M.A)(function*(A,Q){let H=O.get_all_online_server();for(let ie=0,je=H.length;ie<je;ie++)try{let Ae=yield H[ie].client.joinGroup(H[ie].session,C.id);if(!Ae)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");Ae=yield H[ie].client.listGroups(H[ie].session,decodeURIComponent(C.name));for(let it=0,xt=Ae.groups.length;it<xt;it++)if(Ae.groups[it].id==C.id){let fr=Ae.groups[it];fr.status=fr.open?"online":"pending",fr.server=O.servers[H[ie].info.isOfficial][H[ie].info.target].info;try{yield O.load_groups(H[ie].info.isOfficial,H[ie].info.target,Ae.groups[it].id,!0)}catch(ke){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",ke)}try{let ke=yield O.servers[H[ie].info.isOfficial][H[ie].info.target].client.readStorageObjects(O.servers[H[ie].info.isOfficial][H[ie].info.target].session,{object_ids:[{collection:"group_public",key:`group_${Ae.groups[it].id}`,user_id:Ae.groups[it].creator_id}]});ke.objects.length?fr.img=ke.objects[0].value.img:delete fr.img}catch(ke){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",ke)}if(O.save_group_info(fr,H[ie].info.isOfficial,H[ie].info.target),yield H[ie].socket.sendMatchState(O.self_match[H[ie].info.isOfficial][H[ie].info.target].match_id,vr.ADD_CHANNEL,encodeURIComponent("")),fr.open){let ke=yield O.join_chat_with_modulation(fr.id,3,H[ie].info.isOfficial,H[ie].info.target);(!O.opened_page_info.channel||O.opened_page_info.channel.isOfficial!=H[ie].info.isOfficial||O.opened_page_info.channel.target!=H[ie].info.target||O.opened_page_info.channel.id!=ke.id)&&O.servers[H[ie].info.isOfficial][H[ie].info.target].client.listChannelMessages(O.servers[H[ie].info.isOfficial][H[ie].info.target].session,ke.id,1,!1).then(He=>{He.messages.length&&O.update_from_channel_msg(He.messages[0],H[ie].info.isOfficial,H[ie].info.target),O.save_group_info(fr,H[ie].info.isOfficial,H[ie].info.target),O.go_to_chatroom_without_admob_act(ke)}).catch(He=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",He)})}A();break}}catch(Ae){switch(Ae.status){case 400:console.log("\uc774\ubbf8 \uadf8\ub8f9\uc5d0 \uac00\uc785\ub418\uc5b4 \uc788\uc74c: 400");let it=yield O.join_chat_with_modulation(C.id,3,H[ie].info.isOfficial,H[ie].info.target);O.servers[H[ie].info.isOfficial][H[ie].info.target].client.listChannelMessages(O.servers[H[ie].info.isOfficial][H[ie].info.target].session,it.id,1,!1).then(xt=>{xt.messages.length&&O.update_from_channel_msg(xt.messages[0],H[ie].info.isOfficial,H[ie].info.target),O.go_to_chatroom_without_admob_act(it)}).catch(xt=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",xt)}),A();break;case 404:console.log("\uc774 \uc11c\ubc84\uc5d0 \uc5c6\ub294 \uadf8\ub8f9: 404");break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",Ae)}}Q(O.lang.text.Nakama.GroupAllListDone)});return function(A,Q){return B.apply(this,arguments)}}())}save_group_info(C,O,B){this.groups[O][B]||(this.groups[O][B]={}),this.groups[O][B][C.id]=C,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(C.img,`servers/${O}/${B}/groups/${C.id}.img`),C.owner==this.servers[O][B].session.user_id&&C.img&&this.servers[O][B].client.writeStorageObjects(this.servers[O][B].session,[{collection:"group_public",key:`group_${C.id}`,value:{img:C.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(C=(()=>{})){let O=JSON.parse(JSON.stringify(this.groups));Object.keys(O).forEach(A=>{Object.keys(O[A]).forEach(H=>{let ie=Object.keys(O[A][H]);ie.forEach(je=>{if(delete O[A][H][je].server,delete O[A][H][je].img,O[A][H][je].users)for(let Ae=0,it=O[A][H][je].users.length;Ae<it;Ae++)if(O[A][H][je].users[Ae]){delete O[A][H][je].users[Ae].state;try{O[A][H][je].users[Ae].user.id?(O[A][H][je].users[Ae].user={id:O[A][H][je].users[Ae].user.id},this.servers[A][H]&&this.servers[A][H].session&&O[A][H][je].users[Ae].user.id==this.servers[A][H].session.user_id&&(O[A][H][je].users[Ae].is_me=!0)):O[A][H][je].users[Ae].is_me||O[A][H][je].users.splice(Ae,1)}catch{}}}),ie.length||delete O[A][H]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(O),"servers/groups.json",()=>{C()})}remove_group_list(C,O,B,A=!1){var Q=this;return(0,M.A)(function*(){try{let H=C.creator_id==Q.servers[O][B].session.user_id;if(!Q.servers[O][B]||!H)throw"not a group creator";try{Q.global.remove_files_from_storage_with_key(`${C.server.useSSL?"https":"http"}://${C.server.address}`,C.id)}catch{}(yield Q.servers[O][B].client.deleteGroup(Q.servers[O][B].session,C.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),Q.remove_channel_files(O,B,C.channel_id,H);try{throw yield Q.servers[O][B].client.deleteStorageObjects(Q.servers[O][B].session,{object_ids:[{collection:"group_public",key:`group_${C.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{let ie=localStorage.getItem("fallback_fs");if(!ie)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let je=ie.split("://"),Ae=je.pop().split(":"),it=je.pop();it?it+=":":it=Q.global.checkProtocolFromAddress(Ae[0])?"https:":"http:",Q.global.remove_files_from_storage_with_key(`${it}//${Ae[0]}:${Ae[1]||9002}/`,`${C.id}_${Q.servers[O][B].session.user_id}`)}catch{}try{Q.global.remove_files_from_storage_with_key(`${C.server.useSSL?"https":"http"}://${C.server.address}`,`${C.id}_${Q.servers[O][B].session.user_id}`)}catch{}}try{if(A){yield Q.indexed.removeFileFromUserPath(`servers/${O}/${B}/groups/${C.id}.img`);try{delete Q.groups[O][B][C.id],Q.save_groups_with_less_info()}catch{}}}catch{}})()}remove_channel_files(C,O,B,A){try{this.servers[C][O].client.rpc(this.servers[C][O].session,"remove_channel_file",{collection:`file_${B.replace(/[.]/g,"_")}`,is_creator:A}).catch(Q=>{})}catch{}}get_group_list_from_server(C,O,B){var A=this;this.servers[C][O].client.listUserGroups(this.servers[C][O].session,this.servers[C][O].session.user_id).then(function(){var Q=(0,M.A)(function*(H){for(let ie=0,je=H.user_groups.length;ie<je;ie++)if(void 0===B||B==H.user_groups[ie].group.id){A.groups[C][O][H.user_groups[ie].group.id]||(A.groups[C][O][H.user_groups[ie].group.id]={});try{let Ae=yield A.servers[C][O].client.readStorageObjects(A.servers[C][O].session,{object_ids:[{collection:"group_public",key:`group_${H.user_groups[ie].group.id}`,user_id:H.user_groups[ie].group.creator_id}]});Ae.objects.length?(A.groups[C][O][H.user_groups[ie].group.id].img=Ae.objects[0].value.img,A.indexed.saveTextFileToUserPath(Ae.objects[0].value.img,`servers/${C}/${O}/groups/${H.user_groups[ie].group.id}.img`)):(delete A.groups[C][O][H.user_groups[ie].group.id].img,A.indexed.removeFileFromUserPath(`servers/${C}/${O}/groups/${H.user_groups[ie].group.id}.img`))}catch(Ae){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Ae)}A.groups[C][O][H.user_groups[ie].group.id]={...A.groups[C][O][H.user_groups[ie].group.id],...H.user_groups[ie].group},B&&"missing"==A.groups[C][O][H.user_groups[ie].group.id].status&&(A.groups[C][O][H.user_groups[ie].group.id].status="online"),yield A.load_groups(C,O,H.user_groups[ie].group.id,!0),yield A.join_chat_with_modulation(H.user_groups[ie].group.id,3,C,O)}A.rearrange_channels(),A.save_groups_with_less_info()});return function(H){return Q.apply(this,arguments)}}()).catch(Q=>{console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Q)})}rearrange_group_list(C=!0){let O=[];return Object.keys(this.groups).forEach(A=>{Object.keys(this.groups[A]).forEach(H=>{Object.keys(this.groups[A][H]).forEach(je=>{try{this.groups[A][H][je].server=this.servers[A][H].info,O.push(this.groups[A][H][je])}catch{this.groups[A][H][je].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:A,target:H},C&&O.push(this.groups[A][H][je])}})})}),O}set_group_statusBar(C,O,B){this.statusBar.groupServer[O][B]&&(this.statusBar.groupServer[O][B]=C),this.catch_group_server_header(C),this.StatusBarChangedCallback&&this.StatusBarChangedCallback()}count_channel_online_member(C,O,B){var A=this;return(0,M.A)(function*(){let Q="pending";try{if("offline"==A.statusBar.groupServer[O][B])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(C.group_id){var H;let ie=null===(H=A.groups[O][B][C.group_id].users)||void 0===H?void 0:H.length;if(A.groups[O][B][C.group_id].max_count<=1)return Q=A.users.self.online?"online":"offline",void("missing"!=A.channels_orig[O][B][C.channel_id||C.id].status&&(A.channels_orig[O][B][C.channel_id||C.id].status=Q));if(void 0!==ie)for(let je=0;je<ie;je++){let Ae=A.groups[O][B][C.group_id].users[je].user.id||A.servers[O][B].session.user_id;if(Ae!=A.servers[O][B].session.user_id&&A.load_other_user(Ae,O,B).online){Q="online";break}}else Q="pending"}else if(C.user_id_one)if(A.channels_orig[O][B][C.channel_id||C.id]){let ie=A.channels_orig[O][B][C.channel_id||C.id].redirect.id,je=yield A.servers[O][B].client.getUsers(A.servers[O][B].session,[ie]);Object.keys(je.users[0]).forEach(it=>{A.users[O][B][ie][it]=je.users[0][it]}),Q=A.load_other_user(ie,O,B).online?"online":"pending"}else try{let ie=yield A.join_chat_with_modulation(C.user_id_one!=A.servers[O][B].session.user_id?C.user_id_one:C.user_id_two,2,O,B);Q=A.load_other_user(A.channels_orig[O][B][ie.id].redirect.id,O,B).online?"online":"pending"}catch(ie){console.error(ie)}}catch{Q="offline"==A.statusBar.groupServer[O][B]?"offline":"missing"}A.channels_orig[O][B][C.channel_id||C.id]||(A.channels_orig[O][B][C.channel_id||C.id]={}),"missing"!=A.channels_orig[O][B][C.channel_id||C.id].status&&(A.channels_orig[O][B][C.channel_id||C.id].status=Q)})()}remove_server(C,O){var B=this;return(0,M.A)(function*(){let A=yield B.loadingCtrl.create({message:B.lang.text.TodoDetail.WIP});A.present(),A.message=B.lang.text.Nakama.RemovingAccount;let Q=B.servers[C][O].info;try{let je=B.servers[C][O].session.user_id,Ae=`${Q.useSSL?"https":"http"}://${Q.address}`;try{B.global.remove_files_from_storage_with_key(Ae,je)}catch{}try{let it=localStorage.getItem("fallback_fs");if(!it)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let xt=it.split("://"),fr=xt.pop().split(":"),ke=xt.pop();ke?ke+=":":ke=B.global.checkProtocolFromAddress(fr[0])?"https:":"http:",B.global.remove_files_from_storage_with_key(`${ke}//${fr[0]}:${fr[1]||9002}/`,je)}catch{}B.servers[C][O].client.rpc(B.servers[C][O].session,"remove_account_fn",{user_id:je}).catch(it=>{})}catch{}if(A.message=B.lang.text.Nakama.LogoutAccount,"online"==B.statusBar.groupServer[C][O])try{B.servers[C][O].socket.disconnect(!0)}catch{B.link_group(C,O,!1)}A.message=B.lang.text.Nakama.RemovingNotification;try{delete B.noti_origin[C][O]}catch{}B.rearrange_notifications(),A.message=B.lang.text.Nakama.MissingChannels;try{let je=Object.keys(B.channels_orig[C][O]);B.channels_orig.deleted||(B.channels_orig.deleted={}),B.channels_orig.deleted[O]||(B.channels_orig.deleted[O]={}),je.forEach(Ae=>{B.channels_orig[C][O][Ae].info.status="missing",B.channels_orig[C][O][Ae].status="missing",B.channels_orig.deleted[O][Ae]=JSON.parse(JSON.stringify(B.channels_orig[C][O][Ae]))}),delete B.channels_orig[C][O]}catch{}let H=yield B.indexed.GetFileListFromDB(`servers/${C}/${O}`);for(let je=0,Ae=H.length;je<Ae;je++){let it=yield B.indexed.GetFileInfoFromDB(H[je]),xt=H[je].replace("/official/","/deleted/").replace(`/${C}/`,"/deleted/");yield B.indexed.saveFileToUserPath(it,xt),yield B.indexed.removeFileFromUserPath(H[je]),A.message=`${B.lang.text.Nakama.MissingChannelFiles}: ${H[je]}`}A.message=B.lang.text.Nakama.MissingGroups;try{B.groups.deleted||(B.groups.deleted={}),B.groups.deleted[O]||(B.groups.deleted[O]={}),B.groups.deleted[O]=JSON.parse(JSON.stringify(B.groups[C][O])),Object.keys(B.groups.deleted[O]).forEach(Ae=>{B.groups.deleted[O][Ae].server.name=B.lang.text.Nakama.DeletedServer,B.groups.deleted[O][Ae].server.isOfficial="deleted",B.groups.deleted[O][Ae].status="missing",B.groups.deleted[O][Ae]=JSON.parse(JSON.stringify(B.groups[C][O][Ae]))}),delete B.groups[C][O]}catch{}A.message=B.lang.text.Nakama.DeletingServerInfo,B.set_group_statusBar("offline",C,O),delete B.statusBar.groupServer[C][O],yield B.RemoveWebRTCServer(B.servers[C][O].info.address),delete B.servers[C][O],B.save_groups_with_less_info(),B.indexed.saveTextFileToUserPath(JSON.stringify(B.statusBar.groupServer),"servers/list.json");let ie=yield B.indexed.loadTextFromUserPath("servers/list_detail.csv");if(ie){let je=ie.split("\n");for(let Ae=0,it=je.length;Ae<it;Ae++)if(je[Ae].split(",")[3]==O){je.splice(Ae,1);break}B.indexed.saveTextFileToUserPath(je.join("\n"),"servers/list_detail.csv")}B.noti.ClearNoti(9),A.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0)}connect_to(C="official",O="default",B){var A=this;this.servers[C][O].socket.connect(this.servers[C][O].session,!0).then(Q=>{let H=this.servers[C][O].socket;Object.keys(this.on_socket_connected).forEach(je=>this.on_socket_connected[je]()),H.onnotification=je=>{this.act_on_notification(je,C,O),this.rearrange_notifications()},H.onmatchpresence=je=>{void 0!==je.joins?je.joins.forEach(Ae=>{}):void 0!==je.leaves&&je.leaves.forEach(Ae=>{this.servers[C][O].session.user_id==Ae.user_id&&this.WebRTCService&&"data"==this.WebRTCService.TypeIn&&this.WebRTCService.close_webrtc(!1,!0)})},H.onchannelpresence=je=>{if(void 0!==je.joins)je.joins.forEach(Ae=>{this.servers[C][O].session.user_id!=Ae.user_id&&(this.load_other_user(Ae.user_id,C,O).online=!0)}),this.count_channel_online_member(je,C,O);else if(void 0!==je.leaves){let Ae=[];je.leaves.forEach(it=>{this.servers[C][O].session.user_id!=it.user_id&&this.servers[C][O].client.getUsers(this.servers[C][O].session,[it.user_id]).then(xt=>{let fr=Object.keys(xt.users[0]);delete this.load_other_user(it.user_id,C,O).online,fr.forEach(ke=>{this.users[C][O][it.user_id][ke]=xt.users[0][ke]}),Ae.push(it.user_id),Ae.forEach(ke=>this.load_other_user(ke,C,O)),this.count_channel_online_member(je,C,O),this.socket_reactive.WEBRTC_CHECK_ONLINE&&this.socket_reactive.WEBRTC_CHECK_ONLINE(it)})})}this.socket_reactive["others-online"]&&this.socket_reactive["others-online"]()},H.onmatchdata=function(){var je=(0,M.A)(function*(Ae){Ae.data_str=decodeURIComponent((new TextDecoder).decode(Ae.data));let it=A.servers[C][O].session.user_id==Ae.presence.user_id;switch(Ae.op_code){case vr.MANAGE_TODO:{let xt=Ae.data_str.split(",");switch(xt[0]){case"add":A.servers[C][O].client.readStorageObjects(A.servers[C][O].session,{object_ids:[{collection:xt[1],key:xt[2],user_id:A.servers[C][O].session.user_id}]}).then(function(){var He=(0,M.A)(function*(vt){if(vt.objects.length){try{let Ft,dt=vt.objects[0].value;try{if(Ft=yield A.indexed.loadTextFromUserPath(`todo/${dt.id}_${C}_${O}/info.todo`),!Ft)throw"empty"}catch{Ft=yield A.indexed.loadTextFromUserPath(`todo/${dt.id}/info.todo`)}let ar=JSON.parse(Ft);A.removeRegisteredId(ar.noti_id),A.noti.ClearNoti(ar.noti_id)}catch{}yield A.modify_remote_info_as_local(vt.objects[0].value,C,O);let Ge=vt.objects[0].value;A.noti.ClearNoti(Ge.noti_id),A.set_todo_notification(Ge),A.p5toast.show({text:`${A.lang.text.Main.RequestTodo}: ${Ge.title}`})}});return function(vt){return He.apply(this,arguments)}}());break;case"done":A.indexed.loadTextFromUserPath(`todo/${xt[1]}_${C}_${O}/info.todo`,function(){var He=(0,M.A)(function*(vt,Ge){if(vt&&Ge){let dt=JSON.parse(Ge);dt.done=!0,yield A.modify_remote_info_as_local(dt,C,O),A.indexed.GetFileListFromDB(`todo/${dt.id}`,Ft=>{Ft.forEach(ar=>A.indexed.removeFileFromUserPath(ar)),dt.noti_id&&("DesktopPWA"==mt.aH||"MobilePWA"==mt.aH)&&(clearTimeout(A.web_noti_id[dt.noti_id]),delete A.web_noti_id[dt.noti_id]),A.removeRegisteredId(dt.noti_id),A.noti.ClearNoti(dt.noti_id),A.SyncTodoCounter(C,O)})}else A.indexed.loadTextFromUserPath(`todo/${xt[1]}/info.todo`,function(){var dt=(0,M.A)(function*(Ft,ar){if(Ft&&ar){let _r=JSON.parse(ar);_r.done=!0,yield A.modify_remote_info_as_local(_r,C,O),A.indexed.GetFileListFromDB(`todo/${_r.id}`,Pr=>{Pr.forEach(tn=>A.indexed.removeFileFromUserPath(tn)),_r.noti_id&&("DesktopPWA"==mt.aH||"MobilePWA"==mt.aH)&&(clearTimeout(A.web_noti_id[_r.noti_id]),delete A.web_noti_id[_r.noti_id]),A.removeRegisteredId(_r.noti_id),A.noti.ClearNoti(_r.noti_id),A.SyncTodoCounter(C,O)})}});return function(Ft,ar){return dt.apply(this,arguments)}}())});return function(vt,Ge){return He.apply(this,arguments)}}());break;case"delete":A.indexed.loadTextFromUserPath(`todo/${xt[1]}_${C}_${O}/info.todo`,(He,vt)=>{if(He&&vt){let Ge=JSON.parse(vt);A.indexed.GetFileListFromDB(`todo/${Ge.id}`,dt=>{dt.forEach(Ft=>A.indexed.removeFileFromUserPath(Ft)),Ge.noti_id&&("DesktopPWA"==mt.aH||"MobilePWA"==mt.aH)&&(clearTimeout(A.web_noti_id[Ge.noti_id]),delete A.web_noti_id[Ge.noti_id]),A.removeRegisteredId(Ge.noti_id),A.noti.ClearNoti(Ge.noti_id),A.global.p5removeTodo&&A.global.p5removeTodo(JSON.stringify(Ge))}),A.SyncTodoCounter(C,O)}else A.indexed.loadTextFromUserPath(`todo/${xt[1]}/info.todo`,(Ge,dt)=>{if(Ge&&dt){let Ft=JSON.parse(dt);A.indexed.GetFileListFromDB(`todo/${Ft.id}`,ar=>{ar.forEach(_r=>A.indexed.removeFileFromUserPath(_r)),Ft.noti_id&&("DesktopPWA"==mt.aH||"MobilePWA"==mt.aH)&&(clearTimeout(A.web_noti_id[Ft.noti_id]),delete A.web_noti_id[Ft.noti_id]),A.removeRegisteredId(Ft.noti_id),A.noti.ClearNoti(Ft.noti_id),A.global.p5removeTodo&&A.global.p5removeTodo(JSON.stringify(Ft))}),A.SyncTodoCounter(C,O)}})});break;case"worker":let fr="true"==xt[3];A.AddTodoManageUpdateAct&&A.AddTodoManageUpdateAct(xt[1],xt[2],fr,Number(xt[4])),A.p5toast.show({text:`${fr?A.lang.text.Main.WorkerAbandon:A.lang.text.Main.WorkerDone}: ${A.GetOverrideName(xt[2],C,O)||A.users[C][O][xt[2]].display_name}`}),A.indexed.loadTextFromUserPath(`todo/${xt[1]}_${C}_${O}/info.todo`,function(){var He=(0,M.A)(function*(vt,Ge){if(vt&&Ge){let dt=JSON.parse(Ge);for(let Ft=0,ar=dt.workers.length;Ft<ar;Ft++)if((dt.workers[Ft].user_id||dt.workers[Ft].id)==xt[2]){dt.workers[Ft].isDelete="true"==xt[3],dt.workers[Ft].timestamp=Number(xt[4]);break}yield A.modify_remote_info_as_local(dt,C,O),A.SyncTodoCounter(C,O)}else A.indexed.loadTextFromUserPath(`todo/${xt[1]}/info.todo`,function(){var dt=(0,M.A)(function*(Ft,ar){if(Ft&&ar){let _r=JSON.parse(ar);for(let Pr=0,tn=_r.workers.length;Pr<tn;Pr++)if((_r.workers[Pr].user_id||_r.workers[Pr].id)==xt[2]){_r.workers[Pr].isDelete="true"==xt[3],_r.workers[Pr].timestamp=Number(xt[4]);break}yield A.modify_remote_info_as_local(_r,C,O),A.SyncTodoCounter(C,O)}});return function(Ft,ar){return dt.apply(this,arguments)}}())});return function(vt,Ge){return He.apply(this,arguments)}}());break;default:console.log("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",Ae)}A.SyncTodoCounter(C,O)}break;case vr.EDIT_PROFILE:switch(Ae.data_str){case"info":A.servers[C][O].client.getAccount(A.servers[C][O].session).then(xt=>{Object.keys(xt.user).forEach(ke=>A.users.self[ke]=xt.user[ke]),A.save_self_profile()});break;case"image":A.servers[C][O].client.readStorageObjects(A.servers[C][O].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:A.servers[C][O].session.user_id}]}).then(xt=>{xt.objects.length?(A.indexed.saveTextFileToUserPath(JSON.stringify(xt.objects[0].value.img),"servers/self/profile.img"),A.users.self.img=xt.objects[0].value.img.replace(/"|=|\\/g,"")):A.indexed.removeFileFromUserPath("servers/self/profile.img")});break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",Ae)}break;case vr.ADD_CHANNEL:A.get_group_list_from_server(C,O);break;case vr.NAME_OVERRIDED:it&&A.LoadOverrideName(C,O);break;case vr.WEBRTC_INIT_REQ_SIGNAL:(A.WebRTCService&&"data"==A.WebRTCService.TypeIn||!it)&&A.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&A.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case vr.WEBRTC_REPLY_INIT_SIGNAL:(A.WebRTCService&&"data"==A.WebRTCService.TypeIn||!it)&&A.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&A.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(Ae.data_str);break;case vr.WEBRTC_RECEIVE_ANSWER:(A.WebRTCService&&"data"==A.WebRTCService.TypeIn||!it)&&A.socket_reactive.WEBRTC_RECEIVE_ANSWER&&A.socket_reactive.WEBRTC_RECEIVE_ANSWER(Ae.data_str);break;case vr.WEBRTC_ICE_CANDIDATES:(A.WebRTCService&&"data"==A.WebRTCService.TypeIn||!it)&&A.socket_reactive.WEBRTC_ICE_CANDIDATES&&A.socket_reactive.WEBRTC_ICE_CANDIDATES(Ae.data_str);break;case vr.WEBRTC_NEGOCIATENEEDED:(A.WebRTCService&&"data"==A.WebRTCService.TypeIn||!it)&&A.socket_reactive.WEBRTC_NEGOCIATENEEDED&&A.socket_reactive.WEBRTC_NEGOCIATENEEDED(Ae.data_str);break;case vr.WEBRTC_RECEIVED_CALL_SELF:A.WebRTCService&&"data"!=A.WebRTCService.TypeIn&&A.socket_reactive.WEBRTC_RECEIVED_CALL_SELF&&A.socket_reactive.WEBRTC_RECEIVED_CALL_SELF();break;case vr.WEBRTC_HANGUP:(A.WebRTCService&&"data"==A.WebRTCService.TypeIn||A.servers[C][O].session.user_id!=Ae.presence.user_id)&&A.WebRTCService&&(yield A.WebRTCService.close_webrtc(),A.VoidDrawInitCallBack=null);break;case vr.VOIDDRAW_INIT:(A.WebRTCService&&"data"==A.WebRTCService.TypeIn||A.servers[C][O].session.user_id!=Ae.presence.user_id)&&A.WebRTCService&&A.VoidDrawInitCallBack&&A.VoidDrawInitCallBack(JSON.parse(Ae.data_str));break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",Ae)}});return function(Ae){return je.apply(this,arguments)}}(),H.onchannelmessage=je=>{this.channels_orig[C][O][je.channel_id]?(this.update_from_channel_msg(je,C,O),this.rearrange_channels(),je.content.match&&je.sender_id!=this.servers[C][O].session.user_id&&this.JoinWebRTCMatch(je,C,O,this.channels_orig[C][O][je.channel_id])):je.user_id_one?this.join_chat_with_modulation(je.sender_id,2,C,O):je.group_id&&this.join_chat_with_modulation(je.group_id,3,C,O)},H.ondisconnect=je=>{this.OnSocketDisconnect(C,O)},B(H)})}OnSocketDisconnect(C,O){this.link_group(C,O,!1),Object.keys(this.on_socket_disconnected).forEach(A=>this.on_socket_disconnected[A]())}saveListedMessage(C,O,B,A){let Q={},H=JSON.parse(JSON.stringify(C));for(;H.length;){Q.target!=H[0].msgDate&&(Q.msg&&this.saveMessageByDate(Q,O,B,A),Q.target=H[0].msgDate,Q.msg=[]);let ie=H.shift();delete ie.content.text,delete ie.content.img,delete ie.content.local_comp,delete ie.content.path,delete ie.msgDate,delete ie.displayDate,delete ie.msgTime,delete ie.isLastRead,delete ie.showInfo,Q.msg.push(ie)}this.saveMessageByDate(Q,O,B,A)}saveMessageByDate(C,O,B,A){if(!C.msg||!C.msg.length)return;let Q=JSON.parse(JSON.stringify(C)),H=Q.target.split("-");this.indexed.loadTextFromUserPath(`servers/${B}/${A}/channels/${O.id}/chats/${H[0]}/${H[1]}/${H[2]}`,(ie,je)=>{let Ae=[],it=[];ie&&je&&(Ae=JSON.parse(je)),Q.msg.forEach(fr=>{let ke=!1;for(let He=0,vt=Ae.length;He<vt;He++)if(Ae[He].message_id==fr.message_id){ke=!0,Ae[He]=fr;break}ke||it.push(fr)});let xt=[...Ae,...it];xt.sort((fr,ke)=>fr.create_time<ke.create_time?-1:fr.create_time>ke.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(xt),`servers/${B}/${A}/channels/${O.id}/chats/${H[0]}/${H[1]}/${H[2]}`)})}CatchQouteMsgUserName(C,O,B){if(C.content.qoute)try{if("local"==C.content.qoute.user_id)throw"\ub85c\uceec \uba54\uc2dc\uc9c0";C.content.qoute.username=this.users[O][B][C.content.qoute.user_id].display_name}catch{C.content.qoute.username=this.users.self.display_name}}ModulateTimeDate(C){let O=new Date(C.create_time),B=O.toLocaleDateString(this.lang.lang);C.displayDate=B,C.msgDate=`${O.getFullYear()}-${("00"+(O.getMonth()+1)).slice(-2)}-${("00"+O.getDate()).slice(-2)}`,C.msgTime=`${("00"+O.getHours()).slice(-2)}:${("00"+O.getMinutes()).slice(-2)}`}join_chat_with_modulation(C,O,B,A,Q=!1){var H=this;return(0,M.A)(function*(){H.channels_orig[B][A]||(H.channels_orig[B][A]={});let ie=yield H.servers[B][A].socket.joinChat(C,O,!0,!1);try{switch(ie.redirect={id:C,type:O,persistence:!0},ie.server={isOfficial:B,target:A},O){case 2:ie.title=H.GetOverrideName(C,B,A)||H.load_other_user(C,B,A).display_name,ie.info=H.load_other_user(C,B,A);break;case 3:ie.title=H.groups[B][A][C].name,ie.info=H.groups[B][A][C],H.groups[B][A][C].channel_id=ie.id,H.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",O)}return yield H.add_channel(ie,B,A),Q&&H.rearrange_channels(),(!H.opened_page_info.channel||H.opened_page_info.channel.isOfficial!=B||H.opened_page_info.channel.target!=A||H.opened_page_info.channel.id!=ie.id)&&H.servers[B][A].client.listChannelMessages(H.servers[B][A].session,ie.id,1,!1).then(function(){var je=(0,M.A)(function*(Ae){try{Ae.messages.length&&(yield H.update_from_channel_msg(Ae.messages[0],B,A,Q))}catch{}});return function(Ae){return je.apply(this,arguments)}}()).catch(je=>{console.error("\ub9c8\uc9c0\ub9c9 \uba54\uc2dc\uc9c0 \ubc1b\uc544\uc11c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",je)}),H.save_groups_with_less_info(),ie}catch(je){let Ae="";throw Ae=3===je.code?H.lang.text.Nakama.AddChannelFailed_Code3:je.message,H.p5toast.show({text:`${H.lang.text.Nakama.AddChannelFailed}: ${Ae}`}),`${H.lang.text.Nakama.AddChannelFailed}: ${Ae}`}})()}update_from_channel_msg(C,O,B,A=!1){var Q=this;return(0,M.A)(function*(){let H=C.sender_id==Q.servers[O][B].session.user_id,ie=C.message_id!=Q.channels_orig[O][B][C.channel_id].last_comment_id,je=Q.modulation_channel_message(C,O,B),Ae=!1;switch(je.code){case 0:je.content.gupdate&&(Q.update_group_info(je,O,B),Ae=!0),je.content.user_update&&(Q.update_group_user_info(je,O,B),Ae=!0),ie&&!Ae&&(Q.channels_orig[O][B][C.channel_id].is_new=!H,Q.subscribe_lock||(Q.has_new_channel_msg=!H));break;case 1:case 2:break;case 3:case 4:case 5:case 6:if(Q.socket_reactive.group_detail&&Q.socket_reactive.group_detail.update_GroupUsersList(O,B),3==je.code||4==je.code)break;if(Q.noti_origin[O]&&Q.noti_origin[O][B]){let xt=Object.keys(Q.noti_origin[O][B]),fr=[];xt.forEach(ke=>{-5==Q.noti_origin[O][B][ke].code&&Q.noti_origin[O][B][ke].sender_id==je.sender_id&&fr.push(ke)});try{(yield Q.servers[O][B].client.deleteNotifications(Q.servers[O][B].session,fr))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),Q.update_notifications(O,B)}catch(ke){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ke)}}H&&(Q.channels_orig[O][B][je.channel_id].status="missing");break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",je)}if(!H&&ie&&!Ae){let xt={id:Q.channels_orig[O][B][C.channel_id].cnoti_id,title:Q.channels_orig[O][B][C.channel_id].info.name||Q.GetOverrideName(Q.channels_orig[O][B][C.channel_id].info.id,O,B)||Q.channels_orig[O][B][C.channel_id].info.display_name||Q.channels_orig[O][B][C.channel_id].title||Q.lang.text.ChatRoom.noname_chatroom,body:je.content.msg||je.content.noti||(je.content.match?Q.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${Q.lang.text.ChatRoom.attachments})`,smallIcon_ln:"diychat"};je.content.url&&je.content.type&&0==je.content.type.indexOf("image/")&&(xt.image=je.content.url),Q.noti.PushLocal(xt,Q.channels_orig[O][B][C.channel_id].cnoti_id,fr=>{Q.go_to_chatroom_without_admob_act(Q.channels_orig[O][B][C.channel_id])})}H&&Q.noti.ClearNoti(Q.channels_orig[O][B][C.channel_id].cnoti_id),Q.ModulateTimeDate(je),Q.check_sender_and_show_name(je,O,B);let it=C.content.msg;Q.content_to_hyperlink(je),!A&&Q.channels_orig[O][B][je.channel_id].update&&Q.channels_orig[O][B][je.channel_id].update(je),Ae||(Q.channels_orig[O][B][C.channel_id].last_comment_time=C.update_time,Q.channels_orig[O][B][je.channel_id].last_comment_id=je.message_id),Q.saveListedMessage([je],Q.channels_orig[O][B][je.channel_id],O,B),Ae||2!=je.code&&(Q.channels_orig[O][B][je.channel_id].last_comment=(je.content.filename?`(${Q.lang.text.ChatRoom.attachments}) `:"")+(it||je.content.noti||(je.content.match?Q.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||""))})()}rearrange_posts(){this.posts.length=0;let C=Object.keys(this.posts_orig);for(let O=0,B=C.length;O<B;O++){let A=Object.keys(this.posts_orig[C[O]]);for(let Q=0,H=A.length;Q<H;Q++){let ie=Object.keys(this.posts_orig[C[O]][A[Q]]);for(let je=0,Ae=ie.length;je<Ae;je++){let it=Object.keys(this.posts_orig[C[O]][A[Q]][ie[je]]);for(let xt=0,fr=it.length;xt<fr;xt++)this.posts.push(this.posts_orig[C[O]][A[Q]][ie[je]][it[xt]])}}}this.posts.sort((O,B)=>O.create_time<B.create_time?1:O.create_time>B.create_time?-1:0)}EditPost(C){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(C),this.socket_reactive.try_load_post&&this.socket_reactive.try_load_post()}RemovePost(C,O=!1){var B=this;return(0,M.A)(function*(){let A,Q=C.server.isOfficial,H=C.server.target;O||(A=yield B.loadingCtrl.create({message:B.lang.text.PostViewer.RemovePost}));let ie=yield B.indexed.GetFileListFromDB(`servers/${Q}/${H}/posts/${C.creator_id}/${C.id}`);A&&A.present();for(let je=0,Ae=ie.length;je<Ae;je++)A&&(A.message=`${B.lang.text.PostViewer.RemovePost}: ${ie[je]}`),yield B.indexed.removeFileFromUserPath(ie[je]);if(C.OutSource&&B.global.remove_file_from_storage(C.OutSource),C.attachments)for(let je=0,Ae=C.attachments.length;je<Ae;je++)try{if(A&&(A.message=`${B.lang.text.PostViewer.RemovePost}: ${C.attachments[je].filename}`),C.attachments[je].url)B.global.remove_file_from_storage(C.attachments[je].url);else try{C.server.local||(yield B.sync_remove_file(`${C.id}_attach_${je}`,Q,H,"server_post","",`${C.id}_attach_${je}`))}catch{}}catch{}if(C.mainImage)try{if(C.mainImage.url)B.global.remove_file_from_storage(C.mainImage.url);else try{C.server.local||(yield B.sync_remove_file(`${C.id}_mainImage`,Q,H,"server_post","",`${C.id}_mainImage`))}catch{}}catch{}try{C.server.local||(yield B.sync_remove_file(C.id,Q,H,"server_post","",`${C.id}`))}catch{}A&&A.dismiss();try{delete B.posts_orig[Q][H][C.creator_id][C.id]}catch{}if(B.rearrange_posts(),B.socket_reactive.try_load_post&&B.socket_reactive.try_load_post(),!O)try{yield B.servers[Q][H].client.rpc(B.servers[Q][H].session,"send_noti_all_fn",{noti_id:vr.MANAGE_POST,type:"remove",user_id:C.creator_id,post_id:C.id,persistent:!1})}catch{}})()}JoinWebRTCMatch(C,O,B,A){var Q=this;return(0,M.A)(function*(){try{try{Q.WebRTCService.CurrentMatch=yield Q.servers[O][B].socket.joinMatch(C.content.match)}catch(H){throw H}Q.WebRTCService&&(yield Q.WebRTCService.initialize("audio",void 0,{isOfficial:O,target:B,channel_id:A.id,user_id:A.info.id||A.info.user_id},!1)),yield Q.servers[O][B].socket.sendMatchState(C.content.match,vr.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(H){4===H.code?Q.p5toast.show({text:Q.lang.text.ChatRoom.MatchExpiration}):(console.log("\ucc38\uc5ec \uc2e4\ud328: ",H),Q.p5toast.show({text:`${Q.lang.text.ChatRoom.JoinMatchFailed}: ${H}`}))}})()}content_to_hyperlink(C){if(!C.content.msg||"object"==typeof C.content.msg)return;let O=C.content.msg.split("\n");C.content.msg=[],O.forEach(B=>{let A={text:B};B&&C.content.msg.push([A]);try{let Q=A.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");A.text.length==Q.length&&(A.size=48)}catch{}});for(let B=0,A=C.content.msg.length;B<A;B++)if(C.content.msg[B][0].text){let Q=C.content.msg[B][0].text.indexOf("http://");if(Q<0&&(Q=C.content.msg[B][0].text.indexOf("https://")),Q>=0){let ie,H=[];0!=Q&&(ie=C.content.msg[B][0].text.substring(0,Q),H.push({text:ie}));let it,xt,je=C.content.msg[B][0].text.substring(Q),Ae=je.indexOf(" ");Ae<0?(it=je,H.push({text:it,href:!0})):(it=je.substring(0,Ae),H.push({text:it,href:!0}),xt=je.substring(Ae),H.push({text:xt})),C.content.msg[B]=H}}}check_sender_and_show_name(C,O,B){try{C.color=(C.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),C.sender_id==this.servers[O][B].session.user_id?(C.user_display_name=this.users.self.display_name,C.is_me=!0):C.user_display_name=this.load_other_user(C.sender_id,O,B).display_name,C.user_display_name=C.user_display_name||this.lang.text.Profile.noname_user}catch(A){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",A)}}modulation_channel_message(C,O,B){this.translate_updates(C);let Q,A=!1;try{A=C.sender_id==this.servers[O][B].session.user_id}catch{A=C.content.user_update}try{Q=A?this.users.self:this.load_other_user(C.sender_id,O,B)}catch{Q=this.users.self}switch(C.code){case 0:if(C.content.filename){try{C.content.transfer_index=this.OnTransfer[O][B][C.channel_id][C.message_id]}catch{}try{this.OnTransferMessage[C.message_id]=C}catch{}}break;case 1:case 2:break;case 3:case 4:C.content.user_update=Q,C.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${Q.display_name}`;break;case 5:C.content.user_update=Q,C.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${Q.display_name}`;break;case 6:C.content.user_update=Q,C.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${Q.display_name}`;break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",C)}return C}update_group_info(C,O,B){switch(this.translate_updates(C),C.content.gupdate){case"remove":case"force_remove":this.groups[O][B][C.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[O][B][C.channel_id].status="missing",this.servers[O][B].socket.leaveChat(C.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",C)}}translate_updates(C){if(C.content.user_update)switch(C.content.user_update){case"modify_data":C.content.noti=`${this.lang.text.Profile.user_profile_changed}${C.content.noti_form}`;break;case"modify_img":C.content.noti=`${this.lang.text.Profile.user_image_changed}${C.content.noti_form}`}if(C.content.gupdate)switch(C.content.gupdate){case"remove":C.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":C.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(C,O,B){var A=this;return(0,M.A)(function*(){if(A.translate_updates(C),A.servers[O][B].session.user_id!=C.sender_id)switch(C.content.user_update){case"modify_data":try{let Q=yield A.servers[O][B].client.getUsers(A.servers[O][B].session,[C.sender_id]);Q.users.length?A.save_other_user(Q.users[0],O,B):(delete A.users[O][B][C.sender_id],A.indexed.removeFileFromUserPath(`servers/${O}/${B}/users/${C.sender_id}/profile.json`))}catch(Q){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",Q)}break;case"modify_img":try{let Q=yield A.servers[O][B].client.readStorageObjects(A.servers[O][B].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:C.sender_id}]});if(Q.objects.length)try{if(A.servers[O][B].session.user_id==C.sender_id)throw"me";A.load_other_user(C.sender_id,O,B).img=Q.objects[0].value.img.replace(/"|\\|=/g,""),A.indexed.saveTextFileToUserPath(A.users[O][B][C.sender_id].img,`servers/${O}/${B}/users/${C.sender_id}/profile.img`)}catch{A.users.self.img=Q.objects[0].value.img.replace(/"|\\|=/g,""),yield A.indexed.saveTextFileToUserPath(A.users.self.img,"servers/self/profile.img")}else try{if(A.servers[O][B].session.user_id==C.sender_id)throw"me";delete A.users[O][B][C.sender_id].img,A.indexed.removeFileFromUserPath(`servers/${O}/${B}/users/${C.sender_id}/profile.img`)}catch{delete A.users.self.img}}catch(Q){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",Q)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",C)}})()}check_notifications(C,O,B){var A=this;return(0,M.A)(function*(){let Q=A.servers[O][B];switch(C.code){case 0:case-2:break;case 1:let H=`<div style="text-align: center"><img src="${decodeURIComponent(C.content.uri)}" alt="noti_image" style="border-radius: 2px"></div>`,ie=`<div>${decodeURIComponent(A.global.HTMLEncode(C.content.msg))}</div>`;A.alertCtrl.create({header:A.servers[O][B].info.name,message:new yt.Vk(C.content.uri?H+ie:ie),buttons:[{text:A.lang.text.Nakama.LocalNotiOK,handler:(Ae=(0,M.A)(function*(){try{yield A.servers[O][B].client.deleteNotifications(A.servers[O][B].session,[C.id])}catch{}A.noti.ClearNoti(C.code),A.update_notifications(O,B)}),function(){return Ae.apply(this,arguments)})}]}).then(Ae=>Ae.present());break;case-1:case-3:case-4:case-6:A.noti.ClearNoti(C.code);try{(yield Q.client.deleteNotifications(Q.session,[C.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),A.update_notifications(O,B)}catch(Ae){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Ae)}break;case-5:try{let Ae=yield Q.client.getUsers(Q.session,[C.sender_id]);if(Ae.users.length){let it="";it+=`${A.lang.text.Nakama.ReqContServer}: ${C.server.name}<br>`,it+=`${A.lang.text.Nakama.ReqContUserName}: ${Ae.users[0].display_name}`,A.alertCtrl.create({header:A.lang.text.Nakama.ReqContTitle,message:it,buttons:[{text:A.lang.text.Nakama.ReqContAccept,handler:(xt=(0,M.A)(function*(){try{(yield Q.client.addGroupUsers(Q.session,C.content.group_id,[Ae.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),A.noti.ClearNoti(C.code);try{let ke=yield Q.client.deleteNotifications(Q.session,[C.id]);ke?A.update_notifications(O,B):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",ke)}catch(ke){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ke)}}catch(fr){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",fr)}}),function(){return xt.apply(this,arguments)})},{text:A.lang.text.Nakama.ReqContReject,handler:function(){var xt=(0,M.A)(function*(){try{(yield Q.client.kickGroupUsers(Q.session,C.content.group_id,[Ae.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield Q.client.deleteNotifications(Q.session,[C.id]),A.update_notifications(O,B)}catch(fr){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",fr)}});return function(){return xt.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(xt=>xt.present())}else try{(yield Q.client.deleteNotifications(Q.session,[C.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),A.p5toast.show({text:A.lang.text.Nakama.UserNotFound}),A.update_notifications(O,B)}catch(it){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",it)}}catch(Ae){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",Ae)}break;case-7:A.LoginAgain(A.noti_origin,O,B);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",C.code);try{yield A.servers[O][B].client.deleteNotifications(A.servers[O][B].session,[C.id])}catch{}A.update_notifications(O,B)}var xt,Ae})()}act_on_notification(C,O,B){var A=this;return(0,M.A)(function*(){let Q=!1;switch(C.server=A.servers[O][B].info,C.code){case 404:A.remove_server(O,B);break;case vr.USER_PROFILE_CHANGED:break;case vr.USER_PROFILE_IMAGE_CHANGED:try{if(!A.users[O][B][C.content.user_id])throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let it=yield A.servers[O][B].client.readStorageObjects(A.servers[O][B].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:C.content.user_id}]});if(it.objects.length)try{if(A.servers[O][B].session.user_id==C.content.user_id)throw"me";A.load_other_user(C.content.user_id,O,B).img=it.objects[0].value.img.replace(/"|\\|=/g,""),A.indexed.saveTextFileToUserPath(A.users[O][B][C.content.user_id].img,`servers/${O}/${B}/users/${C.content.user_id}/profile.img`)}catch{A.users.self.img=it.objects[0].value.img.replace(/"|\\|=/g,""),yield A.indexed.saveTextFileToUserPath(A.users.self.img,"servers/self/profile.img")}else try{if(A.servers[O][B].session.user_id==C.content.user_id)throw"me";delete A.users[O][B][C.content.user_id].img,A.indexed.removeFileFromUserPath(`servers/${O}/${B}/users/${C.content.user_id}/profile.img`)}catch{delete A.users.self.img}}catch(it){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",it)}return;case vr.MANAGE_POST:switch(C.content.type){case"add":try{let xt=C.content.user_id==A.servers[O][B].session.user_id;if(!A.users[O][B][C.content.user_id]&&!xt)throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let fr=yield A.load_server_post_with_id(C.content.post_id,O,B,C.content.user_id,xt);A.rearrange_posts(),xt||(A.p5toast.show({text:`${A.lang.text.AddPost.Title}: ${fr.title}`}),A.has_new_post=!0)}catch{}break;case"remove":A.RemovePost({id:C.content.post_id,creator_id:C.content.user_id,attachments:[],server:{isOfficial:O,target:B}},!0)}return;case vr.GROUP_DATA_CHANGED:case vr.GROUP_IMAGE_CHANGED:break;case 1:C.request=`${A.lang.text.Nakama.ServerNoti}: ${decodeURIComponent(C.content.msg)}`;let H=decodeURIComponent(C.content.msg),ie=decodeURIComponent(C.content.uri);A.noti.PushLocal({id:C.code,title:A.servers[O][B].info.name,body:H,image:ie,smallIcon_ln:"diychat"},"global_noti_all",it=>{let xt=`<div style="text-align: center"><img src="${ie}" alt="noti_image" style="border-radius: 2px"></div>`,fr=`<div>${A.global.HTMLEncode(H)}</div>`;var He;A.alertCtrl.create({header:A.servers[O][B].info.name,message:new yt.Vk(ie?xt+fr:fr),buttons:[{text:A.lang.text.Nakama.LocalNotiOK,handler:(He=(0,M.A)(function*(){try{yield A.servers[O][B].client.deleteNotifications(A.servers[O][B].session,[C.id])}catch{}A.noti.ClearNoti(C.code),A.update_notifications(O,B)}),function(){return He.apply(this,arguments)})}]}).then(He=>He.present())});break;case 0:C.request=`${C.code}-${C.subject}`;break;case-1:let je;C.request=`${C.code}-${C.subject}`,2===(C.content&&C.content.username&&(je=2),je)?A.join_chat_with_modulation(C.sender_id,je,O,B):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",C,je),C.request=`${C.code}-${C.subject}`),Q=!0;try{(yield A.servers[O][B].client.deleteNotifications(A.servers[O][B].session,[C.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),A.update_notifications(O,B)}catch(it){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",it)}break;case-2:case-3:C.request=`${C.code}-${C.subject}`;break;case-4:A.socket_reactive.group_detail&&A.socket_reactive.group_detail.info.id==C.content.group_id&&A.socket_reactive.group_detail.update_from_notification(C),A.groups[O][B][C.content.group_id].status="online",C.request=`${C.code}-${C.subject}`;try{let it=yield A.servers[O][B].client.readStorageObjects(A.servers[O][B].session,{object_ids:[{collection:"group_public",key:`group_${C.content.group_id}`,user_id:A.groups[O][B][C.content.group_id].creator_id}]});it.objects.length&&(A.groups[O][B][C.content.group_id].img=it.objects[0].value.img,A.indexed.saveTextFileToUserPath(it.objects[0].value.img,`servers/${O}/${B}/groups/${C.content.group_id}.img`))}catch(it){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",it)}try{yield A.load_groups(O,B,C.content.group_id,!0)}catch(it){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",it)}A.join_chat_with_modulation(C.content.group_id,3,O,B),A.noti.PushLocal({id:C.code,title:`${A.groups[O][B][C.content.group_id].name}: ${A.lang.text.Nakama.LocalNotiTitle}`,body:C.subject,icon:A.groups[O][B][C.content.group_id.img],smallIcon_ln:"diychat"},void 0,it=>{A.check_notifications(C,O,B)});break;case-5:let Ae=A.groups[O][B][C.content.group_id];if(Ae)C.request=`${A.lang.text.Nakama.ReqContTitle}: ${Ae.name}`;else{Q=!0;try{let it=yield A.servers[O][B].client.deleteNotifications(A.servers[O][B].session,[C.id]);it?A.update_notifications(O,B):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",it)}catch(it){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",it)}}A.socket_reactive.group_detail&&A.socket_reactive.group_detail.info.id==C.content.group_id&&A.socket_reactive.group_detail.update_from_notification(C),A.noti.PushLocal({id:C.code,title:`${A.groups[O][B][C.content.group_id].name}: ${A.lang.text.Nakama.ReqContTitle}`,icon:A.groups[O][B][C.content.group_id].img,smallIcon_ln:"diychat"},void 0,it=>{A.socket_reactive.group_detail.info.id!=C.content.group_id&&A.open_group_detail({info:A.groups[O][B][C.content.group_id]})});break;case-6:C.request=`${C.code}-${C.subject}`;break;case-7:C.request=`${A.servers[O][B].info.name}: ${A.lang.text.Nakama.SessionLogout}`,A.LoginAgain(C,O,B);break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",C),C.request=`${C.code}-${C.subject}`}Q||(A.noti_origin[O][B][C.id]=C)})()}LoginAgain(C,O,B){this.alertCtrl.create({header:this.servers[O][B].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[O][B][C.id]}catch{}this.rearrange_notifications(),this.link_group(O,B,!0)}}]}).then(A=>A.present())}WriteStorage_From_channel(C,O,B,A,Q=0){var H=this;return(0,M.A)(function*(){let ie=JSON.parse(JSON.stringify(C)),je=yield H.global.req_file_info(O),Ae=Math.ceil(je.contents.length/Lt.xM);if(H.OnTransfer[B][A][C.channel_id]||(H.OnTransfer[B][A][C.channel_id]={}),H.OnTransfer[B][A][C.channel_id][C.message_id]||(H.OnTransfer[B][A][C.channel_id][C.message_id]={index:Ae}),!H.OnTransfer[B][A][C.channel_id][C.message_id].OnTransfer){C.content.transfer_index||(C.content.transfer_index=H.OnTransfer[B][A][C.channel_id][C.message_id]);for(let it=Q;it<Ae;it++)try{let xt=H.global.req_file_part_base64(je,it,O);yield H.servers[B][A].client.writeStorageObjects(H.servers[B][A].session,[{collection:`file_${ie.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ie.message_id}_${it}`,permission_read:2,permission_write:1,value:{data:xt}}]),H.OnTransfer[B][A][C.channel_id][C.message_id].index=Ae-1-it,H.OnTransfer[B][A][C.channel_id][C.message_id].OnTransfer="upload"}catch(xt){console.log("WriteStorage_From_channel: ",xt),H.noti.PushLocal({id:7,title:H.lang.text.Nakama.FailedUpload,body:`${ie.content.filename||ie.content.name}: ${xt}`,smallIcon_ln:"diychat"},H.noti.Current),H.p5toast.show({text:`${H.lang.text.Nakama.FailedUpload}: ${xt}`});break}setTimeout(()=>{delete H.OnTransfer[B][A][C.channel_id][C.message_id],H.global.remove_req_file_info(C,O),H.p5toast.show({text:`${H.lang.text.ChatRoom.forceSQL}: ${H.lang.text.ChatRoom.SendFile}: ${ie.content.filename}`}),H.noti.PushLocal({id:7,title:H.lang.text.ChatRoom.SendFile,body:ie.content.filename,smallIcon_ln:"diychat"},H.noti.Current)},100)}})()}ReadStorage_From_channel(C,O,B,A,Q=0){var H=this;return(0,M.A)(function*(){let ie=JSON.parse(JSON.stringify(C));if(H.OnTransfer[B][A][C.channel_id]||(H.OnTransfer[B][A][C.channel_id]={}),H.OnTransfer[B][A][C.channel_id][C.message_id]||(H.OnTransfer[B][A][C.channel_id][C.message_id]={index:ie.content.partsize}),H.OnTransfer[B][A][C.channel_id][C.message_id].OnTransfer)return;C.content.transfer_index||(C.content.transfer_index=H.OnTransfer[B][A][C.channel_id][C.message_id]);let je=!0;for(let Ae=Q,it=ie.content.partsize;Ae<it;Ae++)try{let xt=yield H.servers[B][A].client.readStorageObjects(H.servers[B][A].session,{object_ids:[{collection:`file_${ie.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ie.message_id}_${Ae}`,user_id:ie.sender_id}]});H.global.save_file_part(O,Ae,xt.objects[0].value.data),H.OnTransfer[B][A][C.channel_id][C.message_id].index=it-1-Ae,H.OnTransfer[B][A][C.channel_id][C.message_id].OnTransfer="download"}catch(xt){console.log("ReadStorage_From_channel: ",xt),je=!1,H.p5toast.show({text:`${H.lang.text.Nakama.FailedDownload}: ${xt}`});break}if(je){if(C.content.url)C.content.thumbnail=C.content.url;else{C.content.text=[H.lang.text.ChatRoom.SavingFile],delete C.content.transfer_index,delete H.OnTransfer[B][A][ie.channel_id][ie.message_id].index,H.p5toast.show({text:`${H.lang.text.ChatRoom.forceSQL}: ${H.lang.text.ChatRoom.SavingFile}: ${ie.content.filename}`});let it=[],xt=0;yield new Promise(function(){var fr=(0,M.A)(function*(ke){for(let He=0,vt=ie.content.partsize;He<vt;He++)try{let Ge=yield H.indexed.GetFileInfoFromDB(`${O}_part/${He}.part`);xt+=Ge.contents.length,it[He]=Ge}catch(Ge){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",Ge);break}try{let He=new Int8Array(xt),vt=0;for(let Ge=0,dt=it.length;Ge<dt;Ge++)He.set(it[Ge].contents,vt),vt+=it[Ge].contents.length;yield H.indexed.saveInt8ArrayToUserPath(He,O);for(let Ge=0,dt=ie.content.partsize;Ge<dt;Ge++)H.indexed.removeFileFromUserPath(`${O}_part/${Ge}.part`);yield H.indexed.removeFileFromUserPath(`${O}_part`),H.global.remove_req_file_info(ie,O),C.content.text=[H.lang.text.ChatRoom.FileSaved]}catch(He){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",He)}ke(void 0)});return function(ke){return fr.apply(this,arguments)}}()),H.noti.ClearNoti(8)}let Ae;if(ie.content.path=O,"godot"!=ie.content.viewer){let it=yield H.indexed.loadBlobFromUserPath(O,C.content.type||"");Ae=URL.createObjectURL(it)}yield H.global.modulate_thumbnail((H.OnTransferMessage[ie.message_id]||C).content,Ae),delete H.OnTransfer[B][A][ie.channel_id][ie.message_id],delete H.OnTransferMessage[ie.message_id]}return je})()}sync_save_file(C,O,B,A,Q=""){var H=this;return(0,M.A)(function*(){try{C.blob.size&&(yield H.indexed.saveBlobToUserPath(C.blob,C.path));let ie=yield H.global.req_file_info(C.path);C.partsize=Math.ceil((C.filesize||ie.contents.length)/Lt.xM),delete C.blob,yield H.servers[O][B].client.writeStorageObjects(H.servers[O][B].session,[{collection:A,key:Q||C.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:C}]);for(let je=0;je<C.partsize;je++){let Ae=H.global.req_file_part_base64(ie,je,C.path);yield H.servers[O][B].client.writeStorageObjects(H.servers[O][B].session,[{collection:A,key:Q?`${Q}_${je}`:C.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${je}`,permission_read:2,permission_write:1,value:{data:Ae}}])}H.indexed.removeFileFromUserPath(`${C.path}.history`),H.noti.PushLocal({id:7,title:H.lang.text.ChatRoom.SendFile,body:C.filename||C.name,smallIcon_ln:"diychat"},H.noti.Current)}catch(ie){throw console.log("SyncSaveFailed: ",ie),H.noti.PushLocal({id:7,title:H.lang.text.Nakama.FailedUpload,body:`${C.filename||C.name}: ${ie}`,smallIcon_ln:"diychat"},H.noti.Current),ie}})()}sync_load_file(C,O,B,A,Q="",H="",ie=!0){var je=this;return(0,M.A)(function*(){try{let it=(yield je.servers[O][B].client.readStorageObjects(je.servers[O][B].session,{object_ids:[{collection:A,key:H||C.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:Q||je.servers[O][B].session.user_id}]})).objects[0].value,xt=!0;for(let fr=0;fr<it.partsize;fr++)try{let ke=yield je.servers[O][B].client.readStorageObjects(je.servers[O][B].session,{object_ids:[{collection:A,key:H?`${H}_${fr}`:C.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${fr}`,user_id:Q||je.servers[O][B].session.user_id}]});je.global.save_file_part(C.alt_path||C.path,fr,ke.objects[0].value.data)}catch(ke){console.log("ReadStorage_From_channel: ",ke),xt=!1,ie&&je.p5toast.show({text:`${je.lang.text.Nakama.FailedDownload}: ${ke}`}),C.url&&(C.thumbnail=C.url);break}if(xt){delete C.url,C.text=[je.lang.text.ChatRoom.SavingFile],ie&&je.p5toast.show({text:`${je.lang.text.ChatRoom.forceSQL}: ${je.lang.text.ChatRoom.SavingFile}: ${it.filename}`});let fr=[],ke=0;yield new Promise(function(){var He=(0,M.A)(function*(vt,Ge){for(let dt=0,Ft=it.partsize;dt<Ft;dt++)try{let ar=yield je.indexed.GetFileInfoFromDB(`${C.alt_path||C.path}_part/${dt}.part`);ke+=ar.contents.length,fr[dt]=ar}catch(ar){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",ar);break}try{let dt=new Int8Array(ke),Ft=0;for(let ar=0,_r=fr.length;ar<_r;ar++)dt.set(fr[ar].contents,Ft),Ft+=fr[ar].contents.length;yield je.indexed.saveInt8ArrayToUserPath(dt,C.alt_path||C.path);for(let ar=0,_r=it.partsize;ar<_r;ar++)je.indexed.removeFileFromUserPath(`${C.alt_path||C.path}_part/${ar}.part`);yield je.indexed.removeFileFromUserPath(`${C.alt_path||C.path}_part`)}catch(dt){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",dt),Ge()}vt(void 0)});return function(vt,Ge){return He.apply(this,arguments)}}()),je.noti.ClearNoti(8),je.indexed.removeFileFromUserPath(`${C.alt_path||C.path}.history`)}return{from:"remote",value:yield je.indexed.loadBlobFromUserPath(C.alt_path||C.path,it.type||"")}}catch{try{return{from:"local",value:yield je.indexed.loadBlobFromUserPath(C.alt_path||C.path,C.type||"")}}catch(it){return{from:"failed",value:null,error:it}}}})()}sync_remove_file(C,O,B,A,Q="",H=""){var ie=this;return(0,M.A)(function*(){try{yield ie.indexed.removeFileFromUserPath(C)}catch{}try{let Ae=(yield ie.servers[O][B].client.readStorageObjects(ie.servers[O][B].session,{object_ids:[{collection:A,key:C.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:Q||ie.servers[O][B].session.user_id}]})).objects[0].value;try{ie.servers[O][B].client.rpc(ie.servers[O][B].session,"remove_channel_file",{collection:A,key:(H||Ae.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120))+"_"})}catch{}yield ie.servers[O][B].client.deleteStorageObjects(ie.servers[O][B].session,{object_ids:[{collection:A,key:H||Ae.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch{}})()}AddressToQRCodeAct(C,O=!1){var B=this;return(0,M.A)(function*(){let A=[];if(C.open_profile&&A.push({type:"open_profile"}),C.tmp_user){let Q=C.tmp_user[0].split(",");B.users.self.email=Q[0],B.users.self.password=Q[1],B.users.self.display_name=Q[2],B.users.self.online=!0,B.save_self_profile()}if(C.server)for(let Q=0,H=C.server.length;Q<H;Q++){let ie=C.server[Q].split(",");A.push({type:"server",value:{name:ie[0]||"No named server",target:ie[0]||"No named server",address:ie[1]||"192.168.0.1",useSSL:ie[2]||!1,port:ie[3]||7350,key:ie[4]||"defaultkey",isOfficial:"unofficial"}})}if(C.group)for(let Q=0,H=C.group.length;Q<H;Q++){let ie=C.group[Q].split(",");A.push({type:"group",name:ie[0],id:ie[1]})}if(C.group_dedi){let Q=C.group_dedi[0].split(",");A.push({type:"group_dedi",value:{address:Q[0],channel:Q[1]}})}if(C.open_prv_channel){let Q=C.open_prv_channel[0].split(",");A.push({type:"open_prv_channel",user_id:Q[0],isOfficial:Q[1]||"official",target:Q[2]||"DevTestServer"})}if(C.open_channel){let Q=C.open_channel[0].split(",");A.push({type:"open_channel",group_id:Q[0],isOfficial:Q[1],target:Q[2]})}if(C.rtcserver)for(let Q=0,H=C.rtcserver.length;Q<H;Q++){let ie=C.rtcserver[Q].split("]"),je=ie[0].split("[")[1],Ae=ie[1].split(",");A.push({type:"rtcserver",value:{urls:je.split(","),username:Ae[1],credential:Ae[2]}})}if(C.voidDraw&&"http:"==window.location.protocol){let Q=C.voidDraw[0].split(",");A.push({type:"voidDraw",address:Q[0],channel:Q[1]})}if(C.postViewer&&A.push({type:"postViewer",address:C.postViewer[0]}),C.fileviewer){let Q=C.fileviewer[0].split(",");A.push({type:"fileviewer",url:Q[0],viewer:Q[1]})}if(C.instc){let Q=C.instc[0].split(",");A.push({type:"instc",address:Q[0],channel:Q[1],port:Q[2],username:Q[3],password:Q[4]})}if(O)return A;yield B.act_from_QRInfo(A)})()}act_from_QRInfo(C){var O=this;return(0,M.A)(function*(){for(let B=0,A=C.length;B<A;B++)switch(C[B].type){case"open_profile":O.open_profile_page();break;case"tmp_user":break;case"server":if(O.statusBar.groupServer.unofficial[C[B].value.name])O.p5toast.show({text:`${O.lang.text.Nakama.AlreadyHaveTargetName}: ${C[B].value.name}`}),delete C[B].value.name,O.global.PageDismissAct["quick-server-detail"]=()=>{O.global.RestoreShortCutAct("quick-server-detail"),delete O.global.PageDismissAct["quick-server-detail"]},O.global.StoreShortCutAct("quick-server-detail"),O.global.ActLikeModal("server-detail",{data:C[B].value});else{let Ae={name:decodeURIComponent(C[B].value.name),target:decodeURIComponent(C[B].value.target),address:decodeURIComponent(C[B].value.address),port:C[B].value.port,useSSL:C[B].value.useSSL,isOfficial:C[B].value.isOfficial,key:decodeURIComponent(C[B].value.key)};yield O.add_group_server(Ae),yield O.init_session(Ae)}break;case"group_dedi":for(let Ae=0,it=20;Ae<it&&!O.lang.text.MinimalChat.leave_chat_group;Ae++)yield new Promise(xt=>setTimeout(xt,1e3));yield O.global.RemoveAllModals(),O.navCtrl.navigateForward("minimal-chat",{animation:yt.V5,state:{address:C[B].value.address,channel:C[B].value.channel,quick:!0}});break;case"group":O.AfterLoginActDone?yield O.try_add_group(C[B]):O.AfterLoginAct.push((0,M.A)(function*(){yield O.try_add_group(C[B])}));break;case"open_prv_channel":if(O.AfterLoginActDone){let Ae=yield O.join_chat_with_modulation(C[B].user_id,2,C[B].isOfficial,C[B].target,!0);O.go_to_chatroom_without_admob_act(Ae)}else O.AfterLoginAct.push((0,M.A)(function*(){let Ae=yield O.join_chat_with_modulation(C[B].user_id,2,C[B].isOfficial,C[B].target,!0);O.go_to_chatroom_without_admob_act(Ae)}));break;case"open_channel":if(O.AfterLoginActDone){let Ae=yield O.join_chat_with_modulation(C[B].group_id,3,C[B].isOfficial,C[B].target,!0);O.go_to_chatroom_without_admob_act(Ae)}else O.AfterLoginAct.push((0,M.A)(function*(){let Ae=yield O.join_chat_with_modulation(C[B].group_id,3,C[B].isOfficial,C[B].target,!0);O.go_to_chatroom_without_admob_act(Ae)}));break;case"rtcserver":let H=[];for(let Ae=0,it=20;Ae<it&&!O.lang.text.WebRTCDevManager.NoRegServer;Ae++)yield new Promise(xt=>setTimeout(xt,1e3));let ie=yield O.indexed.loadTextFromUserPath("servers/webrtc_server.json");H=JSON.parse(ie),H.push(C[B].value),yield O.indexed.saveTextFileToUserPath(JSON.stringify(H),"servers/webrtc_server.json");break;case"voidDraw":O.global.PageDismissAct["voiddraw-remote"]=()=>{delete O.global.PageDismissAct["voiddraw-remote"]},O.global.ActLikeModal("void-draw",{remote:{address:C[B].address,channel:C[B].channel},dismiss:"voiddraw-remote"});break;case"postViewer":for(let Ae=0,it=20;Ae<it&&!O.lang.text.PostViewer.OpenFromViewer;Ae++)yield new Promise(xt=>setTimeout(xt,1e3));let je=yield fetch(C[B].address);if(je.ok){let Ae=yield je.text(),it=JSON.parse(Ae);O.open_post(it,-2)}else O.p5toast.show({text:`${O.lang.text.AddPost.NoPostOutLink}: ${je.statusText}`});break;case"instc":for(let Ae=0,it=20;Ae<it&&!O.lang.text.InstantCall.CallEnd;Ae++)yield new Promise(xt=>setTimeout(xt,1e3));O.global.RemoveAllModals(()=>{O.navCtrl.navigateForward("instant-call",{animation:yt.NC,state:{address:C[B].address,channel:C[B].channel,port:C[B].port,username:C[B].username,password:C[B].password}})});break;case"fileviewer":for(let Ae=0,it=20;Ae<it&&!O.lang.text.ContentViewer.MayGimbalLock;Ae++)yield new Promise(xt=>setTimeout(xt,1e3));O.global.PageDismissAct["quick-fileviewer"]=Ae=>{delete O.global.PageDismissAct["quick-fileviewer"]},O.global.ActLikeModal("ionic-viewer",{info:{content:{filename:C[B].url.split("_").pop(),file_ext:C[B].url.split(".").pop(),url:C[B].url,viewer:C[B].viewer}},relevance:[{content:{filename:C[B].url.split("_").pop(),file_ext:C[B].url.split(".").pop(),url:C[B].url,viewer:C[B].viewer}}],noEdit:!0,noTextEdit:!0,quick:!0,dismiss:"quick-fileviewer"});break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}load_local_post_with_id(C,O,B,A){var Q=this;return(0,M.A)(function*(){let H=yield Q.indexed.loadTextFromUserPath(`servers/${O}/${B}/posts/${A}/${C}/info.json`);try{try{if(Q.posts_orig[O][B][A][C])throw"exist"}catch(je){if("exist"==je)throw"\uc774\ubbf8 \uc788\ub294 \uac8c\uc2dc\ubb3c"}let ie=JSON.parse(H);if(ie.server={name:Q.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0},ie.mainImage)try{if(ie.mainImage.url)ie.mainImage.thumbnail=ie.mainImage.url;else{let je=yield Q.indexed.loadBlobFromUserPath(ie.mainImage.path,ie.mainImage.type);ie.mainImage.blob=je;let Ae=URL.createObjectURL(je);ie.mainImage.thumbnail=Ae,setTimeout(()=>{URL.revokeObjectURL(Ae)},5e3)}}catch{}return Q.posts_orig[O][B][A][C]=ie,!0}catch{return!1}})()}GetOverrideName(C,O,B){let A;try{A=this.usernameOverride[O][B][C]}catch{}return A}SaveOverrideName(C,O,B,A){var Q=this;return(0,M.A)(function*(){O?Q.usernameOverride[B][A][C]=O:delete Q.usernameOverride[B][A][C];let H=JSON.stringify(Q.usernameOverride[B][A]),je={blob:new Blob([H],{type:"application/json"}),path:`servers/${B}/${A}/users/override_name.json`};yield Q.sync_save_file(je,B,A,"usernameOverride","override");try{Q.servers[B][A].socket.sendMatchState(Q.self_match[B][A].match_id,vr.NAME_OVERRIDED,encodeURIComponent(""))}catch{}})()}LoadOverrideName(C,O){var B=this;return(0,M.A)(function*(){let A={path:`servers/${C}/${O}/users/override_name.json`},Q=yield B.sync_load_file(A,C,O,"usernameOverride",void 0,"override",!1);if(Q.value){let H=yield Q.value.text(),ie=JSON.parse(H),je=Object.keys(ie);for(let Ae of je)B.usernameOverride[C][O][Ae]=ie[Ae]}})()}LoadOverridesOffline(){var C=this;return(0,M.A)(function*(){let O=yield C.indexed.GetFileListFromDB("override_name.json");for(let B of O)try{let A=B.split("/");C.usernameOverride[A[1]]||(C.usernameOverride[A[1]]={}),C.usernameOverride[A[1]][A[2]]||(C.usernameOverride[A[1]][A[2]]={});let H=yield(yield C.indexed.loadBlobFromUserPath(B,"")).text(),ie=JSON.parse(H);C.usernameOverride[A[1]][A[2]]=ie}catch{}})()}load_server_post_with_id(C,O,B,A,Q){var H=this;return(0,M.A)(function*(){try{let ie={path:`servers/${O}/${B}/posts/${A}/${C}/info.json`,type:"application/json"},je=yield H.sync_load_file(ie,O,B,"server_post",A,C,!1),Ae=yield je.value.text(),it=JSON.parse(Ae);Q&&(it.is_me=!0);let xt=new Blob([JSON.stringify(it)],{type:"application/json"});H.indexed.saveBlobToUserPath(xt,ie.path),it.server={isOfficial:O,target:B};try{it.server.name=H.servers[O][B].info.name}catch{it.server.name=H.lang.text.Nakama.DeletedServer}if(it.mainImage)if(it.mainImage.url)it.mainImage.thumbnail=it.mainImage.url;else{let fr={path:it.mainImage.path,alt_path:`servers/${O}/${B}/posts/${A}/${C}/mainImage.png`,type:"image/png"},ke=(yield H.sync_load_file(fr,O,B,"server_post",A,`${C}_mainImage`,!1)).value;it.mainImage.blob=ke;let He=URL.createObjectURL(ke);it.mainImage.thumbnail=He,setTimeout(()=>{URL.revokeObjectURL(He)},5e3)}try{it.creator_name=H.load_other_user(A,O,B).display_name||it.creator_name}catch{}if(H.posts_orig[O][B]||(H.posts_orig[O][B]={}),H.posts_orig[O][B][A]||(H.posts_orig[O][B][A]={}),H.posts_orig[O][B][A][C]=it,"local"==je.from)try{if(!(yield H.servers[O][B].client.readStorageObjects(H.servers[O][B].session,{object_ids:[{collection:"server_post",key:C,user_id:A}]})).objects.length)throw"Not RemoteExist"}catch(fr){if("Not RemoteExist"==fr)throw"RemoveSelf"}return it}catch(ie){return"RemoveSelf"==ie&&H.RemovePost(H.posts_orig[O][B][A][C],!0),!1}})()}load_posts_counter(){var C=this;return(0,M.A)(function*(){let O={};try{let Q=yield C.indexed.loadTextFromUserPath("servers/post_counter.json"),H=JSON.parse(Q);O=Q,C.post_counter=H}catch{}let B=Number(yield C.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;C.post_counter.local.target.me=B;let A=C.get_all_server_info(!0,!0);for(let Q=0,H=A.length;Q<H;Q++){let ie=A[Q].isOfficial,je=A[Q].target;C.post_counter[ie][je]||(C.post_counter[ie][je]={});try{let Ae=yield C.servers[ie][je].client.readStorageObjects(C.servers[ie][je].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:C.servers[ie][je].session.user_id}]}),it=0;Ae.objects.length&&(it=Ae.objects[0].value.counter),C.post_counter[ie][je][C.servers[ie][je].session.user_id]=it}catch(Ae){console.log("\ub0b4 \uc11c\ubc84 \uac8c\uc2dc\ubb3c \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Ae)}if(C.users[ie][je]){let Ae=Object.keys(C.users[ie][je]);for(let it=0,xt=Ae.length;it<xt;it++)try{let fr=yield C.servers[ie][je].client.readStorageObjects(C.servers[ie][je].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:Ae[it]}]}),ke=0;fr.objects.length&&(ke=fr.objects[0].value.counter),C.post_counter[ie][je][Ae[it]]=ke}catch{delete C.post_counter[ie][je][Ae[it]]}}O!=JSON.stringify(C.post_counter)&&(yield C.indexed.saveTextFileToUserPath(JSON.stringify(C.post_counter),"servers/post_counter.json"),C.has_new_post=!0)}})()}}return(z=pe).\u0275fac=function(C){return new(C||z)(ur.KVO(ht.G),ur.KVO(Dt.j),ur.KVO(tr.n),ur.KVO(Jt.r),ur.KVO(ir.hG),ur.KVO(Er.y),ur.KVO(Lt.z3),ur.KVO(br.q9),ur.KVO(ir.Xi))},z.\u0275prov=ur.jDH({token:z,factory:z.\u0275fac,providedIn:"root"}),pe})()},9900:(Dr,rr,we)=>{"use strict";we.d(rr,{G:()=>se});var M=we(8326),Qe=we(482),Et=we(3953),o=function(V){return V[V.Idle=0]="Idle",V[V.DivFadeIn=1]="DivFadeIn",V[V.BorderAlert=2]="BorderAlert",V[V.Reading=3]="Reading",V[V.FadeOut=4]="FadeOut",V}(o||{});let se=(()=>{var V;class v{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=o.Idle}show(p){let y;p.time=(new Date).getTime(),p.lateable||(this.AlertNow=p,this.status=o.DivFadeIn),this.alert.length&&(y=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==p.text?this.status=o.DivFadeIn:y&&y.text==p.text||this.alert.push(p),this.isShowing?this.status==o.FadeOut&&(this.status=o.DivFadeIn):(this.CurrentToast=new M(_=>{let i,l,a,u=0,h=0,d=0;_.setup=()=>{_.noCanvas(),i=_.createDiv(),i.style("position: absolute; left: 0; top: 0; z-index: 1"),i.style("width: 100%; height: fit-content"),i.style("padding: 32px;"),i.style("display: flex; justify-content: center;"),i.style("pointer-events: none"),m(),a=_.createDiv(),a.parent(i),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("border-radius: 24px"),a.style("background: #"+(Qe.ud?"30564e88":"b9543788")),a.style("padding: 4px"),l=_.createDiv(),l.parent(a),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("word-break: break-all"),l.style("background: #"+(Qe.ud?"30564e88":"b9543788")),l.style("border-radius: 20px"),l.style("padding: 12px"),l.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),l.html(this.HTMLEncode(this.AlertNow.text)),f(),this.status=o.DivFadeIn},_.draw=()=>{switch(this.status){case o.DivFadeIn:u<1?u+=1:(u=1,h=1,this.status=o.BorderAlert,l.html(this.HTMLEncode(this.AlertNow.text)));break;case o.BorderAlert:if(h>0)h-=.03;else{let D;h=0,D=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,d=_.millis()+D+960,this.status=o.Reading}break;case o.Reading:_.millis()>d&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),l.html(this.HTMLEncode(this.AlertNow.text)),this.status=o.DivFadeIn):this.status=o.FadeOut);break;case o.FadeOut:u>0?u-=.04:g()}m(),f()};let m=()=>{i.style(`opacity: ${u}`)},f=()=>{let D=_.lerpColor(_.color("#"+(Qe.ud?"30564e88":"b9543788")),_.color("#ffd94ebb"),h).levels;a.style(`padding: ${4*h}px`),l.style(`padding: ${_.lerp(16,12,h)}px`),l.style(`border-radius: ${_.lerp(24,20,h)}px`),a.style(`background: rgba(${D[0]}, ${D[1]}, ${D[2]}, ${D[3]/255})`)},g=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=null,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=o.FadeOut}}return(V=v).\u0275fac=function(p){return new(p||V)},V.\u0275prov=Et.jDH({token:V,factory:V.\u0275fac,providedIn:"root"}),v})()},8065:(Dr,rr,we)=>{"use strict";we.d(rr,{j:()=>T});var M=we(3953);let T=(()=>{var Qe;class Et{constructor(){this.colors={offline:"#888888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(Qe=Et).\u0275fac=function(se){return new(se||Qe)},Qe.\u0275prov=M.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Et})()},3419:(Dr,rr,we)=>{"use strict";var M=we(345),T=we(3953),Qe=we(9858),Et=we(3656),o=we(5374),se=we(92);const V=[{path:"",loadChildren:()=>we.e(6035).then(we.bind(we,6035)).then(Ct=>Ct.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>Promise.all([we.e(2076),we.e(5502)]).then(we.bind(we,5502)).then(Ct=>Ct.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>we.e(4722).then(we.bind(we,4722)).then(Ct=>Ct.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>we.e(6556).then(we.bind(we,6556)).then(Ct=>Ct.UserFsDirPageModule)},{path:"group-server",loadChildren:()=>we.e(36).then(we.bind(we,36)).then(Ct=>Ct.GroupServerPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([we.e(2076),we.e(8163)]).then(we.bind(we,8163)).then(Ct=>Ct.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([we.e(4020),we.e(2076),we.e(6134)]).then(we.bind(we,6134)).then(Ct=>Ct.ChatRoomPageModule)},{path:"post-viewer",loadChildren:()=>we.e(526).then(we.bind(we,526)).then(Ct=>Ct.PostViewerPageModule)},{path:"share-content-to-other",loadChildren:()=>we.e(9406).then(we.bind(we,9406)).then(Ct=>Ct.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>we.e(5436).then(we.bind(we,5436)).then(Ct=>Ct.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>Promise.all([we.e(4020),we.e(8180)]).then(we.bind(we,8180)).then(Ct=>Ct.PortalPageModule)},{path:"group-detail",loadChildren:()=>we.e(3267).then(we.bind(we,3267)).then(Ct=>Ct.GroupDetailPageModule)},{path:"instant-call",loadChildren:()=>Promise.all([we.e(4020),we.e(6524)]).then(we.bind(we,6524)).then(Ct=>Ct.InstantCallPageModule)},{path:"add-group",loadChildren:()=>we.e(7601).then(we.bind(we,7601)).then(Ct=>Ct.AddGroupPageModule)},{path:"void-draw",loadChildren:()=>Promise.all([we.e(4020),we.e(2655)]).then(we.bind(we,2655)).then(Ct=>Ct.VoidDrawPageModule)},{path:"ionic-viewer",loadChildren:()=>we.e(5390).then(we.bind(we,5390)).then(Ct=>Ct.IonicViewerPageModule)},{path:"server-detail",loadChildren:()=>we.e(3456).then(we.bind(we,3456)).then(Ct=>Ct.ServerDetailPageModule)}];let v=(()=>{var Ct;class Bt{}return(Ct=Bt).\u0275fac=function(or){return new(or||Ct)},Ct.\u0275mod=T.$C({type:Ct}),Ct.\u0275inj=T.G2t({imports:[Qe.iI.forRoot(V,{preloadingStrategy:Qe.Kp}),Qe.iI]}),Bt})();var b=we(177),p=we(9030),y=we(8810),E=we(3726),_=we(7673),i=we(8793),l=we(1413),a=we(1985),u=we(5343);const h=new a.c(u.l);var m=we(6365),f=we(8750),g=we(983),D=we(9326),$=we(6648);function L(...Ct){const Bt=(0,D.lI)(Ct),er=(0,D.R0)(Ct,1/0),or=Ct;return or.length?1===or.length?(0,f.Tg)(or[0]):(0,m.U)(er)((0,$.H)(or,Bt)):g.w}var P=we(6354),x=we(5964),U=we(5558),I=we(17),F=we(8071),R=we(9974);const oe={connector:()=>new l.B};function q(Ct,Bt=oe){const{connector:er}=Bt;return(0,R.N)((or,Rt)=>{const mt=er();(0,f.Tg)(Ct(function Z(Ct){return new a.c(Bt=>Ct.subscribe(Bt))}(mt))).subscribe(Rt),Rt.add(or.subscribe(mt))})}var G=we(6697),K=we(8141),ue=we(8359);class Me extends ue.yU{constructor(Bt,er){super()}schedule(Bt,er=0){return this}}const Y={setInterval(Ct,Bt,...er){const{delegate:or}=Y;return null!=or&&or.setInterval?or.setInterval(Ct,Bt,...er):setInterval(Ct,Bt,...er)},clearInterval(Ct){const{delegate:Bt}=Y;return((null==Bt?void 0:Bt.clearInterval)||clearInterval)(Ct)},delegate:void 0};var j=we(7908);const me={now:()=>(me.delegate||Date).now(),delegate:void 0};class xe{constructor(Bt,er=xe.now){this.schedulerActionCtor=Bt,this.now=er}schedule(Bt,er=0,or){return new this.schedulerActionCtor(this,Bt).schedule(or,er)}}xe.now=me.now;const qe=new class Be extends xe{constructor(Bt,er=xe.now){super(Bt,er),this.actions=[],this._active=!1}flush(Bt){const{actions:er}=this;if(this._active)return void er.push(Bt);let or;this._active=!0;do{if(or=Bt.execute(Bt.state,Bt.delay))break}while(Bt=er.shift());if(this._active=!1,or){for(;Bt=er.shift();)Bt.unsubscribe();throw or}}}(class te extends Me{constructor(Bt,er){super(Bt,er),this.scheduler=Bt,this.work=er,this.pending=!1}schedule(Bt,er=0){var or;if(this.closed)return this;this.state=Bt;const Rt=this.id,mt=this.scheduler;return null!=Rt&&(this.id=this.recycleAsyncId(mt,Rt,er)),this.pending=!0,this.delay=er,this.id=null!==(or=this.id)&&void 0!==or?or:this.requestAsyncId(mt,this.id,er),this}requestAsyncId(Bt,er,or=0){return Y.setInterval(Bt.flush.bind(Bt,this),or)}recycleAsyncId(Bt,er,or=0){if(null!=or&&this.delay===or&&!1===this.pending)return er;null!=er&&Y.clearInterval(er)}execute(Bt,er){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const or=this._execute(Bt,er);if(or)return or;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Bt,er){let Rt,or=!1;try{this.work(Bt)}catch(mt){or=!0,Rt=mt||new Error("Scheduled action threw falsy error")}if(or)return this.unsubscribe(),Rt}unsubscribe(){if(!this.closed){const{id:Bt,scheduler:er}=this,{actions:or}=er;this.work=this.state=this.scheduler=null,this.pending=!1,(0,j.o)(or,this),null!=Bt&&(this.id=this.recycleAsyncId(er,Bt,null)),this.delay=null,super.unsubscribe()}}}),ct=qe;var ze=we(4360),lt=we(3703),Fe=we(1397);function rt(Ct,Bt){return Bt?er=>(0,i.x)(Bt.pipe((0,G.s)(1),function st(){return(0,R.N)((Ct,Bt)=>{Ct.subscribe((0,ze._)(Bt,u.l))})}()),er.pipe(rt(Ct))):(0,Fe.Z)((er,or)=>(0,f.Tg)(Ct(er,or)).pipe((0,G.s)(1),(0,lt.u)(er)))}var Ye=we(9470);const Pt="Service workers are disabled or not supported by this browser";class $t{constructor(Bt){if(this.serviceWorker=Bt,Bt){const or=(0,E.R)(Bt,"controllerchange").pipe((0,P.T)(()=>Bt.controller)),Rt=(0,p.v)(()=>(0,_.of)(Bt.controller)),mt=(0,i.x)(Rt,or);this.worker=mt.pipe((0,x.p)(ht=>!!ht)),this.registration=this.worker.pipe((0,U.n)(()=>Bt.getRegistration()));const ur=(0,E.R)(Bt,"message").pipe((0,P.T)(ht=>ht.data)).pipe((0,x.p)(ht=>ht&&ht.type)).pipe(function W(Ct){return Ct?Bt=>q(Ct)(Bt):Bt=>function re(Ct,Bt){const er=(0,F.T)(Ct)?Ct:()=>Ct;return(0,F.T)(Bt)?q(Bt,{connector:er}):or=>new I.G(or,er)}(new l.B)(Bt)}());ur.connect(),this.events=ur}else this.worker=this.events=this.registration=function Wt(Ct){return(0,p.v)(()=>(0,y.$)(new Error(Ct)))}(Pt)}postMessage(Bt,er){return this.worker.pipe((0,G.s)(1),(0,K.M)(or=>{or.postMessage({action:Bt,...er})})).toPromise().then(()=>{})}postMessageWithOperation(Bt,er,or){const Rt=this.waitForOperationCompleted(or),mt=this.postMessage(Bt,er);return Promise.all([mt,Rt]).then(([,Ut])=>Ut)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Bt){let er;return er="string"==typeof Bt?or=>or.type===Bt:or=>Bt.includes(or.type),this.events.pipe((0,x.p)(er))}nextEventOfType(Bt){return this.eventsOfType(Bt).pipe((0,G.s)(1))}waitForOperationCompleted(Bt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,x.p)(er=>er.nonce===Bt),(0,G.s)(1),(0,P.T)(er=>{if(void 0!==er.result)return er.result;throw new Error(er.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let cr=(()=>{var Ct;class Bt{get isEnabled(){return this.sw.isEnabled}constructor(or){if(this.sw=or,this.pushManager=null,this.subscriptionChanges=new l.B,!or.isEnabled)return this.messages=h,this.notificationClicks=h,void(this.subscription=h);this.messages=this.sw.eventsOfType("PUSH").pipe((0,P.T)(mt=>mt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,P.T)(mt=>mt.data)),this.pushManager=this.sw.registration.pipe((0,P.T)(mt=>mt.pushManager));const Rt=this.pushManager.pipe((0,U.n)(mt=>mt.getSubscription()));this.subscription=L(Rt,this.subscriptionChanges)}requestSubscription(or){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Pt));const Rt={userVisibleOnly:!0};let mt=this.decodeBase64(or.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Ut=new Uint8Array(new ArrayBuffer(mt.length));for(let yt=0;yt<mt.length;yt++)Ut[yt]=mt.charCodeAt(yt);return Rt.applicationServerKey=Ut,this.pushManager.pipe((0,U.n)(yt=>yt.subscribe(Rt)),(0,G.s)(1)).toPromise().then(yt=>(this.subscriptionChanges.next(yt),yt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,G.s)(1),(0,U.n)(Rt=>{if(null===Rt)throw new Error("Not subscribed to push notifications.");return Rt.unsubscribe().then(mt=>{if(!mt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Pt))}decodeBase64(or){return atob(or)}}return(Ct=Bt).\u0275fac=function(or){return new(or||Ct)(T.KVO($t))},Ct.\u0275prov=T.jDH({token:Ct,factory:Ct.\u0275fac}),Bt})(),Vt=(()=>{var Ct;class Bt{get isEnabled(){return this.sw.isEnabled}constructor(or){if(this.sw=or,!or.isEnabled)return this.versionUpdates=h,void(this.unrecoverable=h);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pt));const or=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:or},or)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pt));const or=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:or},or)}}return(Ct=Bt).\u0275fac=function(or){return new(or||Ct)(T.KVO($t))},Ct.\u0275prov=T.jDH({token:Ct,factory:Ct.\u0275fac}),Bt})();const mr=new T.nKC("");function Kt(Ct,Bt,er,or){return()=>{if(!(0,b.UE)(or)||!("serviceWorker"in navigator)||!1===er.enabled)return;const Rt=Ct.get(T.SKi),mt=Ct.get(T.o8S);let Ut;if(Rt.runOutsideAngular(()=>{const yt=navigator.serviceWorker,Lt=()=>{var ur;return null===(ur=yt.controller)||void 0===ur?void 0:ur.postMessage({action:"INITIALIZE"})};yt.addEventListener("controllerchange",Lt),mt.onDestroy(()=>{yt.removeEventListener("controllerchange",Lt)})}),"function"==typeof er.registrationStrategy)Ut=er.registrationStrategy();else{const[yt,...Lt]=(er.registrationStrategy||"registerWhenStable:30000").split(":");switch(yt){case"registerImmediately":Ut=(0,_.of)(null);break;case"registerWithDelay":Ut=hr(+Lt[0]||0);break;case"registerWhenStable":Ut=Lt[0]?L(It(Ct),hr(+Lt[0])):It(Ct);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${er.registrationStrategy}`)}}Rt.runOutsideAngular(()=>Ut.pipe((0,G.s)(1)).subscribe(()=>navigator.serviceWorker.register(Bt,{scope:er.scope}).catch(yt=>console.error("Service worker registration failed with:",yt))))}}function hr(Ct){return(0,_.of)(null).pipe(function ft(Ct,Bt=qe){const er=function Je(Ct=0,Bt,er=ct){let or=-1;return null!=Bt&&((0,Ye.m)(Bt)?er=Bt:or=Bt),new a.c(Rt=>{let mt=function ot(Ct){return Ct instanceof Date&&!isNaN(Ct)}(Ct)?+Ct-er.now():Ct;mt<0&&(mt=0);let Ut=0;return er.schedule(function(){Rt.closed||(Rt.next(Ut++),0<=or?this.schedule(void 0,or):Rt.complete())},mt)})}(Ct,Bt);return rt(()=>er)}(Ct))}function It(Ct){return Ct.get(T.o8S).isStable.pipe((0,x.p)(er=>er))}function lr(Ct,Bt){return new $t((0,b.UE)(Bt)&&!1!==Ct.enabled?navigator.serviceWorker:void 0)}class Ht{}function $e(Ct,Bt={}){return(0,T.EmA)([cr,Vt,{provide:mr,useValue:Ct},{provide:Ht,useValue:Bt},{provide:$t,useFactory:lr,deps:[Ht,T.Agw]},{provide:T.hnV,useFactory:Kt,deps:[T.zZn,mr,Ht,T.Agw],multi:!0}])}let We=(()=>{var Ct;class Bt{static register(or,Rt={}){return{ngModule:Bt,providers:[$e(or,Rt)]}}}return(Ct=Bt).\u0275fac=function(or){return new(or||Ct)},Ct.\u0275mod=T.$C({type:Ct}),Ct.\u0275inj=T.G2t({providers:[cr,Vt]}),Bt})();let Xe=(()=>{var Ct;class Bt{}return(Ct=Bt).\u0275fac=function(or){return new(or||Ct)},Ct.\u0275mod=T.$C({type:Ct,bootstrap:[se.ZL]}),Ct.\u0275inj=T.G2t({providers:[{provide:Qe.b,useClass:Et.jM},Et.y8],imports:[M.Bb,o.bv.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),v,We.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]}),Bt})();var wt=we(1288);(0,T.SmG)(),M.sG().bootstrapModule(Xe).catch(Ct=>console.log(Ct)),window,typeof window>"u"?Promise.resolve():(0,wt.p)().then(()=>(0,wt.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},8326:(Dr,rr,we)=>{var M=we(4756);Dr.exports=function o(se,V,v){function b(E,_){if(!V[E]){if(!se[E]){var i=void 0;if(!_&&i)return require(E,!0);if(p)return p(E,!0);throw(_=new Error("Cannot find module '"+E+"'")).code="MODULE_NOT_FOUND",_}i=V[E]={exports:{}},se[E][0].call(i.exports,function(l){return b(se[E][1][l]||l)},i,i.exports,o,se,V,v)}return V[E].exports}for(var p=void 0,y=0;y<v.length;y++)b(v[y]);return b}({1:[function(o,se,V){"use strict";V.byteLength=function(u){return 3*((u=i(u))[0]+(u=u[1]))/4-u},V.toByteArray=function(l){var a,u,d,$,h=(d=i(l))[0],m=new p(3*(h+($=d=d[1]))/4-$),f=0,g=0<d?h-4:h;for(u=0;u<g;u+=4)a=b[l.charCodeAt(u)]<<18|b[l.charCodeAt(u+1)]<<12|b[l.charCodeAt(u+2)]<<6|b[l.charCodeAt(u+3)],m[f++]=a>>16&255,m[f++]=a>>8&255,m[f++]=255&a;return 2===d&&(a=b[l.charCodeAt(u)]<<2|b[l.charCodeAt(u+1)]>>4,m[f++]=255&a),1===d&&(a=b[l.charCodeAt(u)]<<10|b[l.charCodeAt(u+1)]<<4|b[l.charCodeAt(u+2)]>>2,m[f++]=a>>8&255,m[f++]=255&a),m},V.fromByteArray=function(l){for(var a,u=l.length,h=u%3,d=[],m=0,f=u-h;m<f;m+=16383)d.push(function(g,D,$){for(var P=[],x=D;x<$;x+=3)P.push(v[(U=(g[x]<<16&16711680)+(g[x+1]<<8&65280)+(255&g[x+2]))>>18&63]+v[U>>12&63]+v[U>>6&63]+v[63&U]);var U;return P.join("")}(l,m,f<m+16383?f:m+16383));return 1==h?d.push(v[(a=l[u-1])>>2]+v[a<<4&63]+"=="):2==h&&d.push(v[(a=(l[u-2]<<8)+l[u-1])>>10]+v[a>>4&63]+v[a<<2&63]+"="),d.join("")};for(var v=[],b=[],p=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0;E<64;++E)v[E]=y[E],b[y.charCodeAt(E)]=E;function i(l){var a=l.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");return a=(l=-1===(l=l.indexOf("="))?a:l)===a?0:4-l%4,[l,a]}b[45]=62,b[95]=63},{}],2:[function(o,se,V){},{}],3:[function(o,se,V){},{}],4:[function(o,se,V){(function(i){"use strict";var b=o("base64-js"),p=o("ieee754"),y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,E=(V.Buffer=i,V.SlowBuffer=function(Y){return+Y!=Y&&(Y=0),i.alloc(+Y)},V.INSPECT_MAX_BYTES=50,2147483647);function _(Y){if(E<Y)throw new RangeError('The value "'+Y+'" is invalid for option "size"');return Y=new Uint8Array(Y),Object.setPrototypeOf(Y,i.prototype),Y}function i(Y,j,te){if("number"!=typeof Y)return l(Y,j,te);if("string"==typeof j)throw new TypeError('The "string" argument must be of type string. Received type number');return u(Y)}function l(Y,j,te){if("string"==typeof Y){var me=Y,xe=j;if(i.isEncoding(xe="string"==typeof xe&&""!==xe?xe:"utf8"))return(me=(qe=_(Be=0|m(me,xe))).write(me,xe))!==Be?qe.slice(0,me):qe;throw new TypeError("Unknown encoding: "+xe)}if(ArrayBuffer.isView(Y))return h(Y);if(null!=Y){if(K(Y,ArrayBuffer)||Y&&K(Y.buffer,ArrayBuffer)){var Be=Y,qe=te;if((me=j)<0||Be.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(Be.byteLength<me+(qe||0))throw new RangeError('"length" is outside of buffer bounds');return Be=void 0===me&&void 0===qe?new Uint8Array(Be):void 0===qe?new Uint8Array(Be,me):new Uint8Array(Be,me,qe),Object.setPrototypeOf(Be,i.prototype),Be}if("number"==typeof Y)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(xe=Y.valueOf&&Y.valueOf())&&xe!==Y)return i.from(xe,j,te);var ct=i.isBuffer(ze=Y)?(0!==(lt=_(st=0|d(ze.length))).length&&ze.copy(lt,0,0,st),lt):void 0!==ze.length?"number"!=typeof ze.length||ue(ze.length)?_(0):h(ze):"Buffer"===ze.type&&Array.isArray(ze.data)?h(ze.data):void 0;if(ct)return ct;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Y[Symbol.toPrimitive])return i.from(Y[Symbol.toPrimitive]("string"),j,te)}var ze,st,lt;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}function a(Y){if("number"!=typeof Y)throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function u(Y){return a(Y),_(Y<0?0:0|d(Y))}function h(Y){for(var j=Y.length<0?0:0|d(Y.length),te=_(j),me=0;me<j;me+=1)te[me]=255&Y[me];return te}function d(Y){if(E<=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return 0|Y}function m(Y,j){if(i.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||K(Y,ArrayBuffer))return Y.byteLength;if("string"!=typeof Y)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var te=Y.length,me=2<arguments.length&&!0===arguments[2];if(!me&&0===te)return 0;for(var xe=!1;;)switch(j){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return re(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*te;case"hex":return te>>>1;case"base64":return W(Y).length;default:if(xe)return me?-1:re(Y).length;j=(""+j).toLowerCase(),xe=!0}}function f(Y,j,te){var me,xe=!1;if((j=void 0===j||j<0?0:j)>this.length||(te=void 0===te||te>this.length?this.length:te)<=0||(te>>>=0)<=(j>>>=0))return"";for(Y=Y||"utf8";;)switch(Y){case"hex":var qe=te,lt=this.length;(!qe||qe<0||lt<qe)&&(qe=lt);for(var ct="",ze=Je=!(Je=j)||Je<0?0:Je;ze<qe;++ze)ct+=Me[this[ze]];return ct;case"utf8":case"utf-8":return x(this,j,te);case"ascii":var Fe=(lt=j,te),rt="";Fe=Math.min(this.length,Fe);for(var Ye=lt;Ye<Fe;++Ye)rt+=String.fromCharCode(127&this[Ye]);return rt;case"latin1":case"binary":var Je=j,ft=te,Pt="";ft=Math.min(this.length,ft);for(var Wt=Je;Wt<ft;++Wt)Pt+=String.fromCharCode(this[Wt]);return Pt;case"base64":return $t=this,me=te,0===(cr=j)&&me===$t.length?b.fromByteArray($t):b.fromByteArray($t.slice(cr,me));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var $t=j,cr=te,Vt=this.slice($t,cr),mr="",Kt=0;Kt<Vt.length;Kt+=2)mr+=String.fromCharCode(Vt[Kt]+256*Vt[Kt+1]);return mr;default:if(xe)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),xe=!0}}function g(Y,j,te){var me=Y[j];Y[j]=Y[te],Y[te]=me}function D(Y,j,te,me,xe){if(0===Y.length)return-1;if("string"==typeof te?(me=te,te=0):2147483647<te?te=2147483647:te<-2147483648&&(te=-2147483648),(te=(te=ue(te=+te)?xe?0:Y.length-1:te)<0?Y.length+te:te)>=Y.length){if(xe)return-1;te=Y.length-1}else if(te<0){if(!xe)return-1;te=0}if("string"==typeof j&&(j=i.from(j,me)),i.isBuffer(j))return 0===j.length?-1:$(Y,j,te,me,xe);if("number"==typeof j)return j&=255,"function"==typeof Uint8Array.prototype.indexOf?(xe?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(Y,j,te):$(Y,[j],te,me,xe);throw new TypeError("val must be string, number or Buffer")}function $(Y,j,te,me,xe){var Be=1,qe=Y.length,ct=j.length;if(void 0!==me&&("ucs2"===(me=String(me).toLowerCase())||"ucs-2"===me||"utf16le"===me||"utf-16le"===me)){if(Y.length<2||j.length<2)return-1;qe/=Be=2,ct/=2,te/=2}function ze(Ye,ot){return 1===Be?Ye[ot]:Ye.readUInt16BE(ot*Be)}if(xe)for(var st=-1,lt=te;lt<qe;lt++)if(ze(Y,lt)===ze(j,-1===st?0:lt-st)){if(lt-(st=-1===st?lt:st)+1===ct)return st*Be}else-1!==st&&(lt-=lt-st),st=-1;else for(lt=te=qe<te+ct?qe-ct:te;0<=lt;lt--){for(var Fe=!0,rt=0;rt<ct;rt++)if(ze(Y,lt+rt)!==ze(j,rt)){Fe=!1;break}if(Fe)return lt}return-1}function L(Y,j,te,me){return G(function(xe){for(var Be=[],qe=0;qe<xe.length;++qe)Be.push(255&xe.charCodeAt(qe));return Be}(j),Y,te,me)}function P(Y,j,te,me){return G(function(xe,Be){for(var qe,ct,ze=[],st=0;st<xe.length&&!((Be-=2)<0);++st)qe=(ct=xe.charCodeAt(st))>>8,ze.push(ct%=256),ze.push(qe);return ze}(j,Y.length-te),Y,te,me)}function x(Y,j,te){te=Math.min(Y.length,te);for(var me=[],xe=j;xe<te;){var Be,qe,ct,ze,st=Y[xe],lt=null,Fe=239<st?4:223<st?3:191<st?2:1;if(xe+Fe<=te)switch(Fe){case 1:st<128&&(lt=st);break;case 2:128==(192&(Be=Y[xe+1]))&&127<(ze=(31&st)<<6|63&Be)&&(lt=ze);break;case 3:qe=Y[xe+2],128==(192&(Be=Y[xe+1]))&&128==(192&qe)&&2047<(ze=(15&st)<<12|(63&Be)<<6|63&qe)&&(ze<55296||57343<ze)&&(lt=ze);break;case 4:qe=Y[xe+2],ct=Y[xe+3],128==(192&(Be=Y[xe+1]))&&128==(192&qe)&&128==(192&ct)&&65535<(ze=(15&st)<<18|(63&Be)<<12|(63&qe)<<6|63&ct)&&ze<1114112&&(lt=ze)}null===lt?(lt=65533,Fe=1):65535<lt&&(me.push((lt-=65536)>>>10&1023|55296),lt=56320|1023&lt),me.push(lt),xe+=Fe}var rt=me,Ye=rt.length;if(Ye<=U)return String.fromCharCode.apply(String,rt);for(var ot="",Je=0;Je<Ye;)ot+=String.fromCharCode.apply(String,rt.slice(Je,Je+=U));return ot}V.kMaxLength=E,(i.TYPED_ARRAY_SUPPORT=function(){try{var Y=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(Y,j),42===Y.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=l,Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(Y,j,te){return a(Y),Y<=0||void 0===j?_(Y):"string"==typeof te?_(Y).fill(j,te):_(Y).fill(j)},i.allocUnsafe=u,i.allocUnsafeSlow=u,i.isBuffer=function(Y){return null!=Y&&!0===Y._isBuffer&&Y!==i.prototype},i.compare=function(Y,j){if(K(Y,Uint8Array)&&(Y=i.from(Y,Y.offset,Y.byteLength)),K(j,Uint8Array)&&(j=i.from(j,j.offset,j.byteLength)),!i.isBuffer(Y)||!i.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Y===j)return 0;for(var te=Y.length,me=j.length,xe=0,Be=Math.min(te,me);xe<Be;++xe)if(Y[xe]!==j[xe]){te=Y[xe],me=j[xe];break}return te<me?-1:me<te?1:0},i.isEncoding=function(Y){switch(String(Y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(Y,j){if(!Array.isArray(Y))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Y.length)return i.alloc(0);if(void 0===j)for(xe=j=0;xe<Y.length;++xe)j+=Y[xe].length;for(var te=i.allocUnsafe(j),me=0,xe=0;xe<Y.length;++xe){var Be=Y[xe];if(K(Be,Uint8Array)&&(Be=i.from(Be)),!i.isBuffer(Be))throw new TypeError('"list" argument must be an Array of Buffers');Be.copy(te,me),me+=Be.length}return te},i.byteLength=m,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var Y=this.length;if(Y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<Y;j+=2)g(this,j,j+1);return this},i.prototype.swap32=function(){var Y=this.length;if(Y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<Y;j+=4)g(this,j,j+3),g(this,j+1,j+2);return this},i.prototype.swap64=function(){var Y=this.length;if(Y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<Y;j+=8)g(this,j,j+7),g(this,j+1,j+6),g(this,j+2,j+5),g(this,j+3,j+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var Y=this.length;return 0===Y?"":0===arguments.length?x(this,0,Y):f.apply(this,arguments)},i.prototype.equals=function(Y){if(i.isBuffer(Y))return this===Y||0===i.compare(this,Y);throw new TypeError("Argument must be a Buffer")},i.prototype.inspect=function(){var j="",Y=V.INSPECT_MAX_BYTES;return j=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(j+=" ... "),"<Buffer "+j+">"},y&&(i.prototype[y]=i.prototype.inspect),i.prototype.compare=function(Y,j,te,me,xe){if(K(Y,Uint8Array)&&(Y=i.from(Y,Y.offset,Y.byteLength)),!i.isBuffer(Y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Y);if(void 0===te&&(te=Y?Y.length:0),void 0===me&&(me=0),void 0===xe&&(xe=this.length),(j=void 0===j?0:j)<0||te>Y.length||me<0||xe>this.length)throw new RangeError("out of range index");if(xe<=me&&te<=j)return 0;if(xe<=me)return-1;if(te<=j)return 1;if(this===Y)return 0;for(var Be=(xe>>>=0)-(me>>>=0),qe=(te>>>=0)-(j>>>=0),ct=Math.min(Be,qe),ze=this.slice(me,xe),st=Y.slice(j,te),lt=0;lt<ct;++lt)if(ze[lt]!==st[lt]){Be=ze[lt],qe=st[lt];break}return Be<qe?-1:qe<Be?1:0},i.prototype.includes=function(Y,j,te){return-1!==this.indexOf(Y,j,te)},i.prototype.indexOf=function(Y,j,te){return D(this,Y,j,te,!0)},i.prototype.lastIndexOf=function(Y,j,te){return D(this,Y,j,te,!1)},i.prototype.write=function(Y,j,te,me){if(void 0===j)me="utf8",te=this.length,j=0;else if(void 0===te&&"string"==typeof j)me=j,te=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j>>>=0,isFinite(te)?(te>>>=0,void 0===me&&(me="utf8")):(me=te,te=void 0)}var xe=this.length-j;if((void 0===te||xe<te)&&(te=xe),0<Y.length&&(te<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");me=me||"utf8";for(var Be,qe,ct,ze=!1;;)switch(me){case"hex":var lt=Y,Fe=j,rt=te,Ye=(Fe=Number(Fe)||0,this.length-Fe);(!rt||Ye<(rt=Number(rt)))&&(rt=Ye),(Ye=lt.length)/2<rt&&(rt=Ye/2);for(var ot=0;ot<rt;++ot){var Je=parseInt(lt.substr(2*ot,2),16);if(ue(Je))return ot;this[Fe+ot]=Je}return ot;case"utf8":case"utf-8":return ct=te,G(re(Y,(qe=this).length-(Ye=j)),qe,Ye,ct);case"ascii":case"latin1":case"binary":return L(this,Y,j,te);case"base64":return qe=this,ct=j,Be=te,G(W(Y),qe,ct,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,Y,j,te);default:if(ze)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),ze=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;function I(Y,j,te){if(Y%1!=0||Y<0)throw new RangeError("offset is not uint");if(te<Y+j)throw new RangeError("Trying to access beyond buffer length")}function F(Y,j,te,me,xe,Be){if(!i.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(xe<j||j<Be)throw new RangeError('"value" argument is out of bounds');if(te+me>Y.length)throw new RangeError("Index out of range")}function R(Y,j,te,me){if(te+me>Y.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function Z(Y,j,te,me,xe){return j=+j,te>>>=0,xe||R(Y,0,te,4),p.write(Y,j,te,me,23,4),te+4}function oe(Y,j,te,me,xe){return j=+j,te>>>=0,xe||R(Y,0,te,8),p.write(Y,j,te,me,52,8),te+8}i.prototype.slice=function(Y,j){var te=this.length;return(Y=~~Y)<0?(Y+=te)<0&&(Y=0):te<Y&&(Y=te),(j=void 0===j?te:~~j)<0?(j+=te)<0&&(j=0):te<j&&(j=te),j<Y&&(j=Y),te=this.subarray(Y,j),Object.setPrototypeOf(te,i.prototype),te},i.prototype.readUIntLE=function(Y,j,te){Y>>>=0,j>>>=0,te||I(Y,j,this.length);for(var me=this[Y],xe=1,Be=0;++Be<j&&(xe*=256);)me+=this[Y+Be]*xe;return me},i.prototype.readUIntBE=function(Y,j,te){Y>>>=0,j>>>=0,te||I(Y,j,this.length);for(var me=this[Y+--j],xe=1;0<j&&(xe*=256);)me+=this[Y+--j]*xe;return me},i.prototype.readUInt8=function(Y,j){return Y>>>=0,j||I(Y,1,this.length),this[Y]},i.prototype.readUInt16LE=function(Y,j){return Y>>>=0,j||I(Y,2,this.length),this[Y]|this[Y+1]<<8},i.prototype.readUInt16BE=function(Y,j){return Y>>>=0,j||I(Y,2,this.length),this[Y]<<8|this[Y+1]},i.prototype.readUInt32LE=function(Y,j){return Y>>>=0,j||I(Y,4,this.length),(this[Y]|this[Y+1]<<8|this[Y+2]<<16)+16777216*this[Y+3]},i.prototype.readUInt32BE=function(Y,j){return Y>>>=0,j||I(Y,4,this.length),16777216*this[Y]+(this[Y+1]<<16|this[Y+2]<<8|this[Y+3])},i.prototype.readIntLE=function(Y,j,te){Y>>>=0,j>>>=0,te||I(Y,j,this.length);for(var me=this[Y],xe=1,Be=0;++Be<j&&(xe*=256);)me+=this[Y+Be]*xe;return(xe*=128)<=me&&(me-=Math.pow(2,8*j)),me},i.prototype.readIntBE=function(Y,j,te){Y>>>=0,j>>>=0,te||I(Y,j,this.length);for(var me=j,xe=1,Be=this[Y+--me];0<me&&(xe*=256);)Be+=this[Y+--me]*xe;return(xe*=128)<=Be&&(Be-=Math.pow(2,8*j)),Be},i.prototype.readInt8=function(Y,j){return Y>>>=0,j||I(Y,1,this.length),128&this[Y]?-1*(255-this[Y]+1):this[Y]},i.prototype.readInt16LE=function(Y,j){return Y>>>=0,j||I(Y,2,this.length),32768&(j=this[Y]|this[Y+1]<<8)?4294901760|j:j},i.prototype.readInt16BE=function(Y,j){return Y>>>=0,j||I(Y,2,this.length),32768&(j=this[Y+1]|this[Y]<<8)?4294901760|j:j},i.prototype.readInt32LE=function(Y,j){return Y>>>=0,j||I(Y,4,this.length),this[Y]|this[Y+1]<<8|this[Y+2]<<16|this[Y+3]<<24},i.prototype.readInt32BE=function(Y,j){return Y>>>=0,j||I(Y,4,this.length),this[Y]<<24|this[Y+1]<<16|this[Y+2]<<8|this[Y+3]},i.prototype.readFloatLE=function(Y,j){return Y>>>=0,j||I(Y,4,this.length),p.read(this,Y,!0,23,4)},i.prototype.readFloatBE=function(Y,j){return Y>>>=0,j||I(Y,4,this.length),p.read(this,Y,!1,23,4)},i.prototype.readDoubleLE=function(Y,j){return Y>>>=0,j||I(Y,8,this.length),p.read(this,Y,!0,52,8)},i.prototype.readDoubleBE=function(Y,j){return Y>>>=0,j||I(Y,8,this.length),p.read(this,Y,!1,52,8)},i.prototype.writeUIntLE=function(Y,j,te,me){Y=+Y,j>>>=0,te>>>=0,me||F(this,Y,j,te,Math.pow(2,8*te)-1,0);var xe=1,Be=0;for(this[j]=255&Y;++Be<te&&(xe*=256);)this[j+Be]=Y/xe&255;return j+te},i.prototype.writeUIntBE=function(Y,j,te,me){Y=+Y,j>>>=0,te>>>=0,me||F(this,Y,j,te,Math.pow(2,8*te)-1,0);var xe=te-1,Be=1;for(this[j+xe]=255&Y;0<=--xe&&(Be*=256);)this[j+xe]=Y/Be&255;return j+te},i.prototype.writeUInt8=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,1,255,0),this[j]=255&Y,j+1},i.prototype.writeUInt16LE=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,2,65535,0),this[j]=255&Y,this[j+1]=Y>>>8,j+2},i.prototype.writeUInt16BE=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,2,65535,0),this[j]=Y>>>8,this[j+1]=255&Y,j+2},i.prototype.writeUInt32LE=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,4,4294967295,0),this[j+3]=Y>>>24,this[j+2]=Y>>>16,this[j+1]=Y>>>8,this[j]=255&Y,j+4},i.prototype.writeUInt32BE=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,4,4294967295,0),this[j]=Y>>>24,this[j+1]=Y>>>16,this[j+2]=Y>>>8,this[j+3]=255&Y,j+4},i.prototype.writeIntLE=function(Y,j,te,me){Y=+Y,j>>>=0,me||F(this,Y,j,te,(me=Math.pow(2,8*te-1))-1,-me);var xe=0,Be=1,qe=0;for(this[j]=255&Y;++xe<te&&(Be*=256);)Y<0&&0===qe&&0!==this[j+xe-1]&&(qe=1),this[j+xe]=(Y/Be|0)-qe&255;return j+te},i.prototype.writeIntBE=function(Y,j,te,me){Y=+Y,j>>>=0,me||F(this,Y,j,te,(me=Math.pow(2,8*te-1))-1,-me);var xe=te-1,Be=1,qe=0;for(this[j+xe]=255&Y;0<=--xe&&(Be*=256);)Y<0&&0===qe&&0!==this[j+xe+1]&&(qe=1),this[j+xe]=(Y/Be|0)-qe&255;return j+te},i.prototype.writeInt8=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,1,127,-128),this[j]=255&(Y=Y<0?255+Y+1:Y),j+1},i.prototype.writeInt16LE=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,2,32767,-32768),this[j]=255&Y,this[j+1]=Y>>>8,j+2},i.prototype.writeInt16BE=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,2,32767,-32768),this[j]=Y>>>8,this[j+1]=255&Y,j+2},i.prototype.writeInt32LE=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,4,2147483647,-2147483648),this[j]=255&Y,this[j+1]=Y>>>8,this[j+2]=Y>>>16,this[j+3]=Y>>>24,j+4},i.prototype.writeInt32BE=function(Y,j,te){return Y=+Y,j>>>=0,te||F(this,Y,j,4,2147483647,-2147483648),this[j]=(Y=Y<0?4294967295+Y+1:Y)>>>24,this[j+1]=Y>>>16,this[j+2]=Y>>>8,this[j+3]=255&Y,j+4},i.prototype.writeFloatLE=function(Y,j,te){return Z(this,Y,j,!0,te)},i.prototype.writeFloatBE=function(Y,j,te){return Z(this,Y,j,!1,te)},i.prototype.writeDoubleLE=function(Y,j,te){return oe(this,Y,j,!0,te)},i.prototype.writeDoubleBE=function(Y,j,te){return oe(this,Y,j,!1,te)},i.prototype.copy=function(Y,j,te,me){if(!i.isBuffer(Y))throw new TypeError("argument should be a Buffer");if(te=te||0,me||0===me||(me=this.length),j>=Y.length&&(j=Y.length),(me=0<me&&me<te?te:me)===te||0===Y.length||0===this.length)return 0;if((j=j||0)<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length);var xe=(me=Y.length-j<me-te?Y.length-j+te:me)-te;if(this===Y&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(j,te,me);else if(this===Y&&te<j&&j<me)for(var Be=xe-1;0<=Be;--Be)Y[Be+j]=this[Be+te];else Uint8Array.prototype.set.call(Y,this.subarray(te,me),j);return xe},i.prototype.fill=function(Y,j,te,me){if("string"==typeof Y){if("string"==typeof j?(me=j,j=0,te=this.length):"string"==typeof te&&(me=te,te=this.length),void 0!==me&&"string"!=typeof me)throw new TypeError("encoding must be a string");if("string"==typeof me&&!i.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var xe;1===Y.length&&(xe=Y.charCodeAt(0),("utf8"===me&&xe<128||"latin1"===me)&&(Y=xe))}else"number"==typeof Y?Y&=255:"boolean"==typeof Y&&(Y=Number(Y));if(j<0||this.length<j||this.length<te)throw new RangeError("Out of range index");var Be;if(!(te<=j))if(j>>>=0,te=void 0===te?this.length:te>>>0,"number"==typeof(Y=Y||0))for(Be=j;Be<te;++Be)this[Be]=Y;else{var qe=i.isBuffer(Y)?Y:i.from(Y,me),ct=qe.length;if(0===ct)throw new TypeError('The value "'+Y+'" is invalid for argument "value"');for(Be=0;Be<te-j;++Be)this[Be+j]=qe[Be%ct]}return this};var q=/[^+/0-9A-Za-z-_]/g;function re(Y,j){j=j||1/0;for(var te,me=Y.length,xe=null,Be=[],qe=0;qe<me;++qe){if(55295<(te=Y.charCodeAt(qe))&&te<57344){if(!xe){if(56319<te){-1<(j-=3)&&Be.push(239,191,189);continue}if(qe+1===me){-1<(j-=3)&&Be.push(239,191,189);continue}xe=te;continue}if(te<56320){-1<(j-=3)&&Be.push(239,191,189),xe=te;continue}te=65536+(xe-55296<<10|te-56320)}else xe&&-1<(j-=3)&&Be.push(239,191,189);if(xe=null,te<128){if(--j<0)break;Be.push(te)}else if(te<2048){if((j-=2)<0)break;Be.push(te>>6|192,63&te|128)}else if(te<65536){if((j-=3)<0)break;Be.push(te>>12|224,te>>6&63|128,63&te|128)}else{if(!(te<1114112))throw new Error("Invalid code point");if((j-=4)<0)break;Be.push(te>>18|240,te>>12&63|128,te>>6&63|128,63&te|128)}}return Be}function W(Y){return b.toByteArray(function(j){if((j=(j=j.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;j.length%4!=0;)j+="=";return j}(Y))}function G(Y,j,te,me){for(var xe=0;xe<me&&!(xe+te>=j.length||xe>=Y.length);++xe)j[xe+te]=Y[xe];return xe}function K(Y,j){return Y instanceof j||null!=Y&&null!=Y.constructor&&null!=Y.constructor.name&&Y.constructor.name===j.name}function ue(Y){return Y!=Y}var Me=function(){for(var Y="0123456789abcdef",j=new Array(256),te=0;te<16;++te)for(var me=16*te,xe=0;xe<16;++xe)j[me+xe]=Y[te]+Y[xe];return j}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(o,se,V){se.exports=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(o,se,V){var v=o("../internals/is-object");se.exports=function(b){if(v(b)||null===b)return b;throw TypeError("Can't set "+String(b)+" as a prototype")}},{"../internals/is-object":75}],7:[function(p,se,V){var v=p("../internals/well-known-symbol"),b=p("../internals/object-create"),y=(p=p("../internals/object-define-property"),v("unscopables")),E=Array.prototype;null==E[y]&&p.f(E,y,{configurable:!0,value:b(null)}),se.exports=function(_){E[y][_]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(o,se,V){"use strict";var v=o("../internals/string-multibyte").charAt;se.exports=function(b,p,y){return p+(y?v(b,p).length:1)}},{"../internals/string-multibyte":125}],9:[function(o,se,V){se.exports=function(v,b,p){if(v instanceof b)return v;throw TypeError("Incorrect "+(p?p+" ":"")+"invocation")}},{}],10:[function(o,se,V){var v=o("../internals/is-object");se.exports=function(b){if(v(b))return b;throw TypeError(String(b)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,se,V){se.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(R,se,V){"use strict";function v(oe){return _(oe)&&i(Z,l(oe))}var b,p=R("../internals/array-buffer-native"),y=R("../internals/descriptors"),E=R("../internals/global"),_=R("../internals/is-object"),i=R("../internals/has"),l=R("../internals/classof"),a=R("../internals/create-non-enumerable-property"),u=R("../internals/redefine"),h=R("../internals/object-define-property").f,d=R("../internals/object-get-prototype-of"),m=R("../internals/object-set-prototype-of"),U=R("../internals/well-known-symbol"),f=(R=R("../internals/uid"),E.Int8Array),g=f&&f.prototype,D=(D=E.Uint8ClampedArray)&&D.prototype,$=f&&d(f),L=g&&d(g),P=Object.prototype,x=P.isPrototypeOf,I=(U=U("toStringTag"),R("TYPED_ARRAY_TAG")),F=p&&!!m&&"Opera"!==l(E.opera),Z=(R=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(b in Z)E[b]||(F=!1);if((!F||"function"!=typeof $||$===Function.prototype)&&($=function(){throw TypeError("Incorrect invocation")},F))for(b in Z)E[b]&&m(E[b],$);if((!F||!L||L===P)&&(L=$.prototype,F))for(b in Z)E[b]&&m(E[b].prototype,L);if(F&&d(D)!==L&&m(D,L),y&&!i(L,U))for(b in R=!0,h(L,U,{get:function(){return _(this)?this[I]:void 0}}),Z)E[b]&&a(E[b],I,b);se.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:R&&I,aTypedArray:function(oe){if(v(oe))return oe;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(oe){if(m){if(x.call($,oe))return oe}else for(var q in Z)if(i(Z,b)&&(q=E[q])&&(oe===q||x.call(q,oe)))return oe;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(oe,q,re){if(y){if(re)for(var W in Z)(W=E[W])&&i(W.prototype,oe)&&delete W.prototype[oe];L[oe]&&!re||u(L,oe,!re&&F&&g[oe]||q)}},exportTypedArrayStaticMethod:function(oe,q,re){var W,G;if(y){if(m){if(re)for(W in Z)(G=E[W])&&i(G,oe)&&delete G[oe];if($[oe]&&!re)return;try{return u($,oe,!re&&F&&f[oe]||q)}catch{}}for(W in Z)!(G=E[W])||G[oe]&&!re||u(G,oe,q)}},isView:function(oe){return"DataView"===(oe=l(oe))||i(Z,oe)},isTypedArray:v,TypedArray:$,TypedArrayPrototype:L}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(te,se,V){"use strict";function v(Fe){return[255&Fe]}function b(Fe){return[255&Fe,Fe>>8&255]}function p(Fe){return[255&Fe,Fe>>8&255,Fe>>16&255,Fe>>24&255]}function y(Fe){return Fe[3]<<24|Fe[2]<<16|Fe[1]<<8|Fe[0]}function E(Fe){return Be(Fe,23,4)}function _(Fe){return Be(Fe,52,8)}function i(Fe,rt){R(Fe[K],rt,{get:function(){return q(this)[rt]}})}function l(Pt,rt,ft,ot){if((ft=P(ft))+rt>(Pt=q(Pt)).byteLength)throw xe(ue);return Pt=q(Pt.buffer).bytes.slice(ft+=Pt.byteOffset,ft+rt),ot?Pt:Pt.reverse()}function a(Fe,rt,Ye,ot,Je,ft){if((Ye=P(Ye))+rt>(Fe=q(Fe)).byteLength)throw xe(ue);for(var Pt=q(Fe.buffer).bytes,Wt=Ye+Fe.byteOffset,$t=ot(+Je),cr=0;cr<rt;cr++)Pt[Wt+cr]=$t[ft?cr:rt-cr-1]}var u=te("../internals/global"),h=te("../internals/descriptors"),d=te("../internals/array-buffer-native"),m=te("../internals/create-non-enumerable-property"),f=te("../internals/redefine-all"),g=te("../internals/fails"),D=te("../internals/an-instance"),$=te("../internals/to-integer"),L=te("../internals/to-length"),P=te("../internals/to-index"),x=te("../internals/ieee754"),U=te("../internals/object-get-prototype-of"),I=te("../internals/object-set-prototype-of"),F=te("../internals/object-get-own-property-names").f,R=te("../internals/object-define-property").f,Z=te("../internals/array-fill"),oe=te("../internals/set-to-string-tag"),q=(te=te("../internals/internal-state")).get,re=te.set,W="ArrayBuffer",G="DataView",K="prototype",ue="Wrong index",Me=u[W],Y=Me,j=u[G],me=(te=j&&j[K],Object.prototype),xe=u.RangeError,Be=x.pack,qe=x.unpack;if(d){if(!g(function(){Me(1)})||!g(function(){new Me(-1)})||g(function(){return new Me,new Me(1.5),new Me(NaN),Me.name!=W})){u=(Y=function(Ye){return D(this,Y),new Me(P(Ye))})[K]=Me[K];for(var ct,ze=F(Me),st=0;ze.length>st;)(ct=ze[st++])in Y||m(Y,ct,Me[ct]);u.constructor=Y}I&&U(te)!==me&&I(te,me),x=new j(new Y(2));var lt=te.setInt8;x.setInt8(0,2147483648),x.setInt8(1,2147483649),!x.getInt8(0)&&x.getInt8(1)||f(te,{setInt8:function(rt,Ye){lt.call(this,rt,Ye<<24>>24)},setUint8:function(rt,Ye){lt.call(this,rt,Ye<<24>>24)}},{unsafe:!0})}else Y=function(Fe){D(this,Y,W),Fe=P(Fe),re(this,{bytes:Z.call(new Array(Fe),0),byteLength:Fe}),h||(this.byteLength=Fe)},j=function(Fe,Je,Ye){D(this,j,G),D(Fe,Y,G);var ot=q(Fe).byteLength;if((Je=$(Je))<0||ot<Je)throw xe("Wrong offset");if(ot<Je+(Ye=void 0===Ye?ot-Je:L(Ye)))throw xe("Wrong length");re(this,{buffer:Fe,byteLength:Ye,byteOffset:Je}),h||(this.buffer=Fe,this.byteLength=Ye,this.byteOffset=Je)},h&&(i(Y,"byteLength"),i(j,"buffer"),i(j,"byteLength"),i(j,"byteOffset")),f(j[K],{getInt8:function(Fe){return l(this,1,Fe)[0]<<24>>24},getUint8:function(Fe){return l(this,1,Fe)[0]},getInt16:function(Fe){return((Fe=l(this,2,Fe,1<arguments.length?arguments[1]:void 0))[1]<<8|Fe[0])<<16>>16},getUint16:function(Fe){return(Fe=l(this,2,Fe,1<arguments.length?arguments[1]:void 0))[1]<<8|Fe[0]},getInt32:function(Fe){return y(l(this,4,Fe,1<arguments.length?arguments[1]:void 0))},getUint32:function(Fe){return y(l(this,4,Fe,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Fe){return qe(l(this,4,Fe,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Fe){return qe(l(this,8,Fe,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Fe,rt){a(this,1,Fe,v,rt)},setUint8:function(Fe,rt){a(this,1,Fe,v,rt)},setInt16:function(Fe,rt){a(this,2,Fe,b,rt,2<arguments.length?arguments[2]:void 0)},setUint16:function(Fe,rt){a(this,2,Fe,b,rt,2<arguments.length?arguments[2]:void 0)},setInt32:function(Fe,rt){a(this,4,Fe,p,rt,2<arguments.length?arguments[2]:void 0)},setUint32:function(Fe,rt){a(this,4,Fe,p,rt,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Fe,rt){a(this,4,Fe,E,rt,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Fe,rt){a(this,8,Fe,_,rt,2<arguments.length?arguments[2]:void 0)}});oe(Y,W),oe(j,G),se.exports={ArrayBuffer:Y,DataView:j}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(o,se,V){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),p=o("../internals/to-length"),y=Math.min;se.exports=[].copyWithin||function(h,_){var i=v(this),l=p(i.length),a=b(h,l),u=b(_,l),d=y((void 0===(h=2<arguments.length?arguments[2]:void 0)?l:b(h,l))-u,l-a),m=1;for(u<a&&a<u+d&&(m=-1,u+=d-1,a+=d-1);0<d--;)u in i?i[a]=i[u]:delete i[a],a+=m,u+=m;return i}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(o,se,V){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),p=o("../internals/to-length");se.exports=function(y){for(var l,E=v(this),_=p(E.length),i=b(1<(l=arguments.length)?arguments[1]:void 0,_),a=void 0===(l=2<l?arguments[2]:void 0)?_:b(l,_);i<a;)E[i++]=y;return E}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(p,se,V){"use strict";var v=p("../internals/array-iteration").forEach,b=p("../internals/array-method-is-strict");p=p("../internals/array-method-uses-to-length"),b=b("forEach"),p=p("forEach"),se.exports=b&&p?[].forEach:function(y){return v(this,y,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,se,V){"use strict";var v=o("../internals/function-bind-context"),b=o("../internals/to-object"),p=o("../internals/call-with-safe-iteration-closing"),y=o("../internals/is-array-iterator-method"),E=o("../internals/to-length"),_=o("../internals/create-property"),i=o("../internals/get-iterator-method");se.exports=function(D){var a,u,h,d,m,f,g=b(D),$=(D="function"==typeof this?this:Array,arguments.length),L=1<$?arguments[1]:void 0,P=void 0!==L,x=i(g),U=0;if(P&&(L=v(L,2<$?arguments[2]:void 0,2)),null==x||D==Array&&y(x))for(u=new D(a=E(g.length));U<a;U++)f=P?L(g[U],U):g[U],_(u,U,f);else for(m=(d=x.call(g)).next,u=new D;!(h=m.call(d)).done;U++)f=P?p(d,L,[h.value,U],!0):h.value,_(u,U,f);return u.length=U,u}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(o,se,V){function v(E){return function(_,i,l){var a,u=b(_),h=p(u.length),d=y(l,h);if(E&&i!=i){for(;d<h;)if((a=u[d++])!=a)return!0}else for(;d<h;d++)if((E||d in u)&&u[d]===i)return E||d||0;return!E&&-1}}var b=o("../internals/to-indexed-object"),p=o("../internals/to-length"),y=o("../internals/to-absolute-index");se.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(o,se,V){function v(l){var a=1==l,u=2==l,h=3==l,d=4==l,m=6==l,f=5==l||m;return function(g,D,$,L){for(var P,x,U=y(g),I=p(U),F=b(D,$,3),R=E(I.length),Z=0,oe=(D=L||_,a?D(g,R):u?D(g,0):void 0);Z<R;Z++)if((f||Z in I)&&(x=F(P=I[Z],Z,U),l))if(a)oe[Z]=x;else if(x)switch(l){case 3:return!0;case 5:return P;case 6:return Z;case 2:i.call(oe,P)}else if(d)return!1;return m?-1:h||d?d:oe}}var b=o("../internals/function-bind-context"),p=o("../internals/indexed-object"),y=o("../internals/to-object"),E=o("../internals/to-length"),_=o("../internals/array-species-create"),i=[].push;se.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(l,se,V){"use strict";var v=l("../internals/to-indexed-object"),b=l("../internals/to-integer"),p=l("../internals/to-length"),i=l("../internals/array-method-is-strict"),y=(l=l("../internals/array-method-uses-to-length"),Math.min),E=[].lastIndexOf,_=!!E&&1/[1].lastIndexOf(1,-0)<0;i=i("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0}),se.exports=!_&&i&&l?E:function(a){if(_)return E.apply(this,arguments)||0;var u=v(this),h=p(u.length),d=h-1;for((d=1<arguments.length?y(d,b(arguments[1])):d)<0&&(d=h+d);0<=d;d--)if(d in u&&u[d]===a)return d||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(o,se,V){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),p=o("../internals/engine-v8-version"),y=b("species");se.exports=function(E){return 51<=p||!v(function(){var _=[];return(_.constructor={})[y]=function(){return{foo:1}},1!==_[E](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(o,se,V){"use strict";var v=o("../internals/fails");se.exports=function(b,p){var y=[][b];return!!y&&v(function(){y.call(null,p||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,se,V){function v(i){throw i}var b=o("../internals/descriptors"),p=o("../internals/fails"),y=o("../internals/has"),E=Object.defineProperty,_={};se.exports=function(i,l){var a,u,h,d;return y(_,i)?_[i]:(a=[][i],u=!!y(l=l||{},"ACCESSORS")&&l.ACCESSORS,h=y(l,0)?l[0]:v,d=y(l,1)?l[1]:void 0,_[i]=!!a&&!p(function(){if(u&&!b)return!0;var m={length:-1};u?E(m,1,{enumerable:!0,get:v}):m[1]=1,a.call(m,h,d)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,se,V){function v(_){return function(i,l,a,u){b(l);var h=p(i),d=y(h),m=E(h.length),f=_?m-1:0,g=_?-1:1;if(a<2)for(;;){if(f in d){u=d[f],f+=g;break}if(f+=g,_?f<0:m<=f)throw TypeError("Reduce of empty array with no initial value")}for(;_?0<=f:f<m;f+=g)f in d&&(u=l(u,d[f],f,h));return u}}var b=o("../internals/a-function"),p=o("../internals/to-object"),y=o("../internals/indexed-object"),E=o("../internals/to-length");se.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(o,se,V){var v=o("../internals/is-object"),b=o("../internals/is-array"),p=o("../internals/well-known-symbol")("species");se.exports=function(y,E){var _;return new(void 0===(_=b(y)&&("function"==typeof(_=y.constructor)&&(_===Array||b(_.prototype))||v(_)&&null===(_=_[p]))?void 0:_)?Array:_)(0===E?0:E)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(o,se,V){var v=o("../internals/an-object");se.exports=function(b,p,y,E){try{return E?p(v(y)[0],y[1]):p(y)}catch(_){throw void 0!==(E=b.return)&&v(E.call(b)),_}}},{"../internals/an-object":10}],27:[function(o,se,V){var v=o("../internals/well-known-symbol")("iterator"),b=!1;try{var p=0,y={next:function(){return{done:!!p++}},return:function(){b=!0}};y[v]=function(){return this},Array.from(y,function(){throw 2})}catch{}se.exports=function(E,_){if(!_&&!b)return!1;var i=!1;try{var l={};l[v]=function(){return{next:function(){return{done:i=!0}}}},E(l)}catch{}return i}},{"../internals/well-known-symbol":150}],28:[function(o,se,V){var v={}.toString;se.exports=function(b){return v.call(b).slice(8,-1)}},{}],29:[function(o,se,V){var v=o("../internals/to-string-tag-support"),b=o("../internals/classof-raw"),p=o("../internals/well-known-symbol")("toStringTag"),y="Arguments"==b(function(){return arguments}());se.exports=v?b:function(E){var _;return void 0===E?"Undefined":null===E?"Null":"string"==typeof(_=function(i,l){try{return i[l]}catch{}}(E=Object(E),p))?_:y?b(E):"Object"==(_=b(E))&&"function"==typeof E.callee?"Arguments":_}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(h,se,V){"use strict";var v=h("../internals/object-define-property").f,b=h("../internals/object-create"),p=h("../internals/redefine-all"),y=h("../internals/function-bind-context"),E=h("../internals/an-instance"),_=h("../internals/iterate"),i=h("../internals/define-iterator"),l=h("../internals/set-species"),a=h("../internals/descriptors"),u=h("../internals/internal-metadata").fastKey,d=(h=h("../internals/internal-state")).set,m=h.getterFor;se.exports={getConstructor:function(f,g,D,$){function L(I,F,R){var Z,oe=U(I),q=P(I,F);return q?q.value=R:(oe.last=q={index:Z=u(F,!0),key:F,value:R,previous:F=oe.last,next:void 0,removed:!1},oe.first||(oe.first=q),F&&(F.next=q),a?oe.size++:I.size++,"F"!==Z&&(oe.index[Z]=q)),I}function P(Z,F){Z=U(Z);var R,oe=u(F);if("F"!==oe)return Z.index[oe];for(R=Z.first;R;R=R.next)if(R.key==F)return R}var x=f(function(I,F){E(I,x,g),d(I,{type:g,index:b(null),first:void 0,last:void 0,size:0}),a||(I.size=0),null!=F&&_(F,I[$],I,D)}),U=m(g);return p(x.prototype,{clear:function(){for(var I=U(this),F=I.index,R=I.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=void 0),delete F[R.index],R=R.next;I.first=I.last=void 0,a?I.size=0:this.size=0},delete:function(oe){var F,R,Z=U(this);return(oe=P(this,oe))&&(F=oe.next,R=oe.previous,delete Z.index[oe.index],oe.removed=!0,R&&(R.next=F),F&&(F.previous=R),Z.first==oe&&(Z.first=F),Z.last==oe&&(Z.last=R),a?Z.size--:this.size--),!!oe},forEach:function(I){for(var F,R=U(this),Z=y(I,1<arguments.length?arguments[1]:void 0,3);F=F?F.next:R.first;)for(Z(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(I){return!!P(this,I)}}),p(x.prototype,D?{get:function(I){return(I=P(this,I))&&I.value},set:function(I,F){return L(this,0===I?0:I,F)}}:{add:function(I){return L(this,I=0===I?0:I,I)}}),a&&v(x.prototype,"size",{get:function(){return U(this).size}}),x},setStrong:function(f,g,D){var $=g+" Iterator",L=m(g),P=m($);i(f,g,function(x,U){d(this,{type:$,target:x,state:L(x),kind:U,last:void 0})},function(){for(var x=P(this),U=x.kind,I=x.last;I&&I.removed;)I=I.previous;return x.target&&(x.last=I=I?I.next:x.state.first)?"keys"==U?{value:I.key,done:!1}:"values"==U?{value:I.value,done:!1}:{value:[I.key,I.value],done:!1}:{value:x.target=void 0,done:!0}},D?"entries":"values",!D,!0),l(g)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(d,se,V){"use strict";function v(L){return L.frozen||(L.frozen=new b)}function b(){this.entries=[]}function p(L,P){return g(L.entries,function(x){return x[0]===P})}var y=d("../internals/redefine-all"),E=d("../internals/internal-metadata").getWeakData,_=d("../internals/an-object"),i=d("../internals/is-object"),l=d("../internals/an-instance"),a=d("../internals/iterate"),u=d("../internals/array-iteration"),h=d("../internals/has"),m=(d=d("../internals/internal-state")).set,f=d.getterFor,g=u.find,D=u.findIndex,$=0;b.prototype={get:function(L){if(L=p(this,L))return L[1]},has:function(L){return!!p(this,L)},set:function(L,P){var x=p(this,L);x?x[1]=P:this.entries.push([L,P])},delete:function(L){var P=D(this.entries,function(x){return x[0]===L});return~P&&this.entries.splice(P,1),!!~P}},se.exports={getConstructor:function(L,P,x,U){function I(Z,oe,q){var re=R(Z),W=E(_(oe),!0);return!0===W?v(re).set(oe,q):W[re.id]=q,Z}var F=L(function(Z,oe){l(Z,F,P),m(Z,{type:P,id:$++,frozen:void 0}),null!=oe&&a(oe,Z[U],Z,x)}),R=f(P);return y(F.prototype,{delete:function(Z){var oe,q=R(this);return!!i(Z)&&(!0===(oe=E(Z))?v(q).delete(Z):oe&&h(oe,q.id)&&delete oe[q.id])},has:function(Z){var oe,q=R(this);return!!i(Z)&&(!0===(oe=E(Z))?v(q).has(Z):oe&&h(oe,q.id))}}),y(F.prototype,x?{get:function(Z){var oe,q=R(this);if(i(Z))return!0===(oe=E(Z))?v(q).get(Z):oe?oe[q.id]:void 0},set:function(Z,oe){return I(this,Z,oe)}}:{add:function(Z){return I(this,Z,!0)}}),F}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/global"),p=o("../internals/is-forced"),y=o("../internals/redefine"),E=o("../internals/internal-metadata"),_=o("../internals/iterate"),i=o("../internals/an-instance"),l=o("../internals/is-object"),a=o("../internals/fails"),u=o("../internals/check-correctness-of-iteration"),h=o("../internals/set-to-string-tag"),d=o("../internals/inherit-if-required");se.exports=function(m,f,g){function D(W){var G=oe[W];y(oe,W,"add"==W?function(K){return G.call(this,0===K?0:K),this}:"delete"==W?function(K){return!(F&&!l(K))&&G.call(this,0===K?0:K)}:"get"==W?function(K){return F&&!l(K)?void 0:G.call(this,0===K?0:K)}:"has"==W?function(K){return!(F&&!l(K))&&G.call(this,0===K?0:K)}:function(K,ue){return G.call(this,0===K?0:K,ue),this})}var $,L,P,x,U,I=-1!==m.indexOf("Map"),F=-1!==m.indexOf("Weak"),R=I?"set":"add",Z=b[m],oe=Z&&Z.prototype,q=Z,re={};return p(m,"function"!=typeof Z||!(F||oe.forEach&&!a(function(){(new Z).entries().next()})))?(q=g.getConstructor(f,m,I,R),E.REQUIRED=!0):p(m,!0)&&(L=($=new q)[R](F?{}:-0,1)!=$,P=a(function(){$.has(1)}),x=u(function(W){new Z(W)}),U=!F&&a(function(){for(var W=new Z,G=5;G--;)W[R](G,G);return!W.has(-0)}),x||(((q=f(function(W,G){return i(W,q,m),W=d(new Z,W,q),null!=G&&_(G,W[R],W,I),W})).prototype=oe).constructor=q),(P||U)&&(D("delete"),D("has"),I&&D("get")),(U||L)&&D(R),F&&oe.clear&&delete oe.clear),re[m]=q,v({global:!0,forced:q!=Z},re),h(q,m),F||g.setStrong(q,m,I),q}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(o,se,V){var v=o("../internals/has"),b=o("../internals/own-keys"),p=o("../internals/object-get-own-property-descriptor"),y=o("../internals/object-define-property");se.exports=function(E,_){for(var i=b(_),l=y.f,a=p.f,u=0;u<i.length;u++){var h=i[u];v(E,h)||l(E,h,a(_,h))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(o,se,V){var v=o("../internals/well-known-symbol")("match");se.exports=function(b){var p=/./;try{"/./"[b](p)}catch{try{return p[v]=!1,"/./"[b](p)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(o,se,V){o=o("../internals/fails"),se.exports=!o(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(o,se,V){var v=o("../internals/require-object-coercible"),b=/"/g;se.exports=function(i,y,E,_){i=String(v(i));var l="<"+y;return""!==E&&(l+=" "+E+'="'+String(_).replace(b,"&quot;")+'"'),l+">"+i+"</"+y+">"}},{"../internals/require-object-coercible":115}],37:[function(o,se,V){"use strict";function v(){return this}var b=o("../internals/iterators-core").IteratorPrototype,p=o("../internals/object-create"),y=o("../internals/create-property-descriptor"),E=o("../internals/set-to-string-tag"),_=o("../internals/iterators");se.exports=function(i,l,a){return l+=" Iterator",i.prototype=p(b,{next:y(1,a)}),E(i,l,!1,!0),_[l]=v,i}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),p=o("../internals/create-property-descriptor");se.exports=v?function(y,E,_){return b.f(y,E,p(1,_))}:function(y,E,_){return y[E]=_,y}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,se,V){se.exports=function(v,b){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:b}}},{}],40:[function(o,se,V){"use strict";var v=o("../internals/to-primitive"),b=o("../internals/object-define-property"),p=o("../internals/create-property-descriptor");se.exports=function(y,E,_){(E=v(E))in y?b.f(y,E,p(0,_)):y[E]=_}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(d,se,V){"use strict";function v(){return this}var b=d("../internals/export"),p=d("../internals/create-iterator-constructor"),y=d("../internals/object-get-prototype-of"),E=d("../internals/object-set-prototype-of"),_=d("../internals/set-to-string-tag"),i=d("../internals/create-non-enumerable-property"),l=d("../internals/redefine"),a=d("../internals/well-known-symbol"),u=d("../internals/is-pure"),h=d("../internals/iterators"),m=(d=d("../internals/iterators-core")).IteratorPrototype,f=d.BUGGY_SAFARI_ITERATORS,g=a("iterator"),D="values",$="entries";se.exports=function(L,P,x,re,I,F,R){function Z(Y){if(Y===I&&ue)return ue;if(!f&&Y in G)return G[Y];switch(Y){case"keys":case D:case $:return function(){return new x(this,Y)}}return function(){return new x(this)}}p(x,P,re),re=P+" Iterator";var oe,q,W=!1,G=L.prototype,K=G[g]||G["@@iterator"]||I&&G[I],ue=!f&&K||Z(I),Me="Array"==P&&G.entries||K;if(Me&&(Me=y(Me.call(new L)),m!==Object.prototype&&Me.next&&(u||y(Me)===m||(E?E(Me,m):"function"!=typeof Me[g]&&i(Me,g,v)),_(Me,re,!0,!0),u&&(h[re]=v))),I==D&&K&&K.name!==D&&(W=!0,ue=function(){return K.call(this)}),u&&!R||G[g]===ue||i(G,g,ue),h[P]=ue,I)if(oe={values:Z(D),keys:F?ue:Z("keys"),entries:Z($)},R)for(q in oe)!f&&!W&&q in G||l(G,q,oe[q]);else b({target:P,proto:!0,forced:f||W},oe);return oe}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(o,se,V){var v=o("../internals/path"),b=o("../internals/has"),p=o("../internals/well-known-symbol-wrapped"),y=o("../internals/object-define-property").f;se.exports=function(E){var _=v.Symbol||(v.Symbol={});b(_,E)||y(_,E,{value:p.f(E)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(o,se,V){o=o("../internals/fails"),se.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(b,se,V){var v=b("../internals/global"),p=(b=b("../internals/is-object"),v.document),y=b(p)&&b(p.createElement);se.exports=function(E){return y?p.createElement(E):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,se,V){se.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,se,V){o=o("../internals/engine-user-agent"),se.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,se,V){o=o("../internals/get-built-in"),se.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(p,se,V){var v,b,y=p("../internals/global");p=p("../internals/engine-user-agent"),(y=(y=(y=y.process)&&y.versions)&&y.v8)?b=(v=y.split("."))[0]+v[1]:p&&(!(v=p.match(/Edge\/(\d+)/))||74<=v[1])&&(v=p.match(/Chrome\/(\d+)/))&&(b=v[1]),se.exports=b&&+b},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,se,V){se.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,se,V){var v=o("../internals/global"),b=o("../internals/object-get-own-property-descriptor").f,p=o("../internals/create-non-enumerable-property"),y=o("../internals/redefine"),E=o("../internals/set-global"),_=o("../internals/copy-constructor-properties"),i=o("../internals/is-forced");se.exports=function(l,a){var u,h,d,m=l.target,f=l.global,g=l.stat,D=f?v:g?v[m]||E(m,{}):(v[m]||{}).prototype;if(D)for(u in a){if(h=a[u],d=l.noTargetGet?(d=b(D,u))&&d.value:D[u],!i(f?u:m+(g?".":"#")+u,l.forced)&&void 0!==d){if(typeof h==typeof d)continue;_(h,d)}(l.sham||d&&d.sham)&&p(h,"sham",!0),y(D,u,h,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(o,se,V){se.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(a,se,V){"use strict";a("../modules/es.regexp.exec");var v=a("../internals/redefine"),b=a("../internals/fails"),p=a("../internals/well-known-symbol"),y=a("../internals/regexp-exec"),E=a("../internals/create-non-enumerable-property"),_=p("species"),i=!b(function(){var d=/./;return d.exec=function(){var m=[];return m.groups={a:"7"},m},"7"!=="".replace(d,"$<a>")}),l="$0"==="a".replace(/./,"$0"),u=!!/./[a=p("replace")]&&""===/./[a]("a","$0"),h=!b(function(){var d=(m=/(?:)/).exec,m=(m.exec=function(){return d.apply(this,arguments)},"ab".split(m));return 2!==m.length||"a"!==m[0]||"b"!==m[1]});se.exports=function(d,m,f,g){var D,$,L=p(d),P=!b(function(){var U={};return U[L]=function(){return 7},7!=""[d](U)}),x=P&&!b(function(){var U=!1,I=/a/;return"split"===d&&((I={constructor:{}}).constructor[_]=function(){return I},I.flags="",I[L]=/./[L]),I.exec=function(){return U=!0,null},I[L](""),!U});P&&x&&("replace"!==d||i&&l&&!u)&&("split"!==d||h)||(D=/./[L],f=(x=f(L,""[d],function(U,I,F,R,Z){return I.exec===y?P&&!Z?{done:!0,value:D.call(I,F,R)}:{done:!0,value:U.call(F,I,R)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}))[0],$=x[1],v(String.prototype,d,f),v(RegExp.prototype,L,2==m?function(U,I){return $.call(U,this,I)}:function(U){return $.call(U,this)})),g&&E(RegExp.prototype[L],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(o,se,V){"use strict";var b=o("../internals/is-array"),p=o("../internals/to-length"),y=o("../internals/function-bind-context");se.exports=function v(E,_,i,l,a,u,h,d){for(var m,f=a,g=0,D=!!h&&y(h,d,3);g<l;){if(g in i){if(m=D?D(i[g],g,_):i[g],0<u&&b(m))f=v(E,_,m,p(m.length),f,u-1)-1;else{if(9007199254740991<=f)throw TypeError("Exceed the acceptable array length");E[f]=m}f++}g++}return f}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(o,se,V){o=o("../internals/fails"),se.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,se,V){var v=o("../internals/a-function");se.exports=function(b,p,y){if(v(b),void 0===p)return b;switch(y){case 0:return function(){return b.call(p)};case 1:return function(E){return b.call(p,E)};case 2:return function(E,_){return b.call(p,E,_)};case 3:return function(E,_,i){return b.call(p,E,_,i)}}return function(){return b.apply(p,arguments)}}},{"../internals/a-function":5}],56:[function(o,se,V){"use strict";var v=o("../internals/a-function"),b=o("../internals/is-object"),p=[].slice,y={};se.exports=Function.bind||function(E){var _=v(this),i=p.call(arguments,1),l=function(){var a=i.concat(p.call(arguments));if(this instanceof l){var u=_,h=a.length,d=a;if(!(h in y)){for(var m=[],f=0;f<h;f++)m[f]="a["+f+"]";y[h]=Function("C,a","return new C("+m.join(",")+")")}return y[h](u,d)}return _.apply(E,a)};return b(_.prototype)&&(l.prototype=_.prototype),l}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,se,V){function v(y){return"function"==typeof y?y:void 0}var b=o("../internals/path"),p=o("../internals/global");se.exports=function(y,E){return arguments.length<2?v(b[y])||v(p[y]):b[y]&&b[y][E]||p[y]&&p[y][E]}},{"../internals/global":60,"../internals/path":106}],58:[function(o,se,V){var v=o("../internals/classof"),b=o("../internals/iterators"),p=o("../internals/well-known-symbol")("iterator");se.exports=function(y){if(null!=y)return y[p]||y["@@iterator"]||b[v(y)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(o,se,V){var v=o("../internals/an-object"),b=o("../internals/get-iterator-method");se.exports=function(p){var y=b(p);if("function"!=typeof y)throw TypeError(String(p)+" is not iterable");return v(y.call(p))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,se,V){(function(v){function b(p){return p&&p.Math==Math&&p}se.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof v&&v)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,se,V){var v={}.hasOwnProperty;se.exports=function(b,p){return v.call(b,p)}},{}],62:[function(o,se,V){se.exports={}},{}],63:[function(o,se,V){var v=o("../internals/global");se.exports=function(b,p){var y=v.console;y&&y.error&&(1===arguments.length?y.error(b):y.error(b,p))}},{"../internals/global":60}],64:[function(o,se,V){o=o("../internals/get-built-in"),se.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/fails"),p=o("../internals/document-create-element");se.exports=!v&&!b(function(){return 7!=Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,se,V){var v=Math.abs,b=Math.pow,p=Math.floor,y=Math.log,E=Math.LN2;se.exports={pack:function(_,i,f){var a,u,h,d=new Array(f),m=8*f-i-1,g=(f=(1<<m)-1)>>1,D=23===i?b(2,-24)-b(2,-77):0,$=_<0||0===_&&1/_<0?1:0,L=0;for((_=v(_))!=_||_===1/0?(u=_!=_?1:0,a=f):(a=p(y(_)/E),_*(h=b(2,-a))<1&&(a--,h*=2),2<=(_+=1<=a+g?D/h:D*b(2,1-g))*h&&(a++,h/=2),f<=a+g?(u=0,a=f):1<=a+g?(u=(_*h-1)*b(2,i),a+=g):(u=_*b(2,g-1)*b(2,i),a=0));8<=i;d[L++]=255&u,u/=256,i-=8);for(a=a<<i|u,m+=i;0<m;d[L++]=255&a,a/=256,m-=8);return d[--L]|=128*$,d},unpack:function(_,i){var l,f,a=_.length,u=(1<<(f=8*a-i-1))-1,h=u>>1,d=f-7,m=a-1,g=127&(f=_[m--]);for(f>>=7;0<d;g=256*g+_[m],m--,d-=8);for(l=g&(1<<-d)-1,g>>=-d,d+=i;0<d;l=256*l+_[m],m--,d-=8);if(0===g)g=1-h;else{if(g===u)return l?NaN:f?-1/0:1/0;l+=b(2,i),g-=h}return(f?-1:1)*l*b(2,g-i)}}},{}],67:[function(o,se,V){var v=o("../internals/fails"),b=o("../internals/classof-raw"),p="".split;se.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return"String"==b(y)?p.call(y,""):Object(y)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,se,V){var v=o("../internals/is-object"),b=o("../internals/object-set-prototype-of");se.exports=function(p,y,E){return b&&"function"==typeof(y=y.constructor)&&y!==E&&v(y=y.prototype)&&y!==E.prototype&&b(p,y),p}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(v,se,V){v=v("../internals/shared-store");var b=Function.toString;"function"!=typeof v.inspectSource&&(v.inspectSource=function(p){return b.call(p)}),se.exports=v.inspectSource},{"../internals/shared-store":121}],70:[function(o,se,V){function v(d){E(d,l,{value:{objectID:"O"+ ++a,weakData:{}}})}var b=o("../internals/hidden-keys"),p=o("../internals/is-object"),y=o("../internals/has"),E=o("../internals/object-define-property").f,_=o("../internals/uid"),i=o("../internals/freezing"),l=_("meta"),a=0,u=Object.isExtensible||function(){return!0},h=se.exports={REQUIRED:!1,fastKey:function(d,m){if(!p(d))return"symbol"==typeof d?d:("string"==typeof d?"S":"P")+d;if(!y(d,l)){if(!u(d))return"F";if(!m)return"E";v(d)}return d[l].objectID},getWeakData:function(d,m){if(!y(d,l)){if(!u(d))return!0;if(!m)return!1;v(d)}return d[l].weakData},onFreeze:function(d){return i&&h.REQUIRED&&u(d)&&!y(d,l)&&v(d),d}};b[l]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(f,se,V){var v,b,p,y,E,_,i,l,a=f("../internals/native-weak-map"),g=f("../internals/global"),u=f("../internals/is-object"),h=f("../internals/create-non-enumerable-property"),d=f("../internals/has"),m=f("../internals/shared-key");f=f("../internals/hidden-keys"),g=g.WeakMap,i=a?(v=new g,b=v.get,p=v.has,y=v.set,E=function(D,$){return y.call(v,D,$),$},_=function(D){return b.call(v,D)||{}},function(D){return p.call(v,D)}):(f[l=m("state")]=!0,E=function(D,$){return h(D,l,$),$},_=function(D){return d(D,l)?D[l]:{}},function(D){return d(D,l)}),se.exports={set:E,get:_,has:i,enforce:function(D){return i(D)?_(D):E(D,{})},getterFor:function(D){return function($){if(u($)&&($=_($)).type===D)return $;throw TypeError("Incompatible receiver, "+D+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(o,se,V){var v=o("../internals/well-known-symbol"),b=o("../internals/iterators"),p=v("iterator"),y=Array.prototype;se.exports=function(E){return void 0!==E&&(b.Array===E||y[p]===E)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(o,se,V){var v=o("../internals/classof-raw");se.exports=Array.isArray||function(b){return"Array"==v(b)}},{"../internals/classof-raw":28}],74:[function(o,se,V){function v(l,a){return(l=E[y(l)])==i||l!=_&&("function"==typeof a?b(a):!!a)}var b=o("../internals/fails"),p=/#|\.prototype\./,y=v.normalize=function(l){return String(l).replace(p,".").toLowerCase()},E=v.data={},_=v.NATIVE="N",i=v.POLYFILL="P";se.exports=v},{"../internals/fails":51}],75:[function(o,se,V){se.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},{}],76:[function(o,se,V){se.exports=!1},{}],77:[function(o,se,V){var v=o("../internals/is-object"),b=o("../internals/classof-raw"),p=o("../internals/well-known-symbol")("match");se.exports=function(y){var E;return v(y)&&(void 0!==(E=y[p])?!!E:"RegExp"==b(y))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(o,se,V){function v(l,a){this.stopped=l,this.result=a}var b=o("../internals/an-object"),p=o("../internals/is-array-iterator-method"),y=o("../internals/to-length"),E=o("../internals/function-bind-context"),_=o("../internals/get-iterator-method"),i=o("../internals/call-with-safe-iteration-closing");(se.exports=function(l,a,u,h,d){var m,f,g,D,$,L,P=E(a,u,h?2:1);if(d)m=l;else{if("function"!=typeof(a=_(l)))throw TypeError("Target is not iterable");if(p(a)){for(f=0,g=y(l.length);f<g;f++)if((D=h?P(b(L=l[f])[0],L[1]):P(l[f]))&&D instanceof v)return D;return new v(!1)}m=a.call(l)}for($=m.next;!(L=$.call(m)).done;)if("object"==typeof(D=i(m,P,L.value,h))&&D&&D instanceof v)return D;return new v(!1)}).stop=function(l){return new v(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(_,se,V){"use strict";var v,b,p=_("../internals/object-get-prototype-of"),y=_("../internals/create-non-enumerable-property"),E=_("../internals/has"),i=_("../internals/well-known-symbol"),l=(_=_("../internals/is-pure"),i=i("iterator"),!1);[].keys&&("next"in(b=[].keys())?(p=p(p(b)))!==Object.prototype&&(v=p):l=!0),null==v&&(v={}),_||E(v,i)||y(v,i,function(){return this}),se.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(o,se,V){se.exports={}},{}],81:[function(o,se,V){se.exports=Math.sign||function(v){return 0==(v=+v)||v!=v?v:v<0?-1:1}},{}],82:[function(h,se,V){var v,b,p,y,E,_,i,l,a=h("../internals/global"),$=h("../internals/object-get-own-property-descriptor").f,D=h("../internals/classof-raw"),u=h("../internals/task").set,d=(h=h("../internals/engine-is-ios"),a.MutationObserver||a.WebKitMutationObserver),m=a.process,f=a.Promise,g="process"==D(m);D=$(a,"queueMicrotask"),($=D&&D.value)||(v=function(){var L,P;for(g&&(L=m.domain)&&L.exit();b;){P=b.fn,b=b.next;try{P()}catch(x){throw b?y():p=void 0,x}}p=void 0,L&&L.enter()},y=g?function(){m.nextTick(v)}:d&&!h?(E=!0,_=document.createTextNode(""),new d(v).observe(_,{characterData:!0}),function(){_.data=E=!E}):f&&f.resolve?(i=f.resolve(void 0),l=i.then,function(){l.call(i,v)}):function(){u.call(a,v)}),se.exports=$||function(L){L={fn:L,next:void 0},p&&(p.next=L),b||(b=L,y()),p=L}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(o,se,V){o=o("../internals/global"),se.exports=o.Promise},{"../internals/global":60}],84:[function(o,se,V){o=o("../internals/fails"),se.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,se,V){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),p=o("../internals/is-pure"),y=b("iterator");se.exports=!v(function(){var E=new URL("b?a=1&b=2&c=3","http://a"),_=E.searchParams,i="";return E.pathname="c%20d",_.forEach(function(l,a){_.delete("b"),i+=a+l}),p&&!E.toJSON||!_.sort||"http://a/c%20d?a=1&c=3"!==E.href||"3"!==_.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!_[y]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(v,se,V){var b=v("../internals/global");v=v("../internals/inspect-source"),se.exports="function"==typeof(b=b.WeakMap)&&/native code/.test(v(b))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,se,V){"use strict";function v(p){var y,E;this.promise=new p(function(_,i){if(void 0!==y||void 0!==E)throw TypeError("Bad Promise constructor");y=_,E=i}),this.resolve=b(y),this.reject=b(E)}var b=o("../internals/a-function");se.exports.f=function(p){return new v(p)}},{"../internals/a-function":5}],88:[function(o,se,V){var v=o("../internals/is-regexp");se.exports=function(b){if(v(b))throw TypeError("The method doesn't accept regular expressions");return b}},{"../internals/is-regexp":77}],89:[function(o,se,V){var v=o("../internals/global").isFinite;se.exports=Number.isFinite||function(b){return"number"==typeof b&&v(b)}},{"../internals/global":60}],90:[function(o,se,V){"use strict";var v=o("../internals/descriptors"),b=o("../internals/fails"),p=o("../internals/object-keys"),y=o("../internals/object-get-own-property-symbols"),E=o("../internals/object-property-is-enumerable"),_=o("../internals/to-object"),i=o("../internals/indexed-object"),l=Object.assign,a=Object.defineProperty;se.exports=!l||b(function(){var u,h,d,m;return!(!v||1===l({b:1},l(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(h={},m="abcdefghijklmnopqrst",(u={})[d=Symbol()]=7,m.split("").forEach(function(f){h[f]=f}),7!=l({},u)[d]||p(l({},h)).join("")!=m)})?function(u,h){for(var d=_(u),m=arguments.length,f=1,g=y.f,D=E.f;f<m;)for(var $,L=i(arguments[f++]),P=g?p(L).concat(g(L)):p(L),x=P.length,U=0;U<x;)$=P[U++],v&&!D.call(L,$)||(d[$]=L[$]);return d}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(a,se,V){function v(){}var b,p=a("../internals/an-object"),y=a("../internals/object-define-properties"),E=a("../internals/enum-bug-keys"),_=a("../internals/hidden-keys"),i=a("../internals/html"),l=a("../internals/document-create-element"),u=(a=a("../internals/shared-key"),"prototype"),h="script",d=a("IE_PROTO"),m=function(g){return"<"+h+">"+g+"</"+h+">"},f=function(){try{b=document.domain&&new ActiveXObject("htmlfile")}catch{}f=b?((g=b).write(m("")),g.close(),D=g.parentWindow.Object,g=null,D):(g=l("iframe"),D="java"+h+":",g.style.display="none",i.appendChild(g),g.src=String(D),(D=g.contentWindow.document).open(),D.write(m("document.F=Object")),D.close(),D.F);for(var g,D,$=E.length;$--;)delete f[u][E[$]];return f()};_[d]=!0,se.exports=Object.create||function(g,D){var $;return null!==g?(v[u]=p(g),$=new v,v[u]=null,$[d]=g):$=f(),void 0===D?$:y($,D)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),p=o("../internals/an-object"),y=o("../internals/object-keys");se.exports=v?Object.defineProperties:function(E,_){p(E);for(var i,l=y(_),a=l.length,u=0;u<a;)b.f(E,i=l[u++],_[i]);return E}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/ie8-dom-define"),p=o("../internals/an-object"),y=o("../internals/to-primitive"),E=Object.defineProperty;V.f=v?E:function(_,i,l){if(p(_),i=y(i,!0),p(l),b)try{return E(_,i,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(_[i]=l.value),_}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/object-property-is-enumerable"),p=o("../internals/create-property-descriptor"),y=o("../internals/to-indexed-object"),E=o("../internals/to-primitive"),_=o("../internals/has"),i=o("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;V.f=v?l:function(a,u){if(a=y(a),u=E(u,!0),i)try{return l(a,u)}catch{}if(_(a,u))return p(!b.f.call(a,u),a[u])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(o,se,V){var v=o("../internals/to-indexed-object"),b=o("../internals/object-get-own-property-names").f,p={}.toString,y="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];se.exports.f=function(E){if(!y||"[object Window]"!=p.call(E))return b(v(E));try{return b(E)}catch{return y.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(o,se,V){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys").concat("length","prototype");V.f=Object.getOwnPropertyNames||function(p){return v(p,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,se,V){V.f=Object.getOwnPropertySymbols},{}],98:[function(y,se,V){var v=y("../internals/has"),b=y("../internals/to-object"),p=y("../internals/shared-key"),E=(y=y("../internals/correct-prototype-getter"),p("IE_PROTO")),_=Object.prototype;se.exports=y?Object.getPrototypeOf:function(i){return i=b(i),v(i,E)?i[E]:"function"==typeof i.constructor&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?_:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(o,se,V){var v=o("../internals/has"),b=o("../internals/to-indexed-object"),p=o("../internals/array-includes").indexOf,y=o("../internals/hidden-keys");se.exports=function(E,_){var i,l=b(E),a=0,u=[];for(i in l)!v(y,i)&&v(l,i)&&u.push(i);for(;_.length>a;)!v(l,i=_[a++])||~p(u,i)||u.push(i);return u}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(o,se,V){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys");se.exports=Object.keys||function(p){return v(p,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,se,V){"use strict";var v={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,p=b&&!v.call({1:2},1);V.f=p?function(y){return!!(y=b(this,y))&&y.enumerable}:v},{}],102:[function(o,se,V){var v=o("../internals/an-object"),b=o("../internals/a-possible-prototype");se.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,y=!1,E={};try{(p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),y=E instanceof Array}catch{}return function(_,i){return v(_),b(i),y?p.call(_,i):_.__proto__=i,_}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,se,V){function v(_){return function(i){for(var l,a=y(i),u=p(a),h=u.length,d=0,m=[];d<h;)l=u[d++],b&&!E.call(a,l)||m.push(_?[l,a[l]]:a[l]);return m}}var b=o("../internals/descriptors"),p=o("../internals/object-keys"),y=o("../internals/to-indexed-object"),E=o("../internals/object-property-is-enumerable").f;se.exports={entries:v(!0),values:v(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(o,se,V){"use strict";var v=o("../internals/to-string-tag-support"),b=o("../internals/classof");se.exports=v?{}.toString:function(){return"[object "+b(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(o,se,V){var v=o("../internals/get-built-in"),b=o("../internals/object-get-own-property-names"),p=o("../internals/object-get-own-property-symbols"),y=o("../internals/an-object");se.exports=v("Reflect","ownKeys")||function(E){var _=b.f(y(E)),i=p.f;return i?_.concat(i(E)):_}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(o,se,V){o=o("../internals/global"),se.exports=o},{"../internals/global":60}],107:[function(o,se,V){se.exports=function(v){try{return{error:!1,value:v()}}catch(b){return{error:!0,value:b}}}},{}],108:[function(o,se,V){var v=o("../internals/an-object"),b=o("../internals/is-object"),p=o("../internals/new-promise-capability");se.exports=function(y,E){return v(y),b(E)&&E.constructor===y?E:((0,(y=p.f(y)).resolve)(E),y.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(o,se,V){var v=o("../internals/redefine");se.exports=function(b,p,y){for(var E in p)v(b,E,p[E],y);return b}},{"../internals/redefine":110}],110:[function(_,se,V){var v=_("../internals/global"),b=_("../internals/create-non-enumerable-property"),p=_("../internals/has"),y=_("../internals/set-global"),E=_("../internals/inspect-source"),i=(_=_("../internals/internal-state")).get,l=_.enforce,a=String(String).split("String");(se.exports=function(u,h,d,D){var f=!!D&&!!D.unsafe,g=!!D&&!!D.enumerable;D=!!D&&!!D.noTargetGet,"function"==typeof d&&("string"!=typeof h||p(d,"name")||b(d,"name",h),l(d).source=a.join("string"==typeof h?h:"")),u===v?g?u[h]=d:y(h,d):(f?!D&&u[h]&&(g=!0):delete u[h],g?u[h]=d:b(u,h,d))})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||E(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(o,se,V){var v=o("./classof-raw"),b=o("./regexp-exec");se.exports=function(p,y){var E=p.exec;if("function"==typeof E){if("object"!=typeof(E=E.call(p,y)))throw TypeError("RegExp exec method returned something other than an Object or null");return E}if("RegExp"!==v(p))throw TypeError("RegExp#exec called on incompatible receiver");return b.call(p,y)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(y,se,V){"use strict";var v,b,p=y("./regexp-flags"),E=(y=y("./regexp-sticky-helpers"),RegExp.prototype.exec),_=String.prototype.replace,i=E,l=(b=/b*/g,E.call(v=/a/,"a"),E.call(b,"a"),0!==v.lastIndex||0!==b.lastIndex),a=y.UNSUPPORTED_Y||y.BROKEN_CARET,u=void 0!==/()??/.exec("")[1];se.exports=i=l||u||a?function(h){var d,m,f,g,D=this,$=a&&D.sticky,L=p.call(D),P=D.source,x=0,U=h;return $&&(-1===(L=L.replace("y","")).indexOf("g")&&(L+="g"),U=String(h).slice(D.lastIndex),0<D.lastIndex&&(!D.multiline||D.multiline&&"\n"!==h[D.lastIndex-1])&&(P="(?: "+P+")",U=" "+U,x++),m=new RegExp("^(?:"+P+")",L)),u&&(m=new RegExp("^"+P+"$(?!\\s)",L)),l&&(d=D.lastIndex),f=E.call($?m:D,U),$?f?(f.input=f.input.slice(x),f[0]=f[0].slice(x),f.index=D.lastIndex,D.lastIndex+=f[0].length):D.lastIndex=0:l&&f&&(D.lastIndex=D.global?f.index+f[0].length:d),u&&f&&1<f.length&&_.call(f[0],m,function(){for(g=1;g<arguments.length-2;g++)void 0===arguments[g]&&(f[g]=void 0)}),f}:i},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(o,se,V){"use strict";var v=o("../internals/an-object");se.exports=function(){var b=v(this),p="";return b.global&&(p+="g"),b.ignoreCase&&(p+="i"),b.multiline&&(p+="m"),b.dotAll&&(p+="s"),b.unicode&&(p+="u"),b.sticky&&(p+="y"),p}},{"../internals/an-object":10}],114:[function(o,se,V){"use strict";function v(b,p){return RegExp(b,p)}o=o("./fails"),V.UNSUPPORTED_Y=o(function(){var b=v("a","y");return b.lastIndex=2,null!=b.exec("abcd")}),V.BROKEN_CARET=o(function(){var b=v("^r","gy");return b.lastIndex=2,null!=b.exec("str")})},{"./fails":51}],115:[function(o,se,V){se.exports=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v}},{}],116:[function(o,se,V){se.exports=Object.is||function(v,b){return v===b?0!==v||1/v==1/b:v!=v&&b!=b}},{}],117:[function(o,se,V){var v=o("../internals/global"),b=o("../internals/create-non-enumerable-property");se.exports=function(p,y){try{b(v,p,y)}catch{v[p]=y}return y}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(o,se,V){"use strict";var v=o("../internals/get-built-in"),b=o("../internals/object-define-property"),p=o("../internals/well-known-symbol"),y=o("../internals/descriptors"),E=p("species");se.exports=function(i){i=v(i),y&&i&&!i[E]&&(0,b.f)(i,E,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(o,se,V){var v=o("../internals/object-define-property").f,b=o("../internals/has"),p=o("../internals/well-known-symbol")("toStringTag");se.exports=function(y,E,_){y&&!b(y=_?y:y.prototype,p)&&v(y,p,{configurable:!0,value:E})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(o,se,V){var v=o("../internals/shared"),b=o("../internals/uid"),p=v("keys");se.exports=function(y){return p[y]||(p[y]=b(y))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(v,se,V){var p=v("../internals/global"),b=(v=v("../internals/set-global"),"__core-js_shared__");p=p[b]||v(b,{}),se.exports=p},{"../internals/global":60,"../internals/set-global":117}],122:[function(o,se,V){var v=o("../internals/is-pure"),b=o("../internals/shared-store");(se.exports=function(p,y){return b[p]||(b[p]=void 0!==y?y:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(o,se,V){var v=o("../internals/an-object"),b=o("../internals/a-function"),p=o("../internals/well-known-symbol")("species");se.exports=function(_,E){return void 0===(_=v(_).constructor)||null==(_=v(_)[p])?E:b(_)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(o,se,V){var v=o("../internals/fails");se.exports=function(b){return v(function(){var p=""[b]('"');return p!==p.toLowerCase()||3<p.split('"').length})}},{"../internals/fails":51}],125:[function(o,se,V){function v(y){return function(l,a){l=String(p(l)),a=b(a);var i,u=l.length;return a<0||u<=a?y?"":void 0:(i=l.charCodeAt(a))<55296||56319<i||a+1===u||(u=l.charCodeAt(a+1))<56320||57343<u?y?l.charAt(a):i:y?l.slice(a,a+2):u-56320+(i-55296<<10)+65536}}var b=o("../internals/to-integer"),p=o("../internals/require-object-coercible");se.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(o,se,V){o=o("../internals/engine-user-agent"),se.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],127:[function(o,se,V){function v(_){return function(u,m,d){var h=(u=String(y(u))).length;return d=void 0===d?" ":String(d),(m=b(m))<=h||""==d?u:((h=p.call(d,E((m-=h)/d.length))).length>m&&(h=h.slice(0,m)),_?u+h:h+u)}}var b=o("../internals/to-length"),p=o("../internals/string-repeat"),y=o("../internals/require-object-coercible"),E=Math.ceil;se.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(o,se,V){"use strict";function v(f){return f+22+75*(f<26)}function b(f){var g,D=[],$=(f=function(K){for(var ue=[],Me=0,Y=K.length;Me<Y;){var j,te=K.charCodeAt(Me++);55296<=te&&te<=56319&&Me<Y?56320==(64512&(j=K.charCodeAt(Me++)))?ue.push(((1023&te)<<10)+(1023&j)+65536):(ue.push(te),Me--):ue.push(te)}return ue}(f)).length,L=128,P=0,x=72;for(R=0;R<f.length;R++)(g=f[R])<128&&D.push(m(g));var U=D.length,I=U;for(U&&D.push("-");I<$;){for(var F=p,R=0;R<f.length;R++)L<=(g=f[R])&&g<F&&(F=g);var Z=I+1;if(F-L>d((p-P)/Z))throw RangeError(u);for(P+=(F-L)*Z,L=F,R=0;R<f.length;R++){if((g=f[R])<L&&++P>p)throw RangeError(u);if(g==L){for(var oe=P,q=y;;q+=y){var re=q<=x?1:x+E<=q?E:q-x;if(oe<re)break;var W=oe-re,G=y-re;D.push(m(v(re+W%G))),oe=d(W/G)}D.push(m(v(oe))),x=function(K,ue,Me){var Y=0;for(K=Me?d(K/i):K>>1,K+=d(K/ue);h*E>>1<K;Y+=y)K=d(K/h);return d(Y+(h+1)*K/(K+_))}(P,Z,I==U),P=0,++I}}++P,++L}return D.join("")}var p=2147483647,y=36,E=26,_=38,i=700,l=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",h=y-1,d=Math.floor,m=String.fromCharCode;se.exports=function(f){for(var g,D=[],$=f.toLowerCase().replace(a,".").split("."),L=0;L<$.length;L++)D.push(l.test(g=$[L])?"xn--"+b(g):g);return D.join(".")}},{}],129:[function(o,se,V){"use strict";var v=o("../internals/to-integer"),b=o("../internals/require-object-coercible");se.exports="".repeat||function(p){var y=String(b(this)),E="",_=v(p);if(_<0||_==1/0)throw RangeError("Wrong number of repetitions");for(;0<_;(_>>>=1)&&(y+=y))1&_&&(E+=y);return E}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(o,se,V){var v=o("../internals/fails"),b=o("../internals/whitespaces");se.exports=function(p){return v(function(){return!!b[p]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[p]()||b[p].name!==p})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(p,se,V){function v(_){return function(i){return i=String(b(i)),1&_&&(i=i.replace(y,"")),2&_?i.replace(E,""):i}}var b=p("../internals/require-object-coercible"),y=(p="["+p("../internals/whitespaces")+"]",RegExp("^"+p+p+"*")),E=RegExp(p+p+"*$");se.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(h,se,V){function v(I){return function(){U(I)}}function b(I){U(I.data)}function p(I){E.postMessage(I+"",d.protocol+"//"+d.host)}var y,E=h("../internals/global"),_=h("../internals/fails"),i=h("../internals/classof-raw"),l=h("../internals/function-bind-context"),a=h("../internals/html"),u=h("../internals/document-create-element"),d=(h=h("../internals/engine-is-ios"),E.location),m=E.setImmediate,f=E.clearImmediate,g=E.process,D=E.MessageChannel,$=E.Dispatch,L=0,P={},x="onreadystatechange",U=function(I){var F;P.hasOwnProperty(I)&&(F=P[I],delete P[I],F())};m&&f||(m=function(I){for(var F=[],R=1;R<arguments.length;)F.push(arguments[R++]);return P[++L]=function(){("function"==typeof I?I:Function(I)).apply(void 0,F)},y(L),L},f=function(I){delete P[I]},"process"==i(g)?y=function(I){g.nextTick(v(I))}:$&&$.now?y=function(I){$.now(v(I))}:D&&!h?(h=(i=new D).port2,i.port1.onmessage=b,y=l(h.postMessage,h,1)):!E.addEventListener||"function"!=typeof postMessage||E.importScripts||_(p)||"file:"===d.protocol?y=x in u("script")?function(I){a.appendChild(u("script"))[x]=function(){a.removeChild(this),U(I)}}:function(I){setTimeout(v(I),0)}:(y=p,E.addEventListener("message",b,!1))),se.exports={set:m,clear:f}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(o,se,V){var v=o("../internals/classof-raw");se.exports=function(b){if("number"!=typeof b&&"Number"!=v(b))throw TypeError("Incorrect invocation");return+b}},{"../internals/classof-raw":28}],134:[function(o,se,V){var v=o("../internals/to-integer"),b=Math.max,p=Math.min;se.exports=function(y,E){return(y=v(y))<0?b(y+E,0):p(y,E)}},{"../internals/to-integer":137}],135:[function(o,se,V){var v=o("../internals/to-integer"),b=o("../internals/to-length");se.exports=function(y){if(void 0===y)return 0;y=v(y);var E=b(y);if(y!==E)throw RangeError("Wrong length or index");return E}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(o,se,V){var v=o("../internals/indexed-object"),b=o("../internals/require-object-coercible");se.exports=function(p){return v(b(p))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(o,se,V){var v=Math.ceil,b=Math.floor;se.exports=function(p){return isNaN(p=+p)?0:(0<p?b:v)(p)}},{}],138:[function(o,se,V){var v=o("../internals/to-integer"),b=Math.min;se.exports=function(p){return 0<p?b(v(p),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(o,se,V){var v=o("../internals/require-object-coercible");se.exports=function(b){return Object(v(b))}},{"../internals/require-object-coercible":115}],140:[function(o,se,V){var v=o("../internals/to-positive-integer");se.exports=function(b,p){if((b=v(b))%p)throw RangeError("Wrong offset");return b}},{"../internals/to-positive-integer":141}],141:[function(o,se,V){var v=o("../internals/to-integer");se.exports=function(b){if((b=v(b))<0)throw RangeError("The argument can't be less than 0");return b}},{"../internals/to-integer":137}],142:[function(o,se,V){var v=o("../internals/is-object");se.exports=function(b,p){if(!v(b))return b;var y,E;if(p&&"function"==typeof(y=b.toString)&&!v(E=y.call(b))||"function"==typeof(y=b.valueOf)&&!v(E=y.call(b))||!p&&"function"==typeof(y=b.toString)&&!v(E=y.call(b)))return E;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(o,se,V){var v={};v[o("../internals/well-known-symbol")("toStringTag")]="z",se.exports="[object z]"===String(v)},{"../internals/well-known-symbol":150}],144:[function(o,se,V){"use strict";function v(Je,ft){for(var Pt=0,Wt=ft.length,$t=new(Fe(Je))(Wt);Pt<Wt;)$t[Pt]=ft[Pt++];return $t}function b(Je,ft){j(Je,ft,{get:function(){return Me(this)[ft]}})}function p(Je){return Je instanceof Be||"ArrayBuffer"==(Je=U(Je))||"SharedArrayBuffer"==Je}function y(Je,ft){return rt(Je)&&"symbol"!=typeof ft&&ft in Je&&String(+ft)==String(ft)}function E(Je,ft){return y(Je,ft=P(ft,!0))?f(2,Je[ft]):te(Je,ft)}function _(Je,ft,Pt){return!(y(Je,ft=P(ft,!0))&&I(Pt)&&x(Pt,"value"))||x(Pt,"get")||x(Pt,"set")||Pt.configurable||x(Pt,"writable")&&!Pt.writable||x(Pt,"enumerable")&&!Pt.enumerable?j(Je,ft,Pt):(Je[ft]=Pt.value,Je)}var i=o("../internals/export"),l=o("../internals/global"),a=o("../internals/descriptors"),u=o("../internals/typed-array-constructors-require-wrappers"),h=o("../internals/array-buffer-view-core"),d=o("../internals/array-buffer"),m=o("../internals/an-instance"),f=o("../internals/create-property-descriptor"),g=o("../internals/create-non-enumerable-property"),D=o("../internals/to-length"),$=o("../internals/to-index"),L=o("../internals/to-offset"),P=o("../internals/to-primitive"),x=o("../internals/has"),U=o("../internals/classof"),I=o("../internals/is-object"),F=o("../internals/object-create"),R=o("../internals/object-set-prototype-of"),Z=o("../internals/object-get-own-property-names").f,oe=o("../internals/typed-array-from"),q=o("../internals/array-iteration").forEach,re=o("../internals/set-species"),W=o("../internals/object-define-property"),G=o("../internals/object-get-own-property-descriptor"),K=o("../internals/internal-state"),ue=o("../internals/inherit-if-required"),Me=K.get,Y=K.set,j=W.f,te=G.f,me=Math.round,xe=l.RangeError,Be=d.ArrayBuffer,qe=d.DataView,ct=h.NATIVE_ARRAY_BUFFER_VIEWS,ze=h.TYPED_ARRAY_TAG,st=h.TypedArray,lt=h.TypedArrayPrototype,Fe=h.aTypedArrayConstructor,rt=h.isTypedArray,Ye="BYTES_PER_ELEMENT",ot="Wrong length";a?(ct||(G.f=E,W.f=_,b(lt,"buffer"),b(lt,"byteOffset"),b(lt,"byteLength"),b(lt,"length")),i({target:"Object",stat:!0,forced:!ct},{getOwnPropertyDescriptor:E,defineProperty:_}),se.exports=function(It,ft,Pt){function Wt(Ht,$e){j(Ht,$e,{get:function(){var We=this,Pe=$e;return(We=Me(We)).view[Vt](Pe*$t+We.byteOffset,!0)},set:function(We){var Pe=this,Xe=$e;Pe=Me(Pe),Pt&&(We=(We=me(We))<0?0:255<We?255:255&We),Pe.view[mr](Xe*$t+Pe.byteOffset,We,!0)},enumerable:!0})}var $t=It.match(/\d+$/)[0]/8,cr=It+(Pt?"Clamped":"")+"Array",Vt="get"+It,mr="set"+It,Kt=l[cr],hr=Kt,lr=(It=hr&&hr.prototype,{});ct?u&&(hr=ft(function(Ht,$e,We,Pe){return m(Ht,hr,cr),ue(I($e)?p($e)?void 0!==Pe?new Kt($e,L(We,$t),Pe):void 0!==We?new Kt($e,L(We,$t)):new Kt($e):rt($e)?v(hr,$e):oe.call(hr,$e):new Kt($($e)),Ht,hr)}),R&&R(hr,st),q(Z(Kt),function(Ht){Ht in hr||g(hr,Ht,Kt[Ht])}),hr.prototype=It):(hr=ft(function(Ht,$e,We,Pe){m(Ht,hr,cr);var Xe,wt,Ot=0,Xt=0;if(I($e)){if(!p($e))return rt($e)?v(hr,$e):oe.call(hr,$e);var Ct=$e;if(Xt=L(We,$t),We=$e.byteLength,void 0===Pe){if(We%$t||(Xe=We-Xt)<0)throw xe(ot)}else if(We<(Xe=D(Pe)*$t)+Xt)throw xe(ot);wt=Xe/$t}else wt=$($e),Ct=new Be(Xe=wt*$t);for(Y(Ht,{buffer:Ct,byteOffset:Xt,byteLength:Xe,length:wt,view:new qe(Ct)});Ot<wt;)Wt(Ht,Ot++)}),R&&R(hr,st),It=hr.prototype=F(lt)),It.constructor!==hr&&g(It,"constructor",hr),ze&&g(It,ze,cr),lr[cr]=hr,i({global:!0,forced:hr!=Kt,sham:!ct},lr),Ye in hr||g(hr,Ye,$t),Ye in It||g(It,Ye,$t),re(cr)}):se.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(y,se,V){var v=y("../internals/global"),b=y("../internals/fails"),p=y("../internals/check-correctness-of-iteration"),E=(y=y("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v.ArrayBuffer),_=v.Int8Array;se.exports=!y||!b(function(){_(1)})||!b(function(){new _(-1)})||!p(function(i){new _,new _(null),new _(1.5),new _(i)},!0)||b(function(){return 1!==new _(new E(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(o,se,V){var v=o("../internals/to-object"),b=o("../internals/to-length"),p=o("../internals/get-iterator-method"),y=o("../internals/is-array-iterator-method"),E=o("../internals/function-bind-context"),_=o("../internals/array-buffer-view-core").aTypedArrayConstructor;se.exports=function(i){var l,a,u,h,d,m,f=v(i),g=arguments.length,D=1<g?arguments[1]:void 0,$=void 0!==D,L=p(f);if(null!=L&&!y(L))for(m=(d=L.call(f)).next,f=[];!(h=m.call(d)).done;)f.push(h.value);for($&&2<g&&(D=E(D,arguments[2],2)),a=b(f.length),u=new(_(this))(a),l=0;l<a;l++)u[l]=$?D(f[l],l):f[l];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(o,se,V){var v=0,b=Math.random();se.exports=function(p){return"Symbol("+String(void 0===p?"":p)+")_"+(++v+b).toString(36)}},{}],148:[function(o,se,V){o=o("../internals/native-symbol"),se.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],149:[function(o,se,V){o=o("../internals/well-known-symbol"),V.f=o},{"../internals/well-known-symbol":150}],150:[function(_,se,V){var v=_("../internals/global"),b=_("../internals/shared"),p=_("../internals/has"),y=_("../internals/uid"),E=_("../internals/native-symbol"),i=(_=_("../internals/use-symbol-as-uid"),b("wks")),l=v.Symbol,a=_?l:l&&l.withoutSetter||y;se.exports=function(u){return p(i,u)||(i[u]=E&&p(l,u)?l[u]:a("Symbol."+u)),i[u]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(o,se,V){se.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],152:[function(p,se,V){"use strict";var v=p("../internals/export"),b=p("../internals/global"),E=p("../internals/array-buffer"),y=(p=p("../internals/set-species"),"ArrayBuffer");v({global:!0,forced:b[y]!==(E=E[y])},{ArrayBuffer:E}),p(y)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(f,se,V){"use strict";var v=f("../internals/export"),b=f("../internals/fails"),p=f("../internals/is-array"),y=f("../internals/is-object"),E=f("../internals/to-object"),_=f("../internals/to-length"),i=f("../internals/create-property"),l=f("../internals/array-species-create"),a=f("../internals/array-method-has-species-support"),m=f("../internals/well-known-symbol"),u=(f=f("../internals/engine-v8-version"),m("isConcatSpreadable")),h=9007199254740991,d="Maximum allowed index exceeded";m=51<=f||!b(function(){var g=[];return g[u]=!1,g.concat()[0]!==g}),f=a("concat"),v({target:"Array",proto:!0,forced:!m||!f},{concat:function(g){for(var D,$,L,P,x,U=E(this),I=l(U,0),F=0,R=-1,Z=arguments.length;R<Z;R++)if(x=void 0,y(P=L=-1===R?U:arguments[R])&&(void 0!==(x=P[u])?x:p(P))){if($=_(L.length),h<F+$)throw TypeError(d);for(D=0;D<$;D++,F++)D in L&&i(I,F,L[D])}else{if(h<=F)throw TypeError(d);i(I,F++,L)}return I.length=F,I}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(p,se,V){var v=p("../internals/export"),b=p("../internals/array-copy-within");p=p("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{copyWithin:b}),p("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(y,se,V){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").every,p=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),p=p("every"),y=y("every"),v({target:"Array",proto:!0,forced:!p||!y},{every:function(E){return b(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(p,se,V){var v=p("../internals/export"),b=p("../internals/array-fill");p=p("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{fill:b}),p("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(y,se,V){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").filter,p=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),p=p("filter"),y=y("filter"),v({target:"Array",proto:!0,forced:!p||!y},{filter:function(E){return b(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(_,se,V){"use strict";var v=_("../internals/export"),b=_("../internals/array-iteration").findIndex,p=_("../internals/add-to-unscopables"),y=(_=_("../internals/array-method-uses-to-length"),"findIndex"),E=!0;_=_(y),y in[]&&Array(1)[y](function(){E=!1}),v({target:"Array",proto:!0,forced:E||!_},{findIndex:function(i){return b(this,i,1<arguments.length?arguments[1]:void 0)}}),p(y)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),p=o("../internals/to-object"),y=o("../internals/to-length"),E=o("../internals/a-function"),_=o("../internals/array-species-create");v({target:"Array",proto:!0},{flatMap:function(i){var l,a=p(this),u=y(a.length);return E(i),(l=_(a,0)).length=b(l,a,a,u,0,1,i,1<arguments.length?arguments[1]:void 0),l}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),p=o("../internals/to-object"),y=o("../internals/to-length"),E=o("../internals/to-integer"),_=o("../internals/array-species-create");v({target:"Array",proto:!0},{flat:function(){var i=arguments.length?arguments[0]:void 0,l=p(this),a=y(l.length),u=_(l,0);return u.length=b(u,l,l,a,0,void 0===i?1:E(i)),u}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(b,se,V){"use strict";var v=b("../internals/export");b=b("../internals/array-for-each"),v({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/array-from");v({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(p){Array.from(p)})},{from:b})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/array-includes").includes,p=o("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(y){return b(this,y,1<arguments.length?arguments[1]:void 0)}}),p("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(_,se,V){"use strict";var v=_("../internals/export"),b=_("../internals/array-includes").indexOf,E=_("../internals/array-method-is-strict"),p=(_=_("../internals/array-method-uses-to-length"),[].indexOf),y=!!p&&1/[1].indexOf(1,-0)<0;E=E("indexOf"),_=_("indexOf",{ACCESSORS:!0,1:0}),v({target:"Array",proto:!0,forced:y||!E||!_},{indexOf:function(i){return y?p.apply(this,arguments)||0:b(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(E,se,V){"use strict";var v=E("../internals/to-indexed-object"),b=E("../internals/add-to-unscopables"),p=E("../internals/iterators"),y=E("../internals/internal-state"),_=(E=E("../internals/define-iterator"),"Array Iterator"),i=y.set,l=y.getterFor(_);se.exports=E(Array,"Array",function(a,u){i(this,{type:_,target:v(a),index:0,kind:u})},function(){var a=l(this),u=a.target,h=a.kind,d=a.index++;return!u||d>=u.length?{value:a.target=void 0,done:!0}:"keys"==h?{value:d,done:!1}:"values"==h?{value:u[d],done:!1}:{value:[d,u[d]],done:!1}},"values"),p.Arguments=p.Array,b("keys"),b("values"),b("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(E,se,V){"use strict";var v=E("../internals/export"),y=E("../internals/indexed-object"),b=E("../internals/to-indexed-object"),p=(E=E("../internals/array-method-is-strict"),[].join);y=y!=Object,E=E("join",","),v({target:"Array",proto:!0,forced:y||!E},{join:function(_){return p.call(b(this),void 0===_?",":_)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(b,se,V){b("../internals/export")({target:"Array",proto:!0,forced:(b=b("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:b})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(y,se,V){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").map,p=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),p=p("map"),y=y("map"),v({target:"Array",proto:!0,forced:!p||!y},{map:function(E){return b(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(u,se,V){"use strict";var v=u("../internals/export"),b=u("../internals/is-object"),p=u("../internals/is-array"),y=u("../internals/to-absolute-index"),E=u("../internals/to-length"),_=u("../internals/to-indexed-object"),i=u("../internals/create-property"),l=u("../internals/well-known-symbol"),a=u("../internals/array-method-has-species-support"),h=(u=u("../internals/array-method-uses-to-length"),a=a("slice"),u=u("slice",{ACCESSORS:!0,0:0,1:2}),l("species")),d=[].slice,m=Math.max;v({target:"Array",proto:!0,forced:!a||!u},{slice:function(f,g){var D,$,L,P=_(this),x=E(P.length),U=y(f,x),I=y(void 0===g?x:g,x);if(p(P)&&((D="function"==typeof(D=P.constructor)&&(D===Array||p(D.prototype))||b(D)&&null===(D=D[h])?void 0:D)===Array||void 0===D))return d.call(P,U,I);for($=new(void 0===D?Array:D)(m(I-U,0)),L=0;U<I;U++,L++)U in P&&i($,L,P[U]);return $.length=L,$}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(y,se,V){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").some,p=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),p=p("some"),y=y("some"),v({target:"Array",proto:!0,forced:!p||!y},{some:function(E){return b(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(a,se,V){"use strict";var v=a("../internals/export"),b=a("../internals/to-absolute-index"),p=a("../internals/to-integer"),y=a("../internals/to-length"),E=a("../internals/to-object"),_=a("../internals/array-species-create"),i=a("../internals/create-property"),l=a("../internals/array-method-has-species-support"),u=(a=a("../internals/array-method-uses-to-length"),l=l("splice"),a=a("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),h=Math.min;v({target:"Array",proto:!0,forced:!l||!a},{splice:function(F,m){var f,g,D,$,L,P,x=E(this),U=y(x.length),I=b(F,U);if(0===(F=arguments.length)?f=g=0:g=1===F?(f=0,U-I):(f=F-2,h(u(p(m),0),U-I)),9007199254740991<U+f-g)throw TypeError("Maximum allowed length exceeded");for(D=_(x,g),$=0;$<g;$++)(L=I+$)in x&&i(D,$,x[L]);if(f<(D.length=g)){for($=I;$<U-g;$++)P=$+f,(L=$+g)in x?x[P]=x[L]:delete x[P];for($=U;U-g+f<$;$--)delete x[$-1]}else if(g<f)for($=U-g;I<$;$--)P=$+f-1,(L=$+g-1)in x?x[P]=x[L]:delete x[P];for($=0;$<f;$++)x[$+I]=arguments[$+2];return x.length=U-g+f,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(o,se,V){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(o,se,V){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(b,se,V){var v=b("../internals/descriptors"),p=(b=b("../internals/object-define-property").f,Function.prototype),y=p.toString,E=/^\s*function ([^ (]*)/;!v||"name"in p||b(p,"name",{configurable:!0,get:function(){try{return y.call(this).match(E)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(b,se,V){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),se.exports=v("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(v,se,V){v=v("../internals/export");var b=Math.hypot,p=Math.abs,y=Math.sqrt;v({target:"Math",stat:!0,forced:!!b&&b(1/0,NaN)!==1/0},{hypot:function(E,_){for(var i,l,a=0,u=0,h=arguments.length,d=0;u<h;)d<(i=p(arguments[u++]))?(a=a*(l=d/i)*l+1,d=i):a+=0<i?(l=i/d)*l:i;return d===1/0?1/0:d*y(a)}})},{"../internals/export":50}],177:[function(v,se,V){v=v("../internals/export");var b=Math.log,p=Math.LN2;v({target:"Math",stat:!0},{log2:function(y){return b(y)/p}})},{"../internals/export":50}],178:[function(o,se,V){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(o,se,V){"use strict";function v(R){var Z,oe,q,re,W,G,K,ue=a(R,!1);if("string"==typeof ue&&2<ue.length)if(43===(R=(ue=g(ue)).charCodeAt(0))||45===R){if(88===(Z=ue.charCodeAt(2))||120===Z)return NaN}else if(48===R){switch(ue.charCodeAt(1)){case 66:case 98:oe=2,q=49;break;case 79:case 111:oe=8,q=55;break;default:return+ue}for(W=(re=ue.slice(2)).length,G=0;G<W;G++)if((K=re.charCodeAt(G))<48||q<K)return NaN;return parseInt(re,oe)}return+ue}var b=o("../internals/descriptors"),p=o("../internals/global"),y=o("../internals/is-forced"),E=o("../internals/redefine"),_=o("../internals/has"),i=o("../internals/classof-raw"),l=o("../internals/inherit-if-required"),a=o("../internals/to-primitive"),u=o("../internals/fails"),h=o("../internals/object-create"),d=o("../internals/object-get-own-property-names").f,m=o("../internals/object-get-own-property-descriptor").f,f=o("../internals/object-define-property").f,g=o("../internals/string-trim").trim,D="Number",$=p[D],L=$.prototype,P=i(h(L))==D;if(y(D,!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var x,U=function(Z){Z=arguments.length<1?0:Z;var oe=this;return oe instanceof U&&(P?u(function(){L.valueOf.call(oe)}):i(oe)!=D)?l(new $(v(Z)),oe,U):v(Z)},I=b?d($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;I.length>F;F++)_($,x=I[F])&&!_(U,x)&&f(U,x,m($,x));(U.prototype=L).constructor=U,E(p,D,U)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(o,se,V){o("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(o,se,V){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(_,se,V){"use strict";function v(a,u,h){return 0===u?h:u%2==1?v(a,u-1,h*a):v(a*a,u/2,h)}var b=_("../internals/export"),p=_("../internals/to-integer"),y=_("../internals/this-number-value"),E=_("../internals/string-repeat"),i=(_=_("../internals/fails"),1..toFixed),l=Math.floor;b({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!_(function(){i.call({})})},{toFixed:function(D){function u(x,U){for(var I=-1,F=U;++I<6;)$[I]=(F+=x*$[I])%1e7,F=l(F/1e7)}function h(x){for(var U=6,I=0;0<=--U;)$[U]=l((I+=$[U])/x),I=I%x*1e7}function d(){for(var x,U=6,I="";0<=--U;)""===I&&0!==U&&0===$[U]||(x=String($[U]),I=""===I?x:I+E.call("0",7-x.length)+x);return I}var m,f,g=y(this),$=(D=p(D),[0,0,0,0,0,0]),L="",P="0";if(D<0||20<D)throw RangeError("Incorrect fraction digits");if(g!=g)return"NaN";if(g<=-1e21||1e21<=g)return String(g);if(g<0&&(L="-",g=-g),1e-21<g)if(g=(m=function(x){for(var U=0,I=x;4096<=I;)U+=12,I/=4096;for(;2<=I;)U+=1,I/=2;return U}(g*v(2,69,1))-69)<0?g*v(2,-m,1):g/v(2,m,1),g*=4503599627370496,0<(m=52-m)){for(u(0,g),f=D;7<=f;)u(1e7,0),f-=7;for(u(v(10,f,1),0),f=m-1;23<=f;)h(1<<23),f-=23;h(1<<f),u(1,1),h(2),P=d()}else u(0,g),u(1<<-m,0),P=d()+E.call("0",D);return 0<D?L+((g=P.length)<=D?"0."+E.call("0",D-g)+P:P.slice(0,g-D)+"."+P.slice(g-D)):L+P}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(b,se,V){var v=b("../internals/export");b=b("../internals/object-assign"),v({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/object-to-array").entries;v({target:"Object",stat:!0},{entries:function(p){return b(p)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/iterate"),p=o("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(y){var E={};return b(y,function(_,i){p(E,_,i)},void 0,!0),E}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(y,se,V){var v=y("../internals/export"),E=y("../internals/fails"),b=y("../internals/to-indexed-object"),p=y("../internals/object-get-own-property-descriptor").f;y=y("../internals/descriptors"),E=E(function(){p(1)}),v({target:"Object",stat:!0,forced:!y||E,sham:!y},{getOwnPropertyDescriptor:function(_,i){return p(b(_),i)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(p,se,V){var v=p("../internals/export"),b=p("../internals/fails");p=p("../internals/object-get-own-property-names-external").f,v({target:"Object",stat:!0,forced:b(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(E,se,V){var v=E("../internals/export"),b=E("../internals/fails"),p=E("../internals/to-object"),y=E("../internals/object-get-prototype-of");E=E("../internals/correct-prototype-getter"),v({target:"Object",stat:!0,forced:b(function(){y(1)}),sham:!E},{getPrototypeOf:function(_){return y(p(_))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/to-object"),p=o("../internals/object-keys");v({target:"Object",stat:!0,forced:o("../internals/fails")(function(){p(1)})},{keys:function(y){return p(b(y))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(p,se,V){var v=p("../internals/to-string-tag-support"),b=p("../internals/redefine");p=p("../internals/object-to-string"),v||b(Object.prototype,"toString",p,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Pt,se,V){"use strict";var v,b,p,y,E=Pt("../internals/export"),_=Pt("../internals/is-pure"),i=Pt("../internals/global"),l=Pt("../internals/get-built-in"),a=Pt("../internals/native-promise-constructor"),u=Pt("../internals/redefine"),h=Pt("../internals/redefine-all"),d=Pt("../internals/set-to-string-tag"),m=Pt("../internals/set-species"),f=Pt("../internals/is-object"),g=Pt("../internals/a-function"),D=Pt("../internals/an-instance"),$=Pt("../internals/classof-raw"),L=Pt("../internals/inspect-source"),P=Pt("../internals/iterate"),x=Pt("../internals/check-correctness-of-iteration"),U=Pt("../internals/species-constructor"),I=Pt("../internals/task").set,F=Pt("../internals/microtask"),R=Pt("../internals/promise-resolve"),Z=Pt("../internals/host-report-errors"),oe=Pt("../internals/new-promise-capability"),q=Pt("../internals/perform"),re=Pt("../internals/internal-state"),W=Pt("../internals/is-forced"),Wt=Pt("../internals/well-known-symbol"),G=Pt("../internals/engine-v8-version"),K=Wt("species"),ue="Promise",Me=re.get,Y=re.set,j=re.getterFor(ue),te=a,me=i.TypeError,xe=i.document,Be=i.process,qe=l("fetch"),ct=oe.f,ze=ct,st="process"==$(Be),lt=!!(xe&&xe.createEvent&&i.dispatchEvent),Fe="unhandledrejection",$t=(Wt=(Pt=W(ue,function(){var lr,Ht;return L(te)===String(te)&&(66===G||!st&&"function"!=typeof PromiseRejectionEvent)||!((!_||te.prototype.finally)&&(51<=G&&/native code/.test(te)||(Ht=function($e){$e(function(){},function(){})},((lr=te.resolve(1)).constructor={})[K]=Ht,lr.then(function(){})instanceof Ht)))}))||!x(function(lr){te.all(lr).catch(function(){})}),function(lr){var Ht;return!(!f(lr)||"function"!=typeof(Ht=lr.then))&&Ht}),cr=function(lr,Ht,$e){var We;Ht.notified||(Ht.notified=!0,We=Ht.reactions,F(function(){for(var Pe,Xe,wt=Ht.value,Ot=1==Ht.state,Xt=0;We.length>Xt;){var Ct,Bt,er,or=We[Xt++],Rt=Ot?or.ok:or.fail,mt=or.resolve,Ut=or.reject,yt=or.domain;try{Rt?(Ot||(2===Ht.rejection&&function(Lt,ur){I.call(i,function(){st?Be.emit("rejectionHandled",Lt):Vt("rejectionhandled",Lt,ur.value)})}(lr,Ht),Ht.rejection=1),!0===Rt?Ct=wt:(yt&&yt.enter(),Ct=Rt(wt),yt&&(yt.exit(),er=!0)),Ct===or.promise?Ut(me("Promise-chain cycle")):(Bt=$t(Ct))?Bt.call(Ct,mt,Ut):mt(Ct)):Ut(wt)}catch(Lt){yt&&!er&&yt.exit(),Ut(Lt)}}Ht.reactions=[],Ht.notified=!1,$e&&!Ht.rejection&&(Pe=lr,Xe=Ht,I.call(i,function(){var Lt=Xe.value,ur=mr(Xe);if(ur&&(ur=q(function(){st?Be.emit("unhandledRejection",Lt,Pe):Vt(Fe,Pe,Lt)}),Xe.rejection=st||mr(Xe)?2:1,ur.error))throw ur.value}))}))},Vt=function(lr,Ht,$e){var We;lt?((We=xe.createEvent("Event")).promise=Ht,We.reason=$e,We.initEvent(lr,!1,!0),i.dispatchEvent(We)):We={promise:Ht,reason:$e},(Ht=i["on"+lr])?Ht(We):lr===Fe&&Z("Unhandled promise rejection",$e)},mr=function(lr){return 1!==lr.rejection&&!lr.parent},Kt=function(lr,Ht,$e,We){return function(Pe){lr(Ht,$e,Pe,We)}},hr=function(lr,Ht,$e,We){Ht.done||(Ht.done=!0,(Ht=We||Ht).value=$e,Ht.state=2,cr(lr,Ht,!0))},It=function(lr,Ht,$e,We){if(!Ht.done){Ht.done=!0,We&&(Ht=We);try{if(lr===$e)throw me("Promise can't be resolved itself");var Pe=$t($e);Pe?F(function(){var Xe={done:!1};try{Pe.call($e,Kt(It,lr,Xe,Ht),Kt(hr,lr,Xe,Ht))}catch(wt){hr(lr,Xe,wt,Ht)}}):(Ht.value=$e,Ht.state=1,cr(lr,Ht,!1))}catch(Xe){hr(lr,{done:!1},Xe,Ht)}}};Pt&&(te=function(lr){D(this,te,ue),g(lr),v.call(this);var Ht=Me(this);try{lr(Kt(It,this,Ht),Kt(hr,this,Ht))}catch($e){hr(this,Ht,$e)}},(v=function(lr){Y(this,{type:ue,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(te.prototype,{then:function(lr,Ht){var $e=j(this),We=ct(U(this,te));return We.ok="function"!=typeof lr||lr,We.fail="function"==typeof Ht&&Ht,We.domain=st?Be.domain:void 0,$e.parent=!0,$e.reactions.push(We),0!=$e.state&&cr(this,$e,!1),We.promise},catch:function(lr){return this.then(void 0,lr)}}),b=function(){var lr=new v,Ht=Me(lr);this.promise=lr,this.resolve=Kt(It,lr,Ht),this.reject=Kt(hr,lr,Ht)},oe.f=ct=function(lr){return lr===te||lr===p?new b:ze(lr)},_||"function"!=typeof a||(y=a.prototype.then,u(a.prototype,"then",function(lr,Ht){var $e=this;return new te(function(We,Pe){y.call($e,We,Pe)}).then(lr,Ht)},{unsafe:!0}),"function"==typeof qe&&E({global:!0,enumerable:!0,forced:!0},{fetch:function(lr){return R(te,qe.apply(i,arguments))}}))),E({global:!0,wrap:!0,forced:Pt},{Promise:te}),d(te,ue,!1,!0),m(ue),p=l(ue),E({target:ue,stat:!0,forced:Pt},{reject:function(lr){var Ht=ct(this);return Ht.reject.call(void 0,lr),Ht.promise}}),E({target:ue,stat:!0,forced:_||Pt},{resolve:function(lr){return R(_&&this===p?te:this,lr)}}),E({target:ue,stat:!0,forced:Wt},{all:function(lr){var Ht=this,$e=ct(Ht),We=$e.resolve,Pe=$e.reject,Xe=q(function(){var wt=g(Ht.resolve),Ot=[],Xt=0,Ct=1;P(lr,function(Bt){var er=Xt++,or=!1;Ot.push(void 0),Ct++,wt.call(Ht,Bt).then(function(Rt){or||(or=!0,Ot[er]=Rt,--Ct||We(Ot))},Pe)}),--Ct||We(Ot)});return Xe.error&&Pe(Xe.value),$e.promise},race:function(lr){var Ht=this,$e=ct(Ht),We=$e.reject,Pe=q(function(){var Xe=g(Ht.resolve);P(lr,function(wt){Xe.call(Ht,wt).then($e.resolve,We)})});return Pe.error&&We(Pe.value),$e.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(i,se,V){var v=i("../internals/export"),h=i("../internals/get-built-in"),b=i("../internals/a-function"),p=i("../internals/an-object"),y=i("../internals/is-object"),E=i("../internals/object-create"),_=i("../internals/function-bind"),l=(i=i("../internals/fails"),h("Reflect","construct")),a=i(function(){function d(){}return!(l(function(){},[],d)instanceof d)}),u=!i(function(){l(function(){})});v({target:"Reflect",stat:!0,forced:h=a||u,sham:h},{construct:function(d,m){b(d),p(m);var f=arguments.length<3?d:b(arguments[2]);if(u&&!a)return l(d,m,f);if(d==f){switch(m.length){case 0:return new d;case 1:return new d(m[0]);case 2:return new d(m[0],m[1]);case 3:return new d(m[0],m[1],m[2]);case 4:return new d(m[0],m[1],m[2],m[3])}var g=[null];return g.push.apply(g,m),new(_.apply(d,g))}return f=E(y(g=f.prototype)?g:Object.prototype),g=Function.apply.call(d,f,m),y(g)?g:f}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/is-object"),p=o("../internals/an-object"),y=o("../internals/has"),E=o("../internals/object-get-own-property-descriptor"),_=o("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:function i(l,a){var u,h=arguments.length<3?l:arguments[2];return p(l)===h?l[a]:(u=E.f(l,a))?y(u,"value")?u.value:void 0===u.get?void 0:u.get.call(h):b(u=_(l))?i(u,a,h):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/global"),p=o("../internals/is-forced"),y=o("../internals/inherit-if-required"),E=o("../internals/object-define-property").f,_=o("../internals/object-get-own-property-names").f,i=o("../internals/is-regexp"),l=o("../internals/regexp-flags"),a=o("../internals/regexp-sticky-helpers"),u=o("../internals/redefine"),h=o("../internals/fails"),d=o("../internals/internal-state").set,m=o("../internals/set-species"),f=o("../internals/well-known-symbol")("match"),g=b.RegExp,D=g.prototype,$=/a/g,L=/a/g,P=new g($)!==$,x=a.UNSUPPORTED_Y;if(v&&p("RegExp",!P||x||h(function(){return L[f]=!1,g($)!=$||g(L)==L||"/a/i"!=g($,"i")}))){for(var U=function(R,Z){var oe,q=this instanceof U,re=i(R),W=void 0===Z;return!q&&re&&R.constructor===U&&W?R:(P?re&&!W&&(R=R.source):R instanceof U&&(W&&(Z=l.call(R)),R=R.source),x&&(oe=!!Z&&-1<Z.indexOf("y"))&&(Z=Z.replace(/y/g,"")),re=y(P?new g(R,Z):g(R,Z),q?this:D,U),x&&oe&&d(re,{sticky:oe}),re)},I=_(g),F=0;I.length>F;)!function(R){R in U||E(U,R,{configurable:!0,get:function(){return g[R]},set:function(Z){g[R]=Z}})}(I[F++]);(D.constructor=U).prototype=D,u(b,"RegExp",U)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(b,se,V){"use strict";var v=b("../internals/export");b=b("../internals/regexp-exec"),v({target:"RegExp",proto:!0,forced:/./.exec!==b},{exec:b})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(y,se,V){"use strict";var v=y("../internals/redefine"),b=y("../internals/an-object"),i=y("../internals/fails"),p=y("../internals/regexp-flags"),E=(y="toString",RegExp.prototype),_=E[y];((i=i(function(){return"/a/b"!=_.call({source:"a",flags:"b"})}))||_.name!=y)&&v(RegExp.prototype,y,function(){var a=b(this),u=String(a.source),h=a.flags;return"/"+u+"/"+String(void 0===h&&a instanceof RegExp&&!("flags"in E)?p.call(a):h)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(b,se,V){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),se.exports=v("Set",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(_,se,V){"use strict";var v=_("../internals/export"),b=_("../internals/object-get-own-property-descriptor").f,p=_("../internals/to-length"),y=_("../internals/not-a-regexp"),E=_("../internals/require-object-coercible"),a=_("../internals/correct-is-regexp-logic"),i=(_=_("../internals/is-pure"),"".endsWith),l=Math.min;a=a("endsWith"),v({target:"String",proto:!0,forced:!(!_&&!a&&(v=b(String.prototype,"endsWith"))&&!v.writable||a)},{endsWith:function(u){var h=String(E(this)),d=(y(u),1<arguments.length?arguments[1]:void 0),m=p(h.length);return d=void 0===d?m:l(p(d),m),m=String(u),i?i.call(h,m,d):h.slice(d-m.length,d)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/not-a-regexp"),p=o("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(y){return!!~String(p(this)).indexOf(b(y),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(p,se,V){"use strict";var v=p("../internals/string-multibyte").charAt,b=p("../internals/internal-state"),y=(p=p("../internals/define-iterator"),"String Iterator"),E=b.set,_=b.getterFor(y);p(String,"String",function(i){E(this,{type:y,string:String(i),index:0})},function(){var i=_(this),l=i.string,a=i.index;return a>=l.length?{value:void 0,done:!0}:(l=v(l,a),i.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(o,se,V){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),p=o("../internals/to-length"),y=o("../internals/require-object-coercible"),E=o("../internals/advance-string-index"),_=o("../internals/regexp-exec-abstract");v("match",1,function(i,l,a){return[function(u){var h=y(this),d=null==u?void 0:u[i];return void 0!==d?d.call(u,h):new RegExp(u)[i](String(h))},function(u){var h=a(l,u,this);if(h.done)return h.value;var d=b(u),m=String(this);if(!d.global)return _(d,m);for(var f=d.unicode,g=[],D=d.lastIndex=0;null!==($=_(d,m));){var $=String($[0]);""===(g[D]=$)&&(d.lastIndex=E(m,p(d.lastIndex),f)),D++}return 0===D?null:g}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/string-pad").start;v({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(p){return b(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(o,se,V){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(o,se,V){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),p=o("../internals/to-object"),y=o("../internals/to-length"),E=o("../internals/to-integer"),_=o("../internals/require-object-coercible"),i=o("../internals/advance-string-index"),l=o("../internals/regexp-exec-abstract"),a=Math.max,u=Math.min,h=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;v("replace",2,function(f,g,D,$){var L=$.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=$.REPLACE_KEEPS_$0,x=L?"$":"$0";return[function(U,I){var F=_(this),R=null==U?void 0:U[f];return void 0!==R?R.call(U,F,I):g.call(String(F),U,I)},function(U,I){if(!L&&P||"string"==typeof I&&-1===I.indexOf(x)){var F=D(g,U,this,I);if(F.done)return F.value}for(var R,Z=b(U),oe=String(this),q="function"==typeof I,re=(q||(I=String(I)),Z.global),W=(re&&(R=Z.unicode,Z.lastIndex=0),[]);null!==(Y=l(Z,oe))&&(W.push(Y),re);)""===String(Y[0])&&(Z.lastIndex=i(oe,y(Z.lastIndex),R));for(var G,K="",ue=0,Me=0;Me<W.length;Me++){for(var Y=W[Me],j=String(Y[0]),te=a(u(E(Y.index),oe.length),0),me=[],xe=1;xe<Y.length;xe++)me.push(void 0===(G=Y[xe])?G:String(G));var Be=Y.groups,qe=q?(qe=[j].concat(me,te,oe),void 0!==Be&&qe.push(Be),String(I.apply(void 0,qe))):function(ct,ze,st,lt,Fe,rt){var Ye=st+ct.length,ot=lt.length,Je=m;return void 0!==Fe&&(Fe=p(Fe),Je=d),g.call(rt,Je,function(ft,Pt){var Wt;switch(Pt.charAt(0)){case"$":return"$";case"&":return ct;case"`":return ze.slice(0,st);case"'":return ze.slice(Ye);case"<":Wt=Fe[Pt.slice(1,-1)];break;default:var $t,cr=+Pt;if(0==cr)return ft;if(ot<cr)return 0!==($t=h(cr/10))&&$t<=ot?void 0===lt[$t-1]?Pt.charAt(1):lt[$t-1]+Pt.charAt(1):ft;Wt=lt[cr-1]}return void 0===Wt?"":Wt})}(j,oe,te,me,Be,I);ue<=te&&(K+=oe.slice(ue,te)+qe,ue=te+j.length)}return K+oe.slice(ue)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(o,se,V){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),p=o("../internals/require-object-coercible"),y=o("../internals/same-value"),E=o("../internals/regexp-exec-abstract");v("search",1,function(_,i,l){return[function(a){var u=p(this),h=null==a?void 0:a[_];return void 0!==h?h.call(a,u):new RegExp(a)[_](String(u))},function(a){var u,h=l(i,a,this);return h.done?h.value:(h=b(a),a=String(this),y(u=h.lastIndex,0)||(h.lastIndex=0),a=E(h,a),y(h.lastIndex,u)||(h.lastIndex=u),null===a?-1:a.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(u,se,V){"use strict";var v=u("../internals/fix-regexp-well-known-symbol-logic"),b=u("../internals/is-regexp"),p=u("../internals/an-object"),y=u("../internals/require-object-coercible"),E=u("../internals/species-constructor"),_=u("../internals/advance-string-index"),i=u("../internals/to-length"),l=u("../internals/regexp-exec-abstract"),a=u("../internals/regexp-exec"),h=(u=u("../internals/fails"),[].push),d=Math.min,m=4294967295,f=!u(function(){return!RegExp(m,"y")});v("split",2,function(g,D,$){var L="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(P,x){var U=String(y(this)),I=void 0===x?m:x>>>0;if(0==I)return[];if(void 0===P)return[U];if(!b(P))return D.call(U,P,I);for(var F,R,Z,oe=[],q=(x=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),0),re=new RegExp(P.source,x+"g");(F=a.call(re,U))&&!(q<(R=re.lastIndex)&&(oe.push(U.slice(q,F.index)),1<F.length&&F.index<U.length&&h.apply(oe,F.slice(1)),Z=F[0].length,q=R,oe.length>=I));)re.lastIndex===F.index&&re.lastIndex++;return q===U.length?!Z&&re.test("")||oe.push(""):oe.push(U.slice(q)),oe.length>I?oe.slice(0,I):oe}:"0".split(void 0,0).length?function(P,x){return void 0===P&&0===x?[]:D.call(this,P,x)}:D;return[function(P,x){var U=y(this),I=null==P?void 0:P[g];return void 0!==I?I.call(P,U,x):L.call(String(U),P,x)},function(F,x){if((U=$(L,F,this,x,L!==D)).done)return U.value;var U=p(F),I=String(this),R=(F=E(U,RegExp),U.unicode),oe=new F(f?U:"^(?:"+U.source+")",(U.ignoreCase?"i":"")+(U.multiline?"m":"")+(U.unicode?"u":"")+(f?"y":"g")),q=void 0===x?m:x>>>0;if(0==q)return[];if(0===I.length)return null===l(oe,I)?[I]:[];for(var re=0,W=0,G=[];W<I.length;){oe.lastIndex=f?W:0;var K,ue=l(oe,f?I:I.slice(W));if(null===ue||(K=d(i(oe.lastIndex+(f?0:W)),I.length))===re)W=_(I,W,R);else{if(G.push(I.slice(re,W)),G.length===q)return G;for(var Me=1;Me<=ue.length-1;Me++)if(G.push(ue[Me]),G.length===q)return G;W=re=K}}return G.push(I.slice(re)),G}]},!f)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(_,se,V){"use strict";var v=_("../internals/export"),b=_("../internals/object-get-own-property-descriptor").f,p=_("../internals/to-length"),y=_("../internals/not-a-regexp"),E=_("../internals/require-object-coercible"),a=_("../internals/correct-is-regexp-logic"),i=(_=_("../internals/is-pure"),"".startsWith),l=Math.min;a=a("startsWith"),v({target:"String",proto:!0,forced:!(!_&&!a&&(v=b(String.prototype,"startsWith"))&&!v.writable||a)},{startsWith:function(m){var h=String(E(this)),d=(y(m),p(l(1<arguments.length?arguments[1]:void 0,h.length)));return m=String(m),i?i.call(h,m,d):h.slice(d,d+m.length)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/create-html");v({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return b(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/string-trim").trim;v({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return b(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(d,se,V){"use strict";var v,b,p,y,E,_=d("../internals/export"),i=d("../internals/descriptors"),l=d("../internals/global"),a=d("../internals/has"),u=d("../internals/is-object"),h=d("../internals/object-define-property").f,m=(d=d("../internals/copy-constructor-properties"),l.Symbol);!i||"function"!=typeof m||"description"in m.prototype&&void 0===m().description||(v={},d(b=function(){var f=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),g=this instanceof b?new m(f):void 0===f?m():m(f);return""===f&&(v[g]=!0),g},m),(l=b.prototype=m.prototype).constructor=b,p=l.toString,y="Symbol(test)"==String(m("test")),E=/^Symbol\((.*)\)[^)]+$/,h(l,"description",{configurable:!0,get:function(){var f=u(this)?this.valueOf():this,g=p.call(f);return a(v,f)?"":""===(f=y?g.slice(7,-1):g.replace(E,"$1"))?void 0:f}}),_({global:!0,forced:!0},{Symbol:b}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(o,se,V){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(ze,se,V){"use strict";function v(Pe,Xe){var wt=Wt[Pe]=U(rt[ct]);return st(wt,{type:qe,tag:Pe,description:Xe}),a||(wt.description=Xe),wt}function b(Pe,Ot){D(Pe);var wt=L(Ot);return Ot=I(wt).concat(We(wt)),xe(Ot,function(Xt){a&&!$e.call(wt,Xt)||Ht(Pe,Xt,wt[Xt])}),Pe}function p(Ot,Xt){var wt;if(Ot=L(Ot),Xt=P(Xt,!0),Ot!==Fe||!m(Wt,Xt)||m($t,Xt))return!(wt=ot(Ot,Xt))||!m(Wt,Xt)||m(Ot,Be)&&Ot[Be][Xt]||(wt.enumerable=!0),wt}function y(Xe){Xe=ft(L(Xe));var wt=[];return xe(Xe,function(Ot){m(Wt,Ot)||m(ue,Ot)||wt.push(Ot)}),wt}var E=ze("../internals/export"),_=ze("../internals/global"),i=ze("../internals/get-built-in"),l=ze("../internals/is-pure"),a=ze("../internals/descriptors"),u=ze("../internals/native-symbol"),h=ze("../internals/use-symbol-as-uid"),d=ze("../internals/fails"),m=ze("../internals/has"),f=ze("../internals/is-array"),g=ze("../internals/is-object"),D=ze("../internals/an-object"),$=ze("../internals/to-object"),L=ze("../internals/to-indexed-object"),P=ze("../internals/to-primitive"),x=ze("../internals/create-property-descriptor"),U=ze("../internals/object-create"),I=ze("../internals/object-keys"),F=ze("../internals/object-get-own-property-names"),R=ze("../internals/object-get-own-property-names-external"),Z=ze("../internals/object-get-own-property-symbols"),oe=ze("../internals/object-get-own-property-descriptor"),q=ze("../internals/object-define-property"),re=ze("../internals/object-property-is-enumerable"),W=ze("../internals/create-non-enumerable-property"),G=ze("../internals/redefine"),K=ze("../internals/shared"),mr=ze("../internals/shared-key"),ue=ze("../internals/hidden-keys"),Me=ze("../internals/uid"),Y=ze("../internals/well-known-symbol"),j=ze("../internals/well-known-symbol-wrapped"),te=ze("../internals/define-well-known-symbol"),me=ze("../internals/set-to-string-tag"),Kt=ze("../internals/internal-state"),xe=ze("../internals/array-iteration").forEach,Be=mr("hidden"),qe="Symbol",ct="prototype",st=(ze=Y("toPrimitive"),Kt.set),lt=Kt.getterFor(qe),Fe=Object[ct],rt=_.Symbol,Ye=i("JSON","stringify"),ot=oe.f,Je=q.f,ft=R.f,Pt=re.f,Wt=K("symbols"),$t=K("op-symbols"),cr=K("string-to-symbol-registry"),Vt=K("symbol-to-string-registry"),hr=(mr=K("wks"),!(Kt=_.QObject)||!Kt[ct]||!Kt[ct].findChild),It=a&&d(function(){return 7!=U(Je({},"a",{get:function(){return Je(this,"a",{value:7}).a}})).a})?function(Pe,Xe,wt){var Ot=ot(Fe,Xe);Ot&&delete Fe[Xe],Je(Pe,Xe,wt),Ot&&Pe!==Fe&&Je(Fe,Xe,Ot)}:Je,lr=h?function(Pe){return"symbol"==typeof Pe}:function(Pe){return Object(Pe)instanceof rt},Ht=function(Pe,Xe,wt){return Pe===Fe&&Ht($t,Xe,wt),D(Pe),Xe=P(Xe,!0),D(wt),(m(Wt,Xe)?(wt.enumerable?(m(Pe,Be)&&Pe[Be][Xe]&&(Pe[Be][Xe]=!1),wt=U(wt,{enumerable:x(0,!1)})):(m(Pe,Be)||Je(Pe,Be,x(1,{})),Pe[Be][Xe]=!0),It):Je)(Pe,Xe,wt)},$e=function(Xe){Xe=P(Xe,!0);var wt=Pt.call(this,Xe);return!(this===Fe&&m(Wt,Xe)&&!m($t,Xe))&&(!(wt||!m(this,Xe)||!m(Wt,Xe)||m(this,Be)&&this[Be][Xe])||wt)},We=function(wt){var Xe=wt===Fe,Ot=(wt=ft(Xe?$t:L(wt)),[]);return xe(wt,function(Xt){!m(Wt,Xt)||Xe&&!m(Fe,Xt)||Ot.push(Wt[Xt])}),Ot};u||(G((rt=function(){if(this instanceof rt)throw TypeError("Symbol is not a constructor");var Pe=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Xe=Me(Pe),wt=function(Ot){this===Fe&&wt.call($t,Ot),m(this,Be)&&m(this[Be],Xe)&&(this[Be][Xe]=!1),It(this,Xe,x(1,Ot))};return a&&hr&&It(Fe,Xe,{configurable:!0,set:wt}),v(Xe,Pe)})[ct],"toString",function(){return lt(this).tag}),G(rt,"withoutSetter",function(Pe){return v(Me(Pe),Pe)}),re.f=$e,q.f=Ht,oe.f=p,F.f=R.f=y,Z.f=We,j.f=function(Pe){return v(Y(Pe),Pe)},a&&(Je(rt[ct],"description",{configurable:!0,get:function(){return lt(this).description}}),l||G(Fe,"propertyIsEnumerable",$e,{unsafe:!0}))),E({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:rt}),xe(I(mr),function(Pe){te(Pe)}),E({target:qe,stat:!0,forced:!u},{for:function(wt){var Xe;return wt=String(wt),m(cr,wt)?cr[wt]:(Xe=rt(wt),cr[wt]=Xe,Vt[Xe]=wt,Xe)},keyFor:function(Pe){if(!lr(Pe))throw TypeError(Pe+" is not a symbol");if(m(Vt,Pe))return Vt[Pe]},useSetter:function(){hr=!0},useSimple:function(){hr=!1}}),E({target:"Object",stat:!0,forced:!u,sham:!a},{create:function(Pe,Xe){return void 0===Xe?U(Pe):b(U(Pe),Xe)},defineProperty:Ht,defineProperties:b,getOwnPropertyDescriptor:p}),E({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:y,getOwnPropertySymbols:We}),E({target:"Object",stat:!0,forced:d(function(){Z.f(1)})},{getOwnPropertySymbols:function(Pe){return Z.f($(Pe))}}),Ye&&E({target:"JSON",stat:!0,forced:!u||d(function(){var Pe=rt();return"[null]"!=Ye([Pe])||"{}"!=Ye({a:Pe})||"{}"!=Ye(Object(Pe))})},{stringify:function(Pe,Xe,wt){for(var Ot,Xt=[Pe],Ct=1;Ct<arguments.length;)Xt.push(arguments[Ct++]);if((g(Ot=Xe)||void 0!==Pe)&&!lr(Pe))return f(Xe)||(Xe=function(Bt,er){if("function"==typeof Ot&&(er=Ot.call(this,Bt,er)),!lr(er))return er}),Xt[1]=Xe,Ye.apply(null,Xt)}}),rt[ct][ze]||W(rt[ct],ze,rt[ct].valueOf),me(rt,qe),ue[Be]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-copy-within"),p=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(y,E){return b.call(p(this),y,E,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").every,p=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(y){return b(p(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-fill"),p=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(y){return b.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").filter,p=o("../internals/species-constructor"),y=v.aTypedArray,E=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(_){for(var i=b(y(this),_,1<arguments.length?arguments[1]:void 0),l=(_=p(this,this.constructor),0),a=i.length,u=new(E(_))(a);l<a;)u[l]=i[l++];return u})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").findIndex,p=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(y){return b(p(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").find,p=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(y){return b(p(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,se,V){o("../internals/typed-array-constructor")("Float32",function(v){return function(b,p,y){return v(this,b,p,y)}})},{"../internals/typed-array-constructor":144}],220:[function(o,se,V){o("../internals/typed-array-constructor")("Float64",function(v){return function(b,p,y){return v(this,b,p,y)}})},{"../internals/typed-array-constructor":144}],221:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").forEach,p=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(y){b(p(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").includes,p=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(y){return b(p(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").indexOf,p=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(y){return b(p(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(o,se,V){o("../internals/typed-array-constructor")("Int16",function(v){return function(b,p,y){return v(this,b,p,y)}})},{"../internals/typed-array-constructor":144}],225:[function(o,se,V){o("../internals/typed-array-constructor")("Int32",function(v){return function(b,p,y){return v(this,b,p,y)}})},{"../internals/typed-array-constructor":144}],226:[function(b,se,V){"use strict";function v(){return p.call(_(this))}var a=b("../internals/global"),l=b("../internals/array-buffer-view-core"),i=b("../modules/es.array.iterator"),p=(b=b("../internals/well-known-symbol")("iterator"),i.values),y=i.keys,E=i.entries,_=l.aTypedArray;i=l.exportTypedArrayMethod,a=!!(l=(a=a.Uint8Array)&&a.prototype[b])&&("values"==l.name||null==l.name),i("entries",function(){return E.call(_(this))}),i("keys",function(){return y.call(_(this))}),i("values",v,!a),i(b,v,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(b,se,V){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,p=[].join;(b=b.exportTypedArrayMethod)("join",function(y){return p.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-last-index-of"),p=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(y){return b.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").map,p=o("../internals/species-constructor"),y=v.aTypedArray,E=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(_){return b(y(this),_,1<arguments.length?arguments[1]:void 0,function(i,l){return new(E(p(i,i.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").right,p=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(y){return b(p(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").left,p=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(y){return b(p(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(b,se,V){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,p=(b=b.exportTypedArrayMethod,Math.floor);b("reverse",function(){for(var y,E=v(this).length,_=p(E/2),i=0;i<_;)y=this[i],this[i++]=this[--E],this[E]=y;return this})},{"../internals/array-buffer-view-core":12}],233:[function(E,se,V){"use strict";var v=E("../internals/array-buffer-view-core"),b=E("../internals/to-length"),p=E("../internals/to-offset"),y=E("../internals/to-object"),_=(E=E("../internals/fails"),v.aTypedArray);(0,v.exportTypedArrayMethod)("set",function(i){_(this);var l=p(1<arguments.length?arguments[1]:void 0,1),a=this.length,u=y(i),h=b(u.length),d=0;if(a<h+l)throw RangeError("Wrong length");for(;d<h;)this[l+d]=u[d++]},E(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(b,se,V){"use strict";var E=b("../internals/array-buffer-view-core"),v=b("../internals/species-constructor"),p=(b=b("../internals/fails"),E.aTypedArray),y=E.aTypedArrayConstructor,_=[].slice;(E=E.exportTypedArrayMethod)("slice",function(i,l){for(var a=_.call(p(this),i,l),u=(i=v(this,this.constructor),0),h=a.length,d=new(y(i))(h);u<h;)d[u]=a[u++];return d},b(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").some,p=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(y){return b(p(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(b,se,V){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,p=[].sort;(b=b.exportTypedArrayMethod)("sort",function(y){return p.call(v(this),y)})},{"../internals/array-buffer-view-core":12}],237:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/to-length"),p=o("../internals/to-absolute-index"),y=o("../internals/species-constructor"),E=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(u,i){var l=E(this),a=l.length;return u=p(u,a),new(y(l,l.constructor))(l.buffer,l.byteOffset+u*l.BYTES_PER_ELEMENT,b((void 0===i?a:p(i,a))-u))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(b,se,V){"use strict";var E=b("../internals/global"),v=b("../internals/array-buffer-view-core"),p=(b=b("../internals/fails"),E.Int8Array),y=v.aTypedArray,_=(E=v.exportTypedArrayMethod,[].toLocaleString),i=[].slice,l=!!p&&b(function(){_.call(new p(1))});E("toLocaleString",function(){return _.apply(l?i.call(y(this)):y(this),arguments)},b(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!b(function(){p.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(b,se,V){"use strict";var v=b("../internals/array-buffer-view-core").exportTypedArrayMethod,E=b("../internals/fails"),p=(b=(b=b("../internals/global").Uint8Array)&&b.prototype||{},[].toString),y=[].join;E(function(){p.call({})})&&(p=function(){return y.call(this)}),v("toString",p,E=b.toString!=p)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(o,se,V){o("../internals/typed-array-constructor")("Uint16",function(v){return function(b,p,y){return v(this,b,p,y)}})},{"../internals/typed-array-constructor":144}],241:[function(o,se,V){o("../internals/typed-array-constructor")("Uint32",function(v){return function(b,p,y){return v(this,b,p,y)}})},{"../internals/typed-array-constructor":144}],242:[function(o,se,V){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,p,y){return v(this,b,p,y)}})},{"../internals/typed-array-constructor":144}],243:[function(o,se,V){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,p,y){return v(this,b,p,y)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(m,D,V){"use strict";function v($){return function(){return $(this,arguments.length?arguments[0]:void 0)}}var b,p,y,E,_,f=m("../internals/global"),i=m("../internals/redefine-all"),l=m("../internals/internal-metadata"),a=m("../internals/collection"),u=m("../internals/collection-weak"),h=m("../internals/is-object"),d=m("../internals/internal-state").enforce,g=(m=m("../internals/native-weak-map"),f=!f.ActiveXObject&&"ActiveXObject"in f,Object.isExtensible);D=D.exports=a("WeakMap",v,u),m&&f&&(b=u.getConstructor(v,"WeakMap",!0),l.REQUIRED=!0,p=(a=D.prototype).delete,y=a.has,E=a.get,_=a.set,i(a,{delete:function($){var L;return h($)&&!g($)?((L=d(this)).frozen||(L.frozen=new b),p.call(this,$)||L.frozen.delete($)):p.call(this,$)},has:function($){var L;return h($)&&!g($)?((L=d(this)).frozen||(L.frozen=new b),y.call(this,$)||L.frozen.has($)):y.call(this,$)},get:function($){var L;return!h($)||g($)||((L=d(this)).frozen||(L.frozen=new b),y.call(this,$))?E.call(this,$):L.frozen.get($)},set:function($,L){var P;return!h($)||g($)||((P=d(this)).frozen||(P.frozen=new b),y.call(this,$))?_.call(this,$,L):P.frozen.set($,L),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(o,se,V){var v,b=o("../internals/global"),p=o("../internals/dom-iterables"),y=o("../internals/array-for-each"),E=o("../internals/create-non-enumerable-property");for(v in p){var _;if((_=(_=b[v])&&_.prototype)&&_.forEach!==y)try{E(_,"forEach",y)}catch{_.forEach=y}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(_,se,V){var v,b=_("../internals/global"),p=_("../internals/dom-iterables"),y=_("../modules/es.array.iterator"),E=_("../internals/create-non-enumerable-property"),i=(_=_("../internals/well-known-symbol"))("iterator"),l=_("toStringTag"),a=y.values;for(v in p){var u=b[v],h=u&&u.prototype;if(h){if(h[i]!==a)try{E(h,i,a)}catch{h[i]=a}if(h[l]||E(h,l,v),p[v])for(var d in y)if(h[d]!==y[d])try{E(h,d,y[d])}catch{h[d]=y[d]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(Be,se,V){"use strict";function v(qe){try{return decodeURIComponent(qe)}catch{return qe}}function b(qe){return te[qe]}function p(qe){return encodeURIComponent(qe).replace(j,b)}function y(qe){this.entries.length=0,me(this.entries,qe)}function E(qe,ct){if(qe<ct)throw TypeError("Not enough arguments")}function _(){f(this,_,q);var qe,ct,ze,st,lt,Fe,rt,Ye,ot=0<arguments.length?arguments[0]:void 0,Je=[];if(W(this,{type:q,entries:Je,updateURL:function(){},updateSearchParams:y}),void 0!==ot)if(P(ot))if("function"==typeof(qe=F(ot)))for(ze=(ct=qe.call(ot)).next;!(st=ze.call(ct)).done;){if((Fe=(lt=(st=I(L(st.value))).next).call(st)).done||(rt=lt.call(st)).done||!lt.call(st).done)throw TypeError("Expected sequence with length 2");Je.push({key:Fe.value+"",value:rt.value+""})}else for(Ye in ot)g(ot,Ye)&&Je.push({key:Ye,value:ot[Ye]+""});else me(Je,"string"==typeof ot?"?"===ot.charAt(0)?ot.slice(1):ot:ot+"")}Be("../modules/es.array.iterator");var i=Be("../internals/export"),oe=Be("../internals/get-built-in"),l=Be("../internals/native-url"),a=Be("../internals/redefine"),u=Be("../internals/redefine-all"),h=Be("../internals/set-to-string-tag"),d=Be("../internals/create-iterator-constructor"),m=Be("../internals/internal-state"),f=Be("../internals/an-instance"),g=Be("../internals/has"),D=Be("../internals/function-bind-context"),$=Be("../internals/classof"),L=Be("../internals/an-object"),P=Be("../internals/is-object"),x=Be("../internals/object-create"),U=Be("../internals/create-property-descriptor"),I=Be("../internals/get-iterator"),F=Be("../internals/get-iterator-method"),R=(Be=Be("../internals/well-known-symbol"),oe("fetch")),Z=oe("Headers"),q=(oe=Be("iterator"),"URLSearchParams"),re=q+"Iterator",W=m.set,G=m.getterFor(q),K=m.getterFor(re),ue=/\+/g,Me=Array(4),Y=function(qe){var ct,ze=qe.replace(ue," "),st=4;try{return decodeURIComponent(ze)}catch{for(;st;)ze=ze.replace((ct=st--,Me[ct-1]||(Me[ct-1]=RegExp("((?:%[\\da-f]{2}){"+ct+"})","gi"))),v);return ze}},j=/[!'()~]|%20/g,te={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},me=function(qe,ct){if(ct)for(var ze,st=ct.split("&"),lt=0;lt<st.length;)(ze=st[lt++]).length&&(ze=ze.split("="),qe.push({key:Y(ze.shift()),value:Y(ze.join("="))}))},xe=d(function(qe,ct){W(this,{type:re,iterator:I(G(qe).entries),kind:ct})},"Iterator",function(){var ct,qe=(ct=K(this)).kind,ze=(ct=ct.iterator.next()).value;return ct.done||(ct.value="keys"===qe?ze.key:"values"===qe?ze.value:[ze.key,ze.value]),ct});u(Be=_.prototype,{append:function(qe,ct){E(arguments.length,2);var ze=G(this);ze.entries.push({key:qe+"",value:ct+""}),ze.updateURL()},delete:function(qe){E(arguments.length,1);for(var ct=G(this),ze=ct.entries,st=qe+"",lt=0;lt<ze.length;)ze[lt].key===st?ze.splice(lt,1):lt++;ct.updateURL()},get:function(qe){E(arguments.length,1);for(var ct=G(this).entries,ze=qe+"",st=0;st<ct.length;st++)if(ct[st].key===ze)return ct[st].value;return null},getAll:function(qe){E(arguments.length,1);for(var ct=G(this).entries,ze=qe+"",st=[],lt=0;lt<ct.length;lt++)ct[lt].key===ze&&st.push(ct[lt].value);return st},has:function(qe){E(arguments.length,1);for(var ct=G(this).entries,ze=qe+"",st=0;st<ct.length;)if(ct[st++].key===ze)return!0;return!1},set:function(qe,ct){E(arguments.length,1);for(var ze,st=G(this),lt=st.entries,Fe=!1,rt=qe+"",Ye=ct+"",ot=0;ot<lt.length;ot++)(ze=lt[ot]).key===rt&&(Fe?lt.splice(ot--,1):(Fe=!0,ze.value=Ye));Fe||lt.push({key:rt,value:Ye}),st.updateURL()},sort:function(){for(var qe,ct,ze=G(this),st=ze.entries,lt=st.slice(),Fe=st.length=0;Fe<lt.length;Fe++){for(qe=lt[Fe],ct=0;ct<Fe;ct++)if(st[ct].key>qe.key){st.splice(ct,0,qe);break}ct===Fe&&st.push(qe)}ze.updateURL()},forEach:function(qe){for(var ct,ze=G(this).entries,st=D(qe,1<arguments.length?arguments[1]:void 0,3),lt=0;lt<ze.length;)st((ct=ze[lt++]).value,ct.key,this)},keys:function(){return new xe(this,"keys")},values:function(){return new xe(this,"values")},entries:function(){return new xe(this,"entries")}},{enumerable:!0}),a(Be,oe,Be.entries),a(Be,"toString",function(){for(var qe,ct=G(this).entries,ze=[],st=0;st<ct.length;)qe=ct[st++],ze.push(p(qe.key)+"="+p(qe.value));return ze.join("&")},{enumerable:!0}),h(_,q),i({global:!0,forced:!l},{URLSearchParams:_}),l||"function"!=typeof R||"function"!=typeof Z||i({global:!0,enumerable:!0,forced:!0},{fetch:function(lt){var ct,ze,st;return lt=[lt],1<arguments.length&&(P(ct=arguments[1])&&$(ze=ct.body)===q&&((st=ct.headers?new Z(ct.headers):new Z).has("content-type")||st.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ct=x(ct,{body:U(0,String(ze)),headers:U(0,st)})),lt.push(ct)),R.apply(this,lt)}}),se.exports={URLSearchParams:_,getState:G}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(I,se,V){"use strict";function v(A){var Q,H,ie,je;if("number"==typeof A){for(Q=[],H=0;H<4;H++)Q.unshift(A%256),A=re(A/256);return Q.join(".")}if("object"!=typeof A)return A;for(Q="",ie=rt(A),H=0;H<8;H++)je&&0===A[H]||(je=je&&!1,ie===H?(Q+=H?":":"::",je=!0):(Q+=A[H].toString(16),H<7&&(Q+=":")));return"["+Q+"]"}function b(A){return!A.host||A.cannotBeABaseURL||"file"==A.scheme}function p(A,Q,H,ie){var je,Ae,it,xt=H||lr,fr=0,ke="",He=!1,vt=!1,Ge=!1;for(H||(A.scheme="",A.username="",A.password="",A.host=null,A.port=null,A.path=[],A.query=null,A.fragment=null,A.cannotBeABaseURL=!1,Q=Q.replace(st,"")),Q=Q.replace(lt,""),je=$(Q);fr<=je.length;){switch(Ae=je[fr],xt){case lr:if(!Ae||!Y.test(Ae)){if(H)return K;xt=$e;continue}ke+=Ae.toLowerCase(),xt=Ht;break;case Ht:if(Ae&&(j.test(Ae)||"+"==Ae||"-"==Ae||"."==Ae))ke+=Ae.toLowerCase();else{if(":"!=Ae){if(H)return K;ke="",xt=$e,fr=0;continue}if(H&&($t(A)!=g(Wt,ke)||"file"==ke&&(cr(A)||null!==A.port)||"file"==A.scheme&&!A.host))return;if(A.scheme=ke,H)return void($t(A)&&Wt[A.scheme]==A.port&&(A.port=null));ke="","file"==A.scheme?xt=Rt:$t(A)&&ie&&ie.scheme==A.scheme?xt=We:$t(A)?xt=Ot:"/"==je[fr+1]?(xt=Pe,fr++):(A.cannotBeABaseURL=!0,A.path.push(""),xt=ur)}break;case $e:if(!ie||ie.cannotBeABaseURL&&"#"!=Ae)return K;if(ie.cannotBeABaseURL&&"#"==Ae){A.scheme=ie.scheme,A.path=ie.path.slice(),A.query=ie.query,A.fragment="",A.cannotBeABaseURL=!0,xt=Dt;break}xt="file"==ie.scheme?Rt:Xe;continue;case We:if("/"!=Ae||"/"!=je[fr+1]){xt=Xe;continue}xt=Xt,fr++;break;case Pe:if("/"==Ae){xt=Ct;break}xt=Lt;continue;case Xe:if(A.scheme=ie.scheme,Ae==_)A.username=ie.username,A.password=ie.password,A.host=ie.host,A.port=ie.port,A.path=ie.path.slice(),A.query=ie.query;else if("/"==Ae||"\\"==Ae&&$t(A))xt=wt;else if("?"==Ae)A.username=ie.username,A.password=ie.password,A.host=ie.host,A.port=ie.port,A.path=ie.path.slice(),A.query="",xt=ht;else{if("#"!=Ae){A.username=ie.username,A.password=ie.password,A.host=ie.host,A.port=ie.port,A.path=ie.path.slice(),A.path.pop(),xt=Lt;continue}A.username=ie.username,A.password=ie.password,A.host=ie.host,A.port=ie.port,A.path=ie.path.slice(),A.query=ie.query,A.fragment="",xt=Dt}break;case wt:if(!$t(A)||"/"!=Ae&&"\\"!=Ae){if("/"!=Ae){A.username=ie.username,A.password=ie.password,A.host=ie.host,A.port=ie.port,xt=Lt;continue}xt=Ct}else xt=Xt;break;case Ot:if(xt=Xt,"/"!=Ae||"/"!=ke.charAt(fr+1))continue;fr++;break;case Xt:if("/"==Ae||"\\"==Ae)break;xt=Ct;continue;case Ct:if("@"==Ae){He&&(ke="%40"+ke),He=!0;for(var dt=$(ke),Ft=0;Ft<dt.length;Ft++){var ar=dt[Ft];":"!=ar||Ge?(ar=Pt(ar,ft),Ge?A.password+=ar:A.username+=ar):Ge=!0}ke=""}else if(Ae==_||"/"==Ae||"?"==Ae||"#"==Ae||"\\"==Ae&&$t(A)){if(He&&""==ke)return G;fr-=$(ke).length+1,ke="",xt=Bt}else ke+=Ae;break;case Bt:case er:if(H&&"file"==A.scheme){xt=Ut;continue}if(":"!=Ae||vt){if(Ae==_||"/"==Ae||"?"==Ae||"#"==Ae||"\\"==Ae&&$t(A)){if($t(A)&&""==ke)return ue;if(H&&""==ke&&(cr(A)||null!==A.port))return;if(it=Fe(A,ke))return it;if(ke="",xt=yt,H)return;continue}"["==Ae?vt=!0:"]"==Ae&&(vt=!1),ke+=Ae}else{if(""==ke)return ue;if(it=Fe(A,ke))return it;if(ke="",xt=or,H==er)return}break;case or:if(!te.test(Ae)){if(Ae==_||"/"==Ae||"?"==Ae||"#"==Ae||"\\"==Ae&&$t(A)||H){if(""!=ke){var _r=parseInt(ke,10);if(65535<_r)return Me;A.port=$t(A)&&_r===Wt[A.scheme]?null:_r,ke=""}if(H)return;xt=yt;continue}return Me}ke+=Ae;break;case Rt:if(A.scheme="file","/"==Ae||"\\"==Ae)xt=mt;else{if(!ie||"file"!=ie.scheme){xt=Lt;continue}if(Ae==_)A.host=ie.host,A.path=ie.path.slice(),A.query=ie.query;else if("?"==Ae)A.host=ie.host,A.path=ie.path.slice(),A.query="",xt=ht;else{if("#"!=Ae){mr(je.slice(fr).join(""))||(A.host=ie.host,A.path=ie.path.slice(),Kt(A)),xt=Lt;continue}A.host=ie.host,A.path=ie.path.slice(),A.query=ie.query,A.fragment="",xt=Dt}}break;case mt:if("/"==Ae||"\\"==Ae){xt=Ut;break}ie&&"file"==ie.scheme&&!mr(je.slice(fr).join(""))&&(Vt(ie.path[0],!0)?A.path.push(ie.path[0]):A.host=ie.host),xt=Lt;continue;case Ut:if(Ae==_||"/"==Ae||"\\"==Ae||"?"==Ae||"#"==Ae){if(!H&&Vt(ke))xt=Lt;else{if(""==ke){if(A.host="",H)return}else{if(it=Fe(A,ke))return it;if("localhost"==A.host&&(A.host=""),H)return;ke=""}xt=yt}continue}ke+=Ae;break;case yt:if($t(A)){if(xt=Lt,"/"!=Ae&&"\\"!=Ae)continue}else if(H||"?"!=Ae)if(H||"#"!=Ae){if(Ae!=_&&(xt=Lt,"/"!=Ae))continue}else A.fragment="",xt=Dt;else A.query="",xt=ht;break;case Lt:if(Ae==_||"/"==Ae||"\\"==Ae&&$t(A)||!H&&("?"==Ae||"#"==Ae)){if(It(ke)?(Kt(A),"/"==Ae||"\\"==Ae&&$t(A)||A.path.push("")):hr(ke)?"/"==Ae||"\\"==Ae&&$t(A)||A.path.push(""):("file"==A.scheme&&!A.path.length&&Vt(ke)&&(A.host&&(A.host=""),ke=ke.charAt(0)+":"),A.path.push(ke)),ke="","file"==A.scheme&&(Ae==_||"?"==Ae||"#"==Ae))for(;1<A.path.length&&""===A.path[0];)A.path.shift();"?"==Ae?(A.query="",xt=ht):"#"==Ae&&(A.fragment="",xt=Dt)}else ke+=Pt(Ae,Je);break;case ur:"?"==Ae?(A.query="",xt=ht):"#"==Ae?(A.fragment="",xt=Dt):Ae!=_&&(A.path[0]+=Pt(Ae,Ye));break;case ht:H||"#"!=Ae?Ae!=_&&("'"==Ae&&$t(A)?A.query+="%27":A.query+="#"==Ae?"%23":Pt(Ae,Ye)):(A.fragment="",xt=Dt);break;case Dt:Ae!=_&&(A.fragment+=Pt(Ae,ot))}fr++}}function y(Ae){var Q,H,ie=f(this,y,"URL"),je=1<arguments.length?arguments[1]:void 0,it=(Ae=String(Ae),oe(ie,{type:"URL"}));if(void 0!==je)if(je instanceof y)Q=q(je);else if(H=p(Q={},String(je)))throw TypeError(H);if(H=p(it,Ae,null,Q))throw TypeError(H);var xt=it.searchParams=new R;(je=Z(xt)).updateSearchParams(it.query),je.updateURL=function(){it.query=String(xt)||null},u||(ie.href=Jt.call(ie),ie.origin=ir.call(ie),ie.protocol=br.call(ie),ie.username=Er.call(ie),ie.password=vr.call(ie),ie.host=Mr.call(ie),ie.hostname=z.call(ie),ie.port=pe.call(ie),ie.pathname=Ie.call(ie),ie.search=C.call(ie),ie.searchParams=O.call(ie),ie.hash=B.call(ie))}function E(A,Q){return{get:A,set:Q,configurable:!0,enumerable:!0}}I("../modules/es.string.iterator");var _,i,l,a=I("../internals/export"),u=I("../internals/descriptors"),h=I("../internals/native-url"),tr=I("../internals/global"),d=I("../internals/object-define-properties"),m=I("../internals/redefine"),f=I("../internals/an-instance"),g=I("../internals/has"),D=I("../internals/object-assign"),$=I("../internals/array-from"),L=I("../internals/string-multibyte").codeAt,P=I("../internals/string-punycode-to-ascii"),x=I("../internals/set-to-string-tag"),U=I("../modules/web.url-search-params"),F=(I=I("../internals/internal-state"),tr.URL),R=U.URLSearchParams,Z=U.getState,oe=I.set,q=I.getterFor("URL"),re=Math.floor,W=Math.pow,G="Invalid authority",K="Invalid scheme",ue="Invalid host",Me="Invalid port",Y=/[A-Za-z]/,j=/[\d+-.A-Za-z]/,te=/\d/,me=/^(0x|0X)/,xe=/^[0-7]+$/,Be=/^\d+$/,qe=/^[\dA-Fa-f]+$/,ct=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ze=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,st=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,lt=/[\u0009\u000A\u000D]/g,Fe=function(A,Q){var H,ie,je;if("["==Q.charAt(0))return"]"==Q.charAt(Q.length-1)&&(H=function(Ae){var He,vt,Ge,dt,Ft,ar,_r,it=[0,0,0,0,0,0,0,0],xt=0,fr=null,ke=0,Pr=function(){return Ae.charAt(ke)};if(":"==Pr()){if(":"!=Ae.charAt(1))return;ke+=2,fr=++xt}for(;Pr();){if(8==xt)return;if(":"!=Pr()){for(He=vt=0;vt<4&&qe.test(Pr());)He=16*He+parseInt(Pr(),16),ke++,vt++;if("."==Pr()){if(0==vt||(ke-=vt,xt>6))return;for(Ge=0;Pr();){if(dt=null,Ge>0){if(!("."==Pr()&&Ge<4))return;ke++}if(!te.test(Pr()))return;for(;te.test(Pr());){if(Ft=parseInt(Pr(),10),null===dt)dt=Ft;else{if(0==dt)return;dt=10*dt+Ft}if(dt>255)return;ke++}it[xt]=256*it[xt]+dt,(2==++Ge||4==Ge)&&xt++}if(4!=Ge)return;break}if(":"==Pr()){if(ke++,!Pr())return}else if(Pr())return;it[xt++]=He}else{if(null!==fr)return;ke++,fr=++xt}}if(null!==fr)for(ar=xt-fr,xt=7;0!=xt&&ar>0;)_r=it[xt],it[xt--]=it[fr+ar-1],it[fr+--ar]=_r;else if(8!=xt)return;return it}(Q.slice(1,-1)))?void(A.host=H):ue;if($t(A))return Q=P(Q),ct.test(Q)||null===(H=function(Ae){var xt,fr,ke,He,vt,Ge,dt,it=Ae.split(".");if(it.length&&""==it[it.length-1]&&it.pop(),(xt=it.length)>4)return Ae;for(fr=[],ke=0;ke<xt;ke++){if(""==(He=it[ke]))return Ae;if(vt=10,He.length>1&&"0"==He.charAt(0)&&(vt=me.test(He)?16:8,He=He.slice(8==vt?1:2)),""===He)Ge=0;else{if(!(10==vt?Be:8==vt?xe:qe).test(He))return Ae;Ge=parseInt(He,vt)}fr.push(Ge)}for(ke=0;ke<xt;ke++)if(Ge=fr[ke],ke==xt-1){if(Ge>=W(256,5-xt))return null}else if(Ge>255)return null;for(dt=fr.pop(),ke=0;ke<fr.length;ke++)dt+=fr[ke]*W(256,3-ke);return dt}(Q))?ue:void(A.host=H);if(ze.test(Q))return ue;for(H="",ie=$(Q),je=0;je<ie.length;je++)H+=Pt(ie[je],Ye);A.host=H},rt=function(A){for(var Q=null,H=1,ie=null,je=0,Ae=0;Ae<8;Ae++)0!==A[Ae]?(H<je&&(Q=ie,H=je),ie=null,je=0):(null===ie&&(ie=Ae),++je);return H<je&&(Q=ie,H=je),Q},Ye={},ot=D({},Ye,{" ":1,'"':1,"<":1,">":1,"`":1}),Je=D({},ot,{"#":1,"?":1,"{":1,"}":1}),ft=D({},Je,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pt=function(A,Q){var H=L(A,0);return 32<H&&H<127&&!g(Q,A)?A:encodeURIComponent(A)},Wt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$t=function(A){return g(Wt,A.scheme)},cr=function(A){return""!=A.username||""!=A.password},Vt=function(A,Q){return 2==A.length&&Y.test(A.charAt(0))&&(":"==(A=A.charAt(1))||!Q&&"|"==A)},mr=function(A){return 1<A.length&&Vt(A.slice(0,2))&&(2==A.length||"/"===(A=A.charAt(2))||"\\"===A||"?"===A||"#"===A)},Kt=function(A){var Q=A.path,H=Q.length;!H||"file"==A.scheme&&1==H&&Vt(Q[0],!0)||Q.pop()},hr=function(A){return"."===A||"%2e"===A.toLowerCase()},It=function(A){return".."===(A=A.toLowerCase())||"%2e."===A||".%2e"===A||"%2e%2e"===A},lr={},Ht={},$e={},We={},Pe={},Xe={},wt={},Ot={},Xt={},Ct={},Bt={},er={},or={},Rt={},mt={},Ut={},yt={},Lt={},ur={},ht={},Dt={},Jt=(tr=y.prototype,function(){var A=q(this),Q=A.scheme,H=A.username,ie=A.password,je=A.host,Ae=A.port,it=A.path,xt=A.query,fr=A.fragment,ke=Q+":";return null!==je?(ke+="//",cr(A)&&(ke+=H+(ie?":"+ie:"")+"@"),ke+=v(je),null!==Ae&&(ke+=":"+Ae)):"file"==Q&&(ke+="//"),ke+=A.cannotBeABaseURL?it[0]:it.length?"/"+it.join("/"):"",null!==xt&&(ke+="?"+xt),null!==fr&&(ke+="#"+fr),ke}),ir=function(){var A=q(this),Q=A.scheme,H=A.port;if("blob"==Q)try{return new URL(Q.path[0]).origin}catch{return"null"}return"file"!=Q&&$t(A)?Q+"://"+v(A.host)+(null!==H?":"+H:""):"null"},br=function(){return q(this).scheme+":"},Er=function(){return q(this).username},vr=function(){return q(this).password},Mr=function(){var A=(Q=q(this)).host,Q=Q.port;return null===A?"":null===Q?v(A):v(A)+":"+Q},z=function(){var A=q(this).host;return null===A?"":v(A)},pe=function(){var A=q(this).port;return null===A?"":String(A)},Ie=function(){var A=q(this),Q=A.path;return A.cannotBeABaseURL?Q[0]:Q.length?"/"+Q.join("/"):""},C=function(){var A=q(this).query;return A?"?"+A:""},O=function(){return q(this).searchParams},B=function(){var A=q(this).fragment;return A?"#"+A:""};u&&d(tr,{href:E(Jt,function(H){var Q=q(this);if(H=p(Q,H=String(H)))throw TypeError(H);Z(Q.searchParams).updateSearchParams(Q.query)}),origin:E(ir),protocol:E(br,function(A){p(q(this),String(A)+":",lr)}),username:E(Er,function(A){var Q=q(this),H=$(String(A));if(!b(Q)){Q.username="";for(var ie=0;ie<H.length;ie++)Q.username+=Pt(H[ie],ft)}}),password:E(vr,function(A){var Q=q(this),H=$(String(A));if(!b(Q)){Q.password="";for(var ie=0;ie<H.length;ie++)Q.password+=Pt(H[ie],ft)}}),host:E(Mr,function(A){var Q=q(this);Q.cannotBeABaseURL||p(Q,String(A),Bt)}),hostname:E(z,function(A){var Q=q(this);Q.cannotBeABaseURL||p(Q,String(A),er)}),port:E(pe,function(A){var Q=q(this);b(Q)||(""==(A=String(A))?Q.port=null:p(Q,A,or))}),pathname:E(Ie,function(A){var Q=q(this);Q.cannotBeABaseURL||(Q.path=[],p(Q,A+"",yt))}),search:E(C,function(A){var Q=q(this);""==(A=String(A))?Q.query=null:("?"==A.charAt(0)&&(A=A.slice(1)),Q.query="",p(Q,A,ht)),Z(Q.searchParams).updateSearchParams(Q.query)}),searchParams:E(O),hash:E(B,function(A){var Q=q(this);""==(A=String(A))?Q.fragment=null:("#"==A.charAt(0)&&(A=A.slice(1)),Q.fragment="",p(Q,A,Dt))})}),m(tr,"toJSON",function(){return Jt.call(this)},{enumerable:!0}),m(tr,"toString",function(){return Jt.call(this)},{enumerable:!0}),F&&(l=F.revokeObjectURL,(i=F.createObjectURL)&&m(y,"createObjectURL",function(A){return i.apply(F,arguments)}),l&&m(y,"revokeObjectURL",function(A){return l.apply(F,arguments)})),x(y,"URL"),a({global:!0,forced:!h,sham:!u},{URL:y})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(o,se,V){"use strict";se.exports=o("./").polyfill()},{"./":250}],250:[function(o,se,V){(function(v,b){var y;y=function(){"use strict";function E(Fe){return"function"==typeof Fe}var _=Array.isArray||function(Fe){return"[object Array]"===Object.prototype.toString.call(Fe)},i=0,l=void 0,a=void 0,u=function(Fe,rt){D[i]=Fe,D[i+1]=rt,2===(i+=2)&&(a?a($):R())},h=typeof window<"u"?window:void 0,d=(d=h||{}).MutationObserver||d.WebKitMutationObserver,m=typeof self>"u"&&void 0!==v&&"[object process]"==={}.toString.call(v),f=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function g(){var Fe=setTimeout;return function(){return Fe($,1)}}var D=new Array(1e3);function $(){for(var Fe=0;Fe<i;Fe+=2)(0,D[Fe])(D[Fe+1]),D[Fe]=void 0,D[Fe+1]=void 0;i=0}var P,x,U,R=void 0;function I(Fe,rt){var Ye,ot=this,Je=new this.constructor(oe),ft=(void 0===Je[Z]&&qe(Je),ot._state);return ft?(Ye=arguments[ft-1],u(function(){return xe(ft,Je,Ye,ot._result)})):te(ot,Je,Fe,rt),Je}function F(Fe){var rt;return Fe&&"object"==typeof Fe&&Fe.constructor===this?Fe:(ue(rt=new this(oe),Fe),rt)}R=m?function(){return v.nextTick($)}:d?(x=0,m=new d($),U=document.createTextNode(""),m.observe(U,{characterData:!0}),function(){U.data=x=++x%2}):f?((P=new MessageChannel).port1.onmessage=$,function(){return P.port2.postMessage(0)}):(void 0===h&&"function"==typeof o?function L(){try{var Fe=Function("return this")().require("vertx");return void 0!==(l=Fe.runOnLoop||Fe.runOnContext)?function(){l($)}:g()}catch{return g()}}:g)();var Z=Math.random().toString(36).substring(2);function oe(){}var q=void 0,re=1,W=2;function G(Fe,rt,Ye){u(function(ot){var Je=!1,ft=function(Pt,Wt,$t,cr){try{Pt.call(Wt,function(Pt){Je||(Je=!0,(rt!==Pt?ue:Y)(ot,Pt))},function(Pt){Je||(Je=!0,j(ot,Pt))})}catch(Vt){return Vt}}(Ye,rt);!Je&&ft&&(Je=!0,j(ot,ft))},Fe)}function K(Fe,rt,Ye){var ot,Je;rt.constructor===Fe.constructor&&Ye===I&&rt.constructor.resolve===F?(ot=Fe,(Je=rt)._state===re?Y(ot,Je._result):Je._state===W?j(ot,Je._result):te(Je,void 0,function(ft){return ue(ot,ft)},function(ft){return j(ot,ft)})):void 0!==Ye&&E(Ye)?G(Fe,rt,Ye):Y(Fe,rt)}function ue(Fe,rt){if(Fe===rt)j(Fe,new TypeError("You cannot resolve a promise with itself"));else if(Ye=typeof rt,null===rt||"object"!=Ye&&"function"!=Ye)Y(Fe,rt);else{Ye=void 0;try{Ye=rt.then}catch(ot){return void j(Fe,ot)}K(Fe,rt,Ye)}var Ye}function Me(Fe){Fe._onerror&&Fe._onerror(Fe._result),me(Fe)}function Y(Fe,rt){Fe._state===q&&(Fe._result=rt,Fe._state=re,0!==Fe._subscribers.length&&u(me,Fe))}function j(Fe,rt){Fe._state===q&&(Fe._state=W,Fe._result=rt,u(Me,Fe))}function te(Fe,rt,Ye,ot){var Je=Fe._subscribers,ft=Je.length;Fe._onerror=null,Je[ft]=rt,Je[ft+re]=Ye,Je[ft+W]=ot,0===ft&&Fe._state&&u(me,Fe)}function me(Fe){var rt=Fe._subscribers,Ye=Fe._state;if(0!==rt.length){for(var ot,Je=void 0,ft=Fe._result,Pt=0;Pt<rt.length;Pt+=3)Je=rt[Pt+Ye],(ot=rt[Pt])?xe(Ye,ot,Je,ft):Je(ft);Fe._subscribers.length=0}}function xe(Fe,rt,Ye,ot){var Je=E(Ye),ft=void 0,Pt=void 0,Wt=!0;if(Je){try{ft=Ye(ot)}catch($t){Wt=!1,Pt=$t}if(rt===ft)return void j(rt,new TypeError("A promises callback cannot return that same promise."))}else ft=ot;rt._state===q&&(Je&&Wt?ue(rt,ft):!1===Wt?j(rt,Pt):Fe===re?Y(rt,ft):Fe===W&&j(rt,ft))}var Be=0;function qe(Fe){Fe[Z]=Be++,Fe._state=void 0,Fe._result=void 0,Fe._subscribers=[]}ze.prototype._enumerate=function(Fe){for(var rt=0;this._state===q&&rt<Fe.length;rt++)this._eachEntry(Fe[rt],rt)},ze.prototype._eachEntry=function(Fe,rt){var Ye=this._instanceConstructor,ot=Ye.resolve;if(ot===F){var Je,ft=void 0,Pt=void 0,Wt=!1;try{ft=Fe.then}catch($t){Wt=!0,Pt=$t}ft===I&&Fe._state!==q?this._settledAt(Fe._state,rt,Fe._result):"function"!=typeof ft?(this._remaining--,this._result[rt]=Fe):Ye===st?(Je=new Ye(oe),Wt?j(Je,Pt):K(Je,Fe,ft),this._willSettleAt(Je,rt)):this._willSettleAt(new Ye(function($t){return $t(Fe)}),rt)}else this._willSettleAt(ot(Fe),rt)},ze.prototype._settledAt=function(Fe,rt,Ye){var ot=this.promise;ot._state===q&&(this._remaining--,Fe===W?j(ot,Ye):this._result[rt]=Ye),0===this._remaining&&Y(ot,this._result)},ze.prototype._willSettleAt=function(Fe,rt){var Ye=this;te(Fe,void 0,function(ot){return Ye._settledAt(re,rt,ot)},function(ot){return Ye._settledAt(W,rt,ot)})};var ct=ze;function ze(Fe,rt){this._instanceConstructor=Fe,this.promise=new Fe(oe),this.promise[Z]||qe(this.promise),_(rt)?(this.length=rt.length,this._remaining=rt.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(rt),0!==this._remaining)||Y(this.promise,this._result)):j(this.promise,new Error("Array Methods must be provided an Array"))}lt.prototype.catch=function(Fe){return this.then(null,Fe)},lt.prototype.finally=function(Fe){var rt=this.constructor;return E(Fe)?this.then(function(Ye){return rt.resolve(Fe()).then(function(){return Ye})},function(Ye){return rt.resolve(Fe()).then(function(){throw Ye})}):this.then(Fe,Fe)};var st=lt;function lt(Fe){if(this[Z]=Be++,this._result=this._state=void 0,this._subscribers=[],oe!==Fe){if("function"!=typeof Fe)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof lt))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var rt=this;try{Fe(function(Ye){ue(rt,Ye)},function(Ye){j(rt,Ye)})}catch(Ye){j(rt,Ye)}}}return st.prototype.then=I,st.all=function(Fe){return new ct(this,Fe).promise},st.race=function(Fe){var rt=this;return _(Fe)?new rt(function(Ye,ot){for(var Je=Fe.length,ft=0;ft<Je;ft++)rt.resolve(Fe[ft]).then(Ye,ot)}):new rt(function(Ye,ot){return ot(new TypeError("You must pass an array to race."))})},st.resolve=F,st.reject=function(Fe){var rt=new this(oe);return j(rt,Fe),rt},st._setScheduler=function(Fe){a=Fe},st._setAsap=function(Fe){u=Fe},st._asap=u,st.polyfill=function(){var Fe=void 0;if(void 0!==b)Fe=b;else if(typeof self<"u")Fe=self;else try{Fe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var rt=Fe.Promise;if(rt){var Ye=null;try{Ye=Object.prototype.toString.call(rt.resolve())}catch{}if("[object Promise]"===Ye&&!rt.cast)return}Fe.Promise=st},st.Promise=st},"object"==typeof V&&void 0!==se?se.exports=y():this.ES6Promise=y()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(o,se,V){var b;b=function(p,y){"use strict";function i(a){try{delete window[a]}catch{window[a]=void 0}}function l(a){(a=document.getElementById(a))&&document.getElementsByTagName("head")[0].removeChild(a)}y.exports=function(a){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=a,d=u.timeout||5e3,m=u.jsonpCallback||"callback",f=void 0;return new Promise(function(g,D){var $=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),L=m+"_"+$,P=(window[$]=function(x){g({ok:!0,json:function(){return Promise.resolve(x)}}),f&&clearTimeout(f),l(L),i($)},h+=-1===h.indexOf("?")?"?":"&",document.createElement("script"));P.setAttribute("src",""+h+m+"="+$),u.charset&&P.setAttribute("charset",u.charset),P.id=L,document.getElementsByTagName("head")[0].appendChild(P),f=setTimeout(function(){D(new Error("JSONP request to "+a+" timed out")),i($),l(L),window[$]=function(){i($)}},d),P.onerror=function(){D(new Error("JSONP request to "+a+" failed")),i($),l(L),f&&clearTimeout(f)}})}},void 0!==V&&void 0!==se?b(0,se):(b(b={exports:{}},b),this.fetchJsonp=b.exports)},{}],252:[function(o,se,V){var v=function(b){"use strict";var p,y,E,_,i,l,u,h,d,m;if(!(void 0===b||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return p=function(){return b.URL||b.webkitURL||b},y=(m=b.document).createElementNS("http://www.w3.org/1999/xhtml","a"),E="download"in y,_=/constructor/i.test(b.HTMLElement)||b.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(f){(b.setImmediate||b.setTimeout)(function(){throw f},0)},4e4,u=function(f){setTimeout(function(){"string"==typeof f?p().revokeObjectURL(f):f.remove()},4e4)},h=function(f){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\ufeff",f],{type:f.type}):f},m=(d=function(f,g,x){x||(f=h(f));var $,L,P=this,U=(x="application/octet-stream"===f.type,function(){for(var I=P,F="writestart progress write writeend".split(" "),Z=(F=[].concat(F)).length;Z--;){var oe=I["on"+F[Z]];if("function"==typeof oe)try{oe.call(I,I)}catch(q){l(q)}}});P.readyState=P.INIT,E?($=p().createObjectURL(f),setTimeout(function(){var I,F;y.href=$,y.download=g,I=y,F=new MouseEvent("click"),I.dispatchEvent(F),U(),u($),P.readyState=P.DONE})):(i||x&&_)&&b.FileReader?((L=new FileReader).onloadend=function(){var I=i?L.result:L.result.replace(/^data:[^;]*;/,"data:attachment/file;");b.open(I,"_blank")||(b.location.href=I),I=void 0,P.readyState=P.DONE,U()},L.readAsDataURL(f),P.readyState=P.INIT):($=$||p().createObjectURL(f),!x&&b.open($,"_blank")||(b.location.href=$),P.readyState=P.DONE,U(),u($))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(f,g,D){return g=g||f.name||"download",D||(f=h(f)),navigator.msSaveOrOpenBlob(f,g)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,function(f,g,D){return new d(f,g||f.name||"download",D)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==se&&se.exports&&(se.exports.saveAs=v)},{}],253:[function(o,se,V){var v,b=Object.defineProperty,p=(b(V,"__esModule",{value:!0}),V),y={GIFEncoder:()=>U,applyPalette:()=>function(q,re,W="rgb565"){if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<re.length)throw new Error("applyPalette() only works with 256 colors or less");const G=new Uint32Array(q.buffer),K=G.length,ue="rgb444"===W?4096:65536,Me=new Uint8Array(K),Y=new Array(ue);if("rgba4444"===W)for(let lt=0;lt<K;lt++){var xe,j=(xe=G[lt])>>24&255,te=xe>>16&255,me=xe>>8&255,Be=(Be=u(xe&=255,me,te,j))in Y?Y[Be]:Y[Be]=function(Fe,rt,Ye,ot,Je){let ft=0,Pt=1e100;for(let Vt=0;Vt<Je.length;Vt++){var $t=Je[Vt],cr=L($t[3]-ot);cr>Pt||(cr+=L($t[0]-Fe))>Pt||(cr+=L($t[1]-rt))>Pt||(cr+=L($t[2]-Ye))>Pt||(Pt=cr,ft=Vt)}return ft}(xe,me,te,j,re);Me[lt]=Be}else{const lt="rgb444"===W?h:a;for(let Fe=0;Fe<K;Fe++){var ze,qe=(ze=G[Fe])>>16&255,ct=ze>>8&255,st=(st=lt(ze&=255,ct,qe))in Y?Y[st]:Y[st]=function(rt,Ye,ot,Je){let ft=0,Pt=1e100;for(let Vt=0;Vt<Je.length;Vt++){var $t=Je[Vt],cr=L($t[0]-rt);cr>Pt||(cr+=L($t[1]-Ye))>Pt||(cr+=L($t[2]-ot))>Pt||(Pt=cr,ft=Vt)}return ft}(ze,ct,qe,re);Me[Fe]=st}}return Me},default:()=>oe,nearestColor:()=>function(q,re,W=D){return q[P(q,re,W)]},nearestColorIndex:()=>P,nearestColorIndexWithDistance:()=>x,prequantize:()=>function(q,{roundRGB:re=5,roundAlpha:W=10,oneBitAlpha:G=null}={}){const K=new Uint32Array(q.buffer);for(let te=0;te<K.length;te++){let me=(j=K[te])>>24&255;var Me=j>>16&255,Y=j>>8&255,j=255&j;me=$(me,W),G&&(me=me<=("number"==typeof G?G:127)?0:255),j=$(j,re),Y=$(Y,re),Me=$(Me,re),K[te]=me<<24|Me<<16|Y<<8|j}},quantize:()=>function(q,re,W={}){var{format:G="rgb565",clearAlpha:K=!0,clearAlphaColor:ue=0,clearAlphaThreshold:Me=0,oneBitAlpha:Y=!1}=W;if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");q=new Uint32Array(q.buffer);let j=!1!==W.useSqrt;const te="rgba4444"===G,me=function(mr,Kt){const It=new Array("rgb444"===Kt?4096:65536),lr=mr.length;if("rgba4444"===Kt)for(let mt=0;mt<lr;++mt){var Pe,Ht=(Pe=mr[mt])>>24&255,$e=Pe>>16&255,We=Pe>>8&255,Xe=u(Pe&=255,We,$e,Ht);let Ut=Xe in It?It[Xe]:It[Xe]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ut.rc+=Pe,Ut.gc+=We,Ut.bc+=$e,Ut.ac+=Ht,Ut.cnt++}else if("rgb444"===Kt)for(let mt=0;mt<lr;++mt){var Xt,wt=(Xt=mr[mt])>>16&255,Ot=Xt>>8&255,Ct=h(Xt&=255,Ot,wt);let Ut=Ct in It?It[Ct]:It[Ct]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ut.rc+=Xt,Ut.gc+=Ot,Ut.bc+=wt,Ut.cnt++}else for(let mt=0;mt<lr;++mt){var or,Bt=(or=mr[mt])>>16&255,er=or>>8&255,Rt=a(or&=255,er,Bt);let Ut=Rt in It?It[Rt]:It[Rt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ut.rc+=or,Ut.gc+=er,Ut.bc+=Bt,Ut.cnt++}return It}(q,G),xe=me.length,Be=xe-1,qe=new Uint32Array(xe+1);for(var ct=0,ze=0;ze<xe;++ze){const mr=me[ze];null!=mr&&($t=1/mr.cnt,te&&(mr.ac*=$t),mr.rc*=$t,mr.gc*=$t,mr.bc*=$t,me[ct++]=mr)}var st,lt,Fe;for(m(re)/ct<.022&&(j=!1),ze=0;ze<ct-1;++ze)me[ze].fw=ze+1,me[ze+1].bk=ze,j&&(me[ze].cnt=Math.sqrt(me[ze].cnt));for(j&&(me[ze].cnt=Math.sqrt(me[ze].cnt)),ze=0;ze<ct;++ze){f(me,ze,!1);var rt=me[ze].err;for(lt=++qe[0];1<lt&&!(me[st=qe[Fe=lt>>1]].err<=rt);lt=Fe)qe[lt]=st;qe[lt]=ze}var Ye,ot=ct-re;for(ze=0;ze<ot;){for(;;){var Je=qe[1];if((Ye=me[Je]).tm>=Ye.mtm&&me[Ye.nn].mtm<=Ye.tm)break;for(Ye.mtm==Be?Je=qe[1]=qe[qe[0]--]:(f(me,Je,!1),Ye.tm=ze),rt=me[Je].err,lt=1;(Fe=lt+lt)<=qe[0]&&(Fe<qe[0]&&me[qe[Fe]].err>me[qe[Fe+1]].err&&Fe++,!(rt<=me[st=qe[Fe]].err));lt=Fe)qe[lt]=st;qe[lt]=Je}var ft=me[Ye.nn],Pt=Ye.cnt,Wt=ft.cnt,$t=1/(Pt+Wt);te&&(Ye.ac=$t*(Pt*Ye.ac+Wt*ft.ac)),Ye.rc=$t*(Pt*Ye.rc+Wt*ft.rc),Ye.gc=$t*(Pt*Ye.gc+Wt*ft.gc),Ye.bc=$t*(Pt*Ye.bc+Wt*ft.bc),Ye.cnt+=ft.cnt,Ye.mtm=++ze,me[ft.bk].fw=ft.fw,me[ft.fw].bk=ft.bk,ft.mtm=Be}let cr=[];for(ze=0;;0){let mr=d(Math.round(me[ze].rc),0,255),Kt=d(Math.round(me[ze].gc),0,255),hr=d(Math.round(me[ze].bc),0,255),It=255;te&&(It=d(Math.round(me[ze].ac),0,255),Y&&(It=It<=(Vt="number"==typeof Y?Y:127)?0:255),K&&It<=Me&&(mr=Kt=hr=ue,It=0));var Vt=te?[mr,Kt,hr,It]:[mr,Kt,hr];if(function(lr,Ht){for(let Pe=0;Pe<lr.length;Pe++){var $e=(We=lr[Pe])[0]===Ht[0]&&We[1]===Ht[1]&&We[2]===Ht[2],We=!(4<=We.length&&4<=Ht.length)||We[3]===Ht[3];if($e&&We)return!0}return!1}(cr,Vt)||cr.push(Vt),0==(ze=me[ze].fw))break}return cr},snapColorsToPalette:()=>function(q,re,W=5){if(q.length&&re.length){var G=q.map(j=>j.slice(0,3)),K=W*W,ue=q[0].length;for(let j=0;j<re.length;j++){let te=re[j];te=te.length<ue?[te[0],te[1],te[2],255]:te.length>ue?te.slice(0,3):te.slice();var Y,Me=(Y=x(G,te.slice(0,3),D))[0];0<(Y=Y[1])&&Y<=K&&(q[Me]=te)}}}};for(v in y)b(p,v,{get:y[v],enumerable:!0});var E={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function _(q=256){let re=0,W=new Uint8Array(q);return{get buffer(){return W.buffer},reset(){re=0},bytesView:()=>W.subarray(0,re),bytes:()=>W.slice(0,re),writeByte(K){G(re+1),W[re]=K,re++},writeBytes(K,ue=0,Me=K.length){G(re+Me);for(let Y=0;Y<Me;Y++)W[re++]=K[Y+ue]},writeBytesView(K,ue=0,Me=K.byteLength){G(re+Me),W.set(K.subarray(ue,ue+Me),re),re+=Me}};function G(K){var ue=W.length;if(!(K<=ue)){K=Math.max(K,ue*(ue<1048576?2:1.125)>>>0),0!=ue&&(K=Math.max(K,256));const Me=W;W=new Uint8Array(K),0<re&&W.set(Me.subarray(0,re),0)}}}var i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function(q,re,W,te,K=_(512),ue=new Uint8Array(256),Me=new Int32Array(5003),Y=new Int32Array(5003)){var j=Me.length;te=Math.max(2,te),ue.fill(0),Y.fill(0),Me.fill(-1);let me=0,xe=0;var Be=te+1;const qe=Be;let ct=!1,ze=qe,st=(1<<ze)-1;var lt=1<<Be-1;const Fe=1+lt;let rt=2+lt,Ye=0,ot=W[0],Je=0;for(let Vt=j;Vt<65536;Vt*=2)++Je;Je=8-Je,K.writeByte(te),cr(lt);var ft=W.length;for(let Vt=1;Vt<ft;Vt++)e:{var Pt=W[Vt],Wt=(Pt<<12)+ot;let mr=Pt<<Je^ot;if(Me[mr]===Wt)ot=Y[mr];else{for(var $t=0===mr?1:j-mr;0<=Me[mr];)if((mr-=$t)<0&&(mr+=j),Me[mr]===Wt){ot=Y[mr];break e}cr(ot),ot=Pt,rt<4096?(Y[mr]=rt++,Me[mr]=Wt):(Me.fill(-1),rt=2+lt,ct=!0,cr(lt))}}return cr(ot),cr(Fe),K.writeByte(0),K.bytesView();function cr(Vt){for(me&=i[xe],0<xe?me|=Vt<<xe:me=Vt,xe+=ze;8<=xe;)ue[Ye++]=255&me,254<=Ye&&(K.writeByte(Ye),K.writeBytesView(ue,0,Ye),Ye=0),me>>=8,xe-=8;if((rt>st||ct)&&(ct?(ze=qe,st=(1<<ze)-1,ct=!1):(++ze,st=12===ze?1<<ze:(1<<ze)-1)),Vt==Fe){for(;0<xe;)ue[Ye++]=255&me,254<=Ye&&(K.writeByte(Ye),K.writeBytesView(ue,0,Ye),Ye=0),me>>=8,xe-=8;0<Ye&&(K.writeByte(Ye),K.writeBytesView(ue,0,Ye),Ye=0)}}};function a(q,re,W){return q<<8&63488|re<<2&992|W>>3}function u(q,re,W,G){return q>>4|240&re|(240&W)<<4|(240&G)<<8}function h(q,re,W){return q>>4<<8|240&re|W>>4}function d(q,re,W){return q<re?re:W<q?W:q}function m(q){return q*q}function f(q,re,W){var G=0,K=1e100;const ue=q[re];for(var Me=ue.cnt,Y=ue.ac,j=ue.rc,te=ue.gc,me=ue.bc,xe=ue.fw;0!=xe;xe=q[xe].fw){var Be,ct,qe=q[xe];K<=(ct=Me*(ct=qe.cnt)/(Me+ct))||(Be=0,W&&K<=(Be+=ct*m(qe.ac-Y))||K<=(Be+=ct*m(qe.rc-j))||K<=(Be+=ct*m(qe.gc-te))||K<=(Be+=ct*m(qe.bc-me))||(K=Be,G=xe))}ue.err=K,ue.nn=G}function D(q,re){for(var W=0,G=0;G<q.length;G++){var K=q[G]-re[G];W+=K*K}return W}function $(q,re){return 1<re?Math.round(q/re)*re:q}function L(q){return q*q}function P(q,re,W=D){let G=1/0,K=-1;for(let Me=0;Me<q.length;Me++){var ue=W(re,q[Me]);ue<G&&(G=ue,K=Me)}return K}function x(q,re,W=D){let G=1/0,K=-1;for(let Me=0;Me<q.length;Me++){var ue=W(re,q[Me]);ue<G&&(G=ue,K=Me)}return[K,G]}function U(q={}){const{initialCapacity:re=4096,auto:W=!0}=q,G=_(re),K=new Uint8Array(256),ue=new Int32Array(5003),Me=new Int32Array(5003);let Y=!1;return{reset(){G.reset(),Y=!1},finish(){G.writeByte(E.trailer)},bytes:()=>G.bytes(),bytesView:()=>G.bytesView(),get buffer(){return G.buffer},get stream(){return G},writeHeader:j,writeFrame(te,me,xe,ot={}){var{transparent:qe=!1,transparentIndex:ct=0,delay:$t=0,palette:ze=null,repeat:ft=0,colorDepth:st=8,dispose:lt=-1}=ot;let Fe=!1;if(W?Y||(Fe=!0,j(),Y=!0):Fe=!!ot.first,me=Math.max(0,Math.floor(me)),xe=Math.max(0,Math.floor(xe)),Fe){if(!ze)throw new Error("First frame must include a { palette } option");var[ot,Pt,Ye,Wt,Je=8]=[G,me,xe,ze,st];Je=128|Je-1<<4|(Wt=Z(Wt.length)-1),F(ot,Pt),F(ot,Ye),ot.writeBytes([Je,0,0]),I(G,ze),0<=ft&&(Pt=ft,(Wt=G).writeByte(33),Wt.writeByte(255),Wt.writeByte(11),R(Wt,"NETSCAPE2.0"),Wt.writeByte(3),Wt.writeByte(1),F(Wt,Pt),Wt.writeByte(0))}var rt,Ye,Je=lt,ft=Ye=Math.round($t/10),Pt=qe,Wt=ct,$t=((ot=G).writeByte(33),ot.writeByte(249),ot.writeByte(4),Wt<0&&(Wt=0,Pt=!1),Pt=Pt?(rt=1,2):rt=0,0<=Je&&(Pt=7&Je),ot.writeByte((Pt<<=2)|rt),F(ot,ft),ot.writeByte(Wt||0),ot.writeByte(0),!!ze&&!Fe);qe=me,ct=xe,rt=$t?ze:null,(lt=G).writeByte(44),F(lt,0),F(lt,0),F(lt,qe),F(lt,ct),rt?(qe=Z(rt.length)-1,lt.writeByte(128|qe)):lt.writeByte(0),$t&&I(G,ze),[ft,ot,ct,qe,lt=8,$t,ze,te]=[G,te,me,xe,st,K,ue,Me],l(ct,qe,ot,lt,ft,$t,ze,te)}};function j(){R(G,"GIF89a")}}function I(q,re){var W=1<<Z(re.length);for(let G=0;G<W;G++){let K=[0,0,0];G<re.length&&(K=re[G]),q.writeByte(K[0]),q.writeByte(K[1]),q.writeByte(K[2])}}function F(q,re){q.writeByte(255&re),q.writeByte(re>>8&255)}function R(q,re){for(var W=0;W<re.length;W++)q.writeByte(re.charCodeAt(W))}function Z(q){return Math.max(Math.ceil(Math.log2(q)),1)}var oe=U},{}],254:[function(o,se,V){V.read=function(v,b,p,y,f){var _,i,l=8*f-y-1,a=(1<<l)-1,u=a>>1,h=-7,d=p?f-1:0,m=p?-1:1;for(f=v[b+d],d+=m,_=f&(1<<-h)-1,f>>=-h,h+=l;0<h;_=256*_+v[b+d],d+=m,h-=8);for(i=_&(1<<-h)-1,_>>=-h,h+=y;0<h;i=256*i+v[b+d],d+=m,h-=8);if(0===_)_=1-u;else{if(_===a)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,y),_-=u}return(f?-1:1)*i*Math.pow(2,_-y)},V.write=function(v,b,p,y,E,g){var i,l,a=8*g-E-1,u=(1<<a)-1,h=u>>1,d=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,m=y?0:g-1,f=y?1:-1;for(g=b<0||0===b&&1/b<0?1:0,b=Math.abs(b),isNaN(b)||b===1/0?(l=isNaN(b)?1:0,i=u):(i=Math.floor(Math.log(b)/Math.LN2),b*(y=Math.pow(2,-i))<1&&(i--,y*=2),2<=(b+=1<=i+h?d/y:d*Math.pow(2,1-h))*y&&(i++,y/=2),u<=i+h?(l=0,i=u):1<=i+h?(l=(b*y-1)*Math.pow(2,E),i+=h):(l=b*Math.pow(2,h-1)*Math.pow(2,E),i=0));8<=E;v[p+m]=255&l,m+=f,l/=256,E-=8);for(i=i<<E|l,a+=E;0<a;v[p+m]=255&i,m+=f,i/=256,a-=8);v[p+m-f]|=128*g}},{}],255:[function(o,se,V){"use strict";var v;function b($e,We){return $e.b===We.b&&$e.a===We.a}function p($e,We){return $e.b<We.b||$e.b===We.b&&$e.a<=We.a}function y($e,We,Pe){var Xe=We.b-$e.b,wt=Pe.b-We.b;return 0<Xe+wt?Xe<wt?We.a-$e.a+Xe/(Xe+wt)*($e.a-Pe.a):We.a-Pe.a+wt/(Xe+wt)*(Pe.a-$e.a):0}function E($e,We,Pe){var Xe=We.b-$e.b,wt=Pe.b-We.b;return 0<Xe+wt?(We.a-Pe.a)*Xe+(We.a-$e.a)*wt:0}function _($e,We){return $e.a<We.a||$e.a===We.a&&$e.b<=We.b}function i($e,We,Pe){var Xe=We.a-$e.a,wt=Pe.a-We.a;return 0<Xe+wt?Xe<wt?We.b-$e.b+Xe/(Xe+wt)*($e.b-Pe.b):We.b-Pe.b+wt/(Xe+wt)*(Pe.b-$e.b):0}function l($e,We,Pe){var Xe=We.a-$e.a,wt=Pe.a-We.a;return 0<Xe+wt?(We.b-Pe.b)*Xe+(We.b-$e.b)*wt:0}function a($e,We,Pe,Xe){return($e=$e<0?0:$e)<=(Pe=Pe<0?0:Pe)?0===Pe?(We+Xe)/2:We+$e/($e+Pe)*(Xe-We):Xe+Pe/($e+Pe)*(We-Xe)}function u($e){var We=g($e.b);return $(We,$e.c),$(We.b,$e.c),L(We,$e.a),We}function h($e,We){var Pe=!1,Xe=!1;$e!==We&&(We.a!==$e.a&&(Xe=!0,x(We.a,$e.a)),We.d!==$e.d&&(Pe=!0,U(We.d,$e.d)),D(We,$e),Xe||($(We,$e.a),$e.a.c=$e),Pe||(L(We,$e.d),$e.d.a=$e))}function d($e){var We=$e.b,Pe=!1;$e.d!==$e.b.d&&(Pe=!0,U($e.d,$e.b.d)),$e.c===$e?x($e.a,null):($e.b.d.a=$e.b.e,$e.a.c=$e.c,D($e,$e.b.e),Pe||L($e,$e.d)),We.c===We?(x(We.a,null),U(We.d,null)):($e.d.a=We.b.e,We.a.c=We.c,D(We,We.b.e)),P($e)}function m($e){var We=g($e),Pe=We.b;return D(We,$e.e),We.a=$e.b.a,$(Pe,We.a),We.d=Pe.d=$e.d,We=We.b,D($e.b,$e.b.b.e),D($e.b,We),$e.b.a=We.a,We.b.a.c=We.b,We.b.d=$e.b.d,We.f=$e.f,We.b.f=$e.b.f,We}function f($e,We){var Pe=!1,Xe=g($e),wt=Xe.b;return We.d!==$e.d&&(Pe=!0,U(We.d,$e.d)),D(Xe,$e.e),D(wt,We),Xe.a=$e.b.a,wt.a=We.a,Xe.d=wt.d=$e.d,$e.d.a=wt,Pe||L(Xe,$e.d),Xe}function g($e){var We=new Ye,Pe=new Ye;return(((Pe.h=$e.b.h).b.h=We).h=$e).b.h=Pe,We.b=Pe,((We.c=We).e=Pe).b=We,(Pe.c=Pe).e=We}function D($e,We){var Pe=$e.c,Xe=We.c;Pe.b.e=We,(Xe.b.e=$e).c=Xe,We.c=Pe}function $($e,We){var Pe=We.f,Xe=new Je(We,Pe);for(Pe.e=Xe,Pe=(We.f=Xe).c=$e;Pe.a=Xe,(Pe=Pe.c)!==$e;);}function L($e,We){var Pe=We.d,Xe=new rt(We,Pe);for(Pe.b=Xe,(We.d=Xe).a=$e,Xe.c=We.c,Pe=$e;Pe.d=Xe,(Pe=Pe.e)!==$e;);}function P($e){var We=$e.h;(We.b.h=$e=$e.b.h).b.h=We}function x($e,We){for(var Pe=$e.c,Xe=Pe;Xe.a=We,(Xe=Xe.c)!==Pe;);((Xe=$e.e).f=Pe=$e.f).e=Xe}function U($e,We){for(var Pe=$e.a,Xe=Pe;Xe.d=We,(Xe=Xe.e)!==Pe;);((Xe=$e.b).d=Pe=$e.d).b=Xe}function I($e){var We=0;return Math.abs($e[1])>Math.abs($e[0])&&(We=1),Math.abs($e[2])>Math.abs($e[We])?2:We}function F($e,We){$e.f+=We.f,$e.b.f+=We.b.f}function R($e,We,Pe){return Pe=Pe.a,(We=We.a).b.a===($e=$e.a)?Pe.b.a===$e?p(We.a,Pe.a)?E(Pe.b.a,We.a,Pe.a)<=0:0<=E(We.b.a,Pe.a,We.a):E(Pe.b.a,$e,Pe.a)<=0:Pe.b.a===$e?0<=E(We.b.a,$e,We.a):(We=y(We.b.a,$e,We.a),($e=y(Pe.b.a,$e,Pe.a))<=We)}function Z($e){$e.a.i=null;var We=$e.e;We.a.c=We.c,We.c.a=We.a,$e.e=null}function oe($e,We){d($e.a),$e.c=!1,($e.a=We).i=$e}function q($e){for(var We=$e.a.a;($e=Ht($e)).a.a===We;);return $e.c&&(oe($e,We=f(lr($e).a.b,$e.a.e)),$e=Ht($e)),$e}function re($e,We,Pe){var Xe=new It;return Xe.a=Pe,Xe.e=ct($e.f,We.e,Xe),Pe.i=Xe}function W($e,We){switch($e.s){case 100130:return!!(1&We);case 100131:return 0!==We;case 100132:return 0<We;case 100133:return We<0;case 100134:return 2<=We||We<=-2}return!1}function G($e){var We=$e.a,Pe=We.d;Pe.c=$e.d,Pe.a=We,Z($e)}function K($e,We,Pe){for(We=($e=We).a;$e!==Pe;){$e.c=!1;var Xe=lr($e),wt=Xe.a;if(wt.a!==We.a){if(!Xe.c){G($e);break}oe(Xe,wt=f(We.c.b,wt.b))}We.c!==wt&&(h(wt.b.e,wt),h(We,wt)),G($e),We=Xe.a,$e=Xe}return We}function ue($e,We,Pe,Xe,wt,Ot){for(var Xt=!0;re($e,We,Pe.b),(Pe=Pe.c)!==Xe;);for(null===wt&&(wt=lr(We).a.b.c);(Pe=(Xe=lr(We)).a.b).a===wt.a;)Pe.c!==wt&&(h(Pe.b.e,Pe),h(wt.b.e,Pe)),Xe.f=We.f-Pe.f,Xe.d=W($e,Xe.f),We.b=!0,!Xt&&te($e,We)&&(F(Pe,wt),Z(We),d(wt)),Xt=!1,We=Xe,wt=Pe;We.b=!0,Ot&&xe($e,We)}function Me($e,We,Pe,Xe,wt){var Ot=[We.g[0],We.g[1],We.g[2]];We.d=null,We.d=$e.o&&$e.o(Ot,Pe,Xe,$e.c)||null,null===We.d&&(wt?$e.n||(Fe($e,100156),$e.n=!0):We.d=Pe[0])}function Y($e,We,Pe){var Xe=[null,null,null,null];Xe[0]=We.a.d,Xe[1]=Pe.a.d,Me($e,We.a,Xe,[.5,.5,0,0],!1),h(We,Pe)}function j($e,We,Pe,Xe,wt){var Ot=Math.abs(We.b-$e.b)+Math.abs(We.a-$e.a),Xt=Math.abs(Pe.b-$e.b)+Math.abs(Pe.a-$e.a),Ct=wt+1;Xe[wt]=.5*Xt/(Ot+Xt),Xe[Ct]=.5*Ot/(Ot+Xt),$e.g[0]+=Xe[wt]*We.g[0]+Xe[Ct]*Pe.g[0],$e.g[1]+=Xe[wt]*We.g[1]+Xe[Ct]*Pe.g[1],$e.g[2]+=Xe[wt]*We.g[2]+Xe[Ct]*Pe.g[2]}function te($e,We){var Pe=lr(We),Xe=We.a,wt=Pe.a;if(p(Xe.a,wt.a)){if(0<E(wt.b.a,Xe.a,wt.a))return;if(b(Xe.a,wt.a)){if(Xe.a!==wt.a){Pe=$e.e;var Ot=Xe.a.h;if(0<=Ot){var Xt=(Pe=Pe.b).d,Ct=Pe.e,Bt=Pe.c,er=Bt[Ot];Xt[er]=Xt[Pe.a],(Bt[Xt[er]]=er)<=--Pe.a&&(er<=1||p(Ct[Xt[er>>1]],Ct[Xt[er]])?Kt:hr)(Pe,er),Ct[Ot]=null,Bt[Ot]=Pe.b,Pe.b=Ot}else for(Pe.c[-(Ot+1)]=null;0<Pe.a&&null===Pe.c[Pe.d[Pe.a-1]];)--Pe.a;Y($e,wt.b.e,Xe)}}else m(wt.b),h(Xe,wt.b.e),We.b=Pe.b=!0}else{if(E(Xe.b.a,wt.a,Xe.a)<0)return;Ht(We).b=We.b=!0,m(Xe.b),h(wt.b.e,Xe)}return 1}function me($e,We){var Pe=lr(We),Xe=We.a,wt=Pe.a,Ot=Xe.a,Xt=wt.a,Ct=Xe.b.a,Bt=wt.b.a,er=new Je;if(E(Ct,$e.a,Ot),E(Bt,$e.a,Xt),!(Ot===Xt||Math.min(Ot.a,Ct.a)>Math.max(Xt.a,Bt.a))){if(p(Ot,Xt)){if(0<E(Bt,Ot,Xt))return}else if(E(Ct,Xt,Ot)<0)return;var or,Rt,mt=Ct,Ut=Ot,yt=Bt,Lt=Xt;if(p(mt,Ut)||(or=mt,mt=Ut,Ut=or),p(yt,Lt)||(or=yt,yt=Lt,Lt=or),p(mt,yt)||(or=mt,mt=yt,yt=or,or=Ut,Ut=Lt,Lt=or),p(yt,Ut)?p(Ut,Lt)?((or=y(mt,yt,Ut))+(Rt=y(yt,Ut,Lt))<0&&(or=-or,Rt=-Rt),er.b=a(or,yt.b,Rt,Ut.b)):((or=E(mt,yt,Ut))+(Rt=-E(mt,Lt,Ut))<0&&(or=-or,Rt=-Rt),er.b=a(or,yt.b,Rt,Lt.b)):er.b=(yt.b+Ut.b)/2,_(mt,Ut)||(or=mt,mt=Ut,Ut=or),_(yt,Lt)||(or=yt,yt=Lt,Lt=or),_(mt,yt)||(or=mt,mt=yt,yt=or,or=Ut,Ut=Lt,Lt=or),_(yt,Ut)?_(Ut,Lt)?((or=i(mt,yt,Ut))+(Rt=i(yt,Ut,Lt))<0&&(or=-or,Rt=-Rt),er.a=a(or,yt.a,Rt,Ut.a)):((or=l(mt,yt,Ut))+(Rt=-l(mt,Lt,Ut))<0&&(or=-or,Rt=-Rt),er.a=a(or,yt.a,Rt,Lt.a)):er.a=(yt.a+Ut.a)/2,p(er,$e.a)&&(er.b=$e.a.b,er.a=$e.a.a),mt=p(Ot,Xt)?Ot:Xt,p(mt,er)&&(er.b=mt.b,er.a=mt.a),b(er,Ot)||b(er,Xt))return te($e,We),0;if(!b(Ct,$e.a)&&0<=E(Ct,$e.a,er)||!b(Bt,$e.a)&&E(Bt,$e.a,er)<=0){if(Bt===$e.a)m(Xe.b),h(wt.b,Xe),Xe=lr(We=q(We)).a,K($e,lr(We),Pe),ue($e,We,Xe.b.e,Xe,Xe,!0);else{if(Ct!==$e.a)return 0<=E(Ct,$e.a,er)&&(Ht(We).b=We.b=!0,m(Xe.b),Xe.a.b=$e.a.b,Xe.a.a=$e.a.a),void(E(Bt,$e.a,er)<=0&&(We.b=Pe.b=!0,m(wt.b),wt.a.b=$e.a.b,wt.a.a=$e.a.a));for(m(wt.b),h(Xe.e,wt.b.e),Xt=(Ot=Pe=We).a.b.a;(Ot=Ht(Ot)).a.b.a===Xt;);Ot=lr(We=Ot).a.b.c,Pe.a=wt.b.e,ue($e,We,(wt=K($e,Pe,null)).c,Xe.b.c,Ot,!0)}return 1}m(Xe.b),m(wt.b),h(wt.b.e,Xe),Xe.a.b=er.b,Xe.a.a=er.a,Xe.a.h=Pt($e.e,Xe.a),wt=[0,0,0,0],er=[Ot.d,Ct.d,Xt.d,Bt.d],(Xe=Xe.a).g[0]=Xe.g[1]=Xe.g[2]=0,j(Xe,Ot,Ct,wt,0),j(Xe,Xt,Bt,wt,2),Me($e,Xe,er,wt,!0),Ht(We).b=We.b=Pe.b=!0}}function xe($e,We){for(var Pe=lr(We);;){for(;Pe.b;)Pe=lr(We=Pe);if(!(We.b||null!==(We=Ht(Pe=We))&&We.b))break;We.b=!1;var Xe=We.a,wt=Pe.a;if(Ot=Xe.b.a!==wt.b.a)e:{var Ot,Xt=lr(Ot=We),Ct=Ot.a,Bt=Xt.a,er=void 0;if(p(Ct.b.a,Bt.b.a)){if(E(Ct.b.a,Bt.b.a,Ct.a)<0){Ot=!1;break e}Ht(Ot).b=Ot.b=!0,er=m(Ct),h(Bt.b,er),er.d.c=Ot.d}else{if(0<E(Bt.b.a,Ct.b.a,Bt.a)){Ot=!1;break e}Ot.b=Xt.b=!0,er=m(Bt),h(Ct.e,Bt.b),er.b.d.c=Ot.d}Ot=!0}if(Ot&&(Pe.c?(Z(Pe),d(wt),wt=(Pe=lr(We)).a):We.c&&(Z(We),d(Xe),Xe=(We=Ht(Pe)).a)),Xe.a!==wt.a)if(Xe.b.a===wt.b.a||We.c||Pe.c||Xe.b.a!==$e.a&&wt.b.a!==$e.a)te($e,We);else if(me($e,We))break;Xe.a===wt.a&&Xe.b.a===wt.b.a&&(F(wt,Xe),Z(We),d(Xe),We=Ht(Pe))}}function Be($e,We){var Pe=new It,Xe=u($e.b);Xe.a.b=4e150,Xe.a.a=We,Xe.b.a.b=-4e150,Xe.b.a.a=We,$e.a=Xe.b.a,Pe.a=Xe,Pe.f=0,Pe.d=!1,Pe.c=!1,Pe.h=!0,Pe.b=!1,Xe=ct(Xe=$e.f,Xe.a,Pe),Pe.e=Xe}function qe($e){this.a=new ze,this.b=$e,this.c=R}function ct($e,We,Pe){for(;null!==(We=We.c).b&&!$e.c($e.b,We.b,Pe););return $e=new ze(Pe,We.a,We),We.a.c=$e,We.a=$e}function ze($e,We,Pe){this.b=$e||null,this.a=We||this,this.c=Pe||this}function st(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function lt($e,We){if($e.d!==We)for(;$e.d!==We;)if($e.d<We)switch($e.d){case 0:Fe($e,100151),$e.u(null);break;case 1:Fe($e,100152),$e.t()}else switch($e.d){case 2:Fe($e,100154),$e.v();break;case 1:Fe($e,100153),$e.w()}}function Fe($e,We){$e.p&&$e.p(We,$e.c)}function rt($e,We){this.b=$e||this,this.d=We||this,this.a=null,this.c=!1}function Ye(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ot(){this.c=new Je,this.a=new rt,this.b=new Ye,this.d=new Ye,this.b.b=this.d,this.d.b=this.b}function Je($e,We){this.e=$e||this,this.f=We||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ft(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new $t}function Pt($e,We){var Pe,Xe,wt;return $e.e?(2*(Xe=++(Pe=$e.b).a)>Pe.f&&(Pe.f*=2,Pe.c=cr(Pe.c,Pe.f+1)),0===Pe.b?wt=Xe:(wt=Pe.b,Pe.b=Pe.c[Pe.b]),Pe.e[wt]=We,Pe.c[wt]=Xe,Pe.d[Xe]=wt,Pe.h&&hr(Pe,Xe),wt):(Pe=$e.a++,$e.c[Pe]=We,-(Pe+1))}function Wt($e){if(0===$e.a)return mr($e.b);var We=$e.c[$e.d[$e.a-1]];if(0!==$e.b.a&&p(Vt($e.b),We))return mr($e.b);for(;--$e.a,0<$e.a&&null===$e.c[$e.d[$e.a-1]];);return We}function $t(){this.d=cr([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function cr($e,We){for(var Pe=Array(We),Xe=0;Xe<$e.length;Xe++)Pe[Xe]=$e[Xe];for(;Xe<We;Xe++)Pe[Xe]=0;return Pe}function Vt($e){return $e.e[$e.d[1]]}function mr($e){var We=$e.d,Pe=$e.e,Xe=$e.c,wt=We[1],Ot=Pe[wt];return 0<$e.a&&(We[1]=We[$e.a],Xe[We[1]]=1,Pe[wt]=null,Xe[wt]=$e.b,$e.b=wt,0<--$e.a&&Kt($e,1)),Ot}function Kt($e,We){for(var Pe=$e.d,Xe=$e.e,wt=$e.c,Ot=We,Xt=Pe[Ot];;){var Ct=Ot<<1,Bt=(Ct<$e.a&&p(Xe[Pe[Ct+1]],Xe[Pe[Ct]])&&(Ct+=1),Pe[Ct]);if(Ct>$e.a||p(Xe[Xt],Xe[Bt])){wt[Pe[Ot]=Xt]=Ot;break}wt[Pe[Ot]=Bt]=Ot,Ot=Ct}}function hr($e,We){for(var Pe=$e.d,Xe=$e.e,wt=$e.c,Ot=We,Xt=Pe[Ot];;){var Ct=Ot>>1,Bt=Pe[Ct];if(0==Ct||p(Xe[Bt],Xe[Xt])){wt[Pe[Ot]=Xt]=Ot;break}wt[Pe[Ot]=Bt]=Ot,Ot=Ct}}function It(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function lr($e){return $e.e.c.b}function Ht($e){return $e.e.a.b}(v=st.prototype).x=function(){lt(this,0)},v.B=function($e,We){switch($e){case 100142:return;case 100140:switch(We){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=We)}break;case 100141:return void(this.m=!!We);default:return void Fe(this,100900)}Fe(this,100901)},v.y=function($e){switch($e){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Fe(this,100900)}return!1},v.A=function($e,We,Pe){this.j[0]=$e,this.j[1]=We,this.j[2]=Pe},v.z=function($e,We){var Pe=We||null;switch($e){case 100100:case 100106:this.h=Pe;break;case 100104:case 100110:this.l=Pe;break;case 100101:case 100107:this.k=Pe;break;case 100102:case 100108:this.i=Pe;break;case 100103:case 100109:this.p=Pe;break;case 100105:case 100111:this.o=Pe;break;case 100112:this.r=Pe;break;default:Fe(this,100900)}},v.C=function($e,We){var Pe=!1,Xe=[0,0,0];lt(this,2);for(var wt=0;wt<3;++wt){var Ot=$e[wt];Ot<-1e150&&(Ot=-1e150,Pe=!0),1e150<Ot&&(Ot=1e150,Pe=!0),Xe[wt]=Ot}Pe&&Fe(this,100155),null===(Pe=this.q)?h(Pe=u(this.b),Pe.b):(m(Pe),Pe=Pe.e),Pe.a.d=We,Pe.a.g[0]=Xe[0],Pe.a.g[1]=Xe[1],Pe.a.g[2]=Xe[2],Pe.f=1,Pe.b.f=-1,this.q=Pe},v.u=function($e){lt(this,0),this.d=1,this.b=new ot,this.c=$e},v.t=function(){lt(this,1),this.d=2,this.q=null},v.v=function(){lt(this,2),this.d=1},v.w=function(){lt(this,1),this.d=0;var $e,We,Ot=!1,Xt=[Pe=this.j[0],Xe=this.j[1],wt=this.j[2]];if(0===Pe&&0===Xe&&0===wt){for(var Xe=[-2e150,-2e150,-2e150],Ct=[2e150,2e150,2e150],wt=[],Bt=[],Pe=(Ot=this.b.c).e;Pe!==Ot;Pe=Pe.e)for(var er=0;er<3;++er){var or=Pe.g[er];or<Ct[er]&&(Ct[er]=or,Bt[er]=Pe),or>Xe[er]&&(Xe[er]=or,wt[er]=Pe)}if(Xe[1]-Ct[1]>Xe[Pe=0]-Ct[0]&&(Pe=1),Ct[Pe=Xe[2]-Ct[2]>Xe[Pe]-Ct[Pe]?2:Pe]>=Xe[Pe])Xt[0]=0,Xt[1]=0,Xt[2]=1;else{for(Ct=Bt[Pe],Bt=[Xe=0,0,0],Ct=[Ct.g[0]-(wt=wt[Pe]).g[0],Ct.g[1]-wt.g[1],Ct.g[2]-wt.g[2]],er=[0,0,0],Pe=Ot.e;Pe!==Ot;Pe=Pe.e)er[0]=Pe.g[0]-wt.g[0],er[1]=Pe.g[1]-wt.g[1],er[2]=Pe.g[2]-wt.g[2],Bt[0]=Ct[1]*er[2]-Ct[2]*er[1],Bt[1]=Ct[2]*er[0]-Ct[0]*er[2],Bt[2]=Ct[0]*er[1]-Ct[1]*er[0],Xe<(or=Bt[0]*Bt[0]+Bt[1]*Bt[1]+Bt[2]*Bt[2])&&(Xe=or,Xt[0]=Bt[0],Xt[1]=Bt[1],Xt[2]=Bt[2]);Xe<=0&&(Xt[0]=Xt[1]=Xt[2]=0,Xt[I(Ct)]=1)}Ot=!0}for(Xe=((Bt=I(Xt))+1)%3,wt=(Bt+2)%3,Bt=0<Xt[Bt]?1:-1,Xt=(Pe=this.b.c).e;Xt!==Pe;Xt=Xt.e)Xt.b=Xt.g[Xe],Xt.a=Bt*Xt.g[wt];if(Ot){for(Xt=0,Pe=(Ot=this.b.a).b;Pe!==Ot;Pe=Pe.b)if(!((Xe=Pe.a).f<=0))for(;Xt+=(Xe.a.b-Xe.b.a.b)*(Xe.a.a+Xe.b.a.a),(Xe=Xe.e)!==Pe.a;);if(Xt<0)for(Ot=(Xt=this.b.c).e;Ot!==Xt;Ot=Ot.e)Ot.a=-Ot.a}for(this.n=!1,Pe=(Xt=this.b.b).h;Pe!==Xt;Pe=Ot)Ot=Pe.h,Xe=Pe.e,b(Pe.a,Pe.b.a)&&Pe.e.e!==Pe&&(Y(this,Xe,Pe),d(Pe),Xe=(Pe=Xe).e),Xe.e===Pe&&(Xe!==Pe&&(Xe!==Ot&&Xe!==Ot.b||(Ot=Ot.h),d(Xe)),Pe!==Ot&&Pe!==Ot.b||(Ot=Ot.h),d(Pe));for(this.e=Xt=new ft,Pe=(Ot=this.b.c).e;Pe!==Ot;Pe=Pe.e)Pe.h=Pt(Xt,Pe);var Rt=Xt;Rt.d=[];for(var mt=0;mt<Rt.a;mt++)Rt.d[mt]=mt;Rt.d.sort(function(Lt){return function(ur,ht){return p(Lt[ur],Lt[ht])?1:-1}}(Rt.c)),Rt.e=!0;for(var Ut=Rt.b,yt=Ut.a;1<=yt;--yt)Kt(Ut,yt);for(Ut.h=!0,this.f=new qe(this),Be(this,-4e150),Be(this,4e150);null!==(Xt=Wt(this.e));){for(;;){e:if(0===(Pe=this.e).a)Ot=Vt(Pe.b);else if(Ot=Pe.c[Pe.d[Pe.a-1]],0!==Pe.b.a&&p(Pe=Vt(Pe.b),Ot)){Ot=Pe;break e}if(null===Ot||!b(Ot,Xt))break;Ot=Wt(this.e),Y(this,Xt.c,Ot.c)}!function Lt(ur,ht){for(var Dt,tr=(ur.a=ht).c;null===tr.i;)if((tr=tr.c)===ht.c){tr=ur;var Jt=ht;(vr=new It).a=Jt.c.b;for(var Mr=(ir=tr.f).a;null!==(Mr=Mr.a).b&&!ir.c(ir.b,vr,Mr.b););var ir,br,Er=lr(ir=Mr.b),vr=ir.a;return Mr=Er.a,void(0===E(vr.b.a,Jt,vr.a)?b((vr=ir.a).a,Jt)||b(vr.b.a,Jt)||(m(vr.b),ir.c&&(d(vr.c),ir.c=!1),h(Jt.c,vr),Lt(tr,Jt)):(br=p(Mr.b.a,vr.b.a)?ir:Er,Er=void 0,ir.d||br.c?(Er=br===ir?f(Jt.c.b,vr.e):f(Mr.b.c.b,Jt.c).b,br.c?oe(br,Er):((ir=re(vr=tr,ir,Er)).f=Ht(ir).f+ir.a.f,ir.d=W(vr,ir.f)),Lt(tr,Jt)):ue(tr,ir,Jt.c,Jt.c,null,!0)))}ir=(vr=lr(tr=q(tr.i))).a,(vr=K(ur,vr,null)).c===ir?(vr=(ir=vr).c,Mr=lr(tr),Dt=!1,(Er=tr.a).b.a!==(br=Mr.a).b.a&&me(ur,tr),b(Er.a,ur.a)&&(h(vr.b.e,Er),vr=lr(tr=q(tr)).a,K(ur,lr(tr),Mr),Dt=!0),b(br.a,ur.a)&&(h(ir,br.b.e),ir=K(ur,Mr,null),Dt=!0),Dt?ue(ur,tr,ir.c,vr,vr,!0):(Jt=p(br.a,Er.a)?br.b.e:Er,ue(ur,tr,Jt=f(ir.c.b,Jt),Jt.c,Jt.c,!1),Jt.b.i.c=!0,xe(ur,tr))):ue(ur,tr,vr.c,ir,ir,!0)}(this,Xt)}for(this.a=this.f.a.a.b.a.a,Xt=0;null!==(Ot=this.f.a.a.b);)Ot.h||++Xt,Z(Ot);for(this.f=null,(Xt=this.e).b=null,Xt.d=null,this.e=Xt.c=null,Pe=(Xt=this.b).a.b;Pe!==Xt.a;Pe=Ot)Ot=Pe.b,(Pe=Pe.a).e.e===Pe&&(F(Pe.c,Pe),d(Pe));if(!this.n){if(Xt=this.b,this.m)for(Pe=Xt.b.h;Pe!==Xt.b;Pe=Ot)Ot=Pe.h,Pe.b.d.c!==Pe.d.c?Pe.f=Pe.d.c?1:-1:d(Pe);else for(Pe=Xt.a.b;Pe!==Xt.a;Pe=Ot)if(Ot=Pe.b,Pe.c){for(Pe=Pe.a;p(Pe.b.a,Pe.a);Pe=Pe.c.b);for(;p(Pe.a,Pe.b.a);Pe=Pe.e);for(Xe=Pe.c.b,wt=void 0;Pe.e!==Xe;)if(p(Pe.b.a,Xe.a)){for(;Xe.e!==Pe&&(p((We=Xe.e).b.a,We.a)||E(Xe.a,Xe.b.a,Xe.e.b.a)<=0);)Xe=(wt=f(Xe.e,Xe)).b;Xe=Xe.c.b}else{for(;Xe.e!==Pe&&(p(($e=Pe.c.b).a,$e.b.a)||0<=E(Pe.b.a,Pe.a,Pe.c.b.a));)Pe=(wt=f(Pe,Pe.c.b)).b;Pe=Pe.e}for(;Xe.e.e!==Pe;)Xe=(wt=f(Xe.e,Xe)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ot=(Xt=this.b).a.b;Ot!==Xt.a;Ot=Ot.b)if(Ot.c){for(this.h&&this.h(2,this.c),Pe=Ot.a;this.k&&this.k(Pe.a.d,this.c),(Pe=Pe.e)!==Ot.a;);this.i&&this.i(this.c)}}else{for(Ot=!!this.l,Pe=!1,Xe=-1,wt=(Xt=this.b).a.d;wt!==Xt.a;wt=wt.d)if(wt.c)for(Pe||(this.h&&this.h(4,this.c),Pe=!0),Bt=wt.a;Ot&&Xe!==(Ct=Bt.b.d.c?0:1)&&(Xe=Ct,this.l&&this.l(!!Xe,this.c)),this.k&&this.k(Bt.a.d,this.c),(Bt=Bt.e)!==wt.a;);Pe&&this.i&&this.i(this.c)}if(this.r){for(Pe=(Xt=this.b).a.b;Pe!==Xt.a;Pe=Ot)if(Ot=Pe.b,!Pe.c){for(wt=(Xe=Pe.a).e,Bt=void 0;wt=(Bt=wt).e,(Bt.d=null)===Bt.b.d&&(Bt.c===Bt?x(Bt.a,null):(Bt.a.c=Bt.c,D(Bt,Bt.b.e)),(Ct=Bt.b).c===Ct?x(Ct.a,null):(Ct.a.c=Ct.c,D(Ct,Ct.b.e)),P(Bt)),Bt!==Xe;);Xe=Pe.d,((Pe=Pe.b).d=Xe).b=Pe}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:st,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},st.prototype.gluDeleteTess=st.prototype.x,st.prototype.gluTessProperty=st.prototype.B,st.prototype.gluGetTessProperty=st.prototype.y,st.prototype.gluTessNormal=st.prototype.A,st.prototype.gluTessCallback=st.prototype.z,st.prototype.gluTessVertex=st.prototype.C,st.prototype.gluTessBeginPolygon=st.prototype.u,st.prototype.gluTessBeginContour=st.prototype.t,st.prototype.gluTessEndContour=st.prototype.v,st.prototype.gluTessEndPolygon=st.prototype.w,void 0!==se&&(se.exports=this.libtess)},{}],256:[function(o,se,V){"use strict";function b(p,y,E,_){for(var i=p[y++],l=1<<i,a=1+l,u=1+a,h=i+1,d=(1<<h)-1,m=0,f=0,g=0,D=p[y++],$=new Int32Array(4096),L=null;;){for(;m<16&&0!==D;)f|=p[y++]<<m,m+=8,1===D?D=p[y++]:--D;if(m<h)break;var P=f&d;if(f>>=h,m-=h,P==l)u=1+a,d=(1<<(h=i+1))-1,L=null;else{if(P==a)break;for(var x=P<u?P:L,U=0,I=x;l<I;)I=$[I]>>8,++U;var F=I;if(_<g+U+(x!==P?1:0))return void console.log("Warning, gif stream longer than expected.");E[g++]=F;var R=g+=U;for(x!==P&&(E[g++]=F),I=x;U--;)E[--R]=255&(I=$[I]),I>>=8;null!==L&&u<4096&&($[u++]=L<<8|F,d+1<=u&&h<12&&(++h,d=d<<1|1)),L=P}}g!==_&&console.log("Warning, gif stream shorter than expected.")}try{V.GifWriter=function v(p,y,E,_){var i=0,l=void 0===(_=void 0===_?{}:_).loop?null:_.loop,a=void 0===_.palette?null:_.palette;if(y<=0||E<=0||65535<y||65535<E)throw new Error("Width/Height invalid.");function u(L){if((L=L.length)<2||256<L||L&L-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return L}p[i++]=71,p[i++]=73,p[i++]=70,p[i++]=56,p[i++]=57,p[i++]=97;var h=0,d=0;if(null!==a){for(var m=u(a);m>>=1;)++h;if(m=1<<h,--h,void 0!==_.background){if(m<=(d=_.background))throw new Error("Background index out of range.");if(0===d)throw new Error("Background index explicitly passed as 0.")}}if(p[i++]=255&y,p[i++]=y>>8&255,p[i++]=255&E,p[i++]=E>>8&255,p[i++]=(null!==a?128:0)|h,p[i++]=d,p[i++]=0,null!==a)for(var f=0,g=a.length;f<g;++f){var D=a[f];p[i++]=D>>16&255,p[i++]=D>>8&255,p[i++]=255&D}if(null!==l){if(l<0||65535<l)throw new Error("Loop count invalid.");p[i++]=33,p[i++]=255,p[i++]=11,p[i++]=78,p[i++]=69,p[i++]=84,p[i++]=83,p[i++]=67,p[i++]=65,p[i++]=80,p[i++]=69,p[i++]=50,p[i++]=46,p[i++]=48,p[i++]=3,p[i++]=1,p[i++]=255&l,p[i++]=l>>8&255,p[i++]=0}var $=!1;this.addFrame=function(L,P,x,U,I,F){if(!0===$&&(--i,$=!1),F=void 0===F?{}:F,L<0||P<0||65535<L||65535<P)throw new Error("x/y invalid.");if(x<=0||U<=0||65535<x||65535<U)throw new Error("Width/Height invalid.");if(I.length<x*U)throw new Error("Not enough pixels for the frame size.");var R=!0,Z=F.palette;if(null==Z&&(R=!1,Z=a),null==Z)throw new Error("Must supply either a local or global palette.");for(var q=u(Z),oe=0;q>>=1;)++oe;q=1<<oe;var re=void 0===F.delay?0:F.delay,W=void 0===F.disposal?0:F.disposal;if(W<0||3<W)throw new Error("Disposal out of range.");var G=!1,K=0;if(null!=F.transparent&&(G=!0,(K=F.transparent)<0||q<=K))throw new Error("Transparent color index.");if(0===W&&!G&&0===re||(p[i++]=33,p[i++]=249,p[i++]=4,p[i++]=W<<2|(!0===G?1:0),p[i++]=255&re,p[i++]=re>>8&255,p[i++]=K,p[i++]=0),p[i++]=44,p[i++]=255&L,p[i++]=L>>8&255,p[i++]=255&P,p[i++]=P>>8&255,p[i++]=255&x,p[i++]=x>>8&255,p[i++]=255&U,p[i++]=U>>8&255,p[i++]=!0===R?128|oe-1:0,!0===R)for(var ue=0,Me=Z.length;ue<Me;++ue){var Y=Z[ue];p[i++]=Y>>16&255,p[i++]=Y>>8&255,p[i++]=255&Y}return i=function(j,te,me,xe){j[te++]=me;var Be=te++,qe=1<<me,ct=qe-1,ze=1+qe,st=1+ze,lt=me+1,Fe=0,rt=0;function Ye(mr){for(;mr<=Fe;)j[te++]=255&rt,rt>>=8,Fe-=8,te===Be+256&&(j[Be]=255,Be=te++)}function ot(mr){rt|=mr<<Fe,Fe+=lt,Ye(8)}var Je=xe[0]&ct,ft={};ot(qe);for(var Pt=1,Wt=xe.length;Pt<Wt;++Pt){var $t=xe[Pt]&ct,cr=Je<<8|$t,Vt=ft[cr];if(void 0===Vt){for(rt|=Je<<Fe,Fe+=lt;8<=Fe;)j[te++]=255&rt,rt>>=8,Fe-=8,te===Be+256&&(j[Be]=255,Be=te++);4096===st?(ot(qe),st=1+ze,lt=me+1,ft={}):(1<<lt<=st&&++lt,ft[cr]=st++),Je=$t}else Je=Vt}return ot(Je),ot(ze),Ye(1),Be+1===te?j[Be]=0:(j[Be]=te-Be-1,j[te++]=0),te}(p,i,oe<2?2:oe,I)},this.end=function(){return!1===$&&(p[i++]=59,$=!0),i},this.getOutputBuffer=function(){return p},this.setOutputBuffer=function(L){p=L},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(L){i=L}},V.GifReader=function(p){var y=0;if(71!==p[y++]||73!==p[y++]||70!==p[y++]||56!==p[y++]||56!=(p[y++]+1&253)||97!==p[y++])throw new Error("Invalid GIF 87a/89a header.");var E=p[y++]|p[y++]<<8,_=p[y++]|p[y++]<<8,i=p[y++],a=(y++,y++,null),u=null,h=(i>>7&&(a=y,y+=3*(u=1<<1+(7&i))),!0),d=[],m=0,f=null,g=0,D=null;for(this.width=E,this.height=_;h&&y<p.length;)switch(p[y++]){case 33:switch(p[y++]){case 255:if(11!==p[y]||78==p[y+1]&&69==p[y+2]&&84==p[y+3]&&83==p[y+4]&&67==p[y+5]&&65==p[y+6]&&80==p[y+7]&&69==p[y+8]&&50==p[y+9]&&46==p[y+10]&&48==p[y+11]&&3==p[y+12]&&1==p[y+13]&&0==p[y+16])y+=14,D=p[y++]|p[y++]<<8,y++;else for(y+=12;;){if(!(0<=(L=p[y++])))throw Error("Invalid block size");if(0===L)break;y+=L}break;case 249:if(4!==p[y++]||0!==p[y+4])throw new Error("Invalid graphics extension block.");var $=p[y++];m=p[y++]|p[y++]<<8,f=p[y++],!(1&$)&&(f=null),g=$>>2&7,y++;break;case 254:for(;;){if(!(0<=(L=p[y++])))throw Error("Invalid block size");if(0===L)break;y+=L}break;default:throw new Error("Unknown graphic control label: 0x"+p[y-1].toString(16))}break;case 44:var L,P=p[y++]|p[y++]<<8,x=p[y++]|p[y++]<<8,U=p[y++]|p[y++]<<8,I=p[y++]|p[y++]<<8,F=(re=p[y++])>>6&1,Z=a,oe=u,q=!1,re=(re>>7&&(q=!0,Z=y,y+=3*(oe=1<<1+(7&re))),y);for(y++;;){if(!(0<=(L=p[y++])))throw Error("Invalid block size");if(0===L)break;y+=L}d.push({x:P,y:x,width:U,height:I,has_local_palette:q,palette_offset:Z,palette_size:oe,data_offset:re,data_length:y-re,transparent_index:f,interlaced:!!F,delay:m,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+p[y-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return D},this.frameInfo=function(W){if(W<0||W>=d.length)throw new Error("Frame index out of range.");return d[W]},this.decodeAndBlitFrameBGRA=function(W,G){for(var K=(W=this.frameInfo(W)).width*W.height,ue=new Uint8Array(K),Me=(b(p,W.data_offset,ue,K),W.palette_offset),Y=W.transparent_index,j=(null===Y&&(Y=256),W.width),te=E-j,me=j,xe=4*(W.y*E+W.x),Be=4*((W.y+W.height)*E+W.x),qe=xe,ct=4*te,ze=(!0===W.interlaced&&(ct+=4*E*7),8),st=0,lt=ue.length;st<lt;++st){var Fe,rt,Ye=ue[st];0===me&&(me=j,Be<=(qe+=ct)&&(ct=4*te+4*E*(ze-1),qe=xe+(j+te)*(ze<<1),ze>>=1)),Ye===Y?qe+=4:(Fe=p[Me+3*Ye],rt=p[Me+3*Ye+1],G[qe++]=Ye=p[Me+3*Ye+2],G[qe++]=rt,G[qe++]=Fe,G[qe++]=255),--me}},this.decodeAndBlitFrameRGBA=function(W,G){for(var K=(W=this.frameInfo(W)).width*W.height,ue=new Uint8Array(K),Me=(b(p,W.data_offset,ue,K),W.palette_offset),Y=W.transparent_index,j=(null===Y&&(Y=256),W.width),te=E-j,me=j,xe=4*(W.y*E+W.x),Be=4*((W.y+W.height)*E+W.x),qe=xe,ct=4*te,ze=(!0===W.interlaced&&(ct+=4*E*7),8),st=0,lt=ue.length;st<lt;++st){var Fe,rt,Ye=ue[st];0===me&&(me=j,Be<=(qe+=ct)&&(ct=4*te+4*E*(ze-1),qe=xe+(j+te)*(ze<<1),ze>>=1)),Ye===Y?qe+=4:(Fe=p[Me+3*Ye],rt=p[Me+3*Ye+1],Ye=p[Me+3*Ye+2],G[qe++]=Fe,G[qe++]=rt,G[qe++]=Ye,G[qe++]=255),--me}}}}catch{}},{}],257:[function(o,se,V){(function(v){var p;p=function(y){"use strict";function E(fe){if(null==this)throw TypeError();var N,X=String(this),ee=X.length;if(!((fe=(fe=fe?Number(fe):0)!=fe?0:fe)<0||ee<=fe))return 55296<=(N=X.charCodeAt(fe))&&N<=56319&&fe+1<ee&&56320<=(ee=X.charCodeAt(fe+1))&&ee<=57343?1024*(N-55296)+ee-56320+65536:N}String.prototype.codePointAt||((_=function(){try{var w={},N=Object.defineProperty,X=N(w,w,w)&&N}catch{}return X}())?_(String.prototype,"codePointAt",{value:E,configurable:!0,writable:!0}):String.prototype.codePointAt=E);var _;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function u(w,N){this.source=w,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=N,this.destLen=0,this.ltree=new a,this.dtree=new a}var h=new a,d=new a,m=new Uint8Array(30),f=new Uint16Array(30),g=new Uint8Array(30),D=new Uint16Array(30),$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L=new a,P=new Uint8Array(320);function x(w,N,X,ee){for(var fe,De=0;De<X;++De)w[De]=0;for(De=0;De<30-X;++De)w[De+X]=De/X|0;for(fe=ee,De=0;De<30;++De)N[De]=fe,fe+=1<<w[De]}var U=new Uint16Array(16);function I(w,N,X,ee){for(var fe,De=0;De<16;++De)w.table[De]=0;for(De=0;De<ee;++De)w.table[N[X+De]]++;for(De=fe=w.table[0]=0;De<16;++De)U[De]=fe,fe+=w.table[De];for(De=0;De<ee;++De)N[X+De]&&(w.trans[U[N[X+De]]++]=De)}function F(w,N,X){if(!N)return X;for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;var ee=w.tag&65535>>>16-N;return w.tag>>>=N,w.bitcount-=N,ee+X}function R(w,N){for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;for(var X=0,ee=0,fe=0,De=w.tag;ee=2*ee+(1&De),De>>>=1,X+=N.table[++fe],0<=(ee-=N.table[fe]););return w.tag=De,w.bitcount-=fe,N.trans[X+ee]}function Z(w,N,X){for(;;){if(256===(ee=R(w,N)))return 0;if(ee<256)w.dest[w.destLen++]=ee;else for(var fe,De=F(w,m[ee-=257],f[ee]),ee=R(w,X),Re=fe=w.destLen-F(w,g[ee],D[ee]);Re<fe+De;++Re)w.dest[w.destLen++]=w.dest[Re]}}for(var oe=h,q=d,re=0;re<7;++re)oe.table[re]=0;for(oe.table[7]=24,oe.table[8]=152,oe.table[9]=112,re=0;re<24;++re)oe.trans[re]=256+re;for(re=0;re<144;++re)oe.trans[24+re]=re;for(re=0;re<8;++re)oe.trans[168+re]=280+re;for(re=0;re<112;++re)oe.trans[176+re]=144+re;for(re=0;re<5;++re)q.table[re]=0;for(q.table[5]=32,re=0;re<32;++re)q.trans[re]=re;x(m,f,4,3),x(g,D,2,1),m[28]=0,f[28]=258;var W=function(w,N){var X,ee,fe,De=new u(w,N);do{switch(void 0,(ee=De).bitcount--||(ee.tag=ee.source[ee.sourceIndex++],ee.bitcount=7),fe=1&ee.tag,ee.tag>>>=1,ee=fe,F(De,2,0)){case 0:X=function(nr){for(var Br,Lr;8<nr.bitcount;)nr.sourceIndex--,nr.bitcount-=8;if((Br=256*nr.source[nr.sourceIndex+1]+nr.source[nr.sourceIndex])!==(65535&~(256*nr.source[nr.sourceIndex+3]+nr.source[nr.sourceIndex+2])))return-3;for(nr.sourceIndex+=4,Lr=Br;Lr;--Lr)nr.dest[nr.destLen++]=nr.source[nr.sourceIndex++];return nr.bitcount=0,0}(De);break;case 1:X=Z(De,h,d);break;case 2:Nt=Ue=ge=Gt=Re=be=void 0;for(var Re,Ze=De,bt=De.ltree,gt=De.dtree,zt=F(Ze,5,257),ve=F(Ze,5,1),ae=F(Ze,4,4),be=0;be<19;++be)P[be]=0;for(be=0;be<ae;++be){var ge=F(Ze,3,0);P[$[be]]=ge}for(I(L,P,0,19),Re=0;Re<zt+ve;){var Ue=R(Ze,L);switch(Ue){case 16:for(var Nt=P[Re-1],Gt=F(Ze,2,3);Gt;--Gt)P[Re++]=Nt;break;case 17:for(Gt=F(Ze,3,3);Gt;--Gt)P[Re++]=0;break;case 18:for(Gt=F(Ze,7,11);Gt;--Gt)P[Re++]=0;break;default:P[Re++]=Ue}}I(bt,P,0,zt),I(gt,P,zt,ve),X=Z(De,De.ltree,De.dtree);break;default:X=-3}if(0!==X)throw new Error("Data error")}while(!ee);return De.destLen<De.dest.length?"function"==typeof De.dest.slice?De.dest.slice(0,De.destLen):De.dest.subarray(0,De.destLen):De.dest};function G(w,N,X,ee,fe){return Math.pow(1-fe,3)*w+3*Math.pow(1-fe,2)*fe*N+3*(1-fe)*Math.pow(fe,2)*X+Math.pow(fe,3)*ee}function K(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ue(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Me(w){throw new Error(w)}function Y(w,N){w||Me(N)}K.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},K.prototype.addPoint=function(w,N){"number"==typeof w&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=w,this.x2=w),w<this.x1&&(this.x1=w),w>this.x2&&(this.x2=w)),"number"==typeof N&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=N,this.y2=N),N<this.y1&&(this.y1=N),N>this.y2&&(this.y2=N))},K.prototype.addX=function(w){this.addPoint(w,null)},K.prototype.addY=function(w){this.addPoint(null,w)},K.prototype.addBezier=function(w,N,X,ee,fe,De,Re,Ze){var bt=[w,N],gt=[X,ee],zt=[fe,De],ve=[Re,Ze];this.addPoint(w,N),this.addPoint(Re,Ze);for(var ae=0;ae<=1;ae++){var be,ge=6*bt[ae]-12*gt[ae]+6*zt[ae],Ue=-3*bt[ae]+9*gt[ae]-9*zt[ae]+3*ve[ae],Nt=3*gt[ae]-3*bt[ae];0==Ue?0==ge||0<(be=-Nt/ge)&&be<1&&(0===ae&&this.addX(G(bt[ae],gt[ae],zt[ae],ve[ae],be)),1===ae&&this.addY(G(bt[ae],gt[ae],zt[ae],ve[ae],be))):(be=Math.pow(ge,2)-4*Nt*Ue)<0||(0<(Nt=(-ge+Math.sqrt(be))/(2*Ue))&&Nt<1&&(0===ae&&this.addX(G(bt[ae],gt[ae],zt[ae],ve[ae],Nt)),1===ae&&this.addY(G(bt[ae],gt[ae],zt[ae],ve[ae],Nt))),0<(Nt=(-ge-Math.sqrt(be))/(2*Ue))&&Nt<1&&(0===ae&&this.addX(G(bt[ae],gt[ae],zt[ae],ve[ae],Nt)),1===ae&&this.addY(G(bt[ae],gt[ae],zt[ae],ve[ae],Nt))))}},K.prototype.addQuad=function(w,N,X,ee,fe,De){this.addBezier(w,N,X=w+2/3*(X-w),ee=N+2/3*(ee-N),X+1/3*(fe-w),ee+1/3*(De-N),fe,De)},ue.prototype.moveTo=function(w,N){this.commands.push({type:"M",x:w,y:N})},ue.prototype.lineTo=function(w,N){this.commands.push({type:"L",x:w,y:N})},ue.prototype.curveTo=ue.prototype.bezierCurveTo=function(w,N,X,ee,fe,De){this.commands.push({type:"C",x1:w,y1:N,x2:X,y2:ee,x:fe,y:De})},ue.prototype.quadTo=ue.prototype.quadraticCurveTo=function(w,N,X,ee){this.commands.push({type:"Q",x1:w,y1:N,x:X,y:ee})},ue.prototype.close=ue.prototype.closePath=function(){this.commands.push({type:"Z"})},ue.prototype.extend=function(w){var N;if(w.commands)w=w.commands;else if(w instanceof K)return this.moveTo((N=w).x1,N.y1),this.lineTo(N.x2,N.y1),this.lineTo(N.x2,N.y2),this.lineTo(N.x1,N.y2),void this.close();Array.prototype.push.apply(this.commands,w)},ue.prototype.getBoundingBox=function(){for(var w=new K,N=0,X=0,ee=0,fe=0,De=0;De<this.commands.length;De++){var Re=this.commands[De];switch(Re.type){case"M":w.addPoint(Re.x,Re.y),N=ee=Re.x,X=fe=Re.y;break;case"L":w.addPoint(Re.x,Re.y),ee=Re.x,fe=Re.y;break;case"Q":w.addQuad(ee,fe,Re.x1,Re.y1,Re.x,Re.y),ee=Re.x,fe=Re.y;break;case"C":w.addBezier(ee,fe,Re.x1,Re.y1,Re.x2,Re.y2,Re.x,Re.y),ee=Re.x,fe=Re.y;break;case"Z":ee=N,fe=X;break;default:throw new Error("Unexpected path command "+Re.type)}}return w.isEmpty()&&w.addPoint(0,0),w},ue.prototype.draw=function(w){w.beginPath();for(var N=0;N<this.commands.length;N+=1){var X=this.commands[N];"M"===X.type?w.moveTo(X.x,X.y):"L"===X.type?w.lineTo(X.x,X.y):"C"===X.type?w.bezierCurveTo(X.x1,X.y1,X.x2,X.y2,X.x,X.y):"Q"===X.type?w.quadraticCurveTo(X.x1,X.y1,X.x,X.y):"Z"===X.type&&w.closePath()}this.fill&&(w.fillStyle=this.fill,w.fill()),this.stroke&&(w.strokeStyle=this.stroke,w.lineWidth=this.strokeWidth,w.stroke())},ue.prototype.toPathData=function(w){function N(){for(var De=arguments,Re="",Ze=0;Ze<arguments.length;Ze+=1){var bt=De[Ze];0<=bt&&0<Ze&&(Re+=" "),Re+=Math.round(bt)===bt?""+Math.round(bt):bt.toFixed(w)}return Re}w=void 0!==w?w:2;for(var X="",ee=0;ee<this.commands.length;ee+=1){var fe=this.commands[ee];"M"===fe.type?X+="M"+N(fe.x,fe.y):"L"===fe.type?X+="L"+N(fe.x,fe.y):"C"===fe.type?X+="C"+N(fe.x1,fe.y1,fe.x2,fe.y2,fe.x,fe.y):"Q"===fe.type?X+="Q"+N(fe.x1,fe.y1,fe.x,fe.y):"Z"===fe.type&&(X+="Z")}return X},ue.prototype.toSVG=function(w){var N=(N='<path d="')+this.toPathData(w)+'"';return this.fill&&"black"!==this.fill&&(N+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(N+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),N+"/>"},ue.prototype.toDOMElement=function(N){N=this.toPathData(N);var X=document.createElementNS("http://www.w3.org/2000/svg","path");return X.setAttribute("d",N),X};var j={fail:Me,argument:Y,assert:Y},te={},me={},xe={};function Be(w){return function(){return w}}me.BYTE=function(w){return j.argument(0<=w&&w<=255,"Byte value should be between 0 and 255."),[w]},xe.BYTE=Be(1),me.CHAR=function(w){return[w.charCodeAt(0)]},xe.CHAR=Be(1),me.CHARARRAY=function(w){for(var N=[],X=0;X<w.length;X+=1)N[X]=w.charCodeAt(X);return N},xe.CHARARRAY=function(w){return w.length},me.USHORT=function(w){return[w>>8&255,255&w]},xe.USHORT=Be(2),me.SHORT=function(w){return[(w=32768<=w?-(65536-w):w)>>8&255,255&w]},xe.SHORT=Be(2),me.UINT24=function(w){return[w>>16&255,w>>8&255,255&w]},xe.UINT24=Be(3),me.ULONG=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},xe.ULONG=Be(4),me.LONG=function(w){return[(w=2147483648<=w?-(4294967296-w):w)>>24&255,w>>16&255,w>>8&255,255&w]},xe.LONG=Be(4),me.FIXED=me.ULONG,xe.FIXED=xe.ULONG,me.FWORD=me.SHORT,xe.FWORD=xe.SHORT,me.UFWORD=me.USHORT,xe.UFWORD=xe.USHORT,me.LONGDATETIME=function(w){return[0,0,0,0,w>>24&255,w>>16&255,w>>8&255,255&w]},xe.LONGDATETIME=Be(8),me.TAG=function(w){return j.argument(4===w.length,"Tag should be exactly 4 ASCII characters."),[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]},xe.TAG=Be(4),me.Card8=me.BYTE,xe.Card8=xe.BYTE,me.Card16=me.USHORT,xe.Card16=xe.USHORT,me.OffSize=me.BYTE,xe.OffSize=xe.BYTE,me.SID=me.USHORT,xe.SID=xe.USHORT,me.NUMBER=function(w){return-107<=w&&w<=107?[w+139]:108<=w&&w<=1131?[247+((w-=108)>>8),255&w]:-1131<=w&&w<=-108?[251+((w=-w-108)>>8),255&w]:-32768<=w&&w<=32767?me.NUMBER16(w):me.NUMBER32(w)},xe.NUMBER=function(w){return me.NUMBER(w).length},me.NUMBER16=function(w){return[28,w>>8&255,255&w]},xe.NUMBER16=Be(3),me.NUMBER32=function(w){return[29,w>>24&255,w>>16&255,w>>8&255,255&w]},xe.NUMBER32=Be(5),me.REAL=function(w){for(var N=w.toString(),X=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(N),ee=(X&&(X=parseFloat("1e"+((X[2]?+X[2]:0)+X[1].length)),N=(Math.round(w*X)/X).toString()),""),fe=0,De=N.length;fe<De;fe+=1){var Re=N[fe];ee+="e"===Re?"-"===N[++fe]?"c":"b":"."===Re?"a":"-"===Re?"e":Re}for(var Ze=[30],bt=0,gt=(ee+=1&ee.length?"f":"ff").length;bt<gt;bt+=2)Ze.push(parseInt(ee.substr(bt,2),16));return Ze},xe.REAL=function(w){return me.REAL(w).length},me.NAME=me.CHARARRAY,xe.NAME=xe.CHARARRAY,me.STRING=me.CHARARRAY,xe.STRING=xe.CHARARRAY,te.UTF8=function(w,N,X){for(var ee=[],fe=X,De=0;De<fe;De++,N+=1)ee[De]=w.getUint8(N);return String.fromCharCode.apply(null,ee)},te.UTF16=function(w,N,X){for(var ee=[],fe=X/2,De=0;De<fe;De++,N+=2)ee[De]=w.getUint16(N);return String.fromCharCode.apply(null,ee)},me.UTF16=function(w){for(var N=[],X=0;X<w.length;X+=1){var ee=w.charCodeAt(X);N[N.length]=ee>>8&255,N[N.length]=255&ee}return N},xe.UTF16=function(w){return 2*w.length};var qe,ct={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},ze=(te.MACSTRING=function(w,N,X,ee){var fe=ct[ee];if(void 0!==fe){for(var De="",Re=0;Re<X;Re++){var Ze=w.getUint8(N+Re);De+=Ze<=127?String.fromCharCode(Ze):fe[127&Ze]}return De}},"function"==typeof WeakMap&&new WeakMap);function st(w){return-128<=w&&w<=127}me.MACSTRING=function(w,N){var X=function(Re){if(!qe)for(var Ze in qe={},ct)qe[Ze]=new String(Ze);var bt=qe[Re];if(void 0!==bt){if(ze){var gt=ze.get(bt);if(void 0!==gt)return gt}var zt=ct[Re];if(void 0!==zt){for(var ve={},ae=0;ae<zt.length;ae++)ve[zt.charCodeAt(ae)]=ae+128;return ze&&ze.set(bt,ve),ve}}}(N);if(void 0!==X){for(var ee=[],fe=0;fe<w.length;fe++){var De=w.charCodeAt(fe);if(128<=De&&void 0===(De=X[De]))return;ee[fe]=De}return ee}},xe.MACSTRING=function(w,N){return void 0!==(w=me.MACSTRING(w,N))?w.length:0},me.VARDELTAS=function(w){for(var ee=0,N=[];ee<w.length;){var X=w[ee];ee=(0===X?function(fe,De,Re){for(var Ze=0,bt=fe.length;De<bt&&Ze<64&&0===fe[De];)++De,++Ze;return Re.push(128|Ze-1),De}:-128<=X&&X<=127?function(fe,De,Re){for(var Ze=0,bt=fe.length,gt=De;gt<bt&&Ze<64;){var zt=fe[gt];if(!st(zt)||0===zt&&gt+1<bt&&0===fe[gt+1])break;++gt,++Ze}Re.push(Ze-1);for(var ve=De;ve<gt;++ve)Re.push(fe[ve]+256&255);return gt}:function(fe,De,Re){for(var Ze=0,bt=fe.length,gt=De;gt<bt&&Ze<64;){var zt=fe[gt];if(0===zt||st(zt)&&gt+1<bt&&st(fe[gt+1]))break;++gt,++Ze}Re.push(64|Ze-1);for(var ve=De;ve<gt;++ve){var ae=fe[ve];Re.push(ae+65536>>8&255,ae+256&255)}return gt})(w,ee,N)}return N},me.INDEX=function(w){for(var N=1,X=[N],ee=[],fe=0;fe<w.length;fe+=1){var De=me.OBJECT(w[fe]);Array.prototype.push.apply(ee,De),X.push(N+=De.length)}if(0===ee.length)return[0,0];for(var Re=[],Ze=1+Math.floor(Math.log(N)/Math.log(2))/8|0,bt=[void 0,me.BYTE,me.USHORT,me.UINT24,me.ULONG][Ze],gt=0;gt<X.length;gt+=1){var zt=bt(X[gt]);Array.prototype.push.apply(Re,zt)}return Array.prototype.concat(me.Card16(w.length),me.OffSize(Ze),Re,ee)},xe.INDEX=function(w){return me.INDEX(w).length},me.DICT=function(w){for(var N=[],X=Object.keys(w),ee=X.length,fe=0;fe<ee;fe+=1){var De=parseInt(X[fe],0),Re=w[De];N=(N=N.concat(me.OPERAND(Re.value,Re.type))).concat(me.OPERATOR(De))}return N},xe.DICT=function(w){return me.DICT(w).length},me.OPERATOR=function(w){return w<1200?[w]:[12,w-1200]},me.OPERAND=function(w,N){var X=[];if(Array.isArray(N))for(var ee=0;ee<N.length;ee+=1)j.argument(w.length===N.length,"Not enough arguments given for type"+N),X=X.concat(me.OPERAND(w[ee],N[ee]));else if("SID"===N)X=X.concat(me.NUMBER(w));else if("offset"===N)X=X.concat(me.NUMBER32(w));else if("number"===N)X=X.concat(me.NUMBER(w));else{if("real"!==N)throw new Error("Unknown operand type "+N);X=X.concat(me.REAL(w))}return X},me.OP=me.BYTE,xe.OP=xe.BYTE;var lt="function"==typeof WeakMap&&new WeakMap;function Fe(w,N,X){for(var ee=0;ee<N.length;ee+=1){var fe=N[ee];this[fe.name]=fe.value}if(this.tableName=w,this.fields=N,X)for(var De=Object.keys(X),Re=0;Re<De.length;Re+=1){var Ze=De[Re];void 0!==this[Ze]&&(this[Ze]=X[Ze])}}function rt(w,N,X){void 0===X&&(X=N.length);var ee=new Array(N.length+1);ee[0]={name:w+"Count",type:"USHORT",value:X};for(var fe=0;fe<N.length;fe++)ee[fe+1]={name:w+fe,type:"USHORT",value:N[fe]};return ee}function Ye(w,N,X){var ee=N.length,fe=new Array(ee+1);fe[0]={name:w+"Count",type:"USHORT",value:ee};for(var De=0;De<ee;De++)fe[De+1]={name:w+De,type:"TABLE",value:X(N[De],De)};return fe}function ot(w,N,X){var ee=N.length,fe=[];fe[0]={name:w+"Count",type:"USHORT",value:ee};for(var De=0;De<ee;De++)fe=fe.concat(X(N[De],De));return fe}function Je(w){1===w.format?Fe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(rt("glyph",w.glyphs))):j.assert(!1,"Can't create coverage table format 2 yet.")}function ft(w){Fe.call(this,"scriptListTable",ot("scriptRecord",w,function(N,X){var ee=N.script,fe=ee.defaultLangSys;return j.assert(!!fe,"Unable to write GSUB: script "+N.tag+" has no default language system."),[{name:"scriptTag"+X,type:"TAG",value:N.tag},{name:"script"+X,type:"TABLE",value:new Fe("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Fe("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:fe.reqFeatureIndex}].concat(rt("featureIndex",fe.featureIndexes)))}].concat(ot("langSys",ee.langSysRecords,function(De,Re){var Ze=De.langSys;return[{name:"langSysTag"+Re,type:"TAG",value:De.tag},{name:"langSys"+Re,type:"TABLE",value:new Fe("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Ze.reqFeatureIndex}].concat(rt("featureIndex",Ze.featureIndexes)))}]})))}]}))}function Pt(w){Fe.call(this,"featureListTable",ot("featureRecord",w,function(N,X){var ee=N.feature;return[{name:"featureTag"+X,type:"TAG",value:N.tag},{name:"feature"+X,type:"TABLE",value:new Fe("featureTable",[{name:"featureParams",type:"USHORT",value:ee.featureParams}].concat(rt("lookupListIndex",ee.lookupListIndexes)))}]}))}function Wt(w,N){Fe.call(this,"lookupListTable",Ye("lookup",w,function(X){var ee=N[X.lookupType];return j.assert(!!ee,"Unable to write GSUB lookup type "+X.lookupType+" tables."),new Fe("lookupTable",[{name:"lookupType",type:"USHORT",value:X.lookupType},{name:"lookupFlag",type:"USHORT",value:X.lookupFlag}].concat(Ye("subtable",X.subtables,ee)))}))}me.CHARSTRING=function(w){if(lt){var N=lt.get(w);if(void 0!==N)return N}for(var De=[],X=w.length,ee=0;ee<X;ee+=1){var fe=w[ee];De=De.concat(me[fe.type](fe.value))}return lt&&lt.set(w,De),De},xe.CHARSTRING=function(w){return me.CHARSTRING(w).length},me.OBJECT=function(w){var N=me[w.type];return j.argument(void 0!==N,"No encoding function for type "+w.type),N(w.value)},xe.OBJECT=function(w){var N=xe[w.type];return j.argument(void 0!==N,"No sizeOf function for type "+w.type),N(w.value)},me.TABLE=function(w){for(var N=[],X=w.fields.length,ee=[],fe=[],De=0;De<X;De+=1){var Re=w.fields[De],Ze=(j.argument(void 0!==(bt=me[Re.type]),"No encoding function for field type "+Re.type+" ("+Re.name+")"),w[Re.name]),bt=bt(Ze=void 0===Ze?Re.value:Ze);"TABLE"===Re.type?(fe.push(N.length),N=N.concat([0,0]),ee.push(bt)):N=N.concat(bt)}for(var gt=0;gt<ee.length;gt+=1){var zt=fe[gt],ve=N.length;j.argument(ve<65536,"Table "+w.tableName+" too big."),N[zt]=ve>>8,N[zt+1]=255&ve,N=N.concat(ee[gt])}return N},xe.TABLE=function(w){for(var N=0,X=w.fields.length,ee=0;ee<X;ee+=1){var fe=w.fields[ee],De=xe[fe.type],Re=(j.argument(void 0!==De,"No sizeOf function for field type "+fe.type+" ("+fe.name+")"),w[fe.name]);N+=De(Re=void 0===Re?fe.value:Re),"TABLE"===fe.type&&(N+=2)}return N},me.RECORD=me.TABLE,xe.RECORD=xe.TABLE,me.LITERAL=function(w){return w},xe.LITERAL=function(w){return w.length},Fe.prototype.encode=function(){return me.TABLE(this)},Fe.prototype.sizeOf=function(){return xe.TABLE(this)};var $t={Table:Fe,Record:Fe,Coverage:(Je.prototype=Object.create(Fe.prototype)).constructor=Je,ScriptList:(ft.prototype=Object.create(Fe.prototype)).constructor=ft,FeatureList:(Pt.prototype=Object.create(Fe.prototype)).constructor=Pt,LookupList:(Wt.prototype=Object.create(Fe.prototype)).constructor=Wt,ushortList:rt,tableList:Ye,recordList:ot};function cr(w,N){return w.getUint8(N)}function Vt(w,N){return w.getUint16(N,!1)}function mr(w,N){return w.getUint32(N,!1)}function Kt(w,N){return w.getInt16(N,!1)+w.getUint16(N+2,!1)/65535}var hr={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function It(w,N){this.data=w,this.offset=N,this.relativeOffset=0}It.prototype.parseByte=function(){var w=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},It.prototype.parseChar=function(){var w=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},It.prototype.parseCard8=It.prototype.parseByte,It.prototype.parseCard16=It.prototype.parseUShort=function(){var w=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},It.prototype.parseSID=It.prototype.parseUShort,It.prototype.parseOffset16=It.prototype.parseUShort,It.prototype.parseShort=function(){var w=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},It.prototype.parseF2Dot14=function(){var w=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,w},It.prototype.parseOffset32=It.prototype.parseULong=function(){var w=mr(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},It.prototype.parseFixed=function(){var w=Kt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},It.prototype.parseString=function(w){var N=this.data,X=this.offset+this.relativeOffset,ee="";this.relativeOffset+=w;for(var fe=0;fe<w;fe++)ee+=String.fromCharCode(N.getUint8(X+fe));return ee},It.prototype.parseTag=function(){return this.parseString(4)},It.prototype.parseLongDateTime=function(){var w=mr(this.data,this.offset+this.relativeOffset+4);return w-=2082844800,this.relativeOffset+=8,w},It.prototype.parseVersion=function(w){var N=Vt(this.data,this.offset+this.relativeOffset),X=Vt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,N+X/(w=void 0===w?4096:w)/10},It.prototype.skip=function(w,N){this.relativeOffset+=hr[w]*(N=void 0===N?1:N)},It.prototype.parseULongList=function(w){void 0===w&&(w=this.parseULong());for(var N=new Array(w),X=this.data,ee=this.offset+this.relativeOffset,fe=0;fe<w;fe++)N[fe]=X.getUint32(ee),ee+=4;return this.relativeOffset+=4*w,N},It.prototype.parseOffset16List=It.prototype.parseUShortList=function(w){void 0===w&&(w=this.parseUShort());for(var N=new Array(w),X=this.data,ee=this.offset+this.relativeOffset,fe=0;fe<w;fe++)N[fe]=X.getUint16(ee),ee+=2;return this.relativeOffset+=2*w,N},It.prototype.parseShortList=function(w){for(var N=new Array(w),X=this.data,ee=this.offset+this.relativeOffset,fe=0;fe<w;fe++)N[fe]=X.getInt16(ee),ee+=2;return this.relativeOffset+=2*w,N},It.prototype.parseByteList=function(w){for(var N=new Array(w),X=this.data,ee=this.offset+this.relativeOffset,fe=0;fe<w;fe++)N[fe]=X.getUint8(ee++);return this.relativeOffset+=w,N},It.prototype.parseList=function(w,N){N||(N=w,w=this.parseUShort());for(var X=new Array(w),ee=0;ee<w;ee++)X[ee]=N.call(this);return X},It.prototype.parseList32=function(w,N){N||(N=w,w=this.parseULong());for(var X=new Array(w),ee=0;ee<w;ee++)X[ee]=N.call(this);return X},It.prototype.parseRecordList=function(w,N){N||(N=w,w=this.parseUShort());for(var X=new Array(w),ee=Object.keys(N),fe=0;fe<w;fe++){for(var De={},Re=0;Re<ee.length;Re++){var Ze=ee[Re];De[Ze]=N[Ze].call(this)}X[fe]=De}return X},It.prototype.parseRecordList32=function(w,N){N||(N=w,w=this.parseULong());for(var X=new Array(w),ee=Object.keys(N),fe=0;fe<w;fe++){for(var De={},Re=0;Re<ee.length;Re++){var Ze=ee[Re];De[Ze]=N[Ze].call(this)}X[fe]=De}return X},It.prototype.parseStruct=function(w){if("function"==typeof w)return w.call(this);for(var N=Object.keys(w),X={},ee=0;ee<N.length;ee++){var fe=N[ee];X[fe]=w[fe].call(this)}return X},It.prototype.parseValueRecord=function(w){var N;if(0!==(w=void 0===w?this.parseUShort():w))return N={},1&w&&(N.xPlacement=this.parseShort()),2&w&&(N.yPlacement=this.parseShort()),4&w&&(N.xAdvance=this.parseShort()),8&w&&(N.yAdvance=this.parseShort()),16&w&&(N.xPlaDevice=void 0,this.parseShort()),32&w&&(N.yPlaDevice=void 0,this.parseShort()),64&w&&(N.xAdvDevice=void 0,this.parseShort()),128&w&&(N.yAdvDevice=void 0,this.parseShort()),N},It.prototype.parseValueRecordList=function(){for(var w=this.parseUShort(),N=this.parseUShort(),X=new Array(N),ee=0;ee<N;ee++)X[ee]=this.parseValueRecord(w);return X},It.prototype.parsePointer=function(w){var N=this.parseOffset16();if(0<N)return new It(this.data,this.offset+N).parseStruct(w)},It.prototype.parsePointer32=function(w){var N=this.parseOffset32();if(0<N)return new It(this.data,this.offset+N).parseStruct(w)},It.prototype.parseListOfLists=function(w){for(var N=this.parseOffset16List(),X=N.length,ee=this.relativeOffset,fe=new Array(X),De=0;De<X;De++){var Re=N[De];if(0===Re)fe[De]=void 0;else if(this.relativeOffset=Re,w){for(var Ze=this.parseOffset16List(),bt=new Array(Ze.length),gt=0;gt<Ze.length;gt++)this.relativeOffset=Re+Ze[gt],bt[gt]=w.call(this);fe[De]=bt}else fe[De]=this.parseUShortList()}return this.relativeOffset=ee,fe},It.prototype.parseCoverage=function(){var w=this.offset+this.relativeOffset,N=this.parseUShort(),X=this.parseUShort();if(1===N)return{format:1,glyphs:this.parseUShortList(X)};if(2!==N)throw new Error("0x"+w.toString(16)+": Coverage format must be 1 or 2.");for(var ee=new Array(X),fe=0;fe<X;fe++)ee[fe]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:ee}},It.prototype.parseClassDef=function(){var w=this.offset+this.relativeOffset,N=this.parseUShort();if(1===N)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===N)return{format:2,ranges:this.parseRecordList({start:It.uShort,end:It.uShort,classId:It.uShort})};throw new Error("0x"+w.toString(16)+": ClassDef format must be 1 or 2.")},It.list=function(w,N){return function(){return this.parseList(w,N)}},It.list32=function(w,N){return function(){return this.parseList32(w,N)}},It.recordList=function(w,N){return function(){return this.parseRecordList(w,N)}},It.recordList32=function(w,N){return function(){return this.parseRecordList32(w,N)}},It.pointer=function(w){return function(){return this.parsePointer(w)}},It.pointer32=function(w){return function(){return this.parsePointer32(w)}},It.tag=It.prototype.parseTag,It.byte=It.prototype.parseByte,It.uShort=It.offset16=It.prototype.parseUShort,It.uShortList=It.prototype.parseUShortList,It.uLong=It.offset32=It.prototype.parseULong,It.uLongList=It.prototype.parseULongList,It.struct=It.prototype.parseStruct,It.coverage=It.prototype.parseCoverage,It.classDef=It.prototype.parseClassDef;var lr={reserved:It.uShort,reqFeatureIndex:It.uShort,featureIndexes:It.uShortList},Ht=(It.prototype.parseScriptList=function(){return this.parsePointer(It.recordList({tag:It.tag,script:It.pointer({defaultLangSys:It.pointer(lr),langSysRecords:It.recordList({tag:It.tag,langSys:It.pointer(lr)})})}))||[]},It.prototype.parseFeatureList=function(){return this.parsePointer(It.recordList({tag:It.tag,feature:It.pointer({featureParams:It.offset16,lookupListIndexes:It.uShortList})}))||[]},It.prototype.parseLookupList=function(w){return this.parsePointer(It.list(It.pointer(function(){var N=this.parseUShort(),X=(j.argument(1<=N&&N<=9,"GPOS/GSUB lookup type "+N+" unknown."),this.parseUShort()),ee=16&X;return{lookupType:N,lookupFlag:X,subtables:this.parseList(It.pointer(w[N])),markFilteringSet:ee?this.parseUShort():void 0}})))||[]},It.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var w=this.parseUShort(),N=this.parseUShort();return j.argument(1===w&&N<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:It.offset32,featureTableSubstitutionOffset:It.offset32})})||[]},{getByte:cr,getCard8:cr,getUShort:Vt,getCard16:Vt,getShort:function(w,N){return w.getInt16(N,!1)},getULong:mr,getFixed:Kt,getTag:function(w,N){for(var X="",ee=N;ee<N+4;ee+=1)X+=String.fromCharCode(w.getInt8(ee));return X},getOffset:function(w,N,X){for(var ee=0,fe=0;fe<X;fe+=1)ee=(ee<<=8)+w.getUint8(N+fe);return ee},getBytes:function(w,N,X){for(var ee=[],fe=N;fe<X;fe+=1)ee.push(w.getUint8(fe));return ee},bytesToString:function(w){for(var N="",X=0;X<w.length;X+=1)N+=String.fromCharCode(w[X]);return N},Parser:It}),$e_parse=function(w,N){for(var X={},ee=(X.version=Ht.getUShort(w,N),j.argument(0===X.version,"cmap table version should be 0."),X.numTables=Ht.getUShort(w,N+2),-1),fe=X.numTables-1;0<=fe;--fe){var De=Ht.getUShort(w,N+4+8*fe),Re=Ht.getUShort(w,N+4+8*fe+2);if(3===De&&(0===Re||1===Re||10===Re)||0===De&&(0===Re||1===Re||2===Re||3===Re||4===Re)){ee=Ht.getULong(w,N+4+8*fe+4);break}}if(-1===ee)throw new Error("No valid cmap sub-tables found.");var Ze=new Ht.Parser(w,N+ee);if(X.format=Ze.parseUShort(),12===X.format){var bt,gt=X,zt=Ze;zt.parseUShort(),gt.length=zt.parseULong(),gt.language=zt.parseULong(),gt.groupCount=bt=zt.parseULong(),gt.glyphIndexMap={};for(var ve=0;ve<bt;ve+=1)for(var ae=zt.parseULong(),be=zt.parseULong(),ge=zt.parseULong(),Ue=ae;Ue<=be;Ue+=1)gt.glyphIndexMap[Ue]=ge,ge++}else{if(4!==X.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+X.format+").");var Nt=X,Gt=w,nr=N,Br=ee;Nt.length=Ze.parseUShort(),Nt.language=Ze.parseUShort(),Nt.segCount=Lr=Ze.parseUShort()>>1,Ze.skip("uShort",3),Nt.glyphIndexMap={};for(var Lr,zr=new Ht.Parser(Gt,nr+Br+14),Wr=new Ht.Parser(Gt,nr+Br+16+2*Lr),Qr=new Ht.Parser(Gt,nr+Br+16+4*Lr),vn=new Ht.Parser(Gt,nr+Br+16+6*Lr),qn=nr+Br+16+8*Lr,to=0;to<Lr-1;to+=1)for(var so=void 0,Kn=zr.parseUShort(),fo=Wr.parseUShort(),Tn=Qr.parseShort(),Mn=vn.parseUShort(),$r=fo;$r<=Kn;$r+=1)0!==Mn?(qn=(qn=vn.offset+vn.relativeOffset-2)+Mn+2*($r-fo),0!==(so=Ht.getUShort(Gt,qn))&&(so=so+Tn&65535)):so=$r+Tn&65535,Nt.glyphIndexMap[$r]=so}return X},$e_make=function(w){for(var N=!0,X=w.length-1;0<X;--X)if(65535<w.get(X).unicode){console.log("Adding CMAP format 12 (needed!)"),N=!1;break}var ee,fe,De=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:N?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:N?12:20}],Re=(De=(De=N?De:De.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new $t.Table("cmap",De));for(Re.segments=[],X=0;X<w.length;X+=1){for(var Ze=w.get(X),bt=0;bt<Ze.unicodes.length;bt+=1)Re.segments.push({end:ee=Ze.unicodes[bt],start:ee,delta:-(ee-(fe=X)),offset:0,glyphIndex:fe});Re.segments=Re.segments.sort(function(nr,Br){return nr.start-Br.start})}Re.segments.push({end:65535,start:65535,delta:1,offset:0});var gt=Re.segments.length,zt=0,ve=[],ae=[],be=[],ge=[],Ue=[],Nt=[];for(X=0;X<gt;X+=1){var Gt=Re.segments[X];Gt.end<=65535&&Gt.start<=65535?(ve=ve.concat({name:"end_"+X,type:"USHORT",value:Gt.end}),ae=ae.concat({name:"start_"+X,type:"USHORT",value:Gt.start}),be=be.concat({name:"idDelta_"+X,type:"SHORT",value:Gt.delta}),ge=ge.concat({name:"idRangeOffset_"+X,type:"USHORT",value:Gt.offset}),void 0!==Gt.glyphId&&(Ue=Ue.concat({name:"glyph_"+X,type:"USHORT",value:Gt.glyphId}))):zt+=1,N||void 0===Gt.glyphIndex||(Nt=(Nt=(Nt=Nt.concat({name:"cmap12Start_"+X,type:"ULONG",value:Gt.start})).concat({name:"cmap12End_"+X,type:"ULONG",value:Gt.end})).concat({name:"cmap12Glyph_"+X,type:"ULONG",value:Gt.glyphIndex}))}return Re.segCountX2=2*(gt-zt),Re.searchRange=2*Math.pow(2,Math.floor(Math.log(gt-zt)/Math.log(2))),Re.entrySelector=Math.log(Re.searchRange/2)/Math.log(2),Re.rangeShift=Re.segCountX2-Re.searchRange,Re.fields=Re.fields.concat(ve),Re.fields.push({name:"reservedPad",type:"USHORT",value:0}),Re.fields=Re.fields.concat(ae),Re.fields=Re.fields.concat(be),Re.fields=Re.fields.concat(ge),Re.fields=Re.fields.concat(Ue),Re.cmap4Length=14+2*ve.length+2+2*ae.length+2*be.length+2*ge.length+2*Ue.length,N||(De=16+4*Nt.length,Re.cmap12Offset=20+Re.cmap4Length,Re.fields=Re.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:De},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Nt.length/3}]),Re.fields=Re.fields.concat(Nt)),Re},We=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Xe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],wt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ot(w){this.font=w}function Xt(w){this.cmap=w}function Ct(w,N){this.encoding=w,this.charset=N}function Bt(w){switch(w.version){case 1:this.names=wt.slice();break;case 2:this.names=new Array(w.numberOfGlyphs);for(var N=0;N<w.numberOfGlyphs;N++)this.names[N]=w.glyphNameIndex[N]<wt.length?wt[w.glyphNameIndex[N]]:w.names[w.glyphNameIndex[N]-wt.length];break;case 2.5:this.names=new Array(w.numberOfGlyphs);for(var X=0;X<w.numberOfGlyphs;X++)this.names[X]=wt[X+w.glyphNameIndex[X]];break;default:this.names=[]}}Ot.prototype.charToGlyphIndex=function(w){var N=w.codePointAt(0),X=this.font.glyphs;if(X)for(var ee=0;ee<X.length;ee+=1)for(var fe=X.get(ee),De=0;De<fe.unicodes.length;De+=1)if(fe.unicodes[De]===N)return ee;return null},Xt.prototype.charToGlyphIndex=function(w){return this.cmap.glyphIndexMap[w.codePointAt(0)]||0},Ct.prototype.charToGlyphIndex=function(w){return w=w.codePointAt(0),this.charset.indexOf(w=this.encoding[w])},Bt.prototype.nameToGlyphIndex=function(w){return this.names.indexOf(w)},Bt.prototype.glyphIndexToName=function(w){return this.names[w]};var er_line=function(w,N,X,ee,fe){w.beginPath(),w.moveTo(N,X),w.lineTo(ee,fe),w.stroke()};function or(w){this.bindConstructorValues(w)}function Rt(w,N,X){Object.defineProperty(w,N,{get:function(){return w[X]},set:function(ee){w[X]=ee},enumerable:!0,configurable:!0})}function mt(w,N){if(this.font=w,this.glyphs={},Array.isArray(N))for(var X=0;X<N.length;X++)this.glyphs[X]=N[X];this.length=N&&N.length||0}or.prototype.bindConstructorValues=function(w){var N;this.index=w.index||0,this.name=w.name||null,this.unicode=w.unicode||void 0,this.unicodes=w.unicodes||void 0!==w.unicode?[w.unicode]:[],w.xMin&&(this.xMin=w.xMin),w.yMin&&(this.yMin=w.yMin),w.xMax&&(this.xMax=w.xMax),w.yMax&&(this.yMax=w.yMax),w.advanceWidth&&(this.advanceWidth=w.advanceWidth),Object.defineProperty(this,"path",(N=(w=w.path)||new ue,{configurable:!0,get:function(){return N="function"==typeof N?N():N},set:function(X){N=X}}))},or.prototype.addUnicode=function(w){0===this.unicodes.length&&(this.unicode=w),this.unicodes.push(w)},or.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},or.prototype.getPath=function(w,N,X,ee,fe){w=void 0!==w?w:0,N=void 0!==N?N:0,X=void 0!==X?X:72;for(var De,Re,Ze=(ee=ee||{}).xScale,bt=ee.yScale,gt=((De=ee.hinting&&fe&&fe.hinting?this.path&&fe.hinting.exec(this,X):De)?(Re=fe.hinting.getCommands(De),w=Math.round(w),N=Math.round(N),Ze=bt=1):(Re=this.path.commands,ee=1/this.path.unitsPerEm*X,void 0===Ze&&(Ze=ee),void 0===bt&&(bt=ee)),new ue),zt=0;zt<Re.length;zt+=1){var ve=Re[zt];"M"===ve.type?gt.moveTo(w+ve.x*Ze,N+-ve.y*bt):"L"===ve.type?gt.lineTo(w+ve.x*Ze,N+-ve.y*bt):"Q"===ve.type?gt.quadraticCurveTo(w+ve.x1*Ze,N+-ve.y1*bt,w+ve.x*Ze,N+-ve.y*bt):"C"===ve.type?gt.curveTo(w+ve.x1*Ze,N+-ve.y1*bt,w+ve.x2*Ze,N+-ve.y2*bt,w+ve.x*Ze,N+-ve.y*bt):"Z"===ve.type&&gt.closePath()}return gt},or.prototype.getContours=function(){if(void 0===this.points)return[];for(var w=[],N=[],X=0;X<this.points.length;X+=1){var ee=this.points[X];N.push(ee),ee.lastPointOfContour&&(w.push(N),N=[])}return j.argument(0===N.length,"There are still points left in the current contour."),w},or.prototype.getMetrics=function(){for(var w=this.path.commands,N=[],X=[],ee=0;ee<w.length;ee+=1){var fe=w[ee];"Z"!==fe.type&&(N.push(fe.x),X.push(fe.y)),"Q"!==fe.type&&"C"!==fe.type||(N.push(fe.x1),X.push(fe.y1)),"C"===fe.type&&(N.push(fe.x2),X.push(fe.y2))}var De={xMin:Math.min.apply(null,N),yMin:Math.min.apply(null,X),xMax:Math.max.apply(null,N),yMax:Math.max.apply(null,X),leftSideBearing:this.leftSideBearing};return isFinite(De.xMin)||(De.xMin=0),isFinite(De.xMax)||(De.xMax=this.advanceWidth),isFinite(De.yMin)||(De.yMin=0),isFinite(De.yMax)||(De.yMax=0),De.rightSideBearing=this.advanceWidth-De.leftSideBearing-(De.xMax-De.xMin),De},or.prototype.draw=function(w,N,X,ee,fe){this.getPath(N,X,ee,fe).draw(w)},or.prototype.drawPoints=function(w,N,X,ee){function fe(zt,ve,ae,be){var ge=2*Math.PI;w.beginPath();for(var Ue=0;Ue<zt.length;Ue+=1)w.moveTo(ve+zt[Ue].x*be,ae+zt[Ue].y*be),w.arc(ve+zt[Ue].x*be,ae+zt[Ue].y*be,2,0,ge,!1);w.closePath(),w.fill()}N=void 0!==N?N:0,X=void 0!==X?X:0,ee=1/this.path.unitsPerEm*(ee=void 0!==ee?ee:24);for(var De=[],Re=[],Ze=this.path,bt=0;bt<Ze.commands.length;bt+=1){var gt=Ze.commands[bt];void 0!==gt.x&&De.push({x:gt.x,y:-gt.y}),void 0!==gt.x1&&Re.push({x:gt.x1,y:-gt.y1}),void 0!==gt.x2&&Re.push({x:gt.x2,y:-gt.y2})}w.fillStyle="blue",fe(De,N,X,ee),w.fillStyle="red",fe(Re,N,X,ee)},or.prototype.drawMetrics=function(w,N,X,ee){N=void 0!==N?N:0,X=void 0!==X?X:0,ee=1/this.path.unitsPerEm*(ee=void 0!==ee?ee:24),w.lineWidth=1,w.strokeStyle="black",er_line(w,N,-1e4,N,1e4),er_line(w,-1e4,X,1e4,X);var fe=this.xMin||0,De=this.yMin||0,Re=this.xMax||0,Ze=this.yMax||0,bt=this.advanceWidth||0;w.strokeStyle="blue",er_line(w,N+fe*ee,-1e4,N+fe*ee,1e4),er_line(w,N+Re*ee,-1e4,N+Re*ee,1e4),er_line(w,-1e4,X+-De*ee,1e4,X+-De*ee),er_line(w,-1e4,X+-Ze*ee,1e4,X+-Ze*ee),w.strokeStyle="green",er_line(w,N+bt*ee,-1e4,N+bt*ee,1e4)},mt.prototype.get=function(w){return"function"==typeof this.glyphs[w]&&(this.glyphs[w]=this.glyphs[w]()),this.glyphs[w]},mt.prototype.push=function(w,N){this.glyphs[w]=N,this.length++};var Ut={GlyphSet:mt,glyphLoader:function(w,N){return new or({index:N,font:w})},ttfGlyphLoader:function(w,N,X,ee,fe,De){return function(){var Re=new or({index:N,font:w});return Re.path=function(){X(Re,ee,fe);var Ze=De(w.glyphs,Re);return Ze.unitsPerEm=w.unitsPerEm,Ze},Rt(Re,"xMin","_xMin"),Rt(Re,"xMax","_xMax"),Rt(Re,"yMin","_yMin"),Rt(Re,"yMax","_yMax"),Re}},cffGlyphLoader:function(w,N,X,ee){return function(){var fe=new or({index:N,font:w});return fe.path=function(){var De=X(w,fe,ee);return De.unitsPerEm=w.unitsPerEm,De},fe}}};function yt(w){return w.length<1240?107:w.length<33900?1131:32768}function Lt(w,N,X){var ee,fe=[],De=[],Re=Ht.getCard16(w,N);if(0!==Re){for(var Ze=Ht.getByte(w,N+2),bt=N+(Re+1)*Ze+2,gt=N+3,zt=0;zt<Re+1;zt+=1)fe.push(Ht.getOffset(w,gt,Ze)),gt+=Ze;ee=bt+fe[Re]}else ee=N+2;for(var ve=0;ve<fe.length-1;ve+=1){var ae=Ht.getBytes(w,bt+fe[ve],bt+fe[ve+1]);X&&(ae=X(ae)),De.push(ae)}return{objects:De,startOffset:N,endOffset:ee}}function ur(w,N){if(28===N)return w.parseByte()<<8|w.parseByte();if(29===N)return w.parseByte()<<24|w.parseByte()<<16|w.parseByte()<<8|w.parseByte();if(30===N){for(var X=w,ee="",fe=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var De=(Re=X.parseByte())>>4,Re=15&Re;if(15==De||(ee+=fe[De],15==Re))break;ee+=fe[Re]}return parseFloat(ee)}if(32<=N&&N<=246)return N-139;if(247<=N&&N<=250)return 256*(N-247)+w.parseByte()+108;if(251<=N&&N<=254)return 256*-(N-251)-w.parseByte()-108;throw new Error("Invalid b0 "+N)}function ht(w,N,X){var ee=new Ht.Parser(w,N=void 0!==N?N:0),fe=[],De=[];for(X=void 0!==X?X:w.length;ee.relativeOffset<X;){var Re=ee.parseByte();Re<=21?(12===Re&&(Re=1200+ee.parseByte()),fe.push([Re,De]),De=[]):De.push(ur(ee,Re))}for(var Ze=fe,bt={},gt=0;gt<Ze.length;gt+=1){var ae,zt=Ze[gt][0],ve=Ze[gt][1];if(ae=1===ve.length?ve[0]:ve,bt.hasOwnProperty(zt)&&!isNaN(bt[zt]))throw new Error("Object "+bt+" already has key "+zt);bt[zt]=ae}return bt}function Dt(w,N){return N<=390?We[N]:w[N-391]}function tr(w,N,X){for(var ee,fe={},De=0;De<N.length;De+=1){var Re=N[De];if(Array.isArray(Re.type)){var Ze=[];Ze.length=Re.type.length;for(var bt=0;bt<Re.type.length;bt++)void 0===(ee=void 0!==w[Re.op]?w[Re.op][bt]:void 0)&&(ee=void 0!==Re.value&&void 0!==Re.value[bt]?Re.value[bt]:null),"SID"===Re.type[bt]&&(ee=Dt(X,ee)),Ze[bt]=ee;fe[Re.name]=Ze}else void 0===(ee=w[Re.op])&&(ee=void 0!==Re.value?Re.value:null),"SID"===Re.type&&(ee=Dt(X,ee)),fe[Re.name]=ee}return fe}var Jt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ir=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function br(w,N,X,ee){return tr(ht(w,N,X),ir,ee)}function Er(w,N,X,ee){for(var fe=[],De=0;De<X.length;De+=1){var Re,Ze=((Ze=ee,Re=tr(ht(Re=new DataView(new Uint8Array(X[De]).buffer),0,Re.byteLength),Jt,Ze))._subrs=[],Re._subrsBias=0,Re.private[0]),bt=Re.private[1];0!==Ze&&0!==bt&&(Ze=br(w,bt+N,Ze,ee),Re._defaultWidthX=Ze.defaultWidthX,Re._nominalWidthX=Ze.nominalWidthX,0!==Ze.subrs&&(bt=Lt(w,bt+Ze.subrs+N),Re._subrs=bt.objects,Re._subrsBias=yt(Re._subrs)),Re._privateDict=Ze),fe.push(Re)}return fe}function vr(w,N,X){var ee,fe,De,Re,Ze,bt,gt,zt,ve,ae=new ue,be=[],ge=0,Ue=!1,Nt=!1,Gt=0,nr=0,Br=(ve=(w.isCIDFont?(Ze=w.tables.cff.topDict._fdSelect[N.index],Ze=w.tables.cff.topDict._fdArray[Ze],bt=Ze._subrs,gt=Ze._subrsBias,zt=Ze._defaultWidthX,Ze):(bt=w.tables.cff.topDict._subrs,gt=w.tables.cff.topDict._subrsBias,zt=w.tables.cff.topDict._defaultWidthX,w.tables.cff.topDict))._nominalWidthX,zt);function Lr(Wr,Qr){Nt&&ae.closePath(),ae.moveTo(Wr,Qr),Nt=!0}function zr(){be.length%2==0||Ue||(Br=be.shift()+ve),ge+=be.length>>1,be.length=0,Ue=!0}return function Wr(Qr){for(var vn,qn,to,so,Kn,fo,Tn,Mn,$r,Bn,$n,lo,Rn=0;Rn<Qr.length;){var uo=Qr[Rn];switch(Rn+=1,uo){case 1:case 3:case 18:case 23:zr();break;case 4:1<be.length&&!Ue&&(Br=be.shift()+ve,Ue=!0),nr+=be.pop(),Lr(Gt,nr);break;case 5:for(;0<be.length;)Gt+=be.shift(),nr+=be.shift(),ae.lineTo(Gt,nr);break;case 6:for(;0<be.length&&(Gt+=be.shift(),ae.lineTo(Gt,nr),0!==be.length);)nr+=be.shift(),ae.lineTo(Gt,nr);break;case 7:for(;0<be.length&&(nr+=be.shift(),ae.lineTo(Gt,nr),0!==be.length);)Gt+=be.shift(),ae.lineTo(Gt,nr);break;case 8:for(;0<be.length;)ee=Gt+be.shift(),fe=nr+be.shift(),De=ee+be.shift(),Re=fe+be.shift(),Gt=De+be.shift(),nr=Re+be.shift(),ae.curveTo(ee,fe,De,Re,Gt,nr);break;case 10:Kn=be.pop()+gt,(fo=bt[Kn])&&Wr(fo);break;case 11:return;case 12:switch(uo=Qr[Rn],Rn+=1,uo){case 35:ee=Gt+be.shift(),fe=nr+be.shift(),De=ee+be.shift(),Re=fe+be.shift(),Tn=De+be.shift(),Mn=Re+be.shift(),$r=Tn+be.shift(),Bn=Mn+be.shift(),$n=$r+be.shift(),lo=Bn+be.shift(),Gt=$n+be.shift(),nr=lo+be.shift(),be.shift(),ae.curveTo(ee,fe,De,Re,Tn,Mn),ae.curveTo($r,Bn,$n,lo,Gt,nr);break;case 34:ee=Gt+be.shift(),fe=nr,De=ee+be.shift(),Re=fe+be.shift(),Tn=De+be.shift(),Mn=Re,$r=Tn+be.shift(),Bn=Re,$n=$r+be.shift(),lo=nr,Gt=$n+be.shift(),ae.curveTo(ee,fe,De,Re,Tn,Mn),ae.curveTo($r,Bn,$n,lo,Gt,nr);break;case 36:ee=Gt+be.shift(),fe=nr+be.shift(),De=ee+be.shift(),Re=fe+be.shift(),Tn=De+be.shift(),Mn=Re,$r=Tn+be.shift(),Bn=Re,$n=$r+be.shift(),lo=Bn+be.shift(),Gt=$n+be.shift(),ae.curveTo(ee,fe,De,Re,Tn,Mn),ae.curveTo($r,Bn,$n,lo,Gt,nr);break;case 37:ee=Gt+be.shift(),fe=nr+be.shift(),De=ee+be.shift(),Re=fe+be.shift(),Tn=De+be.shift(),Mn=Re+be.shift(),$r=Tn+be.shift(),Bn=Mn+be.shift(),$n=$r+be.shift(),lo=Bn+be.shift(),Math.abs($n-Gt)>Math.abs(lo-nr)?Gt=$n+be.shift():nr=lo+be.shift(),ae.curveTo(ee,fe,De,Re,Tn,Mn),ae.curveTo($r,Bn,$n,lo,Gt,nr);break;default:console.log("Glyph "+N.index+": unknown operator 1200"+uo),be.length=0}break;case 14:0<be.length&&!Ue&&(Br=be.shift()+ve,Ue=!0),Nt&&(ae.closePath(),Nt=!1);break;case 19:case 20:zr(),Rn+=ge+7>>3;break;case 21:2<be.length&&!Ue&&(Br=be.shift()+ve,Ue=!0),nr+=be.pop(),Lr(Gt+=be.pop(),nr);break;case 22:1<be.length&&!Ue&&(Br=be.shift()+ve,Ue=!0),Lr(Gt+=be.pop(),nr);break;case 24:for(;2<be.length;)ee=Gt+be.shift(),fe=nr+be.shift(),De=ee+be.shift(),Re=fe+be.shift(),Gt=De+be.shift(),nr=Re+be.shift(),ae.curveTo(ee,fe,De,Re,Gt,nr);Gt+=be.shift(),nr+=be.shift(),ae.lineTo(Gt,nr);break;case 25:for(;6<be.length;)Gt+=be.shift(),nr+=be.shift(),ae.lineTo(Gt,nr);ee=Gt+be.shift(),fe=nr+be.shift(),De=ee+be.shift(),Re=fe+be.shift(),Gt=De+be.shift(),nr=Re+be.shift(),ae.curveTo(ee,fe,De,Re,Gt,nr);break;case 26:for(be.length%2&&(Gt+=be.shift());0<be.length;)ee=Gt,fe=nr+be.shift(),De=ee+be.shift(),Re=fe+be.shift(),Gt=De,nr=Re+be.shift(),ae.curveTo(ee,fe,De,Re,Gt,nr);break;case 27:for(be.length%2&&(nr+=be.shift());0<be.length;)ee=Gt+be.shift(),fe=nr,De=ee+be.shift(),Re=fe+be.shift(),Gt=De+be.shift(),ae.curveTo(ee,fe,De,Re,Gt,nr=Re);break;case 28:be.push(((vn=Qr[Rn])<<24|(qn=Qr[Rn+1])<<16)>>16),Rn+=2;break;case 29:Kn=be.pop()+w.gsubrsBias,(fo=w.gsubrs[Kn])&&Wr(fo);break;case 30:for(;0<be.length&&(ee=Gt,fe=nr+be.shift(),De=ee+be.shift(),Re=fe+be.shift(),Gt=De+be.shift(),nr=Re+(1===be.length?be.shift():0),ae.curveTo(ee,fe,De,Re,Gt,nr),0!==be.length);)ee=Gt+be.shift(),fe=nr,De=ee+be.shift(),Re=fe+be.shift(),nr=Re+be.shift(),Gt=De+(1===be.length?be.shift():0),ae.curveTo(ee,fe,De,Re,Gt,nr);break;case 31:for(;0<be.length&&(ee=Gt+be.shift(),fe=nr,De=ee+be.shift(),Re=fe+be.shift(),nr=Re+be.shift(),Gt=De+(1===be.length?be.shift():0),ae.curveTo(ee,fe,De,Re,Gt,nr),0!==be.length);)ee=Gt,fe=nr+be.shift(),De=ee+be.shift(),Re=fe+be.shift(),Gt=De+be.shift(),nr=Re+(1===be.length?be.shift():0),ae.curveTo(ee,fe,De,Re,Gt,nr);break;default:uo<32?console.log("Glyph "+N.index+": unknown operator "+uo):uo<247?be.push(uo-139):uo<251?(vn=Qr[Rn],Rn+=1,be.push(256*(uo-247)+vn+108)):uo<255?(vn=Qr[Rn],Rn+=1,be.push(256*-(uo-251)-vn-108)):(vn=Qr[Rn],qn=Qr[Rn+1],to=Qr[Rn+2],so=Qr[Rn+3],Rn+=4,be.push((vn<<24|qn<<16|to<<8|so)/65536))}}}(X),N.advanceWidth=Br,ae}function Mr(w,N){var X,ee=We.indexOf(w);return 0<=ee&&(X=ee),0<=(ee=N.indexOf(w))?X=ee+We.length:(X=We.length+N.length,N.push(w)),X}function z(w,N,X){for(var ee={},fe=0;fe<w.length;fe+=1){var De=w[fe],Re=N[De.name];void 0===Re||function Ze(bt,gt){if(bt===gt)return 1;if(Array.isArray(bt)&&Array.isArray(gt)&&bt.length===gt.length){for(var zt=0;zt<bt.length;zt+=1)if(!Ze(bt[zt],gt[zt]))return;return 1}}(Re,De.value)||("SID"===De.type&&(Re=Mr(Re,X)),ee[De.op]={name:De.name,type:De.type,value:Re})}return ee}function pe(w,N){var X=new $t.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return X.dict=z(Jt,w,N),X}function Ie(w){var N=new $t.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return N.topDicts=[{name:"topDict_0",type:"TABLE",value:w}],N}var O_parse=function(w,N,X){X.tables.cff={},(fe={}).formatMajor=Ht.getCard8(Ze=w,ee=N),fe.formatMinor=Ht.getCard8(Ze,ee+1),fe.size=Ht.getCard8(Ze,ee+2),fe.offsetSize=Ht.getCard8(Ze,ee+3),fe.startOffset=ee,fe.endOffset=ee+4;var Ze=Lt(w,fe.endOffset,Ht.bytesToString),ee=Lt(w,Ze.endOffset),fe=Lt(w,ee.endOffset,Ht.bytesToString);if(Ze=Lt(w,fe.endOffset),X.gsubrs=Ze.objects,X.gsubrsBias=yt(X.gsubrs),1!==(Ze=Er(w,N,ee.objects,fe.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Ze.length);if((X.tables.cff.topDict=ee=Ze[0])._privateDict&&(X.defaultWidthX=ee._privateDict.defaultWidthX,X.nominalWidthX=ee._privateDict.nominalWidthX),void 0!==ee.ros[0]&&void 0!==ee.ros[1]&&(X.isCIDFont=!0),X.isCIDFont){var De=ee.fdSelect;if(0===(Ze=ee.fdArray)||0===De)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Ze=Er(w,N,Lt(w,Ze+=N).objects,fe.objects),ee._fdArray=Ze,ee._fdSelect=function(ae,be,ge,Ue){var Nt,Gt=[],nr=new Ht.Parser(ae,be);if(0===(ae=nr.parseCard8()))for(var Br=0;Br<ge;Br++){if(Ue<=(Nt=nr.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Nt+" (FD count "+Ue+")");Gt.push(Nt)}else{if(3!==ae)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ae);var Lr,zr=nr.parseCard16(),Wr=nr.parseCard16();if(0!==Wr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Wr);for(var Qr=0;Qr<zr;Qr++){if(Nt=nr.parseCard8(),Lr=nr.parseCard16(),Ue<=Nt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Nt+" (FD count "+Ue+")");if(ge<Lr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Lr);for(;Wr<Lr;Wr++)Gt.push(Nt);Wr=Lr}if(Lr!==ge)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Lr)}return Gt}(w,De+=N,X.numGlyphs,Ze.length)}Ze=br(w,De=N+ee.private[1],ee.private[0],fe.objects);var Re=(X.defaultWidthX=Ze.defaultWidthX,X.nominalWidthX=Ze.nominalWidthX,0!==Ze.subrs?(De=Lt(w,De+Ze.subrs),X.subrs=De.objects,X.subrsBias=yt(X.subrs)):(X.subrs=[],X.subrsBias=0),Lt(w,N+ee.charStrings));X.nGlyphs=Re.objects.length,Ze=function(zt,ve,ae,be){var ge=new Ht.Parser(zt,ve),Ue=(--ae,[".notdef"]);if(0===(zt=ge.parseCard8()))for(var Nt=0;Nt<ae;Nt+=1)Gt=ge.parseSID(),Ue.push(Dt(be,Gt));else if(1===zt)for(;Ue.length<=ae;)for(var Gt=ge.parseSID(),nr=ge.parseCard8(),Br=0;Br<=nr;Br+=1)Ue.push(Dt(be,Gt)),Gt+=1;else{if(2!==zt)throw new Error("Unknown charset format "+zt);for(;Ue.length<=ae;){Gt=ge.parseSID(),nr=ge.parseCard16();for(var Lr=0;Lr<=nr;Lr+=1)Ue.push(Dt(be,Gt)),Gt+=1}}return Ue}(w,N+ee.charset,X.nGlyphs,fe.objects),X.cffEncoding=0===ee.encoding?new Ct(Pe,Ze):1===ee.encoding?new Ct(Xe,Ze):function(zt,ve,ae){var be={},ge=new Ht.Parser(zt,ve);if(0===(zt=ge.parseCard8()))for(var Ue=ge.parseCard8(),Nt=0;Nt<Ue;Nt+=1)be[nr=ge.parseCard8()]=Nt;else{if(1!==zt)throw new Error("Unknown encoding format "+zt);for(var Gt=ge.parseCard8(),nr=1,Br=0;Br<Gt;Br+=1)for(var Lr=ge.parseCard8(),zr=ge.parseCard8(),Wr=Lr;Wr<=Lr+zr;Wr+=1)be[Wr]=nr,nr+=1}return new Ct(be,ae)}(w,N+ee.encoding,Ze),X.encoding=X.encoding||X.cffEncoding,X.glyphs=new Ut.GlyphSet(X);for(var bt=0;bt<X.nGlyphs;bt+=1)X.glyphs.push(bt,Ut.cffGlyphLoader(X,bt,vr,Re.objects[bt]))},O_make=function(w,zt){for(var X,ee=new $t.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),fe={version:zt.version,fullName:zt.fullName,familyName:zt.familyName,weight:zt.weightName,fontBBox:zt.fontBBox||[0,0,0,0],fontMatrix:[fe=1/zt.unitsPerEm,0,0,fe,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},De=[],Re=1;Re<w.length;Re+=1)X=w.get(Re),De.push(X.name);var Ze,bt,gt=[],ve=(ee.header=new $t.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),ee.nameIndex=function(ae){var be=new $t.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);be.names=[];for(var ge=0;ge<ae.length;ge+=1)be.names.push({name:"name_"+ge,type:"NAME",value:ae[ge]});return be}([zt.postScriptName]),zt=pe(fe,gt),ee.topDictIndex=Ie(zt),ee.globalSubrIndex=new $t.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),ee.charsets=function(ae,be){for(var ge=new $t.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ue=0;Ue<ae.length;Ue+=1){var Nt=Mr(ae[Ue],be);ge.fields.push({name:"glyph_"+Ue,type:"SID",value:Nt})}return ge}(De,gt),ee.charStringsIndex=function C(w){for(var N=new $t.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),X=0;X<w.length;X+=1){var ee=w.get(X),fe=function(De){for(var Re=[],Ze=De.path,bt=(Re.push({name:"width",type:"NUMBER",value:De.advanceWidth}),0),gt=0,zt=0;zt<Ze.commands.length;zt+=1){var ve,ae,be,ge,Ue=void 0,Nt=void 0,Gt=Ze.commands[zt];"M"===(Gt="Q"===Gt.type?{type:"C",x:Gt.x,y:Gt.y,x1:1/3*bt+2/3*Gt.x1,y1:1/3*gt+2/3*Gt.y1,x2:1/3*Gt.x+2/3*Gt.x1,y2:1/3*Gt.y+2/3*Gt.y1}:Gt).type?(Ue=Math.round(Gt.x-bt),Nt=Math.round(Gt.y-gt),Re.push({name:"dx",type:"NUMBER",value:Ue}),Re.push({name:"dy",type:"NUMBER",value:Nt}),Re.push({name:"rmoveto",type:"OP",value:21}),bt=Math.round(Gt.x),gt=Math.round(Gt.y)):"L"===Gt.type?(Ue=Math.round(Gt.x-bt),Nt=Math.round(Gt.y-gt),Re.push({name:"dx",type:"NUMBER",value:Ue}),Re.push({name:"dy",type:"NUMBER",value:Nt}),Re.push({name:"rlineto",type:"OP",value:5}),bt=Math.round(Gt.x),gt=Math.round(Gt.y)):"C"===Gt.type&&(ve=Math.round(Gt.x1-bt),ae=Math.round(Gt.y1-gt),be=Math.round(Gt.x2-Gt.x1),ge=Math.round(Gt.y2-Gt.y1),Ue=Math.round(Gt.x-Gt.x2),Nt=Math.round(Gt.y-Gt.y2),Re.push({name:"dx1",type:"NUMBER",value:ve}),Re.push({name:"dy1",type:"NUMBER",value:ae}),Re.push({name:"dx2",type:"NUMBER",value:be}),Re.push({name:"dy2",type:"NUMBER",value:ge}),Re.push({name:"dx",type:"NUMBER",value:Ue}),Re.push({name:"dy",type:"NUMBER",value:Nt}),Re.push({name:"rrcurveto",type:"OP",value:8}),bt=Math.round(Gt.x),gt=Math.round(Gt.y))}return Re.push({name:"endchar",type:"OP",value:14}),Re}(ee);N.charStrings.push({name:ee.name,type:"CHARSTRING",value:fe})}return N}(w),ee.privateDict=(ve={},Ze=gt,(bt=new $t.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=z(ir,ve,Ze),bt),ee.stringIndex=function(ae){var be=new $t.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);be.strings=[];for(var ge=0;ge<ae.length;ge+=1)be.strings.push({name:"string_"+ge,type:"STRING",value:ae[ge]});return be}(gt),ee.header.sizeOf()+ee.nameIndex.sizeOf()+ee.topDictIndex.sizeOf()+ee.stringIndex.sizeOf()+ee.globalSubrIndex.sizeOf());return fe.charset=ve,fe.encoding=0,fe.charStrings=fe.charset+ee.charsets.sizeOf(),fe.private[1]=fe.charStrings+ee.charStringsIndex.sizeOf(),zt=pe(fe,gt),ee.topDictIndex=Ie(zt),ee},B_parse=function(ee,N){var X={};return ee=new Ht.Parser(ee,N),X.version=ee.parseVersion(),X.fontRevision=Math.round(1e3*ee.parseFixed())/1e3,X.checkSumAdjustment=ee.parseULong(),X.magicNumber=ee.parseULong(),j.argument(1594834165===X.magicNumber,"Font header has wrong magic number."),X.flags=ee.parseUShort(),X.unitsPerEm=ee.parseUShort(),X.created=ee.parseLongDateTime(),X.modified=ee.parseLongDateTime(),X.xMin=ee.parseShort(),X.yMin=ee.parseShort(),X.xMax=ee.parseShort(),X.yMax=ee.parseShort(),X.macStyle=ee.parseUShort(),X.lowestRecPPEM=ee.parseUShort(),X.fontDirectionHint=ee.parseShort(),X.indexToLocFormat=ee.parseShort(),X.glyphDataFormat=ee.parseShort(),X},B_make=function(w){var N=Math.round((new Date).getTime()/1e3)+2082844800,X=N;return w.createdTimestamp&&(X=w.createdTimestamp+2082844800),new $t.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:X},{name:"modified",type:"LONGDATETIME",value:N},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],w)},A_parse=function(ee,N){var X={};return ee=new Ht.Parser(ee,N),X.version=ee.parseVersion(),X.ascender=ee.parseShort(),X.descender=ee.parseShort(),X.lineGap=ee.parseShort(),X.advanceWidthMax=ee.parseUShort(),X.minLeftSideBearing=ee.parseShort(),X.minRightSideBearing=ee.parseShort(),X.xMaxExtent=ee.parseShort(),X.caretSlopeRise=ee.parseShort(),X.caretSlopeRun=ee.parseShort(),X.caretOffset=ee.parseShort(),ee.relativeOffset+=8,X.metricDataFormat=ee.parseShort(),X.numberOfHMetrics=ee.parseUShort(),X},A_make=function(w){return new $t.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],w)},Q_parse=function(w,N,X,ee,fe){for(var De,Re,Ze=new Ht.Parser(w,N),bt=0;bt<ee;bt+=1){bt<X&&(De=Ze.parseUShort(),Re=Ze.parseShort());var gt=fe.get(bt);gt.advanceWidth=De,gt.leftSideBearing=Re}},Q_make=function(w){for(var N=new $t.Table("hmtx",[]),X=0;X<w.length;X+=1){var ee=(fe=w.get(X)).advanceWidth||0,fe=fe.leftSideBearing||0;N.fields.push({name:"advanceWidth_"+X,type:"USHORT",value:ee}),N.fields.push({name:"leftSideBearing_"+X,type:"SHORT",value:fe})}return N},H_make=function(w){for(var N=new $t.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:w.length}]),X="",ee=12+4*w.length,fe=0;fe<w.length;++fe){var De=X.indexOf(w[fe]);De<0&&(De=X.length,X+=w[fe]),N.fields.push({name:"offset "+fe,type:"USHORT",value:ee+De}),N.fields.push({name:"length "+fe,type:"USHORT",value:w[fe].length})}return N.fields.push({name:"stringPool",type:"CHARARRAY",value:X}),N},H_parse=function(w,N){for(var X=new Ht.Parser(w,N),ee=X.parseULong(),fe=(j.argument(1===ee,"Unsupported ltag table version."),X.skip("uLong",1),X.parseULong()),De=[],Re=0;Re<fe;Re++){for(var Ze="",bt=N+X.parseUShort(),gt=X.parseUShort(),zt=bt;zt<bt+gt;++zt)Ze+=String.fromCharCode(w.getInt8(zt));De.push(Ze)}return De},ie_parse=function(ee,N){var X={};return ee=new Ht.Parser(ee,N),X.version=ee.parseVersion(),X.numGlyphs=ee.parseUShort(),1===X.version&&(X.maxPoints=ee.parseUShort(),X.maxContours=ee.parseUShort(),X.maxCompositePoints=ee.parseUShort(),X.maxCompositeContours=ee.parseUShort(),X.maxZones=ee.parseUShort(),X.maxTwilightPoints=ee.parseUShort(),X.maxStorage=ee.parseUShort(),X.maxFunctionDefs=ee.parseUShort(),X.maxInstructionDefs=ee.parseUShort(),X.maxStackElements=ee.parseUShort(),X.maxSizeOfInstructions=ee.parseUShort(),X.maxComponentElements=ee.parseUShort(),X.maxComponentDepth=ee.parseUShort()),X},ie_make=function(w){return new $t.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:w}])},je=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ae={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},it={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},xt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},fr="utf-16",ke={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},He={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function vt(w,N,X){switch(w){case 0:return fr;case 1:return He[X]||ke[N];case 3:if(1===N||10===N)return fr}}function Ge(w){var N,X={};for(N in w)X[w[N]]=parseInt(N);return X}function dt(w,N,X,ee,fe,De){return new $t.Record("NameRecord",[{name:"platformID",type:"USHORT",value:w},{name:"encodingID",type:"USHORT",value:N},{name:"languageID",type:"USHORT",value:X},{name:"nameID",type:"USHORT",value:ee},{name:"length",type:"USHORT",value:fe},{name:"offset",type:"USHORT",value:De}])}function Ft(w,N){if((X=function(De,Re){var Ze=De.length,bt=Re.length-Ze+1;e:for(var gt=0;gt<bt;gt++)for(;gt<bt;gt++){for(var zt=0;zt<Ze;zt++)if(Re[gt+zt]!==De[zt])continue e;return gt}return-1}(w,N))<0)for(var X=N.length,ee=0,fe=w.length;ee<fe;++ee)N.push(w[ee]);return X}var ar_parse=function(w,N,X){for(var ee={},fe=new Ht.Parser(w,N),De=(N=fe.parseUShort(),fe.parseUShort()),Re=fe.offset+fe.parseUShort(),Ze=0;Ze<De;Ze++){var ge=fe.parseUShort(),bt=fe.parseUShort(),gt=fe.parseUShort(),zt=fe.parseUShort(),ve=(zt=je[zt]||zt,fe.parseUShort()),ae=fe.parseUShort(),be=function(Nt,Gt,nr){switch(Nt){case 0:if(65535===Gt)return"und";if(nr)return nr[Gt];break;case 1:return Ae[Gt];case 3:return xt[Gt]}}(ge,gt,X);void 0!==(ge=vt(ge,bt,gt))&&void 0!==be&&(bt=void 0,(bt=ge===fr?te.UTF16(w,Re+ae,ve):te.MACSTRING(w,Re+ae,ve,ge))&&((gt=void 0===(gt=ee[zt])?ee[zt]={}:gt)[be]=bt))}return 1===N&&fe.parseUShort(),ee},ar_make=function(w,N){var X,ee=[],fe={},De=Ge(je);for(X in w){var Re=De[X];if(void 0===Re&&(Re=X),ae=parseInt(Re),isNaN(ae))throw new Error('Name table entry "'+X+'" does not exist, see nameTableNames for complete list.');fe[ae]=w[X],ee.push(ae)}for(var Ze=Ge(Ae),bt=Ge(xt),gt=[],zt=[],ve=0;ve<ee.length;ve++){var ae,be,ge=fe[ae=ee[ve]];for(be in ge){var Lr,Ue=ge[be],Nt=Ze[be],Gt=it[Nt],nr=vt(Lr=1,Gt,Nt),Br=(void 0===(nr=me.MACSTRING(Ue,nr))&&(Lr=0,(Nt=N.indexOf(be))<0&&(Nt=N.length,N.push(be)),Gt=4,nr=me.UTF16(Ue)),Ft(nr,zt));void 0!==(gt.push(dt(Lr,Gt,Nt,ae,nr.length,Br)),Lr=bt[be])&&(Nt=Ft(Gt=me.UTF16(Ue),zt),gt.push(dt(3,1,Lr,ae,Gt.length,Nt)))}}gt.sort(function(Qr,vn){return Qr.platformID-vn.platformID||Qr.encodingID-vn.encodingID||Qr.languageID-vn.languageID||Qr.nameID-vn.nameID});for(var zr=new $t.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:gt.length},{name:"stringOffset",type:"USHORT",value:6+12*gt.length}]),Wr=0;Wr<gt.length;Wr++)zr.fields.push({name:"record_"+Wr,type:"RECORD",value:gt[Wr]});return zr.fields.push({name:"strings",type:"LITERAL",value:zt}),zr},_r=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Pr_parse=function(w,N){var X={},ee=new Ht.Parser(w,N);X.version=ee.parseUShort(),X.xAvgCharWidth=ee.parseShort(),X.usWeightClass=ee.parseUShort(),X.usWidthClass=ee.parseUShort(),X.fsType=ee.parseUShort(),X.ySubscriptXSize=ee.parseShort(),X.ySubscriptYSize=ee.parseShort(),X.ySubscriptXOffset=ee.parseShort(),X.ySubscriptYOffset=ee.parseShort(),X.ySuperscriptXSize=ee.parseShort(),X.ySuperscriptYSize=ee.parseShort(),X.ySuperscriptXOffset=ee.parseShort(),X.ySuperscriptYOffset=ee.parseShort(),X.yStrikeoutSize=ee.parseShort(),X.yStrikeoutPosition=ee.parseShort(),X.sFamilyClass=ee.parseShort(),X.panose=[];for(var fe=0;fe<10;fe++)X.panose[fe]=ee.parseByte();return X.ulUnicodeRange1=ee.parseULong(),X.ulUnicodeRange2=ee.parseULong(),X.ulUnicodeRange3=ee.parseULong(),X.ulUnicodeRange4=ee.parseULong(),X.achVendID=String.fromCharCode(ee.parseByte(),ee.parseByte(),ee.parseByte(),ee.parseByte()),X.fsSelection=ee.parseUShort(),X.usFirstCharIndex=ee.parseUShort(),X.usLastCharIndex=ee.parseUShort(),X.sTypoAscender=ee.parseShort(),X.sTypoDescender=ee.parseShort(),X.sTypoLineGap=ee.parseShort(),X.usWinAscent=ee.parseUShort(),X.usWinDescent=ee.parseUShort(),1<=X.version&&(X.ulCodePageRange1=ee.parseULong(),X.ulCodePageRange2=ee.parseULong()),2<=X.version&&(X.sxHeight=ee.parseShort(),X.sCapHeight=ee.parseShort(),X.usDefaultChar=ee.parseUShort(),X.usBreakChar=ee.parseUShort(),X.usMaxContent=ee.parseUShort()),X},Pr_make=function(w){return new $t.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],w)},Pr_getUnicodeRange=function(w){for(var N=0;N<_r.length;N+=1){var X=_r[N];if(w>=X.begin&&w<X.end)return N}return-1},tn_parse=function(w,N){var X={},ee=new Ht.Parser(w,N);switch(X.version=ee.parseVersion(),X.italicAngle=ee.parseFixed(),X.underlinePosition=ee.parseShort(),X.underlineThickness=ee.parseShort(),X.isFixedPitch=ee.parseULong(),X.minMemType42=ee.parseULong(),X.maxMemType42=ee.parseULong(),X.minMemType1=ee.parseULong(),X.maxMemType1=ee.parseULong(),X.version){case 1:X.names=wt.slice();break;case 2:X.numberOfGlyphs=ee.parseUShort(),X.glyphNameIndex=new Array(X.numberOfGlyphs);for(var fe=0;fe<X.numberOfGlyphs;fe++)X.glyphNameIndex[fe]=ee.parseUShort();X.names=[];for(var De,Re=0;Re<X.numberOfGlyphs;Re++)X.glyphNameIndex[Re]>=wt.length&&(De=ee.parseChar(),X.names.push(ee.parseString(De)));break;case 2.5:X.numberOfGlyphs=ee.parseUShort(),X.offset=new Array(X.numberOfGlyphs);for(var Ze=0;Ze<X.numberOfGlyphs;Ze++)X.offset[Ze]=ee.parseChar()}return X},tn_make=function(){return new $t.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},on=new Array(9),Nn=(on[1]=function(){var w=this.offset+this.relativeOffset,N=this.parseUShort();return 1===N?{substFormat:1,coverage:this.parsePointer(It.coverage),deltaGlyphId:this.parseUShort()}:2===N?{substFormat:2,coverage:this.parsePointer(It.coverage),substitute:this.parseOffset16List()}:void j.assert(!1,"0x"+w.toString(16)+": lookup type 1 format must be 1 or 2.")},on[2]=function(){var w=this.parseUShort();return j.argument(1===w,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(It.coverage),sequences:this.parseListOfLists()}},on[3]=function(){var w=this.parseUShort();return j.argument(1===w,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(It.coverage),alternateSets:this.parseListOfLists()}},on[4]=function(){var w=this.parseUShort();return j.argument(1===w,"GSUB ligature table identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(It.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:It.uShort,lookupListIndex:It.uShort});on[5]=function(){var w,N,X=this.offset+this.relativeOffset,ee=this.parseUShort();return 1===ee?{substFormat:ee,coverage:this.parsePointer(It.coverage),ruleSets:this.parseListOfLists(function(){var fe=this.parseUShort(),De=this.parseUShort();return{input:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(De,Nn)}})}:2===ee?{substFormat:ee,coverage:this.parsePointer(It.coverage),classDef:this.parsePointer(It.classDef),classSets:this.parseListOfLists(function(){var fe=this.parseUShort(),De=this.parseUShort();return{classes:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(De,Nn)}})}:3===ee?(w=this.parseUShort(),N=this.parseUShort(),{substFormat:ee,coverages:this.parseList(w,It.pointer(It.coverage)),lookupRecords:this.parseRecordList(N,Nn)}):void j.assert(!1,"0x"+X.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},on[6]=function(){var w=this.offset+this.relativeOffset,N=this.parseUShort();return 1===N?{substFormat:1,coverage:this.parsePointer(It.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nn)}})}:2===N?{substFormat:2,coverage:this.parsePointer(It.coverage),backtrackClassDef:this.parsePointer(It.classDef),inputClassDef:this.parsePointer(It.classDef),lookaheadClassDef:this.parsePointer(It.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nn)}})}:3===N?{substFormat:3,backtrackCoverage:this.parseList(It.pointer(It.coverage)),inputCoverage:this.parseList(It.pointer(It.coverage)),lookaheadCoverage:this.parseList(It.pointer(It.coverage)),lookupRecords:this.parseRecordList(Nn)}:void j.assert(!1,"0x"+w.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},on[7]=function(){var w=this.parseUShort(),N=(j.argument(1===w,"GSUB Extension Substitution subtable identifier-format must be 1"),w=this.parseUShort(),new It(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:w,extension:on[w].call(N)}},on[8]=function(){var w=this.parseUShort();return j.argument(1===w,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(It.coverage),backtrackCoverage:this.parseList(It.pointer(It.coverage)),lookaheadCoverage:this.parseList(It.pointer(It.coverage)),substitutes:this.parseUShortList()}};var Dn=new Array(9);Dn[1]=function(w){return new $t.Table("substitutionTable",1===w.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $t.Coverage(w.coverage)},{name:"deltaGlyphID",type:"USHORT",value:w.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $t.Coverage(w.coverage)}].concat($t.ushortList("substitute",w.substitute)))},Dn[3]=function(w){return j.assert(1===w.substFormat,"Lookup type 3 substFormat must be 1."),new $t.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $t.Coverage(w.coverage)}].concat($t.tableList("altSet",w.alternateSets,function(N){return new $t.Table("alternateSetTable",$t.ushortList("alternate",N))})))},Dn[4]=function(w){return j.assert(1===w.substFormat,"Lookup type 4 substFormat must be 1."),new $t.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $t.Coverage(w.coverage)}].concat($t.tableList("ligSet",w.ligatureSets,function(N){return new $t.Table("ligatureSetTable",$t.tableList("ligature",N,function(X){return new $t.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:X.ligGlyph}].concat($t.ushortList("component",X.components,X.components.length+1)))}))})))};var Kr_parse=function(w,N){return N=(w=new It(w,N=N||0)).parseVersion(1),j.argument(1===N||1.1===N,"Unsupported GSUB table version."),1===N?{version:N,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(on)}:{version:N,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(on),variations:w.parseFeatureVariationsList()}},Kr_make=function(w){return new $t.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $t.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new $t.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new $t.LookupList(w.lookups,Dn)}])},yn_parse=function(w,N){for(var X=new Ht.Parser(w,N),ee=X.parseULong(),fe=(j.argument(1===ee,"Unsupported META table version."),X.parseULong(),X.parseULong(),X.parseULong()),De={},Re=0;Re<fe;Re++){var Ze=X.parseTag(),gt=X.parseULong(),bt=X.parseULong();gt=te.UTF8(w,N+gt,bt),De[Ze]=gt}return De},yn_make=function(w){var N,X=Object.keys(w).length,ee="",fe=16+12*X,De=new $t.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:fe},{name:"numTags",type:"ULONG",value:X}]);for(N in w){var Re=ee.length;ee+=w[N],De.fields.push({name:"tag "+N,type:"TAG",value:N}),De.fields.push({name:"offset "+N,type:"ULONG",value:fe+Re}),De.fields.push({name:"length "+N,type:"ULONG",value:w[N].length})}return De.fields.push({name:"stringPool",type:"CHARARRAY",value:ee}),De};function Vn(w){return Math.log(w)/Math.log(2)|0}function Sn(w){for(;w.length%4!=0;)w.push(0);for(var N=0,X=0;X<w.length;X+=4)N+=(w[X]<<24)+(w[X+1]<<16)+(w[X+2]<<8)+w[X+3];return N%Math.pow(2,32)}function Ln(w,N,X,ee){return new $t.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==w?w:""},{name:"checkSum",type:"ULONG",value:void 0!==N?N:0},{name:"offset",type:"ULONG",value:void 0!==X?X:0},{name:"length",type:"ULONG",value:void 0!==ee?ee:0}])}function To(w){for(var N=new $t.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),X=(N.tables=w,N.numTables=w.length,Math.pow(2,Vn(N.numTables))),ee=(N.searchRange=16*X,N.entrySelector=Vn(X),N.rangeShift=16*N.numTables-N.searchRange,[]),fe=[],De=N.sizeOf()+Ln().sizeOf()*N.numTables;De%4!=0;)De+=1,fe.push({name:"padding",type:"BYTE",value:0});for(var Re=0;Re<w.length;Re+=1){var Ze=w[Re],bt=(j.argument(4===Ze.tableName.length,"Table name"+Ze.tableName+" is invalid."),Ze.sizeOf()),gt=Ln(Ze.tableName,Sn(Ze.encode()),De,bt);for(ee.push({name:gt.tag+" Table Record",type:"RECORD",value:gt}),fe.push({name:Ze.tableName+" table",type:"RECORD",value:Ze}),De+=bt,j.argument(!isNaN(De),"Something went wrong calculating the offset.");De%4!=0;)De+=1,fe.push({name:"padding",type:"BYTE",value:0})}return ee.sort(function(zt,ve){return zt.value.tag>ve.value.tag?1:-1}),N.fields=N.fields.concat(ee),N.fields=N.fields.concat(fe),N}function eo(w,N,X){for(var ee=0;ee<N.length;ee+=1){var fe=w.charToGlyphIndex(N[ee]);if(0<fe)return w.glyphs.get(fe).getMetrics()}return X}var wo_fontToTable=function(w){for(var N,X=[],ee=[],fe=[],De=[],Re=[],Ze=[],bt=[],gt=0,zt=0,ve=0,ae=0,be=0,ge=0;ge<w.glyphs.length;ge+=1){var Ue=w.glyphs.get(ge),Nt=0|Ue.unicode;if(isNaN(Ue.advanceWidth))throw new Error("Glyph "+Ue.name+" ("+ge+"): advanceWidth is not a number.");if((Nt<N||void 0===N)&&0<Nt&&(N=Nt),gt<Nt&&(gt=Nt),(Nt=Pr_getUnicodeRange(Nt))<32)zt|=1<<Nt;else if(Nt<64)ve|=1<<Nt-32;else if(Nt<96)ae|=1<<Nt-64;else{if(!(Nt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");be|=1<<Nt-96}".notdef"!==Ue.name&&(Nt=Ue.getMetrics(),X.push(Nt.xMin),ee.push(Nt.yMin),fe.push(Nt.xMax),De.push(Nt.yMax),Ze.push(Nt.leftSideBearing),bt.push(Nt.rightSideBearing),Re.push(Ue.advanceWidth))}var Gt,nr={xMin:Math.min.apply(null,X),yMin:Math.min.apply(null,ee),xMax:Math.max.apply(null,fe),yMax:Math.max.apply(null,De),advanceWidthMax:Math.max.apply(null,Re),advanceWidthAvg:function(uo){for(var rs=0,ni=0;ni<uo.length;ni+=1)rs+=uo[ni];return rs/uo.length}(Re),minLeftSideBearing:Math.min.apply(null,Ze),maxLeftSideBearing:Math.max.apply(null,Ze),minRightSideBearing:Math.min.apply(null,bt)},Br=(nr.ascender=w.ascender,nr.descender=w.descender,B_make({flags:3,unitsPerEm:w.unitsPerEm,xMin:nr.xMin,yMin:nr.yMin,xMax:nr.xMax,yMax:nr.yMax,lowestRecPPEM:3,createdTimestamp:w.createdTimestamp})),Lr=A_make({ascender:nr.ascender,descender:nr.descender,advanceWidthMax:nr.advanceWidthMax,minLeftSideBearing:nr.minLeftSideBearing,minRightSideBearing:nr.minRightSideBearing,xMaxExtent:nr.maxLeftSideBearing+(nr.xMax-nr.xMin),numberOfHMetrics:w.glyphs.length}),zr=ie_make(w.glyphs.length),Wr=Pr_make({xAvgCharWidth:Math.round(nr.advanceWidthAvg),usWeightClass:w.tables.os2.usWeightClass,usWidthClass:w.tables.os2.usWidthClass,usFirstCharIndex:N,usLastCharIndex:gt,ulUnicodeRange1:zt,ulUnicodeRange2:ve,ulUnicodeRange3:ae,ulUnicodeRange4:be,fsSelection:w.tables.os2.fsSelection,sTypoAscender:nr.ascender,sTypoDescender:nr.descender,sTypoLineGap:0,usWinAscent:nr.yMax,usWinDescent:Math.abs(nr.yMin),ulCodePageRange1:1,sxHeight:eo(w,"xyvw",{yMax:Math.round(nr.ascender/2)}).yMax,sCapHeight:eo(w,"HIKLEFJMNTZBDPRAGOQSUVWXY",nr).yMax,usDefaultChar:w.hasChar(" ")?32:0,usBreakChar:w.hasChar(" ")?32:0}),Qr=Q_make(w.glyphs),vn=$e_make(w.glyphs),Tn=(Mn=w.getEnglishName("fontFamily"))+" "+($r=w.getEnglishName("fontSubfamily")),qn=(qn=w.getEnglishName("postScriptName"))||Mn.replace(/\s/g,"")+"-"+$r,to={};for(Gt in w.names)to[Gt]=w.names[Gt];to.uniqueID||(to.uniqueID={en:w.getEnglishName("manufacturer")+":"+Tn}),to.postScriptName||(to.postScriptName={en:qn}),to.preferredFamily||(to.preferredFamily=w.names.fontFamily),to.preferredSubfamily||(to.preferredSubfamily=w.names.fontSubfamily);var so=ar_make(to,Kn=[]),Kn=0<Kn.length?H_make(Kn):void 0,fo=tn_make(),Mn=(Tn=O_make(w.glyphs,{version:w.getEnglishName("version"),fullName:Tn,familyName:Mn,weightName:$r,postScriptName:qn,unitsPerEm:w.unitsPerEm,fontBBox:[0,nr.yMin,nr.ascender,nr.advanceWidthMax]}),w.metas&&0<Object.keys(w.metas).length?yn_make(w.metas):void 0),$r=[Br,Lr,zr,Wr,so,vn,fo,Tn,Qr];Kn&&$r.push(Kn),w.tables.gsub&&$r.push(Kr_make(w.tables.gsub)),Mn&&$r.push(Mn);for(var Bn=Sn((qn=To($r)).encode()),$n=qn.fields,lo=!1,Rn=0;Rn<$n.length;Rn+=1)if("head table"===$n[Rn].name){$n[Rn].value.checkSumAdjustment=2981146554-Bn,lo=!0;break}if(lo)return qn;throw new Error("Could not find head table with checkSum to adjust.")};function ko(w,N){for(var X=0,ee=w.length-1;X<=ee;){var fe=X+ee>>>1,De=w[fe].tag;if(De===N)return fe;De<N?X=1+fe:ee=fe-1}return-X-1}function No(w,N){for(var X=0,ee=w.length-1;X<=ee;){var fe=X+ee>>>1,De=w[fe];if(De===N)return fe;De<N?X=1+fe:ee=fe-1}return-X-1}function $o(w,N){for(var X=0,ee=w.length-1;X<=ee;){var fe,De=X+ee>>>1,Re=(fe=w[De]).start;if(Re===N)return fe;Re<N?X=1+De:ee=De-1}if(0<X)return N>(fe=w[X-1]).end?0:fe}function Wn(w,N){this.font=w,this.tableName=N}function Vo(w){Wn.call(this,w,"gpos")}function oo(w){Wn.call(this,w,"gsub")}function cs(w,N,X){for(var ee=w.subtables,fe=0;fe<ee.length;fe++){var De=ee[fe];if(De.substFormat===N)return De}if(X)return ee.push(X),X}function vs(w){for(var N=new ArrayBuffer(w.length),X=new Uint8Array(N),ee=0;ee<w.length;++ee)X[ee]=w[ee];return N}function ye(w,N){if(!w)throw N}function Ve(w,N,X,ee,fe){var De=0<(N&ee)?(De=w.parseByte(),X+(De=N&fe?De:-De)):0<(N&fe)?X:X+w.parseShort();return De}function ut(w,N,X){var ee,fe=new Ht.Parser(N,X);if(w.numberOfContours=fe.parseShort(),w._xMin=fe.parseShort(),w._yMin=fe.parseShort(),w._xMax=fe.parseShort(),w._yMax=fe.parseShort(),0<w.numberOfContours){for(var De=w.endPointIndices=[],Re=0;Re<w.numberOfContours;Re+=1)De.push(fe.parseUShort());w.instructionLength=fe.parseUShort(),w.instructions=[];for(var Ze=0;Ze<w.instructionLength;Ze+=1)w.instructions.push(fe.parseByte());for(var bt=De[De.length-1]+1,gt=[],zt=0;zt<bt;zt+=1)if(ee=fe.parseByte(),gt.push(ee),0<(8&ee))for(var ve=fe.parseByte(),ae=0;ae<ve;ae+=1)gt.push(ee),zt+=1;if(j.argument(gt.length===bt,"Bad flags."),0<De.length){var be,ge=[];if(0<bt){for(var Ue=0;Ue<bt;Ue+=1)(be={}).onCurve=!!(1&(ee=gt[Ue])),be.lastPointOfContour=0<=De.indexOf(Ue),ge.push(be);for(var Nt=0,Gt=0;Gt<bt;Gt+=1)(be=ge[Gt]).x=Ve(fe,ee=gt[Gt],Nt,2,16),Nt=be.x;for(var nr=0,Br=0;Br<bt;Br+=1)(be=ge[Br]).y=Ve(fe,ee=gt[Br],nr,4,32),nr=be.y}w.points=ge}else w.points=[]}else if(0===w.numberOfContours)w.points=[];else{w.isComposite=!0,w.points=[],w.components=[];for(var Lr=!0;Lr;){gt=fe.parseUShort();var zr={glyphIndex:fe.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&gt)?0<(2&gt)?(zr.dx=fe.parseShort(),zr.dy=fe.parseShort()):zr.matchedPoints=[fe.parseUShort(),fe.parseUShort()]:0<(2&gt)?(zr.dx=fe.parseChar(),zr.dy=fe.parseChar()):zr.matchedPoints=[fe.parseByte(),fe.parseByte()],0<(8&gt)?zr.xScale=zr.yScale=fe.parseF2Dot14():0<(64&gt)?(zr.xScale=fe.parseF2Dot14(),zr.yScale=fe.parseF2Dot14()):0<(128&gt)&&(zr.xScale=fe.parseF2Dot14(),zr.scale01=fe.parseF2Dot14(),zr.scale10=fe.parseF2Dot14(),zr.yScale=fe.parseF2Dot14()),w.components.push(zr),Lr=!!(32&gt)}if(256&gt){w.instructionLength=fe.parseUShort(),w.instructions=[];for(var Wr=0;Wr<w.instructionLength;Wr+=1)w.instructions.push(fe.parseByte())}}}function Ee(w,N){for(var X=[],ee=0;ee<w.length;ee+=1){var fe;X.push(fe={x:N.xScale*(fe=w[ee]).x+N.scale01*fe.y+N.dx,y:N.scale10*fe.x+N.yScale*fe.y+N.dy,onCurve:fe.onCurve,lastPointOfContour:fe.lastPointOfContour})}return X}function pt(w){var N=new ue;if(w)for(var X=function(ve){for(var ae=[],be=[],ge=0;ge<ve.length;ge+=1){var Ue=ve[ge];be.push(Ue),Ue.lastPointOfContour&&(ae.push(be),be=[])}return j.argument(0===be.length,"There are still points left in the current contour."),ae}(w),ee=0;ee<X.length;++ee){var fe,De=X[ee],Ze=De[0];(Re=De[De.length-1]).onCurve?N.moveTo(Re.x,Re.y):Ze.onCurve?N.moveTo(Ze.x,Ze.y):N.moveTo((fe={x:.5*(Re.x+Ze.x),y:.5*(Re.y+Ze.y)}).x,fe.y);for(var bt=0;bt<De.length;++bt){var gt,Re=Ze;Ze=De[(bt+1)%De.length],Re.onCurve?N.lineTo(Re.x,Re.y):(gt=Ze,Ze.onCurve||(gt={x:.5*(Re.x+Ze.x),y:.5*(Re.y+Ze.y)}),N.quadraticCurveTo(Re.x,Re.y,gt.x,gt.y))}N.closePath()}return N}function Zt(w,N){if(N.isComposite)for(var X=0;X<N.components.length;X+=1){var fe=w.get((ee=N.components[X]).glyphIndex);if(fe.getPath(),fe.points){var De=void 0;if(void 0===ee.matchedPoints)De=Ee(fe.points,ee);else{if(ee.matchedPoints[0]>N.points.length-1||ee.matchedPoints[1]>fe.points.length-1)throw Error("Matched points out of range in "+N.name);var ee,Re=N.points[ee.matchedPoints[0]],Ze=Ee([Ze=fe.points[ee.matchedPoints[1]]],ee={xScale:ee.xScale,scale01:ee.scale01,scale10:ee.scale10,yScale:ee.yScale,dx:0,dy:0})[0];ee.dx=Re.x-Ze.x,ee.dy=Re.y-Ze.y,De=Ee(fe.points,ee)}N.points=N.points.concat(De)}}return pt(N.points)}(Vo.prototype=Wn.prototype={searchTag:ko,binSearch:No,getTable:function(w){var N=this.font.tables[this.tableName];return!N&&w?this.font.tables[this.tableName]=this.createDefaultTable():N},getScriptNames:function(){var w=this.getTable();return w?w.scripts.map(function(N){return N.tag}):[]},getDefaultScriptName:function(){var w=this.getTable();if(w){for(var N=!1,X=0;X<w.scripts.length;X++){var ee=w.scripts[X].tag;if("DFLT"===ee)return ee;"latn"===ee&&(N=!0)}return N?"latn":void 0}},getScriptTable:function(w,N){var X,ee=this.getTable(N);if(ee)return X=ee.scripts,0<=(ee=ko(ee.scripts,w=w||"DFLT"))?X[ee].script:N?(X.splice(-1-ee,0,N={tag:w,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),N.script):void 0},getLangSysTable:function(fe,N,X){var ee;if(fe=this.getScriptTable(fe,X))return N&&"dflt"!==N&&"DFLT"!==N?0<=(ee=ko(fe.langSysRecords,N))?fe.langSysRecords[ee].langSys:X?(fe.langSysRecords.splice(-1-ee,0,X={tag:N,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),X.langSys):void 0:fe.defaultLangSys},getFeatureTable:function(w,N,X,ee){if(w=this.getLangSysTable(w,N,ee)){for(var fe,De=w.featureIndexes,Re=this.font.tables[this.tableName].features,Ze=0;Ze<De.length;Ze++)if((fe=Re[De[Ze]]).tag===X)return fe.feature;if(ee)return j.assert(0===(N=Re.length)||X>=Re[N-1].tag,"Features must be added in alphabetical order."),Re.push(fe={tag:X,feature:{params:0,lookupListIndexes:[]}}),De.push(N),fe.feature}},getLookupTables:function(De,N,X,ee,fe){var Re=[];if(De=this.getFeatureTable(De,N,X,fe)){for(var Ze,bt=De.lookupListIndexes,gt=this.font.tables[this.tableName].lookups,zt=0;zt<bt.length;zt++)(Ze=gt[bt[zt]]).lookupType===ee&&Re.push(Ze);if(0===Re.length&&fe)return N=gt.length,gt.push(Ze={lookupType:ee,lookupFlag:0,subtables:[],markFilteringSet:void 0}),bt.push(N),[Ze]}return Re},getGlyphClass:function(w,N){switch(w.format){case 1:return w.startGlyph<=N&&N<w.startGlyph+w.classes.length?w.classes[N-w.startGlyph]:0;case 2:var X=$o(w.ranges,N);return X?X.classId:0}},getCoverageIndex:function(w,N){switch(w.format){case 1:var X=No(w.glyphs,N);return 0<=X?X:-1;case 2:return(X=$o(w.ranges,N))?X.index+N-X.start:-1}},expandCoverage:function(w){if(1===w.format)return w.glyphs;for(var N=[],X=w.ranges,ee=0;ee<X.length;ee++)for(var fe=X[ee],Re=fe.end,Ze=fe.start;Ze<=Re;Ze++)N.push(Ze);return N}}).init=function(){var w=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(w)},Vo.prototype.getKerningValue=function(w,N,X){for(var ee=0;ee<w.length;ee++)for(var fe=w[ee].subtables,De=0;De<fe.length;De++){var Re=fe[De],Ze=this.getCoverageIndex(Re.coverage,N);if(!(Ze<0))switch(Re.posFormat){case 1:for(var bt=Re.pairSets[Ze],gt=0;gt<bt.length;gt++){var zt=bt[gt];if(zt.secondGlyph===X)return zt.value1&&zt.value1.xAdvance||0}break;case 2:var ae=this.getGlyphClass(Re.classDef1,N),ve=this.getGlyphClass(Re.classDef2,X);return(ae=Re.classRecords[ae][ve]).value1&&ae.value1.xAdvance||0}}return 0},Vo.prototype.getKerningTables=function(w,N){if(this.font.tables.gpos)return this.getLookupTables(w,N,"kern",2)},(oo.prototype=Wn.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},oo.prototype.getSingle=function(w,N,X){for(var ee=[],fe=this.getLookupTables(N,X,w,1),De=0;De<fe.length;De++)for(var Re=fe[De].subtables,Ze=0;Ze<Re.length;Ze++){var bt=Re[Ze],gt=this.expandCoverage(bt.coverage),zt=void 0;if(1===bt.substFormat){var ve=bt.deltaGlyphId;for(zt=0;zt<gt.length;zt++){var ae=gt[zt];ee.push({sub:ae,by:ae+ve})}}else{var be=bt.substitute;for(zt=0;zt<gt.length;zt++)ee.push({sub:gt[zt],by:be[zt]})}}return ee},oo.prototype.getAlternates=function(w,N,X){for(var ee=[],fe=this.getLookupTables(N,X,w,3),De=0;De<fe.length;De++)for(var Re=fe[De].subtables,Ze=0;Ze<Re.length;Ze++)for(var bt=Re[Ze],gt=this.expandCoverage(bt.coverage),zt=bt.alternateSets,ve=0;ve<gt.length;ve++)ee.push({sub:gt[ve],by:zt[ve]});return ee},oo.prototype.getLigatures=function(w,N,X){for(var ee=[],fe=this.getLookupTables(N,X,w,4),De=0;De<fe.length;De++)for(var Re=fe[De].subtables,Ze=0;Ze<Re.length;Ze++)for(var bt=Re[Ze],gt=this.expandCoverage(bt.coverage),zt=bt.ligatureSets,ve=0;ve<gt.length;ve++)for(var ae=gt[ve],be=zt[ve],ge=0;ge<be.length;ge++){var Ue=be[ge];ee.push({sub:[ae].concat(Ue.components),by:Ue.ligGlyph})}return ee},oo.prototype.addSingle=function(w,N,X,ee){X=cs(this.getLookupTables(X,ee,w,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),j.assert(1===X.coverage.format,"Ligature: unable to modify coverage table format "+X.coverage.format),(w=this.binSearch(X.coverage.glyphs,ee=N.sub))<0&&(X.coverage.glyphs.splice(w=-1-w,0,ee),X.substitute.splice(w,0,0)),X.substitute[w]=N.by},oo.prototype.addAlternate=function(w,N,X,ee){X=cs(this.getLookupTables(X,ee,w,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),j.assert(1===X.coverage.format,"Ligature: unable to modify coverage table format "+X.coverage.format),(w=this.binSearch(X.coverage.glyphs,ee=N.sub))<0&&(X.coverage.glyphs.splice(w=-1-w,0,ee),X.alternateSets.splice(w,0,0)),X.alternateSets[w]=N.by},oo.prototype.addLigature=function(De,bt,Ze,fe){(fe=(Ze=this.getLookupTables(Ze,fe,De,4,!0)[0]).subtables[0])||(Ze.subtables[0]=fe={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),j.assert(1===fe.coverage.format,"Ligature: unable to modify coverage table format "+fe.coverage.format),De=bt.sub[0];var Re=bt.sub.slice(1);if(Ze={ligGlyph:bt.by,components:Re},0<=(bt=this.binSearch(fe.coverage.glyphs,De))){for(var gt=fe.ligatureSets[bt],zt=0;zt<gt.length;zt++)if(function(ve,ae){var be=ve.length;if(be===ae.length){for(var ge=0;ge<be;ge++)if(ve[ge]!==ae[ge])return;return 1}}(gt[zt].components,Re))return;gt.push(Ze)}else fe.coverage.glyphs.splice(bt=-1-bt,0,De),fe.ligatureSets.splice(bt,0,[Ze])},oo.prototype.getFeature=function(w,N,X){if(/ss\d\d/.test(w))return this.getSingle(w,N,X);switch(w){case"aalt":case"salt":return this.getSingle(w,N,X).concat(this.getAlternates(w,N,X));case"dlig":case"liga":case"rlig":return this.getLigatures(w,N,X)}},oo.prototype.add=function(w,N,X,ee){if(/ss\d\d/.test(w))return this.addSingle(w,N,X,ee);switch(w){case"aalt":case"salt":return"number"==typeof N.by?this.addSingle(w,N,X,ee):this.addAlternate(w,N,X,ee);case"dlig":case"liga":case"rlig":return this.addLigature(w,N,X,ee)}};var fn={getPath:pt,parse:function(w,N,X,ee){for(var fe=new Ut.GlyphSet(ee),De=0;De<X.length-1;De+=1){var Re=X[De];fe.push(De,Re!==X[De+1]?Ut.ttfGlyphLoader(ee,De,ut,w,N+Re,Zt):Ut.glyphLoader(ee,De))}return fe}};function Gn(w){this.font=w,this.getCommands=function(N){return fn.getPath(N).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function mo(w){return w}function ts(w){return Math.sign(w)*Math.round(Math.abs(w))}function Yo(w){return Math.sign(w)*Math.round(Math.abs(2*w))/2}function As(w){return Math.sign(w)*(Math.round(Math.abs(w)+.5)-.5)}function Ms(w){return Math.sign(w)*Math.ceil(Math.abs(w))}function Vs(w){return Math.sign(w)*Math.floor(Math.abs(w))}function Is(w){var N=this.srPeriod,X=this.srPhase,ee=1;return w<0&&(w=-w,ee=-1),w+=this.srThreshold-X,w=Math.trunc(w/N)*N,(w+=X)<0?X*ee:w*ee}var Eo={x:1,y:0,axis:"x",distance:function(w,N,X,ee){return(X?w.xo:w.x)-(ee?N.xo:N.x)},interpolate:function(w,N,X,ee){var fe,De,Re,Ze,bt,gt,zt;if(!ee||ee===this)return fe=w.xo-N.xo,De=w.xo-X.xo,bt=N.x-N.xo,gt=X.x-X.xo,0===(zt=(Re=Math.abs(fe))+(Ze=Math.abs(De)))?void(w.x=w.xo+(bt+gt)/2):void(w.x=w.xo+(bt*Ze+gt*Re)/zt);fe=ee.distance(w,N,!0,!0),De=ee.distance(w,X,!0,!0),bt=ee.distance(N,N,!1,!0),gt=ee.distance(X,X,!1,!0),0===(zt=(Re=Math.abs(fe))+(Ze=Math.abs(De)))?Eo.setRelative(w,w,(bt+gt)/2,ee,!0):Eo.setRelative(w,w,(bt*Ze+gt*Re)/zt,ee,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(w,N,X,ee,fe){var De,Re;ee&&ee!==this?(De=fe?N.xo:N.x,Re=fe?N.yo:N.y,w.x=(De+=X*ee.x)+(w.y-(Re+=X*ee.y))/ee.normalSlope):w.x=(fe?N.xo:N.x)+X},slope:0,touch:function(w){w.xTouched=!0},touched:function(w){return w.xTouched},untouch:function(w){w.xTouched=!1}},Ao={x:0,y:1,axis:"y",distance:function(w,N,X,ee){return(X?w.yo:w.y)-(ee?N.yo:N.y)},interpolate:function(w,N,X,ee){var fe,De,Re,Ze,bt,gt,zt;if(!ee||ee===this)return fe=w.yo-N.yo,De=w.yo-X.yo,bt=N.y-N.yo,gt=X.y-X.yo,0===(zt=(Re=Math.abs(fe))+(Ze=Math.abs(De)))?void(w.y=w.yo+(bt+gt)/2):void(w.y=w.yo+(bt*Ze+gt*Re)/zt);fe=ee.distance(w,N,!0,!0),De=ee.distance(w,X,!0,!0),bt=ee.distance(N,N,!1,!0),gt=ee.distance(X,X,!1,!0),0===(zt=(Re=Math.abs(fe))+(Ze=Math.abs(De)))?Ao.setRelative(w,w,(bt+gt)/2,ee,!0):Ao.setRelative(w,w,(bt*Ze+gt*Re)/zt,ee,!0)},normalSlope:0,setRelative:function(w,N,X,ee,fe){var De,Re;ee&&ee!==this?(De=fe?N.xo:N.x,Re=fe?N.yo:N.y,w.y=(Re+=X*ee.y)+ee.normalSlope*(w.x-(De+=X*ee.x))):w.y=(fe?N.yo:N.y)+X},slope:Number.POSITIVE_INFINITY,touch:function(w){w.yTouched=!0},touched:function(w){return w.yTouched},untouch:function(w){w.yTouched=!1}};function Yn(w,N){this.x=w,this.y=N,this.axis=void 0,this.slope=N/w,this.normalSlope=-w/N,Object.freeze(this)}function So(w,N){var X=Math.sqrt(w*w+N*N);return N/=X,1==(w/=X)&&0===N?Eo:0===w&&1===N?Ao:new Yn(w,N)}function Le(w,N,X,ee){this.x=this.xo=Math.round(64*w)/64,this.y=this.yo=Math.round(64*N)/64,this.lastPointOfContour=X,this.onCurve=ee,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Eo),Object.freeze(Ao),Yn.prototype.distance=function(w,N,X,ee){return this.x*Eo.distance(w,N,X,ee)+this.y*Ao.distance(w,N,X,ee)},Yn.prototype.interpolate=function(w,fe,De,ee){var Re=ee.distance(w,fe,!0,!0),Ze=ee.distance(w,De,!0,!0),bt=(fe=ee.distance(fe,fe,!1,!0),De=ee.distance(De,De,!1,!0),(Re=Math.abs(Re))+(Ze=Math.abs(Ze)));this.setRelative(w,w,0===bt?(fe+De)/2:(fe*Ze+De*Re)/bt,ee,!0)},Yn.prototype.setRelative=function(w,De,bt,gt,Ze){var Re=Ze?De.xo:De.x,zt=(Ze=Ze?De.yo:De.y,De=Re+bt*(gt=gt||this).x,Re=Ze+bt*gt.y,Ze=gt.normalSlope,w.y);w.x=((bt=this.slope)*(gt=w.x)-Ze*De+Re-zt)/(bt-Ze),w.y=bt*(w.x-gt)+zt},Yn.prototype.touch=function(w){w.xTouched=!0,w.yTouched=!0},Le.prototype.nextTouched=function(w){for(var N=this.nextPointOnContour;!w.touched(N)&&N!==this;)N=N.nextPointOnContour;return N},Le.prototype.prevTouched=function(w){for(var N=this.prevPointOnContour;!w.touched(N)&&N!==this;)N=N.prevPointOnContour;return N};var tt=Object.freeze(new Le(0,0)),Tt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function kt(w,N){switch(this.env=w,this.stack=[],this.prog=N,w){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Eo,this.round=ts}}function Qt(w){for(var N=w.tZone=new Array(w.gZone.length),X=0;X<N.length;X++)N[X]=new Le(0,0)}function Yt(w,N){var X,ee=w.prog,fe=w.ip,De=1;do{if(88===(X=ee[++fe]))De++;else if(89===X)De--;else if(64===X)fe+=ee[fe+1]+1;else if(65===X)fe+=2*ee[fe+1]+1;else if(176<=X&&X<=183)fe+=X-176+1;else if(184<=X&&X<=191)fe+=2*(X-184+1);else if(N&&1===De&&27===X)break}while(0<De);w.ip=fe}function gr(w,N){y.DEBUG&&console.log(N.step,"SVTCA["+w.axis+"]"),N.fv=N.pv=N.dpv=w}function Sr(w,N){y.DEBUG&&console.log(N.step,"SPVTCA["+w.axis+"]"),N.pv=N.dpv=w}function xr(w,N){y.DEBUG&&console.log(N.step,"SFVTCA["+w.axis+"]"),N.fv=w}function Tr(w,N){var X,ee=(fe=N.stack).pop(),fe=fe.pop(),De=N.z2[ee],Re=N.z1[fe];y.DEBUG&&console.log("SPVTL["+w+"]",ee,fe),ee=w?(X=De.y-Re.y,Re.x-De.x):(X=Re.x-De.x,Re.y-De.y),N.pv=N.dpv=So(X,ee)}function Ur(w,N){var X,ee=(fe=N.stack).pop(),fe=fe.pop(),De=N.z2[ee],Re=N.z1[fe];y.DEBUG&&console.log("SFVTL["+w+"]",ee,fe),ee=w?(X=De.y-Re.y,Re.x-De.x):(X=Re.x-De.x,Re.y-De.y),N.fv=So(X,ee)}function Fr(w){y.DEBUG&&console.log(w.step,"POP[]"),w.stack.pop()}function Gr(w,N){var X=N.stack.pop(),ee=N.z0[X],fe=N.fv,De=N.pv,Re=(y.DEBUG&&console.log(N.step,"MDAP["+w+"]",X),De.distance(ee,tt));w&&(Re=N.round(Re)),fe.setRelative(ee,tt,Re,De),fe.touch(ee),N.rp0=N.rp1=X}function qr(w,N){var X,ee,fe,De=N.z2,Re=De.length-2;y.DEBUG&&console.log(N.step,"IUP["+w.axis+"]");for(var Ze=0;Ze<Re;Ze++)w.touched(X=De[Ze])||(ee=X.prevTouched(w))!==X&&(ee===(fe=X.nextTouched(w))&&w.setRelative(X,X,w.distance(ee,ee,!1,!0),w,!0),w.interpolate(X,ee,fe,w))}function pn(w,N){for(var X=N.stack,fe=(w?N.z0:N.z1)[w?N.rp1:N.rp2],De=N.fv,Re=N.pv,Ze=N.loop,bt=N.z2;Ze--;){var gt=X.pop(),zt=bt[gt],ve=Re.distance(fe,fe,!1,!0);De.setRelative(zt,zt,ve,Re),De.touch(zt),y.DEBUG&&console.log(N.step,(1<N.loop?"loop "+(N.loop-Ze)+": ":"")+"SHP["+(w?"rp1":"rp2")+"]",gt)}N.loop=1}function bn(w,N){for(var ee=(w?N.z0:N.z1)[w?N.rp1:N.rp2],fe=N.fv,De=N.pv,Re=N.stack.pop(),Ze=N.z2[N.contours[Re]],bt=Ze,gt=(y.DEBUG&&console.log(N.step,"SHC["+w+"]",Re),De.distance(ee,ee,!1,!0));bt!==ee&&fe.setRelative(bt,bt,gt,De),(bt=bt.nextPointOnContour)!==Ze;);}function _n(w,N){var X,ee,fe=(w?N.z0:N.z1)[fe=w?N.rp1:N.rp2],De=N.fv,Re=N.pv,Ze=(Ze=N.stack).pop();switch(y.DEBUG&&console.log(N.step,"SHZ["+w+"]",Ze),Ze){case 0:X=N.tZone;break;case 1:X=N.gZone;break;default:throw new Error("Invalid zone")}for(var bt=Re.distance(fe,fe,!1,!0),gt=X.length-2,zt=0;zt<gt;zt++)De.setRelative(ee=X[zt],ee,bt,Re)}function Fn(w,N){var X=(ee=N.stack).pop()/64,ee=ee.pop(),fe=N.z1[ee],Re=N.fv;Re.setRelative(fe,N.z0[N.rp0],X,N.pv),Re.touch(fe),y.DEBUG&&console.log(N.step,"MSIRP["+w+"]",X,ee),N.rp1=N.rp0,N.rp2=ee,w&&(N.rp0=ee)}function kn(w,N){var Ze=(X=N.stack).pop(),X=X.pop(),ee=N.z0[X],fe=N.fv,De=N.pv,Re=N.cvt[Ze];y.DEBUG&&console.log(N.step,"MIAP["+w+"]",Ze,"(",Re,")",X),Ze=De.distance(ee,tt),w&&(Math.abs(Ze-Re)<N.cvCutIn&&(Ze=Re),Ze=N.round(Ze)),fe.setRelative(ee,tt,Ze,De),0===N.zp0&&(ee.xo=ee.x,ee.yo=ee.y),fe.touch(ee),N.rp0=N.rp1=X}function Rr(w,N){var X=N.stack,ee=X.pop(),fe=N.z2[ee];y.DEBUG&&console.log(N.step,"GC["+w+"]",ee),X.push(64*N.dpv.distance(fe,tt,w,!1))}function go(w,N){var X=(ee=N.stack).pop(),ee=ee.pop(),De=N.dpv.distance(De=N.z0[ee],N.z1[X],w,w);y.DEBUG&&console.log(N.step,"MD["+w+"]",X,ee,"->",De),N.stack.push(Math.round(64*De))}function Lo(w,N){var X=N.stack,ee=X.pop(),fe=N.fv,De=N.pv,Re=N.ppem,Ze=N.deltaBase+16*(w-1),bt=N.deltaShift,gt=N.z0;y.DEBUG&&console.log(N.step,"DELTAP["+w+"]",ee,X);for(var zt=0;zt<ee;zt++){var ve=X.pop(),ae=X.pop();Ze+((240&ae)>>4)===Re&&(0<=(ae=(15&ae)-8)&&ae++,y.DEBUG&&console.log(N.step,"DELTAPFIX",ve,"by",ae*bt),fe.setRelative(ve=gt[ve],ve,ae*bt,De))}}function Pn(w,N){var X=N.stack,ee=X.pop();y.DEBUG&&console.log(N.step,"ROUND[]"),X.push(64*N.round(ee/64))}function js(w,N){var X=N.stack,ee=X.pop(),fe=N.ppem,De=N.deltaBase+16*(w-1),Re=N.deltaShift;y.DEBUG&&console.log(N.step,"DELTAC["+w+"]",ee,X);for(var Ze=0;Ze<ee;Ze++){var bt=X.pop(),gt=X.pop();De+((240&gt)>>4)===fe&&(0<=(gt=(15&gt)-8)&&gt++,gt*=Re,y.DEBUG&&console.log(N.step,"DELTACFIX",bt,"by",gt),N.cvt[bt]+=gt)}}function yi(w,N){var X,ee=(fe=N.stack).pop(),fe=fe.pop(),De=N.z2[ee],Re=N.z1[fe];y.DEBUG&&console.log(N.step,"SDPVTL["+w+"]",ee,fe),ee=w?(X=De.y-Re.y,Re.x-De.x):(X=Re.x-De.x,Re.y-De.y),N.dpv=So(X,ee)}function ho(w,N){var X=N.stack,ee=N.prog,fe=N.ip;y.DEBUG&&console.log(N.step,"PUSHB["+w+"]");for(var De=0;De<w;De++)X.push(ee[++fe]);N.ip=fe}function Un(w,N){var X=N.ip,ee=N.prog,fe=N.stack;y.DEBUG&&console.log(N.ip,"PUSHW["+w+"]");for(var De=0;De<w;De++){var Re=ee[++X]<<8|ee[++X];32768&Re&&(Re=-(1+(65535^Re))),fe.push(Re)}N.ip=X}function Vr(w,N,X,ee,fe,De){var Re,Ze,zt,gt=De.stack,bt=w&&gt.pop(),ve=(gt=gt.pop(),De.z1[gt]),ae=De.minDis,be=De.fv,ge=De.dpv,Ue=Re=ge.distance(ve,zt=De.z0[zt=De.rp0],!0,!0),Nt=0<=Ue?1:-1;Ue=Math.abs(Ue),w&&(Ze=De.cvt[bt],ee&&Math.abs(Ue-Ze)<De.cvCutIn&&(Ue=Ze)),X&&Ue<ae&&(Ue=ae),ee&&(Ue=De.round(Ue)),be.setRelative(ve,zt,Nt*Ue,ge),be.touch(ve),y.DEBUG&&console.log(De.step,(w?"MIRP[":"MDRP[")+(N?"M":"m")+(X?">":"_")+(ee?"R":"_")+(0===fe?"Gr":1===fe?"Bl":2===fe?"Wh":"")+"]",w?bt+"("+De.cvt[bt]+","+Ze+")":"",gt,"(d =",Re,"->",Nt*Ue,")"),De.rp1=De.rp0,De.rp2=gt,N&&(De.rp0=gt)}Gn.prototype.exec=function(w,N){if("number"!=typeof N)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var X=this.font,ee=this._prepState;if(!ee||ee.ppem!==N){var fe=this._fpgmState;if(!fe){kt.prototype=Tt,(fe=this._fpgmState=new kt("fpgm",X.tables.fpgm)).funcs=[],fe.font=X,y.DEBUG&&(console.log("---EXEC FPGM---"),fe.step=-1);try{Co(fe)}catch(gt){return console.log("Hinting error in FPGM:"+gt),void(this._errorState=3)}}kt.prototype=fe,(ee=this._prepState=new kt("prep",X.tables.prep)).ppem=N;var De=X.tables.cvt;if(De)for(var Re=ee.cvt=new Array(De.length),Ze=N/X.unitsPerEm,bt=0;bt<De.length;bt++)Re[bt]=De[bt]*Ze;else ee.cvt=[];y.DEBUG&&(console.log("---EXEC PREP---"),ee.step=-1);try{Co(ee)}catch(gt){this._errorState<2&&console.log("Hinting error in PREP:"+gt),this._errorState=2}}if(!(1<this._errorState))try{return Go(w,ee)}catch(gt){this._errorState<1&&(console.log("Hinting error:"+gt),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Go=function(w,N){var X=N.ppem/N.font.unitsPerEm,ee=X,fe=w.components;if(kt.prototype=N,fe){for(var De=N.font,Re=[],Ze=[],bt=0;bt<fe.length;bt++){var gt=fe[bt],zt=De.glyphs.get(gt.glyphIndex),ve=new kt("glyf",zt.instructions);y.DEBUG&&(console.log("---EXEC COMP "+bt+"---"),ve.step=-1),Jo(zt,ve,X,ee);for(var ae=Math.round(gt.dx*X),be=Math.round(gt.dy*ee),ge=ve.gZone,Ue=ve.contours,Nt=0;Nt<ge.length;Nt++){var Gt=ge[Nt];Gt.xTouched=Gt.yTouched=!1,Gt.xo=Gt.x=Gt.x+ae,Gt.yo=Gt.y=Gt.y+be}var nr=Re.length;Re.push.apply(Re,ge);for(var Br=0;Br<Ue.length;Br++)Ze.push(Ue[Br]+nr)}w.instructions&&!ve.inhibitGridFit&&((ve=new kt("glyf",w.instructions)).gZone=ve.z0=ve.z1=ve.z2=Re,ve.contours=Ze,Re.push(new Le(0,0),new Le(Math.round(w.advanceWidth*X),0)),y.DEBUG&&(console.log("---EXEC COMPOSITE---"),ve.step=-1),Co(ve),Re.length-=2)}else ve=new kt("glyf",w.instructions),y.DEBUG&&(console.log("---EXEC GLYPH---"),ve.step=-1),Jo(w,ve,X,ee),Re=ve.gZone;return Re},Jo=function(w,N,X,ee){for(var fe,De,Ze=w.points||[],bt=Ze.length,gt=N.gZone=N.z0=N.z1=N.z2=[],zt=N.contours=[],ve=0;ve<bt;ve++)gt[ve]=new Le((fe=Ze[ve]).x*X,fe.y*ee,fe.lastPointOfContour,fe.onCurve);for(var ae=0;ae<bt;ae++)fe=gt[ae],De||(De=fe,zt.push(ae)),fe.lastPointOfContour?((fe.nextPointOnContour=De).prevPointOnContour=fe,De=void 0):(fe.nextPointOnContour=gt[ae+1]).prevPointOnContour=fe;if(!N.inhibitGridFit){if(y.DEBUG){console.log("PROCESSING GLYPH",N.stack);for(var be=0;be<bt;be++)console.log(be,gt[be].x,gt[be].y)}if(gt.push(new Le(0,0),new Le(Math.round(w.advanceWidth*X),0)),Co(N),gt.length-=2,y.DEBUG){console.log("FINISHED GLYPH",N.stack);for(var ge=0;ge<bt;ge++)console.log(ge,gt[ge].x,gt[ge].y)}}},Co=function(w){var N=w.prog;if(N){var X,ee=N.length;for(w.ip=0;w.ip<ee;w.ip++){if(y.DEBUG&&w.step++,!(X=Os[N[w.ip]]))throw new Error("unknown instruction: 0x"+Number(N[w.ip]).toString(16));X(w)}}},Os=[gr.bind(void 0,Ao),gr.bind(void 0,Eo),Sr.bind(void 0,Ao),Sr.bind(void 0,Eo),xr.bind(void 0,Ao),xr.bind(void 0,Eo),Tr.bind(void 0,0),Tr.bind(void 0,1),Ur.bind(void 0,0),Ur.bind(void 0,1),function(w){var N=(X=w.stack).pop(),X=X.pop();y.DEBUG&&console.log(w.step,"SPVFS[]",N,X),w.pv=w.dpv=So(X,N)},function(w){var N=(X=w.stack).pop(),X=X.pop();y.DEBUG&&console.log(w.step,"SPVFS[]",N,X),w.fv=So(X,N)},function(w){var N=w.stack,X=w.pv;y.DEBUG&&console.log(w.step,"GPV[]"),N.push(16384*X.x),N.push(16384*X.y)},function(w){var N=w.stack,X=w.fv;y.DEBUG&&console.log(w.step,"GFV[]"),N.push(16384*X.x),N.push(16384*X.y)},function(w){w.fv=w.pv,y.DEBUG&&console.log(w.step,"SFVTPV[]")},function(N){var X=(Re=N.stack).pop(),ee=Re.pop(),fe=Re.pop(),De=Re.pop(),Re=Re.pop(),Ze=(bt=N.z0)[X],bt=bt[ee],gt=(zt=N.z1)[fe],zt=zt[De],ve=(N=N.z2[Re],y.DEBUG&&console.log("ISECT[], ",X,ee,fe,De,Re),X=Ze.x,ee=Ze.y,Ze=gt.y,X*(De=bt.y)-ee*(fe=bt.x)),ae=(Re=gt.x)*(gt=zt.y)-Ze*(bt=zt.x);N.x=(ve*(Re-bt)-ae*(X-fe))/(zt=(X-fe)*(Ze-gt)-(ee-De)*(Re-bt)),N.y=(ve*(Ze-gt)-ae*(ee-De))/zt},function(w){w.rp0=w.stack.pop(),y.DEBUG&&console.log(w.step,"SRP0[]",w.rp0)},function(w){w.rp1=w.stack.pop(),y.DEBUG&&console.log(w.step,"SRP1[]",w.rp1)},function(w){w.rp2=w.stack.pop(),y.DEBUG&&console.log(w.step,"SRP2[]",w.rp2)},function(w){var N=w.stack.pop();switch(y.DEBUG&&console.log(w.step,"SZP0[]",N),w.zp0=N){case 0:w.tZone||Qt(w),w.z0=w.tZone;break;case 1:w.z0=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var N=w.stack.pop();switch(y.DEBUG&&console.log(w.step,"SZP1[]",N),w.zp1=N){case 0:w.tZone||Qt(w),w.z1=w.tZone;break;case 1:w.z1=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var N=w.stack.pop();switch(y.DEBUG&&console.log(w.step,"SZP2[]",N),w.zp2=N){case 0:w.tZone||Qt(w),w.z2=w.tZone;break;case 1:w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var N=w.stack.pop();switch(y.DEBUG&&console.log(w.step,"SZPS[]",N),w.zp0=w.zp1=w.zp2=N){case 0:w.tZone||Qt(w),w.z0=w.z1=w.z2=w.tZone;break;case 1:w.z0=w.z1=w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){w.loop=w.stack.pop(),y.DEBUG&&console.log(w.step,"SLOOP[]",w.loop)},function(w){y.DEBUG&&console.log(w.step,"RTG[]"),w.round=ts},function(w){y.DEBUG&&console.log(w.step,"RTHG[]"),w.round=As},function(w){var N=w.stack.pop();y.DEBUG&&console.log(w.step,"SMD[]",N),w.minDis=N/64},function(w){y.DEBUG&&console.log(w.step,"ELSE[]"),Yt(w,!1)},function(w){var N=w.stack.pop();y.DEBUG&&console.log(w.step,"JMPR[]",N),w.ip+=N-1},function(w){var N=w.stack.pop();y.DEBUG&&console.log(w.step,"SCVTCI[]",N),w.cvCutIn=N/64},void 0,void 0,function(w){var N=w.stack;y.DEBUG&&console.log(w.step,"DUP[]"),N.push(N[N.length-1])},Fr,function(w){y.DEBUG&&console.log(w.step,"CLEAR[]"),w.stack.length=0},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"SWAP[]"),N.push(X),N.push(ee)},function(w){var N=w.stack;y.DEBUG&&console.log(w.step,"DEPTH[]"),N.push(N.length)},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"CINDEX[]",X),N.push(N[N.length-X])},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"MINDEX[]",X),N.push(N.splice(N.length-X,1)[0])},void 0,void 0,void 0,function(w){var N=(ee=w.stack).pop(),X=ee.pop(),ee=(y.DEBUG&&console.log(w.step,"LOOPCALL[]",N,X),w.ip),fe=w.prog;w.prog=w.funcs[N];for(var De=0;De<X;De++)Co(w),y.DEBUG&&console.log(++w.step,De+1<X?"next loopcall":"done loopcall",De);w.ip=ee,w.prog=fe},function(w){var N=w.stack.pop(),X=(y.DEBUG&&console.log(w.step,"CALL[]",N),w.ip),ee=w.prog;w.prog=w.funcs[N],Co(w),w.ip=X,w.prog=ee,y.DEBUG&&console.log(++w.step,"returning from",N)},function(w){if("fpgm"!==w.env)throw new Error("FDEF not allowed here");var N=w.prog,X=w.ip,ee=(ee=w.stack).pop(),fe=X;for(y.DEBUG&&console.log(w.step,"FDEF[]",ee);45!==N[++X];);w.ip=X,w.funcs[ee]=N.slice(fe+1,X)},void 0,Gr.bind(void 0,0),Gr.bind(void 0,1),qr.bind(void 0,Ao),qr.bind(void 0,Eo),pn.bind(void 0,0),pn.bind(void 0,1),bn.bind(void 0,0),bn.bind(void 0,1),_n.bind(void 0,0),_n.bind(void 0,1),function(w){for(var N=w.stack,X=w.loop,ee=w.fv,fe=N.pop()/64,De=w.z2;X--;){var Re=N.pop(),Ze=De[Re];y.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-X)+": ":"")+"SHPIX[]",Re,fe),ee.setRelative(Ze,Ze,fe),ee.touch(Ze)}w.loop=1},function(w){for(var N=w.stack,X=w.rp1,ee=w.rp2,fe=w.loop,De=w.z0[X],Re=w.z1[ee],Ze=w.fv,bt=w.dpv,gt=w.z2;fe--;){var zt=N.pop(),ve=gt[zt];y.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-fe)+": ":"")+"IP[]",zt,X,"<->",ee),Ze.interpolate(ve,De,Re,bt),Ze.touch(ve)}w.loop=1},Fn.bind(void 0,0),Fn.bind(void 0,1),function(w){for(var N=w.stack,ee=w.z0[w.rp0],fe=w.loop,De=w.fv,Re=w.pv,Ze=w.z1;fe--;){var bt=N.pop(),gt=Ze[bt];y.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-fe)+": ":"")+"ALIGNRP[]",bt),De.setRelative(gt,ee,0,Re),De.touch(gt)}w.loop=1},function(w){y.DEBUG&&console.log(w.step,"RTDG[]"),w.round=Yo},kn.bind(void 0,0),kn.bind(void 0,1),function(w){var N=w.prog,X=w.ip,ee=w.stack,fe=N[++X];y.DEBUG&&console.log(w.step,"NPUSHB[]",fe);for(var De=0;De<fe;De++)ee.push(N[++X]);w.ip=X},function(w){var N=w.ip,X=w.prog,ee=w.stack,fe=X[++N];y.DEBUG&&console.log(w.step,"NPUSHW[]",fe);for(var De=0;De<fe;De++){var Re=X[++N]<<8|X[++N];32768&Re&&(Re=-(1+(65535^Re))),ee.push(Re)}w.ip=N},function(w){var ee=w.stack,N=(N=w.store)||(w.store=[]),X=ee.pop();ee=ee.pop(),y.DEBUG&&console.log(w.step,"WS",X,ee),N[ee]=X},function(fe){var N=fe.stack,X=fe.store,ee=N.pop();y.DEBUG&&console.log(fe.step,"RS",ee),N.push(fe=X&&X[ee]||0)},function(w){var N=(X=w.stack).pop(),X=X.pop();y.DEBUG&&console.log(w.step,"WCVTP",N,X),w.cvt[X]=N/64},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"RCVT",X),N.push(64*w.cvt[X])},Rr.bind(void 0,0),Rr.bind(void 0,1),void 0,go.bind(void 0,0),go.bind(void 0,1),function(w){y.DEBUG&&console.log(w.step,"MPPEM[]"),w.stack.push(w.ppem)},void 0,function(w){y.DEBUG&&console.log(w.step,"FLIPON[]"),w.autoFlip=!0},void 0,void 0,function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"LT[]",X,ee),N.push(ee<X?1:0)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"LTEQ[]",X,ee),N.push(ee<=X?1:0)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"GT[]",X,ee),N.push(X<ee?1:0)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"GTEQ[]",X,ee),N.push(X<=ee?1:0)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"EQ[]",X,ee),N.push(X===ee?1:0)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"NEQ[]",X,ee),N.push(X!==ee?1:0)},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"ODD[]",X),N.push(Math.trunc(X)%2?1:0)},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"EVEN[]",X),N.push(Math.trunc(X)%2?0:1)},function(w){var N=w.stack.pop();y.DEBUG&&console.log(w.step,"IF[]",N),N||(Yt(w,!0),y.DEBUG&&console.log(w.step,"EIF[]"))},function(w){y.DEBUG&&console.log(w.step,"EIF[]")},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"AND[]",X,ee),N.push(X&&ee?1:0)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"OR[]",X,ee),N.push(X||ee?1:0)},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"NOT[]",X),N.push(X?0:1)},Lo.bind(void 0,1),function(w){var N=w.stack.pop();y.DEBUG&&console.log(w.step,"SDB[]",N),w.deltaBase=N},function(w){var N=w.stack.pop();y.DEBUG&&console.log(w.step,"SDS[]",N),w.deltaShift=Math.pow(.5,N)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"ADD[]",X,ee),N.push(ee+X)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"SUB[]",X,ee),N.push(ee-X)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"DIV[]",X,ee),N.push(64*ee/X)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"MUL[]",X,ee),N.push(ee*X/64)},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"ABS[]",X),N.push(Math.abs(X))},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"NEG[]",X),N.push(-X)},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"FLOOR[]",X),N.push(64*Math.floor(X/64))},function(w){var N=w.stack,X=N.pop();y.DEBUG&&console.log(w.step,"CEILING[]",X),N.push(64*Math.ceil(X/64))},Pn.bind(void 0,0),Pn.bind(void 0,1),Pn.bind(void 0,2),Pn.bind(void 0,3),void 0,void 0,void 0,void 0,function(w){var N=(X=w.stack).pop(),X=X.pop();y.DEBUG&&console.log(w.step,"WCVTF[]",N,X),w.cvt[X]=N*w.ppem/w.font.unitsPerEm},Lo.bind(void 0,2),Lo.bind(void 0,3),js.bind(void 0,1),js.bind(void 0,2),js.bind(void 0,3),function(w){var N,X=w.stack.pop();switch(y.DEBUG&&console.log(w.step,"SROUND[]",X),w.round=Is,192&X){case 0:N=.5;break;case 64:N=1;break;case 128:N=2;break;default:throw new Error("invalid SROUND value")}switch(w.srPeriod=N,48&X){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*N;break;case 32:w.srPhase=.5*N;break;case 48:w.srPhase=.75*N;break;default:throw new Error("invalid SROUND value")}w.srThreshold=0==(X&=15)?0:(X/8-.5)*N},function(w){var N,X=w.stack.pop();switch(y.DEBUG&&console.log(w.step,"S45ROUND[]",X),w.round=Is,192&X){case 0:N=Math.sqrt(2)/2;break;case 64:N=Math.sqrt(2);break;case 128:N=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(w.srPeriod=N,48&X){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*N;break;case 32:w.srPhase=.5*N;break;case 48:w.srPhase=.75*N;break;default:throw new Error("invalid S45ROUND value")}w.srThreshold=0==(X&=15)?0:(X/8-.5)*N},void 0,void 0,function(w){y.DEBUG&&console.log(w.step,"ROFF[]"),w.round=mo},void 0,function(w){y.DEBUG&&console.log(w.step,"RUTG[]"),w.round=Ms},function(w){y.DEBUG&&console.log(w.step,"RDTG[]"),w.round=Vs},Fr,Fr,void 0,void 0,void 0,void 0,void 0,function(w){var N=w.stack.pop();y.DEBUG&&console.log(w.step,"SCANCTRL[]",N)},yi.bind(void 0,0),yi.bind(void 0,1),function(w){var N=w.stack,X=N.pop(),ee=0;y.DEBUG&&console.log(w.step,"GETINFO[]",X),1&X&&(ee=35),32&X&&(ee|=4096),N.push(ee)},void 0,function(w){var N=w.stack,X=N.pop(),ee=N.pop(),fe=N.pop();y.DEBUG&&console.log(w.step,"ROLL[]"),N.push(ee),N.push(X),N.push(fe)},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"MAX[]",X,ee),N.push(Math.max(ee,X))},function(w){var N=w.stack,X=N.pop(),ee=N.pop();y.DEBUG&&console.log(w.step,"MIN[]",X,ee),N.push(Math.min(ee,X))},function(w){var N=w.stack.pop();y.DEBUG&&console.log(w.step,"SCANTYPE[]",N)},function(w){var N=w.stack.pop(),X=w.stack.pop();switch(y.DEBUG&&console.log(w.step,"INSTCTRL[]",N,X),N){case 1:return void(w.inhibitGridFit=!!X);case 2:return void(w.ignoreCvt=!!X);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ho.bind(void 0,1),ho.bind(void 0,2),ho.bind(void 0,3),ho.bind(void 0,4),ho.bind(void 0,5),ho.bind(void 0,6),ho.bind(void 0,7),ho.bind(void 0,8),Un.bind(void 0,1),Un.bind(void 0,2),Un.bind(void 0,3),Un.bind(void 0,4),Un.bind(void 0,5),Un.bind(void 0,6),Un.bind(void 0,7),Un.bind(void 0,8),Vr.bind(void 0,0,0,0,0,0),Vr.bind(void 0,0,0,0,0,1),Vr.bind(void 0,0,0,0,0,2),Vr.bind(void 0,0,0,0,0,3),Vr.bind(void 0,0,0,0,1,0),Vr.bind(void 0,0,0,0,1,1),Vr.bind(void 0,0,0,0,1,2),Vr.bind(void 0,0,0,0,1,3),Vr.bind(void 0,0,0,1,0,0),Vr.bind(void 0,0,0,1,0,1),Vr.bind(void 0,0,0,1,0,2),Vr.bind(void 0,0,0,1,0,3),Vr.bind(void 0,0,0,1,1,0),Vr.bind(void 0,0,0,1,1,1),Vr.bind(void 0,0,0,1,1,2),Vr.bind(void 0,0,0,1,1,3),Vr.bind(void 0,0,1,0,0,0),Vr.bind(void 0,0,1,0,0,1),Vr.bind(void 0,0,1,0,0,2),Vr.bind(void 0,0,1,0,0,3),Vr.bind(void 0,0,1,0,1,0),Vr.bind(void 0,0,1,0,1,1),Vr.bind(void 0,0,1,0,1,2),Vr.bind(void 0,0,1,0,1,3),Vr.bind(void 0,0,1,1,0,0),Vr.bind(void 0,0,1,1,0,1),Vr.bind(void 0,0,1,1,0,2),Vr.bind(void 0,0,1,1,0,3),Vr.bind(void 0,0,1,1,1,0),Vr.bind(void 0,0,1,1,1,1),Vr.bind(void 0,0,1,1,1,2),Vr.bind(void 0,0,1,1,1,3),Vr.bind(void 0,1,0,0,0,0),Vr.bind(void 0,1,0,0,0,1),Vr.bind(void 0,1,0,0,0,2),Vr.bind(void 0,1,0,0,0,3),Vr.bind(void 0,1,0,0,1,0),Vr.bind(void 0,1,0,0,1,1),Vr.bind(void 0,1,0,0,1,2),Vr.bind(void 0,1,0,0,1,3),Vr.bind(void 0,1,0,1,0,0),Vr.bind(void 0,1,0,1,0,1),Vr.bind(void 0,1,0,1,0,2),Vr.bind(void 0,1,0,1,0,3),Vr.bind(void 0,1,0,1,1,0),Vr.bind(void 0,1,0,1,1,1),Vr.bind(void 0,1,0,1,1,2),Vr.bind(void 0,1,0,1,1,3),Vr.bind(void 0,1,1,0,0,0),Vr.bind(void 0,1,1,0,0,1),Vr.bind(void 0,1,1,0,0,2),Vr.bind(void 0,1,1,0,0,3),Vr.bind(void 0,1,1,0,1,0),Vr.bind(void 0,1,1,0,1,1),Vr.bind(void 0,1,1,0,1,2),Vr.bind(void 0,1,1,0,1,3),Vr.bind(void 0,1,1,1,0,0),Vr.bind(void 0,1,1,1,0,1),Vr.bind(void 0,1,1,1,0,2),Vr.bind(void 0,1,1,1,0,3),Vr.bind(void 0,1,1,1,1,0),Vr.bind(void 0,1,1,1,1,1),Vr.bind(void 0,1,1,1,1,2),Vr.bind(void 0,1,1,1,1,3)],bs=Array.from||function(w){return w.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Cn(w){(w=w||{}).empty||(ye(w.familyName,"When creating a new Font object, familyName is required."),ye(w.styleName,"When creating a new Font object, styleName is required."),ye(w.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ye(w.ascender,"When creating a new Font object, ascender is required."),ye(w.descender,"When creating a new Font object, descender is required."),ye(w.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:w.familyName||" "},fontSubfamily:{en:w.styleName||" "},fullName:{en:w.fullName||w.familyName+" "+w.styleName},postScriptName:{en:w.postScriptName||(w.familyName+w.styleName).replace(/\s/g,"")},designer:{en:w.designer||" "},designerURL:{en:w.designerURL||" "},manufacturer:{en:w.manufacturer||" "},manufacturerURL:{en:w.manufacturerURL||" "},license:{en:w.license||" "},licenseURL:{en:w.licenseURL||" "},version:{en:w.version||"Version 0.1"},description:{en:w.description||" "},copyright:{en:w.copyright||" "},trademark:{en:w.trademark||" "}},this.unitsPerEm=w.unitsPerEm||1e3,this.ascender=w.ascender,this.descender=w.descender,this.createdTimestamp=w.createdTimestamp,this.tables={os2:{usWeightClass:w.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:w.widthClass||this.usWidthClasses.MEDIUM,fsSelection:w.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ut.GlyphSet(this,w.glyphs||[]),this.encoding=new Ot(this),this.position=new Vo(this),this.substitution=new oo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Gn(this):void 0)}})}Cn.prototype.hasChar=function(w){return null!==this.encoding.charToGlyphIndex(w)},Cn.prototype.charToGlyphIndex=function(w){return this.encoding.charToGlyphIndex(w)},Cn.prototype.charToGlyph=function(w){return w=this.charToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},Cn.prototype.stringToGlyphs=function(w,N){N=N||this.defaultRenderOptions;for(var X=bs(w),ee=[],fe=0;fe<X.length;fe+=1)ee.push(this.charToGlyphIndex(X[fe]));var Re=ee.length;if(N.features){w=N.script||this.substitution.getDefaultScriptName();var Ze=[];N.features.liga&&(Ze=Ze.concat(this.substitution.getFeature("liga",w,N.language))),N.features.rlig&&(Ze=Ze.concat(this.substitution.getFeature("rlig",w,N.language)));for(var bt=0;bt<Re;bt+=1)for(var gt=0;gt<Ze.length;gt++){for(var zt=Ze[gt],ve=zt.sub,ae=ve.length,be=0;be<ae&&ve[be]===ee[bt+be];)be++;be===ae&&(ee.splice(bt,ae,zt.by),Re=Re-ae+1)}}for(var ge=new Array(Re),Ue=this.glyphs.get(0),Nt=0;Nt<Re;Nt+=1)ge[Nt]=this.glyphs.get(ee[Nt])||Ue;return ge},Cn.prototype.nameToGlyphIndex=function(w){return this.glyphNames.nameToGlyphIndex(w)},Cn.prototype.nameToGlyph=function(w){return w=this.nameToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},Cn.prototype.glyphIndexToName=function(w){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(w):""},Cn.prototype.getKerningValue=function(w,N){w=w.index||w,N=N.index||N;var X=this.position.defaultKerningTables;return X?this.position.getKerningValue(X,w,N):this.kerningPairs[w+","+N]||0},Cn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Cn.prototype.forEachGlyph=function(w,N,X,ee,fe,De){N=void 0!==N?N:0,X=void 0!==X?X:0;var Re,Ze=1/this.unitsPerEm*(ee=void 0!==ee?ee:72),bt=this.stringToGlyphs(w,fe=fe||this.defaultRenderOptions);fe.kerning&&(w=fe.script||this.position.getDefaultScriptName(),Re=this.position.getKerningTables(w,fe.language));for(var gt=0;gt<bt.length;gt+=1){var zt=bt[gt];De.call(this,zt,N,X,ee,fe),zt.advanceWidth&&(N+=zt.advanceWidth*Ze),fe.kerning&&gt<bt.length-1&&(N+=(Re?this.position.getKerningValue(Re,zt.index,bt[gt+1].index):this.getKerningValue(zt,bt[gt+1]))*Ze),fe.letterSpacing?N+=fe.letterSpacing*ee:fe.tracking&&(N+=fe.tracking/1e3*ee)}return N},Cn.prototype.getPath=function(w,N,X,ee,fe){var De=new ue;return this.forEachGlyph(w,N,X,ee,fe,function(Re,Ze,bt,gt){Re=Re.getPath(Ze,bt,gt,fe,this),De.extend(Re)}),De},Cn.prototype.getPaths=function(w,N,X,ee,fe){var De=[];return this.forEachGlyph(w,N,X,ee,fe,function(Re,Ze,bt,gt){Re=Re.getPath(Ze,bt,gt,fe,this),De.push(Re)}),De},Cn.prototype.getAdvanceWidth=function(w,N,X){return this.forEachGlyph(w,0,0,N,X,function(){})},Cn.prototype.draw=function(w,N,X,ee,fe,De){this.getPath(N,X,ee,fe,De).draw(w)},Cn.prototype.drawPoints=function(w,N,X,ee,fe,De){this.forEachGlyph(N,X,ee,fe,De,function(Re,Ze,bt,gt){Re.drawPoints(w,Ze,bt,gt)})},Cn.prototype.drawMetrics=function(w,N,X,ee,fe,De){this.forEachGlyph(N,X,ee,fe,De,function(Re,Ze,bt,gt){Re.drawMetrics(w,Ze,bt,gt)})},Cn.prototype.getEnglishName=function(w){if(w=this.names[w])return w.en},Cn.prototype.validate=function(){var w=this;function N(X){(X=w.getEnglishName(X))&&X.trim()}N("fontFamily"),N("weightName"),N("manufacturer"),N("copyright"),N("version")},Cn.prototype.toTables=function(){return wo_fontToTable(this)},Cn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Cn.prototype.toArrayBuffer=function(){for(var w=this.toTables().encode(),N=new ArrayBuffer(w.length),X=new Uint8Array(N),ee=0;ee<w.length;ee++)X[ee]=w[ee];return N},Cn.prototype.download=function(w){var N=this.getEnglishName("fontFamily"),X=this.getEnglishName("fontSubfamily"),ee=(w=w||N.replace(/\s/g,"")+"-"+X+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,ee.byteLength,function(fe){fe.root.getFile(w,{create:!0},function(De){De.createWriter(function(Re){var Ze=new DataView(ee);Ze=new Blob([Ze],{type:"font/opentype"}),Re.write(Ze),Re.addEventListener("writeend",function(){location.href=De.toURL()},!1)})})},function(fe){throw new Error(fe.name+": "+fe.message)})):(N=o("fs"),X=function(fe){for(var De=new v(fe.byteLength),Re=new Uint8Array(fe),Ze=0;Ze<De.length;++Ze)De[Ze]=Re[Ze];return De}(ee),N.writeFileSync(w,X))},Cn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Cn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Cn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ii_parse=function(w,N,X){for(var ee,De,Re,Ze=new Ht.Parser(w,N),bt=Ze.parseULong(),gt=(j.argument(65536===bt,"Unsupported fvar table version."),Ze.parseOffset16()),zt=(Ze.skip("uShort",1),Ze.parseUShort()),ve=Ze.parseUShort(),ae=Ze.parseUShort(),be=Ze.parseUShort(),ge=[],Ue=0;Ue<zt;Ue++)ge.push((De=X,Re={},ee=new Ht.Parser(ee=w,N+gt+Ue*ve),Re.tag=ee.parseTag(),Re.minValue=ee.parseFixed(),Re.defaultValue=ee.parseFixed(),Re.maxValue=ee.parseFixed(),ee.skip("uShort",1),Re.name=De[ee.parseUShort()]||{},Re));for(var Nt=[],Gt=N+gt+zt*ve,nr=0;nr<ae;nr++)Nt.push(function(Br,Lr,zr,Wr){var Qr={},vn=new Ht.Parser(Br,Lr);Qr.name=Wr[vn.parseUShort()]||{},vn.skip("uShort",1),Qr.coordinates={};for(var qn=0;qn<zr.length;++qn)Qr.coordinates[zr[qn].tag]=vn.parseFixed();return Qr}(w,Gt+nr*be,ge,X));return{axes:ge,instances:Nt}},Mo=new Array(10);Mo[1]=function(){var w=this.offset+this.relativeOffset,N=this.parseUShort();return 1===N?{posFormat:1,coverage:this.parsePointer(It.coverage),value:this.parseValueRecord()}:2===N?{posFormat:2,coverage:this.parsePointer(It.coverage),values:this.parseValueRecordList()}:void j.assert(!1,"0x"+w.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Mo[2]=function(){var w,N,X,ee,De=this.offset+this.relativeOffset,fe=this.parseUShort(),Re=(j.assert(1===fe||2===fe,"0x"+De.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),De=this.parsePointer(It.coverage),this.parseUShort()),Ze=this.parseUShort();return 1===fe?{posFormat:fe,coverage:De,valueFormat1:Re,valueFormat2:Ze,pairSets:this.parseList(It.pointer(It.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Re),value2:this.parseValueRecord(Ze)}})))}:2===fe?(w=this.parsePointer(It.classDef),N=this.parsePointer(It.classDef),X=this.parseUShort(),ee=this.parseUShort(),{posFormat:fe,coverage:De,valueFormat1:Re,valueFormat2:Ze,classDef1:w,classDef2:N,class1Count:X,class2Count:ee,classRecords:this.parseList(X,It.list(ee,function(){return{value1:this.parseValueRecord(Re),value2:this.parseValueRecord(Ze)}}))}):void 0},Mo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Mo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Mo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Mo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Mo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Mo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Mo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Ps_parse=function(w,N){return N=(w=new It(w,N=N||0)).parseVersion(1),j.argument(1===N||1.1===N,"Unsupported GPOS table version "+N),1===N?{version:N,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(Mo)}:{version:N,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(Mo),variations:w.parseFeatureVariationsList()}},Xn_parse=function(w,N){if(0===(N=(w=new Ht.Parser(w,N)).parseUShort())){var X=w,ee={},ve=(X.skip("uShort"),X.parseUShort()),fe=(j.argument(0===ve,"Unsupported kern sub-table version."),X.skip("uShort",2),X.parseUShort());X.skip("uShort",3);for(var De=0;De<fe;De+=1){var Re=X.parseUShort(),Ze=X.parseUShort(),bt=X.parseShort();ee[Re+","+Ze]=bt}return ee}if(1!==N)throw new Error("Unsupported kern table version ("+N+").");var gt=w,zt={};if(gt.skip("uShort"),1<gt.parseULong()&&console.warn("Only the first kern subtable is supported."),gt.skip("uLong"),ve=255&gt.parseUShort(),gt.skip("uShort"),0==ve){var ae=gt.parseUShort();gt.skip("uShort",3);for(var be=0;be<ae;be+=1){var ge=gt.parseUShort(),Ue=gt.parseUShort(),Nt=gt.parseShort();zt[ge+","+Ue]=Nt}}return zt},Rs_parse=function(w,N,X,ee){for(var fe=new Ht.Parser(w,N),De=ee?fe.parseUShort:fe.parseULong,Re=[],Ze=0;Ze<X+1;Ze+=1){var bt=De.call(fe);ee&&(bt*=2),Re.push(bt)}return Re};function _s(w,N){o("fs").readFile(w,function(X,ee){if(X)return N(X.message);N(null,vs(ee))})}function ws(w,N){var X=new XMLHttpRequest;X.open("get",w,!0),X.responseType="arraybuffer",X.onload=function(){return X.response?N(null,X.response):N("Font could not be loaded: "+X.statusText)},X.onerror=function(){N("Font could not be loaded")},X.send()}function Gs(w,N){for(var X=[],ee=12,fe=0;fe<N;fe+=1){var De=Ht.getTag(w,ee),Re=Ht.getULong(w,ee+4),Ze=Ht.getULong(w,ee+8),bt=Ht.getULong(w,ee+12);X.push({tag:De,checksum:Re,offset:Ze,length:bt,compression:!1}),ee+=16}return X}function Hr(X,N){if("WOFF"!==N.compression)return{data:X,offset:N.offset};X=new Uint8Array(X.buffer,N.offset+2,N.compressedLength-2);var ee=new Uint8Array(N.length);if(W(X,ee),ee.byteLength!==N.length)throw new Error("Decompression error: "+N.tag+" decompressed length doesn't match recorded length");return{data:new DataView(ee.buffer,0),offset:0}}function Ho(nr){var N,X,ee,fe,De,Re,Ze,bt,gt,zt,ve,ae,be,ge,Ue=new Cn({empty:!0}),Nt=new DataView(nr,0),Gt=[];if("\0\x01\0\0"===(nr=Ht.getTag(Nt,0))||"true"===nr||"typ1"===nr)Ue.outlinesFormat="truetype",Gt=Gs(Nt,ee=Ht.getUShort(Nt,4));else if("OTTO"===nr)Ue.outlinesFormat="cff",Gt=Gs(Nt,ee=Ht.getUShort(Nt,4));else{if("wOFF"!==nr)throw new Error("Unsupported OpenType signature "+nr);if("\0\x01\0\0"===(Br=Ht.getTag(Nt,4)))Ue.outlinesFormat="truetype";else{if("OTTO"!==Br)throw new Error("Unsupported OpenType flavor "+nr);Ue.outlinesFormat="cff"}Gt=function(Mn,$r){for(var Bn=[],$n=44,lo=0;lo<$r;lo+=1){var Rn=Ht.getTag(Mn,$n),uo=Ht.getULong(Mn,$n+4),rs=Ht.getULong(Mn,$n+8),ni=Ht.getULong(Mn,$n+12);Bn.push({tag:Rn,offset:uo,compression:rs<ni&&"WOFF",compressedLength:rs,length:ni}),$n+=20}return Bn}(Nt,ee=Ht.getUShort(Nt,12))}for(var Lr=0;Lr<ee;Lr+=1){var zr=Gt[Lr],Wr=void 0;switch(zr.tag){case"cmap":Wr=Hr(Nt,zr),Ue.tables.cmap=$e_parse(Wr.data,Wr.offset),Ue.encoding=new Xt(Ue.tables.cmap);break;case"cvt ":Wr=Hr(Nt,zr),ge=new Ht.Parser(Wr.data,Wr.offset),Ue.tables.cvt=ge.parseShortList(zr.length/2);break;case"fvar":De=zr;break;case"fpgm":Wr=Hr(Nt,zr),ge=new Ht.Parser(Wr.data,Wr.offset),Ue.tables.fpgm=ge.parseByteList(zr.length);break;case"head":Wr=Hr(Nt,zr),Ue.tables.head=B_parse(Wr.data,Wr.offset),Ue.unitsPerEm=Ue.tables.head.unitsPerEm,N=Ue.tables.head.indexToLocFormat;break;case"hhea":Wr=Hr(Nt,zr),Ue.tables.hhea=A_parse(Wr.data,Wr.offset),Ue.ascender=Ue.tables.hhea.ascender,Ue.descender=Ue.tables.hhea.descender,Ue.numberOfHMetrics=Ue.tables.hhea.numberOfHMetrics;break;case"hmtx":gt=zr;break;case"ltag":Wr=Hr(Nt,zr),X=H_parse(Wr.data,Wr.offset);break;case"maxp":Wr=Hr(Nt,zr),Ue.tables.maxp=ie_parse(Wr.data,Wr.offset),Ue.numGlyphs=Ue.tables.maxp.numGlyphs;break;case"name":ae=zr;break;case"OS/2":Wr=Hr(Nt,zr),Ue.tables.os2=Pr_parse(Wr.data,Wr.offset);break;case"post":Wr=Hr(Nt,zr),Ue.tables.post=tn_parse(Wr.data,Wr.offset),Ue.glyphNames=new Bt(Ue.tables.post);break;case"prep":Wr=Hr(Nt,zr),ge=new Ht.Parser(Wr.data,Wr.offset),Ue.tables.prep=ge.parseByteList(zr.length);break;case"glyf":Re=zr;break;case"loca":ve=zr;break;case"CFF ":fe=zr;break;case"kern":zt=zr;break;case"GPOS":Ze=zr;break;case"GSUB":bt=zr;break;case"meta":be=zr}}if(Br=Hr(Nt,ae),Ue.tables.name=ar_parse(Br.data,Br.offset,X),Ue.names=Ue.tables.name,Re&&ve)nr=0===N,Br=Hr(Nt,ve),Br=Rs_parse(Br.data,Br.offset,Ue.numGlyphs,nr),nr=Hr(Nt,Re),Ue.glyphs=fn.parse(nr.data,nr.offset,Br,Ue);else{if(!fe)throw new Error("Font doesn't contain TrueType or CFF outlines.");nr=Hr(Nt,fe),O_parse(nr.data,nr.offset,Ue)}for(var Br=Hr(Nt,gt),Qr=(Q_parse(Br.data,Br.offset,Ue.numberOfHMetrics,Ue.numGlyphs,Ue.glyphs),Ue),vn=Qr.tables.cmap.glyphIndexMap,qn=Object.keys(vn),to=0;to<qn.length;to+=1){var so,Kn=qn[to];(so=Qr.glyphs.get(vn[Kn])).addUnicode(parseInt(Kn))}for(var Tn=0;Tn<Qr.glyphs.length;Tn+=1)so=Qr.glyphs.get(Tn),Qr.cffEncoding?so.name=Qr.isCIDFont?"gid"+Tn:Qr.cffEncoding.charset[Tn]:Qr.glyphNames.names&&(so.name=Qr.glyphNames.glyphIndexToName(Tn));return zt?(nr=Hr(Nt,zt),Ue.kerningPairs=Xn_parse(nr.data,nr.offset)):Ue.kerningPairs={},Ze&&(Br=Hr(Nt,Ze),Ue.tables.gpos=Ps_parse(Br.data,Br.offset),Ue.position.init()),bt&&(nr=Hr(Nt,bt),Ue.tables.gsub=Kr_parse(nr.data,nr.offset)),De&&(Br=Hr(Nt,De),Ue.tables.fvar=Ii_parse(Br.data,Br.offset,Ue.names)),be&&(nr=Hr(Nt,be),Ue.tables.meta=yn_parse(nr.data,nr.offset),Ue.metas=Ue.tables.meta),Ue}y.Font=Cn,y.Glyph=or,y.Path=ue,y.BoundingBox=K,y._parse=Ht,y.parse=Ho,y.load=function(w,N){(typeof window>"u"?_s:ws)(w,function(X,ee){if(X)return N(X);var fe;try{fe=Ho(ee)}catch(De){return N(De,null)}return N(null,fe)})},y.loadSync=function(w){return Ho(vs(o("fs").readFileSync(w)))},Object.defineProperty(y,"__esModule",{value:!0})},p("object"==typeof V&&void 0!==se?V:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],258:[function(o,se,V){(function(v){function b(E,_){for(var i=0,l=E.length-1;0<=l;l--){var a=E[l];"."===a?E.splice(l,1):".."===a?(E.splice(l,1),i++):i&&(E.splice(l,1),i--)}if(_)for(;i--;)E.unshift("..");return E}function p(E,_){if(E.filter)return E.filter(_);for(var i=[],l=0;l<E.length;l++)_(E[l],l,E)&&i.push(E[l]);return i}V.resolve=function(){for(var E="",_=!1,i=arguments.length-1;-1<=i&&!_;i--){var l=0<=i?arguments[i]:v.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(E=l+"/"+E,_="/"===l.charAt(0))}return(_?"/":"")+(E=b(p(E.split("/"),function(a){return!!a}),!_).join("/"))||"."},V.normalize=function(E){var _=V.isAbsolute(E),i="/"===y(E,-1);return(E=(E=b(p(E.split("/"),function(l){return!!l}),!_).join("/"))||_?E:".")&&i&&(E+="/"),(_?"/":"")+E},V.isAbsolute=function(E){return"/"===E.charAt(0)},V.join=function(){var E=Array.prototype.slice.call(arguments,0);return V.normalize(p(E,function(_,i){if("string"!=typeof _)throw new TypeError("Arguments to path.join must be strings");return _}).join("/"))},V.relative=function(E,_){function i(f){for(var g=0;g<f.length&&""===f[g];g++);for(var D=f.length-1;0<=D&&""===f[D];D--);return D<g?[]:f.slice(g,D-g+1)}E=V.resolve(E).substr(1),_=V.resolve(_).substr(1);for(var l=i(E.split("/")),a=i(_.split("/")),u=Math.min(l.length,a.length),h=u,d=0;d<u;d++)if(l[d]!==a[d]){h=d;break}var m=[];for(d=h;d<l.length;d++)m.push("..");return(m=m.concat(a.slice(h))).join("/")},V.sep="/",V.delimiter=":",V.dirname=function(E){if("string"!=typeof E&&(E+=""),0===E.length)return".";for(var _=47===E.charCodeAt(0),i=-1,l=!0,a=E.length-1;1<=a;--a)if(47===E.charCodeAt(a)){if(!l){i=a;break}}else l=!1;return-1===i?_?"/":".":_&&1===i?"/":E.slice(0,i)},V.basename=function(E,_){return E=function(i){"string"!=typeof i&&(i+="");for(var l=0,a=-1,u=!0,h=i.length-1;0<=h;--h)if(47===i.charCodeAt(h)){if(!u){l=h+1;break}}else-1===a&&(u=!1,a=h+1);return-1===a?"":i.slice(l,a)}(E),_&&E.substr(-1*_.length)===_?E.substr(0,E.length-_.length):E},V.extname=function(E){"string"!=typeof E&&(E+="");for(var _=-1,i=0,l=-1,a=!0,u=0,h=E.length-1;0<=h;--h){var d=E.charCodeAt(h);if(47===d){if(a)continue;i=h+1;break}-1===l&&(a=!1,l=h+1),46===d?-1===_?_=h:1!==u&&(u=1):-1!==_&&(u=-1)}return-1===_||-1===l||0===u||1===u&&_===l-1&&_===i+1?"":E.slice(_,l)};var y=function(E,_,i){return E.substr(_,i)}}).call(this,o("_process"))},{_process:259}],259:[function(o,p,V){var v,b;function y(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}p=p.exports={};try{v="function"==typeof setTimeout?setTimeout:y}catch{v=y}try{b="function"==typeof clearTimeout?clearTimeout:E}catch{b=E}function _(g){if(v===setTimeout)return setTimeout(g,0);if((v===y||!v)&&setTimeout)return(v=setTimeout)(g,0);try{return v(g,0)}catch{try{return v.call(null,g,0)}catch{return v.call(this,g,0)}}}var i,l=[],a=!1,u=-1;function h(){a&&i&&(a=!1,i.length?l=i.concat(l):u=-1,l.length&&d())}function d(){if(!a){for(var g=_(h),D=(a=!0,l.length);D;){for(i=l,l=[];++u<D;)i&&i[u].run();u=-1,D=l.length}i=null,a=!1,function($){if(b===clearTimeout)return clearTimeout($);if((b===E||!b)&&clearTimeout)return(b=clearTimeout)($);try{b($)}catch{try{return b.call(null,$)}catch{return b.call(this,$)}}}(g)}}function m(g,D){this.fun=g,this.array=D}function f(){}p.nextTick=function(g){var D=new Array(arguments.length-1);if(1<arguments.length)for(var $=1;$<arguments.length;$++)D[$-1]=arguments[$];l.push(new m(g,D)),1!==l.length||a||_(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.prependListener=f,p.prependOnceListener=f,p.listeners=function(g){return[]},p.binding=function(g){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(g){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],260:[function(o,se,V){se=function(v){"use strict";var b,p=Object.prototype,y=p.hasOwnProperty,E=(L="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",_=L.asyncIterator||"@@asyncIterator",i=L.toStringTag||"@@toStringTag";function l(re,te,G,me){var ue,Me,Y,j;return te=te&&te.prototype instanceof g?te:g,te=Object.create(te.prototype),me=new Z(me||[]),te._invoke=(ue=re,Me=G,Y=me,j=u,function(xe,Be){if(j===d)throw new Error("Generator is already running");if(j===m){if("throw"===xe)throw Be;return q()}for(Y.method=xe,Y.arg=Be;;){var qe=Y.delegate;if(qe&&(qe=function ct(ze,st){var lt=ze.iterator[st.method];if(lt===b){if(st.delegate=null,"throw"===st.method){if(ze.iterator.return&&(st.method="return",st.arg=b,ct(ze,st),"throw"===st.method))return f;st.method="throw",st.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}return"throw"===(lt=a(lt,ze.iterator,st.arg)).type?(st.method="throw",st.arg=lt.arg,st.delegate=null,f):(lt=lt.arg)?lt.done?(st[ze.resultName]=lt.value,st.next=ze.nextLoc,"return"!==st.method&&(st.method="next",st.arg=b),st.delegate=null,f):lt:(st.method="throw",st.arg=new TypeError("iterator result is not an object"),st.delegate=null,f)}(qe,Y))){if(qe===f)continue;return qe}if("next"===Y.method)Y.sent=Y._sent=Y.arg;else if("throw"===Y.method){if(j===u)throw j=m,Y.arg;Y.dispatchException(Y.arg)}else"return"===Y.method&&Y.abrupt("return",Y.arg);if(j=d,"normal"===(qe=a(ue,Me,Y)).type){if(j=Y.done?m:h,qe.arg!==f)return{value:qe.arg,done:Y.done}}else"throw"===qe.type&&(j=m,Y.method="throw",Y.arg=qe.arg)}}),te}function a(re,W,G){try{return{type:"normal",arg:re.call(W,G)}}catch(K){return{type:"throw",arg:K}}}v.wrap=l;var u="suspendedStart",h="suspendedYield",d="executing",m="completed",f={};function g(){}function D(){}function $(){}var L,P,x=((L={})[E]=function(){return this},(P=(P=Object.getPrototypeOf)&&P(P(oe([]))))&&P!==p&&y.call(P,E)&&(L=P),$.prototype=g.prototype=Object.create(L));function U(re){["next","throw","return"].forEach(function(W){re[W]=function(G){return this._invoke(W,G)}})}function I(re){var W;this._invoke=function(G,K){function ue(){return new Promise(function(Me,Y){!function j(ct,me,xe,Be){var qe;if("throw"!==(ct=a(re[ct],re,me)).type)return(me=(qe=ct.arg).value)&&"object"==typeof me&&y.call(me,"__await")?Promise.resolve(me.__await).then(function(ze){j("next",ze,xe,Be)},function(ze){j("throw",ze,xe,Be)}):Promise.resolve(me).then(function(ze){qe.value=ze,xe(qe)},function(ze){return j("throw",ze,xe,Be)});Be(ct.arg)}(G,K,Me,Y)})}return W=W?W.then(ue,ue):ue()}}function F(re){var W={tryLoc:re[0]};1 in re&&(W.catchLoc=re[1]),2 in re&&(W.finallyLoc=re[2],W.afterLoc=re[3]),this.tryEntries.push(W)}function R(re){var W=re.completion||{};W.type="normal",delete W.arg,re.completion=W}function Z(re){this.tryEntries=[{tryLoc:"root"}],re.forEach(F,this),this.reset(!0)}function oe(re){if(re){var W,G=re[E];if(G)return G.call(re);if("function"==typeof re.next)return re;if(!isNaN(re.length))return W=-1,(G=function K(){for(;++W<re.length;)if(y.call(re,W))return K.value=re[W],K.done=!1,K;return K.value=b,K.done=!0,K}).next=G}return{next:q}}function q(){return{value:b,done:!0}}return(D.prototype=x.constructor=$).constructor=D,$[i]=D.displayName="GeneratorFunction",v.isGeneratorFunction=function(re){return!!(re="function"==typeof re&&re.constructor)&&(re===D||"GeneratorFunction"===(re.displayName||re.name))},v.mark=function(re){return Object.setPrototypeOf?Object.setPrototypeOf(re,$):(re.__proto__=$,i in re||(re[i]="GeneratorFunction")),re.prototype=Object.create(x),re},v.awrap=function(re){return{__await:re}},U(I.prototype),I.prototype[_]=function(){return this},v.AsyncIterator=I,v.async=function(re,W,G,K){var ue=new I(l(re,W,G,K));return v.isGeneratorFunction(W)?ue:ue.next().then(function(Me){return Me.done?Me.value:ue.next()})},U(x),x[i]="Generator",x[E]=function(){return this},x.toString=function(){return"[object Generator]"},v.keys=function(re){var W,G=[];for(W in re)G.push(W);return G.reverse(),function K(){for(;G.length;){var ue=G.pop();if(ue in re)return K.value=ue,K.done=!1,K}return K.done=!0,K}},v.values=oe,Z.prototype={constructor:Z,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(R),!re)for(var W in this)"t"===W.charAt(0)&&y.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=b)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if("throw"===re.type)throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var W=this;function G(te,me){return Me.type="throw",Me.arg=re,W.next=te,me&&(W.method="next",W.arg=b),!!me}for(var K=this.tryEntries.length-1;0<=K;--K){var ue=this.tryEntries[K],Me=ue.completion;if("root"===ue.tryLoc)return G("end");if(ue.tryLoc<=this.prev){var Y=y.call(ue,"catchLoc"),j=y.call(ue,"finallyLoc");if(Y&&j){if(this.prev<ue.catchLoc)return G(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return G(ue.finallyLoc)}else if(Y){if(this.prev<ue.catchLoc)return G(ue.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<ue.finallyLoc)return G(ue.finallyLoc)}}}},abrupt:function(re,W){for(var G=this.tryEntries.length-1;0<=G;--G){var K=this.tryEntries[G];if(K.tryLoc<=this.prev&&y.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var ue=K;break}}var Me=(ue=ue&&("break"===re||"continue"===re)&&ue.tryLoc<=W&&W<=ue.finallyLoc?null:ue)?ue.completion:{};return Me.type=re,Me.arg=W,ue?(this.method="next",this.next=ue.finallyLoc,f):this.complete(Me)},complete:function(re,W){if("throw"===re.type)throw re.arg;return"break"===re.type||"continue"===re.type?this.next=re.arg:"return"===re.type?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):"normal"===re.type&&W&&(this.next=W),f},finish:function(re){for(var W=this.tryEntries.length-1;0<=W;--W){var G=this.tryEntries[W];if(G.finallyLoc===re)return this.complete(G.completion,G.afterLoc),R(G),f}},catch:function(re){for(var W=this.tryEntries.length-1;0<=W;--W){var G,K,ue=this.tryEntries[W];if(ue.tryLoc===re)return"throw"===(G=ue.completion).type&&(K=G.arg,R(ue)),K}throw new Error("illegal catch attempt")},delegateYield:function(re,W,G){return this.delegate={iterator:oe(re),resultName:W,nextLoc:G},"next"===this.method&&(this.arg=b),f}},v}("object"==typeof se?se.exports:{});try{regeneratorRuntime=se}catch{Function("r","regeneratorRuntime = r")(se)}},{}],261:[function(o,se,V){!function(v){"use strict";var b,p,y,E,_,i,l,a,u,h;function d(R){if("string"!=typeof R&&(R=String(R)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(R))throw new TypeError("Invalid character in header field name");return R.toLowerCase()}function m(R){return"string"!=typeof R?String(R):R}function f(R){var Z={next:function(){var oe=R.shift();return{done:void 0===oe,value:oe}}};return p&&(Z[Symbol.iterator]=function(){return Z}),Z}function g(R){this.map={},R instanceof g?R.forEach(function(Z,oe){this.append(oe,Z)},this):Array.isArray(R)?R.forEach(function(Z){this.append(Z[0],Z[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(Z){this.append(Z,R[Z])},this)}function D(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function $(R){return new Promise(function(Z,oe){R.onload=function(){Z(R.result)},R.onerror=function(){oe(R.error)}})}function L(R){var Z=new FileReader,oe=$(Z);return Z.readAsArrayBuffer(R),oe}function P(R){var Z;return R.slice?R.slice(0):((Z=new Uint8Array(R.byteLength)).set(new Uint8Array(R)),Z.buffer)}function x(){return this.bodyUsed=!1,this._initBody=function(R){if(this._bodyInit=R)if("string"==typeof R)this._bodyText=R;else if(y&&Blob.prototype.isPrototypeOf(R))this._bodyBlob=R;else if(E&&FormData.prototype.isPrototypeOf(R))this._bodyFormData=R;else if(b&&URLSearchParams.prototype.isPrototypeOf(R))this._bodyText=R.toString();else if(_&&y&&l(R))this._bodyArrayBuffer=P(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!_||!ArrayBuffer.prototype.isPrototypeOf(R)&&!a(R))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=P(R)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof R?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var R=D(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?D(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(L)}),this.text=function(){var R,Z,oe=D(this);if(oe)return oe;if(this._bodyBlob)return oe=this._bodyBlob,Z=$(R=new FileReader),R.readAsText(oe),Z;if(this._bodyArrayBuffer)return Promise.resolve(function(q){for(var re=new Uint8Array(q),W=new Array(re.length),G=0;G<re.length;G++)W[G]=String.fromCharCode(re[G]);return W.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},E&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}function U(R,Z){var oe,q=(Z=Z||{}).body;if(R instanceof U){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,Z.headers||(this.headers=new g(R.headers)),this.method=R.method,this.mode=R.mode,q||null==R._bodyInit||(q=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=Z.credentials||this.credentials||"omit",!Z.headers&&this.headers||(this.headers=new g(Z.headers)),this.method=(oe=(R=Z.method||this.method||"GET").toUpperCase(),-1<u.indexOf(oe)?oe:R),this.mode=Z.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(q)}function I(R){var Z=new FormData;return R.trim().split("&").forEach(function(oe){var q;oe&&(q=(oe=oe.split("=")).shift().replace(/\+/g," "),oe=oe.join("=").replace(/\+/g," "),Z.append(decodeURIComponent(q),decodeURIComponent(oe)))}),Z}function F(R,Z){Z=Z||{},this.type="default",this.status=void 0===Z.status?200:Z.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in Z?Z.statusText:"OK",this.headers=new g(Z.headers),this.url=Z.url||"",this._initBody(R)}v.fetch||(b="URLSearchParams"in v,p="Symbol"in v&&"iterator"in Symbol,y="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),E="FormData"in v,(_="ArrayBuffer"in v)&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(R){return R&&DataView.prototype.isPrototypeOf(R)},a=ArrayBuffer.isView||function(R){return R&&-1<i.indexOf(Object.prototype.toString.call(R))}),g.prototype.append=function(R,Z){R=d(R),Z=m(Z);var oe=this.map[R];this.map[R]=oe?oe+","+Z:Z},g.prototype.delete=function(R){delete this.map[d(R)]},g.prototype.get=function(R){return R=d(R),this.has(R)?this.map[R]:null},g.prototype.has=function(R){return this.map.hasOwnProperty(d(R))},g.prototype.set=function(R,Z){this.map[d(R)]=m(Z)},g.prototype.forEach=function(R,Z){for(var oe in this.map)this.map.hasOwnProperty(oe)&&R.call(Z,this.map[oe],oe,this)},g.prototype.keys=function(){var R=[];return this.forEach(function(Z,oe){R.push(oe)}),f(R)},g.prototype.values=function(){var R=[];return this.forEach(function(Z){R.push(Z)}),f(R)},g.prototype.entries=function(){var R=[];return this.forEach(function(Z,oe){R.push([oe,Z])}),f(R)},p&&(g.prototype[Symbol.iterator]=g.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],U.prototype.clone=function(){return new U(this,{body:this._bodyInit})},x.call(U.prototype),x.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},F.error=function(){var R=new F(null,{status:0,statusText:""});return R.type="error",R},h=[301,302,303,307,308],F.redirect=function(R,Z){if(-1===h.indexOf(Z))throw new RangeError("Invalid status code");return new F(null,{status:Z,headers:{location:R}})},v.Headers=g,v.Request=U,v.Response=F,v.fetch=function(R,Z){return new Promise(function(oe,q){var re=new U(R,Z),W=new XMLHttpRequest;W.onload=function(){var G,K={status:W.status,statusText:W.statusText,headers:(K=W.getAllResponseHeaders()||"",G=new g,K.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Y){var j=(Y=Y.split(":")).shift().trim();j&&(Y=Y.join(":").trim(),G.append(j,Y))}),G)},ue=(K.url="responseURL"in W?W.responseURL:K.headers.get("X-Request-URL"),"response"in W?W.response:W.responseText);oe(new F(ue,K))},W.onerror=function(){q(new TypeError("Network request failed"))},W.ontimeout=function(){q(new TypeError("Network request failed"))},W.open(re.method,re.url,!0),"include"===re.credentials?W.withCredentials=!0:"omit"===re.credentials&&(W.withCredentials=!1),"responseType"in W&&y&&(W.responseType="blob"),re.headers.forEach(function(G,K){W.setRequestHeader(K,G)}),W.send(void 0===re._bodyInit?null:re._bodyInit)})},v.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],262:[function(o,se,V){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v,b=y(o("../core/main")),p=y(o("../color/color_conversion"));function y(i){return i&&i.__esModule?i:{default:i}}var E=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],_=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];b.default.prototype._rgbColorName=function(u){u=p.default._rgbaToHSBA(u);var l,a,h=[(v=u)[0],u[1],u[2]];0!==h[0]&&(h[0]=Math.round(100*h[0]),(u=h[0].toString().split(""))[a=u.length-1]=parseInt(u[a]),u[a]<2.5?u[a]=0:2.5<=u[a]&&u[a]<7.5&&(u[a]=5),2===u.length?(u[0]=parseInt(u[0]),7.5<=u[a]&&(u[a]=0,u[0]=u[0]+1),h[0]=10*u[0]+u[1]):h[0]=7.5<=u[a]?10:u[a]),h[2]=h[2]/255;for(var d=h.length-1;1<=d;d--)h[d]=h[d]<=.25?0:.25<h[d]&&h[d]<.75?.5:1;if(0===h[0]&&0===h[1]&&1===h[2]){for(var m=2;0<=m;m--)v[m]=Math.round(1e4*v[m])/1e4;for(var f=0;f<E.length;f++){if(E[f].h===v[0]&&E[f].s===v[1]&&E[f].b===v[2]){l=E[f].name;break}l="white"}}else for(var g=0;g<_.length;g++)if(_[g].h===h[0]&&_[g].s===h[1]&&_[g].b===h[2]){l=_[g].name;break}return l},V.default=o=b.default},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o},b="_Description",p="_fallbackDesc",y="_fallbackTable",E="_Label",_="_labelDesc",i="_labelTable";function l(a){if("label"===a||"fallback"===a)throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}v.default.prototype.describe=function(a,u){var h;v.default._validateParameters("describe",arguments),"string"==typeof a&&(h=this.canvas.id,a=l(a),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),u===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a)))},v.default.prototype.describeElement=function(a,u,h){var d,m;v.default._validateParameters("describeElement",arguments),"string"==typeof u&&"string"==typeof a&&(d=this.canvas.id,u=l(u),m=function(f){if("label"===f||"fallback"===f)throw new Error("element name should not be LABEL or FALLBACK");return f.endsWith(".")||f.endsWith(";")||f.endsWith(",")?f=f.replace(/.$/,":"):f.endsWith(":")||(f+=":"),f}(a),a=a.replace(/[^a-zA-Z0-9]/g,""),m='<th scope="row">'.concat(m,"</th><td>").concat(u,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==m&&(this.descriptions.fallbackElements[a].innerHTML=m):this._describeElementHTML("fallback",a,m),h===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==m&&(this.descriptions.labelElements[a].innerHTML=m):this._describeElementHTML("label",a,m)))},v.default.prototype._describeHTML=function(a,u){var h,d=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(d+b))?this.dummyDOM.querySelector("#"+d+y).insertAdjacentHTML("beforebegin",'<p id="'.concat(d+p,'"></p>')):(h='<div id="'.concat(d).concat(b,'" role="region" aria-label="Canvas Description"><p id="').concat(d).concat(p,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(d)).innerHTML=h),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(d).concat(p)),this.descriptions.fallback.innerHTML=u):"label"===a&&(this.dummyDOM.querySelector("#".concat(d+E))?this.dummyDOM.querySelector("#".concat(d+i))&&this.dummyDOM.querySelector("#".concat(d+i)).insertAdjacentHTML("beforebegin",'<p id="'.concat(d).concat(_,'"></p>')):(h='<div id="'.concat(d).concat(E,'" class="p5Label"><p id="').concat(d).concat(_,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+d).insertAdjacentHTML("afterend",h)),this.descriptions.label=this.dummyDOM.querySelector("#"+d+_),this.descriptions.label.innerHTML=u)},v.default.prototype._describeElementHTML=function(a,u,h){var d,m=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(m+b))?this.dummyDOM.querySelector("#"+m+y)||this.dummyDOM.querySelector("#"+m+p).insertAdjacentHTML("afterend",'<table id="'.concat(m).concat(y,'"><caption>Canvas elements and their descriptions</caption></table>')):(d='<div id="'.concat(m).concat(b,'" role="region" aria-label="Canvas Description"><table id="').concat(m).concat(y,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+m).innerHTML=d),(d=document.createElement("tr")).id=m+"_fte_"+u,this.dummyDOM.querySelector("#"+m+y).appendChild(d),this.descriptions.fallbackElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_fte_").concat(u)),this.descriptions.fallbackElements[u].innerHTML=h):"label"===a&&(this.dummyDOM.querySelector("#".concat(m+E))?this.dummyDOM.querySelector("#".concat(m+i))||this.dummyDOM.querySelector("#"+m+_).insertAdjacentHTML("afterend",'<table id="'.concat(m+i,'"></table>')):(d='<div id="'.concat(m).concat(E,'" class="p5Label"><table id="').concat(m).concat(i,'"></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",d)),(a=document.createElement("tr")).id=m+"_lte_"+u,this.dummyDOM.querySelector("#"+m+i).appendChild(a),this.descriptions.labelElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_lte_").concat(u)),this.descriptions.labelElements[u].innerHTML=h)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(v){var b,p,y,E,_,i,l,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],_=(p=function(_,i){var l,a="",u="",h=0;for(l in i){var d,m=0;for(d in i[l]){var f='<li id="'.concat(_,"shape").concat(h,'">').concat(i[l][d].color," ").concat(l,",");"line"===l?f+=" location = ".concat(i[l][d].pos,", length = ").concat(i[l][d].length," pixels"):(f+=" location = ".concat(i[l][d].pos),"point"!==l&&(f+=", area = ".concat(i[l][d].area," %")),f+="</li>"),a+=f,m++,h++}u=1<m?"".concat(u," ").concat(m," ").concat(l,"s"):"".concat(u," ").concat(m," ").concat(l)}return{numShapes:[h,u],details:a}}(v,this.ingredients.shapes)).numShapes,l=this.width,a=this.height,i="".concat(i=this.ingredients.colors.background," canvas, ").concat(l," by ").concat(a," pixels, contains ").concat(_[0]),y=i="".concat(i,1===_[0]?" shape: ":" shapes: ").concat(_[1]),E=function(_,i){var l,a,u=0,h="",d=Array.from(Array(10),function(){return Array(10)});for(l in i)for(var m in i[l]){var f;f="line"!==l?'<a href="#'.concat(_,"shape").concat(u,'">').concat(i[l][m].color," ").concat(l,"</a>"):'<a href="#'.concat(_,"shape").concat(u,'">').concat(i[l][m].color," ").concat(l," midpoint</a>"),i[l][m].loc.locY<d.length&&i[l][m].loc.locX<d[i[l][m].loc.locY].length&&(d[i[l][m].loc.locY][i[l][m].loc.locX]=d[i[l][m].loc.locY][i[l][m].loc.locX]?d[i[l][m].loc.locY][i[l][m].loc.locX]+"  "+f:f,u++)}for(a in d){var g,D="<tr>";for(g in d[a])D+="<td>",void 0!==d[a][g]&&(D+=d[a][g]),D+="</td>";h=h+D+"</tr>"}return h}(v,this.ingredients.shapes),y!==b.summary.innerHTML&&(b.summary.innerHTML=y),E!==b.map.innerHTML&&(b.map.innerHTML=E),p.details!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=p.details),this._accessibleOutputs[v]=b)},V.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function p(y,E,_){return 10===(E=Math.floor(y[0]/E*10))&&(E-=1),10===(y=Math.floor(y[1]/_*10))&&(y-=1),{locX:E,locY:y}}v.default.prototype.textOutput=function(y){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(y){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(y,E){var _,i,l,a=this.canvas.id,u=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode),"");"Fallback"===E?(_=a+y,this.dummyDOM.querySelector("#".concat(i=a+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===E&&(_=a+y+(u=E),this.dummyDOM.querySelector("#".concat(i=a+"accessibleOutput"+E))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")):this.dummyDOM.querySelector("#".concat(a))).insertAdjacentHTML("afterend",'<div id="'.concat(i,'"></div>'))),this._accessibleOutputs[_]={},"textOutput"===y?(u="#".concat(a,"gridOutput").concat(u),l='<div id="'.concat(_,'">Text Output<div id="').concat(_,'Summary" aria-label="text output summary"><p id="').concat(_,'_summary"></p><ul id="').concat(_,'_list"></ul></div><table id="').concat(_,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(i)).innerHTML=l,this._accessibleOutputs[_].list=this.dummyDOM.querySelector("#".concat(_,"_list"))):"gridOutput"===y&&(u="#".concat(a,"textOutput").concat(u),l='<div id="'.concat(_,'">Grid Output<p id="').concat(_,'_summary" aria-label="grid output summary"><table id="').concat(_,'_map" summary="grid output content"></table><ul id="').concat(_,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(i)).innerHTML=l,this._accessibleOutputs[_].map=this.dummyDOM.querySelector("#".concat(_,"_map"))),this._accessibleOutputs[_].shapeDetails=this.dummyDOM.querySelector("#".concat(_,"_shapeDetails")),this._accessibleOutputs[_].summary=this.dummyDOM.querySelector("#".concat(_,"_summary"))},v.default.prototype._updateAccsOutput=function(){var y=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(y+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(y+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(y+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(y+"gridOutputLabel"))},v.default.prototype._accsBackground=function(y){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==y&&(this.ingredients.colors.backgroundRGBA=y,this.ingredients.colors.background=this._rgbColorName(y))},v.default.prototype._accsCanvasColors=function(y,E){"fill"===y?this.ingredients.colors.fillRGBA!==E&&(this.ingredients.colors.fillRGBA=E,this.ingredients.colors.fill=this._rgbColorName(E)):"stroke"===y&&this.ingredients.colors.strokeRGBA!==E&&(this.ingredients.colors.strokeRGBA=E,this.ingredients.colors.stroke=this._rgbColorName(E))},v.default.prototype._accsOutput=function(y,E){"ellipse"===y&&E[2]===E[3]?y="circle":"rectangle"===y&&E[2]===E[3]&&(y="square");var _,i,d,m,f,l={},a=!0,u=(m=E,d="rectangle"===(d=y)||"ellipse"===d||"arc"===d||"circle"===d||"square"===d?(f=Math.round(m[0]+m[2]/2),Math.round(m[1]+m[3]/2)):"triangle"===d?(f=(m[0]+m[2]+m[4])/3,(m[1]+m[3]+m[5])/3):"quadrilateral"===d?(f=(m[0]+m[2]+m[4]+m[6])/4,(m[1]+m[3]+m[5]+m[7])/4):"line"===d?(f=(m[0]+m[2])/2,(m[1]+m[3])/2):(f=m[0],m[1]),[f,d]);if("line"===y?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(E[0],E[1],E[2],E[3])),_=this._getPos(E[0],[1]),i=this._getPos(E[2],[3]),l.loc=p(u,this.width,this.height),l.pos=_===i?"at ".concat(_):"from ".concat(_," to ").concat(i)):("point"===y?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=this._getArea(y,E)),l.pos=this._getPos.apply(this,function b(y){return function(E){if(Array.isArray(E)){for(var _=0,i=new Array(E.length);_<E.length;_++)i[_]=E[_];return i}}(y)||function(E){if(Symbol.iterator in Object(E)||"[object Arguments]"===Object.prototype.toString.call(E))return Array.from(E)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)),l.loc=p(u,this.width,this.height)),this.ingredients.shapes[y]){if(this.ingredients.shapes[y]!==[l]){for(var h in this.ingredients.shapes[y])JSON.stringify(this.ingredients.shapes[y][h])===JSON.stringify(l)&&(a=!1);!0===a&&this.ingredients.shapes[y].push(l)}}else this.ingredients.shapes[y]=[l]},v.default.prototype._getPos=function(i,_){i=new DOMPointReadOnly(i,_),_=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),_=(i=i.matrixTransform(_)).x,i=i.y;var l=this.width*this._pixelDensity,a=this.height*this._pixelDensity;return _<.4*l?i<.4*a?"top left":.6*a<i?"bottom left":"mid left":.6*l<_?i<.4*a?"top right":.6*a<i?"bottom right":"mid right":i<.4*a?"top middle":.6*a<i?"bottom middle":"middle"},v.default.prototype._getArea=function(y,E){var _,i,l=0,a=("arc"===y?(l=(_=((E[5]-E[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*E[2]*E[3]/8,"open"!==E[6]&&"chord"!==E[6]||(i=E[0],m=E[1],a=E[0]+E[2]/2*Math.cos(E[4]).toFixed(2),f=E[1]+E[3]/2*Math.sin(E[4]).toFixed(2),h=E[0]+E[2]/2*Math.cos(E[5]).toFixed(2),u=E[1]+E[3]/2*Math.sin(E[5]).toFixed(2),i=Math.abs(i*(f-u)+a*(u-m)+h*(m-f))/2,_>Math.PI?l+=i:l-=i)):"ellipse"===y||"circle"===y?l=3.14*E[2]/2*E[3]/2:"line"===y||"point"===y?l=0:"quadrilateral"===y?l=Math.abs((E[6]+E[0])*(E[7]-E[1])+(E[0]+E[2])*(E[1]-E[3])+(E[2]+E[4])*(E[3]-E[5])+(E[4]+E[6])*(E[5]-E[7]))/2:"rectangle"===y||"square"===y?l=E[2]*E[3]:"triangle"===y&&(l=Math.abs(E[0]*(E[3]-E[5])+E[2]*(E[5]-E[1])+E[4]*(E[1]-E[3]))/2),this.width*this._pixelDensity),u=this.height*this._pixelDensity,h=[new DOMPoint(0,0),new DOMPoint(a,0),new DOMPoint(a,u),new DOMPoint(0,u)],d=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),m=h.map(function(g){return g.matrixTransform(d)}),f=Math.abs((m[3].x+m[0].x)*(m[3].y-m[0].y)+(m[0].x+m[1].x)*(m[0].y-m[1].y)+(m[1].x+m[2].x)*(m[1].y-m[2].y)+(m[2].x+m[3].x)*(m[2].y-m[3].y))/2;return Math.round(100*l/f)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(v){var b,p,y,E,_,i,l,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],_=(p=function(_,i){var l,a="",u=0;for(l in i)for(var h in i[l]){var d='<li><a href="#'.concat(_,"shape").concat(u,'">').concat(i[l][h].color," ").concat(l,"</a>");"line"===l?d+=", ".concat(i[l][h].pos,", ").concat(i[l][h].length," pixels long.</li>"):(d+=", at ".concat(i[l][h].pos),"point"!==l&&(d+=", covering ".concat(i[l][h].area,"% of the canvas")),d+=".</li>"),a+=d,u++}return{numShapes:u,listShapes:a}}(v,this.ingredients.shapes)).numShapes,i=this.ingredients.colors.background,a=this.height,l="Your output is a, ".concat(l=this.width," by ").concat(a," pixels, ").concat(i," canvas containing the following"),y=l=1===_?"".concat(l," shape:"):"".concat(l," ").concat(_," shapes:"),E=function(_,i){var l,a="",u=0;for(l in i)for(var h in i[l]){var d='<tr id="'.concat(_,"shape").concat(u,'"><th>').concat(i[l][h].color," ").concat(l,"</th>");"line"===l?d+="<td>location = ".concat(i[l][h].pos,"</td><td>length = ").concat(i[l][h].length," pixels</td></tr>"):(d+="<td>location = ".concat(i[l][h].pos,"</td>"),"point"!==l&&(d+="<td> area = ".concat(i[l][h].area,"%</td>")),d+="</tr>"),a+=d,u++}return a}(v,this.ingredients.shapes),y!==b.summary.innerHTML&&(b.summary.innerHTML=y),p.listShapes!==b.list.innerHTML&&(b.list.innerHTML=p.listShapes),E!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=E),this._accessibleOutputs[v]=b)},V.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(o,se,V){"use strict";var v=(v=o("./core/main"))&&v.__esModule?v:{default:v};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.Quat"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),se.exports=v.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(v){var p=v[1],y=v[2],E=(2-p)*y/2;return 0!=E&&(1==E?p=0:E<.5?p/=2-p:p=p*y/(2-2*E)),[v[0],p,E,v[3]]},_hsbaToRGBA:function(v){var b,p,y,E,_,i=6*v[0],l=v[1],a=v[2];return 0===l?[a,a,a,v[3]]:(p=a*(1-l),y=a*(1-l*(i-(b=Math.floor(i)))),l=a*(1-l*(1+b-i)),i=1===b?(E=y,_=a,p):2===b?(E=p,_=a,l):3===b?(E=p,_=y,a):4===b?(E=l,_=p,a):5===b?(E=a,_=p,y):(E=a,_=l,p),[E,_,i,v[3]])},_hslaToHSBA:function(v){var p=v[1],y=v[2],E=y<.5?(1+p)*y:y+p-y*p;return[v[0],p=2*(E-y)/E,E,v[3]]},_hslaToRGBA:function(v){var b,p=6*v[0],y=v[1],E=v[2];return 0===y?[E,E,E,v[3]]:[(b=function(_,i,l){return _<0?_+=6:6<=_&&(_-=6),_<1?i+(l-i)*_:_<3?l:_<4?i+(l-i)*(4-_):i})(2+p,y=2*E-(E=E<.5?(1+y)*E:E+y-E*y),E),b(p,y,E),b(p-2,y,E),v[3]]},_rgbaToHSBA:function(v){var b,p,y=v[0],E=v[1],_=v[2],i=Math.max(y,E,_),l=i-Math.min(y,E,_);return 0==l?p=b=0:(p=l/i,y===i?b=(E-_)/l:E===i?b=2+(_-y)/l:_===i&&(b=4+(y-E)/l),b<0?b+=6:6<=b&&(b-=6)),[b/6,p,i,v[3]]},_rgbaToHSLA:function(v){var b,p,a,y=v[0],E=v[1],_=v[2],i=Math.max(y,E,_),l=i+(a=Math.min(y,E,_));return 0==(a=i-a)?p=b=0:(p=l<1?a/l:a/(2-l),y===i?b=(E-_)/a:E===i?b=2+(_-y)/a:_===i&&(b=4+(y-E)/a),b<0?b+=6:6<=b&&(b-=6)),[b/6,p,l/2,v[3]]}},V.default=o=o.default.ColorConversion},{"../core/main":283}],269:[function(o,se,V){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var l=E();if(l&&l.has(i))return l.get(i);var a,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var d;Object.prototype.hasOwnProperty.call(i,a)&&((d=h?Object.getOwnPropertyDescriptor(i,a):null)&&(d.get||d.set)?Object.defineProperty(u,a,d):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function E(){var i;return"function"!=typeof WeakMap?null:(E=function(){return i},i=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),p.default.prototype.alpha=function(i){return p.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},p.default.prototype.blue=function(i){return p.default._validateParameters("blue",arguments),this.color(i)._getBlue()},p.default.prototype.brightness=function(i){return p.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},p.default.prototype.color=function(){for(var i,l=arguments.length,a=new Array(l),u=0;u<l;u++)a[u]=arguments[u];return p.default._validateParameters("color",a),a[0]instanceof p.default.Color?a[0]:(i=Array.isArray(a[0])?a[0]:a,new p.default.Color(this,i))},p.default.prototype.green=function(i){return p.default._validateParameters("green",arguments),this.color(i)._getGreen()},p.default.prototype.hue=function(i){return p.default._validateParameters("hue",arguments),this.color(i)._getHue()},p.default.prototype.lerpColor=function(i,l,a){p.default._validateParameters("lerpColor",arguments);var u,h,d,m=this._colorMode,f=this._colorMaxes;if(m===y.RGB)h=i.levels.map(function(g){return g/255}),d=l.levels.map(function(g){return g/255});else if(m===y.HSB)i._getBrightness(),l._getBrightness(),h=i.hsba,d=l.hsba;else{if(m!==y.HSL)throw new Error("".concat(m," cannot be used for interpolation."));i._getLightness(),l._getLightness(),h=i.hsla,d=l.hsla}return a=Math.max(Math.min(a,1),0),void 0===this.lerp&&(this.lerp=function(g,D,$){return $*(D-g)+g}),m===y.RGB?u=this.lerp(h[0],d[0],a):(.5<Math.abs(h[0]-d[0])&&(h[0]>d[0]?d[0]+=1:h[0]+=1),1<=(u=this.lerp(h[0],d[0],a))&&--u),i=this.lerp(h[1],d[1],a),l=this.lerp(h[2],d[2],a),h=this.lerp(h[3],d[3],a),this.color(u*=f[m][0],i*=f[m][1],l*=f[m][2],h*=f[m][3])},p.default.prototype.lightness=function(i){return p.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},p.default.prototype.red=function(i){return p.default._validateParameters("red",arguments),this.color(i)._getRed()},p.default.prototype.saturation=function(i){return p.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var _=p.default;V.default=_},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(u,se,V){"use strict";function v(g){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(g)}function b(g){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(D){return v(D)}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":v(D)})(g)}u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.get-own-property-descriptor"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.string.trim"),u("core-js/modules/es.weak-map"),u("core-js/modules/web.dom-collections.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.trim"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=i(u("../core/main")),y=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==b(g)&&"function"!=typeof g)return{default:g};var D=_();if(D&&D.has(g))return D.get(g);var $,L={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in g){var x;Object.prototype.hasOwnProperty.call(g,$)&&((x=P?Object.getOwnPropertyDescriptor(g,$):null)&&(x.get||x.set)?Object.defineProperty(L,$,x):L[$]=g[$])}return L.default=g,D&&D.set(g,L),L}(u("../core/constants")),E=i(u("./color_conversion"));function _(){var g;return"function"!=typeof WeakMap?null:(_=function(){return g},g=new WeakMap)}function i(g){return g&&g.__esModule?g:{default:g}}function l(g,D){for(var $=0;$<D.length;$++){var L=D[$];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(g,L.key,L)}}var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=(u=/\s*/,/(\d{1,3})/),h=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,d=new RegExp("".concat(h.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",f.source,",",f.source,",",f.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",f.source,",",f.source,",",f.source,",",h.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",h.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",f.source,",",d.source,",",d.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",f.source,",",d.source,",",d.source,",",h.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",f.source,",",d.source,",",d.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",f.source,",",d.source,",",d.source,",",h.source,"\\)$"].join(u.source),"i")};p.default.Color=function(){function g(P,x){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(P._colorMode,P._colorMaxes),![y.RGB,y.HSL,y.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=g._parseInputs.apply(this,x),this._calculateLevels()}var D,$,L;return D=g,L=[{key:"_parseInputs",value:function(P,x,U,I){var F,R=arguments.length,Z=this.mode,oe=this.maxes[Z],q=[];if(3<=R){for(q[0]=P/oe[0],q[1]=x/oe[1],q[2]=U/oe[2],q[3]="number"==typeof I?I/oe[3]:1,F=q.length-1;0<=F;--F){var re=q[F];re<0?q[F]=0:1<re&&(q[F]=1)}return Z===y.HSL?E.default._hslaToRGBA(q):Z===y.HSB?E.default._hsbaToRGBA(q):q}if(1===R&&"string"==typeof P){if(U=P.trim().toLowerCase(),a[U])return g._parseInputs.call(this,a[U]);if(m.HEX3.test(U))return(q=m.HEX3.exec(U).slice(1).map(function(W){return parseInt(W+W,16)/255}))[3]=1,q;if(m.HEX6.test(U))return(q=m.HEX6.exec(U).slice(1).map(function(W){return parseInt(W,16)/255}))[3]=1,q;if(m.HEX4.test(U))return m.HEX4.exec(U).slice(1).map(function(W){return parseInt(W+W,16)/255});if(m.HEX8.test(U))return m.HEX8.exec(U).slice(1).map(function(W){return parseInt(W,16)/255});if(m.RGB.test(U))return(q=m.RGB.exec(U).slice(1).map(function(W){return W/255}))[3]=1,q;if(m.RGB_PERCENT.test(U))return(q=m.RGB_PERCENT.exec(U).slice(1).map(function(W){return parseFloat(W)/100}))[3]=1,q;if(m.RGBA.test(U))return m.RGBA.exec(U).slice(1).map(function(W,G){return 3===G?parseFloat(W):W/255});if(m.RGBA_PERCENT.test(U))return m.RGBA_PERCENT.exec(U).slice(1).map(function(W,G){return 3===G?parseFloat(W):parseFloat(W)/100});if(m.HSL.test(U)?(q=m.HSL.exec(U).slice(1).map(function(W,G){return 0===G?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:m.HSLA.test(U)&&(q=m.HSLA.exec(U).slice(1).map(function(W,G){return 0===G?parseInt(W,10)/360:3===G?parseFloat(W):parseInt(W,10)/100})),(q=q.map(function(W){return Math.max(Math.min(W,1),0)})).length)return E.default._hslaToRGBA(q);if(m.HSB.test(U)?(q=m.HSB.exec(U).slice(1).map(function(W,G){return 0===G?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:m.HSBA.test(U)&&(q=m.HSBA.exec(U).slice(1).map(function(W,G){return 0===G?parseInt(W,10)/360:3===G?parseFloat(W):parseInt(W,10)/100})),q.length){for(F=q.length-1;0<=F;--F)q[F]=Math.max(Math.min(q[F],1),0);return E.default._hsbaToRGBA(q)}q=[1,1,1,1]}else{if(1!==R&&2!==R||"number"!=typeof P)throw new Error("".concat(arguments,"is not a valid color representation."));q[0]=P/oe[2],q[1]=P/oe[2],q[2]=P/oe[2],q[3]="number"==typeof x?x/oe[3]:1,q=q.map(function(W){return Math.max(Math.min(W,1),0)})}return q}}],($=[{key:"toString",value:function(P){var x=this.levels,U=this._array,I=U[3];switch(P){case"#rrggbb":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16));case"#rrggbbaa":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16),x[3]<16?"0".concat(x[3].toString(16)):x[3].toString(16));case"#rgb":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*U[0]).toString(16),Math.round(15*U[1]).toString(16),Math.round(15*U[2]).toString(16),Math.round(15*U[3]).toString(16));case"rgb":return"rgb(".concat(x[0],", ",x[1],", ",x[2],")");case"rgb%":return"rgb(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*U[0]).toPrecision(3),"%, ",(100*U[1]).toPrecision(3),"%, ",(100*U[2]).toPrecision(3),"%, ",(100*U[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],", ",I,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],", ",I,")");case"hsla%":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");default:return"rgba(".concat(x[0],",",x[1],",",x[2],",",I,")")}}},{key:"setRed",value:function(P){this._array[0]=P/this.maxes[y.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(P){this._array[1]=P/this.maxes[y.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(P){this._array[2]=P/this.maxes[y.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(P){this._array[3]=P/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var P=this._array,x=this.levels=new Array(P.length),U=P.length-1;0<=U;--U)x[U]=Math.round(255*P[U]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(P,x){this.mode=P,this.maxes=x}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[y.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[y.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[y.RGB][1]}},{key:"_getHue",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[y.HSB][0]):(this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[y.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[y.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[y.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[y.HSB][1]):(this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[y.HSL][1])}}])&&l(D.prototype,$),L&&l(D,L),g}(),V.default=f=p.default.Color},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(o,se,V){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var l=E();if(l&&l.has(i))return l.get(i);var a,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var d;Object.prototype.hasOwnProperty.call(i,a)&&((d=h?Object.getOwnPropertyDescriptor(i,a):null)&&(d.get||d.set)?Object.defineProperty(u,a,d):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function E(){var i;return"function"!=typeof WeakMap?null:(E=function(){return i},i=new WeakMap)}o("./p5.Color"),p.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},p.default.prototype.endClip=function(){this._renderer.endClip()},p.default.prototype.clip=function(i,l){this._renderer.beginClip(l),i(),this._renderer.endClip(l)},p.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},p.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},p.default.prototype.colorMode=function(i,l,a,u,h){return p.default._validateParameters("colorMode",arguments),i!==y.RGB&&i!==y.HSB&&i!==y.HSL||(this._colorMode=i,i=this._colorMaxes[i],2===arguments.length?(i[0]=l,i[1]=l,i[2]=l,i[3]=l):4===arguments.length?(i[0]=l,i[1]=a,i[2]=u):5===arguments.length&&(i[0]=l,i[1]=a,i[2]=u,i[3]=h)),this},p.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},p.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},p.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},p.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},p.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},p.default.prototype.noErase=function(){return this._renderer.noErase(),this};var _=p.default;V.default=_},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.QUADRATIC=V.LINEAR=V._CTX_MIDDLE=V._DEFAULT_LEADMULT=V._DEFAULT_TEXT_FILL=V.WORD=V.CHAR=V.BOLDITALIC=V.BOLD=V.ITALIC=V.NORMAL=V.BLUR=V.ERODE=V.DILATE=V.POSTERIZE=V.INVERT=V.OPAQUE=V.GRAY=V.THRESHOLD=V.BURN=V.DODGE=V.SOFT_LIGHT=V.HARD_LIGHT=V.OVERLAY=V.REPLACE=V.SCREEN=V.MULTIPLY=V.EXCLUSION=V.SUBTRACT=V.DIFFERENCE=V.LIGHTEST=V.DARKEST=V.ADD=V.REMOVE=V.BLEND=V.UP_ARROW=V.TAB=V.SHIFT=V.RIGHT_ARROW=V.RETURN=V.OPTION=V.LEFT_ARROW=V.ESCAPE=V.ENTER=V.DOWN_ARROW=V.DELETE=V.CONTROL=V.BACKSPACE=V.ALT=V.AUTO=V.HSL=V.HSB=V.RGB=V.MITER=V.BEVEL=V.ROUND=V.SQUARE=V.PROJECT=V.PIE=V.CHORD=V.OPEN=V.CLOSE=V.TESS=V.QUAD_STRIP=V.QUADS=V.TRIANGLE_STRIP=V.TRIANGLE_FAN=V.TRIANGLES=V.LINE_LOOP=V.LINE_STRIP=V.LINES=V.POINTS=V.BASELINE=V.BOTTOM=V.TOP=V.CENTER=V.LEFT=V.RIGHT=V.RADIUS=V.CORNERS=V.CORNER=V.RAD_TO_DEG=V.DEG_TO_RAD=V.RADIANS=V.DEGREES=V.TWO_PI=V.TAU=V.QUARTER_PI=V.PI=V.HALF_PI=V.WAIT=V.TEXT=V.MOVE=V.HAND=V.CROSS=V.ARROW=V.WEBGL2=V.WEBGL=V.P2D=V.VERSION=void 0,V.RGBA=V.HALF_FLOAT=V.FLOAT=V.UNSIGNED_INT=V.UNSIGNED_BYTE=V.COVER=V.CONTAIN=V.FALLBACK=V.LABEL=V.AXES=V.GRID=V._DEFAULT_FILL=V._DEFAULT_STROKE=V.PORTRAIT=V.LANDSCAPE=V.SMOOTH=V.FLAT=V.MIRROR=V.CLAMP=V.REPEAT=V.NEAREST=V.IMAGE=V.IMMEDIATE=V.TEXTURE=V.FILL=V.STROKE=V.CURVE=V.BEZIER=void 0;var v=Math.PI,b=(V.VERSION="1.10.0",V.P2D="p2d",V.WEBGL="webgl",V.WEBGL2="webgl2",V.ARROW="default",V.CROSS="crosshair",V.HAND="pointer",V.MOVE="move",V.TEXT="text",V.WAIT="wait",v/2);V.HALF_PI=b,V.PI=b=v,V.QUARTER_PI=b=v/4,V.TAU=b=2*v,V.TWO_PI=b=2*v,V.DEGREES="degrees",V.RADIANS="radians",V.DEG_TO_RAD=b=v/180,V.RAD_TO_DEG=b=180/v,V.CORNER="corner",V.CORNERS="corners",V.RADIUS="radius",V.RIGHT="right",V.LEFT="left",V.CENTER="center",V.TOP="top",V.BOTTOM="bottom",V.BASELINE="alphabetic",V.POINTS=0,V.LINES=1,V.LINE_STRIP=3,V.LINE_LOOP=2,V.TRIANGLES=4,V.TRIANGLE_FAN=6,V.TRIANGLE_STRIP=5,V.QUADS="quads",V.QUAD_STRIP="quad_strip",V.TESS="tess",V.CLOSE="close",V.OPEN="open",V.CHORD="chord",V.PIE="pie",V.PROJECT="square",V.SQUARE="butt",V.ROUND="round",V.BEVEL="bevel",V.MITER="miter",V.RGB="rgb",V.HSB="hsb",V.HSL="hsl",V.AUTO="auto",V.ALT=18,V.BACKSPACE=8,V.CONTROL=17,V.DELETE=46,V.DOWN_ARROW=40,V.ENTER=13,V.ESCAPE=27,V.LEFT_ARROW=37,V.OPTION=18,V.RETURN=13,V.RIGHT_ARROW=39,V.SHIFT=16,V.TAB=9,V.UP_ARROW=38,V.BLEND="source-over",V.REMOVE="destination-out",V.ADD="lighter",V.DARKEST="darken",V.LIGHTEST="lighten",V.DIFFERENCE="difference",V.SUBTRACT="subtract",V.EXCLUSION="exclusion",V.MULTIPLY="multiply",V.SCREEN="screen",V.REPLACE="copy",V.OVERLAY="overlay",V.HARD_LIGHT="hard-light",V.SOFT_LIGHT="soft-light",V.DODGE="color-dodge",V.BURN="color-burn",V.THRESHOLD="threshold",V.GRAY="gray",V.OPAQUE="opaque",V.INVERT="invert",V.POSTERIZE="posterize",V.DILATE="dilate",V.ERODE="erode",V.BLUR="blur",V.NORMAL="normal",V.ITALIC="italic",V.BOLD="bold",V.BOLDITALIC="bold italic",V.CHAR="CHAR",V.WORD="WORD",V._DEFAULT_TEXT_FILL="#000000",V._DEFAULT_LEADMULT=1.25,V._CTX_MIDDLE="middle",V.LINEAR="linear",V.QUADRATIC="quadratic",V.BEZIER="bezier",V.CURVE="curve",V.STROKE="stroke",V.FILL="fill",V.TEXTURE="texture",V.IMMEDIATE="immediate",V.IMAGE="image",V.NEAREST="nearest",V.REPEAT="repeat",V.CLAMP="clamp",V.MIRROR="mirror",V.FLAT="flat",V.SMOOTH="smooth",V.LANDSCAPE="landscape",V.PORTRAIT="portrait",V._DEFAULT_STROKE="#000000",V._DEFAULT_FILL="#FFFFFF",V.GRID="grid",V.AXES="axes",V.LABEL="label",V.FALLBACK="fallback",V.CONTAIN="contain",V.COVER="cover",V.UNSIGNED_BYTE="unsigned-byte",V.UNSIGNED_INT="unsigned-int",V.FLOAT="float",V.HALF_FLOAT="half-float",V.RGBA="rgba"},{}],273:[function(o,se,V){"use strict";function v(h){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(h)}function b(h){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(y=o("./main"))&&y.__esModule?y:{default:y},y=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==b(h)&&"function"!=typeof h)return{default:h};var d=E();if(d&&d.has(h))return d.get(h);var m,f={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var D;Object.prototype.hasOwnProperty.call(h,m)&&((D=g?Object.getOwnPropertyDescriptor(h,m):null)&&(D.get||D.set)?Object.defineProperty(f,m,D):f[m]=h[m])}return f.default=h,d&&d.set(h,f),f}(o("./constants"));function E(){var h;return"function"!=typeof WeakMap?null:(E=function(){return h},h=new WeakMap)}var _=[y.ARROW,y.CROSS,y.HAND,y.MOVE,y.TEXT,y.WAIT],i=(p.default.prototype._frameRate=0,p.default.prototype._lastFrameTime=window.performance.now(),p.default.prototype._targetFrameRate=60,window.print),l=!1;function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}p.default.prototype.print=function(){var h;arguments.length?(h=console).log.apply(h,arguments):l||(i(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(l=!0))},p.default.prototype.frameCount=0,p.default.prototype.deltaTime=0,p.default.prototype.focused=document.hasFocus(),p.default.prototype.cursor=function(h,d,m){var f,g="auto",D=this._curElement.elt;_.includes(h)?g=h:"string"==typeof h&&(f="",d&&m&&"number"==typeof d&&"number"==typeof m&&(f="".concat(d," ").concat(m)),g="http://"===h.substring(0,7)||"https://"===h.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(h)?"url(".concat(h,") ").concat(f,", auto"):h),D.style.cursor=g},p.default.prototype.frameRate=function(h){return p.default._validateParameters("frameRate",arguments),"number"!=typeof h||h<0?this._frameRate:(this._setProperty("_targetFrameRate",h),0===h&&this._setProperty("_frameRate",h),this)},p.default.prototype.getFrameRate=function(){return this.frameRate()},p.default.prototype.setFrameRate=function(h){return this.frameRate(h)},p.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},p.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},p.default.prototype.webglVersion=y.P2D,p.default.prototype.displayWidth=screen.width,p.default.prototype.displayHeight=screen.height,p.default.prototype.windowWidth=0,p.default.prototype.windowHeight=0,p.default.prototype._onresize=function(h){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",u());var d=this._isGlobal?window:this;"function"!=typeof d.windowResized||void 0===(d=d.windowResized(h))||d||h.preventDefault()},p.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",u())},p.default.prototype.width=0,p.default.prototype.height=0,p.default.prototype.fullscreen=function(h){if(p.default._validateParameters("fullscreen",arguments),void 0===h)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(h){if(h=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");h.requestFullscreen?h.requestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.msRequestFullscreen&&h.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},p.default.prototype.pixelDensity=function(h){var d;return p.default._validateParameters("pixelDensity",arguments),"number"==typeof h?(h!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=h),(d=this).resizeCanvas(this.width,this.height,!0)):d=this._pixelDensity,d},p.default.prototype.displayDensity=function(){return window.devicePixelRatio},p.default.prototype.getURL=function(){return location.href},p.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(h){return""!==h})},p.default.prototype.getURLParams=function(){for(var h,d=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};null!=(h=d.exec(location.search));)h.index===d.lastIndex&&d.lastIndex++,m[h[1]]=h[2];return m},V.default=o=p.default},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(_=o("../main"))&&_.__esModule?_:{default:_};function b(i,l){l=l||console.log.bind(console),p||E(),p.some(function(a){var u;if(i.message&&null!==i.message.match("\\W?".concat(a.name,"\\W")))return u="function"===a.type?"".concat(a.name,"()"):a.name,l("Did you just try to use p5.js's ".concat(u," ").concat(a.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(y)),!0})}o("../internationalization");var p=null,E=null,y=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},p=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),_=(E=function(){function i(a){return Object.getOwnPropertyNames(a).filter(function(u){return"_"!==u[0]&&!(u in l)&&(l[u]=!0)}).map(function(u){var h="function"==typeof a[u]?"function":u===u.toUpperCase()?"constant":"variable";return{name:u,type:h}})}var l={};(p=[].concat(i(v.default.prototype),i(o("../constants")))).sort(function(a,u){return u.name.length-a.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=b,"complete"!==document.readyState&&(window.addEventListener("error",b,!1),window.addEventListener("load",function(){window.removeEventListener("error",b,!1)})),v.default);V.default=_},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(v=o("../main"))&&v.__esModule?v:{default:v};o("../internationalization"),v.default._friendlyFileLoadError=function(){},V.default=o=v.default},{"../internationalization":281,"../main":283}],276:[function(o,se,V){"use strict";function v(j){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(te){return typeof te}:function(te){return te&&"function"==typeof Symbol&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te})(j)}function b(j){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(te){return v(te)}:function(te){return te&&"function"==typeof Symbol&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":v(te)})(j)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=function W(j){return j&&j.__esModule?j:{default:j}}(o("../main"));function q(){var j;return"function"!=typeof WeakMap?null:(q=function(){return j},j=new WeakMap)}o("../internationalization"),function re(j){if(j&&j.__esModule)return j;if(null===j||"object"!==b(j)&&"function"!=typeof j)return{default:j};var te=q();if(te&&te.has(j))return te.get(j);var me,xe,Be={},qe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(me in j)Object.prototype.hasOwnProperty.call(j,me)&&((xe=qe?Object.getOwnPropertyDescriptor(j,me):null)&&(xe.get||xe.set)?Object.defineProperty(Be,me,xe):Be[me]=j[me]);return Be.default=j,te&&te.set(j,Be),Be}(o("../constants")),p.default._fesCodeReader=function(){},V.default=p.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(o,se,V){"use strict";function v(){var b=/(^|@)\S+:\d+/,p=/^\s*at .*(\S+:\d+|\(native\))/m,y=/^(eval@)?(\[native code])?$/;return{parse:function(E){return void 0!==E.stacktrace||void 0!==E["opera#sourceloc"]?this.parseOpera(E):E.stack&&E.stack.match(p)?this.parseV8OrIE(E):E.stack?this.parseFFOrSafari(E):void 0},extractLocation:function(E){return-1===E.indexOf(":")?[E]:[(E=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(E.replace(/[()]/g,"")))[1],E[2]||void 0,E[3]||void 0]},parseV8OrIE:function(E){return E.stack.split("\n").filter(function(_){return!!_.match(p)},this).map(function(_){var l=(i=(_=-1<_.indexOf("(eval ")?_.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):_).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),i=(i=l?i.replace(l[0],""):i).split(/\s+/).slice(1);return l=this.extractLocation(l?l[1]:i.pop()),{functionName:i.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:_}},this)},parseFFOrSafari:function(E){return E.stack.split("\n").filter(function(_){return!_.match(y)},this).map(function(_){var i,l;return-1===(_=-1<_.indexOf(" > eval")?_.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):_).indexOf("@")&&-1===_.indexOf(":")?{functionName:_}:{functionName:(l=_.match(i=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(_.replace(i,"")))[0],lineNumber:l[1],columnNumber:l[2],source:_}},this)},parseOpera:function(E){return!E.stacktrace||-1<E.message.indexOf("\n")&&E.message.split("\n").length>E.stacktrace.split("\n").length?this.parseOpera9(E):E.stack?this.parseOpera11(E):this.parseOpera10(E)},parseOpera9:function(E){for(var _=/Line (\d+).*script (?:in )?(\S+)/i,i=E.message.split("\n"),l=[],a=2,u=i.length;a<u;a+=2){var h=_.exec(i[a]);h&&l.push({fileName:h[2],lineNumber:h[1],source:i[a]})}return l},parseOpera10:function(E){for(var _=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=E.stacktrace.split("\n"),l=[],a=0,u=i.length;a<u;a+=2){var h=_.exec(i[a]);h&&l.push({functionName:h[3]||void 0,fileName:h[2],lineNumber:h[1],source:i[a]})}return l},parseOpera11:function(E){return E.stack.split("\n").filter(function(_){return!!_.match(b)&&!_.match(/^Error created at/)},this).map(function(_){var i,a=_.split("@"),l=this.extractLocation(a.pop());return{functionName:(a=a.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(i=a.match(/\(([^)]*)\)/)?a.replace(/^[^(]+\(([^)]*)\)$/,"$1"):i)||"[arguments not available]"===i?void 0:i.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:_}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new v},V.default=o=o.default},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(o,se,V){"use strict";function v(E){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(E)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(b=o("../main"))&&b.__esModule?b:{default:b};function p(){var E;return"function"!=typeof WeakMap?null:(p=function(){return E},E=new WeakMap)}function y(E){return(y="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(E)}(function(E){if(!(E&&E.__esModule||null===E||"object"!==y(E)&&"function"!=typeof E)){var _=p();if(_&&_.has(E))return _.get(E);var i,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in E){var u;Object.prototype.hasOwnProperty.call(E,i)&&((u=a?Object.getOwnPropertyDescriptor(E,i):null)&&(u.get||u.set)?Object.defineProperty(l,i,u):l[i]=E[i])}l.default=E,_&&_.set(E,l)}})(o("../constants")),o("../internationalization"),b.default._validateParameters=b.default._clearValidateParamsCache=function(){},V.default=o=b.default},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(o,se,V){"use strict";function v(E){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(E)}function b(E){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(E)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=function(E){if(E&&E.__esModule)return E;if(null===E||"object"!==b(E)&&"function"!=typeof E)return{default:E};var _=y();if(_&&_.has(E))return _.get(E);var i,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in E){var u;Object.prototype.hasOwnProperty.call(E,i)&&((u=a?Object.getOwnPropertyDescriptor(E,i):null)&&(u.get||u.set)?Object.defineProperty(l,i,u):l[i]=E[i])}return l.default=E,_&&_.set(E,l),l}(o("./constants"));function y(){var E;return"function"!=typeof WeakMap?null:(y=function(){return E},E=new WeakMap)}V.default={modeAdjust:function(E,_,i,l,a){return a===p.CORNER?{x:E,y:_,w:i,h:l}:a===p.CORNERS?{x:E,y:_,w:i-E,h:l-_}:a===p.RADIUS?{x:E-i,y:_-l,w:2*i,h:2*l}:a===p.CENTER?{x:E-.5*i,y:_-.5*l,w:i,h:l}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(o,se,V){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(b=o("../core/main"))&&b.__esModule?b:{default:b};o("./internationalization");var b=Promise.resolve();Promise.all([new Promise(function(p,y){"complete"===document.readyState?p():window.addEventListener("load",p,!1)}),b]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(o,se,V){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.setTranslatorLanguage=V.currentTranslatorLanguage=V.availableTranslatorLanguages=V.initialize=V.translator=void 0;var v,p=E(o("i18next")),y=E(o("i18next-browser-languagedetector"));function E(l){return l&&l.__esModule?l:{default:l}}function _(l,a){for(var u=0;u<a.length;u++){var h=a[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}var i=function(){function l(d,m){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(d,m)}var a,u;return a=l,(u=[{key:"fetchWithTimeout",value:function(d,m){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(d,m),new Promise(function(g,D){return setTimeout(function(){return D(new Error("timeout"))},f)})])}},{key:"init",value:function(d){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=d,this.options=m}},{key:"read",value:function(d,m,f){var g=this.options.loadPath;d===this.options.fallback?f(null,v[d][m]):undefined.includes(d)?(g=this.services.interpolator.interpolate(g,{lng:d,ns:m}),this.loadUrl(g,f)):f("Not found",!1)}},{key:"loadUrl",value:function(d,m){this.fetchWithTimeout(d).then(function(f){if(f.ok)return f.json();throw new Error("failed loading ".concat(d))},function(){throw new Error("failed loading ".concat(d))}).then(function(f){return m(null,f)}).catch(m)}}])&&_(a.prototype,u),l}();i.type="backend",V.translator=function(l,a){console.debug("p5.js translator called before translations were loaded"),p.default.t(l,a)},V.initialize=function(){return p.default.use(y.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(l){V.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},V.availableTranslatorLanguages=function(){return p.default.languages},V.currentTranslatorLanguage=function(l){return p.default.language},V.setTranslatorLanguage=function(l){return p.default.changeLanguage(l||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},V.default=o=o.default},{"./main":283}],283:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,o("./shim");var p=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var a=y();if(a&&a.has(l))return a.get(l);var u,h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=d?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(h,u,m):h[u]=l[u])}return h.default=l,a&&a.set(l,h),h}(o("./constants"));function y(){var l;return"function"!=typeof WeakMap?null:(y=function(){return l},l=new WeakMap)}function E(l,a){for(var u=0;u<a.length;u++){var h=a[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}var _,i=function(){function l(d,g){var f=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=g,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},g=Object.getOwnPropertyNames(l.prototype._registeredMethods);var D=!0,$=!1,L=void 0;try{for(var P,x=g[Symbol.iterator]();!(D=(P=x.next()).done);D=!0){var U=P.value;this._registeredMethods[U]=l.prototype._registeredMethods[U].slice()}}catch(G){$=!0,L=G}finally{try{D||null==x.return||x.return()}finally{if($)throw L}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),l.prototype.callRegisteredHooksFor=function(G){var K=this||l.prototype,ue=this._isGlobal?window:this;if(K._registeredMethods.hasOwnProperty(G)){K=K._registeredMethods[G];var Me=!0,Y=void(G=!1);try{for(var j,te=K[Symbol.iterator]();!(Me=(j=te.next()).done);Me=!0){var me=j.value;"function"==typeof me&&me.call(ue)}}catch(qe){G=!0,Y=qe}finally{try{Me||null==te.return||te.return()}finally{if(G)throw Y}}}},this._start=function(){f._userNode&&"string"==typeof f._userNode&&(f._userNode=document.getElementById(f._userNode));var G=f._isGlobal?window:f;if(G.preload){f.callRegisteredHooksFor("beforePreload");var K,ue=document.getElementById(f._loadingScreenId),Me=(ue||((ue=document.createElement("div")).innerHTML="Loading...",ue.style.position="absolute",ue.id=f._loadingScreenId,(f._userNode||document.body).appendChild(ue)),f._preloadMethods);for(K in Me){Me[K]=Me[K]||l;var Y=Me[K];Y!==l.prototype&&Y!==l||(f._isGlobal&&(window[K]=f._wrapPreload(f,K)),Y=f),f._registeredPreloadMethods[K]=Y[K],Y[K]=f._wrapPreload(Y,K)}G.preload(),f._runIfPreloadsAreDone()}else f._setup(),f._recording||f._draw()},this._runIfPreloadsAreDone=function(){var G,K=this._isGlobal?window:this;0===K._preloadCount&&((G=document.getElementById(K._loadingScreenId))&&G.parentNode.removeChild(G),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),K._setup(),this._recording||K._draw()))},this._decrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||"function"!=typeof G.preload||(G._setProperty("_preloadCount",G._preloadCount-1),G._runIfPreloadsAreDone())},this._wrapPreload=function(G,K){var ue=this;return function(){ue._incrementPreload();for(var Me=arguments.length,Y=new Array(Me),j=0;j<Me;j++)Y[j]=arguments[j];return ue._registeredPreloadMethods[K].apply(G,Y)}},this._incrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||G._setProperty("_preloadCount",G._preloadCount+1)},this._setup=function(){f.callRegisteredHooksFor("beforeSetup"),f.createCanvas(f._defaultCanvasSize.width,f._defaultCanvasSize.height,"p2d");var G=f._isGlobal?window:f;if("function"==typeof G.preload)for(var K in f._preloadMethods)G[K]=f._preloadMethods[K][K],G[K]&&f&&(G[K]=G[K].bind(f));f._millisStart=window.performance.now(),G._preloadDone=!0,"function"==typeof G.setup&&G.setup();var ue=document.getElementsByTagName("canvas"),Me=!0,Y=!1,j=void 0;try{for(var te,me=ue[Symbol.iterator]();!(Me=(te=me.next()).done);Me=!0){var xe=te.value;"true"===xe.dataset.hidden&&(xe.style.visibility="",delete xe.dataset.hidden)}}catch(Be){Y=!0,j=Be}finally{try{Me||null==me.return||me.return()}finally{if(Y)throw j}}f._lastTargetFrameTime=window.performance.now(),f._lastRealFrameTime=window.performance.now(),f._setupDone=!0,(f._accessibleOutputs.grid||f._accessibleOutputs.text)&&f._updateAccsOutput(),f.callRegisteredHooksFor("afterSetup")},this._draw=function(K){K=K||window.performance.now();var Me=1e3/f._targetFrameRate;(!f._loop||Me-5<=K-f._lastTargetFrameTime)&&(f.deltaTime=K-f._lastRealFrameTime,f._setProperty("deltaTime",f.deltaTime),f._frameRate=1e3/f.deltaTime,f.redraw(),f._lastTargetFrameTime=Math.max(f._lastTargetFrameTime+Me,K),f._lastRealFrameTime=K,void 0!==f._updateMouseCoords&&(f._updateMouseCoords(),f._setProperty("movedX",0),f._setProperty("movedY",0))),f._loop&&(f._requestAnimId=window.requestAnimationFrame(f._draw))},this._setProperty=function(G,K){f[G]=K,f._isGlobal&&(window[G]=K)},this.remove=function(){if(f._startListener&&window.removeEventListener("load",f._startListener,!1),(G=document.getElementById(f._loadingScreenId))&&(G.parentNode.removeChild(G),f._incrementPreload()),f._curElement){for(var K in f._loop=!1,f._requestAnimId&&window.cancelAnimationFrame(f._requestAnimId),f._events)window.removeEventListener(K,f._events[K]);var ue=!0,G=!1,Me=void 0;try{for(var Y,j=f._elements[Symbol.iterator]();!(ue=(Y=j.next()).done);ue=!0){var te,me=Y.value;for(te in me.elt&&me.elt.parentNode&&me.elt.parentNode.removeChild(me.elt),me._events)me.elt.removeEventListener(te,me._events[te])}}catch(ze){G=!0,Me=ze}finally{try{ue||null==j.return||j.return()}finally{if(G)throw Me}}var xe=f;f._registeredMethods.remove.forEach(function(ze){void 0!==ze&&ze.call(xe)})}if(f._isGlobal){for(var Be in l.prototype)try{delete window[Be]}catch{window[Be]=void 0}for(var qe in f)if(f.hasOwnProperty(qe))try{delete window[qe]}catch{window[qe]=void 0}l.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(G){void 0!==G&&G.call(this)},this),this._setupPromisePreloads();var I,F,R=this._createFriendlyGlobalFunctionBinder();if(d)d(this),l._checkForUserDefinedFunctions(this);else{for(var Z in this._isGlobal=!0,l.instance=this,l.prototype)"function"==typeof l.prototype[Z]?(I=Z.substring(2),this._events.hasOwnProperty(I)||(Math.hasOwnProperty(Z)&&Math[Z]===l.prototype[Z]?R(Z,l.prototype[Z]):R(Z,l.prototype[Z].bind(this)))):R(Z,l.prototype[Z]);for(var oe in this)this.hasOwnProperty(oe)&&R(oe,this[oe])}for(F in this._events){var q=this["_on".concat(F)];q&&(q=q.bind(this),window.addEventListener(F,q,{passive:!1}),this._events[F]=q)}function re(){f._setProperty("focused",!0)}function W(){f._setProperty("focused",!1)}window.addEventListener("focus",re),window.addEventListener("blur",W),this.registerMethod("remove",function(){window.removeEventListener("focus",re),window.removeEventListener("blur",W)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var a,u;return a=l,(u=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=p.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(d,m){l.prototype._preloadMethods.hasOwnProperty(d)||(l.prototype._preloadMethods[d]=m)}},{key:"registerMethod",value:function(d,m){var f=this||l.prototype;f._registeredMethods.hasOwnProperty(d)||(f._registeredMethods[d]=[]),f._registeredMethods[d].push(m)}},{key:"unregisterMethod",value:function(d,m){var f=this||l.prototype;if(f._registeredMethods.hasOwnProperty(d)){for(var g=f._registeredMethods[d],D=[],$=0;$<g.length;$++)g[$]===m&&D.push($);for(var L=D.length-1;0<=L;L--)g.splice(D[L],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},m=d.globalObject||window;return d.log||console.log.bind(console),function(f,g){m[f]=g}}}])&&E(a.prototype,u),l}();for(_ in i.instance=null,i.disableFriendlyErrors=!1,p)i.prototype[_]=p[_];i.VERSION=p.VERSION,i.prototype._preloadMethods={loadJSON:i.prototype,loadImage:i.prototype,loadStrings:i.prototype,loadXML:i.prototype,loadBytes:i.prototype,loadTable:i.prototype,loadFont:i.prototype,loadModel:i.prototype,loadShader:i.prototype},i.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},i.prototype._registeredPreloadMethods={},V.default=i},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(p,y){for(var E=0;E<y.length;E++){var _=y[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}v.default.Element=function(){function p(i,l){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.elt=i,this._pInst=this._pixelsState=l,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var y,E,_;return y=p,_=[{key:"_adjustListener",value:function(i,l,a){return!1===l?v.default.Element._detachListener(i,a):v.default.Element._attachListener(i,l,a),this}},{key:"_attachListener",value:function(i,l,a){a._events[i]&&v.default.Element._detachListener(i,a),l=l.bind(a),a.elt.addEventListener(i,l,!1),a._events[i]=l}},{key:"_detachListener",value:function(i,l){l.elt.removeEventListener(i,l._events[i],!1),l._events[i]=null}}],(E=[{key:"parent",value:function(i){return void 0===i?this.elt.parentNode:("string"==typeof i?("#"===i[0]&&(i=i.substring(1)),i=document.getElementById(i)):i instanceof v.default.Element&&(i=i.elt),i.appendChild(this.elt),this)}},{key:"id",value:function(i){return void 0===i?this.elt.id:(this.elt.id=i,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(i){return void 0===i?this.elt.className:(this.elt.className=i,this)}},{key:"mousePressed",value:function(i){return v.default.Element._adjustListener("mousedown",function(l){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(l),i.call(this,l)},this),this}},{key:"doubleClicked",value:function(i){return v.default.Element._adjustListener("dblclick",i,this),this}},{key:"mouseWheel",value:function(i){return v.default.Element._adjustListener("wheel",i,this),this}},{key:"mouseReleased",value:function(i){return v.default.Element._adjustListener("mouseup",i,this),this}},{key:"mouseClicked",value:function(i){return v.default.Element._adjustListener("click",i,this),this}},{key:"mouseMoved",value:function(i){return v.default.Element._adjustListener("mousemove",i,this),this}},{key:"mouseOver",value:function(i){return v.default.Element._adjustListener("mouseover",i,this),this}},{key:"mouseOut",value:function(i){return v.default.Element._adjustListener("mouseout",i,this),this}},{key:"touchStarted",value:function(i){return v.default.Element._adjustListener("touchstart",i,this),this}},{key:"touchMoved",value:function(i){return v.default.Element._adjustListener("touchmove",i,this),this}},{key:"touchEnded",value:function(i){return v.default.Element._adjustListener("touchend",i,this),this}},{key:"dragOver",value:function(i){return v.default.Element._adjustListener("dragover",i,this),this}},{key:"dragLeave",value:function(i){return v.default.Element._adjustListener("dragleave",i,this),this}},{key:"_setProperty",value:function(i,l){this[i]=l}}])&&b(y.prototype,E),_&&b(y,_),p}(),V.default=o=v.default.Element},{"./main":283}],285:[function(o,se,V){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}function b(m){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(f){return v(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":v(f)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(d=o("./main"))&&d.__esModule?d:{default:d},y=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==b(m)&&"function"!=typeof m)return{default:m};var f=E();if(f&&f.has(m))return f.get(m);var g,D={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in m){var L;Object.prototype.hasOwnProperty.call(m,g)&&((L=$?Object.getOwnPropertyDescriptor(m,g):null)&&(L.get||L.set)?Object.defineProperty(D,g,L):D[g]=m[g])}return D.default=m,f&&f.set(m,D),D}(o("./constants"));function E(){var m;return"function"!=typeof WeakMap?null:(E=function(){return m},m=new WeakMap)}function _(m,f){for(var g=0;g<f.length;g++){var D=f[g];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(m,D.key,D)}}function i(m,f){return(i=Object.setPrototypeOf||function(g,D){return g.__proto__=D,g})(m,f)}function a(m,f){return!f||"object"!==b(f)&&"function"!=typeof f?u(m):f}function u(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function h(m){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(m)}p.default.Graphics=function(m){var f=$;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),m&&i(f,m);var D=function l(m){return function(){var f,g=h(m);return a(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(f=h(this).constructor,Reflect.construct(g,arguments,f)):g.apply(this,arguments))}}($);function $(L,P,oe,U,I){var F;if(!(this instanceof $))throw new TypeError("Cannot call a class as a function");Z=I||document.createElement("canvas"),(F=D.call(this,Z,U)).canvas=Z;var R,Z=oe||y.P2D;for(R in oe=U._userNode||document.body,I||oe.appendChild(F.canvas),p.default.prototype)F[R]||(F[R]="function"==typeof p.default.prototype[R]?p.default.prototype[R].bind(u(F)):p.default.prototype[R]);return p.default.prototype._initializeInstanceVariables.apply(u(F)),F.width=L,F.height=P,F._pixelDensity=U._pixelDensity,Z===y.WEBGL?(F._renderer=new p.default.RendererGL(F.canvas,u(F),!1),L=(I=F._renderer._adjustDimensions(L,P)).adjustedWidth,P=I.adjustedHeight):F._renderer=new p.default.Renderer2D(F.canvas,u(F),!1),U._elements.push(u(F)),Object.defineProperty(u(F),"deltaTime",{get:function(){return this._pInst.deltaTime}}),F._renderer.resize(L,P),F._renderer._applyDefaults(),a(F,u(F))}return f=$,(m=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var L,P=this._pInst._elements.indexOf(this);for(L in-1!==P&&this._pInst._elements.splice(P,1),this._events)this.elt.removeEventListener(L,this._events[L]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(L){return new p.default.Framebuffer(this,L)}}])&&_(f.prototype,m),$}(p.default.Element);var d=p.default.Graphics;V.default=d},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(o,se,V){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(h=o("./main"))&&h.__esModule?h:{default:h},p=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==E(m)&&"function"!=typeof m)return{default:m};var f=y();if(f&&f.has(m))return f.get(m);var g,D={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in m){var L;Object.prototype.hasOwnProperty.call(m,g)&&((L=$?Object.getOwnPropertyDescriptor(m,g):null)&&(L.get||L.set)?Object.defineProperty(D,g,L):D[g]=m[g])}return D.default=m,f&&f.set(m,D),D}(o("../core/constants"));function y(){var m;return"function"!=typeof WeakMap?null:(y=function(){return m},m=new WeakMap)}function E(m){return(E="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(f){return v(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":v(f)})(m)}function _(m,f){for(var g=0;g<f.length;g++){var D=f[g];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(m,D.key,D)}}function i(m,f){return(i=Object.setPrototypeOf||function(g,D){return g.__proto__=D,g})(m,f)}function a(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(m){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(m)}var h=function(m){var f=$;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),m&&i(f,m);var D=function l(m){return function(){var f,g,D=u(m);return f=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(f=u(this).constructor,Reflect.construct(D,arguments,f)):D.apply(this,arguments),D=this,!(g=f)||"object"!==E(g)&&"function"!=typeof g?a(D):g}}($);function $(L,P,x){var U;if(this instanceof $)return(U=D.call(this,L,P)).canvas=L,U._pixelsState=P,x?(U._isMainCanvas=!0,U._pInst._setProperty("_curElement",a(U)),U._pInst._setProperty("canvas",U.canvas),U._pInst._setProperty("width",U.width),U._pInst._setProperty("height",U.height)):(U.canvas.style.display="none",U._styles=[]),U._clipping=!1,U._clipInvert=!1,U._textSize=12,U._textLeading=15,U._textFont="sans-serif",U._textStyle=p.NORMAL,U._textAscent=null,U._textDescent=null,U._textAlign=p.LEFT,U._textBaseline=p.BASELINE,U._textWrap=p.WORD,U._rectMode=p.CORNER,U._ellipseMode=p.CENTER,U._curveTightness=0,U._imageMode=p.CORNER,U._tint=null,U._doStroke=!0,U._doFill=!0,U._strokeSet=!1,U._fillSet=!1,U._leadingSet=!1,U._pushPopDepth=0,U;throw new TypeError("Cannot call a class as a function")}return f=$,(m=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(L){this._pushPopDepth--,L.properties&&Object.assign(this,L.properties)}},{key:"beginClip",value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=L.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(L,P){this.width=L,this.height=P,this.elt.width=L*this._pInst._pixelDensity,this.elt.height=P*this._pInst._pixelDensity,this.elt.style.width="".concat(L,"px"),this.elt.style.height="".concat(P,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(L,P,x,U){var I=this._pixelsState,F=I._pixelDensity,R=this.canvas;if(void 0===L&&void 0===P)L=P=0,x=I.width,U=I.height;else if(L*=F,P*=F,void 0===x&&void 0===U)return L<0||P<0||L>=R.width||P>=R.height?[0,0,0,0]:this._getPixel(L,P);return(I=new b.default.Image(x*F,U*F)).pixelDensity(F),I.canvas.getContext("2d").drawImage(R,L,P,x*F,U*F,0,0,x*F,U*F),I}},{key:"textLeading",value:function(L){return"number"==typeof L?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",L),this._pInst):this._textLeading}},{key:"textStyle",value:function(L){return L?(L!==p.NORMAL&&L!==p.ITALIC&&L!==p.BOLD&&L!==p.BOLDITALIC||this._setProperty("_textStyle",L),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(L,P){return void 0!==L?(this._setProperty("_textAlign",L),void 0!==P&&this._setProperty("_textBaseline",P),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(L){return this._setProperty("_textWrap",L),this._textWrap}},{key:"text",value:function(L,P,x,U,I){var F,R,Z,oe,q=this._pInst,re=this._textWrap,W=Number.MAX_VALUE,G=x;if((this._doFill||this._doStroke)&&void 0!==L){if(F=(L=(L="string"!=typeof L?L.toString():L).replace(/(\t)/g,"  ")).split("\n"),void 0!==U){switch(this._rectMode===p.CENTER&&(P-=U/2),this._textAlign){case p.CENTER:P+=U/2;break;case p.RIGHT:P+=U}if(void 0!==I){this._rectMode===p.CENTER&&(x-=I/2,G-=I/2),L=x;var K=q.textAscent();switch(this._textBaseline){case p.BOTTOM:oe=x+I,x=Math.max(oe,x),G+=K;break;case p.CENTER:oe=x+I/2,x=Math.max(oe,x),G+=K/2}W=x+I-K,this._textBaseline===p.CENTER&&(W=L+I-K/2)}else this._textBaseline!==p.BOTTOM&&this._textBaseline!==p.CENTER||(G=x-(L=q.textSize()*this._textLeading)/2,W=x+L/2);if(re===p.WORD){for(var ue=[],Me=0;Me<F.length;Me++){for(var Y="",j=F[Me].split(" "),te=0;te<j.length;te++)R="".concat(Y+j[te])+" ",Y=U<(Z=this.textWidth(R))&&0<Y.length?(ue.push(Y),"".concat(j[te])+" "):R;ue.push(Y)}var me=0;this._textBaseline===p.CENTER?me=(ue.length-1)*q.textLeading()/2:this._textBaseline===p.BOTTOM&&(me=(ue.length-1)*q.textLeading());for(var xe=0;xe<F.length;xe++){Y="",j=F[xe].split(" ");for(var Be=0;Be<j.length;Be++)R="".concat(Y+j[Be])+" ",U<(Z=this.textWidth(R))&&0<Y.length?(this._renderText(q,Y.trim(),P,x-me,W,G),Y="".concat(j[Be])+" ",x+=q.textLeading()):Y=R;this._renderText(q,Y.trim(),P,x-me,W,G),x+=q.textLeading()}}else{for(var qe=[],ct=0;ct<F.length;ct++)for(var ze=F[ct].split(Y=""),st=0;st<ze.length;st++)R="".concat(Y+ze[st]),(Z=this.textWidth(R))<=U?Y+=ze[st]:U<Z&&0<Y.length&&(qe.push(Y),Y="".concat(ze[st]));qe.push(Y);var lt=0;this._textBaseline===p.CENTER?lt=(qe.length-1)*q.textLeading()/2:this._textBaseline===p.BOTTOM&&(lt=(qe.length-1)*q.textLeading());for(var Fe=0;Fe<F.length;Fe++){ze=F[Fe].split(Y="");for(var rt=0;rt<ze.length;rt++)R="".concat(Y+ze[rt]),(Z=this.textWidth(R))<=U?Y+=ze[rt]:U<Z&&0<Y.length&&(this._renderText(q,Y.trim(),P,x-lt,W,G),x+=q.textLeading(),Y="".concat(ze[rt]))}this._renderText(q,Y.trim(),P,x-lt,W,G),x+=q.textLeading()}}else{var Ye=0;this._textBaseline===p.CENTER?Ye=(F.length-1)*q.textLeading()/2:this._textBaseline===p.BOTTOM&&(Ye=(F.length-1)*q.textLeading());for(var ot=0;ot<F.length;ot++)this._renderText(q,F[ot],P,x-Ye,W,G-Ye),x+=q.textLeading()}return q}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===E(L)&&L.font&&L.font.supported}},{key:"_updateTextMetrics",value:function(){var L,P,x,U,I,F;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((L=document.createElement("span")).style.fontFamily=this._textFont,L.style.fontSize="".concat(this._textSize,"px"),L.innerHTML="ABCjgq|",(F=document.createElement("div")).style.display="inline-block",F.style.width="1px",F.style.height="0px",(P=document.createElement("div")).appendChild(L),P.appendChild(F),P.style.height="0px",P.style.overflow="hidden",document.body.appendChild(P),F.style.verticalAlign="baseline",U=d(F),I=d(L),x=U[1]-I[1],F.style.verticalAlign="bottom",U=d(F),I=d(L),F=U[1]-I[1]-x,document.body.removeChild(P),this._setProperty("_textAscent",x),this._setProperty("_textDescent",F)),this}}])&&_(f.prototype,m),$}(b.default.Element);function d(m){var f=0,g=0;if(m.offsetParent)for(;f+=m.offsetLeft,g+=m.offsetTop,m=m.offsetParent;);else f+=m.offsetLeft,g+=m.offsetTop;return[f,g]}h.prototype.textSize=function(m){return"number"==typeof m?(this._setProperty("_textSize",m),this._leadingSet||this._setProperty("_textLeading",m*p._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},b.default.Renderer=h,V.default=o=b.default.Renderer},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(m,se,V){"use strict";function v(f){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function b(f){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(g){return v(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":v(g)})(f)}m("core-js/modules/es.symbol"),m("core-js/modules/es.symbol.description"),m("core-js/modules/es.symbol.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-own-property-descriptor"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.reflect.construct"),m("core-js/modules/es.reflect.get"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.iterator"),m("core-js/modules/es.weak-map"),m("core-js/modules/web.dom-collections.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(d=m("./main"))&&d.__esModule?d:{default:d},y=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==b(f)&&"function"!=typeof f)return{default:f};var g=E();if(g&&g.has(f))return g.get(f);var D,$={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in f){var P;Object.prototype.hasOwnProperty.call(f,D)&&((P=L?Object.getOwnPropertyDescriptor(f,D):null)&&(P.get||P.set)?Object.defineProperty($,D,P):$[D]=f[D])}return $.default=f,g&&g.set(f,$),$}(m("./constants"));function E(){var f;return"function"!=typeof WeakMap?null:(E=function(){return f},f=new WeakMap)}function _(f,g){for(var D=0;D<g.length;D++){var $=g[D];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(f,$.key,$)}}function i(f,g,D){return(i=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(x,L,P){if(x=function(U,I){for(;!Object.prototype.hasOwnProperty.call(U,I)&&null!==(U=u(U)););return U}(x,L))return(x=Object.getOwnPropertyDescriptor(x,L)).get?x.get.call(P):x.value})(f,g,D||f)}function l(f,g){return(l=Object.setPrototypeOf||function(D,$){return D.__proto__=$,D})(f,g)}function u(f){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(f)}m("./p5.Renderer");var h="rgba(0,0,0,0)",d=function(f){var g=L;if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),f&&l(g,f);var $=function a(f){return function(){var g,D=u(f);if(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=u(this).constructor,Reflect.construct(D,arguments,g)):D.apply(this,arguments),D=this,!g||"object"!==b(g)&&"function"!=typeof g){if(void 0!==D)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}(L);function L(P,x,U){if(this instanceof L)return(P=$.call(this,P,x,U)).drawingContext=P.canvas.getContext("2d"),P._pInst._setProperty("drawingContext",P.drawingContext),P;throw new TypeError("Cannot call a class as a function")}return g=L,(f=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new p.default.Graphics(this.width,this.height,y.WEBGL,(this._pInst instanceof p.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=y.BLEND,this._setFill(y._DEFAULT_FILL),this._setStroke(y._DEFAULT_STROKE),this.drawingContext.lineCap=y.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(P,x){i(u(L.prototype),"resize",this).call(this,P,x),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var P,x;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof p.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(P=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(P,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(P=this._getFill(),x=(x=this._pInst).color.apply(x,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(x.levels),x=x.toString(),this._setFill(x),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(P),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var P=(P=this._pInst).color.apply(P,arguments);this._setFill(P.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",P.levels)}},{key:"stroke",value:function(){var P=(P=this._pInst).color.apply(P,arguments);this._setStroke(P.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",P.levels)}},{key:"erase",value:function(P,x){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,P=this._pInst.color(255,P).toString(),this.drawingContext.fillStyle=P,this._cachedStrokeStyle=this.drawingContext.strokeStyle,P=this._pInst.color(255,x).toString(),this.drawingContext.strokeStyle=P,x=this._cachedBlendMode,this.blendMode(y.REMOVE),this._cachedBlendMode=x,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(u(L.prototype),"beginClip",this).call(this,P),this._cachedFillStyle=this.drawingContext.fillStyle,P=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=P,this._cachedStrokeStyle=this.drawingContext.strokeStyle,P=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=P,P=this._cachedBlendMode,this.blendMode(y.BLEND),this._cachedBlendMode=P,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),i(u(L.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(P,x,U,I,F,R,Z,oe,q){P.gifProperties&&P._animateGif(this._pInst);try{p.default.MediaElement&&P instanceof p.default.MediaElement&&P._ensureCanvas();var re=(re=this._tint&&P.canvas?this._getTintedImageCanvas(P):re)||P.canvas||P.elt,W=1;P.width&&0<P.width&&(W=re.width/P.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(re,W*x,W*U,W*I,W*F,R,Z,oe,q),this._isErasing&&this._pInst.erase()}catch(G){if("NS_ERROR_NOT_AVAILABLE"!==G.name)throw G}}},{key:"_getTintedImageCanvas",value:function(P){if(!P.canvas)return P;P.tintCanvas||(P.tintCanvas=document.createElement("canvas")),P.tintCanvas.width!==P.canvas.width&&(P.tintCanvas.width=P.canvas.width),P.tintCanvas.height!==P.canvas.height&&(P.tintCanvas.height=P.canvas.height);var x=P.tintCanvas.getContext("2d");return x.save(),x.clearRect(0,0,P.canvas.width,P.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(x.drawImage(P.canvas,0,0),x.globalCompositeOperation="luminosity",x.drawImage(P.canvas,0,0),x.globalCompositeOperation="color",x.drawImage(P.canvas,0,0),x.globalCompositeOperation="multiply",x.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),x.fillRect(0,0,P.canvas.width,P.canvas.height),x.globalCompositeOperation="destination-in"),x.globalAlpha=this._tint[3]/255,x.drawImage(P.canvas,0,0),x.restore(),P.tintCanvas}},{key:"blendMode",value:function(P){if(P===y.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(P!==y.BLEND&&P!==y.REMOVE&&P!==y.DARKEST&&P!==y.LIGHTEST&&P!==y.DIFFERENCE&&P!==y.MULTIPLY&&P!==y.EXCLUSION&&P!==y.SCREEN&&P!==y.REPLACE&&P!==y.OVERLAY&&P!==y.HARD_LIGHT&&P!==y.SOFT_LIGHT&&P!==y.DODGE&&P!==y.BURN&&P!==y.ADD)throw new Error("Mode ".concat(P," not recognized."));this._cachedBlendMode=P,this.drawingContext.globalCompositeOperation=P}}},{key:"blend",value:function(){for(var P=this.drawingContext.globalCompositeOperation,x=arguments.length,U=new Array(x),I=0;I<x;I++)U[I]=arguments[I];var F=U[U.length-1],R=Array.prototype.slice.call(U,0,U.length-1);this.drawingContext.globalCompositeOperation=F,p.default.prototype.copy.apply(this,R),this.drawingContext.globalCompositeOperation=P}},{key:"_getPixel",value:function(P,x){return[(P=this.drawingContext.getImageData(P,x,1,1).data)[0],P[1],P[2],P[3]]}},{key:"loadPixels",value:function(){var x,P=this._pixelsState,U=this.drawingContext.getImageData(0,0,U=this.width*(x=P._pixelDensity),x*=this.height);P._setProperty("imageData",U),P._setProperty("pixels",U.data)}},{key:"set",value:function(P,x,U){P=Math.floor(P),x=Math.floor(x);var I=this._pixelsState;if(U instanceof p.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(I._pixelDensity,I._pixelDensity),this.drawingContext.clearRect(P,x,U.width,U.height),this.drawingContext.drawImage(U.canvas,P,x),this.drawingContext.restore();else{var F=0,R=0,Z=0,oe=0,q=4*(x*I._pixelDensity*(this.width*I._pixelDensity)+P*I._pixelDensity);if(I.imageData||I.loadPixels(),"number"==typeof U)q<I.pixels.length&&(Z=R=F=U,oe=255);else if(Array.isArray(U)){if(U.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");q<I.pixels.length&&(F=U[0],R=U[1],Z=U[2],oe=U[3])}else U instanceof p.default.Color&&q<I.pixels.length&&(F=U.levels[0],R=U.levels[1],Z=U.levels[2],oe=U.levels[3]);for(var re=0;re<I._pixelDensity;re++)for(var W=0;W<I._pixelDensity;W++)I.pixels[q=4*((x*I._pixelDensity+W)*this.width*I._pixelDensity+(P*I._pixelDensity+re))]=F,I.pixels[q+1]=R,I.pixels[q+2]=Z,I.pixels[q+3]=oe}}},{key:"updatePixels",value:function(P,x,U,I){var F=this._pixelsState,R=F._pixelDensity;void 0===P&&void 0===x&&void 0===U&&void 0===I&&(x=P=0,U=this.width,I=this.height),P*=R,x*=R,U*=R,I*=R,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=F.imageData),this.drawingContext.putImageData(F.imageData,P,x,0,0,U,I)}},{key:"_acuteArcToBezier",value:function(P,x){var R=x/2,U=Math.cos(R),oe=Math.sin(R),I=1/Math.tan(R),F=(R=P+R,Math.cos(R)),Z=(R=Math.sin(R),(4-U)/3);return oe+=(U-Z)*I,{ax:Math.cos(P).toFixed(7),ay:Math.sin(P).toFixed(7),bx:(Z*F+oe*R).toFixed(7),by:(Z*R-oe*F).toFixed(7),cx:(Z*F-oe*R).toFixed(7),cy:(Z*R+oe*F).toFixed(7),dx:Math.cos(P+x).toFixed(7),dy:Math.sin(P+x).toFixed(7)}}},{key:"arc",value:function(P,x,U,I,F,R,Z){var oe,q=this.drawingContext,re=U/2,W=I/2,G=[];for(P+=re,x+=W;1e-5<=R-F;)oe=Math.min(R-F,y.HALF_PI),G.push(this._acuteArcToBezier(F,oe)),F+=oe;return this._doFill&&(this._clipping||q.beginPath(),G.forEach(function(K,ue){0===ue&&q.moveTo(P+K.ax*re,x+K.ay*W),q.bezierCurveTo(P+K.bx*re,x+K.by*W,P+K.cx*re,x+K.cy*W,P+K.dx*re,x+K.dy*W)}),Z!==y.PIE&&null!=Z||q.lineTo(P,x),q.closePath(),this._clipping||q.fill()),this._doStroke&&(this._clipping||q.beginPath(),G.forEach(function(K,ue){0===ue&&q.moveTo(P+K.ax*re,x+K.ay*W),q.bezierCurveTo(P+K.bx*re,x+K.by*W,P+K.cx*re,x+K.cy*W,P+K.dx*re,x+K.dy*W)}),Z===y.PIE?(q.lineTo(P,x),q.closePath()):Z===y.CHORD&&q.closePath(),this._clipping||q.stroke()),this}},{key:"ellipse",value:function(oe){var x=this.drawingContext,U=this._doFill,I=this._doStroke,F=parseFloat(oe[0]),R=parseFloat(oe[1]),Z=parseFloat(oe[2]);if(oe=parseFloat(oe[3]),U&&!I){if(this._getFill()===h)return this}else if(!U&&I&&this._getStroke()===h)return this;F+=Z/2,R+=oe/2,Z/=2,oe/=2,this._clipping||x.beginPath(),x.ellipse(F,R,Z,oe,0,0,2*Math.PI),!this._clipping&&U&&x.fill(),!this._clipping&&I&&x.stroke()}},{key:"line",value:function(P,x,U,I){var F=this.drawingContext;return this._doStroke&&this._getStroke()!==h&&(this._clipping||F.beginPath(),F.moveTo(P,x),F.lineTo(U,I),F.stroke()),this}},{key:"point",value:function(P,x){var U,I,F=this.drawingContext;return this._doStroke&&this._getStroke()!==h?(U=this._getStroke(),I=this._getFill(),this._clipping||this._setFill(U),this._clipping||F.beginPath(),F.arc(P,x,F.lineWidth/2,0,y.TWO_PI,!1),void(this._clipping||(F.fill(),this._setFill(I)))):this}},{key:"quad",value:function(P,x,U,I,F,R,Z,oe){var q=this.drawingContext,re=this._doFill,W=this._doStroke;if(re&&!W){if(this._getFill()===h)return this}else if(!re&&W&&this._getStroke()===h)return this;return this._clipping||q.beginPath(),q.moveTo(P,x),q.lineTo(U,I),q.lineTo(F,R),q.lineTo(Z,oe),q.closePath(),!this._clipping&&re&&q.fill(),!this._clipping&&W&&q.stroke(),this}},{key:"rect",value:function(W){var x,U,I=W[0],F=W[1],R=W[2],Z=W[3],oe=W[4],q=W[5],re=W[6],G=(W=W[7],this.drawingContext),K=this._doFill,ue=this._doStroke;if(K&&!ue){if(this._getFill()===h)return this}else if(!K&&ue&&this._getStroke()===h)return this;return this._clipping||G.beginPath(),void 0===oe?G.rect(I,F,R,Z):(void 0===q&&(q=oe),void 0===re&&(re=q),void 0===W&&(W=re),ue=(K=Math.abs(R))/2,U=(x=Math.abs(Z))/2,x<2*(oe=K<2*oe?ue:oe)&&(oe=U),x<2*(q=K<2*q?ue:q)&&(q=U),x<2*(re=K<2*re?ue:re)&&(re=U),x<2*(W=K<2*W?ue:W)&&(W=U),this._clipping||G.beginPath(),G.moveTo(I+oe,F),G.arcTo(I+R,F,I+R,F+Z,q),G.arcTo(I+R,F+Z,I,F+Z,re),G.arcTo(I,F+Z,I,F,W),G.arcTo(I,F,I+R,F,oe),G.closePath()),!this._clipping&&this._doFill&&G.fill(),!this._clipping&&this._doStroke&&G.stroke(),this}},{key:"triangle",value:function(re){var x=this.drawingContext,U=this._doFill,I=this._doStroke,F=re[0],R=re[1],Z=re[2],oe=re[3],q=re[4];if(re=re[5],U&&!I){if(this._getFill()===h)return this}else if(!U&&I&&this._getStroke()===h)return this;this._clipping||x.beginPath(),x.moveTo(F,R),x.lineTo(Z,oe),x.lineTo(q,re),x.closePath(),!this._clipping&&U&&x.fill(),!this._clipping&&I&&x.stroke()}},{key:"endShape",value:function(P,x,U,I,F,R,Z){if(0!==x.length&&(this._doStroke||this._doFill)){var oe,q,re,W=P===y.CLOSE,G=(W&&!R&&x.push(x[0]),x.length);if(U&&null===Z){if(3<G){var K=[],ue=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(x[1][0],x[1][1]),q=1;q+2<G;q++)K[0]=[(oe=x[q])[0],oe[1]],K[1]=[oe[0]+(ue*x[q+1][0]-ue*x[q-1][0])/6,oe[1]+(ue*x[q+1][1]-ue*x[q-1][1])/6],K[2]=[x[q+1][0]+(ue*x[q][0]-ue*x[q+2][0])/6,x[q+1][1]+(ue*x[q][1]-ue*x[q+2][1])/6],K[3]=[x[q+1][0],x[q+1][1]],this.drawingContext.bezierCurveTo(K[1][0],K[1][1],K[2][0],K[2][1],K[3][0],K[3][1]);W&&this.drawingContext.lineTo(x[q+1][0],x[q+1][1]),this._doFillStrokeClose(W)}}else if(I&&null===Z){for(this._clipping||this.drawingContext.beginPath(),q=0;q<G;q++)x[q].isVert?x[q].moveTo?this.drawingContext.moveTo(x[q][0],x[q][1]):this.drawingContext.lineTo(x[q][0],x[q][1]):this.drawingContext.bezierCurveTo(x[q][0],x[q][1],x[q][2],x[q][3],x[q][4],x[q][5]);this._doFillStrokeClose(W)}else if(F&&null===Z){for(this._clipping||this.drawingContext.beginPath(),q=0;q<G;q++)x[q].isVert?x[q].moveTo?this.drawingContext.moveTo(x[q][0],x[q][1]):this.drawingContext.lineTo(x[q][0],x[q][1]):this.drawingContext.quadraticCurveTo(x[q][0],x[q][1],x[q][2],x[q][3]);this._doFillStrokeClose(W)}else if(Z===y.POINTS)for(q=0;q<G;q++)oe=x[q],this._doStroke&&this._pInst.stroke(oe[6]),this._pInst.point(oe[0],oe[1]);else if(Z===y.LINES)for(q=0;q+1<G;q+=2)oe=x[q],this._doStroke&&this._pInst.stroke(x[q+1][6]),this._pInst.line(oe[0],oe[1],x[q+1][0],x[q+1][1]);else if(Z===y.TRIANGLES)for(q=0;q+2<G;q+=3)oe=x[q],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(oe[0],oe[1]),this.drawingContext.lineTo(x[q+1][0],x[q+1][1]),this.drawingContext.lineTo(x[q+2][0],x[q+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(x[q+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(x[q+2][6]),this.drawingContext.stroke());else if(Z===y.TRIANGLE_STRIP)for(q=0;q+1<G;q++)oe=x[q],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(x[q+1][0],x[q+1][1]),this.drawingContext.lineTo(oe[0],oe[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[q+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(x[q+1][5]),q+2<G&&(this.drawingContext.lineTo(x[q+2][0],x[q+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[q+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(x[q+2][5])),this._doFillStrokeClose(W);else if(Z===y.TRIANGLE_FAN){if(2<G){for(this._clipping||this.drawingContext.beginPath(),q=2;q<G;q++)oe=x[q],this.drawingContext.moveTo(x[0][0],x[0][1]),this.drawingContext.lineTo(x[q-1][0],x[q-1][1]),this.drawingContext.lineTo(oe[0],oe[1]),this.drawingContext.lineTo(x[0][0],x[0][1]),q<G-1&&(this._doFill&&oe[5]!==x[q+1][5]||this._doStroke&&oe[6]!==x[q+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(oe[5]),this.drawingContext.fill(),this._pInst.fill(x[q+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(oe[6]),this.drawingContext.stroke(),this._pInst.stroke(x[q+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(W)}}else if(Z===y.QUADS)for(q=0;q+3<G;q+=4){for(oe=x[q],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(oe[0],oe[1]),re=1;re<4;re++)this.drawingContext.lineTo(x[q+re][0],x[q+re][1]);this.drawingContext.lineTo(oe[0],oe[1]),!this._clipping&&this._doFill&&this._pInst.fill(x[q+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[q+3][6]),this._doFillStrokeClose(W)}else if(Z===y.QUAD_STRIP){if(3<G)for(q=0;q+1<G;q+=2)oe=x[q],this._clipping||this.drawingContext.beginPath(),q+3<G?(this.drawingContext.moveTo(x[q+2][0],x[q+2][1]),this.drawingContext.lineTo(oe[0],oe[1]),this.drawingContext.lineTo(x[q+1][0],x[q+1][1]),this.drawingContext.lineTo(x[q+3][0],x[q+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(x[q+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[q+3][6])):(this.drawingContext.moveTo(oe[0],oe[1]),this.drawingContext.lineTo(x[q+1][0],x[q+1][1])),this._doFillStrokeClose(W)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(x[0][0],x[0][1]),q=1;q<G;q++)(oe=x[q]).isVert&&(oe.moveTo?(W&&this.drawingContext.closePath(),this.drawingContext.moveTo(oe[0],oe[1])):this.drawingContext.lineTo(oe[0],oe[1]));this._doFillStrokeClose(W)}R=F=I=U=!1,W&&x.pop()}return this}},{key:"strokeCap",value:function(P){return P!==y.ROUND&&P!==y.SQUARE&&P!==y.PROJECT||(this.drawingContext.lineCap=P),this}},{key:"strokeJoin",value:function(P){return P!==y.ROUND&&P!==y.BEVEL&&P!==y.MITER||(this.drawingContext.lineJoin=P),this}},{key:"strokeWeight",value:function(P){return this.drawingContext.lineWidth=void 0===P||0===P?1e-4:P,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(P){P!==this._cachedFillStyle&&(this.drawingContext.fillStyle=P,this._cachedFillStyle=P)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(P){P!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=P,this._cachedStrokeStyle=P)}},{key:"bezier",value:function(P,x,U,I,F,R,Z,oe){return this._pInst.beginShape(),this._pInst.vertex(P,x),this._pInst.bezierVertex(U,I,F,R,Z,oe),this._pInst.endShape(),this}},{key:"curve",value:function(P,x,U,I,F,R,Z,oe){return this._pInst.beginShape(),this._pInst.curveVertex(P,x),this._pInst.curveVertex(U,I),this._pInst.curveVertex(F,R),this._pInst.curveVertex(Z,oe),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(P){P&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(P,x,U,I,F,R){this.drawingContext.transform(P,x,U,I,F,R)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(P){this.drawingContext.rotate(P)}},{key:"scale",value:function(P,x){return this.drawingContext.scale(P,x),this}},{key:"translate",value:function(P,x){return P instanceof p.default.Vector&&(x=P.y,P=P.x),this.drawingContext.translate(P,x),this}},{key:"_renderText",value:function(P,x,U,I,F,R){if(!(I<R||F<=I))return P.push(),this._isOpenType()?this._textFont._renderPath(x,U,I,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(x,U,I),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(y._DEFAULT_TEXT_FILL),this.drawingContext.fillText(x,U,I))),P.pop(),P}},{key:"textWidth",value:function(P){return this._isOpenType()?this._textFont._textWidth(P,this._textSize):this.drawingContext.measureText(P).width}},{key:"_applyTextProperties",value:function(){var P=this._pInst,x=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),x=this._textFont,this._isOpenType()&&(x=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),x||"sans-serif");return/\s/.exec(x)&&(x='"'.concat(x,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(x),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===y.CENTER?y._CTX_MIDDLE:this._textBaseline,P}},{key:"push",value:function(){return this.drawingContext.save(),i(u(L.prototype),"push",this).call(this)}},{key:"pop",value:function(P){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i(u(L.prototype),"pop",this).call(this,P)}}])&&_(g.prototype,f),L}(p.default.Renderer);d.prototype.text=function(f,g,D,x,L){var P;return void 0!==x&&this.drawingContext.textBaseline===y.BASELINE&&(P=!0,this.drawingContext.textBaseline=y.TOP),x=p.default.Renderer.prototype.text.apply(this,arguments),P&&(this.drawingContext.textBaseline=y.BASELINE),x},p.default.Renderer2D=d,V.default=m=p.default.Renderer2D},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(){return{}}v.default.prototype._promisePreloads=[];var p=!(v.default.prototype.registerPromisePreload=function(y){v.default.prototype._promisePreloads.push(y)});v.default.prototype._setupPromisePreloads=function(){var y=!0,E=!1,_=void 0;try{for(var i,l=this._promisePreloads[Symbol.iterator]();!(y=(i=l.next()).done);y=!0){var a=i.value,u=this,h=a.method,d=a.addCallbacks,m=a.legacyPreloadSetup,f=a.target||this,g=f[h].bind(f);if(f===v.default.prototype){if(p)continue;u=null,g=f[h]}f[h]=this._wrapPromisePreload(u,g,d),m&&(f[m.method]=this._legacyPreloadGenerator(u,m,f[h]))}}catch(D){E=!0,_=D}finally{try{y||null==l.return||l.return()}finally{if(E)throw _}}p=!0},v.default.prototype._wrapPromisePreload=function(y,E,_){var i=function(){for(var l=this,a=(this._incrementPreload(),null),u=null,h=arguments.length,d=new Array(h),m=0;m<h;m++)d[m]=arguments[m];if(_)for(var f=d.length-1;0<=f&&!u&&"function"==typeof d[f];f--)u=a,a=d.pop();var g=Promise.resolve(E.apply(this,d));return a&&g.then(a),u&&g.catch(u),g.then(function(){return l._decrementPreload()}),g};return y?i.bind(y):i},v.default.prototype._legacyPreloadGenerator=function(y,l,_){var i=l.createBaseObject||b;return l=function(){var a=this;this._incrementPreload();for(var u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];var m=i.apply(this,h);return _.apply(this,h).then(function(f){Object.assign(m,f),a._decrementPreload()}),m},y?l.bind(y):l}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(i=o("./main"))&&i.__esModule?i:{default:i},p=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==E(l)&&"function"!=typeof l)return{default:l};var a=y();if(a&&a.has(l))return a.get(l);var u,h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=d?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(h,u,m):h[u]=l[u])}return h.default=l,a&&a.set(l,h),h}(o("./constants"));function y(){var l;return"function"!=typeof WeakMap?null:(y=function(){return l},l=new WeakMap)}function E(l){return(E="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var _="defaultCanvas0",i=(b.default.prototype.createCanvas=function(l,a,u,h){var d,m,f;if(b.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(u=p.P2D,h=arguments[2]):d=u||p.P2D,h)(f=document.getElementById(_))&&f.parentNode.removeChild(f),f=h,this._defaultGraphicsCreated=!1;else{if(d===p.WEBGL)(f=document.getElementById(_))&&(f.parentNode.removeChild(f),m=this._renderer,this._elements=this._elements.filter(function(D){return D!==m})),(f=document.createElement("canvas")).id=_,f.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)f=this.canvas;else{f=h||document.createElement("canvas");for(var g=0;document.getElementById("defaultCanvas".concat(g));)g++;_="defaultCanvas".concat(g),f.id=_,f.classList.add("p5Canvas")}this._setupDone||(f.dataset.hidden=!0,f.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(u=document.createElement("main"),document.body.appendChild(u)),document.getElementsByTagName("main")[0])).appendChild(f)}return d===p.WEBGL?(this._setProperty("_renderer",new b.default.RendererGL(f,this,!0)),this._elements.push(this._renderer),l=(h=this._renderer._adjustDimensions(l,a)).adjustedWidth,a=h.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new b.default.Renderer2D(f,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,a),this._renderer._applyDefaults(),this._renderer},b.default.prototype.resizeCanvas=function(l,a,u){if(b.default._validateParameters("resizeCanvas",arguments),this._renderer){var h,d,m,f={};for(h in this.drawingContext){var g=this.drawingContext[h];"object"!==E(g)&&"function"!=typeof g&&(f[h]=g)}for(m in this._renderer instanceof b.default.RendererGL&&(l=(d=this._renderer._adjustDimensions(l,a)).adjustedWidth,a=d.adjustedHeight),this.width=l,this.height=a,this._renderer.resize(l,a),f)try{this.drawingContext[m]=f[m]}catch{}u||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},b.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},b.default.prototype.createGraphics=function(l,a){for(var u=arguments.length,h=new Array(2<u?u-2:0),d=2;d<u;d++)h[d-2]=arguments[d];return h[0]instanceof HTMLCanvasElement&&(h[1]=h[0],h[0]=p.P2D),b.default._validateParameters("createGraphics",arguments),new b.default.Graphics(l,a,h[0],this,h[1])},b.default.prototype.createFramebuffer=function(l){return new b.default.Framebuffer(this,l)},b.default.prototype.clearDepth=function(l){this._assert3d("clearDepth"),this._renderer.clearDepth(l)},b.default.prototype.blendMode=function(l){b.default._validateParameters("blendMode",arguments),l===p.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=p.BLEND),this._renderer.blendMode(l)},b.default);V.default=i},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=i(o("../main")),y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var u=_();if(u&&u.has(a))return u.get(a);var h,d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var f;Object.prototype.hasOwnProperty.call(a,h)&&((f=m?Object.getOwnPropertyDescriptor(a,h):null)&&(f.get||f.set)?Object.defineProperty(d,h,f):d[h]=a[h])}return d.default=a,u&&u.set(a,d),d}(o("../constants")),E=i(o("../helpers"));function _(){var a;return"function"!=typeof WeakMap?null:(_=function(){return a},a=new WeakMap)}function i(a){return a&&a.__esModule?a:{default:a}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),p.default.prototype._normalizeArcAngles=function(a,u,h,d,m){var f;return a-=y.TWO_PI*Math.floor(a/y.TWO_PI),u-=y.TWO_PI*Math.floor(u/y.TWO_PI),f=Math.min(Math.abs(a-u),y.TWO_PI-Math.abs(a-u)),m&&(a=a<=y.HALF_PI?Math.atan(h/d*Math.tan(a)):a>y.HALF_PI&&a<=3*y.HALF_PI?Math.atan(h/d*Math.tan(a))+y.PI:Math.atan(h/d*Math.tan(a))+y.TWO_PI,u=u<=y.HALF_PI?Math.atan(h/d*Math.tan(u)):u>y.HALF_PI&&u<=3*y.HALF_PI?Math.atan(h/d*Math.tan(u))+y.PI:Math.atan(h/d*Math.tan(u))+y.TWO_PI),u<a&&(u+=y.TWO_PI),{start:a,stop:u,correspondToSamePoint:f<1e-5}},p.default.prototype.arc=function(a,u,h,d,m,f,g,D){return p.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&m!==f&&(m=this._toRadians(m),f=this._toRadians(f),h=Math.abs(h),d=Math.abs(d),a=E.default.modeAdjust(a,u,h,d,this._renderer._ellipseMode),(u=this._normalizeArcAngles(m,f,a.w,a.h,!0)).correspondToSamePoint?this._renderer.ellipse([a.x,a.y,a.w,a.h,D]):(this._renderer.arc(a.x,a.y,a.w,a.h,u.start,u.stop,g,D),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[a.x,a.y,a.w,a.h,u.start,u.stop,g]))),this},p.default.prototype.ellipse=function(a,u,h,d,m){return p.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},p.default.prototype.circle=function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];p.default._validateParameters("circle",u);var d=u.slice(0,2);return d.push(u[2],u[2]),this._renderEllipse.apply(this,function l(a){return function(u){if(Array.isArray(u)){for(var h=0,d=new Array(u.length);h<u.length;h++)d[h]=u[h];return d}}(a)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(d))},p.default.prototype._renderEllipse=function(a,u,h,d,m){return(this._renderer._doStroke||this._renderer._doFill)&&(h<0&&(h=Math.abs(h)),void 0===d?d=h:d<0&&(d=Math.abs(d)),a=E.default.modeAdjust(a,u,h,d,this._renderer._ellipseMode),this._renderer.ellipse([a.x,a.y,a.w,a.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[a.x,a.y,a.w,a.h])),this},p.default.prototype.line=function(){for(var a,u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];return p.default._validateParameters("line",h),this._renderer._doStroke&&(a=this._renderer).line.apply(a,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",h),this},p.default.prototype.point=function(){for(var a,u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];return p.default._validateParameters("point",h),this._renderer._doStroke&&(1===h.length&&h[0]instanceof p.default.Vector?this._renderer.point.call(this._renderer,h[0].x,h[0].y,h[0].z):((a=this._renderer).point.apply(a,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",h))),this},p.default.prototype.quad=function(){for(var a,u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];return p.default._validateParameters("quad",h),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&h.length<12?this._renderer.quad.call(this._renderer,h[0],h[1],0,h[2],h[3],0,h[4],h[5],0,h[6],h[7],0,h[8],h[9]):((a=this._renderer).quad.apply(a,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",h))),this},p.default.prototype.rect=function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return p.default._validateParameters("rect",u),this._renderRect.apply(this,u)},p.default.prototype.square=function(a,u,h,d,m,f,g){return p.default._validateParameters("square",arguments),this._renderRect.call(this,a,u,h,h,d,m,f,g)},p.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var a=E.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),u=[a.x,a.y,a.w,a.h],h=4;h<arguments.length;h++)u[h]=arguments[h];this._renderer.rect(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[a.x,a.y,a.w,a.h])}return this},p.default.prototype.triangle=function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return p.default._validateParameters("triangle",u),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",u),this},V.default=o=p.default},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(o,se,V){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(_=o("../main"))&&_.__esModule?_:{default:_},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var l=E();if(l&&l.has(i))return l.get(i);var a,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var d;Object.prototype.hasOwnProperty.call(i,a)&&((d=h?Object.getOwnPropertyDescriptor(i,a):null)&&(d.get||d.set)?Object.defineProperty(u,a,d):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../constants"));function E(){var i;return"function"!=typeof WeakMap?null:(E=function(){return i},i=new WeakMap)}p.default.prototype.ellipseMode=function(i){return p.default._validateParameters("ellipseMode",arguments),i!==y.CORNER&&i!==y.CORNERS&&i!==y.RADIUS&&i!==y.CENTER||(this._renderer._ellipseMode=i),this},p.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},p.default.prototype.rectMode=function(i){return p.default._validateParameters("rectMode",arguments),i!==y.CORNER&&i!==y.CORNERS&&i!==y.RADIUS&&i!==y.CENTER||(this._renderer._rectMode=i),this},p.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},p.default.prototype.strokeCap=function(i){return p.default._validateParameters("strokeCap",arguments),i!==y.ROUND&&i!==y.SQUARE&&i!==y.PROJECT||this._renderer.strokeCap(i),this},p.default.prototype.strokeJoin=function(i){return p.default._validateParameters("strokeJoin",arguments),i!==y.ROUND&&i!==y.BEVEL&&i!==y.MITER||this._renderer.strokeJoin(i),this},p.default.prototype.strokeWeight=function(i){return p.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var _=p.default;V.default=_},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(b=o("../main"))&&b.__esModule?b:{default:b};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var p,y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];return v.default._validateParameters("bezier",E),(this._renderer._doStroke||this._renderer._doFill)&&(p=this._renderer).bezier.apply(p,E),this},v.default.prototype.bezierDetail=function(p){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=p,this},v.default.prototype.bezierPoint=function(p,y,E,_,i){v.default._validateParameters("bezierPoint",arguments);var l=1-i;return Math.pow(l,3)*p+3*Math.pow(l,2)*i*y+3*l*Math.pow(i,2)*E+Math.pow(i,3)*_},v.default.prototype.bezierTangent=function(p,y,E,_,i){v.default._validateParameters("bezierTangent",arguments);var l=1-i;return 3*_*Math.pow(i,2)-3*E*Math.pow(i,2)+6*E*l*i-6*y*l*i+3*y*Math.pow(l,2)-3*p*Math.pow(l,2)},v.default.prototype.curve=function(){for(var p,y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];return v.default._validateParameters("curve",E),this._renderer._doStroke&&(p=this._renderer).curve.apply(p,E),this},v.default.prototype.curveDetail=function(p){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=p<3?3:p,this},v.default.prototype.curveTightness=function(p){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=p,this},v.default.prototype.curvePoint=function(p,y,E,_,i){v.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,a=i*i*i,u=i*i;return p*((l-1)/2*a+(1-l)*u+(l-1)/2*i)+y*((l+3)/2*a+(-5-l)/2*u+1)+E*((-3-l)/2*a+(l+2)*u+(1-l)/2*i)+_*((1-l)/2*a+(l-1)/2*u)},v.default.prototype.curveTangent=function(p,y,E,_,u){v.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,a=u*u*3;return p*((l-1)/2*a+(1-l)*(u*=2)+(l-1)/2)+y*((l+3)/2*a+(-5-l)/2*u)+E*((-3-l)/2*a+(l+2)*u+(1-l)/2)+_*((1-l)/2*a+(l-1)/2*u)};var b=v.default;V.default=b},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(o,se,V){"use strict";function v(g){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(g)}function b(g){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(D){return v(D)}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":v(D)})(g)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(f=o("../main"))&&f.__esModule?f:{default:f},y=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==b(g)&&"function"!=typeof g)return{default:g};var D=E();if(D&&D.has(g))return D.get(g);var $,L={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in g){var x;Object.prototype.hasOwnProperty.call(g,$)&&((x=P?Object.getOwnPropertyDescriptor(g,$):null)&&(x.get||x.set)?Object.defineProperty(L,$,x):L[$]=g[$])}return L.default=g,D&&D.set(g,L),L}(o("../constants"));function E(){var g;return"function"!=typeof WeakMap?null:(E=function(){return g},g=new WeakMap)}var _=null,i=[],l=[],a=!1,u=!1,h=!1,d=!1,m=!0,f=(p.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(l=[],d=!0),this},p.default.prototype.beginShape=function(g){var D;return p.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(D=this._renderer).beginShape.apply(D,arguments):(_=g===y.POINTS||g===y.LINES||g===y.TRIANGLES||g===y.TRIANGLE_FAN||g===y.TRIANGLE_STRIP||g===y.QUADS||g===y.QUAD_STRIP?g:null,i=[],l=[]),this},p.default.prototype.bezierVertex=function(){for(var g,D=arguments.length,$=new Array(D),L=0;L<D;L++)$[L]=arguments[L];if(p.default._validateParameters("bezierVertex",$),this._renderer.isP3D)(g=this._renderer).bezierVertex.apply(g,$);else if(0===i.length)p.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var P=[],x=0;x<$.length;x++)P[x]=$[x];P.isVert=!1,(d?l:i).push(P)}return this},p.default.prototype.curveVertex=function(){for(var g,D=arguments.length,$=new Array(D),L=0;L<D;L++)$[L]=arguments[L];return p.default._validateParameters("curveVertex",$),this._renderer.isP3D?(g=this._renderer).curveVertex.apply(g,$):(u=!0,this.vertex($[0],$[1])),this},p.default.prototype.endContour=function(){if(!this._renderer.isP3D){var g=l[0].slice();g.isVert=l[0].isVert,g.moveTo=!1,l.push(g),m&&(i.push(i[0]),m=!1);for(var D=0;D<l.length;D++)i.push(l[D])}return this},p.default.prototype.endShape=function(g){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(p.default._validateParameters("endShape",arguments),D<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),D=1),this._renderer.isP3D)this._renderer.endShape(g,u,a,h,d,_,D);else{if(1!==D&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===i.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(D=g===y.CLOSE)&&!d&&i.push(i[0]),this._renderer.endShape(g,i,u,a,h,d,_),m=!(d=h=a=u=!1),D&&i.pop()}return this},p.default.prototype.quadraticVertex=function(){for(var g,D=arguments.length,$=new Array(D),L=0;L<D;L++)$[L]=arguments[L];if(p.default._validateParameters("quadraticVertex",$),this._renderer.isP3D)(g=this._renderer).quadraticVertex.apply(g,$);else{if(this._contourInited)return(g={}).x=$[0],g.y=$[1],g.x3=$[2],g.y3=$[3],g.type=y.QUADRATIC,this._contourVertices.push(g),this;if(0<i.length){h=!0;for(var P=[],x=0;x<$.length;x++)P[x]=$[x];P.isVert=!1,(d?l:i).push(P)}else p.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},p.default.prototype.vertex=function(g,D,$,L,P){var x;return this._renderer.isP3D?(x=this._renderer).vertex.apply(x,arguments):((x=[]).isVert=!0,x[0]=g,x[1]=D,x[2]=0,x[3]=0,x[4]=0,x[5]=this._renderer._getFill(),x[6]=this._renderer._getStroke(),$&&(x.moveTo=$),(d?(0===l.length&&(x.moveTo=!0),l):i).push(x)),this},p.default.prototype.normal=function(g,D,$){var L;return this._assert3d("normal"),p.default._validateParameters("normal",arguments),(L=this._renderer).normal.apply(L,arguments),this},p.default);V.default=f},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(o,se,V){},{}],295:[function(o,se,V){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var b=parseInt(v),p=((isNaN(b)||b<1)&&(b=1),this._isGlobal?window:this);if("function"==typeof p.draw){void 0===p.setup&&p.scale(p._pixelDensity,p._pixelDensity);for(var y=0;y<b;y++){p.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),p._renderer.isP3D&&p._renderer._update(),p._setProperty("frameCount",p.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{p.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},V.default=o=o.default},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};v.default.prototype.applyMatrix=function(){var p=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||p?(p=this._renderer).applyMatrix.apply(p,function b(p){return function(y){if(Array.isArray(y)){for(var E=0,_=new Array(y.length);E<y.length;E++)_[E]=y[E];return _}}(p)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(p=this._renderer).applyMatrix.apply(p,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(p,y){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(p),y),this},v.default.prototype.rotateX=function(p){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(p)),this},v.default.prototype.rotateY=function(p){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(p)),this},v.default.prototype.rotateZ=function(p){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(p)),this},v.default.prototype.scale=function(p,y,E){var _;return v.default._validateParameters("scale",arguments),p instanceof v.default.Vector?(p=(_=p).x,y=_.y,E=_.z):Array.isArray(p)&&(p=(_=p)[0],y=_[1],E=_[2]||1),isNaN(y)?y=E=p:isNaN(E)&&(E=1),this._renderer.scale(p,y,E),this},v.default.prototype.shearX=function(p){return v.default._validateParameters("shearX",arguments),p=this._toRadians(p),this._renderer.applyMatrix(1,0,Math.tan(p),1,0,0),this},v.default.prototype.shearY=function(p){return v.default._validateParameters("shearY",arguments),p=this._toRadians(p),this._renderer.applyMatrix(1,Math.tan(p),0,1,0,0),this},v.default.prototype.translate=function(p,y,E){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(p,y,E):this._renderer.translate(p,y),this},V.default=o=v.default},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(o,se,V){"use strict";function v(E){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(E)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator");var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function p(E){return function(_){if(Array.isArray(_)){for(var i=0,l=new Array(_.length);i<_.length;i++)l[i]=_[i];return l}}(E)||function(_){if(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_))return Array.from(_)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(E){return(y="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(E)}b.default.prototype.storeItem=function(E,_){"string"!=typeof E&&console.log("The argument that you passed to storeItem() - ".concat(E," is not a string.")),E.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(E," must not end with 'p5TypeID'.")),void 0===_&&console.log("You cannot store undefined variables using storeItem().");var i=y(_);switch(i){case"number":case"boolean":_=_.toString();break;case"object":_ instanceof b.default.Color?i="p5.Color":_ instanceof b.default.Vector&&(i="p5.Vector",_=[_.x,_.y,_.z]),_=JSON.stringify(_)}localStorage.setItem(E,_),E="".concat(E,"p5TypeID"),localStorage.setItem(E,i)},b.default.prototype.getItem=function(E){var _=localStorage.getItem(E),i=localStorage.getItem("".concat(E,"p5TypeID"));if(void 0===i)console.log("Unable to determine type of item stored under ".concat(E,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==_)switch(i){case"number":_=parseFloat(_);break;case"boolean":_="true"===_;break;case"object":_=JSON.parse(_);break;case"p5.Color":_=JSON.parse(_),_=this.color.apply(this,p(_.levels));break;case"p5.Vector":_=JSON.parse(_),_=this.createVector.apply(this,p(_))}return _},b.default.prototype.clearStorage=function(){var E=this;Object.keys(localStorage).forEach(function(_){_.endsWith("p5TypeID")&&E.removeItem(_.replace("p5TypeID",""))})},b.default.prototype.removeItem=function(E){"string"!=typeof E&&console.log("The argument that you passed to removeItem() - ".concat(E," is not a string.")),localStorage.removeItem(E),localStorage.removeItem("".concat(E,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(o,se,V){"use strict";function v(h){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(h)}function b(h){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(o=o("../core/main"))&&o.__esModule?o:{default:o};function y(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),d&&E(h,d)}function E(h,d){return(E=Object.setPrototypeOf||function(m,f){return m.__proto__=f,m})(h,d)}function _(h){return function(){var d,m=i(h);if(d=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(d=i(this).constructor,Reflect.construct(m,arguments,d)):m.apply(this,arguments),m=this,!d||"object"!==b(d)&&"function"!=typeof d){if(void 0!==m)return m;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return d}}function i(h){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(h)}function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function a(h,d){for(var m=0;m<d.length;m++){var f=d[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}function u(h,d,m){d&&a(h.prototype,d),m&&a(h,m)}p.default.prototype.createStringDict=function(h,d){return p.default._validateParameters("createStringDict",arguments),new p.default.StringDict(h,d)},p.default.prototype.createNumberDict=function(h,d){return p.default._validateParameters("createNumberDict",arguments),new p.default.NumberDict(h,d)},p.default.TypedDict=function(){function h(d,m){return l(this,h),d instanceof Object?this.data=d:(this.data={},this.data[d]=m),this}return u(h,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(d){return this.data.hasOwnProperty(d)}},{key:"get",value:function(d){if(this.data.hasOwnProperty(d))return this.data[d];console.log("".concat(d," does not exist in this Dictionary"))}},{key:"set",value:function(d,m){this._validate(m)?this.data[d]=m:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(d){for(var m in d)this.set(m,d[m])}},{key:"create",value:function(d,m){d instanceof Object&&void 0===m?this._addObj(d):void 0!==d?this.set(d,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(d){if(!this.data.hasOwnProperty(d))throw new Error("".concat(d," does not exist in this Dictionary"));delete this.data[d]}},{key:"print",value:function(){for(var d in this.data)console.log("key:".concat(d," value:").concat(this.data[d]))}},{key:"saveTable",value:function(d){var m,f="";for(m in this.data)f+="".concat(m,",").concat(this.data[m],"\n");var g=new Blob([f],{type:"text/csv"});p.default.prototype.downloadFile(g,d||"mycsv","csv")}},{key:"saveJSON",value:function(d,m){p.default.prototype.saveJSON(this.data,d,m)}},{key:"_validate",value:function(d){return!0}}]),h}(),p.default.StringDict=function(){y(d,p.default.TypedDict);var h=_(d);function d(){l(this,d);for(var m=arguments.length,f=new Array(m),g=0;g<m;g++)f[g]=arguments[g];return h.call.apply(h,[this].concat(f))}return u(d,[{key:"_validate",value:function(m){return"string"==typeof m}}]),d}(),p.default.NumberDict=function(){y(d,p.default.TypedDict);var h=_(d);function d(){l(this,d);for(var m=arguments.length,f=new Array(m),g=0;g<m;g++)f[g]=arguments[g];return h.call.apply(h,[this].concat(f))}return u(d,[{key:"_validate",value:function(m){return"number"==typeof m}},{key:"add",value:function(m,f){this.data.hasOwnProperty(m)?this.data[m]+=f:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"sub",value:function(m,f){this.add(m,-f)}},{key:"mult",value:function(m,f){this.data.hasOwnProperty(m)?this.data[m]*=f:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"div",value:function(m,f){this.data.hasOwnProperty(m)?this.data[m]/=f:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"_valueTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var f,g=this.data[Object.keys(this.data)[0]];for(f in this.data)this.data[f]*m<g*m&&(g=this.data[f]);return g}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var f=Object.keys(this.data)[0],g=1;g<Object.keys(this.data).length;g++)Object.keys(this.data)[g]*m<f*m&&(f=Object.keys(this.data)[g]);return f}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),d}(),V.default=o=p.default.TypedDict},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(o,se,V){"use strict";function v(f){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function p(f,g){for(var D=0;D<g.length;D++){var $=g[D];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(f,$.key,$)}}function y(f,g,D){g&&p(f.prototype,g),D&&p(f,D)}function E(f,g){return(E=Object.setPrototypeOf||function(D,$){return D.__proto__=$,D})(f,g)}function i(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function l(f){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(f)}function a(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function u(f){return(u="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(g){return v(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":v(g)})(f)}function h(f,g,D){return(g._userNode||document.body).appendChild(f),D=new(D?b.default.MediaElement:b.default.Element)(f,g),g._elements.push(D),D}function d(f,x,D,$){var L=document.createElement(x),P=("string"==typeof(D=D||"")&&(D=[D]),!0),U=void(x=!1);try{for(var I,F=D[Symbol.iterator]();!(P=(I=F.next()).done);P=!0){var R=I.value,Z=document.createElement("source");Z.setAttribute("src",R),L.appendChild(Z)}}catch(q){x=!0,U=q}finally{try{P||null==F.return||F.return()}finally{if(x)throw U}}"function"==typeof $&&L.addEventListener("canplaythrough",function q(){$(),L.removeEventListener("canplaythrough",q)});var oe=h(L,f,!0);return oe.loadedmetadata=!1,L.addEventListener("loadedmetadata",function(){oe.width=L.videoWidth,oe.height=L.videoHeight,0===oe.elt.width&&(oe.elt.width=L.videoWidth),0===oe.elt.height&&(oe.elt.height=L.videoHeight),oe.presetPlaybackRate&&(oe.elt.playbackRate=oe.presetPlaybackRate,delete oe.presetPlaybackRate),oe.loadedmetadata=!0}),oe}function m(f,g,D,$){a(this,m),this.callback=f,this.time=g,this.id=D,this.val=$}b.default.prototype.select=function(f,g){return b.default._validateParameters("select",arguments),(g=this._getContainer(g).querySelector(f))?this._wrapElement(g):null},b.default.prototype.selectAll=function(f,g){b.default._validateParameters("selectAll",arguments);var D=[],$=this._getContainer(g).querySelectorAll(f);if($)for(var L=0;L<$.length;L++){var P=this._wrapElement($[L]);D.push(P)}return D},b.default.prototype._getContainer=function(f){var g=document;return"string"==typeof f?g=document.querySelector(f)||document:f instanceof b.default.Element?g=f.elt:f instanceof HTMLElement&&(g=f),g},b.default.prototype._wrapElement=function(f){var g,D=Array.prototype.slice.call(f.children);return"INPUT"===f.tagName&&"checkbox"===f.type?((g=new b.default.Element(f,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},g):"VIDEO"===f.tagName||"AUDIO"===f.tagName?new b.default.MediaElement(f,this):"SELECT"===f.tagName?this.createSelect(new b.default.Element(f,this)):0<D.length&&D.every(function($){return"INPUT"===$.tagName||"LABEL"===$.tagName})&&("DIV"===f.tagName||"SPAN"===f.tagName)?this.createRadio(new b.default.Element(f,this)):new b.default.Element(f,this)},b.default.prototype.removeElements=function(f){b.default._validateParameters("removeElements",arguments),this._elements.filter(function(g){return!(g.elt instanceof HTMLCanvasElement)}).map(function(g){return g.remove()})},b.default.Element.prototype.changed=function(f){return b.default.Element._adjustListener("change",f,this),this},b.default.Element.prototype.input=function(f){return b.default.Element._adjustListener("input",f,this),this},b.default.prototype.createDiv=function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",g=document.createElement("div");return g.innerHTML=f,h(g,this)},b.default.prototype.createP=function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",g=document.createElement("p");return g.innerHTML=f,h(g,this)},b.default.prototype.createSpan=function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",g=document.createElement("span");return g.innerHTML=f,h(g,this)},b.default.prototype.createImg=function(){b.default._validateParameters("createImg",arguments);var f,g=document.createElement("img"),D=arguments;return 1<D.length&&"string"==typeof D[1]&&(g.alt=D[1]),2<D.length&&"string"==typeof D[2]&&(g.crossOrigin=D[2]),g.src=D[0],f=h(g,this),g.addEventListener("load",function(){f.width=g.offsetWidth||g.width,f.height=g.offsetHeight||g.height;var $=D[D.length-1];"function"==typeof $&&$(f)}),f},b.default.prototype.createA=function(f,g,D){b.default._validateParameters("createA",arguments);var $=document.createElement("a");return $.href=f,$.innerHTML=g,D&&($.target=D),h($,this)},b.default.prototype.createSlider=function(f,g,D,$){b.default._validateParameters("createSlider",arguments);var L=document.createElement("input");return L.type="range",L.min=f,L.max=g,0===$?L.step=1e-18:$&&(L.step=$),"number"==typeof D&&(L.value=D),h(L,this)},b.default.prototype.createButton=function(f,g){b.default._validateParameters("createButton",arguments);var D=document.createElement("button");return D.innerHTML=f,g&&(D.value=g),h(D,this)},b.default.prototype.createCheckbox=function(){for(var f=arguments.length,g=new Array(f),D=0;D<f;D++)g[D]=arguments[D];b.default._validateParameters("createCheckbox",g);var $=document.createElement("div"),L=document.createElement("input"),P=(L.type="checkbox",document.createElement("label")),x=(P.appendChild(L),$.appendChild(P),h($,this));return x.checked=function(){var U=x.elt.firstElementChild.getElementsByTagName("input")[0];if(U){if(0===arguments.length)return U.checked;U.checked=!(arguments.length<=0||!arguments[0])}return x},this.value=function(U){return x.value=U,this},g[0]&&(x.value(g[0]),($=document.createElement("span")).innerHTML=g[0],P.appendChild($)),g[1]&&(L.checked=!0),x},b.default.prototype.createSelect=function(){for(var f,g=arguments.length,D=new Array(g),$=0;$<g;$++)D[$]=arguments[$];b.default._validateParameters("createSelect",D);var L,P=D[0];return P instanceof b.default.Element&&P.elt instanceof HTMLSelectElement?this.elt=(f=P).elt:P instanceof HTMLSelectElement?(f=h(P,this),this.elt=P):(L=document.createElement("select"),P&&"boolean"==typeof P&&L.setAttribute("multiple","true"),f=h(L,this),this.elt=L),f.option=function(x,U){var I;if(void 0!==x){for(var F,R=0;R<this.elt.length;R+=1)if(this.elt[R].textContent===x){I=R;break}void 0!==I?!1===U?this.elt.remove(I):this.elt[I].value=U:((F=document.createElement("option")).textContent=x,F.value=void 0===U?x:U,this.elt.appendChild(F),this._pInst._elements.push(F))}},f.selected=function(x){if(void 0!==x){for(var U=0;U<this.elt.length;U+=1)this.elt[U].value.toString()===x.toString()&&(this.elt.selectedIndex=U);return this}if(this.elt.getAttribute("multiple")){var I=[],F=!0,R=!1,Z=void 0;try{for(var oe,q=this.elt.selectedOptions[Symbol.iterator]();!(F=(oe=q.next()).done);F=!0)I.push(oe.value.value)}catch(W){R=!0,Z=W}finally{try{F||null==q.return||q.return()}finally{if(R)throw Z}}return I}return this.elt.value},f.disable=function(x){if("string"==typeof x)for(var U=0;U<this.elt.length;U++)this.elt[U].value.toString()===x&&(this.elt[U].disabled=!0,this.elt[U].selected=!1);else this.elt.disabled=!0;return this},f.enable=function(x){if("string"==typeof x)for(var U=0;U<this.elt.length;U++)this.elt[U].value.toString()===x&&(this.elt[U].disabled=!1,this.elt[U].selected=!1);else{this.elt.disabled=!1;for(var I=0;I<this.elt.length;I++)this.elt[I].disabled=!1,this.elt[I].selected=!1}return this},f},b.default.prototype.createRadio=function(){function f(x){return x instanceof HTMLInputElement&&"radio"===x.type}function g(x){return x instanceof HTMLLabelElement}var D,$,L,P=arguments.length<=0?void 0:arguments[0];return P instanceof b.default.Element&&(P.elt instanceof HTMLDivElement||P.elt instanceof HTMLSpanElement)?(D=P,this.elt=P.elt):P instanceof HTMLDivElement||P instanceof HTMLSpanElement?(D=h(P,this),$=this.elt=P,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(L=arguments.length<=1?void 0:arguments[1])):("string"==typeof P&&(L=P),$=document.createElement("div"),D=h($,this),this.elt=$),D._name=L||"radioOption",D._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(x){return f(x)||g(x)&&f(x.firstElementChild)}).map(function(x){return f(x)?x:x.firstElementChild})},D.option=function(x,U){var I,F,R,Z=!0,oe=!1,q=void 0;try{for(var re,W=D._getOptionsArray()[Symbol.iterator]();!(Z=(re=W.next()).done);Z=!0){var G=re.value;if(G.value===x){I=G;break}}}catch(K){oe=!0,q=K}finally{try{Z||null==W.return||W.return()}finally{if(oe)throw q}}return void 0===I&&((I=document.createElement("input")).setAttribute("type","radio"),I.setAttribute("value",x)),I.setAttribute("name",D._name),g(I.parentElement)?F=I.parentElement:(F=document.createElement("label")).insertAdjacentElement("afterbegin",I),F.lastElementChild instanceof HTMLSpanElement?R=F.lastElementChild:(R=document.createElement("span"),I.insertAdjacentElement("afterend",R)),R.innerHTML=void 0===U?x:U,this.elt.appendChild(F),I},D.remove=function(x){var U=!0,I=!1,F=void 0;try{for(var R,Z=D._getOptionsArray()[Symbol.iterator]();!(U=(R=Z.next()).done);U=!0){var oe=R.value;if(oe.value===x)return void(g(oe.parentElement)?oe.parentElement:oe).remove()}}catch(q){I=!0,F=q}finally{try{U||null==Z.return||Z.return()}finally{if(I)throw F}}},D.value=function(){var x="",U=!0,I=!1,F=void 0;try{for(var R,Z=D._getOptionsArray()[Symbol.iterator]();!(U=(R=Z.next()).done);U=!0){var oe=R.value;if(oe.checked){x=oe.value;break}}}catch(q){I=!0,F=q}finally{try{U||null==Z.return||Z.return()}finally{if(I)throw F}}return x},D.selected=function(x){var U=null;if(void 0===x){var I=!0,F=!1,R=void 0;try{for(var Z,oe=D._getOptionsArray()[Symbol.iterator]();!(I=(Z=oe.next()).done);I=!0){var q=Z.value;if(q.checked){U=q;break}}}catch(ue){F=!0,R=ue}finally{try{I||null==oe.return||oe.return()}finally{if(F)throw R}}}else{D._getOptionsArray().forEach(function(Y){Y.checked=!1,Y.removeAttribute("checked")});var re=!0;F=!1,R=void 0;try{for(var W,G=D._getOptionsArray()[Symbol.iterator]();!(re=(W=G.next()).done);re=!0){var K=W.value;K.value===x&&(K.setAttribute("checked",!0),K.checked=!0,U=K)}}catch(Y){F=!0,R=Y}finally{try{re||null==G.return||G.return()}finally{if(F)throw R}}}return U},D.disable=function(){var x=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],U=!0,I=!1,F=void 0;try{for(var R,Z=D._getOptionsArray()[Symbol.iterator]();!(U=(R=Z.next()).done);U=!0)R.value.setAttribute("disabled",x)}catch(oe){I=!0,F=oe}finally{try{U||null==Z.return||Z.return()}finally{if(I)throw F}}},D},b.default.prototype.createColorPicker=function(f){b.default._validateParameters("createColorPicker",arguments);var g=document.createElement("input");return g.type="color",f?f instanceof b.default.Color?g.value=f.toString("#rrggbb"):(b.default.prototype._colorMode="rgb",b.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},g.value=b.default.prototype.color(f).toString("#rrggbb")):g.value="#000000",(g=h(g,this)).color=function(){return f&&(f.mode&&(b.default.prototype._colorMode=f.mode),f.maxes&&(b.default.prototype._colorMaxes=f.maxes)),b.default.prototype.color(this.elt.value)},g},b.default.prototype.createInput=function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",D=(b.default._validateParameters("createInput",arguments),document.createElement("input"));return D.setAttribute("value",f),D.setAttribute("type",g),h(D,this)},b.default.prototype.createFileInput=function(f){var g,D=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(b.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(g=document.createElement("input")).setAttribute("type","file"),D&&g.setAttribute("multiple",!0),g.addEventListener("change",function($){var L=!0,P=!1,x=void 0;try{for(var U,I=$.target.files[Symbol.iterator]();!(L=(U=I.next()).done);L=!0)b.default.File._load(U.value,f)}catch(R){P=!0,x=R}finally{try{L||null==I.return||I.return()}finally{if(P)throw x}}},!1),h(g,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},b.default.prototype.createVideo=function(f,g){return b.default._validateParameters("createVideo",arguments),d(this,"video",f,g)},b.default.prototype.createAudio=function(f,g){return b.default._validateParameters("createAudio",arguments),d(this,"audio",f,g)},b.default.prototype.VIDEO="video",b.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(f){var g=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return g?new Promise(function(D,$){g.call(navigator,f,D,$)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),b.default.prototype.createCapture=function(){for(var f=arguments.length,g=new Array(f),D=0;D<f;D++)g[D]=arguments[D];if(b.default._validateParameters("createCapture",g),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var $,L=!0,P=!0,x=!1,U=0,I=g;U<I.length;U++){var F=I[U];F===b.default.prototype.VIDEO?P=!1:F===b.default.prototype.AUDIO?L=!1:"object"===u(F)?(void 0!==F.flipped&&(x=F.flipped,delete F.flipped),R=Object.assign({},R,F)):"function"==typeof F&&($=F)}var R=Object.assign({},{video:L,audio:P},R),Z=document.createElement("video"),oe=(Z.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(R).then(function(q){try{"srcObject"in Z?Z.srcObject=q:Z.src=window.URL.createObjectURL(q)}catch{Z.src=q}}).catch(function(q){"NotFoundError"===q.name&&b.default._friendlyError("No webcam found on this device","createCapture"),"NotAllowedError"===q.name&&b.default._friendlyError("Access to the camera was denied","createCapture"),console.error(q)}),h(Z,this,!0));return oe.loadedmetadata=!1,Z.addEventListener("loadedmetadata",function(){Z.play(),Z.width?(oe.width=Z.width,oe.height=Z.height,x&&(oe.elt.style.transform="scaleX(-1)")):(oe.width=oe.elt.width=Z.videoWidth,oe.height=oe.elt.height=Z.videoHeight),oe.loadedmetadata=!0,$&&$(Z.srcObject)}),oe.flipped=x,oe},b.default.prototype.createElement=function(f,g){return b.default._validateParameters("createElement",arguments),f=document.createElement(f),void 0!==g&&(f.innerHTML=g),h(f,this)},b.default.Element.prototype.addClass=function(f){return this.elt.className?this.hasClass(f)||(this.elt.className=this.elt.className+" "+f):this.elt.className=f,this},b.default.Element.prototype.removeClass=function(f){return this.elt.classList.remove(f),this},b.default.Element.prototype.hasClass=function(f){return this.elt.classList.contains(f)},b.default.Element.prototype.toggleClass=function(f){return this.elt.classList.contains(f)?this.elt.classList.remove(f):this.elt.classList.add(f),this},b.default.Element.prototype.child=function(f){return void 0===f?this.elt.childNodes:("string"==typeof f?("#"===f[0]&&(f=f.substring(1)),f=document.getElementById(f)):f instanceof b.default.Element&&(f=f.elt),f instanceof HTMLElement&&this.elt.appendChild(f),this)},b.default.Element.prototype.center=function(f){var g=this.elt.style.display,D="none"===this.elt.style.display,$="none"===this.parent().style.display,L={x:this.elt.offsetLeft,y:this.elt.offsetTop},P=(D&&this.show(),$&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),x=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===f||void 0===f?this.position(P/2+this.parent().offsetLeft,x/2+this.parent().offsetTop):"horizontal"===f?this.position(P/2+this.parent().offsetLeft,L.y):"vertical"===f&&this.position(L.x,x/2+this.parent().offsetTop),this.style("display",g),D&&this.hide(),$&&this.parent().hide(),this},b.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},b.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},b.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var f="";return this.elt.style.transform&&(f=(f=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=f,this},b.default.Element.prototype._rotate=function(){var f="";return this.elt.style.transform&&(f=(f=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=f,this},b.default.Element.prototype.style=function(f,g){if(void 0===(g=g instanceof b.default.Color?"rgba("+g.levels[0]+","+g.levels[1]+","+g.levels[2]+","+g.levels[3]/255+")":g)){if(-1===f.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(f);for(var D=f.split(";"),$=0;$<D.length;$++){var L=D[$].split(":");L[0]&&L[1]&&(this.elt.style[L[0].trim()]=L[1].trim())}}else this.elt.style[f]=g,"width"!==f&&"height"!==f&&"left"!==f&&"top"!==f||(g=window.getComputedStyle(this.elt).getPropertyValue(f).replace(/[^\d.]/g,""),this[f]=Math.round(parseFloat(g,10)));return this},b.default.Element.prototype.attribute=function(f,g){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===g?this.elt.getAttribute(f):(this.elt.setAttribute(f,g),this);if(void 0===g)return this.elt.firstChild.getAttribute(f);for(var D=0;D<this.elt.childNodes.length;D++)this.elt.childNodes[D].setAttribute(f,g)},b.default.Element.prototype.removeAttribute=function(f){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var g=0;g<this.elt.childNodes.length;g++)this.elt.childNodes[g].removeAttribute(f);return this.elt.removeAttribute(f),this},b.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},b.default.Element.prototype.show=function(){return this.elt.style.display="block",this},b.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},b.default.Element.prototype.size=function(f,g){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var D=f,$=g,L=b.default.prototype.AUTO;if(D!==L||$!==L){if(D===L?D=g*this.width/this.height:$===L&&($=f*this.height/this.width),this.elt instanceof HTMLCanvasElement){var P,x={},U=this.elt.getContext("2d");for(P in U)x[P]=U[P];for(P in this.elt.setAttribute("width",D*this._pInst._pixelDensity),this.elt.setAttribute("height",$*this._pInst._pixelDensity),this.elt.style.width=D+"px",this.elt.style.height=$+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),x)this.elt.getContext("2d")[P]=x[P]}else this.elt.style.width=D+"px",this.elt.style.height=$+"px",this.elt.width=D,this.elt.height=$;this.width=D,this.height=$,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",D),this._pInst._setProperty("height",$))}return this},b.default.Element.prototype.remove=function(){this instanceof b.default.MediaElement&&(this.stop(),null!==(g=this.elt.srcObject)&&g.getTracks().forEach(function(D){D.stop()}));var f,g=this._pInst._elements.indexOf(this);for(f in-1!==g&&this._pInst._elements.splice(g,1),this._events)this.elt.removeEventListener(f,this._events[f]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},b.default.Element.prototype.drop=function(f,g){var D;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",D=function($){$.preventDefault()}),this.elt.addEventListener("dragleave",D)),b.default.Element._attachListener("drop",function(L){L.preventDefault(),"function"==typeof g&&g.call(this,L),L=L.dataTransfer.files;var P=!0,x=!1,U=void 0;try{for(var I,F=L[Symbol.iterator]();!(P=(I=F.next()).done);P=!0)b.default.File._load(I.value,f)}catch(Z){x=!0,U=Z}finally{try{P||null==F.return||F.return()}finally{if(x)throw U}}},this)):console.log("The File APIs are not fully supported in this browser."),this},b.default.Element.prototype.draggable=function(f){var g,D="ontouchstart"in window,$=0,L=0,P=0,x=0,U=D?"touchend":"mouseup",I=D?"touchmove":"mousemove";function F(Z){var oe;Z=Z||window.event,x=D?(oe=Z.changedTouches,$=P-parseInt(oe[0].clientX),L=x-parseInt(oe[0].clientY),P=parseInt(oe[0].clientX),parseInt(oe[0].clientY)):($=P-parseInt(Z.clientX),L=x-parseInt(Z.clientY),P=parseInt(Z.clientX),parseInt(Z.clientY)),f.style.left=f.offsetLeft-$+"px",f.style.top=f.offsetTop-L+"px"}function R(){document.removeEventListener(U,R,!1),document.removeEventListener(I,F,!1)}return void 0===f?g=f=this.elt:f!==this.elt&&f.elt!==this.elt&&(f=f.elt,g=this.elt),g.addEventListener(D?"touchstart":"mousedown",function(Z){var oe;return Z=Z||window.event,x=D?(oe=Z.changedTouches,P=parseInt(oe[0].clientX),parseInt(oe[0].clientY)):(P=parseInt(Z.clientX),parseInt(Z.clientY)),document.addEventListener(U,R,!1),document.addEventListener(I,F,!1),!1},!1),g.style.cursor="move",this},o=function(f){var g=$;if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),f&&E(g,f);var D=function _(f){return function(){var g,D,$=l(f);return g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=l(this).constructor,Reflect.construct($,arguments,g)):$.apply(this,arguments),$=this,!(D=g)||"object"!==u(D)&&"function"!=typeof D?i($):D}}($);function $(L,P){a(this,$);var x=i(P=D.call(this,L,P));return P.elt.crossOrigin="anonymous",P._prevTime=0,P._cueIDCounter=0,P._cues=[],P.pixels=[],P._pixelsState=i(P),P._pixelDensity=1,P._modified=!1,P._frameOnCanvas=-1,Object.defineProperty(x,"src",{get:function(){var U=x.elt.children[0].src,I=x.elt.src===window.location.href?"":x.elt.src;return U===window.location.href?I:U},set:function(U){for(var I=0;I<x.elt.children.length;I++)x.elt.removeChild(x.elt.children[I]);var F=document.createElement("source");F.src=U,L.appendChild(F),x.elt.src=U,x.modified=!0}}),x._onended=function(){},x.elt.onended=function(){x._onended(x)},P}return y($,[{key:"play",value:function(){var L;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(L=this.elt.play())&&L.catch&&L.catch(function(P){"NotAllowedError"===P.name?console.error(P):console.error("Media play method encountered an unexpected error",P)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var L=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(L)},{passive:!0,once:!0})}},{key:"autoplay",value:function(L){var P=this,x=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",L),L&&!x&&(L=function(){return P._setupAutoplayFailDetection()},4===this.elt.readyState?L():this.elt.addEventListener("canplay",L,{passive:!0,once:!0})),this}},{key:"volume",value:function(L){if(void 0===L)return this.elt.volume;this.elt.volume=L}},{key:"speed",value:function(L){if(void 0===L)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=L:this.presetPlaybackRate=L}},{key:"time",value:function(L){return void 0===L?this.elt.currentTime:(this.elt.currentTime=L,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];return b.default.Renderer2D.prototype.loadPixels.apply(this,P)}},{key:"updatePixels",value:function(L,P,x,U){return this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.updatePixels.call(this,L,P,x,U)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];return b.default.Renderer2D.prototype.get.apply(this,P)}},{key:"_getPixel",value:function(){this.loadPixels();for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];return b.default.Renderer2D.prototype._getPixel.apply(this,P)}},{key:"set",value:function(L,P,x){this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.set.call(this,L,P,x),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];b.default.prototype.copy.apply(this,P)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var L=arguments.length,P=new Array(L),x=0;x<L;x++)P[x]=arguments[x];b.default.Image.prototype.mask.apply(this,P)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(L){this._modified=L}},{key:"onended",value:function(L){return this._onended=L,this}},{key:"connect",value:function(L){var P,x;if("function"==typeof b.default.prototype.getAudioContext)P=b.default.prototype.getAudioContext(),x=b.default.soundOut.input;else try{x=(P=L.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=P.createMediaElementSource(this.elt),this.audioSourceNode.connect(x)),this.audioSourceNode.connect(L?L.input?L.input:L:x)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(L,I,x){var U=this._cueIDCounter++;return I=new m(I,L,U,x),this._cues.push(I),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),U}},{key:"removeCue",value:function(L){for(var P=0;P<this._cues.length;P++)this._cues[P].id===L&&(console.log(L),this._cues.splice(P,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var L=this.time(),P=0;P<this._cues.length;P++){var x=this._cues[P].time;this._prevTime<x&&x<=L&&this._cues[P].callback(this._cues[P].val)}this._prevTime=L}}]),$}(b.default.Element),b.default.MediaElement=o,o=function(){function f(g,D){a(this,f),this.file=g,this._pInst=D,D=g.type.split("/"),this.type=D[0],this.subtype=D[1],this.name=g.name,this.size=g.size,this.data=void 0}return y(f,null,[{key:"_createLoader",value:function(g,D){var $=new FileReader;return $.onload=function(L){var P,x=new b.default.File(g);"application/json"===x.file.type?x.data=JSON.parse(L.target.result):"text/xml"===x.file.type?(P=(new DOMParser).parseFromString(L.target.result,"text/xml"),x.data=new b.default.XML(P.documentElement)):x.data=L.target.result,D(x)},$}},{key:"_load",value:function(g,D){var $;/^text\//.test(g.type)||"application/json"===g.type?b.default.File._createLoader(g,D).readAsText(g):/^(video|audio)\//.test(g.type)?(($=new b.default.File(g)).data=URL.createObjectURL(g),D($)):b.default.File._createLoader(g,D).readAsDataURL(g)}}]),f}(),b.default.File=o,V.default=o=b.default},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(u,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(u=u("../core/main"))&&u.__esModule?u:{default:u};v.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",v.default.prototype.accelerationX=0,v.default.prototype.accelerationY=0,v.default.prototype.accelerationZ=0,v.default.prototype.pAccelerationX=0,v.default.prototype.pAccelerationY=0,v.default.prototype.pAccelerationZ=0,v.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},v.default.prototype.rotationX=0,v.default.prototype.rotationY=0,v.default.prototype.rotationZ=0,v.default.prototype.pRotationX=0,v.default.prototype.pRotationY=0;var b=v.default.prototype.pRotationZ=0,p=0,y=0,E="clockwise",_="clockwise",i="clockwise",l=(v.default.prototype.pRotateDirectionX=void 0,v.default.prototype.pRotateDirectionY=void 0,v.default.prototype.pRotateDirectionZ=void 0,v.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},v.default.prototype.turnAxis=void 0,.5),a=30;v.default.prototype.setMoveThreshold=function(h){v.default._validateParameters("setMoveThreshold",arguments),l=h},v.default.prototype.setShakeThreshold=function(h){v.default._validateParameters("setShakeThreshold",arguments),a=h},v.default.prototype._ondeviceorientation=function(h){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(h.beta)),this._setProperty("rotationY",this._fromDegrees(h.gamma)),this._setProperty("rotationZ",this._fromDegrees(h.alpha)),this._handleMotion()},v.default.prototype._ondevicemotion=function(h){this._updatePAccelerations(),this._setProperty("accelerationX",2*h.acceleration.x),this._setProperty("accelerationY",2*h.acceleration.y),this._setProperty("accelerationZ",2*h.acceleration.z),this._handleMotion()},v.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var h,d,m,f,g,D=this._isGlobal?window:this;"function"==typeof D.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>l||Math.abs(this.accelerationY-this.pAccelerationY)>l||Math.abs(this.accelerationZ-this.pAccelerationZ)>l)&&D.deviceMoved(),"function"==typeof D.deviceTurned&&(d=this._toDegrees(this.rotationX)+180,m=this._toDegrees(this.pRotationX)+180,h=b+180,0<d-m&&d-m<270||d-m<-270?E="clockwise":(d-m<0||270<d-m)&&(E="counter-clockwise"),E!==this.pRotateDirectionX&&(h=d),90<Math.abs(d-h)&&Math.abs(d-h)<270&&(h=d,this._setProperty("turnAxis","X"),D.deviceTurned()),this.pRotateDirectionX=E,b=h-180,m=this._toDegrees(this.rotationY)+180,d=this._toDegrees(this.pRotationY)+180,h=p+180,0<m-d&&m-d<270||m-d<-270?_="clockwise":(m-d<0||270<m-this.pRotationY)&&(_="counter-clockwise"),_!==this.pRotateDirectionY&&(h=m),90<Math.abs(m-h)&&Math.abs(m-h)<270&&(h=m,this._setProperty("turnAxis","Y"),D.deviceTurned()),this.pRotateDirectionY=_,p=h-180,0<(d=this._toDegrees(this.rotationZ))-(m=this._toDegrees(this.pRotationZ))&&d-m<270||d-m<-270?i="clockwise":(d-m<0||270<d-m)&&(i="counter-clockwise"),i!==this.pRotateDirectionZ&&(y=d),90<Math.abs(d-y)&&Math.abs(d-y)<270&&(y=d,this._setProperty("turnAxis","Z"),D.deviceTurned()),this.pRotateDirectionZ=i,this._setProperty("turnAxis",void 0)),"function"==typeof D.deviceShaken&&(null!==this.pAccelerationX&&(f=Math.abs(this.accelerationX-this.pAccelerationX),g=Math.abs(this.accelerationY-this.pAccelerationY)),a<f+g&&D.deviceShaken())},V.default=u=v.default},{"../core/main":283}],301:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(b){var p;this._downKeys[b.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",b.which),this._downKeys[b.which]=!0,this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"!=typeof(p=this._isGlobal?window:this).keyPressed||b.charCode||!1===p.keyPressed(b)&&b.preventDefault())},v.default.prototype._onkeyup=function(b){this._downKeys[b.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),this._setProperty("keyCode",b.which);var p=this._isGlobal?window:this;"function"==typeof p.keyReleased&&!1===p.keyReleased(b)&&b.preventDefault()},v.default.prototype._onkeypress=function(b){var p;b.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",b.which),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"==typeof(p=this._isGlobal?window:this).keyTyped&&!1===p.keyTyped(b)&&b.preventDefault())},v.default.prototype._onblur=function(b){this._downKeys={}},v.default.prototype.keyIsDown=function(b){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[b]||!1},v.default.prototype._areDownKeys=function(){for(var b in this._downKeys)if(this._downKeys.hasOwnProperty(b)&&!0===this._downKeys[b])return!0;return!1},V.default=o=v.default},{"../core/main":283}],302:[function(o,se,V){"use strict";function v(_){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(_)}function b(_){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(i){return v(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":v(i)})(_)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(p=o("../core/main"))&&p.__esModule?p:{default:p},y=function(_){if(_&&_.__esModule)return _;if(null===_||"object"!==b(_)&&"function"!=typeof _)return{default:_};var i=E();if(i&&i.has(_))return i.get(_);var l,a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in _){var h;Object.prototype.hasOwnProperty.call(_,l)&&((h=u?Object.getOwnPropertyDescriptor(_,l):null)&&(h.get||h.set)?Object.defineProperty(a,l,h):a[l]=_[l])}return a.default=_,i&&i.set(_,a),a}(o("../core/constants"));function E(){var _;return"function"!=typeof WeakMap?null:(E=function(){return _},_=new WeakMap)}p.default.prototype.movedX=0,p.default.prototype.movedY=0,p.default.prototype._hasMouseInteracted=!1,p.default.prototype.mouseX=0,p.default.prototype.mouseY=0,p.default.prototype.pmouseX=0,p.default.prototype.pmouseY=0,p.default.prototype.winMouseX=0,p.default.prototype.winMouseY=0,p.default.prototype.pwinMouseX=0,p.default.prototype.pwinMouseY=0,p.default.prototype.mouseButton=0,p.default.prototype.mouseIsPressed=!1,p.default.prototype._updateNextMouseCoords=function(_){var i,l,a,u,h;null!==this._curElement&&(!_.touches||0<_.touches.length)&&(l=this.width,a=this.height,(u=_)&&!u.clientX&&(u.touches?u=u.touches[0]:u.changedTouches&&(u=u.changedTouches[0])),h=(i=this._curElement.elt).getBoundingClientRect(),a={x:(u.clientX-h.left)/(l=i.scrollWidth/l||1),y:(u.clientY-h.top)/(i=i.scrollHeight/a||1),winX:u.clientX,winY:u.clientY,id:u.identifier},this._setProperty("movedX",_.movementX),this._setProperty("movedY",_.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},p.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},p.default.prototype._setMouseButton=function(_){this._setProperty("mouseButton",1===_.button?y.CENTER:2===_.button?y.RIGHT:y.LEFT)},p.default.prototype._onmousemove=function(_){var i=this._isGlobal?window:this;this._updateNextMouseCoords(_),this.mouseIsPressed?"function"==typeof i.mouseDragged?!1===i.mouseDragged(_)&&_.preventDefault():"function"==typeof i.touchMoved&&!1===i.touchMoved(_)&&_.preventDefault():"function"==typeof i.mouseMoved&&!1===i.mouseMoved(_)&&_.preventDefault()},p.default.prototype._onmousedown=function(_){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(_),this._updateNextMouseCoords(_),this.touchstart||("function"==typeof i.mousePressed?!1===i.mousePressed(_)&&_.preventDefault():"function"==typeof i.touchStarted&&!1===i.touchStarted(_)&&_.preventDefault(),this.touchstart=!1)},p.default.prototype._onmouseup=function(_){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof i.mouseReleased?!1===i.mouseReleased(_)&&_.preventDefault():"function"==typeof i.touchEnded&&!1===i.touchEnded(_)&&_.preventDefault(),this.touchend=!1)},p.default.prototype._ondragend=p.default.prototype._onmouseup,p.default.prototype._ondragover=p.default.prototype._onmousemove,p.default.prototype._onclick=function(_){var i=this._isGlobal?window:this;"function"==typeof i.mouseClicked&&!1===i.mouseClicked(_)&&_.preventDefault()},p.default.prototype._ondblclick=function(_){var i=this._isGlobal?window:this;"function"==typeof i.doubleClicked&&!1===i.doubleClicked(_)&&_.preventDefault()},p.default.prototype._mouseWheelDeltaY=0,p.default.prototype._pmouseWheelDeltaY=0,p.default.prototype._onwheel=function(_){var i=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",_.deltaY),"function"==typeof i.mouseWheel&&(_.delta=_.deltaY,!1===i.mouseWheel(_)&&_.preventDefault())},p.default.prototype.requestPointerLock=function(){var _=this._curElement.elt;return _.requestPointerLock=_.requestPointerLock||_.mozRequestPointerLock,_.requestPointerLock?(_.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},p.default.prototype.exitPointerLock=function(){document.exitPointerLock()},V.default=o=p.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(v){if(null!==this._curElement){for(var b=[],p=0;p<v.touches.length;p++)b[p]=function(h,u,d,i){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=h.getBoundingClientRect();return u=h.scrollWidth/u||1,h=h.scrollHeight/d||1,{x:((d=i.touches[l]||i.changedTouches[l]).clientX-a.left)/u,y:(d.clientY-a.top)/h,winX:d.clientX,winY:d.clientY,id:d.identifier}}(this._curElement.elt,this.width,this.height,v,p);this._setProperty("touches",b)}},o.default.prototype._ontouchstart=function(v){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),"function"==typeof b.touchStarted&&(!1===b.touchStarted(v)&&v.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(v){var b=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),"function"==typeof b.touchMoved?!1===b.touchMoved(v)&&v.preventDefault():"function"==typeof b.mouseDragged&&!1===b.mouseDragged(v)&&v.preventDefault()},o.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var b=this._isGlobal?window:this;"function"==typeof b.touchEnded&&(!1===b.touchEnded(v)&&v.preventDefault(),this.touchend=!0)},V.default=o=o.default},{"../core/main":283}],304:[function(o,se,V){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v,b,p,y,E={_toPixels:function(_){var i,l;return _ instanceof ImageData?_.data:_.getContext("2d")?_.getContext("2d").getImageData(0,0,_.width,_.height).data:_.getContext("webgl")?(l=(i=_.getContext("webgl")).drawingBufferWidth*i.drawingBufferHeight*4,l=new Uint8Array(l),i.readPixels(0,0,_.width,_.height,i.RGBA,i.UNSIGNED_BYTE,l),l):void 0},_getARGB:function(_,i){return _[3+(i*=4)]<<24&4278190080|_[i]<<16&16711680|_[1+i]<<8&65280|255&_[2+i]},_setPixels:function(_,i){for(var l,a=0,u=_.length;a<u;a++)_[0+(l=4*a)]=(16711680&i[a])>>>16,_[1+l]=(65280&i[a])>>>8,_[2+l]=255&i[a],_[3+l]=(4278190080&i[a])>>>24},_toImageData:function(_){return _ instanceof ImageData?_:_.getContext("2d").getImageData(0,0,_.width,_.height)},_createImageData:function(_,i){return E._tmpCanvas=document.createElement("canvas"),E._tmpCtx=E._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(_,i)},apply:function(_,h,l){var a=_.getContext("2d"),u=a.getImageData(0,0,_.width,_.height);(h=h(u,l))instanceof ImageData?a.putImageData(h,0,0,0,0,_.width,_.height):a.putImageData(u,0,0,0,0,_.width,_.height)},threshold:function(_){for(var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,l=E._toPixels(_),a=Math.floor(255*i),u=0;u<l.length;u+=4)l[u]=l[u+1]=l[u+2]=a<=.2126*l[u]+.7152*l[u+1]+.0722*l[u+2]?255:0},gray:function(_){for(var i=E._toPixels(_),l=0;l<i.length;l+=4)i[l]=i[l+1]=i[l+2]=.2126*i[l]+.7152*i[l+1]+.0722*i[l+2]},opaque:function(_){for(var i=E._toPixels(_),l=0;l<i.length;l+=4)i[l+3]=255;return i},invert:function(_){for(var i=E._toPixels(_),l=0;l<i.length;l+=4)i[l]=255-i[l],i[l+1]=255-i[l+1],i[l+2]=255-i[l+2]},posterize:function(_){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,l=E._toPixels(_);if(i<2||255<i)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=i-1,u=0;u<l.length;u+=4){var d=l[u+1],m=l[u+2];l[u]=255*(l[u]*i>>8)/a,l[u+1]=255*(d*i>>8)/a,l[u+2]=255*(m*i>>8)/a}},dilate:function(_){for(var i,l,a,u,h,d,m,f,g,D=E._toPixels(_),$=0,L=D.length?D.length/4:0,P=new Int32Array(L);$<L;)for(l=(i=$)+_.width;$<l;)u=a=E._getARGB(D,$),(g=$-1)<i&&(g=$),l<=(f=$+1)&&(f=$),(h=$-_.width)<0&&(h=0),L<=(d=$+_.width)&&(d=$),h=E._getARGB(D,h),g=E._getARGB(D,g),d=E._getARGB(D,d),(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<(m=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(a=g,u=m),u<(m=77*((g=E._getARGB(D,f))>>16&255)+151*(g>>8&255)+28*(255&g))&&(a=g,u=m),u<(f=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(a=h,u=f),u<(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(a=d,u=g),P[$++]=a;E._setPixels(D,P)},erode:function(_){for(var i,l,a,u,h,d,m,f,g,D=E._toPixels(_),$=0,L=D.length?D.length/4:0,P=new Int32Array(L);$<L;)for(l=(i=$)+_.width;$<l;)u=a=E._getARGB(D,$),(g=$-1)<i&&(g=$),l<=(f=$+1)&&(f=$),(h=$-_.width)<0&&(h=0),L<=(d=$+_.width)&&(d=$),h=E._getARGB(D,h),g=E._getARGB(D,g),d=E._getARGB(D,d),(m=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(a=g,u=m),(m=77*((g=E._getARGB(D,f))>>16&255)+151*(g>>8&255)+28*(255&g))<u&&(a=g,u=m),(f=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<u&&(a=h,u=f),(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<u&&(a=d,u=g),P[$++]=a;E._setPixels(D,P)},blur:function(_,i){for(var l,a,u,h,d,m,f,g,D,$,L=E._toPixels(_),P=_.width,x=_.height,U=P*x,I=new Int32Array(U),F=0;F<U;F++)I[F]=E._getARGB(L,F);var R,Z,oe,q,re,W,G,K,ue=new Int32Array(U),Me=new Int32Array(U),Y=new Int32Array(U),j=new Int32Array(U),te=0,me=3.5*i|0;if(v!==(me=me<1?1:me<248?me:248)){b=1+(v=me)<<1,p=new Int32Array(b),y=new Array(b);for(var xe=0;xe<b;xe++)y[xe]=new Int32Array(256);for(var Be=1,qe=me-1;Be<me;Be++){p[me+Be]=p[qe]=W=qe*qe,G=y[me+Be],K=y[qe--];for(var ct=0;ct<256;ct++)G[ct]=K[ct]=W*ct}re=p[me]=me*me,G=y[me];for(var ze=0;ze<256;ze++)G[ze]=re*ze}for(Z=0;Z<x;Z++){for(R=0;R<P;R++){if(h=u=a=d=l=0,(m=R-v)<0)$=-m,m=0;else{if(P<=m)break;$=0}for(oe=$;oe<b&&!(P<=m);oe++){var st=I[m+te];d+=(q=y[oe])[(-16777216&st)>>>24],a+=q[(16711680&st)>>16],u+=q[(65280&st)>>8],h+=q[255&st],l+=p[oe],m++}ue[f=te+R]=d/l,Me[f]=a/l,Y[f]=u/l,j[f]=h/l}te+=P}for(D=(g=-v)*P,Z=te=0;Z<x;Z++){for(R=0;R<P;R++){if(h=u=a=d=l=0,g<0)$=f=-g,m=R;else{if(x<=g)break;$=0,f=g,m=R+D}for(oe=$;oe<b&&!(x<=f);oe++)d+=(q=y[oe])[ue[m]],a+=q[Me[m]],u+=q[Y[m]],h+=q[j[m]],l+=p[oe],f++,m+=P;I[R+te]=d/l<<24|a/l<<16|u/l<<8|h/l}te+=P,D+=P,g++}E._setPixels(L,I)}};V.default=E},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=p(o("../core/main")),b=p(o("omggif"));function p(E){return E&&E.__esModule?E:{default:E}}function y(E){return function(_){if(Array.isArray(_)){for(var i=0,l=new Array(_.length);i<_.length;i++)l[i]=_[i];return l}}(E)||function(_){if(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_))return Array.from(_)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.createImage=function(E,_){return v.default._validateParameters("createImage",arguments),new v.default.Image(E,_)},v.default.prototype.saveCanvas=function(){for(var E,_,i,l,a,u,h=arguments.length,d=new Array(h),m=0;m<h;m++)d[m]=arguments[m];switch(v.default._validateParameters("saveCanvas",d),d[0]instanceof HTMLCanvasElement?(E=d[0],d.shift()):d[0]instanceof v.default.Element?(E=d[0].elt,d.shift()):d[0]instanceof v.default.Framebuffer?((a=this.createGraphics((l=d[0]).width,l.height)).pixelDensity(pixelDensity()),l.loadPixels(),a.loadPixels(),a.pixels.set(l.pixels),a.updatePixels(),E=a.elt,d.shift()):E=this._curElement&&this._curElement.elt,1<=d.length&&(_=d[0]),i=(i=2<=d.length?d[1]:i)||v.default.prototype._checkFileExtension(_,i)[1]||"png"){default:u="image/png";break;case"webp":u="image/webp";break;case"jpeg":case"jpg":u="image/jpeg"}E.toBlob(function(f){v.default.prototype.downloadFile(f,_,i),a&&a.remove()},u)},v.default.prototype.encodeAndDownloadGif=function(E,_){for(var i=E.gifProperties,a=(1===(l=i.loopLimit)?l=null:null===l&&(l=0),new Uint8Array(E.width*E.height*i.numFrames)),u=[],h={},d=0;d<i.numFrames;d++){for(var m=new Set,f=i.frames[d].image.data,g=f.length,D=new Uint32Array(E.width*E.height),$=0,L=0;$<g;$+=4,L++){var P=f[$+0]<<16|f[$+1]<<8|f[$+2];m.add(P),D[L]=P}var x=y(m).sort().toString();void 0===h[x]?h[x]={freq:1,frames:[d]}:(h[x].freq+=1,h[x].frames.push(d)),u.push(D)}for(var F=[],U=Object.keys(h).sort(function(Y,j){return h[j].freq-h[Y].freq}),I=U[0].split(",").map(function(Y){return parseInt(Y)}),R=(F=F.concat(h[I].frames),new Set(I)),Z=1;Z<U.length;Z++){var oe=U[Z].split(",").map(function(Y){return parseInt(Y)}).filter(function(Y){return!R.has(Y)});if(I.length+oe.length<=256){for(var q=0;q<oe.length;q++)I.push(oe[q]),R.add(oe[q]);F=F.concat(h[U[Z]].frames)}}F=new Set(F);for(var re={},W=0;W<I.length;W++)re[I[W]]||(re[I[W]]=W);for(var G=1;G<I.length;)G<<=1;I.length=G;for(var l={loop:l,palette:new Uint32Array(I)},K=new b.default.GifWriter(a,E.width,E.height,l),ue={},Me=0;Me<i.numFrames;Me++)!function(j){var te=!F.has(j),me=te?[]:I,xe=new Uint8Array(E.width*E.height),Be={},qe=new Set,ct=(u[j].forEach(function(rt,Ye){te?(void 0===Be[rt]&&(Be[rt]=me.length,me.push(rt)),xe[Ye]=Be[rt]):xe[Ye]=re[rt],0<j&&u[j-1][Ye]!==rt&&qe.add(rt)}),{});if(0<(ze=me.filter(function(rt){return!qe.has(rt)})).length){var ze,st=(te?Be:re)[ze=ze[0]];if(0<j){for(var lt=0;lt<u[j].length;lt++)u[j-1][lt]===u[j][lt]&&(xe[lt]=st);ct.transparent=st,ue.frameOpts.disposal=1}}if(ct.delay=i.frames[j].delay/10,te){for(var Fe=1;Fe<me.length;)Fe<<=1;me.length=Fe,ct.palette=new Uint32Array(me)}0<j&&K.addFrame(0,0,E.width,E.height,ue.pixelPaletteIndex,ue.frameOpts),ue={pixelPaletteIndex:xe,frameOpts:ct}}(Me);ue.frameOpts.disposal=1,K.addFrame(0,0,E.width,E.height,ue.pixelPaletteIndex,ue.frameOpts),l=new Blob([a.slice(0,K.end())],{type:"image/gif"}),v.default.prototype.downloadFile(l,_,"gif")},v.default.prototype.saveFrames=function(E,_,i,u,a){v.default._validateParameters("saveFrames",arguments),i=v.default.prototype.constrain(i=i||3,0,15),i*=1e3,u=v.default.prototype.constrain(u||15,0,22);var h=0,d=v.default.prototype._makeFrame,m=this._curElement.elt,f=[],g=setInterval(function(){f.push(d(E+h,_,m)),h++},1e3/u);setTimeout(function(){if(clearInterval(g),a)a(f);else for(var D=0,$=f;D<$.length;D++){var L=$[D];v.default.prototype.downloadFile(L.imageData,L.filename,L.ext)}f=[]},.01+i)},v.default.prototype._makeFrame=function(E,_,a){var l;if(a=this?this._curElement.elt:a,_)switch(_.toLowerCase()){case"png":default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}else _="png",l="image/png";a=(a=a.toDataURL(l)).replace(l,"image/octet-stream");var u={};return u.imageData=a,u.filename=E,u.ext=_,u},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(o,se,V){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}function b(m){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(f){return v(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":v(f)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,o("regenerator-runtime/runtime");var p=a(o("../core/main")),y=a(o("../core/helpers")),E=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==b(m)&&"function"!=typeof m)return{default:m};var f=l();if(f&&f.has(m))return f.get(m);var g,D={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in m){var L;Object.prototype.hasOwnProperty.call(m,g)&&((L=$?Object.getOwnPropertyDescriptor(m,g):null)&&(L.get||L.set)?Object.defineProperty(D,g,L):D[g]=m[g])}return D.default=m,f&&f.set(m,D),D}(o("../core/constants")),_=a(o("omggif")),i=o("gifenc");function l(){var m;return"function"!=typeof WeakMap?null:(l=function(){return m},m=new WeakMap)}function a(m){return m&&m.__esModule?m:{default:m}}function u(m,f,g,D,$,L,P){try{var x=m[L](P),U=x.value}catch(I){return void g(I)}x.done?f(U):Promise.resolve(U).then(D,$)}function d(m,f){return 0<m&&m<f?m:f}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),p.default.prototype.loadImage=function(m,f,g){p.default._validateParameters("loadImage",arguments);var D=new p.default.Image(1,1,this),$=this,L=new Request(m,{method:"GET",mode:"cors"});return fetch(m,L).then(function(P){var x,U=P.headers.get("content-type");null===U&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),U&&U.includes("image/gif")?P.arrayBuffer().then(function(I){if(I){I=new Uint8Array(I);for(var F=D,R=f,Z=g,oe=function(te){$._decrementPreload()}.bind($),q=new _.default.GifReader(I),re=(F.width=F.canvas.width=q.width,F.height=F.canvas.height=q.height,[]),W=q.numFrames(),G=new Uint8ClampedArray(F.width*F.height*4),K=0;K<W;K++){var ue=q.frameInfo(K),Me=F.drawingContext.getImageData(0,0,F.width,F.height),Y=(G=Me.data.slice(),function(te,me){try{me.decodeAndBlitFrameRGBA(te,G)}catch(xe){p.default._friendlyFileLoadError(8,F.src),"function"==typeof Z?Z(xe):console.error(xe)}}(K,q),new ImageData(G,F.width,F.height));0===(F.drawingContext.putImageData(Y,0,0),Y=ue.delay)&&(Y=10),re.push({image:F.drawingContext.getImageData(0,0,F.width,F.height),delay:10*Y}),2===ue.disposal?F.drawingContext.clearRect(ue.x,ue.y,ue.width,ue.height):3===ue.disposal&&F.drawingContext.putImageData(Me,0,0,ue.x,ue.y,ue.width,ue.height)}null===(I=q.loopCount())?I=1:0===I&&(I=null),F.drawingContext.putImageData(re[0].image,0,0),1<re.length&&(F.gifProperties={displayIndex:0,loopLimit:I,loopCount:0,frames:re,numFrames:W,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof R&&R(F),oe()}},function(I){"function"==typeof g?(g(I),$._decrementPreload()):console.error(I)}):((x=new Image).onload=function(){D.width=D.canvas.width=x.width,D.height=D.canvas.height=x.height,D.drawingContext.drawImage(x,0,0),D.modified=!0,"function"==typeof f&&f(D),$._decrementPreload()},x.onerror=function(I){p.default._friendlyFileLoadError(0,x.src),"function"==typeof g?(g(I),$._decrementPreload()):console.error(I)},0!==m.indexOf("data:image/")&&(x.crossOrigin="Anonymous"),x.src=m),D.modified=!0}).catch(function(P){p.default._friendlyFileLoadError(0,m),"function"==typeof g?(g(P),$._decrementPreload()):console.error(P)}),D},p.default.prototype.saveGif=function(){m=M.mark(function g(D,$){var L,P,x,U,I,F,R,Z,oe,q,re,W,G,K,ue,Me,Y,j,te,me,xe,Be,qe,ct,ze,st,lt=arguments;return M.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(L=2<lt.length&&void 0!==lt[2]?lt[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof D)throw TypeError("fileName parameter must be a string");Fe.next=3;break;case 3:if("number"!=typeof $)throw TypeError("Duration parameter must be a number");Fe.next=5;break;case 5:if(x=L&&L.units||"seconds",U=L&&L.silent||!1,I=L&&L.notificationDuration||0,F=L&&L.notificationID||"progressBar","number"!=typeof(P=L&&L.delay||0))throw TypeError("Delay parameter must be a number");Fe.next=12;break;case 12:if("seconds"!==x&&"frames"!==x)throw TypeError('Units parameter must be either "frames" or "seconds"');Fe.next=14;break;case 14:if("boolean"!=typeof U)throw TypeError("Silent parameter must be a boolean");Fe.next=16;break;case 16:if("number"!=typeof I)throw TypeError("Notification duration parameter must be a number");Fe.next=18;break;case 18:if("string"!=typeof F)throw TypeError("Notification ID parameter must be a string");Fe.next=20;break;case 20:return this._recording=!0,R=(R=1/(q=(q=this._targetFrameRate)!==1/0&&void 0!==q&&0!==q?q:60)*1e3)<20?20:R,oe=(Z="seconds"===x?$*q:$)+(q="seconds"===x?P*q:P),this.frameCount=q,re=this._pixelDensity,this.pixelDensity(1),W=[],null!==document.getElementById(F)&&document.getElementById(F).remove(),U||((G=this.createP("")).id(F),G.style("font-size","16px"),G.style("font-family","Montserrat"),G.style("background-color","#ffffffa0"),G.style("padding","8px"),G.style("border-radius","10px"),G.position(0,0)),this._renderer instanceof p.default.RendererGL&&(ue=this.drawingContext,K=new Uint8Array(ue.drawingBufferWidth*ue.drawingBufferHeight*4)),this.noLoop(),Fe.next=39,Promise.resolve();case 39:if(q<oe)return this.redraw(),ct=void 0,ct=this._renderer instanceof p.default.RendererGL?(K=new Uint8Array(ue.drawingBufferWidth*ue.drawingBufferHeight*4),ue.readPixels(0,0,ue.drawingBufferWidth,ue.drawingBufferHeight,ue.RGBA,ue.UNSIGNED_BYTE,K),function(rt,Ye,ot){for(var Je=parseInt(ot/2),ft=4*Ye,Pt=new Uint8Array(4*Ye),Wt=0;Wt<Je;++Wt){var $t=Wt*ft,cr=(ot-Wt-1)*ft;Pt.set(rt.subarray($t,$t+ft)),rt.copyWithin($t,cr,cr+ft),rt.set(Pt,cr)}return rt}(K,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,W.push(ct),q++,U||G.html("Saved frame <b>"+W.length.toString()+"</b> out of "+Z.toString()),Fe.next=48,new Promise(function(rt){return setTimeout(rt,0)});Fe.next=50;break;case 48:Fe.next=39;break;case 50:U||G.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(re),Me=(0,i.GIFEncoder)(),Y=function(rt){for(var Ye=new Uint8Array(rt.length*rt[0].length),ot=0;ot<rt.length;ot++)Ye.set(rt[ot],ot*rt[0].length);var Je=(0,i.quantize)(Ye,256,{format:"rgba4444",oneBitAlpha:!0});return 256===Je.length?Je[Je.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Je.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Je}(W),j={},te=function(rt){for(var Ye=rt.length/4,ot=new Uint8Array(Ye),Je=0;Je<Ye;Je++){var ft=rt[4*Je]<<24|rt[4*Je+1]<<16|rt[4*Je+2]<<8|rt[4*Je+3];void 0===j[ft]&&(j[ft]=(0,i.nearestColorIndex)(Y,rt.slice(4*Je,4*(Je+1)))),ot[Je]=j[ft]}return ot},me=Y.length-1,xe=[],Be=0;case 60:if(!(Be<W.length)){Fe.next=71;break}if(qe=te(W[Be]),ct=qe.slice(),0===Be)Me.writeFrame(qe,this.width,this.height,{palette:Y,delay:R,dispose:1});else{for(ze=0;ze<qe.length;ze++)qe[ze]===xe[ze]&&(qe[ze]=me);Me.writeFrame(qe,this.width,this.height,{delay:R,transparent:!0,transparentIndex:me,dispose:1})}return xe=ct,U||G.html("Rendered frame <b>"+Be.toString()+"</b> out of "+Z.toString()),Fe.next=68,new Promise(function(rt){return setTimeout(rt,0)});case 68:Be++,Fe.next=60;break;case 71:Me.finish(),st=Me.bytesView(),st=new Blob([st],{type:"image/gif"}),W=[],this._recording=!1,this.loop(),U||(G.html("Done. Downloading your gif!\u{1f338}"),0<I&&setTimeout(function(){return G.remove()},1e3*I)),p.default.prototype.downloadFile(st,D,"gif");case 80:case"end":return Fe.stop()}},g,this)});var m,f=function(){var g=this,D=arguments;return new Promise(function($,L){var P=m.apply(g,D);function x(I){u(P,$,L,x,U,"next",I)}function U(I){u(P,$,L,x,U,"throw",I)}x(void 0)})};return function(g,D){return f.apply(this,arguments)}}(),p.default.prototype.image=function(m,f,g,D,q,re,W,G,ue,I,F,R){p.default._validateParameters("image",arguments);var K=m.width,Z=m.height,oe=(R=R||E.CENTER,F=F||E.CENTER,m.elt&&(K=void 0!==K?K:m.elt.width,Z=void 0!==Z?Z:m.elt.height),m.elt&&m.elt.videoWidth&&!m.canvas&&(K=void 0!==K?K:m.elt.videoWidth,Z=void 0!==Z?Z:m.elt.videoHeight),D||K);q=q||Z,re=re||0,W=W||0,G=d(void 0!==G?G:K,K),K=d(void 0!==ue?ue:Z,Z),ue=1,m.elt&&!m.canvas&&m.elt.style.width&&(ue=m.elt.videoWidth&&!D?m.elt.videoWidth:m.elt.width,ue/=parseInt(m.elt.style.width,10)),re*=ue,W*=ue,K*=ue,G*=ue,Z=function h(m,f,g,D,$,L,P,x,U,I,F){var R,Z,oe,q,re,W,G,K,ue;return m===E.COVER&&(R=f,oe=g,G=L,K=P,W=x,ue=U,Z=I,q=F,G/=re=Math.max(G/Z,K/q),K/=re,re=W,W=ue,R===E.CENTER?re+=(Z-G)/2:R===E.RIGHT&&(re+=Z-G),oe===E.CENTER?W+=(q-K)/2:oe===E.BOTTOM&&(W+=q-K),x=(ue={x:re,y:W,w:G,h:K}).x,U=ue.y,I=ue.w,F=ue.h),m===E.CONTAIN&&(R=f,Z=g,oe=D,q=$,re=L,W=P,G=I,K=F,G/=ue=Math.max(G/re,K/W),K/=ue,ue=oe,oe=q,R===E.CENTER?ue+=(re-G)/2:R===E.RIGHT&&(ue+=re-G),Z===E.CENTER?oe+=(W-K)/2:Z===E.BOTTOM&&(oe+=W-K),D=(m={x:ue,y:oe,w:G,h:K}).x,$=m.y,L=m.w,P=m.h),{sx:x,sy:U,sw:I,sh:F,dx:D,dy:$,dw:L,dh:P}}(I,F,R,(Z=y.default.modeAdjust(f,g,oe,q,this._renderer._imageMode)).x,Z.y,Z.w,Z.h,re,W,G,K),this._renderer.image(m,Z.sx,Z.sy,Z.sw,Z.sh,Z.dx,Z.dy,Z.dw,Z.dh)},p.default.prototype.tint=function(){for(var m=arguments.length,f=new Array(m),g=0;g<m;g++)f[g]=arguments[g];p.default._validateParameters("tint",f);var D=this.color.apply(this,f);this._renderer._tint=D.levels},p.default.prototype.noTint=function(){this._renderer._tint=null},p.default.prototype._getTintedImageCanvas=p.default.Renderer2D.prototype._getTintedImageCanvas,p.default.prototype.imageMode=function(m){p.default._validateParameters("imageMode",arguments),m!==E.CORNER&&m!==E.CORNERS&&m!==E.CENTER||(this._renderer._imageMode=m)},V.default=o=p.default},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=p(o("../core/main")),b=p(o("./filters"));function p(E){return E&&E.__esModule?E:{default:E}}function y(E,_){for(var i=0;i<_.length;i++){var l=_[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(E,l.key,l)}}v.default.Image=function(){function E(a,u){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.width=a,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var _,i;return _=E,(i=[{key:"pixelDensity",value:function(a){return void 0!==a?(a<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),a=1),this._pixelDensity=a,this.width/=a,this.height/=a,this):this._pixelDensity}},{key:"_animateGif",value:function(d){var u,h=this.gifProperties;d=d._lastRealFrameTime||window.performance.now(),0===h.lastChangeTime&&(h.lastChangeTime=d),h.playing&&(h.timeDisplayed=d-h.lastChangeTime,h.timeDisplayed>=(u=h.frames[h.displayIndex].delay)&&(u=Math.floor(h.timeDisplayed/u),h.timeDisplayed=0,h.lastChangeTime=d,h.displayIndex+=u,h.loopCount=Math.floor(h.displayIndex/h.numFrames),null!==h.loopLimit&&h.loopCount>=h.loopLimit?h.playing=!1:(this.drawingContext.putImageData(h.frames[d=h.displayIndex%h.numFrames].image,0,0),h.displayIndex=d,this.setModified(!0))))}},{key:"_setProperty",value:function(a,u){this[a]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(a,u,h,d){v.default.Renderer2D.prototype.updatePixels.call(this,a,u,h,d),this.setModified(!0)}},{key:"get",value:function(a,u,h,d){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return v.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(a,u,h){v.default.Renderer2D.prototype.set.call(this,a,u,h),this.setModified(!0)}},{key:"resize",value:function(a,u){0===a&&0===u?(a=this.canvas.width,u=this.canvas.height):0===a?a=this.canvas.width*u/this.canvas.height:0===u&&(u=this.canvas.height*a/this.canvas.width),a=Math.floor(a),u=Math.floor(u);var h=document.createElement("canvas");if(h.width=a,h.height=u,this.gifProperties)for(var d=this.gifProperties,m=0;m<d.numFrames;m++){for(var f=this.drawingContext.createImageData(a,u),g=(x=x=P=L=$=void 0,d.frames[m].image),D=f,$=0,L=0;L<D.height;L++)for(var P=0;P<D.width;P++){var x=Math.floor(P*g.width/D.width);x=4*(Math.floor(L*g.height/D.height)*g.width+x),D.data[$++]=g.data[x++],D.data[$++]=g.data[x++],D.data[$++]=g.data[x++],D.data[$++]=g.data[+x]}d.frames[m].image=f}h.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,h.width,h.height),this.canvas.width=this.width=a,this.canvas.height=this.height=u,this.drawingContext.drawImage(h,0,0,a,u,0,0,a,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];v.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(a){var u=this.drawingContext.globalCompositeOperation,h=this._pixelDensity,d=1,m=[a=void 0===a?this:a,0,0,(d=a instanceof v.default.Renderer?a._pInst._pixelDensity:d)*a.width,d*a.height,0,0,h*this.width,h*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var f=0;f<this.gifProperties.frames.length;f++)this.drawingContext.putImageData(this.gifProperties.frames[f].image,0,0),this.copy.apply(this,m),this.gifProperties.frames[f].image=this.drawingContext.getImageData(0,0,h*this.width,h*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,m);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(a,u){b.default.apply(this.canvas,b.default[a],u),this.setModified(!0)}},{key:"blend",value:function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(a){this._modified=a}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(a,u){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,a):v.default.prototype.saveCanvas(this.canvas,a,u)}},{key:"reset",value:function(){var a;this.gifProperties&&((a=this.gifProperties).playing=!0,a.timeSinceStart=0,a.timeDisplayed=0,a.lastChangeTime=0,a.loopCount=0,a.displayIndex=0,this.drawingContext.putImageData(a.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var a;if(this.gifProperties)return(a=this.gifProperties).displayIndex%a.numFrames}},{key:"setFrame",value:function(a){var u;this.gifProperties&&(a<(u=this.gifProperties).numFrames&&0<=a?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=a,this.drawingContext.putImageData(u.frames[a].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(a,u){if(this.gifProperties){var h=this.gifProperties;if(u<h.numFrames&&0<=u)h.frames[u].delay=a;else{var d=!0,m=void(u=!1);try{for(var f,g=h.frames[Symbol.iterator]();!(d=(f=g.next()).done);d=!0)f.value.delay=a}catch($){u=!0,m=$}finally{try{d||null==g.return||g.return()}finally{if(u)throw m}}}}}}])&&y(_.prototype,i),E}(),V.default=o=v.default.Image},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(o,se,V){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=p(o("../core/main")),b=p(o("./filters"));function p(y){return y&&y.__esModule?y:{default:y}}o("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var y,E=arguments.length,_=new Array(E),i=0;i<E;i++)_[i]=arguments[i];v.default._validateParameters("blend",_),this._renderer?(y=this._renderer).blend.apply(y,_):v.default.Renderer2D.prototype.blend.apply(this,_)},v.default.prototype.copy=function(){for(var y,E,_,i,l,a,u,h,d,m=arguments.length,f=new Array(m),g=0;g<m;g++)f[g]=arguments[g];if(v.default._validateParameters("copy",f),9===f.length)y=f[0],E=f[1],_=f[2],i=f[3],l=f[4],a=f[5],u=f[6],h=f[7],d=f[8];else{if(8!==f.length)throw new Error("Signature not supported");y=this,E=f[0],_=f[1],i=f[2],l=f[3],a=f[4],u=f[5],h=f[6],d=f[7]}v.default.prototype._copyHelper(this,y,E,_,i,l,a,u,h,d)},v.default.prototype._copyHelper=function(y,E,_,i,l,a,u,h,d,m){var f=E.canvas.width/E.width,g=0,D=0;E._renderer&&E._renderer.isP3D&&(g=E.width/2,D=E.height/2),y._renderer&&y._renderer.isP3D?(y.push(),y.resetMatrix(),y.noLights(),y.blendMode(y.BLEND),y.imageMode(y.CORNER),v.default.RendererGL.prototype.image.call(y._renderer,E,_+g,i+D,l,a,u,h,d,m),y.pop()):y.drawingContext.drawImage(E.canvas,f*(_+g),f*(i+D),f*l,f*a,u,h,d,m)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];v.default._validateParameters("filter",E);var u=function(){var h,d={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?d.shader=arguments.length<=0?void 0:arguments[0]:(d.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(d.value=arguments.length<=1?void 0:arguments[1]),!1===((h=arguments.length-1)<0||arguments.length<=h?void 0:arguments[h])&&(d.useWebGL=!1)),d}.apply(void 0,E),i=u.shader,l=u.operation,a=u.value;u=u.useWebGL,this._renderer.isP3D&&i?v.default.RendererGL.prototype.filter.call(this._renderer,i):u||this._renderer.isP3D?(!u&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,l,a):((i=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),i.filter.apply(i,E),this.copy(i._renderer,0,0,this.width,this.height,0,0,this.width,this.height),i.clear())):b.default.apply(void 0!==this.canvas?this.canvas:this.elt,b.default[l],a)},v.default.prototype.get=function(y,E,_,i){var l;return v.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},v.default.prototype.loadPixels=function(){for(var y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];v.default._validateParameters("loadPixels",E),this._renderer.loadPixels()},v.default.prototype.set=function(y,E,_){this._renderer.set(y,E,_)},v.default.prototype.updatePixels=function(y,E,_,i){v.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(y,E,_,i)},V.default=o=v.default},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=E(o("../core/main")),p=(o("whatwg-fetch"),o("es6-promise/auto"),E(o("fetch-jsonp"))),y=E(o("file-saver"));function E(a){return a&&a.__esModule?a:{default:a}}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}function i(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(a,u){u&&!0!==u&&"true"!==u||(u="");var h="";return(a=a||"untitled")&&a.includes(".")&&(h=a.split(".").pop()),u&&h!==u&&(h=u,a="".concat(a,".").concat(h)),[a,h]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),b.default.prototype.loadJSON=function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];b.default._validateParameters("loadJSON",u);for(var d,m,f,g=u[0],D={},$="json",L=1;L<u.length;L++){var P=u[L];"string"==typeof P?"jsonp"!==P&&"json"!==P||($=P):"function"==typeof P?d?m=P:d=P:"object"===_(P)&&(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))&&($="jsonp",f=P)}var x=this;return this.httpDo(g,"GET",f,$,function(U){for(var I in U)D[I]=U[I];void 0!==d&&d(U),x._decrementPreload()},function(U){if(b.default._friendlyFileLoadError(5,g),!m)throw U;m(U)}),D},b.default.prototype.loadStrings=function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];b.default._validateParameters("loadStrings",u);for(var d,m,f=[],g=1;g<u.length;g++){var D=u[g];"function"==typeof D&&(void 0===d?d=D:void 0===m&&(m=D))}var $=this;return b.default.prototype.httpDo.call(this,u[0],"GET","text",function(L){for(var P=L.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),x=0,U=P.length;x<U;x+=32768)Array.prototype.push.apply(f,P.slice(x,Math.min(x+32768,U)));void 0!==d&&d(f),$._decrementPreload()},function(L){if(b.default._friendlyFileLoadError(3,L),!m)throw L;m(L)}),f},b.default.prototype.loadTable=function(a){var u,h,d,m=[],f=!1,g=a.substring(a.lastIndexOf(".")+1,a.length);"csv"===g?d=",":"ssv"===g?d=";":"tsv"===g&&(d="\t");for(var D=1;D<arguments.length;D++)"function"==typeof arguments[D]?void 0===u?u=arguments[D]:void 0===h&&(h=arguments[D]):"string"==typeof arguments[D]&&(m.push(arguments[D]),"header"===arguments[D]&&(f=!0),"csv"===arguments[D]?d=",":"ssv"===arguments[D]?d=";":"tsv"===arguments[D]&&(d="\t"));var $=new b.default.Table,L=this;return this.httpDo(a,"GET","table",function(P){for(var x,U,I={},R=[],Z=0,oe=null,q=function(){I.currentState=0,I.token=""},re=function(){oe.push(I.token),q()},W=function(){I.currentState=4,R.push(oe),oe=null};;){if(null==(x=P[Z++])){if(I.escaped)throw new Error("Unclosed quote in file.");if(oe){re(),W();break}}if(null===oe&&(I.escaped=!1,oe=[],q()),0===I.currentState){if('"'===x){I.escaped=!0,I.currentState=1;continue}I.currentState=1}if(1===I.currentState&&I.escaped)if('"'===x)'"'===P[Z]?(I.token+='"',Z++):(I.escaped=!1,I.currentState=2);else{if("\r"===x)continue;I.token+=x}else"\r"===x?("\n"===P[Z]&&Z++,re(),W()):"\n"===x?(re(),W()):x===d?re():1===I.currentState&&(I.token+=x)}if(f)$.columns=R.shift();else for(var G=0;G<R[0].length;G++)$.columns[G]="null";for(var K=0;K<R.length;K++)(1!==R[K].length||"undefined"!==R[K][0]&&""!==R[K][0])&&((U=new b.default.TableRow).arr=R[K],U.obj=function(ue,Me){if(void 0===(Me=Me||[]))for(var Y=0;Y<ue.length;Y++)Me[Y.toString()]=Y;return Object.fromEntries(Me.map(function(j,te){return[j,ue[te]]}))}(R[K],$.columns),$.addRow(U));"function"==typeof u&&u($),L._decrementPreload()},function(P){b.default._friendlyFileLoadError(2,a),h?h(P):console.error(P)}),$},b.default.prototype.loadXML=function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];for(var d,m,f=new b.default.XML,g=1;g<u.length;g++){var D=u[g];"function"==typeof D&&(void 0===d?d=D:void 0===m&&(m=D))}var $=this;return this.httpDo(u[0],"GET","xml",function(L){for(var P in L)f[P]=L[P];void 0!==d&&d(f),$._decrementPreload()},function(L){if(b.default._friendlyFileLoadError(1,L),!m)throw L;m(L)}),f},b.default.prototype.loadBytes=function(a,u,h){var d={},m=this;return this.httpDo(a,"GET","arrayBuffer",function(f){d.bytes=new Uint8Array(f),"function"==typeof u&&u(d),m._decrementPreload()},function(f){if(b.default._friendlyFileLoadError(6,a),!h)throw f;h(f)}),d},b.default.prototype.httpGet=function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return b.default._validateParameters("httpGet",u),u.splice(1,0,"GET"),b.default.prototype.httpDo.apply(this,u)},b.default.prototype.httpPost=function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return b.default._validateParameters("httpPost",u),u.splice(1,0,"POST"),b.default.prototype.httpDo.apply(this,u)},b.default.prototype.httpDo=function(){for(var a,u,h,d={},m=0,f="text/plain",g=arguments.length-1;0<g&&"function"==typeof(g<0||arguments.length<=g?void 0:arguments[g]);g--)m++;var $=arguments.length<=0?void 0:arguments[0];if(2==(D=arguments.length-m)&&"string"==typeof $&&"object"===_(arguments.length<=1?void 0:arguments[1]))F=new Request($,arguments.length<=1?void 0:arguments[1]),u=arguments.length<=2?void 0:arguments[2],h=arguments.length<=3?void 0:arguments[3];else{for(var L,P="GET",x=1;x<arguments.length;x++){var U=x<0||arguments.length<=x?void 0:arguments[x];if("string"==typeof U)"GET"===U||"POST"===U||"PUT"===U||"DELETE"===U?P=U:"json"===U||"jsonp"===U||"binary"===U||"arrayBuffer"===U||"xml"===U||"text"===U||"table"===U?a=U:L=U;else if("number"==typeof U)L=U.toString();else if("object"===_(U))if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var I in U)d[I]=U[I];else f=U instanceof b.default.XML?(L=U.serialize(),"application/xml"):(L=JSON.stringify(U),"application/json");else"function"==typeof U&&(u?h=U:u=U)}var D="GET"===P?new Headers:new Headers({"Content-Type":f}),F=new Request($,{method:P,mode:"cors",body:L,headers:D})}return(D=(D="jsonp"===(a=a||($.includes("json")?"json":$.includes("xml")?"xml":"text"))?(0,p.default)($,d):fetch(F)).then(function(R){if(!R.ok)throw(Z=new Error(R.body)).status=R.status,Z.ok=!1,Z;var Z=0;switch((Z="jsonp"!==a?R.headers.get("content-length"):Z)&&64e6<Z&&b.default._friendlyFileLoadError(7,$),a){case"json":case"jsonp":return R.json();case"binary":return R.blob();case"arrayBuffer":return R.arrayBuffer();case"xml":return R.text().then(function(oe){return oe=(new DOMParser).parseFromString(oe,"text/xml"),new b.default.XML(oe.documentElement)});default:return R.text()}})).then(u||function(){}),D.catch(h||console.error),D},window.URL=window.URL||window.webkitURL,b.default.prototype._pWriters=[],b.default.prototype.createWriter=function(a,u){var h,d;for(d in b.default.prototype._pWriters)if(b.default.prototype._pWriters[d].name===a)return h=new b.default.PrintWriter(a+this.millis(),u),b.default.prototype._pWriters.push(h),h;return h=new b.default.PrintWriter(a,u),b.default.prototype._pWriters.push(h),h},b.default.PrintWriter=function(a,u){var h=this;this.name=a,this.content="",this.write=function(d){this.content+=d},this.print=function(d){this.content+="".concat(d,"\n")},this.clear=function(){this.content=""},this.close=function(){var d,m=[];for(d in m.push(this.content),b.default.prototype.writeFile(m,a,u),b.default.prototype._pWriters)b.default.prototype._pWriters[d].name===this.name&&b.default.prototype._pWriters.splice(d,1);h.clear(),h={}}},b.default.prototype.save=function(a,u,h){var d=arguments,m=(this._curElement||this).elt;if(0===d.length)b.default.prototype.saveCanvas(m);else if(d[0]instanceof b.default.Renderer||d[0]instanceof b.default.Graphics)b.default.prototype.saveCanvas(d[0].elt,d[1],d[2]);else if(1===d.length&&"string"==typeof d[0])b.default.prototype.saveCanvas(m,d[0]);else switch(l(d[1],d[2])[1]){case"json":return void b.default.prototype.saveJSON(d[0],d[1],d[2]);case"txt":return void b.default.prototype.saveStrings(d[0],d[1],d[2]);default:d[0]instanceof Array?b.default.prototype.saveStrings(d[0],d[1],d[2]):d[0]instanceof b.default.Table?b.default.prototype.saveTable(d[0],d[1],d[2]):d[0]instanceof b.default.Image?b.default.prototype.saveCanvas(d[0].canvas,d[1]):d[0]instanceof b.default.SoundFile&&b.default.prototype.saveSound(d[0],d[1],d[2],d[3])}},b.default.prototype.saveJSON=function(a,u,h){b.default._validateParameters("saveJSON",arguments),h=h?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(h.split("\n"),u,"json")},b.default.prototype.saveJSONObject=b.default.prototype.saveJSON,b.default.prototype.saveJSONArray=b.default.prototype.saveJSON,b.default.prototype.saveStrings=function(a,u,h,d){b.default._validateParameters("saveStrings",arguments);for(var m=this.createWriter(u,h||"txt"),f=0;f<a.length;f++)m.write(d?a[f]+"\r\n":a[f]+"\n");m.close(),m.clear()},b.default.prototype.saveTable=function(a,u,h){b.default._validateParameters("saveTable",arguments),d=void 0===h?u.substring(u.lastIndexOf(".")+1,u.length):h;var d,m=this.createWriter(u,d),f=a.columns,g="tsv"===d?"\t":",";if("html"!==d){if("0"!==f[0]){for(var D=0;D<f.length;D++)m.write(D<f.length-1?f[D]+g:f[D]);m.write("\n")}for(var $=0;$<a.rows.length;$++){var L=void 0;for(L=0;L<a.rows[$].arr.length;L++)L<a.rows[$].arr.length-1?"csv"===d&&String(a.rows[$].arr[L]).includes(",")?m.write('"'+a.rows[$].arr[L]+'"'+g):m.write(a.rows[$].arr[L]+g):"csv"===d&&String(a.rows[$].arr[L]).includes(",")?m.write('"'+a.rows[$].arr[L]+'"'):m.write(a.rows[$].arr[L]);m.write("\n")}}else{if(m.print("<html>"),m.print("<head>"),m.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),m.print("</head>"),m.print("<body>"),m.print("  <table>"),"0"!==f[0]){m.print("    <tr>");for(var P=0;P<f.length;P++){var x=i(f[P]);m.print("      <td>".concat(x)),m.print("      </td>")}m.print("    </tr>")}for(var U=0;U<a.rows.length;U++){m.print("    <tr>");for(var I=0;I<a.columns.length;I++){var F=i(a.rows[U].getString(I));m.print("      <td>".concat(F)),m.print("      </td>")}m.print("    </tr>")}m.print("  </table>"),m.print("</body>"),m.print("</html>")}m.close(),m.clear()},b.default.prototype.writeFile=function(m,u,h){var d="application/octet-stream";b.default.prototype._isSafari()&&(d="text/plain"),m=new Blob(m,{type:d}),b.default.prototype.downloadFile(m,u,h)},b.default.prototype.downloadFile=function(a,m,f){var d;f=(m=l(m,f))[0],a instanceof Blob?y.default.saveAs(a,f):((d=document.createElement("a")).href=a,d.download=f,d.onclick=function(g){document.body.removeChild(g.target),g.stopPropagation()},d.style.display="none",document.body.appendChild(d),b.default.prototype._isSafari()&&(a=(a='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(m[1],'"'),alert(a)),d.click())},b.default.prototype._checkFileExtension=l,b.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},V.default=o=b.default},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(p,y){for(var E=0;E<y.length;E++){var _=y[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}v.default.Table=function(){function p(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=i}var y,E;return y=p,(E=[{key:"addRow",value:function(i){if(void 0===(i=i||new v.default.TableRow).arr||void 0===i.obj)throw new Error("invalid TableRow: ".concat(i));return(i.table=this).rows.push(i),i}},{key:"removeRow",value:function(i){this.rows[i].table=null,i=this.rows.splice(i+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(i)}},{key:"getRow",value:function(i){return this.rows[i]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(i,l){if("string"==typeof l){for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[l]===i)return this.rows[a]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[l]===i)return this.rows[u];return null}},{key:"findRows",value:function(i,l){var a=[];if("string"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].obj[l]===i&&a.push(this.rows[u]);else for(var h=0;h<this.rows.length;h++)this.rows[h].arr[l]===i&&a.push(this.rows[h]);return a}},{key:"matchRow",value:function(i,l){if("number"==typeof l){for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[l].match(i))return this.rows[a]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[l].match(i))return this.rows[u];return null}},{key:"matchRows",value:function(i,l){var a=[];if("number"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].arr[l].match(i)&&a.push(this.rows[u]);else for(var h=0;h<this.rows.length;h++)this.rows[h].obj[l].match(i)&&a.push(this.rows[h]);return a}},{key:"getColumn",value:function(i){var l=[];if("string"==typeof i)for(var a=0;a<this.rows.length;a++)l.push(this.rows[a].obj[i]);else for(var u=0;u<this.rows.length;u++)l.push(this.rows[u].arr[i]);return l}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(i){this.columns.push(i||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(i,l){for(var a=[],u=0;u<i.length;u++)a.push(i.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var h=new RegExp(a.join("|"),"g");if(void 0===l)for(var d=0;d<this.columns.length;d++)for(var m=0;m<this.rows.length;m++){var f=(f=this.rows[m].arr[d]).replace(h,"");this.rows[m].arr[d]=f,this.rows[m].obj[this.columns[d]]=f}else if("string"==typeof l)for(var g=0;g<this.rows.length;g++){var D=(D=this.rows[g].obj[l]).replace(h,""),$=(this.rows[g].obj[l]=D,this.columns.indexOf(l));this.rows[g].arr[$]=D}else for(var L=0;L<this.rows.length;L++){var P=(P=this.rows[L].arr[l]).replace(h,"");this.rows[L].arr[l]=P,this.rows[L].obj[this.columns[l]]=P}}},{key:"trim",value:function(i){var l=new RegExp(" ","g");if(void 0===i)for(var a=0;a<this.columns.length;a++)for(var u=0;u<this.rows.length;u++){var h=(h=this.rows[u].arr[a]).replace(l,"");this.rows[u].arr[a]=h,this.rows[u].obj[this.columns[a]]=h}else if("string"==typeof i)for(var d=0;d<this.rows.length;d++){var m=(m=this.rows[d].obj[i]).replace(l,""),f=(this.rows[d].obj[i]=m,this.columns.indexOf(i));this.rows[d].arr[f]=m}else for(var g=0;g<this.rows.length;g++){var D=(D=this.rows[g].arr[i]).replace(l,"");this.rows[g].arr[i]=D,this.rows[g].obj[this.columns[i]]=D}}},{key:"removeColumn",value:function(u){var l,a;"string"==typeof u?a=this.columns.indexOf(l=u):l=this.columns[a=u],u=this.columns.splice(a+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(u);for(var h=0;h<this.rows.length;h++){var d=this.rows[h].arr,m=d.splice(a+1,d.length);d.pop(),this.rows[h].arr=d.concat(m),delete this.rows[h].obj[l]}}},{key:"set",value:function(i,l,a){this.rows[i].set(l,a)}},{key:"setNum",value:function(i,l,a){this.rows[i].setNum(l,a)}},{key:"setString",value:function(i,l,a){this.rows[i].setString(l,a)}},{key:"get",value:function(i,l){return this.rows[i].get(l)}},{key:"getNum",value:function(i,l){return this.rows[i].getNum(l)}},{key:"getString",value:function(i,l){return this.rows[i].getString(l)}},{key:"getObject",value:function(i){for(var l,a={},u=0;u<this.rows.length;u++)if(l=this.rows[u].obj,"string"==typeof i){if(!(0<=this.columns.indexOf(i)))throw new Error('This table has no column named "'.concat(i,'"'));a[l[i]]=l}else a[u]=this.rows[u].obj;return a}},{key:"getArray",value:function(){for(var i=[],l=0;l<this.rows.length;l++)i.push(this.rows[l].arr);return i}}])&&b(y.prototype,E),p}(),V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(o,se,V){"use strict";function v(b,p){for(var y=0;y<p.length;y++){var E=p[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function b(_,i){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var l=[];_&&(l=_.split(i=i||",")),this.arr=l,this.obj=Object.fromEntries(l.entries()),this.table=null}var p,y;return p=b,(y=[{key:"set",value:function(_,i){if("string"==typeof _){var l=this.table.columns.indexOf(_);if(!(0<=l))throw new Error('This table has no column named "'.concat(_,'"'));this.obj[_]=i,this.arr[l]=i}else{if(!(_<this.table.columns.length))throw new Error("Column #".concat(_," is out of the range of this table"));this.arr[_]=i,this.obj[l=this.table.columns[_]]=i}}},{key:"setNum",value:function(_,i){i=parseFloat(i),this.set(_,i)}},{key:"setString",value:function(_,i){i=i.toString(),this.set(_,i)}},{key:"get",value:function(_){return("string"==typeof _?this.obj:this.arr)[_]}},{key:"getNum",value:function(_){var i=parseFloat("string"==typeof _?this.obj[_]:this.arr[_]);if("NaN"===i.toString())throw"Error: ".concat(this.obj[_]," is NaN (Not a Number)");return i}},{key:"getString",value:function(_){return("string"==typeof _?this.obj:this.arr)[_].toString()}}])&&v(p.prototype,y),b}(),V.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(y,E){for(var _=0;_<E.length;_++){var i=E[_];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(y,i.key,i)}}v.default.XML=function(){function y(l){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var E,_;return E=y,(_=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var a=this.DOM.innerHTML,u=this.DOM.attributes,h=document.implementation.createDocument(null,"default").createElement(l);h.innerHTML=a;for(var d=0;d<u.length;d++)h.setAttribute(u[d].nodeName,u[d].nodeValue);this.DOM=h}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],a=0;a<this.DOM.childNodes.length;a++)l.push(this.DOM.childNodes[a].nodeName);return l}},{key:"getChildren",value:function(l){return function p(y){for(var E=[],_=0;_<y.length;_++)E.push(new v.default.XML(y[_]));return E}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if("string"!=typeof l)return new v.default.XML(this.DOM.children[l]);var a=!0,u=!1,h=void 0;try{for(var d,m=this.DOM.children[Symbol.iterator]();!(a=(d=m.next()).done);a=!0){var f=d.value;if(f.tagName===l)return new v.default.XML(f)}}catch(g){u=!0,h=g}finally{try{a||null==m.return||m.return()}finally{if(u)throw h}}}},{key:"addChild",value:function(l){l instanceof v.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var a=-1;if("string"==typeof l){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===l){a=u;break}}else a=l;-1!==a&&this.DOM.removeChild(this.DOM.children[a])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],a=!0,u=!1,h=void 0;try{for(var d,m=this.DOM.attributes[Symbol.iterator]();!(a=(d=m.next()).done);a=!0)l.push(d.value.nodeName)}catch(g){u=!0,h=g}finally{try{a||null==m.return||m.return()}finally{if(u)throw h}}return l}},{key:"hasAttribute",value:function(l){var a={},u=!0,h=!1,d=void 0;try{for(var m,f=this.DOM.attributes[Symbol.iterator]();!(u=(m=f.next()).done);u=!0){var g=m.value;a[g.nodeName]=g.nodeValue}}catch(D){h=!0,d=D}finally{try{u||null==f.return||f.return()}finally{if(h)throw d}}return!!a[l]}},{key:"getNum",value:function(l,a){var u={},h=!0,d=!1,m=void 0;try{for(var f,g=this.DOM.attributes[Symbol.iterator]();!(h=(f=g.next()).done);h=!0){var D=f.value;u[D.nodeName]=D.nodeValue}}catch($){d=!0,m=$}finally{try{h||null==g.return||g.return()}finally{if(d)throw m}}return Number(u[l])||a||0}},{key:"getString",value:function(l,a){var u={},h=!0,d=!1,m=void 0;try{for(var f,g=this.DOM.attributes[Symbol.iterator]();!(h=(f=g.next()).done);h=!0){var D=f.value;u[D.nodeName]=D.nodeValue}}catch($){d=!0,m=$}finally{try{h||null==g.return||g.return()}finally{if(d)throw m}}return u[l]?String(u[l]):a||null}},{key:"setAttribute",value:function(l,a){this.DOM.setAttribute(l,a)}},{key:"getContent",value:function(l){var a=this.DOM.textContent;return(a=a.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&b(E.prototype,_),y}(),V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(p){return function(y){if(Array.isArray(y)){for(var E=0,_=new Array(y.length);E<y.length;E++)_[E]=y[E];return _}}(p)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(p,y,E){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(p,E),y)},v.default.prototype.dist=function(){for(var p=arguments.length,y=new Array(p),E=0;E<p;E++)y[E]=arguments[E];return v.default._validateParameters("dist",y),4===y.length?Math.hypot(y[2]-y[0],y[3]-y[1]):6===y.length?Math.hypot(y[3]-y[0],y[4]-y[1],y[5]-y[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(p,y,E){return v.default._validateParameters("lerp",arguments),E*(y-p)+p},v.default.prototype.log=Math.log,v.default.prototype.mag=function(p,y){return v.default._validateParameters("mag",arguments),Math.hypot(p,y)},v.default.prototype.map=function(p,y,E,_,i,l){return v.default._validateParameters("map",arguments),p=(p-y)/(E-y)*(i-_)+_,l?_<i?this.constrain(p,_,i):this.constrain(p,i,_):p},v.default.prototype.max=function(){for(var p=function(i){return Math.max.apply(Math,b(i))},y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];return Array.isArray(E[0])?p(E[0]):p(E)},v.default.prototype.min=function(){for(var p=function(i){return Math.min.apply(Math,b(i))},y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];return Array.isArray(E[0])?p(E[0]):p(E)},v.default.prototype.norm=function(p,y,E){return v.default._validateParameters("norm",arguments),this.map(p,y,E,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(p,y){return y?(y=Math.pow(10,y),Math.round(p*y)/y):Math.round(p)},v.default.prototype.sq=function(p){return p*p},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(_){v.default._validateParameters("fract",arguments);var y,E=0;return _=Number(_),isNaN(_)||Math.abs(_)===1/0?_:(_<0&&(_=-_,E=1),String(_).includes(".")&&!String(_).includes("e")?(y=+("0"+(y=String(_)).slice(y.indexOf("."))),Math.abs(E-y)):_<1?Math.abs(E-_):0)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(y,E,_){return(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(i,l,a){var u=[null];return u.push.apply(u,l),l=new(Function.bind.apply(i,u)),a&&p(l,a.prototype),l}).apply(null,arguments)}function p(y,E){return(p=Object.setPrototypeOf||function(_,i){return _.__proto__=i,_})(y,E)}v.default.prototype.createVector=function(y,E,_){return this instanceof v.default?b(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(y,E,_)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(_,se,V){"use strict";function v(i){return.5*(1-Math.cos(i*Math.PI))}Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,_=(_=_("../core/main"))&&_.__esModule?_:{default:_};var b,p=4095,y=4,E=.5;_.default.prototype.noise=function(i){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==b){b=new Array(4096);for(var u=0;u<4096;u++)b[u]=Math.random()}i<0&&(i=-i),l<0&&(l=-l),a<0&&(a=-a);for(var h,d,m=Math.floor(i),f=Math.floor(l),g=Math.floor(a),D=i-m,$=l-f,L=a-g,P=0,x=.5,U=0;U<y;U++){var I=m+(f<<4)+(g<<8),F=v(D),R=v($),Z=b[I&p];Z+=F*(b[I+1&p]-Z),h=b[I+16&p],Z+=R*((h+=F*(b[I+16+1&p]-h))-Z),h=b[(I+=256)&p],h+=F*(b[I+1&p]-h),d=b[I+16&p],h+=R*((d+=F*(b[I+16+1&p]-d))-h),P+=(Z+=v(L)*(h-Z))*x,x*=E,m<<=1,f<<=1,g<<=1,1<=(D*=2)&&(m++,D--),1<=($*=2)&&(f++,$--),1<=(L*=2)&&(g++,L--)}return P},_.default.prototype.noiseDetail=function(i,l){0<i&&(y=i),0<l&&(E=l)},_.default.prototype.noiseSeed=function(i){u=4294967296;var a,u,h_rand=function(){return(a=(1664525*a+1013904223)%u)/u};(function(m){a=(null==m?Math.random()*u:m)>>>0})(i),b=new Array(4096);for(var d=0;d<4096;d++)b[d]=h_rand()},V.default=_=_.default},{"../core/main":283}],316:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(i=o("../core/main"))&&i.__esModule?i:{default:i},y=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var a=E();if(a&&a.has(l))return a.get(l);var u,h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=d?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(h,u,m):h[u]=l[u])}return h.default=l,a&&a.set(l,h),h}(o("../core/constants"));function E(){var l;return"function"!=typeof WeakMap?null:(E=function(){return l},l=new WeakMap)}function _(l,a){for(var u=0;u<a.length;u++){var h=a[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}p.default.Vector=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var m,f,g="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],m=(arguments.length<=2?void 0:arguments[2])||0,f=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(m=(arguments.length<=0?void 0:arguments[0])||0,f=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=m,this.y=f,this.z=g}var a,u,h;return a=l,h=[{key:"fromAngle",value:function(d){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new p.default.Vector(m*Math.cos(d),m*Math.sin(d),0)}},{key:"fromAngles",value:function(L,D){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,g=Math.cos(D),$=(D=Math.sin(D),Math.cos(L));return L=Math.sin(L),new p.default.Vector(f*L*D,-f*$,f*L*g)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*y.TWO_PI)}},{key:"random3D",value:function(){var d=Math.random()*y.TWO_PI,m=2*Math.random()-1,f=(g=Math.sqrt(1-m*m))*Math.cos(d),g=g*Math.sin(d);return new p.default.Vector(f,g,m)}},{key:"copy",value:function(d){return d.copy(d)}},{key:"add",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2];return $?$.set(g):($=g.copy(),3===m.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),$.add(D),$}},{key:"rem",value:function(d,m){if(d instanceof p.default.Vector&&m instanceof p.default.Vector)return(d=d.copy()).rem(m),d}},{key:"sub",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2];return $?$.set(g):($=g.copy(),3===m.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),$.sub(D),$}},{key:"mult",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2];return $?$.set(g):($=g.copy(),3===m.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),$.mult(D),$}},{key:"rotate",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2];return 2===m.length?$=g.copy():($ instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),$.set(g)),$.rotate(D),$}},{key:"div",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2];return $?$.set(g):($=g.copy(),3===m.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),$.div(D),$}},{key:"dot",value:function(d,m){return d.dot(m)}},{key:"cross",value:function(d,m){return d.cross(m)}},{key:"dist",value:function(d,m){return d.dist(m)}},{key:"lerp",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2],L=m[3];return L?L.set(g):(L=g.copy(),4===m.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),L.lerp(D,$),L}},{key:"slerp",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2],L=m[3];return L?L.set(g):(L=g.copy(),4===m.length&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),L.slerp(D,$),L}},{key:"mag",value:function(d){return d.mag()}},{key:"magSq",value:function(d){return d.magSq()}},{key:"normalize",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1];return m.length<2?D=g.copy():(D instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),D.set(g)),D.normalize()}},{key:"limit",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2];return m.length<3?$=g.copy():($ instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),$.set(g)),$.limit(D)}},{key:"setMag",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2];return m.length<3?$=g.copy():($ instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),$.set(g)),$.setMag(D)}},{key:"heading",value:function(d){return d.heading()}},{key:"angleBetween",value:function(d,m){return d.angleBetween(m)}},{key:"reflect",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2];return m.length<3?$=g.copy():($ instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),$.set(g)),$.reflect(D)}},{key:"array",value:function(d){return d.array()}},{key:"equals",value:function(d,m){var f;return d instanceof p.default.Vector?f=d:Array.isArray(d)?f=(new p.default.Vector).set(d):p.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),f.equals(m)}}],(u=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(d,m,f){return d instanceof p.default.Vector?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):Array.isArray(d)?(this.x=d[0]||0,this.y=d[1]||0,this.z=d[2]||0):(this.x=d||0,this.y=m||0,this.z=f||0),this}},{key:"copy",value:function(){return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new p.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(d,m,f){return d instanceof p.default.Vector?(this.x+=d.x||0,this.y+=d.y||0,this.z+=d.z||0):Array.isArray(d)?(this.x+=d[0]||0,this.y+=d[1]||0,this.z+=d[2]||0):(this.x+=d||0,this.y+=m||0,this.z+=f||0),this}},{key:"calculateRemainder2D",value:function(d,m){return 0!==d&&(this.x=this.x%d),0!==m&&(this.y=this.y%m),this}},{key:"calculateRemainder3D",value:function(d,m,f){return 0!==d&&(this.x=this.x%d),0!==m&&(this.y=this.y%m),0!==f&&(this.z=this.z%f),this}},{key:"rem",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g,D,$,L=m[0],P=m[1],x=m[2];if(L instanceof p.default.Vector){if([L.x,L.y,L.z].every(Number.isFinite))return g=parseFloat(L.x),D=parseFloat(L.y),$=parseFloat(L.z),this.calculateRemainder3D(g,D,$)}else if(Array.isArray(L)){if(L.every(Number.isFinite))return 2===L.length?this.calculateRemainder2D(L[0],L[1]):3===L.length?this.calculateRemainder3D(L[0],L[1],L[2]):void 0}else if(1===m.length){if(Number.isFinite(L)&&0!==L)return this.x=this.x%L,this.y=this.y%L,this.z=this.z%L,this}else if(2===m.length){if(m.every(Number.isFinite))return this.calculateRemainder2D(L,P)}else if(3===m.length&&m.every(Number.isFinite))return this.calculateRemainder3D(L,P,x)}},{key:"sub",value:function(d,m,f){return d instanceof p.default.Vector?(this.x-=d.x||0,this.y-=d.y||0,this.z-=d.z||0):Array.isArray(d)?(this.x-=d[0]||0,this.y-=d[1]||0,this.z-=d[2]||0):(this.x-=d||0,this.y-=m||0,this.z-=f||0),this}},{key:"mult",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g,D=m[0],$=m[1],L=m[2];return D instanceof p.default.Vector?Number.isFinite(D.x)&&Number.isFinite(D.y)&&Number.isFinite(D.z)&&"number"==typeof D.x&&"number"==typeof D.y&&"number"==typeof D.z?(this.x*=D.x,this.y*=D.y,this.z*=D.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(D)?D.every(function(P){return Number.isFinite(P)})&&D.every(function(P){return"number"==typeof P})?1===D.length?(this.x*=D[0],this.y*=D[0],this.z*=D[0]):2===D.length?(this.x*=D[0],this.y*=D[1]):3===D.length&&(this.x*=D[0],this.y*=D[1],this.z*=D[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(g=m).every(function(P){return Number.isFinite(P)})&&g.every(function(P){return"number"==typeof P})?(1===m.length&&(this.x*=D,this.y*=D,this.z*=D),2===m.length&&(this.x*=D,this.y*=$),3===m.length&&(this.x*=D,this.y*=$,this.z*=L)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var g=m[0],D=m[1],$=m[2];if(g instanceof p.default.Vector)if(Number.isFinite(g.x)&&Number.isFinite(g.y)&&Number.isFinite(g.z)&&"number"==typeof g.x&&"number"==typeof g.y&&"number"==typeof g.z){var L=0===g.z&&0===this.z;if(0===g.x||0===g.y||!L&&0===g.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=g.x,this.y/=g.y,L||(this.z/=g.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(g))if(g.every(Number.isFinite)&&g.every(function(P){return"number"==typeof P})){if(g.some(function(P){return 0===P}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===g.length?(this.x/=g[0],this.y/=g[0],this.z/=g[0]):2===g.length?(this.x/=g[0],this.y/=g[1]):3===g.length&&(this.x/=g[0],this.y/=g[1],this.z/=g[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(m.every(Number.isFinite)&&m.every(function(P){return"number"==typeof P})){if(m.some(function(P){return 0===P}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===m.length&&(this.x/=g,this.y/=g,this.z/=g),2===m.length&&(this.x/=g,this.y/=D),3===m.length&&(this.x/=g,this.y/=D,this.z/=$)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var d=this.x,m=this.y,f=this.z;return d*d+m*m+f*f}},{key:"dot",value:function(d,m,f){return d instanceof p.default.Vector?this.dot(d.x,d.y,d.z):this.x*(d||0)+this.y*(m||0)+this.z*(f||0)}},{key:"cross",value:function(g){var m=this.y*g.z-this.z*g.y,f=this.z*g.x-this.x*g.z;return g=this.x*g.y-this.y*g.x,this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,m,f,g):new p.default.Vector(m,f,g)}},{key:"dist",value:function(d){return d.copy().sub(this).mag()}},{key:"normalize",value:function(){var d=this.mag();return 0!==d&&this.mult(1/d),this}},{key:"limit",value:function(d){var m=this.magSq();return d*d<m&&this.div(Math.sqrt(m)).mult(d),this}},{key:"setMag",value:function(d){return this.normalize().mult(d)}},{key:"heading",value:function(){var d=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(d):d}},{key:"setHeading",value:function(d){this.isPInst&&(d=this._toRadians(d));var m=this.mag();return this.x=m*Math.cos(d),this.y=m*Math.sin(d),this}},{key:"rotate",value:function(m){m=this.heading()+m;var f=(this.isPInst&&(m=this._toRadians(m)),this.mag());return this.x=Math.cos(m)*f,this.y=Math.sin(m)*f,this}},{key:"angleBetween",value:function(d){var m;return this.magSq()*d.magSq()==0?NaN:(m=this.cross(d),d=Math.atan2(m.mag(),this.dot(d))*Math.sign(m.z||1),this.isPInst?this._fromRadians(d):d)}},{key:"lerp",value:function(d,m,f,g){return d instanceof p.default.Vector?this.lerp(d.x,d.y,d.z,m):(this.x+=(d-this.x)*g||0,this.y+=(m-this.y)*g||0,this.z+=(f-this.z)*g||0,this)}},{key:"slerp",value:function(d,m){if(0!==m){if(1===m)return this.set(d);var f=this.mag(),g=d.mag();if(f*g==0)this.mult(1-m).add(d.x*m,d.y*m,d.z*m);else{var D=this.cross(d),$=D.mag(),L=Math.atan2($,this.dot(d));if(0<$)D.x/=$,D.y/=$,D.z/=$;else{if(L<.5*Math.PI)return this.mult(1-m).add(d.x*m,d.y*m,d.z*m),this;0===this.z&&0===d.z?D.set(0,0,1):0!==this.x?D.set(this.y,-this.x,0).normalize():D.set(1,0,0)}$=D.cross(this),D=(d=1-m+m*g/f)*Math.cos(m*L),g=d*Math.sin(m*L),this.x=this.x*D+$.x*g,this.y=this.y*D+$.y*g,this.z=this.z*D+$.z*g}}return this}},{key:"reflect",value:function(d){return d=p.default.Vector.normalize(d),this.sub(d.mult(2*this.dot(d)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function($,m,f){var g,D;return $=$ instanceof p.default.Vector?(g=$.x||0,D=$.y||0,$.z||0):Array.isArray($)?(g=$[0]||0,D=$[1]||0,$[2]||0):(g=$||0,D=m||0,f||0),this.x===g&&this.y===D&&this.z===$}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(d){return Math.abs(+(d||0))<=Number.EPSILON?0:d}}])&&_(a.prototype,u),h&&_(a,h),l}();var i=p.default.Vector;V.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(E,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(E=E("../core/main"))&&E.__esModule?E:{default:E},b="_lcg_random_state",p=4294967296,y=0;v.default.prototype._lcg=function(_){return this[_]=(1664525*this[_]+1013904223)%p,this[_]/p},v.default.prototype._lcgSetSeed=function(_,i){this[_]=(null==i?Math.random()*p:i)>>>0},v.default.prototype.randomSeed=function(_){this._lcgSetSeed(b,_),this._gaussian_previous=!1},v.default.prototype.random=function(_,i){var l,a;return v.default._validateParameters("random",arguments),l=null!=this[b]?this._lcg(b):Math.random(),void 0===_?l:void 0===i?Array.isArray(_)?_[Math.floor(l*_.length)]:l*_:(i<_&&(a=_,_=i,i=a),l*(i-_)+_)},v.default.prototype.randomGaussian=function(_){var i,l,a,u,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)i=y,this._gaussian_previous=!1;else{for(;1<=(u=(l=this.random(2)-1)*l+(a=this.random(2)-1)*a););i=l*(u=Math.sqrt(-2*Math.log(u)/u)),y=a*u,this._gaussian_previous=!0}return i*h+(_||0)},V.default=E=v.default},{"../core/main":283}],318:[function(o,se,V){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var l=E();if(l&&l.has(i))return l.get(i);var a,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var d;Object.prototype.hasOwnProperty.call(i,a)&&((d=h?Object.getOwnPropertyDescriptor(i,a):null)&&(d.get||d.set)?Object.defineProperty(u,a,d):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function E(){var i;return"function"!=typeof WeakMap?null:(E=function(){return i},i=new WeakMap)}p.default.prototype._angleMode=y.RADIANS,p.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},p.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},p.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},p.default.prototype.atan2=function(i,l){return this._fromRadians(Math.atan2(i,l))},p.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},p.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},p.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},p.default.prototype.degrees=function(i){return i*y.RAD_TO_DEG},p.default.prototype.radians=function(i){return i*y.DEG_TO_RAD},p.default.prototype.angleMode=function(i){if(p.default._validateParameters("angleMode",arguments),void 0===i)return this._angleMode;i!==y.DEGREES&&i!==y.RADIANS||i!==this._angleMode&&(i===y.RADIANS?(this._setProperty("pRotationX",this.pRotationX*y.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*y.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*y.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*y.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*y.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*y.RAD_TO_DEG)),this._angleMode=i)},p.default.prototype._toRadians=function(i){return this._angleMode===y.DEGREES?i*y.DEG_TO_RAD:i},p.default.prototype._toDegrees=function(i){return this._angleMode===y.RADIANS?i*y.RAD_TO_DEG:i},p.default.prototype._fromRadians=function(i){return this._angleMode===y.DEGREES?i*y.RAD_TO_DEG:i},p.default.prototype._fromDegrees=function(i){return this._angleMode===y.RADIANS?i*y.DEG_TO_RAD:i};var _=p.default;V.default=_},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(o,se,V){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.textAlign=function(b,p){var y;return v.default._validateParameters("textAlign",arguments),(y=this._renderer).textAlign.apply(y,arguments)},v.default.prototype.textLeading=function(b){var p;return v.default._validateParameters("textLeading",arguments),(p=this._renderer).textLeading.apply(p,arguments)},v.default.prototype.textSize=function(b){var p;return v.default._validateParameters("textSize",arguments),(p=this._renderer).textSize.apply(p,arguments)},v.default.prototype.textStyle=function(b){var p;return v.default._validateParameters("textStyle",arguments),(p=this._renderer).textStyle.apply(p,arguments)},v.default.prototype.textWidth=function(){for(var b=arguments.length,p=new Array(b),y=0;y<b;y++)p[y]=arguments[y];if(p[0]+="",v.default._validateParameters("textWidth",p),0===p[0].length)return 0;for(var E=p[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),_=[],i=0;i<E.length;i++)_.push(this._renderer.textWidth(E[i]));return Math.max.apply(Math,_)},v.default.prototype.textAscent=function(){for(var b=arguments.length,p=new Array(b),y=0;y<b;y++)p[y]=arguments[y];return v.default._validateParameters("textAscent",p),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var b=arguments.length,p=new Array(b),y=0;y<b;y++)p[y]=arguments[y];return v.default._validateParameters("textDescent",p),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(b){return v.default._validateParameters("textWrap",[b]),this._renderer.textWrap(b)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=i(o("../core/constants")),E=i(o("opentype.js"));function _(){var a;return"function"!=typeof WeakMap?null:(_=function(){return a},a=new WeakMap)}function i(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var u=_();if(u&&u.has(a))return u.get(a);var h,d,m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&((d=f?Object.getOwnPropertyDescriptor(a,h):null)&&(d.get||d.set)?Object.defineProperty(m,h,d):m[h]=a[h]);return m.default=a,u&&u.set(a,m),m}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),p.default.prototype.loadFont=function(a,u,h){p.default._validateParameters("loadFont",arguments);var d=new p.default.Font(this),m=this;return E.load(a,function(D,$){if(D)return p.default._friendlyFileLoadError(4,a),void 0!==h?h(D):void console.error(D,a);d.font=$,void 0!==u&&u(d),m._decrementPreload();var L=($=(D=a.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:D.slice($+1);["ttf","otf","woff","woff2"].includes(L)&&(L=D.slice(0,-1!==$?$:0),(D=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(L,";\nsrc: url(").concat(a,");\n}\n"))),document.head.appendChild(D))}),d},p.default.prototype.text=function(a,u,h,d,m){var f;return p.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(f=this._renderer).text.apply(f,arguments):this},p.default.prototype.textFont=function(a,u){if(p.default._validateParameters("textFont",arguments),arguments.length){if(a)return this._renderer._setProperty("_textFont",a),u&&(this._renderer._setProperty("_textSize",u),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",u*y._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=p.default;V.default=l},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(o,se,V){"use strict";function v(P){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(b=o("../core/main"))&&b.__esModule?b:{default:b},p=function(P){if(P&&P.__esModule)return P;if(null===P||"object"!==E(P)&&"function"!=typeof P)return{default:P};var x=y();if(x&&x.has(P))return x.get(P);var U,I={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in P){var R;Object.prototype.hasOwnProperty.call(P,U)&&((R=F?Object.getOwnPropertyDescriptor(P,U):null)&&(R.get||R.set)?Object.defineProperty(I,U,R):I[U]=P[U])}return I.default=P,x&&x.set(P,I),I}(o("../core/constants"));function y(){var P;return"function"!=typeof WeakMap?null:(y=function(){return P},P=new WeakMap)}function E(P){return(E="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(x){return v(x)}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":v(x)})(P)}function _(P,x){for(var U=0;U<x.length;U++){var I=x[U];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(P,I.key,I)}}function i(P,x){var U=P.length;return P[x<0?x%U+U:x%U]}function l(P,x,U,I){var F,R,Z;return I?(void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]),Z=l.tmpPoint2,(R=l.tmpPoint1).x=x.x-P.x,R.y=x.y-P.y,Z.x=U.x-x.x,Z.y=U.y-x.y,F=R.x*Z.x+R.y*Z.y,R=Math.sqrt(R.x*R.x+R.y*R.y),Z=Math.sqrt(Z.x*Z.x+Z.y*Z.y),Math.acos(F/(R*Z))<I):(x[0]-P[0])*(U[1]-P[1])-(U[0]-P[0])*(x[1]-P[1])==0}function a(j,me,te,xe,Be,R,Z,oe,q){var re=1-q,W=(G=Math.pow(re,3))*j+3*(K=Math.pow(re,2))*q*te+3*re*q*q*Be+(ue=(Y=q*q)*q)*Z,G=G*me+3*K*q*xe+3*re*q*q*R+ue*oe,K=j+2*q*(te-j)+Y*(Be-2*te+j),ue=me+2*q*(xe-me)+Y*(R-2*xe+me),Me=te+2*q*(Be-te)+Y*(Z-2*Be+te),Y=xe+2*q*(R-xe)+Y*(oe-2*R+xe);return j=re*j+q*te,te=re*me+q*xe,me=re*Be+q*Z,xe=re*R+q*oe,Be=90-180*Math.atan2(K-Me,ue-Y)/Math.PI,(Me<K||ue<Y)&&(Be+=180),{x:W,y:G,m:{x:K,y:ue},n:{x:Me,y:Y},start:{x:j,y:te},end:{x:me,y:xe},alpha:Be}}function u(P,x,U,I,F,R,Z,oe,q){return null==q?$(P,x,U,I,F,R,Z,oe):a(P,x,U,I,F,R,Z,oe,function(re,W,G,K,ue,Me,Y,j,te){if(!(te<0||$(re,W,G,K,ue,Me,Y,j)<te)){var me,xe=.5,Be=1-xe;for(me=$(re,W,G,K,ue,Me,Y,j,Be);.01<Math.abs(me-te);)me=$(re,W,G,K,ue,Me,Y,j,Be+=(me<te?1:-1)*(xe/=2));return Be}}(P,x,U,I,F,R,Z,oe,q))}function h(P,x,U){for(var I,F,R,Z,oe,q=0,re=0,W=(P=function(G,K){function ue(Je,ft,Pt){var Wt,$t;if(!Je)return["C",ft.x,ft.y,ft.x,ft.y,ft.x,ft.y];switch(Je[0]in{T:1,Q:1}||(ft.qx=ft.qy=null),Je[0]){case"M":ft.X=Je[1],ft.Y=Je[2];break;case"A":Je=["C"].concat(m.apply(0,[ft.x,ft.y].concat(Je.slice(1))));break;case"S":$t="C"===Pt||"S"===Pt?(Wt=2*ft.x-ft.bx,2*ft.y-ft.by):(Wt=ft.x,ft.y),Je=["C",Wt,$t].concat(Je.slice(1));break;case"T":"Q"===Pt||"T"===Pt?(ft.qx=2*ft.x-ft.qx,ft.qy=2*ft.y-ft.qy):(ft.qx=ft.x,ft.qy=ft.y),Je=["C"].concat(D(ft.x,ft.y,ft.qx,ft.qy,Je[1],Je[2]));break;case"Q":ft.qx=Je[1],ft.qy=Je[2],Je=["C"].concat(D(ft.x,ft.y,Je[1],Je[2],Je[3],Je[4]));break;case"L":Je=["C"].concat(g(ft.x,ft.y,Je[1],Je[2]));break;case"H":Je=["C"].concat(g(ft.x,ft.y,Je[1],ft.y));break;case"V":Je=["C"].concat(g(ft.x,ft.y,ft.x,Je[1]));break;case"Z":Je=["C"].concat(g(ft.x,ft.y,ft.X,ft.Y))}return Je}function Me(Je,ft){if(7<Je[ft].length){Je[ft].shift();for(var Pt=Je[ft];Pt.length;)qe[ft]="A",me&&(ct[ft]="A"),Je.splice(ft++,0,["C"].concat(Pt.splice(0,6)));Je.splice(ft,1),j=Math.max(te.length,me&&me.length||0)}}function Y(Je,ft,Pt,Wt,$t){Je&&ft&&"M"===Je[$t][0]&&"M"!==ft[$t][0]&&(ft.splice($t,0,["M",Wt.x,Wt.y]),Pt.bx=0,Pt.by=0,Pt.x=Je[$t][1],Pt.y=Je[$t][2],j=Math.max(te.length,me&&me.length||0))}var j,te=d(G),me=K,xe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Be={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},qe=[],ct=[],ze="",st="";j=Math.max(te.length,me&&me.length||0);for(var lt=0;lt<j;lt++){"C"!==(ze=te[lt]?te[lt][0]:ze)&&(qe[lt]=ze,lt&&(st=qe[lt-1])),te[lt]=ue(te[lt],xe,st),"A"!==qe[lt]&&"C"===ze&&(qe[lt]="C"),Me(te,lt),me&&("C"!==(ze=me[lt]?me[lt][0]:ze)&&(ct[lt]=ze,lt&&(st=ct[lt-1])),me[lt]=ue(me[lt],Be,st),"A"!==ct[lt]&&"C"===ze&&(ct[lt]="C"),Me(me,lt)),Y(te,me,xe,Be,lt),Y(me,te,Be,xe,lt);var Fe=te[lt],rt=me&&me[lt],Ye=Fe.length,ot=me&&rt.length;xe.x=Fe[Ye-2],xe.y=Fe[Ye-1],xe.bx=parseFloat(Fe[Ye-4])||xe.x,xe.by=parseFloat(Fe[Ye-3])||xe.y,Be.bx=me&&(parseFloat(rt[ot-4])||Be.x),Be.by=me&&(parseFloat(rt[ot-3])||Be.y),Be.x=me&&rt[ot-2],Be.y=me&&rt[ot-1]}return me?[te,me]:te}(P)).length;re<W;re++){if("M"===(R=P[re])[0])I=+R[1],F=+R[2];else{if(x<q+(Z=u(I,F,R[1],R[2],R[3],R[4],R[5],R[6]))&&!U)return{x:(oe=u(I,F,R[1],R[2],R[3],R[4],R[5],R[6],x-q)).x,y:oe.y,alpha:oe.alpha};q+=Z,I=+R[5],F=+R[6]}R.shift()}return(oe=U?q:a(I,F,R[0],R[1],R[2],R[3],R[4],R[5],1)).alpha?{x:oe.x,y:oe.y,alpha:oe.alpha}:oe}function d(P){var x=[],U=0,I=0,F=0,R=0,Z=0;if(P){"M"===P[0][0]&&(F=U=+P[0][1],R=I=+P[0][2],Z++,x[0]=["M",U,I]);for(var oe,q,re=3===P.length&&"M"===P[0][0]&&"R"===P[1][0].toUpperCase()&&"Z"===P[2][0].toUpperCase(),W=Z,G=P.length;W<G;W++){if(x.push(oe=[]),(q=P[W])[0]!==q[0].toUpperCase())switch(oe[0]=q[0].toUpperCase(),oe[0]){case"A":oe[1]=q[1],oe[2]=q[2],oe[3]=q[3],oe[4]=q[4],oe[5]=q[5],oe[6]=+(q[6]+U),oe[7]=+(q[7]+I);break;case"V":oe[1]=+q[1]+I;break;case"H":oe[1]=+q[1]+U;break;case"R":for(var K,ue=2,Me=(K=[U,I].concat(q.slice(1))).length;ue<Me;ue++)K[ue]=+K[ue]+U,K[++ue]=+K[ue]+I;x.pop(),x=x.concat(f(K,re));break;case"M":F=+q[1]+U,R=+q[2]+I;break;default:for(var Y=1,j=q.length;Y<j;Y++)oe[Y]=+q[Y]+(Y%2?U:I)}else if("R"===q[0])K=[U,I].concat(q.slice(1)),x.pop(),x=x.concat(f(K,re)),oe=["R"].concat(q.slice(-2));else for(var te=0,me=q.length;te<me;te++)oe[te]=q[te];switch(oe[0]){case"Z":U=F,I=R;break;case"H":U=oe[1];break;case"V":I=oe[1];break;case"M":F=oe[oe.length-2],R=oe[oe.length-1];break;default:U=oe[oe.length-2],I=oe[oe.length-1]}}}return x}function m(P,x,U,I,me,qe,xe,oe,q,re){function W(ot,Je,ft){return{x:ot*Math.cos(ft)-Je*Math.sin(ft),y:ot*Math.sin(ft)+Je*Math.cos(ft)}}var G,te=120*(j=Math.PI)/180,K=j/180*(+me||0),ue=[],Me=(re?(lt=re[0],G=re[1],ze=re[2],st=re[3]):(P=(Be=W(P,x,-K)).x,x=Be.y,1<(Me=(Y=(P-(oe=(Be=W(oe,q,-K)).x))/2)*Y/(U*U)+(Be=(x-(q=Be.y))/2)*Be/(I*I))&&(U*=Me=Math.sqrt(Me),I*=Me),Me=U*U,ct=I*I,ze=(qe=(qe===xe?-1:1)*Math.sqrt(Math.abs((Me*ct-Me*Be*Be-ct*Y*Y)/(Me*Be*Be+ct*Y*Y))))*U*Be/I+(P+oe)/2,st=qe*-I*Y/U+(x+q)/2,lt=Math.asin(((x-st)/I).toFixed(9)),G=Math.asin(((q-st)/I).toFixed(9)),(lt=P<ze?j-lt:lt)<0&&(lt=2*j+lt),(G=oe<ze?j-G:G)<0&&(G=2*j+G),xe&&G<lt&&(lt-=2*j),!xe&&lt<G&&(G-=2*j)),G-lt),Y=(Math.abs(Me)>te&&(ct=G,Be=oe,qe=q,G=lt+te*(xe&&lt<G?1:-1),ue=m(oe=ze+U*Math.cos(G),q=st+I*Math.sin(G),U,I,me,0,xe,Be,qe,[G,ct,ze,st])),Me=G-lt,Math.cos(lt)),j=Math.sin(lt),Be=(te=Math.cos(G),me=Math.sin(G),4/3*U*(xe=Math.tan(Me/4))),ct=[P,x],ze=[P+Be*j,x-(qe=4/3*I*xe)*Y],st=[oe+Be*me,q-qe*te],lt=[oe,q];if(ze[0]=2*ct[0]-ze[0],ze[1]=2*ct[1]-ze[1],re)return[ze,st,lt].concat(ue);for(var Fe=[],rt=0,Ye=(ue=[ze,st,lt].concat(ue).join().split(",")).length;rt<Ye;rt++)Fe[rt]=rt%2?W(ue[rt-1],ue[rt],K).y:W(ue[rt],ue[rt+1],K).x;return Fe}function f(P,x){for(var U=[],I=0,F=P.length;I<F-2*!x;I+=2){var R=[{x:+P[I-2],y:+P[I-1]},{x:+P[I],y:+P[I+1]},{x:+P[I+2],y:+P[I+3]},{x:+P[I+4],y:+P[I+5]}];x?I?F-4===I?R[3]={x:+P[0],y:+P[1]}:F-2===I&&(R[2]={x:+P[0],y:+P[1]},R[3]={x:+P[2],y:+P[3]}):R[0]={x:+P[F-2],y:+P[F-1]}:F-4===I?R[3]=R[2]:I||(R[0]={x:+P[I],y:+P[I+1]}),U.push(["C",(6*R[1].x-R[0].x+R[2].x)/6,(6*R[1].y-R[0].y+R[2].y)/6,(R[1].x+6*R[2].x-R[3].x)/6,(R[1].y+6*R[2].y-R[3].y)/6,R[2].x,R[2].y])}return U}function g(P,x,U,I){return[P,x,U,I,U,I]}function D(P,x,U,I,F,R){return[1/3*P+2/3*U,1/3*x+2/3*I,1/3*F+2/3*U,1/3*R+2/3*I,F,R]}function $(P,x,U,I,F,R,Z,oe,q){for(var re=(q=1<(q=null==q?1:q)?1:q<0?0:q)/2,W=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=0,K=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ue=0;ue<12;ue++){var Me=L(Y=re*W[ue]+re,P,U,F,Z),Y=L(Y,x,I,R,oe);G+=K[ue]*Math.sqrt(Me*Me+Y*Y)}return re*G}function L(P,x,U,I,F){return P*(P*(-3*x+9*U-9*I+3*F)+6*x-12*U+6*I)-3*x+3*U}b.default.Font=function(){function P(F){if(!(this instanceof P))throw new TypeError("Cannot call a class as a function");this.parent=F,this.cache={},this.font=void 0}var x,U;return x=P,(U=[{key:"textBounds",value:function(F){var R=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,oe=4<arguments.length?arguments[4]:void 0,q=oe&&oe.renderer&&oe.renderer._pInst||this.parent,re=q._renderer.drawingContext,W=(W=3<arguments.length?arguments[3]:void 0)||q._renderer._textSize;if(!qe){for(var G=[],K=[],ue=[],Me=(ue[0]=[],[]),Y=this._scale(W),j=q._renderer.textLeading(),te=0,me=(this.font.forEachGlyph(F,R,Z,W,oe,function(st,lt,Fe,rt){var Ye=st.getMetrics();0===st.index?ue[te+=1]=[]:(ue[te].push(lt+Ye.xMin*Y),ue[te].push(lt+Ye.xMax*Y),Me.push(Fe+te*j+-Ye.yMin*Y),Me.push(Fe+te*j+-Ye.yMax*Y))}),0<ue[te].length&&(G[te]=Math.min.apply(null,ue[te]),K[te]=Math.max.apply(null,ue[te])),0),xe=0;xe<=te;xe++){G[xe]=Math.min.apply(null,ue[xe]),K[xe]=Math.max.apply(null,ue[xe]);var Be=K[xe]-G[xe];me<Be&&(me=Be)}var qe={x:re=Math.min.apply(null,G),y:Z=Math.min.apply(null,Me),h:Math.max.apply(null,Me)-Z,w:me,advance:re-R};W=this._handleAlignment(q._renderer,F,qe.x,qe.y,qe.w+qe.advance),qe.x=W.x,qe.y=W.y}return qe}},{key:"textToPoints",value:function(F,R,Z,oe,q){var re=R,W=[],G=F.split(/\r?\n|\r|\n/g);oe=oe||this.parent._renderer._textSize;for(var K,ue,Me,Y=0;Y<G.length;Y++){var j=0;R=re;for(var te=(te=G[Y]).replace("\t","  "),me=this._getGlyphs(te),xe=0;xe<me.length;xe++){if(ue=te,!((Me=me)[K=xe].name&&"space"===Me[K].name||ue.length===Me.length&&" "===ue[K]))for(var Be=function(st){for(var lt,Fe=[],rt=0;rt<st.length;rt++)"M"===st[rt].type&&(lt&&Fe.push(lt),lt=[]),lt.push((ot=void 0,ot=[(Ye=st[rt]).type],"M"===Ye.type||"L"===Ye.type?ot.push(Ye.x,Ye.y):"C"===Ye.type?ot.push(Ye.x1,Ye.y1,Ye.x2,Ye.y2,Ye.x,Ye.y):"Q"===Ye.type&&ot.push(Ye.x1,Ye.y1,Ye.x,Ye.y),ot));var Ye,ot;return Fe.push(lt),Fe}(me[xe].getPath(R,Z,oe).commands),qe=0;qe<Be.length;qe++)for(var ct=function(st,lt){lt=function(ft,Pt){if("object"!==E(ft))ft=Pt;else for(var Wt in Pt)void 0===ft[Wt]&&(ft[Wt]=Pt[Wt]);return ft}(lt,{sampleFactor:.1,simplifyThreshold:0});for(var Fe=h(st,0,1),rt=Fe/(Fe*lt.sampleFactor),Ye=[],ot=0;ot<Fe;ot+=rt)Ye.push(h(st,ot));return lt.simplifyThreshold&&function(Je){for(var ft=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Wt=Je.length-1;3<Je.length&&0<=Wt;--Wt)l(i(Je,Wt-1),i(Je,Wt),i(Je,Wt+1),ft)&&Je.splice(Wt%Je.length,1)}(Ye,lt.simplifyThreshold),Ye}(Be[qe],q),ze=0;ze<ct.length;ze++)ct[ze].x+=j,W.push(ct[ze]);j+=me[xe].advanceWidth*this._scale(oe)}Z+=this.parent._renderer._textLeading}return W}},{key:"_getGlyphs",value:function(F){return this.font.stringToGlyphs(F)}},{key:"_getPath",value:function(F,re,Z,oe){var q=(oe&&oe.renderer&&oe.renderer._pInst||this.parent)._renderer;return re=this._handleAlignment(q,F,re,Z),this.font.getPath(F,re.x,re.y,q._textSize,oe)}},{key:"_getPathData",value:function(F,R,Z,oe){var q=3;return"string"==typeof F&&2<arguments.length?F=this._getPath(F,R,Z,oe):"object"===E(R)&&(oe=R),oe&&"number"==typeof oe.decimals&&(q=oe.decimals),F.toPathData(q)}},{key:"_getSVG",value:function(F,R,Z,oe){var q=3;return"string"==typeof F&&2<arguments.length?F=this._getPath(F,R,Z,oe):"object"===E(R)&&(oe=R),oe&&("number"==typeof oe.decimals&&(q=oe.decimals),"number"==typeof oe.strokeWidth&&(F.strokeWidth=oe.strokeWidth),void 0!==oe.fill&&(F.fill=oe.fill),void 0!==oe.stroke&&(F.stroke=oe.stroke)),F.toSVG(q)}},{key:"_renderPath",value:function(W,K,ue,oe){var q=oe&&oe.renderer||this.parent._renderer,re=q.drawingContext,G=(W=("object"===E(W)&&W.commands?W:this._getPath(W,K,ue,oe)).commands,q._clipping||re.beginPath(),!0);K=!1,ue=void 0;try{for(var Me,Y=W[Symbol.iterator]();!(G=(Me=Y.next()).done);G=!0){var j=Me.value;"M"===j.type?re.moveTo(j.x,j.y):"L"===j.type?re.lineTo(j.x,j.y):"C"===j.type?re.bezierCurveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):"Q"===j.type?re.quadraticCurveTo(j.x1,j.y1,j.x,j.y):"Z"===j.type&&re.closePath()}}catch(te){K=!0,ue=te}finally{try{G||null==Y.return||Y.return()}finally{if(K)throw ue}}return q._doStroke&&q._strokeSet&&!q._clipping&&re.stroke(),q._doFill&&!q._clipping&&(q._fillSet||q._setFill(p._DEFAULT_TEXT_FILL),re.fill()),this}},{key:"_textWidth",value:function(F,R){return this.font.getAdvanceWidth(F,R)}},{key:"_textAscent",value:function(F){return this.font.ascender*this._scale(F)}},{key:"_textDescent",value:function(F){return-this.font.descender*this._scale(F)}},{key:"_scale",value:function(F){return 1/this.font.unitsPerEm*(F||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(F,R,Z,oe,q){var re=F._textSize;switch(void 0===q&&(q=this._textWidth(R,re)),F._textAlign){case p.CENTER:Z-=q/2;break;case p.RIGHT:Z-=q}switch(F._textBaseline){case p.TOP:oe+=this._textAscent(re);break;case p.CENTER:oe+=this._textAscent(re)/2;break;case p.BOTTOM:oe-=this._textDescent(re)}return{x:Z,y:oe}}}])&&_(x.prototype,U),P}(),V.default=o=b.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(v,b){return v.push(b),v},o.default.prototype.arrayCopy=function(v,b,p,y,E){var _,i;v=void 0!==E?(i=Math.min(E,v.length),_=y,v.slice(b,i+b)):(i=void 0!==p?(i=p,Math.min(i,v.length)):v.length,p=b,v.slice(_=0,i)),Array.prototype.splice.apply(p,[_,i].concat(v))},o.default.prototype.concat=function(v,b){return v.concat(b)},o.default.prototype.reverse=function(v){return v.reverse()},o.default.prototype.shorten=function(v){return v.pop(),v},o.default.prototype.shuffle=function(v,b){for(var p,y,E=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),_=(v=b||E?v:v.slice()).length;1<_;)p=this.random(0,1)*_|0,y=v[--_],v[_]=v[p],v[p]=y;return v},o.default.prototype.sort=function(v,y){var p=y?v.slice(0,Math.min(y,v.length)):v;return y=y?v.slice(Math.min(y,v.length)):[],(p="string"==typeof p[0]?p.sort():p.sort(function(E,_){return E-_})).concat(y)},o.default.prototype.splice=function(v,b,p){return Array.prototype.splice.apply(v,[p,0].concat(b)),v},o.default.prototype.subset=function(v,b,p){return v.slice(b,void 0!==p?b+p:v.length)},V.default=o=o.default},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(o,se,V){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.float=function(b){return b instanceof Array?b.map(parseFloat):parseFloat(b)},v.default.prototype.int=function(b){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return b===1/0||"Infinity"===b?1/0:b===-1/0||"-Infinity"===b?-1/0:"string"==typeof b?parseInt(b,p):"number"==typeof b?0|b:"boolean"==typeof b?b?1:0:b instanceof Array?b.map(function(y){return v.default.prototype.int(y,p)}):void 0},v.default.prototype.str=function(b){return b instanceof Array?b.map(v.default.prototype.str):String(b)},v.default.prototype.boolean=function(b){return"number"==typeof b?0!==b:"string"==typeof b?"true"===b.toLowerCase():"boolean"==typeof b?b:b instanceof Array?b.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(b){return"number"==typeof(b=v.default.prototype.int(b,10))?(b+128)%256-128:b instanceof Array?b.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(b){return"number"!=typeof b||isNaN(b)?b instanceof Array?b.map(v.default.prototype.char):"string"==typeof b?v.default.prototype.char(parseInt(b,10)):void 0:String.fromCharCode(b)},v.default.prototype.unchar=function(b){return"string"==typeof b&&1===b.length?b.charCodeAt(0):b instanceof Array?b.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(b,p){if(p=null==p?8:p,b instanceof Array)return b.map(function(E){return v.default.prototype.hex(E,p)});if(b===1/0||b===-1/0)return(b===1/0?"F":"0").repeat(p);if("number"==typeof b){b<0&&(b=4294967295+b+1);for(var y=Number(b).toString(16).toUpperCase();y.length<p;)y="0".concat(y);return y.length>=p?y.substring(y.length-p,y.length):y}},v.default.prototype.unhex=function(b){return b instanceof Array?b.map(v.default.prototype.unhex):parseInt("0x".concat(b),16)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(i=o("../core/main"))&&i.__esModule?i:{default:i};function b(l,a){return function(u){if(Array.isArray(u))return u}(l)||function(u,h){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u)){var d=[],m=!0,f=!1,g=void 0;try{for(var D,$=u[Symbol.iterator]();!(m=(D=$.next()).done)&&(d.push(D.value),!h||d.length!==h);m=!0);}catch(L){f=!0,g=L}finally{try{m||null==$.return||$.return()}finally{if(f)throw g}}return d}}(l,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(l,a,u){var h=(d=b(l.toString().split("."),2))[0],d=d[1];return void 0===u?(h=h.padStart(a,"0"),d?h+"."+d:h):(h=(l=b(l.toFixed(u).toString().split("."),2))[0],d=l[1],h=h.padStart(a,"0"),void 0===d?h:h+"."+d)}function y(d,a){var u=(d=d.toString()).indexOf("."),h=-1!==u?d.substring(u):"";if(d=(d=-1!==u?d.substring(0,u):d).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===a)h="";else if(void 0!==a)if(a>h.length)for(var m=a-(h+=-1===u?".":"").length+1,f=0;f<m;f++)h+="0";else h=h.substring(0,a+1);return d+h}function E(l){return 0<parseFloat(l)?"+".concat(l.toString()):l.toString()}function _(l){return 0<=parseFloat(l)?" ".concat(l.toString()):l.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),v.default.prototype.join=function(l,a){return v.default._validateParameters("join",arguments),l.join(a)},v.default.prototype.match=function(l,a){return v.default._validateParameters("match",arguments),l.match(a)},v.default.prototype.matchAll=function(l,a){v.default._validateParameters("matchAll",arguments);for(var u=new RegExp(a,"g"),h=u.exec(l),d=[];null!==h;)d.push(h),h=u.exec(l);return d},v.default.prototype.nf=function(l,a,u){return v.default._validateParameters("nf",arguments),l instanceof Array?l.map(function(h){return p(h,a,u)}):"[object Arguments]"===Object.prototype.toString.call(l)?3===l.length?this.nf(l[0],l[1],l[2]):2===l.length?this.nf(l[0],l[1]):this.nf(l[0]):p(l,a,u)},v.default.prototype.nfc=function(l,a){return v.default._validateParameters("nfc",arguments),l instanceof Array?l.map(function(u){return y(u,a)}):y(l,a)},v.default.prototype.nfp=function(){for(var l=arguments.length,a=new Array(l),u=0;u<l;u++)a[u]=arguments[u];v.default._validateParameters("nfp",a);var h=v.default.prototype.nf.apply(this,a);return h instanceof Array?h.map(E):E(h)},v.default.prototype.nfs=function(){for(var l=arguments.length,a=new Array(l),u=0;u<l;u++)a[u]=arguments[u];v.default._validateParameters("nfs",a);var h=v.default.prototype.nf.apply(this,a);return h instanceof Array?h.map(_):_(h)},v.default.prototype.split=function(l,a){return v.default._validateParameters("split",arguments),l.split(a)},v.default.prototype.splitTokens=function(l,a){var u,h;return v.default._validateParameters("splitTokens",arguments),h=void 0!==a?(h=/\]/g.exec(a),(u=/\[/g.exec(a))&&h?(a=a.slice(0,h.index)+a.slice(h.index+1),u=/\[/g.exec(a),a=a.slice(0,u.index)+a.slice(u.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):h?(a=a.slice(0,h.index)+a.slice(h.index+1),new RegExp("[".concat(a,"\\]]"),"g")):u?(a=a.slice(0,u.index)+a.slice(u.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")):/\s/g,l.split(h).filter(function(d){return d})},v.default.prototype.trim=function(l){return v.default._validateParameters("trim",arguments),l instanceof Array?l.map(this.trim):l.trim()};var i=v.default;V.default=i},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},V.default=o=o.default},{"../core/main":283}],326:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(i=o("../core/main"))&&i.__esModule?i:{default:i},y=(o("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var a=E();if(a&&a.has(l))return a.get(l);var u,h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=d?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(h,u,m):h[u]=l[u])}return h.default=l,a&&a.set(l,h),h}(o("../core/constants")));function E(){var l;return"function"!=typeof WeakMap?null:(E=function(){return l},l=new WeakMap)}function _(l,a,u,h,d,m,f){l=l<=0?1:l,a=a<0?0:a,u=u<=0?l:u,h=h<3?3:h;for(var g,D,$=(m=void 0===m||m)?-2:0,L=(d=d<1?1:d)+((f=void 0===f?0!==a:f)?2:0),P=Math.atan2(l-a,u),x=Math.sin(P),U=Math.cos(P),I=$;I<=L;++I){var F=I/d,R=u*F,Z=void 0;for(Z=I<0?(F=R=0,l):d<I?(R=u,F=1,a):l+(a-l)*F,-2!==I&&I!==d+2||(Z=0),R-=u/2,g=0;g<h;++g){var oe=g/(h-1),re=2*Math.PI*oe,q=Math.sin(re),W=(re=Math.cos(re),this.vertices.push(new p.default.Vector(q*Z,R,re*Z)));W=I<0?new p.default.Vector(0,-1,0):d<I&&a?new p.default.Vector(0,1,0):new p.default.Vector(q*U,x,re*U),this.vertexNormals.push(W),this.uvs.push(oe,F)}}var G=0;if(m){for(D=0;D<h;++D)this.faces.push([G+D,G+h+(D+1)%h,G+h+D]);G+=2*h}for(I=0;I<d;++I){for(g=0;g<h;++g){var K=(g+1)%h;this.faces.push([G+g,G+K,G+h+K]),this.faces.push([G+g,G+h+K,G+h+g])}G+=h}if(f)for(G+=h,g=0;g<h;++g)this.faces.push([G+g,G+(g+1)%h,G+h])}p.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},p.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},p.default.prototype.buildGeometry=function(l){return this._renderer.buildGeometry(l)},p.default.prototype.freeGeometry=function(l){this._renderer._freeBuffers(l.gid)},p.default.prototype.plane=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=(this._assert3d("plane"),p.default._validateParameters("plane",arguments),"plane|".concat(h,"|").concat(d));return this._renderer.geometryInHash(m)||((l=new p.default.Geometry(h,d,function(){for(var f,g,D=0;D<=this.detailY;D++)for(var $=D/this.detailY,L=0;L<=this.detailX;L++)g=new p.default.Vector((f=L/this.detailX)-.5,$-.5,0),this.vertices.push(g),this.uvs.push(f,$)})).computeFaces().computeNormals(),h<=1&&d<=1?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,l)),this._renderer.drawBuffersScaled(m,a,u,1),this},p.default.prototype.box=function(l,a,u,h,d){this._assert3d("box"),p.default._validateParameters("box",arguments),void 0===l&&(l=50),void 0===a&&(a=l),void 0===u&&(u=a);var m,f=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===d&&(d=f?1:4),f="box|".concat(h=void 0===h?f?1:4:h,"|").concat(d),this._renderer.geometryInHash(f)||((m=new p.default.Geometry(h,d,function(){var g=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(D,$){$*=4;for(var L=0;L<4;L++){var P=new p.default.Vector((2*(1&(P=D[L]))-1)/2,((2&P)-1)/2,((4&P)/2-1)/2);g.vertices.push(P),g.uvs.push(1&L,(2&L)/2)}g.faces.push([$,1+$,2+$]),g.faces.push([2+$,1+$,3+$])})})).computeNormals(),h<=4&&d<=4?m._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(f,m)),this._renderer.drawBuffersScaled(f,l,a,u),this},p.default.prototype.sphere=function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),p.default._validateParameters("sphere",arguments),this.ellipsoid(l,l,l,a,u),this},p.default.prototype.cylinder=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],f=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],g=(this._assert3d("cylinder"),p.default._validateParameters("cylinder",arguments),"cylinder|".concat(h,"|").concat(d,"|").concat(m,"|").concat(f));return this._renderer.geometryInHash(g)||(l=new p.default.Geometry(h,d),_.call(l,1,1,1,h,d,m,f),h<=24&&d<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,l)),this._renderer.drawBuffersScaled(g,a,u,a),this},p.default.prototype.cone=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],f=(this._assert3d("cone"),p.default._validateParameters("cone",arguments),"cone|".concat(h,"|").concat(d,"|").concat(m));return this._renderer.geometryInHash(f)||(l=new p.default.Geometry(h,d),_.call(l,1,0,1,h,d,m,!1),h<=24&&d<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(f,l)),this._renderer.drawBuffersScaled(f,a,u,a),this},p.default.prototype.ellipsoid=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,f=(this._assert3d("ellipsoid"),p.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(d,"|").concat(m));return this._renderer.geometryInHash(f)||((l=new p.default.Geometry(d,m,function(){for(var g=0;g<=this.detailY;g++)for(var D=g/this.detailY,$=Math.PI*D-Math.PI/2,L=Math.cos($),P=Math.sin($),x=0;x<=this.detailX;x++){var U=x/this.detailX,F=2*Math.PI*U,I=Math.cos(F);F=Math.sin(F),F=new p.default.Vector(L*F,P,L*I),this.vertices.push(F),this.vertexNormals.push(F),this.uvs.push(U,D)}})).computeFaces(),d<=24&&m<=24?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(f,l)),this._renderer.drawBuffersScaled(f,a,u,h),this},p.default.prototype.torus=function(l,f,u,h){if(this._assert3d("torus"),p.default._validateParameters("torus",arguments),void 0===l)l=50;else if(!l)return;if(void 0===f)f=10;else if(!f)return;void 0===u&&(u=24),void 0===h&&(h=16);var d,m=(f/l).toPrecision(4);return f="torus|".concat(m,"|").concat(u,"|").concat(h),this._renderer.geometryInHash(f)||((d=new p.default.Geometry(u,h,function(){for(var g=0;g<=this.detailY;g++)for(var D=g/this.detailY,$=2*Math.PI*D,L=Math.cos($),P=Math.sin($),x=1+m*L,U=0;U<=this.detailX;U++){var I=U/this.detailX,F=2*Math.PI*I,Z=Math.cos(F),R=(F=Math.sin(F),new p.default.Vector(x*Z,x*F,m*P));Z=new p.default.Vector(L*Z,L*F,P),this.vertices.push(R),this.vertexNormals.push(Z),this.uvs.push(I,D)}})).computeFaces(),u<=24&&h<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(f,d)),this._renderer.drawBuffersScaled(f,l,l,l),this},p.default.RendererGL.prototype.point=function(l,a){var u=[];return u.push(new p.default.Vector(l,a,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(u,this.immediateMode.buffers.point),this},p.default.RendererGL.prototype.triangle=function(f){var a=f[0],u=f[1],h=f[2],d=f[3],m=f[4],g=(f=f[5],this.geometryInHash("tri")||((g=new p.default.Geometry(1,1,function(){var L=[];L.push(new p.default.Vector(0,0,0)),L.push(new p.default.Vector(1,0,0)),L.push(new p.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=L,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),g.computeNormals(),this.createBuffers("tri",g)),this.uModelMatrix.copy());try{var D=Math.sign(a*d-h*u+h*f-m*d+m*u-a*f),$=new p.default.Matrix([h-a,d-u,0,0,m-a,f-u,0,0,0,0,D,0,a,u,0,1]).mult(this.uModelMatrix);this.uModelMatrix=$,this.drawBuffers("tri")}finally{this.uModelMatrix=g}return this},p.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,y.TWO_PI,y.OPEN,l[4])},p.default.RendererGL.prototype.arc=function(){var l,a=arguments.length<=0?void 0:arguments[0],u=arguments.length<=1?void 0:arguments[1],h=arguments.length<=2?void 0:arguments[2],d=arguments.length<=3?void 0:arguments[3],m=arguments.length<=4?void 0:arguments[4],f=arguments.length<=5?void 0:arguments[5],g=arguments.length<=6?void 0:arguments[6],D=(arguments.length<=7?void 0:arguments[7])||25,$=(Math.abs(f-m)>=y.TWO_PI?"".concat(L="ellipse","|"):"".concat(L="arc","|").concat(m,"|").concat(f,"|").concat(g,"|")).concat(D,"|"),L=(this.geometryInHash($)||((l=new p.default.Geometry(D,1,function(){if(m.toFixed(10)!==f.toFixed(10)){g!==y.PIE&&void 0!==g||(this.vertices.push(new p.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var P=0;P<=D;P++){var U=P/D*(f-m)+m,x=.5+Math.cos(U)/2;U=.5+Math.sin(U)/2,this.vertices.push(new p.default.Vector(x,U,0)),this.uvs.push([x,U]),P<D-1&&(this.faces.push([0,P+1,P+2]),this.edges.push([P+1,P+2]))}switch(g){case y.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case y.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case y.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),D<=50?l._edgesToVertices(l):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(L," with more than 50 detail")),this.createBuffers($,l)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,u,0]),this.uModelMatrix.scale(h,d,1),this.drawBuffers($)}finally{this.uModelMatrix=L}return this},p.default.RendererGL.prototype.rect=function(l){var a=l[0],u=l[1],h=l[2],d=l[3];if(void 0===l[4]){var g=this._pInst._glAttributes.perPixelLighting,m=l[4]||(g?1:24),f=l[5]||(g?1:16),D=(g="rect|".concat(m,"|").concat(f),this.geometryInHash(g)||((D=new p.default.Geometry(m,f,function(){for(var W=0;W<=this.detailY;W++)for(var G=W/this.detailY,K=0;K<=this.detailX;K++){var ue=K/this.detailX,Me=new p.default.Vector(ue,G,0);this.vertices.push(Me),this.uvs.push(ue,G)}0<m&&0<f&&(this.edges=[[0,m],[m,(m+1)*(f+1)-1],[(m+1)*(f+1)-1,(m+1)*f],[(m+1)*f,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(g,D)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,u,0]),this.uModelMatrix.scale(h,d,1),this.drawBuffers(g)}finally{this.uModelMatrix=D}}else{g=l[4],D=void 0===l[5]?g:l[5];var $=void 0===l[6]?D:l[6],F=(l=void 0===l[7]?$:l[7],h),L=d,P=((F+=a)<a&&(U=a,a=F,F=U),(L+=u)<u&&(U=u,u=L,L=U),(U=Math.min((F-a)/2,(L-u)/2))<g&&(g=U),U<D&&(D=U),U<$&&($=U),U<l&&(l=U),a),x=u,U=F,I=(a=L,this.beginShape(),0!==D?(this.vertex(U-D,x),this.quadraticVertex(U,x,U,x+D)):this.vertex(U,x),0!==$?(this.vertex(U,a-$),this.quadraticVertex(U,a,U-$,a)):this.vertex(U,a),0!==l?(this.vertex(P+l,a),this.quadraticVertex(P,a,P,a-l)):this.vertex(P,a),0!==g?(this.vertex(P,x+g),this.quadraticVertex(P,x,P+g,x)):this.vertex(P,x),!(this.immediateMode.geometry.uvs.length=0));u=!1,F=void 0;try{for(var R,Z=this.immediateMode.geometry.vertices[Symbol.iterator]();!(I=(R=Z.next()).done);I=!0){var oe=R.value;this.immediateMode.geometry.uvs.push((oe.x-P)/h,(oe.y-x)/d)}}catch(Y){u=!0,F=Y}finally{try{I||null==Z.return||Z.return()}finally{if(u)throw F}}this.endShape(y.CLOSE)}return this},p.default.RendererGL.prototype.quad=function(l,a,u,h,d,m,f,g,D,$,L,P){var x=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,U=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,I="quad|".concat(l,"|").concat(a,"|").concat(u,"|").concat(h,"|").concat(d,"|").concat(m,"|").concat(f,"|").concat(g,"|").concat(D,"|").concat($,"|").concat(L,"|").concat(P,"|").concat(x,"|").concat(U);if(!this.geometryInHash(I)){var F=new p.default.Geometry(x,U,function(){for(var K=1/(this.detailX-1),ue=1/(this.detailY-1),Me=0;Me<this.detailY;Me++)for(var Y=0;Y<this.detailX;Y++){var j=Y*K,te=Me*ue;this.vertices.push(new p.default.Vector((1-j)*((1-te)*l+te*$)+j*((1-te)*h+te*f),(1-j)*((1-te)*a+te*L)+j*((1-te)*d+te*g),(1-j)*((1-te)*u+te*P)+j*((1-te)*m+te*D))),this.uvs.push([j,te])}});F.faces=[];for(var R=0;R<U-1;R++)for(var Z=0;Z<x-1;Z++){var oe=Z+R*x,q=Z+1+(R+1)*x,re=Z+(R+1)*x;F.faces.push([oe,Z+1+R*x,q]),F.faces.push([oe,q,re])}F.computeNormals();for(var W=[F.edges.length=0,2,3,1],G=0;G<W.length;G++)F.edges.push([W[G],W[(G+1)%W.length]]);F._edgesToVertices(),this.createBuffers(I,F)}return this.drawBuffers(I),this},p.default.RendererGL.prototype.bezier=function(l,a,u,h,d,m,f,g,D,$,L,P){8===arguments.length&&(L=g,$=f,g=m,f=d,d=h,h=u,u=m=D=P=0);var x=this._pInst._bezierDetail||20;this.beginShape();for(var U=0;U<=x;U++){var I=Math.pow(1-U/x,3),F=U/x*3*Math.pow(1-U/x,2),R=3*Math.pow(U/x,2)*(1-U/x),Z=Math.pow(U/x,3);this.vertex(l*I+h*F+f*R+$*Z,a*I+d*F+g*R+L*Z,u*I+m*F+D*R+P*Z)}return this.endShape(),this},p.default.RendererGL.prototype.curve=function(l,a,u,h,d,m,f,g,D,$,L,P){8===arguments.length&&($=f,L=g,f=d,g=h,d=h=u,u=m=D=P=0);var x=this._pInst._curveDetail;this.beginShape();for(var U=0;U<=x;U++){var I=.5*Math.pow(U/x,3),F=.5*Math.pow(U/x,2),R=U/x*.5;this.vertex(I*(3*h-l-3*f+$)+F*(2*l-5*h+4*f-$)+R*(-l+f)+2*h*.5,I*(3*d-a-3*g+L)+F*(2*a-5*d+4*g-L)+R*(-a+g)+2*d*.5,I*(3*m-u-3*D+P)+F*(2*u-5*m+4*D-P)+R*(-u+D)+2*m*.5)}return this.endShape(),this},p.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},p.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var l,a,u,h,d,m,f=[],g=[],D=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var $=1/this._lutBezierDetail,L=0,P=1,x=0;L<1;){if(m=parseFloat(L.toFixed(6)),this._lookUpTableBezier[x]=this._bezierCoefficients(m),P.toFixed(6)===$.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(L.toFixed(6)),++x,this._lookUpTableBezier[x]=this._bezierCoefficients(m);break}L+=$,P-=$,++x}}for(var U=this._lookUpTableBezier.length,I=[],F=0;F<4;F++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[3]=this.curFillColor.slice();var R=[];for(F=0;F<4;F++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[3]=this.curStrokeColor.slice(),6===D){this.isBezier=!0,f=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var Z=Math.hypot(f[0]-f[1],g[0]-g[1]),q=Math.hypot(f[1]-f[2],g[1]-g[2]),oe=Math.hypot(f[2]-f[3],g[2]-g[3]);for(Z/=q=Z+q+oe,oe/=q,d=0;d<4;d++)I[1].push(I[0][d]*(1-Z)+I[3][d]*Z),I[2].push(I[0][d]*oe+I[3][d]*(1-oe)),R[1].push(R[0][d]*(1-Z)+R[3][d]*Z),R[2].push(R[0][d]*oe+R[3][d]*(1-oe));for(h=0;h<U;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=l=a=0;F<4;F++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[h][F]*I[F][d],this.curStrokeColor[d]+=this._lookUpTableBezier[h][F]*R[F][d];l+=f[F]*this._lookUpTableBezier[h][F],a+=g[F]*this._lookUpTableBezier[h][F]}this.vertex(l,a)}this.curFillColor=I[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===D){this.isBezier=!0,f=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var re=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],W=Math.hypot(f[0]-f[1],g[0]-g[1],re[0]-re[1]),G=(q=Math.hypot(f[1]-f[2],g[1]-g[2],re[1]-re[2]),Math.hypot(f[2]-f[3],g[2]-g[3],re[2]-re[3]));for(W/=D=W+q+G,G/=D,d=0;d<4;d++)I[1].push(I[0][d]*(1-W)+I[3][d]*W),I[2].push(I[0][d]*G+I[3][d]*(1-G)),R[1].push(R[0][d]*(1-W)+R[3][d]*W),R[2].push(R[0][d]*G+R[3][d]*(1-G));for(h=0;h<U;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=l=a=u=0;F<4;F++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[h][F]*I[F][d],this.curStrokeColor[d]+=this._lookUpTableBezier[h][F]*R[F][d];l+=f[F]*this._lookUpTableBezier[h][F],a+=g[F]*this._lookUpTableBezier[h][F],u+=re[F]*this._lookUpTableBezier[h][F]}this.vertex(l,a,u)}this.curFillColor=I[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},p.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var l,a,u,h,d,m,f=[],g=[],D=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var $=1/this._lutQuadraticDetail,L=0,P=1,x=0;L<1;){if(m=parseFloat(L.toFixed(6)),this._lookUpTableQuadratic[x]=this._quadraticCoefficients(m),P.toFixed(6)===$.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(L.toFixed(6)),++x,this._lookUpTableQuadratic[x]=this._quadraticCoefficients(m);break}L+=$,P-=$,++x}}for(var U=this._lookUpTableQuadratic.length,I=[],F=0;F<3;F++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[2]=this.curFillColor.slice();var R=[];for(F=0;F<3;F++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[2]=this.curStrokeColor.slice(),4===D){this.isQuadratic=!0,f=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var Z=Math.hypot(f[0]-f[1],g[0]-g[1]);for(Z/=Z+Math.hypot(f[1]-f[2],g[1]-g[2]),d=0;d<4;d++)I[1].push(I[0][d]*(1-Z)+I[2][d]*Z),R[1].push(R[0][d]*(1-Z)+R[2][d]*Z);for(h=0;h<U;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=l=a=0;F<3;F++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[h][F]*I[F][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[h][F]*R[F][d];l+=f[F]*this._lookUpTableQuadratic[h][F],a+=g[F]*this._lookUpTableQuadratic[h][F]}this.vertex(l,a)}this.curFillColor=I[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===D){this.isQuadratic=!0,f=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var oe=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],q=Math.hypot(f[0]-f[1],g[0]-g[1],oe[0]-oe[1]);for(q/=q+Math.hypot(f[1]-f[2],g[1]-g[2],oe[1]-oe[2]),d=0;d<4;d++)I[1].push(I[0][d]*(1-q)+I[2][d]*q),R[1].push(R[0][d]*(1-q)+R[2][d]*q);for(h=0;h<U;h++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],F=l=a=u=0;F<3;F++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[h][F]*I[F][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[h][F]*R[F][d];l+=f[F]*this._lookUpTableQuadratic[h][F],a+=g[F]*this._lookUpTableQuadratic[h][F],u+=oe[F]*this._lookUpTableQuadratic[h][F]}this.vertex(l,a,u)}this.curFillColor=I[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},p.default.RendererGL.prototype.curveVertex=function(){var l,d,m,f=[],g=[],D=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var $=1/this._lutBezierDetail,L=0,P=1,x=0;L<1;){if(m=parseFloat(L.toFixed(6)),this._lookUpTableBezier[x]=this._bezierCoefficients(m),P.toFixed(6)===$.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(L.toFixed(6)),++x,this._lookUpTableBezier[x]=this._bezierCoefficients(m);break}L+=$,P-=$,++x}}var U=this._lookUpTableBezier.length;if(2===D){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,f=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),d=0;d<U;d++)this.vertex(f[0]*this._lookUpTableBezier[d][0]+f[1]*this._lookUpTableBezier[d][1]+f[2]*this._lookUpTableBezier[d][2]+f[3]*this._lookUpTableBezier[d][3],g[0]*this._lookUpTableBezier[d][0]+g[1]*this._lookUpTableBezier[d][1]+g[2]*this._lookUpTableBezier[d][2]+g[3]*this._lookUpTableBezier[d][3]);for(d=0;d<D;d++)this.immediateMode._curveVertex.shift()}}else if(3===D&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,f=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),d=0;d<U;d++)this.vertex(f[0]*this._lookUpTableBezier[d][0]+f[1]*this._lookUpTableBezier[d][1]+f[2]*this._lookUpTableBezier[d][2]+f[3]*this._lookUpTableBezier[d][3],g[0]*this._lookUpTableBezier[d][0]+g[1]*this._lookUpTableBezier[d][1]+g[2]*this._lookUpTableBezier[d][2]+g[3]*this._lookUpTableBezier[d][3],l[0]*this._lookUpTableBezier[d][0]+l[1]*this._lookUpTableBezier[d][1]+l[2]*this._lookUpTableBezier[d][2]+l[3]*this._lookUpTableBezier[d][3]);for(d=0;d<D;d++)this.immediateMode._curveVertex.shift()}},p.default.RendererGL.prototype.image=function(l,P,u,x,d,m,f,g,D){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(y.NORMAL);var $=0,L=(P<=l.width&&($=P/l.width),1);P+x<=l.width&&(L=(P+x)/l.width),P=0,u<=l.height&&(P=u/l.height),x=1,u+d<=l.height&&(x=(u+d)/l.height),this.beginShape(),this.vertex(m,f,0,$,P),this.vertex(m+g,f,0,L,P),this.vertex(m+g,f+D,0,L,x),this.vertex(m,f+D,0,$,x),this.endShape(y.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(y.REMOVE)};var i=p.default;V.default=i},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var u=E();if(u&&u.has(a))return u.get(a);var h,d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var f;Object.prototype.hasOwnProperty.call(a,h)&&((f=m?Object.getOwnPropertyDescriptor(a,h):null)&&(f.get||f.set)?Object.defineProperty(d,h,f):d[h]=a[h])}return d.default=a,u&&u.set(a,d),d}(o("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}function _(a){return function(u){if(Array.isArray(u)){for(var h=0,d=new Array(u.length);h<u.length;h++)d[h]=u[h];return d}}(a)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(a,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var l=function(){function a(m){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(this.renderer=m)._pInst.push(),this.identityMatrix=new p.default.Matrix,m.uModelMatrix=new p.default.Matrix,this.geometry=new p.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(a.nextGeometryId),a.nextGeometryId++,this.hasTransform=!1}var u,h;return u=a,(h=[{key:"transformVertices",value:function(m){var f=this;return this.hasTransform?m.map(function(g){return f.renderer.uModelMatrix.multiplyPoint(g)}):m}},{key:"transformNormals",value:function(m){var f=this;return this.hasTransform?m.map(function(g){return f.renderer.uNMatrix.multiplyVec3(g)}):m}},{key:"addGeometry",value:function(m){for(var f,g=this,D=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(L,P){return L===g.identityMatrix.mat4[P]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),$=((f=this.geometry.vertices).push.apply(f,_(this.transformVertices(m.vertices))),(f=this.geometry.vertexNormals).push.apply(f,_(this.transformNormals(m.vertexNormals))),(f=this.geometry.uvs).push.apply(f,_(m.uvs)),this.renderer._doFill&&(f=this.geometry.faces).push.apply(f,_(m.faces.map(function(L){return L.map(function(P){return P+D})}))),this.renderer._doStroke&&(f=this.geometry.edges).push.apply(f,_(m.edges.map(function(L){return L.map(function(P){return P+D})}))),_(m.vertexColors));$.length<4*m.vertices.length;)$.push.apply($,_(this.renderer.curFillColor));(f=this.geometry.vertexColors).push.apply(f,_($))}},{key:"addImmediate",value:function(){var m=this.renderer.immediateMode.geometry,f=this.renderer.immediateMode.shapeMode,g=[];if(this.renderer._doFill)if(f===y.TRIANGLE_STRIP||f===y.QUAD_STRIP)for(var D=2;D<m.vertices.length;D++)g.push(D%2==0?[D,D-1,D-2]:[D,D-2,D-1]);else if(f===y.TRIANGLE_FAN)for(var $=2;$<m.vertices.length;$++)g.push([0,$-1,$]);else for(var L=0;L<m.vertices.length;L+=3)g.push([L,L+1,L+2]);this.addGeometry(Object.assign({},m,{faces:g}))}},{key:"addRetained",value:function(m){this.addGeometry(m.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&i(u.prototype,h),a}();l.nextGeometryId=0,V.default=l},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(o,se,V){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(_=o("../core/main"))&&_.__esModule?_:{default:_},p=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==E(i)&&"function"!=typeof i)return{default:i};var l=y();if(l&&l.has(i))return l.get(i);var a,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var d;Object.prototype.hasOwnProperty.call(i,a)&&((d=h?Object.getOwnPropertyDescriptor(i,a):null)&&(d.get||d.set)?Object.defineProperty(u,a,d):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function y(){var i;return"function"!=typeof WeakMap?null:(y=function(){return i},i=new WeakMap)}function E(i){return(E="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}b.default.prototype.orbitControl=function(i,l,a,D){var h=this,d=(this._assert3d("orbitControl"),b.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===i&&(i=1),void 0===l&&(l=i),void 0===a&&(a=1),"object"!==E(D)&&(D={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var L=D.disableTouchActions;!0===this.touchActionsDisabled||void 0!==L&&!L||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),D=void 0!==(L=D.freeRotation)&&L;var m,f,g,$=[],P=(this.touches.forEach(function(Z){h._renderer.prevTouches.forEach(function(oe){Z.id===oe.id&&$.push(oe={x:Z.x,y:Z.y,px:oe.x,py:oe.y})})}),this._renderer.prevTouches=this.touches,L=0,0),x=0,U=0,I=0,F=this.height<this.width?this.height:this.width,R=!1;return 0<$.length?(R=0<$[0].x&&$[0].x<this.width&&0<$[0].y&&$[0].y<this.height,1===$.length?(P=-i*((m=$[0]).x-m.px)/F,x=l*(m.y-m.py)/F):(m=$[0],f=$[1],L=-(Math.hypot(m.x-f.x,m.y-f.y)-Math.hypot(m.px-f.px,m.py-f.py))*a*4e-4,U=.5*(m.x+f.x)-.5*(m.px+f.px),I=.5*(m.y+f.y)-.5*(m.py+f.py)),0<this.touches.length?R&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(R=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(L=Math.sign(this._mouseWheelDeltaY)*a,L*=.01,this._mouseWheelDeltaY=0,R&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(P=-i*this.movedX/F,x=l*this.movedY/F):this.mouseButton===this.RIGHT&&(U=this.movedX,I=this.movedY*d.yScale),R&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==L&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=L),.001<Math.abs(this._renderer.zoomVelocity)?(D?d._orbitFree(0,0,this._renderer.zoomVelocity):d._orbit(0,0,this._renderer.zoomVelocity),0!==d.projMatrix.mat4[15]&&(d.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),d.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=d.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=d.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===P&&0===x||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*P,.6*x),1e-6<this._renderer.rotateVelocity.magSq()?(D?d._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):d._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===U&&0===I||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(m=2*U/this.width),.15*(f=2*-I/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(a=d._getLocalAxes(),i=d.eyeX-d.centerX,l=d.eyeY-d.centerY,F=d.eyeZ-d.centerZ,R=Math.sqrt(i*i+l*l+F*F),L=new b.default.Vector(d.centerX,d.centerY,d.centerZ),L=d.cameraMatrix.multiplyPoint(L),(L=this._renderer.uPMatrix.multiplyAndNormalizePoint(L)).x-=this._renderer.moveVelocity.x,L.y-=this._renderer.moveVelocity.y,x=0===(P=this._renderer.uPMatrix.mat4)[15]?(g=(P[8]+L.x)/P[0]*R,(P[9]+L.y)/P[5]*R):(g=(L.x-P[12])/P[0],(L.y-P[13])/P[5]),d.setPosition(d.eyeX+g*a.x[0]+x*a.y[0],d.eyeY+g*a.x[1]+x*a.y[1],d.eyeZ+g*a.x[2]+x*a.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},b.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];b.default._validateParameters("debugMode",l);for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1);l[0]===p.GRID?this.registerMethod("post",this._grid(l[1],l[2],l[3],l[4],l[5])):l[0]===p.AXES?this.registerMethod("post",this._axesIcon(l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid(l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon(l[5],l[6],l[7],l[8])))},b.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},b.default.prototype._grid=function(i,l,a,u,h){void 0===i&&(i=this.width/2),void 0===l&&(l=Math.round(i/30)<4?4:Math.round(i/30)),void 0===a&&(a=0),void 0===u&&(u=0),void 0===h&&(h=0);var d=i/l,m=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var f=0;f<=l;f++)this.beginShape(this.LINES),this.vertex(-m+a,u,f*d-m+h),this.vertex(m+a,u,f*d-m+h),this.endShape();for(var g=0;g<=l;g++)this.beginShape(this.LINES),this.vertex(g*d-m+a,u,-m+h),this.vertex(g*d-m+a,u,m+h),this.endShape();this.pop()}},b.default.prototype._axesIcon=function(i,l,a,u){return void 0===i&&(i=40<this.width/20?this.width/20:40),void 0===l&&(l=-this.width/4),void 0===a&&(a=l),void 0===u&&(u=l),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,a,u),this.vertex(l+i,a,u),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,a,u),this.vertex(l,a+i,u),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,a,u),this.vertex(l,a,u+i),this.endShape(),this.pop()}};var _=b.default;V.default=_},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(o,se,V){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.ambientLight=function(b,p,y,E){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var _=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(_._array[0],_._array[1],_._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(b,p,y){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var E=this.color.apply(this,arguments);return this._renderer.specularColors=[E._array[0],E._array[1],E._array[2]],this},v.default.prototype.directionalLight=function(b,h,u,E,_,i){var l,a;return this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),b=b instanceof v.default.Color?b:this.color(b,h,u),u="number"==typeof(h=arguments[arguments.length-1])?(l=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(l=h.x,a=h.y,h.z),h=Math.sqrt(l*l+a*a+u*u),this._renderer.directionalLightDirections.push(l/h,a/h,u/h),this._renderer.directionalLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(b,u,h,E,_,i){var l,a;return this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),b=b instanceof v.default.Color?b:this.color(b,u,h),h="number"==typeof(u=arguments[arguments.length-1])?(l=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(l=u.x,a=u.y,u.z),this._renderer.pointLightPositions.push(l,a,h),this._renderer.pointLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(b){this._renderer.activeImageLight=b,this._renderer._enableLighting=!0},v.default.prototype.panorama=function(b){this.filter(this._renderer._getSphereMapping(b))},v.default.prototype.lights=function(){this._assert3d("lights");var b=this.color("rgb(128,128,128)");return this.ambientLight(b),this.directionalLight(b,0,0,-1),this},v.default.prototype.lightFalloff=function(b,p,y){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),b<0&&(b=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),p<0&&(p=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),y<0&&(y=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===b&&0===p&&0===y&&(b=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=b,this._renderer.linearAttenuation=p,this._renderer.quadraticAttenuation=y,this},v.default.prototype.spotLight=function(b,p,y,E,_,i,l,a,u,h,d){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var m,f,g,D=arguments.length;switch(D){case 11:case 10:m=this.color(b,p,y),f=new v.default.Vector(E,_,i),g=new v.default.Vector(l,a,u);break;case 9:b instanceof v.default.Color?(m=b,f=new v.default.Vector(p,y,E),g=new v.default.Vector(_,i,l),h=a,d=u):E instanceof v.default.Vector?(m=this.color(b,p,y),f=E,g=new v.default.Vector(_,i,l),h=a,d=u):l instanceof v.default.Vector?(m=this.color(b,p,y),f=new v.default.Vector(E,_,i),g=l,h=a,d=u):(m=this.color(b,p,y),f=new v.default.Vector(E,_,i),g=new v.default.Vector(l,a,u));break;case 8:g=b instanceof v.default.Color?(m=b,f=new v.default.Vector(p,y,E),new v.default.Vector(_,i,l)):E instanceof v.default.Vector?(m=this.color(b,p,y),f=E,new v.default.Vector(_,i,l)):(m=this.color(b,p,y),f=new v.default.Vector(E,_,i),l),h=a;break;case 7:b instanceof v.default.Color&&p instanceof v.default.Vector?(m=b,f=p,g=new v.default.Vector(y,E,_),h=i,d=l):b instanceof v.default.Color&&_ instanceof v.default.Vector?(m=b,f=new v.default.Vector(p,y,E),g=_,h=i,d=l):E instanceof v.default.Vector&&_ instanceof v.default.Vector?(m=this.color(b,p,y),f=E,g=_,h=i,d=l):g=b instanceof v.default.Color?(m=b,f=new v.default.Vector(p,y,E),new v.default.Vector(_,i,l)):E instanceof v.default.Vector?(m=this.color(b,p,y),f=E,new v.default.Vector(_,i,l)):(m=this.color(b,p,y),f=new v.default.Vector(E,_,i),l);break;case 6:E instanceof v.default.Vector&&_ instanceof v.default.Vector?(m=this.color(b,p,y),f=E,g=_,h=i):b instanceof v.default.Color&&_ instanceof v.default.Vector?(m=b,f=new v.default.Vector(p,y,E),g=_,h=i):b instanceof v.default.Color&&p instanceof v.default.Vector&&(m=b,f=p,g=new v.default.Vector(y,E,_),h=i);break;case 5:b instanceof v.default.Color&&p instanceof v.default.Vector&&y instanceof v.default.Vector?(m=b,f=p,g=y,h=E,d=_):E instanceof v.default.Vector&&_ instanceof v.default.Vector?(m=this.color(b,p,y),f=E,g=_):b instanceof v.default.Color&&_ instanceof v.default.Vector?(m=b,f=new v.default.Vector(p,y,E),g=_):b instanceof v.default.Color&&p instanceof v.default.Vector&&(m=b,f=p,g=new v.default.Vector(y,E,_));break;case 4:m=b,f=p,g=y,h=E;break;case 3:m=b,f=p,g=y;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(D<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(f.x,f.y,f.z),g.normalize(),this._renderer.spotLightDirections.push(g.x,g.y,g.z),void 0===h&&(h=Math.PI/3),void 0!==d&&d<1?(d=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===d&&(d=100),h=this._renderer._pInst._toRadians(h),this._renderer.spotLightAngle.push(Math.cos(h)),this._renderer.spotLightConc.push(d),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var b=arguments.length,p=new Array(b),y=0;y<b;y++)p[y]=arguments[y];return v.default._validateParameters("noLights",p),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,o("regenerator-runtime/runtime");var b=(i=o("../core/main"))&&i.__esModule?i:{default:i};function p(l){return function(a){if(Array.isArray(a)){for(var u=0,h=new Array(a.length);u<a.length;u++)h[u]=a[u];return h}}(l)||function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(l,a,u,h,d,m,f){try{var g=l[m](f),D=g.value}catch($){return void u($)}g.done?a(D):Promise.resolve(D).then(h,d)}function E(l){return function(){var a=this,u=arguments;return new Promise(function(h,d){var m=l.apply(a,u);function f(D){y(m,h,d,f,g,"next",D)}function g(D){y(m,h,d,f,g,"throw",D)}f(void 0)})}}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("./p5.Geometry"),b.default.prototype.loadModel=function(l,a){b.default._validateParameters("loadModel",arguments);var u,h,x,d=!1,m=!1,f=!1,g=l.slice(-4),D=(a&&"object"===_(a)?(d=a.normalize||!1,u=a.successCallback,h=a.failureCallback,g=a.fileType||g,m=a.flipU||!1,f=a.flipV||!1):"boolean"==typeof a?(d=a,u=arguments[2],h=arguments[3],void 0!==arguments[4]&&(g=arguments[4])):(u="function"==typeof a?a:void 0,h=arguments[2],void 0!==arguments[3]&&(g=arguments[3])),new b.default.Geometry),$=(D.gid="".concat(l,"|").concat(d),this);function L(){return(L=E(M.mark(function x(U){var I,F,R,Z;return M.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:for(I=[],F=0;F<U.length;F++)(R=U[F].match(/^mtllib (.+)/))&&function(){var q,re=R[1],W=l.split("/");q=1<W.length?(W.pop(),W.join("/")+"/"+re):re,I.push(function(){return P.apply(this,arguments)}(q).then(function(G){return G?(K=$,ue=q,new Promise(function(Me,Y){var j=null,te={};K.loadStrings(ue,function(me){for(var xe=0;xe<me.length;++xe){var qe=me[xe].trim().split(/\s+/);"newmtl"===qe[0]?te[j=qe[1]]={}:"Kd"===qe[0]?te[j].diffuseColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"Ka"===qe[0]?te[j].ambientColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"Ks"===qe[0]?te[j].specularColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"map_Kd"===qe[0]&&(te[j].texturePath=qe[1])}Me(te)},Y)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(q)),{});var K,ue}).catch(function(G){return console.warn("Error loading MTL file: ".concat(q),G),{}}))}();return oe.prev=2,oe.next=5,Promise.all(I);case 5:return Z=oe.sent,Z=Object.assign.apply(Object,[{}].concat(p(Z))),oe.abrupt("return",Z);case 10:return oe.prev=10,oe.t0=oe.catch(2),oe.abrupt("return",{});case 13:case"end":return oe.stop()}},x,null,[[2,10]])}))).apply(this,arguments)}function P(){return(P=E(M.mark(function x(U){return M.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,fetch(U,{method:"HEAD"});case 3:return F.abrupt("return",F.sent.ok);case 7:return F.prev=7,F.t0=F.catch(0),F.abrupt("return",!1);case 10:case"end":return F.stop()}},x,null,[[0,7]])}))).apply(this,arguments)}return g.match(/\.stl$/i)?this.httpDo(l,"GET","arrayBuffer",function(x){(function(U,I){if(function(F){for(var R=new DataView(F),Z=[115,111,108,105,100],oe=0;oe<5;oe++)if(function(q,re,W){for(var G=0,K=q.length;G<K;G++)if(q[G]!==re.getUint8(W+G,!1))return;return 1}(Z,R,oe))return;return 1}(I))!function(F,R){for(var Z,oe,q,re,W,G,K,ue=new DataView(R),Me=ue.getUint32(80,!0),Y=!1,j=0;j<70;j++)1129270351===ue.getUint32(j,!1)&&82===ue.getUint8(j+4)&&61===ue.getUint8(j+5)&&(Y=!0,re=[],W=ue.getUint8(j+6)/255,G=ue.getUint8(j+7)/255,K=ue.getUint8(j+8)/255);for(var te=0;te<Me;te++){for(var me,xe=84+50*te,Be=ue.getFloat32(xe,!0),qe=ue.getFloat32(4+xe,!0),ct=ue.getFloat32(8+xe,!0),ze=(Y&&(q=32768&(me=ue.getUint16(48+xe,!0))?(Z=W,oe=G,K):(Z=(31&me)/31,oe=(me>>5&31)/31,(me>>10&31)/31)),new b.default.Vector(Be,qe,ct)),st=1;st<=3;st++){var lt=new b.default.Vector(ue.getFloat32(lt=xe+12*st,!0),ue.getFloat32(4+lt,!0),ue.getFloat32(8+lt,!0));F.vertices.push(lt),F.vertexNormals.push(ze),Y&&re.push(Z,oe,q)}F.faces.push([3*te,3*te+1,3*te+2]),F.uvs.push([0,0],[0,0],[0,0])}}(U,I);else{if(I=new DataView(I),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(F,R){for(var Z,oe,q="",re=[],W=0;W<R.length;++W){for(var G=R[W].trim(),K=G.split(" "),ue=0;ue<K.length;++ue)""===K[ue]&&K.splice(ue,1);if(0!==K.length)switch(q){case"":if("solid"!==K[0])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "solid"'));q="solid";break;case"solid":if("facet"!==K[0]||"normal"!==K[1])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "facet normal"'));Z=new b.default.Vector(parseFloat(K[2]),parseFloat(K[3]),parseFloat(K[4])),F.vertexNormals.push(Z,Z,Z),q="facet normal";break;case"facet normal":if("outer"!==K[0]||"loop"!==K[1])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "outer loop"'));q="vertex";break;case"vertex":if("vertex"===K[0])oe=new b.default.Vector(parseFloat(K[1]),parseFloat(K[2]),parseFloat(K[3])),F.vertices.push(oe),F.uvs.push([0,0]),re.push(F.vertices.indexOf(oe));else{if("endloop"!==K[0])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "vertex" or "endloop"'));F.faces.push(re),re=[],q="endloop"}break;case"endloop":if("endfacet"!==K[0])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "endfacet"'));q="endfacet";break;case"endfacet":if("endsolid"!==K[0]){if("facet"!==K[0]||"normal"!==K[1])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "endsolid" or "facet normal"'));Z=new b.default.Vector(parseFloat(K[2]),parseFloat(K[3]),parseFloat(K[4])),F.vertexNormals.push(Z,Z,Z),q="facet normal"}break;default:console.error('Invalid state "'.concat(q,'"'))}}}(U,I=new TextDecoder("utf-8").decode(I).split("\n"))}})(D,x),d&&D.normalize(),m&&D.flipU(),f&&D.flipV(),$._decrementPreload(),"function"==typeof u&&u(D)},h):g.match(/\.obj$/i)?this.loadStrings(l,(x=E(M.mark(function U(I){return M.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,function(){return L.apply(this,arguments)}(I);case 3:(function(Z,oe){for(var q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},re={v:[],vt:[],vn:[]},W={},G=null,K=new Set,ue=!1,Me=!1,Y=0;Y<oe.length;++Y){var j=oe[Y].trim().split(/\b\s+/);if(0<j.length)if("usemtl"===j[0])G=j[1];else if("v"===j[0]||"vn"===j[0]){var te=new b.default.Vector(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3]));re[j[0]].push(te)}else if("vt"===j[0])te=[parseFloat(j[1]),1-parseFloat(j[2])],re[j[0]].push(te);else if("f"===j[0])for(var me=3;me<j.length;++me){for(var xe=[],Be=[1,me-1,me],qe=0;qe<Be.length;++qe){for(var ct,ze=j[Be[qe]],st=ze.split("/"),lt=0;lt<st.length;lt++)st[lt]=parseInt(st[lt])-1;W[ze]||(W[ze]={}),void 0===W[ze][G]?(ct=Z.vertices.length,Z.vertices.push(re.v[st[0]].copy()),Z.uvs.push(re.vt[st[1]]?re.vt[st[1]].slice():[0,0]),Z.vertexNormals.push(re.vn[st[2]]?re.vn[st[2]].copy():new b.default.Vector),W[ze][G]=ct,xe.push(ct),G&&q[G]&&q[G].diffuseColor&&K.add(re.v[st[0]])):xe.push(W[ze][G])}if(xe[0]!==xe[1]&&xe[0]!==xe[2]&&xe[1]!==xe[2])if(Z.faces.push(xe),G&&q[G]&&q[G].diffuseColor){ue=ue=!0;for(var Fe=q[G].diffuseColor,rt=0;rt<xe.length;rt++)Z.vertexColors.push(Fe[0]),Z.vertexColors.push(Fe[1]),Z.vertexColors.push(Fe[2])}else Me=!0}}if(0===Z.vertexNormals.length&&Z.computeNormals(),ue===Me)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(D,I,R.sent),R.next=11;break;case 7:return R.prev=7,R.t0=R.catch(0),h?h(R.t0):b.default._friendlyError("Error during parsing: "+R.t0.message),R.abrupt("return");case 11:return R.prev=11,d&&D.normalize(),m&&D.flipU(),f&&D.flipV(),$._decrementPreload(),"function"==typeof u&&u(D),R.finish(11);case 18:case"end":return R.stop()}},U,null,[[0,7,11,18]])})),function(U){return x.apply(this,arguments)}),h):(b.default._friendlyFileLoadError(3,l),h?h():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),D},b.default.prototype.model=function(l){this._assert3d("model"),b.default._validateParameters("model",arguments),0<l.vertices.length&&(this._renderer.geometryInHash(l.gid)||(0===l.edges.length&&l._makeTriangleEdges(),l._edgesToVertices(),this._renderer.createBuffers(l.gid,l)),this._renderer.drawBuffers(l.gid))};var i=b.default;V.default=i},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(o,se,V){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var l=E();if(l&&l.has(i))return l.get(i);var a,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var d;Object.prototype.hasOwnProperty.call(i,a)&&((d=h?Object.getOwnPropertyDescriptor(i,a):null)&&(d.get||d.set)?Object.defineProperty(u,a,d):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants"));function E(){var i;return"function"!=typeof WeakMap?null:(E=function(){return i},i=new WeakMap)}o("./p5.Texture"),p.default.prototype.loadShader=function(i,l,a,u){function h(){m._decrementPreload(),a&&a(d)}p.default._validateParameters("loadShader",arguments),u=u||console.error;var d=new p.default.Shader,m=this,f=!1,g=!1;return this.loadStrings(i,function(D){d._vertSrc=D.join("\n"),g=!0,f&&h()},u),this.loadStrings(l,function(D){d._fragSrc=D.join("\n"),f=!0,g&&h()},u),d},p.default.prototype.createShader=function(i,l){return p.default._validateParameters("createShader",arguments),new p.default.Shader(this._renderer,i,l)},p.default.prototype.createFilterShader=function(i){p.default._validateParameters("createFilterShader",arguments);var l=i.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(l=new p.default.Shader(this._renderer,l,i)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),l},p.default.prototype.shader=function(i){return this._assert3d("shader"),p.default._validateParameters("shader",arguments),i.ensureCompiledOnContext(this),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),this},p.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},p.default.prototype.texture=function(i){return this._assert3d("texture"),p.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=y.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.textureMode=function(i){i!==y.IMAGE&&i!==y.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},p.default.prototype.textureWrap=function(i){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i,a=(this._renderer.textureWrapX=i,this._renderer.textureWrapY=l,!0),u=!1,h=void 0;try{for(var d,m=this._renderer.textures.values()[Symbol.iterator]();!(a=(d=m.next()).done);a=!0)d.value.setWrapMode(i,l)}catch(f){u=!0,h=f}finally{try{a||null==m.return||m.return()}finally{if(u)throw h}}},p.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return p.default._validateParameters("normalMaterial",l),this._renderer.drawMode=y.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},p.default.prototype.ambientMaterial=function(i,l,a){this._assert3d("ambientMaterial"),p.default._validateParameters("ambientMaterial",arguments);var u=p.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=u._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.emissiveMaterial=function(i,l,a,u){this._assert3d("emissiveMaterial"),p.default._validateParameters("emissiveMaterial",arguments);var h=p.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=h._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},p.default.prototype.specularMaterial=function(i,l,a,u){this._assert3d("specularMaterial"),p.default._validateParameters("specularMaterial",arguments);var h=p.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=h._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},p.default.prototype.shininess=function(i){return this._assert3d("shininess"),p.default._validateParameters("shininess",arguments),this._renderer._useShininess=i=i<1?1:i,this},p.default.prototype.metalness=function(i){return this._assert3d("metalness"),i=1-Math.exp(-i/100),this._renderer._useMetalness=i,this},p.default.RendererGL.prototype._applyColorBlend=function(i,h){var a=this.GL;return(h=h||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===y.TEXTURE||this.curBlendMode!==y.BLEND||i[i.length-1]<1||this._isErasing)!==this._isBlending&&(h||this.curBlendMode!==y.BLEND&&this.curBlendMode!==y.ADD?a.enable(a.BLEND):a.disable(a.BLEND),a.depthMask(!0),this._isBlending=h),this._applyBlendMode(),i},p.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case y.BLEND:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case y.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE);break;case y.REMOVE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_ALPHA);break;case y.MULTIPLY:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA);break;case y.SCREEN:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_COLOR);break;case y.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case y.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case y.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case y.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case y.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var _=p.default;V.default=_},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(o,se,V){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(p,y){for(var E=0;E<y.length;E++){var _=y[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}v.default.prototype.camera=function(){var p;this._assert3d("camera");for(var y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];return v.default._validateParameters("camera",E),(p=this._renderer._curCamera).camera.apply(p,E),this},v.default.prototype.perspective=function(){var p;this._assert3d("perspective");for(var y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];return v.default._validateParameters("perspective",E),(p=this._renderer._curCamera).perspective.apply(p,E),this},v.default.prototype.linePerspective=function(p){if(v.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof v.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===p)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=p},v.default.prototype.ortho=function(){var p;this._assert3d("ortho");for(var y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];return v.default._validateParameters("ortho",E),(p=this._renderer._curCamera).ortho.apply(p,E),this},v.default.prototype.frustum=function(){var p;this._assert3d("frustum");for(var y=arguments.length,E=new Array(y),_=0;_<y;_++)E[_]=arguments[_];return v.default._validateParameters("frustum",E),(p=this._renderer._curCamera).frustum.apply(p,E),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var p=new v.default.Camera(this._renderer);return p._computeCameraDefaultSettings(),p._setDefaultCamera(),this._renderer._curCamera=p},v.default.Camera=function(){function p(i){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=i,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}var y,E;return y=p,(E=[{key:"perspective",value:function(h,l,a,u){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===h?h=this.defaultCameraFOV:this._renderer._pInst._toRadians(h),void 0===l&&(l=this.defaultAspectRatio),void 0===a&&(a=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),a<=1e-4&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=l,this.cameraNear=a,this.cameraFar=u,this.projMatrix=v.default.Matrix.identity(),h=1/Math.tan(this.cameraFOV/2);var d=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(h/l,0,0,0,0,-h*this.yScale,0,0,0,0,(u+a)*d,-1,0,0,2*u*a*d,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(P,L,a,u,h,d){var x=this.fbo||this._renderer,m=(void 0===P&&(P=-x.width/2),void 0===L&&(L=+x.width/2),void 0===a&&(a=-x.height/2),void 0===u&&(u=+x.height/2),void 0===h&&(h=0),void 0===d&&(d=Math.max(x.width,x.height)+800),this.cameraNear=h,x=L-P,u-a),f=(this.cameraFar=d)-h,g=2/x,D=2/m*this.yScale,$=-2/f;L=-(L+P)/x,P=-(u+a)/m,x=-(d+h)/f,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(g,0,0,0,0,-D,0,0,0,0,$,0,L,P,x,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(P,L,a,u,h,d){void 0===P&&(P=.05*-this._renderer.width),void 0===L&&(L=.05*+this._renderer.width),void 0===a&&(a=.05*+this._renderer.height),void 0===u&&(u=.05*-this._renderer.height),void 0===h&&(h=this.defaultCameraNear),void 0===d&&(d=this.defaultCameraFar),this.cameraNear=h;var x=L-P,m=u-a,f=(this.cameraFar=d)-h,g=2*h/x,D=2*h/m*this.yScale,$=-2*d*h/f;L=(L+P)/x,P=(u+a)/m,x=-(d+h)/f,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(g,0,0,0,0,-D,0,0,L,P,x,-1,0,0,$,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(g,l,a,u){var h=this.centerX,d=this.centerY,m=this.centerZ,f=(h-=this.eyeX,d-=this.eyeY,m-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst));(f.rotate(this._renderer._pInst._toRadians(g),l,a,u),g=[h*f.mat4[0]+d*f.mat4[4]+m*f.mat4[8],h*f.mat4[1]+d*f.mat4[5]+m*f.mat4[9],h*f.mat4[2]+d*f.mat4[6]+m*f.mat4[10]])[0]+=this.eyeX,g[1]+=this.eyeY,g[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,g[0],g[1],g[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(a){var l=this._getLocalAxes();a=v.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(a),l.z[0],l.z[1],l.z[2]).rotateVector(new v.default.Vector(this.upX,this.upY,this.upZ)),this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,a.x,a.y,a.z)}},{key:"pan",value:function(i){var l=this._getLocalAxes();this._rotateView(i,l.y[0],l.y[1],l.y[2])}},{key:"tilt",value:function(i){var l=this._getLocalAxes();this._rotateView(i,l.x[0],l.x[1],l.x[2])}},{key:"lookAt",value:function(i,l,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,i,l,a,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(i,l,a,u,h,d,m,f,g){return void 0===i&&(a=this.defaultEyeZ,u=i=this.defaultEyeX,h=l=this.defaultEyeY,f=1,g=m=d=0),this.eyeX=i,this.eyeY=l,this.eyeZ=a,void 0!==u&&(this.centerX=u,this.centerY=h,this.centerZ=d),void 0!==m&&(this.upX=m,this.upY=f,this.upZ=g),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),this.cameraMatrix.translate([h=-i,-l,-a]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(u,h,a){var d=this._getLocalAxes();this.camera(this.eyeX+(u=[d.x[0]*u,d.x[1]*u,d.x[2]*u])[0]+(h=[d.y[0]*h,d.y[1]*h,d.y[2]*h])[0]+(d=[d.z[0]*a,d.z[1]*a,d.z[2]*a])[0],this.eyeY+u[1]+h[1]+d[1],this.eyeZ+u[2]+h[2]+d[2],this.centerX+u[0]+h[0]+d[0],this.centerY+u[1]+h[1]+d[1],this.centerZ+u[2]+h[2]+d[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(i,l,a){this.camera(i,l,a,this.centerX+(i-this.eyeX),this.centerY+(l-this.eyeY),this.centerZ+(a-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(i){for(var l=0,a=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];l<a.length;l++){var u=a[l];this[u]=i[u]}this.cameraMatrix=i.cameraMatrix.copy(),this.projMatrix=i.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(i,l,a){var u,h,d,m,f,g,D,$,L,P,x,U,I,F,R,Z,oe,q;0===a?this.set(i):1===a?this.set(l):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=i.projMatrix.mat4[0]*Math.pow(l.projMatrix.mat4[0]/i.projMatrix.mat4[0],a),this.projMatrix.mat4[5]=i.projMatrix.mat4[5]*Math.pow(l.projMatrix.mat4[5]/i.projMatrix.mat4[5],a),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),m=new v.default.Vector(i.eyeX,i.eyeY,i.eyeZ),f=new v.default.Vector(l.eyeX,l.eyeY,l.eyeZ),Z=new v.default.Vector(i.centerX,i.centerY,i.centerZ),q=new v.default.Vector(l.centerX,l.centerY,l.centerZ),d=v.default.Vector.dist(m,Z),u=v.default.Vector.dist(f,q),u=d*Math.pow(u/d,a),d=v.default.Vector.sub(m,f),h=1,1e-6<(oe=(F=m.copy().sub(f).sub(Z).add(q)).magSq())&&(h=v.default.Vector.dot(d,F)/oe,h=Math.max(0,Math.min(h,1))),d=v.default.Vector.lerp(v.default.Vector.lerp(m,Z,h),v.default.Vector.lerp(f,q,h),a),F=i.cameraMatrix.createSubMatrix3x3(),oe=l.cameraMatrix.createSubMatrix3x3(),m=F.row(2),Z=oe.row(2),f=F.row(1),q=oe.row(1),i=new v.default.Vector,l=new v.default.Vector,g=new v.default.Vector,D=new v.default.Vector,1-($=.5*((F=(oe=oe.mult3x3(F.copy().transpose3x3())).diagonal())[0]+F[1]+F[2]-1))<1e-7?(i.set(v.default.Vector.lerp(m,Z,a)).normalize(),g.set(i).mult(h*u).add(d),D.set(i).mult((h-1)*u).add(d),l.set(v.default.Vector.lerp(f,q,a)).normalize()):(Z=1/(1-$),q=Math.max(F[0],F[1],F[2]),U=oe.mat3[1]+oe.mat3[3],I=oe.mat3[2]+oe.mat3[6],R=oe.mat3[5]+oe.mat3[7],q=q===F[0]?(P=.5*U*(Z/=L=Math.sqrt((F[0]-$)*Z)),x=.5*I*Z,.5*(oe.mat3[7]-oe.mat3[5])/L):q===F[1]?(x=.5*R*(Z/=P=Math.sqrt((F[1]-$)*Z)),L=.5*U*Z,.5*(oe.mat3[2]-oe.mat3[6])/P):(L=.5*I*(Z/=x=Math.sqrt((F[2]-$)*Z)),P=.5*R*Z,.5*(oe.mat3[3]-oe.mat3[1])/x),U=a*Math.atan2(q,$),I=Math.cos(U),F=Math.sin(U),(q=new v.default.Matrix("mat3",[I+(R=1-I)*L*L,R*(Z=L*P)+F*x,R*(oe=x*L)-F*P,R*Z-F*x,I+R*P*P,R*(a=P*x)+F*L,R*oe+F*P,R*a-F*L,I+R*x*x])).multiplyVec3(m,i),g.set(i).mult(h*u).add(d),D.set(i).mult((h-1)*u).add(d),q.multiplyVec3(f,l)),this.camera(g.x,g.y,g.z,D.x,D.y,D.z,l.x,l.y,l.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var i=new v.default.Camera(this._renderer);return i.cameraFOV=this.cameraFOV,i.aspectRatio=this.aspectRatio,i.eyeX=this.eyeX,i.eyeY=this.eyeY,i.eyeZ=this.eyeZ,i.centerX=this.centerX,i.centerY=this.centerY,i.centerZ=this.centerZ,i.upX=this.upX,i.upY=this.upY,i.upZ=this.upZ,i.cameraNear=this.cameraNear,i.cameraFar=this.cameraFar,i.cameraType=this.cameraType,i.cameraMatrix=this.cameraMatrix.copy(),i.projMatrix=this.projMatrix.copy(),i.yScale=this.yScale,i}},{key:"_getLocalAxes",value:function(){var D,i=this.eyeX-this.centerX,l=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,m=(0!==(m=Math.sqrt(i*i+l*l+a*a))&&(i/=m,l/=m,a/=m),this.upX),u=(f=this.upY)*a-(g=this.upZ)*l,h=-m*a+g*i,d=m*l-f*i,f=(m=l*d-a*h,-i*d+a*u),g=i*h-l*u;return 0!==(0!==(D=Math.sqrt(u*u+h*h+d*d))&&(u/=D,h/=D,d/=D),D=Math.sqrt(m*m+f*f+g*g))&&(m/=D,f/=D,g/=D),{x:[u,h,d],y:[m,f,g],z:[i,l,a]}}},{key:"_orbit",value:function(i,D,g){var h=this.eyeX-this.centerX,d=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(h,d,m),f=(h=new v.default.Vector(h,d,m).normalize(),d=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),m=v.default.Vector.cross(d,h).normalize(),v.default.Vector.cross(m,d));(u=(u*=Math.pow(10,g))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),g=Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(h,d))))+D,D=i,(g<=0||g>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),d.mult(Math.cos(g)),f.mult(Math.cos(D)*Math.sin(g)),m.mult(Math.sin(D)*Math.sin(g)),h.set(d).add(f).add(m),this.eyeX=u*h.x+this.centerX,this.eyeY=u*h.y+this.centerY,this.eyeZ=u*h.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(g,D,L){var h=this.eyeX-this.centerX,d=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(h,d,m),f=(h=new v.default.Vector(h,d,m).normalize(),d=new v.default.Vector(this.upX,this.upY,this.upZ),m=v.default.Vector.cross(d,h).normalize(),v.default.Vector.cross(h,m)),P=Math.atan2(D,g),$=(f.mult(Math.sin(P)),m.mult(Math.cos(P)).add(f),P=Math.sqrt(g*g+D*D),f=v.default.Vector.cross(h,m),(u=(u*=Math.pow(10,L))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),g=Math.cos(P),D=Math.sin(P),(L=d.dot(h))*g+(P=d.dot(m))*D);L=-L*D+P*g,P=d.dot(f),d.x=$*h.x+L*m.x+P*f.x,d.y=$*h.y+L*m.y+P*f.y,d.z=$*h.z+L*m.z+P*f.z,m.mult(-D),h.mult(g).add(m).mult(u),this.camera(h.x+this.centerX,h.y+this.centerY,h.z+this.centerZ,this.centerX,this.centerY,this.centerZ,d.x,d.y,d.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&b(y.prototype,E),p}(),v.default.prototype.setCamera=function(p){this._renderer._curCamera=p,this._renderer.uPMatrix.set(p.projMatrix),this._renderer.uViewMatrix.set(p.cameraMatrix)},V.default=o=v.default.Camera},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(o,se,V){"use strict";function v(b,p){for(var y=0;y<p.length;y++){var E=p[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function b(){var _=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(_),this.initialLength=_}var p,y;return p=b,(y=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var _;this.length<this.data.length/2&&(_=1<<Math.ceil(Math.log2(this.length)),(_=new Float32Array(_)).set(this.data.subarray(0,this.length),0),this.data=_)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var _=arguments.length,i=new Array(_),l=0;l<_;l++)i[l]=arguments[l];this.ensureLength(this.length+i.length),this.data.set(i,this.length),this.length+=i.length}},{key:"slice",value:function(_,i){return this.data.slice(_,Math.min(i,this.length))}},{key:"subArray",value:function(_,i){return this.data.subarray(_,Math.min(i,this.length))}},{key:"ensureLength",value:function(_){for(;this.data.length<_;){var i=new Float32Array(2*this.data.length);i.set(this.data,0),this.data=i}}}])&&v(p.prototype,y),b}(),V.default=o=o.default.DataArray},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(x,se,V){"use strict";function v(U){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(U)}function b(U){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(I){return v(I)}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":v(I)})(U)}x("core-js/modules/es.symbol"),x("core-js/modules/es.symbol.description"),x("core-js/modules/es.symbol.iterator"),x("core-js/modules/es.array.fill"),x("core-js/modules/es.array.includes"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.get-own-property-descriptor"),x("core-js/modules/es.object.get-prototype-of"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.reflect.construct"),x("core-js/modules/es.reflect.get"),x("core-js/modules/es.regexp.to-string"),x("core-js/modules/es.string.includes"),x("core-js/modules/es.string.iterator"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.uint8-array"),x("core-js/modules/es.typed-array.uint8-clamped-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),x("core-js/modules/es.weak-map"),x("core-js/modules/web.dom-collections.iterator"),x("core-js/modules/es.array.fill"),x("core-js/modules/es.array.includes"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.get-prototype-of"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.string.includes"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.uint8-array"),x("core-js/modules/es.typed-array.uint8-clamped-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(P=x("../core/main"))&&P.__esModule?P:{default:P},y=function(U){if(U&&U.__esModule)return U;if(null===U||"object"!==b(U)&&"function"!=typeof U)return{default:U};var I=i();if(I&&I.has(U))return I.get(U);var F,R={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in U){var oe;Object.prototype.hasOwnProperty.call(U,F)&&((oe=Z?Object.getOwnPropertyDescriptor(U,F):null)&&(oe.get||oe.set)?Object.defineProperty(R,F,oe):R[F]=U[F])}return R.default=U,I&&I.set(U,R),R}(x("../core/constants")),E=x("./p5.Texture"),_=x("./p5.RendererGL");function i(){var U;return"function"!=typeof WeakMap?null:(i=function(){return U},U=new WeakMap)}function l(U,I){return function(F){if(Array.isArray(F))return F}(U)||function(F,R){if(Symbol.iterator in Object(F)||"[object Arguments]"===Object.prototype.toString.call(F)){var Z=[],oe=!0,q=!1,re=void 0;try{for(var W,G=F[Symbol.iterator]();!(oe=(W=G.next()).done)&&(Z.push(W.value),!R||Z.length!==R);oe=!0);}catch(K){q=!0,re=K}finally{try{oe||null==G.return||G.return()}finally{if(q)throw re}}return Z}}(U,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(U,I,F){return I in U?Object.defineProperty(U,I,{value:F,enumerable:!0,configurable:!0,writable:!0}):U[I]=F,U}function u(U,I){if(!(U instanceof I))throw new TypeError("Cannot call a class as a function")}function h(U,I){for(var F=0;F<I.length;F++){var R=I[F];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(U,R.key,R)}}function d(U,I,F){I&&h(U.prototype,I),F&&h(U,F)}function m(U,I,F){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(q,Z,oe){if(q=function(re,W){for(;!Object.prototype.hasOwnProperty.call(re,W)&&null!==(re=D(re)););return re}(q,Z))return(q=Object.getOwnPropertyDescriptor(q,Z)).get?q.get.call(oe):q.value})(U,I,F||U)}function f(U,I){return(f=Object.setPrototypeOf||function(F,R){return F.__proto__=R,F})(U,I)}function D(U){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(U)}var $=function(U){var I=R;if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(U&&U.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),U&&f(I,U);var F=function g(U){return function(){var I,F=D(U);if(I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(I=D(this).constructor,Reflect.construct(F,arguments,I)):F.apply(this,arguments),F=this,!I||"object"!==b(I)&&"function"!=typeof I){if(void 0!==F)return F;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return I}}(R);function R(Z){var oe;return u(this,R),(oe=F.call(this,Z.target._renderer)).fbo=Z,oe.yScale=-1,oe}return d(R,[{key:"_computeCameraDefaultSettings",value:function(){m(D(R.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),R}(p.default.Camera),L=(p.default.FramebufferCamera=$,function(){function U(I,F){u(this,U),this.framebuffer=I,this.property=F}return d(U,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),U}()),P=(p.default.FramebufferTexture=L,function(){function U(I){var F=this,R=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Z=(u(this,U),this.target=I,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=R.format||y.UNSIGNED_BYTE,this.channels=R.channels||(I._renderer._pInst._glAttributes.alpha?y.RGBA:y.RGB),this.useDepth=void 0===R.depth||R.depth,this.depthFormat=R.depthFormat||y.FLOAT,this.textureFiltering=R.textureFiltering||y.LINEAR,this.antialiasSamples=void 0===R.antialias?I._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof R.antialias?R.antialias:R.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&I.webglVersion!==y.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=R.density||I.pixelDensity(),I._renderer.GL);if(this.gl=Z,R.width&&R.height?(oe=I._renderer._adjustDimensions(R.width,R.height),this.width=oe.adjustedWidth,this.height=oe.adjustedHeight,this._autoSized=!1):(void 0===R.width!=(void 0===R.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=I.width,this.height=I.height,this._autoSized=!0),this._checkIfFormatsAvailable(),R.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===R.stencil||R.stencil),this.framebuffer=Z.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=Z.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var oe=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=oe,this.draw(function(){return F.target.clear()})}return d(U,[{key:"resize",value:function(I,F){this._autoSized=!1;var R=this.target._renderer._adjustDimensions(I,F);F=R.adjustedHeight,this.width=I=R.adjustedWidth,this.height=F,this._handleResize()}},{key:"pixelDensity",value:function(I){if(!I)return this.density;this._autoSized=!1,this.density=I,this._handleResize()}},{key:"autoSized",value:function(I){if(void 0===I)return this._autoSized;this._autoSized=I,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var I=this.gl;(this.useDepth&&this.target.webglVersion===y.WEBGL&&!I.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===y.WEBGL&&this.depthFormat===y.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=y.UNSIGNED_INT),[y.UNSIGNED_BYTE,y.FLOAT,y.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.useDepth&&![y.UNSIGNED_INT,y.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=y.FLOAT),I=(0,E.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==y.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.useDepth&&!I.float&&this.depthFormat===y.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=y.UNSIGNED_INT),I.halfFloat||this.format!==y.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.channels===y.RGB&&[y.FLOAT,y.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=y.RGBA)}},{key:"_recreateTextures",value:function(){var I=this.gl,F=(this._updateSize(),I.getParameter(I.TEXTURE_BINDING_2D)),R=I.getParameter(I.FRAMEBUFFER_BINDING);if(!(Z=I.createTexture()))throw new Error("Unable to create color texture");I.bindTexture(I.TEXTURE_2D,Z);var oe=this._glColorFormat();if(I.texImage2D(I.TEXTURE_2D,0,oe.internalFormat,this.width*this.density,this.height*this.density,0,oe.format,oe.type,null),this.colorTexture=Z,I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,Z,0),this.useDepth){var Z;if(!(Z=I.createTexture()))throw new Error("Unable to create depth texture");var q=this._glDepthFormat();I.bindTexture(I.TEXTURE_2D,Z),I.texImage2D(I.TEXTURE_2D,0,q.internalFormat,this.width*this.density,this.height*this.density,0,q.format,q.type,null),I.framebufferTexture2D(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.TEXTURE_2D,Z,0),this.depthTexture=Z}this.antialias&&(this.colorRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.colorRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),oe.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(q=this._glDepthFormat(),this.depthRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.depthRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),q.internalFormat,this.width*this.density,this.height*this.density)),I.bindFramebuffer(I.FRAMEBUFFER,this.aaFramebuffer),I.framebufferRenderbuffer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&I.framebufferRenderbuffer(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new L(this,"depthTexture"),this.depthP5Texture=new p.default.Texture(this.target._renderer,this.depth,{minFilter:Z=I.NEAREST,magFilter:Z}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new L(this,"colorTexture"),this.colorP5Texture=new p.default.Texture(this.target._renderer,this.color,{minFilter:oe=this.textureFiltering===y.LINEAR?I.LINEAR:I.NEAREST,magFilter:oe}),this.target._renderer.textures.set(this.color,this.colorP5Texture),I.bindTexture(I.TEXTURE_2D,F),I.bindFramebuffer(I.FRAMEBUFFER,R)}},{key:"_glColorFormat",value:function(){var I,F,R=this.gl,Z=this.format===y.FLOAT?R.FLOAT:this.format===y.HALF_FLOAT?this.target.webglVersion===y.WEBGL2?R.HALF_FLOAT:R.getExtension("OES_texture_half_float").HALF_FLOAT_OES:R.UNSIGNED_BYTE,oe=this.channels===y.RGBA?R.RGBA:R.RGB;return{internalFormat:this.target.webglVersion===y.WEBGL2?(a(F={},R.FLOAT,a({},R.RGBA,R.RGBA32F)),a(F,R.HALF_FLOAT,a({},R.RGBA,R.RGBA16F)),a(F,R.UNSIGNED_BYTE,(a(I={},R.RGBA,R.RGBA8),a(I,R.RGB,R.RGB8),I)),F[Z][oe]):this.format===y.HALF_FLOAT?R.RGBA:oe,format:oe,type:Z}}},{key:"_glDepthFormat",value:function(){var R=this.gl,I=this.useStencil?this.depthFormat===y.FLOAT?R.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===y.WEBGL2?R.UNSIGNED_INT_24_8:R.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===y.FLOAT?R.FLOAT:R.UNSIGNED_INT,F=this.useStencil?R.DEPTH_STENCIL:R.DEPTH_COMPONENT;return{internalFormat:R=this.useStencil?this.depthFormat===y.FLOAT?R.DEPTH32F_STENCIL8:this.target.webglVersion===y.WEBGL2?R.DEPTH24_STENCIL8:R.DEPTH_STENCIL:this.target.webglVersion===y.WEBGL2?this.depthFormat===y.FLOAT?R.DEPTH_COMPONENT32F:R.DEPTH_COMPONENT24:R.DEPTH_COMPONENT,format:F,type:I}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var I=this.depth,F=this.colorRenderbuffer,R=this.depthRenderbuffer,Z=(this._deleteTexture(Z=this.color),I&&this._deleteTexture(I),this.gl);F&&Z.deleteRenderbuffer(F),R&&Z.deleteRenderbuffer(R),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var I=new $(this);return I._computeCameraDefaultSettings(),I._setDefaultCamera(),this.target._renderer._curCamera=I}},{key:"_deleteTexture",value:function(I){this.gl.deleteTexture(I.rawTexture()),this.target._renderer.textures.delete(I)}},{key:"remove",value:function(){var I=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),I.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&I.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&I.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&I.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var I=this.gl,F=(I.bindFramebuffer(I.READ_FRAMEBUFFER,this.aaFramebuffer),I.bindFramebuffer(I.DRAW_FRAMEBUFFER,this.framebuffer),[[I.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&F.push([I.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var R=0,Z=F;R<Z.length;R++){var q=l(Z[R],2);I.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,q[0],q=q[1])}}}},{key:"end",value:function(){var I=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(I.bindFramebuffer(I.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(I){this.begin(),I(),this.end()}},{key:"loadPixels",value:function(){var I=this.gl,F=this.target._renderer.activeFramebuffer(),R=(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,_.readPixelsWebGL)(this.pixels,I,this.framebuffer,0,0,this.width*this.density,this.height*this.density,R.format,R.type),I.bindFramebuffer(I.FRAMEBUFFER,F?F._framebufferToBind():null)}},{key:"get",value:function(I,F,R,Z){p.default._validateParameters("p5.Framebuffer.get",arguments);var oe=this._glColorFormat();if(void 0===I&&void 0===F)F=I=0,R=this.width,Z=this.height;else if(void 0===R&&void 0===Z)return(I<0||F<0||I>=this.width||F>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),I=this.target.constrain(I,0,this.width-1),F=this.target.constrain(F,0,this.height-1)),(0,_.readPixelWebGL)(this.gl,this.framebuffer,I*this.density,F*this.density,oe.format,oe.type);I=this.target.constrain(I,0,this.width-1),F=this.target.constrain(F,0,this.height-1),R=this.target.constrain(R,1,this.width-I),Z=this.target.constrain(Z,1,this.height-F);for(var q=(0,_.readPixelsWebGL)(void 0,this.gl,this.framebuffer,I*this.density,F*this.density,R*this.density,Z*this.density,oe.format,oe.type),re=new Uint8ClampedArray(R*Z*this.density*this.density*4),W=(re.fill(255),oe.type===this.gl.RGB?3:4),G=0;G<Z*this.density;G++)for(var K=0;K<R*this.density;K++)for(var ue=0;ue<4;ue++){var Y=4*(G*R*this.density+K)+ue;ue<W&&(re[Y]=q[4==W?Y:(G*R*this.density+K)*W+ue])}return(I=new p.default.Image(R*this.density,Z*this.density)).imageData=I.canvas.getContext("2d").createImageData(I.width,I.height),I.imageData.data.set(re),I.pixels=I.imageData.data,I.updatePixels(),1!==this.density&&I.resize(R,Z),I}},{key:"updatePixels",value:function(){var I=this.gl,F=(this.colorP5Texture.bindTexture(),this._glColorFormat()),R=this.width*this.height*this.density*this.density*(R=F.format===I.RGBA?4:3),Z=F.type===I.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof Z)||this.pixels.length!==R)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");I.texImage2D(I.TEXTURE_2D,0,F.internalFormat,this.width*this.density,this.height*this.density,0,F.format,F.type,this.pixels),this.colorP5Texture.unbindTexture(),Z=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),this.end()):(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),I.bindFramebuffer(I.FRAMEBUFFER,Z?Z._framebufferToBind():null))}}]),U}());x=p.default.Framebuffer=P,V.default=x},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(o,se,V){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}function b(u){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(a=o("../core/main"))&&a.__esModule?a:{default:a},y=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==b(u)&&"function"!=typeof u)return{default:u};var h=E();if(h&&h.has(u))return h.get(u);var d,m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var g;Object.prototype.hasOwnProperty.call(u,d)&&((g=f?Object.getOwnPropertyDescriptor(u,d):null)&&(g.get||g.set)?Object.defineProperty(m,d,g):m[d]=u[d])}return m.default=u,h&&h.set(u,m),m}(o("../core/constants"));function E(){var u;return"function"!=typeof WeakMap?null:(E=function(){return u},u=new WeakMap)}function _(u){return function(h){if(Array.isArray(h)){for(var d=0,m=new Array(h.length);d<h.length;d++)m[d]=h[d];return m}}(u)||function(h){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h))return Array.from(h)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(u,h){return function(d){if(Array.isArray(d))return d}(u)||function(d,m){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d)){var f=[],g=!0,D=!1,$=void 0;try{for(var L,P=d[Symbol.iterator]();!(g=(L=P.next()).done)&&(f.push(L.value),!m||f.length!==m);g=!0);}catch(x){D=!0,$=x}finally{try{g||null==P.return||P.return()}finally{if(D)throw $}}return f}}(u,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(u,h){for(var d=0;d<h.length;d++){var m=h[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}p.default.Geometry=function(){function u(f,g,D){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new p.default.DataArray,this.lineTangentsIn=new p.default.DataArray,this.lineTangentsOut=new p.default.DataArray,this.lineSides=new p.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new p.default.DataArray,this.detailX=void 0!==f?f:1,this.detailY=void 0!==g?g:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,D instanceof Function&&D.call(this)}var h,d;return h=u,(d=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var f=new p.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),g=new p.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),D=0;D<this.vertices.length;D++){var $=this.vertices[D];f.x=Math.min(f.x,$.x),f.y=Math.min(f.y,$.y),f.z=Math.min(f.z,$.z),g.x=Math.max(g.x,$.x),g.y=Math.max(g.y,$.y),g.z=Math.max(g.z,$.z)}var L=new p.default.Vector(g.x-f.x,g.y-f.y,g.z-f.z),P=new p.default.Vector((f.x+g.x)/2,(f.y+g.y)/2,(f.z+g.z)/2);this.boundingBoxCache={min:f,max:g,size:L,offset:P}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var f=0;f<this.vertexColors.length;f+=4)if(this.vertexColors[f+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var f=0;f<this.lineVertexColors.length;f+=4)if(this.lineVertexColors[f+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var f=this,g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.obj",D="";if(this.vertices.forEach(function(P){D+="v ".concat(P.x," ").concat(P.y," ").concat(P.z,"\n")}),this.uvs&&0<this.uvs.length)for(var $=0;$<this.uvs.length;$+=2)D+="vt ".concat(this.uvs[$]," ").concat(this.uvs[$+1],"\n");this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(P){D+="vn ".concat(P.x," ").concat(P.y," ").concat(P.z,"\n")}),this.faces.forEach(function(P){var x="f";P.forEach(function(U){x=x+" "+(U+1),(0<f.vertexNormals.length||0<f.uvs.length)&&(x+="/",0<f.uvs.length&&(x+=U+1),x+="/",0<f.vertexNormals.length&&(x+=U+1))}),D+=x+"\n"});var L=new Blob([D],{type:"text/plain"});p.default.prototype.downloadFile(L,g,"obj")}},{key:"saveStl",value:function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.stl",g=void 0!==(g=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).binary)&&g,D=f.substring(0,f.lastIndexOf(".")),$=[],L=!0,P=!1,x=void 0;try{for(var U,I=this.faces[Symbol.iterator]();!(L=(U=I.next()).done);L=!0){var F=U.value,R=p.default.Vector.sub(this.vertices[F[1]],this.vertices[F[0]]),Z=p.default.Vector.sub(this.vertices[F[2]],this.vertices[F[0]]);$.push(new p.default.Vector(R.y*Z.z-R.z*Z.y,R.z*Z.x-R.x*Z.z,R.x*Z.y-R.y*Z.x).normalize())}}catch(Pt){P=!0,x=Pt}finally{try{L||null==I.return||I.return()}finally{if(P)throw x}}if(g){var W,G=80;P=2*this.faces.length+3*this.faces.length*4*4+80+4,x=new ArrayBuffer(P),(W=new DataView(x)).setUint32(G,this.faces.length,!0),G+=4;for(var K=0,ue=Object.entries(this.faces);K<ue.length;K++){var j=(Me=i(ue[K],2))[0],Me=Me[1],Y=(W.setFloat32(G,(j=$[j]).x,!0),W.setFloat32(G+=4,j.y,!0),W.setFloat32(G+=4,j.z,!0),G+=4,!0),te=void(j=!1);try{for(var me,xe=Me[Symbol.iterator]();!(Y=(me=xe.next()).done);Y=!0){var qe=this.vertices[me.value];W.setFloat32(G,qe.x,!0),W.setFloat32(G+=4,qe.y,!0),W.setFloat32(G+=4,qe.z,!0),G+=4}}catch($t){j=!0,te=$t}finally{try{Y||null==xe.return||xe.return()}finally{if(j)throw te}}W.setUint16(G,0,!0),G+=2}}else{W="solid "+D+"\n";for(var ct=0,ze=Object.entries(this.faces);ct<ze.length;ct++){var Fe=(st=i(ze[ct],2))[0],st=st[1],lt=(W=W+" facet norm "+(Fe=$[Fe]).x+" "+Fe.y+" "+Fe.z+"\n  outer loop\n",!0),rt=void(Fe=!1);try{for(var Ye,ot=st[Symbol.iterator]();!(lt=(Ye=ot.next()).done);lt=!0){var ft=this.vertices[Ye.value];W+="   vertex "+ft.x+" "+ft.y+" "+ft.z+"\n"}}catch(Pt){Fe=!0,rt=Pt}finally{try{lt||null==ot.return||ot.return()}finally{if(Fe)throw rt}}W+="  endloop\n endfacet\n"}W+="endsolid "+D+"\n"}g=new Blob([W],{type:"text/plain"}),p.default.prototype.downloadFile(g,f,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(f,g){return g%2==0?1-f:f})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(f,g){return g%2==0?f:1-f})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var f,g,D,$=this.detailX+1,L=0;L<this.detailY;L++)for(var P=0;P<this.detailX;P++)g=(L+1)*$+P+1,this.faces.push([L*$+P,f=L*$+P+1,D=(L+1)*$+P]),this.faces.push([D,f,g]);return this}},{key:"_getFaceNormal",value:function(g){var D=this.vertices[(g=this.faces[g])[0]],L=this.vertices[g[1]],$=(g=this.vertices[g[2]],L=p.default.Vector.sub(L,D),g=p.default.Vector.sub(g,D),D=p.default.Vector.cross(L,g),p.default.Vector.mag(D));return 0==(L=$/(p.default.Vector.mag(L)*p.default.Vector.mag(g)))||isNaN(L)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),D):(1<L&&(L=1),D.mult(Math.asin(L)/$))}},{key:"computeNormals",value:function(){var f,g=this,$=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,L=this.vertexNormals,P=this.vertices,x=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:y.FLAT)===y.SMOOTH){for(var U={},I=[],F=Math.pow(10,void 0===$?3:$),R=function(W){return Math.round(W*F)/F},Z=function(W){return"".concat(R(W.x),",").concat(R(W.y),",").concat(R(W.z))},oe=0;oe<P.length;oe++){var q=P[oe],re=Z(q);void 0===U[re]&&(U[re]=I.length,I.push(q))}x.forEach(function(W){for(var G=0;G<3;++G){var K=Z(K=P[K=W[G]]);W[G]=U[K]}}),this.edges.forEach(function(W){for(var G=0;G<2;++G){var K=Z(K=P[K=W[G]]);W[G]=U[K]}}),this.vertices=P=I}for(f=L.length=0;f<P.length;++f)L.push(new p.default.Vector);for(x.forEach(function(W,G){for(var K=g._getFaceNormal(G),ue=0;ue<3;++ue)L[W[ue]].add(K)}),f=0;f<P.length;++f)L[f].normalize();return this}},{key:"averageNormals",value:function(){for(var f=0;f<=this.detailY;f++){var g=this.detailX+1,D=p.default.Vector.add(this.vertexNormals[f*g],this.vertexNormals[f*g+this.detailX]);D=p.default.Vector.div(D,2),this.vertexNormals[f*g]=D,this.vertexNormals[f*g+this.detailX]=D}return this}},{key:"averagePoleNormals",value:function(){for(var f=new p.default.Vector(0,0,0),g=0;g<this.detailX;g++)f.add(this.vertexNormals[g]);f=p.default.Vector.div(f,this.detailX);for(var D=0;D<this.detailX;D++)this.vertexNormals[D]=f;f=new p.default.Vector(0,0,0);for(var $=this.vertices.length-1;$>this.vertices.length-1-this.detailX;$--)f.add(this.vertexNormals[$]);f=p.default.Vector.div(f,this.detailX);for(var L=this.vertices.length-1;L>this.vertices.length-1-this.detailX;L--)this.vertexNormals[L]=f;return this}},{key:"_makeTriangleEdges",value:function(){for(var f=this.edges.length=0;f<this.faces.length;f++)this.edges.push([this.faces[f][0],this.faces[f][1]]),this.edges.push([this.faces[f][1],this.faces[f][2]]),this.edges.push([this.faces[f][2],this.faces[f][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var f,g=new Map,D=new Set,$=0;$<this.edges.length;$++){var L,P=this.edges[$-1],x=this.edges[$],U=this.vertices[x[0]],I=this.vertices[x[1]],F=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*x[0],4*(x[0]+1)):[0,0,0,0],R=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*x[1],4*(x[1]+1)):[0,0,0,0],Z=I.copy().sub(U).normalize(),oe=0<Z.magSq();oe&&this._addSegment(U,I,F,R,Z),0<$&&P[1]===x[0]?D.has(x[0])||(D.add(x[0]),g.delete(x[0]),f&&oe&&Z.dot(f)<1-1e-8&&this._addJoin(U,f,Z,F)):(oe&&!D.has(x[0])&&((L=g.get(x[0]))?(this._addJoin(U,L.dir,Z,F),g.delete(x[0]),D.add(x[0])):g.set(x[0],{point:U,dir:Z.copy().mult(-1),color:F})),f&&!D.has(P[1])&&((L=g.get(P[1]))?(this._addJoin(this.vertices[P[1]],f,L.dir.copy().mult(-1),F),g.delete(P[1]),D.add(P[1])):g.set(P[1],{point:this.vertices[P[1]],dir:f,color:F}),f=void 0)),$!==this.edges.length-1||D.has(x[1])||((U=g.get(x[1]))?(this._addJoin(I,Z,U.dir.copy().mult(-1),R),g.delete(x[1]),D.add(x[1])):g.set(x[1],{point:I,dir:Z,color:R})),oe&&(f=Z)}var q=!0,re=!1,W=void 0;try{for(var G,K=g.values()[Symbol.iterator]();!(q=(G=K.next()).done);q=!0){var ue=G.value;this._addCap(ue.point,ue.dir,ue.color)}}catch(te){re=!0,W=te}finally{try{q||null==K.return||K.return()}finally{if(re)throw W}}return this}},{key:"_addSegment",value:function(P,x,D,$,L){P=P.array(),x=x.array();var U=L.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var I=0,F=[this.lineTangentsIn,this.lineTangentsOut];I<F.length;I++)for(var R=F[I],Z=0;Z<6;Z++)R.push.apply(R,_(U));return(L=this.lineVertices).push.apply(L,_(P).concat(_(x),_(P),_(x),_(x),_(P))),(L=this.lineVertexColors).push.apply(L,_(D).concat(_($),_(D),_($),_($),_(D))),this}},{key:"_addCap",value:function(f,g,D){for(var $,L=f.array(),P=g.array(),x=[0,0,0],U=0;U<6;U++)($=this.lineVertices).push.apply($,_(L)),($=this.lineTangentsIn).push.apply($,_(P)),($=this.lineTangentsOut).push.apply($,x),($=this.lineVertexColors).push.apply($,_(D));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(f,g,D,$){for(var L,P=f.array(),x=g.array(),U=D.array(),I=0;I<12;I++)(L=this.lineVertices).push.apply(L,_(P)),(L=this.lineTangentsIn).push.apply(L,_(x)),(L=this.lineTangentsOut).push.apply(L,_(U)),(L=this.lineVertexColors).push.apply(L,_($));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var f=this.vertices[0].copy(),g=this.vertices[0].copy(),D=0;D<this.vertices.length;D++)f.x=Math.max(f.x,this.vertices[D].x),g.x=Math.min(g.x,this.vertices[D].x),f.y=Math.max(f.y,this.vertices[D].y),g.y=Math.min(g.y,this.vertices[D].y),f.z=Math.max(f.z,this.vertices[D].z),g.z=Math.min(g.z,this.vertices[D].z);for(var $=p.default.Vector.lerp(f,g,.5),L=p.default.Vector.sub(f,g),P=200/Math.max(Math.max(L.x,L.y),L.z),x=0;x<this.vertices.length;x++)this.vertices[x].sub($),this.vertices[x].mult(P)}return this}}])&&l(h.prototype,d),u}();var a=p.default.Geometry;V.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(E,se,V){"use strict";E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(E=E("../core/main"))&&E.__esModule?E:{default:E};function b(_,i){for(var l=0;l<i.length;l++){var a=i[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(_,a.key,a)}}var p=Array,y=function(_){return Array.isArray(_)};typeof Float32Array<"u"&&(p=Float32Array,y=function(_){return Array.isArray(_)||_ instanceof Float32Array}),v.default.Matrix=function(){function _(){var u=this,h=_;if(u instanceof h)return arguments.length&&((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])instanceof v.default&&(this.p5=(h=arguments.length-1)<0||arguments.length<=h?void 0:arguments[h]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new p([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new p([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var i,l,a;return i=_,a=[{key:"identity",value:function(u){return new v.default.Matrix(u)}}],(l=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(u){var h=arguments;if(u instanceof v.default.Matrix?h=u.mat4:y(u)&&(h=u),16!==h.length)v.default._friendlyError("Expected 16 values but received ".concat(h.length,"."),"p5.Matrix.set");else for(var d=0;d<16;d++)this.mat4[d]=h[d];return this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var u;return void 0!==this.mat3?((u=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],u.mat3[1]=this.mat3[1],u.mat3[2]=this.mat3[2],u.mat3[3]=this.mat3[3],u.mat3[4]=this.mat3[4],u.mat3[5]=this.mat3[5],u.mat3[6]=this.mat3[6],u.mat3[7]=this.mat3[7],u.mat3[8]=this.mat3[8]):((u=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15]),u}},{key:"transpose",value:function(u){var h,d,m,f,g,D;return u instanceof v.default.Matrix?(h=u.mat4[1],d=u.mat4[2],m=u.mat4[3],f=u.mat4[6],g=u.mat4[7],D=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=h,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=d,this.mat4[9]=f,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=m,this.mat4[13]=g,this.mat4[14]=D,this.mat4[15]=u.mat4[15]):y(u)&&(h=u[1],d=u[2],m=u[3],f=u[6],g=u[7],D=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=h,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=d,this.mat4[9]=f,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=m,this.mat4[13]=g,this.mat4[14]=D,this.mat4[15]=u[15]),this}},{key:"invert",value:function(q){q instanceof v.default.Matrix?(h=q.mat4[0],d=q.mat4[1],m=q.mat4[2],f=q.mat4[3],g=q.mat4[4],D=q.mat4[5],$=q.mat4[6],L=q.mat4[7],P=q.mat4[8],x=q.mat4[9],U=q.mat4[10],I=q.mat4[11],F=q.mat4[12],R=q.mat4[13],Z=q.mat4[14],oe=q.mat4[15]):y(q)&&(h=q[0],d=q[1],m=q[2],f=q[3],g=q[4],D=q[5],$=q[6],L=q[7],P=q[8],x=q[9],U=q[10],I=q[11],F=q[12],R=q[13],Z=q[14],oe=q[15]);var h,d,m,f,g,D,$,L,P,x,U,I,F,R,Z,oe,re=h*$-m*g,W=h*L-f*g,G=d*$-m*D,K=d*L-f*D,ue=m*L-f*$,Me=P*R-x*F,Y=P*Z-U*F,j=P*oe-I*F,te=x*Z-U*R,me=x*oe-I*R,xe=U*oe-I*Z,Be=(q=h*D-d*g)*xe-re*me+W*te+G*j-K*Y+ue*Me;return Be?(this.mat4[0]=(D*xe-$*me+L*te)*(Be=1/Be),this.mat4[1]=(m*me-d*xe-f*te)*Be,this.mat4[2]=(R*ue-Z*K+oe*G)*Be,this.mat4[3]=(U*K-x*ue-I*G)*Be,this.mat4[4]=($*j-g*xe-L*Y)*Be,this.mat4[5]=(h*xe-m*j+f*Y)*Be,this.mat4[6]=(Z*W-F*ue-oe*re)*Be,this.mat4[7]=(P*ue-U*W+I*re)*Be,this.mat4[8]=(g*me-D*j+L*Me)*Be,this.mat4[9]=(d*j-h*me-f*Me)*Be,this.mat4[10]=(F*K-R*W+oe*q)*Be,this.mat4[11]=(x*W-P*K-I*q)*Be,this.mat4[12]=(D*Y-g*te-$*Me)*Be,this.mat4[13]=(h*te-d*Y+m*Me)*Be,this.mat4[14]=(R*re-F*G-Z*q)*Be,this.mat4[15]=(P*G-x*re+U*q)*Be,this):null}},{key:"invert3x3",value:function(){var u=this.mat3[0],h=this.mat3[1],d=this.mat3[2],m=this.mat3[3],f=this.mat3[4],g=this.mat3[5],D=this.mat3[6],$=this.mat3[7],L=this.mat3[8],P=L*f-g*$,x=-L*m+g*D,U=$*m-f*D,I=u*P+h*x+d*U;return I?(this.mat3[0]=P*(I=1/I),this.mat3[1]=(-L*h+d*$)*I,this.mat3[2]=(g*h-d*f)*I,this.mat3[3]=x*I,this.mat3[4]=(L*u-d*D)*I,this.mat3[5]=(-g*u+d*m)*I,this.mat3[6]=U*I,this.mat3[7]=(-$*u+h*D)*I,this.mat3[8]=(f*u-h*m)*I,this):null}},{key:"transpose3x3",value:function(u){var h=(u=void 0===u?this.mat3:u)[1],d=u[2],m=u[5];return this.mat3[0]=u[0],this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=h,this.mat3[4]=u[4],this.mat3[5]=u[7],this.mat3[6]=d,this.mat3[7]=m,this.mat3[8]=u[8],this}},{key:"inverseTranspose",value:function(u){if(u=u.mat4,void 0===this.mat3?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=u[0],this.mat3[1]=u[1],this.mat3[2]=u[2],this.mat3[3]=u[4],this.mat3[4]=u[5],this.mat3[5]=u[6],this.mat3[6]=u[8],this.mat3[7]=u[9],this.mat3[8]=u[10]),u=this.invert3x3())u.transpose3x3(this.mat3);else for(var h=0;h<9;h++)this.mat3[h]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(d){var h;if(d===this||d===this.mat4)h=this.copy().mat4;else if(d instanceof v.default.Matrix)h=d.mat4;else if(y(d))h=d;else{if(16!==arguments.length)return;h=arguments}var m=this.mat4[1],f=this.mat4[2],g=this.mat4[3];return this.mat4[0]=(d=this.mat4[0])*h[0]+m*h[4]+f*h[8]+g*h[12],this.mat4[1]=d*h[1]+m*h[5]+f*h[9]+g*h[13],this.mat4[2]=d*h[2]+m*h[6]+f*h[10]+g*h[14],this.mat4[3]=d*h[3]+m*h[7]+f*h[11]+g*h[15],this.mat4[4]=(d=this.mat4[4])*h[0]+(m=this.mat4[5])*h[4]+(f=this.mat4[6])*h[8]+(g=this.mat4[7])*h[12],this.mat4[5]=d*h[1]+m*h[5]+f*h[9]+g*h[13],this.mat4[6]=d*h[2]+m*h[6]+f*h[10]+g*h[14],this.mat4[7]=d*h[3]+m*h[7]+f*h[11]+g*h[15],this.mat4[8]=(d=this.mat4[8])*h[0]+(m=this.mat4[9])*h[4]+(f=this.mat4[10])*h[8]+(g=this.mat4[11])*h[12],this.mat4[9]=d*h[1]+m*h[5]+f*h[9]+g*h[13],this.mat4[10]=d*h[2]+m*h[6]+f*h[10]+g*h[14],this.mat4[11]=d*h[3]+m*h[7]+f*h[11]+g*h[15],this.mat4[12]=(d=this.mat4[12])*h[0]+(m=this.mat4[13])*h[4]+(f=this.mat4[14])*h[8]+(g=this.mat4[15])*h[12],this.mat4[13]=d*h[1]+m*h[5]+f*h[9]+g*h[13],this.mat4[14]=d*h[2]+m*h[6]+f*h[10]+g*h[14],this.mat4[15]=d*h[3]+m*h[7]+f*h[11]+g*h[15],this}},{key:"apply",value:function(d){var h;if(d===this||d===this.mat4)h=this.copy().mat4;else if(d instanceof v.default.Matrix)h=d.mat4;else if(y(d))h=d;else{if(16!==arguments.length)return;h=arguments}var f,g,D,m=((d=this.mat4)[0]=h[0]*(m=d[0])+h[1]*(f=d[4])+h[2]*(g=d[8])+h[3]*(D=d[12]),d[4]=h[4]*m+h[5]*f+h[6]*g+h[7]*D,d[8]=h[8]*m+h[9]*f+h[10]*g+h[11]*D,d[12]=h[12]*m+h[13]*f+h[14]*g+h[15]*D,d[1]);return d[1]=h[0]*m+h[1]*(f=d[5])+h[2]*(g=d[9])+h[3]*(D=d[13]),d[5]=h[4]*m+h[5]*f+h[6]*g+h[7]*D,d[9]=h[8]*m+h[9]*f+h[10]*g+h[11]*D,d[13]=h[12]*m+h[13]*f+h[14]*g+h[15]*D,d[2]=h[0]*(m=d[2])+h[1]*(f=d[6])+h[2]*(g=d[10])+h[3]*(D=d[14]),d[6]=h[4]*m+h[5]*f+h[6]*g+h[7]*D,d[10]=h[8]*m+h[9]*f+h[10]*g+h[11]*D,d[14]=h[12]*m+h[13]*f+h[14]*g+h[15]*D,d[3]=h[0]*(m=d[3])+h[1]*(f=d[7])+h[2]*(g=d[11])+h[3]*(D=d[15]),d[7]=h[4]*m+h[5]*f+h[6]*g+h[7]*D,d[11]=h[8]*m+h[9]*f+h[10]*g+h[11]*D,d[15]=h[12]*m+h[13]*f+h[14]*g+h[15]*D,this}},{key:"scale",value:function(u,h,d){return u instanceof v.default.Vector?(h=u.y,d=u.z,u=u.x):u instanceof Array&&(h=u[1],d=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=h,this.mat4[5]*=h,this.mat4[6]*=h,this.mat4[7]*=h,this.mat4[8]*=d,this.mat4[9]*=d,this.mat4[10]*=d,this.mat4[11]*=d,this}},{key:"rotate",value:function(q,me,te,m){me instanceof v.default.Vector?(te=me.y,m=me.z,me=me.x):me instanceof Array&&(te=me[1],m=me[2],me=me[0]);var f=(me*=1/(f=Math.sqrt(me*me+te*te+m*m)),te*=1/f,m*=1/f,this.mat4[0]),g=this.mat4[1],D=this.mat4[2],$=this.mat4[3],L=this.mat4[4],P=this.mat4[5],x=this.mat4[6],U=this.mat4[7],I=this.mat4[8],F=this.mat4[9],R=this.mat4[10],Z=this.mat4[11],oe=Math.sin(q),re=1-(q=Math.cos(q)),W=me*me*re+q,G=te*me*re+m*oe,K=m*me*re-te*oe,ue=me*te*re-m*oe,Me=te*te*re+q,Y=m*te*re+me*oe,j=me*m*re+te*oe;return te=te*m*re-me*oe,me=m*m*re+q,this.mat4[0]=f*W+L*G+I*K,this.mat4[1]=g*W+P*G+F*K,this.mat4[2]=D*W+x*G+R*K,this.mat4[3]=$*W+U*G+Z*K,this.mat4[4]=f*ue+L*Me+I*Y,this.mat4[5]=g*ue+P*Me+F*Y,this.mat4[6]=D*ue+x*Me+R*Y,this.mat4[7]=$*ue+U*Me+Z*Y,this.mat4[8]=f*j+L*te+I*me,this.mat4[9]=g*j+P*te+F*me,this.mat4[10]=D*j+x*te+R*me,this.mat4[11]=$*j+U*te+Z*me,this}},{key:"translate",value:function(m){var h=m[0],d=m[1];this.mat4[12]+=this.mat4[0]*h+this.mat4[4]*d+this.mat4[8]*(m=m[2]||0),this.mat4[13]+=this.mat4[1]*h+this.mat4[5]*d+this.mat4[9]*m,this.mat4[14]+=this.mat4[2]*h+this.mat4[6]*d+this.mat4[10]*m,this.mat4[15]+=this.mat4[3]*h+this.mat4[7]*d+this.mat4[11]*m}},{key:"rotateX",value:function(u){this.rotate(u,1,0,0)}},{key:"rotateY",value:function(u){this.rotate(u,0,1,0)}},{key:"rotateZ",value:function(u){this.rotate(u,0,0,1)}},{key:"perspective",value:function(f,h,d,m){f=1/Math.tan(f/2);var g=1/(d-m);return this.mat4[0]=f/h,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=f,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(m+d)*g,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*m*d*g,this.mat4[15]=0,this}},{key:"ortho",value:function(u,h,d,m,f,g){var D=1/(u-h),$=1/(d-m),L=1/(f-g);return this.mat4[0]=-2*D,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*$,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*L,this.mat4[11]=0,this.mat4[12]=(u+h)*D,this.mat4[13]=(m+d)*$,this.mat4[14]=(g+f)*L,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(u,h,d,m){var f=new Array(4),g=this.mat4;return f[0]=g[0]*u+g[4]*h+g[8]*d+g[12]*m,f[1]=g[1]*u+g[5]*h+g[9]*d+g[13]*m,f[2]=g[2]*u+g[6]*h+g[10]*d+g[14]*m,f[3]=g[3]*u+g[7]*h+g[11]*d+g[15]*m,f}},{key:"multiplyPoint",value:function(d){var m=this.multiplyVec4(m=d.x,d.y,d=d.z,1);return new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyAndNormalizePoint",value:function(d){var m;return(m=this.multiplyVec4(m=d.x,d.y,d=d.z,1))[0]/=m[3],m[1]/=m[3],m[2]/=m[3],new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyDirection",value:function(d){var m=this.multiplyVec4(m=d.x,d.y,d=d.z,0);return new v.default.Vector(m[0],m[1],m[2])}},{key:"mult3x3",value:function(d){var h;if(d===this||d===this.mat3)h=this.copy().mat3;else if(d instanceof v.default.Matrix)h=d.mat3;else if(y(d))h=d;else{if(9!==arguments.length)return;h=arguments}var m=this.mat3[1],f=this.mat3[2];return this.mat3[0]=(d=this.mat3[0])*h[0]+m*h[3]+f*h[6],this.mat3[1]=d*h[1]+m*h[4]+f*h[7],this.mat3[2]=d*h[2]+m*h[5]+f*h[8],this.mat3[3]=(d=this.mat3[3])*h[0]+(m=this.mat3[4])*h[3]+(f=this.mat3[5])*h[6],this.mat3[4]=d*h[1]+m*h[4]+f*h[7],this.mat3[5]=d*h[2]+m*h[5]+f*h[8],this.mat3[6]=(d=this.mat3[6])*h[0]+(m=this.mat3[7])*h[3]+(f=this.mat3[8])*h[6],this.mat3[7]=d*h[1]+m*h[4]+f*h[7],this.mat3[8]=d*h[2]+m*h[5]+f*h[8],this}},{key:"column",value:function(u){return new v.default.Vector(this.mat3[3*u],this.mat3[3*u+1],this.mat3[3*u+2])}},{key:"row",value:function(u){return new v.default.Vector(this.mat3[u],this.mat3[u+3],this.mat3[u+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(u,h){return(h=void 0===h?u.copy():h).x=this.row(0).dot(u),h.y=this.row(1).dot(u),h.z=this.row(2).dot(u),h}},{key:"createSubMatrix3x3",value:function(){var u=new v.default.Matrix("mat3");return u.mat3[0]=this.mat4[0],u.mat3[1]=this.mat4[1],u.mat3[2]=this.mat4[2],u.mat3[3]=this.mat4[4],u.mat3[4]=this.mat4[5],u.mat3[5]=this.mat4[6],u.mat3[6]=this.mat4[8],u.mat3[7]=this.mat4[9],u.mat3[8]=this.mat4[10],u}}])&&b(i.prototype,l),a&&b(i,a),_}(),V.default=E=v.default.Matrix},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(p,y){for(var E=0;E<y.length;E++){var _=y[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}v.default.Quat=function(){function p(i,l,a,u){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.w=i,this.vec=new v.default.Vector(l,a,u)}var y,E,_;return y=p,_=[{key:"fromAxisAngle",value:function(i,d,a,u){var h=Math.cos(i/2);return d=new v.default.Vector(d,a,u).normalize().mult(Math.sin(i/2)),new v.default.Quat(h,d.x,d.y,d.z)}}],(E=[{key:"conjugate",value:function(){return new v.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(i){return new v.default.Quat(this.w*i.w-this.vec.x*i.vec.x-this.vec.y*i.vec.y-this.vec.z-i.vec.z,this.w*i.vec.x+this.vec.x*i.w+this.vec.y*i.vec.z-this.vec.z*i.vec.y,this.w*i.vec.y-this.vec.x*i.vec.z+this.vec.y*i.w+this.vec.z*i.vec.x,this.w*i.vec.z+this.vec.x*i.vec.y-this.vec.y*i.vec.x+this.vec.z*i.w)}},{key:"rotateVector",value:function(i){return new v.default.Vector.mult(i,this.w*this.w-this.vec.dot(this.vec)).add(v.default.Vector.mult(this.vec,2*i.dot(this.vec))).add(v.default.Vector.mult(this.vec,2*this.w).cross(i)).clampToZero()}},{key:"rotateBy",value:function(i){return i.multiply(this).multiply(i.conjugate()).vec.clampToZero()}}])&&b(y.prototype,E),_&&b(y,_),p}(),V.default=o=v.default.Quat},{"../core/main":283}],338:[function(o,se,V){"use strict";function v(b,p){for(var y=0;y<p.length;y++){var E=p[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function b(_,i,l,a,u,h){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.size=_,this.src=i,this.dst=l,this.attr=a,this._renderer=u,this.map=h}var p,y;return p=b,(y=[{key:"_prepareBuffer",value:function(_,i){var l,a,u,m,h=this._renderer.GL,d=_.model||_;(m=(m=i.attributes)[this.attr])&&(l=_[this.dst],0<(a=d[this.src]).length?((u=!l)&&(_[this.dst]=l=h.createBuffer()),h.bindBuffer(h.ARRAY_BUFFER,l),!u&&!1===d.dirtyFlags[this.src]||(u=(_=this.map)?_(a):a,this._renderer._bindBuffer(l,h.ARRAY_BUFFER,u),d.dirtyFlags[this.src]=!1),i.enableAttrib(m,this.size)):-1!==(_=m.location)&&this._renderer.registerEnabled.has(_)&&(h.disableVertexAttribArray(_),this._renderer.registerEnabled.delete(_)))}}])&&v(p.prototype,y),b}(),V.default=o=o.default.RenderBuffer},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var u=E();if(u&&u.has(a))return u.get(a);var h,d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in a){var f;Object.prototype.hasOwnProperty.call(a,h)&&((f=m?Object.getOwnPropertyDescriptor(a,h):null)&&(f.get||f.set)?Object.defineProperty(d,h,f):d[h]=a[h])}return d.default=a,u&&u.set(a,d),d}(o("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}function _(a){return function(u){if(Array.isArray(u)){for(var h=0,d=new Array(u.length);h<u.length;h++)d[h]=u[h];return d}}(a)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),p.default.RendererGL.prototype.beginShape=function(a){return this.immediateMode.shapeMode=void 0!==a?a:y.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var i={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(p.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==y.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},p.default.RendererGL.prototype.vertex=function(a,u){if(this.immediateMode.shapeMode===y.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var h in i){var d=i[h];(h=this.immediateMode.geometry[h]).push.apply(h,_(h.slice(h.length-3*d,h.length-2*d)).concat(_(h.slice(h.length-d,h.length))))}var m,f,g=m=f=0,D=(3===arguments.length?g=arguments[2]:4===arguments.length?(m=arguments[2],f=arguments[3]):5===arguments.length&&(g=arguments[2],m=arguments[3],f=arguments[4]),new p.default.Vector(a,u,g));return this.immediateMode.geometry.vertices.push(D),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((D=this.curFillColor||[.5,.5,.5,1])[0],D[1],D[2],D[3]),this.immediateMode.geometry.vertexStrokeColors.push((D=this.curStrokeColor||[.5,.5,.5,1])[0],D[1],D[2],D[3]),this.textureMode!==y.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(m/=this._tex.width,f/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(m,f),this.immediateMode._bezierVertex[0]=a,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=g,this.immediateMode._quadraticVertex[0]=a,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=g,this},p.default.RendererGL.prototype.normal=function(a,u,h){return this._currentNormal=a instanceof p.default.Vector?a:new p.default.Vector(a,u,h),this},p.default.RendererGL.prototype.endShape=function(a,u,h,d,m,f){var g,D=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===y.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),g=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==y.LINE_STRIP&&this.immediateMode.shapeMode!==y.LINES||(this.immediateMode.shapeMode=y.TRIANGLE_FAN,g=!0),this.immediateMode.shapeMode===y.QUADS?this.immediateMode.shapeMode=y.TRIANGLES:this.immediateMode.shapeMode===y.QUAD_STRIP&&(this.immediateMode.shapeMode=y.TRIANGLE_STRIP),this._doFill&&!g&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(D),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},p.default.RendererGL.prototype._processVertices=function(a){var u;0!==this.immediateMode.geometry.vertices.length&&(a=a===y.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),u=this.immediateMode.shapeMode===y.TESS,a=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||u||a)&&this.immediateMode.shapeMode!==y.LINES&&this._tesselateShape())},p.default.RendererGL.prototype._calculateEdges=function(a,u,h){var d=[],m=0,f=this.immediateMode.contourIndices.slice(),g=0;switch(a){case y.TRIANGLE_STRIP:for(m=0;m<u.length-2;m++)d.push([m,m+1]),d.push([m,m+2]);d.push([m,m+1]);break;case y.TRIANGLE_FAN:for(m=1;m<u.length-1;m++)d.push([0,m]),d.push([m,m+1]);d.push([0,u.length-1]);break;case y.TRIANGLES:for(m=0;m<u.length-2;m+=3)d.push([m,m+1]),d.push([m+1,m+2]),d.push([m+2,m]);break;case y.LINES:for(m=0;m<u.length-1;m+=2)d.push([m,m+1]);break;case y.QUADS:for(m=0;m<u.length-5;m+=6)d.push([m,m+1]),d.push([m+1,m+2]),d.push([m+3,m+5]),d.push([m+4,m+5]);break;case y.QUAD_STRIP:for(m=0;m<u.length-2;m+=2)d.push([m,m+1]),d.push([m,m+2]),d.push([m+1,m+3]);d.push([m,m+1]);break;default:for(m=0;m<u.length;m++)m+1<u.length&&m+1!==f[0]?d.push([m,m+1]):((h||g)&&d.push([m,g]),0<f.length&&(g=f.shift()))}return a!==y.TESS&&h&&d.push([u.length-1,0]),d},p.default.RendererGL.prototype._tesselateShape=function(){for(var a=this,u=(this.immediateMode.shapeMode=y.TRIANGLES,[[]]),h=0;h<this.immediateMode.geometry.vertices.length;h++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===h&&(this.immediateMode.contourIndices.shift(),u.push([])),u[u.length-1].push(this.immediateMode.geometry.vertices[h].x,this.immediateMode.geometry.vertices[h].y,this.immediateMode.geometry.vertices[h].z,this.immediateMode.geometry.uvs[2*h],this.immediateMode.geometry.uvs[2*h+1],this.immediateMode.geometry.vertexColors[4*h],this.immediateMode.geometry.vertexColors[4*h+1],this.immediateMode.geometry.vertexColors[4*h+2],this.immediateMode.geometry.vertexColors[4*h+3],this.immediateMode.geometry.vertexNormals[h].x,this.immediateMode.geometry.vertexNormals[h].y,this.immediateMode.geometry.vertexNormals[h].z);for(var d,m=this._triangulate(u),f=this.immediateMode.geometry.vertices,g=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),D=0,$=m.length;D<$;D+=p.default.RendererGL.prototype.tessyVertexSize)g.push.apply(g,_(m.slice(D+5,D+9))),this.normal.apply(this,_(m.slice(D+9,D+12))),this.vertex.apply(this,_(m.slice(D,D+5)));this.geometryBuilder&&(d=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(L){return L.map(function(P){if(!d.has(P)){var x=f[P],U=a.immediateMode.geometry.vertices.findIndex(function(re){return x.x===re.x&&x.y===re.y&&x.z===re.z});if(-1===U){for(var I=1/0,F=0,R=0;R<a.immediateMode.geometry.vertices.length;R++){var oe,q,Z=x.y-(oe=a.immediateMode.geometry.vertices[R]).y;(q=(q=x.x-oe.x)*q+Z*Z+(oe=x.z-oe.z)*oe)<I&&(I=q,F=R)}U=F}d.set(P,U)}return d.get(P)})})),this.immediateMode.geometry.vertexColors=g},p.default.RendererGL.prototype._drawImmediateFill=function(){var a,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,h=this.GL,d=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,a=this._getImmediateFillShader(),this._setFillUniforms(a),!0),m=!1,f=void 0;try{for(var g,D=this.immediateMode.buffers.fill[Symbol.iterator]();!(d=(g=D.next()).done);d=!0)g.value._prepareBuffer(this.immediateMode.geometry,a)}catch($){m=!0,f=$}finally{try{d||null==D.return||D.return()}finally{if(m)throw f}}if(a.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===u)h.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{h.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,u)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}a.unbindShader()},p.default.RendererGL.prototype._drawImmediateStroke=function(){var a=this.GL,u=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),h=(this._setStrokeUniforms(u),!0),d=!1,m=void 0;try{for(var f,g=this.immediateMode.buffers.stroke[Symbol.iterator]();!(h=(f=g.next()).done);h=!0)f.value._prepareBuffer(this.immediateMode.geometry,u)}catch(D){d=!0,m=D}finally{try{h||null==g.return||g.return()}finally{if(d)throw m}}u.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),a.drawArrays(a.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),u.unbindShader()},p.default.RendererGL);V.default=l},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(o,se,V){"use strict";function v(i){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function b(i){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var p=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==b(i)&&"function"!=typeof i)return{default:i};var l=E();if(l&&l.has(i))return l.get(i);var a,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in i){var d;Object.prototype.hasOwnProperty.call(i,a)&&((d=h?Object.getOwnPropertyDescriptor(i,a):null)&&(d.get||d.set)?Object.defineProperty(u,a,d):u[a]=i[a])}return u.default=i,l&&l.set(i,u),u}(o("../core/constants")));function E(){var i;return"function"!=typeof WeakMap?null:(E=function(){return i},i=new WeakMap)}p.default.RendererGL.prototype.freeGeometry=function(i){i.gid?this._freeBuffers(i.gid):console.warn("The model you passed to freeGeometry does not have an id!")},p.default.RendererGL.prototype._initBufferDefaults=function(i){var l;return this._freeBuffers(i),1e3<Object.keys(this.retainedMode.geometry).length&&(l=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(l)),this.retainedMode.geometry[i]={}},p.default.RendererGL.prototype._freeBuffers=function(i){var l,a=this.retainedMode.geometry[i];function u(h){var d=!0,m=!1,f=void 0;try{for(var g,D=h[Symbol.iterator]();!(d=(g=D.next()).done);d=!0){var $=g.value;a[$.dst]&&(l.deleteBuffer(a[$.dst]),a[$.dst]=null)}}catch(L){m=!0,f=L}finally{try{d||null==D.return||D.return()}finally{if(m)throw f}}}a&&(delete this.retainedMode.geometry[i],l=this.GL,a.indexBuffer&&l.deleteBuffer(a.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill))},p.default.RendererGL.prototype.createBuffers=function(m,l){var a,u,h,d=this.GL,f=((m=this._initBufferDefaults(m)).model=l,m.indexBuffer);return l.faces.length?(f=f||(m.indexBuffer=d.createBuffer()),h=(u=(a=p.default.RendererGL.prototype._flatten(l.faces)).some(function(g){return 65535<g}))?Uint32Array:Uint16Array,this._bindBuffer(f,d.ELEMENT_ARRAY_BUFFER,a,h),m.indexBufferType=u?d.UNSIGNED_INT:d.UNSIGNED_SHORT,m.vertexCount=3*l.faces.length):(f&&(d.deleteBuffer(f),m.indexBuffer=null),m.vertexCount=l.vertices?l.vertices.length:0),m.lineVertexCount=l.lineVertices?l.lineVertices.length/3:0,m},p.default.RendererGL.prototype.drawBuffers=function(i){var l=this.GL,a=this.retainedMode.geometry[i];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[i].vertexCount){this._useVertexColor=0<a.model.vertexColors.length;var u=this._getRetainedFillShader(),h=(this._setFillUniforms(u),!0),d=!1,m=void 0;try{for(var f,g=this.retainedMode.buffers.fill[Symbol.iterator]();!(h=(f=g.next()).done);h=!0)f.value._prepareBuffer(a,u)}catch(x){d=!0,m=x}finally{try{h||null==g.return||g.return()}finally{if(d)throw m}}u.disableRemainingAttributes(),a.indexBuffer&&this._bindBuffer(a.indexBuffer,l.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,a.model.hasFillTransparency()),this._drawElements(l.TRIANGLES,i),u.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<a.lineVertexCount){this._useLineColor=0<a.model.vertexStrokeColors.length;var D=this._getRetainedStrokeShader(),$=(this._setStrokeUniforms(D),!0);d=!1,m=void 0;try{for(var L,P=this.retainedMode.buffers.stroke[Symbol.iterator]();!($=(L=P.next()).done);$=!0)L.value._prepareBuffer(a,D)}catch(I){d=!0,m=I}finally{try{$||null==P.return||P.return()}finally{if(d)throw m}}D.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,a.model.hasStrokeTransparency()),this._drawArrays(l.TRIANGLES,i),D.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(a),this},p.default.RendererGL.prototype.drawBuffersScaled=function(i,l,a,u){var h=this.uModelMatrix.copy();try{this.uModelMatrix.scale(l,a,u),this.drawBuffers(i)}finally{this.uModelMatrix=h}},p.default.RendererGL.prototype._drawArrays=function(i,l){return this.GL.drawArrays(i,0,this.retainedMode.geometry[l].lineVertexCount),this},p.default.RendererGL.prototype._drawElements=function(i,a){var u=this.GL;if((a=this.retainedMode.geometry[a]).indexBuffer){if(this._pInst.webglVersion!==y.WEBGL2&&a.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,a.vertexCount,a.indexBufferType,0)}else u.drawArrays(i||u.TRIANGLES,0,a.vertexCount)},p.default.RendererGL.prototype._drawPoints=function(i,l){var a=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(l,a.ARRAY_BUFFER,this._vToNArray(i),Float32Array,a.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.Points,0,i.length),u.unbindShader()};var _=p.default.RendererGL;V.default=_},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(R,se,V){"use strict";function v(G){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(G)}function b(G){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(K){return v(K)}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":v(K)})(G)}R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.get-own-property-descriptor"),R("core-js/modules/es.object.get-prototype-of"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.reflect.construct"),R("core-js/modules/es.reflect.get"),R("core-js/modules/es.regexp.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/es.weak-map"),R("core-js/modules/web.dom-collections.iterator"),R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.readPixelsWebGL=re,V.readPixelWebGL=W,V.default=void 0;var p=a(R("../core/main")),y=function(G){if(G&&G.__esModule)return G;if(null===G||"object"!==b(G)&&"function"!=typeof G)return{default:G};var K=l();if(K&&K.has(G))return K.get(G);var ue,Me={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ue in G){var j;Object.prototype.hasOwnProperty.call(G,ue)&&((j=Y?Object.getOwnPropertyDescriptor(G,ue):null)&&(j.get||j.set)?Object.defineProperty(Me,ue,j):Me[ue]=G[ue])}return Me.default=G,K&&K.set(G,Me),Me}(R("../core/constants")),E=a(R("./GeometryBuilder")),_=a(R("libtess")),i=(R("./p5.Shader"),R("./p5.Camera"),R("../core/p5.Renderer"),R("./p5.Matrix"),R("./p5.Framebuffer"),R("path"),R("./p5.Texture"));function l(){var G;return"function"!=typeof WeakMap?null:(l=function(){return G},G=new WeakMap)}function a(G){return G&&G.__esModule?G:{default:G}}function u(G){return function(K){if(Array.isArray(K)){for(var ue=0,Me=new Array(K.length);ue<K.length;ue++)Me[ue]=K[ue];return Me}}(G)||function(K){if(Symbol.iterator in Object(K)||"[object Arguments]"===Object.prototype.toString.call(K))return Array.from(K)}(G)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(G,K){for(var ue=0;ue<K.length;ue++){var Me=K[ue];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(G,Me.key,Me)}}function d(G,K,ue){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(te,Y,j){if(te=function(me,xe){for(;!Object.prototype.hasOwnProperty.call(me,xe)&&null!==(me=D(me)););return me}(te,Y))return(te=Object.getOwnPropertyDescriptor(te,Y)).get?te.get.call(j):te.value})(G,K,ue||G)}function m(G,K){return(m=Object.setPrototypeOf||function(ue,Me){return ue.__proto__=Me,ue})(G,K)}function g(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function D(G){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)})(G)}function $(G,K,ue){K in G?Object.defineProperty(G,K,{value:ue,enumerable:!0,configurable:!0,writable:!0}):G[K]=ue}function L(G,K){F+="#define STROKE_CAP_".concat(G," ").concat(K,"\n"),U[y[G]]=K}function P(G,K){F+="#define STROKE_JOIN_".concat(G," ").concat(K,"\n"),I[y[G]]=K}var x,U={},I={},F="",Z={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(L("ROUND",0),L("PROJECT",1),L("SQUARE",2),P("ROUND",0),P("MITER",1),P("BEVEL",2),(R='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:R+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:F+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // This prevents popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  \n  float zOffset = mix(-0.00045, -1., facingCamera);\n  posp.z -= zOffset;\n  posqIn.z -= zOffset;\n  posqOut.z -= zOffset;\n  \n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:F+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},oe=Z.sphereMappingFrag;for(x in Z)Z[x]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+Z[x];$(R={},y.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),$(R,y.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),$(R,y.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),$(R,y.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),$(R,y.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),$(R,y.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),$(R,y.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),$(R,y.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var q=R;function re(G,K,ct,Me,Y,j,te,me,xe,Be){var qe=K.getParameter(K.FRAMEBUFFER_BINDING),ze=j*te*(K.bindFramebuffer(K.FRAMEBUFFER,ct),ct=me===K.RGBA?4:3),st=xe===K.UNSIGNED_BYTE?Uint8Array:Float32Array;if(G instanceof st&&G.length===ze||(G=new st(ze)),K.readPixels(Me,Be?Be-Y-te:Y,j,te,me,xe,G),K.bindFramebuffer(K.FRAMEBUFFER,qe),Be)for(var lt=Math.floor(te/2),Fe=new st(j*ct),rt=0;rt<lt;rt++){var Ye=rt*j*4,ot=(te-rt-1)*j*4;Fe.set(G.subarray(Ye,Ye+4*j)),G.copyWithin(Ye,ot,ot+4*j),G.set(Fe,ot)}return G}function W(G,xe,ue,Me,Y,j,te){var me=G.getParameter(G.FRAMEBUFFER_BINDING);return G.bindFramebuffer(G.FRAMEBUFFER,xe),xe=Y===G.RGBA?4:3,xe=new(j===G.UNSIGNED_BYTE?Uint8Array:Float32Array)(xe),G.readPixels(ue,te?te-Me-1:Me,1,1,Y,j,xe),G.bindFramebuffer(G.FRAMEBUFFER,me),Array.from(xe)}p.default.prototype.setAttributes=function(G,K){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var ue=!0;if(void 0!==K?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[G]!==K&&(this._glAttributes[G]=K,ue=!1)):G instanceof Object&&this._glAttributes!==G&&(this._glAttributes=G,ue=!1),this._renderer.isP3D&&!ue){if(!this._setupDone)for(var Me in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Me))return void p.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},p.default.RendererGL=function(G){var K=Y;if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(G&&G.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),G&&m(K,G);var Me=function f(G){return function(){var K,ue,Me=D(G);return K=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(K=D(this).constructor,Reflect.construct(Me,arguments,K)):Me.apply(this,arguments),Me=this,!(ue=K)||"object"!==b(ue)&&"function"!=typeof ue?g(Me):ue}}(Y);function Y(j,te,me,xe){if(this instanceof Y)return(j=Me.call(this,j,te,me))._setAttributeDefaults(te),j._initContext(),j.isP3D=!0,j.geometryBuilder=void 0,j.GL=j.drawingContext,j._pInst._setProperty("drawingContext",j.drawingContext),j._isErasing=!1,j._clipDepths=[],j._isClipApplied=!1,j._stencilTestOn=!1,j._enableLighting=!1,j.ambientLightColors=[],j.mixedAmbientLight=[],j.mixedSpecularColor=[],j.specularColors=[1,1,1],j.directionalLightDirections=[],j.directionalLightDiffuseColors=[],j.directionalLightSpecularColors=[],j.pointLightPositions=[],j.pointLightDiffuseColors=[],j.pointLightSpecularColors=[],j.spotLightPositions=[],j.spotLightDirections=[],j.spotLightDiffuseColors=[],j.spotLightSpecularColors=[],j.spotLightAngle=[],j.spotLightConc=[],j.activeImageLight=null,j.diffusedTextures=new Map,j.specularTextures=new Map,j.drawMode=y.FILL,j.curFillColor=j._cachedFillStyle=[1,1,1,1],j.curAmbientColor=j._cachedFillStyle=[1,1,1,1],j.curSpecularColor=j._cachedFillStyle=[0,0,0,0],j.curEmissiveColor=j._cachedFillStyle=[0,0,0,0],j.curStrokeColor=j._cachedStrokeStyle=[0,0,0,1],j.curBlendMode=y.BLEND,j.preEraseBlend=void 0,j._cachedBlendMode=void 0,j.blendExt=j.webglVersion===y.WEBGL2?j.GL:j.GL.getExtension("EXT_blend_minmax"),j._isBlending=!1,j._hasSetAmbient=!1,j._useSpecularMaterial=!1,j._useEmissiveMaterial=!1,j._useNormalMaterial=!1,j._useShininess=1,j._useMetalness=0,j._useLineColor=!1,j._useVertexColor=!1,j.registerEnabled=new Set,j._tint=[255,255,255,255],j.constantAttenuation=1,j.linearAttenuation=0,j.quadraticAttenuation=0,j.uModelMatrix=new p.default.Matrix,j.uViewMatrix=new p.default.Matrix,j.uMVMatrix=new p.default.Matrix,j.uPMatrix=new p.default.Matrix,j.uNMatrix=new p.default.Matrix("mat3"),j.curMatrix=new p.default.Matrix("mat3"),j._currentNormal=new p.default.Vector(0,0,1),j._curCamera=new p.default.Camera(g(j)),j._curCamera._computeCameraDefaultSettings(),j._curCamera._setDefaultCamera(),j.filterCamera=new p.default.Camera(g(j)),j.filterCamera._computeCameraDefaultSettings(),j.filterCamera._setDefaultCamera(),j.prevTouches=[],j.zoomVelocity=0,j.rotateVelocity=new p.default.Vector(0,0),j.moveVelocity=new p.default.Vector(0,0),j.executeZoom=!1,j.executeRotateAndMove=!1,j.specularShader=void 0,j.sphereMapping=void 0,j.diffusedShader=void 0,j._defaultLightShader=void 0,j._defaultImmediateModeShader=void 0,j._defaultNormalShader=void 0,j._defaultColorShader=void 0,j._defaultPointShader=void 0,j.userFillShader=void 0,j.userStrokeShader=void 0,j.userPointShader=void 0,j.retainedMode={geometry:{},buffers:{stroke:[new p.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",g(j)),new p.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",g(j)),new p.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",g(j)),new p.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",g(j)),new p.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",g(j))],fill:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",g(j),j._vToNArray),new p.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",g(j),j._vToNArray),new p.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",g(j)),new p.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",g(j)),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",g(j),j._flatten)],text:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",g(j),j._vToNArray),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",g(j),j._flatten)]}},j.immediateMode={geometry:new p.default.Geometry,shapeMode:y.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",g(j),j._vToNArray),new p.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",g(j),j._vToNArray),new p.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",g(j)),new p.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",g(j)),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",g(j),j._flatten)],stroke:[new p.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",g(j)),new p.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",g(j)),new p.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",g(j)),new p.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",g(j)),new p.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",g(j))],point:j.GL.createBuffer()}},j.pointSize=5,j.curStrokeWeight=1,j.curStrokeCap=y.ROUND,j.curStrokeJoin=y.ROUND,j.textures=new Map,j.framebuffers=new Set,j.activeFramebuffers=[],j.filterShader=void 0,j.filterLayer=void 0,j.filterLayerTemp=void 0,j.defaultFilterShaders={},j.textureMode=y.IMAGE,j.textureWrapX=y.CLAMP,j.textureWrapY=y.CLAMP,j._tex=null,j._curveTightness=6,j._lookUpTableBezier=[],j._lookUpTableQuadratic=[],j._lutBezierDetail=0,j._lutQuadraticDetail=0,j.isProcessingVertices=!1,j._tessy=j._initTessy(),j.fontInfos={},j._curShader=void 0,j;throw new TypeError("Cannot call a class as a function")}return K=Y,(G=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new E.default(this)}},{key:"endGeometry",value:function(){var j;if(this.geometryBuilder)return j=this.geometryBuilder.finish(),this.geometryBuilder=void 0,j;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(j){return this.beginGeometry(),j(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(j){var te={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};j._glAttributes=null===j._glAttributes?te:Object.assign(te,j._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?y.WEBGL2:y.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var j=this.drawingContext;j.enable(j.DEPTH_TEST),j.depthFunc(j.LEQUAL),j.viewport(0,0,j.drawingBufferWidth,j.drawingBufferHeight),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var j=this.drawingContext;return j.getParameter(j.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(j,te){this._maxTextureSize||(this._maxTextureSize=this._getParam());var xe=this._maxTextureSize,me=(xe=Math.floor(xe/this.pixelDensity()),Math.min(j,xe));return xe=Math.min(te,xe),me===j&&xe===te||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(me,", height: ").concat(xe,".")),{adjustedWidth:me,adjustedHeight:xe}}},{key:"_resetContext",value:function(j,te){var me,xe=this.width,Be=this.height,ct=this.canvas.id,qe=this._pInst instanceof p.default.Graphics;qe?((me=this._pInst).canvas.parentNode.removeChild(me.canvas),me.canvas=document.createElement("canvas"),(me._pInst._userNode||document.body).appendChild(me.canvas),p.default.Element.call(me,me.canvas,me._pInst),me.width=xe,me.height=Be):((me=this.canvas)&&me.parentNode.removeChild(me),(me=document.createElement("canvas")).id=ct,(this._pInst._userNode||document.body).appendChild(me),this._pInst.canvas=me,this.canvas=me),ct=new p.default.RendererGL(this._pInst.canvas,this._pInst,!qe),this._pInst._setProperty("_renderer",ct),ct.resize(xe,Be),ct._applyDefaults(),qe||this._pInst._elements.push(ct),"function"==typeof te&&setTimeout(function(){te.apply(window._renderer,j)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var xe=(xe=this._pInst).color.apply(xe,arguments);this.clear(xe.levels[0]/255,xe.levels[1]/255,xe.levels[2]/255,xe=xe.levels[3]/255)}},{key:"fill",value:function(j,te,me,xe){var Be=p.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Be._array,this.drawMode=y.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(j,te,me,xe){var Be=p.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Be._array}},{key:"strokeCap",value:function(j){this.curStrokeCap=j}},{key:"strokeJoin",value:function(j){this.curStrokeJoin=j}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(j,te){j.width===te.width&&j.height===te.height||j.resize(te.width,te.height),j.pixelDensity()!==te.pixelDensity()&&j.pixelDensity(te.pixelDensity())}},{key:"filter",value:function(){var j,te,me=this,xe=this.getFilterLayer(),Be=void 0,qe=void 0,ct=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(qe=arguments.length<=0?void 0:arguments[0],$(j={},y.BLUR,3),$(j,y.POSTERIZE,4),$(j,y.THRESHOLD,.5),Be=qe in j&&void 0===(arguments.length<=1?void 0:arguments[1])?j[qe]:arguments.length<=1?void 0:arguments[1],qe in this.defaultFilterShaders||(this.defaultFilterShaders[qe]=new p.default.Shader(xe._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",q[qe])),this.filterShader=this.defaultFilterShaders[qe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ze=(this.matchSize(xe,ct),xe.draw(function(){return me._pInst.clear()}),[1/(ct.width*ct.pixelDensity()),1/(ct.height*ct.pixelDensity())]);qe===y.BLUR?(te=this.getFilterLayerTemp(),this.matchSize(te,ct),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(y.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ze),this.filterShader.setUniform("canvasSize",[ct.width,ct.height]),this.filterShader.setUniform("radius",Math.max(1,Be)),te.draw(function(){me.filterShader.setUniform("direction",[1,0]),me.filterShader.setUniform("tex0",ct),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(ct.width,ct.height)}),xe.draw(function(){me.filterShader.setUniform("direction",[0,1]),me.filterShader.setUniform("tex0",te),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(ct.width,ct.height)}),this._pInst.pop()):xe.draw(function(){me._pInst.noStroke(),me._pInst.blendMode(y.BLEND),me._pInst.shader(me.filterShader),me.filterShader.setUniform("tex0",ct),me.filterShader.setUniform("texelSize",ze),me.filterShader.setUniform("canvasSize",[ct.width,ct.height]),me.filterShader.setUniform("filterParameter",Be),me._pInst.noLights(),me._pInst.plane(ct.width,ct.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(y.CORNER),this._pInst.blendMode(y.BLEND),ct.filterCamera._resize(),this._pInst.setCamera(ct.filterCamera),this._pInst.resetMatrix(),this._pInst.image(xe,-ct.width/2,-ct.height/2,ct.width,ct.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(j){return j?this._pInst.pixelDensity(j):this._pInst.pixelDensity()}},{key:"blendMode",value:function(j){j===y.DARKEST||j===y.LIGHTEST||j===y.ADD||j===y.BLEND||j===y.SUBTRACT||j===y.SCREEN||j===y.EXCLUSION||j===y.REPLACE||j===y.MULTIPLY||j===y.REMOVE?this.curBlendMode=j:j!==y.BURN&&j!==y.OVERLAY&&j!==y.HARD_LIGHT&&j!==y.SOFT_LIGHT&&j!==y.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(j,te){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(y.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,j/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,te/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(d(D(Y.prototype),"beginClip",this).call(this,j),this.drawTarget()._isClipApplied=!0,j=this.GL).clearStencil(0),j.clear(j.STENCIL_BUFFER_BIT),j.enable(j.STENCIL_TEST),this._stencilTestOn=!0,j.stencilFunc(j.ALWAYS,1,255),j.stencilOp(j.KEEP,j.KEEP,j.REPLACE),j.disable(j.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var j=this.GL;j.stencilOp(j.KEEP,j.KEEP,j.KEEP),j.stencilFunc(this._clipInvert?j.EQUAL:j.NOTEQUAL,0,255),j.enable(j.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),d(D(Y.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(j){this.curStrokeWeight!==j&&(this.pointSize=j,this.curStrokeWeight=j)}},{key:"_getPixel",value:function(j,te){var me=this.GL;return W(me,null,j,te,me.RGBA,me.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var j,te,me=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):me._setProperty("pixels",re(me.pixels,te=this.GL,null,0,0,this.width*(j=this._pInst._pixelDensity),this.height*j,te.RGBA,te.UNSIGNED_BYTE,this.height*j))}},{key:"updatePixels",value:function(){var j=this._getTempFramebuffer();j.pixels=this._pixelsState.pixels,j.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(y.CENTER),this._pInst.image(j,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:y.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:y.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(j){return void 0!==this.retainedMode.geometry[j]}},{key:"viewport",value:function(j,te){this._viewport=[0,0,j,te],this.GL.viewport(0,0,j,te)}},{key:"resize",value:function(Be,xe){p.default.Renderer.prototype.resize.call(this,Be,xe),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var me=(void 0!==(Be=this._pixelsState).pixels&&Be._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);xe=!1,Be=void 0;try{for(var qe,ct=this.framebuffers[Symbol.iterator]();!(me=(qe=ct.next()).done);me=!0)qe.value._canvasSizeChanged()}catch(ze){xe=!0,Be=ze}finally{try{me||null==ct.return||ct.return()}finally{if(xe)throw Be}}}},{key:"clear",value:function(){var j=(arguments.length<=0?void 0:arguments[0])||0,te=(arguments.length<=1?void 0:arguments[1])||0,me=(arguments.length<=2?void 0:arguments[2])||0,xe=(arguments.length<=3?void 0:arguments[3])||0,Be=this.activeFramebuffer();Be&&Be.format===y.UNSIGNED_BYTE&&!Be.antialias&&0===xe&&(xe=1e-10),this.GL.clearColor(j*xe,te*xe,me*xe,xe),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(j,te,me,xe,Be,qe){16===arguments.length?p.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([j,te,0,0,me,xe,0,0,0,0,1,0,Be,qe,0,1])}},{key:"translate",value:function(j,te,me){return j instanceof p.default.Vector&&(me=j.z,te=j.y,j=j.x),this.uModelMatrix.translate([j,te,me]),this}},{key:"scale",value:function(j,te,me){return this.uModelMatrix.scale(j,te,me),this}},{key:"rotate",value:function(j,te){return void 0===te?this.rotateZ(j):(p.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(j){return this.rotate(j,1,0,0),this}},{key:"rotateY",value:function(j){return this.rotate(j,0,1,0),this}},{key:"rotateZ",value:function(j){return this.rotate(j,0,0,1),this}},{key:"push",value:function(){var j=p.default.Renderer.prototype.push.apply(this),te=j.properties;return te.uModelMatrix=this.uModelMatrix.copy(),te.uViewMatrix=this.uViewMatrix.copy(),te.uPMatrix=this.uPMatrix.copy(),te._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),te.ambientLightColors=this.ambientLightColors.slice(),te.specularColors=this.specularColors.slice(),te.directionalLightDirections=this.directionalLightDirections.slice(),te.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),te.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),te.pointLightPositions=this.pointLightPositions.slice(),te.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),te.pointLightSpecularColors=this.pointLightSpecularColors.slice(),te.spotLightPositions=this.spotLightPositions.slice(),te.spotLightDirections=this.spotLightDirections.slice(),te.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),te.spotLightSpecularColors=this.spotLightSpecularColors.slice(),te.spotLightAngle=this.spotLightAngle.slice(),te.spotLightConc=this.spotLightConc.slice(),te.userFillShader=this.userFillShader,te.userStrokeShader=this.userStrokeShader,te.userPointShader=this.userPointShader,te.pointSize=this.pointSize,te.curStrokeWeight=this.curStrokeWeight,te.curStrokeColor=this.curStrokeColor,te.curFillColor=this.curFillColor,te.curAmbientColor=this.curAmbientColor,te.curSpecularColor=this.curSpecularColor,te.curEmissiveColor=this.curEmissiveColor,te._hasSetAmbient=this._hasSetAmbient,te._useSpecularMaterial=this._useSpecularMaterial,te._useEmissiveMaterial=this._useEmissiveMaterial,te._useShininess=this._useShininess,te._useMetalness=this._useMetalness,te.constantAttenuation=this.constantAttenuation,te.linearAttenuation=this.linearAttenuation,te.quadraticAttenuation=this.quadraticAttenuation,te._enableLighting=this._enableLighting,te._useNormalMaterial=this._useNormalMaterial,te._tex=this._tex,te.drawMode=this.drawMode,te._currentNormal=this._currentNormal,te.curBlendMode=this.curBlendMode,te.activeImageLight=this.activeImageLight,j}},{key:"pop",value:function(){var j;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var te=arguments.length,me=new Array(te),xe=0;xe<te;xe++)me[xe]=arguments[xe];(j=d(D(Y.prototype),"pop",this)).call.apply(j,[this].concat(me)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var j=this.drawTarget();j._isClipApplied!==this._stencilTestOn&&(j._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var j=this.userStrokeShader;return j&&j.isStrokeShader()?j:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(j){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(oe)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",j),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var j=this.userFillShader;if(this._useNormalMaterial&&(!j||!j.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getImmediateModeShader();return j}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var j=this.userFillShader;if(this._enableLighting){if(!j||!j.isLightShader())return this._getLightShader()}else if(this._tex){if(!j||!j.isTextureShader())return this._getLightShader()}else if(!j)return this._getColorShader();return j}},{key:"_getImmediatePointShader",value:function(){var j=this.userPointShader;return j&&j.isPointShader()?j:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Z.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Z.phongFrag):new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Z.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Z.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===y.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Z.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+Z.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(j,te){var me="";return this.webglVersion===y.WEBGL2&&(me+="#version 300 es\n#define WEBGL2\n"),"vert"===j?me+="#define VERTEX_SHADER\n":"frag"===j&&(me+="#define FRAGMENT_SHADER\n"),te&&(me+="precision ".concat(te," float;\n")),me}},{key:"_getEmptyTexture",value:function(){var j;return this._emptyTexture||((j=new p.default.Image(1,1)).set(0,0,255),this._emptyTexture=new p.default.Texture(this,j)),this._emptyTexture}},{key:"getTexture",value:function(j){j instanceof p.default.Framebuffer&&(j=j.color);var te=this.textures.get(j);return te||(te=new p.default.Texture(this,j),this.textures.set(j,te),te)}},{key:"getDiffusedTexture",value:function(j){var te,me,xe=this;return null!=this.diffusedTextures.get(j)?this.diffusedTextures.get(j):(te=Math.floor(j.height/j.width*200),me=this._pInst.createFramebuffer({width:200,height:te,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(Z.imageLightVert,Z.imageLightDiffusedFrag)),me.draw(function(){xe._pInst.shader(xe.diffusedShader),xe.diffusedShader.setUniform("environmentMap",j),xe._pInst.noStroke(),xe._pInst.rectMode(y.CENTER),xe._pInst.noLights(),xe._pInst.rect(0,0,200,te)}),this.diffusedTextures.set(j,me),me)}},{key:"getSpecularTexture",value:function(j){var te=this;if(null!=this.specularTextures.get(j))return this.specularTextures.get(j);for(var me,xe=[],Be=this._pInst.createFramebuffer({width:512,height:512,density:1}),qe=Math.log(512)/Math.log(2),ct=(this.specularShader||(this.specularShader=this._pInst.createShader(Z.imageLightVert,Z.imageLightSpecularFrag)),512);1<=ct;ct/=2)!function(ze){Be.resize(ze,ze);var st=1-Math.log(ze)/Math.log(2)/qe;Be.draw(function(){te._pInst.shader(te.specularShader),te._pInst.clear(),te.specularShader.setUniform("environmentMap",j),te.specularShader.setUniform("roughness",st),te._pInst.noStroke(),te._pInst.noLights(),te._pInst.plane(ze,ze)}),xe.push(Be.get().drawingContext.getImageData(0,0,ze,ze))}(ct);return Be.remove(),me=new i.MipmapTexture(this,xe,{}),this.specularTextures.set(j,me),me}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(j){return new p.default.Framebuffer(this,j)}},{key:"_setStrokeUniforms",value:function(j){j.bindShader(),j.setUniform("uUseLineColor",this._useLineColor),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uStrokeWeight",this.curStrokeWeight),j.setUniform("uStrokeCap",U[this.curStrokeCap]),j.setUniform("uStrokeJoin",I[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(j){var te=this,me=(j.bindShader(),this.mixedSpecularColor=u(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(xe,Be){return te.curFillColor[Be]*te._useMetalness+xe*(1-te._useMetalness)})),j.setUniform("uUseVertexColor",this._useVertexColor),j.setUniform("uMaterialColor",this.curFillColor),j.setUniform("isTexture",!!this._tex),this._tex&&j.setUniform("uSampler",this._tex),j.setUniform("uTint",this._tint),j.setUniform("uHasSetAmbient",this._hasSetAmbient),j.setUniform("uAmbientMatColor",this.curAmbientColor),j.setUniform("uSpecularMatColor",this.mixedSpecularColor),j.setUniform("uEmissiveMatColor",this.curEmissiveColor),j.setUniform("uSpecular",this._useSpecularMaterial),j.setUniform("uEmissive",this._useEmissiveMaterial),j.setUniform("uShininess",this._useShininess),j.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(j),j.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);j.setUniform("uPointLightCount",me),j.setUniform("uPointLightLocation",this.pointLightPositions),j.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),j.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),j.setUniform("uDirectionalLightCount",me=this.directionalLightDiffuseColors.length/3),j.setUniform("uLightingDirection",this.directionalLightDirections),j.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),j.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),me=this.ambientLightColors.length/3,this.mixedAmbientLight=u(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(xe){return Math.max(0,xe-=te._useMetalness)})),j.setUniform("uAmbientLightCount",me),j.setUniform("uAmbientColor",this.mixedAmbientLight),j.setUniform("uSpotLightCount",me=this.spotLightDiffuseColors.length/3),j.setUniform("uSpotLightAngle",this.spotLightAngle),j.setUniform("uSpotLightConc",this.spotLightConc),j.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),j.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),j.setUniform("uSpotLightLocation",this.spotLightPositions),j.setUniform("uSpotLightDirection",this.spotLightDirections),j.setUniform("uConstantAttenuation",this.constantAttenuation),j.setUniform("uLinearAttenuation",this.linearAttenuation),j.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),j.bindTextures()}},{key:"_setImageLightUniforms",value:function(j){var te;j.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(te=this.getDiffusedTexture(this.activeImageLight),j.setUniform("environmentMapDiffused",te),te=this.getSpecularTexture(this.activeImageLight),j.setUniform("levelOfDetail",20/this._useShininess*8),j.setUniform("environmentMapSpecular",te))}},{key:"_setPointUniforms",value:function(j){j.bindShader(),j.setUniform("uMaterialColor",this.curStrokeColor),j.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(j,te,me,xe,Be){this.GL.bindBuffer(te=te||this.GL.ARRAY_BUFFER,j),void 0!==me&&((j=me)instanceof p.default.DataArray?j=me.dataArray():j instanceof(xe||Float32Array)||(j=new(xe||Float32Array)(j)),this.GL.bufferData(te,j,Be||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(j,te){return j.length===te.length&&j.every(function(me,xe){return me===te[xe]})}},{key:"_isTypedArray",value:function(j){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(te){return j instanceof te})}},{key:"_flatten",value:function(j){return j.flat()}},{key:"_vToNArray",value:function(j){return j.flatMap(function(te){return[te.x,te.y,te.z]})}},{key:"_bezierCoefficients",value:function(j){var te=j*j,me=1-j,xe=me*me;return[xe*me,3*xe*j,3*me*te,te*j]}},{key:"_quadraticCoefficients",value:function(j){var te=1-j;return[te*te,2*te*j,j*j]}},{key:"_bezierToCatmull",value:function(j){return[j[1],j[1]+(j[2]-j[0])/this._curveTightness,j[2]-(j[3]-j[1])/this._curveTightness,j[2]]}},{key:"_initTessy",value:function(){var j=new _.default.GluTesselator;return j.gluTessCallback(_.default.gluEnum.GLU_TESS_VERTEX_DATA,function(te,me){var xe=!0,Be=!1,qe=void 0;try{for(var ct,ze=te[Symbol.iterator]();!(xe=(ct=ze.next()).done);xe=!0)me.push(ct.value)}catch(lt){Be=!0,qe=lt}finally{try{xe||null==ze.return||ze.return()}finally{if(Be)throw qe}}}),j.gluTessCallback(_.default.gluEnum.GLU_TESS_BEGIN,function(te){te!==_.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(te))}),j.gluTessCallback(_.default.gluEnum.GLU_TESS_ERROR,function(te){console.log("error callback"),console.log("error number: ".concat(te))}),j.gluTessCallback(_.default.gluEnum.GLU_TESS_COMBINE,function(te,me,xe){for(var Be=new Array(p.default.RendererGL.prototype.tessyVertexSize).fill(0),qe=0;qe<xe.length;qe++)for(var ct=0;ct<Be.length;ct++)0!==xe[qe]&&me[qe]&&(Be[ct]+=me[qe][ct]*xe[qe]);return Be}),j.gluTessCallback(_.default.gluEnum.GLU_TESS_EDGE_FLAG,function(te){}),j.gluTessProperty(_.default.gluEnum.GLU_TESS_WINDING_RULE,_.default.windingRule.GLU_TESS_WINDING_NONZERO),j}},{key:"_triangulate",value:function(j){var te=j[0]?j[0][2]:void 0,me=!0,xe=!0,st=!1,Fe=void 0;try{for(var Be,qe=j[Symbol.iterator]();!(xe=(Be=qe.next()).done);xe=!0)for(var ct=Be.value,ze=0;ze<ct.length;ze+=p.default.RendererGL.prototype.tessyVertexSize)if(ct[ze+2]!==te){me=!1;break}}catch(Wt){st=!0,Fe=Wt}finally{try{xe||null==qe.return||qe.return()}finally{if(st)throw Fe}}this._tessy.gluTessNormal(0,0,me?1:0);var lt=(this._tessy.gluTessBeginPolygon(st=[]),!0),rt=void(Fe=!1);try{for(var Ye,ot=j[Symbol.iterator]();!(lt=(Ye=ot.next()).done);lt=!0){var Je=Ye.value;this._tessy.gluTessBeginContour();for(var ft=0;ft<Je.length;ft+=p.default.RendererGL.prototype.tessyVertexSize){var Pt=Je.slice(ft,ft+p.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Pt,Pt)}this._tessy.gluTessEndContour()}}catch(Wt){Fe=!0,rt=Wt}finally{try{lt||null==ot.return||ot.return()}finally{if(Fe)throw rt}}return this._tessy.gluTessEndPolygon(),st}}])&&h(K.prototype,G),Y}(p.default.Renderer),p.default.prototype._assert3d=function(G){if(!this._renderer.isP3D)throw new Error("".concat(G,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},p.default.RendererGL.prototype.tessyVertexSize=12,V.default=R=p.default.RendererGL},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(p,y){for(var E=0;E<y.length;E++){var _=y[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}v.default.Shader=function(){function p(i,l,a){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=i,this._vertSrc=l,this._fragSrc=a,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var y,E;return y=p,(E=[{key:"init",value:function(){if(0===this._glProgram){var i=this._renderer.GL;if(this._vertShader=i.createShader(i.VERTEX_SHADER),i.shaderSource(this._vertShader,this._vertSrc),i.compileShader(this._vertShader),!i.getShaderParameter(this._vertShader,i.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(i.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=i.createShader(i.FRAGMENT_SHADER),i.shaderSource(this._fragShader,this._fragSrc),i.compileShader(this._fragShader),!i.getShaderParameter(this._fragShader,i.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(i.getShaderInfoLog(this._fragShader))),null;this._glProgram=i.createProgram(),i.attachShader(this._glProgram,this._vertShader),i.attachShader(this._glProgram,this._fragShader),i.linkProgram(this._glProgram),i.getProgramParameter(this._glProgram,i.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(i.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(i){var l=new v.default.Shader(i._renderer,this._vertSrc,this._fragSrc);return l.ensureCompiledOnContext(i),l}},{key:"ensureCompiledOnContext",value:function(i){if(0!==this._glProgram&&this._renderer!==i._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=i._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var i=this._renderer.GL,l=i.getProgramParameter(this._glProgram,i.ACTIVE_ATTRIBUTES),a=0;a<l;++a){var u=i.getActiveAttrib(this._glProgram,a),h=u.name,d=i.getAttribLocation(this._glProgram,h),m={};m.name=h,m.location=d,m.index=a,m.type=u.type,m.size=u.size,this.attributes[h]=m}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var i=this._renderer.GL,l=i.getProgramParameter(this._glProgram,i.ACTIVE_UNIFORMS),a=0,u=0;u<l;++u){var h=i.getActiveUniform(this._glProgram,u),d={},m=(d.location=i.getUniformLocation(this._glProgram,h.name),d.size=h.size,h.name);1<h.size&&(m=m.substring(0,m.indexOf("[0]"))),d.name=m,d.type=h.type,d._cachedData=void 0,d.type===i.SAMPLER_2D&&(d.samplerIndex=a,a++,this.samplers.push(d)),d.isArray=1<h.size||d.type===i.FLOAT_MAT3||d.type===i.FLOAT_MAT4||d.type===i.FLOAT_VEC2||d.type===i.FLOAT_VEC3||d.type===i.FLOAT_VEC4||d.type===i.INT_VEC2||d.type===i.INT_VEC4||d.type===i.INT_VEC3,this.uniforms[m]=d}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var i=this._renderer.GL,l=!0,a=!1,u=void 0;try{for(var h,d=this.samplers[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var m=h.value,f=m.texture;void 0===f&&(f=this._renderer._getEmptyTexture()),i.activeTexture(i.TEXTURE0+m.samplerIndex),f.bindTexture(),f.update(),i.uniform1i(m.location,m.samplerIndex)}}catch(g){a=!0,u=g}finally{try{l||null==d.return||d.return()}finally{if(a)throw u}}}},{key:"updateTextures",value:function(){var i=!0,l=!1,a=void 0;try{for(var u,h=this.samplers[Symbol.iterator]();!(i=(u=h.next()).done);i=!0){var d=u.value.texture;d&&d.update()}}catch(m){l=!0,a=m}finally{try{i||null==h.return||h.return()}finally{if(l)throw a}}}},{key:"unbindTextures",value:function(){var i=!0,l=!1,a=void 0;try{for(var u,h=this.samplers[Symbol.iterator]();!(i=(u=h.next()).done);i=!0)this.setUniform(u.value.name,this._renderer._getEmptyTexture())}catch(m){l=!0,a=m}finally{try{i||null==h.return||h.return()}finally{if(l)throw a}}}},{key:"_setMatrixUniforms",value:function(){var i=this._renderer.uModelMatrix,l=this._renderer.uViewMatrix,a=this._renderer.uPMatrix,u=i.copy().mult(l),h=(this._renderer.uMVMatrix=u).copy();h.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",l.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelMatrix",i.mat4),this.setUniform("uModelViewMatrix",u.mat4),this.setUniform("uModelViewProjectionMatrix",h.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(i,l){var a=this.uniforms[i];if(a){var u=this._renderer.GL;if(a.isArray){if(a._cachedData&&this._renderer._arraysEqual(a._cachedData,l))return;a._cachedData=l.slice(0)}else{if(a._cachedData&&a._cachedData===l)return;a._cachedData=Array.isArray(l)?l.slice(0):l}var h=a.location;switch(this.useProgram(),a.type){case u.BOOL:u.uniform1i(h,!0===l?1:0);break;case u.INT:1<a.size?l.length&&u.uniform1iv(h,l):u.uniform1i(h,l);break;case u.FLOAT:1<a.size?l.length&&u.uniform1fv(h,l):u.uniform1f(h,l);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(h,!1,l);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(h,!1,l);break;case u.FLOAT_VEC2:1<a.size?l.length&&u.uniform2fv(h,l):u.uniform2f(h,l[0],l[1]);break;case u.FLOAT_VEC3:1<a.size?l.length&&u.uniform3fv(h,l):u.uniform3f(h,l[0],l[1],l[2]);break;case u.FLOAT_VEC4:1<a.size?l.length&&u.uniform4fv(h,l):u.uniform4f(h,l[0],l[1],l[2],l[3]);break;case u.INT_VEC2:1<a.size?l.length&&u.uniform2iv(h,l):u.uniform2i(h,l[0],l[1]);break;case u.INT_VEC3:1<a.size?l.length&&u.uniform3iv(h,l):u.uniform3i(h,l[0],l[1],l[2]);break;case u.INT_VEC4:1<a.size?l.length&&u.uniform4iv(h,l):u.uniform4i(h,l[0],l[1],l[2],l[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+a.samplerIndex),a.texture=l instanceof v.default.Texture?l:this._renderer.getTexture(l),u.uniform1i(h,a.samplerIndex),a.texture.src.gifProperties&&a.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(i){return void 0!==i})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(i,l,a,u,h,d){var m;return i&&-1!==(i=i.location)&&(m=this._renderer.GL,this._renderer.registerEnabled.has(i)||(m.enableVertexAttribArray(i),this._renderer.registerEnabled.add(i)),this._renderer.GL.vertexAttribPointer(i,l,a||m.FLOAT,u||!1,h||0,d||0)),this}},{key:"disableRemainingAttributes",value:function(){var i=this,l=!0,a=!1,u=void 0;try{for(var h,d=this._renderer.registerEnabled.values()[Symbol.iterator]();!(l=(h=d.next()).done);l=!0)!function(){var m=h.value;Object.keys(i.attributes).some(function(f){return i.attributes[f].location===m})||(i._renderer.GL.disableVertexAttribArray(m),i._renderer.registerEnabled.delete(m))}()}catch(m){a=!0,u=m}finally{try{l||null==d.return||d.return()}finally{if(a)throw u}}}}])&&b(y.prototype,E),p}(),V.default=o=v.default.Shader},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(o,se,V){"use strict";function v(f){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function b(f){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(g){return v(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":v(g)})(f)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.checkWebGLCapabilities=m,V.default=V.MipmapTexture=void 0;var p=(d=o("../core/main"))&&d.__esModule?d:{default:d},y=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==b(f)&&"function"!=typeof f)return{default:f};var g=E();if(g&&g.has(f))return g.get(f);var D,$={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in f){var P;Object.prototype.hasOwnProperty.call(f,D)&&((P=L?Object.getOwnPropertyDescriptor(f,D):null)&&(P.get||P.set)?Object.defineProperty($,D,P):$[D]=f[D])}return $.default=f,g&&g.set(f,$),$}(o("../core/constants"));function E(){var f;return"function"!=typeof WeakMap?null:(E=function(){return f},f=new WeakMap)}function _(f,g){return(_=Object.setPrototypeOf||function(D,$){return D.__proto__=$,D})(f,g)}function l(f){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(f)}function a(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function u(f,g){for(var D=0;D<g.length;D++){var $=g[D];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(f,$.key,$)}}function h(f,g,D){g&&u(f.prototype,g),D&&u(f,D)}p.default.Texture=function(){function f(x,D,P){a(this,f),this._renderer=x;var L=this._renderer.GL;return P=P||{},this.src=D,this.glTex=void 0,this.glTarget=L.TEXTURE_2D,this.glFormat=P.format||L.RGBA,this.mipmaps=!1,this.glMinFilter=P.minFilter||L.LINEAR,this.glMagFilter=P.magFilter||L.LINEAR,this.glWrapS=P.wrapS||L.CLAMP_TO_EDGE,this.glWrapT=P.wrapT||L.CLAMP_TO_EDGE,this.glDataType=P.dataType||L.UNSIGNED_BYTE,P=m(x),this.glFormat!==L.HALF_FLOAT||P.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=L.FLOAT),this.glFormat!==L.HALF_FLOAT||this.glMinFilter!==L.LINEAR&&this.glMagFilter!==L.LINEAR||P.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===L.LINEAR&&(this.glMinFilter=L.NEAREST),this.glMagFilter===L.LINEAR&&(this.glMagFilter=L.NEAREST)),this.glFormat!==L.FLOAT||P.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=L.UNSIGNED_BYTE),this.glFormat!==L.FLOAT||this.glMinFilter!==L.LINEAR&&this.glMagFilter!==L.LINEAR||P.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===L.LINEAR&&(this.glMinFilter=L.NEAREST),this.glMagFilter===L.LINEAR&&(this.glMagFilter=L.NEAREST)),this.isSrcMediaElement=void 0!==p.default.MediaElement&&D instanceof p.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==p.default.Element&&D instanceof p.default.Element&&!(D instanceof p.default.Graphics)&&!(D instanceof p.default.Renderer),this.isSrcP5Image=D instanceof p.default.Image,this.isSrcP5Graphics=D instanceof p.default.Graphics,this.isSrcP5Renderer=D instanceof p.default.Renderer,this.isImageData=typeof ImageData<"u"&&D instanceof ImageData,this.isFramebufferTexture=D instanceof p.default.FramebufferTexture,x=this._getTextureDataFromSource(),this.width=x.width,this.height=x.height,this.init(x),this}return h(f,[{key:"_getTextureDataFromSource",value:function(){var g;return this.isFramebufferTexture?g=this.src.rawTexture():this.isSrcP5Image?g=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?g=this.src.elt:this.isImageData&&(g=this.src),g}},{key:"init",value:function(g){var D,$=this._renderer.GL;this.isFramebufferTexture||(this.glTex=$.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,this.glMagFilter),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(D=new Uint8Array([1,1,1,1]),$.texImage2D(this.glTarget,0,$.RGBA,1,1,0,this.glFormat,this.glDataType,D)):$.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,g))}},{key:"update",value:function(){var g,D,$,L=this.src;return 0!==L.width&&0!==L.height&&!this.isFramebufferTexture&&(g=this._getTextureDataFromSource(),D=!1,$=this._renderer.GL,g.width!==this.width||g.height!==this.height?(D=!0,this.width=g.width||L.width,this.height=g.height||L.height,this.isSrcP5Image?L.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&L.setModified(!0)):this.isSrcP5Image?L.isModified()&&L.setModified(!(D=!0)):this.isSrcMediaElement?L.isModified()?L.setModified(!(D=!0)):L.loadedmetadata&&this._videoPrevUpdateTime!==L.time()&&(this._videoPrevUpdateTime=L.time(),D=!0):this.isImageData?L._dirty&&(D=!(L._dirty=!1)):D=!0,D&&(this.bindTexture(),$.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,g)),D)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(g,D){var $=this._renderer.GL;this.glMinFilter=this.glFilter(g),this.glMagFilter=this.glFilter(D),this.bindTexture(),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,this.glMinFilter),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(g){var D=this._renderer.GL;return g===y.NEAREST?D.NEAREST:D.LINEAR}},{key:"setWrapMode",value:function(g,D){function $(U){return!(U&U-1)}var L=this._renderer.GL,x=(x=this._getTextureDataFromSource()).naturalWidth&&x.naturalHeight?(P=x.naturalWidth,x.naturalHeight):(P=this.width,this.height),P=$(P);x=$(x),g===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||P&&x?this.glWrapS=L.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=L.CLAMP_TO_EDGE):g===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||P&&x?this.glWrapS=L.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=L.CLAMP_TO_EDGE):this.glWrapS=L.CLAMP_TO_EDGE,D===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||P&&x?this.glWrapT=L.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=L.CLAMP_TO_EDGE):D===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||P&&x?this.glWrapT=L.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=L.CLAMP_TO_EDGE):this.glWrapT=L.CLAMP_TO_EDGE,this.bindTexture(),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,this.glWrapS),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),f}();var d=function(f){var g=$;if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),f&&_(g,f);var D=function i(f){return function(){var g,D=l(f);if(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=l(this).constructor,Reflect.construct(D,arguments,g)):D.apply(this,arguments),D=this,!g||"object"!==b(g)&&"function"!=typeof g){if(void 0!==D)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}($);function $(L,P,x){return a(this,$),P=(L=D.call(this,L,P,x))._renderer.GL,L.glMinFilter===P.LINEAR&&(L.glMinFilter=P.LINEAR_MIPMAP_LINEAR),L}return h($,[{key:"glFilter",value:function(L){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(L){var P=this._renderer.GL;this.glTex=P.createTexture(),this.bindTexture();for(var x=0;x<L.length;x++)P.texImage2D(this.glTarget,x,this.glFormat,this.glFormat,this.glDataType,L[x]);this.glMinFilter=P.LINEAR_MIPMAP_LINEAR,P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,this.glMagFilter),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),$}(p.default.Texture);function m(L){var g=L.GL,D=(L=L.webglVersion)===y.WEBGL2?g.getExtension("EXT_color_buffer_float")&&g.getExtension("EXT_float_blend"):g.getExtension("OES_texture_float");return{float:D,floatLinear:D&&g.getExtension("OES_texture_float_linear"),halfFloat:L=g.getExtension(L===y.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:L&&g.getExtension("OES_texture_half_float_linear")}}V.MipmapTexture=d,V.default=o=p.default.Texture},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(o,se,V){"use strict";function v(f){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function b(f){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(g){return v(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":v(g)})(f)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var p,y=(p=o("../core/main"))&&p.__esModule?p:{default:p},E=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==b(f)&&"function"!=typeof f)return{default:f};var g=_();if(g&&g.has(f))return g.get(f);var D,$={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in f){var P;Object.prototype.hasOwnProperty.call(f,D)&&((P=L?Object.getOwnPropertyDescriptor(f,D):null)&&(P.get||P.set)?Object.defineProperty($,D,P):$[D]=f[D])}return $.default=f,g&&g.set(f,$),$}(o("../core/constants"));function _(){var f;return"function"!=typeof WeakMap?null:(_=function(){return f},f=new WeakMap)}function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function l(f,g){for(var D=0;D<g.length;D++){var $=g[D];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(f,$.key,$)}}function a(f,g,D){g&&l(f.prototype,g),D&&l(f,D)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),y.default.RendererGL.prototype._applyTextProperties=function(){},y.default.RendererGL.prototype.textWidth=function(f){return this._isOpenType()?this._textFont._textWidth(f,this._textSize):0};var u=function(){function f(g,D){i(this,f),this.width=g,this.height=D,this.infos=[]}return a(f,[{key:"findImage",value:function(g){var D,$,L=this.width*this.height;if(L<g)throw new Error("font is too complex to render in 3D");for(var P=this.infos.length-1;0<=P;--P){var x=this.infos[P];if(x.index+g<L){$=(D=x).imageData;break}}if(!D){try{$=new ImageData(this.width,this.height)}catch{var U=document.getElementsByTagName("canvas")[0],I=!U,F=(U||((U=document.createElement("canvas")).style.display="none",document.body.appendChild(U)),U.getContext("2d"));F&&($=F.createImageData(this.width,this.height)),I&&document.body.removeChild(U)}this.infos.push(D={index:0,imageData:$})}return F=D.index,D.index+=g,$._dirty=!0,{imageData:$,index:F}}}]),f}();function h(x,g,D,$,L){var P=x.imageData.data;x=4*x.index++,P[x++]=g,P[x++]=D,P[x++]=$,P[+x]=L}var d=Math.sqrt(3),m=function(){function f(g){i(this,f),this.font=g,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={}}return a(f,[{key:"getGlyphInfo",value:function(g){var D=this.glyphInfos[g.index];if(!D){var $=g.getBoundingBox(),L=$.x1,P=$.y1,x=$.x2-L,U=$.y2-P,I=g.path.commands;if(0==x||0==U||!I.length)return this.glyphInfos[g.index]={};for(var F=[],R=[],Z=[],oe=8;0<=oe;--oe)Z.push([]);for(oe=8;0<=oe;--oe)R.push([]);var q,re,W,G,K=function(){function Vt(mr,Kt,hr,It){i(this,Vt),this.p0=mr,this.c0=Kt,this.c1=hr,this.p1=It}return a(Vt,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return y.default.Vector.sub(y.default.Vector.sub(this.p1,this.p0),y.default.Vector.mult(y.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(lr){var Kt=y.default.Vector.lerp(this.p0,this.c0,lr),It=y.default.Vector.lerp(this.c0,this.c1,lr),hr=y.default.Vector.lerp(Kt,It,lr);return this.c1=y.default.Vector.lerp(this.c1,this.p1,lr),this.c0=y.default.Vector.lerp(It,this.c1,lr),It=y.default.Vector.lerp(hr,this.c0,lr),lr=new Vt(this.p0,Kt,hr,It),this.p0=It,lr}},{key:"splitInflections",value:function(){var mr=y.default.Vector.sub(this.c0,this.p0),Kt=y.default.Vector.sub(y.default.Vector.sub(this.c1,this.c0),mr),hr=y.default.Vector.sub(y.default.Vector.sub(y.default.Vector.sub(this.p1,this.c1),mr),y.default.Vector.mult(Kt,2)),It=[],lr=Kt.x*hr.y-Kt.y*hr.x;return 0!==lr&&0<=(mr=(hr=mr.x*hr.y-mr.y*hr.x)*hr-4*lr*(mr.x*Kt.y-mr.y*Kt.x))&&(lr<0&&(lr=-lr,hr=-hr),mr=(-hr+(Kt=Math.sqrt(mr)))/(2*lr),0<(hr=(-hr-Kt)/(2*lr))&&hr<1&&(It.push(this.split(hr)),mr=1-(1-mr)/(1-hr)),0<mr&&mr<1&&It.push(this.split(mr))),It.push(this),It}}]),Vt}(),ue=!0,Me=!1,Y=void 0;try{for(var j,te=I[Symbol.iterator]();!(ue=(j=te.next()).done);ue=!0){var me=j.value,xe=(me.x-L)/x,Be=(me.y-P)/U;if(!$t(q,re,xe,Be)){switch(me.type){case"M":W=xe,G=Be;break;case"L":Wt(q,re,xe,Be);break;case"Q":var qe=(me.x1-L)/x,ct=(me.y1-P)/U;ft([q,xe,qe],[re,Be,ct],{x:q,y:re,cx:qe,cy:ct});break;case"Z":$t(q,re,W,G)?F.push({x:q,y:re}):(Wt(q,re,W,G),F.push({x:W,y:G}));break;case"C":for(var ze=function(We,Ot,Xt,hr,It,lr,Ht,$e){We=new K(new y.default.Vector(We,Ot),new y.default.Vector(Xt,hr),new y.default.Vector(It,lr),new y.default.Vector(Ht,$e)).splitInflections();var Pe=[],Xe=30/d,wt=!0;Ot=!1,Xt=void 0;try{for(var Ct,Bt=We[Symbol.iterator]();!(wt=(Ct=Bt.next()).done);wt=!0){for(var er=Ct.value,or=[],Rt=void 0;!(.125<=(Rt=Xe/er.quadError()));){var mt=Math.pow(Rt,.3333333333333333),Ut=er.split(mt),yt=er.split(1-mt/(1-mt));Pe.push(Ut),or.push(er),er=yt}Rt<1&&Pe.push(er.split(.5)),Pe.push(er),Array.prototype.push.apply(Pe,or.reverse())}}catch(Lt){Ot=!0,Xt=Lt}finally{try{wt||null==Bt.return||Bt.return()}finally{if(Ot)throw Xt}}return Pe}(q,re,(me.x1-L)/x,(me.y1-P)/U,(me.x2-L)/x,(me.y2-P)/U,xe,Be),st=0;st<ze.length;st++){var lt=ze[st].toQuadratic();ft([lt.x,lt.x1,lt.cx],[lt.y,lt.y1,lt.cy],lt)}break;default:throw new Error("unknown command type: ".concat(me.type))}q=xe,re=Be}}}catch(Vt){Me=!0,Y=Vt}finally{try{ue||null==te.return||te.return()}finally{if(Me)throw Y}}for(var Fe=F.length,rt=this.strokeImageInfos.findImage(Fe),Ye=rt.index,ot=0;ot<Fe;++ot){var Je=F[ot];h(rt,Pt(Je.x),Pt(Je.y),Pt(Je.cx),Pt(Je.cy))}(D=this.glyphInfos[g.index]={glyph:g,uGlyphRect:[$.x1,-$.y1,$.x2,-$.y2],strokeImageInfo:rt,strokes:F,colInfo:cr(Z,this.colDimImageInfos,this.colCellImageInfos),rowInfo:cr(R,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[D.colInfo.dimOffset,D.rowInfo.dimOffset]}return D;function ft(Vt,mr,Kt){var hr=F.length;function It(Pe,Xe,wt){for(var Ot=Pe.length;0<Ot--;){var Xt=Pe[Ot];Xt<Xe&&(Xe=Xt),wt<Xt&&(wt=Xt)}return{min:Xe,max:wt}}F.push(Kt),Kt=It(Vt,1,0),Vt=Math.max(Math.floor(9*Kt.min-.5),0);for(var lr=Math.min(Math.ceil(9*Kt.max+.5),9),Ht=Vt;Ht<lr;++Ht)Z[Ht].push(hr);Kt=It(mr,1,0),Vt=Math.max(Math.floor(9*Kt.min-.5),0);for(var $e=Math.min(Math.ceil(9*Kt.max+.5),9),We=Vt;We<$e;++We)R[We].push(hr)}function Pt(Vt){return(Vt=255*Vt)<0?0:255<Vt?255:Vt}function Wt(Vt,mr,Kt,hr){ft([Vt,Kt],[mr,hr],{x:Vt,y:mr,cx:(Vt+Kt)/2,cy:(mr+hr)/2})}function $t(Vt,mr,Kt,hr){return Math.abs(Kt-Vt)<1e-5&&Math.abs(hr-mr)<1e-5}function cr(Vt,mr,Kt){for(var hr=Vt.length,It=mr.findImage(hr),lr=(mr=It.index,0),Ht=0;Ht<hr;++Ht)lr+=Vt[Ht].length;for(var $e=Kt.findImage(lr),We=0;We<hr;++We){var Pe=Vt[We],Xe=Pe.length,wt=$e.index;h(It,wt>>7,127&wt,Xe>>7,127&Xe);for(var Ot=0;Ot<Xe;++Ot){var Xt=Pe[Ot]+Ye;h($e,Xt>>7,127&Xt,0,0)}}return{cellImageInfo:$e,dimOffset:mr,dimImageInfo:It}}}}]),f}();y.default.RendererGL.prototype._renderText=function(f,g,D,$,L){if(this._textFont&&"string"!=typeof this._textFont){if(!(L<=$)&&this._doFill){if(this._isOpenType()){f.push(),L=this._doStroke;var P=this.drawMode,x=(this._doStroke=!1,this.drawMode=E.TEXTURE,this._textFont.font),U=(U=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(x)),I=(D=this._textFont._handleAlignment(this,g,D,$),$=this._textSize/x.unitsPerEm,this.translate(D.x,D.y,0),this.scale($,$,1),this.GL),F=(D=!this._defaultFontShader,this._getFontShader()),R=(F.init(),F.bindShader(),D&&(F.setUniform("uGridImageSize",[64,64]),F.setUniform("uCellsImageSize",[64,64]),F.setUniform("uStrokeImageSize",[64,64]),F.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),Z=(R||(($=this._textGeom=new y.default.Geometry(1,1,function(){for(var st=0;st<=1;st++)for(var lt=0;lt<=1;lt++)this.vertices.push(new y.default.Vector(lt,st,0)),this.uvs.push(lt,st)})).computeFaces().computeNormals(),R=this.createBuffers("glyph",$)),!0);D=!1,$=void 0;try{for(var oe,q=this.retainedMode.buffers.text[Symbol.iterator]();!(Z=(oe=q.next()).done);Z=!0)oe.value._prepareBuffer(R,F)}catch(st){D=!0,$=st}finally{try{Z||null==q.return||q.return()}finally{if(D)throw $}}this._bindBuffer(R.indexBuffer,I.ELEMENT_ARRAY_BUFFER),F.setUniform("uMaterialColor",this.curFillColor),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var re=0,W=null,G=x.stringToGlyphs(g),K=!0,ue=!1,Me=void 0;try{for(var Y,j=G[Symbol.iterator]();!(K=(Y=j.next()).done);K=!0){var te,me,xe=Y.value,Be=(W&&(re+=x.getKerningValue(W,xe)),U.getGlyphInfo(xe));Be.uGlyphRect&&(te=Be.rowInfo,me=Be.colInfo,F.setUniform("uSamplerStrokes",Be.strokeImageInfo.imageData),F.setUniform("uSamplerRowStrokes",te.cellImageInfo.imageData),F.setUniform("uSamplerRows",te.dimImageInfo.imageData),F.setUniform("uSamplerColStrokes",me.cellImageInfo.imageData),F.setUniform("uSamplerCols",me.dimImageInfo.imageData),F.setUniform("uGridOffset",Be.uGridOffset),F.setUniform("uGlyphRect",Be.uGlyphRect),F.setUniform("uGlyphOffset",re),F.bindTextures(),I.drawElements(I.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),re+=xe.advanceWidth,W=xe}}catch(st){ue=!0,Me=st}finally{try{K||null==j.return||j.return()}finally{if(ue)throw Me}}}finally{F.unbindShader(),this._doStroke=L,this.drawMode=P,I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),f.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return f}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)},4023:(Dr,rr,we)=>{function M(i){this.mode=Qe.MODE_8BIT_BYTE,this.data=i,this.parsedData=[];for(var l=0,a=this.data.length;l<a;l++){var u=[],h=this.data.charCodeAt(l);h>65536?(u[0]=240|(1835008&h)>>>18,u[1]=128|(258048&h)>>>12,u[2]=128|(4032&h)>>>6,u[3]=128|63&h):h>2048?(u[0]=224|(61440&h)>>>12,u[1]=128|(4032&h)>>>6,u[2]=128|63&h):h>128?(u[0]=192|(1984&h)>>>6,u[1]=128|63&h):u[0]=h,this.parsedData.push(u)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function T(i,l){this.typeNumber=i,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}M.prototype={getLength:function(i){return this.parsedData.length},write:function(i){for(var l=0,a=this.parsedData.length;l<a;l++)i.put(this.parsedData[l],8)}},T.prototype={addData:function(i){var l=new M(i);this.dataList.push(l),this.dataCache=null},isDark:function(i,l){if(i<0||this.moduleCount<=i||l<0||this.moduleCount<=l)throw new Error(i+","+l);return this.modules[i][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(i,l){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++)this.modules[a][u]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(i,l),this.typeNumber>=7&&this.setupTypeNumber(i),null==this.dataCache&&(this.dataCache=T.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(i,l){for(var a=-1;a<=7;a++)if(!(i+a<=-1||this.moduleCount<=i+a))for(var u=-1;u<=7;u++)l+u<=-1||this.moduleCount<=l+u||(this.modules[i+a][l+u]=0<=a&&a<=6&&(0==u||6==u)||0<=u&&u<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=u&&u<=4)},getBestMaskPattern:function(){for(var i=0,l=0,a=0;a<8;a++){this.makeImpl(!0,a);var u=se.getLostPoint(this);(0==a||i>u)&&(i=u,l=a)}return l},createMovieClip:function(i,l,a){var u=i.createEmptyMovieClip(l,a);this.make();for(var d=0;d<this.modules.length;d++)for(var m=1*d,f=0;f<this.modules[d].length;f++){var g=1*f;this.modules[d][f]&&(u.beginFill(0,100),u.moveTo(g,m),u.lineTo(g+1,m),u.lineTo(g+1,m+1),u.lineTo(g,m+1),u.endFill())}return u},setupTimingPattern:function(){for(var i=8;i<this.moduleCount-8;i++)null==this.modules[i][6]&&(this.modules[i][6]=i%2==0);for(var l=8;l<this.moduleCount-8;l++)null==this.modules[6][l]&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var i=se.getPatternPosition(this.typeNumber),l=0;l<i.length;l++)for(var a=0;a<i.length;a++){var u=i[l],h=i[a];if(null==this.modules[u][h])for(var d=-2;d<=2;d++)for(var m=-2;m<=2;m++)this.modules[u+d][h+m]=-2==d||2==d||-2==m||2==m||0==d&&0==m}},setupTypeNumber:function(i){for(var l=se.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var u=!i&&1==(l>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=u}for(a=0;a<18;a++)u=!i&&1==(l>>a&1),this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=u},setupTypeInfo:function(i,l){for(var u=se.getBCHTypeInfo(this.errorCorrectLevel<<3|l),h=0;h<15;h++){var d=!i&&1==(u>>h&1);h<6?this.modules[h][8]=d:h<8?this.modules[h+1][8]=d:this.modules[this.moduleCount-15+h][8]=d}for(h=0;h<15;h++)d=!i&&1==(u>>h&1),h<8?this.modules[8][this.moduleCount-h-1]=d:h<9?this.modules[8][15-h-1+1]=d:this.modules[8][15-h-1]=d;this.modules[this.moduleCount-8][8]=!i},mapData:function(i,l){for(var a=-1,u=this.moduleCount-1,h=7,d=0,m=this.moduleCount-1;m>0;m-=2)for(6==m&&m--;;){for(var f=0;f<2;f++)if(null==this.modules[u][m-f]){var g=!1;d<i.length&&(g=1==(i[d]>>>h&1)),se.getMask(l,u,m-f)&&(g=!g),this.modules[u][m-f]=g,-1==--h&&(d++,h=7)}if((u+=a)<0||this.moduleCount<=u){u-=a,a=-a;break}}}},T.PAD0=236,T.PAD1=17,T.createData=function(i,l,a){for(var u=p.getRSBlocks(i,l),h=new y,d=0;d<a.length;d++){var m=a[d];h.put(m.mode,4),h.put(m.getLength(),se.getLengthInBits(m.mode,i)),m.write(h)}var f=0;for(d=0;d<u.length;d++)f+=u[d].dataCount;if(h.getLengthInBits()>8*f)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+8*f+")");for(h.getLengthInBits()+4<=8*f&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=8*f||(h.put(T.PAD0,8),h.getLengthInBits()>=8*f));)h.put(T.PAD1,8);return T.createBytes(h,u)},T.createBytes=function(i,l){for(var a=0,u=0,h=0,d=new Array(l.length),m=new Array(l.length),f=0;f<l.length;f++){var g=l[f].dataCount,D=l[f].totalCount-g;u=Math.max(u,g),h=Math.max(h,D),d[f]=new Array(g);for(var $=0;$<d[f].length;$++)d[f][$]=255&i.buffer[$+a];a+=g;var L=se.getErrorCorrectPolynomial(D),x=new b(d[f],L.getLength()-1).mod(L);for(m[f]=new Array(L.getLength()-1),$=0;$<m[f].length;$++){var U=$+x.getLength()-m[f].length;m[f][$]=U>=0?x.get(U):0}}var I=0;for($=0;$<l.length;$++)I+=l[$].totalCount;var F=new Array(I),R=0;for($=0;$<u;$++)for(f=0;f<l.length;f++)$<d[f].length&&(F[R++]=d[f][$]);for($=0;$<h;$++)for(f=0;f<l.length;f++)$<m[f].length&&(F[R++]=m[f][$]);return F};for(var Qe={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Et={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},se={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var l=i<<10;se.getBCHDigit(l)-se.getBCHDigit(se.G15)>=0;)l^=se.G15<<se.getBCHDigit(l)-se.getBCHDigit(se.G15);return(i<<10|l)^se.G15_MASK},getBCHTypeNumber:function(i){for(var l=i<<12;se.getBCHDigit(l)-se.getBCHDigit(se.G18)>=0;)l^=se.G18<<se.getBCHDigit(l)-se.getBCHDigit(se.G18);return i<<12|l},getBCHDigit:function(i){for(var l=0;0!=i;)l++,i>>>=1;return l},getPatternPosition:function(i){return se.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,l,a){switch(i){case o.PATTERN000:return(l+a)%2==0;case o.PATTERN001:return l%2==0;case o.PATTERN010:return a%3==0;case o.PATTERN011:return(l+a)%3==0;case o.PATTERN100:return(Math.floor(l/2)+Math.floor(a/3))%2==0;case o.PATTERN101:return l*a%2+l*a%3==0;case o.PATTERN110:return(l*a%2+l*a%3)%2==0;case o.PATTERN111:return(l*a%3+(l+a)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var l=new b([1],0),a=0;a<i;a++)l=l.multiply(new b([1,V.gexp(a)],0));return l},getLengthInBits:function(i,l){if(1<=l&&l<10)switch(i){case Qe.MODE_NUMBER:return 10;case Qe.MODE_ALPHA_NUM:return 9;case Qe.MODE_8BIT_BYTE:case Qe.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(l<27)switch(i){case Qe.MODE_NUMBER:return 12;case Qe.MODE_ALPHA_NUM:return 11;case Qe.MODE_8BIT_BYTE:return 16;case Qe.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else{if(!(l<41))throw new Error("type:"+l);switch(i){case Qe.MODE_NUMBER:return 14;case Qe.MODE_ALPHA_NUM:return 13;case Qe.MODE_8BIT_BYTE:return 16;case Qe.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}}},getLostPoint:function(i){for(var l=i.getModuleCount(),a=0,u=0;u<l;u++)for(var h=0;h<l;h++){for(var d=0,m=i.isDark(u,h),f=-1;f<=1;f++)if(!(u+f<0||l<=u+f))for(var g=-1;g<=1;g++)h+g<0||l<=h+g||0==f&&0==g||m==i.isDark(u+f,h+g)&&d++;d>5&&(a+=3+d-5)}for(u=0;u<l-1;u++)for(h=0;h<l-1;h++){var D=0;i.isDark(u,h)&&D++,i.isDark(u+1,h)&&D++,i.isDark(u,h+1)&&D++,i.isDark(u+1,h+1)&&D++,(0==D||4==D)&&(a+=3)}for(u=0;u<l;u++)for(h=0;h<l-6;h++)i.isDark(u,h)&&!i.isDark(u,h+1)&&i.isDark(u,h+2)&&i.isDark(u,h+3)&&i.isDark(u,h+4)&&!i.isDark(u,h+5)&&i.isDark(u,h+6)&&(a+=40);for(h=0;h<l;h++)for(u=0;u<l-6;u++)i.isDark(u,h)&&!i.isDark(u+1,h)&&i.isDark(u+2,h)&&i.isDark(u+3,h)&&i.isDark(u+4,h)&&!i.isDark(u+5,h)&&i.isDark(u+6,h)&&(a+=40);var $=0;for(h=0;h<l;h++)for(u=0;u<l;u++)i.isDark(u,h)&&$++;return a+Math.abs(100*$/l/l-50)/5*10}},V={glog:function(i){if(i<1)throw new Error("glog("+i+")");return V.LOG_TABLE[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return V.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)V.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)V.EXP_TABLE[v]=V.EXP_TABLE[v-4]^V.EXP_TABLE[v-5]^V.EXP_TABLE[v-6]^V.EXP_TABLE[v-8];for(v=0;v<255;v++)V.LOG_TABLE[V.EXP_TABLE[v]]=v;function b(i,l){if(null==i.length)throw new Error(i.length+"/"+l);for(var a=0;a<i.length&&0==i[a];)a++;this.num=new Array(i.length-a+l);for(var u=0;u<i.length-a;u++)this.num[u]=i[u+a]}function p(i,l){this.totalCount=i,this.dataCount=l}function y(){this.buffer=[],this.length=0}b.prototype={get:function(i){return this.num[i]},getLength:function(){return this.num.length},multiply:function(i){for(var l=new Array(this.getLength()+i.getLength()-1),a=0;a<this.getLength();a++)for(var u=0;u<i.getLength();u++)l[a+u]^=V.gexp(V.glog(this.get(a))+V.glog(i.get(u)));return new b(l,0)},mod:function(i){if(this.getLength()-i.getLength()<0)return this;for(var l=V.glog(this.get(0))-V.glog(i.get(0)),a=new Array(this.getLength()),u=0;u<this.getLength();u++)a[u]=this.get(u);for(u=0;u<i.getLength();u++)a[u]^=V.gexp(V.glog(i.get(u))+l);return new b(a,0).mod(i)}},p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(i,l){var a=p.getRsBlockTable(i,l);if(null==a)throw new Error("bad rs block @ typeNumber:"+i+"/errorCorrectLevel:"+l);for(var u=a.length/3,h=[],d=0;d<u;d++)for(var m=a[3*d+0],f=a[3*d+1],g=a[3*d+2],D=0;D<m;D++)h.push(new p(f,g));return h},p.getRsBlockTable=function(i,l){switch(l){case Et.L:return p.RS_BLOCK_TABLE[4*(i-1)+0];case Et.M:return p.RS_BLOCK_TABLE[4*(i-1)+1];case Et.Q:return p.RS_BLOCK_TABLE[4*(i-1)+2];case Et.H:return p.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},y.prototype={get:function(i){var l=Math.floor(i/8);return 1==(this.buffer[l]>>>7-i%8&1)},put:function(i,l){for(var a=0;a<l;a++)this.putBit(1==(i>>>l-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(i){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),i&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var E=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function _(i){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof i&&(i={content:i}),i)for(var a in i)this.options[a]=i[a];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var m=this.options.content,f=function h(D,$){for(var L=function d(D){var $=encodeURI(D).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return $.length+($.length!=D?3:0)}(D),P=1,x=0,U=0,I=E.length;U<=I;U++){var F=E[U];if(!F)throw new Error("Content too long: expected "+x+" but got "+L);switch($){case"L":x=F[0];break;case"M":x=F[1];break;case"Q":x=F[2];break;case"H":x=F[3];break;default:throw new Error("Unknwon error correction level: "+$)}if(L<=x)break;P++}if(P>E.length)throw new Error("Content too long");return P}(m,this.options.ecl),g=function u(D){switch(D){case"L":return Et.L;case"M":return Et.M;case"Q":return Et.Q;case"H":return Et.H;default:throw new Error("Unknwon error correction level: "+D)}}(this.options.ecl);this.qrcode=new T(f,g),this.qrcode.addData(m),this.qrcode.make()}_.prototype.svg=function(i){var l=this.options||{},a=this.qrcode.modules;typeof i>"u"&&(i={container:l.container||"svg"});for(var u=!(typeof l.pretty<"u"&&!l.pretty),h=u?"  ":"",d=u?"\r\n":"",m=l.width,f=l.height,g=a.length,D=m/(g+2*l.padding),$=f/(g+2*l.padding),L=typeof l.join<"u"&&!!l.join,P=typeof l.swap<"u"&&!!l.swap,x=!(typeof l.xmlDeclaration<"u"&&!l.xmlDeclaration),U=typeof l.predefined<"u"&&!!l.predefined,I=U?h+'<defs><path id="qrmodule" d="M0 0 h'+$+" v"+D+' H0 z" style="fill:'+l.color+';shape-rendering:crispEdges;" /></defs>'+d:"",F=h+'<rect x="0" y="0" width="'+m+'" height="'+f+'" style="fill:'+l.background+';shape-rendering:crispEdges;"/>'+d,R="",Z="",oe=0;oe<g;oe++)for(var q=0;q<g;q++)if(a[q][oe]){var W=q*D+l.padding*D,G=oe*$+l.padding*$;if(P){var K=W;W=G,G=K}if(L){var ue=D+W,Me=$+G;W=Number.isInteger(W)?Number(W):W.toFixed(2),G=Number.isInteger(G)?Number(G):G.toFixed(2),ue=Number.isInteger(ue)?Number(ue):ue.toFixed(2),Z+="M"+W+","+G+" V"+(Me=Number.isInteger(Me)?Number(Me):Me.toFixed(2))+" H"+ue+" V"+G+" H"+W+" Z "}else R+=U?h+'<use x="'+W.toString()+'" y="'+G.toString()+'" href="#qrmodule" />'+d:h+'<rect x="'+W.toString()+'" y="'+G.toString()+'" width="'+D+'" height="'+$+'" style="fill:'+l.color+';shape-rendering:crispEdges;"/>'+d}L&&(R=h+'<path x="0" y="0" style="fill:'+l.color+';shape-rendering:crispEdges;" d="'+Z+'" />');var Y="";switch(i.container){case"svg":x&&(Y+='<?xml version="1.0" standalone="yes"?>'+d),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+m+'" height="'+f+'">'+d,Y+=I+F+R,Y+="</svg>";break;case"svg-viewbox":x&&(Y+='<?xml version="1.0" standalone="yes"?>'+d),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+m+" "+f+'">'+d,Y+=I+F+R,Y+="</svg>";break;case"g":Y+='<g width="'+m+'" height="'+f+'">'+d,Y+=I+F+R,Y+="</g>";break;default:Y+=(I+F+R).replace(/^\s+/,"")}return Y},_.prototype.save=function(i,l){var a=this.svg();"function"!=typeof l&&(l=function(h,d){});try{we(Object(function(){var d=new Error("Cannot find module 'fs'");throw d.code="MODULE_NOT_FOUND",d}())).writeFile(i,a,l)}catch(h){l(h)}},Dr.exports=_},4412:(Dr,rr,we)=>{"use strict";we.d(rr,{t:()=>T});var M=we(1413);class T extends M.B{constructor(Et){super(),this._value=Et}get value(){return this.getValue()}_subscribe(Et){const o=super._subscribe(Et);return!o.closed&&Et.next(this._value),o}getValue(){const{hasError:Et,thrownError:o,_value:se}=this;if(Et)throw o;return this._throwIfClosed(),se}next(Et){super.next(this._value=Et)}}},1985:(Dr,rr,we)=>{"use strict";we.d(rr,{c:()=>v});var M=we(7707),T=we(8359),Qe=we(3494),Et=we(1203),o=we(1026),se=we(8071),V=we(9786);let v=(()=>{class E{constructor(i){i&&(this._subscribe=i)}lift(i){const l=new E;return l.source=this,l.operator=i,l}subscribe(i,l,a){const u=function y(E){return E&&E instanceof M.vU||function p(E){return E&&(0,se.T)(E.next)&&(0,se.T)(E.error)&&(0,se.T)(E.complete)}(E)&&(0,T.Uv)(E)}(i)?i:new M.Ms(i,l,a);return(0,V.Y)(()=>{const{operator:h,source:d}=this;u.add(h?h.call(u,d):d?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(i){try{return this._subscribe(i)}catch(l){i.error(l)}}forEach(i,l){return new(l=b(l))((a,u)=>{const h=new M.Ms({next:d=>{try{i(d)}catch(m){u(m),h.unsubscribe()}},error:u,complete:a});this.subscribe(h)})}_subscribe(i){var l;return null===(l=this.source)||void 0===l?void 0:l.subscribe(i)}[Qe.s](){return this}pipe(...i){return(0,Et.m)(i)(this)}toPromise(i){return new(i=b(i))((l,a)=>{let u;this.subscribe(h=>u=h,h=>a(h),()=>l(u))})}}return E.create=_=>new E(_),E})();function b(E){var _;return null!==(_=null!=E?E:o.$.Promise)&&void 0!==_?_:Promise}},1413:(Dr,rr,we)=>{"use strict";we.d(rr,{B:()=>V});var M=we(1985),T=we(8359);const Et=(0,we(1853).L)(b=>function(){b(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=we(7908),se=we(9786);let V=(()=>{class b extends M.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const E=new v(this,this);return E.operator=y,E}_throwIfClosed(){if(this.closed)throw new Et}next(y){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const E of this.currentObservers)E.next(y)}})}error(y){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:E}=this;for(;E.length;)E.shift().error(y)}})}complete(){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:E,isStopped:_,observers:i}=this;return E||_?T.Kn:(this.currentObservers=null,i.push(y),new T.yU(()=>{this.currentObservers=null,(0,o.o)(i,y)}))}_checkFinalizedStatuses(y){const{hasError:E,thrownError:_,isStopped:i}=this;E?y.error(_):i&&y.complete()}asObservable(){const y=new M.c;return y.source=this,y}}return b.create=(p,y)=>new v(p,y),b})();class v extends V{constructor(p,y){super(),this.destination=p,this.source=y}next(p){var y,E;null===(E=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===E||E.call(y,p)}error(p){var y,E;null===(E=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===E||E.call(y,p)}complete(){var p,y;null===(y=null===(p=this.destination)||void 0===p?void 0:p.complete)||void 0===y||y.call(p)}_subscribe(p){var y,E;return null!==(E=null===(y=this.source)||void 0===y?void 0:y.subscribe(p))&&void 0!==E?E:T.Kn}}},7707:(Dr,rr,we)=>{"use strict";we.d(rr,{Ms:()=>a,vU:()=>E});var M=we(8071),T=we(8359),Qe=we(1026),Et=we(5334),o=we(5343);const se=b("C",void 0,void 0);function b(f,g,D){return{kind:f,value:g,error:D}}var p=we(9270),y=we(9786);class E extends T.yU{constructor(g){super(),this.isStopped=!1,g?(this.destination=g,(0,T.Uv)(g)&&g.add(this)):this.destination=m}static create(g,D,$){return new a(g,D,$)}next(g){this.isStopped?d(function v(f){return b("N",f,void 0)}(g),this):this._next(g)}error(g){this.isStopped?d(function V(f){return b("E",void 0,f)}(g),this):(this.isStopped=!0,this._error(g))}complete(){this.isStopped?d(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(g){this.destination.next(g)}_error(g){try{this.destination.error(g)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function i(f,g){return _.call(f,g)}class l{constructor(g){this.partialObserver=g}next(g){const{partialObserver:D}=this;if(D.next)try{D.next(g)}catch($){u($)}}error(g){const{partialObserver:D}=this;if(D.error)try{D.error(g)}catch($){u($)}else u(g)}complete(){const{partialObserver:g}=this;if(g.complete)try{g.complete()}catch(D){u(D)}}}class a extends E{constructor(g,D,$){let L;if(super(),(0,M.T)(g)||!g)L={next:null!=g?g:void 0,error:null!=D?D:void 0,complete:null!=$?$:void 0};else{let P;this&&Qe.$.useDeprecatedNextContext?(P=Object.create(g),P.unsubscribe=()=>this.unsubscribe(),L={next:g.next&&i(g.next,P),error:g.error&&i(g.error,P),complete:g.complete&&i(g.complete,P)}):L=g}this.destination=new l(L)}}function u(f){Qe.$.useDeprecatedSynchronousErrorHandling?(0,y.l)(f):(0,Et.m)(f)}function d(f,g){const{onStoppedNotification:D}=Qe.$;D&&p.f.setTimeout(()=>D(f,g))}const m={closed:!0,next:o.l,error:function h(f){throw f},complete:o.l}},8359:(Dr,rr,we)=>{"use strict";we.d(rr,{Kn:()=>se,yU:()=>o,Uv:()=>V});var M=we(8071);const Qe=(0,we(1853).L)(b=>function(y){b(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((E,_)=>`${_+1}) ${E.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y});var Et=we(7908);class o{constructor(p){this.initialTeardown=p,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let p;if(!this.closed){this.closed=!0;const{_parentage:y}=this;if(y)if(this._parentage=null,Array.isArray(y))for(const i of y)i.remove(this);else y.remove(this);const{initialTeardown:E}=this;if((0,M.T)(E))try{E()}catch(i){p=i instanceof Qe?i.errors:[i]}const{_finalizers:_}=this;if(_){this._finalizers=null;for(const i of _)try{v(i)}catch(l){p=null!=p?p:[],l instanceof Qe?p=[...p,...l.errors]:p.push(l)}}if(p)throw new Qe(p)}}add(p){var y;if(p&&p!==this)if(this.closed)v(p);else{if(p instanceof o){if(p.closed||p._hasParent(this))return;p._addParent(this)}(this._finalizers=null!==(y=this._finalizers)&&void 0!==y?y:[]).push(p)}}_hasParent(p){const{_parentage:y}=this;return y===p||Array.isArray(y)&&y.includes(p)}_addParent(p){const{_parentage:y}=this;this._parentage=Array.isArray(y)?(y.push(p),y):y?[y,p]:p}_removeParent(p){const{_parentage:y}=this;y===p?this._parentage=null:Array.isArray(y)&&(0,Et.o)(y,p)}remove(p){const{_finalizers:y}=this;y&&(0,Et.o)(y,p),p instanceof o&&p._removeParent(this)}}o.EMPTY=(()=>{const b=new o;return b.closed=!0,b})();const se=o.EMPTY;function V(b){return b instanceof o||b&&"closed"in b&&(0,M.T)(b.remove)&&(0,M.T)(b.add)&&(0,M.T)(b.unsubscribe)}function v(b){(0,M.T)(b)?b():b.unsubscribe()}},1026:(Dr,rr,we)=>{"use strict";we.d(rr,{$:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(Dr,rr,we)=>{"use strict";we.d(rr,{G:()=>se});var M=we(1985),T=we(8359),Qe=we(9898),Et=we(4360),o=we(9974);class se extends M.c{constructor(v,b){super(),this.source=v,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,o.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new T.yU;const b=this.getSubject();v.add(this.source.subscribe((0,Et._)(b,void 0,()=>{this._teardown(),b.complete()},p=>{this._teardown(),b.error(p)},()=>this._teardown()))),v.closed&&(this._connection=null,v=T.yU.EMPTY)}return v}refCount(){return(0,Qe.B)()(this)}}},4572:(Dr,rr,we)=>{"use strict";we.d(rr,{z:()=>p});var M=we(1985),T=we(3073),Qe=we(6648),Et=we(3669),o=we(6450),se=we(9326),V=we(8496),v=we(4360),b=we(5225);function p(..._){const i=(0,se.lI)(_),l=(0,se.ms)(_),{args:a,keys:u}=(0,T.D)(_);if(0===a.length)return(0,Qe.H)([],i);const h=new M.c(function y(_,i,l=Et.D){return a=>{E(i,()=>{const{length:u}=_,h=new Array(u);let d=u,m=u;for(let f=0;f<u;f++)E(i,()=>{const g=(0,Qe.H)(_[f],i);let D=!1;g.subscribe((0,v._)(a,$=>{h[f]=$,D||(D=!0,m--),m||a.next(l(h.slice()))},()=>{--d||a.complete()}))},a)},a)}}(a,i,u?d=>(0,V.e)(u,d):Et.D));return l?h.pipe((0,o.I)(l)):h}function E(_,i,l){_?(0,b.N)(l,_,i):i()}},8793:(Dr,rr,we)=>{"use strict";we.d(rr,{x:()=>o});var M=we(6365),Qe=we(9326),Et=we(6648);function o(...se){return function T(){return(0,M.U)(1)}()((0,Et.H)(se,(0,Qe.lI)(se)))}},9030:(Dr,rr,we)=>{"use strict";we.d(rr,{v:()=>Qe});var M=we(1985),T=we(8750);function Qe(Et){return new M.c(o=>{(0,T.Tg)(Et()).subscribe(o)})}},983:(Dr,rr,we)=>{"use strict";we.d(rr,{w:()=>T});const T=new(we(1985).c)(o=>o.complete())},6648:(Dr,rr,we)=>{"use strict";we.d(rr,{H:()=>$});var M=we(8750),T=we(5225),Qe=we(9974),Et=we(4360);function o(L,P=0){return(0,Qe.N)((x,U)=>{x.subscribe((0,Et._)(U,I=>(0,T.N)(U,L,()=>U.next(I),P),()=>(0,T.N)(U,L,()=>U.complete(),P),I=>(0,T.N)(U,L,()=>U.error(I),P)))})}function se(L,P=0){return(0,Qe.N)((x,U)=>{U.add(L.schedule(()=>x.subscribe(U),P))})}var b=we(1985),y=we(4761),E=we(8071);function i(L,P){if(!L)throw new Error("Iterable cannot be null");return new b.c(x=>{(0,T.N)(x,P,()=>{const U=L[Symbol.asyncIterator]();(0,T.N)(x,P,()=>{U.next().then(I=>{I.done?x.complete():x.next(I.value)})},0,!0)})})}var l=we(5055),a=we(7477),u=we(7441),h=we(5397),d=we(7953),m=we(591),f=we(5196);function $(L,P){return P?function D(L,P){if(null!=L){if((0,l.l)(L))return function V(L,P){return(0,M.Tg)(L).pipe(se(P),o(P))}(L,P);if((0,u.X)(L))return function p(L,P){return new b.c(x=>{let U=0;return P.schedule(function(){U===L.length?x.complete():(x.next(L[U++]),x.closed||this.schedule())})})}(L,P);if((0,a.y)(L))return function v(L,P){return(0,M.Tg)(L).pipe(se(P),o(P))}(L,P);if((0,d.T)(L))return i(L,P);if((0,h.x)(L))return function _(L,P){return new b.c(x=>{let U;return(0,T.N)(x,P,()=>{U=L[y.l](),(0,T.N)(x,P,()=>{let I,F;try{({value:I,done:F}=U.next())}catch(R){return void x.error(R)}F?x.complete():x.next(I)},0,!0)}),()=>(0,E.T)(null==U?void 0:U.return)&&U.return()})}(L,P);if((0,f.U)(L))return function g(L,P){return i((0,f.C)(L),P)}(L,P)}throw(0,m.L)(L)}(L,P):(0,M.Tg)(L)}},3726:(Dr,rr,we)=>{"use strict";we.d(rr,{R:()=>p});var M=we(8750),T=we(1985),Qe=we(1397),Et=we(7441),o=we(8071),se=we(6450);const V=["addListener","removeListener"],v=["addEventListener","removeEventListener"],b=["on","off"];function p(l,a,u,h){if((0,o.T)(u)&&(h=u,u=void 0),h)return p(l,a,u).pipe((0,se.I)(h));const[d,m]=function i(l){return(0,o.T)(l.addEventListener)&&(0,o.T)(l.removeEventListener)}(l)?v.map(f=>g=>l[f](a,g,u)):function E(l){return(0,o.T)(l.addListener)&&(0,o.T)(l.removeListener)}(l)?V.map(y(l,a)):function _(l){return(0,o.T)(l.on)&&(0,o.T)(l.off)}(l)?b.map(y(l,a)):[];if(!d&&(0,Et.X)(l))return(0,Qe.Z)(f=>p(f,a,u))((0,M.Tg)(l));if(!d)throw new TypeError("Invalid event target");return new T.c(f=>{const g=(...D)=>f.next(1<D.length?D:D[0]);return d(g),()=>m(g)})}function y(l,a){return u=>h=>l[u](a,h)}},8750:(Dr,rr,we)=>{"use strict";we.d(rr,{Tg:()=>_});var M=we(1635),T=we(7441),Qe=we(7477),Et=we(1985),o=we(5055),se=we(7953),V=we(591),v=we(5397),b=we(5196),p=we(8071),y=we(5334),E=we(3494);function _(f){if(f instanceof Et.c)return f;if(null!=f){if((0,o.l)(f))return function i(f){return new Et.c(g=>{const D=f[E.s]();if((0,p.T)(D.subscribe))return D.subscribe(g);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(f);if((0,T.X)(f))return function l(f){return new Et.c(g=>{for(let D=0;D<f.length&&!g.closed;D++)g.next(f[D]);g.complete()})}(f);if((0,Qe.y)(f))return function a(f){return new Et.c(g=>{f.then(D=>{g.closed||(g.next(D),g.complete())},D=>g.error(D)).then(null,y.m)})}(f);if((0,se.T)(f))return h(f);if((0,v.x)(f))return function u(f){return new Et.c(g=>{for(const D of f)if(g.next(D),g.closed)return;g.complete()})}(f);if((0,b.U)(f))return function d(f){return h((0,b.C)(f))}(f)}throw(0,V.L)(f)}function h(f){return new Et.c(g=>{(function m(f,g){var D,$,L,P;return(0,M.sH)(this,void 0,void 0,function*(){try{for(D=(0,M.xN)(f);!($=yield D.next()).done;)if(g.next($.value),g.closed)return}catch(x){L={error:x}}finally{try{$&&!$.done&&(P=D.return)&&(yield P.call(D))}finally{if(L)throw L.error}}g.complete()})})(f,g).catch(D=>g.error(D))})}},7673:(Dr,rr,we)=>{"use strict";we.d(rr,{of:()=>Qe});var M=we(9326),T=we(6648);function Qe(...Et){const o=(0,M.lI)(Et);return(0,T.H)(Et,o)}},8810:(Dr,rr,we)=>{"use strict";we.d(rr,{$:()=>Qe});var M=we(1985),T=we(8071);function Qe(Et,o){const se=(0,T.T)(Et)?Et:()=>Et,V=v=>v.error(se());return new M.c(o?v=>o.schedule(V,0,v):V)}},4360:(Dr,rr,we)=>{"use strict";we.d(rr,{_:()=>T});var M=we(7707);function T(Et,o,se,V,v){return new Qe(Et,o,se,V,v)}class Qe extends M.vU{constructor(o,se,V,v,b,p){super(o),this.onFinalize=b,this.shouldUnsubscribe=p,this._next=se?function(y){try{se(y)}catch(E){o.error(E)}}:super._next,this._error=v?function(y){try{v(y)}catch(E){o.error(E)}finally{this.unsubscribe()}}:super._error,this._complete=V?function(){try{V()}catch(y){o.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},5964:(Dr,rr,we)=>{"use strict";we.d(rr,{p:()=>Qe});var M=we(9974),T=we(4360);function Qe(Et,o){return(0,M.N)((se,V)=>{let v=0;se.subscribe((0,T._)(V,b=>Et.call(o,b,v++)&&V.next(b)))})}},6354:(Dr,rr,we)=>{"use strict";we.d(rr,{T:()=>Qe});var M=we(9974),T=we(4360);function Qe(Et,o){return(0,M.N)((se,V)=>{let v=0;se.subscribe((0,T._)(V,b=>{V.next(Et.call(o,b,v++))}))})}},3703:(Dr,rr,we)=>{"use strict";we.d(rr,{u:()=>T});var M=we(6354);function T(Qe){return(0,M.T)(()=>Qe)}},6365:(Dr,rr,we)=>{"use strict";we.d(rr,{U:()=>Qe});var M=we(1397),T=we(3669);function Qe(Et=1/0){return(0,M.Z)(T.D,Et)}},1397:(Dr,rr,we)=>{"use strict";we.d(rr,{Z:()=>v});var M=we(6354),T=we(8750),Qe=we(9974),Et=we(5225),o=we(4360),V=we(8071);function v(b,p,y=1/0){return(0,V.T)(p)?v((E,_)=>(0,M.T)((i,l)=>p(E,i,_,l))((0,T.Tg)(b(E,_))),y):("number"==typeof p&&(y=p),(0,Qe.N)((E,_)=>function se(b,p,y,E,_,i,l,a){const u=[];let h=0,d=0,m=!1;const f=()=>{m&&!u.length&&!h&&p.complete()},g=$=>h<E?D($):u.push($),D=$=>{i&&p.next($),h++;let L=!1;(0,T.Tg)(y($,d++)).subscribe((0,o._)(p,P=>{null==_||_(P),i?g(P):p.next(P)},()=>{L=!0},void 0,()=>{if(L)try{for(h--;u.length&&h<E;){const P=u.shift();l?(0,Et.N)(p,l,()=>D(P)):D(P)}f()}catch(P){p.error(P)}}))};return b.subscribe((0,o._)(p,g,()=>{m=!0,f()})),()=>{null==a||a()}}(E,_,b,y)))}},9898:(Dr,rr,we)=>{"use strict";we.d(rr,{B:()=>Qe});var M=we(9974),T=we(4360);function Qe(){return(0,M.N)((Et,o)=>{let se=null;Et._refCount++;const V=(0,T._)(o,void 0,void 0,void 0,()=>{if(!Et||Et._refCount<=0||0<--Et._refCount)return void(se=null);const v=Et._connection,b=se;se=null,v&&(!b||v===b)&&v.unsubscribe(),o.unsubscribe()});Et.subscribe(V),V.closed||(se=Et.connect())})}},5558:(Dr,rr,we)=>{"use strict";we.d(rr,{n:()=>Et});var M=we(8750),T=we(9974),Qe=we(4360);function Et(o,se){return(0,T.N)((V,v)=>{let b=null,p=0,y=!1;const E=()=>y&&!b&&v.complete();V.subscribe((0,Qe._)(v,_=>{null==b||b.unsubscribe();let i=0;const l=p++;(0,M.Tg)(o(_,l)).subscribe(b=(0,Qe._)(v,a=>v.next(se?se(_,a,l,i++):a),()=>{b=null,E()}))},()=>{y=!0,E()}))})}},6697:(Dr,rr,we)=>{"use strict";we.d(rr,{s:()=>Et});var M=we(983),T=we(9974),Qe=we(4360);function Et(o){return o<=0?()=>M.w:(0,T.N)((se,V)=>{let v=0;se.subscribe((0,Qe._)(V,b=>{++v<=o&&(V.next(b),o<=v&&V.complete())}))})}},8141:(Dr,rr,we)=>{"use strict";we.d(rr,{M:()=>o});var M=we(8071),T=we(9974),Qe=we(4360),Et=we(3669);function o(se,V,v){const b=(0,M.T)(se)||V||v?{next:se,error:V,complete:v}:se;return b?(0,T.N)((p,y)=>{var E;null===(E=b.subscribe)||void 0===E||E.call(b);let _=!0;p.subscribe((0,Qe._)(y,i=>{var l;null===(l=b.next)||void 0===l||l.call(b,i),y.next(i)},()=>{var i;_=!1,null===(i=b.complete)||void 0===i||i.call(b),y.complete()},i=>{var l;_=!1,null===(l=b.error)||void 0===l||l.call(b,i),y.error(i)},()=>{var i,l;_&&(null===(i=b.unsubscribe)||void 0===i||i.call(b)),null===(l=b.finalize)||void 0===l||l.call(b)}))}):Et.D}},9270:(Dr,rr,we)=>{"use strict";we.d(rr,{f:()=>M});const M={setTimeout(T,Qe,...Et){const{delegate:o}=M;return null!=o&&o.setTimeout?o.setTimeout(T,Qe,...Et):setTimeout(T,Qe,...Et)},clearTimeout(T){const{delegate:Qe}=M;return((null==Qe?void 0:Qe.clearTimeout)||clearTimeout)(T)},delegate:void 0}},4761:(Dr,rr,we)=>{"use strict";we.d(rr,{l:()=>T});const T=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Dr,rr,we)=>{"use strict";we.d(rr,{s:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Dr,rr,we)=>{"use strict";we.d(rr,{R0:()=>se,lI:()=>o,ms:()=>Et});var M=we(8071),T=we(9470);function Qe(V){return V[V.length-1]}function Et(V){return(0,M.T)(Qe(V))?V.pop():void 0}function o(V){return(0,T.m)(Qe(V))?V.pop():void 0}function se(V,v){return"number"==typeof Qe(V)?V.pop():v}},3073:(Dr,rr,we)=>{"use strict";we.d(rr,{D:()=>o});const{isArray:M}=Array,{getPrototypeOf:T,prototype:Qe,keys:Et}=Object;function o(V){if(1===V.length){const v=V[0];if(M(v))return{args:v,keys:null};if(function se(V){return V&&"object"==typeof V&&T(V)===Qe}(v)){const b=Et(v);return{args:b.map(p=>v[p]),keys:b}}}return{args:V,keys:null}}},7908:(Dr,rr,we)=>{"use strict";function M(T,Qe){if(T){const Et=T.indexOf(Qe);0<=Et&&T.splice(Et,1)}}we.d(rr,{o:()=>M})},1853:(Dr,rr,we)=>{"use strict";function M(T){const Et=T(o=>{Error.call(o),o.stack=(new Error).stack});return Et.prototype=Object.create(Error.prototype),Et.prototype.constructor=Et,Et}we.d(rr,{L:()=>M})},8496:(Dr,rr,we)=>{"use strict";function M(T,Qe){return T.reduce((Et,o,se)=>(Et[o]=Qe[se],Et),{})}we.d(rr,{e:()=>M})},9786:(Dr,rr,we)=>{"use strict";we.d(rr,{Y:()=>Qe,l:()=>Et});var M=we(1026);let T=null;function Qe(o){if(M.$.useDeprecatedSynchronousErrorHandling){const se=!T;if(se&&(T={errorThrown:!1,error:null}),o(),se){const{errorThrown:V,error:v}=T;if(T=null,V)throw v}}else o()}function Et(o){M.$.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=o)}},5225:(Dr,rr,we)=>{"use strict";function M(T,Qe,Et,o=0,se=!1){const V=Qe.schedule(function(){Et(),se?T.add(this.schedule(null,o)):this.unsubscribe()},o);if(T.add(V),!se)return V}we.d(rr,{N:()=>M})},3669:(Dr,rr,we)=>{"use strict";function M(T){return T}we.d(rr,{D:()=>M})},7441:(Dr,rr,we)=>{"use strict";we.d(rr,{X:()=>M});const M=T=>T&&"number"==typeof T.length&&"function"!=typeof T},7953:(Dr,rr,we)=>{"use strict";we.d(rr,{T:()=>T});var M=we(8071);function T(Qe){return Symbol.asyncIterator&&(0,M.T)(null==Qe?void 0:Qe[Symbol.asyncIterator])}},8071:(Dr,rr,we)=>{"use strict";function M(T){return"function"==typeof T}we.d(rr,{T:()=>M})},5055:(Dr,rr,we)=>{"use strict";we.d(rr,{l:()=>Qe});var M=we(3494),T=we(8071);function Qe(Et){return(0,T.T)(Et[M.s])}},5397:(Dr,rr,we)=>{"use strict";we.d(rr,{x:()=>Qe});var M=we(4761),T=we(8071);function Qe(Et){return(0,T.T)(null==Et?void 0:Et[M.l])}},7477:(Dr,rr,we)=>{"use strict";we.d(rr,{y:()=>T});var M=we(8071);function T(Qe){return(0,M.T)(null==Qe?void 0:Qe.then)}},5196:(Dr,rr,we)=>{"use strict";we.d(rr,{C:()=>Qe,U:()=>Et});var M=we(1635),T=we(8071);function Qe(o){return(0,M.AQ)(this,arguments,function*(){const V=o.getReader();try{for(;;){const{value:v,done:b}=yield(0,M.N3)(V.read());if(b)return yield(0,M.N3)(void 0);yield yield(0,M.N3)(v)}}finally{V.releaseLock()}})}function Et(o){return(0,T.T)(null==o?void 0:o.getReader)}},9470:(Dr,rr,we)=>{"use strict";we.d(rr,{m:()=>T});var M=we(8071);function T(Qe){return Qe&&(0,M.T)(Qe.schedule)}},9974:(Dr,rr,we)=>{"use strict";we.d(rr,{N:()=>Qe,S:()=>T});var M=we(8071);function T(Et){return(0,M.T)(null==Et?void 0:Et.lift)}function Qe(Et){return o=>{if(T(o))return o.lift(function(se){try{return Et(se,this)}catch(V){this.error(V)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Dr,rr,we)=>{"use strict";we.d(rr,{I:()=>Et});var M=we(6354);const{isArray:T}=Array;function Et(o){return(0,M.T)(se=>function Qe(o,se){return T(se)?o(...se):o(se)}(o,se))}},5343:(Dr,rr,we)=>{"use strict";function M(){}we.d(rr,{l:()=>M})},1203:(Dr,rr,we)=>{"use strict";we.d(rr,{F:()=>T,m:()=>Qe});var M=we(3669);function T(...Et){return Qe(Et)}function Qe(Et){return 0===Et.length?M.D:1===Et.length?Et[0]:function(se){return Et.reduce((V,v)=>v(V),se)}}},5334:(Dr,rr,we)=>{"use strict";we.d(rr,{m:()=>Qe});var M=we(1026),T=we(9270);function Qe(Et){T.f.setTimeout(()=>{const{onUnhandledError:o}=M.$;if(!o)throw Et;o(Et)})}},591:(Dr,rr,we)=>{"use strict";function M(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}we.d(rr,{L:()=>M})},8996:(Dr,rr,we)=>{var M={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function T(Qe){if(!we.o(M,Qe))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+Qe+"'");throw se.code="MODULE_NOT_FOUND",se});var Et=M[Qe],o=Et[0];return Promise.all(Et.slice(1).map(we.e)).then(()=>we(o))}T.keys=()=>Object.keys(M),T.id=8996,Dr.exports=T},5235:(Dr,rr,we)=>{var M={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function T(Qe){if(!we.o(M,Qe))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+Qe+"'");throw se.code="MODULE_NOT_FOUND",se});var Et=M[Qe],o=Et[0];return we.e(Et[1]).then(()=>we(o))}T.keys=()=>Object.keys(M),T.id=5235,Dr.exports=T},4633:(Dr,rr,we)=>{var M=we(3738).default;function T(){"use strict";Dr.exports=T=function(){return Et},Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports;var Qe,Et={},o=Object.prototype,se=o.hasOwnProperty,V=Object.defineProperty||function(re,W,G){re[W]=G.value},v="function"==typeof Symbol?Symbol:{},b=v.iterator||"@@iterator",p=v.asyncIterator||"@@asyncIterator",y=v.toStringTag||"@@toStringTag";function E(re,W,G){return Object.defineProperty(re,W,{value:G,enumerable:!0,configurable:!0,writable:!0}),re[W]}try{E({},"")}catch{E=function(G,K,ue){return G[K]=ue}}function _(re,W,G,K){var Me=Object.create((W&&W.prototype instanceof m?W:m).prototype),Y=new oe(K||[]);return V(Me,"_invoke",{value:I(re,G,Y)}),Me}function i(re,W,G){try{return{type:"normal",arg:re.call(W,G)}}catch(K){return{type:"throw",arg:K}}}Et.wrap=_;var l="suspendedStart",a="suspendedYield",u="executing",h="completed",d={};function m(){}function f(){}function g(){}var D={};E(D,b,function(){return this});var $=Object.getPrototypeOf,L=$&&$($(q([])));L&&L!==o&&se.call(L,b)&&(D=L);var P=g.prototype=m.prototype=Object.create(D);function x(re){["next","throw","return"].forEach(function(W){E(re,W,function(G){return this._invoke(W,G)})})}function U(re,W){function G(ue,Me,Y,j){var te=i(re[ue],re,Me);if("throw"!==te.type){var me=te.arg,xe=me.value;return xe&&"object"==M(xe)&&se.call(xe,"__await")?W.resolve(xe.__await).then(function(Be){G("next",Be,Y,j)},function(Be){G("throw",Be,Y,j)}):W.resolve(xe).then(function(Be){me.value=Be,Y(me)},function(Be){return G("throw",Be,Y,j)})}j(te.arg)}var K;V(this,"_invoke",{value:function(Me,Y){function j(){return new W(function(te,me){G(Me,Y,te,me)})}return K=K?K.then(j,j):j()}})}function I(re,W,G){var K=l;return function(ue,Me){if(K===u)throw Error("Generator is already running");if(K===h){if("throw"===ue)throw Me;return{value:Qe,done:!0}}for(G.method=ue,G.arg=Me;;){var Y=G.delegate;if(Y){var j=F(Y,G);if(j){if(j===d)continue;return j}}if("next"===G.method)G.sent=G._sent=G.arg;else if("throw"===G.method){if(K===l)throw K=h,G.arg;G.dispatchException(G.arg)}else"return"===G.method&&G.abrupt("return",G.arg);K=u;var te=i(re,W,G);if("normal"===te.type){if(K=G.done?h:a,te.arg===d)continue;return{value:te.arg,done:G.done}}"throw"===te.type&&(K=h,G.method="throw",G.arg=te.arg)}}}function F(re,W){var G=W.method,K=re.iterator[G];if(K===Qe)return W.delegate=null,"throw"===G&&re.iterator.return&&(W.method="return",W.arg=Qe,F(re,W),"throw"===W.method)||"return"!==G&&(W.method="throw",W.arg=new TypeError("The iterator does not provide a '"+G+"' method")),d;var ue=i(K,re.iterator,W.arg);if("throw"===ue.type)return W.method="throw",W.arg=ue.arg,W.delegate=null,d;var Me=ue.arg;return Me?Me.done?(W[re.resultName]=Me.value,W.next=re.nextLoc,"return"!==W.method&&(W.method="next",W.arg=Qe),W.delegate=null,d):Me:(W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,d)}function R(re){var W={tryLoc:re[0]};1 in re&&(W.catchLoc=re[1]),2 in re&&(W.finallyLoc=re[2],W.afterLoc=re[3]),this.tryEntries.push(W)}function Z(re){var W=re.completion||{};W.type="normal",delete W.arg,re.completion=W}function oe(re){this.tryEntries=[{tryLoc:"root"}],re.forEach(R,this),this.reset(!0)}function q(re){if(re||""===re){var W=re[b];if(W)return W.call(re);if("function"==typeof re.next)return re;if(!isNaN(re.length)){var G=-1,K=function ue(){for(;++G<re.length;)if(se.call(re,G))return ue.value=re[G],ue.done=!1,ue;return ue.value=Qe,ue.done=!0,ue};return K.next=K}}throw new TypeError(M(re)+" is not iterable")}return f.prototype=g,V(P,"constructor",{value:g,configurable:!0}),V(g,"constructor",{value:f,configurable:!0}),f.displayName=E(g,y,"GeneratorFunction"),Et.isGeneratorFunction=function(re){var W="function"==typeof re&&re.constructor;return!!W&&(W===f||"GeneratorFunction"===(W.displayName||W.name))},Et.mark=function(re){return Object.setPrototypeOf?Object.setPrototypeOf(re,g):(re.__proto__=g,E(re,y,"GeneratorFunction")),re.prototype=Object.create(P),re},Et.awrap=function(re){return{__await:re}},x(U.prototype),E(U.prototype,p,function(){return this}),Et.AsyncIterator=U,Et.async=function(re,W,G,K,ue){void 0===ue&&(ue=Promise);var Me=new U(_(re,W,G,K),ue);return Et.isGeneratorFunction(W)?Me:Me.next().then(function(Y){return Y.done?Y.value:Me.next()})},x(P),E(P,y,"Generator"),E(P,b,function(){return this}),E(P,"toString",function(){return"[object Generator]"}),Et.keys=function(re){var W=Object(re),G=[];for(var K in W)G.push(K);return G.reverse(),function ue(){for(;G.length;){var Me=G.pop();if(Me in W)return ue.value=Me,ue.done=!1,ue}return ue.done=!0,ue}},Et.values=q,oe.prototype={constructor:oe,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=Qe,this.done=!1,this.delegate=null,this.method="next",this.arg=Qe,this.tryEntries.forEach(Z),!W)for(var G in this)"t"===G.charAt(0)&&se.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=Qe)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if("throw"===W.type)throw W.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var G=this;function K(me,xe){return Y.type="throw",Y.arg=W,G.next=me,xe&&(G.method="next",G.arg=Qe),!!xe}for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Me=this.tryEntries[ue],Y=Me.completion;if("root"===Me.tryLoc)return K("end");if(Me.tryLoc<=this.prev){var j=se.call(Me,"catchLoc"),te=se.call(Me,"finallyLoc");if(j&&te){if(this.prev<Me.catchLoc)return K(Me.catchLoc,!0);if(this.prev<Me.finallyLoc)return K(Me.finallyLoc)}else if(j){if(this.prev<Me.catchLoc)return K(Me.catchLoc,!0)}else{if(!te)throw Error("try statement without catch or finally");if(this.prev<Me.finallyLoc)return K(Me.finallyLoc)}}}},abrupt:function(W,G){for(var K=this.tryEntries.length-1;K>=0;--K){var ue=this.tryEntries[K];if(ue.tryLoc<=this.prev&&se.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var Me=ue;break}}Me&&("break"===W||"continue"===W)&&Me.tryLoc<=G&&G<=Me.finallyLoc&&(Me=null);var Y=Me?Me.completion:{};return Y.type=W,Y.arg=G,Me?(this.method="next",this.next=Me.finallyLoc,d):this.complete(Y)},complete:function(W,G){if("throw"===W.type)throw W.arg;return"break"===W.type||"continue"===W.type?this.next=W.arg:"return"===W.type?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):"normal"===W.type&&G&&(this.next=G),d},finish:function(W){for(var G=this.tryEntries.length-1;G>=0;--G){var K=this.tryEntries[G];if(K.finallyLoc===W)return this.complete(K.completion,K.afterLoc),Z(K),d}},catch:function(W){for(var G=this.tryEntries.length-1;G>=0;--G){var K=this.tryEntries[G];if(K.tryLoc===W){var ue=K.completion;if("throw"===ue.type){var Me=ue.arg;Z(K)}return Me}}throw Error("illegal catch attempt")},delegateYield:function(W,G,K){return this.delegate={iterator:q(W),resultName:G,nextLoc:K},"next"===this.method&&(this.arg=Qe),d}},Et}Dr.exports=T,Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports},3738:Dr=>{function rr(we){return Dr.exports=rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports,rr(we)}Dr.exports=rr,Dr.exports.__esModule=!0,Dr.exports.default=Dr.exports},4756:(Dr,rr,we)=>{var M=we(4633)();Dr.exports=M;try{regeneratorRuntime=M}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=M:Function("r","regeneratorRuntime = r")(M)}},177:(Dr,rr,we)=>{"use strict";we.d(rr,{AJ:()=>Yt,MD:()=>Qt,N0:()=>pn,QT:()=>Qe,Sm:()=>a,Sq:()=>_r,T3:()=>No,UE:()=>Sr,VF:()=>o,Vy:()=>xr,Xr:()=>Ur,ZD:()=>Et,_b:()=>ke,aZ:()=>h,bT:()=>on,fw:()=>u,hb:()=>i,hj:()=>b,qQ:()=>V});var M=we(3953);let T=null;function Qe(){return T}function Et(ce){var Oe;null!==(Oe=T)&&void 0!==Oe||(T=ce)}class o{}const V=new M.nKC("");let v=(()=>{var ce;class Oe{historyGo(Te){throw new Error("")}}return(ce=Oe).\u0275fac=function(Te){return new(Te||ce)},ce.\u0275prov=M.jDH({token:ce,factory:()=>(0,M.WQX)(p),providedIn:"platform"}),Oe})();const b=new M.nKC("");let p=(()=>{var ce;class Oe extends v{constructor(){super(),this._doc=(0,M.WQX)(V),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qe().getBaseHref(this._doc)}onPopState(Te){const nt=Qe().getGlobalEventTarget(this._doc,"window");return nt.addEventListener("popstate",Te,!1),()=>nt.removeEventListener("popstate",Te)}onHashChange(Te){const nt=Qe().getGlobalEventTarget(this._doc,"window");return nt.addEventListener("hashchange",Te,!1),()=>nt.removeEventListener("hashchange",Te)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Te){this._location.pathname=Te}pushState(Te,nt,At){this._history.pushState(Te,nt,At)}replaceState(Te,nt,At){this._history.replaceState(Te,nt,At)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Te=0){this._history.go(Te)}getState(){return this._history.state}}return(ce=Oe).\u0275fac=function(Te){return new(Te||ce)},ce.\u0275prov=M.jDH({token:ce,factory:()=>new ce,providedIn:"platform"}),Oe})();function y(ce,Oe){if(0==ce.length)return Oe;if(0==Oe.length)return ce;let _t=0;return ce.endsWith("/")&&_t++,Oe.startsWith("/")&&_t++,2==_t?ce+Oe.substring(1):1==_t?ce+Oe:ce+"/"+Oe}function E(ce){const Oe=ce.match(/#|\?|$/),_t=Oe&&Oe.index||ce.length;return ce.slice(0,_t-("/"===ce[_t-1]?1:0))+ce.slice(_t)}function _(ce){return ce&&"?"!==ce[0]?"?"+ce:ce}let i=(()=>{var ce;class Oe{historyGo(Te){throw new Error("")}}return(ce=Oe).\u0275fac=function(Te){return new(Te||ce)},ce.\u0275prov=M.jDH({token:ce,factory:()=>(0,M.WQX)(a),providedIn:"root"}),Oe})();const l=new M.nKC("");let a=(()=>{var ce;class Oe extends i{constructor(Te,nt){var At,pr,Ir;super(),this._platformLocation=Te,this._removeListenerFns=[],this._baseHref=null!==(At=null!==(pr=null!=nt?nt:this._platformLocation.getBaseHrefFromDOM())&&void 0!==pr?pr:null===(Ir=(0,M.WQX)(V).location)||void 0===Ir?void 0:Ir.origin)&&void 0!==At?At:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Te){this._removeListenerFns.push(this._platformLocation.onPopState(Te),this._platformLocation.onHashChange(Te))}getBaseHref(){return this._baseHref}prepareExternalUrl(Te){return y(this._baseHref,Te)}path(Te=!1){const nt=this._platformLocation.pathname+_(this._platformLocation.search),At=this._platformLocation.hash;return At&&Te?`${nt}${At}`:nt}pushState(Te,nt,At,pr){const Ir=this.prepareExternalUrl(At+_(pr));this._platformLocation.pushState(Te,nt,Ir)}replaceState(Te,nt,At,pr){const Ir=this.prepareExternalUrl(At+_(pr));this._platformLocation.replaceState(Te,nt,Ir)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Te=0){var nt,At;null===(nt=(At=this._platformLocation).historyGo)||void 0===nt||nt.call(At,Te)}}return(ce=Oe).\u0275fac=function(Te){return new(Te||ce)(M.KVO(v),M.KVO(l,8))},ce.\u0275prov=M.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Oe})(),u=(()=>{var ce;class Oe extends i{constructor(Te,nt){super(),this._platformLocation=Te,this._baseHref="",this._removeListenerFns=[],null!=nt&&(this._baseHref=nt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Te){this._removeListenerFns.push(this._platformLocation.onPopState(Te),this._platformLocation.onHashChange(Te))}getBaseHref(){return this._baseHref}path(Te=!1){var nt;const At=null!==(nt=this._platformLocation.hash)&&void 0!==nt?nt:"#";return At.length>0?At.substring(1):At}prepareExternalUrl(Te){const nt=y(this._baseHref,Te);return nt.length>0?"#"+nt:nt}pushState(Te,nt,At,pr){let Ir=this.prepareExternalUrl(At+_(pr));0==Ir.length&&(Ir=this._platformLocation.pathname),this._platformLocation.pushState(Te,nt,Ir)}replaceState(Te,nt,At,pr){let Ir=this.prepareExternalUrl(At+_(pr));0==Ir.length&&(Ir=this._platformLocation.pathname),this._platformLocation.replaceState(Te,nt,Ir)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Te=0){var nt,At;null===(nt=(At=this._platformLocation).historyGo)||void 0===nt||nt.call(At,Te)}}return(ce=Oe).\u0275fac=function(Te){return new(Te||ce)(M.KVO(v),M.KVO(l,8))},ce.\u0275prov=M.jDH({token:ce,factory:ce.\u0275fac}),Oe})(),h=(()=>{var ce;class Oe{constructor(Te){this._subject=new M.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Te;const nt=this._locationStrategy.getBaseHref();this._basePath=function g(ce){if(new RegExp("^(https?:)?//").test(ce)){const[,_t]=ce.split(/\/\/[^\/]+/);return _t}return ce}(E(f(nt))),this._locationStrategy.onPopState(At=>{this._subject.emit({url:this.path(!0),pop:!0,state:At.state,type:At.type})})}ngOnDestroy(){var Te;null===(Te=this._urlChangeSubscription)||void 0===Te||Te.unsubscribe(),this._urlChangeListeners=[]}path(Te=!1){return this.normalize(this._locationStrategy.path(Te))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Te,nt=""){return this.path()==this.normalize(Te+_(nt))}normalize(Te){return Oe.stripTrailingSlash(function m(ce,Oe){if(!ce||!Oe.startsWith(ce))return Oe;const _t=Oe.substring(ce.length);return""===_t||["/",";","?","#"].includes(_t[0])?_t:Oe}(this._basePath,f(Te)))}prepareExternalUrl(Te){return Te&&"/"!==Te[0]&&(Te="/"+Te),this._locationStrategy.prepareExternalUrl(Te)}go(Te,nt="",At=null){this._locationStrategy.pushState(At,"",Te,nt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Te+_(nt)),At)}replaceState(Te,nt="",At=null){this._locationStrategy.replaceState(At,"",Te,nt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Te+_(nt)),At)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Te=0){var nt,At;null===(nt=(At=this._locationStrategy).historyGo)||void 0===nt||nt.call(At,Te)}onUrlChange(Te){var nt;return this._urlChangeListeners.push(Te),null!==(nt=this._urlChangeSubscription)&&void 0!==nt||(this._urlChangeSubscription=this.subscribe(At=>{this._notifyUrlChangeListeners(At.url,At.state)})),()=>{const At=this._urlChangeListeners.indexOf(Te);var pr;this._urlChangeListeners.splice(At,1),0===this._urlChangeListeners.length&&(null===(pr=this._urlChangeSubscription)||void 0===pr||pr.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Te="",nt){this._urlChangeListeners.forEach(At=>At(Te,nt))}subscribe(Te,nt,At){return this._subject.subscribe({next:Te,error:nt,complete:At})}}return(ce=Oe).normalizeQueryParams=_,ce.joinWithSlash=y,ce.stripTrailingSlash=E,ce.\u0275fac=function(Te){return new(Te||ce)(M.KVO(i))},ce.\u0275prov=M.jDH({token:ce,factory:()=>function d(){return new h((0,M.KVO)(i))}(),providedIn:"root"}),Oe})();function f(ce){return ce.replace(/\/index.html$/,"")}function ke(ce,Oe){Oe=encodeURIComponent(Oe);for(const _t of ce.split(";")){const Te=_t.indexOf("="),[nt,At]=-1==Te?[_t,""]:[_t.slice(0,Te),_t.slice(Te+1)];if(nt.trim()===Oe)return decodeURIComponent(At)}return null}class ar{constructor(Oe,_t,Te,nt){this.$implicit=Oe,this.ngForOf=_t,this.index=Te,this.count=nt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _r=(()=>{var ce;class Oe{set ngForOf(Te){this._ngForOf=Te,this._ngForOfDirty=!0}set ngForTrackBy(Te){this._trackByFn=Te}get ngForTrackBy(){return this._trackByFn}constructor(Te,nt,At){this._viewContainer=Te,this._template=nt,this._differs=At,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Te){Te&&(this._template=Te)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Te=this._ngForOf;!this._differ&&Te&&(this._differ=this._differs.find(Te).create(this.ngForTrackBy))}if(this._differ){const Te=this._differ.diff(this._ngForOf);Te&&this._applyChanges(Te)}}_applyChanges(Te){const nt=this._viewContainer;Te.forEachOperation((At,pr,Ir)=>{if(null==At.previousIndex)nt.createEmbeddedView(this._template,new ar(At.item,this._ngForOf,-1,-1),null===Ir?void 0:Ir);else if(null==Ir)nt.remove(null===pr?void 0:pr);else if(null!==pr){const sn=nt.get(pr);nt.move(sn,Ir),Pr(sn,At)}});for(let At=0,pr=nt.length;At<pr;At++){const sn=nt.get(At).context;sn.index=At,sn.count=pr,sn.ngForOf=this._ngForOf}Te.forEachIdentityChange(At=>{Pr(nt.get(At.currentIndex),At)})}static ngTemplateContextGuard(Te,nt){return!0}}return(ce=Oe).\u0275fac=function(Te){return new(Te||ce)(M.rXU(M.c1b),M.rXU(M.C4Q),M.rXU(M._q3))},ce.\u0275dir=M.FsC({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Oe})();function Pr(ce,Oe){ce.context.$implicit=Oe.item}let on=(()=>{var ce;class Oe{constructor(Te,nt){this._viewContainer=Te,this._context=new Nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=nt}set ngIf(Te){this._context.$implicit=this._context.ngIf=Te,this._updateView()}set ngIfThen(Te){Dn("ngIfThen",Te),this._thenTemplateRef=Te,this._thenViewRef=null,this._updateView()}set ngIfElse(Te){Dn("ngIfElse",Te),this._elseTemplateRef=Te,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Te,nt){return!0}}return(ce=Oe).\u0275fac=function(Te){return new(Te||ce)(M.rXU(M.c1b),M.rXU(M.C4Q))},ce.\u0275dir=M.FsC({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Oe})();class Nn{constructor(){this.$implicit=null,this.ngIf=null}}function Dn(ce,Oe){if(Oe&&!Oe.createEmbeddedView)throw new Error(`${ce} must be a TemplateRef, but received '${(0,M.Tbb)(Oe)}'.`)}let No=(()=>{var ce;class Oe{constructor(Te){this._viewContainerRef=Te,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Te){if(this._shouldRecreateView(Te)){var nt;const At=this._viewContainerRef;if(this._viewRef&&At.remove(At.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const pr=this._createContextForwardProxy();this._viewRef=At.createEmbeddedView(this.ngTemplateOutlet,pr,{injector:null!==(nt=this.ngTemplateOutletInjector)&&void 0!==nt?nt:void 0})}}_shouldRecreateView(Te){return!!Te.ngTemplateOutlet||!!Te.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Te,nt,At)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,nt,At),get:(Te,nt,At)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,nt,At)}})}}return(ce=Oe).\u0275fac=function(Te){return new(Te||ce)(M.rXU(M.c1b))},ce.\u0275dir=M.FsC({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[M.OA$]}),Oe})(),Qt=(()=>{var ce;class Oe{}return(ce=Oe).\u0275fac=function(Te){return new(Te||ce)},ce.\u0275mod=M.$C({type:ce}),ce.\u0275inj=M.G2t({}),Oe})();const Yt="browser",gr="server";function Sr(ce){return ce===Yt}function xr(ce){return ce===gr}let Ur=(()=>{var ce;class Oe{}return(ce=Oe).\u0275prov=(0,M.jDH)({token:ce,providedIn:"root",factory:()=>Sr((0,M.WQX)(M.Agw))?new Fr((0,M.WQX)(V),window):new qr}),Oe})();class Fr{constructor(Oe,_t){this.document=Oe,this.window=_t,this.offset=()=>[0,0]}setOffset(Oe){this.offset=Array.isArray(Oe)?()=>Oe:Oe}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Oe){this.window.scrollTo(Oe[0],Oe[1])}scrollToAnchor(Oe){const _t=function Gr(ce,Oe){const _t=ce.getElementById(Oe)||ce.getElementsByName(Oe)[0];if(_t)return _t;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const Te=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let nt=Te.currentNode;for(;nt;){const At=nt.shadowRoot;if(At){const pr=At.getElementById(Oe)||At.querySelector(`[name="${Oe}"]`);if(pr)return pr}nt=Te.nextNode()}}return null}(this.document,Oe);_t&&(this.scrollToElement(_t),_t.focus())}setHistoryScrollRestoration(Oe){this.window.history.scrollRestoration=Oe}scrollToElement(Oe){const _t=Oe.getBoundingClientRect(),Te=_t.left+this.window.pageXOffset,nt=_t.top+this.window.pageYOffset,At=this.offset();this.window.scrollTo(Te-At[0],nt-At[1])}}class qr{setOffset(Oe){}getScrollPosition(){return[0,0]}scrollToPosition(Oe){}scrollToAnchor(Oe){}setHistoryScrollRestoration(Oe){}}class pn{}},3953:(Dr,rr,we)=>{"use strict";function M(t,r){return Object.is(t,r)}we.d(rr,{iLQ:()=>Md,sZ2:()=>xc,hnV:()=>g1,Hbi:()=>FI,o8S:()=>ti,BIS:()=>aS,gRc:()=>I1,Ql9:()=>dI,Ocv:()=>vI,Z63:()=>Ss,aKT:()=>Hl,uvJ:()=>Fs,zcH:()=>fi,bkB:()=>hi,$GK:()=>mn,nKC:()=>$r,zZn:()=>Bo,_q3:()=>om,MKu:()=>sm,xe9:()=>jd,Co$:()=>S0,Vns:()=>fa,SKi:()=>no,Xx1:()=>co,Agw:()=>Fh,PLl:()=>Xg,sFG:()=>nD,_9s:()=>Lf,czy:()=>Fc,WPN:()=>ia,kdw:()=>xa,C4Q:()=>au,NYb:()=>sI,giA:()=>p1,RxE:()=>a1,c1b:()=>nd,gXe:()=>wi,mal:()=>Fv,L39:()=>bj,EWP:()=>wj,a0P:()=>Aj,Ol2:()=>ep,w6W:()=>ZD,oH4:()=>D1,SmG:()=>SI,Rfq:()=>Gs,WQX:()=>kr,QuC:()=>hn,EmA:()=>si,fpN:()=>LI,HJs:()=>Mj,N4e:()=>bm,vPA:()=>o0,O8t:()=>Ej,H3F:()=>l1,zAP:()=>rw,H8p:()=>Zd,KH2:()=>_l,TgB:()=>oa,wOt:()=>Rr,WHO:()=>h1,e01:()=>f1,lNU:()=>kn,h9k:()=>gy,$MX:()=>Rc,ZF7:()=>Xa,Kcf:()=>TS,e5t:()=>jS,UyX:()=>MS,cWb:()=>AS,osQ:()=>IS,H5H:()=>Dp,mq5:()=>xb,JZv:()=>zn,LfX:()=>vn,plB:()=>Ni,jNT:()=>Xp,zjR:()=>m1,TL$:()=>sS,Tbb:()=>Xn,rcV:()=>Ti,Vt3:()=>Jf,GFd:()=>E0,OA$:()=>ah,Jv_:()=>N_,aNF:()=>L_,R7$:()=>Vy,BMQ:()=>fp,AVh:()=>bp,wni:()=>u_,VBU:()=>_e,FsC:()=>sr,jDH:()=>Lr,G2t:()=>Wr,$C:()=>et,EJ8:()=>wr,rXU:()=>Ya,nrm:()=>Cp,eu8:()=>xp,bVm:()=>bd,qex:()=>vd,k0s:()=>yd,j41:()=>gd,RV6:()=>Eb,xGo:()=>hg,KVO:()=>Yr,kS0:()=>vc,QTQ:()=>Hy,bIt:()=>Mp,lsd:()=>h_,XpG:()=>Jb,SdG:()=>Qb,NAR:()=>Zb,Y8G:()=>yp,Mz_:()=>Sd,lJ4:()=>B_,mGM:()=>d_,sdS:()=>f_,Njj:()=>Um,eBV:()=>Fm,B4B:()=>Qh,n$t:()=>vy,Aen:()=>Zs,DNE:()=>rp,EFF:()=>S_,JRh:()=>Op,SpI:()=>Cd,Lme:()=>Pp,DH7:()=>O_,mxI:()=>kp,R50:()=>Rp,GBs:()=>c_});let T=null,Qe=!1,Et=1;const o=Symbol("SIGNAL");function se(t){const r=T;return T=t,r}const p={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function y(t){if(Qe)throw new Error("");if(null===T)return;T.consumerOnSignalRead(t);const r=T.nextProducerIndex++;$(T),r<T.producerNode.length&&T.producerNode[r]!==t&&D(T)&&g(T.producerNode[r],T.producerIndexOfThis[r]),T.producerNode[r]!==t&&(T.producerNode[r]=t,T.producerIndexOfThis[r]=D(T)?f(t,T,r):0),T.producerLastReadVersion[r]=t.version}function _(t){if((!D(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Et)){if(!t.producerMustRecompute(t)&&!d(t))return t.dirty=!1,void(t.lastCleanEpoch=Et);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Et}}function i(t){if(void 0===t.liveConsumerNode)return;const r=Qe;Qe=!0;try{for(const n of t.liveConsumerNode)n.dirty||a(n)}finally{Qe=r}}function l(){var t;return!1!==(null===(t=T)||void 0===t?void 0:t.consumerAllowSignalWrites)}function a(t){var r;t.dirty=!0,i(t),null===(r=t.consumerMarkedDirty)||void 0===r||r.call(t,t)}function u(t){return t&&(t.nextProducerIndex=0),se(t)}function h(t,r){if(se(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(D(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)g(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function d(t){$(t);for(let r=0;r<t.producerNode.length;r++){const n=t.producerNode[r],s=t.producerLastReadVersion[r];if(s!==n.version||(_(n),s!==n.version))return!0}return!1}function m(t){if($(t),D(t))for(let r=0;r<t.producerNode.length;r++)g(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function f(t,r,n){if(L(t),0===t.liveConsumerNode.length&&P(t))for(let s=0;s<t.producerNode.length;s++)t.producerIndexOfThis[s]=f(t.producerNode[s],t,s);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(r)-1}function g(t,r){if(L(t),1===t.liveConsumerNode.length&&P(t))for(let s=0;s<t.producerNode.length;s++)g(t.producerNode[s],t.producerIndexOfThis[s]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];$(c),c.producerIndexOfThis[s]=r}}function D(t){var r,n;return t.consumerIsAlwaysLive||(null!==(r=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>0}function $(t){var r,n,s;null!==(r=t.producerNode)&&void 0!==r||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(s=t.producerLastReadVersion)&&void 0!==s||(t.producerLastReadVersion=[])}function L(t){var r,n;null!==(r=t.liveConsumerNode)&&void 0!==r||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}function P(t){return void 0!==t.producerNode}const U=Symbol("UNSET"),I=Symbol("COMPUTING"),F=Symbol("ERRORED"),R={...p,value:U,dirty:!0,error:null,equal:M,producerMustRecompute:t=>t.value===U||t.value===I,producerRecomputeValue(t){if(t.value===I)throw new Error("Detected cycle in computations.");const r=t.value;t.value=I;const n=u(t);let s;try{s=t.computation()}catch(c){s=F,t.error=c}finally{h(t,n)}r!==U&&r!==F&&s!==F&&t.equal(r,s)?t.value=r:(t.value=s,t.version++)}};let oe=function Z(){throw new Error};function q(){oe()}let W=null;function Me(t,r){l()||q(),t.equal(t.value,r)||(t.value=r,function me(t){var r;t.version++,function E(){Et++}(),i(t),null===(r=W)||void 0===r||r()}(t))}const te={...p,equal:M,value:void 0};var bn,ze=we(4412),st=we(1413),lt=we(8359),Fe=we(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const kn="https://g.co/ng/security#xss";class Rr extends Error{constructor(r,n){super(function go(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,n)),this.code=r}}function Un(t){return{toString:t}.toString()}const Go="__parameters__";function bs(t,r,n){return Un(()=>{const s=function Os(t){return function(...n){if(t){const s=t(...n);for(const c in s)this[c]=s[c]}}}(r);function c(...S){if(this instanceof c)return s.apply(this,S),this;const k=new c(...S);return J.annotation=k,J;function J(le,Se,Ne){const Ke=le.hasOwnProperty(Go)?le[Go]:Object.defineProperty(le,Go,{value:[]})[Go];for(;Ke.length<=Ne;)Ke.push(null);return(Ke[Ne]=Ke[Ne]||[]).push(k),le}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const zn=globalThis;function wn(t){for(let r in t)if(t[r]===wn)return r;throw Error("Could not find renamed property on target object.")}function Ps(t,r){for(const n in r)r.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=r[n])}function Xn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Xn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function Rs(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ws=wn({__forward_ref__:wn});function Gs(t){return t.__forward_ref__=Gs,t.toString=function(){return Xn(this())},t}function Hr(t){return Ho(t)?t():t}function Ho(t){return"function"==typeof t&&t.hasOwnProperty(ws)&&t.__forward_ref__===Gs}function Lr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qr(t){return qn(t,Kn)||qn(t,Tn)}function vn(t){return null!==Qr(t)}function qn(t,r){return t.hasOwnProperty(r)?t[r]:null}function so(t){return t&&(t.hasOwnProperty(fo)||t.hasOwnProperty(Mn))?t[fo]:null}const Kn=wn({\u0275prov:wn}),fo=wn({\u0275inj:wn}),Tn=wn({ngInjectableDef:wn}),Mn=wn({ngInjectorDef:wn});class $r{constructor(r,n){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Lr({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $i(t){return t&&!!t.\u0275providers}const vi=wn({\u0275cmp:wn}),wa=wn({\u0275dir:wn}),Vi=wn({\u0275pipe:wn}),Ea=wn({\u0275mod:wn}),ks=wn({\u0275fac:wn}),oi=wn({__NG_ELEMENT_ID__:wn}),Sa=wn({__NG_ENV_ID__:wn});function an(t){return"string"==typeof t?t:null==t?"":String(t)}function Gi(t,r){throw new Rr(-201,!1)}var mn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(mn||{});let Hs;function bi(){return Hs}function Io(t){const r=Hs;return Hs=t,r}function ds(t,r,n){const s=Qr(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&mn.Optional?null:void 0!==r?r:void Gi()}const ce={},Oe="__NG_DI_FLAG__",_t="ngTempTokenPath",nt=/\n/gm,pr="__source";let Ir;function nn(t){const r=Ir;return Ir=t,r}function xn(t,r=mn.Default){if(void 0===Ir)throw new Rr(-203,!1);return null===Ir?ds(t,void 0,r):Ir.get(t,r&mn.Optional?null:void 0,r)}function Yr(t,r=mn.Default){return(bi()||xn)(Hr(t),r)}function kr(t,r=mn.Default){return Yr(t,Jn(r))}function Jn(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hs(t){const r=[];for(let n=0;n<t.length;n++){const s=Hr(t[n]);if(Array.isArray(s)){if(0===s.length)throw new Rr(900,!1);let c,S=mn.Default;for(let k=0;k<s.length;k++){const J=s[k],le=zs(J);"number"==typeof le?-1===le?c=J.token:S|=le:c=J}r.push(Yr(c,S))}else r.push(Yr(s))}return r}function po(t,r){return t[Oe]=r,t.prototype[Oe]=r,t}function zs(t){return t[Oe]}const co=po(bs("Optional"),8),xa=po(bs("SkipSelf"),4);function _i(t,r){return t.hasOwnProperty(ks)?t[ks]:null}function ji(t,r){t.forEach(n=>Array.isArray(n)?ji(n,r):r(n))}function Hd(t,r,n){r>=t.length?t.push(n):t.splice(r,0,n)}function Ta(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ns(t,r,n){let s=zi(t,r);return s>=0?t[1|s]=n:(s=~s,function xl(t,r,n,s){let c=t.length;if(c==r)t.push(n,s);else if(1===c)t.push(s,t[0]),t[0]=n;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=n,t[r+1]=s}}(t,s,r,n)),s}function zu(t,r){const n=zi(t,r);if(n>=0)return t[1|n]}function zi(t,r){return function Dl(t,r,n){let s=0,c=t.length>>n;for(;c!==s;){const S=s+(c-s>>1),k=t[S<<n];if(r===k)return S<<n;k>r?c=S:s=S+1}return~(c<<n)}(t,r,1)}const Es={},En=[],Ss=new $r(""),Wu=new $r("",-1),Xu=new $r("");class Wi{get(r,n=ce){if(n===ce){const s=new Error(`NullInjectorError: No provider for ${Xn(r)}!`);throw s.name="NullInjectorError",s}return n}}var Ma=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ma||{}),wi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wi||{}),Ei=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ei||{});function cm(t,r,n){let s=t.length;for(;;){const c=t.indexOf(r,n);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const S=r.length;if(c+S===s||t.charCodeAt(c+S)<=32)return c}n=c+1}}function Tl(t,r,n){let s=0;for(;s<n.length;){const c=n[s];if("number"==typeof c){if(0!==c)break;s++;const S=n[s++],k=n[s++],J=n[s++];t.setAttribute(r,k,J,S)}else{const S=c,k=n[++s];zd(S)?t.setProperty(r,S,k):t.setAttribute(r,S,k),s++}}return s}function qu(t){return 3===t||4===t||6===t}function zd(t){return 64===t.charCodeAt(0)}function Pi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let n=-1;for(let s=0;s<r.length;s++){const c=r[s];"number"==typeof c?n=c:0===n||Ku(t,n,c,null,-1===n||2===n?r[++s]:null)}}return t}function Ku(t,r,n,s,c){let S=0,k=t.length;if(-1===r)k=-1;else for(;S<t.length;){const J=t[S++];if("number"==typeof J){if(J===r){k=-1;break}if(J>r){k=S-1;break}}}for(;S<t.length;){const J=t[S];if("number"==typeof J)break;if(J===n){if(null===s)return void(null!==c&&(t[S+1]=c));if(s===t[S+1])return void(t[S+2]=c)}S++,null!==s&&S++,null!==c&&S++}-1!==k&&(t.splice(k,0,r),S=k+1),t.splice(S++,0,n),null!==s&&t.splice(S++,0,s),null!==c&&t.splice(S++,0,c)}const Yu="ng-template";function Wd(t,r,n,s){let c=0;if(s){for(;c<r.length&&"string"==typeof r[c];c+=2)if("class"===r[c]&&-1!==cm(r[c+1].toLowerCase(),n,0))return!0}else if(Al(t))return!1;if(c=r.indexOf(1,c),c>-1){let S;for(;++c<r.length&&"string"==typeof(S=r[c]);)if(S.toLowerCase()===n)return!0}return!1}function Al(t){return 4===t.type&&t.value!==Yu}function Xd(t,r,n){return r===(4!==t.type||n?t.value:Yu)}function qd(t,r,n){let s=4;const c=t.attrs,S=null!==c?function hm(t){for(let r=0;r<t.length;r++)if(qu(t[r]))return r;return t.length}(c):0;let k=!1;for(let J=0;J<r.length;J++){const le=r[J];if("number"!=typeof le){if(!k)if(4&s){if(s=2|1&s,""!==le&&!Xd(t,le,n)||""===le&&1===r.length){if(Cs(s))return!1;k=!0}}else if(8&s){if(null===c||!Wd(t,c,le,n)){if(Cs(s))return!1;k=!0}}else{const Se=r[++J],Ne=Ju(le,c,Al(t),n);if(-1===Ne){if(Cs(s))return!1;k=!0;continue}if(""!==Se){let Ke;if(Ke=Ne>S?"":c[Ne+1].toLowerCase(),2&s&&Se!==Ke){if(Cs(s))return!1;k=!0}}}}else{if(!k&&!Cs(s)&&!Cs(le))return!1;if(k&&Cs(le))continue;k=!1,s=le|1&s}}return Cs(s)||k}function Cs(t){return!(1&t)}function Ju(t,r,n,s){if(null===r)return-1;let c=0;if(s||!n){let S=!1;for(;c<r.length;){const k=r[c];if(k===t)return c;if(3===k||6===k)S=!0;else{if(1===k||2===k){let J=r[++c];for(;"string"==typeof J;)J=r[++c];continue}if(4===k)break;if(0===k){c+=4;continue}}c+=S?1:2}return-1}return function fm(t,r){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const s=t[n];if("number"==typeof s)return-1;if(s===r)return n;n++}return-1}(r,t)}function Zu(t,r,n=!1){for(let s=0;s<r.length;s++)if(qd(t,r[s],n))return!0;return!1}function pm(t,r){e:for(let n=0;n<r.length;n++){const s=r[n];if(t.length===s.length){for(let c=0;c<t.length;c++)if(t[c]!==s[c])continue e;return!0}}return!1}function Kd(t,r){return t?":not("+r.trim()+")":r}function mm(t){let r=t[0],n=1,s=2,c="",S=!1;for(;n<t.length;){let k=t[n];if("string"==typeof k)if(2&s){const J=t[++n];c+="["+k+(J.length>0?'="'+J+'"':"")+"]"}else 8&s?c+="."+k:4&s&&(c+=" "+k);else""!==c&&!Cs(k)&&(r+=Kd(S,c),c=""),s=k,S=S||!Cs(s);n++}return""!==c&&(r+=Kd(S,c)),r}function _e(t){return Un(()=>{var r;const n=ro(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||wi.Emulated,styles:t.styles||En,_:null,schemas:t.schemas||null,tView:null,id:""};Wo(s);const c=t.dependencies;return s.directiveDefs=Fo(c,!1),s.pipeDefs=Fo(c,!0),s.id=function fs(t){let r=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of n)r=Math.imul(31,r)+c.charCodeAt(0)|0;return r+=2147483648,"c"+r}(s),s})}function de(t){return qt(t)||Or(t)}function Ce(t){return null!==t}function et(t){return Un(()=>({type:t.type,bootstrap:t.bootstrap||En,declarations:t.declarations||En,imports:t.imports||En,exports:t.exports||En,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function at(t,r){if(null==t)return Es;const n={};for(const c in t)if(t.hasOwnProperty(c)){const S=t[c];let k,J,le=Ei.None;var s;Array.isArray(S)?(le=S[0],k=S[1],J=null!==(s=S[2])&&void 0!==s?s:k):(k=S,J=S),r?(n[k]=le!==Ei.None?[c,le]:c,r[k]=J):n[k]=c}return n}function sr(t){return Un(()=>{const r=ro(t);return Wo(r),r})}function wr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qt(t){return t[vi]||null}function Or(t){return t[wa]||null}function Xr(t){return t[Vi]||null}function hn(t){const r=qt(t)||Or(t)||Xr(t);return null!==r&&r.standalone}function Jr(t,r){const n=t[Ea]||null;if(!n&&!0===r)throw new Error(`Type ${Xn(t)} does not have '\u0275mod' property.`);return n}function ro(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Es,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||En,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:at(t.inputs,r),outputs:at(t.outputs),debugInfo:null}}function Wo(t){var r;null===(r=t.features)||void 0===r||r.forEach(n=>n(t))}function Fo(t,r){if(!t)return null;const n=r?Xr:de;return()=>("function"==typeof t?t():t).map(s=>n(s)).filter(Ce)}function si(t){return{\u0275providers:t}}function Ml(...t){return{\u0275providers:qi(0,t),\u0275fromNgModule:!0}}function qi(t,...r){const n=[],s=new Set;let c;const S=k=>{n.push(k)};return ji(r,k=>{const J=k;Si(J,S,[],s)&&(c||(c=[]),c.push(J))}),void 0!==c&&Qu(c,S),n}function Qu(t,r){for(let n=0;n<t.length;n++){const{ngModule:s,providers:c}=t[n];Yd(c,S=>{r(S,s)})}}function Si(t,r,n,s){if(!(t=Hr(t)))return!1;let c=null,S=so(t);const k=!S&&qt(t);if(S||k){if(k&&!k.standalone)return!1;c=t}else{const le=t.ngModule;if(S=so(le),!S)return!1;c=le}const J=s.has(c);if(k){if(J)return!1;if(s.add(c),k.dependencies){const le="function"==typeof k.dependencies?k.dependencies():k.dependencies;for(const Se of le)Si(Se,r,n,s)}}else{if(!S)return!1;{if(null!=S.imports&&!J){let Se;s.add(c);try{ji(S.imports,Ne=>{Si(Ne,r,n,s)&&(Se||(Se=[]),Se.push(Ne))})}finally{}void 0!==Se&&Qu(Se,r)}if(!J){const Se=_i(c)||(()=>new c);r({provide:c,useFactory:Se,deps:En},c),r({provide:Xu,useValue:c,multi:!0},c),r({provide:Ss,useValue:()=>Yr(c),multi:!0},c)}const le=S.providers;if(null!=le&&!J){const Se=t;Yd(le,Ne=>{r(Ne,Se)})}}}return c!==t&&void 0!==t.providers}function Yd(t,r){for(let n of t)$i(n)&&(n=n.\u0275providers),Array.isArray(n)?Yd(n,r):r(n)}const pw=wn({provide:String,useValue:wn});function Jd(t){return null!==t&&"object"==typeof t&&pw in t}function Ki(t){return"function"==typeof t}const Zd=new $r(""),ec={},gw={};let Qd;function tc(){return void 0===Qd&&(Qd=new Wi),Qd}class Fs{}class Ia extends Fs{get destroyed(){return this._destroyed}constructor(r,n,s,c){super(),this.parent=n,this.source=s,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(r,k=>this.processProvider(k)),this.records.set(Wu,ja(void 0,this)),c.has("environment")&&this.records.set(Fs,ja(void 0,this));const S=this.records.get(Zd);null!=S&&"string"==typeof S.value&&this.scopes.add(S.value),this.injectorDefTypes=new Set(this.get(Xu,En,mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=se(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const n=nn(this),s=Io(void 0);try{return r()}finally{nn(n),Io(s)}}get(r,n=ce,s=mn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Sa))return r[Sa](this);s=Jn(s);const S=nn(this),k=Io(void 0);try{if(!(s&mn.SkipSelf)){let le=this.records.get(r);if(void 0===le){const Se=function ww(t){return"function"==typeof t||"object"==typeof t&&t instanceof $r}(r)&&Qr(r);le=Se&&this.injectableDefInScope(Se)?ja(eh(r),ec):null,this.records.set(r,le)}if(null!=le)return this.hydrate(r,le)}return(s&mn.Self?tc():this.parent).get(r,n=s&mn.Optional&&n===ce?null:n)}catch(J){if("NullInjectorError"===J.name){if((J[_t]=J[_t]||[]).unshift(Xn(r)),S)throw J;return function Ns(t,r,n,s){const c=t[_t];throw r[pr]&&c.unshift(r[pr]),t.message=function Ws(t,r,n,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Xn(r);if(Array.isArray(r))c=r.map(Xn).join(" -> ");else if("object"==typeof r){let S=[];for(let k in r)if(r.hasOwnProperty(k)){let J=r[k];S.push(k+":"+("string"==typeof J?JSON.stringify(J):Xn(J)))}c=`{${S.join(", ")}}`}return`${n}${s?"("+s+")":""}[${c}]: ${t.replace(nt,"\n  ")}`}("\n"+t.message,c,n,s),t.ngTokenPath=c,t[_t]=null,t}(J,r,"R3InjectorError",this.source)}throw J}finally{Io(k),nn(S)}}resolveInjectorInitializers(){const r=se(null),n=nn(this),s=Io(void 0);try{const S=this.get(Ss,En,mn.Self);for(const k of S)k()}finally{nn(n),Io(s),se(r)}}toString(){const r=[],n=this.records;for(const s of n.keys())r.push(Xn(s));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Rr(205,!1)}processProvider(r){let n=Ki(r=Hr(r))?r:Hr(r&&r.provide);const s=function vw(t){return Jd(t)?ja(void 0,t.useValue):ja(vm(t),ec)}(r);if(!Ki(r)&&!0===r.multi){let c=this.records.get(n);c||(c=ja(void 0,ec,!0),c.factory=()=>hs(c.multi),this.records.set(n,c)),n=r,c.multi.push(r)}this.records.set(n,s)}hydrate(r,n){const s=se(null);try{return n.value===ec&&(n.value=gw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _w(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{se(s)}}injectableDefInScope(r){if(!r.providedIn)return!1;const n=Hr(r.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(r){const n=this._onDestroyHooks.indexOf(r);-1!==n&&this._onDestroyHooks.splice(n,1)}}function eh(t){const r=Qr(t),n=null!==r?r.factory:_i(t);if(null!==n)return n;if(t instanceof $r)throw new Rr(204,!1);if(t instanceof Function)return function yw(t){if(t.length>0)throw new Rr(204,!1);const n=function to(t){return t&&(t[Kn]||t[Tn])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Rr(204,!1)}function vm(t,r,n){let s;if(Ki(t)){const c=Hr(t);return _i(c)||eh(c)}if(Jd(t))s=()=>Hr(t.useValue);else if(function ym(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...hs(t.deps||[]));else if(function gm(t){return!(!t||!t.useExisting)}(t))s=()=>Yr(Hr(t.useExisting));else{const c=Hr(t&&(t.useClass||t.provide));if(!function bw(t){return!!t.deps}(t))return _i(c)||eh(c);s=()=>new c(...hs(t.deps))}return s}function ja(t,r,n=!1){return{factory:t,value:r,multi:n?[]:void 0}}function th(t,r){for(const n of t)Array.isArray(n)?th(n,r):n&&$i(n)?th(n.\u0275providers,r):r(n)}function bm(t,r){t instanceof Ia&&t.assertNotDestroyed();const s=nn(t),c=Io(void 0);try{return r()}finally{nn(s),Io(c)}}function _m(){return void 0!==bi()||null!=function sn(){return Ir}()}const io=0,Nr=1,en=2,xo=3,qs=4,Xo=5,os=6,Yi=7,Zn=8,Do=9,ii=10,ln=11,jl=12,Em=13,Pa=14,ao=15,Ji=16,Ra=17,ai=18,ka=19,Sm=20,Ri=21,Ol=22,Us=23,Zr=25,nh=1,li=7,Na=9,yo=10;var sc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(sc||{});function Uo(t){return Array.isArray(t)&&"object"==typeof t[nh]}function Zo(t){return Array.isArray(t)&&!0===t[nh]}function oh(t){return!!(4&t.flags)}function Zi(t){return t.componentOffset>-1}function ic(t){return!(1&~t.flags)}function Ks(t){return!!t.template}function Rl(t){return!!(512&t[en])}class Rw{constructor(r,n,s){this.previousValue=r,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function Tm(t,r,n,s){null!==r?r.applyValueToInputSignal(r,s):t[n]=s}function ah(){return Am}function Am(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nw),kw}function kw(){const t=Im(this),r=null==t?void 0:t.current;if(r){const n=t.previous;if(n===Es)t.previous=r;else for(let s in r)n[s]=r[s];t.current=null,this.ngOnChanges(r)}}function Nw(t,r,n,s,c){const S=this.declaredInputs[s],k=Im(t)||function Lw(t,r){return t[Mm]=r}(t,{previous:Es,current:null}),J=k.current||(k.current={}),le=k.previous,Se=le[S];J[S]=new Rw(Se&&Se.currentValue,n,le===Es),Tm(t,r,c,n)}ah.ngInherit=!0;const Mm="__ngSimpleChanges__";function Im(t){return t[Mm]||null}const ui=function(t,r,n){};function jn(t){for(;Array.isArray(t);)t=t[io];return t}function kl(t,r){return jn(r[t])}function ss(t,r){return jn(r[t.index])}function Nl(t,r){return t.data[r]}function xs(t,r){const n=r[t];return Uo(n)?n:n[io]}function ch(t){return!(128&~t[en])}function Bs(t,r){return null==r?null:t[r]}function Pm(t){t[Ra]=0}function Rm(t){1024&t[en]||(t[en]|=1024,ch(t)&&ac(t))}function Ll(t){var r;return!!(9216&t[en]||null!==(r=t[Us])&&void 0!==r&&r.dirty)}function dh(t){var r;null===(r=t[ii].changeDetectionScheduler)||void 0===r||r.notify(7),64&t[en]&&(t[en]|=1024),Ll(t)&&ac(t)}function ac(t){var r;null===(r=t[ii].changeDetectionScheduler)||void 0===r||r.notify(0);let n=Ci(t);for(;null!==n&&!(8192&n[en])&&(n[en]|=8192,ch(n));)n=Ci(n)}function lc(t,r){if(!(256&~t[en]))throw new Rr(911,!1);null===t[Ri]&&(t[Ri]=[]),t[Ri].push(r)}function Ci(t){const r=t[xo];return Zo(r)?r[xo]:r}const un={lFrame:Km(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Nm=!1;function Lm(){return un.bindingsEnabled}function ea(){return null!==un.skipHydrationRootTNode}function Cr(){return un.lFrame.lView}function gn(){return un.lFrame.tView}function Fm(t){return un.lFrame.contextLView=t,t[Zn]}function Um(t){return un.lFrame.contextLView=null,t}function Hn(){let t=Bm();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bm(){return un.lFrame.currentTNode}function Ys(t,r){const n=un.lFrame;n.currentTNode=t,n.isParent=r}function ph(){return un.lFrame.isParent}function mh(){un.lFrame.isParent=!1}function Gm(){return Nm}function Hm(t){Nm=t}function Js(){return un.lFrame.bindingIndex++}function Di(t){const r=un.lFrame,n=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,n}function Jw(t,r){const n=un.lFrame;n.bindingIndex=n.bindingRootIndex=t,gh(r)}function gh(t){un.lFrame.currentDirectiveIndex=t}function vh(){return un.lFrame.currentQueryIndex}function cc(t){un.lFrame.currentQueryIndex=t}function Qw(t){const r=t[Nr];return 2===r.type?r.declTNode:1===r.type?t[Xo]:null}function Xm(t,r,n){if(n&mn.SkipSelf){let c=r,S=t;for(;!(c=c.parent,null!==c||n&mn.Host||(c=Qw(S),null===c||(S=S[Pa],10&c.type))););if(null===c)return!1;r=c,t=S}const s=un.lFrame=qm();return s.currentTNode=r,s.lView=t,!0}function bh(t){const r=qm(),n=t[Nr];un.lFrame=r,r.currentTNode=n.firstChild,r.lView=t,r.tView=n,r.contextLView=t,r.bindingIndex=n.bindingStartIndex,r.inI18n=!1}function qm(){const t=un.lFrame,r=null===t?null:t.child;return null===r?Km(t):r}function Km(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ym(){const t=un.lFrame;return un.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jm=Ym;function _h(){const t=Ym();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qo(){return un.lFrame.selectedIndex}function ta(t){un.lFrame.selectedIndex=t}function Qn(){const t=un.lFrame;return Nl(t.tView,t.selectedIndex)}let Qm=!0;function Ul(){return Qm}function ci(t){Qm=t}function dc(t,r){for(let Se=r.directiveStart,Ne=r.directiveEnd;Se<Ne;Se++){const St=t.data[Se].type.prototype,{ngAfterContentInit:jt,ngAfterContentChecked:Mt,ngAfterViewInit:dr,ngAfterViewChecked:Ar,ngOnDestroy:jr}=St;var n,s,c,S,k,J,le;jt&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-Se,jt),Mt&&((null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(Se,Mt),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(Se,Mt)),dr&&(null!==(S=t.viewHooks)&&void 0!==S?S:t.viewHooks=[]).push(-Se,dr),Ar&&((null!==(k=t.viewHooks)&&void 0!==k?k:t.viewHooks=[]).push(Se,Ar),(null!==(J=t.viewCheckHooks)&&void 0!==J?J:t.viewCheckHooks=[]).push(Se,Ar)),null!=jr&&(null!==(le=t.destroyHooks)&&void 0!==le?le:t.destroyHooks=[]).push(Se,jr)}}function hc(t,r,n){eg(t,r,3,n)}function fc(t,r,n,s){(3&t[en])===n&&eg(t,r,n,s)}function wh(t,r){let n=t[en];(3&n)===r&&(n&=16383,n+=1,t[en]=n)}function eg(t,r,n,s){const S=null!=s?s:-1,k=r.length-1;let J=0;for(let le=void 0!==s?65535&t[Ra]:0;le<k;le++)if("number"==typeof r[le+1]){if(J=r[le],null!=s&&J>=s)break}else r[le]<0&&(t[Ra]+=65536),(J<S||-1==S)&&(iE(t,n,r,le),t[Ra]=(4294901760&t[Ra])+le+2),le++}function tg(t,r){ui(4,t,r);const n=se(null);try{r.call(t)}finally{se(n),ui(5,t,r)}}function iE(t,r,n,s){const c=n[s]<0,S=n[s+1],J=t[c?-n[s]:n[s]];c?t[en]>>14<t[Ra]>>16&&(3&t[en])===r&&(t[en]+=16384,tg(J,S)):tg(J,S)}const La=-1;class Bl{constructor(r,n,s){this.factory=r,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}const Sh={};class ra{constructor(r,n){this.injector=r,this.parentInjector=n}get(r,n,s){s=Jn(s);const c=this.injector.get(r,Sh,s);return c!==Sh||n===Sh?c:this.parentInjector.get(r,n,s)}}function Ch(t){return t!==La}function $l(t){return 32767&t}function Vl(t,r){let n=function cE(t){return t>>16}(t),s=r;for(;n>0;)s=s[Pa],n--;return s}let xh=!0;function pc(t){const r=xh;return xh=t,r}const ng=255,og=5;let hE=0;const di={};function mc(t,r){const n=sg(t,r);if(-1!==n)return n;const s=r[Nr];s.firstCreatePass&&(t.injectorIndex=r.length,Dh(s.data,t),Dh(r,null),Dh(s.blueprint,null));const c=gc(t,r),S=t.injectorIndex;if(Ch(c)){const k=$l(c),J=Vl(c,r),le=J[Nr].data;for(let Se=0;Se<8;Se++)r[S+Se]=J[k+Se]|le[k+Se]}return r[S+8]=c,S}function Dh(t,r){t.push(0,0,0,0,0,0,0,0,r)}function sg(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function gc(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,s=null,c=r;for(;null!==c;){if(s=fg(c),null===s)return La;if(n++,c=c[Pa],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return La}function Th(t,r,n){!function fE(t,r,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(oi)&&(s=n[oi]),null==s&&(s=n[oi]=hE++);const c=s&ng;r.data[t+(c>>og)]|=1<<c}(t,r,n)}function ig(t,r,n){if(n&mn.Optional||void 0!==t)return t;Gi()}function ag(t,r,n,s){if(n&mn.Optional&&void 0===s&&(s=null),!(n&(mn.Self|mn.Host))){const c=t[Do],S=Io(void 0);try{return c?c.get(r,s,n&mn.Optional):ds(r,s,n&mn.Optional)}finally{Io(S)}}return ig(s,0,n)}function lg(t,r,n,s=mn.Default,c){if(null!==t){if(2048&r[en]&&!(s&mn.Self)){const k=function vE(t,r,n,s,c){let S=t,k=r;for(;null!==S&&null!==k&&2048&k[en]&&!(512&k[en]);){const J=ug(S,k,n,s|mn.Self,di);if(J!==di)return J;let le=S.parent;if(!le){const Se=k[Sm];if(Se){const Ne=Se.get(n,di,s);if(Ne!==di)return Ne}le=fg(k),k=k[Pa]}S=le}return c}(t,r,n,s,di);if(k!==di)return k}const S=ug(t,r,n,s,di);if(S!==di)return S}return ag(r,n,s,c)}function ug(t,r,n,s,c){const S=function gE(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(oi)?t[oi]:void 0;return"number"==typeof r?r>=0?r&ng:yE:r}(n);if("function"==typeof S){if(!Xm(r,t,s))return s&mn.Host?ig(c,0,s):ag(r,n,s,c);try{let k;if(k=S(s),null!=k||s&mn.Optional)return k;Gi()}finally{Jm()}}else if("number"==typeof S){let k=null,J=sg(t,r),le=La,Se=s&mn.Host?r[ao][Xo]:null;for((-1===J||s&mn.SkipSelf)&&(le=-1===J?gc(t,r):r[J+8],le!==La&&dg(s,!1)?(k=r[Nr],J=$l(le),r=Vl(le,r)):J=-1);-1!==J;){const Ne=r[Nr];if(cg(S,J,Ne.data)){const Ke=mE(J,r,n,k,s,Se);if(Ke!==di)return Ke}le=r[J+8],le!==La&&dg(s,r[Nr].data[J+8]===Se)&&cg(S,J,r)?(k=Ne,J=$l(le),r=Vl(le,r)):J=-1}}return c}function mE(t,r,n,s,c,S){const k=r[Nr],J=k.data[t+8],Ne=yc(J,k,n,null==s?Zi(J)&&xh:s!=k&&!!(3&J.type),c&mn.Host&&S===J);return null!==Ne?na(r,k,Ne,J):di}function yc(t,r,n,s,c){const S=t.providerIndexes,k=r.data,J=1048575&S,le=t.directiveStart,Ne=S>>20,St=c?J+Ne:t.directiveEnd;for(let jt=s?J:J+Ne;jt<St;jt++){const Mt=k[jt];if(jt<le&&n===Mt||jt>=le&&Mt.type===n)return jt}if(c){const jt=k[le];if(jt&&Ks(jt)&&jt.type===n)return le}return null}function na(t,r,n,s){let c=t[n];const S=r.data;if(function aE(t){return t instanceof Bl}(c)){const k=c;k.resolving&&function Hu(t,r){throw r&&r.join(" > "),new Rr(-200,t)}(function An(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():an(t)}(S[n]));const J=pc(k.canSeeViewProviders);k.resolving=!0;const Se=k.injectImpl?Io(k.injectImpl):null;Xm(t,s,mn.Default);try{c=t[n]=k.factory(void 0,S,t,s),r.firstCreatePass&&n>=s.directiveStart&&function sE(t,r,n){const{ngOnChanges:s,ngOnInit:c,ngDoCheck:S}=r.type.prototype;if(s){var k,J;const Ke=Am(r);(null!==(k=n.preOrderHooks)&&void 0!==k?k:n.preOrderHooks=[]).push(t,Ke),(null!==(J=n.preOrderCheckHooks)&&void 0!==J?J:n.preOrderCheckHooks=[]).push(t,Ke)}var le,Se,Ne;c&&(null!==(le=n.preOrderHooks)&&void 0!==le?le:n.preOrderHooks=[]).push(0-t,c),S&&((null!==(Se=n.preOrderHooks)&&void 0!==Se?Se:n.preOrderHooks=[]).push(t,S),(null!==(Ne=n.preOrderCheckHooks)&&void 0!==Ne?Ne:n.preOrderCheckHooks=[]).push(t,S))}(n,S[n],r)}finally{null!==Se&&Io(Se),pc(J),k.resolving=!1,Jm()}}return c}function cg(t,r,n){return!!(n[r+(t>>og)]&1<<t)}function dg(t,r){return!(t&mn.Self||t&mn.Host&&r)}class Oo{constructor(r,n){this._tNode=r,this._lView=n}get(r,n,s){return lg(this._tNode,this._lView,r,Jn(s),n)}}function yE(){return new Oo(Hn(),Cr())}function hg(t){return Un(()=>{const r=t.prototype.constructor,n=r[ks]||Ah(r),s=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==s;){const S=c[ks]||Ah(c);if(S&&S!==n)return S;c=Object.getPrototypeOf(c)}return S=>new S})}function Ah(t){return Ho(t)?()=>{const r=Ah(Hr(t));return r&&r()}:_i(t)}function fg(t){const r=t[Nr],n=r.type;return 2===n?r.declTNode:1===n?t[Xo]:null}function vc(t){return function pE(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const n=t.attrs;if(n){const s=n.length;let c=0;for(;c<s;){const S=n[c];if(qu(S))break;if(0===S)c+=2;else if("number"==typeof S)for(c++;c<s&&"string"==typeof n[c];)c++;else{if(S===r)return n[c+1];c+=2}}}return null}(Hn(),t)}function vg(t,r=null,n=null,s){const c=bg(t,r,n,s);return c.resolveInjectorInitializers(),c}function bg(t,r=null,n=null,s,c=new Set){const S=[n||En,Ml(t)];return s=s||("object"==typeof t?void 0:Xn(t)),new Ia(S,r||tc(),s||null,c)}class Bo{static create(r,n){if(Array.isArray(r))return vg({name:""},n,r,"");{var s;const c=null!==(s=r.name)&&void 0!==s?s:"";return vg({name:c},r.parent,r.providers,c)}}}(bn=Bo).THROW_IF_NOT_FOUND=ce,bn.NULL=new Wi,bn.\u0275prov=Lr({token:bn,providedIn:"any",factory:()=>Yr(Wu)}),bn.__NG_ELEMENT_ID__=-1,new $r("").__NG_ELEMENT_ID__=t=>{const r=Hn();if(null===r)throw new Rr(204,!1);if(2&r.type)return r.value;if(t&mn.Optional)return null;throw new Rr(204,!1)};function Ih(t){return t.ngOriginalError}let Gl=(()=>{var t;class r{}return(t=r).__NG_ELEMENT_ID__=AE,t.__NG_ENV_ID__=n=>n,r})();class TE extends Gl{constructor(r){super(),this._lView=r}onDestroy(r){return lc(this._lView,r),()=>function hh(t,r){if(null===t[Ri])return;const n=t[Ri].indexOf(r);-1!==n&&t[Ri].splice(n,1)}(this._lView,r)}}function AE(){return new TE(Cr())}let oa=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ze.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>new t}),r})();const hi=class ME extends st.B{constructor(r=!1){var n,s;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=r,_m()&&(this.destroyRef=null!==(n=kr(Gl,{optional:!0}))&&void 0!==n?n:void 0,this.pendingTasks=null!==(s=kr(oa,{optional:!0}))&&void 0!==s?s:void 0)}emit(r){const n=se(null);try{super.next(r)}finally{se(n)}}subscribe(r,n,s){let c=r,S=n||(()=>null),k=s;if(r&&"object"==typeof r){var J,le,Se;const Ke=r;c=null===(J=Ke.next)||void 0===J?void 0:J.bind(Ke),S=null===(le=Ke.error)||void 0===le?void 0:le.bind(Ke),k=null===(Se=Ke.complete)||void 0===Se?void 0:Se.bind(Ke)}this.__isAsync&&(S=this.wrapInTimeout(S),c&&(c=this.wrapInTimeout(c)),k&&(k=this.wrapInTimeout(k)));const Ne=super.subscribe({next:c,error:S,complete:k});return r instanceof lt.yU&&r.add(Ne),Ne}wrapInTimeout(r){return n=>{var s;const c=null===(s=this.pendingTasks)||void 0===s?void 0:s.add();setTimeout(()=>{var S;r(n),void 0!==c&&(null===(S=this.pendingTasks)||void 0===S||S.remove(c))})}}};function _c(...t){}function wg(t){let r,n;function s(){t=_c;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==r&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{t(),s()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),s()})),()=>s()}function Eg(t){return queueMicrotask(()=>t()),()=>{t=_c}}class no{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hi(!1),this.onMicrotaskEmpty=new hi(!1),this.onStable=new hi(!1),this.onError=new hi(!1),typeof Zone>"u")throw new Rr(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&n,c.shouldCoalesceRunChangeDetection=s,c.callbackScheduled=!1,function OE(t){const r=()=>{!function jE(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{wg(()=>{t.callbackScheduled=!1,Oh(t),t.isCheckStableRunning=!0,jh(t),t.isCheckStableRunning=!1})}),Oh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,c,S,k,J)=>{if(function PE(t){return xg(t,"__ignore_ng_zone__")}(J))return n.invokeTask(c,S,k,J);try{return Sg(t),n.invokeTask(c,S,k,J)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===S.type||t.shouldCoalesceRunChangeDetection)&&r(),Cg(t)}},onInvoke:(n,s,c,S,k,J,le)=>{try{return Sg(t),n.invoke(c,S,k,J,le)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function RE(t){return xg(t,"__scheduler_tick__")}(J)&&r(),Cg(t)}},onHasTask:(n,s,c,S)=>{n.hasTask(c,S),s===c&&("microTask"==S.change?(t._hasPendingMicrotasks=S.microTask,Oh(t),jh(t)):"macroTask"==S.change&&(t.hasPendingMacrotasks=S.macroTask))},onHandleError:(n,s,c,S)=>(n.handleError(c,S),t.runOutsideAngular(()=>t.onError.emit(S)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new Rr(909,!1)}static assertNotInAngularZone(){if(no.isInAngularZone())throw new Rr(909,!1)}run(r,n,s){return this._inner.run(r,n,s)}runTask(r,n,s,c){const S=this._inner,k=S.scheduleEventTask("NgZoneEvent: "+c,r,IE,_c,_c);try{return S.runTask(k,n,s)}finally{S.cancelTask(k)}}runGuarded(r,n,s){return this._inner.runGuarded(r,n,s)}runOutsideAngular(r){return this._outer.run(r)}}const IE={};function jh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Oh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Sg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cg(t){t._nesting--,jh(t)}class Ph{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hi,this.onMicrotaskEmpty=new hi,this.onStable=new hi,this.onError=new hi}run(r,n,s){return r.apply(n,s)}runGuarded(r,n,s){return r.apply(n,s)}runOutsideAngular(r){return r()}runTask(r,n,s,c){return r.apply(n,s)}}function xg(t,r){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0])||void 0===n||null===(n=n.data)||void 0===n?void 0:n[r])}class fi{constructor(){this._console=console}handleError(r){const n=this._findOriginalError(r);this._console.error("ERROR",r),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(r){let n=r&&Ih(r);for(;n&&Ih(n);)n=Ih(n);return n||null}}const NE=new $r("",{providedIn:"root",factory:()=>{const t=kr(no),r=kr(fi);return n=>t.runOutsideAngular(()=>r.handleError(n))}});function LE(){return Ba(Hn(),Cr())}function Ba(t,r){return new Hl(ss(t,r))}let Hl=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=LE,r})();function Tg(t){return t instanceof Hl?t.nativeElement:t}function FE(){return this._results[Symbol.iterator]()}class Rh{get changes(){var r;return null!==(r=this._changes)&&void 0!==r?r:this._changes=new hi}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Rh.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=FE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,n){return this._results.reduce(r,n)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,n){this.dirty=!1;const s=function zo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Gd(t,r,n){if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++){let c=t[s],S=r[s];if(n&&(c=n(c),S=n(S)),S!==c)return!1}return!0}(this._results,s,n))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){var r;this.dirty=!0,null===(r=this._onDirty)||void 0===r||r.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wc(t){return!(128&~t.flags)}const kh=new Map;let BE=0;const Sc="__ngContext__";function Qo(t,r){Uo(r)?(t[Sc]=r[ka],function VE(t){kh.set(t[ka],t)}(r)):t[Sc]=r}function Lg(t){return Ug(t[jl])}function Fg(t){return Ug(t[qs])}function Ug(t){for(;null!==t&&!Zo(t);)t=t[qs];return t}let Lh;function sS(t){Lh=t}const xc=new $r("",{providedIn:"root",factory:()=>iS}),iS="ng",Xg=new $r(""),Fh=new $r("",{providedIn:"platform",factory:()=>"unknown"}),aS=new $r("",{providedIn:"root",factory:()=>{var t;return(null===(t=function ki(){if(void 0!==Lh)return Lh;if(typeof document<"u")return document;throw new Rr(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let qg=()=>null;function Gh(t,r,n=!1){return qg(t,r,n)}const ry=new $r("",{providedIn:"root",factory:()=>!1});let Oc,Pc;function Wa(t){var r;return(null===(r=function qh(){if(void 0===Oc&&(Oc=null,zn.trustedTypes))try{Oc=zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Oc}())||void 0===r?void 0:r.createHTML(t))||t}function ay(t){var r;return(null===(r=function Kh(){if(void 0===Pc&&(Pc=null,zn.trustedTypes))try{Pc=zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}())||void 0===r?void 0:r.createScriptURL(t))||t}class sa{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kn})`}}class wS extends sa{getTypeName(){return"HTML"}}class ES extends sa{getTypeName(){return"Style"}}class SS extends sa{getTypeName(){return"Script"}}class CS extends sa{getTypeName(){return"URL"}}class xS extends sa{getTypeName(){return"ResourceURL"}}function Ti(t){return t instanceof sa?t.changingThisBreaksApplicationSecurity:t}function Xa(t,r){const n=function DS(t){return t instanceof sa&&t.getTypeName()||null}(t);if(null!=n&&n!==r){if("ResourceURL"===n&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${n} (see ${kn})`)}return n===r}function TS(t){return new wS(t)}function AS(t){return new ES(t)}function MS(t){return new SS(t)}function IS(t){return new CS(t)}function jS(t){return new xS(t)}class OS{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const n=(new window.DOMParser).parseFromString(Wa(r),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(r):(n.removeChild(n.firstChild),n)}catch{return null}}}class PS{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const n=this.inertDocument.createElement("template");return n.innerHTML=Wa(r),n}}const kS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rc(t){return(t=String(t)).match(kS)?t:"unsafe:"+t}function Ai(t){const r={};for(const n of t.split(","))r[n]=!0;return r}function Ql(...t){const r={};for(const n of t)for(const s in n)n.hasOwnProperty(s)&&(r[s]=!0);return r}const uy=Ai("area,br,col,hr,img,wbr"),cy=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dy=Ai("rp,rt"),Yh=Ql(uy,Ql(cy,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ql(dy,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ql(dy,cy)),Jh=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hy=Ql(Jh,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),NS=Ai("script,style,template");class LS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let n=r.firstChild,s=!0,c=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?s=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,s&&n.firstChild)c.push(n),n=BS(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let S=US(n);if(S){n=S;break}n=c.pop()}return this.buf.join("")}startElement(r){const n=fy(r).toLowerCase();if(!Yh.hasOwnProperty(n))return this.sanitizedSomething=!0,!NS.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const s=r.attributes;for(let c=0;c<s.length;c++){const S=s.item(c),k=S.name,J=k.toLowerCase();if(!hy.hasOwnProperty(J)){this.sanitizedSomething=!0;continue}let le=S.value;Jh[J]&&(le=Rc(le)),this.buf.push(" ",k,'="',my(le),'"')}return this.buf.push(">"),!0}endElement(r){const n=fy(r).toLowerCase();Yh.hasOwnProperty(n)&&!uy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(r){this.buf.push(my(r))}}function US(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw py(r);return r}function BS(t){const r=t.firstChild;if(r&&function FS(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw py(r);return r}function fy(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function py(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const $S=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VS=/([^\#-~ |!])/g;function my(t){return t.replace(/&/g,"&amp;").replace($S,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(VS,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kc;function gy(t,r){let n=null;try{kc=kc||function ly(t){const r=new PS(t);return function RS(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new OS(r):r}(t);let s=r?String(r):"";n=kc.getInertBodyElement(s);let c=5,S=s;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,s=S,S=n.innerHTML,n=kc.getInertBodyElement(s)}while(s!==S);return Wa((new LS).sanitizeChildren(Zh(n)||n))}finally{if(n){const s=Zh(n)||n;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function Zh(t){return"content"in t&&function GS(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ia=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ia||{});function Qh(t){const r=eu();return r?r.sanitize(ia.URL,t)||"":Xa(t,"URL")?Ti(t):Rc(an(t))}function yy(t){const r=eu();if(r)return ay(r.sanitize(ia.RESOURCE_URL,t)||"");if(Xa(t,"ResourceURL"))return ay(Ti(t));throw new Rr(904,!1)}function vy(t,r,n){return function KS(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?yy:Qh}(r,n)(t)}function eu(){const t=Cr();return t&&t[ii].sanitizer}const YS=/^>|^->|<!--|-->|--!>|<!-$/g,JS=/(<|>)/g,ZS="\u200b$1\u200b";function Ds(t){return t instanceof Function?t():t}var Fc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fc||{});let rf;function nf(t,r){return rf(t,r)}function Ka(t,r,n,s,c){if(null!=s){let S,k=!1;Zo(s)?S=s:Uo(s)&&(k=!0,s=s[io]);const J=jn(s);0===t&&null!==n?null==c?jy(r,n,J):aa(r,n,J,c||null,!0):1===t&&null!==n?aa(r,n,J,c||null,!0):2===t?function ru(t,r,n){const s=$c(t,r);s&&function gC(t,r,n,s){t.removeChild(r,n,s)}(t,s,r,n)}(r,J,k):3===t&&r.destroyNode(J),null!=S&&function bC(t,r,n,s,c){const S=n[li];S!==jn(n)&&Ka(r,t,s,S,c);for(let J=yo;J<n.length;J++){const le=n[J];Gc(le[Nr],le,t,r,s,S)}}(r,t,S,n,c)}}function af(t,r){return t.createComment(function by(t){return t.replace(YS,r=>r.replace(JS,ZS))}(r))}function Uc(t,r,n){return t.createElement(r,n)}function Ay(t,r){var n;null===(n=r[ii].changeDetectionScheduler)||void 0===n||n.notify(8),Gc(t,r,r[ln],2,null,null)}function My(t,r){const n=t[Na],s=r[xo];(Uo(s)||r[ao]!==s[xo][ao])&&(t[en]|=sc.HasTransplantedViews),null===n?t[Na]=[r]:n.push(r)}function lf(t,r){const n=t[Na],s=n.indexOf(r);n.splice(s,1)}function tu(t,r){if(t.length<=yo)return;const n=yo+r,s=t[n];if(s){const c=s[Ji];null!==c&&c!==t&&lf(c,s),r>0&&(t[n-1][qs]=s[qs]);const S=Ta(t,yo+r);!function cC(t,r){Ay(t,r),r[io]=null,r[Xo]=null}(s[Nr],s);const k=S[ai];null!==k&&k.detachView(S[Nr]),s[xo]=null,s[qs]=null,s[en]&=-129}return s}function Bc(t,r){if(!(256&r[en])){const n=r[ln];n.destroyNode&&Gc(t,r,n,3,null,null),function hC(t){let r=t[jl];if(!r)return uf(t[Nr],t);for(;r;){let n=null;if(Uo(r))n=r[jl];else{const s=r[yo];s&&(n=s)}if(!n){for(;r&&!r[qs]&&r!==t;)Uo(r)&&uf(r[Nr],r),r=r[xo];null===r&&(r=t),Uo(r)&&uf(r[Nr],r),n=r&&r[qs]}r=n}}(r)}}function uf(t,r){if(256&r[en])return;const n=se(null);try{r[en]&=-129,r[en]|=256,r[Us]&&m(r[Us]),function mC(t,r){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let s=0;s<n.length;s+=2){const c=r[n[s]];if(!(c instanceof Bl)){const S=n[s+1];if(Array.isArray(S))for(let k=0;k<S.length;k+=2){const J=c[S[k]],le=S[k+1];ui(4,J,le);try{le.call(J)}finally{ui(5,J,le)}}else{ui(4,c,S);try{S.call(c)}finally{ui(5,c,S)}}}}}(t,r),function pC(t,r){const n=t.cleanup,s=r[Yi];if(null!==n)for(let S=0;S<n.length-1;S+=2)if("string"==typeof n[S]){const k=n[S+3];k>=0?s[k]():s[-k].unsubscribe(),S+=2}else n[S].call(s[n[S+1]]);null!==s&&(r[Yi]=null);const c=r[Ri];if(null!==c){r[Ri]=null;for(let S=0;S<c.length;S++)(0,c[S])()}}(t,r),1===r[Nr].type&&r[ln].destroy();const s=r[Ji];if(null!==s&&Zo(r[xo])){s!==r[xo]&&lf(s,r);const c=r[ai];null!==c&&c.detachView(t)}!function GE(t){kh.delete(t[ka])}(r)}finally{se(n)}}function cf(t,r,n){return function Iy(t,r,n){let s=r;for(;null!==s&&168&s.type;)s=(r=s).parent;if(null===s)return n[io];{const{componentOffset:c}=s;if(c>-1){const{encapsulation:S}=t.data[s.directiveStart+c];if(S===wi.None||S===wi.Emulated)return null}return ss(s,n)}}(t,r.parent,n)}function aa(t,r,n,s,c){t.insertBefore(r,n,s,c)}function jy(t,r,n){t.appendChild(r,n)}function Oy(t,r,n,s,c){null!==s?aa(t,r,n,s,c):jy(t,r,n)}function $c(t,r){return t.parentNode(r)}function Py(t,r,n){return ky(t,r,n)}let df,ky=function Ry(t,r,n){return 40&t.type?ss(t,n):null};function Vc(t,r,n,s){const c=cf(t,s,r),S=r[ln],J=Py(s.parent||r[Xo],s,r);if(null!=c)if(Array.isArray(n))for(let le=0;le<n.length;le++)Oy(S,c,n[le],J,!1);else Oy(S,c,n,J,!1);void 0!==df&&df(S,s,r,n,c)}function la(t,r){if(null!==r){const n=r.type;if(3&n)return ss(r,t);if(4&n)return hf(-1,t[r.index]);if(8&n){const s=r.child;if(null!==s)return la(t,s);{const c=t[r.index];return Zo(c)?hf(-1,c):jn(c)}}if(128&n)return la(t,r.next);if(32&n)return nf(r,t)()||jn(t[r.index]);{const s=Ly(t,r);return null!==s?Array.isArray(s)?s[0]:la(Ci(t[ao]),s):la(t,r.next)}}return null}function Ly(t,r){return null!==r?t[ao][Xo].projection[r.projection]:null}function hf(t,r){const n=yo+t+1;if(n<r.length){const s=r[n],c=s[Nr].firstChild;if(null!==c)return la(s,c)}return r[li]}function ff(t,r,n,s,c,S,k){for(;null!=n;){if(128===n.type){n=n.next;continue}const J=s[n.index],le=n.type;if(k&&0===r&&(J&&Qo(jn(J),s),n.flags|=2),32&~n.flags)if(8&le)ff(t,r,n.child,s,c,S,!1),Ka(r,t,c,J,S);else if(32&le){const Se=nf(n,s);let Ne;for(;Ne=Se();)Ka(r,t,c,Ne,S);Ka(r,t,c,J,S)}else 16&le?Uy(t,r,s,n,c,S):Ka(r,t,c,J,S);n=k?n.projectionNext:n.next}}function Gc(t,r,n,s,c,S){ff(n,s,t.firstChild,r,c,S,!1)}function Uy(t,r,n,s,c,S){const k=n[ao],le=k[Xo].projection[s.projection];if(Array.isArray(le))for(let Se=0;Se<le.length;Se++)Ka(r,t,c,le[Se],S);else{let Se=le;const Ne=k[xo];wc(s)&&(Se.flags|=128),ff(t,r,Se,Ne,c,S,!0)}}function By(t,r,n){""===n?t.removeAttribute(r,"class"):t.setAttribute(r,"class",n)}function $y(t,r,n){const{mergedAttrs:s,classes:c,styles:S}=n;null!==s&&Tl(t,r,s),null!==c&&By(t,r,c),null!==S&&function wC(t,r,n){t.setAttribute(r,"style",n)}(t,r,S)}const cn={};function Vy(t=1){Gy(gn(),Cr(),qo()+t,!1)}function Gy(t,r,n,s){if(!s)if(3&~r[en]){const S=t.preOrderHooks;null!==S&&fc(r,S,0,n)}else{const S=t.preOrderCheckHooks;null!==S&&hc(r,S,n)}ta(n)}function Ya(t,r=mn.Default){const n=Cr();return null===n?Yr(t,r):lg(Hn(),n,Hr(t),r)}function Hy(){throw new Error("invalid")}function zy(t,r,n,s,c,S){const k=se(null);try{let J=null;c&Ei.SignalBased&&(J=r[s][o]),null!==J&&void 0!==J.transformFn&&(S=J.transformFn(S)),c&Ei.HasDecoratorInputTransform&&(S=t.inputTransforms[s].call(r,S)),null!==t.setInput?t.setInput(r,J,S,n,s):Tm(r,J,s,S)}finally{se(k)}}function Hc(t,r,n,s,c,S,k,J,le,Se,Ne){const Ke=r.blueprint.slice();return Ke[io]=c,Ke[en]=204|s,(null!==Se||t&&2048&t[en])&&(Ke[en]|=2048),Pm(Ke),Ke[xo]=Ke[Pa]=t,Ke[Zn]=n,Ke[ii]=k||t&&t[ii],Ke[ln]=J||t&&t[ln],Ke[Do]=le||t&&t[Do]||null,Ke[Xo]=S,Ke[ka]=function $E(){return BE++}(),Ke[os]=Ne,Ke[Sm]=Se,Ke[ao]=2==r.type?t[ao]:Ke,Ke}function ua(t,r,n,s,c){let S=t.data[r];if(null===S)S=function pf(t,r,n,s,c){const S=Bm(),k=ph(),le=t.data[r]=function MC(t,r,n,s,c,S){let k=r?r.injectorIndex:-1,J=0;return ea()&&(J|=128),{type:n,index:s,insertBeforeIndex:null,injectorIndex:k,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:J,providerIndexes:0,value:c,attrs:S,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?S:S&&S.parent,n,r,s,c);return null===t.firstChild&&(t.firstChild=le),null!==S&&(k?null==S.child&&null!==le.parent&&(S.child=le):null===S.next&&(S.next=le,le.prev=S)),le}(t,r,n,s,c),function Yw(){return un.lFrame.inI18n}()&&(S.flags|=32);else if(64&S.type){S.type=n,S.value=s,S.attrs=c;const k=function Fl(){const t=un.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();S.injectorIndex=null===k?-1:k.injectorIndex}return Ys(S,!0),S}function nu(t,r,n,s){if(0===n)return-1;const c=r.length;for(let S=0;S<n;S++)r.push(s),t.blueprint.push(s),t.data.push(null);return c}function Wy(t,r,n,s,c){const S=qo(),k=2&s;try{ta(-1),k&&r.length>Zr&&Gy(t,r,Zr,!1),ui(k?2:0,c),n(s,c)}finally{ta(S),ui(k?3:1,c)}}function mf(t,r,n){if(oh(r)){const s=se(null);try{const S=r.directiveEnd;for(let k=r.directiveStart;k<S;k++){const J=t.data[k];J.contentQueries&&J.contentQueries(1,n[k],k)}}finally{se(s)}}}function gf(t,r,n){Lm()&&(function NC(t,r,n,s){const c=n.directiveStart,S=n.directiveEnd;Zi(n)&&function GC(t,r,n){const s=ss(r,t),c=Xy(n);let k=16;n.signals?k=4096:n.onPush&&(k=64);const J=zc(t,Hc(t,c,null,k,s,r,null,t[ii].rendererFactory.createRenderer(s,n),null,null,null));t[r.index]=J}(r,n,t.data[c+n.componentOffset]),t.firstCreatePass||mc(n,r),Qo(s,r);const k=n.initialInputs;for(let J=c;J<S;J++){const le=t.data[J],Se=na(r,t,J,n);Qo(Se,r),null!==k&&HC(0,J-c,Se,le,0,k),Ks(le)&&(xs(n.index,r)[Zn]=na(r,t,J,n))}}(t,r,n,ss(n,r)),!(64&~n.flags)&&Zy(t,r,n))}function yf(t,r,n=ss){const s=r.localNames;if(null!==s){let c=r.index+1;for(let S=0;S<s.length;S+=2){const k=s[S+1],J=-1===k?n(r,t):t[k];t[c++]=J}}}function Xy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=vf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function vf(t,r,n,s,c,S,k,J,le,Se,Ne){const Ke=Zr+s,St=Ke+c,jt=function SC(t,r){const n=[];for(let s=0;s<r;s++)n.push(s<t?null:cn);return n}(Ke,St),Mt="function"==typeof Se?Se():Se;return jt[Nr]={type:t,blueprint:jt,template:n,queries:null,viewQuery:J,declTNode:r,data:jt.slice().fill(null,Ke),bindingStartIndex:Ke,expandoStartIndex:St,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof S?S():S,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:le,consts:Mt,incompleteFirstPass:!1,ssrId:Ne}}let qy=()=>null;function Ky(t,r,n,s,c){for(let k in r){var S;if(!r.hasOwnProperty(k))continue;const J=r[k];if(void 0===J)continue;null!==(S=s)&&void 0!==S||(s={});let le,Se=Ei.None;Array.isArray(J)?(le=J[0],Se=J[1]):le=J;let Ne=k;if(null!==c){if(!c.hasOwnProperty(k))continue;Ne=c[k]}0===t?Yy(s,n,Ne,le,Se):Yy(s,n,Ne,le)}return s}function Yy(t,r,n,s,c){let S;t.hasOwnProperty(n)?(S=t[n]).push(r,s):S=t[n]=[r,s],void 0!==c&&S.push(c)}function gs(t,r,n,s,c,S,k,J){const le=ss(r,n);let Ne,Se=r.inputs;!J&&null!=Se&&(Ne=Se[s])?(Sf(t,n,Ne,s,c),Zi(r)&&function OC(t,r){const n=xs(r,t);16&n[en]||(n[en]|=64)}(n,r.index)):3&r.type&&(s=function jC(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),c=null!=k?k(c,r.value||"",s):c,S.setProperty(le,s,c))}function bf(t,r,n,s){if(Lm()){const c=null===s?null:{"":-1},S=function FC(t,r){const n=t.directiveRegistry;let s=null,c=null;if(n)for(let k=0;k<n.length;k++){const J=n[k];if(Zu(r,J.selectors,!1))if(s||(s=[]),Ks(J))if(null!==J.findHostDirectiveDefs){const le=[];c=c||new Map,J.findHostDirectiveDefs(J,le,c),s.unshift(...le,J),_f(t,r,le.length)}else s.unshift(J),_f(t,r,0);else{var S;c=c||new Map,null===(S=J.findHostDirectiveDefs)||void 0===S||S.call(J,J,s,c),s.push(J)}}return null===s?null:[s,c]}(t,n);let k,J;null===S?k=J=null:[k,J]=S,null!==k&&Jy(t,r,n,k,c,J),c&&function UC(t,r,n){if(r){const s=t.localNames=[];for(let c=0;c<r.length;c+=2){const S=n[r[c+1]];if(null==S)throw new Rr(-301,!1);s.push(r[c],S)}}}(n,s,c)}n.mergedAttrs=Pi(n.mergedAttrs,n.attrs)}function Jy(t,r,n,s,c,S){for(let Ke=0;Ke<s.length;Ke++)Th(mc(n,r),t,s[Ke].type);!function $C(t,r,n){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+n,t.providerIndexes=r}(n,t.data.length,s.length);for(let Ke=0;Ke<s.length;Ke++){const St=s[Ke];St.providersResolver&&St.providersResolver(St)}let k=!1,J=!1,le=nu(t,r,s.length,null);for(let Ke=0;Ke<s.length;Ke++){const St=s[Ke];n.mergedAttrs=Pi(n.mergedAttrs,St.hostAttrs),VC(t,n,r,le,St),BC(le,St,c),null!==St.contentQueries&&(n.flags|=4),(null!==St.hostBindings||null!==St.hostAttrs||0!==St.hostVars)&&(n.flags|=64);const jt=St.type.prototype;var Se,Ne;!k&&(jt.ngOnChanges||jt.ngOnInit||jt.ngDoCheck)&&((null!==(Se=t.preOrderHooks)&&void 0!==Se?Se:t.preOrderHooks=[]).push(n.index),k=!0),J||!jt.ngOnChanges&&!jt.ngDoCheck||((null!==(Ne=t.preOrderCheckHooks)&&void 0!==Ne?Ne:t.preOrderCheckHooks=[]).push(n.index),J=!0),le++}!function IC(t,r,n){const c=r.directiveEnd,S=t.data,k=r.attrs,J=[];let le=null,Se=null;for(let Ne=r.directiveStart;Ne<c;Ne++){const Ke=S[Ne],St=n?n.get(Ke):null,Mt=St?St.outputs:null;le=Ky(0,Ke.inputs,Ne,le,St?St.inputs:null),Se=Ky(1,Ke.outputs,Ne,Se,Mt);const dr=null===le||null===k||Al(r)?null:zC(le,Ne,k);J.push(dr)}null!==le&&(le.hasOwnProperty("class")&&(r.flags|=8),le.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=J,r.inputs=le,r.outputs=Se}(t,n,S)}function Zy(t,r,n){const s=n.directiveStart,c=n.directiveEnd,S=n.index,k=function Zw(){return un.lFrame.currentDirectiveIndex}();try{ta(S);for(let J=s;J<c;J++){const le=t.data[J],Se=r[J];gh(J),(null!==le.hostBindings||0!==le.hostVars||null!==le.hostAttrs)&&LC(le,Se)}}finally{ta(-1),gh(k)}}function LC(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function _f(t,r,n){var s;r.componentOffset=n,(null!==(s=t.components)&&void 0!==s?s:t.components=[]).push(r.index)}function BC(t,r,n){if(n){if(r.exportAs)for(let s=0;s<r.exportAs.length;s++)n[r.exportAs[s]]=t;Ks(r)&&(n[""]=t)}}function VC(t,r,n,s,c){t.data[s]=c;const S=c.factory||(c.factory=_i(c.type)),k=new Bl(S,Ks(c),Ya);t.blueprint[s]=k,n[s]=k,function RC(t,r,n,s,c){const S=c.hostBindings;if(S){let k=t.hostBindingOpCodes;null===k&&(k=t.hostBindingOpCodes=[]);const J=~r.index;(function kC(t){let r=t.length;for(;r>0;){const n=t[--r];if("number"==typeof n&&n<0)return n}return 0})(k)!=J&&k.push(J),k.push(n,s,S)}}(t,r,s,nu(t,n,c.hostVars,cn),c)}function pi(t,r,n,s,c,S){const k=ss(t,r);!function wf(t,r,n,s,c,S,k){if(null==S)t.removeAttribute(r,c,n);else{const J=null==k?an(S):k(S,s||"",c);t.setAttribute(r,c,J,n)}}(r[ln],k,S,t.value,n,s,c)}function HC(t,r,n,s,c,S){const k=S[r];if(null!==k)for(let J=0;J<k.length;)zy(s,n,k[J++],k[J++],k[J++],k[J++])}function zC(t,r,n){let s=null,c=0;for(;c<n.length;){const S=n[c];if(0!==S)if(5!==S){if("number"==typeof S)break;if(t.hasOwnProperty(S)){null===s&&(s=[]);const k=t[S];for(let J=0;J<k.length;J+=3)if(k[J]===r){s.push(S,k[J+1],k[J+2],n[c+1]);break}}c+=2}else c+=2;else c+=4}return s}function Qy(t,r,n,s){return[t,!0,0,r,null,s,null,n,null,null]}function ev(t,r){const n=t.contentQueries;if(null!==n){const s=se(null);try{for(let c=0;c<n.length;c+=2){const k=n[c+1];if(-1!==k){const J=t.data[k];cc(n[c]),J.contentQueries(2,r[k],k)}}}finally{se(s)}}}function zc(t,r){return t[jl]?t[Em][qs]=r:t[jl]=r,t[Em]=r,r}function Ef(t,r,n){cc(0);const s=se(null);try{r(t,n)}finally{se(s)}}function tv(t){var r;return null!==(r=t[Yi])&&void 0!==r?r:t[Yi]=[]}function rv(t){var r;return null!==(r=t.cleanup)&&void 0!==r?r:t.cleanup=[]}function Wc(t,r){const n=t[Do],s=n?n.get(fi,null):null;s&&s.handleError(r)}function Sf(t,r,n,s,c){for(let S=0;S<n.length;){const k=n[S++],J=n[S++],le=n[S++];zy(t.data[k],r[k],s,J,le,c)}}function Mi(t,r,n){const s=kl(r,t);!function Ty(t,r,n){t.setValue(r,n)}(t[ln],s,n)}function WC(t,r){const n=xs(r,t),s=n[Nr];!function XC(t,r){for(let n=r.length;n<t.blueprint.length;n++)r.push(t.blueprint[n])}(s,n);const c=n[io];null!==c&&null===n[os]&&(n[os]=Gh(c,n[Do])),Cf(s,n,n[Zn])}function Cf(t,r,n){bh(r);try{var s;const c=t.viewQuery;null!==c&&Ef(1,c,n);const S=t.template;null!==S&&Wy(t,r,S,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(s=r[ai])||void 0===s||s.finishViewCreation(t),t.staticContentQueries&&ev(t,r),t.staticViewQueries&&Ef(2,t.viewQuery,n);const k=t.components;null!==k&&function qC(t,r){for(let n=0;n<r.length;n++)WC(t,r[n])}(r,k)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[en]&=-5,_h()}}function Ja(t,r,n,s){const c=se(null);try{var S,k,J;const le=r.tView,Ke=Hc(t,le,n,4096&t[en]?4096:16,null,r,null,null,null!==(S=null==s?void 0:s.injector)&&void 0!==S?S:null,null!==(k=null==s?void 0:s.embeddedViewInjector)&&void 0!==k?k:null,null!==(J=null==s?void 0:s.dehydratedView)&&void 0!==J?J:null);Ke[Ji]=t[r.index];const jt=t[ai];return null!==jt&&(Ke[ai]=jt.createEmbeddedView(le)),Cf(le,Ke,n),Ke}finally{se(c)}}function ca(t,r){return!r||null===r.firstChild||wc(t)}function Za(t,r,n,s=!0){const c=r[Nr];if(function fC(t,r,n,s){const c=yo+s,S=n.length;s>0&&(n[c-1][qs]=r),s<S-yo?(r[qs]=n[c],Hd(n,yo+s,r)):(n.push(r),r[qs]=null),r[xo]=n;const k=r[Ji];null!==k&&n!==k&&My(k,r);const J=r[ai];null!==J&&J.insertView(t),dh(r),r[en]|=128}(c,r,t,n),s){const k=hf(n,t),J=r[ln],le=$c(J,t[li]);null!==le&&function dC(t,r,n,s,c,S){s[io]=c,s[Xo]=r,Gc(t,s,n,1,c,S)}(c,t[Xo],J,r,le,k)}const S=r[os];null!==S&&null!==S.firstChild&&(S.firstChild=null)}function ou(t,r,n,s,c=!1){for(;null!==n;){if(128===n.type){n=c?n.projectionNext:n.next;continue}const S=r[n.index];null!==S&&s.push(jn(S)),Zo(S)&&sv(S,s);const k=n.type;if(8&k)ou(t,r,n.child,s);else if(32&k){const J=nf(n,r);let le;for(;le=J();)s.push(le)}else if(16&k){const J=Ly(r,n);if(Array.isArray(J))s.push(...J);else{const le=Ci(r[ao]);ou(le[Nr],le,J,s,!0)}}n=c?n.projectionNext:n.next}return s}function sv(t,r){for(let n=yo;n<t.length;n++){const s=t[n],c=s[Nr].firstChild;null!==c&&ou(s[Nr],s,c,r)}t[li]!==t[io]&&r.push(t[li])}let iv=[];const ZC={...p,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ac(t.lView)},consumerOnSignalRead(){this.lView[Us]=this}},ex={...p,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let r=Ci(t.lView);for(;r&&!av(r[Nr]);)r=Ci(r);r&&Rm(r)},consumerOnSignalRead(){this.lView[Us]=this}};function av(t){return 2!==t.type}const tx=100;function Xc(t,r=!0,n=0){const s=t[ii],c=s.rendererFactory;var k;null===(k=c.begin)||void 0===k||k.call(c);try{!function rx(t,r){const n=Gm();try{Hm(!0),Df(t,r);let s=0;for(;Ll(t);){if(s===tx)throw new Rr(103,!1);s++,Df(t,1)}}finally{Hm(n)}}(t,n)}catch(Se){throw r&&Wc(t,Se),Se}finally{var J,le;null===(J=c.end)||void 0===J||J.call(c),null===(le=s.inlineEffectRunner)||void 0===le||le.flush()}}function nx(t,r,n,s){var c;const S=r[en];if(!(256&~S))return;null===(c=r[ii].inlineEffectRunner)||void 0===c||c.flush(),bh(r);let le=!0,Se=null,Ne=null;av(t)?(Ne=function KC(t){var r;return null!==(r=t[Us])&&void 0!==r?r:function YC(t){var r;const n=null!==(r=iv.pop())&&void 0!==r?r:Object.create(ZC);return n.lView=t,n}(t)}(r),Se=u(Ne)):null===function V(){return T}()?(le=!1,Ne=function QC(t){var r;const n=null!==(r=t[Us])&&void 0!==r?r:Object.create(ex);return n.lView=t,n}(r),Se=u(Ne)):r[Us]&&(m(r[Us]),r[Us]=null);try{Pm(r),function zm(t){return un.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Wy(t,r,n,2,s);const Ke=!(3&~S);if(Ke){const Mt=t.preOrderCheckHooks;null!==Mt&&hc(r,Mt,null)}else{const Mt=t.preOrderHooks;null!==Mt&&fc(r,Mt,0,null),wh(r,0)}if(function ox(t){for(let r=Lg(t);null!==r;r=Fg(r)){if(!(r[en]&sc.HasTransplantedViews))continue;const n=r[Na];for(let s=0;s<n.length;s++)Rm(n[s])}}(r),uv(r,0),null!==t.contentQueries&&ev(t,r),Ke){const Mt=t.contentCheckHooks;null!==Mt&&hc(r,Mt)}else{const Mt=t.contentHooks;null!==Mt&&fc(r,Mt,1),wh(r,1)}!function EC(t,r){const n=t.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const c=n[s];if(c<0)ta(~c);else{const S=c,k=n[++s],J=n[++s];Jw(k,S),J(2,r[S])}}}finally{ta(-1)}}(t,r);const St=t.components;null!==St&&dv(r,St,0);const jt=t.viewQuery;if(null!==jt&&Ef(2,jt,s),Ke){const Mt=t.viewCheckHooks;null!==Mt&&hc(r,Mt)}else{const Mt=t.viewHooks;null!==Mt&&fc(r,Mt,2),wh(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Ol]){for(const Mt of r[Ol])Mt();r[Ol]=null}r[en]&=-73}catch(Ke){throw ac(r),Ke}finally{null!==Ne&&(h(Ne,Se),le&&function JC(t){t.lView[Us]!==t&&(t.lView=null,iv.push(t))}(Ne)),_h()}}function uv(t,r){for(let n=Lg(t);null!==n;n=Fg(n))for(let s=yo;s<n.length;s++)cv(n[s],r)}function sx(t,r,n){cv(xs(r,t),n)}function cv(t,r){ch(t)&&Df(t,r)}function Df(t,r){const s=t[Nr],c=t[en],S=t[Us];let k=!!(0===r&&16&c);if(k||(k=!!(64&c&&0===r)),k||(k=!!(1024&c)),k||(k=!(null==S||!S.dirty||!d(S))),k||(k=!1),S&&(S.dirty=!1),t[en]&=-9217,k)nx(s,t,s.template,t[Zn]);else if(8192&c){uv(t,1);const J=s.components;null!==J&&dv(t,J,1)}}function dv(t,r,n){for(let s=0;s<r.length;s++)sx(t,r[s],n)}function su(t,r){var n;const s=Gm()?64:1088;for(null===(n=t[ii].changeDetectionScheduler)||void 0===n||n.notify(r);t;){t[en]|=s;const c=Ci(t);if(Rl(t)&&!c)return t;t=c}return null}class iu{get rootNodes(){const r=this._lView,n=r[Nr];return ou(n,r,n.firstChild,[])}constructor(r,n,s=!0){this._lView=r,this._cdRefInjectingView=n,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(r){this._lView[Zn]=r}get destroyed(){return!(256&~this._lView[en])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[xo];if(Zo(r)){const n=r[8],s=n?n.indexOf(this):-1;s>-1&&(tu(r,s),Ta(n,s))}this._attachedToViewContainer=!1}Bc(this._lView[Nr],this._lView)}onDestroy(r){lc(this._lView,r)}markForCheck(){su(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[en]&=-129}reattach(){dh(this._lView),this._lView[en]|=128}detectChanges(){this._lView[en]|=1024,Xc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Rr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const r=Rl(this._lView),n=this._lView[Ji];null!==n&&!r&&lf(n,this._lView),Ay(this._lView[Nr],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Rr(902,!1);this._appRef=r;const n=Rl(this._lView),s=this._lView[Ji];null!==s&&!n&&My(s,this._lView),dh(this._lView)}}let au=(()=>{class r{}return r.__NG_ELEMENT_ID__=lx,r})();const ix=au,ax=class extends ix{constructor(r,n,s){super(),this._declarationLView=r,this._declarationTContainer=n,this.elementRef=s}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,n){return this.createEmbeddedViewImpl(r,n)}createEmbeddedViewImpl(r,n,s){const c=Ja(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:n,dehydratedView:s});return new iu(c)}};function lx(){return qc(Hn(),Cr())}function qc(t,r){return 4&t.type?new ax(r,t,Ba(t,r)):null}let Ov=()=>null;function ha(t,r){return Ov(t,r)}class el{}const mu=new $r("",{providedIn:"root",factory:()=>!1}),Pv=new $r("");class eD{}class Rv{}class rD{resolveComponentFactory(r){throw function tD(t){const r=Error(`No component factory found for ${Xn(t)}.`);return r.ngComponent=t,r}(r)}}class gu{}gu.NULL=new rD;class Lf{}let nD=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function oD(){const t=Cr(),n=xs(Hn().index,t);return(Uo(n)?n:t)[ln]}(),r})(),sD=(()=>{var t;class r{}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>null}),r})();const Nv=new Set;function as(t){var r,n;Nv.has(t)||(Nv.add(t),null===(r=performance)||void 0===r||null===(n=r.mark)||void 0===n||n.call(r,"mark_feature_usage",{detail:{feature:t}}))}var ls=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ls||{});const Lv={destroy(){}};function Fv(t,r){var n,s;!r&&function rc(t){if(!_m())throw new Rr(-203,!1)}();const c=null!==(n=null==r?void 0:r.injector)&&void 0!==n?n:kr(Bo);return function ms(t){return"browser"===(null!=t?t:kr(Bo)).get(Fh)}(c)?(as("NgAfterNextRender"),function Uv(t,r,n,s){var c;const S=function aD(t,r){if(t instanceof Function)switch(r){case ls.EarlyRead:return{earlyRead:t};case ls.Write:return{write:t};case ls.MixedReadWrite:return{mixedReadWrite:t};case ls.Read:return{read:t}}return t}(t,s),k=r.get(ed),J=null!==(c=k.handler)&&void 0!==c?c:k.handler=new uD,le=[],Se=[],Ne=()=>{for(const Mt of Se)J.unregister(Mt);Ke()},Ke=r.get(Gl).onDestroy(Ne);let St=0;const jt=(Mt,dr)=>{if(!dr)return;const Ar=n?(...yr)=>(St--,St<1&&Ne(),dr(...yr)):dr,jr=bm(r,()=>new lD(Mt,le,Ar));J.register(jr),Se.push(jr),St++};return jt(ls.EarlyRead,S.earlyRead),jt(ls.Write,S.write),jt(ls.MixedReadWrite,S.mixedReadWrite),jt(ls.Read,S.read),{destroy:Ne}}(t,c,!0,null!==(s=null==r?void 0:r.phase)&&void 0!==s?s:ls.MixedReadWrite)):Lv}class lD{constructor(r,n,s){var c;this.phase=r,this.pipelinedArgs=n,this.callbackFn=s,this.zone=kr(no),this.errorHandler=kr(fi,{optional:!0}),null===(c=kr(el,{optional:!0}))||void 0===c||c.notify(6)}invoke(){try{const n=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,n)}catch(n){var r;null===(r=this.errorHandler)||void 0===r||r.handleError(n)}}}class uD{constructor(){this.executingCallbacks=!1,this.buckets={[ls.EarlyRead]:new Set,[ls.Write]:new Set,[ls.MixedReadWrite]:new Set,[ls.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const n of r)n.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let ed=(()=>{var t;class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var s;this.executeInternalCallbacks(),null===(s=this.handler)||void 0===s||s.execute()}executeInternalCallbacks(){const s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of s)c()}ngOnDestroy(){var s;null===(s=this.handler)||void 0===s||s.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>new t}),r})();function Ni(t){return!!Jr(t)}function rd(t,r,n){let s=n?t.styles:null,c=n?t.classes:null,S=0;if(null!==r)for(let k=0;k<r.length;k++){const J=r[k];"number"==typeof J?S=J:1==S?c=Rs(c,J):2==S&&(s=Rs(s,J+": "+r[++k]+";"))}n?t.styles=s:t.stylesWithoutHost=s,n?t.classes=c:t.classesWithoutHost=c}class Vv extends gu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const n=qt(r);return new bu(n,this.ngModule)}}function Gv(t,r){const n=[];for(const s in t){if(!t.hasOwnProperty(s))continue;const c=t[s];if(void 0===c)continue;const S=Array.isArray(c),k=S?c[0]:c;n.push(r?{propName:k,templateName:s,isSignal:!!((S?c[1]:Ei.None)&Ei.SignalBased)}:{propName:k,templateName:s})}return n}class bu extends Rv{get inputs(){const r=this.componentDef,n=r.inputTransforms,s=Gv(r.inputs,!0);if(null!==n)for(const c of s)n.hasOwnProperty(c.propName)&&(c.transform=n[c.propName]);return s}get outputs(){return Gv(this.componentDef.outputs,!1)}constructor(r,n){super(),this.componentDef=r,this.ngModule=n,this.componentType=r.type,this.selector=function ne(t){return t.map(mm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!n}create(r,n,s,c){const S=se(null);try{var J;let le=(c=c||this.ngModule)instanceof Fs?c:null===(J=c)||void 0===J?void 0:J.injector;le&&null!==this.componentDef.getStandaloneInjector&&(le=this.componentDef.getStandaloneInjector(le)||le);const Se=le?new ra(r,le):r,Ne=Se.get(Lf,null);if(null===Ne)throw new Rr(407,!1);const Ke=Se.get(sD,null),Mt={rendererFactory:Ne,sanitizer:Ke,inlineEffectRunner:null,afterRenderEventManager:Se.get(ed,null),changeDetectionScheduler:Se.get(el,null)},dr=Ne.createRenderer(null,this.componentDef),Ar=this.componentDef.selectors[0][0]||"div",jr=s?function CC(t,r,n,s){const S=s.get(ry,!1)||n===wi.ShadowDom,k=t.selectRootElement(r,S);return function xC(t){qy(t)}(k),k}(dr,s,this.componentDef.encapsulation,Se):Uc(dr,Ar,function hD(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ar));let yr=512;this.componentDef.signals?yr|=4096:this.componentDef.onPush||(yr|=16);let rn=null;null!==jr&&(rn=Gh(jr,Se,!0));const dn=vf(0,null,null,1,0,null,null,null,null,null,null),On=Hc(null,dn,null,yr,null,null,Mt,dr,Se,null,rn);let Ko,es;bh(On);try{const ri=this.componentDef;let ba,um=null;ri.findHostDirectiveDefs?(ba=[],um=new Map,ri.findHostDirectiveDefs(ri,ba,um),ba.push(ri)):ba=[ri];const Ij=function pD(t,r){const n=t[Nr],s=Zr;return t[s]=r,ua(n,s,2,"#host",null)}(On,jr),jj=function mD(t,r,n,s,c,S,k){const J=c[Nr];!function gD(t,r,n,s){for(const c of t)r.mergedAttrs=Pi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(rd(r,r.mergedAttrs,!0),null!==n&&$y(s,n,r))}(s,t,r,k);let le=null;null!==r&&(le=Gh(r,c[Do]));const Se=S.rendererFactory.createRenderer(r,n);let Ne=16;n.signals?Ne=4096:n.onPush&&(Ne=64);const Ke=Hc(c,Xy(n),null,Ne,c[t.index],t,S,Se,null,null,le);return J.firstCreatePass&&_f(J,t,s.length-1),zc(c,Ke),c[t.index]=Ke}(Ij,jr,ri,ba,On,Mt,dr);es=Nl(dn,Zr),jr&&function vD(t,r,n,s){if(s)Tl(t,n,["ng-version","18.1.3"]);else{const{attrs:c,classes:S}=function he(t){const r=[],n=[];let s=1,c=2;for(;s<t.length;){let S=t[s];if("string"==typeof S)2===c?""!==S&&r.push(S,t[++s]):8===c&&n.push(S);else{if(!Cs(c))break;c=S}s++}return{attrs:r,classes:n}}(r.selectors[0]);c&&Tl(t,n,c),S&&S.length>0&&By(t,n,S.join(" "))}}(dr,ri,jr,s),void 0!==n&&function bD(t,r,n){const s=t.projection=[];for(let c=0;c<r.length;c++){const S=n[c];s.push(null!=S?Array.from(S):null)}}(es,this.ngContentSelectors,n),Ko=function yD(t,r,n,s,c,S){const k=Hn(),J=c[Nr],le=ss(k,c);Jy(J,c,k,n,null,s);for(let Ne=0;Ne<n.length;Ne++)Qo(na(c,J,k.directiveStart+Ne,k),c);Zy(J,c,k),le&&Qo(le,c);const Se=na(c,J,k.directiveStart+k.componentOffset,k);if(t[Zn]=c[Zn]=Se,null!==S)for(const Ne of S)Ne(Se,r);return mf(J,k,c),Se}(jj,ri,ba,um,On,[_D]),Cf(dn,On,null)}finally{_h()}return new fD(this.componentType,Ko,Ba(es,On),On,es)}finally{se(S)}}}class fD extends eD{constructor(r,n,s,c,S){super(),this.location=s,this._rootLView=c,this._tNode=S,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new iu(c,void 0,!1),this.componentType=r}setInput(r,n){const s=this._tNode.inputs;let c;if(null!==s&&(c=s[r])){var S;if(null!==(S=this.previousInputValues)&&void 0!==S||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),n))return;const k=this._rootLView;Sf(k[Nr],k,c,r,n),this.previousInputValues.set(r,n),su(xs(this._tNode.index,k),1)}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function _D(){const t=Hn();dc(Cr()[Nr],t)}let nd=(()=>{class r{}return r.__NG_ELEMENT_ID__=wD,r})();function wD(){return Wv(Hn(),Cr())}const ED=nd,Hv=class extends ED{constructor(r,n,s){super(),this._lContainer=r,this._hostTNode=n,this._hostLView=s}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const r=gc(this._hostTNode,this._hostLView);if(Ch(r)){const n=Vl(r,this._hostLView),s=$l(r);return new Oo(n[Nr].data[s+8],n)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const n=zv(this._lContainer);return null!==n&&n[r]||null}get length(){return this._lContainer.length-yo}createEmbeddedView(r,n,s){let c,S;"number"==typeof s?c=s:null!=s&&(c=s.index,S=s.injector);const k=ha(this._lContainer,r.ssrId),J=r.createEmbeddedViewImpl(n||{},S,k);return this.insertImpl(J,c,ca(this._hostTNode,k)),J}createComponent(r,n,s,c,S){var k,J,le;const Se=r&&!function Il(t){return"function"==typeof t}(r);let Ne;if(Se)Ne=n;else{const jr=n||{};Ne=jr.index,s=jr.injector,c=jr.projectableNodes,S=jr.environmentInjector||jr.ngModuleRef}const Ke=Se?r:new bu(qt(r)),St=s||this.parentInjector;if(!S&&null==Ke.ngModule){const yr=(Se?St:this.parentInjector).get(Fs,null);yr&&(S=yr)}const jt=qt(null!==(k=Ke.componentType)&&void 0!==k?k:{}),Mt=ha(this._lContainer,null!==(J=null==jt?void 0:jt.id)&&void 0!==J?J:null),dr=null!==(le=null==Mt?void 0:Mt.firstChild)&&void 0!==le?le:null,Ar=Ke.create(St,c,dr,S);return this.insertImpl(Ar.hostView,Ne,ca(this._hostTNode,Mt)),Ar}insert(r,n){return this.insertImpl(r,n,!0)}insertImpl(r,n,s){const c=r._lView;if(function $w(t){return Zo(t[xo])}(c)){const J=this.indexOf(r);if(-1!==J)this.detach(J);else{const le=c[xo],Se=new Hv(le,le[Xo],le[xo]);Se.detach(Se.indexOf(r))}}const S=this._adjustIndex(n),k=this._lContainer;return Za(k,c,S,s),r.attachToViewContainerRef(),Hd($f(k),S,r),r}move(r,n){return this.insert(r,n)}indexOf(r){const n=zv(this._lContainer);return null!==n?n.indexOf(r):-1}remove(r){const n=this._adjustIndex(r,-1),s=tu(this._lContainer,n);s&&(Ta($f(this._lContainer),n),Bc(s[Nr],s))}detach(r){const n=this._adjustIndex(r,-1),s=tu(this._lContainer,n);return s&&null!=Ta($f(this._lContainer),n)?new iu(s):null}_adjustIndex(r,n=0){return null==r?this.length+n:r}};function zv(t){return t[8]}function $f(t){return t[8]||(t[8]=[])}function Wv(t,r){let n;const s=r[t.index];return Zo(s)?n=s:(n=Qy(s,r,null,t),r[t.index]=n,zc(r,n)),Xv(n,r,t,s),new Hv(n,t,r)}let Xv=function Kv(t,r,n,s){if(t[li])return;let c;c=8&n.type?jn(s):function SD(t,r){const n=t[ln],s=n.createComment(""),c=ss(r,t);return aa(n,$c(n,c),s,function yC(t,r){return t.nextSibling(r)}(n,c),!1),s}(r,n),t[li]=c},Vf=()=>!1;class Gf{constructor(r){this.queryList=r,this.matches=null}clone(){return new Gf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hf{constructor(r=[]){this.queries=r}createEmbeddedView(r){const n=r.queries;if(null!==n){const s=null!==r.contentQueries?r.contentQueries[0]:n.length,c=[];for(let S=0;S<s;S++){const k=n.getByIndex(S);c.push(this.queries[k.indexInDeclarationView].clone())}return new Hf(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let n=0;n<this.queries.length;n++)null!==Kf(r,n).matches&&this.queries[n].setDirty()}}class Yv{constructor(r,n,s=null){this.flags=n,this.read=s,this.predicate="string"==typeof r?function jD(t){return t.split(",").map(r=>r.trim())}(r):r}}class zf{constructor(r=[]){this.queries=r}elementStart(r,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(r,n)}elementEnd(r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(r)}embeddedTView(r){let n=null;for(let s=0;s<this.length;s++){const c=null!==n?n.length:0,S=this.getByIndex(s).embeddedTView(r,c);S&&(S.indexInDeclarationView=s,null!==n?n.push(S):n=[S])}return null!==n?new zf(n):null}template(r,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(r,n)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Wf{constructor(r,n=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(r,n){this.isApplyingToNode(n)&&this.matchTNode(r,n)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,n){this.elementStart(r,n)}embeddedTView(r,n){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,n),new Wf(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let s=r.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(r,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let c=0;c<s.length;c++){const S=s[c];this.matchTNodeWithReadOption(r,n,TD(n,S)),this.matchTNodeWithReadOption(r,n,yc(n,r,S,!1,!1))}else s===au?4&n.type&&this.matchTNodeWithReadOption(r,n,-1):this.matchTNodeWithReadOption(r,n,yc(n,r,s,!1,!1))}matchTNodeWithReadOption(r,n,s){if(null!==s){const c=this.metadata.read;if(null!==c)if(c===Hl||c===nd||c===au&&4&n.type)this.addMatch(n.index,-2);else{const S=yc(n,r,c,!1,!1);null!==S&&this.addMatch(n.index,S)}else this.addMatch(n.index,s)}}addMatch(r,n){null===this.matches?this.matches=[r,n]:this.matches.push(r,n)}}function TD(t,r){const n=t.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===r)return n[s+1];return null}function MD(t,r,n,s){return-1===n?function AD(t,r){return 11&t.type?Ba(t,r):4&t.type?qc(t,r):null}(r,t):-2===n?function ID(t,r,n){return n===Hl?Ba(r,t):n===au?qc(r,t):n===nd?Wv(r,t):void 0}(t,r,s):na(t,t[Nr],n,r)}function Jv(t,r,n,s){const c=r[ai].queries[s];if(null===c.matches){const S=t.data,k=n.matches,J=[];for(let le=0;null!==k&&le<k.length;le+=2){const Se=k[le];J.push(Se<0?null:MD(r,S[Se],k[le+1],n.metadata.read))}c.matches=J}return c.matches}function Xf(t,r,n,s){const c=t.queries.getByIndex(n),S=c.matches;if(null!==S){const k=Jv(t,r,c,n);for(let J=0;J<S.length;J+=2){const le=S[J];if(le>0)s.push(k[J/2]);else{const Se=S[J+1],Ne=r[-le];for(let Ke=yo;Ke<Ne.length;Ke++){const St=Ne[Ke];St[Ji]===St[xo]&&Xf(St[Nr],St,Se,s)}if(null!==Ne[Na]){const Ke=Ne[Na];for(let St=0;St<Ke.length;St++){const jt=Ke[St];Xf(jt[Nr],jt,Se,s)}}}}}return s}function Zv(t,r,n){var s;const c=new Rh(!(4&~n));return function AC(t,r,n,s){const c=tv(r);c.push(n),t.firstCreatePass&&rv(t).push(s,c.length-1)}(t,r,c,c.destroy),(null!==(s=r[ai])&&void 0!==s?s:r[ai]=new Hf).queries.push(new Gf(c))-1}function t0(t,r,n){null===t.queries&&(t.queries=new zf),t.queries.track(new Wf(r,n))}function Kf(t,r){return t.queries.getByIndex(r)}function r0(t,r){const n=t[Nr],s=Kf(n,r);return s.crossesNgTemplate?Xf(n,t,r,[]):Jv(n,t,s,r)}function o0(t,r){as("NgSignals");const n=function G(t){const r=Object.create(te);r.value=t;const n=()=>(y(r),r.value);return n[o]=r,n}(t),s=n[o];return null!=r&&r.equal&&(s.equal=r.equal),n.set=c=>Me(s,c),n.update=c=>function Y(t,r){l()||q(),Me(t,r(t.value))}(s,c),n.asReadonly=s0.bind(n),n}function s0(){const t=this[o];if(void 0===t.readonlyFn){const r=()=>this();r[o]=t,t.readonlyFn=r}return t.readonlyFn}function a0(t){return function n0(t){return"function"==typeof t&&void 0!==t[o]}(t)&&"function"==typeof t.set}function Jf(t){let r=function v0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const s=[t];for(;r;){let c;if(Ks(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Rr(903,!1);c=r.\u0275dir}if(c){if(n){s.push(c);const k=t;k.inputs=sd(t.inputs),k.inputTransforms=sd(t.inputTransforms),k.declaredInputs=sd(t.declaredInputs),k.outputs=sd(t.outputs);const J=c.hostBindings;J&&WD(t,J);const le=c.viewQuery,Se=c.contentQueries;if(le&&HD(t,le),Se&&zD(t,Se),VD(t,c),Ps(t.outputs,c.outputs),Ks(c)&&c.data.animation){const Ne=t.data;Ne.animation=(Ne.animation||[]).concat(c.data.animation)}}const S=c.features;if(S)for(let k=0;k<S.length;k++){const J=S[k];J&&J.ngInherit&&J(t),J===Jf&&(n=!1)}}r=Object.getPrototypeOf(r)}!function GD(t){let r=0,n=null;for(let s=t.length-1;s>=0;s--){const c=t[s];c.hostVars=r+=c.hostVars,c.hostAttrs=Pi(c.hostAttrs,n=Pi(n,c.hostAttrs))}}(s)}function VD(t,r){for(const s in r.inputs){if(!r.inputs.hasOwnProperty(s)||t.inputs.hasOwnProperty(s))continue;const c=r.inputs[s];if(void 0!==c&&(t.inputs[s]=c,t.declaredInputs[s]=r.declaredInputs[s],null!==r.inputTransforms)){var n;const S=Array.isArray(c)?c[0]:c;if(!r.inputTransforms.hasOwnProperty(S))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[S]=r.inputTransforms[S]}}}function sd(t){return t===Es?{}:t===En?[]:t}function HD(t,r){const n=t.viewQuery;t.viewQuery=n?(s,c)=>{r(s,c),n(s,c)}:r}function zD(t,r){const n=t.contentQueries;t.contentQueries=n?(s,c,S)=>{r(s,c,S),n(s,c,S)}:r}function WD(t,r){const n=t.hostBindings;t.hostBindings=n?(s,c)=>{r(s,c),n(s,c)}:r}function E0(t){const r=t.inputConfig,n={};for(const s in r)if(r.hasOwnProperty(s)){const c=r[s];Array.isArray(c)&&c[3]&&(n[s]=c[3])}t.inputTransforms=n}class fa{}class S0{}function ZD(t,r){return new Zf(t,null!=r?r:null,[])}class Zf extends fa{constructor(r,n,s){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const c=Jr(r);this._bootstrapComponents=Ds(c.bootstrap),this._r3Injector=bg(r,n,[{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver},...s],Xn(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Qf extends S0{constructor(r){super(),this.moduleType=r}create(r){return new Zf(this.moduleType,r,[])}}class C0 extends fa{constructor(r){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const n=new Ia([...r.providers,{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],r.parent||tc(),r.debugName,new Set(["environment"]));this.injector=n,r.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function ep(t,r,n=null){return new C0({providers:t,parent:r,debugName:n,runEnvironmentInitializers:!0}).injector}function id(t){return!!tp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,r,n){return!Object.is(t[r],n)&&(t[r]=n,!0)}function Eu(t,r,n,s,c,S,k,J,le,Se){const Ne=n+Zr,Ke=r.firstCreatePass?function oT(t,r,n,s,c,S,k,J,le){const Se=r.consts,Ne=ua(r,t,4,k||null,J||null);bf(r,n,Ne,Bs(Se,le)),dc(r,Ne);const Ke=Ne.tView=vf(2,Ne,s,c,S,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Se,null);return null!==r.queries&&(r.queries.template(r,Ne),Ke.queries=r.queries.embeddedTView(Ne)),Ne}(Ne,r,t,s,c,S,k,J,le):r.data[Ne];Ys(Ke,!1);const St=x0(r,t,Ke,n);Ul()&&Vc(r,t,St,Ke),Qo(St,t);const jt=Qy(St,t,St,Ke);return t[Ne]=jt,zc(t,jt),function qv(t,r,n){return Vf(t,r,n)}(jt,Ke,t),ic(Ke)&&gf(r,t,Ke),null!=le&&yf(t,Ke,Se),Ke}function rp(t,r,n,s,c,S,k,J){const le=Cr(),Se=gn();return Eu(le,Se,t,r,n,s,c,Bs(Se.consts,S),k,J),rp}let x0=function D0(t,r,n,s){return ci(!0),r[ln].createComment("")};function fp(t,r,n,s){const c=Cr();return vo(c,Js(),r)&&(gn(),pi(Qn(),c,t,r,n,s)),fp}function cl(t,r,n,s){return vo(t,Js(),n)?r+an(n)+s:cn}function dl(t,r,n,s,c,S){const J=function pa(t,r,n,s){const c=vo(t,r,n);return vo(t,r+1,s)||c}(t,function xi(){return un.lFrame.bindingIndex}(),n,c);return Di(2),J?r+an(n)+s+an(c)+S:cn}function fd(t,r){return t<<17|r<<2}function Ui(t){return t>>17&32767}function pp(t){return 2|t}function ga(t){return(131068&t)>>2}function mp(t,r){return-131069&t|r<<2}function gp(t){return 1|t}function nb(t,r,n,s){const c=t[n+1],S=null===r;let k=s?Ui(c):ga(c),J=!1;for(;0!==k&&(!1===J||S);){const Se=t[k+1];GT(t[k],r)&&(J=!0,t[k+1]=s?gp(Se):pp(Se)),k=s?Ui(Se):ga(Se)}J&&(t[n+1]=s?pp(c):gp(c))}function GT(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&zi(t,r)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ob(t){return t.substring(Po.key,Po.keyEnd)}function HT(t){return t.substring(Po.value,Po.valueEnd)}function ib(t,r){const n=Po.textEnd;let s=Po.key=vl(t,r,n);return n===s?-1:(s=Po.keyEnd=function qT(t,r,n){let s;for(;r<n&&(45===(s=t.charCodeAt(r))||95===s||(-33&s)>=65&&(-33&s)<=90||s>=48&&s<=57);)r++;return r}(t,s,n),s=lb(t,s,n),s=Po.value=vl(t,s,n),s=Po.valueEnd=function KT(t,r,n){let s=-1,c=-1,S=-1,k=r,J=k;for(;k<n;){const le=t.charCodeAt(k++);if(59===le)return J;34===le||39===le?J=k=ub(t,le,k,n):r===k-4&&85===S&&82===c&&76===s&&40===le?J=k=ub(t,41,k,n):le>32&&(J=k),S=c,c=s,s=-33&le}return J}(t,s,n),lb(t,s,n))}function vl(t,r,n){for(;r<n&&t.charCodeAt(r)<=32;)r++;return r}function lb(t,r,n,s){return(r=vl(t,r,n))<n&&r++,r}function ub(t,r,n,s){let c=-1,S=n;for(;S<s;){const k=t.charCodeAt(S++);if(k==r&&92!==c)return S;c=92==k&&92===c?0:k}throw new Error}function yp(t,r,n){const s=Cr();return vo(s,Js(),r)&&gs(gn(),Qn(),s,t,r,s[ln],n,!1),yp}function vp(t,r,n,s,c){const k=c?"class":"style";Sf(t,n,r.inputs[k],k,s)}function bp(t,r){return function Qs(t,r,n,s){const c=Cr(),S=gn(),k=Di(2);S.firstUpdatePass&&hb(S,t,k,s),r!==cn&&vo(c,k,r)&&pb(S,S.data[qo()],c,c[ln],t,c[k+1]=function s2(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Xn(Ti(t)))),t}(r,n),s,k)}(t,r,null,!0),bp}function Zs(t){!function ei(t,r,n,s){const c=gn(),S=Di(2);c.firstUpdatePass&&hb(c,null,S,s);const k=Cr();if(n!==cn&&vo(k,S,n)){const J=c.data[qo()];if(gb(J,s)&&!db(c,S)){let le=s?J.classesWithoutHost:J.stylesWithoutHost;null!==le&&(n=Rs(le,n||"")),vp(c,J,k,n,s)}else!function o2(t,r,n,s,c,S,k,J){c===cn&&(c=En);let le=0,Se=0,Ne=0<c.length?c[0]:null,Ke=0<S.length?S[0]:null;for(;null!==Ne||null!==Ke;){const St=le<c.length?c[le+1]:void 0,jt=Se<S.length?S[Se+1]:void 0;let dr,Mt=null;Ne===Ke?(le+=2,Se+=2,St!==jt&&(Mt=Ke,dr=jt)):null===Ke||null!==Ne&&Ne<Ke?(le+=2,Mt=Ne):(Se+=2,Mt=Ke,dr=jt),null!==Mt&&pb(t,r,n,s,Mt,dr,k,J),Ne=le<c.length?c[le]:null,Ke=Se<S.length?S[Se]:null}}(c,J,k,k[ln],k[S+1],k[S+1]=function r2(t,r,n){if(null==n||""===n)return En;const s=[],c=Ti(n);if(Array.isArray(c))for(let S=0;S<c.length;S++)t(s,c[S],!0);else if("object"==typeof c)for(const S in c)c.hasOwnProperty(S)&&t(s,S,c[S]);else"string"==typeof c&&r(s,c);return s}(t,r,n),s,S)}}(fb,YT,t,!1)}function YT(t,r){for(let n=function WT(t){return function ab(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),ib(t,vl(t,0,Po.textEnd))}(r);n>=0;n=ib(r,n))fb(t,ob(r),HT(r))}function db(t,r){return r>=t.expandoStartIndex}function hb(t,r,n,s){const c=t.data;if(null===c[n+1]){const S=c[qo()],k=db(t,n);gb(S,s)&&null===r&&!k&&(r=!1),r=function ZT(t,r,n,s){const c=function yh(t){const r=un.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let S=s?r.residualClasses:r.residualStyles;if(null===c)0===(s?r.classBindings:r.styleBindings)&&(n=Du(n=_p(null,t,r,n,s),r.attrs,s),S=null);else{const k=r.directiveStylingLast;if(-1===k||t[k]!==c)if(n=_p(c,t,r,n,s),null===S){let le=function QT(t,r,n){const s=n?r.classBindings:r.styleBindings;if(0!==ga(s))return t[Ui(s)]}(t,r,s);void 0!==le&&Array.isArray(le)&&(le=_p(null,t,r,le[1],s),le=Du(le,r.attrs,s),function e2(t,r,n,s){t[Ui(n?r.classBindings:r.styleBindings)]=s}(t,r,s,le))}else S=function t2(t,r,n){let s;const c=r.directiveEnd;for(let S=1+r.directiveStylingLast;S<c;S++)s=Du(s,t[S].hostAttrs,n);return Du(s,r.attrs,n)}(t,r,s)}return void 0!==S&&(s?r.residualClasses=S:r.residualStyles=S),n}(c,S,r,s),function $T(t,r,n,s,c,S){let k=S?r.classBindings:r.styleBindings,J=Ui(k),le=ga(k);t[s]=n;let Ne,Se=!1;if(Array.isArray(n)?(Ne=n[1],(null===Ne||zi(n,Ne)>0)&&(Se=!0)):Ne=n,c)if(0!==le){const St=Ui(t[J+1]);t[s+1]=fd(St,J),0!==St&&(t[St+1]=mp(t[St+1],s)),t[J+1]=function UT(t,r){return 131071&t|r<<17}(t[J+1],s)}else t[s+1]=fd(J,0),0!==J&&(t[J+1]=mp(t[J+1],s)),J=s;else t[s+1]=fd(le,0),0===J?J=s:t[le+1]=mp(t[le+1],s),le=s;Se&&(t[s+1]=pp(t[s+1])),nb(t,Ne,s,!0),nb(t,Ne,s,!1),function VT(t,r,n,s,c){const S=c?t.residualClasses:t.residualStyles;null!=S&&"string"==typeof r&&zi(S,r)>=0&&(n[s+1]=gp(n[s+1]))}(r,Ne,t,s,S),k=fd(J,le),S?r.classBindings=k:r.styleBindings=k}(c,S,r,n,k,s)}}function _p(t,r,n,s,c){let S=null;const k=n.directiveEnd;let J=n.directiveStylingLast;for(-1===J?J=n.directiveStart:J++;J<k&&(S=r[J],s=Du(s,S.hostAttrs,c),S!==t);)J++;return null!==t&&(n.directiveStylingLast=J),s}function Du(t,r,n){const s=n?1:2;let c=-1;if(null!==r)for(let S=0;S<r.length;S++){const k=r[S];"number"==typeof k?c=k:c===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ns(t,k,!!n||r[++S]))}return void 0===t?null:t}function fb(t,r,n){ns(t,r,Ti(n))}function pb(t,r,n,s,c,S,k,J){if(!(3&r.type))return;const le=t.data,Se=le[J+1],Ne=function BT(t){return!(1&~t)}(Se)?mb(le,r,n,c,ga(Se),k):void 0;pd(Ne)||(pd(S)||function FT(t){return!(2&~t)}(Se)&&(S=mb(le,null,n,c,J,k)),function _C(t,r,n,s,c){if(r)c?t.addClass(n,s):t.removeClass(n,s);else{let S=-1===s.indexOf("-")?void 0:Fc.DashCase;null==c?t.removeStyle(n,s,S):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),S|=Fc.Important),t.setStyle(n,s,c,S))}}(s,k,kl(qo(),n),c,S))}function mb(t,r,n,s,c,S){const k=null===r;let J;for(;c>0;){const le=t[c],Se=Array.isArray(le),Ne=Se?le[1]:le,Ke=null===Ne;let St=n[c+1];St===cn&&(St=Ke?En:void 0);let jt=Ke?zu(St,s):Ne===s?St:void 0;if(Se&&!pd(jt)&&(jt=zu(le,s)),pd(jt)&&(J=jt,k))return J;const Mt=t[c+1];c=k?Ui(Mt):ga(Mt)}if(null!==r){let le=S?r.residualClasses:r.residualStyles;null!=le&&(J=zu(le,s))}return J}function pd(t){return void 0!==t}function gb(t,r){return!!(t.flags&(r?8:16))}function gd(t,r,n,s){const c=Cr(),S=gn(),k=Zr+t,J=c[ln],le=S.firstCreatePass?function A2(t,r,n,s,c,S){const k=r.consts,le=ua(r,t,2,s,Bs(k,c));return bf(r,n,le,Bs(k,S)),null!==le.attrs&&rd(le,le.attrs,!1),null!==le.mergedAttrs&&rd(le,le.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,le),le}(k,S,c,r,n,s):S.data[k],Se=_b(S,c,le,J,r,t);c[k]=Se;const Ne=ic(le);return Ys(le,!0),$y(J,Se,le),!function rl(t){return!(32&~t.flags)}(le)&&Ul()&&Vc(S,c,Se,le),0===function Vw(){return un.lFrame.elementDepthCount}()&&Qo(Se,c),function Gw(){un.lFrame.elementDepthCount++}(),Ne&&(gf(S,c,le),mf(S,le,c)),null!==s&&yf(c,le),gd}function yd(){let t=Hn();ph()?mh():(t=t.parent,Ys(t,!1));const r=t;(function zw(t){return un.skipHydrationRootTNode===t})(r)&&function Kw(){un.skipHydrationRootTNode=null}(),function Hw(){un.lFrame.elementDepthCount--}();const n=gn();return n.firstCreatePass&&(dc(n,t),oh(t)&&n.queries.elementEnd(t)),null!=r.classesWithoutHost&&function lE(t){return!!(8&t.flags)}(r)&&vp(n,r,Cr(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function uE(t){return!!(16&t.flags)}(r)&&vp(n,r,Cr(),r.stylesWithoutHost,!1),yd}function Cp(t,r,n,s){return gd(t,r,n,s),yd(),Cp}let _b=(t,r,n,s,c,S)=>(ci(!0),Uc(s,c,function Zm(){return un.lFrame.currentNamespace}()));function vd(t,r,n){const s=Cr(),c=gn(),S=t+Zr,k=c.firstCreatePass?function j2(t,r,n,s,c){const S=r.consts,k=Bs(S,s),J=ua(r,t,8,"ng-container",k);return null!==k&&rd(J,k,!0),bf(r,n,J,Bs(S,c)),null!==r.queries&&r.queries.elementStart(r,J),J}(S,c,s,r,n):c.data[S];Ys(k,!0);const J=wb(c,s,k,t);return s[S]=J,Ul()&&Vc(c,s,J,k),Qo(J,s),ic(k)&&(gf(c,s,k),mf(c,k,s)),null!=n&&yf(s,k),vd}function bd(){let t=Hn();const r=gn();return ph()?mh():(t=t.parent,Ys(t,!1)),r.firstCreatePass&&(dc(r,t),oh(t)&&r.queries.elementEnd(t)),bd}function xp(t,r,n){return vd(t,r,n),bd(),xp}let wb=(t,r,n,s)=>(ci(!0),af(r[ln],""));function Eb(){return Cr()}const ya=void 0;var k2=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function R2(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let bl={};function Dp(t){const r=function N2(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Db(r);if(n)return n;const s=r.split("-")[0];if(n=Db(s),n)return n;if("en"===s)return k2;throw new Rr(701,!1)}function xb(t){return Dp(t)[_l.PluralCase]}function Db(t){return t in bl||(bl[t]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[t]),bl[t]}var _l=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_l||{});const wl="en-US";let Tb=wl;let Wb=(t,r,n)=>{};function Mp(t,r,n,s){const c=Cr(),S=gn(),k=Hn();return Ip(S,c,c[ln],k,t,r,s),Mp}function Ip(t,r,n,s,c,S,k){const J=ic(s),Se=t.firstCreatePass&&rv(t),Ne=r[Zn],Ke=tv(r);let St=!0;if(3&s.type||k){const dr=ss(s,r),Ar=k?k(dr):dr,jr=Ke.length,yr=k?dn=>k(jn(dn[s.index])):s.index;let rn=null;if(!k&&J&&(rn=function SA(t,r,n,s){const c=t.cleanup;if(null!=c)for(let S=0;S<c.length-1;S+=2){const k=c[S];if(k===n&&c[S+1]===s){const J=r[Yi],le=c[S+2];return J.length>le?J[le]:null}"string"==typeof k&&(S+=2)}return null}(t,r,c,s.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=S,rn.__ngLastListenerFn__=S,St=!1;else{S=Yb(s,r,Ne,S),Wb(dr,c,S);const dn=n.listen(Ar,c,S);Ke.push(S,dn),Se&&Se.push(c,yr,jr,jr+1)}}else S=Yb(s,r,Ne,S);const jt=s.outputs;let Mt;if(St&&null!==jt&&(Mt=jt[c])){const dr=Mt.length;if(dr)for(let Ar=0;Ar<dr;Ar+=2){const On=r[Mt[Ar]][Mt[Ar+1]].subscribe(S),Ko=Ke.length;Ke.push(S,On),Se&&Se.push(c,s.index,Ko,-(Ko+1))}}}function Kb(t,r,n,s){const c=se(null);try{return ui(6,r,n),!1!==n(s)}catch(S){return Wc(t,S),!1}finally{ui(7,r,n),se(c)}}function Yb(t,r,n,s){return function c(S){if(S===Function)return s;su(t.componentOffset>-1?xs(t.index,r):r,5);let J=Kb(r,n,s,S),le=c.__ngNextListenerFn__;for(;le;)J=Kb(r,n,le,S)&&J,le=le.__ngNextListenerFn__;return J}}function Jb(t=1){return function eE(t){return(un.lFrame.contextLView=function km(t,r){for(;t>0;)r=r[Pa],t--;return r}(t,un.lFrame.contextLView))[Zn]}(t)}function CA(t,r){let n=null;const s=function dm(t){const r=t.attrs;if(null!=r){const n=r.indexOf(5);if(!(1&n))return r[n+1]}return null}(t);for(let c=0;c<r.length;c++){const S=r[c];if("*"!==S){if(null===s?Zu(t,S,!0):pm(s,S))return c}else n=c}return n}function Zb(t){const r=Cr()[ao][Xo];if(!r.projection){const s=r.projection=function Oi(t,r){const n=[];for(let s=0;s<t;s++)n.push(r);return n}(t?t.length:1,null),c=s.slice();let S=r.child;for(;null!==S;){if(128!==S.type){const k=t?CA(S,t):0;null!==k&&(c[k]?c[k].projectionNext=S:s[k]=S,c[k]=S)}S=S.next}}}function Qb(t,r=0,n,s,c,S){const k=Cr(),J=gn(),le=s?t+1:null;null!==le&&Eu(k,J,le,s,c,S,null,n);const Se=ua(J,Zr+t,16,null,n||null);null===Se.projection&&(Se.projection=r),mh();const Ke=!k[os]||ea();null===k[ao][Xo].projection[Se.projection]&&null!==le?function xA(t,r,n){const s=Zr+n,c=r.data[s],S=t[s],k=ha(S,c.tView.ssrId);Za(S,Ja(t,c,void 0,{dehydratedView:k}),0,ca(c,k))}(k,J,le):Ke&&32&~Se.flags&&function vC(t,r,n){Uy(r[ln],0,r,n,cf(t,n,r),Py(n.parent||r[Xo],n,r))}(J,k,Se)}function Sd(t,r,n,s,c){const S=Cr(),k=cl(S,r,n,s);return k!==cn&&gs(gn(),Qn(),S,t,k,S[ln],c,!1),Sd}function u_(t,r,n,s){!function e0(t,r,n,s){const c=gn();if(c.firstCreatePass){const S=Hn();t0(c,new Yv(r,n,s),S.index),function OD(t,r){const n=t.contentQueries||(t.contentQueries=[]);r!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,r)}(c,t),!(2&~n)&&(c.staticContentQueries=!0)}return Zv(c,Cr(),n)}(t,r,n,s)}function c_(t,r,n){!function Qv(t,r,n){const s=gn();return s.firstCreatePass&&(t0(s,new Yv(t,r,n),-1),!(2&~r)&&(s.staticViewQueries=!0)),Zv(s,Cr(),r)}(t,r,n)}function d_(t){const r=Cr(),n=gn(),s=vh();cc(s+1);const c=Kf(n,s);if(t.dirty&&function Bw(t){return!(4&~t[en])}(r)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const S=r0(r,s);t.reset(S,Tg),t.notifyOnChanges()}return!0}return!1}function h_(){return function qf(t,r){return t[ai].queries[r].queryList}(Cr(),vh())}function f_(t){return function Qi(t,r){return t[r]}(function $m(){return un.lFrame.contextLView}(),Zr+t)}function S_(t,r=""){const n=Cr(),s=gn(),c=t+Zr,S=s.firstCreatePass?ua(s,c,1,r,null):s.data[c],k=C_(s,n,S,r,t);n[c]=k,Ul()&&Vc(s,n,k,S),Ys(S,!1)}let C_=(t,r,n,s,c)=>(ci(!0),function sf(t,r){return t.createText(r)}(r[ln],s));function Op(t){return Cd("",t,""),Op}function Cd(t,r,n){const s=Cr(),c=cl(s,t,r,n);return c!==cn&&Mi(s,qo(),c),Cd}function Pp(t,r,n,s,c){const S=Cr(),k=dl(S,t,r,n,s,c);return k!==cn&&Mi(S,qo(),k),Pp}function Rp(t,r,n){a0(r)&&(r=r());const s=Cr();return vo(s,Js(),r)&&gs(gn(),Qn(),s,t,r,s[ln],n,!1),Rp}function O_(t,r){const n=a0(t);return n&&t.set(r),n}function kp(t,r){const n=Cr(),s=gn(),c=Hn();return Ip(s,n,n[ln],c,t,r),kp}function Np(t,r,n,s,c){if(t=Hr(t),Array.isArray(t))for(let S=0;S<t.length;S++)Np(t[S],r,n,s,c);else{const S=gn(),k=Cr(),J=Hn();let le=Ki(t)?t:Hr(t.provide);const Se=vm(t),Ne=1048575&J.providerIndexes,Ke=J.directiveStart,St=J.providerIndexes>>20;if(Ki(t)||!t.multi){const jt=new Bl(Se,c,Ya),Mt=Fp(le,r,c?Ne:Ne+St,Ke);-1===Mt?(Th(mc(J,k),S,le),Lp(S,t,r.length),r.push(le),J.directiveStart++,J.directiveEnd++,c&&(J.providerIndexes+=1048576),n.push(jt),k.push(jt)):(n[Mt]=jt,k[Mt]=jt)}else{const jt=Fp(le,r,Ne+St,Ke),Mt=Fp(le,r,Ne,Ne+St),Ar=Mt>=0&&n[Mt];if(c&&!Ar||!c&&!(jt>=0&&n[jt])){Th(mc(J,k),S,le);const jr=function zA(t,r,n,s,c){const S=new Bl(t,n,Ya);return S.multi=[],S.index=r,S.componentProviders=0,k_(S,c,s&&!n),S}(c?HA:GA,n.length,c,s,Se);!c&&Ar&&(n[Mt].providerFactory=jr),Lp(S,t,r.length,0),r.push(le),J.directiveStart++,J.directiveEnd++,c&&(J.providerIndexes+=1048576),n.push(jr),k.push(jr)}else Lp(S,t,jt>-1?jt:Mt,k_(n[c?Mt:jt],Se,!c&&s));!c&&s&&Ar&&n[Mt].componentProviders++}}}function Lp(t,r,n,s){const c=Ki(r),S=function mw(t){return!!t.useClass}(r);if(c||S){const le=(S?Hr(r.useClass):r).prototype.ngOnDestroy;if(le){const Se=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const Ne=Se.indexOf(n);-1===Ne?Se.push(n,[s,le]):Se[Ne+1].push(s,le)}else Se.push(n,le)}}}function k_(t,r,n){return n&&t.componentProviders++,t.multi.push(r)-1}function Fp(t,r,n,s){for(let c=n;c<s;c++)if(r[c]===t)return c;return-1}function GA(t,r,n,s){return Up(this.multi,[])}function HA(t,r,n,s){const c=this.multi;let S;if(this.providerFactory){const k=this.providerFactory.componentProviders,J=na(n,n[Nr],this.providerFactory.index,s);S=J.slice(0,k),Up(c,S);for(let le=k;le<J.length;le++)S.push(J[le])}else S=[],Up(c,S);return S}function Up(t,r){for(let n=0;n<t.length;n++)r.push((0,t[n])());return r}function N_(t,r=[]){return n=>{n.providersResolver=(s,c)=>function VA(t,r,n){const s=gn();if(s.firstCreatePass){const c=Ks(t);Np(n,s.data,s.blueprint,c,!0),Np(r,s.data,s.blueprint,c,!1)}}(s,c?c(t):t,r)}}let WA=(()=>{var t;class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=qi(0,s.type),S=c.length>0?ep([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,S)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=Lr({token:t,providedIn:"environment",factory:()=>new t(Yr(Fs))}),r})();function L_(t){as("NgStandalone"),t.getStandaloneInjector=r=>r.get(WA).getOrCreateStandaloneInjector(t)}function B_(t,r,n){const s=function is(){const t=un.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}()+t,c=Cr();return c[s]===cn?function mi(t,r,n){return t[r]=n}(c,s,n?r.call(n):r()):function wu(t,r){return t[r]}(c,s)}class a1{constructor(r){this.full=r;const n=r.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let l1=(()=>{var t;class r{log(s){console.log(s)}warn(s){console.warn(s)}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const h1=new $r(""),f1=new $r("");let Wp,sI=(()=>{var t;class r{constructor(s,c,S){this._ngZone=s,this.registry=c,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Wp||(function iI(t){Wp=t}(S),S.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,S){let k=-1;c&&c>0&&(k=setTimeout(()=>{this._callbacks=this._callbacks.filter(J=>J.timeoutId!==k),s()},c)),this._callbacks.push({doneCb:s,timeoutId:k,updateCb:S})}whenStable(s,c,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,S),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,S){return[]}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(no),Yr(p1),Yr(f1))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac}),r})(),p1=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){var S,k;return null!==(S=null===(k=Wp)||void 0===k?void 0:k.findTestabilityInTree(this,s,c))&&void 0!==S?S:null}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function Xp(t){return!!t&&"function"==typeof t.then}function m1(t){return!!t&&"function"==typeof t.subscribe}const g1=new $r("");let qp=(()=>{var t;class r{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,S)=>{this.resolve=c,this.reject=S}),this.appInits=null!==(s=kr(g1,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const S of this.appInits){const k=S();if(Xp(k))s.push(k);else if(m1(k)){const J=new Promise((le,Se)=>{k.subscribe({complete:le,error:Se})});s.push(J)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(S=>{this.reject(S)}),0===s.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const Md=new $r("");function b1(t,r){return Array.isArray(r)?r.reduce(b1,t):{...t,...r}}let ti=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kr(NE),this.afterRenderEffectManager=kr(ed),this.zonelessEnabled=kr(mu),this.externalTestViews=new Set,this.beforeRender=new st.B,this.afterTick=new st.B,this.componentTypes=[],this.components=[],this.isStable=kr(oa).hasPendingTasks.pipe((0,Fe.T)(s=>!s)),this._injector=kr(Fs)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const S=s instanceof Rv;if(!this._injector.get(qp).done)throw!S&&hn(s),new Rr(405,!1);let J;J=S?s:this._injector.get(gu).resolveComponentFactory(s),this.componentTypes.push(J.componentType);const le=function aI(t){return t.isBoundToModule}(J)?void 0:this._injector.get(fa),Ne=J.create(Bo.NULL,[],c||J.selector,le),Ke=Ne.location.nativeElement,St=Ne.injector.get(h1,null);return null==St||St.registerApplication(Ke),Ne.onDestroy(()=>{this.detachView(Ne.hostView),Id(this.components,Ne),null==St||St.unregisterApplication(Ke)}),this._loadComponent(Ne),Ne}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new Rr(101,!1);const c=se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(S){this.internalErrorHandler(S)}finally{this._runningTick=!1,se(c),this.afterTick.next()}}detectChangesInAttachedViews(s){let c=null;this._injector.destroyed||(c=this._injector.get(Lf,null,{optional:!0}));let S=0;const k=this.afterRenderEffectManager;for(;S<10;){const jt=0===S;if(s||!jt){this.beforeRender.next(jt);for(let{_lView:Mt,notifyErrorHandler:dr}of this._views)uI(Mt,dr,jt,this.zonelessEnabled)}else{var J,le,Se,Ne,Ke,St;null===(J=c)||void 0===J||null===(le=(Se=J).begin)||void 0===le||le.call(Se),null===(Ne=c)||void 0===Ne||null===(Ke=(St=Ne).end)||void 0===Ke||Ke.call(St)}if(S++,k.executeInternalCallbacks(),!this.allViews.some(({_lView:Mt})=>Ll(Mt))&&(k.execute(),!this.allViews.some(({_lView:Mt})=>Ll(Mt))))break}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;Id(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(Md,[]);[...this._bootstrapListeners,...c].forEach(S=>S(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Id(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Rr(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Id(t,r){const n=t.indexOf(r);n>-1&&t.splice(n,1)}function uI(t,r,n,s){(n||Ll(t))&&Xc(t,r,n&&!s?0:1)}class cI{constructor(r,n){this.ngModuleFactory=r,this.componentFactories=n}}let dI=(()=>{var t;class r{compileModuleSync(s){return new Qf(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),k=Ds(Jr(s).declarations).reduce((J,le)=>{const Se=qt(le);return Se&&J.push(new bu(Se)),J},[]);return new cI(c,k)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),pI=(()=>{var t;class r{constructor(){this.zone=kr(no),this.changeDetectionScheduler=kr(el),this.applicationRef=kr(ti)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Kp({ngZoneFactory:t,ignoreChangesOutsideZone:r}){var n;return null!==(n=t)&&void 0!==n||(t=()=>new no(Yp())),[{provide:no,useFactory:t},{provide:Ss,multi:!0,useFactory:()=>{const s=kr(pI,{optional:!0});return()=>s.initialize()}},{provide:Ss,multi:!0,useFactory:()=>{const s=kr(gI);return()=>{s.initialize()}}},!0===r?{provide:Pv,useValue:!0}:[]]}function Yp(t){var r,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}let gI=(()=>{var t;class r{constructor(){this.subscription=new lt.yU,this.initialized=!1,this.zone=kr(no),this.pendingTasks=kr(oa)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{no.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;no.assertInAngularZone(),null!==(c=s)&&void 0!==c||(s=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),Lu=(()=>{var t;class r{constructor(){var s;this.appRef=kr(ti),this.taskService=kr(oa),this.ngZone=kr(no),this.zonelessEnabled=kr(mu),this.disableScheduling=null!==(s=kr(Pv,{optional:!0}))&&void 0!==s&&s,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new lt.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Ph||!this.zoneIsDefined))}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const c=this.useMicrotaskScheduler?Eg:wg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=c(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=c(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&no.isInAngularZone())}tick(s){if(this.runningTick||this.appRef.destroyed)return;const c=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(s)},void 0,this.schedulerTickApplyArgs)}catch(S){throw this.taskService.remove(c),S}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Eg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(c)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var s;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(s=this.cancelScheduledCallback)||void 0===s||s.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const c=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(c)}}}return(t=r).\u0275fac=function(s){return new(s||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const jd=new $r("",{providedIn:"root",factory:()=>kr(jd,mn.Optional|mn.SkipSelf)||function yI(){return typeof $localize<"u"&&$localize.locale||wl}()}),vI=new $r("",{providedIn:"root",factory:()=>"USD"}),Zp=new $r("");let C1=(()=>{var t;class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const S=function kE(t="zone.js",r){return"noop"===t?new Ph:"zone.js"===t?new no(r):t}(null==c?void 0:c.ngZone,Yp({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return S.run(()=>{const J=function QD(t,r,n){return new Zf(t,r,n)}(s.moduleType,this.injector,[...Kp({ngZoneFactory:()=>S,ignoreChangesOutsideZone:null==c?void 0:c.ignoreChangesOutsideZone}),{provide:el,useExisting:Lu}]),le=J.injector.get(fi,null);return S.runOutsideAngular(()=>{const Se=S.onError.subscribe({next:Ne=>{le.handleError(Ne)}});J.onDestroy(()=>{Id(this._modules,J),Se.unsubscribe()})}),function v1(t,r,n){try{const s=n();return Xp(s)?s.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):s}catch(s){throw r.runOutsideAngular(()=>t.handleError(s)),s}}(le,S,()=>{const Se=J.injector.get(qp);return Se.runInitializers(),Se.donePromise.then(()=>(function Ab(t){"string"==typeof t&&(Tb=t.toLowerCase().replace(/_/g,"-"))}(J.injector.get(jd,wl)||wl),this._moduleDoBootstrap(J),J))})})}bootstrapModule(s,c=[]){const S=b1({},c);return function fI(t,r,n){const s=new Qf(n);return Promise.resolve(s)}(0,0,s).then(k=>this.bootstrapModuleFactory(k,S))}_moduleDoBootstrap(s){const c=s.injector.get(ti);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(S=>c.bootstrap(S));else{if(!s.instance.ngDoBootstrap)throw new Rr(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Rr(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(Zp,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(Bo))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Bi=null;const x1=new $r("");function D1(t,r,n=[]){const s=`Platform: ${r}`,c=new $r(s);return(S=[])=>{let k=Qp();if(!k||k.injector.get(x1,!1)){const J=[...n,...S,{provide:c,useValue:!0}];t?t(J):function _I(t){if(Bi&&!Bi.get(x1,!1))throw new Rr(400,!1);(function y1(){!function re(t){oe=t}(()=>{throw new Rr(600,!1)})})(),Bi=t;const r=t.get(C1);(function A1(t){const r=t.get(Xg,null);null==r||r.forEach(n=>n())})(t)}(function T1(t=[],r){return Bo.create({name:r,providers:[{provide:Zd,useValue:"platform"},{provide:Zp,useValue:new Set([()=>Bi=null])},...t]})}(J,s))}return function wI(t){const r=Qp();if(!r)throw new Rr(401,!1);return r}()}}function Qp(){var t,r;return null!==(t=null===(r=Bi)||void 0===r?void 0:r.get(C1))&&void 0!==t?t:null}function SI(){}let I1=(()=>{class r{}return r.__NG_ELEMENT_ID__=CI,r})();function CI(t){return function xI(t,r,n){if(Zi(t)&&!n){const s=xs(t.index,r);return new iu(s,s)}return 175&t.type?new iu(r[ao],r):null}(Hn(),Cr(),!(16&~t))}class R1{constructor(){}supports(r){return id(r)}create(r){return new II(r)}}const MI=(t,r)=>r;class II{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||MI}forEachItem(r){let n;for(n=this._itHead;null!==n;n=n._next)r(n)}forEachOperation(r){let n=this._itHead,s=this._removalsHead,c=0,S=null;for(;n||s;){const k=!s||n&&n.currentIndex<N1(s,c,S)?n:s,J=N1(k,c,S),le=k.currentIndex;if(k===s)c--,s=s._nextRemoved;else if(n=n._next,null==k.previousIndex)c++;else{S||(S=[]);const Se=J-c,Ne=le-c;if(Se!=Ne){for(let St=0;St<Se;St++){const jt=St<S.length?S[St]:S[St]=0,Mt=jt+St;Ne<=Mt&&Mt<Se&&(S[St]=jt+1)}S[k.previousIndex]=Ne-Se}}J!==le&&r(k,J,le)}}forEachPreviousItem(r){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)r(n)}forEachAddedItem(r){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)r(n)}forEachMovedItem(r){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)r(n)}forEachRemovedItem(r){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)r(n)}forEachIdentityChange(r){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)r(n)}diff(r){if(null==r&&(r=[]),!id(r))throw new Rr(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,S,k,n=this._itHead,s=!1;if(Array.isArray(r)){this.length=r.length;for(let J=0;J<this.length;J++)S=r[J],k=this._trackByFn(J,S),null!==n&&Object.is(n.trackById,k)?(s&&(n=this._verifyReinsertion(n,S,k,J)),Object.is(n.item,S)||this._addIdentityChange(n,S)):(n=this._mismatch(n,S,k,J),s=!0),n=n._next}else c=0,function rT(t,r){if(Array.isArray(t))for(let n=0;n<t.length;n++)r(t[n]);else{const n=t[Symbol.iterator]();let s;for(;!(s=n.next()).done;)r(s.value)}}(r,J=>{k=this._trackByFn(c,J),null!==n&&Object.is(n.trackById,k)?(s&&(n=this._verifyReinsertion(n,J,k,c)),Object.is(n.item,J)||this._addIdentityChange(n,J)):(n=this._mismatch(n,J,k,c),s=!0),n=n._next,c++}),this.length=c;return this._truncate(n),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,n,s,c){let S;return null===r?S=this._itTail:(S=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._reinsertAfter(r,S,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(s,c))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._moveAfter(r,S,c)):r=this._addAfter(new jI(n,s),S,c),r}_verifyReinsertion(r,n,s,c){let S=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==S?r=this._reinsertAfter(S,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const n=r._next;this._addToRemovals(this._unlink(r)),r=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,S=r._nextRemoved;return null===c?this._removalsHead=S:c._nextRemoved=S,null===S?this._removalsTail=c:S._prevRemoved=c,this._insertAfter(r,n,s),this._addToMoves(r,s),r}_moveAfter(r,n,s){return this._unlink(r),this._insertAfter(r,n,s),this._addToMoves(r,s),r}_addAfter(r,n,s){return this._insertAfter(r,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,n,s){const c=null===n?this._itHead:n._next;return r._next=c,r._prev=n,null===c?this._itTail=r:c._prev=r,null===n?this._itHead=r:n._next=r,null===this._linkedRecords&&(this._linkedRecords=new k1),this._linkedRecords.put(r),r.currentIndex=s,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const n=r._prev,s=r._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,r}_addToMoves(r,n){return r.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k1),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,n){return r.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class jI{constructor(r,n){this.item=r,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,r))return s;return null}remove(r){const n=r._prevDup,s=r._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class k1{constructor(){this.map=new Map}put(r){const n=r.trackById;let s=this.map.get(n);s||(s=new OI,this.map.set(n,s)),s.add(r)}get(r,n){const c=this.map.get(r);return c?c.get(r,n):null}remove(r){const n=r.trackById;return this.map.get(n).remove(r)&&this.map.delete(n),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N1(t,r,n){const s=t.previousIndex;if(null===s)return s;let c=0;return n&&s<n.length&&(c=n[s]),s+r+c}class L1{constructor(){}supports(r){return r instanceof Map||tp(r)}create(){return new PI}}class PI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let n;for(n=this._mapHead;null!==n;n=n._next)r(n)}forEachPreviousItem(r){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)r(n)}forEachChangedItem(r){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)r(n)}forEachAddedItem(r){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)r(n)}forEachRemovedItem(r){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)r(n)}diff(r){if(r){if(!(r instanceof Map||tp(r)))throw new Rr(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(r,(s,c)=>{if(n&&n.key===c)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const S=this._getOrCreateRecordForKey(c,s);n=this._insertBeforeOrAppend(n,S)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,n){if(r){const s=r._prev;return n._next=r,n._prev=s,r._prev=n,s&&(s._next=n),r===this._mapHead&&(this._mapHead=n),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(r,n){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,n);const S=c._prev,k=c._next;return S&&(S._next=k),k&&(k._prev=S),c._next=null,c._prev=null,c}const s=new RI(r);return this._records.set(r,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,n){Object.is(n,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=n,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,n){r instanceof Map?r.forEach(n):Object.keys(r).forEach(s=>n(r[s],s))}}class RI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F1(){return new om([new R1])}let om=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,c){if(null!=c){const S=c.factories.slice();s=s.concat(S)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||F1()),deps:[[r,new xa,new co]]}}find(s){const c=this.factories.find(S=>S.supports(s));if(null!=c)return c;throw new Rr(901,!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:F1}),r})();function U1(){return new sm([new L1])}let sm=(()=>{var t;class r{constructor(s){this.factories=s}static create(s,c){if(c){const S=c.factories.slice();s=s.concat(S)}return new r(s)}static extend(s){return{provide:r,useFactory:c=>r.create(s,c||U1()),deps:[[r,new xa,new co]]}}find(s){const c=this.factories.find(S=>S.supports(s));if(c)return c;throw new Rr(901,!1)}}return(t=r).\u0275prov=Lr({token:t,providedIn:"root",factory:U1}),r})();const LI=D1(null,"core",[]);let FI=(()=>{var t;class r{constructor(s){}}return(t=r).\u0275fac=function(s){return new(s||t)(Yr(ti))},t.\u0275mod=et({type:t}),t.\u0275inj=Wr({}),r})();const rw=new $r("");function bj(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wj(t,r){as("NgSignals");const n=function x(t){const r=Object.create(R);r.computation=t;const n=()=>{if(_(r),y(r),r.value===F)throw r.error;return r.value};return n[o]=r,n}(t);return null!=r&&r.equal&&(n[o].equal=r.equal),n}function Ej(t){const r=se(null);try{return t()}finally{se(r)}}function Aj(t,r){const n=qt(t),s=r.elementInjector||tc();return new bu(n).create(s,r.projectableNodes,r.hostElement,r.environmentInjector)}function Mj(t){const r=qt(t);if(!r)return null;const n=new bu(r);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},4341:(Dr,rr,we)=>{"use strict";we.d(rr,{me:()=>g,YN:()=>gt,zX:()=>Go,VZ:()=>Co,cz:()=>L,kq:()=>a,vO:()=>ft,BC:()=>cr,vS:()=>Yo});var M=we(3953),T=we(177),Qe=we(6648),Et=we(1985),o=we(3073),se=we(8750),V=we(9326),v=we(4360),b=we(6450),p=we(8496),E=we(1413),_=we(6354);let i=(()=>{var ve;class ae{constructor(ge,Ue){this._renderer=ge,this._elementRef=Ue,this.onChange=Nt=>{},this.onTouched=()=>{}}setProperty(ge,Ue){this._renderer.setProperty(this._elementRef.nativeElement,ge,Ue)}registerOnTouched(ge){this.onTouched=ge}registerOnChange(ge){this.onChange=ge}setDisabledState(ge){this.setProperty("disabled",ge)}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(M.rXU(M.sFG),M.rXU(M.aKT))},ve.\u0275dir=M.FsC({type:ve}),ae})(),l=(()=>{var ve;class ae extends i{}return(ve=ae).\u0275fac=(()=>{let be;return function(Ue){return(be||(be=M.xGo(ve)))(Ue||ve)}})(),ve.\u0275dir=M.FsC({type:ve,features:[M.Vt3]}),ae})();const a=new M.nKC(""),d={provide:a,useExisting:(0,M.Rfq)(()=>g),multi:!0},f=new M.nKC("");let g=(()=>{var ve;class ae extends i{constructor(ge,Ue,Nt){super(ge,Ue),this._compositionMode=Nt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function m(){const ve=(0,T.QT)()?(0,T.QT)().getUserAgent():"";return/android (\d+)/.test(ve.toLowerCase())}())}writeValue(ge){this.setProperty("value",null==ge?"":ge)}_handleInput(ge){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ge)}_compositionStart(){this._composing=!0}_compositionEnd(ge){this._composing=!1,this._compositionMode&&this.onChange(ge)}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(M.rXU(M.sFG),M.rXU(M.aKT),M.rXU(f,8))},ve.\u0275dir=M.FsC({type:ve,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ge,Ue){1&ge&&M.bIt("input",function(Gt){return Ue._handleInput(Gt.target.value)})("blur",function(){return Ue.onTouched()})("compositionstart",function(){return Ue._compositionStart()})("compositionend",function(Gt){return Ue._compositionEnd(Gt.target.value)})},features:[M.Jv_([d]),M.Vt3]}),ae})();function D(ve){return null==ve||("string"==typeof ve||Array.isArray(ve))&&0===ve.length}const L=new M.nKC(""),P=new M.nKC("");function G(ve){return null}function K(ve){return null!=ve}function ue(ve){return(0,M.jNT)(ve)?(0,Qe.H)(ve):ve}function Me(ve){let ae={};return ve.forEach(be=>{ae=null!=be?{...ae,...be}:ae}),0===Object.keys(ae).length?null:ae}function Y(ve,ae){return ae.map(be=>be(ve))}function te(ve){return ve.map(ae=>function j(ve){return!ve.validate}(ae)?ae:be=>ae.validate(be))}function xe(ve){return null!=ve?function me(ve){if(!ve)return null;const ae=ve.filter(K);return 0==ae.length?null:function(be){return Me(Y(be,ae))}}(te(ve)):null}function qe(ve){return null!=ve?function Be(ve){if(!ve)return null;const ae=ve.filter(K);return 0==ae.length?null:function(be){return function y(...ve){const ae=(0,V.ms)(ve),{args:be,keys:ge}=(0,o.D)(ve),Ue=new Et.c(Nt=>{const{length:Gt}=be;if(!Gt)return void Nt.complete();const nr=new Array(Gt);let Br=Gt,Lr=Gt;for(let zr=0;zr<Gt;zr++){let Wr=!1;(0,se.Tg)(be[zr]).subscribe((0,v._)(Nt,Qr=>{Wr||(Wr=!0,Lr--),nr[zr]=Qr},()=>Br--,void 0,()=>{(!Br||!Wr)&&(Lr||Nt.next(ge?(0,p.e)(ge,nr):nr),Nt.complete())}))}});return ae?Ue.pipe((0,b.I)(ae)):Ue}(Y(be,ae).map(ue)).pipe((0,_.T)(Me))}}(te(ve)):null}function ct(ve,ae){return null===ve?[ae]:Array.isArray(ve)?[...ve,ae]:[ve,ae]}function lt(ve){return ve?Array.isArray(ve)?ve:[ve]:[]}function Fe(ve,ae){return Array.isArray(ve)?ve.includes(ae):ve===ae}function rt(ve,ae){const be=lt(ae);return lt(ve).forEach(Ue=>{Fe(be,Ue)||be.push(Ue)}),be}function Ye(ve,ae){return lt(ae).filter(be=>!Fe(ve,be))}class ot{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ae){this._rawValidators=ae||[],this._composedValidatorFn=xe(this._rawValidators)}_setAsyncValidators(ae){this._rawAsyncValidators=ae||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ae){this._onDestroyCallbacks.push(ae)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ae=>ae()),this._onDestroyCallbacks=[]}reset(ae=void 0){this.control&&this.control.reset(ae)}hasError(ae,be){return!!this.control&&this.control.hasError(ae,be)}getError(ae,be){return this.control?this.control.getError(ae,be):null}}class Je extends ot{get formDirective(){return null}get path(){return null}}class ft extends ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pt{constructor(ae){this._cd=ae}get isTouched(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(be=ae._touched)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.touched)}get isUntouched(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.untouched)}get isPristine(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(be=ae._pristine)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.pristine)}get isDirty(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.dirty)}get isValid(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(be=ae._status)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||null===(ge=ge.control)||void 0===ge||!ge.valid)}get isInvalid(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.invalid)}get isPending(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.pending)}get isSubmitted(){var ae,be,ge;return null===(ae=this._cd)||void 0===ae||null===(be=ae._submitted)||void 0===be||be.call(ae),!(null===(ge=this._cd)||void 0===ge||!ge.submitted)}}let cr=(()=>{var ve;class ae extends Pt{constructor(ge){super(ge)}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(M.rXU(ft,2))},ve.\u0275dir=M.FsC({type:ve,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ge,Ue){2&ge&&M.AVh("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)},features:[M.Vt3]}),ae})();const mt="VALID",Ut="INVALID",yt="PENDING",Lt="DISABLED";class ur{}class ht extends ur{constructor(ae,be){super(),this.value=ae,this.source=be}}class Dt extends ur{constructor(ae,be){super(),this.pristine=ae,this.source=be}}class tr extends ur{constructor(ae,be){super(),this.touched=ae,this.source=be}}class Jt extends ur{constructor(ae,be){super(),this.status=ae,this.source=be}}function pe(ve){return null!=ve&&!Array.isArray(ve)&&"object"==typeof ve}class O{constructor(ae,be){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,M.EWP)(()=>this.statusReactive()),this.statusReactive=(0,M.vPA)(void 0),this._pristine=(0,M.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,M.vPA)(!0),this._touched=(0,M.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,M.vPA)(!1),this._events=new E.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ae),this._assignAsyncValidators(be)}get validator(){return this._composedValidatorFn}set validator(ae){this._rawValidators=this._composedValidatorFn=ae}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ae){this._rawAsyncValidators=this._composedAsyncValidatorFn=ae}get parent(){return this._parent}get status(){return(0,M.O8t)(this.statusReactive)}set status(ae){(0,M.O8t)(()=>this.statusReactive.set(ae))}get valid(){return this.status===mt}get invalid(){return this.status===Ut}get pending(){return this.status==yt}get disabled(){return this.status===Lt}get enabled(){return this.status!==Lt}get pristine(){return(0,M.O8t)(this.pristineReactive)}set pristine(ae){(0,M.O8t)(()=>this.pristineReactive.set(ae))}get dirty(){return!this.pristine}get touched(){return(0,M.O8t)(this.touchedReactive)}set touched(ae){(0,M.O8t)(()=>this.touchedReactive.set(ae))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ae){this._assignValidators(ae)}setAsyncValidators(ae){this._assignAsyncValidators(ae)}addValidators(ae){this.setValidators(rt(ae,this._rawValidators))}addAsyncValidators(ae){this.setAsyncValidators(rt(ae,this._rawAsyncValidators))}removeValidators(ae){this.setValidators(Ye(ae,this._rawValidators))}removeAsyncValidators(ae){this.setAsyncValidators(Ye(ae,this._rawAsyncValidators))}hasValidator(ae){return Fe(this._rawValidators,ae)}hasAsyncValidator(ae){return Fe(this._rawAsyncValidators,ae)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ae={}){var be;const ge=!1===this.touched;this.touched=!0;const Ue=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._parent&&!ae.onlySelf&&this._parent.markAsTouched({...ae,sourceControl:Ue}),ge&&!1!==ae.emitEvent&&this._events.next(new tr(!0,Ue))}markAllAsTouched(ae={}){this.markAsTouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:this}),this._forEachChild(be=>be.markAllAsTouched(ae))}markAsUntouched(ae={}){var be;const ge=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Ue=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._forEachChild(Nt=>{Nt.markAsUntouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:Ue})}),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,Ue),ge&&!1!==ae.emitEvent&&this._events.next(new tr(!1,Ue))}markAsDirty(ae={}){var be;const ge=!0===this.pristine;this.pristine=!1;const Ue=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._parent&&!ae.onlySelf&&this._parent.markAsDirty({...ae,sourceControl:Ue}),ge&&!1!==ae.emitEvent&&this._events.next(new Dt(!1,Ue))}markAsPristine(ae={}){var be;const ge=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Ue=null!==(be=ae.sourceControl)&&void 0!==be?be:this;this._forEachChild(Nt=>{Nt.markAsPristine({onlySelf:!0,emitEvent:ae.emitEvent})}),this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,Ue),ge&&!1!==ae.emitEvent&&this._events.next(new Dt(!0,Ue))}markAsPending(ae={}){var be;this.status=yt;const ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;!1!==ae.emitEvent&&(this._events.next(new Jt(this.status,ge)),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.markAsPending({...ae,sourceControl:ge})}disable(ae={}){var be;const ge=this._parentMarkedDirty(ae.onlySelf);this.status=Lt,this.errors=null,this._forEachChild(Nt=>{Nt.disable({...ae,onlySelf:!0})}),this._updateValue();const Ue=null!==(be=ae.sourceControl)&&void 0!==be?be:this;!1!==ae.emitEvent&&(this._events.next(new ht(this.value,Ue)),this._events.next(new Jt(this.status,Ue)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ae,skipPristineCheck:ge},this),this._onDisabledChange.forEach(Nt=>Nt(!0))}enable(ae={}){const be=this._parentMarkedDirty(ae.onlySelf);this.status=mt,this._forEachChild(ge=>{ge.enable({...ae,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent}),this._updateAncestors({...ae,skipPristineCheck:be},this),this._onDisabledChange.forEach(ge=>ge(!1))}_updateAncestors(ae,be){this._parent&&!ae.onlySelf&&(this._parent.updateValueAndValidity(ae),ae.skipPristineCheck||this._parent._updatePristine({},be),this._parent._updateTouched({},be))}setParent(ae){this._parent=ae}getRawValue(){return this.value}updateValueAndValidity(ae={}){var be;if(this._setInitialStatus(),this._updateValue(),this.enabled){const Ue=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mt||this.status===yt)&&this._runAsyncValidator(Ue,ae.emitEvent)}const ge=null!==(be=ae.sourceControl)&&void 0!==be?be:this;!1!==ae.emitEvent&&(this._events.next(new ht(this.value,ge)),this._events.next(new Jt(this.status,ge)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.updateValueAndValidity({...ae,sourceControl:ge})}_updateTreeValidity(ae={emitEvent:!0}){this._forEachChild(be=>be._updateTreeValidity(ae)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lt:mt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ae,be){if(this.asyncValidator){this.status=yt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==be};const ge=ue(this.asyncValidator(this));this._asyncValidationSubscription=ge.subscribe(Ue=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ue,{emitEvent:be,shouldHaveEmitted:ae})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var ae,be;this._asyncValidationSubscription.unsubscribe();const ge=null!==(ae=null===(be=this._hasOwnPendingAsyncValidator)||void 0===be?void 0:be.emitEvent)&&void 0!==ae&&ae;return this._hasOwnPendingAsyncValidator=null,ge}return!1}setErrors(ae,be={}){this.errors=ae,this._updateControlsErrors(!1!==be.emitEvent,this,be.shouldHaveEmitted)}get(ae){let be=ae;return null==be||(Array.isArray(be)||(be=be.split(".")),0===be.length)?null:be.reduce((ge,Ue)=>ge&&ge._find(Ue),this)}getError(ae,be){const ge=be?this.get(be):this;return ge&&ge.errors?ge.errors[ae]:null}hasError(ae,be){return!!this.getError(ae,be)}get root(){let ae=this;for(;ae._parent;)ae=ae._parent;return ae}_updateControlsErrors(ae,be,ge){this.status=this._calculateStatus(),ae&&this.statusChanges.emit(this.status),(ae||ge)&&this._events.next(new Jt(this.status,be)),this._parent&&this._parent._updateControlsErrors(ae,be,ge)}_initObservables(){this.valueChanges=new M.bkB,this.statusChanges=new M.bkB}_calculateStatus(){return this._allControlsDisabled()?Lt:this.errors?Ut:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yt)?yt:this._anyControlsHaveStatus(Ut)?Ut:mt}_anyControlsHaveStatus(ae){return this._anyControls(be=>be.status===ae)}_anyControlsDirty(){return this._anyControls(ae=>ae.dirty)}_anyControlsTouched(){return this._anyControls(ae=>ae.touched)}_updatePristine(ae,be){const ge=!this._anyControlsDirty(),Ue=this.pristine!==ge;this.pristine=ge,this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,be),Ue&&this._events.next(new Dt(this.pristine,be))}_updateTouched(ae={},be){this.touched=this._anyControlsTouched(),this._events.next(new tr(this.touched,be)),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,be)}_registerOnCollectionChange(ae){this._onCollectionChange=ae}_setUpdateStrategy(ae){pe(ae)&&null!=ae.updateOn&&(this._updateOn=ae.updateOn)}_parentMarkedDirty(ae){return!ae&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ae){return null}_assignValidators(ae){this._rawValidators=Array.isArray(ae)?ae.slice():ae,this._composedValidatorFn=function vr(ve){return Array.isArray(ve)?xe(ve):ve||null}(this._rawValidators)}_assignAsyncValidators(ae){this._rawAsyncValidators=Array.isArray(ae)?ae.slice():ae,this._composedAsyncValidatorFn=function z(ve){return Array.isArray(ve)?qe(ve):ve||null}(this._rawAsyncValidators)}}const Ae=new M.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>it}),it="always";function fr(ve,ae,be=it){var ge,Ue;(function Ge(ve,ae){const be=function ze(ve){return ve._rawValidators}(ve);null!==ae.validator?ve.setValidators(ct(be,ae.validator)):"function"==typeof be&&ve.setValidators([be]);const ge=function st(ve){return ve._rawAsyncValidators}(ve);null!==ae.asyncValidator?ve.setAsyncValidators(ct(ge,ae.asyncValidator)):"function"==typeof ge&&ve.setAsyncValidators([ge]);const Ue=()=>ve.updateValueAndValidity();He(ae._rawValidators,Ue),He(ae._rawAsyncValidators,Ue)})(ve,ae),ae.valueAccessor.writeValue(ve.value),(ve.disabled||"always"===be)&&(null===(ge=(Ue=ae.valueAccessor).setDisabledState)||void 0===ge||ge.call(Ue,ve.disabled)),function Ft(ve,ae){ae.valueAccessor.registerOnChange(be=>{ve._pendingValue=be,ve._pendingChange=!0,ve._pendingDirty=!0,"change"===ve.updateOn&&_r(ve,ae)})}(ve,ae),function Pr(ve,ae){const be=(ge,Ue)=>{ae.valueAccessor.writeValue(ge),Ue&&ae.viewToModelUpdate(ge)};ve.registerOnChange(be),ae._registerOnDestroy(()=>{ve._unregisterOnChange(be)})}(ve,ae),function ar(ve,ae){ae.valueAccessor.registerOnTouched(()=>{ve._pendingTouched=!0,"blur"===ve.updateOn&&ve._pendingChange&&_r(ve,ae),"submit"!==ve.updateOn&&ve.markAsTouched()})}(ve,ae),function vt(ve,ae){if(ae.valueAccessor.setDisabledState){const be=ge=>{ae.valueAccessor.setDisabledState(ge)};ve.registerOnDisabledChange(be),ae._registerOnDestroy(()=>{ve._unregisterOnDisabledChange(be)})}}(ve,ae)}function He(ve,ae){ve.forEach(be=>{be.registerOnValidatorChange&&be.registerOnValidatorChange(ae)})}function _r(ve,ae){ve._pendingDirty&&ve.markAsDirty(),ve.setValue(ve._pendingValue,{emitModelToViewChange:!1}),ae.viewToModelUpdate(ve._pendingValue),ve._pendingChange=!1}function Vo(ve,ae){const be=ve.indexOf(ae);be>-1&&ve.splice(be,1)}function oo(ve){return"object"==typeof ve&&null!==ve&&2===Object.keys(ve).length&&"value"in ve&&"disabled"in ve}Promise.resolve();const cs=class extends O{constructor(ae=null,be,ge){super(function Er(ve){return(pe(ve)?ve.validators:ve)||null}(be),function Mr(ve,ae){return(pe(ae)?ae.asyncValidators:ve)||null}(ge,be)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ae),this._setUpdateStrategy(be),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pe(be)&&(be.nonNullable||be.initialValueIsDefault)&&(this.defaultValue=oo(ae)?ae.value:ae)}setValue(ae,be={}){this.value=this._pendingValue=ae,this._onChange.length&&!1!==be.emitModelToViewChange&&this._onChange.forEach(ge=>ge(this.value,!1!==be.emitViewToModelChange)),this.updateValueAndValidity(be)}patchValue(ae,be={}){this.setValue(ae,be)}reset(ae=this.defaultValue,be={}){this._applyFormState(ae),this.markAsPristine(be),this.markAsUntouched(be),this.setValue(this.value,be),this._pendingChange=!1}_updateValue(){}_anyControls(ae){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ae){this._onChange.push(ae)}_unregisterOnChange(ae){Vo(this._onChange,ae)}registerOnDisabledChange(ae){this._onDisabledChange.push(ae)}_unregisterOnDisabledChange(ae){Vo(this._onDisabledChange,ae)}_forEachChild(ae){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ae){oo(ae)?(this.value=this._pendingValue=ae.value,ae.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ae}},mo={provide:ft,useExisting:(0,M.Rfq)(()=>Yo)},ts=Promise.resolve();let Yo=(()=>{var ve;class ae extends ft{constructor(ge,Ue,Nt,Gt,nr,Br){super(),this._changeDetectorRef=nr,this.callSetDisabledState=Br,this.control=new cs,this._registered=!1,this.name="",this.update=new M.bkB,this._parent=ge,this._setValidators(Ue),this._setAsyncValidators(Nt),this.valueAccessor=function eo(ve,ae){if(!ae)return null;let be,ge,Ue;return Array.isArray(ae),ae.forEach(Nt=>{Nt.constructor===g?be=Nt:function Ln(ve){return Object.getPrototypeOf(ve.constructor)===l}(Nt)?ge=Nt:Ue=Nt}),Ue||ge||be||null}(0,Gt)}ngOnChanges(ge){if(this._checkForErrors(),!this._registered||"name"in ge){if(this._registered&&(this._checkName(),this.formDirective)){const Ue=ge.name.previousValue;this.formDirective.removeControl({name:Ue,path:this._getPath(Ue)})}this._setUpControl()}"isDisabled"in ge&&this._updateDisabled(ge),function Sn(ve,ae){if(!ve.hasOwnProperty("model"))return!1;const be=ve.model;return!!be.isFirstChange()||!Object.is(ae,be.currentValue)}(ge,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ge){ts.then(()=>{var Ue;this.control.setValue(ge,{emitViewToModelChange:!1}),null===(Ue=this._changeDetectorRef)||void 0===Ue||Ue.markForCheck()})}_updateDisabled(ge){const Ue=ge.isDisabled.currentValue,Nt=0!==Ue&&(0,M.L39)(Ue);ts.then(()=>{var Gt;Nt&&!this.control.disabled?this.control.disable():!Nt&&this.control.disabled&&this.control.enable(),null===(Gt=this._changeDetectorRef)||void 0===Gt||Gt.markForCheck()})}_getPath(ge){return this._parent?function xt(ve,ae){return[...ae.path,ve]}(ge,this._parent):[ge]}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)(M.rXU(Je,9),M.rXU(L,10),M.rXU(P,10),M.rXU(a,10),M.rXU(M.gRc,8),M.rXU(Ae,8))},ve.\u0275dir=M.FsC({type:ve,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[M.Jv_([mo]),M.Vt3,M.OA$]}),ae})();function ho(ve){return"number"==typeof ve?ve:parseFloat(ve)}let Un=(()=>{var ve;class ae{constructor(){this._validator=G}ngOnChanges(ge){if(this.inputName in ge){const Ue=this.normalizeInput(ge[this.inputName].currentValue);this._enabled=this.enabled(Ue),this._validator=this._enabled?this.createValidator(Ue):G,this._onChange&&this._onChange()}}validate(ge){return this._validator(ge)}registerOnValidatorChange(ge){this._onChange=ge}enabled(ge){return null!=ge}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275dir=M.FsC({type:ve,features:[M.OA$]}),ae})();const Vr={provide:L,useExisting:(0,M.Rfq)(()=>Go),multi:!0};let Go=(()=>{var ve;class ae extends Un{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=ge=>ho(ge),this.createValidator=ge=>function F(ve){return ae=>{if(D(ae.value)||D(ve))return null;const be=parseFloat(ae.value);return!isNaN(be)&&be>ve?{max:{max:ve,actual:ae.value}}:null}}(ge)}}return(ve=ae).\u0275fac=(()=>{let be;return function(Ue){return(be||(be=M.xGo(ve)))(Ue||ve)}})(),ve.\u0275dir=M.FsC({type:ve,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ge,Ue){2&ge&&M.BMQ("max",Ue._enabled?Ue.max:null)},inputs:{max:"max"},features:[M.Jv_([Vr]),M.Vt3]}),ae})();const Jo={provide:L,useExisting:(0,M.Rfq)(()=>Co),multi:!0};let Co=(()=>{var ve;class ae extends Un{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ge=>ho(ge),this.createValidator=ge=>function I(ve){return ae=>{if(D(ae.value)||D(ve))return null;const be=parseFloat(ae.value);return!isNaN(be)&&be<ve?{min:{min:ve,actual:ae.value}}:null}}(ge)}}return(ve=ae).\u0275fac=(()=>{let be;return function(Ue){return(be||(be=M.xGo(ve)))(Ue||ve)}})(),ve.\u0275dir=M.FsC({type:ve,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ge,Ue){2&ge&&M.BMQ("min",Ue._enabled?Ue.min:null)},inputs:{min:"min"},features:[M.Jv_([Jo]),M.Vt3]}),ae})(),w=(()=>{var ve;class ae{}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275mod=M.$C({type:ve}),ve.\u0275inj=M.G2t({}),ae})(),gt=(()=>{var ve;class ae{static withConfig(ge){var Ue;return{ngModule:ae,providers:[{provide:Ae,useValue:null!==(Ue=ge.callSetDisabledState)&&void 0!==Ue?Ue:it}]}}}return(ve=ae).\u0275fac=function(ge){return new(ge||ve)},ve.\u0275mod=M.$C({type:ve}),ve.\u0275inj=M.G2t({imports:[w]}),ae})()},345:(Dr,rr,we)=>{"use strict";we.d(rr,{Bb:()=>lt,hE:()=>Ye,sG:()=>qe,up:()=>$e});var M=we(177),T=we(3953);class Qe extends M.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Et extends Qe{static makeCurrent(){(0,M.ZD)(new Et)}onAndCancel(mt,Ut,yt){return mt.addEventListener(Ut,yt),()=>{mt.removeEventListener(Ut,yt)}}dispatchEvent(mt,Ut){mt.dispatchEvent(Ut)}remove(mt){mt.parentNode&&mt.parentNode.removeChild(mt)}createElement(mt,Ut){return(Ut=Ut||this.getDefaultDocument()).createElement(mt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(mt){return mt.nodeType===Node.ELEMENT_NODE}isShadowRoot(mt){return mt instanceof DocumentFragment}getGlobalEventTarget(mt,Ut){return"window"===Ut?window:"document"===Ut?mt:"body"===Ut?mt.body:null}getBaseHref(mt){const Ut=function se(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==Ut?null:function V(Rt){return new URL(Rt,document.baseURI).pathname}(Ut)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(mt){return(0,M._b)(document.cookie,mt)}}let o=null,b=(()=>{var Rt;class mt{build(){return new XMLHttpRequest}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),mt})();const p=new T.nKC("");let y=(()=>{var Rt;class mt{constructor(yt,Lt){this._zone=Lt,this._eventNameToPlugin=new Map,yt.forEach(ur=>{ur.manager=this}),this._plugins=yt.slice().reverse()}addEventListener(yt,Lt,ur){return this._findPluginFor(Lt).addEventListener(yt,Lt,ur)}getZone(){return this._zone}_findPluginFor(yt){let Lt=this._eventNameToPlugin.get(yt);if(Lt)return Lt;if(Lt=this._plugins.find(ht=>ht.supports(yt)),!Lt)throw new T.wOt(5101,!1);return this._eventNameToPlugin.set(yt,Lt),Lt}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)(T.KVO(p),T.KVO(T.SKi))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),mt})();class E{constructor(mt){this._doc=mt}}const _="ng-app-id";let i=(()=>{var Rt;class mt{constructor(yt,Lt,ur,ht={}){this.doc=yt,this.appId=Lt,this.nonce=ur,this.platformId=ht,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,M.Vy)(ht),this.resetHostNodes()}addStyles(yt){for(const Lt of yt)1===this.changeUsageCount(Lt,1)&&this.onStyleAdded(Lt)}removeStyles(yt){for(const Lt of yt)this.changeUsageCount(Lt,-1)<=0&&this.onStyleRemoved(Lt)}ngOnDestroy(){const yt=this.styleNodesInDOM;yt&&(yt.forEach(Lt=>Lt.remove()),yt.clear());for(const Lt of this.getAllStyles())this.onStyleRemoved(Lt);this.resetHostNodes()}addHost(yt){this.hostNodes.add(yt);for(const Lt of this.getAllStyles())this.addStyleToHost(yt,Lt)}removeHost(yt){this.hostNodes.delete(yt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(yt){for(const Lt of this.hostNodes)this.addStyleToHost(Lt,yt)}onStyleRemoved(yt){var Lt;const ur=this.styleRef;null===(Lt=ur.get(yt))||void 0===Lt||null===(Lt=Lt.elements)||void 0===Lt||Lt.forEach(ht=>ht.remove()),ur.delete(yt)}collectServerRenderedStyles(){var yt;const Lt=null===(yt=this.doc.head)||void 0===yt?void 0:yt.querySelectorAll(`style[${_}="${this.appId}"]`);if(null!=Lt&&Lt.length){const ur=new Map;return Lt.forEach(ht=>{null!=ht.textContent&&ur.set(ht.textContent,ht)}),ur}return null}changeUsageCount(yt,Lt){const ur=this.styleRef;if(ur.has(yt)){const ht=ur.get(yt);return ht.usage+=Lt,ht.usage}return ur.set(yt,{usage:Lt,elements:[]}),Lt}getStyleElement(yt,Lt){const ur=this.styleNodesInDOM,ht=null==ur?void 0:ur.get(Lt);if((null==ht?void 0:ht.parentNode)===yt)return ur.delete(Lt),ht.removeAttribute(_),ht;{const Dt=this.doc.createElement("style");return this.nonce&&Dt.setAttribute("nonce",this.nonce),Dt.textContent=Lt,this.platformIsServer&&Dt.setAttribute(_,this.appId),yt.appendChild(Dt),Dt}}addStyleToHost(yt,Lt){var ur;const ht=this.getStyleElement(yt,Lt),Dt=this.styleRef,tr=null===(ur=Dt.get(Lt))||void 0===ur?void 0:ur.elements;tr?tr.push(ht):Dt.set(Lt,{elements:[ht],usage:1})}resetHostNodes(){const yt=this.hostNodes;yt.clear(),yt.add(this.doc.head)}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)(T.KVO(M.qQ),T.KVO(T.sZ2),T.KVO(T.BIS,8),T.KVO(T.Agw))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),mt})();const l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},a=/%COMP%/g,u="%COMP%",h=`_nghost-${u}`,d=`_ngcontent-${u}`,f=new T.nKC("",{providedIn:"root",factory:()=>!0});function $(Rt,mt){return mt.map(Ut=>Ut.replace(a,Rt))}let L=(()=>{var Rt;class mt{constructor(yt,Lt,ur,ht,Dt,tr,Jt,ir=null){this.eventManager=yt,this.sharedStylesHost=Lt,this.appId=ur,this.removeStylesOnCompDestroy=ht,this.doc=Dt,this.platformId=tr,this.ngZone=Jt,this.nonce=ir,this.rendererByCompId=new Map,this.platformIsServer=(0,M.Vy)(tr),this.defaultRenderer=new P(yt,Dt,Jt,this.platformIsServer)}createRenderer(yt,Lt){if(!yt||!Lt)return this.defaultRenderer;this.platformIsServer&&Lt.encapsulation===T.gXe.ShadowDom&&(Lt={...Lt,encapsulation:T.gXe.Emulated});const ur=this.getOrCreateRenderer(yt,Lt);return ur instanceof Z?ur.applyToHost(yt):ur instanceof R&&ur.applyStyles(),ur}getOrCreateRenderer(yt,Lt){const ur=this.rendererByCompId;let ht=ur.get(Lt.id);if(!ht){const Dt=this.doc,tr=this.ngZone,Jt=this.eventManager,ir=this.sharedStylesHost,br=this.removeStylesOnCompDestroy,Er=this.platformIsServer;switch(Lt.encapsulation){case T.gXe.Emulated:ht=new Z(Jt,ir,Lt,this.appId,br,Dt,tr,Er);break;case T.gXe.ShadowDom:return new F(Jt,ir,yt,Lt,Dt,tr,this.nonce,Er);default:ht=new R(Jt,ir,Lt,br,Dt,tr,Er)}ur.set(Lt.id,ht)}return ht}ngOnDestroy(){this.rendererByCompId.clear()}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)(T.KVO(y),T.KVO(i),T.KVO(T.sZ2),T.KVO(f),T.KVO(M.qQ),T.KVO(T.Agw),T.KVO(T.SKi),T.KVO(T.BIS))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),mt})();class P{constructor(mt,Ut,yt,Lt){this.eventManager=mt,this.doc=Ut,this.ngZone=yt,this.platformIsServer=Lt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(mt,Ut){return Ut?this.doc.createElementNS(l[Ut]||Ut,mt):this.doc.createElement(mt)}createComment(mt){return this.doc.createComment(mt)}createText(mt){return this.doc.createTextNode(mt)}appendChild(mt,Ut){(I(mt)?mt.content:mt).appendChild(Ut)}insertBefore(mt,Ut,yt){mt&&(I(mt)?mt.content:mt).insertBefore(Ut,yt)}removeChild(mt,Ut){mt&&mt.removeChild(Ut)}selectRootElement(mt,Ut){let yt="string"==typeof mt?this.doc.querySelector(mt):mt;if(!yt)throw new T.wOt(-5104,!1);return Ut||(yt.textContent=""),yt}parentNode(mt){return mt.parentNode}nextSibling(mt){return mt.nextSibling}setAttribute(mt,Ut,yt,Lt){if(Lt){Ut=Lt+":"+Ut;const ur=l[Lt];ur?mt.setAttributeNS(ur,Ut,yt):mt.setAttribute(Ut,yt)}else mt.setAttribute(Ut,yt)}removeAttribute(mt,Ut,yt){if(yt){const Lt=l[yt];Lt?mt.removeAttributeNS(Lt,Ut):mt.removeAttribute(`${yt}:${Ut}`)}else mt.removeAttribute(Ut)}addClass(mt,Ut){mt.classList.add(Ut)}removeClass(mt,Ut){mt.classList.remove(Ut)}setStyle(mt,Ut,yt,Lt){Lt&(T.czy.DashCase|T.czy.Important)?mt.style.setProperty(Ut,yt,Lt&T.czy.Important?"important":""):mt.style[Ut]=yt}removeStyle(mt,Ut,yt){yt&T.czy.DashCase?mt.style.removeProperty(Ut):mt.style[Ut]=""}setProperty(mt,Ut,yt){null!=mt&&(mt[Ut]=yt)}setValue(mt,Ut){mt.nodeValue=Ut}listen(mt,Ut,yt){if("string"==typeof mt&&!(mt=(0,M.QT)().getGlobalEventTarget(this.doc,mt)))throw new Error(`Unsupported event target ${mt} for event ${Ut}`);return this.eventManager.addEventListener(mt,Ut,this.decoratePreventDefault(yt))}decoratePreventDefault(mt){return Ut=>{if("__ngUnwrap__"===Ut)return mt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>mt(Ut)):mt(Ut))&&Ut.preventDefault()}}}function I(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class F extends P{constructor(mt,Ut,yt,Lt,ur,ht,Dt,tr){super(mt,ur,ht,tr),this.sharedStylesHost=Ut,this.hostEl=yt,this.shadowRoot=yt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jt=$(Lt.id,Lt.styles);for(const ir of Jt){const br=document.createElement("style");Dt&&br.setAttribute("nonce",Dt),br.textContent=ir,this.shadowRoot.appendChild(br)}}nodeOrShadowRoot(mt){return mt===this.hostEl?this.shadowRoot:mt}appendChild(mt,Ut){return super.appendChild(this.nodeOrShadowRoot(mt),Ut)}insertBefore(mt,Ut,yt){return super.insertBefore(this.nodeOrShadowRoot(mt),Ut,yt)}removeChild(mt,Ut){return super.removeChild(this.nodeOrShadowRoot(mt),Ut)}parentNode(mt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(mt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class R extends P{constructor(mt,Ut,yt,Lt,ur,ht,Dt,tr){super(mt,ur,ht,Dt),this.sharedStylesHost=Ut,this.removeStylesOnCompDestroy=Lt,this.styles=tr?$(tr,yt.styles):yt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Z extends R{constructor(mt,Ut,yt,Lt,ur,ht,Dt,tr){const Jt=Lt+"-"+yt.id;super(mt,Ut,yt,ur,ht,Dt,tr,Jt),this.contentAttr=function g(Rt){return d.replace(a,Rt)}(Jt),this.hostAttr=function D(Rt){return h.replace(a,Rt)}(Jt)}applyToHost(mt){this.applyStyles(),this.setAttribute(mt,this.hostAttr,"")}createElement(mt,Ut){const yt=super.createElement(mt,Ut);return super.setAttribute(yt,this.contentAttr,""),yt}}let oe=(()=>{var Rt;class mt extends E{constructor(yt){super(yt)}supports(yt){return!0}addEventListener(yt,Lt,ur){return yt.addEventListener(Lt,ur,!1),()=>this.removeEventListener(yt,Lt,ur)}removeEventListener(yt,Lt,ur){return yt.removeEventListener(Lt,ur)}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),mt})(),q=(()=>{var Rt;class mt extends E{constructor(yt){super(yt),this.delegate=(0,T.WQX)(T.zAP,{optional:!0})}supports(yt){return!!this.delegate&&this.delegate.supports(yt)}addEventListener(yt,Lt,ur){return this.delegate.addEventListener(yt,Lt,ur)}removeEventListener(yt,Lt,ur){return this.delegate.removeEventListener(yt,Lt,ur)}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),mt})();const re=["alt","control","meta","shift"],W={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let K=(()=>{var Rt;class mt extends E{constructor(yt){super(yt)}supports(yt){return null!=mt.parseEventName(yt)}addEventListener(yt,Lt,ur){const ht=mt.parseEventName(Lt),Dt=mt.eventCallback(ht.fullKey,ur,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,M.QT)().onAndCancel(yt,ht.domEventName,Dt))}static parseEventName(yt){const Lt=yt.toLowerCase().split("."),ur=Lt.shift();if(0===Lt.length||"keydown"!==ur&&"keyup"!==ur)return null;const ht=mt._normalizeKey(Lt.pop());let Dt="",tr=Lt.indexOf("code");if(tr>-1&&(Lt.splice(tr,1),Dt="code."),re.forEach(ir=>{const br=Lt.indexOf(ir);br>-1&&(Lt.splice(br,1),Dt+=ir+".")}),Dt+=ht,0!=Lt.length||0===ht.length)return null;const Jt={};return Jt.domEventName=ur,Jt.fullKey=Dt,Jt}static matchEventFullKeyCode(yt,Lt){let ur=W[yt.key]||yt.key,ht="";return Lt.indexOf("code.")>-1&&(ur=yt.code,ht="code."),!(null==ur||!ur)&&(ur=ur.toLowerCase()," "===ur?ur="space":"."===ur&&(ur="dot"),re.forEach(Dt=>{Dt!==ur&&(0,G[Dt])(yt)&&(ht+=Dt+".")}),ht+=ur,ht===Lt)}static eventCallback(yt,Lt,ur){return ht=>{mt.matchEventFullKeyCode(ht,yt)&&ur.runGuarded(()=>Lt(ht))}}static _normalizeKey(yt){return"esc"===yt?"escape":yt}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac}),mt})();const qe=(0,T.oH4)(T.fpN,"browser",[{provide:T.Agw,useValue:M.AJ},{provide:T.PLl,useValue:function te(){Et.makeCurrent()},multi:!0},{provide:M.qQ,useFactory:function xe(){return(0,T.TL$)(document),document},deps:[]}]),ct=new T.nKC(""),ze=[{provide:T.e01,useClass:class v{addToWindow(mt){T.JZv.getAngularTestability=(yt,Lt=!0)=>{const ur=mt.findTestabilityInTree(yt,Lt);if(null==ur)throw new T.wOt(5103,!1);return ur},T.JZv.getAllAngularTestabilities=()=>mt.getAllTestabilities(),T.JZv.getAllAngularRootElements=()=>mt.getAllRootElements(),T.JZv.frameworkStabilizers||(T.JZv.frameworkStabilizers=[]),T.JZv.frameworkStabilizers.push(yt=>{const Lt=T.JZv.getAllAngularTestabilities();let ur=Lt.length;const ht=function(){ur--,0==ur&&yt()};Lt.forEach(Dt=>{Dt.whenStable(ht)})})}findTestabilityInTree(mt,Ut,yt){if(null==Ut)return null;const Lt=mt.getTestability(Ut);return null!=Lt?Lt:yt?(0,M.QT)().isShadowRoot(Ut)?this.findTestabilityInTree(mt,Ut.host,!0):this.findTestabilityInTree(mt,Ut.parentElement,!0):null}},deps:[]},{provide:T.WHO,useClass:T.NYb,deps:[T.SKi,T.giA,T.e01]},{provide:T.NYb,useClass:T.NYb,deps:[T.SKi,T.giA,T.e01]}],st=[{provide:T.H8p,useValue:"root"},{provide:T.zcH,useFactory:function me(){return new T.zcH},deps:[]},{provide:p,useClass:oe,multi:!0,deps:[M.qQ,T.SKi,T.Agw]},{provide:p,useClass:K,multi:!0,deps:[M.qQ]},{provide:p,useClass:q,multi:!0},L,i,y,{provide:T._9s,useExisting:L},{provide:M.N0,useClass:b,deps:[]},[]];let lt=(()=>{var Rt;class mt{constructor(yt){}static withServerTransition(yt){return{ngModule:mt,providers:[{provide:T.sZ2,useValue:yt.appId}]}}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)(T.KVO(ct,12))},Rt.\u0275mod=T.$C({type:Rt}),Rt.\u0275inj=T.G2t({providers:[...st,...ze],imports:[M.MD,T.Hbi]}),mt})(),Ye=(()=>{var Rt;class mt{constructor(yt){this._doc=yt}getTitle(){return this._doc.title}setTitle(yt){this._doc.title=yt||""}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),mt})(),$e=(()=>{var Rt;class mt{}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)},Rt.\u0275prov=T.jDH({token:Rt,factory:function(yt){let Lt=null;return Lt=yt?new(yt||Rt):T.KVO(We),Lt},providedIn:"root"}),mt})(),We=(()=>{var Rt;class mt extends $e{constructor(yt){super(),this._doc=yt}sanitize(yt,Lt){if(null==Lt)return null;switch(yt){case T.WPN.NONE:return Lt;case T.WPN.HTML:return(0,T.ZF7)(Lt,"HTML")?(0,T.rcV)(Lt):(0,T.h9k)(this._doc,String(Lt)).toString();case T.WPN.STYLE:return(0,T.ZF7)(Lt,"Style")?(0,T.rcV)(Lt):Lt;case T.WPN.SCRIPT:if((0,T.ZF7)(Lt,"Script"))return(0,T.rcV)(Lt);throw new T.wOt(5200,!1);case T.WPN.URL:return(0,T.ZF7)(Lt,"URL")?(0,T.rcV)(Lt):(0,T.$MX)(String(Lt));case T.WPN.RESOURCE_URL:if((0,T.ZF7)(Lt,"ResourceURL"))return(0,T.rcV)(Lt);throw new T.wOt(5201,!1);default:throw new T.wOt(5202,!1)}}bypassSecurityTrustHtml(yt){return(0,T.Kcf)(yt)}bypassSecurityTrustStyle(yt){return(0,T.cWb)(yt)}bypassSecurityTrustScript(yt){return(0,T.UyX)(yt)}bypassSecurityTrustUrl(yt){return(0,T.osQ)(yt)}bypassSecurityTrustResourceUrl(yt){return(0,T.e5t)(yt)}}return(Rt=mt).\u0275fac=function(yt){return new(yt||Rt)(T.KVO(M.qQ))},Rt.\u0275prov=T.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),mt})()},9858:(Dr,rr,we)=>{"use strict";we.d(rr,{nX:()=>Fr,Zp:()=>Tt,Z:()=>Vn,Xk:()=>ze,Kp:()=>ji,b:()=>Yr,Ix:()=>co,Wk:()=>Da,iI:()=>Yu,Sd:()=>Xt});var M=we(3953),T=we(1985),Qe=we(8071),o=we(6648),se=we(7673),V=we(4412),v=we(4572);const p=(0,we(1853).L)(ne=>function(){ne(this),this.name="EmptyError",this.message="no elements in sequence"});var y=we(8793),E=we(9030),_=we(1203),i=we(8810),l=we(983),a=we(17),u=we(1413),h=we(8359),d=we(177),m=we(6354),f=we(5558),g=we(6697),D=we(9326),$=we(9974),P=we(5964),x=we(1397),U=we(4360);function I(ne){return(0,$.N)((he,_e)=>{let de=!1;he.subscribe((0,U._)(_e,Ce=>{de=!0,_e.next(Ce)},()=>{de||_e.next(ne),_e.complete()}))})}function F(ne=R){return(0,$.N)((he,_e)=>{let de=!1;he.subscribe((0,U._)(_e,Ce=>{de=!0,_e.next(Ce)},()=>de?_e.complete():_e.error(ne())))})}function R(){return new p}var Z=we(3669);function oe(ne,he){const _e=arguments.length>=2;return de=>de.pipe(ne?(0,P.p)((Ce,et)=>ne(Ce,et,de)):Z.D,(0,g.s)(1),_e?I(he):F(()=>new p))}function q(ne,he){return(0,Qe.T)(he)?(0,x.Z)(ne,he,1):(0,x.Z)(ne,1)}var re=we(8141),W=we(8750);function G(ne){return(0,$.N)((he,_e)=>{let et,de=null,Ce=!1;de=he.subscribe((0,U._)(_e,void 0,void 0,at=>{et=(0,W.Tg)(ne(at,G(ne)(he))),de?(de.unsubscribe(),de=null,et.subscribe(_e)):Ce=!0})),Ce&&(de.unsubscribe(),de=null,et.subscribe(_e))})}function Me(ne){return ne<=0?()=>l.w:(0,$.N)((he,_e)=>{let de=[];he.subscribe((0,U._)(_e,Ce=>{de.push(Ce),ne<de.length&&de.shift()},()=>{for(const Ce of de)_e.next(Ce);_e.complete()},void 0,()=>{de=null}))})}var j=we(3703);function te(ne){return(0,$.N)((he,_e)=>{try{he.subscribe(_e)}finally{_e.add(ne)}})}var me=we(9898),xe=we(5343),qe=we(6365),ct=we(345);const ze="primary",st=Symbol("RouteTitle");class lt{constructor(he){this.params=he||{}}has(he){return Object.prototype.hasOwnProperty.call(this.params,he)}get(he){if(this.has(he)){const _e=this.params[he];return Array.isArray(_e)?_e[0]:_e}return null}getAll(he){if(this.has(he)){const _e=this.params[he];return Array.isArray(_e)?_e:[_e]}return[]}get keys(){return Object.keys(this.params)}}function Fe(ne){return new lt(ne)}function rt(ne,he,_e){const de=_e.path.split("/");if(de.length>ne.length||"full"===_e.pathMatch&&(he.hasChildren()||de.length<ne.length))return null;const Ce={};for(let et=0;et<de.length;et++){const at=de[et],sr=ne[et];if(":"===at[0])Ce[at.substring(1)]=sr;else if(at!==sr.path)return null}return{consumed:ne.slice(0,de.length),posParams:Ce}}function ot(ne,he){const _e=ne?Je(ne):void 0,de=he?Je(he):void 0;if(!_e||!de||_e.length!=de.length)return!1;let Ce;for(let et=0;et<_e.length;et++)if(Ce=_e[et],!ft(ne[Ce],he[Ce]))return!1;return!0}function Je(ne){return[...Object.keys(ne),...Object.getOwnPropertySymbols(ne)]}function ft(ne,he){if(Array.isArray(ne)&&Array.isArray(he)){if(ne.length!==he.length)return!1;const _e=[...ne].sort(),de=[...he].sort();return _e.every((Ce,et)=>de[et]===Ce)}return ne===he}function Pt(ne){return ne.length>0?ne[ne.length-1]:null}function Wt(ne){return function Et(ne){return!!ne&&(ne instanceof T.c||(0,Qe.T)(ne.lift)&&(0,Qe.T)(ne.subscribe))}(ne)?ne:(0,M.jNT)(ne)?(0,o.H)(Promise.resolve(ne)):(0,se.of)(ne)}const $t={exact:function Kt(ne,he,_e){if(!wt(ne.segments,he.segments)||!Ht(ne.segments,he.segments,_e)||ne.numberOfChildren!==he.numberOfChildren)return!1;for(const de in he.children)if(!ne.children[de]||!Kt(ne.children[de],he.children[de],_e))return!1;return!0},subset:It},cr={exact:function mr(ne,he){return ot(ne,he)},subset:function hr(ne,he){return Object.keys(he).length<=Object.keys(ne).length&&Object.keys(he).every(_e=>ft(ne[_e],he[_e]))},ignored:()=>!0};function Vt(ne,he,_e){return $t[_e.paths](ne.root,he.root,_e.matrixParams)&&cr[_e.queryParams](ne.queryParams,he.queryParams)&&!("exact"===_e.fragment&&ne.fragment!==he.fragment)}function It(ne,he,_e){return lr(ne,he,he.segments,_e)}function lr(ne,he,_e,de){if(ne.segments.length>_e.length){const Ce=ne.segments.slice(0,_e.length);return!(!wt(Ce,_e)||he.hasChildren()||!Ht(Ce,_e,de))}if(ne.segments.length===_e.length){if(!wt(ne.segments,_e)||!Ht(ne.segments,_e,de))return!1;for(const Ce in he.children)if(!ne.children[Ce]||!It(ne.children[Ce],he.children[Ce],de))return!1;return!0}{const Ce=_e.slice(0,ne.segments.length),et=_e.slice(ne.segments.length);return!!(wt(ne.segments,Ce)&&Ht(ne.segments,Ce,de)&&ne.children[ze])&&lr(ne.children[ze],he,et,de)}}function Ht(ne,he,_e){return he.every((de,Ce)=>cr[_e](ne[Ce].parameters,de.parameters))}class $e{constructor(he=new We([],{}),_e={},de=null){this.root=he,this.queryParams=_e,this.fragment=de}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return Bt.serialize(this)}}class We{constructor(he,_e){this.segments=he,this.children=_e,this.parent=null,Object.values(_e).forEach(de=>de.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return er(this)}}class Pe{constructor(he,_e){this.path=he,this.parameters=_e}get parameterMap(){var he;return null!==(he=this._parameterMap)&&void 0!==he||(this._parameterMap=Fe(this.parameters)),this._parameterMap}toString(){return ht(this)}}function wt(ne,he){return ne.length===he.length&&ne.every((_e,de)=>_e.path===he[de].path)}let Xt=(()=>{var ne;class he{}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:()=>new Ct,providedIn:"root"}),he})();class Ct{parse(he){const _e=new Ie(he);return new $e(_e.parseRootSegment(),_e.parseQueryParams(),_e.parseFragment())}serialize(he){const _e=`/${or(he.root,!0)}`,de=function tr(ne){const he=Object.entries(ne).map(([_e,de])=>Array.isArray(de)?de.map(Ce=>`${mt(_e)}=${mt(Ce)}`).join("&"):`${mt(_e)}=${mt(de)}`).filter(_e=>_e);return he.length?`?${he.join("&")}`:""}(he.queryParams);return`${_e}${de}${"string"==typeof he.fragment?`#${function Ut(ne){return encodeURI(ne)}(he.fragment)}`:""}`}}const Bt=new Ct;function er(ne){return ne.segments.map(he=>ht(he)).join("/")}function or(ne,he){if(!ne.hasChildren())return er(ne);if(he){const _e=ne.children[ze]?or(ne.children[ze],!1):"",de=[];return Object.entries(ne.children).forEach(([Ce,et])=>{Ce!==ze&&de.push(`${Ce}:${or(et,!1)}`)}),de.length>0?`${_e}(${de.join("//")})`:_e}{const _e=function Ot(ne,he){let _e=[];return Object.entries(ne.children).forEach(([de,Ce])=>{de===ze&&(_e=_e.concat(he(Ce,de)))}),Object.entries(ne.children).forEach(([de,Ce])=>{de!==ze&&(_e=_e.concat(he(Ce,de)))}),_e}(ne,(de,Ce)=>Ce===ze?[or(ne.children[ze],!1)]:[`${Ce}:${or(de,!1)}`]);return 1===Object.keys(ne.children).length&&null!=ne.children[ze]?`${er(ne)}/${_e[0]}`:`${er(ne)}/(${_e.join("//")})`}}function Rt(ne){return encodeURIComponent(ne).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mt(ne){return Rt(ne).replace(/%3B/gi,";")}function yt(ne){return Rt(ne).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lt(ne){return decodeURIComponent(ne)}function ur(ne){return Lt(ne.replace(/\+/g,"%20"))}function ht(ne){return`${yt(ne.path)}${function Dt(ne){return Object.entries(ne).map(([he,_e])=>`;${yt(he)}=${yt(_e)}`).join("")}(ne.parameters)}`}const Jt=/^[^\/()?;#]+/;function ir(ne){const he=ne.match(Jt);return he?he[0]:""}const br=/^[^\/()?;=#]+/,vr=/^[^=?&#]+/,z=/^[^&#]+/;class Ie{constructor(he){this.url=he,this.remaining=he}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const he={};if(this.consumeOptional("?"))do{this.parseQueryParam(he)}while(this.consumeOptional("&"));return he}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const he=[];for(this.peekStartsWith("(")||he.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),he.push(this.parseSegment());let _e={};this.peekStartsWith("/(")&&(this.capture("/"),_e=this.parseParens(!0));let de={};return this.peekStartsWith("(")&&(de=this.parseParens(!1)),(he.length>0||Object.keys(_e).length>0)&&(de[ze]=new We(he,_e)),de}parseSegment(){const he=ir(this.remaining);if(""===he&&this.peekStartsWith(";"))throw new M.wOt(4009,!1);return this.capture(he),new Pe(Lt(he),this.parseMatrixParams())}parseMatrixParams(){const he={};for(;this.consumeOptional(";");)this.parseParam(he);return he}parseParam(he){const _e=function Er(ne){const he=ne.match(br);return he?he[0]:""}(this.remaining);if(!_e)return;this.capture(_e);let de="";if(this.consumeOptional("=")){const Ce=ir(this.remaining);Ce&&(de=Ce,this.capture(de))}he[Lt(_e)]=Lt(de)}parseQueryParam(he){const _e=function Mr(ne){const he=ne.match(vr);return he?he[0]:""}(this.remaining);if(!_e)return;this.capture(_e);let de="";if(this.consumeOptional("=")){const at=function pe(ne){const he=ne.match(z);return he?he[0]:""}(this.remaining);at&&(de=at,this.capture(de))}const Ce=ur(_e),et=ur(de);if(he.hasOwnProperty(Ce)){let at=he[Ce];Array.isArray(at)||(at=[at],he[Ce]=at),at.push(et)}else he[Ce]=et}parseParens(he){const _e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const de=ir(this.remaining),Ce=this.remaining[de.length];if("/"!==Ce&&")"!==Ce&&";"!==Ce)throw new M.wOt(4010,!1);let et;de.indexOf(":")>-1?(et=de.slice(0,de.indexOf(":")),this.capture(et),this.capture(":")):he&&(et=ze);const at=this.parseChildren();_e[et]=1===Object.keys(at).length?at[ze]:new We([],at),this.consumeOptional("//")}return _e}peekStartsWith(he){return this.remaining.startsWith(he)}consumeOptional(he){return!!this.peekStartsWith(he)&&(this.remaining=this.remaining.substring(he.length),!0)}capture(he){if(!this.consumeOptional(he))throw new M.wOt(4011,!1)}}function C(ne){return ne.segments.length>0?new We([],{[ze]:ne}):ne}function O(ne){const he={};for(const[de,Ce]of Object.entries(ne.children)){const et=O(Ce);if(de===ze&&0===et.segments.length&&et.hasChildren())for(const[at,sr]of Object.entries(et.children))he[at]=sr;else(et.segments.length>0||et.hasChildren())&&(he[de]=et)}return function B(ne){if(1===ne.numberOfChildren&&ne.children[ze]){const he=ne.children[ze];return new We(ne.segments.concat(he.segments),he.children)}return ne}(new We(ne.segments,he))}function A(ne){return ne instanceof $e}function H(ne){var he;let _e;const et=C(function de(at){const sr={};for(const qt of at.children){const Or=de(qt);sr[qt.outlet]=Or}const wr=new We(at.url,sr);return at===ne&&(_e=wr),wr}(ne.root));return null!==(he=_e)&&void 0!==he?he:et}function ie(ne,he,_e,de){let Ce=ne;for(;Ce.parent;)Ce=Ce.parent;if(0===he.length)return it(Ce,Ce,Ce,_e,de);const et=function ke(ne){if("string"==typeof ne[0]&&1===ne.length&&"/"===ne[0])return new fr(!0,0,ne);let he=0,_e=!1;const de=ne.reduce((Ce,et,at)=>{if("object"==typeof et&&null!=et){if(et.outlets){const sr={};return Object.entries(et.outlets).forEach(([wr,qt])=>{sr[wr]="string"==typeof qt?qt.split("/"):qt}),[...Ce,{outlets:sr}]}if(et.segmentPath)return[...Ce,et.segmentPath]}return"string"!=typeof et?[...Ce,et]:0===at?(et.split("/").forEach((sr,wr)=>{0==wr&&"."===sr||(0==wr&&""===sr?_e=!0:".."===sr?he++:""!=sr&&Ce.push(sr))}),Ce):[...Ce,et]},[]);return new fr(_e,he,de)}(he);if(et.toRoot())return it(Ce,Ce,new We([],{}),_e,de);const at=function vt(ne,he,_e){if(ne.isAbsolute)return new He(he,!0,0);if(!_e)return new He(he,!1,NaN);if(null===_e.parent)return new He(_e,!0,0);const de=je(ne.commands[0])?0:1;return function Ge(ne,he,_e){let de=ne,Ce=he,et=_e;for(;et>Ce;){if(et-=Ce,de=de.parent,!de)throw new M.wOt(4005,!1);Ce=de.segments.length}return new He(de,!1,Ce-et)}(_e,_e.segments.length-1+de,ne.numberOfDoubleDots)}(et,Ce,ne),sr=at.processChildren?ar(at.segmentGroup,at.index,et.commands):Ft(at.segmentGroup,at.index,et.commands);return it(Ce,at.segmentGroup,sr,_e,de)}function je(ne){return"object"==typeof ne&&null!=ne&&!ne.outlets&&!ne.segmentPath}function Ae(ne){return"object"==typeof ne&&null!=ne&&ne.outlets}function it(ne,he,_e,de,Ce){let at,et={};de&&Object.entries(de).forEach(([wr,qt])=>{et[wr]=Array.isArray(qt)?qt.map(Or=>`${Or}`):`${qt}`}),at=ne===he?_e:xt(ne,he,_e);const sr=C(O(at));return new $e(sr,et,Ce)}function xt(ne,he,_e){const de={};return Object.entries(ne.children).forEach(([Ce,et])=>{de[Ce]=et===he?_e:xt(et,he,_e)}),new We(ne.segments,de)}class fr{constructor(he,_e,de){if(this.isAbsolute=he,this.numberOfDoubleDots=_e,this.commands=de,he&&de.length>0&&je(de[0]))throw new M.wOt(4003,!1);const Ce=de.find(Ae);if(Ce&&Ce!==Pt(de))throw new M.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class He{constructor(he,_e,de){this.segmentGroup=he,this.processChildren=_e,this.index=de}}function Ft(ne,he,_e){var de;if(null!==(de=ne)&&void 0!==de||(ne=new We([],{})),0===ne.segments.length&&ne.hasChildren())return ar(ne,he,_e);const Ce=function _r(ne,he,_e){let de=0,Ce=he;const et={match:!1,pathIndex:0,commandIndex:0};for(;Ce<ne.segments.length;){if(de>=_e.length)return et;const at=ne.segments[Ce],sr=_e[de];if(Ae(sr))break;const wr=`${sr}`,qt=de<_e.length-1?_e[de+1]:null;if(Ce>0&&void 0===wr)break;if(wr&&qt&&"object"==typeof qt&&void 0===qt.outlets){if(!Nn(wr,qt,at))return et;de+=2}else{if(!Nn(wr,{},at))return et;de++}Ce++}return{match:!0,pathIndex:Ce,commandIndex:de}}(ne,he,_e),et=_e.slice(Ce.commandIndex);if(Ce.match&&Ce.pathIndex<ne.segments.length){const at=new We(ne.segments.slice(0,Ce.pathIndex),{});return at.children[ze]=new We(ne.segments.slice(Ce.pathIndex),ne.children),ar(at,0,et)}return Ce.match&&0===et.length?new We(ne.segments,{}):Ce.match&&!ne.hasChildren()?Pr(ne,he,_e):Ce.match?ar(ne,0,et):Pr(ne,he,_e)}function ar(ne,he,_e){if(0===_e.length)return new We(ne.segments,{});{const de=function dt(ne){return Ae(ne[0])?ne[0].outlets:{[ze]:ne}}(_e),Ce={};if(Object.keys(de).some(et=>et!==ze)&&ne.children[ze]&&1===ne.numberOfChildren&&0===ne.children[ze].segments.length){const et=ar(ne.children[ze],he,_e);return new We(ne.segments,et.children)}return Object.entries(de).forEach(([et,at])=>{"string"==typeof at&&(at=[at]),null!==at&&(Ce[et]=Ft(ne.children[et],he,at))}),Object.entries(ne.children).forEach(([et,at])=>{void 0===de[et]&&(Ce[et]=at)}),new We(ne.segments,Ce)}}function Pr(ne,he,_e){const de=ne.segments.slice(0,he);let Ce=0;for(;Ce<_e.length;){const et=_e[Ce];if(Ae(et)){const wr=tn(et.outlets);return new We(de,wr)}if(0===Ce&&je(_e[0])){de.push(new Pe(ne.segments[he].path,on(_e[0]))),Ce++;continue}const at=Ae(et)?et.outlets[ze]:`${et}`,sr=Ce<_e.length-1?_e[Ce+1]:null;at&&sr&&je(sr)?(de.push(new Pe(at,on(sr))),Ce+=2):(de.push(new Pe(at,{})),Ce++)}return new We(de,{})}function tn(ne){const he={};return Object.entries(ne).forEach(([_e,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(he[_e]=Pr(new We([],{}),0,de))}),he}function on(ne){const he={};return Object.entries(ne).forEach(([_e,de])=>he[_e]=`${de}`),he}function Nn(ne,he,_e){return ne==_e.path&&ot(he,_e.parameters)}const Dn="imperative";var Kr=function(ne){return ne[ne.NavigationStart=0]="NavigationStart",ne[ne.NavigationEnd=1]="NavigationEnd",ne[ne.NavigationCancel=2]="NavigationCancel",ne[ne.NavigationError=3]="NavigationError",ne[ne.RoutesRecognized=4]="RoutesRecognized",ne[ne.ResolveStart=5]="ResolveStart",ne[ne.ResolveEnd=6]="ResolveEnd",ne[ne.GuardsCheckStart=7]="GuardsCheckStart",ne[ne.GuardsCheckEnd=8]="GuardsCheckEnd",ne[ne.RouteConfigLoadStart=9]="RouteConfigLoadStart",ne[ne.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ne[ne.ChildActivationStart=11]="ChildActivationStart",ne[ne.ChildActivationEnd=12]="ChildActivationEnd",ne[ne.ActivationStart=13]="ActivationStart",ne[ne.ActivationEnd=14]="ActivationEnd",ne[ne.Scroll=15]="Scroll",ne[ne.NavigationSkipped=16]="NavigationSkipped",ne}(Kr||{});class yn{constructor(he,_e){this.id=he,this.url=_e}}class Vn extends yn{constructor(he,_e,de="imperative",Ce=null){super(he,_e),this.type=Kr.NavigationStart,this.navigationTrigger=de,this.restoredState=Ce}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sn extends yn{constructor(he,_e,de){super(he,_e),this.urlAfterRedirects=de,this.type=Kr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ln=function(ne){return ne[ne.Redirect=0]="Redirect",ne[ne.SupersededByNewNavigation=1]="SupersededByNewNavigation",ne[ne.NoDataFromResolver=2]="NoDataFromResolver",ne[ne.GuardRejected=3]="GuardRejected",ne}(Ln||{}),To=function(ne){return ne[ne.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ne[ne.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ne}(To||{});class eo extends yn{constructor(he,_e,de,Ce){super(he,_e),this.reason=de,this.code=Ce,this.type=Kr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wo extends yn{constructor(he,_e,de,Ce){super(he,_e),this.reason=de,this.code=Ce,this.type=Kr.NavigationSkipped}}class ko extends yn{constructor(he,_e,de,Ce){super(he,_e),this.error=de,this.target=Ce,this.type=Kr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class No extends yn{constructor(he,_e,de,Ce){super(he,_e),this.urlAfterRedirects=de,this.state=Ce,this.type=Kr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends yn{constructor(he,_e,de,Ce){super(he,_e),this.urlAfterRedirects=de,this.state=Ce,this.type=Kr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends yn{constructor(he,_e,de,Ce,et){super(he,_e),this.urlAfterRedirects=de,this.state=Ce,this.shouldActivate=et,this.type=Kr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends yn{constructor(he,_e,de,Ce){super(he,_e),this.urlAfterRedirects=de,this.state=Ce,this.type=Kr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends yn{constructor(he,_e,de,Ce){super(he,_e),this.urlAfterRedirects=de,this.state=Ce,this.type=Kr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs{constructor(he){this.route=he,this.type=Kr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vs{constructor(he){this.route=he,this.type=Kr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ye{constructor(he){this.snapshot=he,this.type=Kr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(he){this.snapshot=he,this.type=Kr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ut{constructor(he){this.snapshot=he,this.type=Kr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ee{constructor(he){this.snapshot=he,this.type=Kr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pt{constructor(he,_e,de){this.routerEvent=he,this.position=_e,this.anchor=de,this.type=Kr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zt{}class fn{constructor(he,_e){this.url=he,this.navigationBehaviorOptions=_e}}function Yn(ne){return ne.outlet||ze}function Le(ne){var he;if(!ne)return null;if(null!==(he=ne.routeConfig)&&void 0!==he&&he._injector)return ne.routeConfig._injector;for(let _e=ne.parent;_e;_e=_e.parent){const de=_e.routeConfig;if(null!=de&&de._loadedInjector)return de._loadedInjector;if(null!=de&&de._injector)return de._injector}return null}class tt{get injector(){var he,_e;return null!==(he=Le(null===(_e=this.route)||void 0===_e?void 0:_e.snapshot))&&void 0!==he?he:this.rootInjector}set injector(he){}constructor(he){this.rootInjector=he,this.outlet=null,this.route=null,this.children=new Tt(this.rootInjector),this.attachRef=null}}let Tt=(()=>{var ne;class he{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,Ce){const et=this.getOrCreateContext(de);et.outlet=Ce,this.contexts.set(de,et)}onChildOutletDestroyed(de){const Ce=this.getContext(de);Ce&&(Ce.outlet=null,Ce.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let Ce=this.getContext(de);return Ce||(Ce=new tt(this.rootInjector),this.contexts.set(de,Ce)),Ce}getContext(de){return this.contexts.get(de)||null}}return(ne=he).\u0275fac=function(de){return new(de||ne)(M.KVO(M.uvJ))},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})();class kt{constructor(he){this._root=he}get root(){return this._root.value}parent(he){const _e=this.pathFromRoot(he);return _e.length>1?_e[_e.length-2]:null}children(he){const _e=Qt(he,this._root);return _e?_e.children.map(de=>de.value):[]}firstChild(he){const _e=Qt(he,this._root);return _e&&_e.children.length>0?_e.children[0].value:null}siblings(he){const _e=Yt(he,this._root);return _e.length<2?[]:_e[_e.length-2].children.map(Ce=>Ce.value).filter(Ce=>Ce!==he)}pathFromRoot(he){return Yt(he,this._root).map(_e=>_e.value)}}function Qt(ne,he){if(ne===he.value)return he;for(const _e of he.children){const de=Qt(ne,_e);if(de)return de}return null}function Yt(ne,he){if(ne===he.value)return[he];for(const _e of he.children){const de=Yt(ne,_e);if(de.length)return de.unshift(he),de}return[]}class gr{constructor(he,_e){this.value=he,this.children=_e}toString(){return`TreeNode(${this.value})`}}function Sr(ne){const he={};return ne&&ne.children.forEach(_e=>he[_e.value.outlet]=_e),he}class xr extends kt{constructor(he,_e){super(he),this.snapshot=_e,bn(this,he)}toString(){return this.snapshot.toString()}}function Tr(ne){const he=function Ur(ne){const et=new qr([],{},{},"",{},ze,ne,null,{});return new pn("",new gr(et,[]))}(ne),_e=new V.t([new Pe("",{})]),de=new V.t({}),Ce=new V.t({}),et=new V.t({}),at=new V.t(""),sr=new Fr(_e,de,et,at,Ce,ze,ne,he.root);return sr.snapshot=he.root,new xr(new gr(sr,[]),he)}class Fr{constructor(he,_e,de,Ce,et,at,sr,wr){var qt,Or;this.urlSubject=he,this.paramsSubject=_e,this.queryParamsSubject=de,this.fragmentSubject=Ce,this.dataSubject=et,this.outlet=at,this.component=sr,this._futureSnapshot=wr,this.title=null!==(qt=null===(Or=this.dataSubject)||void 0===Or?void 0:Or.pipe((0,m.T)(Xr=>Xr[st])))&&void 0!==qt?qt:(0,se.of)(void 0),this.url=he,this.params=_e,this.queryParams=de,this.fragment=Ce,this.data=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=this.params.pipe((0,m.T)(_e=>Fe(_e)))),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=this.queryParams.pipe((0,m.T)(_e=>Fe(_e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gr(ne,he,_e="emptyOnly"){var de;let Ce;const{routeConfig:et}=ne;var at;return Ce=null===he||"always"!==_e&&""!==(null==et?void 0:et.path)&&(he.component||null!==(de=he.routeConfig)&&void 0!==de&&de.loadComponent)?{params:{...ne.params},data:{...ne.data},resolve:{...ne.data,...null!==(at=ne._resolvedData)&&void 0!==at?at:{}}}:{params:{...he.params,...ne.params},data:{...he.data,...ne.data},resolve:{...ne.data,...he.data,...null==et?void 0:et.data,...ne._resolvedData}},et&&Rr(et)&&(Ce.resolve[st]=et.title),Ce}class qr{get title(){var he;return null===(he=this.data)||void 0===he?void 0:he[st]}constructor(he,_e,de,Ce,et,at,sr,wr,qt){this.url=he,this.params=_e,this.queryParams=de,this.fragment=Ce,this.data=et,this.outlet=at,this.component=sr,this.routeConfig=wr,this._resolve=qt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=Fe(this.params)),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(de=>de.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pn extends kt{constructor(he,_e){super(_e),this.url=he,bn(this,_e)}toString(){return _n(this._root)}}function bn(ne,he){he.value._routerState=ne,he.children.forEach(_e=>bn(ne,_e))}function _n(ne){const he=ne.children.length>0?` { ${ne.children.map(_n).join(", ")} } `:"";return`${ne.value}${he}`}function Fn(ne){if(ne.snapshot){const he=ne.snapshot,_e=ne._futureSnapshot;ne.snapshot=_e,ot(he.queryParams,_e.queryParams)||ne.queryParamsSubject.next(_e.queryParams),he.fragment!==_e.fragment&&ne.fragmentSubject.next(_e.fragment),ot(he.params,_e.params)||ne.paramsSubject.next(_e.params),function Ye(ne,he){if(ne.length!==he.length)return!1;for(let _e=0;_e<ne.length;++_e)if(!ot(ne[_e],he[_e]))return!1;return!0}(he.url,_e.url)||ne.urlSubject.next(_e.url),ot(he.data,_e.data)||ne.dataSubject.next(_e.data)}else ne.snapshot=ne._futureSnapshot,ne.dataSubject.next(ne._futureSnapshot.data)}function kn(ne,he){const _e=ot(ne.params,he.params)&&function Xe(ne,he){return wt(ne,he)&&ne.every((_e,de)=>ot(_e.parameters,he[de].parameters))}(ne.url,he.url);return _e&&!(!ne.parent!=!he.parent)&&(!ne.parent||kn(ne.parent,he.parent))}function Rr(ne){return"string"==typeof ne.title||null===ne.title}let go=(()=>{var ne;class he{constructor(){this.activated=null,this._activatedRoute=null,this.name=ze,this.activateEvents=new M.bkB,this.deactivateEvents=new M.bkB,this.attachEvents=new M.bkB,this.detachEvents=new M.bkB,this.parentContexts=(0,M.WQX)(Tt),this.location=(0,M.WQX)(M.c1b),this.changeDetector=(0,M.WQX)(M.gRc),this.inputBinder=(0,M.WQX)(Pn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:Ce,previousValue:et}=de.name;if(Ce)return;this.isTrackedInParentContexts(et)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(et)),this.initializeOutletWithName()}}ngOnDestroy(){var de;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(de=this.inputBinder)||void 0===de||de.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){var Ce;return(null===(Ce=this.parentContexts.getContext(de))||void 0===Ce?void 0:Ce.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);null!=de&&de.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,Ce){var et;this.activated=de,this._activatedRoute=Ce,this.location.insert(de.hostView),null===(et=this.inputBinder)||void 0===et||et.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Ce){var et;if(this.isActivated)throw new M.wOt(4013,!1);this._activatedRoute=de;const at=this.location,wr=de.snapshot.component,qt=this.parentContexts.getOrCreateContext(this.name).children,Or=new Lo(de,qt,at.injector);this.activated=at.createComponent(wr,{index:at.length,injector:Or,environmentInjector:Ce}),this.changeDetector.markForCheck(),null===(et=this.inputBinder)||void 0===et||et.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275dir=M.FsC({type:ne,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[M.OA$]}),he})();class Lo{__ngOutletInjector(he){return new Lo(this.route,this.childContexts,he)}constructor(he,_e,de){this.route=he,this.childContexts=_e,this.parent=de}get(he,_e){return he===Fr?this.route:he===Tt?this.childContexts:this.parent.get(he,_e)}}const Pn=new M.nKC("");let js=(()=>{var ne;class he{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){var Ce;null===(Ce=this.outletDataSubscriptions.get(de))||void 0===Ce||Ce.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Ce}=de,et=(0,v.z)([Ce.queryParams,Ce.params,Ce.data]).pipe((0,f.n)(([at,sr,wr],qt)=>(wr={...at,...sr,...wr},0===qt?(0,se.of)(wr):Promise.resolve(wr)))).subscribe(at=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Ce||null===Ce.component)return void this.unsubscribeFromRouteData(de);const sr=(0,M.HJs)(Ce.component);if(sr)for(const{templateName:wr}of sr.inputs)de.activatedComponentRef.setInput(wr,at[wr]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,et)}}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac}),he})();function ho(ne,he,_e){if(_e&&ne.shouldReuseRoute(he.value,_e.value.snapshot)){const de=_e.value;de._futureSnapshot=he.value;const Ce=function Un(ne,he,_e){return he.children.map(de=>{for(const Ce of _e.children)if(ne.shouldReuseRoute(de.value,Ce.value.snapshot))return ho(ne,de,Ce);return ho(ne,de)})}(ne,he,_e);return new gr(de,Ce)}{if(ne.shouldAttach(he.value)){const et=ne.retrieve(he.value);if(null!==et){const at=et.route;return at.value._futureSnapshot=he.value,at.children=he.children.map(sr=>ho(ne,sr)),at}}const de=function Vr(ne){return new Fr(new V.t(ne.url),new V.t(ne.params),new V.t(ne.queryParams),new V.t(ne.fragment),new V.t(ne.data),ne.outlet,ne.component,ne)}(he.value),Ce=he.children.map(et=>ho(ne,et));return new gr(de,Ce)}}class Go{constructor(he,_e){this.redirectTo=he,this.navigationBehaviorOptions=_e}}const Jo="ngNavigationCancelingError";function Co(ne,he){const{redirectTo:_e,navigationBehaviorOptions:de}=A(he)?{redirectTo:he,navigationBehaviorOptions:void 0}:he,Ce=Os(!1,Ln.Redirect);return Ce.url=_e,Ce.navigationBehaviorOptions=de,Ce}function Os(ne,he){const _e=new Error(`NavigationCancelingError: ${ne||""}`);return _e[Jo]=!0,_e.cancellationCode=he,_e}function Cn(ne){return!!ne&&ne[Jo]}class Mo{constructor(he,_e,de,Ce,et){this.routeReuseStrategy=he,this.futureState=_e,this.currState=de,this.forwardEvent=Ce,this.inputBindingEnabled=et}activate(he){const _e=this.futureState._root,de=this.currState?this.currState._root:null;this.deactivateChildRoutes(_e,de,he),Fn(this.futureState.root),this.activateChildRoutes(_e,de,he)}deactivateChildRoutes(he,_e,de){const Ce=Sr(_e);he.children.forEach(et=>{const at=et.value.outlet;this.deactivateRoutes(et,Ce[at],de),delete Ce[at]}),Object.values(Ce).forEach(et=>{this.deactivateRouteAndItsChildren(et,de)})}deactivateRoutes(he,_e,de){const Ce=he.value,et=_e?_e.value:null;if(Ce===et)if(Ce.component){const at=de.getContext(Ce.outlet);at&&this.deactivateChildRoutes(he,_e,at.children)}else this.deactivateChildRoutes(he,_e,de);else et&&this.deactivateRouteAndItsChildren(_e,de)}deactivateRouteAndItsChildren(he,_e){he.value.component&&this.routeReuseStrategy.shouldDetach(he.value.snapshot)?this.detachAndStoreRouteSubtree(he,_e):this.deactivateRouteAndOutlet(he,_e)}detachAndStoreRouteSubtree(he,_e){const de=_e.getContext(he.value.outlet),Ce=de&&he.value.component?de.children:_e,et=Sr(he);for(const at of Object.values(et))this.deactivateRouteAndItsChildren(at,Ce);if(de&&de.outlet){const at=de.outlet.detach(),sr=de.children.onOutletDeactivated();this.routeReuseStrategy.store(he.value.snapshot,{componentRef:at,route:he,contexts:sr})}}deactivateRouteAndOutlet(he,_e){const de=_e.getContext(he.value.outlet),Ce=de&&he.value.component?de.children:_e,et=Sr(he);for(const at of Object.values(et))this.deactivateRouteAndItsChildren(at,Ce);de&&(de.outlet&&(de.outlet.deactivate(),de.children.onOutletDeactivated()),de.attachRef=null,de.route=null)}activateChildRoutes(he,_e,de){const Ce=Sr(_e);he.children.forEach(et=>{this.activateRoutes(et,Ce[et.value.outlet],de),this.forwardEvent(new Ee(et.value.snapshot))}),he.children.length&&this.forwardEvent(new Ve(he.value.snapshot))}activateRoutes(he,_e,de){const Ce=he.value,et=_e?_e.value:null;if(Fn(Ce),Ce===et)if(Ce.component){const at=de.getOrCreateContext(Ce.outlet);this.activateChildRoutes(he,_e,at.children)}else this.activateChildRoutes(he,_e,de);else if(Ce.component){const at=de.getOrCreateContext(Ce.outlet);if(this.routeReuseStrategy.shouldAttach(Ce.snapshot)){const sr=this.routeReuseStrategy.retrieve(Ce.snapshot);this.routeReuseStrategy.store(Ce.snapshot,null),at.children.onOutletReAttached(sr.contexts),at.attachRef=sr.componentRef,at.route=sr.route.value,at.outlet&&at.outlet.attach(sr.componentRef,sr.route.value),Fn(sr.route.value),this.activateChildRoutes(he,null,at.children)}else at.attachRef=null,at.route=Ce,at.outlet&&at.outlet.activateWith(Ce,at.injector),this.activateChildRoutes(he,null,at.children)}else this.activateChildRoutes(he,null,de)}}class wn{constructor(he){this.path=he,this.route=this.path[this.path.length-1]}}class Ps{constructor(he,_e){this.component=he,this.route=_e}}function Xn(ne,he,_e){const de=ne._root;return ws(de,he?he._root:null,_e,[de.value])}function _s(ne,he){const _e=Symbol(),de=he.get(ne,_e);return de===_e?"function"!=typeof ne||(0,M.LfX)(ne)?he.get(ne):ne:de}function ws(ne,he,_e,de,Ce={canDeactivateChecks:[],canActivateChecks:[]}){const et=Sr(he);return ne.children.forEach(at=>{(function Gs(ne,he,_e,de,Ce={canDeactivateChecks:[],canActivateChecks:[]}){const et=ne.value,at=he?he.value:null,sr=_e?_e.getContext(ne.value.outlet):null;if(at&&et.routeConfig===at.routeConfig){const wr=function Hr(ne,he,_e){if("function"==typeof _e)return _e(ne,he);switch(_e){case"pathParamsChange":return!wt(ne.url,he.url);case"pathParamsOrQueryParamsChange":return!wt(ne.url,he.url)||!ot(ne.queryParams,he.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kn(ne,he)||!ot(ne.queryParams,he.queryParams);default:return!kn(ne,he)}}(at,et,et.routeConfig.runGuardsAndResolvers);wr?Ce.canActivateChecks.push(new wn(de)):(et.data=at.data,et._resolvedData=at._resolvedData),ws(ne,he,et.component?sr?sr.children:null:_e,de,Ce),wr&&sr&&sr.outlet&&sr.outlet.isActivated&&Ce.canDeactivateChecks.push(new Ps(sr.outlet.component,at))}else at&&Ho(he,sr,Ce),Ce.canActivateChecks.push(new wn(de)),ws(ne,null,et.component?sr?sr.children:null:_e,de,Ce)})(at,et[at.value.outlet],_e,de.concat([at.value]),Ce),delete et[at.value.outlet]}),Object.entries(et).forEach(([at,sr])=>Ho(sr,_e.getContext(at),Ce)),Ce}function Ho(ne,he,_e){const de=Sr(ne),Ce=ne.value;Object.entries(de).forEach(([et,at])=>{Ho(at,Ce.component?he?he.children.getContext(et):null:he,_e)}),_e.canDeactivateChecks.push(new Ps(Ce.component&&he&&he.outlet&&he.outlet.isActivated?he.outlet.component:null,Ce))}function w(ne){return"function"==typeof ne}function Ze(ne){return ne instanceof p||"EmptyError"===(null==ne?void 0:ne.name)}const bt=Symbol("INITIAL_VALUE");function gt(){return(0,f.n)(ne=>(0,v.z)(ne.map(he=>he.pipe((0,g.s)(1),function L(...ne){const he=(0,D.lI)(ne);return(0,$.N)((_e,de)=>{(he?(0,y.x)(ne,_e,he):(0,y.x)(ne,_e)).subscribe(de)})}(bt)))).pipe((0,m.T)(he=>{for(const _e of he)if(!0!==_e){if(_e===bt)return bt;if(!1===_e||zt(_e))return _e}return!0}),(0,P.p)(he=>he!==bt),(0,g.s)(1)))}function zt(ne){return A(ne)||ne instanceof Go}function Lr(ne){return(0,_.F)((0,re.M)(he=>{if("boolean"!=typeof he)throw Co(0,he)}),(0,m.T)(he=>!0===he))}class Wr{constructor(he){this.segmentGroup=he||null}}class Qr extends Error{constructor(he){super(),this.urlTree=he}}function vn(ne){return(0,i.$)(new Wr(ne))}class Kn{constructor(he,_e){this.urlSerializer=he,this.urlTree=_e}lineralizeSegments(he,_e){let de=[],Ce=_e.root;for(;;){if(de=de.concat(Ce.segments),0===Ce.numberOfChildren)return(0,se.of)(de);if(Ce.numberOfChildren>1||!Ce.children[ze])return(0,i.$)(new M.wOt(4e3,!1));Ce=Ce.children[ze]}}applyRedirectCommands(he,_e,de,Ce,et){if("string"!=typeof _e){const sr=_e,{queryParams:wr,fragment:qt,routeConfig:Or,url:Xr,outlet:hn,params:Jr,data:ro,title:Wo}=Ce,Fo=(0,M.N4e)(et,()=>sr({params:Jr,data:ro,queryParams:wr,fragment:qt,routeConfig:Or,url:Xr,outlet:hn,title:Wo}));if(Fo instanceof $e)throw new Qr(Fo);_e=Fo}const at=this.applyRedirectCreateUrlTree(_e,this.urlSerializer.parse(_e),he,de);if("/"===_e[0])throw new Qr(at);return at}applyRedirectCreateUrlTree(he,_e,de,Ce){const et=this.createSegmentGroup(he,_e.root,de,Ce);return new $e(et,this.createQueryParams(_e.queryParams,this.urlTree.queryParams),_e.fragment)}createQueryParams(he,_e){const de={};return Object.entries(he).forEach(([Ce,et])=>{if("string"==typeof et&&":"===et[0]){const sr=et.substring(1);de[Ce]=_e[sr]}else de[Ce]=et}),de}createSegmentGroup(he,_e,de,Ce){const et=this.createSegments(he,_e.segments,de,Ce);let at={};return Object.entries(_e.children).forEach(([sr,wr])=>{at[sr]=this.createSegmentGroup(he,wr,de,Ce)}),new We(et,at)}createSegments(he,_e,de,Ce){return _e.map(et=>":"===et.path[0]?this.findPosParam(he,et,Ce):this.findOrReturn(et,de))}findPosParam(he,_e,de){const Ce=de[_e.path.substring(1)];if(!Ce)throw new M.wOt(4001,!1);return Ce}findOrReturn(he,_e){let de=0;for(const Ce of _e){if(Ce.path===he.path)return _e.splice(de),Ce;de++}return he}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tn(ne,he,_e,de,Ce){const et=Mn(ne,he,_e);return et.matched?(de=function mo(ne,he){var _e;return ne.providers&&!ne._injector&&(ne._injector=(0,M.Ol2)(ne.providers,he,`Route: ${ne.path}`)),null!==(_e=ne._injector)&&void 0!==_e?_e:he}(he,de),function zr(ne,he,_e,de){const Ce=he.canMatch;if(!Ce||0===Ce.length)return(0,se.of)(!0);const et=Ce.map(at=>{const sr=_s(at,ne);return Wt(function Re(ne){return ne&&w(ne.canMatch)}(sr)?sr.canMatch(he,_e):(0,M.N4e)(ne,()=>sr(he,_e)))});return(0,se.of)(et).pipe(gt(),Lr())}(de,he,_e).pipe((0,m.T)(at=>!0===at?et:{...fo}))):(0,se.of)(et)}function Mn(ne,he,_e){var de,Ce;if("**"===he.path)return function $r(ne){return{matched:!0,parameters:ne.length>0?Pt(ne).parameters:{},consumedSegments:ne,remainingSegments:[],positionalParamSegments:{}}}(_e);if(""===he.path)return"full"===he.pathMatch&&(ne.hasChildren()||_e.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:_e,parameters:{},positionalParamSegments:{}};const at=(he.matcher||rt)(_e,ne,he);if(!at)return{...fo};const sr={};Object.entries(null!==(de=at.posParams)&&void 0!==de?de:{}).forEach(([qt,Or])=>{sr[qt]=Or.path});const wr=at.consumed.length>0?{...sr,...at.consumed[at.consumed.length-1].parameters}:sr;return{matched:!0,consumedSegments:at.consumed,remainingSegments:_e.slice(at.consumed.length),parameters:wr,positionalParamSegments:null!==(Ce=at.posParams)&&void 0!==Ce?Ce:{}}}function Bn(ne,he,_e,de){return _e.length>0&&function Rn(ne,he,_e){return _e.some(de=>rs(ne,he,de)&&Yn(de)!==ze)}(ne,_e,de)?{segmentGroup:new We(he,lo(de,new We(_e,ne.children))),slicedSegments:[]}:0===_e.length&&function uo(ne,he,_e){return _e.some(de=>rs(ne,he,de))}(ne,_e,de)?{segmentGroup:new We(ne.segments,$n(ne,_e,de,ne.children)),slicedSegments:_e}:{segmentGroup:new We(ne.segments,ne.children),slicedSegments:_e}}function $n(ne,he,_e,de){const Ce={};for(const et of _e)if(rs(ne,he,et)&&!de[Yn(et)]){const at=new We([],{});Ce[Yn(et)]=at}return{...de,...Ce}}function lo(ne,he){const _e={};_e[ze]=he;for(const de of ne)if(""===de.path&&Yn(de)!==ze){const Ce=new We([],{});_e[Yn(de)]=Ce}return _e}function rs(ne,he,_e){return(!(ne.hasChildren()||he.length>0)||"full"!==_e.pathMatch)&&""===_e.path}class Bd{}class vi{constructor(he,_e,de,Ce,et,at,sr){this.injector=he,this.configLoader=_e,this.rootComponentType=de,this.config=Ce,this.urlTree=et,this.paramsInheritanceStrategy=at,this.urlSerializer=sr,this.applyRedirects=new Kn(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(he){return new M.wOt(4002,`'${he.segmentGroup}'`)}recognize(){const he=Bn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(he).pipe((0,m.T)(({children:_e,rootSnapshot:de})=>{const Ce=new gr(de,_e),et=new pn("",Ce),at=function Q(ne,he,_e=null,de=null){return ie(H(ne),he,_e,de)}(de,[],this.urlTree.queryParams,this.urlTree.fragment);return at.queryParams=this.urlTree.queryParams,et.url=this.urlSerializer.serialize(at),{state:et,tree:at}}))}match(he){const _e=new qr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ze,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,he,ze,_e).pipe((0,m.T)(de=>({children:de,rootSnapshot:_e})),G(de=>{if(de instanceof Qr)return this.urlTree=de.urlTree,this.match(de.urlTree.root);throw de instanceof Wr?this.noMatchError(de):de}))}processSegmentGroup(he,_e,de,Ce,et){return 0===de.segments.length&&de.hasChildren()?this.processChildren(he,_e,de,et):this.processSegment(he,_e,de,de.segments,Ce,!0,et).pipe((0,m.T)(at=>at instanceof gr?[at]:[]))}processChildren(he,_e,de,Ce){const et=[];for(const at of Object.keys(de.children))"primary"===at?et.unshift(at):et.push(at);return(0,o.H)(et).pipe(q(at=>{const sr=de.children[at],wr=function So(ne,he){const _e=ne.filter(de=>Yn(de)===he);return _e.push(...ne.filter(de=>Yn(de)!==he)),_e}(_e,at);return this.processSegmentGroup(he,wr,sr,at,Ce)}),function ue(ne,he){return(0,$.N)(function K(ne,he,_e,de,Ce){return(et,at)=>{let sr=_e,wr=he,qt=0;et.subscribe((0,U._)(at,Or=>{const Xr=qt++;wr=sr?ne(wr,Or,Xr):(sr=!0,Or),de&&at.next(wr)},Ce&&(()=>{sr&&at.next(wr),at.complete()})))}}(ne,he,arguments.length>=2,!0))}((at,sr)=>(at.push(...sr),at)),I(null),function Y(ne,he){const _e=arguments.length>=2;return de=>de.pipe(ne?(0,P.p)((Ce,et)=>ne(Ce,et,de)):Z.D,Me(1),_e?I(he):F(()=>new p))}(),(0,x.Z)(at=>{if(null===at)return vn(de);const sr=Ea(at);return function wa(ne){ne.sort((he,_e)=>he.value.outlet===ze?-1:_e.value.outlet===ze?1:he.value.outlet.localeCompare(_e.value.outlet))}(sr),(0,se.of)(sr)}))}processSegment(he,_e,de,Ce,et,at,sr){return(0,o.H)(_e).pipe(q(wr=>{var qt;return this.processSegmentAgainstRoute(null!==(qt=wr._injector)&&void 0!==qt?qt:he,_e,wr,de,Ce,et,at,sr).pipe(G(Or=>{if(Or instanceof Wr)return(0,se.of)(null);throw Or}))}),oe(wr=>!!wr),G(wr=>{if(Ze(wr))return function _a(ne,he,_e){return 0===he.length&&!ne.children[_e]}(de,Ce,et)?(0,se.of)(new Bd):vn(de);throw wr}))}processSegmentAgainstRoute(he,_e,de,Ce,et,at,sr,wr){return function ni(ne,he,_e,de){return!!(Yn(ne)===de||de!==ze&&rs(he,_e,ne))&&Mn(he,ne,_e).matched}(de,Ce,et,at)?void 0===de.redirectTo?this.matchSegmentAgainstRoute(he,Ce,de,et,at,wr):this.allowRedirects&&sr?this.expandSegmentAgainstRouteUsingRedirect(he,Ce,_e,de,et,at,wr):vn(Ce):vn(Ce)}expandSegmentAgainstRouteUsingRedirect(he,_e,de,Ce,et,at,sr){var wr,qt;const{matched:Or,parameters:Xr,consumedSegments:hn,positionalParamSegments:Jr,remainingSegments:ro}=Mn(_e,Ce,et);if(!Or)return vn(_e);"string"==typeof Ce.redirectTo&&"/"===Ce.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Wo=new qr(et,Xr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oi(Ce),Yn(Ce),null!==(wr=null!==(qt=Ce.component)&&void 0!==qt?qt:Ce._loadedComponent)&&void 0!==wr?wr:null,Ce,Sa(Ce)),Fo=Gr(Wo,sr,this.paramsInheritanceStrategy);Wo.params=Object.freeze(Fo.params),Wo.data=Object.freeze(Fo.data);const Xi=this.applyRedirects.applyRedirectCommands(hn,Ce.redirectTo,Jr,Wo,he);return this.applyRedirects.lineralizeSegments(Ce,Xi).pipe((0,x.Z)(fs=>this.processSegment(he,de,_e,fs.concat(ro),at,!1,sr)))}matchSegmentAgainstRoute(he,_e,de,Ce,et,at){const sr=Tn(_e,de,Ce,he);return"**"===de.path&&(_e.children={}),sr.pipe((0,f.n)(wr=>{var qt;return wr.matched?(he=null!==(qt=de._injector)&&void 0!==qt?qt:he,this.getChildConfig(he,de,Ce).pipe((0,f.n)(({routes:Or})=>{var Xr,hn,Jr;const ro=null!==(Xr=de._loadedInjector)&&void 0!==Xr?Xr:he,{parameters:Wo,consumedSegments:Fo,remainingSegments:Xi}=wr,fs=new qr(Fo,Wo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oi(de),Yn(de),null!==(hn=null!==(Jr=de.component)&&void 0!==Jr?Jr:de._loadedComponent)&&void 0!==hn?hn:null,de,Sa(de)),si=Gr(fs,at,this.paramsInheritanceStrategy);fs.params=Object.freeze(si.params),fs.data=Object.freeze(si.data);const{segmentGroup:Ml,slicedSegments:qi}=Bn(_e,Fo,Xi,Or);if(0===qi.length&&Ml.hasChildren())return this.processChildren(ro,Or,Ml,fs).pipe((0,m.T)(Si=>new gr(fs,Si)));if(0===Or.length&&0===qi.length)return(0,se.of)(new gr(fs,[]));const Qu=Yn(de)===et;return this.processSegment(ro,Or,Ml,qi,Qu?ze:et,!0,fs).pipe((0,m.T)(Si=>new gr(fs,Si instanceof gr?[Si]:[])))}))):vn(_e)}))}getChildConfig(he,_e,de){return _e.children?(0,se.of)({routes:_e.children,injector:he}):_e.loadChildren?void 0!==_e._loadedRoutes?(0,se.of)({routes:_e._loadedRoutes,injector:_e._loadedInjector}):function Br(ne,he,_e,de){const Ce=he.canLoad;if(void 0===Ce||0===Ce.length)return(0,se.of)(!0);const et=Ce.map(at=>{const sr=_s(at,ne);return Wt(function X(ne){return ne&&w(ne.canLoad)}(sr)?sr.canLoad(he,_e):(0,M.N4e)(ne,()=>sr(he,_e)))});return(0,se.of)(et).pipe(gt(),Lr())}(he,_e,de).pipe((0,x.Z)(Ce=>Ce?this.configLoader.loadChildren(he,_e).pipe((0,re.M)(et=>{_e._loadedRoutes=et.routes,_e._loadedInjector=et.injector})):function so(ne){return(0,i.$)(Os(!1,Ln.GuardRejected))}())):(0,se.of)({routes:[],injector:he})}}function Vi(ne){const he=ne.value.routeConfig;return he&&""===he.path}function Ea(ne){const he=[],_e=new Set;for(const de of ne){if(!Vi(de)){he.push(de);continue}const Ce=he.find(et=>de.value.routeConfig===et.value.routeConfig);void 0!==Ce?(Ce.children.push(...de.children),_e.add(Ce)):he.push(de)}for(const de of _e){const Ce=Ea(de.children);he.push(new gr(de.value,Ce))}return he.filter(de=>!_e.has(de))}function oi(ne){return ne.data||{}}function Sa(ne){return ne.resolve||{}}function Vu(ne){const he=ne.children.map(_e=>Vu(_e)).flat();return[ne,...he]}function Ca(ne){return(0,f.n)(he=>{const _e=ne(he);return _e?(0,o.H)(_e).pipe((0,m.T)(()=>he)):(0,se.of)(he)})}let Gi=(()=>{var ne;class he{buildTitle(de){let Ce,et=de.root;for(;void 0!==et;){var at;Ce=null!==(at=this.getResolvedTitleForRoute(et))&&void 0!==at?at:Ce,et=et.children.find(sr=>sr.outlet===ze)}return Ce}getResolvedTitleForRoute(de){return de.data[st]}}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:()=>(0,M.WQX)(mn),providedIn:"root"}),he})(),mn=(()=>{var ne;class he extends Gi{constructor(de){super(),this.title=de}updateTitle(de){const Ce=this.buildTitle(de);void 0!==Ce&&this.title.setTitle(Ce)}}return(ne=he).\u0275fac=function(de){return new(de||ne)(M.KVO(ct.hE))},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})();const Hs=new M.nKC("",{providedIn:"root",factory:()=>({})});let bi=(()=>{var ne;class he{}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275cmp=M.VBU({type:ne,selectors:[["ng-component"]],standalone:!0,features:[M.aNF],decls:1,vars:0,template:function(de,Ce){1&de&&M.nrm(0,"router-outlet")},dependencies:[go],encapsulation:2}),he})();function Io(ne){const he=ne.children&&ne.children.map(Io),_e=he?{...ne,children:he}:{...ne};return!_e.component&&!_e.loadComponent&&(he||_e.loadChildren)&&_e.outlet&&_e.outlet!==ze&&(_e.component=bi),_e}const ds=new M.nKC("");let Cl=(()=>{var ne;class he{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,M.WQX)(M.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,se.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const Ce=Wt(de.loadComponent()).pipe((0,m.T)(Oe),(0,re.M)(at=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=at}),te(()=>{this.componentLoaders.delete(de)})),et=new a.G(Ce,()=>new u.B).pipe((0,me.B)());return this.componentLoaders.set(de,et),et}loadChildren(de,Ce){if(this.childrenLoaders.get(Ce))return this.childrenLoaders.get(Ce);if(Ce._loadedRoutes)return(0,se.of)({routes:Ce._loadedRoutes,injector:Ce._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ce);const at=function Vd(ne,he,_e,de){return Wt(ne.loadChildren()).pipe((0,m.T)(Oe),(0,x.Z)(Ce=>Ce instanceof M.Co$||Array.isArray(Ce)?(0,se.of)(Ce):(0,o.H)(he.compileModuleAsync(Ce))),(0,m.T)(Ce=>{de&&de(ne);let et,at,sr=!1;return Array.isArray(Ce)?(at=Ce,!0):(et=Ce.create(_e).injector,at=et.get(ds,[],{optional:!0,self:!0}).flat()),{routes:at.map(Io),injector:et}}))}(Ce,this.compiler,de,this.onLoadEndListener).pipe(te(()=>{this.childrenLoaders.delete(Ce)})),sr=new a.G(at,()=>new u.B).pipe((0,me.B)());return this.childrenLoaders.set(Ce,sr),sr}}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})();function Oe(ne){return function ce(ne){return ne&&"object"==typeof ne&&"default"in ne}(ne)?ne.default:ne}let _t=(()=>{var ne;class he{}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:()=>(0,M.WQX)(Te),providedIn:"root"}),he})(),Te=(()=>{var ne;class he{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,Ce){return de}}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})();const nt=new M.nKC(""),At=new M.nKC("");function pr(ne,he,_e){const de=ne.get(At),Ce=ne.get(d.qQ);return ne.get(M.SKi).runOutsideAngular(()=>{if(!Ce.startViewTransition||de.skipNextTransition)return de.skipNextTransition=!1,new Promise(qt=>setTimeout(qt));let et;const at=new Promise(qt=>{et=qt}),sr=Ce.startViewTransition(()=>(et(),function Ir(ne){return new Promise(he=>{(0,M.mal)({read:()=>setTimeout(he)},{injector:ne})})}(ne))),{onViewTransitionCreated:wr}=de;return wr&&(0,M.N4e)(ne,()=>wr({transition:sr,from:he,to:_e})),at})}const sn=new M.nKC("");let nn=(()=>{var ne;class he{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new u.B,this.transitionAbortSubject=new u.B,this.configLoader=(0,M.WQX)(Cl),this.environmentInjector=(0,M.WQX)(M.uvJ),this.urlSerializer=(0,M.WQX)(Xt),this.rootContexts=(0,M.WQX)(Tt),this.location=(0,M.WQX)(d.aZ),this.inputBindingEnabled=null!==(0,M.WQX)(Pn,{optional:!0}),this.titleStrategy=(0,M.WQX)(Gi),this.options=(0,M.WQX)(Hs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,M.WQX)(_t),this.createViewTransition=(0,M.WQX)(nt,{optional:!0}),this.navigationErrorHandler=(0,M.WQX)(sn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=et=>this.events.next(new vs(et)),this.configLoader.onLoadStartListener=et=>this.events.next(new cs(et))}complete(){var de;null===(de=this.transitions)||void 0===de||de.complete()}handleNavigationRequest(de){var Ce;const et=++this.navigationId;null===(Ce=this.transitions)||void 0===Ce||Ce.next({...this.transitions.value,...de,id:et})}setupNavigations(de,Ce,et){return this.transitions=new V.t({id:0,currentUrlTree:Ce,currentRawUrl:Ce,extractedUrl:this.urlHandlingStrategy.extract(Ce),urlAfterRedirects:this.urlHandlingStrategy.extract(Ce),rawUrl:Ce,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dn,restoredState:null,currentSnapshot:et.snapshot,targetSnapshot:null,currentRouterState:et,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,P.p)(at=>0!==at.id),(0,m.T)(at=>({...at,extractedUrl:this.urlHandlingStrategy.extract(at.rawUrl)})),(0,f.n)(at=>{let sr=!1,wr=!1;return(0,se.of)(at).pipe((0,f.n)(qt=>{var Or;if(this.navigationId>at.id)return this.cancelNavigationTransition(at,"",Ln.SupersededByNewNavigation),l.w;this.currentTransition=at,this.currentNavigation={id:qt.id,initialUrl:qt.rawUrl,extractedUrl:qt.extractedUrl,targetBrowserUrl:"string"==typeof qt.extras.browserUrl?this.urlSerializer.parse(qt.extras.browserUrl):qt.extras.browserUrl,trigger:qt.source,extras:qt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Xr=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),hn=null!==(Or=qt.extras.onSameUrlNavigation)&&void 0!==Or?Or:de.onSameUrlNavigation;if(!Xr&&"reload"!==hn){const Jr="";return this.events.next(new wo(qt.id,this.urlSerializer.serialize(qt.rawUrl),Jr,To.IgnoredSameUrlNavigation)),qt.resolve(!1),l.w}if(this.urlHandlingStrategy.shouldProcessUrl(qt.rawUrl))return(0,se.of)(qt).pipe((0,f.n)(Jr=>{var ro,Wo;const Fo=null===(ro=this.transitions)||void 0===ro?void 0:ro.getValue();return this.events.next(new Vn(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),Jr.source,Jr.restoredState)),Fo!==(null===(Wo=this.transitions)||void 0===Wo?void 0:Wo.getValue())?l.w:Promise.resolve(Jr)}),function an(ne,he,_e,de,Ce,et){return(0,x.Z)(at=>function $u(ne,he,_e,de,Ce,et,at="emptyOnly"){return new vi(ne,he,_e,de,Ce,at,et).recognize()}(ne,he,_e,de,at.extractedUrl,Ce,et).pipe((0,m.T)(({state:sr,tree:wr})=>({...at,targetSnapshot:sr,urlAfterRedirects:wr}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,re.M)(Jr=>{at.targetSnapshot=Jr.targetSnapshot,at.urlAfterRedirects=Jr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jr.urlAfterRedirects};const ro=new No(Jr.id,this.urlSerializer.serialize(Jr.extractedUrl),this.urlSerializer.serialize(Jr.urlAfterRedirects),Jr.targetSnapshot);this.events.next(ro)}));if(Xr&&this.urlHandlingStrategy.shouldProcessUrl(qt.currentRawUrl)){const{id:Jr,extractedUrl:ro,source:Wo,restoredState:Fo,extras:Xi}=qt,fs=new Vn(Jr,this.urlSerializer.serialize(ro),Wo,Fo);this.events.next(fs);const si=Tr(this.rootComponentType).snapshot;return this.currentTransition=at={...qt,targetSnapshot:si,urlAfterRedirects:ro,extras:{...Xi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ro,(0,se.of)(at)}{const Jr="";return this.events.next(new wo(qt.id,this.urlSerializer.serialize(qt.extractedUrl),Jr,To.IgnoredByUrlHandlingStrategy)),qt.resolve(!1),l.w}}),(0,re.M)(qt=>{const Or=new $o(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot);this.events.next(Or)}),(0,m.T)(qt=>(this.currentTransition=at={...qt,guards:Xn(qt.targetSnapshot,qt.currentSnapshot,this.rootContexts)},at)),function ve(ne,he){return(0,x.Z)(_e=>{const{targetSnapshot:de,currentSnapshot:Ce,guards:{canActivateChecks:et,canDeactivateChecks:at}}=_e;return 0===at.length&&0===et.length?(0,se.of)({..._e,guardsResult:!0}):function ae(ne,he,_e,de){return(0,o.H)(ne).pipe((0,x.Z)(Ce=>function nr(ne,he,_e,de,Ce){const et=he&&he.routeConfig?he.routeConfig.canDeactivate:null;if(!et||0===et.length)return(0,se.of)(!0);const at=et.map(sr=>{var wr;const qt=null!==(wr=Le(he))&&void 0!==wr?wr:Ce,Or=_s(sr,qt);return Wt(function De(ne){return ne&&w(ne.canDeactivate)}(Or)?Or.canDeactivate(ne,he,_e,de):(0,M.N4e)(qt,()=>Or(ne,he,_e,de))).pipe(oe())});return(0,se.of)(at).pipe(gt())}(Ce.component,Ce.route,_e,he,de)),oe(Ce=>!0!==Ce,!0))}(at,de,Ce,ne).pipe((0,x.Z)(sr=>sr&&function N(ne){return"boolean"==typeof ne}(sr)?function be(ne,he,_e,de){return(0,o.H)(he).pipe(q(Ce=>(0,y.x)(function Ue(ne,he){return null!==ne&&he&&he(new ye(ne)),(0,se.of)(!0)}(Ce.route.parent,de),function ge(ne,he){return null!==ne&&he&&he(new ut(ne)),(0,se.of)(!0)}(Ce.route,de),function Gt(ne,he,_e){const de=he[he.length-1],et=he.slice(0,he.length-1).reverse().map(at=>function Rs(ne){const he=ne.routeConfig?ne.routeConfig.canActivateChild:null;return he&&0!==he.length?{node:ne,guards:he}:null}(at)).filter(at=>null!==at).map(at=>(0,E.v)(()=>{const sr=at.guards.map(wr=>{var qt;const Or=null!==(qt=Le(at.node))&&void 0!==qt?qt:_e,Xr=_s(wr,Or);return Wt(function fe(ne){return ne&&w(ne.canActivateChild)}(Xr)?Xr.canActivateChild(de,ne):(0,M.N4e)(Or,()=>Xr(de,ne))).pipe(oe())});return(0,se.of)(sr).pipe(gt())}));return(0,se.of)(et).pipe(gt())}(ne,Ce.path,_e),function Nt(ne,he,_e){const de=he.routeConfig?he.routeConfig.canActivate:null;if(!de||0===de.length)return(0,se.of)(!0);const Ce=de.map(et=>(0,E.v)(()=>{var at;const sr=null!==(at=Le(he))&&void 0!==at?at:_e,wr=_s(et,sr);return Wt(function ee(ne){return ne&&w(ne.canActivate)}(wr)?wr.canActivate(he,ne):(0,M.N4e)(sr,()=>wr(he,ne))).pipe(oe())}));return(0,se.of)(Ce).pipe(gt())}(ne,Ce.route,_e))),oe(Ce=>!0!==Ce,!0))}(de,et,ne,he):(0,se.of)(sr)),(0,m.T)(sr=>({..._e,guardsResult:sr})))})}(this.environmentInjector,qt=>this.events.next(qt)),(0,re.M)(qt=>{if(at.guardsResult=qt.guardsResult,qt.guardsResult&&"boolean"!=typeof qt.guardsResult)throw Co(0,qt.guardsResult);const Or=new Wn(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot,!!qt.guardsResult);this.events.next(Or)}),(0,P.p)(qt=>!!qt.guardsResult||(this.cancelNavigationTransition(qt,"",Ln.GuardRejected),!1)),Ca(qt=>{if(qt.guards.canActivateChecks.length)return(0,se.of)(qt).pipe((0,re.M)(Or=>{const Xr=new Vo(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Xr)}),(0,f.n)(Or=>{let Xr=!1;return(0,se.of)(Or).pipe(function An(ne,he){return(0,x.Z)(_e=>{const{targetSnapshot:de,guards:{canActivateChecks:Ce}}=_e;if(!Ce.length)return(0,se.of)(_e);const et=new Set(Ce.map(wr=>wr.route)),at=new Set;for(const wr of et)if(!at.has(wr))for(const qt of Vu(wr))at.add(qt);let sr=0;return(0,o.H)(at).pipe(q(wr=>et.has(wr)?function Gu(ne,he,_e,de){const Ce=ne.routeConfig,et=ne._resolve;return void 0!==(null==Ce?void 0:Ce.title)&&!Rr(Ce)&&(et[st]=Ce.title),function Hu(ne,he,_e,de){const Ce=Je(ne);if(0===Ce.length)return(0,se.of)({});const et={};return(0,o.H)(Ce).pipe((0,x.Z)(at=>function $d(ne,he,_e,de){var Ce;const et=null!==(Ce=Le(he))&&void 0!==Ce?Ce:de,at=_s(ne,et);return Wt(at.resolve?at.resolve(he,_e):(0,M.N4e)(et,()=>at(he,_e)))}(ne[at],he,_e,de).pipe(oe(),(0,re.M)(sr=>{if(sr instanceof Go)throw Co(new Ct,sr);et[at]=sr}))),Me(1),(0,j.u)(et),G(at=>Ze(at)?l.w:(0,i.$)(at)))}(et,ne,he,de).pipe((0,m.T)(at=>(ne._resolvedData=at,ne.data=Gr(ne,ne.parent,_e).resolve,null)))}(wr,de,ne,he):(wr.data=Gr(wr,wr.parent,ne).resolve,(0,se.of)(void 0))),(0,re.M)(()=>sr++),Me(1),(0,x.Z)(wr=>sr===at.size?(0,se.of)(_e):l.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,re.M)({next:()=>Xr=!0,complete:()=>{Xr||this.cancelNavigationTransition(Or,"",Ln.NoDataFromResolver)}}))}),(0,re.M)(Or=>{const Xr=new oo(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Xr)}))}),Ca(qt=>{const Or=Xr=>{var hn;const Jr=[];null!==(hn=Xr.routeConfig)&&void 0!==hn&&hn.loadComponent&&!Xr.routeConfig._loadedComponent&&Jr.push(this.configLoader.loadComponent(Xr.routeConfig).pipe((0,re.M)(ro=>{Xr.component=ro}),(0,m.T)(()=>{})));for(const ro of Xr.children)Jr.push(...Or(ro));return Jr};return(0,v.z)(Or(qt.targetSnapshot.root)).pipe(I(null),(0,g.s)(1))}),Ca(()=>this.afterPreactivation()),(0,f.n)(()=>{var qt;const{currentSnapshot:Or,targetSnapshot:Xr}=at,hn=null===(qt=this.createViewTransition)||void 0===qt?void 0:qt.call(this,this.environmentInjector,Or.root,Xr.root);return hn?(0,o.H)(hn).pipe((0,m.T)(()=>at)):(0,se.of)(at)}),(0,m.T)(qt=>{const Or=function yi(ne,he,_e){const de=ho(ne,he._root,_e?_e._root:void 0);return new xr(de,he)}(de.routeReuseStrategy,qt.targetSnapshot,qt.currentRouterState);return this.currentTransition=at={...qt,targetRouterState:Or},this.currentNavigation.targetRouterState=Or,at}),(0,re.M)(()=>{this.events.next(new Zt)}),((ne,he,_e,de)=>(0,m.T)(Ce=>(new Mo(he,Ce.targetRouterState,Ce.currentRouterState,_e,de).activate(ne),Ce)))(this.rootContexts,de.routeReuseStrategy,qt=>this.events.next(qt),this.inputBindingEnabled),(0,g.s)(1),(0,re.M)({next:qt=>{var Or;sr=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sn(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects))),null===(Or=this.titleStrategy)||void 0===Or||Or.updateTitle(qt.targetRouterState.snapshot),qt.resolve(!0)},complete:()=>{sr=!0}}),function Be(ne){return(0,$.N)((he,_e)=>{(0,W.Tg)(ne).subscribe((0,U._)(_e,()=>_e.complete(),xe.l)),!_e.closed&&he.subscribe(_e)})}(this.transitionAbortSubject.pipe((0,re.M)(qt=>{throw qt}))),te(()=>{var qt;!sr&&!wr&&this.cancelNavigationTransition(at,"",Ln.SupersededByNewNavigation),(null===(qt=this.currentTransition)||void 0===qt?void 0:qt.id)===at.id&&(this.currentNavigation=null,this.currentTransition=null)}),G(qt=>{if(wr=!0,Cn(qt))this.events.next(new eo(at.id,this.urlSerializer.serialize(at.extractedUrl),qt.message,qt.cancellationCode)),function bs(ne){return Cn(ne)&&A(ne.url)}(qt)?this.events.next(new fn(qt.url,qt.navigationBehaviorOptions)):at.resolve(!1);else{var Or;const Xr=new ko(at.id,this.urlSerializer.serialize(at.extractedUrl),qt,null!==(Or=at.targetSnapshot)&&void 0!==Or?Or:void 0);try{const hn=(0,M.N4e)(this.environmentInjector,()=>{var Jr;return null===(Jr=this.navigationErrorHandler)||void 0===Jr?void 0:Jr.call(this,Xr)});if(hn instanceof Go){const{message:Jr,cancellationCode:ro}=Co(0,hn);this.events.next(new eo(at.id,this.urlSerializer.serialize(at.extractedUrl),Jr,ro)),this.events.next(new fn(hn.redirectTo,hn.navigationBehaviorOptions))}else{this.events.next(Xr);const Jr=de.errorHandler(qt);at.resolve(!!Jr)}}catch(hn){this.options.resolveNavigationPromiseOnError?at.resolve(!1):at.reject(hn)}}return l.w}))}))}cancelNavigationTransition(de,Ce,et){const at=new eo(de.id,this.urlSerializer.serialize(de.extractedUrl),Ce,et);this.events.next(at),de.resolve(!1)}isUpdatingInternalState(){var de,Ce;return(null===(de=this.currentTransition)||void 0===de?void 0:de.extractedUrl.toString())!==(null===(Ce=this.currentTransition)||void 0===Ce?void 0:Ce.currentUrlTree.toString())}isUpdatedBrowserUrl(){var de,Ce,et,at;const sr=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),wr=null!==(de=null===(Ce=this.currentNavigation)||void 0===Ce?void 0:Ce.targetBrowserUrl)&&void 0!==de?de:null===(et=this.currentNavigation)||void 0===et?void 0:et.extractedUrl;return sr.toString()!==(null==wr?void 0:wr.toString())&&!(null!==(at=this.currentNavigation)&&void 0!==at&&at.extras.skipLocationChange)}}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})();function xn(ne){return ne!==Dn}let Yr=(()=>{var ne;class he{}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:()=>(0,M.WQX)(kr),providedIn:"root"}),he})();class In{shouldDetach(he){return!1}store(he,_e){}shouldAttach(he){return!1}retrieve(he){return null}shouldReuseRoute(he,_e){return he.routeConfig===_e.routeConfig}}let kr=(()=>{var ne;class he extends In{}return(ne=he).\u0275fac=(()=>{let _e;return function(Ce){return(_e||(_e=M.xGo(ne)))(Ce||ne)}})(),ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})(),Jn=(()=>{var ne;class he{}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:()=>(0,M.WQX)(hs),providedIn:"root"}),he})(),hs=(()=>{var ne;class he extends Jn{constructor(){super(...arguments),this.location=(0,M.WQX)(d.aZ),this.urlSerializer=(0,M.WQX)(Xt),this.options=(0,M.WQX)(Hs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,M.WQX)(_t),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $e,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Tr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var de,Ce;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(de=null===(Ce=this.restoredState())||void 0===Ce?void 0:Ce.\u0275routerPageId)&&void 0!==de?de:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(Ce=>{"popstate"===Ce.type&&de(Ce.url,Ce.state)})}handleRouterEvent(de,Ce){if(de instanceof Vn)this.stateMemento=this.createStateMemento();else if(de instanceof wo)this.rawUrlTree=Ce.initialUrl;else if(de instanceof No){if("eager"===this.urlUpdateStrategy&&!Ce.extras.skipLocationChange){var et;const sr=this.urlHandlingStrategy.merge(Ce.finalUrl,Ce.initialUrl);this.setBrowserUrl(null!==(et=Ce.targetBrowserUrl)&&void 0!==et?et:sr,Ce)}}else if(de instanceof Zt){var at;this.currentUrlTree=Ce.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ce.finalUrl,Ce.initialUrl),this.routerState=Ce.targetRouterState,"deferred"!==this.urlUpdateStrategy||Ce.extras.skipLocationChange||this.setBrowserUrl(null!==(at=Ce.targetBrowserUrl)&&void 0!==at?at:this.rawUrlTree,Ce)}else de instanceof eo&&(de.code===Ln.GuardRejected||de.code===Ln.NoDataFromResolver)?this.restoreHistory(Ce):de instanceof ko?this.restoreHistory(Ce,!0):de instanceof Sn&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,Ce){const et=de instanceof $e?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(et)||Ce.extras.replaceUrl){const sr={...Ce.extras.state,...this.generateNgRouterState(Ce.id,this.browserPageId)};this.location.replaceState(et,"",sr)}else{const at={...Ce.extras.state,...this.generateNgRouterState(Ce.id,this.browserPageId+1)};this.location.go(et,"",at)}}restoreHistory(de,Ce=!1){if("computed"===this.canceledNavigationResolution){const at=this.currentPageId-this.browserPageId;0!==at?this.location.historyGo(at):this.currentUrlTree===de.finalUrl&&0===at&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ce&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){var Ce;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(Ce=de.finalUrl)&&void 0!==Ce?Ce:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,Ce){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:Ce}:{navigationId:de}}}return(ne=he).\u0275fac=(()=>{let _e;return function(Ce){return(_e||(_e=M.xGo(ne)))(Ce||ne)}})(),ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})();var po=function(ne){return ne[ne.COMPLETE=0]="COMPLETE",ne[ne.FAILED=1]="FAILED",ne[ne.REDIRECTING=2]="REDIRECTING",ne}(po||{});function zs(ne,he){ne.events.pipe((0,P.p)(_e=>_e instanceof Sn||_e instanceof eo||_e instanceof ko||_e instanceof wo),(0,m.T)(_e=>_e instanceof Sn||_e instanceof wo?po.COMPLETE:_e instanceof eo&&(_e.code===Ln.Redirect||_e.code===Ln.SupersededByNewNavigation)?po.REDIRECTING:po.FAILED),(0,P.p)(_e=>_e!==po.REDIRECTING),(0,g.s)(1)).subscribe(()=>{he()})}function Ns(ne){throw ne}const Ws={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ls={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{var ne;class he{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var de,Ce;this.disposed=!1,this.console=(0,M.WQX)(M.H3F),this.stateManager=(0,M.WQX)(Jn),this.options=(0,M.WQX)(Hs,{optional:!0})||{},this.pendingTasks=(0,M.WQX)(M.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,M.WQX)(nn),this.urlSerializer=(0,M.WQX)(Xt),this.location=(0,M.WQX)(d.aZ),this.urlHandlingStrategy=(0,M.WQX)(_t),this._events=new u.B,this.errorHandler=this.options.errorHandler||Ns,this.navigated=!1,this.routeReuseStrategy=(0,M.WQX)(Yr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(de=null===(Ce=(0,M.WQX)(ds,{optional:!0}))||void 0===Ce?void 0:Ce.flat())&&void 0!==de?de:[],this.componentInputBindingEnabled=!!(0,M.WQX)(Pn,{optional:!0}),this.eventsSubscription=new h.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:et=>{this.console.warn(et)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(Ce=>{try{const et=this.navigationTransitions.currentTransition,at=this.navigationTransitions.currentNavigation;if(null!==et&&null!==at)if(this.stateManager.handleRouterEvent(Ce,at),Ce instanceof eo&&Ce.code!==Ln.Redirect&&Ce.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(Ce instanceof Sn)this.navigated=!0;else if(Ce instanceof fn){const sr=Ce.navigationBehaviorOptions,wr=this.urlHandlingStrategy.merge(Ce.url,et.currentRawUrl),qt={browserUrl:et.extras.browserUrl,info:et.extras.info,skipLocationChange:et.extras.skipLocationChange,replaceUrl:et.extras.replaceUrl||"eager"===this.urlUpdateStrategy||xn(et.source),...sr};this.scheduleNavigation(wr,Dn,null,qt,{resolve:et.resolve,reject:et.reject,promise:et.promise})}(function xa(ne){return!(ne instanceof Zt||ne instanceof fn)})(Ce)&&this._events.next(Ce)}catch(et){this.navigationTransitions.transitionAbortSubject.next(et)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dn,this.stateManager.restoredState())}setUpLocationChangeListener(){var de;null!==(de=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==de||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((Ce,et)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Ce,"popstate",et)},0)}))}navigateToSyncWithBrowser(de,Ce,et){const at={replaceUrl:!0},sr=null!=et&&et.navigationId?et:null;if(et){const qt={...et};delete qt.navigationId,delete qt.\u0275routerPageId,0!==Object.keys(qt).length&&(at.state=qt)}const wr=this.parseUrl(de);this.scheduleNavigation(wr,Ce,sr,at)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Io),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,Ce={}){const{relativeTo:et,queryParams:at,fragment:sr,queryParamsHandling:wr,preserveFragment:qt}=Ce,Or=qt?this.currentUrlTree.fragment:sr;let hn,Xr=null;switch(wr){case"merge":Xr={...this.currentUrlTree.queryParams,...at};break;case"preserve":Xr=this.currentUrlTree.queryParams;break;default:Xr=at||null}null!==Xr&&(Xr=this.removeEmptyProps(Xr));try{hn=H(et?et.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),hn=this.currentUrlTree.root}return ie(hn,de,Xr,null!=Or?Or:null)}navigateByUrl(de,Ce={skipLocationChange:!1}){const et=A(de)?de:this.parseUrl(de),at=this.urlHandlingStrategy.merge(et,this.rawUrlTree);return this.scheduleNavigation(at,Dn,null,Ce)}navigate(de,Ce={skipLocationChange:!1}){return function Hi(ne){for(let he=0;he<ne.length;he++)if(null==ne[he])throw new M.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,Ce),Ce)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,Ce){let et;if(et=!0===Ce?{...Ws}:!1===Ce?{...Ls}:Ce,A(de))return Vt(this.currentUrlTree,de,et);const at=this.parseUrl(de);return Vt(this.currentUrlTree,at,et)}removeEmptyProps(de){return Object.entries(de).reduce((Ce,[et,at])=>(null!=at&&(Ce[et]=at),Ce),{})}scheduleNavigation(de,Ce,et,at,sr){if(this.disposed)return Promise.resolve(!1);let wr,qt,Or;sr?(wr=sr.resolve,qt=sr.reject,Or=sr.promise):Or=new Promise((hn,Jr)=>{wr=hn,qt=Jr});const Xr=this.pendingTasks.add();return zs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Xr))}),this.navigationTransitions.handleNavigationRequest({source:Ce,restoredState:et,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:at,resolve:wr,reject:qt,promise:Or,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Or.catch(hn=>Promise.reject(hn))}}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})(),Da=(()=>{var ne;class he{constructor(de,Ce,et,at,sr,wr){var qt;this.router=de,this.route=Ce,this.tabIndexAttribute=et,this.renderer=at,this.el=sr,this.locationStrategy=wr,this.href=null,this.onChanges=new u.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Or=null===(qt=sr.nativeElement.tagName)||void 0===qt?void 0:qt.toLowerCase();this.isAnchorElement="a"===Or||"area"===Or,this.isAnchorElement?this.subscription=de.events.subscribe(Xr=>{Xr instanceof Sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=A(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,Ce,et,at,sr){const wr=this.urlTree;return!!(null===wr||this.isAnchorElement&&(0!==de||Ce||et||at||sr||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(wr,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var de;null===(de=this.subscription)||void 0===de||de.unsubscribe()}updateHref(){var de;const Ce=this.urlTree;this.href=null!==Ce&&this.locationStrategy?null===(de=this.locationStrategy)||void 0===de?void 0:de.prepareExternalUrl(this.router.serializeUrl(Ce)):null;const et=null===this.href?null:(0,M.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",et)}applyAttributeValue(de,Ce){const et=this.renderer,at=this.el.nativeElement;null!==Ce?et.setAttribute(at,de,Ce):et.removeAttribute(at,de)}get urlTree(){return null===this.routerLinkInput?null:A(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(ne=he).\u0275fac=function(de){return new(de||ne)(M.rXU(co),M.rXU(Fr),M.kS0("tabindex"),M.rXU(M.sFG),M.rXU(M.aKT),M.rXU(d.hb))},ne.\u0275dir=M.FsC({type:ne,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(de,Ce){1&de&&M.bIt("click",function(at){return Ce.onClick(at.button,at.ctrlKey,at.shiftKey,at.altKey,at.metaKey)}),2&de&&M.BMQ("target",Ce.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",M.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",M.L39],replaceUrl:[2,"replaceUrl","replaceUrl",M.L39],routerLink:"routerLink"},standalone:!0,features:[M.GFd,M.OA$]}),he})();class zo{}let ji=(()=>{var ne;class he{preload(de,Ce){return Ce().pipe(G(()=>(0,se.of)(null)))}}return(ne=he).\u0275fac=function(de){return new(de||ne)},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})(),Ta=(()=>{var ne;class he{constructor(de,Ce,et,at,sr){this.router=de,this.injector=et,this.preloadingStrategy=at,this.loader=sr}setUpPreloading(){this.subscription=this.router.events.pipe((0,P.p)(de=>de instanceof Sn),q(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,Ce){const et=[];for(const qt of Ce){var at,sr;qt.providers&&!qt._injector&&(qt._injector=(0,M.Ol2)(qt.providers,de,`Route: ${qt.path}`));const Or=null!==(at=qt._injector)&&void 0!==at?at:de,Xr=null!==(sr=qt._loadedInjector)&&void 0!==sr?sr:Or;var wr;(qt.loadChildren&&!qt._loadedRoutes&&void 0===qt.canLoad||qt.loadComponent&&!qt._loadedComponent)&&et.push(this.preloadConfig(Or,qt)),(qt.children||qt._loadedRoutes)&&et.push(this.processRoutes(Xr,null!==(wr=qt.children)&&void 0!==wr?wr:qt._loadedRoutes))}return(0,o.H)(et).pipe((0,qe.U)())}preloadConfig(de,Ce){return this.preloadingStrategy.preload(Ce,()=>{let et;et=Ce.loadChildren&&void 0===Ce.canLoad?this.loader.loadChildren(de,Ce):(0,se.of)(null);const at=et.pipe((0,x.Z)(sr=>{var wr;return null===sr?(0,se.of)(void 0):(Ce._loadedRoutes=sr.routes,Ce._loadedInjector=sr.injector,this.processRoutes(null!==(wr=sr.injector)&&void 0!==wr?wr:de,sr.routes))}));if(Ce.loadComponent&&!Ce._loadedComponent){const sr=this.loader.loadComponent(Ce);return(0,o.H)([at,sr]).pipe((0,qe.U)())}return at})}}return(ne=he).\u0275fac=function(de){return new(de||ne)(M.KVO(co),M.KVO(M.Ql9),M.KVO(M.uvJ),M.KVO(zo),M.KVO(Cl))},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"}),he})();const Oi=new M.nKC("");let Aa=(()=>{var ne;class he{constructor(de,Ce,et,at,sr={}){this.urlSerializer=de,this.transitions=Ce,this.viewportScroller=et,this.zone=at,this.options=sr,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},sr.scrollPositionRestoration||(sr.scrollPositionRestoration="disabled"),sr.anchorScrolling||(sr.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Vn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof Sn?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof wo&&de.code===To.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof pt&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,Ce){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pt(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ce))})},0)})}ngOnDestroy(){var de,Ce;null===(de=this.routerEventsSubscription)||void 0===de||de.unsubscribe(),null===(Ce=this.scrollEventsSubscription)||void 0===Ce||Ce.unsubscribe()}}return(ne=he).\u0275fac=function(de){M.QTQ()},ne.\u0275prov=M.jDH({token:ne,factory:ne.\u0275fac}),he})();function Xs(ne,he){return{\u0275kind:ne,\u0275providers:he}}function Dl(){const ne=(0,M.WQX)(M.zZn);return he=>{var _e,de;const Ce=ne.get(M.o8S);if(he!==Ce.components[0])return;const et=ne.get(co),at=ne.get(Es);1===ne.get(En)&&et.initialNavigation(),null===(_e=ne.get(Wi,null,M.$GK.Optional))||void 0===_e||_e.setUpPreloading(),null===(de=ne.get(Oi,null,M.$GK.Optional))||void 0===de||de.init(),et.resetRootComponentType(Ce.componentTypes[0]),at.closed||(at.next(),at.complete(),at.unsubscribe())}}const Es=new M.nKC("",{factory:()=>new u.B}),En=new M.nKC("",{providedIn:"root",factory:()=>1}),Wi=new M.nKC("");function Ma(ne){return Xs(0,[{provide:Wi,useExisting:Ta},{provide:zo,useExisting:ne}])}function qu(ne){return Xs(9,[{provide:nt,useValue:pr},{provide:At,useValue:{skipNextTransition:!(null==ne||!ne.skipInitialTransition),...ne}}])}const Pi=new M.nKC("ROUTER_FORROOT_GUARD"),Ku=[d.aZ,{provide:Xt,useClass:Ct},co,Tt,{provide:Fr,useFactory:function xl(ne){return ne.routerState.root},deps:[co]},Cl,[]];let Yu=(()=>{var ne;class he{constructor(de){}static forRoot(de,Ce){return{ngModule:he,providers:[Ku,[],{provide:ds,multi:!0,useValue:de},{provide:Pi,useFactory:qd,deps:[[co,new M.Xx1,new M.kdw]]},{provide:Hs,useValue:Ce||{}},null!=Ce&&Ce.useHash?{provide:d.hb,useClass:d.fw}:{provide:d.hb,useClass:d.Sm},{provide:Oi,useFactory:()=>{const ne=(0,M.WQX)(d.Xr),he=(0,M.WQX)(M.SKi),_e=(0,M.WQX)(Hs),de=(0,M.WQX)(nn),Ce=(0,M.WQX)(Xt);return _e.scrollOffset&&ne.setOffset(_e.scrollOffset),new Aa(Ce,de,ne,he,_e)}},null!=Ce&&Ce.preloadingStrategy?Ma(Ce.preloadingStrategy).\u0275providers:[],null!=Ce&&Ce.initialNavigation?Cs(Ce):[],null!=Ce&&Ce.bindToComponentInputs?Xs(8,[js,{provide:Pn,useExisting:js}]).\u0275providers:[],null!=Ce&&Ce.enableViewTransitions?qu().\u0275providers:[],[{provide:Ju,useFactory:Dl},{provide:M.iLQ,multi:!0,useExisting:Ju}]]}}static forChild(de){return{ngModule:he,providers:[{provide:ds,multi:!0,useValue:de}]}}}return(ne=he).\u0275fac=function(de){return new(de||ne)(M.KVO(Pi,8))},ne.\u0275mod=M.$C({type:ne}),ne.\u0275inj=M.G2t({}),he})();function qd(ne){return"guarded"}function Cs(ne){return["disabled"===ne.initialNavigation?Xs(3,[{provide:M.hnV,multi:!0,useFactory:()=>{const he=(0,M.WQX)(co);return()=>{he.setUpLocationChangeListener()}}},{provide:En,useValue:2}]).\u0275providers:[],"enabledBlocking"===ne.initialNavigation?Xs(2,[{provide:En,useValue:0},{provide:M.hnV,multi:!0,deps:[M.zZn],useFactory:he=>{const _e=he.get(d.hj,Promise.resolve());return()=>_e.then(()=>new Promise(de=>{const Ce=he.get(co),et=he.get(Es);zs(Ce,()=>{de(!0)}),he.get(nn).afterPreactivation=()=>(de(!0),et.closed?(0,se.of)(void 0):et),Ce.initialNavigation()}))}}]).\u0275providers:[]]}const Ju=new M.nKC("")},3656:(Dr,rr,we)=>{"use strict";we.d(rr,{Yq:()=>Pt,TS:()=>Ye,sR:()=>ot,el:()=>z,Sb:()=>Xt,QE:()=>B,CF:()=>Xe,Rg:()=>tr,p4:()=>A,jM:()=>xt,q9:()=>st,y8:()=>ft,Kb:()=>fr,OD:()=>qe,CE:()=>pe,pF:()=>Ie,fL:()=>H,YV:()=>Er,er:()=>Q,z3:()=>ie});var M=we(467),T=we(9842),Qe=we(3953),Et=we(9858),o=we(177),se=we(5531),V=we(4442);var I=we(1413),F=we(3726),R=we(4412),Z=we(4572),oe=we(7673),q=we(1635),re=we(5964),W=we(5558),G=we(3669),K=we(9974),ue=we(4360);function Y(ke,He){return ke===He}var j=we(4341);const te=["tabsInner"];let qe=(()=>{var ke;class He{constructor(Ge,dt){(0,T.A)(this,"doc",void 0),(0,T.A)(this,"_readyPromise",void 0),(0,T.A)(this,"win",void 0),(0,T.A)(this,"backButton",new I.B),(0,T.A)(this,"keyboardDidShow",new I.B),(0,T.A)(this,"keyboardDidHide",new I.B),(0,T.A)(this,"pause",new I.B),(0,T.A)(this,"resume",new I.B),(0,T.A)(this,"resize",new I.B),this.doc=Ge,dt.run(()=>{var Ft;let ar;this.win=Ge.defaultView,this.backButton.subscribeWithPriority=function(_r,Pr){return this.subscribe(tn=>tn.register(_r,on=>dt.run(()=>Pr(on))))},ze(this.pause,Ge,"pause",dt),ze(this.resume,Ge,"resume",dt),ze(this.backButton,Ge,"ionBackButton",dt),ze(this.resize,this.win,"resize",dt),ze(this.keyboardDidShow,this.win,"ionKeyboardDidShow",dt),ze(this.keyboardDidHide,this.win,"ionKeyboardDidHide",dt),this._readyPromise=new Promise(_r=>{ar=_r}),null!==(Ft=this.win)&&void 0!==Ft&&Ft.cordova?Ge.addEventListener("deviceready",()=>{ar("cordova")},{once:!0}):ar("dom")})}is(Ge){return(0,se.a)(this.win,Ge)}platforms(){return(0,se.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(Ge){return ct(this.win.location.href,Ge)}isLandscape(){return!this.isPortrait()}isPortrait(){var Ge,dt;return null===(Ge=(dt=this.win).matchMedia)||void 0===Ge?void 0:Ge.call(dt,"(orientation: portrait)").matches}testUserAgent(Ge){const dt=this.win.navigator;return!!(null!=dt&&dt.userAgent&&dt.userAgent.indexOf(Ge)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)(Qe.KVO(o.qQ),Qe.KVO(Qe.SKi))}),(0,T.A)(He,"\u0275prov",Qe.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})),He})();const ct=(ke,He)=>{He=He.replace(/[[\]\\]/g,"\\$&");const Ge=new RegExp("[\\?&]"+He+"=([^&#]*)").exec(ke);return Ge?decodeURIComponent(Ge[1].replace(/\+/g," ")):null},ze=(ke,He,vt,Ge)=>{He&&He.addEventListener(vt,dt=>{Ge.run(()=>{ke.next(null!=dt?dt.detail:void 0)})})};let st=(()=>{var ke;class He{constructor(Ge,dt,Ft,ar){(0,T.A)(this,"location",void 0),(0,T.A)(this,"serializer",void 0),(0,T.A)(this,"router",void 0),(0,T.A)(this,"topOutlet",void 0),(0,T.A)(this,"direction",Fe),(0,T.A)(this,"animated",rt),(0,T.A)(this,"animationBuilder",void 0),(0,T.A)(this,"guessDirection","forward"),(0,T.A)(this,"guessAnimation",void 0),(0,T.A)(this,"lastNavId",-1),this.location=dt,this.serializer=Ft,this.router=ar,ar&&ar.events.subscribe(_r=>{if(_r instanceof Et.Z){const Pr=_r.restoredState?_r.restoredState.navigationId:_r.id;this.guessDirection=this.guessAnimation=Pr<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?_r.id:Pr}}),Ge.backButton.subscribeWithPriority(0,_r=>{this.pop(),_r()})}navigateForward(Ge,dt={}){return this.setDirection("forward",dt.animated,dt.animationDirection,dt.animation),this.navigate(Ge,dt)}navigateBack(Ge,dt={}){return this.setDirection("back",dt.animated,dt.animationDirection,dt.animation),this.navigate(Ge,dt)}navigateRoot(Ge,dt={}){return this.setDirection("root",dt.animated,dt.animationDirection,dt.animation),this.navigate(Ge,dt)}back(Ge={animated:!0,animationDirection:"back"}){return this.setDirection("back",Ge.animated,Ge.animationDirection,Ge.animation),this.location.back()}pop(){var Ge=this;return(0,M.A)(function*(){let dt=Ge.topOutlet;for(;dt;){if(yield dt.pop())return!0;dt=dt.parentOutlet}return!1})()}setDirection(Ge,dt,Ft,ar){this.direction=Ge,this.animated=lt(Ge,dt,Ft),this.animationBuilder=ar}setTopOutlet(Ge){this.topOutlet=Ge}consumeTransition(){let dt,Ge="root";const Ft=this.animationBuilder;return"auto"===this.direction?(Ge=this.guessDirection,dt=this.guessAnimation):(dt=this.animated,Ge=this.direction),this.direction=Fe,this.animated=rt,this.animationBuilder=void 0,{direction:Ge,animation:dt,animationBuilder:Ft}}navigate(Ge,dt){if(Array.isArray(Ge))return this.router.navigate(Ge,dt);{const Ft=this.serializer.parse(Ge.toString());return void 0!==dt.queryParams&&(Ft.queryParams={...dt.queryParams}),void 0!==dt.fragment&&(Ft.fragment=dt.fragment),this.router.navigateByUrl(Ft,dt)}}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)(Qe.KVO(qe),Qe.KVO(o.aZ),Qe.KVO(Et.Sd),Qe.KVO(Et.Ix,8))}),(0,T.A)(He,"\u0275prov",Qe.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})),He})();const lt=(ke,He,vt)=>{if(!1!==He){if(void 0!==vt)return vt;if("forward"===ke||"back"===ke)return ke;if("root"===ke&&!0===He)return"forward"}},Fe="auto",rt=void 0;let Ye=(()=>{var ke;class He{get(Ge,dt){const Ft=Je();return Ft?Ft.get(Ge,dt):null}getBoolean(Ge,dt){const Ft=Je();return!!Ft&&Ft.getBoolean(Ge,dt)}getNumber(Ge,dt){const Ft=Je();return Ft?Ft.getNumber(Ge,dt):0}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)}),(0,T.A)(He,"\u0275prov",Qe.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})),He})();const ot=new Qe.nKC("USERCONFIG"),Je=()=>{if(typeof window<"u"){const ke=window.Ionic;if(null!=ke&&ke.config)return ke.config}return null};class ft{constructor(He={}){(0,T.A)(this,"data",void 0),this.data=He,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(He){return this.data[He]}}let Pt=(()=>{var ke;class He{constructor(){(0,T.A)(this,"zone",(0,Qe.WQX)(Qe.SKi)),(0,T.A)(this,"applicationRef",(0,Qe.WQX)(Qe.o8S)),(0,T.A)(this,"config",(0,Qe.WQX)(ot))}create(Ge,dt,Ft){var ar;return new Wt(Ge,dt,this.applicationRef,this.zone,Ft,null!==(ar=this.config.useSetInputAPI)&&void 0!==ar&&ar)}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)}),(0,T.A)(He,"\u0275prov",Qe.jDH({token:ke,factory:ke.\u0275fac})),He})();class Wt{constructor(He,vt,Ge,dt,Ft,ar){(0,T.A)(this,"environmentInjector",void 0),(0,T.A)(this,"injector",void 0),(0,T.A)(this,"applicationRef",void 0),(0,T.A)(this,"zone",void 0),(0,T.A)(this,"elementReferenceKey",void 0),(0,T.A)(this,"enableSignalsSupport",void 0),(0,T.A)(this,"elRefMap",new WeakMap),(0,T.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=He,this.injector=vt,this.applicationRef=Ge,this.zone=dt,this.elementReferenceKey=Ft,this.enableSignalsSupport=ar}attachViewToDom(He,vt,Ge,dt){return this.zone.run(()=>new Promise(Ft=>{const ar={...Ge};void 0!==this.elementReferenceKey&&(ar[this.elementReferenceKey]=He),Ft($t(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,He,vt,ar,dt,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(He,vt){return this.zone.run(()=>new Promise(Ge=>{const dt=this.elRefMap.get(vt);if(dt){dt.destroy(),this.elRefMap.delete(vt);const Ft=this.elEventsMap.get(vt);Ft&&(Ft(),this.elEventsMap.delete(vt))}Ge()}))}}const $t=(ke,He,vt,Ge,dt,Ft,ar,_r,Pr,tn,on,Nn)=>{const Dn=Qe.zZn.create({providers:Kt(Pr),parent:vt}),Kr=(0,Qe.a0P)(_r,{environmentInjector:He,elementInjector:Dn}),yn=Kr.instance,Vn=Kr.location.nativeElement;if(Pr)if(on&&void 0!==yn[on]&&console.error(`[Ionic Error]: ${on} is a reserved property when using ${ar.tagName.toLowerCase()}. Rename or remove the "${on}" property from ${_r.name}.`),!0===Nn&&void 0!==Kr.setInput){const{modal:Ln,popover:To,...eo}=Pr;for(const wo in eo)Kr.setInput(wo,eo[wo]);void 0!==Ln&&Object.assign(yn,{modal:Ln}),void 0!==To&&Object.assign(yn,{popover:To})}else Object.assign(yn,Pr);if(tn)for(const Ln of tn)Vn.classList.add(Ln);const Sn=Vt(ke,yn,Vn);return ar.appendChild(Vn),Ge.attachView(Kr.hostView),dt.set(Vn,Kr),Ft.set(Vn,Sn),Vn},cr=[V.L,V.a,V.b,V.c,V.d],Vt=(ke,He,vt)=>ke.run(()=>{const Ge=cr.filter(dt=>"function"==typeof He[dt]).map(dt=>{const Ft=ar=>He[dt](ar.detail);return vt.addEventListener(dt,Ft),()=>vt.removeEventListener(dt,Ft)});return()=>Ge.forEach(dt=>dt())}),mr=new Qe.nKC("NavParamsToken"),Kt=ke=>[{provide:mr,useValue:ke},{provide:ft,useFactory:hr,deps:[mr]}],hr=ke=>new ft(ke),It=(ke,He)=>{const vt=ke.prototype;He.forEach(Ge=>{Object.defineProperty(vt,Ge,{get(){return this.el[Ge]},set(dt){this.z.runOutsideAngular(()=>this.el[Ge]=dt)}})})},lr=(ke,He)=>{const vt=ke.prototype;He.forEach(Ge=>{vt[Ge]=function(){const dt=arguments;return this.z.runOutsideAngular(()=>this.el[Ge].apply(this.el,dt))}})},Ht=(ke,He,vt)=>{vt.forEach(Ge=>ke[Ge]=(0,F.R)(He,Ge))};function $e(ke){return function(vt){const{defineCustomElementFn:Ge,inputs:dt,methods:Ft}=ke;return void 0!==Ge&&Ge(),dt&&It(vt,dt),Ft&&lr(vt,Ft),vt}}const We=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Pe=["present","dismiss","onDidDismiss","onWillDismiss"];let Xe=(()=>{var ke;let He=((0,T.A)(ke=class{constructor(Ge,dt,Ft){(0,T.A)(this,"z",void 0),(0,T.A)(this,"template",void 0),(0,T.A)(this,"isCmpOpen",!1),(0,T.A)(this,"el",void 0),this.z=Ft,this.el=dt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Ge.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Ge.detectChanges()}),Ht(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Ge){return new(Ge||ke)(Qe.rXU(Qe.gRc),Qe.rXU(Qe.aKT),Qe.rXU(Qe.SKi))}),(0,T.A)(ke,"\u0275dir",Qe.FsC({type:ke,selectors:[["ion-popover"]],contentQueries:function(Ge,dt,Ft){if(1&Ge&&Qe.wni(Ft,Qe.C4Q,5),2&Ge){let ar;Qe.mGM(ar=Qe.lsd())&&(dt.template=ar.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ke);return He=(0,q.Cg)([$e({inputs:We,methods:Pe})],He),He})();const wt=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Ot=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Xt=(()=>{var ke;let He=((0,T.A)(ke=class{constructor(Ge,dt,Ft){(0,T.A)(this,"z",void 0),(0,T.A)(this,"template",void 0),(0,T.A)(this,"isCmpOpen",!1),(0,T.A)(this,"el",void 0),this.z=Ft,this.el=dt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Ge.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Ge.detectChanges()}),Ht(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Ge){return new(Ge||ke)(Qe.rXU(Qe.gRc),Qe.rXU(Qe.aKT),Qe.rXU(Qe.SKi))}),(0,T.A)(ke,"\u0275dir",Qe.FsC({type:ke,selectors:[["ion-modal"]],contentQueries:function(Ge,dt,Ft){if(1&Ge&&Qe.wni(Ft,Qe.C4Q,5),2&Ge){let ar;Qe.mGM(ar=Qe.lsd())&&(dt.template=ar.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ke);return He=(0,q.Cg)([$e({inputs:wt,methods:Ot})],He),He})();const Bt=(ke,He)=>((ke=ke.filter(vt=>vt.stackId!==He.stackId)).push(He),ke),Rt=(ke,He)=>{const vt=ke.createUrlTree(["."],{relativeTo:He});return ke.serializeUrl(vt)},mt=(ke,He)=>!He||ke.stackId!==He.stackId,Ut=(ke,He)=>{if(!ke)return;const vt=yt(He);for(let Ge=0;Ge<vt.length;Ge++){if(Ge>=ke.length)return vt[Ge];if(vt[Ge]!==ke[Ge])return}},yt=ke=>ke.split("/").map(He=>He.trim()).filter(He=>""!==He),Lt=ke=>{ke&&(ke.ref.destroy(),ke.unlistenEvents())};class ur{constructor(He,vt,Ge,dt,Ft,ar){(0,T.A)(this,"containerEl",void 0),(0,T.A)(this,"router",void 0),(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"zone",void 0),(0,T.A)(this,"location",void 0),(0,T.A)(this,"views",[]),(0,T.A)(this,"runningTask",void 0),(0,T.A)(this,"skipTransition",!1),(0,T.A)(this,"tabsPrefix",void 0),(0,T.A)(this,"activeView",void 0),(0,T.A)(this,"nextId",0),this.containerEl=vt,this.router=Ge,this.navCtrl=dt,this.zone=Ft,this.location=ar,this.tabsPrefix=void 0!==He?yt(He):void 0}createView(He,vt){var Ge;const dt=Rt(this.router,vt),Ft=null==He||null===(Ge=He.location)||void 0===Ge?void 0:Ge.nativeElement,ar=Vt(this.zone,He.instance,Ft);return{id:this.nextId++,stackId:Ut(this.tabsPrefix,dt),unlistenEvents:ar,element:Ft,ref:He,url:dt}}getExistingView(He){const vt=Rt(this.router,He),Ge=this.views.find(dt=>dt.url===vt);return Ge&&Ge.ref.changeDetectorRef.reattach(),Ge}setActive(He){var vt,Ge;const dt=this.navCtrl.consumeTransition();let{direction:Ft,animation:ar,animationBuilder:_r}=dt;const Pr=this.activeView,tn=mt(He,Pr);tn&&(Ft="back",ar=void 0);const on=this.views.slice();let Nn;const Dn=this.router;Dn.getCurrentNavigation?Nn=Dn.getCurrentNavigation():null!==(vt=Dn.navigations)&&void 0!==vt&&vt.value&&(Nn=Dn.navigations.value),null!==(Ge=Nn)&&void 0!==Ge&&null!==(Ge=Ge.extras)&&void 0!==Ge&&Ge.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Kr=this.views.includes(He),yn=this.insertView(He,Ft);Kr||He.ref.changeDetectorRef.detectChanges();const Vn=He.animationBuilder;return void 0===_r&&"back"===Ft&&!tn&&void 0!==Vn&&(_r=Vn),Pr&&(Pr.animationBuilder=_r),this.zone.runOutsideAngular(()=>this.wait(()=>(Pr&&Pr.ref.changeDetectorRef.detach(),He.ref.changeDetectorRef.reattach(),this.transition(He,Pr,ar,this.canGoBack(1),!1,_r).then(()=>ht(He,yn,on,this.location,this.zone)).then(()=>({enteringView:He,direction:Ft,animation:ar,tabSwitch:tn})))))}canGoBack(He,vt=this.getActiveStackId()){return this.getStack(vt).length>He}pop(He,vt=this.getActiveStackId()){return this.zone.run(()=>{const Ge=this.getStack(vt);if(Ge.length<=He)return Promise.resolve(!1);const dt=Ge[Ge.length-He-1];let Ft=dt.url;const ar=dt.savedData;if(ar){var _r;const tn=ar.get("primary");null!=tn&&null!==(_r=tn.route)&&void 0!==_r&&null!==(_r=_r._routerState)&&void 0!==_r&&_r.snapshot.url&&(Ft=tn.route._routerState.snapshot.url)}const{animationBuilder:Pr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ft,{...dt.savedExtras,animation:Pr}).then(()=>!0)})}startBackTransition(){const He=this.activeView;if(He){const vt=this.getStack(He.stackId),Ge=vt[vt.length-2],dt=Ge.animationBuilder;return this.wait(()=>this.transition(Ge,He,"back",this.canGoBack(2),!0,dt))}return Promise.resolve()}endBackTransition(He){He?(this.skipTransition=!0,this.pop(1)):this.activeView&&Dt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(He){const vt=this.getStack(He);return vt.length>0?vt[vt.length-1]:void 0}getRootUrl(He){const vt=this.getStack(He);return vt.length>0?vt[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Lt),this.activeView=void 0,this.views=[]}getStack(He){return this.views.filter(vt=>vt.stackId===He)}insertView(He,vt){return this.activeView=He,this.views=((ke,He,vt)=>"root"===vt?Bt(ke,He):"forward"===vt?((ke,He)=>(ke.indexOf(He)>=0?ke=ke.filter(Ge=>Ge.stackId!==He.stackId||Ge.id<=He.id):ke.push(He),ke))(ke,He):((ke,He)=>ke.indexOf(He)>=0?ke.filter(Ge=>Ge.stackId!==He.stackId||Ge.id<=He.id):Bt(ke,He))(ke,He))(this.views,He,vt),this.views.slice()}transition(He,vt,Ge,dt,Ft,ar){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(vt===He)return Promise.resolve(!1);const _r=He?He.element:void 0,Pr=vt?vt.element:void 0,tn=this.containerEl;return _r&&_r!==Pr&&(_r.classList.add("ion-page"),_r.classList.add("ion-page-invisible"),tn.commit)?tn.commit(_r,Pr,{duration:void 0===Ge?0:void 0,direction:Ge,showGoBack:dt,progressAnimation:Ft,animationBuilder:ar}):Promise.resolve(!1)}wait(He){var vt=this;return(0,M.A)(function*(){void 0!==vt.runningTask&&(yield vt.runningTask,vt.runningTask=void 0);const Ge=vt.runningTask=He();return Ge.finally(()=>vt.runningTask=void 0),Ge})()}}const ht=(ke,He,vt,Ge,dt)=>"function"==typeof requestAnimationFrame?new Promise(Ft=>{requestAnimationFrame(()=>{Dt(ke,He,vt,Ge,dt),Ft()})}):Promise.resolve(),Dt=(ke,He,vt,Ge,dt)=>{dt.run(()=>vt.filter(Ft=>!He.includes(Ft)).forEach(Lt)),He.forEach(Ft=>{const _r=Ge.path().split("?")[0].split("#")[0];if(Ft!==ke&&Ft.url!==_r){const Pr=Ft.element;Pr.setAttribute("aria-hidden","true"),Pr.classList.add("ion-page-hidden"),Ft.ref.changeDetectorRef.detach()}})};let tr=(()=>{var ke;class He{get activatedComponentRef(){return this.activated}set animation(Ge){this.nativeEl.animation=Ge}set animated(Ge){this.nativeEl.animated=Ge}set swipeGesture(Ge){this._swipeGesture=Ge,this.nativeEl.swipeHandler=Ge?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:dt=>this.stackCtrl.endBackTransition(dt)}:void 0}constructor(Ge,dt,Ft,ar,_r,Pr,tn,on){(0,T.A)(this,"parentOutlet",void 0),(0,T.A)(this,"nativeEl",void 0),(0,T.A)(this,"activatedView",null),(0,T.A)(this,"tabsPrefix",void 0),(0,T.A)(this,"_swipeGesture",void 0),(0,T.A)(this,"stackCtrl",void 0),(0,T.A)(this,"proxyMap",new WeakMap),(0,T.A)(this,"currentActivatedRoute$",new R.t(null)),(0,T.A)(this,"activated",null),(0,T.A)(this,"_activatedRoute",null),(0,T.A)(this,"name",Et.Xk),(0,T.A)(this,"stackWillChange",new Qe.bkB),(0,T.A)(this,"stackDidChange",new Qe.bkB),(0,T.A)(this,"activateEvents",new Qe.bkB),(0,T.A)(this,"deactivateEvents",new Qe.bkB),(0,T.A)(this,"parentContexts",(0,Qe.WQX)(Et.Zp)),(0,T.A)(this,"location",(0,Qe.WQX)(Qe.c1b)),(0,T.A)(this,"environmentInjector",(0,Qe.WQX)(Qe.uvJ)),(0,T.A)(this,"inputBinder",(0,Qe.WQX)(ir,{optional:!0})),(0,T.A)(this,"supportsBindingToComponentInputs",!0),(0,T.A)(this,"config",(0,Qe.WQX)(Ye)),(0,T.A)(this,"navCtrl",(0,Qe.WQX)(st)),this.parentOutlet=on,this.nativeEl=ar.nativeElement,this.name=Ge||Et.Xk,this.tabsPrefix="true"===dt?Rt(_r,tn):void 0,this.stackCtrl=new ur(this.tabsPrefix,this.nativeEl,_r,this.navCtrl,Pr,Ft),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var Ge;this.stackCtrl.destroy(),null===(Ge=this.inputBinder)||void 0===Ge||Ge.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const Ge=this.getContext();null!=Ge&&Ge.route&&this.activateWith(Ge.route,Ge.injector)}new Promise(Ge=>((ke,He)=>{ke.componentOnReady?ke.componentOnReady().then(vt=>He(vt)):(ke=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ke):"function"==typeof requestAnimationFrame?requestAnimationFrame(ke):setTimeout(ke)})(()=>He(ke))})(this.nativeEl,Ge)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(Ge,dt){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const dt=this.getContext();this.activatedView.savedData=new Map(dt.children.contexts);const Ft=this.activatedView.savedData.get("primary");if(Ft&&dt.route&&(Ft.route={...dt.route}),this.activatedView.savedExtras={},dt.route){const ar=dt.route.snapshot;this.activatedView.savedExtras.queryParams=ar.queryParams,this.activatedView.savedExtras.fragment=ar.fragment}}const Ge=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ge)}}activateWith(Ge,dt){var Ft;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Ge;let ar,_r=this.stackCtrl.getExistingView(Ge);if(_r){ar=this.activated=_r.ref;const on=_r.savedData;on&&(this.getContext().children.contexts=on),this.updateActivatedRouteProxy(ar.instance,Ge)}else{var Pr;const on=Ge._futureSnapshot,Nn=this.parentContexts.getOrCreateContext(this.name).children,Dn=new R.t(null),Kr=this.createActivatedRouteProxy(Dn,Ge),yn=new Jt(Kr,Nn,this.location.injector),Vn=null!==(Pr=on.routeConfig.component)&&void 0!==Pr?Pr:on.component;ar=this.activated=this.outletContent.createComponent(Vn,{index:this.outletContent.length,injector:yn,environmentInjector:null!=dt?dt:this.environmentInjector}),Dn.next(ar.instance),_r=this.stackCtrl.createView(this.activated,Ge),this.proxyMap.set(ar.instance,Kr),this.currentActivatedRoute$.next({component:ar.instance,activatedRoute:Ge})}null===(Ft=this.inputBinder)||void 0===Ft||Ft.bindActivatedRouteToOutletComponent(this),this.activatedView=_r,this.navCtrl.setTopOutlet(this);const tn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:_r,tabSwitch:mt(_r,tn)}),this.stackCtrl.setActive(_r).then(on=>{this.activateEvents.emit(ar.instance),this.stackDidChange.emit(on)})}canGoBack(Ge=1,dt){return this.stackCtrl.canGoBack(Ge,dt)}pop(Ge=1,dt){return this.stackCtrl.pop(Ge,dt)}getLastUrl(Ge){const dt=this.stackCtrl.getLastUrl(Ge);return dt?dt.url:void 0}getLastRouteView(Ge){return this.stackCtrl.getLastUrl(Ge)}getRootView(Ge){return this.stackCtrl.getRootUrl(Ge)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(Ge,dt){const Ft=new Et.nX;return Ft._futureSnapshot=dt._futureSnapshot,Ft._routerState=dt._routerState,Ft.snapshot=dt.snapshot,Ft.outlet=dt.outlet,Ft.component=dt.component,Ft._paramMap=this.proxyObservable(Ge,"paramMap"),Ft._queryParamMap=this.proxyObservable(Ge,"queryParamMap"),Ft.url=this.proxyObservable(Ge,"url"),Ft.params=this.proxyObservable(Ge,"params"),Ft.queryParams=this.proxyObservable(Ge,"queryParams"),Ft.fragment=this.proxyObservable(Ge,"fragment"),Ft.data=this.proxyObservable(Ge,"data"),Ft}proxyObservable(Ge,dt){return Ge.pipe((0,re.p)(Ft=>!!Ft),(0,W.n)(Ft=>this.currentActivatedRoute$.pipe((0,re.p)(ar=>null!==ar&&ar.component===Ft),(0,W.n)(ar=>ar&&ar.activatedRoute[dt]),function Me(ke,He=G.D){return ke=null!=ke?ke:Y,(0,K.N)((vt,Ge)=>{let dt,Ft=!0;vt.subscribe((0,ue._)(Ge,ar=>{const _r=He(ar);(Ft||!ke(dt,_r))&&(Ft=!1,dt=_r,Ge.next(ar))}))})}())))}updateActivatedRouteProxy(Ge,dt){const Ft=this.proxyMap.get(Ge);if(!Ft)throw new Error("Could not find activated route proxy for view");Ft._futureSnapshot=dt._futureSnapshot,Ft._routerState=dt._routerState,Ft.snapshot=dt.snapshot,Ft.outlet=dt.outlet,Ft.component=dt.component,this.currentActivatedRoute$.next({component:Ge,activatedRoute:dt})}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)(Qe.kS0("name"),Qe.kS0("tabs"),Qe.rXU(o.aZ),Qe.rXU(Qe.aKT),Qe.rXU(Et.Ix),Qe.rXU(Qe.SKi),Qe.rXU(Et.nX),Qe.rXU(ke,12))}),(0,T.A)(He,"\u0275dir",Qe.FsC({type:ke,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),He})();class Jt{constructor(He,vt,Ge){(0,T.A)(this,"route",void 0),(0,T.A)(this,"childContexts",void 0),(0,T.A)(this,"parent",void 0),this.route=He,this.childContexts=vt,this.parent=Ge}get(He,vt){return He===Et.nX?this.route:He===Et.Zp?this.childContexts:this.parent.get(He,vt)}}const ir=new Qe.nKC("");let br=(()=>{var ke;class He{constructor(){(0,T.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(Ge){this.unsubscribeFromRouteData(Ge),this.subscribeToRouteData(Ge)}unsubscribeFromRouteData(Ge){var dt;null===(dt=this.outletDataSubscriptions.get(Ge))||void 0===dt||dt.unsubscribe(),this.outletDataSubscriptions.delete(Ge)}subscribeToRouteData(Ge){const{activatedRoute:dt}=Ge,Ft=(0,Z.z)([dt.queryParams,dt.params,dt.data]).pipe((0,W.n)(([ar,_r,Pr],tn)=>(Pr={...ar,..._r,...Pr},0===tn?(0,oe.of)(Pr):Promise.resolve(Pr)))).subscribe(ar=>{if(!Ge.isActivated||!Ge.activatedComponentRef||Ge.activatedRoute!==dt||null===dt.component)return void this.unsubscribeFromRouteData(Ge);const _r=(0,Qe.HJs)(dt.component);if(_r)for(const{templateName:Pr}of _r.inputs)Ge.activatedComponentRef.setInput(Pr,ar[Pr]);else this.unsubscribeFromRouteData(Ge)});this.outletDataSubscriptions.set(Ge,Ft)}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)}),(0,T.A)(He,"\u0275prov",Qe.jDH({token:ke,factory:ke.\u0275fac})),He})();const Er=()=>({provide:ir,useFactory:vr,deps:[Et.Ix]});function vr(ke){return null!=ke&&ke.componentInputBindingEnabled?new br:null}const Mr=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let z=(()=>{var ke;let He=((0,T.A)(ke=class{constructor(Ge,dt,Ft,ar,_r,Pr){(0,T.A)(this,"routerOutlet",void 0),(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"config",void 0),(0,T.A)(this,"r",void 0),(0,T.A)(this,"z",void 0),(0,T.A)(this,"el",void 0),this.routerOutlet=Ge,this.navCtrl=dt,this.config=Ft,this.r=ar,this.z=_r,Pr.detach(),this.el=this.r.nativeElement}onClick(Ge){var dt;const Ft=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(dt=this.routerOutlet)&&void 0!==dt&&dt.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),Ge.preventDefault()):null!=Ft&&(this.navCtrl.navigateBack(Ft,{animation:this.routerAnimation}),Ge.preventDefault())}},"\u0275fac",function(Ge){return new(Ge||ke)(Qe.rXU(tr,8),Qe.rXU(st),Qe.rXU(Ye),Qe.rXU(Qe.aKT),Qe.rXU(Qe.SKi),Qe.rXU(Qe.gRc))}),(0,T.A)(ke,"\u0275dir",Qe.FsC({type:ke,hostBindings:function(Ge,dt){1&Ge&&Qe.bIt("click",function(ar){return dt.onClick(ar)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ke);return He=(0,q.Cg)([$e({inputs:Mr})],He),He})(),pe=(()=>{var ke;class He{constructor(Ge,dt,Ft,ar,_r){(0,T.A)(this,"locationStrategy",void 0),(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"elementRef",void 0),(0,T.A)(this,"router",void 0),(0,T.A)(this,"routerLink",void 0),(0,T.A)(this,"routerDirection","forward"),(0,T.A)(this,"routerAnimation",void 0),this.locationStrategy=Ge,this.navCtrl=dt,this.elementRef=Ft,this.router=ar,this.routerLink=_r}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Ge;if(null!==(Ge=this.routerLink)&&void 0!==Ge&&Ge.urlTree){const dt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=dt}}onClick(Ge){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),Ge.preventDefault()}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)(Qe.rXU(o.hb),Qe.rXU(st),Qe.rXU(Qe.aKT),Qe.rXU(Et.Ix),Qe.rXU(Et.Wk,8))}),(0,T.A)(He,"\u0275dir",Qe.FsC({type:ke,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Ge,dt){1&Ge&&Qe.bIt("click",function(ar){return dt.onClick(ar)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Qe.OA$]})),He})(),Ie=(()=>{var ke;class He{constructor(Ge,dt,Ft,ar,_r){(0,T.A)(this,"locationStrategy",void 0),(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"elementRef",void 0),(0,T.A)(this,"router",void 0),(0,T.A)(this,"routerLink",void 0),(0,T.A)(this,"routerDirection","forward"),(0,T.A)(this,"routerAnimation",void 0),this.locationStrategy=Ge,this.navCtrl=dt,this.elementRef=Ft,this.router=ar,this.routerLink=_r}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Ge;if(null!==(Ge=this.routerLink)&&void 0!==Ge&&Ge.urlTree){const dt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=dt}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)(Qe.rXU(o.hb),Qe.rXU(st),Qe.rXU(Qe.aKT),Qe.rXU(Et.Ix),Qe.rXU(Et.Wk,8))}),(0,T.A)(He,"\u0275dir",Qe.FsC({type:ke,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Ge,dt){1&Ge&&Qe.bIt("click",function(){return dt.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Qe.OA$]})),He})();const C=["animated","animation","root","rootParams","swipeGesture"],O=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let B=(()=>{var ke;let He=((0,T.A)(ke=class{constructor(Ge,dt,Ft,ar,_r,Pr){(0,T.A)(this,"z",void 0),(0,T.A)(this,"el",void 0),this.z=_r,Pr.detach(),this.el=Ge.nativeElement,Ge.nativeElement.delegate=ar.create(dt,Ft),Ht(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(Ge){return new(Ge||ke)(Qe.rXU(Qe.aKT),Qe.rXU(Qe.uvJ),Qe.rXU(Qe.zZn),Qe.rXU(Pt),Qe.rXU(Qe.SKi),Qe.rXU(Qe.gRc))}),(0,T.A)(ke,"\u0275dir",Qe.FsC({type:ke,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ke);return He=(0,q.Cg)([$e({inputs:C,methods:O})],He),He})(),A=(()=>{var ke;class He{constructor(Ge){(0,T.A)(this,"navCtrl",void 0),(0,T.A)(this,"tabsInner",void 0),(0,T.A)(this,"ionTabsWillChange",new Qe.bkB),(0,T.A)(this,"ionTabsDidChange",new Qe.bkB),(0,T.A)(this,"tabBarSlot","bottom"),this.navCtrl=Ge}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:Ge,tabSwitch:dt}){const Ft=Ge.stackId;dt&&void 0!==Ft&&this.ionTabsWillChange.emit({tab:Ft})}onStackDidChange({enteringView:Ge,tabSwitch:dt}){const Ft=Ge.stackId;dt&&void 0!==Ft&&(this.tabBar&&(this.tabBar.selectedTab=Ft),this.ionTabsDidChange.emit({tab:Ft}))}select(Ge){const dt="string"==typeof Ge,Ft=dt?Ge:Ge.detail.tab,ar=this.outlet.getActiveStackId()===Ft,_r=`${this.outlet.tabsPrefix}/${Ft}`;if(dt||Ge.stopPropagation(),ar){const Pr=this.outlet.getActiveStackId(),tn=this.outlet.getLastRouteView(Pr);if((null==tn?void 0:tn.url)===_r)return;const on=this.outlet.getRootView(Ft);return this.navCtrl.navigateRoot(_r,{...on&&_r===on.url&&on.savedExtras,animated:!0,animationDirection:"back"})}{const Pr=this.outlet.getLastRouteView(Ft);return this.navCtrl.navigateRoot((null==Pr?void 0:Pr.url)||_r,{...null==Pr?void 0:Pr.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(Ge=>{const dt=Ge.el.getAttribute("slot");dt!==this.tabBarSlot&&(this.tabBarSlot=dt,this.relocateTabBar())})}relocateTabBar(){const Ge=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(Ge):this.tabsInner.nativeElement.after(Ge)}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)(Qe.rXU(st))}),(0,T.A)(He,"\u0275dir",Qe.FsC({type:ke,selectors:[["ion-tabs"]],viewQuery:function(Ge,dt){if(1&Ge&&Qe.GBs(te,7,Qe.aKT),2&Ge){let Ft;Qe.mGM(Ft=Qe.lsd())&&(dt.tabsInner=Ft.first)}},hostBindings:function(Ge,dt){1&Ge&&Qe.bIt("ionTabButtonClick",function(ar){return dt.select(ar)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),He})();const Q=ke=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ke):"function"==typeof requestAnimationFrame?requestAnimationFrame(ke):setTimeout(ke);let H=(()=>{var ke;class He{constructor(Ge,dt){(0,T.A)(this,"injector",void 0),(0,T.A)(this,"elementRef",void 0),(0,T.A)(this,"onChange",()=>{}),(0,T.A)(this,"onTouched",()=>{}),(0,T.A)(this,"lastValue",void 0),(0,T.A)(this,"statusChanges",void 0),this.injector=Ge,this.elementRef=dt}writeValue(Ge){this.elementRef.nativeElement.value=this.lastValue=Ge,ie(this.elementRef)}handleValueChange(Ge,dt){Ge===this.elementRef.nativeElement&&(dt!==this.lastValue&&(this.lastValue=dt,this.onChange(dt)),ie(this.elementRef))}_handleBlurEvent(Ge){Ge===this.elementRef.nativeElement&&(this.onTouched(),ie(this.elementRef))}registerOnChange(Ge){this.onChange=Ge}registerOnTouched(Ge){this.onTouched=Ge}setDisabledState(Ge){this.elementRef.nativeElement.disabled=Ge}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let Ge;try{Ge=this.injector.get(j.vO)}catch{}if(!Ge)return;Ge.statusChanges&&(this.statusChanges=Ge.statusChanges.subscribe(()=>ie(this.elementRef)));const dt=Ge.control;dt&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(ar=>{if(typeof dt[ar]<"u"){const _r=dt[ar].bind(dt);dt[ar]=(...Pr)=>{_r(...Pr),ie(this.elementRef)}}})}}return ke=He,(0,T.A)(He,"\u0275fac",function(Ge){return new(Ge||ke)(Qe.rXU(Qe.zZn),Qe.rXU(Qe.aKT))}),(0,T.A)(He,"\u0275dir",Qe.FsC({type:ke,hostBindings:function(Ge,dt){1&Ge&&Qe.bIt("ionBlur",function(ar){return dt._handleBlurEvent(ar.target)})}})),He})();const ie=ke=>{Q(()=>{const He=ke.nativeElement,vt=null!=He.value&&He.value.toString().length>0,Ge=je(He);Ae(He,Ge);const dt=He.closest("ion-item");dt&&Ae(dt,vt?[...Ge,"item-has-value"]:Ge)})},je=ke=>{const He=ke.classList,vt=[];for(let Ge=0;Ge<He.length;Ge++){const dt=He.item(Ge);null!==dt&&it(dt,"ng-")&&vt.push(`ion-${dt.substring(3)}`)}return vt},Ae=(ke,He)=>{const vt=ke.classList;vt.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),vt.add(...He)},it=(ke,He)=>ke.substring(0,He.length)===He;class xt{shouldDetach(He){return!1}shouldAttach(He){return!1}store(He,vt){}retrieve(He){return null}shouldReuseRoute(He,vt){if(He.routeConfig!==vt.routeConfig)return!1;const Ge=He.params,dt=vt.params,Ft=Object.keys(Ge),ar=Object.keys(dt);if(Ft.length!==ar.length)return!1;for(const _r of Ft)if(dt[_r]!==Ge[_r])return!1;return!0}}class fr{constructor(He){(0,T.A)(this,"ctrl",void 0),this.ctrl=He}create(He){return this.ctrl.create(He||{})}dismiss(He,vt,Ge){return this.ctrl.dismiss(He,vt,Ge)}getTop(){return this.ctrl.getTop()}}},5374:(Dr,rr,we)=>{"use strict";we.d(rr,{hG:()=>Vn,hB:()=>D,xk:()=>Z,YH:()=>oe,U1:()=>W,mC:()=>G,el:()=>Ft,In:()=>ue,Jm:()=>j,QW:()=>te,b_:()=>me,I9:()=>xe,ME:()=>Be,HW:()=>qe,tN:()=>ct,eY:()=>ze,ZB:()=>st,hU:()=>lt,W9:()=>Fe,A9:()=>rt,M0:()=>Pt,lO:()=>Wt,eU:()=>$t,iq:()=>cr,$w:()=>hr,uz:()=>lr,Dg:()=>Ht,he:()=>wt,nf:()=>Ot,AF:()=>Xt,T6:()=>yn,Sb:()=>tn,CF:()=>on,KO:()=>Dt,f0:()=>tr,Rg:()=>Ge,ln:()=>z,Nm:()=>O,Ip:()=>B,Jq:()=>ie,qW:()=>je,p4:()=>dt,BC:()=>fr,BY:()=>He,ai:()=>vt,bv:()=>vs,Xi:()=>eo,W3:()=>ko,su:()=>$,Je:()=>L,Gw:()=>P});var M=we(9842),T=we(3953),Qe=we(4341),Et=we(3656),o=we(1635),se=we(3726),V=we(177),v=we(9858),b=we(617),y=we(467),E=we(8393);const i=we(4921).i,l=function(){var ye=(0,y.A)(function*(Ve,ut){if(!(typeof window>"u"))return yield i(),(0,E.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),ut)});return function(ut,Ee){return ye.apply(this,arguments)}}(),a=["*"],u=["outletContent"],h=["outlet"],d=[[["","slot","top"]],"*"],m=["[slot=top]","*"];function f(ye,Ve){if(1&ye&&(T.j41(0,"div",1),T.eu8(1,2),T.k0s()),2&ye){const ut=T.XpG();T.R7$(),T.Y8G("ngTemplateOutlet",ut.template)}}function g(ye,Ve){if(1&ye&&T.eu8(0,1),2&ye){const ut=T.XpG();T.Y8G("ngTemplateOutlet",ut.template)}}let D=(()=>{var ye;class Ve extends Et.fL{constructor(Ee,pt){super(Ee,pt)}writeValue(Ee){this.elementRef.nativeElement.checked=this.lastValue=Ee,(0,Et.z3)(this.elementRef)}_handleIonChange(Ee){this.handleValueChange(Ee,Ee.checked)}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.zZn),T.rXU(T.aKT))}),(0,M.A)(Ve,"\u0275dir",T.FsC({type:ye,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(Ee,pt){1&Ee&&T.bIt("ionChange",function(fn){return pt._handleIonChange(fn.target)})},features:[T.Jv_([{provide:Qe.kq,useExisting:ye,multi:!0}]),T.Vt3]})),Ve})(),$=(()=>{var ye;class Ve extends Et.fL{constructor(Ee,pt){super(Ee,pt),(0,M.A)(this,"el",void 0),this.el=pt}handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}registerOnChange(Ee){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?pt=>{Ee(""===pt?null:parseFloat(pt))}:Ee)}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.zZn),T.rXU(T.aKT))}),(0,M.A)(Ve,"\u0275dir",T.FsC({type:ye,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(Ee,pt){1&Ee&&T.bIt("ionInput",function(fn){return pt.handleInputEvent(fn.target)})},features:[T.Jv_([{provide:Qe.kq,useExisting:ye,multi:!0}]),T.Vt3]})),Ve})(),L=(()=>{var ye;class Ve extends Et.fL{constructor(Ee,pt){super(Ee,pt)}_handleChangeEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.zZn),T.rXU(T.aKT))}),(0,M.A)(Ve,"\u0275dir",T.FsC({type:ye,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(Ee,pt){1&Ee&&T.bIt("ionChange",function(fn){return pt._handleChangeEvent(fn.target)})},features:[T.Jv_([{provide:Qe.kq,useExisting:ye,multi:!0}]),T.Vt3]})),Ve})(),P=(()=>{var ye;class Ve extends Et.fL{constructor(Ee,pt){super(Ee,pt)}_handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.zZn),T.rXU(T.aKT))}),(0,M.A)(Ve,"\u0275dir",T.FsC({type:ye,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(Ee,pt){1&Ee&&T.bIt("ionInput",function(fn){return pt._handleInputEvent(fn.target)})},features:[T.Jv_([{provide:Qe.kq,useExisting:ye,multi:!0}]),T.Vt3]})),Ve})();const x=(ye,Ve)=>{const ut=ye.prototype;Ve.forEach(Ee=>{Object.defineProperty(ut,Ee,{get(){return this.el[Ee]},set(pt){this.z.runOutsideAngular(()=>this.el[Ee]=pt)},configurable:!0})})},U=(ye,Ve)=>{const ut=ye.prototype;Ve.forEach(Ee=>{ut[Ee]=function(){const pt=arguments;return this.z.runOutsideAngular(()=>this.el[Ee].apply(this.el,pt))}})},I=(ye,Ve,ut)=>{ut.forEach(Ee=>ye[Ee]=(0,se.R)(Ve,Ee))};function R(ye){return function(ut){const{defineCustomElementFn:Ee,inputs:pt,methods:Zt}=ye;return void 0!==Ee&&Ee(),pt&&x(ut,pt),Zt&&U(ut,Zt),ut}}let Z=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],Ve),Ve})(),oe=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],Ve),Ve})(),W=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-app"]],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({})],Ve),Ve})(),G=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-avatar"]],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({})],Ve),Ve})(),ue=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","mode"]})],Ve),Ve})(),j=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],Ve),Ve})(),te=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["collapse"]})],Ve),Ve})(),me=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],Ve),Ve})(),xe=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["mode"]})],Ve),Ve})(),Be=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","mode","translucent"]})],Ve),Ve})(),qe=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","mode"]})],Ve),Ve})(),ct=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","mode"]})],Ve),Ve})(),ze=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","mode","name","value"]})],Ve),Ve})(),st=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","disabled","mode","outline"]})],Ve),Ve})(),lt=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],Ve),Ve})(),Fe=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],Ve),Ve})(),rt=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],Ve),Ve})(),Pt=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["collapse","mode","translucent"]})],Ve),Ve})(),Wt=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["fixed"]})],Ve),Ve})(),$t=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["collapse","mode","translucent"]})],Ve),Ve})(),cr=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Ve),Ve})(),hr=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],Ve),Ve})(),lr=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],Ve),Ve})(),Ht=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","mode","sticky"]})],Ve),Ve})(),wt=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","mode","position"]})],Ve),Ve})(),Ot=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],Ve),Ve})(),Xt=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","lines","mode"]})],Ve),Ve})(),Dt=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],Ve),Ve})(),tr=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["allowEmptySelection","compareWith","name","value"]})],Ve),Ve})(),z=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-row"]],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({})],Ve),Ve})(),O=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],Ve),Ve})(),B=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["disabled","value"]})],Ve),Ve})(),ie=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","mode","selectedTab","translucent"]})],Ve),Ve})(),je=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],Ve),Ve})(),fr=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","size"]})],Ve),Ve})(),He=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement,I(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","mode","name","value"]})],Ve),Ve})(),vt=(()=>{var ye;let Ve=((0,M.A)(ye=class{constructor(Ee,pt,Zt){(0,M.A)(this,"z",void 0),(0,M.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=pt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(T.gRc),T.rXU(T.aKT),T.rXU(T.SKi))}),(0,M.A)(ye,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),ye);return Ve=(0,o.Cg)([R({inputs:["color","mode"]})],Ve),Ve})(),Ge=(()=>{var ye;class Ve extends Et.Rg{constructor(Ee,pt,Zt,fn,Gn,mo,ts,Yo){super(Ee,pt,Zt,fn,Gn,mo,ts,Yo),(0,M.A)(this,"parentOutlet",void 0),(0,M.A)(this,"outletContent",void 0),this.parentOutlet=Yo}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)(T.kS0("name"),T.kS0("tabs"),T.rXU(V.aZ),T.rXU(T.aKT),T.rXU(v.Ix),T.rXU(T.SKi),T.rXU(v.nX),T.rXU(ye,12))}),(0,M.A)(Ve,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-router-outlet"]],viewQuery:function(Ee,pt){if(1&Ee&&T.GBs(u,7,T.c1b),2&Ee){let Zt;T.mGM(Zt=T.lsd())&&(pt.outletContent=Zt.first)}},features:[T.Vt3],ngContentSelectors:a,decls:3,vars:0,consts:[["outletContent",""]],template:function(Ee,pt){1&Ee&&(T.NAR(),T.qex(0,null,0),T.SdG(2),T.bVm())},encapsulation:2})),Ve})(),dt=(()=>{var ye;class Ve extends Et.p4{constructor(...Ee){super(...Ee),(0,M.A)(this,"outlet",void 0),(0,M.A)(this,"tabBar",void 0),(0,M.A)(this,"tabBars",void 0)}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",(()=>{let ut;return function(pt){return(ut||(ut=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ve,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-tabs"]],contentQueries:function(Ee,pt,Zt){if(1&Ee&&(T.wni(Zt,ie,5),T.wni(Zt,ie,4)),2&Ee){let fn;T.mGM(fn=T.lsd())&&(pt.tabBar=fn.first),T.mGM(fn=T.lsd())&&(pt.tabBars=fn)}},viewQuery:function(Ee,pt){if(1&Ee&&T.GBs(h,5,Ge),2&Ee){let Zt;T.mGM(Zt=T.lsd())&&(pt.outlet=Zt.first)}},features:[T.Vt3],ngContentSelectors:m,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(Ee,pt){if(1&Ee){const Zt=T.RV6();T.NAR(d),T.SdG(0),T.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),T.bIt("stackWillChange",function(Gn){return T.eBV(Zt),T.Njj(pt.onStackWillChange(Gn))})("stackDidChange",function(Gn){return T.eBV(Zt),T.Njj(pt.onStackDidChange(Gn))}),T.k0s()(),T.SdG(5,1)}},dependencies:[Ge],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),Ve})(),Ft=(()=>{var ye;class Ve extends Et.el{constructor(Ee,pt,Zt,fn,Gn,mo){super(Ee,pt,Zt,fn,Gn,mo)}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)(T.rXU(Ge,8),T.rXU(Et.q9),T.rXU(Et.TS),T.rXU(T.aKT),T.rXU(T.SKi),T.rXU(T.gRc))}),(0,M.A)(Ve,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-back-button"]],features:[T.Vt3],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,pt){1&Ee&&(T.NAR(),T.SdG(0))},encapsulation:2,changeDetection:0})),Ve})(),tn=(()=>{var ye;class Ve extends Et.Sb{}return ye=Ve,(0,M.A)(Ve,"\u0275fac",(()=>{let ut;return function(pt){return(ut||(ut=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ve,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-modal"]],features:[T.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(Ee,pt){1&Ee&&T.DNE(0,f,2,1,"div",0),2&Ee&&T.Y8G("ngIf",pt.isCmpOpen||pt.keepContentsMounted)},dependencies:[V.bT,V.T3],encapsulation:2,changeDetection:0})),Ve})(),on=(()=>{var ye;class Ve extends Et.CF{}return ye=Ve,(0,M.A)(Ve,"\u0275fac",(()=>{let ut;return function(pt){return(ut||(ut=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ve,"\u0275cmp",T.VBU({type:ye,selectors:[["ion-popover"]],features:[T.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(Ee,pt){1&Ee&&T.DNE(0,g,1,1,"ng-container",0),2&Ee&&T.Y8G("ngIf",pt.isCmpOpen||pt.keepContentsMounted)},dependencies:[V.bT,V.T3],encapsulation:2,changeDetection:0})),Ve})();const Nn={provide:Qe.cz,useExisting:(0,T.Rfq)(()=>Dn),multi:!0};let Dn=(()=>{var ye;class Ve extends Qe.zX{}return ye=Ve,(0,M.A)(Ve,"\u0275fac",(()=>{let ut;return function(pt){return(ut||(ut=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ve,"\u0275dir",T.FsC({type:ye,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ee,pt){2&Ee&&T.BMQ("max",pt._enabled?pt.max:null)},features:[T.Jv_([Nn]),T.Vt3]})),Ve})();const Kr={provide:Qe.cz,useExisting:(0,T.Rfq)(()=>yn),multi:!0};let yn=(()=>{var ye;class Ve extends Qe.VZ{}return ye=Ve,(0,M.A)(Ve,"\u0275fac",(()=>{let ut;return function(pt){return(ut||(ut=T.xGo(ye)))(pt||ye)}})()),(0,M.A)(Ve,"\u0275dir",T.FsC({type:ye,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ee,pt){2&Ee&&T.BMQ("min",pt._enabled?pt.min:null)},features:[T.Jv_([Kr]),T.Vt3]})),Ve})(),Vn=(()=>{var ye;class Ve extends Et.Kb{constructor(){super(b.TN)}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(Ve,"\u0275prov",T.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),Ve})(),eo=(()=>{var ye;class Ve extends Et.Kb{constructor(){super(b.FJ)}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(Ve,"\u0275prov",T.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),Ve})(),ko=(()=>{var ye;class Ve extends Et.Kb{constructor(){super(b.OZ),(0,M.A)(this,"angularDelegate",(0,T.WQX)(Et.Yq)),(0,M.A)(this,"injector",(0,T.WQX)(T.zZn)),(0,M.A)(this,"environmentInjector",(0,T.WQX)(T.uvJ))}create(Ee){return super.create({...Ee,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(Ve,"\u0275prov",T.jDH({token:ye,factory:ye.\u0275fac})),Ve})();class $o extends Et.Kb{constructor(){super(b.mF),(0,M.A)(this,"angularDelegate",(0,T.WQX)(Et.Yq)),(0,M.A)(this,"injector",(0,T.WQX)(T.zZn)),(0,M.A)(this,"environmentInjector",(0,T.WQX)(T.uvJ))}create(Ve){return super.create({...Ve,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Vo=(ye,Ve,ut)=>()=>{const Ee=Ve.defaultView;if(Ee&&typeof window<"u"){(0,b.QX)({...ye,_zoneGate:Zt=>ut.run(Zt)});const pt="__zone_symbol__addEventListener"in Ve.body?"__zone_symbol__addEventListener":"addEventListener";return function p(){var ye=[];if(typeof window<"u"){var Ve=window;(!Ve.customElements||Ve.Element&&(!Ve.Element.prototype.closest||!Ve.Element.prototype.matches||!Ve.Element.prototype.remove||!Ve.Element.prototype.getRootNode))&&ye.push(we.e(7278).then(we.t.bind(we,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Ve.NodeList&&!Ve.NodeList.prototype.forEach||!Ve.fetch||!function(){try{var Ee=new URL("b","http://a");return Ee.pathname="c%20d","http://a/c%20d"===Ee.href&&Ee.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&ye.push(we.e(9329).then(we.t.bind(we,7783,23)))}return Promise.all(ye)}().then(()=>l(Ee,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Et.er,jmp:Zt=>ut.runOutsideAngular(Zt),ael(Zt,fn,Gn,mo){Zt[pt](fn,Gn,mo)},rel(Zt,fn,Gn,mo){Zt.removeEventListener(fn,Gn,mo)}}))}};let vs=(()=>{var ye;class Ve{static forRoot(Ee={}){return{ngModule:Ve,providers:[{provide:Et.sR,useValue:Ee},{provide:T.hnV,useFactory:Vo,multi:!0,deps:[Et.sR,V.qQ,T.SKi]},Et.Yq,(0,Et.YV)()]}}}return ye=Ve,(0,M.A)(Ve,"\u0275fac",function(Ee){return new(Ee||ye)}),(0,M.A)(Ve,"\u0275mod",T.$C({type:ye})),(0,M.A)(Ve,"\u0275inj",T.G2t({providers:[ko,$o],imports:[V.MD]})),Ve})()},467:(Dr,rr,we)=>{"use strict";function M(Qe,Et,o,se,V,v,b){try{var p=Qe[v](b),y=p.value}catch(E){return void o(E)}p.done?Et(y):Promise.resolve(y).then(se,V)}function T(Qe){return function(){var Et=this,o=arguments;return new Promise(function(se,V){var v=Qe.apply(Et,o);function b(y){M(v,se,V,b,p,"next",y)}function p(y){M(v,se,V,b,p,"throw",y)}b(void 0)})}}we.d(rr,{A:()=>T})},9842:(Dr,rr,we)=>{"use strict";function M(o){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se})(o)}function Et(o,se,V){return(se=function Qe(o){var se=function T(o,se){if("object"!=M(o)||!o)return o;var V=o[Symbol.toPrimitive];if(void 0!==V){var v=V.call(o,se||"default");if("object"!=M(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===se?String:Number)(o)}(o,"string");return"symbol"==M(se)?se:se+""}(se))in o?Object.defineProperty(o,se,{value:V,enumerable:!0,configurable:!0,writable:!0}):o[se]=V,o}we.d(rr,{A:()=>Et})},1635:(Dr,rr,we)=>{"use strict";function o(W,G,K,ue){var j,Me=arguments.length,Y=Me<3?G:null===ue?ue=Object.getOwnPropertyDescriptor(G,K):ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(W,G,K,ue);else for(var te=W.length-1;te>=0;te--)(j=W[te])&&(Y=(Me<3?j(Y):Me>3?j(G,K,Y):j(G,K))||Y);return Me>3&&Y&&Object.defineProperty(G,K,Y),Y}function E(W,G,K,ue){return new(K||(K=Promise))(function(Y,j){function te(Be){try{xe(ue.next(Be))}catch(qe){j(qe)}}function me(Be){try{xe(ue.throw(Be))}catch(qe){j(qe)}}function xe(Be){Be.done?Y(Be.value):function Me(Y){return Y instanceof K?Y:new K(function(j){j(Y)})}(Be.value).then(te,me)}xe((ue=ue.apply(W,G||[])).next())})}function f(W){return this instanceof f?(this.v=W,this):new f(W)}function g(W,G,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ue=K.apply(W,G||[]),Y=[];return Me={},te("next"),te("throw"),te("return",function j(ze){return function(st){return Promise.resolve(st).then(ze,qe)}}),Me[Symbol.asyncIterator]=function(){return this},Me;function te(ze,st){ue[ze]&&(Me[ze]=function(lt){return new Promise(function(Fe,rt){Y.push([ze,lt,Fe,rt])>1||me(ze,lt)})},st&&(Me[ze]=st(Me[ze])))}function me(ze,st){try{!function xe(ze){ze.value instanceof f?Promise.resolve(ze.value.v).then(Be,qe):ct(Y[0][2],ze)}(ue[ze](st))}catch(lt){ct(Y[0][3],lt)}}function Be(ze){me("next",ze)}function qe(ze){me("throw",ze)}function ct(ze,st){ze(st),Y.shift(),Y.length&&me(Y[0][0],Y[0][1])}}function $(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,G=W[Symbol.asyncIterator];return G?G.call(W):(W=function a(W){var G="function"==typeof Symbol&&Symbol.iterator,K=G&&W[G],ue=0;if(K)return K.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ue>=W.length&&(W=void 0),{value:W&&W[ue++],done:!W}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),K={},ue("next"),ue("throw"),ue("return"),K[Symbol.asyncIterator]=function(){return this},K);function ue(Y){K[Y]=W[Y]&&function(j){return new Promise(function(te,me){!function Me(Y,j,te,me){Promise.resolve(me).then(function(xe){Y({value:xe,done:te})},j)}(te,me,(j=W[Y](j)).done,j.value)})}}}we.d(rr,{AQ:()=>g,Cg:()=>o,N3:()=>f,sH:()=>E,xN:()=>$}),"function"==typeof SuppressedError&&SuppressedError}},Dr=>{Dr(Dr.s=3419)}]);