"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3627],{6069:(S,v,o)=>{o.d(v,{R:()=>O});var e=o(9863),c=o(3996),g=o(5742),Z=o(9912),x=o(4182),f=o(9808);function P(r,d){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",a.text," ")}}function T(r,d){if(1&r&&(e.TgZ(0,"a",7),e._uU(1),e.qZA()),2&r){const a=e.oxw().$implicit;e.Q6J("href",a.text,e.LSH),e.xp6(1),e.Oqu(a.text)}}function A(r,d){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,P,2,1,"span",5),e.YNc(2,T,2,2,"a",6),e.qZA()),2&r){const a=d.$implicit;e.xp6(1),e.Q6J("ngIf",!a.href),e.xp6(1),e.Q6J("ngIf",a.href)}}function t(r,d){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,A,3,2,"span",4),e.qZA()),2&r){const a=d.$implicit;e.xp6(1),e.Q6J("ngForOf",a)}}let O=(()=>{class r{constructor(a,u,_,p){this.navParams=a,this.modalCtrl=u,this.lang=_,this.nakama=p,this.info="QR\ucf54\ub4dc \ub610\ub294 \ubc14\ucf54\ub4dc\ub97c \uc778\uc2dd\ud558\uc600\uc73c\ub098 \uc774 \uc571\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uad6c\uc131\uc774 \uc544\ub2d9\ub2c8\ub2e4.",this.result={}}ngOnInit(){this.result=this.navParams.get("result"),this.result.text=this.result.text.split("\n");for(let a=0,u=this.result.text.length;a<u;a++){this.result.text[a]=this.result.text[a].split(" ");for(let _=0,p=this.result.text[a].length;_<p;_++){let b={};b.href=0==this.result.text[a][_].indexOf("http://")||0==this.result.text[a][_].indexOf("https://"),b.text=this.result.text[a][_],this.result.text[a][_]=b}}this.nakama.removeBanner()}}return r.\u0275fac=function(a){return new(a||r)(e.Y36(c.X1),e.Y36(c.IN),e.Y36(g.b),e.Y36(Z.a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-qrelse"]],decls:23,vars:6,consts:[["slot","start",3,"click"],["defaultHref","subscribes"],["disabled","",1,"infobox",3,"ngModel","ngModelChange"],[1,"infobox","content_form"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_system",3,"href",4,"ngIf"],["target","_system",3,"href"]],template:function(a,u){1&a&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"\ub0b4\uc6a9 \uc77d\uae30"),e.qZA(),e.TgZ(4,"ion-buttons",0),e.NdJ("click",function(){return u.modalCtrl.dismiss()}),e._UZ(5,"ion-back-button",1),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),e._uU(9),e.qZA()(),e.TgZ(10,"textarea",2),e.NdJ("ngModelChange",function(p){return u.lang.text.QRElse.info=p}),e.qZA(),e._UZ(11,"ion-item-divider"),e.TgZ(12,"ion-item")(13,"ion-label")(14,"p"),e._uU(15),e.qZA(),e.TgZ(16,"h2"),e._uU(17),e.qZA()()(),e.TgZ(18,"ion-item-divider")(19,"ion-label"),e._uU(20),e.qZA()(),e.TgZ(21,"div",3),e.YNc(22,t,2,1,"div",4),e.qZA()()),2&a&&(e.xp6(9),e.Oqu(u.lang.text.QRElse.Title),e.xp6(1),e.Q6J("ngModel",u.lang.text.QRElse.info),e.xp6(5),e.Oqu(u.lang.text.QRElse.format),e.xp6(2),e.Oqu(u.result.format),e.xp6(3),e.Oqu(u.lang.text.QRElse.contents),e.xp6(2),e.Q6J("ngForOf",u.result.text))},directives:[c.Gu,c.sr,c.wd,c.Sm,c.oU,c.cs,c.W2,c.rH,c.Q$,x.Fj,x.JJ,x.On,c.Ie,f.sg,f.O5],styles:[".content_form[_ngcontent-%COMP%]{background-color:var(--ion-color-light);overflow-y:auto}"]}),r})()},3627:(S,v,o)=>{o.r(v),o.d(v,{SubscribesPageModule:()=>Y});var e=o(9808),c=o(4182),g=o(3996),Z=o(9705),x=o(655),f=o(5016),P=o(6638),T=o(4896),A=o(6069),t=o(9863),O=o(9645),r=o(3336),d=o(9912),a=o(4606),u=o(5742),_=o(1282);function p(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"ion-item",3),t.NdJ("click",function(){t.CHM(n);const m=t.oxw().$implicit;return t.oxw(2).check_notifications(m)}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&i){const n=t.oxw().$implicit,s=t.oxw(2);t.xp6(2),t.Oqu(s.nakama.notifications_rearrange[n].request)}}function b(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,p,3,1,"ion-item",11),t.qZA()),2&i){const n=l.$implicit,s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s.nakama.notifications_rearrange.length>n)}}const Q=function(){return[0,1,2]};function M(i,l){if(1&i&&(t.TgZ(0,"ion-accordion-group",5,6)(2,"ion-accordion",7)(3,"ion-item",8)(4,"ion-label"),t._uU(5),t.qZA()(),t.TgZ(6,"ion-list",9),t.YNc(7,b,2,1,"div",10),t.qZA()()()),2&i){const n=t.oxw();t.Q6J("value",!1),t.xp6(5),t.Oqu(n.lang.text.Subscribes.has_noties),t.xp6(2),t.Q6J("ngForOf",t.DdM(3,Q))}}function R(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-item",3),t.NdJ("click",function(){return t.CHM(n),t.oxw().scanQRCode()}),t.TgZ(5,"ion-label",4),t._uU(6),t.qZA()()()}if(2&i){const n=t.oxw();t.xp6(3),t.Oqu(n.lang.text.Subscribes.almighty_link),t.xp6(3),t.Oqu(n.lang.text.Subscribes.almighty_button)}}function E(i,l){1&i&&t._UZ(0,"div",20)}function U(i,l){if(1&i&&t._UZ(0,"img",21),2&i){const n=t.oxw().$implicit;t.Akn("online"==n.status||3==n.redirect.type&&"pending"==n.status?"filter: grayscale(0) contrast(1)":"filter: grayscale(.9) contrast(1.4)"),t.Q6J("src",n.info.img,t.LSH)}}function k(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"ion-item",3),t.NdJ("click",function(){const h=t.CHM(n).$implicit;return t.oxw(2).go_to_chatroom(h)}),t.TgZ(1,"div",13),t.YNc(2,E,1,0,"div",14),t.qZA(),t.TgZ(3,"div",15),t.YNc(4,U,1,3,"img",16),t.qZA(),t.TgZ(5,"ion-label")(6,"div",17)(7,"table")(8,"tr")(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",18),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",19),t._uU(14),t.qZA()()()}if(2&i){const n=l.$implicit,s=t.oxw(2);t.xp6(1),t.Akn("background-color: "+s.statusBar.colors[(n.status?n.status:n.info.status)||"offline"]),t.xp6(1),t.Q6J("ngIf",n.is_new),t.xp6(2),t.Q6J("ngIf",n.info),t.xp6(6),t.hij(" ",n.info?n.info.name||n.info.display_name||s.lang.text.ChatRoom.noname_chatroom:n.title||s.lang.text.ChatRoom.noname_chatroom," "),t.xp6(2),t.hij(" ","("+(n.server.name||n.server.target)+")"," "),t.xp6(2),t.hij(" ",n.last_comment||n.noti||s.lang.text.Subscribes.noMessageHistory," ")}}function I(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,k,15,7,"ion-item",12),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.nakama.channels)}}const y=[{path:"",component:(()=>{class i{constructor(n,s,m,h,C,N,B){this.modalCtrl=n,this.codescan=s,this.p5toast=m,this.nakama=h,this.statusBar=C,this.lang=N,this.global=B,this.cant_scan=!1,this.lock_chatroom=!1}ngOnInit(){("DesktopPWA"==f.n$||"MobilePWA"==f.n$)&&(this.cant_scan=!0)}ionViewDidEnter(){this.nakama.subscribe_lock=!0,this.nakama.resumeBanner()}scanQRCode(){this.codescan.scan({disableSuccessBeep:!0,disableAnimations:!0,resultDisplayDuration:0}).then(n=>(0,x.mG)(this,void 0,void 0,function*(){if(!n.cancelled)try{if(0!=n.text.trim().indexOf(`${f.Oy}pjcone_pwa/?`))throw"\uc8fc\uc18c \uc2dc\uc791\uc774 \ub2e4\ub984";yield this.nakama.AddressToQRCodeAct(this.global.CatchGETs(n.text.trim()))}catch(s){console.log("scanQRCode_failed: ",s),this.modalCtrl.create({component:A.R,componentProps:{result:n}}).then(m=>m.present())}})).catch(n=>{console.log(n),this.p5toast.show({text:this.lang.text.Subscribes.CameraPermissionDenied})})}go_to_chatroom(n){this.lock_chatroom||(this.lock_chatroom=!0,this.nakama.go_to_chatroom_without_admob_act(n),("online"!=n.status||"pending"!=n.status)&&delete n.is_new,this.lock_chatroom=!1)}check_notifications(n){let s=this.nakama.notifications_rearrange[n].server;this.nakama.check_notifications(this.nakama.notifications_rearrange[n],s.isOfficial,s.target)}add_new_group(){this.nakama.get_all_server_info(!0,!0).length?this.modalCtrl.create({component:P.B}).then(s=>s.present()):this.modalCtrl.create({component:T.Y}).then(s=>{this.p5toast.show({text:this.lang.text.Subscribes.Disconnected}),s.present()})}ionViewWillLeave(){this.nakama.subscribe_lock=!1}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(g.IN),t.Y36(O.m),t.Y36(r.F),t.Y36(d.a),t.Y36(a.g),t.Y36(u.b),t.Y36(_.AN))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-subscribes"]],decls:15,vars:8,consts:[[1,"header_online_circle"],["value","colors","expand","inset",3,"value",4,"ngIf"],[4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["value","colors","expand","inset",3,"value"],["accordionGroup",""],["value","colors"],["slot","header"],["slot","content"],[4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],[1,"additional_form","status_bar_double"],["class","new_circle",4,"ngIf"],[1,"additional_form","bg_img_form"],["class","profile_img",3,"style","src",4,"ngIf"],[1,"form_margin","header"],[1,"server_target"],[1,"form_margin","content"],[1,"new_circle"],[1,"profile_img",3,"src"]],template:function(n,s){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA(),t._UZ(4,"div",0),t.qZA()(),t.TgZ(5,"ion-content"),t.YNc(6,M,8,4,"ion-accordion-group",1),t.YNc(7,R,7,2,"div",2),t.TgZ(8,"ion-item-divider")(9,"ion-label"),t._uU(10),t.qZA()(),t.YNc(11,I,2,1,"div",2),t.TgZ(12,"ion-item",3),t.NdJ("click",function(){return s.add_new_group()}),t.TgZ(13,"ion-label",4),t._uU(14),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(s.lang.text.Subscribes.Title),t.xp6(1),t.Akn("background-color: "+s.statusBar.colors[s.statusBar.settings.groupServer]),t.xp6(2),t.Q6J("ngIf",s.nakama.notifications_rearrange.length),t.xp6(1),t.Q6J("ngIf",!s.cant_scan),t.xp6(3),t.Oqu(s.lang.text.Subscribes.Chat),t.xp6(1),t.Q6J("ngIf",s.nakama.channels.length),t.xp6(3),t.Oqu(s.lang.text.Subscribes.AddGroup))},directives:[g.Gu,g.sr,g.wd,g.W2,e.O5,g.eh,g.We,g.Ie,g.Q$,g.q_,e.sg,g.rH],styles:[".header[_ngcontent-%COMP%]{padding-bottom:4px}.content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle;padding:0 16px}.status_bar[_ngcontent-%COMP%]{width:5px;height:76%}.server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}.new_circle[_ngcontent-%COMP%]{position:relative;top:-5px;left:9px;width:8px;height:8px;border-radius:4px;background:#ff4961}"]}),i})()},{path:"chat-room",loadChildren:()=>Promise.all([o.e(774),o.e(8592),o.e(3875)]).then(o.bind(o,3875)).then(i=>i.ChatRoomPageModule)},{path:"qrelse",loadChildren:()=>o.e(1388).then(o.bind(o,1388)).then(i=>i.QRelsePageModule)}];let J=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(y)],Z.Bz]}),i})(),Y=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[e.ez,c.u5,g.Pc,J]]}),i})()}}]);