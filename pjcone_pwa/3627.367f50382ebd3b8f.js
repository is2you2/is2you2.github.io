"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3627],{3627:(N,g,o)=>{o.r(g),o.d(g,{SubscribesPageModule:()=>Y});var l=o(9808),_=o(4182),s=o(3996),u=o(9705),m=o(5016),f=o(3041),h=o(6069),t=o(9863),b=o(9645),p=o(3336),x=o(261),v=o(4606),P=o(5742);function S(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"ion-item",10),t.NdJ("click",function(){t.CHM(n);const c=t.oxw().$implicit;return t.oxw(2).check_notifications(c)}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA()()}if(2&i){const n=t.oxw().$implicit,e=t.oxw(2);t.xp6(2),t.Oqu(e.nakama.notifications_rearrange[n].request)}}function Z(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,S,3,1,"ion-item",9),t.qZA()),2&i){const n=a.$implicit,e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.nakama.notifications_rearrange.length>n)}}const T=function(){return[0,1,2]};function C(i,a){if(1&i&&(t.TgZ(0,"ion-accordion-group",3,4)(2,"ion-accordion",5)(3,"ion-item",6)(4,"ion-label"),t._uU(5),t.qZA()(),t.TgZ(6,"ion-list",7),t.YNc(7,Z,2,1,"div",8),t.qZA()()()),2&i){const n=t.oxw();t.Q6J("value",!1),t.xp6(5),t.Oqu(n.lang.text.Subscribes.has_noties),t.xp6(2),t.Q6J("ngForOf",t.DdM(3,T))}}function k(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-item",10),t.NdJ("click",function(){return t.CHM(n),t.oxw().scanQRCode()}),t.TgZ(5,"ion-label",11),t._uU(6),t.qZA()()()}if(2&i){const n=t.oxw();t.xp6(3),t.Oqu(n.lang.text.Subscribes.almighty_link),t.xp6(3),t.Oqu(n.lang.text.Subscribes.almighty_button)}}function A(i,a){if(1&i&&(t.TgZ(0,"ion-item",12)(1,"ion-label"),t._uU(2),t.qZA()()),2&i){const n=t.oxw();t.xp6(2),t.Oqu(n.lang.text.Subscribes.noChatList)}}function M(i,a){1&i&&t._UZ(0,"div",21)}function O(i,a){if(1&i&&t._UZ(0,"img",22),2&i){const n=t.oxw().$implicit;t.Akn("online"==n.status?"filter: grayscale(0) contrast(1)":"filter: grayscale(.9) contrast(1.4)"),t.Q6J("src",n.info.img,t.LSH)}}function y(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"ion-item",10),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw(2).go_to_chatroom(r)}),t.TgZ(1,"div",14),t.YNc(2,M,1,0,"div",15),t.qZA(),t.TgZ(3,"div",16),t.YNc(4,O,1,3,"img",17),t.qZA(),t.TgZ(5,"ion-label")(6,"div",18)(7,"table")(8,"tr")(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",19),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",20),t._uU(14),t.qZA()()()}if(2&i){const n=a.$implicit,e=t.oxw(2);t.xp6(1),t.Akn("background-color: "+e.statusBar.colors[n.status||"offline"]),t.xp6(1),t.Q6J("ngIf",n.is_new),t.xp6(2),t.Q6J("ngIf",n.info),t.xp6(6),t.hij(" ",n.info?n.info.name||n.info.display_name||e.lang.text.Subscribes.noTitiedChat:n.title||e.lang.text.Subscribes.noTitiedChat," "),t.xp6(2),t.hij(" ","("+n.server.target+")"," "),t.xp6(2),t.hij(" ",n.last_comment||n.noti||e.lang.text.Subscribes.noMessageHistory," ")}}function I(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,y,15,7,"ion-item",13),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.nakama.channels)}}const Q=[{path:"",component:(()=>{class i{constructor(n,e,c,r,d,F){this.modalCtrl=n,this.codescan=e,this.p5toast=c,this.nakama=r,this.statusBar=d,this.lang=F,this.cant_scan=!1,this.lock_chatroom=!1}ngOnInit(){("DesktopPWA"==m.n$||"MobilePWA"==m.n$)&&(this.cant_scan=!0)}ionViewDidEnter(){this.nakama.subscribe_lock=!0,this.nakama.resumeBanner()}scanQRCode(){this.codescan.scan({disableSuccessBeep:!0,disableAnimations:!0,resultDisplayDuration:0}).then(n=>{if(!n.cancelled)try{this.nakama.act_from_QRInfo(n.text.trim())}catch(e){console.error("scanQRCode_failed: ",e),this.modalCtrl.create({component:h.R,componentProps:{result:n}}).then(c=>c.present())}}).catch(n=>{console.error(n),this.p5toast.show({text:this.lang.text.Subscribes.CameraPermissionDenied})})}go_to_chatroom(n){this.lock_chatroom||(this.lock_chatroom=!0,this.modalCtrl.create({component:f.P,componentProps:{info:n}}).then(e=>{this.nakama.go_to_chatroom_without_admob_act(e),("online"!=n.status||"pending"!=n.status)&&delete n.is_new,this.nakama.rearrange_channels(),this.lock_chatroom=!1}))}check_notifications(n){let e=this.nakama.notifications_rearrange[n].server;this.nakama.check_notifications(this.nakama.notifications_rearrange[n],e.isOfficial,e.target)}ionViewWillLeave(){this.nakama.subscribe_lock=!1}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(s.IN),t.Y36(b.m),t.Y36(p.F),t.Y36(x.a),t.Y36(v.g),t.Y36(P.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-subscribes"]],decls:12,vars:6,consts:[["value","colors","expand","inset",3,"value",4,"ngIf"],[4,"ngIf"],["button","","disabled","",4,"ngIf"],["value","colors","expand","inset",3,"value"],["accordionGroup",""],["value","colors"],["slot","header"],["slot","content"],[4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["button","","disabled",""],["button","",3,"click",4,"ngFor","ngForOf"],[1,"additional_form","status_bar_double"],["class","new_circle",4,"ngIf"],[1,"additional_form","bg_img_form"],["class","profile_img",3,"style","src",4,"ngIf"],[1,"form_margin","header"],[1,"server_target"],[1,"form_margin","content"],[1,"new_circle"],[1,"profile_img",3,"src"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA()()(),t.TgZ(4,"ion-content"),t.YNc(5,C,8,4,"ion-accordion-group",0),t.YNc(6,k,7,2,"div",1),t.TgZ(7,"ion-item-divider")(8,"ion-label"),t._uU(9),t.qZA()(),t.YNc(10,A,3,1,"ion-item",2),t.YNc(11,I,2,1,"div",1),t.qZA()),2&n&&(t.xp6(3),t.Oqu(e.lang.text.Subscribes.Title),t.xp6(2),t.Q6J("ngIf",e.nakama.notifications_rearrange.length),t.xp6(1),t.Q6J("ngIf",!e.cant_scan),t.xp6(3),t.Oqu(e.lang.text.Subscribes.Chat),t.xp6(1),t.Q6J("ngIf",!e.nakama.channels.length),t.xp6(1),t.Q6J("ngIf",e.nakama.channels.length))},directives:[s.Gu,s.sr,s.wd,s.W2,l.O5,s.eh,s.We,s.Ie,s.Q$,s.q_,l.sg,s.rH],styles:[".header[_ngcontent-%COMP%]{padding-bottom:4px}.content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle;padding:0 16px}.status_bar[_ngcontent-%COMP%]{width:5px;height:76%}.server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}.new_circle[_ngcontent-%COMP%]{position:relative;top:-5px;left:9px;width:8px;height:8px;border-radius:4px;background:#ff4961}"]}),i})()},{path:"chat-room",loadChildren:()=>o.e(9340).then(o.bind(o,9340)).then(i=>i.ChatRoomPageModule)},{path:"qrelse",loadChildren:()=>o.e(1388).then(o.bind(o,1388)).then(i=>i.QRelsePageModule)}];let J=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.Bz.forChild(Q)],u.Bz]}),i})(),Y=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez,_.u5,s.Pc,J]]}),i})()}}]);